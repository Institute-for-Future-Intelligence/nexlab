const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BvCuR_8h.js","assets/vendor-BFl3bqVE.js","assets/index-CZYWMsg6.js","assets/MaterialImportWrapper-CB99VemI.js","assets/ui-ySD7tZ62.js","assets/firebase-DpGenoA-.js","assets/index.es-P0kud4Ks.js","assets/index-CDKSgNNr.js","assets/index-DM7OAbyJ.js","assets/Edit-CrKHcnAM.js","assets/purify.es-CQJ0hv7W.js","assets/SupplementalMaterials-D5YJnfWV.js","assets/MessagesPage-fzInNSK3.js"])))=>i.map(i=>d[i]);
var $9=Object.defineProperty;var H9=(e,n,t)=>n in e?$9(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var Ze=(e,n,t)=>H9(e,typeof n!="symbol"?n+"":n,t);import{s as Mc,r as X,R as y6,j as f,C as Gr,B as ge,P as fn,T as ce,a as mt,b as WN,u as W9,c as Hd,d as Wd,e as VN,G as vt,f as Xa,g as Za,Q as V9,h as Y9,A as zw,M as YN,i as Fd,L as x6,k as it,I as Cn,D as Xi,l as pa,m as Zi,n as Fl,o as ma,S as G9,p as bu,q as ts,t as Uf,v as Cd,w as Il,x as Bt,y as I0,z as si,E as vu,F as ag,H as Vo,J as sg,K as Q9,N as Dn,O as Ed,U as v6,V as rl,W as vr,X as K9,Y as GN,Z as X9,_ as Zn,$ as Z9,a0 as gs,a1 as J9,a2 as G0,a3 as w6,a4 as Q0,a5 as eR,a6 as Xo,a7 as tR,a8 as qw,a9 as nR,aa as S6,ab as Jr,ac as A6,ad as HE,ae as rR,af as vx,ag as iR,ah as aR,ai as Fc,aj as Pc,ak as Rl,al as sR,am as Eu,an as _u,ao as ku,ap as Fi,aq as ft,ar as ju,as as oR,at as Nd,au as Td,av as _d,aw as kd,ax as lR,ay as jd,az as uR,aA as cR,aB as dR,aC as C6,aD as og,aE as fR,aF as hR,aG as pR,aH as wx,aI as Rg,aJ as mR,aK as gR,aL as bR,aM as yR,aN as pu,aO as pc,aP as QN,aQ as Sx,aR as xR,aS as KN,aT as zc,aU as vR,aV as XN,aW as wR,aX as Bw,aY as SR,aZ as ZN,a_ as Uw,a$ as AR,b0 as JN,b1 as CR,b2 as WE,b3 as ER,b4 as $w,b5 as _R,b6 as kR,b7 as a1,b8 as Wy,b9 as jR,ba as NR,bb as VE,bc as TR,bd as YE,be as eT,bf as OR,bg as Sn,bh as tT,bi as nT,bj as rT,bk as iT,bl as aT,bm as sT,bn as IR,bo as DR,bp as LR,bq as RR,br as MR,bs as FR}from"./ui-ySD7tZ62.js";import{r as PR,b as zR,g as ns,a as qR}from"./vendor-BFl3bqVE.js";import{g as BR,G as UR,o as $R,b as HR,a as WR,s as VR,c as YR,d as GR,P as Jn,e as xn,f as Oa,h as Qf,m as oT,i as Wr,I as QR,j as KR,k as uh,r as xu,u as Kf,l as Od,n as lT,p as Ma,_ as wn,q as Ja,y as E6,t as mi,K as XR,W as _6,R as nl,v as Si,Q as ZR,x as nv,w as rv}from"./firebase-DpGenoA-.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var b5={exports:{}},s1={},y5={exports:{}},x5={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GE;function JR(){return GE||(GE=1,function(e){function n(H,G){var ee=H.length;H.push(G);e:for(;0<ee;){var le=ee-1>>>1,Y=H[le];if(0<i(Y,G))H[le]=G,H[ee]=Y,ee=le;else break e}}function t(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var G=H[0],ee=H.pop();if(ee!==G){H[0]=ee;e:for(var le=0,Y=H.length,te=Y>>>1;le<te;){var U=2*(le+1)-1,B=H[U],re=U+1,Z=H[re];if(0>i(B,ee))re<Y&&0>i(Z,B)?(H[le]=Z,H[re]=ee,le=re):(H[le]=B,H[U]=ee,le=U);else if(re<Y&&0>i(Z,ee))H[le]=Z,H[re]=ee,le=re;else break e}}return G}function i(H,G){var ee=H.sortIndex-G.sortIndex;return ee!==0?ee:H.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],d=[],h=1,g=null,b=3,m=!1,x=!1,y=!1,A=!1,w=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function F(H){for(var G=t(d);G!==null;){if(G.callback===null)r(d);else if(G.startTime<=H)r(d),G.sortIndex=G.expirationTime,n(c,G);else break;G=t(d)}}function z(H){if(y=!1,F(H),!x)if(t(c)!==null)x=!0,L||(L=!0,O());else{var G=t(d);G!==null&&K(z,G.startTime-H)}}var L=!1,k=-1,M=5,q=-1;function Q(){return A?!0:!(e.unstable_now()-q<M)}function T(){if(A=!1,L){var H=e.unstable_now();q=H;var G=!0;try{e:{x=!1,y&&(y=!1,C(k),k=-1),m=!0;var ee=b;try{t:{for(F(H),g=t(c);g!==null&&!(g.expirationTime>H&&Q());){var le=g.callback;if(typeof le=="function"){g.callback=null,b=g.priorityLevel;var Y=le(g.expirationTime<=H);if(H=e.unstable_now(),typeof Y=="function"){g.callback=Y,F(H),G=!0;break t}g===t(c)&&r(c),F(H)}else r(c);g=t(c)}if(g!==null)G=!0;else{var te=t(d);te!==null&&K(z,te.startTime-H),G=!1}}break e}finally{g=null,b=ee,m=!1}G=void 0}}finally{G?O():L=!1}}}var O;if(typeof j=="function")O=function(){j(T)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,N=R.port2;R.port1.onmessage=T,O=function(){N.postMessage(null)}}else O=function(){w(T,0)};function K(H,G){k=w(function(){H(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(H){switch(b){case 1:case 2:case 3:var G=3;break;default:G=b}var ee=b;b=G;try{return H()}finally{b=ee}},e.unstable_requestPaint=function(){A=!0},e.unstable_runWithPriority=function(H,G){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ee=b;b=H;try{return G()}finally{b=ee}},e.unstable_scheduleCallback=function(H,G,ee){var le=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?le+ee:le):ee=le,H){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ee+Y,H={id:h++,callback:G,priorityLevel:H,startTime:ee,expirationTime:Y,sortIndex:-1},ee>le?(H.sortIndex=ee,n(d,H),t(c)===null&&H===t(d)&&(y?(C(k),k=-1):y=!0,K(z,ee-le))):(H.sortIndex=Y,n(c,H),x||m||(x=!0,L||(L=!0,O()))),H},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(H){var G=b;return function(){var ee=b;b=G;try{return H.apply(this,arguments)}finally{b=ee}}}}(x5)),x5}var QE;function e3(){return QE||(QE=1,y5.exports=JR()),y5.exports}var KE;function t3(){if(KE)return s1;KE=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=e3(),n=PR(),t=zR();function r(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var u=o,p=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(p=u.return),o=u.return;while(o)}return u.tag===3?p:null}function s(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function l(o){if(a(o)!==o)throw Error(r(188))}function c(o){var u=o.alternate;if(!u){if(u=a(o),u===null)throw Error(r(188));return u!==o?null:o}for(var p=o,v=u;;){var E=p.return;if(E===null)break;var I=E.alternate;if(I===null){if(v=E.return,v!==null){p=v;continue}break}if(E.child===I.child){for(I=E.child;I;){if(I===p)return l(E),o;if(I===v)return l(E),u;I=I.sibling}throw Error(r(188))}if(p.return!==v.return)p=E,v=I;else{for(var J=!1,pe=E.child;pe;){if(pe===p){J=!0,p=E,v=I;break}if(pe===v){J=!0,v=E,p=I;break}pe=pe.sibling}if(!J){for(pe=I.child;pe;){if(pe===p){J=!0,p=I,v=E;break}if(pe===v){J=!0,v=I,p=E;break}pe=pe.sibling}if(!J)throw Error(r(189))}}if(p.alternate!==v)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?o:u}function d(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=d(o),u!==null)return u;o=o.sibling}return null}var h=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),j=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),T=Symbol.iterator;function O(o){return o===null||typeof o!="object"?null:(o=T&&o[T]||o["@@iterator"],typeof o=="function"?o:null)}var R=Symbol.for("react.client.reference");function N(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===R?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case x:return"Fragment";case A:return"Profiler";case y:return"StrictMode";case z:return"Suspense";case L:return"SuspenseList";case q:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case m:return"Portal";case j:return(o.displayName||"Context")+".Provider";case C:return(o._context.displayName||"Context")+".Consumer";case F:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case k:return u=o.displayName||null,u!==null?u:N(o.type)||"Memo";case M:u=o._payload,o=o._init;try{return N(o(u))}catch{}}return null}var K=Array.isArray,H=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},le=[],Y=-1;function te(o){return{current:o}}function U(o){0>Y||(o.current=le[Y],le[Y]=null,Y--)}function B(o,u){Y++,le[Y]=o.current,o.current=u}var re=te(null),Z=te(null),ne=te(null),ve=te(null);function ye(o,u){switch(B(ne,u),B(Z,o),B(re,null),u.nodeType){case 9:case 11:o=(o=u.documentElement)&&(o=o.namespaceURI)?yE(o):0;break;default:if(o=u.tagName,u=u.namespaceURI)u=yE(u),o=xE(u,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}U(re),B(re,o)}function Ce(){U(re),U(Z),U(ne)}function Oe(o){o.memoizedState!==null&&B(ve,o);var u=re.current,p=xE(u,o.type);u!==p&&(B(Z,o),B(re,p))}function Ie(o){Z.current===o&&(U(re),U(Z)),ve.current===o&&(U(ve),e1._currentValue=ee)}var $e=Object.prototype.hasOwnProperty,We=e.unstable_scheduleCallback,V=e.unstable_cancelCallback,Se=e.unstable_shouldYield,se=e.unstable_requestPaint,he=e.unstable_now,de=e.unstable_getCurrentPriorityLevel,we=e.unstable_ImmediatePriority,Le=e.unstable_UserBlockingPriority,Pe=e.unstable_NormalPriority,_e=e.unstable_LowPriority,Ke=e.unstable_IdlePriority,ot=e.log,nt=e.unstable_setDisableYieldValue,De=null,xe=null;function ke(o){if(typeof ot=="function"&&nt(o),xe&&typeof xe.setStrictMode=="function")try{xe.setStrictMode(De,o)}catch{}}var je=Math.clz32?Math.clz32:Rt,ct=Math.log,Je=Math.LN2;function Rt(o){return o>>>=0,o===0?32:31-(ct(o)/Je|0)|0}var kt=256,Wt=4194304;function Lt(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Kt(o,u,p){var v=o.pendingLanes;if(v===0)return 0;var E=0,I=o.suspendedLanes,J=o.pingedLanes;o=o.warmLanes;var pe=v&134217727;return pe!==0?(v=pe&~I,v!==0?E=Lt(v):(J&=pe,J!==0?E=Lt(J):p||(p=pe&~o,p!==0&&(E=Lt(p))))):(pe=v&~I,pe!==0?E=Lt(pe):J!==0?E=Lt(J):p||(p=v&~o,p!==0&&(E=Lt(p)))),E===0?0:u!==0&&u!==E&&(u&I)===0&&(I=E&-E,p=u&-u,I>=p||I===32&&(p&4194048)!==0)?u:E}function tn(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function ln(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zn(){var o=kt;return kt<<=1,(kt&4194048)===0&&(kt=256),o}function qn(){var o=Wt;return Wt<<=1,(Wt&62914560)===0&&(Wt=4194304),o}function Qr(o){for(var u=[],p=0;31>p;p++)u.push(o);return u}function ar(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Mn(o,u,p,v,E,I){var J=o.pendingLanes;o.pendingLanes=p,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=p,o.entangledLanes&=p,o.errorRecoveryDisabledLanes&=p,o.shellSuspendCounter=0;var pe=o.entanglements,Ne=o.expirationTimes,Xe=o.hiddenUpdates;for(p=J&~p;0<p;){var gt=31-je(p),At=1<<gt;pe[gt]=0,Ne[gt]=-1;var et=Xe[gt];if(et!==null)for(Xe[gt]=null,gt=0;gt<et.length;gt++){var tt=et[gt];tt!==null&&(tt.lane&=-536870913)}p&=~At}v!==0&&Vt(o,v,0),I!==0&&E===0&&o.tag!==0&&(o.suspendedLanes|=I&~(J&~u))}function Vt(o,u,p){o.pendingLanes|=u,o.suspendedLanes&=~u;var v=31-je(u);o.entangledLanes|=u,o.entanglements[v]=o.entanglements[v]|1073741824|p&4194090}function En(o,u){var p=o.entangledLanes|=u;for(o=o.entanglements;p;){var v=31-je(p),E=1<<v;E&u|o[v]&u&&(o[v]|=u),p&=~E}}function xa(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Sr(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function li(){var o=G.p;return o!==0?o:(o=window.event,o===void 0?32:PE(o.type))}function va(o,u){var p=G.p;try{return G.p=o,u()}finally{G.p=p}}var Dt=Math.random().toString(36).slice(2),Wn="__reactFiber$"+Dt,sr="__reactProps$"+Dt,Mr="__reactContainer$"+Dt,dr="__reactEvents$"+Dt,fr="__reactListeners$"+Dt,Hn="__reactHandles$"+Dt,ys="__reactResources$"+Dt,jr="__reactMarker$"+Dt;function Ia(o){delete o[Wn],delete o[sr],delete o[dr],delete o[fr],delete o[Hn]}function zi(o){var u=o[Wn];if(u)return u;for(var p=o.parentNode;p;){if(u=p[Mr]||p[Wn]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(o=AE(o);o!==null;){if(p=o[Wn])return p;o=AE(o)}return u}o=p,p=o.parentNode}return null}function qi(o){if(o=o[Wn]||o[Mr]){var u=o.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return o}return null}function er(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o.stateNode;throw Error(r(33))}function Ci(o){var u=o[ys];return u||(u=o[ys]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function tr(o){o[jr]=!0}var ro=new Set,Eo={};function Fa(o,u){Fr(o,u),Fr(o+"Capture",u)}function Fr(o,u){for(Eo[o]=u,o=0;o<u.length;o++)ro.add(u[o])}var al=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ul={},Mu={};function Yc(o){return $e.call(Mu,o)?!0:$e.call(Ul,o)?!1:al.test(o)?Mu[o]=!0:(Ul[o]=!0,!1)}function $s(o,u,p){if(Yc(u))if(p===null)o.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":o.removeAttribute(u);return;case"boolean":var v=u.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){o.removeAttribute(u);return}}o.setAttribute(u,""+p)}}function xs(o,u,p){if(p===null)o.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttribute(u,""+p)}}function Pa(o,u,p,v){if(v===null)o.removeAttribute(p);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(p);return}o.setAttributeNS(u,p,""+v)}}var vs,is;function as(o){if(vs===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);vs=u&&u[1]||"",is=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vs+o+is}var $l=!1;function io(o,u){if(!o||$l)return"";$l=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(u){var At=function(){throw Error()};if(Object.defineProperty(At.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(At,[])}catch(tt){var et=tt}Reflect.construct(o,[],At)}else{try{At.call()}catch(tt){et=tt}o.call(At.prototype)}}else{try{throw Error()}catch(tt){et=tt}(At=o())&&typeof At.catch=="function"&&At.catch(function(){})}}catch(tt){if(tt&&et&&typeof tt.stack=="string")return[tt.stack,et.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var I=v.DetermineComponentFrameRoot(),J=I[0],pe=I[1];if(J&&pe){var Ne=J.split(`
`),Xe=pe.split(`
`);for(E=v=0;v<Ne.length&&!Ne[v].includes("DetermineComponentFrameRoot");)v++;for(;E<Xe.length&&!Xe[E].includes("DetermineComponentFrameRoot");)E++;if(v===Ne.length||E===Xe.length)for(v=Ne.length-1,E=Xe.length-1;1<=v&&0<=E&&Ne[v]!==Xe[E];)E--;for(;1<=v&&0<=E;v--,E--)if(Ne[v]!==Xe[E]){if(v!==1||E!==1)do if(v--,E--,0>E||Ne[v]!==Xe[E]){var gt=`
`+Ne[v].replace(" at new "," at ");return o.displayName&&gt.includes("<anonymous>")&&(gt=gt.replace("<anonymous>",o.displayName)),gt}while(1<=v&&0<=E);break}}}finally{$l=!1,Error.prepareStackTrace=p}return(p=o?o.displayName||o.name:"")?as(p):""}function Gc(o){switch(o.tag){case 26:case 27:case 5:return as(o.type);case 16:return as("Lazy");case 13:return as("Suspense");case 19:return as("SuspenseList");case 0:case 15:return io(o.type,!1);case 11:return io(o.type.render,!1);case 1:return io(o.type,!0);case 31:return as("Activity");default:return""}}function Pr(o){try{var u="";do u+=Gc(o),o=o.return;while(o);return u}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function ta(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ao(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function sl(o){var u=ao(o)?"checked":"value",p=Object.getOwnPropertyDescriptor(o.constructor.prototype,u),v=""+o[u];if(!o.hasOwnProperty(u)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var E=p.get,I=p.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return E.call(this)},set:function(J){v=""+J,I.call(this,J)}}),Object.defineProperty(o,u,{enumerable:p.enumerable}),{getValue:function(){return v},setValue:function(J){v=""+J},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function za(o){o._valueTracker||(o._valueTracker=sl(o))}function Hl(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var p=u.getValue(),v="";return o&&(v=ao(o)?o.checked?"true":"false":o.value),o=v,o!==p?(u.setValue(o),!0):!1}function na(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var ol=/[\n"\\]/g;function hr(o){return o.replace(ol,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function _o(o,u,p,v,E,I,J,pe){o.name="",J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?o.type=J:o.removeAttribute("type"),u!=null?J==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+ta(u)):o.value!==""+ta(u)&&(o.value=""+ta(u)):J!=="submit"&&J!=="reset"||o.removeAttribute("value"),u!=null?ko(o,J,ta(u)):p!=null?ko(o,J,ta(p)):v!=null&&o.removeAttribute("value"),E==null&&I!=null&&(o.defaultChecked=!!I),E!=null&&(o.checked=E&&typeof E!="function"&&typeof E!="symbol"),pe!=null&&typeof pe!="function"&&typeof pe!="symbol"&&typeof pe!="boolean"?o.name=""+ta(pe):o.removeAttribute("name")}function Wl(o,u,p,v,E,I,J,pe){if(I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(o.type=I),u!=null||p!=null){if(!(I!=="submit"&&I!=="reset"||u!=null))return;p=p!=null?""+ta(p):"",u=u!=null?""+ta(u):p,pe||u===o.value||(o.value=u),o.defaultValue=u}v=v??E,v=typeof v!="function"&&typeof v!="symbol"&&!!v,o.checked=pe?o.checked:!!v,o.defaultChecked=!!v,J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"&&(o.name=J)}function ko(o,u,p){u==="number"&&na(o.ownerDocument)===o||o.defaultValue===""+p||(o.defaultValue=""+p)}function Hs(o,u,p,v){if(o=o.options,u){u={};for(var E=0;E<p.length;E++)u["$"+p[E]]=!0;for(p=0;p<o.length;p++)E=u.hasOwnProperty("$"+o[p].value),o[p].selected!==E&&(o[p].selected=E),E&&v&&(o[p].defaultSelected=!0)}else{for(p=""+ta(p),u=null,E=0;E<o.length;E++){if(o[E].value===p){o[E].selected=!0,v&&(o[E].defaultSelected=!0);return}u!==null||o[E].disabled||(u=o[E])}u!==null&&(u.selected=!0)}}function Fu(o,u,p){if(u!=null&&(u=""+ta(u),u!==o.value&&(o.value=u),p==null)){o.defaultValue!==u&&(o.defaultValue=u);return}o.defaultValue=p!=null?""+ta(p):""}function Ws(o,u,p,v){if(u==null){if(v!=null){if(p!=null)throw Error(r(92));if(K(v)){if(1<v.length)throw Error(r(93));v=v[0]}p=v}p==null&&(p=""),u=p}p=ta(u),o.defaultValue=p,v=o.textContent,v===p&&v!==""&&v!==null&&(o.value=v)}function Bi(o,u){if(u){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=u;return}}o.textContent=u}var ss=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ws(o,u,p){var v=u.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?v?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="":v?o.setProperty(u,p):typeof p!="number"||p===0||ss.has(u)?u==="float"?o.cssFloat=p:o[u]=(""+p).trim():o[u]=p+"px"}function Pu(o,u,p){if(u!=null&&typeof u!="object")throw Error(r(62));if(o=o.style,p!=null){for(var v in p)!p.hasOwnProperty(v)||u!=null&&u.hasOwnProperty(v)||(v.indexOf("--")===0?o.setProperty(v,""):v==="float"?o.cssFloat="":o[v]="");for(var E in u)v=u[E],u.hasOwnProperty(E)&&p[E]!==v&&ws(o,E,v)}else for(var I in u)u.hasOwnProperty(I)&&ws(o,I,u[I])}function qa(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ll=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ys(o){return ll.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var ul=null;function ui(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ei=null,Ss=null;function en(o){var u=qi(o);if(u&&(o=u.stateNode)){var p=o[sr]||null;e:switch(o=u.stateNode,u.type){case"input":if(_o(o,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),u=p.name,p.type==="radio"&&u!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+hr(""+u)+'"][type="radio"]'),u=0;u<p.length;u++){var v=p[u];if(v!==o&&v.form===o.form){var E=v[sr]||null;if(!E)throw Error(r(90));_o(v,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(u=0;u<p.length;u++)v=p[u],v.form===o.form&&Hl(v)}break e;case"textarea":Fu(o,p.value,p.defaultValue);break e;case"select":u=p.value,u!=null&&Hs(o,!!p.multiple,u,!1)}}}var so=!1;function cl(o,u,p){if(so)return o(u,p);so=!0;try{var v=o(u);return v}finally{if(so=!1,(ei!==null||Ss!==null)&&(Hb(),ei&&(u=ei,o=Ss,Ss=ei=null,en(u),o)))for(u=0;u<o.length;u++)en(o[u])}}function Ei(o,u){var p=o.stateNode;if(p===null)return null;var v=p[sr]||null;if(v===null)return null;p=v[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(o=o.type,v=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!v;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(r(231,u,typeof p));return p}var Ba=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jo=!1;if(Ba)try{var Ua={};Object.defineProperty(Ua,"passive",{get:function(){jo=!0}}),window.addEventListener("test",Ua,Ua),window.removeEventListener("test",Ua,Ua)}catch{jo=!1}var Da=null,$a=null,No=null;function dl(){if(No)return No;var o,u=$a,p=u.length,v,E="value"in Da?Da.value:Da.textContent,I=E.length;for(o=0;o<p&&u[o]===E[o];o++);var J=p-o;for(v=1;v<=J&&u[p-v]===E[I-v];v++);return No=E.slice(o,1<v?1-v:void 0)}function oo(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function As(){return!0}function $(){return!1}function me(o){function u(p,v,E,I,J){this._reactName=p,this._targetInst=E,this.type=v,this.nativeEvent=I,this.target=J,this.currentTarget=null;for(var pe in o)o.hasOwnProperty(pe)&&(p=o[pe],this[pe]=p?p(I):I[pe]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?As:$,this.isPropagationStopped=$,this}return h(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=As)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=As)},persist:function(){},isPersistent:As}),u}var Te={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},st=me(Te),Xt=h({},Te,{view:0,detail:0}),qt=me(Xt),Tn,_n,pr,gn=h({},Xt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jd,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==pr&&(pr&&o.type==="mousemove"?(Tn=o.screenX-pr.screenX,_n=o.screenY-pr.screenY):_n=Tn=0,pr=o),Tn)},movementY:function(o){return"movementY"in o?o.movementY:_n}}),Nr=me(gn),wa=h({},gn,{dataTransfer:0}),Ar=me(wa),Cr=h({},Xt,{relatedTarget:0}),Kr=me(Cr),Ha=h({},Te,{animationName:0,elapsedTime:0,pseudoElement:0}),Gs=me(Ha),Cs=h({},Te,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Xd=me(Cs),fl=h({},Te,{data:0}),To=me(fl),Np={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bh(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=gh[o])?!!u[o]:!1}function Jd(){return bh}var vm=h({},Xt,{key:function(o){if(o.key){var u=Np[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=oo(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Zd[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jd,charCode:function(o){return o.type==="keypress"?oo(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?oo(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),ef=me(vm),Qc=h({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tf=me(Qc),zu=h({},Xt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jd}),yh=me(zu),D=h({},Te,{propertyName:0,elapsedTime:0,pseudoElement:0}),ae=me(D),Ee=h({},gn,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Re=me(Ee),Ve=h({},Te,{newState:0,oldState:0}),dt=me(Ve),Ct=[9,13,27,32],Tt=Ba&&"CompositionEvent"in window,Ut=null;Ba&&"documentMode"in document&&(Ut=document.documentMode);var vn=Ba&&"TextEvent"in window&&!Ut,pn=Ba&&(!Tt||Ut&&8<Ut&&11>=Ut),Bn=" ",ti=!1;function ci(o,u){switch(o){case"keyup":return Ct.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _i(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ki=!1;function Sa(o,u){switch(o){case"compositionend":return _i(u);case"keypress":return u.which!==32?null:(ti=!0,Bn);case"textInput":return o=u.data,o===Bn&&ti?null:o;default:return null}}function Oo(o,u){if(ki)return o==="compositionend"||!Tt&&ci(o,u)?(o=dl(),No=$a=Da=null,ki=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return pn&&u.locale!=="ko"?null:u.data;default:return null}}var Qs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Io(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!Qs[o.type]:u==="textarea"}function xh(o,u,p,v){ei?Ss?Ss.push(v):Ss=[v]:ei=v,u=Kb(u,"onChange"),0<u.length&&(p=new st("onChange","change",null,p,v),o.push({event:p,listeners:u}))}var Vl=null,Yl=null;function nf(o){hE(o,0)}function qu(o){var u=er(o);if(Hl(u))return o}function rf(o,u){if(o==="change")return u}var Kc=!1;if(Ba){var ra;if(Ba){var Bu="oninput"in document;if(!Bu){var Xc=document.createElement("div");Xc.setAttribute("oninput","return;"),Bu=typeof Xc.oninput=="function"}ra=Bu}else ra=!1;Kc=ra&&(!document.documentMode||9<document.documentMode)}function Zc(){Vl&&(Vl.detachEvent("onpropertychange",af),Yl=Vl=null)}function af(o){if(o.propertyName==="value"&&qu(Yl)){var u=[];xh(u,Yl,o,ui(o)),cl(nf,u)}}function Es(o,u,p){o==="focusin"?(Zc(),Vl=u,Yl=p,Vl.attachEvent("onpropertychange",af)):o==="focusout"&&Zc()}function wm(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return qu(Yl)}function vh(o,u){if(o==="click")return qu(u)}function Tp(o,u){if(o==="input"||o==="change")return qu(u)}function lo(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var Aa=typeof Object.is=="function"?Object.is:lo;function Uu(o,u){if(Aa(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var p=Object.keys(o),v=Object.keys(u);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var E=p[v];if(!$e.call(u,E)||!Aa(o[E],u[E]))return!1}return!0}function wh(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Gl(o,u){var p=wh(o);o=0;for(var v;p;){if(p.nodeType===3){if(v=o+p.textContent.length,o<=u&&v>=u)return{node:p,offset:u-o};o=v}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=wh(p)}}function $u(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?$u(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function os(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var u=na(o.document);u instanceof o.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)o=u.contentWindow;else break;u=na(o.document)}return u}function La(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}var Hu=Ba&&"documentMode"in document&&11>=document.documentMode,_s=null,Do=null,hl=null,Lo=!1;function gi(o,u,p){var v=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Lo||_s==null||_s!==na(v)||(v=_s,"selectionStart"in v&&La(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),hl&&Uu(hl,v)||(hl=v,v=Kb(Do,"onSelect"),0<v.length&&(u=new st("onSelect","select",null,u,p),o.push({event:u,listeners:v}),u.target=_s)))}function Ro(o,u){var p={};return p[o.toLowerCase()]=u.toLowerCase(),p["Webkit"+o]="webkit"+u,p["Moz"+o]="moz"+u,p}var Ui={animationend:Ro("Animation","AnimationEnd"),animationiteration:Ro("Animation","AnimationIteration"),animationstart:Ro("Animation","AnimationStart"),transitionrun:Ro("Transition","TransitionRun"),transitionstart:Ro("Transition","TransitionStart"),transitioncancel:Ro("Transition","TransitionCancel"),transitionend:Ro("Transition","TransitionEnd")},ks={},Jc={};Ba&&(Jc=document.createElement("div").style,"AnimationEvent"in window||(delete Ui.animationend.animation,delete Ui.animationiteration.animation,delete Ui.animationstart.animation),"TransitionEvent"in window||delete Ui.transitionend.transition);function pl(o){if(ks[o])return ks[o];if(!Ui[o])return o;var u=Ui[o],p;for(p in u)if(u.hasOwnProperty(p)&&p in Jc)return ks[o]=u[p];return o}var sf=pl("animationend"),Wu=pl("animationiteration"),Vu=pl("animationstart"),Yu=pl("transitionrun"),ed=pl("transitionstart"),of=pl("transitioncancel"),Gu=pl("transitionend"),Ql=new Map,td="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");td.push("scrollEnd");function bi(o,u){Ql.set(o,u),Fa(u,[o])}var Ks=new WeakMap;function Ln(o,u){if(typeof o=="object"&&o!==null){var p=Ks.get(o);return p!==void 0?p:(u={value:o,source:u,stack:Pr(u)},Ks.set(o,u),u)}return{value:o,source:u,stack:Pr(u)}}var Rn=[],zr=0,ji=0;function uo(){for(var o=zr,u=ji=zr=0;u<o;){var p=Rn[u];Rn[u++]=null;var v=Rn[u];Rn[u++]=null;var E=Rn[u];Rn[u++]=null;var I=Rn[u];if(Rn[u++]=null,v!==null&&E!==null){var J=v.pending;J===null?E.next=E:(E.next=J.next,J.next=E),v.pending=E}I!==0&&Op(p,E,I)}}function Qu(o,u,p,v){Rn[zr++]=o,Rn[zr++]=u,Rn[zr++]=p,Rn[zr++]=v,ji|=v,o.lanes|=v,o=o.alternate,o!==null&&(o.lanes|=v)}function Ku(o,u,p,v){return Qu(o,u,p,v),nd(o)}function Kl(o,u){return Qu(o,null,null,u),nd(o)}function Op(o,u,p){o.lanes|=p;var v=o.alternate;v!==null&&(v.lanes|=p);for(var E=!1,I=o.return;I!==null;)I.childLanes|=p,v=I.alternate,v!==null&&(v.childLanes|=p),I.tag===22&&(o=I.stateNode,o===null||o._visibility&1||(E=!0)),o=I,I=I.return;return o.tag===3?(I=o.stateNode,E&&u!==null&&(E=31-je(p),o=I.hiddenUpdates,v=o[E],v===null?o[E]=[u]:v.push(u),u.lane=p|536870912),I):null}function nd(o){if(50<Vm)throw Vm=0,B2=null,Error(r(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}var Ca={};function co(o,u,p,v){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wa(o,u,p,v){return new co(o,u,p,v)}function lf(o){return o=o.prototype,!(!o||!o.isReactComponent)}function ml(o,u){var p=o.alternate;return p===null?(p=Wa(o.tag,u,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=u,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&65011712,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,u=o.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p.refCleanup=o.refCleanup,p}function Sh(o,u){o.flags&=65011714;var p=o.alternate;return p===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=p.childLanes,o.lanes=p.lanes,o.child=p.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=p.memoizedProps,o.memoizedState=p.memoizedState,o.updateQueue=p.updateQueue,o.type=p.type,u=p.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function rd(o,u,p,v,E,I){var J=0;if(v=o,typeof o=="function")lf(o)&&(J=1);else if(typeof o=="string")J=T9(o,p,re.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case q:return o=Wa(31,p,u,E),o.elementType=q,o.lanes=I,o;case x:return Xl(p.children,E,I,u);case y:J=8,E|=24;break;case A:return o=Wa(12,p,u,E|2),o.elementType=A,o.lanes=I,o;case z:return o=Wa(13,p,u,E),o.elementType=z,o.lanes=I,o;case L:return o=Wa(19,p,u,E),o.elementType=L,o.lanes=I,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case w:case j:J=10;break e;case C:J=9;break e;case F:J=11;break e;case k:J=14;break e;case M:J=16,v=null;break e}J=29,p=Error(r(130,o===null?"null":typeof o,"")),v=null}return u=Wa(J,p,u,E),u.elementType=o,u.type=v,u.lanes=I,u}function Xl(o,u,p,v){return o=Wa(7,o,v,u),o.lanes=p,o}function Ip(o,u,p){return o=Wa(6,o,null,u),o.lanes=p,o}function Ah(o,u,p){return u=Wa(4,o.children!==null?o.children:[],o.key,u),u.lanes=p,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}var Xu=[],Zl=0,uf=null,Dp=0,fo=[],Xs=0,id=null,Jl=1,eu="";function ad(o,u){Xu[Zl++]=Dp,Xu[Zl++]=uf,uf=o,Dp=u}function pb(o,u,p){fo[Xs++]=Jl,fo[Xs++]=eu,fo[Xs++]=id,id=o;var v=Jl;o=eu;var E=32-je(v)-1;v&=~(1<<E),p+=1;var I=32-je(u)+E;if(30<I){var J=E-E%5;I=(v&(1<<J)-1).toString(32),v>>=J,E-=J,Jl=1<<32-je(u)+E|p<<E|v,eu=I+o}else Jl=1<<I|p<<E|v,eu=o}function Ch(o){o.return!==null&&(ad(o,1),pb(o,1,0))}function Eh(o){for(;o===uf;)uf=Xu[--Zl],Xu[Zl]=null,Dp=Xu[--Zl],Xu[Zl]=null;for(;o===id;)id=fo[--Xs],fo[Xs]=null,eu=fo[--Xs],fo[Xs]=null,Jl=fo[--Xs],fo[Xs]=null}var ia=null,yi=null,nr=!1,Zu=null,gl=!1,Sm=Error(r(519));function sd(o){var u=Error(r(418,""));throw cf(Ln(u,o)),Sm}function mb(o){var u=o.stateNode,p=o.type,v=o.memoizedProps;switch(u[Wn]=o,u[sr]=v,p){case"dialog":$n("cancel",u),$n("close",u);break;case"iframe":case"object":case"embed":$n("load",u);break;case"video":case"audio":for(p=0;p<Gm.length;p++)$n(Gm[p],u);break;case"source":$n("error",u);break;case"img":case"image":case"link":$n("error",u),$n("load",u);break;case"details":$n("toggle",u);break;case"input":$n("invalid",u),Wl(u,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),za(u);break;case"select":$n("invalid",u);break;case"textarea":$n("invalid",u),Ws(u,v.value,v.defaultValue,v.children),za(u)}p=v.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||u.textContent===""+p||v.suppressHydrationWarning===!0||bE(u.textContent,p)?(v.popover!=null&&($n("beforetoggle",u),$n("toggle",u)),v.onScroll!=null&&$n("scroll",u),v.onScrollEnd!=null&&$n("scrollend",u),v.onClick!=null&&(u.onclick=Xb),u=!0):u=!1,u||sd(o)}function tu(o){for(ia=o.return;ia;)switch(ia.tag){case 5:case 13:gl=!1;return;case 27:case 3:gl=!0;return;default:ia=ia.return}}function ls(o){if(o!==ia)return!1;if(!nr)return tu(o),nr=!0,!1;var u=o.tag,p;if((p=u!==3&&u!==27)&&((p=u===5)&&(p=o.type,p=!(p!=="form"&&p!=="button")||r5(o.type,o.memoizedProps)),p=!p),p&&yi&&sd(o),tu(o),u===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,u=0;o;){if(o.nodeType===8)if(p=o.data,p==="/$"){if(u===0){yi=uu(o.nextSibling);break e}u--}else p!=="$"&&p!=="$!"&&p!=="$?"||u++;o=o.nextSibling}yi=null}}else u===27?(u=yi,kf(o.type)?(o=o5,o5=null,yi=o):yi=u):yi=ia?uu(o.stateNode.nextSibling):null;return!0}function Zs(){yi=ia=null,nr=!1}function gb(){var o=Zu;return o!==null&&(mo===null?mo=o:mo.push.apply(mo,o),Zu=null),o}function cf(o){Zu===null?Zu=[o]:Zu.push(o)}var bl=te(null),Ea=null,nu=null;function Ju(o,u,p){B(bl,u._currentValue),u._currentValue=p}function yl(o){o._currentValue=bl.current,U(bl)}function Lp(o,u,p){for(;o!==null;){var v=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),o===p)break;o=o.return}}function Rp(o,u,p,v){var E=o.child;for(E!==null&&(E.return=o);E!==null;){var I=E.dependencies;if(I!==null){var J=E.child;I=I.firstContext;e:for(;I!==null;){var pe=I;I=E;for(var Ne=0;Ne<u.length;Ne++)if(pe.context===u[Ne]){I.lanes|=p,pe=I.alternate,pe!==null&&(pe.lanes|=p),Lp(I.return,p,o),v||(J=null);break e}I=pe.next}}else if(E.tag===18){if(J=E.return,J===null)throw Error(r(341));J.lanes|=p,I=J.alternate,I!==null&&(I.lanes|=p),Lp(J,p,o),J=null}else J=E.child;if(J!==null)J.return=E;else for(J=E;J!==null;){if(J===o){J=null;break}if(E=J.sibling,E!==null){E.return=J.return,J=E;break}J=J.return}E=J}}function df(o,u,p,v){o=null;for(var E=u,I=!1;E!==null;){if(!I){if((E.flags&524288)!==0)I=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var J=E.alternate;if(J===null)throw Error(r(387));if(J=J.memoizedProps,J!==null){var pe=E.type;Aa(E.pendingProps.value,J.value)||(o!==null?o.push(pe):o=[pe])}}else if(E===ve.current){if(J=E.alternate,J===null)throw Error(r(387));J.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(o!==null?o.push(e1):o=[e1])}E=E.return}o!==null&&Rp(u,o,p,v),u.flags|=262144}function Mp(o){for(o=o.firstContext;o!==null;){if(!Aa(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function xl(o){Ea=o,nu=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function aa(o){return Fp(Ea,o)}function ec(o,u){return Ea===null&&xl(o),Fp(o,u)}function Fp(o,u){var p=u._currentValue;if(u={context:u,memoizedValue:p,next:null},nu===null){if(o===null)throw Error(r(308));nu=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else nu=nu.next=u;return p}var f2=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(p,v){o.push(v)}};this.abort=function(){u.aborted=!0,o.forEach(function(p){return p()})}},bb=e.unstable_scheduleCallback,h2=e.unstable_NormalPriority,sa={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Am(){return{controller:new f2,data:new Map,refCount:0}}function _h(o){o.refCount--,o.refCount===0&&bb(h2,function(){o.controller.abort()})}var kh=null,Cm=0,od=0,ru=null;function p2(o,u){if(kh===null){var p=kh=[];Cm=0,od=G2(),ru={status:"pending",value:void 0,then:function(v){p.push(v)}}}return Cm++,u.then(yb,yb),u}function yb(){if(--Cm===0&&kh!==null){ru!==null&&(ru.status="fulfilled");var o=kh;kh=null,od=0,ru=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function xb(o,u){var p=[],v={status:"pending",value:null,reason:null,then:function(E){p.push(E)}};return o.then(function(){v.status="fulfilled",v.value=u;for(var E=0;E<p.length;E++)(0,p[E])(u)},function(E){for(v.status="rejected",v.reason=E,E=0;E<p.length;E++)(0,p[E])(void 0)}),v}var S=H.S;H.S=function(o,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&p2(o,u),S!==null&&S(o,u)};var _=te(null);function P(){var o=_.current;return o!==null?o:ri.pooledCache}function W(o,u){u===null?B(_,_.current):B(_,u.pool)}function ie(){var o=P();return o===null?null:{parent:sa._currentValue,pool:o}}var oe=Error(r(460)),ue=Error(r(474)),fe=Error(r(542)),be={then:function(){}};function Ae(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Me(){}function Qe(o,u,p){switch(p=o[p],p===void 0?o.push(u):p!==u&&(u.then(Me,Me),u=p),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,xt(o),o;default:if(typeof u.status=="string")u.then(Me,Me);else{if(o=ri,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=u,o.status="pending",o.then(function(v){if(u.status==="pending"){var E=u;E.status="fulfilled",E.value=v}},function(v){if(u.status==="pending"){var E=u;E.status="rejected",E.reason=v}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,xt(o),o}throw Ye=u,oe}}var Ye=null;function Be(){if(Ye===null)throw Error(r(459));var o=Ye;return Ye=null,o}function xt(o){if(o===oe||o===fe)throw Error(r(483))}var rt=!1;function Fe(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qe(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function pt(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function wt(o,u,p){var v=o.updateQueue;if(v===null)return null;if(v=v.shared,(Or&2)!==0){var E=v.pending;return E===null?u.next=u:(u.next=E.next,E.next=u),v.pending=u,u=nd(o),Op(o,null,p),u}return Qu(o,v,u,p),nd(o)}function bt(o,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194048)!==0)){var v=u.lanes;v&=o.pendingLanes,p|=v,u.lanes=p,En(o,p)}}function Ot(o,u){var p=o.updateQueue,v=o.alternate;if(v!==null&&(v=v.updateQueue,p===v)){var E=null,I=null;if(p=p.firstBaseUpdate,p!==null){do{var J={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};I===null?E=I=J:I=I.next=J,p=p.next}while(p!==null);I===null?E=I=u:I=I.next=u}else E=I=u;p={baseState:v.baseState,firstBaseUpdate:E,lastBaseUpdate:I,shared:v.shared,callbacks:v.callbacks},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=u:o.next=u,p.lastBaseUpdate=u}var jt=!1;function Yt(){if(jt){var o=ru;if(o!==null)throw o}}function Nt(o,u,p,v){jt=!1;var E=o.updateQueue;rt=!1;var I=E.firstBaseUpdate,J=E.lastBaseUpdate,pe=E.shared.pending;if(pe!==null){E.shared.pending=null;var Ne=pe,Xe=Ne.next;Ne.next=null,J===null?I=Xe:J.next=Xe,J=Ne;var gt=o.alternate;gt!==null&&(gt=gt.updateQueue,pe=gt.lastBaseUpdate,pe!==J&&(pe===null?gt.firstBaseUpdate=Xe:pe.next=Xe,gt.lastBaseUpdate=Ne))}if(I!==null){var At=E.baseState;J=0,gt=Xe=Ne=null,pe=I;do{var et=pe.lane&-536870913,tt=et!==pe.lane;if(tt?(Qn&et)===et:(v&et)===et){et!==0&&et===od&&(jt=!0),gt!==null&&(gt=gt.next={lane:0,tag:pe.tag,payload:pe.payload,callback:null,next:null});e:{var hn=o,nn=pe;et=u;var Br=p;switch(nn.tag){case 1:if(hn=nn.payload,typeof hn=="function"){At=hn.call(Br,At,et);break e}At=hn;break e;case 3:hn.flags=hn.flags&-65537|128;case 0:if(hn=nn.payload,et=typeof hn=="function"?hn.call(Br,At,et):hn,et==null)break e;At=h({},At,et);break e;case 2:rt=!0}}et=pe.callback,et!==null&&(o.flags|=64,tt&&(o.flags|=8192),tt=E.callbacks,tt===null?E.callbacks=[et]:tt.push(et))}else tt={lane:et,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null},gt===null?(Xe=gt=tt,Ne=At):gt=gt.next=tt,J|=et;if(pe=pe.next,pe===null){if(pe=E.shared.pending,pe===null)break;tt=pe,pe=tt.next,tt.next=null,E.lastBaseUpdate=tt,E.shared.pending=null}}while(!0);gt===null&&(Ne=At),E.baseState=Ne,E.firstBaseUpdate=Xe,E.lastBaseUpdate=gt,I===null&&(E.shared.lanes=0),Af|=J,o.lanes=J,o.memoizedState=At}}function Yn(o,u){if(typeof o!="function")throw Error(r(191,o));o.call(u)}function or(o,u){var p=o.callbacks;if(p!==null)for(o.callbacks=null,o=0;o<p.length;o++)Yn(p[o],u)}var In=te(null),On=te(0);function Er(o,u){o=bd,B(On,o),B(In,u),bd=o|u.baseLanes}function lr(){B(On,bd),B(In,In.current)}function bn(){bd=On.current,U(In),U(On)}var Tr=0,Jt=null,un=null,Vn=null,Gn=!1,_a=!1,oa=!1,Ni=0,Ti=0,$i=null,ho=0;function ur(){throw Error(r(321))}function Hi(o,u){if(u===null)return!1;for(var p=0;p<u.length&&p<o.length;p++)if(!Aa(o[p],u[p]))return!1;return!0}function Mo(o,u,p,v,E,I){return Tr=I,Jt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,H.H=o===null||o.memoizedState===null?XA:ZA,oa=!1,I=p(v,E),oa=!1,_a&&(I=ld(u,p,v,E)),tc(o),I}function tc(o){H.H=Ob;var u=un!==null&&un.next!==null;if(Tr=0,Vn=un=Jt=null,Gn=!1,Ti=0,$i=null,u)throw Error(r(300));o===null||Va||(o=o.dependencies,o!==null&&Mp(o)&&(Va=!0))}function ld(o,u,p,v){Jt=o;var E=0;do{if(_a&&($i=null),Ti=0,_a=!1,25<=E)throw Error(r(301));if(E+=1,Vn=un=null,o.updateQueue!=null){var I=o.updateQueue;I.lastEffect=null,I.events=null,I.stores=null,I.memoCache!=null&&(I.memoCache.index=0)}H.H=BL,I=u(p,v)}while(_a);return I}function nc(){var o=H.H,u=o.useState()[0];return u=typeof u.then=="function"?rc(u):u,o=o.useState()[0],(un!==null?un.memoizedState:null)!==o&&(Jt.flags|=1024),u}function ni(){var o=Ni!==0;return Ni=0,o}function jh(o,u,p){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~p}function Pp(o){if(Gn){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}Gn=!1}Tr=0,Vn=un=Jt=null,_a=!1,Ti=Ni=0,$i=null}function us(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vn===null?Jt.memoizedState=Vn=o:Vn=Vn.next=o,Vn}function di(){if(un===null){var o=Jt.alternate;o=o!==null?o.memoizedState:null}else o=un.next;var u=Vn===null?Jt.memoizedState:Vn.next;if(u!==null)Vn=u,un=o;else{if(o===null)throw Jt.alternate===null?Error(r(467)):Error(r(310));un=o,o={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},Vn===null?Jt.memoizedState=Vn=o:Vn=Vn.next=o}return Vn}function ud(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rc(o){var u=Ti;return Ti+=1,$i===null&&($i=[]),o=Qe($i,o,u),u=Jt,(Vn===null?u.memoizedState:Vn.next)===null&&(u=u.alternate,H.H=u===null||u.memoizedState===null?XA:ZA),o}function js(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return rc(o);if(o.$$typeof===j)return aa(o)}throw Error(r(438,String(o)))}function ic(o){var u=null,p=Jt.updateQueue;if(p!==null&&(u=p.memoCache),u==null){var v=Jt.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(u={data:v.data.map(function(E){return E.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),p===null&&(p=ud(),Jt.updateQueue=p),p.memoCache=u,p=u.data[u.index],p===void 0)for(p=u.data[u.index]=Array(o),v=0;v<o;v++)p[v]=Q;return u.index++,p}function Ns(o,u){return typeof u=="function"?u(o):u}function Nh(o){var u=di();return ff(u,un,o)}function ff(o,u,p){var v=o.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=p;var E=o.baseQueue,I=v.pending;if(I!==null){if(E!==null){var J=E.next;E.next=I.next,I.next=J}u.baseQueue=E=I,v.pending=null}if(I=o.baseState,E===null)o.memoizedState=I;else{u=E.next;var pe=J=null,Ne=null,Xe=u,gt=!1;do{var At=Xe.lane&-536870913;if(At!==Xe.lane?(Qn&At)===At:(Tr&At)===At){var et=Xe.revertLane;if(et===0)Ne!==null&&(Ne=Ne.next={lane:0,revertLane:0,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null}),At===od&&(gt=!0);else if((Tr&et)===et){Xe=Xe.next,et===od&&(gt=!0);continue}else At={lane:0,revertLane:Xe.revertLane,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null},Ne===null?(pe=Ne=At,J=I):Ne=Ne.next=At,Jt.lanes|=et,Af|=et;At=Xe.action,oa&&p(I,At),I=Xe.hasEagerState?Xe.eagerState:p(I,At)}else et={lane:At,revertLane:Xe.revertLane,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null},Ne===null?(pe=Ne=et,J=I):Ne=Ne.next=et,Jt.lanes|=At,Af|=At;Xe=Xe.next}while(Xe!==null&&Xe!==u);if(Ne===null?J=I:Ne.next=pe,!Aa(I,o.memoizedState)&&(Va=!0,gt&&(p=ru,p!==null)))throw p;o.memoizedState=I,o.baseState=J,o.baseQueue=Ne,v.lastRenderedState=I}return E===null&&(v.lanes=0),[o.memoizedState,v.dispatch]}function zp(o){var u=di(),p=u.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=o;var v=p.dispatch,E=p.pending,I=u.memoizedState;if(E!==null){p.pending=null;var J=E=E.next;do I=o(I,J.action),J=J.next;while(J!==E);Aa(I,u.memoizedState)||(Va=!0),u.memoizedState=I,u.baseQueue===null&&(u.baseState=I),p.lastRenderedState=I}return[I,v]}function Th(o,u,p){var v=Jt,E=di(),I=nr;if(I){if(p===void 0)throw Error(r(407));p=p()}else p=u();var J=!Aa((un||E).memoizedState,p);J&&(E.memoizedState=p,Va=!0),E=E.queue;var pe=hf.bind(null,v,E,o);if(gf(2048,8,pe,[o]),E.getSnapshot!==u||J||Vn!==null&&Vn.memoizedState.tag&1){if(v.flags|=2048,au(9,Lh(),Oh.bind(null,v,E,p,u),null),ri===null)throw Error(r(349));I||(Tr&124)!==0||qp(v,u,p)}return p}function qp(o,u,p){o.flags|=16384,o={getSnapshot:u,value:p},u=Jt.updateQueue,u===null?(u=ud(),Jt.updateQueue=u,u.stores=[o]):(p=u.stores,p===null?u.stores=[o]:p.push(o))}function Oh(o,u,p,v){u.value=p,u.getSnapshot=v,vb(u)&&wb(o)}function hf(o,u,p){return p(function(){vb(u)&&wb(o)})}function vb(o){var u=o.getSnapshot;o=o.value;try{var p=u();return!Aa(o,p)}catch{return!0}}function wb(o){var u=Kl(o,2);u!==null&&Uo(u,o,2)}function Ih(o){var u=us();if(typeof o=="function"){var p=o;if(o=p(),oa){ke(!0);try{p()}finally{ke(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:o},u}function iu(o,u,p,v){return o.baseState=p,ff(o,un,typeof v=="function"?v:Ns)}function m2(o,u,p,v,E){if(Tb(o))throw Error(r(485));if(o=u.action,o!==null){var I={payload:E,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(J){I.listeners.push(J)}};H.T!==null?p(!0):I.isTransition=!1,v(I),p=u.pending,p===null?(I.next=u.pending=I,Sb(u,I)):(I.next=p.next,u.pending=p.next=I)}}function Sb(o,u){var p=u.action,v=u.payload,E=o.state;if(u.isTransition){var I=H.T,J={};H.T=J;try{var pe=p(E,v),Ne=H.S;Ne!==null&&Ne(J,pe),Ab(o,u,pe)}catch(Xe){pf(o,u,Xe)}finally{H.T=I}}else try{I=p(E,v),Ab(o,u,I)}catch(Xe){pf(o,u,Xe)}}function Ab(o,u,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(v){Em(o,u,v)},function(v){return pf(o,u,v)}):Em(o,u,p)}function Em(o,u,p){u.status="fulfilled",u.value=p,_m(u),o.state=p,u=o.pending,u!==null&&(p=u.next,p===u?o.pending=null:(p=p.next,u.next=p,Sb(o,p)))}function pf(o,u,p){var v=o.pending;if(o.pending=null,v!==null){v=v.next;do u.status="rejected",u.reason=p,_m(u),u=u.next;while(u!==v)}o.action=null}function _m(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function km(o,u){return u}function Dh(o,u){if(nr){var p=ri.formState;if(p!==null){e:{var v=Jt;if(nr){if(yi){t:{for(var E=yi,I=gl;E.nodeType!==8;){if(!I){E=null;break t}if(E=uu(E.nextSibling),E===null){E=null;break t}}I=E.data,E=I==="F!"||I==="F"?E:null}if(E){yi=uu(E.nextSibling),v=E.data==="F!";break e}}sd(v)}v=!1}v&&(u=p[0])}}return p=us(),p.memoizedState=p.baseState=u,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:km,lastRenderedState:u},p.queue=v,p=GA.bind(null,Jt,v),v.dispatch=p,v=Ih(!1),I=g2.bind(null,Jt,!1,v.queue),v=us(),E={state:u,dispatch:null,action:o,pending:null},v.queue=E,p=m2.bind(null,Jt,E,I,p),E.dispatch=p,v.memoizedState=o,[u,p,!1]}function Bp(o){var u=di();return mf(u,un,o)}function mf(o,u,p){if(u=ff(o,u,km)[0],o=Nh(Ns)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var v=rc(u)}catch(J){throw J===oe?fe:J}else v=u;u=di();var E=u.queue,I=E.dispatch;return p!==u.memoizedState&&(Jt.flags|=2048,au(9,Lh(),Cb.bind(null,E,p),null)),[v,I,o]}function Cb(o,u){o.action=u}function Eb(o){var u=di(),p=un;if(p!==null)return mf(u,p,o);di(),u=u.memoizedState,p=di();var v=p.queue.dispatch;return p.memoizedState=o,[u,v,!1]}function au(o,u,p,v){return o={tag:o,create:p,deps:v,inst:u,next:null},u=Jt.updateQueue,u===null&&(u=ud(),Jt.updateQueue=u),p=u.lastEffect,p===null?u.lastEffect=o.next=o:(v=p.next,p.next=o,o.next=v,u.lastEffect=o),o}function Lh(){return{destroy:void 0,resource:void 0}}function Up(){return di().memoizedState}function Fo(o,u,p,v){var E=us();v=v===void 0?null:v,Jt.flags|=o,E.memoizedState=au(1|u,Lh(),p,v)}function gf(o,u,p,v){var E=di();v=v===void 0?null:v;var I=E.memoizedState.inst;un!==null&&v!==null&&Hi(v,un.memoizedState.deps)?E.memoizedState=au(u,I,p,v):(Jt.flags|=o,E.memoizedState=au(1|u,I,p,v))}function jm(o,u){Fo(8390656,8,o,u)}function _b(o,u){gf(2048,8,o,u)}function Nm(o,u){return gf(4,2,o,u)}function cd(o,u){return gf(4,4,o,u)}function kb(o,u){if(typeof u=="function"){o=o();var p=u(o);return function(){typeof p=="function"?p():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function Tm(o,u,p){p=p!=null?p.concat([o]):null,gf(4,4,kb.bind(null,u,o),p)}function Om(){}function Im(o,u){var p=di();u=u===void 0?null:u;var v=p.memoizedState;return u!==null&&Hi(u,v[1])?v[0]:(p.memoizedState=[o,u],o)}function jb(o,u){var p=di();u=u===void 0?null:u;var v=p.memoizedState;if(u!==null&&Hi(u,v[1]))return v[0];if(v=o(),oa){ke(!0);try{o()}finally{ke(!1)}}return p.memoizedState=[v,u],v}function dd(o,u,p){return p===void 0||(Tr&1073741824)!==0?o.memoizedState=u:(o.memoizedState=p,o=HC(),Jt.lanes|=o,Af|=o,p)}function $p(o,u,p,v){return Aa(p,u)?p:In.current!==null?(o=dd(o,p,v),Aa(o,u)||(Va=!0),o):(Tr&42)===0?(Va=!0,o.memoizedState=p):(o=HC(),Jt.lanes|=o,Af|=o,u)}function Rh(o,u,p,v,E){var I=G.p;G.p=I!==0&&8>I?I:8;var J=H.T,pe={};H.T=pe,g2(o,!1,u,p);try{var Ne=E(),Xe=H.S;if(Xe!==null&&Xe(pe,Ne),Ne!==null&&typeof Ne=="object"&&typeof Ne.then=="function"){var gt=xb(Ne,v);Mm(o,u,gt,Bo(o))}else Mm(o,u,v,Bo(o))}catch(At){Mm(o,u,{then:function(){},status:"rejected",reason:At},Bo())}finally{G.p=I,H.T=J}}function su(){}function vl(o,u,p,v){if(o.tag!==5)throw Error(r(476));var E=ou(o).queue;Rh(o,E,u,ee,p===null?su:function(){return Mh(o),p(v)})}function ou(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:ee},next:null};var p={};return u.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:p},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function Mh(o){var u=ou(o).next.queue;Mm(o,u,{},Bo())}function Fh(){return aa(e1)}function Dm(){return di().memoizedState}function Nb(){return di().memoizedState}function Lm(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var p=Bo();o=pt(p);var v=wt(u,o,p);v!==null&&(Uo(v,u,p),bt(v,u,p)),u={cache:Am()},o.payload=u;return}u=u.return}}function Rm(o,u,p){var v=Bo();p={lane:v,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},Tb(o)?QA(u,p):(p=Ku(o,u,p,v),p!==null&&(Uo(p,o,v),KA(p,u,v)))}function GA(o,u,p){var v=Bo();Mm(o,u,p,v)}function Mm(o,u,p,v){var E={lane:v,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(Tb(o))QA(u,E);else{var I=o.alternate;if(o.lanes===0&&(I===null||I.lanes===0)&&(I=u.lastRenderedReducer,I!==null))try{var J=u.lastRenderedState,pe=I(J,p);if(E.hasEagerState=!0,E.eagerState=pe,Aa(pe,J))return Qu(o,u,E,0),ri===null&&uo(),!1}catch{}finally{}if(p=Ku(o,u,E,v),p!==null)return Uo(p,o,v),KA(p,u,v),!0}return!1}function g2(o,u,p,v){if(v={lane:2,revertLane:G2(),action:v,hasEagerState:!1,eagerState:null,next:null},Tb(o)){if(u)throw Error(r(479))}else u=Ku(o,p,v,2),u!==null&&Uo(u,o,2)}function Tb(o){var u=o.alternate;return o===Jt||u!==null&&u===Jt}function QA(o,u){_a=Gn=!0;var p=o.pending;p===null?u.next=u:(u.next=p.next,p.next=u),o.pending=u}function KA(o,u,p){if((p&4194048)!==0){var v=u.lanes;v&=o.pendingLanes,p|=v,u.lanes=p,En(o,p)}}var Ob={readContext:aa,use:js,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useLayoutEffect:ur,useInsertionEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useSyncExternalStore:ur,useId:ur,useHostTransitionStatus:ur,useFormState:ur,useActionState:ur,useOptimistic:ur,useMemoCache:ur,useCacheRefresh:ur},XA={readContext:aa,use:js,useCallback:function(o,u){return us().memoizedState=[o,u===void 0?null:u],o},useContext:aa,useEffect:jm,useImperativeHandle:function(o,u,p){p=p!=null?p.concat([o]):null,Fo(4194308,4,kb.bind(null,u,o),p)},useLayoutEffect:function(o,u){return Fo(4194308,4,o,u)},useInsertionEffect:function(o,u){Fo(4,2,o,u)},useMemo:function(o,u){var p=us();u=u===void 0?null:u;var v=o();if(oa){ke(!0);try{o()}finally{ke(!1)}}return p.memoizedState=[v,u],v},useReducer:function(o,u,p){var v=us();if(p!==void 0){var E=p(u);if(oa){ke(!0);try{p(u)}finally{ke(!1)}}}else E=u;return v.memoizedState=v.baseState=E,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:E},v.queue=o,o=o.dispatch=Rm.bind(null,Jt,o),[v.memoizedState,o]},useRef:function(o){var u=us();return o={current:o},u.memoizedState=o},useState:function(o){o=Ih(o);var u=o.queue,p=GA.bind(null,Jt,u);return u.dispatch=p,[o.memoizedState,p]},useDebugValue:Om,useDeferredValue:function(o,u){var p=us();return dd(p,o,u)},useTransition:function(){var o=Ih(!1);return o=Rh.bind(null,Jt,o.queue,!0,!1),us().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,p){var v=Jt,E=us();if(nr){if(p===void 0)throw Error(r(407));p=p()}else{if(p=u(),ri===null)throw Error(r(349));(Qn&124)!==0||qp(v,u,p)}E.memoizedState=p;var I={value:p,getSnapshot:u};return E.queue=I,jm(hf.bind(null,v,I,o),[o]),v.flags|=2048,au(9,Lh(),Oh.bind(null,v,I,p,u),null),p},useId:function(){var o=us(),u=ri.identifierPrefix;if(nr){var p=eu,v=Jl;p=(v&~(1<<32-je(v)-1)).toString(32)+p,u=""+u+"R"+p,p=Ni++,0<p&&(u+="H"+p.toString(32)),u+=""}else p=ho++,u=""+u+"r"+p.toString(32)+"";return o.memoizedState=u},useHostTransitionStatus:Fh,useFormState:Dh,useActionState:Dh,useOptimistic:function(o){var u=us();u.memoizedState=u.baseState=o;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=p,u=g2.bind(null,Jt,!0,p),p.dispatch=u,[o,u]},useMemoCache:ic,useCacheRefresh:function(){return us().memoizedState=Lm.bind(null,Jt)}},ZA={readContext:aa,use:js,useCallback:Im,useContext:aa,useEffect:_b,useImperativeHandle:Tm,useInsertionEffect:Nm,useLayoutEffect:cd,useMemo:jb,useReducer:Nh,useRef:Up,useState:function(){return Nh(Ns)},useDebugValue:Om,useDeferredValue:function(o,u){var p=di();return $p(p,un.memoizedState,o,u)},useTransition:function(){var o=Nh(Ns)[0],u=di().memoizedState;return[typeof o=="boolean"?o:rc(o),u]},useSyncExternalStore:Th,useId:Dm,useHostTransitionStatus:Fh,useFormState:Bp,useActionState:Bp,useOptimistic:function(o,u){var p=di();return iu(p,un,o,u)},useMemoCache:ic,useCacheRefresh:Nb},BL={readContext:aa,use:js,useCallback:Im,useContext:aa,useEffect:_b,useImperativeHandle:Tm,useInsertionEffect:Nm,useLayoutEffect:cd,useMemo:jb,useReducer:zp,useRef:Up,useState:function(){return zp(Ns)},useDebugValue:Om,useDeferredValue:function(o,u){var p=di();return un===null?dd(p,o,u):$p(p,un.memoizedState,o,u)},useTransition:function(){var o=zp(Ns)[0],u=di().memoizedState;return[typeof o=="boolean"?o:rc(o),u]},useSyncExternalStore:Th,useId:Dm,useHostTransitionStatus:Fh,useFormState:Eb,useActionState:Eb,useOptimistic:function(o,u){var p=di();return un!==null?iu(p,un,o,u):(p.baseState=o,[o,p.queue.dispatch])},useMemoCache:ic,useCacheRefresh:Nb},Hp=null,Fm=0;function Ib(o){var u=Fm;return Fm+=1,Hp===null&&(Hp=[]),Qe(Hp,o,u)}function Pm(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function Db(o,u){throw u.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(u),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function JA(o){var u=o._init;return u(o._payload)}function eC(o){function u(He,ze){if(o){var Ge=He.deletions;Ge===null?(He.deletions=[ze],He.flags|=16):Ge.push(ze)}}function p(He,ze){if(!o)return null;for(;ze!==null;)u(He,ze),ze=ze.sibling;return null}function v(He){for(var ze=new Map;He!==null;)He.key!==null?ze.set(He.key,He):ze.set(He.index,He),He=He.sibling;return ze}function E(He,ze){return He=ml(He,ze),He.index=0,He.sibling=null,He}function I(He,ze,Ge){return He.index=Ge,o?(Ge=He.alternate,Ge!==null?(Ge=Ge.index,Ge<ze?(He.flags|=67108866,ze):Ge):(He.flags|=67108866,ze)):(He.flags|=1048576,ze)}function J(He){return o&&He.alternate===null&&(He.flags|=67108866),He}function pe(He,ze,Ge,yt){return ze===null||ze.tag!==6?(ze=Ip(Ge,He.mode,yt),ze.return=He,ze):(ze=E(ze,Ge),ze.return=He,ze)}function Ne(He,ze,Ge,yt){var Pt=Ge.type;return Pt===x?gt(He,ze,Ge.props.children,yt,Ge.key):ze!==null&&(ze.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===M&&JA(Pt)===ze.type)?(ze=E(ze,Ge.props),Pm(ze,Ge),ze.return=He,ze):(ze=rd(Ge.type,Ge.key,Ge.props,null,He.mode,yt),Pm(ze,Ge),ze.return=He,ze)}function Xe(He,ze,Ge,yt){return ze===null||ze.tag!==4||ze.stateNode.containerInfo!==Ge.containerInfo||ze.stateNode.implementation!==Ge.implementation?(ze=Ah(Ge,He.mode,yt),ze.return=He,ze):(ze=E(ze,Ge.children||[]),ze.return=He,ze)}function gt(He,ze,Ge,yt,Pt){return ze===null||ze.tag!==7?(ze=Xl(Ge,He.mode,yt,Pt),ze.return=He,ze):(ze=E(ze,Ge),ze.return=He,ze)}function At(He,ze,Ge){if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return ze=Ip(""+ze,He.mode,Ge),ze.return=He,ze;if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case b:return Ge=rd(ze.type,ze.key,ze.props,null,He.mode,Ge),Pm(Ge,ze),Ge.return=He,Ge;case m:return ze=Ah(ze,He.mode,Ge),ze.return=He,ze;case M:var yt=ze._init;return ze=yt(ze._payload),At(He,ze,Ge)}if(K(ze)||O(ze))return ze=Xl(ze,He.mode,Ge,null),ze.return=He,ze;if(typeof ze.then=="function")return At(He,Ib(ze),Ge);if(ze.$$typeof===j)return At(He,ec(He,ze),Ge);Db(He,ze)}return null}function et(He,ze,Ge,yt){var Pt=ze!==null?ze.key:null;if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint")return Pt!==null?null:pe(He,ze,""+Ge,yt);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case b:return Ge.key===Pt?Ne(He,ze,Ge,yt):null;case m:return Ge.key===Pt?Xe(He,ze,Ge,yt):null;case M:return Pt=Ge._init,Ge=Pt(Ge._payload),et(He,ze,Ge,yt)}if(K(Ge)||O(Ge))return Pt!==null?null:gt(He,ze,Ge,yt,null);if(typeof Ge.then=="function")return et(He,ze,Ib(Ge),yt);if(Ge.$$typeof===j)return et(He,ze,ec(He,Ge),yt);Db(He,Ge)}return null}function tt(He,ze,Ge,yt,Pt){if(typeof yt=="string"&&yt!==""||typeof yt=="number"||typeof yt=="bigint")return He=He.get(Ge)||null,pe(ze,He,""+yt,Pt);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case b:return He=He.get(yt.key===null?Ge:yt.key)||null,Ne(ze,He,yt,Pt);case m:return He=He.get(yt.key===null?Ge:yt.key)||null,Xe(ze,He,yt,Pt);case M:var Fn=yt._init;return yt=Fn(yt._payload),tt(He,ze,Ge,yt,Pt)}if(K(yt)||O(yt))return He=He.get(Ge)||null,gt(ze,He,yt,Pt,null);if(typeof yt.then=="function")return tt(He,ze,Ge,Ib(yt),Pt);if(yt.$$typeof===j)return tt(He,ze,Ge,ec(ze,yt),Pt);Db(ze,yt)}return null}function hn(He,ze,Ge,yt){for(var Pt=null,Fn=null,Qt=ze,sn=ze=0,Ga=null;Qt!==null&&sn<Ge.length;sn++){Qt.index>sn?(Ga=Qt,Qt=null):Ga=Qt.sibling;var cr=et(He,Qt,Ge[sn],yt);if(cr===null){Qt===null&&(Qt=Ga);break}o&&Qt&&cr.alternate===null&&u(He,Qt),ze=I(cr,ze,sn),Fn===null?Pt=cr:Fn.sibling=cr,Fn=cr,Qt=Ga}if(sn===Ge.length)return p(He,Qt),nr&&ad(He,sn),Pt;if(Qt===null){for(;sn<Ge.length;sn++)Qt=At(He,Ge[sn],yt),Qt!==null&&(ze=I(Qt,ze,sn),Fn===null?Pt=Qt:Fn.sibling=Qt,Fn=Qt);return nr&&ad(He,sn),Pt}for(Qt=v(Qt);sn<Ge.length;sn++)Ga=tt(Qt,He,sn,Ge[sn],yt),Ga!==null&&(o&&Ga.alternate!==null&&Qt.delete(Ga.key===null?sn:Ga.key),ze=I(Ga,ze,sn),Fn===null?Pt=Ga:Fn.sibling=Ga,Fn=Ga);return o&&Qt.forEach(function(If){return u(He,If)}),nr&&ad(He,sn),Pt}function nn(He,ze,Ge,yt){if(Ge==null)throw Error(r(151));for(var Pt=null,Fn=null,Qt=ze,sn=ze=0,Ga=null,cr=Ge.next();Qt!==null&&!cr.done;sn++,cr=Ge.next()){Qt.index>sn?(Ga=Qt,Qt=null):Ga=Qt.sibling;var If=et(He,Qt,cr.value,yt);if(If===null){Qt===null&&(Qt=Ga);break}o&&Qt&&If.alternate===null&&u(He,Qt),ze=I(If,ze,sn),Fn===null?Pt=If:Fn.sibling=If,Fn=If,Qt=Ga}if(cr.done)return p(He,Qt),nr&&ad(He,sn),Pt;if(Qt===null){for(;!cr.done;sn++,cr=Ge.next())cr=At(He,cr.value,yt),cr!==null&&(ze=I(cr,ze,sn),Fn===null?Pt=cr:Fn.sibling=cr,Fn=cr);return nr&&ad(He,sn),Pt}for(Qt=v(Qt);!cr.done;sn++,cr=Ge.next())cr=tt(Qt,He,sn,cr.value,yt),cr!==null&&(o&&cr.alternate!==null&&Qt.delete(cr.key===null?sn:cr.key),ze=I(cr,ze,sn),Fn===null?Pt=cr:Fn.sibling=cr,Fn=cr);return o&&Qt.forEach(function(U9){return u(He,U9)}),nr&&ad(He,sn),Pt}function Br(He,ze,Ge,yt){if(typeof Ge=="object"&&Ge!==null&&Ge.type===x&&Ge.key===null&&(Ge=Ge.props.children),typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case b:e:{for(var Pt=Ge.key;ze!==null;){if(ze.key===Pt){if(Pt=Ge.type,Pt===x){if(ze.tag===7){p(He,ze.sibling),yt=E(ze,Ge.props.children),yt.return=He,He=yt;break e}}else if(ze.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===M&&JA(Pt)===ze.type){p(He,ze.sibling),yt=E(ze,Ge.props),Pm(yt,Ge),yt.return=He,He=yt;break e}p(He,ze);break}else u(He,ze);ze=ze.sibling}Ge.type===x?(yt=Xl(Ge.props.children,He.mode,yt,Ge.key),yt.return=He,He=yt):(yt=rd(Ge.type,Ge.key,Ge.props,null,He.mode,yt),Pm(yt,Ge),yt.return=He,He=yt)}return J(He);case m:e:{for(Pt=Ge.key;ze!==null;){if(ze.key===Pt)if(ze.tag===4&&ze.stateNode.containerInfo===Ge.containerInfo&&ze.stateNode.implementation===Ge.implementation){p(He,ze.sibling),yt=E(ze,Ge.children||[]),yt.return=He,He=yt;break e}else{p(He,ze);break}else u(He,ze);ze=ze.sibling}yt=Ah(Ge,He.mode,yt),yt.return=He,He=yt}return J(He);case M:return Pt=Ge._init,Ge=Pt(Ge._payload),Br(He,ze,Ge,yt)}if(K(Ge))return hn(He,ze,Ge,yt);if(O(Ge)){if(Pt=O(Ge),typeof Pt!="function")throw Error(r(150));return Ge=Pt.call(Ge),nn(He,ze,Ge,yt)}if(typeof Ge.then=="function")return Br(He,ze,Ib(Ge),yt);if(Ge.$$typeof===j)return Br(He,ze,ec(He,Ge),yt);Db(He,Ge)}return typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint"?(Ge=""+Ge,ze!==null&&ze.tag===6?(p(He,ze.sibling),yt=E(ze,Ge),yt.return=He,He=yt):(p(He,ze),yt=Ip(Ge,He.mode,yt),yt.return=He,He=yt),J(He)):p(He,ze)}return function(He,ze,Ge,yt){try{Fm=0;var Pt=Br(He,ze,Ge,yt);return Hp=null,Pt}catch(Qt){if(Qt===oe||Qt===fe)throw Qt;var Fn=Wa(29,Qt,null,He.mode);return Fn.lanes=yt,Fn.return=He,Fn}finally{}}}var Wp=eC(!0),tC=eC(!1),wl=te(null),ac=null;function bf(o){var u=o.alternate;B(Ra,Ra.current&1),B(wl,o),ac===null&&(u===null||In.current!==null||u.memoizedState!==null)&&(ac=o)}function nC(o){if(o.tag===22){if(B(Ra,Ra.current),B(wl,o),ac===null){var u=o.alternate;u!==null&&u.memoizedState!==null&&(ac=o)}}else yf()}function yf(){B(Ra,Ra.current),B(wl,wl.current)}function fd(o){U(wl),ac===o&&(ac=null),U(Ra)}var Ra=te(0);function Lb(o){for(var u=o;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||s5(p)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function b2(o,u,p,v){u=o.memoizedState,p=p(v,u),p=p==null?u:h({},u,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var y2={enqueueSetState:function(o,u,p){o=o._reactInternals;var v=Bo(),E=pt(v);E.payload=u,p!=null&&(E.callback=p),u=wt(o,E,v),u!==null&&(Uo(u,o,v),bt(u,o,v))},enqueueReplaceState:function(o,u,p){o=o._reactInternals;var v=Bo(),E=pt(v);E.tag=1,E.payload=u,p!=null&&(E.callback=p),u=wt(o,E,v),u!==null&&(Uo(u,o,v),bt(u,o,v))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var p=Bo(),v=pt(p);v.tag=2,u!=null&&(v.callback=u),u=wt(o,v,p),u!==null&&(Uo(u,o,p),bt(u,o,p))}};function rC(o,u,p,v,E,I,J){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(v,I,J):u.prototype&&u.prototype.isPureReactComponent?!Uu(p,v)||!Uu(E,I):!0}function iC(o,u,p,v){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,v),u.state!==o&&y2.enqueueReplaceState(u,u.state,null)}function Ph(o,u){var p=u;if("ref"in u){p={};for(var v in u)v!=="ref"&&(p[v]=u[v])}if(o=o.defaultProps){p===u&&(p=h({},p));for(var E in o)p[E]===void 0&&(p[E]=o[E])}return p}var Rb=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function aC(o){Rb(o)}function sC(o){console.error(o)}function oC(o){Rb(o)}function Mb(o,u){try{var p=o.onUncaughtError;p(u.value,{componentStack:u.stack})}catch(v){setTimeout(function(){throw v})}}function lC(o,u,p){try{var v=o.onCaughtError;v(p.value,{componentStack:p.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function x2(o,u,p){return p=pt(p),p.tag=3,p.payload={element:null},p.callback=function(){Mb(o,u)},p}function uC(o){return o=pt(o),o.tag=3,o}function cC(o,u,p,v){var E=p.type.getDerivedStateFromError;if(typeof E=="function"){var I=v.value;o.payload=function(){return E(I)},o.callback=function(){lC(u,p,v)}}var J=p.stateNode;J!==null&&typeof J.componentDidCatch=="function"&&(o.callback=function(){lC(u,p,v),typeof E!="function"&&(Cf===null?Cf=new Set([this]):Cf.add(this));var pe=v.stack;this.componentDidCatch(v.value,{componentStack:pe!==null?pe:""})})}function UL(o,u,p,v,E){if(p.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(u=p.alternate,u!==null&&df(u,p,E,!0),p=wl.current,p!==null){switch(p.tag){case 13:return ac===null?$2():p.alternate===null&&Wi===0&&(Wi=3),p.flags&=-257,p.flags|=65536,p.lanes=E,v===be?p.flags|=16384:(u=p.updateQueue,u===null?p.updateQueue=new Set([v]):u.add(v),W2(o,v,E)),!1;case 22:return p.flags|=65536,v===be?p.flags|=16384:(u=p.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([v])},p.updateQueue=u):(p=u.retryQueue,p===null?u.retryQueue=new Set([v]):p.add(v)),W2(o,v,E)),!1}throw Error(r(435,p.tag))}return W2(o,v,E),$2(),!1}if(nr)return u=wl.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=E,v!==Sm&&(o=Error(r(422),{cause:v}),cf(Ln(o,p)))):(v!==Sm&&(u=Error(r(423),{cause:v}),cf(Ln(u,p))),o=o.current.alternate,o.flags|=65536,E&=-E,o.lanes|=E,v=Ln(v,p),E=x2(o.stateNode,v,E),Ot(o,E),Wi!==4&&(Wi=2)),!1;var I=Error(r(520),{cause:v});if(I=Ln(I,p),Wm===null?Wm=[I]:Wm.push(I),Wi!==4&&(Wi=2),u===null)return!0;v=Ln(v,p),p=u;do{switch(p.tag){case 3:return p.flags|=65536,o=E&-E,p.lanes|=o,o=x2(p.stateNode,v,o),Ot(p,o),!1;case 1:if(u=p.type,I=p.stateNode,(p.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Cf===null||!Cf.has(I))))return p.flags|=65536,E&=-E,p.lanes|=E,E=uC(E),cC(E,o,p,v),Ot(p,E),!1}p=p.return}while(p!==null);return!1}var dC=Error(r(461)),Va=!1;function cs(o,u,p,v){u.child=o===null?tC(u,null,p,v):Wp(u,o.child,p,v)}function fC(o,u,p,v,E){p=p.render;var I=u.ref;if("ref"in v){var J={};for(var pe in v)pe!=="ref"&&(J[pe]=v[pe])}else J=v;return xl(u),v=Mo(o,u,p,J,I,E),pe=ni(),o!==null&&!Va?(jh(o,u,E),hd(o,u,E)):(nr&&pe&&Ch(u),u.flags|=1,cs(o,u,v,E),u.child)}function hC(o,u,p,v,E){if(o===null){var I=p.type;return typeof I=="function"&&!lf(I)&&I.defaultProps===void 0&&p.compare===null?(u.tag=15,u.type=I,pC(o,u,I,v,E)):(o=rd(p.type,null,v,u,u.mode,E),o.ref=u.ref,o.return=u,u.child=o)}if(I=o.child,!k2(o,E)){var J=I.memoizedProps;if(p=p.compare,p=p!==null?p:Uu,p(J,v)&&o.ref===u.ref)return hd(o,u,E)}return u.flags|=1,o=ml(I,v),o.ref=u.ref,o.return=u,u.child=o}function pC(o,u,p,v,E){if(o!==null){var I=o.memoizedProps;if(Uu(I,v)&&o.ref===u.ref)if(Va=!1,u.pendingProps=v=I,k2(o,E))(o.flags&131072)!==0&&(Va=!0);else return u.lanes=o.lanes,hd(o,u,E)}return v2(o,u,p,v,E)}function mC(o,u,p){var v=u.pendingProps,E=v.children,I=o!==null?o.memoizedState:null;if(v.mode==="hidden"){if((u.flags&128)!==0){if(v=I!==null?I.baseLanes|p:p,o!==null){for(E=u.child=o.child,I=0;E!==null;)I=I|E.lanes|E.childLanes,E=E.sibling;u.childLanes=I&~v}else u.childLanes=0,u.child=null;return gC(o,u,v,p)}if((p&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&W(u,I!==null?I.cachePool:null),I!==null?Er(u,I):lr(),nC(u);else return u.lanes=u.childLanes=536870912,gC(o,u,I!==null?I.baseLanes|p:p,p)}else I!==null?(W(u,I.cachePool),Er(u,I),yf(),u.memoizedState=null):(o!==null&&W(u,null),lr(),yf());return cs(o,u,E,p),u.child}function gC(o,u,p,v){var E=P();return E=E===null?null:{parent:sa._currentValue,pool:E},u.memoizedState={baseLanes:p,cachePool:E},o!==null&&W(u,null),lr(),nC(u),o!==null&&df(o,u,v,!0),null}function Fb(o,u){var p=u.ref;if(p===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(o===null||o.ref!==p)&&(u.flags|=4194816)}}function v2(o,u,p,v,E){return xl(u),p=Mo(o,u,p,v,void 0,E),v=ni(),o!==null&&!Va?(jh(o,u,E),hd(o,u,E)):(nr&&v&&Ch(u),u.flags|=1,cs(o,u,p,E),u.child)}function bC(o,u,p,v,E,I){return xl(u),u.updateQueue=null,p=ld(u,v,p,E),tc(o),v=ni(),o!==null&&!Va?(jh(o,u,I),hd(o,u,I)):(nr&&v&&Ch(u),u.flags|=1,cs(o,u,p,I),u.child)}function yC(o,u,p,v,E){if(xl(u),u.stateNode===null){var I=Ca,J=p.contextType;typeof J=="object"&&J!==null&&(I=aa(J)),I=new p(v,I),u.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,I.updater=y2,u.stateNode=I,I._reactInternals=u,I=u.stateNode,I.props=v,I.state=u.memoizedState,I.refs={},Fe(u),J=p.contextType,I.context=typeof J=="object"&&J!==null?aa(J):Ca,I.state=u.memoizedState,J=p.getDerivedStateFromProps,typeof J=="function"&&(b2(u,p,J,v),I.state=u.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(J=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),J!==I.state&&y2.enqueueReplaceState(I,I.state,null),Nt(u,v,I,E),Yt(),I.state=u.memoizedState),typeof I.componentDidMount=="function"&&(u.flags|=4194308),v=!0}else if(o===null){I=u.stateNode;var pe=u.memoizedProps,Ne=Ph(p,pe);I.props=Ne;var Xe=I.context,gt=p.contextType;J=Ca,typeof gt=="object"&&gt!==null&&(J=aa(gt));var At=p.getDerivedStateFromProps;gt=typeof At=="function"||typeof I.getSnapshotBeforeUpdate=="function",pe=u.pendingProps!==pe,gt||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(pe||Xe!==J)&&iC(u,I,v,J),rt=!1;var et=u.memoizedState;I.state=et,Nt(u,v,I,E),Yt(),Xe=u.memoizedState,pe||et!==Xe||rt?(typeof At=="function"&&(b2(u,p,At,v),Xe=u.memoizedState),(Ne=rt||rC(u,p,Ne,v,et,Xe,J))?(gt||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(u.flags|=4194308)):(typeof I.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=Xe),I.props=v,I.state=Xe,I.context=J,v=Ne):(typeof I.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{I=u.stateNode,qe(o,u),J=u.memoizedProps,gt=Ph(p,J),I.props=gt,At=u.pendingProps,et=I.context,Xe=p.contextType,Ne=Ca,typeof Xe=="object"&&Xe!==null&&(Ne=aa(Xe)),pe=p.getDerivedStateFromProps,(Xe=typeof pe=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(J!==At||et!==Ne)&&iC(u,I,v,Ne),rt=!1,et=u.memoizedState,I.state=et,Nt(u,v,I,E),Yt();var tt=u.memoizedState;J!==At||et!==tt||rt||o!==null&&o.dependencies!==null&&Mp(o.dependencies)?(typeof pe=="function"&&(b2(u,p,pe,v),tt=u.memoizedState),(gt=rt||rC(u,p,gt,v,et,tt,Ne)||o!==null&&o.dependencies!==null&&Mp(o.dependencies))?(Xe||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(v,tt,Ne),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(v,tt,Ne)),typeof I.componentDidUpdate=="function"&&(u.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof I.componentDidUpdate!="function"||J===o.memoizedProps&&et===o.memoizedState||(u.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||J===o.memoizedProps&&et===o.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=tt),I.props=v,I.state=tt,I.context=Ne,v=gt):(typeof I.componentDidUpdate!="function"||J===o.memoizedProps&&et===o.memoizedState||(u.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||J===o.memoizedProps&&et===o.memoizedState||(u.flags|=1024),v=!1)}return I=v,Fb(o,u),v=(u.flags&128)!==0,I||v?(I=u.stateNode,p=v&&typeof p.getDerivedStateFromError!="function"?null:I.render(),u.flags|=1,o!==null&&v?(u.child=Wp(u,o.child,null,E),u.child=Wp(u,null,p,E)):cs(o,u,p,E),u.memoizedState=I.state,o=u.child):o=hd(o,u,E),o}function xC(o,u,p,v){return Zs(),u.flags|=256,cs(o,u,p,v),u.child}var w2={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function S2(o){return{baseLanes:o,cachePool:ie()}}function A2(o,u,p){return o=o!==null?o.childLanes&~p:0,u&&(o|=Sl),o}function vC(o,u,p){var v=u.pendingProps,E=!1,I=(u.flags&128)!==0,J;if((J=I)||(J=o!==null&&o.memoizedState===null?!1:(Ra.current&2)!==0),J&&(E=!0,u.flags&=-129),J=(u.flags&32)!==0,u.flags&=-33,o===null){if(nr){if(E?bf(u):yf(),nr){var pe=yi,Ne;if(Ne=pe){e:{for(Ne=pe,pe=gl;Ne.nodeType!==8;){if(!pe){pe=null;break e}if(Ne=uu(Ne.nextSibling),Ne===null){pe=null;break e}}pe=Ne}pe!==null?(u.memoizedState={dehydrated:pe,treeContext:id!==null?{id:Jl,overflow:eu}:null,retryLane:536870912,hydrationErrors:null},Ne=Wa(18,null,null,0),Ne.stateNode=pe,Ne.return=u,u.child=Ne,ia=u,yi=null,Ne=!0):Ne=!1}Ne||sd(u)}if(pe=u.memoizedState,pe!==null&&(pe=pe.dehydrated,pe!==null))return s5(pe)?u.lanes=32:u.lanes=536870912,null;fd(u)}return pe=v.children,v=v.fallback,E?(yf(),E=u.mode,pe=Pb({mode:"hidden",children:pe},E),v=Xl(v,E,p,null),pe.return=u,v.return=u,pe.sibling=v,u.child=pe,E=u.child,E.memoizedState=S2(p),E.childLanes=A2(o,J,p),u.memoizedState=w2,v):(bf(u),C2(u,pe))}if(Ne=o.memoizedState,Ne!==null&&(pe=Ne.dehydrated,pe!==null)){if(I)u.flags&256?(bf(u),u.flags&=-257,u=E2(o,u,p)):u.memoizedState!==null?(yf(),u.child=o.child,u.flags|=128,u=null):(yf(),E=v.fallback,pe=u.mode,v=Pb({mode:"visible",children:v.children},pe),E=Xl(E,pe,p,null),E.flags|=2,v.return=u,E.return=u,v.sibling=E,u.child=v,Wp(u,o.child,null,p),v=u.child,v.memoizedState=S2(p),v.childLanes=A2(o,J,p),u.memoizedState=w2,u=E);else if(bf(u),s5(pe)){if(J=pe.nextSibling&&pe.nextSibling.dataset,J)var Xe=J.dgst;J=Xe,v=Error(r(419)),v.stack="",v.digest=J,cf({value:v,source:null,stack:null}),u=E2(o,u,p)}else if(Va||df(o,u,p,!1),J=(p&o.childLanes)!==0,Va||J){if(J=ri,J!==null&&(v=p&-p,v=(v&42)!==0?1:xa(v),v=(v&(J.suspendedLanes|p))!==0?0:v,v!==0&&v!==Ne.retryLane))throw Ne.retryLane=v,Kl(o,v),Uo(J,o,v),dC;pe.data==="$?"||$2(),u=E2(o,u,p)}else pe.data==="$?"?(u.flags|=192,u.child=o.child,u=null):(o=Ne.treeContext,yi=uu(pe.nextSibling),ia=u,nr=!0,Zu=null,gl=!1,o!==null&&(fo[Xs++]=Jl,fo[Xs++]=eu,fo[Xs++]=id,Jl=o.id,eu=o.overflow,id=u),u=C2(u,v.children),u.flags|=4096);return u}return E?(yf(),E=v.fallback,pe=u.mode,Ne=o.child,Xe=Ne.sibling,v=ml(Ne,{mode:"hidden",children:v.children}),v.subtreeFlags=Ne.subtreeFlags&65011712,Xe!==null?E=ml(Xe,E):(E=Xl(E,pe,p,null),E.flags|=2),E.return=u,v.return=u,v.sibling=E,u.child=v,v=E,E=u.child,pe=o.child.memoizedState,pe===null?pe=S2(p):(Ne=pe.cachePool,Ne!==null?(Xe=sa._currentValue,Ne=Ne.parent!==Xe?{parent:Xe,pool:Xe}:Ne):Ne=ie(),pe={baseLanes:pe.baseLanes|p,cachePool:Ne}),E.memoizedState=pe,E.childLanes=A2(o,J,p),u.memoizedState=w2,v):(bf(u),p=o.child,o=p.sibling,p=ml(p,{mode:"visible",children:v.children}),p.return=u,p.sibling=null,o!==null&&(J=u.deletions,J===null?(u.deletions=[o],u.flags|=16):J.push(o)),u.child=p,u.memoizedState=null,p)}function C2(o,u){return u=Pb({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function Pb(o,u){return o=Wa(22,o,null,u),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function E2(o,u,p){return Wp(u,o.child,null,p),o=C2(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function wC(o,u,p){o.lanes|=u;var v=o.alternate;v!==null&&(v.lanes|=u),Lp(o.return,u,p)}function _2(o,u,p,v,E){var I=o.memoizedState;I===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:E}:(I.isBackwards=u,I.rendering=null,I.renderingStartTime=0,I.last=v,I.tail=p,I.tailMode=E)}function SC(o,u,p){var v=u.pendingProps,E=v.revealOrder,I=v.tail;if(cs(o,u,v.children,p),v=Ra.current,(v&2)!==0)v=v&1|2,u.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&wC(o,p,u);else if(o.tag===19)wC(o,p,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}v&=1}switch(B(Ra,v),E){case"forwards":for(p=u.child,E=null;p!==null;)o=p.alternate,o!==null&&Lb(o)===null&&(E=p),p=p.sibling;p=E,p===null?(E=u.child,u.child=null):(E=p.sibling,p.sibling=null),_2(u,!1,E,p,I);break;case"backwards":for(p=null,E=u.child,u.child=null;E!==null;){if(o=E.alternate,o!==null&&Lb(o)===null){u.child=E;break}o=E.sibling,E.sibling=p,p=E,E=o}_2(u,!0,p,null,I);break;case"together":_2(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function hd(o,u,p){if(o!==null&&(u.dependencies=o.dependencies),Af|=u.lanes,(p&u.childLanes)===0)if(o!==null){if(df(o,u,p,!1),(p&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(r(153));if(u.child!==null){for(o=u.child,p=ml(o,o.pendingProps),u.child=p,p.return=u;o.sibling!==null;)o=o.sibling,p=p.sibling=ml(o,o.pendingProps),p.return=u;p.sibling=null}return u.child}function k2(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&Mp(o)))}function $L(o,u,p){switch(u.tag){case 3:ye(u,u.stateNode.containerInfo),Ju(u,sa,o.memoizedState.cache),Zs();break;case 27:case 5:Oe(u);break;case 4:ye(u,u.stateNode.containerInfo);break;case 10:Ju(u,u.type,u.memoizedProps.value);break;case 13:var v=u.memoizedState;if(v!==null)return v.dehydrated!==null?(bf(u),u.flags|=128,null):(p&u.child.childLanes)!==0?vC(o,u,p):(bf(u),o=hd(o,u,p),o!==null?o.sibling:null);bf(u);break;case 19:var E=(o.flags&128)!==0;if(v=(p&u.childLanes)!==0,v||(df(o,u,p,!1),v=(p&u.childLanes)!==0),E){if(v)return SC(o,u,p);u.flags|=128}if(E=u.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),B(Ra,Ra.current),v)break;return null;case 22:case 23:return u.lanes=0,mC(o,u,p);case 24:Ju(u,sa,o.memoizedState.cache)}return hd(o,u,p)}function AC(o,u,p){if(o!==null)if(o.memoizedProps!==u.pendingProps)Va=!0;else{if(!k2(o,p)&&(u.flags&128)===0)return Va=!1,$L(o,u,p);Va=(o.flags&131072)!==0}else Va=!1,nr&&(u.flags&1048576)!==0&&pb(u,Dp,u.index);switch(u.lanes=0,u.tag){case 16:e:{o=u.pendingProps;var v=u.elementType,E=v._init;if(v=E(v._payload),u.type=v,typeof v=="function")lf(v)?(o=Ph(v,o),u.tag=1,u=yC(null,u,v,o,p)):(u.tag=0,u=v2(null,u,v,o,p));else{if(v!=null){if(E=v.$$typeof,E===F){u.tag=11,u=fC(null,u,v,o,p);break e}else if(E===k){u.tag=14,u=hC(null,u,v,o,p);break e}}throw u=N(v)||v,Error(r(306,u,""))}}return u;case 0:return v2(o,u,u.type,u.pendingProps,p);case 1:return v=u.type,E=Ph(v,u.pendingProps),yC(o,u,v,E,p);case 3:e:{if(ye(u,u.stateNode.containerInfo),o===null)throw Error(r(387));v=u.pendingProps;var I=u.memoizedState;E=I.element,qe(o,u),Nt(u,v,null,p);var J=u.memoizedState;if(v=J.cache,Ju(u,sa,v),v!==I.cache&&Rp(u,[sa],p,!0),Yt(),v=J.element,I.isDehydrated)if(I={element:v,isDehydrated:!1,cache:J.cache},u.updateQueue.baseState=I,u.memoizedState=I,u.flags&256){u=xC(o,u,v,p);break e}else if(v!==E){E=Ln(Error(r(424)),u),cf(E),u=xC(o,u,v,p);break e}else{switch(o=u.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(yi=uu(o.firstChild),ia=u,nr=!0,Zu=null,gl=!0,p=tC(u,null,v,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(Zs(),v===E){u=hd(o,u,p);break e}cs(o,u,v,p)}u=u.child}return u;case 26:return Fb(o,u),o===null?(p=kE(u.type,null,u.pendingProps,null))?u.memoizedState=p:nr||(p=u.type,o=u.pendingProps,v=Zb(ne.current).createElement(p),v[Wn]=u,v[sr]=o,fs(v,p,o),tr(v),u.stateNode=v):u.memoizedState=kE(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:return Oe(u),o===null&&nr&&(v=u.stateNode=CE(u.type,u.pendingProps,ne.current),ia=u,gl=!0,E=yi,kf(u.type)?(o5=E,yi=uu(v.firstChild)):yi=E),cs(o,u,u.pendingProps.children,p),Fb(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&nr&&((E=v=yi)&&(v=b9(v,u.type,u.pendingProps,gl),v!==null?(u.stateNode=v,ia=u,yi=uu(v.firstChild),gl=!1,E=!0):E=!1),E||sd(u)),Oe(u),E=u.type,I=u.pendingProps,J=o!==null?o.memoizedProps:null,v=I.children,r5(E,I)?v=null:J!==null&&r5(E,J)&&(u.flags|=32),u.memoizedState!==null&&(E=Mo(o,u,nc,null,null,p),e1._currentValue=E),Fb(o,u),cs(o,u,v,p),u.child;case 6:return o===null&&nr&&((o=p=yi)&&(p=y9(p,u.pendingProps,gl),p!==null?(u.stateNode=p,ia=u,yi=null,o=!0):o=!1),o||sd(u)),null;case 13:return vC(o,u,p);case 4:return ye(u,u.stateNode.containerInfo),v=u.pendingProps,o===null?u.child=Wp(u,null,v,p):cs(o,u,v,p),u.child;case 11:return fC(o,u,u.type,u.pendingProps,p);case 7:return cs(o,u,u.pendingProps,p),u.child;case 8:return cs(o,u,u.pendingProps.children,p),u.child;case 12:return cs(o,u,u.pendingProps.children,p),u.child;case 10:return v=u.pendingProps,Ju(u,u.type,v.value),cs(o,u,v.children,p),u.child;case 9:return E=u.type._context,v=u.pendingProps.children,xl(u),E=aa(E),v=v(E),u.flags|=1,cs(o,u,v,p),u.child;case 14:return hC(o,u,u.type,u.pendingProps,p);case 15:return pC(o,u,u.type,u.pendingProps,p);case 19:return SC(o,u,p);case 31:return v=u.pendingProps,p=u.mode,v={mode:v.mode,children:v.children},o===null?(p=Pb(v,p),p.ref=u.ref,u.child=p,p.return=u,u=p):(p=ml(o.child,v),p.ref=u.ref,u.child=p,p.return=u,u=p),u;case 22:return mC(o,u,p);case 24:return xl(u),v=aa(sa),o===null?(E=P(),E===null&&(E=ri,I=Am(),E.pooledCache=I,I.refCount++,I!==null&&(E.pooledCacheLanes|=p),E=I),u.memoizedState={parent:v,cache:E},Fe(u),Ju(u,sa,E)):((o.lanes&p)!==0&&(qe(o,u),Nt(u,null,null,p),Yt()),E=o.memoizedState,I=u.memoizedState,E.parent!==v?(E={parent:v,cache:v},u.memoizedState=E,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=E),Ju(u,sa,v)):(v=I.cache,Ju(u,sa,v),v!==E.cache&&Rp(u,[sa],p,!0))),cs(o,u,u.pendingProps.children,p),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function pd(o){o.flags|=4}function CC(o,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!IE(u)){if(u=wl.current,u!==null&&((Qn&4194048)===Qn?ac!==null:(Qn&62914560)!==Qn&&(Qn&536870912)===0||u!==ac))throw Ye=be,ue;o.flags|=8192}}function zb(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?qn():536870912,o.lanes|=u,Qp|=u)}function zm(o,u){if(!nr)switch(o.tailMode){case"hidden":u=o.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:v.sibling=null}}function Oi(o){var u=o.alternate!==null&&o.alternate.child===o.child,p=0,v=0;if(u)for(var E=o.child;E!==null;)p|=E.lanes|E.childLanes,v|=E.subtreeFlags&65011712,v|=E.flags&65011712,E.return=o,E=E.sibling;else for(E=o.child;E!==null;)p|=E.lanes|E.childLanes,v|=E.subtreeFlags,v|=E.flags,E.return=o,E=E.sibling;return o.subtreeFlags|=v,o.childLanes=p,u}function HL(o,u,p){var v=u.pendingProps;switch(Eh(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oi(u),null;case 1:return Oi(u),null;case 3:return p=u.stateNode,v=null,o!==null&&(v=o.memoizedState.cache),u.memoizedState.cache!==v&&(u.flags|=2048),yl(sa),Ce(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(ls(u)?pd(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,gb())),Oi(u),null;case 26:return p=u.memoizedState,o===null?(pd(u),p!==null?(Oi(u),CC(u,p)):(Oi(u),u.flags&=-16777217)):p?p!==o.memoizedState?(pd(u),Oi(u),CC(u,p)):(Oi(u),u.flags&=-16777217):(o.memoizedProps!==v&&pd(u),Oi(u),u.flags&=-16777217),null;case 27:Ie(u),p=ne.current;var E=u.type;if(o!==null&&u.stateNode!=null)o.memoizedProps!==v&&pd(u);else{if(!v){if(u.stateNode===null)throw Error(r(166));return Oi(u),null}o=re.current,ls(u)?mb(u):(o=CE(E,v,p),u.stateNode=o,pd(u))}return Oi(u),null;case 5:if(Ie(u),p=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==v&&pd(u);else{if(!v){if(u.stateNode===null)throw Error(r(166));return Oi(u),null}if(o=re.current,ls(u))mb(u);else{switch(E=Zb(ne.current),o){case 1:o=E.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:o=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":o=E.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":o=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":o=E.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof v.is=="string"?E.createElement("select",{is:v.is}):E.createElement("select"),v.multiple?o.multiple=!0:v.size&&(o.size=v.size);break;default:o=typeof v.is=="string"?E.createElement(p,{is:v.is}):E.createElement(p)}}o[Wn]=u,o[sr]=v;e:for(E=u.child;E!==null;){if(E.tag===5||E.tag===6)o.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===u)break e;for(;E.sibling===null;){if(E.return===null||E.return===u)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}u.stateNode=o;e:switch(fs(o,p,v),p){case"button":case"input":case"select":case"textarea":o=!!v.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&pd(u)}}return Oi(u),u.flags&=-16777217,null;case 6:if(o&&u.stateNode!=null)o.memoizedProps!==v&&pd(u);else{if(typeof v!="string"&&u.stateNode===null)throw Error(r(166));if(o=ne.current,ls(u)){if(o=u.stateNode,p=u.memoizedProps,v=null,E=ia,E!==null)switch(E.tag){case 27:case 5:v=E.memoizedProps}o[Wn]=u,o=!!(o.nodeValue===p||v!==null&&v.suppressHydrationWarning===!0||bE(o.nodeValue,p)),o||sd(u)}else o=Zb(o).createTextNode(v),o[Wn]=u,u.stateNode=o}return Oi(u),null;case 13:if(v=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(E=ls(u),v!==null&&v.dehydrated!==null){if(o===null){if(!E)throw Error(r(318));if(E=u.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[Wn]=u}else Zs(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Oi(u),E=!1}else E=gb(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=E),E=!0;if(!E)return u.flags&256?(fd(u),u):(fd(u),null)}if(fd(u),(u.flags&128)!==0)return u.lanes=p,u;if(p=v!==null,o=o!==null&&o.memoizedState!==null,p){v=u.child,E=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(E=v.alternate.memoizedState.cachePool.pool);var I=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(I=v.memoizedState.cachePool.pool),I!==E&&(v.flags|=2048)}return p!==o&&p&&(u.child.flags|=8192),zb(u,u.updateQueue),Oi(u),null;case 4:return Ce(),o===null&&Z2(u.stateNode.containerInfo),Oi(u),null;case 10:return yl(u.type),Oi(u),null;case 19:if(U(Ra),E=u.memoizedState,E===null)return Oi(u),null;if(v=(u.flags&128)!==0,I=E.rendering,I===null)if(v)zm(E,!1);else{if(Wi!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(I=Lb(o),I!==null){for(u.flags|=128,zm(E,!1),o=I.updateQueue,u.updateQueue=o,zb(u,o),u.subtreeFlags=0,o=p,p=u.child;p!==null;)Sh(p,o),p=p.sibling;return B(Ra,Ra.current&1|2),u.child}o=o.sibling}E.tail!==null&&he()>Ub&&(u.flags|=128,v=!0,zm(E,!1),u.lanes=4194304)}else{if(!v)if(o=Lb(I),o!==null){if(u.flags|=128,v=!0,o=o.updateQueue,u.updateQueue=o,zb(u,o),zm(E,!0),E.tail===null&&E.tailMode==="hidden"&&!I.alternate&&!nr)return Oi(u),null}else 2*he()-E.renderingStartTime>Ub&&p!==536870912&&(u.flags|=128,v=!0,zm(E,!1),u.lanes=4194304);E.isBackwards?(I.sibling=u.child,u.child=I):(o=E.last,o!==null?o.sibling=I:u.child=I,E.last=I)}return E.tail!==null?(u=E.tail,E.rendering=u,E.tail=u.sibling,E.renderingStartTime=he(),u.sibling=null,o=Ra.current,B(Ra,v?o&1|2:o&1),u):(Oi(u),null);case 22:case 23:return fd(u),bn(),v=u.memoizedState!==null,o!==null?o.memoizedState!==null!==v&&(u.flags|=8192):v&&(u.flags|=8192),v?(p&536870912)!==0&&(u.flags&128)===0&&(Oi(u),u.subtreeFlags&6&&(u.flags|=8192)):Oi(u),p=u.updateQueue,p!==null&&zb(u,p.retryQueue),p=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==p&&(u.flags|=2048),o!==null&&U(_),null;case 24:return p=null,o!==null&&(p=o.memoizedState.cache),u.memoizedState.cache!==p&&(u.flags|=2048),yl(sa),Oi(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function WL(o,u){switch(Eh(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return yl(sa),Ce(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return Ie(u),null;case 13:if(fd(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Zs()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return U(Ra),null;case 4:return Ce(),null;case 10:return yl(u.type),null;case 22:case 23:return fd(u),bn(),o!==null&&U(_),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return yl(sa),null;case 25:return null;default:return null}}function EC(o,u){switch(Eh(u),u.tag){case 3:yl(sa),Ce();break;case 26:case 27:case 5:Ie(u);break;case 4:Ce();break;case 13:fd(u);break;case 19:U(Ra);break;case 10:yl(u.type);break;case 22:case 23:fd(u),bn(),o!==null&&U(_);break;case 24:yl(sa)}}function qm(o,u){try{var p=u.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var E=v.next;p=E;do{if((p.tag&o)===o){v=void 0;var I=p.create,J=p.inst;v=I(),J.destroy=v}p=p.next}while(p!==E)}}catch(pe){Xr(u,u.return,pe)}}function xf(o,u,p){try{var v=u.updateQueue,E=v!==null?v.lastEffect:null;if(E!==null){var I=E.next;v=I;do{if((v.tag&o)===o){var J=v.inst,pe=J.destroy;if(pe!==void 0){J.destroy=void 0,E=u;var Ne=p,Xe=pe;try{Xe()}catch(gt){Xr(E,Ne,gt)}}}v=v.next}while(v!==I)}}catch(gt){Xr(u,u.return,gt)}}function _C(o){var u=o.updateQueue;if(u!==null){var p=o.stateNode;try{or(u,p)}catch(v){Xr(o,o.return,v)}}}function kC(o,u,p){p.props=Ph(o.type,o.memoizedProps),p.state=o.memoizedState;try{p.componentWillUnmount()}catch(v){Xr(o,u,v)}}function Bm(o,u){try{var p=o.ref;if(p!==null){switch(o.tag){case 26:case 27:case 5:var v=o.stateNode;break;case 30:v=o.stateNode;break;default:v=o.stateNode}typeof p=="function"?o.refCleanup=p(v):p.current=v}}catch(E){Xr(o,u,E)}}function sc(o,u){var p=o.ref,v=o.refCleanup;if(p!==null)if(typeof v=="function")try{v()}catch(E){Xr(o,u,E)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(E){Xr(o,u,E)}else p.current=null}function jC(o){var u=o.type,p=o.memoizedProps,v=o.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":p.autoFocus&&v.focus();break e;case"img":p.src?v.src=p.src:p.srcSet&&(v.srcset=p.srcSet)}}catch(E){Xr(o,o.return,E)}}function j2(o,u,p){try{var v=o.stateNode;f9(v,o.type,p,u),v[sr]=u}catch(E){Xr(o,o.return,E)}}function NC(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&kf(o.type)||o.tag===4}function N2(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||NC(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&kf(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function T2(o,u,p){var v=o.tag;if(v===5||v===6)o=o.stateNode,u?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(o,u):(u=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,u.appendChild(o),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=Xb));else if(v!==4&&(v===27&&kf(o.type)&&(p=o.stateNode,u=null),o=o.child,o!==null))for(T2(o,u,p),o=o.sibling;o!==null;)T2(o,u,p),o=o.sibling}function qb(o,u,p){var v=o.tag;if(v===5||v===6)o=o.stateNode,u?p.insertBefore(o,u):p.appendChild(o);else if(v!==4&&(v===27&&kf(o.type)&&(p=o.stateNode),o=o.child,o!==null))for(qb(o,u,p),o=o.sibling;o!==null;)qb(o,u,p),o=o.sibling}function TC(o){var u=o.stateNode,p=o.memoizedProps;try{for(var v=o.type,E=u.attributes;E.length;)u.removeAttributeNode(E[0]);fs(u,v,p),u[Wn]=o,u[sr]=p}catch(I){Xr(o,o.return,I)}}var md=!1,la=!1,O2=!1,OC=typeof WeakSet=="function"?WeakSet:Set,Ya=null;function VL(o,u){if(o=o.containerInfo,t5=iy,o=os(o),La(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var v=p.getSelection&&p.getSelection();if(v&&v.rangeCount!==0){p=v.anchorNode;var E=v.anchorOffset,I=v.focusNode;v=v.focusOffset;try{p.nodeType,I.nodeType}catch{p=null;break e}var J=0,pe=-1,Ne=-1,Xe=0,gt=0,At=o,et=null;t:for(;;){for(var tt;At!==p||E!==0&&At.nodeType!==3||(pe=J+E),At!==I||v!==0&&At.nodeType!==3||(Ne=J+v),At.nodeType===3&&(J+=At.nodeValue.length),(tt=At.firstChild)!==null;)et=At,At=tt;for(;;){if(At===o)break t;if(et===p&&++Xe===E&&(pe=J),et===I&&++gt===v&&(Ne=J),(tt=At.nextSibling)!==null)break;At=et,et=At.parentNode}At=tt}p=pe===-1||Ne===-1?null:{start:pe,end:Ne}}else p=null}p=p||{start:0,end:0}}else p=null;for(n5={focusedElem:o,selectionRange:p},iy=!1,Ya=u;Ya!==null;)if(u=Ya,o=u.child,(u.subtreeFlags&1024)!==0&&o!==null)o.return=u,Ya=o;else for(;Ya!==null;){switch(u=Ya,I=u.alternate,o=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&I!==null){o=void 0,p=u,E=I.memoizedProps,I=I.memoizedState,v=p.stateNode;try{var hn=Ph(p.type,E,p.elementType===p.type);o=v.getSnapshotBeforeUpdate(hn,I),v.__reactInternalSnapshotBeforeUpdate=o}catch(nn){Xr(p,p.return,nn)}}break;case 3:if((o&1024)!==0){if(o=u.stateNode.containerInfo,p=o.nodeType,p===9)a5(o);else if(p===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":a5(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=u.sibling,o!==null){o.return=u.return,Ya=o;break}Ya=u.return}}function IC(o,u,p){var v=p.flags;switch(p.tag){case 0:case 11:case 15:vf(o,p),v&4&&qm(5,p);break;case 1:if(vf(o,p),v&4)if(o=p.stateNode,u===null)try{o.componentDidMount()}catch(J){Xr(p,p.return,J)}else{var E=Ph(p.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(E,u,o.__reactInternalSnapshotBeforeUpdate)}catch(J){Xr(p,p.return,J)}}v&64&&_C(p),v&512&&Bm(p,p.return);break;case 3:if(vf(o,p),v&64&&(o=p.updateQueue,o!==null)){if(u=null,p.child!==null)switch(p.child.tag){case 27:case 5:u=p.child.stateNode;break;case 1:u=p.child.stateNode}try{or(o,u)}catch(J){Xr(p,p.return,J)}}break;case 27:u===null&&v&4&&TC(p);case 26:case 5:vf(o,p),u===null&&v&4&&jC(p),v&512&&Bm(p,p.return);break;case 12:vf(o,p);break;case 13:vf(o,p),v&4&&RC(o,p),v&64&&(o=p.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(p=t9.bind(null,p),x9(o,p))));break;case 22:if(v=p.memoizedState!==null||md,!v){u=u!==null&&u.memoizedState!==null||la,E=md;var I=la;md=v,(la=u)&&!I?wf(o,p,(p.subtreeFlags&8772)!==0):vf(o,p),md=E,la=I}break;case 30:break;default:vf(o,p)}}function DC(o){var u=o.alternate;u!==null&&(o.alternate=null,DC(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&Ia(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var xi=null,po=!1;function gd(o,u,p){for(p=p.child;p!==null;)LC(o,u,p),p=p.sibling}function LC(o,u,p){if(xe&&typeof xe.onCommitFiberUnmount=="function")try{xe.onCommitFiberUnmount(De,p)}catch{}switch(p.tag){case 26:la||sc(p,u),gd(o,u,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:la||sc(p,u);var v=xi,E=po;kf(p.type)&&(xi=p.stateNode,po=!1),gd(o,u,p),Km(p.stateNode),xi=v,po=E;break;case 5:la||sc(p,u);case 6:if(v=xi,E=po,xi=null,gd(o,u,p),xi=v,po=E,xi!==null)if(po)try{(xi.nodeType===9?xi.body:xi.nodeName==="HTML"?xi.ownerDocument.body:xi).removeChild(p.stateNode)}catch(I){Xr(p,u,I)}else try{xi.removeChild(p.stateNode)}catch(I){Xr(p,u,I)}break;case 18:xi!==null&&(po?(o=xi,SE(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,p.stateNode),i1(o)):SE(xi,p.stateNode));break;case 4:v=xi,E=po,xi=p.stateNode.containerInfo,po=!0,gd(o,u,p),xi=v,po=E;break;case 0:case 11:case 14:case 15:la||xf(2,p,u),la||xf(4,p,u),gd(o,u,p);break;case 1:la||(sc(p,u),v=p.stateNode,typeof v.componentWillUnmount=="function"&&kC(p,u,v)),gd(o,u,p);break;case 21:gd(o,u,p);break;case 22:la=(v=la)||p.memoizedState!==null,gd(o,u,p),la=v;break;default:gd(o,u,p)}}function RC(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{i1(o)}catch(p){Xr(u,u.return,p)}}function YL(o){switch(o.tag){case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new OC),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new OC),u;default:throw Error(r(435,o.tag))}}function I2(o,u){var p=YL(o);u.forEach(function(v){var E=n9.bind(null,o,v);p.has(v)||(p.add(v),v.then(E,E))})}function Po(o,u){var p=u.deletions;if(p!==null)for(var v=0;v<p.length;v++){var E=p[v],I=o,J=u,pe=J;e:for(;pe!==null;){switch(pe.tag){case 27:if(kf(pe.type)){xi=pe.stateNode,po=!1;break e}break;case 5:xi=pe.stateNode,po=!1;break e;case 3:case 4:xi=pe.stateNode.containerInfo,po=!0;break e}pe=pe.return}if(xi===null)throw Error(r(160));LC(I,J,E),xi=null,po=!1,I=E.alternate,I!==null&&(I.return=null),E.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)MC(u,o),u=u.sibling}var lu=null;function MC(o,u){var p=o.alternate,v=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Po(u,o),zo(o),v&4&&(xf(3,o,o.return),qm(3,o),xf(5,o,o.return));break;case 1:Po(u,o),zo(o),v&512&&(la||p===null||sc(p,p.return)),v&64&&md&&(o=o.updateQueue,o!==null&&(v=o.callbacks,v!==null&&(p=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=p===null?v:p.concat(v))));break;case 26:var E=lu;if(Po(u,o),zo(o),v&512&&(la||p===null||sc(p,p.return)),v&4){var I=p!==null?p.memoizedState:null;if(v=o.memoizedState,p===null)if(v===null)if(o.stateNode===null){e:{v=o.type,p=o.memoizedProps,E=E.ownerDocument||E;t:switch(v){case"title":I=E.getElementsByTagName("title")[0],(!I||I[jr]||I[Wn]||I.namespaceURI==="http://www.w3.org/2000/svg"||I.hasAttribute("itemprop"))&&(I=E.createElement(v),E.head.insertBefore(I,E.querySelector("head > title"))),fs(I,v,p),I[Wn]=o,tr(I),v=I;break e;case"link":var J=TE("link","href",E).get(v+(p.href||""));if(J){for(var pe=0;pe<J.length;pe++)if(I=J[pe],I.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&I.getAttribute("rel")===(p.rel==null?null:p.rel)&&I.getAttribute("title")===(p.title==null?null:p.title)&&I.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){J.splice(pe,1);break t}}I=E.createElement(v),fs(I,v,p),E.head.appendChild(I);break;case"meta":if(J=TE("meta","content",E).get(v+(p.content||""))){for(pe=0;pe<J.length;pe++)if(I=J[pe],I.getAttribute("content")===(p.content==null?null:""+p.content)&&I.getAttribute("name")===(p.name==null?null:p.name)&&I.getAttribute("property")===(p.property==null?null:p.property)&&I.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&I.getAttribute("charset")===(p.charSet==null?null:p.charSet)){J.splice(pe,1);break t}}I=E.createElement(v),fs(I,v,p),E.head.appendChild(I);break;default:throw Error(r(468,v))}I[Wn]=o,tr(I),v=I}o.stateNode=v}else OE(E,o.type,o.stateNode);else o.stateNode=NE(E,v,o.memoizedProps);else I!==v?(I===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):I.count--,v===null?OE(E,o.type,o.stateNode):NE(E,v,o.memoizedProps)):v===null&&o.stateNode!==null&&j2(o,o.memoizedProps,p.memoizedProps)}break;case 27:Po(u,o),zo(o),v&512&&(la||p===null||sc(p,p.return)),p!==null&&v&4&&j2(o,o.memoizedProps,p.memoizedProps);break;case 5:if(Po(u,o),zo(o),v&512&&(la||p===null||sc(p,p.return)),o.flags&32){E=o.stateNode;try{Bi(E,"")}catch(tt){Xr(o,o.return,tt)}}v&4&&o.stateNode!=null&&(E=o.memoizedProps,j2(o,E,p!==null?p.memoizedProps:E)),v&1024&&(O2=!0);break;case 6:if(Po(u,o),zo(o),v&4){if(o.stateNode===null)throw Error(r(162));v=o.memoizedProps,p=o.stateNode;try{p.nodeValue=v}catch(tt){Xr(o,o.return,tt)}}break;case 3:if(ty=null,E=lu,lu=Jb(u.containerInfo),Po(u,o),lu=E,zo(o),v&4&&p!==null&&p.memoizedState.isDehydrated)try{i1(u.containerInfo)}catch(tt){Xr(o,o.return,tt)}O2&&(O2=!1,FC(o));break;case 4:v=lu,lu=Jb(o.stateNode.containerInfo),Po(u,o),zo(o),lu=v;break;case 12:Po(u,o),zo(o);break;case 13:Po(u,o),zo(o),o.child.flags&8192&&o.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(P2=he()),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,I2(o,v)));break;case 22:E=o.memoizedState!==null;var Ne=p!==null&&p.memoizedState!==null,Xe=md,gt=la;if(md=Xe||E,la=gt||Ne,Po(u,o),la=gt,md=Xe,zo(o),v&8192)e:for(u=o.stateNode,u._visibility=E?u._visibility&-2:u._visibility|1,E&&(p===null||Ne||md||la||zh(o)),p=null,u=o;;){if(u.tag===5||u.tag===26){if(p===null){Ne=p=u;try{if(I=Ne.stateNode,E)J=I.style,typeof J.setProperty=="function"?J.setProperty("display","none","important"):J.display="none";else{pe=Ne.stateNode;var At=Ne.memoizedProps.style,et=At!=null&&At.hasOwnProperty("display")?At.display:null;pe.style.display=et==null||typeof et=="boolean"?"":(""+et).trim()}}catch(tt){Xr(Ne,Ne.return,tt)}}}else if(u.tag===6){if(p===null){Ne=u;try{Ne.stateNode.nodeValue=E?"":Ne.memoizedProps}catch(tt){Xr(Ne,Ne.return,tt)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;p===u&&(p=null),u=u.return}p===u&&(p=null),u.sibling.return=u.return,u=u.sibling}v&4&&(v=o.updateQueue,v!==null&&(p=v.retryQueue,p!==null&&(v.retryQueue=null,I2(o,p))));break;case 19:Po(u,o),zo(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,I2(o,v)));break;case 30:break;case 21:break;default:Po(u,o),zo(o)}}function zo(o){var u=o.flags;if(u&2){try{for(var p,v=o.return;v!==null;){if(NC(v)){p=v;break}v=v.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var E=p.stateNode,I=N2(o);qb(o,I,E);break;case 5:var J=p.stateNode;p.flags&32&&(Bi(J,""),p.flags&=-33);var pe=N2(o);qb(o,pe,J);break;case 3:case 4:var Ne=p.stateNode.containerInfo,Xe=N2(o);T2(o,Xe,Ne);break;default:throw Error(r(161))}}catch(gt){Xr(o,o.return,gt)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function FC(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;FC(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),o=o.sibling}}function vf(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)IC(o,u.alternate,u),u=u.sibling}function zh(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:xf(4,u,u.return),zh(u);break;case 1:sc(u,u.return);var p=u.stateNode;typeof p.componentWillUnmount=="function"&&kC(u,u.return,p),zh(u);break;case 27:Km(u.stateNode);case 26:case 5:sc(u,u.return),zh(u);break;case 22:u.memoizedState===null&&zh(u);break;case 30:zh(u);break;default:zh(u)}o=o.sibling}}function wf(o,u,p){for(p=p&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var v=u.alternate,E=o,I=u,J=I.flags;switch(I.tag){case 0:case 11:case 15:wf(E,I,p),qm(4,I);break;case 1:if(wf(E,I,p),v=I,E=v.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(Xe){Xr(v,v.return,Xe)}if(v=I,E=v.updateQueue,E!==null){var pe=v.stateNode;try{var Ne=E.shared.hiddenCallbacks;if(Ne!==null)for(E.shared.hiddenCallbacks=null,E=0;E<Ne.length;E++)Yn(Ne[E],pe)}catch(Xe){Xr(v,v.return,Xe)}}p&&J&64&&_C(I),Bm(I,I.return);break;case 27:TC(I);case 26:case 5:wf(E,I,p),p&&v===null&&J&4&&jC(I),Bm(I,I.return);break;case 12:wf(E,I,p);break;case 13:wf(E,I,p),p&&J&4&&RC(E,I);break;case 22:I.memoizedState===null&&wf(E,I,p),Bm(I,I.return);break;case 30:break;default:wf(E,I,p)}u=u.sibling}}function D2(o,u){var p=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==p&&(o!=null&&o.refCount++,p!=null&&_h(p))}function L2(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&_h(o))}function oc(o,u,p,v){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)PC(o,u,p,v),u=u.sibling}function PC(o,u,p,v){var E=u.flags;switch(u.tag){case 0:case 11:case 15:oc(o,u,p,v),E&2048&&qm(9,u);break;case 1:oc(o,u,p,v);break;case 3:oc(o,u,p,v),E&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&_h(o)));break;case 12:if(E&2048){oc(o,u,p,v),o=u.stateNode;try{var I=u.memoizedProps,J=I.id,pe=I.onPostCommit;typeof pe=="function"&&pe(J,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(Ne){Xr(u,u.return,Ne)}}else oc(o,u,p,v);break;case 13:oc(o,u,p,v);break;case 23:break;case 22:I=u.stateNode,J=u.alternate,u.memoizedState!==null?I._visibility&2?oc(o,u,p,v):Um(o,u):I._visibility&2?oc(o,u,p,v):(I._visibility|=2,Vp(o,u,p,v,(u.subtreeFlags&10256)!==0)),E&2048&&D2(J,u);break;case 24:oc(o,u,p,v),E&2048&&L2(u.alternate,u);break;default:oc(o,u,p,v)}}function Vp(o,u,p,v,E){for(E=E&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var I=o,J=u,pe=p,Ne=v,Xe=J.flags;switch(J.tag){case 0:case 11:case 15:Vp(I,J,pe,Ne,E),qm(8,J);break;case 23:break;case 22:var gt=J.stateNode;J.memoizedState!==null?gt._visibility&2?Vp(I,J,pe,Ne,E):Um(I,J):(gt._visibility|=2,Vp(I,J,pe,Ne,E)),E&&Xe&2048&&D2(J.alternate,J);break;case 24:Vp(I,J,pe,Ne,E),E&&Xe&2048&&L2(J.alternate,J);break;default:Vp(I,J,pe,Ne,E)}u=u.sibling}}function Um(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var p=o,v=u,E=v.flags;switch(v.tag){case 22:Um(p,v),E&2048&&D2(v.alternate,v);break;case 24:Um(p,v),E&2048&&L2(v.alternate,v);break;default:Um(p,v)}u=u.sibling}}var $m=8192;function Yp(o){if(o.subtreeFlags&$m)for(o=o.child;o!==null;)zC(o),o=o.sibling}function zC(o){switch(o.tag){case 26:Yp(o),o.flags&$m&&o.memoizedState!==null&&I9(lu,o.memoizedState,o.memoizedProps);break;case 5:Yp(o);break;case 3:case 4:var u=lu;lu=Jb(o.stateNode.containerInfo),Yp(o),lu=u;break;case 22:o.memoizedState===null&&(u=o.alternate,u!==null&&u.memoizedState!==null?(u=$m,$m=16777216,Yp(o),$m=u):Yp(o));break;default:Yp(o)}}function qC(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function Hm(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var v=u[p];Ya=v,UC(v,o)}qC(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)BC(o),o=o.sibling}function BC(o){switch(o.tag){case 0:case 11:case 15:Hm(o),o.flags&2048&&xf(9,o,o.return);break;case 3:Hm(o);break;case 12:Hm(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,Bb(o)):Hm(o);break;default:Hm(o)}}function Bb(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var v=u[p];Ya=v,UC(v,o)}qC(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:xf(8,u,u.return),Bb(u);break;case 22:p=u.stateNode,p._visibility&2&&(p._visibility&=-3,Bb(u));break;default:Bb(u)}o=o.sibling}}function UC(o,u){for(;Ya!==null;){var p=Ya;switch(p.tag){case 0:case 11:case 15:xf(8,p,u);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var v=p.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:_h(p.memoizedState.cache)}if(v=p.child,v!==null)v.return=p,Ya=v;else e:for(p=o;Ya!==null;){v=Ya;var E=v.sibling,I=v.return;if(DC(v),v===p){Ya=null;break e}if(E!==null){E.return=I,Ya=E;break e}Ya=I}}}var GL={getCacheForType:function(o){var u=aa(sa),p=u.data.get(o);return p===void 0&&(p=o(),u.data.set(o,p)),p}},QL=typeof WeakMap=="function"?WeakMap:Map,Or=0,ri=null,Un=null,Qn=0,Ir=0,qo=null,Sf=!1,Gp=!1,R2=!1,bd=0,Wi=0,Af=0,qh=0,M2=0,Sl=0,Qp=0,Wm=null,mo=null,F2=!1,P2=0,Ub=1/0,$b=null,Cf=null,ds=0,Ef=null,Kp=null,Xp=0,z2=0,q2=null,$C=null,Vm=0,B2=null;function Bo(){if((Or&2)!==0&&Qn!==0)return Qn&-Qn;if(H.T!==null){var o=od;return o!==0?o:G2()}return li()}function HC(){Sl===0&&(Sl=(Qn&536870912)===0||nr?zn():536870912);var o=wl.current;return o!==null&&(o.flags|=32),Sl}function Uo(o,u,p){(o===ri&&(Ir===2||Ir===9)||o.cancelPendingCommit!==null)&&(Zp(o,0),_f(o,Qn,Sl,!1)),ar(o,p),((Or&2)===0||o!==ri)&&(o===ri&&((Or&2)===0&&(qh|=p),Wi===4&&_f(o,Qn,Sl,!1)),lc(o))}function WC(o,u,p){if((Or&6)!==0)throw Error(r(327));var v=!p&&(u&124)===0&&(u&o.expiredLanes)===0||tn(o,u),E=v?ZL(o,u):H2(o,u,!0),I=v;do{if(E===0){Gp&&!v&&_f(o,u,0,!1);break}else{if(p=o.current.alternate,I&&!KL(p)){E=H2(o,u,!1),I=!1;continue}if(E===2){if(I=u,o.errorRecoveryDisabledLanes&I)var J=0;else J=o.pendingLanes&-536870913,J=J!==0?J:J&536870912?536870912:0;if(J!==0){u=J;e:{var pe=o;E=Wm;var Ne=pe.current.memoizedState.isDehydrated;if(Ne&&(Zp(pe,J).flags|=256),J=H2(pe,J,!1),J!==2){if(R2&&!Ne){pe.errorRecoveryDisabledLanes|=I,qh|=I,E=4;break e}I=mo,mo=E,I!==null&&(mo===null?mo=I:mo.push.apply(mo,I))}E=J}if(I=!1,E!==2)continue}}if(E===1){Zp(o,0),_f(o,u,0,!0);break}e:{switch(v=o,I=E,I){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:_f(v,u,Sl,!Sf);break e;case 2:mo=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(E=P2+300-he(),10<E)){if(_f(v,u,Sl,!Sf),Kt(v,0,!0)!==0)break e;v.timeoutHandle=vE(VC.bind(null,v,p,mo,$b,F2,u,Sl,qh,Qp,Sf,I,2,-0,0),E);break e}VC(v,p,mo,$b,F2,u,Sl,qh,Qp,Sf,I,0,-0,0)}}break}while(!0);lc(o)}function VC(o,u,p,v,E,I,J,pe,Ne,Xe,gt,At,et,tt){if(o.timeoutHandle=-1,At=u.subtreeFlags,(At&8192||(At&16785408)===16785408)&&(Jm={stylesheets:null,count:0,unsuspend:O9},zC(u),At=D9(),At!==null)){o.cancelPendingCommit=At(JC.bind(null,o,u,I,p,v,E,J,pe,Ne,gt,1,et,tt)),_f(o,I,J,!Xe);return}JC(o,u,I,p,v,E,J,pe,Ne)}function KL(o){for(var u=o;;){var p=u.tag;if((p===0||p===11||p===15)&&u.flags&16384&&(p=u.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var v=0;v<p.length;v++){var E=p[v],I=E.getSnapshot;E=E.value;try{if(!Aa(I(),E))return!1}catch{return!1}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function _f(o,u,p,v){u&=~M2,u&=~qh,o.suspendedLanes|=u,o.pingedLanes&=~u,v&&(o.warmLanes|=u),v=o.expirationTimes;for(var E=u;0<E;){var I=31-je(E),J=1<<I;v[I]=-1,E&=~J}p!==0&&Vt(o,p,u)}function Hb(){return(Or&6)===0?(Ym(0),!1):!0}function U2(){if(Un!==null){if(Ir===0)var o=Un.return;else o=Un,nu=Ea=null,Pp(o),Hp=null,Fm=0,o=Un;for(;o!==null;)EC(o.alternate,o),o=o.return;Un=null}}function Zp(o,u){var p=o.timeoutHandle;p!==-1&&(o.timeoutHandle=-1,p9(p)),p=o.cancelPendingCommit,p!==null&&(o.cancelPendingCommit=null,p()),U2(),ri=o,Un=p=ml(o.current,null),Qn=u,Ir=0,qo=null,Sf=!1,Gp=tn(o,u),R2=!1,Qp=Sl=M2=qh=Af=Wi=0,mo=Wm=null,F2=!1,(u&8)!==0&&(u|=u&32);var v=o.entangledLanes;if(v!==0)for(o=o.entanglements,v&=u;0<v;){var E=31-je(v),I=1<<E;u|=o[E],v&=~I}return bd=u,uo(),p}function YC(o,u){Jt=null,H.H=Ob,u===oe||u===fe?(u=Be(),Ir=3):u===ue?(u=Be(),Ir=4):Ir=u===dC?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,qo=u,Un===null&&(Wi=1,Mb(o,Ln(u,o.current)))}function GC(){var o=H.H;return H.H=Ob,o===null?Ob:o}function QC(){var o=H.A;return H.A=GL,o}function $2(){Wi=4,Sf||(Qn&4194048)!==Qn&&wl.current!==null||(Gp=!0),(Af&134217727)===0&&(qh&134217727)===0||ri===null||_f(ri,Qn,Sl,!1)}function H2(o,u,p){var v=Or;Or|=2;var E=GC(),I=QC();(ri!==o||Qn!==u)&&($b=null,Zp(o,u)),u=!1;var J=Wi;e:do try{if(Ir!==0&&Un!==null){var pe=Un,Ne=qo;switch(Ir){case 8:U2(),J=6;break e;case 3:case 2:case 9:case 6:wl.current===null&&(u=!0);var Xe=Ir;if(Ir=0,qo=null,Jp(o,pe,Ne,Xe),p&&Gp){J=0;break e}break;default:Xe=Ir,Ir=0,qo=null,Jp(o,pe,Ne,Xe)}}XL(),J=Wi;break}catch(gt){YC(o,gt)}while(!0);return u&&o.shellSuspendCounter++,nu=Ea=null,Or=v,H.H=E,H.A=I,Un===null&&(ri=null,Qn=0,uo()),J}function XL(){for(;Un!==null;)KC(Un)}function ZL(o,u){var p=Or;Or|=2;var v=GC(),E=QC();ri!==o||Qn!==u?($b=null,Ub=he()+500,Zp(o,u)):Gp=tn(o,u);e:do try{if(Ir!==0&&Un!==null){u=Un;var I=qo;t:switch(Ir){case 1:Ir=0,qo=null,Jp(o,u,I,1);break;case 2:case 9:if(Ae(I)){Ir=0,qo=null,XC(u);break}u=function(){Ir!==2&&Ir!==9||ri!==o||(Ir=7),lc(o)},I.then(u,u);break e;case 3:Ir=7;break e;case 4:Ir=5;break e;case 7:Ae(I)?(Ir=0,qo=null,XC(u)):(Ir=0,qo=null,Jp(o,u,I,7));break;case 5:var J=null;switch(Un.tag){case 26:J=Un.memoizedState;case 5:case 27:var pe=Un;if(!J||IE(J)){Ir=0,qo=null;var Ne=pe.sibling;if(Ne!==null)Un=Ne;else{var Xe=pe.return;Xe!==null?(Un=Xe,Wb(Xe)):Un=null}break t}}Ir=0,qo=null,Jp(o,u,I,5);break;case 6:Ir=0,qo=null,Jp(o,u,I,6);break;case 8:U2(),Wi=6;break e;default:throw Error(r(462))}}JL();break}catch(gt){YC(o,gt)}while(!0);return nu=Ea=null,H.H=v,H.A=E,Or=p,Un!==null?0:(ri=null,Qn=0,uo(),Wi)}function JL(){for(;Un!==null&&!Se();)KC(Un)}function KC(o){var u=AC(o.alternate,o,bd);o.memoizedProps=o.pendingProps,u===null?Wb(o):Un=u}function XC(o){var u=o,p=u.alternate;switch(u.tag){case 15:case 0:u=bC(p,u,u.pendingProps,u.type,void 0,Qn);break;case 11:u=bC(p,u,u.pendingProps,u.type.render,u.ref,Qn);break;case 5:Pp(u);default:EC(p,u),u=Un=Sh(u,bd),u=AC(p,u,bd)}o.memoizedProps=o.pendingProps,u===null?Wb(o):Un=u}function Jp(o,u,p,v){nu=Ea=null,Pp(u),Hp=null,Fm=0;var E=u.return;try{if(UL(o,E,u,p,Qn)){Wi=1,Mb(o,Ln(p,o.current)),Un=null;return}}catch(I){if(E!==null)throw Un=E,I;Wi=1,Mb(o,Ln(p,o.current)),Un=null;return}u.flags&32768?(nr||v===1?o=!0:Gp||(Qn&536870912)!==0?o=!1:(Sf=o=!0,(v===2||v===9||v===3||v===6)&&(v=wl.current,v!==null&&v.tag===13&&(v.flags|=16384))),ZC(u,o)):Wb(u)}function Wb(o){var u=o;do{if((u.flags&32768)!==0){ZC(u,Sf);return}o=u.return;var p=HL(u.alternate,u,bd);if(p!==null){Un=p;return}if(u=u.sibling,u!==null){Un=u;return}Un=u=o}while(u!==null);Wi===0&&(Wi=5)}function ZC(o,u){do{var p=WL(o.alternate,o);if(p!==null){p.flags&=32767,Un=p;return}if(p=o.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!u&&(o=o.sibling,o!==null)){Un=o;return}Un=o=p}while(o!==null);Wi=6,Un=null}function JC(o,u,p,v,E,I,J,pe,Ne){o.cancelPendingCommit=null;do Vb();while(ds!==0);if((Or&6)!==0)throw Error(r(327));if(u!==null){if(u===o.current)throw Error(r(177));if(I=u.lanes|u.childLanes,I|=ji,Mn(o,p,I,J,pe,Ne),o===ri&&(Un=ri=null,Qn=0),Kp=u,Ef=o,Xp=p,z2=I,q2=E,$C=v,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,r9(Pe,function(){return iE(),null})):(o.callbackNode=null,o.callbackPriority=0),v=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||v){v=H.T,H.T=null,E=G.p,G.p=2,J=Or,Or|=4;try{VL(o,u,p)}finally{Or=J,G.p=E,H.T=v}}ds=1,eE(),tE(),nE()}}function eE(){if(ds===1){ds=0;var o=Ef,u=Kp,p=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||p){p=H.T,H.T=null;var v=G.p;G.p=2;var E=Or;Or|=4;try{MC(u,o);var I=n5,J=os(o.containerInfo),pe=I.focusedElem,Ne=I.selectionRange;if(J!==pe&&pe&&pe.ownerDocument&&$u(pe.ownerDocument.documentElement,pe)){if(Ne!==null&&La(pe)){var Xe=Ne.start,gt=Ne.end;if(gt===void 0&&(gt=Xe),"selectionStart"in pe)pe.selectionStart=Xe,pe.selectionEnd=Math.min(gt,pe.value.length);else{var At=pe.ownerDocument||document,et=At&&At.defaultView||window;if(et.getSelection){var tt=et.getSelection(),hn=pe.textContent.length,nn=Math.min(Ne.start,hn),Br=Ne.end===void 0?nn:Math.min(Ne.end,hn);!tt.extend&&nn>Br&&(J=Br,Br=nn,nn=J);var He=Gl(pe,nn),ze=Gl(pe,Br);if(He&&ze&&(tt.rangeCount!==1||tt.anchorNode!==He.node||tt.anchorOffset!==He.offset||tt.focusNode!==ze.node||tt.focusOffset!==ze.offset)){var Ge=At.createRange();Ge.setStart(He.node,He.offset),tt.removeAllRanges(),nn>Br?(tt.addRange(Ge),tt.extend(ze.node,ze.offset)):(Ge.setEnd(ze.node,ze.offset),tt.addRange(Ge))}}}}for(At=[],tt=pe;tt=tt.parentNode;)tt.nodeType===1&&At.push({element:tt,left:tt.scrollLeft,top:tt.scrollTop});for(typeof pe.focus=="function"&&pe.focus(),pe=0;pe<At.length;pe++){var yt=At[pe];yt.element.scrollLeft=yt.left,yt.element.scrollTop=yt.top}}iy=!!t5,n5=t5=null}finally{Or=E,G.p=v,H.T=p}}o.current=u,ds=2}}function tE(){if(ds===2){ds=0;var o=Ef,u=Kp,p=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||p){p=H.T,H.T=null;var v=G.p;G.p=2;var E=Or;Or|=4;try{IC(o,u.alternate,u)}finally{Or=E,G.p=v,H.T=p}}ds=3}}function nE(){if(ds===4||ds===3){ds=0,se();var o=Ef,u=Kp,p=Xp,v=$C;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?ds=5:(ds=0,Kp=Ef=null,rE(o,o.pendingLanes));var E=o.pendingLanes;if(E===0&&(Cf=null),Sr(p),u=u.stateNode,xe&&typeof xe.onCommitFiberRoot=="function")try{xe.onCommitFiberRoot(De,u,void 0,(u.current.flags&128)===128)}catch{}if(v!==null){u=H.T,E=G.p,G.p=2,H.T=null;try{for(var I=o.onRecoverableError,J=0;J<v.length;J++){var pe=v[J];I(pe.value,{componentStack:pe.stack})}}finally{H.T=u,G.p=E}}(Xp&3)!==0&&Vb(),lc(o),E=o.pendingLanes,(p&4194090)!==0&&(E&42)!==0?o===B2?Vm++:(Vm=0,B2=o):Vm=0,Ym(0)}}function rE(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,_h(u)))}function Vb(o){return eE(),tE(),nE(),iE()}function iE(){if(ds!==5)return!1;var o=Ef,u=z2;z2=0;var p=Sr(Xp),v=H.T,E=G.p;try{G.p=32>p?32:p,H.T=null,p=q2,q2=null;var I=Ef,J=Xp;if(ds=0,Kp=Ef=null,Xp=0,(Or&6)!==0)throw Error(r(331));var pe=Or;if(Or|=4,BC(I.current),PC(I,I.current,J,p),Or=pe,Ym(0,!1),xe&&typeof xe.onPostCommitFiberRoot=="function")try{xe.onPostCommitFiberRoot(De,I)}catch{}return!0}finally{G.p=E,H.T=v,rE(o,u)}}function aE(o,u,p){u=Ln(p,u),u=x2(o.stateNode,u,2),o=wt(o,u,2),o!==null&&(ar(o,2),lc(o))}function Xr(o,u,p){if(o.tag===3)aE(o,o,p);else for(;u!==null;){if(u.tag===3){aE(u,o,p);break}else if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Cf===null||!Cf.has(v))){o=Ln(p,o),p=uC(2),v=wt(u,p,2),v!==null&&(cC(p,v,u,o),ar(v,2),lc(v));break}}u=u.return}}function W2(o,u,p){var v=o.pingCache;if(v===null){v=o.pingCache=new QL;var E=new Set;v.set(u,E)}else E=v.get(u),E===void 0&&(E=new Set,v.set(u,E));E.has(p)||(R2=!0,E.add(p),o=e9.bind(null,o,u,p),u.then(o,o))}function e9(o,u,p){var v=o.pingCache;v!==null&&v.delete(u),o.pingedLanes|=o.suspendedLanes&p,o.warmLanes&=~p,ri===o&&(Qn&p)===p&&(Wi===4||Wi===3&&(Qn&62914560)===Qn&&300>he()-P2?(Or&2)===0&&Zp(o,0):M2|=p,Qp===Qn&&(Qp=0)),lc(o)}function sE(o,u){u===0&&(u=qn()),o=Kl(o,u),o!==null&&(ar(o,u),lc(o))}function t9(o){var u=o.memoizedState,p=0;u!==null&&(p=u.retryLane),sE(o,p)}function n9(o,u){var p=0;switch(o.tag){case 13:var v=o.stateNode,E=o.memoizedState;E!==null&&(p=E.retryLane);break;case 19:v=o.stateNode;break;case 22:v=o.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(u),sE(o,p)}function r9(o,u){return We(o,u)}var Yb=null,e0=null,V2=!1,Gb=!1,Y2=!1,Bh=0;function lc(o){o!==e0&&o.next===null&&(e0===null?Yb=e0=o:e0=e0.next=o),Gb=!0,V2||(V2=!0,a9())}function Ym(o,u){if(!Y2&&Gb){Y2=!0;do for(var p=!1,v=Yb;v!==null;){if(o!==0){var E=v.pendingLanes;if(E===0)var I=0;else{var J=v.suspendedLanes,pe=v.pingedLanes;I=(1<<31-je(42|o)+1)-1,I&=E&~(J&~pe),I=I&201326741?I&201326741|1:I?I|2:0}I!==0&&(p=!0,cE(v,I))}else I=Qn,I=Kt(v,v===ri?I:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(I&3)===0||tn(v,I)||(p=!0,cE(v,I));v=v.next}while(p);Y2=!1}}function i9(){oE()}function oE(){Gb=V2=!1;var o=0;Bh!==0&&(h9()&&(o=Bh),Bh=0);for(var u=he(),p=null,v=Yb;v!==null;){var E=v.next,I=lE(v,u);I===0?(v.next=null,p===null?Yb=E:p.next=E,E===null&&(e0=p)):(p=v,(o!==0||(I&3)!==0)&&(Gb=!0)),v=E}Ym(o)}function lE(o,u){for(var p=o.suspendedLanes,v=o.pingedLanes,E=o.expirationTimes,I=o.pendingLanes&-62914561;0<I;){var J=31-je(I),pe=1<<J,Ne=E[J];Ne===-1?((pe&p)===0||(pe&v)!==0)&&(E[J]=ln(pe,u)):Ne<=u&&(o.expiredLanes|=pe),I&=~pe}if(u=ri,p=Qn,p=Kt(o,o===u?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v=o.callbackNode,p===0||o===u&&(Ir===2||Ir===9)||o.cancelPendingCommit!==null)return v!==null&&v!==null&&V(v),o.callbackNode=null,o.callbackPriority=0;if((p&3)===0||tn(o,p)){if(u=p&-p,u===o.callbackPriority)return u;switch(v!==null&&V(v),Sr(p)){case 2:case 8:p=Le;break;case 32:p=Pe;break;case 268435456:p=Ke;break;default:p=Pe}return v=uE.bind(null,o),p=We(p,v),o.callbackPriority=u,o.callbackNode=p,u}return v!==null&&v!==null&&V(v),o.callbackPriority=2,o.callbackNode=null,2}function uE(o,u){if(ds!==0&&ds!==5)return o.callbackNode=null,o.callbackPriority=0,null;var p=o.callbackNode;if(Vb()&&o.callbackNode!==p)return null;var v=Qn;return v=Kt(o,o===ri?v:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v===0?null:(WC(o,v,u),lE(o,he()),o.callbackNode!=null&&o.callbackNode===p?uE.bind(null,o):null)}function cE(o,u){if(Vb())return null;WC(o,u,!0)}function a9(){m9(function(){(Or&6)!==0?We(we,i9):oE()})}function G2(){return Bh===0&&(Bh=zn()),Bh}function dE(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Ys(""+o)}function fE(o,u){var p=u.ownerDocument.createElement("input");return p.name=u.name,p.value=u.value,o.id&&p.setAttribute("form",o.id),u.parentNode.insertBefore(p,u),o=new FormData(o),p.parentNode.removeChild(p),o}function s9(o,u,p,v,E){if(u==="submit"&&p&&p.stateNode===E){var I=dE((E[sr]||null).action),J=v.submitter;J&&(u=(u=J[sr]||null)?dE(u.formAction):J.getAttribute("formAction"),u!==null&&(I=u,J=null));var pe=new st("action","action",null,v,E);o.push({event:pe,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(Bh!==0){var Ne=J?fE(E,J):new FormData(E);vl(p,{pending:!0,data:Ne,method:E.method,action:I},null,Ne)}}else typeof I=="function"&&(pe.preventDefault(),Ne=J?fE(E,J):new FormData(E),vl(p,{pending:!0,data:Ne,method:E.method,action:I},I,Ne))},currentTarget:E}]})}}for(var Q2=0;Q2<td.length;Q2++){var K2=td[Q2],o9=K2.toLowerCase(),l9=K2[0].toUpperCase()+K2.slice(1);bi(o9,"on"+l9)}bi(sf,"onAnimationEnd"),bi(Wu,"onAnimationIteration"),bi(Vu,"onAnimationStart"),bi("dblclick","onDoubleClick"),bi("focusin","onFocus"),bi("focusout","onBlur"),bi(Yu,"onTransitionRun"),bi(ed,"onTransitionStart"),bi(of,"onTransitionCancel"),bi(Gu,"onTransitionEnd"),Fr("onMouseEnter",["mouseout","mouseover"]),Fr("onMouseLeave",["mouseout","mouseover"]),Fr("onPointerEnter",["pointerout","pointerover"]),Fr("onPointerLeave",["pointerout","pointerover"]),Fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gm));function hE(o,u){u=(u&4)!==0;for(var p=0;p<o.length;p++){var v=o[p],E=v.event;v=v.listeners;e:{var I=void 0;if(u)for(var J=v.length-1;0<=J;J--){var pe=v[J],Ne=pe.instance,Xe=pe.currentTarget;if(pe=pe.listener,Ne!==I&&E.isPropagationStopped())break e;I=pe,E.currentTarget=Xe;try{I(E)}catch(gt){Rb(gt)}E.currentTarget=null,I=Ne}else for(J=0;J<v.length;J++){if(pe=v[J],Ne=pe.instance,Xe=pe.currentTarget,pe=pe.listener,Ne!==I&&E.isPropagationStopped())break e;I=pe,E.currentTarget=Xe;try{I(E)}catch(gt){Rb(gt)}E.currentTarget=null,I=Ne}}}}function $n(o,u){var p=u[dr];p===void 0&&(p=u[dr]=new Set);var v=o+"__bubble";p.has(v)||(pE(u,o,2,!1),p.add(v))}function X2(o,u,p){var v=0;u&&(v|=4),pE(p,o,v,u)}var Qb="_reactListening"+Math.random().toString(36).slice(2);function Z2(o){if(!o[Qb]){o[Qb]=!0,ro.forEach(function(p){p!=="selectionchange"&&(u9.has(p)||X2(p,!1,o),X2(p,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[Qb]||(u[Qb]=!0,X2("selectionchange",!1,u))}}function pE(o,u,p,v){switch(PE(u)){case 2:var E=M9;break;case 8:E=F9;break;default:E=f5}p=E.bind(null,u,p,o),E=void 0,!jo||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(E=!0),v?E!==void 0?o.addEventListener(u,p,{capture:!0,passive:E}):o.addEventListener(u,p,!0):E!==void 0?o.addEventListener(u,p,{passive:E}):o.addEventListener(u,p,!1)}function J2(o,u,p,v,E){var I=v;if((u&1)===0&&(u&2)===0&&v!==null)e:for(;;){if(v===null)return;var J=v.tag;if(J===3||J===4){var pe=v.stateNode.containerInfo;if(pe===E)break;if(J===4)for(J=v.return;J!==null;){var Ne=J.tag;if((Ne===3||Ne===4)&&J.stateNode.containerInfo===E)return;J=J.return}for(;pe!==null;){if(J=zi(pe),J===null)return;if(Ne=J.tag,Ne===5||Ne===6||Ne===26||Ne===27){v=I=J;continue e}pe=pe.parentNode}}v=v.return}cl(function(){var Xe=I,gt=ui(p),At=[];e:{var et=Ql.get(o);if(et!==void 0){var tt=st,hn=o;switch(o){case"keypress":if(oo(p)===0)break e;case"keydown":case"keyup":tt=ef;break;case"focusin":hn="focus",tt=Kr;break;case"focusout":hn="blur",tt=Kr;break;case"beforeblur":case"afterblur":tt=Kr;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=Nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=Ar;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=yh;break;case sf:case Wu:case Vu:tt=Gs;break;case Gu:tt=ae;break;case"scroll":case"scrollend":tt=qt;break;case"wheel":tt=Re;break;case"copy":case"cut":case"paste":tt=Xd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=tf;break;case"toggle":case"beforetoggle":tt=dt}var nn=(u&4)!==0,Br=!nn&&(o==="scroll"||o==="scrollend"),He=nn?et!==null?et+"Capture":null:et;nn=[];for(var ze=Xe,Ge;ze!==null;){var yt=ze;if(Ge=yt.stateNode,yt=yt.tag,yt!==5&&yt!==26&&yt!==27||Ge===null||He===null||(yt=Ei(ze,He),yt!=null&&nn.push(Qm(ze,yt,Ge))),Br)break;ze=ze.return}0<nn.length&&(et=new tt(et,hn,null,p,gt),At.push({event:et,listeners:nn}))}}if((u&7)===0){e:{if(et=o==="mouseover"||o==="pointerover",tt=o==="mouseout"||o==="pointerout",et&&p!==ul&&(hn=p.relatedTarget||p.fromElement)&&(zi(hn)||hn[Mr]))break e;if((tt||et)&&(et=gt.window===gt?gt:(et=gt.ownerDocument)?et.defaultView||et.parentWindow:window,tt?(hn=p.relatedTarget||p.toElement,tt=Xe,hn=hn?zi(hn):null,hn!==null&&(Br=a(hn),nn=hn.tag,hn!==Br||nn!==5&&nn!==27&&nn!==6)&&(hn=null)):(tt=null,hn=Xe),tt!==hn)){if(nn=Nr,yt="onMouseLeave",He="onMouseEnter",ze="mouse",(o==="pointerout"||o==="pointerover")&&(nn=tf,yt="onPointerLeave",He="onPointerEnter",ze="pointer"),Br=tt==null?et:er(tt),Ge=hn==null?et:er(hn),et=new nn(yt,ze+"leave",tt,p,gt),et.target=Br,et.relatedTarget=Ge,yt=null,zi(gt)===Xe&&(nn=new nn(He,ze+"enter",hn,p,gt),nn.target=Ge,nn.relatedTarget=Br,yt=nn),Br=yt,tt&&hn)t:{for(nn=tt,He=hn,ze=0,Ge=nn;Ge;Ge=t0(Ge))ze++;for(Ge=0,yt=He;yt;yt=t0(yt))Ge++;for(;0<ze-Ge;)nn=t0(nn),ze--;for(;0<Ge-ze;)He=t0(He),Ge--;for(;ze--;){if(nn===He||He!==null&&nn===He.alternate)break t;nn=t0(nn),He=t0(He)}nn=null}else nn=null;tt!==null&&mE(At,et,tt,nn,!1),hn!==null&&Br!==null&&mE(At,Br,hn,nn,!0)}}e:{if(et=Xe?er(Xe):window,tt=et.nodeName&&et.nodeName.toLowerCase(),tt==="select"||tt==="input"&&et.type==="file")var Pt=rf;else if(Io(et))if(Kc)Pt=Tp;else{Pt=wm;var Fn=Es}else tt=et.nodeName,!tt||tt.toLowerCase()!=="input"||et.type!=="checkbox"&&et.type!=="radio"?Xe&&qa(Xe.elementType)&&(Pt=rf):Pt=vh;if(Pt&&(Pt=Pt(o,Xe))){xh(At,Pt,p,gt);break e}Fn&&Fn(o,et,Xe),o==="focusout"&&Xe&&et.type==="number"&&Xe.memoizedProps.value!=null&&ko(et,"number",et.value)}switch(Fn=Xe?er(Xe):window,o){case"focusin":(Io(Fn)||Fn.contentEditable==="true")&&(_s=Fn,Do=Xe,hl=null);break;case"focusout":hl=Do=_s=null;break;case"mousedown":Lo=!0;break;case"contextmenu":case"mouseup":case"dragend":Lo=!1,gi(At,p,gt);break;case"selectionchange":if(Hu)break;case"keydown":case"keyup":gi(At,p,gt)}var Qt;if(Tt)e:{switch(o){case"compositionstart":var sn="onCompositionStart";break e;case"compositionend":sn="onCompositionEnd";break e;case"compositionupdate":sn="onCompositionUpdate";break e}sn=void 0}else ki?ci(o,p)&&(sn="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(sn="onCompositionStart");sn&&(pn&&p.locale!=="ko"&&(ki||sn!=="onCompositionStart"?sn==="onCompositionEnd"&&ki&&(Qt=dl()):(Da=gt,$a="value"in Da?Da.value:Da.textContent,ki=!0)),Fn=Kb(Xe,sn),0<Fn.length&&(sn=new To(sn,o,null,p,gt),At.push({event:sn,listeners:Fn}),Qt?sn.data=Qt:(Qt=_i(p),Qt!==null&&(sn.data=Qt)))),(Qt=vn?Sa(o,p):Oo(o,p))&&(sn=Kb(Xe,"onBeforeInput"),0<sn.length&&(Fn=new To("onBeforeInput","beforeinput",null,p,gt),At.push({event:Fn,listeners:sn}),Fn.data=Qt)),s9(At,o,Xe,p,gt)}hE(At,u)})}function Qm(o,u,p){return{instance:o,listener:u,currentTarget:p}}function Kb(o,u){for(var p=u+"Capture",v=[];o!==null;){var E=o,I=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||I===null||(E=Ei(o,p),E!=null&&v.unshift(Qm(o,E,I)),E=Ei(o,u),E!=null&&v.push(Qm(o,E,I))),o.tag===3)return v;o=o.return}return[]}function t0(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function mE(o,u,p,v,E){for(var I=u._reactName,J=[];p!==null&&p!==v;){var pe=p,Ne=pe.alternate,Xe=pe.stateNode;if(pe=pe.tag,Ne!==null&&Ne===v)break;pe!==5&&pe!==26&&pe!==27||Xe===null||(Ne=Xe,E?(Xe=Ei(p,I),Xe!=null&&J.unshift(Qm(p,Xe,Ne))):E||(Xe=Ei(p,I),Xe!=null&&J.push(Qm(p,Xe,Ne)))),p=p.return}J.length!==0&&o.push({event:u,listeners:J})}var c9=/\r\n?/g,d9=/\u0000|\uFFFD/g;function gE(o){return(typeof o=="string"?o:""+o).replace(c9,`
`).replace(d9,"")}function bE(o,u){return u=gE(u),gE(o)===u}function Xb(){}function qr(o,u,p,v,E,I){switch(p){case"children":typeof v=="string"?u==="body"||u==="textarea"&&v===""||Bi(o,v):(typeof v=="number"||typeof v=="bigint")&&u!=="body"&&Bi(o,""+v);break;case"className":xs(o,"class",v);break;case"tabIndex":xs(o,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":xs(o,p,v);break;case"style":Pu(o,v,I);break;case"data":if(u!=="object"){xs(o,"data",v);break}case"src":case"href":if(v===""&&(u!=="a"||p!=="href")){o.removeAttribute(p);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(p);break}v=Ys(""+v),o.setAttribute(p,v);break;case"action":case"formAction":if(typeof v=="function"){o.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof I=="function"&&(p==="formAction"?(u!=="input"&&qr(o,u,"name",E.name,E,null),qr(o,u,"formEncType",E.formEncType,E,null),qr(o,u,"formMethod",E.formMethod,E,null),qr(o,u,"formTarget",E.formTarget,E,null)):(qr(o,u,"encType",E.encType,E,null),qr(o,u,"method",E.method,E,null),qr(o,u,"target",E.target,E,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(p);break}v=Ys(""+v),o.setAttribute(p,v);break;case"onClick":v!=null&&(o.onclick=Xb);break;case"onScroll":v!=null&&$n("scroll",o);break;case"onScrollEnd":v!=null&&$n("scrollend",o);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(p=v.__html,p!=null){if(E.children!=null)throw Error(r(60));o.innerHTML=p}}break;case"multiple":o.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":o.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){o.removeAttribute("xlink:href");break}p=Ys(""+v),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,""+v):o.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,""):o.removeAttribute(p);break;case"capture":case"download":v===!0?o.setAttribute(p,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,v):o.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?o.setAttribute(p,v):o.removeAttribute(p);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?o.removeAttribute(p):o.setAttribute(p,v);break;case"popover":$n("beforetoggle",o),$n("toggle",o),$s(o,"popover",v);break;case"xlinkActuate":Pa(o,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":Pa(o,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":Pa(o,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":Pa(o,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":Pa(o,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":Pa(o,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":Pa(o,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":Pa(o,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":Pa(o,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":$s(o,"is",v);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=Vs.get(p)||p,$s(o,p,v))}}function e5(o,u,p,v,E,I){switch(p){case"style":Pu(o,v,I);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(p=v.__html,p!=null){if(E.children!=null)throw Error(r(60));o.innerHTML=p}}break;case"children":typeof v=="string"?Bi(o,v):(typeof v=="number"||typeof v=="bigint")&&Bi(o,""+v);break;case"onScroll":v!=null&&$n("scroll",o);break;case"onScrollEnd":v!=null&&$n("scrollend",o);break;case"onClick":v!=null&&(o.onclick=Xb);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Eo.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(E=p.endsWith("Capture"),u=p.slice(2,E?p.length-7:void 0),I=o[sr]||null,I=I!=null?I[p]:null,typeof I=="function"&&o.removeEventListener(u,I,E),typeof v=="function")){typeof I!="function"&&I!==null&&(p in o?o[p]=null:o.hasAttribute(p)&&o.removeAttribute(p)),o.addEventListener(u,v,E);break e}p in o?o[p]=v:v===!0?o.setAttribute(p,""):$s(o,p,v)}}}function fs(o,u,p){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$n("error",o),$n("load",o);var v=!1,E=!1,I;for(I in p)if(p.hasOwnProperty(I)){var J=p[I];if(J!=null)switch(I){case"src":v=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:qr(o,u,I,J,p,null)}}E&&qr(o,u,"srcSet",p.srcSet,p,null),v&&qr(o,u,"src",p.src,p,null);return;case"input":$n("invalid",o);var pe=I=J=E=null,Ne=null,Xe=null;for(v in p)if(p.hasOwnProperty(v)){var gt=p[v];if(gt!=null)switch(v){case"name":E=gt;break;case"type":J=gt;break;case"checked":Ne=gt;break;case"defaultChecked":Xe=gt;break;case"value":I=gt;break;case"defaultValue":pe=gt;break;case"children":case"dangerouslySetInnerHTML":if(gt!=null)throw Error(r(137,u));break;default:qr(o,u,v,gt,p,null)}}Wl(o,I,pe,Ne,Xe,J,E,!1),za(o);return;case"select":$n("invalid",o),v=J=I=null;for(E in p)if(p.hasOwnProperty(E)&&(pe=p[E],pe!=null))switch(E){case"value":I=pe;break;case"defaultValue":J=pe;break;case"multiple":v=pe;default:qr(o,u,E,pe,p,null)}u=I,p=J,o.multiple=!!v,u!=null?Hs(o,!!v,u,!1):p!=null&&Hs(o,!!v,p,!0);return;case"textarea":$n("invalid",o),I=E=v=null;for(J in p)if(p.hasOwnProperty(J)&&(pe=p[J],pe!=null))switch(J){case"value":v=pe;break;case"defaultValue":E=pe;break;case"children":I=pe;break;case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(91));break;default:qr(o,u,J,pe,p,null)}Ws(o,v,E,I),za(o);return;case"option":for(Ne in p)if(p.hasOwnProperty(Ne)&&(v=p[Ne],v!=null))switch(Ne){case"selected":o.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:qr(o,u,Ne,v,p,null)}return;case"dialog":$n("beforetoggle",o),$n("toggle",o),$n("cancel",o),$n("close",o);break;case"iframe":case"object":$n("load",o);break;case"video":case"audio":for(v=0;v<Gm.length;v++)$n(Gm[v],o);break;case"image":$n("error",o),$n("load",o);break;case"details":$n("toggle",o);break;case"embed":case"source":case"link":$n("error",o),$n("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Xe in p)if(p.hasOwnProperty(Xe)&&(v=p[Xe],v!=null))switch(Xe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:qr(o,u,Xe,v,p,null)}return;default:if(qa(u)){for(gt in p)p.hasOwnProperty(gt)&&(v=p[gt],v!==void 0&&e5(o,u,gt,v,p,void 0));return}}for(pe in p)p.hasOwnProperty(pe)&&(v=p[pe],v!=null&&qr(o,u,pe,v,p,null))}function f9(o,u,p,v){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,I=null,J=null,pe=null,Ne=null,Xe=null,gt=null;for(tt in p){var At=p[tt];if(p.hasOwnProperty(tt)&&At!=null)switch(tt){case"checked":break;case"value":break;case"defaultValue":Ne=At;default:v.hasOwnProperty(tt)||qr(o,u,tt,null,v,At)}}for(var et in v){var tt=v[et];if(At=p[et],v.hasOwnProperty(et)&&(tt!=null||At!=null))switch(et){case"type":I=tt;break;case"name":E=tt;break;case"checked":Xe=tt;break;case"defaultChecked":gt=tt;break;case"value":J=tt;break;case"defaultValue":pe=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(r(137,u));break;default:tt!==At&&qr(o,u,et,tt,v,At)}}_o(o,J,pe,Ne,Xe,gt,I,E);return;case"select":tt=J=pe=et=null;for(I in p)if(Ne=p[I],p.hasOwnProperty(I)&&Ne!=null)switch(I){case"value":break;case"multiple":tt=Ne;default:v.hasOwnProperty(I)||qr(o,u,I,null,v,Ne)}for(E in v)if(I=v[E],Ne=p[E],v.hasOwnProperty(E)&&(I!=null||Ne!=null))switch(E){case"value":et=I;break;case"defaultValue":pe=I;break;case"multiple":J=I;default:I!==Ne&&qr(o,u,E,I,v,Ne)}u=pe,p=J,v=tt,et!=null?Hs(o,!!p,et,!1):!!v!=!!p&&(u!=null?Hs(o,!!p,u,!0):Hs(o,!!p,p?[]:"",!1));return;case"textarea":tt=et=null;for(pe in p)if(E=p[pe],p.hasOwnProperty(pe)&&E!=null&&!v.hasOwnProperty(pe))switch(pe){case"value":break;case"children":break;default:qr(o,u,pe,null,v,E)}for(J in v)if(E=v[J],I=p[J],v.hasOwnProperty(J)&&(E!=null||I!=null))switch(J){case"value":et=E;break;case"defaultValue":tt=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:E!==I&&qr(o,u,J,E,v,I)}Fu(o,et,tt);return;case"option":for(var hn in p)if(et=p[hn],p.hasOwnProperty(hn)&&et!=null&&!v.hasOwnProperty(hn))switch(hn){case"selected":o.selected=!1;break;default:qr(o,u,hn,null,v,et)}for(Ne in v)if(et=v[Ne],tt=p[Ne],v.hasOwnProperty(Ne)&&et!==tt&&(et!=null||tt!=null))switch(Ne){case"selected":o.selected=et&&typeof et!="function"&&typeof et!="symbol";break;default:qr(o,u,Ne,et,v,tt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var nn in p)et=p[nn],p.hasOwnProperty(nn)&&et!=null&&!v.hasOwnProperty(nn)&&qr(o,u,nn,null,v,et);for(Xe in v)if(et=v[Xe],tt=p[Xe],v.hasOwnProperty(Xe)&&et!==tt&&(et!=null||tt!=null))switch(Xe){case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(r(137,u));break;default:qr(o,u,Xe,et,v,tt)}return;default:if(qa(u)){for(var Br in p)et=p[Br],p.hasOwnProperty(Br)&&et!==void 0&&!v.hasOwnProperty(Br)&&e5(o,u,Br,void 0,v,et);for(gt in v)et=v[gt],tt=p[gt],!v.hasOwnProperty(gt)||et===tt||et===void 0&&tt===void 0||e5(o,u,gt,et,v,tt);return}}for(var He in p)et=p[He],p.hasOwnProperty(He)&&et!=null&&!v.hasOwnProperty(He)&&qr(o,u,He,null,v,et);for(At in v)et=v[At],tt=p[At],!v.hasOwnProperty(At)||et===tt||et==null&&tt==null||qr(o,u,At,et,v,tt)}var t5=null,n5=null;function Zb(o){return o.nodeType===9?o:o.ownerDocument}function yE(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xE(o,u){if(o===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&u==="foreignObject"?0:o}function r5(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var i5=null;function h9(){var o=window.event;return o&&o.type==="popstate"?o===i5?!1:(i5=o,!0):(i5=null,!1)}var vE=typeof setTimeout=="function"?setTimeout:void 0,p9=typeof clearTimeout=="function"?clearTimeout:void 0,wE=typeof Promise=="function"?Promise:void 0,m9=typeof queueMicrotask=="function"?queueMicrotask:typeof wE<"u"?function(o){return wE.resolve(null).then(o).catch(g9)}:vE;function g9(o){setTimeout(function(){throw o})}function kf(o){return o==="head"}function SE(o,u){var p=u,v=0,E=0;do{var I=p.nextSibling;if(o.removeChild(p),I&&I.nodeType===8)if(p=I.data,p==="/$"){if(0<v&&8>v){p=v;var J=o.ownerDocument;if(p&1&&Km(J.documentElement),p&2&&Km(J.body),p&4)for(p=J.head,Km(p),J=p.firstChild;J;){var pe=J.nextSibling,Ne=J.nodeName;J[jr]||Ne==="SCRIPT"||Ne==="STYLE"||Ne==="LINK"&&J.rel.toLowerCase()==="stylesheet"||p.removeChild(J),J=pe}}if(E===0){o.removeChild(I),i1(u);return}E--}else p==="$"||p==="$?"||p==="$!"?E++:v=p.charCodeAt(0)-48;else v=0;p=I}while(p);i1(u)}function a5(o){var u=o.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var p=u;switch(u=u.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":a5(p),Ia(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}o.removeChild(p)}}function b9(o,u,p,v){for(;o.nodeType===1;){var E=p;if(o.nodeName.toLowerCase()!==u.toLowerCase()){if(!v&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(v){if(!o[jr])switch(u){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(I=o.getAttribute("rel"),I==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(I!==E.rel||o.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||o.getAttribute("title")!==(E.title==null?null:E.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(I=o.getAttribute("src"),(I!==(E.src==null?null:E.src)||o.getAttribute("type")!==(E.type==null?null:E.type)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&I&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(u==="input"&&o.type==="hidden"){var I=E.name==null?null:""+E.name;if(E.type==="hidden"&&o.getAttribute("name")===I)return o}else return o;if(o=uu(o.nextSibling),o===null)break}return null}function y9(o,u,p){if(u==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!p||(o=uu(o.nextSibling),o===null))return null;return o}function s5(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function x9(o,u){var p=o.ownerDocument;if(o.data!=="$?"||p.readyState==="complete")u();else{var v=function(){u(),p.removeEventListener("DOMContentLoaded",v)};p.addEventListener("DOMContentLoaded",v),o._reactRetry=v}}function uu(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return o}var o5=null;function AE(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"){if(u===0)return o;u--}else p==="/$"&&u++}o=o.previousSibling}return null}function CE(o,u,p){switch(u=Zb(p),o){case"html":if(o=u.documentElement,!o)throw Error(r(452));return o;case"head":if(o=u.head,!o)throw Error(r(453));return o;case"body":if(o=u.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Km(o){for(var u=o.attributes;u.length;)o.removeAttributeNode(u[0]);Ia(o)}var Al=new Map,EE=new Set;function Jb(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var yd=G.d;G.d={f:v9,r:w9,D:S9,C:A9,L:C9,m:E9,X:k9,S:_9,M:j9};function v9(){var o=yd.f(),u=Hb();return o||u}function w9(o){var u=qi(o);u!==null&&u.tag===5&&u.type==="form"?Mh(u):yd.r(o)}var n0=typeof document>"u"?null:document;function _E(o,u,p){var v=n0;if(v&&typeof u=="string"&&u){var E=hr(u);E='link[rel="'+o+'"][href="'+E+'"]',typeof p=="string"&&(E+='[crossorigin="'+p+'"]'),EE.has(E)||(EE.add(E),o={rel:o,crossOrigin:p,href:u},v.querySelector(E)===null&&(u=v.createElement("link"),fs(u,"link",o),tr(u),v.head.appendChild(u)))}}function S9(o){yd.D(o),_E("dns-prefetch",o,null)}function A9(o,u){yd.C(o,u),_E("preconnect",o,u)}function C9(o,u,p){yd.L(o,u,p);var v=n0;if(v&&o&&u){var E='link[rel="preload"][as="'+hr(u)+'"]';u==="image"&&p&&p.imageSrcSet?(E+='[imagesrcset="'+hr(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(E+='[imagesizes="'+hr(p.imageSizes)+'"]')):E+='[href="'+hr(o)+'"]';var I=E;switch(u){case"style":I=r0(o);break;case"script":I=i0(o)}Al.has(I)||(o=h({rel:"preload",href:u==="image"&&p&&p.imageSrcSet?void 0:o,as:u},p),Al.set(I,o),v.querySelector(E)!==null||u==="style"&&v.querySelector(Xm(I))||u==="script"&&v.querySelector(Zm(I))||(u=v.createElement("link"),fs(u,"link",o),tr(u),v.head.appendChild(u)))}}function E9(o,u){yd.m(o,u);var p=n0;if(p&&o){var v=u&&typeof u.as=="string"?u.as:"script",E='link[rel="modulepreload"][as="'+hr(v)+'"][href="'+hr(o)+'"]',I=E;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":I=i0(o)}if(!Al.has(I)&&(o=h({rel:"modulepreload",href:o},u),Al.set(I,o),p.querySelector(E)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(Zm(I)))return}v=p.createElement("link"),fs(v,"link",o),tr(v),p.head.appendChild(v)}}}function _9(o,u,p){yd.S(o,u,p);var v=n0;if(v&&o){var E=Ci(v).hoistableStyles,I=r0(o);u=u||"default";var J=E.get(I);if(!J){var pe={loading:0,preload:null};if(J=v.querySelector(Xm(I)))pe.loading=5;else{o=h({rel:"stylesheet",href:o,"data-precedence":u},p),(p=Al.get(I))&&l5(o,p);var Ne=J=v.createElement("link");tr(Ne),fs(Ne,"link",o),Ne._p=new Promise(function(Xe,gt){Ne.onload=Xe,Ne.onerror=gt}),Ne.addEventListener("load",function(){pe.loading|=1}),Ne.addEventListener("error",function(){pe.loading|=2}),pe.loading|=4,ey(J,u,v)}J={type:"stylesheet",instance:J,count:1,state:pe},E.set(I,J)}}}function k9(o,u){yd.X(o,u);var p=n0;if(p&&o){var v=Ci(p).hoistableScripts,E=i0(o),I=v.get(E);I||(I=p.querySelector(Zm(E)),I||(o=h({src:o,async:!0},u),(u=Al.get(E))&&u5(o,u),I=p.createElement("script"),tr(I),fs(I,"link",o),p.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},v.set(E,I))}}function j9(o,u){yd.M(o,u);var p=n0;if(p&&o){var v=Ci(p).hoistableScripts,E=i0(o),I=v.get(E);I||(I=p.querySelector(Zm(E)),I||(o=h({src:o,async:!0,type:"module"},u),(u=Al.get(E))&&u5(o,u),I=p.createElement("script"),tr(I),fs(I,"link",o),p.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},v.set(E,I))}}function kE(o,u,p,v){var E=(E=ne.current)?Jb(E):null;if(!E)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(u=r0(p.href),p=Ci(E).hoistableStyles,v=p.get(u),v||(v={type:"style",instance:null,count:0,state:null},p.set(u,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){o=r0(p.href);var I=Ci(E).hoistableStyles,J=I.get(o);if(J||(E=E.ownerDocument||E,J={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},I.set(o,J),(I=E.querySelector(Xm(o)))&&!I._p&&(J.instance=I,J.state.loading=5),Al.has(o)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Al.set(o,p),I||N9(E,o,p,J.state))),u&&v===null)throw Error(r(528,""));return J}if(u&&v!==null)throw Error(r(529,""));return null;case"script":return u=p.async,p=p.src,typeof p=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=i0(p),p=Ci(E).hoistableScripts,v=p.get(u),v||(v={type:"script",instance:null,count:0,state:null},p.set(u,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function r0(o){return'href="'+hr(o)+'"'}function Xm(o){return'link[rel="stylesheet"]['+o+"]"}function jE(o){return h({},o,{"data-precedence":o.precedence,precedence:null})}function N9(o,u,p,v){o.querySelector('link[rel="preload"][as="style"]['+u+"]")?v.loading=1:(u=o.createElement("link"),v.preload=u,u.addEventListener("load",function(){return v.loading|=1}),u.addEventListener("error",function(){return v.loading|=2}),fs(u,"link",p),tr(u),o.head.appendChild(u))}function i0(o){return'[src="'+hr(o)+'"]'}function Zm(o){return"script[async]"+o}function NE(o,u,p){if(u.count++,u.instance===null)switch(u.type){case"style":var v=o.querySelector('style[data-href~="'+hr(p.href)+'"]');if(v)return u.instance=v,tr(v),v;var E=h({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return v=(o.ownerDocument||o).createElement("style"),tr(v),fs(v,"style",E),ey(v,p.precedence,o),u.instance=v;case"stylesheet":E=r0(p.href);var I=o.querySelector(Xm(E));if(I)return u.state.loading|=4,u.instance=I,tr(I),I;v=jE(p),(E=Al.get(E))&&l5(v,E),I=(o.ownerDocument||o).createElement("link"),tr(I);var J=I;return J._p=new Promise(function(pe,Ne){J.onload=pe,J.onerror=Ne}),fs(I,"link",v),u.state.loading|=4,ey(I,p.precedence,o),u.instance=I;case"script":return I=i0(p.src),(E=o.querySelector(Zm(I)))?(u.instance=E,tr(E),E):(v=p,(E=Al.get(I))&&(v=h({},p),u5(v,E)),o=o.ownerDocument||o,E=o.createElement("script"),tr(E),fs(E,"link",v),o.head.appendChild(E),u.instance=E);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(v=u.instance,u.state.loading|=4,ey(v,p.precedence,o));return u.instance}function ey(o,u,p){for(var v=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=v.length?v[v.length-1]:null,I=E,J=0;J<v.length;J++){var pe=v[J];if(pe.dataset.precedence===u)I=pe;else if(I!==E)break}I?I.parentNode.insertBefore(o,I.nextSibling):(u=p.nodeType===9?p.head:p,u.insertBefore(o,u.firstChild))}function l5(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.title==null&&(o.title=u.title)}function u5(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.integrity==null&&(o.integrity=u.integrity)}var ty=null;function TE(o,u,p){if(ty===null){var v=new Map,E=ty=new Map;E.set(p,v)}else E=ty,v=E.get(p),v||(v=new Map,E.set(p,v));if(v.has(o))return v;for(v.set(o,null),p=p.getElementsByTagName(o),E=0;E<p.length;E++){var I=p[E];if(!(I[jr]||I[Wn]||o==="link"&&I.getAttribute("rel")==="stylesheet")&&I.namespaceURI!=="http://www.w3.org/2000/svg"){var J=I.getAttribute(u)||"";J=o+J;var pe=v.get(J);pe?pe.push(I):v.set(J,[I])}}return v}function OE(o,u,p){o=o.ownerDocument||o,o.head.insertBefore(p,u==="title"?o.querySelector("head > title"):null)}function T9(o,u,p){if(p===1||u.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return o=u.disabled,typeof u.precedence=="string"&&o==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function IE(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Jm=null;function O9(){}function I9(o,u,p){if(Jm===null)throw Error(r(475));var v=Jm;if(u.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var E=r0(p.href),I=o.querySelector(Xm(E));if(I){o=I._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(v.count++,v=ny.bind(v),o.then(v,v)),u.state.loading|=4,u.instance=I,tr(I);return}I=o.ownerDocument||o,p=jE(p),(E=Al.get(E))&&l5(p,E),I=I.createElement("link"),tr(I);var J=I;J._p=new Promise(function(pe,Ne){J.onload=pe,J.onerror=Ne}),fs(I,"link",p),u.instance=I}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(v.count++,u=ny.bind(v),o.addEventListener("load",u),o.addEventListener("error",u))}}function D9(){if(Jm===null)throw Error(r(475));var o=Jm;return o.stylesheets&&o.count===0&&c5(o,o.stylesheets),0<o.count?function(u){var p=setTimeout(function(){if(o.stylesheets&&c5(o,o.stylesheets),o.unsuspend){var v=o.unsuspend;o.unsuspend=null,v()}},6e4);return o.unsuspend=u,function(){o.unsuspend=null,clearTimeout(p)}}:null}function ny(){if(this.count--,this.count===0){if(this.stylesheets)c5(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var ry=null;function c5(o,u){o.stylesheets=null,o.unsuspend!==null&&(o.count++,ry=new Map,u.forEach(L9,o),ry=null,ny.call(o))}function L9(o,u){if(!(u.state.loading&4)){var p=ry.get(o);if(p)var v=p.get(null);else{p=new Map,ry.set(o,p);for(var E=o.querySelectorAll("link[data-precedence],style[data-precedence]"),I=0;I<E.length;I++){var J=E[I];(J.nodeName==="LINK"||J.getAttribute("media")!=="not all")&&(p.set(J.dataset.precedence,J),v=J)}v&&p.set(null,v)}E=u.instance,J=E.getAttribute("data-precedence"),I=p.get(J)||v,I===v&&p.set(null,E),p.set(J,E),this.count++,v=ny.bind(this),E.addEventListener("load",v),E.addEventListener("error",v),I?I.parentNode.insertBefore(E,I.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(E,o.firstChild)),u.state.loading|=4}}var e1={$$typeof:j,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function R9(o,u,p,v,E,I,J,pe){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qr(0),this.hiddenUpdates=Qr(null),this.identifierPrefix=v,this.onUncaughtError=E,this.onCaughtError=I,this.onRecoverableError=J,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=pe,this.incompleteTransitions=new Map}function DE(o,u,p,v,E,I,J,pe,Ne,Xe,gt,At){return o=new R9(o,u,p,J,pe,Ne,Xe,At),u=1,I===!0&&(u|=24),I=Wa(3,null,null,u),o.current=I,I.stateNode=o,u=Am(),u.refCount++,o.pooledCache=u,u.refCount++,I.memoizedState={element:v,isDehydrated:p,cache:u},Fe(I),o}function LE(o){return o?(o=Ca,o):Ca}function RE(o,u,p,v,E,I){E=LE(E),v.context===null?v.context=E:v.pendingContext=E,v=pt(u),v.payload={element:p},I=I===void 0?null:I,I!==null&&(v.callback=I),p=wt(o,v,u),p!==null&&(Uo(p,o,u),bt(p,o,u))}function ME(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<u?p:u}}function d5(o,u){ME(o,u),(o=o.alternate)&&ME(o,u)}function FE(o){if(o.tag===13){var u=Kl(o,67108864);u!==null&&Uo(u,o,67108864),d5(o,67108864)}}var iy=!0;function M9(o,u,p,v){var E=H.T;H.T=null;var I=G.p;try{G.p=2,f5(o,u,p,v)}finally{G.p=I,H.T=E}}function F9(o,u,p,v){var E=H.T;H.T=null;var I=G.p;try{G.p=8,f5(o,u,p,v)}finally{G.p=I,H.T=E}}function f5(o,u,p,v){if(iy){var E=h5(v);if(E===null)J2(o,u,v,ay,p),zE(o,v);else if(z9(E,o,u,p,v))v.stopPropagation();else if(zE(o,v),u&4&&-1<P9.indexOf(o)){for(;E!==null;){var I=qi(E);if(I!==null)switch(I.tag){case 3:if(I=I.stateNode,I.current.memoizedState.isDehydrated){var J=Lt(I.pendingLanes);if(J!==0){var pe=I;for(pe.pendingLanes|=2,pe.entangledLanes|=2;J;){var Ne=1<<31-je(J);pe.entanglements[1]|=Ne,J&=~Ne}lc(I),(Or&6)===0&&(Ub=he()+500,Ym(0))}}break;case 13:pe=Kl(I,2),pe!==null&&Uo(pe,I,2),Hb(),d5(I,2)}if(I=h5(v),I===null&&J2(o,u,v,ay,p),I===E)break;E=I}E!==null&&v.stopPropagation()}else J2(o,u,v,null,p)}}function h5(o){return o=ui(o),p5(o)}var ay=null;function p5(o){if(ay=null,o=zi(o),o!==null){var u=a(o);if(u===null)o=null;else{var p=u.tag;if(p===13){if(o=s(u),o!==null)return o;o=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null)}}return ay=o,null}function PE(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(de()){case we:return 2;case Le:return 8;case Pe:case _e:return 32;case Ke:return 268435456;default:return 32}default:return 32}}var m5=!1,jf=null,Nf=null,Tf=null,t1=new Map,n1=new Map,Of=[],P9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zE(o,u){switch(o){case"focusin":case"focusout":jf=null;break;case"dragenter":case"dragleave":Nf=null;break;case"mouseover":case"mouseout":Tf=null;break;case"pointerover":case"pointerout":t1.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":n1.delete(u.pointerId)}}function r1(o,u,p,v,E,I){return o===null||o.nativeEvent!==I?(o={blockedOn:u,domEventName:p,eventSystemFlags:v,nativeEvent:I,targetContainers:[E]},u!==null&&(u=qi(u),u!==null&&FE(u)),o):(o.eventSystemFlags|=v,u=o.targetContainers,E!==null&&u.indexOf(E)===-1&&u.push(E),o)}function z9(o,u,p,v,E){switch(u){case"focusin":return jf=r1(jf,o,u,p,v,E),!0;case"dragenter":return Nf=r1(Nf,o,u,p,v,E),!0;case"mouseover":return Tf=r1(Tf,o,u,p,v,E),!0;case"pointerover":var I=E.pointerId;return t1.set(I,r1(t1.get(I)||null,o,u,p,v,E)),!0;case"gotpointercapture":return I=E.pointerId,n1.set(I,r1(n1.get(I)||null,o,u,p,v,E)),!0}return!1}function qE(o){var u=zi(o.target);if(u!==null){var p=a(u);if(p!==null){if(u=p.tag,u===13){if(u=s(p),u!==null){o.blockedOn=u,va(o.priority,function(){if(p.tag===13){var v=Bo();v=xa(v);var E=Kl(p,v);E!==null&&Uo(E,p,v),d5(p,v)}});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function sy(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var p=h5(o.nativeEvent);if(p===null){p=o.nativeEvent;var v=new p.constructor(p.type,p);ul=v,p.target.dispatchEvent(v),ul=null}else return u=qi(p),u!==null&&FE(u),o.blockedOn=p,!1;u.shift()}return!0}function BE(o,u,p){sy(o)&&p.delete(u)}function q9(){m5=!1,jf!==null&&sy(jf)&&(jf=null),Nf!==null&&sy(Nf)&&(Nf=null),Tf!==null&&sy(Tf)&&(Tf=null),t1.forEach(BE),n1.forEach(BE)}function oy(o,u){o.blockedOn===u&&(o.blockedOn=null,m5||(m5=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,q9)))}var ly=null;function UE(o){ly!==o&&(ly=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ly===o&&(ly=null);for(var u=0;u<o.length;u+=3){var p=o[u],v=o[u+1],E=o[u+2];if(typeof v!="function"){if(p5(v||p)===null)continue;break}var I=qi(p);I!==null&&(o.splice(u,3),u-=3,vl(I,{pending:!0,data:E,method:p.method,action:v},v,E))}}))}function i1(o){function u(Ne){return oy(Ne,o)}jf!==null&&oy(jf,o),Nf!==null&&oy(Nf,o),Tf!==null&&oy(Tf,o),t1.forEach(u),n1.forEach(u);for(var p=0;p<Of.length;p++){var v=Of[p];v.blockedOn===o&&(v.blockedOn=null)}for(;0<Of.length&&(p=Of[0],p.blockedOn===null);)qE(p),p.blockedOn===null&&Of.shift();if(p=(o.ownerDocument||o).$$reactFormReplay,p!=null)for(v=0;v<p.length;v+=3){var E=p[v],I=p[v+1],J=E[sr]||null;if(typeof I=="function")J||UE(p);else if(J){var pe=null;if(I&&I.hasAttribute("formAction")){if(E=I,J=I[sr]||null)pe=J.formAction;else if(p5(E)!==null)continue}else pe=J.action;typeof pe=="function"?p[v+1]=pe:(p.splice(v,3),v-=3),UE(p)}}}function g5(o){this._internalRoot=o}uy.prototype.render=g5.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(r(409));var p=u.current,v=Bo();RE(p,v,o,u,null,null)},uy.prototype.unmount=g5.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;RE(o.current,2,null,o,null,null),Hb(),u[Mr]=null}};function uy(o){this._internalRoot=o}uy.prototype.unstable_scheduleHydration=function(o){if(o){var u=li();o={blockedOn:null,target:o,priority:u};for(var p=0;p<Of.length&&u!==0&&u<Of[p].priority;p++);Of.splice(p,0,o),p===0&&qE(o)}};var $E=n.version;if($E!=="19.1.1")throw Error(r(527,$E,"19.1.1"));G.findDOMNode=function(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=c(u),o=o!==null?d(o):null,o=o===null?null:o.stateNode,o};var B9={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cy.isDisabled&&cy.supportsFiber)try{De=cy.inject(B9),xe=cy}catch{}}return s1.createRoot=function(o,u){if(!i(o))throw Error(r(299));var p=!1,v="",E=aC,I=sC,J=oC,pe=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(E=u.onUncaughtError),u.onCaughtError!==void 0&&(I=u.onCaughtError),u.onRecoverableError!==void 0&&(J=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(pe=u.unstable_transitionCallbacks)),u=DE(o,1,!1,null,null,p,v,E,I,J,pe,null),o[Mr]=u.current,Z2(o),new g5(u)},s1.hydrateRoot=function(o,u,p){if(!i(o))throw Error(r(299));var v=!1,E="",I=aC,J=sC,pe=oC,Ne=null,Xe=null;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(E=p.identifierPrefix),p.onUncaughtError!==void 0&&(I=p.onUncaughtError),p.onCaughtError!==void 0&&(J=p.onCaughtError),p.onRecoverableError!==void 0&&(pe=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(Ne=p.unstable_transitionCallbacks),p.formState!==void 0&&(Xe=p.formState)),u=DE(o,1,!0,u,p??null,v,E,I,J,pe,Ne,Xe),u.context=LE(null),p=u.current,v=Bo(),v=xa(v),E=pt(v),E.callback=null,wt(p,E,v),p=v,u.current.lanes=p,ar(u,p),lc(u),o[Mr]=u.current,Z2(o),new uy(u)},s1.version="19.1.1",s1}var XE;function n3(){if(XE)return b5.exports;XE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),b5.exports=t3(),b5.exports}var r3=n3();const i3=ns(r3);typeof window<"u"&&(window.styled_default=Mc,window.styled=Mc);typeof globalThis<"u"&&(globalThis.styled_default=Mc,globalThis.styled=Mc);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lg(){return lg=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},lg.apply(this,arguments)}var Qh;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Qh||(Qh={}));const ZE="popstate";function a3(e){e===void 0&&(e={});function n(r,i){let{pathname:a,search:s,hash:l}=r.location;return Hw("",{pathname:a,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:cT(i)}return o3(n,t,null,e)}function Bs(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function uT(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function s3(){return Math.random().toString(36).substr(2,8)}function JE(e,n){return{usr:e.state,key:e.key,idx:n}}function Hw(e,n,t,r){return t===void 0&&(t=null),lg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof n=="string"?Mg(n):n,{state:t,key:n&&n.key||r||s3()})}function cT(e){let{pathname:n="/",search:t="",hash:r=""}=e;return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function Mg(e){let n={};if(e){let t=e.indexOf("#");t>=0&&(n.hash=e.substr(t),e=e.substr(0,t));let r=e.indexOf("?");r>=0&&(n.search=e.substr(r),e=e.substr(0,r)),e&&(n.pathname=e)}return n}function o3(e,n,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,l=Qh.Pop,c=null,d=h();d==null&&(d=0,s.replaceState(lg({},s.state,{idx:d}),""));function h(){return(s.state||{idx:null}).idx}function g(){l=Qh.Pop;let A=h(),w=A==null?null:A-d;d=A,c&&c({action:l,location:y.location,delta:w})}function b(A,w){l=Qh.Push;let C=Hw(y.location,A,w);d=h()+1;let j=JE(C,d),F=y.createHref(C);try{s.pushState(j,"",F)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(F)}a&&c&&c({action:l,location:y.location,delta:1})}function m(A,w){l=Qh.Replace;let C=Hw(y.location,A,w);d=h();let j=JE(C,d),F=y.createHref(C);s.replaceState(j,"",F),a&&c&&c({action:l,location:y.location,delta:0})}function x(A){let w=i.location.origin!=="null"?i.location.origin:i.location.href,C=typeof A=="string"?A:cT(A);return C=C.replace(/ $/,"%20"),Bs(w,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,w)}let y={get action(){return l},get location(){return e(i,s)},listen(A){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(ZE,g),c=A,()=>{i.removeEventListener(ZE,g),c=null}},createHref(A){return n(i,A)},createURL:x,encodeLocation(A){let w=x(A);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:b,replace:m,go(A){return s.go(A)}};return y}var e_;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(e_||(e_={}));function l3(e,n,t){return t===void 0&&(t="/"),u3(e,n,t)}function u3(e,n,t,r){let i=typeof n=="string"?Mg(n):n,a=hT(i.pathname||"/",t);if(a==null)return null;let s=dT(e);c3(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let d=S3(a);l=x3(s[c],d)}return l}function dT(e,n,t,r){n===void 0&&(n=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(a,s,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};c.relativePath.startsWith("/")&&(Bs(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=ep([r,c.relativePath]),h=t.concat(c);a.children&&a.children.length>0&&(Bs(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),dT(a.children,n,h,d)),!(a.path==null&&!a.index)&&n.push({path:d,score:b3(d,a.index),routesMeta:h})};return e.forEach((a,s)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,s);else for(let c of fT(a.path))i(a,s,c)}),n}function fT(e){let n=e.split("/");if(n.length===0)return[];let[t,...r]=n,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=fT(r.join("/")),l=[];return l.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...s),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function c3(e){e.sort((n,t)=>n.score!==t.score?t.score-n.score:y3(n.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const d3=/^:[\w-]+$/,f3=3,h3=2,p3=1,m3=10,g3=-2,t_=e=>e==="*";function b3(e,n){let t=e.split("/"),r=t.length;return t.some(t_)&&(r+=g3),n&&(r+=h3),t.filter(i=>!t_(i)).reduce((i,a)=>i+(d3.test(a)?f3:a===""?p3:m3),r)}function y3(e,n){return e.length===n.length&&e.slice(0,-1).every((r,i)=>r===n[i])?e[e.length-1]-n[n.length-1]:0}function x3(e,n,t){let{routesMeta:r}=e,i={},a="/",s=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,h=a==="/"?n:n.slice(a.length)||"/",g=v3({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),b=c.route;if(!g)return null;Object.assign(i,g.params),s.push({params:i,pathname:ep([a,g.pathname]),pathnameBase:_3(ep([a,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(a=ep([a,g.pathnameBase]))}return s}function v3(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[t,r]=w3(e.path,e.caseSensitive,e.end),i=n.match(t);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,h,g)=>{let{paramName:b,isOptional:m}=h;if(b==="*"){let y=l[g]||"";s=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const x=l[g];return m&&!x?d[b]=void 0:d[b]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:s,pattern:e}}function w3(e,n,t){n===void 0&&(n=!1),t===void 0&&(t=!0),uT(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,n?void 0:"i"),r]}function S3(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return uT(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),e}}function hT(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let t=n.endsWith("/")?n.length-1:n.length,r=e.charAt(t);return r&&r!=="/"?null:e.slice(t)||"/"}function A3(e,n){n===void 0&&(n="/");let{pathname:t,search:r="",hash:i=""}=typeof e=="string"?Mg(e):e;return{pathname:t?t.startsWith("/")?t:C3(t,n):n,search:k3(r),hash:j3(i)}}function C3(e,n){let t=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function v5(e,n,t,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function E3(e){return e.filter((n,t)=>t===0||n.route.path&&n.route.path.length>0)}function pT(e,n){let t=E3(e);return n?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function mT(e,n,t,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Mg(e):(i=lg({},e),Bs(!i.pathname||!i.pathname.includes("?"),v5("?","pathname","search",i)),Bs(!i.pathname||!i.pathname.includes("#"),v5("#","pathname","hash",i)),Bs(!i.search||!i.search.includes("#"),v5("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,l;if(s==null)l=t;else{let g=n.length-1;if(!r&&s.startsWith("..")){let b=s.split("/");for(;b[0]==="..";)b.shift(),g-=1;i.pathname=b.join("/")}l=g>=0?n[g]:"/"}let c=A3(i,l),d=s&&s!=="/"&&s.endsWith("/"),h=(a||s===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const ep=e=>e.join("/").replace(/\/\/+/g,"/"),_3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),k3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,j3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function N3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const gT=["post","put","patch","delete"];new Set(gT);const T3=["get",...gT];new Set(T3);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ax(){return Ax=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ax.apply(this,arguments)}const k6=X.createContext(null),O3=X.createContext(null),Fg=X.createContext(null),j6=X.createContext(null),ch=X.createContext({outlet:null,matches:[],isDataRoute:!1}),bT=X.createContext(null);function Pg(){return X.useContext(j6)!=null}function zg(){return Pg()||Bs(!1),X.useContext(j6).location}function yT(e){X.useContext(Fg).static||X.useLayoutEffect(e)}function ea(){let{isDataRoute:e}=X.useContext(ch);return e?H3():I3()}function I3(){Pg()||Bs(!1);let e=X.useContext(k6),{basename:n,future:t,navigator:r}=X.useContext(Fg),{matches:i}=X.useContext(ch),{pathname:a}=zg(),s=JSON.stringify(pT(i,t.v7_relativeSplatPath)),l=X.useRef(!1);return yT(()=>{l.current=!0}),X.useCallback(function(d,h){if(h===void 0&&(h={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let g=mT(d,JSON.parse(s),a,h.relative==="path");e==null&&n!=="/"&&(g.pathname=g.pathname==="/"?n:ep([n,g.pathname])),(h.replace?r.replace:r.push)(g,h.state,h)},[n,r,s,a,e])}function N6(){let{matches:e}=X.useContext(ch),n=e[e.length-1];return n?n.params:{}}function D3(e,n){return L3(e)}function L3(e,n,t,r){Pg()||Bs(!1);let{navigator:i}=X.useContext(Fg),{matches:a}=X.useContext(ch),s=a[a.length-1],l=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let d=zg(),h;h=d;let g=h.pathname||"/",b=g;if(c!=="/"){let y=c.replace(/^\//,"").split("/");b="/"+g.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=l3(e,{pathname:b});return z3(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:ep([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:ep([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,t,r)}function R3(){let e=$3(),n=N3(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),t=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},n),t?X.createElement("pre",{style:i},t):null,null)}const M3=X.createElement(R3,null);class F3 extends X.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?X.createElement(ch.Provider,{value:this.props.routeContext},X.createElement(bT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function P3(e){let{routeContext:n,match:t,children:r}=e,i=X.useContext(k6);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),X.createElement(ch.Provider,{value:n},r)}function z3(e,n,t,r){var i;if(n===void 0&&(n=[]),t===void 0&&(t=null),r===void 0&&(r=null),e==null){var a;if(!t)return null;if(t.errors)e=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&n.length===0&&!t.initialized&&t.matches.length>0)e=t.matches;else return null}let s=e,l=(i=t)==null?void 0:i.errors;if(l!=null){let h=s.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);h>=0||Bs(!1),s=s.slice(0,Math.min(s.length,h+1))}let c=!1,d=-1;if(t&&r&&r.v7_partialHydration)for(let h=0;h<s.length;h++){let g=s[h];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=h),g.route.id){let{loaderData:b,errors:m}=t,x=g.route.loader&&b[g.route.id]===void 0&&(!m||m[g.route.id]===void 0);if(g.route.lazy||x){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((h,g,b)=>{let m,x=!1,y=null,A=null;t&&(m=l&&g.route.id?l[g.route.id]:void 0,y=g.route.errorElement||M3,c&&(d<0&&b===0?(W3("route-fallback"),x=!0,A=null):d===b&&(x=!0,A=g.route.hydrateFallbackElement||null)));let w=n.concat(s.slice(0,b+1)),C=()=>{let j;return m?j=y:x?j=A:g.route.Component?j=X.createElement(g.route.Component,null):g.route.element?j=g.route.element:j=h,X.createElement(P3,{match:g,routeContext:{outlet:h,matches:w,isDataRoute:t!=null},children:j})};return t&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?X.createElement(F3,{location:t.location,revalidation:t.revalidation,component:y,error:m,children:C(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):C()},null)}var xT=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(xT||{}),vT=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(vT||{});function q3(e){let n=X.useContext(k6);return n||Bs(!1),n}function B3(e){let n=X.useContext(O3);return n||Bs(!1),n}function U3(e){let n=X.useContext(ch);return n||Bs(!1),n}function wT(e){let n=U3(),t=n.matches[n.matches.length-1];return t.route.id||Bs(!1),t.route.id}function $3(){var e;let n=X.useContext(bT),t=B3(),r=wT();return n!==void 0?n:(e=t.errors)==null?void 0:e[r]}function H3(){let{router:e}=q3(xT.UseNavigateStable),n=wT(vT.UseNavigateStable),t=X.useRef(!1);return yT(()=>{t.current=!0}),X.useCallback(function(i,a){a===void 0&&(a={}),t.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ax({fromRouteId:n},a)))},[e,n])}const n_={};function W3(e,n,t){n_[e]||(n_[e]=!0)}function V3(e,n){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ST(e){let{to:n,replace:t,state:r,relative:i}=e;Pg()||Bs(!1);let{future:a,static:s}=X.useContext(Fg),{matches:l}=X.useContext(ch),{pathname:c}=zg(),d=ea(),h=mT(n,pT(l,a.v7_relativeSplatPath),c,i==="path"),g=JSON.stringify(h);return X.useEffect(()=>d(JSON.parse(g),{replace:t,state:r,relative:i}),[d,g,i,t,r]),null}function Y3(e){let{basename:n="/",children:t=null,location:r,navigationType:i=Qh.Pop,navigator:a,static:s=!1,future:l}=e;Pg()&&Bs(!1);let c=n.replace(/^\/*/,"/"),d=X.useMemo(()=>({basename:c,navigator:a,static:s,future:Ax({v7_relativeSplatPath:!1},l)}),[c,l,a,s]);typeof r=="string"&&(r=Mg(r));let{pathname:h="/",search:g="",hash:b="",state:m=null,key:x="default"}=r,y=X.useMemo(()=>{let A=hT(h,c);return A==null?null:{location:{pathname:A,search:g,hash:b,state:m,key:x},navigationType:i}},[c,h,g,b,m,x,i]);return y==null?null:X.createElement(Fg.Provider,{value:d},X.createElement(j6.Provider,{children:t,value:y}))}new Promise(()=>{});/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ww(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((n,t)=>{let r=e[t];return n.concat(Array.isArray(r)?r.map(i=>[t,i]):[[t,r]])},[]))}function G3(e,n){let t=Ww(e);return n&&n.forEach((r,i)=>{t.has(i)||n.getAll(i).forEach(a=>{t.append(i,a)})}),t}const Q3="6";try{window.__reactRouterVersion=Q3}catch{}const K3="startTransition",r_=y6[K3];function X3(e){let{basename:n,children:t,future:r,window:i}=e,a=X.useRef();a.current==null&&(a.current=a3({window:i,v5Compat:!0}));let s=a.current,[l,c]=X.useState({action:s.action,location:s.location}),{v7_startTransition:d}=r||{},h=X.useCallback(g=>{d&&r_?r_(()=>c(g)):c(g)},[c,d]);return X.useLayoutEffect(()=>s.listen(h),[s,h]),X.useEffect(()=>V3(r),[r]),X.createElement(Y3,{basename:n,children:t,location:l.location,navigationType:l.action,navigator:s,future:r})}var i_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(i_||(i_={}));var a_;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(a_||(a_={}));function qg(e){let n=X.useRef(Ww(e)),t=X.useRef(!1),r=zg(),i=X.useMemo(()=>G3(r.search,t.current?null:n.current),[r.search]),a=ea(),s=X.useCallback((l,c)=>{const d=Ww(typeof l=="function"?l(i):l);t.current=!0,a("?"+d,c)},[a,i]);return[i,s]}const Z3="modulepreload",J3=function(e){return"/nexlab/"+e},s_={},Li=function(n,t,r){let i=Promise.resolve();if(t&&t.length>0){let s=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=s(t.map(d=>{if(d=J3(d),d in s_)return;s_[d]=!0;const h=d.endsWith(".css"),g=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const b=document.createElement("link");if(b.rel=h?"stylesheet":Z3,h||(b.as="script"),b.crossOrigin="",b.href=d,c&&b.setAttribute("nonce",c),document.head.appendChild(b),h)return new Promise((m,x)=>{b.addEventListener("load",m),b.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return n().catch(a)})};var Wo=(e=>(e.NETWORK="NETWORK",e.AUTHENTICATION="AUTHENTICATION",e.AUTHORIZATION="AUTHORIZATION",e.VALIDATION="VALIDATION",e.NOT_FOUND="NOT_FOUND",e.SERVER_ERROR="SERVER_ERROR",e.UNKNOWN="UNKNOWN",e))(Wo||{});const o_={"auth/user-not-found":{type:"AUTHENTICATION",message:"No user found with this email address."},"auth/wrong-password":{type:"AUTHENTICATION",message:"Incorrect password. Please try again."},"auth/user-disabled":{type:"AUTHORIZATION",message:"This account has been disabled. Please contact support."},"auth/too-many-requests":{type:"NETWORK",message:"Too many failed attempts. Please try again later."},"auth/network-request-failed":{type:"NETWORK",message:"Network error. Please check your connection and try again."},"permission-denied":{type:"AUTHORIZATION",message:"You do not have permission for this action."},"not-found":{type:"NOT_FOUND",message:"The requested resource was not found."},unavailable:{type:"NETWORK",message:"Service is temporarily unavailable. Please try again."}},Gh=class Gh{constructor(){Ze(this,"errorQueue",[]);Ze(this,"maxErrorQueueSize",50)}static getInstance(){return Gh.instance||(Gh.instance=new Gh),Gh.instance}handleError(n,t){const r=this.createAppError(n,t);return this.logError(r),this.queueError(r),r}createAppError(n,t){let r="UNKNOWN",i="An unexpected error occurred.";if(n!=null&&n.code&&o_[n.code]){const a=o_[n.code];r=a.type,i=a.message}else n!=null&&n.message&&(i=n.message,n.message.includes("network")||n.message.includes("fetch")?r="NETWORK":n.message.includes("unauthorized")||n.message.includes("permission")?r="AUTHORIZATION":n.message.includes("not found")?r="NOT_FOUND":n.message.includes("validation")&&(r="VALIDATION"));return{type:r,message:i,originalError:n instanceof Error?n:new Error(String(n)),context:{...t,userAgent:navigator.userAgent,url:window.location.href,timestamp:new Date().toISOString()},timestamp:new Date,userId:t==null?void 0:t.userId}}logError(n){const t=`[${n.type}] ${n.message}`,r={error:n.originalError,context:n.context,timestamp:n.timestamp};switch(n.type){case"NETWORK":case"NOT_FOUND":console.warn(t,r);break;case"AUTHENTICATION":case"AUTHORIZATION":case"VALIDATION":console.error(t,r);break;case"SERVER_ERROR":case"UNKNOWN":console.error(t,r);break}}queueError(n){this.errorQueue.push(n),this.errorQueue.length>this.maxErrorQueueSize&&this.errorQueue.shift()}getErrorQueue(){return[...this.errorQueue]}clearErrorQueue(){this.errorQueue=[]}getUserFriendlyMessage(n){return n.message}shouldRetry(n){return n.type==="NETWORK"}};Ze(Gh,"instance");let ug=Gh;const l_=async(e,n)=>{try{return{data:await e()}}catch(t){return{error:ug.getInstance().handleError(t,n)}}},the=()=>{const e=ug.getInstance();return{handleError:(i,a)=>e.handleError(i,a),getUserFriendlyMessage:i=>e.getUserFriendlyMessage(i),shouldRetry:i=>e.shouldRetry(i)}};ug.getInstance();class eM{constructor(){Ze(this,"auth",null);Ze(this,"googleProvider",null)}initialize(){this.auth||(Li(()=>Promise.resolve().then(()=>tp),void 0),this.auth=BR(),this.googleProvider=new UR)}async signInWithGoogle(n=!0){var r;this.initialize();const t=await l_(async()=>{const i=n?HR:WR;await VR(this.auth,i),this.googleProvider.setCustomParameters({});const a=await YR(this.auth,this.googleProvider);if(!a.user)throw new Error("No user returned from authentication");return a.user},{operation:"google_sign_in",keepSignedIn:n});if(t.error){const i=(r=t.error.originalError)==null?void 0:r.code;throw console.error("Google Auth Error:",{code:i,message:t.error.message,originalError:t.error.originalError}),i==="auth/popup-closed-by-user"?new Error("Sign-in was cancelled. Please try again and complete the sign-in process. If you only have one Google account logged in, try logging out and back in to your Google account."):i==="auth/popup-blocked"?new Error("Popup was blocked by your browser. Please allow popups for this site and try again."):i==="auth/network-request-failed"?new Error("Network error. Please check your internet connection and try again."):i==="auth/account-exists-with-different-credential"?new Error("An account already exists with this email address. Please use a different sign-in method."):t.error}return t.data}async signOut(){this.initialize();const n=await l_(async()=>{await GR(this.auth)},{operation:"sign_out"});if(n.error)throw n.error}onAuthStateChanged(n){return this.initialize(),$R(this.auth,n)}getCurrentUser(){return this.initialize(),this.auth.currentUser}getErrorMessage(n){return{"auth/network-request-failed":"Login Failed: Network error, please check your connection.","auth/popup-closed-by-user":"Login Failed: The sign-in popup was closed before completion.","auth/cancelled-popup-request":"Login Failed: Another sign-in request was made before the first one was completed.","auth/popup-blocked":"Login Failed: The sign-in popup was blocked by the browser. Please allow popups for this site.","auth/user-disabled":"Login Failed: This account has been disabled.","auth/user-not-found":"Login Failed: No account found with this email.","auth/wrong-password":"Login Failed: Incorrect password.","auth/too-many-requests":"Login Failed: Too many failed attempts. Please try again later."}[n]||"Login Failed: An unexpected error occurred."}}const AT=new eM;class tM{constructor(){Ze(this,"db",null);Ze(this,"publicCourseId");if(this.publicCourseId="rqoyheM9Lf8jGftIoZyT",!this.publicCourseId)throw new Error("Public course ID is not defined in environment variables.")}initialize(){this.db||(Li(()=>Promise.resolve().then(()=>tp),void 0),this.db=Jn())}async getUserDetails(n){this.initialize();try{const t=xn(this.db,"users",n),r=await Oa(t);return r.exists()?{...r.data(),uid:n}:null}catch(t){throw console.error("Error fetching user details:",t),new Error("Failed to fetch user details")}}async createUserDocument(n){this.initialize();try{const t=await this.getPublicCourseInfo(),r=xn(this.db,"users",n.uid),i={isAdmin:!1,isSuperAdmin:!1,lastLogin:Qf(),classes:{[this.publicCourseId]:t}};return await oT(r,i),{uid:n.uid,isAdmin:!1,isSuperAdmin:!1,lastLogin:Qf(),classes:{[this.publicCourseId]:t}}}catch(t){throw console.error("Error creating user document:",t),new Error("Failed to create user document")}}async updateUserLogin(n){this.initialize();try{const t=xn(this.db,"users",n);await Wr(t,{lastLogin:Qf()})}catch(t){throw console.error("Error updating user login:",t),new Error("Failed to update user login")}}async refreshUserDetails(n){return this.getUserDetails(n)}subscribeToUserDetails(n,t){this.initialize();const r=xn(this.db,"users",n);return QR(r,i=>{if(i.exists()){const a=i.data();t({...a,uid:n})}else t(null)},i=>{console.error("Error in user details subscription:",i),t(null)})}async ensurePublicCourseAccess(n,t){this.initialize();try{if(t.classes&&t.classes[this.publicCourseId])return t;const r=await this.getPublicCourseInfo(),i=xn(this.db,"users",n);return await Wr(i,{[`classes.${this.publicCourseId}`]:r}),{...t,classes:{...t.classes||{},[this.publicCourseId]:r}}}catch(r){throw console.error("Error ensuring public course access:",r),new Error("Failed to ensure public course access")}}async getPublicCourseInfo(){this.initialize();try{const n=xn(this.db,"courses",this.publicCourseId),t=await Oa(n);if(!t.exists())throw new Error("Public course document does not exist in the courses collection!");const r=t.data();if(!r||!r.number||!r.title)throw new Error("Public course data is incomplete or invalid.");return{number:r.number,title:r.title,isCourseAdmin:!1}}catch(n){throw console.error("Error fetching public course info:",n),new Error("Failed to fetch public course information")}}}const a0=new tM,nM={apiKey:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",authDomain:"nexlab-prod.firebaseapp.com",projectId:"nexlab-prod",storageBucket:"nexlab-prod.firebasestorage.app",messagingSenderId:"922352392986",appId:"1:922352392986:web:6c4d6e16b5e615bd4daaa3"},T6=KR(nM),CT=Jn(T6),rM=uh(T6),tp=Object.freeze(Object.defineProperty({__proto__:null,app:T6,db:CT,storage:rM},Symbol.toStringTag,{value:"Module"})),ET=X.createContext(void 0),iM=({children:e})=>{const[n,t]=X.useState(null),[r,i]=X.useState(null),[a,s]=X.useState(!1),[l,c]=X.useState(!0),[d,h]=X.useState(null),g=X.useRef(null);X.useEffect(()=>{const m=AT.onAuthStateChanged(async x=>{c(!0),h(null),g.current&&(g.current(),g.current=null);try{if(x){console.log("User is signed in with UID:",x.uid);let y=await a0.getUserDetails(x.uid);y?(await a0.updateUserLogin(x.uid),y=await a0.ensurePublicCourseAccess(x.uid,y)):(console.log("User document does not exist. Creating a new one..."),y=await a0.createUserDocument(x)),i(y),s(y.isSuperAdmin||!1);const A=a0.subscribeToUserDetails(x.uid,w=>{console.log("[UserContext] User details updated in real-time:",{uid:w==null?void 0:w.uid,classesCount:w!=null&&w.classes?Object.keys(w.classes).length:0,classes:w!=null&&w.classes?Object.keys(w.classes):[],timestamp:new Date().toISOString()}),w&&(i(w),s(w.isSuperAdmin||!1))});g.current=A}else i(null),s(!1);t(x)}catch(y){console.error("Error managing user authentication:",y),h(y instanceof Error?y:new Error("Failed to manage user authentication")),t(null),i(null),s(!1)}finally{c(!1)}});return()=>{m(),g.current&&(g.current(),g.current=null)}},[]);const b=async()=>{if(!n){console.warn("No user signed in, cannot refresh user details");return}try{const m=await a0.refreshUserDetails(n.uid);m?(i(m),s(m.isSuperAdmin||!1)):(console.error("User document does not exist. Unable to refresh user details."),h(new Error("User document not found")))}catch(m){console.error("Error refreshing user details:",m),h(m instanceof Error?m:new Error("Failed to refresh user details"))}};return f.jsx(ET.Provider,{value:{user:n,userDetails:r,setUserDetails:i,refreshUserDetails:b,loading:l,error:d,isSuperAdmin:a},children:e})},Ai=()=>{const e=X.useContext(ET);if(e===void 0)throw new Error("useUser must be used within a UserProvider");return e},Js=({element:e})=>{const{userDetails:n,loading:t}=Ai();return t?f.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:f.jsx(Gr,{})}):n?f.jsx(e,{}):f.jsx(ST,{to:"/"})};let iv=class extends X.Component{constructor(){super(...arguments);Ze(this,"state",{hasError:!1})}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error:",t,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:f.jsx(ge,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"50vh",p:4},children:f.jsxs(fn,{elevation:2,sx:{p:4,textAlign:"center",maxWidth:500,width:"100%"},children:[f.jsx(ce,{variant:"h5",color:"error",gutterBottom:!0,children:"Something went wrong"}),f.jsx(ce,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"An error occurred while loading this component. Please try refreshing the page."}),f.jsx(mt,{variant:"contained",startIcon:f.jsx(WN,{}),onClick:()=>window.location.reload(),children:"Refresh Page"})]})}):this.props.children}};var o1={},w5={};const aM=qR(W9);var u_;function Vd(){return u_||(u_=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=aM}(w5)),w5}var c_;function sM(){if(c_)return o1;c_=1;var e=Hd();Object.defineProperty(o1,"__esModule",{value:!0}),o1.default=void 0;var n=e(Vd()),t=Wd();return o1.default=(0,n.default)((0,t.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline"),o1}var oM=sM();const lM=ns(oM);var l1={},d_;function uM(){if(d_)return l1;d_=1;var e=Hd();Object.defineProperty(l1,"__esModule",{value:!0}),l1.default=void 0;var n=e(Vd()),t=Wd();return l1.default=(0,n.default)((0,t.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home"),l1}var cM=uM();const dM=ns(cM);var u1={},f_;function fM(){if(f_)return u1;f_=1;var e=Hd();Object.defineProperty(u1,"__esModule",{value:!0}),u1.default=void 0;var n=e(Vd()),t=Wd();return u1.default=(0,n.default)((0,t.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),u1}var hM=fM();const _T=ns(hM),pM=()=>{const e=ea();return f.jsxs(fn,{elevation:3,sx:{p:4,m:4,textAlign:"center",backgroundColor:"#fafafa",border:"1px solid #e0e0e0",maxWidth:600,mx:"auto",mt:8},children:[f.jsx(lM,{color:"error",sx:{fontSize:64,mb:2}}),f.jsx(ce,{variant:"h4",gutterBottom:!0,color:"error",children:"Page Error"}),f.jsx(ce,{variant:"body1",sx:{mb:4,color:"text.secondary"},children:"This page encountered an error and cannot be displayed. You can try going back to the previous page or return to the home page."}),f.jsxs(ge,{sx:{display:"flex",gap:2,justifyContent:"center",flexWrap:"wrap"},children:[f.jsx(mt,{variant:"contained",color:"primary",startIcon:f.jsx(dM,{}),onClick:()=>e("/"),children:"Go to Home"}),f.jsx(mt,{variant:"outlined",color:"primary",startIcon:f.jsx(_T,{}),onClick:()=>e(-1),children:"Go Back"}),f.jsx(mt,{variant:"outlined",color:"secondary",onClick:()=>window.location.reload(),children:"Refresh Page"})]})]})},kT=({children:e,showDetails:n})=>f.jsx(iv,{fallback:f.jsx(pM,{}),children:e}),Ue={primary:{50:"#F0F4FF",100:"#E0ECFF",200:"#CDDAFF",300:"#9BB5FF",500:"#0B53C0",600:"#0841A0",700:"#062F80"},secondary:{50:"#F0FDF4",100:"#DCFCE7",300:"#86EFAC",500:"#22C55E",600:"#16A34A",700:"#15803D"},neutral:{50:"#FAFAFA",100:"#F5F5F5",200:"#E5E5E5",300:"#D4D4D4",400:"#A3A3A3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717"},success:"#22C55E",warning:"#F59E0B",error:"#EF4444",info:"#3B82F6",background:{primary:"#FFFFFF",secondary:"#F8FAFC"},surface:{primary:"#FFFFFF"},text:{primary:"#0F172A",secondary:"#475569",tertiary:"#64748B",disabled:"#94A3B8",inverse:"#FFFFFF"}},ut={fontFamily:{primary:["Inter","system-ui","sans-serif"].join(","),secondary:["Gabarito","system-ui","sans-serif"].join(","),display:["Staatliches","system-ui","sans-serif"].join(",")},fontSize:{xs:"0.75rem",sm:"0.875rem",base:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem"},fontWeight:{normal:400,medium:500,semibold:600,bold:700},lineHeight:{tight:1.25,snug:1.375,normal:1.5}},rn={1:"0.25rem",2:"0.5rem",3:"0.75rem",4:"1rem",5:"1.25rem",6:"1.5rem"},Zt={lg:"0.5rem",xl:"0.75rem","2xl":"1rem",full:"9999px"},cn={sm:"0 1px 2px 0 rgb(0 0 0 / 0.05)",base:"0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)",md:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",lg:"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)",xl:"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)","2xl":"0 25px 50px -12px rgb(0 0 0 / 0.25)"},bo={transitions:{fast:"all 150ms cubic-bezier(0.4, 0, 0.2, 1)",normal:"all 300ms cubic-bezier(0.4, 0, 0.2, 1)"}},mM={width:"320px",minWidth:"320px",maxWidth:"320px",backgroundColor:Ue.background.secondary,borderRight:`1px solid ${Ue.neutral[200]}`},jT=()=>({palette:{primary:{main:Ue.primary[500],light:Ue.primary[300],dark:Ue.primary[700],contrastText:Ue.text.inverse},secondary:{main:Ue.secondary[500],light:Ue.secondary[300],dark:Ue.secondary[700],contrastText:Ue.text.inverse},error:{main:Ue.error,light:"#FEE2E2",dark:"#DC2626"},warning:{main:Ue.warning,light:"#FEF3C7",dark:"#D97706"},info:{main:Ue.info,light:"#DBEAFE",dark:"#2563EB"},success:{main:Ue.success,light:"#D1FAE5",dark:"#059669"},background:{default:Ue.background.primary,paper:Ue.surface.primary},text:{primary:Ue.text.primary,secondary:Ue.text.secondary,disabled:Ue.text.disabled},grey:{50:Ue.neutral[50],100:Ue.neutral[100],200:Ue.neutral[200],300:Ue.neutral[300],400:Ue.neutral[400],500:Ue.neutral[500],600:Ue.neutral[600],700:Ue.neutral[700],800:Ue.neutral[800],900:Ue.neutral[900]}},typography:{fontFamily:ut.fontFamily.primary,h1:{fontFamily:ut.fontFamily.display,fontSize:ut.fontSize["5xl"],fontWeight:ut.fontWeight.bold,lineHeight:ut.lineHeight.tight,color:Ue.text.primary},h2:{fontFamily:ut.fontFamily.display,fontSize:ut.fontSize["4xl"],fontWeight:ut.fontWeight.bold,lineHeight:ut.lineHeight.tight,color:Ue.text.primary},h3:{fontFamily:ut.fontFamily.display,fontSize:ut.fontSize["3xl"],fontWeight:ut.fontWeight.bold,lineHeight:ut.lineHeight.snug,color:Ue.text.primary},h4:{fontFamily:ut.fontFamily.display,fontSize:ut.fontSize["2xl"],fontWeight:ut.fontWeight.semibold,lineHeight:ut.lineHeight.snug,color:Ue.text.primary},h5:{fontFamily:ut.fontFamily.secondary,fontSize:ut.fontSize.xl,fontWeight:ut.fontWeight.semibold,lineHeight:ut.lineHeight.normal,color:Ue.text.primary},h6:{fontFamily:ut.fontFamily.secondary,fontSize:ut.fontSize.lg,fontWeight:ut.fontWeight.semibold,lineHeight:ut.lineHeight.normal,color:Ue.text.primary},body1:{fontFamily:ut.fontFamily.primary,fontSize:ut.fontSize.base,fontWeight:ut.fontWeight.normal,lineHeight:ut.lineHeight.normal,color:Ue.text.primary},body2:{fontFamily:ut.fontFamily.primary,fontSize:ut.fontSize.sm,fontWeight:ut.fontWeight.normal,lineHeight:ut.lineHeight.normal,color:Ue.text.secondary},button:{fontFamily:ut.fontFamily.secondary,fontSize:ut.fontSize.base,fontWeight:ut.fontWeight.semibold,textTransform:"none"}},shape:{borderRadius:12},shadows:["none",cn.sm,cn.base,cn.md,cn.lg,cn.xl,cn["2xl"],cn["2xl"],cn["2xl"],cn["2xl"],cn["2xl"],cn["2xl"],cn["2xl"],cn["2xl"],cn["2xl"],cn["2xl"],cn["2xl"],cn["2xl"],cn["2xl"],cn["2xl"],cn["2xl"],cn["2xl"],cn["2xl"],cn["2xl"],cn["2xl"]],components:{MuiButton:{styleOverrides:{root:{borderRadius:Zt.xl,padding:`${rn[3]} ${rn[6]}`,fontWeight:ut.fontWeight.semibold,textTransform:"none",transition:bo.transitions.fast,boxShadow:"none","&:hover":{boxShadow:cn.md,transform:"none !important"}},contained:{backgroundColor:Ue.primary[500],"&:hover":{backgroundColor:Ue.primary[600]}},outlined:{borderColor:Ue.primary[500],color:Ue.primary[500],"&:hover":{backgroundColor:Ue.primary[50],borderColor:Ue.primary[600]}}}},MuiCard:{styleOverrides:{root:{borderRadius:Zt.lg,boxShadow:cn.md,border:`1px solid ${Ue.neutral[200]}`,transition:bo.transitions.fast,"&:hover":{boxShadow:cn.lg,transform:"translateY(-2px)"}}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{borderRadius:Zt.lg,"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:Ue.primary[300]},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:Ue.primary[500],borderWidth:2}}}}},MuiChip:{styleOverrides:{root:{borderRadius:Zt.full,fontWeight:ut.fontWeight.medium}}},MuiTabs:{styleOverrides:{root:{backgroundColor:Ue.background.secondary,borderRadius:Zt.lg,padding:rn[2],"& .MuiTabs-indicator":{display:"none"}}}},MuiTab:{styleOverrides:{root:{borderRadius:Zt.lg,fontWeight:ut.fontWeight.semibold,textTransform:"none",transition:bo.transitions.fast,"&.Mui-selected":{backgroundColor:Ue.primary[500],color:Ue.text.inverse,boxShadow:cn.sm},"&:not(.Mui-selected)":{backgroundColor:Ue.primary[100],color:Ue.primary[700],"&:hover":{backgroundColor:Ue.primary[200],transform:"none"}}}}}}}),gM=jT(),ht=VN(gM),bM=()=>{const{userDetails:e}=Ai(),n=ea(),t=e&&!e.isAdmin&&(!e.classes||Object.keys(e.classes).length===0),r=[{title:"My Account",description:"Manage your profile and account settings",icon:f.jsx(zw,{sx:{fontSize:40}}),path:"/my-profile",color:Ue.primary[500],disabled:!1,external:!1},{title:"Messages",description:"View and manage course messages",icon:f.jsx(YN,{sx:{fontSize:40}}),path:"/messages",color:Ue.secondary[500],disabled:!1,external:!1}],i=[{title:"Course Materials",description:"View and manage course materials",icon:f.jsx(Fd,{sx:{fontSize:40}}),path:"/supplemental-materials",color:Ue.error,disabled:!1,external:!1},{title:"Laboratory Notebook",description:"Access your lab experiments and designs",icon:f.jsx(x6,{sx:{fontSize:40}}),path:"/laboratory-notebooks",color:Ue.success,disabled:t,external:!1}];return f.jsxs(ge,{className:"profile-container",children:[f.jsx(ce,{className:"webpage_title",children:"Welcome!"}),f.jsxs(ge,{sx:{mb:rn[6],p:rn[4],backgroundColor:Ue.background.secondary,borderRadius:Zt.xl,border:`1px solid ${Ue.neutral[200]}`,boxShadow:cn.sm,position:"relative",mt:rn[3]},children:[f.jsx(ge,{sx:{position:"absolute",top:"-25px",left:"40px",backgroundColor:Ue.warning,borderRadius:`${Zt.lg} ${Zt.lg} 0 0`,px:rn[3],py:rn[1],zIndex:1},children:f.jsx(ce,{sx:{color:Ue.text.inverse,fontFamily:ut.fontFamily.display,fontSize:"2rem",fontWeight:ut.fontWeight.bold,whiteSpace:"nowrap",lineHeight:1},children:"Getting Started"})}),f.jsxs(vt,{container:!0,spacing:rn[4],sx:{mt:rn[3],mb:rn[4]},children:[f.jsx(vt,{item:!0,xs:12,sm:6,md:3,children:f.jsxs(ge,{sx:{height:"100%",p:rn[3],backgroundColor:Ue.background.primary,borderRadius:Zt.lg,border:`1px solid ${Ue.neutral[200]}`,boxShadow:cn.sm},children:[f.jsx(ce,{variant:"h6",component:"h3",sx:{fontFamily:ut.fontFamily.display,fontSize:"2rem",fontWeight:ut.fontWeight.bold,color:Ue.text.primary,mb:rn[3],textAlign:"left"},children:"What is NexLAB?"}),f.jsx(ce,{variant:"body1",paragraph:!0,sx:{fontFamily:ut.fontFamily.secondary,fontSize:ut.fontSize.lg,color:Ue.text.secondary,lineHeight:1.6,textAlign:"left"},children:"NexLAB enhances the Antibody Engineering curriculum with an adaptive content management platform designed for educators, students, and researchers."})]})}),f.jsx(vt,{item:!0,xs:12,sm:6,md:3,children:f.jsxs(ge,{sx:{height:"100%",p:rn[3],backgroundColor:Ue.background.primary,borderRadius:Zt.lg,border:`1px solid ${Ue.neutral[200]}`,boxShadow:cn.sm},children:[f.jsx(ce,{variant:"h6",component:"h3",sx:{fontFamily:ut.fontFamily.display,fontSize:"2rem",fontWeight:ut.fontWeight.bold,color:Ue.text.primary,mb:rn[3],textAlign:"left"},children:"Key Features:"}),f.jsxs(ge,{component:"ul",sx:{pl:rn[3],"& li":{fontFamily:ut.fontFamily.secondary,fontSize:ut.fontSize.lg,color:Ue.text.secondary,lineHeight:1.5,mb:rn[1]}},children:[f.jsx("li",{children:"Electronic Laboratory Notebook using the Design-Build-Test framework"}),f.jsx("li",{children:"Platform for creating and sharing learning materials"}),f.jsx("li",{children:"Student progress tracking and class content efficacy analysis"}),f.jsx("li",{children:"Quiz AI & Chatbot Tools to support interactive learning"})]})]})}),f.jsx(vt,{item:!0,xs:12,sm:6,md:3,children:f.jsx(Xa,{sx:{height:"100%",cursor:"pointer",backgroundColor:Ue.background.primary,borderRadius:Zt.xl,border:`1px solid ${Ue.neutral[200]}`,boxShadow:cn.sm,transition:bo.transitions.normal,"&:hover":{transform:"translateY(-8px)",boxShadow:cn.xl,border:`1px solid ${Ue.warning}`}},onClick:()=>window.open("http://localhost:3002/view-material/xsA42JCvfCUtmyoyx45s?material=xsA42JCvfCUtmyoyx45s","_blank"),children:f.jsxs(Za,{sx:{textAlign:"center",p:rn[4],height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[f.jsx(ge,{sx:{color:Ue.warning,mb:rn[3],display:"flex",justifyContent:"center"},children:f.jsx(V9,{sx:{fontSize:40}})}),f.jsxs(ge,{sx:{flex:1},children:[f.jsx(ce,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:ut.fontWeight.bold,fontFamily:ut.fontFamily.display,fontSize:"2rem",color:Ue.text.primary,mb:rn[2]},children:"Quick-Start Guide"}),f.jsx(ce,{variant:"body2",sx:{color:Ue.text.secondary,fontFamily:ut.fontFamily.secondary,fontSize:ut.fontSize.lg,lineHeight:1.5},children:"Get started with public course materials and learn the basics"})]})]})})}),f.jsx(vt,{item:!0,xs:12,sm:6,md:3,children:f.jsx(Xa,{sx:{height:"100%",cursor:"pointer",backgroundColor:Ue.background.primary,borderRadius:Zt.xl,border:`1px solid ${Ue.neutral[200]}`,boxShadow:cn.sm,transition:bo.transitions.normal,"&:hover":{transform:"translateY(-8px)",boxShadow:cn.xl,border:`1px solid ${Ue.primary[500]}`}},onClick:()=>window.open("https://www.loom.com/share/f3ca701c66d34f84a13eb7ec12b0c6ec","_blank"),children:f.jsxs(Za,{sx:{textAlign:"center",p:rn[4],height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[f.jsx(ge,{sx:{color:Ue.primary[500],mb:rn[3],display:"flex",justifyContent:"center"},children:f.jsx(Y9,{sx:{fontSize:40}})}),f.jsxs(ge,{sx:{flex:1},children:[f.jsx(ce,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:ut.fontWeight.bold,fontFamily:ut.fontFamily.display,fontSize:"2rem",color:Ue.text.primary,mb:rn[2]},children:"Tutorial"}),f.jsx(ce,{variant:"body2",sx:{color:Ue.text.secondary,fontFamily:ut.fontFamily.secondary,fontSize:ut.fontSize.lg,lineHeight:1.5},children:"Watch our introduction video to learn how to use NexLAB"})]})]})})})]})]}),f.jsxs(ge,{sx:{mb:rn[6],p:rn[4],backgroundColor:Ue.background.secondary,borderRadius:Zt.xl,border:`1px solid ${Ue.neutral[200]}`,boxShadow:cn.sm,position:"relative",mt:rn[3]},children:[f.jsx(ge,{sx:{position:"absolute",top:"-25px",left:"40px",backgroundColor:Ue.primary[500],borderRadius:`${Zt.lg} ${Zt.lg} 0 0`,px:rn[3],py:rn[1],zIndex:1},children:f.jsx(ce,{sx:{color:Ue.text.inverse,fontFamily:ut.fontFamily.display,fontSize:"2rem",fontWeight:ut.fontWeight.bold,whiteSpace:"nowrap",lineHeight:1},children:"Quick Actions"})}),f.jsx(vt,{container:!0,spacing:rn[4],sx:{mb:rn[4],mt:rn[3]},children:r.map((a,s)=>f.jsx(vt,{item:!0,xs:12,sm:6,md:6,children:f.jsx(Xa,{sx:{height:"100%",cursor:a.disabled?"not-allowed":"pointer",opacity:a.disabled?.6:1,backgroundColor:Ue.background.primary,borderRadius:Zt.xl,border:`1px solid ${Ue.neutral[200]}`,boxShadow:cn.sm,transition:bo.transitions.normal,"&:hover":a.disabled?{}:{transform:"translateY(-8px)",boxShadow:cn.xl,border:`1px solid ${a.color}`}},onClick:()=>{a.disabled||(a.external?window.open(a.path,"_blank"):n(a.path))},children:f.jsxs(Za,{sx:{textAlign:"center",p:rn[4],height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[f.jsx(ge,{sx:{color:a.color,mb:rn[3],display:"flex",justifyContent:"center"},children:a.icon}),f.jsxs(ge,{sx:{flex:1},children:[f.jsx(ce,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:ut.fontWeight.bold,fontFamily:ut.fontFamily.display,fontSize:"2rem",color:Ue.text.primary,mb:rn[2]},children:a.title}),f.jsx(ce,{variant:"body2",sx:{color:Ue.text.secondary,fontFamily:ut.fontFamily.secondary,fontSize:ut.fontSize.lg,lineHeight:1.5},children:a.description}),a.disabled&&f.jsx(ce,{variant:"caption",sx:{mt:rn[2],display:"block",color:Ue.error,fontFamily:ut.fontFamily.secondary},children:"Enroll in a course to access this feature"})]})]})})},s))}),f.jsx(vt,{container:!0,spacing:rn[4],children:i.map((a,s)=>f.jsx(vt,{item:!0,xs:12,sm:6,md:6,children:f.jsx(Xa,{sx:{height:"100%",cursor:a.disabled?"not-allowed":"pointer",opacity:a.disabled?.6:1,backgroundColor:Ue.background.primary,borderRadius:Zt.xl,border:`1px solid ${Ue.neutral[200]}`,boxShadow:cn.sm,transition:bo.transitions.normal,"&:hover":a.disabled?{}:{transform:"translateY(-8px)",boxShadow:cn.xl,border:`1px solid ${a.color}`}},onClick:()=>{a.disabled||(a.external?window.open(a.path,"_blank"):n(a.path))},children:f.jsxs(Za,{sx:{textAlign:"center",p:rn[4],height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[f.jsx(ge,{sx:{color:a.color,mb:rn[3],display:"flex",justifyContent:"center"},children:a.icon}),f.jsxs(ge,{sx:{flex:1},children:[f.jsx(ce,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:ut.fontWeight.bold,fontFamily:ut.fontFamily.display,fontSize:"2rem",color:Ue.text.primary,mb:rn[2]},children:a.title}),f.jsx(ce,{variant:"body2",sx:{color:Ue.text.secondary,fontFamily:ut.fontFamily.secondary,fontSize:ut.fontSize.lg,lineHeight:1.5},children:a.description}),a.disabled&&f.jsx(ce,{variant:"caption",sx:{mt:rn[2],display:"block",color:Ue.error,fontFamily:ut.fontFamily.secondary},children:"Enroll in a course to access this feature"})]})]})})},s))})]}),!(e!=null&&e.isAdmin)&&f.jsxs(ge,{sx:{mt:rn[6],p:rn[4],backgroundColor:Ue.background.secondary,borderRadius:Zt.xl,border:`1px solid ${Ue.neutral[200]}`,boxShadow:cn.sm},children:[f.jsx(ce,{variant:"h5",gutterBottom:!0,sx:{fontFamily:ut.fontFamily.display,fontSize:ut.fontSize.xl,fontWeight:ut.fontWeight.bold,color:Ue.text.primary,mb:rn[3]},children:"Getting Started"}),f.jsx(ce,{variant:"body1",paragraph:!0,sx:{fontFamily:ut.fontFamily.secondary,fontSize:ut.fontSize.base,color:Ue.text.secondary,lineHeight:1.6,mb:rn[4]},children:`Welcome to NexLab! To get started, you'll need to enroll in a course. Use the "My Account" section to add course access codes provided by your instructor.`}),f.jsx(mt,{variant:"contained",onClick:()=>n("/my-profile"),startIcon:f.jsx(zw,{}),sx:{backgroundColor:Ue.primary[500],color:Ue.text.inverse,fontFamily:ut.fontFamily.secondary,fontSize:ut.fontSize.base,fontWeight:ut.fontWeight.medium,borderRadius:Zt.lg,px:rn[4],py:rn[2],"&:hover":{backgroundColor:Ue.primary[600]}},children:"Go to My Account"})]})]})};let dy;const yM=new Uint8Array(16);function xM(){if(!dy&&(dy=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!dy))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return dy(yM)}const hs=[];for(let e=0;e<256;++e)hs.push((e+256).toString(16).slice(1));function vM(e,n=0){return hs[e[n+0]]+hs[e[n+1]]+hs[e[n+2]]+hs[e[n+3]]+"-"+hs[e[n+4]]+hs[e[n+5]]+"-"+hs[e[n+6]]+hs[e[n+7]]+"-"+hs[e[n+8]]+hs[e[n+9]]+"-"+hs[e[n+10]]+hs[e[n+11]]+hs[e[n+12]]+hs[e[n+13]]+hs[e[n+14]]+hs[e[n+15]]}const wM=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),h_={randomUUID:wM};function Ri(e,n,t){if(h_.randomUUID&&!e)return h_.randomUUID();e=e||{};const r=e.random||(e.rng||xM)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,vM(r)}const p_=e=>{let n;const t=new Set,r=(d,h)=>{const g=typeof d=="function"?d(n):d;if(!Object.is(g,n)){const b=n;n=h??(typeof g!="object"||g===null)?g:Object.assign({},n,g),t.forEach(m=>m(n,b))}},i=()=>n,l={setState:r,getState:i,getInitialState:()=>c,subscribe:d=>(t.add(d),()=>t.delete(d))},c=n=e(r,i,l);return l},SM=e=>e?p_(e):p_,AM=e=>e;function CM(e,n=AM){const t=it.useSyncExternalStore(e.subscribe,()=>n(e.getState()),()=>n(e.getInitialState()));return it.useDebugValue(t),t}const m_=e=>{const n=SM(e),t=r=>CM(n,r);return Object.assign(t,n),t},yp=e=>e?m_(e):m_,g_={BASE_URL:"/nexlab/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_KEY:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",VITE_APP_ID:"1:922352392986:web:6c4d6e16b5e615bd4daaa3",VITE_AUTH_DOMAIN:"nexlab-prod.firebaseapp.com",VITE_CHATBOT_DEFAULT_ID:"ce5f7921-a3a0-4ea7-b95f-10fe41becda5",VITE_DEPLOY_ENV:"github",VITE_GEMINI_API_KEY:"AIzaSyDYgUVJwspUzRfZEhGCUAdLR66lNmM79A8",VITE_GEMINI_MATERIAL_API_KEY:"AIzaSyAcb1QNEdevZFSay3ZaT9MB7xQq6f0dMh0",VITE_GOOGLE_ANALYTICS_ID:"G-X2SBY2YQ4V",VITE_MESSAGING_SENDER_ID:"922352392986",VITE_PROJECT_ID:"nexlab-prod",VITE_PUBLIC_COURSE_ID:"rqoyheM9Lf8jGftIoZyT",VITE_STORAGE_BUCKET:"nexlab-prod.firebasestorage.app"},cg=new Map,fy=e=>{const n=cg.get(e);return n?Object.fromEntries(Object.entries(n.stores).map(([t,r])=>[t,r.getState()])):{}},EM=(e,n,t)=>{if(e===void 0)return{type:"untracked",connection:n.connect(t)};const r=cg.get(t.name);if(r)return{type:"tracked",store:e,...r};const i={connection:n.connect(t),stores:{}};return cg.set(t.name,i),{type:"tracked",store:e,...i}},_M=(e,n)=>{if(n===void 0)return;const t=cg.get(e);t&&(delete t.stores[n],Object.keys(t.stores).length===0&&cg.delete(e))},kM=e=>{var n,t;if(!e)return;const r=e.split(`
`),i=r.findIndex(s=>s.includes("api.setState"));if(i<0)return;const a=((n=r[i+1])==null?void 0:n.trim())||"";return(t=/.+ (.+) .+/.exec(a))==null?void 0:t[1]},jM=(e,n={})=>(t,r,i)=>{const{enabled:a,anonymousActionType:s,store:l,...c}=n;let d;try{d=(a??(g_?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!d)return e(t,r,i);const{connection:h,...g}=EM(l,d,c);let b=!0;i.setState=(y,A,w)=>{const C=t(y,A);if(!b)return C;const j=w===void 0?{type:s||kM(new Error().stack)||"anonymous"}:typeof w=="string"?{type:w}:w;return l===void 0?(h==null||h.send(j,r()),C):(h==null||h.send({...j,type:`${l}/${j.type}`},{...fy(c.name),[l]:i.getState()}),C)},i.devtools={cleanup:()=>{h&&typeof h.unsubscribe=="function"&&h.unsubscribe(),_M(c.name,l)}};const m=(...y)=>{const A=b;b=!1,t(...y),b=A},x=e(i.setState,r,i);if(g.type==="untracked"?h==null||h.init(x):(g.stores[g.store]=i,h==null||h.init(Object.fromEntries(Object.entries(g.stores).map(([y,A])=>[y,y===g.store?x:A.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let y=!1;const A=i.dispatch;i.dispatch=(...w)=>{(g_?"production":void 0)!=="production"&&w[0].type==="__setState"&&!y&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),y=!0),A(...w)}}return h.subscribe(y=>{var A;switch(y.type){case"ACTION":if(typeof y.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return S5(y.payload,w=>{if(w.type==="__setState"){if(l===void 0){m(w.state);return}Object.keys(w.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const C=w.state[l];if(C==null)return;JSON.stringify(i.getState())!==JSON.stringify(C)&&m(C);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(w)});case"DISPATCH":switch(y.payload.type){case"RESET":return m(x),l===void 0?h==null?void 0:h.init(i.getState()):h==null?void 0:h.init(fy(c.name));case"COMMIT":if(l===void 0){h==null||h.init(i.getState());return}return h==null?void 0:h.init(fy(c.name));case"ROLLBACK":return S5(y.state,w=>{if(l===void 0){m(w),h==null||h.init(i.getState());return}m(w[l]),h==null||h.init(fy(c.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return S5(y.state,w=>{if(l===void 0){m(w);return}JSON.stringify(i.getState())!==JSON.stringify(w[l])&&m(w[l])});case"IMPORT_STATE":{const{nextLiftedState:w}=y.payload,C=(A=w.computedStates.slice(-1)[0])==null?void 0:A.state;if(!C)return;m(l===void 0?C:C[l]),h==null||h.send(null,w);return}case"PAUSE_RECORDING":return b=!b}return}}),x},Bg=jM,S5=(e,n)=>{let t;try{t=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}t!==void 0&&n(t)};function NM(e,n){let t;try{t=e()}catch{return}return{getItem:i=>{var a;const s=c=>c===null?null:JSON.parse(c,void 0),l=(a=t.getItem(i))!=null?a:null;return l instanceof Promise?l.then(s):s(l)},setItem:(i,a)=>t.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>t.removeItem(i)}}const Vw=e=>n=>{try{const t=e(n);return t instanceof Promise?t:{then(r){return Vw(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return Vw(r)(t)}}}},TM=(e,n)=>(t,r,i)=>{let a={storage:NM(()=>localStorage),partialize:y=>y,version:0,merge:(y,A)=>({...A,...y}),...n},s=!1;const l=new Set,c=new Set;let d=a.storage;if(!d)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),t(...y)},r,i);const h=()=>{const y=a.partialize({...r()});return d.setItem(a.name,{state:y,version:a.version})},g=i.setState;i.setState=(y,A)=>{g(y,A),h()};const b=e((...y)=>{t(...y),h()},r,i);i.getInitialState=()=>b;let m;const x=()=>{var y,A;if(!d)return;s=!1,l.forEach(C=>{var j;return C((j=r())!=null?j:b)});const w=((A=a.onRehydrateStorage)==null?void 0:A.call(a,(y=r())!=null?y:b))||void 0;return Vw(d.getItem.bind(d))(a.name).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==a.version){if(a.migrate){const j=a.migrate(C.state,C.version);return j instanceof Promise?j.then(F=>[!0,F]):[!0,j]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,C.state];return[!1,void 0]}).then(C=>{var j;const[F,z]=C;if(m=a.merge(z,(j=r())!=null?j:b),t(m,!0),F)return h()}).then(()=>{w==null||w(m,void 0),m=r(),s=!0,c.forEach(C=>C(m))}).catch(C=>{w==null||w(void 0,C)})};return i.persist={setOptions:y=>{a={...a,...y},y.storage&&(d=y.storage)},clearStorage:()=>{d==null||d.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>x(),hasHydrated:()=>s,onHydrate:y=>(l.add(y),()=>{l.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},a.skipHydration||x(),m||b},av=TM;var b_;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(b_||(b_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y_;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(y_||(y_={}));var x_;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(x_||(x_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=["user","model","function","system"];var w_;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(w_||(w_={}));var S_;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(S_||(S_={}));var A_;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(A_||(A_={}));var C_;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(C_||(C_={}));var G1;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(G1||(G1={}));var E_;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(E_||(E_={}));var __;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(__||(__={}));var k_;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(k_||(k_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends Error{constructor(n){super(`[GoogleGenerativeAI Error]: ${n}`)}}class s0 extends Ms{constructor(n,t){super(n),this.response=t}}class NT extends Ms{constructor(n,t,r,i){super(n),this.status=t,this.statusText=r,this.errorDetails=i}}class Xf extends Ms{}class TT extends Ms{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM="https://generativelanguage.googleapis.com",IM="v1beta",DM="0.24.1",LM="genai-js";var up;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(up||(up={}));class RM{constructor(n,t,r,i,a){this.model=n,this.task=t,this.apiKey=r,this.stream=i,this.requestOptions=a}toString(){var n,t;const r=((n=this.requestOptions)===null||n===void 0?void 0:n.apiVersion)||IM;let a=`${((t=this.requestOptions)===null||t===void 0?void 0:t.baseUrl)||OM}/${r}/${this.model}:${this.task}`;return this.stream&&(a+="?alt=sse"),a}}function MM(e){const n=[];return e!=null&&e.apiClient&&n.push(e.apiClient),n.push(`${LM}/${DM}`),n.join(" ")}async function FM(e){var n;const t=new Headers;t.append("Content-Type","application/json"),t.append("x-goog-api-client",MM(e.requestOptions)),t.append("x-goog-api-key",e.apiKey);let r=(n=e.requestOptions)===null||n===void 0?void 0:n.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new Xf(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,a]of r.entries()){if(i==="x-goog-api-key")throw new Xf(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new Xf(`Header name ${i} can only be set using the apiClient field`);t.append(i,a)}}return t}async function PM(e,n,t,r,i,a){const s=new RM(e,n,t,r,a);return{url:s.toString(),fetchOptions:Object.assign(Object.assign({},UM(a)),{method:"POST",headers:await FM(s),body:i})}}async function Ug(e,n,t,r,i,a={},s=fetch){const{url:l,fetchOptions:c}=await PM(e,n,t,r,i,a);return zM(l,c,s)}async function zM(e,n,t=fetch){let r;try{r=await t(e,n)}catch(i){qM(i,e)}return r.ok||await BM(r,e),r}function qM(e,n){let t=e;throw t.name==="AbortError"?(t=new TT(`Request aborted when fetching ${n.toString()}: ${e.message}`),t.stack=e.stack):e instanceof NT||e instanceof Xf||(t=new Ms(`Error fetching from ${n.toString()}: ${e.message}`),t.stack=e.stack),t}async function BM(e,n){let t="",r;try{const i=await e.json();t=i.error.message,i.error.details&&(t+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new NT(`Error fetching from ${n.toString()}: [${e.status} ${e.statusText}] ${t}`,e.status,e.statusText,r)}function UM(e){const n={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const t=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>t.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{t.abort()}),n.signal=t.signal}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Vy(e.candidates[0]))throw new s0(`${Pf(e)}`,e);return $M(e)}else if(e.promptFeedback)throw new s0(`Text not available. ${Pf(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Vy(e.candidates[0]))throw new s0(`${Pf(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),j_(e)[0]}else if(e.promptFeedback)throw new s0(`Function call not available. ${Pf(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Vy(e.candidates[0]))throw new s0(`${Pf(e)}`,e);return j_(e)}else if(e.promptFeedback)throw new s0(`Function call not available. ${Pf(e)}`,e)},e}function $M(e){var n,t,r,i;const a=[];if(!((t=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||t===void 0)&&t.parts)for(const s of(i=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)s.text&&a.push(s.text),s.executableCode&&a.push("\n```"+s.executableCode.language+`
`+s.executableCode.code+"\n```\n"),s.codeExecutionResult&&a.push("\n```\n"+s.codeExecutionResult.output+"\n```\n");return a.length>0?a.join(""):""}function j_(e){var n,t,r,i;const a=[];if(!((t=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||t===void 0)&&t.parts)for(const s of(i=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)s.functionCall&&a.push(s.functionCall);if(a.length>0)return a}const HM=[G1.RECITATION,G1.SAFETY,G1.LANGUAGE];function Vy(e){return!!e.finishReason&&HM.includes(e.finishReason)}function Pf(e){var n,t,r;let i="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)i+="Response was blocked",!((n=e.promptFeedback)===null||n===void 0)&&n.blockReason&&(i+=` due to ${e.promptFeedback.blockReason}`),!((t=e.promptFeedback)===null||t===void 0)&&t.blockReasonMessage&&(i+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((r=e.candidates)===null||r===void 0)&&r[0]){const a=e.candidates[0];Vy(a)&&(i+=`Candidate was blocked due to ${a.finishReason}`,a.finishMessage&&(i+=`: ${a.finishMessage}`))}return i}function dg(e){return this instanceof dg?(this.v=e,this):new dg(e)}function WM(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),i,a=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(b){r[b]&&(i[b]=function(m){return new Promise(function(x,y){a.push([b,m,x,y])>1||l(b,m)})})}function l(b,m){try{c(r[b](m))}catch(x){g(a[0][3],x)}}function c(b){b.value instanceof dg?Promise.resolve(b.value.v).then(d,h):g(a[0][2],b)}function d(b){l("next",b)}function h(b){l("throw",b)}function g(b,m){b(m),a.shift(),a.length&&l(a[0][0],a[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function VM(e){const n=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),t=QM(n),[r,i]=t.tee();return{stream:GM(r),response:YM(i)}}async function YM(e){const n=[],t=e.getReader();for(;;){const{done:r,value:i}=await t.read();if(r)return O6(KM(n));n.push(i)}}function GM(e){return WM(this,arguments,function*(){const t=e.getReader();for(;;){const{value:r,done:i}=yield dg(t.read());if(i)break;yield yield dg(O6(r))}})}function QM(e){const n=e.getReader();return new ReadableStream({start(r){let i="";return a();function a(){return n.read().then(({value:s,done:l})=>{if(l){if(i.trim()){r.error(new Ms("Failed to parse stream"));return}r.close();return}i+=s;let c=i.match(N_),d;for(;c;){try{d=JSON.parse(c[1])}catch{r.error(new Ms(`Error parsing JSON response: "${c[1]}"`));return}r.enqueue(d),i=i.substring(c[0].length),c=i.match(N_)}return a()}).catch(s=>{let l=s;throw l.stack=s.stack,l.name==="AbortError"?l=new TT("Request aborted when reading from the stream"):l=new Ms("Error reading from the stream"),l})}}})}function KM(e){const n=e[e.length-1],t={promptFeedback:n==null?void 0:n.promptFeedback};for(const r of e){if(r.candidates){let i=0;for(const a of r.candidates)if(t.candidates||(t.candidates=[]),t.candidates[i]||(t.candidates[i]={index:i}),t.candidates[i].citationMetadata=a.citationMetadata,t.candidates[i].groundingMetadata=a.groundingMetadata,t.candidates[i].finishReason=a.finishReason,t.candidates[i].finishMessage=a.finishMessage,t.candidates[i].safetyRatings=a.safetyRatings,a.content&&a.content.parts){t.candidates[i].content||(t.candidates[i].content={role:a.content.role||"user",parts:[]});const s={};for(const l of a.content.parts)l.text&&(s.text=l.text),l.functionCall&&(s.functionCall=l.functionCall),l.executableCode&&(s.executableCode=l.executableCode),l.codeExecutionResult&&(s.codeExecutionResult=l.codeExecutionResult),Object.keys(s).length===0&&(s.text=""),t.candidates[i].content.parts.push(s)}i++}r.usageMetadata&&(t.usageMetadata=r.usageMetadata)}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OT(e,n,t,r){const i=await Ug(n,up.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(t),r);return VM(i)}async function IT(e,n,t,r){const a=await(await Ug(n,up.GENERATE_CONTENT,e,!1,JSON.stringify(t),r)).json();return{response:O6(a)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function fg(e){let n=[];if(typeof e=="string")n=[{text:e}];else for(const t of e)typeof t=="string"?n.push({text:t}):n.push(t);return XM(n)}function XM(e){const n={role:"user",parts:[]},t={role:"function",parts:[]};let r=!1,i=!1;for(const a of e)"functionResponse"in a?(t.parts.push(a),i=!0):(n.parts.push(a),r=!0);if(r&&i)throw new Ms("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new Ms("No content is provided for sending chat message.");return r?n:t}function ZM(e,n){var t;let r={model:n==null?void 0:n.model,generationConfig:n==null?void 0:n.generationConfig,safetySettings:n==null?void 0:n.safetySettings,tools:n==null?void 0:n.tools,toolConfig:n==null?void 0:n.toolConfig,systemInstruction:n==null?void 0:n.systemInstruction,cachedContent:(t=n==null?void 0:n.cachedContent)===null||t===void 0?void 0:t.name,contents:[]};const i=e.generateContentRequest!=null;if(e.contents){if(i)throw new Xf("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=e.contents}else if(i)r=Object.assign(Object.assign({},r),e.generateContentRequest);else{const a=fg(e);r.contents=[a]}return{generateContentRequest:r}}function T_(e){let n;return e.contents?n=e:n={contents:[fg(e)]},e.systemInstruction&&(n.systemInstruction=DT(e.systemInstruction)),n}function JM(e){return typeof e=="string"||Array.isArray(e)?{content:fg(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],eF={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function tF(e){let n=!1;for(const t of e){const{role:r,parts:i}=t;if(!n&&r!=="user")throw new Ms(`First content should be with role 'user', got ${r}`);if(!v_.includes(r))throw new Ms(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(v_)}`);if(!Array.isArray(i))throw new Ms("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new Ms("Each Content should have at least one part");const a={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const l of i)for(const c of O_)c in l&&(a[c]+=1);const s=eF[r];for(const l of O_)if(!s.includes(l)&&a[l]>0)throw new Ms(`Content with role '${r}' can't contain '${l}' part`);n=!0}}function I_(e){var n;if(e.candidates===void 0||e.candidates.length===0)return!1;const t=(n=e.candidates[0])===null||n===void 0?void 0:n.content;if(t===void 0||t.parts===void 0||t.parts.length===0)return!1;for(const r of t.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="SILENT_ERROR";class nF{constructor(n,t,r,i={}){this.model=t,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=n,r!=null&&r.history&&(tF(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(n,t={}){var r,i,a,s,l,c;await this._sendPromise;const d=fg(n),h={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(s=this.params)===null||s===void 0?void 0:s.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,d]},g=Object.assign(Object.assign({},this._requestOptions),t);let b;return this._sendPromise=this._sendPromise.then(()=>IT(this._apiKey,this.model,h,g)).then(m=>{var x;if(I_(m.response)){this._history.push(d);const y=Object.assign({parts:[],role:"model"},(x=m.response.candidates)===null||x===void 0?void 0:x[0].content);this._history.push(y)}else{const y=Pf(m.response);y&&console.warn(`sendMessage() was unsuccessful. ${y}. Inspect response object for details.`)}b=m}).catch(m=>{throw this._sendPromise=Promise.resolve(),m}),await this._sendPromise,b}async sendMessageStream(n,t={}){var r,i,a,s,l,c;await this._sendPromise;const d=fg(n),h={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(s=this.params)===null||s===void 0?void 0:s.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,d]},g=Object.assign(Object.assign({},this._requestOptions),t),b=OT(this._apiKey,this.model,h,g);return this._sendPromise=this._sendPromise.then(()=>b).catch(m=>{throw new Error(D_)}).then(m=>m.response).then(m=>{if(I_(m)){this._history.push(d);const x=Object.assign({},m.candidates[0].content);x.role||(x.role="model"),this._history.push(x)}else{const x=Pf(m);x&&console.warn(`sendMessageStream() was unsuccessful. ${x}. Inspect response object for details.`)}}).catch(m=>{m.message!==D_&&console.error(m)}),b}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rF(e,n,t,r){return(await Ug(n,up.COUNT_TOKENS,e,!1,JSON.stringify(t),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iF(e,n,t,r){return(await Ug(n,up.EMBED_CONTENT,e,!1,JSON.stringify(t),r)).json()}async function aF(e,n,t,r){const i=t.requests.map(s=>Object.assign(Object.assign({},s),{model:n}));return(await Ug(n,up.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(n,t,r={}){this.apiKey=n,this._requestOptions=r,t.model.includes("/")?this.model=t.model:this.model=`models/${t.model}`,this.generationConfig=t.generationConfig||{},this.safetySettings=t.safetySettings||[],this.tools=t.tools,this.toolConfig=t.toolConfig,this.systemInstruction=DT(t.systemInstruction),this.cachedContent=t.cachedContent}async generateContent(n,t={}){var r;const i=T_(n),a=Object.assign(Object.assign({},this._requestOptions),t);return IT(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),a)}async generateContentStream(n,t={}){var r;const i=T_(n),a=Object.assign(Object.assign({},this._requestOptions),t);return OT(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),a)}startChat(n){var t;return new nF(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(t=this.cachedContent)===null||t===void 0?void 0:t.name},n),this._requestOptions)}async countTokens(n,t={}){const r=ZM(n,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),t);return rF(this.apiKey,this.model,r,i)}async embedContent(n,t={}){const r=JM(n),i=Object.assign(Object.assign({},this._requestOptions),t);return iF(this.apiKey,this.model,r,i)}async batchEmbedContents(n,t={}){const r=Object.assign(Object.assign({},this._requestOptions),t);return aF(this.apiKey,this.model,n,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(n){this.apiKey=n}getGenerativeModel(n,t){if(!n.model)throw new Ms("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new L_(this.apiKey,n,t)}getGenerativeModelFromCachedContent(n,t,r){if(!n.name)throw new Xf("Cached content must contain a `name` field.");if(!n.model)throw new Xf("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const s of i)if(t!=null&&t[s]&&n[s]&&(t==null?void 0:t[s])!==n[s]){if(s==="model"){const l=t.model.startsWith("models/")?t.model.replace("models/",""):t.model,c=n.model.startsWith("models/")?n.model.replace("models/",""):n.model;if(l===c)continue}throw new Xf(`Different value for "${s}" specified in modelParams (${t[s]}) and cachedContent (${n[s]})`)}const a=Object.assign(Object.assign({},t),{model:n.model,tools:n.tools,toolConfig:n.toolConfig,systemInstruction:n.systemInstruction,cachedContent:n});return new L_(this.apiKey,a,r)}}var A5={exports:{}},R_;function sF(){return R_||(R_=1,(()=>{var e={d:(a,s)=>{for(var l in s)e.o(s,l)&&!e.o(a,l)&&Object.defineProperty(a,l,{enumerable:!0,get:s[l]})},o:(a,s)=>Object.prototype.hasOwnProperty.call(a,s),r:a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}},n={};function t(a,s){for(var l=0;l<s.length;l++){var c=s[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}}e.r(n),e.d(n,{default:()=>i});var r=function(){function a(){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,a)}var s,l;return s=a,l=[{key:"changeHeightWidth",value:function(c,d,h,g,b,m){return h>g&&(c=Math.round(c*g/h),h=g),c>d&&(h=Math.round(h*d/c),c=d),b&&h<b&&(c=Math.round(c*b/h),h=b),m&&c<m&&(h=Math.round(h*m/c),c=m),{height:c,width:h}}},{key:"resizeAndRotateImage",value:function(c,d,h,g,b){var m=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"jpeg",x=arguments.length>6&&arguments[6]!==void 0?arguments[6]:100,y=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,A=x/100,w=document.createElement("canvas"),C=c.width,j=c.height,F=this.changeHeightWidth(j,h,C,d,g,b);!y||y!==90&&y!==270?(w.width=F.width,w.height=F.height):(w.width=F.height,w.height=F.width),C=F.width,j=F.height;var z=w.getContext("2d");return z.fillStyle="rgba(0, 0, 0, 0)",z.fillRect(0,0,C,j),z.imageSmoothingEnabled&&z.imageSmoothingQuality&&(z.imageSmoothingQuality="high"),y&&(z.rotate(y*Math.PI/180),y===90?z.translate(0,-w.width):y===180?z.translate(-w.width,-w.height):y===270?z.translate(-w.height,0):y!==0&&y!==360||z.translate(0,0)),z.drawImage(c,0,0,C,j),w.toDataURL("image/".concat(m),A)}},{key:"b64toByteArrays",value:function(c,d){for(var h=atob(c.toString().replace(/^data:image\/(png|jpeg|jpg|webp);base64,/,"")),g=[],b=0;b<h.length;b+=512){for(var m=h.slice(b,b+512),x=new Array(m.length),y=0;y<m.length;y++)x[y]=m.charCodeAt(y);var A=new Uint8Array(x);g.push(A)}return g}},{key:"b64toBlob",value:function(c,d){var h=this.b64toByteArrays(c,d);return new Blob(h,{type:d,lastModified:new Date})}},{key:"b64toFile",value:function(c,d,h){var g=this.b64toByteArrays(c,h);return new File(g,d,{type:h,lastModified:new Date})}},{key:"createResizedImage",value:function(c,d,h,g,b,m,x){var y=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"base64",A=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,w=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,C=new FileReader;if(!c)throw Error("File Not Found!");if(c.type&&!c.type.includes("image"))throw Error("File Is NOT Image!");C.readAsDataURL(c),C.onload=function(){var j=new Image;j.src=C.result,j.onload=function(){var F=a.resizeAndRotateImage(j,d,h,A,w,g,b,m),z="image/".concat(g);switch(y){case"blob":var L=a.b64toBlob(F,z);x(L);break;case"base64":x(F);break;case"file":var k=c.name.toString().replace(/(png|jpeg|jpg|webp)$/i,"").concat(g.toString()),M=a.b64toFile(F,k,z);x(M);break;default:x(F)}}},C.onerror=function(j){throw Error(j)}}}],l&&t(s,l),a}();const i={imageFileResizer:function(a,s,l,c,d,h,g,b,m,x){return r.createResizedImage(a,s,l,c,d,h,g,b,m,x)}};A5.exports=n})()),A5.exports}var oF=sF();const RT=ns(oF),lF=(e,n=5*1024*1024)=>new Promise((t,r)=>{var b;const i=((b=e.type.split("/")[1])==null?void 0:b.toLowerCase())||"unknown";if(e.size<=n&&(i==="jpeg"||i==="png"||i==="webp")){console.log(` Image already optimized: ${e.size} bytes, format: ${i}`),t({blob:e,format:i==="jpeg"?"jpg":i});return}const a=e.size>n;console.log(` Processing image: ${e.size} bytes, format: ${i}, compress: ${a}`);const s=new File([e],`image.${i}`,{type:e.type});let l="JPEG",c="jpg";(i==="png"||i==="gif")&&(l="PNG",c="png");const d=a?60:75,h=a?600:800,g=setTimeout(()=>{r(new Error("Image compression timed out after 10 seconds"))},1e4);RT.imageFileResizer(s,h,h,l,d,0,m=>{clearTimeout(g),m instanceof Blob?(console.log(` Image compressed: ${e.size}  ${m.size} bytes (${((1-m.size/e.size)*100).toFixed(1)}% reduction)`),t({blob:m,format:c})):r(new Error("Compression failed - unexpected result type"))},"blob")}),uF=async(e,n,t,r=3,i=15e3)=>{const a=uh();for(let s=1;s<=r;s++)try{const{blob:l,format:c}=await lF(e),d=`${n}_${Ri()}.${c}`,h=async()=>{const m=xu(a,`materials/${t}/${d}`),x=await Kf(m,l);return{url:await Od(x.ref),path:x.ref.fullPath,filename:d,originalSize:e.size,compressedSize:l.size}},g=new Promise((m,x)=>{setTimeout(()=>x(new Error(`Upload timeout after ${i}ms`)),i)}),b=await Promise.race([h(),g]);return console.log(`Successfully uploaded image: ${b.filename} (attempt ${s})`,{originalSize:b.originalSize,compressedSize:b.compressedSize,url:b.url}),{url:b.url,path:b.path}}catch(l){const c=l instanceof Error?l.message:"Unknown error";if(console.warn(`Upload attempt ${s}/${r} failed for ${n}: ${c}`),s===r)throw console.error(`All ${r} upload attempts failed for ${n}:`,l),new Error(`Image upload failed after ${r} attempts: ${c}`);const d=Math.min(1e3*Math.pow(2,s-1),5e3);console.log(`Waiting ${d}ms before retry...`),await new Promise(h=>setTimeout(h,d))}throw new Error("Upload failed - should not reach here")},C5=e=>{const t=`
    <svg width="400" height="300" xmlns="http://www.w3.org/2000/svg">
      <rect width="100%" height="100%" fill="#f44336"/>
      <text x="50%" y="45%" font-family="Arial, sans-serif" font-size="12" fill="white" text-anchor="middle" dominant-baseline="middle">
        Upload Failed
      </text>
      <text x="50%" y="55%" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle" dominant-baseline="middle">
        ${e.replace(/[^\u0020-\u00FF]/g,"?").substring(0,30)}
      </text>
    </svg>
  `;try{return`data:image/svg+xml;base64,${btoa(t)}`}catch(r){return console.error("Failed to create fallback placeholder:",r),`data:image/svg+xml,${encodeURIComponent(t)}`}},cF=async(e,n,t,r=3)=>{const i=e.filter(c=>c.imageBlob),a=[];console.log(` Starting batch upload of ${i.length} images (batch size: ${r})`),console.log(" Images to upload:",i.map((c,d)=>{var h,g;return{index:d+1,slideNumber:c.slideNumber,description:c.description,blobSize:(h=c.imageBlob)==null?void 0:h.size,blobType:(g=c.imageBlob)==null?void 0:g.type}}));for(let c=0;c<i.length;c+=r){const d=Math.min(c+r,i.length),h=i.slice(c,d);console.log(`Processing batch ${Math.floor(c/r)+1}/${Math.ceil(i.length/r)} (images ${c+1}-${d})`);const g=h.map(async(b,m)=>{const x=c+m;console.log(` Starting upload for image ${x+1}/${i.length} (slide ${b.slideNumber})`);try{const y=`slide_${b.slideNumber}_image_${x+1}`,A=uF(b.imageBlob,y,n,2,1e4),w=new Promise((j,F)=>{setTimeout(()=>{F(new Error(`Individual image timeout after 15 seconds for image ${x+1}`))},15e3)}),{url:C}=await Promise.race([A,w]);return console.log(` Successfully processed image ${x+1}/${i.length}`),{url:C,title:b.description||`Image from Slide ${b.slideNumber}`,originalFilename:b.filename,slideNumber:b.slideNumber,index:x}}catch(y){return console.error(` Failed to upload image ${x+1}/${i.length} from slide ${b.slideNumber}:`,y),{url:C5(b.description||`Image from Slide ${b.slideNumber}`),title:b.description||`Image from Slide ${b.slideNumber}`,originalFilename:b.filename,slideNumber:b.slideNumber,index:x}}});try{console.log(` Waiting for batch ${Math.floor(c/r)+1} to complete...`);const b=2e4,m=new Promise((y,A)=>{setTimeout(()=>{A(new Error(`Batch ${Math.floor(c/r)+1} timeout after ${b}ms`))},b)}),x=await Promise.race([Promise.allSettled(g),m]);console.log(` Batch ${Math.floor(c/r)+1} completed, processing ${x.length} results...`),x.forEach((y,A)=>{const w=c+A;if(y.status==="fulfilled")a.push(y.value),console.log(` Image ${w+1}/${i.length} uploaded successfully`);else{console.error(` Image ${w+1}/${i.length} failed:`,y.reason);const C=h[A];a.push({url:C5(C.description||`Image from Slide ${C.slideNumber}`),title:C.description||`Image from Slide ${C.slideNumber}`,originalFilename:C.filename,slideNumber:C.slideNumber})}t==null||t(w+1,i.length)})}catch(b){console.error(` Batch ${Math.floor(c/r)+1} failed or timed out:`,b),h.forEach((m,x)=>{const y=c+x;console.log(` Creating fallback for timed out image ${y+1}/${i.length}`),a.push({url:C5(m.description||`Image from Slide ${m.slideNumber}`),title:m.description||`Image from Slide ${m.slideNumber}`,originalFilename:m.filename,slideNumber:m.slideNumber}),t==null||t(y+1,i.length)})}d<i.length&&(console.log(" Waiting 1 second before next batch..."),await new Promise(b=>setTimeout(b,1e3)))}a.sort((c,d)=>(c.index||0)-(d.index||0));const s=a.filter(c=>!c.url.startsWith("data:")).length,l=a.length-s;return console.log(`Upload complete: ${s} successful, ${l} failed out of ${a.length} total`),a};class dF{constructor(n){Ze(this,"genAI");Ze(this,"model");Ze(this,"activeBlobUrls",new Set);this.genAI=new LT(n),this.model=this.genAI.getGenerativeModel({model:"gemini-1.5-pro",generationConfig:{temperature:.2,topK:3,topP:.9,maxOutputTokens:16384}})}cleanupBlobUrls(){this.activeBlobUrls.forEach(n=>{URL.revokeObjectURL(n)}),this.activeBlobUrls.clear()}createTrackedBlobUrl(n){const t=URL.createObjectURL(n);return this.activeBlobUrls.add(t),t}async processMaterialContent(n,t,r,i,a,s){if(!(n!=null&&n.trim()))throw new Error("No content provided for processing");a==null||a({stage:"analyzing",percentage:20,currentOperation:"Analyzing document structure..."});const l=n.length,c=Math.ceil(l/4);if(l>15e3||c>4e3){console.log(`Document is large (${l} chars, ~${c} tokens), using chunked processing`);const d=n.substring(0,15e3);return console.log("Truncating input to prevent AI response truncation"),this.processSingleMaterial(d+`

[Content truncated for processing]`,t,r,i,a,s)}return this.processSingleMaterial(n,t,r,i,a,s)}async processSingleMaterial(n,t,r,i,a,s){const l=this.buildMaterialAnalysisPrompt(n,t,r,i,s);a==null||a({stage:"analyzing",percentage:40,currentOperation:"Processing with AI..."});try{const h=(await(await this.model.generateContent(l)).response).text();if(!h||h.trim().length===0)throw new Error("Empty response from AI service");a==null||a({stage:"structuring",percentage:70,currentOperation:"Structuring content..."});let g=h.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();console.log("Raw response text (first 1000 chars):",h.substring(0,1e3)),console.log("Cleaned text (first 1000 chars):",g.substring(0,1e3)),g=this.repairTruncatedJSON(g);let b;try{b=JSON.parse(g)}catch(m){throw console.error("JSON parsing failed:",m),console.error("Raw response text (first 1000 chars):",h.substring(0,1e3)),console.error("Cleaned text (first 1000 chars):",g.substring(0,1e3)),new Error("AI response format invalid - unable to parse JSON")}if(!b||typeof b!="object")throw new Error("AI response is not a valid object");return a==null||a({stage:"complete",percentage:100,currentOperation:"Processing complete!"}),this.validateAndSanitizeMaterialResponse(b,t,r)}catch(c){if(console.error("Material Import AI Error:",c),a==null||a({stage:"error",percentage:0,currentOperation:`Error: ${c instanceof Error?c.message:"Unknown error"}`}),c instanceof Error){if(c.message.includes("API_KEY_INVALID")||c.message.includes("API key"))throw new Error("Invalid API key. Please check your material import API key configuration.");if(c.message.includes("RATE_LIMIT_EXCEEDED"))throw new Error("Rate limit exceeded. Please try again in a few minutes.");if(c.message.includes("SAFETY"))throw new Error("Content flagged by safety filters. Please try with different content.")}throw new Error(`Material processing failed: ${c instanceof Error?c.message:"Unknown error"}`)}}async processLargeMaterial(n,t,r,i,a){a==null||a({stage:"analyzing",percentage:10,currentOperation:"Processing large document with chunking..."});const s=this.chunkMaterialText(n);let l=null;const c=[];a==null||a({stage:"analyzing",percentage:30,currentOperation:`Processing main content (1/${s.length})...`,subSteps:{current:1,total:s.length,description:"Analyzing primary structure"}}),l=await this.processSingleMaterial(s[0],t,r,i);for(let h=1;h<s.length;h++){a==null||a({stage:"analyzing",percentage:30+40*h/s.length,currentOperation:`Processing additional content (${h+1}/${s.length})...`,subSteps:{current:h+1,total:s.length,description:"Extracting supplementary details"}});try{const g=await this.processChunkForAdditionalContent(s[h],t,r);g&&c.push(g)}catch(g){console.warn(`Failed to process chunk ${h+1}:`,g)}}a==null||a({stage:"structuring",percentage:80,currentOperation:"Merging content from all sections..."});const d=this.mergeChunkedMaterialResults(l,c);return a==null||a({stage:"complete",percentage:100,currentOperation:"Large document processing complete!"}),d}buildMaterialAnalysisPrompt(n,t,r,i,a){const s=this.getFileTypeContext(r);return`
Analyze this ${s} educational material and extract structured information for course content management.

File: ${t}
Type: ${r}

CONTENT:
${n}

${a!=null&&a.images&&a.images.length>0?`
DETECTED IMAGES:
${a.images.map((l,c)=>`${c+1}. ${l.description||`Image ${c+1}`}${l.slideNumber?` (Slide ${l.slideNumber})`:""}${l.altText?` - ${l.altText}`:""}`).join(`
`)}

CRITICAL IMAGE PLACEMENT INSTRUCTIONS:
- Each image MUST be placed in the section corresponding to its slide number
- If "Image X (Slide Y)" is detected, place it in the section created from Slide Y content
- Each image should have a unique, descriptive title based on its context
- Include slideNumber property in each image object for proper matching
- DO NOT reuse the same image in multiple sections
`:""}

Please extract and structure this content into a comprehensive educational material format. Focus on:

1. **Document Structure**: Identify main topics, subtopics, and hierarchical organization
2. **Content Quality**: Preserve important educational information and context
3. **Visual Elements**: Note references to images, diagrams, charts (even if not extractable)
4. **Links and Resources**: Extract any URLs, references, or external resources mentioned
5. **Learning Context**: Maintain educational value and logical flow

${s==="presentation slide deck"?`
SPECIAL INSTRUCTIONS FOR PRESENTATIONS:
- Each slide should become a section or subsection
- Preserve slide order and hierarchy
- Note slide titles and main content points
- Identify slide transitions and logical groupings
- Extract speaker notes or additional context if present
`:""}

Return ONLY a JSON object with this exact structure:
{
  "title": "Material title (extracted from content or filename)",
  "description": "Brief description of the material content",
  "header": {
    "title": "Introduction or Overview",
    "content": "HTML formatted introductory content"
  },
  "footer": {
    "title": "Summary or Conclusion", 
    "content": "HTML formatted concluding content"
  },
  "sections": [
    {
      "title": "Section Title",
      "content": "HTML formatted main section content",
      "subsections": [
        {
          "title": "Subsection Title",
          "content": "HTML formatted subsection content",
          "subSubsections": [
            {
              "title": "Sub-subsection Title",
              "content": "HTML formatted detailed content",
              "images": [{"url": "", "title": "Image description", "description": "Context or caption", "slideNumber": 2}],
              "links": [{"title": "Link title", "url": "URL if available", "description": "Link context"}]
            }
          ],
          "images": [{"url": "", "title": "Image description", "description": "Context or caption", "slideNumber": 3}],
          "links": [{"title": "Link title", "url": "URL if available", "description": "Link context"}]
        }
      ],
      "images": [{"url": "", "title": "Image description", "description": "Context or caption", "slideNumber": 4}],
      "links": [{"title": "Link title", "url": "URL if available", "description": "Link context"}]
    }
  ],
  "sourceInfo": {
    "fileName": "${t}",
    "fileType": "${r}",
    "extractedAt": "${new Date().toISOString()}",
    "originalFileReference": "Reference to original file for debugging"
  },
  "images": [{"url": "", "title": "Overall image description", "description": "Context", "slideNumber": 1}],
  "links": [{"title": "Overall link title", "url": "URL", "description": "Link context"}]
}

CRITICAL JSON FORMATTING RULES:
- Return ONLY valid JSON - no comments, no explanations, no additional text
- Use proper HTML tags for content formatting (<p>, <h1>-<h6>, <ul>, <ol>, <li>, <strong>, <em>, <br>)
- Preserve educational structure and hierarchy
- Create logical sections based on content organization
- For images: Use EMPTY STRINGS for URLs ("url": "") with descriptive titles, context, and slideNumber property
-- IMPORTANT: Each image object MUST include "slideNumber" property matching the source slide
-- NEVER use placeholder filenames like "placeholder_image_1.png" - always use empty strings for URLs
- For links: Extract actual URLs when present, provide context
- Complete ALL sections and subsections - do not use comments like "// ... continue"
- Ensure all JSON arrays and objects are properly closed
- Maintain educational value and readability

IMPORTANT: Your response must be complete, valid JSON that can be parsed directly. Do not include any explanatory text, comments, or incomplete sections. End your response when the JSON object is complete.
`}async processChunkForAdditionalContent(n,t,r){const i=`
Extract additional educational content from this section of the material:

File: ${t}
Type: ${r}

CONTENT:
${n}

Focus on extracting any additional sections, detailed information, or supplementary content that should be included in the educational material.

Return ONLY a JSON object with additional sections, images, or links:
{
  "sections": [...],
  "images": [...],
  "links": [...]
}
`;try{const l=(await(await this.model.generateContent(i)).response).text();if(!l||l.trim().length===0)return null;let c;try{c=this.extractValidJSON(l)}catch(d){try{c=this.fallbackJSONExtraction(l)}catch{throw d}}return JSON.parse(c)}catch(a){return console.warn("Failed to process additional content chunk:",a),null}}chunkMaterialText(n,t=25e3){const r=[],i=n.split(`
`);let a="";for(const s of i)a.length+s.length>t&&a.length>0?(r.push(a.trim()),a=s):a+=(a?`
`:"")+s;return a.trim()&&r.push(a.trim()),r.length>0?r:[n]}mergeChunkedMaterialResults(n,t){const r={...n};for(const i of t)i.sections&&Array.isArray(i.sections)&&(r.sections=[...r.sections,...i.sections]),i.images&&Array.isArray(i.images)&&(r.images=[...r.images||[],...i.images]),i.links&&Array.isArray(i.links)&&(r.links=[...r.links||[],...i.links]);return r}extractValidJSON(n){let t=n.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();t=t.replace(/\/\/.*$/gm,"").replace(/\/\*[\s\S]*?\*\//g,"");const r=t.indexOf("{");if(r===-1)throw new Error("No JSON object found in response");t=t.substring(r);let i=0,a=-1,s=!1,l=!1;for(let h=0;h<t.length;h++){const g=t[h];if(l){l=!1;continue}if(g==="\\"){l=!0;continue}if(g==='"'&&!l){s=!s;continue}if(!s){if(g==="{")i++;else if(g==="}"&&(i--,i===0)){a=h+1;break}}}if(a===-1)throw new Error("No matching closing brace found for JSON object");let c=t.substring(0,a);c=c.replace(/,(\s*[}\]])/g,"$1"),this.detectTruncatedJSON(c)&&(console.warn("Detected truncated JSON response, attempting repair"),c=this.attemptJSONRepair(c));try{return JSON.parse(c),c}catch(h){console.warn("Initial JSON parsing failed, attempting to fix common issues:",h);const g=this.attemptJSONRepair(c);try{return JSON.parse(g),g}catch(b){throw console.error("JSON repair failed:",b),new Error(`Invalid JSON structure: ${b.message}`)}}}detectTruncatedJSON(n){const t=n.trim(),r=[/"[^"]*$/,/:\s*$/,/,\s*$/,/"[a-zA-Z]+\w*$/,/[a-zA-Z]+\w*$/,/\[\s*$/,/{\s*$/];for(const a of r)if(a.test(t))return console.log(`Truncation detected: ${a.toString()}`),!0;const i=t.charAt(t.length-1);return i!=="}"&&i!=="]"?(console.log(`Truncation detected: JSON doesn't end with } or ], ends with: "${i}"`),!0):!1}detectTruncatedResponse(n){const r=n.trim().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim(),i=[/"[^"]*$/,/\w+$/,/:\s*$/,/,\s*$/,!r.endsWith("}"),!r.endsWith("]"),r.length<500];for(let a=0;a<i.length-1;a++){const s=i[a];if(s instanceof RegExp&&s.test(r))return!0}return!!(i[i.length-3]||i[i.length-2]||i[i.length-1])}attemptJSONRepair(n){let t=n;const r=t.split(`
`),i=[];for(const d of r){const h=d.trim();h.startsWith("//")||h.includes("... (Continue")||h.includes("continue structuring")||h.includes("similarly")||i.push(d)}t=i.join(`
`),t=t.replace(/,(\s*[}\]])/g,"$1");const a=(t.match(/{/g)||[]).length,s=(t.match(/}/g)||[]).length,l=(t.match(/\[/g)||[]).length,c=(t.match(/\]/g)||[]).length;for(let d=0;d<a-s;d++)t+="}";for(let d=0;d<l-c;d++)t+="]";return t}fallbackJSONExtraction(n){console.log("Attempting fallback JSON extraction...");let t=n.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();t=t.replace(/\/\/.*$/gm,"").replace(/\/\*[\s\S]*?\*\//g,"");const r=t.indexOf("{");if(r===-1)throw new Error("No JSON object found in response");t=t.substring(r);const i=[/}\s*$/m,/}\s*\n\s*[A-Z]/m,/}\s*\n\s*This/m,/}\s*\n\s*Note:/m];let a=-1;for(const l of i){const c=t.match(l);if(c&&c.index!==void 0){const d=c.index+c[0].indexOf("}")+1;(a===-1||d<a)&&(a=d)}}a>0&&(t=t.substring(0,a));const s=this.attemptJSONRepair(t);try{return JSON.parse(s),s}catch{return console.log("Attempting aggressive JSON repair..."),this.aggressiveJSONRepair(t)}}aggressiveJSONRepair(n){let t=n;const r=t.split(`
`),i=[];for(const d of r){const h=d.trim();if(h.startsWith("//")||h.includes("... (")||h.includes("continue")||h.includes("similarly")||h.includes("Remember to")||h.includes("This structure")||h.length>0&&!h.includes('"')&&!h.includes("{")&&!h.includes("}")&&!h.includes("[")&&!h.includes("]"))break;i.push(d)}t=i.join(`
`),t=t.replace(/,(\s*[}\]])/g,"$1");const a=(t.match(/{/g)||[]).length,s=(t.match(/}/g)||[]).length,l=(t.match(/\[/g)||[]).length,c=(t.match(/\]/g)||[]).length;for(let d=0;d<a-s;d++)t+=`
}`;for(let d=0;d<l-c;d++)t+=`
]`;return t=t.replace(/,(\s*[}\]])/g,"$1"),t}repairTruncatedJSON(n){let t=n;const r=t.split(`
`),i=[];for(const d of r){const h=d.trim();if(h.length===0){i.push(d);continue}if(h.match(/^"[^"]*$/)){i.push('"": ""');break}if(h.match(/:\s*"[^"]*$/)){i.push(h.replace(/:\s*"[^"]*$/,': ""'));break}if(h.match(/^[a-zA-Z]+\w*$/))break;i.push(d)}t=i.join(`
`),t=t.replace(/,(\s*[}\]])/g,"$1"),t=t.replace(/,\s*$/,"");const a=(t.match(/{/g)||[]).length,s=(t.match(/}/g)||[]).length,l=(t.match(/\[/g)||[]).length,c=(t.match(/\]/g)||[]).length;console.log(`JSON structure analysis: ${a} open braces, ${s} close braces, ${l} open brackets, ${c} close brackets`);for(let d=0;d<l-c;d++)t+=`
]`;for(let d=0;d<a-s;d++)t+=`
}`;return t=t.replace(/,(\s*[}\]])/g,"$1"),console.log("Repaired JSON (first 1000 chars):",t.substring(0,1e3)),t}getFileTypeContext(n){const t=n.toLowerCase();return t.includes("presentation")||t.includes("powerpoint")||t.includes("pptx")?"presentation slide deck":t.includes("pdf")?"PDF document":t.includes("word")||t.includes("docx")?"Word document":"document"}validateAndSanitizeMaterialResponse(n,t,r){var a,s,l,c,d;const i={title:n.title||t.replace(/\.[^/.]+$/,"")||"Untitled Material",description:n.description||"",header:{title:((a=n.header)==null?void 0:a.title)||"Introduction",content:((s=n.header)==null?void 0:s.content)||""},footer:{title:((l=n.footer)==null?void 0:l.title)||"Summary",content:((c=n.footer)==null?void 0:c.content)||""},sections:[],sourceInfo:{fileName:t,fileType:r,extractedAt:new Date().toISOString(),originalFileReference:((d=n.sourceInfo)==null?void 0:d.originalFileReference)||t},images:Array.isArray(n.images)?n.images:[],links:Array.isArray(n.links)?n.links:[]};return Array.isArray(n.sections)&&(i.sections=n.sections.map(h=>({title:h.title||"Section",content:h.content||"",subsections:Array.isArray(h.subsections)?h.subsections.map(g=>({title:g.title||"Subsection",content:g.content||"",subSubsections:Array.isArray(g.subSubsections)?g.subSubsections.map(b=>({title:b.title||"Sub-subsection",content:b.content||"",images:Array.isArray(b.images)?b.images:[],links:Array.isArray(b.links)?b.links:[]})):[],images:Array.isArray(g.images)?g.images:[],links:Array.isArray(g.links)?g.links:[]})):[],images:Array.isArray(h.images)?h.images:[],links:Array.isArray(h.links)?h.links:[]}))),i.sections.length===0&&i.sections.push({title:"Main Content",content:"Content extracted from the uploaded material.",subsections:[],images:[],links:[]}),i}convertToMaterialFormat(n,t,r,i){const a=(c,d=400,h=300)=>{const g=c.replace(/[^\u0020-\u00FF]/g,"?").substring(0,30),b=`
        <svg width="${d}" height="${h}" xmlns="http://www.w3.org/2000/svg">
          <rect width="100%" height="100%" fill="#4a90e2"/>
          <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle" dominant-baseline="middle">
            ${g}
          </text>
        </svg>
      `;try{return`data:image/svg+xml;base64,${btoa(b)}`}catch(m){return console.error("Failed to create placeholder image URL:",m),`data:image/svg+xml,${encodeURIComponent(b)}`}},s=c=>{const d=new Map;i!=null&&i.images&&i.images.forEach(m=>{m.slideNumber&&m.imageBlob&&(d.has(m.slideNumber)||d.set(m.slideNumber,[]),d.get(m.slideNumber).push(m))});const h=new Map,g=(c==null?void 0:c.map((m,x)=>{let y="";if(m.slideNumber&&d.has(m.slideNumber)){const w=d.get(m.slideNumber);h.has(m.slideNumber)||h.set(m.slideNumber,new Set);const C=h.get(m.slideNumber);let j=null;if(m.title||m.description){const F=(m.title||m.description).toLowerCase();j=w.find(z=>{const L=(z.description||"").toLowerCase();return!C.has(z.embedId||"")&&L.includes(F.split(" ")[0])})||null}if(j||(j=w.find(F=>!C.has(F.embedId||""))||null),!j&&w.length>0){const F=x%w.length;j=w[F]}j!=null&&j.imageBlob&&(j.embedId&&C.add(j.embedId),y=this.createTrackedBlobUrl(j.imageBlob),console.log(`Using extracted image blob for slide ${m.slideNumber} (${C.size}/${w.length}):`,{slideNumber:m.slideNumber,imageIndex:x,embedId:j.embedId,blobSize:j.imageBlob.size,blobType:j.imageBlob.type,matchedBy:j.description||"position"}))}y||(m.url&&m.url.trim()&&(m.url.startsWith("data:")||m.url.startsWith("http"))&&!m.url.includes("placeholder_image")?y=m.url:y=a(m.title||"Image"));const A={url:y,title:m.title||m.description||"Detected Image"};return console.log("Enhanced image (preview):",A),A}))||[],b=Array.from(d.values()).reduce((m,x)=>m+x.length,0);return console.log(`Enhanced ${g.length} images for material preview (${b} extracted images available across ${d.size} slides)`),g},l=c=>{var d;return{id:Ri(),title:c.title,content:c.content,subsections:((d=c.subsections)==null?void 0:d.map(h=>{var g;return{id:Ri(),title:h.title,content:h.content,subSubsections:((g=h.subSubsections)==null?void 0:g.map(b=>({id:Ri(),title:b.title,content:b.content,images:s(b.images||[]),links:b.links||[]})))||[],images:s(h.images||[]),links:h.links||[]}}))||[],images:s(c.images||[]),links:c.links||[]}};return{course:t,title:n.title,header:n.header,footer:n.footer,sections:n.sections.map(l),author:r,published:!1,sourceInfo:n.sourceInfo}}async convertToMaterialFormatWithImageUpload(n,t,r,i,a,s){var m;let l=[];if(a!=null&&a.images)try{console.log(` Starting image upload process for ${a.images.length} extracted images...`),console.log(" Image metadata:",a.images.map(x=>{var y;return{slideNumber:x.slideNumber,description:x.description,hasBlob:!!x.imageBlob,blobSize:(y=x.imageBlob)==null?void 0:y.size}})),l=await cF(a.images,i,s),console.log(` Successfully uploaded ${l.length} images to Firebase Storage`),console.log(" Uploaded image URLs:",l.map(x=>({title:x.title,url:x.url.substring(0,100)+"...",slideNumber:x.slideNumber})))}catch(x){console.error(" Failed to upload extracted images:",x)}else console.log(" No images to upload - extractionMetadata.images is empty or undefined");const c=(x,y=400,A=300)=>{const w=x.substring(0,30),C=`
        <svg width="${y}" height="${A}" xmlns="http://www.w3.org/2000/svg">
          <rect width="100%" height="100%" fill="#4a90e2"/>
          <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle" dominant-baseline="middle">
            ${w}
          </text>
        </svg>
      `;return`data:image/svg+xml;base64,${btoa(C)}`},d=x=>{const y=new Map;l.forEach(C=>{C.slideNumber&&(y.has(C.slideNumber)||y.set(C.slideNumber,[]),y.get(C.slideNumber).push(C))});const A=new Set,w=(x==null?void 0:x.map((C,j)=>{let F=null;if(C.slideNumber&&y.has(C.slideNumber)){const L=y.get(C.slideNumber);if(F=L.find(k=>!A.has(k.url))||null,!F&&L.length>0){const k=j%L.length;F=L[k]}}if(!F){const L=(C.title||C.description||"").toLowerCase().split(" ");F=l.find(k=>{if(A.has(k.url))return!1;const M=k.title.toLowerCase().split(" ");return L.some(q=>q.length>3&&M.some(Q=>Q.includes(q)))})||null}if(F||(F=l.find(L=>!A.has(L.url))||null),!F&&l.length>0){const L=j%l.length;F=l[L]}F&&A.add(F.url);const z={url:(F==null?void 0:F.url)||(C.url&&C.url.trim()?C.url:c(C.title||"Image")),title:(F==null?void 0:F.title)||C.title||C.description||"Detected Image"};return console.log("Enhanced image with upload:",{...z,url:z.url.substring(0,100)+"...",isUploaded:!!F,imageIndex:j,originalSlideNumber:C.slideNumber,matchedSlideNumber:F==null?void 0:F.slideNumber,matchStrategy:F?F.slideNumber===C.slideNumber?"slideNumber":z.title.includes(C.title||"")?"title":"sequential":"placeholder",usedCount:A.size,totalAvailable:l.length}),z}))||[];return console.log(`Enhanced ${w.length} images for material (${l.length} uploaded, ${A.size} used)`),w},h=x=>{var y;return{id:Ri(),title:x.title,content:x.content,images:d(x.images||[]),links:x.links||[],subsections:((y=x.subsections)==null?void 0:y.map(g))||[]}},g=x=>{var y;return{id:Ri(),title:x.title,content:x.content,images:d(x.images||[]),links:x.links||[],subSubsections:((y=x.subSubsections)==null?void 0:y.map(b))||[]}},b=x=>({id:Ri(),title:x.title,content:x.content,images:d(x.images||[]),links:x.links||[]});return{course:t,title:n.title,header:n.header||{title:"",content:""},footer:n.footer||{title:"",content:""},sections:((m=n.sections)==null?void 0:m.map(h))||[],author:r,published:!1,scheduledTimestamp:null}}}let hy=null;const Yw=e=>{const n=e||"AIzaSyAcb1QNEdevZFSay3ZaT9MB7xQq6f0dMh0";if(!hy&&n&&(hy=new dF(n)),!hy)throw new Error("Material Import service not initialized. Please configure VITE_GEMINI_MATERIAL_API_KEY or VITE_GEMINI_API_KEY environment variable.");return hy},fF=async e=>{try{const n=await Li(()=>import("./pdf-VQKGuvxX.js"),[]),t="/nexlab";n.GlobalWorkerOptions.workerSrc=`${t}/js/pdf.worker.min.js`;const r=await e.arrayBuffer(),i=await n.getDocument({data:r}).promise,a=i.numPages;let s="";for(let l=1;l<=a;l++){const h=(await(await i.getPage(l)).getTextContent()).items.filter(g=>g&&typeof g.str=="string").map(g=>g.str).join(" ").trim();h&&(s+=h+`

`)}return{text:s.trim(),metadata:{pageCount:a,wordCount:s.trim().split(/\s+/).length,fileSize:e.size,extractionMethod:"PDF.js"}}}catch(n){throw{message:"Failed to extract text from PDF file. Please ensure the PDF contains selectable text.",code:"PDF_EXTRACTION_ERROR",originalError:n instanceof Error?n:new Error(String(n))}}},hF=async e=>{try{const n=await Li(()=>import("./index-BvCuR_8h.js").then(i=>i.i),__vite__mapDeps([0,1])),t=await e.arrayBuffer(),r=await n.extractRawText({arrayBuffer:t});return r.messages&&r.messages.length>0&&console.warn("DOCX extraction warnings:",r.messages),{text:r.value.trim(),metadata:{wordCount:r.value.trim().split(/\s+/).length,fileSize:e.size,extractionMethod:"Mammoth"}}}catch(n){throw{message:"Failed to extract text from Word document. Please ensure the file is not corrupted.",code:"DOCX_EXTRACTION_ERROR",originalError:n instanceof Error?n:new Error(String(n))}}},pF=async e=>{var n,t;try{const r=(await Li(async()=>{const{default:g}=await import("./index-CZYWMsg6.js").then(b=>b.i);return{default:g}},__vite__mapDeps([2,1]))).default,i=await e.arrayBuffer(),a=new r(i);let s="",l=0;const c=[],d=Object.keys(a.files).filter(g=>g.startsWith("ppt/slides/slide")&&g.endsWith(".xml"));l=d.length;for(const g of d)try{const b=a.files[g].asText(),m=parseInt(((n=g.match(/slide(\d+)\.xml/))==null?void 0:n[1])||"0"),x=b.matchAll(/<a:blip[^>]*r:embed="([^"]*)"[^>]*>/g);for(const w of x){const C=w[1],j=b.match(new RegExp('<p:cNvPr[^>]*name="([^"]*)"[^>]*>',"i")),F=b.match(new RegExp('<p:cNvPr[^>]*descr="([^"]*)"[^>]*>',"i")),z=b.replace(/<a:t[^>]*>(.*?)<\/a:t>/g,"$1 ").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();let L=`Image on slide ${m}`;const k=["chart","graph","diagram","figure","table","photo","image","illustration","screenshot","logo","flowchart","timeline","comparison","data","results","example","structure","process"],M=z.toLowerCase().split(/\s+/),q=k.filter(T=>M.some(O=>O.includes(T)));if(q.length>0)L=`${q[0].charAt(0).toUpperCase()+q[0].slice(1)} (Slide ${m})`;else if(z.length>0){const T=M.slice(0,3).join(" ");T.length>5&&(L=`Image: ${T}... (Slide ${m})`)}let Q;try{const T=`ppt/slides/_rels/slide${m}.xml.rels`;if(a.files[T]){const R=a.files[T].asText().match(new RegExp(`Id="${C}"[^>]*Target="([^"]*)"`,"i"));if(R){const N=R[1],K=N.startsWith("../")?`ppt/${N.substring(3)}`:`ppt/slides/${N}`;if(a.files[K]){const H=a.files[K].asUint8Array();let G="image/jpeg";const ee=K.toLowerCase();if(ee.includes(".png"))G="image/png";else if(ee.includes(".gif"))G="image/gif";else if(ee.includes(".bmp"))G="image/bmp";else if(ee.includes(".webp"))G="image/webp";else if(ee.includes(".emf")||ee.includes(".wmf")){console.warn(`Skipping unsupported vector image format: ${K}`);continue}Q=new Blob([H],{type:G}),console.log(`Extracted image blob for slide ${m}:`,{size:Q.size,type:G,path:K})}}}}catch(T){console.warn(`Failed to extract image blob for ${C} on slide ${m}:`,T)}c.push({slideNumber:m,description:(j==null?void 0:j[1])||L,altText:(F==null?void 0:F[1])||void 0,filename:C,embedId:C,imageBlob:Q})}const y=b.replace(/<a:t[^>]*>(.*?)<\/a:t>/g,"$1 ").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();y&&(s+=`
--- Slide ${m} ---
${y}
`);const A=c.filter(w=>w.slideNumber===m);A.length>0&&(s+=`
[IMAGES ON SLIDE ${m}]: `,A.forEach(w=>{s+=`"${w.description}"${w.altText?` (${w.altText})`:""}, `}),s=s.slice(0,-2)+`
`)}catch(b){console.warn(`Failed to extract text from ${g}:`,b)}const h=Object.keys(a.files).filter(g=>g.startsWith("ppt/notesSlides/notesSlide")&&g.endsWith(".xml"));for(const g of h)try{const m=a.files[g].asText().replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();if(m){const x=((t=g.match(/notesSlide(\d+)\.xml/))==null?void 0:t[1])||"unknown";s+=`
--- Notes for Slide ${x} ---
${m}
`}}catch(b){console.warn(`Failed to extract notes from ${g}:`,b)}if(!s.trim())throw new Error("No text content found in PowerPoint file");return{text:s.trim(),metadata:{slideCount:l,wordCount:s.trim().split(/\s+/).length,fileSize:e.size,extractionMethod:"PizZip",images:c.length>0?c:void 0}}}catch(r){throw{message:"Failed to extract text from PowerPoint file. Please ensure the file is not corrupted and contains text content.",code:"PPTX_EXTRACTION_ERROR",originalError:r instanceof Error?r:new Error(String(r))}}},mF=async e=>{try{const n=await e.text();return{text:n.trim(),metadata:{wordCount:n.trim().split(/\s+/).length,fileSize:e.size,extractionMethod:"Native"}}}catch(n){throw{message:"Failed to extract text from text file",code:"TXT_EXTRACTION_ERROR",originalError:n instanceof Error?n:new Error(String(n))}}},MT=async e=>{if(!e)throw{message:"No file provided",code:"NO_FILE_ERROR"};const n=e.type.toLowerCase(),t=e.name.toLowerCase();try{if(n==="application/pdf"||t.endsWith(".pdf"))return await fF(e);if(n==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||t.endsWith(".docx"))return await hF(e);if(n==="application/vnd.openxmlformats-officedocument.presentationml.presentation"||t.endsWith(".pptx"))return await pF(e);if(n==="text/plain"||t.endsWith(".txt"))return await mF(e);throw{message:`Unsupported file format: ${n||"unknown"}. Supported formats: PDF (.pdf), Word (.docx), PowerPoint (.pptx), Text (.txt)`,code:"UNSUPPORTED_FORMAT_ERROR"}}catch(r){throw r&&typeof r=="object"&&"code"in r?r:{message:`Failed to extract text from ${e.name}`,code:"GENERIC_EXTRACTION_ERROR",originalError:r instanceof Error?r:new Error(String(r))}}},FT=e=>{const t=["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","text/plain"],r=[".pdf",".docx",".pptx",".txt"];if(e.size>524288e3)return{isValid:!1,error:`File size (${(e.size/1024/1024).toFixed(1)}MB) exceeds the maximum limit of 500MB.`};const i=e.type.toLowerCase(),a=e.name.toLowerCase(),s=t.includes(i),l=r.some(c=>a.endsWith(c));return!s&&!l?{isValid:!1,error:`Unsupported file format. Please upload files with extensions: ${r.join(", ")}`}:{isValid:!0}},PT=e=>{const n=e.type.toLowerCase(),t=e.name.toLowerCase();return n==="application/pdf"||t.endsWith(".pdf")?"PDF Document":n==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||t.endsWith(".docx")?"Word Document":n==="application/vnd.openxmlformats-officedocument.presentationml.presentation"||t.endsWith(".pptx")?"PowerPoint Presentation":n==="text/plain"||t.endsWith(".txt")?"Text File":"Unknown Format"},gF=e=>{const n=e.size/1048576,t=e.type.toLowerCase();let r=0;return t==="application/pdf"?r=Math.max(2,n*.5):t==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"?r=Math.max(1,n*.3):t==="application/vnd.openxmlformats-officedocument.presentationml.presentation"?r=Math.max(1.5,n*.4):r=Math.max(.5,n*.1),Math.round(r)};class bF{constructor(){Ze(this,"storage",uh());Ze(this,"DEFAULT_CHUNK_SIZE",5*1024*1024);Ze(this,"DEFAULT_MAX_RETRIES",3);Ze(this,"DEFAULT_TIMEOUT",6e4)}async uploadLargeFile(n,t,r={}){const i=Date.now(),{chunkSize:a=this.DEFAULT_CHUNK_SIZE,maxRetries:s=this.DEFAULT_MAX_RETRIES,timeoutMs:l=this.DEFAULT_TIMEOUT,onProgress:c,onChunkComplete:d}=r,h=500*1024*1024;if(n.size>h)throw new Error(`File size (${(n.size/1024/1024).toFixed(1)}MB) exceeds maximum limit of 500MB`);if(!(n.size>a))return this.uploadStandardFile(n,t,c);console.log(` Starting chunked upload for ${n.name} (${(n.size/1024/1024).toFixed(1)}MB)`),c==null||c({stage:"preparing",percentage:0,bytesUploaded:0,totalBytes:n.size,currentOperation:"Preparing file for chunked upload..."});const b=this.createChunkMetadata(n,a),m=Ri(),x=`${t}_chunks_${m}`;c==null||c({stage:"preparing",percentage:5,totalChunks:b.length,bytesUploaded:0,totalBytes:n.size,currentOperation:`Created ${b.length} chunks for upload...`});try{await this.uploadChunks(n,b,x,{maxRetries:s,timeoutMs:l,onProgress:w=>{const C=this.calculateOverallProgress(b,w);c==null||c({stage:"uploading",percentage:5+C*.85,currentChunk:w.currentChunk,totalChunks:b.length,bytesUploaded:w.bytesUploaded,totalBytes:n.size,currentOperation:w.currentOperation,estimatedTimeRemaining:this.estimateTimeRemaining(i,C)})},onChunkComplete:d}),c==null||c({stage:"assembling",percentage:90,totalChunks:b.length,bytesUploaded:n.size,totalBytes:n.size,currentOperation:"Assembling chunks into final file..."});const y=await this.assembleChunks(n,b,t,m);c==null||c({stage:"completed",percentage:100,totalChunks:b.length,bytesUploaded:n.size,totalBytes:n.size,currentOperation:"Upload completed successfully!"});const A=Date.now()-i;return console.log(` Chunked upload completed in ${(A/1e3).toFixed(1)}s`),{...y,chunks:b.length,uploadTime:A}}catch(y){throw console.error(" Chunked upload failed:",y),await this.cleanupFailedUpload(b),y}}createChunkMetadata(n,t){const r=[];let i=0;for(;i<n.size;){const a=Math.min(i+t,n.size);r.push({index:r.length,size:a-i,start:i,end:a,retries:0}),i=a}return r}async uploadChunks(n,t,r,i){const{maxRetries:a,timeoutMs:s,onProgress:l,onChunkComplete:c}=i;let d=0;const h=3;for(let g=0;g<t.length;g+=h){const m=t.slice(g,Math.min(g+h,t.length)).map(async x=>{const y=n.slice(x.start,x.end),A=`${r}/chunk_${x.index.toString().padStart(4,"0")}`;let w=null;for(let C=0;C<=a;C++)try{l==null||l({currentChunk:x.index+1,bytesUploaded:d,currentOperation:`Uploading chunk ${x.index+1}/${t.length} (attempt ${C+1})`});const j=await this.uploadSingleChunk(y,A,s);x.uploadUrl=j.url,x.uploadPath=j.path,d+=x.size,c==null||c(x.index,t.length),console.log(` Chunk ${x.index+1}/${t.length} uploaded successfully`);return}catch(j){w=j,x.retries=C+1,C<a&&(console.warn(` Chunk ${x.index+1} failed (attempt ${C+1}), retrying...`),await this.delay(Math.pow(2,C)*1e3))}throw new Error(`Failed to upload chunk ${x.index+1} after ${a+1} attempts: ${w==null?void 0:w.message}`)});await Promise.all(m),g+h<t.length&&await this.delay(500)}}async uploadSingleChunk(n,t,r){const i=xu(this.storage,t),a=async()=>{const l=await Kf(i,n);return{url:await Od(l.ref),path:l.ref.fullPath}},s=new Promise((l,c)=>{setTimeout(()=>c(new Error(`Chunk upload timeout after ${r}ms`)),r)});return Promise.race([a(),s])}async assembleChunks(n,t,r,i){const a=await this.reconstructFileFromChunks(n,t),s=xu(this.storage,r),l=await Kf(s,a),c=await Od(l.ref);return await this.cleanupChunks(t),{url:c,path:l.ref.fullPath,name:n.name,type:n.type,size:n.size,uploadedAt:new Date}}async reconstructFileFromChunks(n,t){const r=[];for(const i of t.sort((a,s)=>a.index-s.index))r.push(n.slice(i.start,i.end));return new Blob(r,{type:n.type})}async uploadStandardFile(n,t,r){const i=Date.now(),a=xu(this.storage,t);r==null||r({stage:"uploading",percentage:10,bytesUploaded:0,totalBytes:n.size,currentOperation:"Uploading file..."});const s=await Kf(a,n);r==null||r({stage:"uploading",percentage:90,bytesUploaded:n.size,totalBytes:n.size,currentOperation:"Getting download URL..."});const l=await Od(s.ref);r==null||r({stage:"completed",percentage:100,bytesUploaded:n.size,totalBytes:n.size,currentOperation:"Upload completed!"});const c=Date.now()-i;return{url:l,path:s.ref.fullPath,name:n.name,type:n.type,size:n.size,uploadedAt:new Date,chunks:1,uploadTime:c}}calculateOverallProgress(n,t){const r=n.filter(a=>a.uploadUrl).length,i=t.currentChunk?t.bytesUploaded/n.reduce((a,s)=>a+s.size,0):0;return(r+i)/n.length}estimateTimeRemaining(n,t){if(t<=0)return 0;const r=Date.now()-n,i=r/t;return Math.max(0,i-r)}async cleanupChunks(n){const t=n.filter(r=>r.uploadPath).map(async r=>{try{const i=xu(this.storage,r.uploadPath);await lT(i)}catch(i){console.warn(`Failed to cleanup chunk ${r.index}:`,i)}});await Promise.allSettled(t)}async cleanupFailedUpload(n){console.log(" Cleaning up failed chunked upload..."),await this.cleanupChunks(n)}delay(n){return new Promise(t=>setTimeout(t,n))}validateFileForChunkedUpload(n){return n.size>524288e3?{isValid:!1,error:`File size (${(n.size/1024/1024).toFixed(1)}MB) exceeds maximum limit of 500MB`}:["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword","text/plain"].includes(n.type)?{isValid:!0}:{isValid:!1,error:`Unsupported file type: ${n.type}. Supported formats: PowerPoint, PDF, Word, Text files`}}}const M_=new bF;class yF{constructor(){Ze(this,"storage",uh())}async uploadOriginalFile(n,t,r,i){return n.size>26214400?(console.log(` File is large (${(n.size/1024/1024).toFixed(1)}MB), using chunked upload`),this.uploadOriginalFileEnhanced(n,t,r,i?s=>i(s.percentage):void 0)):this.uploadOriginalFileStandard(n,t,r,i)}async uploadOriginalFileEnhanced(n,t,r,i){const a=M_.validateFileForChunkedUpload(n);if(!a.isValid)throw new Error(a.error);const s=n.name.split(".").pop()||"",l=r||Ri(),c=`${n.name.replace(/\.[^/.]+$/,"")}_${l}.${s}`,d=`original-files/${t}/${c}`;console.log(" Starting enhanced original file upload:",{fileName:c,fileSize:n.size,fileType:n.type,courseId:t,chunked:!0});try{const h=await M_.uploadLargeFile(n,d,{chunkSize:5242880,maxRetries:3,timeoutMs:6e4,onProgress:i,onChunkComplete:(b,m)=>{console.log(` Chunk ${b+1}/${m} completed`)}}),g={name:n.name,type:n.type,size:n.size,url:h.url,uploadedAt:new Date};return console.log(" Enhanced original file uploaded successfully:",{originalName:n.name,storageName:c,url:h.url,size:n.size,chunks:h.chunks,uploadTime:`${(h.uploadTime/1e3).toFixed(1)}s`}),g}catch(h){throw console.error(" Enhanced original file upload failed:",h),new Error(`Failed to upload original file: ${h instanceof Error?h.message:"Unknown error"}`)}}async uploadOriginalFileStandard(n,t,r,i){try{const a=n.name.split(".").pop()||"",s=r||Ri(),l=`${n.name.replace(/\.[^/.]+$/,"")}_${s}.${a}`,c=xu(this.storage,`original-files/${t}/${l}`);console.log(" Starting original file upload:",{fileName:l,fileSize:n.size,fileType:n.type,courseId:t}),i==null||i(10);const d=await Kf(c,n);i==null||i(70);const h=await Od(d.ref);i==null||i(100);const g={name:n.name,type:n.type,size:n.size,url:h,uploadedAt:new Date};return console.log(" Original file uploaded successfully:",{originalName:n.name,storageName:l,url:h,size:n.size}),g}catch(a){throw console.error(" Original file upload failed:",a),new Error(`Failed to upload original file: ${a instanceof Error?a.message:"Unknown error"}`)}}async deleteOriginalFile(n){try{const r=new URL(n).pathname.match(/\/o\/(.+?)\?/);if(!r)throw new Error("Invalid Firebase Storage URL format");const i=decodeURIComponent(r[1]),a=xu(this.storage,i);await lT(a),console.log(" Original file deleted successfully:",i)}catch(t){console.error(" Original file deletion failed:",t),console.warn("Continuing despite file deletion failure")}}async replaceOriginalFile(n,t,r,i,a){try{return i&&await this.deleteOriginalFile(i),await this.uploadOriginalFile(n,t,r,a)}catch(s){throw console.error(" Original file replacement failed:",s),new Error(`Failed to replace original file: ${s instanceof Error?s.message:"Unknown error"}`)}}getFileExtension(n){var t;return((t=n.split(".").pop())==null?void 0:t.toLowerCase())||""}validateFile(n){return n.size>524288e3?{isValid:!1,error:`File size (${(n.size/1024/1024).toFixed(1)}MB) exceeds maximum limit of 500MB`}:["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword","text/plain"].includes(n.type)?{isValid:!0}:{isValid:!1,error:`Unsupported file type: ${n.type}. Supported formats: PowerPoint, PDF, Word, Text files`}}}const E5=new yF,F_={isProcessing:!1,progress:null,error:null,uploadedFile:null,extractedText:null,extractionResult:null,originalFileUploadProgress:null,originalFileUrl:null,aiExtractedData:null,convertedMaterial:null,processingOptions:{maxOutputTokens:4096,topK:1,topP:.1,preserveFormatting:!0,extractImages:!0,extractLinks:!0}},Id=yp()(Bg((e,n)=>({...F_,setUploadedFile:t=>{const{originalFileUrl:r}=n();r&&t&&t.name!==r&&E5.deleteOriginalFile(r).catch(i=>{console.warn("Failed to delete previous original file:",i)}),e({uploadedFile:t,extractedText:null,extractionResult:null,originalFileUploadProgress:null,originalFileUrl:null,aiExtractedData:null,convertedMaterial:null,error:null})},extractTextFromFile:async()=>{const{uploadedFile:t}=n();if(!t){e({error:"No file uploaded"});return}try{const r=FT(t);if(!r.isValid){e({error:r.error||"Invalid file"});return}}catch(r){console.error("File validation error:",r),e({error:"Failed to validate file"});return}e({isProcessing:!0,error:null,progress:{stage:"extracting",percentage:10,currentOperation:`Extracting text from ${PT(t)}...`}});try{const r=await MT(t);if(!r||!r.text||r.text.trim().length===0)throw new Error("No text content could be extracted from the file");const i=r.text.trim().split(/\s+/).length;i<5&&console.warn("Very short text extracted:",{wordCount:i,text:r.text.substring(0,100)}),e({extractedText:r.text,extractionResult:r,progress:{stage:"extracting",percentage:100,currentOperation:"Text extraction complete!"}}),setTimeout(()=>{e({isProcessing:!1,progress:null})},500)}catch(r){console.error("Text extraction error:",r);const i=r;let a="Failed to extract text from file";i.code==="PDF_EXTRACTION_ERROR"?a="Could not extract text from PDF. The file may be image-based or corrupted.":i.code==="DOCX_EXTRACTION_ERROR"?a="Could not extract text from Word document. Please check the file is not corrupted.":i.code==="PPTX_EXTRACTION_ERROR"?a="Could not extract text from PowerPoint presentation. Please ensure it contains text content.":i.message&&(a=i.message),e({error:a,isProcessing:!1,progress:null})}},processWithAI:async(t,r,i)=>{var h;const{uploadedFile:a,extractedText:s,extractionResult:l,processingOptions:c}=n();if(!(t!=null&&t.trim())){e({error:"Course ID is required for AI processing"});return}if(!(r!=null&&r.trim())){e({error:"Author ID is required for AI processing"});return}if(!a||!(s!=null&&s.trim())){e({error:"No file or extracted text available for AI processing"});return}const d=s.trim().split(/\s+/).length;if(d<10){e({error:"Extracted text is too short for meaningful AI processing (minimum 10 words required)"});return}d>5e4&&console.warn("Very large text content detected:",{wordCount:d,fileName:a.name}),e({isProcessing:!0,error:null,progress:{stage:"analyzing",percentage:0,currentOperation:"Initializing AI processing..."}});try{let g;try{g=Yw(i)}catch(w){console.error("Service initialization error:",w);let C="Material import service not available.";w instanceof Error&&(w.message.includes("API key")?C="API key not configured. Please set VITE_GEMINI_MATERIAL_API_KEY or VITE_GEMINI_API_KEY environment variable.":C=`Service error: ${w.message}`),e({error:C,isProcessing:!1,progress:null});return}const b={maxOutputTokens:Math.min(Math.max(c.maxOutputTokens||16384,8192),32768),topK:Math.min(Math.max(c.topK||3,1),10),topP:Math.min(Math.max(c.topP||.9,.1),1),preserveFormatting:!!c.preserveFormatting,extractImages:!!c.extractImages,extractLinks:!!c.extractLinks},m=12e4,x=new Promise((w,C)=>{setTimeout(()=>C(new Error("AI processing timeout - please try with a smaller file")),m)}),y=await Promise.race([g.processMaterialContent(s,a.name,a.type,b,w=>{w&&typeof w=="object"&&e({progress:w})},l==null?void 0:l.metadata),x]);if(!y||typeof y!="object")throw new Error("Invalid AI processing result received");(h=y.title)!=null&&h.trim()||(console.warn("AI result missing title, using filename as fallback"),y.title=a.name.replace(/\.[^/.]+$/,"")||"Untitled Material"),(!y.sections||!Array.isArray(y.sections)||y.sections.length===0)&&(console.warn("AI result missing sections, creating default section"),y.sections=[{title:"Main Content",content:"Content extracted from uploaded material.",subsections:[],images:[],links:[]}]);const A=g.convertToMaterialFormat(y,t,r,l==null?void 0:l.metadata);e({aiExtractedData:y,convertedMaterial:A,isProcessing:!1,progress:{stage:"complete",percentage:100,currentOperation:"Material processing complete!"}}),setTimeout(()=>{e({progress:null})},1500)}catch(g){console.error("AI processing error:",g);let b="Failed to process material with AI";g instanceof Error&&(g.message.includes("timeout")?b="AI processing timed out. Please try with a smaller file or simpler content.":g.message.includes("API key")||g.message.includes("API_KEY_INVALID")?b="Invalid API key. Please check your API key configuration.":g.message.includes("RATE_LIMIT")||g.message.includes("rate limit")?b="API rate limit exceeded. Please wait a few minutes before trying again.":g.message.includes("SAFETY")||g.message.includes("safety")?b="Content flagged by safety filters. Please try with different content.":g.message.includes("network")||g.message.includes("fetch")?b="Network error. Please check your internet connection and try again.":b=`AI processing failed: ${g.message}`),e({error:b,isProcessing:!1,progress:null})}},uploadOriginalFile:async(t,r)=>{const{uploadedFile:i}=n();if(!i){e({error:"No file selected for upload"});return}try{e({originalFileUploadProgress:0,error:null});const a=i.size>25*1024*1024,s=(i.size/1024/1024).toFixed(1);console.log(` Starting original file upload to Firebase Storage... (${s}MB, ${a?"chunked":"standard"} upload)`);const l=await E5.uploadOriginalFile(i,t,r,c=>{e({originalFileUploadProgress:c})});e({originalFileUrl:l.url,originalFileUploadProgress:null}),console.log(" Original file uploaded successfully:",{url:l.url,size:`${s}MB`,method:a?"chunked":"standard"})}catch(a){throw console.error(" Original file upload failed:",a),e({error:a instanceof Error?a.message:"Failed to upload original file",originalFileUploadProgress:null}),a}},replaceOriginalFile:async(t,r,i)=>{const{uploadedFile:a}=n();if(!a){e({error:"No file selected for replacement"});return}try{e({originalFileUploadProgress:0,error:null}),console.log(" Replacing original file in Firebase Storage...");const s=await E5.replaceOriginalFile(a,t,r,i,l=>{e({originalFileUploadProgress:l})});e({originalFileUrl:s.url,originalFileUploadProgress:null}),console.log(" Original file replaced successfully:",s.url)}catch(s){throw console.error(" Original file replacement failed:",s),e({error:s instanceof Error?s.message:"Failed to replace original file",originalFileUploadProgress:null}),s}},resetImport:()=>{try{Yw().cleanupBlobUrls()}catch(t){console.warn("Failed to cleanup blob URLs during reset:",t)}e(F_)},setProcessingOptions:t=>{e(r=>({processingOptions:{...r.processingOptions,...t}}))},setError:t=>{e({error:t})}}),{name:"material-import-store",partialize:e=>({processingOptions:e.processingOptions})})),xF=()=>{const e=Id();return{setUploadedFile:e.setUploadedFile,extractTextFromFile:e.extractTextFromFile,processWithAI:e.processWithAI,resetImport:e.resetImport,setProcessingOptions:e.setProcessingOptions,setError:e.setError}},vF=()=>{const e=Id();return{isProcessing:e.isProcessing,progress:e.progress,error:e.error,uploadedFile:e.uploadedFile,extractedText:e.extractedText,aiExtractedData:e.aiExtractedData,convertedMaterial:e.convertedMaterial,processingOptions:e.processingOptions}},Gw=async(e,n,t,r)=>{const i=Id.getState(),{aiExtractedData:a,extractionResult:s}=i;if(!a)throw new Error("No AI result available for conversion");return await Yw().convertToMaterialFormatWithImageUpload(a,e,n,t,s==null?void 0:s.metadata,r)},wF=()=>{const{extractedText:e,isProcessing:n}=Id();return!n&&!!(e!=null&&e.trim())},SF=()=>{const{convertedMaterial:e,isProcessing:n}=Id();return!n&&!!e},rhe=Object.freeze(Object.defineProperty({__proto__:null,convertMaterialWithImageUpload:Gw,useIsImportComplete:SF,useIsReadyForAI:wF,useMaterialImportActions:xF,useMaterialImportStatus:vF,useMaterialImportStore:Id},Symbol.toStringTag,{value:"Module"}));var c1={},P_;function AF(){if(P_)return c1;P_=1;var e=Hd();Object.defineProperty(c1,"__esModule",{value:!0}),c1.default=void 0;var n=e(Vd()),t=Wd();return c1.default=(0,n.default)((0,t.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),c1}var CF=AF();const I6=ns(CF),_5=({onDelete:e,itemType:n})=>{const[t,r]=it.useState(!1),i=()=>{r(!0)},a=()=>{r(!1)},s=()=>{e(),a()};return f.jsxs(f.Fragment,{children:[f.jsx(Cn,{onClick:i,size:"small",children:f.jsx(I6,{})}),f.jsxs(Xi,{open:t,onClose:a,children:[f.jsx(pa,{children:`Delete ${n}`}),f.jsx(Zi,{children:f.jsx(Fl,{children:`Are you sure you want to delete this ${n}? This action cannot be undone.`})}),f.jsxs(ma,{children:[f.jsx(mt,{onClick:a,color:"primary",children:"Cancel"}),f.jsx(mt,{onClick:s,color:"secondary",children:"Delete"})]})]})]})},zT=({sections:e,selected:n,onAddSection:t,onAddSubsection:r,onAddSubSubsection:i,onSelectSection:a,onUpdateSectionTitle:s,onUpdateSubsectionTitle:l,onUpdateSubSubsectionTitle:c,onDeleteSection:d,onDeleteSubsection:h,onDeleteSubSubsection:g,isViewMode:b=!1})=>{const[m,x]=X.useState(null),[y,A]=X.useState(null),[w,C]=X.useState(null),[j,F]=X.useState(""),[z,L]=X.useState(e.map(()=>!0)),[k,M]=X.useState(e.reduce((Y,te,U)=>(Y[U]=te.subsections.map(()=>!0),Y),{}));X.useEffect(()=>{L(e.map(()=>!0))},[e]),X.useEffect(()=>{const Y=e.reduce((te,U,B)=>(te[B]=U.subsections.map(()=>!0),te),{});M(Y)},[e]);const q=Y=>{const te=[...z];te[Y]=!te[Y],L(te)},Q=(Y,te)=>{const U={...k};U[Y][te]=!U[Y][te],M(U)},T=(Y,te)=>{m!==null?s(m,j):y?l(y.section,y.subsection,j):w&&c(w.section,w.subsection,w.subSubsection,j),x(Y),A(null),C(null),F(te)},O=Y=>{s(Y,j),x(null),F("")},R=(Y,te,U)=>{m!==null?s(m,j):y?l(y.section,y.subsection,j):w&&c(w.section,w.subsection,w.subSubsection,j),x(null),A({section:Y,subsection:te}),C(null),F(U)},N=(Y,te)=>{l(Y,te,j),A(null),F("")},K=(Y,te,U,B)=>{m!==null?s(m,j):y?l(y.section,y.subsection,j):w&&c(w.section,w.subsection,w.subSubsection,j),x(null),A(null),C({section:Y,subsection:te,subSubsection:U}),F(B)},H=(Y,te,U)=>{c(Y,te,U,j),C(null),F("")},G=(Y,te,U,B)=>n.sectionIndex===Y&&n.subsectionIndex===te&&n.subSubsectionIndex===U&&n.type===B,le=mM||{width:"320px",minWidth:"320px",maxWidth:"320px",backgroundColor:"#F8FAFC",borderRight:"1px solid #E2E8F0"};return f.jsxs(ge,{sx:{width:le.width,minWidth:le.minWidth,maxWidth:le.maxWidth,backgroundColor:le.backgroundColor,borderRight:le.borderRight,height:"100%",display:"flex",flexDirection:"column"},children:[f.jsxs(ge,{sx:{p:3,pb:2},children:[f.jsxs(ce,{variant:"h6",sx:{fontFamily:ht.typography.h6.fontFamily,fontWeight:ht.typography.h6.fontWeight,color:ht.palette.text.primary,mb:2,display:"flex",alignItems:"center",gap:1},children:[f.jsx(G9,{sx:{fontSize:20}}),"Outline"]}),!b&&f.jsx(mt,{variant:"contained",startIcon:f.jsx(bu,{}),onClick:t,sx:{width:"100%",borderRadius:Zt.xl,textTransform:"none",fontWeight:600},children:"Add Section"})]}),f.jsx(ts,{}),f.jsx(ge,{sx:{flex:1,overflow:"auto"},children:f.jsxs(Uf,{sx:{p:0},children:[f.jsx(Cd,{onClick:()=>a("header"),sx:{cursor:"pointer",backgroundColor:G(void 0,void 0,void 0,"header")?ht.palette.primary.light:"transparent",borderLeft:G(void 0,void 0,void 0,"header")?`4px solid ${ht.palette.primary.main}`:"4px solid transparent",transition:ht.transitions.create(["background-color","border-color"]),"&:hover":{backgroundColor:ht.palette.action.hover}},children:f.jsx(Il,{primary:"Header",sx:{"& .MuiListItemText-primary":{fontFamily:ht.typography.body1.fontFamily,fontWeight:G(void 0,void 0,void 0,"header")?600:400,color:G(void 0,void 0,void 0,"header")?ht.palette.primary.main:ht.palette.text.primary}}})}),e.map((Y,te)=>f.jsxs(ge,{children:[f.jsx(Cd,{onClick:()=>a(te),sx:{cursor:"pointer",backgroundColor:G(te)?ht.palette.primary.light:"transparent",borderLeft:G(te)?`4px solid ${ht.palette.primary.main}`:"4px solid transparent",transition:ht.transitions.create(["background-color","border-color"]),"&:hover":{backgroundColor:ht.palette.action.hover}},children:m===te?f.jsxs(ge,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[f.jsx(Bt,{value:j,onChange:U=>F(U.target.value),size:"small",variant:"outlined",disabled:b,sx:{flex:1}}),!b&&f.jsx(Cn,{onClick:()=>O(te),size:"small",color:"primary",children:f.jsx(I0,{})})]}):f.jsxs(f.Fragment,{children:[f.jsx(Il,{primary:Y.title,sx:{"& .MuiListItemText-primary":{fontFamily:ht.typography.body1.fontFamily,fontWeight:G(te)?600:400,color:G(te)?ht.palette.primary.main:ht.palette.text.primary}}}),!b&&f.jsxs(ge,{sx:{display:"flex",alignItems:"center",gap:.5},children:[f.jsx(si,{title:"Edit Section",arrow:!0,children:f.jsx(Cn,{onClick:U=>{U.stopPropagation(),T(te,Y.title)},size:"small",sx:{color:ht.palette.primary.main},children:f.jsx(vu,{fontSize:"small"})})}),f.jsx(_5,{onDelete:()=>d(te),itemType:"section"})]}),Y.subsections.length>0&&f.jsx(Cn,{onClick:U=>{U.stopPropagation(),q(te)},size:"small",sx:{ml:1},children:z[te]?f.jsx(ag,{fontSize:"small"}):f.jsx(Vo,{fontSize:"small"})}),!b&&f.jsx(si,{title:"Add Subsection",arrow:!0,children:f.jsx(Cn,{onClick:U=>{U.stopPropagation(),r(te)},size:"small",sx:{color:ht.palette.success.main},children:f.jsx(bu,{fontSize:"small"})})})]})}),f.jsx(sg,{in:z[te],timeout:"auto",unmountOnExit:!0,children:f.jsx(Uf,{sx:{pl:2},children:Y.subsections.map((U,B)=>f.jsxs(ge,{children:[f.jsx(Cd,{onClick:()=>a(te,B),sx:{cursor:"pointer",backgroundColor:G(te,B)?ht.palette.primary.light:"transparent",borderLeft:G(te,B)?`4px solid ${ht.palette.primary.main}`:"4px solid transparent",transition:ht.transitions.create(["background-color","border-color"]),"&:hover":{backgroundColor:ht.palette.action.hover}},children:y&&y.section===te&&y.subsection===B?f.jsxs(ge,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[f.jsx(Bt,{value:j,onChange:re=>F(re.target.value),size:"small",variant:"outlined",disabled:b,sx:{flex:1}}),!b&&f.jsx(Cn,{onClick:()=>N(te,B),size:"small",color:"primary",children:f.jsx(I0,{})})]}):f.jsxs(f.Fragment,{children:[f.jsx(Il,{primary:U.title,sx:{"& .MuiListItemText-primary":{fontFamily:ht.typography.body2.fontFamily,fontWeight:G(te,B)?600:400,color:G(te,B)?ht.palette.primary.main:ht.palette.text.primary}}}),!b&&f.jsxs(ge,{sx:{display:"flex",alignItems:"center",gap:.5},children:[f.jsx(si,{title:"Edit Subsection",arrow:!0,children:f.jsx(Cn,{onClick:re=>{re.stopPropagation(),R(te,B,U.title)},size:"small",sx:{color:ht.palette.primary.main},children:f.jsx(vu,{fontSize:"small"})})}),f.jsx(_5,{onDelete:()=>h(te,B),itemType:"subsection"})]}),U.subSubsections.length>0&&f.jsx(Cn,{onClick:re=>{re.stopPropagation(),Q(te,B)},size:"small",sx:{ml:1},children:k[te][B]?f.jsx(ag,{fontSize:"small"}):f.jsx(Vo,{fontSize:"small"})}),!b&&f.jsx(si,{title:"Add Sub-subsection",arrow:!0,children:f.jsx(Cn,{onClick:re=>{re.stopPropagation(),i(te,B)},size:"small",sx:{color:ht.palette.success.main},children:f.jsx(bu,{fontSize:"small"})})})]})}),f.jsx(sg,{in:k[te][B],timeout:"auto",unmountOnExit:!0,children:f.jsx(Uf,{sx:{pl:2},children:U.subSubsections.map((re,Z)=>f.jsx(Cd,{onClick:()=>a(te,B,Z),sx:{cursor:"pointer",backgroundColor:G(te,B,Z)?ht.palette.primary.light:"transparent",borderLeft:G(te,B,Z)?`4px solid ${ht.palette.primary.main}`:"4px solid transparent",transition:ht.transitions.create(["background-color","border-color"]),"&:hover":{backgroundColor:ht.palette.action.hover}},children:w&&w.section===te&&w.subsection===B&&w.subSubsection===Z?f.jsxs(ge,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[f.jsx(Bt,{value:j,onChange:ne=>F(ne.target.value),size:"small",variant:"outlined",disabled:b,sx:{flex:1}}),!b&&f.jsx(Cn,{onClick:()=>H(te,B,Z),size:"small",color:"primary",children:f.jsx(I0,{})})]}):f.jsxs(f.Fragment,{children:[f.jsx(Il,{primary:re.title,sx:{"& .MuiListItemText-primary":{fontFamily:ht.typography.body2.fontFamily,fontWeight:G(te,B,Z)?600:400,color:G(te,B,Z)?ht.palette.primary.main:ht.palette.text.secondary,fontSize:"0.875rem"}}}),!b&&f.jsxs(ge,{sx:{display:"flex",alignItems:"center",gap:.5},children:[f.jsx(si,{title:"Edit Sub-subsection",arrow:!0,children:f.jsx(Cn,{onClick:ne=>{ne.stopPropagation(),K(te,B,Z,re.title)},size:"small",sx:{color:ht.palette.primary.main},children:f.jsx(vu,{fontSize:"small"})})}),f.jsx(_5,{onDelete:()=>g(te,B,Z),itemType:"subSubsection"})]})]})},re.id))})})]},U.id))})})]},Y.id)),f.jsx(Cd,{onClick:()=>a("footer"),sx:{cursor:"pointer",backgroundColor:G(void 0,void 0,void 0,"footer")?ht.palette.primary.light:"transparent",borderLeft:G(void 0,void 0,void 0,"footer")?`4px solid ${ht.palette.primary.main}`:"4px solid transparent",transition:ht.transitions.create(["background-color","border-color"]),"&:hover":{backgroundColor:ht.palette.action.hover}},children:f.jsx(Il,{primary:"Footer",sx:{"& .MuiListItemText-primary":{fontFamily:ht.typography.body1.fontFamily,fontWeight:G(void 0,void 0,void 0,"footer")?600:400,color:G(void 0,void 0,void 0,"footer")?ht.palette.primary.main:ht.palette.text.primary}}})})]})})]})},qT=({returnToSelection:e=!1,courseId:n})=>{const t=ea(),[r]=qg(),i=r.get("course"),a=()=>{const s=n||i;t(e||!s?"/supplemental-materials":`/supplemental-materials?course=${s}`)};return f.jsx(mt,{variant:"text",color:"primary",startIcon:f.jsx(_T,{}),onClick:a,className:"supplemental-back-button",children:e?"Course Selection":"Course Materials"})},EF=({sectionId:e,images:n,onImagesChange:t})=>{const[r,i]=X.useState(!1),[a,s]=X.useState(""),[l,c]=X.useState("success"),[d,h]=X.useState(null),[g,b]=X.useState(""),m=uh(),x=async F=>{if(F.target.files){const z=Array.from(F.target.files),L=[];for(const k of z)try{const M=await C(k),q=await j(M);L.push({url:q.url,title:`Image ${n.length+L.length+1}`,id:Ri()})}catch{s("Failed to upload images"),c("error"),i(!0)}t([...n,...L]),s("Image(s) uploaded successfully"),c("success"),i(!0)}},y=F=>{h(F),b(F.title)},A=()=>{if(d){const F=n.map(z=>z.url===d.url?{...z,title:g}:z);t(F),h(null),b("")}},w=F=>{const z=n.filter(L=>L.url!==F.url);t(z)},C=F=>new Promise((z,L)=>{F.size>5*1024*1024?RT.imageFileResizer(F,500,500,"JPEG",70,0,k=>{typeof k=="string"?L(new Error("Compression returned a string instead of a file")):z(k)},"file"):z(F)}),j=F=>new Promise((z,L)=>{const k=xu(m,`materials/${e}/${F.name}`);Kf(k,F).then(M=>{Od(M.ref).then(q=>{z({url:q,path:M.ref.fullPath})})}).catch(M=>L(M))});return f.jsxs(ge,{children:[f.jsxs(ge,{sx:{display:"flex",alignItems:"center",mb:2},children:[f.jsx(Q9,{sx:{mr:1,color:ht.palette.primary.main}}),f.jsx(ce,{variant:"h6",sx:{fontWeight:600,color:ht.palette.text.primary},children:"Images"}),f.jsx(Dn,{label:`${n.length} image${n.length!==1?"s":""}`,size:"small",sx:{ml:2}})]}),f.jsxs(mt,{variant:"contained",component:"label",startIcon:f.jsx(bu,{}),sx:{mb:3,textTransform:"none",borderRadius:Zt.xl},children:["Add Images",f.jsx("input",{type:"file",hidden:!0,accept:"image/*",multiple:!0,onChange:x})]}),n.length>0&&f.jsx(vt,{container:!0,spacing:2,children:n.map((F,z)=>f.jsx(vt,{item:!0,xs:12,sm:6,md:4,children:f.jsxs(Xa,{sx:{borderRadius:Zt.xl,border:`1px solid ${ht.palette.divider}`,transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{boxShadow:ht.shadows[4],transform:"translateY(-2px)"}},children:[f.jsxs(ge,{sx:{position:"relative"},children:[f.jsx("img",{src:F.url,alt:F.title,style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:`${Zt.xl} ${Zt.xl} 0 0`}}),f.jsxs(ge,{sx:{position:"absolute",top:8,right:8,display:"flex",gap:.5},children:[f.jsx(Cn,{size:"small",onClick:()=>y(F),sx:{backgroundColor:"rgba(255, 255, 255, 0.9)","&:hover":{backgroundColor:ht.palette.primary.main,color:"white"}},children:f.jsx(vu,{fontSize:"small"})}),f.jsx(Cn,{size:"small",onClick:()=>w(F),sx:{backgroundColor:"rgba(255, 255, 255, 0.9)","&:hover":{backgroundColor:ht.palette.error.main,color:"white"}},children:f.jsx(Ed,{fontSize:"small"})})]})]}),f.jsx(Za,{sx:{p:2},children:f.jsx(ce,{variant:"body2",sx:{fontWeight:500,color:ht.palette.text.primary,wordBreak:"break-word"},children:F.title})})]})},F.id||z))}),f.jsxs(Xi,{open:!!d,onClose:()=>h(null),maxWidth:"sm",fullWidth:!0,children:[f.jsx(pa,{sx:{pb:1},children:f.jsxs(ge,{sx:{display:"flex",alignItems:"center"},children:[f.jsx(vu,{sx:{mr:1,color:ht.palette.primary.main}}),"Edit Image Title"]})}),f.jsx(Zi,{children:f.jsx(Bt,{fullWidth:!0,label:"Image Title",value:g,onChange:F=>b(F.target.value),variant:"outlined",sx:{mt:2}})}),f.jsxs(ma,{sx:{p:3,pt:1},children:[f.jsx(mt,{onClick:()=>h(null),startIcon:f.jsx(v6,{}),sx:{textTransform:"none"},children:"Cancel"}),f.jsx(mt,{onClick:A,variant:"contained",startIcon:f.jsx(I0,{}),sx:{textTransform:"none"},children:"Save Changes"})]})]}),f.jsx(rl,{open:r,autoHideDuration:6e3,onClose:()=>i(!1),children:f.jsx(vr,{onClose:()=>i(!1),severity:l,sx:{width:"100%"},children:a})})]})},_F=({links:e,onLinksChange:n})=>{const t=()=>{const s={title:"",url:"",description:""};n([...e,s])},r=s=>{const l=e.filter((c,d)=>d!==s);n(l)},i=(s,l,c)=>{const d=[...e];d[s][l]=c,n(d)},a=s=>{try{return new URL(s),!0}catch{return!1}};return f.jsxs(ge,{children:[f.jsxs(ge,{sx:{display:"flex",alignItems:"center",mb:2},children:[f.jsx(K9,{sx:{mr:1,color:ht.palette.primary.main}}),f.jsx(ce,{variant:"h6",sx:{fontWeight:600,color:ht.palette.text.primary},children:"Links"}),f.jsx(Dn,{label:`${e.length} link${e.length!==1?"s":""}`,size:"small",sx:{ml:2}})]}),f.jsx(mt,{variant:"contained",onClick:t,startIcon:f.jsx(bu,{}),sx:{mb:3,textTransform:"none",borderRadius:Zt.xl},children:"Add Link"}),e.length>0&&f.jsx(ge,{sx:{display:"flex",flexDirection:"column",gap:2},children:e.map((s,l)=>f.jsxs(Xa,{sx:{borderRadius:Zt.xl,border:`1px solid ${ht.palette.divider}`,transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{boxShadow:ht.shadows[2]}},children:[f.jsx(Za,{sx:{p:3},children:f.jsxs(vt,{container:!0,spacing:2,children:[f.jsx(vt,{item:!0,xs:12,sm:6,children:f.jsx(Bt,{fullWidth:!0,label:"Link Title",value:s.title,onChange:c=>i(l,"title",c.target.value),variant:"outlined",size:"small",placeholder:"Enter link title",sx:{"& .MuiOutlinedInput-root":{borderRadius:Zt.xl}}})}),f.jsx(vt,{item:!0,xs:12,sm:6,children:f.jsx(Bt,{fullWidth:!0,label:"URL",value:s.url,onChange:c=>i(l,"url",c.target.value),variant:"outlined",size:"small",placeholder:"https://example.com",error:s.url&&!a(s.url),helperText:s.url&&!a(s.url)?"Please enter a valid URL":"",sx:{"& .MuiOutlinedInput-root":{borderRadius:Zt.xl}}})}),f.jsx(vt,{item:!0,xs:12,children:f.jsx(Bt,{fullWidth:!0,label:"Description (Optional)",value:s.description,onChange:c=>i(l,"description",c.target.value),variant:"outlined",size:"small",multiline:!0,rows:2,placeholder:"Enter link description",sx:{"& .MuiOutlinedInput-root":{borderRadius:Zt.xl}}})})]})}),f.jsx(ts,{}),f.jsxs(GN,{sx:{p:2,justifyContent:"space-between"},children:[f.jsxs(ge,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.url&&a(s.url)&&f.jsx(si,{title:"Open link",arrow:!0,children:f.jsx(Cn,{size:"small",onClick:()=>window.open(s.url,"_blank"),sx:{color:ht.palette.primary.main,"&:hover":{backgroundColor:ht.palette.primary.light}},children:f.jsx(X9,{fontSize:"small"})})}),f.jsxs(ce,{variant:"caption",color:"text.secondary",children:["Link ",l+1]})]}),f.jsx(si,{title:"Delete link",arrow:!0,children:f.jsx(Cn,{size:"small",onClick:()=>r(l),sx:{color:ht.palette.error.main,"&:hover":{backgroundColor:ht.palette.error.light}},children:f.jsx(Ed,{fontSize:"small"})})})]})]},l))})]})};var BT=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,kF=typeof self=="object"&&self&&self.Object===Object&&self,Hc=BT||kF||Function("return this")(),nh=Hc.Symbol,UT=Object.prototype,jF=UT.hasOwnProperty,NF=UT.toString,d1=nh?nh.toStringTag:void 0;function TF(e){var n=jF.call(e,d1),t=e[d1];try{e[d1]=void 0;var r=!0}catch{}var i=NF.call(e);return r&&(n?e[d1]=t:delete e[d1]),i}var OF=Object.prototype,IF=OF.toString;function DF(e){return IF.call(e)}var LF="[object Null]",RF="[object Undefined]",z_=nh?nh.toStringTag:void 0;function um(e){return e==null?e===void 0?RF:LF:z_&&z_ in Object(e)?TF(e):DF(e)}function Pd(e){return e!=null&&typeof e=="object"}var cp=Array.isArray;function dh(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}function $T(e){return e}var MF="[object AsyncFunction]",FF="[object Function]",PF="[object GeneratorFunction]",zF="[object Proxy]";function D6(e){if(!dh(e))return!1;var n=um(e);return n==FF||n==PF||n==MF||n==zF}var k5=Hc["__core-js_shared__"],q_=function(){var e=/[^.]+$/.exec(k5&&k5.keys&&k5.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function qF(e){return!!q_&&q_ in e}var BF=Function.prototype,UF=BF.toString;function xp(e){if(e!=null){try{return UF.call(e)}catch{}try{return e+""}catch{}}return""}var $F=/[\\^$.*+?()[\]{}|]/g,HF=/^\[object .+?Constructor\]$/,WF=Function.prototype,VF=Object.prototype,YF=WF.toString,GF=VF.hasOwnProperty,QF=RegExp("^"+YF.call(GF).replace($F,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function KF(e){if(!dh(e)||qF(e))return!1;var n=D6(e)?QF:HF;return n.test(xp(e))}function XF(e,n){return e==null?void 0:e[n]}function vp(e,n){var t=XF(e,n);return KF(t)?t:void 0}var Qw=vp(Hc,"WeakMap"),B_=Object.create,ZF=function(){function e(){}return function(n){if(!dh(n))return{};if(B_)return B_(n);e.prototype=n;var t=new e;return e.prototype=void 0,t}}();function JF(e,n,t){switch(t.length){case 0:return e.call(n);case 1:return e.call(n,t[0]);case 2:return e.call(n,t[0],t[1]);case 3:return e.call(n,t[0],t[1],t[2])}return e.apply(n,t)}function eP(e,n){var t=-1,r=e.length;for(n||(n=Array(r));++t<r;)n[t]=e[t];return n}var tP=800,nP=16,rP=Date.now;function iP(e){var n=0,t=0;return function(){var r=rP(),i=nP-(r-t);if(t=r,i>0){if(++n>=tP)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}function aP(e){return function(){return e}}var Cx=function(){try{var e=vp(Object,"defineProperty");return e({},"",{}),e}catch{}}(),sP=Cx?function(e,n){return Cx(e,"toString",{configurable:!0,enumerable:!1,value:aP(n),writable:!0})}:$T,oP=iP(sP);function lP(e,n){for(var t=-1,r=e==null?0:e.length;++t<r&&n(e[t],t,e)!==!1;);return e}var uP=9007199254740991,cP=/^(?:0|[1-9]\d*)$/;function HT(e,n){var t=typeof e;return n=n??uP,!!n&&(t=="number"||t!="symbol"&&cP.test(e))&&e>-1&&e%1==0&&e<n}function L6(e,n,t){n=="__proto__"&&Cx?Cx(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t}function $g(e,n){return e===n||e!==e&&n!==n}var dP=Object.prototype,fP=dP.hasOwnProperty;function WT(e,n,t){var r=e[n];(!(fP.call(e,n)&&$g(r,t))||t===void 0&&!(n in e))&&L6(e,n,t)}function hP(e,n,t,r){var i=!t;t||(t={});for(var a=-1,s=n.length;++a<s;){var l=n[a],c=void 0;c===void 0&&(c=e[l]),i?L6(t,l,c):WT(t,l,c)}return t}var U_=Math.max;function pP(e,n,t){return n=U_(n===void 0?e.length-1:n,0),function(){for(var r=arguments,i=-1,a=U_(r.length-n,0),s=Array(a);++i<a;)s[i]=r[n+i];i=-1;for(var l=Array(n+1);++i<n;)l[i]=r[i];return l[n]=t(s),JF(e,this,l)}}function mP(e,n){return oP(pP(e,n,$T),e+"")}var gP=9007199254740991;function VT(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=gP}function sv(e){return e!=null&&VT(e.length)&&!D6(e)}function bP(e,n,t){if(!dh(t))return!1;var r=typeof n;return(r=="number"?sv(t)&&HT(n,t.length):r=="string"&&n in t)?$g(t[n],e):!1}function yP(e){return mP(function(n,t){var r=-1,i=t.length,a=i>1?t[i-1]:void 0,s=i>2?t[2]:void 0;for(a=e.length>3&&typeof a=="function"?(i--,a):void 0,s&&bP(t[0],t[1],s)&&(a=i<3?void 0:a,i=1),n=Object(n);++r<i;){var l=t[r];l&&e(n,l,r,a)}return n})}var xP=Object.prototype;function R6(e){var n=e&&e.constructor,t=typeof n=="function"&&n.prototype||xP;return e===t}function vP(e,n){for(var t=-1,r=Array(e);++t<e;)r[t]=n(t);return r}var wP="[object Arguments]";function $_(e){return Pd(e)&&um(e)==wP}var YT=Object.prototype,SP=YT.hasOwnProperty,AP=YT.propertyIsEnumerable,Kw=$_(function(){return arguments}())?$_:function(e){return Pd(e)&&SP.call(e,"callee")&&!AP.call(e,"callee")};function CP(){return!1}var GT=typeof exports=="object"&&exports&&!exports.nodeType&&exports,H_=GT&&typeof module=="object"&&module&&!module.nodeType&&module,EP=H_&&H_.exports===GT,W_=EP?Hc.Buffer:void 0,_P=W_?W_.isBuffer:void 0,hg=_P||CP,kP="[object Arguments]",jP="[object Array]",NP="[object Boolean]",TP="[object Date]",OP="[object Error]",IP="[object Function]",DP="[object Map]",LP="[object Number]",RP="[object Object]",MP="[object RegExp]",FP="[object Set]",PP="[object String]",zP="[object WeakMap]",qP="[object ArrayBuffer]",BP="[object DataView]",UP="[object Float32Array]",$P="[object Float64Array]",HP="[object Int8Array]",WP="[object Int16Array]",VP="[object Int32Array]",YP="[object Uint8Array]",GP="[object Uint8ClampedArray]",QP="[object Uint16Array]",KP="[object Uint32Array]",fi={};fi[UP]=fi[$P]=fi[HP]=fi[WP]=fi[VP]=fi[YP]=fi[GP]=fi[QP]=fi[KP]=!0;fi[kP]=fi[jP]=fi[qP]=fi[NP]=fi[BP]=fi[TP]=fi[OP]=fi[IP]=fi[DP]=fi[LP]=fi[RP]=fi[MP]=fi[FP]=fi[PP]=fi[zP]=!1;function XP(e){return Pd(e)&&VT(e.length)&&!!fi[um(e)]}function M6(e){return function(n){return e(n)}}var QT=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Q1=QT&&typeof module=="object"&&module&&!module.nodeType&&module,ZP=Q1&&Q1.exports===QT,j5=ZP&&BT.process,K0=function(){try{var e=Q1&&Q1.require&&Q1.require("util").types;return e||j5&&j5.binding&&j5.binding("util")}catch{}}(),V_=K0&&K0.isTypedArray,F6=V_?M6(V_):XP,JP=Object.prototype,ez=JP.hasOwnProperty;function KT(e,n){var t=cp(e),r=!t&&Kw(e),i=!t&&!r&&hg(e),a=!t&&!r&&!i&&F6(e),s=t||r||i||a,l=s?vP(e.length,String):[],c=l.length;for(var d in e)(n||ez.call(e,d))&&!(s&&(d=="length"||i&&(d=="offset"||d=="parent")||a&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||HT(d,c)))&&l.push(d);return l}function XT(e,n){return function(t){return e(n(t))}}var tz=XT(Object.keys,Object),nz=Object.prototype,rz=nz.hasOwnProperty;function iz(e){if(!R6(e))return tz(e);var n=[];for(var t in Object(e))rz.call(e,t)&&t!="constructor"&&n.push(t);return n}function az(e){return sv(e)?KT(e):iz(e)}function sz(e){var n=[];if(e!=null)for(var t in Object(e))n.push(t);return n}var oz=Object.prototype,lz=oz.hasOwnProperty;function uz(e){if(!dh(e))return sz(e);var n=R6(e),t=[];for(var r in e)r=="constructor"&&(n||!lz.call(e,r))||t.push(r);return t}function ZT(e){return sv(e)?KT(e,!0):uz(e)}var pg=vp(Object,"create");function cz(){this.__data__=pg?pg(null):{},this.size=0}function dz(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}var fz="__lodash_hash_undefined__",hz=Object.prototype,pz=hz.hasOwnProperty;function mz(e){var n=this.__data__;if(pg){var t=n[e];return t===fz?void 0:t}return pz.call(n,e)?n[e]:void 0}var gz=Object.prototype,bz=gz.hasOwnProperty;function yz(e){var n=this.__data__;return pg?n[e]!==void 0:bz.call(n,e)}var xz="__lodash_hash_undefined__";function vz(e,n){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=pg&&n===void 0?xz:n,this}function dp(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}dp.prototype.clear=cz;dp.prototype.delete=dz;dp.prototype.get=mz;dp.prototype.has=yz;dp.prototype.set=vz;function wz(){this.__data__=[],this.size=0}function ov(e,n){for(var t=e.length;t--;)if($g(e[t][0],n))return t;return-1}var Sz=Array.prototype,Az=Sz.splice;function Cz(e){var n=this.__data__,t=ov(n,e);if(t<0)return!1;var r=n.length-1;return t==r?n.pop():Az.call(n,t,1),--this.size,!0}function Ez(e){var n=this.__data__,t=ov(n,e);return t<0?void 0:n[t][1]}function _z(e){return ov(this.__data__,e)>-1}function kz(e,n){var t=this.__data__,r=ov(t,e);return r<0?(++this.size,t.push([e,n])):t[r][1]=n,this}function Yd(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}Yd.prototype.clear=wz;Yd.prototype.delete=Cz;Yd.prototype.get=Ez;Yd.prototype.has=_z;Yd.prototype.set=kz;var mg=vp(Hc,"Map");function jz(){this.size=0,this.__data__={hash:new dp,map:new(mg||Yd),string:new dp}}function Nz(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function lv(e,n){var t=e.__data__;return Nz(n)?t[typeof n=="string"?"string":"hash"]:t.map}function Tz(e){var n=lv(this,e).delete(e);return this.size-=n?1:0,n}function Oz(e){return lv(this,e).get(e)}function Iz(e){return lv(this,e).has(e)}function Dz(e,n){var t=lv(this,e),r=t.size;return t.set(e,n),this.size+=t.size==r?0:1,this}function wp(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}wp.prototype.clear=jz;wp.prototype.delete=Tz;wp.prototype.get=Oz;wp.prototype.has=Iz;wp.prototype.set=Dz;function Lz(e,n){for(var t=-1,r=n.length,i=e.length;++t<r;)e[i+t]=n[t];return e}var JT=XT(Object.getPrototypeOf,Object),Rz="[object Object]",Mz=Function.prototype,Fz=Object.prototype,e7=Mz.toString,Pz=Fz.hasOwnProperty,zz=e7.call(Object);function qz(e){if(!Pd(e)||um(e)!=Rz)return!1;var n=JT(e);if(n===null)return!0;var t=Pz.call(n,"constructor")&&n.constructor;return typeof t=="function"&&t instanceof t&&e7.call(t)==zz}function Bz(){this.__data__=new Yd,this.size=0}function Uz(e){var n=this.__data__,t=n.delete(e);return this.size=n.size,t}function $z(e){return this.__data__.get(e)}function Hz(e){return this.__data__.has(e)}var Wz=200;function Vz(e,n){var t=this.__data__;if(t instanceof Yd){var r=t.__data__;if(!mg||r.length<Wz-1)return r.push([e,n]),this.size=++t.size,this;t=this.__data__=new wp(r)}return t.set(e,n),this.size=t.size,this}function _c(e){var n=this.__data__=new Yd(e);this.size=n.size}_c.prototype.clear=Bz;_c.prototype.delete=Uz;_c.prototype.get=$z;_c.prototype.has=Hz;_c.prototype.set=Vz;var t7=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Y_=t7&&typeof module=="object"&&module&&!module.nodeType&&module,Yz=Y_&&Y_.exports===t7,G_=Yz?Hc.Buffer:void 0,Q_=G_?G_.allocUnsafe:void 0;function n7(e,n){if(n)return e.slice();var t=e.length,r=Q_?Q_(t):new e.constructor(t);return e.copy(r),r}function Gz(e,n){for(var t=-1,r=e==null?0:e.length,i=0,a=[];++t<r;){var s=e[t];n(s,t,e)&&(a[i++]=s)}return a}function Qz(){return[]}var Kz=Object.prototype,Xz=Kz.propertyIsEnumerable,K_=Object.getOwnPropertySymbols,Zz=K_?function(e){return e==null?[]:(e=Object(e),Gz(K_(e),function(n){return Xz.call(e,n)}))}:Qz;function Jz(e,n,t){var r=n(e);return cp(e)?r:Lz(r,t(e))}function Xw(e){return Jz(e,az,Zz)}var Zw=vp(Hc,"DataView"),Jw=vp(Hc,"Promise"),eS=vp(Hc,"Set"),X_="[object Map]",eq="[object Object]",Z_="[object Promise]",J_="[object Set]",e8="[object WeakMap]",t8="[object DataView]",tq=xp(Zw),nq=xp(mg),rq=xp(Jw),iq=xp(eS),aq=xp(Qw),gu=um;(Zw&&gu(new Zw(new ArrayBuffer(1)))!=t8||mg&&gu(new mg)!=X_||Jw&&gu(Jw.resolve())!=Z_||eS&&gu(new eS)!=J_||Qw&&gu(new Qw)!=e8)&&(gu=function(e){var n=um(e),t=n==eq?e.constructor:void 0,r=t?xp(t):"";if(r)switch(r){case tq:return t8;case nq:return X_;case rq:return Z_;case iq:return J_;case aq:return e8}return n});var sq=Object.prototype,oq=sq.hasOwnProperty;function lq(e){var n=e.length,t=new e.constructor(n);return n&&typeof e[0]=="string"&&oq.call(e,"index")&&(t.index=e.index,t.input=e.input),t}var Ex=Hc.Uint8Array;function P6(e){var n=new e.constructor(e.byteLength);return new Ex(n).set(new Ex(e)),n}function uq(e,n){var t=P6(e.buffer);return new e.constructor(t,e.byteOffset,e.byteLength)}var cq=/\w*$/;function dq(e){var n=new e.constructor(e.source,cq.exec(e));return n.lastIndex=e.lastIndex,n}var n8=nh?nh.prototype:void 0,r8=n8?n8.valueOf:void 0;function fq(e){return r8?Object(r8.call(e)):{}}function r7(e,n){var t=n?P6(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var hq="[object Boolean]",pq="[object Date]",mq="[object Map]",gq="[object Number]",bq="[object RegExp]",yq="[object Set]",xq="[object String]",vq="[object Symbol]",wq="[object ArrayBuffer]",Sq="[object DataView]",Aq="[object Float32Array]",Cq="[object Float64Array]",Eq="[object Int8Array]",_q="[object Int16Array]",kq="[object Int32Array]",jq="[object Uint8Array]",Nq="[object Uint8ClampedArray]",Tq="[object Uint16Array]",Oq="[object Uint32Array]";function Iq(e,n,t){var r=e.constructor;switch(n){case wq:return P6(e);case hq:case pq:return new r(+e);case Sq:return uq(e);case Aq:case Cq:case Eq:case _q:case kq:case jq:case Nq:case Tq:case Oq:return r7(e,t);case mq:return new r;case gq:case xq:return new r(e);case bq:return dq(e);case yq:return new r;case vq:return fq(e)}}function i7(e){return typeof e.constructor=="function"&&!R6(e)?ZF(JT(e)):{}}var Dq="[object Map]";function Lq(e){return Pd(e)&&gu(e)==Dq}var i8=K0&&K0.isMap,Rq=i8?M6(i8):Lq,Mq="[object Set]";function Fq(e){return Pd(e)&&gu(e)==Mq}var a8=K0&&K0.isSet,Pq=a8?M6(a8):Fq,zq=1,a7="[object Arguments]",qq="[object Array]",Bq="[object Boolean]",Uq="[object Date]",$q="[object Error]",s7="[object Function]",Hq="[object GeneratorFunction]",Wq="[object Map]",Vq="[object Number]",o7="[object Object]",Yq="[object RegExp]",Gq="[object Set]",Qq="[object String]",Kq="[object Symbol]",Xq="[object WeakMap]",Zq="[object ArrayBuffer]",Jq="[object DataView]",eB="[object Float32Array]",tB="[object Float64Array]",nB="[object Int8Array]",rB="[object Int16Array]",iB="[object Int32Array]",aB="[object Uint8Array]",sB="[object Uint8ClampedArray]",oB="[object Uint16Array]",lB="[object Uint32Array]",ii={};ii[a7]=ii[qq]=ii[Zq]=ii[Jq]=ii[Bq]=ii[Uq]=ii[eB]=ii[tB]=ii[nB]=ii[rB]=ii[iB]=ii[Wq]=ii[Vq]=ii[o7]=ii[Yq]=ii[Gq]=ii[Qq]=ii[Kq]=ii[aB]=ii[sB]=ii[oB]=ii[lB]=!0;ii[$q]=ii[s7]=ii[Xq]=!1;function Yy(e,n,t,r,i,a){var s,l=n&zq;if(s!==void 0)return s;if(!dh(e))return e;var c=cp(e);if(c)s=lq(e);else{var d=gu(e),h=d==s7||d==Hq;if(hg(e))return n7(e,l);if(d==o7||d==a7||h&&!i)s=h?{}:i7(e);else{if(!ii[d])return i?e:{};s=Iq(e,d,l)}}a||(a=new _c);var g=a.get(e);if(g)return g;a.set(e,s),Pq(e)?e.forEach(function(x){s.add(Yy(x,n,t,x,e,a))}):Rq(e)&&e.forEach(function(x,y){s.set(y,Yy(x,n,t,y,e,a))});var b=Xw,m=c?void 0:b(e);return lP(m||e,function(x,y){m&&(y=x,x=e[y]),WT(s,y,Yy(x,n,t,y,e,a))}),s}var uB=1,cB=4;function D0(e){return Yy(e,uB|cB)}var dB="__lodash_hash_undefined__";function fB(e){return this.__data__.set(e,dB),this}function hB(e){return this.__data__.has(e)}function _x(e){var n=-1,t=e==null?0:e.length;for(this.__data__=new wp;++n<t;)this.add(e[n])}_x.prototype.add=_x.prototype.push=fB;_x.prototype.has=hB;function pB(e,n){for(var t=-1,r=e==null?0:e.length;++t<r;)if(n(e[t],t,e))return!0;return!1}function mB(e,n){return e.has(n)}var gB=1,bB=2;function l7(e,n,t,r,i,a){var s=t&gB,l=e.length,c=n.length;if(l!=c&&!(s&&c>l))return!1;var d=a.get(e),h=a.get(n);if(d&&h)return d==n&&h==e;var g=-1,b=!0,m=t&bB?new _x:void 0;for(a.set(e,n),a.set(n,e);++g<l;){var x=e[g],y=n[g];if(r)var A=s?r(y,x,g,n,e,a):r(x,y,g,e,n,a);if(A!==void 0){if(A)continue;b=!1;break}if(m){if(!pB(n,function(w,C){if(!mB(m,C)&&(x===w||i(x,w,t,r,a)))return m.push(C)})){b=!1;break}}else if(!(x===y||i(x,y,t,r,a))){b=!1;break}}return a.delete(e),a.delete(n),b}function yB(e){var n=-1,t=Array(e.size);return e.forEach(function(r,i){t[++n]=[i,r]}),t}function xB(e){var n=-1,t=Array(e.size);return e.forEach(function(r){t[++n]=r}),t}var vB=1,wB=2,SB="[object Boolean]",AB="[object Date]",CB="[object Error]",EB="[object Map]",_B="[object Number]",kB="[object RegExp]",jB="[object Set]",NB="[object String]",TB="[object Symbol]",OB="[object ArrayBuffer]",IB="[object DataView]",s8=nh?nh.prototype:void 0,N5=s8?s8.valueOf:void 0;function DB(e,n,t,r,i,a,s){switch(t){case IB:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case OB:return!(e.byteLength!=n.byteLength||!a(new Ex(e),new Ex(n)));case SB:case AB:case _B:return $g(+e,+n);case CB:return e.name==n.name&&e.message==n.message;case kB:case NB:return e==n+"";case EB:var l=yB;case jB:var c=r&vB;if(l||(l=xB),e.size!=n.size&&!c)return!1;var d=s.get(e);if(d)return d==n;r|=wB,s.set(e,n);var h=l7(l(e),l(n),r,i,a,s);return s.delete(e),h;case TB:if(N5)return N5.call(e)==N5.call(n)}return!1}var LB=1,RB=Object.prototype,MB=RB.hasOwnProperty;function FB(e,n,t,r,i,a){var s=t&LB,l=Xw(e),c=l.length,d=Xw(n),h=d.length;if(c!=h&&!s)return!1;for(var g=c;g--;){var b=l[g];if(!(s?b in n:MB.call(n,b)))return!1}var m=a.get(e),x=a.get(n);if(m&&x)return m==n&&x==e;var y=!0;a.set(e,n),a.set(n,e);for(var A=s;++g<c;){b=l[g];var w=e[b],C=n[b];if(r)var j=s?r(C,w,b,n,e,a):r(w,C,b,e,n,a);if(!(j===void 0?w===C||i(w,C,t,r,a):j)){y=!1;break}A||(A=b=="constructor")}if(y&&!A){var F=e.constructor,z=n.constructor;F!=z&&"constructor"in e&&"constructor"in n&&!(typeof F=="function"&&F instanceof F&&typeof z=="function"&&z instanceof z)&&(y=!1)}return a.delete(e),a.delete(n),y}var PB=1,o8="[object Arguments]",l8="[object Array]",py="[object Object]",zB=Object.prototype,u8=zB.hasOwnProperty;function qB(e,n,t,r,i,a){var s=cp(e),l=cp(n),c=s?l8:gu(e),d=l?l8:gu(n);c=c==o8?py:c,d=d==o8?py:d;var h=c==py,g=d==py,b=c==d;if(b&&hg(e)){if(!hg(n))return!1;s=!0,h=!1}if(b&&!h)return a||(a=new _c),s||F6(e)?l7(e,n,t,r,i,a):DB(e,n,c,t,r,i,a);if(!(t&PB)){var m=h&&u8.call(e,"__wrapped__"),x=g&&u8.call(n,"__wrapped__");if(m||x){var y=m?e.value():e,A=x?n.value():n;return a||(a=new _c),i(y,A,t,r,a)}}return b?(a||(a=new _c),FB(e,n,t,r,i,a)):!1}function u7(e,n,t,r,i){return e===n?!0:e==null||n==null||!Pd(e)&&!Pd(n)?e!==e&&n!==n:qB(e,n,t,r,u7,i)}function BB(e){return function(n,t,r){for(var i=-1,a=Object(n),s=r(n),l=s.length;l--;){var c=s[++i];if(t(a[c],c,a)===!1)break}return n}}var UB=BB();function tS(e,n,t){(t!==void 0&&!$g(e[n],t)||t===void 0&&!(n in e))&&L6(e,n,t)}function $B(e){return Pd(e)&&sv(e)}function nS(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}function HB(e){return hP(e,ZT(e))}function WB(e,n,t,r,i,a,s){var l=nS(e,t),c=nS(n,t),d=s.get(c);if(d){tS(e,t,d);return}var h=a?a(l,c,t+"",e,n,s):void 0,g=h===void 0;if(g){var b=cp(c),m=!b&&hg(c),x=!b&&!m&&F6(c);h=c,b||m||x?cp(l)?h=l:$B(l)?h=eP(l):m?(g=!1,h=n7(c,!0)):x?(g=!1,h=r7(c,!0)):h=[]:qz(c)||Kw(c)?(h=l,Kw(l)?h=HB(l):(!dh(l)||D6(l))&&(h=i7(c))):g=!1}g&&(s.set(c,h),i(h,c,r,a,s),s.delete(c)),tS(e,t,h)}function c7(e,n,t,r,i){e!==n&&UB(n,function(a,s){if(i||(i=new _c),dh(a))WB(e,n,s,t,c7,r,i);else{var l=r?r(nS(e,s),a,s+"",e,n,i):void 0;l===void 0&&(l=a),tS(e,s,l)}},ZT)}function zf(e,n){return u7(e,n)}var Zf=yP(function(e,n,t){c7(e,n,t)}),Ht=(e=>(e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY",e))(Ht||{});class qc{constructor(n,t,r={}){this.attrName=n,this.keyName=t;const i=Ht.TYPE&Ht.ATTRIBUTE;this.scope=r.scope!=null?r.scope&Ht.LEVEL|i:Ht.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(n){return Array.from(n.attributes).map(t=>t.name)}add(n,t){return this.canAdd(n,t)?(n.setAttribute(this.keyName,t),!0):!1}canAdd(n,t){return this.whitelist==null?!0:typeof t=="string"?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1}remove(n){n.removeAttribute(this.keyName)}value(n){const t=n.getAttribute(this.keyName);return this.canAdd(n,t)&&t?t:""}}class L0 extends Error{constructor(n){n="[Parchment] "+n,super(n),this.message=n,this.name=this.constructor.name}}const d7=class rS{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(n,t=!1){if(n==null)return null;if(this.blots.has(n))return this.blots.get(n)||null;if(t){let r=null;try{r=n.parentNode}catch{return null}return this.find(r,t)}return null}create(n,t,r){const i=this.query(t);if(i==null)throw new L0(`Unable to create ${t} blot`);const a=i,s=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:a.create(r),l=new a(n,s,r);return rS.blots.set(l.domNode,l),l}find(n,t=!1){return rS.find(n,t)}query(n,t=Ht.ANY){let r;return typeof n=="string"?r=this.types[n]||this.attributes[n]:n instanceof Text||n.nodeType===Node.TEXT_NODE?r=this.types.text:typeof n=="number"?n&Ht.LEVEL&Ht.BLOCK?r=this.types.block:n&Ht.LEVEL&Ht.INLINE&&(r=this.types.inline):n instanceof Element&&((n.getAttribute("class")||"").split(/\s+/).some(i=>(r=this.classes[i],!!r)),r=r||this.tags[n.tagName]),r==null?null:"scope"in r&&t&Ht.LEVEL&r.scope&&t&Ht.TYPE&r.scope?r:null}register(...n){return n.map(t=>{const r="blotName"in t,i="attrName"in t;if(!r&&!i)throw new L0("Invalid definition");if(r&&t.blotName==="abstract")throw new L0("Cannot register abstract class");const a=r?t.blotName:i?t.attrName:void 0;return this.types[a]=t,i?typeof t.keyName=="string"&&(this.attributes[t.keyName]=t):r&&(t.className&&(this.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map(s=>s.toUpperCase()):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach(s=>{(this.tags[s]==null||t.className==null)&&(this.tags[s]=t)}))),t})}};d7.blots=new WeakMap;let X0=d7;function c8(e,n){return(e.getAttribute("class")||"").split(/\s+/).filter(t=>t.indexOf(`${n}-`)===0)}class VB extends qc{static keys(n){return(n.getAttribute("class")||"").split(/\s+/).map(t=>t.split("-").slice(0,-1).join("-"))}add(n,t){return this.canAdd(n,t)?(this.remove(n),n.classList.add(`${this.keyName}-${t}`),!0):!1}remove(n){c8(n,this.keyName).forEach(t=>{n.classList.remove(t)}),n.classList.length===0&&n.removeAttribute("class")}value(n){const t=(c8(n,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(n,t)?t:""}}const Nu=VB;function T5(e){const n=e.split("-"),t=n.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("");return n[0]+t}class YB extends qc{static keys(n){return(n.getAttribute("style")||"").split(";").map(t=>t.split(":")[0].trim())}add(n,t){return this.canAdd(n,t)?(n.style[T5(this.keyName)]=t,!0):!1}remove(n){n.style[T5(this.keyName)]="",n.getAttribute("style")||n.removeAttribute("style")}value(n){const t=n.style[T5(this.keyName)];return this.canAdd(n,t)?t:""}}const fh=YB;class GB{constructor(n){this.attributes={},this.domNode=n,this.build()}attribute(n,t){t?n.add(this.domNode,t)&&(n.value(this.domNode)!=null?this.attributes[n.attrName]=n:delete this.attributes[n.attrName]):(n.remove(this.domNode),delete this.attributes[n.attrName])}build(){this.attributes={};const n=X0.find(this.domNode);if(n==null)return;const t=qc.keys(this.domNode),r=Nu.keys(this.domNode),i=fh.keys(this.domNode);t.concat(r).concat(i).forEach(a=>{const s=n.scroll.query(a,Ht.ATTRIBUTE);s instanceof qc&&(this.attributes[s.attrName]=s)})}copy(n){Object.keys(this.attributes).forEach(t=>{const r=this.attributes[t].value(this.domNode);n.format(t,r)})}move(n){this.copy(n),Object.keys(this.attributes).forEach(t=>{this.attributes[t].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((n,t)=>(n[t]=this.attributes[t].value(this.domNode),n),{})}}const uv=GB,f7=class{constructor(n,t){this.scroll=n,this.domNode=t,X0.blots.set(t,this),this.prev=null,this.next=null}static create(n){if(this.tagName==null)throw new L0("Blot definition missing tagName");let t,r;return Array.isArray(this.tagName)?(typeof n=="string"?(r=n.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof n=="number"&&(r=n),typeof r=="number"?t=document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?t=document.createElement(r):t=document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const n=this.domNode.cloneNode(!1);return this.scroll.create(n)}detach(){this.parent!=null&&this.parent.removeChild(this),X0.blots.delete(this.domNode)}deleteAt(n,t){this.isolate(n,t).remove()}formatAt(n,t,r,i){const a=this.isolate(n,t);if(this.scroll.query(r,Ht.BLOT)!=null&&i)a.wrap(r,i);else if(this.scroll.query(r,Ht.ATTRIBUTE)!=null){const s=this.scroll.create(this.statics.scope);a.wrap(s),s.format(r,i)}}insertAt(n,t,r){const i=r==null?this.scroll.create("text",t):this.scroll.create(t,r),a=this.split(n);this.parent.insertBefore(i,a||void 0)}isolate(n,t){const r=this.split(n);if(r==null)throw new Error("Attempt to isolate at end");return r.split(t),r}length(){return 1}offset(n=this.parent){return this.parent==null||this===n?0:this.parent.children.offset(this)+this.parent.offset(n)}optimize(n){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(n,t){const r=typeof n=="string"?this.scroll.create(n,t):n;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(n,t){return n===0?this:this.next}update(n,t){}wrap(n,t){const r=typeof n=="string"?this.scroll.create(n,t):n;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new L0(`Cannot wrap ${n}`);return r.appendChild(this),r}};f7.blotName="abstract";let h7=f7;const p7=class extends h7{static value(n){return!0}index(n,t){return this.domNode===n||this.domNode.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(n,t){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return n>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};p7.scope=Ht.INLINE_BLOT;let QB=p7;const Fs=QB;class KB{constructor(){this.head=null,this.tail=null,this.length=0}append(...n){if(this.insertBefore(n[0],null),n.length>1){const t=n.slice(1);this.append(...t)}}at(n){const t=this.iterator();let r=t();for(;r&&n>0;)n-=1,r=t();return r}contains(n){const t=this.iterator();let r=t();for(;r;){if(r===n)return!0;r=t()}return!1}indexOf(n){const t=this.iterator();let r=t(),i=0;for(;r;){if(r===n)return i;i+=1,r=t()}return-1}insertBefore(n,t){n!=null&&(this.remove(n),n.next=t,t!=null?(n.prev=t.prev,t.prev!=null&&(t.prev.next=n),t.prev=n,t===this.head&&(this.head=n)):this.tail!=null?(this.tail.next=n,n.prev=this.tail,this.tail=n):(n.prev=null,this.head=this.tail=n),this.length+=1)}offset(n){let t=0,r=this.head;for(;r!=null;){if(r===n)return t;t+=r.length(),r=r.next}return-1}remove(n){this.contains(n)&&(n.prev!=null&&(n.prev.next=n.next),n.next!=null&&(n.next.prev=n.prev),n===this.head&&(this.head=n.next),n===this.tail&&(this.tail=n.prev),this.length-=1)}iterator(n=this.head){return()=>{const t=n;return n!=null&&(n=n.next),t}}find(n,t=!1){const r=this.iterator();let i=r();for(;i;){const a=i.length();if(n<a||t&&n===a&&(i.next==null||i.next.length()!==0))return[i,n];n-=a,i=r()}return[null,0]}forEach(n){const t=this.iterator();let r=t();for(;r;)n(r),r=t()}forEachAt(n,t,r){if(t<=0)return;const[i,a]=this.find(n);let s=n-a;const l=this.iterator(i);let c=l();for(;c&&s<n+t;){const d=c.length();n>s?r(c,n-s,Math.min(t,s+d-n)):r(c,0,Math.min(d,n+t-s)),s+=d,c=l()}}map(n){return this.reduce((t,r)=>(t.push(n(r)),t),[])}reduce(n,t){const r=this.iterator();let i=r();for(;i;)t=n(t,i),i=r();return t}}function d8(e,n){const t=n.find(e);if(t)return t;try{return n.create(e)}catch{const r=n.create(Ht.INLINE);return Array.from(e.childNodes).forEach(i=>{r.domNode.appendChild(i)}),e.parentNode&&e.parentNode.replaceChild(r.domNode,e),r.attach(),r}}const m7=class Ff extends h7{constructor(n,t){super(n,t),this.uiNode=null,this.build()}appendChild(n){this.insertBefore(n)}attach(){super.attach(),this.children.forEach(n=>{n.attach()})}attachUI(n){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=n,Ff.uiClass&&this.uiNode.classList.add(Ff.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new KB,Array.from(this.domNode.childNodes).filter(n=>n!==this.uiNode).reverse().forEach(n=>{try{const t=d8(n,this.scroll);this.insertBefore(t,this.children.head||void 0)}catch(t){if(t instanceof L0)return;throw t}})}deleteAt(n,t){if(n===0&&t===this.length())return this.remove();this.children.forEachAt(n,t,(r,i,a)=>{r.deleteAt(i,a)})}descendant(n,t=0){const[r,i]=this.children.find(t);return n.blotName==null&&n(r)||n.blotName!=null&&r instanceof n?[r,i]:r instanceof Ff?r.descendant(n,i):[null,-1]}descendants(n,t=0,r=Number.MAX_VALUE){let i=[],a=r;return this.children.forEachAt(t,r,(s,l,c)=>{(n.blotName==null&&n(s)||n.blotName!=null&&s instanceof n)&&i.push(s),s instanceof Ff&&(i=i.concat(s.descendants(n,l,a))),a-=c}),i}detach(){this.children.forEach(n=>{n.detach()}),super.detach()}enforceAllowedChildren(){let n=!1;this.children.forEach(t=>{n||this.statics.allowedChildren.some(r=>t instanceof r)||(t.statics.scope===Ht.BLOCK_BLOT?(t.next!=null&&this.splitAfter(t),t.prev!=null&&this.splitAfter(t.prev),t.parent.unwrap(),n=!0):t instanceof Ff?t.unwrap():t.remove())})}formatAt(n,t,r,i){this.children.forEachAt(n,t,(a,s,l)=>{a.formatAt(s,l,r,i)})}insertAt(n,t,r){const[i,a]=this.children.find(n);if(i)i.insertAt(a,t,r);else{const s=r==null?this.scroll.create("text",t):this.scroll.create(t,r);this.appendChild(s)}}insertBefore(n,t){n.parent!=null&&n.parent.children.remove(n);let r=null;this.children.insertBefore(n,t||null),n.parent=this,t!=null&&(r=t.domNode),(this.domNode.parentNode!==n.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(n.domNode,r),n.attach()}length(){return this.children.reduce((n,t)=>n+t.length(),0)}moveChildren(n,t){this.children.forEach(r=>{n.insertBefore(r,t)})}optimize(n){if(super.optimize(n),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove()}path(n,t=!1){const[r,i]=this.children.find(n,t),a=[[this,n]];return r instanceof Ff?a.concat(r.path(i,t)):(r!=null&&a.push([r,i]),a)}removeChild(n){this.children.remove(n)}replaceWith(n,t){const r=typeof n=="string"?this.scroll.create(n,t):n;return r instanceof Ff&&this.moveChildren(r),super.replaceWith(r)}split(n,t=!1){if(!t){if(n===0)return this;if(n===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(n,this.length(),(i,a,s)=>{const l=i.split(a,t);l!=null&&r.appendChild(l)}),r}splitAfter(n){const t=this.clone();for(;n.next!=null;)t.appendChild(n.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(n,t){const r=[],i=[];n.forEach(a=>{a.target===this.domNode&&a.type==="childList"&&(r.push(...a.addedNodes),i.push(...a.removedNodes))}),i.forEach(a=>{if(a.parentNode!=null&&a.tagName!=="IFRAME"&&document.body.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const s=this.scroll.find(a);s!=null&&(s.domNode.parentNode==null||s.domNode.parentNode===this.domNode)&&s.detach()}),r.filter(a=>a.parentNode===this.domNode&&a!==this.uiNode).sort((a,s)=>a===s?0:a.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(a=>{let s=null;a.nextSibling!=null&&(s=this.scroll.find(a.nextSibling));const l=d8(a,this.scroll);(l.next!==s||l.next==null)&&(l.parent!=null&&l.parent.removeChild(this),this.insertBefore(l,s||void 0))}),this.enforceAllowedChildren()}};m7.uiClass="";let XB=m7;const wu=XB;function ZB(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const t in e)if(e[t]!==n[t])return!1;return!0}const S0=class A0 extends wu{static create(n){return super.create(n)}static formats(n,t){const r=t.query(A0.blotName);if(!(r!=null&&n.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return n.tagName.toLowerCase()}}constructor(n,t){super(n,t),this.attributes=new uv(this.domNode)}format(n,t){if(n===this.statics.blotName&&!t)this.children.forEach(r=>{r instanceof A0||(r=r.wrap(A0.blotName,!0)),this.attributes.copy(r)}),this.unwrap();else{const r=this.scroll.query(n,Ht.INLINE);if(r==null)return;r instanceof qc?this.attributes.attribute(r,t):t&&(n!==this.statics.blotName||this.formats()[n]!==t)&&this.replaceWith(n,t)}}formats(){const n=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(n[this.statics.blotName]=t),n}formatAt(n,t,r,i){this.formats()[r]!=null||this.scroll.query(r,Ht.ATTRIBUTE)?this.isolate(n,t).format(r,i):super.formatAt(n,t,r,i)}optimize(n){super.optimize(n);const t=this.formats();if(Object.keys(t).length===0)return this.unwrap();const r=this.next;r instanceof A0&&r.prev===this&&ZB(t,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(n,t){const r=super.replaceWith(n,t);return this.attributes.copy(r),r}update(n,t){super.update(n,t),n.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}wrap(n,t){const r=super.wrap(n,t);return r instanceof A0&&this.attributes.move(r),r}};S0.allowedChildren=[S0,Fs],S0.blotName="inline",S0.scope=Ht.INLINE_BLOT,S0.tagName="SPAN";let JB=S0;const z6=JB,C0=class iS extends wu{static create(n){return super.create(n)}static formats(n,t){const r=t.query(iS.blotName);if(!(r!=null&&n.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return n.tagName.toLowerCase()}}constructor(n,t){super(n,t),this.attributes=new uv(this.domNode)}format(n,t){const r=this.scroll.query(n,Ht.BLOCK);r!=null&&(r instanceof qc?this.attributes.attribute(r,t):n===this.statics.blotName&&!t?this.replaceWith(iS.blotName):t&&(n!==this.statics.blotName||this.formats()[n]!==t)&&this.replaceWith(n,t))}formats(){const n=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(n[this.statics.blotName]=t),n}formatAt(n,t,r,i){this.scroll.query(r,Ht.BLOCK)!=null?this.format(r,i):super.formatAt(n,t,r,i)}insertAt(n,t,r){if(r==null||this.scroll.query(t,Ht.INLINE)!=null)super.insertAt(n,t,r);else{const i=this.split(n);if(i!=null){const a=this.scroll.create(t,r);i.parent.insertBefore(a,i)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(n,t){const r=super.replaceWith(n,t);return this.attributes.copy(r),r}update(n,t){super.update(n,t),n.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}};C0.blotName="block",C0.scope=Ht.BLOCK_BLOT,C0.tagName="P",C0.allowedChildren=[z6,C0,Fs];let eU=C0;const gg=eU,aS=class extends wu{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(n,t){super.deleteAt(n,t),this.enforceAllowedChildren()}formatAt(n,t,r,i){super.formatAt(n,t,r,i),this.enforceAllowedChildren()}insertAt(n,t,r){super.insertAt(n,t,r),this.enforceAllowedChildren()}optimize(n){super.optimize(n),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};aS.blotName="container",aS.scope=Ht.BLOCK_BLOT;let tU=aS;const cv=tU;class nU extends Fs{static formats(n,t){}format(n,t){super.formatAt(0,this.length(),n,t)}formatAt(n,t,r,i){n===0&&t===this.length()?this.format(r,i):super.formatAt(n,t,r,i)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const il=nU,rU={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},iU=100,E0=class extends wu{constructor(n,t){super(null,t),this.registry=n,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,rU),this.attach()}create(n,t){return this.registry.create(this,n,t)}find(n,t=!1){const r=this.registry.find(n,t);return r?r.scroll===this?r:t?this.find(r.scroll.domNode.parentNode,!0):null:null}query(n,t=Ht.ANY){return this.registry.query(n,t)}register(...n){return this.registry.register(...n)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(n,t){this.update(),n===0&&t===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(n,t)}formatAt(n,t,r,i){this.update(),super.formatAt(n,t,r,i)}insertAt(n,t,r){this.update(),super.insertAt(n,t,r)}optimize(n=[],t={}){super.optimize(t);const r=t.mutationsMap||new WeakMap;let i=Array.from(this.observer.takeRecords());for(;i.length>0;)n.push(i.pop());const a=(c,d=!0)=>{c==null||c===this||c.domNode.parentNode!=null&&(r.has(c.domNode)||r.set(c.domNode,[]),d&&a(c.parent))},s=c=>{r.has(c.domNode)&&(c instanceof wu&&c.children.forEach(s),r.delete(c.domNode),c.optimize(t))};let l=n;for(let c=0;l.length>0;c+=1){if(c>=iU)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach(d=>{const h=this.find(d.target,!0);h!=null&&(h.domNode===d.target&&(d.type==="childList"?(a(this.find(d.previousSibling,!1)),Array.from(d.addedNodes).forEach(g=>{const b=this.find(g,!1);a(b,!1),b instanceof wu&&b.children.forEach(m=>{a(m,!1)})})):d.type==="attributes"&&a(h.prev)),a(h))}),this.children.forEach(s),l=Array.from(this.observer.takeRecords()),i=l.slice();i.length>0;)n.push(i.pop())}}update(n,t={}){n=n||this.observer.takeRecords();const r=new WeakMap;n.map(i=>{const a=this.find(i.target,!0);return a==null?null:r.has(a.domNode)?(r.get(a.domNode).push(i),null):(r.set(a.domNode,[i]),a)}).forEach(i=>{i!=null&&i!==this&&r.has(i.domNode)&&i.update(r.get(i.domNode)||[],t)}),t.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),t),this.optimize(n,t)}};E0.blotName="scroll",E0.defaultChild=gg,E0.allowedChildren=[gg,cv],E0.scope=Ht.BLOCK_BLOT,E0.tagName="DIV";let aU=E0;const q6=aU,sS=class g7 extends Fs{static create(n){return document.createTextNode(n)}static value(n){return n.data}constructor(n,t){super(n,t),this.text=this.statics.value(this.domNode)}deleteAt(n,t){this.domNode.data=this.text=this.text.slice(0,n)+this.text.slice(n+t)}index(n,t){return this.domNode===n?t:-1}insertAt(n,t,r){r==null?(this.text=this.text.slice(0,n)+t+this.text.slice(n),this.domNode.data=this.text):super.insertAt(n,t,r)}length(){return this.text.length}optimize(n){super.optimize(n),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof g7&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(n,t=!1){return[this.domNode,n]}split(n,t=!1){if(!t){if(n===0)return this;if(n===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(n));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(n,t){n.some(r=>r.type==="characterData"&&r.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};sS.blotName="text",sS.scope=Ht.INLINE_BLOT;let sU=sS;const kx=sU,oU=Object.freeze(Object.defineProperty({__proto__:null,Attributor:qc,AttributorStore:uv,BlockBlot:gg,ClassAttributor:Nu,ContainerBlot:cv,EmbedBlot:il,InlineBlot:z6,LeafBlot:Fs,ParentBlot:wu,Registry:X0,Scope:Ht,ScrollBlot:q6,StyleAttributor:fh,TextBlot:kx},Symbol.toStringTag,{value:"Module"}));var my={exports:{}},O5,f8;function lU(){if(f8)return O5;f8=1;var e=-1,n=1,t=0;function r(T,O,R,N,K){if(T===O)return T?[[t,T]]:[];if(R!=null){var H=q(T,O,R);if(H)return H}var G=l(T,O),ee=T.substring(0,G);T=T.substring(G),O=O.substring(G),G=d(T,O);var le=T.substring(T.length-G);T=T.substring(0,T.length-G),O=O.substring(0,O.length-G);var Y=i(T,O);return ee&&Y.unshift([t,ee]),le&&Y.push([t,le]),C(Y,K),N&&g(Y),Y}function i(T,O){var R;if(!T)return[[n,O]];if(!O)return[[e,T]];var N=T.length>O.length?T:O,K=T.length>O.length?O:T,H=N.indexOf(K);if(H!==-1)return R=[[n,N.substring(0,H)],[t,K],[n,N.substring(H+K.length)]],T.length>O.length&&(R[0][0]=R[2][0]=e),R;if(K.length===1)return[[e,T],[n,O]];var G=h(T,O);if(G){var ee=G[0],le=G[1],Y=G[2],te=G[3],U=G[4],B=r(ee,Y),re=r(le,te);return B.concat([[t,U]],re)}return a(T,O)}function a(T,O){for(var R=T.length,N=O.length,K=Math.ceil((R+N)/2),H=K,G=2*K,ee=new Array(G),le=new Array(G),Y=0;Y<G;Y++)ee[Y]=-1,le[Y]=-1;ee[H+1]=0,le[H+1]=0;for(var te=R-N,U=te%2!==0,B=0,re=0,Z=0,ne=0,ve=0;ve<K;ve++){for(var ye=-ve+B;ye<=ve-re;ye+=2){var Ce=H+ye,Oe;ye===-ve||ye!==ve&&ee[Ce-1]<ee[Ce+1]?Oe=ee[Ce+1]:Oe=ee[Ce-1]+1;for(var Ie=Oe-ye;Oe<R&&Ie<N&&T.charAt(Oe)===O.charAt(Ie);)Oe++,Ie++;if(ee[Ce]=Oe,Oe>R)re+=2;else if(Ie>N)B+=2;else if(U){var $e=H+te-ye;if($e>=0&&$e<G&&le[$e]!==-1){var We=R-le[$e];if(Oe>=We)return s(T,O,Oe,Ie)}}}for(var V=-ve+Z;V<=ve-ne;V+=2){var $e=H+V,We;V===-ve||V!==ve&&le[$e-1]<le[$e+1]?We=le[$e+1]:We=le[$e-1]+1;for(var Se=We-V;We<R&&Se<N&&T.charAt(R-We-1)===O.charAt(N-Se-1);)We++,Se++;if(le[$e]=We,We>R)ne+=2;else if(Se>N)Z+=2;else if(!U){var Ce=H+te-V;if(Ce>=0&&Ce<G&&ee[Ce]!==-1){var Oe=ee[Ce],Ie=H+Oe-Ce;if(We=R-We,Oe>=We)return s(T,O,Oe,Ie)}}}}return[[e,T],[n,O]]}function s(T,O,R,N){var K=T.substring(0,R),H=O.substring(0,N),G=T.substring(R),ee=O.substring(N),le=r(K,H),Y=r(G,ee);return le.concat(Y)}function l(T,O){if(!T||!O||T.charAt(0)!==O.charAt(0))return 0;for(var R=0,N=Math.min(T.length,O.length),K=N,H=0;R<K;)T.substring(H,K)==O.substring(H,K)?(R=K,H=R):N=K,K=Math.floor((N-R)/2+R);return j(T.charCodeAt(K-1))&&K--,K}function c(T,O){var R=T.length,N=O.length;if(R==0||N==0)return 0;R>N?T=T.substring(R-N):R<N&&(O=O.substring(0,R));var K=Math.min(R,N);if(T==O)return K;for(var H=0,G=1;;){var ee=T.substring(K-G),le=O.indexOf(ee);if(le==-1)return H;G+=le,(le==0||T.substring(K-G)==O.substring(0,G))&&(H=G,G++)}}function d(T,O){if(!T||!O||T.slice(-1)!==O.slice(-1))return 0;for(var R=0,N=Math.min(T.length,O.length),K=N,H=0;R<K;)T.substring(T.length-K,T.length-H)==O.substring(O.length-K,O.length-H)?(R=K,H=R):N=K,K=Math.floor((N-R)/2+R);return F(T.charCodeAt(T.length-K))&&K--,K}function h(T,O){var R=T.length>O.length?T:O,N=T.length>O.length?O:T;if(R.length<4||N.length*2<R.length)return null;function K(re,Z,ne){for(var ve=re.substring(ne,ne+Math.floor(re.length/4)),ye=-1,Ce="",Oe,Ie,$e,We;(ye=Z.indexOf(ve,ye+1))!==-1;){var V=l(re.substring(ne),Z.substring(ye)),Se=d(re.substring(0,ne),Z.substring(0,ye));Ce.length<Se+V&&(Ce=Z.substring(ye-Se,ye)+Z.substring(ye,ye+V),Oe=re.substring(0,ne-Se),Ie=re.substring(ne+V),$e=Z.substring(0,ye-Se),We=Z.substring(ye+V))}return Ce.length*2>=re.length?[Oe,Ie,$e,We,Ce]:null}var H=K(R,N,Math.ceil(R.length/4)),G=K(R,N,Math.ceil(R.length/2)),ee;if(!H&&!G)return null;G?H?ee=H[4].length>G[4].length?H:G:ee=G:ee=H;var le,Y,te,U;T.length>O.length?(le=ee[0],Y=ee[1],te=ee[2],U=ee[3]):(te=ee[0],U=ee[1],le=ee[2],Y=ee[3]);var B=ee[4];return[le,Y,te,U,B]}function g(T){for(var O=!1,R=[],N=0,K=null,H=0,G=0,ee=0,le=0,Y=0;H<T.length;)T[H][0]==t?(R[N++]=H,G=le,ee=Y,le=0,Y=0,K=T[H][1]):(T[H][0]==n?le+=T[H][1].length:Y+=T[H][1].length,K&&K.length<=Math.max(G,ee)&&K.length<=Math.max(le,Y)&&(T.splice(R[N-1],0,[e,K]),T[R[N-1]+1][0]=n,N--,N--,H=N>0?R[N-1]:-1,G=0,ee=0,le=0,Y=0,K=null,O=!0)),H++;for(O&&C(T),w(T),H=1;H<T.length;){if(T[H-1][0]==e&&T[H][0]==n){var te=T[H-1][1],U=T[H][1],B=c(te,U),re=c(U,te);B>=re?(B>=te.length/2||B>=U.length/2)&&(T.splice(H,0,[t,U.substring(0,B)]),T[H-1][1]=te.substring(0,te.length-B),T[H+1][1]=U.substring(B),H++):(re>=te.length/2||re>=U.length/2)&&(T.splice(H,0,[t,te.substring(0,re)]),T[H-1][0]=n,T[H-1][1]=U.substring(0,U.length-re),T[H+1][0]=e,T[H+1][1]=te.substring(re),H++),H++}H++}}var b=/[^a-zA-Z0-9]/,m=/\s/,x=/[\r\n]/,y=/\n\r?\n$/,A=/^\r?\n\r?\n/;function w(T){function O(re,Z){if(!re||!Z)return 6;var ne=re.charAt(re.length-1),ve=Z.charAt(0),ye=ne.match(b),Ce=ve.match(b),Oe=ye&&ne.match(m),Ie=Ce&&ve.match(m),$e=Oe&&ne.match(x),We=Ie&&ve.match(x),V=$e&&re.match(y),Se=We&&Z.match(A);return V||Se?5:$e||We?4:ye&&!Oe&&Ie?3:Oe||Ie?2:ye||Ce?1:0}for(var R=1;R<T.length-1;){if(T[R-1][0]==t&&T[R+1][0]==t){var N=T[R-1][1],K=T[R][1],H=T[R+1][1],G=d(N,K);if(G){var ee=K.substring(K.length-G);N=N.substring(0,N.length-G),K=ee+K.substring(0,K.length-G),H=ee+H}for(var le=N,Y=K,te=H,U=O(N,K)+O(K,H);K.charAt(0)===H.charAt(0);){N+=K.charAt(0),K=K.substring(1)+H.charAt(0),H=H.substring(1);var B=O(N,K)+O(K,H);B>=U&&(U=B,le=N,Y=K,te=H)}T[R-1][1]!=le&&(le?T[R-1][1]=le:(T.splice(R-1,1),R--),T[R][1]=Y,te?T[R+1][1]=te:(T.splice(R+1,1),R--))}R++}}function C(T,O){T.push([t,""]);for(var R=0,N=0,K=0,H="",G="",ee;R<T.length;){if(R<T.length-1&&!T[R][1]){T.splice(R,1);continue}switch(T[R][0]){case n:K++,G+=T[R][1],R++;break;case e:N++,H+=T[R][1],R++;break;case t:var le=R-K-N-1;if(O){if(le>=0&&L(T[le][1])){var Y=T[le][1].slice(-1);if(T[le][1]=T[le][1].slice(0,-1),H=Y+H,G=Y+G,!T[le][1]){T.splice(le,1),R--;var te=le-1;T[te]&&T[te][0]===n&&(K++,G=T[te][1]+G,te--),T[te]&&T[te][0]===e&&(N++,H=T[te][1]+H,te--),le=te}}if(z(T[R][1])){var Y=T[R][1].charAt(0);T[R][1]=T[R][1].slice(1),H+=Y,G+=Y}}if(R<T.length-1&&!T[R][1]){T.splice(R,1);break}if(H.length>0||G.length>0){H.length>0&&G.length>0&&(ee=l(G,H),ee!==0&&(le>=0?T[le][1]+=G.substring(0,ee):(T.splice(0,0,[t,G.substring(0,ee)]),R++),G=G.substring(ee),H=H.substring(ee)),ee=d(G,H),ee!==0&&(T[R][1]=G.substring(G.length-ee)+T[R][1],G=G.substring(0,G.length-ee),H=H.substring(0,H.length-ee)));var U=K+N;H.length===0&&G.length===0?(T.splice(R-U,U),R=R-U):H.length===0?(T.splice(R-U,U,[n,G]),R=R-U+1):G.length===0?(T.splice(R-U,U,[e,H]),R=R-U+1):(T.splice(R-U,U,[e,H],[n,G]),R=R-U+2)}R!==0&&T[R-1][0]===t?(T[R-1][1]+=T[R][1],T.splice(R,1)):R++,K=0,N=0,H="",G="";break}}T[T.length-1][1]===""&&T.pop();var B=!1;for(R=1;R<T.length-1;)T[R-1][0]===t&&T[R+1][0]===t&&(T[R][1].substring(T[R][1].length-T[R-1][1].length)===T[R-1][1]?(T[R][1]=T[R-1][1]+T[R][1].substring(0,T[R][1].length-T[R-1][1].length),T[R+1][1]=T[R-1][1]+T[R+1][1],T.splice(R-1,1),B=!0):T[R][1].substring(0,T[R+1][1].length)==T[R+1][1]&&(T[R-1][1]+=T[R+1][1],T[R][1]=T[R][1].substring(T[R+1][1].length)+T[R+1][1],T.splice(R+1,1),B=!0)),R++;B&&C(T,O)}function j(T){return T>=55296&&T<=56319}function F(T){return T>=56320&&T<=57343}function z(T){return F(T.charCodeAt(0))}function L(T){return j(T.charCodeAt(T.length-1))}function k(T){for(var O=[],R=0;R<T.length;R++)T[R][1].length>0&&O.push(T[R]);return O}function M(T,O,R,N){return L(T)||z(N)?null:k([[t,T],[e,O],[n,R],[t,N]])}function q(T,O,R){var N=typeof R=="number"?{index:R,length:0}:R.oldRange,K=typeof R=="number"?null:R.newRange,H=T.length,G=O.length;if(N.length===0&&(K===null||K.length===0)){var ee=N.index,le=T.slice(0,ee),Y=T.slice(ee),te=K?K.index:null;e:{var U=ee+G-H;if(te!==null&&te!==U||U<0||U>G)break e;var B=O.slice(0,U),re=O.slice(U);if(re!==Y)break e;var Z=Math.min(ee,U),ne=le.slice(0,Z),ve=B.slice(0,Z);if(ne!==ve)break e;var ye=le.slice(Z),Ce=B.slice(Z);return M(ne,ye,Ce,Y)}e:{if(te!==null&&te!==ee)break e;var Oe=ee,B=O.slice(0,Oe),re=O.slice(Oe);if(B!==le)break e;var Ie=Math.min(H-Oe,G-Oe),$e=Y.slice(Y.length-Ie),We=re.slice(re.length-Ie);if($e!==We)break e;var ye=Y.slice(0,Y.length-Ie),Ce=re.slice(0,re.length-Ie);return M(le,ye,Ce,$e)}}if(N.length>0&&K&&K.length===0)e:{var ne=T.slice(0,N.index),$e=T.slice(N.index+N.length),Z=ne.length,Ie=$e.length;if(G<Z+Ie)break e;var ve=O.slice(0,Z),We=O.slice(G-Ie);if(ne!==ve||$e!==We)break e;var ye=T.slice(Z,H-Ie),Ce=O.slice(Z,G-Ie);return M(ne,ye,Ce,$e)}return null}function Q(T,O,R,N){return r(T,O,R,N,!0)}return Q.INSERT=n,Q.DELETE=e,Q.EQUAL=t,O5=Q,O5}var $1={exports:{}};$1.exports;var h8;function b7(){return h8||(h8=1,function(e,n){var t=200,r="__lodash_hash_undefined__",i=9007199254740991,a="[object Arguments]",s="[object Array]",l="[object Boolean]",c="[object Date]",d="[object Error]",h="[object Function]",g="[object GeneratorFunction]",b="[object Map]",m="[object Number]",x="[object Object]",y="[object Promise]",A="[object RegExp]",w="[object Set]",C="[object String]",j="[object Symbol]",F="[object WeakMap]",z="[object ArrayBuffer]",L="[object DataView]",k="[object Float32Array]",M="[object Float64Array]",q="[object Int8Array]",Q="[object Int16Array]",T="[object Int32Array]",O="[object Uint8Array]",R="[object Uint8ClampedArray]",N="[object Uint16Array]",K="[object Uint32Array]",H=/[\\^$.*+?()[\]{}|]/g,G=/\w*$/,ee=/^\[object .+?Constructor\]$/,le=/^(?:0|[1-9]\d*)$/,Y={};Y[a]=Y[s]=Y[z]=Y[L]=Y[l]=Y[c]=Y[k]=Y[M]=Y[q]=Y[Q]=Y[T]=Y[b]=Y[m]=Y[x]=Y[A]=Y[w]=Y[C]=Y[j]=Y[O]=Y[R]=Y[N]=Y[K]=!0,Y[d]=Y[h]=Y[F]=!1;var te=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,U=typeof self=="object"&&self&&self.Object===Object&&self,B=te||U||Function("return this")(),re=n&&!n.nodeType&&n,Z=re&&!0&&e&&!e.nodeType&&e,ne=Z&&Z.exports===re;function ve($,me){return $.set(me[0],me[1]),$}function ye($,me){return $.add(me),$}function Ce($,me){for(var Te=-1,st=$?$.length:0;++Te<st&&me($[Te],Te,$)!==!1;);return $}function Oe($,me){for(var Te=-1,st=me.length,Xt=$.length;++Te<st;)$[Xt+Te]=me[Te];return $}function Ie($,me,Te,st){for(var Xt=-1,qt=$?$.length:0;++Xt<qt;)Te=me(Te,$[Xt],Xt,$);return Te}function $e($,me){for(var Te=-1,st=Array($);++Te<$;)st[Te]=me(Te);return st}function We($,me){return $==null?void 0:$[me]}function V($){var me=!1;if($!=null&&typeof $.toString!="function")try{me=!!($+"")}catch{}return me}function Se($){var me=-1,Te=Array($.size);return $.forEach(function(st,Xt){Te[++me]=[Xt,st]}),Te}function se($,me){return function(Te){return $(me(Te))}}function he($){var me=-1,Te=Array($.size);return $.forEach(function(st){Te[++me]=st}),Te}var de=Array.prototype,we=Function.prototype,Le=Object.prototype,Pe=B["__core-js_shared__"],_e=function(){var $=/[^.]+$/.exec(Pe&&Pe.keys&&Pe.keys.IE_PROTO||"");return $?"Symbol(src)_1."+$:""}(),Ke=we.toString,ot=Le.hasOwnProperty,nt=Le.toString,De=RegExp("^"+Ke.call(ot).replace(H,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xe=ne?B.Buffer:void 0,ke=B.Symbol,je=B.Uint8Array,ct=se(Object.getPrototypeOf,Object),Je=Object.create,Rt=Le.propertyIsEnumerable,kt=de.splice,Wt=Object.getOwnPropertySymbols,Lt=xe?xe.isBuffer:void 0,Kt=se(Object.keys,Object),tn=Bi(B,"DataView"),ln=Bi(B,"Map"),zn=Bi(B,"Promise"),qn=Bi(B,"Set"),Qr=Bi(B,"WeakMap"),ar=Bi(Object,"create"),Mn=ei(tn),Vt=ei(ln),En=ei(zn),xa=ei(qn),Sr=ei(Qr),li=ke?ke.prototype:void 0,va=li?li.valueOf:void 0;function Dt($){var me=-1,Te=$?$.length:0;for(this.clear();++me<Te;){var st=$[me];this.set(st[0],st[1])}}function Wn(){this.__data__=ar?ar(null):{}}function sr($){return this.has($)&&delete this.__data__[$]}function Mr($){var me=this.__data__;if(ar){var Te=me[$];return Te===r?void 0:Te}return ot.call(me,$)?me[$]:void 0}function dr($){var me=this.__data__;return ar?me[$]!==void 0:ot.call(me,$)}function fr($,me){var Te=this.__data__;return Te[$]=ar&&me===void 0?r:me,this}Dt.prototype.clear=Wn,Dt.prototype.delete=sr,Dt.prototype.get=Mr,Dt.prototype.has=dr,Dt.prototype.set=fr;function Hn($){var me=-1,Te=$?$.length:0;for(this.clear();++me<Te;){var st=$[me];this.set(st[0],st[1])}}function ys(){this.__data__=[]}function jr($){var me=this.__data__,Te=vs(me,$);if(Te<0)return!1;var st=me.length-1;return Te==st?me.pop():kt.call(me,Te,1),!0}function Ia($){var me=this.__data__,Te=vs(me,$);return Te<0?void 0:me[Te][1]}function zi($){return vs(this.__data__,$)>-1}function qi($,me){var Te=this.__data__,st=vs(Te,$);return st<0?Te.push([$,me]):Te[st][1]=me,this}Hn.prototype.clear=ys,Hn.prototype.delete=jr,Hn.prototype.get=Ia,Hn.prototype.has=zi,Hn.prototype.set=qi;function er($){var me=-1,Te=$?$.length:0;for(this.clear();++me<Te;){var st=$[me];this.set(st[0],st[1])}}function Ci(){this.__data__={hash:new Dt,map:new(ln||Hn),string:new Dt}}function tr($){return Ws(this,$).delete($)}function ro($){return Ws(this,$).get($)}function Eo($){return Ws(this,$).has($)}function Fa($,me){return Ws(this,$).set($,me),this}er.prototype.clear=Ci,er.prototype.delete=tr,er.prototype.get=ro,er.prototype.has=Eo,er.prototype.set=Fa;function Fr($){this.__data__=new Hn($)}function al(){this.__data__=new Hn}function Ul($){return this.__data__.delete($)}function Mu($){return this.__data__.get($)}function Yc($){return this.__data__.has($)}function $s($,me){var Te=this.__data__;if(Te instanceof Hn){var st=Te.__data__;if(!ln||st.length<t-1)return st.push([$,me]),this;Te=this.__data__=new er(st)}return Te.set($,me),this}Fr.prototype.clear=al,Fr.prototype.delete=Ul,Fr.prototype.get=Mu,Fr.prototype.has=Yc,Fr.prototype.set=$s;function xs($,me){var Te=cl($)||so($)?$e($.length,String):[],st=Te.length,Xt=!!st;for(var qt in $)ot.call($,qt)&&!(Xt&&(qt=="length"||ll(qt,st)))&&Te.push(qt);return Te}function Pa($,me,Te){var st=$[me];(!(ot.call($,me)&&en(st,Te))||Te===void 0&&!(me in $))&&($[me]=Te)}function vs($,me){for(var Te=$.length;Te--;)if(en($[Te][0],me))return Te;return-1}function is($,me){return $&&ko(me,dl(me),$)}function as($,me,Te,st,Xt,qt,Tn){var _n;if(st&&(_n=qt?st($,Xt,qt,Tn):st($)),_n!==void 0)return _n;if(!$a($))return $;var pr=cl($);if(pr){if(_n=Pu($),!me)return Wl($,_n)}else{var gn=ws($),Nr=gn==h||gn==g;if(jo($))return ao($,me);if(gn==x||gn==a||Nr&&!qt){if(V($))return qt?$:{};if(_n=qa(Nr?{}:$),!me)return Hs($,is(_n,$))}else{if(!Y[gn])return qt?$:{};_n=Vs($,gn,as,me)}}Tn||(Tn=new Fr);var wa=Tn.get($);if(wa)return wa;if(Tn.set($,_n),!pr)var Ar=Te?Fu($):dl($);return Ce(Ar||$,function(Cr,Kr){Ar&&(Kr=Cr,Cr=$[Kr]),Pa(_n,Kr,as(Cr,me,Te,st,Kr,$,Tn))}),_n}function $l($){return $a($)?Je($):{}}function io($,me,Te){var st=me($);return cl($)?st:Oe(st,Te($))}function Gc($){return nt.call($)}function Pr($){if(!$a($)||ul($))return!1;var me=Ua($)||V($)?De:ee;return me.test(ei($))}function ta($){if(!ui($))return Kt($);var me=[];for(var Te in Object($))ot.call($,Te)&&Te!="constructor"&&me.push(Te);return me}function ao($,me){if(me)return $.slice();var Te=new $.constructor($.length);return $.copy(Te),Te}function sl($){var me=new $.constructor($.byteLength);return new je(me).set(new je($)),me}function za($,me){var Te=me?sl($.buffer):$.buffer;return new $.constructor(Te,$.byteOffset,$.byteLength)}function Hl($,me,Te){var st=me?Te(Se($),!0):Se($);return Ie(st,ve,new $.constructor)}function na($){var me=new $.constructor($.source,G.exec($));return me.lastIndex=$.lastIndex,me}function ol($,me,Te){var st=me?Te(he($),!0):he($);return Ie(st,ye,new $.constructor)}function hr($){return va?Object(va.call($)):{}}function _o($,me){var Te=me?sl($.buffer):$.buffer;return new $.constructor(Te,$.byteOffset,$.length)}function Wl($,me){var Te=-1,st=$.length;for(me||(me=Array(st));++Te<st;)me[Te]=$[Te];return me}function ko($,me,Te,st){Te||(Te={});for(var Xt=-1,qt=me.length;++Xt<qt;){var Tn=me[Xt],_n=void 0;Pa(Te,Tn,_n===void 0?$[Tn]:_n)}return Te}function Hs($,me){return ko($,ss($),me)}function Fu($){return io($,dl,ss)}function Ws($,me){var Te=$.__data__;return Ys(me)?Te[typeof me=="string"?"string":"hash"]:Te.map}function Bi($,me){var Te=We($,me);return Pr(Te)?Te:void 0}var ss=Wt?se(Wt,Object):oo,ws=Gc;(tn&&ws(new tn(new ArrayBuffer(1)))!=L||ln&&ws(new ln)!=b||zn&&ws(zn.resolve())!=y||qn&&ws(new qn)!=w||Qr&&ws(new Qr)!=F)&&(ws=function($){var me=nt.call($),Te=me==x?$.constructor:void 0,st=Te?ei(Te):void 0;if(st)switch(st){case Mn:return L;case Vt:return b;case En:return y;case xa:return w;case Sr:return F}return me});function Pu($){var me=$.length,Te=$.constructor(me);return me&&typeof $[0]=="string"&&ot.call($,"index")&&(Te.index=$.index,Te.input=$.input),Te}function qa($){return typeof $.constructor=="function"&&!ui($)?$l(ct($)):{}}function Vs($,me,Te,st){var Xt=$.constructor;switch(me){case z:return sl($);case l:case c:return new Xt(+$);case L:return za($,st);case k:case M:case q:case Q:case T:case O:case R:case N:case K:return _o($,st);case b:return Hl($,st,Te);case m:case C:return new Xt($);case A:return na($);case w:return ol($,st,Te);case j:return hr($)}}function ll($,me){return me=me??i,!!me&&(typeof $=="number"||le.test($))&&$>-1&&$%1==0&&$<me}function Ys($){var me=typeof $;return me=="string"||me=="number"||me=="symbol"||me=="boolean"?$!=="__proto__":$===null}function ul($){return!!_e&&_e in $}function ui($){var me=$&&$.constructor,Te=typeof me=="function"&&me.prototype||Le;return $===Te}function ei($){if($!=null){try{return Ke.call($)}catch{}try{return $+""}catch{}}return""}function Ss($){return as($,!0,!0)}function en($,me){return $===me||$!==$&&me!==me}function so($){return Ba($)&&ot.call($,"callee")&&(!Rt.call($,"callee")||nt.call($)==a)}var cl=Array.isArray;function Ei($){return $!=null&&Da($.length)&&!Ua($)}function Ba($){return No($)&&Ei($)}var jo=Lt||As;function Ua($){var me=$a($)?nt.call($):"";return me==h||me==g}function Da($){return typeof $=="number"&&$>-1&&$%1==0&&$<=i}function $a($){var me=typeof $;return!!$&&(me=="object"||me=="function")}function No($){return!!$&&typeof $=="object"}function dl($){return Ei($)?xs($):ta($)}function oo(){return[]}function As(){return!1}e.exports=Ss}($1,$1.exports)),$1.exports}var H1={exports:{}};H1.exports;var p8;function y7(){return p8||(p8=1,function(e,n){var t=200,r="__lodash_hash_undefined__",i=1,a=2,s=9007199254740991,l="[object Arguments]",c="[object Array]",d="[object AsyncFunction]",h="[object Boolean]",g="[object Date]",b="[object Error]",m="[object Function]",x="[object GeneratorFunction]",y="[object Map]",A="[object Number]",w="[object Null]",C="[object Object]",j="[object Promise]",F="[object Proxy]",z="[object RegExp]",L="[object Set]",k="[object String]",M="[object Symbol]",q="[object Undefined]",Q="[object WeakMap]",T="[object ArrayBuffer]",O="[object DataView]",R="[object Float32Array]",N="[object Float64Array]",K="[object Int8Array]",H="[object Int16Array]",G="[object Int32Array]",ee="[object Uint8Array]",le="[object Uint8ClampedArray]",Y="[object Uint16Array]",te="[object Uint32Array]",U=/[\\^$.*+?()[\]{}|]/g,B=/^\[object .+?Constructor\]$/,re=/^(?:0|[1-9]\d*)$/,Z={};Z[R]=Z[N]=Z[K]=Z[H]=Z[G]=Z[ee]=Z[le]=Z[Y]=Z[te]=!0,Z[l]=Z[c]=Z[T]=Z[h]=Z[O]=Z[g]=Z[b]=Z[m]=Z[y]=Z[A]=Z[C]=Z[z]=Z[L]=Z[k]=Z[Q]=!1;var ne=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,ve=typeof self=="object"&&self&&self.Object===Object&&self,ye=ne||ve||Function("return this")(),Ce=n&&!n.nodeType&&n,Oe=Ce&&!0&&e&&!e.nodeType&&e,Ie=Oe&&Oe.exports===Ce,$e=Ie&&ne.process,We=function(){try{return $e&&$e.binding&&$e.binding("util")}catch{}}(),V=We&&We.isTypedArray;function Se($,me){for(var Te=-1,st=$==null?0:$.length,Xt=0,qt=[];++Te<st;){var Tn=$[Te];me(Tn,Te,$)&&(qt[Xt++]=Tn)}return qt}function se($,me){for(var Te=-1,st=me.length,Xt=$.length;++Te<st;)$[Xt+Te]=me[Te];return $}function he($,me){for(var Te=-1,st=$==null?0:$.length;++Te<st;)if(me($[Te],Te,$))return!0;return!1}function de($,me){for(var Te=-1,st=Array($);++Te<$;)st[Te]=me(Te);return st}function we($){return function(me){return $(me)}}function Le($,me){return $.has(me)}function Pe($,me){return $==null?void 0:$[me]}function _e($){var me=-1,Te=Array($.size);return $.forEach(function(st,Xt){Te[++me]=[Xt,st]}),Te}function Ke($,me){return function(Te){return $(me(Te))}}function ot($){var me=-1,Te=Array($.size);return $.forEach(function(st){Te[++me]=st}),Te}var nt=Array.prototype,De=Function.prototype,xe=Object.prototype,ke=ye["__core-js_shared__"],je=De.toString,ct=xe.hasOwnProperty,Je=function(){var $=/[^.]+$/.exec(ke&&ke.keys&&ke.keys.IE_PROTO||"");return $?"Symbol(src)_1."+$:""}(),Rt=xe.toString,kt=RegExp("^"+je.call(ct).replace(U,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wt=Ie?ye.Buffer:void 0,Lt=ye.Symbol,Kt=ye.Uint8Array,tn=xe.propertyIsEnumerable,ln=nt.splice,zn=Lt?Lt.toStringTag:void 0,qn=Object.getOwnPropertySymbols,Qr=Wt?Wt.isBuffer:void 0,ar=Ke(Object.keys,Object),Mn=ss(ye,"DataView"),Vt=ss(ye,"Map"),En=ss(ye,"Promise"),xa=ss(ye,"Set"),Sr=ss(ye,"WeakMap"),li=ss(Object,"create"),va=ei(Mn),Dt=ei(Vt),Wn=ei(En),sr=ei(xa),Mr=ei(Sr),dr=Lt?Lt.prototype:void 0,fr=dr?dr.valueOf:void 0;function Hn($){var me=-1,Te=$==null?0:$.length;for(this.clear();++me<Te;){var st=$[me];this.set(st[0],st[1])}}function ys(){this.__data__=li?li(null):{},this.size=0}function jr($){var me=this.has($)&&delete this.__data__[$];return this.size-=me?1:0,me}function Ia($){var me=this.__data__;if(li){var Te=me[$];return Te===r?void 0:Te}return ct.call(me,$)?me[$]:void 0}function zi($){var me=this.__data__;return li?me[$]!==void 0:ct.call(me,$)}function qi($,me){var Te=this.__data__;return this.size+=this.has($)?0:1,Te[$]=li&&me===void 0?r:me,this}Hn.prototype.clear=ys,Hn.prototype.delete=jr,Hn.prototype.get=Ia,Hn.prototype.has=zi,Hn.prototype.set=qi;function er($){var me=-1,Te=$==null?0:$.length;for(this.clear();++me<Te;){var st=$[me];this.set(st[0],st[1])}}function Ci(){this.__data__=[],this.size=0}function tr($){var me=this.__data__,Te=ao(me,$);if(Te<0)return!1;var st=me.length-1;return Te==st?me.pop():ln.call(me,Te,1),--this.size,!0}function ro($){var me=this.__data__,Te=ao(me,$);return Te<0?void 0:me[Te][1]}function Eo($){return ao(this.__data__,$)>-1}function Fa($,me){var Te=this.__data__,st=ao(Te,$);return st<0?(++this.size,Te.push([$,me])):Te[st][1]=me,this}er.prototype.clear=Ci,er.prototype.delete=tr,er.prototype.get=ro,er.prototype.has=Eo,er.prototype.set=Fa;function Fr($){var me=-1,Te=$==null?0:$.length;for(this.clear();++me<Te;){var st=$[me];this.set(st[0],st[1])}}function al(){this.size=0,this.__data__={hash:new Hn,map:new(Vt||er),string:new Hn}}function Ul($){var me=Bi(this,$).delete($);return this.size-=me?1:0,me}function Mu($){return Bi(this,$).get($)}function Yc($){return Bi(this,$).has($)}function $s($,me){var Te=Bi(this,$),st=Te.size;return Te.set($,me),this.size+=Te.size==st?0:1,this}Fr.prototype.clear=al,Fr.prototype.delete=Ul,Fr.prototype.get=Mu,Fr.prototype.has=Yc,Fr.prototype.set=$s;function xs($){var me=-1,Te=$==null?0:$.length;for(this.__data__=new Fr;++me<Te;)this.add($[me])}function Pa($){return this.__data__.set($,r),this}function vs($){return this.__data__.has($)}xs.prototype.add=xs.prototype.push=Pa,xs.prototype.has=vs;function is($){var me=this.__data__=new er($);this.size=me.size}function as(){this.__data__=new er,this.size=0}function $l($){var me=this.__data__,Te=me.delete($);return this.size=me.size,Te}function io($){return this.__data__.get($)}function Gc($){return this.__data__.has($)}function Pr($,me){var Te=this.__data__;if(Te instanceof er){var st=Te.__data__;if(!Vt||st.length<t-1)return st.push([$,me]),this.size=++Te.size,this;Te=this.__data__=new Fr(st)}return Te.set($,me),this.size=Te.size,this}is.prototype.clear=as,is.prototype.delete=$l,is.prototype.get=io,is.prototype.has=Gc,is.prototype.set=Pr;function ta($,me){var Te=so($),st=!Te&&en($),Xt=!Te&&!st&&Ei($),qt=!Te&&!st&&!Xt&&No($),Tn=Te||st||Xt||qt,_n=Tn?de($.length,String):[],pr=_n.length;for(var gn in $)ct.call($,gn)&&!(Tn&&(gn=="length"||Xt&&(gn=="offset"||gn=="parent")||qt&&(gn=="buffer"||gn=="byteLength"||gn=="byteOffset")||Vs(gn,pr)))&&_n.push(gn);return _n}function ao($,me){for(var Te=$.length;Te--;)if(Ss($[Te][0],me))return Te;return-1}function sl($,me,Te){var st=me($);return so($)?st:se(st,Te($))}function za($){return $==null?$===void 0?q:w:zn&&zn in Object($)?ws($):ui($)}function Hl($){return $a($)&&za($)==l}function na($,me,Te,st,Xt){return $===me?!0:$==null||me==null||!$a($)&&!$a(me)?$!==$&&me!==me:ol($,me,Te,st,na,Xt)}function ol($,me,Te,st,Xt,qt){var Tn=so($),_n=so(me),pr=Tn?c:qa($),gn=_n?c:qa(me);pr=pr==l?C:pr,gn=gn==l?C:gn;var Nr=pr==C,wa=gn==C,Ar=pr==gn;if(Ar&&Ei($)){if(!Ei(me))return!1;Tn=!0,Nr=!1}if(Ar&&!Nr)return qt||(qt=new is),Tn||No($)?ko($,me,Te,st,Xt,qt):Hs($,me,pr,Te,st,Xt,qt);if(!(Te&i)){var Cr=Nr&&ct.call($,"__wrapped__"),Kr=wa&&ct.call(me,"__wrapped__");if(Cr||Kr){var Ha=Cr?$.value():$,Gs=Kr?me.value():me;return qt||(qt=new is),Xt(Ha,Gs,Te,st,qt)}}return Ar?(qt||(qt=new is),Fu($,me,Te,st,Xt,qt)):!1}function hr($){if(!Da($)||Ys($))return!1;var me=jo($)?kt:B;return me.test(ei($))}function _o($){return $a($)&&Ua($.length)&&!!Z[za($)]}function Wl($){if(!ul($))return ar($);var me=[];for(var Te in Object($))ct.call($,Te)&&Te!="constructor"&&me.push(Te);return me}function ko($,me,Te,st,Xt,qt){var Tn=Te&i,_n=$.length,pr=me.length;if(_n!=pr&&!(Tn&&pr>_n))return!1;var gn=qt.get($);if(gn&&qt.get(me))return gn==me;var Nr=-1,wa=!0,Ar=Te&a?new xs:void 0;for(qt.set($,me),qt.set(me,$);++Nr<_n;){var Cr=$[Nr],Kr=me[Nr];if(st)var Ha=Tn?st(Kr,Cr,Nr,me,$,qt):st(Cr,Kr,Nr,$,me,qt);if(Ha!==void 0){if(Ha)continue;wa=!1;break}if(Ar){if(!he(me,function(Gs,Cs){if(!Le(Ar,Cs)&&(Cr===Gs||Xt(Cr,Gs,Te,st,qt)))return Ar.push(Cs)})){wa=!1;break}}else if(!(Cr===Kr||Xt(Cr,Kr,Te,st,qt))){wa=!1;break}}return qt.delete($),qt.delete(me),wa}function Hs($,me,Te,st,Xt,qt,Tn){switch(Te){case O:if($.byteLength!=me.byteLength||$.byteOffset!=me.byteOffset)return!1;$=$.buffer,me=me.buffer;case T:return!($.byteLength!=me.byteLength||!qt(new Kt($),new Kt(me)));case h:case g:case A:return Ss(+$,+me);case b:return $.name==me.name&&$.message==me.message;case z:case k:return $==me+"";case y:var _n=_e;case L:var pr=st&i;if(_n||(_n=ot),$.size!=me.size&&!pr)return!1;var gn=Tn.get($);if(gn)return gn==me;st|=a,Tn.set($,me);var Nr=ko(_n($),_n(me),st,Xt,qt,Tn);return Tn.delete($),Nr;case M:if(fr)return fr.call($)==fr.call(me)}return!1}function Fu($,me,Te,st,Xt,qt){var Tn=Te&i,_n=Ws($),pr=_n.length,gn=Ws(me),Nr=gn.length;if(pr!=Nr&&!Tn)return!1;for(var wa=pr;wa--;){var Ar=_n[wa];if(!(Tn?Ar in me:ct.call(me,Ar)))return!1}var Cr=qt.get($);if(Cr&&qt.get(me))return Cr==me;var Kr=!0;qt.set($,me),qt.set(me,$);for(var Ha=Tn;++wa<pr;){Ar=_n[wa];var Gs=$[Ar],Cs=me[Ar];if(st)var Xd=Tn?st(Cs,Gs,Ar,me,$,qt):st(Gs,Cs,Ar,$,me,qt);if(!(Xd===void 0?Gs===Cs||Xt(Gs,Cs,Te,st,qt):Xd)){Kr=!1;break}Ha||(Ha=Ar=="constructor")}if(Kr&&!Ha){var fl=$.constructor,To=me.constructor;fl!=To&&"constructor"in $&&"constructor"in me&&!(typeof fl=="function"&&fl instanceof fl&&typeof To=="function"&&To instanceof To)&&(Kr=!1)}return qt.delete($),qt.delete(me),Kr}function Ws($){return sl($,dl,Pu)}function Bi($,me){var Te=$.__data__;return ll(me)?Te[typeof me=="string"?"string":"hash"]:Te.map}function ss($,me){var Te=Pe($,me);return hr(Te)?Te:void 0}function ws($){var me=ct.call($,zn),Te=$[zn];try{$[zn]=void 0;var st=!0}catch{}var Xt=Rt.call($);return st&&(me?$[zn]=Te:delete $[zn]),Xt}var Pu=qn?function($){return $==null?[]:($=Object($),Se(qn($),function(me){return tn.call($,me)}))}:oo,qa=za;(Mn&&qa(new Mn(new ArrayBuffer(1)))!=O||Vt&&qa(new Vt)!=y||En&&qa(En.resolve())!=j||xa&&qa(new xa)!=L||Sr&&qa(new Sr)!=Q)&&(qa=function($){var me=za($),Te=me==C?$.constructor:void 0,st=Te?ei(Te):"";if(st)switch(st){case va:return O;case Dt:return y;case Wn:return j;case sr:return L;case Mr:return Q}return me});function Vs($,me){return me=me??s,!!me&&(typeof $=="number"||re.test($))&&$>-1&&$%1==0&&$<me}function ll($){var me=typeof $;return me=="string"||me=="number"||me=="symbol"||me=="boolean"?$!=="__proto__":$===null}function Ys($){return!!Je&&Je in $}function ul($){var me=$&&$.constructor,Te=typeof me=="function"&&me.prototype||xe;return $===Te}function ui($){return Rt.call($)}function ei($){if($!=null){try{return je.call($)}catch{}try{return $+""}catch{}}return""}function Ss($,me){return $===me||$!==$&&me!==me}var en=Hl(function(){return arguments}())?Hl:function($){return $a($)&&ct.call($,"callee")&&!tn.call($,"callee")},so=Array.isArray;function cl($){return $!=null&&Ua($.length)&&!jo($)}var Ei=Qr||As;function Ba($,me){return na($,me)}function jo($){if(!Da($))return!1;var me=za($);return me==m||me==x||me==d||me==F}function Ua($){return typeof $=="number"&&$>-1&&$%1==0&&$<=s}function Da($){var me=typeof $;return $!=null&&(me=="object"||me=="function")}function $a($){return $!=null&&typeof $=="object"}var No=V?we(V):_o;function dl($){return cl($)?ta($):Wl($)}function oo(){return[]}function As(){return!1}e.exports=Ba}(H1,H1.exports)),H1.exports}var gy={},m8;function uU(){if(m8)return gy;m8=1,Object.defineProperty(gy,"__esModule",{value:!0});const e=b7(),n=y7();var t;return function(r){function i(c={},d={},h=!1){typeof c!="object"&&(c={}),typeof d!="object"&&(d={});let g=e(d);h||(g=Object.keys(g).reduce((b,m)=>(g[m]!=null&&(b[m]=g[m]),b),{}));for(const b in c)c[b]!==void 0&&d[b]===void 0&&(g[b]=c[b]);return Object.keys(g).length>0?g:void 0}r.compose=i;function a(c={},d={}){typeof c!="object"&&(c={}),typeof d!="object"&&(d={});const h=Object.keys(c).concat(Object.keys(d)).reduce((g,b)=>(n(c[b],d[b])||(g[b]=d[b]===void 0?null:d[b]),g),{});return Object.keys(h).length>0?h:void 0}r.diff=a;function s(c={},d={}){c=c||{};const h=Object.keys(d).reduce((g,b)=>(d[b]!==c[b]&&c[b]!==void 0&&(g[b]=d[b]),g),{});return Object.keys(c).reduce((g,b)=>(c[b]!==d[b]&&d[b]===void 0&&(g[b]=null),g),h)}r.invert=s;function l(c,d,h=!1){if(typeof c!="object")return d;if(typeof d!="object")return;if(!h)return d;const g=Object.keys(d).reduce((b,m)=>(c[m]===void 0&&(b[m]=d[m]),b),{});return Object.keys(g).length>0?g:void 0}r.transform=l}(t||(t={})),gy.default=t,gy}var by={},g8;function x7(){if(g8)return by;g8=1,Object.defineProperty(by,"__esModule",{value:!0});var e;return function(n){function t(r){return typeof r.delete=="number"?r.delete:typeof r.retain=="number"?r.retain:typeof r.retain=="object"&&r.retain!==null?1:typeof r.insert=="string"?r.insert.length:1}n.length=t}(e||(e={})),by.default=e,by}var yy={},b8;function cU(){if(b8)return yy;b8=1,Object.defineProperty(yy,"__esModule",{value:!0});const e=x7();class n{constructor(r){this.ops=r,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(r){r||(r=1/0);const i=this.ops[this.index];if(i){const a=this.offset,s=e.default.length(i);if(r>=s-a?(r=s-a,this.index+=1,this.offset=0):this.offset+=r,typeof i.delete=="number")return{delete:r};{const l={};return i.attributes&&(l.attributes=i.attributes),typeof i.retain=="number"?l.retain=r:typeof i.retain=="object"&&i.retain!==null?l.retain=i.retain:typeof i.insert=="string"?l.insert=i.insert.substr(a,r):l.insert=i.insert,l}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?e.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const r=this.ops[this.index];return r?typeof r.delete=="number"?"delete":typeof r.retain=="number"||typeof r.retain=="object"&&r.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const r=this.offset,i=this.index,a=this.next(),s=this.ops.slice(this.index);return this.offset=r,this.index=i,[a].concat(s)}}else return[]}}return yy.default=n,yy}var y8;function dU(){return y8||(y8=1,function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AttributeMap=n.OpIterator=n.Op=void 0;const t=lU(),r=b7(),i=y7(),a=uU();n.AttributeMap=a.default;const s=x7();n.Op=s.default;const l=cU();n.OpIterator=l.default;const c="\0",d=(g,b)=>{if(typeof g!="object"||g===null)throw new Error(`cannot retain a ${typeof g}`);if(typeof b!="object"||b===null)throw new Error(`cannot retain a ${typeof b}`);const m=Object.keys(g)[0];if(!m||m!==Object.keys(b)[0])throw new Error(`embed types not matched: ${m} != ${Object.keys(b)[0]}`);return[m,g[m],b[m]]};class h{constructor(b){Array.isArray(b)?this.ops=b:b!=null&&Array.isArray(b.ops)?this.ops=b.ops:this.ops=[]}static registerEmbed(b,m){this.handlers[b]=m}static unregisterEmbed(b){delete this.handlers[b]}static getHandler(b){const m=this.handlers[b];if(!m)throw new Error(`no handlers for embed type "${b}"`);return m}insert(b,m){const x={};return typeof b=="string"&&b.length===0?this:(x.insert=b,m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(x.attributes=m),this.push(x))}delete(b){return b<=0?this:this.push({delete:b})}retain(b,m){if(typeof b=="number"&&b<=0)return this;const x={retain:b};return m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(x.attributes=m),this.push(x)}push(b){let m=this.ops.length,x=this.ops[m-1];if(b=r(b),typeof x=="object"){if(typeof b.delete=="number"&&typeof x.delete=="number")return this.ops[m-1]={delete:x.delete+b.delete},this;if(typeof x.delete=="number"&&b.insert!=null&&(m-=1,x=this.ops[m-1],typeof x!="object"))return this.ops.unshift(b),this;if(i(b.attributes,x.attributes)){if(typeof b.insert=="string"&&typeof x.insert=="string")return this.ops[m-1]={insert:x.insert+b.insert},typeof b.attributes=="object"&&(this.ops[m-1].attributes=b.attributes),this;if(typeof b.retain=="number"&&typeof x.retain=="number")return this.ops[m-1]={retain:x.retain+b.retain},typeof b.attributes=="object"&&(this.ops[m-1].attributes=b.attributes),this}}return m===this.ops.length?this.ops.push(b):this.ops.splice(m,0,b),this}chop(){const b=this.ops[this.ops.length-1];return b&&typeof b.retain=="number"&&!b.attributes&&this.ops.pop(),this}filter(b){return this.ops.filter(b)}forEach(b){this.ops.forEach(b)}map(b){return this.ops.map(b)}partition(b){const m=[],x=[];return this.forEach(y=>{(b(y)?m:x).push(y)}),[m,x]}reduce(b,m){return this.ops.reduce(b,m)}changeLength(){return this.reduce((b,m)=>m.insert?b+s.default.length(m):m.delete?b-m.delete:b,0)}length(){return this.reduce((b,m)=>b+s.default.length(m),0)}slice(b=0,m=1/0){const x=[],y=new l.default(this.ops);let A=0;for(;A<m&&y.hasNext();){let w;A<b?w=y.next(b-A):(w=y.next(m-A),x.push(w)),A+=s.default.length(w)}return new h(x)}compose(b){const m=new l.default(this.ops),x=new l.default(b.ops),y=[],A=x.peek();if(A!=null&&typeof A.retain=="number"&&A.attributes==null){let C=A.retain;for(;m.peekType()==="insert"&&m.peekLength()<=C;)C-=m.peekLength(),y.push(m.next());A.retain-C>0&&x.next(A.retain-C)}const w=new h(y);for(;m.hasNext()||x.hasNext();)if(x.peekType()==="insert")w.push(x.next());else if(m.peekType()==="delete")w.push(m.next());else{const C=Math.min(m.peekLength(),x.peekLength()),j=m.next(C),F=x.next(C);if(F.retain){const z={};if(typeof j.retain=="number")z.retain=typeof F.retain=="number"?C:F.retain;else if(typeof F.retain=="number")j.retain==null?z.insert=j.insert:z.retain=j.retain;else{const k=j.retain==null?"insert":"retain",[M,q,Q]=d(j[k],F.retain),T=h.getHandler(M);z[k]={[M]:T.compose(q,Q,k==="retain")}}const L=a.default.compose(j.attributes,F.attributes,typeof j.retain=="number");if(L&&(z.attributes=L),w.push(z),!x.hasNext()&&i(w.ops[w.ops.length-1],z)){const k=new h(m.rest());return w.concat(k).chop()}}else typeof F.delete=="number"&&(typeof j.retain=="number"||typeof j.retain=="object"&&j.retain!==null)&&w.push(F)}return w.chop()}concat(b){const m=new h(this.ops.slice());return b.ops.length>0&&(m.push(b.ops[0]),m.ops=m.ops.concat(b.ops.slice(1))),m}diff(b,m){if(this.ops===b.ops)return new h;const x=[this,b].map(j=>j.map(F=>{if(F.insert!=null)return typeof F.insert=="string"?F.insert:c;const z=j===b?"on":"with";throw new Error("diff() called "+z+" non-document")}).join("")),y=new h,A=t(x[0],x[1],m,!0),w=new l.default(this.ops),C=new l.default(b.ops);return A.forEach(j=>{let F=j[1].length;for(;F>0;){let z=0;switch(j[0]){case t.INSERT:z=Math.min(C.peekLength(),F),y.push(C.next(z));break;case t.DELETE:z=Math.min(F,w.peekLength()),w.next(z),y.delete(z);break;case t.EQUAL:z=Math.min(w.peekLength(),C.peekLength(),F);const L=w.next(z),k=C.next(z);i(L.insert,k.insert)?y.retain(z,a.default.diff(L.attributes,k.attributes)):y.push(k).delete(z);break}F-=z}}),y.chop()}eachLine(b,m=`
`){const x=new l.default(this.ops);let y=new h,A=0;for(;x.hasNext();){if(x.peekType()!=="insert")return;const w=x.peek(),C=s.default.length(w)-x.peekLength(),j=typeof w.insert=="string"?w.insert.indexOf(m,C)-C:-1;if(j<0)y.push(x.next());else if(j>0)y.push(x.next(j));else{if(b(y,x.next(1).attributes||{},A)===!1)return;A+=1,y=new h}}y.length()>0&&b(y,{},A)}invert(b){const m=new h;return this.reduce((x,y)=>{if(y.insert)m.delete(s.default.length(y));else{if(typeof y.retain=="number"&&y.attributes==null)return m.retain(y.retain),x+y.retain;if(y.delete||typeof y.retain=="number"){const A=y.delete||y.retain;return b.slice(x,x+A).forEach(C=>{y.delete?m.push(C):y.retain&&y.attributes&&m.retain(s.default.length(C),a.default.invert(y.attributes,C.attributes))}),x+A}else if(typeof y.retain=="object"&&y.retain!==null){const A=b.slice(x,x+1),w=new l.default(A.ops).next(),[C,j,F]=d(y.retain,w.insert),z=h.getHandler(C);return m.retain({[C]:z.invert(j,F)},a.default.invert(y.attributes,w.attributes)),x+1}}return x},0),m.chop()}transform(b,m=!1){if(m=!!m,typeof b=="number")return this.transformPosition(b,m);const x=b,y=new l.default(this.ops),A=new l.default(x.ops),w=new h;for(;y.hasNext()||A.hasNext();)if(y.peekType()==="insert"&&(m||A.peekType()!=="insert"))w.retain(s.default.length(y.next()));else if(A.peekType()==="insert")w.push(A.next());else{const C=Math.min(y.peekLength(),A.peekLength()),j=y.next(C),F=A.next(C);if(j.delete)continue;if(F.delete)w.push(F);else{const z=j.retain,L=F.retain;let k=typeof L=="object"&&L!==null?L:C;if(typeof z=="object"&&z!==null&&typeof L=="object"&&L!==null){const M=Object.keys(z)[0];if(M===Object.keys(L)[0]){const q=h.getHandler(M);q&&(k={[M]:q.transform(z[M],L[M],m)})}}w.retain(k,a.default.transform(j.attributes,F.attributes,m))}}return w.chop()}transformPosition(b,m=!1){m=!!m;const x=new l.default(this.ops);let y=0;for(;x.hasNext()&&y<=b;){const A=x.peekLength(),w=x.peekType();if(x.next(),w==="delete"){b-=Math.min(A,b-y);continue}else w==="insert"&&(y<b||!m)&&(b+=A);y+=A}return b}}h.Op=s.default,h.OpIterator=l.default,h.AttributeMap=a.default,h.handlers={},n.default=h,e.exports=h,e.exports.default=h}(my,my.exports)),my.exports}var Ll=dU();const $t=ns(Ll);class Tu extends il{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}Tu.blotName="break";Tu.tagName="BR";let Au=class extends kx{};const fU={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function dv(e){return e.replace(/[&<>"']/g,n=>fU[n])}const hc=class hc extends z6{static compare(n,t){const r=hc.order.indexOf(n),i=hc.order.indexOf(t);return r>=0||i>=0?r-i:n===t?0:n<t?-1:1}formatAt(n,t,r,i){if(hc.compare(this.statics.blotName,r)<0&&this.scroll.query(r,Ht.BLOT)){const a=this.isolate(n,t);i&&a.wrap(r,i)}else super.formatAt(n,t,r,i)}optimize(n){if(super.optimize(n),this.parent instanceof hc&&hc.compare(this.statics.blotName,this.parent.statics.blotName)>0){const t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}};Ze(hc,"allowedChildren",[hc,Tu,il,Au]),Ze(hc,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let Bc=hc;const x8=1;class bs extends gg{constructor(){super(...arguments);Ze(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=v7(this)),this.cache.delta}deleteAt(t,r){super.deleteAt(t,r),this.cache={}}formatAt(t,r,i,a){r<=0||(this.scroll.query(i,Ht.BLOCK)?t+r===this.length()&&this.format(i,a):super.formatAt(t,Math.min(r,this.length()-t-1),i,a),this.cache={})}insertAt(t,r,i){if(i!=null){super.insertAt(t,r,i),this.cache={};return}if(r.length===0)return;const a=r.split(`
`),s=a.shift();s.length>0&&(t<this.length()-1||this.children.tail==null?super.insertAt(Math.min(t,this.length()-1),s):this.children.tail.insertAt(this.children.tail.length(),s),this.cache={});let l=this;a.reduce((c,d)=>(l=l.split(c,!0),l.insertAt(0,d),d.length),t+s.length)}insertBefore(t,r){const{head:i}=this.children;super.insertBefore(t,r),i instanceof Tu&&i.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+x8),this.cache.length}moveChildren(t,r){super.moveChildren(t,r),this.cache={}}optimize(t){super.optimize(t),this.cache={}}path(t){return super.path(t,!0)}removeChild(t){super.removeChild(t),this.cache={}}split(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r&&(t===0||t>=this.length()-x8)){const a=this.clone();return t===0?(this.parent.insertBefore(a,this),this):(this.parent.insertBefore(a,this.next),a)}const i=super.split(t,r);return this.cache={},i}}bs.blotName="block";bs.tagName="P";bs.defaultChild=Tu;bs.allowedChildren=[Tu,Bc,il,Au];class Dl extends il{attach(){super.attach(),this.attributes=new uv(this.domNode)}delta(){return new $t().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(n,t){const r=this.scroll.query(n,Ht.BLOCK_ATTRIBUTE);r!=null&&this.attributes.attribute(r,t)}formatAt(n,t,r,i){this.format(r,i)}insertAt(n,t,r){if(r!=null){super.insertAt(n,t,r);return}const i=t.split(`
`),a=i.pop(),s=i.map(c=>{const d=this.scroll.create(bs.blotName);return d.insertAt(0,c),d}),l=this.split(n);s.forEach(c=>{this.parent.insertBefore(c,l)}),a&&this.parent.insertBefore(this.scroll.create("text",a),l)}}Dl.scope=Ht.BLOCK_BLOT;function v7(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.descendants(Fs).reduce((t,r)=>r.length()===0?t:t.insert(r.value(),_l(r,{},n)),new $t).insert(`
`,_l(e))}function _l(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return e==null||("formats"in e&&typeof e.formats=="function"&&(n={...n,...e.formats()},t&&delete n["code-token"]),e.parent==null||e.parent.statics.blotName==="scroll"||e.parent.statics.scope!==e.statics.scope)?n:_l(e.parent,n,t)}const Cl=class Cl extends il{static value(){}constructor(n,t,r){super(n,t),this.selection=r,this.textNode=document.createTextNode(Cl.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(n,t){if(this.savedLength!==0){super.format(n,t);return}let r=this,i=0;for(;r!=null&&r.statics.scope!==Ht.BLOCK_BLOT;)i+=r.offset(r.parent),r=r.parent;r!=null&&(this.savedLength=Cl.CONTENTS.length,r.optimize(),r.formatAt(i,Cl.CONTENTS.length,n,t),this.savedLength=0)}index(n,t){return n===this.textNode?0:super.index(n,t)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const n=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const t=this.prev instanceof Au?this.prev:null,r=t?t.length():0,i=this.next instanceof Au?this.next:null,a=i?i.text:"",{textNode:s}=this,l=s.data.split(Cl.CONTENTS).join("");s.data=Cl.CONTENTS;let c;if(t)c=t,(l||i)&&(t.insertAt(t.length(),l+a),i&&i.remove());else if(i)c=i,i.insertAt(0,l);else{const d=document.createTextNode(l);c=this.scroll.create(d),this.parent.insertBefore(c,this)}if(this.remove(),n){const d=(b,m)=>t&&b===t.domNode?m:b===s?r+m-1:i&&b===i.domNode?r+l.length+m:null,h=d(n.start.node,n.start.offset),g=d(n.end.node,n.end.offset);if(h!==null&&g!==null)return{startNode:c.domNode,startOffset:h,endNode:c.domNode,endOffset:g}}return null}update(n,t){if(n.some(r=>r.type==="characterData"&&r.target===this.textNode)){const r=this.restore();r&&(t.range=r)}}optimize(n){super.optimize(n);let{parent:t}=this;for(;t;){if(t.domNode.tagName==="A"){this.savedLength=Cl.CONTENTS.length,t.isolate(this.offset(t),this.length()).unwrap(),this.savedLength=0;break}t=t.parent}}value(){return""}};Ze(Cl,"blotName","cursor"),Ze(Cl,"className","ql-cursor"),Ze(Cl,"tagName","span"),Ze(Cl,"CONTENTS","\uFEFF");let Z0=Cl;var I5={exports:{}},v8;function hU(){return v8||(v8=1,function(e){var n=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(c,d,h){this.fn=c,this.context=d,this.once=h||!1}function a(c,d,h,g,b){if(typeof h!="function")throw new TypeError("The listener must be a function");var m=new i(h,g||c,b),x=t?t+d:d;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],m]:c._events[x].push(m):(c._events[x]=m,c._eventsCount++),c}function s(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],h,g;if(this._eventsCount===0)return d;for(g in h=this._events)n.call(h,g)&&d.push(t?g.slice(1):g);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},l.prototype.listeners=function(d){var h=t?t+d:d,g=this._events[h];if(!g)return[];if(g.fn)return[g.fn];for(var b=0,m=g.length,x=new Array(m);b<m;b++)x[b]=g[b].fn;return x},l.prototype.listenerCount=function(d){var h=t?t+d:d,g=this._events[h];return g?g.fn?1:g.length:0},l.prototype.emit=function(d,h,g,b,m,x){var y=t?t+d:d;if(!this._events[y])return!1;var A=this._events[y],w=arguments.length,C,j;if(A.fn){switch(A.once&&this.removeListener(d,A.fn,void 0,!0),w){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,h),!0;case 3:return A.fn.call(A.context,h,g),!0;case 4:return A.fn.call(A.context,h,g,b),!0;case 5:return A.fn.call(A.context,h,g,b,m),!0;case 6:return A.fn.call(A.context,h,g,b,m,x),!0}for(j=1,C=new Array(w-1);j<w;j++)C[j-1]=arguments[j];A.fn.apply(A.context,C)}else{var F=A.length,z;for(j=0;j<F;j++)switch(A[j].once&&this.removeListener(d,A[j].fn,void 0,!0),w){case 1:A[j].fn.call(A[j].context);break;case 2:A[j].fn.call(A[j].context,h);break;case 3:A[j].fn.call(A[j].context,h,g);break;case 4:A[j].fn.call(A[j].context,h,g,b);break;default:if(!C)for(z=1,C=new Array(w-1);z<w;z++)C[z-1]=arguments[z];A[j].fn.apply(A[j].context,C)}}return!0},l.prototype.on=function(d,h,g){return a(this,d,h,g,!1)},l.prototype.once=function(d,h,g){return a(this,d,h,g,!0)},l.prototype.removeListener=function(d,h,g,b){var m=t?t+d:d;if(!this._events[m])return this;if(!h)return s(this,m),this;var x=this._events[m];if(x.fn)x.fn===h&&(!b||x.once)&&(!g||x.context===g)&&s(this,m);else{for(var y=0,A=[],w=x.length;y<w;y++)(x[y].fn!==h||b&&!x[y].once||g&&x[y].context!==g)&&A.push(x[y]);A.length?this._events[m]=A.length===1?A[0]:A:s(this,m)}return this},l.prototype.removeAllListeners=function(d){var h;return d?(h=t?t+d:d,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=t,l.EventEmitter=l,e.exports=l}(I5)),I5.exports}var pU=hU();const mU=ns(pU),oS=new WeakMap,lS=["error","warn","log","info"];let uS="warn";function w7(e){if(uS&&lS.indexOf(e)<=lS.indexOf(uS)){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];console[e](...t)}}function Gd(e){return lS.reduce((n,t)=>(n[t]=w7.bind(console,t,e),n),{})}Gd.level=e=>{uS=e};w7.level=Gd.level;const D5=Gd("quill:events"),gU=["selectionchange","mousedown","mouseup","click"];gU.forEach(e=>{document.addEventListener(e,function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach(i=>{const a=oS.get(i);a&&a.emitter&&a.emitter.handleDOM(...t)})})});class Ft extends mU{constructor(){super(),this.domListeners={},this.on("error",D5.error)}emit(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return D5.log.call(D5,...t),super.emit(...t)}handleDOM(n){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];(this.domListeners[n.type]||[]).forEach(a=>{let{node:s,handler:l}=a;(n.target===s||s.contains(n.target))&&l(n,...r)})}listenDOM(n,t,r){this.domListeners[n]||(this.domListeners[n]=[]),this.domListeners[n].push({node:t,handler:r})}}Ze(Ft,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),Ze(Ft,"sources",{API:"api",SILENT:"silent",USER:"user"});const L5=Gd("quill:selection");class fp{constructor(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=n,this.length=t}}class bU{constructor(n,t){this.emitter=t,this.scroll=n,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new fp(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,Ft.sources.USER),1)}),this.emitter.on(Ft.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const r=this.getNativeRange();r!=null&&r.start.node!==this.cursor.textNode&&this.emitter.once(Ft.events.SCROLL_UPDATE,(i,a)=>{try{this.root.contains(r.start.node)&&this.root.contains(r.end.node)&&this.setNativeRange(r.start.node,r.start.offset,r.end.node,r.end.offset);const s=a.some(l=>l.type==="characterData"||l.type==="childList"||l.type==="attributes"&&l.target===this.root);this.update(s?Ft.sources.SILENT:i)}catch{}})}),this.emitter.on(Ft.events.SCROLL_OPTIMIZE,(r,i)=>{if(i.range){const{startNode:a,startOffset:s,endNode:l,endOffset:c}=i.range;this.setNativeRange(a,s,l,c),this.update(Ft.sources.SILENT)}}),this.update(Ft.sources.SILENT)}handleComposition(){this.emitter.on(Ft.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(Ft.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const n=this.cursor.restore();if(!n)return;setTimeout(()=>{this.setNativeRange(n.startNode,n.startOffset,n.endNode,n.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(Ft.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(n,t){this.scroll.update();const r=this.getNativeRange();if(!(r==null||!r.native.collapsed||this.scroll.query(n,Ht.BLOCK))){if(r.start.node!==this.cursor.textNode){const i=this.scroll.find(r.start.node,!1);if(i==null)return;if(i instanceof Fs){const a=i.split(r.start.offset);i.parent.insertBefore(this.cursor,a)}else i.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(n,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.scroll.length();n=Math.min(n,r-1),t=Math.min(n+t,r-1)-n;let i,[a,s]=this.scroll.leaf(n);if(a==null)return null;if(t>0&&s===a.length()){const[h]=this.scroll.leaf(n+1);if(h){const[g]=this.scroll.line(n),[b]=this.scroll.line(n+1);g===b&&(a=h,s=0)}}[i,s]=a.position(s,!0);const l=document.createRange();if(t>0)return l.setStart(i,s),[a,s]=this.scroll.leaf(n+t),a==null?null:([i,s]=a.position(s,!0),l.setEnd(i,s),l.getBoundingClientRect());let c="left",d;if(i instanceof Text){if(!i.data.length)return null;s<i.data.length?(l.setStart(i,s),l.setEnd(i,s+1)):(l.setStart(i,s-1),l.setEnd(i,s),c="right"),d=l.getBoundingClientRect()}else{if(!(a.domNode instanceof Element))return null;d=a.domNode.getBoundingClientRect(),s>0&&(c="right")}return{bottom:d.top+d.height,height:d.height,left:d[c],right:d[c],top:d.top,width:0}}getNativeRange(){const n=document.getSelection();if(n==null||n.rangeCount<=0)return null;const t=n.getRangeAt(0);if(t==null)return null;const r=this.normalizeNative(t);return L5.info("getNativeRange",r),r}getRange(){const n=this.scroll.domNode;if("isConnected"in n&&!n.isConnected)return[null,null];const t=this.getNativeRange();return t==null?[null,null]:[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&R5(this.root,document.activeElement)}normalizedToRange(n){const t=[[n.start.node,n.start.offset]];n.native.collapsed||t.push([n.end.node,n.end.offset]);const r=t.map(s=>{const[l,c]=s,d=this.scroll.find(l,!0),h=d.offset(this.scroll);return c===0?h:d instanceof Fs?h+d.index(l,c):h+d.length()}),i=Math.min(Math.max(...r),this.scroll.length()-1),a=Math.min(i,...r);return new fp(a,i-a)}normalizeNative(n){if(!R5(this.root,n.startContainer)||!n.collapsed&&!R5(this.root,n.endContainer))return null;const t={start:{node:n.startContainer,offset:n.startOffset},end:{node:n.endContainer,offset:n.endOffset},native:n};return[t.start,t.end].forEach(r=>{let{node:i,offset:a}=r;for(;!(i instanceof Text)&&i.childNodes.length>0;)if(i.childNodes.length>a)i=i.childNodes[a],a=0;else if(i.childNodes.length===a)i=i.lastChild,i instanceof Text?a=i.data.length:i.childNodes.length>0?a=i.childNodes.length:a=i.childNodes.length+1;else break;r.node=i,r.offset=a}),t}rangeToNative(n){const t=this.scroll.length(),r=(i,a)=>{i=Math.min(t-1,i);const[s,l]=this.scroll.leaf(i);return s?s.position(l,a):[null,-1]};return[...r(n.index,!1),...r(n.index+n.length,!0)]}setNativeRange(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(L5.info("setNativeRange",n,t,r,i),n!=null&&(this.root.parentNode==null||n.parentNode==null||r.parentNode==null))return;const s=document.getSelection();if(s!=null)if(n!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:l}=this.getNativeRange()||{};if(l==null||a||n!==l.startContainer||t!==l.startOffset||r!==l.endContainer||i!==l.endOffset){n instanceof Element&&n.tagName==="BR"&&(t=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode),r instanceof Element&&r.tagName==="BR"&&(i=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);const c=document.createRange();c.setStart(n,t),c.setEnd(r,i),s.removeAllRanges(),s.addRange(c)}}else s.removeAllRanges(),this.root.blur()}setRange(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ft.sources.API;if(typeof t=="string"&&(r=t,t=!1),L5.info("setRange",n),n!=null){const i=this.rangeToNative(n);this.setNativeRange(...i,t)}else this.setNativeRange(null);this.update(r)}update(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ft.sources.USER;const t=this.lastRange,[r,i]=this.getRange();if(this.lastRange=r,this.lastNative=i,this.lastRange!=null&&(this.savedRange=this.lastRange),!zf(t,this.lastRange)){if(!this.composing&&i!=null&&i.native.collapsed&&i.start.node!==this.cursor.textNode){const s=this.cursor.restore();s&&this.setNativeRange(s.startNode,s.startOffset,s.endNode,s.endOffset)}const a=[Ft.events.SELECTION_CHANGE,D0(this.lastRange),D0(t),n];this.emitter.emit(Ft.events.EDITOR_CHANGE,...a),n!==Ft.sources.SILENT&&this.emitter.emit(...a)}}}function R5(e,n){try{n.parentNode}catch{return!1}return e.contains(n)}const yU=/^[ -~]*$/;class xU{constructor(n){this.scroll=n,this.delta=this.getDelta()}applyDelta(n){this.scroll.update();let t=this.scroll.length();this.scroll.batchStart();const r=w8(n),i=new $t;return wU(r.ops.slice()).reduce((s,l)=>{const c=Ll.Op.length(l);let d=l.attributes||{},h=!1,g=!1;if(l.insert!=null){if(i.retain(c),typeof l.insert=="string"){const x=l.insert;g=!x.endsWith(`
`)&&(t<=s||!!this.scroll.descendant(Dl,s)[0]),this.scroll.insertAt(s,x);const[y,A]=this.scroll.line(s);let w=Zf({},_l(y));if(y instanceof bs){const[C]=y.descendant(Fs,A);C&&(w=Zf(w,_l(C)))}d=Ll.AttributeMap.diff(w,d)||{}}else if(typeof l.insert=="object"){const x=Object.keys(l.insert)[0];if(x==null)return s;const y=this.scroll.query(x,Ht.INLINE)!=null;if(y)(t<=s||this.scroll.descendant(Dl,s)[0])&&(g=!0);else if(s>0){const[A,w]=this.scroll.descendant(Fs,s-1);A instanceof Au?A.value()[w]!==`
`&&(h=!0):A instanceof il&&A.statics.scope===Ht.INLINE_BLOT&&(h=!0)}if(this.scroll.insertAt(s,x,l.insert[x]),y){const[A]=this.scroll.descendant(Fs,s);if(A){const w=Zf({},_l(A));d=Ll.AttributeMap.diff(w,d)||{}}}}t+=c}else if(i.push(l),l.retain!==null&&typeof l.retain=="object"){const x=Object.keys(l.retain)[0];if(x==null)return s;this.scroll.updateEmbedAt(s,x,l.retain[x])}Object.keys(d).forEach(x=>{this.scroll.formatAt(s,c,x,d[x])});const b=h?1:0,m=g?1:0;return t+=b+m,i.retain(b),i.delete(m),s+c+b+m},0),i.reduce((s,l)=>typeof l.delete=="number"?(this.scroll.deleteAt(s,l.delete),s):s+Ll.Op.length(l),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(n,t){return this.scroll.deleteAt(n,t),this.update(new $t().retain(n).delete(t))}formatLine(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach(a=>{this.scroll.lines(n,Math.max(t,1)).forEach(s=>{s.format(a,r[a])})}),this.scroll.optimize();const i=new $t().retain(n).retain(t,D0(r));return this.update(i)}formatText(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(r).forEach(a=>{this.scroll.formatAt(n,t,a,r[a])});const i=new $t().retain(n).retain(t,D0(r));return this.update(i)}getContents(n,t){return this.delta.slice(n,n+t)}getDelta(){return this.scroll.lines().reduce((n,t)=>n.concat(t.delta()),new $t)}getFormat(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=[],i=[];t===0?this.scroll.path(n).forEach(l=>{const[c]=l;c instanceof bs?r.push(c):c instanceof Fs&&i.push(c)}):(r=this.scroll.lines(n,t),i=this.scroll.descendants(Fs,n,t));const[a,s]=[r,i].map(l=>{const c=l.shift();if(c==null)return{};let d=_l(c);for(;Object.keys(d).length>0;){const h=l.shift();if(h==null)return d;d=vU(_l(h),d)}return d});return{...a,...s}}getHTML(n,t){const[r,i]=this.scroll.line(n);if(r){const a=r.length();return r.length()>=i+t&&!(i===0&&t===a)?bg(r,i,t,!0):bg(this.scroll,n,t,!0)}return""}getText(n,t){return this.getContents(n,t).filter(r=>typeof r.insert=="string").map(r=>r.insert).join("")}insertContents(n,t){const r=w8(t),i=new $t().retain(n).concat(r);return this.scroll.insertContents(n,r),this.update(i)}insertEmbed(n,t,r){return this.scroll.insertAt(n,t,r),this.update(new $t().retain(n).insert({[t]:r}))}insertText(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(n,t),Object.keys(r).forEach(i=>{this.scroll.formatAt(n,t.length,i,r[i])}),this.update(new $t().retain(n).insert(t,D0(r)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const n=this.scroll.children.head;if((n==null?void 0:n.statics.blotName)!==bs.blotName)return!1;const t=n;return t.children.length>1?!1:t.children.head instanceof Tu}removeFormat(n,t){const r=this.getText(n,t),[i,a]=this.scroll.line(n+t);let s=0,l=new $t;i!=null&&(s=i.length()-a,l=i.delta().slice(a,a+s-1).insert(`
`));const d=this.getContents(n,t+s).diff(new $t().insert(r).concat(l)),h=new $t().retain(n).concat(d);return this.applyDelta(h)}update(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const i=this.delta;if(t.length===1&&t[0].type==="characterData"&&t[0].target.data.match(yU)&&this.scroll.find(t[0].target)){const a=this.scroll.find(t[0].target),s=_l(a),l=a.offset(this.scroll),c=t[0].oldValue.replace(Z0.CONTENTS,""),d=new $t().insert(c),h=new $t().insert(a.value()),g=r&&{oldRange:S8(r.oldRange,-l),newRange:S8(r.newRange,-l)};n=new $t().retain(l).concat(d.diff(h,g)).reduce((m,x)=>x.insert?m.insert(x.insert,s):m.push(x),new $t),this.delta=i.compose(n)}else this.delta=this.getDelta(),(!n||!zf(i.compose(n),this.delta))&&(n=i.diff(this.delta,r));return n}}function _0(e,n,t){if(e.length===0){const[m]=M5(t.pop());return n<=0?`</li></${m}>`:`</li></${m}>${_0([],n-1,t)}`}const[{child:r,offset:i,length:a,indent:s,type:l},...c]=e,[d,h]=M5(l);if(s>n)return t.push(l),s===n+1?`<${d}><li${h}>${bg(r,i,a)}${_0(c,s,t)}`:`<${d}><li>${_0(e,n+1,t)}`;const g=t[t.length-1];if(s===n&&l===g)return`</li><li${h}>${bg(r,i,a)}${_0(c,s,t)}`;const[b]=M5(t.pop());return`</li></${b}>${_0(e,n-1,t)}`}function bg(e,n,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in e&&typeof e.html=="function")return e.html(n,t);if(e instanceof Au)return dv(e.value().slice(n,n+t)).replaceAll(" ","&nbsp;");if(e instanceof wu){if(e.statics.blotName==="list-container"){const d=[];return e.children.forEachAt(n,t,(h,g,b)=>{const m="formats"in h&&typeof h.formats=="function"?h.formats():{};d.push({child:h,offset:g,length:b,indent:m.indent||0,type:m.list})}),_0(d,-1,[])}const i=[];if(e.children.forEachAt(n,t,(d,h,g)=>{i.push(bg(d,h,g))}),r||e.statics.blotName==="list")return i.join("");const{outerHTML:a,innerHTML:s}=e.domNode,[l,c]=a.split(`>${s}<`);return l==="<table"?`<table style="border: 1px solid #000;">${i.join("")}<${c}`:`${l}>${i.join("")}<${c}`}return e.domNode instanceof Element?e.domNode.outerHTML:""}function vU(e,n){return Object.keys(n).reduce((t,r)=>{if(e[r]==null)return t;const i=n[r];return i===e[r]?t[r]=i:Array.isArray(i)?i.indexOf(e[r])<0?t[r]=i.concat([e[r]]):t[r]=i:t[r]=[i,e[r]],t},{})}function M5(e){const n=e==="ordered"?"ol":"ul";switch(e){case"checked":return[n,' data-list="checked"'];case"unchecked":return[n,' data-list="unchecked"'];default:return[n,""]}}function w8(e){return e.reduce((n,t)=>{if(typeof t.insert=="string"){const r=t.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return n.insert(r,t.attributes)}return n.push(t)},new $t)}function S8(e,n){let{index:t,length:r}=e;return new fp(t+n,r)}function wU(e){const n=[];return e.forEach(t=>{typeof t.insert=="string"?t.insert.split(`
`).forEach((i,a)=>{a&&n.push({insert:`
`,attributes:t.attributes}),i&&n.push({insert:i,attributes:t.attributes})}):n.push(t)}),n}class Ou{constructor(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=n,this.options=t}}Ze(Ou,"DEFAULTS",{});const xy="\uFEFF";class B6 extends il{constructor(n,t){super(n,t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(r=>{this.contentNode.appendChild(r)}),this.leftGuard=document.createTextNode(xy),this.rightGuard=document.createTextNode(xy),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(n,t){return n===this.leftGuard?0:n===this.rightGuard?1:super.index(n,t)}restore(n){let t=null,r;const i=n.data.split(xy).join("");if(n===this.leftGuard)if(this.prev instanceof Au){const a=this.prev.length();this.prev.insertAt(a,i),t={startNode:this.prev.domNode,startOffset:a+i.length}}else r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this),t={startNode:r,startOffset:i.length};else n===this.rightGuard&&(this.next instanceof Au?(this.next.insertAt(0,i),t={startNode:this.next.domNode,startOffset:i.length}):(r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this.next),t={startNode:r,startOffset:i.length}));return n.data=xy,t}update(n,t){n.forEach(r=>{if(r.type==="characterData"&&(r.target===this.leftGuard||r.target===this.rightGuard)){const i=this.restore(r.target);i&&(t.range=i)}})}}class SU{constructor(n,t){Ze(this,"isComposing",!1);this.scroll=n,this.emitter=t,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",n=>{this.isComposing||this.handleCompositionStart(n)}),this.scroll.domNode.addEventListener("compositionend",n=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(n)})})}handleCompositionStart(n){const t=n.target instanceof Node?this.scroll.find(n.target,!0):null;t&&!(t instanceof B6)&&(this.emitter.emit(Ft.events.COMPOSITION_BEFORE_START,n),this.scroll.batchStart(),this.emitter.emit(Ft.events.COMPOSITION_START,n),this.isComposing=!0)}handleCompositionEnd(n){this.emitter.emit(Ft.events.COMPOSITION_BEFORE_END,n),this.scroll.batchEnd(),this.emitter.emit(Ft.events.COMPOSITION_END,n),this.isComposing=!1}}const rg=class rg{constructor(n,t){Ze(this,"modules",{});this.quill=n,this.options=t}init(){Object.keys(this.options.modules).forEach(n=>{this.modules[n]==null&&this.addModule(n)})}addModule(n){const t=this.quill.constructor.import(`modules/${n}`);return this.modules[n]=new t(this.quill,this.options.modules[n]||{}),this.modules[n]}};Ze(rg,"DEFAULTS",{modules:{}}),Ze(rg,"themes",{default:rg});let J0=rg;const AU=e=>e.parentElement||e.getRootNode().host||null,CU=e=>{const n=e.getBoundingClientRect(),t="offsetWidth"in e&&Math.abs(n.width)/e.offsetWidth||1,r="offsetHeight"in e&&Math.abs(n.height)/e.offsetHeight||1;return{top:n.top,right:n.left+e.clientWidth*t,bottom:n.top+e.clientHeight*r,left:n.left}},vy=e=>{const n=parseInt(e,10);return Number.isNaN(n)?0:n},A8=(e,n,t,r,i,a)=>e<t&&n>r?0:e<t?-(t-e+i):n>r?n-e>r-t?e+i-t:n-r+a:0,EU=(e,n)=>{var a,s,l;const t=e.ownerDocument;let r=n,i=e;for(;i;){const c=i===t.body,d=c?{top:0,right:((a=window.visualViewport)==null?void 0:a.width)??t.documentElement.clientWidth,bottom:((s=window.visualViewport)==null?void 0:s.height)??t.documentElement.clientHeight,left:0}:CU(i),h=getComputedStyle(i),g=A8(r.left,r.right,d.left,d.right,vy(h.scrollPaddingLeft),vy(h.scrollPaddingRight)),b=A8(r.top,r.bottom,d.top,d.bottom,vy(h.scrollPaddingTop),vy(h.scrollPaddingBottom));if(g||b)if(c)(l=t.defaultView)==null||l.scrollBy(g,b);else{const{scrollLeft:m,scrollTop:x}=i;b&&(i.scrollTop+=b),g&&(i.scrollLeft+=g);const y=i.scrollLeft-m,A=i.scrollTop-x;r={left:r.left-y,top:r.top-A,right:r.right-y,bottom:r.bottom-A}}i=c||h.position==="fixed"?null:AU(i)}},_U=100,kU=["block","break","cursor","inline","scroll","text"],jU=(e,n,t)=>{const r=new X0;return kU.forEach(i=>{const a=n.query(i);a&&r.register(a)}),e.forEach(i=>{let a=n.query(i);a||t.error(`Cannot register "${i}" specified in "formats" config. Are you sure it was registered?`);let s=0;for(;a;)if(r.register(a),a="blotName"in a?a.requiredContainer??null:null,s+=1,s>_U){t.error(`Cycle detected in registering blot requiredContainer: "${i}"`);break}}),r},R0=Gd("quill"),wy=new X0;wu.uiClass="ql-ui";const hu=class hu{static debug(n){n===!0&&(n="log"),Gd.level(n)}static find(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return oS.get(n)||wy.find(n,t)}static import(n){return this.imports[n]==null&&R0.error(`Cannot import ${n}. Are you sure it was registered?`),this.imports[n]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const n=arguments.length<=0?void 0:arguments[0],t=!!(!(arguments.length<=1)&&arguments[1]),r="attrName"in n?n.attrName:n.blotName;typeof r=="string"?this.register(`formats/${r}`,n,t):Object.keys(n).forEach(i=>{this.register(i,n[i],t)})}else{const n=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],r=!!(!(arguments.length<=2)&&arguments[2]);this.imports[n]!=null&&!r&&R0.warn(`Overwriting ${n} with`,t),this.imports[n]=t,(n.startsWith("blots/")||n.startsWith("formats/"))&&t&&typeof t!="boolean"&&t.blotName!=="abstract"&&wy.register(t),typeof t.register=="function"&&t.register(wy)}}constructor(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=NU(n,t),this.container=this.options.container,this.container==null){R0.error("Invalid Quill container",n);return}this.options.debug&&hu.debug(this.options.debug);const r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",oS.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new Ft;const i=q6.blotName,a=this.options.registry.query(i);if(!a||!("blotName"in a))throw new Error(`Cannot initialize Quill without "${i}" blot`);if(this.scroll=new a(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new xU(this.scroll),this.selection=new bU(this.scroll,this.emitter),this.composition=new SU(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(Ft.events.EDITOR_CHANGE,s=>{s===Ft.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(Ft.events.SCROLL_UPDATE,(s,l)=>{const c=this.selection.lastRange,[d]=this.selection.getRange(),h=c&&d?{oldRange:c,newRange:d}:void 0;cu.call(this,()=>this.editor.update(null,l,h),s)}),this.emitter.on(Ft.events.SCROLL_EMBED_UPDATE,(s,l)=>{const c=this.selection.lastRange,[d]=this.selection.getRange(),h=c&&d?{oldRange:c,newRange:d}:void 0;cu.call(this,()=>{const g=new $t().retain(s.offset(this)).retain({[s.statics.blotName]:l});return this.editor.update(g,[],h)},hu.sources.USER)}),r){const s=this.clipboard.convert({html:`${r}<p><br></p>`,text:`
`});this.setContents(s)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof n=="string"){const r=n;n=document.createElement("div"),n.classList.add(r)}return this.container.insertBefore(n,t),n}blur(){this.selection.setRange(null)}deleteText(n,t,r){return[n,t,,r]=xd(n,t,r),cu.call(this,()=>this.editor.deleteText(n,t),r,n,-1*t)}disable(){this.enable(!1)}editReadOnly(n){this.allowReadOnlyEdits=!0;const t=n();return this.allowReadOnlyEdits=!1,t}enable(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(n),this.container.classList.toggle("ql-disabled",!n)}focus(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),n.preventScroll||this.scrollSelectionIntoView()}format(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ft.sources.API;return cu.call(this,()=>{const i=this.getSelection(!0);let a=new $t;if(i==null)return a;if(this.scroll.query(n,Ht.BLOCK))a=this.editor.formatLine(i.index,i.length,{[n]:t});else{if(i.length===0)return this.selection.format(n,t),a;a=this.editor.formatText(i.index,i.length,{[n]:t})}return this.setSelection(i,Ft.sources.SILENT),a},r)}formatLine(n,t,r,i,a){let s;return[n,t,s,a]=xd(n,t,r,i,a),cu.call(this,()=>this.editor.formatLine(n,t,s),a,n,0)}formatText(n,t,r,i,a){let s;return[n,t,s,a]=xd(n,t,r,i,a),cu.call(this,()=>this.editor.formatText(n,t,s),a,n,0)}getBounds(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=null;if(typeof n=="number"?r=this.selection.getBounds(n,t):r=this.selection.getBounds(n.index,n.length),!r)return null;const i=this.container.getBoundingClientRect();return{bottom:r.bottom-i.top,height:r.height,left:r.left-i.left,right:r.right-i.left,top:r.top-i.top,width:r.width}}getContents(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-n;return[n,t]=xd(n,t),this.editor.getContents(n,t)}getFormat(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof n=="number"?this.editor.getFormat(n,t):this.editor.getFormat(n.index,n.length)}getIndex(n){return n.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(n){return this.scroll.leaf(n)}getLine(n){return this.scroll.line(n)}getLines(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof n!="number"?this.scroll.lines(n.index,n.length):this.scroll.lines(n,t)}getModule(n){return this.theme.modules[n]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof n=="number"&&(t=t??this.getLength()-n),[n,t]=xd(n,t),this.editor.getHTML(n,t)}getText(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof n=="number"&&(t=t??this.getLength()-n),[n,t]=xd(n,t),this.editor.getText(n,t)}hasFocus(){return this.selection.hasFocus()}insertEmbed(n,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:hu.sources.API;return cu.call(this,()=>this.editor.insertEmbed(n,t,r),i,n)}insertText(n,t,r,i,a){let s;return[n,,s,a]=xd(n,0,r,i,a),cu.call(this,()=>this.editor.insertText(n,t,s),a,n,t.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(n,t,r){return[n,t,,r]=xd(n,t,r),cu.call(this,()=>this.editor.removeFormat(n,t),r,n)}scrollRectIntoView(n){EU(this.root,n)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const n=this.selection.lastRange,t=n&&this.selection.getBounds(n.index,n.length);t&&this.scrollRectIntoView(t)}setContents(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ft.sources.API;return cu.call(this,()=>{n=new $t(n);const r=this.getLength(),i=this.editor.deleteText(0,r),a=this.editor.insertContents(0,n),s=this.editor.deleteText(this.getLength()-1,1);return i.compose(a).compose(s)},t)}setSelection(n,t,r){n==null?this.selection.setRange(null,t||hu.sources.API):([n,t,,r]=xd(n,t,r),this.selection.setRange(new fp(Math.max(0,n),t),r),r!==Ft.sources.SILENT&&this.scrollSelectionIntoView())}setText(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ft.sources.API;const r=new $t().insert(n);return this.setContents(r,t)}update(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ft.sources.USER;const t=this.scroll.update(n);return this.selection.update(n),t}updateContents(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ft.sources.API;return cu.call(this,()=>(n=new $t(n),this.editor.applyDelta(n)),t,!0)}};Ze(hu,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:wy,theme:"default"}),Ze(hu,"events",Ft.events),Ze(hu,"sources",Ft.sources),Ze(hu,"version","2.0.3"),Ze(hu,"imports",{delta:$t,parchment:oU,"core/module":Ou,"core/theme":J0});let St=hu;function C8(e){return typeof e=="string"?document.querySelector(e):e}function F5(e){return Object.entries(e??{}).reduce((n,t)=>{let[r,i]=t;return{...n,[r]:i===!0?{}:i}},{})}function E8(e){return Object.fromEntries(Object.entries(e).filter(n=>n[1]!==void 0))}function NU(e,n){const t=C8(e);if(!t)throw new Error("Invalid Quill container");const i=!n.theme||n.theme===St.DEFAULTS.theme?J0:St.import(`themes/${n.theme}`);if(!i)throw new Error(`Invalid theme ${n.theme}. Did you register it?`);const{modules:a,...s}=St.DEFAULTS,{modules:l,...c}=i.DEFAULTS;let d=F5(n.modules);d!=null&&d.toolbar&&d.toolbar.constructor!==Object&&(d={...d,toolbar:{container:d.toolbar}});const h=Zf({},F5(a),F5(l),d),g={...s,...E8(c),...E8(n)};let b=n.registry;return b?n.formats&&R0.warn('Ignoring "formats" option because "registry" is specified'):b=n.formats?jU(n.formats,g.registry,R0):g.registry,{...g,registry:b,container:t,theme:i,modules:Object.entries(h).reduce((m,x)=>{let[y,A]=x;if(!A)return m;const w=St.import(`modules/${y}`);return w==null?(R0.error(`Cannot load ${y} module. Are you sure you registered it?`),m):{...m,[y]:Zf({},w.DEFAULTS||{},A)}},{}),bounds:C8(g.bounds)}}function cu(e,n,t,r){if(!this.isEnabled()&&n===Ft.sources.USER&&!this.allowReadOnlyEdits)return new $t;let i=t==null?null:this.getSelection();const a=this.editor.delta,s=e();if(i!=null&&(t===!0&&(t=i.index),r==null?i=_8(i,s,n):r!==0&&(i=_8(i,t,r,n)),this.setSelection(i,Ft.sources.SILENT)),s.length()>0){const l=[Ft.events.TEXT_CHANGE,s,a,n];this.emitter.emit(Ft.events.EDITOR_CHANGE,...l),n!==Ft.sources.SILENT&&this.emitter.emit(...l)}return s}function xd(e,n,t,r,i){let a={};return typeof e.index=="number"&&typeof e.length=="number"?typeof n!="number"?(i=r,r=t,t=n,n=e.length,e=e.index):(n=e.length,e=e.index):typeof n!="number"&&(i=r,r=t,t=n,n=0),typeof t=="object"?(a=t,i=r):typeof t=="string"&&(r!=null?a[t]=r:i=t),i=i||Ft.sources.API,[e,n,a,i]}function _8(e,n,t,r){const i=typeof t=="number"?t:0;if(e==null)return null;let a,s;return n&&typeof n.transformPosition=="function"?[a,s]=[e.index,e.index+e.length].map(l=>n.transformPosition(l,r!==Ft.sources.USER)):[a,s]=[e.index,e.index+e.length].map(l=>l<n||l===n&&r===Ft.sources.USER?l:i>=0?l+i:Math.max(n,l+i)),new fp(a,s-a)}class Sp extends cv{}function k8(e){return e instanceof bs||e instanceof Dl}function j8(e){return typeof e.updateContent=="function"}class k0 extends q6{constructor(n,t,r){let{emitter:i}=r;super(n,t),this.emitter=i,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",a=>this.handleDragStart(a))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const n=this.batch;this.batch=!1,this.update(n)}emitMount(n){this.emitter.emit(Ft.events.SCROLL_BLOT_MOUNT,n)}emitUnmount(n){this.emitter.emit(Ft.events.SCROLL_BLOT_UNMOUNT,n)}emitEmbedUpdate(n,t){this.emitter.emit(Ft.events.SCROLL_EMBED_UPDATE,n,t)}deleteAt(n,t){const[r,i]=this.line(n),[a]=this.line(n+t);if(super.deleteAt(n,t),a!=null&&r!==a&&i>0){if(r instanceof Dl||a instanceof Dl){this.optimize();return}const s=a.children.head instanceof Tu?null:a.children.head;r.moveChildren(a,s),r.remove()}this.optimize()}enable(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",n?"true":"false")}formatAt(n,t,r,i){super.formatAt(n,t,r,i),this.optimize()}insertAt(n,t,r){if(n>=this.length())if(r==null||this.scroll.query(t,Ht.BLOCK)==null){const i=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(i),r==null&&t.endsWith(`
`)?i.insertAt(0,t.slice(0,-1),r):i.insertAt(0,t,r)}else{const i=this.scroll.create(t,r);this.appendChild(i)}else super.insertAt(n,t,r);this.optimize()}insertBefore(n,t){if(n.statics.scope===Ht.INLINE_BLOT){const r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(n),super.insertBefore(r,t)}else super.insertBefore(n,t)}insertContents(n,t){const r=this.deltaToRenderBlocks(t.concat(new $t().insert(`
`))),i=r.pop();if(i==null)return;this.batchStart();const a=r.shift();if(a){const c=a.type==="block"&&(a.delta.length()===0||!this.descendant(Dl,n)[0]&&n<this.length()),d=a.type==="block"?a.delta:new $t().insert({[a.key]:a.value});P5(this,n,d);const h=a.type==="block"?1:0,g=n+d.length()+h;c&&this.insertAt(g-1,`
`);const b=_l(this.line(n)[0]),m=Ll.AttributeMap.diff(b,a.attributes)||{};Object.keys(m).forEach(x=>{this.formatAt(g-1,1,x,m[x])}),n=g}let[s,l]=this.children.find(n);if(r.length&&(s&&(s=s.split(l),l=0),r.forEach(c=>{if(c.type==="block"){const d=this.createBlock(c.attributes,s||void 0);P5(d,0,c.delta)}else{const d=this.create(c.key,c.value);this.insertBefore(d,s||void 0),Object.keys(c.attributes).forEach(h=>{d.format(h,c.attributes[h])})}})),i.type==="block"&&i.delta.length()){const c=s?s.offset(s.scroll)+l:this.length();P5(this,c,i.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(n){const t=this.path(n).pop();if(!t)return[null,-1];const[r,i]=t;return r instanceof Fs?[r,i]:[null,-1]}line(n){return n===this.length()?this.line(n-1):this.descendant(k8,n)}lines(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const r=(i,a,s)=>{let l=[],c=s;return i.children.forEachAt(a,s,(d,h,g)=>{k8(d)?l.push(d):d instanceof cv&&(l=l.concat(r(d,h,c))),c-=g}),l};return r(this,n,t)}optimize(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(n,t),n.length>0&&this.emitter.emit(Ft.events.SCROLL_OPTIMIZE,n,t))}path(n){return super.path(n).slice(1)}remove(){}update(n){if(this.batch){Array.isArray(n)&&(this.batch=this.batch.concat(n));return}let t=Ft.sources.USER;typeof n=="string"&&(t=n),Array.isArray(n)||(n=this.observer.takeRecords()),n=n.filter(r=>{let{target:i}=r;const a=this.find(i,!0);return a&&!j8(a)}),n.length>0&&this.emitter.emit(Ft.events.SCROLL_BEFORE_UPDATE,t,n),super.update(n.concat([])),n.length>0&&this.emitter.emit(Ft.events.SCROLL_UPDATE,t,n)}updateEmbedAt(n,t,r){const[i]=this.descendant(a=>a instanceof Dl,n);i&&i.statics.blotName===t&&j8(i)&&i.updateContent(r)}handleDragStart(n){n.preventDefault()}deltaToRenderBlocks(n){const t=[];let r=new $t;return n.forEach(i=>{const a=i==null?void 0:i.insert;if(a)if(typeof a=="string"){const s=a.split(`
`);s.slice(0,-1).forEach(c=>{r.insert(c,i.attributes),t.push({type:"block",delta:r,attributes:i.attributes??{}}),r=new $t});const l=s[s.length-1];l&&r.insert(l,i.attributes)}else{const s=Object.keys(a)[0];if(!s)return;this.query(s,Ht.INLINE)?r.push(i):(r.length()&&t.push({type:"block",delta:r,attributes:{}}),r=new $t,t.push({type:"blockEmbed",key:s,value:a[s],attributes:i.attributes??{}}))}}),r.length()&&t.push({type:"block",delta:r,attributes:{}}),t}createBlock(n,t){let r;const i={};Object.entries(n).forEach(l=>{let[c,d]=l;this.query(c,Ht.BLOCK&Ht.BLOT)!=null?r=c:i[c]=d});const a=this.create(r||this.statics.defaultChild.blotName,r?n[r]:void 0);this.insertBefore(a,t||void 0);const s=a.length();return Object.entries(i).forEach(l=>{let[c,d]=l;a.formatAt(0,s,c,d)}),a}}Ze(k0,"blotName","scroll"),Ze(k0,"className","ql-editor"),Ze(k0,"tagName","DIV"),Ze(k0,"defaultChild",bs),Ze(k0,"allowedChildren",[bs,Dl,Sp]);function P5(e,n,t){t.reduce((r,i)=>{const a=Ll.Op.length(i);let s=i.attributes||{};if(i.insert!=null){if(typeof i.insert=="string"){const l=i.insert;e.insertAt(r,l);const[c]=e.descendant(Fs,r),d=_l(c);s=Ll.AttributeMap.diff(d,s)||{}}else if(typeof i.insert=="object"){const l=Object.keys(i.insert)[0];if(l==null)return r;if(e.insertAt(r,l,i.insert[l]),e.scroll.query(l,Ht.INLINE)!=null){const[d]=e.descendant(Fs,r),h=_l(d);s=Ll.AttributeMap.diff(h,s)||{}}}}return Object.keys(s).forEach(l=>{e.formatAt(r,a,l,s[l])}),r+a},n)}const U6={scope:Ht.BLOCK,whitelist:["right","center","justify"]},TU=new qc("align","align",U6),S7=new Nu("align","ql-align",U6),A7=new fh("align","text-align",U6);class C7 extends fh{value(n){let t=super.value(n);return t.startsWith("rgb(")?(t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${t.split(",").map(i=>`00${parseInt(i,10).toString(16)}`.slice(-2)).join("")}`):t}}const OU=new Nu("color","ql-color",{scope:Ht.INLINE}),$6=new C7("color","color",{scope:Ht.INLINE}),IU=new Nu("background","ql-bg",{scope:Ht.INLINE}),H6=new C7("background","background-color",{scope:Ht.INLINE});class Ap extends Sp{static create(n){const t=super.create(n);return t.setAttribute("spellcheck","false"),t}code(n,t){return this.children.map(r=>r.length()<=1?"":r.domNode.innerText).join(`
`).slice(n,n+t)}html(n,t){return`<pre>
${dv(this.code(n,t))}
</pre>`}}class Us extends bs{static register(){St.register(Ap)}}Ze(Us,"TAB","  ");class W6 extends Bc{}W6.blotName="code";W6.tagName="CODE";Us.blotName="code-block";Us.className="ql-code-block";Us.tagName="DIV";Ap.blotName="code-block-container";Ap.className="ql-code-block-container";Ap.tagName="DIV";Ap.allowedChildren=[Us];Us.allowedChildren=[Au,Tu,Z0];Us.requiredContainer=Ap;const V6={scope:Ht.BLOCK,whitelist:["rtl"]},E7=new qc("direction","dir",V6),_7=new Nu("direction","ql-direction",V6),k7=new fh("direction","direction",V6),j7={scope:Ht.INLINE,whitelist:["serif","monospace"]},N7=new Nu("font","ql-font",j7);class DU extends fh{value(n){return super.value(n).replace(/["']/g,"")}}const T7=new DU("font","font-family",j7),O7=new Nu("size","ql-size",{scope:Ht.INLINE,whitelist:["small","large","huge"]}),I7=new fh("size","font-size",{scope:Ht.INLINE,whitelist:["10px","18px","32px"]}),LU=Gd("quill:keyboard"),RU=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class fv extends Ou{static match(n,t){return["altKey","ctrlKey","metaKey","shiftKey"].some(r=>!!t[r]!==n[r]&&t[r]!==null)?!1:t.key===n.key||t.key===n.which}constructor(n,t){super(n,t),this.bindings={},Object.keys(this.options.bindings).forEach(r=>{this.options.bindings[r]&&this.addBinding(this.options.bindings[r])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=FU(n);if(i==null){LU.warn("Attempted to add invalid keyboard binding",i);return}typeof t=="function"&&(t={handler:t}),typeof r=="function"&&(r={handler:r}),(Array.isArray(i.key)?i.key:[i.key]).forEach(s=>{const l={...i,key:s,...t,...r};this.bindings[l.key]=this.bindings[l.key]||[],this.bindings[l.key].push(l)})}listen(){this.quill.root.addEventListener("keydown",n=>{if(n.defaultPrevented||n.isComposing||n.keyCode===229&&(n.key==="Enter"||n.key==="Backspace"))return;const i=(this.bindings[n.key]||[]).concat(this.bindings[n.which]||[]).filter(w=>fv.match(n,w));if(i.length===0)return;const a=St.find(n.target,!0);if(a&&a.scroll!==this.quill.scroll)return;const s=this.quill.getSelection();if(s==null||!this.quill.hasFocus())return;const[l,c]=this.quill.getLine(s.index),[d,h]=this.quill.getLeaf(s.index),[g,b]=s.length===0?[d,h]:this.quill.getLeaf(s.index+s.length),m=d instanceof kx?d.value().slice(0,h):"",x=g instanceof kx?g.value().slice(b):"",y={collapsed:s.length===0,empty:s.length===0&&l.length()<=1,format:this.quill.getFormat(s),line:l,offset:c,prefix:m,suffix:x,event:n};i.some(w=>{if(w.collapsed!=null&&w.collapsed!==y.collapsed||w.empty!=null&&w.empty!==y.empty||w.offset!=null&&w.offset!==y.offset)return!1;if(Array.isArray(w.format)){if(w.format.every(C=>y.format[C]==null))return!1}else if(typeof w.format=="object"&&!Object.keys(w.format).every(C=>w.format[C]===!0?y.format[C]!=null:w.format[C]===!1?y.format[C]==null:zf(w.format[C],y.format[C])))return!1;return w.prefix!=null&&!w.prefix.test(y.prefix)||w.suffix!=null&&!w.suffix.test(y.suffix)?!1:w.handler.call(this,s,y,w)!==!0})&&n.preventDefault()})}handleBackspace(n,t){const r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(n.index===0||this.quill.getLength()<=1)return;let i={};const[a]=this.quill.getLine(n.index);let s=new $t().retain(n.index-r).delete(r);if(t.offset===0){const[l]=this.quill.getLine(n.index-1);if(l&&!(l.statics.blotName==="block"&&l.length()<=1)){const d=a.formats(),h=this.quill.getFormat(n.index-1,1);if(i=Ll.AttributeMap.diff(d,h)||{},Object.keys(i).length>0){const g=new $t().retain(n.index+a.length()-2).retain(1,i);s=s.compose(g)}}}this.quill.updateContents(s,St.sources.USER),this.quill.focus()}handleDelete(n,t){const r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(n.index>=this.quill.getLength()-r)return;let i={};const[a]=this.quill.getLine(n.index);let s=new $t().retain(n.index).delete(r);if(t.offset>=a.length()-1){const[l]=this.quill.getLine(n.index+1);if(l){const c=a.formats(),d=this.quill.getFormat(n.index,1);i=Ll.AttributeMap.diff(c,d)||{},Object.keys(i).length>0&&(s=s.retain(l.length()-1).retain(1,i))}}this.quill.updateContents(s,St.sources.USER),this.quill.focus()}handleDeleteRange(n){Y6({range:n,quill:this.quill}),this.quill.focus()}handleEnter(n,t){const r=Object.keys(t.format).reduce((a,s)=>(this.quill.scroll.query(s,Ht.BLOCK)&&!Array.isArray(t.format[s])&&(a[s]=t.format[s]),a),{}),i=new $t().retain(n.index).delete(n.length).insert(`
`,r);this.quill.updateContents(i,St.sources.USER),this.quill.setSelection(n.index+1,St.sources.SILENT),this.quill.focus()}}const MU={bindings:{bold:z5("bold"),italic:z5("italic"),underline:z5("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(e,n){return n.collapsed&&n.offset!==0?!0:(this.quill.format("indent","+1",St.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(e,n){return n.collapsed&&n.offset!==0?!0:(this.quill.format("indent","-1",St.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(e,n){n.format.indent!=null?this.quill.format("indent","-1",St.sources.USER):n.format.list!=null&&this.quill.format("list",!1,St.sources.USER)}},"indent code-block":N8(!0),"outdent code-block":N8(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(e){this.quill.deleteText(e.index-1,1,St.sources.USER)}},tab:{key:"Tab",handler(e,n){if(n.format.table)return!0;this.quill.history.cutoff();const t=new $t().retain(e.index).delete(e.length).insert("	");return this.quill.updateContents(t,St.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,St.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,St.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(e,n){const t={list:!1};n.format.indent&&(t.indent=!1),this.quill.formatLine(e.index,e.length,t,St.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(e){const[n,t]=this.quill.getLine(e.index),r={...n.formats(),list:"checked"},i=new $t().retain(e.index).insert(`
`,r).retain(n.length()-t-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,St.sources.USER),this.quill.setSelection(e.index+1,St.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(e,n){const[t,r]=this.quill.getLine(e.index),i=new $t().retain(e.index).insert(`
`,n.format).retain(t.length()-r-1).retain(1,{header:null});this.quill.updateContents(i,St.sources.USER),this.quill.setSelection(e.index+1,St.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(e){const n=this.quill.getModule("table");if(n){const[t,r,i,a]=n.getTable(e),s=PU(t,r,i,a);if(s==null)return;let l=t.offset();if(s<0){const c=new $t().retain(l).insert(`
`);this.quill.updateContents(c,St.sources.USER),this.quill.setSelection(e.index+1,e.length,St.sources.SILENT)}else if(s>0){l+=t.length();const c=new $t().retain(l).insert(`
`);this.quill.updateContents(c,St.sources.USER),this.quill.setSelection(l,St.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(e,n){const{event:t,line:r}=n,i=r.offset(this.quill.scroll);t.shiftKey?this.quill.setSelection(i-1,St.sources.USER):this.quill.setSelection(i+r.length(),St.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(e,n){if(this.quill.scroll.query("list")==null)return!0;const{length:t}=n.prefix,[r,i]=this.quill.getLine(e.index);if(i>t)return!0;let a;switch(n.prefix.trim()){case"[]":case"[ ]":a="unchecked";break;case"[x]":a="checked";break;case"-":case"*":a="bullet";break;default:a="ordered"}this.quill.insertText(e.index," ",St.sources.USER),this.quill.history.cutoff();const s=new $t().retain(e.index-i).delete(t+1).retain(r.length()-2-i).retain(1,{list:a});return this.quill.updateContents(s,St.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-t,St.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(e){const[n,t]=this.quill.getLine(e.index);let r=2,i=n;for(;i!=null&&i.length()<=1&&i.formats()["code-block"];)if(i=i.prev,r-=1,r<=0){const a=new $t().retain(e.index+n.length()-t-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(a,St.sources.USER),this.quill.setSelection(e.index-1,St.sources.SILENT),!1}return!0}},"embed left":Sy("ArrowLeft",!1),"embed left shift":Sy("ArrowLeft",!0),"embed right":Sy("ArrowRight",!1),"embed right shift":Sy("ArrowRight",!0),"table down":T8(!1),"table up":T8(!0)}};fv.DEFAULTS=MU;function N8(e){return{key:"Tab",shiftKey:!e,format:{"code-block":!0},handler(n,t){let{event:r}=t;const i=this.quill.scroll.query("code-block"),{TAB:a}=i;if(n.length===0&&!r.shiftKey){this.quill.insertText(n.index,a,St.sources.USER),this.quill.setSelection(n.index+a.length,St.sources.SILENT);return}const s=n.length===0?this.quill.getLines(n.index,1):this.quill.getLines(n);let{index:l,length:c}=n;s.forEach((d,h)=>{e?(d.insertAt(0,a),h===0?l+=a.length:c+=a.length):d.domNode.textContent.startsWith(a)&&(d.deleteAt(0,a.length),h===0?l-=a.length:c-=a.length)}),this.quill.update(St.sources.USER),this.quill.setSelection(l,c,St.sources.SILENT)}}}function Sy(e,n){return{key:e,shiftKey:n,altKey:null,[e==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(r){let{index:i}=r;e==="ArrowRight"&&(i+=r.length+1);const[a]=this.quill.getLeaf(i);return a instanceof il?(e==="ArrowLeft"?n?this.quill.setSelection(r.index-1,r.length+1,St.sources.USER):this.quill.setSelection(r.index-1,St.sources.USER):n?this.quill.setSelection(r.index,r.length+1,St.sources.USER):this.quill.setSelection(r.index+r.length+1,St.sources.USER),!1):!0}}}function z5(e){return{key:e[0],shortKey:!0,handler(n,t){this.quill.format(e,!t.format[e],St.sources.USER)}}}function T8(e){return{key:e?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(n,t){const r=e?"prev":"next",i=t.line,a=i.parent[r];if(a!=null){if(a.statics.blotName==="table-row"){let s=a.children.head,l=i;for(;l.prev!=null;)l=l.prev,s=s.next;const c=s.offset(this.quill.scroll)+Math.min(t.offset,s.length()-1);this.quill.setSelection(c,0,St.sources.USER)}}else{const s=i.table()[r];s!=null&&(e?this.quill.setSelection(s.offset(this.quill.scroll)+s.length()-1,0,St.sources.USER):this.quill.setSelection(s.offset(this.quill.scroll),0,St.sources.USER))}return!1}}}function FU(e){if(typeof e=="string"||typeof e=="number")e={key:e};else if(typeof e=="object")e=D0(e);else return null;return e.shortKey&&(e[RU]=e.shortKey,delete e.shortKey),e}function Y6(e){let{quill:n,range:t}=e;const r=n.getLines(t);let i={};if(r.length>1){const a=r[0].formats(),s=r[r.length-1].formats();i=Ll.AttributeMap.diff(s,a)||{}}n.deleteText(t,St.sources.USER),Object.keys(i).length>0&&n.formatLine(t.index,1,i,St.sources.USER),n.setSelection(t.index,St.sources.SILENT)}function PU(e,n,t,r){return n.prev==null&&n.next==null?t.prev==null&&t.next==null?r===0?-1:1:t.prev==null?-1:1:n.prev==null?-1:n.next==null?1:null}const zU=/font-weight:\s*normal/,qU=["P","OL","UL"],O8=e=>e&&qU.includes(e.tagName),BU=e=>{Array.from(e.querySelectorAll("br")).filter(n=>O8(n.previousElementSibling)&&O8(n.nextElementSibling)).forEach(n=>{var t;(t=n.parentNode)==null||t.removeChild(n)})},UU=e=>{Array.from(e.querySelectorAll('b[style*="font-weight"]')).filter(n=>{var t;return(t=n.getAttribute("style"))==null?void 0:t.match(zU)}).forEach(n=>{var r;const t=e.createDocumentFragment();t.append(...n.childNodes),(r=n.parentNode)==null||r.replaceChild(t,n)})};function $U(e){e.querySelector('[id^="docs-internal-guid-"]')&&(UU(e),BU(e))}const HU=/\bmso-list:[^;]*ignore/i,WU=/\bmso-list:[^;]*\bl(\d+)/i,VU=/\bmso-list:[^;]*\blevel(\d+)/i,YU=(e,n)=>{const t=e.getAttribute("style"),r=t==null?void 0:t.match(WU);if(!r)return null;const i=Number(r[1]),a=t==null?void 0:t.match(VU),s=a?Number(a[1]):1,l=new RegExp(`@list l${i}:level${s}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),c=n.match(l),d=c&&c[1]==="bullet"?"bullet":"ordered";return{id:i,indent:s,type:d,element:e}},GU=e=>{var s,l;const n=Array.from(e.querySelectorAll("[style*=mso-list]")),t=[],r=[];n.forEach(c=>{(c.getAttribute("style")||"").match(HU)?t.push(c):r.push(c)}),t.forEach(c=>{var d;return(d=c.parentNode)==null?void 0:d.removeChild(c)});const i=e.documentElement.innerHTML,a=r.map(c=>YU(c,i)).filter(c=>c);for(;a.length;){const c=[];let d=a.shift();for(;d;)c.push(d),d=a.length&&((s=a[0])==null?void 0:s.element)===d.element.nextElementSibling&&a[0].id===d.id?a.shift():null;const h=document.createElement("ul");c.forEach(m=>{const x=document.createElement("li");x.setAttribute("data-list",m.type),m.indent>1&&x.setAttribute("class",`ql-indent-${m.indent-1}`),x.innerHTML=m.element.innerHTML,h.appendChild(x)});const g=(l=c[0])==null?void 0:l.element,{parentNode:b}=g??{};g&&(b==null||b.replaceChild(h,g)),c.slice(1).forEach(m=>{let{element:x}=m;b==null||b.removeChild(x)})}};function QU(e){e.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&GU(e)}const KU=[QU,$U],XU=e=>{e.documentElement&&KU.forEach(n=>{n(e)})},ZU=Gd("quill:clipboard"),JU=[[Node.TEXT_NODE,d$],[Node.TEXT_NODE,D8],["br",i$],[Node.ELEMENT_NODE,D8],[Node.ELEMENT_NODE,r$],[Node.ELEMENT_NODE,n$],[Node.ELEMENT_NODE,u$],["li",o$],["ol, ul",l$],["pre",a$],["tr",c$],["b",q5("bold")],["i",q5("italic")],["strike",q5("strike")],["style",s$]],e$=[TU,E7].reduce((e,n)=>(e[n.keyName]=n,e),{}),I8=[A7,H6,$6,k7,T7,I7].reduce((e,n)=>(e[n.keyName]=n,e),{});class D7 extends Ou{constructor(n,t){super(n,t),this.quill.root.addEventListener("copy",r=>this.onCaptureCopy(r,!1)),this.quill.root.addEventListener("cut",r=>this.onCaptureCopy(r,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],JU.concat(this.options.matchers??[]).forEach(r=>{let[i,a]=r;this.addMatcher(i,a)})}addMatcher(n,t){this.matchers.push([n,t])}convert(n){let{html:t,text:r}=n,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i[Us.blotName])return new $t().insert(r||"",{[Us.blotName]:i[Us.blotName]});if(!t)return new $t().insert(r||"",i);const a=this.convertHTML(t);return Hg(a,`
`)&&(a.ops[a.ops.length-1].attributes==null||i.table)?a.compose(new $t().retain(a.length()-1).delete(1)):a}normalizeHTML(n){XU(n)}convertHTML(n){const t=new DOMParser().parseFromString(n,"text/html");this.normalizeHTML(t);const r=t.body,i=new WeakMap,[a,s]=this.prepareMatching(r,i);return G6(this.quill.scroll,r,a,s,i)}dangerouslyPasteHTML(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:St.sources.API;if(typeof n=="string"){const i=this.convert({html:n,text:""});this.quill.setContents(i,t),this.quill.setSelection(0,St.sources.SILENT)}else{const i=this.convert({html:t,text:""});this.quill.updateContents(new $t().retain(n).concat(i),r),this.quill.setSelection(n+i.length(),St.sources.SILENT)}}onCaptureCopy(n){var s,l;let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n.defaultPrevented)return;n.preventDefault();const[r]=this.quill.selection.getRange();if(r==null)return;const{html:i,text:a}=this.onCopy(r,t);(s=n.clipboardData)==null||s.setData("text/plain",a),(l=n.clipboardData)==null||l.setData("text/html",i),t&&Y6({range:r,quill:this.quill})}normalizeURIList(n){return n.split(/\r?\n/).filter(t=>t[0]!=="#").join(`
`)}onCapturePaste(n){var s,l,c,d,h;if(n.defaultPrevented||!this.quill.isEnabled())return;n.preventDefault();const t=this.quill.getSelection(!0);if(t==null)return;const r=(s=n.clipboardData)==null?void 0:s.getData("text/html");let i=(l=n.clipboardData)==null?void 0:l.getData("text/plain");if(!r&&!i){const g=(c=n.clipboardData)==null?void 0:c.getData("text/uri-list");g&&(i=this.normalizeURIList(g))}const a=Array.from(((d=n.clipboardData)==null?void 0:d.files)||[]);if(!r&&a.length>0){this.quill.uploader.upload(t,a);return}if(r&&a.length>0){const g=new DOMParser().parseFromString(r,"text/html");if(g.body.childElementCount===1&&((h=g.body.firstElementChild)==null?void 0:h.tagName)==="IMG"){this.quill.uploader.upload(t,a);return}}this.onPaste(t,{html:r,text:i})}onCopy(n){const t=this.quill.getText(n);return{html:this.quill.getSemanticHTML(n),text:t}}onPaste(n,t){let{text:r,html:i}=t;const a=this.quill.getFormat(n.index),s=this.convert({text:r,html:i},a);ZU.log("onPaste",s,{text:r,html:i});const l=new $t().retain(n.index).delete(n.length).concat(s);this.quill.updateContents(l,St.sources.USER),this.quill.setSelection(l.length()-n.length,St.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(n,t){const r=[],i=[];return this.matchers.forEach(a=>{const[s,l]=a;switch(s){case Node.TEXT_NODE:i.push(l);break;case Node.ELEMENT_NODE:r.push(l);break;default:Array.from(n.querySelectorAll(s)).forEach(c=>{if(t.has(c)){const d=t.get(c);d==null||d.push(l)}else t.set(c,[l])});break}}),[r,i]}}Ze(D7,"DEFAULTS",{matchers:[]});function Cp(e,n,t,r){return r.query(n)?e.reduce((i,a)=>{if(!a.insert)return i;if(a.attributes&&a.attributes[n])return i.push(a);const s=t?{[n]:t}:{};return i.insert(a.insert,{...s,...a.attributes})},new $t):e}function Hg(e,n){let t="";for(let r=e.ops.length-1;r>=0&&t.length<n.length;--r){const i=e.ops[r];if(typeof i.insert!="string")break;t=i.insert+t}return t.slice(-1*n.length)===n}function $f(e,n){if(!(e instanceof Element))return!1;const t=n.query(e);return t&&t.prototype instanceof il?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(e.tagName.toLowerCase())}function t$(e,n){return e.previousElementSibling&&e.nextElementSibling&&!$f(e.previousElementSibling,n)&&!$f(e.nextElementSibling,n)}const Ay=new WeakMap;function L7(e){return e==null?!1:(Ay.has(e)||(e.tagName==="PRE"?Ay.set(e,!0):Ay.set(e,L7(e.parentNode))),Ay.get(e))}function G6(e,n,t,r,i){return n.nodeType===n.TEXT_NODE?r.reduce((a,s)=>s(n,a,e),new $t):n.nodeType===n.ELEMENT_NODE?Array.from(n.childNodes||[]).reduce((a,s)=>{let l=G6(e,s,t,r,i);return s.nodeType===n.ELEMENT_NODE&&(l=t.reduce((c,d)=>d(s,c,e),l),l=(i.get(s)||[]).reduce((c,d)=>d(s,c,e),l)),a.concat(l)},new $t):new $t}function q5(e){return(n,t,r)=>Cp(t,e,!0,r)}function n$(e,n,t){const r=qc.keys(e),i=Nu.keys(e),a=fh.keys(e),s={};return r.concat(i).concat(a).forEach(l=>{let c=t.query(l,Ht.ATTRIBUTE);c!=null&&(s[c.attrName]=c.value(e),s[c.attrName])||(c=e$[l],c!=null&&(c.attrName===l||c.keyName===l)&&(s[c.attrName]=c.value(e)||void 0),c=I8[l],c!=null&&(c.attrName===l||c.keyName===l)&&(c=I8[l],s[c.attrName]=c.value(e)||void 0))}),Object.entries(s).reduce((l,c)=>{let[d,h]=c;return Cp(l,d,h,t)},n)}function r$(e,n,t){const r=t.query(e);if(r==null)return n;if(r.prototype instanceof il){const i={},a=r.value(e);if(a!=null)return i[r.blotName]=a,new $t().insert(i,r.formats(e,t))}else if(r.prototype instanceof gg&&!Hg(n,`
`)&&n.insert(`
`),"blotName"in r&&"formats"in r&&typeof r.formats=="function")return Cp(n,r.blotName,r.formats(e,t),t);return n}function i$(e,n){return Hg(n,`
`)||n.insert(`
`),n}function a$(e,n,t){const r=t.query("code-block"),i=r&&"formats"in r&&typeof r.formats=="function"?r.formats(e,t):!0;return Cp(n,"code-block",i,t)}function s$(){return new $t}function o$(e,n,t){const r=t.query(e);if(r==null||r.blotName!=="list"||!Hg(n,`
`))return n;let i=-1,a=e.parentNode;for(;a!=null;)["OL","UL"].includes(a.tagName)&&(i+=1),a=a.parentNode;return i<=0?n:n.reduce((s,l)=>l.insert?l.attributes&&typeof l.attributes.indent=="number"?s.push(l):s.insert(l.insert,{indent:i,...l.attributes||{}}):s,new $t)}function l$(e,n,t){const r=e;let i=r.tagName==="OL"?"ordered":"bullet";const a=r.getAttribute("data-checked");return a&&(i=a==="true"?"checked":"unchecked"),Cp(n,"list",i,t)}function D8(e,n,t){if(!Hg(n,`
`)){if($f(e,t)&&(e.childNodes.length>0||e instanceof HTMLParagraphElement))return n.insert(`
`);if(n.length()>0&&e.nextSibling){let r=e.nextSibling;for(;r!=null;){if($f(r,t))return n.insert(`
`);const i=t.query(r);if(i&&i.prototype instanceof Dl)return n.insert(`
`);r=r.firstChild}}}return n}function u$(e,n,t){var a;const r={},i=e.style||{};return i.fontStyle==="italic"&&(r.italic=!0),i.textDecoration==="underline"&&(r.underline=!0),i.textDecoration==="line-through"&&(r.strike=!0),((a=i.fontWeight)!=null&&a.startsWith("bold")||parseInt(i.fontWeight,10)>=700)&&(r.bold=!0),n=Object.entries(r).reduce((s,l)=>{let[c,d]=l;return Cp(s,c,d,t)},n),parseFloat(i.textIndent||0)>0?new $t().insert("	").concat(n):n}function c$(e,n,t){var i,a;const r=((i=e.parentElement)==null?void 0:i.tagName)==="TABLE"?e.parentElement:(a=e.parentElement)==null?void 0:a.parentElement;if(r!=null){const l=Array.from(r.querySelectorAll("tr")).indexOf(e)+1;return Cp(n,"table",l,t)}return n}function d$(e,n,t){var i;let r=e.data;if(((i=e.parentElement)==null?void 0:i.tagName)==="O:P")return n.insert(r.trim());if(!L7(e)){if(r.trim().length===0&&r.includes(`
`)&&!t$(e,t))return n;r=r.replace(/[^\S\u00a0]/g," "),r=r.replace(/ {2,}/g," "),(e.previousSibling==null&&e.parentElement!=null&&$f(e.parentElement,t)||e.previousSibling instanceof Element&&$f(e.previousSibling,t))&&(r=r.replace(/^ /,"")),(e.nextSibling==null&&e.parentElement!=null&&$f(e.parentElement,t)||e.nextSibling instanceof Element&&$f(e.nextSibling,t))&&(r=r.replace(/ $/,"")),r=r.replaceAll(""," ")}return n.insert(r)}class R7 extends Ou{constructor(t,r){super(t,r);Ze(this,"lastRecorded",0);Ze(this,"ignoreChange",!1);Ze(this,"stack",{undo:[],redo:[]});Ze(this,"currentRange",null);this.quill.on(St.events.EDITOR_CHANGE,(i,a,s,l)=>{i===St.events.SELECTION_CHANGE?a&&l!==St.sources.SILENT&&(this.currentRange=a):i===St.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||l===St.sources.USER?this.record(a,s):this.transform(a)),this.currentRange=cS(this.currentRange,a))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",i=>{i.inputType==="historyUndo"?(this.undo(),i.preventDefault()):i.inputType==="historyRedo"&&(this.redo(),i.preventDefault())})}change(t,r){if(this.stack[t].length===0)return;const i=this.stack[t].pop();if(!i)return;const a=this.quill.getContents(),s=i.delta.invert(a);this.stack[r].push({delta:s,range:cS(i.range,s)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(i.delta,St.sources.USER),this.ignoreChange=!1,this.restoreSelection(i)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(t,r){if(t.ops.length===0)return;this.stack.redo=[];let i=t.invert(r),a=this.currentRange;const s=Date.now();if(this.lastRecorded+this.options.delay>s&&this.stack.undo.length>0){const l=this.stack.undo.pop();l&&(i=i.compose(l.delta),a=l.range)}else this.lastRecorded=s;i.length()!==0&&(this.stack.undo.push({delta:i,range:a}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(t){L8(this.stack.undo,t),L8(this.stack.redo,t)}undo(){this.change("undo","redo")}restoreSelection(t){if(t.range)this.quill.setSelection(t.range,St.sources.USER);else{const r=h$(this.quill.scroll,t.delta);this.quill.setSelection(r,St.sources.USER)}}}Ze(R7,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function L8(e,n){let t=n;for(let r=e.length-1;r>=0;r-=1){const i=e[r];e[r]={delta:t.transform(i.delta,!0),range:i.range&&cS(i.range,t)},t=i.delta.transform(t),e[r].delta.length()===0&&e.splice(r,1)}}function f$(e,n){const t=n.ops[n.ops.length-1];return t==null?!1:t.insert!=null?typeof t.insert=="string"&&t.insert.endsWith(`
`):t.attributes!=null?Object.keys(t.attributes).some(r=>e.query(r,Ht.BLOCK)!=null):!1}function h$(e,n){const t=n.reduce((i,a)=>i+(a.delete||0),0);let r=n.length()-t;return f$(e,n)&&(r-=1),r}function cS(e,n){if(!e)return e;const t=n.transformPosition(e.index),r=n.transformPosition(e.index+e.length);return{index:t,length:r-t}}class M7 extends Ou{constructor(n,t){super(n,t),n.root.addEventListener("drop",r=>{var s;r.preventDefault();let i=null;if(document.caretRangeFromPoint)i=document.caretRangeFromPoint(r.clientX,r.clientY);else if(document.caretPositionFromPoint){const l=document.caretPositionFromPoint(r.clientX,r.clientY);i=document.createRange(),i.setStart(l.offsetNode,l.offset),i.setEnd(l.offsetNode,l.offset)}const a=i&&n.selection.normalizeNative(i);if(a){const l=n.selection.normalizedToRange(a);(s=r.dataTransfer)!=null&&s.files&&this.upload(l,r.dataTransfer.files)}})}upload(n,t){const r=[];Array.from(t).forEach(i=>{var a;i&&((a=this.options.mimetypes)!=null&&a.includes(i.type))&&r.push(i)}),r.length>0&&this.options.handler.call(this,n,r)}}M7.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(e,n){if(!this.quill.scroll.query("image"))return;const t=n.map(r=>new Promise(i=>{const a=new FileReader;a.onload=()=>{i(a.result)},a.readAsDataURL(r)}));Promise.all(t).then(r=>{const i=r.reduce((a,s)=>a.insert({image:s}),new $t().retain(e.index).delete(e.length));this.quill.updateContents(i,Ft.sources.USER),this.quill.setSelection(e.index+r.length,Ft.sources.SILENT)})}};const p$=["insertText","insertReplacementText"];class m$ extends Ou{constructor(n,t){super(n,t),n.root.addEventListener("beforeinput",r=>{this.handleBeforeInput(r)}),/Android/i.test(navigator.userAgent)||n.on(St.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(n){Y6({range:n,quill:this.quill})}replaceText(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(n.length===0)return!1;if(t){const r=this.quill.getFormat(n.index,1);this.deleteRange(n),this.quill.updateContents(new $t().retain(n.index).insert(t,r),St.sources.USER)}else this.deleteRange(n);return this.quill.setSelection(n.index+t.length,0,St.sources.SILENT),!0}handleBeforeInput(n){if(this.quill.composition.isComposing||n.defaultPrevented||!p$.includes(n.inputType))return;const t=n.getTargetRanges?n.getTargetRanges()[0]:null;if(!t||t.collapsed===!0)return;const r=g$(n);if(r==null)return;const i=this.quill.selection.normalizeNative(t),a=i?this.quill.selection.normalizedToRange(i):null;a&&this.replaceText(a,r)&&n.preventDefault()}handleCompositionStart(){const n=this.quill.getSelection();n&&this.replaceText(n)}}function g$(e){var n;return typeof e.data=="string"?e.data:(n=e.dataTransfer)!=null&&n.types.includes("text/plain")?e.dataTransfer.getData("text/plain"):null}const b$=/Mac/i.test(navigator.platform),y$=100,x$=e=>!!(e.key==="ArrowLeft"||e.key==="ArrowRight"||e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="Home"||b$&&e.key==="a"&&e.ctrlKey===!0);class v$ extends Ou{constructor(t,r){super(t,r);Ze(this,"isListening",!1);Ze(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(t,r){let{line:i,event:a}=r;if(!(i instanceof wu)||!i.uiNode)return!0;const s=getComputedStyle(i.domNode).direction==="rtl";return s&&a.key!=="ArrowRight"||!s&&a.key!=="ArrowLeft"?!0:(this.quill.setSelection(t.index-1,t.length+(a.shiftKey?1:0),St.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",t=>{!t.defaultPrevented&&x$(t)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+y$,this.isListening)return;this.isListening=!0;const t=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",t,{once:!0})}handleSelectionChange(){const t=document.getSelection();if(!t)return;const r=t.getRangeAt(0);if(r.collapsed!==!0||r.startOffset!==0)return;const i=this.quill.scroll.find(r.startContainer);if(!(i instanceof wu)||!i.uiNode)return;const a=document.createRange();a.setStartAfter(i.uiNode),a.setEndAfter(i.uiNode),t.removeAllRanges(),t.addRange(a)}}St.register({"blots/block":bs,"blots/block/embed":Dl,"blots/break":Tu,"blots/container":Sp,"blots/cursor":Z0,"blots/embed":B6,"blots/inline":Bc,"blots/scroll":k0,"blots/text":Au,"modules/clipboard":D7,"modules/history":R7,"modules/keyboard":fv,"modules/uploader":M7,"modules/input":m$,"modules/uiNode":v$});class w$ extends Nu{add(n,t){let r=0;if(t==="+1"||t==="-1"){const i=this.value(n)||0;r=t==="+1"?i+1:i-1}else typeof t=="number"&&(r=t);return r===0?(this.remove(n),!0):super.add(n,r.toString())}canAdd(n,t){return super.canAdd(n,t)||super.canAdd(n,parseInt(t,10))}value(n){return parseInt(super.value(n),10)||void 0}}const S$=new w$("indent","ql-indent",{scope:Ht.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class dS extends bs{}Ze(dS,"blotName","blockquote"),Ze(dS,"tagName","blockquote");class fS extends bs{static formats(n){return this.tagName.indexOf(n.tagName)+1}}Ze(fS,"blotName","header"),Ze(fS,"tagName",["H1","H2","H3","H4","H5","H6"]);class Wg extends Sp{}Wg.blotName="list-container";Wg.tagName="OL";class Vg extends bs{static create(n){const t=super.create();return t.setAttribute("data-list",n),t}static formats(n){return n.getAttribute("data-list")||void 0}static register(){St.register(Wg)}constructor(n,t){super(n,t);const r=t.ownerDocument.createElement("span"),i=a=>{if(!n.isEnabled())return;const s=this.statics.formats(t,n);s==="checked"?(this.format("list","unchecked"),a.preventDefault()):s==="unchecked"&&(this.format("list","checked"),a.preventDefault())};r.addEventListener("mousedown",i),r.addEventListener("touchstart",i),this.attachUI(r)}format(n,t){n===this.statics.blotName&&t?this.domNode.setAttribute("data-list",t):super.format(n,t)}}Vg.blotName="list";Vg.tagName="LI";Wg.allowedChildren=[Vg];Vg.requiredContainer=Wg;class yg extends Bc{static create(){return super.create()}static formats(){return!0}optimize(n){super.optimize(n),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}Ze(yg,"blotName","bold"),Ze(yg,"tagName",["STRONG","B"]);class hS extends yg{}Ze(hS,"blotName","italic"),Ze(hS,"tagName",["EM","I"]);class Hf extends Bc{static create(n){const t=super.create(n);return t.setAttribute("href",this.sanitize(n)),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t}static formats(n){return n.getAttribute("href")}static sanitize(n){return F7(n,this.PROTOCOL_WHITELIST)?n:this.SANITIZED_URL}format(n,t){n!==this.statics.blotName||!t?super.format(n,t):this.domNode.setAttribute("href",this.constructor.sanitize(t))}}Ze(Hf,"blotName","link"),Ze(Hf,"tagName","A"),Ze(Hf,"SANITIZED_URL","about:blank"),Ze(Hf,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function F7(e,n){const t=document.createElement("a");t.href=e;const r=t.href.slice(0,t.href.indexOf(":"));return n.indexOf(r)>-1}class pS extends Bc{static create(n){return n==="super"?document.createElement("sup"):n==="sub"?document.createElement("sub"):super.create(n)}static formats(n){if(n.tagName==="SUB")return"sub";if(n.tagName==="SUP")return"super"}}Ze(pS,"blotName","script"),Ze(pS,"tagName",["SUB","SUP"]);class mS extends yg{}Ze(mS,"blotName","strike"),Ze(mS,"tagName",["S","STRIKE"]);class gS extends Bc{}Ze(gS,"blotName","underline"),Ze(gS,"tagName","U");class Gy extends B6{static create(n){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const t=super.create(n);return typeof n=="string"&&(window.katex.render(n,t,{throwOnError:!1,errorColor:"#f00"}),t.setAttribute("data-value",n)),t}static value(n){return n.getAttribute("data-value")}html(){const{formula:n}=this.value();return`<span>${n}</span>`}}Ze(Gy,"blotName","formula"),Ze(Gy,"className","ql-formula"),Ze(Gy,"tagName","SPAN");const R8=["alt","height","width"];var Hy;let A$=(Hy=class extends il{static create(n){const t=super.create(n);return typeof n=="string"&&t.setAttribute("src",this.sanitize(n)),t}static formats(n){return R8.reduce((t,r)=>(n.hasAttribute(r)&&(t[r]=n.getAttribute(r)),t),{})}static match(n){return/\.(jpe?g|gif|png)$/.test(n)||/^data:image\/.+;base64/.test(n)}static sanitize(n){return F7(n,["http","https","data"])?n:"//:0"}static value(n){return n.getAttribute("src")}format(n,t){R8.indexOf(n)>-1?t?this.domNode.setAttribute(n,t):this.domNode.removeAttribute(n):super.format(n,t)}},Ze(Hy,"blotName","image"),Ze(Hy,"tagName","IMG"),Hy);const M8=["height","width"];class Qy extends Dl{static create(n){const t=super.create(n);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","true"),t.setAttribute("src",this.sanitize(n)),t}static formats(n){return M8.reduce((t,r)=>(n.hasAttribute(r)&&(t[r]=n.getAttribute(r)),t),{})}static sanitize(n){return Hf.sanitize(n)}static value(n){return n.getAttribute("src")}format(n,t){M8.indexOf(n)>-1?t?this.domNode.setAttribute(n,t):this.domNode.removeAttribute(n):super.format(n,t)}html(){const{video:n}=this.value();return`<a href="${n}">${n}</a>`}}Ze(Qy,"blotName","video"),Ze(Qy,"className","ql-video"),Ze(Qy,"tagName","IFRAME");const W1=new Nu("code-token","hljs",{scope:Ht.INLINE});class zd extends Bc{static formats(n,t){for(;n!=null&&n!==t.domNode;){if(n.classList&&n.classList.contains(Us.className))return super.formats(n,t);n=n.parentNode}}constructor(n,t,r){super(n,t,r),W1.add(this.domNode,r)}format(n,t){n!==zd.blotName?super.format(n,t):t?W1.add(this.domNode,t):(W1.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),W1.value(this.domNode)||this.unwrap()}}zd.blotName="code-token";zd.className="ql-token";class kl extends Us{static create(n){const t=super.create(n);return typeof n=="string"&&t.setAttribute("data-language",n),t}static formats(n){return n.getAttribute("data-language")||"plain"}static register(){}format(n,t){n===this.statics.blotName&&t?this.domNode.setAttribute("data-language",t):super.format(n,t)}replaceWith(n,t){return this.formatAt(0,this.length(),zd.blotName,!1),super.replaceWith(n,t)}}class K1 extends Ap{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(n,t){n===kl.blotName&&(this.forceNext=!0,this.children.forEach(r=>{r.format(n,t)}))}formatAt(n,t,r,i){r===kl.blotName&&(this.forceNext=!0),super.formatAt(n,t,r,i)}highlight(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const i=`${Array.from(this.domNode.childNodes).filter(s=>s!==this.uiNode).map(s=>s.textContent).join(`
`)}
`,a=kl.formats(this.children.head.domNode);if(t||this.forceNext||this.cachedText!==i){if(i.trim().length>0||this.cachedText==null){const s=this.children.reduce((c,d)=>c.concat(v7(d,!1)),new $t),l=n(i,a);s.diff(l).reduce((c,d)=>{let{retain:h,attributes:g}=d;return h?(g&&Object.keys(g).forEach(b=>{[kl.blotName,zd.blotName].includes(b)&&this.formatAt(c,h,b,g[b])}),c+h):c},0)}this.cachedText=i,this.forceNext=!1}}html(n,t){const[r]=this.children.find(n);return`<pre data-language="${r?kl.formats(r.domNode):"plain"}">
${dv(this.code(n,t))}
</pre>`}optimize(n){if(super.optimize(n),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const t=kl.formats(this.children.head.domNode);t!==this.uiNode.value&&(this.uiNode.value=t)}}}K1.allowedChildren=[kl];kl.requiredContainer=K1;kl.allowedChildren=[zd,Z0,Au,Tu];const C$=(e,n,t)=>{if(typeof e.versionString=="string"){const r=e.versionString.split(".")[0];if(parseInt(r,10)>=11)return e.highlight(t,{language:n}).value}return e.highlight(n,t).value};class P7 extends Ou{static register(){St.register(zd,!0),St.register(kl,!0),St.register(K1,!0)}constructor(n,t){if(super(n,t),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((r,i)=>{let{key:a}=i;return r[a]=!0,r},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(St.events.SCROLL_BLOT_MOUNT,n=>{if(!(n instanceof K1))return;const t=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(r=>{let{key:i,label:a}=r;const s=t.ownerDocument.createElement("option");s.textContent=a,s.setAttribute("value",i),t.appendChild(s)}),t.addEventListener("change",()=>{n.format(kl.blotName,t.value),this.quill.root.focus(),this.highlight(n,!0)}),n.uiNode==null&&(n.attachUI(t),n.children.head&&(t.value=kl.formats(n.children.head.domNode)))})}initTimer(){let n=null;this.quill.on(St.events.SCROLL_OPTIMIZE,()=>{n&&clearTimeout(n),n=setTimeout(()=>{this.highlight(),n=null},this.options.interval)})}highlight(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(St.sources.USER);const r=this.quill.getSelection();(n==null?this.quill.scroll.descendants(K1):[n]).forEach(a=>{a.highlight(this.highlightBlot,t)}),this.quill.update(St.sources.SILENT),r!=null&&this.quill.setSelection(r,St.sources.SILENT)}highlightBlot(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(t=this.languages[t]?t:"plain",t==="plain")return dv(n).split(`
`).reduce((i,a,s)=>(s!==0&&i.insert(`
`,{[Us.blotName]:t}),i.insert(a)),new $t);const r=this.quill.root.ownerDocument.createElement("div");return r.classList.add(Us.className),r.innerHTML=C$(this.options.hljs,t,n),G6(this.quill.scroll,r,[(i,a)=>{const s=W1.value(i);return s?a.compose(new $t().retain(a.length(),{[zd.blotName]:s})):a}],[(i,a)=>i.data.split(`
`).reduce((s,l,c)=>(c!==0&&s.insert(`
`,{[Us.blotName]:t}),s.insert(l)),a)],new WeakMap)}}P7.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const ig=class ig extends bs{static create(n){const t=super.create();return n?t.setAttribute("data-row",n):t.setAttribute("data-row",Q6()),t}static formats(n){if(n.hasAttribute("data-row"))return n.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(n,t){n===ig.blotName&&t?this.domNode.setAttribute("data-row",t):super.format(n,t)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};Ze(ig,"blotName","table"),Ze(ig,"tagName","TD");let yu=ig;class qd extends Sp{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const n=this.children.head.formats(),t=this.children.tail.formats(),r=this.next.children.head.formats(),i=this.next.children.tail.formats();return n.table===t.table&&n.table===r.table&&n.table===i.table}return!1}optimize(n){super.optimize(n),this.children.forEach(t=>{if(t.next==null)return;const r=t.formats(),i=t.next.formats();if(r.table!==i.table){const a=this.splitAfter(t);a&&a.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}Ze(qd,"blotName","table-row"),Ze(qd,"tagName","TR");class kc extends Sp{}Ze(kc,"blotName","table-body"),Ze(kc,"tagName","TBODY");class em extends Sp{balanceCells(){const n=this.descendants(qd),t=n.reduce((r,i)=>Math.max(i.children.length,r),0);n.forEach(r=>{new Array(t-r.children.length).fill(0).forEach(()=>{let i;r.children.head!=null&&(i=yu.formats(r.children.head.domNode));const a=this.scroll.create(yu.blotName,i);r.appendChild(a),a.optimize()})})}cells(n){return this.rows().map(t=>t.children.at(n))}deleteColumn(n){const[t]=this.descendant(kc);t==null||t.children.head==null||t.children.forEach(r=>{const i=r.children.at(n);i!=null&&i.remove()})}insertColumn(n){const[t]=this.descendant(kc);t==null||t.children.head==null||t.children.forEach(r=>{const i=r.children.at(n),a=yu.formats(r.children.head.domNode),s=this.scroll.create(yu.blotName,a);r.insertBefore(s,i)})}insertRow(n){const[t]=this.descendant(kc);if(t==null||t.children.head==null)return;const r=Q6(),i=this.scroll.create(qd.blotName);t.children.head.children.forEach(()=>{const s=this.scroll.create(yu.blotName,r);i.appendChild(s)});const a=t.children.at(n);t.insertBefore(i,a)}rows(){const n=this.children.head;return n==null?[]:n.children.map(t=>t)}}Ze(em,"blotName","table-container"),Ze(em,"tagName","TABLE");em.allowedChildren=[kc];kc.requiredContainer=em;kc.allowedChildren=[qd];qd.requiredContainer=kc;qd.allowedChildren=[yu];yu.requiredContainer=qd;function Q6(){return`row-${Math.random().toString(36).slice(2,6)}`}class E$ extends Ou{static register(){St.register(yu),St.register(qd),St.register(kc),St.register(em)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(em).forEach(n=>{n.balanceCells()})}deleteColumn(){const[n,,t]=this.getTable();t!=null&&(n.deleteColumn(t.cellOffset()),this.quill.update(St.sources.USER))}deleteRow(){const[,n]=this.getTable();n!=null&&(n.remove(),this.quill.update(St.sources.USER))}deleteTable(){const[n]=this.getTable();if(n==null)return;const t=n.offset();n.remove(),this.quill.update(St.sources.USER),this.quill.setSelection(t,St.sources.SILENT)}getTable(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(n==null)return[null,null,null,-1];const[t,r]=this.quill.getLine(n.index);if(t==null||t.statics.blotName!==yu.blotName)return[null,null,null,-1];const i=t.parent;return[i.parent.parent,i,t,r]}insertColumn(n){const t=this.quill.getSelection();if(!t)return;const[r,i,a]=this.getTable(t);if(a==null)return;const s=a.cellOffset();r.insertColumn(s+n),this.quill.update(St.sources.USER);let l=i.rowOffset();n===0&&(l+=1),this.quill.setSelection(t.index+l,t.length,St.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(n){const t=this.quill.getSelection();if(!t)return;const[r,i,a]=this.getTable(t);if(a==null)return;const s=i.rowOffset();r.insertRow(s+n),this.quill.update(St.sources.USER),n>0?this.quill.setSelection(t,St.sources.SILENT):this.quill.setSelection(t.index+i.children.length,t.length,St.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(n,t){const r=this.quill.getSelection();if(r==null)return;const i=new Array(n).fill(0).reduce(a=>{const s=new Array(t).fill(`
`).join("");return a.insert(s,{table:Q6()})},new $t().retain(r.index));this.quill.updateContents(i,St.sources.USER),this.quill.setSelection(r.index,St.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(St.events.SCROLL_OPTIMIZE,n=>{n.some(t=>["TD","TR","TBODY","TABLE"].includes(t.target.tagName)?(this.quill.once(St.events.TEXT_CHANGE,(r,i,a)=>{a===St.sources.USER&&this.balanceTables()}),!0):!1)})}}const F8=Gd("quill:toolbar");class K6 extends Ou{constructor(n,t){var r,i;if(super(n,t),Array.isArray(this.options.container)){const a=document.createElement("div");a.setAttribute("role","toolbar"),_$(a,this.options.container),(i=(r=n.container)==null?void 0:r.parentNode)==null||i.insertBefore(a,n.container),this.container=a}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){F8.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(a=>{var l;const s=(l=this.options.handlers)==null?void 0:l[a];s&&this.addHandler(a,s)}),Array.from(this.container.querySelectorAll("button, select")).forEach(a=>{this.attach(a)}),this.quill.on(St.events.EDITOR_CHANGE,()=>{const[a]=this.quill.selection.getRange();this.update(a)})}addHandler(n,t){this.handlers[n]=t}attach(n){let t=Array.from(n.classList).find(i=>i.indexOf("ql-")===0);if(!t)return;if(t=t.slice(3),n.tagName==="BUTTON"&&n.setAttribute("type","button"),this.handlers[t]==null&&this.quill.scroll.query(t)==null){F8.warn("ignoring attaching to nonexistent format",t,n);return}const r=n.tagName==="SELECT"?"change":"click";n.addEventListener(r,i=>{let a;if(n.tagName==="SELECT"){if(n.selectedIndex<0)return;const l=n.options[n.selectedIndex];l.hasAttribute("selected")?a=!1:a=l.value||!1}else n.classList.contains("ql-active")?a=!1:a=n.value||!n.hasAttribute("value"),i.preventDefault();this.quill.focus();const[s]=this.quill.selection.getRange();if(this.handlers[t]!=null)this.handlers[t].call(this,a);else if(this.quill.scroll.query(t).prototype instanceof il){if(a=prompt(`Enter ${t}`),!a)return;this.quill.updateContents(new $t().retain(s.index).delete(s.length).insert({[t]:a}),St.sources.USER)}else this.quill.format(t,a,St.sources.USER);this.update(s)}),this.controls.push([t,n])}update(n){const t=n==null?{}:this.quill.getFormat(n);this.controls.forEach(r=>{const[i,a]=r;if(a.tagName==="SELECT"){let s=null;if(n==null)s=null;else if(t[i]==null)s=a.querySelector("option[selected]");else if(!Array.isArray(t[i])){let l=t[i];typeof l=="string"&&(l=l.replace(/"/g,'\\"')),s=a.querySelector(`option[value="${l}"]`)}s==null?(a.value="",a.selectedIndex=-1):s.selected=!0}else if(n==null)a.classList.remove("ql-active"),a.setAttribute("aria-pressed","false");else if(a.hasAttribute("value")){const s=t[i],l=s===a.getAttribute("value")||s!=null&&s.toString()===a.getAttribute("value")||s==null&&!a.getAttribute("value");a.classList.toggle("ql-active",l),a.setAttribute("aria-pressed",l.toString())}else{const s=t[i]!=null;a.classList.toggle("ql-active",s),a.setAttribute("aria-pressed",s.toString())}})}}K6.DEFAULTS={};function P8(e,n,t){const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${n}`),r.setAttribute("aria-pressed","false"),t!=null?(r.value=t,r.setAttribute("aria-label",`${n}: ${t}`)):r.setAttribute("aria-label",n),e.appendChild(r)}function _$(e,n){Array.isArray(n[0])||(n=[n]),n.forEach(t=>{const r=document.createElement("span");r.classList.add("ql-formats"),t.forEach(i=>{if(typeof i=="string")P8(r,i);else{const a=Object.keys(i)[0],s=i[a];Array.isArray(s)?k$(r,a,s):P8(r,a,s)}}),e.appendChild(r)})}function k$(e,n,t){const r=document.createElement("select");r.classList.add(`ql-${n}`),t.forEach(i=>{const a=document.createElement("option");i!==!1?a.setAttribute("value",String(i)):a.setAttribute("selected","selected"),r.appendChild(a)}),e.appendChild(r)}K6.DEFAULTS={container:null,handlers:{clean(){const e=this.quill.getSelection();if(e!=null)if(e.length===0){const n=this.quill.getFormat();Object.keys(n).forEach(t=>{this.quill.scroll.query(t,Ht.INLINE)!=null&&this.quill.format(t,!1,St.sources.USER)})}else this.quill.removeFormat(e.index,e.length,St.sources.USER)},direction(e){const{align:n}=this.quill.getFormat();e==="rtl"&&n==null?this.quill.format("align","right",St.sources.USER):!e&&n==="right"&&this.quill.format("align",!1,St.sources.USER),this.quill.format("direction",e,St.sources.USER)},indent(e){const n=this.quill.getSelection(),t=this.quill.getFormat(n),r=parseInt(t.indent||0,10);if(e==="+1"||e==="-1"){let i=e==="+1"?1:-1;t.direction==="rtl"&&(i*=-1),this.quill.format("indent",r+i,St.sources.USER)}},link(e){e===!0&&(e=prompt("Enter link URL:")),this.quill.format("link",e,St.sources.USER)},list(e){const n=this.quill.getSelection(),t=this.quill.getFormat(n);e==="check"?t.list==="checked"||t.list==="unchecked"?this.quill.format("list",!1,St.sources.USER):this.quill.format("list","unchecked",St.sources.USER):this.quill.format("list",e,St.sources.USER)}}};const j$='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',N$='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',T$='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',O$='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',I$='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',D$='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',L$='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',R$='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',z8='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',M$='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',F$='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',P$='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',z$='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',q$='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',B$='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',U$='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',$$='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',H$='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',W$='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',V$='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',Y$='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',G$='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',Q$='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',K$='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',X$='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',Z$='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',J$='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',eH='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',tH='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',nH='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',rH='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',iH='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',aH='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',xg={align:{"":j$,center:N$,right:T$,justify:O$},background:I$,blockquote:D$,bold:L$,clean:R$,code:z8,"code-block":z8,color:M$,direction:{"":F$,rtl:P$},formula:z$,header:{1:q$,2:B$,3:U$,4:$$,5:H$,6:W$},italic:V$,image:Y$,indent:{"+1":G$,"-1":Q$},link:K$,list:{bullet:X$,check:Z$,ordered:J$},script:{sub:eH,super:tH},strike:nH,table:rH,underline:iH,video:aH},sH='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let q8=0;function B8(e,n){e.setAttribute(n,`${e.getAttribute(n)!=="true"}`)}class hv{constructor(n){this.select=n,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",t=>{switch(t.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),t.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),B8(this.label,"aria-expanded"),B8(this.options,"aria-hidden")}buildItem(n){const t=document.createElement("span");t.tabIndex="0",t.setAttribute("role","button"),t.classList.add("ql-picker-item");const r=n.getAttribute("value");return r&&t.setAttribute("data-value",r),n.textContent&&t.setAttribute("data-label",n.textContent),t.addEventListener("click",()=>{this.selectItem(t,!0)}),t.addEventListener("keydown",i=>{switch(i.key){case"Enter":this.selectItem(t,!0),i.preventDefault();break;case"Escape":this.escape(),i.preventDefault();break}}),t}buildLabel(){const n=document.createElement("span");return n.classList.add("ql-picker-label"),n.innerHTML=sH,n.tabIndex="0",n.setAttribute("role","button"),n.setAttribute("aria-expanded","false"),this.container.appendChild(n),n}buildOptions(){const n=document.createElement("span");n.classList.add("ql-picker-options"),n.setAttribute("aria-hidden","true"),n.tabIndex="-1",n.id=`ql-picker-options-${q8}`,q8+=1,this.label.setAttribute("aria-controls",n.id),this.options=n,Array.from(this.select.options).forEach(t=>{const r=this.buildItem(t);n.appendChild(r),t.selected===!0&&this.selectItem(r)}),this.container.appendChild(n)}buildPicker(){Array.from(this.select.attributes).forEach(n=>{this.container.setAttribute(n.name,n.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.container.querySelector(".ql-selected");n!==r&&(r!=null&&r.classList.remove("ql-selected"),n!=null&&(n.classList.add("ql-selected"),this.select.selectedIndex=Array.from(n.parentNode.children).indexOf(n),n.hasAttribute("data-value")?this.label.setAttribute("data-value",n.getAttribute("data-value")):this.label.removeAttribute("data-value"),n.hasAttribute("data-label")?this.label.setAttribute("data-label",n.getAttribute("data-label")):this.label.removeAttribute("data-label"),t&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let n;if(this.select.selectedIndex>-1){const r=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];n=this.select.options[this.select.selectedIndex],this.selectItem(r)}else this.selectItem(null);const t=n!=null&&n!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",t)}}class z7 extends hv{constructor(n,t){super(n),this.label.innerHTML=t,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(r=>{r.classList.add("ql-primary")})}buildItem(n){const t=super.buildItem(n);return t.style.backgroundColor=n.getAttribute("value")||"",t}selectItem(n,t){super.selectItem(n,t);const r=this.label.querySelector(".ql-color-label"),i=n&&n.getAttribute("data-value")||"";r&&(r.tagName==="line"?r.style.stroke=i:r.style.fill=i)}}class q7 extends hv{constructor(n,t){super(n),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(r=>{r.innerHTML=t[r.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(n,t){super.selectItem(n,t);const r=n||this.defaultItem;if(r!=null){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}}const oH=e=>{const{overflowY:n}=getComputedStyle(e,null);return n!=="visible"&&n!=="clip"};class B7{constructor(n,t){this.quill=n,this.boundsContainer=t||document.body,this.root=n.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,oH(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(n){const t=n.left+n.width/2-this.root.offsetWidth/2,r=n.bottom+this.quill.root.scrollTop;this.root.style.left=`${t}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");const i=this.boundsContainer.getBoundingClientRect(),a=this.root.getBoundingClientRect();let s=0;if(a.right>i.right&&(s=i.right-a.right,this.root.style.left=`${t+s}px`),a.left<i.left&&(s=i.left-a.left,this.root.style.left=`${t+s}px`),a.bottom>i.bottom){const l=a.bottom-a.top,c=n.bottom-n.top+l;this.root.style.top=`${r-c}px`,this.root.classList.add("ql-flip")}return s}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const lH=[!1,"center","right","justify"],uH=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],cH=[!1,"serif","monospace"],dH=["1","2","3",!1],fH=["small",!1,"large","huge"];class Yg extends J0{constructor(n,t){super(n,t);const r=i=>{if(!document.body.contains(n.root)){document.body.removeEventListener("click",r);return}this.tooltip!=null&&!this.tooltip.root.contains(i.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(a=>{a.container.contains(i.target)||a.close()})};n.emitter.listenDOM("click",document.body,r)}addModule(n){const t=super.addModule(n);return n==="toolbar"&&this.extendToolbar(t),t}buildButtons(n,t){Array.from(n).forEach(r=>{(r.getAttribute("class")||"").split(/\s+/).forEach(a=>{if(a.startsWith("ql-")&&(a=a.slice(3),t[a]!=null))if(a==="direction")r.innerHTML=t[a][""]+t[a].rtl;else if(typeof t[a]=="string")r.innerHTML=t[a];else{const s=r.value||"";s!=null&&t[a][s]&&(r.innerHTML=t[a][s])}})})}buildPickers(n,t){this.pickers=Array.from(n).map(i=>{if(i.classList.contains("ql-align")&&(i.querySelector("option")==null&&f1(i,lH),typeof t.align=="object"))return new q7(i,t.align);if(i.classList.contains("ql-background")||i.classList.contains("ql-color")){const a=i.classList.contains("ql-background")?"background":"color";return i.querySelector("option")==null&&f1(i,uH,a==="background"?"#ffffff":"#000000"),new z7(i,t[a])}return i.querySelector("option")==null&&(i.classList.contains("ql-font")?f1(i,cH):i.classList.contains("ql-header")?f1(i,dH):i.classList.contains("ql-size")&&f1(i,fH)),new hv(i)});const r=()=>{this.pickers.forEach(i=>{i.update()})};this.quill.on(Ft.events.EDITOR_CHANGE,r)}}Yg.DEFAULTS=Zf({},J0.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let e=this.container.querySelector("input.ql-image[type=file]");e==null&&(e=document.createElement("input"),e.setAttribute("type","file"),e.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),e.classList.add("ql-image"),e.addEventListener("change",()=>{const n=this.quill.getSelection(!0);this.quill.uploader.upload(n,e.files),e.value=""}),this.container.appendChild(e)),e.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class U7 extends B7{constructor(n,t){super(n,t),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",n=>{n.key==="Enter"?(this.save(),n.preventDefault()):n.key==="Escape"&&(this.cancel(),n.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;t!=null?this.textbox.value=t:n!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const r=this.quill.getBounds(this.quill.selection.savedRange);r!=null&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${n}`)||""),this.root.setAttribute("data-mode",n)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:n}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:t}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",n,Ft.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",n,Ft.sources.USER)),this.quill.root.scrollTop=t;break}case"video":n=hH(n);case"formula":{if(!n)break;const t=this.quill.getSelection(!0);if(t!=null){const r=t.index+t.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),n,Ft.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(r+1," ",Ft.sources.USER),this.quill.setSelection(r+2,Ft.sources.USER)}break}}this.textbox.value="",this.hide()}}function hH(e){let n=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return n?`${n[1]||"https"}://www.youtube.com/embed/${n[2]}?showinfo=0`:(n=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${n[1]||"https"}://player.vimeo.com/video/${n[2]}/`:e}function f1(e,n){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;n.forEach(r=>{const i=document.createElement("option");r===t?i.setAttribute("selected","selected"):i.setAttribute("value",String(r)),e.appendChild(i)})}const pH=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class $7 extends U7{constructor(n,t){super(n,t),this.quill.on(Ft.events.EDITOR_CHANGE,(r,i,a,s)=>{if(r===Ft.events.SELECTION_CHANGE)if(i!=null&&i.length>0&&s===Ft.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const l=this.quill.getLines(i.index,i.length);if(l.length===1){const c=this.quill.getBounds(i);c!=null&&this.position(c)}else{const c=l[l.length-1],d=this.quill.getIndex(c),h=Math.min(c.length()-1,i.index+i.length-d),g=this.quill.getBounds(new fp(d,h));g!=null&&this.position(g)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(Ft.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const n=this.quill.getSelection();if(n!=null){const t=this.quill.getBounds(n);t!=null&&this.position(t)}},1)})}cancel(){this.show()}position(n){const t=super.position(n),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",t!==0&&(r.style.marginLeft=`${-1*t-r.offsetWidth/2}px`),t}}Ze($7,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class H7 extends Yg{constructor(n,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=pH),super(n,t),this.quill.container.classList.add("ql-bubble")}extendToolbar(n){this.tooltip=new $7(this.quill,this.options.bounds),n.container!=null&&(this.tooltip.root.appendChild(n.container),this.buildButtons(n.container.querySelectorAll("button"),xg),this.buildPickers(n.container.querySelectorAll("select"),xg))}}H7.DEFAULTS=Zf({},Yg.DEFAULTS,{modules:{toolbar:{handlers:{link(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1,St.sources.USER)}}}}});const mH=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class W7 extends U7{constructor(){super(...arguments);Ze(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",t=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",t=>{if(this.linkRange!=null){const r=this.linkRange;this.restoreFocus(),this.quill.formatText(r,"link",!1,Ft.sources.USER),delete this.linkRange}t.preventDefault(),this.hide()}),this.quill.on(Ft.events.SELECTION_CHANGE,(t,r,i)=>{if(t!=null){if(t.length===0&&i===Ft.sources.USER){const[a,s]=this.quill.scroll.descendant(Hf,t.index);if(a!=null){this.linkRange=new fp(t.index-s,a.length());const l=Hf.formats(a.domNode);this.preview.textContent=l,this.preview.setAttribute("href",l),this.show();const c=this.quill.getBounds(this.linkRange);c!=null&&this.position(c);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}Ze(W7,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class V7 extends Yg{constructor(n,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=mH),super(n,t),this.quill.container.classList.add("ql-snow")}extendToolbar(n){n.container!=null&&(n.container.classList.add("ql-snow"),this.buildButtons(n.container.querySelectorAll("button"),xg),this.buildPickers(n.container.querySelectorAll("select"),xg),this.tooltip=new W7(this.quill,this.options.bounds),n.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(t,r)=>{n.handlers.link.call(n,!r.format.link)}))}}V7.DEFAULTS=Zf({},Yg.DEFAULTS,{modules:{toolbar:{handlers:{link(e){if(e){const n=this.quill.getSelection();if(n==null||n.length===0)return;let t=this.quill.getText(n);/^\S+@\S+\.\S+$/.test(t)&&t.indexOf("mailto:")!==0&&(t=`mailto:${t}`);const{tooltip:r}=this.quill.theme;r.edit("link",t)}else this.quill.format("link",!1,St.sources.USER)}}}}});St.register({"attributors/attribute/direction":E7,"attributors/class/align":S7,"attributors/class/background":IU,"attributors/class/color":OU,"attributors/class/direction":_7,"attributors/class/font":N7,"attributors/class/size":O7,"attributors/style/align":A7,"attributors/style/background":H6,"attributors/style/color":$6,"attributors/style/direction":k7,"attributors/style/font":T7,"attributors/style/size":I7},!0);St.register({"formats/align":S7,"formats/direction":_7,"formats/indent":S$,"formats/background":H6,"formats/color":$6,"formats/font":N7,"formats/size":O7,"formats/blockquote":dS,"formats/code-block":Us,"formats/header":fS,"formats/list":Vg,"formats/bold":yg,"formats/code":W6,"formats/italic":hS,"formats/link":Hf,"formats/script":pS,"formats/strike":mS,"formats/underline":gS,"formats/formula":Gy,"formats/image":A$,"formats/video":Qy,"modules/syntax":P7,"modules/table":E$,"modules/toolbar":K6,"themes/bubble":H7,"themes/snow":V7,"ui/icons":xg,"ui/picker":hv,"ui/icon-picker":q7,"ui/color-picker":z7,"ui/tooltip":B7},!0);class pv extends it.Component{constructor(n){super(n),this.editingAreaRef=X.createRef(),this.containerRef=X.createRef(),this.dirtyProps=["modules","formats","bounds","theme","children"],this.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],this.state={generation:0},this.selection=null,this.onEditorChange=(r,i,a,s)=>{var l,c;r==="text-change"?(l=this.onEditorChangeText)==null||l.call(this,this.editor.root.innerHTML,i,s,this.unprivilegedEditor):r==="selection-change"&&((c=this.onEditorChangeSelection)==null||c.call(this,i,s,this.unprivilegedEditor))};const t=this.isControlled()?n.value:n.defaultValue;this.value=t??""}validateProps(n){if(it.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(it.Children.count(n.children)){const t=it.Children.only(n.children);if((t==null?void 0:t.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")}shouldComponentUpdate(n,t){if(this.validateProps(n),!this.editor||this.state.generation!==t.generation)return!0;if("value"in n){const r=this.getEditorContents(),i=n.value??"";this.isEqualValue(i,r)||this.setEditorContents(this.editor,i)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),[...this.cleanProps,...this.dirtyProps].some(r=>!zf(n[r],this.props[r]))}shouldComponentRegenerate(n){return this.dirtyProps.some(t=>!zf(n[t],this.props[t]))}componentDidMount(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())}componentWillUnmount(){this.destroyEditor()}componentDidUpdate(n,t){if(this.editor&&this.shouldComponentRegenerate(n)){const r=this.editor.getContents(),i=this.editor.getSelection();this.regenerationSnapshot={delta:r,selection:i},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){const{delta:r,selection:i}=this.regenerationSnapshot;delete this.regenerationSnapshot,this.instantiateEditor();const a=this.editor;a.setContents(r),U8(()=>this.setEditorSelection(a,i))}}instantiateEditor(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())}destroyEditor(){var r,i;if(!this.editor)return;this.unhookEditor(this.editor);const n=(r=this.props.modules)==null?void 0:r.toolbar;if(!(typeof n=="object"&&n&&"container"in n&&typeof n.container=="string"||typeof n=="string")){const a=(i=this.containerRef.current)==null?void 0:i.querySelector(".ql-toolbar");a&&a.remove()}delete this.editor}isControlled(){return"value"in this.props}getEditorConfig(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,tabIndex:this.props.tabIndex,theme:this.props.theme}}getEditor(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor}createEditor(n,t){const r=new St(n,t);return t.tabIndex!=null&&this.setEditorTabIndex(r,t.tabIndex),this.hookEditor(r),r}hookEditor(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)}unhookEditor(n){n.off("editor-change",this.onEditorChange)}getEditorContents(){return this.value}getEditorSelection(){return this.selection}isDelta(n){return n&&n.ops}isEqualValue(n,t){return this.isDelta(n)&&this.isDelta(t)?zf(n.ops,t.ops):zf(n,t)}setEditorContents(n,t){this.value=t;const r=this.getEditorSelection();typeof t=="string"?n.setContents(n.clipboard.convert({html:t})):n.setContents(t),U8(()=>this.setEditorSelection(n,r))}setEditorSelection(n,t){if(this.selection=t,t){const r=n.getLength();t.index=Math.max(0,Math.min(t.index,r-1)),t.length=Math.max(0,Math.min(t.length,r-1-t.index)),n.setSelection(t)}}setEditorTabIndex(n,t){var r;(r=n==null?void 0:n.scroll)!=null&&r.domNode&&(n.scroll.domNode.tabIndex=t)}setEditorReadOnly(n,t){t?n.disable():n.enable()}makeUnprivilegedEditor(n){const t=n;return{getHTML:()=>t.root.innerHTML,getSemanticHTML:t.getSemanticHTML.bind(t),getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}}getEditingArea(){const n=this.editingAreaRef.current;if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n}renderEditingArea(){const{children:n,preserveWhitespace:t}=this.props,{generation:r}=this.state,i={key:r,ref:this.editingAreaRef};return it.Children.count(n)?it.cloneElement(it.Children.only(n),i):t?it.createElement("pre",{...i}):it.createElement("div",{...i})}render(){return it.createElement("div",{ref:this.containerRef,id:this.props.id,style:this.props.style,key:this.state.generation,className:`quill ${this.props.className??""}`,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())}onEditorChangeText(n,t,r,i){var s,l;if(!this.editor)return;const a=this.isDelta(this.value)?i.getContents():i.getHTML();a!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=a,(l=(s=this.props).onChange)==null||l.call(s,n,t,r,i))}onEditorChangeSelection(n,t,r){var l,c,d,h,g,b;if(!this.editor)return;const i=this.getEditorSelection(),a=!i&&n,s=i&&!n;zf(n,i)||(this.selection=n,(c=(l=this.props).onChangeSelection)==null||c.call(l,n,t,r),a?(h=(d=this.props).onFocus)==null||h.call(d,n,t,r):s&&((b=(g=this.props).onBlur)==null||b.call(g,i,t,r)))}focus(){this.editor&&this.editor.focus()}blur(){this.editor&&(this.selection=null,this.editor.blur())}}pv.displayName="React Quill";pv.Quill=St;pv.defaultProps={theme:"snow",modules:{},readOnly:!1};function U8(e){Promise.resolve().then(e)}const gH=({content:e,onChange:n})=>{const t=a=>{n(a)},r={toolbar:[[{header:[1,2,3,!1]}],["bold","italic"],["blockquote",{list:"ordered"},{list:"bullet"}],["link"],["clean"]]},i=["header","bold","italic","blockquote","list","link"];return f.jsx(pv,{value:e,onChange:t,modules:r,formats:i,theme:"snow",placeholder:"Start writing...",style:{backgroundColor:"white",borderRadius:"4px",minHeight:"150px"}})},bH=(e,n={enabled:!0,priority:"low"})=>{const t=X.useCallback(r=>{!n.enabled||r.length===0||r.forEach((i,a)=>{if(!i||i.startsWith("data:"))return;const s=new Image;"loading"in s&&(s.loading="lazy");const l=n.priority==="low"?a*100:0;setTimeout(()=>{s.src=i,s.onload=()=>{console.log(` Preloaded image: ${i.substring(0,50)}...`)},s.onerror=c=>{console.error(` Failed to preload image: ${i}`,c),console.error("Image details:",{url:i,naturalWidth:s.naturalWidth,naturalHeight:s.naturalHeight,complete:s.complete})}},l)})},[n.enabled,n.priority]);return X.useEffect(()=>{t(e)},[e,t]),{preloadImages:t}},Y7=(e,n,t=!0)=>{const{preloadImages:r}=bH([],{enabled:t,priority:"low"});X.useEffect(()=>{var s,l;if(!t||!e.length)return;const i=[];if(n>0){const c=e[n-1];c!=null&&c.images&&i.push(...c.images.map(d=>d.url)),(s=c==null?void 0:c.subsections)==null||s.forEach(d=>{var h;d.images&&i.push(...d.images.map(g=>g.url)),(h=d==null?void 0:d.subSubsections)==null||h.forEach(g=>{g.images&&i.push(...g.images.map(b=>b.url))})})}if(n<e.length-1){const c=e[n+1];c!=null&&c.images&&i.push(...c.images.map(d=>d.url)),(l=c==null?void 0:c.subsections)==null||l.forEach(d=>{var h;d.images&&i.push(...d.images.map(g=>g.url)),(h=d==null?void 0:d.subSubsections)==null||h.forEach(g=>{g.images&&i.push(...g.images.map(b=>b.url))})})}const a=Array.from(new Set(i.filter(Boolean)));a.length>0&&(console.log(`Preloading ${a.length} images from adjacent sections`),r(a))},[e,n,t,r])},yH=({value:e,onChange:n,disabled:t=!1})=>{const[r,i]=X.useState([]),[a,s]=X.useState(!0),{userDetails:l}=Ai();X.useEffect(()=>{if(console.log("User Details in CourseDropdown:",l),l!=null&&l.classes){const d=Object.entries(l.classes).filter(([h,g])=>g.isCourseAdmin||l.isSuperAdmin).map(([h,g])=>({id:h,number:g.number,title:g.title}));console.log("Filtered Courses for Dropdown:",d),i(d)}else i([]);s(!1)},[l]);const c=r.some(d=>d.id===e);return a?f.jsx(ge,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:f.jsx(Gr,{})}):f.jsx(Bt,{select:!0,label:"Select Course",value:c?e:"",onChange:d=>n(d.target.value),fullWidth:!0,disabled:t,sx:{mb:2},error:!c&&e!=="",helperText:!c&&e!==""?"Invalid course selected":"",children:r.length>0?r.map(d=>f.jsxs(Zn,{value:d.id,children:[d.number," - ",d.title]},d.id)):f.jsx(Zn,{disabled:!0,children:"No courses available"})})};function Mt(e){const n=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&n==="[object Date]"?new e.constructor(+e):typeof e=="number"||n==="[object Number]"||typeof e=="string"||n==="[object String]"?new Date(e):new Date(NaN)}function Lr(e,n){return e instanceof Date?new e.constructor(n):new Date(n)}function Su(e,n){const t=Mt(e);return isNaN(n)?Lr(e,NaN):(n&&t.setDate(t.getDate()+n),t)}function Cu(e,n){const t=Mt(e);if(isNaN(n))return Lr(e,NaN);if(!n)return t;const r=t.getDate(),i=Lr(e,t.getTime());i.setMonth(t.getMonth()+n+1,0);const a=i.getDate();return r>=a?i:(t.setFullYear(i.getFullYear(),i.getMonth(),r),t)}function X6(e,n){const t=+Mt(e);return Lr(e,t+n)}const G7=6048e5,xH=864e5,mv=6e4,gv=36e5,vH=1e3;function wH(e,n){return X6(e,n*gv)}let SH={};function Ep(){return SH}function Bd(e,n){var l,c,d,h;const t=Ep(),r=(n==null?void 0:n.weekStartsOn)??((c=(l=n==null?void 0:n.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??t.weekStartsOn??((h=(d=t.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,i=Mt(e),a=i.getDay(),s=(a<r?7:0)+a-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function tm(e){return Bd(e,{weekStartsOn:1})}function Q7(e){const n=Mt(e),t=n.getFullYear(),r=Lr(e,0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);const i=tm(r),a=Lr(e,0);a.setFullYear(t,0,4),a.setHours(0,0,0,0);const s=tm(a);return n.getTime()>=i.getTime()?t+1:n.getTime()>=s.getTime()?t:t-1}function hp(e){const n=Mt(e);return n.setHours(0,0,0,0),n}function jx(e){const n=Mt(e),t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),+e-+t}function nm(e,n){const t=hp(e),r=hp(n),i=+t-jx(t),a=+r-jx(r);return Math.round((i-a)/xH)}function AH(e){const n=Q7(e),t=Lr(e,0);return t.setFullYear(n,0,4),t.setHours(0,0,0,0),tm(t)}function bS(e,n){return X6(e,n*mv)}function Z6(e,n){const t=n*3;return Cu(e,t)}function CH(e,n){return X6(e,n*1e3)}function Nx(e,n){const t=n*7;return Su(e,t)}function Dd(e,n){return Cu(e,n*12)}function $8(e){let n;return e.forEach(function(t){const r=Mt(t);(n===void 0||n<r||isNaN(Number(r)))&&(n=r)}),n||new Date(NaN)}function H8(e){let n;return e.forEach(t=>{const r=Mt(t);(!n||n>r||isNaN(+r))&&(n=r)}),n||new Date(NaN)}function EH(e,n){const t=hp(e),r=hp(n);return+t==+r}function Ld(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Tx(e){if(!Ld(e)&&typeof e!="number")return!1;const n=Mt(e);return!isNaN(Number(n))}function Ox(e,n){const t=Mt(e),r=Mt(n),i=t.getFullYear()-r.getFullYear(),a=t.getMonth()-r.getMonth();return i*12+a}function np(e){const n=Mt(e);return Math.trunc(n.getMonth()/3)+1}function Ix(e,n){const t=Mt(e),r=Mt(n),i=t.getFullYear()-r.getFullYear(),a=np(t)-np(r);return i*4+a}function Dx(e,n){const t=Mt(e),r=Mt(n);return t.getFullYear()-r.getFullYear()}function _H(e,n){const t=Mt(e),r=Mt(n),i=W8(t,r),a=Math.abs(nm(t,r));t.setDate(t.getDate()-i*a);const s=+(W8(t,r)===-i),l=i*(a-s);return l===0?0:l}function W8(e,n){const t=e.getFullYear()-n.getFullYear()||e.getMonth()-n.getMonth()||e.getDate()-n.getDate()||e.getHours()-n.getHours()||e.getMinutes()-n.getMinutes()||e.getSeconds()-n.getSeconds()||e.getMilliseconds()-n.getMilliseconds();return t<0?-1:t>0?1:t}function K7(e){const n=Mt(e);return n.setHours(23,59,59,999),n}function X7(e){const n=Mt(e),t=n.getMonth();return n.setFullYear(n.getFullYear(),t+1,0),n.setHours(23,59,59,999),n}function yS(e){const n=Mt(e),t=n.getMonth(),r=t-t%3;return n.setMonth(r,1),n.setHours(0,0,0,0),n}function Z7(e){const n=Mt(e);return n.setDate(1),n.setHours(0,0,0,0),n}function J7(e){const n=Mt(e),t=n.getFullYear();return n.setFullYear(t+1,0,0),n.setHours(23,59,59,999),n}function bv(e){const n=Mt(e),t=Lr(e,0);return t.setFullYear(n.getFullYear(),0,1),t.setHours(0,0,0,0),t}function kH(e,n){var l,c;const t=Ep(),r=t.weekStartsOn??((c=(l=t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??0,i=Mt(e),a=i.getDay(),s=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}const jH={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},NH=(e,n,t)=>{let r;const i=jH[e];return typeof i=="string"?r=i:n===1?r=i.one:r=i.other.replace("{{count}}",n.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function B5(e){return(n={})=>{const t=n.width?String(n.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}const TH={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},OH={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},IH={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},DH={date:B5({formats:TH,defaultWidth:"full"}),time:B5({formats:OH,defaultWidth:"full"}),dateTime:B5({formats:IH,defaultWidth:"full"})},LH={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},RH=(e,n,t,r)=>LH[e];function h1(e){return(n,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,l=t!=null&&t.width?String(t.width):s;i=e.formattingValues[l]||e.formattingValues[s]}else{const s=e.defaultWidth,l=t!=null&&t.width?String(t.width):e.defaultWidth;i=e.values[l]||e.values[s]}const a=e.argumentCallback?e.argumentCallback(n):n;return i[a]}}const MH={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},FH={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},PH={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},zH={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},qH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},BH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},UH=(e,n)=>{const t=Number(e),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},$H={ordinalNumber:UH,era:h1({values:MH,defaultWidth:"wide"}),quarter:h1({values:FH,defaultWidth:"wide",argumentCallback:e=>e-1}),month:h1({values:PH,defaultWidth:"wide"}),day:h1({values:zH,defaultWidth:"wide"}),dayPeriod:h1({values:qH,defaultWidth:"wide",formattingValues:BH,defaultFormattingWidth:"wide"})};function p1(e){return(n,t={})=>{const r=t.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=n.match(i);if(!a)return null;const s=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?WH(l,g=>g.test(s)):HH(l,g=>g.test(s));let d;d=e.valueCallback?e.valueCallback(c):c,d=t.valueCallback?t.valueCallback(d):d;const h=n.slice(s.length);return{value:d,rest:h}}}function HH(e,n){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&n(e[t]))return t}function WH(e,n){for(let t=0;t<e.length;t++)if(n(e[t]))return t}function VH(e){return(n,t={})=>{const r=n.match(e.matchPattern);if(!r)return null;const i=r[0],a=n.match(e.parsePattern);if(!a)return null;let s=e.valueCallback?e.valueCallback(a[0]):a[0];s=t.valueCallback?t.valueCallback(s):s;const l=n.slice(i.length);return{value:s,rest:l}}}const YH=/^(\d+)(th|st|nd|rd)?/i,GH=/\d+/i,QH={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},KH={any:[/^b/i,/^(a|c)/i]},XH={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ZH={any:[/1/i,/2/i,/3/i,/4/i]},JH={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},eW={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},tW={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},nW={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},rW={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},iW={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},aW={ordinalNumber:VH({matchPattern:YH,parsePattern:GH,valueCallback:e=>parseInt(e,10)}),era:p1({matchPatterns:QH,defaultMatchWidth:"wide",parsePatterns:KH,defaultParseWidth:"any"}),quarter:p1({matchPatterns:XH,defaultMatchWidth:"wide",parsePatterns:ZH,defaultParseWidth:"any",valueCallback:e=>e+1}),month:p1({matchPatterns:JH,defaultMatchWidth:"wide",parsePatterns:eW,defaultParseWidth:"any"}),day:p1({matchPatterns:tW,defaultMatchWidth:"wide",parsePatterns:nW,defaultParseWidth:"any"}),dayPeriod:p1({matchPatterns:rW,defaultMatchWidth:"any",parsePatterns:iW,defaultParseWidth:"any"})},eO={code:"en-US",formatDistance:NH,formatLong:DH,formatRelative:RH,localize:$H,match:aW,options:{weekStartsOn:0,firstWeekContainsDate:1}};function sW(e){const n=Mt(e);return nm(n,bv(n))+1}function J6(e){const n=Mt(e),t=+tm(n)-+AH(n);return Math.round(t/G7)+1}function eA(e,n){var h,g,b,m;const t=Mt(e),r=t.getFullYear(),i=Ep(),a=(n==null?void 0:n.firstWeekContainsDate)??((g=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(b=i.locale)==null?void 0:b.options)==null?void 0:m.firstWeekContainsDate)??1,s=Lr(e,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const l=Bd(s,n),c=Lr(e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const d=Bd(c,n);return t.getTime()>=l.getTime()?r+1:t.getTime()>=d.getTime()?r:r-1}function oW(e,n){var l,c,d,h;const t=Ep(),r=(n==null?void 0:n.firstWeekContainsDate)??((c=(l=n==null?void 0:n.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??t.firstWeekContainsDate??((h=(d=t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,i=eA(e,n),a=Lr(e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Bd(a,n)}function tO(e,n){const t=Mt(e),r=+Bd(t,n)-+oW(t,n);return Math.round(r/G7)+1}function Dr(e,n){const t=e<0?"-":"",r=Math.abs(e).toString().padStart(n,"0");return t+r}const Df={y(e,n){const t=e.getFullYear(),r=t>0?t:1-t;return Dr(n==="yy"?r%100:r,n.length)},M(e,n){const t=e.getMonth();return n==="M"?String(t+1):Dr(t+1,2)},d(e,n){return Dr(e.getDate(),n.length)},a(e,n){const t=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(e,n){return Dr(e.getHours()%12||12,n.length)},H(e,n){return Dr(e.getHours(),n.length)},m(e,n){return Dr(e.getMinutes(),n.length)},s(e,n){return Dr(e.getSeconds(),n.length)},S(e,n){const t=n.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return Dr(i,n.length)}},o0={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},V8={G:function(e,n,t){const r=e.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(e,n,t){if(n==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return Df.y(e,n)},Y:function(e,n,t,r){const i=eA(e,r),a=i>0?i:1-i;if(n==="YY"){const s=a%100;return Dr(s,2)}return n==="Yo"?t.ordinalNumber(a,{unit:"year"}):Dr(a,n.length)},R:function(e,n){const t=Q7(e);return Dr(t,n.length)},u:function(e,n){const t=e.getFullYear();return Dr(t,n.length)},Q:function(e,n,t){const r=Math.ceil((e.getMonth()+1)/3);switch(n){case"Q":return String(r);case"QQ":return Dr(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,n,t){const r=Math.ceil((e.getMonth()+1)/3);switch(n){case"q":return String(r);case"qq":return Dr(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,n,t){const r=e.getMonth();switch(n){case"M":case"MM":return Df.M(e,n);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(e,n,t){const r=e.getMonth();switch(n){case"L":return String(r+1);case"LL":return Dr(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(e,n,t,r){const i=tO(e,r);return n==="wo"?t.ordinalNumber(i,{unit:"week"}):Dr(i,n.length)},I:function(e,n,t){const r=J6(e);return n==="Io"?t.ordinalNumber(r,{unit:"week"}):Dr(r,n.length)},d:function(e,n,t){return n==="do"?t.ordinalNumber(e.getDate(),{unit:"date"}):Df.d(e,n)},D:function(e,n,t){const r=sW(e);return n==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Dr(r,n.length)},E:function(e,n,t){const r=e.getDay();switch(n){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(e,n,t,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return Dr(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(e,n,t,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return Dr(a,n.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(e,n,t){const r=e.getDay(),i=r===0?7:r;switch(n){case"i":return String(i);case"ii":return Dr(i,n.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(e,n,t){const i=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,n,t){const r=e.getHours();let i;switch(r===12?i=o0.noon:r===0?i=o0.midnight:i=r/12>=1?"pm":"am",n){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,n,t){const r=e.getHours();let i;switch(r>=17?i=o0.evening:r>=12?i=o0.afternoon:r>=4?i=o0.morning:i=o0.night,n){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,n,t){if(n==="ho"){let r=e.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Df.h(e,n)},H:function(e,n,t){return n==="Ho"?t.ordinalNumber(e.getHours(),{unit:"hour"}):Df.H(e,n)},K:function(e,n,t){const r=e.getHours()%12;return n==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Dr(r,n.length)},k:function(e,n,t){let r=e.getHours();return r===0&&(r=24),n==="ko"?t.ordinalNumber(r,{unit:"hour"}):Dr(r,n.length)},m:function(e,n,t){return n==="mo"?t.ordinalNumber(e.getMinutes(),{unit:"minute"}):Df.m(e,n)},s:function(e,n,t){return n==="so"?t.ordinalNumber(e.getSeconds(),{unit:"second"}):Df.s(e,n)},S:function(e,n){return Df.S(e,n)},X:function(e,n,t){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(n){case"X":return G8(r);case"XXXX":case"XX":return Wh(r);case"XXXXX":case"XXX":default:return Wh(r,":")}},x:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"x":return G8(r);case"xxxx":case"xx":return Wh(r);case"xxxxx":case"xxx":default:return Wh(r,":")}},O:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Y8(r,":");case"OOOO":default:return"GMT"+Wh(r,":")}},z:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Y8(r,":");case"zzzz":default:return"GMT"+Wh(r,":")}},t:function(e,n,t){const r=Math.trunc(e.getTime()/1e3);return Dr(r,n.length)},T:function(e,n,t){const r=e.getTime();return Dr(r,n.length)}};function Y8(e,n=""){const t=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?t+String(i):t+String(i)+n+Dr(a,2)}function G8(e,n){return e%60===0?(e>0?"-":"+")+Dr(Math.abs(e)/60,2):Wh(e,n)}function Wh(e,n=""){const t=e>0?"-":"+",r=Math.abs(e),i=Dr(Math.trunc(r/60),2),a=Dr(r%60,2);return t+i+n+a}const Q8=(e,n)=>{switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},nO=(e,n)=>{switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},lW=(e,n)=>{const t=e.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return Q8(e,n);let a;switch(r){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",Q8(r,n)).replace("{{time}}",nO(i,n))},Lx={p:nO,P:lW},uW=/^D+$/,cW=/^Y+$/,dW=["D","DD","YY","YYYY"];function rO(e){return uW.test(e)}function iO(e){return cW.test(e)}function xS(e,n,t){const r=fW(e,n,t);if(console.warn(r),dW.includes(e))throw new RangeError(r)}function fW(e,n,t){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${n}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const hW=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,pW=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mW=/^'([^]*?)'?$/,gW=/''/g,bW=/[a-zA-Z]/;function K8(e,n,t){var h,g,b,m,x,y,A,w;const r=Ep(),i=(t==null?void 0:t.locale)??r.locale??eO,a=(t==null?void 0:t.firstWeekContainsDate)??((g=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(b=r.locale)==null?void 0:b.options)==null?void 0:m.firstWeekContainsDate)??1,s=(t==null?void 0:t.weekStartsOn)??((y=(x=t==null?void 0:t.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((w=(A=r.locale)==null?void 0:A.options)==null?void 0:w.weekStartsOn)??0,l=Mt(e);if(!Tx(l))throw new RangeError("Invalid time value");let c=n.match(pW).map(C=>{const j=C[0];if(j==="p"||j==="P"){const F=Lx[j];return F(C,i.formatLong)}return C}).join("").match(hW).map(C=>{if(C==="''")return{isToken:!1,value:"'"};const j=C[0];if(j==="'")return{isToken:!1,value:yW(C)};if(V8[j])return{isToken:!0,value:C};if(j.match(bW))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:C}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const d={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return c.map(C=>{if(!C.isToken)return C.value;const j=C.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&iO(j)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&rO(j))&&xS(j,n,String(e));const F=V8[j[0]];return F(l,j,i.localize,d)}).join("")}function yW(e){const n=e.match(mW);return n?n[1].replace(gW,"'"):e}function X8(e){return Mt(e).getDate()}function xW(e){return Mt(e).getDay()}function vW(e){const n=Mt(e),t=n.getFullYear(),r=n.getMonth(),i=Lr(e,0);return i.setFullYear(t,r+1,0),i.setHours(0,0,0,0),i.getDate()}function wW(){return Object.assign({},Ep())}function jc(e){return Mt(e).getHours()}function SW(e){let t=Mt(e).getDay();return t===0&&(t=7),t}function Nc(e){return Mt(e).getMinutes()}function to(e){return Mt(e).getMonth()}function Rd(e){return Mt(e).getSeconds()}function vS(e){return Mt(e).getTime()}function Pn(e){return Mt(e).getFullYear()}function rh(e,n){const t=Mt(e),r=Mt(n);return t.getTime()>r.getTime()}function pp(e,n){const t=Mt(e),r=Mt(n);return+t<+r}function AW(e,n){const t=Mt(e),r=Mt(n);return+t==+r}function CW(e,n){const t=n instanceof Date?Lr(n,0):new n(0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t}const EW=10;class aO{constructor(){Ze(this,"subPriority",0)}validate(n,t){return!0}}class _W extends aO{constructor(n,t,r,i,a){super(),this.value=n,this.validateValue=t,this.setValue=r,this.priority=i,a&&(this.subPriority=a)}validate(n,t){return this.validateValue(n,this.value,t)}set(n,t,r){return this.setValue(n,t,this.value,r)}}class kW extends aO{constructor(){super(...arguments);Ze(this,"priority",EW);Ze(this,"subPriority",-1)}set(t,r){return r.timestampIsSet?t:Lr(t,CW(t,Date))}}let wr=class{run(n,t,r,i){const a=this.parse(n,t,r,i);return a?{setter:new _W(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(n,t,r){return!0}};class jW extends wr{constructor(){super(...arguments);Ze(this,"priority",140);Ze(this,"incompatibleTokens",["R","u","t","T"])}parse(t,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,r,i){return r.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const fa={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},xc={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ha(e,n){return e&&{value:n(e.value),rest:e.rest}}function Mi(e,n){const t=n.match(e);return t?{value:parseInt(t[0],10),rest:n.slice(t[0].length)}:null}function vc(e,n){const t=n.match(e);if(!t)return null;if(t[0]==="Z")return{value:0,rest:n.slice(1)};const r=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,a=t[3]?parseInt(t[3],10):0,s=t[5]?parseInt(t[5],10):0;return{value:r*(i*gv+a*mv+s*vH),rest:n.slice(t[0].length)}}function sO(e){return Mi(fa.anyDigitsSigned,e)}function Ji(e,n){switch(e){case 1:return Mi(fa.singleDigit,n);case 2:return Mi(fa.twoDigits,n);case 3:return Mi(fa.threeDigits,n);case 4:return Mi(fa.fourDigits,n);default:return Mi(new RegExp("^\\d{1,"+e+"}"),n)}}function Rx(e,n){switch(e){case 1:return Mi(fa.singleDigitSigned,n);case 2:return Mi(fa.twoDigitsSigned,n);case 3:return Mi(fa.threeDigitsSigned,n);case 4:return Mi(fa.fourDigitsSigned,n);default:return Mi(new RegExp("^-?\\d{1,"+e+"}"),n)}}function tA(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function oO(e,n){const t=n>0,r=t?n:1-n;let i;if(r<=50)i=e||100;else{const a=r+50,s=Math.trunc(a/100)*100,l=e>=a%100;i=e+s-(l?100:0)}return t?i:1-i}function lO(e){return e%400===0||e%4===0&&e%100!==0}class NW extends wr{constructor(){super(...arguments);Ze(this,"priority",130);Ze(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,r,i){const a=s=>({year:s,isTwoDigitYear:r==="yy"});switch(r){case"y":return ha(Ji(4,t),a);case"yo":return ha(i.ordinalNumber(t,{unit:"year"}),a);default:return ha(Ji(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i){const a=t.getFullYear();if(i.isTwoDigitYear){const l=oO(i.year,a);return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}const s=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}class TW extends wr{constructor(){super(...arguments);Ze(this,"priority",130);Ze(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,r,i){const a=s=>({year:s,isTwoDigitYear:r==="YY"});switch(r){case"Y":return ha(Ji(4,t),a);case"Yo":return ha(i.ordinalNumber(t,{unit:"year"}),a);default:return ha(Ji(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i,a){const s=eA(t,a);if(i.isTwoDigitYear){const c=oO(i.year,s);return t.setFullYear(c,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),Bd(t,a)}const l=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(l,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),Bd(t,a)}}class OW extends wr{constructor(){super(...arguments);Ze(this,"priority",130);Ze(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,r){return Rx(r==="R"?4:r.length,t)}set(t,r,i){const a=Lr(t,0);return a.setFullYear(i,0,4),a.setHours(0,0,0,0),tm(a)}}class IW extends wr{constructor(){super(...arguments);Ze(this,"priority",130);Ze(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,r){return Rx(r==="u"?4:r.length,t)}set(t,r,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class DW extends wr{constructor(){super(...arguments);Ze(this,"priority",120);Ze(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"Q":case"QQ":return Ji(r.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class LW extends wr{constructor(){super(...arguments);Ze(this,"priority",120);Ze(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"q":case"qq":return Ji(r.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class RW extends wr{constructor(){super(...arguments);Ze(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Ze(this,"priority",110)}parse(t,r,i){const a=s=>s-1;switch(r){case"M":return ha(Mi(fa.month,t),a);case"MM":return ha(Ji(2,t),a);case"Mo":return ha(i.ordinalNumber(t,{unit:"month"}),a);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class MW extends wr{constructor(){super(...arguments);Ze(this,"priority",110);Ze(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,r,i){const a=s=>s-1;switch(r){case"L":return ha(Mi(fa.month,t),a);case"LL":return ha(Ji(2,t),a);case"Lo":return ha(i.ordinalNumber(t,{unit:"month"}),a);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function FW(e,n,t){const r=Mt(e),i=tO(r,t)-n;return r.setDate(r.getDate()-i*7),r}class PW extends wr{constructor(){super(...arguments);Ze(this,"priority",100);Ze(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,r,i){switch(r){case"w":return Mi(fa.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return Ji(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i,a){return Bd(FW(t,i,a),a)}}function zW(e,n){const t=Mt(e),r=J6(t)-n;return t.setDate(t.getDate()-r*7),t}class qW extends wr{constructor(){super(...arguments);Ze(this,"priority",100);Ze(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,r,i){switch(r){case"I":return Mi(fa.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return Ji(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i){return tm(zW(t,i))}}const BW=[31,28,31,30,31,30,31,31,30,31,30,31],UW=[31,29,31,30,31,30,31,31,30,31,30,31];class $W extends wr{constructor(){super(...arguments);Ze(this,"priority",90);Ze(this,"subPriority",1);Ze(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"d":return Mi(fa.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return Ji(r.length,t)}}validate(t,r){const i=t.getFullYear(),a=lO(i),s=t.getMonth();return a?r>=1&&r<=UW[s]:r>=1&&r<=BW[s]}set(t,r,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class HW extends wr{constructor(){super(...arguments);Ze(this,"priority",90);Ze(this,"subpriority",1);Ze(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,r,i){switch(r){case"D":case"DD":return Mi(fa.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return Ji(r.length,t)}}validate(t,r){const i=t.getFullYear();return lO(i)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function nA(e,n,t){var g,b,m,x;const r=Ep(),i=(t==null?void 0:t.weekStartsOn)??((b=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:b.weekStartsOn)??r.weekStartsOn??((x=(m=r.locale)==null?void 0:m.options)==null?void 0:x.weekStartsOn)??0,a=Mt(e),s=a.getDay(),c=(n%7+7)%7,d=7-i,h=n<0||n>6?n-(s+d)%7:(c+d)%7-(s+d)%7;return Su(a,h)}class WW extends wr{constructor(){super(...arguments);Ze(this,"priority",90);Ze(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,a){return t=nA(t,i,a),t.setHours(0,0,0,0),t}}class VW extends wr{constructor(){super(...arguments);Ze(this,"priority",90);Ze(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,r,i,a){const s=l=>{const c=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+c};switch(r){case"e":case"ee":return ha(Ji(r.length,t),s);case"eo":return ha(i.ordinalNumber(t,{unit:"day"}),s);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,a){return t=nA(t,i,a),t.setHours(0,0,0,0),t}}class YW extends wr{constructor(){super(...arguments);Ze(this,"priority",90);Ze(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,r,i,a){const s=l=>{const c=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+c};switch(r){case"c":case"cc":return ha(Ji(r.length,t),s);case"co":return ha(i.ordinalNumber(t,{unit:"day"}),s);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,a){return t=nA(t,i,a),t.setHours(0,0,0,0),t}}function GW(e,n){const t=Mt(e),r=SW(t),i=n-r;return Su(t,i)}class QW extends wr{constructor(){super(...arguments);Ze(this,"priority",90);Ze(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,r,i){const a=s=>s===0?7:s;switch(r){case"i":case"ii":return Ji(r.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return ha(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a);case"iiiii":return ha(i.day(t,{width:"narrow",context:"formatting"}),a);case"iiiiii":return ha(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a);case"iiii":default:return ha(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a)}}validate(t,r){return r>=1&&r<=7}set(t,r,i){return t=GW(t,i),t.setHours(0,0,0,0),t}}class KW extends wr{constructor(){super(...arguments);Ze(this,"priority",80);Ze(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(tA(i),0,0,0),t}}class XW extends wr{constructor(){super(...arguments);Ze(this,"priority",80);Ze(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(tA(i),0,0,0),t}}class ZW extends wr{constructor(){super(...arguments);Ze(this,"priority",80);Ze(this,"incompatibleTokens",["a","b","t","T"])}parse(t,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(tA(i),0,0,0),t}}class JW extends wr{constructor(){super(...arguments);Ze(this,"priority",70);Ze(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,r,i){switch(r){case"h":return Mi(fa.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return Ji(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,i){const a=t.getHours()>=12;return a&&i<12?t.setHours(i+12,0,0,0):!a&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class eV extends wr{constructor(){super(...arguments);Ze(this,"priority",70);Ze(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,r,i){switch(r){case"H":return Mi(fa.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return Ji(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,i){return t.setHours(i,0,0,0),t}}class tV extends wr{constructor(){super(...arguments);Ze(this,"priority",70);Ze(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,r,i){switch(r){case"K":return Mi(fa.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return Ji(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class nV extends wr{constructor(){super(...arguments);Ze(this,"priority",70);Ze(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,r,i){switch(r){case"k":return Mi(fa.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return Ji(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,i){const a=i<=24?i%24:i;return t.setHours(a,0,0,0),t}}class rV extends wr{constructor(){super(...arguments);Ze(this,"priority",60);Ze(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"m":return Mi(fa.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return Ji(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setMinutes(i,0,0),t}}class iV extends wr{constructor(){super(...arguments);Ze(this,"priority",50);Ze(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"s":return Mi(fa.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return Ji(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setSeconds(i,0),t}}class aV extends wr{constructor(){super(...arguments);Ze(this,"priority",30);Ze(this,"incompatibleTokens",["t","T"])}parse(t,r){const i=a=>Math.trunc(a*Math.pow(10,-r.length+3));return ha(Ji(r.length,t),i)}set(t,r,i){return t.setMilliseconds(i),t}}class sV extends wr{constructor(){super(...arguments);Ze(this,"priority",10);Ze(this,"incompatibleTokens",["t","T","x"])}parse(t,r){switch(r){case"X":return vc(xc.basicOptionalMinutes,t);case"XX":return vc(xc.basic,t);case"XXXX":return vc(xc.basicOptionalSeconds,t);case"XXXXX":return vc(xc.extendedOptionalSeconds,t);case"XXX":default:return vc(xc.extended,t)}}set(t,r,i){return r.timestampIsSet?t:Lr(t,t.getTime()-jx(t)-i)}}class oV extends wr{constructor(){super(...arguments);Ze(this,"priority",10);Ze(this,"incompatibleTokens",["t","T","X"])}parse(t,r){switch(r){case"x":return vc(xc.basicOptionalMinutes,t);case"xx":return vc(xc.basic,t);case"xxxx":return vc(xc.basicOptionalSeconds,t);case"xxxxx":return vc(xc.extendedOptionalSeconds,t);case"xxx":default:return vc(xc.extended,t)}}set(t,r,i){return r.timestampIsSet?t:Lr(t,t.getTime()-jx(t)-i)}}class lV extends wr{constructor(){super(...arguments);Ze(this,"priority",40);Ze(this,"incompatibleTokens","*")}parse(t){return sO(t)}set(t,r,i){return[Lr(t,i*1e3),{timestampIsSet:!0}]}}class uV extends wr{constructor(){super(...arguments);Ze(this,"priority",20);Ze(this,"incompatibleTokens","*")}parse(t){return sO(t)}set(t,r,i){return[Lr(t,i),{timestampIsSet:!0}]}}const cV={G:new jW,y:new NW,Y:new TW,R:new OW,u:new IW,Q:new DW,q:new LW,M:new RW,L:new MW,w:new PW,I:new qW,d:new $W,D:new HW,E:new WW,e:new VW,c:new YW,i:new QW,a:new KW,b:new XW,B:new ZW,h:new JW,H:new eV,K:new tV,k:new nV,m:new rV,s:new iV,S:new aV,X:new sV,x:new oV,t:new lV,T:new uV},dV=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fV=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hV=/^'([^]*?)'?$/,pV=/''/g,mV=/\S/,gV=/[a-zA-Z]/;function U5(e,n,t,r){var y,A,w,C,j,F,z,L;const i=wW(),a=(r==null?void 0:r.locale)??i.locale??eO,s=(r==null?void 0:r.firstWeekContainsDate)??((A=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:A.firstWeekContainsDate)??i.firstWeekContainsDate??((C=(w=i.locale)==null?void 0:w.options)==null?void 0:C.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((F=(j=r==null?void 0:r.locale)==null?void 0:j.options)==null?void 0:F.weekStartsOn)??i.weekStartsOn??((L=(z=i.locale)==null?void 0:z.options)==null?void 0:L.weekStartsOn)??0;if(n==="")return e===""?Mt(t):Lr(t,NaN);const c={firstWeekContainsDate:s,weekStartsOn:l,locale:a},d=[new kW],h=n.match(fV).map(k=>{const M=k[0];if(M in Lx){const q=Lx[M];return q(k,a.formatLong)}return k}).join("").match(dV),g=[];for(let k of h){!(r!=null&&r.useAdditionalWeekYearTokens)&&iO(k)&&xS(k,n,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&rO(k)&&xS(k,n,e);const M=k[0],q=cV[M];if(q){const{incompatibleTokens:Q}=q;if(Array.isArray(Q)){const O=g.find(R=>Q.includes(R.token)||R.token===M);if(O)throw new RangeError(`The format string mustn't contain \`${O.fullToken}\` and \`${k}\` at the same time`)}else if(q.incompatibleTokens==="*"&&g.length>0)throw new RangeError(`The format string mustn't contain \`${k}\` and any other token at the same time`);g.push({token:M,fullToken:k});const T=q.run(e,k,a.match,c);if(!T)return Lr(t,NaN);d.push(T.setter),e=T.rest}else{if(M.match(gV))throw new RangeError("Format string contains an unescaped latin alphabet character `"+M+"`");if(k==="''"?k="'":M==="'"&&(k=bV(k)),e.indexOf(k)===0)e=e.slice(k.length);else return Lr(t,NaN)}}if(e.length>0&&mV.test(e))return Lr(t,NaN);const b=d.map(k=>k.priority).sort((k,M)=>M-k).filter((k,M,q)=>q.indexOf(k)===M).map(k=>d.filter(M=>M.priority===k).sort((M,q)=>q.subPriority-M.subPriority)).map(k=>k[0]);let m=Mt(t);if(isNaN(m.getTime()))return Lr(t,NaN);const x={};for(const k of b){if(!k.validate(m,c))return Lr(t,NaN);const M=k.set(m,x,c);Array.isArray(M)?(m=M[0],Object.assign(x,M[1])):m=M}return Lr(t,m)}function bV(e){return e.match(hV)[1].replace(pV,"'")}function yV(e,n){const t=Mt(e),r=Mt(n);return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()}function xV(e,n){const t=yS(e),r=yS(n);return+t==+r}function vV(e,n){const t=Mt(e),r=Mt(n);return t.getFullYear()===r.getFullYear()}function vg(e,n){const t=+Mt(e),[r,i]=[+Mt(n.start),+Mt(n.end)].sort((a,s)=>a-s);return t>=r&&t<=i}function wV(e,n){return Su(e,-1)}function SV(e,n){const r=_V(e);let i;if(r.date){const c=kV(r.date,2);i=jV(c.restDateString,c.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const a=i.getTime();let s=0,l;if(r.time&&(s=NV(r.time),isNaN(s)))return new Date(NaN);if(r.timezone){if(l=TV(r.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(a+s),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(a+s+l)}const Cy={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},AV=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,CV=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,EV=/^([+-])(\d{2})(?::?(\d{2}))?$/;function _V(e){const n={},t=e.split(Cy.dateTimeDelimiter);let r;if(t.length>2)return n;if(/:/.test(t[0])?r=t[0]:(n.date=t[0],r=t[1],Cy.timeZoneDelimiter.test(n.date)&&(n.date=e.split(Cy.timeZoneDelimiter)[0],r=e.substr(n.date.length,e.length))),r){const i=Cy.timezone.exec(r);i?(n.time=r.replace(i[1],""),n.timezone=i[1]):n.time=r}return n}function kV(e,n){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+n)+"})|(\\d{2}|[+-]\\d{"+(2+n)+"})$)"),r=e.match(t);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((r[1]||r[2]).length)}}function jV(e,n){if(n===null)return new Date(NaN);const t=e.match(AV);if(!t)return new Date(NaN);const r=!!t[4],i=m1(t[1]),a=m1(t[2])-1,s=m1(t[3]),l=m1(t[4]),c=m1(t[5])-1;if(r)return RV(n,l,c)?OV(n,l,c):new Date(NaN);{const d=new Date(0);return!DV(n,a,s)||!LV(n,i)?new Date(NaN):(d.setUTCFullYear(n,a,Math.max(i,s)),d)}}function m1(e){return e?parseInt(e):1}function NV(e){const n=e.match(CV);if(!n)return NaN;const t=$5(n[1]),r=$5(n[2]),i=$5(n[3]);return MV(t,r,i)?t*gv+r*mv+i*1e3:NaN}function $5(e){return e&&parseFloat(e.replace(",","."))||0}function TV(e){if(e==="Z")return 0;const n=e.match(EV);if(!n)return 0;const t=n[1]==="+"?-1:1,r=parseInt(n[2]),i=n[3]&&parseInt(n[3])||0;return FV(r,i)?t*(r*gv+i*mv):NaN}function OV(e,n,t){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,a=(n-1)*7+t+1-i;return r.setUTCDate(r.getUTCDate()+a),r}const IV=[31,null,31,30,31,30,31,31,30,31,30,31];function uO(e){return e%400===0||e%4===0&&e%100!==0}function DV(e,n,t){return n>=0&&n<=11&&t>=1&&t<=(IV[n]||(uO(e)?29:28))}function LV(e,n){return n>=1&&n<=(uO(e)?366:365)}function RV(e,n,t){return n>=1&&n<=53&&t>=0&&t<=6}function MV(e,n,t){return e===24?n===0&&t===0:t>=0&&t<60&&n>=0&&n<60&&e>=0&&e<25}function FV(e,n){return n>=0&&n<=59}function Ho(e,n){const t=Mt(e),r=t.getFullYear(),i=t.getDate(),a=Lr(e,0);a.setFullYear(r,n,15),a.setHours(0,0,0,0);const s=vW(a);return t.setMonth(n,Math.min(i,s)),t}function PV(e,n){let t=Mt(e);return isNaN(+t)?Lr(e,NaN):(n.year!=null&&t.setFullYear(n.year),n.month!=null&&(t=Ho(t,n.month)),n.date!=null&&t.setDate(n.date),n.hours!=null&&t.setHours(n.hours),n.minutes!=null&&t.setMinutes(n.minutes),n.seconds!=null&&t.setSeconds(n.seconds),n.milliseconds!=null&&t.setMilliseconds(n.milliseconds),t)}function Ky(e,n){const t=Mt(e);return t.setHours(n),t}function Xy(e,n){const t=Mt(e);return t.setMinutes(n),t}function j0(e,n){const t=Mt(e),r=Math.trunc(t.getMonth()/3)+1,i=n-r;return Ho(t,t.getMonth()+i*3)}function Zy(e,n){const t=Mt(e);return t.setSeconds(n),t}function mc(e,n){const t=Mt(e);return isNaN(+t)?Lr(e,NaN):(t.setFullYear(n),t)}function rp(e,n){return Cu(e,-n)}function cO(e,n){return Z6(e,-1)}function Z8(e,n){return Nx(e,-1)}function rm(e,n){return Dd(e,-n)}function yv(){return typeof window<"u"}function cm(e){return dO(e)?(e.nodeName||"").toLowerCase():"#document"}function Zo(e){var n;return(e==null||(n=e.ownerDocument)==null?void 0:n.defaultView)||window}function Wc(e){var n;return(n=(dO(e)?e.ownerDocument:e.document)||window.document)==null?void 0:n.documentElement}function dO(e){return yv()?e instanceof Node||e instanceof Zo(e).Node:!1}function no(e){return yv()?e instanceof Element||e instanceof Zo(e).Element:!1}function Uc(e){return yv()?e instanceof HTMLElement||e instanceof Zo(e).HTMLElement:!1}function J8(e){return!yv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Zo(e).ShadowRoot}const zV=new Set(["inline","contents"]);function Gg(e){const{overflow:n,overflowX:t,overflowY:r,display:i}=Ml(e);return/auto|scroll|overlay|hidden|clip/.test(n+r+t)&&!zV.has(i)}const qV=new Set(["table","td","th"]);function BV(e){return qV.has(cm(e))}const UV=[":popover-open",":modal"];function xv(e){return UV.some(n=>{try{return e.matches(n)}catch{return!1}})}const $V=["transform","translate","scale","rotate","perspective"],HV=["transform","translate","scale","rotate","perspective","filter"],WV=["paint","layout","strict","content"];function rA(e){const n=iA(),t=no(e)?Ml(e):e;return $V.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!n&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!n&&(t.filter?t.filter!=="none":!1)||HV.some(r=>(t.willChange||"").includes(r))||WV.some(r=>(t.contain||"").includes(r))}function VV(e){let n=ih(e);for(;Uc(n)&&!im(n);){if(rA(n))return n;if(xv(n))return null;n=ih(n)}return null}function iA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const YV=new Set(["html","body","#document"]);function im(e){return YV.has(cm(e))}function Ml(e){return Zo(e).getComputedStyle(e)}function vv(e){return no(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ih(e){if(cm(e)==="html")return e;const n=e.assignedSlot||e.parentNode||J8(e)&&e.host||Wc(e);return J8(n)?n.host:n}function fO(e){const n=ih(e);return im(n)?e.ownerDocument?e.ownerDocument.body:e.body:Uc(n)&&Gg(n)?n:fO(n)}function wg(e,n,t){var r;n===void 0&&(n=[]),t===void 0&&(t=!0);const i=fO(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),s=Zo(i);if(a){const l=wS(s);return n.concat(s,s.visualViewport||[],Gg(i)?i:[],l&&t?wg(l):[])}return n.concat(i,wg(i,[],t))}function wS(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const am=Math.min,ip=Math.max,Mx=Math.round,Ey=Math.floor,Tc=e=>({x:e,y:e}),GV={left:"right",right:"left",bottom:"top",top:"bottom"},QV={start:"end",end:"start"};function KV(e,n,t){return ip(e,am(n,t))}function wv(e,n){return typeof e=="function"?e(n):e}function sm(e){return e.split("-")[0]}function Qg(e){return e.split("-")[1]}function XV(e){return e==="x"?"y":"x"}function aA(e){return e==="y"?"height":"width"}const ZV=new Set(["top","bottom"]);function Kh(e){return ZV.has(sm(e))?"y":"x"}function sA(e){return XV(Kh(e))}function JV(e,n,t){t===void 0&&(t=!1);const r=Qg(e),i=sA(e),a=aA(i);let s=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return n.reference[a]>n.floating[a]&&(s=Fx(s)),[s,Fx(s)]}function eY(e){const n=Fx(e);return[SS(e),n,SS(n)]}function SS(e){return e.replace(/start|end/g,n=>QV[n])}const ek=["left","right"],tk=["right","left"],tY=["top","bottom"],nY=["bottom","top"];function rY(e,n,t){switch(e){case"top":case"bottom":return t?n?tk:ek:n?ek:tk;case"left":case"right":return n?tY:nY;default:return[]}}function iY(e,n,t,r){const i=Qg(e);let a=rY(sm(e),t==="start",r);return i&&(a=a.map(s=>s+"-"+i),n&&(a=a.concat(a.map(SS)))),a}function Fx(e){return e.replace(/left|right|bottom|top/g,n=>GV[n])}function aY(e){return{top:0,right:0,bottom:0,left:0,...e}}function hO(e){return typeof e!="number"?aY(e):{top:e,right:e,bottom:e,left:e}}function Px(e){const{x:n,y:t,width:r,height:i}=e;return{width:r,height:i,top:t,left:n,right:n+r,bottom:t+i,x:n,y:t}}var sY=typeof document<"u",oY=function(){},zx=sY?X.useLayoutEffect:oY;const lY={...y6},uY=lY.useInsertionEffect,cY=uY||(e=>e());function dY(e){const n=X.useRef(()=>{});return cY(()=>{n.current=e}),X.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n.current==null?void 0:n.current(...r)},[])}function nk(e,n,t){let{reference:r,floating:i}=e;const a=Kh(n),s=sA(n),l=aA(s),c=sm(n),d=a==="y",h=r.x+r.width/2-i.width/2,g=r.y+r.height/2-i.height/2,b=r[l]/2-i[l]/2;let m;switch(c){case"top":m={x:h,y:r.y-i.height};break;case"bottom":m={x:h,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:g};break;case"left":m={x:r.x-i.width,y:g};break;default:m={x:r.x,y:r.y}}switch(Qg(n)){case"start":m[s]-=b*(t&&d?-1:1);break;case"end":m[s]+=b*(t&&d?-1:1);break}return m}const fY=async(e,n,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=t,l=a.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(n));let d=await s.getElementRects({reference:e,floating:n,strategy:i}),{x:h,y:g}=nk(d,r,c),b=r,m={},x=0;for(let y=0;y<l.length;y++){const{name:A,fn:w}=l[y],{x:C,y:j,data:F,reset:z}=await w({x:h,y:g,initialPlacement:r,placement:b,strategy:i,middlewareData:m,rects:d,platform:s,elements:{reference:e,floating:n}});h=C??h,g=j??g,m={...m,[A]:{...m[A],...F}},z&&x<=50&&(x++,typeof z=="object"&&(z.placement&&(b=z.placement),z.rects&&(d=z.rects===!0?await s.getElementRects({reference:e,floating:n,strategy:i}):z.rects),{x:h,y:g}=nk(d,b,c)),y=-1)}return{x:h,y:g,placement:b,strategy:i,middlewareData:m}};async function hY(e,n){var t;n===void 0&&(n={});const{x:r,y:i,platform:a,rects:s,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:g="floating",altBoundary:b=!1,padding:m=0}=wv(n,e),x=hO(m),A=l[b?g==="floating"?"reference":"floating":g],w=Px(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(A)))==null||t?A:A.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),C=g==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),F=await(a.isElement==null?void 0:a.isElement(j))?await(a.getScale==null?void 0:a.getScale(j))||{x:1,y:1}:{x:1,y:1},z=Px(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:C,offsetParent:j,strategy:c}):C);return{top:(w.top-z.top+x.top)/F.y,bottom:(z.bottom-w.bottom+x.bottom)/F.y,left:(w.left-z.left+x.left)/F.x,right:(z.right-w.right+x.right)/F.x}}const pY=e=>({name:"arrow",options:e,async fn(n){const{x:t,y:r,placement:i,rects:a,platform:s,elements:l,middlewareData:c}=n,{element:d,padding:h=0}=wv(e,n)||{};if(d==null)return{};const g=hO(h),b={x:t,y:r},m=sA(i),x=aA(m),y=await s.getDimensions(d),A=m==="y",w=A?"top":"left",C=A?"bottom":"right",j=A?"clientHeight":"clientWidth",F=a.reference[x]+a.reference[m]-b[m]-a.floating[x],z=b[m]-a.reference[m],L=await(s.getOffsetParent==null?void 0:s.getOffsetParent(d));let k=L?L[j]:0;(!k||!await(s.isElement==null?void 0:s.isElement(L)))&&(k=l.floating[j]||a.floating[x]);const M=F/2-z/2,q=k/2-y[x]/2-1,Q=am(g[w],q),T=am(g[C],q),O=Q,R=k-y[x]-T,N=k/2-y[x]/2+M,K=KV(O,N,R),H=!c.arrow&&Qg(i)!=null&&N!==K&&a.reference[x]/2-(N<O?Q:T)-y[x]/2<0,G=H?N<O?N-O:N-R:0;return{[m]:b[m]+G,data:{[m]:K,centerOffset:N-K-G,...H&&{alignmentOffset:G}},reset:H}}}),mY=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(n){var t,r;const{placement:i,middlewareData:a,rects:s,initialPlacement:l,platform:c,elements:d}=n,{mainAxis:h=!0,crossAxis:g=!0,fallbackPlacements:b,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,...A}=wv(e,n);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const w=sm(i),C=Kh(l),j=sm(l)===l,F=await(c.isRTL==null?void 0:c.isRTL(d.floating)),z=b||(j||!y?[Fx(l)]:eY(l)),L=x!=="none";!b&&L&&z.push(...iY(l,y,x,F));const k=[l,...z],M=await hY(n,A),q=[];let Q=((r=a.flip)==null?void 0:r.overflows)||[];if(h&&q.push(M[w]),g){const N=JV(i,s,F);q.push(M[N[0]],M[N[1]])}if(Q=[...Q,{placement:i,overflows:q}],!q.every(N=>N<=0)){var T,O;const N=(((T=a.flip)==null?void 0:T.index)||0)+1,K=k[N];if(K&&(!(g==="alignment"?C!==Kh(K):!1)||Q.every(ee=>ee.overflows[0]>0&&Kh(ee.placement)===C)))return{data:{index:N,overflows:Q},reset:{placement:K}};let H=(O=Q.filter(G=>G.overflows[0]<=0).sort((G,ee)=>G.overflows[1]-ee.overflows[1])[0])==null?void 0:O.placement;if(!H)switch(m){case"bestFit":{var R;const G=(R=Q.filter(ee=>{if(L){const le=Kh(ee.placement);return le===C||le==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(le=>le>0).reduce((le,Y)=>le+Y,0)]).sort((ee,le)=>ee[1]-le[1])[0])==null?void 0:R[0];G&&(H=G);break}case"initialPlacement":H=l;break}if(i!==H)return{reset:{placement:H}}}return{}}}},gY=new Set(["left","top"]);async function bY(e,n){const{placement:t,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=sm(t),l=Qg(t),c=Kh(t)==="y",d=gY.has(s)?-1:1,h=a&&c?-1:1,g=wv(n,e);let{mainAxis:b,crossAxis:m,alignmentAxis:x}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return l&&typeof x=="number"&&(m=l==="end"?x*-1:x),c?{x:m*h,y:b*d}:{x:b*d,y:m*h}}const yY=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){var t,r;const{x:i,y:a,placement:s,middlewareData:l}=n,c=await bY(n,e);return s===((t=l.offset)==null?void 0:t.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:s}}}}};function pO(e){const n=Ml(e);let t=parseFloat(n.width)||0,r=parseFloat(n.height)||0;const i=Uc(e),a=i?e.offsetWidth:t,s=i?e.offsetHeight:r,l=Mx(t)!==a||Mx(r)!==s;return l&&(t=a,r=s),{width:t,height:r,$:l}}function oA(e){return no(e)?e:e.contextElement}function M0(e){const n=oA(e);if(!Uc(n))return Tc(1);const t=n.getBoundingClientRect(),{width:r,height:i,$:a}=pO(n);let s=(a?Mx(t.width):t.width)/r,l=(a?Mx(t.height):t.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const xY=Tc(0);function mO(e){const n=Zo(e);return!iA()||!n.visualViewport?xY:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function vY(e,n,t){return n===void 0&&(n=!1),!t||n&&t!==Zo(e)?!1:n}function mp(e,n,t,r){n===void 0&&(n=!1),t===void 0&&(t=!1);const i=e.getBoundingClientRect(),a=oA(e);let s=Tc(1);n&&(r?no(r)&&(s=M0(r)):s=M0(e));const l=vY(a,t,r)?mO(a):Tc(0);let c=(i.left+l.x)/s.x,d=(i.top+l.y)/s.y,h=i.width/s.x,g=i.height/s.y;if(a){const b=Zo(a),m=r&&no(r)?Zo(r):r;let x=b,y=wS(x);for(;y&&r&&m!==x;){const A=M0(y),w=y.getBoundingClientRect(),C=Ml(y),j=w.left+(y.clientLeft+parseFloat(C.paddingLeft))*A.x,F=w.top+(y.clientTop+parseFloat(C.paddingTop))*A.y;c*=A.x,d*=A.y,h*=A.x,g*=A.y,c+=j,d+=F,x=Zo(y),y=wS(x)}}return Px({width:h,height:g,x:c,y:d})}function lA(e,n){const t=vv(e).scrollLeft;return n?n.left+t:mp(Wc(e)).left+t}function gO(e,n,t){t===void 0&&(t=!1);const r=e.getBoundingClientRect(),i=r.left+n.scrollLeft-(t?0:lA(e,r)),a=r.top+n.scrollTop;return{x:i,y:a}}function wY(e){let{elements:n,rect:t,offsetParent:r,strategy:i}=e;const a=i==="fixed",s=Wc(r),l=n?xv(n.floating):!1;if(r===s||l&&a)return t;let c={scrollLeft:0,scrollTop:0},d=Tc(1);const h=Tc(0),g=Uc(r);if((g||!g&&!a)&&((cm(r)!=="body"||Gg(s))&&(c=vv(r)),Uc(r))){const m=mp(r);d=M0(r),h.x=m.x+r.clientLeft,h.y=m.y+r.clientTop}const b=s&&!g&&!a?gO(s,c,!0):Tc(0);return{width:t.width*d.x,height:t.height*d.y,x:t.x*d.x-c.scrollLeft*d.x+h.x+b.x,y:t.y*d.y-c.scrollTop*d.y+h.y+b.y}}function SY(e){return Array.from(e.getClientRects())}function AY(e){const n=Wc(e),t=vv(e),r=e.ownerDocument.body,i=ip(n.scrollWidth,n.clientWidth,r.scrollWidth,r.clientWidth),a=ip(n.scrollHeight,n.clientHeight,r.scrollHeight,r.clientHeight);let s=-t.scrollLeft+lA(e);const l=-t.scrollTop;return Ml(r).direction==="rtl"&&(s+=ip(n.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:l}}function CY(e,n){const t=Zo(e),r=Wc(e),i=t.visualViewport;let a=r.clientWidth,s=r.clientHeight,l=0,c=0;if(i){a=i.width,s=i.height;const d=iA();(!d||d&&n==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:s,x:l,y:c}}const EY=new Set(["absolute","fixed"]);function _Y(e,n){const t=mp(e,!0,n==="fixed"),r=t.top+e.clientTop,i=t.left+e.clientLeft,a=Uc(e)?M0(e):Tc(1),s=e.clientWidth*a.x,l=e.clientHeight*a.y,c=i*a.x,d=r*a.y;return{width:s,height:l,x:c,y:d}}function rk(e,n,t){let r;if(n==="viewport")r=CY(e,t);else if(n==="document")r=AY(Wc(e));else if(no(n))r=_Y(n,t);else{const i=mO(e);r={x:n.x-i.x,y:n.y-i.y,width:n.width,height:n.height}}return Px(r)}function bO(e,n){const t=ih(e);return t===n||!no(t)||im(t)?!1:Ml(t).position==="fixed"||bO(t,n)}function kY(e,n){const t=n.get(e);if(t)return t;let r=wg(e,[],!1).filter(l=>no(l)&&cm(l)!=="body"),i=null;const a=Ml(e).position==="fixed";let s=a?ih(e):e;for(;no(s)&&!im(s);){const l=Ml(s),c=rA(s);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&EY.has(i.position)||Gg(s)&&!c&&bO(e,s))?r=r.filter(h=>h!==s):i=l,s=ih(s)}return n.set(e,r),r}function jY(e){let{element:n,boundary:t,rootBoundary:r,strategy:i}=e;const s=[...t==="clippingAncestors"?xv(n)?[]:kY(n,this._c):[].concat(t),r],l=s[0],c=s.reduce((d,h)=>{const g=rk(n,h,i);return d.top=ip(g.top,d.top),d.right=am(g.right,d.right),d.bottom=am(g.bottom,d.bottom),d.left=ip(g.left,d.left),d},rk(n,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function NY(e){const{width:n,height:t}=pO(e);return{width:n,height:t}}function TY(e,n,t){const r=Uc(n),i=Wc(n),a=t==="fixed",s=mp(e,!0,a,n);let l={scrollLeft:0,scrollTop:0};const c=Tc(0);function d(){c.x=lA(i)}if(r||!r&&!a)if((cm(n)!=="body"||Gg(i))&&(l=vv(n)),r){const m=mp(n,!0,a,n);c.x=m.x+n.clientLeft,c.y=m.y+n.clientTop}else i&&d();a&&!r&&i&&d();const h=i&&!r&&!a?gO(i,l):Tc(0),g=s.left+l.scrollLeft-c.x-h.x,b=s.top+l.scrollTop-c.y-h.y;return{x:g,y:b,width:s.width,height:s.height}}function H5(e){return Ml(e).position==="static"}function ik(e,n){if(!Uc(e)||Ml(e).position==="fixed")return null;if(n)return n(e);let t=e.offsetParent;return Wc(e)===t&&(t=t.ownerDocument.body),t}function yO(e,n){const t=Zo(e);if(xv(e))return t;if(!Uc(e)){let i=ih(e);for(;i&&!im(i);){if(no(i)&&!H5(i))return i;i=ih(i)}return t}let r=ik(e,n);for(;r&&BV(r)&&H5(r);)r=ik(r,n);return r&&im(r)&&H5(r)&&!rA(r)?t:r||VV(e)||t}const OY=async function(e){const n=this.getOffsetParent||yO,t=this.getDimensions,r=await t(e.floating);return{reference:TY(e.reference,await n(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function IY(e){return Ml(e).direction==="rtl"}const DY={convertOffsetParentRelativeRectToViewportRelativeRect:wY,getDocumentElement:Wc,getClippingRect:jY,getOffsetParent:yO,getElementRects:OY,getClientRects:SY,getDimensions:NY,getScale:M0,isElement:no,isRTL:IY};function xO(e,n){return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height}function LY(e,n){let t=null,r;const i=Wc(e);function a(){var l;clearTimeout(r),(l=t)==null||l.disconnect(),t=null}function s(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=e.getBoundingClientRect(),{left:h,top:g,width:b,height:m}=d;if(l||n(),!b||!m)return;const x=Ey(g),y=Ey(i.clientWidth-(h+b)),A=Ey(i.clientHeight-(g+m)),w=Ey(h),j={rootMargin:-x+"px "+-y+"px "+-A+"px "+-w+"px",threshold:ip(0,am(1,c))||1};let F=!0;function z(L){const k=L[0].intersectionRatio;if(k!==c){if(!F)return s();k?s(!1,k):r=setTimeout(()=>{s(!1,1e-7)},1e3)}k===1&&!xO(d,e.getBoundingClientRect())&&s(),F=!1}try{t=new IntersectionObserver(z,{...j,root:i.ownerDocument})}catch{t=new IntersectionObserver(z,j)}t.observe(e)}return s(!0),a}function RY(e,n,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=oA(e),h=i||a?[...d?wg(d):[],...wg(n)]:[];h.forEach(w=>{i&&w.addEventListener("scroll",t,{passive:!0}),a&&w.addEventListener("resize",t)});const g=d&&l?LY(d,t):null;let b=-1,m=null;s&&(m=new ResizeObserver(w=>{let[C]=w;C&&C.target===d&&m&&(m.unobserve(n),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var j;(j=m)==null||j.observe(n)})),t()}),d&&!c&&m.observe(d),m.observe(n));let x,y=c?mp(e):null;c&&A();function A(){const w=mp(e);y&&!xO(y,w)&&t(),y=w,x=requestAnimationFrame(A)}return t(),()=>{var w;h.forEach(C=>{i&&C.removeEventListener("scroll",t),a&&C.removeEventListener("resize",t)}),g==null||g(),(w=m)==null||w.disconnect(),m=null,c&&cancelAnimationFrame(x)}}const MY=yY,FY=mY,ak=pY,PY=(e,n,t)=>{const r=new Map,i={platform:DY,...t},a={...i.platform,_c:r};return fY(e,n,{...i,platform:a})};var zY=typeof document<"u",qY=function(){},Jy=zY?X.useLayoutEffect:qY;function qx(e,n){if(e===n)return!0;if(typeof e!=typeof n)return!1;if(typeof e=="function"&&e.toString()===n.toString())return!0;let t,r,i;if(e&&n&&typeof e=="object"){if(Array.isArray(e)){if(t=e.length,t!==n.length)return!1;for(r=t;r--!==0;)if(!qx(e[r],n[r]))return!1;return!0}if(i=Object.keys(e),t=i.length,t!==Object.keys(n).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(n,i[r]))return!1;for(r=t;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!qx(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}function vO(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function sk(e,n){const t=vO(e);return Math.round(n*t)/t}function W5(e){const n=X.useRef(e);return Jy(()=>{n.current=e}),n}function BY(e){e===void 0&&(e={});const{placement:n="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:s}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[h,g]=X.useState({x:0,y:0,strategy:t,placement:n,middlewareData:{},isPositioned:!1}),[b,m]=X.useState(r);qx(b,r)||m(r);const[x,y]=X.useState(null),[A,w]=X.useState(null),C=X.useCallback(ee=>{ee!==L.current&&(L.current=ee,y(ee))},[]),j=X.useCallback(ee=>{ee!==k.current&&(k.current=ee,w(ee))},[]),F=a||x,z=s||A,L=X.useRef(null),k=X.useRef(null),M=X.useRef(h),q=c!=null,Q=W5(c),T=W5(i),O=W5(d),R=X.useCallback(()=>{if(!L.current||!k.current)return;const ee={placement:n,strategy:t,middleware:b};T.current&&(ee.platform=T.current),PY(L.current,k.current,ee).then(le=>{const Y={...le,isPositioned:O.current!==!1};N.current&&!qx(M.current,Y)&&(M.current=Y,Z9.flushSync(()=>{g(Y)}))})},[b,n,t,T,O]);Jy(()=>{d===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,g(ee=>({...ee,isPositioned:!1})))},[d]);const N=X.useRef(!1);Jy(()=>(N.current=!0,()=>{N.current=!1}),[]),Jy(()=>{if(F&&(L.current=F),z&&(k.current=z),F&&z){if(Q.current)return Q.current(F,z,R);R()}},[F,z,R,Q,q]);const K=X.useMemo(()=>({reference:L,floating:k,setReference:C,setFloating:j}),[C,j]),H=X.useMemo(()=>({reference:F,floating:z}),[F,z]),G=X.useMemo(()=>{const ee={position:t,left:0,top:0};if(!H.floating)return ee;const le=sk(H.floating,h.x),Y=sk(H.floating,h.y);return l?{...ee,transform:"translate("+le+"px, "+Y+"px)",...vO(H.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:le,top:Y}},[t,l,H.floating,h.x,h.y]);return X.useMemo(()=>({...h,update:R,refs:K,elements:H,floatingStyles:G}),[h,R,K,H,G])}const UY=e=>{function n(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:e,fn(t){const{element:r,padding:i}=typeof e=="function"?e(t):e;return r&&n(r)?r.current!=null?ak({element:r.current,padding:i}).fn(t):{}:r?ak({element:r,padding:i}).fn(t):{}}}},$Y=(e,n)=>({...MY(e),options:[e,n]}),HY=(e,n)=>({...FY(e),options:[e,n]}),WY=(e,n)=>({...UY(e),options:[e,n]}),VY={...y6};let ok=!1,YY=0;const lk=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+YY++;function GY(){const[e,n]=X.useState(()=>ok?lk():void 0);return zx(()=>{e==null&&n(lk())},[]),X.useEffect(()=>{ok=!0},[]),e}const QY=VY.useId,wO=QY||GY,KY=X.forwardRef(function(n,t){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:a,shift:s}},width:l=14,height:c=7,tipRadius:d=0,strokeWidth:h=0,staticOffset:g,stroke:b,d:m,style:{transform:x,...y}={},...A}=n,w=wO(),[C,j]=X.useState(!1);if(zx(()=>{if(!i)return;Ml(i).direction==="rtl"&&j(!0)},[i]),!i)return null;const[F,z]=r.split("-"),L=F==="top"||F==="bottom";let k=g;(L&&s!=null&&s.x||!L&&s!=null&&s.y)&&(k=null);const M=h*2,q=M/2,Q=l/2*(d/-8+1),T=c/2*d/4,O=!!m,R=k&&z==="end"?"bottom":"top";let N=k&&z==="end"?"right":"left";k&&C&&(N=z==="end"?"left":"right");const K=(a==null?void 0:a.x)!=null?k||a.x:"",H=(a==null?void 0:a.y)!=null?k||a.y:"",G=m||"M0,0"+(" H"+l)+(" L"+(l-Q)+","+(c-T))+(" Q"+l/2+","+c+" "+Q+","+(c-T))+" Z",ee={top:O?"rotate(180deg)":"",left:O?"rotate(90deg)":"rotate(-90deg)",bottom:O?"":"rotate(180deg)",right:O?"rotate(-90deg)":"rotate(90deg)"}[F];return f.jsxs("svg",{...A,"aria-hidden":!0,ref:t,width:O?l:l+M,height:l,viewBox:"0 0 "+l+" "+(c>l?c:l),style:{position:"absolute",pointerEvents:"none",[N]:K,[R]:H,[F]:L||O?"100%":"calc(100% - "+M/2+"px)",transform:[ee,x].filter(le=>!!le).join(" "),...y},children:[M>0&&f.jsx("path",{clipPath:"url(#"+w+")",fill:"none",stroke:b,strokeWidth:M+(m?0:1),d:G}),f.jsx("path",{stroke:M&&!m?A.fill:"none",d:G}),f.jsx("clipPath",{id:w,children:f.jsx("rect",{x:-q,y:q*(O?-1:1),width:l+M,height:l})})]})});function XY(){const e=new Map;return{emit(n,t){var r;(r=e.get(n))==null||r.forEach(i=>i(t))},on(n,t){e.has(n)||e.set(n,new Set),e.get(n).add(t)},off(n,t){var r;(r=e.get(n))==null||r.delete(t)}}}const ZY=X.createContext(null),JY=X.createContext(null),eG=()=>{var e;return((e=X.useContext(ZY))==null?void 0:e.id)||null},tG=()=>X.useContext(JY);function nG(e){const{open:n=!1,onOpenChange:t,elements:r}=e,i=wO(),a=X.useRef({}),[s]=X.useState(()=>XY()),l=eG()!=null,[c,d]=X.useState(r.reference),h=dY((m,x,y)=>{a.current.openEvent=m?x:void 0,s.emit("openchange",{open:m,event:x,reason:y,nested:l}),t==null||t(m,x,y)}),g=X.useMemo(()=>({setPositionReference:d}),[]),b=X.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return X.useMemo(()=>({dataRef:a,open:n,onOpenChange:h,elements:b,events:s,floatingId:i,refs:g}),[n,h,b,s,i,g])}function rG(e){e===void 0&&(e={});const{nodeId:n}=e,t=nG({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||t,i=r.elements,[a,s]=X.useState(null),[l,c]=X.useState(null),h=(i==null?void 0:i.domReference)||a,g=X.useRef(null),b=tG();zx(()=>{h&&(g.current=h)},[h]);const m=BY({...e,elements:{...i,...l&&{reference:l}}}),x=X.useCallback(j=>{const F=no(j)?{getBoundingClientRect:()=>j.getBoundingClientRect(),getClientRects:()=>j.getClientRects(),contextElement:j}:j;c(F),m.refs.setReference(F)},[m.refs]),y=X.useCallback(j=>{(no(j)||j===null)&&(g.current=j,s(j)),(no(m.refs.reference.current)||m.refs.reference.current===null||j!==null&&!no(j))&&m.refs.setReference(j)},[m.refs]),A=X.useMemo(()=>({...m.refs,setReference:y,setPositionReference:x,domReference:g}),[m.refs,y,x]),w=X.useMemo(()=>({...m.elements,domReference:h}),[m.elements,h]),C=X.useMemo(()=>({...m,...r,refs:A,elements:w,nodeId:n}),[m,A,w,n,r]);return zx(()=>{r.dataRef.current.floatingContext=C;const j=b==null?void 0:b.nodesRef.current.find(F=>F.id===n);j&&(j.context=C)}),X.useMemo(()=>({...m,context:C,refs:A,elements:w}),[m,A,w,C])}/*!
  react-datepicker v7.6.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var AS=function(n,t){return AS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},AS(n,t)};function rs(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");AS(e,n);function t(){this.constructor=e}e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var ir=function(){return ir=Object.assign||function(t){for(var r,i=1,a=arguments.length;i<a;i++){r=arguments[i];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},ir.apply(this,arguments)};function Cc(e,n,t){if(t||arguments.length===2)for(var r=0,i=n.length,a;r<i;r++)(a||!(r in n))&&(a||(a=Array.prototype.slice.call(n,0,r)),a[r]=n[r]);return e.concat(a||Array.prototype.slice.call(n))}var iG=function(e){var n=e.showTimeSelectOnly,t=n===void 0?!1:n,r=e.showTime,i=r===void 0?!1:r,a=e.className,s=e.children,l=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return it.createElement("div",{className:a,role:"dialog","aria-label":l,"aria-modal":"true"},s)},aG=function(e,n){var t=X.useRef(null),r=X.useRef(e);r.current=e;var i=X.useCallback(function(a){var s;t.current&&!t.current.contains(a.target)&&(n&&a.target instanceof HTMLElement&&a.target.classList.contains(n)||(s=r.current)===null||s===void 0||s.call(r,a))},[n]);return X.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),t},Sv=function(e){var n=e.children,t=e.onClickOutside,r=e.className,i=e.containerRef,a=e.style,s=e.ignoreClass,l=aG(t,s);return it.createElement("div",{className:r,style:a,ref:function(c){l.current=c,i&&(i.current=c)}},n)},It;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(It||(It={}));function SO(){var e=typeof window<"u"?window:globalThis;return e}var Kg=12,sG=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Rr(e){if(e==null)return new Date;var n=typeof e=="string"?SV(e):Mt(e);return Sd(n)?n:new Date}function V5(e,n,t,r,i){var a,s=null,l=ap(t)||ap(X1()),c=!0;if(Array.isArray(n))return n.forEach(function(h){var g=U5(e,h,new Date,{locale:l,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(c=Sd(g,i)&&e===pi(g,h,t)),Sd(g,i)&&c&&(s=g)}),s;if(s=U5(e,n,new Date,{locale:l,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r)c=Sd(s)&&e===pi(s,n,t);else if(!Sd(s)){var d=((a=n.match(sG))!==null&&a!==void 0?a:[]).map(function(h){var g=h[0];if(g==="p"||g==="P"){var b=Lx[g];return l?b(h,l.formatLong):g}return h}).join("");e.length>0&&(s=U5(e,d.slice(0,e.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Sd(s)||(s=new Date(e))}return Sd(s)&&c?s:null}function Sd(e,n){return Tx(e)&&!pp(e,n??new Date("1/1/1800"))}function pi(e,n,t){if(t==="en")return K8(e,n,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=t?ap(t):void 0;return t&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),!r&&X1()&&ap(X1())&&(r=ap(X1())),K8(e,n,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function El(e,n){var t=n.dateFormat,r=n.locale,i=Array.isArray(t)&&t.length>0?t[0]:t;return e&&pi(e,i,r)||""}function oG(e,n,t){if(!e)return"";var r=El(e,t),i=n?El(n,t):"";return"".concat(r," - ").concat(i)}function lG(e,n){if(!(e!=null&&e.length))return"";var t=e[0]?El(e[0],n):"";if(e.length===1)return t;if(e.length===2&&e[1]){var r=El(e[1],n);return"".concat(t,", ").concat(r)}var i=e.length-1;return"".concat(t," (+").concat(i,")")}function Y5(e,n){var t=n.hour,r=t===void 0?0:t,i=n.minute,a=i===void 0?0:i,s=n.second,l=s===void 0?0:s;return Ky(Xy(Zy(e,l),a),r)}function uG(e){return J6(e)}function cG(e,n){return pi(e,"ddd",n)}function ex(e){return hp(e)}function Jf(e,n,t){var r=ap(n||X1());return Bd(e,{locale:r,weekStartsOn:t})}function Md(e){return Z7(e)}function V1(e){return bv(e)}function uk(e){return yS(e)}function ck(){return hp(Rr())}function dk(e){return K7(e)}function dG(e){return kH(e)}function fG(e){return X7(e)}function gc(e,n){return e&&n?vV(e,n):!e&&!n}function eo(e,n){return e&&n?yV(e,n):!e&&!n}function Bx(e,n){return e&&n?xV(e,n):!e&&!n}function Xn(e,n){return e&&n?EH(e,n):!e&&!n}function Xh(e,n){return e&&n?AW(e,n):!e&&!n}function Y1(e,n,t){var r,i=hp(n),a=K7(t);try{r=vg(e,{start:i,end:a})}catch{r=!1}return r}function X1(){var e=SO();return e.__localeId__}function ap(e){if(typeof e=="string"){var n=SO();return n.__localeData__?n.__localeData__[e]:void 0}else return e}function hG(e,n,t){return n(pi(e,"EEEE",t))}function pG(e,n){return pi(e,"EEEEEE",n)}function mG(e,n){return pi(e,"EEE",n)}function uA(e,n){return pi(Ho(Rr(),e),"LLLL",n)}function AO(e,n){return pi(Ho(Rr(),e),"LLL",n)}function gG(e,n){return pi(j0(Rr(),e),"QQQ",n)}function jl(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.excludeDateIntervals,l=t.includeDates,c=t.includeDateIntervals,d=t.filterDate;return Xg(e,{minDate:r,maxDate:i})||a&&a.some(function(h){return h instanceof Date?Xn(e,h):Xn(e,h.date)})||s&&s.some(function(h){var g=h.start,b=h.end;return vg(e,{start:g,end:b})})||l&&!l.some(function(h){return Xn(e,h)})||c&&!c.some(function(h){var g=h.start,b=h.end;return vg(e,{start:g,end:b})})||d&&!d(Rr(e))||!1}function cA(e,n){var t=n===void 0?{}:n,r=t.excludeDates,i=t.excludeDateIntervals;return i&&i.length>0?i.some(function(a){var s=a.start,l=a.end;return vg(e,{start:s,end:l})}):r&&r.some(function(a){var s;return a instanceof Date?Xn(e,a):Xn(e,(s=a.date)!==null&&s!==void 0?s:new Date)})||!1}function CO(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.includeDates,l=t.filterDate;return Xg(e,{minDate:r?Z7(r):void 0,maxDate:i?X7(i):void 0})||(a==null?void 0:a.some(function(c){return eo(e,c instanceof Date?c:c.date)}))||s&&!s.some(function(c){return eo(e,c)})||l&&!l(Rr(e))||!1}function _y(e,n,t,r){var i=Pn(e),a=to(e),s=Pn(n),l=to(n),c=Pn(r);return i===s&&i===c?a<=t&&t<=l:i<s?c===i&&a<=t||c===s&&l>=t||c<s&&c>i:!1}function bG(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.includeDates;return Xg(e,{minDate:r,maxDate:i})||a&&a.some(function(l){return eo(l instanceof Date?l:l.date,e)})||s&&!s.some(function(l){return eo(l,e)})||!1}function ky(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.includeDates,l=t.filterDate;return Xg(e,{minDate:r,maxDate:i})||(a==null?void 0:a.some(function(c){return Bx(e,c instanceof Date?c:c.date)}))||s&&!s.some(function(c){return Bx(e,c)})||l&&!l(Rr(e))||!1}function jy(e,n,t){if(!n||!t||!Tx(n)||!Tx(t))return!1;var r=Pn(n),i=Pn(t);return r<=e&&i>=e}function tx(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.includeDates,l=t.filterDate,c=new Date(e,0,1);return Xg(c,{minDate:r?bv(r):void 0,maxDate:i?J7(i):void 0})||(a==null?void 0:a.some(function(d){return gc(c,d instanceof Date?d:d.date)}))||s&&!s.some(function(d){return gc(c,d)})||l&&!l(Rr(c))||!1}function Ny(e,n,t,r){var i=Pn(e),a=np(e),s=Pn(n),l=np(n),c=Pn(r);return i===s&&i===c?a<=t&&t<=l:i<s?c===i&&a<=t||c===s&&l>=t||c<s&&c>i:!1}function Xg(e,n){var t,r=n===void 0?{}:n,i=r.minDate,a=r.maxDate;return(t=i&&nm(e,i)<0||a&&nm(e,a)>0)!==null&&t!==void 0?t:!1}function fk(e,n){return n.some(function(t){return jc(t)===jc(e)&&Nc(t)===Nc(e)&&Rd(t)===Rd(e)})}function hk(e,n){var t=n===void 0?{}:n,r=t.excludeTimes,i=t.includeTimes,a=t.filterTime;return r&&fk(e,r)||i&&!fk(e,i)||a&&!a(e)||!1}function pk(e,n){var t=n.minTime,r=n.maxTime;if(!t||!r)throw new Error("Both minTime and maxTime props required");var i=Rr();i=Ky(i,jc(e)),i=Xy(i,Nc(e)),i=Zy(i,Rd(e));var a=Rr();a=Ky(a,jc(t)),a=Xy(a,Nc(t)),a=Zy(a,Rd(t));var s=Rr();s=Ky(s,jc(r)),s=Xy(s,Nc(r)),s=Zy(s,Rd(r));var l;try{l=!vg(i,{start:a,end:s})}catch{l=!1}return l}function mk(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.includeDates,a=rp(e,1);return r&&Ox(r,a)>0||i&&i.every(function(s){return Ox(s,a)>0})||!1}function gk(e,n){var t=n===void 0?{}:n,r=t.maxDate,i=t.includeDates,a=Cu(e,1);return r&&Ox(a,r)>0||i&&i.every(function(s){return Ox(a,s)>0})||!1}function yG(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.includeDates,a=bv(e),s=cO(a);return r&&Ix(r,s)>0||i&&i.every(function(l){return Ix(l,s)>0})||!1}function xG(e,n){var t=n===void 0?{}:n,r=t.maxDate,i=t.includeDates,a=J7(e),s=Z6(a,1);return r&&Ix(s,r)>0||i&&i.every(function(l){return Ix(s,l)>0})||!1}function bk(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.includeDates,a=rm(e,1);return r&&Dx(r,a)>0||i&&i.every(function(s){return Dx(s,a)>0})||!1}function vG(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.yearItemNumber,a=i===void 0?Kg:i,s=V1(rm(e,a)),l=Wf(s,a).endPeriod,c=r&&Pn(r);return c&&c>l||!1}function yk(e,n){var t=n===void 0?{}:n,r=t.maxDate,i=t.includeDates,a=Dd(e,1);return r&&Dx(a,r)>0||i&&i.every(function(s){return Dx(a,s)>0})||!1}function wG(e,n){var t=n===void 0?{}:n,r=t.maxDate,i=t.yearItemNumber,a=i===void 0?Kg:i,s=Dd(e,a),l=Wf(s,a).startPeriod,c=r&&Pn(r);return c&&c<l||!1}function EO(e){var n=e.minDate,t=e.includeDates;if(t&&n){var r=t.filter(function(i){return nm(i,n)>=0});return H8(r)}else return t?H8(t):n}function _O(e){var n=e.maxDate,t=e.includeDates;if(t&&n){var r=t.filter(function(i){return nm(i,n)<=0});return $8(r)}else return t?$8(t):n}function xk(e,n){var t;e===void 0&&(e=[]),n===void 0&&(n="react-datepicker__day--highlighted");for(var r=new Map,i=0,a=e.length;i<a;i++){var s=e[i];if(Ld(s)){var l=pi(s,"MM.dd.yyyy"),c=r.get(l)||[];c.includes(n)||(c.push(n),r.set(l,c))}else if(typeof s=="object"){var d=Object.keys(s),h=(t=d[0])!==null&&t!==void 0?t:"",g=s[h];if(typeof h=="string"&&Array.isArray(g))for(var b=0,m=g.length;b<m;b++){var x=g[b];if(x){var l=pi(x,"MM.dd.yyyy"),c=r.get(l)||[];c.includes(h)||(c.push(h),r.set(l,c))}}}}return r}function SG(e,n){return e.length!==n.length?!1:e.every(function(t,r){return t===n[r]})}function AG(e,n){e===void 0&&(e=[]),n===void 0&&(n="react-datepicker__day--holidays");var t=new Map;return e.forEach(function(r){var i=r.date,a=r.holidayName;if(Ld(i)){var s=pi(i,"MM.dd.yyyy"),l=t.get(s)||{className:"",holidayNames:[]};if(!("className"in l&&l.className===n&&SG(l.holidayNames,[a]))){l.className=n;var c=l.holidayNames;l.holidayNames=c?Cc(Cc([],c,!0),[a],!1):[a],t.set(s,l)}}}),t}function CG(e,n,t,r,i){for(var a=i.length,s=[],l=0;l<a;l++){var c=e,d=i[l];d&&(c=wH(c,jc(d)),c=bS(c,Nc(d)),c=CH(c,Rd(d)));var h=bS(e,(t+1)*r);rh(c,n)&&pp(c,h)&&d!=null&&s.push(d)}return s}function vk(e){return e<10?"0".concat(e):"".concat(e)}function Wf(e,n){n===void 0&&(n=Kg);var t=Math.ceil(Pn(e)/n)*n,r=t-(n-1);return{startPeriod:r,endPeriod:t}}function EG(e){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+t-+n)/36e5)}function wk(e){var n=e.getSeconds(),t=e.getMilliseconds();return Mt(e.getTime()-n*1e3-t)}function _G(e,n){return wk(e).getTime()===wk(n).getTime()}function Sk(e){if(!Ld(e))throw new Error("Invalid date");var n=new Date(e);return n.setHours(0,0,0,0),n}function Ak(e,n){if(!Ld(e)||!Ld(n))throw new Error("Invalid date received");var t=Sk(e),r=Sk(n);return pp(t,r)}function kO(e){return e.key===It.Space}var kG=function(e){rs(n,e);function n(t){var r=e.call(this,t)||this;return r.inputRef=it.createRef(),r.onTimeChange=function(i){var a,s;r.setState({time:i});var l=r.props.date,c=l instanceof Date&&!isNaN(+l),d=c?l:new Date;if(i!=null&&i.includes(":")){var h=i.split(":"),g=h[0],b=h[1];d.setHours(Number(g)),d.setMinutes(Number(b))}(s=(a=r.props).onChange)===null||s===void 0||s.call(a,d)},r.renderTimeInput=function(){var i=r.state.time,a=r.props,s=a.date,l=a.timeString,c=a.customTimeInput;return c?X.cloneElement(c,{date:s,value:i,onChange:r.onTimeChange}):it.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var d;(d=r.inputRef.current)===null||d===void 0||d.focus()},required:!0,value:i,onChange:function(d){r.onTimeChange(d.target.value||l)}})},r.state={time:r.props.timeString},r}return n.getDerivedStateFromProps=function(t,r){return t.timeString!==r.time?{time:t.timeString}:null},n.prototype.render=function(){return it.createElement("div",{className:"react-datepicker__input-time-container"},it.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),it.createElement("div",{className:"react-datepicker-time__input-container"},it.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},n}(X.Component),jG=function(e){rs(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.dayEl=X.createRef(),t.handleClick=function(r){!t.isDisabled()&&t.props.onClick&&t.props.onClick(r)},t.handleMouseEnter=function(r){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(r)},t.handleOnKeyDown=function(r){var i,a,s=r.key;s===It.Space&&(r.preventDefault(),r.key=It.Enter),(a=(i=t.props).handleOnKeyDown)===null||a===void 0||a.call(i,r)},t.isSameDay=function(r){return Xn(t.props.day,r)},t.isKeyboardSelected=function(){var r;if(t.props.disabledKeyboardNavigation)return!1;var i=t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(s){return t.isSameDayOrWeek(s)}):t.isSameDayOrWeek(t.props.selected),a=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!i&&t.isSameDayOrWeek(t.props.preSelection)&&!a},t.isDisabled=function(r){return r===void 0&&(r=t.props.day),jl(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return cA(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Xn(t.props.day,Jf(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(r){return t.props.showWeekPicker&&Xn(r,Jf(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(r){return t.isSameDay(r)||t.isSameWeek(r)},t.getHighLightedClass=function(){var r=t.props,i=r.day,a=r.highlightDates;if(!a)return!1;var s=pi(i,"MM.dd.yyyy");return a.get(s)},t.getHolidaysClass=function(){var r,i=t.props,a=i.day,s=i.holidays;if(!s)return[void 0];var l=pi(a,"MM.dd.yyyy");return s.has(l)?[(r=s.get(l))===null||r===void 0?void 0:r.className]:[void 0]},t.isInRange=function(){var r=t.props,i=r.day,a=r.startDate,s=r.endDate;return!a||!s?!1:Y1(i,a,s)},t.isInSelectingRange=function(){var r,i=t.props,a=i.day,s=i.selectsStart,l=i.selectsEnd,c=i.selectsRange,d=i.selectsDisabledDaysInRange,h=i.startDate,g=i.endDate,b=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return!(s||l||c)||!b||!d&&t.isDisabled()?!1:s&&g&&(pp(b,g)||Xh(b,g))?Y1(a,b,g):l&&h&&(rh(b,h)||Xh(b,h))||c&&h&&!g&&(rh(b,h)||Xh(b,h))?Y1(a,h,b):!1},t.isSelectingRangeStart=function(){var r;if(!t.isInSelectingRange())return!1;var i=t.props,a=i.day,s=i.startDate,l=i.selectsStart,c=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return l?Xn(a,c):Xn(a,s)},t.isSelectingRangeEnd=function(){var r;if(!t.isInSelectingRange())return!1;var i=t.props,a=i.day,s=i.endDate,l=i.selectsEnd,c=i.selectsRange,d=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return l||c?Xn(a,d):Xn(a,s)},t.isRangeStart=function(){var r=t.props,i=r.day,a=r.startDate,s=r.endDate;return!a||!s?!1:Xn(a,i)},t.isRangeEnd=function(){var r=t.props,i=r.day,a=r.startDate,s=r.endDate;return!a||!s?!1:Xn(s,i)},t.isWeekend=function(){var r=xW(t.props.day);return r===0||r===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===to(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(to(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(Rr())},t.isSelected=function(){var r;return t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(r){var i=t.props.dayClassName?t.props.dayClassName(r):void 0;return gs("react-datepicker__day",i,"react-datepicker__day--"+cG(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var r=t.props,i=r.day,a=r.ariaLabelPrefixWhenEnabled,s=a===void 0?"Choose":a,l=r.ariaLabelPrefixWhenDisabled,c=l===void 0?"Not available":l,d=t.isDisabled()||t.isExcluded()?c:s;return"".concat(d," ").concat(pi(i,"PPPP",t.props.locale))},t.getTitle=function(){var r=t.props,i=r.day,a=r.holidays,s=a===void 0?new Map:a,l=r.excludeDates,c=pi(i,"MM.dd.yyyy"),d=[];return s.has(c)&&d.push.apply(d,s.get(c).holidayNames),t.isExcluded()&&d.push(l==null?void 0:l.filter(function(h){return h instanceof Date?Xn(h,i):Xn(h==null?void 0:h.date,i)}).map(function(h){if(!(h instanceof Date))return h==null?void 0:h.message})),d.join(", ")},t.getTabIndex=function(){var r=t.props.selected,i=t.props.preSelection,a=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(r)&&Xn(i,r))?0:-1;return a},t.handleFocusDay=function(){var r;t.shouldFocusDay()&&((r=t.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(X8(t.props.day),t.props.day):X8(t.props.day)},t.render=function(){return it.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&it.createElement("span",{className:"overlay"},t.getTitle()))},t}return n.prototype.componentDidMount=function(){this.handleFocusDay()},n.prototype.componentDidUpdate=function(){this.handleFocusDay()},n.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},n.prototype.isDayActiveElement=function(){var t,r,i;return((r=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},n.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},n}(X.Component),NG=function(e){rs(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.weekNumberEl=X.createRef(),t.handleClick=function(r){t.props.onClick&&t.props.onClick(r)},t.handleOnKeyDown=function(r){var i,a,s=r.key;s===It.Space&&(r.preventDefault(),r.key=It.Enter),(a=(i=t.props).handleOnKeyDown)===null||a===void 0||a.call(i,r)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Xn(t.props.date,t.props.selected)&&Xn(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Xn(t.props.date,t.props.selected)&&Xn(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(r){var i=!1;t.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&Xn(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(i=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},n.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},n.prototype.render=function(){var t=this.props,r=t.weekNumber,i=t.isWeekDisabled,a=t.ariaLabelPrefix,s=a===void 0?n.defaultProps.ariaLabelPrefix:a,l=t.onClick,c={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!l&&!i,"react-datepicker__week-number--selected":!!l&&Xn(this.props.date,this.props.selected)};return it.createElement("div",{ref:this.weekNumberEl,className:gs(c),"aria-label":"".concat(s," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},n}(X.Component),TG=function(e){rs(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.isDisabled=function(r){return jl(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(r,i){t.props.onDayClick&&t.props.onDayClick(r,i)},t.handleDayMouseEnter=function(r){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(r)},t.handleWeekClick=function(r,i,a){for(var s,l,c,d=new Date(r),h=0;h<7;h++){var g=new Date(r);g.setDate(g.getDate()+h);var b=!t.isDisabled(g);if(b){d=g;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(d,i,a),t.props.showWeekPicker&&t.handleDayClick(d,a),((s=t.props.shouldCloseOnSelect)!==null&&s!==void 0?s:n.defaultProps.shouldCloseOnSelect)&&((c=(l=t.props).setOpen)===null||c===void 0||c.call(l,!1))},t.formatWeekNumber=function(r){return t.props.formatWeekNumber?t.props.formatWeekNumber(r):uG(r)},t.isWeekDisabled=function(){for(var r=t.startOfWeek(),i=Su(r,6),a=new Date(r);a<=i;){if(!t.isDisabled(a))return!1;a=Su(a,1)}return!0},t.renderDays=function(){var r=t.startOfWeek(),i=[],a=t.formatWeekNumber(r);if(t.props.showWeekNumber){var s=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,r,a):void 0;i.push(it.createElement(NG,ir({key:"W"},n.defaultProps,t.props,{weekNumber:a,isWeekDisabled:t.isWeekDisabled(),date:r,onClick:s})))}return i.concat([0,1,2,3,4,5,6].map(function(l){var c=Su(r,l);return it.createElement(jG,ir({},n.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:c.valueOf(),day:c,onClick:t.handleDayClick.bind(t,c),onMouseEnter:t.handleDayMouseEnter.bind(t,c)}))}))},t.startOfWeek=function(){return Jf(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Xn(t.startOfWeek(),t.props.selected)&&Xn(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),n.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Xn(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return it.createElement("div",{className:gs(t)},this.renderDays())},n}(X.Component),g1,OG=6,F0={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},G5=(g1={},g1[F0.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},g1[F0.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},g1[F0.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},g1),Ty=1;function Ck(e,n){return e?F0.FOUR_COLUMNS:n?F0.TWO_COLUMNS:F0.THREE_COLUMNS}var IG=function(e){rs(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.MONTH_REFS=Cc([],Array(12),!0).map(function(){return X.createRef()}),t.QUARTER_REFS=Cc([],Array(4),!0).map(function(){return X.createRef()}),t.isDisabled=function(r){return jl(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(r){return cA(r,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(r,i){var a,s;(s=(a=t.props).onDayClick)===null||s===void 0||s.call(a,r,i,t.props.orderInDisplay)},t.handleDayMouseEnter=function(r){var i,a;(a=(i=t.props).onDayMouseEnter)===null||a===void 0||a.call(i,r)},t.handleMouseLeave=function(){var r,i;(i=(r=t.props).onMouseLeave)===null||i===void 0||i.call(r)},t.isRangeStartMonth=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate;return!s||!l?!1:eo(Ho(a,r),s)},t.isRangeStartQuarter=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate;return!s||!l?!1:Bx(j0(a,r),s)},t.isRangeEndMonth=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate;return!s||!l?!1:eo(Ho(a,r),l)},t.isRangeEndQuarter=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate;return!s||!l?!1:Bx(j0(a,r),l)},t.isInSelectingRangeMonth=function(r){var i,a=t.props,s=a.day,l=a.selectsStart,c=a.selectsEnd,d=a.selectsRange,h=a.startDate,g=a.endDate,b=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(l||c||d)||!b?!1:l&&g?_y(b,g,r,s):c&&h||d&&h&&!g?_y(h,b,r,s):!1},t.isSelectingMonthRangeStart=function(r){var i;if(!t.isInSelectingRangeMonth(r))return!1;var a=t.props,s=a.day,l=a.startDate,c=a.selectsStart,d=Ho(s,r),h=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return c?eo(d,h):eo(d,l)},t.isSelectingMonthRangeEnd=function(r){var i;if(!t.isInSelectingRangeMonth(r))return!1;var a=t.props,s=a.day,l=a.endDate,c=a.selectsEnd,d=a.selectsRange,h=Ho(s,r),g=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return c||d?eo(h,g):eo(h,l)},t.isInSelectingRangeQuarter=function(r){var i,a=t.props,s=a.day,l=a.selectsStart,c=a.selectsEnd,d=a.selectsRange,h=a.startDate,g=a.endDate,b=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(l||c||d)||!b?!1:l&&g?Ny(b,g,r,s):c&&h||d&&h&&!g?Ny(h,b,r,s):!1},t.isWeekInMonth=function(r){var i=t.props.day,a=Su(r,6);return eo(r,i)||eo(a,i)},t.isCurrentMonth=function(r,i){return Pn(r)===Pn(Rr())&&i===to(Rr())},t.isCurrentQuarter=function(r,i){return Pn(r)===Pn(Rr())&&i===np(Rr())},t.isSelectedMonth=function(r,i,a){return to(a)===i&&Pn(r)===Pn(a)},t.isSelectMonthInList=function(r,i,a){return a.some(function(s){return t.isSelectedMonth(r,i,s)})},t.isSelectedQuarter=function(r,i,a){return np(r)===i&&Pn(r)===Pn(a)},t.renderWeeks=function(){for(var r=[],i=t.props.fixedHeight,a=0,s=!1,l=Jf(Md(t.props.day),t.props.locale,t.props.calendarStartDay),c=function(x){return t.props.showWeekPicker?Jf(x,t.props.locale,t.props.calendarStartDay):t.props.preSelection},d=function(x){return t.props.showWeekPicker?Jf(x,t.props.locale,t.props.calendarStartDay):t.props.selected},h=t.props.selected?d(t.props.selected):void 0,g=t.props.preSelection?c(t.props.preSelection):void 0;r.push(it.createElement(TG,ir({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:a,day:l,month:to(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:h,preSelection:g,showWeekNumber:t.props.showWeekNumbers}))),!s;){a++,l=Nx(l,1);var b=i&&a>=OG,m=!i&&!t.isWeekInMonth(l);if(b||m)if(t.props.peekNextMonth)s=!0;else break}return r},t.onMonthClick=function(r,i){var a=t.isMonthDisabledForLabelDate(i),s=a.isDisabled,l=a.labelDate;s||t.handleDayClick(Md(l),r)},t.onMonthMouseEnter=function(r){var i=t.isMonthDisabledForLabelDate(r),a=i.isDisabled,s=i.labelDate;a||t.handleDayMouseEnter(Md(s))},t.handleMonthNavigation=function(r,i){var a,s,l,c;(s=(a=t.props).setPreSelection)===null||s===void 0||s.call(a,i),(c=(l=t.MONTH_REFS[r])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus()},t.handleKeyboardNavigation=function(r,i,a){var s,l=t.props,c=l.selected,d=l.preSelection,h=l.setPreSelection,g=l.minDate,b=l.maxDate,m=l.showFourColumnMonthYearPicker,x=l.showTwoColumnMonthYearPicker;if(d){var y=Ck(m,x),A=t.getVerticalOffset(y),w=(s=G5[y])===null||s===void 0?void 0:s.grid,C=function(k,M,q){var Q,T,O=M,R=q;switch(k){case It.ArrowRight:O=Cu(M,Ty),R=q===11?0:q+Ty;break;case It.ArrowLeft:O=rp(M,Ty),R=q===0?11:q-Ty;break;case It.ArrowUp:O=rp(M,A),R=!((Q=w==null?void 0:w[0])===null||Q===void 0)&&Q.includes(q)?q+12-A:q-A;break;case It.ArrowDown:O=Cu(M,A),R=!((T=w==null?void 0:w[w.length-1])===null||T===void 0)&&T.includes(q)?q-12+A:q+A;break}return{newCalculatedDate:O,newCalculatedMonth:R}},j=function(k,M,q){for(var Q=40,T=k,O=!1,R=0,N=C(T,M,q),K=N.newCalculatedDate,H=N.newCalculatedMonth;!O;){if(R>=Q){K=M,H=q;break}if(g&&K<g){T=It.ArrowRight;var G=C(T,K,H);K=G.newCalculatedDate,H=G.newCalculatedMonth}if(b&&K>b){T=It.ArrowLeft;var G=C(T,K,H);K=G.newCalculatedDate,H=G.newCalculatedMonth}if(bG(K,t.props)){var G=C(T,K,H);K=G.newCalculatedDate,H=G.newCalculatedMonth}else O=!0;R++}return{newCalculatedDate:K,newCalculatedMonth:H}};if(i===It.Enter){t.isMonthDisabled(a)||(t.onMonthClick(r,a),h==null||h(c));return}var F=j(i,d,a),z=F.newCalculatedDate,L=F.newCalculatedMonth;switch(i){case It.ArrowRight:case It.ArrowLeft:case It.ArrowUp:case It.ArrowDown:t.handleMonthNavigation(L,z);break}}},t.getVerticalOffset=function(r){var i,a;return(a=(i=G5[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&a!==void 0?a:0},t.onMonthKeyDown=function(r,i){var a=t.props,s=a.disabledKeyboardNavigation,l=a.handleOnMonthKeyDown,c=r.key;c!==It.Tab&&r.preventDefault(),s||t.handleKeyboardNavigation(r,c,i),l&&l(r)},t.onQuarterClick=function(r,i){var a=j0(t.props.day,i);ky(a,t.props)||t.handleDayClick(uk(a),r)},t.onQuarterMouseEnter=function(r){var i=j0(t.props.day,r);ky(i,t.props)||t.handleDayMouseEnter(uk(i))},t.handleQuarterNavigation=function(r,i){var a,s,l,c;t.isDisabled(i)||t.isExcluded(i)||((s=(a=t.props).setPreSelection)===null||s===void 0||s.call(a,i),(c=(l=t.QUARTER_REFS[r-1])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())},t.onQuarterKeyDown=function(r,i){var a,s,l=r.key;if(!t.props.disabledKeyboardNavigation)switch(l){case It.Enter:t.onQuarterClick(r,i),(s=(a=t.props).setPreSelection)===null||s===void 0||s.call(a,t.props.selected);break;case It.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===4?1:i+1,Z6(t.props.preSelection,1));break;case It.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===1?4:i-1,cO(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(r){var i,a=t.props,s=a.day,l=a.minDate,c=a.maxDate,d=a.excludeDates,h=a.includeDates,g=Ho(s,r);return{isDisabled:(i=(l||c||d||h)&&CO(g,t.props))!==null&&i!==void 0?i:!1,labelDate:g}},t.isMonthDisabled=function(r){var i=t.isMonthDisabledForLabelDate(r).isDisabled;return i},t.getMonthClassNames=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate,c=i.preSelection,d=i.monthClassName,h=d?d(Ho(a,r)):void 0,g=t.getSelection();return gs("react-datepicker__month-text","react-datepicker__month-".concat(r),h,{"react-datepicker__month-text--disabled":t.isMonthDisabled(r),"react-datepicker__month-text--selected":g?t.isSelectMonthInList(a,r,g):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&c&&t.isSelectedMonth(a,r,c)&&!t.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":s&&l?_y(s,l,r,a):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(r),"react-datepicker__month-text--range-end":t.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":t.isCurrentMonth(a,r)})},t.getTabIndex=function(r){if(t.props.preSelection==null)return"-1";var i=to(t.props.preSelection),a=t.isMonthDisabledForLabelDate(i).isDisabled,s=r===i&&!(a||t.props.disabledKeyboardNavigation)?"0":"-1";return s},t.getQuarterTabIndex=function(r){if(t.props.preSelection==null)return"-1";var i=np(t.props.preSelection),a=ky(t.props.day,t.props),s=r===i&&!(a||t.props.disabledKeyboardNavigation)?"0":"-1";return s},t.getAriaLabel=function(r){var i=t.props,a=i.chooseDayAriaLabelPrefix,s=a===void 0?"Choose":a,l=i.disabledDayAriaLabelPrefix,c=l===void 0?"Not available":l,d=i.day,h=i.locale,g=Ho(d,r),b=t.isDisabled(g)||t.isExcluded(g)?c:s;return"".concat(b," ").concat(pi(g,"MMMM yyyy",h))},t.getQuarterClassNames=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate,c=i.selected,d=i.minDate,h=i.maxDate,g=i.excludeDates,b=i.includeDates,m=i.filterDate,x=i.preSelection,y=i.disabledKeyboardNavigation,A=(d||h||g||b||m)&&ky(j0(a,r),t.props);return gs("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":A,"react-datepicker__quarter-text--selected":c?t.isSelectedQuarter(a,r,c):void 0,"react-datepicker__quarter-text--keyboard-selected":!y&&x&&t.isSelectedQuarter(a,r,x)&&!A,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":s&&l?Ny(s,l,r,a):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(r)})},t.getMonthContent=function(r){var i=t.props,a=i.showFullMonthYearPicker,s=i.renderMonthContent,l=i.locale,c=i.day,d=AO(r,l),h=uA(r,l);return s?s(r,d,h,c):a?h:d},t.getQuarterContent=function(r){var i,a=t.props,s=a.renderQuarterContent,l=a.locale,c=gG(r,l);return(i=s==null?void 0:s(r,c))!==null&&i!==void 0?i:c},t.renderMonths=function(){var r,i=t.props,a=i.showTwoColumnMonthYearPicker,s=i.showFourColumnMonthYearPicker,l=i.day,c=i.selected,d=(r=G5[Ck(s,a)])===null||r===void 0?void 0:r.grid;return d==null?void 0:d.map(function(h,g){return it.createElement("div",{className:"react-datepicker__month-wrapper",key:g},h.map(function(b,m){return it.createElement("div",{ref:t.MONTH_REFS[b],key:m,onClick:function(x){t.onMonthClick(x,b)},onKeyDown:function(x){kO(x)&&(x.preventDefault(),x.key=It.Enter),t.onMonthKeyDown(x,b)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(b)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(b)}:void 0,tabIndex:Number(t.getTabIndex(b)),className:t.getMonthClassNames(b),"aria-disabled":t.isMonthDisabled(b),role:"option","aria-label":t.getAriaLabel(b),"aria-current":t.isCurrentMonth(l,b)?"date":void 0,"aria-selected":c?t.isSelectedMonth(l,b,c):void 0},t.getMonthContent(b))}))})},t.renderQuarters=function(){var r=t.props,i=r.day,a=r.selected,s=[1,2,3,4];return it.createElement("div",{className:"react-datepicker__quarter-wrapper"},s.map(function(l,c){return it.createElement("div",{key:c,ref:t.QUARTER_REFS[c],role:"option",onClick:function(d){t.onQuarterClick(d,l)},onKeyDown:function(d){t.onQuarterKeyDown(d,l)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(l)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(l)}:void 0,className:t.getQuarterClassNames(l),"aria-selected":a?t.isSelectedQuarter(i,l,a):void 0,tabIndex:Number(t.getQuarterTabIndex(l)),"aria-current":t.isCurrentQuarter(i,l)?"date":void 0},t.getQuarterContent(l))}))},t.getClassNames=function(){var r=t.props,i=r.selectingDate,a=r.selectsStart,s=r.selectsEnd,l=r.showMonthYearPicker,c=r.showQuarterYearPicker,d=r.showWeekPicker;return gs("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(a||s)},{"react-datepicker__monthPicker":l},{"react-datepicker__quarterPicker":c},{"react-datepicker__weekPicker":d})},t}return n.prototype.getSelection=function(){var t=this.props,r=t.selected,i=t.selectedDates,a=t.selectsMultiple;if(a)return i;if(r)return[r]},n.prototype.render=function(){var t=this.props,r=t.showMonthYearPicker,i=t.showQuarterYearPicker,a=t.day,s=t.ariaLabelPrefix,l=s===void 0?"Month ":s,c=l?l.trim()+" ":"";return it.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat(pi(a,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},n}(X.Component),DG=function(e){rs(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.isSelectedMonth=function(r){return t.props.month===r},t.renderOptions=function(){return t.props.monthNames.map(function(r,i){return it.createElement("div",{className:t.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:t.onChange.bind(t,i),"aria-selected":t.isSelectedMonth(i)?"true":void 0},t.isSelectedMonth(i)?it.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},t.onChange=function(r){return t.props.onChange(r)},t.handleClickOutside=function(){return t.props.onCancel()},t}return n.prototype.render=function(){return it.createElement(Sv,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},n}(X.Component),LG=function(e){rs(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(r){return r.map(function(i,a){return it.createElement("option",{key:i,value:a},i)})},t.renderSelectMode=function(r){return it.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(i){return t.onChange(parseInt(i.target.value))}},t.renderSelectOptions(r))},t.renderReadView=function(r,i){return it.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},it.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),it.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[t.props.month]))},t.renderDropdown=function(r){return it.createElement(DG,ir({key:"dropdown"},t.props,{monthNames:r,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(r){var i=t.state.dropdownVisible,a=[t.renderReadView(!i,r)];return i&&a.unshift(t.renderDropdown(r)),a},t.onChange=function(r){t.toggleDropdown(),r!==t.props.month&&t.props.onChange(r)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return n.prototype.render=function(){var t=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(a){return AO(a,t.props.locale)}:function(a){return uA(a,t.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return it.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},n}(X.Component);function RG(e,n){for(var t=[],r=Md(e),i=Md(n);!rh(r,i);)t.push(Rr(r)),r=Cu(r,1);return t}var MG=function(e){rs(n,e);function n(t){var r=e.call(this,t)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var a=vS(i),s=gc(r.props.date,i)&&eo(r.props.date,i);return it.createElement("div",{className:s?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:a,onClick:r.onChange.bind(r,a),"aria-selected":s?"true":void 0},s?it.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",pi(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:RG(r.props.minDate,r.props.maxDate)},r}return n.prototype.render=function(){var t=gs({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return it.createElement(Sv,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},n}(X.Component),FG=function(e){rs(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=Md(t.props.minDate),i=Md(t.props.maxDate),a=[];!rh(r,i);){var s=vS(r);a.push(it.createElement("option",{key:s,value:s},pi(r,t.props.dateFormat,t.props.locale))),r=Cu(r,1)}return a},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return it.createElement("select",{value:vS(Md(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){var i=pi(t.props.date,t.props.dateFormat,t.props.locale);return it.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},it.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),it.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},t.renderDropdown=function(){return it.createElement(MG,ir({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,i=[t.renderReadView(!r)];return r&&i.unshift(t.renderDropdown()),i},t.onChange=function(r){t.toggleDropdown();var i=Rr(r);gc(t.props.date,i)&&eo(t.props.date,i)||t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return n.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return it.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},n}(X.Component),PG=function(e){rs(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,a;t.list&&(t.list.scrollTop=(a=t.centerLi&&n.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((i=(r=t.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):t.list.clientHeight,t.centerLi))!==null&&a!==void 0?a:0)})},t.handleClick=function(r){var i,a;(t.props.minTime||t.props.maxTime)&&pk(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&hk(r,t.props)||(a=(i=t.props).onChange)===null||a===void 0||a.call(i,r)},t.isSelectedTime=function(r){return t.props.selected&&_G(t.props.selected,r)},t.isDisabledTime=function(r){return(t.props.minTime||t.props.maxTime)&&pk(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&hk(r,t.props)},t.liClasses=function(r){var i,a=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(r):void 0];return t.isSelectedTime(r)&&a.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(r)&&a.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(jc(r)*3600+Nc(r)*60+Rd(r))%(((i=t.props.intervals)!==null&&i!==void 0?i:n.defaultProps.intervals)*60)!==0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")},t.handleOnKeyDown=function(r,i){var a,s;r.key===It.Space&&(r.preventDefault(),r.key=It.Enter),(r.key===It.ArrowUp||r.key===It.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===It.ArrowDown||r.key===It.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===It.Enter&&t.handleClick(i),(s=(a=t.props).handleOnKeyDown)===null||s===void 0||s.call(a,r)},t.renderTimes=function(){for(var r,i=[],a=typeof t.props.format=="string"?t.props.format:"p",s=(r=t.props.intervals)!==null&&r!==void 0?r:n.defaultProps.intervals,l=t.props.selected||t.props.openToDate||Rr(),c=ex(l),d=t.props.injectTimes&&t.props.injectTimes.sort(function(A,w){return A.getTime()-w.getTime()}),h=60*EG(l),g=h/s,b=0;b<g;b++){var m=bS(c,b*s);if(i.push(m),d){var x=CG(c,m,b,s,d);i=i.concat(x)}}var y=i.reduce(function(A,w){return w.getTime()<=l.getTime()?w:A},i[0]);return i.map(function(A){return it.createElement("li",{key:A.valueOf(),onClick:t.handleClick.bind(t,A),className:t.liClasses(A),ref:function(w){A===y&&(t.centerLi=w)},onKeyDown:function(w){t.handleOnKeyDown(w,A)},tabIndex:A===y?0:-1,role:"option","aria-selected":t.isSelectedTime(A)?"true":void 0,"aria-disabled":t.isDisabledTime(A)?"true":void 0},pi(A,a,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?it.createElement(it.Fragment,null):it.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){t.header=r}},it.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},n.prototype.render=function(){var t=this,r,i=this.state.height;return it.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:n.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),it.createElement("div",{className:"react-datepicker__time"},it.createElement("div",{className:"react-datepicker__time-box"},it.createElement("ul",{className:"react-datepicker__time-list",ref:function(a){t.list=a},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},n.calcCenterPosition=function(t,r){return r.offsetTop-(t/2-r.clientHeight/2)},n}(X.Component),Ek=3,zG=function(e){rs(n,e);function n(t){var r=e.call(this,t)||this;return r.YEAR_REFS=Cc([],Array(r.props.yearItemNumber),!0).map(function(){return X.createRef()}),r.isDisabled=function(i){return jl(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return cA(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var a=function(){var s,l;(l=(s=r.YEAR_REFS[i])===null||s===void 0?void 0:s.current)===null||l===void 0||l.focus()};window.requestAnimationFrame(a)},r.handleYearClick=function(i,a){r.props.onDayClick&&r.props.onDayClick(i,a)},r.handleYearNavigation=function(i,a){var s,l,c,d,h=r.props,g=h.date,b=h.yearItemNumber;if(!(g===void 0||b===void 0)){var m=Wf(g,b).startPeriod;r.isDisabled(a)||r.isExcluded(a)||((l=(s=r.props).setPreSelection)===null||l===void 0||l.call(s,a),i-m<0?r.updateFocusOnPaginate(b-(m-i)):i-m>=b?r.updateFocusOnPaginate(Math.abs(b-(i-m))):(d=(c=r.YEAR_REFS[i-m])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus())}},r.isSameDay=function(i,a){return Xn(i,a)},r.isCurrentYear=function(i){return i===Pn(Rr())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&gc(mc(Rr(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&gc(mc(Rr(),i),r.props.endDate)},r.isInRange=function(i){return jy(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var a=r.props,s=a.selectsStart,l=a.selectsEnd,c=a.selectsRange,d=a.startDate,h=a.endDate;return!(s||l||c)||!r.selectingDate()?!1:s&&h?jy(i,r.selectingDate(),h):l&&d||c&&d&&!h?jy(i,d,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var a;if(!r.isInSelectingRange(i))return!1;var s=r.props,l=s.startDate,c=s.selectsStart,d=mc(Rr(),i);return c?gc(d,(a=r.selectingDate())!==null&&a!==void 0?a:null):gc(d,l??null)},r.isSelectingRangeEnd=function(i){var a;if(!r.isInSelectingRange(i))return!1;var s=r.props,l=s.endDate,c=s.selectsEnd,d=s.selectsRange,h=mc(Rr(),i);return c||d?gc(h,(a=r.selectingDate())!==null&&a!==void 0?a:null):gc(h,l??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var a=r.props,s=a.minDate,l=a.maxDate,c=a.excludeDates,d=a.includeDates,h=a.filterDate,g=V1(mc(r.props.date,i)),b=(s||l||c||d||h)&&tx(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!Xn(g,V1(r.props.selected))&&Xn(g,V1(r.props.preSelection))&&!b}},r.onYearClick=function(i,a){var s=r.props.date;s!==void 0&&r.handleYearClick(V1(mc(s,a)),i)},r.onYearKeyDown=function(i,a){var s,l,c=i.key,d=r.props,h=d.date,g=d.yearItemNumber,b=d.handleOnKeyDown;if(c!==It.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(c){case It.Enter:if(r.props.selected==null)break;r.onYearClick(i,a),(l=(s=r.props).setPreSelection)===null||l===void 0||l.call(s,r.props.selected);break;case It.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(a+1,Dd(r.props.preSelection,1));break;case It.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(a-1,rm(r.props.preSelection,1));break;case It.ArrowUp:{if(h===void 0||g===void 0||r.props.preSelection==null)break;var m=Wf(h,g).startPeriod,x=Ek,y=a-x;if(y<m){var A=g%x;a>=m&&a<m+A?x=A:x+=A,y=a-x}r.handleYearNavigation(y,rm(r.props.preSelection,x));break}case It.ArrowDown:{if(h===void 0||g===void 0||r.props.preSelection==null)break;var w=Wf(h,g).endPeriod,x=Ek,y=a+x;if(y>w){var A=g%x;a<=w&&a>w-A?x=A:x+=A,y=a+x}r.handleYearNavigation(y,Dd(r.props.preSelection,x));break}}b&&b(i)},r.getYearClassNames=function(i){var a=r.props,s=a.date,l=a.minDate,c=a.maxDate,d=a.selected,h=a.excludeDates,g=a.includeDates,b=a.filterDate,m=a.yearClassName;return gs("react-datepicker__year-text","react-datepicker__year-".concat(i),s?m==null?void 0:m(mc(s,i)):void 0,{"react-datepicker__year-text--selected":d?i===Pn(d):void 0,"react-datepicker__year-text--disabled":(l||c||h||g||b)&&tx(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var a=Pn(r.props.preSelection),s=tx(i,r.props);return i===a&&!s?"0":"-1"},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return n.prototype.render=function(){var t=this,r=[],i=this.props,a=i.date,s=i.yearItemNumber,l=i.onYearMouseEnter,c=i.onYearMouseLeave;if(a===void 0)return null;for(var d=Wf(a,s),h=d.startPeriod,g=d.endPeriod,b=function(y){r.push(it.createElement("div",{ref:m.YEAR_REFS[y-h],onClick:function(A){t.onYearClick(A,y)},onKeyDown:function(A){kO(A)&&(A.preventDefault(),A.key=It.Enter),t.onYearKeyDown(A,y)},tabIndex:Number(m.getYearTabIndex(y)),className:m.getYearClassNames(y),onMouseEnter:m.props.usePointerEvent?void 0:function(A){return l(A,y)},onPointerEnter:m.props.usePointerEvent?function(A){return l(A,y)}:void 0,onMouseLeave:m.props.usePointerEvent?void 0:function(A){return c(A,y)},onPointerLeave:m.props.usePointerEvent?function(A){return c(A,y)}:void 0,key:y,"aria-current":m.isCurrentYear(y)?"date":void 0},m.getYearContent(y)))},m=this,x=h;x<=g;x++)b(x);return it.createElement("div",{className:"react-datepicker__year"},it.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},n}(X.Component);function qG(e,n,t,r){for(var i=[],a=0;a<2*n+1;a++){var s=e+n-a,l=!0;t&&(l=Pn(t)<=s),r&&l&&(l=Pn(r)>=s),l&&i.push(s)}return i}var BG=function(e){rs(n,e);function n(t){var r=e.call(this,t)||this;r.renderOptions=function(){var l=r.props.year,c=r.state.yearsList.map(function(g){return it.createElement("div",{className:l===g?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:g,onClick:r.onChange.bind(r,g),"aria-selected":l===g?"true":void 0},l===g?it.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",g)}),d=r.props.minDate?Pn(r.props.minDate):null,h=r.props.maxDate?Pn(r.props.maxDate):null;return(!h||!r.state.yearsList.find(function(g){return g===h}))&&c.unshift(it.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},it.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!d||!r.state.yearsList.find(function(g){return g===d}))&&c.push(it.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},it.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),c},r.onChange=function(l){r.props.onChange(l)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(l){var c=r.state.yearsList.map(function(d){return d+l});r.setState({yearsList:c})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=t.yearDropdownItemNumber,a=t.scrollableYearDropdown,s=i||(a?10:5);return r.state={yearsList:qG(r.props.year,s,r.props.minDate,r.props.maxDate)},r.dropdownRef=X.createRef(),r}return n.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var r=t.children?Array.from(t.children):null,i=r?r.find(function(a){return a.ariaSelected}):null;t.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},n.prototype.render=function(){var t=gs({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return it.createElement(Sv,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},n}(X.Component),UG=function(e){rs(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=t.props.minDate?Pn(t.props.minDate):1900,i=t.props.maxDate?Pn(t.props.maxDate):2100,a=[],s=r;s<=i;s++)a.push(it.createElement("option",{key:s,value:s},s));return a},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return it.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){return it.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return t.toggleDropdown(i)}},it.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),it.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return it.createElement(BG,ir({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,i=[t.renderReadView(!r)];return r&&i.unshift(t.renderDropdown()),i},t.onChange=function(r){t.toggleDropdown(),r!==t.props.year&&t.props.onChange(r)},t.toggleDropdown=function(r){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,r)})},t.handleYearChange=function(r,i){var a;(a=t.onSelect)===null||a===void 0||a.call(t,r,i),t.setOpen()},t.onSelect=function(r,i){var a,s;(s=(a=t.props).onSelect)===null||s===void 0||s.call(a,r,i)},t.setOpen=function(){var r,i;(i=(r=t.props).setOpen)===null||i===void 0||i.call(r,!0)},t}return n.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return it.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},n}(X.Component),$G=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],HG=function(e){var n=(e.className||"").split(/\s+/);return $G.some(function(t){return n.indexOf(t)>=0})},WG=function(e){rs(n,e);function n(t){var r=e.call(this,t)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var a,s;HG(i.target)&&((s=(a=r.props).onDropdownFocus)===null||s===void 0||s.call(a,i))},r.getDateInView=function(){var i=r.props,a=i.preSelection,s=i.selected,l=i.openToDate,c=EO(r.props),d=_O(r.props),h=Rr(),g=l||s||a;return g||(c&&pp(h,c)?c:d&&rh(h,d)?d:h)},r.increaseMonth=function(){r.setState(function(i){var a=i.date;return{date:Cu(a,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var a=i.date;return{date:rp(a,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,a,s){r.props.onSelect(i,a,s),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,a){r.setState({selectingDate:mc(Rr(),a)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,a)},r.handleYearMouseLeave=function(i,a){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,a)},r.handleYearChange=function(i){var a,s,l,c;(s=(a=r.props).onYearChange)===null||s===void 0||s.call(a,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(c=(l=r.props).setOpen)===null||c===void 0||c.call(l,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!jl(i,r.props))return i;for(var a=Md(i),s=fG(i),l=_H(s,a),c=null,d=0;d<=l;d++){var h=Su(a,d);if(!jl(h,r.props)){c=h;break}}return c},r.handleMonthChange=function(i){var a,s,l,c=(a=r.getEnabledPreSelectionDateForMonth(i))!==null&&a!==void 0?a:i;r.handleCustomMonthChange(c),r.props.adjustDateOnChange&&(r.props.onSelect(c),(l=(s=r.props).setOpen)===null||l===void 0||l.call(s,!0)),r.props.setPreSelection&&r.props.setPreSelection(c)},r.handleCustomMonthChange=function(i){var a,s;(s=(a=r.props).onMonthChange)===null||s===void 0||s.call(a,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(a){var s=a.date;return{date:mc(s,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(a){var s=a.date;return{date:Ho(s,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(a){var s=a.date;return{date:mc(Ho(s,to(i)),Pn(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var a=Jf(i,r.props.locale,r.props.calendarStartDay),s=[];return r.props.showWeekNumbers&&s.push(it.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),s.concat([0,1,2,3,4,5,6].map(function(l){var c=Su(a,l),d=r.formatWeekday(c,r.props.locale),h=r.props.weekDayClassName?r.props.weekDayClassName(c):void 0;return it.createElement("div",{key:l,"aria-label":pi(c,"EEEE",r.props.locale),className:gs("react-datepicker__day-name",h)},d)}))},r.formatWeekday=function(i,a){return r.props.formatWeekDay?hG(i,r.props.formatWeekDay,a):r.props.useWeekdaysShort?mG(i,a):pG(i,a)},r.decreaseYear=function(){r.setState(function(i){var a,s=i.date;return{date:rm(s,r.props.showYearPicker?(a=r.props.yearItemNumber)!==null&&a!==void 0?a:n.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i,a,s;if(!r.props.renderCustomHeader){var l=(i=r.props.monthsShown)!==null&&i!==void 0?i:n.defaultProps.monthsShown,c=r.props.showPreviousMonths?l-1:0,d=(a=r.props.monthSelectedIn)!==null&&a!==void 0?a:c,h=rp(r.state.date,d),g;switch(!0){case r.props.showMonthYearPicker:g=bk(r.state.date,r.props);break;case r.props.showYearPicker:g=vG(r.state.date,r.props);break;case r.props.showQuarterYearPicker:g=yG(r.state.date,r.props);break;default:g=mk(h,r.props);break}if(!(!((s=r.props.forceShowMonthNavigation)!==null&&s!==void 0?s:n.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&g||r.props.showTimeSelectOnly)){var b=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],m=["react-datepicker__navigation","react-datepicker__navigation--previous"],x=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(x=r.decreaseYear),g&&r.props.showDisabledMonthNavigation&&(m.push("react-datepicker__navigation--previous--disabled"),x=void 0);var y=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,A=r.props,w=A.previousMonthButtonLabel,C=w===void 0?n.defaultProps.previousMonthButtonLabel:w,j=A.previousYearButtonLabel,F=j===void 0?n.defaultProps.previousYearButtonLabel:j,z=r.props,L=z.previousMonthAriaLabel,k=L===void 0?typeof C=="string"?C:"Previous Month":L,M=z.previousYearAriaLabel,q=M===void 0?typeof F=="string"?F:"Previous Year":M;return it.createElement("button",{type:"button",className:m.join(" "),onClick:x,onKeyDown:r.props.handleOnKeyDown,"aria-label":y?q:k},it.createElement("span",{className:b.join(" ")},y?F:C))}}},r.increaseYear=function(){r.setState(function(i){var a,s=i.date;return{date:Dd(s,r.props.showYearPicker?(a=r.props.yearItemNumber)!==null&&a!==void 0?a:n.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var a;switch(!0){case r.props.showMonthYearPicker:a=yk(r.state.date,r.props);break;case r.props.showYearPicker:a=wG(r.state.date,r.props);break;case r.props.showQuarterYearPicker:a=xG(r.state.date,r.props);break;default:a=gk(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:n.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&a||r.props.showTimeSelectOnly)){var s=["react-datepicker__navigation","react-datepicker__navigation--next"],l=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&s.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&s.push("react-datepicker__navigation--next--with-today-button");var c=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(c=r.increaseYear),a&&r.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--next--disabled"),c=void 0);var d=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,h=r.props,g=h.nextMonthButtonLabel,b=g===void 0?n.defaultProps.nextMonthButtonLabel:g,m=h.nextYearButtonLabel,x=m===void 0?n.defaultProps.nextYearButtonLabel:m,y=r.props,A=y.nextMonthAriaLabel,w=A===void 0?typeof b=="string"?b:"Next Month":A,C=y.nextYearAriaLabel,j=C===void 0?typeof x=="string"?x:"Next Year":C;return it.createElement("button",{type:"button",className:s.join(" "),onClick:c,onKeyDown:r.props.handleOnKeyDown,"aria-label":d?j:w},it.createElement("span",{className:l.join(" ")},d?x:b))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var a=["react-datepicker__current-month"];return r.props.showYearDropdown&&a.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&a.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&a.push("react-datepicker__current-month--hasMonthYearDropdown"),it.createElement("h2",{className:a.join(" ")},pi(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return it.createElement(UG,ir({},n.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:Pn(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return it.createElement(LG,ir({},n.defaultProps,r.props,{month:to(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return it.createElement(FG,ir({},n.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(ck(),i),r.props.setPreSelection&&r.props.setPreSelection(ck())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return it.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var a=i.monthDate,s=i.i;return it.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(a),it.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(s!==0),r.renderMonthYearDropdown(s!==0),r.renderYearDropdown(s!==0)),it.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderCustomHeader=function(i){var a,s,l=i.monthDate,c=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var d=mk(r.state.date,r.props),h=gk(r.state.date,r.props),g=bk(r.state.date,r.props),b=yk(r.state.date,r.props),m=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return it.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(s=(a=r.props).renderCustomHeader)===null||s===void 0?void 0:s.call(a,ir(ir({},r.state),{customHeaderCount:c,monthDate:l,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:d,nextMonthButtonDisabled:h,prevYearButtonDisabled:g,nextYearButtonDisabled:b})),m&&it.createElement("div",{className:"react-datepicker__day-names"},r.header(l)))},r.renderYearHeader=function(i){var a=i.monthDate,s=r.props,l=s.showYearPicker,c=s.yearItemNumber,d=c===void 0?n.defaultProps.yearItemNumber:c,h=Wf(a,d),g=h.startPeriod,b=h.endPeriod;return it.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},l?"".concat(g," - ").concat(b):Pn(a))},r.renderHeader=function(i){var a=i.monthDate,s=i.i,l=s===void 0?0:s,c={monthDate:a,i:l};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(c);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(c);default:return r.renderDefaultHeader(c)}},r.renderMonths=function(){var i,a;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var s=[],l=(i=r.props.monthsShown)!==null&&i!==void 0?i:n.defaultProps.monthsShown,c=r.props.showPreviousMonths?l-1:0,d=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Dd(r.state.date,c):rp(r.state.date,c),h=(a=r.props.monthSelectedIn)!==null&&a!==void 0?a:c,g=0;g<l;++g){var b=g-h+c,m=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Dd(d,b):Cu(d,b),x="month-".concat(g),y=g<l-1,A=g>0;s.push(it.createElement("div",{key:x,ref:function(w){r.monthContainer=w??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:m,i:g}),it.createElement(IG,ir({},n.defaultProps,r.props,{ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:m,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:g,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:y,monthShowsDuplicateDaysStart:A}))))}return s}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return it.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),it.createElement(zG,ir({},n.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return it.createElement(PG,ir({},n.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,a=i&&Sd(i)&&!!r.props.selected,s=a?"".concat(vk(i.getHours()),":").concat(vk(i.getMinutes())):"";if(r.props.showTimeInput)return it.createElement(kG,ir({},n.defaultProps,r.props,{date:i,timeString:s,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,a=Wf(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:n.defaultProps.yearItemNumber),s=a.startPeriod,l=a.endPeriod,c;return r.props.showYearPicker?c="".concat(s," - ").concat(l):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?c=Pn(r.state.date):c="".concat(uA(to(r.state.date),r.props.locale)," ").concat(Pn(r.state.date)),it.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&c)},r.renderChildren=function(){if(r.props.children)return it.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=X.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(n,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Kg}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},n.prototype.componentDidUpdate=function(t){var r=this;if(this.props.preSelection&&(!Xn(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var i=!eo(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!Xn(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},n.prototype.render=function(){var t=this.props.container||iG;return it.createElement(Sv,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},it.createElement(t,{className:gs("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},n}(X.Component),VG=function(e){var n=e.icon,t=e.className,r=t===void 0?"":t,i=e.onClick,a="react-datepicker__calendar-icon";return typeof n=="string"?it.createElement("i",{className:"".concat(a," ").concat(n," ").concat(r),"aria-hidden":"true",onClick:i}):it.isValidElement(n)?it.cloneElement(n,{className:"".concat(n.props.className||""," ").concat(a," ").concat(r),onClick:function(s){typeof n.props.onClick=="function"&&n.props.onClick(s),typeof i=="function"&&i(s)}}):it.createElement("svg",{className:"".concat(a," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},it.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},jO=function(e){rs(n,e);function n(t){var r=e.call(this,t)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return n.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},n.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},n.prototype.render=function(){return J9.createPortal(this.props.children,this.el)},n}(X.Component),YG="[tabindex], a, button, input, select, textarea",GG=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},NO=function(e){rs(n,e);function n(t){var r=e.call(this,t)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(YG),1,-1).filter(GG)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=X.createRef(),r}return n.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:n.defaultProps.enableTabLoop)?it.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},it.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,it.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},n.defaultProps={enableTabLoop:!0},n}(X.Component);function QG(e){var n=function(t){var r,i=typeof t.hidePopper=="boolean"?t.hidePopper:!0,a=X.useRef(null),s=rG(ir({open:!i,whileElementsMounted:RY,placement:t.popperPlacement,middleware:Cc([HY({padding:15}),$Y(10),WY({element:a})],(r=t.popperModifiers)!==null&&r!==void 0?r:[],!0)},t.popperProps)),l=ir(ir({},t),{hidePopper:i,popperProps:ir(ir({},s),{arrowRef:a})});return it.createElement(e,ir({},l))};return n}var KG=function(e){rs(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(n,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),n.prototype.render=function(){var t=this.props,r=t.className,i=t.wrapperClassName,a=t.hidePopper,s=a===void 0?n.defaultProps.hidePopper:a,l=t.popperComponent,c=t.targetComponent,d=t.enableTabLoop,h=t.popperOnKeyDown,g=t.portalId,b=t.portalHost,m=t.popperProps,x=t.showArrow,y=void 0;if(!s){var A=gs("react-datepicker-popper",r);y=it.createElement(NO,{enableTabLoop:d},it.createElement("div",{ref:m.refs.setFloating,style:m.floatingStyles,className:A,"data-placement":m.placement,onKeyDown:h},l,x&&it.createElement(KY,{ref:m.arrowRef,context:m.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(y=X.createElement(this.props.popperContainer,{},y)),g&&!s&&(y=it.createElement(jO,{portalId:g,portalHost:b},y));var w=gs("react-datepicker-wrapper",i);return it.createElement(it.Fragment,null,it.createElement("div",{ref:m.refs.setReference,className:w},c),y)},n}(X.Component),XG=QG(KG),_k="react-datepicker-ignore-onclickoutside";function ZG(e,n){return e&&n?to(e)!==to(n)||Pn(e)!==Pn(n):e!==n}var Q5="Date input not valid.",JG=function(e){rs(n,e);function n(t){var r=e.call(this,t)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Rr()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(a,s){var l=new Date(s.date);return Sd(l)?Cc(Cc([],a,!0),[ir(ir({},s),{date:l})],!1):a},[])},r.calcInitialState=function(){var i,a=r.getPreSelection(),s=EO(r.props),l=_O(r.props),c=s&&pp(a,ex(s))?s:l&&rh(a,dk(l))?l:a;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:c,highlightDates:xk(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(ir(ir({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(ir(ir({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.safeFocus=function(){setTimeout(function(){var i,a;(a=(i=r.input)===null||i===void 0?void 0:i.focus)===null||a===void 0||a.call(i,{preventScroll:!0})},0)},r.safeBlur=function(){setTimeout(function(){var i,a;(a=(i=r.input)===null||i===void 0?void 0:i.blur)===null||a===void 0||a.call(i)},0)},r.setFocus=function(){r.safeFocus()},r.setBlur=function(){r.safeBlur(),r.cancelFocusInput()},r.setOpen=function(i,a){a===void 0&&(a=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:K5},function(){i||r.setState(function(s){return{focused:a?s.focused:!1}},function(){!a&&r.setBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Ld(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var a,s,l=r.state.wasHidden,c=l?r.state.open:!0;l&&r.resetHiddenStatus(),!r.state.preventFocus&&c&&((s=(a=r.props).onFocus)===null||s===void 0||s.call(a,i),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var a,s;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((s=(a=r.props).onBlur)===null||s===void 0||s.call(a,i)),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var a,s;r.props.inline||r.setOpen(!1),(s=(a=r.props).onClickOutside)===null||s===void 0||s.call(a,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,a,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var c=s[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,s),!c||typeof c.isDefaultPrevented!="function"||c.isDefaultPrevented()))){r.setState({inputValue:(c==null?void 0:c.target)instanceof HTMLInputElement?c.target.value:null,lastPreSelectChange:eQ});var d=r.props,h=d.dateFormat,g=h===void 0?n.defaultProps.dateFormat:h,b=d.strictParsing,m=b===void 0?n.defaultProps.strictParsing:b,x=d.selectsRange,y=d.startDate,A=d.endDate,w=(c==null?void 0:c.target)instanceof HTMLInputElement?c.target.value:"";if(x){var C=w.split("-",2).map(function(Q){return Q.trim()}),j=C[0],F=C[1],z=V5(j??"",g,r.props.locale,m),L=V5(F??"",g,r.props.locale,m),k=(y==null?void 0:y.getTime())!==(z==null?void 0:z.getTime()),M=(A==null?void 0:A.getTime())!==(L==null?void 0:L.getTime());if(!k&&!M||z&&jl(z,r.props)||L&&jl(L,r.props))return;(a=(i=r.props).onChange)===null||a===void 0||a.call(i,[z,L],c)}else{var q=V5(w,g,r.props.locale,m,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&q&&!Xn(q,r.props.selected)&&(q=PV(r.props.selected,{hours:jc(q),minutes:Nc(q),seconds:Rd(q)})),(q||!w)&&r.setSelected(q,c,!0)}}},r.handleSelect=function(i,a,s){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(a),r.setSelected(i,a,!1,s),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var l=r.props,c=l.startDate,d=l.endDate;c&&!d&&(r.props.swapRange||!Ak(i,c))&&r.setOpen(!1)}},r.setSelected=function(i,a,s,l){var c,d,h=i;if(r.props.showYearPicker){if(h!==null&&tx(Pn(h),r.props))return}else if(r.props.showMonthYearPicker){if(h!==null&&CO(h,r.props))return}else if(h!==null&&jl(h,r.props))return;var g=r.props,b=g.onChange,m=g.selectsRange,x=g.startDate,y=g.endDate,A=g.selectsMultiple,w=g.selectedDates,C=g.minTime,j=g.swapRange;if(!Xh(r.props.selected,h)||r.props.allowSameDay||m||A)if(h!==null&&(r.props.selected&&(!s||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(h=Y5(h,{hour:jc(r.props.selected),minute:Nc(r.props.selected),second:Rd(r.props.selected)})),!s&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&C&&(h=Y5(h,{hour:C.getHours(),minute:C.getMinutes(),second:C.getSeconds()})),r.props.inline||r.setState({preSelection:h}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:l})),m){var F=!x&&!y,z=x&&!y,L=x&&y;F?b==null||b([h,null],a):z&&(h===null?b==null||b([null,null],a):Ak(h,x)?j?b==null||b([h,x],a):b==null||b([h,null],a):b==null||b([x,h],a)),L&&(b==null||b([h,null],a))}else if(A){if(h!==null)if(!(w!=null&&w.length))b==null||b([h],a);else{var k=w.some(function(q){return Xn(q,h)});if(k){var M=w.filter(function(q){return!Xn(q,h)});b==null||b(M,a)}else b==null||b(Cc(Cc([],w,!0),[h],!1),a)}}else b==null||b(h,a);s||((d=(c=r.props).onSelect)===null||d===void 0||d.call(c,h,a),r.setState({inputValue:null}))},r.setPreSelection=function(i){var a=Ld(r.props.minDate),s=Ld(r.props.maxDate),l=!0;if(i){var c=ex(i);if(a&&s)l=Y1(i,r.props.minDate,r.props.maxDate);else if(a){var d=ex(r.props.minDate);l=rh(i,d)||Xh(c,d)}else if(s){var h=dk(r.props.maxDate);l=pp(i,h)||Xh(c,h)}}l&&r.setState({preSelection:i})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var a,s;if(!(r.props.selectsRange||r.props.selectsMultiple)){var l=r.props.selected?r.props.selected:r.getPreSelection(),c=r.props.selected?i:Y5(l,{hour:jc(i),minute:Nc(i)});r.setState({preSelection:c}),(s=(a=r.props).onChange)===null||s===void 0||s.call(a,c),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,a;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(a=(i=r.props).onInputClick)===null||a===void 0||a.call(i)},r.onInputKeyDown=function(i){var a,s,l,c,d,h;(s=(a=r.props).onKeyDown)===null||s===void 0||s.call(a,i);var g=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(g===It.ArrowDown||g===It.ArrowUp||g===It.Enter)&&((l=r.onInputClick)===null||l===void 0||l.call(r));return}if(r.state.open){if(g===It.ArrowDown||g===It.ArrowUp){i.preventDefault();var b=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',m=((c=r.calendar)===null||c===void 0?void 0:c.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(b);m instanceof HTMLElement&&m.focus({preventScroll:!0});return}var x=Rr(r.state.preSelection);g===It.Enter?(i.preventDefault(),i.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===K5?(r.handleSelect(x,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(x)):r.setOpen(!1)):g===It.Escape?(i.preventDefault(),i.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):g===It.Tab&&r.setOpen(!1),r.inputOk()||(h=(d=r.props).onInputError)===null||h===void 0||h.call(d,{code:1,msg:Q5})}},r.onPortalKeyDown=function(i){var a=i.key;a===It.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var a,s,l,c,d,h,g=r.props,b=g.minDate,m=g.maxDate,x=g.disabledKeyboardNavigation,y=g.showWeekPicker,A=g.shouldCloseOnSelect,w=g.locale,C=g.calendarStartDay,j=g.adjustDateOnChange,F=g.inline;if((s=(a=r.props).onKeyDown)===null||s===void 0||s.call(a,i),!x){var z=i.key,L=i.shiftKey,k=Rr(r.state.preSelection),M=function(K,H){var G=H;switch(K){case It.ArrowRight:G=y?Nx(H,1):Su(H,1);break;case It.ArrowLeft:G=y?Z8(H):wV(H);break;case It.ArrowUp:G=Z8(H);break;case It.ArrowDown:G=Nx(H,1);break;case It.PageUp:G=L?rm(H,1):rp(H,1);break;case It.PageDown:G=L?Dd(H,1):Cu(H,1);break;case It.Home:G=Jf(H,w,C);break;case It.End:G=dG(H);break}return G},q=function(K,H){for(var G=40,ee=K,le=!1,Y=0,te=M(K,H);!le;){if(Y>=G){te=H;break}b&&te<b&&(ee=It.ArrowRight,te=jl(b,r.props)?M(ee,te):b),m&&te>m&&(ee=It.ArrowLeft,te=jl(m,r.props)?M(ee,te):m),jl(te,r.props)?((ee===It.PageUp||ee===It.Home)&&(ee=It.ArrowRight),(ee===It.PageDown||ee===It.End)&&(ee=It.ArrowLeft),te=M(ee,te)):le=!0,Y++}return te};if(z===It.Enter){i.preventDefault(),r.handleSelect(k,i),!A&&r.setPreSelection(k);return}else if(z===It.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(c=(l=r.props).onInputError)===null||c===void 0||c.call(l,{code:1,msg:Q5});return}var Q=null;switch(z){case It.ArrowLeft:case It.ArrowRight:case It.ArrowUp:case It.ArrowDown:case It.PageUp:case It.PageDown:case It.Home:case It.End:Q=q(z,k);break}if(!Q){(h=(d=r.props).onInputError)===null||h===void 0||h.call(d,{code:1,msg:Q5});return}if(i.preventDefault(),r.setState({lastPreSelectChange:K5}),j&&r.setSelected(Q),r.setPreSelection(Q),F){var T=to(k),O=to(Q),R=Pn(k),N=Pn(Q);T!==O||R!==N?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var a=i.key;a===It.Escape&&(i.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var a=r.props,s=a.selectsRange,l=a.onChange;s?l==null||l([null,null],i):l==null||l(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,a;return!r.props.inline&&!r.isCalendarOpen()?null:it.createElement(WG,ir({showMonthYearDropdown:void 0,ref:function(s){r.calendar=s}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:n.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:AG(r.modifyHolidays()),outsideClickIgnoreClass:_k,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(a=r.props.dropdownMode)!==null&&a!==void 0?a:n.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,a=i.dateFormat,s=a===void 0?n.defaultProps.dateFormat:a,l=i.locale,c=r.props.showTimeInput||r.props.showTimeSelect,d=c?"PPPPp":"PPPP",h;return r.props.selectsRange?h="Selected start date: ".concat(El(r.props.startDate,{dateFormat:d,locale:l}),". ").concat(r.props.endDate?"End date: "+El(r.props.endDate,{dateFormat:d,locale:l}):""):r.props.showTimeSelectOnly?h="Selected time: ".concat(El(r.props.selected,{dateFormat:s,locale:l})):r.props.showYearPicker?h="Selected year: ".concat(El(r.props.selected,{dateFormat:"yyyy",locale:l})):r.props.showMonthYearPicker?h="Selected month: ".concat(El(r.props.selected,{dateFormat:"MMMM yyyy",locale:l})):r.props.showQuarterYearPicker?h="Selected quarter: ".concat(El(r.props.selected,{dateFormat:"yyyy, QQQ",locale:l})):h="Selected date: ".concat(El(r.props.selected,{dateFormat:d,locale:l})),it.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},h)},r.renderDateInput=function(){var i,a,s,l=gs(r.props.className,(i={},i[_k]=r.state.open,i)),c=r.props.customInput||it.createElement("input",{type:"text"}),d=r.props.customInputRef||"ref",h=r.props,g=h.dateFormat,b=g===void 0?n.defaultProps.dateFormat:g,m=h.locale,x=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?oG(r.props.startDate,r.props.endDate,{dateFormat:b,locale:m}):r.props.selectsMultiple?lG((s=r.props.selectedDates)!==null&&s!==void 0?s:[],{dateFormat:b,locale:m}):El(r.props.selected,{dateFormat:b,locale:m});return X.cloneElement(c,(a={},a[d]=function(y){r.input=y},a.value=x,a.onBlur=r.handleBlur,a.onChange=r.handleChange,a.onClick=r.onInputClick,a.onFocus=r.handleFocus,a.onKeyDown=r.onInputKeyDown,a.id=r.props.id,a.name=r.props.name,a.form=r.props.form,a.autoFocus=r.props.autoFocus,a.placeholder=r.props.placeholderText,a.disabled=r.props.disabled,a.autoComplete=r.props.autoComplete,a.className=gs(c.props.className,l),a.title=r.props.title,a.readOnly=r.props.readOnly,a.required=r.props.required,a.tabIndex=r.props.tabIndex,a["aria-describedby"]=r.props.ariaDescribedBy,a["aria-invalid"]=r.props.ariaInvalid,a["aria-labelledby"]=r.props.ariaLabelledBy,a["aria-required"]=r.props.ariaRequired,a))},r.renderClearButton=function(){var i=r.props,a=i.isClearable,s=i.disabled,l=i.selected,c=i.startDate,d=i.endDate,h=i.clearButtonTitle,g=i.clearButtonClassName,b=g===void 0?"":g,m=i.ariaLabelClose,x=m===void 0?"Close":m,y=i.selectedDates;return a&&(l!=null||c!=null||d!=null||y!=null&&y.length)?it.createElement("button",{type:"button",className:gs("react-datepicker__close-icon",b,{"react-datepicker__close-icon--disabled":s}),disabled:s,"aria-label":x,onClick:r.onClearClick,title:h,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(n,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Kg,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},n.prototype.componentDidUpdate=function(t,r){var i,a,s,l;t.inline&&ZG(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:xk(this.props.highlightDates)}),!r.focused&&!Xh(t.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((a=(i=this.props).onCalendarOpen)===null||a===void 0||a.call(i)),r.open===!0&&this.state.open===!1&&((l=(s=this.props).onCalendarClose)===null||l===void 0||l.call(s)))},n.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},n.prototype.renderInputContainer=function(){var t=this.props,r=t.showIcon,i=t.icon,a=t.calendarIconClassname,s=t.calendarIconClassName,l=t.toggleCalendarOnIconClick,c=this.state.open;return a&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),it.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&it.createElement(VG,ir({icon:i,className:gs(s,!s&&a,c&&"react-datepicker-ignore-onclickoutside")},l?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},n.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var r=this.state.open?it.createElement(NO,{enableTabLoop:this.props.enableTabLoop},it.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(r=it.createElement(jO,ir({portalId:this.props.portalId},this.props),r)),it.createElement("div",null,this.renderInputContainer(),r)}return it.createElement(XG,ir({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},n}(X.Component),eQ="input",K5="navigate";const tQ=e=>f.jsx(Bt,{...e,sx:{width:"100%","& .MuiOutlinedInput-root":{borderRadius:Zt.xl,backgroundColor:ht.palette.background.paper,"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:ht.palette.primary.main},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:ht.palette.primary.main,borderWidth:2}},"& .MuiInputBase-input":{color:ht.palette.text.primary,fontSize:"1rem",padding:"12px 14px"},"& .MuiInputLabel-root":{color:ht.palette.text.secondary,"&.Mui-focused":{color:ht.palette.primary.main}}}}),TO=it.forwardRef((e,n)=>f.jsx(tQ,{...e,inputRef:n,fullWidth:!0}));TO.displayName="CustomInput";const nQ=({value:e,onChange:n})=>{const t=r=>r?r.toLocaleString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"";return f.jsxs(fn,{elevation:2,sx:{p:3,mb:3,backgroundColor:ht.palette.background.paper,borderRadius:Zt.xl,border:`1px solid ${ht.palette.divider}`},children:[f.jsxs(ge,{sx:{display:"flex",alignItems:"center",mb:2},children:[f.jsx(G0,{sx:{mr:1,color:ht.palette.primary.main}}),f.jsx(ce,{variant:"h6",sx:{fontWeight:600,color:ht.palette.text.primary},children:"Schedule Publish"})]}),f.jsx(ce,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Choose when you want this material to be automatically published."}),f.jsx(JG,{selected:e,onChange:r=>n(r),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,dateFormat:"MMM d, yyyy h:mm aa",minDate:new Date,customInput:f.jsx(TO,{label:"Select Date & Time"}),placeholderText:"Click to select date and time"}),e&&f.jsx(ge,{sx:{mt:2},children:f.jsx(Dn,{icon:f.jsx(G0,{}),label:`Scheduled for ${t(e)}`,color:"primary",variant:"outlined",sx:{backgroundColor:ht.palette.primary.light,color:ht.palette.primary.main,borderColor:ht.palette.primary.main}})})]})},rQ=X.lazy(()=>Li(()=>import("./MaterialImportWrapper-CB99VemI.js"),__vite__mapDeps([3,4,1,5]))),OO=({materialData:e})=>{var nt;const n=ea(),{userDetails:t}=Ai(),r=Jn(),{uploadedFile:i,uploadOriginalFile:a,originalFileUrl:s,originalFileUploadProgress:l}=Id(),[c]=qg(),d=c.get("course"),h=c.get("mode")||"manual",[g,b]=X.useState((e==null?void 0:e.course)||d||""),[m,x]=X.useState((e==null?void 0:e.id)||null),[y,A]=X.useState((e==null?void 0:e.title)||""),[w,C]=X.useState((e==null?void 0:e.header)||{title:"Header",content:""}),[j,F]=X.useState((e==null?void 0:e.footer)||{title:"Footer",content:""}),[z,L]=X.useState((e==null?void 0:e.sections)||[{id:Ri(),title:"Section 1",content:"",subsections:[],images:[],links:[]}]),[k,M]=X.useState({sectionIndex:0}),[q,Q]=X.useState(!1),[T,O]=X.useState(""),[R,N]=X.useState("success"),[K,H]=X.useState(!1),[G,ee]=X.useState(((nt=e==null?void 0:e.scheduledTimestamp)==null?void 0:nt.toDate())||null),[le,Y]=X.useState(!1),[te,U]=X.useState(h),[B,re]=X.useState(!1),[Z,ne]=X.useState(null),[ve,ye]=X.useState(!1),[Ce,Oe]=X.useState(null),[Ie,$e]=X.useState(!1);Y7(z,k.sectionIndex||0,z.length>1),X.useEffect(()=>{const De=xe=>{xe.key==="ArrowLeft"||xe.key};return window.addEventListener("keydown",De),()=>window.removeEventListener("keydown",De)},[k,z]);const We=async(De,xe=!1,ke)=>{De.preventDefault();try{const je=z.some(ct=>{var Je,Rt;return((Je=ct.images)==null?void 0:Je.some(kt=>kt.url.startsWith("blob:")))||((Rt=ct.subsections)==null?void 0:Rt.some(kt=>{var Wt;return(Wt=kt.images)==null?void 0:Wt.some(Lt=>Lt.url.startsWith("blob:"))}))});if(B&&je){console.log(" Starting AI material creation with image upload...");const ct=await Ma(wn(r,"materials"),{course:g,title:y,header:w,footer:j,sections:[],author:(t==null?void 0:t.uid)||"",timestamp:Qf(),published:!1,scheduledTimestamp:ke?Ja.fromDate(ke):null});console.log(" Material created with ID:",ct.id),x(ct.id),console.log(" Starting image upload process...");const Je=await Gw(g,(t==null?void 0:t.uid)||"",ct.id,(Wt,Lt)=>{console.log(` Image upload progress: ${Wt}/${Lt}`),ne({completed:Wt,total:Lt})});console.log(" Image upload complete, updating material..."),await Wr(ct,{sections:Je,published:xe,scheduledTimestamp:ke?Ja.fromDate(ke):null}),ne(null),re(!1);const{resetImport:Rt}=Id.getState();Rt(),O(xe?"Material published successfully!":ke?"Material scheduled successfully!":"Material saved successfully!"),N("success"),Q(!0),(xe||ke)&&n(`/supplemental-materials?course=${g}`)}else{const ct={course:g,title:y,header:w,footer:j,sections:z,author:(t==null?void 0:t.uid)||"",timestamp:Qf(),published:xe,scheduledTimestamp:ke?Ja.fromDate(ke):null,...s&&{originalFile:{url:s}}};if(m)await Wr(xn(r,"materials",m),ct),O(xe?"Material updated and published!":ke?"Material updated and scheduled!":"Material updated successfully!");else{const Je=await Ma(wn(r,"materials"),ct);x(Je.id),O(xe?"Material created and published!":ke?"Material created and scheduled!":"Material created successfully!")}N("success"),Q(!0),(xe||ke)&&n(`/supplemental-materials?course=${g}`)}}catch(je){console.error("Error saving material:",je),O("Error saving material. Please try again."),N("error"),Q(!0)}},V=(De,xe,ke)=>{M({sectionIndex:typeof De=="number"?De:void 0,subsectionIndex:xe,subSubsectionIndex:ke,type:typeof De=="string"?De:void 0})},Se=()=>{var De,xe,ke;if(k.type==="header")return w.content;if(k.type==="footer")return j.content;if(k.sectionIndex!==void 0){const je=z[k.sectionIndex];return k.subSubsectionIndex!==void 0?((xe=(De=je==null?void 0:je.subsections[k.subsectionIndex])==null?void 0:De.subSubsections[k.subSubsectionIndex])==null?void 0:xe.content)||"":k.subsectionIndex!==void 0?((ke=je==null?void 0:je.subsections[k.subsectionIndex])==null?void 0:ke.content)||"":(je==null?void 0:je.content)||""}return""},se=()=>{var De,xe,ke;if(k.type==="header")return w.title;if(k.type==="footer")return j.title;if(k.sectionIndex!==void 0){const je=z[k.sectionIndex];return k.subSubsectionIndex!==void 0?((xe=(De=je==null?void 0:je.subsections[k.subsectionIndex])==null?void 0:De.subSubsections[k.subSubsectionIndex])==null?void 0:xe.title)||"":k.subsectionIndex!==void 0?((ke=je==null?void 0:je.subsections[k.subsectionIndex])==null?void 0:ke.title)||"":(je==null?void 0:je.title)||""}return""},he=De=>{k.type==="header"?C(xe=>({...xe,content:De})):k.type==="footer"?F(xe=>({...xe,content:De})):k.sectionIndex!==void 0&&L(xe=>{const ke=[...xe],je=ke[k.sectionIndex];return k.subSubsectionIndex!==void 0?je.subsections[k.subsectionIndex].subSubsections[k.subSubsectionIndex].content=De:k.subsectionIndex!==void 0?je.subsections[k.subsectionIndex].content=De:je.content=De,ke})},de=De=>{le&&G?We(De,!1,G):Y(!0)},we=De=>{k.type==="header"?C(xe=>({...xe,title:De})):k.type==="footer"?F(xe=>({...xe,title:De})):k.sectionIndex!==void 0&&L(xe=>{const ke=[...xe],je=ke[k.sectionIndex];return k.subSubsectionIndex!==void 0?je.subsections[k.subsectionIndex].subSubsections[k.subSubsectionIndex].title=De:k.subsectionIndex!==void 0?je.subsections[k.subsectionIndex].title=De:je.title=De,ke})},Le=()=>{var De,xe,ke;if(k.type==="header"||k.type==="footer")return[];if(k.sectionIndex!==void 0){const je=z[k.sectionIndex];return k.subSubsectionIndex!==void 0?((xe=(De=je==null?void 0:je.subsections[k.subsectionIndex])==null?void 0:De.subSubsections[k.subSubsectionIndex])==null?void 0:xe.images)||[]:k.subsectionIndex!==void 0?((ke=je==null?void 0:je.subsections[k.subsectionIndex])==null?void 0:ke.images)||[]:(je==null?void 0:je.images)||[]}return[]},Pe=()=>{var De,xe,ke;if(k.type==="header"||k.type==="footer")return[];if(k.sectionIndex!==void 0){const je=z[k.sectionIndex];return k.subSubsectionIndex!==void 0?((xe=(De=je==null?void 0:je.subsections[k.subsectionIndex])==null?void 0:De.subSubsections[k.subSubsectionIndex])==null?void 0:xe.links)||[]:k.subsectionIndex!==void 0?((ke=je==null?void 0:je.subsections[k.subsectionIndex])==null?void 0:ke.links)||[]:(je==null?void 0:je.links)||[]}return[]},_e=De=>{k.type==="header"||k.type==="footer"||k.sectionIndex!==void 0&&L(xe=>{const ke=[...xe],je=ke[k.sectionIndex];return k.subSubsectionIndex!==void 0?je.subsections[k.subsectionIndex].subSubsections[k.subSubsectionIndex].images=De:k.subsectionIndex!==void 0?je.subsections[k.subsectionIndex].images=De:je.images=De,ke})},Ke=De=>{k.type==="header"||k.type==="footer"||k.sectionIndex!==void 0&&L(xe=>{const ke=[...xe],je=ke[k.sectionIndex];return k.subSubsectionIndex!==void 0?je.subsections[k.subsectionIndex].subSubsections[k.subSubsectionIndex].links=De:k.subsectionIndex!==void 0?je.subsections[k.subsectionIndex].links=De:je.links=De,ke})},ot=()=>k.type==="header"?"header":k.type==="footer"?"footer":k.sectionIndex!==void 0?k.subSubsectionIndex!==void 0?`section-${k.sectionIndex}-subsection-${k.subsectionIndex}-subsubsection-${k.subSubsectionIndex}`:k.subsectionIndex!==void 0?`section-${k.sectionIndex}-subsection-${k.subsectionIndex}`:`section-${k.sectionIndex}`:"unknown";return f.jsxs(ge,{sx:{display:"flex",flexGrow:1,flexDirection:"column",minHeight:"100vh"},children:[f.jsxs(fn,{elevation:1,sx:{p:3,mb:2,backgroundColor:ht.palette.background.paper,borderRadius:0},children:[f.jsxs(ge,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},justifyContent:"space-between",alignItems:{xs:"stretch",md:"center"},mb:3,gap:2},children:[f.jsx(qT,{courseId:(e==null?void 0:e.course)||g}),f.jsxs(ge,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:2,alignItems:"center",width:{xs:"100%",md:"auto"}},children:[f.jsxs(w6,{value:te,exclusive:!0,onChange:(De,xe)=>xe&&U(xe),size:"small",sx:{backgroundColor:ht.palette.background.paper,borderRadius:Zt.xl,width:{xs:"100%",sm:"auto"},"& .MuiToggleButton-root":{borderRadius:Zt.xl,textTransform:"none",fontWeight:600,flex:{xs:1,sm:"none"},"&.Mui-selected":{backgroundColor:ht.palette.primary.main,color:ht.palette.primary.contrastText}}},children:[f.jsxs(Q0,{value:"manual",children:[f.jsx(vu,{sx:{mr:1}}),"Manual"]}),f.jsxs(Q0,{value:"ai",children:[f.jsx(eR,{sx:{mr:1}}),"AI Import"]})]}),f.jsx(ge,{sx:{width:{xs:"100%",sm:"200px",md:"250px"}},children:f.jsx(yH,{value:g,onChange:b,disabled:!!m})})]})]}),f.jsx(Bt,{fullWidth:!0,label:"Material Title",value:y,onChange:De=>A(De.target.value),variant:"outlined",sx:{"& .MuiOutlinedInput-root":{borderRadius:Zt.xl}}})]}),f.jsxs(ge,{sx:{display:"flex",flexGrow:1,minHeight:0},children:[f.jsx(iv,{children:f.jsx(zT,{sections:z,selected:k,onAddSection:()=>{const De={id:Ri(),title:`Section ${z.length+1}`,content:"",subsections:[],images:[],links:[]};L(xe=>[...xe,De]),M({sectionIndex:z.length})},onAddSubsection:De=>{L(xe=>{const ke=[...xe],je=ke[De].subsections,ct={id:Ri(),title:`Subsection ${je.length+1}`,content:"",subSubsections:[],images:[],links:[]};return ke[De].subsections=[...je,ct],ke})},onAddSubSubsection:(De,xe)=>{L(ke=>{const je=[...ke],ct=je[De].subsections[xe].subSubsections,Je={id:Ri(),title:`Sub-subsection ${ct.length+1}`,content:"",images:[],links:[]};return je[De].subsections[xe].subSubsections=[...ct,Je],je})},onSelectSection:V,onUpdateSectionTitle:(De,xe)=>{L(ke=>{const je=[...ke];return je[De].title=xe,je})},onUpdateSubsectionTitle:(De,xe,ke)=>{L(je=>{const ct=[...je];return ct[De].subsections[xe].title=ke,ct})},onUpdateSubSubsectionTitle:(De,xe,ke,je)=>{L(ct=>{const Je=[...ct];return Je[De].subsections[xe].subSubsections[ke].title=je,Je})},onDeleteSection:De=>{L(xe=>xe.filter((ke,je)=>je!==De)),M({sectionIndex:0})},onDeleteSubsection:(De,xe)=>{L(ke=>{const je=[...ke];return je[De].subsections=je[De].subsections.filter((ct,Je)=>Je!==xe),je})},onDeleteSubSubsection:(De,xe,ke)=>{L(je=>{const ct=[...je];return ct[De].subsections[xe].subSubsections=ct[De].subsections[xe].subSubsections.filter((Je,Rt)=>Rt!==ke),ct})},isViewMode:!1})}),f.jsx(ge,{sx:{flexGrow:1,p:4,overflow:"auto"},children:te==="ai"?f.jsx(X.Suspense,{fallback:f.jsx(Gr,{}),children:f.jsx(rQ,{courseId:g,authorId:(t==null?void 0:t.uid)||"",imageUploadProgress:Z,isSaving:ve,onMaterialReady:async De=>{console.log(" AI Material ready callback triggered:",De);try{ye(!0),ne({completed:0,total:1});const xe=Ri(),ke=await Gw(g,(t==null?void 0:t.uid)||"",xe,(Je,Rt)=>{console.log(` Image upload progress: ${Je}/${Rt}`),ne({completed:Je,total:Rt})});console.log(" Material with images converted:",ke);const je={...ke,sections:Array.isArray(ke.sections)?ke.sections:[]},ct=await Ma(wn(r,"materials"),{...je,timestamp:Qf(),scheduledTimestamp:null});console.log(" Material saved to Firestore with ID:",ct.id),await Wr(ct,{id:ct.id}),console.log(" Material updated with correct ID:",ct.id),O("AI-imported material saved successfully!"),N("success"),Q(!0),re(!1),Id.getState().resetImport(),U("manual"),ye(!1),ne(null),n(`/edit-material/${ct.id}`)}catch(xe){console.error(" Failed to save AI material:",xe),O("Failed to save AI-imported material. Please try again."),N("error"),Q(!0),ye(!1),ne(null)}},onCancel:()=>U("manual"),onError:(De,xe)=>{console.error("Material Import Error:",De,xe),O(`Import error: ${De.message}`),N("error"),Q(!0)}})}):f.jsxs(ge,{children:[f.jsx(Bt,{fullWidth:!0,label:"Section Title",value:se(),onChange:De=>we(De.target.value),variant:"outlined",sx:{mb:3}}),f.jsx(fn,{elevation:0,sx:{p:3,mb:3,backgroundColor:ht.palette.background.paper,borderRadius:Zt.xl,border:`1px solid ${ht.palette.divider}`},children:f.jsx(gH,{content:Se(),onChange:he})}),k.sectionIndex!==void 0&&f.jsxs(ge,{sx:{mb:3},children:[f.jsx(fn,{elevation:0,sx:{p:3,mb:2,backgroundColor:ht.palette.background.paper,borderRadius:Zt.xl,border:`1px solid ${ht.palette.divider}`},children:f.jsx(EF,{sectionId:ot(),images:Le(),onImagesChange:_e})}),f.jsx(fn,{elevation:0,sx:{p:3,backgroundColor:ht.palette.background.paper,borderRadius:Zt.xl,border:`1px solid ${ht.palette.divider}`},children:f.jsx(_F,{links:Pe(),onLinksChange:Ke})})]}),le&&f.jsx(ge,{sx:{mb:3},children:f.jsx(nQ,{value:G,onChange:ee})}),Z&&f.jsx(ge,{sx:{mb:3},children:f.jsxs(fn,{elevation:1,sx:{p:2,backgroundColor:ht.palette.background.paper,borderRadius:Zt.xl,border:`1px solid ${ht.palette.divider}`},children:[f.jsxs(ce,{variant:"body2",sx:{mb:1,color:ht.palette.text.secondary},children:["Uploading images... (",Z.completed," of ",Z.total,")"]}),f.jsx(Xo,{variant:"determinate",value:Z.completed/Z.total*100,sx:{borderRadius:Zt.xl,height:8,backgroundColor:ht.palette.grey[200],"& .MuiLinearProgress-bar":{borderRadius:Zt.xl,backgroundColor:ht.palette.primary.main}}})]})}),f.jsxs(ge,{sx:{display:"flex",gap:2,justifyContent:"flex-end",flexWrap:"wrap"},children:[f.jsx(mt,{variant:"outlined",onClick:De=>We(De,!1),startIcon:f.jsx(I0,{}),sx:{textTransform:"none"},children:"Save Draft"}),f.jsx(mt,{variant:"contained",onClick:De=>We(De,!0),startIcon:f.jsx(tR,{}),sx:{textTransform:"none"},children:"Publish"}),f.jsx(mt,{variant:"outlined",onClick:de,startIcon:f.jsx(G0,{}),sx:{textTransform:"none",borderColor:ht.palette.primary.main,color:ht.palette.primary.main,"&:hover":{backgroundColor:ht.palette.primary.main,color:ht.palette.primary.contrastText}},children:"Schedule Publish"})]})]})})]}),f.jsx(rl,{open:q,autoHideDuration:6e3,onClose:()=>Q(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:f.jsx(vr,{onClose:()=>Q(!1),severity:R,sx:{width:"100%"},children:T})})]})},iQ=()=>{const{id:e}=N6(),n=Jn(),{userDetails:t}=Ai(),[r,i]=X.useState(null),a=X.useMemo(()=>t!=null&&t.classes?Object.entries(t.classes).filter(([l,c])=>c.isCourseAdmin).map(([l])=>l):[],[t==null?void 0:t.classes]);X.useEffect(()=>{e&&(async()=>{try{const c=xn(n,"materials",e),d=await Oa(c);if(d.exists()){const h={id:d.id,...d.data()};console.log("Material data from Firestore:",h),console.log("Sections type:",typeof h.sections),console.log("Sections value:",h.sections),Array.isArray(h.sections)||(console.warn("Sections is not an array, initializing as empty array. Original value:",h.sections),h.sections=[]),h.sections=h.sections.map(g=>({id:g.id||Ri(),title:g.title||"Untitled Section",content:g.content||"",images:Array.isArray(g.images)?g.images.map(m=>({...m,title:m.title||""})):[],links:Array.isArray(g.links)?g.links:[],subsections:Array.isArray(g.subsections)?g.subsections.map(m=>({id:m.id||Ri(),title:m.title||"Untitled Subsection",content:m.content||"",images:Array.isArray(m.images)?m.images.map(x=>({...x,title:x.title||""})):[],links:Array.isArray(m.links)?m.links:[],subSubsections:Array.isArray(m.subSubsections)?m.subSubsections.map(x=>({id:x.id||Ri(),title:x.title||"Untitled Sub-subsection",content:x.content||"",images:Array.isArray(x.images)?x.images.map(y=>({...y,title:y.title||""})):[],links:Array.isArray(x.links)?x.links:[]})):[]})):[]})),h.course=a.includes(h.course)?h.course:a[0]||"",i(h)}}catch(c){console.error("Error fetching material:",c)}})()},[e,n,t,a]);const s=async l=>{try{if(e){const c=xn(n,"materials",e);await Wr(c,{...l})}}catch(c){console.error("Error updating material:",c)}};return r?f.jsx(OO,{materialData:r,onSubmit:s}):f.jsx(ge,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:f.jsx(Gr,{})})},kk=({children:e,...n})=>f.jsx(ge,{...n,sx:{marginBottom:4,textAlign:"center",position:"relative"},children:e}),aQ=({src:e,alt:n,...t})=>f.jsx("img",{src:e,alt:n,...t,style:{maxWidth:"100%",maxHeight:"500px",marginBottom:8,borderRadius:8,boxShadow:"0 4px 12px rgba(0,0,0,0.1)",transition:"all 0.3s ease-in-out",...t.style},onMouseEnter:r=>{r.currentTarget.style.transform="scale(1.02)",r.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.15)"},onMouseLeave:r=>{r.currentTarget.style.transform="scale(1)",r.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)"}}),sQ=e=>f.jsx(nR,{...e,sx:{borderRadius:1,marginBottom:1}}),oQ=({src:e,alt:n,title:t})=>{const[r,i]=X.useState(!1),[a,s]=X.useState(!1),[l]=X.useState(0);return X.useEffect(()=>{i(!1),s(!1);const c=new Image;return c.src=e,c.onload=()=>{console.log(` SmartImage loaded: ${e.substring(0,50)}...`),i(!0)},c.onerror=d=>{console.error(` SmartImage failed to load: ${e}`,d),console.error("Image details:",{src:e,naturalWidth:c.naturalWidth,naturalHeight:c.naturalHeight,complete:c.complete}),console.error("Image load failed. URL accessible via curl but blocked in browser."),console.error("This is likely a Firebase Storage CORS configuration issue."),console.error(`Fix: Configure CORS to allow ${window.location.origin}`),s(!0)},()=>{c.onload=null,c.onerror=null}},[e,l]),a?f.jsxs(kk,{children:[f.jsxs(ge,{sx:{width:"100%",maxWidth:400,height:200,bgcolor:"#ffebee",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:1,border:"1px dashed #f44336",p:2},children:[f.jsx(ce,{variant:"body2",color:"error",gutterBottom:!0,children:"Image failed to load"}),f.jsx(ce,{variant:"caption",color:"text.secondary",sx:{textAlign:"center",wordBreak:"break-all"},children:t}),f.jsxs(ce,{variant:"caption",color:"text.secondary",sx:{mt:1,fontSize:"0.7rem"},children:["URL: ",e.substring(0,60),"..."]})]}),f.jsx(ce,{variant:"body2",sx:{fontStyle:"italic",mt:1},children:t})]}):f.jsxs(kk,{children:[!r&&f.jsx(sQ,{variant:"rectangular",width:"100%",height:300,sx:{maxWidth:400}}),f.jsx(qw,{in:r,timeout:500,children:f.jsx(ge,{sx:{display:r?"block":"none"},children:f.jsx(aQ,{src:e,alt:n,loading:"lazy"})})}),r&&f.jsx(qw,{in:r,timeout:700,children:f.jsx(ce,{variant:"body2",sx:{fontStyle:"italic",color:"text.secondary"},children:t})})]})},X5=({images:e})=>f.jsx(ge,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mt:2},children:e.map((n,t)=>f.jsx(oQ,{src:n.url,alt:`Image ${t+1}`,title:n.title,index:t},`${n.url}-${t}`))}),lQ=e=>!e.startsWith("http://")&&!e.startsWith("https://")?`https://${e}`:e,uQ=({links:e})=>e.length===0?null:f.jsxs(ge,{sx:{mt:2,width:"50%"},children:[f.jsx(ce,{variant:"h6",sx:{fontWeight:"bold",mb:2},children:"Links"}),f.jsxs(ge,{sx:{display:"flex",mb:1,borderBottom:"1px solid gray"},children:[f.jsx(ce,{sx:{flexBasis:"30%",fontWeight:"bold"},children:"Title"}),f.jsx(ce,{sx:{flexBasis:"30%",fontWeight:"bold"},children:"URL"}),f.jsx(ce,{sx:{flexBasis:"40%",fontWeight:"bold"},children:"Description"})]}),e.map((n,t)=>f.jsx(ge,{children:f.jsxs(ge,{sx:{display:"flex",alignItems:"center",mb:1,flexWrap:"wrap",borderBottom:"1px solid lightgray"},children:[f.jsx(ce,{sx:{flexBasis:"30%",fontStyle:"italic",wordWrap:"break-word",paddingRight:"8px"},children:n.title}),f.jsx(S6,{sx:{flexBasis:"30%",wordWrap:"break-word",paddingRight:"8px"},href:lQ(n.url),target:"_blank",rel:"noopener",children:n.url}),f.jsx(ce,{sx:{flexBasis:"40%",wordWrap:"break-word"},children:n.description})]})},t))]});var Ps=Uint8Array,Qo=Uint16Array,dA=Int32Array,Av=new Ps([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Cv=new Ps([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),CS=new Ps([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),IO=function(e,n){for(var t=new Qo(31),r=0;r<31;++r)t[r]=n+=1<<e[r-1];for(var i=new dA(t[30]),r=1;r<30;++r)for(var a=t[r];a<t[r+1];++a)i[a]=a-t[r]<<5|r;return{b:t,r:i}},DO=IO(Av,2),LO=DO.b,ES=DO.r;LO[28]=258,ES[258]=28;var RO=IO(Cv,0),cQ=RO.b,jk=RO.r,_S=new Qo(32768);for(var hi=0;hi<32768;++hi){var Lf=(hi&43690)>>1|(hi&21845)<<1;Lf=(Lf&52428)>>2|(Lf&13107)<<2,Lf=(Lf&61680)>>4|(Lf&3855)<<4,_S[hi]=((Lf&65280)>>8|(Lf&255)<<8)>>1}var Oc=function(e,n,t){for(var r=e.length,i=0,a=new Qo(n);i<r;++i)e[i]&&++a[e[i]-1];var s=new Qo(n);for(i=1;i<n;++i)s[i]=s[i-1]+a[i-1]<<1;var l;if(t){l=new Qo(1<<n);var c=15-n;for(i=0;i<r;++i)if(e[i])for(var d=i<<4|e[i],h=n-e[i],g=s[e[i]-1]++<<h,b=g|(1<<h)-1;g<=b;++g)l[_S[g]>>c]=d}else for(l=new Qo(r),i=0;i<r;++i)e[i]&&(l[i]=_S[s[e[i]-1]++]>>15-e[i]);return l},ah=new Ps(288);for(var hi=0;hi<144;++hi)ah[hi]=8;for(var hi=144;hi<256;++hi)ah[hi]=9;for(var hi=256;hi<280;++hi)ah[hi]=7;for(var hi=280;hi<288;++hi)ah[hi]=8;var Sg=new Ps(32);for(var hi=0;hi<32;++hi)Sg[hi]=5;var dQ=Oc(ah,9,0),fQ=Oc(ah,9,1),hQ=Oc(Sg,5,0),pQ=Oc(Sg,5,1),Z5=function(e){for(var n=e[0],t=1;t<e.length;++t)e[t]>n&&(n=e[t]);return n},du=function(e,n,t){var r=n/8|0;return(e[r]|e[r+1]<<8)>>(n&7)&t},J5=function(e,n){var t=n/8|0;return(e[t]|e[t+1]<<8|e[t+2]<<16)>>(n&7)},fA=function(e){return(e+7)/8|0},MO=function(e,n,t){return(t==null||t>e.length)&&(t=e.length),new Ps(e.subarray(n,t))},mQ=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],mu=function(e,n,t){var r=new Error(n||mQ[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,mu),!t)throw r;return r},gQ=function(e,n,t,r){var i=e.length,a=0;if(!i||n.f&&!n.l)return t||new Ps(0);var s=!t,l=s||n.i!=2,c=n.i;s&&(t=new Ps(i*3));var d=function(Ie){var $e=t.length;if(Ie>$e){var We=new Ps(Math.max($e*2,Ie));We.set(t),t=We}},h=n.f||0,g=n.p||0,b=n.b||0,m=n.l,x=n.d,y=n.m,A=n.n,w=i*8;do{if(!m){h=du(e,g,1);var C=du(e,g+1,3);if(g+=3,C)if(C==1)m=fQ,x=pQ,y=9,A=5;else if(C==2){var L=du(e,g,31)+257,k=du(e,g+10,15)+4,M=L+du(e,g+5,31)+1;g+=14;for(var q=new Ps(M),Q=new Ps(19),T=0;T<k;++T)Q[CS[T]]=du(e,g+T*3,7);g+=k*3;for(var O=Z5(Q),R=(1<<O)-1,N=Oc(Q,O,1),T=0;T<M;){var K=N[du(e,g,R)];g+=K&15;var j=K>>4;if(j<16)q[T++]=j;else{var H=0,G=0;for(j==16?(G=3+du(e,g,3),g+=2,H=q[T-1]):j==17?(G=3+du(e,g,7),g+=3):j==18&&(G=11+du(e,g,127),g+=7);G--;)q[T++]=H}}var ee=q.subarray(0,L),le=q.subarray(L);y=Z5(ee),A=Z5(le),m=Oc(ee,y,1),x=Oc(le,A,1)}else mu(1);else{var j=fA(g)+4,F=e[j-4]|e[j-3]<<8,z=j+F;if(z>i){c&&mu(0);break}l&&d(b+F),t.set(e.subarray(j,z),b),n.b=b+=F,n.p=g=z*8,n.f=h;continue}if(g>w){c&&mu(0);break}}l&&d(b+131072);for(var Y=(1<<y)-1,te=(1<<A)-1,U=g;;U=g){var H=m[J5(e,g)&Y],B=H>>4;if(g+=H&15,g>w){c&&mu(0);break}if(H||mu(2),B<256)t[b++]=B;else if(B==256){U=g,m=null;break}else{var re=B-254;if(B>264){var T=B-257,Z=Av[T];re=du(e,g,(1<<Z)-1)+LO[T],g+=Z}var ne=x[J5(e,g)&te],ve=ne>>4;ne||mu(3),g+=ne&15;var le=cQ[ve];if(ve>3){var Z=Cv[ve];le+=J5(e,g)&(1<<Z)-1,g+=Z}if(g>w){c&&mu(0);break}l&&d(b+131072);var ye=b+re;if(b<le){var Ce=a-le,Oe=Math.min(le,ye);for(Ce+b<0&&mu(3);b<Oe;++b)t[b]=r[Ce+b]}for(;b<ye;++b)t[b]=t[b-le]}}n.l=m,n.p=U,n.b=b,n.f=h,m&&(h=1,n.m=y,n.d=x,n.n=A)}while(!h);return b!=t.length&&s?MO(t,0,b):t.subarray(0,b)},vd=function(e,n,t){t<<=n&7;var r=n/8|0;e[r]|=t,e[r+1]|=t>>8},b1=function(e,n,t){t<<=n&7;var r=n/8|0;e[r]|=t,e[r+1]|=t>>8,e[r+2]|=t>>16},ew=function(e,n){for(var t=[],r=0;r<e.length;++r)e[r]&&t.push({s:r,f:e[r]});var i=t.length,a=t.slice();if(!i)return{t:PO,l:0};if(i==1){var s=new Ps(t[0].s+1);return s[t[0].s]=1,{t:s,l:1}}t.sort(function(z,L){return z.f-L.f}),t.push({s:-1,f:25001});var l=t[0],c=t[1],d=0,h=1,g=2;for(t[0]={s:-1,f:l.f+c.f,l,r:c};h!=i-1;)l=t[t[d].f<t[g].f?d++:g++],c=t[d!=h&&t[d].f<t[g].f?d++:g++],t[h++]={s:-1,f:l.f+c.f,l,r:c};for(var b=a[0].s,r=1;r<i;++r)a[r].s>b&&(b=a[r].s);var m=new Qo(b+1),x=kS(t[h-1],m,0);if(x>n){var r=0,y=0,A=x-n,w=1<<A;for(a.sort(function(L,k){return m[k.s]-m[L.s]||L.f-k.f});r<i;++r){var C=a[r].s;if(m[C]>n)y+=w-(1<<x-m[C]),m[C]=n;else break}for(y>>=A;y>0;){var j=a[r].s;m[j]<n?y-=1<<n-m[j]++-1:++r}for(;r>=0&&y;--r){var F=a[r].s;m[F]==n&&(--m[F],++y)}x=n}return{t:new Ps(m),l:x}},kS=function(e,n,t){return e.s==-1?Math.max(kS(e.l,n,t+1),kS(e.r,n,t+1)):n[e.s]=t},Nk=function(e){for(var n=e.length;n&&!e[--n];);for(var t=new Qo(++n),r=0,i=e[0],a=1,s=function(c){t[r++]=c},l=1;l<=n;++l)if(e[l]==i&&l!=n)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=e[l]}return{c:t.subarray(0,r),n}},y1=function(e,n){for(var t=0,r=0;r<n.length;++r)t+=e[r]*n[r];return t},FO=function(e,n,t){var r=t.length,i=fA(n+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<r;++a)e[i+a+4]=t[a];return(i+4+r)*8},Tk=function(e,n,t,r,i,a,s,l,c,d,h){vd(n,h++,t),++i[256];for(var g=ew(i,15),b=g.t,m=g.l,x=ew(a,15),y=x.t,A=x.l,w=Nk(b),C=w.c,j=w.n,F=Nk(y),z=F.c,L=F.n,k=new Qo(19),M=0;M<C.length;++M)++k[C[M]&31];for(var M=0;M<z.length;++M)++k[z[M]&31];for(var q=ew(k,7),Q=q.t,T=q.l,O=19;O>4&&!Q[CS[O-1]];--O);var R=d+5<<3,N=y1(i,ah)+y1(a,Sg)+s,K=y1(i,b)+y1(a,y)+s+14+3*O+y1(k,Q)+2*k[16]+3*k[17]+7*k[18];if(c>=0&&R<=N&&R<=K)return FO(n,h,e.subarray(c,c+d));var H,G,ee,le;if(vd(n,h,1+(K<N)),h+=2,K<N){H=Oc(b,m,0),G=b,ee=Oc(y,A,0),le=y;var Y=Oc(Q,T,0);vd(n,h,j-257),vd(n,h+5,L-1),vd(n,h+10,O-4),h+=14;for(var M=0;M<O;++M)vd(n,h+3*M,Q[CS[M]]);h+=3*O;for(var te=[C,z],U=0;U<2;++U)for(var B=te[U],M=0;M<B.length;++M){var re=B[M]&31;vd(n,h,Y[re]),h+=Q[re],re>15&&(vd(n,h,B[M]>>5&127),h+=B[M]>>12)}}else H=dQ,G=ah,ee=hQ,le=Sg;for(var M=0;M<l;++M){var Z=r[M];if(Z>255){var re=Z>>18&31;b1(n,h,H[re+257]),h+=G[re+257],re>7&&(vd(n,h,Z>>23&31),h+=Av[re]);var ne=Z&31;b1(n,h,ee[ne]),h+=le[ne],ne>3&&(b1(n,h,Z>>5&8191),h+=Cv[ne])}else b1(n,h,H[Z]),h+=G[Z]}return b1(n,h,H[256]),h+G[256]},bQ=new dA([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),PO=new Ps(0),yQ=function(e,n,t,r,i,a){var s=a.z||e.length,l=new Ps(r+s+5*(1+Math.ceil(s/7e3))+i),c=l.subarray(r,l.length-i),d=a.l,h=(a.r||0)&7;if(n){h&&(c[0]=a.r>>3);for(var g=bQ[n-1],b=g>>13,m=g&8191,x=(1<<t)-1,y=a.p||new Qo(32768),A=a.h||new Qo(x+1),w=Math.ceil(t/3),C=2*w,j=function(V){return(e[V]^e[V+1]<<w^e[V+2]<<C)&x},F=new dA(25e3),z=new Qo(288),L=new Qo(32),k=0,M=0,q=a.i||0,Q=0,T=a.w||0,O=0;q+2<s;++q){var R=j(q),N=q&32767,K=A[R];if(y[N]=K,A[R]=N,T<=q){var H=s-q;if((k>7e3||Q>24576)&&(H>423||!d)){h=Tk(e,c,0,F,z,L,M,Q,O,q-O,h),Q=k=M=0,O=q;for(var G=0;G<286;++G)z[G]=0;for(var G=0;G<30;++G)L[G]=0}var ee=2,le=0,Y=m,te=N-K&32767;if(H>2&&R==j(q-te))for(var U=Math.min(b,H)-1,B=Math.min(32767,q),re=Math.min(258,H);te<=B&&--Y&&N!=K;){if(e[q+ee]==e[q+ee-te]){for(var Z=0;Z<re&&e[q+Z]==e[q+Z-te];++Z);if(Z>ee){if(ee=Z,le=te,Z>U)break;for(var ne=Math.min(te,Z-2),ve=0,G=0;G<ne;++G){var ye=q-te+G&32767,Ce=y[ye],Oe=ye-Ce&32767;Oe>ve&&(ve=Oe,K=ye)}}}N=K,K=y[N],te+=N-K&32767}if(le){F[Q++]=268435456|ES[ee]<<18|jk[le];var Ie=ES[ee]&31,$e=jk[le]&31;M+=Av[Ie]+Cv[$e],++z[257+Ie],++L[$e],T=q+ee,++k}else F[Q++]=e[q],++z[e[q]]}}for(q=Math.max(q,T);q<s;++q)F[Q++]=e[q],++z[e[q]];h=Tk(e,c,d,F,z,L,M,Q,O,q-O,h),d||(a.r=h&7|c[h/8|0]<<3,h-=7,a.h=A,a.p=y,a.i=q,a.w=T)}else{for(var q=a.w||0;q<s+d;q+=65535){var We=q+65535;We>=s&&(c[h/8|0]=d,We=s),h=FO(c,h+1,e.subarray(q,We))}a.i=s}return MO(l,0,r+fA(h)+i)},zO=function(){var e=1,n=0;return{p:function(t){for(var r=e,i=n,a=t.length|0,s=0;s!=a;){for(var l=Math.min(s+2655,a);s<l;++s)i+=r+=t[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,n=i},d:function(){return e%=65521,n%=65521,(e&255)<<24|(e&65280)<<8|(n&255)<<8|n>>8}}},xQ=function(e,n,t,r,i){if(!i&&(i={l:1},n.dictionary)){var a=n.dictionary.subarray(-32768),s=new Ps(a.length+e.length);s.set(a),s.set(e,a.length),e=s,i.w=a.length}return yQ(e,n.level==null?6:n.level,n.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+n.mem,t,r,i)},qO=function(e,n,t){for(;t;++n)e[n]=t,t>>>=8},vQ=function(e,n){var t=n.level,r=t==0?0:t<6?1:t==9?3:2;if(e[0]=120,e[1]=r<<6|(n.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,n.dictionary){var i=zO();i.p(n.dictionary),qO(e,2,i.d())}},wQ=function(e,n){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&mu(6,"invalid zlib data"),(e[1]>>5&1)==1&&mu(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function jS(e,n){n||(n={});var t=zO();t.p(e);var r=xQ(e,n,n.dictionary?6:2,4);return vQ(r,n),qO(r,r.length-4,t.d()),r}function SQ(e,n){return gQ(e.subarray(wQ(e),-4),{i:2},n,n)}var AQ=typeof TextDecoder<"u"&&new TextDecoder,CQ=0;try{AQ.decode(PO,{stream:!0}),CQ=1}catch{}var dn=function(){return typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:this}();function tw(){dn.console&&typeof dn.console.log=="function"&&dn.console.log.apply(dn.console,arguments)}var Zr={log:tw,warn:function(e){dn.console&&(typeof dn.console.warn=="function"?dn.console.warn.apply(dn.console,arguments):tw.call(null,arguments))},error:function(e){dn.console&&(typeof dn.console.error=="function"?dn.console.error.apply(dn.console,arguments):tw(e))}};function nw(e,n,t){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){Vh(r.response,n,t)},r.onerror=function(){Zr.error("could not download file")},r.send()}function Ok(e){var n=new XMLHttpRequest;n.open("HEAD",e,!1);try{n.send()}catch{}return n.status>=200&&n.status<=299}function Oy(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}var Z1,NS,Vh=dn.saveAs||((typeof window>"u"?"undefined":Jr(window))!=="object"||window!==dn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,n,t){var r=dn.URL||dn.webkitURL,i=document.createElement("a");n=n||e.name||"download",i.download=n,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?Ok(i.href)?nw(e,n,t):Oy(i,i.target="_blank"):Oy(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Oy(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,n,t){if(n=n||e.name||"download",typeof e=="string")if(Ok(e))nw(e,n,t);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Oy(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:Jr(a)!=="object"&&(Zr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,t),n)}:function(e,n,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return nw(e,n,t);var i=e.type==="application/octet-stream",a=/constructor/i.test(dn.HTMLElement)||dn.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":Jr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var h=l.result;h=s?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=h:location=h,r=null},l.readAsDataURL(e)}else{var c=dn.URL||dn.webkitURL,d=c.createObjectURL(e);r?r.location=d:location.href=d,r=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function BO(e){var n;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,a=t[r].process,s=i.exec(e);s&&(n=a(s),this.r=n[0],this.g=n[1],this.b=n[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function rw(e,n){var t=e[0],r=e[1],i=e[2],a=e[3];t=Ts(t,r,i,a,n[0],7,-680876936),a=Ts(a,t,r,i,n[1],12,-389564586),i=Ts(i,a,t,r,n[2],17,606105819),r=Ts(r,i,a,t,n[3],22,-1044525330),t=Ts(t,r,i,a,n[4],7,-176418897),a=Ts(a,t,r,i,n[5],12,1200080426),i=Ts(i,a,t,r,n[6],17,-1473231341),r=Ts(r,i,a,t,n[7],22,-45705983),t=Ts(t,r,i,a,n[8],7,1770035416),a=Ts(a,t,r,i,n[9],12,-1958414417),i=Ts(i,a,t,r,n[10],17,-42063),r=Ts(r,i,a,t,n[11],22,-1990404162),t=Ts(t,r,i,a,n[12],7,1804603682),a=Ts(a,t,r,i,n[13],12,-40341101),i=Ts(i,a,t,r,n[14],17,-1502002290),t=Os(t,r=Ts(r,i,a,t,n[15],22,1236535329),i,a,n[1],5,-165796510),a=Os(a,t,r,i,n[6],9,-1069501632),i=Os(i,a,t,r,n[11],14,643717713),r=Os(r,i,a,t,n[0],20,-373897302),t=Os(t,r,i,a,n[5],5,-701558691),a=Os(a,t,r,i,n[10],9,38016083),i=Os(i,a,t,r,n[15],14,-660478335),r=Os(r,i,a,t,n[4],20,-405537848),t=Os(t,r,i,a,n[9],5,568446438),a=Os(a,t,r,i,n[14],9,-1019803690),i=Os(i,a,t,r,n[3],14,-187363961),r=Os(r,i,a,t,n[8],20,1163531501),t=Os(t,r,i,a,n[13],5,-1444681467),a=Os(a,t,r,i,n[2],9,-51403784),i=Os(i,a,t,r,n[7],14,1735328473),t=Is(t,r=Os(r,i,a,t,n[12],20,-1926607734),i,a,n[5],4,-378558),a=Is(a,t,r,i,n[8],11,-2022574463),i=Is(i,a,t,r,n[11],16,1839030562),r=Is(r,i,a,t,n[14],23,-35309556),t=Is(t,r,i,a,n[1],4,-1530992060),a=Is(a,t,r,i,n[4],11,1272893353),i=Is(i,a,t,r,n[7],16,-155497632),r=Is(r,i,a,t,n[10],23,-1094730640),t=Is(t,r,i,a,n[13],4,681279174),a=Is(a,t,r,i,n[0],11,-358537222),i=Is(i,a,t,r,n[3],16,-722521979),r=Is(r,i,a,t,n[6],23,76029189),t=Is(t,r,i,a,n[9],4,-640364487),a=Is(a,t,r,i,n[12],11,-421815835),i=Is(i,a,t,r,n[15],16,530742520),t=Ds(t,r=Is(r,i,a,t,n[2],23,-995338651),i,a,n[0],6,-198630844),a=Ds(a,t,r,i,n[7],10,1126891415),i=Ds(i,a,t,r,n[14],15,-1416354905),r=Ds(r,i,a,t,n[5],21,-57434055),t=Ds(t,r,i,a,n[12],6,1700485571),a=Ds(a,t,r,i,n[3],10,-1894986606),i=Ds(i,a,t,r,n[10],15,-1051523),r=Ds(r,i,a,t,n[1],21,-2054922799),t=Ds(t,r,i,a,n[8],6,1873313359),a=Ds(a,t,r,i,n[15],10,-30611744),i=Ds(i,a,t,r,n[6],15,-1560198380),r=Ds(r,i,a,t,n[13],21,1309151649),t=Ds(t,r,i,a,n[4],6,-145523070),a=Ds(a,t,r,i,n[11],10,-1120210379),i=Ds(i,a,t,r,n[2],15,718787259),r=Ds(r,i,a,t,n[9],21,-343485551),e[0]=Vf(t,e[0]),e[1]=Vf(r,e[1]),e[2]=Vf(i,e[2]),e[3]=Vf(a,e[3])}function Ev(e,n,t,r,i,a){return n=Vf(Vf(n,e),Vf(r,a)),Vf(n<<i|n>>>32-i,t)}function Ts(e,n,t,r,i,a,s){return Ev(n&t|~n&r,e,n,i,a,s)}function Os(e,n,t,r,i,a,s){return Ev(n&r|t&~r,e,n,i,a,s)}function Is(e,n,t,r,i,a,s){return Ev(n^t^r,e,n,i,a,s)}function Ds(e,n,t,r,i,a,s){return Ev(t^(n|~r),e,n,i,a,s)}function UO(e){var n,t=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=e.length;n+=64)rw(r,EQ(e.substring(n-64,n)));e=e.substring(n-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<e.length;n++)i[n>>2]|=e.charCodeAt(n)<<(n%4<<3);if(i[n>>2]|=128<<(n%4<<3),n>55)for(rw(r,i),n=0;n<16;n++)i[n]=0;return i[14]=8*t,rw(r,i),r}function EQ(e){var n,t=[];for(n=0;n<64;n+=4)t[n>>2]=e.charCodeAt(n)+(e.charCodeAt(n+1)<<8)+(e.charCodeAt(n+2)<<16)+(e.charCodeAt(n+3)<<24);return t}Z1=dn.atob.bind(dn),NS=dn.btoa.bind(dn);var Ik="0123456789abcdef".split("");function _Q(e){for(var n="",t=0;t<4;t++)n+=Ik[e>>8*t+4&15]+Ik[e>>8*t&15];return n}function kQ(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function TS(e){return UO(e).map(kQ).join("")}var jQ=function(e){for(var n=0;n<e.length;n++)e[n]=_Q(e[n]);return e.join("")}(UO("hello"))!="5d41402abc4b2a76b9719d911017c592";function Vf(e,n){if(jQ){var t=(65535&e)+(65535&n);return(e>>16)+(n>>16)+(t>>16)<<16|65535&t}return e+n&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function OS(e,n){var t,r,i,a;if(e!==t){for(var s=(i=e,a=1+(256/e.length>>0),new Array(a+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var h=l[c];d=(d+h+s.charCodeAt(c))%256,l[c]=l[d],l[d]=h}t=e,r=l}else l=r;var g=n.length,b=0,m=0,x="";for(c=0;c<g;c++)m=(m+(h=l[b=(b+1)%256]))%256,l[b]=l[m],l[m]=h,s=l[(l[b]+l[m])%256],x+=String.fromCharCode(n.charCodeAt(c)^s);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Dk={print:4,modify:8,copy:16,"annot-forms":32};function N0(e,n,t,r){this.v=1,this.r=2;var i=192;e.forEach(function(l){if(Dk.perm!==void 0)throw new Error("Invalid permission: "+l);i+=Dk[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(n+this.padding).substr(0,32),s=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=TS(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=OS(this.encryptionKey,this.padding)}function T0(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var n="",t=e.length,r=0;r<t;r++){var i=e.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?n+="#"+("0"+i.toString(16)).slice(-2):n+=e[r]}return n}function Lk(e){if(Jr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var n={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");n.hasOwnProperty(t)||(n[t]={});var a=Math.random().toString(35);return n[t][a]=[r,!!i],a},this.unsubscribe=function(t){for(var r in n)if(n[r][t])return delete n[r][t],Object.keys(n[r]).length===0&&delete n[r],!0;return!1},this.publish=function(t){if(n.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in n[t]){var s=n[t][a];try{s[0].apply(e,r)}catch(l){dn.console&&Zr.error("jsPDF PubSub Error",l.message,l)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return n}}function Ux(e){if(!(this instanceof Ux))return new Ux(e);var n="opacity,stroke-opacity".split(",");for(var t in e)e.hasOwnProperty(t)&&n.indexOf(t)>=0&&(this[t]=e[t]);this.id="",this.objectNumber=-1}function $O(e,n){this.gState=e,this.matrix=n,this.id="",this.objectNumber=-1}function Yh(e,n,t,r,i){if(!(this instanceof Yh))return new Yh(e,n,t,r,i);this.type=e==="axial"?2:3,this.coords=n,this.colors=t,$O.call(this,r,i)}function O0(e,n,t,r,i){if(!(this instanceof O0))return new O0(e,n,t,r,i);this.boundingBox=e,this.xStep=n,this.yStep=t,this.stream="",this.cloneIndex=0,$O.call(this,r,i)}function on(e){var n,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],s=[],l=1,c=16,d="S",h=null;Jr(e=e||{})==="object"&&(t=e.orientation,r=e.unit||r,i=e.format||i,a=e.compress||e.compressPdf||a,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(n=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),s=e.filters||(a===!0?["FlateEncode"]:s),r=r||"mm",t=(""+(t||"P")).toLowerCase();var g=e.putOnlyUsedFonts||!1,b={},m={internal:{},__private__:{}};m.__private__.PubSub=Lk;var x="1.3",y=m.__private__.getPdfVersion=function(){return x};m.__private__.setPdfVersion=function(D){x=D};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return A};var w=m.__private__.getPageFormat=function(D){return A[D]};i=i||"a4";var C={COMPAT:"compat",ADVANCED:"advanced"},j=C.COMPAT;function F(){this.saveGraphicsState(),se(new Dt(Je,0,0,-Je,0,zu()*Je).toString()+" cm"),this.setFontSize(this.getFontSize()/Je),d="n",j=C.ADVANCED}function z(){this.restoreGraphicsState(),d="S",j=C.COMPAT}var L=m.__private__.combineFontStyleAndFontWeight=function(D,ae){if(D=="bold"&&ae=="normal"||D=="bold"&&ae==400||D=="normal"&&ae=="italic"||D=="bold"&&ae=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ae&&(D=ae==400||ae==="normal"?D==="italic"?"italic":"normal":ae!=700&&ae!=="bold"||D!=="normal"?(ae==700?"bold":ae)+""+D:"bold"),D};m.advancedAPI=function(D){var ae=j===C.COMPAT;return ae&&F.call(this),typeof D!="function"||(D(this),ae&&z.call(this)),this},m.compatAPI=function(D){var ae=j===C.ADVANCED;return ae&&z.call(this),typeof D!="function"||(D(this),ae&&F.call(this)),this},m.isAdvancedAPI=function(){return j===C.ADVANCED};var k,M=function(D){if(j!==C.ADVANCED)throw new Error(D+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},q=m.roundToPrecision=m.__private__.roundToPrecision=function(D,ae){var Ee=n||ae;if(isNaN(D)||isNaN(Ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return D.toFixed(Ee).replace(/0+$/,"")};k=m.hpf=m.__private__.hpf=typeof c=="number"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return q(D,c)}:c==="smart"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return q(D,D>-1&&D<1?16:5)}:function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return q(D,16)};var Q=m.f2=m.__private__.f2=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f2");return q(D,2)},T=m.__private__.f3=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f3");return q(D,3)},O=m.scale=m.__private__.scale=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.scale");return j===C.COMPAT?D*Je:j===C.ADVANCED?D:void 0},R=function(D){return j===C.COMPAT?zu()-D:j===C.ADVANCED?D:void 0},N=function(D){return O(R(D))};m.__private__.setPrecision=m.setPrecision=function(D){typeof parseInt(D,10)=="number"&&(n=parseInt(D,10))};var K,H="00000000000000000000000000000000",G=m.__private__.getFileId=function(){return H},ee=m.__private__.setFileId=function(D){return H=D!==void 0&&/^[a-fA-F0-9]{32}$/.test(D)?D.toUpperCase():H.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(ui=new N0(h.userPermissions,h.userPassword,h.ownerPassword,H)),H};m.setFileId=function(D){return ee(D),this},m.getFileId=function(){return G()};var le=m.__private__.convertDateToPDFDate=function(D){var ae=D.getTimezoneOffset(),Ee=ae<0?"+":"-",Re=Math.floor(Math.abs(ae/60)),Ve=Math.abs(ae%60),dt=[Ee,re(Re),"'",re(Ve),"'"].join("");return["D:",D.getFullYear(),re(D.getMonth()+1),re(D.getDate()),re(D.getHours()),re(D.getMinutes()),re(D.getSeconds()),dt].join("")},Y=m.__private__.convertPDFDateToDate=function(D){var ae=parseInt(D.substr(2,4),10),Ee=parseInt(D.substr(6,2),10)-1,Re=parseInt(D.substr(8,2),10),Ve=parseInt(D.substr(10,2),10),dt=parseInt(D.substr(12,2),10),Ct=parseInt(D.substr(14,2),10);return new Date(ae,Ee,Re,Ve,dt,Ct,0)},te=m.__private__.setCreationDate=function(D){var ae;if(D===void 0&&(D=new Date),D instanceof Date)ae=le(D);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(D))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ae=D}return K=ae},U=m.__private__.getCreationDate=function(D){var ae=K;return D==="jsDate"&&(ae=Y(K)),ae};m.setCreationDate=function(D){return te(D),this},m.getCreationDate=function(D){return U(D)};var B,re=m.__private__.padd2=function(D){return("0"+parseInt(D)).slice(-2)},Z=m.__private__.padd2Hex=function(D){return("00"+(D=D.toString())).substr(D.length)},ne=0,ve=[],ye=[],Ce=0,Oe=[],Ie=[],$e=!1,We=ye,V=function(){ne=0,Ce=0,ye=[],ve=[],Oe=[],jr=fr(),Ia=fr()};m.__private__.setCustomOutputDestination=function(D){$e=!0,We=D};var Se=function(D){$e||(We=D)};m.__private__.resetCustomOutputDestination=function(){$e=!1,We=ye};var se=m.__private__.out=function(D){return D=D.toString(),Ce+=D.length+1,We.push(D),We},he=m.__private__.write=function(D){return se(arguments.length===1?D.toString():Array.prototype.join.call(arguments," "))},de=m.__private__.getArrayBuffer=function(D){for(var ae=D.length,Ee=new ArrayBuffer(ae),Re=new Uint8Array(Ee);ae--;)Re[ae]=D.charCodeAt(ae);return Ee},we=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return we};var Le=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(D){return Le=j===C.ADVANCED?D/Je:D,this};var Pe,_e=m.__private__.getFontSize=m.getFontSize=function(){return j===C.COMPAT?Le:Le*Je},Ke=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(D){return Ke=D,this},m.__private__.getR2L=m.getR2L=function(){return Ke};var ot,nt=m.__private__.setZoomMode=function(D){var ae=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(D))Pe=D;else if(isNaN(D)){if(ae.indexOf(D)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+D+'" is not recognized.');Pe=D}else Pe=parseInt(D,10)};m.__private__.getZoomMode=function(){return Pe};var De,xe=m.__private__.setPageMode=function(D){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(D)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+D+'" is not recognized.');ot=D};m.__private__.getPageMode=function(){return ot};var ke=m.__private__.setLayoutMode=function(D){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(D)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+D+'" is not recognized.');De=D};m.__private__.getLayoutMode=function(){return De},m.__private__.setDisplayMode=m.setDisplayMode=function(D,ae,Ee){return nt(D),ke(ae),xe(Ee),this};var je={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(D){if(Object.keys(je).indexOf(D)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return je[D]},m.__private__.getDocumentProperties=function(){return je},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(D){for(var ae in je)je.hasOwnProperty(ae)&&D[ae]&&(je[ae]=D[ae]);return this},m.__private__.setDocumentProperty=function(D,ae){if(Object.keys(je).indexOf(D)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return je[D]=ae};var ct,Je,Rt,kt,Wt,Lt={},Kt={},tn=[],ln={},zn={},qn={},Qr={},ar=null,Mn=0,Vt=[],En=new Lk(m),xa=e.hotfixes||[],Sr={},li={},va=[],Dt=function D(ae,Ee,Re,Ve,dt,Ct){if(!(this instanceof D))return new D(ae,Ee,Re,Ve,dt,Ct);isNaN(ae)&&(ae=1),isNaN(Ee)&&(Ee=0),isNaN(Re)&&(Re=0),isNaN(Ve)&&(Ve=1),isNaN(dt)&&(dt=0),isNaN(Ct)&&(Ct=0),this._matrix=[ae,Ee,Re,Ve,dt,Ct]};Object.defineProperty(Dt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(Dt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(Dt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(Dt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(Dt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(Dt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(Dt.prototype,"a",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(Dt.prototype,"b",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(Dt.prototype,"c",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(Dt.prototype,"d",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(Dt.prototype,"e",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(Dt.prototype,"f",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(Dt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Dt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Dt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Dt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Dt.prototype.join=function(D){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(D)},Dt.prototype.multiply=function(D){var ae=D.sx*this.sx+D.shy*this.shx,Ee=D.sx*this.shy+D.shy*this.sy,Re=D.shx*this.sx+D.sy*this.shx,Ve=D.shx*this.shy+D.sy*this.sy,dt=D.tx*this.sx+D.ty*this.shx+this.tx,Ct=D.tx*this.shy+D.ty*this.sy+this.ty;return new Dt(ae,Ee,Re,Ve,dt,Ct)},Dt.prototype.decompose=function(){var D=this.sx,ae=this.shy,Ee=this.shx,Re=this.sy,Ve=this.tx,dt=this.ty,Ct=Math.sqrt(D*D+ae*ae),Tt=(D/=Ct)*Ee+(ae/=Ct)*Re;Ee-=D*Tt,Re-=ae*Tt;var Ut=Math.sqrt(Ee*Ee+Re*Re);return Tt/=Ut,D*(Re/=Ut)<ae*(Ee/=Ut)&&(D=-D,ae=-ae,Tt=-Tt,Ct=-Ct),{scale:new Dt(Ct,0,0,Ut,0,0),translate:new Dt(1,0,0,1,Ve,dt),rotate:new Dt(D,ae,-ae,D,0,0),skew:new Dt(1,0,Tt,1,0,0)}},Dt.prototype.toString=function(D){return this.join(" ")},Dt.prototype.inversed=function(){var D=this.sx,ae=this.shy,Ee=this.shx,Re=this.sy,Ve=this.tx,dt=this.ty,Ct=1/(D*Re-ae*Ee),Tt=Re*Ct,Ut=-ae*Ct,vn=-Ee*Ct,pn=D*Ct;return new Dt(Tt,Ut,vn,pn,-Tt*Ve-vn*dt,-Ut*Ve-pn*dt)},Dt.prototype.applyToPoint=function(D){var ae=D.x*this.sx+D.y*this.shx+this.tx,Ee=D.x*this.shy+D.y*this.sy+this.ty;return new Zd(ae,Ee)},Dt.prototype.applyToRectangle=function(D){var ae=this.applyToPoint(D),Ee=this.applyToPoint(new Zd(D.x+D.w,D.y+D.h));return new gh(ae.x,ae.y,Ee.x-ae.x,Ee.y-ae.y)},Dt.prototype.clone=function(){var D=this.sx,ae=this.shy,Ee=this.shx,Re=this.sy,Ve=this.tx,dt=this.ty;return new Dt(D,ae,Ee,Re,Ve,dt)},m.Matrix=Dt;var Wn=m.matrixMult=function(D,ae){return ae.multiply(D)},sr=new Dt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=sr;var Mr=function(D,ae){if(!zn[D]){var Ee=(ae instanceof Yh?"Sh":"P")+(Object.keys(ln).length+1).toString(10);ae.id=Ee,zn[D]=Ee,ln[Ee]=ae,En.publish("addPattern",ae)}};m.ShadingPattern=Yh,m.TilingPattern=O0,m.addShadingPattern=function(D,ae){return M("addShadingPattern()"),Mr(D,ae),this},m.beginTilingPattern=function(D){M("beginTilingPattern()"),Jd(D.boundingBox[0],D.boundingBox[1],D.boundingBox[2]-D.boundingBox[0],D.boundingBox[3]-D.boundingBox[1],D.matrix)},m.endTilingPattern=function(D,ae){M("endTilingPattern()"),ae.stream=Ie[B].join(`
`),Mr(D,ae),En.publish("endTilingPattern",ae),va.pop().restore()};var dr=m.__private__.newObject=function(){var D=fr();return Hn(D,!0),D},fr=m.__private__.newObjectDeferred=function(){return ne++,ve[ne]=function(){return Ce},ne},Hn=function(D,ae){return ae=typeof ae=="boolean"&&ae,ve[D]=Ce,ae&&se(D+" 0 obj"),D},ys=m.__private__.newAdditionalObject=function(){var D={objId:fr(),content:""};return Oe.push(D),D},jr=fr(),Ia=fr(),zi=m.__private__.decodeColorString=function(D){var ae=D.split(" ");if(ae.length!==2||ae[1]!=="g"&&ae[1]!=="G")ae.length===5&&(ae[4]==="k"||ae[4]==="K")&&(ae=[(1-ae[0])*(1-ae[3]),(1-ae[1])*(1-ae[3]),(1-ae[2])*(1-ae[3]),"r"]);else{var Ee=parseFloat(ae[0]);ae=[Ee,Ee,Ee,"r"]}for(var Re="#",Ve=0;Ve<3;Ve++)Re+=("0"+Math.floor(255*parseFloat(ae[Ve])).toString(16)).slice(-2);return Re},qi=m.__private__.encodeColorString=function(D){var ae;typeof D=="string"&&(D={ch1:D});var Ee=D.ch1,Re=D.ch2,Ve=D.ch3,dt=D.ch4,Ct=D.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ee=="string"&&Ee.charAt(0)!=="#"){var Tt=new BO(Ee);if(Tt.ok)Ee=Tt.toHex();else if(!/^\d*\.?\d*$/.test(Ee))throw new Error('Invalid color "'+Ee+'" passed to jsPDF.encodeColorString.')}if(typeof Ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ee)&&(Ee="#"+Ee[1]+Ee[1]+Ee[2]+Ee[2]+Ee[3]+Ee[3]),typeof Ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ee)){var Ut=parseInt(Ee.substr(1),16);Ee=Ut>>16&255,Re=Ut>>8&255,Ve=255&Ut}if(Re===void 0||dt===void 0&&Ee===Re&&Re===Ve)if(typeof Ee=="string")ae=Ee+" "+Ct[0];else switch(D.precision){case 2:ae=Q(Ee/255)+" "+Ct[0];break;case 3:default:ae=T(Ee/255)+" "+Ct[0]}else if(dt===void 0||Jr(dt)==="object"){if(dt&&!isNaN(dt.a)&&dt.a===0)return ae=["1.","1.","1.",Ct[1]].join(" ");if(typeof Ee=="string")ae=[Ee,Re,Ve,Ct[1]].join(" ");else switch(D.precision){case 2:ae=[Q(Ee/255),Q(Re/255),Q(Ve/255),Ct[1]].join(" ");break;default:case 3:ae=[T(Ee/255),T(Re/255),T(Ve/255),Ct[1]].join(" ")}}else if(typeof Ee=="string")ae=[Ee,Re,Ve,dt,Ct[2]].join(" ");else switch(D.precision){case 2:ae=[Q(Ee),Q(Re),Q(Ve),Q(dt),Ct[2]].join(" ");break;case 3:default:ae=[T(Ee),T(Re),T(Ve),T(dt),Ct[2]].join(" ")}return ae},er=m.__private__.getFilters=function(){return s},Ci=m.__private__.putStream=function(D){var ae=(D=D||{}).data||"",Ee=D.filters||er(),Re=D.alreadyAppliedFilters||[],Ve=D.addLength1||!1,dt=ae.length,Ct=D.objectId,Tt=function(ki){return ki};if(h!==null&&Ct===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Tt=ui.encryptor(Ct,0));var Ut={};Ee===!0&&(Ee=["FlateEncode"]);var vn=D.additionalKeyValues||[],pn=(Ut=on.API.processDataByFilters!==void 0?on.API.processDataByFilters(ae,Ee):{data:ae,reverseChain:[]}).reverseChain+(Array.isArray(Re)?Re.join(" "):Re.toString());if(Ut.data.length!==0&&(vn.push({key:"Length",value:Ut.data.length}),Ve===!0&&vn.push({key:"Length1",value:dt})),pn.length!=0)if(pn.split("/").length-1==1)vn.push({key:"Filter",value:pn});else{vn.push({key:"Filter",value:"["+pn+"]"});for(var Bn=0;Bn<vn.length;Bn+=1)if(vn[Bn].key==="DecodeParms"){for(var ti=[],ci=0;ci<Ut.reverseChain.split("/").length-1;ci+=1)ti.push("null");ti.push(vn[Bn].value),vn[Bn].value="["+ti.join(" ")+"]"}}se("<<");for(var _i=0;_i<vn.length;_i++)se("/"+vn[_i].key+" "+vn[_i].value);se(">>"),Ut.data.length!==0&&(se("stream"),se(Tt(Ut.data)),se("endstream"))},tr=m.__private__.putPage=function(D){var ae=D.number,Ee=D.data,Re=D.objId,Ve=D.contentsObjId;Hn(Re,!0),se("<</Type /Page"),se("/Parent "+D.rootDictionaryObjId+" 0 R"),se("/Resources "+D.resourceDictionaryObjId+" 0 R"),se("/MediaBox ["+parseFloat(k(D.mediaBox.bottomLeftX))+" "+parseFloat(k(D.mediaBox.bottomLeftY))+" "+k(D.mediaBox.topRightX)+" "+k(D.mediaBox.topRightY)+"]"),D.cropBox!==null&&se("/CropBox ["+k(D.cropBox.bottomLeftX)+" "+k(D.cropBox.bottomLeftY)+" "+k(D.cropBox.topRightX)+" "+k(D.cropBox.topRightY)+"]"),D.bleedBox!==null&&se("/BleedBox ["+k(D.bleedBox.bottomLeftX)+" "+k(D.bleedBox.bottomLeftY)+" "+k(D.bleedBox.topRightX)+" "+k(D.bleedBox.topRightY)+"]"),D.trimBox!==null&&se("/TrimBox ["+k(D.trimBox.bottomLeftX)+" "+k(D.trimBox.bottomLeftY)+" "+k(D.trimBox.topRightX)+" "+k(D.trimBox.topRightY)+"]"),D.artBox!==null&&se("/ArtBox ["+k(D.artBox.bottomLeftX)+" "+k(D.artBox.bottomLeftY)+" "+k(D.artBox.topRightX)+" "+k(D.artBox.topRightY)+"]"),typeof D.userUnit=="number"&&D.userUnit!==1&&se("/UserUnit "+D.userUnit),En.publish("putPage",{objId:Re,pageContext:Vt[ae],pageNumber:ae,page:Ee}),se("/Contents "+Ve+" 0 R"),se(">>"),se("endobj");var dt=Ee.join(`
`);return j===C.ADVANCED&&(dt+=`
Q`),Hn(Ve,!0),Ci({data:dt,filters:er(),objectId:Ve}),se("endobj"),Re},ro=m.__private__.putPages=function(){var D,ae,Ee=[];for(D=1;D<=Mn;D++)Vt[D].objId=fr(),Vt[D].contentsObjId=fr();for(D=1;D<=Mn;D++)Ee.push(tr({number:D,data:Ie[D],objId:Vt[D].objId,contentsObjId:Vt[D].contentsObjId,mediaBox:Vt[D].mediaBox,cropBox:Vt[D].cropBox,bleedBox:Vt[D].bleedBox,trimBox:Vt[D].trimBox,artBox:Vt[D].artBox,userUnit:Vt[D].userUnit,rootDictionaryObjId:jr,resourceDictionaryObjId:Ia}));Hn(jr,!0),se("<</Type /Pages");var Re="/Kids [";for(ae=0;ae<Mn;ae++)Re+=Ee[ae]+" 0 R ";se(Re+"]"),se("/Count "+Mn),se(">>"),se("endobj"),En.publish("postPutPages")},Eo=function(D){En.publish("putFont",{font:D,out:se,newObject:dr,putStream:Ci}),D.isAlreadyPutted!==!0&&(D.objectNumber=dr(),se("<<"),se("/Type /Font"),se("/BaseFont /"+T0(D.postScriptName)),se("/Subtype /Type1"),typeof D.encoding=="string"&&se("/Encoding /"+D.encoding),se("/FirstChar 32"),se("/LastChar 255"),se(">>"),se("endobj"))},Fa=function(){for(var D in Lt)Lt.hasOwnProperty(D)&&(g===!1||g===!0&&b.hasOwnProperty(D))&&Eo(Lt[D])},Fr=function(D){D.objectNumber=dr();var ae=[];ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Form"}),ae.push({key:"BBox",value:"["+[k(D.x),k(D.y),k(D.x+D.width),k(D.y+D.height)].join(" ")+"]"}),ae.push({key:"Matrix",value:"["+D.matrix.toString()+"]"});var Ee=D.pages[1].join(`
`);Ci({data:Ee,additionalKeyValues:ae,objectId:D.objectNumber}),se("endobj")},al=function(){for(var D in Sr)Sr.hasOwnProperty(D)&&Fr(Sr[D])},Ul=function(D,ae){var Ee,Re=[],Ve=1/(ae-1);for(Ee=0;Ee<1;Ee+=Ve)Re.push(Ee);if(Re.push(1),D[0].offset!=0){var dt={offset:0,color:D[0].color};D.unshift(dt)}if(D[D.length-1].offset!=1){var Ct={offset:1,color:D[D.length-1].color};D.push(Ct)}for(var Tt="",Ut=0,vn=0;vn<Re.length;vn++){for(Ee=Re[vn];Ee>D[Ut+1].offset;)Ut++;var pn=D[Ut].offset,Bn=(Ee-pn)/(D[Ut+1].offset-pn),ti=D[Ut].color,ci=D[Ut+1].color;Tt+=Z(Math.round((1-Bn)*ti[0]+Bn*ci[0]).toString(16))+Z(Math.round((1-Bn)*ti[1]+Bn*ci[1]).toString(16))+Z(Math.round((1-Bn)*ti[2]+Bn*ci[2]).toString(16))}return Tt.trim()},Mu=function(D,ae){ae||(ae=21);var Ee=dr(),Re=Ul(D.colors,ae),Ve=[];Ve.push({key:"FunctionType",value:"0"}),Ve.push({key:"Domain",value:"[0.0 1.0]"}),Ve.push({key:"Size",value:"["+ae+"]"}),Ve.push({key:"BitsPerSample",value:"8"}),Ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ci({data:Re,additionalKeyValues:Ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ee}),se("endobj"),D.objectNumber=dr(),se("<< /ShadingType "+D.type),se("/ColorSpace /DeviceRGB");var dt="/Coords ["+k(parseFloat(D.coords[0]))+" "+k(parseFloat(D.coords[1]))+" ";D.type===2?dt+=k(parseFloat(D.coords[2]))+" "+k(parseFloat(D.coords[3])):dt+=k(parseFloat(D.coords[2]))+" "+k(parseFloat(D.coords[3]))+" "+k(parseFloat(D.coords[4]))+" "+k(parseFloat(D.coords[5])),se(dt+="]"),D.matrix&&se("/Matrix ["+D.matrix.toString()+"]"),se("/Function "+Ee+" 0 R"),se("/Extend [true true]"),se(">>"),se("endobj")},Yc=function(D,ae){var Ee=fr(),Re=dr();ae.push({resourcesOid:Ee,objectOid:Re}),D.objectNumber=Re;var Ve=[];Ve.push({key:"Type",value:"/Pattern"}),Ve.push({key:"PatternType",value:"1"}),Ve.push({key:"PaintType",value:"1"}),Ve.push({key:"TilingType",value:"1"}),Ve.push({key:"BBox",value:"["+D.boundingBox.map(k).join(" ")+"]"}),Ve.push({key:"XStep",value:k(D.xStep)}),Ve.push({key:"YStep",value:k(D.yStep)}),Ve.push({key:"Resources",value:Ee+" 0 R"}),D.matrix&&Ve.push({key:"Matrix",value:"["+D.matrix.toString()+"]"}),Ci({data:D.stream,additionalKeyValues:Ve,objectId:D.objectNumber}),se("endobj")},$s=function(D){var ae;for(ae in ln)ln.hasOwnProperty(ae)&&(ln[ae]instanceof Yh?Mu(ln[ae]):ln[ae]instanceof O0&&Yc(ln[ae],D))},xs=function(D){for(var ae in D.objectNumber=dr(),se("<<"),D)switch(ae){case"opacity":se("/ca "+Q(D[ae]));break;case"stroke-opacity":se("/CA "+Q(D[ae]))}se(">>"),se("endobj")},Pa=function(){var D;for(D in qn)qn.hasOwnProperty(D)&&xs(qn[D])},vs=function(){for(var D in se("/XObject <<"),Sr)Sr.hasOwnProperty(D)&&Sr[D].objectNumber>=0&&se("/"+D+" "+Sr[D].objectNumber+" 0 R");En.publish("putXobjectDict"),se(">>")},is=function(){ui.oid=dr(),se("<<"),se("/Filter /Standard"),se("/V "+ui.v),se("/R "+ui.r),se("/U <"+ui.toHexString(ui.U)+">"),se("/O <"+ui.toHexString(ui.O)+">"),se("/P "+ui.P),se(">>"),se("endobj")},as=function(){for(var D in se("/Font <<"),Lt)Lt.hasOwnProperty(D)&&(g===!1||g===!0&&b.hasOwnProperty(D))&&se("/"+D+" "+Lt[D].objectNumber+" 0 R");se(">>")},$l=function(){if(Object.keys(ln).length>0){for(var D in se("/Shading <<"),ln)ln.hasOwnProperty(D)&&ln[D]instanceof Yh&&ln[D].objectNumber>=0&&se("/"+D+" "+ln[D].objectNumber+" 0 R");En.publish("putShadingPatternDict"),se(">>")}},io=function(D){if(Object.keys(ln).length>0){for(var ae in se("/Pattern <<"),ln)ln.hasOwnProperty(ae)&&ln[ae]instanceof m.TilingPattern&&ln[ae].objectNumber>=0&&ln[ae].objectNumber<D&&se("/"+ae+" "+ln[ae].objectNumber+" 0 R");En.publish("putTilingPatternDict"),se(">>")}},Gc=function(){if(Object.keys(qn).length>0){var D;for(D in se("/ExtGState <<"),qn)qn.hasOwnProperty(D)&&qn[D].objectNumber>=0&&se("/"+D+" "+qn[D].objectNumber+" 0 R");En.publish("putGStateDict"),se(">>")}},Pr=function(D){Hn(D.resourcesOid,!0),se("<<"),se("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),as(),$l(),io(D.objectOid),Gc(),vs(),se(">>"),se("endobj")},ta=function(){var D=[];Fa(),Pa(),al(),$s(D),En.publish("putResources"),D.forEach(Pr),Pr({resourcesOid:Ia,objectOid:Number.MAX_SAFE_INTEGER}),En.publish("postPutResources")},ao=function(){En.publish("putAdditionalObjects");for(var D=0;D<Oe.length;D++){var ae=Oe[D];Hn(ae.objId,!0),se(ae.content),se("endobj")}En.publish("postPutAdditionalObjects")},sl=function(D){Kt[D.fontName]=Kt[D.fontName]||{},Kt[D.fontName][D.fontStyle]=D.id},za=function(D,ae,Ee,Re,Ve){var dt={id:"F"+(Object.keys(Lt).length+1).toString(10),postScriptName:D,fontName:ae,fontStyle:Ee,encoding:Re,isStandardFont:Ve||!1,metadata:{}};return En.publish("addFont",{font:dt,instance:this}),Lt[dt.id]=dt,sl(dt),dt.id},Hl=function(D){for(var ae=0,Ee=we.length;ae<Ee;ae++){var Re=za.call(this,D[ae][0],D[ae][1],D[ae][2],we[ae][3],!0);g===!1&&(b[Re]=!0);var Ve=D[ae][0].split("-");sl({id:Re,fontName:Ve[0],fontStyle:Ve[1]||""})}En.publish("addFonts",{fonts:Lt,dictionary:Kt})},na=function(D){return D.foo=function(){try{return D.apply(this,arguments)}catch(Re){var ae=Re.stack||"";~ae.indexOf(" at ")&&(ae=ae.split(" at ")[1]);var Ee="Error in function "+ae.split(`
`)[0].split("<")[0]+": "+Re.message;if(!dn.console)throw new Error(Ee);dn.console.error(Ee,Re),dn.alert&&alert(Ee)}},D.foo.bar=D,D.foo},ol=function(D,ae){var Ee,Re,Ve,dt,Ct,Tt,Ut,vn,pn;if(Ve=(ae=ae||{}).sourceEncoding||"Unicode",Ct=ae.outputEncoding,(ae.autoencode||Ct)&&Lt[ct].metadata&&Lt[ct].metadata[Ve]&&Lt[ct].metadata[Ve].encoding&&(dt=Lt[ct].metadata[Ve].encoding,!Ct&&Lt[ct].encoding&&(Ct=Lt[ct].encoding),!Ct&&dt.codePages&&(Ct=dt.codePages[0]),typeof Ct=="string"&&(Ct=dt[Ct]),Ct)){for(Ut=!1,Tt=[],Ee=0,Re=D.length;Ee<Re;Ee++)(vn=Ct[D.charCodeAt(Ee)])?Tt.push(String.fromCharCode(vn)):Tt.push(D[Ee]),Tt[Ee].charCodeAt(0)>>8&&(Ut=!0);D=Tt.join("")}for(Ee=D.length;Ut===void 0&&Ee!==0;)D.charCodeAt(Ee-1)>>8&&(Ut=!0),Ee--;if(!Ut)return D;for(Tt=ae.noBOM?[]:[254,255],Ee=0,Re=D.length;Ee<Re;Ee++){if((pn=(vn=D.charCodeAt(Ee))>>8)>>8)throw new Error("Character at position "+Ee+" of string '"+D+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Tt.push(pn),Tt.push(vn-(pn<<8))}return String.fromCharCode.apply(void 0,Tt)},hr=m.__private__.pdfEscape=m.pdfEscape=function(D,ae){return ol(D,ae).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_o=m.__private__.beginPage=function(D){Ie[++Mn]=[],Vt[Mn]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(D[0]),topRightY:Number(D[1])}},Hs(Mn),Se(Ie[B])},Wl=function(D,ae){var Ee,Re,Ve;switch(t=ae||t,typeof D=="string"&&(Ee=w(D.toLowerCase()),Array.isArray(Ee)&&(Re=Ee[0],Ve=Ee[1])),Array.isArray(D)&&(Re=D[0]*Je,Ve=D[1]*Je),isNaN(Re)&&(Re=i[0],Ve=i[1]),(Re>14400||Ve>14400)&&(Zr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Re=Math.min(14400,Re),Ve=Math.min(14400,Ve)),i=[Re,Ve],t.substr(0,1)){case"l":Ve>Re&&(i=[Ve,Re]);break;case"p":Re>Ve&&(i=[Ve,Re])}_o(i),qt(st),se(Cr),fl!==0&&se(fl+" J"),To!==0&&se(To+" j"),En.publish("addPage",{pageNumber:Mn})},ko=function(D){D>0&&D<=Mn&&(Ie.splice(D,1),Vt.splice(D,1),Mn--,B>Mn&&(B=Mn),this.setPage(B))},Hs=function(D){D>0&&D<=Mn&&(B=D)},Fu=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Ie.length-1},Ws=function(D,ae,Ee){var Re,Ve=void 0;return Ee=Ee||{},D=D!==void 0?D:Lt[ct].fontName,ae=ae!==void 0?ae:Lt[ct].fontStyle,Re=D.toLowerCase(),Kt[Re]!==void 0&&Kt[Re][ae]!==void 0?Ve=Kt[Re][ae]:Kt[D]!==void 0&&Kt[D][ae]!==void 0?Ve=Kt[D][ae]:Ee.disableWarning===!1&&Zr.warn("Unable to look up font label for font '"+D+"', '"+ae+"'. Refer to getFontList() for available fonts."),Ve||Ee.noFallback||(Ve=Kt.times[ae])==null&&(Ve=Kt.times.normal),Ve},Bi=m.__private__.putInfo=function(){var D=dr(),ae=function(Re){return Re};for(var Ee in h!==null&&(ae=ui.encryptor(D,0)),se("<<"),se("/Producer ("+hr(ae("jsPDF "+on.version))+")"),je)je.hasOwnProperty(Ee)&&je[Ee]&&se("/"+Ee.substr(0,1).toUpperCase()+Ee.substr(1)+" ("+hr(ae(je[Ee]))+")");se("/CreationDate ("+hr(ae(K))+")"),se(">>"),se("endobj")},ss=m.__private__.putCatalog=function(D){var ae=(D=D||{}).rootDictionaryObjId||jr;switch(dr(),se("<<"),se("/Type /Catalog"),se("/Pages "+ae+" 0 R"),Pe||(Pe="fullwidth"),Pe){case"fullwidth":se("/OpenAction [3 0 R /FitH null]");break;case"fullheight":se("/OpenAction [3 0 R /FitV null]");break;case"fullpage":se("/OpenAction [3 0 R /Fit]");break;case"original":se("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ee=""+Pe;Ee.substr(Ee.length-1)==="%"&&(Pe=parseInt(Pe)/100),typeof Pe=="number"&&se("/OpenAction [3 0 R /XYZ null null "+Q(Pe)+"]")}switch(De||(De="continuous"),De){case"continuous":se("/PageLayout /OneColumn");break;case"single":se("/PageLayout /SinglePage");break;case"two":case"twoleft":se("/PageLayout /TwoColumnLeft");break;case"tworight":se("/PageLayout /TwoColumnRight")}ot&&se("/PageMode /"+ot),En.publish("putCatalog"),se(">>"),se("endobj")},ws=m.__private__.putTrailer=function(){se("trailer"),se("<<"),se("/Size "+(ne+1)),se("/Root "+ne+" 0 R"),se("/Info "+(ne-1)+" 0 R"),h!==null&&se("/Encrypt "+ui.oid+" 0 R"),se("/ID [ <"+H+"> <"+H+"> ]"),se(">>")},Pu=m.__private__.putHeader=function(){se("%PDF-"+x),se("%")},qa=m.__private__.putXRef=function(){var D="0000000000";se("xref"),se("0 "+(ne+1)),se("0000000000 65535 f ");for(var ae=1;ae<=ne;ae++)typeof ve[ae]=="function"?se((D+ve[ae]()).slice(-10)+" 00000 n "):ve[ae]!==void 0?se((D+ve[ae]).slice(-10)+" 00000 n "):se("0000000000 00000 n ")},Vs=m.__private__.buildDocument=function(){V(),Se(ye),En.publish("buildDocument"),Pu(),ro(),ao(),ta(),h!==null&&is(),Bi(),ss();var D=Ce;return qa(),ws(),se("startxref"),se(""+D),se("%%EOF"),Se(Ie[B]),ye.join(`
`)},ll=m.__private__.getBlob=function(D){return new Blob([de(D)],{type:"application/pdf"})},Ys=m.output=m.__private__.output=na(function(D,ae){switch(typeof(ae=ae||{})=="string"?ae={filename:ae}:ae.filename=ae.filename||"generated.pdf",D){case void 0:return Vs();case"save":m.save(ae.filename);break;case"arraybuffer":return de(Vs());case"blob":return ll(Vs());case"bloburi":case"bloburl":if(dn.URL!==void 0&&typeof dn.URL.createObjectURL=="function")return dn.URL&&dn.URL.createObjectURL(ll(Vs()))||void 0;Zr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ee="",Re=Vs();try{Ee=NS(Re)}catch{Ee=NS(unescape(encodeURIComponent(Re)))}return"data:application/pdf;filename="+ae.filename+";base64,"+Ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(dn)==="[object Window]"){var Ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",dt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ae.pdfObjectUrl&&(Ve=ae.pdfObjectUrl,dt="");var Ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ve+'"'+dt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ae)+");<\/script></body></html>",Tt=dn.open();return Tt!==null&&Tt.document.write(Ct),Tt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(dn)==="[object Window]"){var Ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ae.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ae.filename+'" width="500px" height="400px" /></body></html>',vn=dn.open();if(vn!==null){vn.document.write(Ut);var pn=this;vn.document.documentElement.querySelector("#pdfViewer").onload=function(){vn.document.title=ae.filename,vn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(pn.output("bloburl"))}}return vn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(dn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Bn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ae)+'"></iframe></body></html>',ti=dn.open();if(ti!==null&&(ti.document.write(Bn),ti.document.title=ae.filename),ti||typeof safari>"u")return ti;break;case"datauri":case"dataurl":return dn.document.location.href=this.output("datauristring",ae);default:return null}}),ul=function(D){return Array.isArray(xa)===!0&&xa.indexOf(D)>-1};switch(r){case"pt":Je=1;break;case"mm":Je=72/25.4;break;case"cm":Je=72/2.54;break;case"in":Je=72;break;case"px":Je=ul("px_scaling")==1?.75:96/72;break;case"pc":case"em":Je=12;break;case"ex":Je=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Je=r}var ui=null;te(),ee();var ei=function(D){return h!==null?ui.encryptor(D,0):function(ae){return ae}},Ss=m.__private__.getPageInfo=m.getPageInfo=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Vt[D].objId,pageNumber:D,pageContext:Vt[D]}},en=m.__private__.getPageInfoByObjId=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ae in Vt)if(Vt[ae].objId===D)break;return Ss(ae)},so=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Vt[B].objId,pageNumber:B,pageContext:Vt[B]}};m.addPage=function(){return Wl.apply(this,arguments),this},m.setPage=function(){return Hs.apply(this,arguments),Se.call(this,Ie[B]),this},m.insertPage=function(D){return this.addPage(),this.movePage(B,D),this},m.movePage=function(D,ae){var Ee,Re;if(D>ae){Ee=Ie[D],Re=Vt[D];for(var Ve=D;Ve>ae;Ve--)Ie[Ve]=Ie[Ve-1],Vt[Ve]=Vt[Ve-1];Ie[ae]=Ee,Vt[ae]=Re,this.setPage(ae)}else if(D<ae){Ee=Ie[D],Re=Vt[D];for(var dt=D;dt<ae;dt++)Ie[dt]=Ie[dt+1],Vt[dt]=Vt[dt+1];Ie[ae]=Ee,Vt[ae]=Re,this.setPage(ae)}return this},m.deletePage=function(){return ko.apply(this,arguments),this},m.__private__.text=m.text=function(D,ae,Ee,Re,Ve){var dt,Ct,Tt,Ut,vn,pn,Bn,ti,ci,_i=(Re=Re||{}).scope||this;if(typeof D=="number"&&typeof ae=="number"&&(typeof Ee=="string"||Array.isArray(Ee))){var ki=Ee;Ee=ae,ae=D,D=ki}if(arguments[3]instanceof Dt?(M("The transform parameter of text() with a Matrix value"),ci=Ve):(Tt=arguments[4],Ut=arguments[5],Jr(Bn=arguments[3])==="object"&&Bn!==null||(typeof Tt=="string"&&(Ut=Tt,Tt=null),typeof Bn=="string"&&(Ut=Bn,Bn=null),typeof Bn=="number"&&(Tt=Bn,Bn=null),Re={flags:Bn,angle:Tt,align:Ut})),isNaN(ae)||isNaN(Ee)||D==null)throw new Error("Invalid arguments passed to jsPDF.text");if(D.length===0)return _i;var Sa="",Oo=!1,Qs=typeof Re.lineHeightFactor=="number"?Re.lineHeightFactor:Te,Io=_i.internal.scaleFactor;function xh(Ln){return Ln=Ln.split("	").join(Array(Re.TabLen||9).join(" ")),hr(Ln,Bn)}function Vl(Ln){for(var Rn,zr=Ln.concat(),ji=[],uo=zr.length;uo--;)typeof(Rn=zr.shift())=="string"?ji.push(Rn):Array.isArray(Ln)&&(Rn.length===1||Rn[1]===void 0&&Rn[2]===void 0)?ji.push(Rn[0]):ji.push([Rn[0],Rn[1],Rn[2]]);return ji}function Yl(Ln,Rn){var zr;if(typeof Ln=="string")zr=Rn(Ln)[0];else if(Array.isArray(Ln)){for(var ji,uo,Qu=Ln.concat(),Ku=[],Kl=Qu.length;Kl--;)typeof(ji=Qu.shift())=="string"?Ku.push(Rn(ji)[0]):Array.isArray(ji)&&typeof ji[0]=="string"&&(uo=Rn(ji[0],ji[1],ji[2]),Ku.push([uo[0],uo[1],uo[2]]));zr=Ku}return zr}var nf=!1,qu=!0;if(typeof D=="string")nf=!0;else if(Array.isArray(D)){var rf=D.concat();Ct=[];for(var Kc,ra=rf.length;ra--;)(typeof(Kc=rf.shift())!="string"||Array.isArray(Kc)&&typeof Kc[0]!="string")&&(qu=!1);nf=qu}if(nf===!1)throw new Error('Type of text must be string or Array. "'+D+'" is not recognized.');typeof D=="string"&&(D=D.match(/[\r?\n]/)?D.split(/\r\n|\r|\n/g):[D]);var Bu=Le/_i.internal.scaleFactor,Xc=Bu*(Qs-1);switch(Re.baseline){case"bottom":Ee-=Xc;break;case"top":Ee+=Bu-Xc;break;case"hanging":Ee+=Bu-2*Xc;break;case"middle":Ee+=Bu/2-Xc}if((pn=Re.maxWidth||0)>0&&(typeof D=="string"?D=_i.splitTextToSize(D,pn):Object.prototype.toString.call(D)==="[object Array]"&&(D=D.reduce(function(Ln,Rn){return Ln.concat(_i.splitTextToSize(Rn,pn))},[]))),dt={text:D,x:ae,y:Ee,options:Re,mutex:{pdfEscape:hr,activeFontKey:ct,fonts:Lt,activeFontSize:Le}},En.publish("preProcessText",dt),D=dt.text,Tt=(Re=dt.options).angle,!(ci instanceof Dt)&&Tt&&typeof Tt=="number"){Tt*=Math.PI/180,Re.rotationDirection===0&&(Tt=-Tt),j===C.ADVANCED&&(Tt=-Tt);var Zc=Math.cos(Tt),af=Math.sin(Tt);ci=new Dt(Zc,af,-af,Zc,0,0)}else Tt&&Tt instanceof Dt&&(ci=Tt);j!==C.ADVANCED||ci||(ci=sr),(vn=Re.charSpace||Cs)!==void 0&&(Sa+=k(O(vn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ti=Re.horizontalScale)!==void 0&&(Sa+=k(100*ti)+` Tz
`),Re.lang;var Es=-1,wm=Re.renderingMode!==void 0?Re.renderingMode:Re.stroke,vh=_i.internal.getCurrentPageInfo().pageContext;switch(wm){case 0:case!1:case"fill":Es=0;break;case 1:case!0:case"stroke":Es=1;break;case 2:case"fillThenStroke":Es=2;break;case 3:case"invisible":Es=3;break;case 4:case"fillAndAddForClipping":Es=4;break;case 5:case"strokeAndAddPathForClipping":Es=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Es=6;break;case 7:case"addToPathForClipping":Es=7}var Tp=vh.usedRenderingMode!==void 0?vh.usedRenderingMode:-1;Es!==-1?Sa+=Es+` Tr
`:Tp!==-1&&(Sa+=`0 Tr
`),Es!==-1&&(vh.usedRenderingMode=Es),Ut=Re.align||"left";var lo,Aa=Le*Qs,Uu=_i.internal.pageSize.getWidth(),wh=Lt[ct];vn=Re.charSpace||Cs,pn=Re.maxWidth||0,Bn=Object.assign({autoencode:!0,noBOM:!0},Re.flags);var Gl=[],$u=function(Ln){return _i.getStringUnitWidth(Ln,{font:wh,charSpace:vn,fontSize:Le,doKerning:!1})*Le/Io};if(Object.prototype.toString.call(D)==="[object Array]"){var os;Ct=Vl(D),Ut!=="left"&&(lo=Ct.map($u));var La,Hu=0;if(Ut==="right"){ae-=lo[0],D=[],ra=Ct.length;for(var _s=0;_s<ra;_s++)_s===0?(La=gn(ae),os=Nr(Ee)):(La=O(Hu-lo[_s]),os=-Aa),D.push([Ct[_s],La,os]),Hu=lo[_s]}else if(Ut==="center"){ae-=lo[0]/2,D=[],ra=Ct.length;for(var Do=0;Do<ra;Do++)Do===0?(La=gn(ae),os=Nr(Ee)):(La=O((Hu-lo[Do])/2),os=-Aa),D.push([Ct[Do],La,os]),Hu=lo[Do]}else if(Ut==="left"){D=[],ra=Ct.length;for(var hl=0;hl<ra;hl++)D.push(Ct[hl])}else if(Ut==="justify"&&wh.encoding==="Identity-H"){D=[],ra=Ct.length,pn=pn!==0?pn:Uu;for(var Lo=0,gi=0;gi<ra;gi++)if(os=gi===0?Nr(Ee):-Aa,La=gi===0?gn(ae):Lo,gi<ra-1){var Ro=O((pn-lo[gi])/(Ct[gi].split(" ").length-1)),Ui=Ct[gi].split(" ");D.push([Ui[0]+" ",La,os]),Lo=0;for(var ks=1;ks<Ui.length;ks++){var Jc=($u(Ui[ks-1]+" "+Ui[ks])-$u(Ui[ks]))*Io+Ro;ks==Ui.length-1?D.push([Ui[ks],Jc,0]):D.push([Ui[ks]+" ",Jc,0]),Lo-=Jc}}else D.push([Ct[gi],La,os]);D.push(["",Lo,0])}else{if(Ut!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(D=[],ra=Ct.length,pn=pn!==0?pn:Uu,gi=0;gi<ra;gi++)os=gi===0?Nr(Ee):-Aa,La=gi===0?gn(ae):0,gi<ra-1?Gl.push(k(O((pn-lo[gi])/(Ct[gi].split(" ").length-1)))):Gl.push(0),D.push([Ct[gi],La,os])}}var pl=typeof Re.R2L=="boolean"?Re.R2L:Ke;pl===!0&&(D=Yl(D,function(Ln,Rn,zr){return[Ln.split("").reverse().join(""),Rn,zr]})),dt={text:D,x:ae,y:Ee,options:Re,mutex:{pdfEscape:hr,activeFontKey:ct,fonts:Lt,activeFontSize:Le}},En.publish("postProcessText",dt),D=dt.text,Oo=dt.mutex.isHex||!1;var sf=Lt[ct].encoding;sf!=="WinAnsiEncoding"&&sf!=="StandardEncoding"||(D=Yl(D,function(Ln,Rn,zr){return[xh(Ln),Rn,zr]})),Ct=Vl(D),D=[];for(var Wu,Vu,Yu,ed=0,of=1,Gu=Array.isArray(Ct[0])?of:ed,Ql="",td=function(Ln,Rn,zr){var ji="";return zr instanceof Dt?(zr=typeof Re.angle=="number"?Wn(zr,new Dt(1,0,0,1,Ln,Rn)):Wn(new Dt(1,0,0,1,Ln,Rn),zr),j===C.ADVANCED&&(zr=Wn(new Dt(1,0,0,-1,0,0),zr)),ji=zr.join(" ")+` Tm
`):ji=k(Ln)+" "+k(Rn)+` Td
`,ji},bi=0;bi<Ct.length;bi++){switch(Ql="",Gu){case of:Yu=(Oo?"<":"(")+Ct[bi][0]+(Oo?">":")"),Wu=parseFloat(Ct[bi][1]),Vu=parseFloat(Ct[bi][2]);break;case ed:Yu=(Oo?"<":"(")+Ct[bi]+(Oo?">":")"),Wu=gn(ae),Vu=Nr(Ee)}Gl!==void 0&&Gl[bi]!==void 0&&(Ql=Gl[bi]+` Tw
`),bi===0?D.push(Ql+td(Wu,Vu,ci)+Yu):Gu===ed?D.push(Ql+Yu):Gu===of&&D.push(Ql+td(Wu,Vu,ci)+Yu)}D=Gu===ed?D.join(` Tj
T* `):D.join(` Tj
`),D+=` Tj
`;var Ks=`BT
/`;return Ks+=ct+" "+Le+` Tf
`,Ks+=k(Le*Qs)+` TL
`,Ks+=Ha+`
`,Ks+=Sa,Ks+=D,se(Ks+="ET"),b[ct]=!0,_i};var cl=m.__private__.clip=m.clip=function(D){return se(D==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return cl("evenodd")},m.__private__.discardPath=m.discardPath=function(){return se("n"),this};var Ei=m.__private__.isValidStyle=function(D){var ae=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(D)!==-1&&(ae=!0),ae};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(D){return Ei(D)&&(d=D),this};var Ba=m.__private__.getStyle=m.getStyle=function(D){var ae=d;switch(D){case"D":case"S":ae="S";break;case"F":ae="f";break;case"FD":case"DF":ae="B";break;case"f":case"f*":case"B":case"B*":ae=D}return ae},jo=m.close=function(){return se("h"),this};m.stroke=function(){return se("S"),this},m.fill=function(D){return Ua("f",D),this},m.fillEvenOdd=function(D){return Ua("f*",D),this},m.fillStroke=function(D){return Ua("B",D),this},m.fillStrokeEvenOdd=function(D){return Ua("B*",D),this};var Ua=function(D,ae){Jr(ae)==="object"?No(ae,D):se(D)},Da=function(D){D===null||j===C.ADVANCED&&D===void 0||(D=Ba(D),se(D))};function $a(D,ae,Ee,Re,Ve){var dt=new O0(ae||this.boundingBox,Ee||this.xStep,Re||this.yStep,this.gState,Ve||this.matrix);dt.stream=this.stream;var Ct=D+"$$"+this.cloneIndex+++"$$";return Mr(Ct,dt),dt}var No=function(D,ae){var Ee=zn[D.key],Re=ln[Ee];if(Re instanceof Yh)se("q"),se(dl(ae)),Re.gState&&m.setGState(Re.gState),se(D.matrix.toString()+" cm"),se("/"+Ee+" sh"),se("Q");else if(Re instanceof O0){var Ve=new Dt(1,0,0,-1,0,zu());D.matrix&&(Ve=Ve.multiply(D.matrix||sr),Ee=$a.call(Re,D.key,D.boundingBox,D.xStep,D.yStep,Ve).id),se("q"),se("/Pattern cs"),se("/"+Ee+" scn"),Re.gState&&m.setGState(Re.gState),se(ae),se("Q")}},dl=function(D){switch(D){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},oo=m.moveTo=function(D,ae){return se(k(O(D))+" "+k(N(ae))+" m"),this},As=m.lineTo=function(D,ae){return se(k(O(D))+" "+k(N(ae))+" l"),this},$=m.curveTo=function(D,ae,Ee,Re,Ve,dt){return se([k(O(D)),k(N(ae)),k(O(Ee)),k(N(Re)),k(O(Ve)),k(N(dt)),"c"].join(" ")),this};m.__private__.line=m.line=function(D,ae,Ee,Re,Ve){if(isNaN(D)||isNaN(ae)||isNaN(Ee)||isNaN(Re)||!Ei(Ve))throw new Error("Invalid arguments passed to jsPDF.line");return j===C.COMPAT?this.lines([[Ee-D,Re-ae]],D,ae,[1,1],Ve||"S"):this.lines([[Ee-D,Re-ae]],D,ae,[1,1]).stroke()},m.__private__.lines=m.lines=function(D,ae,Ee,Re,Ve,dt){var Ct,Tt,Ut,vn,pn,Bn,ti,ci,_i,ki,Sa,Oo;if(typeof D=="number"&&(Oo=Ee,Ee=ae,ae=D,D=Oo),Re=Re||[1,1],dt=dt||!1,isNaN(ae)||isNaN(Ee)||!Array.isArray(D)||!Array.isArray(Re)||!Ei(Ve)||typeof dt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(oo(ae,Ee),Ct=Re[0],Tt=Re[1],vn=D.length,ki=ae,Sa=Ee,Ut=0;Ut<vn;Ut++)(pn=D[Ut]).length===2?(ki=pn[0]*Ct+ki,Sa=pn[1]*Tt+Sa,As(ki,Sa)):(Bn=pn[0]*Ct+ki,ti=pn[1]*Tt+Sa,ci=pn[2]*Ct+ki,_i=pn[3]*Tt+Sa,ki=pn[4]*Ct+ki,Sa=pn[5]*Tt+Sa,$(Bn,ti,ci,_i,ki,Sa));return dt&&jo(),Da(Ve),this},m.path=function(D){for(var ae=0;ae<D.length;ae++){var Ee=D[ae],Re=Ee.c;switch(Ee.op){case"m":oo(Re[0],Re[1]);break;case"l":As(Re[0],Re[1]);break;case"c":$.apply(this,Re);break;case"h":jo()}}return this},m.__private__.rect=m.rect=function(D,ae,Ee,Re,Ve){if(isNaN(D)||isNaN(ae)||isNaN(Ee)||isNaN(Re)||!Ei(Ve))throw new Error("Invalid arguments passed to jsPDF.rect");return j===C.COMPAT&&(Re=-Re),se([k(O(D)),k(N(ae)),k(O(Ee)),k(O(Re)),"re"].join(" ")),Da(Ve),this},m.__private__.triangle=m.triangle=function(D,ae,Ee,Re,Ve,dt,Ct){if(isNaN(D)||isNaN(ae)||isNaN(Ee)||isNaN(Re)||isNaN(Ve)||isNaN(dt)||!Ei(Ct))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ee-D,Re-ae],[Ve-Ee,dt-Re],[D-Ve,ae-dt]],D,ae,[1,1],Ct,!0),this},m.__private__.roundedRect=m.roundedRect=function(D,ae,Ee,Re,Ve,dt,Ct){if(isNaN(D)||isNaN(ae)||isNaN(Ee)||isNaN(Re)||isNaN(Ve)||isNaN(dt)||!Ei(Ct))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Tt=4/3*(Math.SQRT2-1);return Ve=Math.min(Ve,.5*Ee),dt=Math.min(dt,.5*Re),this.lines([[Ee-2*Ve,0],[Ve*Tt,0,Ve,dt-dt*Tt,Ve,dt],[0,Re-2*dt],[0,dt*Tt,-Ve*Tt,dt,-Ve,dt],[2*Ve-Ee,0],[-Ve*Tt,0,-Ve,-dt*Tt,-Ve,-dt],[0,2*dt-Re],[0,-dt*Tt,Ve*Tt,-dt,Ve,-dt]],D+Ve,ae,[1,1],Ct,!0),this},m.__private__.ellipse=m.ellipse=function(D,ae,Ee,Re,Ve){if(isNaN(D)||isNaN(ae)||isNaN(Ee)||isNaN(Re)||!Ei(Ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var dt=4/3*(Math.SQRT2-1)*Ee,Ct=4/3*(Math.SQRT2-1)*Re;return oo(D+Ee,ae),$(D+Ee,ae-Ct,D+dt,ae-Re,D,ae-Re),$(D-dt,ae-Re,D-Ee,ae-Ct,D-Ee,ae),$(D-Ee,ae+Ct,D-dt,ae+Re,D,ae+Re),$(D+dt,ae+Re,D+Ee,ae+Ct,D+Ee,ae),Da(Ve),this},m.__private__.circle=m.circle=function(D,ae,Ee,Re){if(isNaN(D)||isNaN(ae)||isNaN(Ee)||!Ei(Re))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(D,ae,Ee,Ee,Re)},m.setFont=function(D,ae,Ee){return Ee&&(ae=L(ae,Ee)),ct=Ws(D,ae,{disableWarning:!1}),this};var me=m.__private__.getFont=m.getFont=function(){return Lt[Ws.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var D,ae,Ee={};for(D in Kt)if(Kt.hasOwnProperty(D))for(ae in Ee[D]=[],Kt[D])Kt[D].hasOwnProperty(ae)&&Ee[D].push(ae);return Ee},m.addFont=function(D,ae,Ee,Re,Ve){var dt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&dt.indexOf(arguments[3])!==-1?Ve=arguments[3]:arguments[3]&&dt.indexOf(arguments[3])==-1&&(Ee=L(Ee,Re)),Ve=Ve||"Identity-H",za.call(this,D,ae,Ee,Ve)};var Te,st=e.lineWidth||.200025,Xt=m.__private__.getLineWidth=m.getLineWidth=function(){return st},qt=m.__private__.setLineWidth=m.setLineWidth=function(D){return st=D,se(k(O(D))+" w"),this};m.__private__.setLineDash=on.API.setLineDash=on.API.setLineDashPattern=function(D,ae){if(D=D||[],ae=ae||0,isNaN(ae)||!Array.isArray(D))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return D=D.map(function(Ee){return k(O(Ee))}).join(" "),ae=k(O(ae)),se("["+D+"] "+ae+" d"),this};var Tn=m.__private__.getLineHeight=m.getLineHeight=function(){return Le*Te};m.__private__.getLineHeight=m.getLineHeight=function(){return Le*Te};var _n=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(D){return typeof(D=D||1.15)=="number"&&(Te=D),this},pr=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Te};_n(e.lineHeight);var gn=m.__private__.getHorizontalCoordinate=function(D){return O(D)},Nr=m.__private__.getVerticalCoordinate=function(D){return j===C.ADVANCED?D:Vt[B].mediaBox.topRightY-Vt[B].mediaBox.bottomLeftY-O(D)},wa=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(D){return k(gn(D))},Ar=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(D){return k(Nr(D))},Cr=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return zi(Cr)},m.__private__.setStrokeColor=m.setDrawColor=function(D,ae,Ee,Re){return Cr=qi({ch1:D,ch2:ae,ch3:Ee,ch4:Re,pdfColorType:"draw",precision:2}),se(Cr),this};var Kr=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return zi(Kr)},m.__private__.setFillColor=m.setFillColor=function(D,ae,Ee,Re){return Kr=qi({ch1:D,ch2:ae,ch3:Ee,ch4:Re,pdfColorType:"fill",precision:2}),se(Kr),this};var Ha=e.textColor||"0 g",Gs=m.__private__.getTextColor=m.getTextColor=function(){return zi(Ha)};m.__private__.setTextColor=m.setTextColor=function(D,ae,Ee,Re){return Ha=qi({ch1:D,ch2:ae,ch3:Ee,ch4:Re,pdfColorType:"text",precision:3}),this};var Cs=e.charSpace,Xd=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Cs||0)};m.__private__.setCharSpace=m.setCharSpace=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Cs=D,this};var fl=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(D){var ae=m.CapJoinStyles[D];if(ae===void 0)throw new Error("Line cap style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return fl=ae,se(ae+" J"),this};var To=0;m.__private__.setLineJoin=m.setLineJoin=function(D){var ae=m.CapJoinStyles[D];if(ae===void 0)throw new Error("Line join style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return To=ae,se(ae+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(D){if(D=D||0,isNaN(D))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return se(k(O(D))+" M"),this},m.GState=Ux,m.setGState=function(D){(D=typeof D=="string"?qn[Qr[D]]:Np(null,D)).equals(ar)||(se("/"+D.id+" gs"),ar=D)};var Np=function(D,ae){if(!D||!Qr[D]){var Ee=!1;for(var Re in qn)if(qn.hasOwnProperty(Re)&&qn[Re].equals(ae)){Ee=!0;break}if(Ee)ae=qn[Re];else{var Ve="GS"+(Object.keys(qn).length+1).toString(10);qn[Ve]=ae,ae.id=Ve}return D&&(Qr[D]=ae.id),En.publish("addGState",ae),ae}};m.addGState=function(D,ae){return Np(D,ae),this},m.saveGraphicsState=function(){return se("q"),tn.push({key:ct,size:Le,color:Ha}),this},m.restoreGraphicsState=function(){se("Q");var D=tn.pop();return ct=D.key,Le=D.size,Ha=D.color,ar=null,this},m.setCurrentTransformationMatrix=function(D){return se(D.toString()+" cm"),this},m.comment=function(D){return se("#"+D),this};var Zd=function(D,ae){var Ee=D||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ee},set:function(dt){isNaN(dt)||(Ee=parseFloat(dt))}});var Re=ae||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Re},set:function(dt){isNaN(dt)||(Re=parseFloat(dt))}});var Ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ve},set:function(dt){Ve=dt.toString()}}),this},gh=function(D,ae,Ee,Re){Zd.call(this,D,ae),this.type="rect";var Ve=Ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ve},set:function(Ct){isNaN(Ct)||(Ve=parseFloat(Ct))}});var dt=Re||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return dt},set:function(Ct){isNaN(Ct)||(dt=parseFloat(Ct))}}),this},bh=function(){this.page=Mn,this.currentPage=B,this.pages=Ie.slice(0),this.pagesContext=Vt.slice(0),this.x=Rt,this.y=kt,this.matrix=Wt,this.width=Qc(B),this.height=zu(B),this.outputDestination=We,this.id="",this.objectNumber=-1};bh.prototype.restore=function(){Mn=this.page,B=this.currentPage,Vt=this.pagesContext,Ie=this.pages,Rt=this.x,kt=this.y,Wt=this.matrix,tf(B,this.width),yh(B,this.height),We=this.outputDestination};var Jd=function(D,ae,Ee,Re,Ve){va.push(new bh),Mn=B=0,Ie=[],Rt=D,kt=ae,Wt=Ve,_o([Ee,Re])},vm=function(D){if(li[D])va.pop().restore();else{var ae=new bh,Ee="Xo"+(Object.keys(Sr).length+1).toString(10);ae.id=Ee,li[D]=Ee,Sr[Ee]=ae,En.publish("addFormObject",ae),va.pop().restore()}};for(var ef in m.beginFormObject=function(D,ae,Ee,Re,Ve){return Jd(D,ae,Ee,Re,Ve),this},m.endFormObject=function(D){return vm(D),this},m.doFormObject=function(D,ae){var Ee=Sr[li[D]];return se("q"),se(ae.toString()+" cm"),se("/"+Ee.id+" Do"),se("Q"),this},m.getFormObject=function(D){var ae=Sr[li[D]];return{x:ae.x,y:ae.y,width:ae.width,height:ae.height,matrix:ae.matrix}},m.save=function(D,ae){return D=D||"generated.pdf",(ae=ae||{}).returnPromise=ae.returnPromise||!1,ae.returnPromise===!1?(Vh(ll(Vs()),D),typeof Vh.unload=="function"&&dn.setTimeout&&setTimeout(Vh.unload,911),this):new Promise(function(Ee,Re){try{var Ve=Vh(ll(Vs()),D);typeof Vh.unload=="function"&&dn.setTimeout&&setTimeout(Vh.unload,911),Ee(Ve)}catch(dt){Re(dt.message)}})},on.API)on.API.hasOwnProperty(ef)&&(ef==="events"&&on.API.events.length?function(D,ae){var Ee,Re,Ve;for(Ve=ae.length-1;Ve!==-1;Ve--)Ee=ae[Ve][0],Re=ae[Ve][1],D.subscribe.apply(D,[Ee].concat(typeof Re=="function"?[Re]:Re))}(En,on.API.events):m[ef]=on.API[ef]);var Qc=m.getPageWidth=function(D){return(Vt[D=D||B].mediaBox.topRightX-Vt[D].mediaBox.bottomLeftX)/Je},tf=m.setPageWidth=function(D,ae){Vt[D].mediaBox.topRightX=ae*Je+Vt[D].mediaBox.bottomLeftX},zu=m.getPageHeight=function(D){return(Vt[D=D||B].mediaBox.topRightY-Vt[D].mediaBox.bottomLeftY)/Je},yh=m.setPageHeight=function(D,ae){Vt[D].mediaBox.topRightY=ae*Je+Vt[D].mediaBox.bottomLeftY};return m.internal={pdfEscape:hr,getStyle:Ba,getFont:me,getFontSize:_e,getCharSpace:Xd,getTextColor:Gs,getLineHeight:Tn,getLineHeightFactor:pr,getLineWidth:Xt,write:he,getHorizontalCoordinate:gn,getVerticalCoordinate:Nr,getCoordinateString:wa,getVerticalCoordinateString:Ar,collections:{},newObject:dr,newAdditionalObject:ys,newObjectDeferred:fr,newObjectDeferredBegin:Hn,getFilters:er,putStream:Ci,events:En,scaleFactor:Je,pageSize:{getWidth:function(){return Qc(B)},setWidth:function(D){tf(B,D)},getHeight:function(){return zu(B)},setHeight:function(D){yh(B,D)}},encryptionOptions:h,encryption:ui,getEncryptor:ei,output:Ys,getNumberOfPages:Fu,pages:Ie,out:se,f2:Q,f3:T,getPageInfo:Ss,getPageInfoByObjId:en,getCurrentPageInfo:so,getPDFVersion:y,Point:Zd,Rectangle:gh,Matrix:Dt,hasHotfix:ul},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Qc(B)},set:function(D){tf(B,D)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return zu(B)},set:function(D){yh(B,D)},enumerable:!0,configurable:!0}),Hl.call(m,we),ct="F1",Wl(i,t),En.publish("initialized"),m}N0.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},N0.prototype.toHexString=function(e){return e.split("").map(function(n){return("0"+(255&n.charCodeAt(0)).toString(16)).slice(-2)}).join("")},N0.prototype.hexToBytes=function(e){for(var n=[],t=0;t<e.length;t+=2)n.push(String.fromCharCode(parseInt(e.substr(t,2),16)));return n.join("")},N0.prototype.processOwnerPassword=function(e,n){return OS(TS(n).substr(0,5),e)},N0.prototype.encryptor=function(e,n){var t=TS(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&n,n>>8&255)).substr(0,10);return function(r){return OS(t,r)}},Ux.prototype.equals=function(e){var n,t="id,objectNumber,equals";if(!e||Jr(e)!==Jr(this))return!1;var r=0;for(n in this)if(!(t.indexOf(n)>=0)){if(this.hasOwnProperty(n)&&!e.hasOwnProperty(n)||this[n]!==e[n])return!1;r++}for(n in e)e.hasOwnProperty(n)&&t.indexOf(n)<0&&r--;return r===0},on.API={events:[]},on.version="3.0.1";var Ki=on.API,hA=1,_p=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},l0=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},An=function(e){return e.toFixed(2)},Rf=function(e){return e.toFixed(5)};Ki.__acroform__={};var Co=function(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e},Rk=function(e){return e*hA},dc=function(e){var n=new WO,t=zt.internal.getHeight(e)||0,r=zt.internal.getWidth(e)||0;return n.BBox=[0,0,Number(An(r)),Number(An(t))],n},NQ=Ki.__acroform__.setBit=function(e,n){if(e=e||0,n=n||0,isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<n},TQ=Ki.__acroform__.clearBit=function(e,n){if(e=e||0,n=n||0,isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<n)},OQ=Ki.__acroform__.getBit=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(e&1<<n)==0?0:1},ua=Ki.__acroform__.getBitForPdf=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return OQ(e,n-1)},ca=Ki.__acroform__.setBitForPdf=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return NQ(e,n-1)},da=Ki.__acroform__.clearBitForPdf=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return TQ(e,n-1)},IQ=Ki.__acroform__.calculateCoordinates=function(e,n){var t=n.internal.getHorizontalCoordinate,r=n.internal.getVerticalCoordinate,i=e[0],a=e[1],s=e[2],l=e[3],c={};return c.lowerLeft_X=t(i)||0,c.lowerLeft_Y=r(a+l)||0,c.upperRight_X=t(i+s)||0,c.upperRight_Y=r(a)||0,[Number(An(c.lowerLeft_X)),Number(An(c.lowerLeft_Y)),Number(An(c.upperRight_X)),Number(An(c.upperRight_Y))]},DQ=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var n=[],t=e._V||e.DV,r=IS(e,t),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;n.push("/Tx BMC"),n.push("q"),n.push("BT"),n.push(e.scope.__private__.encodeColorString(e.color)),n.push("/"+i+" "+An(r.fontSize)+" Tf"),n.push("1 0 0 1 0 0 Tm"),n.push(r.text),n.push("ET"),n.push("Q"),n.push("EMC");var a=dc(e);return a.scope=e.scope,a.stream=n.join(`
`),a}},IS=function(e,n){var t=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(n=(n=n.substr(0,1)=="("?n.substr(1):n).substr(n.length-1)==")"?n.substr(0,n.length-1):n).split(" ");i=e.multiline?i.map(function(T){return T.split(`
`)}):i.map(function(T){return[T]});var a=t,s=zt.internal.getHeight(e)||0;s=s<0?-s:s;var l=zt.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(T,O,R){if(T+1<i.length){var N=O+" "+i[T+1][0];return Iy(N,e,R).width<=l-4}return!1};a++;e:for(;a>0;){n="",a--;var d,h,g=Iy("3",e,a).height,b=e.multiline?s-a:(s-g)/2,m=b+=2,x=0,y=0,A=0;if(a<=0){n=`(...) Tj
`,n+="% Width of Text: "+Iy(n,e,a=12).width+", FieldWidth:"+l+`
`;break}for(var w="",C=0,j=0;j<i.length;j++)if(i.hasOwnProperty(j)){var F=!1;if(i[j].length!==1&&A!==i[j].length-1){if((g+2)*(C+2)+2>s)continue e;w+=i[j][A],F=!0,y=j,j--}else{w=(w+=i[j][A]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var z=parseInt(j),L=c(z,w,a),k=j>=i.length-1;if(L&&!k){w+=" ",A=0;continue}if(L||k){if(k)y=z;else if(e.multiline&&(g+2)*(C+2)+2>s)continue e}else{if(!e.multiline||(g+2)*(C+2)+2>s)continue e;y=z}}for(var M="",q=x;q<=y;q++){var Q=i[q];if(e.multiline){if(q===y){M+=Q[A]+" ",A=(A+1)%Q.length;continue}if(q===x){M+=Q[Q.length-1]+" ";continue}}M+=Q[0]+" "}switch(M=M.substr(M.length-1)==" "?M.substr(0,M.length-1):M,h=Iy(M,e,a).width,e.textAlign){case"right":d=l-h-2;break;case"center":d=(l-h)/2;break;case"left":default:d=2}n+=An(d)+" "+An(m)+` Td
`,n+="("+_p(M)+`) Tj
`,n+=-An(d)+` 0 Td
`,m=-(a+2),h=0,x=F?y:y+1,C++,w=""}break}return r.text=n,r.fontSize=a,r},Iy=function(e,n,t){var r=n.scope.internal.getFont(n.fontName,n.fontStyle),i=n.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:n.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},LQ={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},RQ=function(e,n){var t={type:"reference",object:e};n.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&n.internal.getPageInfo(e.page).pageContext.annotations.push(t)},MQ=function(e,n){for(var t in e)if(e.hasOwnProperty(t)){var r=t,i=e[t];n.internal.newObjectDeferredBegin(i.objId,!0),Jr(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[r]}},FQ=function(e,n){if(n.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Iu.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(LQ)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");hA=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new VO,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&RQ(a,t)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(t){(function(r,i){var a=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var l=r[s],c=[],d=l.Rect;if(l.Rect&&(l.Rect=IQ(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=zt.createDefaultAppearanceStream(l),Jr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var h=DQ(l);c.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(l.appearanceStreamContent){var g="";for(var b in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(b)){var m=l.appearanceStreamContent[b];if(g+="/"+b+" ",g+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var s in m)if(m.hasOwnProperty(s)){var x=m[s];typeof x=="function"&&(x=x.call(i,l)),g+="/"+s+" "+x+" ",i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x)}}else typeof(x=m)=="function"&&(x=x.call(i,l)),g+="/"+s+" "+x,i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x);g+=">>"}c.push({key:"AP",value:`<<
`+g+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}a&&MQ(i.internal.acroformPlugin.xForms,i)})(t,e)}),e.internal.acroformPlugin.isInitialized=!0}},HO=Ki.__acroform__.arrayToPdfArray=function(e,n,t){var r=function(s){return s};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),Jr(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(n!==void 0&&t&&(r=t.internal.getEncryptor(n)),i+="("+_p(r(e[a].toString()))+")"):i+=e[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},iw=function(e,n,t){var r=function(i){return i};return n!==void 0&&t&&(r=t.internal.getEncryptor(n)),(e=e||"").toString(),e="("+_p(r(e))+")"},Ec=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ec.prototype.toString=function(){return this.objId+" 0 R"},Ec.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Ec.prototype.getKeyValueListForStream=function(){var e=[],n=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var t in n)if(Object.getOwnPropertyDescriptor(this,n[t]).configurable===!1){var r=n[t],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:HO(i,this.objId,this.scope)}):i instanceof Ec?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var WO=function(){Ec.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,n=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};Co(WO,Ec);var VO=function(){Ec.call(this);var e,n=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return n.length>0?n:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return n}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+_p(t(e))+")"}},set:function(t){e=t}})};Co(VO,Ec);var Iu=function e(){Ec.call(this);var n=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return n},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');n=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ua(n,3)},set:function(w){w?this.F=ca(n,3):this.F=da(n,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');t=w}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(w){r=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(w){r[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(w){r[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(w){r[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(w){r[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof $x)return;a="FieldObject"+e.FieldNum++}var w=function(C){return C};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+_p(w(a))+")"},set:function(w){a=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(w){a=w}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(w){s=w}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(w){c=w}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/hA:d},set:function(w){d=w}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(w){h=w}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof $x||this instanceof sp))return iw(g,this.objId,this.scope)},set:function(w){w=w.toString(),g=w}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Ka?b:iw(b,this.objId,this.scope)},set:function(w){w=w.toString(),b=this instanceof Ka?w:w.substr(0,1)==="("?l0(w.substr(1,w.length-2)):l0(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ka?l0(b.substr(1,b.length-1)):b},set:function(w){w=w.toString(),b=this instanceof Ka?"/"+w:w}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Ka?m:iw(m,this.objId,this.scope)},set:function(w){w=w.toString(),m=this instanceof Ka?w:w.substr(0,1)==="("?l0(w.substr(1,w.length-2)):l0(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ka?l0(m.substr(1,m.length-1)):m},set:function(w){w=w.toString(),m=this instanceof Ka?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(w){w=!!w,y=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(w){x=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,1)},set:function(w){w?this.Ff=ca(this.Ff,1):this.Ff=da(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,2)},set:function(w){w?this.Ff=ca(this.Ff,2):this.Ff=da(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,3)},set:function(w){w?this.Ff=ca(this.Ff,3):this.Ff=da(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');A=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(A){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:A=2;break;case"center":case 1:A=1;break;case"left":case 0:default:A=0}}})};Co(Iu,Ec);var P0=function(){Iu.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var n=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return HO(n,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=function(a,s,l){l||(l=1);for(var c,d=[];c=s.exec(a);)d.push(c[l]);return d}(r,/\((.*?)\)/g)),n=i}}),this.getOptions=function(){return n},this.setOptions=function(t){n=t,this.sort&&n.sort()},this.addOption=function(t){t=(t=t||"").toString(),n.push(t),this.sort&&n.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();n.indexOf(t)!==-1&&(n.splice(n.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,18)},set:function(t){t?this.Ff=ca(this.Ff,18):this.Ff=da(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=ca(this.Ff,19):this.Ff=da(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,20)},set:function(t){t?(this.Ff=ca(this.Ff,20),n.sort()):this.Ff=da(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,22)},set:function(t){t?this.Ff=ca(this.Ff,22):this.Ff=da(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,23)},set:function(t){t?this.Ff=ca(this.Ff,23):this.Ff=da(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,27)},set:function(t){t?this.Ff=ca(this.Ff,27):this.Ff=da(this.Ff,27)}}),this.hasAppearanceStream=!1};Co(P0,Iu);var z0=function(){P0.call(this),this.fontName="helvetica",this.combo=!1};Co(z0,P0);var q0=function(){z0.call(this),this.combo=!0};Co(q0,z0);var nx=function(){q0.call(this),this.edit=!0};Co(nx,q0);var Ka=function(){Iu.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,15)},set:function(t){t?this.Ff=ca(this.Ff,15):this.Ff=da(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,16)},set:function(t){t?this.Ff=ca(this.Ff,16):this.Ff=da(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,17)},set:function(t){t?this.Ff=ca(this.Ff,17):this.Ff=da(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,26)},set:function(t){t?this.Ff=ca(this.Ff,26):this.Ff=da(this.Ff,26)}});var e,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(a){return a};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(n).length!==0){var r,i=[];for(r in i.push("<<"),n)i.push("/"+r+" ("+_p(t(n[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){Jr(t)==="object"&&(n=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(t){typeof t=="string"&&(n.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};Co(Ka,Iu);var rx=function(){Ka.call(this),this.pushButton=!0};Co(rx,Ka);var B0=function(){Ka.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n!==void 0?n:[]}})};Co(B0,Ka);var $x=function(){var e,n;Iu.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return n},set:function(i){n=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),r)s.push("/"+a+" ("+_p(i(r[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){Jr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=zt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Co($x,Iu),B0.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var n in this.Kids)if(this.Kids.hasOwnProperty(n)){var t=this.Kids[n];t.appearanceStreamContent=e.createAppearanceStream(t.optionName),t.caption=e.getCA()}},B0.prototype.createOption=function(e){var n=new $x;return n.Parent=this,n.optionName=e,this.Kids.push(n),PQ.call(this.scope,n),n};var ix=function(){Ka.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=zt.CheckBox.createAppearanceStream()};Co(ix,Ka);var sp=function(){Iu.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,13)},set:function(n){n?this.Ff=ca(this.Ff,13):this.Ff=da(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,21)},set:function(n){n?this.Ff=ca(this.Ff,21):this.Ff=da(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,23)},set:function(n){n?this.Ff=ca(this.Ff,23):this.Ff=da(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,24)},set:function(n){n?this.Ff=ca(this.Ff,24):this.Ff=da(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,25)},set:function(n){n?this.Ff=ca(this.Ff,25):this.Ff=da(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,26)},set:function(n){n?this.Ff=ca(this.Ff,26):this.Ff=da(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){Number.isInteger(n)&&(e=n)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Co(sp,Iu);var ax=function(){sp.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,14)},set:function(e){e?this.Ff=ca(this.Ff,14):this.Ff=da(this.Ff,14)}}),this.password=!0};Co(ax,sp);var zt={CheckBox:{createAppearanceStream:function(){return{N:{On:zt.CheckBox.YesNormal},D:{On:zt.CheckBox.YesPushDown,Off:zt.CheckBox.OffPushDown}}},YesPushDown:function(e){var n=dc(e);n.scope=e.scope;var t=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=IS(e,e.caption);return t.push("0.749023 g"),t.push("0 0 "+An(zt.internal.getWidth(e))+" "+An(zt.internal.getHeight(e))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+An(a.fontSize)+" Tf "+i),t.push("BT"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC"),n.stream=t.join(`
`),n},YesNormal:function(e){var n=dc(e);n.scope=e.scope;var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],a=zt.internal.getHeight(e),s=zt.internal.getWidth(e),l=IS(e,e.caption);return i.push("1 g"),i.push("0 0 "+An(s)+" "+An(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+An(s-1)+" "+An(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+An(l.fontSize)+" Tf "+r),i.push(l.text),i.push("ET"),i.push("Q"),n.stream=i.join(`
`),n},OffPushDown:function(e){var n=dc(e);n.scope=e.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+An(zt.internal.getWidth(e))+" "+An(zt.internal.getHeight(e))+" re"),t.push("f"),n.stream=t.join(`
`),n}},RadioButton:{Circle:{createAppearanceStream:function(e){var n={D:{Off:zt.RadioButton.Circle.OffPushDown},N:{}};return n.N[e]=zt.RadioButton.Circle.YesNormal,n.D[e]=zt.RadioButton.Circle.YesPushDown,n},getCA:function(){return"l"},YesNormal:function(e){var n=dc(e);n.scope=e.scope;var t=[],r=zt.internal.getWidth(e)<=zt.internal.getHeight(e)?zt.internal.getWidth(e)/4:zt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=zt.internal.Bezier_C,a=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Rf(zt.internal.getWidth(e)/2)+" "+Rf(zt.internal.getHeight(e)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),t.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),t.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),t.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),t.push("f"),t.push("Q"),n.stream=t.join(`
`),n},YesPushDown:function(e){var n=dc(e);n.scope=e.scope;var t=[],r=zt.internal.getWidth(e)<=zt.internal.getHeight(e)?zt.internal.getWidth(e)/4:zt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*zt.internal.Bezier_C).toFixed(5)),s=Number((r*zt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Rf(zt.internal.getWidth(e)/2)+" "+Rf(zt.internal.getHeight(e)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Rf(zt.internal.getWidth(e)/2)+" "+Rf(zt.internal.getHeight(e)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),n.stream=t.join(`
`),n},OffPushDown:function(e){var n=dc(e);n.scope=e.scope;var t=[],r=zt.internal.getWidth(e)<=zt.internal.getHeight(e)?zt.internal.getWidth(e)/4:zt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*zt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Rf(zt.internal.getWidth(e)/2)+" "+Rf(zt.internal.getHeight(e)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),n.stream=t.join(`
`),n}},Cross:{createAppearanceStream:function(e){var n={D:{Off:zt.RadioButton.Cross.OffPushDown},N:{}};return n.N[e]=zt.RadioButton.Cross.YesNormal,n.D[e]=zt.RadioButton.Cross.YesPushDown,n},getCA:function(){return"8"},YesNormal:function(e){var n=dc(e);n.scope=e.scope;var t=[],r=zt.internal.calculateCross(e);return t.push("q"),t.push("1 1 "+An(zt.internal.getWidth(e)-2)+" "+An(zt.internal.getHeight(e)-2)+" re"),t.push("W"),t.push("n"),t.push(An(r.x1.x)+" "+An(r.x1.y)+" m"),t.push(An(r.x2.x)+" "+An(r.x2.y)+" l"),t.push(An(r.x4.x)+" "+An(r.x4.y)+" m"),t.push(An(r.x3.x)+" "+An(r.x3.y)+" l"),t.push("s"),t.push("Q"),n.stream=t.join(`
`),n},YesPushDown:function(e){var n=dc(e);n.scope=e.scope;var t=zt.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+An(zt.internal.getWidth(e))+" "+An(zt.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+An(zt.internal.getWidth(e)-2)+" "+An(zt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(An(t.x1.x)+" "+An(t.x1.y)+" m"),r.push(An(t.x2.x)+" "+An(t.x2.y)+" l"),r.push(An(t.x4.x)+" "+An(t.x4.y)+" m"),r.push(An(t.x3.x)+" "+An(t.x3.y)+" l"),r.push("s"),r.push("Q"),n.stream=r.join(`
`),n},OffPushDown:function(e){var n=dc(e);n.scope=e.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+An(zt.internal.getWidth(e))+" "+An(zt.internal.getHeight(e))+" re"),t.push("f"),n.stream=t.join(`
`),n}}},createDefaultAppearanceStream:function(e){var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,t=e.scope.__private__.encodeColorString(e.color);return"/"+n+" "+e.fontSize+" Tf "+t}};zt.internal={Bezier_C:.551915024494,calculateCross:function(e){var n=zt.internal.getWidth(e),t=zt.internal.getHeight(e),r=Math.min(n,t);return{x1:{x:(n-r)/2,y:(t-r)/2+r},x2:{x:(n-r)/2+r,y:(t-r)/2},x3:{x:(n-r)/2,y:(t-r)/2},x4:{x:(n-r)/2+r,y:(t-r)/2+r}}}},zt.internal.getWidth=function(e){var n=0;return Jr(e)==="object"&&(n=Rk(e.Rect[2])),n},zt.internal.getHeight=function(e){var n=0;return Jr(e)==="object"&&(n=Rk(e.Rect[3])),n};var PQ=Ki.addField=function(e){if(FQ(this,e),!(e instanceof Iu))throw new Error("Invalid argument passed to jsPDF.addField.");var n;return(n=e).scope.internal.acroformPlugin.printedOut&&(n.scope.internal.acroformPlugin.printedOut=!1,n.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),n.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(n),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Ki.AcroFormChoiceField=P0,Ki.AcroFormListBox=z0,Ki.AcroFormComboBox=q0,Ki.AcroFormEditBox=nx,Ki.AcroFormButton=Ka,Ki.AcroFormPushButton=rx,Ki.AcroFormRadioButton=B0,Ki.AcroFormCheckBox=ix,Ki.AcroFormTextField=sp,Ki.AcroFormPasswordField=ax,Ki.AcroFormAppearance=zt,Ki.AcroForm={ChoiceField:P0,ListBox:z0,ComboBox:q0,EditBox:nx,Button:Ka,PushButton:rx,RadioButton:B0,CheckBox:ix,TextField:sp,PasswordField:ax,Appearance:zt},on.AcroForm={ChoiceField:P0,ListBox:z0,ComboBox:q0,EditBox:nx,Button:Ka,PushButton:rx,RadioButton:B0,CheckBox:ix,TextField:sp,PasswordField:ax,Appearance:zt};on.AcroForm;function YO(e){return e.reduce(function(n,t,r){return n[t]=r,n},{})}(function(e){e.__addimage__={};var n="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(T,O){var R,N,K,H,G,ee=n;if((O=O||n)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(L(T))for(G in t)for(K=t[G],R=0;R<K.length;R+=1){for(H=!0,N=0;N<K[R].length;N+=1)if(K[R][N]!==void 0&&K[R][N]!==T[N]){H=!1;break}if(H===!0){ee=G;break}}else for(G in t)for(K=t[G],R=0;R<K.length;R+=1){for(H=!0,N=0;N<K[R].length;N+=1)if(K[R][N]!==void 0&&K[R][N]!==T.charCodeAt(N)){H=!1;break}if(H===!0){ee=G;break}}return ee===n&&O!==n&&(ee=O),ee},i=function T(O){for(var R=this.internal.write,N=this.internal.putStream,K=(0,this.internal.getFilters)();K.indexOf("FlateEncode")!==-1;)K.splice(K.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var H=[];if(H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Image"}),H.push({key:"Width",value:O.width}),H.push({key:"Height",value:O.height}),O.colorSpace===A.INDEXED?H.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(H.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===A.DEVICE_CMYK&&H.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),H.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&H.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)){for(var G="",ee=0,le=O.transparency.length;ee<le;ee++)G+=O.transparency[ee]+" "+O.transparency[ee]+" ";H.push({key:"Mask",value:"["+G+"]"})}O.sMask!==void 0&&H.push({key:"SMask",value:O.objectId+1+" 0 R"});var Y=O.filter!==void 0?["/"+O.filter]:void 0;if(N({data:O.data,additionalKeyValues:H,alreadyAppliedFilters:Y,objectId:O.objectId}),R("endobj"),"sMask"in O&&O.sMask!==void 0){var te="/Predictor "+O.predictor+" /Colors 1 /BitsPerComponent "+O.bitsPerComponent+" /Columns "+O.width,U={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:O.bitsPerComponent,decodeParameters:te,data:O.sMask};"filter"in O&&(U.filter=O.filter),T.call(this,U)}if(O.colorSpace===A.INDEXED){var B=this.internal.newObject();N({data:M(new Uint8Array(O.palette)),objectId:B}),R("endobj")}},a=function(){var T=this.internal.collections.addImage_images;for(var O in T)i.call(this,T[O])},s=function(){var T,O=this.internal.collections.addImage_images,R=this.internal.write;for(var N in O)R("/I"+(T=O[N]).index,T.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",s))},c=function(){var T=this.internal.collections.addImage_images;return l.call(this),T},d=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(T){return typeof e["process"+T.toUpperCase()]=="function"},g=function(T){return Jr(T)==="object"&&T.nodeType===1},b=function(T,O){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var R=""+T.getAttribute("src");if(R.indexOf("data:image/")===0)return Z1(unescape(R).split("base64,").pop());var N=e.loadFile(R,!0);if(N!==void 0)return N}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var K;switch(O){case"PNG":K="image/png";break;case"WEBP":K="image/webp";break;case"JPEG":case"JPG":default:K="image/jpeg"}return Z1(T.toDataURL(K,1).split("base64,").pop())}},m=function(T){var O=this.internal.collections.addImage_images;if(O){for(var R in O)if(T===O[R].alias)return O[R]}},x=function(T,O,R){return T||O||(T=-96,O=-96),T<0&&(T=-1*R.width*72/T/this.internal.scaleFactor),O<0&&(O=-1*R.height*72/O/this.internal.scaleFactor),T===0&&(T=O*R.width/R.height),O===0&&(O=T*R.height/R.width),[T,O]},y=function(T,O,R,N,K,H){var G=x.call(this,R,N,K),ee=this.internal.getCoordinateString,le=this.internal.getVerticalCoordinateString,Y=c.call(this);if(R=G[0],N=G[1],Y[K.index]=K,H){H*=Math.PI/180;var te=Math.cos(H),U=Math.sin(H),B=function(Z){return Z.toFixed(4)},re=[B(te),B(U),B(-1*U),B(te),0,0,"cm"]}this.internal.write("q"),H?(this.internal.write([1,"0","0",1,ee(T),le(O+N),"cm"].join(" ")),this.internal.write(re.join(" ")),this.internal.write([ee(R),"0","0",ee(N),"0","0","cm"].join(" "))):this.internal.write([ee(R),"0","0",ee(N),ee(T),le(O+N),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+K.index+" Do"),this.internal.write("Q")},A=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=e.__addimage__.sHashCode=function(T){var O,R,N=0;if(typeof T=="string")for(R=T.length,O=0;O<R;O++)N=(N<<5)-N+T.charCodeAt(O),N|=0;else if(L(T))for(R=T.byteLength/2,O=0;O<R;O++)N=(N<<5)-N+T[O],N|=0;return N},j=e.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var O=!0;return T.length===0&&(O=!1),T.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(O=!1),O},F=e.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var O=T.indexOf(",");return O<0?null:T.substring(0,O).trim().endsWith("base64")?T.substring(O+1):null},z=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(T){return z()&&T instanceof ArrayBuffer};var L=e.__addimage__.isArrayBufferView=function(T){return z()&&typeof Uint32Array<"u"&&(T instanceof Int8Array||T instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array)},k=e.__addimage__.binaryStringToUint8Array=function(T){for(var O=T.length,R=new Uint8Array(O),N=0;N<O;N++)R[N]=T.charCodeAt(N);return R},M=e.__addimage__.arrayBufferToBinaryString=function(T){for(var O="",R=L(T)?T:new Uint8Array(T),N=0;N<R.length;N+=8192)O+=String.fromCharCode.apply(null,R.subarray(N,N+8192));return O};e.addImage=function(){var T,O,R,N,K,H,G,ee,le;if(typeof arguments[1]=="number"?(O=n,R=arguments[1],N=arguments[2],K=arguments[3],H=arguments[4],G=arguments[5],ee=arguments[6],le=arguments[7]):(O=arguments[1],R=arguments[2],N=arguments[3],K=arguments[4],H=arguments[5],G=arguments[6],ee=arguments[7],le=arguments[8]),Jr(T=arguments[0])==="object"&&!g(T)&&"imageData"in T){var Y=T;T=Y.imageData,O=Y.format||O||n,R=Y.x||R||0,N=Y.y||N||0,K=Y.w||Y.width||K,H=Y.h||Y.height||H,G=Y.alias||G,ee=Y.compression||ee,le=Y.rotation||Y.angle||le}var te=this.internal.getFilters();if(ee===void 0&&te.indexOf("FlateEncode")!==-1&&(ee="SLOW"),isNaN(R)||isNaN(N))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var U=q.call(this,T,O,G,ee);return y.call(this,R,N,K,H,U,le),this};var q=function(T,O,R,N){var K,H,G;if(typeof T=="string"&&r(T)===n){T=unescape(T);var ee=Q(T,!1);(ee!==""||(ee=e.loadFile(T,!0))!==void 0)&&(T=ee)}if(g(T)&&(T=b(T,O)),O=r(T,O),!h(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((G=R)==null||G.length===0)&&(R=function(le){return typeof le=="string"||L(le)?C(le):L(le.data)?C(le.data):null}(T)),(K=m.call(this,R))||(z()&&(T instanceof Uint8Array||O==="RGBA"||(H=T,T=k(T))),K=this["process"+O.toUpperCase()](T,d.call(this),R,function(le){return le&&typeof le=="string"&&(le=le.toUpperCase()),le in e.image_compression?le:w.NONE}(N),H)),!K)throw new Error("An unknown error occurred whilst processing the image.");return K},Q=e.__addimage__.convertBase64ToBinaryString=function(T,O){O=typeof O!="boolean"||O;var R,N="";if(typeof T=="string"){var K;R=(K=F(T))!==null&&K!==void 0?K:T;try{N=Z1(R)}catch(H){if(O)throw j(R)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+H.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return N};e.getImageProperties=function(T){var O,R,N="";if(g(T)&&(T=b(T)),typeof T=="string"&&r(T)===n&&((N=Q(T,!1))===""&&(N=e.loadFile(T)||""),T=N),R=r(T),!h(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(!z()||T instanceof Uint8Array||(T=k(T)),!(O=this["process"+R.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=R,O}})(on.API),function(e){var n=function(t){if(t!==void 0&&t!="")return!0};on.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(t){for(var r,i,a,s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,h=!1,g=0;g<d.length&&!h;g++)switch((r=d[g]).type){case"link":(n(r.options.url)||n(r.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var b=0;b<d.length;b++){r=d[b];var m=this.internal.pdfEscape,x=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(y.objId),C=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+m(w(r.contents))+")",a+=" /Popup "+A.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+m(w(C))+") >>",y.content=a;var j=y.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+j,r.open&&(a+=" /Open true"),a+=" >>",A.content=a,this.internal.write(y.objId,"0 R",A.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+l(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var F=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(x(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var z=this.annotations._nameMap[r.options.name];r.options.pageNumber=z.page,r.options.top=z.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(x(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var L=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+L+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},e.link=function(t,r,i,a,s){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(t),y:d(r),w:c(t+i),h:d(r+a)},options:s,type:"link"})},e.textWithLink=function(t,r,i,a){var s,l,c=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var h=this.splitTextToSize(t,l).length;s=Math.ceil(d*h)}else l=c,s=d;return this.text(t,r,i,a),i+=.2*d,a.align==="center"&&(r-=c/2),a.align==="right"&&(r-=c),this.link(r,i-d,l,s,a),c},e.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(on.API),function(e){var n={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(y){return n[y.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},l=e.__arabicParser__.isArabicEndLetter=function(y){return s(y)&&a(y)&&n[y.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(y){return s(y)&&i.indexOf(y.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return s(y)&&a(y)&&n[y.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(y){return s(y)&&a(y)&&n[y.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(y){return s(y)&&a(y)&&n[y.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(y){return s(y)&&a(y)&&n[y.charCodeAt(0)].length==4},g=e.__arabicParser__.resolveLigatures=function(y){var A=0,w=t,C="",j=0;for(A=0;A<y.length;A+=1)w[y.charCodeAt(A)]!==void 0?(j++,typeof(w=w[y.charCodeAt(A)])=="number"&&(C+=String.fromCharCode(w),w=t,j=0),A===y.length-1&&(w=t,C+=y.charAt(A-(j-1)),A-=j-1,j=0)):(w=t,C+=y.charAt(A-j),A-=j,j=0);return C};e.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&r[y.charCodeAt(0)]!==void 0};var b=e.__arabicParser__.getCorrectForm=function(y,A,w){return s(y)?a(y)===!1?-1:!d(y)||!s(A)&&!s(w)||!s(w)&&l(A)||l(y)&&!s(A)||l(y)&&c(A)||l(y)&&l(A)?0:h(y)&&s(A)&&!l(A)&&s(w)&&d(w)?3:l(y)||!s(w)?1:2:-1},m=function(y){var A=0,w=0,C=0,j="",F="",z="",L=(y=y||"").split("\\s+"),k=[];for(A=0;A<L.length;A+=1){for(k.push(""),w=0;w<L[A].length;w+=1)j=L[A][w],F=L[A][w-1],z=L[A][w+1],s(j)?(C=b(j,F,z),k[A]+=C!==-1?String.fromCharCode(n[j.charCodeAt(0)][C]):j):k[A]+=j;k[A]=g(k[A])}return k.join(" ")},x=e.__arabicParser__.processArabic=e.processArabic=function(){var y,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(A)){var C=0;for(w=[],C=0;C<A.length;C+=1)Array.isArray(A[C])?w.push([m(A[C][0]),A[C][1],A[C][2]]):w.push([m(A[C])]);y=w}else y=m(A);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};e.events.push(["preProcessText",x])}(on.API),on.API.autoPrint=function(e){var n;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+n+" 0 R")})}return this},function(e){var n=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(l){s=l}}),Object.defineProperty(this,"parentNode",{})};n.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},n.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new n,this.canvas.pdf=this}])}(on.API),function(e){var n={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},n),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(y){g=y}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(y){b=y}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(y){m=y}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(y){x=y}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){r.call(this);var h=(d=d||{}).fontSize||this.getFontSize(),g=d.font||this.getFont(),b=d.scaleFactor||this.internal.scaleFactor,m=0,x=0,y=0,A=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var w=d.maxWidth;w>0?typeof c=="string"?c=this.splitTextToSize(c,w):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(j,F){return j.concat(A.splitTextToSize(F,w))},[])):c=Array.isArray(c)?c:[c];for(var C=0;C<c.length;C++)m<(y=this.getStringUnitWidth(c[C],{font:g})*h)&&(m=y);return m!==0&&(x=c.length),{w:m/=b,h:Math.max((x*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/b,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||n;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,g=this.internal.__cell__.margins||n,b=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=g.top,m&&b&&(this.printHeaderRow(c.lineNumber,!0),c.y+=b[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-h,c.y+h,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+h,{align:"center",baseline:"top",maxWidth:c.width-h-h}):this.text(c.text,c.x+h,c.y+h,{align:"left",baseline:"top",maxWidth:c.width-h-h})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,h,g,b){if(r.call(this),!h)throw new Error("No data for PDF table.");var m,x,y,A,w=[],C=[],j=[],F={},z={},L=[],k=[],M=(b=b||{}).autoSize||!1,q=b.printHeaders!==!1,Q=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,T=b.margins||Object.assign({width:this.getPageWidth()},n),O=typeof b.padding=="number"?b.padding:3,R=b.headerBackgroundColor||"#c8c8c8",N=b.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=q,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=Q,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=R,this.internal.__cell__.headerTextColor=N,this.setFontSize(Q),g==null)C=w=Object.keys(h[0]),j=w.map(function(){return"left"});else if(Array.isArray(g)&&Jr(g[0])==="object")for(w=g.map(function(Y){return Y.name}),C=g.map(function(Y){return Y.prompt||Y.name||""}),j=g.map(function(Y){return Y.align||"left"}),m=0;m<g.length;m+=1)z[g[m].name]=g[m].width*(19.049976/25.4);else Array.isArray(g)&&typeof g[0]=="string"&&(C=w=g,j=w.map(function(){return"left"}));if(M||Array.isArray(g)&&typeof g[0]=="string")for(m=0;m<w.length;m+=1){for(F[A=w[m]]=h.map(function(Y){return Y[A]}),this.setFont(void 0,"bold"),L.push(this.getTextDimensions(C[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=F[A],this.setFont(void 0,"normal"),y=0;y<x.length;y+=1)L.push(this.getTextDimensions(x[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);z[A]=Math.max.apply(null,L)+O+O,L=[]}if(q){var K={};for(m=0;m<w.length;m+=1)K[w[m]]={},K[w[m]].text=C[m],K[w[m]].align=j[m];var H=l.call(this,K,z);k=w.map(function(Y){return new a(c,d,z[Y],H,K[Y].text,void 0,K[Y].align)}),this.setTableHeaderRow(k),this.printHeaderRow(1,!1)}var G=g.reduce(function(Y,te){return Y[te.name]=te.align,Y},{});for(m=0;m<h.length;m+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:m,data:h[m]},this);var ee=l.call(this,h[m],z);for(y=0;y<w.length;y+=1){var le=h[m][w[y]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:m,col:y,data:le},this),s.call(this,new a(c,d,z[w[y]],ee,le,m+2,G[w[y]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var h=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(c).map(function(m){var x=c[m];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,d[m]-h-h)},this).map(function(m){return this.getLineHeightFactor()*m.length*g/b+h+h},this).reduce(function(m,x){return Math.max(m,x)},0)};e.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){h=this.internal.__cell__.tableHeaderRow[m].clone(),d&&(h.y=this.internal.__cell__.margins.top||0,b.push(h)),h.lineNumber=c;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,h),this.setTextColor(x)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),t=!1}}(on.API);var GO={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},QO=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],DS=YO(QO),KO=[100,200,300,400,500,600,700,800,900],zQ=YO(KO);function LS(e){var n=e.family.replace(/"|'/g,"").toLowerCase(),t=function(a){return GO[a=a||"normal"]?a:"normal"}(e.style),r=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(a){return typeof DS[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:n,style:t,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:n,style:[i,t,r].join(" ")}}}function Mk(e,n,t,r){var i;for(i=t;i>=0&&i<n.length;i+=r)if(e[n[i]])return e[n[i]];for(i=t;i>=0&&i<n.length;i-=r)if(e[n[i]])return e[n[i]]}var qQ={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Fk={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Pk(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function BQ(e,n,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},qQ,t.genericFontFamilies||{}),a=null,s=null,l=0;l<n.length;++l)if(i[(a=LS(n[l])).family]&&(a.family=i[a.family]),e.hasOwnProperty(a.family)){s=e[a.family];break}if(!(s=s||e[r]))throw new Error("Could not find a font-family for the rule '"+Pk(a)+"' and default family '"+r+"'.");if(s=function(c,d){if(d[c])return d[c];var h=DS[c],g=h<=DS.normal?-1:1,b=Mk(d,QO,h,g);if(!b)throw new Error("Could not find a matching font-stretch value for "+c);return b}(a.stretch,s),s=function(c,d){if(d[c])return d[c];for(var h=GO[c],g=0;g<h.length;++g)if(d[h[g]])return d[h[g]];throw new Error("Could not find a matching font-style for "+c)}(a.style,s),!(s=function(c,d){if(d[c])return d[c];if(c===400&&d[500])return d[500];if(c===500&&d[400])return d[400];var h=zQ[c],g=Mk(d,KO,h,c<400?-1:1);if(!g)throw new Error("Could not find a matching font-weight for value "+c);return g}(a.weight,s)))throw new Error("Failed to resolve a font for the rule '"+Pk(a)+"'.");return s}function zk(e){return e.trimLeft()}function UQ(e,n){for(var t=0;t<e.length;){if(e.charAt(t)===n)return[e.substring(0,t),e.substring(t+1)];t+=1}return null}function $Q(e){var n=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return n===null?null:[n[0],e.substring(n[0].length)]}var Dy,qk,Bk,aw=["times"];(function(e){var n,t,r,i,a,s,l,c,d,h=function(U){return U=U||{},this.isStrokeTransparent=U.isStrokeTransparent||!1,this.strokeOpacity=U.strokeOpacity||1,this.strokeStyle=U.strokeStyle||"#000000",this.fillStyle=U.fillStyle||"#000000",this.isFillTransparent=U.isFillTransparent||!1,this.fillOpacity=U.fillOpacity||1,this.font=U.font||"10px sans-serif",this.textBaseline=U.textBaseline||"alphabetic",this.textAlign=U.textAlign||"left",this.lineWidth=U.lineWidth||1,this.lineJoin=U.lineJoin||"miter",this.lineCap=U.lineCap||"butt",this.path=U.path||[],this.transform=U.transform!==void 0?U.transform.clone():new c,this.globalCompositeOperation=U.globalCompositeOperation||"normal",this.globalAlpha=U.globalAlpha||1,this.clip_path=U.clip_path||[],this.currentPoint=U.currentPoint||new s,this.miterLimit=U.miterLimit||10,this.lastPoint=U.lastPoint||new s,this.lineDashOffset=U.lineDashOffset||0,this.lineDash=U.lineDash||[],this.margin=U.margin||[0,0,0,0],this.prevPageLastElemOffset=U.prevPageLastElemOffset||0,this.ignoreClearRect=typeof U.ignoreClearRect!="boolean"||U.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new g(this),n=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new h}]);var g=function(U){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var B=U;Object.defineProperty(this,"pdf",{get:function(){return B}});var re=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return re},set:function(Se){re=!!Se}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(Se){Z=!!Se}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(Se){isNaN(Se)||(ne=Se)}});var ve=0;Object.defineProperty(this,"posY",{get:function(){return ve},set:function(Se){isNaN(Se)||(ve=Se)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Se){var se;typeof Se=="number"?se=[Se,Se,Se,Se]:((se=new Array(4))[0]=Se[0],se[1]=Se.length>=2?Se[1]:se[0],se[2]=Se.length>=3?Se[2]:se[0],se[3]=Se.length>=4?Se[3]:se[1]),d.margin=se}});var ye=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ye},set:function(Se){ye=Se}});var Ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ce},set:function(Se){Ce=Se}});var Oe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Oe},set:function(Se){Oe=Se}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Se){Se instanceof h&&(d=Se)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Se){d.path=Se}});var Ie=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ie},set:function(Se){Ie=Se}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Se){var se;se=b(Se),this.ctx.fillStyle=se.style,this.ctx.isFillTransparent=se.a===0,this.ctx.fillOpacity=se.a,this.pdf.setFillColor(se.r,se.g,se.b,{a:se.a}),this.pdf.setTextColor(se.r,se.g,se.b,{a:se.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Se){var se=b(Se);this.ctx.strokeStyle=se.style,this.ctx.isStrokeTransparent=se.a===0,this.ctx.strokeOpacity=se.a,se.a===0?this.pdf.setDrawColor(255,255,255):(se.a,this.pdf.setDrawColor(se.r,se.g,se.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Se){["butt","round","square"].indexOf(Se)!==-1&&(this.ctx.lineCap=Se,this.pdf.setLineCap(Se))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Se){isNaN(Se)||(this.ctx.lineWidth=Se,this.pdf.setLineWidth(Se))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Se){["bevel","round","miter"].indexOf(Se)!==-1&&(this.ctx.lineJoin=Se,this.pdf.setLineJoin(Se))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Se){isNaN(Se)||(this.ctx.miterLimit=Se,this.pdf.setMiterLimit(Se))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Se){this.ctx.textBaseline=Se}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Se){["right","end","center","left","start"].indexOf(Se)!==-1&&(this.ctx.textAlign=Se)}});var $e=null;function We(Se,se){if($e===null){var he=function(de){var we=[];return Object.keys(de).forEach(function(Le){de[Le].forEach(function(Pe){var _e=null;switch(Pe){case"bold":_e={family:Le,weight:"bold"};break;case"italic":_e={family:Le,style:"italic"};break;case"bolditalic":_e={family:Le,weight:"bold",style:"italic"};break;case"":case"normal":_e={family:Le}}_e!==null&&(_e.ref={name:Le,style:Pe},we.push(_e))})}),we}(Se.getFontList());$e=function(de){for(var we={},Le=0;Le<de.length;++Le){var Pe=LS(de[Le]),_e=Pe.family,Ke=Pe.stretch,ot=Pe.style,nt=Pe.weight;we[_e]=we[_e]||{},we[_e][Ke]=we[_e][Ke]||{},we[_e][Ke][ot]=we[_e][Ke][ot]||{},we[_e][Ke][ot][nt]=Pe}return we}(he.concat(se))}return $e}var V=null;Object.defineProperty(this,"fontFaces",{get:function(){return V},set:function(Se){$e=null,V=Se}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Se){var se;if(this.ctx.font=Se,(se=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Se))!==null){var he=se[1];se[2];var de=se[3],we=se[4];se[5];var Le=se[6],Pe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(we)[2];we=Math.floor(Pe==="px"?parseFloat(we)*this.pdf.internal.scaleFactor:Pe==="em"?parseFloat(we)*this.pdf.getFontSize():parseFloat(we)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(we);var _e=function(je){var ct,Je,Rt=[],kt=je.trim();if(kt==="")return aw;if(kt in Fk)return[Fk[kt]];for(;kt!=="";){switch(Je=null,ct=(kt=zk(kt)).charAt(0)){case'"':case"'":Je=UQ(kt.substring(1),ct);break;default:Je=$Q(kt)}if(Je===null||(Rt.push(Je[0]),(kt=zk(Je[1]))!==""&&kt.charAt(0)!==","))return aw;kt=kt.replace(/^,/,"")}return Rt}(Le);if(this.fontFaces){var Ke=BQ(We(this.pdf,this.fontFaces),_e.map(function(je){return{family:je,stretch:"normal",weight:de,style:he}}));this.pdf.setFont(Ke.ref.name,Ke.ref.style)}else{var ot="";(de==="bold"||parseInt(de,10)>=700||he==="bold")&&(ot="bold"),he==="italic"&&(ot+="italic"),ot.length===0&&(ot="normal");for(var nt="",De={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},xe=0;xe<_e.length;xe++){if(this.pdf.internal.getFont(_e[xe],ot,{noFallback:!0,disableWarning:!0})!==void 0){nt=_e[xe];break}if(ot==="bolditalic"&&this.pdf.internal.getFont(_e[xe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)nt=_e[xe],ot="bold";else if(this.pdf.internal.getFont(_e[xe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){nt=_e[xe],ot="normal";break}}if(nt===""){for(var ke=0;ke<_e.length;ke++)if(De[_e[ke]]){nt=De[_e[ke]];break}}nt=nt===""?"Times":nt,this.pdf.setFont(nt,ot)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Se){this.ctx.globalCompositeOperation=Se}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Se){this.ctx.globalAlpha=Se}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Se){this.ctx.lineDashOffset=Se,te.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Se){this.ctx.lineDash=Se,te.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Se){this.ctx.ignoreClearRect=!!Se}})};g.prototype.setLineDash=function(U){this.lineDash=U},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){F.call(this,"fill",!1)},g.prototype.stroke=function(){F.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(U,B){if(isNaN(U)||isNaN(B))throw Zr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var re=this.ctx.transform.applyToPoint(new s(U,B));this.path.push({type:"mt",x:re.x,y:re.y}),this.ctx.lastPoint=new s(U,B)},g.prototype.closePath=function(){var U=new s(0,0),B=0;for(B=this.path.length-1;B!==-1;B--)if(this.path[B].type==="begin"&&Jr(this.path[B+1])==="object"&&typeof this.path[B+1].x=="number"){U=new s(this.path[B+1].x,this.path[B+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(U.x,U.y)},g.prototype.lineTo=function(U,B){if(isNaN(U)||isNaN(B))throw Zr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var re=this.ctx.transform.applyToPoint(new s(U,B));this.path.push({type:"lt",x:re.x,y:re.y}),this.ctx.lastPoint=new s(re.x,re.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},g.prototype.quadraticCurveTo=function(U,B,re,Z){if(isNaN(re)||isNaN(Z)||isNaN(U)||isNaN(B))throw Zr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new s(re,Z)),ve=this.ctx.transform.applyToPoint(new s(U,B));this.path.push({type:"qct",x1:ve.x,y1:ve.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new s(ne.x,ne.y)},g.prototype.bezierCurveTo=function(U,B,re,Z,ne,ve){if(isNaN(ne)||isNaN(ve)||isNaN(U)||isNaN(B)||isNaN(re)||isNaN(Z))throw Zr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ye=this.ctx.transform.applyToPoint(new s(ne,ve)),Ce=this.ctx.transform.applyToPoint(new s(U,B)),Oe=this.ctx.transform.applyToPoint(new s(re,Z));this.path.push({type:"bct",x1:Ce.x,y1:Ce.y,x2:Oe.x,y2:Oe.y,x:ye.x,y:ye.y}),this.ctx.lastPoint=new s(ye.x,ye.y)},g.prototype.arc=function(U,B,re,Z,ne,ve){if(isNaN(U)||isNaN(B)||isNaN(re)||isNaN(Z)||isNaN(ne))throw Zr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ve=!!ve,!this.ctx.transform.isIdentity){var ye=this.ctx.transform.applyToPoint(new s(U,B));U=ye.x,B=ye.y;var Ce=this.ctx.transform.applyToPoint(new s(0,re)),Oe=this.ctx.transform.applyToPoint(new s(0,0));re=Math.sqrt(Math.pow(Ce.x-Oe.x,2)+Math.pow(Ce.y-Oe.y,2))}Math.abs(ne-Z)>=2*Math.PI&&(Z=0,ne=2*Math.PI),this.path.push({type:"arc",x:U,y:B,radius:re,startAngle:Z,endAngle:ne,counterclockwise:ve})},g.prototype.arcTo=function(U,B,re,Z,ne){throw new Error("arcTo not implemented.")},g.prototype.rect=function(U,B,re,Z){if(isNaN(U)||isNaN(B)||isNaN(re)||isNaN(Z))throw Zr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(U,B),this.lineTo(U+re,B),this.lineTo(U+re,B+Z),this.lineTo(U,B+Z),this.lineTo(U,B),this.lineTo(U+re,B),this.lineTo(U,B)},g.prototype.fillRect=function(U,B,re,Z){if(isNaN(U)||isNaN(B)||isNaN(re)||isNaN(Z))throw Zr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(U,B,re,Z),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},g.prototype.strokeRect=function(U,B,re,Z){if(isNaN(U)||isNaN(B)||isNaN(re)||isNaN(Z))throw Zr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(U,B,re,Z),this.stroke())},g.prototype.clearRect=function(U,B,re,Z){if(isNaN(U)||isNaN(B)||isNaN(re)||isNaN(Z))throw Zr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(U,B,re,Z))},g.prototype.save=function(U){U=typeof U!="boolean"||U;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("q");if(this.pdf.setPage(B),U){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},g.prototype.restore=function(U){U=typeof U!="boolean"||U;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("Q");this.pdf.setPage(B),U&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(U){var B,re,Z,ne;if(U.isCanvasGradient===!0&&(U=U.getColor()),!U)return{r:0,g:0,b:0,a:0,style:U};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(U))B=0,re=0,Z=0,ne=0;else{var ve=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(U);if(ve!==null)B=parseInt(ve[1]),re=parseInt(ve[2]),Z=parseInt(ve[3]),ne=1;else if((ve=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(U))!==null)B=parseInt(ve[1]),re=parseInt(ve[2]),Z=parseInt(ve[3]),ne=parseFloat(ve[4]);else{if(ne=1,typeof U=="string"&&U.charAt(0)!=="#"){var ye=new BO(U);U=ye.ok?ye.toHex():"#000000"}U.length===4?(B=U.substring(1,2),B+=B,re=U.substring(2,3),re+=re,Z=U.substring(3,4),Z+=Z):(B=U.substring(1,3),re=U.substring(3,5),Z=U.substring(5,7)),B=parseInt(B,16),re=parseInt(re,16),Z=parseInt(Z,16)}}return{r:B,g:re,b:Z,a:ne,style:U}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(U,B,re,Z){if(isNaN(B)||isNaN(re)||typeof U!="string")throw Zr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!m.call(this)){var ne=ee(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;O.call(this,{text:U,x:B,y:re,scale:ve,angle:ne,align:this.textAlign,maxWidth:Z})}},g.prototype.strokeText=function(U,B,re,Z){if(isNaN(B)||isNaN(re)||typeof U!="string")throw Zr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){Z=isNaN(Z)?void 0:Z;var ne=ee(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;O.call(this,{text:U,x:B,y:re,scale:ve,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:Z})}},g.prototype.measureText=function(U){if(typeof U!="string")throw Zr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var B=this.pdf,re=this.pdf.internal.scaleFactor,Z=B.internal.getFontSize(),ne=B.getStringUnitWidth(U)*Z/B.internal.scaleFactor,ve=function(ye){var Ce=(ye=ye||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ce}}),this};return new ve({width:ne*=Math.round(96*re/72*1e4)/1e4})},g.prototype.scale=function(U,B){if(isNaN(U)||isNaN(B))throw Zr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var re=new c(U,0,0,B,0,0);this.ctx.transform=this.ctx.transform.multiply(re)},g.prototype.rotate=function(U){if(isNaN(U))throw Zr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var B=new c(Math.cos(U),Math.sin(U),-Math.sin(U),Math.cos(U),0,0);this.ctx.transform=this.ctx.transform.multiply(B)},g.prototype.translate=function(U,B){if(isNaN(U)||isNaN(B))throw Zr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var re=new c(1,0,0,1,U,B);this.ctx.transform=this.ctx.transform.multiply(re)},g.prototype.transform=function(U,B,re,Z,ne,ve){if(isNaN(U)||isNaN(B)||isNaN(re)||isNaN(Z)||isNaN(ne)||isNaN(ve))throw Zr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ye=new c(U,B,re,Z,ne,ve);this.ctx.transform=this.ctx.transform.multiply(ye)},g.prototype.setTransform=function(U,B,re,Z,ne,ve){U=isNaN(U)?1:U,B=isNaN(B)?0:B,re=isNaN(re)?0:re,Z=isNaN(Z)?1:Z,ne=isNaN(ne)?0:ne,ve=isNaN(ve)?0:ve,this.ctx.transform=new c(U,B,re,Z,ne,ve)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(U,B,re,Z,ne,ve,ye,Ce,Oe){var Ie=this.pdf.getImageProperties(U),$e=1,We=1,V=1,Se=1;Z!==void 0&&Ce!==void 0&&(V=Ce/Z,Se=Oe/ne,$e=Ie.width/Z*Ce/Z,We=Ie.height/ne*Oe/ne),ve===void 0&&(ve=B,ye=re,B=0,re=0),Z!==void 0&&Ce===void 0&&(Ce=Z,Oe=ne),Z===void 0&&Ce===void 0&&(Ce=Ie.width,Oe=Ie.height);for(var se,he=this.ctx.transform.decompose(),de=ee(he.rotate.shx),we=new c,Le=(we=(we=(we=we.multiply(he.translate)).multiply(he.skew)).multiply(he.scale)).applyToRectangle(new l(ve-B*V,ye-re*Se,Z*$e,ne*We)),Pe=A.call(this,Le),_e=[],Ke=0;Ke<Pe.length;Ke+=1)_e.indexOf(Pe[Ke])===-1&&_e.push(Pe[Ke]);if(j(_e),this.autoPaging)for(var ot=_e[0],nt=_e[_e.length-1],De=ot;De<nt+1;De++){this.pdf.setPage(De);var xe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ke=De===1?this.posY+this.margin[0]:this.margin[0],je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Je=De===1?0:je+(De-2)*ct;if(this.ctx.clip_path.length!==0){var Rt=this.path;se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(se,this.posX+this.margin[3],-Je+ke+this.ctx.prevPageLastElemOffset),z.call(this,"fill",!0),this.path=Rt}var kt=JSON.parse(JSON.stringify(Le));kt=C([kt],this.posX+this.margin[3],-Je+ke+this.ctx.prevPageLastElemOffset)[0];var Wt=(De>ot||De<nt)&&y.call(this);Wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xe,ct,null).clip().discardPath()),this.pdf.addImage(U,"JPEG",kt.x,kt.y,kt.w,kt.h,null,null,de),Wt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(U,"JPEG",Le.x,Le.y,Le.w,Le.h,null,null,de)};var A=function(U,B,re){var Z=[];B=B||this.pdf.internal.pageSize.width,re=re||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(U.type){default:case"mt":case"lt":Z.push(Math.floor((U.y+ne)/re)+1);break;case"arc":Z.push(Math.floor((U.y+ne-U.radius)/re)+1),Z.push(Math.floor((U.y+ne+U.radius)/re)+1);break;case"qct":var ve=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x,U.y);Z.push(Math.floor((ve.y+ne)/re)+1),Z.push(Math.floor((ve.y+ve.h+ne)/re)+1);break;case"bct":var ye=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x2,U.y2,U.x,U.y);Z.push(Math.floor((ye.y+ne)/re)+1),Z.push(Math.floor((ye.y+ye.h+ne)/re)+1);break;case"rect":Z.push(Math.floor((U.y+ne)/re)+1),Z.push(Math.floor((U.y+U.h+ne)/re)+1)}for(var Ce=0;Ce<Z.length;Ce+=1)for(;this.pdf.internal.getNumberOfPages()<Z[Ce];)w.call(this);return Z},w=function(){var U=this.fillStyle,B=this.strokeStyle,re=this.font,Z=this.lineCap,ne=this.lineWidth,ve=this.lineJoin;this.pdf.addPage(),this.fillStyle=U,this.strokeStyle=B,this.font=re,this.lineCap=Z,this.lineWidth=ne,this.lineJoin=ve},C=function(U,B,re){for(var Z=0;Z<U.length;Z++)switch(U[Z].type){case"bct":U[Z].x2+=B,U[Z].y2+=re;case"qct":U[Z].x1+=B,U[Z].y1+=re;case"mt":case"lt":case"arc":default:U[Z].x+=B,U[Z].y+=re}return U},j=function(U){return U.sort(function(B,re){return B-re})},F=function(U,B){for(var re,Z,ne=this.fillStyle,ve=this.strokeStyle,ye=this.lineCap,Ce=this.lineWidth,Oe=Math.abs(Ce*this.ctx.transform.scaleX),Ie=this.lineJoin,$e=JSON.parse(JSON.stringify(this.path)),We=JSON.parse(JSON.stringify(this.path)),V=[],Se=0;Se<We.length;Se++)if(We[Se].x!==void 0)for(var se=A.call(this,We[Se]),he=0;he<se.length;he+=1)V.indexOf(se[he])===-1&&V.push(se[he]);for(var de=0;de<V.length;de++)for(;this.pdf.internal.getNumberOfPages()<V[de];)w.call(this);if(j(V),this.autoPaging)for(var we=V[0],Le=V[V.length-1],Pe=we;Pe<Le+1;Pe++){this.pdf.setPage(Pe),this.fillStyle=ne,this.strokeStyle=ve,this.lineCap=ye,this.lineWidth=Oe,this.lineJoin=Ie;var _e=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ke=Pe===1?this.posY+this.margin[0]:this.margin[0],ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],De=Pe===1?0:ot+(Pe-2)*nt;if(this.ctx.clip_path.length!==0){var xe=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(re,this.posX+this.margin[3],-De+Ke+this.ctx.prevPageLastElemOffset),z.call(this,U,!0),this.path=xe}if(Z=JSON.parse(JSON.stringify($e)),this.path=C(Z,this.posX+this.margin[3],-De+Ke+this.ctx.prevPageLastElemOffset),B===!1||Pe===0){var ke=(Pe>we||Pe<Le)&&y.call(this);ke&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_e,nt,null).clip().discardPath()),z.call(this,U,B),ke&&this.pdf.restoreGraphicsState()}this.lineWidth=Ce}else this.lineWidth=Oe,z.call(this,U,B),this.lineWidth=Ce;this.path=$e},z=function(U,B){if((U!=="stroke"||B||!x.call(this))&&(U==="stroke"||B||!m.call(this))){for(var re,Z,ne=[],ve=this.path,ye=0;ye<ve.length;ye++){var Ce=ve[ye];switch(Ce.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:Ce,deltas:[],abs:[]});break;case"lt":var Oe=ne.length;if(ve[ye-1]&&!isNaN(ve[ye-1].x)&&(re=[Ce.x-ve[ye-1].x,Ce.y-ve[ye-1].y],Oe>0)){for(;Oe>=0;Oe--)if(ne[Oe-1].close!==!0&&ne[Oe-1].begin!==!0){ne[Oe-1].deltas.push(re),ne[Oe-1].abs.push(Ce);break}}break;case"bct":re=[Ce.x1-ve[ye-1].x,Ce.y1-ve[ye-1].y,Ce.x2-ve[ye-1].x,Ce.y2-ve[ye-1].y,Ce.x-ve[ye-1].x,Ce.y-ve[ye-1].y],ne[ne.length-1].deltas.push(re);break;case"qct":var Ie=ve[ye-1].x+2/3*(Ce.x1-ve[ye-1].x),$e=ve[ye-1].y+2/3*(Ce.y1-ve[ye-1].y),We=Ce.x+2/3*(Ce.x1-Ce.x),V=Ce.y+2/3*(Ce.y1-Ce.y),Se=Ce.x,se=Ce.y;re=[Ie-ve[ye-1].x,$e-ve[ye-1].y,We-ve[ye-1].x,V-ve[ye-1].y,Se-ve[ye-1].x,se-ve[ye-1].y],ne[ne.length-1].deltas.push(re);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(Ce)}}Z=B?null:U==="stroke"?"stroke":"fill";for(var he=!1,de=0;de<ne.length;de++)if(ne[de].arc)for(var we=ne[de].abs,Le=0;Le<we.length;Le++){var Pe=we[Le];Pe.type==="arc"?M.call(this,Pe.x,Pe.y,Pe.radius,Pe.startAngle,Pe.endAngle,Pe.counterclockwise,void 0,B,!he):R.call(this,Pe.x,Pe.y),he=!0}else if(ne[de].close===!0)this.pdf.internal.out("h"),he=!1;else if(ne[de].begin!==!0){var _e=ne[de].start.x,Ke=ne[de].start.y;N.call(this,ne[de].deltas,_e,Ke),he=!0}Z&&q.call(this,Z),B&&Q.call(this)}},L=function(U){var B=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,re=B*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return U-re;case"top":return U+B-re;case"hanging":return U+B-2*re;case"middle":return U+B/2-re;case"ideographic":return U;case"alphabetic":default:return U}},k=function(U){return U+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var U=function(){};return U.colorStops=[],U.addColorStop=function(B,re){this.colorStops.push([B,re])},U.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},U.isCanvasGradient=!0,U},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(U,B,re,Z,ne,ve,ye,Ce,Oe){for(var Ie=H.call(this,re,Z,ne,ve),$e=0;$e<Ie.length;$e++){var We=Ie[$e];$e===0&&(Oe?T.call(this,We.x1+U,We.y1+B):R.call(this,We.x1+U,We.y1+B)),K.call(this,U,B,We.x2,We.y2,We.x3,We.y3,We.x4,We.y4)}Ce?Q.call(this):q.call(this,ye)},q=function(U){switch(U){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Q=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(U,B){this.pdf.internal.out(t(U)+" "+r(B)+" m")},O=function(U){var B;switch(U.align){case"right":case"end":B="right";break;case"center":B="center";break;case"left":case"start":default:B="left"}var re=this.pdf.getTextDimensions(U.text),Z=L.call(this,U.y),ne=k.call(this,Z)-re.h,ve=this.ctx.transform.applyToPoint(new s(U.x,Z)),ye=this.ctx.transform.decompose(),Ce=new c;Ce=(Ce=(Ce=Ce.multiply(ye.translate)).multiply(ye.skew)).multiply(ye.scale);for(var Oe,Ie,$e,We=this.ctx.transform.applyToRectangle(new l(U.x,Z,re.w,re.h)),V=Ce.applyToRectangle(new l(U.x,ne,re.w,re.h)),Se=A.call(this,V),se=[],he=0;he<Se.length;he+=1)se.indexOf(Se[he])===-1&&se.push(Se[he]);if(j(se),this.autoPaging)for(var de=se[0],we=se[se.length-1],Le=de;Le<we+1;Le++){this.pdf.setPage(Le);var Pe=Le===1?this.posY+this.margin[0]:this.margin[0],_e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ke=this.pdf.internal.pageSize.height-this.margin[2],ot=Ke-this.margin[0],nt=this.pdf.internal.pageSize.width-this.margin[1],De=nt-this.margin[3],xe=Le===1?0:_e+(Le-2)*ot;if(this.ctx.clip_path.length!==0){var ke=this.path;Oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(Oe,this.posX+this.margin[3],-1*xe+Pe),z.call(this,"fill",!0),this.path=ke}var je=C([JSON.parse(JSON.stringify(V))],this.posX+this.margin[3],-xe+Pe+this.ctx.prevPageLastElemOffset)[0];U.scale>=.01&&(Ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ie*U.scale),$e=this.lineWidth,this.lineWidth=$e*U.scale);var ct=this.autoPaging!=="text";if(ct||je.y+je.h<=Ke){if(ct||je.y>=Pe&&je.x<=nt){var Je=ct?U.text:this.pdf.splitTextToSize(U.text,U.maxWidth||nt-je.x)[0],Rt=C([JSON.parse(JSON.stringify(We))],this.posX+this.margin[3],-xe+Pe+this.ctx.prevPageLastElemOffset)[0],kt=ct&&(Le>de||Le<we)&&y.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],De,ot,null).clip().discardPath()),this.pdf.text(Je,Rt.x,Rt.y,{angle:U.angle,align:B,renderingMode:U.renderingMode}),kt&&this.pdf.restoreGraphicsState()}}else je.y<Ke&&(this.ctx.prevPageLastElemOffset+=Ke-je.y);U.scale>=.01&&(this.pdf.setFontSize(Ie),this.lineWidth=$e)}else U.scale>=.01&&(Ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ie*U.scale),$e=this.lineWidth,this.lineWidth=$e*U.scale),this.pdf.text(U.text,ve.x+this.posX,ve.y+this.posY,{angle:U.angle,align:B,renderingMode:U.renderingMode,maxWidth:U.maxWidth}),U.scale>=.01&&(this.pdf.setFontSize(Ie),this.lineWidth=$e)},R=function(U,B,re,Z){re=re||0,Z=Z||0,this.pdf.internal.out(t(U+re)+" "+r(B+Z)+" l")},N=function(U,B,re){return this.pdf.lines(U,B,re,null,null)},K=function(U,B,re,Z,ne,ve,ye,Ce){this.pdf.internal.out([n(i(re+U)),n(a(Z+B)),n(i(ne+U)),n(a(ve+B)),n(i(ye+U)),n(a(Ce+B)),"c"].join(" "))},H=function(U,B,re,Z){for(var ne=2*Math.PI,ve=Math.PI/2;B>re;)B-=ne;var ye=Math.abs(re-B);ye<ne&&Z&&(ye=ne-ye);for(var Ce=[],Oe=Z?-1:1,Ie=B;ye>1e-5;){var $e=Ie+Oe*Math.min(ye,ve);Ce.push(G.call(this,U,Ie,$e)),ye-=Math.abs($e-Ie),Ie=$e}return Ce},G=function(U,B,re){var Z=(re-B)/2,ne=U*Math.cos(Z),ve=U*Math.sin(Z),ye=ne,Ce=-ve,Oe=ye*ye+Ce*Ce,Ie=Oe+ye*ne+Ce*ve,$e=4/3*(Math.sqrt(2*Oe*Ie)-Ie)/(ye*ve-Ce*ne),We=ye-$e*Ce,V=Ce+$e*ye,Se=We,se=-V,he=Z+B,de=Math.cos(he),we=Math.sin(he);return{x1:U*Math.cos(B),y1:U*Math.sin(B),x2:We*de-V*we,y2:We*we+V*de,x3:Se*de-se*we,y3:Se*we+se*de,x4:U*Math.cos(re),y4:U*Math.sin(re)}},ee=function(U){return 180*U/Math.PI},le=function(U,B,re,Z,ne,ve){var ye=U+.5*(re-U),Ce=B+.5*(Z-B),Oe=ne+.5*(re-ne),Ie=ve+.5*(Z-ve),$e=Math.min(U,ne,ye,Oe),We=Math.max(U,ne,ye,Oe),V=Math.min(B,ve,Ce,Ie),Se=Math.max(B,ve,Ce,Ie);return new l($e,V,We-$e,Se-V)},Y=function(U,B,re,Z,ne,ve,ye,Ce){var Oe,Ie,$e,We,V,Se,se,he,de,we,Le,Pe,_e,Ke,ot=re-U,nt=Z-B,De=ne-re,xe=ve-Z,ke=ye-ne,je=Ce-ve;for(Ie=0;Ie<41;Ie++)de=(se=($e=U+(Oe=Ie/40)*ot)+Oe*((V=re+Oe*De)-$e))+Oe*(V+Oe*(ne+Oe*ke-V)-se),we=(he=(We=B+Oe*nt)+Oe*((Se=Z+Oe*xe)-We))+Oe*(Se+Oe*(ve+Oe*je-Se)-he),Ie==0?(Le=de,Pe=we,_e=de,Ke=we):(Le=Math.min(Le,de),Pe=Math.min(Pe,we),_e=Math.max(_e,de),Ke=Math.max(Ke,we));return new l(Math.round(Le),Math.round(Pe),Math.round(_e-Le),Math.round(Ke-Pe))},te=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var U,B,re=(U=this.ctx.lineDash,B=this.ctx.lineDashOffset,JSON.stringify({lineDash:U,lineDashOffset:B}));this.prevLineDash!==re&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=re)}}})(on.API),function(e){var n=function(a){var s,l,c,d,h,g,b,m,x,y;for(l=[],c=0,d=(a+=s="\0\0\0\0".slice(a.length%4||4)).length;d>c;c+=4)(h=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(g=(h=((h=((h=((h=(h-(y=h%85))/85)-(x=h%85))/85)-(m=h%85))/85)-(b=h%85))/85)%85,l.push(g+33,b+33,m+33,x+33,y+33)):l.push(122);return function(A,w){for(var C=w;C>0;C--)A.pop()}(l,s.length),String.fromCharCode.apply(String,l)+"~>"},t=function(a){var s,l,c,d,h,g=String,b="length",m=255,x="charCodeAt",y="slice",A="replace";for(a[y](-2),a=a[y](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),c=[],d=0,h=(a+=s="uuuuu"[y](a[b]%5||5))[b];h>d;d+=5)l=52200625*(a[x](d)-33)+614125*(a[x](d+1)-33)+7225*(a[x](d+2)-33)+85*(a[x](d+3)-33)+(a[x](d+4)-33),c.push(m&l>>24,m&l>>16,m&l>>8,m&l);return function(w,C){for(var j=C;j>0;j--)w.pop()}(c,s[b]),g.fromCharCode.apply(g,c)},r=function(a){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),s.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},i=function(a){for(var s=new Uint8Array(a.length),l=a.length;l--;)s[l]=a.charCodeAt(l);return a=(s=jS(s)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};e.processDataByFilters=function(a,s){var l=0,c=a||"",d=[];for(typeof(s=s||[])=="string"&&(s=[s]),l=0;l<s.length;l+=1)switch(s[l]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=n(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(on.API),function(e){e.loadFile=function(n,t,r){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var l=void 0;try{l=function(c,d,h){var g=new XMLHttpRequest,b=0,m=function(x){var y=x.length,A=[],w=String.fromCharCode;for(b=0;b<y;b+=1)A.push(w(255&x.charCodeAt(b)));return A.join("")};if(g.open("GET",c,!d),g.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(g.onload=function(){g.status===200?h(m(this.responseText)):h(void 0)}),g.send(null),d&&g.status===200)return m(g.responseText)}(i,a,s)}catch{}return l}(n,t,r)},e.loadImageFile=e.loadFile}(on.API),function(e){function n(){return(dn.html2canvas?Promise.resolve(dn.html2canvas):Li(()=>import("./html2canvas.esm-DadlvMMh.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function t(){return(dn.DOMPurify?Promise.resolve(dn.DOMPurify):Li(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var r=function(s){var l=Jr(s);return l==="undefined"?"undefined":l==="string"||s instanceof String?"string":l==="number"||s instanceof Number?"number":l==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(s,l){var c=document.createElement(s);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},a=function s(l){var c=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),d=s.convert(Promise.resolve(),c);return d=(d=d.setProgress(1,s,1,[s])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(s,l){return s.__proto__=l||a.prototype,s},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(s,l){return this.then(function(){switch(l=l||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(t).then(function(c){return this.set({src:i("div",{innerHTML:s,dompurify:c})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},a.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(d,h){for(var g=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),b=d.firstChild;b;b=b.nextSibling)h!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||g.appendChild(c(b,h));return d.nodeType===1&&(d.nodeName==="CANVAS"?(g.width=d.width,g.height=d.height,g.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(g.value=d.value),g.addEventListener("load",function(){g.scrollTop=d.scrollTop,g.scrollLeft=d.scrollLeft},!0)),g}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(n).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(n).then(function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var b=0;b<d.length;++b){var m=d[b],x=m.src.find(function(y){return y.format==="truetype"});x&&c.addFont(x.url,m.ref.name,m.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,c.context2d.save(!0),l(this.prop.container,g)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(s,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(s,l):this.outputPdf(s,l)},a.prototype.outputPdf=function(s,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,l)})},a.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},a.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(s){if(r(s)!=="object")return this;var l=Object.keys(s||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=s[c]};switch(c){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[c]=s[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(s,l){return this.then(function(){var c=s in a.template.prop?this.prop[s]:this.opt[s];return l?l(c):c})},a.prototype.setMargin=function(s){return this.then(function(){switch(r(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},a.prototype.setPageSize=function(s){function l(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(s=s||on.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:l(s.inner.width,s.k),height:l(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},a.prototype.setProgress=function(s,l,c,d){return s!=null&&(this.progress.val=s),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(s,l,c,d){return this.setProgress(s?this.progress.val+s:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(s,l){var c=this;return this.thenCore(s,l,function(d,h){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(g){return c.updateProgress(null,d),g}).then(d,h).then(function(g){return c.updateProgress(1),g})})},a.prototype.thenCore=function(s,l,c){c=c||Promise.prototype.then,s&&(s=s.bind(this)),l&&(l=l.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),h=c.call(d,s,l);return a.convert(h,this.__proto__)},a.prototype.thenExternal=function(s,l){return Promise.prototype.then.call(this,s,l)},a.prototype.thenList=function(s){var l=this;return s.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(s){s&&(s=s.bind(this));var l=Promise.prototype.catch.call(this,s);return a.convert(l,this)},a.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},a.prototype.error=function(s){return this.then(function(){throw new Error(s)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,on.getPageSize=function(s,l,c){if(Jr(s)==="object"){var d=s;s=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",s=(""+(s||"P")).toLowerCase();var h,g=(""+c).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var m,x=0,y=0;if(b.hasOwnProperty(g))x=b[g][1]/h,y=b[g][0]/h;else try{x=c[1],y=c[0]}catch{throw new Error("Invalid format: "+c)}if(s==="p"||s==="portrait")s="p",y>x&&(m=y,y=x,x=m);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",x>y&&(m=y,y=x,x=m)}return{width:y,height:x,unit:l,k:h,orientation:s}},e.html=function(s,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(LS):null;var c=new a(l);return l.worker?c:c.from(s).doCallback()}}(on.API),on.API.addJS=function(e){return Bk=e,this.internal.events.subscribe("postPutResources",function(){Dy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Dy+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),qk=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Bk+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Dy!==void 0&&qk!==void 0&&this.internal.out("/Names <</JavaScript "+Dy+" 0 R>>")}),this},function(e){var n;e.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],l=r.exec(s);if(l!=null){var c=l[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(s)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,h=[];for(a=0;a<d;a++){var g=t.internal.newObject();h.push(g);var b=t.internal.getPageInfo(a+1);t.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var m=t.internal.newObject();for(t.internal.write("<< /Names [ "),a=0;a<h.length;a++)t.internal.write("(page_"+(a+1)+")"+h[a]+" 0 R");t.internal.write(" ] >>","endobj"),n=t.internal.newObject(),t.internal.write("<< /Dests "+m+" 0 R"),t.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+n+" 0 R"))}]),e.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,a){var s={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(s),s},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var s=r.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var l=this.count=this.count_r({count:0},s);if(l>0&&this.line("/Count "+l),s.options&&s.options.pageNumber){var c=t.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(on.API),function(e){var n=[192,193,194,195,196,197,198,199];e.processJPEG=function(t,r,i,a,s,l){var c,d=this.decode.DCT_DECODE,h=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=s||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(c=function(g){for(var b,m=256*g.charCodeAt(4)+g.charCodeAt(5),x=g.length,y={width:0,height:0,numcomponents:1},A=4;A<x;A+=2){if(A+=m,n.indexOf(g.charCodeAt(A+1))!==-1){b=256*g.charCodeAt(A+5)+g.charCodeAt(A+6),y={width:256*g.charCodeAt(A+7)+g.charCodeAt(A+8),height:b,numcomponents:g.charCodeAt(A+9)};break}m=256*g.charCodeAt(A+2)+g.charCodeAt(A+3)}return y}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}h={data:t,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:r,alias:i}}return h}}(on.API);var u0,Ly,Uk,$k,Hk,HQ=function(){var e,n,t;function r(a){var s,l,c,d,h,g,b,m,x,y,A,w,C,j;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},g=null;;){switch(s=this.readUInt32(),x=(function(){var F,z;for(z=[],F=0;F<4;++F)z.push(String.fromCharCode(this.data[this.pos++]));return z}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":g&&this.animation.frames.push(g),this.pos+=4,g={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),d=this.readUInt16()||100,g.delay=1e3*h/d,g.disposeOp=this.data[this.pos++],g.blendOp=this.data[this.pos++],g.data=[];break;case"IDAT":case"fdAT":for(x==="fdAT"&&(this.pos+=4,s-=4),a=(g!=null?g.data:void 0)||this.imgData,w=0;0<=s?w<s:w>s;0<=s?++w:--w)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((y=c-this.transparency.indexed.length)>0)for(C=0;0<=y?C<y:C>y;0<=y?++C:--C)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":b=(A=this.read(s)).indexOf(0),m=String.fromCharCode.apply(String,A.slice(0,b)),this.text[m]=String.fromCharCode.apply(String,A.slice(b+1));break;case"IEND":return g&&this.animation.frames.push(g),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(j=this.colorType)===4||j===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var s,l;for(l=[],s=0;0<=a?s<a:s>a;0<=a?++s:--s)l.push(this.data[this.pos++]);return l},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var s=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*s),c=0,d=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function h(g,b,m,x){var y,A,w,C,j,F,z,L,k,M,q,Q,T,O,R,N,K,H,G,ee,le,Y=Math.ceil((d.width-g)/m),te=Math.ceil((d.height-b)/x),U=d.width==Y&&d.height==te;for(O=s*Y,Q=U?l:new Uint8Array(O*te),F=a.length,T=0,A=0;T<te&&c<F;){switch(a[c++]){case 0:for(C=K=0;K<O;C=K+=1)Q[A++]=a[c++];break;case 1:for(C=H=0;H<O;C=H+=1)y=a[c++],j=C<s?0:Q[A-s],Q[A++]=(y+j)%256;break;case 2:for(C=G=0;G<O;C=G+=1)y=a[c++],w=(C-C%s)/s,R=T&&Q[(T-1)*O+w*s+C%s],Q[A++]=(R+y)%256;break;case 3:for(C=ee=0;ee<O;C=ee+=1)y=a[c++],w=(C-C%s)/s,j=C<s?0:Q[A-s],R=T&&Q[(T-1)*O+w*s+C%s],Q[A++]=(y+Math.floor((j+R)/2))%256;break;case 4:for(C=le=0;le<O;C=le+=1)y=a[c++],w=(C-C%s)/s,j=C<s?0:Q[A-s],T===0?R=N=0:(R=Q[(T-1)*O+w*s+C%s],N=w&&Q[(T-1)*O+(w-1)*s+C%s]),z=j+R-N,L=Math.abs(z-j),M=Math.abs(z-R),q=Math.abs(z-N),k=L<=M&&L<=q?j:M<=q?R:N,Q[A++]=(y+k)%256;break;default:throw new Error("Invalid filter algorithm: "+a[c-1])}if(!U){var B=((b+T*x)*d.width+g)*s,re=T*O;for(C=0;C<Y;C+=1){for(var Z=0;Z<s;Z+=1)l[B++]=Q[re++];B+=(m-1)*s}}T++}}return a=SQ(a),d.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),l},r.prototype.decodePalette=function(){var a,s,l,c,d,h,g,b,m;for(l=this.palette,h=this.transparency.indexed||[],d=new Uint8Array((h.length||0)+l.length),c=0,a=0,s=g=0,b=l.length;g<b;s=g+=3)d[c++]=l[s],d[c++]=l[s+1],d[c++]=l[s+2],d[c++]=(m=h[a++])!=null?m:255;return d},r.prototype.copyToImageData=function(a,s){var l,c,d,h,g,b,m,x,y,A,w;if(c=this.colors,y=null,l=this.hasAlphaChannel,this.palette.length&&(y=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),c=4,l=!0),x=(d=a.data||a).length,g=y||s,h=b=0,c===1)for(;h<x;)m=y?4*s[h/4]:b,A=g[m++],d[h++]=A,d[h++]=A,d[h++]=A,d[h++]=l?g[m++]:255,b=m;else for(;h<x;)m=y?4*s[h/4]:b,d[h++]=g[m++],d[h++]=g[m++],d[h++]=g[m++],d[h++]=l?g[m++]:255,b=m},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(dn)==="[object Window]"){try{n=dn.document.createElement("canvas"),t=n.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(a){var s;if(i()===!0)return t.width=a.width,t.height=a.height,t.clearRect(0,0,a.width,a.height),t.putImageData(a,0,0),(s=new Image).src=n.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var s,l,c,d,h,g,b,m;if(this.animation){for(m=[],l=h=0,g=(b=this.animation.frames).length;h<g;l=++h)s=b[l],c=a.createImageData(s.width,s.height),d=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(c,d),s.imageData=c,m.push(s.image=e(c));return m}},r.prototype.renderFrame=function(a,s){var l,c,d;return l=(c=this.animation.frames)[s],d=c[s-1],s===0&&a.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?a.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&a.putImageData(d.imageData,d.xOffset,d.yOffset),l.blendOp===0&&a.clearRect(l.xOffset,l.yOffset,l.width,l.height),a.drawImage(l.image,l.xOffset,l.yOffset)},r.prototype.animate=function(a){var s,l,c,d,h,g,b=this;return l=0,g=this.animation,d=g.numFrames,c=g.frames,h=g.numPlays,(s=function(){var m,x;if(m=l++%d,x=c[m],b.renderFrame(a,m),d>1&&l/d<h)return b.animation._timeout=setTimeout(s,x.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var s,l;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,s=a.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(l=s.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),s.putImageData(l,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function WQ(e){var n=0;if(e[n++]!==71||e[n++]!==73||e[n++]!==70||e[n++]!==56||(e[n++]+1&253)!=56||e[n++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=e[n++]|e[n++]<<8,r=e[n++]|e[n++]<<8,i=e[n++],a=i>>7,s=1<<(7&i)+1;e[n++],e[n++];var l=null,c=null;a&&(l=n,c=s,n+=3*s);var d=!0,h=[],g=0,b=null,m=0,x=null;for(this.width=t,this.height=r;d&&n<e.length;)switch(e[n++]){case 33:switch(e[n++]){case 255:if(e[n]!==11||e[n+1]==78&&e[n+2]==69&&e[n+3]==84&&e[n+4]==83&&e[n+5]==67&&e[n+6]==65&&e[n+7]==80&&e[n+8]==69&&e[n+9]==50&&e[n+10]==46&&e[n+11]==48&&e[n+12]==3&&e[n+13]==1&&e[n+16]==0)n+=14,x=e[n++]|e[n++]<<8,n++;else for(n+=12;;){if(!((T=e[n++])>=0))throw Error("Invalid block size");if(T===0)break;n+=T}break;case 249:if(e[n++]!==4||e[n+4]!==0)throw new Error("Invalid graphics extension block.");var y=e[n++];g=e[n++]|e[n++]<<8,b=e[n++],(1&y)==0&&(b=null),m=y>>2&7,n++;break;case 254:for(;;){if(!((T=e[n++])>=0))throw Error("Invalid block size");if(T===0)break;n+=T}break;default:throw new Error("Unknown graphic control label: 0x"+e[n-1].toString(16))}break;case 44:var A=e[n++]|e[n++]<<8,w=e[n++]|e[n++]<<8,C=e[n++]|e[n++]<<8,j=e[n++]|e[n++]<<8,F=e[n++],z=F>>6&1,L=1<<(7&F)+1,k=l,M=c,q=!1;F>>7&&(q=!0,k=n,M=L,n+=3*L);var Q=n;for(n++;;){var T;if(!((T=e[n++])>=0))throw Error("Invalid block size");if(T===0)break;n+=T}h.push({x:A,y:w,width:C,height:j,has_local_palette:q,palette_offset:k,palette_size:M,data_offset:Q,data_length:n-Q,transparent_index:b,interlaced:!!z,delay:g,disposal:m});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[n-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return x},this.frameInfo=function(O){if(O<0||O>=h.length)throw new Error("Frame index out of range.");return h[O]},this.decodeAndBlitFrameBGRA=function(O,R){var N=this.frameInfo(O),K=N.width*N.height,H=new Uint8Array(K);Wk(e,N.data_offset,H,K);var G=N.palette_offset,ee=N.transparent_index;ee===null&&(ee=256);var le=N.width,Y=t-le,te=le,U=4*(N.y*t+N.x),B=4*((N.y+N.height)*t+N.x),re=U,Z=4*Y;N.interlaced===!0&&(Z+=4*t*7);for(var ne=8,ve=0,ye=H.length;ve<ye;++ve){var Ce=H[ve];if(te===0&&(te=le,(re+=Z)>=B&&(Z=4*Y+4*t*(ne-1),re=U+(le+Y)*(ne<<1),ne>>=1)),Ce===ee)re+=4;else{var Oe=e[G+3*Ce],Ie=e[G+3*Ce+1],$e=e[G+3*Ce+2];R[re++]=$e,R[re++]=Ie,R[re++]=Oe,R[re++]=255}--te}},this.decodeAndBlitFrameRGBA=function(O,R){var N=this.frameInfo(O),K=N.width*N.height,H=new Uint8Array(K);Wk(e,N.data_offset,H,K);var G=N.palette_offset,ee=N.transparent_index;ee===null&&(ee=256);var le=N.width,Y=t-le,te=le,U=4*(N.y*t+N.x),B=4*((N.y+N.height)*t+N.x),re=U,Z=4*Y;N.interlaced===!0&&(Z+=4*t*7);for(var ne=8,ve=0,ye=H.length;ve<ye;++ve){var Ce=H[ve];if(te===0&&(te=le,(re+=Z)>=B&&(Z=4*Y+4*t*(ne-1),re=U+(le+Y)*(ne<<1),ne>>=1)),Ce===ee)re+=4;else{var Oe=e[G+3*Ce],Ie=e[G+3*Ce+1],$e=e[G+3*Ce+2];R[re++]=Oe,R[re++]=Ie,R[re++]=$e,R[re++]=255}--te}}}function Wk(e,n,t,r){for(var i=e[n++],a=1<<i,s=a+1,l=s+1,c=i+1,d=(1<<c)-1,h=0,g=0,b=0,m=e[n++],x=new Int32Array(4096),y=null;;){for(;h<16&&m!==0;)g|=e[n++]<<h,h+=8,m===1?m=e[n++]:--m;if(h<c)break;var A=g&d;if(g>>=c,h-=c,A!==a){if(A===s)break;for(var w=A<l?A:y,C=0,j=w;j>a;)j=x[j]>>8,++C;var F=j;if(b+C+(w!==A?1:0)>r)return void Zr.log("Warning, gif stream longer than expected.");t[b++]=F;var z=b+=C;for(w!==A&&(t[b++]=F),j=w;C--;)j=x[j],t[--z]=255&j,j>>=8;y!==null&&l<4096&&(x[l++]=y<<8|F,l>=d+1&&c<12&&(++c,d=d<<1|1)),y=A}else l=s+1,d=(1<<(c=i+1))-1,y=null}return b!==r&&Zr.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function sw(e){var n,t,r,i,a,s=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),h=new Array(64),g=new Array(65535),b=new Array(65535),m=new Array(64),x=new Array(64),y=[],A=0,w=7,C=new Array(64),j=new Array(64),F=new Array(64),z=new Array(256),L=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],N=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],K=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function H(U,B){for(var re=0,Z=0,ne=new Array,ve=1;ve<=16;ve++){for(var ye=1;ye<=U[ve];ye++)ne[B[Z]]=[],ne[B[Z]][0]=re,ne[B[Z]][1]=ve,Z++,re++;re*=2}return ne}function G(U){for(var B=U[0],re=U[1]-1;re>=0;)B&1<<re&&(A|=1<<w),re--,--w<0&&(A==255?(ee(255),ee(0)):ee(A),w=7,A=0)}function ee(U){y.push(U)}function le(U){ee(U>>8&255),ee(255&U)}function Y(U,B,re,Z,ne){for(var ve,ye=ne[0],Ce=ne[240],Oe=function(we,Le){var Pe,_e,Ke,ot,nt,De,xe,ke,je,ct,Je=0;for(je=0;je<8;++je){Pe=we[Je],_e=we[Je+1],Ke=we[Je+2],ot=we[Je+3],nt=we[Je+4],De=we[Je+5],xe=we[Je+6];var Rt=Pe+(ke=we[Je+7]),kt=Pe-ke,Wt=_e+xe,Lt=_e-xe,Kt=Ke+De,tn=Ke-De,ln=ot+nt,zn=ot-nt,qn=Rt+ln,Qr=Rt-ln,ar=Wt+Kt,Mn=Wt-Kt;we[Je]=qn+ar,we[Je+4]=qn-ar;var Vt=.707106781*(Mn+Qr);we[Je+2]=Qr+Vt,we[Je+6]=Qr-Vt;var En=.382683433*((qn=zn+tn)-(Mn=Lt+kt)),xa=.5411961*qn+En,Sr=1.306562965*Mn+En,li=.707106781*(ar=tn+Lt),va=kt+li,Dt=kt-li;we[Je+5]=Dt+xa,we[Je+3]=Dt-xa,we[Je+1]=va+Sr,we[Je+7]=va-Sr,Je+=8}for(Je=0,je=0;je<8;++je){Pe=we[Je],_e=we[Je+8],Ke=we[Je+16],ot=we[Je+24],nt=we[Je+32],De=we[Je+40],xe=we[Je+48];var Wn=Pe+(ke=we[Je+56]),sr=Pe-ke,Mr=_e+xe,dr=_e-xe,fr=Ke+De,Hn=Ke-De,ys=ot+nt,jr=ot-nt,Ia=Wn+ys,zi=Wn-ys,qi=Mr+fr,er=Mr-fr;we[Je]=Ia+qi,we[Je+32]=Ia-qi;var Ci=.707106781*(er+zi);we[Je+16]=zi+Ci,we[Je+48]=zi-Ci;var tr=.382683433*((Ia=jr+Hn)-(er=dr+sr)),ro=.5411961*Ia+tr,Eo=1.306562965*er+tr,Fa=.707106781*(qi=Hn+dr),Fr=sr+Fa,al=sr-Fa;we[Je+40]=al+ro,we[Je+24]=al-ro,we[Je+8]=Fr+Eo,we[Je+56]=Fr-Eo,Je++}for(je=0;je<64;++je)ct=we[je]*Le[je],m[je]=ct>0?ct+.5|0:ct-.5|0;return m}(U,B),Ie=0;Ie<64;++Ie)x[k[Ie]]=Oe[Ie];var $e=x[0]-re;re=x[0],$e==0?G(Z[0]):(G(Z[b[ve=32767+$e]]),G(g[ve]));for(var We=63;We>0&&x[We]==0;)We--;if(We==0)return G(ye),re;for(var V,Se=1;Se<=We;){for(var se=Se;x[Se]==0&&Se<=We;)++Se;var he=Se-se;if(he>=16){V=he>>4;for(var de=1;de<=V;++de)G(Ce);he&=15}ve=32767+x[Se],G(ne[(he<<4)+b[ve]]),G(g[ve]),Se++}return We!=63&&G(ye),re}function te(U){U=Math.min(Math.max(U,1),100),a!=U&&(function(B){for(var re=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var ne=s((re[Z]*B+50)/100);ne=Math.min(Math.max(ne,1),255),l[k[Z]]=ne}for(var ve=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ye=0;ye<64;ye++){var Ce=s((ve[ye]*B+50)/100);Ce=Math.min(Math.max(Ce,1),255),c[k[ye]]=Ce}for(var Oe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ie=0,$e=0;$e<8;$e++)for(var We=0;We<8;We++)d[Ie]=1/(l[k[Ie]]*Oe[$e]*Oe[We]*8),h[Ie]=1/(c[k[Ie]]*Oe[$e]*Oe[We]*8),Ie++}(U<50?Math.floor(5e3/U):Math.floor(200-2*U)),a=U)}this.encode=function(U,B){B&&te(B),y=new Array,A=0,w=7,le(65496),le(65504),le(16),ee(74),ee(70),ee(73),ee(70),ee(0),ee(1),ee(1),ee(0),le(1),le(1),ee(0),ee(0),function(){le(65499),le(132),ee(0);for(var _e=0;_e<64;_e++)ee(l[_e]);ee(1);for(var Ke=0;Ke<64;Ke++)ee(c[Ke])}(),function(_e,Ke){le(65472),le(17),ee(8),le(Ke),le(_e),ee(3),ee(1),ee(17),ee(0),ee(2),ee(17),ee(1),ee(3),ee(17),ee(1)}(U.width,U.height),function(){le(65476),le(418),ee(0);for(var _e=0;_e<16;_e++)ee(M[_e+1]);for(var Ke=0;Ke<=11;Ke++)ee(q[Ke]);ee(16);for(var ot=0;ot<16;ot++)ee(Q[ot+1]);for(var nt=0;nt<=161;nt++)ee(T[nt]);ee(1);for(var De=0;De<16;De++)ee(O[De+1]);for(var xe=0;xe<=11;xe++)ee(R[xe]);ee(17);for(var ke=0;ke<16;ke++)ee(N[ke+1]);for(var je=0;je<=161;je++)ee(K[je])}(),le(65498),le(12),ee(3),ee(1),ee(0),ee(2),ee(17),ee(3),ee(17),ee(0),ee(63),ee(0);var re=0,Z=0,ne=0;A=0,w=7,this.encode.displayName="_encode_";for(var ve,ye,Ce,Oe,Ie,$e,We,V,Se,se=U.data,he=U.width,de=U.height,we=4*he,Le=0;Le<de;){for(ve=0;ve<we;){for(Ie=we*Le+ve,We=-1,V=0,Se=0;Se<64;Se++)$e=Ie+(V=Se>>3)*we+(We=4*(7&Se)),Le+V>=de&&($e-=we*(Le+1+V-de)),ve+We>=we&&($e-=ve+We-we+4),ye=se[$e++],Ce=se[$e++],Oe=se[$e++],C[Se]=(L[ye]+L[Ce+256>>0]+L[Oe+512>>0]>>16)-128,j[Se]=(L[ye+768>>0]+L[Ce+1024>>0]+L[Oe+1280>>0]>>16)-128,F[Se]=(L[ye+1280>>0]+L[Ce+1536>>0]+L[Oe+1792>>0]>>16)-128;re=Y(C,d,re,n,r),Z=Y(j,h,Z,t,i),ne=Y(F,h,ne,t,i),ve+=32}Le+=8}if(w>=0){var Pe=[];Pe[1]=w+1,Pe[0]=(1<<w+1)-1,G(Pe)}return le(65497),new Uint8Array(y)},e=e||50,function(){for(var U=String.fromCharCode,B=0;B<256;B++)z[B]=U(B)}(),n=H(M,q),t=H(O,R),r=H(Q,T),i=H(N,K),function(){for(var U=1,B=2,re=1;re<=15;re++){for(var Z=U;Z<B;Z++)b[32767+Z]=re,g[32767+Z]=[],g[32767+Z][1]=re,g[32767+Z][0]=Z;for(var ne=-(B-1);ne<=-U;ne++)b[32767+ne]=re,g[32767+ne]=[],g[32767+ne][1]=re,g[32767+ne][0]=B-1+ne;U<<=1,B<<=1}}(),function(){for(var U=0;U<256;U++)L[U]=19595*U,L[U+256>>0]=38470*U,L[U+512>>0]=7471*U+32768,L[U+768>>0]=-11059*U,L[U+1024>>0]=-21709*U,L[U+1280>>0]=32768*U+8421375,L[U+1536>>0]=-27439*U,L[U+1792>>0]=-5329*U}(),te(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function fu(e,n){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!n,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Vk(e){function n(M){if(!M)throw Error("assert :P")}function t(M,q,Q){for(var T=0;4>T;T++)if(M[q+T]!=Q.charCodeAt(T))return!0;return!1}function r(M,q,Q,T,O){for(var R=0;R<O;R++)M[q+R]=Q[T+R]}function i(M,q,Q,T){for(var O=0;O<T;O++)M[q+O]=Q}function a(M){return new Int32Array(M)}function s(M,q){for(var Q=[],T=0;T<M;T++)Q.push(new q);return Q}function l(M,q){var Q=[];return function T(O,R,N){for(var K=N[R],H=0;H<K&&(O.push(N.length>R+1?[]:new q),!(N.length<R+1));H++)T(O[H],R+1,N)}(Q,0,M),Q}var c=function(){var M=this;function q(S,_){for(var P=1<<_-1>>>0;S&P;)P>>>=1;return P?(S&P-1)+P:S}function Q(S,_,P,W,ie){n(!(W%P));do S[_+(W-=P)]=ie;while(0<W)}function T(S,_,P,W,ie){if(n(2328>=ie),512>=ie)var oe=a(512);else if((oe=a(ie))==null)return 0;return function(ue,fe,be,Ae,Me,Qe){var Ye,Be,xt=fe,rt=1<<be,Fe=a(16),qe=a(16);for(n(Me!=0),n(Ae!=null),n(ue!=null),n(0<be),Be=0;Be<Me;++Be){if(15<Ae[Be])return 0;++Fe[Ae[Be]]}if(Fe[0]==Me)return 0;for(qe[1]=0,Ye=1;15>Ye;++Ye){if(Fe[Ye]>1<<Ye)return 0;qe[Ye+1]=qe[Ye]+Fe[Ye]}for(Be=0;Be<Me;++Be)Ye=Ae[Be],0<Ae[Be]&&(Qe[qe[Ye]++]=Be);if(qe[15]==1)return(Ae=new O).g=0,Ae.value=Qe[0],Q(ue,xt,1,rt,Ae),rt;var pt,wt=-1,bt=rt-1,Ot=0,jt=1,Yt=1,Nt=1<<be;for(Be=0,Ye=1,Me=2;Ye<=be;++Ye,Me<<=1){if(jt+=Yt<<=1,0>(Yt-=Fe[Ye]))return 0;for(;0<Fe[Ye];--Fe[Ye])(Ae=new O).g=Ye,Ae.value=Qe[Be++],Q(ue,xt+Ot,Me,Nt,Ae),Ot=q(Ot,Ye)}for(Ye=be+1,Me=2;15>=Ye;++Ye,Me<<=1){if(jt+=Yt<<=1,0>(Yt-=Fe[Ye]))return 0;for(;0<Fe[Ye];--Fe[Ye]){if(Ae=new O,(Ot&bt)!=wt){for(xt+=Nt,pt=1<<(wt=Ye)-be;15>wt&&!(0>=(pt-=Fe[wt]));)++wt,pt<<=1;rt+=Nt=1<<(pt=wt-be),ue[fe+(wt=Ot&bt)].g=pt+be,ue[fe+wt].value=xt-fe-wt}Ae.g=Ye-be,Ae.value=Qe[Be++],Q(ue,xt+(Ot>>be),Me,Nt,Ae),Ot=q(Ot,Ye)}}return jt!=2*qe[15]-1?0:rt}(S,_,P,W,ie,oe)}function O(){this.value=this.g=0}function R(){this.value=this.g=0}function N(){this.G=s(5,O),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(ra,R)}function K(S,_,P,W){n(S!=null),n(_!=null),n(2147483648>W),S.Ca=254,S.I=0,S.b=-8,S.Ka=0,S.oa=_,S.pa=P,S.Jd=_,S.Yc=P+W,S.Zc=4<=W?P+W-4+1:P,ve(S)}function H(S,_){for(var P=0;0<_--;)P|=Ce(S,128)<<_;return P}function G(S,_){var P=H(S,_);return ye(S)?-P:P}function ee(S,_,P,W){var ie,oe=0;for(n(S!=null),n(_!=null),n(4294967288>W),S.Sb=W,S.Ra=0,S.u=0,S.h=0,4<W&&(W=4),ie=0;ie<W;++ie)oe+=_[P+ie]<<8*ie;S.Ra=oe,S.bb=W,S.oa=_,S.pa=P}function le(S){for(;8<=S.u&&S.bb<S.Sb;)S.Ra>>>=8,S.Ra+=S.oa[S.pa+S.bb]<<Zc-8>>>0,++S.bb,S.u-=8;re(S)&&(S.h=1,S.u=0)}function Y(S,_){if(n(0<=_),!S.h&&_<=Xc){var P=B(S)&Bu[_];return S.u+=_,le(S),P}return S.h=1,S.u=0}function te(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function B(S){return S.Ra>>>(S.u&Zc-1)>>>0}function re(S){return n(S.bb<=S.Sb),S.h||S.bb==S.Sb&&S.u>Zc}function Z(S,_){S.u=_,S.h=re(S)}function ne(S){S.u>=af&&(n(S.u>=af),le(S))}function ve(S){n(S!=null&&S.oa!=null),S.pa<S.Zc?(S.I=(S.oa[S.pa++]|S.I<<8)>>>0,S.b+=8):(n(S!=null&&S.oa!=null),S.pa<S.Yc?(S.b+=8,S.I=S.oa[S.pa++]|S.I<<8):S.Ka?S.b=0:(S.I<<=8,S.b+=8,S.Ka=1))}function ye(S){return H(S,1)}function Ce(S,_){var P=S.Ca;0>S.b&&ve(S);var W=S.b,ie=P*_>>>8,oe=(S.I>>>W>ie)+0;for(oe?(P-=ie,S.I-=ie+1<<W>>>0):P=ie+1,W=P,ie=0;256<=W;)ie+=8,W>>=8;return W=7^ie+Es[W],S.b-=W,S.Ca=(P<<W)-1,oe}function Oe(S,_,P){S[_+0]=P>>24&255,S[_+1]=P>>16&255,S[_+2]=P>>8&255,S[_+3]=P>>0&255}function Ie(S,_){return S[_+0]<<0|S[_+1]<<8}function $e(S,_){return Ie(S,_)|S[_+2]<<16}function We(S,_){return Ie(S,_)|Ie(S,_+2)<<16}function V(S,_){var P=1<<_;return n(S!=null),n(0<_),S.X=a(P),S.X==null?0:(S.Mb=32-_,S.Xa=_,1)}function Se(S,_){n(S!=null),n(_!=null),n(S.Xa==_.Xa),r(_.X,0,S.X,0,1<<_.Xa)}function se(){this.X=[],this.Xa=this.Mb=0}function he(S,_,P,W){n(P!=null),n(W!=null);var ie=P[0],oe=W[0];return ie==0&&(ie=(S*oe+_/2)/_),oe==0&&(oe=(_*ie+S/2)/S),0>=ie||0>=oe?0:(P[0]=ie,W[0]=oe,1)}function de(S,_){return S+(1<<_)-1>>>_}function we(S,_){return((4278255360&S)+(4278255360&_)>>>0&4278255360)+((16711935&S)+(16711935&_)>>>0&16711935)>>>0}function Le(S,_){M[_]=function(P,W,ie,oe,ue,fe,be){var Ae;for(Ae=0;Ae<ue;++Ae){var Me=M[S](fe[be+Ae-1],ie,oe+Ae);fe[be+Ae]=we(P[W+Ae],Me)}}}function Pe(){this.ud=this.hd=this.jd=0}function _e(S,_){return((4278124286&(S^_))>>>1)+(S&_)>>>0}function Ke(S){return 0<=S&&256>S?S:0>S?0:255<S?255:void 0}function ot(S,_){return Ke(S+(S-_+.5>>1))}function nt(S,_,P){return Math.abs(_-P)-Math.abs(S-P)}function De(S,_,P,W,ie,oe,ue){for(W=oe[ue-1],P=0;P<ie;++P)oe[ue+P]=W=we(S[_+P],W)}function xe(S,_,P,W,ie){var oe;for(oe=0;oe<P;++oe){var ue=S[_+oe],fe=ue>>8&255,be=16711935&(be=(be=16711935&ue)+((fe<<16)+fe));W[ie+oe]=(4278255360&ue)+be>>>0}}function ke(S,_){_.jd=S>>0&255,_.hd=S>>8&255,_.ud=S>>16&255}function je(S,_,P,W,ie,oe){var ue;for(ue=0;ue<W;++ue){var fe=_[P+ue],be=fe>>>8,Ae=fe,Me=255&(Me=(Me=fe>>>16)+((S.jd<<24>>24)*(be<<24>>24)>>>5));Ae=255&(Ae=(Ae=Ae+((S.hd<<24>>24)*(be<<24>>24)>>>5))+((S.ud<<24>>24)*(Me<<24>>24)>>>5)),ie[oe+ue]=(4278255360&fe)+(Me<<16)+Ae}}function ct(S,_,P,W,ie){M[_]=function(oe,ue,fe,be,Ae,Me,Qe,Ye,Be){for(be=Qe;be<Ye;++be)for(Qe=0;Qe<Be;++Qe)Ae[Me++]=ie(fe[W(oe[ue++])])},M[S]=function(oe,ue,fe,be,Ae,Me,Qe){var Ye=8>>oe.b,Be=oe.Ea,xt=oe.K[0],rt=oe.w;if(8>Ye)for(oe=(1<<oe.b)-1,rt=(1<<Ye)-1;ue<fe;++ue){var Fe,qe=0;for(Fe=0;Fe<Be;++Fe)Fe&oe||(qe=W(be[Ae++])),Me[Qe++]=ie(xt[qe&rt]),qe>>=Ye}else M["VP8LMapColor"+P](be,Ae,xt,rt,Me,Qe,ue,fe,Be)}}function Je(S,_,P,W,ie){for(P=_+P;_<P;){var oe=S[_++];W[ie++]=oe>>16&255,W[ie++]=oe>>8&255,W[ie++]=oe>>0&255}}function Rt(S,_,P,W,ie){for(P=_+P;_<P;){var oe=S[_++];W[ie++]=oe>>16&255,W[ie++]=oe>>8&255,W[ie++]=oe>>0&255,W[ie++]=oe>>24&255}}function kt(S,_,P,W,ie){for(P=_+P;_<P;){var oe=(ue=S[_++])>>16&240|ue>>12&15,ue=ue>>0&240|ue>>28&15;W[ie++]=oe,W[ie++]=ue}}function Wt(S,_,P,W,ie){for(P=_+P;_<P;){var oe=(ue=S[_++])>>16&248|ue>>13&7,ue=ue>>5&224|ue>>3&31;W[ie++]=oe,W[ie++]=ue}}function Lt(S,_,P,W,ie){for(P=_+P;_<P;){var oe=S[_++];W[ie++]=oe>>0&255,W[ie++]=oe>>8&255,W[ie++]=oe>>16&255}}function Kt(S,_,P,W,ie,oe){if(oe==0)for(P=_+P;_<P;)Oe(W,((oe=S[_++])[0]>>24|oe[1]>>8&65280|oe[2]<<8&16711680|oe[3]<<24)>>>0),ie+=32;else r(W,ie,S,_,P)}function tn(S,_){M[_][0]=M[S+"0"],M[_][1]=M[S+"1"],M[_][2]=M[S+"2"],M[_][3]=M[S+"3"],M[_][4]=M[S+"4"],M[_][5]=M[S+"5"],M[_][6]=M[S+"6"],M[_][7]=M[S+"7"],M[_][8]=M[S+"8"],M[_][9]=M[S+"9"],M[_][10]=M[S+"10"],M[_][11]=M[S+"11"],M[_][12]=M[S+"12"],M[_][13]=M[S+"13"],M[_][14]=M[S+"0"],M[_][15]=M[S+"0"]}function ln(S){return S==Ah||S==Xu||S==Zl||S==uf}function zn(){this.eb=[],this.size=this.A=this.fb=0}function qn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Qr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new zn,this.f.kb=new qn,this.sd=null}function ar(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Mn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Vt(S){return alert("todo:WebPSamplerProcessPlane"),S.T}function En(S,_){var P=S.T,W=_.ba.f.RGBA,ie=W.eb,oe=W.fb+S.ka*W.A,ue=Ea[_.ba.S],fe=S.y,be=S.O,Ae=S.f,Me=S.N,Qe=S.ea,Ye=S.W,Be=_.cc,xt=_.dc,rt=_.Mc,Fe=_.Nc,qe=S.ka,pt=S.ka+S.T,wt=S.U,bt=wt+1>>1;for(qe==0?ue(fe,be,null,null,Ae,Me,Qe,Ye,Ae,Me,Qe,Ye,ie,oe,null,null,wt):(ue(_.ec,_.fc,fe,be,Be,xt,rt,Fe,Ae,Me,Qe,Ye,ie,oe-W.A,ie,oe,wt),++P);qe+2<pt;qe+=2)Be=Ae,xt=Me,rt=Qe,Fe=Ye,Me+=S.Rc,Ye+=S.Rc,oe+=2*W.A,ue(fe,(be+=2*S.fa)-S.fa,fe,be,Be,xt,rt,Fe,Ae,Me,Qe,Ye,ie,oe-W.A,ie,oe,wt);return be+=S.fa,S.j+pt<S.o?(r(_.ec,_.fc,fe,be,wt),r(_.cc,_.dc,Ae,Me,bt),r(_.Mc,_.Nc,Qe,Ye,bt),P--):1&pt||ue(fe,be,null,null,Ae,Me,Qe,Ye,Ae,Me,Qe,Ye,ie,oe+W.A,null,null,wt),P}function xa(S,_,P){var W=S.F,ie=[S.J];if(W!=null){var oe=S.U,ue=_.ba.S,fe=ue==rd||ue==Zl;_=_.ba.f.RGBA;var be=[0],Ae=S.ka;be[0]=S.T,S.Kb&&(Ae==0?--be[0]:(--Ae,ie[0]-=S.width),S.j+S.ka+S.T==S.o&&(be[0]=S.o-S.j-Ae));var Me=_.eb;Ae=_.fb+Ae*_.A,S=Rn(W,ie[0],S.width,oe,be,Me,Ae+(fe?0:3),_.A),n(P==be),S&&ln(ue)&&Ks(Me,Ae,fe,oe,be,_.A)}return 0}function Sr(S){var _=S.ma,P=_.ba.S,W=11>P,ie=P==lf||P==Sh||P==rd||P==Xl||P==12||ln(P);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!qu(_.Oa,S,ie?11:12))return 0;if(ie&&ln(P)&&Ct(),S.da)alert("todo:use_scaling");else{if(W){if(_.Ib=Vt,S.Kb){if(P=S.U+1>>1,_.memory=a(S.U+2*P),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+S.U,_.Mc=_.cc,_.Nc=_.dc+P,_.Ib=En,Ct()}}else alert("todo:EmitYUV");ie&&(_.Jb=xa,W&&Ve())}if(W&&!bb){for(S=0;256>S;++S)h2[S]=89858*(S-128)+aa>>xl,_h[S]=-22014*(S-128)+aa,Am[S]=-45773*(S-128),sa[S]=113618*(S-128)+aa>>xl;for(S=ec;S<Fp;++S)_=76283*(S-16)+aa>>xl,kh[S-ec]=Qs(_,255),Cm[S-ec]=Qs(_+8>>4,15);bb=1}return 1}function li(S){var _=S.ma,P=S.U,W=S.T;return n(!(1&S.ka)),0>=P||0>=W?0:(P=_.Ib(S,_),_.Jb!=null&&_.Jb(S,_,P),_.Dc+=P,1)}function va(S){S.ma.memory=null}function Dt(S,_,P,W){return Y(S,8)!=47?0:(_[0]=Y(S,14)+1,P[0]=Y(S,14)+1,W[0]=Y(S,1),Y(S,3)!=0?0:!S.h)}function Wn(S,_){if(4>S)return S+1;var P=S-2>>1;return(2+(1&S)<<P)+Y(_,P)+1}function sr(S,_){return 120<_?_-120:1<=(P=((P=eu[_-1])>>4)*S+(8-(15&P)))?P:1;var P}function Mr(S,_,P){var W=B(P),ie=S[_+=255&W].g-8;return 0<ie&&(Z(P,P.u+8),W=B(P),_+=S[_].value,_+=W&(1<<ie)-1),Z(P,P.u+S[_].g),S[_].value}function dr(S,_,P){return P.g+=S.g,P.value+=S.value<<_>>>0,n(8>=P.g),S.g}function fr(S,_,P){var W=S.xc;return n((_=W==0?0:S.vc[S.md*(P>>W)+(_>>W)])<S.Wb),S.Ya[_]}function Hn(S,_,P,W){var ie=S.ab,oe=S.c*_,ue=S.C;_=ue+_;var fe=P,be=W;for(W=S.Ta,P=S.Ua;0<ie--;){var Ae=S.gc[ie],Me=ue,Qe=_,Ye=fe,Be=be,xt=(be=W,fe=P,Ae.Ea);switch(n(Me<Qe),n(Qe<=Ae.nc),Ae.hc){case 2:Tp(Ye,Be,(Qe-Me)*xt,be,fe);break;case 0:var rt=Me,Fe=Qe,qe=be,pt=fe,wt=(Nt=Ae).Ea;rt==0&&(wm(Ye,Be,null,null,1,qe,pt),De(Ye,Be+1,0,0,wt-1,qe,pt+1),Be+=wt,pt+=wt,++rt);for(var bt=1<<Nt.b,Ot=bt-1,jt=de(wt,Nt.b),Yt=Nt.K,Nt=Nt.w+(rt>>Nt.b)*jt;rt<Fe;){var Yn=Yt,or=Nt,In=1;for(vh(Ye,Be,qe,pt-wt,1,qe,pt);In<wt;){var On=(In&~Ot)+bt;On>wt&&(On=wt),(0,Gl[Yn[or++]>>8&15])(Ye,Be+ +In,qe,pt+In-wt,On-In,qe,pt+In),In=On}Be+=wt,pt+=wt,++rt&Ot||(Nt+=jt)}Qe!=Ae.nc&&r(be,fe-xt,be,fe+(Qe-Me-1)*xt,xt);break;case 1:for(xt=Ye,Fe=Be,wt=(Ye=Ae.Ea)-(pt=Ye&~(qe=(Be=1<<Ae.b)-1)),rt=de(Ye,Ae.b),bt=Ae.K,Ae=Ae.w+(Me>>Ae.b)*rt;Me<Qe;){for(Ot=bt,jt=Ae,Yt=new Pe,Nt=Fe+pt,Yn=Fe+Ye;Fe<Nt;)ke(Ot[jt++],Yt),$u(Yt,xt,Fe,Be,be,fe),Fe+=Be,fe+=Be;Fe<Yn&&(ke(Ot[jt++],Yt),$u(Yt,xt,Fe,wt,be,fe),Fe+=wt,fe+=wt),++Me&qe||(Ae+=rt)}break;case 3:if(Ye==be&&Be==fe&&0<Ae.b){for(Fe=be,Ye=xt=fe+(Qe-Me)*xt-(pt=(Qe-Me)*de(Ae.Ea,Ae.b)),Be=be,qe=fe,rt=[],pt=(wt=pt)-1;0<=pt;--pt)rt[pt]=Be[qe+pt];for(pt=wt-1;0<=pt;--pt)Fe[Ye+pt]=rt[pt];lo(Ae,Me,Qe,be,xt,be,fe)}else lo(Ae,Me,Qe,Ye,Be,be,fe)}fe=W,be=P}be!=P&&r(W,P,fe,be,oe)}function ys(S,_){var P=S.V,W=S.Ba+S.c*S.C,ie=_-S.C;if(n(_<=S.l.o),n(16>=ie),0<ie){var oe=S.l,ue=S.Ta,fe=S.Ua,be=oe.width;if(Hn(S,ie,P,W),ie=fe=[fe],n((P=S.C)<(W=_)),n(oe.v<oe.va),W>oe.o&&(W=oe.o),P<oe.j){var Ae=oe.j-P;P=oe.j,ie[0]+=Ae*be}if(P>=W?P=0:(ie[0]+=4*oe.v,oe.ka=P-oe.j,oe.U=oe.va-oe.v,oe.T=W-P,P=1),P){if(fe=fe[0],11>(P=S.ca).S){var Me=P.f.RGBA,Qe=(W=P.S,ie=oe.U,oe=oe.T,Ae=Me.eb,Me.A),Ye=oe;for(Me=Me.fb+S.Ma*Me.A;0<Ye--;){var Be=ue,xt=fe,rt=ie,Fe=Ae,qe=Me;switch(W){case Wa:os(Be,xt,rt,Fe,qe);break;case lf:La(Be,xt,rt,Fe,qe);break;case Ah:La(Be,xt,rt,Fe,qe),Ks(Fe,qe,0,rt,1,0);break;case ml:Do(Be,xt,rt,Fe,qe);break;case Sh:Kt(Be,xt,rt,Fe,qe,1);break;case Xu:Kt(Be,xt,rt,Fe,qe,1),Ks(Fe,qe,0,rt,1,0);break;case rd:Kt(Be,xt,rt,Fe,qe,0);break;case Zl:Kt(Be,xt,rt,Fe,qe,0),Ks(Fe,qe,1,rt,1,0);break;case Xl:Hu(Be,xt,rt,Fe,qe);break;case uf:Hu(Be,xt,rt,Fe,qe),Ln(Fe,qe,rt,1,0);break;case Ip:_s(Be,xt,rt,Fe,qe);break;default:n(0)}fe+=be,Me+=Qe}S.Ma+=oe}else alert("todo:EmitRescaledRowsYUVA");n(S.Ma<=P.height)}}S.C=_,n(S.C<=S.i)}function jr(S){var _;if(0<S.ua)return 0;for(_=0;_<S.Wb;++_){var P=S.Ya[_].G,W=S.Ya[_].H;if(0<P[1][W[1]+0].g||0<P[2][W[2]+0].g||0<P[3][W[3]+0].g)return 0}return 1}function Ia(S,_,P,W,ie,oe){if(S.Z!=0){var ue=S.qd,fe=S.rd;for(n(bl[S.Z]!=null);_<P;++_)bl[S.Z](ue,fe,W,ie,W,ie,oe),ue=W,fe=ie,ie+=oe;S.qd=ue,S.rd=fe}}function zi(S,_){var P=S.l.ma,W=P.Z==0||P.Z==1?S.l.j:S.C;if(W=S.C<W?W:S.C,n(_<=S.l.o),_>W){var ie=S.l.width,oe=P.ca,ue=P.tb+ie*W,fe=S.V,be=S.Ba+S.c*W,Ae=S.gc;n(S.ab==1),n(Ae[0].hc==3),Uu(Ae[0],W,_,fe,be,oe,ue),Ia(P,W,_,oe,ue,ie)}S.C=S.Ma=_}function qi(S,_,P,W,ie,oe,ue){var fe=S.$/W,be=S.$%W,Ae=S.m,Me=S.s,Qe=P+S.$,Ye=Qe;ie=P+W*ie;var Be=P+W*oe,xt=280+Me.ua,rt=S.Pb?fe:16777216,Fe=0<Me.ua?Me.Wa:null,qe=Me.wc,pt=Qe<Be?fr(Me,be,fe):null;n(S.C<oe),n(Be<=ie);var wt=!1;e:for(;;){for(;wt||Qe<Be;){var bt=0;if(fe>=rt){var Ot=Qe-P;n((rt=S).Pb),rt.wd=rt.m,rt.xd=Ot,0<rt.s.ua&&Se(rt.s.Wa,rt.s.vb),rt=fe+pb}if(be&qe||(pt=fr(Me,be,fe)),n(pt!=null),pt.Qb&&(_[Qe]=pt.qb,wt=!0),!wt)if(ne(Ae),pt.jc){bt=Ae,Ot=_;var jt=Qe,Yt=pt.pd[B(bt)&ra-1];n(pt.jc),256>Yt.g?(Z(bt,bt.u+Yt.g),Ot[jt]=Yt.value,bt=0):(Z(bt,bt.u+Yt.g-256),n(256<=Yt.value),bt=Yt.value),bt==0&&(wt=!0)}else bt=Mr(pt.G[0],pt.H[0],Ae);if(Ae.h)break;if(wt||256>bt){if(!wt)if(pt.nd)_[Qe]=(pt.qb|bt<<8)>>>0;else{if(ne(Ae),wt=Mr(pt.G[1],pt.H[1],Ae),ne(Ae),Ot=Mr(pt.G[2],pt.H[2],Ae),jt=Mr(pt.G[3],pt.H[3],Ae),Ae.h)break;_[Qe]=(jt<<24|wt<<16|bt<<8|Ot)>>>0}if(wt=!1,++Qe,++be>=W&&(be=0,++fe,ue!=null&&fe<=oe&&!(fe%16)&&ue(S,fe),Fe!=null))for(;Ye<Qe;)bt=_[Ye++],Fe.X[(506832829*bt&4294967295)>>>Fe.Mb]=bt}else if(280>bt){if(bt=Wn(bt-256,Ae),Ot=Mr(pt.G[4],pt.H[4],Ae),ne(Ae),Ot=sr(W,Ot=Wn(Ot,Ae)),Ae.h)break;if(Qe-P<Ot||ie-Qe<bt)break e;for(jt=0;jt<bt;++jt)_[Qe+jt]=_[Qe+jt-Ot];for(Qe+=bt,be+=bt;be>=W;)be-=W,++fe,ue!=null&&fe<=oe&&!(fe%16)&&ue(S,fe);if(n(Qe<=ie),be&qe&&(pt=fr(Me,be,fe)),Fe!=null)for(;Ye<Qe;)bt=_[Ye++],Fe.X[(506832829*bt&4294967295)>>>Fe.Mb]=bt}else{if(!(bt<xt))break e;for(wt=bt-280,n(Fe!=null);Ye<Qe;)bt=_[Ye++],Fe.X[(506832829*bt&4294967295)>>>Fe.Mb]=bt;bt=Qe,n(!(wt>>>(Ot=Fe).Xa)),_[bt]=Ot.X[wt],wt=!0}wt||n(Ae.h==re(Ae))}if(S.Pb&&Ae.h&&Qe<ie)n(S.m.h),S.a=5,S.m=S.wd,S.$=S.xd,0<S.s.ua&&Se(S.s.vb,S.s.Wa);else{if(Ae.h)break e;ue!=null&&ue(S,fe>oe?oe:fe),S.a=0,S.$=Qe-P}return 1}return S.a=3,0}function er(S){n(S!=null),S.vc=null,S.yc=null,S.Ya=null;var _=S.Wa;_!=null&&(_.X=null),S.vb=null,n(S!=null)}function Ci(){var S=new vm;return S==null?null:(S.a=0,S.xb=cf,tn("Predictor","VP8LPredictors"),tn("Predictor","VP8LPredictors_C"),tn("PredictorAdd","VP8LPredictorsAdd"),tn("PredictorAdd","VP8LPredictorsAdd_C"),Tp=xe,$u=je,os=Je,La=Rt,Hu=kt,_s=Wt,Do=Lt,M.VP8LMapColor32b=Aa,M.VP8LMapColor8b=wh,S)}function tr(S,_,P,W,ie){var oe=1,ue=[S],fe=[_],be=W.m,Ae=W.s,Me=null,Qe=0;e:for(;;){if(P)for(;oe&&Y(be,1);){var Ye=ue,Be=fe,xt=W,rt=1,Fe=xt.m,qe=xt.gc[xt.ab],pt=Y(Fe,2);if(xt.Oc&1<<pt)oe=0;else{switch(xt.Oc|=1<<pt,qe.hc=pt,qe.Ea=Ye[0],qe.nc=Be[0],qe.K=[null],++xt.ab,n(4>=xt.ab),pt){case 0:case 1:qe.b=Y(Fe,3)+2,rt=tr(de(qe.Ea,qe.b),de(qe.nc,qe.b),0,xt,qe.K),qe.K=qe.K[0];break;case 3:var wt,bt=Y(Fe,8)+1,Ot=16<bt?0:4<bt?1:2<bt?2:3;if(Ye[0]=de(qe.Ea,Ot),qe.b=Ot,wt=rt=tr(bt,1,0,xt,qe.K)){var jt,Yt=bt,Nt=qe,Yn=1<<(8>>Nt.b),or=a(Yn);if(or==null)wt=0;else{var In=Nt.K[0],On=Nt.w;for(or[0]=Nt.K[0][0],jt=1;jt<1*Yt;++jt)or[jt]=we(In[On+jt],or[jt-1]);for(;jt<4*Yn;++jt)or[jt]=0;Nt.K[0]=null,Nt.K[0]=or,wt=1}}rt=wt;break;case 2:break;default:n(0)}oe=rt}}if(ue=ue[0],fe=fe[0],oe&&Y(be,1)&&!(oe=1<=(Qe=Y(be,4))&&11>=Qe)){W.a=3;break e}var Er;if(Er=oe)t:{var lr,bn,Tr,Jt=W,un=ue,Vn=fe,Gn=Qe,_a=P,oa=Jt.m,Ni=Jt.s,Ti=[null],$i=1,ho=0,ur=ad[Gn];n:for(;;){if(_a&&Y(oa,1)){var Hi=Y(oa,3)+2,Mo=de(un,Hi),tc=de(Vn,Hi),ld=Mo*tc;if(!tr(Mo,tc,0,Jt,Ti))break n;for(Ti=Ti[0],Ni.xc=Hi,lr=0;lr<ld;++lr){var nc=Ti[lr]>>8&65535;Ti[lr]=nc,nc>=$i&&($i=nc+1)}}if(oa.h)break n;for(bn=0;5>bn;++bn){var ni=Xs[bn];!bn&&0<Gn&&(ni+=1<<Gn),ho<ni&&(ho=ni)}var jh=s($i*ur,O),Pp=$i,us=s(Pp,N);if(us==null)var di=null;else n(65536>=Pp),di=us;var ud=a(ho);if(di==null||ud==null||jh==null){Jt.a=1;break n}var rc=jh;for(lr=Tr=0;lr<$i;++lr){var js=di[lr],ic=js.G,Ns=js.H,Nh=0,ff=1,zp=0;for(bn=0;5>bn;++bn){ni=Xs[bn],ic[bn]=rc,Ns[bn]=Tr,!bn&&0<Gn&&(ni+=1<<Gn);i:{var Th,qp=ni,Oh=Jt,hf=ud,vb=rc,wb=Tr,Ih=0,iu=Oh.m,m2=Y(iu,1);if(i(hf,0,0,qp),m2){var Sb=Y(iu,1)+1,Ab=Y(iu,1),Em=Y(iu,Ab==0?1:8);hf[Em]=1,Sb==2&&(hf[Em=Y(iu,8)]=1);var pf=1}else{var _m=a(19),km=Y(iu,4)+4;if(19<km){Oh.a=3;var Dh=0;break i}for(Th=0;Th<km;++Th)_m[Jl[Th]]=Y(iu,3);var Bp=void 0,mf=void 0,Cb=Oh,Eb=_m,au=qp,Lh=hf,Up=0,Fo=Cb.m,gf=8,jm=s(128,O);r:for(;T(jm,0,7,Eb,19);){if(Y(Fo,1)){var _b=2+2*Y(Fo,3);if((Bp=2+Y(Fo,_b))>au)break r}else Bp=au;for(mf=0;mf<au&&Bp--;){ne(Fo);var Nm=jm[0+(127&B(Fo))];Z(Fo,Fo.u+Nm.g);var cd=Nm.value;if(16>cd)Lh[mf++]=cd,cd!=0&&(gf=cd);else{var kb=cd==16,Tm=cd-16,Om=fo[Tm],Im=Y(Fo,Dp[Tm])+Om;if(mf+Im>au)break r;for(var jb=kb?gf:0;0<Im--;)Lh[mf++]=jb}}Up=1;break r}Up||(Cb.a=3),pf=Up}(pf=pf&&!iu.h)&&(Ih=T(vb,wb,8,hf,qp)),pf&&Ih!=0?Dh=Ih:(Oh.a=3,Dh=0)}if(Dh==0)break n;if(ff&&id[bn]==1&&(ff=rc[Tr].g==0),Nh+=rc[Tr].g,Tr+=Dh,3>=bn){var dd,$p=ud[0];for(dd=1;dd<ni;++dd)ud[dd]>$p&&($p=ud[dd]);zp+=$p}}if(js.nd=ff,js.Qb=0,ff&&(js.qb=(ic[3][Ns[3]+0].value<<24|ic[1][Ns[1]+0].value<<16|ic[2][Ns[2]+0].value)>>>0,Nh==0&&256>ic[0][Ns[0]+0].value&&(js.Qb=1,js.qb+=ic[0][Ns[0]+0].value<<8)),js.jc=!js.Qb&&6>zp,js.jc){var Rh,su=js;for(Rh=0;Rh<ra;++Rh){var vl=Rh,ou=su.pd[vl],Mh=su.G[0][su.H[0]+vl];256<=Mh.value?(ou.g=Mh.g+256,ou.value=Mh.value):(ou.g=0,ou.value=0,vl>>=dr(Mh,8,ou),vl>>=dr(su.G[1][su.H[1]+vl],16,ou),vl>>=dr(su.G[2][su.H[2]+vl],0,ou),dr(su.G[3][su.H[3]+vl],24,ou))}}}Ni.vc=Ti,Ni.Wb=$i,Ni.Ya=di,Ni.yc=jh,Er=1;break t}Er=0}if(!(oe=Er)){W.a=3;break e}if(0<Qe){if(Ae.ua=1<<Qe,!V(Ae.Wa,Qe)){W.a=1,oe=0;break e}}else Ae.ua=0;var Fh=W,Dm=ue,Nb=fe,Lm=Fh.s,Rm=Lm.xc;if(Fh.c=Dm,Fh.i=Nb,Lm.md=de(Dm,Rm),Lm.wc=Rm==0?-1:(1<<Rm)-1,P){W.xb=gb;break e}if((Me=a(ue*fe))==null){W.a=1,oe=0;break e}oe=(oe=qi(W,Me,0,ue,fe,fe,null))&&!be.h;break e}return oe?(ie!=null?ie[0]=Me:(n(Me==null),n(P)),W.$=0,P||er(Ae)):er(Ae),oe}function ro(S,_){var P=S.c*S.i,W=P+_+16*_;return n(S.c<=_),S.V=a(W),S.V==null?(S.Ta=null,S.Ua=0,S.a=1,0):(S.Ta=S.V,S.Ua=S.Ba+P+_,1)}function Eo(S,_){var P=S.C,W=_-P,ie=S.V,oe=S.Ba+S.c*P;for(n(_<=S.l.o);0<W;){var ue=16<W?16:W,fe=S.l.ma,be=S.l.width,Ae=be*ue,Me=fe.ca,Qe=fe.tb+be*P,Ye=S.Ta,Be=S.Ua;Hn(S,ue,ie,oe),zr(Ye,Be,Me,Qe,Ae),Ia(fe,P,P+ue,Me,Qe,be),W-=ue,ie+=ue*S.c,P+=ue}n(P==_),S.C=S.Ma=_}function Fa(){this.ub=this.yd=this.td=this.Rb=0}function Fr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function al(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Ul(){this.Yb=function(){var S=[];return function _(P,W,ie){for(var oe=ie[W],ue=0;ue<oe&&(P.push(ie.length>W+1?[]:0),!(ie.length<W+1));ue++)_(P[ue],W+1,ie)}(S,0,[3,11]),S}()}function Mu(){this.jb=a(3),this.Wc=l([4,8],Ul),this.Xc=l([4,17],Ul)}function Yc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function $s(){this.ld=this.La=this.dd=this.tc=0}function xs(){this.Na=this.la=0}function Pa(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function vs(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function is(){this.uc=this.M=this.Nb=0,this.wa=Array(new $s),this.Y=0,this.ya=Array(new vs),this.aa=0,this.l=new io}function as(){this.y=a(16),this.f=a(8),this.ea=a(8)}function $l(){this.cb=this.a=0,this.sc="",this.m=new te,this.Od=new Fa,this.Kc=new Fr,this.ed=new Yc,this.Qa=new al,this.Ic=this.$c=this.Aa=0,this.D=new is,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,te),this.ia=0,this.pb=s(4,Pa),this.Pa=new Mu,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new as),this.Hd=0,this.rb=Array(new xs),this.sb=0,this.wa=Array(new $s),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new vs),this.L=this.aa=0,this.gd=l([4,2],$s),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function io(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Gc(){var S=new $l;return S!=null&&(S.a=0,S.sc="OK",S.cb=0,S.Xb=0,ia||(ia=sl)),S}function Pr(S,_,P){return S.a==0&&(S.a=_,S.sc=P,S.cb=0),0}function ta(S,_,P){return 3<=P&&S[_+0]==157&&S[_+1]==1&&S[_+2]==42}function ao(S,_){if(S==null)return 0;if(S.a=0,S.sc="OK",_==null)return Pr(S,2,"null VP8Io passed to VP8GetHeaders()");var P=_.data,W=_.w,ie=_.ha;if(4>ie)return Pr(S,7,"Truncated header.");var oe=P[W+0]|P[W+1]<<8|P[W+2]<<16,ue=S.Od;if(ue.Rb=!(1&oe),ue.td=oe>>1&7,ue.yd=oe>>4&1,ue.ub=oe>>5,3<ue.td)return Pr(S,3,"Incorrect keyframe parameters.");if(!ue.yd)return Pr(S,4,"Frame not displayable.");W+=3,ie-=3;var fe=S.Kc;if(ue.Rb){if(7>ie)return Pr(S,7,"cannot parse picture header");if(!ta(P,W,ie))return Pr(S,3,"Bad code word");fe.c=16383&(P[W+4]<<8|P[W+3]),fe.Td=P[W+4]>>6,fe.i=16383&(P[W+6]<<8|P[W+5]),fe.Ud=P[W+6]>>6,W+=7,ie-=7,S.za=fe.c+15>>4,S.Ub=fe.i+15>>4,_.width=fe.c,_.height=fe.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,i((oe=S.Pa).jb,0,255,oe.jb.length),n((oe=S.Qa)!=null),oe.Cb=0,oe.Bb=0,oe.Fb=1,i(oe.Zb,0,0,oe.Zb.length),i(oe.Lb,0,0,oe.Lb)}if(ue.ub>ie)return Pr(S,7,"bad partition length");K(oe=S.m,P,W,ue.ub),W+=ue.ub,ie-=ue.ub,ue.Rb&&(fe.Ld=ye(oe),fe.Kd=ye(oe)),fe=S.Qa;var be,Ae=S.Pa;if(n(oe!=null),n(fe!=null),fe.Cb=ye(oe),fe.Cb){if(fe.Bb=ye(oe),ye(oe)){for(fe.Fb=ye(oe),be=0;4>be;++be)fe.Zb[be]=ye(oe)?G(oe,7):0;for(be=0;4>be;++be)fe.Lb[be]=ye(oe)?G(oe,6):0}if(fe.Bb)for(be=0;3>be;++be)Ae.jb[be]=ye(oe)?H(oe,8):255}else fe.Bb=0;if(oe.Ka)return Pr(S,3,"cannot parse segment header");if((fe=S.ed).zd=ye(oe),fe.Tb=H(oe,6),fe.wb=H(oe,3),fe.Pc=ye(oe),fe.Pc&&ye(oe)){for(Ae=0;4>Ae;++Ae)ye(oe)&&(fe.vd[Ae]=G(oe,6));for(Ae=0;4>Ae;++Ae)ye(oe)&&(fe.od[Ae]=G(oe,6))}if(S.L=fe.Tb==0?0:fe.zd?1:2,oe.Ka)return Pr(S,3,"cannot parse filter header");var Me=ie;if(ie=be=W,W=be+Me,fe=Me,S.Xb=(1<<H(S.m,2))-1,Me<3*(Ae=S.Xb))P=7;else{for(be+=3*Ae,fe-=3*Ae,Me=0;Me<Ae;++Me){var Qe=P[ie+0]|P[ie+1]<<8|P[ie+2]<<16;Qe>fe&&(Qe=fe),K(S.Jc[+Me],P,be,Qe),be+=Qe,fe-=Qe,ie+=3}K(S.Jc[+Ae],P,be,fe),P=be<W?0:5}if(P!=0)return Pr(S,P,"cannot parse partitions");for(P=H(be=S.m,7),ie=ye(be)?G(be,4):0,W=ye(be)?G(be,4):0,fe=ye(be)?G(be,4):0,Ae=ye(be)?G(be,4):0,be=ye(be)?G(be,4):0,Me=S.Qa,Qe=0;4>Qe;++Qe){if(Me.Cb){var Ye=Me.Zb[Qe];Me.Fb||(Ye+=P)}else{if(0<Qe){S.pb[Qe]=S.pb[0];continue}Ye=P}var Be=S.pb[Qe];Be.Sc[0]=Ch[Qs(Ye+ie,127)],Be.Sc[1]=Eh[Qs(Ye+0,127)],Be.Eb[0]=2*Ch[Qs(Ye+W,127)],Be.Eb[1]=101581*Eh[Qs(Ye+fe,127)]>>16,8>Be.Eb[1]&&(Be.Eb[1]=8),Be.Qc[0]=Ch[Qs(Ye+Ae,117)],Be.Qc[1]=Eh[Qs(Ye+be,127)],Be.lc=Ye+be}if(!ue.Rb)return Pr(S,4,"Not a key frame.");for(ye(oe),ue=S.Pa,P=0;4>P;++P){for(ie=0;8>ie;++ie)for(W=0;3>W;++W)for(fe=0;11>fe;++fe)Ae=Ce(oe,sd[P][ie][W][fe])?H(oe,8):gl[P][ie][W][fe],ue.Wc[P][ie].Yb[W][fe]=Ae;for(ie=0;17>ie;++ie)ue.Xc[P][ie]=ue.Wc[P][mb[ie]]}return S.kc=ye(oe),S.kc&&(S.Bd=H(oe,8)),S.cb=1}function sl(S,_,P,W,ie,oe,ue){var fe=_[ie].Yb[P];for(P=0;16>ie;++ie){if(!Ce(S,fe[P+0]))return ie;for(;!Ce(S,fe[P+1]);)if(fe=_[++ie].Yb[0],P=0,ie==16)return 16;var be=_[ie+1].Yb;if(Ce(S,fe[P+2])){var Ae=S,Me=0;if(Ce(Ae,(Ye=fe)[(Qe=P)+3]))if(Ce(Ae,Ye[Qe+6])){for(fe=0,Qe=2*(Me=Ce(Ae,Ye[Qe+8]))+(Ye=Ce(Ae,Ye[Qe+9+Me])),Me=0,Ye=yi[Qe];Ye[fe];++fe)Me+=Me+Ce(Ae,Ye[fe]);Me+=3+(8<<Qe)}else Ce(Ae,Ye[Qe+7])?(Me=7+2*Ce(Ae,165),Me+=Ce(Ae,145)):Me=5+Ce(Ae,159);else Me=Ce(Ae,Ye[Qe+4])?3+Ce(Ae,Ye[Qe+5]):2;fe=be[2]}else Me=1,fe=be[1];be=ue+nr[ie],0>(Ae=S).b&&ve(Ae);var Qe,Ye=Ae.b,Be=(Qe=Ae.Ca>>1)-(Ae.I>>Ye)>>31;--Ae.b,Ae.Ca+=Be,Ae.Ca|=1,Ae.I-=(Qe+1&Be)<<Ye,oe[be]=((Me^Be)-Be)*W[(0<ie)+0]}return 16}function za(S){var _=S.rb[S.sb-1];_.la=0,_.Na=0,i(S.zc,0,0,S.zc.length),S.ja=0}function Hl(S,_){if(S==null)return 0;if(_==null)return Pr(S,2,"NULL VP8Io parameter in VP8Decode().");if(!S.cb&&!ao(S,_))return 0;if(n(S.cb),_.ac==null||_.ac(_)){_.ob&&(S.L=0);var P=ru[S.L];if(S.L==2?(S.yb=0,S.zb=0):(S.yb=_.v-P>>4,S.zb=_.j-P>>4,0>S.yb&&(S.yb=0),0>S.zb&&(S.zb=0)),S.Va=_.o+15+P>>4,S.Hb=_.va+15+P>>4,S.Hb>S.za&&(S.Hb=S.za),S.Va>S.Ub&&(S.Va=S.Ub),0<S.L){var W=S.ed;for(P=0;4>P;++P){var ie;if(S.Qa.Cb){var oe=S.Qa.Lb[P];S.Qa.Fb||(oe+=W.Tb)}else oe=W.Tb;for(ie=0;1>=ie;++ie){var ue=S.gd[P][ie],fe=oe;if(W.Pc&&(fe+=W.vd[0],ie&&(fe+=W.od[0])),0<(fe=0>fe?0:63<fe?63:fe)){var be=fe;0<W.wb&&(be=4<W.wb?be>>2:be>>1)>9-W.wb&&(be=9-W.wb),1>be&&(be=1),ue.dd=be,ue.tc=2*fe+be,ue.ld=40<=fe?2:15<=fe?1:0}else ue.tc=0;ue.La=ie}}}P=0}else Pr(S,6,"Frame setup failed"),P=S.a;if(P=P==0){if(P){S.$c=0,0<S.Aa||(S.Ic=yb);e:{P=S.Ic,W=4*(be=S.za);var Ae=32*be,Me=be+1,Qe=0<S.L?be*(0<S.Aa?2:1):0,Ye=(S.Aa==2?2:1)*be;if((ue=W+832+(ie=3*(16*P+ru[S.L])/2*Ae)+(oe=S.Fa!=null&&0<S.Fa.length?S.Kc.c*S.Kc.i:0))!=ue)P=0;else{if(ue>S.Vb){if(S.Vb=0,S.Ec=a(ue),S.Fc=0,S.Ec==null){P=Pr(S,1,"no memory during frame initialization.");break e}S.Vb=ue}ue=S.Ec,fe=S.Fc,S.Ac=ue,S.Bc=fe,fe+=W,S.Gd=s(Ae,as),S.Hd=0,S.rb=s(Me+1,xs),S.sb=1,S.wa=Qe?s(Qe,$s):null,S.Y=0,S.D.Nb=0,S.D.wa=S.wa,S.D.Y=S.Y,0<S.Aa&&(S.D.Y+=be),n(!0),S.oc=ue,S.pc=fe,fe+=832,S.ya=s(Ye,vs),S.aa=0,S.D.ya=S.ya,S.D.aa=S.aa,S.Aa==2&&(S.D.aa+=be),S.R=16*be,S.B=8*be,be=(Ae=ru[S.L])*S.R,Ae=Ae/2*S.B,S.sa=ue,S.ta=fe+be,S.qa=S.sa,S.ra=S.ta+16*P*S.R+Ae,S.Ha=S.qa,S.Ia=S.ra+8*P*S.B+Ae,S.$c=0,fe+=ie,S.mb=oe?ue:null,S.nb=oe?fe:null,n(fe+oe<=S.Fc+S.Vb),za(S),i(S.Ac,S.Bc,0,W),P=1}}if(P){if(_.ka=0,_.y=S.sa,_.O=S.ta,_.f=S.qa,_.N=S.ra,_.ea=S.Ha,_.Vd=S.Ia,_.fa=S.R,_.Rc=S.B,_.F=null,_.J=0,!Kl){for(P=-255;255>=P;++P)ji[255+P]=0>P?-P:P;for(P=-1020;1020>=P;++P)uo[1020+P]=-128>P?-128:127<P?127:P;for(P=-112;112>=P;++P)Qu[112+P]=-16>P?-16:15<P?15:P;for(P=-255;510>=P;++P)Ku[255+P]=0>P?0:255<P?255:P;Kl=1}hl=Bi,Lo=ko,Ro=Hs,Ui=Fu,ks=Ws,gi=Wl,Jc=Kr,pl=Ha,sf=Xd,Wu=fl,Vu=Gs,Yu=Cs,ed=To,of=Np,Gu=pr,Ql=gn,td=Nr,bi=wa,ls[0]=Ei,ls[1]=ws,ls[2]=so,ls[3]=cl,ls[4]=Ba,ls[5]=Ua,ls[6]=jo,ls[7]=Da,ls[8]=No,ls[9]=$a,tu[0]=ul,tu[1]=qa,tu[2]=Vs,tu[3]=ll,tu[4]=ui,tu[5]=ei,tu[6]=Ss,Zs[0]=$,Zs[1]=Pu,Zs[2]=dl,Zs[3]=oo,Zs[4]=Te,Zs[5]=me,Zs[6]=st,P=1}else P=0}P&&(P=function(Be,xt){for(Be.M=0;Be.M<Be.Va;++Be.M){var rt,Fe=Be.Jc[Be.M&Be.Xb],qe=Be.m,pt=Be;for(rt=0;rt<pt.za;++rt){var wt=qe,bt=pt,Ot=bt.Ac,jt=bt.Bc+4*rt,Yt=bt.zc,Nt=bt.ya[bt.aa+rt];if(bt.Qa.Bb?Nt.$b=Ce(wt,bt.Pa.jb[0])?2+Ce(wt,bt.Pa.jb[2]):Ce(wt,bt.Pa.jb[1]):Nt.$b=0,bt.kc&&(Nt.Ad=Ce(wt,bt.Bd)),Nt.Za=!Ce(wt,145)+0,Nt.Za){var Yn=Nt.Ob,or=0;for(bt=0;4>bt;++bt){var In,On=Yt[0+bt];for(In=0;4>In;++In){On=Sm[Ot[jt+In]][On];for(var Er=Zu[Ce(wt,On[0])];0<Er;)Er=Zu[2*Er+Ce(wt,On[Er])];On=-Er,Ot[jt+In]=On}r(Yn,or,Ot,jt,4),or+=4,Yt[0+bt]=On}}else On=Ce(wt,156)?Ce(wt,128)?1:3:Ce(wt,163)?2:0,Nt.Ob[0]=On,i(Ot,jt,On,4),i(Yt,0,On,4);Nt.Dd=Ce(wt,142)?Ce(wt,114)?Ce(wt,183)?1:3:2:0}if(pt.m.Ka)return Pr(Be,7,"Premature end-of-partition0 encountered.");for(;Be.ja<Be.za;++Be.ja){if(pt=Fe,wt=(qe=Be).rb[qe.sb-1],Ot=qe.rb[qe.sb+qe.ja],rt=qe.ya[qe.aa+qe.ja],jt=qe.kc?rt.Ad:0)wt.la=Ot.la=0,rt.Za||(wt.Na=Ot.Na=0),rt.Hc=0,rt.Gc=0,rt.ia=0;else{var lr,bn;if(wt=Ot,Ot=pt,jt=qe.Pa.Xc,Yt=qe.ya[qe.aa+qe.ja],Nt=qe.pb[Yt.$b],bt=Yt.ad,Yn=0,or=qe.rb[qe.sb-1],On=In=0,i(bt,Yn,0,384),Yt.Za)var Tr=0,Jt=jt[3];else{Er=a(16);var un=wt.Na+or.Na;if(un=ia(Ot,jt[1],un,Nt.Eb,0,Er,0),wt.Na=or.Na=(0<un)+0,1<un)hl(Er,0,bt,Yn);else{var Vn=Er[0]+3>>3;for(Er=0;256>Er;Er+=16)bt[Yn+Er]=Vn}Tr=1,Jt=jt[0]}var Gn=15&wt.la,_a=15&or.la;for(Er=0;4>Er;++Er){var oa=1&_a;for(Vn=bn=0;4>Vn;++Vn)Gn=Gn>>1|(oa=(un=ia(Ot,Jt,un=oa+(1&Gn),Nt.Sc,Tr,bt,Yn))>Tr)<<7,bn=bn<<2|(3<un?3:1<un?2:bt[Yn+0]!=0),Yn+=16;Gn>>=4,_a=_a>>1|oa<<7,In=(In<<8|bn)>>>0}for(Jt=Gn,Tr=_a>>4,lr=0;4>lr;lr+=2){for(bn=0,Gn=wt.la>>4+lr,_a=or.la>>4+lr,Er=0;2>Er;++Er){for(oa=1&_a,Vn=0;2>Vn;++Vn)un=oa+(1&Gn),Gn=Gn>>1|(oa=0<(un=ia(Ot,jt[2],un,Nt.Qc,0,bt,Yn)))<<3,bn=bn<<2|(3<un?3:1<un?2:bt[Yn+0]!=0),Yn+=16;Gn>>=2,_a=_a>>1|oa<<5}On|=bn<<4*lr,Jt|=Gn<<4<<lr,Tr|=(240&_a)<<lr}wt.la=Jt,or.la=Tr,Yt.Hc=In,Yt.Gc=On,Yt.ia=43690&On?0:Nt.ia,jt=!(In|On)}if(0<qe.L&&(qe.wa[qe.Y+qe.ja]=qe.gd[rt.$b][rt.Za],qe.wa[qe.Y+qe.ja].La|=!jt),pt.Ka)return Pr(Be,7,"Premature end-of-file encountered.")}if(za(Be),qe=xt,pt=1,rt=(Fe=Be).D,wt=0<Fe.L&&Fe.M>=Fe.zb&&Fe.M<=Fe.Va,Fe.Aa==0)e:{if(rt.M=Fe.M,rt.uc=wt,Yl(Fe,rt),pt=1,rt=(bn=Fe.D).Nb,wt=(On=ru[Fe.L])*Fe.R,Ot=On/2*Fe.B,Er=16*rt*Fe.R,Vn=8*rt*Fe.B,jt=Fe.sa,Yt=Fe.ta-wt+Er,Nt=Fe.qa,bt=Fe.ra-Ot+Vn,Yn=Fe.Ha,or=Fe.Ia-Ot+Vn,_a=(Gn=bn.M)==0,In=Gn>=Fe.Va-1,Fe.Aa==2&&Yl(Fe,bn),bn.uc)for(oa=(un=Fe).D.M,n(un.D.uc),bn=un.yb;bn<un.Hb;++bn){Tr=bn,Jt=oa;var Ni=(Ti=(ni=un).D).Nb;lr=ni.R;var Ti=Ti.wa[Ti.Y+Tr],$i=ni.sa,ho=ni.ta+16*Ni*lr+16*Tr,ur=Ti.dd,Hi=Ti.tc;if(Hi!=0)if(n(3<=Hi),ni.L==1)0<Tr&&Ql($i,ho,lr,Hi+4),Ti.La&&bi($i,ho,lr,Hi),0<Jt&&Gu($i,ho,lr,Hi+4),Ti.La&&td($i,ho,lr,Hi);else{var Mo=ni.B,tc=ni.qa,ld=ni.ra+8*Ni*Mo+8*Tr,nc=ni.Ha,ni=ni.Ia+8*Ni*Mo+8*Tr;Ni=Ti.ld,0<Tr&&(pl($i,ho,lr,Hi+4,ur,Ni),Wu(tc,ld,nc,ni,Mo,Hi+4,ur,Ni)),Ti.La&&(Yu($i,ho,lr,Hi,ur,Ni),of(tc,ld,nc,ni,Mo,Hi,ur,Ni)),0<Jt&&(Jc($i,ho,lr,Hi+4,ur,Ni),sf(tc,ld,nc,ni,Mo,Hi+4,ur,Ni)),Ti.La&&(Vu($i,ho,lr,Hi,ur,Ni),ed(tc,ld,nc,ni,Mo,Hi,ur,Ni))}}if(Fe.ia&&alert("todo:DitherRow"),qe.put!=null){if(bn=16*Gn,Gn=16*(Gn+1),_a?(qe.y=Fe.sa,qe.O=Fe.ta+Er,qe.f=Fe.qa,qe.N=Fe.ra+Vn,qe.ea=Fe.Ha,qe.W=Fe.Ia+Vn):(bn-=On,qe.y=jt,qe.O=Yt,qe.f=Nt,qe.N=bt,qe.ea=Yn,qe.W=or),In||(Gn-=On),Gn>qe.o&&(Gn=qe.o),qe.F=null,qe.J=null,Fe.Fa!=null&&0<Fe.Fa.length&&bn<Gn&&(qe.J=yh(Fe,qe,bn,Gn-bn),qe.F=Fe.mb,qe.F==null&&qe.F.length==0)){pt=Pr(Fe,3,"Could not decode alpha data.");break e}bn<qe.j&&(On=qe.j-bn,bn=qe.j,n(!(1&On)),qe.O+=Fe.R*On,qe.N+=Fe.B*(On>>1),qe.W+=Fe.B*(On>>1),qe.F!=null&&(qe.J+=qe.width*On)),bn<Gn&&(qe.O+=qe.v,qe.N+=qe.v>>1,qe.W+=qe.v>>1,qe.F!=null&&(qe.J+=qe.v),qe.ka=bn-qe.j,qe.U=qe.va-qe.v,qe.T=Gn-bn,pt=qe.put(qe))}rt+1!=Fe.Ic||In||(r(Fe.sa,Fe.ta-wt,jt,Yt+16*Fe.R,wt),r(Fe.qa,Fe.ra-Ot,Nt,bt+8*Fe.B,Ot),r(Fe.Ha,Fe.Ia-Ot,Yn,or+8*Fe.B,Ot))}if(!pt)return Pr(Be,6,"Output aborted.")}return 1}(S,_)),_.bc!=null&&_.bc(_),P&=1}return P?(S.cb=0,P):0}function na(S,_,P,W,ie){ie=S[_+P+32*W]+(ie>>3),S[_+P+32*W]=-256&ie?0>ie?0:255:ie}function ol(S,_,P,W,ie,oe){na(S,_,0,P,W+ie),na(S,_,1,P,W+oe),na(S,_,2,P,W-oe),na(S,_,3,P,W-ie)}function hr(S){return(20091*S>>16)+S}function _o(S,_,P,W){var ie,oe=0,ue=a(16);for(ie=0;4>ie;++ie){var fe=S[_+0]+S[_+8],be=S[_+0]-S[_+8],Ae=(35468*S[_+4]>>16)-hr(S[_+12]),Me=hr(S[_+4])+(35468*S[_+12]>>16);ue[oe+0]=fe+Me,ue[oe+1]=be+Ae,ue[oe+2]=be-Ae,ue[oe+3]=fe-Me,oe+=4,_++}for(ie=oe=0;4>ie;++ie)fe=(S=ue[oe+0]+4)+ue[oe+8],be=S-ue[oe+8],Ae=(35468*ue[oe+4]>>16)-hr(ue[oe+12]),na(P,W,0,0,fe+(Me=hr(ue[oe+4])+(35468*ue[oe+12]>>16))),na(P,W,1,0,be+Ae),na(P,W,2,0,be-Ae),na(P,W,3,0,fe-Me),oe++,W+=32}function Wl(S,_,P,W){var ie=S[_+0]+4,oe=35468*S[_+4]>>16,ue=hr(S[_+4]),fe=35468*S[_+1]>>16;ol(P,W,0,ie+ue,S=hr(S[_+1]),fe),ol(P,W,1,ie+oe,S,fe),ol(P,W,2,ie-oe,S,fe),ol(P,W,3,ie-ue,S,fe)}function ko(S,_,P,W,ie){_o(S,_,P,W),ie&&_o(S,_+16,P,W+4)}function Hs(S,_,P,W){Lo(S,_+0,P,W,1),Lo(S,_+32,P,W+128,1)}function Fu(S,_,P,W){var ie;for(S=S[_+0]+4,ie=0;4>ie;++ie)for(_=0;4>_;++_)na(P,W,_,ie,S)}function Ws(S,_,P,W){S[_+0]&&Ui(S,_+0,P,W),S[_+16]&&Ui(S,_+16,P,W+4),S[_+32]&&Ui(S,_+32,P,W+128),S[_+48]&&Ui(S,_+48,P,W+128+4)}function Bi(S,_,P,W){var ie,oe=a(16);for(ie=0;4>ie;++ie){var ue=S[_+0+ie]+S[_+12+ie],fe=S[_+4+ie]+S[_+8+ie],be=S[_+4+ie]-S[_+8+ie],Ae=S[_+0+ie]-S[_+12+ie];oe[0+ie]=ue+fe,oe[8+ie]=ue-fe,oe[4+ie]=Ae+be,oe[12+ie]=Ae-be}for(ie=0;4>ie;++ie)ue=(S=oe[0+4*ie]+3)+oe[3+4*ie],fe=oe[1+4*ie]+oe[2+4*ie],be=oe[1+4*ie]-oe[2+4*ie],Ae=S-oe[3+4*ie],P[W+0]=ue+fe>>3,P[W+16]=Ae+be>>3,P[W+32]=ue-fe>>3,P[W+48]=Ae-be>>3,W+=64}function ss(S,_,P){var W,ie=_-32,oe=Ca,ue=255-S[ie-1];for(W=0;W<P;++W){var fe,be=oe,Ae=ue+S[_-1];for(fe=0;fe<P;++fe)S[_+fe]=be[Ae+S[ie+fe]];_+=32}}function ws(S,_){ss(S,_,4)}function Pu(S,_){ss(S,_,8)}function qa(S,_){ss(S,_,16)}function Vs(S,_){var P;for(P=0;16>P;++P)r(S,_+32*P,S,_-32,16)}function ll(S,_){var P;for(P=16;0<P;--P)i(S,_,S[_-1],16),_+=32}function Ys(S,_,P){var W;for(W=0;16>W;++W)i(_,P+32*W,S,16)}function ul(S,_){var P,W=16;for(P=0;16>P;++P)W+=S[_-1+32*P]+S[_+P-32];Ys(W>>5,S,_)}function ui(S,_){var P,W=8;for(P=0;16>P;++P)W+=S[_-1+32*P];Ys(W>>4,S,_)}function ei(S,_){var P,W=8;for(P=0;16>P;++P)W+=S[_+P-32];Ys(W>>4,S,_)}function Ss(S,_){Ys(128,S,_)}function en(S,_,P){return S+2*_+P+2>>2}function so(S,_){var P,W=_-32;for(W=new Uint8Array([en(S[W-1],S[W+0],S[W+1]),en(S[W+0],S[W+1],S[W+2]),en(S[W+1],S[W+2],S[W+3]),en(S[W+2],S[W+3],S[W+4])]),P=0;4>P;++P)r(S,_+32*P,W,0,W.length)}function cl(S,_){var P=S[_-1],W=S[_-1+32],ie=S[_-1+64],oe=S[_-1+96];Oe(S,_+0,16843009*en(S[_-1-32],P,W)),Oe(S,_+32,16843009*en(P,W,ie)),Oe(S,_+64,16843009*en(W,ie,oe)),Oe(S,_+96,16843009*en(ie,oe,oe))}function Ei(S,_){var P,W=4;for(P=0;4>P;++P)W+=S[_+P-32]+S[_-1+32*P];for(W>>=3,P=0;4>P;++P)i(S,_+32*P,W,4)}function Ba(S,_){var P=S[_-1+0],W=S[_-1+32],ie=S[_-1+64],oe=S[_-1-32],ue=S[_+0-32],fe=S[_+1-32],be=S[_+2-32],Ae=S[_+3-32];S[_+0+96]=en(W,ie,S[_-1+96]),S[_+1+96]=S[_+0+64]=en(P,W,ie),S[_+2+96]=S[_+1+64]=S[_+0+32]=en(oe,P,W),S[_+3+96]=S[_+2+64]=S[_+1+32]=S[_+0+0]=en(ue,oe,P),S[_+3+64]=S[_+2+32]=S[_+1+0]=en(fe,ue,oe),S[_+3+32]=S[_+2+0]=en(be,fe,ue),S[_+3+0]=en(Ae,be,fe)}function jo(S,_){var P=S[_+1-32],W=S[_+2-32],ie=S[_+3-32],oe=S[_+4-32],ue=S[_+5-32],fe=S[_+6-32],be=S[_+7-32];S[_+0+0]=en(S[_+0-32],P,W),S[_+1+0]=S[_+0+32]=en(P,W,ie),S[_+2+0]=S[_+1+32]=S[_+0+64]=en(W,ie,oe),S[_+3+0]=S[_+2+32]=S[_+1+64]=S[_+0+96]=en(ie,oe,ue),S[_+3+32]=S[_+2+64]=S[_+1+96]=en(oe,ue,fe),S[_+3+64]=S[_+2+96]=en(ue,fe,be),S[_+3+96]=en(fe,be,be)}function Ua(S,_){var P=S[_-1+0],W=S[_-1+32],ie=S[_-1+64],oe=S[_-1-32],ue=S[_+0-32],fe=S[_+1-32],be=S[_+2-32],Ae=S[_+3-32];S[_+0+0]=S[_+1+64]=oe+ue+1>>1,S[_+1+0]=S[_+2+64]=ue+fe+1>>1,S[_+2+0]=S[_+3+64]=fe+be+1>>1,S[_+3+0]=be+Ae+1>>1,S[_+0+96]=en(ie,W,P),S[_+0+64]=en(W,P,oe),S[_+0+32]=S[_+1+96]=en(P,oe,ue),S[_+1+32]=S[_+2+96]=en(oe,ue,fe),S[_+2+32]=S[_+3+96]=en(ue,fe,be),S[_+3+32]=en(fe,be,Ae)}function Da(S,_){var P=S[_+0-32],W=S[_+1-32],ie=S[_+2-32],oe=S[_+3-32],ue=S[_+4-32],fe=S[_+5-32],be=S[_+6-32],Ae=S[_+7-32];S[_+0+0]=P+W+1>>1,S[_+1+0]=S[_+0+64]=W+ie+1>>1,S[_+2+0]=S[_+1+64]=ie+oe+1>>1,S[_+3+0]=S[_+2+64]=oe+ue+1>>1,S[_+0+32]=en(P,W,ie),S[_+1+32]=S[_+0+96]=en(W,ie,oe),S[_+2+32]=S[_+1+96]=en(ie,oe,ue),S[_+3+32]=S[_+2+96]=en(oe,ue,fe),S[_+3+64]=en(ue,fe,be),S[_+3+96]=en(fe,be,Ae)}function $a(S,_){var P=S[_-1+0],W=S[_-1+32],ie=S[_-1+64],oe=S[_-1+96];S[_+0+0]=P+W+1>>1,S[_+2+0]=S[_+0+32]=W+ie+1>>1,S[_+2+32]=S[_+0+64]=ie+oe+1>>1,S[_+1+0]=en(P,W,ie),S[_+3+0]=S[_+1+32]=en(W,ie,oe),S[_+3+32]=S[_+1+64]=en(ie,oe,oe),S[_+3+64]=S[_+2+64]=S[_+0+96]=S[_+1+96]=S[_+2+96]=S[_+3+96]=oe}function No(S,_){var P=S[_-1+0],W=S[_-1+32],ie=S[_-1+64],oe=S[_-1+96],ue=S[_-1-32],fe=S[_+0-32],be=S[_+1-32],Ae=S[_+2-32];S[_+0+0]=S[_+2+32]=P+ue+1>>1,S[_+0+32]=S[_+2+64]=W+P+1>>1,S[_+0+64]=S[_+2+96]=ie+W+1>>1,S[_+0+96]=oe+ie+1>>1,S[_+3+0]=en(fe,be,Ae),S[_+2+0]=en(ue,fe,be),S[_+1+0]=S[_+3+32]=en(P,ue,fe),S[_+1+32]=S[_+3+64]=en(W,P,ue),S[_+1+64]=S[_+3+96]=en(ie,W,P),S[_+1+96]=en(oe,ie,W)}function dl(S,_){var P;for(P=0;8>P;++P)r(S,_+32*P,S,_-32,8)}function oo(S,_){var P;for(P=0;8>P;++P)i(S,_,S[_-1],8),_+=32}function As(S,_,P){var W;for(W=0;8>W;++W)i(_,P+32*W,S,8)}function $(S,_){var P,W=8;for(P=0;8>P;++P)W+=S[_+P-32]+S[_-1+32*P];As(W>>4,S,_)}function me(S,_){var P,W=4;for(P=0;8>P;++P)W+=S[_+P-32];As(W>>3,S,_)}function Te(S,_){var P,W=4;for(P=0;8>P;++P)W+=S[_-1+32*P];As(W>>3,S,_)}function st(S,_){As(128,S,_)}function Xt(S,_,P){var W=S[_-P],ie=S[_+0],oe=3*(ie-W)+Op[1020+S[_-2*P]-S[_+P]],ue=nd[112+(oe+4>>3)];S[_-P]=Ca[255+W+nd[112+(oe+3>>3)]],S[_+0]=Ca[255+ie-ue]}function qt(S,_,P,W){var ie=S[_+0],oe=S[_+P];return co[255+S[_-2*P]-S[_-P]]>W||co[255+oe-ie]>W}function Tn(S,_,P,W){return 4*co[255+S[_-P]-S[_+0]]+co[255+S[_-2*P]-S[_+P]]<=W}function _n(S,_,P,W,ie){var oe=S[_-3*P],ue=S[_-2*P],fe=S[_-P],be=S[_+0],Ae=S[_+P],Me=S[_+2*P],Qe=S[_+3*P];return 4*co[255+fe-be]+co[255+ue-Ae]>W?0:co[255+S[_-4*P]-oe]<=ie&&co[255+oe-ue]<=ie&&co[255+ue-fe]<=ie&&co[255+Qe-Me]<=ie&&co[255+Me-Ae]<=ie&&co[255+Ae-be]<=ie}function pr(S,_,P,W){var ie=2*W+1;for(W=0;16>W;++W)Tn(S,_+W,P,ie)&&Xt(S,_+W,P)}function gn(S,_,P,W){var ie=2*W+1;for(W=0;16>W;++W)Tn(S,_+W*P,1,ie)&&Xt(S,_+W*P,1)}function Nr(S,_,P,W){var ie;for(ie=3;0<ie;--ie)pr(S,_+=4*P,P,W)}function wa(S,_,P,W){var ie;for(ie=3;0<ie;--ie)gn(S,_+=4,P,W)}function Ar(S,_,P,W,ie,oe,ue,fe){for(oe=2*oe+1;0<ie--;){if(_n(S,_,P,oe,ue))if(qt(S,_,P,fe))Xt(S,_,P);else{var be=S,Ae=_,Me=P,Qe=be[Ae-2*Me],Ye=be[Ae-Me],Be=be[Ae+0],xt=be[Ae+Me],rt=be[Ae+2*Me],Fe=27*(pt=Op[1020+3*(Be-Ye)+Op[1020+Qe-xt]])+63>>7,qe=18*pt+63>>7,pt=9*pt+63>>7;be[Ae-3*Me]=Ca[255+be[Ae-3*Me]+pt],be[Ae-2*Me]=Ca[255+Qe+qe],be[Ae-Me]=Ca[255+Ye+Fe],be[Ae+0]=Ca[255+Be-Fe],be[Ae+Me]=Ca[255+xt-qe],be[Ae+2*Me]=Ca[255+rt-pt]}_+=W}}function Cr(S,_,P,W,ie,oe,ue,fe){for(oe=2*oe+1;0<ie--;){if(_n(S,_,P,oe,ue))if(qt(S,_,P,fe))Xt(S,_,P);else{var be=S,Ae=_,Me=P,Qe=be[Ae-Me],Ye=be[Ae+0],Be=be[Ae+Me],xt=nd[112+((rt=3*(Ye-Qe))+4>>3)],rt=nd[112+(rt+3>>3)],Fe=xt+1>>1;be[Ae-2*Me]=Ca[255+be[Ae-2*Me]+Fe],be[Ae-Me]=Ca[255+Qe+rt],be[Ae+0]=Ca[255+Ye-xt],be[Ae+Me]=Ca[255+Be-Fe]}_+=W}}function Kr(S,_,P,W,ie,oe){Ar(S,_,P,1,16,W,ie,oe)}function Ha(S,_,P,W,ie,oe){Ar(S,_,1,P,16,W,ie,oe)}function Gs(S,_,P,W,ie,oe){var ue;for(ue=3;0<ue;--ue)Cr(S,_+=4*P,P,1,16,W,ie,oe)}function Cs(S,_,P,W,ie,oe){var ue;for(ue=3;0<ue;--ue)Cr(S,_+=4,1,P,16,W,ie,oe)}function Xd(S,_,P,W,ie,oe,ue,fe){Ar(S,_,ie,1,8,oe,ue,fe),Ar(P,W,ie,1,8,oe,ue,fe)}function fl(S,_,P,W,ie,oe,ue,fe){Ar(S,_,1,ie,8,oe,ue,fe),Ar(P,W,1,ie,8,oe,ue,fe)}function To(S,_,P,W,ie,oe,ue,fe){Cr(S,_+4*ie,ie,1,8,oe,ue,fe),Cr(P,W+4*ie,ie,1,8,oe,ue,fe)}function Np(S,_,P,W,ie,oe,ue,fe){Cr(S,_+4,1,ie,8,oe,ue,fe),Cr(P,W+4,1,ie,8,oe,ue,fe)}function Zd(){this.ba=new Qr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Mn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function gh(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function bh(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Jd(){this.ua=0,this.Wa=new se,this.vb=new se,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new N,this.yc=new O}function vm(){this.xb=this.a=0,this.l=new io,this.ca=new Qr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Jd,this.ab=0,this.gc=s(4,bh),this.Oc=0}function ef(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new io,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Qc(S,_,P,W,ie,oe,ue){for(S=S==null?0:S[_+0],_=0;_<ue;++_)ie[oe+_]=S+P[W+_]&255,S=ie[oe+_]}function tf(S,_,P,W,ie,oe,ue){var fe;if(S==null)Qc(null,null,P,W,ie,oe,ue);else for(fe=0;fe<ue;++fe)ie[oe+fe]=S[_+fe]+P[W+fe]&255}function zu(S,_,P,W,ie,oe,ue){if(S==null)Qc(null,null,P,W,ie,oe,ue);else{var fe,be=S[_+0],Ae=be,Me=be;for(fe=0;fe<ue;++fe)Ae=Me+(be=S[_+fe])-Ae,Me=P[W+fe]+(-256&Ae?0>Ae?0:255:Ae)&255,Ae=be,ie[oe+fe]=Me}}function yh(S,_,P,W){var ie=_.width,oe=_.o;if(n(S!=null&&_!=null),0>P||0>=W||P+W>oe)return null;if(!S.Cc){if(S.ga==null){var ue;if(S.ga=new ef,(ue=S.ga==null)||(ue=_.width*_.o,n(S.Gb.length==0),S.Gb=a(ue),S.Uc=0,S.Gb==null?ue=0:(S.mb=S.Gb,S.nb=S.Uc,S.rc=null,ue=1),ue=!ue),!ue){ue=S.ga;var fe=S.Fa,be=S.P,Ae=S.qc,Me=S.mb,Qe=S.nb,Ye=be+1,Be=Ae-1,xt=ue.l;if(n(fe!=null&&Me!=null&&_!=null),bl[0]=null,bl[1]=Qc,bl[2]=tf,bl[3]=zu,ue.ca=Me,ue.tb=Qe,ue.c=_.width,ue.i=_.height,n(0<ue.c&&0<ue.i),1>=Ae)_=0;else if(ue.$a=fe[be+0]>>0&3,ue.Z=fe[be+0]>>2&3,ue.Lc=fe[be+0]>>4&3,be=fe[be+0]>>6&3,0>ue.$a||1<ue.$a||4<=ue.Z||1<ue.Lc||be)_=0;else if(xt.put=li,xt.ac=Sr,xt.bc=va,xt.ma=ue,xt.width=_.width,xt.height=_.height,xt.Da=_.Da,xt.v=_.v,xt.va=_.va,xt.j=_.j,xt.o=_.o,ue.$a)e:{n(ue.$a==1),_=Ci();t:for(;;){if(_==null){_=0;break e}if(n(ue!=null),ue.mc=_,_.c=ue.c,_.i=ue.i,_.l=ue.l,_.l.ma=ue,_.l.width=ue.c,_.l.height=ue.i,_.a=0,ee(_.m,fe,Ye,Be),!tr(ue.c,ue.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&jr(_.s)?(ue.ic=1,fe=_.c*_.i,_.Ta=null,_.Ua=0,_.V=a(fe),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(ue.ic=0,_=ro(_,ue.c)),!_))break t;_=1;break e}ue.mc=null,_=0}else _=Be>=ue.c*ue.i;ue=!_}if(ue)return null;S.ga.Lc!=1?S.Ga=0:W=oe-P}n(S.ga!=null),n(P+W<=oe);e:{if(_=(fe=S.ga).c,oe=fe.l.o,fe.$a==0){if(Ye=S.rc,Be=S.Vc,xt=S.Fa,be=S.P+1+P*_,Ae=S.mb,Me=S.nb+P*_,n(be<=S.P+S.qc),fe.Z!=0)for(n(bl[fe.Z]!=null),ue=0;ue<W;++ue)bl[fe.Z](Ye,Be,xt,be,Ae,Me,_),Ye=Ae,Be=Me,Me+=_,be+=_;else for(ue=0;ue<W;++ue)r(Ae,Me,xt,be,_),Ye=Ae,Be=Me,Me+=_,be+=_;S.rc=Ye,S.Vc=Be}else{if(n(fe.mc!=null),_=P+W,n((ue=fe.mc)!=null),n(_<=ue.i),ue.C>=_)_=1;else if(fe.ic||Ve(),fe.ic){fe=ue.V,Ye=ue.Ba,Be=ue.c;var rt=ue.i,Fe=(xt=1,be=ue.$/Be,Ae=ue.$%Be,Me=ue.m,Qe=ue.s,ue.$),qe=Be*rt,pt=Be*_,wt=Qe.wc,bt=Fe<pt?fr(Qe,Ae,be):null;n(Fe<=qe),n(_<=rt),n(jr(Qe));t:for(;;){for(;!Me.h&&Fe<pt;){if(Ae&wt||(bt=fr(Qe,Ae,be)),n(bt!=null),ne(Me),256>(rt=Mr(bt.G[0],bt.H[0],Me)))fe[Ye+Fe]=rt,++Fe,++Ae>=Be&&(Ae=0,++be<=_&&!(be%16)&&zi(ue,be));else{if(!(280>rt)){xt=0;break t}rt=Wn(rt-256,Me);var Ot,jt=Mr(bt.G[4],bt.H[4],Me);if(ne(Me),!(Fe>=(jt=sr(Be,jt=Wn(jt,Me)))&&qe-Fe>=rt)){xt=0;break t}for(Ot=0;Ot<rt;++Ot)fe[Ye+Fe+Ot]=fe[Ye+Fe+Ot-jt];for(Fe+=rt,Ae+=rt;Ae>=Be;)Ae-=Be,++be<=_&&!(be%16)&&zi(ue,be);Fe<pt&&Ae&wt&&(bt=fr(Qe,Ae,be))}n(Me.h==re(Me))}zi(ue,be>_?_:be);break t}!xt||Me.h&&Fe<qe?(xt=0,ue.a=Me.h?5:3):ue.$=Fe,_=xt}else _=qi(ue,ue.V,ue.Ba,ue.c,ue.i,_,Eo);if(!_){W=0;break e}}P+W>=oe&&(S.Cc=1),W=1}if(!W)return null;if(S.Cc&&((W=S.ga)!=null&&(W.mc=null),S.ga=null,0<S.Ga))return alert("todo:WebPDequantizeLevels"),null}return S.nb+P*ie}function D(S,_,P,W,ie,oe){for(;0<ie--;){var ue,fe=S,be=_+(P?1:0),Ae=S,Me=_+(P?0:3);for(ue=0;ue<W;++ue){var Qe=Ae[Me+4*ue];Qe!=255&&(Qe*=32897,fe[be+4*ue+0]=fe[be+4*ue+0]*Qe>>23,fe[be+4*ue+1]=fe[be+4*ue+1]*Qe>>23,fe[be+4*ue+2]=fe[be+4*ue+2]*Qe>>23)}_+=oe}}function ae(S,_,P,W,ie){for(;0<W--;){var oe;for(oe=0;oe<P;++oe){var ue=S[_+2*oe+0],fe=15&(Ae=S[_+2*oe+1]),be=4369*fe,Ae=(240&Ae|Ae>>4)*be>>16;S[_+2*oe+0]=(240&ue|ue>>4)*be>>16&240|(15&ue|ue<<4)*be>>16>>4&15,S[_+2*oe+1]=240&Ae|fe}_+=ie}}function Ee(S,_,P,W,ie,oe,ue,fe){var be,Ae,Me=255;for(Ae=0;Ae<ie;++Ae){for(be=0;be<W;++be){var Qe=S[_+be];oe[ue+4*be]=Qe,Me&=Qe}_+=P,ue+=fe}return Me!=255}function Re(S,_,P,W,ie){var oe;for(oe=0;oe<ie;++oe)P[W+oe]=S[_+oe]>>8}function Ve(){Ks=D,Ln=ae,Rn=Ee,zr=Re}function dt(S,_,P){M[S]=function(W,ie,oe,ue,fe,be,Ae,Me,Qe,Ye,Be,xt,rt,Fe,qe,pt,wt){var bt,Ot=wt-1>>1,jt=fe[be+0]|Ae[Me+0]<<16,Yt=Qe[Ye+0]|Be[xt+0]<<16;n(W!=null);var Nt=3*jt+Yt+131074>>2;for(_(W[ie+0],255&Nt,Nt>>16,rt,Fe),oe!=null&&(Nt=3*Yt+jt+131074>>2,_(oe[ue+0],255&Nt,Nt>>16,qe,pt)),bt=1;bt<=Ot;++bt){var Yn=fe[be+bt]|Ae[Me+bt]<<16,or=Qe[Ye+bt]|Be[xt+bt]<<16,In=jt+Yn+Yt+or+524296,On=In+2*(Yn+Yt)>>3;Nt=On+jt>>1,jt=(In=In+2*(jt+or)>>3)+Yn>>1,_(W[ie+2*bt-1],255&Nt,Nt>>16,rt,Fe+(2*bt-1)*P),_(W[ie+2*bt-0],255&jt,jt>>16,rt,Fe+(2*bt-0)*P),oe!=null&&(Nt=In+Yt>>1,jt=On+or>>1,_(oe[ue+2*bt-1],255&Nt,Nt>>16,qe,pt+(2*bt-1)*P),_(oe[ue+2*bt+0],255&jt,jt>>16,qe,pt+(2*bt+0)*P)),jt=Yn,Yt=or}1&wt||(Nt=3*jt+Yt+131074>>2,_(W[ie+wt-1],255&Nt,Nt>>16,rt,Fe+(wt-1)*P),oe!=null&&(Nt=3*Yt+jt+131074>>2,_(oe[ue+wt-1],255&Nt,Nt>>16,qe,pt+(wt-1)*P)))}}function Ct(){Ea[Wa]=nu,Ea[lf]=yl,Ea[ml]=Ju,Ea[Sh]=Lp,Ea[rd]=Rp,Ea[Xl]=df,Ea[Ip]=Mp,Ea[Ah]=yl,Ea[Xu]=Lp,Ea[Zl]=Rp,Ea[uf]=df}function Tt(S){return S&-16384?0>S?0:255:S>>f2}function Ut(S,_){return Tt((19077*S>>8)+(26149*_>>8)-14234)}function vn(S,_,P){return Tt((19077*S>>8)-(6419*_>>8)-(13320*P>>8)+8708)}function pn(S,_){return Tt((19077*S>>8)+(33050*_>>8)-17685)}function Bn(S,_,P,W,ie){W[ie+0]=Ut(S,P),W[ie+1]=vn(S,_,P),W[ie+2]=pn(S,_)}function ti(S,_,P,W,ie){W[ie+0]=pn(S,_),W[ie+1]=vn(S,_,P),W[ie+2]=Ut(S,P)}function ci(S,_,P,W,ie){var oe=vn(S,_,P);_=oe<<3&224|pn(S,_)>>3,W[ie+0]=248&Ut(S,P)|oe>>5,W[ie+1]=_}function _i(S,_,P,W,ie){var oe=240&pn(S,_)|15;W[ie+0]=240&Ut(S,P)|vn(S,_,P)>>4,W[ie+1]=oe}function ki(S,_,P,W,ie){W[ie+0]=255,Bn(S,_,P,W,ie+1)}function Sa(S,_,P,W,ie){ti(S,_,P,W,ie),W[ie+3]=255}function Oo(S,_,P,W,ie){Bn(S,_,P,W,ie),W[ie+3]=255}function Qs(S,_){return 0>S?0:S>_?_:S}function Io(S,_,P){M[S]=function(W,ie,oe,ue,fe,be,Ae,Me,Qe){for(var Ye=Me+(-2&Qe)*P;Me!=Ye;)_(W[ie+0],oe[ue+0],fe[be+0],Ae,Me),_(W[ie+1],oe[ue+0],fe[be+0],Ae,Me+P),ie+=2,++ue,++be,Me+=2*P;1&Qe&&_(W[ie+0],oe[ue+0],fe[be+0],Ae,Me)}}function xh(S,_,P){return P==0?S==0?_==0?6:5:_==0?4:0:P}function Vl(S,_,P,W,ie){switch(S>>>30){case 3:Lo(_,P,W,ie,0);break;case 2:gi(_,P,W,ie);break;case 1:Ui(_,P,W,ie)}}function Yl(S,_){var P,W,ie=_.M,oe=_.Nb,ue=S.oc,fe=S.pc+40,be=S.oc,Ae=S.pc+584,Me=S.oc,Qe=S.pc+600;for(P=0;16>P;++P)ue[fe+32*P-1]=129;for(P=0;8>P;++P)be[Ae+32*P-1]=129,Me[Qe+32*P-1]=129;for(0<ie?ue[fe-1-32]=be[Ae-1-32]=Me[Qe-1-32]=129:(i(ue,fe-32-1,127,21),i(be,Ae-32-1,127,9),i(Me,Qe-32-1,127,9)),W=0;W<S.za;++W){var Ye=_.ya[_.aa+W];if(0<W){for(P=-1;16>P;++P)r(ue,fe+32*P-4,ue,fe+32*P+12,4);for(P=-1;8>P;++P)r(be,Ae+32*P-4,be,Ae+32*P+4,4),r(Me,Qe+32*P-4,Me,Qe+32*P+4,4)}var Be=S.Gd,xt=S.Hd+W,rt=Ye.ad,Fe=Ye.Hc;if(0<ie&&(r(ue,fe-32,Be[xt].y,0,16),r(be,Ae-32,Be[xt].f,0,8),r(Me,Qe-32,Be[xt].ea,0,8)),Ye.Za){var qe=ue,pt=fe-32+16;for(0<ie&&(W>=S.za-1?i(qe,pt,Be[xt].y[15],4):r(qe,pt,Be[xt+1].y,0,4)),P=0;4>P;P++)qe[pt+128+P]=qe[pt+256+P]=qe[pt+384+P]=qe[pt+0+P];for(P=0;16>P;++P,Fe<<=2)qe=ue,pt=fe+od[P],ls[Ye.Ob[P]](qe,pt),Vl(Fe,rt,16*+P,qe,pt)}else if(qe=xh(W,ie,Ye.Ob[0]),tu[qe](ue,fe),Fe!=0)for(P=0;16>P;++P,Fe<<=2)Vl(Fe,rt,16*+P,ue,fe+od[P]);for(P=Ye.Gc,qe=xh(W,ie,Ye.Dd),Zs[qe](be,Ae),Zs[qe](Me,Qe),Fe=rt,qe=be,pt=Ae,255&(Ye=P>>0)&&(170&Ye?Ro(Fe,256,qe,pt):ks(Fe,256,qe,pt)),Ye=Me,Fe=Qe,255&(P>>=8)&&(170&P?Ro(rt,320,Ye,Fe):ks(rt,320,Ye,Fe)),ie<S.Ub-1&&(r(Be[xt].y,0,ue,fe+480,16),r(Be[xt].f,0,be,Ae+224,8),r(Be[xt].ea,0,Me,Qe+224,8)),P=8*oe*S.B,Be=S.sa,xt=S.ta+16*W+16*oe*S.R,rt=S.qa,Ye=S.ra+8*W+P,Fe=S.Ha,qe=S.Ia+8*W+P,P=0;16>P;++P)r(Be,xt+P*S.R,ue,fe+32*P,16);for(P=0;8>P;++P)r(rt,Ye+P*S.B,be,Ae+32*P,8),r(Fe,qe+P*S.B,Me,Qe+32*P,8)}}function nf(S,_,P,W,ie,oe,ue,fe,be){var Ae=[0],Me=[0],Qe=0,Ye=be!=null?be.kd:0,Be=be??new gh;if(S==null||12>P)return 7;Be.data=S,Be.w=_,Be.ha=P,_=[_],P=[P],Be.gb=[Be.gb];e:{var xt=_,rt=P,Fe=Be.gb;if(n(S!=null),n(rt!=null),n(Fe!=null),Fe[0]=0,12<=rt[0]&&!t(S,xt[0],"RIFF")){if(t(S,xt[0]+8,"WEBP")){Fe=3;break e}var qe=We(S,xt[0]+4);if(12>qe||4294967286<qe){Fe=3;break e}if(Ye&&qe>rt[0]-8){Fe=7;break e}Fe[0]=qe,xt[0]+=12,rt[0]-=12}Fe=0}if(Fe!=0)return Fe;for(qe=0<Be.gb[0],P=P[0];;){e:{var pt=S;rt=_,Fe=P;var wt=Ae,bt=Me,Ot=xt=[0];if((Nt=Qe=[Qe])[0]=0,8>Fe[0])Fe=7;else{if(!t(pt,rt[0],"VP8X")){if(We(pt,rt[0]+4)!=10){Fe=3;break e}if(18>Fe[0]){Fe=7;break e}var jt=We(pt,rt[0]+8),Yt=1+$e(pt,rt[0]+12);if(2147483648<=Yt*(pt=1+$e(pt,rt[0]+15))){Fe=3;break e}Ot!=null&&(Ot[0]=jt),wt!=null&&(wt[0]=Yt),bt!=null&&(bt[0]=pt),rt[0]+=18,Fe[0]-=18,Nt[0]=1}Fe=0}}if(Qe=Qe[0],xt=xt[0],Fe!=0)return Fe;if(rt=!!(2&xt),!qe&&Qe)return 3;if(oe!=null&&(oe[0]=!!(16&xt)),ue!=null&&(ue[0]=rt),fe!=null&&(fe[0]=0),ue=Ae[0],xt=Me[0],Qe&&rt&&be==null){Fe=0;break}if(4>P){Fe=7;break}if(qe&&Qe||!qe&&!Qe&&!t(S,_[0],"ALPH")){P=[P],Be.na=[Be.na],Be.P=[Be.P],Be.Sa=[Be.Sa];e:{jt=S,Fe=_,qe=P;var Nt=Be.gb;wt=Be.na,bt=Be.P,Ot=Be.Sa,Yt=22,n(jt!=null),n(qe!=null),pt=Fe[0];var Yn=qe[0];for(n(wt!=null),n(Ot!=null),wt[0]=null,bt[0]=null,Ot[0]=0;;){if(Fe[0]=pt,qe[0]=Yn,8>Yn){Fe=7;break e}var or=We(jt,pt+4);if(4294967286<or){Fe=3;break e}var In=8+or+1&-2;if(Yt+=In,0<Nt&&Yt>Nt){Fe=3;break e}if(!t(jt,pt,"VP8 ")||!t(jt,pt,"VP8L")){Fe=0;break e}if(Yn[0]<In){Fe=7;break e}t(jt,pt,"ALPH")||(wt[0]=jt,bt[0]=pt+8,Ot[0]=or),pt+=In,Yn-=In}}if(P=P[0],Be.na=Be.na[0],Be.P=Be.P[0],Be.Sa=Be.Sa[0],Fe!=0)break}P=[P],Be.Ja=[Be.Ja],Be.xa=[Be.xa];e:if(Nt=S,Fe=_,qe=P,wt=Be.gb[0],bt=Be.Ja,Ot=Be.xa,jt=Fe[0],pt=!t(Nt,jt,"VP8 "),Yt=!t(Nt,jt,"VP8L"),n(Nt!=null),n(qe!=null),n(bt!=null),n(Ot!=null),8>qe[0])Fe=7;else{if(pt||Yt){if(Nt=We(Nt,jt+4),12<=wt&&Nt>wt-12){Fe=3;break e}if(Ye&&Nt>qe[0]-8){Fe=7;break e}bt[0]=Nt,Fe[0]+=8,qe[0]-=8,Ot[0]=Yt}else Ot[0]=5<=qe[0]&&Nt[jt+0]==47&&!(Nt[jt+4]>>5),bt[0]=qe[0];Fe=0}if(P=P[0],Be.Ja=Be.Ja[0],Be.xa=Be.xa[0],_=_[0],Fe!=0)break;if(4294967286<Be.Ja)return 3;if(fe==null||rt||(fe[0]=Be.xa?2:1),ue=[ue],xt=[xt],Be.xa){if(5>P){Fe=7;break}fe=ue,Ye=xt,rt=oe,S==null||5>P?S=0:5<=P&&S[_+0]==47&&!(S[_+4]>>5)?(qe=[0],Nt=[0],wt=[0],ee(bt=new U,S,_,P),Dt(bt,qe,Nt,wt)?(fe!=null&&(fe[0]=qe[0]),Ye!=null&&(Ye[0]=Nt[0]),rt!=null&&(rt[0]=wt[0]),S=1):S=0):S=0}else{if(10>P){Fe=7;break}fe=xt,S==null||10>P||!ta(S,_+3,P-3)?S=0:(Ye=S[_+0]|S[_+1]<<8|S[_+2]<<16,rt=16383&(S[_+7]<<8|S[_+6]),S=16383&(S[_+9]<<8|S[_+8]),1&Ye||3<(Ye>>1&7)||!(Ye>>4&1)||Ye>>5>=Be.Ja||!rt||!S?S=0:(ue&&(ue[0]=rt),fe&&(fe[0]=S),S=1))}if(!S||(ue=ue[0],xt=xt[0],Qe&&(Ae[0]!=ue||Me[0]!=xt)))return 3;be!=null&&(be[0]=Be,be.offset=_-be.w,n(4294967286>_-be.w),n(be.offset==be.ha-P));break}return Fe==0||Fe==7&&Qe&&be==null?(oe!=null&&(oe[0]|=Be.na!=null&&0<Be.na.length),W!=null&&(W[0]=ue),ie!=null&&(ie[0]=xt),0):Fe}function qu(S,_,P){var W=_.width,ie=_.height,oe=0,ue=0,fe=W,be=ie;if(_.Da=S!=null&&0<S.Da,_.Da&&(fe=S.cd,be=S.bd,oe=S.v,ue=S.j,11>P||(oe&=-2,ue&=-2),0>oe||0>ue||0>=fe||0>=be||oe+fe>W||ue+be>ie))return 0;if(_.v=oe,_.j=ue,_.va=oe+fe,_.o=ue+be,_.U=fe,_.T=be,_.da=S!=null&&0<S.da,_.da){if(!he(fe,be,P=[S.ib],oe=[S.hb]))return 0;_.ib=P[0],_.hb=oe[0]}return _.ob=S!=null&&S.ob,_.Kb=S==null||!S.Sd,_.da&&(_.ob=_.ib<3*W/4&&_.hb<3*ie/4,_.Kb=0),1}function rf(S){if(S==null)return 2;if(11>S.S){var _=S.f.RGBA;_.fb+=(S.height-1)*_.A,_.A=-_.A}else _=S.f.kb,S=S.height,_.O+=(S-1)*_.fa,_.fa=-_.fa,_.N+=(S-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(S-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(S-1)*_.lb,_.lb=-_.lb);return 0}function Kc(S,_,P,W){if(W==null||0>=S||0>=_)return 2;if(P!=null){if(P.Da){var ie=P.cd,oe=P.bd,ue=-2&P.v,fe=-2&P.j;if(0>ue||0>fe||0>=ie||0>=oe||ue+ie>S||fe+oe>_)return 2;S=ie,_=oe}if(P.da){if(!he(S,_,ie=[P.ib],oe=[P.hb]))return 2;S=ie[0],_=oe[0]}}W.width=S,W.height=_;e:{var be=W.width,Ae=W.height;if(S=W.S,0>=be||0>=Ae||!(S>=Wa&&13>S))S=2;else{if(0>=W.Rd&&W.sd==null){ue=oe=ie=_=0;var Me=(fe=be*xb[S])*Ae;if(11>S||(oe=(Ae+1)/2*(_=(be+1)/2),S==12&&(ue=(ie=be)*Ae)),(Ae=a(Me+2*oe+ue))==null){S=1;break e}W.sd=Ae,11>S?((be=W.f.RGBA).eb=Ae,be.fb=0,be.A=fe,be.size=Me):((be=W.f.kb).y=Ae,be.O=0,be.fa=fe,be.Fd=Me,be.f=Ae,be.N=0+Me,be.Ab=_,be.Cd=oe,be.ea=Ae,be.W=0+Me+oe,be.Db=_,be.Ed=oe,S==12&&(be.F=Ae,be.J=0+Me+2*oe),be.Tc=ue,be.lb=ie)}if(_=1,ie=W.S,oe=W.width,ue=W.height,ie>=Wa&&13>ie)if(11>ie)S=W.f.RGBA,_&=(fe=Math.abs(S.A))*(ue-1)+oe<=S.size,_&=fe>=oe*xb[ie],_&=S.eb!=null;else{S=W.f.kb,fe=(oe+1)/2,Me=(ue+1)/2,be=Math.abs(S.fa),Ae=Math.abs(S.Ab);var Qe=Math.abs(S.Db),Ye=Math.abs(S.lb),Be=Ye*(ue-1)+oe;_&=be*(ue-1)+oe<=S.Fd,_&=Ae*(Me-1)+fe<=S.Cd,_=(_&=Qe*(Me-1)+fe<=S.Ed)&be>=oe&Ae>=fe&Qe>=fe,_&=S.y!=null,_&=S.f!=null,_&=S.ea!=null,ie==12&&(_&=Ye>=oe,_&=Be<=S.Tc,_&=S.F!=null)}else _=0;S=_?0:2}}return S!=0||P!=null&&P.fd&&(S=rf(W)),S}var ra=64,Bu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Xc=24,Zc=32,af=8,Es=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Le("Predictor0","PredictorAdd0"),M.Predictor0=function(){return 4278190080},M.Predictor1=function(S){return S},M.Predictor2=function(S,_,P){return _[P+0]},M.Predictor3=function(S,_,P){return _[P+1]},M.Predictor4=function(S,_,P){return _[P-1]},M.Predictor5=function(S,_,P){return _e(_e(S,_[P+1]),_[P+0])},M.Predictor6=function(S,_,P){return _e(S,_[P-1])},M.Predictor7=function(S,_,P){return _e(S,_[P+0])},M.Predictor8=function(S,_,P){return _e(_[P-1],_[P+0])},M.Predictor9=function(S,_,P){return _e(_[P+0],_[P+1])},M.Predictor10=function(S,_,P){return _e(_e(S,_[P-1]),_e(_[P+0],_[P+1]))},M.Predictor11=function(S,_,P){var W=_[P+0];return 0>=nt(W>>24&255,S>>24&255,(_=_[P-1])>>24&255)+nt(W>>16&255,S>>16&255,_>>16&255)+nt(W>>8&255,S>>8&255,_>>8&255)+nt(255&W,255&S,255&_)?W:S},M.Predictor12=function(S,_,P){var W=_[P+0];return(Ke((S>>24&255)+(W>>24&255)-((_=_[P-1])>>24&255))<<24|Ke((S>>16&255)+(W>>16&255)-(_>>16&255))<<16|Ke((S>>8&255)+(W>>8&255)-(_>>8&255))<<8|Ke((255&S)+(255&W)-(255&_)))>>>0},M.Predictor13=function(S,_,P){var W=_[P-1];return(ot((S=_e(S,_[P+0]))>>24&255,W>>24&255)<<24|ot(S>>16&255,W>>16&255)<<16|ot(S>>8&255,W>>8&255)<<8|ot(S>>0&255,W>>0&255))>>>0};var wm=M.PredictorAdd0;M.PredictorAdd1=De,Le("Predictor2","PredictorAdd2"),Le("Predictor3","PredictorAdd3"),Le("Predictor4","PredictorAdd4"),Le("Predictor5","PredictorAdd5"),Le("Predictor6","PredictorAdd6"),Le("Predictor7","PredictorAdd7"),Le("Predictor8","PredictorAdd8"),Le("Predictor9","PredictorAdd9"),Le("Predictor10","PredictorAdd10"),Le("Predictor11","PredictorAdd11"),Le("Predictor12","PredictorAdd12"),Le("Predictor13","PredictorAdd13");var vh=M.PredictorAdd2;ct("ColorIndexInverseTransform","MapARGB","32b",function(S){return S>>8&255},function(S){return S}),ct("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(S){return S},function(S){return S>>8&255});var Tp,lo=M.ColorIndexInverseTransform,Aa=M.MapARGB,Uu=M.VP8LColorIndexInverseTransformAlpha,wh=M.MapAlpha,Gl=M.VP8LPredictorsAdd=[];Gl.length=16,(M.VP8LPredictors=[]).length=16,(M.VP8LPredictorsAdd_C=[]).length=16,(M.VP8LPredictors_C=[]).length=16;var $u,os,La,Hu,_s,Do,hl,Lo,gi,Ro,Ui,ks,Jc,pl,sf,Wu,Vu,Yu,ed,of,Gu,Ql,td,bi,Ks,Ln,Rn,zr,ji=a(511),uo=a(2041),Qu=a(225),Ku=a(767),Kl=0,Op=uo,nd=Qu,Ca=Ku,co=ji,Wa=0,lf=1,ml=2,Sh=3,rd=4,Xl=5,Ip=6,Ah=7,Xu=8,Zl=9,uf=10,Dp=[2,3,7],fo=[3,3,11],Xs=[280,256,256,256,40],id=[0,1,1,1,0],Jl=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],eu=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ad=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],pb=8,Ch=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Eh=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ia=null,yi=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],nr=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Zu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],gl=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Sm=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],sd=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],mb=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],tu=[],ls=[],Zs=[],gb=1,cf=2,bl=[],Ea=[];dt("UpsampleRgbLinePair",Bn,3),dt("UpsampleBgrLinePair",ti,3),dt("UpsampleRgbaLinePair",Oo,4),dt("UpsampleBgraLinePair",Sa,4),dt("UpsampleArgbLinePair",ki,4),dt("UpsampleRgba4444LinePair",_i,2),dt("UpsampleRgb565LinePair",ci,2);var nu=M.UpsampleRgbLinePair,Ju=M.UpsampleBgrLinePair,yl=M.UpsampleRgbaLinePair,Lp=M.UpsampleBgraLinePair,Rp=M.UpsampleArgbLinePair,df=M.UpsampleRgba4444LinePair,Mp=M.UpsampleRgb565LinePair,xl=16,aa=1<<xl-1,ec=-227,Fp=482,f2=6,bb=0,h2=a(256),sa=a(256),Am=a(256),_h=a(256),kh=a(Fp-ec),Cm=a(Fp-ec);Io("YuvToRgbRow",Bn,3),Io("YuvToBgrRow",ti,3),Io("YuvToRgbaRow",Oo,4),Io("YuvToBgraRow",Sa,4),Io("YuvToArgbRow",ki,4),Io("YuvToRgba4444Row",_i,2),Io("YuvToRgb565Row",ci,2);var od=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ru=[0,2,8],p2=[8,7,6,4,4,2,2,2,1,1,1,1],yb=1;this.WebPDecodeRGBA=function(S,_,P,W,ie){var oe=lf,ue=new Zd,fe=new Qr;ue.ba=fe,fe.S=oe,fe.width=[fe.width],fe.height=[fe.height];var be=fe.width,Ae=fe.height,Me=new ar;if(Me==null||S==null)var Qe=2;else n(Me!=null),Qe=nf(S,_,P,Me.width,Me.height,Me.Pd,Me.Qd,Me.format,null);if(Qe!=0?be=0:(be!=null&&(be[0]=Me.width[0]),Ae!=null&&(Ae[0]=Me.height[0]),be=1),be){fe.width=fe.width[0],fe.height=fe.height[0],W!=null&&(W[0]=fe.width),ie!=null&&(ie[0]=fe.height);e:{if(W=new io,(ie=new gh).data=S,ie.w=_,ie.ha=P,ie.kd=1,_=[0],n(ie!=null),((S=nf(ie.data,ie.w,ie.ha,null,null,null,_,null,ie))==0||S==7)&&_[0]&&(S=4),(_=S)==0){if(n(ue!=null),W.data=ie.data,W.w=ie.w+ie.offset,W.ha=ie.ha-ie.offset,W.put=li,W.ac=Sr,W.bc=va,W.ma=ue,ie.xa){if((S=Ci())==null){ue=1;break e}if(function(Ye,Be){var xt=[0],rt=[0],Fe=[0];t:for(;;){if(Ye==null)return 0;if(Be==null)return Ye.a=2,0;if(Ye.l=Be,Ye.a=0,ee(Ye.m,Be.data,Be.w,Be.ha),!Dt(Ye.m,xt,rt,Fe)){Ye.a=3;break t}if(Ye.xb=cf,Be.width=xt[0],Be.height=rt[0],!tr(xt[0],rt[0],1,Ye,null))break t;return 1}return n(Ye.a!=0),0}(S,W)){if(W=(_=Kc(W.width,W.height,ue.Oa,ue.ba))==0){t:{W=S;n:for(;;){if(W==null){W=0;break t}if(n(W.s.yc!=null),n(W.s.Ya!=null),n(0<W.s.Wb),n((P=W.l)!=null),n((ie=P.ma)!=null),W.xb!=0){if(W.ca=ie.ba,W.tb=ie.tb,n(W.ca!=null),!qu(ie.Oa,P,Sh)){W.a=2;break n}if(!ro(W,P.width)||P.da)break n;if((P.da||ln(W.ca.S))&&Ve(),11>W.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),W.ca.f.kb.F!=null&&Ve()),W.Pb&&0<W.s.ua&&W.s.vb.X==null&&!V(W.s.vb,W.s.Wa.Xa)){W.a=1;break n}W.xb=0}if(!qi(W,W.V,W.Ba,W.c,W.i,P.o,ys))break n;ie.Dc=W.Ma,W=1;break t}n(W.a!=0),W=0}W=!W}W&&(_=S.a)}else _=S.a}else{if((S=new Gc)==null){ue=1;break e}if(S.Fa=ie.na,S.P=ie.P,S.qc=ie.Sa,ao(S,W)){if((_=Kc(W.width,W.height,ue.Oa,ue.ba))==0){if(S.Aa=0,P=ue.Oa,n((ie=S)!=null),P!=null){if(0<(be=0>(be=P.Md)?0:100<be?255:255*be/100)){for(Ae=Me=0;4>Ae;++Ae)12>(Qe=ie.pb[Ae]).lc&&(Qe.ia=be*p2[0>Qe.lc?0:Qe.lc]>>3),Me|=Qe.ia;Me&&(alert("todo:VP8InitRandom"),ie.ia=1)}ie.Ga=P.Id,100<ie.Ga?ie.Ga=100:0>ie.Ga&&(ie.Ga=0)}Hl(S,W)||(_=S.a)}}else _=S.a}_==0&&ue.Oa!=null&&ue.Oa.fd&&(_=rf(ue.ba))}ue=_}oe=ue!=0?null:11>oe?fe.f.RGBA.eb:fe.f.kb.y}else oe=null;return oe};var xb=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(M,q){for(var Q="",T=0;T<4;T++)Q+=String.fromCharCode(M[q++]);return Q}function h(M,q){return(M[q+0]<<0|M[q+1]<<8|M[q+2]<<16)>>>0}function g(M,q){return(M[q+0]<<0|M[q+1]<<8|M[q+2]<<16|M[q+3]<<24)>>>0}new c;var b=[0],m=[0],x=[],y=new c,A=e,w=function(M,q){var Q={},T=0,O=!1,R=0,N=0;if(Q.frames=[],!function(B,re,Z,ne){for(var ve=0;ve<ne;ve++)if(B[re+ve]!=Z.charCodeAt(ve))return!0;return!1}(M,q,"RIFF",4)){for(g(M,q+=4),q+=8;q<M.length;){var K=d(M,q),H=g(M,q+=4);q+=4;var G=H+(1&H);switch(K){case"VP8 ":case"VP8L":Q.frames[T]===void 0&&(Q.frames[T]={}),(Y=Q.frames[T]).src_off=O?N:q-8,Y.src_size=R+H+8,T++,O&&(O=!1,R=0,N=0);break;case"VP8X":(Y=Q.header={}).feature_flags=M[q];var ee=q+4;Y.canvas_width=1+h(M,ee),ee+=3,Y.canvas_height=1+h(M,ee),ee+=3;break;case"ALPH":O=!0,R=G+8,N=q-8;break;case"ANIM":(Y=Q.header).bgcolor=g(M,q),ee=q+4,Y.loop_count=(te=M)[(U=ee)+0]<<0|te[U+1]<<8,ee+=2;break;case"ANMF":var le,Y;(Y=Q.frames[T]={}).offset_x=2*h(M,q),q+=3,Y.offset_y=2*h(M,q),q+=3,Y.width=1+h(M,q),q+=3,Y.height=1+h(M,q),q+=3,Y.duration=h(M,q),q+=3,le=M[q++],Y.dispose=1&le,Y.blend=le>>1&1}K!="ANMF"&&(q+=G)}var te,U;return Q}}(A,0);w.response=A,w.rgbaoutput=!0,w.dataurl=!1;var C=w.header?w.header:null,j=w.frames?w.frames:null;if(C){C.loop_counter=C.loop_count,b=[C.canvas_height],m=[C.canvas_width];for(var F=0;F<j.length&&j[F].blend!=0;F++);}var z=j[0],L=y.WebPDecodeRGBA(A,z.src_off,z.src_size,m,b);z.rgba=L,z.imgwidth=m[0],z.imgheight=b[0];for(var k=0;k<m[0]*b[0]*4;k++)x[k]=L[k];return this.width=m,this.height=b,this.data=x,this}(function(e){var n=function(){return typeof jS=="function"},t=function(b,m,x,y){var A=4,w=s;switch(y){case e.image_compression.FAST:A=1,w=a;break;case e.image_compression.MEDIUM:A=6,w=l;break;case e.image_compression.SLOW:A=9,w=c}b=r(b,m,x,w);var C=jS(b,{level:A});return e.__addimage__.arrayBufferToBinaryString(C)},r=function(b,m,x,y){for(var A,w,C,j=b.length/m,F=new Uint8Array(b.length+j),z=h(),L=0;L<j;L+=1){if(C=L*m,A=b.subarray(C,C+m),y)F.set(y(A,x,w),C+L);else{for(var k,M=z.length,q=[];k<M;k+=1)q[k]=z[k](A,x,w);var Q=g(q.concat());F.set(q[Q],C+L)}w=A}return F},i=function(b){var m=Array.apply([],b);return m.unshift(0),m},a=function(b,m){var x,y=[],A=b.length;y[0]=1;for(var w=0;w<A;w+=1)x=b[w-m]||0,y[w+1]=b[w]-x+256&255;return y},s=function(b,m,x){var y,A=[],w=b.length;A[0]=2;for(var C=0;C<w;C+=1)y=x&&x[C]||0,A[C+1]=b[C]-y+256&255;return A},l=function(b,m,x){var y,A,w=[],C=b.length;w[0]=3;for(var j=0;j<C;j+=1)y=b[j-m]||0,A=x&&x[j]||0,w[j+1]=b[j]+256-(y+A>>>1)&255;return w},c=function(b,m,x){var y,A,w,C,j=[],F=b.length;j[0]=4;for(var z=0;z<F;z+=1)y=b[z-m]||0,A=x&&x[z]||0,w=x&&x[z-m]||0,C=d(y,A,w),j[z+1]=b[z]-C+256&255;return j},d=function(b,m,x){if(b===m&&m===x)return b;var y=Math.abs(m-x),A=Math.abs(b-x),w=Math.abs(b+m-x-x);return y<=A&&y<=w?b:A<=w?m:x},h=function(){return[i,a,s,l,c]},g=function(b){var m=b.map(function(x){return x.reduce(function(y,A){return y+Math.abs(A)},0)});return m.indexOf(Math.min.apply(null,m))};e.processPNG=function(b,m,x,y){var A,w,C,j,F,z,L,k,M,q,Q,T,O,R,N,K=this.decode.FLATE_DECODE,H="";if(this.__addimage__.isArrayBuffer(b)&&(b=new Uint8Array(b)),this.__addimage__.isArrayBufferView(b)){if(b=(C=new HQ(b)).imgData,w=C.bits,A=C.colorSpace,F=C.colors,[4,6].indexOf(C.colorType)!==-1){if(C.bits===8){M=(k=C.pixelBitlength==32?new Uint32Array(C.decodePixels().buffer):C.pixelBitlength==16?new Uint16Array(C.decodePixels().buffer):new Uint8Array(C.decodePixels().buffer)).length,Q=new Uint8Array(M*C.colors),q=new Uint8Array(M);var G,ee=C.pixelBitlength-C.bits;for(R=0,N=0;R<M;R++){for(O=k[R],G=0;G<ee;)Q[N++]=O>>>G&255,G+=C.bits;q[R]=O>>>G&255}}if(C.bits===16){M=(k=new Uint32Array(C.decodePixels().buffer)).length,Q=new Uint8Array(M*(32/C.pixelBitlength)*C.colors),q=new Uint8Array(M*(32/C.pixelBitlength)),T=C.colors>1,R=0,N=0;for(var le=0;R<M;)O=k[R++],Q[N++]=O>>>0&255,T&&(Q[N++]=O>>>16&255,O=k[R++],Q[N++]=O>>>0&255),q[le++]=O>>>16&255;w=8}y!==e.image_compression.NONE&&n()?(b=t(Q,C.width*C.colors,C.colors,y),L=t(q,C.width,1,y)):(b=Q,L=q,K=void 0)}if(C.colorType===3&&(A=this.color_spaces.INDEXED,z=C.palette,C.transparency.indexed)){var Y=C.transparency.indexed,te=0;for(R=0,M=Y.length;R<M;++R)te+=Y[R];if((te/=255)===M-1&&Y.indexOf(0)!==-1)j=[Y.indexOf(0)];else if(te!==M){for(k=C.decodePixels(),q=new Uint8Array(k.length),R=0,M=k.length;R<M;R++)q[R]=Y[k[R]];L=t(q,C.width,1)}}var U=function(B){var re;switch(B){case e.image_compression.FAST:re=11;break;case e.image_compression.MEDIUM:re=13;break;case e.image_compression.SLOW:re=14;break;default:re=12}return re}(y);return K===this.decode.FLATE_DECODE&&(H="/Predictor "+U+" "),H+="/Colors "+F+" /BitsPerComponent "+w+" /Columns "+C.width,(this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),(L&&this.__addimage__.isArrayBuffer(L)||this.__addimage__.isArrayBufferView(L))&&(L=this.__addimage__.arrayBufferToBinaryString(L)),{alias:x,data:b,index:m,filter:K,decodeParameters:H,transparency:j,palette:z,sMask:L,predictor:U,width:C.width,height:C.height,bitsPerComponent:w,colorSpace:A}}}})(on.API),function(e){e.processGIF89A=function(n,t,r,i){var a=new WQ(n),s=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:s,height:l},h=new sw(100).encode(d,100);return e.processJPEG.call(this,h,t,r,i)},e.processGIF87A=e.processGIF89A}(on.API),fu.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var n=0;n<e;n++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[n]={red:i,green:r,blue:t,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},fu.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,n=this.width*this.height*4;this.data=new Uint8Array(n),this[e]()}catch(t){Zr.log("bit decode error:"+t)}},fu.prototype.bit1=function(){var e,n=Math.ceil(this.width/8),t=n%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<n;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[s+4*l]=c.blue,this.data[s+4*l+1]=c.green,this.data[s+4*l+2]=c.red,this.data[s+4*l+3]=255}t!==0&&(this.pos+=4-t)}},fu.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),n=e%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,l=a>>4,c=15&a,d=this.palette[l];if(this.data[s]=d.blue,this.data[s+1]=d.green,this.data[s+2]=d.red,this.data[s+3]=255,2*i+1>=this.width)break;d=this.palette[c],this.data[s+4]=d.blue,this.data[s+4+1]=d.green,this.data[s+4+2]=d.red,this.data[s+4+3]=255}n!==0&&(this.pos+=4-n)}},fu.prototype.bit8=function(){for(var e=this.width%4,n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},fu.prototype.bit15=function(){for(var e=this.width%3,n=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&n)/n*255|0,l=(a>>5&n)/n*255|0,c=(a>>10&n)/n*255|0,d=a>>15?255:0,h=r*this.width*4+4*i;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=s,this.data[h+3]=d}this.pos+=e}},fu.prototype.bit16=function(){for(var e=this.width%3,n=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&n)/n*255|0,c=(s>>5&t)/t*255|0,d=(s>>11)/n*255|0,h=i*this.width*4+4*a;this.data[h]=d,this.data[h+1]=c,this.data[h+2]=l,this.data[h+3]=255}this.pos+=e}},fu.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*t;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},fu.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var n=this.bottom_up?e:this.height-1-e,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+4*t;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=s}},fu.prototype.getData=function(){return this.data},function(e){e.processBMP=function(n,t,r,i){var a=new fu(n,!1),s=a.width,l=a.height,c={data:a.getData(),width:s,height:l},d=new sw(100).encode(c,100);return e.processJPEG.call(this,d,t,r,i)}}(on.API),Vk.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(n,t,r,i){var a=new Vk(n),s=a.width,l=a.height,c={data:a.getData(),width:s,height:l},d=new sw(100).encode(c,100);return e.processJPEG.call(this,d,t,r,i)}}(on.API),on.API.processRGBA=function(e,n,t){for(var r=e.data,i=r.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),l=0,c=0,d=0;d<i;d+=4){var h=r[d],g=r[d+1],b=r[d+2],m=r[d+3];a[l++]=h,a[l++]=g,a[l++]=b,s[c++]=m}var x=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:x,index:n,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},on.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},u0=on.API,Ly=u0.getCharWidthsArray=function(e,n){var t,r,i=(n=n||{}).font||this.internal.getFont(),a=n.fontSize||this.internal.getFontSize(),s=n.charSpace||this.internal.getCharSpace(),l=n.widths?n.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,d=n.kerning?n.kerning:i.metadata.Unicode.kerning,h=d.fof?d.fof:1,g=n.doKerning!==!1,b=0,m=e.length,x=0,y=l[0]||c,A=[];for(t=0;t<m;t++)r=e.charCodeAt(t),typeof i.metadata.widthOfString=="function"?A.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/a)||0)/1e3):(b=g&&Jr(d[r])==="object"&&!isNaN(parseInt(d[r][x],10))?d[r][x]/h:0,A.push((l[r]||y)/c+b)),x=r;return A},Uk=u0.getStringUnitWidth=function(e,n){var t=(n=n||{}).fontSize||this.internal.getFontSize(),r=n.font||this.internal.getFont(),i=n.charSpace||this.internal.getCharSpace();return u0.processArabic&&(e=u0.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,t,i)/t:Ly.apply(this,arguments).reduce(function(a,s){return a+s},0)},$k=function(e,n,t,r){for(var i=[],a=0,s=e.length,l=0;a!==s&&l+n[a]<t;)l+=n[a],a++;i.push(e.slice(0,a));var c=a;for(l=0;a!==s;)l+n[a]>r&&(i.push(e.slice(c,a)),l=0,c=a),l+=n[a],a++;return c!==a&&i.push(e.slice(c,a)),i},Hk=function(e,n,t){t||(t={});var r,i,a,s,l,c,d,h=[],g=[h],b=t.textIndent||0,m=0,x=0,y=e.split(" "),A=Ly.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?y[0].length+2:t.lineIndent||0){var w=Array(c).join(" "),C=[];y.map(function(F){(F=F.split(/\s*\n/)).length>1?C=C.concat(F.map(function(z,L){return(L&&z.length?`
`:"")+z})):C.push(F[0])}),y=C,c=Uk.apply(this,[w,t])}for(a=0,s=y.length;a<s;a++){var j=0;if(r=y[a],c&&r[0]==`
`&&(r=r.substr(1),j=1),b+m+(x=(i=Ly.apply(this,[r,t])).reduce(function(F,z){return F+z},0))>n||j){if(x>n){for(l=$k.apply(this,[r,i,n-(b+m),n]),h.push(l.shift()),h=[l.pop()];l.length;)g.push([l.shift()]);x=i.slice(r.length-(h[0]?h[0].length:0)).reduce(function(F,z){return F+z},0)}else h=[r];g.push(h),b=x+c,m=A}else h.push(r),b+=m+x,m=A}return d=c?function(F,z){return(z?w:"")+F.join(" ")}:function(F){return F.join(" ")},g.map(d)},u0.splitTextToSize=function(e,n,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),a=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var g=this.internal.getFont(h.fontName,h.fontStyle);return g.metadata.Unicode?{widths:g.metadata.Unicode.widths||{0:1},kerning:g.metadata.Unicode.kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*n/i;a.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=t.lineIndent;var l,c,d=[];for(l=0,c=r.length;l<c;l++)d=d.concat(Hk.apply(this,[r[l],s,a]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var n="klmnopqrstuvwxyz",t={},r={},i=0;i<n.length;i++)t[n[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=n[i];var a=function(g){return"0x"+parseInt(g,10).toString(16)},s=e.__fontmetrics__.compress=function(g){var b,m,x,y,A=["{"];for(var w in g){if(b=g[w],isNaN(parseInt(w,10))?m="'"+w+"'":(w=parseInt(w,10),m=(m=a(w).slice(2)).slice(0,-1)+r[m.slice(-1)]),typeof b=="number")b<0?(x=a(b).slice(3),y="-"):(x=a(b).slice(2),y=""),x=y+x.slice(0,-1)+r[x.slice(-1)];else{if(Jr(b)!=="object")throw new Error("Don't know what to do with value type "+Jr(b)+".");x=s(b)}A.push(m+x)}return A.push("}"),A.join("")},l=e.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,m,x,y,A={},w=1,C=A,j=[],F="",z="",L=g.length-1,k=1;k<L;k+=1)(y=g[k])=="'"?b?(x=b.join(""),b=void 0):b=[]:b?b.push(y):y=="{"?(j.push([C,x]),C={},x=void 0):y=="}"?((m=j.pop())[0][m[1]]=C,x=void 0,C=m[0]):y=="-"?w=-1:x===void 0?t.hasOwnProperty(y)?(F+=t[y],x=parseInt(F,16)*w,w=1,F=""):F+=y:t.hasOwnProperty(y)?(z+=t[y],C[x]=parseInt(z,16)*w,w=1,x=void 0,z=""):z+=y;return A},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(g){var b=g.font,m=h.Unicode[b.postScriptName];m&&(b.metadata.Unicode={},b.metadata.Unicode.widths=m.widths,b.metadata.Unicode.kerning=m.kerning);var x=d.Unicode[b.postScriptName];x&&(b.metadata.Unicode.encoding=x,b.encoding=x.codePages[0])}])}(on.API),function(e){var n=function(t){for(var r=t.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=t.charCodeAt(a);return i};e.API.events.push(["addFont",function(t){var r=void 0,i=t.font,a=t.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,l){l=/^\x00\x01\x00\x00/.test(l)?n(l):n(Z1(l)),s.metadata=e.API.TTFFont.open(l),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])}(on),function(e){function n(){return(dn.canvg?Promise.resolve(dn.canvg):Li(()=>import("./index.es-P0kud4Ks.js"),__vite__mapDeps([6,4,1]))).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}on.API.addSvgAsImage=function(t,r,i,a,s,l,c,d){if(isNaN(r)||isNaN(i))throw Zr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw Zr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=a,h.height=s;var g=h.getContext("2d");g.fillStyle="#fff",g.fillRect(0,0,h.width,h.height);var b={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return n().then(function(x){return x.fromString(g,t,b)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(b)}).then(function(){m.addImage(h.toDataURL("image/jpeg",1),r,i,a,s,c,d)})}}(),on.API.putTotalPages=function(e){var n,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(n=new RegExp(e,"g"),t=this.internal.getNumberOfPages()):(n=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(n,t);return this},on.API.viewerPreferences=function(e,n){var t;e=e||{},n=n||!1;var r,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),c=[],d=0,h=0,g=0;function b(x,y){var A,w=!1;for(A=0;A<x.length;A+=1)x[A]===y&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,e==="reset"||n===!0){var m=l.length;for(g=0;g<m;g+=1)t[l[g]].value=t[l[g]].defaultValue,t[l[g]].explicitSet=!1}if(Jr(e)==="object"){for(i in e)if(a=e[i],b(l,i)&&a!==void 0){if(t[i].type==="boolean"&&typeof a=="boolean")t[i].value=a;else if(t[i].type==="name"&&b(t[i].valueSet,a))t[i].value=a;else if(t[i].type==="integer"&&Number.isInteger(a))t[i].value=a;else if(t[i].type==="array"){for(d=0;d<a.length;d+=1)if(r=!0,a[d].length===1&&typeof a[d][0]=="number")c.push(String(a[d]-1));else if(a[d].length>1){for(h=0;h<a[d].length;h+=1)typeof a[d][h]!="number"&&(r=!1);r===!0&&c.push([a[d][0]-1,a[d][1]-1].join(" "))}t[i].value="["+c.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,y=[];for(x in t)t[x].explicitSet===!0&&(t[x].type==="name"?y.push("/"+x+" /"+t[x].value):y.push("/"+x+" "+t[x].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(e){var n=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=a.length+s.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+l+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",n)),this}}(on.API),function(e){var n=e.API,t=n.pdfEscape16=function(a,s){for(var l,c=s.metadata.Unicode.widths,d=["","0","00","000","0000"],h=[""],g=0,b=a.length;g<b;++g){if(l=s.metadata.characterToGlyph(a.charCodeAt(g)),s.metadata.glyIdsUsed.push(l),s.metadata.toUnicode[l]=a.charCodeAt(g),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(s.metadata.widthOfGlyph(l),10)])),l=="0")return h.join("");l=l.toString(16),h.push(d[4-l.length],l)}return h.join("")},r=function(a){var s,l,c,d,h,g,b;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],g=0,b=(l=Object.keys(a).sort(function(m,x){return m-x})).length;g<b;g++)s=l[g],c.length>=100&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(d=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+d+">"));return c.length&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};n.events.push(["putFont",function(a){(function(s){var l=s.font,c=s.out,d=s.newObject,h=s.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var g=l.metadata.Unicode.widths,b=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),m="",x=0;x<b.length;x++)m+=String.fromCharCode(b[x]);var y=d();h({data:m,addLength1:!0,objectId:y}),c("endobj");var A=d();h({data:r(l.metadata.toUnicode),addLength1:!0,objectId:A}),c("endobj");var w=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+T0(l.fontName)),c("/FontFile2 "+y+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var C=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+T0(l.fontName)),c("/FontDescriptor "+w+" 0 R"),c("/W "+e.API.PDFObject.convert(g)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+A+" 0 R"),c("/BaseFont /"+T0(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+C+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),n.events.push(["putFont",function(a){(function(s){var l=s.font,c=s.out,d=s.newObject,h=s.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var g=l.metadata.rawData,b="",m=0;m<g.length;m++)b+=String.fromCharCode(g[m]);var x=d();h({data:b,addLength1:!0,objectId:x}),c("endobj");var y=d();h({data:r(l.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var A=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+x+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+T0(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var w=0;w<l.metadata.hmtx.widths.length;w++)l.metadata.hmtx.widths[w]=parseInt(l.metadata.hmtx.widths[w]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+T0(l.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,l=a.text||"",c=a.x,d=a.y,h=a.options||{},g=a.mutex||{},b=g.pdfEscape,m=g.activeFontKey,x=g.fonts,y=m,A="",w=0,C="",j=x[y].encoding;if(x[y].encoding!=="Identity-H")return{text:l,x:c,y:d,options:h,mutex:g};for(C=l,y=m,Array.isArray(l)&&(C=l[0]),w=0;w<C.length;w+=1)x[y].metadata.hasOwnProperty("cmap")&&(s=x[y].metadata.cmap.unicode.codeMap[C[w].charCodeAt(0)]),s||C[w].charCodeAt(0)<256&&x[y].metadata.hasOwnProperty("Unicode")?A+=C[w]:A+="";var F="";return parseInt(y.slice(1))<14||j==="WinAnsiEncoding"?F=b(A,y).split("").map(function(z){return z.charCodeAt(0).toString(16)}).join(""):j==="Identity-H"&&(F=t(A,x[y])),g.isHex=!0,{text:F,x:c,y:d,options:h,mutex:g}};n.events.push(["postProcessText",function(a){var s=a.text||"",l=[],c={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var d=0;for(d=0;d<s.length;d+=1)Array.isArray(s[d])&&s[d].length===3?l.push([i(Object.assign({},c,{text:s[d][0]})).text,s[d][1],s[d][2]]):l.push(i(Object.assign({},c,{text:s[d]})).text);a.text=l}else a.text=i(Object.assign({},c,{text:s})).text}])}(on),function(e){var n=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(t){return n.call(this),this.internal.vFS[t]!==void 0},e.addFileToVFS=function(t,r){return n.call(this),this.internal.vFS[t]=r,this},e.getFileFromVFS=function(t){return n.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(on.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,a,s,l,c,d,h,g=n,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),C=!1,j=0;this.__bidiEngine__={};var F=function(T){var O=T.charCodeAt(),R=O>>8,N=y[R];return N!==void 0?g[256*N+(255&O)]:R===252||R===253?"AL":w.test(R)?"L":R===8?"R":"N"},z=function(T){for(var O,R=0;R<T.length;R++){if((O=F(T.charAt(R)))==="L")return!1;if(O==="R")return!0}return!1},L=function(T,O,R,N){var K,H,G,ee,le=O[N];switch(le){case"L":case"R":C=!1;break;case"N":case"AN":break;case"EN":C&&(le="AN");break;case"AL":C=!0,le="R";break;case"WS":le="N";break;case"CS":N<1||N+1>=O.length||(K=R[N-1])!=="EN"&&K!=="AN"||(H=O[N+1])!=="EN"&&H!=="AN"?le="N":C&&(H="AN"),le=H===K?H:"N";break;case"ES":le=(K=N>0?R[N-1]:"B")==="EN"&&N+1<O.length&&O[N+1]==="EN"?"EN":"N";break;case"ET":if(N>0&&R[N-1]==="EN"){le="EN";break}if(C){le="N";break}for(G=N+1,ee=O.length;G<ee&&O[G]==="ET";)G++;le=G<ee&&O[G]==="EN"?"EN":"N";break;case"NSM":if(s&&!l){for(ee=O.length,G=N+1;G<ee&&O[G]==="NSM";)G++;if(G<ee){var Y=T[N],te=Y>=1425&&Y<=2303||Y===64286;if(K=O[G],te&&(K==="R"||K==="AL")){le="R";break}}}le=N<1||(K=O[N-1])==="B"?"N":R[N-1];break;case"B":C=!1,i=!0,le=j;break;case"S":a=!0,le="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":C=!1;break;case"BN":le="N"}return le},k=function(T,O,R){var N=T.split("");return R&&M(N,R,{hiLevel:j}),N.reverse(),O&&O.reverse(),N.join("")},M=function(T,O,R){var N,K,H,G,ee,le=-1,Y=T.length,te=0,U=[],B=j?m:b,re=[];for(C=!1,i=!1,a=!1,K=0;K<Y;K++)re[K]=F(T[K]);for(H=0;H<Y;H++){if(ee=te,U[H]=L(T,re,U,H),N=240&(te=B[ee][x[U[H]]]),te&=15,O[H]=G=B[te][5],N>0)if(N===16){for(K=le;K<H;K++)O[K]=1;le=-1}else le=-1;if(B[te][6])le===-1&&(le=H);else if(le>-1){for(K=le;K<H;K++)O[K]=G;le=-1}re[H]==="B"&&(O[H]=0),R.hiLevel|=G}a&&function(Z,ne,ve){for(var ye=0;ye<ve;ye++)if(Z[ye]==="S"){ne[ye]=j;for(var Ce=ye-1;Ce>=0&&Z[Ce]==="WS";Ce--)ne[Ce]=j}}(re,O,Y)},q=function(T,O,R,N,K){if(!(K.hiLevel<T)){if(T===1&&j===1&&!i)return O.reverse(),void(R&&R.reverse());for(var H,G,ee,le,Y=O.length,te=0;te<Y;){if(N[te]>=T){for(ee=te+1;ee<Y&&N[ee]>=T;)ee++;for(le=te,G=ee-1;le<G;le++,G--)H=O[le],O[le]=O[G],O[G]=H,R&&(H=R[le],R[le]=R[G],R[G]=H);te=ee}te++}}},Q=function(T,O,R){var N=T.split(""),K={hiLevel:j};return R||(R=[]),M(N,R,K),function(H,G,ee){if(ee.hiLevel!==0&&h)for(var le,Y=0;Y<H.length;Y++)G[Y]===1&&(le=A.indexOf(H[Y]))>=0&&(H[Y]=A[le+1])}(N,R,K),q(2,N,O,R,K),q(1,N,O,R,K),N.join("")};return this.__bidiEngine__.doBidiReorder=function(T,O,R){if(function(K,H){if(H)for(var G=0;G<K.length;G++)H[G]=G;l===void 0&&(l=z(K)),d===void 0&&(d=z(K))}(T,O),s||!c||d)if(s&&c&&l^d)j=l?1:0,T=k(T,O,R);else if(!s&&c&&d)j=l?1:0,T=Q(T,O,R),T=k(T,O);else if(!s||l||c||d){if(s&&!c&&l^d)T=k(T,O),l?(j=0,T=Q(T,O,R)):(j=1,T=Q(T,O,R),T=k(T,O));else if(s&&l&&!c&&d)j=1,T=Q(T,O,R),T=k(T,O);else if(!s&&!c&&l^d){var N=h;l?(j=1,T=Q(T,O,R),j=0,h=!1,T=Q(T,O,R),h=N):(j=0,T=Q(T,O,R),T=k(T,O),j=1,h=!1,T=Q(T,O,R),h=N,T=k(T,O))}}else j=0,T=Q(T,O,R);else j=l?1:0,T=Q(T,O,R);return T},this.__bidiEngine__.setOptions=function(T){T&&(s=T.isInputVisual,c=T.isOutputVisual,l=T.isInputRtl,d=T.isOutputRtl,h=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var n=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,t.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(s=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?s.push([t.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):s.push([t.doBidiReorder(i[l])]);r.text=s}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(on),on.API.TTFFont=function(){function e(n){var t;if(this.rawData=n,t=this.contents=new sh(n),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new sK(this),this.registerTTF()}return e.open=function(n){return new e(n)},e.prototype.parse=function(){return this.directory=new VQ(this.contents),this.head=new GQ(this),this.name=new JQ(this),this.cmap=new XO(this),this.toUnicode={},this.hhea=new QQ(this),this.maxp=new eK(this),this.hmtx=new tK(this),this.post=new XQ(this),this.os2=new KQ(this),this.loca=new aK(this),this.glyf=new nK(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var n,t,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,l,c,d;for(d=[],s=0,l=(c=this.bbox).length;s<l;s++)n=c[s],d.push(Math.round(n*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(t=i>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(n){var t;return((t=this.cmap.unicode)!=null?t.codeMap[n]:void 0)||0},e.prototype.widthOfGlyph=function(n){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(n).advance*t},e.prototype.widthOfString=function(n,t,r){var i,a,s,l;for(s=0,a=0,l=(n=""+n).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=n.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return s*(t/1e3)},e.prototype.lineHeight=function(n,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*n},e}();var Du,sh=function(){function e(n){this.data=n??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(n){return this.data[this.pos++]=n},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(n){return this.writeByte(n>>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt32=function(){var n;return(n=this.readUInt32())>=2147483648?n-4294967296:n},e.prototype.writeInt32=function(n){return n<0&&(n+=4294967296),this.writeUInt32(n)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(n){return this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt16=function(){var n;return(n=this.readUInt16())>=32768?n-65536:n},e.prototype.writeInt16=function(n){return n<0&&(n+=65536),this.writeUInt16(n)},e.prototype.readString=function(n){var t,r;for(r=[],t=0;0<=n?t<n:t>n;t=0<=n?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(n){var t,r,i;for(i=[],t=0,r=n.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(n.charCodeAt(t)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(n){return this.writeInt16(n)},e.prototype.readLongLong=function(){var n,t,r,i,a,s,l,c;return n=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),l=this.readByte(),c=this.readByte(),128&n?-1*(72057594037927940*(255^n)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^l)+(255^c)+1):72057594037927940*n+281474976710656*t+1099511627776*r+4294967296*i+16777216*a+65536*s+256*l+c},e.prototype.writeLongLong=function(n){var t,r;return t=Math.floor(n/4294967296),r=4294967295&n,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(n){return this.writeInt32(n)},e.prototype.read=function(n){var t,r;for(t=[],r=0;0<=n?r<n:r>n;r=0<=n?++r:--r)t.push(this.readByte());return t},e.prototype.write=function(n){var t,r,i,a;for(a=[],r=0,i=n.length;r<i;r++)t=n[r],a.push(this.writeByte(t));return a},e}(),VQ=function(){var e;function n(t){var r,i,a;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return n.prototype.encode=function(t){var r,i,a,s,l,c,d,h,g,b,m,x,y;for(y in m=Object.keys(t).length,c=Math.log(2),g=16*Math.floor(Math.log(m)/c),s=Math.floor(g/c),h=16*m-g,(i=new sh).writeInt(this.scalarType),i.writeShort(m),i.writeShort(g),i.writeShort(s),i.writeShort(h),a=16*m,d=i.pos+a,l=null,x=[],t)for(b=t[y],i.writeString(y),i.writeInt(e(b)),i.writeInt(d),i.writeInt(b.length),x=x.concat(b),y==="head"&&(l=d),d+=b.length;d%4;)x.push(0),d++;return i.write(x),r=2981146554-e(i.data),i.pos=l+8,i.writeUInt32(r),i.data},e=function(t){var r,i,a,s;for(t=ZO.call(t);t.length%4;)t.push(0);for(a=new sh(t),i=0,r=0,s=t.length;r<s;r=r+=4)i+=a.readUInt32();return 4294967295&i},n}(),YQ={}.hasOwnProperty,Vc=function(e,n){for(var t in n)YQ.call(n,t)&&(e[t]=n[t]);function r(){this.constructor=e}return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};Du=function(){function e(n){var t;this.file=n,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var GQ=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Vc(n,Du),n.prototype.tag="head",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},n.prototype.encode=function(t){var r;return(r=new sh).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},n}(),Yk=function(){function e(n,t){var r,i,a,s,l,c,d,h,g,b,m,x,y,A,w,C,j;switch(this.platformID=n.readUInt16(),this.encodingID=n.readShort(),this.offset=t+n.readInt(),g=n.pos,n.pos=this.offset,this.format=n.readUInt16(),this.length=n.readUInt16(),this.language=n.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=n.readByte();break;case 4:for(m=n.readUInt16(),b=m/2,n.pos+=6,a=function(){var F,z;for(z=[],c=F=0;0<=b?F<b:F>b;c=0<=b?++F:--F)z.push(n.readUInt16());return z}(),n.pos+=2,y=function(){var F,z;for(z=[],c=F=0;0<=b?F<b:F>b;c=0<=b?++F:--F)z.push(n.readUInt16());return z}(),d=function(){var F,z;for(z=[],c=F=0;0<=b?F<b:F>b;c=0<=b?++F:--F)z.push(n.readUInt16());return z}(),h=function(){var F,z;for(z=[],c=F=0;0<=b?F<b:F>b;c=0<=b?++F:--F)z.push(n.readUInt16());return z}(),i=(this.length-n.pos+this.offset)/2,l=function(){var F,z;for(z=[],c=F=0;0<=i?F<i:F>i;c=0<=i?++F:--F)z.push(n.readUInt16());return z}(),c=w=0,j=a.length;w<j;c=++w)for(A=a[c],r=C=x=y[c];x<=A?C<=A:C>=A;r=x<=A?++C:--C)h[c]===0?s=r+d[c]:(s=l[h[c]/2+(r-x)-(b-c)]||0)!==0&&(s+=d[c]),this.codeMap[r]=65535&s}n.pos=g}return e.encode=function(n,t){var r,i,a,s,l,c,d,h,g,b,m,x,y,A,w,C,j,F,z,L,k,M,q,Q,T,O,R,N,K,H,G,ee,le,Y,te,U,B,re,Z,ne,ve,ye,Ce,Oe,Ie,$e;switch(N=new sh,s=Object.keys(n).sort(function(We,V){return We-V}),t){case"macroman":for(y=0,A=function(){var We=[];for(x=0;x<256;++x)We.push(0);return We}(),C={0:0},a={},K=0,le=s.length;K<le;K++)C[Ce=n[i=s[K]]]==null&&(C[Ce]=++y),a[i]={old:n[i],new:C[n[i]]},A[i]=C[n[i]];return N.writeUInt16(1),N.writeUInt16(0),N.writeUInt32(12),N.writeUInt16(0),N.writeUInt16(262),N.writeUInt16(0),N.write(A),{charMap:a,subtable:N.data,maxGlyphID:y+1};case"unicode":for(O=[],g=[],j=0,C={},r={},w=d=null,H=0,Y=s.length;H<Y;H++)C[z=n[i=s[H]]]==null&&(C[z]=++j),r[i]={old:z,new:C[z]},l=C[z]-i,w!=null&&l===d||(w&&g.push(w),O.push(i),d=l),w=i;for(w&&g.push(w),g.push(65535),O.push(65535),Q=2*(q=O.length),M=2*Math.pow(Math.log(q)/Math.LN2,2),b=Math.log(M/2)/Math.LN2,k=2*q-M,c=[],L=[],m=[],x=G=0,te=O.length;G<te;x=++G){if(T=O[x],h=g[x],T===65535){c.push(0),L.push(0);break}if(T-(R=r[T].new)>=32768)for(c.push(0),L.push(2*(m.length+q-x)),i=ee=T;T<=h?ee<=h:ee>=h;i=T<=h?++ee:--ee)m.push(r[i].new);else c.push(R-T),L.push(0)}for(N.writeUInt16(3),N.writeUInt16(1),N.writeUInt32(12),N.writeUInt16(4),N.writeUInt16(16+8*q+2*m.length),N.writeUInt16(0),N.writeUInt16(Q),N.writeUInt16(M),N.writeUInt16(b),N.writeUInt16(k),ve=0,U=g.length;ve<U;ve++)i=g[ve],N.writeUInt16(i);for(N.writeUInt16(0),ye=0,B=O.length;ye<B;ye++)i=O[ye],N.writeUInt16(i);for(Oe=0,re=c.length;Oe<re;Oe++)l=c[Oe],N.writeUInt16(l);for(Ie=0,Z=L.length;Ie<Z;Ie++)F=L[Ie],N.writeUInt16(F);for($e=0,ne=m.length;$e<ne;$e++)y=m[$e],N.writeUInt16(y);return{charMap:r,subtable:N.data,maxGlyphID:j+1}}},e}(),XO=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Vc(n,Du),n.prototype.tag="cmap",n.prototype.parse=function(t){var r,i,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)r=new Yk(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},n.encode=function(t,r){var i,a;return r==null&&(r="macroman"),i=Yk.encode(t,r),(a=new sh).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},n}(),QQ=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Vc(n,Du),n.prototype.tag="hhea",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},n}(),KQ=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Vc(n,Du),n.prototype.tag="OS/2",n.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},n}(),XQ=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Vc(n,Du),n.prototype.tag="post",n.prototype.parse=function(t){var r,i,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var s;for(i=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var l,c,d;for(d=[],s=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;s=0<=c?++l:--l)d.push(t.readUInt32());return d}).call(this)}},n}(),ZQ=function(e,n){this.raw=e,this.length=e.length,this.platformID=n.platformID,this.encodingID=n.encodingID,this.languageID=n.languageID},JQ=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Vc(n,Du),n.prototype.tag="name",n.prototype.parse=function(t){var r,i,a,s,l,c,d,h,g,b,m;for(t.pos=this.offset,t.readShort(),r=t.readShort(),c=t.readShort(),i=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+c+t.readShort()});for(d={},s=g=0,b=i.length;g<b;s=++g)a=i[s],t.pos=a.offset,h=t.readString(a.length),l=new ZQ(h,a),d[m=a.nameID]==null&&(d[m]=[]),d[a.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},n}(),eK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Vc(n,Du),n.prototype.tag="maxp",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},n}(),tK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Vc(n,Du),n.prototype.tag="hmtx",n.prototype.parse=function(t){var r,i,a,s,l,c,d;for(t.pos=this.offset,this.metrics=[],r=0,c=this.file.hhea.numberOfMetrics;0<=c?r<c:r>c;r=0<=c?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,g;for(g=[],r=h=0;0<=a?h<a:h>a;r=0<=a?++h:--h)g.push(t.readInt16());return g}(),this.widths=(function(){var h,g,b,m;for(m=[],h=0,g=(b=this.metrics).length;h<g;h++)s=b[h],m.push(s.advance);return m}).call(this),i=this.widths[this.widths.length-1],d=[],r=l=0;0<=a?l<a:l>a;r=0<=a?++l:--l)d.push(this.widths.push(i));return d},n.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},n}(),ZO=[].slice,nK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Vc(n,Du),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(t){var r,i,a,s,l,c,d,h,g,b;return t in this.cache?this.cache[t]:(s=this.file.loca,r=this.file.contents,i=s.indexOf(t),(a=s.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+i,l=(c=new sh(r.read(a))).readShort(),h=c.readShort(),b=c.readShort(),d=c.readShort(),g=c.readShort(),this.cache[t]=l===-1?new iK(c,h,b,d,g):new rK(c,l,h,b,d,g),this.cache[t]))},n.prototype.encode=function(t,r,i){var a,s,l,c,d;for(l=[],s=[],c=0,d=r.length;c<d;c++)a=t[r[c]],s.push(l.length),a&&(l=l.concat(a.encode(i)));return s.push(l.length),{table:l,offsets:s}},n}(),rK=function(){function e(n,t,r,i,a,s){this.raw=n,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),iK=function(){function e(n,t,r,i,a){var s,l;for(this.raw=n,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;l=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&l;)s.pos+=1&l?4:2,128&l?s.pos+=8:64&l?s.pos+=4:8&l&&(s.pos+=2)}return e.prototype.encode=function(){var n,t,r;for(t=new sh(ZO.call(this.raw.data)),n=0,r=this.glyphIDs.length;n<r;++n)t.pos=this.glyphOffsets[n];return t.data},e}(),aK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Vc(n,Du),n.prototype.tag="loca",n.prototype.parse=function(t){var r,i;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=4)s.push(t.readUInt32());return s}).call(this)},n.prototype.indexOf=function(t){return this.offsets[t]},n.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},n.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),a=0,s=0,l=0;l<i.length;++l)if(i[l]=a,s<r.length&&r[s]==l){++s,i[l]=a;var c=this.offsets[l],d=this.offsets[l+1]-c;d>0&&(a+=d)}for(var h=new Array(4*i.length),g=0;g<i.length;++g)h[4*g+3]=255&i[g],h[4*g+2]=(65280&i[g])>>8,h[4*g+1]=(16711680&i[g])>>16,h[4*g]=(4278190080&i[g])>>24;return h},n}(),sK=function(){function e(n){this.font=n,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var n,t,r,i,a;for(t in i=this.font.cmap.tables[0].codeMap,n={},a=this.subset)r=a[t],n[t]=i[r];return n},e.prototype.glyphsFor=function(n){var t,r,i,a,s,l,c;for(i={},s=0,l=n.length;s<l;s++)i[a=n[s]]=this.font.glyf.glyphFor(a);for(a in t=[],i)(r=i[a])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(a in c=this.glyphsFor(t))r=c[a],i[a]=r;return i},e.prototype.encode=function(n,t){var r,i,a,s,l,c,d,h,g,b,m,x,y,A,w;for(i in r=XO.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(n),m={0:0},w=r.charMap)m[(c=w[i]).old]=c.new;for(x in b=r.maxGlyphID,s)x in m||(m[x]=b++);return h=function(C){var j,F;for(j in F={},C)F[C[j]]=j;return F}(m),g=Object.keys(h).sort(function(C,j){return C-j}),y=function(){var C,j,F;for(F=[],C=0,j=g.length;C<j;C++)l=g[C],F.push(h[l]);return F}(),a=this.font.glyf.encode(s,y,m),d=this.font.loca.encode(a.offsets,y),A={cmap:this.font.cmap.raw(),glyf:a.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},e}();on.API.PDFObject=function(){var e;function n(){}return e=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},n.convert=function(t){var r,i,a,s;if(Array.isArray(t))return"["+function(){var l,c,d;for(d=[],l=0,c=t.length;l<c;l++)r=t[l],d.push(n.convert(r));return d}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+e(t.getUTCFullYear(),4)+e(t.getUTCMonth(),2)+e(t.getUTCDate(),2)+e(t.getUTCHours(),2)+e(t.getUTCMinutes(),2)+e(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in a=["<<"],t)s=t[i],a.push("/"+i+" "+n.convert(s));return a.push(">>"),a.join(`
`)}return""+t},n}();const oK=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),lK=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var ow;const uK=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Gk=(ow=String.fromCodePoint)!==null&&ow!==void 0?ow:function(e){let n="";return e>65535&&(e-=65536,n+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),n+=String.fromCharCode(e),n};function cK(e){var n;return e>=55296&&e<=57343||e>1114111?65533:(n=uK.get(e))!==null&&n!==void 0?n:e}var es;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(es||(es={}));const dK=32;var Yf;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Yf||(Yf={}));function RS(e){return e>=es.ZERO&&e<=es.NINE}function fK(e){return e>=es.UPPER_A&&e<=es.UPPER_F||e>=es.LOWER_A&&e<=es.LOWER_F}function hK(e){return e>=es.UPPER_A&&e<=es.UPPER_Z||e>=es.LOWER_A&&e<=es.LOWER_Z||RS(e)}function pK(e){return e===es.EQUALS||hK(e)}var Qa;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Qa||(Qa={}));var wc;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(wc||(wc={}));class mK{constructor(n,t,r){this.decodeTree=n,this.emitCodePoint=t,this.errors=r,this.state=Qa.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=wc.Strict}startEntity(n){this.decodeMode=n,this.state=Qa.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(n,t){switch(this.state){case Qa.EntityStart:return n.charCodeAt(t)===es.NUM?(this.state=Qa.NumericStart,this.consumed+=1,this.stateNumericStart(n,t+1)):(this.state=Qa.NamedEntity,this.stateNamedEntity(n,t));case Qa.NumericStart:return this.stateNumericStart(n,t);case Qa.NumericDecimal:return this.stateNumericDecimal(n,t);case Qa.NumericHex:return this.stateNumericHex(n,t);case Qa.NamedEntity:return this.stateNamedEntity(n,t)}}stateNumericStart(n,t){return t>=n.length?-1:(n.charCodeAt(t)|dK)===es.LOWER_X?(this.state=Qa.NumericHex,this.consumed+=1,this.stateNumericHex(n,t+1)):(this.state=Qa.NumericDecimal,this.stateNumericDecimal(n,t))}addToNumericResult(n,t,r,i){if(t!==r){const a=r-t;this.result=this.result*Math.pow(i,a)+Number.parseInt(n.substr(t,a),i),this.consumed+=a}}stateNumericHex(n,t){const r=t;for(;t<n.length;){const i=n.charCodeAt(t);if(RS(i)||fK(i))t+=1;else return this.addToNumericResult(n,r,t,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(n,r,t,16),-1}stateNumericDecimal(n,t){const r=t;for(;t<n.length;){const i=n.charCodeAt(t);if(RS(i))t+=1;else return this.addToNumericResult(n,r,t,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(n,r,t,10),-1}emitNumericEntity(n,t){var r;if(this.consumed<=t)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(n===es.SEMI)this.consumed+=1;else if(this.decodeMode===wc.Strict)return 0;return this.emitCodePoint(cK(this.result),this.consumed),this.errors&&(n!==es.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(n,t){const{decodeTree:r}=this;let i=r[this.treeIndex],a=(i&Yf.VALUE_LENGTH)>>14;for(;t<n.length;t++,this.excess++){const s=n.charCodeAt(t);if(this.treeIndex=gK(r,i,this.treeIndex+Math.max(1,a),s),this.treeIndex<0)return this.result===0||this.decodeMode===wc.Attribute&&(a===0||pK(s))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],a=(i&Yf.VALUE_LENGTH)>>14,a!==0){if(s===es.SEMI)return this.emitNamedEntityData(this.treeIndex,a,this.consumed+this.excess);this.decodeMode!==wc.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var n;const{result:t,decodeTree:r}=this,i=(r[t]&Yf.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,i,this.consumed),(n=this.errors)===null||n===void 0||n.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(n,t,r){const{decodeTree:i}=this;return this.emitCodePoint(t===1?i[n]&~Yf.VALUE_LENGTH:i[n+1],r),t===3&&this.emitCodePoint(i[n+2],r),r}end(){var n;switch(this.state){case Qa.NamedEntity:return this.result!==0&&(this.decodeMode!==wc.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Qa.NumericDecimal:return this.emitNumericEntity(0,2);case Qa.NumericHex:return this.emitNumericEntity(0,3);case Qa.NumericStart:return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Qa.EntityStart:return 0}}}function gK(e,n,t,r){const i=(n&Yf.BRANCH_LENGTH)>>7,a=n&Yf.JUMP_TABLE;if(i===0)return a!==0&&r===a?t:-1;if(a){const c=r-a;return c<0||c>=i?-1:e[t+c]-1}let s=t,l=s+i-1;for(;s<=l;){const c=s+l>>>1,d=e[c];if(d<r)s=c+1;else if(d>r)l=c-1;else return e[c+i]}return-1}var an;(function(e){e[e.Tab=9]="Tab",e[e.NewLine=10]="NewLine",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.ExclamationMark=33]="ExclamationMark",e[e.Number=35]="Number",e[e.Amp=38]="Amp",e[e.SingleQuote=39]="SingleQuote",e[e.DoubleQuote=34]="DoubleQuote",e[e.Dash=45]="Dash",e[e.Slash=47]="Slash",e[e.Zero=48]="Zero",e[e.Nine=57]="Nine",e[e.Semi=59]="Semi",e[e.Lt=60]="Lt",e[e.Eq=61]="Eq",e[e.Gt=62]="Gt",e[e.Questionmark=63]="Questionmark",e[e.UpperA=65]="UpperA",e[e.LowerA=97]="LowerA",e[e.UpperF=70]="UpperF",e[e.LowerF=102]="LowerF",e[e.UpperZ=90]="UpperZ",e[e.LowerZ=122]="LowerZ",e[e.LowerX=120]="LowerX",e[e.OpeningSquareBracket=91]="OpeningSquareBracket"})(an||(an={}));var Et;(function(e){e[e.Text=1]="Text",e[e.BeforeTagName=2]="BeforeTagName",e[e.InTagName=3]="InTagName",e[e.InSelfClosingTag=4]="InSelfClosingTag",e[e.BeforeClosingTagName=5]="BeforeClosingTagName",e[e.InClosingTagName=6]="InClosingTagName",e[e.AfterClosingTagName=7]="AfterClosingTagName",e[e.BeforeAttributeName=8]="BeforeAttributeName",e[e.InAttributeName=9]="InAttributeName",e[e.AfterAttributeName=10]="AfterAttributeName",e[e.BeforeAttributeValue=11]="BeforeAttributeValue",e[e.InAttributeValueDq=12]="InAttributeValueDq",e[e.InAttributeValueSq=13]="InAttributeValueSq",e[e.InAttributeValueNq=14]="InAttributeValueNq",e[e.BeforeDeclaration=15]="BeforeDeclaration",e[e.InDeclaration=16]="InDeclaration",e[e.InProcessingInstruction=17]="InProcessingInstruction",e[e.BeforeComment=18]="BeforeComment",e[e.CDATASequence=19]="CDATASequence",e[e.InSpecialComment=20]="InSpecialComment",e[e.InCommentLike=21]="InCommentLike",e[e.BeforeSpecialS=22]="BeforeSpecialS",e[e.BeforeSpecialT=23]="BeforeSpecialT",e[e.SpecialStartSequence=24]="SpecialStartSequence",e[e.InSpecialTag=25]="InSpecialTag",e[e.InEntity=26]="InEntity"})(Et||(Et={}));function wd(e){return e===an.Space||e===an.NewLine||e===an.Tab||e===an.FormFeed||e===an.CarriageReturn}function Ry(e){return e===an.Slash||e===an.Gt||wd(e)}function bK(e){return e>=an.LowerA&&e<=an.LowerZ||e>=an.UpperA&&e<=an.UpperZ}var Sc;(function(e){e[e.NoValue=0]="NoValue",e[e.Unquoted=1]="Unquoted",e[e.Single=2]="Single",e[e.Double=3]="Double"})(Sc||(Sc={}));const ka={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97]),XmpEnd:new Uint8Array([60,47,120,109,112])};class yK{constructor({xmlMode:n=!1,decodeEntities:t=!0},r){this.cbs=r,this.state=Et.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=Et.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=n,this.decodeEntities=t,this.entityDecoder=new mK(n?lK:oK,(i,a)=>this.emitCodePoint(i,a))}reset(){this.state=Et.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=Et.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(n){this.offset+=this.buffer.length,this.buffer=n,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(n){n===an.Lt||!this.decodeEntities&&this.fastForwardTo(an.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=Et.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&n===an.Amp&&this.startEntity()}stateSpecialStartSequence(n){const t=this.sequenceIndex===this.currentSequence.length;if(!(t?Ry(n):(n|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!t){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=Et.InTagName,this.stateInTagName(n)}stateInSpecialTag(n){if(this.sequenceIndex===this.currentSequence.length){if(n===an.Gt||wd(n)){const t=this.index-this.currentSequence.length;if(this.sectionStart<t){const r=this.index;this.index=t,this.cbs.ontext(this.sectionStart,t),this.index=r}this.isSpecial=!1,this.sectionStart=t+2,this.stateInClosingTagName(n);return}this.sequenceIndex=0}(n|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===ka.TitleEnd?this.decodeEntities&&n===an.Amp&&this.startEntity():this.fastForwardTo(an.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(n===an.Lt)}stateCDATASequence(n){n===ka.Cdata[this.sequenceIndex]?++this.sequenceIndex===ka.Cdata.length&&(this.state=Et.InCommentLike,this.currentSequence=ka.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=Et.InDeclaration,this.stateInDeclaration(n))}fastForwardTo(n){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===n)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(n){n===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===ka.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=Et.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):n!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(n){return this.xmlMode?!Ry(n):bK(n)}startSpecial(n,t){this.isSpecial=!0,this.currentSequence=n,this.sequenceIndex=t,this.state=Et.SpecialStartSequence}stateBeforeTagName(n){if(n===an.ExclamationMark)this.state=Et.BeforeDeclaration,this.sectionStart=this.index+1;else if(n===an.Questionmark)this.state=Et.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(n)){const t=n|32;this.sectionStart=this.index,this.xmlMode?this.state=Et.InTagName:t===ka.ScriptEnd[2]?this.state=Et.BeforeSpecialS:t===ka.TitleEnd[2]||t===ka.XmpEnd[2]?this.state=Et.BeforeSpecialT:this.state=Et.InTagName}else n===an.Slash?this.state=Et.BeforeClosingTagName:(this.state=Et.Text,this.stateText(n))}stateInTagName(n){Ry(n)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=Et.BeforeAttributeName,this.stateBeforeAttributeName(n))}stateBeforeClosingTagName(n){wd(n)||(n===an.Gt?this.state=Et.Text:(this.state=this.isTagStartChar(n)?Et.InClosingTagName:Et.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(n){(n===an.Gt||wd(n))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=Et.AfterClosingTagName,this.stateAfterClosingTagName(n))}stateAfterClosingTagName(n){(n===an.Gt||this.fastForwardTo(an.Gt))&&(this.state=Et.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(n){n===an.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=Et.InSpecialTag,this.sequenceIndex=0):this.state=Et.Text,this.sectionStart=this.index+1):n===an.Slash?this.state=Et.InSelfClosingTag:wd(n)||(this.state=Et.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(n){n===an.Gt?(this.cbs.onselfclosingtag(this.index),this.state=Et.Text,this.sectionStart=this.index+1,this.isSpecial=!1):wd(n)||(this.state=Et.BeforeAttributeName,this.stateBeforeAttributeName(n))}stateInAttributeName(n){(n===an.Eq||Ry(n))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=Et.AfterAttributeName,this.stateAfterAttributeName(n))}stateAfterAttributeName(n){n===an.Eq?this.state=Et.BeforeAttributeValue:n===an.Slash||n===an.Gt?(this.cbs.onattribend(Sc.NoValue,this.sectionStart),this.sectionStart=-1,this.state=Et.BeforeAttributeName,this.stateBeforeAttributeName(n)):wd(n)||(this.cbs.onattribend(Sc.NoValue,this.sectionStart),this.state=Et.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(n){n===an.DoubleQuote?(this.state=Et.InAttributeValueDq,this.sectionStart=this.index+1):n===an.SingleQuote?(this.state=Et.InAttributeValueSq,this.sectionStart=this.index+1):wd(n)||(this.sectionStart=this.index,this.state=Et.InAttributeValueNq,this.stateInAttributeValueNoQuotes(n))}handleInAttributeValue(n,t){n===t||!this.decodeEntities&&this.fastForwardTo(t)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(t===an.DoubleQuote?Sc.Double:Sc.Single,this.index+1),this.state=Et.BeforeAttributeName):this.decodeEntities&&n===an.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(n){this.handleInAttributeValue(n,an.DoubleQuote)}stateInAttributeValueSingleQuotes(n){this.handleInAttributeValue(n,an.SingleQuote)}stateInAttributeValueNoQuotes(n){wd(n)||n===an.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(Sc.Unquoted,this.index),this.state=Et.BeforeAttributeName,this.stateBeforeAttributeName(n)):this.decodeEntities&&n===an.Amp&&this.startEntity()}stateBeforeDeclaration(n){n===an.OpeningSquareBracket?(this.state=Et.CDATASequence,this.sequenceIndex=0):this.state=n===an.Dash?Et.BeforeComment:Et.InDeclaration}stateInDeclaration(n){(n===an.Gt||this.fastForwardTo(an.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=Et.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(n){(n===an.Gt||this.fastForwardTo(an.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=Et.Text,this.sectionStart=this.index+1)}stateBeforeComment(n){n===an.Dash?(this.state=Et.InCommentLike,this.currentSequence=ka.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=Et.InDeclaration}stateInSpecialComment(n){(n===an.Gt||this.fastForwardTo(an.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=Et.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(n){const t=n|32;t===ka.ScriptEnd[3]?this.startSpecial(ka.ScriptEnd,4):t===ka.StyleEnd[3]?this.startSpecial(ka.StyleEnd,4):(this.state=Et.InTagName,this.stateInTagName(n))}stateBeforeSpecialT(n){switch(n|32){case ka.TitleEnd[3]:{this.startSpecial(ka.TitleEnd,4);break}case ka.TextareaEnd[3]:{this.startSpecial(ka.TextareaEnd,4);break}case ka.XmpEnd[3]:{this.startSpecial(ka.XmpEnd,4);break}default:this.state=Et.InTagName,this.stateInTagName(n)}}startEntity(){this.baseState=this.state,this.state=Et.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?wc.Strict:this.baseState===Et.Text||this.baseState===Et.InSpecialTag?wc.Legacy:wc.Attribute)}stateInEntity(){const n=this.entityDecoder.write(this.buffer,this.index-this.offset);n>=0?(this.state=this.baseState,n===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===Et.Text||this.state===Et.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===Et.InAttributeValueDq||this.state===Et.InAttributeValueSq||this.state===Et.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const n=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case Et.Text:{this.stateText(n);break}case Et.SpecialStartSequence:{this.stateSpecialStartSequence(n);break}case Et.InSpecialTag:{this.stateInSpecialTag(n);break}case Et.CDATASequence:{this.stateCDATASequence(n);break}case Et.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(n);break}case Et.InAttributeName:{this.stateInAttributeName(n);break}case Et.InCommentLike:{this.stateInCommentLike(n);break}case Et.InSpecialComment:{this.stateInSpecialComment(n);break}case Et.BeforeAttributeName:{this.stateBeforeAttributeName(n);break}case Et.InTagName:{this.stateInTagName(n);break}case Et.InClosingTagName:{this.stateInClosingTagName(n);break}case Et.BeforeTagName:{this.stateBeforeTagName(n);break}case Et.AfterAttributeName:{this.stateAfterAttributeName(n);break}case Et.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(n);break}case Et.BeforeAttributeValue:{this.stateBeforeAttributeValue(n);break}case Et.BeforeClosingTagName:{this.stateBeforeClosingTagName(n);break}case Et.AfterClosingTagName:{this.stateAfterClosingTagName(n);break}case Et.BeforeSpecialS:{this.stateBeforeSpecialS(n);break}case Et.BeforeSpecialT:{this.stateBeforeSpecialT(n);break}case Et.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(n);break}case Et.InSelfClosingTag:{this.stateInSelfClosingTag(n);break}case Et.InDeclaration:{this.stateInDeclaration(n);break}case Et.BeforeDeclaration:{this.stateBeforeDeclaration(n);break}case Et.BeforeComment:{this.stateBeforeComment(n);break}case Et.InProcessingInstruction:{this.stateInProcessingInstruction(n);break}case Et.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===Et.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const n=this.buffer.length+this.offset;this.sectionStart>=n||(this.state===Et.InCommentLike?this.currentSequence===ka.CdataEnd?this.cbs.oncdata(this.sectionStart,n,0):this.cbs.oncomment(this.sectionStart,n,0):this.state===Et.InTagName||this.state===Et.BeforeAttributeName||this.state===Et.BeforeAttributeValue||this.state===Et.AfterAttributeName||this.state===Et.InAttributeName||this.state===Et.InAttributeValueSq||this.state===Et.InAttributeValueDq||this.state===Et.InAttributeValueNq||this.state===Et.InClosingTagName||this.cbs.ontext(this.sectionStart,n))}emitCodePoint(n,t){this.baseState!==Et.Text&&this.baseState!==Et.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+t,this.index=this.sectionStart-1,this.cbs.onattribentity(n)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+t,this.index=this.sectionStart-1,this.cbs.ontextentity(n,this.sectionStart))}}const c0=new Set(["input","option","optgroup","select","button","datalist","textarea"]),Ur=new Set(["p"]),Qk=new Set(["thead","tbody"]),Kk=new Set(["dd","dt"]),Xk=new Set(["rt","rp"]),xK=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",Ur],["h1",Ur],["h2",Ur],["h3",Ur],["h4",Ur],["h5",Ur],["h6",Ur],["select",c0],["input",c0],["output",c0],["button",c0],["datalist",c0],["textarea",c0],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",Kk],["dt",Kk],["address",Ur],["article",Ur],["aside",Ur],["blockquote",Ur],["details",Ur],["div",Ur],["dl",Ur],["fieldset",Ur],["figcaption",Ur],["figure",Ur],["footer",Ur],["form",Ur],["header",Ur],["hr",Ur],["main",Ur],["nav",Ur],["ol",Ur],["pre",Ur],["section",Ur],["table",Ur],["ul",Ur],["rt",Xk],["rp",Xk],["tbody",Qk],["tfoot",Qk]]),vK=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),Zk=new Set(["math","svg"]),Jk=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),wK=/\s|\//;class SK{constructor(n,t={}){var r,i,a,s,l,c;this.options=t,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=n??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(r=t.lowerCaseTags)!==null&&r!==void 0?r:this.htmlMode,this.lowerCaseAttributeNames=(i=t.lowerCaseAttributeNames)!==null&&i!==void 0?i:this.htmlMode,this.recognizeSelfClosing=(a=t.recognizeSelfClosing)!==null&&a!==void 0?a:!this.htmlMode,this.tokenizer=new((s=t.Tokenizer)!==null&&s!==void 0?s:yK)(this.options,this),this.foreignContext=[!this.htmlMode],(c=(l=this.cbs).onparserinit)===null||c===void 0||c.call(l,this)}ontext(n,t){var r,i;const a=this.getSlice(n,t);this.endIndex=t-1,(i=(r=this.cbs).ontext)===null||i===void 0||i.call(r,a),this.startIndex=t}ontextentity(n,t){var r,i;this.endIndex=t-1,(i=(r=this.cbs).ontext)===null||i===void 0||i.call(r,Gk(n)),this.startIndex=t}isVoidElement(n){return this.htmlMode&&vK.has(n)}onopentagname(n,t){this.endIndex=t;let r=this.getSlice(n,t);this.lowerCaseTagNames&&(r=r.toLowerCase()),this.emitOpenTag(r)}emitOpenTag(n){var t,r,i,a;this.openTagStart=this.startIndex,this.tagname=n;const s=this.htmlMode&&xK.get(n);if(s)for(;this.stack.length>0&&s.has(this.stack[0]);){const l=this.stack.shift();(r=(t=this.cbs).onclosetag)===null||r===void 0||r.call(t,l,!0)}this.isVoidElement(n)||(this.stack.unshift(n),this.htmlMode&&(Zk.has(n)?this.foreignContext.unshift(!0):Jk.has(n)&&this.foreignContext.unshift(!1))),(a=(i=this.cbs).onopentagname)===null||a===void 0||a.call(i,n),this.cbs.onopentag&&(this.attribs={})}endOpenTag(n){var t,r;this.startIndex=this.openTagStart,this.attribs&&((r=(t=this.cbs).onopentag)===null||r===void 0||r.call(t,this.tagname,this.attribs,n),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(n){this.endIndex=n,this.endOpenTag(!1),this.startIndex=n+1}onclosetag(n,t){var r,i,a,s,l,c,d,h;this.endIndex=t;let g=this.getSlice(n,t);if(this.lowerCaseTagNames&&(g=g.toLowerCase()),this.htmlMode&&(Zk.has(g)||Jk.has(g))&&this.foreignContext.shift(),this.isVoidElement(g))this.htmlMode&&g==="br"&&((s=(a=this.cbs).onopentagname)===null||s===void 0||s.call(a,"br"),(c=(l=this.cbs).onopentag)===null||c===void 0||c.call(l,"br",{},!0),(h=(d=this.cbs).onclosetag)===null||h===void 0||h.call(d,"br",!1));else{const b=this.stack.indexOf(g);if(b!==-1)for(let m=0;m<=b;m++){const x=this.stack.shift();(i=(r=this.cbs).onclosetag)===null||i===void 0||i.call(r,x,m!==b)}else this.htmlMode&&g==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=t+1}onselfclosingtag(n){this.endIndex=n,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=n+1):this.onopentagend(n)}closeCurrentTag(n){var t,r;const i=this.tagname;this.endOpenTag(n),this.stack[0]===i&&((r=(t=this.cbs).onclosetag)===null||r===void 0||r.call(t,i,!n),this.stack.shift())}onattribname(n,t){this.startIndex=n;const r=this.getSlice(n,t);this.attribname=this.lowerCaseAttributeNames?r.toLowerCase():r}onattribdata(n,t){this.attribvalue+=this.getSlice(n,t)}onattribentity(n){this.attribvalue+=Gk(n)}onattribend(n,t){var r,i;this.endIndex=t,(i=(r=this.cbs).onattribute)===null||i===void 0||i.call(r,this.attribname,this.attribvalue,n===Sc.Double?'"':n===Sc.Single?"'":n===Sc.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(n){const t=n.search(wK);let r=t<0?n:n.substr(0,t);return this.lowerCaseTagNames&&(r=r.toLowerCase()),r}ondeclaration(n,t){this.endIndex=t;const r=this.getSlice(n,t);if(this.cbs.onprocessinginstruction){const i=this.getInstructionName(r);this.cbs.onprocessinginstruction(`!${i}`,`!${r}`)}this.startIndex=t+1}onprocessinginstruction(n,t){this.endIndex=t;const r=this.getSlice(n,t);if(this.cbs.onprocessinginstruction){const i=this.getInstructionName(r);this.cbs.onprocessinginstruction(`?${i}`,`?${r}`)}this.startIndex=t+1}oncomment(n,t,r){var i,a,s,l;this.endIndex=t,(a=(i=this.cbs).oncomment)===null||a===void 0||a.call(i,this.getSlice(n,t-r)),(l=(s=this.cbs).oncommentend)===null||l===void 0||l.call(s),this.startIndex=t+1}oncdata(n,t,r){var i,a,s,l,c,d,h,g,b,m;this.endIndex=t;const x=this.getSlice(n,t-r);!this.htmlMode||this.options.recognizeCDATA?((a=(i=this.cbs).oncdatastart)===null||a===void 0||a.call(i),(l=(s=this.cbs).ontext)===null||l===void 0||l.call(s,x),(d=(c=this.cbs).oncdataend)===null||d===void 0||d.call(c)):((g=(h=this.cbs).oncomment)===null||g===void 0||g.call(h,`[CDATA[${x}]]`),(m=(b=this.cbs).oncommentend)===null||m===void 0||m.call(b)),this.startIndex=t+1}onend(){var n,t;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let r=0;r<this.stack.length;r++)this.cbs.onclosetag(this.stack[r],!0)}(t=(n=this.cbs).onend)===null||t===void 0||t.call(n)}reset(){var n,t,r,i;(t=(n=this.cbs).onreset)===null||t===void 0||t.call(n),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(i=(r=this.cbs).onparserinit)===null||i===void 0||i.call(r,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(n){this.reset(),this.end(n)}getSlice(n,t){for(;n-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let r=this.buffers[0].slice(n-this.bufferOffset,t-this.bufferOffset);for(;t-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),r+=this.buffers[0].slice(0,t-this.bufferOffset);return r}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(n){var t,r;if(this.ended){(r=(t=this.cbs).onerror)===null||r===void 0||r.call(t,new Error(".write() after done!"));return}this.buffers.push(n),this.tokenizer.running&&(this.tokenizer.write(n),this.writeIndex++)}end(n){var t,r;if(this.ended){(r=(t=this.cbs).onerror)===null||r===void 0||r.call(t,new Error(".end() after done!"));return}n&&this.write(n),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(n){this.write(n)}done(n){this.end(n)}}var kr;(function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"})(kr||(kr={}));function sx(e){return e.type===kr.Tag||e.type===kr.Script||e.type===kr.Style}kr.Root;kr.Text;kr.Directive;kr.Comment;kr.Script;kr.Style;kr.Tag;kr.CDATA;kr.Doctype;let JO=class{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(n){this.parent=n}get previousSibling(){return this.prev}set previousSibling(n){this.prev=n}get nextSibling(){return this.next}set nextSibling(n){this.next=n}cloneNode(n=!1){return oI(this,n)}};class pA extends JO{constructor(n){super(),this.data=n}get nodeValue(){return this.data}set nodeValue(n){this.data=n}}let MS=class extends pA{constructor(){super(...arguments),this.type=kr.Text}get nodeType(){return 3}};class eI extends pA{constructor(){super(...arguments),this.type=kr.Comment}get nodeType(){return 8}}class tI extends pA{constructor(n,t){super(t),this.name=n,this.type=kr.Directive}get nodeType(){return 1}}class mA extends JO{constructor(n){super(),this.children=n}get firstChild(){var n;return(n=this.children[0])!==null&&n!==void 0?n:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(n){this.children=n}}class nI extends mA{constructor(){super(...arguments),this.type=kr.CDATA}get nodeType(){return 4}}class FS extends mA{constructor(){super(...arguments),this.type=kr.Root}get nodeType(){return 9}}let rI=class extends mA{constructor(n,t,r=[],i=n==="script"?kr.Script:n==="style"?kr.Style:kr.Tag){super(r),this.name=n,this.attribs=t,this.type=i}get nodeType(){return 1}get tagName(){return this.name}set tagName(n){this.name=n}get attributes(){return Object.keys(this.attribs).map(n=>{var t,r;return{name:n,value:this.attribs[n],namespace:(t=this["x-attribsNamespace"])===null||t===void 0?void 0:t[n],prefix:(r=this["x-attribsPrefix"])===null||r===void 0?void 0:r[n]}})}};function iI(e){return sx(e)}function aI(e){return e.type===kr.CDATA}function sI(e){return e.type===kr.Text}function AK(e){return e.type===kr.Comment}function CK(e){return e.type===kr.Directive}function EK(e){return e.type===kr.Root}function oI(e,n=!1){let t;if(sI(e))t=new MS(e.data);else if(AK(e))t=new eI(e.data);else if(iI(e)){const r=n?lw(e.children):[],i=new rI(e.name,{...e.attribs},r);r.forEach(a=>a.parent=i),e.namespace!=null&&(i.namespace=e.namespace),e["x-attribsNamespace"]&&(i["x-attribsNamespace"]={...e["x-attribsNamespace"]}),e["x-attribsPrefix"]&&(i["x-attribsPrefix"]={...e["x-attribsPrefix"]}),t=i}else if(aI(e)){const r=n?lw(e.children):[],i=new nI(r);r.forEach(a=>a.parent=i),t=i}else if(EK(e)){const r=n?lw(e.children):[],i=new FS(r);r.forEach(a=>a.parent=i),e["x-mode"]&&(i["x-mode"]=e["x-mode"]),t=i}else if(CK(e)){const r=new tI(e.name,e.data);e["x-name"]!=null&&(r["x-name"]=e["x-name"],r["x-publicId"]=e["x-publicId"],r["x-systemId"]=e["x-systemId"]),t=r}else throw new Error(`Not implemented yet: ${e.type}`);return t.startIndex=e.startIndex,t.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(t.sourceCodeLocation=e.sourceCodeLocation),t}function lw(e){const n=e.map(t=>oI(t,!0));for(let t=1;t<n.length;t++)n[t].prev=n[t-1],n[t-1].next=n[t];return n}const e4={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class _K{constructor(n,t,r){this.dom=[],this.root=new FS(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof t=="function"&&(r=t,t=e4),typeof n=="object"&&(t=n,n=void 0),this.callback=n??null,this.options=t??e4,this.elementCB=r??null}onparserinit(n){this.parser=n}onreset(){this.dom=[],this.root=new FS(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(n){this.handleCallback(n)}onclosetag(){this.lastNode=null;const n=this.tagStack.pop();this.options.withEndIndices&&(n.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(n)}onopentag(n,t){const r=this.options.xmlMode?kr.Tag:void 0,i=new rI(n,t,void 0,r);this.addNode(i),this.tagStack.push(i)}ontext(n){const{lastNode:t}=this;if(t&&t.type===kr.Text)t.data+=n,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{const r=new MS(n);this.addNode(r),this.lastNode=r}}oncomment(n){if(this.lastNode&&this.lastNode.type===kr.Comment){this.lastNode.data+=n;return}const t=new eI(n);this.addNode(t),this.lastNode=t}oncommentend(){this.lastNode=null}oncdatastart(){const n=new MS(""),t=new nI([n]);this.addNode(t),n.parent=t,this.lastNode=n}oncdataend(){this.lastNode=null}onprocessinginstruction(n,t){const r=new tI(n,t);this.addNode(r)}handleCallback(n){if(typeof this.callback=="function")this.callback(n,this.dom);else if(n)throw n}addNode(n){const t=this.tagStack[this.tagStack.length-1],r=t.children[t.children.length-1];this.options.withStartIndices&&(n.startIndex=this.parser.startIndex),this.options.withEndIndices&&(n.endIndex=this.parser.endIndex),t.children.push(n),r&&(n.prev=r,r.next=n),n.parent=t,this.lastNode=null}}function Ad(e){return Array.isArray(e)?e.map(Ad).join(""):iI(e)?e.name==="br"?`
`:Ad(e.children):aI(e)?Ad(e.children):sI(e)?e.data:""}function kK(e,n){const t=new _K(void 0,n);return new SK(t,n).end(e),t.root}const jK=async(e,n)=>{var m,x,y,A,w,C,j,F;if(!e)return;const t=new on("p","mm","a4",!0);let r=10;const i=297,a=z=>{r+z*6>i-20&&(t.addPage(),r=10)},s=e.sections.length+e.sections.reduce((z,L)=>z+L.subsections.length,0)+e.sections.reduce((z,L)=>z+L.subsections.reduce((k,M)=>k+M.subSubsections.length,0),0)+e.sections.reduce((z,L)=>{var k;return z+(((k=L.images)==null?void 0:k.length)||0)+L.subsections.reduce((M,q)=>{var Q;return M+(((Q=q.images)==null?void 0:Q.length)||0)+q.subSubsections.reduce((T,O)=>{var R;return T+(((R=O.images)==null?void 0:R.length)||0)},0)},0)},0);let l=0;const c=()=>{l+=1,n(Math.round(l/s*100))},d=async(z,L=150,k=150)=>new Promise(M=>{const q=new Image;q.crossOrigin="anonymous",q.src=z.url,q.onload=()=>{const Q=q.width/q.height;let T=L,O=k;Q>1?O=L/Q:T=k*Q,a(O+15);const R=(210-T)/2;if(t.addImage(q,"JPEG",R,r,T,O),r+=O+5,z.title){t.setFont("helvetica","italic"),t.setFontSize(10);const K=(210-t.getTextWidth(z.title))/2;t.text(z.title,K,r),t.setFont("helvetica","normal"),r+=6}c(),M()},q.onerror=()=>{console.warn(`Image failed to load: ${z.url}`),c(),M()}}),h=(z,L=10,k=12)=>{var Q;const M=kK(z),q=(T,O=0,R=!1)=>{var N,K,H,G,ee,le,Y;if(T){if(sx(T)){const te=T,U=te.name.toLowerCase();switch(U){case"p":r+=6,(N=te.children)==null||N.forEach(B=>q(B,O)),r+=6;break;case"br":r+=6;break;case"strong":case"b":case"i":case"em":t.setFont("helvetica",U==="strong"||U==="b"?"bold":"italic"),(K=te.children)==null||K.forEach(B=>q(B,O)),t.setFont("helvetica","normal");break;case"ul":case"ol":r+=4,(H=te.children)==null||H.forEach(B=>q(B,O+1,!0));break;case"li":{const B=O===1?"-":"--";let re="";(G=te.children)==null||G.forEach(Z=>{if(sx(Z)){const ne=Z;ne.name==="strong"||ne.name==="b"?(t.setFont("helvetica","bold"),re+=` ${Ad(ne)}`,t.setFont("helvetica","normal")):ne.name!=="ul"&&ne.name!=="ol"&&(re+=` ${Ad(ne)}`)}else Z.type==="text"&&"data"in Z&&(re+=` ${Z.data.trim()}`)}),re=re.trim(),re&&(O===0?g(`${B} ${re}`,L,k+2,!0):g(`${B} ${re}`,L+O*8,k),r+=6),(ee=te.children)==null||ee.forEach(Z=>{if(sx(Z)){const ne=Z;["ul","ol"].includes(ne.name)&&q(ne,O+1,!0)}});break}case"a":(le=te.attribs)!=null&&le.href&&b(Ad(te),te.attribs.href);break;case"h1":g(Ad(te),L,20,!0),r+=8;break;case"h2":g(Ad(te),L,18,!0),r+=8;break;case"h3":g(Ad(te),L,16,!0),r+=6;break;default:(Y=te.children)==null||Y.forEach(B=>q(B,O))}}else if(T.type==="text"&&"data"in T){const te=T.data.trim();te&&g(te,L+O*8,k)}}};(Q=M.children)==null||Q.forEach(T=>q(T))},g=(z,L,k=12,M=!1,q=[0,0,0],Q=!1,T=200)=>{if(!z)return;t.setFontSize(k),t.setTextColor(q[0],q[1],q[2]),t.setFont("helvetica",M?Q?"bolditalic":"bold":Q?"italic":"normal"),t.splitTextToSize(z,T-L).forEach(R=>{a(1),t.text(R,L,r),r+=6})},b=(z,L)=>{a(1),t.setTextColor(10,104,71),t.textWithLink(z,10,r,{url:L}),r+=6};(m=e.header)!=null&&m.content&&(g("Header:",10,12,!0),h(e.header.content),r+=5),e.title&&(g(e.title,10,18,!0,[10,104,71]),r+=5);for(const z of e.sections){if(g(z.title,10,16,!0),h(z.content),(x=z.images)!=null&&x.length)for(const L of z.images)await d(L);c();for(const L of z.subsections){if(g(L.title,12,14,!0),h(L.content,12),(y=L.images)!=null&&y.length)for(const k of L.images)await d(k);c();for(const k of L.subSubsections){if(g(k.title,14,12,!0),h(k.content,14),(A=k.images)!=null&&A.length)for(const M of k.images)await d(M);c(),(w=k.links)!=null&&w.length&&(g("Links:",14,12,!0),k.links.forEach(M=>b(M.title,M.url)))}(C=L.links)!=null&&C.length&&(g("Links:",12,12,!0),L.links.forEach(k=>b(k.title,k.url)))}(j=z.links)!=null&&j.length&&(g("Links:",10,12,!0),z.links.forEach(L=>b(L.title,L.url))),r+=5}(F=e.footer)!=null&&F.content&&(g("Footer:",10,12,!0),h(e.footer.content)),t.save(`${e.title||"Material"}.pdf`),n(100)},NK=()=>{var F,z,L,k,M,q,Q,T,O,R,N,K,H,G,ee,le,Y,te,U,B,re,Z,ne,ve,ye,Ce,Oe,Ie,$e,We,V,Se,se,he,de,we,Le,Pe,_e,Ke,ot,nt;const{id:e}=N6(),[n,t]=qg(),r=Jn(),[i,a]=X.useState(null),[s,l]=X.useState({sectionIndex:0}),[c,d]=X.useState(null),[h,g]=X.useState(0),[b,m]=X.useState(!0);Y7((i==null?void 0:i.sections)||[],s.sectionIndex||0,!!i),X.useEffect(()=>{g(De=>De+1)},[s]);const x=async()=>{if(i!=null&&i.originalFile)try{console.log(" Starting original file download:",i.originalFile.name);const De=document.createElement("a");De.href=i.originalFile.url,De.download=i.originalFile.name,De.target="_blank",document.body.appendChild(De),De.click(),document.body.removeChild(De),console.log(" Original file download initiated")}catch(De){console.error(" Original file download failed:",De)}};X.useEffect(()=>{e&&(async()=>{var xe,ke;try{m(!0);const je=xn(r,"materials",e),ct=await Oa(je);if(ct.exists()){const Je={id:ct.id,...ct.data()};console.log("Material data from Firestore:",Je),console.log("Sections type:",typeof Je.sections),console.log("Sections value:",Je.sections),Array.isArray(Je.sections)||(console.warn("Sections is not an array, initializing as empty array. Original value:",Je.sections),Je.sections=[]),Je.sections=Je.sections.map(Rt=>({id:Rt.id||Ri(),title:Rt.title||"Untitled Section",content:Rt.content||"",images:Array.isArray(Rt.images)?Rt.images.map(Wt=>({...Wt,title:Wt.title||""})):[],links:Array.isArray(Rt.links)?Rt.links:[],subsections:Array.isArray(Rt.subsections)?Rt.subsections.map(Wt=>({id:Wt.id||Ri(),title:Wt.title||"Untitled Subsection",content:Wt.content||"",images:Array.isArray(Wt.images)?Wt.images.map(Lt=>({...Lt,title:Lt.title||""})):[],links:Array.isArray(Wt.links)?Wt.links:[],subSubsections:Array.isArray(Wt.subSubsections)?Wt.subSubsections.map(Lt=>({id:Lt.id||Ri(),title:Lt.title||"Untitled Sub-subsection",content:Lt.content||"",images:Array.isArray(Lt.images)?Lt.images.map(Kt=>({...Kt,title:Kt.title||""})):[],links:Array.isArray(Lt.links)?Lt.links:[]})):[]})):[]})),console.log("Loaded material from database:",{title:Je.title,sectionsCount:((xe=Je.sections)==null?void 0:xe.length)||0,sectionsWithImages:((ke=Je.sections)==null?void 0:ke.filter(Rt=>{var kt;return((kt=Rt.images)==null?void 0:kt.length)>0}).length)||0}),a(Je)}}catch(je){console.error("Error fetching material:",je)}finally{m(!1)}})()},[e,r]),X.useEffect(()=>{e&&n.get("material")!==e&&(console.log(" Updating URL: Adding material ID to query parameters:",e),t(De=>{const xe=new URLSearchParams(De);return xe.set("material",e),xe},{replace:!0}))},[e,n,t]);const y=(De,xe,ke)=>{l({sectionIndex:typeof De=="number"?De:void 0,subsectionIndex:xe,subSubsectionIndex:ke,type:typeof De=="string"?De:void 0})},A=De=>{var Je,Rt,kt,Wt,Lt,Kt,tn,ln,zn,qn,Qr,ar,Mn,Vt,En,xa,Sr,li,va,Dt,Wn,sr,Mr,dr,fr,Hn,ys;const{sectionIndex:xe,subsectionIndex:ke,subSubsectionIndex:je,type:ct}=s;if(De==="prev")if(je!==void 0&&je>0)l({sectionIndex:xe,subsectionIndex:ke,subSubsectionIndex:je-1});else if(je!==void 0&&je===0)l({sectionIndex:xe,subsectionIndex:ke});else if(ke!==void 0&&ke>0)l({sectionIndex:xe,subsectionIndex:ke-1});else if(ke!==void 0&&ke===0)l({sectionIndex:xe});else if(xe>0){const jr=i==null?void 0:i.sections[xe-1];l({sectionIndex:xe-1,subsectionIndex:(Je=jr==null?void 0:jr.subsections)!=null&&Je.length?jr.subsections.length-1:void 0,subSubsectionIndex:(Rt=jr==null?void 0:jr.subsections)!=null&&Rt.length?((Wt=(kt=jr.subsections[jr.subsections.length-1])==null?void 0:kt.subSubsections)==null?void 0:Wt.length)-1:void 0})}else ct==="footer"?l({sectionIndex:((i==null?void 0:i.sections.length)??1)-1,type:"footer"}):xe===void 0&&ct==="header"&&l({sectionIndex:((i==null?void 0:i.sections.length)??1)-1});else De==="next"&&(je===void 0&&ke!==void 0&&((ln=(tn=(Kt=(Lt=i==null?void 0:i.sections[xe??0])==null?void 0:Lt.subsections)==null?void 0:Kt[ke])==null?void 0:tn.subSubsections)!=null&&ln.length)?l({sectionIndex:xe,subsectionIndex:ke,subSubsectionIndex:0}):je!==void 0&&je<(((ar=(Qr=(qn=(zn=i==null?void 0:i.sections[xe??0])==null?void 0:zn.subsections)==null?void 0:qn[ke??0])==null?void 0:Qr.subSubsections)==null?void 0:ar.length)??1)-1?l({sectionIndex:xe,subsectionIndex:ke,subSubsectionIndex:je+1}):je!==void 0&&je===(((xa=(En=(Vt=(Mn=i==null?void 0:i.sections[xe??0])==null?void 0:Mn.subsections)==null?void 0:Vt[ke??0])==null?void 0:En.subSubsections)==null?void 0:xa.length)??1)-1&&(ke??0)<(((li=(Sr=i==null?void 0:i.sections[xe??0])==null?void 0:Sr.subsections)==null?void 0:li.length)??1)-1?l({sectionIndex:xe,subsectionIndex:(ke??0)+1}):ke===void 0&&((Dt=(va=i==null?void 0:i.sections[xe??0])==null?void 0:va.subsections)!=null&&Dt.length)?l({sectionIndex:xe,subsectionIndex:0}):ke!==void 0&&ke<(((sr=(Wn=i==null?void 0:i.sections[xe??0])==null?void 0:Wn.subsections)==null?void 0:sr.length)??1)-1?l({sectionIndex:xe,subsectionIndex:ke+1}):ke!==void 0&&ke===(((dr=(Mr=i==null?void 0:i.sections[xe??0])==null?void 0:Mr.subsections)==null?void 0:dr.length)??1)-1&&(xe??0)<(((fr=i==null?void 0:i.sections)==null?void 0:fr.length)??1)-1?l({sectionIndex:(xe??0)+1}):(xe??0)<(((Hn=i==null?void 0:i.sections)==null?void 0:Hn.length)??1)-1?l({sectionIndex:(xe??0)+1}):xe===(((ys=i==null?void 0:i.sections)==null?void 0:ys.length)??1)-1&&ke===void 0&&l({sectionIndex:void 0,type:"footer"}))};if(b)return f.jsx(ge,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:f.jsx(Gr,{size:60,sx:{color:ht.palette.primary.main}})});if(!i)return f.jsx(A6,{maxWidth:"md",children:f.jsxs(ge,{sx:{textAlign:"center",py:8,px:4,backgroundColor:ht.palette.background.paper,borderRadius:Zt["2xl"],border:`1px solid ${ht.palette.divider}`},children:[f.jsx(ce,{variant:"h5",sx:{fontFamily:ht.typography.h5.fontFamily,fontWeight:ht.typography.h5.fontWeight,color:ht.palette.text.secondary,mb:2},children:"Material Not Found"}),f.jsx(ce,{variant:"body1",sx:{color:ht.palette.text.secondary},children:"The requested material could not be found or you don't have permission to view it."})]})});const w=s.type==="header"||s.type==="footer"?"":s.sectionIndex!==void 0?s.subSubsectionIndex!==void 0?((L=(z=(F=i.sections[s.sectionIndex])==null?void 0:F.subsections[s.subsectionIndex])==null?void 0:z.subSubsections[s.subSubsectionIndex])==null?void 0:L.content)||"":s.subsectionIndex!==void 0?((M=(k=i.sections[s.sectionIndex])==null?void 0:k.subsections[s.subsectionIndex])==null?void 0:M.content)||"":((q=i.sections[s.sectionIndex])==null?void 0:q.content)||"":"",C=s.type==="header"||s.type==="footer"?"":s.sectionIndex!==void 0?s.subSubsectionIndex!==void 0?((O=(T=(Q=i.sections[s.sectionIndex])==null?void 0:Q.subsections[s.subsectionIndex])==null?void 0:T.subSubsections[s.subSubsectionIndex])==null?void 0:O.title)||"":s.subsectionIndex!==void 0?((N=(R=i.sections[s.sectionIndex])==null?void 0:R.subsections[s.subsectionIndex])==null?void 0:N.title)||"":((K=i.sections[s.sectionIndex])==null?void 0:K.title)||"":"",j=s.sectionIndex!==void 0?s.subSubsectionIndex!==void 0?((ee=(G=(H=i.sections[s.sectionIndex])==null?void 0:H.subsections[s.subsectionIndex])==null?void 0:G.subSubsections[s.subSubsectionIndex])==null?void 0:ee.links)||[]:s.subsectionIndex!==void 0?((Y=(le=i.sections[s.sectionIndex])==null?void 0:le.subsections[s.subsectionIndex])==null?void 0:Y.links)||[]:((te=i.sections[s.sectionIndex])==null?void 0:te.links)||[]:[];return f.jsxs(ge,{sx:{display:"flex",flexGrow:1,flexDirection:"column",minHeight:"100vh"},children:[f.jsxs(fn,{elevation:1,sx:{p:3,mb:2,backgroundColor:ht.palette.background.paper,borderRadius:0},children:[f.jsxs(ge,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsx(qT,{courseId:i.course}),f.jsxs(ge,{sx:{display:"flex",gap:2,alignItems:"center"},children:[f.jsx(Dn,{label:i.published?"Published":i.scheduledTimestamp?"Scheduled":"Draft",color:i.published?"success":i.scheduledTimestamp?"info":"warning",variant:"outlined",sx:{fontWeight:600}}),f.jsxs(ge,{sx:{display:"flex",gap:1},children:[(i==null?void 0:i.originalFile)&&f.jsx(si,{title:`Download original file: ${i.originalFile.name}`,arrow:!0,children:f.jsx(mt,{variant:"outlined",startIcon:f.jsx(rR,{}),endIcon:f.jsx(HE,{}),onClick:x,sx:{borderRadius:"12px",textTransform:"none",fontWeight:600},children:"PPTX"})}),f.jsx(mt,{variant:"outlined",startIcon:f.jsx(vx,{}),endIcon:f.jsx(HE,{}),onClick:async()=>{i&&(d(0),await jK(i,d),d(null))},disabled:c!==null,sx:{borderRadius:"12px",textTransform:"none",fontWeight:600},children:c!==null?"Generating...":"PDF"})]})]})]}),c!==null&&f.jsx(ge,{sx:{width:"100%",mt:2},children:f.jsx(Xo,{variant:"determinate",value:c,sx:{borderRadius:Zt.xl,height:8}})})]}),f.jsxs(ge,{sx:{display:"flex",flexGrow:1,minHeight:0},children:[f.jsx(iv,{children:f.jsx(zT,{sections:i.sections,selected:s,onAddSection:()=>{},onAddSubsection:()=>{},onAddSubSubsection:()=>{},onSelectSection:y,onUpdateSectionTitle:()=>{},onUpdateSubsectionTitle:()=>{},onUpdateSubSubsectionTitle:()=>{},onDeleteSection:()=>{},onDeleteSubsection:()=>{},onDeleteSubSubsection:()=>{},isViewMode:!0})}),f.jsxs(ge,{sx:{flexGrow:1,p:4,overflow:"auto"},children:[f.jsx(fn,{elevation:0,sx:{p:3,mb:3,backgroundColor:ht.palette.background.paper,borderRadius:Zt.xl,border:`1px solid ${ht.palette.divider}`},children:f.jsx(ce,{dangerouslySetInnerHTML:{__html:i.header.content.replace(/\n/g,"<br />")},sx:{fontFamily:ht.typography.body1.fontFamily,color:ht.palette.text.secondary,lineHeight:1.6}})}),f.jsx(ce,{variant:"h3",align:"center",sx:{fontFamily:ht.typography.h3.fontFamily,fontWeight:ht.typography.h3.fontWeight,color:ht.palette.text.primary,mb:4},children:i.title}),C&&f.jsx(ce,{variant:"h4",align:"center",sx:{fontFamily:ht.typography.h4.fontFamily,fontWeight:ht.typography.h4.fontWeight,color:ht.palette.text.primary,mb:4},children:C}),s.type!=="header"&&s.type!=="footer"&&f.jsx(qw,{in:!0,timeout:400,children:f.jsxs(ge,{children:[f.jsxs(fn,{elevation:0,sx:{p:4,mb:3,backgroundColor:ht.palette.background.paper,borderRadius:Zt.xl,border:`1px solid ${ht.palette.divider}`},children:[f.jsx(ce,{dangerouslySetInnerHTML:{__html:w.replace(/\n/g,"<br />")},sx:{fontFamily:ht.typography.body1.fontFamily,color:ht.palette.text.primary,lineHeight:1.7,"& p":{mb:2}}}),f.jsx(ge,{sx:{mt:3},children:s.sectionIndex!==void 0&&f.jsx(f.Fragment,{children:s.subSubsectionIndex!==void 0?(((ve=(ne=(Z=(re=(B=(U=i.sections[s.sectionIndex])==null?void 0:U.subsections)==null?void 0:B[s.subsectionIndex])==null?void 0:re.subSubsections)==null?void 0:Z[s.subSubsectionIndex])==null?void 0:ne.images)==null?void 0:ve.length)||0)>0&&f.jsx(X5,{images:(($e=(Ie=(Oe=(Ce=(ye=i.sections[s.sectionIndex])==null?void 0:ye.subsections)==null?void 0:Ce[s.subsectionIndex])==null?void 0:Oe.subSubsections)==null?void 0:Ie[s.subSubsectionIndex])==null?void 0:$e.images)||[]}):s.subsectionIndex!==void 0?(((se=(Se=(V=(We=i.sections[s.sectionIndex])==null?void 0:We.subsections)==null?void 0:V[s.subsectionIndex])==null?void 0:Se.images)==null?void 0:se.length)||0)>0&&f.jsx(X5,{images:((we=(de=(he=i.sections[s.sectionIndex])==null?void 0:he.subsections)==null?void 0:de[s.subsectionIndex])==null?void 0:we.images)||[]}):(((Pe=(Le=i.sections[s.sectionIndex])==null?void 0:Le.images)==null?void 0:Pe.length)||0)>0&&f.jsx(X5,{images:((_e=i.sections[s.sectionIndex])==null?void 0:_e.images)||[]})})})]}),j.length>0&&f.jsx(uQ,{links:j})]})},h),f.jsxs(ge,{sx:{display:"flex",justifyContent:"space-between",mt:4},children:[f.jsx(si,{title:"Previous Section/Subsection (Left Arrow)",arrow:!0,children:f.jsx("span",{children:f.jsx(Cn,{onClick:()=>A("prev"),disabled:s.sectionIndex===0&&s.subsectionIndex===void 0&&s.type==="header",sx:{backgroundColor:ht.palette.primary.main,color:ht.palette.primary.contrastText,"&:hover":{backgroundColor:ht.palette.primary.dark},"&:disabled":{backgroundColor:ht.palette.action.disabled,color:ht.palette.action.disabled}},children:f.jsx(iR,{})})})}),f.jsx(si,{title:"Next Section/Subsection (Right Arrow)",arrow:!0,children:f.jsx("span",{children:f.jsx(Cn,{onClick:()=>A("next"),disabled:s.sectionIndex===(((Ke=i.sections)==null?void 0:Ke.length)??1)-1&&(s.subsectionIndex===void 0||s.subsectionIndex===(((nt=(ot=i.sections[s.sectionIndex])==null?void 0:ot.subsections)==null?void 0:nt.length)??1)-1)&&s.type==="footer",sx:{backgroundColor:ht.palette.primary.main,color:ht.palette.primary.contrastText,"&:hover":{backgroundColor:ht.palette.primary.dark},"&:disabled":{backgroundColor:ht.palette.action.disabled,color:ht.palette.action.disabled}},children:f.jsx(aR,{})})})})]}),f.jsx(fn,{elevation:0,sx:{p:3,mt:4,backgroundColor:ht.palette.background.paper,borderRadius:Zt.xl,border:`1px solid ${ht.palette.divider}`},children:f.jsx(ce,{dangerouslySetInnerHTML:{__html:i.footer.content.replace(/\n/g,"<br />")},sx:{fontFamily:ht.typography.body1.fontFamily,color:ht.palette.text.secondary,lineHeight:1.6}})})]})]})]})},lI=({value:e,onChange:n})=>{const[t,r]=X.useState([]),{userDetails:i}=Ai();return X.useEffect(()=>{if(i!=null&&i.classes){const a=Object.entries(i.classes).filter(([s,l])=>l.isCourseAdmin||i.isSuperAdmin).map(([s,l])=>({id:s,number:l.number,title:l.title}));r(a)}else r([])},[i]),f.jsxs(Fc,{fullWidth:!0,sx:{mb:2},children:[f.jsx(Pc,{id:"course-selector-label",children:"Course"}),f.jsx(Rl,{labelId:"course-selector-label",value:e,onChange:a=>n(a.target.value),label:"Course",children:t.length>0?t.map(a=>f.jsx(Zn,{value:a.id,children:`${a.number} - ${a.title}`},a.id)):f.jsx(Zn,{disabled:!0,children:"No courses available"})}),!e&&f.jsx(sR,{children:"Please select a course"})]})},TK=()=>{const[e,n]=X.useState(""),[t,r]=X.useState(""),[i,a]=X.useState([{title:"",url:""}]),[s,l]=X.useState(""),c=ea(),d=Jn(),h=async()=>{if(!s){alert("Please select a course to post the message.");return}try{await Ma(wn(d,"messages"),{title:e,description:t,links:i,course:s,postedOn:Qf(),isPinned:!1}),c("/")}catch(x){console.error("Error adding message: ",x)}},g=()=>c("/"),b=(x,y,A)=>{const w=[...i];w[x][y]=A,a(w)},m=()=>a([...i,{title:"",url:""}]);return f.jsx(A6,{maxWidth:"md",sx:{mt:6,fontFamily:"Gabarito, sans-serif"},children:f.jsxs(fn,{elevation:3,sx:{p:4,borderRadius:2,backgroundColor:"#F7F9FC"},children:[f.jsx(ce,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontFamily:"Staatliches, sans-serif",textAlign:"center"},children:"Add New Message"}),f.jsx(ts,{sx:{mb:3,backgroundColor:"#DADADA"}}),f.jsxs(ge,{sx:{mt:4},children:[f.jsx(lI,{value:s,onChange:l}),f.jsx(Bt,{label:"Subject",fullWidth:!0,value:e,onChange:x=>n(x.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),f.jsx(Bt,{label:"Description",fullWidth:!0,multiline:!0,rows:4,value:t,onChange:x=>r(x.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),f.jsx(ce,{variant:"h6",sx:{mb:2},children:""}),i.map((x,y)=>f.jsxs(ge,{sx:{mb:2,pl:2,borderLeft:"4px solid #CDDAFF"},children:[f.jsx(Bt,{label:`URL Title ${y+1}`,fullWidth:!0,value:x.title,onChange:A=>b(y,"title",A.target.value),sx:{mb:1}}),f.jsx(Bt,{label:`URL Link ${y+1}`,fullWidth:!0,value:x.url,onChange:A=>b(y,"url",A.target.value)})]},y)),f.jsx(mt,{variant:"outlined",onClick:m,startIcon:f.jsx("span",{style:{fontSize:"1.2rem",lineHeight:1},children:"+"}),sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",color:"#0B53C0",padding:"8px 16px",textTransform:"none","&:hover":{backgroundColor:"rgba(11, 83, 192, 0.1)",color:"#083B80"}},children:"Add Link"}),f.jsx(ts,{sx:{width:"100%",my:2,backgroundColor:"#DADADA"}}),f.jsxs(ge,{sx:{display:"flex",justifyContent:"space-between"},children:[f.jsx(mt,{variant:"outlined",onClick:g,className:"cancel-button",children:"Cancel"}),f.jsx(mt,{variant:"outlined",onClick:h,className:"save-button",children:"Save"})]})]})]})})},OK=()=>{const{id:e}=N6(),[n,t]=X.useState(""),[r,i]=X.useState(""),[a,s]=X.useState([{title:"",url:""}]),[l,c]=X.useState(""),d=ea(),h=Jn();X.useEffect(()=>{(async()=>{try{const A=xn(h,"messages",e),w=await Oa(A);if(w.exists()){const C=w.data();t(C.title),i(C.description),s(C.links||[{title:"",url:""}]),c(C.course||"")}}catch(A){console.error("Error fetching message: ",A)}})()},[h,e]);const g=async()=>{try{if(!l){alert("Please select a valid course to update the message.");return}const y=xn(h,"messages",e);await Wr(y,{title:n,description:r,links:a,course:l,lastUpdatedOn:Qf()}),d("/")}catch(y){console.error("Error editing message: ",y)}},b=()=>d("/"),m=(y,A,w)=>{const C=[...a];C[y][A]=w,s(C)},x=()=>s([...a,{title:"",url:""}]);return f.jsx(A6,{maxWidth:"md",sx:{mt:6,fontFamily:"Gabarito, sans-serif"},children:f.jsxs(fn,{elevation:3,sx:{p:4,borderRadius:2,backgroundColor:"#F7F9FC"},children:[f.jsx(ce,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontFamily:"Staatliches, sans-serif",textAlign:"center"},children:"Edit Message"}),f.jsx(ts,{sx:{mb:3,backgroundColor:"#DADADA"}}),f.jsxs(ge,{sx:{mt:4},children:[f.jsx(lI,{value:l,onChange:c}),f.jsx(Bt,{label:"Subject",fullWidth:!0,value:n,onChange:y=>t(y.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),f.jsx(Bt,{label:"Description",fullWidth:!0,multiline:!0,rows:4,value:r,onChange:y=>i(y.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),f.jsx(ce,{variant:"h6",sx:{mb:2},children:""}),a.map((y,A)=>f.jsxs(ge,{sx:{mb:2,pl:2,borderLeft:"4px solid #CDDAFF"},children:[f.jsx(Bt,{label:`URL Title ${A+1}`,fullWidth:!0,value:y.title,onChange:w=>m(A,"title",w.target.value),sx:{mb:1}}),f.jsx(Bt,{label:`URL Link ${A+1}`,fullWidth:!0,value:y.url,onChange:w=>m(A,"url",w.target.value)})]},A)),f.jsx(mt,{variant:"outlined",onClick:x,startIcon:f.jsx("span",{style:{fontSize:"1.2rem",lineHeight:1},children:"+"}),sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",color:"#0B53C0",padding:"8px 16px",textTransform:"none","&:hover":{backgroundColor:"rgba(11, 83, 192, 0.1)",color:"#083B80"}},children:"Add Link"}),f.jsx(ts,{sx:{width:"100%",my:2,backgroundColor:"#DADADA"}}),f.jsxs(ge,{sx:{display:"flex",justifyContent:"space-between"},children:[f.jsx(mt,{variant:"outlined",onClick:b,className:"cancel-button",children:"Cancel"}),f.jsx(mt,{variant:"outlined",onClick:g,className:"save-button",children:"Save"})]})]})]})})},_v=e=>e?typeof e=="object"&&"toDate"in e?e.toDate().toLocaleString():typeof e=="object"&&"seconds"in e?new Date(e.seconds*1e3).toLocaleString():"N/A":"No data available",phe=e=>e?typeof e=="object"&&"toDate"in e?e.toDate():typeof e=="object"&&"seconds"in e?new Date(e.seconds*1e3):null:null,IK=({users:e})=>{const n=(r,i)=>r?{backgroundColor:"#6a1b9a",color:"#fff"}:i?{backgroundColor:"#1976d2",color:"#fff"}:{backgroundColor:"#e0e0e0",color:"#000"},t=r=>r?Object.entries(r).map(([i,a])=>f.jsx(Dn,{label:`${a.isCourseAdmin?"[Course Admin] ":""}${a.number||"N/A"} - ${a.title||"Untitled Course"}`,sx:{backgroundColor:a.isCourseAdmin?"#ffcccb":"#d4edda",color:a.isCourseAdmin?"#b71c1c":"#155724",margin:"4px",fontSize:"0.9rem",fontWeight:"bold",borderRadius:"8px",padding:"4px 8px"}},i)):"None";return f.jsx(Eu,{component:fn,children:f.jsxs(_u,{children:[f.jsx(ku,{children:f.jsxs(Fi,{children:[f.jsx(ft,{children:"ID"}),f.jsx(ft,{children:"Status"}),f.jsx(ft,{children:"Last Login"}),f.jsx(ft,{children:"Courses"})]})}),f.jsx(ju,{children:e.map(r=>f.jsxs(Fi,{sx:{"&:hover":{backgroundColor:"#f5f5f5",cursor:"pointer"}},children:[f.jsx(ft,{children:f.jsx(Dn,{label:r.id,color:r.isSuperAdmin?"secondary":r.isAdmin?"primary":"default",sx:{fontSize:"0.9rem",fontWeight:"bold",padding:"6px 12px",borderRadius:"16px",...n(r.isSuperAdmin,r.isAdmin)}})}),f.jsx(ft,{children:f.jsx(Dn,{label:r.isSuperAdmin?"Super Admin":r.isAdmin?"Educator":"Student",color:r.isSuperAdmin?"secondary":r.isAdmin?"primary":"default"})}),f.jsx(ft,{children:_v(r.lastLogin)}),f.jsx(ft,{children:t(r.classes)||f.jsx(Dn,{label:"No courses assigned",sx:{backgroundColor:"#e0e0e0",color:"#000"}})})]},r.id))})]})})},DK=({userId:e,onUserDeleted:n})=>{const[t,r]=X.useState(!1),[i,a]=X.useState(!1),s=Jn(),l=()=>{r(!0)},c=()=>{r(!1)},d=async()=>{a(!0);try{const h=xn(s,"users",e);await E6(h),n(!0)}catch(h){console.error("Error deleting user:",h),n(!1)}a(!1),r(!1)};return f.jsxs(f.Fragment,{children:[f.jsx(mt,{variant:"text",color:"error",onClick:l,children:"Delete User Account"}),f.jsxs(Xi,{open:t,onClose:c,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[f.jsx(pa,{id:"alert-dialog-title",children:"Confirm Deletion"}),f.jsx(Zi,{children:f.jsx(Fl,{id:"alert-dialog-description",children:"Are you sure you want to delete this user account? This action cannot be undone."})}),f.jsxs(ma,{children:[f.jsx(mt,{onClick:c,color:"primary",disabled:i,children:"Cancel"}),f.jsx(mt,{onClick:d,color:"error",autoFocus:!0,disabled:i,children:i?f.jsx(Gr,{size:24}):"Delete"})]})]})]})},LK=({userId:e,userClasses:n,courses:t,onCourseAssigned:r})=>{const[i,a]=X.useState(""),[s,l]=X.useState(!1),[c,d]=X.useState(!1),[h,g]=X.useState(""),[b,m]=X.useState(!1),[x,y]=X.useState(!1),[A,w]=X.useState(!1),[C,j]=X.useState(!1),F=Jn(),z=async()=>{if(!e||!i){g("Please enter a User ID and select a course."),w(!1),m(!0);return}d(!0);try{const q=xn(F,"users",e),Q=t.find(T=>T.id===i);if(Q){const T=xn(F,"courses",i),O=await Oa(T),R=O.exists()?O.data():null,N=(R==null?void 0:R.createdAt)||(R==null?void 0:R.timestamp)||new Date;await Wr(q,{[`classes.${i}`]:{number:Q.number,title:Q.title,isCourseAdmin:s,courseCreatedAt:N,enrolledAt:new Date}}),g(`Course ${Q.title} assigned successfully to user ${e}${s?" as Course Admin.":"."}`),r(i,{number:Q.number,title:Q.title,isCourseAdmin:s}),j(!0),setTimeout(()=>j(!1),1e3),y(!1),a(""),l(!1),w(!0)}else g("Selected course not found."),w(!1)}catch(q){console.error("Error assigning course:",q),g("Error assigning course."),w(!1)}d(!1),m(!0)},L=()=>{m(!1)},k=()=>y(!0),M=()=>y(!1);return f.jsxs(f.Fragment,{children:[f.jsxs(ge,{sx:{display:"flex",alignItems:"center",mt:2,p:2,borderRadius:2,transition:"background-color 0.3s ease",backgroundColor:C?"#e8f5e8":"transparent",border:C?"2px solid #4caf50":"2px solid transparent"},children:[f.jsx(ce,{variant:"h6",component:"h2",sx:{mr:2},children:"Current Courses:"}),f.jsx(ge,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:n&&Object.keys(n).length>0?Object.values(n).map((q,Q)=>f.jsx(Dn,{label:`${q.isCourseAdmin?"[Course Admin] ":""}${q.number} - ${q.title}`,style:{backgroundColor:q.isCourseAdmin?"#ffcccb":"#d4edda",color:q.isCourseAdmin?"#b71c1c":"#155724",margin:"4px"}},Q)):f.jsx(ce,{children:"No courses assigned."})}),f.jsxs(Fc,{sx:{minWidth:200,mr:2},children:[f.jsx(Pc,{children:"Course"}),f.jsx(Rl,{value:i,onChange:q=>a(q.target.value),children:t.map(q=>f.jsx(Zn,{value:q.id,children:`${q.number} - ${q.title}`},q.id))})]}),f.jsxs(Fc,{sx:{mr:2},children:[f.jsx(Pc,{children:"Role"}),f.jsxs(Rl,{value:s?"admin":"student",onChange:q=>l(q.target.value==="admin"),children:[f.jsx(Zn,{value:"admin",children:"Course Admin"}),f.jsx(Zn,{value:"student",children:"Student"})]})]}),f.jsx(mt,{variant:"contained",color:"primary",onClick:k,disabled:c||!i,children:c?f.jsx(Gr,{size:24}):"Assign Course"})]}),f.jsx(rl,{open:b,autoHideDuration:6e3,onClose:L,children:f.jsx(vr,{onClose:L,severity:A?"success":"error",children:h})}),f.jsxs(Xi,{open:x,onClose:M,"aria-labelledby":"assign-dialog-title",children:[f.jsx(pa,{id:"assign-dialog-title",children:"Assign Course"}),f.jsx(Zi,{children:f.jsxs(Fl,{children:["Are you sure you want to assign the course ",i," to this user",s?" as a Course Admin?":"?"]})}),f.jsxs(ma,{children:[f.jsx(mt,{onClick:M,color:"primary",children:"Cancel"}),f.jsx(mt,{onClick:z,color:"primary",autoFocus:!0,children:"Confirm"})]})]})]})},RK=()=>{const[e,n]=X.useState(""),[t,r]=X.useState(!1),[i,a]=X.useState(!1),[s,l]=X.useState(void 0),[c,d]=X.useState(!1),[h,g]=X.useState(""),[b,m]=X.useState(!1),[x,y]=X.useState(!1),[A,w]=X.useState(!1),[C,j]=X.useState([]),[F,z]=X.useState(""),[L,k]=X.useState([]),M=Jn(),[q,Q]=X.useState(""),T=ea(),O=()=>{T("/")};X.useEffect(()=>{(async()=>{try{const ne=wn(M,"courses"),ye=(await mi(ne)).docs.map(Ce=>({id:Ce.id,number:Ce.data().number,title:Ce.data().title}));k(ye)}catch(ne){console.error("Error fetching courses:",ne)}})()},[M]);const R=async()=>{if(e){d(!0),a(!1);try{const Z=xn(M,"users",e),ne=await Oa(Z);if(ne.exists()){const ve=ne.data();r(ve.isAdmin),l(ve.classes),a(!0)}else g("User not found."),m(!0)}catch(Z){console.error("Error fetching user:",Z),g("Error fetching user."),m(!0)}d(!1)}},N=X.useCallback(async()=>{d(!0);try{const Z=wn(M,"users"),ve=(await mi(Z)).docs.map(ye=>({id:ye.id,...ye.data()}));j(ve)}catch(Z){console.error("Error fetching users:",Z),g("Error fetching users."),m(!0)}d(!1)},[M]);X.useEffect(()=>{N()},[N]);const K=async()=>{try{const Z=xn(M,"users",e);await Wr(Z,{isAdmin:A}),g(`User ${A?"granted":"revoked"} admin privileges successfully.`),r(A);const ne=C.map(ve=>ve.id===e?{...ve,isAdmin:A}:ve);j(ne)}catch(Z){console.error("Error updating user:",Z),g("Error updating user.")}m(!0),y(!1)},H=Z=>{Z.preventDefault(),i?(w(!t),y(!0)):(g("User not found."),m(!0))},G=()=>{m(!1)},ee=()=>{y(!1)},le=Z=>{z(Z.target.value)},Y=Z=>F?Z.classes&&F in Z.classes:!0,te=Z=>q==="superAdmin"?Z.isSuperAdmin:q==="educator"?Z.isAdmin&&!Z.isSuperAdmin:q==="student"?!Z.isAdmin&&!Z.isSuperAdmin:!0,U=Z=>Z.filter(ne=>Y(ne)&&te(ne)),B=Z=>{Z?(g("User account deleted successfully."),a(!1),n(""),N()):g("Error deleting user account."),m(!0)},re=(Z,ne)=>{l(ve=>({...ve,[Z]:ne}))};return f.jsxs(ge,{sx:{padding:3},children:[f.jsx(ge,{sx:{display:"flex",alignItems:"center"},children:f.jsx(mt,{variant:"text",onClick:O,sx:{mr:2},children:" Home Page"})}),f.jsx(ce,{variant:"h4",component:"h1",gutterBottom:!0,children:"User Management"}),f.jsx(ce,{variant:"body1",gutterBottom:!0,children:"Use this page to view and manage user permissions. Enter the User ID to grant or revoke admin privileges, or delete user account."}),f.jsx(ge,{sx:{display:"flex",justifyContent:"flex-start"},children:f.jsxs("form",{onSubmit:H,children:[f.jsx(Bt,{label:"User ID",value:e,onChange:Z=>n(Z.target.value),fullWidth:!0,required:!0,margin:"normal",onKeyPress:Z=>{Z.key==="Enter"&&(R(),Z.preventDefault())},sx:{minWidth:"300px"}}),c?f.jsx(Gr,{}):i&&f.jsxs(fn,{variant:"outlined",sx:{padding:2,borderRadius:"15px",mb:1},children:[f.jsxs(ge,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",border:"1px solid #e0e0e0",padding:"16px",borderRadius:"8px",backgroundColor:"#f9f9f9",mb:2},children:[f.jsxs(ge,{sx:{display:"flex",alignItems:"center"},children:[f.jsx(ce,{variant:"h6",component:"h2",sx:{mr:2},children:"Current Status:"}),f.jsx(Dn,{label:t?"Educator (Admin)":"Student (Non-Admin)",color:t?"primary":"default",sx:{fontSize:"0.9rem",fontWeight:"bold",padding:"6px 12px",borderRadius:"16px",backgroundColor:t?"#1976d2":"#e0e0e0",color:t?"#fff":"#000"}})]}),f.jsx(mt,{type:"submit",variant:"contained",color:t?"secondary":"primary",sx:{padding:"8px 16px",textTransform:"none",fontSize:"0.9rem",borderRadius:"8px",fontWeight:"bold",boxShadow:"none","&:hover":{boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.2)"}},children:t?"Revoke Educator Access":"Grant Educator Access"})]}),f.jsx(LK,{userId:e,userClasses:s,courses:L,onCourseAssigned:re}),f.jsx(DK,{userId:e,onUserDeleted:B})]})]})}),f.jsx(ce,{variant:"h5",component:"h2",gutterBottom:!0,children:"Current Users"}),f.jsxs(Fc,{fullWidth:!0,sx:{mb:3,width:"25%"},children:[f.jsx(Pc,{children:"Filter by Course"}),f.jsxs(Rl,{value:F,onChange:le,children:[f.jsx(Zn,{value:"",children:"All Courses"}),L.map(Z=>f.jsx(Zn,{value:Z.id,children:Z.number},Z.id))]})]}),f.jsxs(Fc,{fullWidth:!0,sx:{mb:3,width:"25%"},children:[f.jsx(Pc,{children:"User Status"}),f.jsxs(Rl,{value:q,onChange:Z=>Q(Z.target.value),children:[f.jsx(Zn,{value:"",children:"All Statuses"}),f.jsx(Zn,{value:"superAdmin",children:"Super Admin"}),f.jsx(Zn,{value:"educator",children:"Educator"}),f.jsx(Zn,{value:"student",children:"Student"})]})]}),f.jsx(IK,{users:U(C)}),f.jsxs(Xi,{open:x,onClose:ee,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[f.jsx(pa,{id:"alert-dialog-title",children:t?"Revoke Admin Privileges":"Grant Admin Privileges"}),f.jsx(Zi,{children:f.jsxs(Fl,{id:"alert-dialog-description",children:["Are you sure you want to ",t?"revoke":"grant"," admin privileges for this user?"]})}),f.jsxs(ma,{children:[f.jsx(mt,{onClick:ee,color:"primary",children:"Cancel"}),f.jsx(mt,{onClick:K,color:"primary",autoFocus:!0,children:"Confirm"})]})]}),f.jsx(rl,{open:b,autoHideDuration:6e3,onClose:G,children:f.jsx(vr,{onClose:G,severity:"info",children:h})})]})},MK=({onCourseAdded:e})=>{const[n,t]=X.useState(""),{userDetails:r,setUserDetails:i}=Ai(),a=Jn(),s=c=>{t(c.target.value)},l=async()=>{try{const h=(await mi(wn(a,"courses"))).docs.map(g=>({id:g.id,passcode:g.data().passcode,number:g.data().number,title:g.data().title})).find(g=>g.passcode===n);if(h){if(r)if((r.classes||{})[h.id])e(`Course access for ${h.number} is already added to your account!`,"info");else{const b=xn(a,"users",r.uid),m=xn(a,"courses",h.id),x=await Oa(m),y=x.exists()?x.data():null,A=(y==null?void 0:y.createdAt)||(y==null?void 0:y.timestamp)||new Date;await Wr(b,{[`classes.${h.id}`]:{number:h.number,title:h.title,isCourseAdmin:!1,courseCreatedAt:A,enrolledAt:new Date}});const w=await Oa(b);if(w.exists()){const C=w.data();i({...C,uid:r.uid})}e(`Course access for ${h.number} added to your account successfully!`,"success"),t("")}}else e("Invalid passcode. Course not found.","error")}catch(c){console.error("Error updating document: ",c),e("Error adding course access to your account.","error")}};return f.jsx("div",{children:f.jsxs(vt,{container:!0,spacing:2,sx:{maxWidth:"50%"},children:[f.jsx(vt,{item:!0,xs:10,children:f.jsx(Bt,{label:"Enter Course Passcode",value:n,onChange:s,fullWidth:!0,sx:{mb:2}})}),f.jsx(vt,{item:!0,xs:2,sx:{display:"flex",alignItems:"center"},children:f.jsx(mt,{variant:"contained",onClick:l,children:"Add Course"})})]})})};var x1={},t4;function FK(){if(t4)return x1;t4=1;var e=Hd();Object.defineProperty(x1,"__esModule",{value:!0}),x1.default=void 0;var n=e(Vd()),t=Wd();return x1.default=(0,n.default)((0,t.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle"),x1}var PK=FK();const zK=ns(PK),qK=({userDetails:e,getAccountStatus:n,renderCourses:t})=>f.jsxs(fn,{elevation:3,sx:{padding:3,borderRadius:"12px",backgroundColor:"#ffffff",maxWidth:"500px",margin:"auto"},children:[f.jsx(ge,{sx:{display:"flex",justifyContent:"center",mb:2},children:f.jsx(oR,{sx:{width:72,height:72,bgcolor:"#1054c4"},children:f.jsx(zK,{sx:{fontSize:48,color:"#f8f4fc"}})})}),f.jsxs(ge,{sx:{display:"flex",flexDirection:"column",gap:1,alignItems:"left"},children:[f.jsxs(ge,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(ce,{sx:{fontWeight:"bold"},children:"User ID:"}),f.jsx(Dn,{label:e.uid,variant:"outlined",sx:{fontSize:"14px",fontWeight:"bold",bgcolor:"#E3F2FD",color:"#1565C0"}})]}),f.jsxs(ge,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(ce,{sx:{fontWeight:"bold"},children:"Account Status:"}),f.jsx(Dn,{label:n(),variant:"outlined",sx:{fontSize:"14px",fontWeight:"bold",bgcolor:"#C8E6C9",color:"#2E7D32"}})]}),f.jsxs(ge,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(ce,{sx:{fontWeight:"bold"},children:"Last Login:"}),f.jsx(Dn,{label:_v(e.lastLogin),variant:"outlined",sx:{fontSize:"14px",fontWeight:"bold",bgcolor:"#FFF3E0",color:"#EF6C00"}})]})]}),f.jsx(ts,{sx:{my:2}}),f.jsx(ce,{sx:{fontWeight:"bold",mb:1},children:"Current Courses:"}),f.jsx(ge,{sx:{display:"flex",flexWrap:"wrap"},children:t()})]}),BK=()=>{const{userDetails:e,setUserDetails:n}=Ai(),[t,r]=X.useState(!1),[i,a]=X.useState(!1),[s,l]=X.useState(!1),[c,d]=X.useState(""),[h,g]=X.useState("success"),b=ea(),m=Jn(),x=()=>{b("/")},y=()=>{e!=null&&e.isAdmin||b("/request-educator-permissions")},A=(L,k)=>{l(!0),d(L),g(k),k==="success"&&e&&(async()=>{const q=xn(m,"users",e.uid),Q=await Oa(q);if(Q.exists()){const T=Q.data();n({...T,uid:e.uid})}})()},w=()=>{r(!t)},C=()=>{a(!i)},j=()=>e!=null&&e.isSuperAdmin?"Super Admin":e!=null&&e.isAdmin?"Educator":"Student",F=()=>{l(!1)},z=()=>e!=null&&e.classes?Object.entries(e.classes).map(([L,k])=>f.jsx(Dn,{label:`${k.number} - ${k.title}${k.isCourseAdmin?" (Admin)":""}`,variant:"outlined",sx:{margin:"4px",fontSize:"14px",fontWeight:"bold",bgcolor:k.isCourseAdmin?"#FFCDD2":"#E3F2FD",color:k.isCourseAdmin?"#C62828":"#1565C0"}},L)):"None";return f.jsxs(ge,{className:"profile-container",children:[f.jsx(mt,{variant:"text",onClick:x,className:"profile-button",children:" Home Page"}),f.jsx(ce,{className:"webpage_title",children:"My Account"}),e&&f.jsx(qK,{userDetails:e,getAccountStatus:j,renderCourses:z}),!(e!=null&&e.isAdmin)&&f.jsxs(ge,{className:"profile-switch-container",children:[f.jsx(Nd,{control:f.jsx(Td,{checked:t,onChange:w}),label:"Enroll in a Course (As a Student)"}),t&&f.jsxs(ge,{sx:{mt:2},children:[f.jsx(ce,{variant:"body1",className:"profile-text",children:"Use the area below to add a course access to your account."}),f.jsx(MK,{onCourseAdded:A})]})]}),f.jsxs(ge,{className:"profile-advanced-section",children:[f.jsx(Nd,{control:f.jsx(Td,{checked:i,onChange:C}),label:"Advanced"}),i&&f.jsx(f.Fragment,{children:f.jsx(ge,{sx:{mt:2},children:f.jsx(mt,{variant:"text",onClick:y,disabled:e==null?void 0:e.isAdmin,className:"profile-button",children:e!=null&&e.isAdmin?f.jsx(ce,{children:f.jsx("span",{className:"success-text",children:" Educator Account Approved"})}):"Request Educator Permissions"})})})]}),f.jsx(rl,{open:s,autoHideDuration:6e3,onClose:F,children:f.jsx(vr,{onClose:F,severity:h,sx:{width:"100%"},children:c})})]})},UK=({selectedCourse:e,selectedCourseDetails:n,onStudentChange:t})=>{const[r,i]=X.useState(""),[a,s]=X.useState(!1),[l,c]=X.useState(""),[d,h]=X.useState(!1),[g,b]=X.useState(!1),m=Jn(),x=async()=>{if(!r||!e){c("Please enter a Student ID and select a course."),h(!0);return}s(!0);try{const C=xn(m,"users",r),j=await Oa(C);if(j.exists()){const z=j.data().classes||{};e in z?b(!0):(c(`Student ${r} is not enrolled in course ${(n==null?void 0:n.number)||e}, cannot remove.`),h(!0))}else c(`Student ${r} does not exist.`),h(!0)}catch(C){console.error("Error checking student course:",C),c("Error checking student course."),h(!0)}s(!1)},y=async()=>{s(!0);try{const C=xn(m,"users",r);await Wr(C,{[`classes.${e}`]:XR()}),c(`Student ${r} removed from course ${(n==null?void 0:n.number)||e}.`),i(""),t()}catch(C){console.error("Error updating student course:",C),c("Error updating student course.")}s(!1),h(!0),b(!1)},A=()=>{h(!1)},w=()=>{b(!1)};return f.jsxs(ge,{sx:{mt:4},children:[f.jsxs(ce,{variant:"h6",component:"h2",children:["Remove Students from ",n?`${n.number}`:e]}),f.jsxs(ge,{sx:{display:"flex",alignItems:"center",mt:2},children:[f.jsx(Bt,{label:"Student ID",value:r,onChange:C=>i(C.target.value),fullWidth:!0,required:!0,margin:"normal",sx:{mr:2}}),f.jsx(mt,{variant:"contained",color:"primary",onClick:x,disabled:a,children:a?f.jsx(Gr,{size:24}):"Remove"})]}),f.jsx(rl,{open:d,autoHideDuration:6e3,onClose:A,children:f.jsx(vr,{onClose:A,severity:"info",children:l})}),f.jsxs(Xi,{open:g,onClose:w,"aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",children:[f.jsx(pa,{id:"confirm-dialog-title",children:"Confirm Removal"}),f.jsx(Zi,{children:f.jsx(Fl,{id:"confirm-dialog-description",children:"Are you sure you want to remove the student from the course? This action cannot be undone."})}),f.jsxs(ma,{children:[f.jsx(mt,{onClick:w,color:"primary",children:"Cancel"}),f.jsx(mt,{onClick:y,color:"secondary",autoFocus:!0,children:"Confirm"})]})]})]})},$K=({students:e,selectedCourse:n})=>{const t=()=>{if(e.length>0){const r=["User ID","Courses","Last Login"],i=e.map(d=>[`"${d.id||d.uid}"`,`"${d.classes?Object.values(d.classes).map(h=>`${h.number} - ${h.title}`).join(", "):"None"}"`,`"${_v(d.lastLogin)}"`]),a=[r.join(","),...i.map(d=>d.join(","))].join(`
`),s=new Blob([a],{type:"text/csv;charset=utf-8;"}),l=URL.createObjectURL(s),c=document.createElement("a");c.href=l,c.setAttribute("download",`${n}_students.csv`),document.body.appendChild(c),c.click(),document.body.removeChild(c)}};return f.jsx(ge,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:f.jsx(mt,{variant:"contained",color:"primary",onClick:t,disabled:e.length===0,sx:{background:"linear-gradient(45deg, #3f51b5 30%, #1e88e5 90%)",borderRadius:3,boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)",color:"white",padding:"0 30px",fontSize:"16px",fontWeight:"bold",textTransform:"none","&:hover":{background:"linear-gradient(45deg, #1e88e5 30%, #3f51b5 90%)",boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)"}},children:"Export as CSV"})})},HK=({userClasses:e,selectedCourse:n,onCourseChange:t})=>f.jsx(ge,{sx:{mb:3},children:f.jsxs(Fc,{fullWidth:!0,variant:"outlined",children:[f.jsx(Pc,{id:"course-selector-label",children:"Select a Course"}),f.jsx(Rl,{"aria-label":"Select a course",labelId:"course-selector-label",value:n,onChange:r=>t(r.target.value),label:"Select a Course",children:Object.entries(e).map(([r,i])=>f.jsx(Zn,{value:r,children:`${i.number} - ${i.title}`},r))})]})}),WK=({selectedCourse:e,selectedCourseDetails:n,onCourseUpdate:t})=>{const[r,i]=X.useState(!1),[a,s]=X.useState(""),[l,c]=X.useState(""),d=Jn(),{userDetails:h,refreshUserDetails:g}=Ai(),b=()=>{n&&(s(n.number||""),c(n.title||"")),i(!0)},m=()=>{i(!1),x()},x=()=>{s(""),c("")},y=async()=>{if(!e||!(h!=null&&h.uid)){console.error("Selected course or user details are missing.");return}try{const A=xn(d,"courses",e);await Wr(A,{number:a,title:l});const w=xn(d,"users",h.uid),C=await Oa(w);if(C.exists()){const j=C.data();if(j.classes&&j.classes[e]){const F=j.classes[e],z={...j.classes,[e]:{...F,number:a,title:l}};await Wr(w,{classes:z})}}await g(),t(),m()}catch(A){console.error("Error updating course:",A)}};return f.jsxs(ge,{sx:{mt:2},children:[f.jsx(mt,{variant:"outlined",onClick:b,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#4CAF50",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#388E3C",transform:"scale(1.03)"}},children:"Edit Course Details"}),f.jsxs(Xi,{open:r,onClose:m,children:[f.jsx(pa,{children:"Edit Course Details"}),f.jsxs(Zi,{children:[f.jsx(Bt,{label:"Course Number",value:a,onChange:A=>s(A.target.value),fullWidth:!0,sx:{mb:2}}),f.jsx(Bt,{label:"Course Title",value:l,onChange:A=>c(A.target.value),fullWidth:!0})]}),f.jsxs(ma,{children:[f.jsx(mt,{onClick:m,children:"Cancel"}),f.jsx(mt,{onClick:y,variant:"contained",color:"primary",disabled:!a||!l,children:"Save"})]})]})]})},VK=({selectedCourse:e,onInfoUpdate:n})=>{var R,N,K,H,G,ee,le,Y,te,U,B,re,Z;const[t,r]=X.useState(!1),[i,a]=X.useState(!1),[s,l]=X.useState(null),[c,d]=X.useState({}),[h,g]=X.useState("contact"),b=Jn();X.useEffect(()=>{t&&e&&m()},[t,e]);const m=async()=>{try{a(!0);const ne=xn(b,"courses",e),ve=await Oa(ne);if(ve.exists()){const ye=ve.data();d(ye.additionalInfo||{})}}catch(ne){console.error("Error fetching course info:",ne),l("Failed to load course information")}finally{a(!1)}},x=()=>{r(!0),l(null)},y=()=>{r(!1),l(null)},A=async()=>{try{a(!0);const ne=xn(b,"courses",e);await Wr(ne,{additionalInfo:{...c,lastUpdated:new Date}}),n(),y()}catch(ne){console.error("Error updating course info:",ne),l("Failed to save course information")}finally{a(!1)}},w=(ne,ve)=>{d(ye=>({...ye,contactInfo:{...ye.contactInfo,[ne]:ve}}))},C=(ne,ve)=>{d(ye=>({...ye,policies:{...ye.policies,[ne]:ve}}))},j=()=>{d(ne=>({...ne,textbooks:[...ne.textbooks||[],{title:"",author:"",edition:"",isbn:"",required:!0}]}))},F=(ne,ve,ye)=>{d(Ce=>{var Oe;return{...Ce,textbooks:(Oe=Ce.textbooks)==null?void 0:Oe.map((Ie,$e)=>$e===ne?{...Ie,[ve]:ye}:Ie)}})},z=ne=>{d(ve=>{var ye;return{...ve,textbooks:(ye=ve.textbooks)==null?void 0:ye.filter((Ce,Oe)=>Oe!==ne)}})},L=()=>{d(ne=>({...ne,gradingPolicy:[...ne.gradingPolicy||[],{component:"",percentage:0,description:""}]}))},k=(ne,ve,ye)=>{d(Ce=>{var Oe;return{...Ce,gradingPolicy:(Oe=Ce.gradingPolicy)==null?void 0:Oe.map((Ie,$e)=>$e===ne?{...Ie,[ve]:ye}:Ie)}})},M=ne=>{d(ve=>{var ye;return{...ve,gradingPolicy:(ye=ve.gradingPolicy)==null?void 0:ye.filter((Ce,Oe)=>Oe!==ne)}})},q=(ne,ve)=>{d(ye=>{var Ce;return{...ye,[ne]:{...ye[ne],[ve]:[...((Ce=ye[ne])==null?void 0:Ce[ve])||[],""]}}})},Q=(ne,ve,ye,Ce)=>{d(Oe=>{var Ie;return{...Oe,[ne]:{...Oe[ne],[ve]:(((Ie=Oe[ne])==null?void 0:Ie[ve])||[]).map(($e,We)=>We===ye?Ce:$e)}}})},T=(ne,ve,ye)=>{d(Ce=>{var Oe;return{...Ce,[ne]:{...Ce[ne],[ve]:(((Oe=Ce[ne])==null?void 0:Oe[ve])||[]).filter((Ie,$e)=>$e!==ye)}}})},O=ne=>(ve,ye)=>{g(ye?ne:!1)};return f.jsxs(ge,{sx:{mt:2},children:[f.jsx(mt,{variant:"outlined",onClick:x,startIcon:f.jsx(vu,{}),sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#2196F3",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#1976D2",transform:"scale(1.03)"}},children:"Edit Additional Info"}),f.jsxs(Xi,{open:t,onClose:y,maxWidth:"md",fullWidth:!0,children:[f.jsx(pa,{children:f.jsx(ce,{variant:"h5",children:"Edit Additional Course Information"})}),f.jsxs(Zi,{sx:{minHeight:"500px"},children:[s&&f.jsx(vr,{severity:"error",sx:{mb:2},children:s}),f.jsxs(_d,{expanded:h==="contact",onChange:O("contact"),children:[f.jsx(kd,{expandIcon:f.jsx(Vo,{}),children:f.jsxs(ge,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(lR,{color:"primary"}),f.jsx(ce,{variant:"h6",children:"Contact Information"})]})}),f.jsx(jd,{children:f.jsxs(vt,{container:!0,spacing:2,children:[f.jsx(vt,{item:!0,xs:12,md:6,children:f.jsx(Bt,{label:"Email",fullWidth:!0,value:((R=c.contactInfo)==null?void 0:R.email)||"",onChange:ne=>w("email",ne.target.value)})}),f.jsx(vt,{item:!0,xs:12,md:6,children:f.jsx(Bt,{label:"Phone",fullWidth:!0,value:((N=c.contactInfo)==null?void 0:N.phone)||"",onChange:ne=>w("phone",ne.target.value)})}),f.jsx(vt,{item:!0,xs:12,md:6,children:f.jsx(Bt,{label:"Office",fullWidth:!0,value:((K=c.contactInfo)==null?void 0:K.office)||"",onChange:ne=>w("office",ne.target.value)})}),f.jsx(vt,{item:!0,xs:12,md:6,children:f.jsx(Bt,{label:"Office Hours",fullWidth:!0,value:((H=c.contactInfo)==null?void 0:H.officeHours)||"",onChange:ne=>w("officeHours",ne.target.value)})}),f.jsx(vt,{item:!0,xs:12,children:f.jsx(Bt,{label:"Website",fullWidth:!0,value:((G=c.contactInfo)==null?void 0:G.website)||"",onChange:ne=>w("website",ne.target.value)})})]})})]}),f.jsxs(_d,{expanded:h==="textbooks",onChange:O("textbooks"),children:[f.jsx(kd,{expandIcon:f.jsx(Vo,{}),children:f.jsxs(ge,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(uR,{color:"primary"}),f.jsx(ce,{variant:"h6",children:"Textbooks & Resources"})]})}),f.jsxs(jd,{children:[f.jsx(ge,{sx:{mb:2},children:f.jsx(mt,{startIcon:f.jsx(bu,{}),onClick:j,variant:"outlined",children:"Add Textbook"})}),(ee=c.textbooks)==null?void 0:ee.map((ne,ve)=>f.jsx(ge,{sx:{mb:3,p:2,border:"1px solid #ddd",borderRadius:1},children:f.jsxs(vt,{container:!0,spacing:2,children:[f.jsx(vt,{item:!0,xs:12,children:f.jsx(Bt,{label:"Title",fullWidth:!0,value:ne.title,onChange:ye=>F(ve,"title",ye.target.value)})}),f.jsx(vt,{item:!0,xs:12,md:4,children:f.jsx(Bt,{label:"Author",fullWidth:!0,value:ne.author||"",onChange:ye=>F(ve,"author",ye.target.value)})}),f.jsx(vt,{item:!0,xs:12,md:4,children:f.jsx(Bt,{label:"Edition",fullWidth:!0,value:ne.edition||"",onChange:ye=>F(ve,"edition",ye.target.value)})}),f.jsx(vt,{item:!0,xs:12,md:4,children:f.jsx(Bt,{label:"ISBN",fullWidth:!0,value:ne.isbn||"",onChange:ye=>F(ve,"isbn",ye.target.value)})}),f.jsx(vt,{item:!0,xs:12,children:f.jsxs(ge,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsx(Nd,{control:f.jsx(Td,{checked:ne.required,onChange:ye=>F(ve,"required",ye.target.checked)}),label:"Required"}),f.jsx(Cn,{onClick:()=>z(ve),color:"error",children:f.jsx(Ed,{})})]})})]})},ve))]})]}),f.jsxs(_d,{expanded:h==="grading",onChange:O("grading"),children:[f.jsx(kd,{expandIcon:f.jsx(Vo,{}),children:f.jsxs(ge,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(cR,{color:"primary"}),f.jsx(ce,{variant:"h6",children:"Grading Policy"})]})}),f.jsxs(jd,{children:[f.jsx(ge,{sx:{mb:2},children:f.jsx(mt,{startIcon:f.jsx(bu,{}),onClick:L,variant:"outlined",children:"Add Grading Component"})}),(le=c.gradingPolicy)==null?void 0:le.map((ne,ve)=>f.jsx(ge,{sx:{mb:2,p:2,border:"1px solid #ddd",borderRadius:1},children:f.jsxs(vt,{container:!0,spacing:2,children:[f.jsx(vt,{item:!0,xs:12,md:4,children:f.jsx(Bt,{label:"Component",fullWidth:!0,value:ne.component,onChange:ye=>k(ve,"component",ye.target.value)})}),f.jsx(vt,{item:!0,xs:12,md:3,children:f.jsx(Bt,{label:"Percentage",type:"number",fullWidth:!0,value:ne.percentage,onChange:ye=>k(ve,"percentage",parseInt(ye.target.value)||0),inputProps:{min:0,max:100}})}),f.jsx(vt,{item:!0,xs:12,md:4,children:f.jsx(Bt,{label:"Description",fullWidth:!0,value:ne.description||"",onChange:ye=>k(ve,"description",ye.target.value)})}),f.jsx(vt,{item:!0,xs:12,md:1,children:f.jsx(Cn,{onClick:()=>M(ve),color:"error",children:f.jsx(Ed,{})})})]})},ve))]})]}),f.jsxs(_d,{expanded:h==="policies",onChange:O("policies"),children:[f.jsx(kd,{expandIcon:f.jsx(Vo,{}),children:f.jsxs(ge,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(dR,{color:"primary"}),f.jsx(ce,{variant:"h6",children:"Course Policies"})]})}),f.jsx(jd,{children:f.jsx(vt,{container:!0,spacing:2,children:[{key:"attendance",label:"Attendance Policy"},{key:"lateWork",label:"Late Work Policy"},{key:"academicIntegrity",label:"Academic Integrity"},{key:"accommodations",label:"Accommodations"},{key:"communication",label:"Communication Policy"},{key:"safety",label:"Safety Policy"},{key:"groupWork",label:"Group Work Policy"},{key:"makeupPolicy",label:"Make-up Policy"}].map(({key:ne,label:ve})=>{var ye;return f.jsx(vt,{item:!0,xs:12,children:f.jsx(Bt,{label:ve,multiline:!0,rows:3,fullWidth:!0,value:((ye=c.policies)==null?void 0:ye[ne])||"",onChange:Ce=>C(ne,Ce.target.value)})},ne)})})})]}),f.jsxs(_d,{expanded:h==="lab",onChange:O("lab"),children:[f.jsx(kd,{expandIcon:f.jsx(Vo,{}),children:f.jsxs(ge,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(x6,{color:"primary"}),f.jsx(ce,{variant:"h6",children:"Laboratory Information"})]})}),f.jsx(jd,{children:f.jsxs(vt,{container:!0,spacing:3,children:[f.jsxs(vt,{item:!0,xs:12,children:[f.jsx(ce,{variant:"subtitle2",sx:{mb:1},children:"Safety Requirements"}),f.jsx(ge,{sx:{mb:2},children:f.jsx(mt,{startIcon:f.jsx(bu,{}),onClick:()=>q("labSpecific","safetyRequirements"),size:"small",variant:"outlined",children:"Add Safety Requirement"})}),(te=(Y=c.labSpecific)==null?void 0:Y.safetyRequirements)==null?void 0:te.map((ne,ve)=>f.jsxs(ge,{sx:{display:"flex",gap:1,mb:1},children:[f.jsx(Bt,{fullWidth:!0,size:"small",value:ne,onChange:ye=>Q("labSpecific","safetyRequirements",ve,ye.target.value),placeholder:"Safety requirement"}),f.jsx(Cn,{onClick:()=>T("labSpecific","safetyRequirements",ve),color:"error",size:"small",children:f.jsx(Ed,{})})]},ve))]}),f.jsxs(vt,{item:!0,xs:12,md:6,children:[f.jsx(ce,{variant:"subtitle2",sx:{mb:1},children:"Required Equipment"}),f.jsx(ge,{sx:{mb:2},children:f.jsx(mt,{startIcon:f.jsx(bu,{}),onClick:()=>q("labSpecific","requiredEquipment"),size:"small",variant:"outlined",children:"Add Equipment"})}),(B=(U=c.labSpecific)==null?void 0:U.requiredEquipment)==null?void 0:B.map((ne,ve)=>f.jsxs(ge,{sx:{display:"flex",gap:1,mb:1},children:[f.jsx(Bt,{fullWidth:!0,size:"small",value:ne,onChange:ye=>Q("labSpecific","requiredEquipment",ve,ye.target.value),placeholder:"Equipment item"}),f.jsx(Cn,{onClick:()=>T("labSpecific","requiredEquipment",ve),color:"error",size:"small",children:f.jsx(Ed,{})})]},ve))]}),f.jsxs(vt,{item:!0,xs:12,md:6,children:[f.jsx(ce,{variant:"subtitle2",sx:{mb:1},children:"Dress Code"}),f.jsx(ge,{sx:{mb:2},children:f.jsx(mt,{startIcon:f.jsx(bu,{}),onClick:()=>q("labSpecific","dresscode"),size:"small",variant:"outlined",children:"Add Dress Code Item"})}),(Z=(re=c.labSpecific)==null?void 0:re.dresscode)==null?void 0:Z.map((ne,ve)=>f.jsxs(ge,{sx:{display:"flex",gap:1,mb:1},children:[f.jsx(Bt,{fullWidth:!0,size:"small",value:ne,onChange:ye=>Q("labSpecific","dresscode",ve,ye.target.value),placeholder:"Dress code requirement"}),f.jsx(Cn,{onClick:()=>T("labSpecific","dresscode",ve),color:"error",size:"small",children:f.jsx(Ed,{})})]},ve))]})]})})]})]}),f.jsxs(ma,{children:[f.jsx(mt,{onClick:y,children:"Cancel"}),f.jsx(mt,{onClick:A,variant:"contained",disabled:i,children:i?"Saving...":"Save Changes"})]})]})]})},YK=async(e,n,t)=>{const r=uh(),i=e.name.split(".").pop()||"txt",a=`${e.name.replace(/\.[^/.]+$/,"")}_${Ri()}.${i}`,s=`syllabi/${n}/${a}`,l=xu(r,s);try{const c=await Kf(l,e),d=await Od(c.ref),h={originalFilename:e.name,fileSize:e.size,fileType:e.type||"application/octet-stream",uploadedAt:new Date,uploadedBy:n,courseId:t};return console.log(`Successfully uploaded syllabus file: ${a}`,{size:e.size,type:e.type,url:d}),{url:d,path:c.ref.fullPath,metadata:h}}catch(c){throw console.error("Failed to upload syllabus file:",c),new Error(`Failed to upload syllabus file: ${c instanceof Error?c.message:"Unknown error"}`)}},n4=e=>{switch(e.toLowerCase()){case"application/pdf":return"PDF Document";case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return"Word Document";case"application/vnd.openxmlformats-officedocument.presentationml.presentation":return"PowerPoint Presentation";case"text/plain":return"Text File";default:return"Document"}},r4=e=>{if(e===0)return"0 Bytes";const n=1024,t=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,r)).toFixed(2))+" "+t[r]},GK=({courseId:e})=>{const[n,t]=X.useState(null),[r,i]=X.useState(!0),[a,s]=X.useState(null),[l,c]=X.useState(!1),d=Jn();X.useEffect(()=>{e&&(async()=>{try{i(!0);const m=xn(d,"courses",e),x=await Oa(m);if(x.exists()){const y=x.data();t(y.syllabusFile||null)}else s("Course not found")}catch(m){console.error("Error fetching syllabus file:",m),s("Failed to load syllabus file information")}finally{i(!1)}})()},[e,d]);const h=()=>{n!=null&&n.url&&window.open(n.url,"_blank")},g=()=>{c(!0)};return r?f.jsx(ge,{sx:{display:"flex",justifyContent:"center",p:2},children:f.jsx(Gr,{size:24})}):a?f.jsx(vr,{severity:"error",sx:{mb:2},children:a}):n?f.jsxs(fn,{sx:{p:3,mb:3,backgroundColor:"info.50"},children:[f.jsxs(ce,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[f.jsx(vx,{color:"primary"}),"Original Syllabus Document"]}),f.jsxs(ge,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[f.jsx(ce,{variant:"body1",sx:{flexGrow:1},children:f.jsx("strong",{children:n.metadata.originalFilename})}),f.jsxs(ce,{variant:"body2",color:"text.secondary",children:[n4(n.metadata.fileType),"  ",r4(n.metadata.fileSize)]})]}),f.jsxs(ce,{variant:"body2",color:"text.secondary",sx:{mb:2},children:["Uploaded: ",new Date(n.metadata.uploadedAt).toLocaleDateString()]}),f.jsxs(ge,{sx:{display:"flex",gap:2},children:[f.jsx(mt,{variant:"outlined",startIcon:f.jsx(C6,{}),onClick:g,size:"small",children:"View Details"}),f.jsx(mt,{variant:"contained",startIcon:f.jsx(og,{}),onClick:h,size:"small",children:"Download"})]}),f.jsxs(Xi,{open:l,onClose:()=>c(!1),maxWidth:"sm",fullWidth:!0,children:[f.jsxs(pa,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(vx,{}),"Syllabus File Details"]}),f.jsx(Zi,{children:f.jsxs(ge,{sx:{mb:2},children:[f.jsx(ce,{variant:"body2",color:"text.secondary",children:f.jsx("strong",{children:"Filename:"})}),f.jsx(ce,{variant:"body1",sx:{mb:2},children:n.metadata.originalFilename}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:f.jsx("strong",{children:"File Type:"})}),f.jsx(ce,{variant:"body1",sx:{mb:2},children:n4(n.metadata.fileType)}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:f.jsx("strong",{children:"File Size:"})}),f.jsx(ce,{variant:"body1",sx:{mb:2},children:r4(n.metadata.fileSize)}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:f.jsx("strong",{children:"Uploaded:"})}),f.jsx(ce,{variant:"body1",sx:{mb:2},children:new Date(n.metadata.uploadedAt).toLocaleString()}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:f.jsx("strong",{children:"Storage Path:"})}),f.jsx(ce,{variant:"body2",sx:{fontFamily:"monospace",backgroundColor:"grey.100",p:1,borderRadius:1},children:n.path})]})}),f.jsxs(ma,{children:[f.jsx(mt,{onClick:()=>c(!1),children:"Close"}),f.jsx(mt,{onClick:h,variant:"contained",startIcon:f.jsx(og,{}),children:"Download File"})]})]})]}):null},QK=({selectedCourse:e,onCourseDelete:n})=>{const[t,r]=X.useState(!1),i=Jn(),{refreshUserDetails:a}=Ai(),s=()=>r(!0),l=()=>r(!1),c=async()=>{if(e)try{const d=_6(i),h=xn(i,"courses",e);d.delete(h);const g=wn(i,"users");(await mi(g)).forEach(m=>{const x=xn(i,"users",m.id),y=m.data().classes||{};y&&y[e]&&(delete y[e],d.update(x,{classes:y}))}),await d.commit(),await a(),n(),l()}catch(d){console.error("Error deleting course:",d)}};return f.jsxs(ge,{sx:{mt:2},children:[f.jsx(mt,{variant:"contained",onClick:s,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#F44336",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#D32F2F",transform:"scale(1.03)"}},children:"Delete Course"}),f.jsxs(Xi,{open:t,onClose:l,children:[f.jsx(pa,{children:"Confirm Delete"}),f.jsx(Zi,{children:f.jsx(Fl,{children:"Are you sure you want to delete this course? This action cannot be undone."})}),f.jsxs(ma,{children:[f.jsx(mt,{onClick:l,children:"Cancel"}),f.jsx(mt,{onClick:c,variant:"contained",color:"error",children:"Delete"})]})]})]})},KK=({text:e,tooltipText:n="Click to Copy",successText:t="Copied!"})=>{const[r,i]=X.useState(!1),a=()=>{navigator.clipboard.writeText(e).then(()=>{i(!0),setTimeout(()=>i(!1),2e3)}).catch(s=>console.error("Could not copy text: ",s))};return f.jsx(si,{title:r?t:n,enterDelay:300,leaveDelay:200,children:f.jsx(Dn,{label:e,variant:"outlined",onClick:a,sx:{borderRadius:"15px",fontSize:"16px",fontWeight:"bold",background:"#e0f2f1",color:"#00695c",cursor:"pointer",transition:"background-color 0.3s",fontFamily:"Gabarito, sans-serif"}})})},XK=()=>{const{userDetails:e}=Ai(),[n,t]=X.useState(""),[r,i]=X.useState([]),[a,s]=X.useState(null),[l,c]=X.useState(!1),[d,h]=X.useState(""),[g,b]=X.useState("success"),m=Jn();X.useEffect(()=>{(async()=>{if(e!=null&&e.isAdmin){const w=nl(wn(m,"courses"),Si("courseAdmin","array-contains",e.uid)),j=(await mi(w)).docs.map(F=>({id:F.id,number:F.data().number,title:F.data().title,passcode:F.data().passcode}));i(j)}})()},[m,e]);const x=A=>{const w=A.target.value;t(w);const C=r.find(j=>j.id===w);C?(s(C.passcode),h(`Passcode for course "${C.number} - ${C.title}" retrieved successfully.`),b("success"),c(!0)):(s(null),h("Course not found."),b("error"),c(!0))},y=()=>{c(!1)};return f.jsxs(ge,{sx:{mt:4},children:[f.jsx(ce,{variant:"subtitle1",component:"h2",sx:{mb:2},children:"Retrieve Course Passcode"}),f.jsx(vt,{container:!0,spacing:2,sx:{maxWidth:"75%"},children:f.jsxs(vt,{item:!0,xs:12,sx:{display:"flex",alignItems:"center"},children:[f.jsx(Bt,{select:!0,label:"Select Course Number",value:n,onChange:x,fullWidth:!0,sx:{mb:2,mr:2},children:r.map(A=>f.jsx(Zn,{value:A.id,children:`${A.number} - ${A.title}`},A.id))}),a&&f.jsxs(ge,{sx:{display:"flex",alignItems:"center",ml:2},children:[f.jsx(ce,{variant:"body1",sx:{mr:1},children:"Passcode:"}),f.jsx(KK,{text:`${a}`})]})]})}),f.jsx(rl,{open:l,autoHideDuration:6e3,onClose:y,children:f.jsx(vr,{onClose:y,severity:g,sx:{width:"100%"},children:d})})]})},ZK=()=>{const{userDetails:e}=Ai(),[n,t]=X.useState([]),[r,i]=X.useState(""),[a,s]=X.useState(!1),[l,c]=X.useState(!1),[d,h]=X.useState(!1),g=Jn(),b=ea(),x=e!=null&&e.classes?Object.entries(e.classes).filter(([F,z])=>z.isCourseAdmin).reduce((F,[z,L])=>({...F,[z]:L}),{}):{};X.useEffect(()=>{x[r]||i(Object.keys(x)[0]||"")},[x,r]),X.useEffect(()=>{(async()=>{if(r)try{const z=nl(wn(g,"users"),Si("isAdmin","==",!1)),M=(await mi(z)).docs.map(q=>({uid:q.id,...q.data()})).filter(q=>q.classes&&q.classes[r]);t(M)}catch(z){console.error("Error fetching students:",z)}})()},[r,g]);const y=F=>{i(F)},A=()=>{b("/request-new-course")},w=x[r],C=w?`${w.number} - ${w.title}`:"",j=!!(r&&w);return f.jsxs(ge,{className:"profile-container",sx:{p:4},children:[f.jsx(ge,{sx:{display:"flex",alignItems:"center",mb:2},children:f.jsx(mt,{variant:"text",onClick:()=>b("/"),className:"profile-button",children:" Home Page"})}),f.jsx(ce,{className:"webpage_title",sx:{mb:2},children:"Course Management"}),f.jsxs(ge,{sx:{mb:4,p:3,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[f.jsx(ce,{variant:"h6",sx:{fontFamily:"Staatliches, sans-serif",mb:2,color:"#0B53C0"},children:"Select a Course"}),Object.keys(x).length>0?f.jsx(HK,{userClasses:x,selectedCourse:r,onCourseChange:y}):f.jsx(ce,{variant:"body1",sx:{color:"#9E9E9E"},children:"No courses available for selection."})]}),f.jsx(ge,{children:j&&f.jsxs(f.Fragment,{children:[f.jsx(GK,{courseId:r}),f.jsxs(ge,{sx:{flex:2,display:"flex",justifyContent:"flex-end",gap:2},children:[f.jsx(WK,{selectedCourse:r,selectedCourseDetails:w,onCourseUpdate:()=>{}}),f.jsx(VK,{selectedCourse:r,onInfoUpdate:()=>{}}),f.jsx(QK,{selectedCourse:r,onCourseDelete:()=>i("")})]})]})}),j&&f.jsxs(fn,{elevation:3,sx:{p:3,mb:4,borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)",backgroundColor:"#F9FAFB"},children:[f.jsx(ce,{variant:"h6",component:"h2",sx:{fontFamily:"Staatliches, sans-serif",fontWeight:"bold",mb:2,color:"#0B53C0"},children:"Students Enrolled in a Course"}),n.length===0?f.jsxs(ce,{sx:{color:"#757575",textAlign:"center",p:3},children:["No students are currently enrolled in ",f.jsx("strong",{children:C}),"."]}):f.jsxs(f.Fragment,{children:[f.jsx(Eu,{component:fn,children:f.jsxs(_u,{children:[f.jsx(ku,{children:f.jsxs(Fi,{children:[f.jsx(ft,{sx:{fontWeight:"bold"},children:"User ID"}),f.jsx(ft,{sx:{fontWeight:"bold"},children:"Last Login"})]})}),f.jsx(ju,{children:n.map(F=>f.jsxs(Fi,{children:[f.jsx(ft,{children:F.uid}),f.jsx(ft,{children:_v(F.lastLogin)})]},F.uid))})]})}),f.jsx($K,{students:n,selectedCourse:r})]}),n.length>0&&f.jsxs(fn,{sx:{mt:4,p:3,borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[f.jsx(Nd,{control:f.jsx(Td,{checked:d,onChange:()=>h(F=>!F)}),label:"Remove Student(s) from the Course"}),d&&f.jsx(UK,{selectedCourse:r,selectedCourseDetails:w,onStudentChange:()=>{}})]})]}),f.jsxs(ge,{sx:{display:"flex",gap:4,mb:4},children:[f.jsxs(ge,{sx:{p:3,flex:1,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[f.jsx(Nd,{control:f.jsx(Td,{checked:l,onChange:()=>c(F=>!F)}),label:"Retrieve Course Passcode"}),l&&f.jsx(ge,{sx:{mt:2},children:f.jsx(XK,{})})]}),f.jsxs(ge,{sx:{p:3,flex:1,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[f.jsx(Nd,{control:f.jsx(Td,{checked:a,onChange:()=>s(F=>!F)}),label:"Request Creating a New Course"}),a&&f.jsx(ge,{sx:{mt:2},children:f.jsx(mt,{variant:"contained",onClick:A,sx:{backgroundColor:"#4CAF50",color:"#FFFFFF",fontFamily:"Staatliches, sans-serif",textTransform:"none","&:hover":{backgroundColor:"#388E3C"}},children:"Request New Course"})})]})]})]})};class JK{constructor(n){Ze(this,"genAI");Ze(this,"model");this.genAI=new LT(n),this.model=this.genAI.getGenerativeModel({model:"gemini-1.5-pro",generationConfig:{temperature:.1,topK:1,topP:.8,maxOutputTokens:16384}})}async processSyllabusText(n,t,r){return n.length>3e4?(console.log("Large document detected, using chunked processing"),this.processLargeDocument(n,t,r)):this.processSingleDocument(n,t,r)}async processSingleDocument(n,t,r){const i=this.buildSyllabusAnalysisPrompt(n,t);try{const l=(await(await this.model.generateContent(i)).response).text();if(!l||l.trim().length===0)throw new Error("Empty response from AI service");const c=l.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();let d;try{d=JSON.parse(c)}catch(h){throw console.error("JSON parsing failed:",h),console.error("Raw response text:",l),console.error("Cleaned text:",c),new Error("AI response format invalid - unable to parse JSON")}if(!d||typeof d!="object")throw new Error("AI response is not a valid object");return d.courseInfo||(console.warn("Missing courseInfo in AI response, using defaults"),d.courseInfo={}),this.validateAndSanitizeResponse(d)}catch(a){if(console.error("Gemini API Error:",a),a instanceof Error){if(a.message.includes("AI response")||a.message.includes("JSON parsing"))throw a;if(a.message.includes("API key"))throw new Error("Invalid or missing Gemini API key. Please check your environment configuration.");if(a.message.includes("quota")||a.message.includes("rate limit"))throw new Error("API rate limit exceeded. Please try again later.")}throw new Error(`Failed to process syllabus with AI: ${a instanceof Error?a.message:"Unknown error"}`)}}async processLargeDocument(n,t,r){const a=this.chunkText(n,35e3);console.log(`Processing ${a.length} chunks for large document`);const s=await this.processSingleDocument(a[0],t,r),l=await Promise.allSettled(a.slice(1).map(c=>this.processChunkForDetails(c,t)));return this.mergeChunkedResults(s,l)}chunkText(n,t){const r=[],i=n.split(`
`);let a="";const s=["schedule","session","unit","week","topic","assignment","objective","learning outcome","reading","textbook","prerequisite"];for(let l=0;l<i.length;l++){const c=i[l],d=i[l+1]||"",h=s.some(g=>c.toLowerCase().includes(g)||d.toLowerCase().includes(g));a.length+c.length>t&&a.length>0&&(h||a.length>t*.8)?(r.push(a.trim()),a=c):a+=`
`+c}return a.trim()&&r.push(a.trim()),r}async processChunkForDetails(n,t){const r=`
Extract additional course details from this syllabus section. Focus heavily on:
- ALL schedule items, sessions, units, weeks, and topics
- Session numbers, titles, and descriptions
- Learning outcomes for each session
- Reading assignments and resources
- Assignment details and due dates
- Any additional objectives or policies

IMPORTANT: Extract ALL schedule/session information - do not limit the number of items.
Convert session numbers to week numbers (Session 1 = Week 1, etc.).

Return JSON with only the fields you can extract from this section:
${n}
`;try{const l=(await(await this.model.generateContent(r)).response).text().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();return JSON.parse(l)}catch(i){return console.warn("Failed to process chunk:",i),{}}}mergeChunkedResults(n,t){const r={...n};return t.forEach(i=>{if(i.status==="fulfilled"&&i.value){const a=i.value;if(a.learningObjectives&&(r.learningObjectives=[...r.learningObjectives,...a.learningObjectives]),a.schedule){const s=new Set(r.schedule.map(c=>`${c.week}-${c.topic}`)),l=a.schedule.filter(c=>!s.has(`${c.week}-${c.topic}`));r.schedule=[...r.schedule,...l]}a.assignments&&(r.assignments=[...r.assignments,...a.assignments]),a.prerequisites&&(r.prerequisites=[...r.prerequisites,...a.prerequisites]),a.contactInfo&&(r.contactInfo={...r.contactInfo,...a.contactInfo}),a.policies&&(r.policies={...r.policies,...a.policies}),a.additionalResources&&(r.additionalResources={...r.additionalResources,...a.additionalResources})}}),r.learningObjectives=[...new Set(r.learningObjectives)],r.prerequisites=[...new Set(r.prerequisites)],r.schedule=r.schedule.sort((i,a)=>i.week-a.week),r}buildSyllabusAnalysisPrompt(n,t){return`
You are an expert educational content analyzer. Analyze the following course syllabus and extract structured information in JSON format.

IMPORTANT INSTRUCTIONS:
1. Return ONLY valid JSON - no markdown, no explanations, no additional text
2. If information is not available, use null or empty arrays/objects
3. Be thorough but accurate - don't invent information
4. For percentages in grading, ensure they are numbers (not strings)
5. For week numbers, ensure they are integers
6. Extract all learning objectives, even if they're not numbered
7. Look for course schedules in various formats (weekly, by date, by topic, by session/unit)
8. IMPORTANT: Extract ALL schedule items, sessions, units, and topics - do not limit to just a few weeks
9. For session-based schedules, convert sessions to week numbers (e.g., Session 1 = Week 1)
10. LABORATORY COURSES: Pay special attention to safety requirements, lab equipment, dress codes, group work policies, and experiment-based schedules
11. Identify course type: determine if this is a lecture, lab, seminar, or hybrid course based on content

Required JSON structure:
{
  "courseInfo": {
    "title": "string",
    "number": "string (e.g., CS 350, BIOL 301, CHEM 315)",
    "description": "string",
    "instructor": "string or null",
    "department": "string or null",
    "institution": "string or null",
    "credits": "number or null",
    "meetingTimes": "string or null (include lab times if applicable)",
    "semester": "string or null",
    "year": "string or null",
    "courseType": "lecture|lab|seminar|hybrid",
    "location": "string or null (lab room, classroom, etc.)"
  },
  "learningObjectives": [
    "string (each objective as separate item)"
  ],
  "schedule": [
    {
      "week": "number",
      "topic": "string",
      "description": "string or null",
      "readings": ["string"] or null,
      "assignments": ["string"] or null,
      "dueDate": "string or null",
      "notes": "string or null",
      "experimentType": "string or null (for lab courses)",
      "equipmentNeeded": ["string"] or null
    }
  ],
  "prerequisites": [
    "string (each prerequisite course/requirement)"
  ],
  "textbooks": [
    {
      "title": "string",
      "author": "string or null",
      "edition": "string or null",
      "isbn": "string or null",
      "required": "boolean"
    }
  ],
  "gradingPolicy": [
    {
      "component": "string (e.g., Exams, Homework, Projects)",
      "percentage": "number (e.g., 40, not '40%')",
      "description": "string or null"
    }
  ],
  "assignments": [
    {
      "name": "string",
      "description": "string",
      "type": "string (exam|project|homework|quiz|presentation|lab_report|lab_practical)",
      "dueDate": "string or null",
      "points": "number or null",
      "weight": "number or null (for weighted assignments)"
    }
  ],
  "policies": {
    "attendance": "string or null",
    "lateWork": "string or null",
    "academicIntegrity": "string or null",
    "accommodations": "string or null",
    "communication": "string or null",
    "safety": "string or null (lab safety requirements)",
    "groupWork": "string or null (partner/group work policies)",
    "makeupPolicy": "string or null (make-up lab/exam policies)"
  },
  "contactInfo": {
    "email": "string or null",
    "phone": "string or null",
    "office": "string or null",
    "officeHours": "string or null",
    "website": "string or null"
  },
  "additionalResources": {
    "software": ["string"] or null,
    "equipment": ["string"] or null,
    "websites": ["string"] or null,
    "tutoring": "string or null",
    "learningPlatform": "string or null (Moodle, Blackboard, etc.)"
  },
  "labSpecific": {
    "safetyRequirements": ["string"] or null,
    "requiredEquipment": ["string"] or null,
    "dresscode": ["string"] or null,
    "notebookRequirements": "string or null",
    "groupWorkStructure": "string or null",
    "makeupPolicy": "string or null"
  }
}

${t?`File name: ${t}`:""}

Syllabus content to analyze:
${n}
`}validateAndSanitizeResponse(n){var r,i,a,s,l,c,d,h,g,b,m,x,y,A;const t={courseInfo:{title:"Course Title",number:"COURSE 101",description:"Course description not available"},learningObjectives:[],schedule:[],prerequisites:[],textbooks:[],gradingPolicy:[],assignments:[],policies:{},contactInfo:{},additionalResources:{}};try{return{courseInfo:{...t.courseInfo,...n.courseInfo},learningObjectives:Array.isArray(n.learningObjectives)?n.learningObjectives:[],schedule:Array.isArray(n.schedule)?n.schedule.map((C,j)=>({week:typeof C.week=="number"?C.week:j+1,topic:C.topic||`Week ${j+1} Topic`,description:C.description||null,readings:Array.isArray(C.readings)?C.readings:null,assignments:Array.isArray(C.assignments)?C.assignments:null,dueDate:C.dueDate||null,notes:C.notes||null})):[],prerequisites:Array.isArray(n.prerequisites)?n.prerequisites:[],textbooks:Array.isArray(n.textbooks)?n.textbooks.map(C=>({title:C.title||"Unknown Textbook",author:C.author||null,edition:C.edition||null,isbn:C.isbn||null,required:typeof C.required=="boolean"?C.required:!0})):[],gradingPolicy:Array.isArray(n.gradingPolicy)?n.gradingPolicy.map(C=>({component:C.component||"Unknown Component",percentage:typeof C.percentage=="number"?C.percentage:0,description:C.description||null})):[],assignments:Array.isArray(n.assignments)?n.assignments.map(C=>({name:C.name||"Assignment",description:C.description||"",type:C.type||"homework",dueDate:C.dueDate||null,points:typeof C.points=="number"?C.points:null})):[],policies:{attendance:((r=n.policies)==null?void 0:r.attendance)||null,lateWork:((i=n.policies)==null?void 0:i.lateWork)||null,academicIntegrity:((a=n.policies)==null?void 0:a.academicIntegrity)||null,accommodations:((s=n.policies)==null?void 0:s.accommodations)||null,communication:((l=n.policies)==null?void 0:l.communication)||null},contactInfo:{email:((c=n.contactInfo)==null?void 0:c.email)||null,phone:((d=n.contactInfo)==null?void 0:d.phone)||null,office:((h=n.contactInfo)==null?void 0:h.office)||null,officeHours:((g=n.contactInfo)==null?void 0:g.officeHours)||null,website:((b=n.contactInfo)==null?void 0:b.website)||null},additionalResources:{software:Array.isArray((m=n.additionalResources)==null?void 0:m.software)?n.additionalResources.software:null,equipment:Array.isArray((x=n.additionalResources)==null?void 0:x.equipment)?n.additionalResources.equipment:null,websites:Array.isArray((y=n.additionalResources)==null?void 0:y.websites)?n.additionalResources.websites:null,tutoring:((A=n.additionalResources)==null?void 0:A.tutoring)||null}}}catch(w){return console.error("Error validating AI response:",w),t}}async generateCourseMaterials(n,t){const r=`
Based on the following course information, generate detailed course materials in JSON format.

CRITICAL REQUIREMENTS:
1. Return ONLY valid JSON - absolutely NO explanatory text, comments, or additional content
2. Do not add any text before or after the JSON array
3. Do not include comments like "// ..." in the JSON
4. Generate materials for ALL available weeks/sessions from the course information

Create materials for:
1. Course Overview (with detailed description, objectives, and policies)  
2. Weekly/session materials for ALL weeks found in the schedule
3. Assignment descriptions where applicable

Course Information:
${JSON.stringify(n,null,2)}

Generate materials for ${(t==null?void 0:t.includeWeeks)||n.schedule.length} weeks/sessions.

Return ONLY a JSON array of materials with this structure:
[
  {
    "id": "unique-id",
    "title": "Material Title",
    "type": "overview|weekly|assignment|resource",
    "header": {"title": "string", "content": "string"},
    "sections": [
      {
        "id": "section-id",
        "title": "Section Title",
        "content": "HTML formatted content",
        "subsections": [
          {
            "id": "subsection-id",
            "title": "Subsection Title",
            "content": "HTML formatted content"
          }
        ]
      }
    ],
    "footer": {"title": "string", "content": "string"},
    "published": false,
    "scheduledTimestamp": "ISO date string or null"
  }
]
`;try{const s=(await(await this.model.generateContent(r)).response).text();if(!s||s.trim().length===0)return console.warn("Empty response from AI service for material generation"),[];let l=s.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();const c=l.lastIndexOf("]");c!==-1&&(l=l.substring(0,c+1));let d;try{d=JSON.parse(l)}catch(h){return console.error("JSON parsing failed for material generation:",h),console.error("Raw response text:",s),console.error("Cleaned text:",l),console.warn("Falling back to empty materials array"),[]}return Array.isArray(d)?d:(console.warn("AI response is not an array, wrapping in array:",d),d?[d]:[])}catch(i){return console.error("Error generating materials:",i),[]}}}let My=null;const i4=e=>{const n="AIzaSyDYgUVJwspUzRfZEhGCUAdLR66lNmM79A8";if(!My&&n&&(My=new JK(n)),!My)throw new Error("Gemini service not initialized. Please configure VITE_GEMINI_API_KEY environment variable.");return My},Uh=()=>Math.random().toString(36).substr(2,9),eX=e=>e.length?`<ul>${e.map(t=>`<li>${t}</li>`).join("")}</ul>`:"<p>No objectives specified</p>",tX=e=>e.length?`<ul>${e.map(t=>`<li>${t}</li>`).join("")}</ul>`:"<p>No readings assigned</p>",kp=yp()(Bg(av((e,n)=>({uploadedFile:null,uploadProgress:0,extractedText:"",extractionMetadata:null,storedSyllabusFile:null,aiExtractedInfo:null,useAIProcessing:!0,parsedCourseInfo:null,generatedMaterials:[],currentStep:"upload",isProcessing:!1,error:null,processingProgress:null,setUploadedFile:t=>e({uploadedFile:t}),setUploadProgress:t=>e({uploadProgress:t}),setExtractedText:t=>e({extractedText:t}),setStoredSyllabusFile:t=>e({storedSyllabusFile:t}),setAIExtractedInfo:t=>e({aiExtractedInfo:t}),setUseAIProcessing:t=>e({useAIProcessing:t}),setParsedCourseInfo:t=>e({parsedCourseInfo:t}),setGeneratedMaterials:t=>e({generatedMaterials:t}),setCurrentStep:t=>e({currentStep:t}),setIsProcessing:t=>e({isProcessing:t}),setError:t=>e({error:t}),setProcessingProgress:t=>e({processingProgress:t}),uploadSyllabus:async(t,r)=>{const i=FT(t);if(!i.isValid){e({error:i.error,currentStep:"upload"});return}const a=gF(t);e({uploadedFile:t,uploadProgress:0,error:null,extractionMetadata:{fileName:t.name,fileSize:t.size,fileType:PT(t),estimatedProcessingTime:a},processingProgress:{stage:"uploading",percentage:0,currentOperation:"Preparing file for processing..."}});try{for(let s=0;s<=100;s+=20)e({uploadProgress:s,processingProgress:{stage:"uploading",percentage:s,currentOperation:s===100?"Upload complete, starting text extraction...":`Uploading file... ${s}%`}}),await new Promise(l=>setTimeout(l,100));if(e({currentStep:"processing",isProcessing:!0,processingProgress:{stage:"extracting",percentage:0,currentOperation:"Extracting text from document..."}}),await n().extractTextFromFile(),r)try{e({processingProgress:{stage:"uploading",percentage:90,currentOperation:"Storing syllabus file..."}});const s=await YK(t,r);e({storedSyllabusFile:s}),console.log("Syllabus file stored successfully:",s.url)}catch(s){console.warn("Failed to store syllabus file, continuing with processing:",s)}e({processingProgress:{stage:"analyzing",percentage:0,currentOperation:n().useAIProcessing?"Analyzing syllabus with AI...":"Parsing syllabus content..."}}),await n().parseSyllabus()}catch(s){e({error:s instanceof Error?s.message:"Failed to upload file",currentStep:"upload"})}},extractTextFromFile:async()=>{const{uploadedFile:t}=n();if(!t){e({error:"No file uploaded"});return}e({isProcessing:!0,error:null});try{const r=await MT(t);e({extractedText:r.text,extractionMetadata:{...n().extractionMetadata,...r.metadata},isProcessing:!1})}catch(r){e({error:r.message||"Failed to extract text from file",isProcessing:!1})}},parseSyllabus:async()=>{const{extractedText:t,uploadedFile:r,useAIProcessing:i}=n();if(!t){e({error:"No text to parse"});return}e({isProcessing:!0,error:null});try{let a;if(i)try{e({processingProgress:{stage:"analyzing",percentage:25,currentOperation:"Sending syllabus to AI for analysis..."}});const l=await i4().processSyllabusText(t,r==null?void 0:r.name);e({processingProgress:{stage:"analyzing",percentage:75,currentOperation:"Processing AI analysis results..."}}),e({aiExtractedInfo:l}),a={suggestedTitle:l.courseInfo.title||"Course Title",suggestedNumber:l.courseInfo.number||"COURSE 101",suggestedDescription:l.courseInfo.description||"Course description not available",objectives:l.learningObjectives.length>0?l.learningObjectives:["Students will understand key concepts","Students will develop practical skills","Students will apply knowledge to real-world scenarios"],schedule:l.schedule.map(c=>({week:c.week,topic:c.topic,description:c.description,readings:c.readings||[],assignments:c.assignments||[],date:c.dueDate?new Date(c.dueDate):void 0})),prerequisites:l.prerequisites,textbook:l.textbooks.length>0?l.textbooks[0].title:"",grading:l.gradingPolicy.map(c=>`${c.component}: ${c.percentage}%`).join(", "),instructor:l.courseInfo.instructor,department:l.courseInfo.department,institution:l.courseInfo.institution,credits:l.courseInfo.credits,semester:l.courseInfo.semester,year:l.courseInfo.year,contactInfo:l.contactInfo,policies:l.policies,textbooks:l.textbooks,gradingComponents:l.gradingPolicy,assignments:l.assignments}}catch(s){console.warn("AI processing failed, falling back to pattern-based parsing:",s),a=await n().fallbackParsing(t)}else a=await n().fallbackParsing(t);e({parsedCourseInfo:a}),e({processingProgress:{stage:"generating",percentage:0,currentOperation:"Generating course materials..."}}),await n().generateMaterials()}catch(a){e({error:a instanceof Error?a.message:"Failed to parse syllabus",isProcessing:!1})}},fallbackParsing:async t=>{var g,b;const r=t.split(`
`).filter(m=>m.trim()),i=r.find(m=>{const x=m.toLowerCase();return(x.includes("course")||x.includes("class"))&&(x.includes("title")||x.includes("name")||m.includes(":"))}),a=r.find(m=>{const x=m.toLowerCase();return x.includes("description")||x.includes("overview")||x.includes("about this course")}),s=r.find(m=>/[A-Z]{2,4}\s*\d{3,4}/.test(m)||m.toLowerCase().includes("course number")),l=r.findIndex(m=>{const x=m.toLowerCase();return x.includes("objective")||x.includes("learning outcome")||x.includes("goals")||x.includes("by the end of this course")}),c=[];if(l!==-1)for(let m=l+1;m<r.length&&m<l+15;m++){const x=r[m].trim();x&&(x.startsWith("-")||x.startsWith("")||x.match(/^\d+\./)||x.startsWith("*"))?c.push(x.replace(/^[-\d.*]\s*/,"")):x&&c.length===0&&c.push(x)}const d=[];for(let m=1;m<=16;m++){const x=new RegExp(`week\\s*${m}|${m}\\s*week`,"i"),y=r.find(A=>x.test(A));if(y){const A=y.replace(/week\s*\d+:?\s*/i,"").trim()||`Week ${m} Topic`;d.push({week:m,topic:A,description:`Content and activities for week ${m}`,readings:[],assignments:[]})}else d.push({week:m,topic:`Week ${m} Topic`,description:`Content for week ${m}`,readings:[],assignments:[]})}let h="COURSE 101";if(s){const m=s.match(/[A-Z]{2,4}\s*\d{3,4}/);m&&(h=m[0])}return{suggestedTitle:i&&((g=i.split(":").slice(-1)[0])==null?void 0:g.trim())||"Course Title",suggestedNumber:h,suggestedDescription:a&&((b=a.split(":").slice(-1)[0])==null?void 0:b.trim())||t.substring(0,300)+"...",objectives:c.length>0?c:["Students will understand key concepts","Students will develop practical skills","Students will apply knowledge to real-world scenarios"],schedule:d.slice(0,15),prerequisites:[],textbook:"",grading:""}},generateMaterials:async()=>{const{parsedCourseInfo:t,aiExtractedInfo:r,useAIProcessing:i}=n();if(!t){e({error:"No parsed course info available"});return}e({isProcessing:!0,error:null});try{let a=[];if(i&&r)try{const l=await i4().generateCourseMaterials(r,{includeWeeks:r.schedule.length,materialTypes:["overview","weekly","assignment"]});l&&l.length>0?a=l.map(c=>({id:c.id||Uh(),title:c.title||"Generated Material",header:c.header||{title:"Header",content:`<p>${c.title||"Material"}</p>`},footer:c.footer||{title:"Footer",content:"<p>Contact instructor for questions</p>"},sections:c.sections||[],published:c.published||!1,scheduledTimestamp:c.scheduledTimestamp?new Date(c.scheduledTimestamp):void 0})):(console.warn("AI material generation returned empty results, using fallback"),a=n().generateFallbackMaterials(t))}catch(s){console.warn("AI material generation failed, using fallback:",s),a=n().generateFallbackMaterials(t)}else a=n().generateFallbackMaterials(t);e({generatedMaterials:a,isProcessing:!1,currentStep:"review",processingProgress:{stage:"complete",percentage:100,currentOperation:"Processing complete! Review your course materials below."}})}catch(a){e({error:a instanceof Error?a.message:"Failed to generate materials",isProcessing:!1})}},generateFallbackMaterials:t=>{const r=[];return r.push({id:Uh(),title:`${t.suggestedNumber} - Course Overview`,header:{title:"Course Overview",content:`<p>${t.suggestedTitle}</p>`},footer:{title:"Footer",content:"<p>Contact instructor for questions</p>"},sections:[{id:Uh(),title:"Course Description",content:`<p>${t.suggestedDescription}</p>`,subsections:[],images:[],links:[]},{id:Uh(),title:"Learning Objectives",content:eX(t.objectives),subsections:[],images:[],links:[]}],published:!1}),t.schedule.slice(0,6).forEach(i=>{r.push({id:Uh(),title:`Week ${i.week}: ${i.topic}`,header:{title:`Week ${i.week}`,content:`<p>${i.topic}</p>`},footer:{title:"Footer",content:"<p>Review materials before next class</p>"},sections:[{id:Uh(),title:"Overview",content:`<p>${i.description||`Topics and activities for week ${i.week}`}</p>`,subsections:i.readings&&i.readings.length>0?[{id:Uh(),title:"Required Readings",content:tX(i.readings),subSubsections:[],images:[],links:[]}]:[],images:[],links:[]}],published:!1,scheduledTimestamp:i.date})}),r},editMaterial:(t,r)=>{const{generatedMaterials:i}=n(),a=[...i];a[t]={...a[t],...r},e({generatedMaterials:a})},editCourseInfo:t=>{const{parsedCourseInfo:r}=n();r&&e({parsedCourseInfo:{...r,...t}})},reset:()=>e({uploadedFile:null,uploadProgress:0,extractedText:"",extractionMetadata:null,storedSyllabusFile:null,aiExtractedInfo:null,useAIProcessing:!0,parsedCourseInfo:null,generatedMaterials:[],currentStep:"upload",isProcessing:!1,error:null,processingProgress:null})}),{name:"syllabus-store",partialize:e=>({extractedText:e.extractedText,extractionMetadata:e.extractionMetadata,storedSyllabusFile:e.storedSyllabusFile,aiExtractedInfo:e.aiExtractedInfo,useAIProcessing:e.useAIProcessing,parsedCourseInfo:e.parsedCourseInfo,generatedMaterials:e.generatedMaterials,currentStep:e.currentStep})}))),v1={BASE_URL:"/nexlab/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_KEY:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",VITE_APP_ID:"1:922352392986:web:6c4d6e16b5e615bd4daaa3",VITE_AUTH_DOMAIN:"nexlab-prod.firebaseapp.com",VITE_CHATBOT_DEFAULT_ID:"ce5f7921-a3a0-4ea7-b95f-10fe41becda5",VITE_DEPLOY_ENV:"github",VITE_GEMINI_API_KEY:"AIzaSyDYgUVJwspUzRfZEhGCUAdLR66lNmM79A8",VITE_GEMINI_MATERIAL_API_KEY:"AIzaSyAcb1QNEdevZFSay3ZaT9MB7xQq6f0dMh0",VITE_GOOGLE_ANALYTICS_ID:"G-X2SBY2YQ4V",VITE_MESSAGING_SENDER_ID:"922352392986",VITE_PROJECT_ID:"nexlab-prod",VITE_PUBLIC_COURSE_ID:"rqoyheM9Lf8jGftIoZyT",VITE_STORAGE_BUCKET:"nexlab-prod.firebasestorage.app"},w1={GEMINI_API_KEY:"VITE_GEMINI_API_KEY",ENABLE_AI_PROCESSING:"VITE_ENABLE_AI_PROCESSING",MAX_RETRIES:"VITE_AI_MAX_RETRIES",TIMEOUT:"VITE_AI_TIMEOUT",FALLBACK_TO_PATTERN:"VITE_AI_FALLBACK_TO_PATTERN"},nX=()=>({geminiApiKey:v1[w1.GEMINI_API_KEY],enableAIProcessing:v1[w1.ENABLE_AI_PROCESSING]!=="false",maxRetries:parseInt(v1[w1.MAX_RETRIES]||"3",10),timeout:parseInt(v1[w1.TIMEOUT]||"30000",10),fallbackToPatternParsing:v1[w1.FALLBACK_TO_PATTERN]!=="false"}),uI=e=>{const n=[];return e.enableAIProcessing&&!e.geminiApiKey&&n.push("Gemini API key is required when AI processing is enabled"),(e.maxRetries<0||e.maxRetries>10)&&n.push("Max retries must be between 0 and 10"),(e.timeout<1e3||e.timeout>12e4)&&n.push("Timeout must be between 1 second and 2 minutes"),{isValid:n.length===0,errors:n}},cI=()=>{const e=nX(),n=uI(e);return{config:e,...n}},a4=({onUploadComplete:e,apiKey:n,educatorUid:t})=>{const{uploadedFile:r,uploadProgress:i,error:a,isProcessing:s,useAIProcessing:l,processingProgress:c,uploadSyllabus:d,setUploadedFile:h,setError:g}=kp(),[b,m]=X.useState(!1),x=X.useMemo(()=>["text/plain","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],[]),y=X.useMemo(()=>[".txt",".pdf",".docx"],[]),A=X.useCallback(async M=>{const Q=(T=>{if(!x.includes(T.type))return`Unsupported file type. Please upload ${y.join(", ")} files.`;const O=10*1024*1024;return T.size>O?"File size too large. Please upload files smaller than 10MB.":null})(M);if(Q){g(Q);return}try{await d(M,t),e==null||e(M)}catch(T){console.error("Upload error:",T)}},[d,e,g,x,y,n,t]),w=X.useCallback(M=>{M.preventDefault(),m(!1);const q=Array.from(M.dataTransfer.files);q.length>0&&A(q[0])},[A]),C=X.useCallback(M=>{M.preventDefault(),m(!0)},[]),j=X.useCallback(M=>{M.preventDefault(),m(!1)},[]),F=X.useCallback(M=>{const q=M.target.files;q&&q.length>0&&A(q[0]),M.target.value=""},[A]),z=X.useCallback(()=>{h(null),g(null)},[h,g]),L=M=>{if(M===0)return"0 Bytes";const q=1024,Q=["Bytes","KB","MB","GB"],T=Math.floor(Math.log(M)/Math.log(q));return parseFloat((M/Math.pow(q,T)).toFixed(2))+" "+Q[T]},k=()=>f.jsx(hR,{color:"primary"});return f.jsxs(ge,{sx:{width:"100%",maxWidth:600,mx:"auto"},children:[!r&&f.jsxs(fn,{sx:{p:4,border:"2px dashed",borderColor:b?"primary.main":"grey.300",backgroundColor:b?"primary.50":"background.paper",cursor:"pointer",transition:"all 0.3s ease",textAlign:"center","&:hover":{borderColor:"primary.main",backgroundColor:"primary.50"}},onDragOver:C,onDragLeave:j,onDrop:w,onClick:()=>{var M;return(M=document.getElementById("syllabus-file-input"))==null?void 0:M.click()},children:[f.jsx(fR,{sx:{fontSize:48,color:b?"primary.main":"grey.400",mb:2}}),f.jsx(ce,{variant:"h6",gutterBottom:!0,children:"Upload Your Syllabus"}),f.jsx(ce,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Drag and drop your syllabus file here, or click to browse"}),f.jsx(ge,{sx:{display:"flex",flexWrap:"wrap",gap:1,justifyContent:"center"},children:y.map(M=>f.jsx(Dn,{label:M.toUpperCase(),size:"small",variant:"outlined",color:"primary"},M))}),f.jsx(ce,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:"Maximum file size: 10MB"}),f.jsx("input",{id:"syllabus-file-input",type:"file",accept:x.join(","),onChange:F,style:{display:"none"}})]}),r&&f.jsxs(fn,{sx:{p:3,mb:2},children:[f.jsxs(ge,{sx:{display:"flex",alignItems:"center",gap:2},children:[k(),f.jsxs(ge,{sx:{flexGrow:1},children:[f.jsx(ce,{variant:"subtitle1",sx:{fontWeight:500},children:r.name}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:L(r.size)})]}),!s&&f.jsx(Cn,{onClick:z,color:"error",size:"small",children:f.jsx(Ed,{})})]}),i>0&&i<100&&f.jsxs(ge,{sx:{mt:2},children:[f.jsx(Xo,{variant:"determinate",value:i,sx:{height:6,borderRadius:3}}),f.jsxs(ce,{variant:"caption",sx:{mt:1,display:"block"},children:["Uploading... ",i,"%"]})]}),s&&f.jsx(ge,{sx:{mt:2},children:c?f.jsxs(f.Fragment,{children:[f.jsxs(ge,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[f.jsx(Dn,{label:c.stage.charAt(0).toUpperCase()+c.stage.slice(1),size:"small",color:"primary",variant:"outlined"}),f.jsxs(ce,{variant:"caption",color:"text.secondary",children:[c.percentage,"%"]})]}),f.jsx(Xo,{variant:"determinate",value:c.percentage,sx:{height:6,borderRadius:3,mb:1}}),f.jsx(ce,{variant:"caption",sx:{display:"block",color:"text.secondary"},children:c.currentOperation})]}):f.jsxs(f.Fragment,{children:[f.jsx(Xo,{sx:{height:6,borderRadius:3}}),f.jsx(ce,{variant:"caption",sx:{mt:1,display:"block"},children:l?"AI is analyzing your syllabus...":"Processing syllabus..."})]})})]}),a&&f.jsx(vr,{severity:"error",sx:{mt:2},onClose:()=>g(null),children:a}),f.jsxs(fn,{sx:{p:2,mt:2,backgroundColor:"info.50"},children:[f.jsx(ce,{variant:"body2",color:"info.main",sx:{fontWeight:500,mb:1},children:" Tips for best results:"}),f.jsxs(ce,{variant:"body2",color:"text.secondary",component:"ul",sx:{m:0,pl:2},children:[f.jsx("li",{children:"Include course objectives and weekly schedule"}),f.jsx("li",{children:"List reading assignments and materials"}),f.jsx("li",{children:"Text files (.txt) work best for parsing"}),f.jsx("li",{children:"Ensure text is well-structured with clear headings"})]})]})]})},rX=({onContinue:e})=>{var C;const{parsedCourseInfo:n,editCourseInfo:t,error:r,isProcessing:i,currentStep:a}=kp(),[s,l]=X.useState(!1),[c,d]=X.useState(null);if(!n)return f.jsx(vr,{severity:"warning",children:"No course information available. Please upload and process a syllabus first."});if(i||a==="processing")return f.jsx(vr,{severity:"info",children:f.jsx(ce,{variant:"body2",children:" Processing complete! Preparing course information for review..."})});const h=()=>{d({...n}),l(!0)},g=()=>{c&&(t(c),l(!1),d(null))},b=()=>{l(!1),d(null)},m=()=>{c&&d({...c,objectives:[...c.objectives,"New objective"]})},x=j=>{if(c){const F=c.objectives.filter((z,L)=>L!==j);d({...c,objectives:F})}},y=(j,F)=>{if(c){const z=[...c.objectives];z[j]=F,d({...c,objectives:z})}},A=(j,F,z)=>{if(c){const L=[...c.schedule];L[j]={...L[j],[F]:z},d({...c,schedule:L})}},w=s?c:n;return w?f.jsx(ge,{sx:{maxWidth:800,mx:"auto"},children:f.jsxs(fn,{sx:{p:3},children:[f.jsxs(ge,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[f.jsx(ce,{variant:"h5",component:"h2",children:"Course Information Preview"}),s?f.jsxs(ge,{sx:{display:"flex",gap:1},children:[f.jsx(mt,{startIcon:f.jsx(I0,{}),onClick:g,variant:"contained",color:"primary",children:"Save"}),f.jsx(mt,{startIcon:f.jsx(v6,{}),onClick:b,variant:"outlined",children:"Cancel"})]}):f.jsx(mt,{startIcon:f.jsx(vu,{}),onClick:h,variant:"outlined",children:"Edit Details"})]}),r&&f.jsx(vr,{severity:"error",sx:{mb:3},children:r}),f.jsxs(vt,{container:!0,spacing:3,children:[f.jsx(vt,{item:!0,xs:12,md:6,children:f.jsx(Bt,{fullWidth:!0,label:"Course Number",value:w.suggestedNumber,onChange:j=>s&&c&&d({...c,suggestedNumber:j.target.value}),disabled:!s,variant:s?"outlined":"filled"})}),f.jsx(vt,{item:!0,xs:12,md:6,children:f.jsx(Bt,{fullWidth:!0,label:"Course Title",value:w.suggestedTitle,onChange:j=>s&&c&&d({...c,suggestedTitle:j.target.value}),disabled:!s,variant:s?"outlined":"filled"})}),f.jsx(vt,{item:!0,xs:12,children:f.jsx(Bt,{fullWidth:!0,multiline:!0,rows:4,label:"Course Description",value:w.suggestedDescription,onChange:j=>s&&c&&d({...c,suggestedDescription:j.target.value}),disabled:!s,variant:s?"outlined":"filled"})})]}),f.jsx(ts,{sx:{my:3}}),f.jsxs(ge,{sx:{mb:3},children:[f.jsxs(ge,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[f.jsxs(ce,{variant:"h6",children:["Learning Objectives (",w.objectives.length,")"]}),s&&f.jsx(Cn,{onClick:m,color:"primary",children:f.jsx(bu,{})})]}),f.jsx(ge,{sx:{display:"flex",flexDirection:"column",gap:2},children:w.objectives.map((j,F)=>f.jsxs(ge,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsxs(ce,{variant:"body2",sx:{minWidth:24,color:"text.secondary"},children:[F+1,"."]}),s?f.jsxs(f.Fragment,{children:[f.jsx(Bt,{fullWidth:!0,multiline:!0,value:j,onChange:z=>y(F,z.target.value),size:"small"}),f.jsx(Cn,{onClick:()=>x(F),color:"error",size:"small",children:f.jsx(Ed,{})})]}):f.jsx(ce,{variant:"body2",children:j})]},F))})]}),f.jsx(ts,{sx:{my:3}}),f.jsxs(_d,{children:[f.jsx(kd,{expandIcon:f.jsx(Vo,{}),children:f.jsxs(ce,{variant:"h6",children:["Course Schedule (",w.schedule.length," weeks)"]})}),f.jsx(jd,{children:f.jsx(ge,{sx:{display:"flex",flexDirection:"column",gap:2},children:w.schedule.map((j,F)=>f.jsx(fn,{sx:{p:2,backgroundColor:"grey.50"},children:f.jsxs(vt,{container:!0,spacing:2,alignItems:"center",children:[f.jsx(vt,{item:!0,xs:12,sm:1,children:f.jsx(Dn,{label:`W${j.week}`,size:"small",color:"primary"})}),f.jsx(vt,{item:!0,xs:12,sm:5,children:s?f.jsx(Bt,{fullWidth:!0,size:"small",label:"Topic",value:j.topic,onChange:z=>A(F,"topic",z.target.value)}):f.jsx(ce,{variant:"body2",sx:{fontWeight:500},children:j.topic})}),f.jsx(vt,{item:!0,xs:12,sm:6,children:s?f.jsx(Bt,{fullWidth:!0,size:"small",label:"Description",value:j.description||"",onChange:z=>A(F,"description",z.target.value)}):f.jsx(ce,{variant:"body2",color:"text.secondary",children:j.description||"No description"})})]})},F))})})]}),(((C=w.prerequisites)==null?void 0:C.length)||w.textbook||w.grading)&&f.jsxs(f.Fragment,{children:[f.jsx(ts,{sx:{my:3}}),f.jsx(ce,{variant:"h6",sx:{mb:2},children:"Additional Information"}),f.jsxs(vt,{container:!0,spacing:2,children:[w.prerequisites&&w.prerequisites.length>0&&f.jsxs(vt,{item:!0,xs:12,md:4,children:[f.jsx(ce,{variant:"subtitle2",sx:{mb:1},children:"Prerequisites:"}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:w.prerequisites.join(", ")})]}),w.textbook&&f.jsxs(vt,{item:!0,xs:12,md:4,children:[f.jsx(ce,{variant:"subtitle2",sx:{mb:1},children:"Textbook:"}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:w.textbook})]}),w.grading&&f.jsxs(vt,{item:!0,xs:12,md:4,children:[f.jsx(ce,{variant:"subtitle2",sx:{mb:1},children:"Grading:"}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:w.grading})]})]})]}),e&&f.jsx(ge,{sx:{mt:4,textAlign:"right"},children:f.jsx(mt,{variant:"contained",color:"primary",size:"large",onClick:e,disabled:s,children:"Continue to Materials Preview"})})]})}):null},iX=({onContinue:e,onBack:n})=>{const{generatedMaterials:t,editMaterial:r,error:i}=kp(),[a,s]=X.useState(null),[l,c]=X.useState(null);if(!t.length)return f.jsx(vr,{severity:"warning",children:"No materials generated. Please go back and process a syllabus first."});const d=w=>{s({index:w,material:{...t[w]}})},h=()=>{a&&(r(a.index,a.material),s(null))},g=()=>{s(null)},b=w=>{c(w)},m=w=>{const C=t[w];r(w,{published:!C.published})},x=(w,C=150)=>{const j=w.replace(/<[^>]*>/g,"");return j.length>C?j.substring(0,C)+"...":j},y=w=>w.toLowerCase().includes("overview")?f.jsx(Fd,{color:"primary"}):w.toLowerCase().includes("week")?f.jsx(G0,{color:"secondary"}):f.jsx(Fd,{color:"action"}),A=t.filter(w=>w.published).length;return f.jsxs(ge,{sx:{maxWidth:1e3,mx:"auto"},children:[f.jsxs(fn,{sx:{p:3,mb:3},children:[f.jsxs(ge,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[f.jsx(ce,{variant:"h5",component:"h2",children:"Generated Course Materials"}),f.jsx(Dn,{label:`${A}/${t.length} will be published`,color:"primary",variant:"outlined"})]}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:"Review and customize the course materials generated from your syllabus. You can edit content, toggle publication status, and organize materials before creating your course."}),i&&f.jsx(vr,{severity:"error",sx:{mt:2},children:i})]}),f.jsx(vt,{container:!0,spacing:3,children:t.map((w,C)=>f.jsx(vt,{item:!0,xs:12,md:6,lg:4,children:f.jsxs(Xa,{sx:{height:"100%",display:"flex",flexDirection:"column",border:w.published?"2px solid":"1px solid",borderColor:w.published?"success.main":"divider"},children:[f.jsxs(Za,{sx:{flexGrow:1},children:[f.jsxs(ge,{sx:{display:"flex",alignItems:"flex-start",gap:1,mb:2},children:[y(w.title),f.jsxs(ge,{sx:{flexGrow:1},children:[f.jsx(ce,{variant:"h6",component:"h3",sx:{fontSize:"1rem",lineHeight:1.3,mb:1},children:w.title}),f.jsxs(ge,{sx:{display:"flex",gap:1,alignItems:"center"},children:[f.jsx(Nd,{control:f.jsx(Td,{checked:w.published,onChange:()=>m(C),size:"small"}),label:f.jsx(ce,{variant:"caption",children:w.published?"Publish":"Draft"}),sx:{mr:0}}),w.scheduledTimestamp&&f.jsx(Dn,{label:"Scheduled",size:"small",variant:"outlined",color:"info"})]})]})]}),f.jsxs(ce,{variant:"body2",color:"text.secondary",sx:{mb:2},children:[f.jsx("strong",{children:"Sections:"})," ",w.sections.length]}),w.sections[0]&&f.jsxs(ge,{sx:{mb:2},children:[f.jsx(ce,{variant:"subtitle2",sx:{mb:1},children:w.sections[0].title}),f.jsx(ce,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.85rem",fontStyle:"italic"},children:x(w.sections[0].content)})]})]}),f.jsxs(GN,{children:[f.jsx(mt,{size:"small",startIcon:f.jsx(C6,{}),onClick:()=>b(w),children:"Preview"}),f.jsx(mt,{size:"small",startIcon:f.jsx(vu,{}),onClick:()=>d(C),children:"Edit"})]})]})},w.id))}),f.jsxs(ge,{sx:{display:"flex",justifyContent:"space-between",mt:4},children:[n&&f.jsx(mt,{variant:"outlined",onClick:n,size:"large",children:"Back to Course Info"}),e&&f.jsxs(mt,{variant:"contained",color:"primary",onClick:e,size:"large",disabled:A===0,children:["Create Course with ",A," Materials"]})]}),f.jsxs(Xi,{open:a!==null,onClose:g,maxWidth:"md",fullWidth:!0,children:[f.jsxs(pa,{children:["Edit Material: ",a==null?void 0:a.material.title]}),f.jsx(Zi,{children:a&&f.jsxs(ge,{sx:{pt:1},children:[f.jsx(Bt,{fullWidth:!0,label:"Material Title",value:a.material.title,onChange:w=>s({...a,material:{...a.material,title:w.target.value}}),sx:{mb:3}}),f.jsx(ce,{variant:"h6",sx:{mb:2},children:"Header"}),f.jsx(Bt,{fullWidth:!0,label:"Header Title",value:a.material.header.title,onChange:w=>s({...a,material:{...a.material,header:{...a.material.header,title:w.target.value}}}),sx:{mb:2}}),f.jsx(Bt,{fullWidth:!0,multiline:!0,rows:2,label:"Header Content",value:a.material.header.content,onChange:w=>s({...a,material:{...a.material,header:{...a.material.header,content:w.target.value}}}),sx:{mb:3}}),f.jsx(ce,{variant:"h6",sx:{mb:2},children:"Sections"}),a.material.sections.map((w,C)=>f.jsxs(_d,{sx:{mb:2},children:[f.jsx(kd,{expandIcon:f.jsx(Vo,{}),children:f.jsx(ce,{children:w.title})}),f.jsxs(jd,{children:[f.jsx(Bt,{fullWidth:!0,label:"Section Title",value:w.title,onChange:j=>{const F=[...a.material.sections];F[C]={...F[C],title:j.target.value},s({...a,material:{...a.material,sections:F}})},sx:{mb:2}}),f.jsx(Bt,{fullWidth:!0,multiline:!0,rows:4,label:"Section Content",value:w.content,onChange:j=>{const F=[...a.material.sections];F[C]={...F[C],content:j.target.value},s({...a,material:{...a.material,sections:F}})}})]})]},w.id))]})}),f.jsxs(ma,{children:[f.jsx(mt,{onClick:g,children:"Cancel"}),f.jsx(mt,{onClick:h,variant:"contained",children:"Save Changes"})]})]}),f.jsxs(Xi,{open:l!==null,onClose:()=>c(null),maxWidth:"md",fullWidth:!0,children:[f.jsx(pa,{children:l==null?void 0:l.title}),f.jsx(Zi,{children:l&&f.jsxs(ge,{sx:{pt:1},children:[f.jsxs(fn,{sx:{p:2,mb:3,backgroundColor:"primary.50"},children:[f.jsx(ce,{variant:"h6",color:"primary",children:l.header.title}),f.jsx(ce,{variant:"body2",sx:{mt:1},children:l.header.content.replace(/<[^>]*>/g,"")})]}),l.sections.map(w=>f.jsxs(ge,{sx:{mb:3},children:[f.jsx(ce,{variant:"h6",sx:{mb:2},children:w.title}),f.jsx(ce,{variant:"body1",sx:{mb:2},children:w.content.replace(/<[^>]*>/g,"")}),w.subsections.map(C=>f.jsxs(ge,{sx:{ml:2,mb:2},children:[f.jsx(ce,{variant:"subtitle1",sx:{mb:1},children:C.title}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:C.content.replace(/<[^>]*>/g,"")})]},C.id))]},w.id)),f.jsx(fn,{sx:{p:2,backgroundColor:"grey.50"},children:f.jsx(ce,{variant:"body2",color:"text.secondary",children:l.footer.content.replace(/<[^>]*>/g,"")})})]})}),f.jsx(ma,{children:f.jsx(mt,{onClick:()=>c(null),children:"Close"})})]})]})},aX=({onConfigChange:e,compact:n=!1})=>{const{useAIProcessing:t,setUseAIProcessing:r}=kp(),[i,a]=X.useState(null);X.useEffect(()=>{const{config:h,isValid:g,errors:b}=cI();a({config:h,isValid:g,errors:b})},[]);const s=h=>{if(r(h),i){const g={...i.config,enableAIProcessing:h},b=uI(g);a({config:g,...b}),e==null||e(g)}},l=()=>i?i.isValid&&t?f.jsx(Rg,{color:"success"}):!i.isValid&&t?f.jsx(mR,{color:"error"}):f.jsx(wx,{color:"action"}):f.jsx(wx,{color:"action"}),c=()=>t?i?i.isValid?"AI processing ready - enhanced syllabus analysis enabled":`Configuration issues: ${i.errors.join(", ")}`:"Loading configuration...":"AI processing disabled - using pattern-based parsing",d=()=>t?i?i.isValid?"success":"error":"info":"warning";return n?f.jsxs(ge,{sx:{display:"flex",alignItems:"center",gap:2},children:[l(),f.jsx(Nd,{control:f.jsx(Td,{checked:t,onChange:h=>s(h.target.checked),size:"small"}),label:"AI Processing"}),f.jsx(si,{title:c(),children:f.jsx(pR,{fontSize:"small",color:"action"})})]}):f.jsx(fn,{sx:{p:2,mb:2},children:f.jsxs(_d,{children:[f.jsx(kd,{expandIcon:f.jsx(Vo,{}),children:f.jsxs(ge,{sx:{display:"flex",alignItems:"center",gap:2,width:"100%"},children:[l(),f.jsxs(ge,{sx:{flexGrow:1},children:[f.jsx(ce,{variant:"subtitle1",sx:{fontWeight:500},children:"AI-Powered Processing Settings"}),f.jsx(ce,{variant:"caption",color:"text.secondary",children:c()})]}),f.jsx(Dn,{label:t?"Enabled":"Disabled",color:t?"success":"default",size:"small"})]})}),f.jsx(jd,{children:f.jsxs(vt,{container:!0,spacing:3,children:[f.jsx(vt,{item:!0,xs:12,children:f.jsx(Nd,{control:f.jsx(Td,{checked:t,onChange:h=>s(h.target.checked)}),label:f.jsxs(ge,{children:[f.jsx(ce,{variant:"body2",sx:{fontWeight:500},children:"Enable AI-Powered Analysis"}),f.jsx(ce,{variant:"caption",color:"text.secondary",children:"Use Google Gemini to extract structured information from syllabi"})]})})}),t&&f.jsx(vt,{item:!0,xs:12,children:f.jsxs(fn,{sx:{p:2,backgroundColor:i!=null&&i.isValid?"success.50":"error.50",border:"1px solid",borderColor:i!=null&&i.isValid?"success.200":"error.200"},children:[f.jsx(ce,{variant:"subtitle2",sx:{mb:1,color:i!=null&&i.isValid?"success.main":"error.main"},children:i!=null&&i.isValid?" API Configuration":" API Configuration"}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:i!=null&&i.isValid?"Gemini API key is configured and ready for use.":"Gemini API key is required. Please add VITE_GEMINI_API_KEY to your environment variables."})]})}),f.jsx(vt,{item:!0,xs:12,children:f.jsxs(vr,{severity:d(),sx:{mb:2},children:[f.jsx(ce,{variant:"body2",children:c()}),(i==null?void 0:i.errors)&&i.errors.length>0&&f.jsx(ge,{sx:{mt:1},children:i.errors.map((h,g)=>f.jsxs(ce,{variant:"caption",display:"block",children:[" ",h]},g))})]})}),t&&(i==null?void 0:i.isValid)&&f.jsx(vt,{item:!0,xs:12,children:f.jsxs(fn,{sx:{p:2,backgroundColor:"primary.50",border:"1px solid",borderColor:"primary.200"},children:[f.jsx(ce,{variant:"subtitle2",sx:{mb:1,color:"primary.main"},children:" Enhanced Features with AI:"}),f.jsxs(vt,{container:!0,spacing:1,children:[f.jsxs(vt,{item:!0,xs:12,sm:6,children:[f.jsx(ce,{variant:"caption",display:"block",children:" Intelligent course information extraction"}),f.jsx(ce,{variant:"caption",display:"block",children:" Automatic learning objectives identification"}),f.jsx(ce,{variant:"caption",display:"block",children:" Smart schedule parsing and organization"})]}),f.jsxs(vt,{item:!0,xs:12,sm:6,children:[f.jsx(ce,{variant:"caption",display:"block",children:" Grading policy analysis"}),f.jsx(ce,{variant:"caption",display:"block",children:" Assignment and due date extraction"}),f.jsx(ce,{variant:"caption",display:"block",children:" Enhanced material generation"})]})]})]})}),!t&&f.jsx(vt,{item:!0,xs:12,children:f.jsxs(fn,{sx:{p:2,backgroundColor:"warning.50",border:"1px solid",borderColor:"warning.200"},children:[f.jsx(ce,{variant:"subtitle2",sx:{mb:1,color:"warning.main"},children:" Pattern-Based Processing:"}),f.jsx(ce,{variant:"caption",color:"text.secondary",children:"Using traditional text parsing methods. Results may be less accurate than AI processing. Enable AI processing for better extraction accuracy."})]})})]})})]})})},dI=({onComplete:e,onCancel:n,educatorUid:t})=>{const{currentStep:r,setCurrentStep:i,parsedCourseInfo:a,generatedMaterials:s,isProcessing:l,error:c,useAIProcessing:d,processingProgress:h,reset:g}=kp(),[b,m]=X.useState(null);it.useEffect(()=>{const{config:L}=cI();m(L)},[]);const x=[{label:"Upload Syllabus",description:"Upload your syllabus document"},{label:"Review Course Info",description:"Verify and edit course information"},{label:"Review Materials",description:"Customize generated course materials"}],y=()=>{switch(r){case"upload":case"processing":return 0;case"review":return 1;case"editing":return 2;case"complete":return 2;default:return 0}},A=()=>{i("editing")},w=()=>{i("review")},C=()=>{if(a&&s.length>0){const L=s.filter(k=>k.published);e==null||e({courseInfo:a,materials:L})}},j=()=>{g(),n==null||n()},F=L=>{m(L)},z=()=>{switch(r){case"upload":case"processing":return f.jsx(a4,{onUploadComplete:()=>{},educatorUid:t});case"review":return f.jsx(rX,{onContinue:A});case"editing":case"complete":return f.jsx(iX,{onContinue:C,onBack:w});default:return f.jsx(a4,{onUploadComplete:()=>{},educatorUid:t})}};return f.jsxs(ge,{sx:{width:"100%",maxWidth:1200,mx:"auto",p:3},children:[f.jsxs(fn,{sx:{p:3,mb:4},children:[f.jsx(ce,{variant:"h4",component:"h1",gutterBottom:!0,children:"Import Course from Syllabus"}),f.jsx(ce,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"Upload your syllabus document and we'll automatically create a course structure with organized materials based on your content."}),f.jsx(gR,{activeStep:y(),alternativeLabel:!0,children:x.map(L=>f.jsx(bR,{children:f.jsxs(yR,{children:[f.jsx(ce,{variant:"body2",sx:{fontWeight:500},children:L.label}),f.jsx(ce,{variant:"caption",color:"text.secondary",children:L.description})]})},L.label))})]}),r==="upload"&&f.jsx(aX,{onConfigChange:F,compact:!1}),c&&f.jsx(vr,{severity:"error",sx:{mb:3},onClose:()=>{},children:c}),l&&f.jsx(vr,{severity:"info",sx:{mb:3},children:f.jsx(ce,{variant:"body2",children:d?" AI is analyzing your syllabus for enhanced data extraction... This usually takes 10-30 seconds.":" Processing your syllabus with pattern-based analysis... This usually takes a moment."})}),f.jsx(ge,{sx:{minHeight:400},children:z()}),r!=="upload"&&n&&f.jsx(ge,{sx:{display:"flex",justifyContent:"center",mt:3},children:f.jsx(mt,{variant:"outlined",color:"secondary",onClick:j,size:"small",children:"Cancel & Return to Manual Entry"})})]})},Hx=e=>{if(e==null)return null;if(e instanceof Date)return e;if(Array.isArray(e))return e.map(Hx).filter(n=>n!=null);if(typeof e=="object"){const n={};return Object.keys(e).forEach(t=>{const r=e[t];if(r!==void 0){const i=Hx(r);i!=null&&(n[t]=i)}}),n}return e},sX=()=>{const{userDetails:e}=Ai(),n=ea(),t=Jn(),[r,i]=X.useState(""),[a,s]=X.useState(""),[l,c]=X.useState(""),[d,h]=X.useState(""),[g,b]=X.useState(""),[m,x]=X.useState(""),[y,A]=X.useState(""),[w,C]=X.useState("primary"),[j,F]=X.useState("manual"),{parsedCourseInfo:z,generatedMaterials:L,reset:k,currentStep:M}=kp(),[q,Q]=X.useState(!1),[T,O]=X.useState(!1),[R,N]=X.useState("");X.useEffect(()=>{(j==="manual"||w==="co-instructor")&&k()},[j,w,k]),X.useEffect(()=>{w==="primary"&&j==="syllabus"&&z&&(b(z.suggestedNumber||""),x(z.suggestedTitle||""),A(z.suggestedDescription||""))},[w,j,z]);const K=Z=>ne=>{Z(ne.target.value)},H=Z=>{const ne=Z.target.value;C(ne),ne==="co-instructor"&&(F("manual"),b(""),x(""),A(""))},G=(Z,ne)=>{ne!==null&&(F(ne),ne==="syllabus"&&(b(""),x(""),A("")))},ee=()=>{if(!r||!a||!l||!d||!g||!m)return"Please fill in all required fields.";if(w==="primary"){if(j==="manual"&&!y)return"Please provide a course description.";if(j==="syllabus"){if(!z)return"Please complete the syllabus import process first.";if(!y)return"Please ensure course description is properly filled from your syllabus."}}return null},le=Z=>{console.log("Syllabus import completed for educator request:",Z)},Y=async()=>{const Z=ee();if(Z){N(Z),O(!0);return}Q(!0);try{const ne={uid:(e==null?void 0:e.uid)||"",firstName:r||"",lastName:a||"",institution:l||"",email:d||"",courseNumber:g||"",courseTitle:m||"",courseDescription:w==="primary"?y||"":"CO-INSTRUCTOR REQUEST",requestType:w||"primary",status:"pending",timestamp:new Date,syllabusImported:!1};if(w==="primary"&&j==="syllabus"&&z&&L.length>0){const Oe={parsedCourseInfo:z,generatedMaterials:L.filter($e=>$e.published)},Ie=Hx(Oe);ne.syllabusImported=!0,ne.syllabusData=Ie}const ve=Hx(ne);console.log("Submitting clean educator request document:",ve);const ye=await Ma(wn(t,"educatorRequests"),ve),Ce={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:`New Educator Request Submitted${w==="primary"&&j==="syllabus"?" (With Syllabus Import)":""}`,html:`
            <p>A new educator request has been submitted:</p>
            <p><strong>Name:</strong> ${r} ${a}</p>
            <p><strong>Email:</strong> ${d}</p>
            <p><strong>Institution:</strong> ${l}</p>
            <p><strong>Course:</strong> ${g} - ${m}</p>
            <p><strong>Request Type:</strong> ${w}</p>
            ${w==="primary"?`<p><strong>Course Creation Method:</strong> ${j==="syllabus"?"Imported from Syllabus":"Manual Entry"}</p>`:""}
            ${w==="primary"&&j==="syllabus"&&L.length>0?`<p><strong>Generated Materials:</strong> ${L.filter(Oe=>Oe.published).length} materials ready for publication</p>`:""}
            <p><strong>Description:</strong> ${y}</p>
            <p><strong>Request ID:</strong> ${ye.id}</p>
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/educator-requests">
            Click here to review the request.
            </a></p>
          `}};await Ma(wn(t,"mail"),Ce),N(w==="primary"&&j==="syllabus"&&L.length>0?`Your educator request has been submitted for review with ${L.filter(Oe=>Oe.published).length} auto-generated course materials.`:"Your request has been submitted for review."),i(""),s(""),c(""),h(""),b(""),x(""),A(""),C("primary"),F("manual"),j==="syllabus"&&k(),O(!0),setTimeout(()=>{n("/my-profile")},3e3)}catch(ne){console.error("Error submitting request: ",ne),ne instanceof Error&&console.error("Error details:",{message:ne.message,name:ne.name,stack:ne.stack}),N("Error submitting your request. Please try again."),O(!0)}finally{Q(!1)}},te=()=>{O(!1)},U=()=>{n("/my-profile")},B=w==="primary"&&j==="syllabus"&&M!=="upload"&&!z,re=w==="primary"&&j==="syllabus"&&(M==="review"||M==="editing"||M==="complete")&&z;return f.jsxs(ge,{className:"request-form-container",sx:{padding:3,maxWidth:"1400px",mx:"auto"},children:[f.jsx(ge,{sx:{display:"flex",alignItems:"center",mb:3},children:f.jsx(mt,{variant:"text",onClick:U,className:"back-home-button",children:" My Account"})}),f.jsxs(ge,{className:"request-form-outline",sx:{backgroundColor:"#f8f9fa",borderRadius:2,p:4,border:"1px solid #e3f2fd",minWidth:"100%"},children:[f.jsx(ce,{variant:"h5",component:"h1",className:"request-form-title",sx:{mb:3},children:"Request Educator Permissions"}),f.jsxs(vt,{item:!0,xs:12,sx:{mb:3},children:[f.jsx(pu,{htmlFor:"request-type",required:!0,children:"Request Type"}),f.jsxs(Rl,{id:"request-type",name:"request-type",value:w,onChange:H,fullWidth:!0,required:!0,disabled:q,sx:{mt:1},children:[f.jsx(Zn,{value:"primary",children:"I am a primary course instructor, I want to create a new course"}),f.jsx(Zn,{value:"co-instructor",children:"I am a co-instructor, I want to be added to an existing course"})]})]}),f.jsx(ce,{variant:"h6",component:"h2",sx:{mb:2},children:"Personal Information"}),f.jsxs(vt,{container:!0,spacing:3,children:[f.jsxs(vt,{item:!0,xs:12,md:6,children:[f.jsx(pu,{htmlFor:"first-name",required:!0,children:"First Name"}),f.jsx(pc,{id:"first-name",name:"first-name",value:r,onChange:K(i),placeholder:"John",fullWidth:!0,required:!0,disabled:q})]}),f.jsxs(vt,{item:!0,xs:12,md:6,children:[f.jsx(pu,{htmlFor:"last-name",required:!0,children:"Last Name"}),f.jsx(pc,{id:"last-name",name:"last-name",value:a,onChange:K(s),placeholder:"Doe",fullWidth:!0,required:!0,disabled:q})]}),f.jsxs(vt,{item:!0,xs:12,children:[f.jsx(pu,{htmlFor:"institution",required:!0,children:"Institution Affiliation"}),f.jsx(pc,{id:"institution",name:"institution",value:l,onChange:K(c),placeholder:"University Name",fullWidth:!0,required:!0,disabled:q})]}),f.jsxs(vt,{item:!0,xs:12,children:[f.jsx(pu,{htmlFor:"email",required:!0,children:"Institutional Email"}),f.jsx(pc,{id:"email",name:"email",value:d,onChange:K(h),placeholder:"name@institution.edu",fullWidth:!0,required:!0,disabled:q}),f.jsx(ce,{variant:"caption",sx:{mt:1},children:"Please use your institutional email to confirm your affiliation."})]})]}),f.jsx(ts,{sx:{my:4}}),f.jsx(ce,{variant:"h6",component:"h2",sx:{mb:2},children:w==="primary"?"New Course Details":"Existing Course Details"}),w==="primary"&&f.jsxs(fn,{sx:{p:3,mb:4,backgroundColor:"grey.50"},children:[f.jsx(ce,{variant:"subtitle1",sx:{mb:2},children:"How would you like to create your course?"}),f.jsxs(w6,{value:j,exclusive:!0,onChange:G,"aria-label":"course creation mode",fullWidth:!0,sx:{mb:2},children:[f.jsxs(Q0,{value:"manual","aria-label":"manual entry",children:[f.jsx(vu,{sx:{mr:1}}),"Manual Entry"]}),f.jsxs(Q0,{value:"syllabus","aria-label":"syllabus import",children:[f.jsx(QN,{sx:{mr:1}}),"Import from Syllabus"]})]}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:j==="manual"?"Fill out the course information manually using the form below.":"Upload your syllabus document and we'll automatically extract course information and generate materials."})]}),w==="primary"&&j==="syllabus"&&f.jsx(ge,{sx:{mb:4},children:f.jsx(dI,{onComplete:le,onCancel:()=>F("manual")})}),(w==="co-instructor"||w==="primary"&&j==="manual")&&f.jsxs(vt,{container:!0,spacing:3,sx:{mb:4},children:[f.jsxs(vt,{item:!0,xs:12,md:6,children:[f.jsx(pu,{htmlFor:"course-number",required:!0,children:"Course Number"}),f.jsx(pc,{id:"course-number",name:"course-number",value:g,onChange:K(b),placeholder:"e.g., BIOL301",fullWidth:!0,required:!0,disabled:q})]}),f.jsxs(vt,{item:!0,xs:12,md:6,children:[f.jsx(pu,{htmlFor:"course-title",required:!0,children:"Course Title"}),f.jsx(pc,{id:"course-title",name:"course-title",value:m,onChange:K(x),placeholder:"e.g., Biotech Research Methods",fullWidth:!0,required:!0,disabled:q})]}),w==="primary"&&f.jsxs(vt,{item:!0,xs:12,children:[f.jsx(pu,{htmlFor:"course-description",required:!0,children:"Course Description"}),f.jsx(pc,{id:"course-description",name:"course-description",value:y,onChange:K(A),placeholder:"e.g., A comprehensive course covering advanced methods and tools in modern biotech labs, focusing on CRISPR, NGS, and bioinformatics.",fullWidth:!0,multiline:!0,rows:4,required:!0,disabled:q})]})]}),(w==="co-instructor"||w==="primary"&&j==="manual"||re)&&f.jsxs(ge,{sx:{mt:4},children:[f.jsx(mt,{variant:"contained",color:"primary",onClick:Y,fullWidth:!0,className:"submit-button",sx:{py:1.5,fontWeight:"bold",fontSize:"16px",textTransform:"uppercase"},disabled:q||B,children:q?f.jsxs(f.Fragment,{children:[f.jsx(Gr,{size:24,color:"inherit",sx:{mr:1}}),"Submitting Request..."]}):`Submit Request${w==="primary"&&j==="syllabus"&&L.length>0?` with ${L.filter(Z=>Z.published).length} Materials`:""}`}),f.jsxs(ce,{variant:"body2",sx:{mt:2,textAlign:"center"},children:["For any questions, please contact ",f.jsx("a",{href:"mailto:andriy@intofuture.org",children:"andriy@intofuture.org"}),"."]})]}),f.jsxs(Xi,{open:T,onClose:te,children:[f.jsx(pa,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:f.jsx(Rg,{sx:{color:"green",fontSize:50,marginRight:1}})}),f.jsx(Zi,{children:f.jsx(Fl,{sx:{textAlign:"center"},children:R})}),f.jsx(ma,{children:f.jsx(mt,{onClick:te,color:"primary",autoFocus:!0,children:"Close"})})]})]})]})},oX=()=>{const[e,n]=X.useState([]),[t,r]=X.useState([]),[i,a]=X.useState(""),[s,l]=X.useState(!1),[c,d]=X.useState(""),[h,g]=X.useState("success"),[b,m]=X.useState(!1),[x,y]=X.useState(null),[A,w]=X.useState(null),[C,j]=X.useState(null),F=Jn(),z=ea();X.useEffect(()=>{(async()=>{const K=(await mi(wn(F,"educatorRequests"))).docs.map(ee=>({id:ee.id,...ee.data()})),G=(await mi(wn(F,"courses"))).docs.map(ee=>({id:ee.id,...ee.data()}));n(K),r(G)})()},[F]);function L(){const R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let N="";for(let K=0;K<28;K++)N+=R.charAt(Math.floor(Math.random()*R.length));return N}const k=async()=>{var R,N;if(!(!A||!C)){if(!C.courseNumber||!C.courseTitle){d("Course number or title is missing. Cannot approve request."),g("error"),l(!0);return}if(C.requestType==="co-instructor"&&!i){d("Please select a course for the co-instructor request."),g("error"),l(!0);return}if(C.status!=="pending"){d("This request has already been processed."),g("warning"),l(!0);return}try{const K=xn(F,"users",C.uid);if(C.requestType==="primary"){const H=L(),G=await Ma(wn(F,"courses"),{number:C.courseNumber,title:C.courseTitle,passcode:H,courseAdmin:[C.uid]}),ee=await Oa(K),le=ee.exists()?((R=ee.data())==null?void 0:R.classes)||{}:{};await Wr(K,{isAdmin:!0,classes:{...le,[G.id]:{number:C.courseNumber,title:C.courseTitle,isCourseAdmin:!0,courseCreatedAt:new Date,enrolledAt:new Date}}}),await Wr(xn(F,"educatorRequests",A),{status:"approved",courseId:G.id,passcode:H})}else if(C.requestType==="co-instructor"){if(!i){d("Please select a course for the co-instructor request."),g("error"),l(!0);return}const H=xn(F,"courses",i);await Wr(H,{courseAdmin:ZR(C.uid)});const G=await Oa(K),ee=G.exists()?((N=G.data())==null?void 0:N.classes)||{}:{};await Wr(K,{isAdmin:!0,classes:{...ee,[i]:{number:C.courseNumber,title:C.courseTitle,isCourseAdmin:!0,courseCreatedAt:new Date,enrolledAt:new Date}}}),await Wr(xn(F,"educatorRequests",A),{status:"approved",courseId:i})}d("Request approved, and user promoted to educator."),g("success"),n(H=>H.map(G=>G.id===A?{...G,status:"approved"}:G))}catch(K){console.error("Error approving request: ",K),d("Error approving the request. Please try again."),g("error")}l(!0),Q()}},M=async()=>{if(A){try{await Wr(xn(F,"educatorRequests",A),{status:"denied"}),d("Request denied."),g("success"),n(e.map(R=>R.id===A?{...R,status:"denied"}:R))}catch(R){console.error("Error denying request: ",R),d("Error denying the request. Please try again."),g("error")}l(!0),Q()}},q=(R,N,K)=>{y(R),w(N),j(K),a(""),m(!0)},Q=()=>{m(!1),y(null),w(null),j(null)},T=()=>{l(!1)},O=()=>{z("/")};return f.jsxs(ge,{sx:{padding:3},children:[f.jsx(ge,{sx:{display:"flex",alignItems:"center"},children:f.jsx(mt,{variant:"text",onClick:O,sx:{mr:2},children:" Home Page"})}),f.jsx(ce,{variant:"h4",component:"h1",sx:{fontWeight:"bold",mb:3},children:"Educator Permission Requests"}),f.jsx(Eu,{component:fn,children:f.jsxs(_u,{children:[f.jsx(ku,{children:f.jsxs(Fi,{children:[f.jsx(ft,{children:"Name"}),f.jsx(ft,{children:"User ID"}),f.jsx(ft,{children:"Institution"}),f.jsx(ft,{children:"Email"}),f.jsx(ft,{children:"Course Number"}),f.jsx(ft,{children:"Course Title"}),f.jsx(ft,{children:"Course Description"}),f.jsx(ft,{children:"Timestamp"}),f.jsx(ft,{children:"Actions"})]})}),f.jsx(ju,{children:e.map(R=>f.jsxs(Fi,{children:[f.jsx(ft,{children:`${R.firstName} ${R.lastName}`}),f.jsx(ft,{children:R.uid}),f.jsx(ft,{children:R.institution}),f.jsx(ft,{children:R.email}),f.jsx(ft,{children:R.courseNumber}),f.jsx(ft,{children:R.courseTitle}),f.jsx(ft,{children:R.courseDescription}),f.jsx(ft,{children:new Date(R.timestamp.seconds*1e3).toLocaleString()}),f.jsxs(ft,{children:[R.status==="pending"&&f.jsxs(f.Fragment,{children:[f.jsx(mt,{variant:"contained",color:"primary",sx:{mr:1},onClick:()=>q("approve",R.id,R),children:"Approve"}),f.jsx(mt,{variant:"contained",color:"secondary",onClick:()=>q("deny",R.id,R),children:"Deny"})]}),R.status==="approved"&&f.jsx(ce,{color:"success.main",children:"Approved"}),R.status==="denied"&&f.jsx(ce,{color:"error.main",children:"Denied"})]})]},R.id))})]})}),f.jsx(rl,{open:s,autoHideDuration:6e3,onClose:T,children:f.jsx(vr,{onClose:T,severity:h,sx:{width:"100%"},children:c})}),f.jsxs(Xi,{open:b,onClose:Q,"aria-labelledby":"confirmation-dialog-title","aria-describedby":"confirmation-dialog-description",children:[f.jsx(pa,{id:"confirmation-dialog-title",children:x==="approve"?"Confirm Approval":"Confirm Denial"}),f.jsxs(Zi,{children:[f.jsxs(Fl,{id:"confirmation-dialog-description",children:["Are you sure you want to ",x," this request for ",C==null?void 0:C.firstName," ",C==null?void 0:C.lastName,"?"]}),x==="approve"&&(C==null?void 0:C.requestType)==="co-instructor"&&f.jsxs(ge,{sx:{mt:2},children:[f.jsx(ce,{children:"Select Course:"}),f.jsx(Rl,{fullWidth:!0,value:i,onChange:R=>a(R.target.value),children:t.map(R=>f.jsx(Zn,{value:R.id,children:`${R.number} - ${R.title}`},R.id))})]})]}),f.jsxs(ma,{children:[f.jsx(mt,{onClick:Q,color:"primary",children:"Cancel"}),f.jsx(mt,{onClick:x==="approve"?k:M,color:"primary",variant:"contained",autoFocus:!0,disabled:(C==null?void 0:C.requestType)==="co-instructor"&&!i,children:"Confirm"})]})]})]})},Wx=e=>{if(e==null)return null;if(e instanceof Date)return e;if(Array.isArray(e))return e.map(Wx).filter(n=>n!=null);if(typeof e=="object"){const n={};return Object.keys(e).forEach(t=>{const r=e[t];if(r!==void 0){const i=Wx(r);i!=null&&(n[t]=i)}}),n}return e},lX=()=>{const{userDetails:e}=Ai(),n=ea(),t=Jn(),[r,i]=X.useState("manual"),[a,s]=X.useState(""),[l,c]=X.useState(""),[d,h]=X.useState(""),{parsedCourseInfo:g,generatedMaterials:b,aiExtractedInfo:m,storedSyllabusFile:x,reset:y,currentStep:A}=kp(),[w,C]=X.useState(!1),[j,F]=X.useState(!1),[z,L]=X.useState("");X.useEffect(()=>{r==="manual"&&y()},[r,y]),X.useEffect(()=>{r==="syllabus"&&g&&(s(g.suggestedNumber||""),c(g.suggestedTitle||""),h(g.suggestedDescription||""))},[r,g]);const k=H=>G=>{H(G.target.value)},M=(H,G)=>{G!==null&&(i(G),G==="syllabus"&&(s(""),c(""),h("")))},q=()=>{if(r==="manual"){if(!a||!l||!d)return"Please fill in all required fields."}else if(r==="syllabus"){if(!g)return"Please complete the syllabus import process first.";if(!a||!l||!d)return"Please ensure course information is properly filled from your syllabus."}return null},Q=H=>{console.log("Syllabus import completed:",H),T()},T=async()=>{const H=q();if(H){L(H),F(!0);return}C(!0);try{const G={uid:(e==null?void 0:e.uid)||"",courseNumber:a||"",courseTitle:l||"",courseDescription:d||"",status:"pending",timestamp:new Date,syllabusImported:!1};if(r==="syllabus"&&g&&b.length>0){const te={parsedCourseInfo:g,generatedMaterials:b.filter(B=>B.published),additionalInfo:m?{contactInfo:m.contactInfo,policies:m.policies,additionalResources:m.additionalResources,labSpecific:m.labSpecific,textbooks:m.textbooks,gradingPolicy:m.gradingPolicy,assignments:m.assignments,prerequisites:m.prerequisites}:null,syllabusFile:x?{url:x.url,path:x.path,metadata:x.metadata}:null},U=Wx(te);G.syllabusImported=!0,G.syllabusData=U}const ee=Wx(G);console.log("Submitting clean request document:",ee);const le=await Ma(wn(t,"courseRequests"),ee),Y={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:`New Course Request Submitted${r==="syllabus"?" (With Syllabus Import)":""}`,html:`
            <p>A new course request has been submitted:</p>
            <p><strong>Educator ID:</strong> ${(e==null?void 0:e.uid)||"Unknown"}</p>
            <p><strong>Course:</strong> ${a} - ${l}</p>
            <p><strong>Description:</strong> ${d}</p>
            <p><strong>Creation Method:</strong> ${r==="syllabus"?"Imported from Syllabus":"Manual Entry"}</p>
            ${r==="syllabus"&&b.length>0?`<p><strong>Generated Materials:</strong> ${b.filter(te=>te.published).length} materials ready for publication</p>`:""}
            <p><strong>Request ID:</strong> ${le.id}</p>
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/course-requests">
            Click here to review the request.
            </a></p>
          `}};await Ma(wn(t,"mail"),Y),L(r==="syllabus"?`Your course request has been submitted for review with ${b.filter(te=>te.published).length} auto-generated materials.`:"Your course request has been submitted for review."),s(""),c(""),h(""),r==="syllabus"&&y(),F(!0),setTimeout(()=>{n("/course-management")},3e3)}catch(G){console.error("Error submitting course request: ",G),G instanceof Error&&console.error("Error details:",{message:G.message,name:G.name,stack:G.stack}),L("Error submitting your course request. Please try again."),F(!0)}finally{C(!1)}},O=()=>{F(!1)},R=()=>{n("/course-management")},N=r==="syllabus"&&A!=="upload"&&!g,K=r==="syllabus"&&(A==="review"||A==="editing"||A==="complete")&&g;return f.jsxs(ge,{className:"request-form-container",sx:{padding:3,maxWidth:"1400px",mx:"auto"},children:[f.jsx(ge,{sx:{display:"flex",alignItems:"center",mb:3},children:f.jsx(mt,{variant:"text",onClick:R,className:"back-home-button",children:" Course Management"})}),f.jsxs(ge,{className:"request-form-outline",sx:{backgroundColor:"#f8f9fa",borderRadius:2,p:4,border:"1px solid #e3f2fd",minWidth:"100%"},children:[f.jsx(ce,{variant:"h5",component:"h1",className:"request-form-title",sx:{mb:3},children:"Request Creating a New Course"}),f.jsxs(fn,{sx:{p:3,mb:4,backgroundColor:"grey.50"},children:[f.jsx(ce,{variant:"h6",sx:{mb:2},children:"How would you like to create your course?"}),f.jsxs(w6,{value:r,exclusive:!0,onChange:M,"aria-label":"course creation mode",fullWidth:!0,sx:{mb:2},children:[f.jsxs(Q0,{value:"manual","aria-label":"manual entry",children:[f.jsx(vu,{sx:{mr:1}}),"Manual Entry"]}),f.jsxs(Q0,{value:"syllabus","aria-label":"syllabus import",children:[f.jsx(QN,{sx:{mr:1}}),"Import from Syllabus"]})]}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:r==="manual"?"Fill out the course information manually using the form below.":"Upload your syllabus document and we'll automatically extract course information and generate materials."})]}),r==="syllabus"&&f.jsx(ge,{sx:{mb:4},children:f.jsx(dI,{onComplete:Q,onCancel:()=>i("manual"),educatorUid:e==null?void 0:e.uid})}),r==="manual"&&f.jsxs(vt,{container:!0,spacing:3,children:[f.jsxs(vt,{item:!0,xs:12,md:6,children:[f.jsx(pu,{htmlFor:"course-number",required:!0,children:"Course Number"}),f.jsx(pc,{id:"course-number",name:"course-number",value:a,onChange:k(s),placeholder:"e.g., BIOL301",fullWidth:!0,required:!0,disabled:w})]}),f.jsxs(vt,{item:!0,xs:12,md:6,children:[f.jsx(pu,{htmlFor:"course-title",required:!0,children:"Course Title"}),f.jsx(pc,{id:"course-title",name:"course-title",value:l,onChange:k(c),placeholder:"e.g., Biotech Research Methods",fullWidth:!0,required:!0,disabled:w})]}),f.jsxs(vt,{item:!0,xs:12,children:[f.jsx(pu,{htmlFor:"course-description",required:!0,children:"Course Description"}),f.jsx(pc,{id:"course-description",name:"course-description",value:d,onChange:k(h),placeholder:"e.g., A comprehensive course covering advanced methods and tools in modern biotech labs, focusing on CRISPR, NGS, and bioinformatics.",fullWidth:!0,multiline:!0,rows:4,required:!0,disabled:w})]})]}),(r==="manual"||K)&&f.jsxs(ge,{sx:{mt:4},children:[f.jsx(mt,{variant:"contained",color:"primary",onClick:T,fullWidth:!0,className:"submit-button",disabled:w||N,sx:{py:1.5,fontWeight:"bold",fontSize:"16px",textTransform:"uppercase"},children:w?f.jsxs(f.Fragment,{children:[f.jsx(Gr,{size:24,color:"inherit",sx:{mr:1}}),"Submitting Request..."]}):`Submit Request${r==="syllabus"&&b.length>0?` with ${b.filter(H=>H.published).length} Materials`:""}`}),f.jsxs(ce,{variant:"body2",sx:{mt:2,textAlign:"center"},children:["For any questions, please contact ",f.jsx("a",{href:"mailto:andriy@intofuture.org",children:"andriy@intofuture.org"}),"."]})]}),f.jsxs(Xi,{open:j,onClose:O,children:[f.jsx(pa,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:f.jsx(Rg,{sx:{color:"green",fontSize:50,marginRight:1}})}),f.jsx(Zi,{children:f.jsx(Fl,{sx:{textAlign:"center"},children:z})}),f.jsx(ma,{children:f.jsx(mt,{onClick:O,color:"primary",autoFocus:!0,children:"Close"})})]})]})]})},uX=()=>{var q,Q,T,O;const[e,n]=X.useState([]),[t,r]=X.useState(!1),[i,a]=X.useState(""),[s,l]=X.useState("success"),[c,d]=X.useState(!1),[h,g]=X.useState(null),[b,m]=X.useState(null),[x,y]=X.useState(null),A=Jn(),w=ea();X.useEffect(()=>{(async()=>{try{const K=(await mi(wn(A,"courseRequests"))).docs.map(H=>({id:H.id,...H.data()}));K.sort((H,G)=>H.status==="pending"&&G.status!=="pending"||H.status==="approved"&&G.status==="denied"?-1:H.status==="denied"&&G.status==="approved"?1:0),n(K)}catch(N){console.error("Error fetching course requests: ",N)}})()},[A]);function C(){const R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let N="";for(let K=0;K<28;K++)N+=R.charAt(Math.floor(Math.random()*R.length));return N}const j=async()=>{var R,N,K,H;if(!(!b||!x)){try{const G=C(),ee={number:x.courseNumber,title:x.courseTitle,description:x.courseDescription,passcode:G,courseAdmin:[x.uid],createdAt:new Date};if(x.syllabusImported&&((R=x.syllabusData)!=null&&R.additionalInfo)){const Z=x.syllabusData.additionalInfo;ee.additionalInfo={contactInfo:Z.contactInfo||{},policies:Z.policies||{},additionalResources:Z.additionalResources||{},labSpecific:Z.labSpecific||{},textbooks:Z.textbooks||[],gradingPolicy:Z.gradingPolicy||[],assignments:Z.assignments||[],prerequisites:Z.prerequisites||[],lastUpdated:new Date}}x.syllabusImported&&((N=x.syllabusData)!=null&&N.syllabusFile)&&(ee.syllabusFile=x.syllabusData.syllabusFile);const le=await Ma(wn(A,"courses"),ee),Y=xn(A,"users",x.uid),te=await Oa(Y),U=te.exists()?((K=te.data())==null?void 0:K.classes)||{}:{};await Wr(Y,{classes:{...U,[le.id]:{number:x.courseNumber,title:x.courseTitle,isCourseAdmin:!0,courseCreatedAt:new Date,enrolledAt:new Date}}});let B=0;if(x.syllabusImported&&((H=x.syllabusData)!=null&&H.generatedMaterials)){const Z=_6(A);x.syllabusData.generatedMaterials.forEach(ne=>{const ve=xn(wn(A,"materials")),ye={title:ne.title||"Untitled Material",header:ne.header||{title:"",content:""},footer:ne.footer||{title:"",content:""},sections:(ne.sections||[]).map(Ce=>({...Ce,images:Ce.images||[],links:Ce.links||[],subsections:(Ce.subsections||[]).map(Oe=>({...Oe,images:Oe.images||[],links:Oe.links||[],subSubsections:(Oe.subSubsections||[]).map(Ie=>({...Ie,images:Ie.images||[],links:Ie.links||[]}))}))})),published:!0,course:le.id,author:x.uid,timestamp:Ja.now(),createdAt:new Date,updatedAt:new Date};ne.scheduledTimestamp&&(ye.scheduledTimestamp=Ja.fromDate(ne.scheduledTimestamp)),Z.set(ve,ye),B++}),await Z.commit(),console.log(`Created ${B} materials from syllabus`)}await Wr(xn(A,"courseRequests",b),{status:"approved",courseId:le.id,passcode:G});const re={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:"Your Course Request Has Been Approved",html:`
            <p>Your course request has been approved:</p>
            <p><strong>Course:</strong> ${x.courseNumber} - ${x.courseTitle}</p>
            <p><strong>Passcode:</strong> ${G}</p>
            ${x.syllabusImported&&B>0?`<p><strong>Materials Created:</strong> ${B} materials have been automatically added to your course from your syllabus import.</p>`:""}
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/supplemental-materials">
            Click here to view your course.
            </a></p>
          `}};await Ma(wn(A,"mail"),re),a(`Course request approved, course added${B>0?` with ${B} materials`:""}.`),l("success"),n(Z=>Z.map(ne=>ne.id===b?{...ne,status:"approved"}:ne))}catch(G){console.error("Error approving request: ",G),a("Error approving the request. Please try again."),l("error")}r(!0),L()}},F=async()=>{if(b){try{await Wr(xn(A,"courseRequests",b),{status:"denied"}),a("Course request denied."),l("success"),n(e.map(R=>R.id===b?{...R,status:"denied"}:R))}catch(R){console.error("Error denying request: ",R),a("Error denying the request. Please try again."),l("error")}r(!0),L()}},z=(R,N,K)=>{g(R),m(N),y(K),d(!0)},L=()=>{d(!1),g(null),m(null),y(null)},k=()=>{r(!1)},M=()=>{w("/")};return f.jsxs(ge,{sx:{padding:3},children:[f.jsx(ge,{sx:{display:"flex",alignItems:"center"},children:f.jsx(mt,{variant:"text",onClick:M,sx:{mr:2},children:" Home Page"})}),f.jsx(ce,{variant:"h4",component:"h1",sx:{fontWeight:"bold",mb:3},children:"Course Creation Requests"}),f.jsx(Eu,{component:fn,children:f.jsxs(_u,{children:[f.jsx(ku,{children:f.jsxs(Fi,{children:[f.jsx(ft,{children:"Educator ID"}),f.jsx(ft,{children:"Course Number"}),f.jsx(ft,{children:"Course Title"}),f.jsx(ft,{children:"Course Description"}),f.jsx(ft,{children:"Creation Method"}),f.jsx(ft,{children:"Timestamp"}),f.jsx(ft,{children:"Actions"})]})}),f.jsx(ju,{children:e.map(R=>{var N,K,H,G,ee;return f.jsxs(Fi,{children:[f.jsx(ft,{children:R.uid}),f.jsx(ft,{children:R.courseNumber}),f.jsx(ft,{children:R.courseTitle}),f.jsx(ft,{children:R.courseDescription.length>100?`${R.courseDescription.substring(0,100)}...`:R.courseDescription}),f.jsx(ft,{children:R.syllabusImported?f.jsxs(ge,{children:[f.jsxs(ge,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[f.jsx(ce,{variant:"body2",color:"primary",sx:{fontWeight:"bold"},children:"Syllabus Import"}),((N=R.syllabusData)==null?void 0:N.syllabusFile)&&f.jsx(si,{title:`Download: ${R.syllabusData.syllabusFile.metadata.originalFilename}`,children:f.jsx(Cn,{size:"small",onClick:()=>window.open(R.syllabusData.syllabusFile.url,"_blank"),sx:{color:"primary.main"},children:f.jsx(vx,{fontSize:"small"})})})]}),f.jsxs(ce,{variant:"caption",color:"text.secondary",children:[((H=(K=R.syllabusData)==null?void 0:K.generatedMaterials)==null?void 0:H.length)||0," materials"]}),((G=R.syllabusData)==null?void 0:G.syllabusFile)&&f.jsx(ce,{variant:"caption",color:"text.secondary",sx:{display:"block"},children:R.syllabusData.syllabusFile.metadata.originalFilename})]}):f.jsx(ce,{variant:"body2",color:"text.secondary",children:"Manual Entry"})}),f.jsx(ft,{children:(ee=R.timestamp)!=null&&ee.seconds?new Date(R.timestamp.seconds*1e3).toLocaleString():"Invalid Date"}),f.jsxs(ft,{children:[R.status==="pending"&&f.jsxs(f.Fragment,{children:[f.jsx(mt,{variant:"contained",color:"success",size:"small",onClick:()=>z("approve",R.id,R),sx:{mr:1},children:"Approve"}),f.jsx(mt,{variant:"outlined",color:"error",size:"small",onClick:()=>z("deny",R.id,R),children:"Deny"})]}),R.status==="approved"&&f.jsx(ce,{variant:"body2",color:"success.main",sx:{fontWeight:"bold"},children:"Approved"}),R.status==="denied"&&f.jsx(ce,{variant:"body2",color:"error.main",sx:{fontWeight:"bold"},children:"Denied"})]})]},R.id)})})]})}),f.jsxs(Xi,{open:c,onClose:L,children:[f.jsx(pa,{children:h==="approve"?"Approve Course Request":"Deny Course Request"}),f.jsx(Zi,{children:f.jsx(Fl,{children:h==="approve"?f.jsxs(f.Fragment,{children:["Are you sure you want to approve this course request?",(x==null?void 0:x.syllabusImported)&&f.jsxs(ge,{sx:{mt:2,p:2,backgroundColor:"#ECF4FE",borderRadius:1},children:[f.jsx(ce,{variant:"body2",sx:{fontWeight:"bold"},children:" Syllabus Import Detected"}),f.jsxs(ce,{variant:"body2",children:["This request includes ",((Q=(q=x==null?void 0:x.syllabusData)==null?void 0:q.generatedMaterials)==null?void 0:Q.length)||0," auto-generated materials that will be added to the course."]}),((T=x==null?void 0:x.syllabusData)==null?void 0:T.syllabusFile)&&f.jsxs(ge,{sx:{mt:1},children:[f.jsxs(ce,{variant:"body2",sx:{mb:1},children:[f.jsx("strong",{children:"Syllabus File:"})," ",x.syllabusData.syllabusFile.metadata.originalFilename," ","(",(x.syllabusData.syllabusFile.metadata.fileSize/1024/1024).toFixed(2)," MB)"]}),f.jsx(mt,{size:"small",variant:"outlined",startIcon:f.jsx(og,{}),onClick:()=>window.open(x.syllabusData.syllabusFile.url,"_blank"),sx:{mt:.5},children:"View/Download Syllabus"})]}),((O=x==null?void 0:x.syllabusData)==null?void 0:O.additionalInfo)&&f.jsxs(ce,{variant:"body2",sx:{mt:1},children:[f.jsx("strong",{children:"Additional Info:"})," Contact info, policies, textbooks, and other course details extracted"]})]})]}):"Are you sure you want to deny this course request?"})}),f.jsxs(ma,{children:[f.jsx(mt,{onClick:L,color:"primary",children:"Cancel"}),f.jsx(mt,{onClick:h==="approve"?j:F,color:h==="approve"?"success":"error",variant:"contained",children:h==="approve"?"Approve":"Deny"})]})]}),f.jsx(rl,{open:t,autoHideDuration:6e3,onClose:k,children:f.jsx(vr,{onClose:k,severity:s,sx:{width:"100%"},children:i})})]})};var S1={},s4;function cX(){if(s4)return S1;s4=1;var e=Hd();Object.defineProperty(S1,"__esModule",{value:!0}),S1.default=void 0;var n=e(Vd()),t=Wd();return S1.default=(0,n.default)((0,t.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),S1}var dX=cX();const fX=ns(dX),hX=()=>{const e=Jn(),{userDetails:n}=Ai(),[t,r]=X.useState([]),[i,a]=X.useState(!0),[s,l]=X.useState(!1),[c,d]=X.useState(""),[h,g]=X.useState("info"),[b,m]=X.useState(!1),[x,y]=X.useState(""),[A,w]=X.useState(""),C=ea();X.useEffect(()=>{(async()=>{a(!0);try{const O=(await mi(wn(e,"courses"))).docs.map(R=>{const N=R.data();return{id:R.id,title:N.title||"Untitled",number:N.number||"N/A",courseAdmin:N.courseAdmin||[]}});r(O)}catch(T){console.error("Error fetching courses: ",T)}finally{a(!1)}})()},[e]);const j=async Q=>{if(!n){L("User details are not available.","error");return}const T=t.find(O=>O.id===Q);if(T&&n)try{if(T.courseAdmin.includes(n.uid)){L("You are already an admin for this course.","warning");return}const O=xn(e,"courses",Q),R=[...T.courseAdmin,n.uid];await Wr(O,{courseAdmin:R});const N=await Oa(O),K=N.exists()?N.data():null,H=(K==null?void 0:K.createdAt)||(K==null?void 0:K.timestamp)||new Date,G=xn(e,"users",n.uid);await Wr(G,{[`classes.${Q}`]:{number:T.number,title:T.title,isCourseAdmin:!0,courseCreatedAt:H,enrolledAt:new Date}}),r(t.map(ee=>ee.id===Q?{...ee,courseAdmin:R}:ee)),L("You have been successfully added as an admin to this course.","success")}catch(O){console.error("Error adding super-admin to course: ",O),L("Failed to add admin to course.","error")}},F=Q=>{w(Q),m(!0)},z=async()=>{if(n&&x===n.uid){const Q=t.find(T=>T.id===A);if(Q&&Q.courseAdmin.includes(n.uid))try{await E6(xn(e,"courses",A));const T=await mi(wn(e,"users")),O=_6(e);T.forEach(R=>{const N=xn(e,"users",R.id),H={...R.data().classes};delete H[A],O.update(N,{classes:H})}),await O.commit(),r(t.filter(R=>R.id!==A)),L("Course deleted successfully.","success")}catch(T){console.error("Error deleting course: ",T),L("Failed to delete course.","error")}finally{m(!1),y("")}else L("You are not authorized to delete this course.","warning"),m(!1)}else L("User ID does not match. Please try again.","error")},L=(Q,T)=>{d(Q),g(T),l(!0)},k=(Q,T)=>{T!=="clickaway"&&l(!1)},M=()=>{m(!1),y("")},q=()=>{C("/")};return f.jsxs(ge,{sx:{p:3},children:[f.jsx(ge,{sx:{display:"flex",alignItems:"center",mb:2},children:f.jsx(mt,{variant:"text",onClick:q,sx:{mr:2},children:" Home Page"})}),f.jsx(ce,{variant:"h4",gutterBottom:!0,children:"Super Admin Course Management"}),i?f.jsx(ce,{children:"Loading courses..."}):f.jsx(Eu,{component:fn,children:f.jsxs(_u,{"aria-label":"courses table",children:[f.jsx(ku,{children:f.jsxs(Fi,{children:[f.jsx(ft,{sx:{fontWeight:"bold"},children:"Course ID"}),f.jsx(ft,{sx:{fontWeight:"bold"},children:"Course Number"}),f.jsx(ft,{sx:{fontWeight:"bold"},children:"Course Title"}),f.jsx(ft,{sx:{fontWeight:"bold"},children:"Instructors"}),f.jsx(ft,{align:"right",sx:{fontWeight:"bold"},children:"Actions"})]})}),f.jsx(ju,{children:t.map(Q=>{const T=!!(n!=null&&n.uid)&&Q.courseAdmin.includes(n.uid);return f.jsxs(Fi,{sx:{backgroundColor:T?"#e0f7fa":"transparent"},children:[f.jsx(ft,{children:Q.id}),f.jsx(ft,{children:Q.number}),f.jsx(ft,{children:Q.title}),f.jsx(ft,{children:Q.courseAdmin.length>0?Q.courseAdmin.join(", "):"No admins assigned"}),f.jsxs(ft,{align:"right",children:[f.jsx(si,{title:"Add yourself as an instructor",children:f.jsx("span",{children:f.jsx(Cn,{edge:"end","aria-label":"add",onClick:()=>j(Q.id),disabled:T,children:f.jsx(fX,{})})})}),f.jsx(si,{title:T?"Delete this course":"You are not authorized to delete this course",children:f.jsx("span",{children:f.jsx(Cn,{edge:"end","aria-label":"delete",onClick:()=>F(Q.id),disabled:!T,children:f.jsx(I6,{})})})})]})]},Q.id)})})]})}),f.jsx(rl,{open:s,autoHideDuration:6e3,onClose:k,children:f.jsx(vr,{onClose:k,severity:h,sx:{width:"100%"},children:c})}),f.jsxs(Xi,{open:b,onClose:M,children:[f.jsx(pa,{children:"Confirm Delete"}),f.jsxs(Zi,{children:[f.jsx(Fl,{children:"To confirm the deletion of this course, please enter your User ID:"}),f.jsx(Bt,{autoFocus:!0,margin:"dense",id:"userId",label:"User ID",type:"text",fullWidth:!0,variant:"outlined",value:x,onChange:Q=>y(Q.target.value)})]}),f.jsxs(ma,{children:[f.jsx(mt,{onClick:M,color:"primary",children:"Cancel"}),f.jsx(mt,{onClick:z,color:"primary",children:"Confirm"})]})]})]})};var A1={},o4;function pX(){if(o4)return A1;o4=1;var e=Hd();Object.defineProperty(A1,"__esModule",{value:!0}),A1.default=void 0;var n=e(Vd()),t=Wd();return A1.default=(0,n.default)((0,t.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download"),A1}var mX=pX();const fI=ns(mX),hI=({filePath:e,fileLabel:n})=>{const[t,r]=X.useState(null),[i,a]=X.useState(!0);return X.useEffect(()=>{(async()=>{try{const l=uh(),c=xu(l,e),d=await Od(c);r(d)}catch(l){console.error("Error fetching download URL:",l),alert("Failed to fetch file URL. Please check your permissions.")}finally{a(!1)}})()},[e]),i?f.jsx(Gr,{size:20}):t?f.jsxs(ge,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(S6,{href:t,target:"_blank",rel:"noopener noreferrer",sx:{textDecoration:"none",color:"#1976d2","&:hover":{textDecoration:"underline"}},children:n}),f.jsx(Cn,{component:"a",href:t,target:"_blank",rel:"noopener noreferrer","aria-label":"Open in new tab",size:"small",children:f.jsx(fI,{})})]}):f.jsx(ge,{children:f.jsx(ce,{color:"error",children:"Failed to load file link"})})},gX=()=>{const{userDetails:e}=Ai(),[n,t]=X.useState([]),[r,i]=X.useState(!0);return X.useEffect(()=>{(async()=>{if(!(e!=null&&e.uid))return;const s=Jn(),l=wn(s,"chatbotRequests"),c=nl(l,Si("educatorId","==",e.uid));try{const h=(await mi(c)).docs.map(g=>({id:g.id,...g.data()}));t(h)}catch(d){console.error("Error fetching chatbot requests:",d)}finally{i(!1)}})()},[e==null?void 0:e.uid]),r?f.jsx(ge,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:f.jsx(Gr,{})}):n.length===0?f.jsx(ce,{variant:"body1",sx:{textAlign:"center",mt:4},children:"No chatbot requests found."}):f.jsxs(ge,{children:[f.jsx(ce,{variant:"h6",sx:{mb:2},children:"Your Chatbot Requests"}),f.jsx(Eu,{component:fn,elevation:3,sx:{maxHeight:400},children:f.jsxs(_u,{stickyHeader:!0,children:[f.jsx(ku,{children:f.jsxs(Fi,{children:[f.jsx(ft,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Title"}),f.jsx(ft,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Course"}),f.jsx(ft,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Material"}),f.jsx(ft,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Submitted On"}),f.jsx(ft,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Status"}),f.jsx(ft,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"File Links"})]})}),f.jsx(ju,{children:n.map((a,s)=>f.jsxs(Fi,{sx:{backgroundColor:s%2===0?"#F6E9B2":"#FBFADA","&:hover":{backgroundColor:"#E8E8E8"}},children:[f.jsx(ft,{children:a.title}),f.jsx(ft,{children:`${a.courseNumber} - ${a.courseTitle}`}),f.jsx(ft,{children:a.materialTitle||"N/A"}),f.jsx(ft,{children:new Date(a.timestamp).toLocaleString()}),f.jsx(ft,{children:f.jsx(ce,{variant:"body2",sx:{color:a.status==="pending"?"#FFA726":"#43A047",fontWeight:"bold"},children:a.status})}),f.jsx(ft,{children:a.files.map((l,c)=>f.jsx(hI,{filePath:l,fileLabel:`File ${c+1}`},c))})]},a.id))})]})})]})},bX=()=>{const e=ea();return f.jsxs(ge,{className:"profile-container",sx:{p:4},children:[f.jsx(mt,{variant:"text",onClick:()=>e("/"),className:"profile-button",children:" Home Page"}),f.jsx(ce,{className:"webpage_title",sx:{mb:2},children:"Chatbot Management"}),f.jsx(ce,{variant:"body1",className:"profile-text",sx:{mb:3},children:"Manage your chatbots or create new chatbot requests."}),f.jsx(mt,{variant:"contained",onClick:()=>e("/request-chatbot"),sx:{mt:2},className:"submit-button",children:"Request a New Chatbot"}),f.jsx(gX,{})]})},yX=({folderPath:e,onUploadComplete:n})=>{const[t,r]=X.useState(!1),[i,a]=X.useState([]),[s,l]=X.useState(null),c=5*1024*1024,d=[".pdf",".ppt",".pptx",".doc",".docx",".txt"],h=async g=>{if(!g.target.files)return;const b=Array.from(g.target.files),m=uh(),x=[];r(!0),l(null);try{for(const y of b){const A=y.name.slice(y.name.lastIndexOf(".")).toLowerCase();if(!d.includes(A)){l(`File ${y.name} is not a supported format.`);continue}if(y.size>c){l(`File ${y.name} exceeds the 5 MB limit and cannot be uploaded.`);continue}const w=xu(m,`${e}/files/${y.name}`);await Kf(w,y);const C=await Od(w);x.push(C)}a(y=>[...y,...b]),n(x)}catch(y){console.error("Error uploading files:",y),l("Failed to upload files. Please try again.")}finally{r(!1)}};return f.jsxs(ge,{children:[f.jsx("input",{type:"file",accept:".pdf,.ppt,.pptx,.doc,.docx,.txt",multiple:!0,onChange:h,style:{display:"none"},id:"file-upload"}),f.jsx("label",{htmlFor:"file-upload",children:f.jsx(mt,{variant:"contained",component:"span",disabled:t,startIcon:t?f.jsx(Gr,{size:20}):null,children:t?"Uploading...":"Select and Upload Files"})}),s&&f.jsx(vr,{severity:"error",sx:{mt:2},children:s}),f.jsx(ge,{sx:{marginTop:2},children:i.map((g,b)=>f.jsx(ce,{children:g.name},b))})]})},xX=yp()(Bg((e,n)=>({materials:[],selectedCourse:null,loading:!1,error:null,isEditing:!1,selectedMaterial:null,setMaterials:t=>e({materials:t}),addMaterial:t=>e(r=>({materials:[...r.materials,t]})),updateMaterial:(t,r)=>e(i=>({materials:i.materials.map(a=>a.id===t?{...a,...r}:a)})),deleteMaterial:t=>e(r=>({materials:r.materials.filter(i=>i.id!==t)})),setSelectedCourse:t=>e({selectedCourse:t}),setLoading:t=>e({loading:t}),setError:t=>e({error:t}),setIsEditing:t=>e({isEditing:t}),setSelectedMaterial:t=>e({selectedMaterial:t}),fetchMaterials:async t=>{e({loading:!0,error:null});try{const{db:r}=await Li(async()=>{const{db:h}=await Promise.resolve().then(()=>tp);return{db:h}},void 0),{collection:i,query:a,where:s,onSnapshot:l,orderBy:c}=await Li(async()=>{const{collection:h,query:g,where:b,onSnapshot:m,orderBy:x}=await import("./firebase-DpGenoA-.js").then(y=>y.B);return{collection:h,query:g,where:b,onSnapshot:m,orderBy:x}},[]),d=a(i(r,"materials"),s("course","==",t),c("timestamp","desc"));return new Promise(h=>{l(d,g=>{const b=g.docs.map(m=>({id:m.id,...m.data()}));e({materials:b,loading:!1}),h(void 0)})})}catch(r){e({error:r instanceof Error?r.message:"Failed to fetch materials",loading:!1})}},publishMaterial:async t=>{try{const{db:r}=await Li(async()=>{const{db:s}=await Promise.resolve().then(()=>tp);return{db:s}},void 0),{doc:i,updateDoc:a}=await Li(async()=>{const{doc:s,updateDoc:l}=await import("./firebase-DpGenoA-.js").then(c=>c.B);return{doc:s,updateDoc:l}},[]);await a(i(r,"materials",t),{published:!0}),n().updateMaterial(t,{published:!0})}catch{e({error:"Failed to publish material"})}},unpublishMaterial:async t=>{try{const{db:r}=await Li(async()=>{const{db:s}=await Promise.resolve().then(()=>tp);return{db:s}},void 0),{doc:i,updateDoc:a}=await Li(async()=>{const{doc:s,updateDoc:l}=await import("./firebase-DpGenoA-.js").then(c=>c.B);return{doc:s,updateDoc:l}},[]);await a(i(r,"materials",t),{published:!1}),n().updateMaterial(t,{published:!1})}catch{e({error:"Failed to unpublish material"})}}}))),vX=()=>{const{userDetails:e}=Ai(),n=ea(),t=Jn(),[r,i]=X.useState(""),[a,s]=X.useState(""),[l,c]=X.useState(""),[d,h]=X.useState([]),[g,b]=X.useState(!1),[m,x]=X.useState(""),[y,A]=X.useState("success"),{materials:w,loading:C,error:j,fetchMaterials:F}=xX();X.useEffect(()=>{c(""),a&&F(a)},[a,F]);const z=q=>{h(Q=>[...Q,...q])},L=async()=>{var N;if(!r||!a||!l||d.length===0){x("Please fill all required fields and upload at least one file."),A("error"),b(!0);return}const q=(N=e==null?void 0:e.classes)==null?void 0:N[a];if(!q||!q.isCourseAdmin){x("You are not authorized to request a chatbot for this course."),A("error"),b(!0);return}const Q=(q==null?void 0:q.number)??"N/A",T=(q==null?void 0:q.title)??"Untitled Course",O=w.find(K=>K.id===l);if(!O){x("Selected material details could not be found."),A("error"),b(!0);return}const{title:R}=O;try{const K=await Ma(wn(t,"chatbotRequests"),{educatorId:e==null?void 0:e.uid,courseId:a,courseNumber:Q,courseTitle:T,materialId:l,materialTitle:R,title:r,files:d,status:"pending",timestamp:new Date().toISOString()});await Ma(wn(t,"mail"),{to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:"New Chatbot Request Submitted",html:`
            <p>A new chatbot request has been submitted:</p>
            <p><strong>Title:</strong> ${r}</p>
            <p><strong>Educator ID:</strong> ${e==null?void 0:e.uid}</p>
            <p><strong>Course:</strong> ${Q} - ${T}</p>
            <p><strong>Material:</strong> ${R}</p>
            <p><strong>Request ID:</strong> ${K.id}</p>
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/super-admin-chatbot-requests">
            Click here to review the request.
            </a></p>
          `}}),x("Chatbot request submitted successfully!"),A("success"),b(!0),setTimeout(()=>n("/chatbot-management"),1500)}catch(K){console.error("Error submitting chatbot request:",K),x("Failed to submit the chatbot request. Please try again."),A("error"),b(!0)}},k=()=>{n("/chatbot-management")},M=()=>{b(!1)};return f.jsxs(ge,{className:"profile-container",sx:{p:4},children:[f.jsx(mt,{variant:"text",onClick:k,className:"profile-button",children:" Chatbot Management"}),f.jsx(ce,{className:"webpage_title",sx:{mb:2},children:"Request to Create a Chatbot"}),f.jsx(ce,{variant:"body1",className:"profile-text",sx:{mb:3},children:"Fill out the form below to request a chatbot. Please upload all related materials for the chatbot's knowledge base."}),f.jsx(Bt,{label:"Chatbot Title",value:r,onChange:q=>i(q.target.value),fullWidth:!0,margin:"normal",required:!0,className:"form-field"}),f.jsx(Bt,{label:"Course ID",value:a,onChange:q=>s(q.target.value),fullWidth:!0,margin:"normal",required:!0,select:!0,helperText:"Only courses where you are an admin are available for chatbot requests.",className:"form-field",children:Object.keys((e==null?void 0:e.classes)||{}).filter(q=>{var Q,T;return(T=(Q=e==null?void 0:e.classes)==null?void 0:Q[q])==null?void 0:T.isCourseAdmin}).map(q=>{var Q,T;return f.jsx(Zn,{value:q,children:((T=(Q=e==null?void 0:e.classes)==null?void 0:Q[q])==null?void 0:T.title)||"Untitled Course"},q)})}),f.jsx(Bt,{label:"Material",value:l,onChange:q=>c(q.target.value),fullWidth:!0,margin:"normal",required:!0,select:!0,disabled:!a||C,helperText:a?j||(C?"Loading materials...":w.length===0?"No materials available for this course.":""):"Please select a course first.",children:a?C?f.jsxs(Zn,{disabled:!0,children:[f.jsx(Gr,{size:20,sx:{marginRight:2}}),"Loading..."]}):w.length===0?f.jsx(Zn,{disabled:!0,children:"No materials found"}):w.map(q=>f.jsx(Zn,{value:q.id,children:q.title},q.id)):f.jsx(Zn,{disabled:!0,children:"Please select a course first"})}),f.jsxs(ge,{sx:{mt:3},children:[f.jsx(ce,{variant:"body1",className:"profile-text",sx:{mb:2},children:"Upload your files below (PDF, PPT, DOC/DOCX, TXT formats only):"}),f.jsx(yX,{folderPath:`chatbotRequests/${e==null?void 0:e.uid}`,onUploadComplete:z})]}),f.jsx(mt,{variant:"contained",onClick:L,sx:{mt:4},className:"submit-button",children:"Submit Request"}),f.jsx(rl,{open:g,autoHideDuration:6e3,onClose:M,children:f.jsx(vr,{severity:y,onClose:M,children:m})})]})};var C1={},l4;function wX(){if(l4)return C1;l4=1;var e=Hd();Object.defineProperty(C1,"__esModule",{value:!0}),C1.default=void 0;var n=e(Vd()),t=Wd();return C1.default=(0,n.default)((0,t.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),C1}var SX=wX();const AX=ns(SX),E1=Mc(ft)({fontWeight:"bold",color:"#fff",backgroundColor:"#123372",fontSize:"1rem",textAlign:"center"}),CX=Mc(Fi)({"& td, & th":{padding:"12px 16px"},"&:nth-of-type(odd)":{backgroundColor:"#f9f9f9"},"&:hover":{backgroundColor:"#e0e0e0"}}),u4=Mc(Cn)({width:40,height:40,padding:0,display:"flex",alignItems:"center",justifyContent:"center",textTransform:"capitalize",borderRadius:"8px",color:"#123372"}),EX=({conversations:e,onViewHistory:n,onDeleteConversation:t,loadingMap:r})=>e.length===0?f.jsx(ce,{variant:"body1",sx:{textAlign:"center",mt:4},children:"No conversations available to display."}):f.jsx(ge,{sx:{mt:3},children:f.jsx(Eu,{component:fn,sx:{boxShadow:"0px 5px 15px rgba(0, 0, 0, 0.1)",borderRadius:"10px"},children:f.jsxs(_u,{children:[f.jsx(ku,{children:f.jsxs(Fi,{children:[f.jsx(E1,{children:"Conversation ID"}),f.jsx(E1,{children:"User ID"}),f.jsx(E1,{children:"Chatbot ID"}),f.jsx(E1,{children:"Timestamp (Started At)"}),f.jsx(E1,{children:"Actions"})]})}),f.jsx(ju,{children:e.length>0?e.map(i=>f.jsxs(CX,{children:[f.jsx(ft,{align:"center",children:i.id}),f.jsx(ft,{align:"center",children:i.userId}),f.jsx(ft,{align:"center",children:i.chatbotId}),f.jsx(ft,{align:"center",children:i.startedAt?new Date(i.startedAt).toLocaleString():"Invalid date"}),f.jsx(ft,{align:"center",children:f.jsxs(ge,{sx:{display:"flex",justifyContent:"center",gap:1},children:[f.jsx(si,{title:"View Data",children:f.jsx(u4,{onClick:()=>n(i.chatbotId,i.id,i.userId,i.startedAt),color:"primary",disabled:r[i.id],children:r[i.id]?f.jsx(Gr,{size:20,color:"inherit"}):f.jsx(AX,{})})}),f.jsx(si,{title:"Delete Conversation",children:f.jsx(u4,{onClick:()=>t(i.id),color:"error",children:f.jsx(I6,{})})})]})})]},i.id)):f.jsx(Fi,{children:f.jsx(ft,{colSpan:5,align:"center",children:"No conversations available for the selected filters."})})})]})})});function pI(e,n){return function(){return e.apply(n,arguments)}}const{toString:_X}=Object.prototype,{getPrototypeOf:gA}=Object,{iterator:kv,toStringTag:mI}=Symbol,jv=(e=>n=>{const t=_X.call(n);return e[t]||(e[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Lu=e=>(e=e.toLowerCase(),n=>jv(n)===e),Nv=e=>n=>typeof n===e,{isArray:dm}=Array,Ag=Nv("undefined");function kX(e){return e!==null&&!Ag(e)&&e.constructor!==null&&!Ag(e.constructor)&&yo(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const gI=Lu("ArrayBuffer");function jX(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&gI(e.buffer),n}const NX=Nv("string"),yo=Nv("function"),bI=Nv("number"),Tv=e=>e!==null&&typeof e=="object",TX=e=>e===!0||e===!1,ox=e=>{if(jv(e)!=="object")return!1;const n=gA(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(mI in e)&&!(kv in e)},OX=Lu("Date"),IX=Lu("File"),DX=Lu("Blob"),LX=Lu("FileList"),RX=e=>Tv(e)&&yo(e.pipe),MX=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||yo(e.append)&&((n=jv(e))==="formdata"||n==="object"&&yo(e.toString)&&e.toString()==="[object FormData]"))},FX=Lu("URLSearchParams"),[PX,zX,qX,BX]=["ReadableStream","Request","Response","Headers"].map(Lu),UX=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Zg(e,n,{allOwnKeys:t=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),dm(e))for(r=0,i=e.length;r<i;r++)n.call(null,e[r],r,e);else{const a=t?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;let l;for(r=0;r<s;r++)l=a[r],n.call(null,e[l],l,e)}}function yI(e,n){n=n.toLowerCase();const t=Object.keys(e);let r=t.length,i;for(;r-- >0;)if(i=t[r],n===i.toLowerCase())return i;return null}const Zh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,xI=e=>!Ag(e)&&e!==Zh;function PS(){const{caseless:e}=xI(this)&&this||{},n={},t=(r,i)=>{const a=e&&yI(n,i)||i;ox(n[a])&&ox(r)?n[a]=PS(n[a],r):ox(r)?n[a]=PS({},r):dm(r)?n[a]=r.slice():n[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Zg(arguments[r],t);return n}const $X=(e,n,t,{allOwnKeys:r}={})=>(Zg(n,(i,a)=>{t&&yo(i)?e[a]=pI(i,t):e[a]=i},{allOwnKeys:r}),e),HX=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),WX=(e,n,t,r)=>{e.prototype=Object.create(n.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),t&&Object.assign(e.prototype,t)},VX=(e,n,t,r)=>{let i,a,s;const l={};if(n=n||{},e==null)return n;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)s=i[a],(!r||r(s,e,n))&&!l[s]&&(n[s]=e[s],l[s]=!0);e=t!==!1&&gA(e)}while(e&&(!t||t(e,n))&&e!==Object.prototype);return n},YX=(e,n,t)=>{e=String(e),(t===void 0||t>e.length)&&(t=e.length),t-=n.length;const r=e.indexOf(n,t);return r!==-1&&r===t},GX=e=>{if(!e)return null;if(dm(e))return e;let n=e.length;if(!bI(n))return null;const t=new Array(n);for(;n-- >0;)t[n]=e[n];return t},QX=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&gA(Uint8Array)),KX=(e,n)=>{const r=(e&&e[kv]).call(e);let i;for(;(i=r.next())&&!i.done;){const a=i.value;n.call(e,a[0],a[1])}},XX=(e,n)=>{let t;const r=[];for(;(t=e.exec(n))!==null;)r.push(t);return r},ZX=Lu("HTMLFormElement"),JX=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),c4=(({hasOwnProperty:e})=>(n,t)=>e.call(n,t))(Object.prototype),eZ=Lu("RegExp"),vI=(e,n)=>{const t=Object.getOwnPropertyDescriptors(e),r={};Zg(t,(i,a)=>{let s;(s=n(i,a,e))!==!1&&(r[a]=s||i)}),Object.defineProperties(e,r)},tZ=e=>{vI(e,(n,t)=>{if(yo(e)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=e[t];if(yo(r)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},nZ=(e,n)=>{const t={},r=i=>{i.forEach(a=>{t[a]=!0})};return dm(e)?r(e):r(String(e).split(n)),t},rZ=()=>{},iZ=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n;function aZ(e){return!!(e&&yo(e.append)&&e[mI]==="FormData"&&e[kv])}const sZ=e=>{const n=new Array(10),t=(r,i)=>{if(Tv(r)){if(n.indexOf(r)>=0)return;if(!("toJSON"in r)){n[i]=r;const a=dm(r)?[]:{};return Zg(r,(s,l)=>{const c=t(s,i+1);!Ag(c)&&(a[l]=c)}),n[i]=void 0,a}}return r};return t(e,0)},oZ=Lu("AsyncFunction"),lZ=e=>e&&(Tv(e)||yo(e))&&yo(e.then)&&yo(e.catch),wI=((e,n)=>e?setImmediate:n?((t,r)=>(Zh.addEventListener("message",({source:i,data:a})=>{i===Zh&&a===t&&r.length&&r.shift()()},!1),i=>{r.push(i),Zh.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",yo(Zh.postMessage)),uZ=typeof queueMicrotask<"u"?queueMicrotask.bind(Zh):typeof process<"u"&&process.nextTick||wI,cZ=e=>e!=null&&yo(e[kv]),at={isArray:dm,isArrayBuffer:gI,isBuffer:kX,isFormData:MX,isArrayBufferView:jX,isString:NX,isNumber:bI,isBoolean:TX,isObject:Tv,isPlainObject:ox,isReadableStream:PX,isRequest:zX,isResponse:qX,isHeaders:BX,isUndefined:Ag,isDate:OX,isFile:IX,isBlob:DX,isRegExp:eZ,isFunction:yo,isStream:RX,isURLSearchParams:FX,isTypedArray:QX,isFileList:LX,forEach:Zg,merge:PS,extend:$X,trim:UX,stripBOM:HX,inherits:WX,toFlatObject:VX,kindOf:jv,kindOfTest:Lu,endsWith:YX,toArray:GX,forEachEntry:KX,matchAll:XX,isHTMLForm:ZX,hasOwnProperty:c4,hasOwnProp:c4,reduceDescriptors:vI,freezeMethods:tZ,toObjectSet:nZ,toCamelCase:JX,noop:rZ,toFiniteNumber:iZ,findKey:yI,global:Zh,isContextDefined:xI,isSpecCompliantForm:aZ,toJSONObject:sZ,isAsyncFn:oZ,isThenable:lZ,setImmediate:wI,asap:uZ,isIterable:cZ};function jn(e,n,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}at.inherits(jn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:at.toJSONObject(this.config),code:this.code,status:this.status}}});const SI=jn.prototype,AI={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{AI[e]={value:e}});Object.defineProperties(jn,AI);Object.defineProperty(SI,"isAxiosError",{value:!0});jn.from=(e,n,t,r,i,a)=>{const s=Object.create(SI);return at.toFlatObject(e,s,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),jn.call(s,e.message,n,t,r,i),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};const dZ=null;function zS(e){return at.isPlainObject(e)||at.isArray(e)}function CI(e){return at.endsWith(e,"[]")?e.slice(0,-2):e}function d4(e,n,t){return e?e.concat(n).map(function(i,a){return i=CI(i),!t&&a?"["+i+"]":i}).join(t?".":""):n}function fZ(e){return at.isArray(e)&&!e.some(zS)}const hZ=at.toFlatObject(at,{},null,function(n){return/^is[A-Z]/.test(n)});function Ov(e,n,t){if(!at.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,t=at.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,A){return!at.isUndefined(A[y])});const r=t.metaTokens,i=t.visitor||h,a=t.dots,s=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&at.isSpecCompliantForm(n);if(!at.isFunction(i))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(at.isDate(x))return x.toISOString();if(at.isBoolean(x))return x.toString();if(!c&&at.isBlob(x))throw new jn("Blob is not supported. Use a Buffer instead.");return at.isArrayBuffer(x)||at.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function h(x,y,A){let w=x;if(x&&!A&&typeof x=="object"){if(at.endsWith(y,"{}"))y=r?y:y.slice(0,-2),x=JSON.stringify(x);else if(at.isArray(x)&&fZ(x)||(at.isFileList(x)||at.endsWith(y,"[]"))&&(w=at.toArray(x)))return y=CI(y),w.forEach(function(j,F){!(at.isUndefined(j)||j===null)&&n.append(s===!0?d4([y],F,a):s===null?y:y+"[]",d(j))}),!1}return zS(x)?!0:(n.append(d4(A,y,a),d(x)),!1)}const g=[],b=Object.assign(hZ,{defaultVisitor:h,convertValue:d,isVisitable:zS});function m(x,y){if(!at.isUndefined(x)){if(g.indexOf(x)!==-1)throw Error("Circular reference detected in "+y.join("."));g.push(x),at.forEach(x,function(w,C){(!(at.isUndefined(w)||w===null)&&i.call(n,w,at.isString(C)?C.trim():C,y,b))===!0&&m(w,y?y.concat(C):[C])}),g.pop()}}if(!at.isObject(e))throw new TypeError("data must be an object");return m(e),n}function f4(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return n[r]})}function bA(e,n){this._pairs=[],e&&Ov(e,this,n)}const EI=bA.prototype;EI.append=function(n,t){this._pairs.push([n,t])};EI.toString=function(n){const t=n?function(r){return n.call(this,r,f4)}:f4;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function pZ(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function _I(e,n,t){if(!n)return e;const r=t&&t.encode||pZ;at.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let a;if(i?a=i(n,t):a=at.isURLSearchParams(n)?n.toString():new bA(n,t).toString(r),a){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class h4{constructor(){this.handlers=[]}use(n,t,r){return this.handlers.push({fulfilled:n,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){at.forEach(this.handlers,function(r){r!==null&&n(r)})}}const kI={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},mZ=typeof URLSearchParams<"u"?URLSearchParams:bA,gZ=typeof FormData<"u"?FormData:null,bZ=typeof Blob<"u"?Blob:null,yZ={isBrowser:!0,classes:{URLSearchParams:mZ,FormData:gZ,Blob:bZ},protocols:["http","https","file","blob","url","data"]},yA=typeof window<"u"&&typeof document<"u",qS=typeof navigator=="object"&&navigator||void 0,xZ=yA&&(!qS||["ReactNative","NativeScript","NS"].indexOf(qS.product)<0),vZ=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",wZ=yA&&window.location.href||"http://localhost",SZ=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:yA,hasStandardBrowserEnv:xZ,hasStandardBrowserWebWorkerEnv:vZ,navigator:qS,origin:wZ},Symbol.toStringTag,{value:"Module"})),zs={...SZ,...yZ};function AZ(e,n){return Ov(e,new zs.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,a){return zs.isNode&&at.isBuffer(t)?(this.append(r,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},n))}function CZ(e){return at.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function EZ(e){const n={},t=Object.keys(e);let r;const i=t.length;let a;for(r=0;r<i;r++)a=t[r],n[a]=e[a];return n}function jI(e){function n(t,r,i,a){let s=t[a++];if(s==="__proto__")return!0;const l=Number.isFinite(+s),c=a>=t.length;return s=!s&&at.isArray(i)?i.length:s,c?(at.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!l):((!i[s]||!at.isObject(i[s]))&&(i[s]=[]),n(t,r,i[s],a)&&at.isArray(i[s])&&(i[s]=EZ(i[s])),!l)}if(at.isFormData(e)&&at.isFunction(e.entries)){const t={};return at.forEachEntry(e,(r,i)=>{n(CZ(r),i,t,0)}),t}return null}function _Z(e,n,t){if(at.isString(e))try{return(n||JSON.parse)(e),at.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(e)}const Jg={transitional:kI,adapter:["xhr","http","fetch"],transformRequest:[function(n,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=at.isObject(n);if(a&&at.isHTMLForm(n)&&(n=new FormData(n)),at.isFormData(n))return i?JSON.stringify(jI(n)):n;if(at.isArrayBuffer(n)||at.isBuffer(n)||at.isStream(n)||at.isFile(n)||at.isBlob(n)||at.isReadableStream(n))return n;if(at.isArrayBufferView(n))return n.buffer;if(at.isURLSearchParams(n))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let l;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return AZ(n,this.formSerializer).toString();if((l=at.isFileList(n))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ov(l?{"files[]":n}:n,c&&new c,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),_Z(n)):n}],transformResponse:[function(n){const t=this.transitional||Jg.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(at.isResponse(n)||at.isReadableStream(n))return n;if(n&&at.isString(n)&&(r&&!this.responseType||i)){const s=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(n)}catch(l){if(s)throw l.name==="SyntaxError"?jn.from(l,jn.ERR_BAD_RESPONSE,this,null,this.response):l}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zs.classes.FormData,Blob:zs.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};at.forEach(["delete","get","head","post","put","patch"],e=>{Jg.headers[e]={}});const kZ=at.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jZ=e=>{const n={};let t,r,i;return e&&e.split(`
`).forEach(function(s){i=s.indexOf(":"),t=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!t||n[t]&&kZ[t])&&(t==="set-cookie"?n[t]?n[t].push(r):n[t]=[r]:n[t]=n[t]?n[t]+", "+r:r)}),n},p4=Symbol("internals");function _1(e){return e&&String(e).trim().toLowerCase()}function lx(e){return e===!1||e==null?e:at.isArray(e)?e.map(lx):String(e)}function NZ(e){const n=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(e);)n[r[1]]=r[2];return n}const TZ=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function uw(e,n,t,r,i){if(at.isFunction(r))return r.call(this,n,t);if(i&&(n=t),!!at.isString(n)){if(at.isString(r))return n.indexOf(r)!==-1;if(at.isRegExp(r))return r.test(n)}}function OZ(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,t,r)=>t.toUpperCase()+r)}function IZ(e,n){const t=at.toCamelCase(" "+n);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+t,{value:function(i,a,s){return this[r].call(this,n,i,a,s)},configurable:!0})})}let xo=class{constructor(n){n&&this.set(n)}set(n,t,r){const i=this;function a(l,c,d){const h=_1(c);if(!h)throw new Error("header name must be a non-empty string");const g=at.findKey(i,h);(!g||i[g]===void 0||d===!0||d===void 0&&i[g]!==!1)&&(i[g||c]=lx(l))}const s=(l,c)=>at.forEach(l,(d,h)=>a(d,h,c));if(at.isPlainObject(n)||n instanceof this.constructor)s(n,t);else if(at.isString(n)&&(n=n.trim())&&!TZ(n))s(jZ(n),t);else if(at.isObject(n)&&at.isIterable(n)){let l={},c,d;for(const h of n){if(!at.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[d=h[0]]=(c=l[d])?at.isArray(c)?[...c,h[1]]:[c,h[1]]:h[1]}s(l,t)}else n!=null&&a(t,n,r);return this}get(n,t){if(n=_1(n),n){const r=at.findKey(this,n);if(r){const i=this[r];if(!t)return i;if(t===!0)return NZ(i);if(at.isFunction(t))return t.call(this,i,r);if(at.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,t){if(n=_1(n),n){const r=at.findKey(this,n);return!!(r&&this[r]!==void 0&&(!t||uw(this,this[r],r,t)))}return!1}delete(n,t){const r=this;let i=!1;function a(s){if(s=_1(s),s){const l=at.findKey(r,s);l&&(!t||uw(r,r[l],l,t))&&(delete r[l],i=!0)}}return at.isArray(n)?n.forEach(a):a(n),i}clear(n){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const a=t[r];(!n||uw(this,this[a],a,n,!0))&&(delete this[a],i=!0)}return i}normalize(n){const t=this,r={};return at.forEach(this,(i,a)=>{const s=at.findKey(r,a);if(s){t[s]=lx(i),delete t[a];return}const l=n?OZ(a):String(a).trim();l!==a&&delete t[a],t[l]=lx(i),r[l]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const t=Object.create(null);return at.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=n&&at.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,t])=>n+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...t){const r=new this(n);return t.forEach(i=>r.set(i)),r}static accessor(n){const r=(this[p4]=this[p4]={accessors:{}}).accessors,i=this.prototype;function a(s){const l=_1(s);r[l]||(IZ(i,s),r[l]=!0)}return at.isArray(n)?n.forEach(a):a(n),this}};xo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);at.reduceDescriptors(xo.prototype,({value:e},n)=>{let t=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(r){this[t]=r}}});at.freezeMethods(xo);function cw(e,n){const t=this||Jg,r=n||t,i=xo.from(r.headers);let a=r.data;return at.forEach(e,function(l){a=l.call(t,a,i.normalize(),n?n.status:void 0)}),i.normalize(),a}function NI(e){return!!(e&&e.__CANCEL__)}function fm(e,n,t){jn.call(this,e??"canceled",jn.ERR_CANCELED,n,t),this.name="CanceledError"}at.inherits(fm,jn,{__CANCEL__:!0});function TI(e,n,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?e(t):n(new jn("Request failed with status code "+t.status,[jn.ERR_BAD_REQUEST,jn.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function DZ(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function LZ(e,n){e=e||10;const t=new Array(e),r=new Array(e);let i=0,a=0,s;return n=n!==void 0?n:1e3,function(c){const d=Date.now(),h=r[a];s||(s=d),t[i]=c,r[i]=d;let g=a,b=0;for(;g!==i;)b+=t[g++],g=g%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),d-s<n)return;const m=h&&d-h;return m?Math.round(b*1e3/m):void 0}}function RZ(e,n){let t=0,r=1e3/n,i,a;const s=(d,h=Date.now())=>{t=h,i=null,a&&(clearTimeout(a),a=null),e.apply(null,d)};return[(...d)=>{const h=Date.now(),g=h-t;g>=r?s(d,h):(i=d,a||(a=setTimeout(()=>{a=null,s(i)},r-g)))},()=>i&&s(i)]}const Vx=(e,n,t=3)=>{let r=0;const i=LZ(50,250);return RZ(a=>{const s=a.loaded,l=a.lengthComputable?a.total:void 0,c=s-r,d=i(c),h=s<=l;r=s;const g={loaded:s,total:l,progress:l?s/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&h?(l-s)/d:void 0,event:a,lengthComputable:l!=null,[n?"download":"upload"]:!0};e(g)},t)},m4=(e,n)=>{const t=e!=null;return[r=>n[0]({lengthComputable:t,total:e,loaded:r}),n[1]]},g4=e=>(...n)=>at.asap(()=>e(...n)),MZ=zs.hasStandardBrowserEnv?((e,n)=>t=>(t=new URL(t,zs.origin),e.protocol===t.protocol&&e.host===t.host&&(n||e.port===t.port)))(new URL(zs.origin),zs.navigator&&/(msie|trident)/i.test(zs.navigator.userAgent)):()=>!0,FZ=zs.hasStandardBrowserEnv?{write(e,n,t,r,i,a){const s=[e+"="+encodeURIComponent(n)];at.isNumber(t)&&s.push("expires="+new Date(t).toGMTString()),at.isString(r)&&s.push("path="+r),at.isString(i)&&s.push("domain="+i),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function PZ(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function zZ(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function OI(e,n,t){let r=!PZ(n);return e&&(r||t==!1)?zZ(e,n):n}const b4=e=>e instanceof xo?{...e}:e;function gp(e,n){n=n||{};const t={};function r(d,h,g,b){return at.isPlainObject(d)&&at.isPlainObject(h)?at.merge.call({caseless:b},d,h):at.isPlainObject(h)?at.merge({},h):at.isArray(h)?h.slice():h}function i(d,h,g,b){if(at.isUndefined(h)){if(!at.isUndefined(d))return r(void 0,d,g,b)}else return r(d,h,g,b)}function a(d,h){if(!at.isUndefined(h))return r(void 0,h)}function s(d,h){if(at.isUndefined(h)){if(!at.isUndefined(d))return r(void 0,d)}else return r(void 0,h)}function l(d,h,g){if(g in n)return r(d,h);if(g in e)return r(void 0,d)}const c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(d,h,g)=>i(b4(d),b4(h),g,!0)};return at.forEach(Object.keys(Object.assign({},e,n)),function(h){const g=c[h]||i,b=g(e[h],n[h],h);at.isUndefined(b)&&g!==l||(t[h]=b)}),t}const II=e=>{const n=gp({},e);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:l}=n;n.headers=s=xo.from(s),n.url=_I(OI(n.baseURL,n.url,n.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(at.isFormData(t)){if(zs.hasStandardBrowserEnv||zs.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){const[d,...h]=c?c.split(";").map(g=>g.trim()).filter(Boolean):[];s.setContentType([d||"multipart/form-data",...h].join("; "))}}if(zs.hasStandardBrowserEnv&&(r&&at.isFunction(r)&&(r=r(n)),r||r!==!1&&MZ(n.url))){const d=i&&a&&FZ.read(a);d&&s.set(i,d)}return n},qZ=typeof XMLHttpRequest<"u",BZ=qZ&&function(e){return new Promise(function(t,r){const i=II(e);let a=i.data;const s=xo.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=i,h,g,b,m,x;function y(){m&&m(),x&&x(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let A=new XMLHttpRequest;A.open(i.method.toUpperCase(),i.url,!0),A.timeout=i.timeout;function w(){if(!A)return;const j=xo.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),z={data:!l||l==="text"||l==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:j,config:e,request:A};TI(function(k){t(k),y()},function(k){r(k),y()},z),A=null}"onloadend"in A?A.onloadend=w:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(w)},A.onabort=function(){A&&(r(new jn("Request aborted",jn.ECONNABORTED,e,A)),A=null)},A.onerror=function(){r(new jn("Network Error",jn.ERR_NETWORK,e,A)),A=null},A.ontimeout=function(){let F=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const z=i.transitional||kI;i.timeoutErrorMessage&&(F=i.timeoutErrorMessage),r(new jn(F,z.clarifyTimeoutError?jn.ETIMEDOUT:jn.ECONNABORTED,e,A)),A=null},a===void 0&&s.setContentType(null),"setRequestHeader"in A&&at.forEach(s.toJSON(),function(F,z){A.setRequestHeader(z,F)}),at.isUndefined(i.withCredentials)||(A.withCredentials=!!i.withCredentials),l&&l!=="json"&&(A.responseType=i.responseType),d&&([b,x]=Vx(d,!0),A.addEventListener("progress",b)),c&&A.upload&&([g,m]=Vx(c),A.upload.addEventListener("progress",g),A.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(h=j=>{A&&(r(!j||j.type?new fm(null,e,A):j),A.abort(),A=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const C=DZ(i.url);if(C&&zs.protocols.indexOf(C)===-1){r(new jn("Unsupported protocol "+C+":",jn.ERR_BAD_REQUEST,e));return}A.send(a||null)})},UZ=(e,n)=>{const{length:t}=e=e?e.filter(Boolean):[];if(n||t){let r=new AbortController,i;const a=function(d){if(!i){i=!0,l();const h=d instanceof Error?d:this.reason;r.abort(h instanceof jn?h:new fm(h instanceof Error?h.message:h))}};let s=n&&setTimeout(()=>{s=null,a(new jn(`timeout ${n} of ms exceeded`,jn.ETIMEDOUT))},n);const l=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),e=null)};e.forEach(d=>d.addEventListener("abort",a));const{signal:c}=r;return c.unsubscribe=()=>at.asap(l),c}},$Z=function*(e,n){let t=e.byteLength;if(t<n){yield e;return}let r=0,i;for(;r<t;)i=r+n,yield e.slice(r,i),r=i},HZ=async function*(e,n){for await(const t of WZ(e))yield*$Z(t,n)},WZ=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const n=e.getReader();try{for(;;){const{done:t,value:r}=await n.read();if(t)break;yield r}}finally{await n.cancel()}},y4=(e,n,t,r)=>{const i=HZ(e,n);let a=0,s,l=c=>{s||(s=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:h}=await i.next();if(d){l(),c.close();return}let g=h.byteLength;if(t){let b=a+=g;t(b)}c.enqueue(new Uint8Array(h))}catch(d){throw l(d),d}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},Iv=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",DI=Iv&&typeof ReadableStream=="function",VZ=Iv&&(typeof TextEncoder=="function"?(e=>n=>e.encode(n))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),LI=(e,...n)=>{try{return!!e(...n)}catch{return!1}},YZ=DI&&LI(()=>{let e=!1;const n=new Request(zs.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!n}),x4=64*1024,BS=DI&&LI(()=>at.isReadableStream(new Response("").body)),Yx={stream:BS&&(e=>e.body)};Iv&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!Yx[n]&&(Yx[n]=at.isFunction(e[n])?t=>t[n]():(t,r)=>{throw new jn(`Response type '${n}' is not supported`,jn.ERR_NOT_SUPPORT,r)})})})(new Response);const GZ=async e=>{if(e==null)return 0;if(at.isBlob(e))return e.size;if(at.isSpecCompliantForm(e))return(await new Request(zs.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(at.isArrayBufferView(e)||at.isArrayBuffer(e))return e.byteLength;if(at.isURLSearchParams(e)&&(e=e+""),at.isString(e))return(await VZ(e)).byteLength},QZ=async(e,n)=>{const t=at.toFiniteNumber(e.getContentLength());return t??GZ(n)},KZ=Iv&&(async e=>{let{url:n,method:t,data:r,signal:i,cancelToken:a,timeout:s,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:h,withCredentials:g="same-origin",fetchOptions:b}=II(e);d=d?(d+"").toLowerCase():"text";let m=UZ([i,a&&a.toAbortSignal()],s),x;const y=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let A;try{if(c&&YZ&&t!=="get"&&t!=="head"&&(A=await QZ(h,r))!==0){let z=new Request(n,{method:"POST",body:r,duplex:"half"}),L;if(at.isFormData(r)&&(L=z.headers.get("content-type"))&&h.setContentType(L),z.body){const[k,M]=m4(A,Vx(g4(c)));r=y4(z.body,x4,k,M)}}at.isString(g)||(g=g?"include":"omit");const w="credentials"in Request.prototype;x=new Request(n,{...b,signal:m,method:t.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:w?g:void 0});let C=await fetch(x,b);const j=BS&&(d==="stream"||d==="response");if(BS&&(l||j&&y)){const z={};["status","statusText","headers"].forEach(q=>{z[q]=C[q]});const L=at.toFiniteNumber(C.headers.get("content-length")),[k,M]=l&&m4(L,Vx(g4(l),!0))||[];C=new Response(y4(C.body,x4,k,()=>{M&&M(),y&&y()}),z)}d=d||"text";let F=await Yx[at.findKey(Yx,d)||"text"](C,e);return!j&&y&&y(),await new Promise((z,L)=>{TI(z,L,{data:F,headers:xo.from(C.headers),status:C.status,statusText:C.statusText,config:e,request:x})})}catch(w){throw y&&y(),w&&w.name==="TypeError"&&/Load failed|fetch/i.test(w.message)?Object.assign(new jn("Network Error",jn.ERR_NETWORK,e,x),{cause:w.cause||w}):jn.from(w,w&&w.code,e,x)}}),US={http:dZ,xhr:BZ,fetch:KZ};at.forEach(US,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const v4=e=>`- ${e}`,XZ=e=>at.isFunction(e)||e===null||e===!1,RI={getAdapter:e=>{e=at.isArray(e)?e:[e];const{length:n}=e;let t,r;const i={};for(let a=0;a<n;a++){t=e[a];let s;if(r=t,!XZ(t)&&(r=US[(s=String(t)).toLowerCase()],r===void 0))throw new jn(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+a]=r}if(!r){const a=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=n?a.length>1?`since :
`+a.map(v4).join(`
`):" "+v4(a[0]):"as no adapter specified";throw new jn("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:US};function dw(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new fm(null,e)}function w4(e){return dw(e),e.headers=xo.from(e.headers),e.data=cw.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),RI.getAdapter(e.adapter||Jg.adapter)(e).then(function(r){return dw(e),r.data=cw.call(e,e.transformResponse,r),r.headers=xo.from(r.headers),r},function(r){return NI(r)||(dw(e),r&&r.response&&(r.response.data=cw.call(e,e.transformResponse,r.response),r.response.headers=xo.from(r.response.headers))),Promise.reject(r)})}const MI="1.10.0",Dv={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{Dv[e]=function(r){return typeof r===e||"a"+(n<1?"n ":" ")+e}});const S4={};Dv.transitional=function(n,t,r){function i(a,s){return"[Axios v"+MI+"] Transitional option '"+a+"'"+s+(r?". "+r:"")}return(a,s,l)=>{if(n===!1)throw new jn(i(s," has been removed"+(t?" in "+t:"")),jn.ERR_DEPRECATED);return t&&!S4[s]&&(S4[s]=!0,console.warn(i(s," has been deprecated since v"+t+" and will be removed in the near future"))),n?n(a,s,l):!0}};Dv.spelling=function(n){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${n}`),!0)};function ZZ(e,n,t){if(typeof e!="object")throw new jn("options must be an object",jn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],s=n[a];if(s){const l=e[a],c=l===void 0||s(l,a,e);if(c!==!0)throw new jn("option "+a+" must be "+c,jn.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new jn("Unknown option "+a,jn.ERR_BAD_OPTION)}}const ux={assertOptions:ZZ,validators:Dv},uc=ux.validators;let op=class{constructor(n){this.defaults=n||{},this.interceptors={request:new h4,response:new h4}}async request(n,t){try{return await this._request(n,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(n,t){typeof n=="string"?(t=t||{},t.url=n):t=n||{},t=gp(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:a}=t;r!==void 0&&ux.assertOptions(r,{silentJSONParsing:uc.transitional(uc.boolean),forcedJSONParsing:uc.transitional(uc.boolean),clarifyTimeoutError:uc.transitional(uc.boolean)},!1),i!=null&&(at.isFunction(i)?t.paramsSerializer={serialize:i}:ux.assertOptions(i,{encode:uc.function,serialize:uc.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ux.assertOptions(t,{baseUrl:uc.spelling("baseURL"),withXsrfToken:uc.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&at.merge(a.common,a[t.method]);a&&at.forEach(["delete","get","head","post","put","patch","common"],x=>{delete a[x]}),t.headers=xo.concat(s,a);const l=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(t)===!1||(c=c&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const d=[];this.interceptors.response.forEach(function(y){d.push(y.fulfilled,y.rejected)});let h,g=0,b;if(!c){const x=[w4.bind(this),void 0];for(x.unshift.apply(x,l),x.push.apply(x,d),b=x.length,h=Promise.resolve(t);g<b;)h=h.then(x[g++],x[g++]);return h}b=l.length;let m=t;for(g=0;g<b;){const x=l[g++],y=l[g++];try{m=x(m)}catch(A){y.call(this,A);break}}try{h=w4.call(this,m)}catch(x){return Promise.reject(x)}for(g=0,b=d.length;g<b;)h=h.then(d[g++],d[g++]);return h}getUri(n){n=gp(this.defaults,n);const t=OI(n.baseURL,n.url,n.allowAbsoluteUrls);return _I(t,n.params,n.paramsSerializer)}};at.forEach(["delete","get","head","options"],function(n){op.prototype[n]=function(t,r){return this.request(gp(r||{},{method:n,url:t,data:(r||{}).data}))}});at.forEach(["post","put","patch"],function(n){function t(r){return function(a,s,l){return this.request(gp(l||{},{method:n,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}op.prototype[n]=t(),op.prototype[n+"Form"]=t(!0)});let JZ=class FI{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const s=new Promise(l=>{r.subscribe(l),a=l}).then(i);return s.cancel=function(){r.unsubscribe(a)},s},n(function(a,s,l){r.reason||(r.reason=new fm(a,s,l),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const t=this._listeners.indexOf(n);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const n=new AbortController,t=r=>{n.abort(r)};return this.subscribe(t),n.signal.unsubscribe=()=>this.unsubscribe(t),n.signal}static source(){let n;return{token:new FI(function(i){n=i}),cancel:n}}};function eJ(e){return function(t){return e.apply(null,t)}}function tJ(e){return at.isObject(e)&&e.isAxiosError===!0}const $S={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries($S).forEach(([e,n])=>{$S[n]=e});function PI(e){const n=new op(e),t=pI(op.prototype.request,n);return at.extend(t,op.prototype,n,{allOwnKeys:!0}),at.extend(t,n,null,{allOwnKeys:!0}),t.create=function(i){return PI(gp(e,i))},t}const ga=PI(Jg);ga.Axios=op;ga.CanceledError=fm;ga.CancelToken=JZ;ga.isCancel=NI;ga.VERSION=MI;ga.toFormData=Ov;ga.AxiosError=jn;ga.Cancel=ga.CanceledError;ga.all=function(n){return Promise.all(n)};ga.spread=eJ;ga.isAxiosError=tJ;ga.mergeConfig=gp;ga.AxiosHeaders=xo;ga.formToJSON=e=>jI(at.isHTMLForm(e)?new FormData(e):e);ga.getAdapter=RI.getAdapter;ga.HttpStatusCode=$S;ga.default=ga;const{Axios:bhe,AxiosError:yhe,CanceledError:xhe,isCancel:vhe,CancelToken:whe,VERSION:She,all:Ahe,Cancel:Che,isAxiosError:Ehe,spread:_he,toFormData:khe,AxiosHeaders:jhe,HttpStatusCode:Nhe,formToJSON:The,getAdapter:Ohe,mergeConfig:Ihe}=ga;function Fy(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var fw={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var A4;function nJ(){return A4||(A4=1,function(e,n){(function(t){e.exports=t()})(function(){return function t(r,i,a){function s(d,h){if(!i[d]){if(!r[d]){var g=typeof Fy=="function"&&Fy;if(!h&&g)return g(d,!0);if(l)return l(d,!0);var b=new Error("Cannot find module '"+d+"'");throw b.code="MODULE_NOT_FOUND",b}var m=i[d]={exports:{}};r[d][0].call(m.exports,function(x){var y=r[d][1][x];return s(y||x)},m,m.exports,t,r,i,a)}return i[d].exports}for(var l=typeof Fy=="function"&&Fy,c=0;c<a.length;c++)s(a[c]);return s}({1:[function(t,r,i){var a=t("./utils"),s=t("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(c){for(var d,h,g,b,m,x,y,A=[],w=0,C=c.length,j=C,F=a.getTypeOf(c)!=="string";w<c.length;)j=C-w,g=F?(d=c[w++],h=w<C?c[w++]:0,w<C?c[w++]:0):(d=c.charCodeAt(w++),h=w<C?c.charCodeAt(w++):0,w<C?c.charCodeAt(w++):0),b=d>>2,m=(3&d)<<4|h>>4,x=1<j?(15&h)<<2|g>>6:64,y=2<j?63&g:64,A.push(l.charAt(b)+l.charAt(m)+l.charAt(x)+l.charAt(y));return A.join("")},i.decode=function(c){var d,h,g,b,m,x,y=0,A=0,w="data:";if(c.substr(0,w.length)===w)throw new Error("Invalid base64 input, it looks like a data url.");var C,j=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===l.charAt(64)&&j--,c.charAt(c.length-2)===l.charAt(64)&&j--,j%1!=0)throw new Error("Invalid base64 input, bad content length.");for(C=s.uint8array?new Uint8Array(0|j):new Array(0|j);y<c.length;)d=l.indexOf(c.charAt(y++))<<2|(b=l.indexOf(c.charAt(y++)))>>4,h=(15&b)<<4|(m=l.indexOf(c.charAt(y++)))>>2,g=(3&m)<<6|(x=l.indexOf(c.charAt(y++))),C[A++]=d,m!==64&&(C[A++]=h),x!==64&&(C[A++]=g);return C}},{"./support":30,"./utils":32}],2:[function(t,r,i){var a=t("./external"),s=t("./stream/DataWorker"),l=t("./stream/Crc32Probe"),c=t("./stream/DataLengthProbe");function d(h,g,b,m,x){this.compressedSize=h,this.uncompressedSize=g,this.crc32=b,this.compression=m,this.compressedContent=x}d.prototype={getContentWorker:function(){var h=new s(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),g=this;return h.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new s(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(h,g,b){return h.pipe(new l).pipe(new c("uncompressedSize")).pipe(g.compressWorker(b)).pipe(new c("compressedSize")).withStreamInfo("compression",g)},r.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,r,i){var a=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,r,i){var a=t("./utils"),s=function(){for(var l,c=[],d=0;d<256;d++){l=d;for(var h=0;h<8;h++)l=1&l?3988292384^l>>>1:l>>>1;c[d]=l}return c}();r.exports=function(l,c){return l!==void 0&&l.length?a.getTypeOf(l)!=="string"?function(d,h,g,b){var m=s,x=b+g;d^=-1;for(var y=b;y<x;y++)d=d>>>8^m[255&(d^h[y])];return-1^d}(0|c,l,l.length,0):function(d,h,g,b){var m=s,x=b+g;d^=-1;for(var y=b;y<x;y++)d=d>>>8^m[255&(d^h.charCodeAt(y))];return-1^d}(0|c,l,l.length,0):0}},{"./utils":32}],5:[function(t,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,r,i){var a=null;a=typeof Promise<"u"?Promise:t("lie"),r.exports={Promise:a}},{lie:37}],7:[function(t,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=t("pako"),l=t("./utils"),c=t("./stream/GenericWorker"),d=a?"uint8array":"array";function h(g,b){c.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=b,this.meta={}}i.magic="\b\0",l.inherits(h,c),h.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(d,g.data),!1)},h.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(b){g.push({data:b,meta:g.meta})}},i.compressWorker=function(g){return new h("Deflate",g)},i.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,r,i){function a(m,x){var y,A="";for(y=0;y<x;y++)A+=String.fromCharCode(255&m),m>>>=8;return A}function s(m,x,y,A,w,C){var j,F,z=m.file,L=m.compression,k=C!==d.utf8encode,M=l.transformTo("string",C(z.name)),q=l.transformTo("string",d.utf8encode(z.name)),Q=z.comment,T=l.transformTo("string",C(Q)),O=l.transformTo("string",d.utf8encode(Q)),R=q.length!==z.name.length,N=O.length!==Q.length,K="",H="",G="",ee=z.dir,le=z.date,Y={crc32:0,compressedSize:0,uncompressedSize:0};x&&!y||(Y.crc32=m.crc32,Y.compressedSize=m.compressedSize,Y.uncompressedSize=m.uncompressedSize);var te=0;x&&(te|=8),k||!R&&!N||(te|=2048);var U=0,B=0;ee&&(U|=16),w==="UNIX"?(B=798,U|=function(Z,ne){var ve=Z;return Z||(ve=ne?16893:33204),(65535&ve)<<16}(z.unixPermissions,ee)):(B=20,U|=function(Z){return 63&(Z||0)}(z.dosPermissions)),j=le.getUTCHours(),j<<=6,j|=le.getUTCMinutes(),j<<=5,j|=le.getUTCSeconds()/2,F=le.getUTCFullYear()-1980,F<<=4,F|=le.getUTCMonth()+1,F<<=5,F|=le.getUTCDate(),R&&(H=a(1,1)+a(h(M),4)+q,K+="up"+a(H.length,2)+H),N&&(G=a(1,1)+a(h(T),4)+O,K+="uc"+a(G.length,2)+G);var re="";return re+=`
\0`,re+=a(te,2),re+=L.magic,re+=a(j,2),re+=a(F,2),re+=a(Y.crc32,4),re+=a(Y.compressedSize,4),re+=a(Y.uncompressedSize,4),re+=a(M.length,2),re+=a(K.length,2),{fileRecord:g.LOCAL_FILE_HEADER+re+M+K,dirRecord:g.CENTRAL_FILE_HEADER+a(B,2)+re+a(T.length,2)+"\0\0\0\0"+a(U,4)+a(A,4)+M+K+T}}var l=t("../utils"),c=t("../stream/GenericWorker"),d=t("../utf8"),h=t("../crc32"),g=t("../signature");function b(m,x,y,A){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=x,this.zipPlatform=y,this.encodeFileName=A,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(b,c),b.prototype.push=function(m){var x=m.meta.percent||0,y=this.entriesCount,A=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,c.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:y?(x+100*(y-A-1))/y:100}}))},b.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var x=this.streamFiles&&!m.file.dir;if(x){var y=s(m,x,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(m){this.accumulate=!1;var x=this.streamFiles&&!m.file.dir,y=s(m,x,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),x)this.push({data:function(A){return g.DATA_DESCRIPTOR+a(A.crc32,4)+a(A.compressedSize,4)+a(A.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var m=this.bytesWritten,x=0;x<this.dirRecords.length;x++)this.push({data:this.dirRecords[x],meta:{percent:100}});var y=this.bytesWritten-m,A=function(w,C,j,F,z){var L=l.transformTo("string",z(F));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(w,2)+a(w,2)+a(C,4)+a(j,4)+a(L.length,2)+L}(this.dirRecords.length,y,m,this.zipComment,this.encodeFileName);this.push({data:A,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(m){this._sources.push(m);var x=this;return m.on("data",function(y){x.processChunk(y)}),m.on("end",function(){x.closedSource(x.previous.streamInfo),x._sources.length?x.prepareNextSource():x.end()}),m.on("error",function(y){x.error(y)}),this},b.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(m){var x=this._sources;if(!c.prototype.error.call(this,m))return!1;for(var y=0;y<x.length;y++)try{x[y].error(m)}catch{}return!0},b.prototype.lock=function(){c.prototype.lock.call(this);for(var m=this._sources,x=0;x<m.length;x++)m[x].lock()},r.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,r,i){var a=t("../compressions"),s=t("./ZipFileWorker");i.generateWorker=function(l,c,d){var h=new s(c.streamFiles,d,c.platform,c.encodeFileName),g=0;try{l.forEach(function(b,m){g++;var x=function(C,j){var F=C||j,z=a[F];if(!z)throw new Error(F+" is not a valid compression method !");return z}(m.options.compression,c.compression),y=m.options.compressionOptions||c.compressionOptions||{},A=m.dir,w=m.date;m._compressWorker(x,y).withStreamInfo("file",{name:b,dir:A,date:w,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(h)}),h.entriesCount=g}catch(b){h.error(b)}return h}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,r,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new a;for(var l in this)typeof this[l]!="function"&&(s[l]=this[l]);return s}}(a.prototype=t("./object")).loadAsync=t("./load"),a.support=t("./support"),a.defaults=t("./defaults"),a.version="3.10.1",a.loadAsync=function(s,l){return new a().loadAsync(s,l)},a.external=t("./external"),r.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,r,i){var a=t("./utils"),s=t("./external"),l=t("./utf8"),c=t("./zipEntries"),d=t("./stream/Crc32Probe"),h=t("./nodejsUtils");function g(b){return new s.Promise(function(m,x){var y=b.decompressed.getContentWorker().pipe(new d);y.on("error",function(A){x(A)}).on("end",function(){y.streamInfo.crc32!==b.decompressed.crc32?x(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}r.exports=function(b,m){var x=this;return m=a.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),h.isNode&&h.isStream(b)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",b,!0,m.optimizedBinaryString,m.base64).then(function(y){var A=new c(m);return A.load(y),A}).then(function(y){var A=[s.Promise.resolve(y)],w=y.files;if(m.checkCRC32)for(var C=0;C<w.length;C++)A.push(g(w[C]));return s.Promise.all(A)}).then(function(y){for(var A=y.shift(),w=A.files,C=0;C<w.length;C++){var j=w[C],F=j.fileNameStr,z=a.resolve(j.fileNameStr);x.file(z,j.decompressed,{binary:!0,optimizedBinaryString:!0,date:j.date,dir:j.dir,comment:j.fileCommentStr.length?j.fileCommentStr:null,unixPermissions:j.unixPermissions,dosPermissions:j.dosPermissions,createFolders:m.createFolders}),j.dir||(x.file(z).unsafeOriginalName=F)}return A.zipComment.length&&(x.comment=A.zipComment),x})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,r,i){var a=t("../utils"),s=t("../stream/GenericWorker");function l(c,d){s.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(d)}a.inherits(l,s),l.prototype._bindStream=function(c){var d=this;(this._stream=c).pause(),c.on("data",function(h){d.push({data:h,meta:{percent:0}})}).on("error",function(h){d.isPaused?this.generatedError=h:d.error(h)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},l.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,r,i){var a=t("readable-stream").Readable;function s(l,c,d){a.call(this,c),this._helper=l;var h=this;l.on("data",function(g,b){h.push(g)||h._helper.pause(),d&&d(b)}).on("error",function(g){h.emit("error",g)}).on("end",function(){h.push(null)})}t("../utils").inherits(s,a),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(t,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,s);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,s)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var s=new Buffer(a);return s.fill(0),s},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(t,r,i){function a(z,L,k){var M,q=l.getTypeOf(L),Q=l.extend(k||{},h);Q.date=Q.date||new Date,Q.compression!==null&&(Q.compression=Q.compression.toUpperCase()),typeof Q.unixPermissions=="string"&&(Q.unixPermissions=parseInt(Q.unixPermissions,8)),Q.unixPermissions&&16384&Q.unixPermissions&&(Q.dir=!0),Q.dosPermissions&&16&Q.dosPermissions&&(Q.dir=!0),Q.dir&&(z=w(z)),Q.createFolders&&(M=A(z))&&C.call(this,M,!0);var T=q==="string"&&Q.binary===!1&&Q.base64===!1;k&&k.binary!==void 0||(Q.binary=!T),(L instanceof g&&L.uncompressedSize===0||Q.dir||!L||L.length===0)&&(Q.base64=!1,Q.binary=!0,L="",Q.compression="STORE",q="string");var O=null;O=L instanceof g||L instanceof c?L:x.isNode&&x.isStream(L)?new y(z,L):l.prepareContent(z,L,Q.binary,Q.optimizedBinaryString,Q.base64);var R=new b(z,O,Q);this.files[z]=R}var s=t("./utf8"),l=t("./utils"),c=t("./stream/GenericWorker"),d=t("./stream/StreamHelper"),h=t("./defaults"),g=t("./compressedObject"),b=t("./zipObject"),m=t("./generate"),x=t("./nodejsUtils"),y=t("./nodejs/NodejsStreamInputAdapter"),A=function(z){z.slice(-1)==="/"&&(z=z.substring(0,z.length-1));var L=z.lastIndexOf("/");return 0<L?z.substring(0,L):""},w=function(z){return z.slice(-1)!=="/"&&(z+="/"),z},C=function(z,L){return L=L!==void 0?L:h.createFolders,z=w(z),this.files[z]||a.call(this,z,null,{dir:!0,createFolders:L}),this.files[z]};function j(z){return Object.prototype.toString.call(z)==="[object RegExp]"}var F={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(z){var L,k,M;for(L in this.files)M=this.files[L],(k=L.slice(this.root.length,L.length))&&L.slice(0,this.root.length)===this.root&&z(k,M)},filter:function(z){var L=[];return this.forEach(function(k,M){z(k,M)&&L.push(M)}),L},file:function(z,L,k){if(arguments.length!==1)return z=this.root+z,a.call(this,z,L,k),this;if(j(z)){var M=z;return this.filter(function(Q,T){return!T.dir&&M.test(Q)})}var q=this.files[this.root+z];return q&&!q.dir?q:null},folder:function(z){if(!z)return this;if(j(z))return this.filter(function(q,Q){return Q.dir&&z.test(q)});var L=this.root+z,k=C.call(this,L),M=this.clone();return M.root=k.name,M},remove:function(z){z=this.root+z;var L=this.files[z];if(L||(z.slice(-1)!=="/"&&(z+="/"),L=this.files[z]),L&&!L.dir)delete this.files[z];else for(var k=this.filter(function(q,Q){return Q.name.slice(0,z.length)===z}),M=0;M<k.length;M++)delete this.files[k[M].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(z){var L,k={};try{if((k=l.extend(z||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=k.type.toLowerCase(),k.compression=k.compression.toUpperCase(),k.type==="binarystring"&&(k.type="string"),!k.type)throw new Error("No output type specified.");l.checkSupport(k.type),k.platform!=="darwin"&&k.platform!=="freebsd"&&k.platform!=="linux"&&k.platform!=="sunos"||(k.platform="UNIX"),k.platform==="win32"&&(k.platform="DOS");var M=k.comment||this.comment||"";L=m.generateWorker(this,k,M)}catch(q){(L=new c("error")).error(q)}return new d(L,k.type||"string",k.mimeType)},generateAsync:function(z,L){return this.generateInternalStream(z).accumulate(L)},generateNodeStream:function(z,L){return(z=z||{}).type||(z.type="nodebuffer"),this.generateInternalStream(z).toNodejsStream(L)}};r.exports=F},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,r,i){r.exports=t("stream")},{stream:void 0}],17:[function(t,r,i){var a=t("./DataReader");function s(l){a.call(this,l);for(var c=0;c<this.data.length;c++)l[c]=255&l[c]}t("../utils").inherits(s,a),s.prototype.byteAt=function(l){return this.data[this.zero+l]},s.prototype.lastIndexOfSignature=function(l){for(var c=l.charCodeAt(0),d=l.charCodeAt(1),h=l.charCodeAt(2),g=l.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===c&&this.data[b+1]===d&&this.data[b+2]===h&&this.data[b+3]===g)return b-this.zero;return-1},s.prototype.readAndCheckSignature=function(l){var c=l.charCodeAt(0),d=l.charCodeAt(1),h=l.charCodeAt(2),g=l.charCodeAt(3),b=this.readData(4);return c===b[0]&&d===b[1]&&h===b[2]&&g===b[3]},s.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(t,r,i){var a=t("../utils");function s(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var c,d=0;for(this.checkOffset(l),c=this.index+l-1;c>=this.index;c--)d=(d<<8)+this.byteAt(c);return this.index+=l,d},readString:function(l){return a.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},r.exports=s},{"../utils":32}],19:[function(t,r,i){var a=t("./Uint8ArrayReader");function s(l){a.call(this,l)}t("../utils").inherits(s,a),s.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,r,i){var a=t("./DataReader");function s(l){a.call(this,l)}t("../utils").inherits(s,a),s.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},s.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},s.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},s.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(t,r,i){var a=t("./ArrayReader");function s(l){a.call(this,l)}t("../utils").inherits(s,a),s.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(t,r,i){var a=t("../utils"),s=t("../support"),l=t("./ArrayReader"),c=t("./StringReader"),d=t("./NodeBufferReader"),h=t("./Uint8ArrayReader");r.exports=function(g){var b=a.getTypeOf(g);return a.checkSupport(b),b!=="string"||s.uint8array?b==="nodebuffer"?new d(g):s.uint8array?new h(a.transformTo("uint8array",g)):new l(a.transformTo("array",g)):new c(g)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,r,i){var a=t("./GenericWorker"),s=t("../utils");function l(c){a.call(this,"ConvertWorker to "+c),this.destType=c}s.inherits(l,a),l.prototype.processChunk=function(c){this.push({data:s.transformTo(this.destType,c.data),meta:c.meta})},r.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(t,r,i){var a=t("./GenericWorker"),s=t("../crc32");function l(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(l,a),l.prototype.processChunk=function(c){this.streamInfo.crc32=s(c.data,this.streamInfo.crc32||0),this.push(c)},r.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,r,i){var a=t("../utils"),s=t("./GenericWorker");function l(c){s.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}a.inherits(l,s),l.prototype.processChunk=function(c){if(c){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+c.data.length}s.prototype.processChunk.call(this,c)},r.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(t,r,i){var a=t("../utils"),s=t("./GenericWorker");function l(c){s.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(h){d.dataIsReady=!0,d.data=h,d.max=h&&h.length||0,d.type=a.getTypeOf(h),d.isPaused||d._tickAndRepeat()},function(h){d.error(h)})}a.inherits(l,s),l.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,d);break;case"uint8array":c=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":c=this.data.slice(this.index,d)}return this.index=d,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(t,r,i){function a(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,l){return this._listeners[s].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,l){if(this._listeners[s])for(var c=0;c<this._listeners[s].length;c++)this._listeners[s][c].call(this,l)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var l=this;return s.on("data",function(c){l.processChunk(c)}),s.on("end",function(){l.end()}),s.on("error",function(c){l.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,l){return this.extraStreamInfo[s]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=a},{}],29:[function(t,r,i){var a=t("../utils"),s=t("./ConvertWorker"),l=t("./GenericWorker"),c=t("../base64"),d=t("../support"),h=t("../external"),g=null;if(d.nodestream)try{g=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(x,y){return new h.Promise(function(A,w){var C=[],j=x._internalType,F=x._outputType,z=x._mimeType;x.on("data",function(L,k){C.push(L),y&&y(k)}).on("error",function(L){C=[],w(L)}).on("end",function(){try{var L=function(k,M,q){switch(k){case"blob":return a.newBlob(a.transformTo("arraybuffer",M),q);case"base64":return c.encode(M);default:return a.transformTo(k,M)}}(F,function(k,M){var q,Q=0,T=null,O=0;for(q=0;q<M.length;q++)O+=M[q].length;switch(k){case"string":return M.join("");case"array":return Array.prototype.concat.apply([],M);case"uint8array":for(T=new Uint8Array(O),q=0;q<M.length;q++)T.set(M[q],Q),Q+=M[q].length;return T;case"nodebuffer":return Buffer.concat(M);default:throw new Error("concat : unsupported type '"+k+"'")}}(j,C),z);A(L)}catch(k){w(k)}C=[]}).resume()})}function m(x,y,A){var w=y;switch(y){case"blob":case"arraybuffer":w="uint8array";break;case"base64":w="string"}try{this._internalType=w,this._outputType=y,this._mimeType=A,a.checkSupport(w),this._worker=x.pipe(new s(w)),x.lock()}catch(C){this._worker=new l("error"),this._worker.error(C)}}m.prototype={accumulate:function(x){return b(this,x)},on:function(x,y){var A=this;return x==="data"?this._worker.on(x,function(w){y.call(A,w.data,w.meta)}):this._worker.on(x,function(){a.delay(y,arguments,A)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(x){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},x)}},r.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(a),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,r,i){for(var a=t("./utils"),s=t("./support"),l=t("./nodejsUtils"),c=t("./stream/GenericWorker"),d=new Array(256),h=0;h<256;h++)d[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;d[254]=d[254]=1;function g(){c.call(this,"utf-8 decode"),this.leftOver=null}function b(){c.call(this,"utf-8 encode")}i.utf8encode=function(m){return s.nodebuffer?l.newBufferFrom(m,"utf-8"):function(x){var y,A,w,C,j,F=x.length,z=0;for(C=0;C<F;C++)(64512&(A=x.charCodeAt(C)))==55296&&C+1<F&&(64512&(w=x.charCodeAt(C+1)))==56320&&(A=65536+(A-55296<<10)+(w-56320),C++),z+=A<128?1:A<2048?2:A<65536?3:4;for(y=s.uint8array?new Uint8Array(z):new Array(z),C=j=0;j<z;C++)(64512&(A=x.charCodeAt(C)))==55296&&C+1<F&&(64512&(w=x.charCodeAt(C+1)))==56320&&(A=65536+(A-55296<<10)+(w-56320),C++),A<128?y[j++]=A:(A<2048?y[j++]=192|A>>>6:(A<65536?y[j++]=224|A>>>12:(y[j++]=240|A>>>18,y[j++]=128|A>>>12&63),y[j++]=128|A>>>6&63),y[j++]=128|63&A);return y}(m)},i.utf8decode=function(m){return s.nodebuffer?a.transformTo("nodebuffer",m).toString("utf-8"):function(x){var y,A,w,C,j=x.length,F=new Array(2*j);for(y=A=0;y<j;)if((w=x[y++])<128)F[A++]=w;else if(4<(C=d[w]))F[A++]=65533,y+=C-1;else{for(w&=C===2?31:C===3?15:7;1<C&&y<j;)w=w<<6|63&x[y++],C--;1<C?F[A++]=65533:w<65536?F[A++]=w:(w-=65536,F[A++]=55296|w>>10&1023,F[A++]=56320|1023&w)}return F.length!==A&&(F.subarray?F=F.subarray(0,A):F.length=A),a.applyFromCharCode(F)}(m=a.transformTo(s.uint8array?"uint8array":"array",m))},a.inherits(g,c),g.prototype.processChunk=function(m){var x=a.transformTo(s.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var y=x;(x=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),x.set(y,this.leftOver.length)}else x=this.leftOver.concat(x);this.leftOver=null}var A=function(C,j){var F;for((j=j||C.length)>C.length&&(j=C.length),F=j-1;0<=F&&(192&C[F])==128;)F--;return F<0||F===0?j:F+d[C[F]]>j?F:j}(x),w=x;A!==x.length&&(s.uint8array?(w=x.subarray(0,A),this.leftOver=x.subarray(A,x.length)):(w=x.slice(0,A),this.leftOver=x.slice(A,x.length))),this.push({data:i.utf8decode(w),meta:m.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=g,a.inherits(b,c),b.prototype.processChunk=function(m){this.push({data:i.utf8encode(m.data),meta:m.meta})},i.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,r,i){var a=t("./support"),s=t("./base64"),l=t("./nodejsUtils"),c=t("./external");function d(y){return y}function h(y,A){for(var w=0;w<y.length;++w)A[w]=255&y.charCodeAt(w);return A}t("setimmediate"),i.newBlob=function(y,A){i.checkSupport("blob");try{return new Blob([y],{type:A})}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return w.append(y),w.getBlob(A)}catch{throw new Error("Bug : can't construct the Blob.")}}};var g={stringifyByChunk:function(y,A,w){var C=[],j=0,F=y.length;if(F<=w)return String.fromCharCode.apply(null,y);for(;j<F;)A==="array"||A==="nodebuffer"?C.push(String.fromCharCode.apply(null,y.slice(j,Math.min(j+w,F)))):C.push(String.fromCharCode.apply(null,y.subarray(j,Math.min(j+w,F)))),j+=w;return C.join("")},stringifyByChar:function(y){for(var A="",w=0;w<y.length;w++)A+=String.fromCharCode(y[w]);return A},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function b(y){var A=65536,w=i.getTypeOf(y),C=!0;if(w==="uint8array"?C=g.applyCanBeUsed.uint8array:w==="nodebuffer"&&(C=g.applyCanBeUsed.nodebuffer),C)for(;1<A;)try{return g.stringifyByChunk(y,w,A)}catch{A=Math.floor(A/2)}return g.stringifyByChar(y)}function m(y,A){for(var w=0;w<y.length;w++)A[w]=y[w];return A}i.applyFromCharCode=b;var x={};x.string={string:d,array:function(y){return h(y,new Array(y.length))},arraybuffer:function(y){return x.string.uint8array(y).buffer},uint8array:function(y){return h(y,new Uint8Array(y.length))},nodebuffer:function(y){return h(y,l.allocBuffer(y.length))}},x.array={string:b,array:d,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return l.newBufferFrom(y)}},x.arraybuffer={string:function(y){return b(new Uint8Array(y))},array:function(y){return m(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:d,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return l.newBufferFrom(new Uint8Array(y))}},x.uint8array={string:b,array:function(y){return m(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:d,nodebuffer:function(y){return l.newBufferFrom(y)}},x.nodebuffer={string:b,array:function(y){return m(y,new Array(y.length))},arraybuffer:function(y){return x.nodebuffer.uint8array(y).buffer},uint8array:function(y){return m(y,new Uint8Array(y.length))},nodebuffer:d},i.transformTo=function(y,A){if(A=A||"",!y)return A;i.checkSupport(y);var w=i.getTypeOf(A);return x[w][y](A)},i.resolve=function(y){for(var A=y.split("/"),w=[],C=0;C<A.length;C++){var j=A[C];j==="."||j===""&&C!==0&&C!==A.length-1||(j===".."?w.pop():w.push(j))}return w.join("/")},i.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":a.nodebuffer&&l.isBuffer(y)?"nodebuffer":a.uint8array&&y instanceof Uint8Array?"uint8array":a.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(y){if(!a[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(y){var A,w,C="";for(w=0;w<(y||"").length;w++)C+="\\x"+((A=y.charCodeAt(w))<16?"0":"")+A.toString(16).toUpperCase();return C},i.delay=function(y,A,w){setImmediate(function(){y.apply(w||null,A||[])})},i.inherits=function(y,A){function w(){}w.prototype=A.prototype,y.prototype=new w},i.extend=function(){var y,A,w={};for(y=0;y<arguments.length;y++)for(A in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],A)&&w[A]===void 0&&(w[A]=arguments[y][A]);return w},i.prepareContent=function(y,A,w,C,j){return c.Promise.resolve(A).then(function(F){return a.blob&&(F instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(F))!==-1)&&typeof FileReader<"u"?new c.Promise(function(z,L){var k=new FileReader;k.onload=function(M){z(M.target.result)},k.onerror=function(M){L(M.target.error)},k.readAsArrayBuffer(F)}):F}).then(function(F){var z=i.getTypeOf(F);return z?(z==="arraybuffer"?F=i.transformTo("uint8array",F):z==="string"&&(j?F=s.decode(F):w&&C!==!0&&(F=function(L){return h(L,a.uint8array?new Uint8Array(L.length):new Array(L.length))}(F))),F):c.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,r,i){var a=t("./reader/readerFor"),s=t("./utils"),l=t("./signature"),c=t("./zipEntry"),d=t("./support");function h(g){this.files=[],this.loadOptions=g}h.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(b)+", expected "+s.pretty(g)+")")}},isSignature:function(g,b){var m=this.reader.index;this.reader.setIndex(g);var x=this.reader.readString(4)===b;return this.reader.setIndex(m),x},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),b=d.uint8array?"uint8array":"array",m=s.transformTo(b,g);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g,b,m,x=this.zip64EndOfCentralSize-44;0<x;)g=this.reader.readInt(2),b=this.reader.readInt(4),m=this.reader.readData(b),this.zip64ExtensibleData[g]={id:g,length:b,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,b;for(g=0;g<this.files.length;g++)b=this.files[g],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(g=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(g<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var b=g;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var x=b-m;if(0<x)this.isSignature(b,l.CENTRAL_FILE_HEADER)||(this.reader.zero=x);else if(x<0)throw new Error("Corrupted zip: missing "+Math.abs(x)+" bytes.")},prepareReader:function(g){this.reader=a(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,r,i){var a=t("./reader/readerFor"),s=t("./utils"),l=t("./compressedObject"),c=t("./crc32"),d=t("./utf8"),h=t("./compressions"),g=t("./support");function b(m,x){this.options=m,this.loadOptions=x}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var x,y;if(m.skip(22),this.fileNameLength=m.readInt(2),y=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((x=function(A){for(var w in h)if(Object.prototype.hasOwnProperty.call(h,w)&&h[w].magic===A)return h[w];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,x,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var x=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(x),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=a(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var x,y,A,w=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<w;)x=m.readInt(2),y=m.readInt(2),A=m.readData(y),this.extraFields[x]={id:x,length:y,value:A};m.setIndex(w)},handleUTF8:function(){var m=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var x=this.findExtraFieldUnicodePath();if(x!==null)this.fileNameStr=x;else{var y=s.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var A=this.findExtraFieldUnicodeComment();if(A!==null)this.fileCommentStr=A;else{var w=s.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(w)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var x=a(m.value);return x.readInt(1)!==1||c(this.fileName)!==x.readInt(4)?null:d.utf8decode(x.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var x=a(m.value);return x.readInt(1)!==1||c(this.fileComment)!==x.readInt(4)?null:d.utf8decode(x.readData(m.length-5))}return null}},r.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,r,i){function a(x,y,A){this.name=x,this.dir=A.dir,this.date=A.date,this.comment=A.comment,this.unixPermissions=A.unixPermissions,this.dosPermissions=A.dosPermissions,this._data=y,this._dataBinary=A.binary,this.options={compression:A.compression,compressionOptions:A.compressionOptions}}var s=t("./stream/StreamHelper"),l=t("./stream/DataWorker"),c=t("./utf8"),d=t("./compressedObject"),h=t("./stream/GenericWorker");a.prototype={internalStream:function(x){var y=null,A="string";try{if(!x)throw new Error("No output type specified.");var w=(A=x.toLowerCase())==="string"||A==="text";A!=="binarystring"&&A!=="text"||(A="string"),y=this._decompressWorker();var C=!this._dataBinary;C&&!w&&(y=y.pipe(new c.Utf8EncodeWorker)),!C&&w&&(y=y.pipe(new c.Utf8DecodeWorker))}catch(j){(y=new h("error")).error(j)}return new s(y,A,"")},async:function(x,y){return this.internalStream(x).accumulate(y)},nodeStream:function(x,y){return this.internalStream(x||"nodebuffer").toNodejsStream(y)},_compressWorker:function(x,y){if(this._data instanceof d&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();var A=this._decompressWorker();return this._dataBinary||(A=A.pipe(new c.Utf8EncodeWorker)),d.createWorkerFrom(A,x,y)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof h?this._data:new l(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<g.length;m++)a.prototype[g[m]]=b;r.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,r,i){(function(a){var s,l,c=a.MutationObserver||a.WebKitMutationObserver;if(c){var d=0,h=new c(x),g=a.document.createTextNode("");h.observe(g,{characterData:!0}),s=function(){g.data=d=++d%2}}else if(a.setImmediate||a.MessageChannel===void 0)s="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var y=a.document.createElement("script");y.onreadystatechange=function(){x(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},a.document.documentElement.appendChild(y)}:function(){setTimeout(x,0)};else{var b=new a.MessageChannel;b.port1.onmessage=x,s=function(){b.port2.postMessage(0)}}var m=[];function x(){var y,A;l=!0;for(var w=m.length;w;){for(A=m,m=[],y=-1;++y<w;)A[y]();w=m.length}l=!1}r.exports=function(y){m.push(y)!==1||l||s()}}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,r,i){var a=t("immediate");function s(){}var l={},c=["REJECTED"],d=["FULFILLED"],h=["PENDING"];function g(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,w!==s&&y(this,w)}function b(w,C,j){this.promise=w,typeof C=="function"&&(this.onFulfilled=C,this.callFulfilled=this.otherCallFulfilled),typeof j=="function"&&(this.onRejected=j,this.callRejected=this.otherCallRejected)}function m(w,C,j){a(function(){var F;try{F=C(j)}catch(z){return l.reject(w,z)}F===w?l.reject(w,new TypeError("Cannot resolve promise with itself")):l.resolve(w,F)})}function x(w){var C=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof C=="function")return function(){C.apply(w,arguments)}}function y(w,C){var j=!1;function F(k){j||(j=!0,l.reject(w,k))}function z(k){j||(j=!0,l.resolve(w,k))}var L=A(function(){C(z,F)});L.status==="error"&&F(L.value)}function A(w,C){var j={};try{j.value=w(C),j.status="success"}catch(F){j.status="error",j.value=F}return j}(r.exports=g).prototype.finally=function(w){if(typeof w!="function")return this;var C=this.constructor;return this.then(function(j){return C.resolve(w()).then(function(){return j})},function(j){return C.resolve(w()).then(function(){throw j})})},g.prototype.catch=function(w){return this.then(null,w)},g.prototype.then=function(w,C){if(typeof w!="function"&&this.state===d||typeof C!="function"&&this.state===c)return this;var j=new this.constructor(s);return this.state!==h?m(j,this.state===d?w:C,this.outcome):this.queue.push(new b(j,w,C)),j},b.prototype.callFulfilled=function(w){l.resolve(this.promise,w)},b.prototype.otherCallFulfilled=function(w){m(this.promise,this.onFulfilled,w)},b.prototype.callRejected=function(w){l.reject(this.promise,w)},b.prototype.otherCallRejected=function(w){m(this.promise,this.onRejected,w)},l.resolve=function(w,C){var j=A(x,C);if(j.status==="error")return l.reject(w,j.value);var F=j.value;if(F)y(w,F);else{w.state=d,w.outcome=C;for(var z=-1,L=w.queue.length;++z<L;)w.queue[z].callFulfilled(C)}return w},l.reject=function(w,C){w.state=c,w.outcome=C;for(var j=-1,F=w.queue.length;++j<F;)w.queue[j].callRejected(C);return w},g.resolve=function(w){return w instanceof this?w:l.resolve(new this(s),w)},g.reject=function(w){var C=new this(s);return l.reject(C,w)},g.all=function(w){var C=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var j=w.length,F=!1;if(!j)return this.resolve([]);for(var z=new Array(j),L=0,k=-1,M=new this(s);++k<j;)q(w[k],k);return M;function q(Q,T){C.resolve(Q).then(function(O){z[T]=O,++L!==j||F||(F=!0,l.resolve(M,z))},function(O){F||(F=!0,l.reject(M,O))})}},g.race=function(w){var C=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var j=w.length,F=!1;if(!j)return this.resolve([]);for(var z=-1,L=new this(s);++z<j;)k=w[z],C.resolve(k).then(function(M){F||(F=!0,l.resolve(L,M))},function(M){F||(F=!0,l.reject(L,M))});var k;return L}},{immediate:36}],38:[function(t,r,i){var a={};(0,t("./lib/utils/common").assign)(a,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),r.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,r,i){var a=t("./zlib/deflate"),s=t("./utils/common"),l=t("./utils/strings"),c=t("./zlib/messages"),d=t("./zlib/zstream"),h=Object.prototype.toString,g=0,b=-1,m=0,x=8;function y(w){if(!(this instanceof y))return new y(w);this.options=s.assign({level:b,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},w||{});var C=this.options;C.raw&&0<C.windowBits?C.windowBits=-C.windowBits:C.gzip&&0<C.windowBits&&C.windowBits<16&&(C.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var j=a.deflateInit2(this.strm,C.level,C.method,C.windowBits,C.memLevel,C.strategy);if(j!==g)throw new Error(c[j]);if(C.header&&a.deflateSetHeader(this.strm,C.header),C.dictionary){var F;if(F=typeof C.dictionary=="string"?l.string2buf(C.dictionary):h.call(C.dictionary)==="[object ArrayBuffer]"?new Uint8Array(C.dictionary):C.dictionary,(j=a.deflateSetDictionary(this.strm,F))!==g)throw new Error(c[j]);this._dict_set=!0}}function A(w,C){var j=new y(C);if(j.push(w,!0),j.err)throw j.msg||c[j.err];return j.result}y.prototype.push=function(w,C){var j,F,z=this.strm,L=this.options.chunkSize;if(this.ended)return!1;F=C===~~C?C:C===!0?4:0,typeof w=="string"?z.input=l.string2buf(w):h.call(w)==="[object ArrayBuffer]"?z.input=new Uint8Array(w):z.input=w,z.next_in=0,z.avail_in=z.input.length;do{if(z.avail_out===0&&(z.output=new s.Buf8(L),z.next_out=0,z.avail_out=L),(j=a.deflate(z,F))!==1&&j!==g)return this.onEnd(j),!(this.ended=!0);z.avail_out!==0&&(z.avail_in!==0||F!==4&&F!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(s.shrinkBuf(z.output,z.next_out))):this.onData(s.shrinkBuf(z.output,z.next_out)))}while((0<z.avail_in||z.avail_out===0)&&j!==1);return F===4?(j=a.deflateEnd(this.strm),this.onEnd(j),this.ended=!0,j===g):F!==2||(this.onEnd(g),!(z.avail_out=0))},y.prototype.onData=function(w){this.chunks.push(w)},y.prototype.onEnd=function(w){w===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},i.Deflate=y,i.deflate=A,i.deflateRaw=function(w,C){return(C=C||{}).raw=!0,A(w,C)},i.gzip=function(w,C){return(C=C||{}).gzip=!0,A(w,C)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,r,i){var a=t("./zlib/inflate"),s=t("./utils/common"),l=t("./utils/strings"),c=t("./zlib/constants"),d=t("./zlib/messages"),h=t("./zlib/zstream"),g=t("./zlib/gzheader"),b=Object.prototype.toString;function m(y){if(!(this instanceof m))return new m(y);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},y||{});var A=this.options;A.raw&&0<=A.windowBits&&A.windowBits<16&&(A.windowBits=-A.windowBits,A.windowBits===0&&(A.windowBits=-15)),!(0<=A.windowBits&&A.windowBits<16)||y&&y.windowBits||(A.windowBits+=32),15<A.windowBits&&A.windowBits<48&&(15&A.windowBits)==0&&(A.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var w=a.inflateInit2(this.strm,A.windowBits);if(w!==c.Z_OK)throw new Error(d[w]);this.header=new g,a.inflateGetHeader(this.strm,this.header)}function x(y,A){var w=new m(A);if(w.push(y,!0),w.err)throw w.msg||d[w.err];return w.result}m.prototype.push=function(y,A){var w,C,j,F,z,L,k=this.strm,M=this.options.chunkSize,q=this.options.dictionary,Q=!1;if(this.ended)return!1;C=A===~~A?A:A===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof y=="string"?k.input=l.binstring2buf(y):b.call(y)==="[object ArrayBuffer]"?k.input=new Uint8Array(y):k.input=y,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new s.Buf8(M),k.next_out=0,k.avail_out=M),(w=a.inflate(k,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&q&&(L=typeof q=="string"?l.string2buf(q):b.call(q)==="[object ArrayBuffer]"?new Uint8Array(q):q,w=a.inflateSetDictionary(this.strm,L)),w===c.Z_BUF_ERROR&&Q===!0&&(w=c.Z_OK,Q=!1),w!==c.Z_STREAM_END&&w!==c.Z_OK)return this.onEnd(w),!(this.ended=!0);k.next_out&&(k.avail_out!==0&&w!==c.Z_STREAM_END&&(k.avail_in!==0||C!==c.Z_FINISH&&C!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(j=l.utf8border(k.output,k.next_out),F=k.next_out-j,z=l.buf2string(k.output,j),k.next_out=F,k.avail_out=M-F,F&&s.arraySet(k.output,k.output,j,F,0),this.onData(z)):this.onData(s.shrinkBuf(k.output,k.next_out)))),k.avail_in===0&&k.avail_out===0&&(Q=!0)}while((0<k.avail_in||k.avail_out===0)&&w!==c.Z_STREAM_END);return w===c.Z_STREAM_END&&(C=c.Z_FINISH),C===c.Z_FINISH?(w=a.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===c.Z_OK):C!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(k.avail_out=0))},m.prototype.onData=function(y){this.chunks.push(y)},m.prototype.onEnd=function(y){y===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Inflate=m,i.inflate=x,i.inflateRaw=function(y,A){return(A=A||{}).raw=!0,x(y,A)},i.ungzip=x},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(c){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var h=d.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])}}return c},i.shrinkBuf=function(c,d){return c.length===d?c:c.subarray?c.subarray(0,d):(c.length=d,c)};var s={arraySet:function(c,d,h,g,b){if(d.subarray&&c.subarray)c.set(d.subarray(h,h+g),b);else for(var m=0;m<g;m++)c[b+m]=d[h+m]},flattenChunks:function(c){var d,h,g,b,m,x;for(d=g=0,h=c.length;d<h;d++)g+=c[d].length;for(x=new Uint8Array(g),d=b=0,h=c.length;d<h;d++)m=c[d],x.set(m,b),b+=m.length;return x}},l={arraySet:function(c,d,h,g,b){for(var m=0;m<g;m++)c[b+m]=d[h+m]},flattenChunks:function(c){return[].concat.apply([],c)}};i.setTyped=function(c){c?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,l))},i.setTyped(a)},{}],42:[function(t,r,i){var a=t("./common"),s=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var c=new a.Buf8(256),d=0;d<256;d++)c[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function h(g,b){if(b<65537&&(g.subarray&&l||!g.subarray&&s))return String.fromCharCode.apply(null,a.shrinkBuf(g,b));for(var m="",x=0;x<b;x++)m+=String.fromCharCode(g[x]);return m}c[254]=c[254]=1,i.string2buf=function(g){var b,m,x,y,A,w=g.length,C=0;for(y=0;y<w;y++)(64512&(m=g.charCodeAt(y)))==55296&&y+1<w&&(64512&(x=g.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(x-56320),y++),C+=m<128?1:m<2048?2:m<65536?3:4;for(b=new a.Buf8(C),y=A=0;A<C;y++)(64512&(m=g.charCodeAt(y)))==55296&&y+1<w&&(64512&(x=g.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(x-56320),y++),m<128?b[A++]=m:(m<2048?b[A++]=192|m>>>6:(m<65536?b[A++]=224|m>>>12:(b[A++]=240|m>>>18,b[A++]=128|m>>>12&63),b[A++]=128|m>>>6&63),b[A++]=128|63&m);return b},i.buf2binstring=function(g){return h(g,g.length)},i.binstring2buf=function(g){for(var b=new a.Buf8(g.length),m=0,x=b.length;m<x;m++)b[m]=g.charCodeAt(m);return b},i.buf2string=function(g,b){var m,x,y,A,w=b||g.length,C=new Array(2*w);for(m=x=0;m<w;)if((y=g[m++])<128)C[x++]=y;else if(4<(A=c[y]))C[x++]=65533,m+=A-1;else{for(y&=A===2?31:A===3?15:7;1<A&&m<w;)y=y<<6|63&g[m++],A--;1<A?C[x++]=65533:y<65536?C[x++]=y:(y-=65536,C[x++]=55296|y>>10&1023,C[x++]=56320|1023&y)}return h(C,x)},i.utf8border=function(g,b){var m;for((b=b||g.length)>g.length&&(b=g.length),m=b-1;0<=m&&(192&g[m])==128;)m--;return m<0||m===0?b:m+c[g[m]]>b?m:b}},{"./common":41}],43:[function(t,r,i){r.exports=function(a,s,l,c){for(var d=65535&a|0,h=a>>>16&65535|0,g=0;l!==0;){for(l-=g=2e3<l?2e3:l;h=h+(d=d+s[c++]|0)|0,--g;);d%=65521,h%=65521}return d|h<<16|0}},{}],44:[function(t,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,r,i){var a=function(){for(var s,l=[],c=0;c<256;c++){s=c;for(var d=0;d<8;d++)s=1&s?3988292384^s>>>1:s>>>1;l[c]=s}return l}();r.exports=function(s,l,c,d){var h=a,g=d+c;s^=-1;for(var b=d;b<g;b++)s=s>>>8^h[255&(s^l[b])];return-1^s}},{}],46:[function(t,r,i){var a,s=t("../utils/common"),l=t("./trees"),c=t("./adler32"),d=t("./crc32"),h=t("./messages"),g=0,b=4,m=0,x=-2,y=-1,A=4,w=2,C=8,j=9,F=286,z=30,L=19,k=2*F+1,M=15,q=3,Q=258,T=Q+q+1,O=42,R=113,N=1,K=2,H=3,G=4;function ee(V,Se){return V.msg=h[Se],Se}function le(V){return(V<<1)-(4<V?9:0)}function Y(V){for(var Se=V.length;0<=--Se;)V[Se]=0}function te(V){var Se=V.state,se=Se.pending;se>V.avail_out&&(se=V.avail_out),se!==0&&(s.arraySet(V.output,Se.pending_buf,Se.pending_out,se,V.next_out),V.next_out+=se,Se.pending_out+=se,V.total_out+=se,V.avail_out-=se,Se.pending-=se,Se.pending===0&&(Se.pending_out=0))}function U(V,Se){l._tr_flush_block(V,0<=V.block_start?V.block_start:-1,V.strstart-V.block_start,Se),V.block_start=V.strstart,te(V.strm)}function B(V,Se){V.pending_buf[V.pending++]=Se}function re(V,Se){V.pending_buf[V.pending++]=Se>>>8&255,V.pending_buf[V.pending++]=255&Se}function Z(V,Se){var se,he,de=V.max_chain_length,we=V.strstart,Le=V.prev_length,Pe=V.nice_match,_e=V.strstart>V.w_size-T?V.strstart-(V.w_size-T):0,Ke=V.window,ot=V.w_mask,nt=V.prev,De=V.strstart+Q,xe=Ke[we+Le-1],ke=Ke[we+Le];V.prev_length>=V.good_match&&(de>>=2),Pe>V.lookahead&&(Pe=V.lookahead);do if(Ke[(se=Se)+Le]===ke&&Ke[se+Le-1]===xe&&Ke[se]===Ke[we]&&Ke[++se]===Ke[we+1]){we+=2,se++;do;while(Ke[++we]===Ke[++se]&&Ke[++we]===Ke[++se]&&Ke[++we]===Ke[++se]&&Ke[++we]===Ke[++se]&&Ke[++we]===Ke[++se]&&Ke[++we]===Ke[++se]&&Ke[++we]===Ke[++se]&&Ke[++we]===Ke[++se]&&we<De);if(he=Q-(De-we),we=De-Q,Le<he){if(V.match_start=Se,Pe<=(Le=he))break;xe=Ke[we+Le-1],ke=Ke[we+Le]}}while((Se=nt[Se&ot])>_e&&--de!=0);return Le<=V.lookahead?Le:V.lookahead}function ne(V){var Se,se,he,de,we,Le,Pe,_e,Ke,ot,nt=V.w_size;do{if(de=V.window_size-V.lookahead-V.strstart,V.strstart>=nt+(nt-T)){for(s.arraySet(V.window,V.window,nt,nt,0),V.match_start-=nt,V.strstart-=nt,V.block_start-=nt,Se=se=V.hash_size;he=V.head[--Se],V.head[Se]=nt<=he?he-nt:0,--se;);for(Se=se=nt;he=V.prev[--Se],V.prev[Se]=nt<=he?he-nt:0,--se;);de+=nt}if(V.strm.avail_in===0)break;if(Le=V.strm,Pe=V.window,_e=V.strstart+V.lookahead,Ke=de,ot=void 0,ot=Le.avail_in,Ke<ot&&(ot=Ke),se=ot===0?0:(Le.avail_in-=ot,s.arraySet(Pe,Le.input,Le.next_in,ot,_e),Le.state.wrap===1?Le.adler=c(Le.adler,Pe,ot,_e):Le.state.wrap===2&&(Le.adler=d(Le.adler,Pe,ot,_e)),Le.next_in+=ot,Le.total_in+=ot,ot),V.lookahead+=se,V.lookahead+V.insert>=q)for(we=V.strstart-V.insert,V.ins_h=V.window[we],V.ins_h=(V.ins_h<<V.hash_shift^V.window[we+1])&V.hash_mask;V.insert&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[we+q-1])&V.hash_mask,V.prev[we&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=we,we++,V.insert--,!(V.lookahead+V.insert<q)););}while(V.lookahead<T&&V.strm.avail_in!==0)}function ve(V,Se){for(var se,he;;){if(V.lookahead<T){if(ne(V),V.lookahead<T&&Se===g)return N;if(V.lookahead===0)break}if(se=0,V.lookahead>=q&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+q-1])&V.hash_mask,se=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),se!==0&&V.strstart-se<=V.w_size-T&&(V.match_length=Z(V,se)),V.match_length>=q)if(he=l._tr_tally(V,V.strstart-V.match_start,V.match_length-q),V.lookahead-=V.match_length,V.match_length<=V.max_lazy_match&&V.lookahead>=q){for(V.match_length--;V.strstart++,V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+q-1])&V.hash_mask,se=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart,--V.match_length!=0;);V.strstart++}else V.strstart+=V.match_length,V.match_length=0,V.ins_h=V.window[V.strstart],V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+1])&V.hash_mask;else he=l._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++;if(he&&(U(V,!1),V.strm.avail_out===0))return N}return V.insert=V.strstart<q-1?V.strstart:q-1,Se===b?(U(V,!0),V.strm.avail_out===0?H:G):V.last_lit&&(U(V,!1),V.strm.avail_out===0)?N:K}function ye(V,Se){for(var se,he,de;;){if(V.lookahead<T){if(ne(V),V.lookahead<T&&Se===g)return N;if(V.lookahead===0)break}if(se=0,V.lookahead>=q&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+q-1])&V.hash_mask,se=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),V.prev_length=V.match_length,V.prev_match=V.match_start,V.match_length=q-1,se!==0&&V.prev_length<V.max_lazy_match&&V.strstart-se<=V.w_size-T&&(V.match_length=Z(V,se),V.match_length<=5&&(V.strategy===1||V.match_length===q&&4096<V.strstart-V.match_start)&&(V.match_length=q-1)),V.prev_length>=q&&V.match_length<=V.prev_length){for(de=V.strstart+V.lookahead-q,he=l._tr_tally(V,V.strstart-1-V.prev_match,V.prev_length-q),V.lookahead-=V.prev_length-1,V.prev_length-=2;++V.strstart<=de&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+q-1])&V.hash_mask,se=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),--V.prev_length!=0;);if(V.match_available=0,V.match_length=q-1,V.strstart++,he&&(U(V,!1),V.strm.avail_out===0))return N}else if(V.match_available){if((he=l._tr_tally(V,0,V.window[V.strstart-1]))&&U(V,!1),V.strstart++,V.lookahead--,V.strm.avail_out===0)return N}else V.match_available=1,V.strstart++,V.lookahead--}return V.match_available&&(he=l._tr_tally(V,0,V.window[V.strstart-1]),V.match_available=0),V.insert=V.strstart<q-1?V.strstart:q-1,Se===b?(U(V,!0),V.strm.avail_out===0?H:G):V.last_lit&&(U(V,!1),V.strm.avail_out===0)?N:K}function Ce(V,Se,se,he,de){this.good_length=V,this.max_lazy=Se,this.nice_length=se,this.max_chain=he,this.func=de}function Oe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*k),this.dyn_dtree=new s.Buf16(2*(2*z+1)),this.bl_tree=new s.Buf16(2*(2*L+1)),Y(this.dyn_ltree),Y(this.dyn_dtree),Y(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(M+1),this.heap=new s.Buf16(2*F+1),Y(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*F+1),Y(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ie(V){var Se;return V&&V.state?(V.total_in=V.total_out=0,V.data_type=w,(Se=V.state).pending=0,Se.pending_out=0,Se.wrap<0&&(Se.wrap=-Se.wrap),Se.status=Se.wrap?O:R,V.adler=Se.wrap===2?0:1,Se.last_flush=g,l._tr_init(Se),m):ee(V,x)}function $e(V){var Se=Ie(V);return Se===m&&function(se){se.window_size=2*se.w_size,Y(se.head),se.max_lazy_match=a[se.level].max_lazy,se.good_match=a[se.level].good_length,se.nice_match=a[se.level].nice_length,se.max_chain_length=a[se.level].max_chain,se.strstart=0,se.block_start=0,se.lookahead=0,se.insert=0,se.match_length=se.prev_length=q-1,se.match_available=0,se.ins_h=0}(V.state),Se}function We(V,Se,se,he,de,we){if(!V)return x;var Le=1;if(Se===y&&(Se=6),he<0?(Le=0,he=-he):15<he&&(Le=2,he-=16),de<1||j<de||se!==C||he<8||15<he||Se<0||9<Se||we<0||A<we)return ee(V,x);he===8&&(he=9);var Pe=new Oe;return(V.state=Pe).strm=V,Pe.wrap=Le,Pe.gzhead=null,Pe.w_bits=he,Pe.w_size=1<<Pe.w_bits,Pe.w_mask=Pe.w_size-1,Pe.hash_bits=de+7,Pe.hash_size=1<<Pe.hash_bits,Pe.hash_mask=Pe.hash_size-1,Pe.hash_shift=~~((Pe.hash_bits+q-1)/q),Pe.window=new s.Buf8(2*Pe.w_size),Pe.head=new s.Buf16(Pe.hash_size),Pe.prev=new s.Buf16(Pe.w_size),Pe.lit_bufsize=1<<de+6,Pe.pending_buf_size=4*Pe.lit_bufsize,Pe.pending_buf=new s.Buf8(Pe.pending_buf_size),Pe.d_buf=1*Pe.lit_bufsize,Pe.l_buf=3*Pe.lit_bufsize,Pe.level=Se,Pe.strategy=we,Pe.method=se,$e(V)}a=[new Ce(0,0,0,0,function(V,Se){var se=65535;for(se>V.pending_buf_size-5&&(se=V.pending_buf_size-5);;){if(V.lookahead<=1){if(ne(V),V.lookahead===0&&Se===g)return N;if(V.lookahead===0)break}V.strstart+=V.lookahead,V.lookahead=0;var he=V.block_start+se;if((V.strstart===0||V.strstart>=he)&&(V.lookahead=V.strstart-he,V.strstart=he,U(V,!1),V.strm.avail_out===0)||V.strstart-V.block_start>=V.w_size-T&&(U(V,!1),V.strm.avail_out===0))return N}return V.insert=0,Se===b?(U(V,!0),V.strm.avail_out===0?H:G):(V.strstart>V.block_start&&(U(V,!1),V.strm.avail_out),N)}),new Ce(4,4,8,4,ve),new Ce(4,5,16,8,ve),new Ce(4,6,32,32,ve),new Ce(4,4,16,16,ye),new Ce(8,16,32,32,ye),new Ce(8,16,128,128,ye),new Ce(8,32,128,256,ye),new Ce(32,128,258,1024,ye),new Ce(32,258,258,4096,ye)],i.deflateInit=function(V,Se){return We(V,Se,C,15,8,0)},i.deflateInit2=We,i.deflateReset=$e,i.deflateResetKeep=Ie,i.deflateSetHeader=function(V,Se){return V&&V.state?V.state.wrap!==2?x:(V.state.gzhead=Se,m):x},i.deflate=function(V,Se){var se,he,de,we;if(!V||!V.state||5<Se||Se<0)return V?ee(V,x):x;if(he=V.state,!V.output||!V.input&&V.avail_in!==0||he.status===666&&Se!==b)return ee(V,V.avail_out===0?-5:x);if(he.strm=V,se=he.last_flush,he.last_flush=Se,he.status===O)if(he.wrap===2)V.adler=0,B(he,31),B(he,139),B(he,8),he.gzhead?(B(he,(he.gzhead.text?1:0)+(he.gzhead.hcrc?2:0)+(he.gzhead.extra?4:0)+(he.gzhead.name?8:0)+(he.gzhead.comment?16:0)),B(he,255&he.gzhead.time),B(he,he.gzhead.time>>8&255),B(he,he.gzhead.time>>16&255),B(he,he.gzhead.time>>24&255),B(he,he.level===9?2:2<=he.strategy||he.level<2?4:0),B(he,255&he.gzhead.os),he.gzhead.extra&&he.gzhead.extra.length&&(B(he,255&he.gzhead.extra.length),B(he,he.gzhead.extra.length>>8&255)),he.gzhead.hcrc&&(V.adler=d(V.adler,he.pending_buf,he.pending,0)),he.gzindex=0,he.status=69):(B(he,0),B(he,0),B(he,0),B(he,0),B(he,0),B(he,he.level===9?2:2<=he.strategy||he.level<2?4:0),B(he,3),he.status=R);else{var Le=C+(he.w_bits-8<<4)<<8;Le|=(2<=he.strategy||he.level<2?0:he.level<6?1:he.level===6?2:3)<<6,he.strstart!==0&&(Le|=32),Le+=31-Le%31,he.status=R,re(he,Le),he.strstart!==0&&(re(he,V.adler>>>16),re(he,65535&V.adler)),V.adler=1}if(he.status===69)if(he.gzhead.extra){for(de=he.pending;he.gzindex<(65535&he.gzhead.extra.length)&&(he.pending!==he.pending_buf_size||(he.gzhead.hcrc&&he.pending>de&&(V.adler=d(V.adler,he.pending_buf,he.pending-de,de)),te(V),de=he.pending,he.pending!==he.pending_buf_size));)B(he,255&he.gzhead.extra[he.gzindex]),he.gzindex++;he.gzhead.hcrc&&he.pending>de&&(V.adler=d(V.adler,he.pending_buf,he.pending-de,de)),he.gzindex===he.gzhead.extra.length&&(he.gzindex=0,he.status=73)}else he.status=73;if(he.status===73)if(he.gzhead.name){de=he.pending;do{if(he.pending===he.pending_buf_size&&(he.gzhead.hcrc&&he.pending>de&&(V.adler=d(V.adler,he.pending_buf,he.pending-de,de)),te(V),de=he.pending,he.pending===he.pending_buf_size)){we=1;break}we=he.gzindex<he.gzhead.name.length?255&he.gzhead.name.charCodeAt(he.gzindex++):0,B(he,we)}while(we!==0);he.gzhead.hcrc&&he.pending>de&&(V.adler=d(V.adler,he.pending_buf,he.pending-de,de)),we===0&&(he.gzindex=0,he.status=91)}else he.status=91;if(he.status===91)if(he.gzhead.comment){de=he.pending;do{if(he.pending===he.pending_buf_size&&(he.gzhead.hcrc&&he.pending>de&&(V.adler=d(V.adler,he.pending_buf,he.pending-de,de)),te(V),de=he.pending,he.pending===he.pending_buf_size)){we=1;break}we=he.gzindex<he.gzhead.comment.length?255&he.gzhead.comment.charCodeAt(he.gzindex++):0,B(he,we)}while(we!==0);he.gzhead.hcrc&&he.pending>de&&(V.adler=d(V.adler,he.pending_buf,he.pending-de,de)),we===0&&(he.status=103)}else he.status=103;if(he.status===103&&(he.gzhead.hcrc?(he.pending+2>he.pending_buf_size&&te(V),he.pending+2<=he.pending_buf_size&&(B(he,255&V.adler),B(he,V.adler>>8&255),V.adler=0,he.status=R)):he.status=R),he.pending!==0){if(te(V),V.avail_out===0)return he.last_flush=-1,m}else if(V.avail_in===0&&le(Se)<=le(se)&&Se!==b)return ee(V,-5);if(he.status===666&&V.avail_in!==0)return ee(V,-5);if(V.avail_in!==0||he.lookahead!==0||Se!==g&&he.status!==666){var Pe=he.strategy===2?function(_e,Ke){for(var ot;;){if(_e.lookahead===0&&(ne(_e),_e.lookahead===0)){if(Ke===g)return N;break}if(_e.match_length=0,ot=l._tr_tally(_e,0,_e.window[_e.strstart]),_e.lookahead--,_e.strstart++,ot&&(U(_e,!1),_e.strm.avail_out===0))return N}return _e.insert=0,Ke===b?(U(_e,!0),_e.strm.avail_out===0?H:G):_e.last_lit&&(U(_e,!1),_e.strm.avail_out===0)?N:K}(he,Se):he.strategy===3?function(_e,Ke){for(var ot,nt,De,xe,ke=_e.window;;){if(_e.lookahead<=Q){if(ne(_e),_e.lookahead<=Q&&Ke===g)return N;if(_e.lookahead===0)break}if(_e.match_length=0,_e.lookahead>=q&&0<_e.strstart&&(nt=ke[De=_e.strstart-1])===ke[++De]&&nt===ke[++De]&&nt===ke[++De]){xe=_e.strstart+Q;do;while(nt===ke[++De]&&nt===ke[++De]&&nt===ke[++De]&&nt===ke[++De]&&nt===ke[++De]&&nt===ke[++De]&&nt===ke[++De]&&nt===ke[++De]&&De<xe);_e.match_length=Q-(xe-De),_e.match_length>_e.lookahead&&(_e.match_length=_e.lookahead)}if(_e.match_length>=q?(ot=l._tr_tally(_e,1,_e.match_length-q),_e.lookahead-=_e.match_length,_e.strstart+=_e.match_length,_e.match_length=0):(ot=l._tr_tally(_e,0,_e.window[_e.strstart]),_e.lookahead--,_e.strstart++),ot&&(U(_e,!1),_e.strm.avail_out===0))return N}return _e.insert=0,Ke===b?(U(_e,!0),_e.strm.avail_out===0?H:G):_e.last_lit&&(U(_e,!1),_e.strm.avail_out===0)?N:K}(he,Se):a[he.level].func(he,Se);if(Pe!==H&&Pe!==G||(he.status=666),Pe===N||Pe===H)return V.avail_out===0&&(he.last_flush=-1),m;if(Pe===K&&(Se===1?l._tr_align(he):Se!==5&&(l._tr_stored_block(he,0,0,!1),Se===3&&(Y(he.head),he.lookahead===0&&(he.strstart=0,he.block_start=0,he.insert=0))),te(V),V.avail_out===0))return he.last_flush=-1,m}return Se!==b?m:he.wrap<=0?1:(he.wrap===2?(B(he,255&V.adler),B(he,V.adler>>8&255),B(he,V.adler>>16&255),B(he,V.adler>>24&255),B(he,255&V.total_in),B(he,V.total_in>>8&255),B(he,V.total_in>>16&255),B(he,V.total_in>>24&255)):(re(he,V.adler>>>16),re(he,65535&V.adler)),te(V),0<he.wrap&&(he.wrap=-he.wrap),he.pending!==0?m:1)},i.deflateEnd=function(V){var Se;return V&&V.state?(Se=V.state.status)!==O&&Se!==69&&Se!==73&&Se!==91&&Se!==103&&Se!==R&&Se!==666?ee(V,x):(V.state=null,Se===R?ee(V,-3):m):x},i.deflateSetDictionary=function(V,Se){var se,he,de,we,Le,Pe,_e,Ke,ot=Se.length;if(!V||!V.state||(we=(se=V.state).wrap)===2||we===1&&se.status!==O||se.lookahead)return x;for(we===1&&(V.adler=c(V.adler,Se,ot,0)),se.wrap=0,ot>=se.w_size&&(we===0&&(Y(se.head),se.strstart=0,se.block_start=0,se.insert=0),Ke=new s.Buf8(se.w_size),s.arraySet(Ke,Se,ot-se.w_size,se.w_size,0),Se=Ke,ot=se.w_size),Le=V.avail_in,Pe=V.next_in,_e=V.input,V.avail_in=ot,V.next_in=0,V.input=Se,ne(se);se.lookahead>=q;){for(he=se.strstart,de=se.lookahead-(q-1);se.ins_h=(se.ins_h<<se.hash_shift^se.window[he+q-1])&se.hash_mask,se.prev[he&se.w_mask]=se.head[se.ins_h],se.head[se.ins_h]=he,he++,--de;);se.strstart=he,se.lookahead=q-1,ne(se)}return se.strstart+=se.lookahead,se.block_start=se.strstart,se.insert=se.lookahead,se.lookahead=0,se.match_length=se.prev_length=q-1,se.match_available=0,V.next_in=Pe,V.input=_e,V.avail_in=Le,se.wrap=we,m},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,r,i){r.exports=function(a,s){var l,c,d,h,g,b,m,x,y,A,w,C,j,F,z,L,k,M,q,Q,T,O,R,N,K;l=a.state,c=a.next_in,N=a.input,d=c+(a.avail_in-5),h=a.next_out,K=a.output,g=h-(s-a.avail_out),b=h+(a.avail_out-257),m=l.dmax,x=l.wsize,y=l.whave,A=l.wnext,w=l.window,C=l.hold,j=l.bits,F=l.lencode,z=l.distcode,L=(1<<l.lenbits)-1,k=(1<<l.distbits)-1;e:do{j<15&&(C+=N[c++]<<j,j+=8,C+=N[c++]<<j,j+=8),M=F[C&L];t:for(;;){if(C>>>=q=M>>>24,j-=q,(q=M>>>16&255)===0)K[h++]=65535&M;else{if(!(16&q)){if((64&q)==0){M=F[(65535&M)+(C&(1<<q)-1)];continue t}if(32&q){l.mode=12;break e}a.msg="invalid literal/length code",l.mode=30;break e}Q=65535&M,(q&=15)&&(j<q&&(C+=N[c++]<<j,j+=8),Q+=C&(1<<q)-1,C>>>=q,j-=q),j<15&&(C+=N[c++]<<j,j+=8,C+=N[c++]<<j,j+=8),M=z[C&k];n:for(;;){if(C>>>=q=M>>>24,j-=q,!(16&(q=M>>>16&255))){if((64&q)==0){M=z[(65535&M)+(C&(1<<q)-1)];continue n}a.msg="invalid distance code",l.mode=30;break e}if(T=65535&M,j<(q&=15)&&(C+=N[c++]<<j,(j+=8)<q&&(C+=N[c++]<<j,j+=8)),m<(T+=C&(1<<q)-1)){a.msg="invalid distance too far back",l.mode=30;break e}if(C>>>=q,j-=q,(q=h-g)<T){if(y<(q=T-q)&&l.sane){a.msg="invalid distance too far back",l.mode=30;break e}if(R=w,(O=0)===A){if(O+=x-q,q<Q){for(Q-=q;K[h++]=w[O++],--q;);O=h-T,R=K}}else if(A<q){if(O+=x+A-q,(q-=A)<Q){for(Q-=q;K[h++]=w[O++],--q;);if(O=0,A<Q){for(Q-=q=A;K[h++]=w[O++],--q;);O=h-T,R=K}}}else if(O+=A-q,q<Q){for(Q-=q;K[h++]=w[O++],--q;);O=h-T,R=K}for(;2<Q;)K[h++]=R[O++],K[h++]=R[O++],K[h++]=R[O++],Q-=3;Q&&(K[h++]=R[O++],1<Q&&(K[h++]=R[O++]))}else{for(O=h-T;K[h++]=K[O++],K[h++]=K[O++],K[h++]=K[O++],2<(Q-=3););Q&&(K[h++]=K[O++],1<Q&&(K[h++]=K[O++]))}break}}break}}while(c<d&&h<b);c-=Q=j>>3,C&=(1<<(j-=Q<<3))-1,a.next_in=c,a.next_out=h,a.avail_in=c<d?d-c+5:5-(c-d),a.avail_out=h<b?b-h+257:257-(h-b),l.hold=C,l.bits=j}},{}],49:[function(t,r,i){var a=t("../utils/common"),s=t("./adler32"),l=t("./crc32"),c=t("./inffast"),d=t("./inftrees"),h=1,g=2,b=0,m=-2,x=1,y=852,A=592;function w(O){return(O>>>24&255)+(O>>>8&65280)+((65280&O)<<8)+((255&O)<<24)}function C(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function j(O){var R;return O&&O.state?(R=O.state,O.total_in=O.total_out=R.total=0,O.msg="",R.wrap&&(O.adler=1&R.wrap),R.mode=x,R.last=0,R.havedict=0,R.dmax=32768,R.head=null,R.hold=0,R.bits=0,R.lencode=R.lendyn=new a.Buf32(y),R.distcode=R.distdyn=new a.Buf32(A),R.sane=1,R.back=-1,b):m}function F(O){var R;return O&&O.state?((R=O.state).wsize=0,R.whave=0,R.wnext=0,j(O)):m}function z(O,R){var N,K;return O&&O.state?(K=O.state,R<0?(N=0,R=-R):(N=1+(R>>4),R<48&&(R&=15)),R&&(R<8||15<R)?m:(K.window!==null&&K.wbits!==R&&(K.window=null),K.wrap=N,K.wbits=R,F(O))):m}function L(O,R){var N,K;return O?(K=new C,(O.state=K).window=null,(N=z(O,R))!==b&&(O.state=null),N):m}var k,M,q=!0;function Q(O){if(q){var R;for(k=new a.Buf32(512),M=new a.Buf32(32),R=0;R<144;)O.lens[R++]=8;for(;R<256;)O.lens[R++]=9;for(;R<280;)O.lens[R++]=7;for(;R<288;)O.lens[R++]=8;for(d(h,O.lens,0,288,k,0,O.work,{bits:9}),R=0;R<32;)O.lens[R++]=5;d(g,O.lens,0,32,M,0,O.work,{bits:5}),q=!1}O.lencode=k,O.lenbits=9,O.distcode=M,O.distbits=5}function T(O,R,N,K){var H,G=O.state;return G.window===null&&(G.wsize=1<<G.wbits,G.wnext=0,G.whave=0,G.window=new a.Buf8(G.wsize)),K>=G.wsize?(a.arraySet(G.window,R,N-G.wsize,G.wsize,0),G.wnext=0,G.whave=G.wsize):(K<(H=G.wsize-G.wnext)&&(H=K),a.arraySet(G.window,R,N-K,H,G.wnext),(K-=H)?(a.arraySet(G.window,R,N-K,K,0),G.wnext=K,G.whave=G.wsize):(G.wnext+=H,G.wnext===G.wsize&&(G.wnext=0),G.whave<G.wsize&&(G.whave+=H))),0}i.inflateReset=F,i.inflateReset2=z,i.inflateResetKeep=j,i.inflateInit=function(O){return L(O,15)},i.inflateInit2=L,i.inflate=function(O,R){var N,K,H,G,ee,le,Y,te,U,B,re,Z,ne,ve,ye,Ce,Oe,Ie,$e,We,V,Se,se,he,de=0,we=new a.Buf8(4),Le=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!O||!O.state||!O.output||!O.input&&O.avail_in!==0)return m;(N=O.state).mode===12&&(N.mode=13),ee=O.next_out,H=O.output,Y=O.avail_out,G=O.next_in,K=O.input,le=O.avail_in,te=N.hold,U=N.bits,B=le,re=Y,Se=b;e:for(;;)switch(N.mode){case x:if(N.wrap===0){N.mode=13;break}for(;U<16;){if(le===0)break e;le--,te+=K[G++]<<U,U+=8}if(2&N.wrap&&te===35615){we[N.check=0]=255&te,we[1]=te>>>8&255,N.check=l(N.check,we,2,0),U=te=0,N.mode=2;break}if(N.flags=0,N.head&&(N.head.done=!1),!(1&N.wrap)||(((255&te)<<8)+(te>>8))%31){O.msg="incorrect header check",N.mode=30;break}if((15&te)!=8){O.msg="unknown compression method",N.mode=30;break}if(U-=4,V=8+(15&(te>>>=4)),N.wbits===0)N.wbits=V;else if(V>N.wbits){O.msg="invalid window size",N.mode=30;break}N.dmax=1<<V,O.adler=N.check=1,N.mode=512&te?10:12,U=te=0;break;case 2:for(;U<16;){if(le===0)break e;le--,te+=K[G++]<<U,U+=8}if(N.flags=te,(255&N.flags)!=8){O.msg="unknown compression method",N.mode=30;break}if(57344&N.flags){O.msg="unknown header flags set",N.mode=30;break}N.head&&(N.head.text=te>>8&1),512&N.flags&&(we[0]=255&te,we[1]=te>>>8&255,N.check=l(N.check,we,2,0)),U=te=0,N.mode=3;case 3:for(;U<32;){if(le===0)break e;le--,te+=K[G++]<<U,U+=8}N.head&&(N.head.time=te),512&N.flags&&(we[0]=255&te,we[1]=te>>>8&255,we[2]=te>>>16&255,we[3]=te>>>24&255,N.check=l(N.check,we,4,0)),U=te=0,N.mode=4;case 4:for(;U<16;){if(le===0)break e;le--,te+=K[G++]<<U,U+=8}N.head&&(N.head.xflags=255&te,N.head.os=te>>8),512&N.flags&&(we[0]=255&te,we[1]=te>>>8&255,N.check=l(N.check,we,2,0)),U=te=0,N.mode=5;case 5:if(1024&N.flags){for(;U<16;){if(le===0)break e;le--,te+=K[G++]<<U,U+=8}N.length=te,N.head&&(N.head.extra_len=te),512&N.flags&&(we[0]=255&te,we[1]=te>>>8&255,N.check=l(N.check,we,2,0)),U=te=0}else N.head&&(N.head.extra=null);N.mode=6;case 6:if(1024&N.flags&&(le<(Z=N.length)&&(Z=le),Z&&(N.head&&(V=N.head.extra_len-N.length,N.head.extra||(N.head.extra=new Array(N.head.extra_len)),a.arraySet(N.head.extra,K,G,Z,V)),512&N.flags&&(N.check=l(N.check,K,Z,G)),le-=Z,G+=Z,N.length-=Z),N.length))break e;N.length=0,N.mode=7;case 7:if(2048&N.flags){if(le===0)break e;for(Z=0;V=K[G+Z++],N.head&&V&&N.length<65536&&(N.head.name+=String.fromCharCode(V)),V&&Z<le;);if(512&N.flags&&(N.check=l(N.check,K,Z,G)),le-=Z,G+=Z,V)break e}else N.head&&(N.head.name=null);N.length=0,N.mode=8;case 8:if(4096&N.flags){if(le===0)break e;for(Z=0;V=K[G+Z++],N.head&&V&&N.length<65536&&(N.head.comment+=String.fromCharCode(V)),V&&Z<le;);if(512&N.flags&&(N.check=l(N.check,K,Z,G)),le-=Z,G+=Z,V)break e}else N.head&&(N.head.comment=null);N.mode=9;case 9:if(512&N.flags){for(;U<16;){if(le===0)break e;le--,te+=K[G++]<<U,U+=8}if(te!==(65535&N.check)){O.msg="header crc mismatch",N.mode=30;break}U=te=0}N.head&&(N.head.hcrc=N.flags>>9&1,N.head.done=!0),O.adler=N.check=0,N.mode=12;break;case 10:for(;U<32;){if(le===0)break e;le--,te+=K[G++]<<U,U+=8}O.adler=N.check=w(te),U=te=0,N.mode=11;case 11:if(N.havedict===0)return O.next_out=ee,O.avail_out=Y,O.next_in=G,O.avail_in=le,N.hold=te,N.bits=U,2;O.adler=N.check=1,N.mode=12;case 12:if(R===5||R===6)break e;case 13:if(N.last){te>>>=7&U,U-=7&U,N.mode=27;break}for(;U<3;){if(le===0)break e;le--,te+=K[G++]<<U,U+=8}switch(N.last=1&te,U-=1,3&(te>>>=1)){case 0:N.mode=14;break;case 1:if(Q(N),N.mode=20,R!==6)break;te>>>=2,U-=2;break e;case 2:N.mode=17;break;case 3:O.msg="invalid block type",N.mode=30}te>>>=2,U-=2;break;case 14:for(te>>>=7&U,U-=7&U;U<32;){if(le===0)break e;le--,te+=K[G++]<<U,U+=8}if((65535&te)!=(te>>>16^65535)){O.msg="invalid stored block lengths",N.mode=30;break}if(N.length=65535&te,U=te=0,N.mode=15,R===6)break e;case 15:N.mode=16;case 16:if(Z=N.length){if(le<Z&&(Z=le),Y<Z&&(Z=Y),Z===0)break e;a.arraySet(H,K,G,Z,ee),le-=Z,G+=Z,Y-=Z,ee+=Z,N.length-=Z;break}N.mode=12;break;case 17:for(;U<14;){if(le===0)break e;le--,te+=K[G++]<<U,U+=8}if(N.nlen=257+(31&te),te>>>=5,U-=5,N.ndist=1+(31&te),te>>>=5,U-=5,N.ncode=4+(15&te),te>>>=4,U-=4,286<N.nlen||30<N.ndist){O.msg="too many length or distance symbols",N.mode=30;break}N.have=0,N.mode=18;case 18:for(;N.have<N.ncode;){for(;U<3;){if(le===0)break e;le--,te+=K[G++]<<U,U+=8}N.lens[Le[N.have++]]=7&te,te>>>=3,U-=3}for(;N.have<19;)N.lens[Le[N.have++]]=0;if(N.lencode=N.lendyn,N.lenbits=7,se={bits:N.lenbits},Se=d(0,N.lens,0,19,N.lencode,0,N.work,se),N.lenbits=se.bits,Se){O.msg="invalid code lengths set",N.mode=30;break}N.have=0,N.mode=19;case 19:for(;N.have<N.nlen+N.ndist;){for(;Ce=(de=N.lencode[te&(1<<N.lenbits)-1])>>>16&255,Oe=65535&de,!((ye=de>>>24)<=U);){if(le===0)break e;le--,te+=K[G++]<<U,U+=8}if(Oe<16)te>>>=ye,U-=ye,N.lens[N.have++]=Oe;else{if(Oe===16){for(he=ye+2;U<he;){if(le===0)break e;le--,te+=K[G++]<<U,U+=8}if(te>>>=ye,U-=ye,N.have===0){O.msg="invalid bit length repeat",N.mode=30;break}V=N.lens[N.have-1],Z=3+(3&te),te>>>=2,U-=2}else if(Oe===17){for(he=ye+3;U<he;){if(le===0)break e;le--,te+=K[G++]<<U,U+=8}U-=ye,V=0,Z=3+(7&(te>>>=ye)),te>>>=3,U-=3}else{for(he=ye+7;U<he;){if(le===0)break e;le--,te+=K[G++]<<U,U+=8}U-=ye,V=0,Z=11+(127&(te>>>=ye)),te>>>=7,U-=7}if(N.have+Z>N.nlen+N.ndist){O.msg="invalid bit length repeat",N.mode=30;break}for(;Z--;)N.lens[N.have++]=V}}if(N.mode===30)break;if(N.lens[256]===0){O.msg="invalid code -- missing end-of-block",N.mode=30;break}if(N.lenbits=9,se={bits:N.lenbits},Se=d(h,N.lens,0,N.nlen,N.lencode,0,N.work,se),N.lenbits=se.bits,Se){O.msg="invalid literal/lengths set",N.mode=30;break}if(N.distbits=6,N.distcode=N.distdyn,se={bits:N.distbits},Se=d(g,N.lens,N.nlen,N.ndist,N.distcode,0,N.work,se),N.distbits=se.bits,Se){O.msg="invalid distances set",N.mode=30;break}if(N.mode=20,R===6)break e;case 20:N.mode=21;case 21:if(6<=le&&258<=Y){O.next_out=ee,O.avail_out=Y,O.next_in=G,O.avail_in=le,N.hold=te,N.bits=U,c(O,re),ee=O.next_out,H=O.output,Y=O.avail_out,G=O.next_in,K=O.input,le=O.avail_in,te=N.hold,U=N.bits,N.mode===12&&(N.back=-1);break}for(N.back=0;Ce=(de=N.lencode[te&(1<<N.lenbits)-1])>>>16&255,Oe=65535&de,!((ye=de>>>24)<=U);){if(le===0)break e;le--,te+=K[G++]<<U,U+=8}if(Ce&&(240&Ce)==0){for(Ie=ye,$e=Ce,We=Oe;Ce=(de=N.lencode[We+((te&(1<<Ie+$e)-1)>>Ie)])>>>16&255,Oe=65535&de,!(Ie+(ye=de>>>24)<=U);){if(le===0)break e;le--,te+=K[G++]<<U,U+=8}te>>>=Ie,U-=Ie,N.back+=Ie}if(te>>>=ye,U-=ye,N.back+=ye,N.length=Oe,Ce===0){N.mode=26;break}if(32&Ce){N.back=-1,N.mode=12;break}if(64&Ce){O.msg="invalid literal/length code",N.mode=30;break}N.extra=15&Ce,N.mode=22;case 22:if(N.extra){for(he=N.extra;U<he;){if(le===0)break e;le--,te+=K[G++]<<U,U+=8}N.length+=te&(1<<N.extra)-1,te>>>=N.extra,U-=N.extra,N.back+=N.extra}N.was=N.length,N.mode=23;case 23:for(;Ce=(de=N.distcode[te&(1<<N.distbits)-1])>>>16&255,Oe=65535&de,!((ye=de>>>24)<=U);){if(le===0)break e;le--,te+=K[G++]<<U,U+=8}if((240&Ce)==0){for(Ie=ye,$e=Ce,We=Oe;Ce=(de=N.distcode[We+((te&(1<<Ie+$e)-1)>>Ie)])>>>16&255,Oe=65535&de,!(Ie+(ye=de>>>24)<=U);){if(le===0)break e;le--,te+=K[G++]<<U,U+=8}te>>>=Ie,U-=Ie,N.back+=Ie}if(te>>>=ye,U-=ye,N.back+=ye,64&Ce){O.msg="invalid distance code",N.mode=30;break}N.offset=Oe,N.extra=15&Ce,N.mode=24;case 24:if(N.extra){for(he=N.extra;U<he;){if(le===0)break e;le--,te+=K[G++]<<U,U+=8}N.offset+=te&(1<<N.extra)-1,te>>>=N.extra,U-=N.extra,N.back+=N.extra}if(N.offset>N.dmax){O.msg="invalid distance too far back",N.mode=30;break}N.mode=25;case 25:if(Y===0)break e;if(Z=re-Y,N.offset>Z){if((Z=N.offset-Z)>N.whave&&N.sane){O.msg="invalid distance too far back",N.mode=30;break}ne=Z>N.wnext?(Z-=N.wnext,N.wsize-Z):N.wnext-Z,Z>N.length&&(Z=N.length),ve=N.window}else ve=H,ne=ee-N.offset,Z=N.length;for(Y<Z&&(Z=Y),Y-=Z,N.length-=Z;H[ee++]=ve[ne++],--Z;);N.length===0&&(N.mode=21);break;case 26:if(Y===0)break e;H[ee++]=N.length,Y--,N.mode=21;break;case 27:if(N.wrap){for(;U<32;){if(le===0)break e;le--,te|=K[G++]<<U,U+=8}if(re-=Y,O.total_out+=re,N.total+=re,re&&(O.adler=N.check=N.flags?l(N.check,H,re,ee-re):s(N.check,H,re,ee-re)),re=Y,(N.flags?te:w(te))!==N.check){O.msg="incorrect data check",N.mode=30;break}U=te=0}N.mode=28;case 28:if(N.wrap&&N.flags){for(;U<32;){if(le===0)break e;le--,te+=K[G++]<<U,U+=8}if(te!==(4294967295&N.total)){O.msg="incorrect length check",N.mode=30;break}U=te=0}N.mode=29;case 29:Se=1;break e;case 30:Se=-3;break e;case 31:return-4;case 32:default:return m}return O.next_out=ee,O.avail_out=Y,O.next_in=G,O.avail_in=le,N.hold=te,N.bits=U,(N.wsize||re!==O.avail_out&&N.mode<30&&(N.mode<27||R!==4))&&T(O,O.output,O.next_out,re-O.avail_out)?(N.mode=31,-4):(B-=O.avail_in,re-=O.avail_out,O.total_in+=B,O.total_out+=re,N.total+=re,N.wrap&&re&&(O.adler=N.check=N.flags?l(N.check,H,re,O.next_out-re):s(N.check,H,re,O.next_out-re)),O.data_type=N.bits+(N.last?64:0)+(N.mode===12?128:0)+(N.mode===20||N.mode===15?256:0),(B==0&&re===0||R===4)&&Se===b&&(Se=-5),Se)},i.inflateEnd=function(O){if(!O||!O.state)return m;var R=O.state;return R.window&&(R.window=null),O.state=null,b},i.inflateGetHeader=function(O,R){var N;return O&&O.state?(2&(N=O.state).wrap)==0?m:((N.head=R).done=!1,b):m},i.inflateSetDictionary=function(O,R){var N,K=R.length;return O&&O.state?(N=O.state).wrap!==0&&N.mode!==11?m:N.mode===11&&s(1,R,K,0)!==N.check?-3:T(O,R,K,K)?(N.mode=31,-4):(N.havedict=1,b):m},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,r,i){var a=t("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(h,g,b,m,x,y,A,w){var C,j,F,z,L,k,M,q,Q,T=w.bits,O=0,R=0,N=0,K=0,H=0,G=0,ee=0,le=0,Y=0,te=0,U=null,B=0,re=new a.Buf16(16),Z=new a.Buf16(16),ne=null,ve=0;for(O=0;O<=15;O++)re[O]=0;for(R=0;R<m;R++)re[g[b+R]]++;for(H=T,K=15;1<=K&&re[K]===0;K--);if(K<H&&(H=K),K===0)return x[y++]=20971520,x[y++]=20971520,w.bits=1,0;for(N=1;N<K&&re[N]===0;N++);for(H<N&&(H=N),O=le=1;O<=15;O++)if(le<<=1,(le-=re[O])<0)return-1;if(0<le&&(h===0||K!==1))return-1;for(Z[1]=0,O=1;O<15;O++)Z[O+1]=Z[O]+re[O];for(R=0;R<m;R++)g[b+R]!==0&&(A[Z[g[b+R]]++]=R);if(k=h===0?(U=ne=A,19):h===1?(U=s,B-=257,ne=l,ve-=257,256):(U=c,ne=d,-1),O=N,L=y,ee=R=te=0,F=-1,z=(Y=1<<(G=H))-1,h===1&&852<Y||h===2&&592<Y)return 1;for(;;){for(M=O-ee,Q=A[R]<k?(q=0,A[R]):A[R]>k?(q=ne[ve+A[R]],U[B+A[R]]):(q=96,0),C=1<<O-ee,N=j=1<<G;x[L+(te>>ee)+(j-=C)]=M<<24|q<<16|Q|0,j!==0;);for(C=1<<O-1;te&C;)C>>=1;if(C!==0?(te&=C-1,te+=C):te=0,R++,--re[O]==0){if(O===K)break;O=g[b+A[R]]}if(H<O&&(te&z)!==F){for(ee===0&&(ee=H),L+=N,le=1<<(G=O-ee);G+ee<K&&!((le-=re[G+ee])<=0);)G++,le<<=1;if(Y+=1<<G,h===1&&852<Y||h===2&&592<Y)return 1;x[F=te&z]=H<<24|G<<16|L-y|0}}return te!==0&&(x[L+te]=O-ee<<24|64<<16|0),w.bits=H,0}},{"../utils/common":41}],51:[function(t,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,r,i){var a=t("../utils/common"),s=0,l=1;function c(de){for(var we=de.length;0<=--we;)de[we]=0}var d=0,h=29,g=256,b=g+1+h,m=30,x=19,y=2*b+1,A=15,w=16,C=7,j=256,F=16,z=17,L=18,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],M=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],T=new Array(2*(b+2));c(T);var O=new Array(2*m);c(O);var R=new Array(512);c(R);var N=new Array(256);c(N);var K=new Array(h);c(K);var H,G,ee,le=new Array(m);function Y(de,we,Le,Pe,_e){this.static_tree=de,this.extra_bits=we,this.extra_base=Le,this.elems=Pe,this.max_length=_e,this.has_stree=de&&de.length}function te(de,we){this.dyn_tree=de,this.max_code=0,this.stat_desc=we}function U(de){return de<256?R[de]:R[256+(de>>>7)]}function B(de,we){de.pending_buf[de.pending++]=255&we,de.pending_buf[de.pending++]=we>>>8&255}function re(de,we,Le){de.bi_valid>w-Le?(de.bi_buf|=we<<de.bi_valid&65535,B(de,de.bi_buf),de.bi_buf=we>>w-de.bi_valid,de.bi_valid+=Le-w):(de.bi_buf|=we<<de.bi_valid&65535,de.bi_valid+=Le)}function Z(de,we,Le){re(de,Le[2*we],Le[2*we+1])}function ne(de,we){for(var Le=0;Le|=1&de,de>>>=1,Le<<=1,0<--we;);return Le>>>1}function ve(de,we,Le){var Pe,_e,Ke=new Array(A+1),ot=0;for(Pe=1;Pe<=A;Pe++)Ke[Pe]=ot=ot+Le[Pe-1]<<1;for(_e=0;_e<=we;_e++){var nt=de[2*_e+1];nt!==0&&(de[2*_e]=ne(Ke[nt]++,nt))}}function ye(de){var we;for(we=0;we<b;we++)de.dyn_ltree[2*we]=0;for(we=0;we<m;we++)de.dyn_dtree[2*we]=0;for(we=0;we<x;we++)de.bl_tree[2*we]=0;de.dyn_ltree[2*j]=1,de.opt_len=de.static_len=0,de.last_lit=de.matches=0}function Ce(de){8<de.bi_valid?B(de,de.bi_buf):0<de.bi_valid&&(de.pending_buf[de.pending++]=de.bi_buf),de.bi_buf=0,de.bi_valid=0}function Oe(de,we,Le,Pe){var _e=2*we,Ke=2*Le;return de[_e]<de[Ke]||de[_e]===de[Ke]&&Pe[we]<=Pe[Le]}function Ie(de,we,Le){for(var Pe=de.heap[Le],_e=Le<<1;_e<=de.heap_len&&(_e<de.heap_len&&Oe(we,de.heap[_e+1],de.heap[_e],de.depth)&&_e++,!Oe(we,Pe,de.heap[_e],de.depth));)de.heap[Le]=de.heap[_e],Le=_e,_e<<=1;de.heap[Le]=Pe}function $e(de,we,Le){var Pe,_e,Ke,ot,nt=0;if(de.last_lit!==0)for(;Pe=de.pending_buf[de.d_buf+2*nt]<<8|de.pending_buf[de.d_buf+2*nt+1],_e=de.pending_buf[de.l_buf+nt],nt++,Pe===0?Z(de,_e,we):(Z(de,(Ke=N[_e])+g+1,we),(ot=k[Ke])!==0&&re(de,_e-=K[Ke],ot),Z(de,Ke=U(--Pe),Le),(ot=M[Ke])!==0&&re(de,Pe-=le[Ke],ot)),nt<de.last_lit;);Z(de,j,we)}function We(de,we){var Le,Pe,_e,Ke=we.dyn_tree,ot=we.stat_desc.static_tree,nt=we.stat_desc.has_stree,De=we.stat_desc.elems,xe=-1;for(de.heap_len=0,de.heap_max=y,Le=0;Le<De;Le++)Ke[2*Le]!==0?(de.heap[++de.heap_len]=xe=Le,de.depth[Le]=0):Ke[2*Le+1]=0;for(;de.heap_len<2;)Ke[2*(_e=de.heap[++de.heap_len]=xe<2?++xe:0)]=1,de.depth[_e]=0,de.opt_len--,nt&&(de.static_len-=ot[2*_e+1]);for(we.max_code=xe,Le=de.heap_len>>1;1<=Le;Le--)Ie(de,Ke,Le);for(_e=De;Le=de.heap[1],de.heap[1]=de.heap[de.heap_len--],Ie(de,Ke,1),Pe=de.heap[1],de.heap[--de.heap_max]=Le,de.heap[--de.heap_max]=Pe,Ke[2*_e]=Ke[2*Le]+Ke[2*Pe],de.depth[_e]=(de.depth[Le]>=de.depth[Pe]?de.depth[Le]:de.depth[Pe])+1,Ke[2*Le+1]=Ke[2*Pe+1]=_e,de.heap[1]=_e++,Ie(de,Ke,1),2<=de.heap_len;);de.heap[--de.heap_max]=de.heap[1],function(ke,je){var ct,Je,Rt,kt,Wt,Lt,Kt=je.dyn_tree,tn=je.max_code,ln=je.stat_desc.static_tree,zn=je.stat_desc.has_stree,qn=je.stat_desc.extra_bits,Qr=je.stat_desc.extra_base,ar=je.stat_desc.max_length,Mn=0;for(kt=0;kt<=A;kt++)ke.bl_count[kt]=0;for(Kt[2*ke.heap[ke.heap_max]+1]=0,ct=ke.heap_max+1;ct<y;ct++)ar<(kt=Kt[2*Kt[2*(Je=ke.heap[ct])+1]+1]+1)&&(kt=ar,Mn++),Kt[2*Je+1]=kt,tn<Je||(ke.bl_count[kt]++,Wt=0,Qr<=Je&&(Wt=qn[Je-Qr]),Lt=Kt[2*Je],ke.opt_len+=Lt*(kt+Wt),zn&&(ke.static_len+=Lt*(ln[2*Je+1]+Wt)));if(Mn!==0){do{for(kt=ar-1;ke.bl_count[kt]===0;)kt--;ke.bl_count[kt]--,ke.bl_count[kt+1]+=2,ke.bl_count[ar]--,Mn-=2}while(0<Mn);for(kt=ar;kt!==0;kt--)for(Je=ke.bl_count[kt];Je!==0;)tn<(Rt=ke.heap[--ct])||(Kt[2*Rt+1]!==kt&&(ke.opt_len+=(kt-Kt[2*Rt+1])*Kt[2*Rt],Kt[2*Rt+1]=kt),Je--)}}(de,we),ve(Ke,xe,de.bl_count)}function V(de,we,Le){var Pe,_e,Ke=-1,ot=we[1],nt=0,De=7,xe=4;for(ot===0&&(De=138,xe=3),we[2*(Le+1)+1]=65535,Pe=0;Pe<=Le;Pe++)_e=ot,ot=we[2*(Pe+1)+1],++nt<De&&_e===ot||(nt<xe?de.bl_tree[2*_e]+=nt:_e!==0?(_e!==Ke&&de.bl_tree[2*_e]++,de.bl_tree[2*F]++):nt<=10?de.bl_tree[2*z]++:de.bl_tree[2*L]++,Ke=_e,xe=(nt=0)===ot?(De=138,3):_e===ot?(De=6,3):(De=7,4))}function Se(de,we,Le){var Pe,_e,Ke=-1,ot=we[1],nt=0,De=7,xe=4;for(ot===0&&(De=138,xe=3),Pe=0;Pe<=Le;Pe++)if(_e=ot,ot=we[2*(Pe+1)+1],!(++nt<De&&_e===ot)){if(nt<xe)for(;Z(de,_e,de.bl_tree),--nt!=0;);else _e!==0?(_e!==Ke&&(Z(de,_e,de.bl_tree),nt--),Z(de,F,de.bl_tree),re(de,nt-3,2)):nt<=10?(Z(de,z,de.bl_tree),re(de,nt-3,3)):(Z(de,L,de.bl_tree),re(de,nt-11,7));Ke=_e,xe=(nt=0)===ot?(De=138,3):_e===ot?(De=6,3):(De=7,4)}}c(le);var se=!1;function he(de,we,Le,Pe){re(de,(d<<1)+(Pe?1:0),3),function(_e,Ke,ot,nt){Ce(_e),B(_e,ot),B(_e,~ot),a.arraySet(_e.pending_buf,_e.window,Ke,ot,_e.pending),_e.pending+=ot}(de,we,Le)}i._tr_init=function(de){se||(function(){var we,Le,Pe,_e,Ke,ot=new Array(A+1);for(_e=Pe=0;_e<h-1;_e++)for(K[_e]=Pe,we=0;we<1<<k[_e];we++)N[Pe++]=_e;for(N[Pe-1]=_e,_e=Ke=0;_e<16;_e++)for(le[_e]=Ke,we=0;we<1<<M[_e];we++)R[Ke++]=_e;for(Ke>>=7;_e<m;_e++)for(le[_e]=Ke<<7,we=0;we<1<<M[_e]-7;we++)R[256+Ke++]=_e;for(Le=0;Le<=A;Le++)ot[Le]=0;for(we=0;we<=143;)T[2*we+1]=8,we++,ot[8]++;for(;we<=255;)T[2*we+1]=9,we++,ot[9]++;for(;we<=279;)T[2*we+1]=7,we++,ot[7]++;for(;we<=287;)T[2*we+1]=8,we++,ot[8]++;for(ve(T,b+1,ot),we=0;we<m;we++)O[2*we+1]=5,O[2*we]=ne(we,5);H=new Y(T,k,g+1,b,A),G=new Y(O,M,0,m,A),ee=new Y(new Array(0),q,0,x,C)}(),se=!0),de.l_desc=new te(de.dyn_ltree,H),de.d_desc=new te(de.dyn_dtree,G),de.bl_desc=new te(de.bl_tree,ee),de.bi_buf=0,de.bi_valid=0,ye(de)},i._tr_stored_block=he,i._tr_flush_block=function(de,we,Le,Pe){var _e,Ke,ot=0;0<de.level?(de.strm.data_type===2&&(de.strm.data_type=function(nt){var De,xe=4093624447;for(De=0;De<=31;De++,xe>>>=1)if(1&xe&&nt.dyn_ltree[2*De]!==0)return s;if(nt.dyn_ltree[18]!==0||nt.dyn_ltree[20]!==0||nt.dyn_ltree[26]!==0)return l;for(De=32;De<g;De++)if(nt.dyn_ltree[2*De]!==0)return l;return s}(de)),We(de,de.l_desc),We(de,de.d_desc),ot=function(nt){var De;for(V(nt,nt.dyn_ltree,nt.l_desc.max_code),V(nt,nt.dyn_dtree,nt.d_desc.max_code),We(nt,nt.bl_desc),De=x-1;3<=De&&nt.bl_tree[2*Q[De]+1]===0;De--);return nt.opt_len+=3*(De+1)+5+5+4,De}(de),_e=de.opt_len+3+7>>>3,(Ke=de.static_len+3+7>>>3)<=_e&&(_e=Ke)):_e=Ke=Le+5,Le+4<=_e&&we!==-1?he(de,we,Le,Pe):de.strategy===4||Ke===_e?(re(de,2+(Pe?1:0),3),$e(de,T,O)):(re(de,4+(Pe?1:0),3),function(nt,De,xe,ke){var je;for(re(nt,De-257,5),re(nt,xe-1,5),re(nt,ke-4,4),je=0;je<ke;je++)re(nt,nt.bl_tree[2*Q[je]+1],3);Se(nt,nt.dyn_ltree,De-1),Se(nt,nt.dyn_dtree,xe-1)}(de,de.l_desc.max_code+1,de.d_desc.max_code+1,ot+1),$e(de,de.dyn_ltree,de.dyn_dtree)),ye(de),Pe&&Ce(de)},i._tr_tally=function(de,we,Le){return de.pending_buf[de.d_buf+2*de.last_lit]=we>>>8&255,de.pending_buf[de.d_buf+2*de.last_lit+1]=255&we,de.pending_buf[de.l_buf+de.last_lit]=255&Le,de.last_lit++,we===0?de.dyn_ltree[2*Le]++:(de.matches++,we--,de.dyn_ltree[2*(N[Le]+g+1)]++,de.dyn_dtree[2*U(we)]++),de.last_lit===de.lit_bufsize-1},i._tr_align=function(de){re(de,2,3),Z(de,j,T),function(we){we.bi_valid===16?(B(we,we.bi_buf),we.bi_buf=0,we.bi_valid=0):8<=we.bi_valid&&(we.pending_buf[we.pending++]=255&we.bi_buf,we.bi_buf>>=8,we.bi_valid-=8)}(de)}},{"../utils/common":41}],53:[function(t,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,r,i){(function(a){(function(s,l){if(!s.setImmediate){var c,d,h,g,b=1,m={},x=!1,y=s.document,A=Object.getPrototypeOf&&Object.getPrototypeOf(s);A=A&&A.setTimeout?A:s,c={}.toString.call(s.process)==="[object process]"?function(F){process.nextTick(function(){C(F)})}:function(){if(s.postMessage&&!s.importScripts){var F=!0,z=s.onmessage;return s.onmessage=function(){F=!1},s.postMessage("","*"),s.onmessage=z,F}}()?(g="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",j,!1):s.attachEvent("onmessage",j),function(F){s.postMessage(g+F,"*")}):s.MessageChannel?((h=new MessageChannel).port1.onmessage=function(F){C(F.data)},function(F){h.port2.postMessage(F)}):y&&"onreadystatechange"in y.createElement("script")?(d=y.documentElement,function(F){var z=y.createElement("script");z.onreadystatechange=function(){C(F),z.onreadystatechange=null,d.removeChild(z),z=null},d.appendChild(z)}):function(F){setTimeout(C,0,F)},A.setImmediate=function(F){typeof F!="function"&&(F=new Function(""+F));for(var z=new Array(arguments.length-1),L=0;L<z.length;L++)z[L]=arguments[L+1];var k={callback:F,args:z};return m[b]=k,c(b),b++},A.clearImmediate=w}function w(F){delete m[F]}function C(F){if(x)setTimeout(C,0,F);else{var z=m[F];if(z){x=!0;try{(function(L){var k=L.callback,M=L.args;switch(M.length){case 0:k();break;case 1:k(M[0]);break;case 2:k(M[0],M[1]);break;case 3:k(M[0],M[1],M[2]);break;default:k.apply(l,M)}})(z)}finally{w(F),x=!1}}}}function j(F){F.source===s&&typeof F.data=="string"&&F.data.indexOf(g)===0&&C(+F.data.slice(g.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(fw)),fw.exports}var rJ=nJ();const iJ=ns(rJ),aJ=async(e,n,t)=>{const r=new iJ,i=["timestamp,question,answer"];n.forEach(({timestamp:c,question:d,answer:h})=>{i.push(`"${new Date(c).toLocaleString()}","${d.replace(/"/g,'""')}","${h.replace(/"/g,'""')}"`)}),r.file(`${e}.csv`,i.join(`
`)),r.file(`${e}_metadata.json`,JSON.stringify(t,null,4));const a=await r.generateAsync({type:"blob"}),s=URL.createObjectURL(a),l=document.createElement("a");l.href=s,l.download=`${e}.zip`,document.body.appendChild(l),l.click(),document.body.removeChild(l)},sJ=Mc(ge)({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"600px",maxHeight:"80vh",overflowY:"auto",backgroundColor:"#fff",borderRadius:"10px",boxShadow:"0px 5px 15px rgba(0,0,0,0.2)",padding:"20px"}),oJ=Mc(ge)({marginBottom:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"}),lJ=({open:e,onClose:n,conversationHistory:t,conversationId:r,conversationHistoryError:i,chatbotDetails:a,userId:s,startedAt:l})=>{const c=async()=>{const d={conversationId:r,userId:s,chatbotId:a.chatbotId,chatbotTitle:a.chatbotTitle,startedAt:new Date(l).toLocaleString(),courseTitle:a.courseTitle,courseId:a.courseId,materialTitle:a.materialTitle,materialId:a.materialId,materialLink:a.materialLink,chatbotCreatedBy:a.chatbotCreatedBy,chatbotCreatedAt:new Date(a.chatbotCreatedAt).toLocaleString()};await aJ(r,t,d)};return f.jsx(Sx,{open:e,onClose:n,children:f.jsxs(sJ,{children:[f.jsxs(oJ,{children:[f.jsxs(ce,{variant:"h6",children:["Conversation History for ",r]}),f.jsx(si,{title:"Download ZIP",children:f.jsx(Cn,{onClick:c,"aria-label":"Download as ZIP",children:f.jsx(fI,{})})})]}),i&&f.jsx(ce,{color:"error",sx:{marginBottom:"20px"},children:i}),t.length===0?f.jsx(ce,{children:"No messages found in this conversation."}):f.jsx(Uf,{children:t.map((d,h)=>f.jsx(Cd,{sx:{padding:"10px 0"},children:f.jsx(Il,{primary:`Q: ${d.question}`,secondary:`A: ${d.answer} (${new Date(d.timestamp).toLocaleString()})`})},h))}),f.jsx(mt,{variant:"contained",onClick:n,style:{marginTop:"20px",backgroundColor:"#000",color:"#fff"},children:"Close"})]})})},uJ=({totalItems:e,itemsPerPage:n,currentPage:t,onPageChange:r})=>{const i=Math.ceil(e/n),a=()=>{t>1&&r(t-1)},s=()=>{t<i&&r(t+1)};return f.jsxs(ge,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:3},children:[f.jsx(mt,{variant:"outlined",disabled:t===1,onClick:a,children:"Previous"}),f.jsxs(ce,{variant:"body1",children:["Page ",t," of ",i]}),f.jsx(mt,{variant:"outlined",disabled:t===i,onClick:s,children:"Next"})]})},cJ=({chatbotId:e})=>{const n=Jn(),[t,r]=X.useState(null),[i,a]=X.useState(!0),[s,l]=X.useState(null);if(X.useEffect(()=>{e!=="All"&&(async()=>{a(!0),l(null);try{const C=nl(wn(n,"chatbots"),Si("chatbotId","==",e)),j=await mi(C);j.empty?l("Chatbot details not found!"):r(j.docs[0].data())}catch(C){console.error("Error fetching chatbot details:",C),l("Failed to fetch chatbot details.")}finally{a(!1)}})()},[n,e]),i)return f.jsx(ge,{sx:{mt:3},children:f.jsx(Gr,{})});if(s)return f.jsx(ce,{variant:"body1",color:"error",sx:{mt:3},children:s});if(!t)return null;const{title:c="N/A",courseId:d,createdBy:h="Unknown",timestamp:g,material:b}=t,m=(d==null?void 0:d.title)||"N/A",x=(b==null?void 0:b.title)||"N/A",y=(b==null?void 0:b.id)||"N/A",A=`https://institute-for-future-intelligence.github.io/nexlab/view-material/${y}`;return f.jsxs(ge,{sx:{mt:3,p:2,border:"1px solid #ddd",borderRadius:"8px",backgroundColor:"#f9f9f9"},children:[f.jsx(ce,{variant:"h6",children:"Chatbot Details"}),f.jsxs(ce,{variant:"body1",children:[f.jsx("strong",{children:"Title:"})," ",c]}),f.jsxs(ce,{variant:"body1",children:[f.jsx("strong",{children:"Course:"})," ",m]}),f.jsxs(ce,{variant:"body1",children:[f.jsx("strong",{children:"Material:"})," ",y!=="N/A"?f.jsx(S6,{href:A,target:"_blank",rel:"noopener noreferrer",children:x}):x]}),f.jsx(ts,{sx:{my:2}}),f.jsxs(ce,{variant:"body1",children:[f.jsx("strong",{children:"Created By:"})," ",h]}),f.jsxs(ce,{variant:"body1",children:[f.jsx("strong",{children:"Created At:"})," ",g?new Date(g).toLocaleString():"N/A"]})]})},C4=Mc(mt)({width:100,height:40,display:"flex",alignItems:"center",justifyContent:"center"}),dJ=({open:e,onClose:n,onConfirm:t,conversationId:r,deleting:i})=>f.jsxs(Xi,{open:e,onClose:n,children:[f.jsx(pa,{children:"Confirm Deletion"}),f.jsx(Zi,{children:f.jsxs(Fl,{children:["Are you sure you want to delete the conversation with ID: ",f.jsx("strong",{children:r}),"? This action cannot be undone."]})}),f.jsxs(ma,{children:[f.jsx(C4,{onClick:n,color:"primary",variant:"outlined",children:"Cancel"}),f.jsx(C4,{onClick:t,color:"error",disabled:i,children:i?f.jsx(Gr,{size:20,color:"inherit"}):"Delete"})]})]}),fJ=()=>{const e=Jn(),n=ea(),[t,r]=X.useState([]),[i,a]=X.useState([]),[s,l]=X.useState(1),[c]=X.useState(10),[d,h]=X.useState(!0),[g,b]=X.useState(null),[m,x]=X.useState([]),[y,A]=X.useState(null),[w,C]=X.useState(!1),[j,F]=X.useState(null),[z,L]=X.useState({}),k="https://rag-flask-api.onrender.com",[M,q]=X.useState([]),[Q,T]=X.useState([]),[O,R]=X.useState("All"),[N,K]=X.useState("All"),[H,G]=X.useState(null),[ee,le]=X.useState(null),[Y,te]=X.useState(!1),[U,B]=X.useState(null),[re,Z]=X.useState(!1),[ne,ve]=X.useState({open:!1,message:"",type:"success"}),ye=()=>{ve(he=>({...he,open:!1}))};X.useEffect(()=>{(async()=>{try{const we=(await mi(wn(e,"conversations"))).docs.map(_e=>({id:_e.id,..._e.data()}));r(we);const Le=Array.from(new Set(we.map(_e=>_e.chatbotId)));q(we.length>0?["All",...Le]:[]);const Pe=Array.from(new Set(we.map(_e=>_e.userId)));T(we.length>0?["All",...Pe]:[]),a(we)}catch(de){console.error("Error fetching chatbot conversations:",de),b("Failed to load conversations. Please try again later.")}finally{h(!1)}})()},[e]);const Ce=(he,de)=>{he==="chatbot"?R(de):K(de);const we=he==="chatbot"?de:O,Le=he==="user"?de:N;let Pe=t;we!=="All"&&(Pe=Pe.filter(_e=>_e.chatbotId===we)),Le!=="All"&&(Pe=Pe.filter(_e=>_e.userId===Le)),a(Pe),we==="All"&&Le==="All"&&a(t),l(1)},Oe=async(he,de,we,Le)=>{var Pe,_e,Ke,ot,nt;L(De=>({...De,[de]:!0})),A(null);try{const De=await ga.get(`${k}/conversations/${he}/${de}`);x(De.data);const je=(await(async()=>{try{const ct=new Map;return(await mi(wn(e,"chatbots"))).forEach(Rt=>{ct.set(Rt.data().chatbotId,Rt.data())}),ct}catch(ct){return console.error("Error fetching chatbots:",ct),new Map}})()).get(he);G(je?{chatbotId:he,chatbotTitle:je.title||"N/A",courseTitle:((Pe=je.courseId)==null?void 0:Pe.title)||"N/A",courseId:((_e=je.courseId)==null?void 0:_e.id)||"N/A",materialTitle:((Ke=je.material)==null?void 0:Ke.title)||"N/A",materialId:((ot=je.material)==null?void 0:ot.id)||"N/A",materialLink:`https://institute-for-future-intelligence.github.io/nexlab/view-material/${((nt=je.material)==null?void 0:nt.id)||""}`,chatbotCreatedBy:je.createdBy||"Unknown",chatbotCreatedAt:je.timestamp||"N/A"}:null),le({userId:we,startedAt:Le}),F({chatbotId:he,conversationId:de}),C(!0)}catch(De){console.error("Error fetching conversation or chatbot details:",De),A("Failed to fetch conversation history or chatbot details.")}finally{L(De=>({...De,[de]:!1}))}},Ie=s*c,$e=Ie-c,We=i.slice($e,Ie);if(d)return f.jsx(ge,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:f.jsx(Gr,{})});if(g)return f.jsx(ge,{sx:{textAlign:"center",mt:4},children:f.jsx(ce,{variant:"h6",color:"error",children:g})});const V=he=>{B(he),te(!0)},Se=()=>{te(!1),B(null)},se=async()=>{if(U){Z(!0);try{await E6(xn(e,"conversations",U)),r(he=>he.filter(de=>de.id!==U)),a(he=>he.filter(de=>de.id!==U)),ve({open:!0,message:"Conversation deleted successfully.",type:"success"}),Se()}catch(he){console.error("Error deleting conversation:",he),ve({open:!0,message:"Failed to delete the conversation. Please try again.",type:"error"})}finally{Z(!1),Se()}}};return f.jsxs(ge,{className:"profile-container",sx:{p:4},children:[f.jsx(mt,{variant:"text",onClick:()=>n("/"),className:"profile-button",children:" Home Page"}),f.jsx(ce,{variant:"h5",className:"webpage_title",sx:{mb:2},children:"Chatbot Conversations"}),f.jsxs(ge,{sx:{display:"flex",gap:2,mb:3},children:[f.jsxs(Fc,{sx:{minWidth:200},children:[f.jsx(Pc,{id:"filter-chatbot-id",children:"Filter by Chatbot ID"}),f.jsx(Rl,{labelId:"filter-chatbot-id",value:O,onChange:he=>Ce("chatbot",he.target.value),children:M.length>0?M.map(he=>f.jsx(Zn,{value:he,children:he},he)):f.jsx(Zn,{value:"",disabled:!0,children:"No Chatbots Available"})})]}),f.jsxs(Fc,{sx:{minWidth:200},children:[f.jsx(Pc,{id:"filter-user-id",children:"Filter by User ID"}),f.jsx(Rl,{labelId:"filter-user-id",value:N,onChange:he=>Ce("user",he.target.value),children:Q.map(he=>f.jsx(Zn,{value:he,children:he},he))})]})]}),O!=="All"&&f.jsx(cJ,{chatbotId:O}),f.jsxs(ge,{className:"profile-container",sx:{p:4},children:[f.jsx(EX,{conversations:We,onViewHistory:(he,de,we,Le)=>Oe(he,de,we,Le),onDeleteConversation:V,loadingMap:z}),f.jsx(dJ,{open:Y,onClose:Se,onConfirm:se,conversationId:U||"",deleting:re})]}),f.jsx(uJ,{totalItems:i.length,itemsPerPage:c,currentPage:s,onPageChange:l}),j&&H&&ee&&f.jsx(lJ,{open:w,onClose:()=>{C(!1),F(null)},conversationHistory:m,conversationId:j.conversationId,conversationHistoryError:y,chatbotDetails:H,userId:ee.userId,startedAt:ee.startedAt}),f.jsx(rl,{open:ne.open,autoHideDuration:3e3,onClose:ye,message:ne.message,anchorOrigin:{vertical:"top",horizontal:"center"},ContentProps:{style:{backgroundColor:ne.type==="success"?"#4caf50":"#f44336"}}})]})},hJ=()=>{const[e,n]=X.useState([]),[t,r]=X.useState(!0),[i,a]=X.useState({}),[s,l]=X.useState(!1),[c,d]=X.useState(""),[h,g]=X.useState("success"),b=ea();X.useEffect(()=>{(async()=>{const k=Jn(),M=wn(k,"chatbotRequests");try{const Q=(await mi(M)).docs.map(T=>({id:T.id,...T.data()}));n(Q)}catch(q){console.error("Error fetching chatbot requests:",q)}finally{r(!1)}})()},[]);const m=async L=>{const k=i[L];if(!k){d("Please assign a Chatbot ID before approving the request."),g("error"),l(!0);return}try{const M=Jn(),q=xn(M,"chatbotRequests",L),Q=await Oa(q);if(!Q.exists()){d("Request not found. Please refresh the page."),g("error"),l(!0);return}const T=Q.data();if(T.status!=="pending"){d("This request has already been processed."),g("warning"),l(!0);return}await Wr(q,{status:"approved",chatbotId:k});const O={chatbotId:k,title:T.title,courseId:{id:T.courseId,number:T.courseNumber,title:T.courseTitle},material:{id:T.materialId||null,title:T.materialTitle||"N/A"},createdBy:T.educatorId,files:T.files,timestamp:new Date().toISOString()};await Ma(wn(M,"chatbots"),O),n(R=>R.map(N=>N.id===L?{...N,status:"approved",chatbotId:k}:N)),d("Chatbot request approved and chatbot created successfully!"),g("success"),l(!0)}catch(M){console.error("Error approving chatbot request or creating chatbot:",M),d("Failed to approve the request and create the chatbot. Please try again."),g("error"),l(!0)}},x=()=>{l(!1)},[y,A]=X.useState(0),[w,C]=X.useState(5),j=(L,k)=>A(k),F=L=>{C(parseInt(L.target.value,10)),A(0)},z=(L,k)=>{a(M=>({...M,[L]:k}))};return t?f.jsx(ge,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:f.jsx(Gr,{})}):e.length===0?f.jsx(ce,{variant:"body1",sx:{textAlign:"center",mt:4},children:"No chatbot requests found."}):f.jsxs(ge,{className:"profile-container",sx:{p:4},children:[f.jsx(mt,{variant:"text",onClick:()=>b("/"),className:"profile-button",children:" Home Page"}),f.jsx(ce,{variant:"h5",className:"webpage_title",sx:{mb:2},children:"Chatbot Requests Management"}),f.jsx(ce,{variant:"body1",sx:{mb:3},children:"Manage chatbot requests submitted by educators. Approve requests and assign Chatbot IDs."}),f.jsxs(Eu,{component:fn,elevation:3,sx:{maxHeight:"70vh",overflow:"auto"},children:[f.jsxs(_u,{stickyHeader:!0,children:[f.jsx(ku,{children:f.jsxs(Fi,{children:[f.jsx(ft,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Title"}),f.jsx(ft,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Course"}),f.jsx(ft,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Material"}),f.jsx(ft,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Educator ID"}),f.jsx(ft,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Course ID"}),f.jsx(ft,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Material ID"}),f.jsx(ft,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Submitted On"}),f.jsx(ft,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Status"}),f.jsx(ft,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"File Links"}),f.jsx(ft,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Chatbot ID"}),f.jsx(ft,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Action"})]})}),f.jsx(ju,{children:e.slice(y*w,y*w+w).map((L,k)=>{var M;return f.jsxs(Fi,{sx:{backgroundColor:k%2===0?"#F6E9B2":"#FBFADA","&:hover":{backgroundColor:"#E8E8E8"}},children:[f.jsx(ft,{children:L.title}),f.jsx(ft,{children:`${L.courseNumber} - ${L.courseTitle}`}),f.jsx(ft,{children:L.materialTitle||"N/A"}),f.jsx(ft,{children:L.educatorId}),f.jsx(ft,{children:L.courseId}),f.jsx(ft,{children:L.materialId||"N/A"}),f.jsx(ft,{children:new Date(L.timestamp).toLocaleString()}),f.jsx(ft,{children:f.jsx(ce,{variant:"body2",sx:{color:L.status==="pending"?"#FFA726":"#43A047",fontWeight:"bold"},children:L.status})}),f.jsx(ft,{children:(M=L.files)!=null&&M.length?L.files.map((q,Q)=>f.jsx(hI,{filePath:q,fileLabel:`File ${Q+1}`},Q)):f.jsx(ce,{variant:"body2",children:"No files uploaded"})}),f.jsx(ft,{children:L.status==="approved"?f.jsx(ce,{variant:"body2",sx:{fontWeight:"bold"},children:L.chatbotId}):f.jsx(Bt,{size:"small",value:i[L.id]||"",onChange:q=>z(L.id,q.target.value),placeholder:"Enter Chatbot ID",sx:{width:"150px"}})}),f.jsx(ft,{children:f.jsx(mt,{variant:"contained",color:"primary",onClick:()=>m(L.id),disabled:L.status==="approved",sx:{fontWeight:"bold"},children:L.status==="approved"?"Approved":"Approve"})})]},L.id)})})]}),f.jsx(xR,{rowsPerPageOptions:[5,10,25],component:"div",count:e.length,rowsPerPage:w,page:y,onPageChange:j,onRowsPerPageChange:F,"aria-label":"Chatbot requests pagination",sx:{mt:2}})]}),f.jsx(rl,{open:s,autoHideDuration:6e3,onClose:x,children:f.jsx(vr,{onClose:x,severity:h,sx:{width:"100%"},children:c})})]})},Cg=Jn(),Eg={CHATBOTS:"chatbots",QUIZ_SESSIONS:"quizSessions",QUIZ_EVENTS:"quizEvents",USERS:"users"},pJ=async()=>{var e,n,t,r;try{console.log(" Loading chatbots with quiz information...");const i=nl(wn(Cg,Eg.CHATBOTS),nv("timestamp","desc")),a=await mi(i),s=[];for(const l of a.docs){const c=l.data(),d={chatbotId:c.chatbotId,title:c.title||"Untitled Chatbot",materialTitle:((e=c.material)==null?void 0:e.title)||"Unknown Material",materialId:((n=c.material)==null?void 0:n.id)||"",courseId:((t=c.courseId)==null?void 0:t.id)||"",courseTitle:((r=c.courseId)==null?void 0:r.title)||"Unknown Course",createdBy:c.createdBy||"",timestamp:c.timestamp||new Date().toISOString(),quizId:null,hasQuiz:!0};s.push(d)}for(const l of s)try{const c=nl(wn(Cg,Eg.QUIZ_SESSIONS),Si("chatbotId","==",l.chatbotId),rv(1)),d=await mi(c);if(!d.empty){const h=d.docs[0].data();l.quizId=h.quizId||null}}catch(c){console.warn(` Could not fetch quiz ID for chatbot ${l.chatbotId}:`,c),l.quizId=null}return console.log(` Loaded ${s.length} chatbots with quiz information`),s}catch(i){throw console.error(" Error loading chatbots with quizzes:",i),i}},mJ=async(e={},n=100,t)=>{var r,i;try{console.log(" Loading enhanced quiz sessions with filters:",e);const a=wn(Cg,Eg.QUIZ_SESSIONS),s=[];e.chatbotId&&s.push(Si("chatbotId","==",e.chatbotId)),e.difficulty&&e.difficulty!=="all"&&s.push(Si("difficulty","==",e.difficulty)),e.completionStatus&&e.completionStatus!=="all"&&s.push(Si("completed","==",e.completionStatus==="completed")),e.userId&&s.push(Si("userId","==",e.userId)),e.dateRange&&(s.push(Si("startedAt",">=",Ja.fromDate(new Date(e.dateRange.start)))),s.push(Si("startedAt","<=",Ja.fromDate(new Date(e.dateRange.end))))),s.push(nv("startedAt","desc")),s.push(rv(n));const l=nl(a,...s),c=await mi(l),d=[],h=new Map;for(const m of c.docs){const x=m.data();let y=h.get(x.userId);if(!y){const F=x.userId.length>12?`${x.userId.substring(0,8)}...${x.userId.slice(-4)}`:x.userId.substring(0,12);y={email:F,displayName:`User ${F}`},h.set(x.userId,y)}let A,w;if(x.startedAt&&x.submittedAt){const F=x.startedAt.toMillis(),z=x.submittedAt.toMillis(),L=Math.round((z-F)/1e3),k=Math.floor(L/60),M=L%60;A=L,w=`${k}m ${M}s`}const C=Object.keys(x.finalAnswers||{}).length,j={id:m.id,quizId:x.quizId,chatbotId:x.chatbotId,userId:x.userId,userEmail:y.email,userName:y.displayName,difficulty:x.difficulty,startedAt:x.startedAt.toDate().toISOString(),submittedAt:(r=x.submittedAt)==null?void 0:r.toDate().toISOString(),closedAt:(i=x.closedAt)==null?void 0:i.toDate().toISOString(),completed:x.completed,answers:x.finalAnswers||{},summary:x.summary,questionsAttempted:C,timeSpent:A,timeSpentFormatted:w};d.push(j)}const g=c.docs.length===n,b=c.docs.length>0?c.docs[c.docs.length-1]:void 0;return console.log(` Loaded ${d.length} enhanced quiz sessions`),{sessions:d,hasMore:g,lastDoc:b}}catch(a){throw console.error(" Error loading enhanced quiz sessions:",a),a}},gJ=async e=>{var n;try{console.log(" Loading quiz pool for quiz:",e);const t=nl(wn(Cg,Eg.QUIZ_SESSIONS),Si("quizId","==",e),nv("startedAt","desc"),rv(50)),r=await mi(t),i=new Set,a=new Map;for(const g of r.docs){const b=g.data();(n=b.summary)!=null&&n.items&&Object.keys(b.summary.items).forEach(m=>{i.add(m)}),b.finalAnswers&&Object.entries(b.finalAnswers).forEach(([m,x])=>{i.add(m),a.has(m)||a.set(m,x)})}const s=Array.from(i).map(g=>{const b=a.get(g)||"",m=b.length>0?`Question about: ${b.split(" ").slice(0,10).join(" ")}${b.split(" ").length>10?"...":""}`:"Question text not available";return{questionId:g,question:m,category:"Biology Fundamentals",difficulty:"medium",maxScore:100}}),l=s.length>0?s:[{questionId:"no-sessions-found",question:"No quiz sessions found for this quiz ID. Question IDs will appear here once students take quizzes.",category:"Biology Fundamentals",difficulty:"medium",maxScore:100}],c={},d={easy:0,medium:0,hard:0};l.forEach(g=>{c[g.category]=(c[g.category]||0)+1,d[g.difficulty]=(d[g.difficulty]||0)+1});const h={quizId:e,chatbotId:e,questions:l,categoryCounts:c,difficultyBreakdown:d,totalQuestions:l.length,lastUpdated:new Date().toISOString()};return console.log(` Loaded quiz pool with ${l.length} real question IDs from ${r.docs.length} sessions`),h}catch(t){throw console.error(" Error loading quiz pool:",t),t}},bJ=e=>{try{console.log(" Generating quiz analytics from",e.length,"sessions");const n=e.filter(h=>h.completed&&h.summary),t=e.length,r=t>0?n.length/t*100:0,i=n.length>0?n.reduce((h,g)=>{var b;return h+(((b=g.summary)==null?void 0:b.percent)||0)},0)/n.length:0,a=e.filter(h=>h.timeSpent).length>0?Math.round(e.filter(h=>h.timeSpent).reduce((h,g)=>h+(g.timeSpent||0),0)/e.filter(h=>h.timeSpent).length):0,s={easy:0,medium:0,hard:0};e.forEach(h=>{s[h.difficulty]=(s[h.difficulty]||0)+1});const l={};n.forEach(h=>{var g;(g=h.summary)!=null&&g.items&&Object.values(h.summary.items).forEach(b=>{const m="Mixed Questions";l[m]||(l[m]={averageScore:0,totalAttempts:0,successRate:0}),l[m].totalAttempts+=1,l[m].averageScore+=b.score,b.verdict==="correct"&&(l[m].successRate+=1)})}),Object.keys(l).forEach(h=>{const g=l[h];g.totalAttempts>0&&(g.averageScore=g.averageScore/g.totalAttempts,g.successRate=g.successRate/g.totalAttempts*100)});const c={daily:{},weekly:{},monthly:{}};e.forEach(h=>{const g=new Date(h.startedAt),b=g.toISOString().split("T")[0],m=`${g.getFullYear()}-W${Math.ceil(g.getDate()/7)}`,x=`${g.getFullYear()}-${String(g.getMonth()+1).padStart(2,"0")}`;c.daily[b]=(c.daily[b]||0)+1,c.weekly[m]=(c.weekly[m]||0)+1,c.monthly[x]=(c.monthly[x]||0)+1});const d={totalSessions:t,completionRate:r,averageScore:i,averageTimeSpent:a,difficultyDistribution:s,categoryPerformance:l,timeBasedStats:c};return console.log(" Generated quiz analytics:",d),d}catch(n){throw console.error(" Error generating quiz analytics:",n),n}},yJ=async e=>{var n;try{console.log(" Exporting quiz session data for:",e);const t=await Oa(xn(Cg,Eg.QUIZ_SESSIONS,e));if(!t.exists())throw new Error("Quiz session not found");const r=t.data(),i={sessionId:e,quizId:r.quizId,chatbotId:r.chatbotId,userId:r.userId,difficulty:r.difficulty,startedAt:r.startedAt.toDate().toISOString(),submittedAt:(n=r.submittedAt)==null?void 0:n.toDate().toISOString(),completed:r.completed,answers:r.finalAnswers||{},summary:r.summary,exportedAt:new Date().toISOString()},a=JSON.stringify(i,null,2),s=new Blob([a],{type:"application/json"});return console.log(" Quiz session data exported successfully"),s}catch(t){throw console.error(" Error exporting quiz session data:",t),t}},E4={difficulty:"all",completionStatus:"all"},zI=yp()(Bg(av((e,n)=>({courses:[],selectedCourse:null,chatbotsWithQuizzes:[],filteredChatbots:[],selectedChatbot:null,quizSessions:[],quizPools:{},analytics:null,loading:!1,error:null,filters:E4,selectedSession:null,loadChatbotsWithQuizzes:async()=>{try{e({loading:!0,error:null}),console.log(" Quiz Management Store: Loading chatbots with quizzes...");const t=await pJ(),r=new Map;t.forEach(a=>{r.has(a.courseId)||r.set(a.courseId,{courseId:a.courseId,courseTitle:a.courseTitle,chatbotCount:0,quizCount:0});const s=r.get(a.courseId);s.chatbotCount++,a.quizId&&s.quizCount++});const i=Array.from(r.values()).sort((a,s)=>a.courseTitle.localeCompare(s.courseTitle));e({chatbotsWithQuizzes:t,courses:i,filteredChatbots:t,loading:!1}),console.log(` Loaded ${t.length} chatbots with quiz information from ${i.length} courses`)}catch(t){console.error(" Failed to load chatbots with quizzes:",t),e({error:t instanceof Error?t.message:"Failed to load chatbots",loading:!1})}},selectCourse:t=>{console.log(" Quiz Management Store: Selecting course:",t==null?void 0:t.courseId);const{chatbotsWithQuizzes:r}=n(),i=t?r.filter(a=>a.courseId===t.courseId):r;e({selectedCourse:t,filteredChatbots:i,selectedChatbot:null,selectedSession:null,quizSessions:[]})},selectChatbot:t=>{console.log(" Quiz Management Store: Selecting chatbot:",t==null?void 0:t.chatbotId),e({selectedChatbot:t,selectedSession:null,filters:{...n().filters,chatbotId:t==null?void 0:t.chatbotId}}),t&&n().loadQuizSessions(t.chatbotId)},loadQuizSessions:async t=>{try{e({loading:!0,error:null}),console.log(" Quiz Management Store: Loading quiz sessions for chatbot:",t);const r=n().filters,i=t?{...r,chatbotId:t}:r,a=await mJ(i);e({quizSessions:a.sessions,loading:!1}),n().generateAnalytics(),console.log(` Loaded ${a.sessions.length} enhanced quiz sessions`)}catch(r){console.error(" Failed to load quiz sessions:",r),e({error:r instanceof Error?r.message:"Failed to load quiz sessions",loading:!1})}},loadQuizPool:async t=>{try{e({loading:!0,error:null}),console.log(" Quiz Management Store: Loading quiz pool for:",t);const r=await gJ(t);e(i=>({quizPools:{...i.quizPools,[t]:r},loading:!1})),console.log(` Loaded quiz pool with ${r.totalQuestions} questions`)}catch(r){console.error(" Failed to load quiz pool:",r),e({error:r instanceof Error?r.message:"Failed to load quiz pool",loading:!1})}},updateFilters:t=>{const r={...n().filters,...t};console.log(" Quiz Management Store: Updating filters:",r),e({filters:r}),n().loadQuizSessions(r.chatbotId)},selectSession:t=>{console.log(" Quiz Management Store: Selecting session:",t==null?void 0:t.id),e({selectedSession:t})},generateAnalytics:()=>{try{const{quizSessions:t}=n();console.log(" Quiz Management Store: Generating analytics from",t.length,"sessions");const r=bJ(t);e({analytics:r}),console.log(" Generated quiz analytics successfully")}catch(t){console.error(" Failed to generate analytics:",t),e({error:t instanceof Error?t.message:"Failed to generate analytics"})}},exportSessionData:async t=>{try{e({loading:!0,error:null}),console.log(" Quiz Management Store: Exporting session data for:",t);const r=await yJ(t),i=URL.createObjectURL(r),a=document.createElement("a");a.href=i,a.download=`quiz-session-${t}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(i),e({loading:!1}),console.log(" Quiz session data exported successfully")}catch(r){console.error(" Failed to export session data:",r),e({error:r instanceof Error?r.message:"Failed to export session data",loading:!1})}},clearError:()=>{e({error:null})},reset:()=>{console.log(" Quiz Management Store: Resetting store state"),e({chatbotsWithQuizzes:[],selectedChatbot:null,quizSessions:[],quizPools:{},analytics:null,loading:!1,error:null,filters:E4,selectedSession:null})}}),{name:"quiz-management-store",partialize:e=>({filters:e.filters,selectedChatbot:e.selectedChatbot}),merge:(e,n)=>({...n,...e||{},courses:[],selectedCourse:null,chatbotsWithQuizzes:[],filteredChatbots:[],selectedChatbot:null,quizSessions:[],quizPools:{},analytics:null,loading:!1,error:null,selectedSession:null})}),{name:"quiz-management-store"})),xJ=({courses:e,selectedCourse:n,onSelect:t,loading:r=!1})=>f.jsx(ge,{children:f.jsx(KN,{value:n,onChange:(i,a)=>t(a),options:e,getOptionLabel:i=>i.courseTitle,loading:r,renderInput:i=>f.jsx(Bt,{...i,label:"Select Course",placeholder:"Choose a course to filter materials...",variant:"outlined",sx:{"& .MuiOutlinedInput-root":{fontFamily:"Gabarito, sans-serif","& fieldset":{borderColor:"#CDDAFF",borderWidth:2},"&:hover fieldset":{borderColor:"#0B53C0"},"&.Mui-focused fieldset":{borderColor:"#0B53C0",borderWidth:2}},"& .MuiInputLabel-root":{fontFamily:"Gabarito, sans-serif",color:"#0B53C0",fontWeight:"bold","&.Mui-focused":{color:"#0B53C0"}}},InputProps:{...i.InputProps,endAdornment:f.jsxs(f.Fragment,{children:[r?f.jsx(Gr,{color:"inherit",size:20}):null,i.InputProps.endAdornment]})}}),renderOption:(i,a)=>{const{...s}=i;return f.jsx(ge,{component:"li",...s,sx:{"&:hover":{backgroundColor:"#F0F4FF !important"}},children:f.jsxs(ge,{sx:{display:"flex",alignItems:"center",width:"100%",p:2},children:[f.jsx(Fd,{sx:{mr:2,flexShrink:0,color:"#0B53C0",fontSize:28}}),f.jsxs(ge,{sx:{flex:1,minWidth:0},children:[f.jsx(ce,{variant:"subtitle1",noWrap:!0,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1.1rem",color:"#0B53C0",fontWeight:"bold"},children:a.courseTitle}),f.jsxs(ce,{variant:"body2",sx:{fontFamily:"Gabarito, sans-serif",color:"#666666",display:"flex",alignItems:"center",mt:.5},children:[f.jsx(zc,{sx:{fontSize:14,mr:.5}}),a.chatbotCount," material",a.chatbotCount!==1?"s":"","  ",a.quizCount," quiz",a.quizCount!==1?"zes":""," available"]})]}),f.jsxs(ge,{sx:{ml:2,display:"flex",flexDirection:"column",alignItems:"flex-end",gap:.5},children:[f.jsx(Dn,{label:`${a.chatbotCount} Material${a.chatbotCount!==1?"s":""}`,size:"small",sx:{backgroundColor:"#CDDAFF",color:"#0B53C0",fontFamily:"Gabarito, sans-serif",fontSize:"0.75rem",fontWeight:"bold"}}),a.quizCount>0&&f.jsx(Dn,{label:`${a.quizCount} Quiz${a.quizCount!==1?"zes":""}`,size:"small",sx:{backgroundColor:"#C8E6C9",color:"#2E7D32",fontFamily:"Gabarito, sans-serif",fontSize:"0.75rem",fontWeight:"bold"}})]})]})},a.courseId)},PaperComponent:i=>f.jsx(fn,{...i,sx:{mt:1,borderRadius:2,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",border:"1px solid #CDDAFF",backgroundColor:"#FFFFFF"}}),isOptionEqualToValue:(i,a)=>i.courseId===a.courseId,noOptionsText:r?"Loading courses...":"No courses found.",clearOnBlur:!0,selectOnFocus:!0})}),vJ=({chatbots:e,selectedChatbot:n,onSelect:t,loading:r=!1})=>f.jsxs(ge,{children:[f.jsx(KN,{value:n,onChange:(i,a)=>t(a),options:e,getOptionLabel:i=>i.title,loading:r,renderInput:i=>f.jsx(Bt,{...i,label:"Select Chatbot & Material",placeholder:"Choose a chatbot to view its quiz data...",variant:"outlined",sx:{"& .MuiOutlinedInput-root":{fontFamily:"Gabarito, sans-serif","& fieldset":{borderColor:"#CDDAFF",borderWidth:2},"&:hover fieldset":{borderColor:"#0B53C0"},"&.Mui-focused fieldset":{borderColor:"#0B53C0",borderWidth:2}},"& .MuiInputLabel-root":{fontFamily:"Gabarito, sans-serif",color:"#0B53C0",fontWeight:"bold","&.Mui-focused":{color:"#0B53C0"}}},InputProps:{...i.InputProps,endAdornment:f.jsxs(f.Fragment,{children:[r?f.jsx(Gr,{color:"inherit",size:20}):null,i.InputProps.endAdornment]})}}),renderOption:(i,a)=>{const{...s}=i;return f.jsx(ge,{component:"li",...s,sx:{"&:hover":{backgroundColor:"#F0F4FF !important"}},children:f.jsxs(ge,{sx:{display:"flex",alignItems:"center",width:"100%",p:2},children:[f.jsx(zc,{sx:{mr:2,flexShrink:0,color:"#0B53C0",fontSize:28}}),f.jsxs(ge,{sx:{flex:1,minWidth:0},children:[f.jsx(ce,{variant:"subtitle1",noWrap:!0,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1.1rem",color:"#0B53C0",fontWeight:"bold"},children:a.title}),f.jsxs(ce,{variant:"body2",noWrap:!0,sx:{fontFamily:"Gabarito, sans-serif",color:"#666666",display:"flex",alignItems:"center",mt:.5},children:[f.jsx(vR,{sx:{fontSize:14,mr:.5}}),a.materialTitle]}),f.jsxs(ce,{variant:"caption",noWrap:!0,sx:{fontFamily:"Gabarito, sans-serif",color:"#888888",display:"flex",alignItems:"center",mt:.25},children:[f.jsx(Fd,{sx:{fontSize:12,mr:.5}}),a.courseTitle]})]}),f.jsxs(ge,{sx:{ml:2,display:"flex",flexDirection:"column",alignItems:"flex-end",gap:.5},children:[a.quizId&&f.jsx(Dn,{label:"Quiz Available",size:"small",sx:{backgroundColor:"#C8E6C9",color:"#2E7D32",fontFamily:"Gabarito, sans-serif",fontSize:"0.75rem",fontWeight:"bold"}}),f.jsxs(ce,{variant:"caption",sx:{fontFamily:"monospace",color:a.quizId?"#0B53C0":"#888888",fontSize:"0.7rem",backgroundColor:a.quizId?"#F0F4FF":"#F5F5F5",padding:"2px 6px",borderRadius:"4px",border:`1px solid ${a.quizId?"#CDDAFF":"#E0E0E0"}`},children:["Quiz: ",a.quizId?a.quizId.substring(0,8)+"...":"N/A"]}),f.jsxs(ce,{variant:"caption",sx:{fontFamily:"monospace",color:"#888888",fontSize:"0.65rem"},children:["ChatBot: ",a.chatbotId.substring(0,8),"..."]})]})]})},a.chatbotId)},PaperComponent:i=>f.jsx(fn,{...i,sx:{mt:1,borderRadius:2,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",border:"1px solid #CDDAFF",backgroundColor:"#FFFFFF"}}),isOptionEqualToValue:(i,a)=>i.chatbotId===a.chatbotId,noOptionsText:r?"Loading chatbots...":"No chatbots found. Create a chatbot first to see quiz data.",clearOnBlur:!0,handleHomeEndKeys:!0}),e.length===0&&!r&&f.jsx(ge,{sx:{mt:2,p:2,bgcolor:"info.light",borderRadius:1},children:f.jsxs(ce,{variant:"body2",color:"info.contrastText",children:[f.jsx("strong",{children:"No chatbots available."})," You need to create chatbots first before you can manage quiz sessions. Each chatbot automatically has an associated quiz with predefined questions."]})})]}),wJ=({sessions:e,loading:n=!1,onViewDetails:t,onExportSession:r})=>{const i=l=>new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),a=l=>{switch(l){case"easy":return"success";case"medium":return"warning";case"hard":return"error";default:return"warning"}},s=l=>l>=80?"success":l>=60?"warning":"error";return n?f.jsxs(ge,{sx:{width:"100%",mt:2},children:[f.jsx(Xo,{}),f.jsx(ce,{variant:"body2",sx:{mt:1,textAlign:"center"},children:"Loading quiz sessions..."})]}):e.length===0?f.jsxs(ge,{sx:{textAlign:"center",py:8},children:[f.jsx(zc,{sx:{fontSize:64,color:"text.secondary",mb:2}}),f.jsx(ce,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"No quiz sessions found"}),f.jsx(ce,{variant:"body2",color:"text.secondary",children:"No quiz sessions have been completed for this chatbot yet. Students need to take quizzes to see data here."})]}):f.jsx(Eu,{component:fn,variant:"outlined",children:f.jsxs(_u,{children:[f.jsx(ku,{children:f.jsxs(Fi,{children:[f.jsx(ft,{children:f.jsxs(ge,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(zc,{fontSize:"small"}),"Session ID"]})}),f.jsx(ft,{children:f.jsxs(ge,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(XN,{fontSize:"small"}),"User ID"]})}),f.jsx(ft,{children:f.jsxs(ge,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(wR,{fontSize:"small"}),"Date & Time"]})}),f.jsx(ft,{children:"Difficulty"}),f.jsx(ft,{children:"Status"}),f.jsx(ft,{align:"center",children:"Questions"}),f.jsx(ft,{align:"center",children:"Time Spent"}),f.jsx(ft,{align:"center",children:"Score"}),f.jsx(ft,{align:"center",children:"Performance"}),f.jsx(ft,{align:"center",children:"Actions"})]})}),f.jsx(ju,{children:e.map(l=>f.jsxs(Fi,{hover:!0,children:[f.jsx(ft,{children:f.jsx(ce,{variant:"body2",fontFamily:"monospace",sx:{wordBreak:"break-all",fontSize:"0.875rem"},children:l.id})}),f.jsx(ft,{children:f.jsx(ce,{variant:"body2",fontFamily:"monospace",sx:{wordBreak:"break-all",fontSize:"0.875rem"},children:l.userId})}),f.jsx(ft,{children:f.jsxs(ge,{children:[f.jsx(ce,{variant:"body2",children:i(l.startedAt)}),l.submittedAt&&f.jsxs(ce,{variant:"caption",color:"text.secondary",children:["Submitted: ",i(l.submittedAt)]})]})}),f.jsx(ft,{children:f.jsx(Dn,{label:l.difficulty.charAt(0).toUpperCase()+l.difficulty.slice(1),color:a(l.difficulty),size:"small"})}),f.jsx(ft,{children:f.jsx(Dn,{label:l.completed?"Completed":"In Progress",color:l.completed?"success":"warning",size:"small",variant:l.completed?"filled":"outlined"})}),f.jsxs(ft,{align:"center",children:[f.jsx(ce,{variant:"body2",fontWeight:"medium",children:l.questionsAttempted}),f.jsx(ce,{variant:"caption",color:"text.secondary",children:"attempted"})]}),f.jsx(ft,{align:"center",children:l.timeSpentFormatted?f.jsxs(ge,{children:[f.jsx(ce,{variant:"body2",fontWeight:"medium",children:l.timeSpentFormatted}),f.jsx(ce,{variant:"caption",color:"text.secondary",children:"duration"})]}):f.jsx(ce,{variant:"body2",color:"text.secondary",children:"-"})}),f.jsx(ft,{align:"center",children:l.summary?f.jsxs(ge,{children:[f.jsxs(ce,{variant:"body2",fontWeight:"bold",children:[l.summary.total_score,"/",l.summary.total_max]}),f.jsx(ce,{variant:"caption",color:"text.secondary",children:"points"})]}):f.jsx(ce,{variant:"body2",color:"text.secondary",children:"-"})}),f.jsx(ft,{align:"center",children:l.summary?f.jsx(Dn,{label:`${Math.round(l.summary.percent)}%`,color:s(l.summary.percent),size:"small"}):f.jsx(ce,{variant:"body2",color:"text.secondary",children:"-"})}),f.jsx(ft,{align:"center",children:f.jsxs(Bw,{direction:"row",spacing:1,justifyContent:"center",children:[f.jsx(si,{title:"View Details",children:f.jsx(Cn,{size:"small",onClick:()=>t(l),color:"primary",children:f.jsx(C6,{fontSize:"small"})})}),f.jsx(si,{title:"Export Data",children:f.jsx(Cn,{size:"small",onClick:()=>r(l.id),color:"secondary",children:f.jsx(og,{fontSize:"small"})})})]})})]},l.id))})]})})},SJ=({analytics:e})=>{const n=i=>{switch(i){case"easy":return"success";case"medium":return"warning";case"hard":return"error";default:return"warning"}},t=i=>i>=70?"success":i>=50?"warning":"error",r=i=>{if(i===0)return"0s";const a=Math.floor(i/60),s=i%60;return a===0?`${s}s`:s===0?`${a}m`:`${a}m ${s}s`};return f.jsx(Xa,{sx:{mb:4,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:f.jsxs(Za,{sx:{p:3},children:[f.jsxs(ce,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1,fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.5rem"},children:[f.jsx(SR,{color:"primary"}),"Quiz Analytics & Insights"]}),f.jsxs(vt,{container:!0,spacing:3,sx:{mb:4},children:[f.jsx(vt,{item:!0,xs:12,sm:6,md:3,children:f.jsxs(ge,{sx:{textAlign:"center",p:2,bgcolor:"#CDDAFF",borderRadius:2,border:"1px solid #0B53C0"},children:[f.jsx(zc,{sx:{fontSize:40,color:"#0B53C0",mb:1}}),f.jsx(ce,{variant:"h4",sx:{color:"#0B53C0",fontFamily:"Staatliches, sans-serif"},children:e.totalSessions}),f.jsx(ce,{variant:"body2",sx:{color:"#0B53C0",fontFamily:"Gabarito, sans-serif"},children:"Total Sessions"})]})}),f.jsx(vt,{item:!0,xs:12,sm:6,md:3,children:f.jsxs(ge,{sx:{textAlign:"center",p:2,bgcolor:"#C8E6C9",borderRadius:2,border:"1px solid #2E7D32"},children:[f.jsx(Rg,{sx:{fontSize:40,color:"#2E7D32",mb:1}}),f.jsxs(ce,{variant:"h4",sx:{color:"#2E7D32",fontFamily:"Staatliches, sans-serif"},children:[Math.round(e.completionRate),"%"]}),f.jsx(ce,{variant:"body2",sx:{color:"#2E7D32",fontFamily:"Gabarito, sans-serif"},children:"Completion Rate"})]})}),f.jsx(vt,{item:!0,xs:12,sm:6,md:3,children:f.jsxs(ge,{sx:{textAlign:"center",p:2,bgcolor:"#E3F2FD",borderRadius:2,border:"1px solid #1565C0"},children:[f.jsx(ZN,{sx:{fontSize:40,color:"#1565C0",mb:1}}),f.jsxs(ce,{variant:"h4",sx:{color:"#1565C0",fontFamily:"Staatliches, sans-serif"},children:[Math.round(e.averageScore),"%"]}),f.jsx(ce,{variant:"body2",sx:{color:"#1565C0",fontFamily:"Gabarito, sans-serif"},children:"Average Score"})]})}),f.jsx(vt,{item:!0,xs:12,sm:6,md:3,children:f.jsxs(ge,{sx:{textAlign:"center",p:2,bgcolor:"#FFF3E0",borderRadius:2,border:"1px solid #F57C00"},children:[f.jsx(G0,{sx:{fontSize:40,color:"#F57C00",mb:1}}),f.jsx(ce,{variant:"h4",sx:{color:"#F57C00",fontFamily:"Staatliches, sans-serif"},children:r(e.averageTimeSpent)}),f.jsx(ce,{variant:"body2",sx:{color:"#F57C00",fontFamily:"Gabarito, sans-serif"},children:"Avg. Time Spent"})]})})]}),f.jsx(ts,{sx:{my:3}}),f.jsxs(vt,{container:!0,spacing:4,children:[f.jsxs(vt,{item:!0,xs:12,md:6,children:[f.jsxs(ce,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(zc,{color:"primary"}),"Difficulty Distribution"]}),f.jsx(ge,{sx:{mt:2},children:Object.entries(e.difficultyDistribution).map(([i,a])=>{const s=e.totalSessions>0?a/e.totalSessions*100:0;return f.jsxs(ge,{sx:{mb:2},children:[f.jsxs(ge,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[f.jsxs(ge,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(Dn,{label:i.charAt(0).toUpperCase()+i.slice(1),color:n(i),size:"small"}),f.jsxs(ce,{variant:"body2",children:[a," sessions"]})]}),f.jsxs(ce,{variant:"body2",color:"text.secondary",children:[Math.round(s),"%"]})]}),f.jsx(Xo,{variant:"determinate",value:s,color:n(i),sx:{height:8,borderRadius:4}})]},i)})})]}),f.jsxs(vt,{item:!0,xs:12,md:6,children:[f.jsxs(ce,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(Fd,{color:"primary"}),"Bloom's Taxonomy Performance"]}),f.jsx(ge,{sx:{mt:2},children:Object.entries(e.categoryPerformance).map(([i,a])=>f.jsxs(ge,{sx:{mb:2},children:[f.jsxs(ge,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[f.jsxs(ge,{children:[f.jsx(ce,{variant:"body2",fontWeight:"medium",children:i}),f.jsxs(ce,{variant:"caption",color:"text.secondary",children:[a.totalAttempts," attempts"]})]}),f.jsxs(ge,{sx:{textAlign:"right"},children:[f.jsxs(ce,{variant:"body2",fontWeight:"medium",children:[Math.round(a.averageScore),"%"]}),f.jsx(Dn,{label:`${a.successRate}% success`,color:t(a.successRate),size:"small",variant:"outlined"})]})]}),f.jsx(Xo,{variant:"determinate",value:a.successRate,color:t(a.successRate),sx:{height:6,borderRadius:3}})]},i))})]})]})]})})},AJ=({quizId:e,open:n,onClose:t})=>{const{quizPools:r,loading:i}=zI(),a=r[e],s=c=>({Remember:"success",Understand:"info",Apply:"primary",Analyze:"warning",Evaluate:"error",Create:"secondary"})[c]||"primary",l=c=>{const d=["Remember","Understand","Apply","Analyze","Evaluate","Create"],h=c.split("").reduce((g,b)=>g+b.charCodeAt(0),0);return d[h%d.length]};return i?f.jsx(Xi,{open:n,onClose:t,maxWidth:"md",fullWidth:!0,children:f.jsx(Zi,{children:f.jsxs(ge,{sx:{display:"flex",flexDirection:"column",alignItems:"center",py:4},children:[f.jsx(Xo,{sx:{width:"100%",mb:2}}),f.jsx(ce,{variant:"body1",children:"Loading quiz questions..."})]})})}):a?f.jsxs(Xi,{open:n,onClose:t,maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{minHeight:"80vh"}},children:[f.jsx(pa,{children:f.jsxs(ge,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsxs(ge,{children:[f.jsx(ce,{variant:"h5",component:"div",children:"Quiz Question Pool"}),f.jsxs(ce,{variant:"body2",color:"text.secondary",children:["Quiz ID: ",e.substring(0,16),"..."]})]}),f.jsx(Cn,{onClick:t,edge:"end",children:f.jsx(Uw,{})})]})}),f.jsxs(Zi,{dividers:!0,children:[f.jsx(Xa,{sx:{mb:3},children:f.jsxs(Za,{children:[f.jsxs(ce,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(ZN,{color:"primary"}),"Pool Statistics"]}),f.jsxs(vt,{container:!0,spacing:3,children:[f.jsx(vt,{item:!0,xs:12,sm:6,md:3,children:f.jsxs(ge,{sx:{textAlign:"center",p:2,bgcolor:"primary.light",borderRadius:1},children:[f.jsx(ce,{variant:"h4",color:"primary.contrastText",children:a.totalQuestions}),f.jsx(ce,{variant:"body2",color:"primary.contrastText",children:"Total Questions"})]})}),f.jsx(vt,{item:!0,xs:12,sm:6,md:3,children:f.jsxs(ge,{sx:{textAlign:"center",p:2,bgcolor:"success.light",borderRadius:1},children:[f.jsx(ce,{variant:"h4",color:"success.contrastText",children:a.difficultyBreakdown.easy||0}),f.jsx(ce,{variant:"body2",color:"success.contrastText",children:"Easy Questions"})]})}),f.jsx(vt,{item:!0,xs:12,sm:6,md:3,children:f.jsxs(ge,{sx:{textAlign:"center",p:2,bgcolor:"warning.light",borderRadius:1},children:[f.jsx(ce,{variant:"h4",color:"warning.contrastText",children:a.difficultyBreakdown.medium||0}),f.jsx(ce,{variant:"body2",color:"warning.contrastText",children:"Medium Questions"})]})}),f.jsx(vt,{item:!0,xs:12,sm:6,md:3,children:f.jsxs(ge,{sx:{textAlign:"center",p:2,bgcolor:"error.light",borderRadius:1},children:[f.jsx(ce,{variant:"h4",color:"error.contrastText",children:a.difficultyBreakdown.hard||0}),f.jsx(ce,{variant:"body2",color:"error.contrastText",children:"Hard Questions"})]})})]})]})}),f.jsx(Xa,{sx:{mb:3},children:f.jsxs(Za,{children:[f.jsxs(ce,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(AR,{color:"primary"}),"Bloom's Taxonomy Categories"]}),f.jsx(vt,{container:!0,spacing:2,children:Object.entries(a.categoryCounts).map(([c,d])=>{const h=d/a.totalQuestions*100;return f.jsx(vt,{item:!0,xs:12,sm:6,md:4,children:f.jsxs(ge,{sx:{p:2,border:"1px solid",borderColor:"grey.300",borderRadius:1},children:[f.jsxs(ge,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[f.jsx(Dn,{label:c,color:s(c),size:"small"}),f.jsxs(ce,{variant:"body2",fontWeight:"bold",children:[d," questions"]})]}),f.jsx(Xo,{variant:"determinate",value:h,color:s(c),sx:{height:6,borderRadius:3}}),f.jsxs(ce,{variant:"caption",color:"text.secondary",sx:{mt:.5,display:"block"},children:[Math.round(h),"% of total"]})]})},c)})})]})}),f.jsx(Xa,{children:f.jsxs(Za,{children:[f.jsxs(ce,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(JN,{color:"primary"}),"Quiz Questions"]}),f.jsx(ce,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"All available question IDs from the quiz pool. Questions are categorized using Bloom's taxonomy levels and automatically selected based on quiz difficulty mode."}),f.jsx(Eu,{component:fn,variant:"outlined",children:f.jsxs(_u,{children:[f.jsx(ku,{children:f.jsxs(Fi,{children:[f.jsx(ft,{children:"Question ID"}),f.jsx(ft,{children:"Question"}),f.jsx(ft,{align:"center",children:"Bloom's Taxonomy Category"})]})}),f.jsx(ju,{children:a.questions.map((c,d)=>{const h=l(c.category);return f.jsxs(Fi,{hover:!0,children:[f.jsx(ft,{children:f.jsx(ce,{variant:"body2",fontFamily:"monospace",children:c.questionId})}),f.jsx(ft,{children:f.jsx(ce,{variant:"body2",sx:{maxWidth:400},children:c.question.length>120?`${c.question.substring(0,120)}...`:c.question})}),f.jsx(ft,{align:"center",children:f.jsx(Dn,{label:h,color:s(h),size:"small"})})]},c.questionId)})})]})})]})}),f.jsx(ts,{sx:{my:3}}),f.jsxs(ge,{sx:{p:2,bgcolor:"info.light",borderRadius:1},children:[f.jsxs(ce,{variant:"body2",color:"info.contrastText",children:[f.jsx("strong",{children:"Quiz Question Pool:"})," This shows the available questions that can be selected for quizzes. When students take a quiz, questions are automatically chosen from this pool based on the selected difficulty mode: Easy (~5 questions), Medium (~8 questions), Hard (~10 questions)."]}),f.jsxs(ce,{variant:"caption",color:"info.contrastText",sx:{mt:1,display:"block"},children:[f.jsx("strong",{children:"Note:"})," This is placeholder data for demonstration. Actual questions will be loaded from the quiz API."]})]})]}),f.jsx(ma,{children:f.jsx(mt,{onClick:t,variant:"contained",children:"Close"})})]}):f.jsxs(Xi,{open:n,onClose:t,maxWidth:"md",fullWidth:!0,children:[f.jsx(pa,{children:f.jsxs(ge,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsx(ce,{variant:"h6",children:"Quiz Pool"}),f.jsx(Cn,{onClick:t,edge:"end",children:f.jsx(Uw,{})})]})}),f.jsx(Zi,{children:f.jsxs(ge,{sx:{textAlign:"center",py:4},children:[f.jsx(ce,{variant:"h6",color:"text.secondary",children:"Quiz pool not found"}),f.jsxs(ce,{variant:"body2",color:"text.secondary",children:["Unable to load questions for quiz ID: ",e]})]})}),f.jsx(ma,{children:f.jsx(mt,{onClick:t,children:"Close"})})]})},CJ=({session:e,open:n,onClose:t})=>{const r=c=>new Date(c).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),i=c=>{switch(c){case"easy":return"success";case"medium":return"warning";case"hard":return"error";default:return"warning"}},a=c=>c==="correct"?"success":"error",s=c=>{const d=e.answers[c];if(!d)return"Question text not available";const h=d.split(" ");return h.length>15?`Question about: ${h.slice(0,15).join(" ")}...`:`Question about: ${d.substring(0,100)}${d.length>100?"...":""}`},l=()=>{const c={sessionId:e.id,quizId:e.quizId,chatbotId:e.chatbotId,student:{userId:e.userId,name:e.userName,email:e.userEmail},quiz:{difficulty:e.difficulty,startedAt:e.startedAt,submittedAt:e.submittedAt,completed:e.completed,timeSpent:e.timeSpent},answers:e.answers,summary:e.summary,exportedAt:new Date().toISOString()},d=JSON.stringify(c,null,2),h=new Blob([d],{type:"application/json"}),g=URL.createObjectURL(h),b=document.createElement("a");b.href=g,b.download=`quiz-session-${e.id}.json`,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(g)};return f.jsxs(Xi,{open:n,onClose:t,maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{minHeight:"80vh"}},children:[f.jsx(pa,{children:f.jsxs(ge,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsxs(ge,{children:[f.jsx(ce,{variant:"h5",component:"div",children:"Quiz Session Details"}),f.jsxs(ce,{variant:"body2",color:"text.secondary",children:["Session ID: ",e.id]})]}),f.jsx(Cn,{onClick:t,edge:"end",children:f.jsx(Uw,{})})]})}),f.jsxs(Zi,{dividers:!0,children:[f.jsx(Xa,{sx:{mb:3},children:f.jsxs(Za,{children:[f.jsxs(ce,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(XN,{color:"primary"}),"User Information"]}),f.jsx(vt,{container:!0,spacing:2,children:f.jsxs(vt,{item:!0,xs:12,children:[f.jsx(ce,{variant:"subtitle2",color:"text.secondary",children:"User ID"}),f.jsx(ce,{variant:"body1",fontFamily:"monospace",sx:{wordBreak:"break-all"},children:e.userId})]})})]})}),f.jsx(Xa,{sx:{mb:3},children:f.jsxs(Za,{children:[f.jsxs(ce,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(zc,{color:"primary"}),"Quiz Information"]}),f.jsxs(vt,{container:!0,spacing:2,children:[f.jsxs(vt,{item:!0,xs:12,md:6,children:[f.jsx(ce,{variant:"subtitle2",color:"text.secondary",children:"Quiz ID"}),f.jsx(ce,{variant:"body1",fontFamily:"monospace",sx:{wordBreak:"break-all",fontSize:"0.875rem"},children:e.quizId})]}),f.jsxs(vt,{item:!0,xs:12,md:6,children:[f.jsx(ce,{variant:"subtitle2",color:"text.secondary",children:"Chatbot ID"}),f.jsx(ce,{variant:"body1",fontFamily:"monospace",sx:{wordBreak:"break-all",fontSize:"0.875rem"},children:e.chatbotId})]}),f.jsxs(vt,{item:!0,xs:12,md:6,children:[f.jsx(ce,{variant:"subtitle2",color:"text.secondary",children:"Difficulty"}),f.jsx(Dn,{label:e.difficulty.charAt(0).toUpperCase()+e.difficulty.slice(1),color:i(e.difficulty),size:"small"})]}),f.jsxs(vt,{item:!0,xs:12,md:6,children:[f.jsx(ce,{variant:"subtitle2",color:"text.secondary",children:"Status"}),f.jsx(Dn,{label:e.completed?"Completed":"In Progress",color:e.completed?"success":"warning",size:"small"})]}),f.jsxs(vt,{item:!0,xs:12,md:6,children:[f.jsx(ce,{variant:"subtitle2",color:"text.secondary",children:"Questions Attempted"}),f.jsxs(ce,{variant:"body1",children:[e.questionsAttempted," questions answered"]})]}),f.jsxs(vt,{item:!0,xs:12,md:6,children:[f.jsx(ce,{variant:"subtitle2",color:"text.secondary",children:"Quiz Mode"}),f.jsx(ce,{variant:"body1",children:e.difficulty==="easy"?"~5 questions (Remember/Understand focus)":e.difficulty==="medium"?"~8 questions (Mixed difficulty)":"~10 questions (Analyze/Evaluate focus)"})]})]})]})}),f.jsx(Xa,{sx:{mb:3},children:f.jsxs(Za,{children:[f.jsxs(ce,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(G0,{color:"primary"}),"Session Timeline"]}),f.jsxs(vt,{container:!0,spacing:2,children:[f.jsxs(vt,{item:!0,xs:12,md:4,children:[f.jsx(ce,{variant:"subtitle2",color:"text.secondary",children:"Started At"}),f.jsx(ce,{variant:"body1",children:r(e.startedAt)})]}),e.submittedAt&&f.jsxs(vt,{item:!0,xs:12,md:4,children:[f.jsx(ce,{variant:"subtitle2",color:"text.secondary",children:"Submitted At"}),f.jsx(ce,{variant:"body1",children:r(e.submittedAt)})]}),e.timeSpentFormatted&&f.jsxs(vt,{item:!0,xs:12,md:4,children:[f.jsx(ce,{variant:"subtitle2",color:"text.secondary",children:"Time Spent"}),f.jsx(ce,{variant:"body1",children:e.timeSpentFormatted})]})]})]})}),e.summary&&f.jsx(Xa,{sx:{mb:3},children:f.jsxs(Za,{children:[f.jsx(ce,{variant:"h6",gutterBottom:!0,children:"Quiz Results"}),f.jsxs(vt,{container:!0,spacing:2,sx:{mb:3},children:[f.jsx(vt,{item:!0,xs:12,md:4,children:f.jsxs(ge,{sx:{textAlign:"center",p:2,bgcolor:"primary.light",borderRadius:1},children:[f.jsx(ce,{variant:"h4",color:"primary.contrastText",children:e.summary.total_score}),f.jsx(ce,{variant:"body2",color:"primary.contrastText",children:"Total Score"})]})}),f.jsx(vt,{item:!0,xs:12,md:4,children:f.jsxs(ge,{sx:{textAlign:"center",p:2,bgcolor:"info.light",borderRadius:1},children:[f.jsx(ce,{variant:"h4",color:"info.contrastText",children:e.summary.total_max}),f.jsx(ce,{variant:"body2",color:"info.contrastText",children:"Maximum Score"})]})}),f.jsx(vt,{item:!0,xs:12,md:4,children:f.jsxs(ge,{sx:{textAlign:"center",p:2,bgcolor:"success.light",borderRadius:1},children:[f.jsxs(ce,{variant:"h4",color:"success.contrastText",children:[Math.round(e.summary.percent),"%"]}),f.jsx(ce,{variant:"body2",color:"success.contrastText",children:"Percentage"})]})})]}),f.jsx(ts,{sx:{my:2}}),f.jsx(ce,{variant:"h6",gutterBottom:!0,children:"Question Results"}),f.jsx(Eu,{component:fn,variant:"outlined",children:f.jsxs(_u,{size:"small",children:[f.jsx(ku,{children:f.jsxs(Fi,{children:[f.jsx(ft,{children:"Question"}),f.jsx(ft,{align:"center",children:"Score"}),f.jsx(ft,{align:"center",children:"Max Score"}),f.jsx(ft,{align:"center",children:"Verdict"}),f.jsx(ft,{children:"Reasoning"})]})}),f.jsx(ju,{children:Object.entries(e.summary.items).map(([c,d])=>f.jsxs(Fi,{children:[f.jsxs(ft,{children:[f.jsx(ce,{variant:"body2",sx:{mb:1},children:s(c)}),f.jsxs(ce,{variant:"caption",color:"text.secondary",fontFamily:"monospace",children:["ID: ",c]})]}),f.jsx(ft,{align:"center",children:f.jsx(ce,{variant:"body2",fontWeight:"bold",children:d.score})}),f.jsx(ft,{align:"center",children:f.jsx(ce,{variant:"body2",children:d.max_score})}),f.jsx(ft,{align:"center",children:(()=>{let h;return d.verdict==="correct"?h="correct":d.verdict==="incorrect"?h="incorrect":h=d.score>=d.max_score*.7?"correct":"incorrect",f.jsx(Dn,{label:h,color:a(h),size:"small",icon:h==="correct"?f.jsx(Rg,{}):f.jsx(v6,{})})})()}),f.jsx(ft,{children:f.jsx(ce,{variant:"body2",children:d.reasoning||"No reasoning provided"})})]},c))})]})})]})}),Object.keys(e.answers).length>0&&f.jsx(Xa,{children:f.jsxs(Za,{children:[f.jsx(ce,{variant:"h6",gutterBottom:!0,children:"User Answers"}),Object.entries(e.answers).map(([c,d],h)=>f.jsxs(_d,{children:[f.jsx(kd,{expandIcon:f.jsx(Vo,{}),children:f.jsxs(ce,{variant:"subtitle1",children:["Question ",h+1," (",c,")"]})}),f.jsx(jd,{children:f.jsx(ge,{sx:{p:2,bgcolor:"grey.50",borderRadius:1},children:f.jsx(ce,{variant:"body1",sx:{whiteSpace:"pre-wrap"},children:d})})})]},c))]})})]}),f.jsxs(ma,{children:[f.jsx(mt,{startIcon:f.jsx(og,{}),onClick:l,variant:"outlined",children:"Export Session Data"}),f.jsx(mt,{onClick:t,variant:"contained",children:"Close"})]})]})},EJ=()=>{const e=ea(),{userDetails:n}=Ai(),{courses:t,selectedCourse:r,chatbotsWithQuizzes:i,filteredChatbots:a,selectedChatbot:s,quizSessions:l,analytics:c,loading:d,error:h,filters:g,selectedSession:b,loadChatbotsWithQuizzes:m,selectCourse:x,selectChatbot:y,loadQuizSessions:A,loadQuizPool:w,updateFilters:C,selectSession:j,exportSessionData:F,clearError:z}=zI(),[L,k]=X.useState(!1),[M,q]=X.useState(!1),[Q,T]=X.useState("");X.useEffect(()=>{console.log(" Enhanced Quiz Management Page: Initializing..."),m()},[m]);const O=te=>{x(te),te&&console.log(" Selected course:",te.courseTitle,"with",te.chatbotCount,"chatbots")},R=te=>{y(te),te&&console.log(" Selected chatbot:",te.title,"with quiz ID:",te.quizId)},N=te=>{j(te),k(!0)},K=async te=>{await w(te),q(!0)},H=()=>{m(),s&&A(s.chatbotId)},G=async te=>{await F(te)},ee=te=>{C({difficulty:te})},le=te=>{C({completionStatus:te})},Y=te=>{T(te),C({userId:te||void 0})};return d&&i.length===0?f.jsxs(ge,{sx:{width:"100%",mt:2},children:[f.jsx(Xo,{}),f.jsx(ce,{variant:"body2",sx:{mt:1,textAlign:"center"},children:"Loading quiz management data..."})]}):f.jsxs(ge,{className:"profile-container",children:[f.jsxs(ge,{sx:{mb:4},children:[f.jsx(mt,{variant:"text",startIcon:f.jsx(CR,{}),onClick:()=>e("/"),className:"profile-button",sx:{mb:2},children:"Home Page"}),f.jsxs(ge,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsxs(ge,{children:[f.jsx(ce,{className:"webpage_title",children:"Quiz Management"}),f.jsx(ce,{variant:"body1",className:"profile-text",children:"Comprehensive quiz analytics and session management"})]}),f.jsx(Bw,{direction:"row",spacing:2,children:f.jsx(si,{title:"Refresh Data",children:f.jsx("span",{children:f.jsx(Cn,{onClick:H,disabled:d,children:f.jsx(WN,{})})})})})]})]}),h&&f.jsx(vr,{severity:"error",sx:{mb:3},onClose:z,children:h}),f.jsx(Xa,{sx:{mb:4,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:f.jsxs(Za,{sx:{p:3},children:[f.jsxs(ce,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1,fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.5rem"},children:[f.jsx(Fd,{color:"primary"}),"Course & Quiz Selection"]}),f.jsx(ce,{variant:"body2",sx:{mb:3,fontFamily:"Gabarito, sans-serif",color:"#666666"},children:"First select a course to filter materials, then choose a specific chatbot to view its quiz sessions and manage quiz data."}),f.jsx(ge,{sx:{mb:3},children:f.jsx(xJ,{courses:t,selectedCourse:r,onSelect:O,loading:d})}),f.jsx(ge,{children:f.jsx(vJ,{chatbots:a,selectedChatbot:s,onSelect:R,loading:d})}),s&&f.jsxs(ge,{sx:{mt:3,p:2,bgcolor:"#F0F4FF",borderRadius:2,border:"1px solid #CDDAFF"},children:[f.jsxs(vt,{container:!0,spacing:2,children:[f.jsxs(vt,{item:!0,xs:12,md:6,children:[f.jsx(ce,{variant:"subtitle2",sx:{fontFamily:"Gabarito, sans-serif",fontWeight:"bold",color:"#0B53C0"},children:"Material"}),f.jsx(ce,{variant:"body1",sx:{fontFamily:"Gabarito, sans-serif"},children:s.materialTitle})]}),f.jsxs(vt,{item:!0,xs:12,md:3,children:[f.jsx(ce,{variant:"subtitle2",sx:{fontFamily:"Gabarito, sans-serif",fontWeight:"bold",color:"#0B53C0"},children:"Course"}),f.jsx(ce,{variant:"body1",sx:{fontFamily:"Gabarito, sans-serif"},children:s.courseTitle})]}),f.jsxs(vt,{item:!0,xs:12,md:3,children:[f.jsx(ce,{variant:"subtitle2",sx:{fontFamily:"Gabarito, sans-serif",fontWeight:"bold",color:"#0B53C0"},children:"Quiz ID"}),f.jsx(ce,{variant:"body1",fontFamily:"monospace",sx:{fontSize:"0.875rem",wordBreak:"break-all",lineHeight:1.2},children:s.quizId||"No Quiz ID Available"})]})]}),f.jsxs(ge,{sx:{mt:2,display:"flex",gap:2},children:[f.jsx(mt,{variant:"outlined",startIcon:f.jsx(JN,{}),onClick:()=>s.quizId&&K(s.quizId),size:"small",sx:{fontFamily:"Gabarito, sans-serif",color:"#0B53C0",borderColor:"#0B53C0","&:hover":{backgroundColor:"#0B53C0",color:"#FFFFFF"}},children:"View Quiz Questions"}),f.jsx(WE,{badgeContent:l.length,color:"primary",children:f.jsx(mt,{variant:"outlined",size:"small",sx:{fontFamily:"Gabarito, sans-serif",color:"#0B53C0",borderColor:"#0B53C0"},children:"Quiz Sessions"})})]})]})]})}),c&&f.jsx(SJ,{analytics:c}),s&&f.jsx(Xa,{sx:{backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:f.jsxs(Za,{sx:{p:3},children:[f.jsxs(ge,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[f.jsxs(ce,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1,fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.5rem"},children:[f.jsx(zc,{color:"primary"}),"Quiz Sessions",f.jsx(WE,{badgeContent:l.length,color:"primary",sx:{ml:1}})]}),f.jsxs(Bw,{direction:"row",spacing:2,alignItems:"center",flexWrap:"wrap",children:[f.jsx(Bt,{size:"small",label:"Filter by User ID",placeholder:"Enter user ID...",value:Q,onChange:te=>Y(te.target.value),sx:{minWidth:200}}),f.jsxs(Fc,{size:"small",sx:{minWidth:120},children:[f.jsx(Pc,{children:"Difficulty"}),f.jsxs(Rl,{value:g.difficulty||"all",label:"Difficulty",onChange:te=>ee(te.target.value),children:[f.jsx(Zn,{value:"all",children:"All Levels"}),f.jsx(Zn,{value:"easy",children:"Easy"}),f.jsx(Zn,{value:"medium",children:"Medium"}),f.jsx(Zn,{value:"hard",children:"Hard"})]})]}),f.jsxs(Fc,{size:"small",sx:{minWidth:120},children:[f.jsx(Pc,{children:"Status"}),f.jsxs(Rl,{value:g.completionStatus||"all",label:"Status",onChange:te=>le(te.target.value),children:[f.jsx(Zn,{value:"all",children:"All Sessions"}),f.jsx(Zn,{value:"completed",children:"Completed"}),f.jsx(Zn,{value:"incomplete",children:"In Progress"})]})]})]})]}),f.jsx(wJ,{sessions:l,loading:d,onViewDetails:N,onExportSession:G})]})}),b&&f.jsx(CJ,{session:b,open:L,onClose:()=>k(!1)}),(s==null?void 0:s.quizId)&&f.jsx(AJ,{quizId:s.quizId,open:M,onClose:()=>q(!1)})]})},_J=X.lazy(()=>Li(()=>import("./index-CDKSgNNr.js"),__vite__mapDeps([7,4,1,5]))),kJ=X.lazy(()=>Li(()=>import("./index-DM7OAbyJ.js"),__vite__mapDeps([8,4,1,5,9,10]))),jJ=X.lazy(()=>Li(()=>import("./SupplementalMaterials-D5YJnfWV.js"),__vite__mapDeps([11,4,1,5]))),NJ=X.lazy(()=>Li(()=>import("./MessagesPage-fzInNSK3.js"),__vite__mapDeps([12,4,1,5,9]))),Py=({element:e})=>f.jsx(kT,{children:f.jsx(Js,{element:e})}),TJ=({element:e})=>f.jsx(iv,{children:e}),OJ=(e,n)=>[{path:"/",element:e?f.jsx(kT,{children:f.jsx(bM,{})}):f.jsx(TJ,{element:f.jsx(_J,{})})},{path:"/messages",element:f.jsx(Py,{element:NJ})},{path:"/laboratory-notebooks",element:f.jsx(Py,{element:kJ})},{path:"/supplemental-materials",element:f.jsx(Py,{element:jJ})},{path:"/my-profile",element:f.jsx(Py,{element:BK})},{path:"/add-material",element:f.jsx(Js,{element:OO})},{path:"/edit-material/:id",element:f.jsx(Js,{element:iQ})},{path:"/view-material/:id",element:f.jsx(Js,{element:NK})},{path:"/add-message",element:f.jsx(Js,{element:TK})},{path:"/edit-message/:id",element:f.jsx(Js,{element:OK})},{path:"/chatbot-management",element:f.jsx(Js,{element:bX})},{path:"/course-management",element:f.jsx(Js,{element:ZK})},{path:"/request-chatbot",element:f.jsx(Js,{element:vX})},{path:"/quiz-management",element:f.jsx(Js,{element:EJ})},{path:"/request-educator-permissions",element:f.jsx(Js,{element:sX})},{path:"/educator-requests",element:f.jsx(Js,{element:oX})},{path:"/request-new-course",element:f.jsx(lX,{})},{path:"/course-requests",element:f.jsx(uX,{})},{path:"/super-admin-course-management",element:f.jsx(hX,{})},{path:"/super-admin-chatbot-requests",element:f.jsx(Js,{element:hJ})},...n?[{path:"/user-management",element:f.jsx(Js,{element:RK})},{path:"/chatbot-conversations",element:f.jsx(Js,{element:fJ})}]:[],{path:"*",element:f.jsx(ST,{to:"/"})}],IJ=VN(jT()),DJ=yp()(av((e,n)=>({isOpen:!0,isMobile:!1,messagesExpanded:!1,setOpen:t=>e({isOpen:t}),setMobile:t=>e({isMobile:t}),toggleMessages:()=>e(t=>({messagesExpanded:!t.messagesExpanded})),toggleSidebar:()=>e(t=>({isOpen:!t.isOpen}))}),{name:"nexlab-sidebar-storage",partialize:e=>({isOpen:e.isOpen,messagesExpanded:e.messagesExpanded})})),LJ=()=>{const e=ER(),n=$w(e.breakpoints.down("md"));return{...DJ(),isMobile:n}},RJ=({children:e})=>{const n=ea(),t=zg(),{userDetails:r,isSuperAdmin:i}=Ai(),[a,s]=X.useState(!1),{isOpen:l,isMobile:c,messagesExpanded:d,setOpen:h,toggleMessages:g,toggleSidebar:b}=LJ(),m=L=>{n(L),c&&h(!1)},x=()=>{r!=null&&r.uid?navigator.clipboard.writeText(r.uid).then(()=>{s(!0),setTimeout(()=>s(!1),2e3)}).catch(L=>console.error("Could not copy text: ",L)):console.error("User details are null or undefined")},y=L=>t.pathname===L,A=()=>i?f.jsx(si,{title:"Super Admin Account",placement:"top",enterDelay:300,leaveDelay:200,children:f.jsx(Dn,{label:"Super-Admin",variant:"outlined",sx:{borderRadius:"15px",fontWeight:ut.fontWeight.bold,background:"#ffcdd2",color:"#c62828",fontFamily:ut.fontFamily.display,fontSize:ut.fontSize.base,height:28,border:"1px solid #c62828",cursor:"pointer",transition:"background-color 0.3s","&:hover":{backgroundColor:"#ffb3ba"}}})}):r!=null&&r.isAdmin?f.jsx(si,{title:"Educator Account",placement:"top",enterDelay:300,leaveDelay:200,children:f.jsx(Dn,{label:"Educator",variant:"outlined",sx:{borderRadius:"15px",fontWeight:ut.fontWeight.bold,background:"#ffcdd2",color:"#c62828",fontFamily:ut.fontFamily.display,fontSize:ut.fontSize.base,height:28,border:"1px solid #c62828",cursor:"pointer",transition:"background-color 0.3s","&:hover":{backgroundColor:"#ffb3ba"}}})}):f.jsx(si,{title:"Student Account",placement:"top",enterDelay:300,leaveDelay:200,children:f.jsx(Dn,{label:"Student",variant:"outlined",sx:{borderRadius:"15px",fontWeight:ut.fontWeight.bold,background:"#bbdefb",color:"#1e88e5",fontFamily:ut.fontFamily.display,fontSize:ut.fontSize.base,height:28,border:"1px solid #1e88e5",cursor:"pointer",transition:"background-color 0.3s","&:hover":{backgroundColor:"#90caf9"}}})}),w=[{title:"My Account",icon:f.jsx(zw,{}),path:"/my-profile",roles:["student","educator","superadmin"],color:Ue.primary[500]},{title:"Messages",icon:f.jsx(YN,{}),path:"/messages",roles:["student","educator","superadmin"],expandable:!0,color:Ue.info},{title:"Course Materials",icon:f.jsx(Fd,{}),path:"/supplemental-materials",roles:["student","educator","superadmin"],color:Ue.warning},{title:"Laboratory Notebook",icon:f.jsx(x6,{}),path:"/laboratory-notebooks",roles:["student","educator","superadmin"],disabled:r&&!r.isAdmin&&(!r.classes||Object.keys(r.classes).length===0),color:Ue.secondary[500]}],C=[{title:"Course Management",icon:f.jsx(wx,{}),path:"/course-management",roles:["educator","superadmin"],color:Ue.primary[600]},{title:"Chatbot Management",icon:f.jsx(VE,{}),path:"/chatbot-management",roles:["educator","superadmin"],color:Ue.secondary[600]},{title:"Quiz Management",icon:f.jsx(zc,{}),path:"/quiz-management",roles:["educator","superadmin"],color:Ue.warning},{title:"Request Chatbot",icon:f.jsx(VE,{}),path:"/request-chatbot",roles:["educator","superadmin"],color:Ue.info}],j=[{title:"User Management",icon:f.jsx(TR,{}),path:"/user-management",roles:["superadmin"],color:Ue.error},{title:"Educator Requests",icon:f.jsx(YE,{}),path:"/educator-requests",roles:["superadmin"],color:Ue.info},{title:"Course Requests",icon:f.jsx(wx,{}),path:"/course-requests",roles:["superadmin"],color:Ue.primary[600]},{title:"Super Admin Chatbot Requests",icon:f.jsx(YE,{}),path:"/super-admin-chatbot-requests",roles:["superadmin"],color:Ue.warning},{title:"Chatbot Conversations",icon:f.jsx(eT,{}),path:"/chatbot-conversations",roles:["superadmin"],color:Ue.primary[700]},{title:"Super Admin Course Management",icon:f.jsx(OR,{}),path:"/super-admin-course-management",roles:["superadmin"],color:Ue.secondary[700]}],F=L=>{const k=y(L.path),M=i?"superadmin":r!=null&&r.isAdmin?"educator":"student";if(!L.roles.includes(M))return null;const Q=f.jsxs(a1,{onClick:()=>L.expandable?g():m(L.path),disabled:L.disabled,sx:{minHeight:56,justifyContent:l?"initial":"center",px:l?3:2,mx:1,borderRadius:Zt.lg,backgroundColor:k?L.color:"transparent",color:k?Ue.text.inverse:Ue.text.primary,fontFamily:ut.fontFamily.display,fontWeight:k?ut.fontWeight.bold:ut.fontWeight.medium,fontSize:ut.fontSize.lg,transition:bo.transitions.normal,boxShadow:k?cn.sm:"none","&:hover":{backgroundColor:k?L.color:Ue.neutral[100],transform:"translateY(-1px)",boxShadow:k?cn.md:cn.sm},"&:disabled":{opacity:.5,cursor:"not-allowed"}},children:[f.jsx(Wy,{sx:{minWidth:0,mr:l?2:"auto",justifyContent:"center",color:k?Ue.text.inverse:L.color,transition:bo.transitions.fast},children:L.icon}),l&&f.jsx(Il,{primary:L.title,sx:{opacity:l?1:0,"& .MuiListItemText-primary":{fontSize:ut.fontSize.lg,fontWeight:k?ut.fontWeight.bold:ut.fontWeight.medium,fontFamily:ut.fontFamily.display}}}),L.expandable&&l&&f.jsx(ge,{sx:{ml:"auto"},children:d?f.jsx(ag,{}):f.jsx(Vo,{})})]});return L.disabled&&l?f.jsx(si,{title:"Enroll in a course to access this feature",placement:"right",children:f.jsx("span",{children:Q})}):Q},z=f.jsxs(ge,{sx:{height:"100%",display:"flex",flexDirection:"column",backgroundColor:Ue.background.secondary,borderRight:`1px solid ${Ue.neutral[200]}`},children:[f.jsxs(ge,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:l?3:2,minHeight:80,backgroundColor:Ue.background.primary,borderBottom:`1px solid ${Ue.neutral[200]}`,boxShadow:cn.sm},children:[l&&f.jsx(ge,{sx:{display:"flex",alignItems:"center",gap:2,flex:1},children:f.jsx(ge,{sx:{flex:1}})}),f.jsx(Cn,{onClick:b,sx:{backgroundColor:Ue.primary[100],color:Ue.primary[600],"&:hover":{backgroundColor:Ue.primary[200],transform:"scale(1.05)"},transition:bo.transitions.fast,borderRadius:Zt.lg,zIndex:1001},children:l?f.jsx(_R,{}):f.jsx(kR,{})})]}),r&&l&&f.jsx(ge,{sx:{p:2,borderBottom:`1px solid ${Ue.neutral[200]}`,backgroundColor:Ue.background.primary},children:f.jsxs(ge,{sx:{mb:2},children:[f.jsx(ce,{variant:"caption",sx:{fontFamily:ut.fontFamily.secondary,color:Ue.text.secondary,fontSize:ut.fontSize.xs,display:"block",mb:1},children:"User Status & ID"}),f.jsxs(ge,{sx:{p:1.5,backgroundColor:Ue.neutral[50],borderRadius:Zt.lg,border:`1px solid ${Ue.neutral[200]}`},children:[f.jsx(ge,{sx:{display:"flex",alignItems:"center",mb:1.5},children:A()}),f.jsx(ge,{sx:{display:"flex",alignItems:"center",gap:1},children:f.jsx(si,{title:a?"Copied!":"Click to Copy",enterDelay:300,leaveDelay:200,children:f.jsx(Dn,{label:`User ID: ${r.uid}`,variant:"outlined",onClick:x,sx:{borderRadius:"15px",fontSize:ut.fontSize.base,fontWeight:ut.fontWeight.bold,background:"#e0f2f1",color:"#00695c",cursor:"pointer",transition:"background-color 0.3s",fontFamily:ut.fontFamily.display,flex:1,"&:hover":{backgroundColor:"#b2dfdb"}}})})})]})]})}),f.jsxs(ge,{sx:{flexGrow:1,overflow:"auto",py:2,"&::-webkit-scrollbar":{width:l?"8px":"6px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:l?Ue.neutral[300]:Ue.neutral[200],borderRadius:"4px","&:hover":{background:l?Ue.neutral[400]:Ue.neutral[300]}},"&::-webkit-scrollbar-thumb:hover":{background:l?Ue.neutral[400]:Ue.neutral[300]},scrollbarWidth:"thin",scrollbarColor:`${l?Ue.neutral[300]:Ue.neutral[200]} transparent`},children:[f.jsx(Uf,{sx:{px:1},children:w.map((L,k)=>f.jsxs(Cd,{disablePadding:!0,sx:{display:"block",mb:.5},children:[F(L),L.expandable&&l&&f.jsx(sg,{in:d,timeout:"auto",unmountOnExit:!0,children:f.jsxs(Uf,{component:"div",disablePadding:!0,sx:{mt:1},children:[f.jsx(a1,{sx:{pl:6,mx:1,borderRadius:Zt.lg,backgroundColor:Ue.neutral[50],"&:hover":{backgroundColor:Ue.neutral[100]}},onClick:()=>m("/messages"),children:f.jsx(Il,{primary:"View Messages",sx:{"& .MuiListItemText-primary":{fontSize:ut.fontSize.sm,fontFamily:ut.fontFamily.secondary}}})}),f.jsx(a1,{sx:{pl:6,mx:1,borderRadius:Zt.lg,backgroundColor:Ue.neutral[50],"&:hover":{backgroundColor:Ue.neutral[100]}},onClick:()=>m("/add-message"),children:f.jsx(Il,{primary:"Add Message",sx:{"& .MuiListItemText-primary":{fontSize:ut.fontSize.sm,fontFamily:ut.fontFamily.secondary}}})})]})})]},k))}),(r==null?void 0:r.isAdmin)&&f.jsxs(f.Fragment,{children:[f.jsx(ts,{sx:{my:3,mx:2,borderColor:Ue.neutral[200]}}),f.jsx(ge,{sx:{px:3,py:1},children:l&&f.jsx(ce,{variant:"caption",sx:{fontFamily:ut.fontFamily.display,fontWeight:ut.fontWeight.bold,color:Ue.warning,fontSize:ut.fontSize.xs,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Educator Tools"})}),f.jsx(Uf,{sx:{px:1},children:C.map((L,k)=>f.jsx(Cd,{disablePadding:!0,sx:{display:"block",mb:.5},children:F(L)},`educator-${k}`))})]}),i&&f.jsxs(f.Fragment,{children:[f.jsx(ts,{sx:{my:3,mx:2,borderColor:Ue.neutral[200]}}),f.jsx(ge,{sx:{px:3,py:1},children:l&&f.jsx(ce,{variant:"caption",sx:{fontFamily:ut.fontFamily.display,fontWeight:ut.fontWeight.bold,color:Ue.error,fontSize:ut.fontSize.xs,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Super Admin Tools"})}),f.jsx(Uf,{sx:{px:1},children:j.map((L,k)=>f.jsx(Cd,{disablePadding:!0,sx:{display:"block",mb:.5},children:F(L)},`superadmin-${k}`))})]}),f.jsxs(ge,{sx:{mt:"auto",p:2,borderTop:`1px solid ${Ue.neutral[200]}`,backgroundColor:Ue.background.primary},children:[f.jsx(ge,{sx:{mb:2},children:f.jsxs(a1,{onClick:()=>{window.open("https://help.waveshi.org","_blank","noopener,noreferrer")},sx:{borderRadius:Zt.lg,backgroundColor:Ue.secondary[50],color:Ue.secondary[700],fontFamily:ut.fontFamily.secondary,fontWeight:ut.fontWeight.medium,fontSize:ut.fontSize.sm,"&:hover":{backgroundColor:Ue.secondary[100],transform:"translateY(-1px)",boxShadow:cn.sm},transition:bo.transitions.normal},children:[f.jsx(Wy,{sx:{color:Ue.secondary[600]},children:f.jsx(jR,{})}),l&&f.jsx(Il,{primary:"Provide Feedback",sx:{"& .MuiListItemText-primary":{fontSize:ut.fontSize.sm,fontWeight:ut.fontWeight.medium,fontFamily:ut.fontFamily.secondary}}})]})}),f.jsxs(a1,{onClick:async()=>{try{await AT.signOut()}catch(L){console.error("Logout failed:",L)}},sx:{borderRadius:Zt.lg,backgroundColor:Ue.error+"20",color:Ue.error,fontFamily:ut.fontFamily.secondary,fontWeight:ut.fontWeight.medium,fontSize:ut.fontSize.sm,"&:hover":{backgroundColor:Ue.error+"30",transform:"translateY(-1px)",boxShadow:cn.sm},transition:bo.transitions.normal},children:[f.jsx(Wy,{sx:{color:Ue.error},children:f.jsx(NR,{})}),l&&f.jsx(Il,{primary:"Logout",sx:{"& .MuiListItemText-primary":{fontSize:ut.fontSize.sm,fontWeight:ut.fontWeight.medium,fontFamily:ut.fontFamily.secondary}}})]})]})]})]});return f.jsxs(ge,{sx:{display:"flex",height:"100%",width:"100%"},children:[f.jsx(ge,{sx:{width:l?320:100,height:"100%",flexShrink:0,transition:bo.transitions.normal,backgroundColor:Ue.primary[100],borderRight:`1px solid ${Ue.primary[200]}`,boxShadow:cn.lg,overflow:"hidden",position:"relative",zIndex:1e3,"&::-webkit-scrollbar":{width:l?"8px":"6px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:l?Ue.neutral[300]:Ue.neutral[200],borderRadius:"4px","&:hover":{background:l?Ue.neutral[400]:Ue.neutral[300]}},scrollbarWidth:"thin",scrollbarColor:`${l?Ue.neutral[300]:Ue.neutral[200]} transparent`},children:z}),f.jsx(ge,{sx:{flexGrow:1,height:"100%",backgroundColor:"#F0F4FF",overflow:"auto",transition:bo.transitions.normal},children:e})]})},MJ=()=>f.jsx(ge,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start",padding:rn[4],backgroundColor:Ue.primary[100],borderBottom:`1px solid ${Ue.primary[200]}`,boxShadow:cn.sm,height:"12.5vh",minHeight:90},children:f.jsxs(ge,{sx:{display:"flex",alignItems:"center",gap:rn[4],width:"100%"},children:[f.jsx("img",{src:"/nexlab/nexlab-logo.png",alt:"NexLab Logo",style:{height:85,borderRadius:Zt.lg}}),f.jsx(ge,{className:"divider",sx:{height:"85px",borderLeft:`2px solid ${Ue.primary[500]}`,marginRight:rn[5]}}),f.jsx(ce,{variant:"h4",component:"p",sx:{color:Ue.primary[700],fontFamily:ut.fontFamily.secondary,fontSize:ut.fontSize["2xl"],fontWeight:ut.fontWeight.normal,whiteSpace:"nowrap",flex:1},children:"Next-Generation Experiments and Learning for Advanced Biotech"})]})}),FJ=()=>f.jsxs(ge,{sx:{backgroundColor:Ue.primary[100],borderTop:`1px solid ${Ue.primary[200]}`,height:"10vh",minHeight:70,display:"flex",flexDirection:"column",justifyContent:"center"},children:[f.jsx(ts,{}),f.jsxs(ge,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flex:1,px:rn[4],gap:rn[4]},children:[f.jsx(ge,{sx:{flex:.25,display:"flex",justifyContent:"center"},children:f.jsx("img",{src:"/nexlab/FooterLogoLong.png",alt:"Partner Logos",style:{height:60,borderRadius:Zt.lg,border:`1px solid ${Ue.primary[700]}`,opacity:.8}})}),f.jsx(ge,{className:"divider",sx:{height:"60px",borderLeft:`2px solid ${Ue.primary[500]}`,opacity:.8}}),f.jsx(ge,{sx:{flex:.4},children:f.jsx(ce,{variant:"body2",sx:{color:Ue.primary[700],fontFamily:ut.fontFamily.secondary,fontSize:ut.fontSize.sm,lineHeight:1.4,opacity:.8},children:"This project is supported by the National Science Foundation (NSF) under grant number #2300976. Any opinions, findings, and conclusions or recommendations expressed in this material, however, are those of the authors and do not necessarily reflect the views of NSF."})}),f.jsx(ge,{className:"divider",sx:{height:"60px",borderLeft:`2px solid ${Ue.primary[500]}`,opacity:.8}}),f.jsxs(ge,{sx:{flex:.1},children:[f.jsx(ce,{variant:"body2",sx:{color:Ue.primary[700],fontFamily:ut.fontFamily.secondary,fontSize:ut.fontSize.sm,lineHeight:1.4,opacity:.8,mb:1},children:"Legal:"}),f.jsxs(ce,{variant:"body2",sx:{color:Ue.primary[700],fontFamily:ut.fontFamily.secondary,fontSize:ut.fontSize.sm,lineHeight:1.4,opacity:.8},children:[f.jsx("a",{href:"https://intofuture.org/nexlab-privacy.html",target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",textDecoration:"underline",opacity:.8},children:"Privacy Policy"}),"  ",f.jsx("a",{href:"https://intofuture.org/nexlab-terms.html",target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",textDecoration:"underline",opacity:.8},children:"Terms of Service"})]})]}),f.jsx(ge,{className:"divider",sx:{height:"60px",borderLeft:`2px solid ${Ue.primary[500]}`,opacity:.8}}),f.jsx(ge,{sx:{flex:.25},children:f.jsx(ce,{variant:"body2",sx:{color:Ue.primary[700],fontFamily:ut.fontFamily.secondary,fontSize:ut.fontSize.sm,lineHeight:1.4,opacity:.8},children:" 2025 Institute for Future Intelligence and Kapi'olani Community College Antibody Engineering & Research Projects"})})]})]}),_4=["http","https","mailto","tel"];function PJ(e){const n=(e||"").trim(),t=n.charAt(0);if(t==="#"||t==="/")return n;const r=n.indexOf(":");if(r===-1)return n;let i=-1;for(;++i<_4.length;){const a=_4[i];if(r===a.length&&n.slice(0,a.length).toLowerCase()===a)return n}return i=n.indexOf("?"),i!==-1&&r>i||(i=n.indexOf("#"),i!==-1&&r>i)?n:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var hw,k4;function zJ(){return k4||(k4=1,hw=function(n){return n!=null&&n.constructor!=null&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}),hw}var qJ=zJ();const qI=ns(qJ);function J1(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?j4(e.position):"start"in e||"end"in e?j4(e):"line"in e||"column"in e?HS(e):""}function HS(e){return N4(e&&e.line)+":"+N4(e&&e.column)}function j4(e){return HS(e&&e.start)+"-"+HS(e&&e.end)}function N4(e){return e&&typeof e=="number"?e:1}class Pl extends Error{constructor(n,t,r){const i=[null,null];let a={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof t=="string"&&(r=t,t=void 0),typeof r=="string"){const s=r.indexOf(":");s===-1?i[1]=r:(i[0]=r.slice(0,s),i[1]=r.slice(s+1))}t&&("type"in t||"position"in t?t.position&&(a=t.position):"start"in t||"end"in t?a=t:("line"in t||"column"in t)&&(a.start=t)),this.name=J1(t)||"1:1",this.message=typeof n=="object"?n.message:n,this.stack="",typeof n=="object"&&n.stack&&(this.stack=n.stack),this.reason=this.message,this.fatal,this.line=a.start.line,this.column=a.start.column,this.position=a,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}Pl.prototype.file="";Pl.prototype.name="";Pl.prototype.reason="";Pl.prototype.message="";Pl.prototype.stack="";Pl.prototype.fatal=null;Pl.prototype.column=null;Pl.prototype.line=null;Pl.prototype.source=null;Pl.prototype.ruleId=null;Pl.prototype.position=null;const fc={basename:BJ,dirname:UJ,extname:$J,join:HJ,sep:"/"};function BJ(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');eb(e);let t=0,r=-1,i=e.length,a;if(n===void 0||n.length===0||n.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(a){t=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(t,r)}if(n===e)return"";let s=-1,l=n.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(a){t=i+1;break}}else s<0&&(a=!0,s=i+1),l>-1&&(e.charCodeAt(i)===n.charCodeAt(l--)?l<0&&(r=i):(l=-1,r=s));return t===r?r=s:r<0&&(r=e.length),e.slice(t,r)}function UJ(e){if(eb(e),e.length===0)return".";let n=-1,t=e.length,r;for(;--t;)if(e.charCodeAt(t)===47){if(r){n=t;break}}else r||(r=!0);return n<0?e.charCodeAt(0)===47?"/":".":n===1&&e.charCodeAt(0)===47?"//":e.slice(0,n)}function $J(e){eb(e);let n=e.length,t=-1,r=0,i=-1,a=0,s;for(;n--;){const l=e.charCodeAt(n);if(l===47){if(s){r=n+1;break}continue}t<0&&(s=!0,t=n+1),l===46?i<0?i=n:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||t<0||a===0||a===1&&i===t-1&&i===r+1?"":e.slice(i,t)}function HJ(...e){let n=-1,t;for(;++n<e.length;)eb(e[n]),e[n]&&(t=t===void 0?e[n]:t+"/"+e[n]);return t===void 0?".":WJ(t)}function WJ(e){eb(e);const n=e.charCodeAt(0)===47;let t=VJ(e,!n);return t.length===0&&!n&&(t="."),t.length>0&&e.charCodeAt(e.length-1)===47&&(t+="/"),n?"/"+t:t}function VJ(e,n){let t="",r=0,i=-1,a=0,s=-1,l,c;for(;++s<=e.length;){if(s<e.length)l=e.charCodeAt(s);else{if(l===47)break;l=47}if(l===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){if(c=t.lastIndexOf("/"),c!==t.length-1){c<0?(t="",r=0):(t=t.slice(0,c),r=t.length-1-t.lastIndexOf("/")),i=s,a=0;continue}}else if(t.length>0){t="",r=0,i=s,a=0;continue}}n&&(t=t.length>0?t+"/..":"..",r=2)}else t.length>0?t+="/"+e.slice(i+1,s):t=e.slice(i+1,s),r=s-i-1;i=s,a=0}else l===46&&a>-1?a++:a=-1}return t}function eb(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const YJ={cwd:GJ};function GJ(){return"/"}function WS(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function QJ(e){if(typeof e=="string")e=new URL(e);else if(!WS(e)){const n=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw n.code="ERR_INVALID_ARG_TYPE",n}if(e.protocol!=="file:"){const n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return KJ(e)}function KJ(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const n=e.pathname;let t=-1;for(;++t<n.length;)if(n.charCodeAt(t)===37&&n.charCodeAt(t+1)===50){const r=n.charCodeAt(t+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(n)}const pw=["history","path","basename","stem","extname","dirname"];class BI{constructor(n){let t;n?typeof n=="string"||XJ(n)?t={value:n}:WS(n)?t={path:n}:t=n:t={},this.data={},this.messages=[],this.history=[],this.cwd=YJ.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<pw.length;){const a=pw[r];a in t&&t[a]!==void 0&&t[a]!==null&&(this[a]=a==="history"?[...t[a]]:t[a])}let i;for(i in t)pw.includes(i)||(this[i]=t[i])}get path(){return this.history[this.history.length-1]}set path(n){WS(n)&&(n=QJ(n)),gw(n,"path"),this.path!==n&&this.history.push(n)}get dirname(){return typeof this.path=="string"?fc.dirname(this.path):void 0}set dirname(n){T4(this.basename,"dirname"),this.path=fc.join(n||"",this.basename)}get basename(){return typeof this.path=="string"?fc.basename(this.path):void 0}set basename(n){gw(n,"basename"),mw(n,"basename"),this.path=fc.join(this.dirname||"",n)}get extname(){return typeof this.path=="string"?fc.extname(this.path):void 0}set extname(n){if(mw(n,"extname"),T4(this.dirname,"extname"),n){if(n.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(n.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=fc.join(this.dirname,this.stem+(n||""))}get stem(){return typeof this.path=="string"?fc.basename(this.path,this.extname):void 0}set stem(n){gw(n,"stem"),mw(n,"stem"),this.path=fc.join(this.dirname||"",n+(this.extname||""))}toString(n){return(this.value||"").toString(n||void 0)}message(n,t,r){const i=new Pl(n,t,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(n,t,r){const i=this.message(n,t,r);return i.fatal=null,i}fail(n,t,r){const i=this.message(n,t,r);throw i.fatal=!0,i}}function mw(e,n){if(e&&e.includes(fc.sep))throw new Error("`"+n+"` cannot be a path: did not expect `"+fc.sep+"`")}function gw(e,n){if(!e)throw new Error("`"+n+"` cannot be empty")}function T4(e,n){if(!e)throw new Error("Setting `"+n+"` requires `path` to be set too")}function XJ(e){return qI(e)}function O4(e){if(e)throw e}var bw,I4;function ZJ(){if(I4)return bw;I4=1;var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString,t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(d){return typeof Array.isArray=="function"?Array.isArray(d):n.call(d)==="[object Array]"},a=function(d){if(!d||n.call(d)!=="[object Object]")return!1;var h=e.call(d,"constructor"),g=d.constructor&&d.constructor.prototype&&e.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!h&&!g)return!1;var b;for(b in d);return typeof b>"u"||e.call(d,b)},s=function(d,h){t&&h.name==="__proto__"?t(d,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):d[h.name]=h.newValue},l=function(d,h){if(h==="__proto__")if(e.call(d,h)){if(r)return r(d,h).value}else return;return d[h]};return bw=function c(){var d,h,g,b,m,x,y=arguments[0],A=1,w=arguments.length,C=!1;for(typeof y=="boolean"&&(C=y,y=arguments[1]||{},A=2),(y==null||typeof y!="object"&&typeof y!="function")&&(y={});A<w;++A)if(d=arguments[A],d!=null)for(h in d)g=l(y,h),b=l(d,h),y!==b&&(C&&b&&(a(b)||(m=i(b)))?(m?(m=!1,x=g&&i(g)?g:[]):x=g&&a(g)?g:{},s(y,{name:h,newValue:c(C,x,b)})):typeof b<"u"&&s(y,{name:h,newValue:b}));return y},bw}var JJ=ZJ();const D4=ns(JJ);function VS(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function eee(){const e=[],n={run:t,use:r};return n;function t(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);l(null,...i);function l(c,...d){const h=e[++a];let g=-1;if(c){s(c);return}for(;++g<i.length;)(d[g]===null||d[g]===void 0)&&(d[g]=i[g]);i=d,h?tee(h,l)(...d):s(null,...d)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),n}}function tee(e,n){let t;return r;function r(...s){const l=e.length>s.length;let c;l&&s.push(i);try{c=e.apply(this,s)}catch(d){const h=d;if(l&&t)throw h;return i(h)}l||(c&&c.then&&typeof c.then=="function"?c.then(a,i):c instanceof Error?i(c):a(c))}function i(s,...l){t||(t=!0,n(s,...l))}function a(s){i(null,s)}}const nee=$I().freeze(),UI={}.hasOwnProperty;function $I(){const e=eee(),n=[];let t={},r,i=-1;return a.data=s,a.Parser=void 0,a.Compiler=void 0,a.freeze=l,a.attachers=n,a.use=c,a.parse=d,a.stringify=h,a.run=g,a.runSync=b,a.process=m,a.processSync=x,a;function a(){const y=$I();let A=-1;for(;++A<n.length;)y.use(...n[A]);return y.data(D4(!0,{},t)),y}function s(y,A){return typeof y=="string"?arguments.length===2?(vw("data",r),t[y]=A,a):UI.call(t,y)&&t[y]||null:y?(vw("data",r),t=y,a):t}function l(){if(r)return a;for(;++i<n.length;){const[y,...A]=n[i];if(A[0]===!1)continue;A[0]===!0&&(A[0]=void 0);const w=y.call(a,...A);typeof w=="function"&&e.use(w)}return r=!0,i=Number.POSITIVE_INFINITY,a}function c(y,...A){let w;if(vw("use",r),y!=null)if(typeof y=="function")z(y,...A);else if(typeof y=="object")Array.isArray(y)?F(y):j(y);else throw new TypeError("Expected usable value, not `"+y+"`");return w&&(t.settings=Object.assign(t.settings||{},w)),a;function C(L){if(typeof L=="function")z(L);else if(typeof L=="object")if(Array.isArray(L)){const[k,...M]=L;z(k,...M)}else j(L);else throw new TypeError("Expected usable value, not `"+L+"`")}function j(L){F(L.plugins),L.settings&&(w=Object.assign(w||{},L.settings))}function F(L){let k=-1;if(L!=null)if(Array.isArray(L))for(;++k<L.length;){const M=L[k];C(M)}else throw new TypeError("Expected a list of plugins, not `"+L+"`")}function z(L,k){let M=-1,q;for(;++M<n.length;)if(n[M][0]===L){q=n[M];break}q?(VS(q[1])&&VS(k)&&(k=D4(!0,q[1],k)),q[1]=k):n.push([...arguments])}}function d(y){a.freeze();const A=k1(y),w=a.Parser;return yw("parse",w),L4(w,"parse")?new w(String(A),A).parse():w(String(A),A)}function h(y,A){a.freeze();const w=k1(A),C=a.Compiler;return xw("stringify",C),R4(y),L4(C,"compile")?new C(y,w).compile():C(y,w)}function g(y,A,w){if(R4(y),a.freeze(),!w&&typeof A=="function"&&(w=A,A=void 0),!w)return new Promise(C);C(null,w);function C(j,F){e.run(y,k1(A),z);function z(L,k,M){k=k||y,L?F(L):j?j(k):w(null,k,M)}}}function b(y,A){let w,C;return a.run(y,A,j),M4("runSync","run",C),w;function j(F,z){O4(F),w=z,C=!0}}function m(y,A){if(a.freeze(),yw("process",a.Parser),xw("process",a.Compiler),!A)return new Promise(w);w(null,A);function w(C,j){const F=k1(y);a.run(a.parse(F),F,(L,k,M)=>{if(L||!k||!M)z(L);else{const q=a.stringify(k,M);q==null||(aee(q)?M.value=q:M.result=q),z(L,M)}});function z(L,k){L||!k?j(L):C?C(k):A(null,k)}}}function x(y){let A;a.freeze(),yw("processSync",a.Parser),xw("processSync",a.Compiler);const w=k1(y);return a.process(w,C),M4("processSync","process",A),w;function C(j){A=!0,O4(j)}}}function L4(e,n){return typeof e=="function"&&e.prototype&&(ree(e.prototype)||n in e.prototype)}function ree(e){let n;for(n in e)if(UI.call(e,n))return!0;return!1}function yw(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function xw(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function vw(e,n){if(n)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function R4(e){if(!VS(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function M4(e,n,t){if(!t)throw new Error("`"+e+"` finished async. Use `"+n+"` instead")}function k1(e){return iee(e)?e:new BI(e)}function iee(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function aee(e){return typeof e=="string"||qI(e)}const see={};function oee(e,n){const t=see,r=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,i=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return HI(e,r,i)}function HI(e,n,t){if(lee(e)){if("value"in e)return e.type==="html"&&!t?"":e.value;if(n&&"alt"in e&&e.alt)return e.alt;if("children"in e)return F4(e.children,n,t)}return Array.isArray(e)?F4(e,n,t):""}function F4(e,n,t){const r=[];let i=-1;for(;++i<e.length;)r[i]=HI(e[i],n,t);return r.join("")}function lee(e){return!!(e&&typeof e=="object")}function $c(e,n,t,r){const i=e.length;let a=0,s;if(n<0?n=-n>i?0:i+n:n=n>i?i:n,t=t>0?t:0,r.length<1e4)s=Array.from(r),s.unshift(n,t),e.splice(...s);else for(t&&e.splice(n,t);a<r.length;)s=r.slice(a,a+1e4),s.unshift(n,0),e.splice(...s),a+=1e4,n+=1e4}function Nl(e,n){return e.length>0?($c(e,e.length,0,n),e):n}const P4={}.hasOwnProperty;function uee(e){const n={};let t=-1;for(;++t<e.length;)cee(n,e[t]);return n}function cee(e,n){let t;for(t in n){const i=(P4.call(e,t)?e[t]:void 0)||(e[t]={}),a=n[t];let s;if(a)for(s in a){P4.call(i,s)||(i[s]=[]);const l=a[s];dee(i[s],Array.isArray(l)?l:l?[l]:[])}}}function dee(e,n){let t=-1;const r=[];for(;++t<n.length;)(n[t].add==="after"?e:r).push(n[t]);$c(e,0,0,r)}const fee=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Ac=hh(/[A-Za-z]/),Ko=hh(/[\dA-Za-z]/),hee=hh(/[#-'*+\--9=?A-Z^-~]/);function YS(e){return e!==null&&(e<32||e===127)}const GS=hh(/\d/),pee=hh(/[\dA-Fa-f]/),mee=hh(/[!-/:-@[-`{-~]/);function mn(e){return e!==null&&e<-2}function vo(e){return e!==null&&(e<0||e===32)}function xr(e){return e===-2||e===-1||e===32}const gee=hh(fee),bee=hh(/\s/);function hh(e){return n;function n(t){return t!==null&&e.test(String.fromCharCode(t))}}function oi(e,n,t,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(c){return xr(c)?(e.enter(t),l(c)):n(c)}function l(c){return xr(c)&&a++<i?(e.consume(c),l):(e.exit(t),n(c))}}const yee={tokenize:xee};function xee(e){const n=e.attempt(this.parser.constructs.contentInitial,r,i);let t;return n;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),oi(e,n,"linePrefix")}function i(l){return e.enter("paragraph"),a(l)}function a(l){const c=e.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=c),t=c,s(l)}function s(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return mn(l)?(e.consume(l),e.exit("chunkText"),a):(e.consume(l),s)}}const vee={tokenize:wee},z4={tokenize:See};function wee(e){const n=this,t=[];let r=0,i,a,s;return l;function l(j){if(r<t.length){const F=t[r];return n.containerState=F[1],e.attempt(F[0].continuation,c,d)(j)}return d(j)}function c(j){if(r++,n.containerState._closeFlow){n.containerState._closeFlow=void 0,i&&C();const F=n.events.length;let z=F,L;for(;z--;)if(n.events[z][0]==="exit"&&n.events[z][1].type==="chunkFlow"){L=n.events[z][1].end;break}w(r);let k=F;for(;k<n.events.length;)n.events[k][1].end=Object.assign({},L),k++;return $c(n.events,z+1,0,n.events.slice(F)),n.events.length=k,d(j)}return l(j)}function d(j){if(r===t.length){if(!i)return b(j);if(i.currentConstruct&&i.currentConstruct.concrete)return x(j);n.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return n.containerState={},e.check(z4,h,g)(j)}function h(j){return i&&C(),w(r),b(j)}function g(j){return n.parser.lazy[n.now().line]=r!==t.length,s=n.now().offset,x(j)}function b(j){return n.containerState={},e.attempt(z4,m,x)(j)}function m(j){return r++,t.push([n.currentConstruct,n.containerState]),b(j)}function x(j){if(j===null){i&&C(),w(0),e.consume(j);return}return i=i||n.parser.flow(n.now()),e.enter("chunkFlow",{contentType:"flow",previous:a,_tokenizer:i}),y(j)}function y(j){if(j===null){A(e.exit("chunkFlow"),!0),w(0),e.consume(j);return}return mn(j)?(e.consume(j),A(e.exit("chunkFlow")),r=0,n.interrupt=void 0,l):(e.consume(j),y)}function A(j,F){const z=n.sliceStream(j);if(F&&z.push(null),j.previous=a,a&&(a.next=j),a=j,i.defineSkip(j.start),i.write(z),n.parser.lazy[j.start.line]){let L=i.events.length;for(;L--;)if(i.events[L][1].start.offset<s&&(!i.events[L][1].end||i.events[L][1].end.offset>s))return;const k=n.events.length;let M=k,q,Q;for(;M--;)if(n.events[M][0]==="exit"&&n.events[M][1].type==="chunkFlow"){if(q){Q=n.events[M][1].end;break}q=!0}for(w(r),L=k;L<n.events.length;)n.events[L][1].end=Object.assign({},Q),L++;$c(n.events,M+1,0,n.events.slice(k)),n.events.length=L}}function w(j){let F=t.length;for(;F-- >j;){const z=t[F];n.containerState=z[1],z[0].exit.call(n,e)}t.length=j}function C(){i.write([null]),a=void 0,i=void 0,n.containerState._closeFlow=void 0}}function See(e,n,t){return oi(e,e.attempt(this.parser.constructs.document,n,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function q4(e){if(e===null||vo(e)||bee(e))return 1;if(gee(e))return 2}function xA(e,n,t){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(n=a(n,t),r.push(a))}return n}const QS={name:"attention",tokenize:Cee,resolveAll:Aee};function Aee(e,n){let t=-1,r,i,a,s,l,c,d,h;for(;++t<e.length;)if(e[t][0]==="enter"&&e[t][1].type==="attentionSequence"&&e[t][1]._close){for(r=t;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&n.sliceSerialize(e[r][1]).charCodeAt(0)===n.sliceSerialize(e[t][1]).charCodeAt(0)){if((e[r][1]._close||e[t][1]._open)&&(e[t][1].end.offset-e[t][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[t][1].end.offset-e[t][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[t][1].end.offset-e[t][1].start.offset>1?2:1;const g=Object.assign({},e[r][1].end),b=Object.assign({},e[t][1].start);B4(g,-c),B4(b,c),s={type:c>1?"strongSequence":"emphasisSequence",start:g,end:Object.assign({},e[r][1].end)},l={type:c>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[t][1].start),end:b},a={type:c>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[t][1].start)},i={type:c>1?"strong":"emphasis",start:Object.assign({},s.start),end:Object.assign({},l.end)},e[r][1].end=Object.assign({},s.start),e[t][1].start=Object.assign({},l.end),d=[],e[r][1].end.offset-e[r][1].start.offset&&(d=Nl(d,[["enter",e[r][1],n],["exit",e[r][1],n]])),d=Nl(d,[["enter",i,n],["enter",s,n],["exit",s,n],["enter",a,n]]),d=Nl(d,xA(n.parser.constructs.insideSpan.null,e.slice(r+1,t),n)),d=Nl(d,[["exit",a,n],["enter",l,n],["exit",l,n],["exit",i,n]]),e[t][1].end.offset-e[t][1].start.offset?(h=2,d=Nl(d,[["enter",e[t][1],n],["exit",e[t][1],n]])):h=0,$c(e,r-1,t-r+3,d),t=r+d.length-h-2;break}}for(t=-1;++t<e.length;)e[t][1].type==="attentionSequence"&&(e[t][1].type="data");return e}function Cee(e,n){const t=this.parser.constructs.attentionMarkers.null,r=this.previous,i=q4(r);let a;return s;function s(c){return a=c,e.enter("attentionSequence"),l(c)}function l(c){if(c===a)return e.consume(c),l;const d=e.exit("attentionSequence"),h=q4(c),g=!h||h===2&&i||t.includes(c),b=!i||i===2&&h||t.includes(r);return d._open=!!(a===42?g:g&&(i||!b)),d._close=!!(a===42?b:b&&(h||!g)),n(c)}}function B4(e,n){e.column+=n,e.offset+=n,e._bufferIndex+=n}const Eee={name:"autolink",tokenize:_ee};function _ee(e,n,t){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(m){return Ac(m)?(e.consume(m),s):d(m)}function s(m){return m===43||m===45||m===46||Ko(m)?(r=1,l(m)):d(m)}function l(m){return m===58?(e.consume(m),r=0,c):(m===43||m===45||m===46||Ko(m))&&r++<32?(e.consume(m),l):(r=0,d(m))}function c(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),n):m===null||m===32||m===60||YS(m)?t(m):(e.consume(m),c)}function d(m){return m===64?(e.consume(m),h):hee(m)?(e.consume(m),d):t(m)}function h(m){return Ko(m)?g(m):t(m)}function g(m){return m===46?(e.consume(m),r=0,h):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),n):b(m)}function b(m){if((m===45||Ko(m))&&r++<63){const x=m===45?b:g;return e.consume(m),x}return t(m)}}const Lv={tokenize:kee,partial:!0};function kee(e,n,t){return r;function r(a){return xr(a)?oi(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||mn(a)?n(a):t(a)}}const WI={name:"blockQuote",tokenize:jee,continuation:{tokenize:Nee},exit:Tee};function jee(e,n,t){const r=this;return i;function i(s){if(s===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),a}return t(s)}function a(s){return xr(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),n):(e.exit("blockQuotePrefix"),n(s))}}function Nee(e,n,t){const r=this;return i;function i(s){return xr(s)?oi(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return e.attempt(WI,n,t)(s)}}function Tee(e){e.exit("blockQuote")}const VI={name:"characterEscape",tokenize:Oee};function Oee(e,n,t){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return mee(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),n):t(a)}}const U4=document.createElement("i");function vA(e){const n="&"+e+";";U4.innerHTML=n;const t=U4.textContent;return t.charCodeAt(t.length-1)===59&&e!=="semi"||t===n?!1:t}const YI={name:"characterReference",tokenize:Iee};function Iee(e,n,t){const r=this;let i=0,a,s;return l;function l(g){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),c}function c(g){return g===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(g),e.exit("characterReferenceMarkerNumeric"),d):(e.enter("characterReferenceValue"),a=31,s=Ko,h(g))}function d(g){return g===88||g===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(g),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=pee,h):(e.enter("characterReferenceValue"),a=7,s=GS,h(g))}function h(g){if(g===59&&i){const b=e.exit("characterReferenceValue");return s===Ko&&!vA(r.sliceSerialize(b))?t(g):(e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),e.exit("characterReference"),n)}return s(g)&&i++<a?(e.consume(g),h):t(g)}}const $4={tokenize:Lee,partial:!0},H4={name:"codeFenced",tokenize:Dee,concrete:!0};function Dee(e,n,t){const r=this,i={tokenize:z,partial:!0};let a=0,s=0,l;return c;function c(L){return d(L)}function d(L){const k=r.events[r.events.length-1];return a=k&&k[1].type==="linePrefix"?k[2].sliceSerialize(k[1],!0).length:0,l=L,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(L)}function h(L){return L===l?(s++,e.consume(L),h):s<3?t(L):(e.exit("codeFencedFenceSequence"),xr(L)?oi(e,g,"whitespace")(L):g(L))}function g(L){return L===null||mn(L)?(e.exit("codeFencedFence"),r.interrupt?n(L):e.check($4,y,F)(L)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),b(L))}function b(L){return L===null||mn(L)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),g(L)):xr(L)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),oi(e,m,"whitespace")(L)):L===96&&L===l?t(L):(e.consume(L),b)}function m(L){return L===null||mn(L)?g(L):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),x(L))}function x(L){return L===null||mn(L)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),g(L)):L===96&&L===l?t(L):(e.consume(L),x)}function y(L){return e.attempt(i,F,A)(L)}function A(L){return e.enter("lineEnding"),e.consume(L),e.exit("lineEnding"),w}function w(L){return a>0&&xr(L)?oi(e,C,"linePrefix",a+1)(L):C(L)}function C(L){return L===null||mn(L)?e.check($4,y,F)(L):(e.enter("codeFlowValue"),j(L))}function j(L){return L===null||mn(L)?(e.exit("codeFlowValue"),C(L)):(e.consume(L),j)}function F(L){return e.exit("codeFenced"),n(L)}function z(L,k,M){let q=0;return Q;function Q(K){return L.enter("lineEnding"),L.consume(K),L.exit("lineEnding"),T}function T(K){return L.enter("codeFencedFence"),xr(K)?oi(L,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(K):O(K)}function O(K){return K===l?(L.enter("codeFencedFenceSequence"),R(K)):M(K)}function R(K){return K===l?(q++,L.consume(K),R):q>=s?(L.exit("codeFencedFenceSequence"),xr(K)?oi(L,N,"whitespace")(K):N(K)):M(K)}function N(K){return K===null||mn(K)?(L.exit("codeFencedFence"),k(K)):M(K)}}}function Lee(e,n,t){const r=this;return i;function i(s){return s===null?t(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?t(s):n(s)}}const ww={name:"codeIndented",tokenize:Mee},Ree={tokenize:Fee,partial:!0};function Mee(e,n,t){const r=this;return i;function i(d){return e.enter("codeIndented"),oi(e,a,"linePrefix",5)(d)}function a(d){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?s(d):t(d)}function s(d){return d===null?c(d):mn(d)?e.attempt(Ree,s,c)(d):(e.enter("codeFlowValue"),l(d))}function l(d){return d===null||mn(d)?(e.exit("codeFlowValue"),s(d)):(e.consume(d),l)}function c(d){return e.exit("codeIndented"),n(d)}}function Fee(e,n,t){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?t(s):mn(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):oi(e,a,"linePrefix",5)(s)}function a(s){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?n(s):mn(s)?i(s):t(s)}}const Pee={name:"codeText",tokenize:Bee,resolve:zee,previous:qee};function zee(e){let n=e.length-4,t=3,r,i;if((e[t][1].type==="lineEnding"||e[t][1].type==="space")&&(e[n][1].type==="lineEnding"||e[n][1].type==="space")){for(r=t;++r<n;)if(e[r][1].type==="codeTextData"){e[t][1].type="codeTextPadding",e[n][1].type="codeTextPadding",t+=2,n-=2;break}}for(r=t-1,n++;++r<=n;)i===void 0?r!==n&&e[r][1].type!=="lineEnding"&&(i=r):(r===n||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),n-=r-i-2,r=i+2),i=void 0);return e}function qee(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Bee(e,n,t){let r=0,i,a;return s;function s(g){return e.enter("codeText"),e.enter("codeTextSequence"),l(g)}function l(g){return g===96?(e.consume(g),r++,l):(e.exit("codeTextSequence"),c(g))}function c(g){return g===null?t(g):g===32?(e.enter("space"),e.consume(g),e.exit("space"),c):g===96?(a=e.enter("codeTextSequence"),i=0,h(g)):mn(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),c):(e.enter("codeTextData"),d(g))}function d(g){return g===null||g===32||g===96||mn(g)?(e.exit("codeTextData"),c(g)):(e.consume(g),d)}function h(g){return g===96?(e.consume(g),i++,h):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),n(g)):(a.type="codeTextData",d(g))}}function GI(e){const n={};let t=-1,r,i,a,s,l,c,d;for(;++t<e.length;){for(;t in n;)t=n[t];if(r=e[t],t&&r[1].type==="chunkFlow"&&e[t-1][1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,a=0,a<c.length&&c[a][1].type==="lineEndingBlank"&&(a+=2),a<c.length&&c[a][1].type==="content"))for(;++a<c.length&&c[a][1].type!=="content";)c[a][1].type==="chunkText"&&(c[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(n,Uee(e,t)),t=n[t],d=!0);else if(r[1]._container){for(a=t,i=void 0;a--&&(s=e[a],s[1].type==="lineEnding"||s[1].type==="lineEndingBlank");)s[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);i&&(r[1].end=Object.assign({},e[i][1].start),l=e.slice(i,t),l.unshift(r),$c(e,i,t-i+1,l))}}return!d}function Uee(e,n){const t=e[n][1],r=e[n][2];let i=n-1;const a=[],s=t._tokenizer||r.parser[t.contentType](t.start),l=s.events,c=[],d={};let h,g,b=-1,m=t,x=0,y=0;const A=[y];for(;m;){for(;e[++i][1]!==m;);a.push(i),m._tokenizer||(h=r.sliceStream(m),m.next||h.push(null),g&&s.defineSkip(m.start),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(h),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),g=m,m=m.next}for(m=t;++b<l.length;)l[b][0]==="exit"&&l[b-1][0]==="enter"&&l[b][1].type===l[b-1][1].type&&l[b][1].start.line!==l[b][1].end.line&&(y=b+1,A.push(y),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(s.events=[],m?(m._tokenizer=void 0,m.previous=void 0):A.pop(),b=A.length;b--;){const w=l.slice(A[b],A[b+1]),C=a.pop();c.unshift([C,C+w.length-1]),$c(e,C,2,w)}for(b=-1;++b<c.length;)d[x+c[b][0]]=x+c[b][1],x+=c[b][1]-c[b][0]-1;return d}const $ee={tokenize:Vee,resolve:Wee},Hee={tokenize:Yee,partial:!0};function Wee(e){return GI(e),e}function Vee(e,n){let t;return r;function r(l){return e.enter("content"),t=e.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?a(l):mn(l)?e.check(Hee,s,a)(l):(e.consume(l),i)}function a(l){return e.exit("chunkContent"),e.exit("content"),n(l)}function s(l){return e.consume(l),e.exit("chunkContent"),t.next=e.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,i}}function Yee(e,n,t){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),oi(e,a,"linePrefix")}function a(s){if(s===null||mn(s))return t(s);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?n(s):e.interrupt(r.parser.constructs.flow,t,n)(s)}}function QI(e,n,t,r,i,a,s,l,c){const d=c||Number.POSITIVE_INFINITY;let h=0;return g;function g(w){return w===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(w),e.exit(a),b):w===null||w===32||w===41||YS(w)?t(w):(e.enter(r),e.enter(s),e.enter(l),e.enter("chunkString",{contentType:"string"}),y(w))}function b(w){return w===62?(e.enter(a),e.consume(w),e.exit(a),e.exit(i),e.exit(r),n):(e.enter(l),e.enter("chunkString",{contentType:"string"}),m(w))}function m(w){return w===62?(e.exit("chunkString"),e.exit(l),b(w)):w===null||w===60||mn(w)?t(w):(e.consume(w),w===92?x:m)}function x(w){return w===60||w===62||w===92?(e.consume(w),m):m(w)}function y(w){return!h&&(w===null||w===41||vo(w))?(e.exit("chunkString"),e.exit(l),e.exit(s),e.exit(r),n(w)):h<d&&w===40?(e.consume(w),h++,y):w===41?(e.consume(w),h--,y):w===null||w===32||w===40||YS(w)?t(w):(e.consume(w),w===92?A:y)}function A(w){return w===40||w===41||w===92?(e.consume(w),y):y(w)}}function KI(e,n,t,r,i,a){const s=this;let l=0,c;return d;function d(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(a),h}function h(m){return l>999||m===null||m===91||m===93&&!c||m===94&&!l&&"_hiddenFootnoteSupport"in s.parser.constructs?t(m):m===93?(e.exit(a),e.enter(i),e.consume(m),e.exit(i),e.exit(r),n):mn(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),g(m))}function g(m){return m===null||m===91||m===93||mn(m)||l++>999?(e.exit("chunkString"),h(m)):(e.consume(m),c||(c=!xr(m)),m===92?b:g)}function b(m){return m===91||m===92||m===93?(e.consume(m),l++,g):g(m)}}function XI(e,n,t,r,i,a){let s;return l;function l(b){return b===34||b===39||b===40?(e.enter(r),e.enter(i),e.consume(b),e.exit(i),s=b===40?41:b,c):t(b)}function c(b){return b===s?(e.enter(i),e.consume(b),e.exit(i),e.exit(r),n):(e.enter(a),d(b))}function d(b){return b===s?(e.exit(a),c(s)):b===null?t(b):mn(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),oi(e,d,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(b))}function h(b){return b===s||b===null||mn(b)?(e.exit("chunkString"),d(b)):(e.consume(b),b===92?g:h)}function g(b){return b===s||b===92?(e.consume(b),h):h(b)}}function eg(e,n){let t;return r;function r(i){return mn(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t=!0,r):xr(i)?oi(e,r,t?"linePrefix":"lineSuffix")(i):n(i)}}function U0(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Gee={name:"definition",tokenize:Kee},Qee={tokenize:Xee,partial:!0};function Kee(e,n,t){const r=this;let i;return a;function a(m){return e.enter("definition"),s(m)}function s(m){return KI.call(r,e,l,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function l(m){return i=U0(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),c):t(m)}function c(m){return vo(m)?eg(e,d)(m):d(m)}function d(m){return QI(e,h,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function h(m){return e.attempt(Qee,g,g)(m)}function g(m){return xr(m)?oi(e,b,"whitespace")(m):b(m)}function b(m){return m===null||mn(m)?(e.exit("definition"),r.parser.defined.push(i),n(m)):t(m)}}function Xee(e,n,t){return r;function r(l){return vo(l)?eg(e,i)(l):t(l)}function i(l){return XI(e,a,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function a(l){return xr(l)?oi(e,s,"whitespace")(l):s(l)}function s(l){return l===null||mn(l)?n(l):t(l)}}const Zee={name:"hardBreakEscape",tokenize:Jee};function Jee(e,n,t){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return mn(a)?(e.exit("hardBreakEscape"),n(a)):t(a)}}const ete={name:"headingAtx",tokenize:nte,resolve:tte};function tte(e,n){let t=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),t-2>r&&e[t][1].type==="whitespace"&&(t-=2),e[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&e[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[t][1].end},a={type:"chunkText",start:e[r][1].start,end:e[t][1].end,contentType:"text"},$c(e,r,t-r+1,[["enter",i,n],["enter",a,n],["exit",a,n],["exit",i,n]])),e}function nte(e,n,t){let r=0;return i;function i(h){return e.enter("atxHeading"),a(h)}function a(h){return e.enter("atxHeadingSequence"),s(h)}function s(h){return h===35&&r++<6?(e.consume(h),s):h===null||vo(h)?(e.exit("atxHeadingSequence"),l(h)):t(h)}function l(h){return h===35?(e.enter("atxHeadingSequence"),c(h)):h===null||mn(h)?(e.exit("atxHeading"),n(h)):xr(h)?oi(e,l,"whitespace")(h):(e.enter("atxHeadingText"),d(h))}function c(h){return h===35?(e.consume(h),c):(e.exit("atxHeadingSequence"),l(h))}function d(h){return h===null||h===35||vo(h)?(e.exit("atxHeadingText"),l(h)):(e.consume(h),d)}}const rte=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],W4=["pre","script","style","textarea"],ite={name:"htmlFlow",tokenize:lte,resolveTo:ote,concrete:!0},ate={tokenize:cte,partial:!0},ste={tokenize:ute,partial:!0};function ote(e){let n=e.length;for(;n--&&!(e[n][0]==="enter"&&e[n][1].type==="htmlFlow"););return n>1&&e[n-2][1].type==="linePrefix"&&(e[n][1].start=e[n-2][1].start,e[n+1][1].start=e[n-2][1].start,e.splice(n-2,2)),e}function lte(e,n,t){const r=this;let i,a,s,l,c;return d;function d(B){return h(B)}function h(B){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(B),g}function g(B){return B===33?(e.consume(B),b):B===47?(e.consume(B),a=!0,y):B===63?(e.consume(B),i=3,r.interrupt?n:Y):Ac(B)?(e.consume(B),s=String.fromCharCode(B),A):t(B)}function b(B){return B===45?(e.consume(B),i=2,m):B===91?(e.consume(B),i=5,l=0,x):Ac(B)?(e.consume(B),i=4,r.interrupt?n:Y):t(B)}function m(B){return B===45?(e.consume(B),r.interrupt?n:Y):t(B)}function x(B){const re="CDATA[";return B===re.charCodeAt(l++)?(e.consume(B),l===re.length?r.interrupt?n:O:x):t(B)}function y(B){return Ac(B)?(e.consume(B),s=String.fromCharCode(B),A):t(B)}function A(B){if(B===null||B===47||B===62||vo(B)){const re=B===47,Z=s.toLowerCase();return!re&&!a&&W4.includes(Z)?(i=1,r.interrupt?n(B):O(B)):rte.includes(s.toLowerCase())?(i=6,re?(e.consume(B),w):r.interrupt?n(B):O(B)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?t(B):a?C(B):j(B))}return B===45||Ko(B)?(e.consume(B),s+=String.fromCharCode(B),A):t(B)}function w(B){return B===62?(e.consume(B),r.interrupt?n:O):t(B)}function C(B){return xr(B)?(e.consume(B),C):Q(B)}function j(B){return B===47?(e.consume(B),Q):B===58||B===95||Ac(B)?(e.consume(B),F):xr(B)?(e.consume(B),j):Q(B)}function F(B){return B===45||B===46||B===58||B===95||Ko(B)?(e.consume(B),F):z(B)}function z(B){return B===61?(e.consume(B),L):xr(B)?(e.consume(B),z):j(B)}function L(B){return B===null||B===60||B===61||B===62||B===96?t(B):B===34||B===39?(e.consume(B),c=B,k):xr(B)?(e.consume(B),L):M(B)}function k(B){return B===c?(e.consume(B),c=null,q):B===null||mn(B)?t(B):(e.consume(B),k)}function M(B){return B===null||B===34||B===39||B===47||B===60||B===61||B===62||B===96||vo(B)?z(B):(e.consume(B),M)}function q(B){return B===47||B===62||xr(B)?j(B):t(B)}function Q(B){return B===62?(e.consume(B),T):t(B)}function T(B){return B===null||mn(B)?O(B):xr(B)?(e.consume(B),T):t(B)}function O(B){return B===45&&i===2?(e.consume(B),H):B===60&&i===1?(e.consume(B),G):B===62&&i===4?(e.consume(B),te):B===63&&i===3?(e.consume(B),Y):B===93&&i===5?(e.consume(B),le):mn(B)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(ate,U,R)(B)):B===null||mn(B)?(e.exit("htmlFlowData"),R(B)):(e.consume(B),O)}function R(B){return e.check(ste,N,U)(B)}function N(B){return e.enter("lineEnding"),e.consume(B),e.exit("lineEnding"),K}function K(B){return B===null||mn(B)?R(B):(e.enter("htmlFlowData"),O(B))}function H(B){return B===45?(e.consume(B),Y):O(B)}function G(B){return B===47?(e.consume(B),s="",ee):O(B)}function ee(B){if(B===62){const re=s.toLowerCase();return W4.includes(re)?(e.consume(B),te):O(B)}return Ac(B)&&s.length<8?(e.consume(B),s+=String.fromCharCode(B),ee):O(B)}function le(B){return B===93?(e.consume(B),Y):O(B)}function Y(B){return B===62?(e.consume(B),te):B===45&&i===2?(e.consume(B),Y):O(B)}function te(B){return B===null||mn(B)?(e.exit("htmlFlowData"),U(B)):(e.consume(B),te)}function U(B){return e.exit("htmlFlow"),n(B)}}function ute(e,n,t){const r=this;return i;function i(s){return mn(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):t(s)}function a(s){return r.parser.lazy[r.now().line]?t(s):n(s)}}function cte(e,n,t){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Lv,n,t)}}const dte={name:"htmlText",tokenize:fte};function fte(e,n,t){const r=this;let i,a,s;return l;function l(Y){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(Y),c}function c(Y){return Y===33?(e.consume(Y),d):Y===47?(e.consume(Y),z):Y===63?(e.consume(Y),j):Ac(Y)?(e.consume(Y),M):t(Y)}function d(Y){return Y===45?(e.consume(Y),h):Y===91?(e.consume(Y),a=0,x):Ac(Y)?(e.consume(Y),C):t(Y)}function h(Y){return Y===45?(e.consume(Y),m):t(Y)}function g(Y){return Y===null?t(Y):Y===45?(e.consume(Y),b):mn(Y)?(s=g,G(Y)):(e.consume(Y),g)}function b(Y){return Y===45?(e.consume(Y),m):g(Y)}function m(Y){return Y===62?H(Y):Y===45?b(Y):g(Y)}function x(Y){const te="CDATA[";return Y===te.charCodeAt(a++)?(e.consume(Y),a===te.length?y:x):t(Y)}function y(Y){return Y===null?t(Y):Y===93?(e.consume(Y),A):mn(Y)?(s=y,G(Y)):(e.consume(Y),y)}function A(Y){return Y===93?(e.consume(Y),w):y(Y)}function w(Y){return Y===62?H(Y):Y===93?(e.consume(Y),w):y(Y)}function C(Y){return Y===null||Y===62?H(Y):mn(Y)?(s=C,G(Y)):(e.consume(Y),C)}function j(Y){return Y===null?t(Y):Y===63?(e.consume(Y),F):mn(Y)?(s=j,G(Y)):(e.consume(Y),j)}function F(Y){return Y===62?H(Y):j(Y)}function z(Y){return Ac(Y)?(e.consume(Y),L):t(Y)}function L(Y){return Y===45||Ko(Y)?(e.consume(Y),L):k(Y)}function k(Y){return mn(Y)?(s=k,G(Y)):xr(Y)?(e.consume(Y),k):H(Y)}function M(Y){return Y===45||Ko(Y)?(e.consume(Y),M):Y===47||Y===62||vo(Y)?q(Y):t(Y)}function q(Y){return Y===47?(e.consume(Y),H):Y===58||Y===95||Ac(Y)?(e.consume(Y),Q):mn(Y)?(s=q,G(Y)):xr(Y)?(e.consume(Y),q):H(Y)}function Q(Y){return Y===45||Y===46||Y===58||Y===95||Ko(Y)?(e.consume(Y),Q):T(Y)}function T(Y){return Y===61?(e.consume(Y),O):mn(Y)?(s=T,G(Y)):xr(Y)?(e.consume(Y),T):q(Y)}function O(Y){return Y===null||Y===60||Y===61||Y===62||Y===96?t(Y):Y===34||Y===39?(e.consume(Y),i=Y,R):mn(Y)?(s=O,G(Y)):xr(Y)?(e.consume(Y),O):(e.consume(Y),N)}function R(Y){return Y===i?(e.consume(Y),i=void 0,K):Y===null?t(Y):mn(Y)?(s=R,G(Y)):(e.consume(Y),R)}function N(Y){return Y===null||Y===34||Y===39||Y===60||Y===61||Y===96?t(Y):Y===47||Y===62||vo(Y)?q(Y):(e.consume(Y),N)}function K(Y){return Y===47||Y===62||vo(Y)?q(Y):t(Y)}function H(Y){return Y===62?(e.consume(Y),e.exit("htmlTextData"),e.exit("htmlText"),n):t(Y)}function G(Y){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(Y),e.exit("lineEnding"),ee}function ee(Y){return xr(Y)?oi(e,le,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Y):le(Y)}function le(Y){return e.enter("htmlTextData"),s(Y)}}const wA={name:"labelEnd",tokenize:yte,resolveTo:bte,resolveAll:gte},hte={tokenize:xte},pte={tokenize:vte},mte={tokenize:wte};function gte(e){let n=-1;for(;++n<e.length;){const t=e[n][1];(t.type==="labelImage"||t.type==="labelLink"||t.type==="labelEnd")&&(e.splice(n+1,t.type==="labelImage"?4:2),t.type="data",n++)}return e}function bte(e,n){let t=e.length,r=0,i,a,s,l;for(;t--;)if(i=e[t][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[t][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[t][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=t,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=t);const c={type:e[a][1].type==="labelLink"?"link":"image",start:Object.assign({},e[a][1].start),end:Object.assign({},e[e.length-1][1].end)},d={type:"label",start:Object.assign({},e[a][1].start),end:Object.assign({},e[s][1].end)},h={type:"labelText",start:Object.assign({},e[a+r+2][1].end),end:Object.assign({},e[s-2][1].start)};return l=[["enter",c,n],["enter",d,n]],l=Nl(l,e.slice(a+1,a+r+3)),l=Nl(l,[["enter",h,n]]),l=Nl(l,xA(n.parser.constructs.insideSpan.null,e.slice(a+r+4,s-3),n)),l=Nl(l,[["exit",h,n],e[s-2],e[s-1],["exit",d,n]]),l=Nl(l,e.slice(s+1)),l=Nl(l,[["exit",c,n]]),$c(e,a,e.length,l),e}function yte(e,n,t){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return l;function l(b){return a?a._inactive?g(b):(s=r.parser.defined.includes(U0(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(b),e.exit("labelMarker"),e.exit("labelEnd"),c):t(b)}function c(b){return b===40?e.attempt(hte,h,s?h:g)(b):b===91?e.attempt(pte,h,s?d:g)(b):s?h(b):g(b)}function d(b){return e.attempt(mte,h,g)(b)}function h(b){return n(b)}function g(b){return a._balanced=!0,t(b)}}function xte(e,n,t){return r;function r(g){return e.enter("resource"),e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),i}function i(g){return vo(g)?eg(e,a)(g):a(g)}function a(g){return g===41?h(g):QI(e,s,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function s(g){return vo(g)?eg(e,c)(g):h(g)}function l(g){return t(g)}function c(g){return g===34||g===39||g===40?XI(e,d,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):h(g)}function d(g){return vo(g)?eg(e,h)(g):h(g)}function h(g){return g===41?(e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),e.exit("resource"),n):t(g)}}function vte(e,n,t){const r=this;return i;function i(l){return KI.call(r,e,a,s,"reference","referenceMarker","referenceString")(l)}function a(l){return r.parser.defined.includes(U0(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?n(l):t(l)}function s(l){return t(l)}}function wte(e,n,t){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),n):t(a)}}const Ste={name:"labelStartImage",tokenize:Ate,resolveAll:wA.resolveAll};function Ate(e,n,t){const r=this;return i;function i(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),a}function a(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),s):t(l)}function s(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(l):n(l)}}const Cte={name:"labelStartLink",tokenize:Ete,resolveAll:wA.resolveAll};function Ete(e,n,t){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(s):n(s)}}const Sw={name:"lineEnding",tokenize:_te};function _te(e,n){return t;function t(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),oi(e,n,"linePrefix")}}const cx={name:"thematicBreak",tokenize:kte};function kte(e,n,t){let r=0,i;return a;function a(d){return e.enter("thematicBreak"),s(d)}function s(d){return i=d,l(d)}function l(d){return d===i?(e.enter("thematicBreakSequence"),c(d)):r>=3&&(d===null||mn(d))?(e.exit("thematicBreak"),n(d)):t(d)}function c(d){return d===i?(e.consume(d),r++,c):(e.exit("thematicBreakSequence"),xr(d)?oi(e,l,"whitespace")(d):l(d))}}const go={name:"list",tokenize:Tte,continuation:{tokenize:Ote},exit:Dte},jte={tokenize:Lte,partial:!0},Nte={tokenize:Ite,partial:!0};function Tte(e,n,t){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return l;function l(m){const x=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:GS(m)){if(r.containerState.type||(r.containerState.type=x,e.enter(x,{_container:!0})),x==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(cx,t,d)(m):d(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(m)}return t(m)}function c(m){return GS(m)&&++s<10?(e.consume(m),c):(!r.interrupt||s<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),d(m)):t(m)}function d(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(Lv,r.interrupt?t:h,e.attempt(jte,b,g))}function h(m){return r.containerState.initialBlankLine=!0,a++,b(m)}function g(m){return xr(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),b):t(m)}function b(m){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,n(m)}}function Ote(e,n,t){const r=this;return r.containerState._closeFlow=void 0,e.check(Lv,i,a);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,oi(e,n,"listItemIndent",r.containerState.size+1)(l)}function a(l){return r.containerState.furtherBlankLines||!xr(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Nte,n,s)(l))}function s(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,oi(e,e.attempt(go,n,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function Ite(e,n,t){const r=this;return oi(e,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?n(a):t(a)}}function Dte(e){e.exit(this.containerState.type)}function Lte(e,n,t){const r=this;return oi(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!xr(a)&&s&&s[1].type==="listItemPrefixWhitespace"?n(a):t(a)}}const V4={name:"setextUnderline",tokenize:Mte,resolveTo:Rte};function Rte(e,n){let t=e.length,r,i,a;for(;t--;)if(e[t][0]==="enter"){if(e[t][1].type==="content"){r=t;break}e[t][1].type==="paragraph"&&(i=t)}else e[t][1].type==="content"&&e.splice(t,1),!a&&e[t][1].type==="definition"&&(a=t);const s={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",s,n]),e.splice(a+1,0,["exit",e[r][1],n]),e[r][1].end=Object.assign({},e[a][1].end)):e[r][1]=s,e.push(["exit",s,n]),e}function Mte(e,n,t){const r=this;let i;return a;function a(d){let h=r.events.length,g;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){g=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||g)?(e.enter("setextHeadingLine"),i=d,s(d)):t(d)}function s(d){return e.enter("setextHeadingLineSequence"),l(d)}function l(d){return d===i?(e.consume(d),l):(e.exit("setextHeadingLineSequence"),xr(d)?oi(e,c,"lineSuffix")(d):c(d))}function c(d){return d===null||mn(d)?(e.exit("setextHeadingLine"),n(d)):t(d)}}const Fte={tokenize:Pte};function Pte(e){const n=this,t=e.attempt(Lv,r,e.attempt(this.parser.constructs.flowInitial,i,oi(e,e.attempt(this.parser.constructs.flow,i,e.attempt($ee,i)),"linePrefix")));return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),n.currentConstruct=void 0,t}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n.currentConstruct=void 0,t}}const zte={resolveAll:JI()},qte=ZI("string"),Bte=ZI("text");function ZI(e){return{tokenize:n,resolveAll:JI(e==="text"?Ute:void 0)};function n(t){const r=this,i=this.parser.constructs[e],a=t.attempt(i,s,l);return s;function s(h){return d(h)?a(h):l(h)}function l(h){if(h===null){t.consume(h);return}return t.enter("data"),t.consume(h),c}function c(h){return d(h)?(t.exit("data"),a(h)):(t.consume(h),c)}function d(h){if(h===null)return!0;const g=i[h];let b=-1;if(g)for(;++b<g.length;){const m=g[b];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function JI(e){return n;function n(t,r){let i=-1,a;for(;++i<=t.length;)a===void 0?t[i]&&t[i][1].type==="data"&&(a=i,i++):(!t[i]||t[i][1].type!=="data")&&(i!==a+2&&(t[a][1].end=t[i-1][1].end,t.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(t,r):t}}function Ute(e,n){let t=0;for(;++t<=e.length;)if((t===e.length||e[t][1].type==="lineEnding")&&e[t-1][1].type==="data"){const r=e[t-1][1],i=n.sliceStream(r);let a=i.length,s=-1,l=0,c;for(;a--;){const d=i[a];if(typeof d=="string"){for(s=d.length;d.charCodeAt(s-1)===32;)l++,s--;if(s)break;s=-1}else if(d===-2)c=!0,l++;else if(d!==-1){a++;break}}if(l){const d={type:t===e.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-l,offset:r.end.offset-l,_index:r.start._index+a,_bufferIndex:a?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},d.start),r.start.offset===r.end.offset?Object.assign(r,d):(e.splice(t,0,["enter",d,n],["exit",d,n]),t+=2)}t++}return e}function $te(e,n,t){let r=Object.assign(t?Object.assign({},t):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},a=[];let s=[],l=[];const c={consume:C,enter:j,exit:F,attempt:k(z),check:k(L),interrupt:k(L,{interrupt:!0})},d={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:m,sliceSerialize:b,now:x,defineSkip:y,write:g};let h=n.tokenize.call(d,c);return n.resolveAll&&a.push(n),d;function g(T){return s=Nl(s,T),A(),s[s.length-1]!==null?[]:(M(n,0),d.events=xA(a,d.events,d),d.events)}function b(T,O){return Wte(m(T),O)}function m(T){return Hte(s,T)}function x(){const{line:T,column:O,offset:R,_index:N,_bufferIndex:K}=r;return{line:T,column:O,offset:R,_index:N,_bufferIndex:K}}function y(T){i[T.line]=T.column,Q()}function A(){let T;for(;r._index<s.length;){const O=s[r._index];if(typeof O=="string")for(T=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===T&&r._bufferIndex<O.length;)w(O.charCodeAt(r._bufferIndex));else w(O)}}function w(T){h=h(T)}function C(T){mn(T)?(r.line++,r.column=1,r.offset+=T===-3?2:1,Q()):T!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=T}function j(T,O){const R=O||{};return R.type=T,R.start=x(),d.events.push(["enter",R,d]),l.push(R),R}function F(T){const O=l.pop();return O.end=x(),d.events.push(["exit",O,d]),O}function z(T,O){M(T,O.from)}function L(T,O){O.restore()}function k(T,O){return R;function R(N,K,H){let G,ee,le,Y;return Array.isArray(N)?U(N):"tokenize"in N?U([N]):te(N);function te(ne){return ve;function ve(ye){const Ce=ye!==null&&ne[ye],Oe=ye!==null&&ne.null,Ie=[...Array.isArray(Ce)?Ce:Ce?[Ce]:[],...Array.isArray(Oe)?Oe:Oe?[Oe]:[]];return U(Ie)(ye)}}function U(ne){return G=ne,ee=0,ne.length===0?H:B(ne[ee])}function B(ne){return ve;function ve(ye){return Y=q(),le=ne,ne.partial||(d.currentConstruct=ne),ne.name&&d.parser.constructs.disable.null.includes(ne.name)?Z():ne.tokenize.call(O?Object.assign(Object.create(d),O):d,c,re,Z)(ye)}}function re(ne){return T(le,Y),K}function Z(ne){return Y.restore(),++ee<G.length?B(G[ee]):H}}}function M(T,O){T.resolveAll&&!a.includes(T)&&a.push(T),T.resolve&&$c(d.events,O,d.events.length-O,T.resolve(d.events.slice(O),d)),T.resolveTo&&(d.events=T.resolveTo(d.events,d))}function q(){const T=x(),O=d.previous,R=d.currentConstruct,N=d.events.length,K=Array.from(l);return{restore:H,from:N};function H(){r=T,d.previous=O,d.currentConstruct=R,d.events.length=N,l=K,Q()}}function Q(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Hte(e,n){const t=n.start._index,r=n.start._bufferIndex,i=n.end._index,a=n.end._bufferIndex;let s;if(t===i)s=[e[t].slice(r,a)];else{if(s=e.slice(t,i),r>-1){const l=s[0];typeof l=="string"?s[0]=l.slice(r):s.shift()}a>0&&s.push(e[i].slice(0,a))}return s}function Wte(e,n){let t=-1;const r=[];let i;for(;++t<e.length;){const a=e[t];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=n?" ":"	";break}case-1:{if(!n&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}const Vte={42:go,43:go,45:go,48:go,49:go,50:go,51:go,52:go,53:go,54:go,55:go,56:go,57:go,62:WI},Yte={91:Gee},Gte={[-2]:ww,[-1]:ww,32:ww},Qte={35:ete,42:cx,45:[V4,cx],60:ite,61:V4,95:cx,96:H4,126:H4},Kte={38:YI,92:VI},Xte={[-5]:Sw,[-4]:Sw,[-3]:Sw,33:Ste,38:YI,42:QS,60:[Eee,dte],91:Cte,92:[Zee,VI],93:wA,95:QS,96:Pee},Zte={null:[QS,zte]},Jte={null:[42,95]},ene={null:[]},tne=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Jte,contentInitial:Yte,disable:ene,document:Vte,flow:Qte,flowInitial:Gte,insideSpan:Zte,string:Kte,text:Xte},Symbol.toStringTag,{value:"Module"}));function nne(e){const t=uee([tne,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:t,content:i(yee),document:i(vee),flow:i(Fte),string:i(qte),text:i(Bte)};return r;function i(a){return s;function s(l){return $te(r,a,l)}}}const Y4=/[\0\t\n\r]/g;function rne(){let e=1,n="",t=!0,r;return i;function i(a,s,l){const c=[];let d,h,g,b,m;for(a=n+a.toString(s),g=0,n="",t&&(a.charCodeAt(0)===65279&&g++,t=void 0);g<a.length;){if(Y4.lastIndex=g,d=Y4.exec(a),b=d&&d.index!==void 0?d.index:a.length,m=a.charCodeAt(b),!d){n=a.slice(g);break}if(m===10&&g===b&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),g<b&&(c.push(a.slice(g,b)),e+=b-g),m){case 0:{c.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,c.push(-2);e++<h;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}g=b+1}return l&&(r&&c.push(-5),n&&c.push(n),c.push(null)),c}}function ine(e){for(;!GI(e););return e}function eD(e,n){const t=Number.parseInt(e,n);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"":String.fromCharCode(t)}const ane=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function sne(e){return e.replace(ane,one)}function one(e,n,t){if(n)return n;if(t.charCodeAt(0)===35){const i=t.charCodeAt(1),a=i===120||i===88;return eD(t.slice(a?2:1),a?16:10)}return vA(t)||e}const tD={}.hasOwnProperty,lne=function(e,n,t){return typeof n!="string"&&(t=n,n=void 0),une(t)(ine(nne(t).document().write(rne()(e,n,!0))))};function une(e){const n={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Le),autolinkProtocol:T,autolinkEmail:T,atxHeading:l(se),blockQuote:l(Ie),characterEscape:T,characterReference:T,codeFenced:l($e),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:l($e,c),codeText:l(We,c),codeTextData:T,data:T,codeFlowValue:T,definition:l(V),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:l(Se),hardBreakEscape:l(he),hardBreakTrailing:l(he),htmlFlow:l(de,c),htmlFlowData:T,htmlText:l(de,c),htmlTextData:T,image:l(we),label:c,link:l(Le),listItem:l(_e),listItemValue:x,listOrdered:l(Pe,m),listUnordered:l(Pe),paragraph:l(Ke),reference:Z,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:l(se),strong:l(ot),thematicBreak:l(De)},exit:{atxHeading:h(),atxHeadingSequence:k,autolink:h(),autolinkEmail:Oe,autolinkProtocol:Ce,blockQuote:h(),characterEscapeValue:O,characterReferenceMarkerHexadecimal:ve,characterReferenceMarkerNumeric:ve,characterReferenceValue:ye,codeFenced:h(C),codeFencedFence:w,codeFencedFenceInfo:y,codeFencedFenceMeta:A,codeFlowValue:O,codeIndented:h(j),codeText:h(G),codeTextData:O,data:O,definition:h(),definitionDestinationString:L,definitionLabelString:F,definitionTitleString:z,emphasis:h(),hardBreakEscape:h(N),hardBreakTrailing:h(N),htmlFlow:h(K),htmlFlowData:O,htmlText:h(H),htmlTextData:O,image:h(le),label:te,labelText:Y,lineEnding:R,link:h(ee),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:ne,resourceDestinationString:U,resourceTitleString:B,resource:re,setextHeading:h(Q),setextHeadingLineSequence:q,setextHeadingText:M,strong:h(),thematicBreak:h()}};nD(n,(e||{}).mdastExtensions||[]);const t={};return r;function r(xe){let ke={type:"root",children:[]};const je={stack:[ke],tokenStack:[],config:n,enter:d,exit:g,buffer:c,resume:b,setData:a,getData:s},ct=[];let Je=-1;for(;++Je<xe.length;)if(xe[Je][1].type==="listOrdered"||xe[Je][1].type==="listUnordered")if(xe[Je][0]==="enter")ct.push(Je);else{const Rt=ct.pop();Je=i(xe,Rt,Je)}for(Je=-1;++Je<xe.length;){const Rt=n[xe[Je][0]];tD.call(Rt,xe[Je][1].type)&&Rt[xe[Je][1].type].call(Object.assign({sliceSerialize:xe[Je][2].sliceSerialize},je),xe[Je][1])}if(je.tokenStack.length>0){const Rt=je.tokenStack[je.tokenStack.length-1];(Rt[1]||G4).call(je,void 0,Rt[0])}for(ke.position={start:Mf(xe.length>0?xe[0][1].start:{line:1,column:1,offset:0}),end:Mf(xe.length>0?xe[xe.length-2][1].end:{line:1,column:1,offset:0})},Je=-1;++Je<n.transforms.length;)ke=n.transforms[Je](ke)||ke;return ke}function i(xe,ke,je){let ct=ke-1,Je=-1,Rt=!1,kt,Wt,Lt,Kt;for(;++ct<=je;){const tn=xe[ct];if(tn[1].type==="listUnordered"||tn[1].type==="listOrdered"||tn[1].type==="blockQuote"?(tn[0]==="enter"?Je++:Je--,Kt=void 0):tn[1].type==="lineEndingBlank"?tn[0]==="enter"&&(kt&&!Kt&&!Je&&!Lt&&(Lt=ct),Kt=void 0):tn[1].type==="linePrefix"||tn[1].type==="listItemValue"||tn[1].type==="listItemMarker"||tn[1].type==="listItemPrefix"||tn[1].type==="listItemPrefixWhitespace"||(Kt=void 0),!Je&&tn[0]==="enter"&&tn[1].type==="listItemPrefix"||Je===-1&&tn[0]==="exit"&&(tn[1].type==="listUnordered"||tn[1].type==="listOrdered")){if(kt){let ln=ct;for(Wt=void 0;ln--;){const zn=xe[ln];if(zn[1].type==="lineEnding"||zn[1].type==="lineEndingBlank"){if(zn[0]==="exit")continue;Wt&&(xe[Wt][1].type="lineEndingBlank",Rt=!0),zn[1].type="lineEnding",Wt=ln}else if(!(zn[1].type==="linePrefix"||zn[1].type==="blockQuotePrefix"||zn[1].type==="blockQuotePrefixWhitespace"||zn[1].type==="blockQuoteMarker"||zn[1].type==="listItemIndent"))break}Lt&&(!Wt||Lt<Wt)&&(kt._spread=!0),kt.end=Object.assign({},Wt?xe[Wt][1].start:tn[1].end),xe.splice(Wt||ct,0,["exit",kt,tn[2]]),ct++,je++}tn[1].type==="listItemPrefix"&&(kt={type:"listItem",_spread:!1,start:Object.assign({},tn[1].start),end:void 0},xe.splice(ct,0,["enter",kt,tn[2]]),ct++,je++,Lt=void 0,Kt=!0)}}return xe[ke][1]._spread=Rt,je}function a(xe,ke){t[xe]=ke}function s(xe){return t[xe]}function l(xe,ke){return je;function je(ct){d.call(this,xe(ct),ct),ke&&ke.call(this,ct)}}function c(){this.stack.push({type:"fragment",children:[]})}function d(xe,ke,je){return this.stack[this.stack.length-1].children.push(xe),this.stack.push(xe),this.tokenStack.push([ke,je]),xe.position={start:Mf(ke.start)},xe}function h(xe){return ke;function ke(je){xe&&xe.call(this,je),g.call(this,je)}}function g(xe,ke){const je=this.stack.pop(),ct=this.tokenStack.pop();if(ct)ct[0].type!==xe.type&&(ke?ke.call(this,xe,ct[0]):(ct[1]||G4).call(this,xe,ct[0]));else throw new Error("Cannot close `"+xe.type+"` ("+J1({start:xe.start,end:xe.end})+"): its not open");return je.position.end=Mf(xe.end),je}function b(){return oee(this.stack.pop())}function m(){a("expectingFirstListItemValue",!0)}function x(xe){if(s("expectingFirstListItemValue")){const ke=this.stack[this.stack.length-2];ke.start=Number.parseInt(this.sliceSerialize(xe),10),a("expectingFirstListItemValue")}}function y(){const xe=this.resume(),ke=this.stack[this.stack.length-1];ke.lang=xe}function A(){const xe=this.resume(),ke=this.stack[this.stack.length-1];ke.meta=xe}function w(){s("flowCodeInside")||(this.buffer(),a("flowCodeInside",!0))}function C(){const xe=this.resume(),ke=this.stack[this.stack.length-1];ke.value=xe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),a("flowCodeInside")}function j(){const xe=this.resume(),ke=this.stack[this.stack.length-1];ke.value=xe.replace(/(\r?\n|\r)$/g,"")}function F(xe){const ke=this.resume(),je=this.stack[this.stack.length-1];je.label=ke,je.identifier=U0(this.sliceSerialize(xe)).toLowerCase()}function z(){const xe=this.resume(),ke=this.stack[this.stack.length-1];ke.title=xe}function L(){const xe=this.resume(),ke=this.stack[this.stack.length-1];ke.url=xe}function k(xe){const ke=this.stack[this.stack.length-1];if(!ke.depth){const je=this.sliceSerialize(xe).length;ke.depth=je}}function M(){a("setextHeadingSlurpLineEnding",!0)}function q(xe){const ke=this.stack[this.stack.length-1];ke.depth=this.sliceSerialize(xe).charCodeAt(0)===61?1:2}function Q(){a("setextHeadingSlurpLineEnding")}function T(xe){const ke=this.stack[this.stack.length-1];let je=ke.children[ke.children.length-1];(!je||je.type!=="text")&&(je=nt(),je.position={start:Mf(xe.start)},ke.children.push(je)),this.stack.push(je)}function O(xe){const ke=this.stack.pop();ke.value+=this.sliceSerialize(xe),ke.position.end=Mf(xe.end)}function R(xe){const ke=this.stack[this.stack.length-1];if(s("atHardBreak")){const je=ke.children[ke.children.length-1];je.position.end=Mf(xe.end),a("atHardBreak");return}!s("setextHeadingSlurpLineEnding")&&n.canContainEols.includes(ke.type)&&(T.call(this,xe),O.call(this,xe))}function N(){a("atHardBreak",!0)}function K(){const xe=this.resume(),ke=this.stack[this.stack.length-1];ke.value=xe}function H(){const xe=this.resume(),ke=this.stack[this.stack.length-1];ke.value=xe}function G(){const xe=this.resume(),ke=this.stack[this.stack.length-1];ke.value=xe}function ee(){const xe=this.stack[this.stack.length-1];if(s("inReference")){const ke=s("referenceType")||"shortcut";xe.type+="Reference",xe.referenceType=ke,delete xe.url,delete xe.title}else delete xe.identifier,delete xe.label;a("referenceType")}function le(){const xe=this.stack[this.stack.length-1];if(s("inReference")){const ke=s("referenceType")||"shortcut";xe.type+="Reference",xe.referenceType=ke,delete xe.url,delete xe.title}else delete xe.identifier,delete xe.label;a("referenceType")}function Y(xe){const ke=this.sliceSerialize(xe),je=this.stack[this.stack.length-2];je.label=sne(ke),je.identifier=U0(ke).toLowerCase()}function te(){const xe=this.stack[this.stack.length-1],ke=this.resume(),je=this.stack[this.stack.length-1];if(a("inReference",!0),je.type==="link"){const ct=xe.children;je.children=ct}else je.alt=ke}function U(){const xe=this.resume(),ke=this.stack[this.stack.length-1];ke.url=xe}function B(){const xe=this.resume(),ke=this.stack[this.stack.length-1];ke.title=xe}function re(){a("inReference")}function Z(){a("referenceType","collapsed")}function ne(xe){const ke=this.resume(),je=this.stack[this.stack.length-1];je.label=ke,je.identifier=U0(this.sliceSerialize(xe)).toLowerCase(),a("referenceType","full")}function ve(xe){a("characterReferenceType",xe.type)}function ye(xe){const ke=this.sliceSerialize(xe),je=s("characterReferenceType");let ct;je?(ct=eD(ke,je==="characterReferenceMarkerNumeric"?10:16),a("characterReferenceType")):ct=vA(ke);const Je=this.stack.pop();Je.value+=ct,Je.position.end=Mf(xe.end)}function Ce(xe){O.call(this,xe);const ke=this.stack[this.stack.length-1];ke.url=this.sliceSerialize(xe)}function Oe(xe){O.call(this,xe);const ke=this.stack[this.stack.length-1];ke.url="mailto:"+this.sliceSerialize(xe)}function Ie(){return{type:"blockquote",children:[]}}function $e(){return{type:"code",lang:null,meta:null,value:""}}function We(){return{type:"inlineCode",value:""}}function V(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Se(){return{type:"emphasis",children:[]}}function se(){return{type:"heading",depth:void 0,children:[]}}function he(){return{type:"break"}}function de(){return{type:"html",value:""}}function we(){return{type:"image",title:null,url:"",alt:null}}function Le(){return{type:"link",title:null,url:"",children:[]}}function Pe(xe){return{type:"list",ordered:xe.type==="listOrdered",start:null,spread:xe._spread,children:[]}}function _e(xe){return{type:"listItem",spread:xe._spread,checked:null,children:[]}}function Ke(){return{type:"paragraph",children:[]}}function ot(){return{type:"strong",children:[]}}function nt(){return{type:"text",value:""}}function De(){return{type:"thematicBreak"}}}function Mf(e){return{line:e.line,column:e.column,offset:e.offset}}function nD(e,n){let t=-1;for(;++t<n.length;){const r=n[t];Array.isArray(r)?nD(e,r):cne(e,r)}}function cne(e,n){let t;for(t in n)if(tD.call(n,t)){if(t==="canContainEols"){const r=n[t];r&&e[t].push(...r)}else if(t==="transforms"){const r=n[t];r&&e[t].push(...r)}else if(t==="enter"||t==="exit"){const r=n[t];r&&Object.assign(e[t],r)}}}function G4(e,n){throw e?new Error("Cannot close `"+e.type+"` ("+J1({start:e.start,end:e.end})+"): a different token (`"+n.type+"`, "+J1({start:n.start,end:n.end})+") is open"):new Error("Cannot close document, a token (`"+n.type+"`, "+J1({start:n.start,end:n.end})+") is still open")}function dne(e){Object.assign(this,{Parser:t=>{const r=this.data("settings");return lne(t,Object.assign({},r,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function fne(e,n){const t={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(n),!0)};return e.patch(n,t),e.applyData(n,t)}function hne(e,n){const t={type:"element",tagName:"br",properties:{},children:[]};return e.patch(n,t),[e.applyData(n,t),{type:"text",value:`
`}]}function pne(e,n){const t=n.value?n.value+`
`:"",r=n.lang?n.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,i={};r&&(i.className=["language-"+r]);let a={type:"element",tagName:"code",properties:i,children:[{type:"text",value:t}]};return n.meta&&(a.data={meta:n.meta}),e.patch(n,a),a=e.applyData(n,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(n,a),a}function mne(e,n){const t={type:"element",tagName:"del",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function gne(e,n){const t={type:"element",tagName:"em",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function hm(e){const n=[];let t=-1,r=0,i=0;for(;++t<e.length;){const a=e.charCodeAt(t);let s="";if(a===37&&Ko(e.charCodeAt(t+1))&&Ko(e.charCodeAt(t+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const l=e.charCodeAt(t+1);a<56320&&l>56319&&l<57344?(s=String.fromCharCode(a,l),i=1):s=""}else s=String.fromCharCode(a);s&&(n.push(e.slice(r,t),encodeURIComponent(s)),r=t+i+1,s=""),i&&(t+=i,i=0)}return n.join("")+e.slice(r)}function rD(e,n){const t=String(n.identifier).toUpperCase(),r=hm(t.toLowerCase()),i=e.footnoteOrder.indexOf(t);let a;i===-1?(e.footnoteOrder.push(t),e.footnoteCounts[t]=1,a=e.footnoteOrder.length):(e.footnoteCounts[t]++,a=i+1);const s=e.footnoteCounts[t],l={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fn-"+r,id:e.clobberPrefix+"fnref-"+r+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(n,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(n,c),e.applyData(n,c)}function bne(e,n){const t=e.footnoteById;let r=1;for(;r in t;)r++;const i=String(r);return t[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:n.children}],position:n.position},rD(e,{type:"footnoteReference",identifier:i,position:n.position})}function yne(e,n){const t={type:"element",tagName:"h"+n.depth,properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function xne(e,n){if(e.dangerous){const t={type:"raw",value:n.value};return e.patch(n,t),e.applyData(n,t)}return null}function iD(e,n){const t=n.referenceType;let r="]";if(t==="collapsed"?r+="[]":t==="full"&&(r+="["+(n.label||n.identifier)+"]"),n.type==="imageReference")return{type:"text",value:"!["+n.alt+r};const i=e.all(n),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function vne(e,n){const t=e.definition(n.identifier);if(!t)return iD(e,n);const r={src:hm(t.url||""),alt:n.alt};t.title!==null&&t.title!==void 0&&(r.title=t.title);const i={type:"element",tagName:"img",properties:r,children:[]};return e.patch(n,i),e.applyData(n,i)}function wne(e,n){const t={src:hm(n.url)};n.alt!==null&&n.alt!==void 0&&(t.alt=n.alt),n.title!==null&&n.title!==void 0&&(t.title=n.title);const r={type:"element",tagName:"img",properties:t,children:[]};return e.patch(n,r),e.applyData(n,r)}function Sne(e,n){const t={type:"text",value:n.value.replace(/\r?\n|\r/g," ")};e.patch(n,t);const r={type:"element",tagName:"code",properties:{},children:[t]};return e.patch(n,r),e.applyData(n,r)}function Ane(e,n){const t=e.definition(n.identifier);if(!t)return iD(e,n);const r={href:hm(t.url||"")};t.title!==null&&t.title!==void 0&&(r.title=t.title);const i={type:"element",tagName:"a",properties:r,children:e.all(n)};return e.patch(n,i),e.applyData(n,i)}function Cne(e,n){const t={href:hm(n.url)};n.title!==null&&n.title!==void 0&&(t.title=n.title);const r={type:"element",tagName:"a",properties:t,children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function Ene(e,n,t){const r=e.all(n),i=t?_ne(t):aD(n),a={},s=[];if(typeof n.checked=="boolean"){const h=r[0];let g;h&&h.type==="element"&&h.tagName==="p"?g=h:(g={type:"element",tagName:"p",properties:{},children:[]},r.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:n.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const h=r[l];(i||l!==0||h.type!=="element"||h.tagName!=="p")&&s.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?s.push(...h.children):s.push(h)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:a,children:s};return e.patch(n,d),e.applyData(n,d)}function _ne(e){let n=!1;if(e.type==="list"){n=e.spread||!1;const t=e.children;let r=-1;for(;!n&&++r<t.length;)n=aD(t[r])}return n}function aD(e){const n=e.spread;return n??e.children.length>1}function kne(e,n){const t={},r=e.all(n);let i=-1;for(typeof n.start=="number"&&n.start!==1&&(t.start=n.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const a={type:"element",tagName:n.ordered?"ol":"ul",properties:t,children:e.wrap(r,!0)};return e.patch(n,a),e.applyData(n,a)}function jne(e,n){const t={type:"element",tagName:"p",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function Nne(e,n){const t={type:"root",children:e.wrap(e.all(n))};return e.patch(n,t),e.applyData(n,t)}function Tne(e,n){const t={type:"element",tagName:"strong",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}const SA=sD("start"),AA=sD("end");function One(e){return{start:SA(e),end:AA(e)}}function sD(e){return n;function n(t){const r=t&&t.position&&t.position[e]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function Ine(e,n){const t=e.all(n),r=t.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(n.children[0],s),i.push(s)}if(t.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(t,!0)},l=SA(n.children[1]),c=AA(n.children[n.children.length-1]);l.line&&c.line&&(s.position={start:l,end:c}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(n,a),e.applyData(n,a)}function Dne(e,n,t){const r=t?t.children:void 0,a=(r?r.indexOf(n):1)===0?"th":"td",s=t&&t.type==="table"?t.align:void 0,l=s?s.length:n.children.length;let c=-1;const d=[];for(;++c<l;){const g=n.children[c],b={},m=s?s[c]:void 0;m&&(b.align=m);let x={type:"element",tagName:a,properties:b,children:[]};g&&(x.children=e.all(g),e.patch(g,x),x=e.applyData(n,x)),d.push(x)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(d,!0)};return e.patch(n,h),e.applyData(n,h)}function Lne(e,n){const t={type:"element",tagName:"td",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}const Q4=9,K4=32;function Rne(e){const n=String(e),t=/\r?\n|\r/g;let r=t.exec(n),i=0;const a=[];for(;r;)a.push(X4(n.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=t.exec(n);return a.push(X4(n.slice(i),i>0,!1)),a.join("")}function X4(e,n,t){let r=0,i=e.length;if(n){let a=e.codePointAt(r);for(;a===Q4||a===K4;)r++,a=e.codePointAt(r)}if(t){let a=e.codePointAt(i-1);for(;a===Q4||a===K4;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Mne(e,n){const t={type:"text",value:Rne(String(n.value))};return e.patch(n,t),e.applyData(n,t)}function Fne(e,n){const t={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(n,t),e.applyData(n,t)}const Pne={blockquote:fne,break:hne,code:pne,delete:mne,emphasis:gne,footnoteReference:rD,footnote:bne,heading:yne,html:xne,imageReference:vne,image:wne,inlineCode:Sne,linkReference:Ane,link:Cne,listItem:Ene,list:kne,paragraph:jne,root:Nne,strong:Tne,table:Ine,tableCell:Lne,tableRow:Dne,text:Mne,thematicBreak:Fne,toml:zy,yaml:zy,definition:zy,footnoteDefinition:zy};function zy(){return null}const oD=function(e){if(e==null)return Une;if(typeof e=="string")return Bne(e);if(typeof e=="object")return Array.isArray(e)?zne(e):qne(e);if(typeof e=="function")return Rv(e);throw new Error("Expected function, string, or object as test")};function zne(e){const n=[];let t=-1;for(;++t<e.length;)n[t]=oD(e[t]);return Rv(r);function r(...i){let a=-1;for(;++a<n.length;)if(n[a].call(this,...i))return!0;return!1}}function qne(e){return Rv(n);function n(t){let r;for(r in e)if(t[r]!==e[r])return!1;return!0}}function Bne(e){return Rv(n);function n(t){return t&&t.type===e}}function Rv(e){return n;function n(t,...r){return!!(t&&typeof t=="object"&&"type"in t&&e.call(this,t,...r))}}function Une(){return!0}const $ne=!0,Z4=!1,Hne="skip",Wne=function(e,n,t,r){typeof n=="function"&&typeof t!="function"&&(r=t,t=n,n=null);const i=oD(n),a=r?-1:1;s(e,void 0,[])();function s(l,c,d){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const b=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(l.type+(b?"<"+b+">":""))+")"})}return g;function g(){let b=[],m,x,y;if((!n||i(l,c,d[d.length-1]||null))&&(b=Vne(t(l,d)),b[0]===Z4))return b;if(l.children&&b[0]!==Hne)for(x=(r?l.children.length:-1)+a,y=d.concat(l);x>-1&&x<l.children.length;){if(m=s(l.children[x],x,y)(),m[0]===Z4)return m;x=typeof m[1]=="number"?m[1]:x+a}return b}}};function Vne(e){return Array.isArray(e)?e:typeof e=="number"?[$ne,e]:[e]}const CA=function(e,n,t,r){typeof n=="function"&&typeof t!="function"&&(r=t,t=n,n=null),Wne(e,n,i,r);function i(a,s){const l=s[s.length-1];return t(a,l?l.children.indexOf(a):null,l)}};function Yne(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const J4={}.hasOwnProperty;function Gne(e){const n=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return CA(e,"definition",r=>{const i=ej(r.identifier);i&&!J4.call(n,i)&&(n[i]=r)}),t;function t(r){const i=ej(r);return i&&J4.call(n,i)?n[i]:null}}function ej(e){return String(e||"").toUpperCase()}const Gx={}.hasOwnProperty;function Qne(e,n){const t=n||{},r=t.allowDangerousHtml||!1,i={};return s.dangerous=r,s.clobberPrefix=t.clobberPrefix===void 0||t.clobberPrefix===null?"user-content-":t.clobberPrefix,s.footnoteLabel=t.footnoteLabel||"Footnotes",s.footnoteLabelTagName=t.footnoteLabelTagName||"h2",s.footnoteLabelProperties=t.footnoteLabelProperties||{className:["sr-only"]},s.footnoteBackLabel=t.footnoteBackLabel||"Back to content",s.unknownHandler=t.unknownHandler,s.passThrough=t.passThrough,s.handlers={...Pne,...t.handlers},s.definition=Gne(e),s.footnoteById=i,s.footnoteOrder=[],s.footnoteCounts={},s.patch=Kne,s.applyData=Xne,s.one=l,s.all=c,s.wrap=Jne,s.augment=a,CA(e,"footnoteDefinition",d=>{const h=String(d.identifier).toUpperCase();Gx.call(i,h)||(i[h]=d)}),s;function a(d,h){if(d&&"data"in d&&d.data){const g=d.data;g.hName&&(h.type!=="element"&&(h={type:"element",tagName:"",properties:{},children:[]}),h.tagName=g.hName),h.type==="element"&&g.hProperties&&(h.properties={...h.properties,...g.hProperties}),"children"in h&&h.children&&g.hChildren&&(h.children=g.hChildren)}if(d){const g="type"in d?d:{position:d};Yne(g)||(h.position={start:SA(g),end:AA(g)})}return h}function s(d,h,g,b){return Array.isArray(g)&&(b=g,g={}),a(d,{type:"element",tagName:h,properties:g||{},children:b||[]})}function l(d,h){return lD(s,d,h)}function c(d){return EA(s,d)}}function Kne(e,n){e.position&&(n.position=One(e))}function Xne(e,n){let t=n;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;typeof r=="string"&&(t.type==="element"?t.tagName=r:t={type:"element",tagName:r,properties:{},children:[]}),t.type==="element"&&a&&(t.properties={...t.properties,...a}),"children"in t&&t.children&&i!==null&&i!==void 0&&(t.children=i)}return t}function lD(e,n,t){const r=n&&n.type;if(!r)throw new Error("Expected node, got `"+n+"`");return Gx.call(e.handlers,r)?e.handlers[r](e,n,t):e.passThrough&&e.passThrough.includes(r)?"children"in n?{...n,children:EA(e,n)}:n:e.unknownHandler?e.unknownHandler(e,n,t):Zne(e,n)}function EA(e,n){const t=[];if("children"in n){const r=n.children;let i=-1;for(;++i<r.length;){const a=lD(e,r[i],n);if(a){if(i&&r[i-1].type==="break"&&(!Array.isArray(a)&&a.type==="text"&&(a.value=a.value.replace(/^\s+/,"")),!Array.isArray(a)&&a.type==="element")){const s=a.children[0];s&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,""))}Array.isArray(a)?t.push(...a):t.push(a)}}}return t}function Zne(e,n){const t=n.data||{},r="value"in n&&!(Gx.call(t,"hProperties")||Gx.call(t,"hChildren"))?{type:"text",value:n.value}:{type:"element",tagName:"div",properties:{},children:EA(e,n)};return e.patch(n,r),e.applyData(n,r)}function Jne(e,n){const t=[];let r=-1;for(n&&t.push({type:"text",value:`
`});++r<e.length;)r&&t.push({type:"text",value:`
`}),t.push(e[r]);return n&&e.length>0&&t.push({type:"text",value:`
`}),t}function ere(e){const n=[];let t=-1;for(;++t<e.footnoteOrder.length;){const r=e.footnoteById[e.footnoteOrder[t]];if(!r)continue;const i=e.all(r),a=String(r.identifier).toUpperCase(),s=hm(a.toLowerCase());let l=0;const c=[];for(;++l<=e.footnoteCounts[a];){const g={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+s+(l>1?"-"+l:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:""}]};l>1&&g.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(l)}]}),c.length>0&&c.push({type:"text",value:" "}),c.push(g)}const d=i[i.length-1];if(d&&d.type==="element"&&d.tagName==="p"){const g=d.children[d.children.length-1];g&&g.type==="text"?g.value+=" ":d.children.push({type:"text",value:" "}),d.children.push(...c)}else i.push(...c);const h={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+s},children:e.wrap(i,!0)};e.patch(r,h),n.push(h)}if(n.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:e.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(n,!0)},{type:"text",value:`
`}]}}function uD(e,n){const t=Qne(e,n),r=t.one(e,null),i=ere(t);return i&&r.children.push({type:"text",value:`
`},i),Array.isArray(r)?{type:"root",children:r}:r}const tre=function(e,n){return e&&"run"in e?nre(e,n):rre(e||n)};function nre(e,n){return(t,r,i)=>{e.run(uD(t,n),r,a=>{i(a)})}}function rre(e){return n=>uD(n,e)}class tb{constructor(n,t,r){this.property=n,this.normal=t,r&&(this.space=r)}}tb.prototype.property={};tb.prototype.normal={};tb.prototype.space=null;function cD(e,n){const t={},r={};let i=-1;for(;++i<e.length;)Object.assign(t,e[i].property),Object.assign(r,e[i].normal);return new tb(t,r,n)}function KS(e){return e.toLowerCase()}class zl{constructor(n,t){this.property=n,this.attribute=t}}zl.prototype.space=null;zl.prototype.boolean=!1;zl.prototype.booleanish=!1;zl.prototype.overloadedBoolean=!1;zl.prototype.number=!1;zl.prototype.commaSeparated=!1;zl.prototype.spaceSeparated=!1;zl.prototype.commaOrSpaceSeparated=!1;zl.prototype.mustUseProperty=!1;zl.prototype.defined=!1;let ire=0;const kn=jp(),ja=jp(),dD=jp(),_t=jp(),ai=jp(),$0=jp(),$o=jp();function jp(){return 2**++ire}const XS=Object.freeze(Object.defineProperty({__proto__:null,boolean:kn,booleanish:ja,commaOrSpaceSeparated:$o,commaSeparated:$0,number:_t,overloadedBoolean:dD,spaceSeparated:ai},Symbol.toStringTag,{value:"Module"})),Aw=Object.keys(XS);class _A extends zl{constructor(n,t,r,i){let a=-1;if(super(n,t),tj(this,"space",i),typeof r=="number")for(;++a<Aw.length;){const s=Aw[a];tj(this,Aw[a],(r&XS[s])===XS[s])}}}_A.prototype.defined=!0;function tj(e,n,t){t&&(e[n]=t)}const are={}.hasOwnProperty;function pm(e){const n={},t={};let r;for(r in e.properties)if(are.call(e.properties,r)){const i=e.properties[r],a=new _A(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),n[r]=a,t[KS(r)]=r,t[KS(a.attribute)]=r}return new tb(n,t,e.space)}const fD=pm({space:"xlink",transform(e,n){return"xlink:"+n.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),hD=pm({space:"xml",transform(e,n){return"xml:"+n.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function pD(e,n){return n in e?e[n]:n}function mD(e,n){return pD(e,n.toLowerCase())}const gD=pm({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:mD,properties:{xmlns:null,xmlnsXLink:null}}),bD=pm({transform(e,n){return n==="role"?n:"aria-"+n.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:ja,ariaAutoComplete:null,ariaBusy:ja,ariaChecked:ja,ariaColCount:_t,ariaColIndex:_t,ariaColSpan:_t,ariaControls:ai,ariaCurrent:null,ariaDescribedBy:ai,ariaDetails:null,ariaDisabled:ja,ariaDropEffect:ai,ariaErrorMessage:null,ariaExpanded:ja,ariaFlowTo:ai,ariaGrabbed:ja,ariaHasPopup:null,ariaHidden:ja,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ai,ariaLevel:_t,ariaLive:null,ariaModal:ja,ariaMultiLine:ja,ariaMultiSelectable:ja,ariaOrientation:null,ariaOwns:ai,ariaPlaceholder:null,ariaPosInSet:_t,ariaPressed:ja,ariaReadOnly:ja,ariaRelevant:null,ariaRequired:ja,ariaRoleDescription:ai,ariaRowCount:_t,ariaRowIndex:_t,ariaRowSpan:_t,ariaSelected:ja,ariaSetSize:_t,ariaSort:null,ariaValueMax:_t,ariaValueMin:_t,ariaValueNow:_t,ariaValueText:null,role:null}}),sre=pm({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:mD,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:$0,acceptCharset:ai,accessKey:ai,action:null,allow:null,allowFullScreen:kn,allowPaymentRequest:kn,allowUserMedia:kn,alt:null,as:null,async:kn,autoCapitalize:null,autoComplete:ai,autoFocus:kn,autoPlay:kn,blocking:ai,capture:null,charSet:null,checked:kn,cite:null,className:ai,cols:_t,colSpan:null,content:null,contentEditable:ja,controls:kn,controlsList:ai,coords:_t|$0,crossOrigin:null,data:null,dateTime:null,decoding:null,default:kn,defer:kn,dir:null,dirName:null,disabled:kn,download:dD,draggable:ja,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:kn,formTarget:null,headers:ai,height:_t,hidden:kn,high:_t,href:null,hrefLang:null,htmlFor:ai,httpEquiv:ai,id:null,imageSizes:null,imageSrcSet:null,inert:kn,inputMode:null,integrity:null,is:null,isMap:kn,itemId:null,itemProp:ai,itemRef:ai,itemScope:kn,itemType:ai,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:kn,low:_t,manifest:null,max:null,maxLength:_t,media:null,method:null,min:null,minLength:_t,multiple:kn,muted:kn,name:null,nonce:null,noModule:kn,noValidate:kn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:kn,optimum:_t,pattern:null,ping:ai,placeholder:null,playsInline:kn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:kn,referrerPolicy:null,rel:ai,required:kn,reversed:kn,rows:_t,rowSpan:_t,sandbox:ai,scope:null,scoped:kn,seamless:kn,selected:kn,shadowRootClonable:kn,shadowRootDelegatesFocus:kn,shadowRootMode:null,shape:null,size:_t,sizes:null,slot:null,span:_t,spellCheck:ja,src:null,srcDoc:null,srcLang:null,srcSet:null,start:_t,step:null,style:null,tabIndex:_t,target:null,title:null,translate:null,type:null,typeMustMatch:kn,useMap:null,value:ja,width:_t,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ai,axis:null,background:null,bgColor:null,border:_t,borderColor:null,bottomMargin:_t,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:kn,declare:kn,event:null,face:null,frame:null,frameBorder:null,hSpace:_t,leftMargin:_t,link:null,longDesc:null,lowSrc:null,marginHeight:_t,marginWidth:_t,noResize:kn,noHref:kn,noShade:kn,noWrap:kn,object:null,profile:null,prompt:null,rev:null,rightMargin:_t,rules:null,scheme:null,scrolling:ja,standby:null,summary:null,text:null,topMargin:_t,valueType:null,version:null,vAlign:null,vLink:null,vSpace:_t,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:kn,disableRemotePlayback:kn,prefix:null,property:null,results:_t,security:null,unselectable:null}}),ore=pm({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:pD,properties:{about:$o,accentHeight:_t,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:_t,amplitude:_t,arabicForm:null,ascent:_t,attributeName:null,attributeType:null,azimuth:_t,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:_t,by:null,calcMode:null,capHeight:_t,className:ai,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:_t,diffuseConstant:_t,direction:null,display:null,dur:null,divisor:_t,dominantBaseline:null,download:kn,dx:null,dy:null,edgeMode:null,editable:null,elevation:_t,enableBackground:null,end:null,event:null,exponent:_t,externalResourcesRequired:null,fill:null,fillOpacity:_t,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:$0,g2:$0,glyphName:$0,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:_t,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:_t,horizOriginX:_t,horizOriginY:_t,id:null,ideographic:_t,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:_t,k:_t,k1:_t,k2:_t,k3:_t,k4:_t,kernelMatrix:$o,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:_t,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:_t,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:_t,overlineThickness:_t,paintOrder:null,panose1:null,path:null,pathLength:_t,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ai,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:_t,pointsAtY:_t,pointsAtZ:_t,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:$o,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:$o,rev:$o,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:$o,requiredFeatures:$o,requiredFonts:$o,requiredFormats:$o,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:_t,specularExponent:_t,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:_t,strikethroughThickness:_t,string:null,stroke:null,strokeDashArray:$o,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:_t,strokeOpacity:_t,strokeWidth:null,style:null,surfaceScale:_t,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:$o,tabIndex:_t,tableValues:null,target:null,targetX:_t,targetY:_t,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:$o,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:_t,underlineThickness:_t,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:_t,values:null,vAlphabetic:_t,vMathematical:_t,vectorEffect:null,vHanging:_t,vIdeographic:_t,version:null,vertAdvY:_t,vertOriginX:_t,vertOriginY:_t,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:_t,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),lre=/^data[-\w.:]+$/i,nj=/-[a-z]/g,ure=/[A-Z]/g;function cre(e,n){const t=KS(n);let r=n,i=zl;if(t in e.normal)return e.property[e.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&lre.test(n)){if(n.charAt(4)==="-"){const a=n.slice(5).replace(nj,fre);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=n.slice(4);if(!nj.test(a)){let s=a.replace(ure,dre);s.charAt(0)!=="-"&&(s="-"+s),n="data"+s}}i=_A}return new i(r,n)}function dre(e){return"-"+e.toLowerCase()}function fre(e){return e.charAt(1).toUpperCase()}const rj={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},hre=cD([hD,fD,gD,bD,sre],"html"),pre=cD([hD,fD,gD,bD,ore],"svg");function mre(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return n=>{CA(n,"element",(t,r,i)=>{const a=i;let s;if(e.allowedElements?s=!e.allowedElements.includes(t.tagName):e.disallowedElements&&(s=e.disallowedElements.includes(t.tagName)),!s&&e.allowElement&&typeof r=="number"&&(s=!e.allowElement(t,r,a)),s&&typeof r=="number")return e.unwrapDisallowed&&t.children?a.children.splice(r,1,...t.children):a.children.splice(r,1),r})}}var Cw={exports:{}},_r={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ij;function gre(){if(ij)return _r;ij=1;var e=Symbol.for("react.element"),n=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function y(A){if(typeof A=="object"&&A!==null){var w=A.$$typeof;switch(w){case e:switch(A=A.type,A){case t:case i:case r:case d:case h:return A;default:switch(A=A&&A.$$typeof,A){case l:case s:case c:case b:case g:case a:return A;default:return w}}case n:return w}}}return _r.ContextConsumer=s,_r.ContextProvider=a,_r.Element=e,_r.ForwardRef=c,_r.Fragment=t,_r.Lazy=b,_r.Memo=g,_r.Portal=n,_r.Profiler=i,_r.StrictMode=r,_r.Suspense=d,_r.SuspenseList=h,_r.isAsyncMode=function(){return!1},_r.isConcurrentMode=function(){return!1},_r.isContextConsumer=function(A){return y(A)===s},_r.isContextProvider=function(A){return y(A)===a},_r.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===e},_r.isForwardRef=function(A){return y(A)===c},_r.isFragment=function(A){return y(A)===t},_r.isLazy=function(A){return y(A)===b},_r.isMemo=function(A){return y(A)===g},_r.isPortal=function(A){return y(A)===n},_r.isProfiler=function(A){return y(A)===i},_r.isStrictMode=function(A){return y(A)===r},_r.isSuspense=function(A){return y(A)===d},_r.isSuspenseList=function(A){return y(A)===h},_r.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===t||A===i||A===r||A===d||A===h||A===m||typeof A=="object"&&A!==null&&(A.$$typeof===b||A.$$typeof===g||A.$$typeof===a||A.$$typeof===s||A.$$typeof===c||A.$$typeof===x||A.getModuleId!==void 0)},_r.typeOf=y,_r}var aj;function bre(){return aj||(aj=1,Cw.exports=gre()),Cw.exports}var yre=bre();const xre=ns(yre);function vre(e){const n=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof n=="string"&&n.replace(/[ \t\n\f\r]/g,"")===""}function wre(e){return e.join(" ").trim()}function Sre(e,n){const t={};return(e[e.length-1]===""?[...e,""]:e).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}var qy={exports:{}},Ew,sj;function Are(){if(sj)return Ew;sj=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,t=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,l=/^\s+|\s+$/g,c=`
`,d="/",h="*",g="",b="comment",m="declaration";Ew=function(y,A){if(typeof y!="string")throw new TypeError("First argument must be a string");if(!y)return[];A=A||{};var w=1,C=1;function j(R){var N=R.match(n);N&&(w+=N.length);var K=R.lastIndexOf(c);C=~K?R.length-K:C+R.length}function F(){var R={line:w,column:C};return function(N){return N.position=new z(R),M(),N}}function z(R){this.start=R,this.end={line:w,column:C},this.source=A.source}z.prototype.content=y;function L(R){var N=new Error(A.source+":"+w+":"+C+": "+R);if(N.reason=R,N.filename=A.source,N.line=w,N.column=C,N.source=y,!A.silent)throw N}function k(R){var N=R.exec(y);if(N){var K=N[0];return j(K),y=y.slice(K.length),N}}function M(){k(t)}function q(R){var N;for(R=R||[];N=Q();)N!==!1&&R.push(N);return R}function Q(){var R=F();if(!(d!=y.charAt(0)||h!=y.charAt(1))){for(var N=2;g!=y.charAt(N)&&(h!=y.charAt(N)||d!=y.charAt(N+1));)++N;if(N+=2,g===y.charAt(N-1))return L("End of comment missing");var K=y.slice(2,N-2);return C+=2,j(K),y=y.slice(N),C+=2,R({type:b,comment:K})}}function T(){var R=F(),N=k(r);if(N){if(Q(),!k(i))return L("property missing ':'");var K=k(a),H=R({type:m,property:x(N[0].replace(e,g)),value:K?x(K[0].replace(e,g)):g});return k(s),H}}function O(){var R=[];q(R);for(var N;N=T();)N!==!1&&(R.push(N),q(R));return R}return M(),O()};function x(y){return y?y.replace(l,g):g}return Ew}var oj;function Cre(){if(oj)return qy.exports;oj=1;var e=Are();function n(t,r){var i=null;if(!t||typeof t!="string")return i;for(var a,s=e(t),l=typeof r=="function",c,d,h=0,g=s.length;h<g;h++)a=s[h],c=a.property,d=a.value,l?r(c,d,a):d&&(i||(i={}),i[c]=d);return i}return qy.exports=n,qy.exports.default=n,qy.exports}var Ere=Cre();const _re=ns(Ere),ZS={}.hasOwnProperty,kre=new Set(["table","thead","tbody","tfoot","tr"]);function yD(e,n){const t=[];let r=-1,i;for(;++r<n.children.length;)i=n.children[r],i.type==="element"?t.push(jre(e,i,r,n)):i.type==="text"?(n.type!=="element"||!kre.has(n.tagName)||!vre(i))&&t.push(i.value):i.type==="raw"&&!e.options.skipHtml&&t.push(i.value);return t}function jre(e,n,t,r){const i=e.options,a=i.transformLinkUri===void 0?PJ:i.transformLinkUri,s=e.schema,l=n.tagName,c={};let d=s,h;if(s.space==="html"&&l==="svg"&&(d=pre,e.schema=d),n.properties)for(h in n.properties)ZS.call(n.properties,h)&&Tre(c,h,n.properties[h],e);(l==="ol"||l==="ul")&&e.listDepth++;const g=yD(e,n);(l==="ol"||l==="ul")&&e.listDepth--,e.schema=s;const b=n.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},m=i.components&&ZS.call(i.components,l)?i.components[l]:l,x=typeof m=="string"||m===it.Fragment;if(!xre.isValidElementType(m))throw new TypeError(`Component for name \`${l}\` not defined or is not renderable`);if(c.key=t,l==="a"&&i.linkTarget&&(c.target=typeof i.linkTarget=="function"?i.linkTarget(String(c.href||""),n.children,typeof c.title=="string"?c.title:null):i.linkTarget),l==="a"&&a&&(c.href=a(String(c.href||""),n.children,typeof c.title=="string"?c.title:null)),!x&&l==="code"&&r.type==="element"&&r.tagName!=="pre"&&(c.inline=!0),!x&&(l==="h1"||l==="h2"||l==="h3"||l==="h4"||l==="h5"||l==="h6")&&(c.level=Number.parseInt(l.charAt(1),10)),l==="img"&&i.transformImageUri&&(c.src=i.transformImageUri(String(c.src||""),String(c.alt||""),typeof c.title=="string"?c.title:null)),!x&&l==="li"&&r.type==="element"){const y=Nre(n);c.checked=y&&y.properties?!!y.properties.checked:null,c.index=_w(r,n),c.ordered=r.tagName==="ol"}return!x&&(l==="ol"||l==="ul")&&(c.ordered=l==="ol",c.depth=e.listDepth),(l==="td"||l==="th")&&(c.align&&(c.style||(c.style={}),c.style.textAlign=c.align,delete c.align),x||(c.isHeader=l==="th")),!x&&l==="tr"&&r.type==="element"&&(c.isHeader=r.tagName==="thead"),i.sourcePos&&(c["data-sourcepos"]=Dre(b)),!x&&i.rawSourcePos&&(c.sourcePosition=n.position),!x&&i.includeElementIndex&&(c.index=_w(r,n),c.siblingCount=_w(r)),x||(c.node=n),g.length>0?it.createElement(m,c,g):it.createElement(m,c)}function Nre(e){let n=-1;for(;++n<e.children.length;){const t=e.children[n];if(t.type==="element"&&t.tagName==="input")return t}return null}function _w(e,n){let t=-1,r=0;for(;++t<e.children.length&&e.children[t]!==n;)e.children[t].type==="element"&&r++;return r}function Tre(e,n,t,r){const i=cre(r.schema,n);let a=t;a==null||a!==a||(Array.isArray(a)&&(a=i.commaSeparated?Sre(a):wre(a)),i.property==="style"&&typeof a=="string"&&(a=Ore(a)),i.space&&i.property?e[ZS.call(rj,i.property)?rj[i.property]:i.property]=a:i.attribute&&(e[i.attribute]=a))}function Ore(e){const n={};try{_re(e,t)}catch{}return n;function t(r,i){const a=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;n[a.replace(/-([a-z])/g,Ire)]=i}}function Ire(e,n){return n.toUpperCase()}function Dre(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}const lj={}.hasOwnProperty,Lre="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",By={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function kA(e){for(const a in By)if(lj.call(By,a)&&lj.call(e,a)){const s=By[a];console.warn(`[react-markdown] Warning: please ${s.to?`use \`${s.to}\` instead of`:"remove"} \`${a}\` (see <${Lre}#${s.id}> for more info)`),delete By[a]}const n=nee().use(dne).use(e.remarkPlugins||[]).use(tre,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(mre,e),t=new BI;typeof e.children=="string"?t.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const r=n.runSync(n.parse(t),t);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=it.createElement(it.Fragment,{},yD({options:e,schema:hre,listDepth:0},r));return e.className&&(i=it.createElement("div",{className:e.className},i)),i}kA.propTypes={children:Sn.string,className:Sn.string,allowElement:Sn.func,allowedElements:Sn.arrayOf(Sn.string),disallowedElements:Sn.arrayOf(Sn.string),unwrapDisallowed:Sn.bool,remarkPlugins:Sn.arrayOf(Sn.oneOfType([Sn.object,Sn.func,Sn.arrayOf(Sn.oneOfType([Sn.bool,Sn.string,Sn.object,Sn.func,Sn.arrayOf(Sn.any)]))])),rehypePlugins:Sn.arrayOf(Sn.oneOfType([Sn.object,Sn.func,Sn.arrayOf(Sn.oneOfType([Sn.bool,Sn.string,Sn.object,Sn.func,Sn.arrayOf(Sn.any)]))])),sourcePos:Sn.bool,rawSourcePos:Sn.bool,skipHtml:Sn.bool,includeElementIndex:Sn.bool,transformLinkUri:Sn.oneOfType([Sn.func,Sn.bool]),linkTarget:Sn.oneOfType([Sn.func,Sn.string]),transformImageUri:Sn.func,components:Sn.object};function jA(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Qd(e){if(e.__esModule)return e;var n=e.default;if(typeof n=="function"){var t=function r(){return this instanceof r?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};t.prototype=n.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),t}var uj={exports:{}},j1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cj;function Rre(){if(cj)return j1;cj=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function t(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:s,ref:i!==void 0?i:null,props:a}}return j1.Fragment=n,j1.jsx=t,j1.jsxs=t,j1}var dj;function NA(){return dj||(dj=1,uj.exports=Rre()),uj.exports}var yn=NA(),N1={},fj={exports:{}},hj;function Mv(){return hj||(hj=1,function(e){function n(t){return t&&t.__esModule?t:{default:t}}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(fj)),fj.exports}var pj={};function Vr(){return Vr=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Vr.apply(null,arguments)}function qf(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function xD(e){if(X.isValidElement(e)||!qf(e))return e;const n={};return Object.keys(e).forEach(t=>{n[t]=xD(e[t])}),n}function Ic(e,n,t={clone:!0}){const r=t.clone?Vr({},e):e;return qf(e)&&qf(n)&&Object.keys(n).forEach(i=>{X.isValidElement(n[i])?r[i]=n[i]:qf(n[i])&&Object.prototype.hasOwnProperty.call(e,i)&&qf(e[i])?r[i]=Ic(e[i],n[i],t):t.clone?r[i]=qf(n[i])?xD(n[i]):n[i]:r[i]=n[i]}),r}const Mre=Object.freeze(Object.defineProperty({__proto__:null,default:Ic,isPlainObject:qf},Symbol.toStringTag,{value:"Module"}));function _g(e){let n="https://mui.com/production-error/?code="+e;for(let t=1;t<arguments.length;t+=1)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified MUI error #"+e+"; visit "+n+" for the full message."}const Fre=Object.freeze(Object.defineProperty({__proto__:null,default:_g},Symbol.toStringTag,{value:"Module"}));var mj={exports:{}},$r={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gj;function Pre(){if(gj)return $r;gj=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),m=Symbol.for("react.client.reference");function x(y){if(typeof y=="object"&&y!==null){var A=y.$$typeof;switch(A){case e:switch(y=y.type,y){case t:case i:case r:case c:case d:return y;default:switch(y=y&&y.$$typeof,y){case s:case l:case g:case h:return y;case a:return y;default:return A}}case n:return A}}}return $r.ContextConsumer=a,$r.ContextProvider=s,$r.Element=e,$r.ForwardRef=l,$r.Fragment=t,$r.Lazy=g,$r.Memo=h,$r.Portal=n,$r.Profiler=i,$r.StrictMode=r,$r.Suspense=c,$r.SuspenseList=d,$r.isContextConsumer=function(y){return x(y)===a},$r.isContextProvider=function(y){return x(y)===s},$r.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},$r.isForwardRef=function(y){return x(y)===l},$r.isFragment=function(y){return x(y)===t},$r.isLazy=function(y){return x(y)===g},$r.isMemo=function(y){return x(y)===h},$r.isPortal=function(y){return x(y)===n},$r.isProfiler=function(y){return x(y)===i},$r.isStrictMode=function(y){return x(y)===r},$r.isSuspense=function(y){return x(y)===c},$r.isSuspenseList=function(y){return x(y)===d},$r.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===t||y===i||y===r||y===c||y===d||y===b||typeof y=="object"&&y!==null&&(y.$$typeof===g||y.$$typeof===h||y.$$typeof===s||y.$$typeof===a||y.$$typeof===l||y.$$typeof===m||y.getModuleId!==void 0)},$r.typeOf=x,$r}var bj;function zre(){return bj||(bj=1,mj.exports=Pre()),mj.exports}var yj=zre();const qre=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function vD(e){const n=`${e}`.match(qre);return n&&n[1]||""}function wD(e,n=""){return e.displayName||e.name||vD(e)||n}function xj(e,n,t){const r=wD(n);return e.displayName||(r!==""?`${t}(${r})`:t)}function Bre(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return wD(e,"Component");if(typeof e=="object")switch(e.$$typeof){case yj.ForwardRef:return xj(e,e.render,"ForwardRef");case yj.Memo:return xj(e,e.type,"memo");default:return}}}const Ure=Object.freeze(Object.defineProperty({__proto__:null,default:Bre,getFunctionName:vD},Symbol.toStringTag,{value:"Module"}));function oh(e){if(typeof e!="string")throw new Error(_g(7));return e.charAt(0).toUpperCase()+e.slice(1)}const $re=Object.freeze(Object.defineProperty({__proto__:null,default:oh},Symbol.toStringTag,{value:"Module"}));function Hre(...e){return e.reduce((n,t)=>t==null?n:function(...r){n.apply(this,r),t.apply(this,r)},()=>{})}function Wre(e,n=166){let t;function r(...i){const a=()=>{e.apply(this,i)};clearTimeout(t),t=setTimeout(a,n)}return r.clear=()=>{clearTimeout(t)},r}function Vre(e,n){return()=>null}function Yre(e,n){var t,r;return X.isValidElement(e)&&n.indexOf((t=e.type.muiName)!=null?t:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function SD(e){return e&&e.ownerDocument||document}function Gre(e){return SD(e).defaultView||window}function Qre(e,n){return()=>null}function AD(e,n){typeof e=="function"?e(n):e&&(e.current=n)}const CD=typeof window<"u"?X.useLayoutEffect:X.useEffect;let vj=0;function Kre(e){const[n,t]=X.useState(e),r=e||n;return X.useEffect(()=>{n==null&&(vj+=1,t(`mui-${vj}`))},[n]),r}const wj=X.useId;function Xre(e){if(wj!==void 0){const n=wj();return e??n}return Kre(e)}function Zre(e,n,t,r,i){return null}function Jre({controlled:e,default:n,name:t,state:r="value"}){const{current:i}=X.useRef(e!==void 0),[a,s]=X.useState(n),l=i?e:a,c=X.useCallback(d=>{i||s(d)},[]);return[l,c]}function eie(e){const n=X.useRef(e);return CD(()=>{n.current=e}),X.useRef((...t)=>(0,n.current)(...t)).current}function tie(...e){return X.useMemo(()=>e.every(n=>n==null)?null:n=>{e.forEach(t=>{AD(t,n)})},e)}let nie=class ED{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new ED}start(n,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},n)}},Fv=!0,JS=!1;const rie=new nie,iie={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function aie(e){const{type:n,tagName:t}=e;return!!(t==="INPUT"&&iie[n]&&!e.readOnly||t==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function sie(e){e.metaKey||e.altKey||e.ctrlKey||(Fv=!0)}function kw(){Fv=!1}function oie(){this.visibilityState==="hidden"&&JS&&(Fv=!0)}function lie(e){e.addEventListener("keydown",sie,!0),e.addEventListener("mousedown",kw,!0),e.addEventListener("pointerdown",kw,!0),e.addEventListener("touchstart",kw,!0),e.addEventListener("visibilitychange",oie,!0)}function uie(e){const{target:n}=e;try{return n.matches(":focus-visible")}catch{}return Fv||aie(n)}function cie(){const e=X.useCallback(i=>{i!=null&&lie(i.ownerDocument)},[]),n=X.useRef(!1);function t(){return n.current?(JS=!0,rie.start(100,()=>{JS=!1}),n.current=!1,!0):!1}function r(i){return uie(i)?(n.current=!0,!0):!1}return{isFocusVisibleRef:n,onFocus:r,onBlur:t,ref:e}}function e6(e,n){const t=Vr({},n);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))t[r]=Vr({},e[r],t[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},a=n[r];t[r]={},!a||!Object.keys(a)?t[r]=i:!i||!Object.keys(i)?t[r]=a:(t[r]=Vr({},a),Object.keys(i).forEach(s=>{t[r][s]=e6(i[s],a[s])}))}else t[r]===void 0&&(t[r]=e[r])}),t}function die(e,n,t=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((a,s)=>{if(s){const l=n(s);l!==""&&a.push(l),t&&t[s]&&a.push(t[s])}return a},[]).join(" ")}),r}const Sj=e=>e,fie=()=>{let e=Sj;return{configure(n){e=n},generate(n){return e(n)},reset(){e=Sj}}},_D=fie(),hie={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function kD(e,n,t="Mui"){const r=hie[n];return r?`${t}-${r}`:`${_D.generate(e)}-${n}`}function pie(e,n,t="Mui"){const r={};return n.forEach(i=>{r[i]=kD(e,i,t)}),r}function mie(e,n=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(n,Math.min(e,t))}const gie=Object.freeze(Object.defineProperty({__proto__:null,default:mie},Symbol.toStringTag,{value:"Module"}));function ph(e,n){if(e==null)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.includes(r))continue;t[r]=e[r]}return t}function jD(e){var n,t,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(n=0;n<i;n++)e[n]&&(t=jD(e[n]))&&(r&&(r+=" "),r+=t)}else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function bie(){for(var e,n,t=0,r="",i=arguments.length;t<i;t++)(e=arguments[t])&&(n=jD(e))&&(r&&(r+=" "),r+=n);return r}const yie=X.createContext(void 0);function xie(e){const{theme:n,name:t,props:r}=e;if(!n||!n.components||!n.components[t])return r;const i=n.components[t];return i.defaultProps?e6(i.defaultProps,r):!i.styleOverrides&&!i.variants?e6(i,r):r}function vie({props:e,name:n}){const t=X.useContext(yie);return xie({props:e,name:n,theme:{components:t}})}function wie(e){return vie(e)}var $h={},Aj={exports:{}},Cj;function Sie(){return Cj||(Cj=1,function(e){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var a in i)({}).hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(null,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(Aj)),Aj.exports}var Ej={exports:{}},_j;function Aie(){return _j||(_j=1,function(e){function n(t,r){if(t==null)return{};var i={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.includes(a))continue;i[a]=t[a]}return i}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(Ej)),Ej.exports}function Cie(e){if(e.sheet)return e.sheet;for(var n=0;n<document.styleSheets.length;n++)if(document.styleSheets[n].ownerNode===e)return document.styleSheets[n]}function Eie(e){var n=document.createElement("style");return n.setAttribute("data-emotion",e.key),e.nonce!==void 0&&n.setAttribute("nonce",e.nonce),n.appendChild(document.createTextNode("")),n.setAttribute("data-s",""),n}var _ie=function(){function e(t){var r=this;this._insertTag=function(i){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,a),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var n=e.prototype;return n.hydrate=function(t){t.forEach(this._insertTag)},n.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Eie(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=Cie(r);try{i.insertRule(t,i.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(t));this.ctr++},n.flush=function(){this.tags.forEach(function(t){var r;return(r=t.parentNode)==null?void 0:r.removeChild(t)}),this.tags=[],this.ctr=0},e}(),Ls="-ms-",Qx="-moz-",mr="-webkit-",ND="comm",TA="rule",OA="decl",kie="@import",TD="@keyframes",jie="@layer",Nie=Math.abs,Pv=String.fromCharCode,Tie=Object.assign;function Oie(e,n){return ps(e,0)^45?(((n<<2^ps(e,0))<<2^ps(e,1))<<2^ps(e,2))<<2^ps(e,3):0}function OD(e){return e.trim()}function Iie(e,n){return(e=n.exec(e))?e[0]:e}function br(e,n,t){return e.replace(n,t)}function t6(e,n){return e.indexOf(n)}function ps(e,n){return e.charCodeAt(n)|0}function kg(e,n,t){return e.slice(n,t)}function bc(e){return e.length}function IA(e){return e.length}function Uy(e,n){return n.push(e),e}function Die(e,n){return e.map(n).join("")}var zv=1,om=1,ID=0,So=0,Na=0,mm="";function qv(e,n,t,r,i,a,s){return{value:e,root:n,parent:t,type:r,props:i,children:a,line:zv,column:om,length:s,return:""}}function T1(e,n){return Tie(qv("",null,null,"",null,null,0),e,{length:-e.length},n)}function Lie(){return Na}function Rie(){return Na=So>0?ps(mm,--So):0,om--,Na===10&&(om=1,zv--),Na}function Jo(){return Na=So<ID?ps(mm,So++):0,om++,Na===10&&(om=1,zv++),Na}function Dc(){return ps(mm,So)}function dx(){return So}function nb(e,n){return kg(mm,e,n)}function jg(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function DD(e){return zv=om=1,ID=bc(mm=e),So=0,[]}function LD(e){return mm="",e}function fx(e){return OD(nb(So-1,n6(e===91?e+2:e===40?e+1:e)))}function Mie(e){for(;(Na=Dc())&&Na<33;)Jo();return jg(e)>2||jg(Na)>3?"":" "}function Fie(e,n){for(;--n&&Jo()&&!(Na<48||Na>102||Na>57&&Na<65||Na>70&&Na<97););return nb(e,dx()+(n<6&&Dc()==32&&Jo()==32))}function n6(e){for(;Jo();)switch(Na){case e:return So;case 34:case 39:e!==34&&e!==39&&n6(Na);break;case 40:e===41&&n6(e);break;case 92:Jo();break}return So}function Pie(e,n){for(;Jo()&&e+Na!==57&&!(e+Na===84&&Dc()===47););return"/*"+nb(n,So-1)+"*"+Pv(e===47?e:Jo())}function zie(e){for(;!jg(Dc());)Jo();return nb(e,So)}function qie(e){return LD(hx("",null,null,null,[""],e=DD(e),0,[0],e))}function hx(e,n,t,r,i,a,s,l,c){for(var d=0,h=0,g=s,b=0,m=0,x=0,y=1,A=1,w=1,C=0,j="",F=i,z=a,L=r,k=j;A;)switch(x=C,C=Jo()){case 40:if(x!=108&&ps(k,g-1)==58){t6(k+=br(fx(C),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:k+=fx(C);break;case 9:case 10:case 13:case 32:k+=Mie(x);break;case 92:k+=Fie(dx()-1,7);continue;case 47:switch(Dc()){case 42:case 47:Uy(Bie(Pie(Jo(),dx()),n,t),c);break;default:k+="/"}break;case 123*y:l[d++]=bc(k)*w;case 125*y:case 59:case 0:switch(C){case 0:case 125:A=0;case 59+h:w==-1&&(k=br(k,/\f/g,"")),m>0&&bc(k)-g&&Uy(m>32?jj(k+";",r,t,g-1):jj(br(k," ","")+";",r,t,g-2),c);break;case 59:k+=";";default:if(Uy(L=kj(k,n,t,d,h,i,l,j,F=[],z=[],g),a),C===123)if(h===0)hx(k,n,L,L,F,a,g,l,z);else switch(b===99&&ps(k,3)===110?100:b){case 100:case 108:case 109:case 115:hx(e,L,L,r&&Uy(kj(e,L,L,0,0,i,l,j,i,F=[],g),z),i,z,g,l,r?F:z);break;default:hx(k,L,L,L,[""],z,0,l,z)}}d=h=m=0,y=w=1,j=k="",g=s;break;case 58:g=1+bc(k),m=x;default:if(y<1){if(C==123)--y;else if(C==125&&y++==0&&Rie()==125)continue}switch(k+=Pv(C),C*y){case 38:w=h>0?1:(k+="\f",-1);break;case 44:l[d++]=(bc(k)-1)*w,w=1;break;case 64:Dc()===45&&(k+=fx(Jo())),b=Dc(),h=g=bc(j=k+=zie(dx())),C++;break;case 45:x===45&&bc(k)==2&&(y=0)}}return a}function kj(e,n,t,r,i,a,s,l,c,d,h){for(var g=i-1,b=i===0?a:[""],m=IA(b),x=0,y=0,A=0;x<r;++x)for(var w=0,C=kg(e,g+1,g=Nie(y=s[x])),j=e;w<m;++w)(j=OD(y>0?b[w]+" "+C:br(C,/&\f/g,b[w])))&&(c[A++]=j);return qv(e,n,t,i===0?TA:l,c,d,h)}function Bie(e,n,t){return qv(e,n,t,ND,Pv(Lie()),kg(e,2,-2),0)}function jj(e,n,t,r){return qv(e,n,t,OA,kg(e,0,r),kg(e,r+1,-1),r)}function H0(e,n){for(var t="",r=IA(e),i=0;i<r;i++)t+=n(e[i],i,e,n)||"";return t}function Uie(e,n,t,r){switch(e.type){case jie:if(e.children.length)break;case kie:case OA:return e.return=e.return||e.value;case ND:return"";case TD:return e.return=e.value+"{"+H0(e.children,r)+"}";case TA:e.value=e.props.join(",")}return bc(t=H0(e.children,r))?e.return=e.value+"{"+t+"}":""}function $ie(e){var n=IA(e);return function(t,r,i,a){for(var s="",l=0;l<n;l++)s+=e[l](t,r,i,a)||"";return s}}function Hie(e){return function(n){n.root||(n=n.return)&&e(n)}}var Wie=function(e,n,t){for(var r=0,i=0;r=i,i=Dc(),r===38&&i===12&&(n[t]=1),!jg(i);)Jo();return nb(e,So)},Vie=function(e,n){var t=-1,r=44;do switch(jg(r)){case 0:r===38&&Dc()===12&&(n[t]=1),e[t]+=Wie(So-1,n,t);break;case 2:e[t]+=fx(r);break;case 4:if(r===44){e[++t]=Dc()===58?"&\f":"",n[t]=e[t].length;break}default:e[t]+=Pv(r)}while(r=Jo());return e},Yie=function(e,n){return LD(Vie(DD(e),n))},Nj=new WeakMap,Gie=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,t=e.parent,r=e.column===t.column&&e.line===t.line;t.type!=="rule";)if(t=t.parent,!t)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!Nj.get(t))&&!r){Nj.set(e,!0);for(var i=[],a=Yie(n,i),s=t.props,l=0,c=0;l<a.length;l++)for(var d=0;d<s.length;d++,c++)e.props[c]=i[l]?a[l].replace(/&\f/g,s[d]):s[d]+" "+a[l]}}},Qie=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function RD(e,n){switch(Oie(e,n)){case 5103:return mr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return mr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return mr+e+Qx+e+Ls+e+e;case 6828:case 4268:return mr+e+Ls+e+e;case 6165:return mr+e+Ls+"flex-"+e+e;case 5187:return mr+e+br(e,/(\w+).+(:[^]+)/,mr+"box-$1$2"+Ls+"flex-$1$2")+e;case 5443:return mr+e+Ls+"flex-item-"+br(e,/flex-|-self/,"")+e;case 4675:return mr+e+Ls+"flex-line-pack"+br(e,/align-content|flex-|-self/,"")+e;case 5548:return mr+e+Ls+br(e,"shrink","negative")+e;case 5292:return mr+e+Ls+br(e,"basis","preferred-size")+e;case 6060:return mr+"box-"+br(e,"-grow","")+mr+e+Ls+br(e,"grow","positive")+e;case 4554:return mr+br(e,/([^-])(transform)/g,"$1"+mr+"$2")+e;case 6187:return br(br(br(e,/(zoom-|grab)/,mr+"$1"),/(image-set)/,mr+"$1"),e,"")+e;case 5495:case 3959:return br(e,/(image-set\([^]*)/,mr+"$1$`$1");case 4968:return br(br(e,/(.+:)(flex-)?(.*)/,mr+"box-pack:$3"+Ls+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+mr+e+e;case 4095:case 3583:case 4068:case 2532:return br(e,/(.+)-inline(.+)/,mr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(bc(e)-1-n>6)switch(ps(e,n+1)){case 109:if(ps(e,n+4)!==45)break;case 102:return br(e,/(.+:)(.+)-([^]+)/,"$1"+mr+"$2-$3$1"+Qx+(ps(e,n+3)==108?"$3":"$2-$3"))+e;case 115:return~t6(e,"stretch")?RD(br(e,"stretch","fill-available"),n)+e:e}break;case 4949:if(ps(e,n+1)!==115)break;case 6444:switch(ps(e,bc(e)-3-(~t6(e,"!important")&&10))){case 107:return br(e,":",":"+mr)+e;case 101:return br(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+mr+(ps(e,14)===45?"inline-":"")+"box$3$1"+mr+"$2$3$1"+Ls+"$2box$3")+e}break;case 5936:switch(ps(e,n+11)){case 114:return mr+e+Ls+br(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return mr+e+Ls+br(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return mr+e+Ls+br(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return mr+e+Ls+e+e}return e}var Kie=function(e,n,t,r){if(e.length>-1&&!e.return)switch(e.type){case OA:e.return=RD(e.value,e.length);break;case TD:return H0([T1(e,{value:br(e.value,"@","@"+mr)})],r);case TA:if(e.length)return Die(e.props,function(i){switch(Iie(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return H0([T1(e,{props:[br(i,/:(read-\w+)/,":"+Qx+"$1")]})],r);case"::placeholder":return H0([T1(e,{props:[br(i,/:(plac\w+)/,":"+mr+"input-$1")]}),T1(e,{props:[br(i,/:(plac\w+)/,":"+Qx+"$1")]}),T1(e,{props:[br(i,/:(plac\w+)/,Ls+"input-$1")]})],r)}return""})}},Xie=[Kie],Zie=function(e){var n=e.key;if(n==="css"){var t=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(t,function(x){var y=x.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var r=e.stylisPlugins||Xie,i={},a,s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(x){for(var y=x.getAttribute("data-emotion").split(" "),A=1;A<y.length;A++)i[y[A]]=!0;s.push(x)});var l,c=[Gie,Qie];{var d,h=[Uie,Hie(function(x){d.insert(x)})],g=$ie(c.concat(r,h)),b=function(x){return H0(qie(x),g)};l=function(x,y,A,w){d=A,b(x?x+"{"+y.styles+"}":y.styles),w&&(m.inserted[y.name]=!0)}}var m={key:n,sheet:new _ie({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:l};return m.sheet.hydrate(s),m};let r6;typeof document=="object"&&(r6=Zie({key:"css",prepend:!0}));function Jie(e){const{injectFirst:n,children:t}=e;return n&&r6?yn.jsx(aT,{value:r6,children:t}):t}function eae(e){return e==null||Object.keys(e).length===0}function tae(e){const{styles:n,defaultTheme:t={}}=e,r=typeof n=="function"?i=>n(eae(i)?t:i):n;return yn.jsx(sT,{styles:r})}/**
 * @mui/styled-engine v5.16.12
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function nae(e,n){return iT(e,n)}const rae=(e,n)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=n(e.__emotion_styles))},iae=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:tae,StyledEngineProvider:Jie,ThemeContext:rT,css:nT,default:nae,internal_processStyles:rae,keyframes:tT},Symbol.toStringTag,{value:"Module"})),aae=Qd(iae),sae=Qd(Mre),oae=Qd($re),lae=Qd(Ure),uae=["values","unit","step"],cae=e=>{const n=Object.keys(e).map(t=>({key:t,val:e[t]}))||[];return n.sort((t,r)=>t.val-r.val),n.reduce((t,r)=>Vr({},t,{[r.key]:r.val}),{})};function MD(e){const{values:n={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5}=e,i=ph(e,uae),a=cae(n),s=Object.keys(a);function l(b){return`@media (min-width:${typeof n[b]=="number"?n[b]:b}${t})`}function c(b){return`@media (max-width:${(typeof n[b]=="number"?n[b]:b)-r/100}${t})`}function d(b,m){const x=s.indexOf(m);return`@media (min-width:${typeof n[b]=="number"?n[b]:b}${t}) and (max-width:${(x!==-1&&typeof n[s[x]]=="number"?n[s[x]]:m)-r/100}${t})`}function h(b){return s.indexOf(b)+1<s.length?d(b,s[s.indexOf(b)+1]):l(b)}function g(b){const m=s.indexOf(b);return m===0?l(s[1]):m===s.length-1?c(s[m]):d(b,s[s.indexOf(b)+1]).replace("@media","@media not all and")}return Vr({keys:s,values:a,up:l,down:c,between:d,only:h,not:g,unit:t},i)}const dae={borderRadius:4};function tg(e,n){return n?Ic(e,n,{clone:!1}):e}const DA={xs:0,sm:600,md:900,lg:1200,xl:1536},Tj={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${DA[e]}px)`};function Ud(e,n,t){const r=e.theme||{};if(Array.isArray(n)){const i=r.breakpoints||Tj;return n.reduce((a,s,l)=>(a[i.up(i.keys[l])]=t(n[l]),a),{})}if(typeof n=="object"){const i=r.breakpoints||Tj;return Object.keys(n).reduce((a,s)=>{if(Object.keys(i.values||DA).indexOf(s)!==-1){const l=i.up(s);a[l]=t(n[s],s)}else{const l=s;a[l]=n[l]}return a},{})}return t(n)}function fae(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((t,r)=>{const i=e.up(r);return t[i]={},t},{}))||{}}function hae(e,n){return e.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},n)}function Bv(e,n,t=!0){if(!n||typeof n!="string")return null;if(e&&e.vars&&t){const r=`vars.${n}`.split(".").reduce((i,a)=>i&&i[a]?i[a]:null,e);if(r!=null)return r}return n.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function Kx(e,n,t,r=t){let i;return typeof e=="function"?i=e(t):Array.isArray(e)?i=e[t]||r:i=Bv(e,t)||r,n&&(i=n(i,r,e)),i}function ba(e){const{prop:n,cssProperty:t=e.prop,themeKey:r,transform:i}=e,a=s=>{if(s[n]==null)return null;const l=s[n],c=s.theme,d=Bv(c,r)||{};return Ud(s,l,h=>{let g=Kx(d,i,h);return h===g&&typeof h=="string"&&(g=Kx(d,i,`${n}${h==="default"?"":oh(h)}`,h)),t===!1?g:{[t]:g}})};return a.propTypes={},a.filterProps=[n],a}function pae(e){const n={};return t=>(n[t]===void 0&&(n[t]=e(t)),n[t])}const mae={m:"margin",p:"padding"},gae={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Oj={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},bae=pae(e=>{if(e.length>2)if(Oj[e])e=Oj[e];else return[e];const[n,t]=e.split(""),r=mae[n],i=gae[t]||"";return Array.isArray(i)?i.map(a=>r+a):[r+i]}),LA=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],RA=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...LA,...RA];function rb(e,n,t,r){var i;const a=(i=Bv(e,n,!1))!=null?i:t;return typeof a=="number"?s=>typeof s=="string"?s:a*s:Array.isArray(a)?s=>typeof s=="string"?s:a[s]:typeof a=="function"?a:()=>{}}function FD(e){return rb(e,"spacing",8)}function ib(e,n){if(typeof n=="string"||n==null)return n;const t=Math.abs(n),r=e(t);return n>=0?r:typeof r=="number"?-r:`-${r}`}function yae(e,n){return t=>e.reduce((r,i)=>(r[i]=ib(n,t),r),{})}function xae(e,n,t,r){if(n.indexOf(t)===-1)return null;const i=bae(t),a=yae(i,r),s=e[t];return Ud(e,s,a)}function PD(e,n){const t=FD(e.theme);return Object.keys(e).map(r=>xae(e,n,r,t)).reduce(tg,{})}function Vi(e){return PD(e,LA)}Vi.propTypes={};Vi.filterProps=LA;function Yi(e){return PD(e,RA)}Yi.propTypes={};Yi.filterProps=RA;function vae(e=8){if(e.mui)return e;const n=FD({spacing:e}),t=(...r)=>(r.length===0?[1]:r).map(i=>{const a=n(i);return typeof a=="number"?`${a}px`:a}).join(" ");return t.mui=!0,t}function Uv(...e){const n=e.reduce((r,i)=>(i.filterProps.forEach(a=>{r[a]=i}),r),{}),t=r=>Object.keys(r).reduce((i,a)=>n[a]?tg(i,n[a](r)):i,{});return t.propTypes={},t.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),t}function Tl(e){return typeof e!="number"?e:`${e}px solid`}function ql(e,n){return ba({prop:e,themeKey:"borders",transform:n})}const wae=ql("border",Tl),Sae=ql("borderTop",Tl),Aae=ql("borderRight",Tl),Cae=ql("borderBottom",Tl),Eae=ql("borderLeft",Tl),_ae=ql("borderColor"),kae=ql("borderTopColor"),jae=ql("borderRightColor"),Nae=ql("borderBottomColor"),Tae=ql("borderLeftColor"),Oae=ql("outline",Tl),Iae=ql("outlineColor"),$v=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const n=rb(e.theme,"shape.borderRadius",4),t=r=>({borderRadius:ib(n,r)});return Ud(e,e.borderRadius,t)}return null};$v.propTypes={};$v.filterProps=["borderRadius"];Uv(wae,Sae,Aae,Cae,Eae,_ae,kae,jae,Nae,Tae,$v,Oae,Iae);const Hv=e=>{if(e.gap!==void 0&&e.gap!==null){const n=rb(e.theme,"spacing",8),t=r=>({gap:ib(n,r)});return Ud(e,e.gap,t)}return null};Hv.propTypes={};Hv.filterProps=["gap"];const Wv=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const n=rb(e.theme,"spacing",8),t=r=>({columnGap:ib(n,r)});return Ud(e,e.columnGap,t)}return null};Wv.propTypes={};Wv.filterProps=["columnGap"];const Vv=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const n=rb(e.theme,"spacing",8),t=r=>({rowGap:ib(n,r)});return Ud(e,e.rowGap,t)}return null};Vv.propTypes={};Vv.filterProps=["rowGap"];const Dae=ba({prop:"gridColumn"}),Lae=ba({prop:"gridRow"}),Rae=ba({prop:"gridAutoFlow"}),Mae=ba({prop:"gridAutoColumns"}),Fae=ba({prop:"gridAutoRows"}),Pae=ba({prop:"gridTemplateColumns"}),zae=ba({prop:"gridTemplateRows"}),qae=ba({prop:"gridTemplateAreas"}),Bae=ba({prop:"gridArea"});Uv(Hv,Wv,Vv,Dae,Lae,Rae,Mae,Fae,Pae,zae,qae,Bae);function W0(e,n){return n==="grey"?n:e}const Uae=ba({prop:"color",themeKey:"palette",transform:W0}),$ae=ba({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:W0}),Hae=ba({prop:"backgroundColor",themeKey:"palette",transform:W0});Uv(Uae,$ae,Hae);function Yo(e){return e<=1&&e!==0?`${e*100}%`:e}const Wae=ba({prop:"width",transform:Yo}),MA=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const n=t=>{var r,i;const a=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[t])||DA[t];return a?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${a}${e.theme.breakpoints.unit}`}:{maxWidth:a}:{maxWidth:Yo(t)}};return Ud(e,e.maxWidth,n)}return null};MA.filterProps=["maxWidth"];const Vae=ba({prop:"minWidth",transform:Yo}),Yae=ba({prop:"height",transform:Yo}),Gae=ba({prop:"maxHeight",transform:Yo}),Qae=ba({prop:"minHeight",transform:Yo});ba({prop:"size",cssProperty:"width",transform:Yo});ba({prop:"size",cssProperty:"height",transform:Yo});const Kae=ba({prop:"boxSizing"});Uv(Wae,MA,Vae,Yae,Gae,Qae,Kae);const ab={border:{themeKey:"borders",transform:Tl},borderTop:{themeKey:"borders",transform:Tl},borderRight:{themeKey:"borders",transform:Tl},borderBottom:{themeKey:"borders",transform:Tl},borderLeft:{themeKey:"borders",transform:Tl},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Tl},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:$v},color:{themeKey:"palette",transform:W0},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:W0},backgroundColor:{themeKey:"palette",transform:W0},p:{style:Yi},pt:{style:Yi},pr:{style:Yi},pb:{style:Yi},pl:{style:Yi},px:{style:Yi},py:{style:Yi},padding:{style:Yi},paddingTop:{style:Yi},paddingRight:{style:Yi},paddingBottom:{style:Yi},paddingLeft:{style:Yi},paddingX:{style:Yi},paddingY:{style:Yi},paddingInline:{style:Yi},paddingInlineStart:{style:Yi},paddingInlineEnd:{style:Yi},paddingBlock:{style:Yi},paddingBlockStart:{style:Yi},paddingBlockEnd:{style:Yi},m:{style:Vi},mt:{style:Vi},mr:{style:Vi},mb:{style:Vi},ml:{style:Vi},mx:{style:Vi},my:{style:Vi},margin:{style:Vi},marginTop:{style:Vi},marginRight:{style:Vi},marginBottom:{style:Vi},marginLeft:{style:Vi},marginX:{style:Vi},marginY:{style:Vi},marginInline:{style:Vi},marginInlineStart:{style:Vi},marginInlineEnd:{style:Vi},marginBlock:{style:Vi},marginBlockStart:{style:Vi},marginBlockEnd:{style:Vi},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Hv},rowGap:{style:Vv},columnGap:{style:Wv},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Yo},maxWidth:{style:MA},minWidth:{transform:Yo},height:{transform:Yo},maxHeight:{transform:Yo},minHeight:{transform:Yo},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Xae(...e){const n=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(n);return e.every(r=>t.size===Object.keys(r).length)}function Zae(e,n){return typeof e=="function"?e(n):e}function zD(){function e(t,r,i,a){const s={[t]:r,theme:i},l=a[t];if(!l)return{[t]:r};const{cssProperty:c=t,themeKey:d,transform:h,style:g}=l;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[t]:r};const b=Bv(i,d)||{};return g?g(s):Ud(s,r,m=>{let x=Kx(b,h,m);return m===x&&typeof m=="string"&&(x=Kx(b,h,`${t}${m==="default"?"":oh(m)}`,m)),c===!1?x:{[c]:x}})}function n(t){var r;const{sx:i,theme:a={}}=t||{};if(!i)return null;const s=(r=a.unstable_sxConfig)!=null?r:ab;function l(c){let d=c;if(typeof c=="function")d=c(a);else if(typeof c!="object")return c;if(!d)return null;const h=fae(a.breakpoints),g=Object.keys(h);let b=h;return Object.keys(d).forEach(m=>{const x=Zae(d[m],a);if(x!=null)if(typeof x=="object")if(s[m])b=tg(b,e(m,x,a,s));else{const y=Ud({theme:a},x,A=>({[m]:A}));Xae(y,x)?b[m]=n({sx:x,theme:a}):b=tg(b,y)}else b=tg(b,e(m,x,a,s))}),hae(g,b)}return Array.isArray(i)?i.map(l):l(i)}return n}const Yv=zD();Yv.filterProps=["sx"];function qD(e,n){const t=this;return t.vars&&typeof t.getColorSchemeSelector=="function"?{[t.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:n}:t.palette.mode===e?n:{}}const Jae=["breakpoints","palette","spacing","shape"];function BD(e={},...n){const{breakpoints:t={},palette:r={},spacing:i,shape:a={}}=e,s=ph(e,Jae),l=MD(t),c=vae(i);let d=Ic({breakpoints:l,direction:"ltr",components:{},palette:Vr({mode:"light"},r),spacing:c,shape:Vr({},dae,a)},s);return d.applyStyles=qD,d=n.reduce((h,g)=>Ic(h,g),d),d.unstable_sxConfig=Vr({},ab,s==null?void 0:s.unstable_sxConfig),d.unstable_sx=function(h){return Yv({sx:h,theme:this})},d}const ese=Object.freeze(Object.defineProperty({__proto__:null,default:BD,private_createBreakpoints:MD,unstable_applyStyles:qD},Symbol.toStringTag,{value:"Module"})),tse=Qd(ese),nse=["sx"],rse=e=>{var n,t;const r={systemProps:{},otherProps:{}},i=(n=e==null||(t=e.theme)==null?void 0:t.unstable_sxConfig)!=null?n:ab;return Object.keys(e).forEach(a=>{i[a]?r.systemProps[a]=e[a]:r.otherProps[a]=e[a]}),r};function ise(e){const{sx:n}=e,t=ph(e,nse),{systemProps:r,otherProps:i}=rse(t);let a;return Array.isArray(n)?a=[r,...n]:typeof n=="function"?a=(...s)=>{const l=n(...s);return qf(l)?Vr({},r,l):r}:a=Vr({},r,n),Vr({},i,{sx:a})}const ase=Object.freeze(Object.defineProperty({__proto__:null,default:Yv,extendSxProp:ise,unstable_createStyleFunctionSx:zD,unstable_defaultSxConfig:ab},Symbol.toStringTag,{value:"Module"})),sse=Qd(ase);var Ij;function ose(){if(Ij)return $h;Ij=1;var e=Mv();Object.defineProperty($h,"__esModule",{value:!0}),$h.default=F,$h.shouldForwardProp=x,$h.systemDefaultTheme=void 0;var n=e(Sie()),t=e(Aie()),r=g(aae),i=sae;e(oae),e(lae);var a=e(tse),s=e(sse);const l=["ownerState"],c=["variants"],d=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function h(z){if(typeof WeakMap!="function")return null;var L=new WeakMap,k=new WeakMap;return(h=function(M){return M?k:L})(z)}function g(z,L){if(z&&z.__esModule)return z;if(z===null||typeof z!="object"&&typeof z!="function")return{default:z};var k=h(L);if(k&&k.has(z))return k.get(z);var M={__proto__:null},q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Q in z)if(Q!=="default"&&Object.prototype.hasOwnProperty.call(z,Q)){var T=q?Object.getOwnPropertyDescriptor(z,Q):null;T&&(T.get||T.set)?Object.defineProperty(M,Q,T):M[Q]=z[Q]}return M.default=z,k&&k.set(z,M),M}function b(z){return Object.keys(z).length===0}function m(z){return typeof z=="string"&&z.charCodeAt(0)>96}function x(z){return z!=="ownerState"&&z!=="theme"&&z!=="sx"&&z!=="as"}const y=$h.systemDefaultTheme=(0,a.default)(),A=z=>z&&z.charAt(0).toLowerCase()+z.slice(1);function w({defaultTheme:z,theme:L,themeId:k}){return b(L)?z:L[k]||L}function C(z){return z?(L,k)=>k[z]:null}function j(z,L){let{ownerState:k}=L,M=(0,t.default)(L,l);const q=typeof z=="function"?z((0,n.default)({ownerState:k},M)):z;if(Array.isArray(q))return q.flatMap(Q=>j(Q,(0,n.default)({ownerState:k},M)));if(q&&typeof q=="object"&&Array.isArray(q.variants)){const{variants:Q=[]}=q;let T=(0,t.default)(q,c);return Q.forEach(O=>{let R=!0;typeof O.props=="function"?R=O.props((0,n.default)({ownerState:k},M,k)):Object.keys(O.props).forEach(N=>{(k==null?void 0:k[N])!==O.props[N]&&M[N]!==O.props[N]&&(R=!1)}),R&&(Array.isArray(T)||(T=[T]),T.push(typeof O.style=="function"?O.style((0,n.default)({ownerState:k},M,k)):O.style))}),T}return q}function F(z={}){const{themeId:L,defaultTheme:k=y,rootShouldForwardProp:M=x,slotShouldForwardProp:q=x}=z,Q=T=>(0,s.default)((0,n.default)({},T,{theme:w((0,n.default)({},T,{defaultTheme:k,themeId:L}))}));return Q.__mui_systemSx=!0,(T,O={})=>{(0,r.internal_processStyles)(T,ne=>ne.filter(ve=>!(ve!=null&&ve.__mui_systemSx)));const{name:R,slot:N,skipVariantsResolver:K,skipSx:H,overridesResolver:G=C(A(N))}=O,ee=(0,t.default)(O,d),le=K!==void 0?K:N&&N!=="Root"&&N!=="root"||!1,Y=H||!1;let te,U=x;N==="Root"||N==="root"?U=M:N?U=q:m(T)&&(U=void 0);const B=(0,r.default)(T,(0,n.default)({shouldForwardProp:U,label:te},ee)),re=ne=>typeof ne=="function"&&ne.__emotion_real!==ne||(0,i.isPlainObject)(ne)?ve=>j(ne,(0,n.default)({},ve,{theme:w({theme:ve.theme,defaultTheme:k,themeId:L})})):ne,Z=(ne,...ve)=>{let ye=re(ne);const Ce=ve?ve.map(re):[];R&&G&&Ce.push($e=>{const We=w((0,n.default)({},$e,{defaultTheme:k,themeId:L}));if(!We.components||!We.components[R]||!We.components[R].styleOverrides)return null;const V=We.components[R].styleOverrides,Se={};return Object.entries(V).forEach(([se,he])=>{Se[se]=j(he,(0,n.default)({},$e,{theme:We}))}),G($e,Se)}),R&&!le&&Ce.push($e=>{var We;const V=w((0,n.default)({},$e,{defaultTheme:k,themeId:L})),Se=V==null||(We=V.components)==null||(We=We[R])==null?void 0:We.variants;return j({variants:Se},(0,n.default)({},$e,{theme:V}))}),Y||Ce.push(Q);const Oe=Ce.length-ve.length;if(Array.isArray(ne)&&Oe>0){const $e=new Array(Oe).fill("");ye=[...ne,...$e],ye.raw=[...ne.raw,...$e]}const Ie=B(ye,...Ce);return T.muiName&&(Ie.muiName=T.muiName),Ie};return B.withConfig&&(Z.withConfig=B.withConfig),Z}}return $h}var lse=ose();const use=jA(lse);function cse(e,n){return Vr({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},n)}var Ii={};const dse=Qd(Fre),fse=Qd(gie);var Dj;function hse(){if(Dj)return Ii;Dj=1;var e=Mv();Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.alpha=x,Ii.blend=L,Ii.colorChannel=void 0,Ii.darken=A,Ii.decomposeColor=s,Ii.emphasize=F,Ii.getContrastRatio=m,Ii.getLuminance=b,Ii.hexToRgb=i,Ii.hslToRgb=g,Ii.lighten=C,Ii.private_safeAlpha=y,Ii.private_safeColorChannel=void 0,Ii.private_safeDarken=w,Ii.private_safeEmphasize=z,Ii.private_safeLighten=j,Ii.recomposeColor=d,Ii.rgbToHex=h;var n=e(dse),t=e(fse);function r(k,M=0,q=1){return(0,t.default)(k,M,q)}function i(k){k=k.slice(1);const M=new RegExp(`.{1,${k.length>=6?2:1}}`,"g");let q=k.match(M);return q&&q[0].length===1&&(q=q.map(Q=>Q+Q)),q?`rgb${q.length===4?"a":""}(${q.map((Q,T)=>T<3?parseInt(Q,16):Math.round(parseInt(Q,16)/255*1e3)/1e3).join(", ")})`:""}function a(k){const M=k.toString(16);return M.length===1?`0${M}`:M}function s(k){if(k.type)return k;if(k.charAt(0)==="#")return s(i(k));const M=k.indexOf("("),q=k.substring(0,M);if(["rgb","rgba","hsl","hsla","color"].indexOf(q)===-1)throw new Error((0,n.default)(9,k));let Q=k.substring(M+1,k.length-1),T;if(q==="color"){if(Q=Q.split(" "),T=Q.shift(),Q.length===4&&Q[3].charAt(0)==="/"&&(Q[3]=Q[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(T)===-1)throw new Error((0,n.default)(10,T))}else Q=Q.split(",");return Q=Q.map(O=>parseFloat(O)),{type:q,values:Q,colorSpace:T}}const l=k=>{const M=s(k);return M.values.slice(0,3).map((q,Q)=>M.type.indexOf("hsl")!==-1&&Q!==0?`${q}%`:q).join(" ")};Ii.colorChannel=l;const c=(k,M)=>{try{return l(k)}catch{return k}};Ii.private_safeColorChannel=c;function d(k){const{type:M,colorSpace:q}=k;let{values:Q}=k;return M.indexOf("rgb")!==-1?Q=Q.map((T,O)=>O<3?parseInt(T,10):T):M.indexOf("hsl")!==-1&&(Q[1]=`${Q[1]}%`,Q[2]=`${Q[2]}%`),M.indexOf("color")!==-1?Q=`${q} ${Q.join(" ")}`:Q=`${Q.join(", ")}`,`${M}(${Q})`}function h(k){if(k.indexOf("#")===0)return k;const{values:M}=s(k);return`#${M.map((q,Q)=>a(Q===3?Math.round(255*q):q)).join("")}`}function g(k){k=s(k);const{values:M}=k,q=M[0],Q=M[1]/100,T=M[2]/100,O=Q*Math.min(T,1-T),R=(H,G=(H+q/30)%12)=>T-O*Math.max(Math.min(G-3,9-G,1),-1);let N="rgb";const K=[Math.round(R(0)*255),Math.round(R(8)*255),Math.round(R(4)*255)];return k.type==="hsla"&&(N+="a",K.push(M[3])),d({type:N,values:K})}function b(k){k=s(k);let M=k.type==="hsl"||k.type==="hsla"?s(g(k)).values:k.values;return M=M.map(q=>(k.type!=="color"&&(q/=255),q<=.03928?q/12.92:((q+.055)/1.055)**2.4)),Number((.2126*M[0]+.7152*M[1]+.0722*M[2]).toFixed(3))}function m(k,M){const q=b(k),Q=b(M);return(Math.max(q,Q)+.05)/(Math.min(q,Q)+.05)}function x(k,M){return k=s(k),M=r(M),(k.type==="rgb"||k.type==="hsl")&&(k.type+="a"),k.type==="color"?k.values[3]=`/${M}`:k.values[3]=M,d(k)}function y(k,M,q){try{return x(k,M)}catch{return k}}function A(k,M){if(k=s(k),M=r(M),k.type.indexOf("hsl")!==-1)k.values[2]*=1-M;else if(k.type.indexOf("rgb")!==-1||k.type.indexOf("color")!==-1)for(let q=0;q<3;q+=1)k.values[q]*=1-M;return d(k)}function w(k,M,q){try{return A(k,M)}catch{return k}}function C(k,M){if(k=s(k),M=r(M),k.type.indexOf("hsl")!==-1)k.values[2]+=(100-k.values[2])*M;else if(k.type.indexOf("rgb")!==-1)for(let q=0;q<3;q+=1)k.values[q]+=(255-k.values[q])*M;else if(k.type.indexOf("color")!==-1)for(let q=0;q<3;q+=1)k.values[q]+=(1-k.values[q])*M;return d(k)}function j(k,M,q){try{return C(k,M)}catch{return k}}function F(k,M=.15){return b(k)>.5?A(k,M):C(k,M)}function z(k,M,q){try{return F(k,M)}catch{return k}}function L(k,M,q,Q=1){const T=(K,H)=>Math.round((K**(1/Q)*(1-q)+H**(1/Q)*q)**Q),O=s(k),R=s(M),N=[T(O.values[0],R.values[0]),T(O.values[1],R.values[1]),T(O.values[2],R.values[2])];return d({type:"rgb",values:N})}return Ii}var i6=hse();const Ng={black:"#000",white:"#fff"},pse={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},d0={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},f0={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},O1={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},h0={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},p0={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},m0={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},mse=["mode","contrastThreshold","tonalOffset"],Lj={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ng.white,default:Ng.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},jw={text:{primary:Ng.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ng.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Rj(e,n,t,r){const i=r.light||r,a=r.dark||r*1.5;e[n]||(e.hasOwnProperty(t)?e[n]=e[t]:n==="light"?e.light=i6.lighten(e.main,i):n==="dark"&&(e.dark=i6.darken(e.main,a)))}function gse(e="light"){return e==="dark"?{main:h0[200],light:h0[50],dark:h0[400]}:{main:h0[700],light:h0[400],dark:h0[800]}}function bse(e="light"){return e==="dark"?{main:d0[200],light:d0[50],dark:d0[400]}:{main:d0[500],light:d0[300],dark:d0[700]}}function yse(e="light"){return e==="dark"?{main:f0[500],light:f0[300],dark:f0[700]}:{main:f0[700],light:f0[400],dark:f0[800]}}function xse(e="light"){return e==="dark"?{main:p0[400],light:p0[300],dark:p0[700]}:{main:p0[700],light:p0[500],dark:p0[900]}}function vse(e="light"){return e==="dark"?{main:m0[400],light:m0[300],dark:m0[700]}:{main:m0[800],light:m0[500],dark:m0[900]}}function wse(e="light"){return e==="dark"?{main:O1[400],light:O1[300],dark:O1[700]}:{main:"#ed6c02",light:O1[500],dark:O1[900]}}function Sse(e){const{mode:n="light",contrastThreshold:t=3,tonalOffset:r=.2}=e,i=ph(e,mse),a=e.primary||gse(n),s=e.secondary||bse(n),l=e.error||yse(n),c=e.info||xse(n),d=e.success||vse(n),h=e.warning||wse(n);function g(x){return i6.getContrastRatio(x,jw.text.primary)>=t?jw.text.primary:Lj.text.primary}const b=({color:x,name:y,mainShade:A=500,lightShade:w=300,darkShade:C=700})=>{if(x=Vr({},x),!x.main&&x[A]&&(x.main=x[A]),!x.hasOwnProperty("main"))throw new Error(_g(11,y?` (${y})`:"",A));if(typeof x.main!="string")throw new Error(_g(12,y?` (${y})`:"",JSON.stringify(x.main)));return Rj(x,"light",w,r),Rj(x,"dark",C,r),x.contrastText||(x.contrastText=g(x.main)),x},m={dark:jw,light:Lj};return Ic(Vr({common:Vr({},Ng),mode:n,primary:b({color:a,name:"primary"}),secondary:b({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:b({color:l,name:"error"}),warning:b({color:h,name:"warning"}),info:b({color:c,name:"info"}),success:b({color:d,name:"success"}),grey:pse,contrastThreshold:t,getContrastText:g,augmentColor:b,tonalOffset:r},m[n]),i)}const Ase=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Cse(e){return Math.round(e*1e5)/1e5}const Mj={textTransform:"uppercase"},Fj='"Roboto", "Helvetica", "Arial", sans-serif';function Ese(e,n){const t=typeof n=="function"?n(e):n,{fontFamily:r=Fj,fontSize:i=14,fontWeightLight:a=300,fontWeightRegular:s=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:d=16,allVariants:h,pxToRem:g}=t,b=ph(t,Ase),m=i/14,x=g||(w=>`${w/d*m}rem`),y=(w,C,j,F,z)=>Vr({fontFamily:r,fontWeight:w,fontSize:x(C),lineHeight:j},r===Fj?{letterSpacing:`${Cse(F/C)}em`}:{},z,h),A={h1:y(a,96,1.167,-1.5),h2:y(a,60,1.2,-.5),h3:y(s,48,1.167,0),h4:y(s,34,1.235,.25),h5:y(s,24,1.334,0),h6:y(l,20,1.6,.15),subtitle1:y(s,16,1.75,.15),subtitle2:y(l,14,1.57,.1),body1:y(s,16,1.5,.15),body2:y(s,14,1.43,.15),button:y(l,14,1.75,.4,Mj),caption:y(s,12,1.66,.4),overline:y(s,12,2.66,1,Mj),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ic(Vr({htmlFontSize:d,pxToRem:x,fontFamily:r,fontSize:i,fontWeightLight:a,fontWeightRegular:s,fontWeightMedium:l,fontWeightBold:c},A),b,{clone:!1})}const _se=.2,kse=.14,jse=.12;function vi(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${_se})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${kse})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${jse})`].join(",")}const Nse=["none",vi(0,2,1,-1,0,1,1,0,0,1,3,0),vi(0,3,1,-2,0,2,2,0,0,1,5,0),vi(0,3,3,-2,0,3,4,0,0,1,8,0),vi(0,2,4,-1,0,4,5,0,0,1,10,0),vi(0,3,5,-1,0,5,8,0,0,1,14,0),vi(0,3,5,-1,0,6,10,0,0,1,18,0),vi(0,4,5,-2,0,7,10,1,0,2,16,1),vi(0,5,5,-3,0,8,10,1,0,3,14,2),vi(0,5,6,-3,0,9,12,1,0,3,16,2),vi(0,6,6,-3,0,10,14,1,0,4,18,3),vi(0,6,7,-4,0,11,15,1,0,4,20,3),vi(0,7,8,-4,0,12,17,2,0,5,22,4),vi(0,7,8,-4,0,13,19,2,0,5,24,4),vi(0,7,9,-4,0,14,21,2,0,5,26,4),vi(0,8,9,-5,0,15,22,2,0,6,28,5),vi(0,8,10,-5,0,16,24,2,0,6,30,5),vi(0,8,11,-5,0,17,26,2,0,6,32,5),vi(0,9,11,-5,0,18,28,2,0,7,34,6),vi(0,9,12,-6,0,19,29,2,0,7,36,6),vi(0,10,13,-6,0,20,31,3,0,8,38,7),vi(0,10,13,-6,0,21,33,3,0,8,40,7),vi(0,10,14,-6,0,22,35,3,0,8,42,7),vi(0,11,14,-7,0,23,36,3,0,9,44,8),vi(0,11,15,-7,0,24,38,3,0,9,46,8)],Tse=["duration","easing","delay"],Ose={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Ise={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Pj(e){return`${Math.round(e)}ms`}function Dse(e){if(!e)return 0;const n=e/36;return Math.round((4+15*n**.25+n/5)*10)}function Lse(e){const n=Vr({},Ose,e.easing),t=Vr({},Ise,e.duration);return Vr({getAutoHeightDuration:Dse,create:(r=["all"],i={})=>{const{duration:a=t.standard,easing:s=n.easeInOut,delay:l=0}=i;return ph(i,Tse),(Array.isArray(r)?r:[r]).map(c=>`${c} ${typeof a=="string"?a:Pj(a)} ${s} ${typeof l=="string"?l:Pj(l)}`).join(",")}},e,{easing:n,duration:t})}const Rse={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Mse=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Fse(e={},...n){const{mixins:t={},palette:r={},transitions:i={},typography:a={}}=e,s=ph(e,Mse);if(e.vars)throw new Error(_g(18));const l=Sse(r),c=BD(e);let d=Ic(c,{mixins:cse(c.breakpoints,t),palette:l,shadows:Nse.slice(),typography:Ese(l,a),transitions:Lse(i),zIndex:Vr({},Rse)});return d=Ic(d,s),d=n.reduce((h,g)=>Ic(h,g),d),d.unstable_sxConfig=Vr({},ab,s==null?void 0:s.unstable_sxConfig),d.unstable_sx=function(h){return Yv({sx:h,theme:this})},d}const Pse=Fse(),zse="$$material";function qse(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Bse=e=>qse(e)&&e!=="classes",Use=use({themeId:zse,defaultTheme:Pse,rootShouldForwardProp:Bse});function $se(e){return kD("MuiSvgIcon",e)}pie("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Hse=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Wse=e=>{const{color:n,fontSize:t,classes:r}=e,i={root:["root",n!=="inherit"&&`color${oh(n)}`,`fontSize${oh(t)}`]};return die(i,$se,r)},Vse=Use("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,t.color!=="inherit"&&n[`color${oh(t.color)}`],n[`fontSize${oh(t.fontSize)}`]]}})(({theme:e,ownerState:n})=>{var t,r,i,a,s,l,c,d,h,g,b,m,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(t=e.transitions)==null||(r=t.create)==null?void 0:r.call(t,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((a=e.typography)==null||(s=a.pxToRem)==null?void 0:s.call(a,20))||"1.25rem",medium:((l=e.typography)==null||(c=l.pxToRem)==null?void 0:c.call(l,24))||"1.5rem",large:((d=e.typography)==null||(h=d.pxToRem)==null?void 0:h.call(d,35))||"2.1875rem"}[n.fontSize],color:(g=(b=(e.vars||e).palette)==null||(b=b[n.color])==null?void 0:b.main)!=null?g:{action:(m=(e.vars||e).palette)==null||(m=m.action)==null?void 0:m.active,disabled:(x=(e.vars||e).palette)==null||(x=x.action)==null?void 0:x.disabled,inherit:void 0}[n.color]}}),a6=X.forwardRef(function(e,n){const t=wie({props:e,name:"MuiSvgIcon"}),{children:r,className:i,color:a="inherit",component:s="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:d=!1,titleAccess:h,viewBox:g="0 0 24 24"}=t,b=ph(t,Hse),m=X.isValidElement(r)&&r.type==="svg",x=Vr({},t,{color:a,component:s,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:g,hasSvgAsChild:m}),y={};d||(y.viewBox=g);const A=Wse(x);return yn.jsxs(Vse,Vr({as:s,className:bie(A.root,i),focusable:"false",color:c,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n},y,b,m&&r.props,{ownerState:x,children:[m?r.props.children:r,h?yn.jsx("title",{children:h}):null]}))});a6.muiName="SvgIcon";function Yse(e,n){function t(r,i){return yn.jsx(a6,Vr({"data-testid":`${n}Icon`,ref:i},r,{children:e}))}return t.muiName=a6.muiName,X.memo(X.forwardRef(t))}const Gse={configure:e=>{_D.configure(e)}},Qse=Object.freeze(Object.defineProperty({__proto__:null,capitalize:oh,createChainedFunction:Hre,createSvgIcon:Yse,debounce:Wre,deprecatedPropType:Vre,isMuiElement:Yre,ownerDocument:SD,ownerWindow:Gre,requirePropFactory:Qre,setRef:AD,unstable_ClassNameGenerator:Gse,unstable_useEnhancedEffect:CD,unstable_useId:Xre,unsupportedProp:Zre,useControlled:Jre,useEventCallback:eie,useForkRef:tie,useIsFocusVisible:cie},Symbol.toStringTag,{value:"Module"})),Kse=Qd(Qse);var zj;function UD(){return zj||(zj=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=Kse}(pj)),pj}var qj;function Xse(){if(qj)return N1;qj=1;var e=Mv();Object.defineProperty(N1,"__esModule",{value:!0}),N1.default=void 0;var n=e(UD()),t=NA();return N1.default=(0,n.default)((0,t.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 9h12v2H6zm8 5H6v-2h8zm4-6H6V6h12z"}),"Chat"),N1}var Zse=Xse();const Jse=jA(Zse),Nw={chatToggleButton:{position:"fixed",bottom:20,right:20,bgcolor:"#CDDAFF",color:"white",width:60,height:60,borderRadius:"50%",boxShadow:"0px 4px 15px rgba(0, 0, 0, 0.3)","&:hover":{bgcolor:"#0B53C0"},transition:"background-color 0.3s, transform 0.3s","&:active":{transform:"scale(0.95)"}},chatContainer:(e,n)=>({position:"fixed",bottom:e?0:20,right:e?0:20,width:e?"80%":n?"60%":650,height:e?"50%":n?"55%":700,padding:e?1:2,display:"flex",flexDirection:"column",borderRadius:e?0:"16px",backgroundColor:"#F0F4FF",boxShadow:"0px 10px 30px rgba(0, 0, 0, 0.2)"}),chatHeader:{fontFamily:"Staatliches, Arial, sans-serif",fontWeight:"bold",color:"black",fontSize:"1.25rem"},chatMessageInput:{"& .MuiOutlinedInput-root":{fontFamily:"Gabarito, Arial, sans-serif",borderRadius:"20px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#185cc4"}}},chatMessageBox:{maxWidth:"70%",borderRadius:"15px",padding:1,paddingX:2,boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)","&.user":{bgcolor:"#f0f0f0",color:"#555",alignSelf:"flex-end"},"&.bot":{bgcolor:"#CDDAFF",color:"black",alignSelf:"flex-start","&:hover":{bgcolor:"#0B53C0",color:"white"}}},chatButtons:{backgroundColor:"#CDDAFF",color:"black",fontFamily:"Staatliches, sans-serif",fontSize:"1.25rem","&:hover":{backgroundColor:"#0B53C0",color:"white"}}},eoe=({responses:e})=>yn.jsx(ge,{sx:{flexGrow:1,overflowY:"auto",display:"flex",flexDirection:"column",gap:2,padding:2,backgroundColor:"transparent"},children:e.length>0?e.map((n,t)=>yn.jsxs(ge,{sx:{display:"flex",flexDirection:"column",alignItems:n.question?"flex-end":"flex-start"},children:[n.question&&yn.jsx(ge,{sx:{maxWidth:"70%",bgcolor:"#f0f0f0",color:"#555",borderRadius:"15px",p:1,px:2,mb:2,alignSelf:"flex-end",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)"},children:yn.jsx(ce,{variant:"body1",sx:{fontFamily:"Gabarito, Arial, sans-serif",fontSize:"1rem",color:"#555"},children:n.question})}),(n.answer||n.text)&&yn.jsx(ge,{sx:{maxWidth:"70%",bgcolor:"#CDDAFF",color:"black",borderRadius:"15px",p:1,px:2,alignSelf:"flex-start",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.2)",mb:.3,"&:hover":{bgcolor:"#0B53C0",color:"white"}},children:yn.jsx(ce,{variant:"body1",sx:{fontFamily:"Gabarito, Arial, sans-serif",fontSize:"1rem",color:"inherit",transition:"color 0.3s ease"},children:yn.jsx(kA,{children:n.answer||n.text})})})]},t)):yn.jsx(ce,{variant:"body2",sx:{textAlign:"center",color:"#6c757d",fontFamily:"Gabarito, Arial, sans-serif"},children:"No messages yet. Start the conversation!"})}),toe=({onSendMessage:e,onStartConversation:n,onEndConversation:t,conversationId:r})=>{const[i,a]=X.useState(""),s=()=>{i.trim()&&(e(i),a(""))},l=()=>{r||n()},c=()=>{r&&t()};return yn.jsxs(ge,{sx:{display:"flex",flexDirection:"column",gap:2,mt:2},children:[yn.jsxs(ge,{sx:{display:"flex",gap:1},children:[yn.jsx(Bt,{variant:"outlined",placeholder:"Type your message...",fullWidth:!0,size:"small",value:i,onChange:d=>a(d.target.value),onKeyDown:d=>{d.key==="Enter"&&s()},sx:{"& .MuiOutlinedInput-root":{borderRadius:"20px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#185cc4"}}}}),yn.jsx(mt,{variant:"contained",onClick:s,sx:{backgroundColor:"#CDDAFF",color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none","&:hover":{backgroundColor:"#0B53C0",color:"#fff"}},children:"Send"})]}),r?yn.jsx(mt,{variant:"outlined",onClick:c,sx:{color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none",borderColor:"#CDDAFF","&:hover":{borderColor:"#0B53C0",color:"#0B53C0"}},children:"END CONVERSATION"}):yn.jsx(mt,{variant:"contained",onClick:l,sx:{backgroundColor:"#CDDAFF",color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none","&:hover":{backgroundColor:"#0B53C0",color:"#fff"}},children:"START CONVERSATION"})]})};var I1={},Bj;function noe(){if(Bj)return I1;Bj=1;var e=Mv();Object.defineProperty(I1,"__esModule",{value:!0}),I1.default=void 0;var n=e(UD()),t=NA();return I1.default=(0,n.default)((0,t.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),I1}var roe=noe();const ioe=jA(roe);function $D(e,n){return function(){return e.apply(n,arguments)}}const{toString:aoe}=Object.prototype,{getPrototypeOf:FA}=Object,Gv=(e=>n=>{const t=aoe.call(n);return e[t]||(e[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Ru=e=>(e=e.toLowerCase(),n=>Gv(n)===e),Qv=e=>n=>typeof n===e,{isArray:gm}=Array,Tg=Qv("undefined");function soe(e){return e!==null&&!Tg(e)&&e.constructor!==null&&!Tg(e.constructor)&&el(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const HD=Ru("ArrayBuffer");function ooe(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&HD(e.buffer),n}const loe=Qv("string"),el=Qv("function"),WD=Qv("number"),Kv=e=>e!==null&&typeof e=="object",uoe=e=>e===!0||e===!1,px=e=>{if(Gv(e)!=="object")return!1;const n=FA(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},coe=Ru("Date"),doe=Ru("File"),foe=Ru("Blob"),hoe=Ru("FileList"),poe=e=>Kv(e)&&el(e.pipe),moe=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||el(e.append)&&((n=Gv(e))==="formdata"||n==="object"&&el(e.toString)&&e.toString()==="[object FormData]"))},goe=Ru("URLSearchParams"),[boe,yoe,xoe,voe]=["ReadableStream","Request","Response","Headers"].map(Ru),woe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function sb(e,n,{allOwnKeys:t=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),gm(e))for(r=0,i=e.length;r<i;r++)n.call(null,e[r],r,e);else{const a=t?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;let l;for(r=0;r<s;r++)l=a[r],n.call(null,e[l],l,e)}}function VD(e,n){n=n.toLowerCase();const t=Object.keys(e);let r=t.length,i;for(;r-- >0;)if(i=t[r],n===i.toLowerCase())return i;return null}const Jh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,YD=e=>!Tg(e)&&e!==Jh;function s6(){const{caseless:e}=YD(this)&&this||{},n={},t=(r,i)=>{const a=e&&VD(n,i)||i;px(n[a])&&px(r)?n[a]=s6(n[a],r):px(r)?n[a]=s6({},r):gm(r)?n[a]=r.slice():n[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&sb(arguments[r],t);return n}const Soe=(e,n,t,{allOwnKeys:r}={})=>(sb(n,(i,a)=>{t&&el(i)?e[a]=$D(i,t):e[a]=i},{allOwnKeys:r}),e),Aoe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Coe=(e,n,t,r)=>{e.prototype=Object.create(n.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),t&&Object.assign(e.prototype,t)},Eoe=(e,n,t,r)=>{let i,a,s;const l={};if(n=n||{},e==null)return n;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)s=i[a],(!r||r(s,e,n))&&!l[s]&&(n[s]=e[s],l[s]=!0);e=t!==!1&&FA(e)}while(e&&(!t||t(e,n))&&e!==Object.prototype);return n},_oe=(e,n,t)=>{e=String(e),(t===void 0||t>e.length)&&(t=e.length),t-=n.length;const r=e.indexOf(n,t);return r!==-1&&r===t},koe=e=>{if(!e)return null;if(gm(e))return e;let n=e.length;if(!WD(n))return null;const t=new Array(n);for(;n-- >0;)t[n]=e[n];return t},joe=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&FA(Uint8Array)),Noe=(e,n)=>{const t=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=t.next())&&!r.done;){const i=r.value;n.call(e,i[0],i[1])}},Toe=(e,n)=>{let t;const r=[];for(;(t=e.exec(n))!==null;)r.push(t);return r},Ooe=Ru("HTMLFormElement"),Ioe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,t,r){return t.toUpperCase()+r}),Uj=(({hasOwnProperty:e})=>(n,t)=>e.call(n,t))(Object.prototype),Doe=Ru("RegExp"),GD=(e,n)=>{const t=Object.getOwnPropertyDescriptors(e),r={};sb(t,(i,a)=>{let s;(s=n(i,a,e))!==!1&&(r[a]=s||i)}),Object.defineProperties(e,r)},Loe=e=>{GD(e,(n,t)=>{if(el(e)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=e[t];if(el(r)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Roe=(e,n)=>{const t={},r=i=>{i.forEach(a=>{t[a]=!0})};return gm(e)?r(e):r(String(e).split(n)),t},Moe=()=>{},Foe=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n,Tw="abcdefghijklmnopqrstuvwxyz",$j="0123456789",QD={DIGIT:$j,ALPHA:Tw,ALPHA_DIGIT:Tw+Tw.toUpperCase()+$j},Poe=(e=16,n=QD.ALPHA_DIGIT)=>{let t="";const{length:r}=n;for(;e--;)t+=n[Math.random()*r|0];return t};function zoe(e){return!!(e&&el(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const qoe=e=>{const n=new Array(10),t=(r,i)=>{if(Kv(r)){if(n.indexOf(r)>=0)return;if(!("toJSON"in r)){n[i]=r;const a=gm(r)?[]:{};return sb(r,(s,l)=>{const c=t(s,i+1);!Tg(c)&&(a[l]=c)}),n[i]=void 0,a}}return r};return t(e,0)},Boe=Ru("AsyncFunction"),Uoe=e=>e&&(Kv(e)||el(e))&&el(e.then)&&el(e.catch),KD=((e,n)=>e?setImmediate:n?((t,r)=>(Jh.addEventListener("message",({source:i,data:a})=>{i===Jh&&a===t&&r.length&&r.shift()()},!1),i=>{r.push(i),Jh.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",el(Jh.postMessage)),$oe=typeof queueMicrotask<"u"?queueMicrotask.bind(Jh):typeof process<"u"&&process.nextTick||KD,lt={isArray:gm,isArrayBuffer:HD,isBuffer:soe,isFormData:moe,isArrayBufferView:ooe,isString:loe,isNumber:WD,isBoolean:uoe,isObject:Kv,isPlainObject:px,isReadableStream:boe,isRequest:yoe,isResponse:xoe,isHeaders:voe,isUndefined:Tg,isDate:coe,isFile:doe,isBlob:foe,isRegExp:Doe,isFunction:el,isStream:poe,isURLSearchParams:goe,isTypedArray:joe,isFileList:hoe,forEach:sb,merge:s6,extend:Soe,trim:woe,stripBOM:Aoe,inherits:Coe,toFlatObject:Eoe,kindOf:Gv,kindOfTest:Ru,endsWith:_oe,toArray:koe,forEachEntry:Noe,matchAll:Toe,isHTMLForm:Ooe,hasOwnProperty:Uj,hasOwnProp:Uj,reduceDescriptors:GD,freezeMethods:Loe,toObjectSet:Roe,toCamelCase:Ioe,noop:Moe,toFiniteNumber:Foe,findKey:VD,global:Jh,isContextDefined:YD,ALPHABET:QD,generateString:Poe,isSpecCompliantForm:zoe,toJSONObject:qoe,isAsyncFn:Boe,isThenable:Uoe,setImmediate:KD,asap:$oe};function Nn(e,n,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}lt.inherits(Nn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:lt.toJSONObject(this.config),code:this.code,status:this.status}}});const XD=Nn.prototype,ZD={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ZD[e]={value:e}});Object.defineProperties(Nn,ZD);Object.defineProperty(XD,"isAxiosError",{value:!0});Nn.from=(e,n,t,r,i,a)=>{const s=Object.create(XD);return lt.toFlatObject(e,s,function(l){return l!==Error.prototype},l=>l!=="isAxiosError"),Nn.call(s,e.message,n,t,r,i),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};const Hoe=null;function o6(e){return lt.isPlainObject(e)||lt.isArray(e)}function JD(e){return lt.endsWith(e,"[]")?e.slice(0,-2):e}function Hj(e,n,t){return e?e.concat(n).map(function(r,i){return r=JD(r),!t&&i?"["+r+"]":r}).join(t?".":""):n}function Woe(e){return lt.isArray(e)&&!e.some(o6)}const Voe=lt.toFlatObject(lt,{},null,function(e){return/^is[A-Z]/.test(e)});function Xv(e,n,t){if(!lt.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,t=lt.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,x){return!lt.isUndefined(x[m])});const r=t.metaTokens,i=t.visitor||d,a=t.dots,s=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&lt.isSpecCompliantForm(n);if(!lt.isFunction(i))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(lt.isDate(m))return m.toISOString();if(!l&&lt.isBlob(m))throw new Nn("Blob is not supported. Use a Buffer instead.");return lt.isArrayBuffer(m)||lt.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,x,y){let A=m;if(m&&!y&&typeof m=="object"){if(lt.endsWith(x,"{}"))x=r?x:x.slice(0,-2),m=JSON.stringify(m);else if(lt.isArray(m)&&Woe(m)||(lt.isFileList(m)||lt.endsWith(x,"[]"))&&(A=lt.toArray(m)))return x=JD(x),A.forEach(function(w,C){!(lt.isUndefined(w)||w===null)&&n.append(s===!0?Hj([x],C,a):s===null?x:x+"[]",c(w))}),!1}return o6(m)?!0:(n.append(Hj(y,x,a),c(m)),!1)}const h=[],g=Object.assign(Voe,{defaultVisitor:d,convertValue:c,isVisitable:o6});function b(m,x){if(!lt.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+x.join("."));h.push(m),lt.forEach(m,function(y,A){(!(lt.isUndefined(y)||y===null)&&i.call(n,y,lt.isString(A)?A.trim():A,x,g))===!0&&b(y,x?x.concat(A):[A])}),h.pop()}}if(!lt.isObject(e))throw new TypeError("data must be an object");return b(e),n}function Wj(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(t){return n[t]})}function PA(e,n){this._pairs=[],e&&Xv(e,this,n)}const eL=PA.prototype;eL.append=function(e,n){this._pairs.push([e,n])};eL.toString=function(e){const n=e?function(t){return e.call(this,t,Wj)}:Wj;return this._pairs.map(function(t){return n(t[0])+"="+n(t[1])},"").join("&")};function Yoe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function tL(e,n,t){if(!n)return e;const r=t&&t.encode||Yoe;lt.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let a;if(i?a=i(n,t):a=lt.isURLSearchParams(n)?n.toString():new PA(n,t).toString(r),a){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}let Vj=class{constructor(){this.handlers=[]}use(n,t,r){return this.handlers.push({fulfilled:n,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){lt.forEach(this.handlers,function(t){t!==null&&n(t)})}};const nL={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Goe=typeof URLSearchParams<"u"?URLSearchParams:PA,Qoe=typeof FormData<"u"?FormData:null,Koe=typeof Blob<"u"?Blob:null,Xoe={isBrowser:!0,classes:{URLSearchParams:Goe,FormData:Qoe,Blob:Koe},protocols:["http","https","file","blob","url","data"]},zA=typeof window<"u"&&typeof document<"u",l6=typeof navigator=="object"&&navigator||void 0,Zoe=zA&&(!l6||["ReactNative","NativeScript","NS"].indexOf(l6.product)<0),Joe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ele=zA&&window.location.href||"http://localhost",tle=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:zA,hasStandardBrowserEnv:Zoe,hasStandardBrowserWebWorkerEnv:Joe,navigator:l6,origin:ele},Symbol.toStringTag,{value:"Module"})),qs={...tle,...Xoe};function nle(e,n){return Xv(e,new qs.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,a){return qs.isNode&&lt.isBuffer(t)?(this.append(r,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},n))}function rle(e){return lt.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function ile(e){const n={},t=Object.keys(e);let r;const i=t.length;let a;for(r=0;r<i;r++)a=t[r],n[a]=e[a];return n}function rL(e){function n(t,r,i,a){let s=t[a++];if(s==="__proto__")return!0;const l=Number.isFinite(+s),c=a>=t.length;return s=!s&&lt.isArray(i)?i.length:s,c?(lt.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!l):((!i[s]||!lt.isObject(i[s]))&&(i[s]=[]),n(t,r,i[s],a)&&lt.isArray(i[s])&&(i[s]=ile(i[s])),!l)}if(lt.isFormData(e)&&lt.isFunction(e.entries)){const t={};return lt.forEachEntry(e,(r,i)=>{n(rle(r),i,t,0)}),t}return null}function ale(e,n,t){if(lt.isString(e))try{return(n||JSON.parse)(e),lt.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(e)}const ob={transitional:nL,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const t=n.getContentType()||"",r=t.indexOf("application/json")>-1,i=lt.isObject(e);if(i&&lt.isHTMLForm(e)&&(e=new FormData(e)),lt.isFormData(e))return r?JSON.stringify(rL(e)):e;if(lt.isArrayBuffer(e)||lt.isBuffer(e)||lt.isStream(e)||lt.isFile(e)||lt.isBlob(e)||lt.isReadableStream(e))return e;if(lt.isArrayBufferView(e))return e.buffer;if(lt.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(t.indexOf("application/x-www-form-urlencoded")>-1)return nle(e,this.formSerializer).toString();if((a=lt.isFileList(e))||t.indexOf("multipart/form-data")>-1){const s=this.env&&this.env.FormData;return Xv(a?{"files[]":e}:e,s&&new s,this.formSerializer)}}return i||r?(n.setContentType("application/json",!1),ale(e)):e}],transformResponse:[function(e){const n=this.transitional||ob.transitional,t=n&&n.forcedJSONParsing,r=this.responseType==="json";if(lt.isResponse(e)||lt.isReadableStream(e))return e;if(e&&lt.isString(e)&&(t&&!this.responseType||r)){const i=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i)throw a.name==="SyntaxError"?Nn.from(a,Nn.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qs.classes.FormData,Blob:qs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};lt.forEach(["delete","get","head","post","put","patch"],e=>{ob.headers[e]={}});const sle=lt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ole=e=>{const n={};let t,r,i;return e&&e.split(`
`).forEach(function(a){i=a.indexOf(":"),t=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!t||n[t]&&sle[t])&&(t==="set-cookie"?n[t]?n[t].push(r):n[t]=[r]:n[t]=n[t]?n[t]+", "+r:r)}),n},Yj=Symbol("internals");function D1(e){return e&&String(e).trim().toLowerCase()}function mx(e){return e===!1||e==null?e:lt.isArray(e)?e.map(mx):String(e)}function lle(e){const n=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(e);)n[r[1]]=r[2];return n}const ule=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ow(e,n,t,r,i){if(lt.isFunction(r))return r.call(this,n,t);if(i&&(n=t),!!lt.isString(n)){if(lt.isString(r))return n.indexOf(r)!==-1;if(lt.isRegExp(r))return r.test(n)}}function cle(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,t,r)=>t.toUpperCase()+r)}function dle(e,n){const t=lt.toCamelCase(" "+n);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+t,{value:function(i,a,s){return this[r].call(this,n,i,a,s)},configurable:!0})})}class wo{constructor(n){n&&this.set(n)}set(n,t,r){const i=this;function a(l,c,d){const h=D1(c);if(!h)throw new Error("header name must be a non-empty string");const g=lt.findKey(i,h);(!g||i[g]===void 0||d===!0||d===void 0&&i[g]!==!1)&&(i[g||c]=mx(l))}const s=(l,c)=>lt.forEach(l,(d,h)=>a(d,h,c));if(lt.isPlainObject(n)||n instanceof this.constructor)s(n,t);else if(lt.isString(n)&&(n=n.trim())&&!ule(n))s(ole(n),t);else if(lt.isHeaders(n))for(const[l,c]of n.entries())a(c,l,r);else n!=null&&a(t,n,r);return this}get(n,t){if(n=D1(n),n){const r=lt.findKey(this,n);if(r){const i=this[r];if(!t)return i;if(t===!0)return lle(i);if(lt.isFunction(t))return t.call(this,i,r);if(lt.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,t){if(n=D1(n),n){const r=lt.findKey(this,n);return!!(r&&this[r]!==void 0&&(!t||Ow(this,this[r],r,t)))}return!1}delete(n,t){const r=this;let i=!1;function a(s){if(s=D1(s),s){const l=lt.findKey(r,s);l&&(!t||Ow(r,r[l],l,t))&&(delete r[l],i=!0)}}return lt.isArray(n)?n.forEach(a):a(n),i}clear(n){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const a=t[r];(!n||Ow(this,this[a],a,n,!0))&&(delete this[a],i=!0)}return i}normalize(n){const t=this,r={};return lt.forEach(this,(i,a)=>{const s=lt.findKey(r,a);if(s){t[s]=mx(i),delete t[a];return}const l=n?cle(a):String(a).trim();l!==a&&delete t[a],t[l]=mx(i),r[l]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const t=Object.create(null);return lt.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=n&&lt.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,t])=>n+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...t){const r=new this(n);return t.forEach(i=>r.set(i)),r}static accessor(n){const t=(this[Yj]=this[Yj]={accessors:{}}).accessors,r=this.prototype;function i(a){const s=D1(a);t[s]||(dle(r,a),t[s]=!0)}return lt.isArray(n)?n.forEach(i):i(n),this}}wo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);lt.reduceDescriptors(wo.prototype,({value:e},n)=>{let t=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(r){this[t]=r}}});lt.freezeMethods(wo);function Iw(e,n){const t=this||ob,r=n||t,i=wo.from(r.headers);let a=r.data;return lt.forEach(e,function(s){a=s.call(t,a,i.normalize(),n?n.status:void 0)}),i.normalize(),a}function iL(e){return!!(e&&e.__CANCEL__)}function bm(e,n,t){Nn.call(this,e??"canceled",Nn.ERR_CANCELED,n,t),this.name="CanceledError"}lt.inherits(bm,Nn,{__CANCEL__:!0});function aL(e,n,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?e(t):n(new Nn("Request failed with status code "+t.status,[Nn.ERR_BAD_REQUEST,Nn.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function fle(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function hle(e,n){e=e||10;const t=new Array(e),r=new Array(e);let i=0,a=0,s;return n=n!==void 0?n:1e3,function(l){const c=Date.now(),d=r[a];s||(s=c),t[i]=l,r[i]=c;let h=a,g=0;for(;h!==i;)g+=t[h++],h=h%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),c-s<n)return;const b=d&&c-d;return b?Math.round(g*1e3/b):void 0}}function ple(e,n){let t=0,r=1e3/n,i,a;const s=(l,c=Date.now())=>{t=c,i=null,a&&(clearTimeout(a),a=null),e.apply(null,l)};return[(...l)=>{const c=Date.now(),d=c-t;d>=r?s(l,c):(i=l,a||(a=setTimeout(()=>{a=null,s(i)},r-d)))},()=>i&&s(i)]}const Xx=(e,n,t=3)=>{let r=0;const i=hle(50,250);return ple(a=>{const s=a.loaded,l=a.lengthComputable?a.total:void 0,c=s-r,d=i(c),h=s<=l;r=s;const g={loaded:s,total:l,progress:l?s/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&h?(l-s)/d:void 0,event:a,lengthComputable:l!=null,[n?"download":"upload"]:!0};e(g)},t)},Gj=(e,n)=>{const t=e!=null;return[r=>n[0]({lengthComputable:t,total:e,loaded:r}),n[1]]},Qj=e=>(...n)=>lt.asap(()=>e(...n)),mle=qs.hasStandardBrowserEnv?((e,n)=>t=>(t=new URL(t,qs.origin),e.protocol===t.protocol&&e.host===t.host&&(n||e.port===t.port)))(new URL(qs.origin),qs.navigator&&/(msie|trident)/i.test(qs.navigator.userAgent)):()=>!0,gle=qs.hasStandardBrowserEnv?{write(e,n,t,r,i,a){const s=[e+"="+encodeURIComponent(n)];lt.isNumber(t)&&s.push("expires="+new Date(t).toGMTString()),lt.isString(r)&&s.push("path="+r),lt.isString(i)&&s.push("domain="+i),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ble(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function yle(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function sL(e,n){return e&&!ble(n)?yle(e,n):n}const Kj=e=>e instanceof wo?{...e}:e;function bp(e,n){n=n||{};const t={};function r(d,h,g,b){return lt.isPlainObject(d)&&lt.isPlainObject(h)?lt.merge.call({caseless:b},d,h):lt.isPlainObject(h)?lt.merge({},h):lt.isArray(h)?h.slice():h}function i(d,h,g,b){if(lt.isUndefined(h)){if(!lt.isUndefined(d))return r(void 0,d,g,b)}else return r(d,h,g,b)}function a(d,h){if(!lt.isUndefined(h))return r(void 0,h)}function s(d,h){if(lt.isUndefined(h)){if(!lt.isUndefined(d))return r(void 0,d)}else return r(void 0,h)}function l(d,h,g){if(g in n)return r(d,h);if(g in e)return r(void 0,d)}const c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(d,h,g)=>i(Kj(d),Kj(h),g,!0)};return lt.forEach(Object.keys(Object.assign({},e,n)),function(d){const h=c[d]||i,g=h(e[d],n[d],d);lt.isUndefined(g)&&h!==l||(t[d]=g)}),t}const oL=e=>{const n=bp({},e);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:l}=n;n.headers=s=wo.from(s),n.url=tL(sL(n.baseURL,n.url),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(lt.isFormData(t)){if(qs.hasStandardBrowserEnv||qs.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){const[d,...h]=c?c.split(";").map(g=>g.trim()).filter(Boolean):[];s.setContentType([d||"multipart/form-data",...h].join("; "))}}if(qs.hasStandardBrowserEnv&&(r&&lt.isFunction(r)&&(r=r(n)),r||r!==!1&&mle(n.url))){const d=i&&a&&gle.read(a);d&&s.set(i,d)}return n},xle=typeof XMLHttpRequest<"u",vle=xle&&function(e){return new Promise(function(n,t){const r=oL(e);let i=r.data;const a=wo.from(r.headers).normalize();let{responseType:s,onUploadProgress:l,onDownloadProgress:c}=r,d,h,g,b,m;function x(){b&&b(),m&&m(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(r.method.toUpperCase(),r.url,!0),y.timeout=r.timeout;function A(){if(!y)return;const C=wo.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),j={data:!s||s==="text"||s==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:C,config:e,request:y};aL(function(F){n(F),x()},function(F){t(F),x()},j),y=null}"onloadend"in y?y.onloadend=A:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(A)},y.onabort=function(){y&&(t(new Nn("Request aborted",Nn.ECONNABORTED,e,y)),y=null)},y.onerror=function(){t(new Nn("Network Error",Nn.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let C=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const j=r.transitional||nL;r.timeoutErrorMessage&&(C=r.timeoutErrorMessage),t(new Nn(C,j.clarifyTimeoutError?Nn.ETIMEDOUT:Nn.ECONNABORTED,e,y)),y=null},i===void 0&&a.setContentType(null),"setRequestHeader"in y&&lt.forEach(a.toJSON(),function(C,j){y.setRequestHeader(j,C)}),lt.isUndefined(r.withCredentials)||(y.withCredentials=!!r.withCredentials),s&&s!=="json"&&(y.responseType=r.responseType),c&&([g,m]=Xx(c,!0),y.addEventListener("progress",g)),l&&y.upload&&([h,b]=Xx(l),y.upload.addEventListener("progress",h),y.upload.addEventListener("loadend",b)),(r.cancelToken||r.signal)&&(d=C=>{y&&(t(!C||C.type?new bm(null,e,y):C),y.abort(),y=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const w=fle(r.url);if(w&&qs.protocols.indexOf(w)===-1){t(new Nn("Unsupported protocol "+w+":",Nn.ERR_BAD_REQUEST,e));return}y.send(i||null)})},wle=(e,n)=>{const{length:t}=e=e?e.filter(Boolean):[];if(n||t){let r=new AbortController,i;const a=function(d){if(!i){i=!0,l();const h=d instanceof Error?d:this.reason;r.abort(h instanceof Nn?h:new bm(h instanceof Error?h.message:h))}};let s=n&&setTimeout(()=>{s=null,a(new Nn(`timeout ${n} of ms exceeded`,Nn.ETIMEDOUT))},n);const l=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),e=null)};e.forEach(d=>d.addEventListener("abort",a));const{signal:c}=r;return c.unsubscribe=()=>lt.asap(l),c}},Sle=function*(e,n){let t=e.byteLength;if(t<n){yield e;return}let r=0,i;for(;r<t;)i=r+n,yield e.slice(r,i),r=i},Ale=async function*(e,n){for await(const t of Cle(e))yield*Sle(t,n)},Cle=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const n=e.getReader();try{for(;;){const{done:t,value:r}=await n.read();if(t)break;yield r}}finally{await n.cancel()}},Xj=(e,n,t,r)=>{const i=Ale(e,n);let a=0,s,l=c=>{s||(s=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:h}=await i.next();if(d){l(),c.close();return}let g=h.byteLength;if(t){let b=a+=g;t(b)}c.enqueue(new Uint8Array(h))}catch(d){throw l(d),d}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},Zv=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",lL=Zv&&typeof ReadableStream=="function",Ele=Zv&&(typeof TextEncoder=="function"?(e=>n=>e.encode(n))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),uL=(e,...n)=>{try{return!!e(...n)}catch{return!1}},_le=lL&&uL(()=>{let e=!1;const n=new Request(qs.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!n}),Zj=64*1024,u6=lL&&uL(()=>lt.isReadableStream(new Response("").body)),Zx={stream:u6&&(e=>e.body)};Zv&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!Zx[n]&&(Zx[n]=lt.isFunction(e[n])?t=>t[n]():(t,r)=>{throw new Nn(`Response type '${n}' is not supported`,Nn.ERR_NOT_SUPPORT,r)})})})(new Response);const kle=async e=>{if(e==null)return 0;if(lt.isBlob(e))return e.size;if(lt.isSpecCompliantForm(e))return(await new Request(qs.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(lt.isArrayBufferView(e)||lt.isArrayBuffer(e))return e.byteLength;if(lt.isURLSearchParams(e)&&(e=e+""),lt.isString(e))return(await Ele(e)).byteLength},jle=async(e,n)=>lt.toFiniteNumber(e.getContentLength())??kle(n),Nle=Zv&&(async e=>{let{url:n,method:t,data:r,signal:i,cancelToken:a,timeout:s,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:h,withCredentials:g="same-origin",fetchOptions:b}=oL(e);d=d?(d+"").toLowerCase():"text";let m=wle([i,a&&a.toAbortSignal()],s),x;const y=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let A;try{if(c&&_le&&t!=="get"&&t!=="head"&&(A=await jle(h,r))!==0){let z=new Request(n,{method:"POST",body:r,duplex:"half"}),L;if(lt.isFormData(r)&&(L=z.headers.get("content-type"))&&h.setContentType(L),z.body){const[k,M]=Gj(A,Xx(Qj(c)));r=Xj(z.body,Zj,k,M)}}lt.isString(g)||(g=g?"include":"omit");const w="credentials"in Request.prototype;x=new Request(n,{...b,signal:m,method:t.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:w?g:void 0});let C=await fetch(x);const j=u6&&(d==="stream"||d==="response");if(u6&&(l||j&&y)){const z={};["status","statusText","headers"].forEach(q=>{z[q]=C[q]});const L=lt.toFiniteNumber(C.headers.get("content-length")),[k,M]=l&&Gj(L,Xx(Qj(l),!0))||[];C=new Response(Xj(C.body,Zj,k,()=>{M&&M(),y&&y()}),z)}d=d||"text";let F=await Zx[lt.findKey(Zx,d)||"text"](C,e);return!j&&y&&y(),await new Promise((z,L)=>{aL(z,L,{data:F,headers:wo.from(C.headers),status:C.status,statusText:C.statusText,config:e,request:x})})}catch(w){throw y&&y(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new Nn("Network Error",Nn.ERR_NETWORK,e,x),{cause:w.cause||w}):Nn.from(w,w&&w.code,e,x)}}),c6={http:Hoe,xhr:vle,fetch:Nle};lt.forEach(c6,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const Jj=e=>`- ${e}`,Tle=e=>lt.isFunction(e)||e===null||e===!1,cL={getAdapter:e=>{e=lt.isArray(e)?e:[e];const{length:n}=e;let t,r;const i={};for(let a=0;a<n;a++){t=e[a];let s;if(r=t,!Tle(t)&&(r=c6[(s=String(t)).toLowerCase()],r===void 0))throw new Nn(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+a]=r}if(!r){const a=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=n?a.length>1?`since :
`+a.map(Jj).join(`
`):" "+Jj(a[0]):"as no adapter specified";throw new Nn("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:c6};function Dw(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new bm(null,e)}function eN(e){return Dw(e),e.headers=wo.from(e.headers),e.data=Iw.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),cL.getAdapter(e.adapter||ob.adapter)(e).then(function(n){return Dw(e),n.data=Iw.call(e,e.transformResponse,n),n.headers=wo.from(n.headers),n},function(n){return iL(n)||(Dw(e),n&&n.response&&(n.response.data=Iw.call(e,e.transformResponse,n.response),n.response.headers=wo.from(n.response.headers))),Promise.reject(n)})}const dL="1.7.9",Jv={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{Jv[e]=function(t){return typeof t===e||"a"+(n<1?"n ":" ")+e}});const tN={};Jv.transitional=function(e,n,t){function r(i,a){return"[Axios v"+dL+"] Transitional option '"+i+"'"+a+(t?". "+t:"")}return(i,a,s)=>{if(e===!1)throw new Nn(r(a," has been removed"+(n?" in "+n:"")),Nn.ERR_DEPRECATED);return n&&!tN[a]&&(tN[a]=!0,console.warn(r(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,a,s):!0}};Jv.spelling=function(e){return(n,t)=>(console.warn(`${t} is likely a misspelling of ${e}`),!0)};function Ole(e,n,t){if(typeof e!="object")throw new Nn("options must be an object",Nn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],s=n[a];if(s){const l=e[a],c=l===void 0||s(l,a,e);if(c!==!0)throw new Nn("option "+a+" must be "+c,Nn.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Nn("Unknown option "+a,Nn.ERR_BAD_OPTION)}}const gx={assertOptions:Ole,validators:Jv},cc=gx.validators;let lp=class{constructor(n){this.defaults=n,this.interceptors={request:new Vj,response:new Vj}}async request(n,t){try{return await this._request(n,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(n,t){typeof n=="string"?(t=t||{},t.url=n):t=n||{},t=bp(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:a}=t;r!==void 0&&gx.assertOptions(r,{silentJSONParsing:cc.transitional(cc.boolean),forcedJSONParsing:cc.transitional(cc.boolean),clarifyTimeoutError:cc.transitional(cc.boolean)},!1),i!=null&&(lt.isFunction(i)?t.paramsSerializer={serialize:i}:gx.assertOptions(i,{encode:cc.function,serialize:cc.function},!0)),gx.assertOptions(t,{baseUrl:cc.spelling("baseURL"),withXsrfToken:cc.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&lt.merge(a.common,a[t.method]);a&&lt.forEach(["delete","get","head","post","put","patch","common"],x=>{delete a[x]}),t.headers=wo.concat(s,a);const l=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(t)===!1||(c=c&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const d=[];this.interceptors.response.forEach(function(x){d.push(x.fulfilled,x.rejected)});let h,g=0,b;if(!c){const x=[eN.bind(this),void 0];for(x.unshift.apply(x,l),x.push.apply(x,d),b=x.length,h=Promise.resolve(t);g<b;)h=h.then(x[g++],x[g++]);return h}b=l.length;let m=t;for(g=0;g<b;){const x=l[g++],y=l[g++];try{m=x(m)}catch(A){y.call(this,A);break}}try{h=eN.call(this,m)}catch(x){return Promise.reject(x)}for(g=0,b=d.length;g<b;)h=h.then(d[g++],d[g++]);return h}getUri(n){n=bp(this.defaults,n);const t=sL(n.baseURL,n.url);return tL(t,n.params,n.paramsSerializer)}};lt.forEach(["delete","get","head","options"],function(e){lp.prototype[e]=function(n,t){return this.request(bp(t||{},{method:e,url:n,data:(t||{}).data}))}});lt.forEach(["post","put","patch"],function(e){function n(t){return function(r,i,a){return this.request(bp(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:i}))}}lp.prototype[e]=n(),lp.prototype[e+"Form"]=n(!0)});let Ile=class fL{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const s=new Promise(l=>{r.subscribe(l),a=l}).then(i);return s.cancel=function(){r.unsubscribe(a)},s},n(function(i,a,s){r.reason||(r.reason=new bm(i,a,s),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const t=this._listeners.indexOf(n);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const n=new AbortController,t=r=>{n.abort(r)};return this.subscribe(t),n.signal.unsubscribe=()=>this.unsubscribe(t),n.signal}static source(){let n;return{token:new fL(function(t){n=t}),cancel:n}}};function Dle(e){return function(n){return e.apply(null,n)}}function Lle(e){return lt.isObject(e)&&e.isAxiosError===!0}const d6={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(d6).forEach(([e,n])=>{d6[n]=e});function hL(e){const n=new lp(e),t=$D(lp.prototype.request,n);return lt.extend(t,lp.prototype,n,{allOwnKeys:!0}),lt.extend(t,n,null,{allOwnKeys:!0}),t.create=function(r){return hL(bp(e,r))},t}const Pi=hL(ob);Pi.Axios=lp;Pi.CanceledError=bm;Pi.CancelToken=Ile;Pi.isCancel=iL;Pi.VERSION=dL;Pi.toFormData=Xv;Pi.AxiosError=Nn;Pi.Cancel=Pi.CanceledError;Pi.all=function(e){return Promise.all(e)};Pi.spread=Dle;Pi.isAxiosError=Lle;Pi.mergeConfig=bp;Pi.AxiosHeaders=wo;Pi.formToJSON=e=>rL(lt.isHTMLForm(e)?new FormData(e):e);Pi.getAdapter=cL.getAdapter;Pi.HttpStatusCode=d6;Pi.default=Pi;const Rle=async e=>{const n=new FormData;n.append("chatbot_id",e);try{const t=await Pi.post("https://rag-flask-api.onrender.com/start_conversation",n,{headers:{"Content-Type":"multipart/form-data"}}),{conversation_id:r,intro_message:i}=t.data;if(!r)throw new Error("Failed to retrieve conversation ID from server.");return{conversationId:r,introMessage:i}}catch(t){throw console.error("Error starting conversation:",t),t}},Mle=async(e,n,t)=>{const r=new FormData;r.append("chatbot_id",e),r.append("conversation_id",n),r.append("question",t);try{return(await Pi.post("https://rag-flask-api.onrender.com/ask",r,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(i){throw console.error("Error sending message:",i),i}},Fle=async(e,n)=>{const t=new FormData;t.append("chatbot_id",e),t.append("conversation_id",n);try{await Pi.post("https://rag-flask-api.onrender.com/end_conversation",t,{headers:{"Content-Type":"multipart/form-data"}})}catch(r){throw console.error("Error ending conversation:",r),r}},Ple=async e=>{try{const n=await Pi.get(`https://rag-flask-api.onrender.com/summary/${e}`);if(n.status===200&&n.data.summary)return n.data.summary;throw new Error("Summary not found for this chatbot.")}catch(n){throw console.error("Error fetching summary:",n),n}},zle=({chatbotId:e,open:n,onClose:t})=>{const[r,i]=X.useState(null),[a,s]=X.useState(!1),[l,c]=X.useState(null),d=async()=>{s(!0),c(null);try{const h=await Ple(e);i(h)}catch(h){c(h.message||"Failed to fetch summary. Please try again.")}finally{s(!1)}};return X.useEffect(()=>{n&&d()},[n]),yn.jsx(Sx,{open:n,onClose:t,"aria-labelledby":"summary-modal-title","aria-describedby":"summary-modal-description",children:yn.jsxs(ge,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:600,bgcolor:"background.paper",borderRadius:4,boxShadow:24,p:4},children:[yn.jsxs(ge,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[yn.jsx(ce,{id:"summary-modal-title",variant:"h6",component:"h2",children:"Document Summary"}),yn.jsx(Cn,{onClick:t,children:yn.jsx(ioe,{})})]}),a?yn.jsx(ge,{sx:{display:"flex",justifyContent:"center",my:4},children:yn.jsx(Gr,{})}):l?yn.jsx(ce,{color:"error",children:l}):yn.jsx(ge,{sx:{maxHeight:300,overflowY:"auto",padding:2,border:"1px solid #ddd",borderRadius:2,backgroundColor:"#f9f9f9"},children:yn.jsx(kA,{children:r})}),yn.jsx(mt,{variant:"contained",sx:{mt:2},onClick:t,fullWidth:!0,children:"Close"})]})})},qle=X.forwardRef(({chatbotId:e,onConversationStart:n},t)=>{const[r,i]=X.useState(!1),[a,s]=X.useState(()=>{const L=localStorage.getItem("responses");return L?JSON.parse(L):[]}),[l,c]=X.useState(()=>localStorage.getItem("conversationId")||null),[d,h]=X.useState(!1),[g,b]=X.useState(null),[m,x]=X.useState(!1),y=$w("(max-width:600px)"),A=$w("(min-width:601px) and (max-width:960px)"),w=X.useRef(null);X.useEffect(()=>{typeof n=="function"&&l&&n(l)},[l,n]),X.useEffect(()=>{w.current&&w.current.scrollIntoView({behavior:"smooth"})},[a]);const C=async()=>{i(L=>!L),!r&&!l&&!d&&j()},j=async()=>{if(!l){h(!0),b(null);try{const L=await Rle(e),{conversationId:k,introMessage:M}=L;c(k),localStorage.setItem("conversationId",k),s(q=>{const Q=[...q,{id:"intro",sender:"chatbot",text:M}];return localStorage.setItem("responses",JSON.stringify(Q)),Q})}catch(L){console.error("Error starting conversation:",L),b("Failed to start a conversation. Please try again.")}finally{h(!1)}}},F=async(L,k=l)=>{h(!0),b(null);try{const M=await Mle(e,k,L);s(q=>{const Q=[...q,{question:L,answer:M.answer}];return localStorage.setItem("responses",JSON.stringify(Q)),Q})}catch(M){console.error("Error sending message:",M),b("Failed to send the message. Please try again.")}finally{h(!1)}},z=async()=>{h(!0),b(null);try{l&&await Fle(e,l),c(null),s([]),localStorage.removeItem("conversationId"),localStorage.removeItem("responses")}catch(L){console.error("Error ending conversation:",L),b("Failed to end the conversation. Please try again.")}finally{h(!1)}};return X.useImperativeHandle(t,()=>({endConversation:z})),yn.jsx(yn.Fragment,{children:r?yn.jsxs(fn,{elevation:3,sx:Nw.chatContainer(y,A),children:[yn.jsxs(ge,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[yn.jsx(ce,{sx:Nw.chatHeader,children:"PAT (Personalized Academic Tutor)"}),yn.jsx(Cn,{onClick:C,sx:{color:"black"},children:"X"})]}),yn.jsx(eoe,{responses:a}),yn.jsx("div",{ref:w}),d&&yn.jsx(Xo,{sx:{position:"absolute",top:0,left:0,width:"100%"}}),g&&yn.jsx(ce,{color:"error",children:g}),yn.jsx(toe,{onSendMessage:F,onStartConversation:j,onEndConversation:z,conversationId:l}),yn.jsx(mt,{variant:"outlined",onClick:()=>x(!0),sx:{mt:2},children:"View Summary"}),yn.jsx(zle,{chatbotId:e,open:m,onClose:()=>x(!1)})]}):yn.jsx(Cn,{onClick:C,sx:Nw.chatToggleButton,children:yn.jsx(Jse,{fontSize:"large"})})})});class Ble extends X.Component{constructor(n){super(n),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(n){console.error("Error caught by ErrorBoundary:",n)}render(){return this.state.hasError?f.jsx("h2",{children:"Something went wrong while loading the Chatbot."}):this.props.children}}const pL=X.forwardRef(({chatbotId:e},n)=>{const{userDetails:t}=Ai(),r=X.useRef(null),[i,a]=X.useState(!1),s=async l=>{if(console.log(` Chatbot started. Chatbot ID: ${e}, Conversation ID: ${l}`),t!=null&&t.uid)try{await oT(xn(CT,"conversations",l),{conversationId:l,chatbotId:e,userId:t.uid,startedAt:new Date().toISOString()},{merge:!0}),console.log("Conversation saved to Firestore")}catch(c){console.error("Failed to save conversation:",c)}};return X.useImperativeHandle(n,()=>({endConversation:()=>{r.current&&(console.log("Ending chatbot conversation..."),r.current.endConversation())}})),f.jsx(ge,{sx:{position:"relative",display:"flex",flexDirection:"column",alignItems:"flex-end"},children:f.jsxs(ge,{sx:{background:i?"rgba(255, 255, 255, 0.95)":"#0B53C0",borderRadius:4,boxShadow:i?"0 8px 32px rgba(0, 0, 0, 0.12)":"0 2px 8px rgba(0, 0, 0, 0.15)",overflow:"hidden",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",border:i?"1px solid #e0e0e0":"none",minWidth:i?400:"auto",maxWidth:i?450:"auto"},children:[f.jsxs(mt,{variant:"text",onClick:()=>a(!i),sx:{background:i?"#0B53C0 !important":"transparent !important",backgroundColor:i?"#0B53C0 !important":"transparent !important",color:"white !important",px:2.5,py:1.5,borderRadius:i?"16px 16px 0 0":"12px",textTransform:"none",display:"flex",alignItems:"center",gap:1.5,minWidth:"auto",width:"100%",justifyContent:"flex-start","&:hover":{background:"#064a9e !important",backgroundColor:"#064a9e !important",boxShadow:i?"none":"0px 4px 12px rgba(11, 83, 192, 0.3)"},"&:active":{background:"#064a9e !important",backgroundColor:"#064a9e !important"},"&:focus":{background:i?"#0B53C0 !important":"#064a9e !important",backgroundColor:i?"#0B53C0 !important":"#064a9e !important"},"&.Mui-focusVisible":{background:i?"#0B53C0 !important":"#064a9e !important",backgroundColor:i?"#0B53C0 !important":"#064a9e !important"},transition:"all 0.2s ease-in-out"},children:[f.jsx(eT,{sx:{fontSize:"1.5rem",color:"white !important"}}),f.jsxs(ge,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",lineHeight:1,flex:1},children:[f.jsx(ce,{variant:"body1",sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",fontWeight:"bold",mb:0,lineHeight:1.1,color:"white !important"},children:"Chat with PAT"}),f.jsx(ce,{variant:"caption",sx:{fontFamily:"Gabarito, sans-serif",fontSize:"0.75rem",opacity:.9,lineHeight:1,mt:.2,color:"white !important"},children:"AI Tutor"})]}),i?f.jsx(ag,{sx:{fontSize:"1.2rem",color:"white !important"}}):f.jsx(Vo,{sx:{fontSize:"1.2rem",color:"white !important"}})]}),f.jsx(sg,{in:i,timeout:300,easing:{enter:"cubic-bezier(0.4, 0, 0.2, 1)",exit:"cubic-bezier(0.4, 0, 0.6, 1)"},children:f.jsx(ge,{sx:{background:"white",borderRadius:"0 0 16px 16px",overflow:"hidden"},children:f.jsx(Ble,{children:f.jsx(qle,{ref:r,chatbotId:e,onConversationStart:s})})})})]})})});pL.displayName="ChatbotWrapper";const L1="ce5f7921-a3a0-4ea7-b95f-10fe41becda5",Ule=()=>{const[e,n]=X.useState(L1),[t]=qg(),r=X.useRef(null);return X.useEffect(()=>{const i=t.get("material");if(!i){e!==L1&&n(L1);return}(async()=>{var h;console.log("Fetching chatbot ID for material:",i);const s=Jn(),l=wn(s,"chatbots"),c=nl(l,Si("material.id","==",i)),d=await mi(c);if(d.empty)console.log(` No chatbot found for material ${i}, using default:`,L1),n(L1);else{const g=d.docs[0].data();console.log(` Found chatbot for material ${i}:`,g.chatbotId),g.chatbotId!==e&&((h=r.current)==null||h.endConversation()),n(g.chatbotId)}})()},[t,e]),f.jsx(ge,{sx:{position:"fixed",bottom:16,right:16,zIndex:1100},children:f.jsx(pL,{ref:r,chatbotId:e})})};function lb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Kd(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var n=e.default;if(typeof n=="function"){var t=function r(){return this instanceof r?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};t.prototype=n.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),t}var nN={exports:{}},R1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rN;function $le(){if(rN)return R1;rN=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function t(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:s,ref:i!==void 0?i:null,props:a}}return R1.Fragment=n,R1.jsx=t,R1.jsxs=t,R1}var iN;function ub(){return iN||(iN=1,nN.exports=$le()),nN.exports}var Gt=ub(),M1={},aN={exports:{}},sN;function ym(){return sN||(sN=1,function(e){function n(t){return t&&t.__esModule?t:{default:t}}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(aN)),aN.exports}var oN={};function Yr(){return Yr=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Yr.apply(null,arguments)}function Bf(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function mL(e){if(X.isValidElement(e)||!Bf(e))return e;const n={};return Object.keys(e).forEach(t=>{n[t]=mL(e[t])}),n}function Lc(e,n,t={clone:!0}){const r=t.clone?Yr({},e):e;return Bf(e)&&Bf(n)&&Object.keys(n).forEach(i=>{X.isValidElement(n[i])?r[i]=n[i]:Bf(n[i])&&Object.prototype.hasOwnProperty.call(e,i)&&Bf(e[i])?r[i]=Lc(e[i],n[i],t):t.clone?r[i]=Bf(n[i])?mL(n[i]):n[i]:r[i]=n[i]}),r}const Hle=Object.freeze(Object.defineProperty({__proto__:null,default:Lc,isPlainObject:Bf},Symbol.toStringTag,{value:"Module"}));function Og(e){let n="https://mui.com/production-error/?code="+e;for(let t=1;t<arguments.length;t+=1)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified MUI error #"+e+"; visit "+n+" for the full message."}const Wle=Object.freeze(Object.defineProperty({__proto__:null,default:Og},Symbol.toStringTag,{value:"Module"}));var lN={exports:{}},Hr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uN;function Vle(){if(uN)return Hr;uN=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function x(y){if(typeof y=="object"&&y!==null){var A=y.$$typeof;switch(A){case e:switch(y=y.type,y){case t:case i:case r:case c:case d:case b:return y;default:switch(y=y&&y.$$typeof,y){case s:case l:case g:case h:return y;case a:return y;default:return A}}case n:return A}}}return Hr.ContextConsumer=a,Hr.ContextProvider=s,Hr.Element=e,Hr.ForwardRef=l,Hr.Fragment=t,Hr.Lazy=g,Hr.Memo=h,Hr.Portal=n,Hr.Profiler=i,Hr.StrictMode=r,Hr.Suspense=c,Hr.SuspenseList=d,Hr.isContextConsumer=function(y){return x(y)===a},Hr.isContextProvider=function(y){return x(y)===s},Hr.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},Hr.isForwardRef=function(y){return x(y)===l},Hr.isFragment=function(y){return x(y)===t},Hr.isLazy=function(y){return x(y)===g},Hr.isMemo=function(y){return x(y)===h},Hr.isPortal=function(y){return x(y)===n},Hr.isProfiler=function(y){return x(y)===i},Hr.isStrictMode=function(y){return x(y)===r},Hr.isSuspense=function(y){return x(y)===c},Hr.isSuspenseList=function(y){return x(y)===d},Hr.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===t||y===i||y===r||y===c||y===d||typeof y=="object"&&y!==null&&(y.$$typeof===g||y.$$typeof===h||y.$$typeof===s||y.$$typeof===a||y.$$typeof===l||y.$$typeof===m||y.getModuleId!==void 0)},Hr.typeOf=x,Hr}var cN;function Yle(){return cN||(cN=1,lN.exports=Vle()),lN.exports}var dN=Yle();const Gle=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function gL(e){const n=`${e}`.match(Gle);return n&&n[1]||""}function bL(e,n=""){return e.displayName||e.name||gL(e)||n}function fN(e,n,t){const r=bL(n);return e.displayName||(r!==""?`${t}(${r})`:t)}function Qle(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return bL(e,"Component");if(typeof e=="object")switch(e.$$typeof){case dN.ForwardRef:return fN(e,e.render,"ForwardRef");case dN.Memo:return fN(e,e.type,"memo");default:return}}}const Kle=Object.freeze(Object.defineProperty({__proto__:null,default:Qle,getFunctionName:gL},Symbol.toStringTag,{value:"Module"}));function lh(e){if(typeof e!="string")throw new Error(Og(7));return e.charAt(0).toUpperCase()+e.slice(1)}const Xle=Object.freeze(Object.defineProperty({__proto__:null,default:lh},Symbol.toStringTag,{value:"Module"}));function Zle(...e){return e.reduce((n,t)=>t==null?n:function(...r){n.apply(this,r),t.apply(this,r)},()=>{})}function Jle(e,n=166){let t;function r(...i){const a=()=>{e.apply(this,i)};clearTimeout(t),t=setTimeout(a,n)}return r.clear=()=>{clearTimeout(t)},r}function eue(e,n){return()=>null}function tue(e,n){var t,r;return X.isValidElement(e)&&n.indexOf((t=e.type.muiName)!=null?t:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function yL(e){return e&&e.ownerDocument||document}function nue(e){return yL(e).defaultView||window}function rue(e,n){return()=>null}function xL(e,n){typeof e=="function"?e(n):e&&(e.current=n)}const vL=typeof window<"u"?X.useLayoutEffect:X.useEffect;let hN=0;function iue(e){const[n,t]=X.useState(e),r=e||n;return X.useEffect(()=>{n==null&&(hN+=1,t(`mui-${hN}`))},[n]),r}const pN=X.useId;function aue(e){if(pN!==void 0){const n=pN();return e??n}return iue(e)}function sue(e,n,t,r,i){return null}function oue({controlled:e,default:n,name:t,state:r="value"}){const{current:i}=X.useRef(e!==void 0),[a,s]=X.useState(n),l=i?e:a,c=X.useCallback(d=>{i||s(d)},[]);return[l,c]}function lue(e){const n=X.useRef(e);return vL(()=>{n.current=e}),X.useRef((...t)=>(0,n.current)(...t)).current}function uue(...e){return X.useMemo(()=>e.every(n=>n==null)?null:n=>{e.forEach(t=>{xL(t,n)})},e)}class qA{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new qA}start(n,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},n)}}let e2=!0,f6=!1;const cue=new qA,due={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function fue(e){const{type:n,tagName:t}=e;return!!(t==="INPUT"&&due[n]&&!e.readOnly||t==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function hue(e){e.metaKey||e.altKey||e.ctrlKey||(e2=!0)}function Lw(){e2=!1}function pue(){this.visibilityState==="hidden"&&f6&&(e2=!0)}function mue(e){e.addEventListener("keydown",hue,!0),e.addEventListener("mousedown",Lw,!0),e.addEventListener("pointerdown",Lw,!0),e.addEventListener("touchstart",Lw,!0),e.addEventListener("visibilitychange",pue,!0)}function gue(e){const{target:n}=e;try{return n.matches(":focus-visible")}catch{}return e2||fue(n)}function bue(){const e=X.useCallback(i=>{i!=null&&mue(i.ownerDocument)},[]),n=X.useRef(!1);function t(){return n.current?(f6=!0,cue.start(100,()=>{f6=!1}),n.current=!1,!0):!1}function r(i){return gue(i)?(n.current=!0,!0):!1}return{isFocusVisibleRef:n,onFocus:r,onBlur:t,ref:e}}function h6(e,n){const t=Yr({},n);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))t[r]=Yr({},e[r],t[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},a=n[r];t[r]={},!a||!Object.keys(a)?t[r]=i:!i||!Object.keys(i)?t[r]=a:(t[r]=Yr({},a),Object.keys(i).forEach(s=>{t[r][s]=h6(i[s],a[s])}))}else t[r]===void 0&&(t[r]=e[r])}),t}function yue(e,n,t=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((a,s)=>{if(s){const l=n(s);l!==""&&a.push(l),t&&t[s]&&a.push(t[s])}return a},[]).join(" ")}),r}const mN=e=>e,xue=()=>{let e=mN;return{configure(n){e=n},generate(n){return e(n)},reset(){e=mN}}},wL=xue(),vue={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function SL(e,n,t="Mui"){const r=vue[n];return r?`${t}-${r}`:`${wL.generate(e)}-${n}`}function wue(e,n,t="Mui"){const r={};return n.forEach(i=>{r[i]=SL(e,i,t)}),r}function Sue(e,n=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(n,Math.min(e,t))}const Aue=Object.freeze(Object.defineProperty({__proto__:null,default:Sue},Symbol.toStringTag,{value:"Module"}));function mh(e,n){if(e==null)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;t[r]=e[r]}return t}function AL(e){var n,t,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(n=0;n<i;n++)e[n]&&(t=AL(e[n]))&&(r&&(r+=" "),r+=t)}else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Cue(){for(var e,n,t=0,r="",i=arguments.length;t<i;t++)(e=arguments[t])&&(n=AL(e))&&(r&&(r+=" "),r+=n);return r}const Eue=X.createContext(void 0);function _ue(e){const{theme:n,name:t,props:r}=e;if(!n||!n.components||!n.components[t])return r;const i=n.components[t];return i.defaultProps?h6(i.defaultProps,r):!i.styleOverrides&&!i.variants?h6(i,r):r}function kue({props:e,name:n}){const t=X.useContext(Eue);return _ue({props:e,name:n,theme:{components:t}})}function jue(e){return kue(e)}var Hh={},gN={exports:{}},bN;function Nue(){return bN||(bN=1,function(e){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var a in i)({}).hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(null,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(gN)),gN.exports}var yN={exports:{}},xN;function Tue(){return xN||(xN=1,function(e){function n(t,r){if(t==null)return{};var i={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;i[a]=t[a]}return i}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(yN)),yN.exports}function Oue(e){for(var n=0,t,r=0,i=e.length;i>=4;++r,i-=4)t=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,n=(t&65535)*1540483477+((t>>>16)*59797<<16)^(n&65535)*1540483477+((n>>>16)*59797<<16);switch(i){case 3:n^=(e.charCodeAt(r+2)&255)<<16;case 2:n^=(e.charCodeAt(r+1)&255)<<8;case 1:n^=e.charCodeAt(r)&255,n=(n&65535)*1540483477+((n>>>16)*59797<<16)}return n^=n>>>13,n=(n&65535)*1540483477+((n>>>16)*59797<<16),((n^n>>>15)>>>0).toString(36)}var Iue={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Due(e){var n=Object.create(null);return function(t){return n[t]===void 0&&(n[t]=e(t)),n[t]}}var Lue=/[A-Z]|^ms/g,Rue=/_EMO_([^_]+?)_([^]*?)_EMO_/g,CL=function(e){return e.charCodeAt(1)===45},vN=function(e){return e!=null&&typeof e!="boolean"},Rw=Due(function(e){return CL(e)?e:e.replace(Lue,"-$&").toLowerCase()}),wN=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Rue,function(t,r,i){return Gf={name:r,styles:i,next:Gf},r})}return Iue[e]!==1&&!CL(e)&&typeof n=="number"&&n!==0?n+"px":n};function Jx(e,n,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return Gf={name:i.name,styles:i.styles,next:Gf},i.name;var a=t;if(a.styles!==void 0){var s=a.next;if(s!==void 0)for(;s!==void 0;)Gf={name:s.name,styles:s.styles,next:Gf},s=s.next;var l=a.styles+";";return l}return Mue(e,n,t)}}var c=t;return c}function Mue(e,n,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=Jx(e,n,t[i])+";";else for(var a in t){var s=t[a];if(typeof s!="object"){var l=s;vN(l)&&(r+=Rw(a)+":"+wN(a,l)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&n==null)for(var c=0;c<s.length;c++)vN(s[c])&&(r+=Rw(a)+":"+wN(a,s[c])+";");else{var d=Jx(e,n,s);switch(a){case"animation":case"animationName":{r+=Rw(a)+":"+d+";";break}default:r+=a+"{"+d+"}"}}}return r}var SN=/label:\s*([^\s;{]+)\s*(;|$)/g,Gf;function Fue(e,n,t){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";Gf=void 0;var a=e[0];if(a==null||a.raw===void 0)r=!1,i+=Jx(t,n,a);else{var s=a;i+=s[0]}for(var l=1;l<e.length;l++)if(i+=Jx(t,n,e[l]),r){var c=a;i+=c[l]}SN.lastIndex=0;for(var d="",h;(h=SN.exec(i))!==null;)d+="-"+h[1];var g=Oue(i)+d;return{name:g,styles:i,next:Gf}}function Pue(e){if(e.sheet)return e.sheet;for(var n=0;n<document.styleSheets.length;n++)if(document.styleSheets[n].ownerNode===e)return document.styleSheets[n]}function zue(e){var n=document.createElement("style");return n.setAttribute("data-emotion",e.key),e.nonce!==void 0&&n.setAttribute("nonce",e.nonce),n.appendChild(document.createTextNode("")),n.setAttribute("data-s",""),n}var que=function(){function e(t){var r=this;this._insertTag=function(i){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,a),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var n=e.prototype;return n.hydrate=function(t){t.forEach(this._insertTag)},n.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(zue(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=Pue(r);try{i.insertRule(t,i.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(t));this.ctr++},n.flush=function(){this.tags.forEach(function(t){var r;return(r=t.parentNode)==null?void 0:r.removeChild(t)}),this.tags=[],this.ctr=0},e}(),Rs="-ms-",ev="-moz-",gr="-webkit-",EL="comm",BA="rule",UA="decl",Bue="@import",_L="@keyframes",Uue="@layer",$ue=Math.abs,t2=String.fromCharCode,Hue=Object.assign;function Wue(e,n){return ms(e,0)^45?(((n<<2^ms(e,0))<<2^ms(e,1))<<2^ms(e,2))<<2^ms(e,3):0}function kL(e){return e.trim()}function Vue(e,n){return(e=n.exec(e))?e[0]:e}function yr(e,n,t){return e.replace(n,t)}function p6(e,n){return e.indexOf(n)}function ms(e,n){return e.charCodeAt(n)|0}function Ig(e,n,t){return e.slice(n,t)}function yc(e){return e.length}function $A(e){return e.length}function $y(e,n){return n.push(e),e}function Yue(e,n){return e.map(n).join("")}var n2=1,lm=1,jL=0,Ao=0,Ta=0,xm="";function r2(e,n,t,r,i,a,s){return{value:e,root:n,parent:t,type:r,props:i,children:a,line:n2,column:lm,length:s,return:""}}function F1(e,n){return Hue(r2("",null,null,"",null,null,0),e,{length:-e.length},n)}function Gue(){return Ta}function Que(){return Ta=Ao>0?ms(xm,--Ao):0,lm--,Ta===10&&(lm=1,n2--),Ta}function tl(){return Ta=Ao<jL?ms(xm,Ao++):0,lm++,Ta===10&&(lm=1,n2++),Ta}function Rc(){return ms(xm,Ao)}function bx(){return Ao}function cb(e,n){return Ig(xm,e,n)}function Dg(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function NL(e){return n2=lm=1,jL=yc(xm=e),Ao=0,[]}function TL(e){return xm="",e}function yx(e){return kL(cb(Ao-1,m6(e===91?e+2:e===40?e+1:e)))}function Kue(e){for(;(Ta=Rc())&&Ta<33;)tl();return Dg(e)>2||Dg(Ta)>3?"":" "}function Xue(e,n){for(;--n&&tl()&&!(Ta<48||Ta>102||Ta>57&&Ta<65||Ta>70&&Ta<97););return cb(e,bx()+(n<6&&Rc()==32&&tl()==32))}function m6(e){for(;tl();)switch(Ta){case e:return Ao;case 34:case 39:e!==34&&e!==39&&m6(Ta);break;case 40:e===41&&m6(e);break;case 92:tl();break}return Ao}function Zue(e,n){for(;tl()&&e+Ta!==57&&!(e+Ta===84&&Rc()===47););return"/*"+cb(n,Ao-1)+"*"+t2(e===47?e:tl())}function Jue(e){for(;!Dg(Rc());)tl();return cb(e,Ao)}function ece(e){return TL(xx("",null,null,null,[""],e=NL(e),0,[0],e))}function xx(e,n,t,r,i,a,s,l,c){for(var d=0,h=0,g=s,b=0,m=0,x=0,y=1,A=1,w=1,C=0,j="",F=i,z=a,L=r,k=j;A;)switch(x=C,C=tl()){case 40:if(x!=108&&ms(k,g-1)==58){p6(k+=yr(yx(C),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:k+=yx(C);break;case 9:case 10:case 13:case 32:k+=Kue(x);break;case 92:k+=Xue(bx()-1,7);continue;case 47:switch(Rc()){case 42:case 47:$y(tce(Zue(tl(),bx()),n,t),c);break;default:k+="/"}break;case 123*y:l[d++]=yc(k)*w;case 125*y:case 59:case 0:switch(C){case 0:case 125:A=0;case 59+h:w==-1&&(k=yr(k,/\f/g,"")),m>0&&yc(k)-g&&$y(m>32?CN(k+";",r,t,g-1):CN(yr(k," ","")+";",r,t,g-2),c);break;case 59:k+=";";default:if($y(L=AN(k,n,t,d,h,i,l,j,F=[],z=[],g),a),C===123)if(h===0)xx(k,n,L,L,F,a,g,l,z);else switch(b===99&&ms(k,3)===110?100:b){case 100:case 108:case 109:case 115:xx(e,L,L,r&&$y(AN(e,L,L,0,0,i,l,j,i,F=[],g),z),i,z,g,l,r?F:z);break;default:xx(k,L,L,L,[""],z,0,l,z)}}d=h=m=0,y=w=1,j=k="",g=s;break;case 58:g=1+yc(k),m=x;default:if(y<1){if(C==123)--y;else if(C==125&&y++==0&&Que()==125)continue}switch(k+=t2(C),C*y){case 38:w=h>0?1:(k+="\f",-1);break;case 44:l[d++]=(yc(k)-1)*w,w=1;break;case 64:Rc()===45&&(k+=yx(tl())),b=Rc(),h=g=yc(j=k+=Jue(bx())),C++;break;case 45:x===45&&yc(k)==2&&(y=0)}}return a}function AN(e,n,t,r,i,a,s,l,c,d,h){for(var g=i-1,b=i===0?a:[""],m=$A(b),x=0,y=0,A=0;x<r;++x)for(var w=0,C=Ig(e,g+1,g=$ue(y=s[x])),j=e;w<m;++w)(j=kL(y>0?b[w]+" "+C:yr(C,/&\f/g,b[w])))&&(c[A++]=j);return r2(e,n,t,i===0?BA:l,c,d,h)}function tce(e,n,t){return r2(e,n,t,EL,t2(Gue()),Ig(e,2,-2),0)}function CN(e,n,t,r){return r2(e,n,t,UA,Ig(e,0,r),Ig(e,r+1,-1),r)}function V0(e,n){for(var t="",r=$A(e),i=0;i<r;i++)t+=n(e[i],i,e,n)||"";return t}function nce(e,n,t,r){switch(e.type){case Uue:if(e.children.length)break;case Bue:case UA:return e.return=e.return||e.value;case EL:return"";case _L:return e.return=e.value+"{"+V0(e.children,r)+"}";case BA:e.value=e.props.join(",")}return yc(t=V0(e.children,r))?e.return=e.value+"{"+t+"}":""}function rce(e){var n=$A(e);return function(t,r,i,a){for(var s="",l=0;l<n;l++)s+=e[l](t,r,i,a)||"";return s}}function ice(e){return function(n){n.root||(n=n.return)&&e(n)}}var ace=function(e,n,t){for(var r=0,i=0;r=i,i=Rc(),r===38&&i===12&&(n[t]=1),!Dg(i);)tl();return cb(e,Ao)},sce=function(e,n){var t=-1,r=44;do switch(Dg(r)){case 0:r===38&&Rc()===12&&(n[t]=1),e[t]+=ace(Ao-1,n,t);break;case 2:e[t]+=yx(r);break;case 4:if(r===44){e[++t]=Rc()===58?"&\f":"",n[t]=e[t].length;break}default:e[t]+=t2(r)}while(r=tl());return e},oce=function(e,n){return TL(sce(NL(e),n))},EN=new WeakMap,lce=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,t=e.parent,r=e.column===t.column&&e.line===t.line;t.type!=="rule";)if(t=t.parent,!t)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!EN.get(t))&&!r){EN.set(e,!0);for(var i=[],a=oce(n,i),s=t.props,l=0,c=0;l<a.length;l++)for(var d=0;d<s.length;d++,c++)e.props[c]=i[l]?a[l].replace(/&\f/g,s[d]):s[d]+" "+a[l]}}},uce=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function OL(e,n){switch(Wue(e,n)){case 5103:return gr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return gr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return gr+e+ev+e+Rs+e+e;case 6828:case 4268:return gr+e+Rs+e+e;case 6165:return gr+e+Rs+"flex-"+e+e;case 5187:return gr+e+yr(e,/(\w+).+(:[^]+)/,gr+"box-$1$2"+Rs+"flex-$1$2")+e;case 5443:return gr+e+Rs+"flex-item-"+yr(e,/flex-|-self/,"")+e;case 4675:return gr+e+Rs+"flex-line-pack"+yr(e,/align-content|flex-|-self/,"")+e;case 5548:return gr+e+Rs+yr(e,"shrink","negative")+e;case 5292:return gr+e+Rs+yr(e,"basis","preferred-size")+e;case 6060:return gr+"box-"+yr(e,"-grow","")+gr+e+Rs+yr(e,"grow","positive")+e;case 4554:return gr+yr(e,/([^-])(transform)/g,"$1"+gr+"$2")+e;case 6187:return yr(yr(yr(e,/(zoom-|grab)/,gr+"$1"),/(image-set)/,gr+"$1"),e,"")+e;case 5495:case 3959:return yr(e,/(image-set\([^]*)/,gr+"$1$`$1");case 4968:return yr(yr(e,/(.+:)(flex-)?(.*)/,gr+"box-pack:$3"+Rs+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+gr+e+e;case 4095:case 3583:case 4068:case 2532:return yr(e,/(.+)-inline(.+)/,gr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(yc(e)-1-n>6)switch(ms(e,n+1)){case 109:if(ms(e,n+4)!==45)break;case 102:return yr(e,/(.+:)(.+)-([^]+)/,"$1"+gr+"$2-$3$1"+ev+(ms(e,n+3)==108?"$3":"$2-$3"))+e;case 115:return~p6(e,"stretch")?OL(yr(e,"stretch","fill-available"),n)+e:e}break;case 4949:if(ms(e,n+1)!==115)break;case 6444:switch(ms(e,yc(e)-3-(~p6(e,"!important")&&10))){case 107:return yr(e,":",":"+gr)+e;case 101:return yr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+gr+(ms(e,14)===45?"inline-":"")+"box$3$1"+gr+"$2$3$1"+Rs+"$2box$3")+e}break;case 5936:switch(ms(e,n+11)){case 114:return gr+e+Rs+yr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return gr+e+Rs+yr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return gr+e+Rs+yr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return gr+e+Rs+e+e}return e}var cce=function(e,n,t,r){if(e.length>-1&&!e.return)switch(e.type){case UA:e.return=OL(e.value,e.length);break;case _L:return V0([F1(e,{value:yr(e.value,"@","@"+gr)})],r);case BA:if(e.length)return Yue(e.props,function(i){switch(Vue(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return V0([F1(e,{props:[yr(i,/:(read-\w+)/,":"+ev+"$1")]})],r);case"::placeholder":return V0([F1(e,{props:[yr(i,/:(plac\w+)/,":"+gr+"input-$1")]}),F1(e,{props:[yr(i,/:(plac\w+)/,":"+ev+"$1")]}),F1(e,{props:[yr(i,/:(plac\w+)/,Rs+"input-$1")]})],r)}return""})}},dce=[cce],fce=function(e){var n=e.key;if(n==="css"){var t=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(t,function(x){var y=x.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var r=e.stylisPlugins||dce,i={},a,s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(x){for(var y=x.getAttribute("data-emotion").split(" "),A=1;A<y.length;A++)i[y[A]]=!0;s.push(x)});var l,c=[lce,uce];{var d,h=[nce,ice(function(x){d.insert(x)})],g=rce(c.concat(r,h)),b=function(x){return V0(ece(x),g)};l=function(x,y,A,w){d=A,b(x?x+"{"+y.styles+"}":y.styles),w&&(m.inserted[y.name]=!0)}}var m={key:n,sheet:new que({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:l};return m.sheet.hydrate(s),m};function hce(e,n){const t=fce({key:"css",prepend:e});if(n){const r=t.insert;t.insert=(...i)=>(i[1].styles.match(/^@layer\s+[^{]*$/)||(i[1].styles=`@layer mui {${i[1].styles}}`),r(...i))}return t}const Mw=new Map;function pce(e){const{injectFirst:n,enableCssLayer:t,children:r}=e,i=X.useMemo(()=>{const a=`${n}-${t}`;if(typeof document=="object"&&Mw.has(a))return Mw.get(a);const s=hce(n,t);return Mw.set(a,s),s},[n,t]);return n||t?Gt.jsx(aT,{value:i,children:r}):r}function mce(e){return e==null||Object.keys(e).length===0}function gce(e){const{styles:n,defaultTheme:t={}}=e,r=typeof n=="function"?i=>n(mce(i)?t:i):n;return Gt.jsx(sT,{styles:r})}/**
 * @mui/styled-engine v5.18.0
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function bce(e,n){return iT(e,n)}const yce=(e,n)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=n(e.__emotion_styles))},_N=[];function xce(e){return _N[0]=e,Fue(_N)}const vce=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:gce,StyledEngineProvider:pce,ThemeContext:rT,css:nT,default:bce,internal_processStyles:yce,internal_serializeStyles:xce,keyframes:tT},Symbol.toStringTag,{value:"Module"})),wce=Kd(vce),Sce=Kd(Hle),Ace=Kd(Xle),Cce=Kd(Kle),Ece=["values","unit","step"],_ce=e=>{const n=Object.keys(e).map(t=>({key:t,val:e[t]}))||[];return n.sort((t,r)=>t.val-r.val),n.reduce((t,r)=>Yr({},t,{[r.key]:r.val}),{})};function IL(e){const{values:n={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5}=e,i=mh(e,Ece),a=_ce(n),s=Object.keys(a);function l(b){return`@media (min-width:${typeof n[b]=="number"?n[b]:b}${t})`}function c(b){return`@media (max-width:${(typeof n[b]=="number"?n[b]:b)-r/100}${t})`}function d(b,m){const x=s.indexOf(m);return`@media (min-width:${typeof n[b]=="number"?n[b]:b}${t}) and (max-width:${(x!==-1&&typeof n[s[x]]=="number"?n[s[x]]:m)-r/100}${t})`}function h(b){return s.indexOf(b)+1<s.length?d(b,s[s.indexOf(b)+1]):l(b)}function g(b){const m=s.indexOf(b);return m===0?l(s[1]):m===s.length-1?c(s[m]):d(b,s[s.indexOf(b)+1]).replace("@media","@media not all and")}return Yr({keys:s,values:a,up:l,down:c,between:d,only:h,not:g,unit:t},i)}const kce={borderRadius:4};function ng(e,n){return n?Lc(e,n,{clone:!1}):e}const HA={xs:0,sm:600,md:900,lg:1200,xl:1536},kN={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${HA[e]}px)`};function $d(e,n,t){const r=e.theme||{};if(Array.isArray(n)){const i=r.breakpoints||kN;return n.reduce((a,s,l)=>(a[i.up(i.keys[l])]=t(n[l]),a),{})}if(typeof n=="object"){const i=r.breakpoints||kN;return Object.keys(n).reduce((a,s)=>{if(Object.keys(i.values||HA).indexOf(s)!==-1){const l=i.up(s);a[l]=t(n[s],s)}else{const l=s;a[l]=n[l]}return a},{})}return t(n)}function jce(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((t,r)=>{const i=e.up(r);return t[i]={},t},{}))||{}}function jN(e,n){return e.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},n)}function i2(e,n,t=!0){if(!n||typeof n!="string")return null;if(e&&e.vars&&t){const r=`vars.${n}`.split(".").reduce((i,a)=>i&&i[a]?i[a]:null,e);if(r!=null)return r}return n.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function tv(e,n,t,r=t){let i;return typeof e=="function"?i=e(t):Array.isArray(e)?i=e[t]||r:i=i2(e,t)||r,n&&(i=n(i,r,e)),i}function ya(e){const{prop:n,cssProperty:t=e.prop,themeKey:r,transform:i}=e,a=s=>{if(s[n]==null)return null;const l=s[n],c=s.theme,d=i2(c,r)||{};return $d(s,l,h=>{let g=tv(d,i,h);return h===g&&typeof h=="string"&&(g=tv(d,i,`${n}${h==="default"?"":lh(h)}`,h)),t===!1?g:{[t]:g}})};return a.propTypes={},a.filterProps=[n],a}function Nce(e){const n={};return t=>(n[t]===void 0&&(n[t]=e(t)),n[t])}const Tce={m:"margin",p:"padding"},Oce={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},NN={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Ice=Nce(e=>{if(e.length>2)if(NN[e])e=NN[e];else return[e];const[n,t]=e.split(""),r=Tce[n],i=Oce[t]||"";return Array.isArray(i)?i.map(a=>r+a):[r+i]}),WA=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],VA=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...WA,...VA];function db(e,n,t,r){var i;const a=(i=i2(e,n,!1))!=null?i:t;return typeof a=="number"?s=>typeof s=="string"?s:a*s:Array.isArray(a)?s=>typeof s=="string"?s:a[s]:typeof a=="function"?a:()=>{}}function DL(e){return db(e,"spacing",8)}function fb(e,n){if(typeof n=="string"||n==null)return n;const t=Math.abs(n),r=e(t);return n>=0?r:typeof r=="number"?-r:`-${r}`}function Dce(e,n){return t=>e.reduce((r,i)=>(r[i]=fb(n,t),r),{})}function Lce(e,n,t,r){if(n.indexOf(t)===-1)return null;const i=Ice(t),a=Dce(i,r),s=e[t];return $d(e,s,a)}function LL(e,n){const t=DL(e.theme);return Object.keys(e).map(r=>Lce(e,n,r,t)).reduce(ng,{})}function Gi(e){return LL(e,WA)}Gi.propTypes={};Gi.filterProps=WA;function Qi(e){return LL(e,VA)}Qi.propTypes={};Qi.filterProps=VA;function Rce(e=8){if(e.mui)return e;const n=DL({spacing:e}),t=(...r)=>(r.length===0?[1]:r).map(i=>{const a=n(i);return typeof a=="number"?`${a}px`:a}).join(" ");return t.mui=!0,t}function a2(...e){const n=e.reduce((r,i)=>(i.filterProps.forEach(a=>{r[a]=i}),r),{}),t=r=>Object.keys(r).reduce((i,a)=>n[a]?ng(i,n[a](r)):i,{});return t.propTypes={},t.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),t}function Ol(e){return typeof e!="number"?e:`${e}px solid`}function Bl(e,n){return ya({prop:e,themeKey:"borders",transform:n})}const Mce=Bl("border",Ol),Fce=Bl("borderTop",Ol),Pce=Bl("borderRight",Ol),zce=Bl("borderBottom",Ol),qce=Bl("borderLeft",Ol),Bce=Bl("borderColor"),Uce=Bl("borderTopColor"),$ce=Bl("borderRightColor"),Hce=Bl("borderBottomColor"),Wce=Bl("borderLeftColor"),Vce=Bl("outline",Ol),Yce=Bl("outlineColor"),s2=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const n=db(e.theme,"shape.borderRadius",4),t=r=>({borderRadius:fb(n,r)});return $d(e,e.borderRadius,t)}return null};s2.propTypes={};s2.filterProps=["borderRadius"];a2(Mce,Fce,Pce,zce,qce,Bce,Uce,$ce,Hce,Wce,s2,Vce,Yce);const o2=e=>{if(e.gap!==void 0&&e.gap!==null){const n=db(e.theme,"spacing",8),t=r=>({gap:fb(n,r)});return $d(e,e.gap,t)}return null};o2.propTypes={};o2.filterProps=["gap"];const l2=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const n=db(e.theme,"spacing",8),t=r=>({columnGap:fb(n,r)});return $d(e,e.columnGap,t)}return null};l2.propTypes={};l2.filterProps=["columnGap"];const u2=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const n=db(e.theme,"spacing",8),t=r=>({rowGap:fb(n,r)});return $d(e,e.rowGap,t)}return null};u2.propTypes={};u2.filterProps=["rowGap"];const Gce=ya({prop:"gridColumn"}),Qce=ya({prop:"gridRow"}),Kce=ya({prop:"gridAutoFlow"}),Xce=ya({prop:"gridAutoColumns"}),Zce=ya({prop:"gridAutoRows"}),Jce=ya({prop:"gridTemplateColumns"}),ede=ya({prop:"gridTemplateRows"}),tde=ya({prop:"gridTemplateAreas"}),nde=ya({prop:"gridArea"});a2(o2,l2,u2,Gce,Qce,Kce,Xce,Zce,Jce,ede,tde,nde);function Y0(e,n){return n==="grey"?n:e}const rde=ya({prop:"color",themeKey:"palette",transform:Y0}),ide=ya({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Y0}),ade=ya({prop:"backgroundColor",themeKey:"palette",transform:Y0});a2(rde,ide,ade);function Go(e){return e<=1&&e!==0?`${e*100}%`:e}const sde=ya({prop:"width",transform:Go}),YA=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const n=t=>{var r,i;const a=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[t])||HA[t];return a?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${a}${e.theme.breakpoints.unit}`}:{maxWidth:a}:{maxWidth:Go(t)}};return $d(e,e.maxWidth,n)}return null};YA.filterProps=["maxWidth"];const ode=ya({prop:"minWidth",transform:Go}),lde=ya({prop:"height",transform:Go}),ude=ya({prop:"maxHeight",transform:Go}),cde=ya({prop:"minHeight",transform:Go});ya({prop:"size",cssProperty:"width",transform:Go});ya({prop:"size",cssProperty:"height",transform:Go});const dde=ya({prop:"boxSizing"});a2(sde,YA,ode,lde,ude,cde,dde);const hb={border:{themeKey:"borders",transform:Ol},borderTop:{themeKey:"borders",transform:Ol},borderRight:{themeKey:"borders",transform:Ol},borderBottom:{themeKey:"borders",transform:Ol},borderLeft:{themeKey:"borders",transform:Ol},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Ol},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:s2},color:{themeKey:"palette",transform:Y0},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Y0},backgroundColor:{themeKey:"palette",transform:Y0},p:{style:Qi},pt:{style:Qi},pr:{style:Qi},pb:{style:Qi},pl:{style:Qi},px:{style:Qi},py:{style:Qi},padding:{style:Qi},paddingTop:{style:Qi},paddingRight:{style:Qi},paddingBottom:{style:Qi},paddingLeft:{style:Qi},paddingX:{style:Qi},paddingY:{style:Qi},paddingInline:{style:Qi},paddingInlineStart:{style:Qi},paddingInlineEnd:{style:Qi},paddingBlock:{style:Qi},paddingBlockStart:{style:Qi},paddingBlockEnd:{style:Qi},m:{style:Gi},mt:{style:Gi},mr:{style:Gi},mb:{style:Gi},ml:{style:Gi},mx:{style:Gi},my:{style:Gi},margin:{style:Gi},marginTop:{style:Gi},marginRight:{style:Gi},marginBottom:{style:Gi},marginLeft:{style:Gi},marginX:{style:Gi},marginY:{style:Gi},marginInline:{style:Gi},marginInlineStart:{style:Gi},marginInlineEnd:{style:Gi},marginBlock:{style:Gi},marginBlockStart:{style:Gi},marginBlockEnd:{style:Gi},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:o2},rowGap:{style:u2},columnGap:{style:l2},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Go},maxWidth:{style:YA},minWidth:{transform:Go},height:{transform:Go},maxHeight:{transform:Go},minHeight:{transform:Go},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function fde(...e){const n=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(n);return e.every(r=>t.size===Object.keys(r).length)}function hde(e,n){return typeof e=="function"?e(n):e}function RL(){function e(t,r,i,a){const s={[t]:r,theme:i},l=a[t];if(!l)return{[t]:r};const{cssProperty:c=t,themeKey:d,transform:h,style:g}=l;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[t]:r};const b=i2(i,d)||{};return g?g(s):$d(s,r,m=>{let x=tv(b,h,m);return m===x&&typeof m=="string"&&(x=tv(b,h,`${t}${m==="default"?"":lh(m)}`,m)),c===!1?x:{[c]:x}})}function n(t){var r;const{sx:i,theme:a={},nested:s}=t||{};if(!i)return null;const l=(r=a.unstable_sxConfig)!=null?r:hb;function c(d){let h=d;if(typeof d=="function")h=d(a);else if(typeof d!="object")return d;if(!h)return null;const g=jce(a.breakpoints),b=Object.keys(g);let m=g;return Object.keys(h).forEach(x=>{const y=hde(h[x],a);if(y!=null)if(typeof y=="object")if(l[x])m=ng(m,e(x,y,a,l));else{const A=$d({theme:a},y,w=>({[x]:w}));fde(A,y)?m[x]=n({sx:y,theme:a,nested:!0}):m=ng(m,A)}else m=ng(m,e(x,y,a,l))}),!s&&a.modularCssLayers?{"@layer sx":jN(b,m)}:jN(b,m)}return Array.isArray(i)?i.map(c):c(i)}return n}const c2=RL();c2.filterProps=["sx"];function ML(e,n){const t=this;return t.vars&&typeof t.getColorSchemeSelector=="function"?{[t.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:n}:t.palette.mode===e?n:{}}const pde=["breakpoints","palette","spacing","shape"];function FL(e={},...n){const{breakpoints:t={},palette:r={},spacing:i,shape:a={}}=e,s=mh(e,pde),l=IL(t),c=Rce(i);let d=Lc({breakpoints:l,direction:"ltr",components:{},palette:Yr({mode:"light"},r),spacing:c,shape:Yr({},kce,a)},s);return d.applyStyles=ML,d=n.reduce((h,g)=>Lc(h,g),d),d.unstable_sxConfig=Yr({},hb,s==null?void 0:s.unstable_sxConfig),d.unstable_sx=function(h){return c2({sx:h,theme:this})},d}const mde=Object.freeze(Object.defineProperty({__proto__:null,default:FL,private_createBreakpoints:IL,unstable_applyStyles:ML},Symbol.toStringTag,{value:"Module"})),gde=Kd(mde),bde=["sx"],yde=e=>{var n,t;const r={systemProps:{},otherProps:{}},i=(n=e==null||(t=e.theme)==null?void 0:t.unstable_sxConfig)!=null?n:hb;return Object.keys(e).forEach(a=>{i[a]?r.systemProps[a]=e[a]:r.otherProps[a]=e[a]}),r};function xde(e){const{sx:n}=e,t=mh(e,bde),{systemProps:r,otherProps:i}=yde(t);let a;return Array.isArray(n)?a=[r,...n]:typeof n=="function"?a=(...s)=>{const l=n(...s);return Bf(l)?Yr({},r,l):r}:a=Yr({},r,n),Yr({},i,{sx:a})}const vde=Object.freeze(Object.defineProperty({__proto__:null,default:c2,extendSxProp:xde,unstable_createStyleFunctionSx:RL,unstable_defaultSxConfig:hb},Symbol.toStringTag,{value:"Module"})),wde=Kd(vde);var TN;function Sde(){if(TN)return Hh;TN=1;var e=ym();Object.defineProperty(Hh,"__esModule",{value:!0}),Hh.default=z,Hh.shouldForwardProp=x,Hh.systemDefaultTheme=void 0;var n=e(Nue()),t=e(Tue()),r=g(wce),i=Sce;e(Ace),e(Cce);var a=e(gde),s=e(wde);const l=["ownerState"],c=["variants"],d=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function h(L){if(typeof WeakMap!="function")return null;var k=new WeakMap,M=new WeakMap;return(h=function(q){return q?M:k})(L)}function g(L,k){if(L&&L.__esModule)return L;if(L===null||typeof L!="object"&&typeof L!="function")return{default:L};var M=h(k);if(M&&M.has(L))return M.get(L);var q={__proto__:null},Q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in L)if(T!=="default"&&Object.prototype.hasOwnProperty.call(L,T)){var O=Q?Object.getOwnPropertyDescriptor(L,T):null;O&&(O.get||O.set)?Object.defineProperty(q,T,O):q[T]=L[T]}return q.default=L,M&&M.set(L,q),q}function b(L){return Object.keys(L).length===0}function m(L){return typeof L=="string"&&L.charCodeAt(0)>96}function x(L){return L!=="ownerState"&&L!=="theme"&&L!=="sx"&&L!=="as"}function y(L,k){return k&&L&&typeof L=="object"&&L.styles&&!L.styles.startsWith("@layer")&&(L.styles=`@layer ${k}{${String(L.styles)}}`),L}const A=Hh.systemDefaultTheme=(0,a.default)(),w=L=>L&&L.charAt(0).toLowerCase()+L.slice(1);function C({defaultTheme:L,theme:k,themeId:M}){return b(k)?L:k[M]||k}function j(L){return L?(k,M)=>M[L]:null}function F(L,k,M){let{ownerState:q}=k,Q=(0,t.default)(k,l);const T=typeof L=="function"?L((0,n.default)({ownerState:q},Q)):L;if(Array.isArray(T))return T.flatMap(O=>F(O,(0,n.default)({ownerState:q},Q),M));if(T&&typeof T=="object"&&Array.isArray(T.variants)){const{variants:O=[]}=T;let R=(0,t.default)(T,c);return O.forEach(N=>{let K=!0;if(typeof N.props=="function"?K=N.props((0,n.default)({ownerState:q},Q,q)):Object.keys(N.props).forEach(H=>{(q==null?void 0:q[H])!==N.props[H]&&Q[H]!==N.props[H]&&(K=!1)}),K){Array.isArray(R)||(R=[R]);const H=typeof N.style=="function"?N.style((0,n.default)({ownerState:q},Q,q)):N.style;R.push(M?y((0,r.internal_serializeStyles)(H),M):H)}}),R}return M?y((0,r.internal_serializeStyles)(T),M):T}function z(L={}){const{themeId:k,defaultTheme:M=A,rootShouldForwardProp:q=x,slotShouldForwardProp:Q=x}=L,T=O=>(0,s.default)((0,n.default)({},O,{theme:C((0,n.default)({},O,{defaultTheme:M,themeId:k}))}));return T.__mui_systemSx=!0,(O,R={})=>{(0,r.internal_processStyles)(O,ye=>ye.filter(Ce=>!(Ce!=null&&Ce.__mui_systemSx)));const{name:N,slot:K,skipVariantsResolver:H,skipSx:G,overridesResolver:ee=j(w(K))}=R,le=(0,t.default)(R,d),Y=N&&N.startsWith("Mui")||K?"components":"custom",te=H!==void 0?H:K&&K!=="Root"&&K!=="root"||!1,U=G||!1;let B,re=x;K==="Root"||K==="root"?re=q:K?re=Q:m(O)&&(re=void 0);const Z=(0,r.default)(O,(0,n.default)({shouldForwardProp:re,label:B},le)),ne=ye=>typeof ye=="function"&&ye.__emotion_real!==ye||(0,i.isPlainObject)(ye)?Ce=>{const Oe=C({theme:Ce.theme,defaultTheme:M,themeId:k});return F(ye,(0,n.default)({},Ce,{theme:Oe}),Oe.modularCssLayers?Y:void 0)}:ye,ve=(ye,...Ce)=>{let Oe=ne(ye);const Ie=Ce?Ce.map(ne):[];N&&ee&&Ie.push(V=>{const Se=C((0,n.default)({},V,{defaultTheme:M,themeId:k}));if(!Se.components||!Se.components[N]||!Se.components[N].styleOverrides)return null;const se=Se.components[N].styleOverrides,he={};return Object.entries(se).forEach(([de,we])=>{he[de]=F(we,(0,n.default)({},V,{theme:Se}),Se.modularCssLayers?"theme":void 0)}),ee(V,he)}),N&&!te&&Ie.push(V=>{var Se;const se=C((0,n.default)({},V,{defaultTheme:M,themeId:k})),he=se==null||(Se=se.components)==null||(Se=Se[N])==null?void 0:Se.variants;return F({variants:he},(0,n.default)({},V,{theme:se}),se.modularCssLayers?"theme":void 0)}),U||Ie.push(T);const $e=Ie.length-Ce.length;if(Array.isArray(ye)&&$e>0){const V=new Array($e).fill("");Oe=[...ye,...V],Oe.raw=[...ye.raw,...V]}const We=Z(Oe,...Ie);return O.muiName&&(We.muiName=O.muiName),We};return Z.withConfig&&(ve.withConfig=Z.withConfig),ve}}return Hh}var Ade=Sde();const Cde=lb(Ade);function Ede(e,n){return Yr({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},n)}var Di={};const _de=Kd(Wle),kde=Kd(Aue);var ON;function jde(){if(ON)return Di;ON=1;var e=ym();Object.defineProperty(Di,"__esModule",{value:!0}),Di.alpha=x,Di.blend=L,Di.colorChannel=void 0,Di.darken=A,Di.decomposeColor=s,Di.emphasize=F,Di.getContrastRatio=m,Di.getLuminance=b,Di.hexToRgb=i,Di.hslToRgb=g,Di.lighten=C,Di.private_safeAlpha=y,Di.private_safeColorChannel=void 0,Di.private_safeDarken=w,Di.private_safeEmphasize=z,Di.private_safeLighten=j,Di.recomposeColor=d,Di.rgbToHex=h;var n=e(_de),t=e(kde);function r(k,M=0,q=1){return(0,t.default)(k,M,q)}function i(k){k=k.slice(1);const M=new RegExp(`.{1,${k.length>=6?2:1}}`,"g");let q=k.match(M);return q&&q[0].length===1&&(q=q.map(Q=>Q+Q)),q?`rgb${q.length===4?"a":""}(${q.map((Q,T)=>T<3?parseInt(Q,16):Math.round(parseInt(Q,16)/255*1e3)/1e3).join(", ")})`:""}function a(k){const M=k.toString(16);return M.length===1?`0${M}`:M}function s(k){if(k.type)return k;if(k.charAt(0)==="#")return s(i(k));const M=k.indexOf("("),q=k.substring(0,M);if(["rgb","rgba","hsl","hsla","color"].indexOf(q)===-1)throw new Error((0,n.default)(9,k));let Q=k.substring(M+1,k.length-1),T;if(q==="color"){if(Q=Q.split(" "),T=Q.shift(),Q.length===4&&Q[3].charAt(0)==="/"&&(Q[3]=Q[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(T)===-1)throw new Error((0,n.default)(10,T))}else Q=Q.split(",");return Q=Q.map(O=>parseFloat(O)),{type:q,values:Q,colorSpace:T}}const l=k=>{const M=s(k);return M.values.slice(0,3).map((q,Q)=>M.type.indexOf("hsl")!==-1&&Q!==0?`${q}%`:q).join(" ")};Di.colorChannel=l;const c=(k,M)=>{try{return l(k)}catch{return k}};Di.private_safeColorChannel=c;function d(k){const{type:M,colorSpace:q}=k;let{values:Q}=k;return M.indexOf("rgb")!==-1?Q=Q.map((T,O)=>O<3?parseInt(T,10):T):M.indexOf("hsl")!==-1&&(Q[1]=`${Q[1]}%`,Q[2]=`${Q[2]}%`),M.indexOf("color")!==-1?Q=`${q} ${Q.join(" ")}`:Q=`${Q.join(", ")}`,`${M}(${Q})`}function h(k){if(k.indexOf("#")===0)return k;const{values:M}=s(k);return`#${M.map((q,Q)=>a(Q===3?Math.round(255*q):q)).join("")}`}function g(k){k=s(k);const{values:M}=k,q=M[0],Q=M[1]/100,T=M[2]/100,O=Q*Math.min(T,1-T),R=(H,G=(H+q/30)%12)=>T-O*Math.max(Math.min(G-3,9-G,1),-1);let N="rgb";const K=[Math.round(R(0)*255),Math.round(R(8)*255),Math.round(R(4)*255)];return k.type==="hsla"&&(N+="a",K.push(M[3])),d({type:N,values:K})}function b(k){k=s(k);let M=k.type==="hsl"||k.type==="hsla"?s(g(k)).values:k.values;return M=M.map(q=>(k.type!=="color"&&(q/=255),q<=.03928?q/12.92:((q+.055)/1.055)**2.4)),Number((.2126*M[0]+.7152*M[1]+.0722*M[2]).toFixed(3))}function m(k,M){const q=b(k),Q=b(M);return(Math.max(q,Q)+.05)/(Math.min(q,Q)+.05)}function x(k,M){return k=s(k),M=r(M),(k.type==="rgb"||k.type==="hsl")&&(k.type+="a"),k.type==="color"?k.values[3]=`/${M}`:k.values[3]=M,d(k)}function y(k,M,q){try{return x(k,M)}catch{return k}}function A(k,M){if(k=s(k),M=r(M),k.type.indexOf("hsl")!==-1)k.values[2]*=1-M;else if(k.type.indexOf("rgb")!==-1||k.type.indexOf("color")!==-1)for(let q=0;q<3;q+=1)k.values[q]*=1-M;return d(k)}function w(k,M,q){try{return A(k,M)}catch{return k}}function C(k,M){if(k=s(k),M=r(M),k.type.indexOf("hsl")!==-1)k.values[2]+=(100-k.values[2])*M;else if(k.type.indexOf("rgb")!==-1)for(let q=0;q<3;q+=1)k.values[q]+=(255-k.values[q])*M;else if(k.type.indexOf("color")!==-1)for(let q=0;q<3;q+=1)k.values[q]+=(1-k.values[q])*M;return d(k)}function j(k,M,q){try{return C(k,M)}catch{return k}}function F(k,M=.15){return b(k)>.5?A(k,M):C(k,M)}function z(k,M,q){try{return F(k,M)}catch{return k}}function L(k,M,q,Q=1){const T=(K,H)=>Math.round((K**(1/Q)*(1-q)+H**(1/Q)*q)**Q),O=s(k),R=s(M),N=[T(O.values[0],R.values[0]),T(O.values[1],R.values[1]),T(O.values[2],R.values[2])];return d({type:"rgb",values:N})}return Di}var g6=jde();const Lg={black:"#000",white:"#fff"},Nde={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},g0={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},b0={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},P1={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},y0={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},x0={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},v0={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Tde=["mode","contrastThreshold","tonalOffset"],IN={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Lg.white,default:Lg.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Fw={text:{primary:Lg.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Lg.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function DN(e,n,t,r){const i=r.light||r,a=r.dark||r*1.5;e[n]||(e.hasOwnProperty(t)?e[n]=e[t]:n==="light"?e.light=g6.lighten(e.main,i):n==="dark"&&(e.dark=g6.darken(e.main,a)))}function Ode(e="light"){return e==="dark"?{main:y0[200],light:y0[50],dark:y0[400]}:{main:y0[700],light:y0[400],dark:y0[800]}}function Ide(e="light"){return e==="dark"?{main:g0[200],light:g0[50],dark:g0[400]}:{main:g0[500],light:g0[300],dark:g0[700]}}function Dde(e="light"){return e==="dark"?{main:b0[500],light:b0[300],dark:b0[700]}:{main:b0[700],light:b0[400],dark:b0[800]}}function Lde(e="light"){return e==="dark"?{main:x0[400],light:x0[300],dark:x0[700]}:{main:x0[700],light:x0[500],dark:x0[900]}}function Rde(e="light"){return e==="dark"?{main:v0[400],light:v0[300],dark:v0[700]}:{main:v0[800],light:v0[500],dark:v0[900]}}function Mde(e="light"){return e==="dark"?{main:P1[400],light:P1[300],dark:P1[700]}:{main:"#ed6c02",light:P1[500],dark:P1[900]}}function Fde(e){const{mode:n="light",contrastThreshold:t=3,tonalOffset:r=.2}=e,i=mh(e,Tde),a=e.primary||Ode(n),s=e.secondary||Ide(n),l=e.error||Dde(n),c=e.info||Lde(n),d=e.success||Rde(n),h=e.warning||Mde(n);function g(x){return g6.getContrastRatio(x,Fw.text.primary)>=t?Fw.text.primary:IN.text.primary}const b=({color:x,name:y,mainShade:A=500,lightShade:w=300,darkShade:C=700})=>{if(x=Yr({},x),!x.main&&x[A]&&(x.main=x[A]),!x.hasOwnProperty("main"))throw new Error(Og(11,y?` (${y})`:"",A));if(typeof x.main!="string")throw new Error(Og(12,y?` (${y})`:"",JSON.stringify(x.main)));return DN(x,"light",w,r),DN(x,"dark",C,r),x.contrastText||(x.contrastText=g(x.main)),x},m={dark:Fw,light:IN};return Lc(Yr({common:Yr({},Lg),mode:n,primary:b({color:a,name:"primary"}),secondary:b({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:b({color:l,name:"error"}),warning:b({color:h,name:"warning"}),info:b({color:c,name:"info"}),success:b({color:d,name:"success"}),grey:Nde,contrastThreshold:t,getContrastText:g,augmentColor:b,tonalOffset:r},m[n]),i)}const Pde=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function zde(e){return Math.round(e*1e5)/1e5}const LN={textTransform:"uppercase"},RN='"Roboto", "Helvetica", "Arial", sans-serif';function qde(e,n){const t=typeof n=="function"?n(e):n,{fontFamily:r=RN,fontSize:i=14,fontWeightLight:a=300,fontWeightRegular:s=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:d=16,allVariants:h,pxToRem:g}=t,b=mh(t,Pde),m=i/14,x=g||(w=>`${w/d*m}rem`),y=(w,C,j,F,z)=>Yr({fontFamily:r,fontWeight:w,fontSize:x(C),lineHeight:j},r===RN?{letterSpacing:`${zde(F/C)}em`}:{},z,h),A={h1:y(a,96,1.167,-1.5),h2:y(a,60,1.2,-.5),h3:y(s,48,1.167,0),h4:y(s,34,1.235,.25),h5:y(s,24,1.334,0),h6:y(l,20,1.6,.15),subtitle1:y(s,16,1.75,.15),subtitle2:y(l,14,1.57,.1),body1:y(s,16,1.5,.15),body2:y(s,14,1.43,.15),button:y(l,14,1.75,.4,LN),caption:y(s,12,1.66,.4),overline:y(s,12,2.66,1,LN),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Lc(Yr({htmlFontSize:d,pxToRem:x,fontFamily:r,fontSize:i,fontWeightLight:a,fontWeightRegular:s,fontWeightMedium:l,fontWeightBold:c},A),b,{clone:!1})}const Bde=.2,Ude=.14,$de=.12;function wi(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Bde})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Ude})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${$de})`].join(",")}const Hde=["none",wi(0,2,1,-1,0,1,1,0,0,1,3,0),wi(0,3,1,-2,0,2,2,0,0,1,5,0),wi(0,3,3,-2,0,3,4,0,0,1,8,0),wi(0,2,4,-1,0,4,5,0,0,1,10,0),wi(0,3,5,-1,0,5,8,0,0,1,14,0),wi(0,3,5,-1,0,6,10,0,0,1,18,0),wi(0,4,5,-2,0,7,10,1,0,2,16,1),wi(0,5,5,-3,0,8,10,1,0,3,14,2),wi(0,5,6,-3,0,9,12,1,0,3,16,2),wi(0,6,6,-3,0,10,14,1,0,4,18,3),wi(0,6,7,-4,0,11,15,1,0,4,20,3),wi(0,7,8,-4,0,12,17,2,0,5,22,4),wi(0,7,8,-4,0,13,19,2,0,5,24,4),wi(0,7,9,-4,0,14,21,2,0,5,26,4),wi(0,8,9,-5,0,15,22,2,0,6,28,5),wi(0,8,10,-5,0,16,24,2,0,6,30,5),wi(0,8,11,-5,0,17,26,2,0,6,32,5),wi(0,9,11,-5,0,18,28,2,0,7,34,6),wi(0,9,12,-6,0,19,29,2,0,7,36,6),wi(0,10,13,-6,0,20,31,3,0,8,38,7),wi(0,10,13,-6,0,21,33,3,0,8,40,7),wi(0,10,14,-6,0,22,35,3,0,8,42,7),wi(0,11,14,-7,0,23,36,3,0,9,44,8),wi(0,11,15,-7,0,24,38,3,0,9,46,8)],Wde=["duration","easing","delay"],Vde={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Yde={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function MN(e){return`${Math.round(e)}ms`}function Gde(e){if(!e)return 0;const n=e/36;return Math.round((4+15*n**.25+n/5)*10)}function Qde(e){const n=Yr({},Vde,e.easing),t=Yr({},Yde,e.duration);return Yr({getAutoHeightDuration:Gde,create:(r=["all"],i={})=>{const{duration:a=t.standard,easing:s=n.easeInOut,delay:l=0}=i;return mh(i,Wde),(Array.isArray(r)?r:[r]).map(c=>`${c} ${typeof a=="string"?a:MN(a)} ${s} ${typeof l=="string"?l:MN(l)}`).join(",")}},e,{easing:n,duration:t})}const Kde={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Xde=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Zde(e={},...n){const{mixins:t={},palette:r={},transitions:i={},typography:a={}}=e,s=mh(e,Xde);if(e.vars&&e.generateCssVars===void 0)throw new Error(Og(18));const l=Fde(r),c=FL(e);let d=Lc(c,{mixins:Ede(c.breakpoints,t),palette:l,shadows:Hde.slice(),typography:qde(l,a),transitions:Qde(i),zIndex:Yr({},Kde)});return d=Lc(d,s),d=n.reduce((h,g)=>Lc(h,g),d),d.unstable_sxConfig=Yr({},hb,s==null?void 0:s.unstable_sxConfig),d.unstable_sx=function(h){return c2({sx:h,theme:this})},d}const Jde=Zde(),efe="$$material";function tfe(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const nfe=e=>tfe(e)&&e!=="classes",rfe=Cde({themeId:efe,defaultTheme:Jde,rootShouldForwardProp:nfe});function ife(e){return SL("MuiSvgIcon",e)}wue("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const afe=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],sfe=e=>{const{color:n,fontSize:t,classes:r}=e,i={root:["root",n!=="inherit"&&`color${lh(n)}`,`fontSize${lh(t)}`]};return yue(i,ife,r)},ofe=rfe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,t.color!=="inherit"&&n[`color${lh(t.color)}`],n[`fontSize${lh(t.fontSize)}`]]}})(({theme:e,ownerState:n})=>{var t,r,i,a,s,l,c,d,h,g,b,m,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(t=e.transitions)==null||(r=t.create)==null?void 0:r.call(t,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((a=e.typography)==null||(s=a.pxToRem)==null?void 0:s.call(a,20))||"1.25rem",medium:((l=e.typography)==null||(c=l.pxToRem)==null?void 0:c.call(l,24))||"1.5rem",large:((d=e.typography)==null||(h=d.pxToRem)==null?void 0:h.call(d,35))||"2.1875rem"}[n.fontSize],color:(g=(b=(e.vars||e).palette)==null||(b=b[n.color])==null?void 0:b.main)!=null?g:{action:(m=(e.vars||e).palette)==null||(m=m.action)==null?void 0:m.active,disabled:(x=(e.vars||e).palette)==null||(x=x.action)==null?void 0:x.disabled,inherit:void 0}[n.color]}}),b6=X.forwardRef(function(e,n){const t=jue({props:e,name:"MuiSvgIcon"}),{children:r,className:i,color:a="inherit",component:s="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:d=!1,titleAccess:h,viewBox:g="0 0 24 24"}=t,b=mh(t,afe),m=X.isValidElement(r)&&r.type==="svg",x=Yr({},t,{color:a,component:s,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:g,hasSvgAsChild:m}),y={};d||(y.viewBox=g);const A=sfe(x);return Gt.jsxs(ofe,Yr({as:s,className:Cue(A.root,i),focusable:"false",color:c,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n},y,b,m&&r.props,{ownerState:x,children:[m?r.props.children:r,h?Gt.jsx("title",{children:h}):null]}))});b6.muiName="SvgIcon";function lfe(e,n){function t(r,i){return Gt.jsx(b6,Yr({"data-testid":`${n}Icon`,ref:i},r,{children:e}))}return t.muiName=b6.muiName,X.memo(X.forwardRef(t))}const ufe={configure:e=>{wL.configure(e)}},cfe=Object.freeze(Object.defineProperty({__proto__:null,capitalize:lh,createChainedFunction:Zle,createSvgIcon:lfe,debounce:Jle,deprecatedPropType:eue,isMuiElement:tue,ownerDocument:yL,ownerWindow:nue,requirePropFactory:rue,setRef:xL,unstable_ClassNameGenerator:ufe,unstable_useEnhancedEffect:vL,unstable_useId:aue,unsupportedProp:sue,useControlled:oue,useEventCallback:lue,useForkRef:uue,useIsFocusVisible:bue},Symbol.toStringTag,{value:"Module"})),dfe=Kd(cfe);var FN;function d2(){return FN||(FN=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=dfe}(oN)),oN}var PN;function ffe(){if(PN)return M1;PN=1;var e=ym();Object.defineProperty(M1,"__esModule",{value:!0}),M1.default=void 0;var n=e(d2()),t=ub();return M1.default=(0,n.default)((0,t.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),M1}var hfe=ffe();const zN=lb(hfe);var z1={},qN;function pfe(){if(qN)return z1;qN=1;var e=ym();Object.defineProperty(z1,"__esModule",{value:!0}),z1.default=void 0;var n=e(d2()),t=ub();return z1.default=(0,n.default)((0,t.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),z1}var mfe=pfe();const gfe=lb(mfe);var q1={},BN;function bfe(){if(BN)return q1;BN=1;var e=ym();Object.defineProperty(q1,"__esModule",{value:!0}),q1.default=void 0;var n=e(d2()),t=ub();return q1.default=(0,n.default)((0,t.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),q1}var yfe=bfe();const xfe=lb(yfe);var B1={},UN;function vfe(){if(UN)return B1;UN=1;var e=ym();Object.defineProperty(B1,"__esModule",{value:!0}),B1.default=void 0;var n=e(d2()),t=ub();return B1.default=(0,n.default)((0,t.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),B1}var wfe=vfe();const Sfe=lb(wfe),rr={primary:"#0B53C0",primaryLight:"#CDDAFF",background:"#F0F4FF",white:"#FFFFFF",text:"#000000",success:"#4caf50",error:"#f44336",disabled:"#ccc"},Kn={modal:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:{xs:"95%",sm:"80%",md:700},maxHeight:"90vh",bgcolor:rr.background,borderRadius:"16px",boxShadow:"0px 10px 30px rgba(0, 0, 0, 0.2)",p:3,outline:"none",overflow:"hidden",display:"flex",flexDirection:"column"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,pb:2,borderBottom:`2px solid ${rr.primaryLight}`},title:{fontFamily:"Staatliches, Arial, sans-serif",fontSize:{xs:"1.5rem",sm:"2rem"},color:rr.text},closeButton:{color:rr.text,"&:hover":{bgcolor:rr.primaryLight}},progressBar:{height:8,borderRadius:4,bgcolor:rr.disabled,mb:3,"& .MuiLinearProgress-bar":{bgcolor:rr.primary,borderRadius:4}},questionCard:{bgcolor:rr.white,borderRadius:"12px",p:3,mb:3,minHeight:200,boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.1)"},questionText:{fontFamily:"Gabarito, Arial, sans-serif",fontSize:"1.1rem",color:rr.text,mb:3},categoryBadge:{display:"inline-block",px:2,py:.5,bgcolor:rr.primaryLight,color:rr.text,borderRadius:"20px",fontSize:"0.85rem",fontFamily:"Gabarito, Arial, sans-serif",mb:2},answerInput:{width:"100%","& .MuiOutlinedInput-root":{fontFamily:"Gabarito, Arial, sans-serif","& fieldset":{borderColor:rr.disabled},"&:hover fieldset":{borderColor:rr.primary},"&.Mui-focused fieldset":{borderColor:rr.primary}}},navigationDots:{display:"flex",justifyContent:"center",gap:1,my:2},dot:{width:12,height:12,borderRadius:"50%",border:"none",cursor:"pointer",transition:"all 0.3s","&:hover":{transform:"scale(1.2)"}},dotStates:{unanswered:{bgcolor:rr.disabled},answered:{bgcolor:rr.primaryLight},current:{bgcolor:rr.primary,transform:"scale(1.3)"}},navigationButtons:{display:"flex",justifyContent:"space-between",gap:2,mt:2},button:{fontFamily:"Staatliches, sans-serif",fontSize:"1.1rem",py:1,px:3,borderRadius:"20px",textTransform:"none"},primaryButton:{bgcolor:rr.primaryLight,color:rr.text,"&:hover":{bgcolor:rr.primary,color:rr.white}},secondaryButton:{bgcolor:rr.white,color:rr.text,border:`2px solid ${rr.primaryLight}`,"&:hover":{bgcolor:rr.primaryLight}},submitButton:{bgcolor:rr.success,color:rr.white,"&:hover":{bgcolor:"#388e3c"}},resultsContainer:{flex:1,overflowY:"auto",px:2},scoreCard:{bgcolor:rr.white,borderRadius:"12px",p:3,mb:3,textAlign:"center",boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.1)"},scoreText:{fontSize:"3rem",fontFamily:"Staatliches, sans-serif",color:rr.primary},feedbackCard:{bgcolor:rr.white,borderRadius:"8px",p:2,mb:2,border:`1px solid ${rr.disabled}`},correctAnswer:{borderLeft:`4px solid ${rr.success}`},incorrectAnswer:{borderLeft:`4px solid ${rr.error}`}},PL="https://rag-flask-api.onrender.com",Afe=async e=>{if(!(e!=null&&e.trim()))throw new Error("Chatbot ID is required");try{const n=await fetch(`${PL}/get_quiz?chatbot_id=${encodeURIComponent(e)}`,{method:"GET",headers:{"Content-Type":"application/json"}}),t=await n.json();if(!n.ok||!t.success)throw new Error(t.error||"Failed to fetch quiz");return{quizId:t.quiz_id,questions:t.questions||[]}}catch(n){throw console.error("Error fetching quiz:",n),n}},Cfe=async(e,n,t)=>{if(!e||!n||!t||Object.keys(t).length===0)throw new Error("Invalid quiz submission");try{const r=await fetch(`${PL}/grade_quiz`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chatbot_id:e,quiz_id:n,answers:t})}),i=await r.json();if(!r.ok||!i.success)throw new Error(i.error||"Quiz grading failed");return i.summary}catch(r){throw console.error("Error grading quiz:",r),r}},Efe=(e,n)=>{if(e)try{const t=`quiz_progress_${e}`;localStorage.setItem(t,JSON.stringify({answers:n,timestamp:new Date().toISOString()}))}catch(t){console.error("Failed to save progress:",t)}},_fe=e=>{if(!e)return null;try{const n=`quiz_progress_${e}`,t=localStorage.getItem(n);if(!t)return null;const r=JSON.parse(t),i=new Date(r.timestamp);return(new Date-i)/(1e3*60*60)>24?(localStorage.removeItem(n),null):r.answers}catch(n){return console.error("Failed to load progress:",n),null}},Pw=e=>{if(e)try{const n=`quiz_progress_${e}`;localStorage.removeItem(n)}catch(n){console.error("Failed to clear progress:",n)}},kfe=e=>{const n=((e==null?void 0:e.bloom_level)||(e==null?void 0:e.bloomLevel)||"").toString().toLowerCase();return n==="remember"||n==="understand"?"lower":n==="apply"?"middle":n==="analyze"||n==="evaluate"||n==="create"?"upper":"lower"},jfe=e=>e==="easy"?5:e==="hard"?10:8,Nfe=(e,n)=>{const t=[],r=[],i=[];e.forEach(d=>{const h=kfe(d);h==="lower"?t.push(d):h==="middle"?r.push(d):i.push(d)});const a=d=>{const h=[...d];for(let g=h.length-1;g>0;g-=1){const b=Math.floor(Math.random()*(g+1));[h[g],h[b]]=[h[b],h[g]]}return h},s=jfe(n);let l=[];if(n==="easy"){const d=a(t),h=a(r),g=a(i);l=[...d.slice(0,s)],l.length<s&&(l=[...l,...h.slice(0,s-l.length)]),l.length<s&&(l=[...l,...g.slice(0,s-l.length)])}else if(n==="medium"){const d=a(r),h=a(t),g=a(i);l=[...d.slice(0,s)],l.length<s&&(l=[...l,...h.slice(0,s-l.length)]),l.length<s&&(l=[...l,...g.slice(0,s-l.length)])}else{const d=a(i),h=a(r),g=a(t);l=[...d.slice(0,s)],l.length<s&&(l=[...l,...h.slice(0,s-l.length)]),l.length<s&&(l=[...l,...g.slice(0,s-l.length)])}const c=Math.min(s,l.length);return{selected:l.slice(0,c),selection:{mode:n,target:s,finalCount:c},totalAvailable:{lower:t.length,middle:r.length,upper:i.length}}},Tfe=X.forwardRef(({chatbotId:e,open:n,onClose:t,difficulty:r="medium",onQuizStart:i,onQuizProgress:a,onAnswerChange:s,onQuizSubmit:l,onQuizClose:c,onError:d},h)=>{const[g,b]=X.useState(null),[m,x]=X.useState([]),[y,A]=X.useState(null),[w,C]=X.useState(0),[j,F]=X.useState({}),[z,L]=X.useState(!0),[k,M]=X.useState(!1),[q,Q]=X.useState(""),[T,O]=X.useState(!1),[R,N]=X.useState(null),K=X.useRef(null),H=X.useRef(null);X.useEffect(()=>{n&&e&&G()},[n,e,r]),X.useEffect(()=>{if(H.current&&Object.keys(j).length>0){Efe(H.current,j);const Oe=m.length,Ie=Oe>0?Object.keys(j).length/Oe*100:0;a==null||a({quizId:g==null?void 0:g.quizId,answers:j,percentComplete:Ie,selection:y||void 0})}},[j,H.current,m.length]);const G=async()=>{L(!0),Q(""),O(!1),N(null),C(0),F({}),x([]),A(null),K.current=new Date;try{const Oe=await Afe(e),{selected:Ie,selection:$e,totalAvailable:We}=Nfe((Oe==null?void 0:Oe.questions)||[],r);b(Oe),x(Ie),A($e);const V=`${Oe.quizId}::${r}`;H.current=V;const Se=_fe(V);Se&&F(Se),i==null||i({quizId:Oe.quizId,chatbotId:e,startedAt:K.current,selection:$e,totalAvailable:We})}catch(Oe){const Ie=(Oe==null?void 0:Oe.message)||"Failed to load quiz";Q(Ie),d==null||d(Oe,"load")}finally{L(!1)}},ee=m[w],le=m.length||0,Y=le>0?(w+1)/le*100:0,te=Oe=>{if(!ee)return;const Ie={...j,[ee.id]:Oe};F(Ie),s==null||s({quizId:g==null?void 0:g.quizId,questionId:ee.id,value:Oe,answers:Ie})},U=()=>{w<le-1&&C(Oe=>Oe+1)},B=()=>{w>0&&C(Oe=>Oe-1)},re=Oe=>C(Oe),Z=async()=>{if(!g)return;const Oe=m.filter(Ie=>!j[Ie.id]);if(Oe.length>0){Q(`Please answer all questions (${Oe.length} remaining)`);return}M(!0),Q("");try{const Ie=new Date,$e={};m.forEach(V=>{$e[V.id]=j[V.id]});const We=await Cfe(e,g.quizId,$e);N(We),O(!0),H.current&&Pw(H.current),l==null||l({quizId:g.quizId,chatbotId:e,startedAt:K.current,submittedAt:Ie,answers:$e,summary:We,selection:y||void 0})}catch(Ie){const $e=`Failed to submit quiz: ${(Ie==null?void 0:Ie.message)||""}`.trim();Q($e),d==null||d(Ie,"submit")}finally{M(!1)}},ne=()=>{H.current&&Pw(H.current),c==null||c({quizId:g==null?void 0:g.quizId,chatbotId:e,answers:j,summary:R,completed:T,closedAt:new Date,selection:y||void 0}),t()},ve=(Oe,Ie)=>{const $e=Ie===w,We=!!j[Oe];return{isCurrent:$e,hasAnswer:We}},ye=()=>{const Oe=(ee==null?void 0:ee.answer_type)||"text",Ie=j[ee==null?void 0:ee.id]||"";return Gt.jsx(Bt,{multiline:Oe==="long_answer",rows:Oe==="long_answer"?6:1,value:Ie,onChange:$e=>te($e.target.value),placeholder:"Enter your answer here...",sx:Kn.answerInput,disabled:k})};if(X.useImperativeHandle(h,()=>({reloadQuiz:G,clearProgress:()=>H.current&&Pw(H.current),submit:Z,getAnswers:()=>j,getSummary:()=>R,close:ne})),T&&R){const Oe=(()=>{const $e=R==null?void 0:R.percent;if(typeof $e=="number"&&Number.isFinite($e))return Math.round($e);const We=R==null?void 0:R.score;if(typeof We=="number"&&Number.isFinite(We))return Math.round(We);const V=Number(R==null?void 0:R.total_score)||0,Se=Number(R==null?void 0:R.total_max)||0;return Se>0?Math.round(V/Se*100):0})(),Ie=R.items||R.questions||{};return Gt.jsx(Sx,{open:n,onClose:ne,children:Gt.jsxs(ge,{sx:Kn.modal,children:[Gt.jsxs(ge,{sx:Kn.header,children:[Gt.jsx(ce,{sx:Kn.title,children:"Quiz Results"}),Gt.jsx(Cn,{onClick:ne,sx:Kn.closeButton,children:Gt.jsx(zN,{})})]}),Gt.jsxs(ge,{sx:Kn.resultsContainer,children:[Gt.jsxs(ge,{sx:Kn.scoreCard,children:[Gt.jsxs(ce,{sx:Kn.scoreText,children:[Oe,"%"]}),Gt.jsx(ce,{variant:"h6",sx:{fontFamily:"Gabarito"},children:"Final Score"}),R.total_score!==void 0&&Gt.jsxs(ce,{variant:"body2",sx:{mt:1},children:[R.total_score," / ",R.total_max," points"]})]}),R.feedback&&Gt.jsx(vr,{severity:"info",sx:{mb:2},children:R.feedback}),!!m.length&&!!Object.keys(Ie).length&&Gt.jsxs(ge,{children:[Gt.jsx(ce,{variant:"h6",sx:{mb:2,fontFamily:"Staatliches"},children:"Question Breakdown"}),m.map($e=>{const We=Ie[$e.id]||{},V=We.score??0,Se=We.verdict==="correct"||V>=70||We.passed===!0;return Gt.jsxs(ge,{sx:{...Kn.feedbackCard,...Se?Kn.correctAnswer:Kn.incorrectAnswer},children:[Gt.jsxs(ce,{variant:"body2",sx:{mb:1},children:["Q: ",($e==null?void 0:$e.question)||"Question not found"]}),Gt.jsxs(ce,{variant:"caption",color:"textSecondary",children:["Your answer: ",j[$e.id]]}),We.score!==void 0&&Gt.jsxs(ce,{variant:"caption",display:"block",sx:{mt:1},children:["Score: ",V,"/",We.max_score||100]}),(We.feedback||We.reasoning)&&Gt.jsx(ce,{variant:"caption",display:"block",sx:{mt:1},children:We.feedback||We.reasoning})]},$e.id)})]})]}),Gt.jsx(mt,{fullWidth:!0,variant:"contained",onClick:ne,sx:{...Kn.button,...Kn.primaryButton,mt:2},children:"Close"})]})})}const Ce=y&&y.finalCount<y.target;return Gt.jsx(Sx,{open:n,onClose:ne,children:Gt.jsxs(ge,{sx:Kn.modal,children:[Gt.jsxs(ge,{sx:Kn.header,children:[Gt.jsx(ce,{sx:Kn.title,children:"Quiz"}),Gt.jsx(Cn,{onClick:ne,sx:Kn.closeButton,children:Gt.jsx(zN,{})})]}),y&&Gt.jsx(ge,{sx:{mb:1},children:Gt.jsx(Dn,{label:`Mode: ${y.mode}  ${y.finalCount} Qs`,size:"small",sx:Kn.categoryBadge})}),Ce&&Gt.jsxs(vr,{severity:"info",sx:{mb:2},children:["Not enough questions available for ",y.mode,". Showing"," ",y.finalCount," instead of ",y.target,"."]}),z?Gt.jsx(ge,{sx:{display:"flex",justifyContent:"center",py:5},children:Gt.jsx(Gr,{})}):q&&!g?Gt.jsx(vr,{severity:"error",children:q}):g&&ee?Gt.jsxs(Gt.Fragment,{children:[Gt.jsx(Xo,{variant:"determinate",value:Y,sx:Kn.progressBar}),Gt.jsxs(ge,{sx:Kn.questionCard,children:[Gt.jsxs(ge,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[Gt.jsxs(ce,{variant:"h6",sx:{fontFamily:"Staatliches"},children:["Question ",w+1," of ",le]}),ee.category&&Gt.jsx(Dn,{label:ee.category,size:"small",sx:Kn.categoryBadge})]}),Gt.jsx(ce,{sx:Kn.questionText,children:ee.question}),ye()]}),q&&Gt.jsx(vr,{severity:"error",sx:{mb:2},children:q}),Gt.jsx(ge,{sx:Kn.navigationDots,children:m.map((Oe,Ie)=>{const{isCurrent:$e,hasAnswer:We}=ve(Oe.id,Ie);return Gt.jsx(ge,{component:"button",onClick:()=>re(Ie),title:We?"Answered":"Unanswered",sx:{...Kn.dot,...We&&!$e&&Kn.dotStates.answered,...!We&&!$e&&Kn.dotStates.unanswered,...$e&&Kn.dotStates.current}},Oe.id)})}),Gt.jsxs(ge,{sx:Kn.navigationButtons,children:[Gt.jsx(mt,{startIcon:Gt.jsx(gfe,{}),onClick:B,disabled:w===0,sx:{...Kn.button,...Kn.secondaryButton},children:"Previous"}),w===le-1?Gt.jsx(mt,{onClick:Z,disabled:k,endIcon:Gt.jsx(Sfe,{}),sx:{...Kn.button,...Kn.submitButton},children:k?Gt.jsx(Gr,{size:20}):"Submit Quiz"}):Gt.jsx(mt,{endIcon:Gt.jsx(xfe,{}),onClick:U,sx:{...Kn.button,...Kn.primaryButton},children:"Next"})]})]}):Gt.jsx(vr,{severity:"info",children:"No quiz available"})]})})}),$N={totalQuizzes:0,completedQuizzes:0,averageScore:0,difficultyBreakdown:{easy:0,medium:0,hard:0}},zL=yp()(Bg(av((e,n)=>({currentSession:null,sessions:[],statistics:$N,isModalOpen:!1,currentChatbotId:null,currentDifficulty:"medium",loading:!1,error:null,isQuizActive:!1,currentAnswers:{},lastSummary:null,openQuizModal:(t,r="medium")=>{e({isModalOpen:!0,currentChatbotId:t,currentDifficulty:r,error:null})},closeQuizModal:()=>{e({isModalOpen:!1,error:null})},setDifficulty:t=>{e({currentDifficulty:t})},setLoading:t=>{e({loading:t})},setError:t=>{e({error:t})},startQuiz:t=>{const r={id:`session_${Date.now()}`,quizId:t.quizId,chatbotId:t.chatbotId,userId:"",difficulty:t.selection.mode,startedAt:t.startedAt,completed:!1,answers:{}};e({currentSession:r,isQuizActive:!0,currentAnswers:{},lastSummary:null,error:null})},updateAnswers:t=>{const{currentSession:r}=n();if(!r)return;const i={...t.answers};e({currentAnswers:i,currentSession:{...r,answers:i}})},submitQuiz:t=>{console.log(" Quiz Store: Quiz submitted. Data should be saved by quiz modal API:",t),e({lastSummary:t.summary,isQuizActive:!1})},closeQuiz:t=>{console.log(" Quiz Store: Quiz closed. Data handled by quiz modal API:",t),e({currentSession:null,isQuizActive:!1,isModalOpen:!1,currentAnswers:{},lastSummary:t.completed?t.summary:null})},addSession:t=>{e(r=>({sessions:[...r.sessions,t]}))},updateSession:(t,r)=>{e(i=>{var a;return{sessions:i.sessions.map(s=>s.id===t?{...s,...r}:s),currentSession:((a=i.currentSession)==null?void 0:a.id)===t?{...i.currentSession,...r}:i.currentSession}})},deleteSession:t=>{e(r=>({sessions:r.sessions.filter(i=>i.id!==t)}))},clearCurrentSession:()=>{e({currentSession:null,isQuizActive:!1,currentAnswers:{},lastSummary:null})},updateStatistics:()=>{const{sessions:t}=n(),r=t.filter(l=>l.completed),i=r.reduce((l,c)=>{var d;return l+(((d=c.summary)==null?void 0:d.percent)||0)},0),a=t.reduce((l,c)=>({...l,[c.difficulty]:l[c.difficulty]+1}),{easy:0,medium:0,hard:0}),s={totalQuizzes:t.length,completedQuizzes:r.length,averageScore:r.length>0?i/r.length:0,difficultyBreakdown:a,lastQuizDate:t.length>0?t[t.length-1].startedAt:void 0};e({statistics:s})},saveSessionToFirestore:async t=>{try{const{db:r}=await Li(async()=>{const{db:s}=await Promise.resolve().then(()=>tp);return{db:s}},void 0),{doc:i,setDoc:a}=await Li(async()=>{const{doc:s,setDoc:l}=await import("./firebase-DpGenoA-.js").then(c=>c.B);return{doc:s,setDoc:l}},[]);await a(i(r,"quizSessions",t.id),{...t,timestamp:new Date().toISOString()}),console.log("Quiz session saved to Firestore:",t.id)}catch(r){console.error("Failed to save quiz session:",r),e({error:"Failed to save quiz session"})}},fetchUserSessions:async t=>{try{e({loading:!0,error:null});const{db:r}=await Li(async()=>{const{db:b}=await Promise.resolve().then(()=>tp);return{db:b}},void 0),{collection:i,query:a,where:s,getDocs:l,orderBy:c}=await Li(async()=>{const{collection:b,query:m,where:x,getDocs:y,orderBy:A}=await import("./firebase-DpGenoA-.js").then(w=>w.B);return{collection:b,query:m,where:x,getDocs:y,orderBy:A}},[]),d=a(i(r,"quizSessions"),s("userId","==",t),c("startedAt","desc")),g=(await l(d)).docs.map(b=>({id:b.id,...b.data()}));e({sessions:g,loading:!1}),n().updateStatistics()}catch(r){console.error("Failed to fetch quiz sessions:",r),e({error:"Failed to fetch quiz sessions",loading:!1})}},reset:()=>{e({currentSession:null,sessions:[],statistics:$N,isModalOpen:!1,currentChatbotId:null,currentDifficulty:"medium",loading:!1,error:null,isQuizActive:!1,currentAnswers:{},lastSummary:null})}}),{name:"quiz-store",partialize:e=>({currentDifficulty:e.currentDifficulty}),merge:(e,n)=>({...n,...e||{},currentDifficulty:(e==null?void 0:e.currentDifficulty)||"medium"})}),{name:"quiz-store"})),eh=Jn(),th={QUIZ_SESSIONS:"quizSessions",QUIZ_EVENTS:"quizEvents"},Ofe=async(e,n)=>{try{const t=Ja.now(),r=Ja.fromDate(new Date(e.startedAt)),i=5*1e3,a=Ja.fromMillis(r.toMillis()-i),s=Ja.fromMillis(r.toMillis()+i),l=nl(wn(eh,th.QUIZ_SESSIONS),Si("quizId","==",e.quizId),Si("userId","==",n),Si("startedAt",">=",a),Si("startedAt","<=",s),rv(1)),c=await mi(l);if(!c.empty){console.log(" Quiz session with same start time already exists, skipping duplicate:",{quizId:e.quizId,startedAt:e.startedAt,userId:n.substring(0,8)+"...",existingSessionId:c.docs[0].id});return}const d={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,startedAt:Ja.fromDate(new Date(e.startedAt)),completed:!1,difficulty:e.selection.mode,selection:{mode:e.selection.mode,target:e.selection.target,finalCount:e.selection.finalCount},createdAt:t,updatedAt:t},h={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,eventType:"quiz_started",timestamp:t,data:e,createdAt:t};await Promise.all([Ma(wn(eh,th.QUIZ_SESSIONS),d),Ma(wn(eh,th.QUIZ_EVENTS),h)]),console.log(" Quiz start event saved to Firestore:",{quizId:e.quizId,difficulty:e.selection.mode,userId:n.substring(0,8)+"..."})}catch(t){throw console.error(" Error saving quiz start event:",t),t}},Ife=async(e,n)=>{try{const t=Ja.now(),r={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,eventType:"answer_changed",timestamp:t,data:{quizId:e.quizId,chatbotId:e.chatbotId,questionId:e.questionId,value:e.value,answers:e.answers},createdAt:t};await Ma(wn(eh,th.QUIZ_EVENTS),r),console.log(" Answer change event saved to Firestore:",{quizId:e.quizId,questionId:e.questionId,userId:n.substring(0,8)+"..."})}catch(t){console.error(" Error saving answer change event:",t)}},Dfe=async(e,n)=>{try{const t=Ja.now(),r=Ja.fromMillis(t.toMillis()-3600*1e3),i=nl(wn(eh,th.QUIZ_SESSIONS),Si("quizId","==",e.quizId),Si("userId","==",n),Si("completed","==",!1),Si("createdAt",">=",r),nv("createdAt","desc")),a=await mi(i);if(a.empty)throw console.error(" No incomplete session found for quiz submission - this should not happen!",{quizId:e.quizId,userId:n.substring(0,8)+"...",submittedAt:e.submittedAt}),new Error("No matching quiz session found for submission");{const l=a.docs[0],c=l.ref,d=l.data(),h={submittedAt:Ja.fromDate(new Date(e.submittedAt)),completed:!0,finalAnswers:e.answers,summary:e.summary,updatedAt:t};await Wr(c,h),console.log(" Updated quiz session:",{quizId:e.quizId,difficulty:d.difficulty,score:`${e.summary.total_score}/${e.summary.total_max}`,userId:n.substring(0,8)+"..."})}const s={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,eventType:"quiz_submitted",timestamp:t,data:e,createdAt:t};await Ma(wn(eh,th.QUIZ_EVENTS),s),console.log(" Quiz submission saved to Firestore:",{quizId:e.quizId,score:`${e.summary.total_score}/${e.summary.total_max} (${e.summary.percent}%)`})}catch(t){throw console.error(" Error saving quiz submission:",t),t}},Lfe=async(e,n)=>{try{const t=Ja.now(),r=nl(wn(eh,th.QUIZ_SESSIONS),Si("quizId","==",e.quizId),Si("userId","==",n)),i=await mi(r);if(!i.empty){const l=i.docs[0].ref,c={closedAt:Ja.fromDate(new Date(e.closedAt)),updatedAt:t};e.completed&&e.summary&&(c.completed=!0,c.finalAnswers=e.answers,c.summary=e.summary),await Wr(l,c)}const a={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,eventType:"quiz_closed",timestamp:t,data:e,createdAt:t};await Ma(wn(eh,th.QUIZ_EVENTS),a),console.log(" Quiz close event saved to Firestore:",{quizId:e.quizId,completed:e.completed})}catch(t){throw console.error(" Error saving quiz close event:",t),t}},qL=X.forwardRef(({chatbotId:e,difficulty:n,open:t,onClose:r,eventHandlers:i},a)=>{const{userDetails:s}=Ai(),l=X.useRef(null),{startQuiz:c,updateAnswers:d,submitQuiz:h,closeQuiz:g,setError:b}=zL(),m=X.useCallback(C=>{console.log("Quiz started:",C),c(C),s!=null&&s.uid&&Ofe(C,s.uid).catch(j=>{console.error("Failed to save quiz start event:",j)}),i!=null&&i.onQuizStart&&i.onQuizStart(C)},[s==null?void 0:s.uid,c,i]),x=X.useCallback(C=>{if(console.log("Answer changed:",C),d(C),s!=null&&s.uid){const j={...C,chatbotId:C.chatbotId||e};Ife(j,s.uid).catch(F=>{console.warn("Failed to save answer change event:",F)})}i!=null&&i.onAnswerChange&&i.onAnswerChange(C)},[d,i,s==null?void 0:s.uid,e]),y=X.useCallback(C=>{console.log("Quiz submitted:",C),h(C),s!=null&&s.uid&&Dfe(C,s.uid).catch(j=>{console.error("Failed to save quiz submission event:",j)}),i!=null&&i.onQuizSubmit&&i.onQuizSubmit(C)},[h,i,s==null?void 0:s.uid]),A=X.useCallback(C=>{console.log("Quiz closed:",C),g(C),s!=null&&s.uid&&Lfe(C,s.uid).catch(j=>{console.error("Failed to save quiz close event:",j)}),i!=null&&i.onQuizClose&&i.onQuizClose(C)},[g,i,s==null?void 0:s.uid]),w=X.useCallback((C,j)=>{console.error("Error in",j,C),b(`Quiz ${j} failed: ${C.message}`),i!=null&&i.onError&&i.onError(C,j)},[b,i]);return X.useImperativeHandle(a,()=>({reloadQuiz:()=>{l.current&&l.current.reloadQuiz()},clearProgress:()=>{l.current&&l.current.clearProgress()},submit:()=>{l.current&&l.current.submit()},getAnswers:()=>l.current?l.current.getAnswers():{},getSummary:()=>l.current?l.current.getSummary():null,close:()=>{l.current&&l.current.close(),r()}})),f.jsx(Tfe,{ref:l,chatbotId:e,open:t,onClose:r,difficulty:n,onQuizStart:m,onAnswerChange:x,onQuizSubmit:y,onQuizClose:A,onError:w})});qL.displayName="QuizWrapper";const Rfe=({onStartQuiz:e,disabled:n=!1})=>{const[t,r]=X.useState(null),i=!!t,a=d=>{r(d.currentTarget)},s=()=>{r(null)},l=d=>{e(d),s()},c=[{value:"easy",description:"~5 questions",icon:f.jsx(Fd,{color:"success"}),color:"success"},{value:"medium",description:"~8 questions",icon:f.jsx(DR,{color:"warning"}),color:"warning"},{value:"hard",description:"Up to 10 questions",icon:f.jsx(LR,{color:"error"}),color:"error"}];return f.jsxs(f.Fragment,{children:[f.jsx(mt,{variant:"contained",onClick:a,disabled:n,startIcon:i?f.jsx(ag,{}):f.jsx(zc,{}),sx:{background:"#0B53C0",color:"white",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",fontWeight:"bold",px:3,py:1.5,borderRadius:"12px",textTransform:"none","&:hover":{background:"#064a9e",boxShadow:"0px 4px 12px rgba(11, 83, 192, 0.3)"},"&:disabled":{background:"#ccc",color:"#999"},boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",transition:"all 0.2s ease-in-out"},children:"Start Quiz"}),f.jsxs(IR,{anchorEl:t,open:i,onClose:s,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"right"},PaperProps:{sx:{minWidth:300,borderRadius:2,border:"1px solid #e0e0e0",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)","& .MuiMenuItem-root":{py:1.5,px:2,borderRadius:1,mx:1,mb:.5,"&:hover":{backgroundColor:"#f5f5f5",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},"&:last-child":{mb:1}}}},children:[f.jsx(ge,{sx:{px:2,py:1.5,borderBottom:"1px solid #e0e0e0",backgroundColor:"#CDDAFF"},children:f.jsx(ce,{variant:"subtitle1",sx:{fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.1rem",textAlign:"center"},children:"Select Quiz Difficulty"})}),c.map(d=>f.jsxs(Zn,{onClick:()=>l(d.value),children:[f.jsx(Wy,{sx:{minWidth:40},children:d.icon}),f.jsx(Il,{primary:f.jsx(ce,{variant:"body1",sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1.1rem",color:"#333",fontWeight:"bold"},children:d.value.charAt(0).toUpperCase()+d.value.slice(1)}),secondary:f.jsx(ce,{variant:"body2",sx:{fontFamily:"Gabarito, sans-serif",color:"#666",fontSize:"0.875rem"},children:d.description})})]},d.value))]})]})},w0="ce5f7921-a3a0-4ea7-b95f-10fe41becda5",Mfe=({defaultDifficulty:e="medium",position:n="fixed"})=>{const{userDetails:t}=Ai(),[r]=qg(),i=X.useRef(null),{isModalOpen:a,currentChatbotId:s,currentDifficulty:l,statistics:c,openQuizModal:d,closeQuizModal:h,setDifficulty:g,fetchUserSessions:b,setError:m}=zL(),[x,y]=it.useState(w0);X.useEffect(()=>{const F=r.get("material");if(!F){x!==w0&&y(w0);return}(async()=>{try{console.log(" Fetching chatbot ID for quiz material:",F);const L=Jn(),k=wn(L,"chatbots"),M=nl(k,Si("material.id","==",F)),q=await mi(M);if(q.empty)console.log(` No chatbot found for material ${F}, using default for quiz:`,w0),y(w0);else{const Q=q.docs[0].data();console.log(` Found chatbot for quiz material ${F}:`,Q.chatbotId),y(Q.chatbotId)}}catch(L){console.error("Failed to fetch chatbot for quiz:",L),m("Failed to load quiz for this material"),y(w0)}})()},[r,x,m]),X.useEffect(()=>{t!=null&&t.uid&&b(t.uid)},[t==null?void 0:t.uid,b]),X.useEffect(()=>{g(e)},[e,g]);const A=X.useCallback(F=>{x?d(x,F):m("No chatbot available for quiz")},[x,d,m]),w=X.useCallback(()=>{h()},[h]);if(!(t!=null&&t.uid)||!r.get("material"))return null;const j=n==="fixed"?{position:"fixed",bottom:120,right:16,zIndex:1e3}:{position:"relative"};return f.jsxs(f.Fragment,{children:[f.jsx(ge,{sx:j,children:f.jsx(Rfe,{onStartQuiz:A,disabled:!x})}),a&&s&&f.jsx(qL,{ref:i,chatbotId:s,difficulty:l,open:a,onClose:w,eventHandlers:{onQuizStart:F=>{},onQuizSubmit:F=>{},onError:(F,z)=>{console.error("Quiz error:",z,F)}}})]})};var U1={},HN;function Ffe(){if(HN)return U1;HN=1;var e=Hd();Object.defineProperty(U1,"__esModule",{value:!0}),U1.default=void 0;var n=e(Vd()),t=Wd();return U1.default=(0,n.default)((0,t.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),U1}var Pfe=Ffe();const zfe=ns(Pfe),qfe=()=>Math.random().toString(36).substr(2,9),Bfe=e=>{switch(e){case Wo.NETWORK:return"";case Wo.AUTHENTICATION:return"";case Wo.AUTHORIZATION:return"";case Wo.VALIDATION:return"";case Wo.NOT_FOUND:return"";case Wo.SERVER_ERROR:return"";default:return""}},Ufe=e=>{switch(e){case Wo.NETWORK:return 8e3;case Wo.AUTHENTICATION:case Wo.AUTHORIZATION:return 1e4;case Wo.VALIDATION:return 6e3;case Wo.NOT_FOUND:return 5e3;default:return 7e3}},$fe=yp((e,n)=>({notifications:[],addNotification:t=>{const r={...t,id:qfe(),timestamp:new Date,duration:t.duration??5e3};e(i=>({notifications:[...i.notifications,r]})),r.duration>0&&setTimeout(()=>{n().removeNotification(r.id)},r.duration)},removeNotification:t=>{e(r=>({notifications:r.notifications.filter(i=>i.id!==t)}))},clearAll:()=>{e({notifications:[]})},showError:(t,r)=>{const i=Bfe(t.type),a=Ufe(t.type),s=[];t.type===Wo.NETWORK&&s.push({label:"Retry",action:()=>{console.log("Retry requested for:",t)},primary:!0}),n().addNotification({type:"error",title:`${i} ${t.type.replace("_"," ")} Error`,message:t.message,duration:a,actions:r||s,error:t})},showSuccess:(t,r)=>{n().addNotification({type:"success",title:r||" Success",message:t,duration:4e3})},showWarning:(t,r)=>{n().addNotification({type:"warning",title:r||" Warning",message:t,duration:6e3})},showInfo:(t,r)=>{n().addNotification({type:"info",title:r||" Info",message:t,duration:5e3})}})),Hfe=()=>{const{notifications:e,removeNotification:n}=$fe();return e.length===0?null:f.jsx(ge,{sx:{position:"fixed",top:16,right:16,zIndex:9999,maxWidth:400,display:"flex",flexDirection:"column",gap:1},children:e.map(t=>f.jsx(sg,{in:!0,timeout:300,children:f.jsx(fn,{elevation:6,children:f.jsxs(vr,{severity:t.type,sx:{width:"100%","& .MuiAlert-action":{alignItems:"flex-start",padding:"4px 0 0 16px"}},action:f.jsx(Cn,{size:"small",onClick:()=>n(t.id),sx:{color:"inherit"},children:f.jsx(zfe,{fontSize:"small"})}),children:[t.title&&f.jsx(RR,{sx:{fontWeight:"bold",mb:.5},children:t.title}),t.message,t.actions&&t.actions.length>0&&f.jsx(ge,{sx:{mt:1.5,display:"flex",gap:1,flexWrap:"wrap"},children:t.actions.map((r,i)=>f.jsx(mt,{size:"small",variant:r.primary?"contained":"outlined",color:t.type==="error"?"error":"primary",onClick:()=>{r.action(),n(t.id)},sx:{minWidth:"auto",fontSize:"0.75rem",padding:"2px 8px"},children:r.label},i))})]})})},t.id))})},Wfe=({children:e})=>f.jsxs(ge,{sx:{display:"flex",flexDirection:"column",height:"100vh",backgroundColor:Ue.background.primary,overflow:"hidden"},children:[f.jsx(ge,{component:"header",sx:{height:"12.5vh",minHeight:90,zIndex:1100,flexShrink:0},children:f.jsx(MJ,{})}),f.jsx(ge,{component:"main",sx:{height:"77.5vh",display:"flex",flexGrow:1,overflow:"hidden"},children:f.jsx(RJ,{children:e})}),f.jsx(ge,{component:"footer",sx:{height:"10vh",minHeight:70,flexShrink:0},children:f.jsx(FJ,{})}),f.jsx(Ule,{}),f.jsx(Mfe,{}),f.jsx(Hfe,{})]}),Vfe=()=>{const{userDetails:e,isSuperAdmin:n}=Ai(),t=OJ(e,n),r=D3(t);return e!=null&&e.uid?f.jsx(Wfe,{children:r}):r},Yfe=()=>{const{userDetails:e,loading:n}=Ai();if(n)return f.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:f.jsx(Gr,{})});const t="/nexlab";return e!=null&&e.uid,f.jsxs(MR,{theme:IJ,children:[f.jsx(FR,{}),f.jsx(X3,{basename:t,future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:f.jsx(X.Suspense,{fallback:f.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:f.jsx(Gr,{})}),children:f.jsx(Vfe,{})})})]})},Gfe=document.getElementById("root"),Qfe=i3.createRoot(Gfe);Qfe.render(f.jsx(iM,{children:f.jsx(Yfe,{})}));export{_T as A,qT as B,zfe as C,I6 as D,PT as E,wF as F,tp as G,rhe as H,pv as R,AX as V,Li as _,AT as a,Ai as b,ht as c,CT as d,Zt as e,Ue as f,phe as g,bo as h,rn as i,n4 as j,r4 as k,qg as l,$fe as m,the as n,yp as o,Bg as p,av as q,Vd as r,cn as s,ut as t,ea as u,_v as v,nJ as w,xF as x,vF as y,FT as z};
