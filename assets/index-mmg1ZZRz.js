const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BQVvxhUE.js","assets/vendor-BFl3bqVE.js","assets/index-CZYWMsg6.js","assets/MaterialImportWrapper-BzzFgppB.js","assets/ui-BwJ-ZVW0.js","assets/firebase-Bm-nAVUv.js","assets/index.es-CKi6fjx7.js","assets/index-BED4lpm5.js","assets/index-kMmLvqSb.js","assets/FileUploadSection-DdcMcER8.js","assets/purify.es-CQJ0hv7W.js","assets/DesignDetailPage-DuIMC-mh.js","assets/index-CwnDHXKM.js","assets/DesignDetailPage-B5DZHykP.css","assets/SupplementalMaterials-CK9aSaAQ.js","assets/MessagesPage-Ed5i6EkP.js"])))=>i.map(i=>d[i]);
var zR=Object.defineProperty;var qR=(e,n,t)=>n in e?zR(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var _e=(e,n,t)=>qR(e,typeof n!="symbol"?n+"":n,t);import{s as Ut,r as M,R as zv,j as d,C as pi,B as se,P as an,T as te,a as xt,b as i_,u as BR,c as ol,d as ll,e as a_,f as it,g as Jx,A as Cn,h as $R,I as jn,i as qv,k as Bv,l as $v,m as Mc,n as Mn,o as Uv,p as Jd,q as Pu,t as ni,v as Rn,L as Hv,F as Xc,w as ch,S as Zc,M as xi,x as Vv,y as s_,D as Yi,z as tn,G as et,E as ri,H as ii,Q as UR,J as HR,K as o_,N as l_,O as Yd,U as dC,V as la,W as $a,X as ua,Y as zu,Z as Ea,_ as VR,$ as Tu,a0 as $d,a1 as Nu,a2 as Tc,a3 as Y0,a4 as Iu,a5 as ev,a6 as zl,a7 as WR,a8 as Du,a9 as fC,aa as qu,ab as YR,ac as u_,ad as GR,ae as QR,af as Kn,ag as KR,ah as pm,ai as hC,aj as mm,ak as XR,al as nl,am as ZR,an as dh,ao as JR,ap as ai,aq as pC,ar as ZE,as as eP,at as tv,au as tP,av as nP,aw as rP,ax as iP,ay as Ud,az as zc,aA as zd,aB as qd,aC as aP,aD as Bd,aE as sP,aF as oP,aG as lP,aH as mC,aI as q1,aJ as uP,aK as cP,aL as dP,aM as nv,aN as yb,aO as fP,aP as hP,aQ as pP,aR as mP,aS as c_,aT as d_,aU as B1,aV as gP,aW as Be,aX as Tn,aY as ze,aZ as Qi,a_ as ef,a$ as xb,b0 as bP,b1 as yP,b2 as xP,b3 as xh,b4 as f_,b5 as h_,b6 as Dx,b7 as p_,b8 as vP,b9 as gm,ba as wP,bb as JE,bc as Ul,bd as gC,be as bm,bf as m_,bg as $1,bh as rv,bi as SP,bj as CP,bk as iv,bl as e8,bm as AP,bn as g_,bo as kP,bp as b_,bq as EP,br as y_,bs as jP,bt as x_,bu as t8,bv as TP,bw as NP,bx as DP,by as c5,bz as _x,bA as _P,bB as IP,bC as n8,bD as OP,bE as r8,bF as MP,bG as v_,bH as w_,bI as S_,bJ as C_,bK as A_,bL as k_,bM as LP,bN as RP,bO as PP,bP as FP,bQ as zP}from"./ui-BwJ-ZVW0.js";import{r as qP,b as BP,g as Ta,a as $P}from"./vendor-BFl3bqVE.js";import{g as UP,G as HP,o as VP,b as WP,a as YP,s as GP,c as QP,d as KP,P as cr,e as gn,f as ja,h as nh,m as E_,i as qr,I as XP,_ as mn,R as Hl,j as Hi,k as _i,l as ZP,C as JP,r as i8,n as e3,p as t3,q as bC,t as n3,F as r3,u as i3,v as jp,w as Ni,x as Lc,y as rh,z as ih,A as j_,B as Di,D as Wv,K as a3,W as Yv,Q as s3,E as Gv,H as Qv}from"./firebase-Bm-nAVUv.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var d5={exports:{}},_g={},f5={exports:{}},h5={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a8;function o3(){return a8||(a8=1,function(e){function n($,Y){var Z=$.length;$.push(Y);e:for(;0<Z;){var re=Z-1>>>1,H=$[re];if(0<i(H,Y))$[re]=Y,$[Z]=H,Z=re;else break e}}function t($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var Y=$[0],Z=$.pop();if(Z!==Y){$[0]=Z;e:for(var re=0,H=$.length,me=H>>>1;re<me;){var q=2*(re+1)-1,z=$[q],ne=q+1,oe=$[ne];if(0>i(z,Z))ne<H&&0>i(oe,z)?($[re]=oe,$[ne]=Z,re=ne):($[re]=z,$[q]=Z,re=q);else if(ne<H&&0>i(oe,Z))$[re]=oe,$[ne]=Z,re=ne;else break e}}return Y}function i($,Y){var Z=$.sortIndex-Y.sortIndex;return Z!==0?Z:$.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var u=[],f=[],h=1,m=null,b=3,g=!1,v=!1,x=!1,C=!1,S=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function P($){for(var Y=t(f);Y!==null;){if(Y.callback===null)r(f);else if(Y.startTime<=$)r(f),Y.sortIndex=Y.expirationTime,n(u,Y);else break;Y=t(f)}}function U($){if(x=!1,P($),!v)if(t(u)!==null)v=!0,B||(B=!0,D());else{var Y=t(f);Y!==null&&Q(U,Y.startTime-$)}}var B=!1,j=-1,F=5,V=-1;function X(){return C?!0:!(e.unstable_now()-V<F)}function T(){if(C=!1,B){var $=e.unstable_now();V=$;var Y=!0;try{e:{v=!1,x&&(x=!1,A(j),j=-1),g=!0;var Z=b;try{t:{for(P($),m=t(u);m!==null&&!(m.expirationTime>$&&X());){var re=m.callback;if(typeof re=="function"){m.callback=null,b=m.priorityLevel;var H=re(m.expirationTime<=$);if($=e.unstable_now(),typeof H=="function"){m.callback=H,P($),Y=!0;break t}m===t(u)&&r(u),P($)}else r(u);m=t(u)}if(m!==null)Y=!0;else{var me=t(f);me!==null&&Q(U,me.startTime-$),Y=!1}}break e}finally{m=null,b=Z,g=!1}Y=void 0}}finally{Y?D():B=!1}}}var D;if(typeof N=="function")D=function(){N(T)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,L=O.port2;O.port1.onmessage=T,D=function(){L.postMessage(null)}}else D=function(){S(T,0)};function Q($,Y){j=S(function(){$(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function($){switch(b){case 1:case 2:case 3:var Y=3;break;default:Y=b}var Z=b;b=Y;try{return $()}finally{b=Z}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function($,Y){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Z=b;b=$;try{return Y()}finally{b=Z}},e.unstable_scheduleCallback=function($,Y,Z){var re=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?re+Z:re):Z=re,$){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=Z+H,$={id:h++,callback:Y,priorityLevel:$,startTime:Z,expirationTime:H,sortIndex:-1},Z>re?($.sortIndex=Z,n(f,$),t(u)===null&&$===t(f)&&(x?(A(j),j=-1):x=!0,Q(U,Z-re))):($.sortIndex=H,n(u,$),v||g||(v=!0,B||(B=!0,D()))),$},e.unstable_shouldYield=X,e.unstable_wrapCallback=function($){var Y=b;return function(){var Z=b;b=Y;try{return $.apply(this,arguments)}finally{b=Z}}}}(h5)),h5}var s8;function l3(){return s8||(s8=1,f5.exports=o3()),f5.exports}var o8;function u3(){if(o8)return _g;o8=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=l3(),n=qP(),t=BP();function r(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var c=o,p=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(p=c.return),o=c.return;while(o)}return c.tag===3?p:null}function s(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(a(o)!==o)throw Error(r(188))}function u(o){var c=o.alternate;if(!c){if(c=a(o),c===null)throw Error(r(188));return c!==o?null:o}for(var p=o,y=c;;){var k=p.return;if(k===null)break;var _=k.alternate;if(_===null){if(y=k.return,y!==null){p=y;continue}break}if(k.child===_.child){for(_=k.child;_;){if(_===p)return l(k),o;if(_===y)return l(k),c;_=_.sibling}throw Error(r(188))}if(p.return!==y.return)p=k,y=_;else{for(var J=!1,fe=k.child;fe;){if(fe===p){J=!0,p=k,y=_;break}if(fe===y){J=!0,y=k,p=_;break}fe=fe.sibling}if(!J){for(fe=_.child;fe;){if(fe===p){J=!0,p=_,y=k;break}if(fe===y){J=!0,y=_,p=k;break}fe=fe.sibling}if(!J)throw Error(r(189))}}if(p.alternate!==y)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?o:c}function f(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=f(o),c!==null)return c;o=o.sibling}return null}var h=Object.assign,m=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),N=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),T=Symbol.iterator;function D(o){return o===null||typeof o!="object"?null:(o=T&&o[T]||o["@@iterator"],typeof o=="function"?o:null)}var O=Symbol.for("react.client.reference");function L(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===O?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case v:return"Fragment";case C:return"Profiler";case x:return"StrictMode";case U:return"Suspense";case B:return"SuspenseList";case V:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case g:return"Portal";case N:return(o.displayName||"Context")+".Provider";case A:return(o._context.displayName||"Context")+".Consumer";case P:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case j:return c=o.displayName||null,c!==null?c:L(o.type)||"Memo";case F:c=o._payload,o=o._init;try{return L(o(c))}catch{}}return null}var Q=Array.isArray,$=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},re=[],H=-1;function me(o){return{current:o}}function q(o){0>H||(o.current=re[H],re[H]=null,H--)}function z(o,c){H++,re[H]=o.current,o.current=c}var ne=me(null),oe=me(null),ee=me(null),ge=me(null);function de(o,c){switch(z(ee,c),z(oe,o),z(ne,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?EE(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=EE(c),o=jE(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}q(ne),z(ne,o)}function ye(){q(ne),q(oe),q(ee)}function we(o){o.memoizedState!==null&&z(ge,o);var c=ne.current,p=jE(c,o.type);c!==p&&(z(oe,o),z(ne,p))}function ve(o){oe.current===o&&(q(ne),q(oe)),ge.current===o&&(q(ge),Eg._currentValue=Z)}var je=Object.prototype.hasOwnProperty,Ee=e.unstable_scheduleCallback,Ue=e.unstable_cancelCallback,Oe=e.unstable_shouldYield,pe=e.unstable_requestPaint,tt=e.unstable_now,dt=e.unstable_getCurrentPriorityLevel,lt=e.unstable_ImmediatePriority,Ze=e.unstable_UserBlockingPriority,ut=e.unstable_NormalPriority,wt=e.unstable_LowPriority,Et=e.unstable_IdlePriority,Ot=e.log,qt=e.unstable_setDisableYieldValue,Qe=null,Se=null;function De(o){if(typeof Ot=="function"&&qt(o),Se&&typeof Se.setStrictMode=="function")try{Se.setStrictMode(Qe,o)}catch{}}var ke=Math.clz32?Math.clz32:Nt,Ke=Math.log,He=Math.LN2;function Nt(o){return o>>>=0,o===0?32:31-(Ke(o)/He|0)|0}var It=256,Ft=4194304;function jt(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function nn(o,c,p){var y=o.pendingLanes;if(y===0)return 0;var k=0,_=o.suspendedLanes,J=o.pingedLanes;o=o.warmLanes;var fe=y&134217727;return fe!==0?(y=fe&~_,y!==0?k=jt(y):(J&=fe,J!==0?k=jt(J):p||(p=fe&~o,p!==0&&(k=jt(p))))):(fe=y&~_,fe!==0?k=jt(fe):J!==0?k=jt(J):p||(p=y&~o,p!==0&&(k=jt(p)))),k===0?0:c!==0&&c!==k&&(c&_)===0&&(_=k&-k,p=c&-c,_>=p||_===32&&(p&4194048)!==0)?c:k}function Tt(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function Ht(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function un(){var o=It;return It<<=1,(It&4194048)===0&&(It=256),o}function vn(){var o=Ft;return Ft<<=1,(Ft&62914560)===0&&(Ft=4194304),o}function Er(o){for(var c=[],p=0;31>p;p++)c.push(o);return c}function Hn(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Xn(o,c,p,y,k,_){var J=o.pendingLanes;o.pendingLanes=p,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=p,o.entangledLanes&=p,o.errorRecoveryDisabledLanes&=p,o.shellSuspendCounter=0;var fe=o.entanglements,Te=o.expirationTimes,Xe=o.hiddenUpdates;for(p=J&~p;0<p;){var ht=31-ke(p),vt=1<<ht;fe[ht]=0,Te[ht]=-1;var Je=Xe[ht];if(Je!==null)for(Xe[ht]=null,ht=0;ht<Je.length;ht++){var nt=Je[ht];nt!==null&&(nt.lane&=-536870913)}p&=~vt}y!==0&&Xt(o,y,0),_!==0&&k===0&&o.tag!==0&&(o.suspendedLanes|=_&~(J&~c))}function Xt(o,c,p){o.pendingLanes|=c,o.suspendedLanes&=~c;var y=31-ke(c);o.entangledLanes|=c,o.entanglements[y]=o.entanglements[y]|1073741824|p&4194090}function _n(o,c){var p=o.entangledLanes|=c;for(o=o.entanglements;p;){var y=31-ke(p),k=1<<y;k&c|o[y]&c&&(o[y]|=c),p&=~k}}function fa(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function cn(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Vn(){var o=Y.p;return o!==0?o:(o=window.event,o===void 0?32:WE(o.type))}function Oi(o,c){var p=Y.p;try{return Y.p=o,c()}finally{Y.p=p}}var zt=Math.random().toString(36).slice(2),Zn="__reactFiber$"+zt,dr="__reactProps$"+zt,$r="__reactContainer$"+zt,gr="__reactEvents$"+zt,br="__reactListeners$"+zt,Qn="__reactHandles$"+zt,js="__reactResources$"+zt,Or="__reactMarker$"+zt;function Ha(o){delete o[Zn],delete o[dr],delete o[gr],delete o[br],delete o[Qn]}function Ki(o){var c=o[Zn];if(c)return c;for(var p=o.parentNode;p;){if(c=p[$r]||p[Zn]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(o=_E(o);o!==null;){if(p=o[Zn])return p;o=_E(o)}return c}o=p,p=o.parentNode}return null}function Xi(o){if(o=o[Zn]||o[$r]){var c=o.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return o}return null}function ar(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(r(33))}function Mi(o){var c=o[js];return c||(c=o[js]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function sr(o){o[Or]=!0}var co=new Set,Io={};function Qa(o,c){Ur(o,c),Ur(o+"Capture",c)}function Ur(o,c){for(Io[o]=c,o=0;o<c.length;o++)co.add(c[o])}var dl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xl={},Yu={};function ud(o){return je.call(Yu,o)?!0:je.call(Xl,o)?!1:dl.test(o)?Yu[o]=!0:(Xl[o]=!0,!1)}function Xs(o,c,p){if(ud(c))if(p===null)o.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var y=c.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+p)}}function Ts(o,c,p){if(p===null)o.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+p)}}function Ka(o,c,p,y){if(y===null)o.removeAttribute(p);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(p);return}o.setAttributeNS(c,p,""+y)}}var Ns,hs;function ps(o){if(Ns===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);Ns=c&&c[1]||"",hs=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ns+o+hs}var Zl=!1;function fo(o,c){if(!o||Zl)return"";Zl=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(c){var vt=function(){throw Error()};if(Object.defineProperty(vt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(vt,[])}catch(nt){var Je=nt}Reflect.construct(o,[],vt)}else{try{vt.call()}catch(nt){Je=nt}o.call(vt.prototype)}}else{try{throw Error()}catch(nt){Je=nt}(vt=o())&&typeof vt.catch=="function"&&vt.catch(function(){})}}catch(nt){if(nt&&Je&&typeof nt.stack=="string")return[nt.stack,Je.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var k=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");k&&k.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=y.DetermineComponentFrameRoot(),J=_[0],fe=_[1];if(J&&fe){var Te=J.split(`
`),Xe=fe.split(`
`);for(k=y=0;y<Te.length&&!Te[y].includes("DetermineComponentFrameRoot");)y++;for(;k<Xe.length&&!Xe[k].includes("DetermineComponentFrameRoot");)k++;if(y===Te.length||k===Xe.length)for(y=Te.length-1,k=Xe.length-1;1<=y&&0<=k&&Te[y]!==Xe[k];)k--;for(;1<=y&&0<=k;y--,k--)if(Te[y]!==Xe[k]){if(y!==1||k!==1)do if(y--,k--,0>k||Te[y]!==Xe[k]){var ht=`
`+Te[y].replace(" at new "," at ");return o.displayName&&ht.includes("<anonymous>")&&(ht=ht.replace("<anonymous>",o.displayName)),ht}while(1<=y&&0<=k);break}}}finally{Zl=!1,Error.prepareStackTrace=p}return(p=o?o.displayName||o.name:"")?ps(p):""}function cd(o){switch(o.tag){case 26:case 27:case 5:return ps(o.type);case 16:return ps("Lazy");case 13:return ps("Suspense");case 19:return ps("SuspenseList");case 0:case 15:return fo(o.type,!1);case 11:return fo(o.type.render,!1);case 1:return fo(o.type,!0);case 31:return ps("Activity");default:return""}}function Hr(o){try{var c="";do c+=cd(o),o=o.return;while(o);return c}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function ha(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ho(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function fl(o){var c=ho(o)?"checked":"value",p=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),y=""+o[c];if(!o.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var k=p.get,_=p.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return k.call(this)},set:function(J){y=""+J,_.call(this,J)}}),Object.defineProperty(o,c,{enumerable:p.enumerable}),{getValue:function(){return y},setValue:function(J){y=""+J},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Xa(o){o._valueTracker||(o._valueTracker=fl(o))}function Jl(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var p=c.getValue(),y="";return o&&(y=ho(o)?o.checked?"true":"false":o.value),o=y,o!==p?(c.setValue(o),!0):!1}function pa(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var hl=/[\n"\\]/g;function yr(o){return o.replace(hl,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Oo(o,c,p,y,k,_,J,fe){o.name="",J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?o.type=J:o.removeAttribute("type"),c!=null?J==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+ha(c)):o.value!==""+ha(c)&&(o.value=""+ha(c)):J!=="submit"&&J!=="reset"||o.removeAttribute("value"),c!=null?Mo(o,J,ha(c)):p!=null?Mo(o,J,ha(p)):y!=null&&o.removeAttribute("value"),k==null&&_!=null&&(o.defaultChecked=!!_),k!=null&&(o.checked=k&&typeof k!="function"&&typeof k!="symbol"),fe!=null&&typeof fe!="function"&&typeof fe!="symbol"&&typeof fe!="boolean"?o.name=""+ha(fe):o.removeAttribute("name")}function eu(o,c,p,y,k,_,J,fe){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(o.type=_),c!=null||p!=null){if(!(_!=="submit"&&_!=="reset"||c!=null))return;p=p!=null?""+ha(p):"",c=c!=null?""+ha(c):p,fe||c===o.value||(o.value=c),o.defaultValue=c}y=y??k,y=typeof y!="function"&&typeof y!="symbol"&&!!y,o.checked=fe?o.checked:!!y,o.defaultChecked=!!y,J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"&&(o.name=J)}function Mo(o,c,p){c==="number"&&pa(o.ownerDocument)===o||o.defaultValue===""+p||(o.defaultValue=""+p)}function Zs(o,c,p,y){if(o=o.options,c){c={};for(var k=0;k<p.length;k++)c["$"+p[k]]=!0;for(p=0;p<o.length;p++)k=c.hasOwnProperty("$"+o[p].value),o[p].selected!==k&&(o[p].selected=k),k&&y&&(o[p].defaultSelected=!0)}else{for(p=""+ha(p),c=null,k=0;k<o.length;k++){if(o[k].value===p){o[k].selected=!0,y&&(o[k].defaultSelected=!0);return}c!==null||o[k].disabled||(c=o[k])}c!==null&&(c.selected=!0)}}function Gu(o,c,p){if(c!=null&&(c=""+ha(c),c!==o.value&&(o.value=c),p==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=p!=null?""+ha(p):""}function Js(o,c,p,y){if(c==null){if(y!=null){if(p!=null)throw Error(r(92));if(Q(y)){if(1<y.length)throw Error(r(93));y=y[0]}p=y}p==null&&(p=""),c=p}p=ha(c),o.defaultValue=p,y=o.textContent,y===p&&y!==""&&y!==null&&(o.value=y)}function Zi(o,c){if(c){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=c;return}}o.textContent=c}var ms=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ds(o,c,p){var y=c.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?y?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":y?o.setProperty(c,p):typeof p!="number"||p===0||ms.has(c)?c==="float"?o.cssFloat=p:o[c]=(""+p).trim():o[c]=p+"px"}function Qu(o,c,p){if(c!=null&&typeof c!="object")throw Error(r(62));if(o=o.style,p!=null){for(var y in p)!p.hasOwnProperty(y)||c!=null&&c.hasOwnProperty(y)||(y.indexOf("--")===0?o.setProperty(y,""):y==="float"?o.cssFloat="":o[y]="");for(var k in c)y=c[k],c.hasOwnProperty(k)&&p[k]!==y&&Ds(o,k,y)}else for(var _ in c)c.hasOwnProperty(_)&&Ds(o,_,c[_])}function Za(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function to(o){return pl.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var ml=null;function mi(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var oi=null,_s=null;function ln(o){var c=Xi(o);if(c&&(o=c.stateNode)){var p=o[dr]||null;e:switch(o=c.stateNode,c.type){case"input":if(Oo(o,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),c=p.name,p.type==="radio"&&c!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+yr(""+c)+'"][type="radio"]'),c=0;c<p.length;c++){var y=p[c];if(y!==o&&y.form===o.form){var k=y[dr]||null;if(!k)throw Error(r(90));Oo(y,k.value,k.defaultValue,k.defaultValue,k.checked,k.defaultChecked,k.type,k.name)}}for(c=0;c<p.length;c++)y=p[c],y.form===o.form&&Jl(y)}break e;case"textarea":Gu(o,p.value,p.defaultValue);break e;case"select":c=p.value,c!=null&&Zs(o,!!p.multiple,c,!1)}}}var po=!1;function gl(o,c,p){if(po)return o(c,p);po=!0;try{var y=o(c);return y}finally{if(po=!1,(oi!==null||_s!==null)&&(Ny(),oi&&(c=oi,o=_s,_s=oi=null,ln(c),o)))for(c=0;c<o.length;c++)ln(o[c])}}function Li(o,c){var p=o.stateNode;if(p===null)return null;var y=p[dr]||null;if(y===null)return null;p=y[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(r(231,c,typeof p));return p}var Ja=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lo=!1;if(Ja)try{var es={};Object.defineProperty(es,"passive",{get:function(){Lo=!0}}),window.addEventListener("test",es,es),window.removeEventListener("test",es,es)}catch{Lo=!1}var Va=null,ts=null,Ro=null;function bl(){if(Ro)return Ro;var o,c=ts,p=c.length,y,k="value"in Va?Va.value:Va.textContent,_=k.length;for(o=0;o<p&&c[o]===k[o];o++);var J=p-o;for(y=1;y<=J&&c[p-y]===k[_-y];y++);return Ro=k.slice(o,1<y?1-y:void 0)}function mo(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Is(){return!0}function W(){return!1}function he(o){function c(p,y,k,_,J){this._reactName=p,this._targetInst=k,this.type=y,this.nativeEvent=_,this.target=J,this.currentTarget=null;for(var fe in o)o.hasOwnProperty(fe)&&(p=o[fe],this[fe]=p?p(_):_[fe]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Is:W,this.isPropagationStopped=W,this}return h(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Is)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Is)},persist:function(){},isPersistent:Is}),c}var Ne={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},at=he(Ne),sn=h({},Ne,{view:0,detail:0}),Gt=he(sn),Pn,In,xr,An=h({},sn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lf,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==xr&&(xr&&o.type==="mousemove"?(Pn=o.screenX-xr.screenX,In=o.screenY-xr.screenY):In=Pn=0,xr=o),Pn)},movementY:function(o){return"movementY"in o?o.movementY:In}}),Mr=he(An),Ia=h({},An,{dataTransfer:0}),jr=he(Ia),Tr=h({},sn,{relatedTarget:0}),Jr=he(Tr),ns=h({},Ne,{animationName:0,elapsedTime:0,pseudoElement:0}),no=he(ns),Os=h({},Ne,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),sf=he(Os),yl=h({},Ne,{data:0}),Po=he(yl),$p={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},of={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Th(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=jh[o])?!!c[o]:!1}function lf(){return Th}var Wm=h({},sn,{key:function(o){if(o.key){var c=$p[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=mo(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?of[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lf,charCode:function(o){return o.type==="keypress"?mo(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?mo(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),uf=he(Wm),dd=h({},An,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cf=he(dd),Ku=h({},sn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lf}),Nh=he(Ku),I=h({},Ne,{propertyName:0,elapsedTime:0,pseudoElement:0}),ae=he(I),Ae=h({},An,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Ie=he(Ae),Ve=h({},Ne,{newState:0,oldState:0}),ot=he(Ve),St=[9,13,27,32],Mt=Ja&&"CompositionEvent"in window,Qt=null;Ja&&"documentMode"in document&&(Qt=document.documentMode);var Nn=Ja&&"TextEvent"in window&&!Qt,wn=Ja&&(!Mt||Qt&&8<Qt&&11>=Qt),Wn=" ",li=!1;function gi(o,c){switch(o){case"keyup":return St.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ri(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Pi=!1;function Oa(o,c){switch(o){case"compositionend":return Ri(c);case"keypress":return c.which!==32?null:(li=!0,Wn);case"textInput":return o=c.data,o===Wn&&li?null:o;default:return null}}function Fo(o,c){if(Pi)return o==="compositionend"||!Mt&&gi(o,c)?(o=bl(),Ro=ts=Va=null,Pi=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return wn&&c.locale!=="ko"?null:c.data;default:return null}}var ro={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zo(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!ro[o.type]:c==="textarea"}function Dh(o,c,p,y){oi?_s?_s.push(y):_s=[y]:oi=y,c=Ly(c,"onChange"),0<c.length&&(p=new at("onChange","change",null,p,y),o.push({event:p,listeners:c}))}var tu=null,nu=null;function df(o){wE(o,0)}function Xu(o){var c=ar(o);if(Jl(c))return o}function ff(o,c){if(o==="change")return c}var fd=!1;if(Ja){var ma;if(Ja){var Zu="oninput"in document;if(!Zu){var hd=document.createElement("div");hd.setAttribute("oninput","return;"),Zu=typeof hd.oninput=="function"}ma=Zu}else ma=!1;fd=ma&&(!document.documentMode||9<document.documentMode)}function pd(){tu&&(tu.detachEvent("onpropertychange",hf),nu=tu=null)}function hf(o){if(o.propertyName==="value"&&Xu(nu)){var c=[];Dh(c,nu,o,mi(o)),gl(df,c)}}function Ms(o,c,p){o==="focusin"?(pd(),tu=c,nu=p,tu.attachEvent("onpropertychange",hf)):o==="focusout"&&pd()}function Ym(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Xu(nu)}function _h(o,c){if(o==="click")return Xu(c)}function Up(o,c){if(o==="input"||o==="change")return Xu(c)}function go(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Ma=typeof Object.is=="function"?Object.is:go;function Ju(o,c){if(Ma(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var p=Object.keys(o),y=Object.keys(c);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var k=p[y];if(!je.call(c,k)||!Ma(o[k],c[k]))return!1}return!0}function Ih(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function ru(o,c){var p=Ih(o);o=0;for(var y;p;){if(p.nodeType===3){if(y=o+p.textContent.length,o<=c&&y>=c)return{node:p,offset:c-o};o=y}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Ih(p)}}function ec(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?ec(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function gs(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=pa(o.document);c instanceof o.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)o=c.contentWindow;else break;c=pa(o.document)}return c}function Wa(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var tc=Ja&&"documentMode"in document&&11>=document.documentMode,Ls=null,qo=null,xl=null,Bo=!1;function Si(o,c,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Bo||Ls==null||Ls!==pa(y)||(y=Ls,"selectionStart"in y&&Wa(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),xl&&Ju(xl,y)||(xl=y,y=Ly(qo,"onSelect"),0<y.length&&(c=new at("onSelect","select",null,c,p),o.push({event:c,listeners:y}),c.target=Ls)))}function $o(o,c){var p={};return p[o.toLowerCase()]=c.toLowerCase(),p["Webkit"+o]="webkit"+c,p["Moz"+o]="moz"+c,p}var Ji={animationend:$o("Animation","AnimationEnd"),animationiteration:$o("Animation","AnimationIteration"),animationstart:$o("Animation","AnimationStart"),transitionrun:$o("Transition","TransitionRun"),transitionstart:$o("Transition","TransitionStart"),transitioncancel:$o("Transition","TransitionCancel"),transitionend:$o("Transition","TransitionEnd")},Rs={},md={};Ja&&(md=document.createElement("div").style,"AnimationEvent"in window||(delete Ji.animationend.animation,delete Ji.animationiteration.animation,delete Ji.animationstart.animation),"TransitionEvent"in window||delete Ji.transitionend.transition);function vl(o){if(Rs[o])return Rs[o];if(!Ji[o])return o;var c=Ji[o],p;for(p in c)if(c.hasOwnProperty(p)&&p in md)return Rs[o]=c[p];return o}var pf=vl("animationend"),nc=vl("animationiteration"),rc=vl("animationstart"),ic=vl("transitionrun"),gd=vl("transitionstart"),mf=vl("transitioncancel"),ac=vl("transitionend"),iu=new Map,bd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bd.push("scrollEnd");function Ci(o,c){iu.set(o,c),Qa(c,[o])}var io=new WeakMap;function qn(o,c){if(typeof o=="object"&&o!==null){var p=io.get(o);return p!==void 0?p:(c={value:o,source:c,stack:Hr(c)},io.set(o,c),c)}return{value:o,source:c,stack:Hr(c)}}var Bn=[],Vr=0,Fi=0;function bo(){for(var o=Vr,c=Fi=Vr=0;c<o;){var p=Bn[c];Bn[c++]=null;var y=Bn[c];Bn[c++]=null;var k=Bn[c];Bn[c++]=null;var _=Bn[c];if(Bn[c++]=null,y!==null&&k!==null){var J=y.pending;J===null?k.next=k:(k.next=J.next,J.next=k),y.pending=k}_!==0&&Hp(p,k,_)}}function sc(o,c,p,y){Bn[Vr++]=o,Bn[Vr++]=c,Bn[Vr++]=p,Bn[Vr++]=y,Fi|=y,o.lanes|=y,o=o.alternate,o!==null&&(o.lanes|=y)}function oc(o,c,p,y){return sc(o,c,p,y),yd(o)}function au(o,c){return sc(o,null,null,c),yd(o)}function Hp(o,c,p){o.lanes|=p;var y=o.alternate;y!==null&&(y.lanes|=p);for(var k=!1,_=o.return;_!==null;)_.childLanes|=p,y=_.alternate,y!==null&&(y.childLanes|=p),_.tag===22&&(o=_.stateNode,o===null||o._visibility&1||(k=!0)),o=_,_=_.return;return o.tag===3?(_=o.stateNode,k&&c!==null&&(k=31-ke(p),o=_.hiddenUpdates,y=o[k],y===null?o[k]=[c]:y.push(c),c.lane=p|536870912),_):null}function yd(o){if(50<yg)throw yg=0,Mw=null,Error(r(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var La={};function yo(o,c,p,y){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rs(o,c,p,y){return new yo(o,c,p,y)}function gf(o){return o=o.prototype,!(!o||!o.isReactComponent)}function wl(o,c){var p=o.alternate;return p===null?(p=rs(o.tag,c,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=c,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&65011712,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,c=o.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p.refCleanup=o.refCleanup,p}function Oh(o,c){o.flags&=65011714;var p=o.alternate;return p===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=p.childLanes,o.lanes=p.lanes,o.child=p.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=p.memoizedProps,o.memoizedState=p.memoizedState,o.updateQueue=p.updateQueue,o.type=p.type,c=p.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function xd(o,c,p,y,k,_){var J=0;if(y=o,typeof o=="function")gf(o)&&(J=1);else if(typeof o=="string")J=ER(o,p,ne.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case V:return o=rs(31,p,c,k),o.elementType=V,o.lanes=_,o;case v:return su(p.children,k,_,c);case x:J=8,k|=24;break;case C:return o=rs(12,p,c,k|2),o.elementType=C,o.lanes=_,o;case U:return o=rs(13,p,c,k),o.elementType=U,o.lanes=_,o;case B:return o=rs(19,p,c,k),o.elementType=B,o.lanes=_,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case S:case N:J=10;break e;case A:J=9;break e;case P:J=11;break e;case j:J=14;break e;case F:J=16,y=null;break e}J=29,p=Error(r(130,o===null?"null":typeof o,"")),y=null}return c=rs(J,p,c,k),c.elementType=o,c.type=y,c.lanes=_,c}function su(o,c,p,y){return o=rs(7,o,y,c),o.lanes=p,o}function Vp(o,c,p){return o=rs(6,o,null,c),o.lanes=p,o}function Mh(o,c,p){return c=rs(4,o.children!==null?o.children:[],o.key,c),c.lanes=p,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var lc=[],ou=0,bf=null,Wp=0,xo=[],ao=0,vd=null,lu=1,uu="";function wd(o,c){lc[ou++]=Wp,lc[ou++]=bf,bf=o,Wp=c}function Jb(o,c,p){xo[ao++]=lu,xo[ao++]=uu,xo[ao++]=vd,vd=o;var y=lu;o=uu;var k=32-ke(y)-1;y&=~(1<<k),p+=1;var _=32-ke(c)+k;if(30<_){var J=k-k%5;_=(y&(1<<J)-1).toString(32),y>>=J,k-=J,lu=1<<32-ke(c)+k|p<<k|y,uu=_+o}else lu=1<<_|p<<k|y,uu=o}function Lh(o){o.return!==null&&(wd(o,1),Jb(o,1,0))}function Rh(o){for(;o===bf;)bf=lc[--ou],lc[ou]=null,Wp=lc[--ou],lc[ou]=null;for(;o===vd;)vd=xo[--ao],xo[ao]=null,uu=xo[--ao],xo[ao]=null,lu=xo[--ao],xo[ao]=null}var ga=null,Ai=null,or=!1,uc=null,Sl=!1,Gm=Error(r(519));function Sd(o){var c=Error(r(418,""));throw yf(qn(c,o)),Gm}function ey(o){var c=o.stateNode,p=o.type,y=o.memoizedProps;switch(c[Zn]=o,c[dr]=y,p){case"dialog":Gn("cancel",c),Gn("close",c);break;case"iframe":case"object":case"embed":Gn("load",c);break;case"video":case"audio":for(p=0;p<vg.length;p++)Gn(vg[p],c);break;case"source":Gn("error",c);break;case"img":case"image":case"link":Gn("error",c),Gn("load",c);break;case"details":Gn("toggle",c);break;case"input":Gn("invalid",c),eu(c,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0),Xa(c);break;case"select":Gn("invalid",c);break;case"textarea":Gn("invalid",c),Js(c,y.value,y.defaultValue,y.children),Xa(c)}p=y.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||c.textContent===""+p||y.suppressHydrationWarning===!0||kE(c.textContent,p)?(y.popover!=null&&(Gn("beforetoggle",c),Gn("toggle",c)),y.onScroll!=null&&Gn("scroll",c),y.onScrollEnd!=null&&Gn("scrollend",c),y.onClick!=null&&(c.onclick=Ry),c=!0):c=!1,c||Sd(o)}function cu(o){for(ga=o.return;ga;)switch(ga.tag){case 5:case 13:Sl=!1;return;case 27:case 3:Sl=!0;return;default:ga=ga.return}}function bs(o){if(o!==ga)return!1;if(!or)return cu(o),or=!0,!1;var c=o.tag,p;if((p=c!==3&&c!==27)&&((p=c===5)&&(p=o.type,p=!(p!=="form"&&p!=="button")||Kw(o.type,o.memoizedProps)),p=!p),p&&Ai&&Sd(o),cu(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8)if(p=o.data,p==="/$"){if(c===0){Ai=yu(o.nextSibling);break e}c--}else p!=="$"&&p!=="$!"&&p!=="$?"||c++;o=o.nextSibling}Ai=null}}else c===27?(c=Ai,Lf(o.type)?(o=e5,e5=null,Ai=o):Ai=c):Ai=ga?yu(o.stateNode.nextSibling):null;return!0}function so(){Ai=ga=null,or=!1}function ty(){var o=uc;return o!==null&&(So===null?So=o:So.push.apply(So,o),uc=null),o}function yf(o){uc===null?uc=[o]:uc.push(o)}var Cl=me(null),Ra=null,du=null;function cc(o,c,p){z(Cl,c._currentValue),c._currentValue=p}function Al(o){o._currentValue=Cl.current,q(Cl)}function Yp(o,c,p){for(;o!==null;){var y=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,y!==null&&(y.childLanes|=c)):y!==null&&(y.childLanes&c)!==c&&(y.childLanes|=c),o===p)break;o=o.return}}function Gp(o,c,p,y){var k=o.child;for(k!==null&&(k.return=o);k!==null;){var _=k.dependencies;if(_!==null){var J=k.child;_=_.firstContext;e:for(;_!==null;){var fe=_;_=k;for(var Te=0;Te<c.length;Te++)if(fe.context===c[Te]){_.lanes|=p,fe=_.alternate,fe!==null&&(fe.lanes|=p),Yp(_.return,p,o),y||(J=null);break e}_=fe.next}}else if(k.tag===18){if(J=k.return,J===null)throw Error(r(341));J.lanes|=p,_=J.alternate,_!==null&&(_.lanes|=p),Yp(J,p,o),J=null}else J=k.child;if(J!==null)J.return=k;else for(J=k;J!==null;){if(J===o){J=null;break}if(k=J.sibling,k!==null){k.return=J.return,J=k;break}J=J.return}k=J}}function xf(o,c,p,y){o=null;for(var k=c,_=!1;k!==null;){if(!_){if((k.flags&524288)!==0)_=!0;else if((k.flags&262144)!==0)break}if(k.tag===10){var J=k.alternate;if(J===null)throw Error(r(387));if(J=J.memoizedProps,J!==null){var fe=k.type;Ma(k.pendingProps.value,J.value)||(o!==null?o.push(fe):o=[fe])}}else if(k===ge.current){if(J=k.alternate,J===null)throw Error(r(387));J.memoizedState.memoizedState!==k.memoizedState.memoizedState&&(o!==null?o.push(Eg):o=[Eg])}k=k.return}o!==null&&Gp(c,o,p,y),c.flags|=262144}function Qp(o){for(o=o.firstContext;o!==null;){if(!Ma(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function kl(o){Ra=o,du=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function ba(o){return Kp(Ra,o)}function dc(o,c){return Ra===null&&kl(o),Kp(o,c)}function Kp(o,c){var p=c._currentValue;if(c={context:c,memoizedValue:p,next:null},du===null){if(o===null)throw Error(r(308));du=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else du=du.next=c;return p}var aw=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(p,y){o.push(y)}};this.abort=function(){c.aborted=!0,o.forEach(function(p){return p()})}},ny=e.unstable_scheduleCallback,sw=e.unstable_NormalPriority,ya={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qm(){return{controller:new aw,data:new Map,refCount:0}}function Ph(o){o.refCount--,o.refCount===0&&ny(sw,function(){o.controller.abort()})}var Fh=null,Km=0,Cd=0,fu=null;function ow(o,c){if(Fh===null){var p=Fh=[];Km=0,Cd=Bw(),fu={status:"pending",value:void 0,then:function(y){p.push(y)}}}return Km++,c.then(ry,ry),c}function ry(){if(--Km===0&&Fh!==null){fu!==null&&(fu.status="fulfilled");var o=Fh;Fh=null,Cd=0,fu=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function iy(o,c){var p=[],y={status:"pending",value:null,reason:null,then:function(k){p.push(k)}};return o.then(function(){y.status="fulfilled",y.value=c;for(var k=0;k<p.length;k++)(0,p[k])(c)},function(k){for(y.status="rejected",y.reason=k,k=0;k<p.length;k++)(0,p[k])(void 0)}),y}var w=$.S;$.S=function(o,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&ow(o,c),w!==null&&w(o,c)};var E=me(null);function R(){var o=E.current;return o!==null?o:ci.pooledCache}function G(o,c){c===null?z(E,E.current):z(E,c.pool)}function ie(){var o=R();return o===null?null:{parent:ya._currentValue,pool:o}}var le=Error(r(460)),ue=Error(r(474)),ce=Error(r(542)),be={then:function(){}};function Ce(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Me(){}function Ge(o,c,p){switch(p=o[p],p===void 0?o.push(c):p!==c&&(c.then(Me,Me),c=p),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,gt(o),o;default:if(typeof c.status=="string")c.then(Me,Me);else{if(o=ci,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=c,o.status="pending",o.then(function(y){if(c.status==="pending"){var k=c;k.status="fulfilled",k.value=y}},function(y){if(c.status==="pending"){var k=c;k.status="rejected",k.reason=y}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,gt(o),o}throw We=c,le}}var We=null;function qe(){if(We===null)throw Error(r(459));var o=We;return We=null,o}function gt(o){if(o===le||o===ce)throw Error(r(483))}var rt=!1;function Le(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fe(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function ft(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function bt(o,c,p){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,(Rr&2)!==0){var k=y.pending;return k===null?c.next=c:(c.next=k.next,k.next=c),y.pending=c,c=yd(o),Hp(o,null,p),c}return sc(o,y,c,p),yd(o)}function pt(o,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194048)!==0)){var y=c.lanes;y&=o.pendingLanes,p|=y,c.lanes=p,_n(o,p)}}function Lt(o,c){var p=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var k=null,_=null;if(p=p.firstBaseUpdate,p!==null){do{var J={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};_===null?k=_=J:_=_.next=J,p=p.next}while(p!==null);_===null?k=_=c:_=_.next=c}else k=_=c;p={baseState:y.baseState,firstBaseUpdate:k,lastBaseUpdate:_,shared:y.shared,callbacks:y.callbacks},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=c:o.next=c,p.lastBaseUpdate=c}var Dt=!1;function Jt(){if(Dt){var o=fu;if(o!==null)throw o}}function _t(o,c,p,y){Dt=!1;var k=o.updateQueue;rt=!1;var _=k.firstBaseUpdate,J=k.lastBaseUpdate,fe=k.shared.pending;if(fe!==null){k.shared.pending=null;var Te=fe,Xe=Te.next;Te.next=null,J===null?_=Xe:J.next=Xe,J=Te;var ht=o.alternate;ht!==null&&(ht=ht.updateQueue,fe=ht.lastBaseUpdate,fe!==J&&(fe===null?ht.firstBaseUpdate=Xe:fe.next=Xe,ht.lastBaseUpdate=Te))}if(_!==null){var vt=k.baseState;J=0,ht=Xe=Te=null,fe=_;do{var Je=fe.lane&-536870913,nt=Je!==fe.lane;if(nt?(nr&Je)===Je:(y&Je)===Je){Je!==0&&Je===Cd&&(Dt=!0),ht!==null&&(ht=ht.next={lane:0,tag:fe.tag,payload:fe.payload,callback:null,next:null});e:{var xn=o,dn=fe;Je=c;var Yr=p;switch(dn.tag){case 1:if(xn=dn.payload,typeof xn=="function"){vt=xn.call(Yr,vt,Je);break e}vt=xn;break e;case 3:xn.flags=xn.flags&-65537|128;case 0:if(xn=dn.payload,Je=typeof xn=="function"?xn.call(Yr,vt,Je):xn,Je==null)break e;vt=h({},vt,Je);break e;case 2:rt=!0}}Je=fe.callback,Je!==null&&(o.flags|=64,nt&&(o.flags|=8192),nt=k.callbacks,nt===null?k.callbacks=[Je]:nt.push(Je))}else nt={lane:Je,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},ht===null?(Xe=ht=nt,Te=vt):ht=ht.next=nt,J|=Je;if(fe=fe.next,fe===null){if(fe=k.shared.pending,fe===null)break;nt=fe,fe=nt.next,nt.next=null,k.lastBaseUpdate=nt,k.shared.pending=null}}while(!0);ht===null&&(Te=vt),k.baseState=Te,k.firstBaseUpdate=Xe,k.lastBaseUpdate=ht,_===null&&(k.shared.lanes=0),_f|=J,o.lanes=J,o.memoizedState=vt}}function er(o,c){if(typeof o!="function")throw Error(r(191,o));o.call(c)}function fr(o,c){var p=o.callbacks;if(p!==null)for(o.callbacks=null,o=0;o<p.length;o++)er(p[o],c)}var zn=me(null),Fn=me(0);function Nr(o,c){o=Od,z(Fn,o),z(zn,c),Od=o|c.baseLanes}function hr(){z(Fn,Od),z(zn,zn.current)}function kn(){Od=Fn.current,q(zn),q(Fn)}var Lr=0,on=null,bn=null,Jn=null,tr=!1,Pa=!1,xa=!1,zi=0,qi=0,ea=null,vo=0;function pr(){throw Error(r(321))}function ta(o,c){if(c===null)return!1;for(var p=0;p<c.length&&p<o.length;p++)if(!Ma(o[p],c[p]))return!1;return!0}function Uo(o,c,p,y,k,_){return Lr=_,on=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,$.H=o===null||o.memoizedState===null?ak:sk,xa=!1,_=p(y,k),xa=!1,Pa&&(_=Ad(c,p,y,k)),fc(o),_}function fc(o){$.H=gy;var c=bn!==null&&bn.next!==null;if(Lr=0,Jn=bn=on=null,tr=!1,qi=0,ea=null,c)throw Error(r(300));o===null||is||(o=o.dependencies,o!==null&&Qp(o)&&(is=!0))}function Ad(o,c,p,y){on=o;var k=0;do{if(Pa&&(ea=null),qi=0,Pa=!1,25<=k)throw Error(r(301));if(k+=1,Jn=bn=null,o.updateQueue!=null){var _=o.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}$.H=P9,_=c(p,y)}while(Pa);return _}function hc(){var o=$.H,c=o.useState()[0];return c=typeof c.then=="function"?pc(c):c,o=o.useState()[0],(bn!==null?bn.memoizedState:null)!==o&&(on.flags|=1024),c}function ui(){var o=zi!==0;return zi=0,o}function zh(o,c,p){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~p}function Xp(o){if(tr){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}tr=!1}Lr=0,Jn=bn=on=null,Pa=!1,qi=zi=0,ea=null}function ys(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jn===null?on.memoizedState=Jn=o:Jn=Jn.next=o,Jn}function bi(){if(bn===null){var o=on.alternate;o=o!==null?o.memoizedState:null}else o=bn.next;var c=Jn===null?on.memoizedState:Jn.next;if(c!==null)Jn=c,bn=o;else{if(o===null)throw on.alternate===null?Error(r(467)):Error(r(310));bn=o,o={memoizedState:bn.memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},Jn===null?on.memoizedState=Jn=o:Jn=Jn.next=o}return Jn}function kd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pc(o){var c=qi;return qi+=1,ea===null&&(ea=[]),o=Ge(ea,o,c),c=on,(Jn===null?c.memoizedState:Jn.next)===null&&(c=c.alternate,$.H=c===null||c.memoizedState===null?ak:sk),o}function Ps(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return pc(o);if(o.$$typeof===N)return ba(o)}throw Error(r(438,String(o)))}function mc(o){var c=null,p=on.updateQueue;if(p!==null&&(c=p.memoCache),c==null){var y=on.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(c={data:y.data.map(function(k){return k.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),p===null&&(p=kd(),on.updateQueue=p),p.memoCache=c,p=c.data[c.index],p===void 0)for(p=c.data[c.index]=Array(o),y=0;y<o;y++)p[y]=X;return c.index++,p}function Fs(o,c){return typeof c=="function"?c(o):c}function qh(o){var c=bi();return vf(c,bn,o)}function vf(o,c,p){var y=o.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=p;var k=o.baseQueue,_=y.pending;if(_!==null){if(k!==null){var J=k.next;k.next=_.next,_.next=J}c.baseQueue=k=_,y.pending=null}if(_=o.baseState,k===null)o.memoizedState=_;else{c=k.next;var fe=J=null,Te=null,Xe=c,ht=!1;do{var vt=Xe.lane&-536870913;if(vt!==Xe.lane?(nr&vt)===vt:(Lr&vt)===vt){var Je=Xe.revertLane;if(Je===0)Te!==null&&(Te=Te.next={lane:0,revertLane:0,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null}),vt===Cd&&(ht=!0);else if((Lr&Je)===Je){Xe=Xe.next,Je===Cd&&(ht=!0);continue}else vt={lane:0,revertLane:Xe.revertLane,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null},Te===null?(fe=Te=vt,J=_):Te=Te.next=vt,on.lanes|=Je,_f|=Je;vt=Xe.action,xa&&p(_,vt),_=Xe.hasEagerState?Xe.eagerState:p(_,vt)}else Je={lane:vt,revertLane:Xe.revertLane,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null},Te===null?(fe=Te=Je,J=_):Te=Te.next=Je,on.lanes|=vt,_f|=vt;Xe=Xe.next}while(Xe!==null&&Xe!==c);if(Te===null?J=_:Te.next=fe,!Ma(_,o.memoizedState)&&(is=!0,ht&&(p=fu,p!==null)))throw p;o.memoizedState=_,o.baseState=J,o.baseQueue=Te,y.lastRenderedState=_}return k===null&&(y.lanes=0),[o.memoizedState,y.dispatch]}function Zp(o){var c=bi(),p=c.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=o;var y=p.dispatch,k=p.pending,_=c.memoizedState;if(k!==null){p.pending=null;var J=k=k.next;do _=o(_,J.action),J=J.next;while(J!==k);Ma(_,c.memoizedState)||(is=!0),c.memoizedState=_,c.baseQueue===null&&(c.baseState=_),p.lastRenderedState=_}return[_,y]}function Bh(o,c,p){var y=on,k=bi(),_=or;if(_){if(p===void 0)throw Error(r(407));p=p()}else p=c();var J=!Ma((bn||k).memoizedState,p);J&&(k.memoizedState=p,is=!0),k=k.queue;var fe=wf.bind(null,y,k,o);if(Af(2048,8,fe,[o]),k.getSnapshot!==c||J||Jn!==null&&Jn.memoizedState.tag&1){if(y.flags|=2048,pu(9,Vh(),$h.bind(null,y,k,p,c),null),ci===null)throw Error(r(349));_||(Lr&124)!==0||Jp(y,c,p)}return p}function Jp(o,c,p){o.flags|=16384,o={getSnapshot:c,value:p},c=on.updateQueue,c===null?(c=kd(),on.updateQueue=c,c.stores=[o]):(p=c.stores,p===null?c.stores=[o]:p.push(o))}function $h(o,c,p,y){c.value=p,c.getSnapshot=y,ay(c)&&sy(o)}function wf(o,c,p){return p(function(){ay(c)&&sy(o)})}function ay(o){var c=o.getSnapshot;o=o.value;try{var p=c();return!Ma(o,p)}catch{return!0}}function sy(o){var c=au(o,2);c!==null&&Qo(c,o,2)}function Uh(o){var c=ys();if(typeof o=="function"){var p=o;if(o=p(),xa){De(!0);try{p()}finally{De(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:o},c}function hu(o,c,p,y){return o.baseState=p,vf(o,bn,typeof y=="function"?y:Fs)}function lw(o,c,p,y,k){if(my(o))throw Error(r(485));if(o=c.action,o!==null){var _={payload:k,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(J){_.listeners.push(J)}};$.T!==null?p(!0):_.isTransition=!1,y(_),p=c.pending,p===null?(_.next=c.pending=_,oy(c,_)):(_.next=p.next,c.pending=p.next=_)}}function oy(o,c){var p=c.action,y=c.payload,k=o.state;if(c.isTransition){var _=$.T,J={};$.T=J;try{var fe=p(k,y),Te=$.S;Te!==null&&Te(J,fe),ly(o,c,fe)}catch(Xe){Sf(o,c,Xe)}finally{$.T=_}}else try{_=p(k,y),ly(o,c,_)}catch(Xe){Sf(o,c,Xe)}}function ly(o,c,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(y){Xm(o,c,y)},function(y){return Sf(o,c,y)}):Xm(o,c,p)}function Xm(o,c,p){c.status="fulfilled",c.value=p,Zm(c),o.state=p,c=o.pending,c!==null&&(p=c.next,p===c?o.pending=null:(p=p.next,c.next=p,oy(o,p)))}function Sf(o,c,p){var y=o.pending;if(o.pending=null,y!==null){y=y.next;do c.status="rejected",c.reason=p,Zm(c),c=c.next;while(c!==y)}o.action=null}function Zm(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function Jm(o,c){return c}function Hh(o,c){if(or){var p=ci.formState;if(p!==null){e:{var y=on;if(or){if(Ai){t:{for(var k=Ai,_=Sl;k.nodeType!==8;){if(!_){k=null;break t}if(k=yu(k.nextSibling),k===null){k=null;break t}}_=k.data,k=_==="F!"||_==="F"?k:null}if(k){Ai=yu(k.nextSibling),y=k.data==="F!";break e}}Sd(y)}y=!1}y&&(c=p[0])}}return p=ys(),p.memoizedState=p.baseState=c,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jm,lastRenderedState:c},p.queue=y,p=nk.bind(null,on,y),y.dispatch=p,y=Uh(!1),_=uw.bind(null,on,!1,y.queue),y=ys(),k={state:c,dispatch:null,action:o,pending:null},y.queue=k,p=lw.bind(null,on,k,_,p),k.dispatch=p,y.memoizedState=o,[c,p,!1]}function e0(o){var c=bi();return Cf(c,bn,o)}function Cf(o,c,p){if(c=vf(o,c,Jm)[0],o=qh(Fs)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var y=pc(c)}catch(J){throw J===le?ce:J}else y=c;c=bi();var k=c.queue,_=k.dispatch;return p!==c.memoizedState&&(on.flags|=2048,pu(9,Vh(),uy.bind(null,k,p),null)),[y,_,o]}function uy(o,c){o.action=c}function cy(o){var c=bi(),p=bn;if(p!==null)return Cf(c,p,o);bi(),c=c.memoizedState,p=bi();var y=p.queue.dispatch;return p.memoizedState=o,[c,y,!1]}function pu(o,c,p,y){return o={tag:o,create:p,deps:y,inst:c,next:null},c=on.updateQueue,c===null&&(c=kd(),on.updateQueue=c),p=c.lastEffect,p===null?c.lastEffect=o.next=o:(y=p.next,p.next=o,o.next=y,c.lastEffect=o),o}function Vh(){return{destroy:void 0,resource:void 0}}function t0(){return bi().memoizedState}function Ho(o,c,p,y){var k=ys();y=y===void 0?null:y,on.flags|=o,k.memoizedState=pu(1|c,Vh(),p,y)}function Af(o,c,p,y){var k=bi();y=y===void 0?null:y;var _=k.memoizedState.inst;bn!==null&&y!==null&&ta(y,bn.memoizedState.deps)?k.memoizedState=pu(c,_,p,y):(on.flags|=o,k.memoizedState=pu(1|c,_,p,y))}function eg(o,c){Ho(8390656,8,o,c)}function dy(o,c){Af(2048,8,o,c)}function tg(o,c){return Af(4,2,o,c)}function Ed(o,c){return Af(4,4,o,c)}function fy(o,c){if(typeof c=="function"){o=o();var p=c(o);return function(){typeof p=="function"?p():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function ng(o,c,p){p=p!=null?p.concat([o]):null,Af(4,4,fy.bind(null,c,o),p)}function rg(){}function ig(o,c){var p=bi();c=c===void 0?null:c;var y=p.memoizedState;return c!==null&&ta(c,y[1])?y[0]:(p.memoizedState=[o,c],o)}function hy(o,c){var p=bi();c=c===void 0?null:c;var y=p.memoizedState;if(c!==null&&ta(c,y[1]))return y[0];if(y=o(),xa){De(!0);try{o()}finally{De(!1)}}return p.memoizedState=[y,c],y}function jd(o,c,p){return p===void 0||(Lr&1073741824)!==0?o.memoizedState=c:(o.memoizedState=p,o=Zk(),on.lanes|=o,_f|=o,p)}function n0(o,c,p,y){return Ma(p,c)?p:zn.current!==null?(o=jd(o,p,y),Ma(o,c)||(is=!0),o):(Lr&42)===0?(is=!0,o.memoizedState=p):(o=Zk(),on.lanes|=o,_f|=o,c)}function Wh(o,c,p,y,k){var _=Y.p;Y.p=_!==0&&8>_?_:8;var J=$.T,fe={};$.T=fe,uw(o,!1,c,p);try{var Te=k(),Xe=$.S;if(Xe!==null&&Xe(fe,Te),Te!==null&&typeof Te=="object"&&typeof Te.then=="function"){var ht=iy(Te,y);lg(o,c,ht,Go(o))}else lg(o,c,y,Go(o))}catch(vt){lg(o,c,{then:function(){},status:"rejected",reason:vt},Go())}finally{Y.p=_,$.T=J}}function mu(){}function El(o,c,p,y){if(o.tag!==5)throw Error(r(476));var k=gu(o).queue;Wh(o,k,c,Z,p===null?mu:function(){return Yh(o),p(y)})}function gu(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:Z},next:null};var p={};return c.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:p},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function Yh(o){var c=gu(o).next.queue;lg(o,c,{},Go())}function Gh(){return ba(Eg)}function ag(){return bi().memoizedState}function py(){return bi().memoizedState}function sg(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var p=Go();o=ft(p);var y=bt(c,o,p);y!==null&&(Qo(y,c,p),pt(y,c,p)),c={cache:Qm()},o.payload=c;return}c=c.return}}function og(o,c,p){var y=Go();p={lane:y,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},my(o)?rk(c,p):(p=oc(o,c,p,y),p!==null&&(Qo(p,o,y),ik(p,c,y)))}function nk(o,c,p){var y=Go();lg(o,c,p,y)}function lg(o,c,p,y){var k={lane:y,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(my(o))rk(c,k);else{var _=o.alternate;if(o.lanes===0&&(_===null||_.lanes===0)&&(_=c.lastRenderedReducer,_!==null))try{var J=c.lastRenderedState,fe=_(J,p);if(k.hasEagerState=!0,k.eagerState=fe,Ma(fe,J))return sc(o,c,k,0),ci===null&&bo(),!1}catch{}finally{}if(p=oc(o,c,k,y),p!==null)return Qo(p,o,y),ik(p,c,y),!0}return!1}function uw(o,c,p,y){if(y={lane:2,revertLane:Bw(),action:y,hasEagerState:!1,eagerState:null,next:null},my(o)){if(c)throw Error(r(479))}else c=oc(o,p,y,2),c!==null&&Qo(c,o,2)}function my(o){var c=o.alternate;return o===on||c!==null&&c===on}function rk(o,c){Pa=tr=!0;var p=o.pending;p===null?c.next=c:(c.next=p.next,p.next=c),o.pending=c}function ik(o,c,p){if((p&4194048)!==0){var y=c.lanes;y&=o.pendingLanes,p|=y,c.lanes=p,_n(o,p)}}var gy={readContext:ba,use:Ps,useCallback:pr,useContext:pr,useEffect:pr,useImperativeHandle:pr,useLayoutEffect:pr,useInsertionEffect:pr,useMemo:pr,useReducer:pr,useRef:pr,useState:pr,useDebugValue:pr,useDeferredValue:pr,useTransition:pr,useSyncExternalStore:pr,useId:pr,useHostTransitionStatus:pr,useFormState:pr,useActionState:pr,useOptimistic:pr,useMemoCache:pr,useCacheRefresh:pr},ak={readContext:ba,use:Ps,useCallback:function(o,c){return ys().memoizedState=[o,c===void 0?null:c],o},useContext:ba,useEffect:eg,useImperativeHandle:function(o,c,p){p=p!=null?p.concat([o]):null,Ho(4194308,4,fy.bind(null,c,o),p)},useLayoutEffect:function(o,c){return Ho(4194308,4,o,c)},useInsertionEffect:function(o,c){Ho(4,2,o,c)},useMemo:function(o,c){var p=ys();c=c===void 0?null:c;var y=o();if(xa){De(!0);try{o()}finally{De(!1)}}return p.memoizedState=[y,c],y},useReducer:function(o,c,p){var y=ys();if(p!==void 0){var k=p(c);if(xa){De(!0);try{p(c)}finally{De(!1)}}}else k=c;return y.memoizedState=y.baseState=k,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:k},y.queue=o,o=o.dispatch=og.bind(null,on,o),[y.memoizedState,o]},useRef:function(o){var c=ys();return o={current:o},c.memoizedState=o},useState:function(o){o=Uh(o);var c=o.queue,p=nk.bind(null,on,c);return c.dispatch=p,[o.memoizedState,p]},useDebugValue:rg,useDeferredValue:function(o,c){var p=ys();return jd(p,o,c)},useTransition:function(){var o=Uh(!1);return o=Wh.bind(null,on,o.queue,!0,!1),ys().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,p){var y=on,k=ys();if(or){if(p===void 0)throw Error(r(407));p=p()}else{if(p=c(),ci===null)throw Error(r(349));(nr&124)!==0||Jp(y,c,p)}k.memoizedState=p;var _={value:p,getSnapshot:c};return k.queue=_,eg(wf.bind(null,y,_,o),[o]),y.flags|=2048,pu(9,Vh(),$h.bind(null,y,_,p,c),null),p},useId:function(){var o=ys(),c=ci.identifierPrefix;if(or){var p=uu,y=lu;p=(y&~(1<<32-ke(y)-1)).toString(32)+p,c=""+c+"R"+p,p=zi++,0<p&&(c+="H"+p.toString(32)),c+=""}else p=vo++,c=""+c+"r"+p.toString(32)+"";return o.memoizedState=c},useHostTransitionStatus:Gh,useFormState:Hh,useActionState:Hh,useOptimistic:function(o){var c=ys();c.memoizedState=c.baseState=o;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=p,c=uw.bind(null,on,!0,p),p.dispatch=c,[o,c]},useMemoCache:mc,useCacheRefresh:function(){return ys().memoizedState=sg.bind(null,on)}},sk={readContext:ba,use:Ps,useCallback:ig,useContext:ba,useEffect:dy,useImperativeHandle:ng,useInsertionEffect:tg,useLayoutEffect:Ed,useMemo:hy,useReducer:qh,useRef:t0,useState:function(){return qh(Fs)},useDebugValue:rg,useDeferredValue:function(o,c){var p=bi();return n0(p,bn.memoizedState,o,c)},useTransition:function(){var o=qh(Fs)[0],c=bi().memoizedState;return[typeof o=="boolean"?o:pc(o),c]},useSyncExternalStore:Bh,useId:ag,useHostTransitionStatus:Gh,useFormState:e0,useActionState:e0,useOptimistic:function(o,c){var p=bi();return hu(p,bn,o,c)},useMemoCache:mc,useCacheRefresh:py},P9={readContext:ba,use:Ps,useCallback:ig,useContext:ba,useEffect:dy,useImperativeHandle:ng,useInsertionEffect:tg,useLayoutEffect:Ed,useMemo:hy,useReducer:Zp,useRef:t0,useState:function(){return Zp(Fs)},useDebugValue:rg,useDeferredValue:function(o,c){var p=bi();return bn===null?jd(p,o,c):n0(p,bn.memoizedState,o,c)},useTransition:function(){var o=Zp(Fs)[0],c=bi().memoizedState;return[typeof o=="boolean"?o:pc(o),c]},useSyncExternalStore:Bh,useId:ag,useHostTransitionStatus:Gh,useFormState:cy,useActionState:cy,useOptimistic:function(o,c){var p=bi();return bn!==null?hu(p,bn,o,c):(p.baseState=o,[o,p.queue.dispatch])},useMemoCache:mc,useCacheRefresh:py},r0=null,ug=0;function by(o){var c=ug;return ug+=1,r0===null&&(r0=[]),Ge(r0,o,c)}function cg(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function yy(o,c){throw c.$$typeof===m?Error(r(525)):(o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function ok(o){var c=o._init;return c(o._payload)}function lk(o){function c($e,Re){if(o){var Ye=$e.deletions;Ye===null?($e.deletions=[Re],$e.flags|=16):Ye.push(Re)}}function p($e,Re){if(!o)return null;for(;Re!==null;)c($e,Re),Re=Re.sibling;return null}function y($e){for(var Re=new Map;$e!==null;)$e.key!==null?Re.set($e.key,$e):Re.set($e.index,$e),$e=$e.sibling;return Re}function k($e,Re){return $e=wl($e,Re),$e.index=0,$e.sibling=null,$e}function _($e,Re,Ye){return $e.index=Ye,o?(Ye=$e.alternate,Ye!==null?(Ye=Ye.index,Ye<Re?($e.flags|=67108866,Re):Ye):($e.flags|=67108866,Re)):($e.flags|=1048576,Re)}function J($e){return o&&$e.alternate===null&&($e.flags|=67108866),$e}function fe($e,Re,Ye,mt){return Re===null||Re.tag!==6?(Re=Vp(Ye,$e.mode,mt),Re.return=$e,Re):(Re=k(Re,Ye),Re.return=$e,Re)}function Te($e,Re,Ye,mt){var Wt=Ye.type;return Wt===v?ht($e,Re,Ye.props.children,mt,Ye.key):Re!==null&&(Re.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===F&&ok(Wt)===Re.type)?(Re=k(Re,Ye.props),cg(Re,Ye),Re.return=$e,Re):(Re=xd(Ye.type,Ye.key,Ye.props,null,$e.mode,mt),cg(Re,Ye),Re.return=$e,Re)}function Xe($e,Re,Ye,mt){return Re===null||Re.tag!==4||Re.stateNode.containerInfo!==Ye.containerInfo||Re.stateNode.implementation!==Ye.implementation?(Re=Mh(Ye,$e.mode,mt),Re.return=$e,Re):(Re=k(Re,Ye.children||[]),Re.return=$e,Re)}function ht($e,Re,Ye,mt,Wt){return Re===null||Re.tag!==7?(Re=su(Ye,$e.mode,mt,Wt),Re.return=$e,Re):(Re=k(Re,Ye),Re.return=$e,Re)}function vt($e,Re,Ye){if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return Re=Vp(""+Re,$e.mode,Ye),Re.return=$e,Re;if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case b:return Ye=xd(Re.type,Re.key,Re.props,null,$e.mode,Ye),cg(Ye,Re),Ye.return=$e,Ye;case g:return Re=Mh(Re,$e.mode,Ye),Re.return=$e,Re;case F:var mt=Re._init;return Re=mt(Re._payload),vt($e,Re,Ye)}if(Q(Re)||D(Re))return Re=su(Re,$e.mode,Ye,null),Re.return=$e,Re;if(typeof Re.then=="function")return vt($e,by(Re),Ye);if(Re.$$typeof===N)return vt($e,dc($e,Re),Ye);yy($e,Re)}return null}function Je($e,Re,Ye,mt){var Wt=Re!==null?Re.key:null;if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint")return Wt!==null?null:fe($e,Re,""+Ye,mt);if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case b:return Ye.key===Wt?Te($e,Re,Ye,mt):null;case g:return Ye.key===Wt?Xe($e,Re,Ye,mt):null;case F:return Wt=Ye._init,Ye=Wt(Ye._payload),Je($e,Re,Ye,mt)}if(Q(Ye)||D(Ye))return Wt!==null?null:ht($e,Re,Ye,mt,null);if(typeof Ye.then=="function")return Je($e,Re,by(Ye),mt);if(Ye.$$typeof===N)return Je($e,Re,dc($e,Ye),mt);yy($e,Ye)}return null}function nt($e,Re,Ye,mt,Wt){if(typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint")return $e=$e.get(Ye)||null,fe(Re,$e,""+mt,Wt);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case b:return $e=$e.get(mt.key===null?Ye:mt.key)||null,Te(Re,$e,mt,Wt);case g:return $e=$e.get(mt.key===null?Ye:mt.key)||null,Xe(Re,$e,mt,Wt);case F:var Un=mt._init;return mt=Un(mt._payload),nt($e,Re,Ye,mt,Wt)}if(Q(mt)||D(mt))return $e=$e.get(Ye)||null,ht(Re,$e,mt,Wt,null);if(typeof mt.then=="function")return nt($e,Re,Ye,by(mt),Wt);if(mt.$$typeof===N)return nt($e,Re,Ye,dc(Re,mt),Wt);yy(Re,mt)}return null}function xn($e,Re,Ye,mt){for(var Wt=null,Un=null,rn=Re,hn=Re=0,ss=null;rn!==null&&hn<Ye.length;hn++){rn.index>hn?(ss=rn,rn=null):ss=rn.sibling;var mr=Je($e,rn,Ye[hn],mt);if(mr===null){rn===null&&(rn=ss);break}o&&rn&&mr.alternate===null&&c($e,rn),Re=_(mr,Re,hn),Un===null?Wt=mr:Un.sibling=mr,Un=mr,rn=ss}if(hn===Ye.length)return p($e,rn),or&&wd($e,hn),Wt;if(rn===null){for(;hn<Ye.length;hn++)rn=vt($e,Ye[hn],mt),rn!==null&&(Re=_(rn,Re,hn),Un===null?Wt=rn:Un.sibling=rn,Un=rn);return or&&wd($e,hn),Wt}for(rn=y(rn);hn<Ye.length;hn++)ss=nt(rn,$e,hn,Ye[hn],mt),ss!==null&&(o&&ss.alternate!==null&&rn.delete(ss.key===null?hn:ss.key),Re=_(ss,Re,hn),Un===null?Wt=ss:Un.sibling=ss,Un=ss);return o&&rn.forEach(function(qf){return c($e,qf)}),or&&wd($e,hn),Wt}function dn($e,Re,Ye,mt){if(Ye==null)throw Error(r(151));for(var Wt=null,Un=null,rn=Re,hn=Re=0,ss=null,mr=Ye.next();rn!==null&&!mr.done;hn++,mr=Ye.next()){rn.index>hn?(ss=rn,rn=null):ss=rn.sibling;var qf=Je($e,rn,mr.value,mt);if(qf===null){rn===null&&(rn=ss);break}o&&rn&&qf.alternate===null&&c($e,rn),Re=_(qf,Re,hn),Un===null?Wt=qf:Un.sibling=qf,Un=qf,rn=ss}if(mr.done)return p($e,rn),or&&wd($e,hn),Wt;if(rn===null){for(;!mr.done;hn++,mr=Ye.next())mr=vt($e,mr.value,mt),mr!==null&&(Re=_(mr,Re,hn),Un===null?Wt=mr:Un.sibling=mr,Un=mr);return or&&wd($e,hn),Wt}for(rn=y(rn);!mr.done;hn++,mr=Ye.next())mr=nt(rn,$e,hn,mr.value,mt),mr!==null&&(o&&mr.alternate!==null&&rn.delete(mr.key===null?hn:mr.key),Re=_(mr,Re,hn),Un===null?Wt=mr:Un.sibling=mr,Un=mr);return o&&rn.forEach(function(FR){return c($e,FR)}),or&&wd($e,hn),Wt}function Yr($e,Re,Ye,mt){if(typeof Ye=="object"&&Ye!==null&&Ye.type===v&&Ye.key===null&&(Ye=Ye.props.children),typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case b:e:{for(var Wt=Ye.key;Re!==null;){if(Re.key===Wt){if(Wt=Ye.type,Wt===v){if(Re.tag===7){p($e,Re.sibling),mt=k(Re,Ye.props.children),mt.return=$e,$e=mt;break e}}else if(Re.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===F&&ok(Wt)===Re.type){p($e,Re.sibling),mt=k(Re,Ye.props),cg(mt,Ye),mt.return=$e,$e=mt;break e}p($e,Re);break}else c($e,Re);Re=Re.sibling}Ye.type===v?(mt=su(Ye.props.children,$e.mode,mt,Ye.key),mt.return=$e,$e=mt):(mt=xd(Ye.type,Ye.key,Ye.props,null,$e.mode,mt),cg(mt,Ye),mt.return=$e,$e=mt)}return J($e);case g:e:{for(Wt=Ye.key;Re!==null;){if(Re.key===Wt)if(Re.tag===4&&Re.stateNode.containerInfo===Ye.containerInfo&&Re.stateNode.implementation===Ye.implementation){p($e,Re.sibling),mt=k(Re,Ye.children||[]),mt.return=$e,$e=mt;break e}else{p($e,Re);break}else c($e,Re);Re=Re.sibling}mt=Mh(Ye,$e.mode,mt),mt.return=$e,$e=mt}return J($e);case F:return Wt=Ye._init,Ye=Wt(Ye._payload),Yr($e,Re,Ye,mt)}if(Q(Ye))return xn($e,Re,Ye,mt);if(D(Ye)){if(Wt=D(Ye),typeof Wt!="function")throw Error(r(150));return Ye=Wt.call(Ye),dn($e,Re,Ye,mt)}if(typeof Ye.then=="function")return Yr($e,Re,by(Ye),mt);if(Ye.$$typeof===N)return Yr($e,Re,dc($e,Ye),mt);yy($e,Ye)}return typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint"?(Ye=""+Ye,Re!==null&&Re.tag===6?(p($e,Re.sibling),mt=k(Re,Ye),mt.return=$e,$e=mt):(p($e,Re),mt=Vp(Ye,$e.mode,mt),mt.return=$e,$e=mt),J($e)):p($e,Re)}return function($e,Re,Ye,mt){try{ug=0;var Wt=Yr($e,Re,Ye,mt);return r0=null,Wt}catch(rn){if(rn===le||rn===ce)throw rn;var Un=rs(29,rn,null,$e.mode);return Un.lanes=mt,Un.return=$e,Un}finally{}}}var i0=lk(!0),uk=lk(!1),jl=me(null),gc=null;function kf(o){var c=o.alternate;z(Ya,Ya.current&1),z(jl,o),gc===null&&(c===null||zn.current!==null||c.memoizedState!==null)&&(gc=o)}function ck(o){if(o.tag===22){if(z(Ya,Ya.current),z(jl,o),gc===null){var c=o.alternate;c!==null&&c.memoizedState!==null&&(gc=o)}}else Ef()}function Ef(){z(Ya,Ya.current),z(jl,jl.current)}function Td(o){q(jl),gc===o&&(gc=null),q(Ya)}var Ya=me(0);function xy(o){for(var c=o;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||Jw(p)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function cw(o,c,p,y){c=o.memoizedState,p=p(y,c),p=p==null?c:h({},c,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var dw={enqueueSetState:function(o,c,p){o=o._reactInternals;var y=Go(),k=ft(y);k.payload=c,p!=null&&(k.callback=p),c=bt(o,k,y),c!==null&&(Qo(c,o,y),pt(c,o,y))},enqueueReplaceState:function(o,c,p){o=o._reactInternals;var y=Go(),k=ft(y);k.tag=1,k.payload=c,p!=null&&(k.callback=p),c=bt(o,k,y),c!==null&&(Qo(c,o,y),pt(c,o,y))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var p=Go(),y=ft(p);y.tag=2,c!=null&&(y.callback=c),c=bt(o,y,p),c!==null&&(Qo(c,o,p),pt(c,o,p))}};function dk(o,c,p,y,k,_,J){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,_,J):c.prototype&&c.prototype.isPureReactComponent?!Ju(p,y)||!Ju(k,_):!0}function fk(o,c,p,y){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,y),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,y),c.state!==o&&dw.enqueueReplaceState(c,c.state,null)}function Qh(o,c){var p=c;if("ref"in c){p={};for(var y in c)y!=="ref"&&(p[y]=c[y])}if(o=o.defaultProps){p===c&&(p=h({},p));for(var k in o)p[k]===void 0&&(p[k]=o[k])}return p}var vy=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function hk(o){vy(o)}function pk(o){console.error(o)}function mk(o){vy(o)}function wy(o,c){try{var p=o.onUncaughtError;p(c.value,{componentStack:c.stack})}catch(y){setTimeout(function(){throw y})}}function gk(o,c,p){try{var y=o.onCaughtError;y(p.value,{componentStack:p.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(k){setTimeout(function(){throw k})}}function fw(o,c,p){return p=ft(p),p.tag=3,p.payload={element:null},p.callback=function(){wy(o,c)},p}function bk(o){return o=ft(o),o.tag=3,o}function yk(o,c,p,y){var k=p.type.getDerivedStateFromError;if(typeof k=="function"){var _=y.value;o.payload=function(){return k(_)},o.callback=function(){gk(c,p,y)}}var J=p.stateNode;J!==null&&typeof J.componentDidCatch=="function"&&(o.callback=function(){gk(c,p,y),typeof k!="function"&&(If===null?If=new Set([this]):If.add(this));var fe=y.stack;this.componentDidCatch(y.value,{componentStack:fe!==null?fe:""})})}function F9(o,c,p,y,k){if(p.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(c=p.alternate,c!==null&&xf(c,p,k,!0),p=jl.current,p!==null){switch(p.tag){case 13:return gc===null?Rw():p.alternate===null&&na===0&&(na=3),p.flags&=-257,p.flags|=65536,p.lanes=k,y===be?p.flags|=16384:(c=p.updateQueue,c===null?p.updateQueue=new Set([y]):c.add(y),Fw(o,y,k)),!1;case 22:return p.flags|=65536,y===be?p.flags|=16384:(c=p.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([y])},p.updateQueue=c):(p=c.retryQueue,p===null?c.retryQueue=new Set([y]):p.add(y)),Fw(o,y,k)),!1}throw Error(r(435,p.tag))}return Fw(o,y,k),Rw(),!1}if(or)return c=jl.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=k,y!==Gm&&(o=Error(r(422),{cause:y}),yf(qn(o,p)))):(y!==Gm&&(c=Error(r(423),{cause:y}),yf(qn(c,p))),o=o.current.alternate,o.flags|=65536,k&=-k,o.lanes|=k,y=qn(y,p),k=fw(o.stateNode,y,k),Lt(o,k),na!==4&&(na=2)),!1;var _=Error(r(520),{cause:y});if(_=qn(_,p),bg===null?bg=[_]:bg.push(_),na!==4&&(na=2),c===null)return!0;y=qn(y,p),p=c;do{switch(p.tag){case 3:return p.flags|=65536,o=k&-k,p.lanes|=o,o=fw(p.stateNode,y,o),Lt(p,o),!1;case 1:if(c=p.type,_=p.stateNode,(p.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(If===null||!If.has(_))))return p.flags|=65536,k&=-k,p.lanes|=k,k=bk(k),yk(k,o,p,y),Lt(p,k),!1}p=p.return}while(p!==null);return!1}var xk=Error(r(461)),is=!1;function xs(o,c,p,y){c.child=o===null?uk(c,null,p,y):i0(c,o.child,p,y)}function vk(o,c,p,y,k){p=p.render;var _=c.ref;if("ref"in y){var J={};for(var fe in y)fe!=="ref"&&(J[fe]=y[fe])}else J=y;return kl(c),y=Uo(o,c,p,J,_,k),fe=ui(),o!==null&&!is?(zh(o,c,k),Nd(o,c,k)):(or&&fe&&Lh(c),c.flags|=1,xs(o,c,y,k),c.child)}function wk(o,c,p,y,k){if(o===null){var _=p.type;return typeof _=="function"&&!gf(_)&&_.defaultProps===void 0&&p.compare===null?(c.tag=15,c.type=_,Sk(o,c,_,y,k)):(o=xd(p.type,null,y,c,c.mode,k),o.ref=c.ref,o.return=c,c.child=o)}if(_=o.child,!vw(o,k)){var J=_.memoizedProps;if(p=p.compare,p=p!==null?p:Ju,p(J,y)&&o.ref===c.ref)return Nd(o,c,k)}return c.flags|=1,o=wl(_,y),o.ref=c.ref,o.return=c,c.child=o}function Sk(o,c,p,y,k){if(o!==null){var _=o.memoizedProps;if(Ju(_,y)&&o.ref===c.ref)if(is=!1,c.pendingProps=y=_,vw(o,k))(o.flags&131072)!==0&&(is=!0);else return c.lanes=o.lanes,Nd(o,c,k)}return hw(o,c,p,y,k)}function Ck(o,c,p){var y=c.pendingProps,k=y.children,_=o!==null?o.memoizedState:null;if(y.mode==="hidden"){if((c.flags&128)!==0){if(y=_!==null?_.baseLanes|p:p,o!==null){for(k=c.child=o.child,_=0;k!==null;)_=_|k.lanes|k.childLanes,k=k.sibling;c.childLanes=_&~y}else c.childLanes=0,c.child=null;return Ak(o,c,y,p)}if((p&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&G(c,_!==null?_.cachePool:null),_!==null?Nr(c,_):hr(),ck(c);else return c.lanes=c.childLanes=536870912,Ak(o,c,_!==null?_.baseLanes|p:p,p)}else _!==null?(G(c,_.cachePool),Nr(c,_),Ef(),c.memoizedState=null):(o!==null&&G(c,null),hr(),Ef());return xs(o,c,k,p),c.child}function Ak(o,c,p,y){var k=R();return k=k===null?null:{parent:ya._currentValue,pool:k},c.memoizedState={baseLanes:p,cachePool:k},o!==null&&G(c,null),hr(),ck(c),o!==null&&xf(o,c,y,!0),null}function Sy(o,c){var p=c.ref;if(p===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(o===null||o.ref!==p)&&(c.flags|=4194816)}}function hw(o,c,p,y,k){return kl(c),p=Uo(o,c,p,y,void 0,k),y=ui(),o!==null&&!is?(zh(o,c,k),Nd(o,c,k)):(or&&y&&Lh(c),c.flags|=1,xs(o,c,p,k),c.child)}function kk(o,c,p,y,k,_){return kl(c),c.updateQueue=null,p=Ad(c,y,p,k),fc(o),y=ui(),o!==null&&!is?(zh(o,c,_),Nd(o,c,_)):(or&&y&&Lh(c),c.flags|=1,xs(o,c,p,_),c.child)}function Ek(o,c,p,y,k){if(kl(c),c.stateNode===null){var _=La,J=p.contextType;typeof J=="object"&&J!==null&&(_=ba(J)),_=new p(y,_),c.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=dw,c.stateNode=_,_._reactInternals=c,_=c.stateNode,_.props=y,_.state=c.memoizedState,_.refs={},Le(c),J=p.contextType,_.context=typeof J=="object"&&J!==null?ba(J):La,_.state=c.memoizedState,J=p.getDerivedStateFromProps,typeof J=="function"&&(cw(c,p,J,y),_.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(J=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),J!==_.state&&dw.enqueueReplaceState(_,_.state,null),_t(c,y,_,k),Jt(),_.state=c.memoizedState),typeof _.componentDidMount=="function"&&(c.flags|=4194308),y=!0}else if(o===null){_=c.stateNode;var fe=c.memoizedProps,Te=Qh(p,fe);_.props=Te;var Xe=_.context,ht=p.contextType;J=La,typeof ht=="object"&&ht!==null&&(J=ba(ht));var vt=p.getDerivedStateFromProps;ht=typeof vt=="function"||typeof _.getSnapshotBeforeUpdate=="function",fe=c.pendingProps!==fe,ht||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(fe||Xe!==J)&&fk(c,_,y,J),rt=!1;var Je=c.memoizedState;_.state=Je,_t(c,y,_,k),Jt(),Xe=c.memoizedState,fe||Je!==Xe||rt?(typeof vt=="function"&&(cw(c,p,vt,y),Xe=c.memoizedState),(Te=rt||dk(c,p,Te,y,Je,Xe,J))?(ht||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(c.flags|=4194308)):(typeof _.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=y,c.memoizedState=Xe),_.props=y,_.state=Xe,_.context=J,y=Te):(typeof _.componentDidMount=="function"&&(c.flags|=4194308),y=!1)}else{_=c.stateNode,Fe(o,c),J=c.memoizedProps,ht=Qh(p,J),_.props=ht,vt=c.pendingProps,Je=_.context,Xe=p.contextType,Te=La,typeof Xe=="object"&&Xe!==null&&(Te=ba(Xe)),fe=p.getDerivedStateFromProps,(Xe=typeof fe=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(J!==vt||Je!==Te)&&fk(c,_,y,Te),rt=!1,Je=c.memoizedState,_.state=Je,_t(c,y,_,k),Jt();var nt=c.memoizedState;J!==vt||Je!==nt||rt||o!==null&&o.dependencies!==null&&Qp(o.dependencies)?(typeof fe=="function"&&(cw(c,p,fe,y),nt=c.memoizedState),(ht=rt||dk(c,p,ht,y,Je,nt,Te)||o!==null&&o.dependencies!==null&&Qp(o.dependencies))?(Xe||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(y,nt,Te),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(y,nt,Te)),typeof _.componentDidUpdate=="function"&&(c.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof _.componentDidUpdate!="function"||J===o.memoizedProps&&Je===o.memoizedState||(c.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||J===o.memoizedProps&&Je===o.memoizedState||(c.flags|=1024),c.memoizedProps=y,c.memoizedState=nt),_.props=y,_.state=nt,_.context=Te,y=ht):(typeof _.componentDidUpdate!="function"||J===o.memoizedProps&&Je===o.memoizedState||(c.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||J===o.memoizedProps&&Je===o.memoizedState||(c.flags|=1024),y=!1)}return _=y,Sy(o,c),y=(c.flags&128)!==0,_||y?(_=c.stateNode,p=y&&typeof p.getDerivedStateFromError!="function"?null:_.render(),c.flags|=1,o!==null&&y?(c.child=i0(c,o.child,null,k),c.child=i0(c,null,p,k)):xs(o,c,p,k),c.memoizedState=_.state,o=c.child):o=Nd(o,c,k),o}function jk(o,c,p,y){return so(),c.flags|=256,xs(o,c,p,y),c.child}var pw={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mw(o){return{baseLanes:o,cachePool:ie()}}function gw(o,c,p){return o=o!==null?o.childLanes&~p:0,c&&(o|=Tl),o}function Tk(o,c,p){var y=c.pendingProps,k=!1,_=(c.flags&128)!==0,J;if((J=_)||(J=o!==null&&o.memoizedState===null?!1:(Ya.current&2)!==0),J&&(k=!0,c.flags&=-129),J=(c.flags&32)!==0,c.flags&=-33,o===null){if(or){if(k?kf(c):Ef(),or){var fe=Ai,Te;if(Te=fe){e:{for(Te=fe,fe=Sl;Te.nodeType!==8;){if(!fe){fe=null;break e}if(Te=yu(Te.nextSibling),Te===null){fe=null;break e}}fe=Te}fe!==null?(c.memoizedState={dehydrated:fe,treeContext:vd!==null?{id:lu,overflow:uu}:null,retryLane:536870912,hydrationErrors:null},Te=rs(18,null,null,0),Te.stateNode=fe,Te.return=c,c.child=Te,ga=c,Ai=null,Te=!0):Te=!1}Te||Sd(c)}if(fe=c.memoizedState,fe!==null&&(fe=fe.dehydrated,fe!==null))return Jw(fe)?c.lanes=32:c.lanes=536870912,null;Td(c)}return fe=y.children,y=y.fallback,k?(Ef(),k=c.mode,fe=Cy({mode:"hidden",children:fe},k),y=su(y,k,p,null),fe.return=c,y.return=c,fe.sibling=y,c.child=fe,k=c.child,k.memoizedState=mw(p),k.childLanes=gw(o,J,p),c.memoizedState=pw,y):(kf(c),bw(c,fe))}if(Te=o.memoizedState,Te!==null&&(fe=Te.dehydrated,fe!==null)){if(_)c.flags&256?(kf(c),c.flags&=-257,c=yw(o,c,p)):c.memoizedState!==null?(Ef(),c.child=o.child,c.flags|=128,c=null):(Ef(),k=y.fallback,fe=c.mode,y=Cy({mode:"visible",children:y.children},fe),k=su(k,fe,p,null),k.flags|=2,y.return=c,k.return=c,y.sibling=k,c.child=y,i0(c,o.child,null,p),y=c.child,y.memoizedState=mw(p),y.childLanes=gw(o,J,p),c.memoizedState=pw,c=k);else if(kf(c),Jw(fe)){if(J=fe.nextSibling&&fe.nextSibling.dataset,J)var Xe=J.dgst;J=Xe,y=Error(r(419)),y.stack="",y.digest=J,yf({value:y,source:null,stack:null}),c=yw(o,c,p)}else if(is||xf(o,c,p,!1),J=(p&o.childLanes)!==0,is||J){if(J=ci,J!==null&&(y=p&-p,y=(y&42)!==0?1:fa(y),y=(y&(J.suspendedLanes|p))!==0?0:y,y!==0&&y!==Te.retryLane))throw Te.retryLane=y,au(o,y),Qo(J,o,y),xk;fe.data==="$?"||Rw(),c=yw(o,c,p)}else fe.data==="$?"?(c.flags|=192,c.child=o.child,c=null):(o=Te.treeContext,Ai=yu(fe.nextSibling),ga=c,or=!0,uc=null,Sl=!1,o!==null&&(xo[ao++]=lu,xo[ao++]=uu,xo[ao++]=vd,lu=o.id,uu=o.overflow,vd=c),c=bw(c,y.children),c.flags|=4096);return c}return k?(Ef(),k=y.fallback,fe=c.mode,Te=o.child,Xe=Te.sibling,y=wl(Te,{mode:"hidden",children:y.children}),y.subtreeFlags=Te.subtreeFlags&65011712,Xe!==null?k=wl(Xe,k):(k=su(k,fe,p,null),k.flags|=2),k.return=c,y.return=c,y.sibling=k,c.child=y,y=k,k=c.child,fe=o.child.memoizedState,fe===null?fe=mw(p):(Te=fe.cachePool,Te!==null?(Xe=ya._currentValue,Te=Te.parent!==Xe?{parent:Xe,pool:Xe}:Te):Te=ie(),fe={baseLanes:fe.baseLanes|p,cachePool:Te}),k.memoizedState=fe,k.childLanes=gw(o,J,p),c.memoizedState=pw,y):(kf(c),p=o.child,o=p.sibling,p=wl(p,{mode:"visible",children:y.children}),p.return=c,p.sibling=null,o!==null&&(J=c.deletions,J===null?(c.deletions=[o],c.flags|=16):J.push(o)),c.child=p,c.memoizedState=null,p)}function bw(o,c){return c=Cy({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function Cy(o,c){return o=rs(22,o,null,c),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function yw(o,c,p){return i0(c,o.child,null,p),o=bw(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function Nk(o,c,p){o.lanes|=c;var y=o.alternate;y!==null&&(y.lanes|=c),Yp(o.return,c,p)}function xw(o,c,p,y,k){var _=o.memoizedState;_===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:k}:(_.isBackwards=c,_.rendering=null,_.renderingStartTime=0,_.last=y,_.tail=p,_.tailMode=k)}function Dk(o,c,p){var y=c.pendingProps,k=y.revealOrder,_=y.tail;if(xs(o,c,y.children,p),y=Ya.current,(y&2)!==0)y=y&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Nk(o,p,c);else if(o.tag===19)Nk(o,p,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}y&=1}switch(z(Ya,y),k){case"forwards":for(p=c.child,k=null;p!==null;)o=p.alternate,o!==null&&xy(o)===null&&(k=p),p=p.sibling;p=k,p===null?(k=c.child,c.child=null):(k=p.sibling,p.sibling=null),xw(c,!1,k,p,_);break;case"backwards":for(p=null,k=c.child,c.child=null;k!==null;){if(o=k.alternate,o!==null&&xy(o)===null){c.child=k;break}o=k.sibling,k.sibling=p,p=k,k=o}xw(c,!0,p,null,_);break;case"together":xw(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Nd(o,c,p){if(o!==null&&(c.dependencies=o.dependencies),_f|=c.lanes,(p&c.childLanes)===0)if(o!==null){if(xf(o,c,p,!1),(p&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,p=wl(o,o.pendingProps),c.child=p,p.return=c;o.sibling!==null;)o=o.sibling,p=p.sibling=wl(o,o.pendingProps),p.return=c;p.sibling=null}return c.child}function vw(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&Qp(o)))}function z9(o,c,p){switch(c.tag){case 3:de(c,c.stateNode.containerInfo),cc(c,ya,o.memoizedState.cache),so();break;case 27:case 5:we(c);break;case 4:de(c,c.stateNode.containerInfo);break;case 10:cc(c,c.type,c.memoizedProps.value);break;case 13:var y=c.memoizedState;if(y!==null)return y.dehydrated!==null?(kf(c),c.flags|=128,null):(p&c.child.childLanes)!==0?Tk(o,c,p):(kf(c),o=Nd(o,c,p),o!==null?o.sibling:null);kf(c);break;case 19:var k=(o.flags&128)!==0;if(y=(p&c.childLanes)!==0,y||(xf(o,c,p,!1),y=(p&c.childLanes)!==0),k){if(y)return Dk(o,c,p);c.flags|=128}if(k=c.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),z(Ya,Ya.current),y)break;return null;case 22:case 23:return c.lanes=0,Ck(o,c,p);case 24:cc(c,ya,o.memoizedState.cache)}return Nd(o,c,p)}function _k(o,c,p){if(o!==null)if(o.memoizedProps!==c.pendingProps)is=!0;else{if(!vw(o,p)&&(c.flags&128)===0)return is=!1,z9(o,c,p);is=(o.flags&131072)!==0}else is=!1,or&&(c.flags&1048576)!==0&&Jb(c,Wp,c.index);switch(c.lanes=0,c.tag){case 16:e:{o=c.pendingProps;var y=c.elementType,k=y._init;if(y=k(y._payload),c.type=y,typeof y=="function")gf(y)?(o=Qh(y,o),c.tag=1,c=Ek(null,c,y,o,p)):(c.tag=0,c=hw(null,c,y,o,p));else{if(y!=null){if(k=y.$$typeof,k===P){c.tag=11,c=vk(null,c,y,o,p);break e}else if(k===j){c.tag=14,c=wk(null,c,y,o,p);break e}}throw c=L(y)||y,Error(r(306,c,""))}}return c;case 0:return hw(o,c,c.type,c.pendingProps,p);case 1:return y=c.type,k=Qh(y,c.pendingProps),Ek(o,c,y,k,p);case 3:e:{if(de(c,c.stateNode.containerInfo),o===null)throw Error(r(387));y=c.pendingProps;var _=c.memoizedState;k=_.element,Fe(o,c),_t(c,y,null,p);var J=c.memoizedState;if(y=J.cache,cc(c,ya,y),y!==_.cache&&Gp(c,[ya],p,!0),Jt(),y=J.element,_.isDehydrated)if(_={element:y,isDehydrated:!1,cache:J.cache},c.updateQueue.baseState=_,c.memoizedState=_,c.flags&256){c=jk(o,c,y,p);break e}else if(y!==k){k=qn(Error(r(424)),c),yf(k),c=jk(o,c,y,p);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Ai=yu(o.firstChild),ga=c,or=!0,uc=null,Sl=!0,p=uk(c,null,y,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(so(),y===k){c=Nd(o,c,p);break e}xs(o,c,y,p)}c=c.child}return c;case 26:return Sy(o,c),o===null?(p=LE(c.type,null,c.pendingProps,null))?c.memoizedState=p:or||(p=c.type,o=c.pendingProps,y=Py(ee.current).createElement(p),y[Zn]=c,y[dr]=o,ws(y,p,o),sr(y),c.stateNode=y):c.memoizedState=LE(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return we(c),o===null&&or&&(y=c.stateNode=IE(c.type,c.pendingProps,ee.current),ga=c,Sl=!0,k=Ai,Lf(c.type)?(e5=k,Ai=yu(y.firstChild)):Ai=k),xs(o,c,c.pendingProps.children,p),Sy(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&or&&((k=y=Ai)&&(y=hR(y,c.type,c.pendingProps,Sl),y!==null?(c.stateNode=y,ga=c,Ai=yu(y.firstChild),Sl=!1,k=!0):k=!1),k||Sd(c)),we(c),k=c.type,_=c.pendingProps,J=o!==null?o.memoizedProps:null,y=_.children,Kw(k,_)?y=null:J!==null&&Kw(k,J)&&(c.flags|=32),c.memoizedState!==null&&(k=Uo(o,c,hc,null,null,p),Eg._currentValue=k),Sy(o,c),xs(o,c,y,p),c.child;case 6:return o===null&&or&&((o=p=Ai)&&(p=pR(p,c.pendingProps,Sl),p!==null?(c.stateNode=p,ga=c,Ai=null,o=!0):o=!1),o||Sd(c)),null;case 13:return Tk(o,c,p);case 4:return de(c,c.stateNode.containerInfo),y=c.pendingProps,o===null?c.child=i0(c,null,y,p):xs(o,c,y,p),c.child;case 11:return vk(o,c,c.type,c.pendingProps,p);case 7:return xs(o,c,c.pendingProps,p),c.child;case 8:return xs(o,c,c.pendingProps.children,p),c.child;case 12:return xs(o,c,c.pendingProps.children,p),c.child;case 10:return y=c.pendingProps,cc(c,c.type,y.value),xs(o,c,y.children,p),c.child;case 9:return k=c.type._context,y=c.pendingProps.children,kl(c),k=ba(k),y=y(k),c.flags|=1,xs(o,c,y,p),c.child;case 14:return wk(o,c,c.type,c.pendingProps,p);case 15:return Sk(o,c,c.type,c.pendingProps,p);case 19:return Dk(o,c,p);case 31:return y=c.pendingProps,p=c.mode,y={mode:y.mode,children:y.children},o===null?(p=Cy(y,p),p.ref=c.ref,c.child=p,p.return=c,c=p):(p=wl(o.child,y),p.ref=c.ref,c.child=p,p.return=c,c=p),c;case 22:return Ck(o,c,p);case 24:return kl(c),y=ba(ya),o===null?(k=R(),k===null&&(k=ci,_=Qm(),k.pooledCache=_,_.refCount++,_!==null&&(k.pooledCacheLanes|=p),k=_),c.memoizedState={parent:y,cache:k},Le(c),cc(c,ya,k)):((o.lanes&p)!==0&&(Fe(o,c),_t(c,null,null,p),Jt()),k=o.memoizedState,_=c.memoizedState,k.parent!==y?(k={parent:y,cache:y},c.memoizedState=k,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=k),cc(c,ya,y)):(y=_.cache,cc(c,ya,y),y!==k.cache&&Gp(c,[ya],p,!0))),xs(o,c,c.pendingProps.children,p),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function Dd(o){o.flags|=4}function Ik(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!qE(c)){if(c=jl.current,c!==null&&((nr&4194048)===nr?gc!==null:(nr&62914560)!==nr&&(nr&536870912)===0||c!==gc))throw We=be,ue;o.flags|=8192}}function Ay(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?vn():536870912,o.lanes|=c,l0|=c)}function dg(o,c){if(!or)switch(o.tailMode){case"hidden":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function Bi(o){var c=o.alternate!==null&&o.alternate.child===o.child,p=0,y=0;if(c)for(var k=o.child;k!==null;)p|=k.lanes|k.childLanes,y|=k.subtreeFlags&65011712,y|=k.flags&65011712,k.return=o,k=k.sibling;else for(k=o.child;k!==null;)p|=k.lanes|k.childLanes,y|=k.subtreeFlags,y|=k.flags,k.return=o,k=k.sibling;return o.subtreeFlags|=y,o.childLanes=p,c}function q9(o,c,p){var y=c.pendingProps;switch(Rh(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bi(c),null;case 1:return Bi(c),null;case 3:return p=c.stateNode,y=null,o!==null&&(y=o.memoizedState.cache),c.memoizedState.cache!==y&&(c.flags|=2048),Al(ya),ye(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(bs(c)?Dd(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,ty())),Bi(c),null;case 26:return p=c.memoizedState,o===null?(Dd(c),p!==null?(Bi(c),Ik(c,p)):(Bi(c),c.flags&=-16777217)):p?p!==o.memoizedState?(Dd(c),Bi(c),Ik(c,p)):(Bi(c),c.flags&=-16777217):(o.memoizedProps!==y&&Dd(c),Bi(c),c.flags&=-16777217),null;case 27:ve(c),p=ee.current;var k=c.type;if(o!==null&&c.stateNode!=null)o.memoizedProps!==y&&Dd(c);else{if(!y){if(c.stateNode===null)throw Error(r(166));return Bi(c),null}o=ne.current,bs(c)?ey(c):(o=IE(k,y,p),c.stateNode=o,Dd(c))}return Bi(c),null;case 5:if(ve(c),p=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==y&&Dd(c);else{if(!y){if(c.stateNode===null)throw Error(r(166));return Bi(c),null}if(o=ne.current,bs(c))ey(c);else{switch(k=Py(ee.current),o){case 1:o=k.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:o=k.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":o=k.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":o=k.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":o=k.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof y.is=="string"?k.createElement("select",{is:y.is}):k.createElement("select"),y.multiple?o.multiple=!0:y.size&&(o.size=y.size);break;default:o=typeof y.is=="string"?k.createElement(p,{is:y.is}):k.createElement(p)}}o[Zn]=c,o[dr]=y;e:for(k=c.child;k!==null;){if(k.tag===5||k.tag===6)o.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===c)break e;for(;k.sibling===null;){if(k.return===null||k.return===c)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}c.stateNode=o;e:switch(ws(o,p,y),p){case"button":case"input":case"select":case"textarea":o=!!y.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Dd(c)}}return Bi(c),c.flags&=-16777217,null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==y&&Dd(c);else{if(typeof y!="string"&&c.stateNode===null)throw Error(r(166));if(o=ee.current,bs(c)){if(o=c.stateNode,p=c.memoizedProps,y=null,k=ga,k!==null)switch(k.tag){case 27:case 5:y=k.memoizedProps}o[Zn]=c,o=!!(o.nodeValue===p||y!==null&&y.suppressHydrationWarning===!0||kE(o.nodeValue,p)),o||Sd(c)}else o=Py(o).createTextNode(y),o[Zn]=c,c.stateNode=o}return Bi(c),null;case 13:if(y=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(k=bs(c),y!==null&&y.dehydrated!==null){if(o===null){if(!k)throw Error(r(318));if(k=c.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(r(317));k[Zn]=c}else so(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Bi(c),k=!1}else k=ty(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=k),k=!0;if(!k)return c.flags&256?(Td(c),c):(Td(c),null)}if(Td(c),(c.flags&128)!==0)return c.lanes=p,c;if(p=y!==null,o=o!==null&&o.memoizedState!==null,p){y=c.child,k=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(k=y.alternate.memoizedState.cachePool.pool);var _=null;y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(_=y.memoizedState.cachePool.pool),_!==k&&(y.flags|=2048)}return p!==o&&p&&(c.child.flags|=8192),Ay(c,c.updateQueue),Bi(c),null;case 4:return ye(),o===null&&Vw(c.stateNode.containerInfo),Bi(c),null;case 10:return Al(c.type),Bi(c),null;case 19:if(q(Ya),k=c.memoizedState,k===null)return Bi(c),null;if(y=(c.flags&128)!==0,_=k.rendering,_===null)if(y)dg(k,!1);else{if(na!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(_=xy(o),_!==null){for(c.flags|=128,dg(k,!1),o=_.updateQueue,c.updateQueue=o,Ay(c,o),c.subtreeFlags=0,o=p,p=c.child;p!==null;)Oh(p,o),p=p.sibling;return z(Ya,Ya.current&1|2),c.child}o=o.sibling}k.tail!==null&&tt()>jy&&(c.flags|=128,y=!0,dg(k,!1),c.lanes=4194304)}else{if(!y)if(o=xy(_),o!==null){if(c.flags|=128,y=!0,o=o.updateQueue,c.updateQueue=o,Ay(c,o),dg(k,!0),k.tail===null&&k.tailMode==="hidden"&&!_.alternate&&!or)return Bi(c),null}else 2*tt()-k.renderingStartTime>jy&&p!==536870912&&(c.flags|=128,y=!0,dg(k,!1),c.lanes=4194304);k.isBackwards?(_.sibling=c.child,c.child=_):(o=k.last,o!==null?o.sibling=_:c.child=_,k.last=_)}return k.tail!==null?(c=k.tail,k.rendering=c,k.tail=c.sibling,k.renderingStartTime=tt(),c.sibling=null,o=Ya.current,z(Ya,y?o&1|2:o&1),c):(Bi(c),null);case 22:case 23:return Td(c),kn(),y=c.memoizedState!==null,o!==null?o.memoizedState!==null!==y&&(c.flags|=8192):y&&(c.flags|=8192),y?(p&536870912)!==0&&(c.flags&128)===0&&(Bi(c),c.subtreeFlags&6&&(c.flags|=8192)):Bi(c),p=c.updateQueue,p!==null&&Ay(c,p.retryQueue),p=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),y=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==p&&(c.flags|=2048),o!==null&&q(E),null;case 24:return p=null,o!==null&&(p=o.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),Al(ya),Bi(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function B9(o,c){switch(Rh(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Al(ya),ye(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return ve(c),null;case 13:if(Td(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));so()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return q(Ya),null;case 4:return ye(),null;case 10:return Al(c.type),null;case 22:case 23:return Td(c),kn(),o!==null&&q(E),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return Al(ya),null;case 25:return null;default:return null}}function Ok(o,c){switch(Rh(c),c.tag){case 3:Al(ya),ye();break;case 26:case 27:case 5:ve(c);break;case 4:ye();break;case 13:Td(c);break;case 19:q(Ya);break;case 10:Al(c.type);break;case 22:case 23:Td(c),kn(),o!==null&&q(E);break;case 24:Al(ya)}}function fg(o,c){try{var p=c.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var k=y.next;p=k;do{if((p.tag&o)===o){y=void 0;var _=p.create,J=p.inst;y=_(),J.destroy=y}p=p.next}while(p!==k)}}catch(fe){ei(c,c.return,fe)}}function jf(o,c,p){try{var y=c.updateQueue,k=y!==null?y.lastEffect:null;if(k!==null){var _=k.next;y=_;do{if((y.tag&o)===o){var J=y.inst,fe=J.destroy;if(fe!==void 0){J.destroy=void 0,k=c;var Te=p,Xe=fe;try{Xe()}catch(ht){ei(k,Te,ht)}}}y=y.next}while(y!==_)}}catch(ht){ei(c,c.return,ht)}}function Mk(o){var c=o.updateQueue;if(c!==null){var p=o.stateNode;try{fr(c,p)}catch(y){ei(o,o.return,y)}}}function Lk(o,c,p){p.props=Qh(o.type,o.memoizedProps),p.state=o.memoizedState;try{p.componentWillUnmount()}catch(y){ei(o,c,y)}}function hg(o,c){try{var p=o.ref;if(p!==null){switch(o.tag){case 26:case 27:case 5:var y=o.stateNode;break;case 30:y=o.stateNode;break;default:y=o.stateNode}typeof p=="function"?o.refCleanup=p(y):p.current=y}}catch(k){ei(o,c,k)}}function bc(o,c){var p=o.ref,y=o.refCleanup;if(p!==null)if(typeof y=="function")try{y()}catch(k){ei(o,c,k)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(k){ei(o,c,k)}else p.current=null}function Rk(o){var c=o.type,p=o.memoizedProps,y=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":p.autoFocus&&y.focus();break e;case"img":p.src?y.src=p.src:p.srcSet&&(y.srcset=p.srcSet)}}catch(k){ei(o,o.return,k)}}function ww(o,c,p){try{var y=o.stateNode;lR(y,o.type,p,c),y[dr]=c}catch(k){ei(o,o.return,k)}}function Pk(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Lf(o.type)||o.tag===4}function Sw(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Pk(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Lf(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Cw(o,c,p){var y=o.tag;if(y===5||y===6)o=o.stateNode,c?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(o,c):(c=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,c.appendChild(o),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=Ry));else if(y!==4&&(y===27&&Lf(o.type)&&(p=o.stateNode,c=null),o=o.child,o!==null))for(Cw(o,c,p),o=o.sibling;o!==null;)Cw(o,c,p),o=o.sibling}function ky(o,c,p){var y=o.tag;if(y===5||y===6)o=o.stateNode,c?p.insertBefore(o,c):p.appendChild(o);else if(y!==4&&(y===27&&Lf(o.type)&&(p=o.stateNode),o=o.child,o!==null))for(ky(o,c,p),o=o.sibling;o!==null;)ky(o,c,p),o=o.sibling}function Fk(o){var c=o.stateNode,p=o.memoizedProps;try{for(var y=o.type,k=c.attributes;k.length;)c.removeAttributeNode(k[0]);ws(c,y,p),c[Zn]=o,c[dr]=p}catch(_){ei(o,o.return,_)}}var _d=!1,va=!1,Aw=!1,zk=typeof WeakSet=="function"?WeakSet:Set,as=null;function $9(o,c){if(o=o.containerInfo,Gw=Uy,o=gs(o),Wa(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var k=y.anchorOffset,_=y.focusNode;y=y.focusOffset;try{p.nodeType,_.nodeType}catch{p=null;break e}var J=0,fe=-1,Te=-1,Xe=0,ht=0,vt=o,Je=null;t:for(;;){for(var nt;vt!==p||k!==0&&vt.nodeType!==3||(fe=J+k),vt!==_||y!==0&&vt.nodeType!==3||(Te=J+y),vt.nodeType===3&&(J+=vt.nodeValue.length),(nt=vt.firstChild)!==null;)Je=vt,vt=nt;for(;;){if(vt===o)break t;if(Je===p&&++Xe===k&&(fe=J),Je===_&&++ht===y&&(Te=J),(nt=vt.nextSibling)!==null)break;vt=Je,Je=vt.parentNode}vt=nt}p=fe===-1||Te===-1?null:{start:fe,end:Te}}else p=null}p=p||{start:0,end:0}}else p=null;for(Qw={focusedElem:o,selectionRange:p},Uy=!1,as=c;as!==null;)if(c=as,o=c.child,(c.subtreeFlags&1024)!==0&&o!==null)o.return=c,as=o;else for(;as!==null;){switch(c=as,_=c.alternate,o=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&_!==null){o=void 0,p=c,k=_.memoizedProps,_=_.memoizedState,y=p.stateNode;try{var xn=Qh(p.type,k,p.elementType===p.type);o=y.getSnapshotBeforeUpdate(xn,_),y.__reactInternalSnapshotBeforeUpdate=o}catch(dn){ei(p,p.return,dn)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,p=o.nodeType,p===9)Zw(o);else if(p===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Zw(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=c.sibling,o!==null){o.return=c.return,as=o;break}as=c.return}}function qk(o,c,p){var y=p.flags;switch(p.tag){case 0:case 11:case 15:Tf(o,p),y&4&&fg(5,p);break;case 1:if(Tf(o,p),y&4)if(o=p.stateNode,c===null)try{o.componentDidMount()}catch(J){ei(p,p.return,J)}else{var k=Qh(p.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(k,c,o.__reactInternalSnapshotBeforeUpdate)}catch(J){ei(p,p.return,J)}}y&64&&Mk(p),y&512&&hg(p,p.return);break;case 3:if(Tf(o,p),y&64&&(o=p.updateQueue,o!==null)){if(c=null,p.child!==null)switch(p.child.tag){case 27:case 5:c=p.child.stateNode;break;case 1:c=p.child.stateNode}try{fr(o,c)}catch(J){ei(p,p.return,J)}}break;case 27:c===null&&y&4&&Fk(p);case 26:case 5:Tf(o,p),c===null&&y&4&&Rk(p),y&512&&hg(p,p.return);break;case 12:Tf(o,p);break;case 13:Tf(o,p),y&4&&Uk(o,p),y&64&&(o=p.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(p=X9.bind(null,p),mR(o,p))));break;case 22:if(y=p.memoizedState!==null||_d,!y){c=c!==null&&c.memoizedState!==null||va,k=_d;var _=va;_d=y,(va=c)&&!_?Nf(o,p,(p.subtreeFlags&8772)!==0):Tf(o,p),_d=k,va=_}break;case 30:break;default:Tf(o,p)}}function Bk(o){var c=o.alternate;c!==null&&(o.alternate=null,Bk(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&Ha(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var ki=null,wo=!1;function Id(o,c,p){for(p=p.child;p!==null;)$k(o,c,p),p=p.sibling}function $k(o,c,p){if(Se&&typeof Se.onCommitFiberUnmount=="function")try{Se.onCommitFiberUnmount(Qe,p)}catch{}switch(p.tag){case 26:va||bc(p,c),Id(o,c,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:va||bc(p,c);var y=ki,k=wo;Lf(p.type)&&(ki=p.stateNode,wo=!1),Id(o,c,p),Sg(p.stateNode),ki=y,wo=k;break;case 5:va||bc(p,c);case 6:if(y=ki,k=wo,ki=null,Id(o,c,p),ki=y,wo=k,ki!==null)if(wo)try{(ki.nodeType===9?ki.body:ki.nodeName==="HTML"?ki.ownerDocument.body:ki).removeChild(p.stateNode)}catch(_){ei(p,c,_)}else try{ki.removeChild(p.stateNode)}catch(_){ei(p,c,_)}break;case 18:ki!==null&&(wo?(o=ki,DE(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,p.stateNode),Dg(o)):DE(ki,p.stateNode));break;case 4:y=ki,k=wo,ki=p.stateNode.containerInfo,wo=!0,Id(o,c,p),ki=y,wo=k;break;case 0:case 11:case 14:case 15:va||jf(2,p,c),va||jf(4,p,c),Id(o,c,p);break;case 1:va||(bc(p,c),y=p.stateNode,typeof y.componentWillUnmount=="function"&&Lk(p,c,y)),Id(o,c,p);break;case 21:Id(o,c,p);break;case 22:va=(y=va)||p.memoizedState!==null,Id(o,c,p),va=y;break;default:Id(o,c,p)}}function Uk(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Dg(o)}catch(p){ei(c,c.return,p)}}function U9(o){switch(o.tag){case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new zk),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new zk),c;default:throw Error(r(435,o.tag))}}function kw(o,c){var p=U9(o);c.forEach(function(y){var k=Z9.bind(null,o,y);p.has(y)||(p.add(y),y.then(k,k))})}function Vo(o,c){var p=c.deletions;if(p!==null)for(var y=0;y<p.length;y++){var k=p[y],_=o,J=c,fe=J;e:for(;fe!==null;){switch(fe.tag){case 27:if(Lf(fe.type)){ki=fe.stateNode,wo=!1;break e}break;case 5:ki=fe.stateNode,wo=!1;break e;case 3:case 4:ki=fe.stateNode.containerInfo,wo=!0;break e}fe=fe.return}if(ki===null)throw Error(r(160));$k(_,J,k),ki=null,wo=!1,_=k.alternate,_!==null&&(_.return=null),k.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)Hk(c,o),c=c.sibling}var bu=null;function Hk(o,c){var p=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Vo(c,o),Wo(o),y&4&&(jf(3,o,o.return),fg(3,o),jf(5,o,o.return));break;case 1:Vo(c,o),Wo(o),y&512&&(va||p===null||bc(p,p.return)),y&64&&_d&&(o=o.updateQueue,o!==null&&(y=o.callbacks,y!==null&&(p=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=p===null?y:p.concat(y))));break;case 26:var k=bu;if(Vo(c,o),Wo(o),y&512&&(va||p===null||bc(p,p.return)),y&4){var _=p!==null?p.memoizedState:null;if(y=o.memoizedState,p===null)if(y===null)if(o.stateNode===null){e:{y=o.type,p=o.memoizedProps,k=k.ownerDocument||k;t:switch(y){case"title":_=k.getElementsByTagName("title")[0],(!_||_[Or]||_[Zn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=k.createElement(y),k.head.insertBefore(_,k.querySelector("head > title"))),ws(_,y,p),_[Zn]=o,sr(_),y=_;break e;case"link":var J=FE("link","href",k).get(y+(p.href||""));if(J){for(var fe=0;fe<J.length;fe++)if(_=J[fe],_.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&_.getAttribute("rel")===(p.rel==null?null:p.rel)&&_.getAttribute("title")===(p.title==null?null:p.title)&&_.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){J.splice(fe,1);break t}}_=k.createElement(y),ws(_,y,p),k.head.appendChild(_);break;case"meta":if(J=FE("meta","content",k).get(y+(p.content||""))){for(fe=0;fe<J.length;fe++)if(_=J[fe],_.getAttribute("content")===(p.content==null?null:""+p.content)&&_.getAttribute("name")===(p.name==null?null:p.name)&&_.getAttribute("property")===(p.property==null?null:p.property)&&_.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&_.getAttribute("charset")===(p.charSet==null?null:p.charSet)){J.splice(fe,1);break t}}_=k.createElement(y),ws(_,y,p),k.head.appendChild(_);break;default:throw Error(r(468,y))}_[Zn]=o,sr(_),y=_}o.stateNode=y}else zE(k,o.type,o.stateNode);else o.stateNode=PE(k,y,o.memoizedProps);else _!==y?(_===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):_.count--,y===null?zE(k,o.type,o.stateNode):PE(k,y,o.memoizedProps)):y===null&&o.stateNode!==null&&ww(o,o.memoizedProps,p.memoizedProps)}break;case 27:Vo(c,o),Wo(o),y&512&&(va||p===null||bc(p,p.return)),p!==null&&y&4&&ww(o,o.memoizedProps,p.memoizedProps);break;case 5:if(Vo(c,o),Wo(o),y&512&&(va||p===null||bc(p,p.return)),o.flags&32){k=o.stateNode;try{Zi(k,"")}catch(nt){ei(o,o.return,nt)}}y&4&&o.stateNode!=null&&(k=o.memoizedProps,ww(o,k,p!==null?p.memoizedProps:k)),y&1024&&(Aw=!0);break;case 6:if(Vo(c,o),Wo(o),y&4){if(o.stateNode===null)throw Error(r(162));y=o.memoizedProps,p=o.stateNode;try{p.nodeValue=y}catch(nt){ei(o,o.return,nt)}}break;case 3:if(qy=null,k=bu,bu=Fy(c.containerInfo),Vo(c,o),bu=k,Wo(o),y&4&&p!==null&&p.memoizedState.isDehydrated)try{Dg(c.containerInfo)}catch(nt){ei(o,o.return,nt)}Aw&&(Aw=!1,Vk(o));break;case 4:y=bu,bu=Fy(o.stateNode.containerInfo),Vo(c,o),Wo(o),bu=y;break;case 12:Vo(c,o),Wo(o);break;case 13:Vo(c,o),Wo(o),o.child.flags&8192&&o.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(_w=tt()),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,kw(o,y)));break;case 22:k=o.memoizedState!==null;var Te=p!==null&&p.memoizedState!==null,Xe=_d,ht=va;if(_d=Xe||k,va=ht||Te,Vo(c,o),va=ht,_d=Xe,Wo(o),y&8192)e:for(c=o.stateNode,c._visibility=k?c._visibility&-2:c._visibility|1,k&&(p===null||Te||_d||va||Kh(o)),p=null,c=o;;){if(c.tag===5||c.tag===26){if(p===null){Te=p=c;try{if(_=Te.stateNode,k)J=_.style,typeof J.setProperty=="function"?J.setProperty("display","none","important"):J.display="none";else{fe=Te.stateNode;var vt=Te.memoizedProps.style,Je=vt!=null&&vt.hasOwnProperty("display")?vt.display:null;fe.style.display=Je==null||typeof Je=="boolean"?"":(""+Je).trim()}}catch(nt){ei(Te,Te.return,nt)}}}else if(c.tag===6){if(p===null){Te=c;try{Te.stateNode.nodeValue=k?"":Te.memoizedProps}catch(nt){ei(Te,Te.return,nt)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;p===c&&(p=null),c=c.return}p===c&&(p=null),c.sibling.return=c.return,c=c.sibling}y&4&&(y=o.updateQueue,y!==null&&(p=y.retryQueue,p!==null&&(y.retryQueue=null,kw(o,p))));break;case 19:Vo(c,o),Wo(o),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,kw(o,y)));break;case 30:break;case 21:break;default:Vo(c,o),Wo(o)}}function Wo(o){var c=o.flags;if(c&2){try{for(var p,y=o.return;y!==null;){if(Pk(y)){p=y;break}y=y.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var k=p.stateNode,_=Sw(o);ky(o,_,k);break;case 5:var J=p.stateNode;p.flags&32&&(Zi(J,""),p.flags&=-33);var fe=Sw(o);ky(o,fe,J);break;case 3:case 4:var Te=p.stateNode.containerInfo,Xe=Sw(o);Cw(o,Xe,Te);break;default:throw Error(r(161))}}catch(ht){ei(o,o.return,ht)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function Vk(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;Vk(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function Tf(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)qk(o,c.alternate,c),c=c.sibling}function Kh(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:jf(4,c,c.return),Kh(c);break;case 1:bc(c,c.return);var p=c.stateNode;typeof p.componentWillUnmount=="function"&&Lk(c,c.return,p),Kh(c);break;case 27:Sg(c.stateNode);case 26:case 5:bc(c,c.return),Kh(c);break;case 22:c.memoizedState===null&&Kh(c);break;case 30:Kh(c);break;default:Kh(c)}o=o.sibling}}function Nf(o,c,p){for(p=p&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var y=c.alternate,k=o,_=c,J=_.flags;switch(_.tag){case 0:case 11:case 15:Nf(k,_,p),fg(4,_);break;case 1:if(Nf(k,_,p),y=_,k=y.stateNode,typeof k.componentDidMount=="function")try{k.componentDidMount()}catch(Xe){ei(y,y.return,Xe)}if(y=_,k=y.updateQueue,k!==null){var fe=y.stateNode;try{var Te=k.shared.hiddenCallbacks;if(Te!==null)for(k.shared.hiddenCallbacks=null,k=0;k<Te.length;k++)er(Te[k],fe)}catch(Xe){ei(y,y.return,Xe)}}p&&J&64&&Mk(_),hg(_,_.return);break;case 27:Fk(_);case 26:case 5:Nf(k,_,p),p&&y===null&&J&4&&Rk(_),hg(_,_.return);break;case 12:Nf(k,_,p);break;case 13:Nf(k,_,p),p&&J&4&&Uk(k,_);break;case 22:_.memoizedState===null&&Nf(k,_,p),hg(_,_.return);break;case 30:break;default:Nf(k,_,p)}c=c.sibling}}function Ew(o,c){var p=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==p&&(o!=null&&o.refCount++,p!=null&&Ph(p))}function jw(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Ph(o))}function yc(o,c,p,y){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Wk(o,c,p,y),c=c.sibling}function Wk(o,c,p,y){var k=c.flags;switch(c.tag){case 0:case 11:case 15:yc(o,c,p,y),k&2048&&fg(9,c);break;case 1:yc(o,c,p,y);break;case 3:yc(o,c,p,y),k&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Ph(o)));break;case 12:if(k&2048){yc(o,c,p,y),o=c.stateNode;try{var _=c.memoizedProps,J=_.id,fe=_.onPostCommit;typeof fe=="function"&&fe(J,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(Te){ei(c,c.return,Te)}}else yc(o,c,p,y);break;case 13:yc(o,c,p,y);break;case 23:break;case 22:_=c.stateNode,J=c.alternate,c.memoizedState!==null?_._visibility&2?yc(o,c,p,y):pg(o,c):_._visibility&2?yc(o,c,p,y):(_._visibility|=2,a0(o,c,p,y,(c.subtreeFlags&10256)!==0)),k&2048&&Ew(J,c);break;case 24:yc(o,c,p,y),k&2048&&jw(c.alternate,c);break;default:yc(o,c,p,y)}}function a0(o,c,p,y,k){for(k=k&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var _=o,J=c,fe=p,Te=y,Xe=J.flags;switch(J.tag){case 0:case 11:case 15:a0(_,J,fe,Te,k),fg(8,J);break;case 23:break;case 22:var ht=J.stateNode;J.memoizedState!==null?ht._visibility&2?a0(_,J,fe,Te,k):pg(_,J):(ht._visibility|=2,a0(_,J,fe,Te,k)),k&&Xe&2048&&Ew(J.alternate,J);break;case 24:a0(_,J,fe,Te,k),k&&Xe&2048&&jw(J.alternate,J);break;default:a0(_,J,fe,Te,k)}c=c.sibling}}function pg(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var p=o,y=c,k=y.flags;switch(y.tag){case 22:pg(p,y),k&2048&&Ew(y.alternate,y);break;case 24:pg(p,y),k&2048&&jw(y.alternate,y);break;default:pg(p,y)}c=c.sibling}}var mg=8192;function s0(o){if(o.subtreeFlags&mg)for(o=o.child;o!==null;)Yk(o),o=o.sibling}function Yk(o){switch(o.tag){case 26:s0(o),o.flags&mg&&o.memoizedState!==null&&TR(bu,o.memoizedState,o.memoizedProps);break;case 5:s0(o);break;case 3:case 4:var c=bu;bu=Fy(o.stateNode.containerInfo),s0(o),bu=c;break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=mg,mg=16777216,s0(o),mg=c):s0(o));break;default:s0(o)}}function Gk(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function gg(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];as=y,Kk(y,o)}Gk(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Qk(o),o=o.sibling}function Qk(o){switch(o.tag){case 0:case 11:case 15:gg(o),o.flags&2048&&jf(9,o,o.return);break;case 3:gg(o);break;case 12:gg(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,Ey(o)):gg(o);break;default:gg(o)}}function Ey(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];as=y,Kk(y,o)}Gk(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:jf(8,c,c.return),Ey(c);break;case 22:p=c.stateNode,p._visibility&2&&(p._visibility&=-3,Ey(c));break;default:Ey(c)}o=o.sibling}}function Kk(o,c){for(;as!==null;){var p=as;switch(p.tag){case 0:case 11:case 15:jf(8,p,c);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var y=p.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:Ph(p.memoizedState.cache)}if(y=p.child,y!==null)y.return=p,as=y;else e:for(p=o;as!==null;){y=as;var k=y.sibling,_=y.return;if(Bk(y),y===p){as=null;break e}if(k!==null){k.return=_,as=k;break e}as=_}}}var H9={getCacheForType:function(o){var c=ba(ya),p=c.data.get(o);return p===void 0&&(p=o(),c.data.set(o,p)),p}},V9=typeof WeakMap=="function"?WeakMap:Map,Rr=0,ci=null,Yn=null,nr=0,Pr=0,Yo=null,Df=!1,o0=!1,Tw=!1,Od=0,na=0,_f=0,Xh=0,Nw=0,Tl=0,l0=0,bg=null,So=null,Dw=!1,_w=0,jy=1/0,Ty=null,If=null,vs=0,Of=null,u0=null,c0=0,Iw=0,Ow=null,Xk=null,yg=0,Mw=null;function Go(){if((Rr&2)!==0&&nr!==0)return nr&-nr;if($.T!==null){var o=Cd;return o!==0?o:Bw()}return Vn()}function Zk(){Tl===0&&(Tl=(nr&536870912)===0||or?un():536870912);var o=jl.current;return o!==null&&(o.flags|=32),Tl}function Qo(o,c,p){(o===ci&&(Pr===2||Pr===9)||o.cancelPendingCommit!==null)&&(d0(o,0),Mf(o,nr,Tl,!1)),Hn(o,p),((Rr&2)===0||o!==ci)&&(o===ci&&((Rr&2)===0&&(Xh|=p),na===4&&Mf(o,nr,Tl,!1)),xc(o))}function Jk(o,c,p){if((Rr&6)!==0)throw Error(r(327));var y=!p&&(c&124)===0&&(c&o.expiredLanes)===0||Tt(o,c),k=y?G9(o,c):Pw(o,c,!0),_=y;do{if(k===0){o0&&!y&&Mf(o,c,0,!1);break}else{if(p=o.current.alternate,_&&!W9(p)){k=Pw(o,c,!1),_=!1;continue}if(k===2){if(_=c,o.errorRecoveryDisabledLanes&_)var J=0;else J=o.pendingLanes&-536870913,J=J!==0?J:J&536870912?536870912:0;if(J!==0){c=J;e:{var fe=o;k=bg;var Te=fe.current.memoizedState.isDehydrated;if(Te&&(d0(fe,J).flags|=256),J=Pw(fe,J,!1),J!==2){if(Tw&&!Te){fe.errorRecoveryDisabledLanes|=_,Xh|=_,k=4;break e}_=So,So=k,_!==null&&(So===null?So=_:So.push.apply(So,_))}k=J}if(_=!1,k!==2)continue}}if(k===1){d0(o,0),Mf(o,c,0,!0);break}e:{switch(y=o,_=k,_){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:Mf(y,c,Tl,!Df);break e;case 2:So=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(k=_w+300-tt(),10<k)){if(Mf(y,c,Tl,!Df),nn(y,0,!0)!==0)break e;y.timeoutHandle=TE(eE.bind(null,y,p,So,Ty,Dw,c,Tl,Xh,l0,Df,_,2,-0,0),k);break e}eE(y,p,So,Ty,Dw,c,Tl,Xh,l0,Df,_,0,-0,0)}}break}while(!0);xc(o)}function eE(o,c,p,y,k,_,J,fe,Te,Xe,ht,vt,Je,nt){if(o.timeoutHandle=-1,vt=c.subtreeFlags,(vt&8192||(vt&16785408)===16785408)&&(kg={stylesheets:null,count:0,unsuspend:jR},Yk(c),vt=NR(),vt!==null)){o.cancelPendingCommit=vt(oE.bind(null,o,c,_,p,y,k,J,fe,Te,ht,1,Je,nt)),Mf(o,_,J,!Xe);return}oE(o,c,_,p,y,k,J,fe,Te)}function W9(o){for(var c=o;;){var p=c.tag;if((p===0||p===11||p===15)&&c.flags&16384&&(p=c.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var y=0;y<p.length;y++){var k=p[y],_=k.getSnapshot;k=k.value;try{if(!Ma(_(),k))return!1}catch{return!1}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Mf(o,c,p,y){c&=~Nw,c&=~Xh,o.suspendedLanes|=c,o.pingedLanes&=~c,y&&(o.warmLanes|=c),y=o.expirationTimes;for(var k=c;0<k;){var _=31-ke(k),J=1<<_;y[_]=-1,k&=~J}p!==0&&Xt(o,p,c)}function Ny(){return(Rr&6)===0?(xg(0),!1):!0}function Lw(){if(Yn!==null){if(Pr===0)var o=Yn.return;else o=Yn,du=Ra=null,Xp(o),r0=null,ug=0,o=Yn;for(;o!==null;)Ok(o.alternate,o),o=o.return;Yn=null}}function d0(o,c){var p=o.timeoutHandle;p!==-1&&(o.timeoutHandle=-1,cR(p)),p=o.cancelPendingCommit,p!==null&&(o.cancelPendingCommit=null,p()),Lw(),ci=o,Yn=p=wl(o.current,null),nr=c,Pr=0,Yo=null,Df=!1,o0=Tt(o,c),Tw=!1,l0=Tl=Nw=Xh=_f=na=0,So=bg=null,Dw=!1,(c&8)!==0&&(c|=c&32);var y=o.entangledLanes;if(y!==0)for(o=o.entanglements,y&=c;0<y;){var k=31-ke(y),_=1<<k;c|=o[k],y&=~_}return Od=c,bo(),p}function tE(o,c){on=null,$.H=gy,c===le||c===ce?(c=qe(),Pr=3):c===ue?(c=qe(),Pr=4):Pr=c===xk?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Yo=c,Yn===null&&(na=1,wy(o,qn(c,o.current)))}function nE(){var o=$.H;return $.H=gy,o===null?gy:o}function rE(){var o=$.A;return $.A=H9,o}function Rw(){na=4,Df||(nr&4194048)!==nr&&jl.current!==null||(o0=!0),(_f&134217727)===0&&(Xh&134217727)===0||ci===null||Mf(ci,nr,Tl,!1)}function Pw(o,c,p){var y=Rr;Rr|=2;var k=nE(),_=rE();(ci!==o||nr!==c)&&(Ty=null,d0(o,c)),c=!1;var J=na;e:do try{if(Pr!==0&&Yn!==null){var fe=Yn,Te=Yo;switch(Pr){case 8:Lw(),J=6;break e;case 3:case 2:case 9:case 6:jl.current===null&&(c=!0);var Xe=Pr;if(Pr=0,Yo=null,f0(o,fe,Te,Xe),p&&o0){J=0;break e}break;default:Xe=Pr,Pr=0,Yo=null,f0(o,fe,Te,Xe)}}Y9(),J=na;break}catch(ht){tE(o,ht)}while(!0);return c&&o.shellSuspendCounter++,du=Ra=null,Rr=y,$.H=k,$.A=_,Yn===null&&(ci=null,nr=0,bo()),J}function Y9(){for(;Yn!==null;)iE(Yn)}function G9(o,c){var p=Rr;Rr|=2;var y=nE(),k=rE();ci!==o||nr!==c?(Ty=null,jy=tt()+500,d0(o,c)):o0=Tt(o,c);e:do try{if(Pr!==0&&Yn!==null){c=Yn;var _=Yo;t:switch(Pr){case 1:Pr=0,Yo=null,f0(o,c,_,1);break;case 2:case 9:if(Ce(_)){Pr=0,Yo=null,aE(c);break}c=function(){Pr!==2&&Pr!==9||ci!==o||(Pr=7),xc(o)},_.then(c,c);break e;case 3:Pr=7;break e;case 4:Pr=5;break e;case 7:Ce(_)?(Pr=0,Yo=null,aE(c)):(Pr=0,Yo=null,f0(o,c,_,7));break;case 5:var J=null;switch(Yn.tag){case 26:J=Yn.memoizedState;case 5:case 27:var fe=Yn;if(!J||qE(J)){Pr=0,Yo=null;var Te=fe.sibling;if(Te!==null)Yn=Te;else{var Xe=fe.return;Xe!==null?(Yn=Xe,Dy(Xe)):Yn=null}break t}}Pr=0,Yo=null,f0(o,c,_,5);break;case 6:Pr=0,Yo=null,f0(o,c,_,6);break;case 8:Lw(),na=6;break e;default:throw Error(r(462))}}Q9();break}catch(ht){tE(o,ht)}while(!0);return du=Ra=null,$.H=y,$.A=k,Rr=p,Yn!==null?0:(ci=null,nr=0,bo(),na)}function Q9(){for(;Yn!==null&&!Oe();)iE(Yn)}function iE(o){var c=_k(o.alternate,o,Od);o.memoizedProps=o.pendingProps,c===null?Dy(o):Yn=c}function aE(o){var c=o,p=c.alternate;switch(c.tag){case 15:case 0:c=kk(p,c,c.pendingProps,c.type,void 0,nr);break;case 11:c=kk(p,c,c.pendingProps,c.type.render,c.ref,nr);break;case 5:Xp(c);default:Ok(p,c),c=Yn=Oh(c,Od),c=_k(p,c,Od)}o.memoizedProps=o.pendingProps,c===null?Dy(o):Yn=c}function f0(o,c,p,y){du=Ra=null,Xp(c),r0=null,ug=0;var k=c.return;try{if(F9(o,k,c,p,nr)){na=1,wy(o,qn(p,o.current)),Yn=null;return}}catch(_){if(k!==null)throw Yn=k,_;na=1,wy(o,qn(p,o.current)),Yn=null;return}c.flags&32768?(or||y===1?o=!0:o0||(nr&536870912)!==0?o=!1:(Df=o=!0,(y===2||y===9||y===3||y===6)&&(y=jl.current,y!==null&&y.tag===13&&(y.flags|=16384))),sE(c,o)):Dy(c)}function Dy(o){var c=o;do{if((c.flags&32768)!==0){sE(c,Df);return}o=c.return;var p=q9(c.alternate,c,Od);if(p!==null){Yn=p;return}if(c=c.sibling,c!==null){Yn=c;return}Yn=c=o}while(c!==null);na===0&&(na=5)}function sE(o,c){do{var p=B9(o.alternate,o);if(p!==null){p.flags&=32767,Yn=p;return}if(p=o.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!c&&(o=o.sibling,o!==null)){Yn=o;return}Yn=o=p}while(o!==null);na=6,Yn=null}function oE(o,c,p,y,k,_,J,fe,Te){o.cancelPendingCommit=null;do _y();while(vs!==0);if((Rr&6)!==0)throw Error(r(327));if(c!==null){if(c===o.current)throw Error(r(177));if(_=c.lanes|c.childLanes,_|=Fi,Xn(o,p,_,J,fe,Te),o===ci&&(Yn=ci=null,nr=0),u0=c,Of=o,c0=p,Iw=_,Ow=k,Xk=y,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,J9(ut,function(){return fE(),null})):(o.callbackNode=null,o.callbackPriority=0),y=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||y){y=$.T,$.T=null,k=Y.p,Y.p=2,J=Rr,Rr|=4;try{$9(o,c,p)}finally{Rr=J,Y.p=k,$.T=y}}vs=1,lE(),uE(),cE()}}function lE(){if(vs===1){vs=0;var o=Of,c=u0,p=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||p){p=$.T,$.T=null;var y=Y.p;Y.p=2;var k=Rr;Rr|=4;try{Hk(c,o);var _=Qw,J=gs(o.containerInfo),fe=_.focusedElem,Te=_.selectionRange;if(J!==fe&&fe&&fe.ownerDocument&&ec(fe.ownerDocument.documentElement,fe)){if(Te!==null&&Wa(fe)){var Xe=Te.start,ht=Te.end;if(ht===void 0&&(ht=Xe),"selectionStart"in fe)fe.selectionStart=Xe,fe.selectionEnd=Math.min(ht,fe.value.length);else{var vt=fe.ownerDocument||document,Je=vt&&vt.defaultView||window;if(Je.getSelection){var nt=Je.getSelection(),xn=fe.textContent.length,dn=Math.min(Te.start,xn),Yr=Te.end===void 0?dn:Math.min(Te.end,xn);!nt.extend&&dn>Yr&&(J=Yr,Yr=dn,dn=J);var $e=ru(fe,dn),Re=ru(fe,Yr);if($e&&Re&&(nt.rangeCount!==1||nt.anchorNode!==$e.node||nt.anchorOffset!==$e.offset||nt.focusNode!==Re.node||nt.focusOffset!==Re.offset)){var Ye=vt.createRange();Ye.setStart($e.node,$e.offset),nt.removeAllRanges(),dn>Yr?(nt.addRange(Ye),nt.extend(Re.node,Re.offset)):(Ye.setEnd(Re.node,Re.offset),nt.addRange(Ye))}}}}for(vt=[],nt=fe;nt=nt.parentNode;)nt.nodeType===1&&vt.push({element:nt,left:nt.scrollLeft,top:nt.scrollTop});for(typeof fe.focus=="function"&&fe.focus(),fe=0;fe<vt.length;fe++){var mt=vt[fe];mt.element.scrollLeft=mt.left,mt.element.scrollTop=mt.top}}Uy=!!Gw,Qw=Gw=null}finally{Rr=k,Y.p=y,$.T=p}}o.current=c,vs=2}}function uE(){if(vs===2){vs=0;var o=Of,c=u0,p=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||p){p=$.T,$.T=null;var y=Y.p;Y.p=2;var k=Rr;Rr|=4;try{qk(o,c.alternate,c)}finally{Rr=k,Y.p=y,$.T=p}}vs=3}}function cE(){if(vs===4||vs===3){vs=0,pe();var o=Of,c=u0,p=c0,y=Xk;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?vs=5:(vs=0,u0=Of=null,dE(o,o.pendingLanes));var k=o.pendingLanes;if(k===0&&(If=null),cn(p),c=c.stateNode,Se&&typeof Se.onCommitFiberRoot=="function")try{Se.onCommitFiberRoot(Qe,c,void 0,(c.current.flags&128)===128)}catch{}if(y!==null){c=$.T,k=Y.p,Y.p=2,$.T=null;try{for(var _=o.onRecoverableError,J=0;J<y.length;J++){var fe=y[J];_(fe.value,{componentStack:fe.stack})}}finally{$.T=c,Y.p=k}}(c0&3)!==0&&_y(),xc(o),k=o.pendingLanes,(p&4194090)!==0&&(k&42)!==0?o===Mw?yg++:(yg=0,Mw=o):yg=0,xg(0)}}function dE(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Ph(c)))}function _y(o){return lE(),uE(),cE(),fE()}function fE(){if(vs!==5)return!1;var o=Of,c=Iw;Iw=0;var p=cn(c0),y=$.T,k=Y.p;try{Y.p=32>p?32:p,$.T=null,p=Ow,Ow=null;var _=Of,J=c0;if(vs=0,u0=Of=null,c0=0,(Rr&6)!==0)throw Error(r(331));var fe=Rr;if(Rr|=4,Qk(_.current),Wk(_,_.current,J,p),Rr=fe,xg(0,!1),Se&&typeof Se.onPostCommitFiberRoot=="function")try{Se.onPostCommitFiberRoot(Qe,_)}catch{}return!0}finally{Y.p=k,$.T=y,dE(o,c)}}function hE(o,c,p){c=qn(p,c),c=fw(o.stateNode,c,2),o=bt(o,c,2),o!==null&&(Hn(o,2),xc(o))}function ei(o,c,p){if(o.tag===3)hE(o,o,p);else for(;c!==null;){if(c.tag===3){hE(c,o,p);break}else if(c.tag===1){var y=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(If===null||!If.has(y))){o=qn(p,o),p=bk(2),y=bt(c,p,2),y!==null&&(yk(p,y,c,o),Hn(y,2),xc(y));break}}c=c.return}}function Fw(o,c,p){var y=o.pingCache;if(y===null){y=o.pingCache=new V9;var k=new Set;y.set(c,k)}else k=y.get(c),k===void 0&&(k=new Set,y.set(c,k));k.has(p)||(Tw=!0,k.add(p),o=K9.bind(null,o,c,p),c.then(o,o))}function K9(o,c,p){var y=o.pingCache;y!==null&&y.delete(c),o.pingedLanes|=o.suspendedLanes&p,o.warmLanes&=~p,ci===o&&(nr&p)===p&&(na===4||na===3&&(nr&62914560)===nr&&300>tt()-_w?(Rr&2)===0&&d0(o,0):Nw|=p,l0===nr&&(l0=0)),xc(o)}function pE(o,c){c===0&&(c=vn()),o=au(o,c),o!==null&&(Hn(o,c),xc(o))}function X9(o){var c=o.memoizedState,p=0;c!==null&&(p=c.retryLane),pE(o,p)}function Z9(o,c){var p=0;switch(o.tag){case 13:var y=o.stateNode,k=o.memoizedState;k!==null&&(p=k.retryLane);break;case 19:y=o.stateNode;break;case 22:y=o.stateNode._retryCache;break;default:throw Error(r(314))}y!==null&&y.delete(c),pE(o,p)}function J9(o,c){return Ee(o,c)}var Iy=null,h0=null,zw=!1,Oy=!1,qw=!1,Zh=0;function xc(o){o!==h0&&o.next===null&&(h0===null?Iy=h0=o:h0=h0.next=o),Oy=!0,zw||(zw=!0,tR())}function xg(o,c){if(!qw&&Oy){qw=!0;do for(var p=!1,y=Iy;y!==null;){if(o!==0){var k=y.pendingLanes;if(k===0)var _=0;else{var J=y.suspendedLanes,fe=y.pingedLanes;_=(1<<31-ke(42|o)+1)-1,_&=k&~(J&~fe),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(p=!0,yE(y,_))}else _=nr,_=nn(y,y===ci?_:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(_&3)===0||Tt(y,_)||(p=!0,yE(y,_));y=y.next}while(p);qw=!1}}function eR(){mE()}function mE(){Oy=zw=!1;var o=0;Zh!==0&&(uR()&&(o=Zh),Zh=0);for(var c=tt(),p=null,y=Iy;y!==null;){var k=y.next,_=gE(y,c);_===0?(y.next=null,p===null?Iy=k:p.next=k,k===null&&(h0=p)):(p=y,(o!==0||(_&3)!==0)&&(Oy=!0)),y=k}xg(o)}function gE(o,c){for(var p=o.suspendedLanes,y=o.pingedLanes,k=o.expirationTimes,_=o.pendingLanes&-62914561;0<_;){var J=31-ke(_),fe=1<<J,Te=k[J];Te===-1?((fe&p)===0||(fe&y)!==0)&&(k[J]=Ht(fe,c)):Te<=c&&(o.expiredLanes|=fe),_&=~fe}if(c=ci,p=nr,p=nn(o,o===c?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),y=o.callbackNode,p===0||o===c&&(Pr===2||Pr===9)||o.cancelPendingCommit!==null)return y!==null&&y!==null&&Ue(y),o.callbackNode=null,o.callbackPriority=0;if((p&3)===0||Tt(o,p)){if(c=p&-p,c===o.callbackPriority)return c;switch(y!==null&&Ue(y),cn(p)){case 2:case 8:p=Ze;break;case 32:p=ut;break;case 268435456:p=Et;break;default:p=ut}return y=bE.bind(null,o),p=Ee(p,y),o.callbackPriority=c,o.callbackNode=p,c}return y!==null&&y!==null&&Ue(y),o.callbackPriority=2,o.callbackNode=null,2}function bE(o,c){if(vs!==0&&vs!==5)return o.callbackNode=null,o.callbackPriority=0,null;var p=o.callbackNode;if(_y()&&o.callbackNode!==p)return null;var y=nr;return y=nn(o,o===ci?y:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),y===0?null:(Jk(o,y,c),gE(o,tt()),o.callbackNode!=null&&o.callbackNode===p?bE.bind(null,o):null)}function yE(o,c){if(_y())return null;Jk(o,c,!0)}function tR(){dR(function(){(Rr&6)!==0?Ee(lt,eR):mE()})}function Bw(){return Zh===0&&(Zh=un()),Zh}function xE(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:to(""+o)}function vE(o,c){var p=c.ownerDocument.createElement("input");return p.name=c.name,p.value=c.value,o.id&&p.setAttribute("form",o.id),c.parentNode.insertBefore(p,c),o=new FormData(o),p.parentNode.removeChild(p),o}function nR(o,c,p,y,k){if(c==="submit"&&p&&p.stateNode===k){var _=xE((k[dr]||null).action),J=y.submitter;J&&(c=(c=J[dr]||null)?xE(c.formAction):J.getAttribute("formAction"),c!==null&&(_=c,J=null));var fe=new at("action","action",null,y,k);o.push({event:fe,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(Zh!==0){var Te=J?vE(k,J):new FormData(k);El(p,{pending:!0,data:Te,method:k.method,action:_},null,Te)}}else typeof _=="function"&&(fe.preventDefault(),Te=J?vE(k,J):new FormData(k),El(p,{pending:!0,data:Te,method:k.method,action:_},_,Te))},currentTarget:k}]})}}for(var $w=0;$w<bd.length;$w++){var Uw=bd[$w],rR=Uw.toLowerCase(),iR=Uw[0].toUpperCase()+Uw.slice(1);Ci(rR,"on"+iR)}Ci(pf,"onAnimationEnd"),Ci(nc,"onAnimationIteration"),Ci(rc,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(ic,"onTransitionRun"),Ci(gd,"onTransitionStart"),Ci(mf,"onTransitionCancel"),Ci(ac,"onTransitionEnd"),Ur("onMouseEnter",["mouseout","mouseover"]),Ur("onMouseLeave",["mouseout","mouseover"]),Ur("onPointerEnter",["pointerout","pointerover"]),Ur("onPointerLeave",["pointerout","pointerover"]),Qa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vg));function wE(o,c){c=(c&4)!==0;for(var p=0;p<o.length;p++){var y=o[p],k=y.event;y=y.listeners;e:{var _=void 0;if(c)for(var J=y.length-1;0<=J;J--){var fe=y[J],Te=fe.instance,Xe=fe.currentTarget;if(fe=fe.listener,Te!==_&&k.isPropagationStopped())break e;_=fe,k.currentTarget=Xe;try{_(k)}catch(ht){vy(ht)}k.currentTarget=null,_=Te}else for(J=0;J<y.length;J++){if(fe=y[J],Te=fe.instance,Xe=fe.currentTarget,fe=fe.listener,Te!==_&&k.isPropagationStopped())break e;_=fe,k.currentTarget=Xe;try{_(k)}catch(ht){vy(ht)}k.currentTarget=null,_=Te}}}}function Gn(o,c){var p=c[gr];p===void 0&&(p=c[gr]=new Set);var y=o+"__bubble";p.has(y)||(SE(c,o,2,!1),p.add(y))}function Hw(o,c,p){var y=0;c&&(y|=4),SE(p,o,y,c)}var My="_reactListening"+Math.random().toString(36).slice(2);function Vw(o){if(!o[My]){o[My]=!0,co.forEach(function(p){p!=="selectionchange"&&(aR.has(p)||Hw(p,!1,o),Hw(p,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[My]||(c[My]=!0,Hw("selectionchange",!1,c))}}function SE(o,c,p,y){switch(WE(c)){case 2:var k=IR;break;case 8:k=OR;break;default:k=a5}p=k.bind(null,c,p,o),k=void 0,!Lo||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(k=!0),y?k!==void 0?o.addEventListener(c,p,{capture:!0,passive:k}):o.addEventListener(c,p,!0):k!==void 0?o.addEventListener(c,p,{passive:k}):o.addEventListener(c,p,!1)}function Ww(o,c,p,y,k){var _=y;if((c&1)===0&&(c&2)===0&&y!==null)e:for(;;){if(y===null)return;var J=y.tag;if(J===3||J===4){var fe=y.stateNode.containerInfo;if(fe===k)break;if(J===4)for(J=y.return;J!==null;){var Te=J.tag;if((Te===3||Te===4)&&J.stateNode.containerInfo===k)return;J=J.return}for(;fe!==null;){if(J=Ki(fe),J===null)return;if(Te=J.tag,Te===5||Te===6||Te===26||Te===27){y=_=J;continue e}fe=fe.parentNode}}y=y.return}gl(function(){var Xe=_,ht=mi(p),vt=[];e:{var Je=iu.get(o);if(Je!==void 0){var nt=at,xn=o;switch(o){case"keypress":if(mo(p)===0)break e;case"keydown":case"keyup":nt=uf;break;case"focusin":xn="focus",nt=Jr;break;case"focusout":xn="blur",nt=Jr;break;case"beforeblur":case"afterblur":nt=Jr;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":nt=Mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":nt=jr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":nt=Nh;break;case pf:case nc:case rc:nt=no;break;case ac:nt=ae;break;case"scroll":case"scrollend":nt=Gt;break;case"wheel":nt=Ie;break;case"copy":case"cut":case"paste":nt=sf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":nt=cf;break;case"toggle":case"beforetoggle":nt=ot}var dn=(c&4)!==0,Yr=!dn&&(o==="scroll"||o==="scrollend"),$e=dn?Je!==null?Je+"Capture":null:Je;dn=[];for(var Re=Xe,Ye;Re!==null;){var mt=Re;if(Ye=mt.stateNode,mt=mt.tag,mt!==5&&mt!==26&&mt!==27||Ye===null||$e===null||(mt=Li(Re,$e),mt!=null&&dn.push(wg(Re,mt,Ye))),Yr)break;Re=Re.return}0<dn.length&&(Je=new nt(Je,xn,null,p,ht),vt.push({event:Je,listeners:dn}))}}if((c&7)===0){e:{if(Je=o==="mouseover"||o==="pointerover",nt=o==="mouseout"||o==="pointerout",Je&&p!==ml&&(xn=p.relatedTarget||p.fromElement)&&(Ki(xn)||xn[$r]))break e;if((nt||Je)&&(Je=ht.window===ht?ht:(Je=ht.ownerDocument)?Je.defaultView||Je.parentWindow:window,nt?(xn=p.relatedTarget||p.toElement,nt=Xe,xn=xn?Ki(xn):null,xn!==null&&(Yr=a(xn),dn=xn.tag,xn!==Yr||dn!==5&&dn!==27&&dn!==6)&&(xn=null)):(nt=null,xn=Xe),nt!==xn)){if(dn=Mr,mt="onMouseLeave",$e="onMouseEnter",Re="mouse",(o==="pointerout"||o==="pointerover")&&(dn=cf,mt="onPointerLeave",$e="onPointerEnter",Re="pointer"),Yr=nt==null?Je:ar(nt),Ye=xn==null?Je:ar(xn),Je=new dn(mt,Re+"leave",nt,p,ht),Je.target=Yr,Je.relatedTarget=Ye,mt=null,Ki(ht)===Xe&&(dn=new dn($e,Re+"enter",xn,p,ht),dn.target=Ye,dn.relatedTarget=Yr,mt=dn),Yr=mt,nt&&xn)t:{for(dn=nt,$e=xn,Re=0,Ye=dn;Ye;Ye=p0(Ye))Re++;for(Ye=0,mt=$e;mt;mt=p0(mt))Ye++;for(;0<Re-Ye;)dn=p0(dn),Re--;for(;0<Ye-Re;)$e=p0($e),Ye--;for(;Re--;){if(dn===$e||$e!==null&&dn===$e.alternate)break t;dn=p0(dn),$e=p0($e)}dn=null}else dn=null;nt!==null&&CE(vt,Je,nt,dn,!1),xn!==null&&Yr!==null&&CE(vt,Yr,xn,dn,!0)}}e:{if(Je=Xe?ar(Xe):window,nt=Je.nodeName&&Je.nodeName.toLowerCase(),nt==="select"||nt==="input"&&Je.type==="file")var Wt=ff;else if(zo(Je))if(fd)Wt=Up;else{Wt=Ym;var Un=Ms}else nt=Je.nodeName,!nt||nt.toLowerCase()!=="input"||Je.type!=="checkbox"&&Je.type!=="radio"?Xe&&Za(Xe.elementType)&&(Wt=ff):Wt=_h;if(Wt&&(Wt=Wt(o,Xe))){Dh(vt,Wt,p,ht);break e}Un&&Un(o,Je,Xe),o==="focusout"&&Xe&&Je.type==="number"&&Xe.memoizedProps.value!=null&&Mo(Je,"number",Je.value)}switch(Un=Xe?ar(Xe):window,o){case"focusin":(zo(Un)||Un.contentEditable==="true")&&(Ls=Un,qo=Xe,xl=null);break;case"focusout":xl=qo=Ls=null;break;case"mousedown":Bo=!0;break;case"contextmenu":case"mouseup":case"dragend":Bo=!1,Si(vt,p,ht);break;case"selectionchange":if(tc)break;case"keydown":case"keyup":Si(vt,p,ht)}var rn;if(Mt)e:{switch(o){case"compositionstart":var hn="onCompositionStart";break e;case"compositionend":hn="onCompositionEnd";break e;case"compositionupdate":hn="onCompositionUpdate";break e}hn=void 0}else Pi?gi(o,p)&&(hn="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(hn="onCompositionStart");hn&&(wn&&p.locale!=="ko"&&(Pi||hn!=="onCompositionStart"?hn==="onCompositionEnd"&&Pi&&(rn=bl()):(Va=ht,ts="value"in Va?Va.value:Va.textContent,Pi=!0)),Un=Ly(Xe,hn),0<Un.length&&(hn=new Po(hn,o,null,p,ht),vt.push({event:hn,listeners:Un}),rn?hn.data=rn:(rn=Ri(p),rn!==null&&(hn.data=rn)))),(rn=Nn?Oa(o,p):Fo(o,p))&&(hn=Ly(Xe,"onBeforeInput"),0<hn.length&&(Un=new Po("onBeforeInput","beforeinput",null,p,ht),vt.push({event:Un,listeners:hn}),Un.data=rn)),nR(vt,o,Xe,p,ht)}wE(vt,c)})}function wg(o,c,p){return{instance:o,listener:c,currentTarget:p}}function Ly(o,c){for(var p=c+"Capture",y=[];o!==null;){var k=o,_=k.stateNode;if(k=k.tag,k!==5&&k!==26&&k!==27||_===null||(k=Li(o,p),k!=null&&y.unshift(wg(o,k,_)),k=Li(o,c),k!=null&&y.push(wg(o,k,_))),o.tag===3)return y;o=o.return}return[]}function p0(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function CE(o,c,p,y,k){for(var _=c._reactName,J=[];p!==null&&p!==y;){var fe=p,Te=fe.alternate,Xe=fe.stateNode;if(fe=fe.tag,Te!==null&&Te===y)break;fe!==5&&fe!==26&&fe!==27||Xe===null||(Te=Xe,k?(Xe=Li(p,_),Xe!=null&&J.unshift(wg(p,Xe,Te))):k||(Xe=Li(p,_),Xe!=null&&J.push(wg(p,Xe,Te)))),p=p.return}J.length!==0&&o.push({event:c,listeners:J})}var sR=/\r\n?/g,oR=/\u0000|\uFFFD/g;function AE(o){return(typeof o=="string"?o:""+o).replace(sR,`
`).replace(oR,"")}function kE(o,c){return c=AE(c),AE(o)===c}function Ry(){}function Wr(o,c,p,y,k,_){switch(p){case"children":typeof y=="string"?c==="body"||c==="textarea"&&y===""||Zi(o,y):(typeof y=="number"||typeof y=="bigint")&&c!=="body"&&Zi(o,""+y);break;case"className":Ts(o,"class",y);break;case"tabIndex":Ts(o,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":Ts(o,p,y);break;case"style":Qu(o,y,_);break;case"data":if(c!=="object"){Ts(o,"data",y);break}case"src":case"href":if(y===""&&(c!=="a"||p!=="href")){o.removeAttribute(p);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){o.removeAttribute(p);break}y=to(""+y),o.setAttribute(p,y);break;case"action":case"formAction":if(typeof y=="function"){o.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(p==="formAction"?(c!=="input"&&Wr(o,c,"name",k.name,k,null),Wr(o,c,"formEncType",k.formEncType,k,null),Wr(o,c,"formMethod",k.formMethod,k,null),Wr(o,c,"formTarget",k.formTarget,k,null)):(Wr(o,c,"encType",k.encType,k,null),Wr(o,c,"method",k.method,k,null),Wr(o,c,"target",k.target,k,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){o.removeAttribute(p);break}y=to(""+y),o.setAttribute(p,y);break;case"onClick":y!=null&&(o.onclick=Ry);break;case"onScroll":y!=null&&Gn("scroll",o);break;case"onScrollEnd":y!=null&&Gn("scrollend",o);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(p=y.__html,p!=null){if(k.children!=null)throw Error(r(60));o.innerHTML=p}}break;case"multiple":o.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":o.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){o.removeAttribute("xlink:href");break}p=to(""+y),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(p,""+y):o.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(p,""):o.removeAttribute(p);break;case"capture":case"download":y===!0?o.setAttribute(p,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(p,y):o.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?o.setAttribute(p,y):o.removeAttribute(p);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?o.removeAttribute(p):o.setAttribute(p,y);break;case"popover":Gn("beforetoggle",o),Gn("toggle",o),Xs(o,"popover",y);break;case"xlinkActuate":Ka(o,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":Ka(o,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":Ka(o,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":Ka(o,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":Ka(o,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":Ka(o,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":Ka(o,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":Ka(o,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":Ka(o,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Xs(o,"is",y);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=eo.get(p)||p,Xs(o,p,y))}}function Yw(o,c,p,y,k,_){switch(p){case"style":Qu(o,y,_);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(p=y.__html,p!=null){if(k.children!=null)throw Error(r(60));o.innerHTML=p}}break;case"children":typeof y=="string"?Zi(o,y):(typeof y=="number"||typeof y=="bigint")&&Zi(o,""+y);break;case"onScroll":y!=null&&Gn("scroll",o);break;case"onScrollEnd":y!=null&&Gn("scrollend",o);break;case"onClick":y!=null&&(o.onclick=Ry);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Io.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(k=p.endsWith("Capture"),c=p.slice(2,k?p.length-7:void 0),_=o[dr]||null,_=_!=null?_[p]:null,typeof _=="function"&&o.removeEventListener(c,_,k),typeof y=="function")){typeof _!="function"&&_!==null&&(p in o?o[p]=null:o.hasAttribute(p)&&o.removeAttribute(p)),o.addEventListener(c,y,k);break e}p in o?o[p]=y:y===!0?o.setAttribute(p,""):Xs(o,p,y)}}}function ws(o,c,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Gn("error",o),Gn("load",o);var y=!1,k=!1,_;for(_ in p)if(p.hasOwnProperty(_)){var J=p[_];if(J!=null)switch(_){case"src":y=!0;break;case"srcSet":k=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Wr(o,c,_,J,p,null)}}k&&Wr(o,c,"srcSet",p.srcSet,p,null),y&&Wr(o,c,"src",p.src,p,null);return;case"input":Gn("invalid",o);var fe=_=J=k=null,Te=null,Xe=null;for(y in p)if(p.hasOwnProperty(y)){var ht=p[y];if(ht!=null)switch(y){case"name":k=ht;break;case"type":J=ht;break;case"checked":Te=ht;break;case"defaultChecked":Xe=ht;break;case"value":_=ht;break;case"defaultValue":fe=ht;break;case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(r(137,c));break;default:Wr(o,c,y,ht,p,null)}}eu(o,_,fe,Te,Xe,J,k,!1),Xa(o);return;case"select":Gn("invalid",o),y=J=_=null;for(k in p)if(p.hasOwnProperty(k)&&(fe=p[k],fe!=null))switch(k){case"value":_=fe;break;case"defaultValue":J=fe;break;case"multiple":y=fe;default:Wr(o,c,k,fe,p,null)}c=_,p=J,o.multiple=!!y,c!=null?Zs(o,!!y,c,!1):p!=null&&Zs(o,!!y,p,!0);return;case"textarea":Gn("invalid",o),_=k=y=null;for(J in p)if(p.hasOwnProperty(J)&&(fe=p[J],fe!=null))switch(J){case"value":y=fe;break;case"defaultValue":k=fe;break;case"children":_=fe;break;case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(91));break;default:Wr(o,c,J,fe,p,null)}Js(o,y,k,_),Xa(o);return;case"option":for(Te in p)if(p.hasOwnProperty(Te)&&(y=p[Te],y!=null))switch(Te){case"selected":o.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:Wr(o,c,Te,y,p,null)}return;case"dialog":Gn("beforetoggle",o),Gn("toggle",o),Gn("cancel",o),Gn("close",o);break;case"iframe":case"object":Gn("load",o);break;case"video":case"audio":for(y=0;y<vg.length;y++)Gn(vg[y],o);break;case"image":Gn("error",o),Gn("load",o);break;case"details":Gn("toggle",o);break;case"embed":case"source":case"link":Gn("error",o),Gn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Xe in p)if(p.hasOwnProperty(Xe)&&(y=p[Xe],y!=null))switch(Xe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Wr(o,c,Xe,y,p,null)}return;default:if(Za(c)){for(ht in p)p.hasOwnProperty(ht)&&(y=p[ht],y!==void 0&&Yw(o,c,ht,y,p,void 0));return}}for(fe in p)p.hasOwnProperty(fe)&&(y=p[fe],y!=null&&Wr(o,c,fe,y,p,null))}function lR(o,c,p,y){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var k=null,_=null,J=null,fe=null,Te=null,Xe=null,ht=null;for(nt in p){var vt=p[nt];if(p.hasOwnProperty(nt)&&vt!=null)switch(nt){case"checked":break;case"value":break;case"defaultValue":Te=vt;default:y.hasOwnProperty(nt)||Wr(o,c,nt,null,y,vt)}}for(var Je in y){var nt=y[Je];if(vt=p[Je],y.hasOwnProperty(Je)&&(nt!=null||vt!=null))switch(Je){case"type":_=nt;break;case"name":k=nt;break;case"checked":Xe=nt;break;case"defaultChecked":ht=nt;break;case"value":J=nt;break;case"defaultValue":fe=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(r(137,c));break;default:nt!==vt&&Wr(o,c,Je,nt,y,vt)}}Oo(o,J,fe,Te,Xe,ht,_,k);return;case"select":nt=J=fe=Je=null;for(_ in p)if(Te=p[_],p.hasOwnProperty(_)&&Te!=null)switch(_){case"value":break;case"multiple":nt=Te;default:y.hasOwnProperty(_)||Wr(o,c,_,null,y,Te)}for(k in y)if(_=y[k],Te=p[k],y.hasOwnProperty(k)&&(_!=null||Te!=null))switch(k){case"value":Je=_;break;case"defaultValue":fe=_;break;case"multiple":J=_;default:_!==Te&&Wr(o,c,k,_,y,Te)}c=fe,p=J,y=nt,Je!=null?Zs(o,!!p,Je,!1):!!y!=!!p&&(c!=null?Zs(o,!!p,c,!0):Zs(o,!!p,p?[]:"",!1));return;case"textarea":nt=Je=null;for(fe in p)if(k=p[fe],p.hasOwnProperty(fe)&&k!=null&&!y.hasOwnProperty(fe))switch(fe){case"value":break;case"children":break;default:Wr(o,c,fe,null,y,k)}for(J in y)if(k=y[J],_=p[J],y.hasOwnProperty(J)&&(k!=null||_!=null))switch(J){case"value":Je=k;break;case"defaultValue":nt=k;break;case"children":break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:k!==_&&Wr(o,c,J,k,y,_)}Gu(o,Je,nt);return;case"option":for(var xn in p)if(Je=p[xn],p.hasOwnProperty(xn)&&Je!=null&&!y.hasOwnProperty(xn))switch(xn){case"selected":o.selected=!1;break;default:Wr(o,c,xn,null,y,Je)}for(Te in y)if(Je=y[Te],nt=p[Te],y.hasOwnProperty(Te)&&Je!==nt&&(Je!=null||nt!=null))switch(Te){case"selected":o.selected=Je&&typeof Je!="function"&&typeof Je!="symbol";break;default:Wr(o,c,Te,Je,y,nt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dn in p)Je=p[dn],p.hasOwnProperty(dn)&&Je!=null&&!y.hasOwnProperty(dn)&&Wr(o,c,dn,null,y,Je);for(Xe in y)if(Je=y[Xe],nt=p[Xe],y.hasOwnProperty(Xe)&&Je!==nt&&(Je!=null||nt!=null))switch(Xe){case"children":case"dangerouslySetInnerHTML":if(Je!=null)throw Error(r(137,c));break;default:Wr(o,c,Xe,Je,y,nt)}return;default:if(Za(c)){for(var Yr in p)Je=p[Yr],p.hasOwnProperty(Yr)&&Je!==void 0&&!y.hasOwnProperty(Yr)&&Yw(o,c,Yr,void 0,y,Je);for(ht in y)Je=y[ht],nt=p[ht],!y.hasOwnProperty(ht)||Je===nt||Je===void 0&&nt===void 0||Yw(o,c,ht,Je,y,nt);return}}for(var $e in p)Je=p[$e],p.hasOwnProperty($e)&&Je!=null&&!y.hasOwnProperty($e)&&Wr(o,c,$e,null,y,Je);for(vt in y)Je=y[vt],nt=p[vt],!y.hasOwnProperty(vt)||Je===nt||Je==null&&nt==null||Wr(o,c,vt,Je,y,nt)}var Gw=null,Qw=null;function Py(o){return o.nodeType===9?o:o.ownerDocument}function EE(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jE(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function Kw(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Xw=null;function uR(){var o=window.event;return o&&o.type==="popstate"?o===Xw?!1:(Xw=o,!0):(Xw=null,!1)}var TE=typeof setTimeout=="function"?setTimeout:void 0,cR=typeof clearTimeout=="function"?clearTimeout:void 0,NE=typeof Promise=="function"?Promise:void 0,dR=typeof queueMicrotask=="function"?queueMicrotask:typeof NE<"u"?function(o){return NE.resolve(null).then(o).catch(fR)}:TE;function fR(o){setTimeout(function(){throw o})}function Lf(o){return o==="head"}function DE(o,c){var p=c,y=0,k=0;do{var _=p.nextSibling;if(o.removeChild(p),_&&_.nodeType===8)if(p=_.data,p==="/$"){if(0<y&&8>y){p=y;var J=o.ownerDocument;if(p&1&&Sg(J.documentElement),p&2&&Sg(J.body),p&4)for(p=J.head,Sg(p),J=p.firstChild;J;){var fe=J.nextSibling,Te=J.nodeName;J[Or]||Te==="SCRIPT"||Te==="STYLE"||Te==="LINK"&&J.rel.toLowerCase()==="stylesheet"||p.removeChild(J),J=fe}}if(k===0){o.removeChild(_),Dg(c);return}k--}else p==="$"||p==="$?"||p==="$!"?k++:y=p.charCodeAt(0)-48;else y=0;p=_}while(p);Dg(c)}function Zw(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var p=c;switch(c=c.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":Zw(p),Ha(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}o.removeChild(p)}}function hR(o,c,p,y){for(;o.nodeType===1;){var k=p;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!y&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(y){if(!o[Or])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(_=o.getAttribute("rel"),_==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(_!==k.rel||o.getAttribute("href")!==(k.href==null||k.href===""?null:k.href)||o.getAttribute("crossorigin")!==(k.crossOrigin==null?null:k.crossOrigin)||o.getAttribute("title")!==(k.title==null?null:k.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(_=o.getAttribute("src"),(_!==(k.src==null?null:k.src)||o.getAttribute("type")!==(k.type==null?null:k.type)||o.getAttribute("crossorigin")!==(k.crossOrigin==null?null:k.crossOrigin))&&_&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var _=k.name==null?null:""+k.name;if(k.type==="hidden"&&o.getAttribute("name")===_)return o}else return o;if(o=yu(o.nextSibling),o===null)break}return null}function pR(o,c,p){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!p||(o=yu(o.nextSibling),o===null))return null;return o}function Jw(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function mR(o,c){var p=o.ownerDocument;if(o.data!=="$?"||p.readyState==="complete")c();else{var y=function(){c(),p.removeEventListener("DOMContentLoaded",y)};p.addEventListener("DOMContentLoaded",y),o._reactRetry=y}}function yu(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return o}var e5=null;function _E(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"){if(c===0)return o;c--}else p==="/$"&&c++}o=o.previousSibling}return null}function IE(o,c,p){switch(c=Py(p),o){case"html":if(o=c.documentElement,!o)throw Error(r(452));return o;case"head":if(o=c.head,!o)throw Error(r(453));return o;case"body":if(o=c.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Sg(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);Ha(o)}var Nl=new Map,OE=new Set;function Fy(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Md=Y.d;Y.d={f:gR,r:bR,D:yR,C:xR,L:vR,m:wR,X:CR,S:SR,M:AR};function gR(){var o=Md.f(),c=Ny();return o||c}function bR(o){var c=Xi(o);c!==null&&c.tag===5&&c.type==="form"?Yh(c):Md.r(o)}var m0=typeof document>"u"?null:document;function ME(o,c,p){var y=m0;if(y&&typeof c=="string"&&c){var k=yr(c);k='link[rel="'+o+'"][href="'+k+'"]',typeof p=="string"&&(k+='[crossorigin="'+p+'"]'),OE.has(k)||(OE.add(k),o={rel:o,crossOrigin:p,href:c},y.querySelector(k)===null&&(c=y.createElement("link"),ws(c,"link",o),sr(c),y.head.appendChild(c)))}}function yR(o){Md.D(o),ME("dns-prefetch",o,null)}function xR(o,c){Md.C(o,c),ME("preconnect",o,c)}function vR(o,c,p){Md.L(o,c,p);var y=m0;if(y&&o&&c){var k='link[rel="preload"][as="'+yr(c)+'"]';c==="image"&&p&&p.imageSrcSet?(k+='[imagesrcset="'+yr(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(k+='[imagesizes="'+yr(p.imageSizes)+'"]')):k+='[href="'+yr(o)+'"]';var _=k;switch(c){case"style":_=g0(o);break;case"script":_=b0(o)}Nl.has(_)||(o=h({rel:"preload",href:c==="image"&&p&&p.imageSrcSet?void 0:o,as:c},p),Nl.set(_,o),y.querySelector(k)!==null||c==="style"&&y.querySelector(Cg(_))||c==="script"&&y.querySelector(Ag(_))||(c=y.createElement("link"),ws(c,"link",o),sr(c),y.head.appendChild(c)))}}function wR(o,c){Md.m(o,c);var p=m0;if(p&&o){var y=c&&typeof c.as=="string"?c.as:"script",k='link[rel="modulepreload"][as="'+yr(y)+'"][href="'+yr(o)+'"]',_=k;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=b0(o)}if(!Nl.has(_)&&(o=h({rel:"modulepreload",href:o},c),Nl.set(_,o),p.querySelector(k)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(Ag(_)))return}y=p.createElement("link"),ws(y,"link",o),sr(y),p.head.appendChild(y)}}}function SR(o,c,p){Md.S(o,c,p);var y=m0;if(y&&o){var k=Mi(y).hoistableStyles,_=g0(o);c=c||"default";var J=k.get(_);if(!J){var fe={loading:0,preload:null};if(J=y.querySelector(Cg(_)))fe.loading=5;else{o=h({rel:"stylesheet",href:o,"data-precedence":c},p),(p=Nl.get(_))&&t5(o,p);var Te=J=y.createElement("link");sr(Te),ws(Te,"link",o),Te._p=new Promise(function(Xe,ht){Te.onload=Xe,Te.onerror=ht}),Te.addEventListener("load",function(){fe.loading|=1}),Te.addEventListener("error",function(){fe.loading|=2}),fe.loading|=4,zy(J,c,y)}J={type:"stylesheet",instance:J,count:1,state:fe},k.set(_,J)}}}function CR(o,c){Md.X(o,c);var p=m0;if(p&&o){var y=Mi(p).hoistableScripts,k=b0(o),_=y.get(k);_||(_=p.querySelector(Ag(k)),_||(o=h({src:o,async:!0},c),(c=Nl.get(k))&&n5(o,c),_=p.createElement("script"),sr(_),ws(_,"link",o),p.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},y.set(k,_))}}function AR(o,c){Md.M(o,c);var p=m0;if(p&&o){var y=Mi(p).hoistableScripts,k=b0(o),_=y.get(k);_||(_=p.querySelector(Ag(k)),_||(o=h({src:o,async:!0,type:"module"},c),(c=Nl.get(k))&&n5(o,c),_=p.createElement("script"),sr(_),ws(_,"link",o),p.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},y.set(k,_))}}function LE(o,c,p,y){var k=(k=ee.current)?Fy(k):null;if(!k)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(c=g0(p.href),p=Mi(k).hoistableStyles,y=p.get(c),y||(y={type:"style",instance:null,count:0,state:null},p.set(c,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){o=g0(p.href);var _=Mi(k).hoistableStyles,J=_.get(o);if(J||(k=k.ownerDocument||k,J={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(o,J),(_=k.querySelector(Cg(o)))&&!_._p&&(J.instance=_,J.state.loading=5),Nl.has(o)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Nl.set(o,p),_||kR(k,o,p,J.state))),c&&y===null)throw Error(r(528,""));return J}if(c&&y!==null)throw Error(r(529,""));return null;case"script":return c=p.async,p=p.src,typeof p=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=b0(p),p=Mi(k).hoistableScripts,y=p.get(c),y||(y={type:"script",instance:null,count:0,state:null},p.set(c,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function g0(o){return'href="'+yr(o)+'"'}function Cg(o){return'link[rel="stylesheet"]['+o+"]"}function RE(o){return h({},o,{"data-precedence":o.precedence,precedence:null})}function kR(o,c,p,y){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?y.loading=1:(c=o.createElement("link"),y.preload=c,c.addEventListener("load",function(){return y.loading|=1}),c.addEventListener("error",function(){return y.loading|=2}),ws(c,"link",p),sr(c),o.head.appendChild(c))}function b0(o){return'[src="'+yr(o)+'"]'}function Ag(o){return"script[async]"+o}function PE(o,c,p){if(c.count++,c.instance===null)switch(c.type){case"style":var y=o.querySelector('style[data-href~="'+yr(p.href)+'"]');if(y)return c.instance=y,sr(y),y;var k=h({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return y=(o.ownerDocument||o).createElement("style"),sr(y),ws(y,"style",k),zy(y,p.precedence,o),c.instance=y;case"stylesheet":k=g0(p.href);var _=o.querySelector(Cg(k));if(_)return c.state.loading|=4,c.instance=_,sr(_),_;y=RE(p),(k=Nl.get(k))&&t5(y,k),_=(o.ownerDocument||o).createElement("link"),sr(_);var J=_;return J._p=new Promise(function(fe,Te){J.onload=fe,J.onerror=Te}),ws(_,"link",y),c.state.loading|=4,zy(_,p.precedence,o),c.instance=_;case"script":return _=b0(p.src),(k=o.querySelector(Ag(_)))?(c.instance=k,sr(k),k):(y=p,(k=Nl.get(_))&&(y=h({},p),n5(y,k)),o=o.ownerDocument||o,k=o.createElement("script"),sr(k),ws(k,"link",y),o.head.appendChild(k),c.instance=k);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(y=c.instance,c.state.loading|=4,zy(y,p.precedence,o));return c.instance}function zy(o,c,p){for(var y=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),k=y.length?y[y.length-1]:null,_=k,J=0;J<y.length;J++){var fe=y[J];if(fe.dataset.precedence===c)_=fe;else if(_!==k)break}_?_.parentNode.insertBefore(o,_.nextSibling):(c=p.nodeType===9?p.head:p,c.insertBefore(o,c.firstChild))}function t5(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function n5(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var qy=null;function FE(o,c,p){if(qy===null){var y=new Map,k=qy=new Map;k.set(p,y)}else k=qy,y=k.get(p),y||(y=new Map,k.set(p,y));if(y.has(o))return y;for(y.set(o,null),p=p.getElementsByTagName(o),k=0;k<p.length;k++){var _=p[k];if(!(_[Or]||_[Zn]||o==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var J=_.getAttribute(c)||"";J=o+J;var fe=y.get(J);fe?fe.push(_):y.set(J,[_])}}return y}function zE(o,c,p){o=o.ownerDocument||o,o.head.insertBefore(p,c==="title"?o.querySelector("head > title"):null)}function ER(o,c,p){if(p===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function qE(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var kg=null;function jR(){}function TR(o,c,p){if(kg===null)throw Error(r(475));var y=kg;if(c.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var k=g0(p.href),_=o.querySelector(Cg(k));if(_){o=_._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(y.count++,y=By.bind(y),o.then(y,y)),c.state.loading|=4,c.instance=_,sr(_);return}_=o.ownerDocument||o,p=RE(p),(k=Nl.get(k))&&t5(p,k),_=_.createElement("link"),sr(_);var J=_;J._p=new Promise(function(fe,Te){J.onload=fe,J.onerror=Te}),ws(_,"link",p),c.instance=_}y.stylesheets===null&&(y.stylesheets=new Map),y.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(y.count++,c=By.bind(y),o.addEventListener("load",c),o.addEventListener("error",c))}}function NR(){if(kg===null)throw Error(r(475));var o=kg;return o.stylesheets&&o.count===0&&r5(o,o.stylesheets),0<o.count?function(c){var p=setTimeout(function(){if(o.stylesheets&&r5(o,o.stylesheets),o.unsuspend){var y=o.unsuspend;o.unsuspend=null,y()}},6e4);return o.unsuspend=c,function(){o.unsuspend=null,clearTimeout(p)}}:null}function By(){if(this.count--,this.count===0){if(this.stylesheets)r5(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var $y=null;function r5(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,$y=new Map,c.forEach(DR,o),$y=null,By.call(o))}function DR(o,c){if(!(c.state.loading&4)){var p=$y.get(o);if(p)var y=p.get(null);else{p=new Map,$y.set(o,p);for(var k=o.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<k.length;_++){var J=k[_];(J.nodeName==="LINK"||J.getAttribute("media")!=="not all")&&(p.set(J.dataset.precedence,J),y=J)}y&&p.set(null,y)}k=c.instance,J=k.getAttribute("data-precedence"),_=p.get(J)||y,_===y&&p.set(null,k),p.set(J,k),this.count++,y=By.bind(this),k.addEventListener("load",y),k.addEventListener("error",y),_?_.parentNode.insertBefore(k,_.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(k,o.firstChild)),c.state.loading|=4}}var Eg={$$typeof:N,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function _R(o,c,p,y,k,_,J,fe){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Er(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Er(0),this.hiddenUpdates=Er(null),this.identifierPrefix=y,this.onUncaughtError=k,this.onCaughtError=_,this.onRecoverableError=J,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=fe,this.incompleteTransitions=new Map}function BE(o,c,p,y,k,_,J,fe,Te,Xe,ht,vt){return o=new _R(o,c,p,J,fe,Te,Xe,vt),c=1,_===!0&&(c|=24),_=rs(3,null,null,c),o.current=_,_.stateNode=o,c=Qm(),c.refCount++,o.pooledCache=c,c.refCount++,_.memoizedState={element:y,isDehydrated:p,cache:c},Le(_),o}function $E(o){return o?(o=La,o):La}function UE(o,c,p,y,k,_){k=$E(k),y.context===null?y.context=k:y.pendingContext=k,y=ft(c),y.payload={element:p},_=_===void 0?null:_,_!==null&&(y.callback=_),p=bt(o,y,c),p!==null&&(Qo(p,o,c),pt(p,o,c))}function HE(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<c?p:c}}function i5(o,c){HE(o,c),(o=o.alternate)&&HE(o,c)}function VE(o){if(o.tag===13){var c=au(o,67108864);c!==null&&Qo(c,o,67108864),i5(o,67108864)}}var Uy=!0;function IR(o,c,p,y){var k=$.T;$.T=null;var _=Y.p;try{Y.p=2,a5(o,c,p,y)}finally{Y.p=_,$.T=k}}function OR(o,c,p,y){var k=$.T;$.T=null;var _=Y.p;try{Y.p=8,a5(o,c,p,y)}finally{Y.p=_,$.T=k}}function a5(o,c,p,y){if(Uy){var k=s5(y);if(k===null)Ww(o,c,y,Hy,p),YE(o,y);else if(LR(k,o,c,p,y))y.stopPropagation();else if(YE(o,y),c&4&&-1<MR.indexOf(o)){for(;k!==null;){var _=Xi(k);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var J=jt(_.pendingLanes);if(J!==0){var fe=_;for(fe.pendingLanes|=2,fe.entangledLanes|=2;J;){var Te=1<<31-ke(J);fe.entanglements[1]|=Te,J&=~Te}xc(_),(Rr&6)===0&&(jy=tt()+500,xg(0))}}break;case 13:fe=au(_,2),fe!==null&&Qo(fe,_,2),Ny(),i5(_,2)}if(_=s5(y),_===null&&Ww(o,c,y,Hy,p),_===k)break;k=_}k!==null&&y.stopPropagation()}else Ww(o,c,y,null,p)}}function s5(o){return o=mi(o),o5(o)}var Hy=null;function o5(o){if(Hy=null,o=Ki(o),o!==null){var c=a(o);if(c===null)o=null;else{var p=c.tag;if(p===13){if(o=s(c),o!==null)return o;o=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return Hy=o,null}function WE(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dt()){case lt:return 2;case Ze:return 8;case ut:case wt:return 32;case Et:return 268435456;default:return 32}default:return 32}}var l5=!1,Rf=null,Pf=null,Ff=null,jg=new Map,Tg=new Map,zf=[],MR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function YE(o,c){switch(o){case"focusin":case"focusout":Rf=null;break;case"dragenter":case"dragleave":Pf=null;break;case"mouseover":case"mouseout":Ff=null;break;case"pointerover":case"pointerout":jg.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tg.delete(c.pointerId)}}function Ng(o,c,p,y,k,_){return o===null||o.nativeEvent!==_?(o={blockedOn:c,domEventName:p,eventSystemFlags:y,nativeEvent:_,targetContainers:[k]},c!==null&&(c=Xi(c),c!==null&&VE(c)),o):(o.eventSystemFlags|=y,c=o.targetContainers,k!==null&&c.indexOf(k)===-1&&c.push(k),o)}function LR(o,c,p,y,k){switch(c){case"focusin":return Rf=Ng(Rf,o,c,p,y,k),!0;case"dragenter":return Pf=Ng(Pf,o,c,p,y,k),!0;case"mouseover":return Ff=Ng(Ff,o,c,p,y,k),!0;case"pointerover":var _=k.pointerId;return jg.set(_,Ng(jg.get(_)||null,o,c,p,y,k)),!0;case"gotpointercapture":return _=k.pointerId,Tg.set(_,Ng(Tg.get(_)||null,o,c,p,y,k)),!0}return!1}function GE(o){var c=Ki(o.target);if(c!==null){var p=a(c);if(p!==null){if(c=p.tag,c===13){if(c=s(p),c!==null){o.blockedOn=c,Oi(o.priority,function(){if(p.tag===13){var y=Go();y=fa(y);var k=au(p,y);k!==null&&Qo(k,p,y),i5(p,y)}});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Vy(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var p=s5(o.nativeEvent);if(p===null){p=o.nativeEvent;var y=new p.constructor(p.type,p);ml=y,p.target.dispatchEvent(y),ml=null}else return c=Xi(p),c!==null&&VE(c),o.blockedOn=p,!1;c.shift()}return!0}function QE(o,c,p){Vy(o)&&p.delete(c)}function RR(){l5=!1,Rf!==null&&Vy(Rf)&&(Rf=null),Pf!==null&&Vy(Pf)&&(Pf=null),Ff!==null&&Vy(Ff)&&(Ff=null),jg.forEach(QE),Tg.forEach(QE)}function Wy(o,c){o.blockedOn===c&&(o.blockedOn=null,l5||(l5=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,RR)))}var Yy=null;function KE(o){Yy!==o&&(Yy=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Yy===o&&(Yy=null);for(var c=0;c<o.length;c+=3){var p=o[c],y=o[c+1],k=o[c+2];if(typeof y!="function"){if(o5(y||p)===null)continue;break}var _=Xi(p);_!==null&&(o.splice(c,3),c-=3,El(_,{pending:!0,data:k,method:p.method,action:y},y,k))}}))}function Dg(o){function c(Te){return Wy(Te,o)}Rf!==null&&Wy(Rf,o),Pf!==null&&Wy(Pf,o),Ff!==null&&Wy(Ff,o),jg.forEach(c),Tg.forEach(c);for(var p=0;p<zf.length;p++){var y=zf[p];y.blockedOn===o&&(y.blockedOn=null)}for(;0<zf.length&&(p=zf[0],p.blockedOn===null);)GE(p),p.blockedOn===null&&zf.shift();if(p=(o.ownerDocument||o).$$reactFormReplay,p!=null)for(y=0;y<p.length;y+=3){var k=p[y],_=p[y+1],J=k[dr]||null;if(typeof _=="function")J||KE(p);else if(J){var fe=null;if(_&&_.hasAttribute("formAction")){if(k=_,J=_[dr]||null)fe=J.formAction;else if(o5(k)!==null)continue}else fe=J.action;typeof fe=="function"?p[y+1]=fe:(p.splice(y,3),y-=3),KE(p)}}}function u5(o){this._internalRoot=o}Gy.prototype.render=u5.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));var p=c.current,y=Go();UE(p,y,o,c,null,null)},Gy.prototype.unmount=u5.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;UE(o.current,2,null,o,null,null),Ny(),c[$r]=null}};function Gy(o){this._internalRoot=o}Gy.prototype.unstable_scheduleHydration=function(o){if(o){var c=Vn();o={blockedOn:null,target:o,priority:c};for(var p=0;p<zf.length&&c!==0&&c<zf[p].priority;p++);zf.splice(p,0,o),p===0&&GE(o)}};var XE=n.version;if(XE!=="19.1.1")throw Error(r(527,XE,"19.1.1"));Y.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=u(c),o=o!==null?f(o):null,o=o===null?null:o.stateNode,o};var PR={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qy.isDisabled&&Qy.supportsFiber)try{Qe=Qy.inject(PR),Se=Qy}catch{}}return _g.createRoot=function(o,c){if(!i(o))throw Error(r(299));var p=!1,y="",k=hk,_=pk,J=mk,fe=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(k=c.onUncaughtError),c.onCaughtError!==void 0&&(_=c.onCaughtError),c.onRecoverableError!==void 0&&(J=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(fe=c.unstable_transitionCallbacks)),c=BE(o,1,!1,null,null,p,y,k,_,J,fe,null),o[$r]=c.current,Vw(o),new u5(c)},_g.hydrateRoot=function(o,c,p){if(!i(o))throw Error(r(299));var y=!1,k="",_=hk,J=pk,fe=mk,Te=null,Xe=null;return p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(k=p.identifierPrefix),p.onUncaughtError!==void 0&&(_=p.onUncaughtError),p.onCaughtError!==void 0&&(J=p.onCaughtError),p.onRecoverableError!==void 0&&(fe=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(Te=p.unstable_transitionCallbacks),p.formState!==void 0&&(Xe=p.formState)),c=BE(o,1,!0,c,p??null,y,k,_,J,fe,Te,Xe),c.context=$E(null),p=c.current,y=Go(),y=fa(y),k=ft(y),k.callback=null,bt(p,k,y),p=y,c.current.lanes=p,Hn(c,p),xc(c),o[$r]=c.current,Vw(o),new Gy(c)},_g.version="19.1.1",_g}var l8;function c3(){if(l8)return d5.exports;l8=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),d5.exports=u3(),d5.exports}var d3=c3();const f3=Ta(d3);typeof window<"u"&&(window.styled_default=Ut,window.styled=Ut);typeof globalThis<"u"&&(globalThis.styled_default=Ut,globalThis.styled=Ut);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function U1(){return U1=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},U1.apply(this,arguments)}var up;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(up||(up={}));const u8="popstate";function h3(e){e===void 0&&(e={});function n(r,i){let{pathname:a,search:s,hash:l}=r.location;return OS("",{pathname:a,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:N_(i)}return m3(n,t,null,e)}function Qs(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function T_(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function p3(){return Math.random().toString(36).substr(2,8)}function c8(e,n){return{usr:e.state,key:e.key,idx:n}}function OS(e,n,t,r){return t===void 0&&(t=null),U1({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof n=="string"?vb(n):n,{state:t,key:n&&n.key||r||p3()})}function N_(e){let{pathname:n="/",search:t="",hash:r=""}=e;return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function vb(e){let n={};if(e){let t=e.indexOf("#");t>=0&&(n.hash=e.substr(t),e=e.substr(0,t));let r=e.indexOf("?");r>=0&&(n.search=e.substr(r),e=e.substr(0,r)),e&&(n.pathname=e)}return n}function m3(e,n,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,l=up.Pop,u=null,f=h();f==null&&(f=0,s.replaceState(U1({},s.state,{idx:f}),""));function h(){return(s.state||{idx:null}).idx}function m(){l=up.Pop;let C=h(),S=C==null?null:C-f;f=C,u&&u({action:l,location:x.location,delta:S})}function b(C,S){l=up.Push;let A=OS(x.location,C,S);f=h()+1;let N=c8(A,f),P=x.createHref(A);try{s.pushState(N,"",P)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(P)}a&&u&&u({action:l,location:x.location,delta:1})}function g(C,S){l=up.Replace;let A=OS(x.location,C,S);f=h();let N=c8(A,f),P=x.createHref(A);s.replaceState(N,"",P),a&&u&&u({action:l,location:x.location,delta:0})}function v(C){let S=i.location.origin!=="null"?i.location.origin:i.location.href,A=typeof C=="string"?C:N_(C);return A=A.replace(/ $/,"%20"),Qs(S,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,S)}let x={get action(){return l},get location(){return e(i,s)},listen(C){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(u8,m),u=C,()=>{i.removeEventListener(u8,m),u=null}},createHref(C){return n(i,C)},createURL:v,encodeLocation(C){let S=v(C);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:b,replace:g,go(C){return s.go(C)}};return x}var d8;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(d8||(d8={}));function g3(e,n,t){return t===void 0&&(t="/"),b3(e,n,t)}function b3(e,n,t,r){let i=typeof n=="string"?vb(n):n,a=I_(i.pathname||"/",t);if(a==null)return null;let s=D_(e);y3(s);let l=null;for(let u=0;l==null&&u<s.length;++u){let f=D3(a);l=j3(s[u],f)}return l}function D_(e,n,t,r){n===void 0&&(n=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(a,s,l)=>{let u={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};u.relativePath.startsWith("/")&&(Qs(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let f=hp([r,u.relativePath]),h=t.concat(u);a.children&&a.children.length>0&&(Qs(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),D_(a.children,n,h,f)),!(a.path==null&&!a.index)&&n.push({path:f,score:k3(f,a.index),routesMeta:h})};return e.forEach((a,s)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,s);else for(let u of __(a.path))i(a,s,u)}),n}function __(e){let n=e.split("/");if(n.length===0)return[];let[t,...r]=n,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=__(r.join("/")),l=[];return l.push(...s.map(u=>u===""?a:[a,u].join("/"))),i&&l.push(...s),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function y3(e){e.sort((n,t)=>n.score!==t.score?t.score-n.score:E3(n.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const x3=/^:[\w-]+$/,v3=3,w3=2,S3=1,C3=10,A3=-2,f8=e=>e==="*";function k3(e,n){let t=e.split("/"),r=t.length;return t.some(f8)&&(r+=A3),n&&(r+=w3),t.filter(i=>!f8(i)).reduce((i,a)=>i+(x3.test(a)?v3:a===""?S3:C3),r)}function E3(e,n){return e.length===n.length&&e.slice(0,-1).every((r,i)=>r===n[i])?e[e.length-1]-n[n.length-1]:0}function j3(e,n,t){let{routesMeta:r}=e,i={},a="/",s=[];for(let l=0;l<r.length;++l){let u=r[l],f=l===r.length-1,h=a==="/"?n:n.slice(a.length)||"/",m=T3({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},h),b=u.route;if(!m)return null;Object.assign(i,m.params),s.push({params:i,pathname:hp([a,m.pathname]),pathnameBase:M3(hp([a,m.pathnameBase])),route:b}),m.pathnameBase!=="/"&&(a=hp([a,m.pathnameBase]))}return s}function T3(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[t,r]=N3(e.path,e.caseSensitive,e.end),i=n.match(t);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((f,h,m)=>{let{paramName:b,isOptional:g}=h;if(b==="*"){let x=l[m]||"";s=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const v=l[m];return g&&!v?f[b]=void 0:f[b]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:s,pattern:e}}function N3(e,n,t){n===void 0&&(n=!1),t===void 0&&(t=!0),T_(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,n?void 0:"i"),r]}function D3(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return T_(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),e}}function I_(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let t=n.endsWith("/")?n.length-1:n.length,r=e.charAt(t);return r&&r!=="/"?null:e.slice(t)||"/"}function _3(e,n){n===void 0&&(n="/");let{pathname:t,search:r="",hash:i=""}=typeof e=="string"?vb(e):e;return{pathname:t?t.startsWith("/")?t:I3(t,n):n,search:L3(r),hash:R3(i)}}function I3(e,n){let t=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function p5(e,n,t,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function O3(e){return e.filter((n,t)=>t===0||n.route.path&&n.route.path.length>0)}function O_(e,n){let t=O3(e);return n?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function M_(e,n,t,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=vb(e):(i=U1({},e),Qs(!i.pathname||!i.pathname.includes("?"),p5("?","pathname","search",i)),Qs(!i.pathname||!i.pathname.includes("#"),p5("#","pathname","hash",i)),Qs(!i.search||!i.search.includes("#"),p5("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,l;if(s==null)l=t;else{let m=n.length-1;if(!r&&s.startsWith("..")){let b=s.split("/");for(;b[0]==="..";)b.shift(),m-=1;i.pathname=b.join("/")}l=m>=0?n[m]:"/"}let u=_3(i,l),f=s&&s!=="/"&&s.endsWith("/"),h=(a||s===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(f||h)&&(u.pathname+="/"),u}const hp=e=>e.join("/").replace(/\/\/+/g,"/"),M3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),L3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,R3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function P3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const L_=["post","put","patch","delete"];new Set(L_);const F3=["get",...L_];new Set(F3);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function av(){return av=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},av.apply(this,arguments)}const yC=M.createContext(null),z3=M.createContext(null),wb=M.createContext(null),xC=M.createContext(null),vh=M.createContext({outlet:null,matches:[],isDataRoute:!1}),R_=M.createContext(null);function Sb(){return M.useContext(xC)!=null}function Cb(){return Sb()||Qs(!1),M.useContext(xC).location}function P_(e){M.useContext(wb).static||M.useLayoutEffect(e)}function Na(){let{isDataRoute:e}=M.useContext(vh);return e?Z3():q3()}function q3(){Sb()||Qs(!1);let e=M.useContext(yC),{basename:n,future:t,navigator:r}=M.useContext(wb),{matches:i}=M.useContext(vh),{pathname:a}=Cb(),s=JSON.stringify(O_(i,t.v7_relativeSplatPath)),l=M.useRef(!1);return P_(()=>{l.current=!0}),M.useCallback(function(f,h){if(h===void 0&&(h={}),!l.current)return;if(typeof f=="number"){r.go(f);return}let m=M_(f,JSON.parse(s),a,h.relative==="path");e==null&&n!=="/"&&(m.pathname=m.pathname==="/"?n:hp([n,m.pathname])),(h.replace?r.replace:r.push)(m,h.state,h)},[n,r,s,a,e])}function vC(){let{matches:e}=M.useContext(vh),n=e[e.length-1];return n?n.params:{}}function B3(e,n){return $3(e)}function $3(e,n,t,r){Sb()||Qs(!1);let{navigator:i}=M.useContext(wb),{matches:a}=M.useContext(vh),s=a[a.length-1],l=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let f=Cb(),h;h=f;let m=h.pathname||"/",b=m;if(u!=="/"){let x=u.replace(/^\//,"").split("/");b="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=g3(e,{pathname:b});return Y3(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:hp([u,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:hp([u,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,t,r)}function U3(){let e=X3(),n=P3(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),t=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},n),t?M.createElement("pre",{style:i},t):null,null)}const H3=M.createElement(U3,null);class V3 extends M.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?M.createElement(vh.Provider,{value:this.props.routeContext},M.createElement(R_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function W3(e){let{routeContext:n,match:t,children:r}=e,i=M.useContext(yC);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),M.createElement(vh.Provider,{value:n},r)}function Y3(e,n,t,r){var i;if(n===void 0&&(n=[]),t===void 0&&(t=null),r===void 0&&(r=null),e==null){var a;if(!t)return null;if(t.errors)e=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&n.length===0&&!t.initialized&&t.matches.length>0)e=t.matches;else return null}let s=e,l=(i=t)==null?void 0:i.errors;if(l!=null){let h=s.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);h>=0||Qs(!1),s=s.slice(0,Math.min(s.length,h+1))}let u=!1,f=-1;if(t&&r&&r.v7_partialHydration)for(let h=0;h<s.length;h++){let m=s[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=h),m.route.id){let{loaderData:b,errors:g}=t,v=m.route.loader&&b[m.route.id]===void 0&&(!g||g[m.route.id]===void 0);if(m.route.lazy||v){u=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((h,m,b)=>{let g,v=!1,x=null,C=null;t&&(g=l&&m.route.id?l[m.route.id]:void 0,x=m.route.errorElement||H3,u&&(f<0&&b===0?(J3("route-fallback"),v=!0,C=null):f===b&&(v=!0,C=m.route.hydrateFallbackElement||null)));let S=n.concat(s.slice(0,b+1)),A=()=>{let N;return g?N=x:v?N=C:m.route.Component?N=M.createElement(m.route.Component,null):m.route.element?N=m.route.element:N=h,M.createElement(W3,{match:m,routeContext:{outlet:h,matches:S,isDataRoute:t!=null},children:N})};return t&&(m.route.ErrorBoundary||m.route.errorElement||b===0)?M.createElement(V3,{location:t.location,revalidation:t.revalidation,component:x,error:g,children:A(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):A()},null)}var F_=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(F_||{}),z_=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(z_||{});function G3(e){let n=M.useContext(yC);return n||Qs(!1),n}function Q3(e){let n=M.useContext(z3);return n||Qs(!1),n}function K3(e){let n=M.useContext(vh);return n||Qs(!1),n}function q_(e){let n=K3(),t=n.matches[n.matches.length-1];return t.route.id||Qs(!1),t.route.id}function X3(){var e;let n=M.useContext(R_),t=Q3(),r=q_();return n!==void 0?n:(e=t.errors)==null?void 0:e[r]}function Z3(){let{router:e}=G3(F_.UseNavigateStable),n=q_(z_.UseNavigateStable),t=M.useRef(!1);return P_(()=>{t.current=!0}),M.useCallback(function(i,a){a===void 0&&(a={}),t.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,av({fromRouteId:n},a)))},[e,n])}const h8={};function J3(e,n,t){h8[e]||(h8[e]=!0)}function eF(e,n){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function B_(e){let{to:n,replace:t,state:r,relative:i}=e;Sb()||Qs(!1);let{future:a,static:s}=M.useContext(wb),{matches:l}=M.useContext(vh),{pathname:u}=Cb(),f=Na(),h=M_(n,O_(l,a.v7_relativeSplatPath),u,i==="path"),m=JSON.stringify(h);return M.useEffect(()=>f(JSON.parse(m),{replace:t,state:r,relative:i}),[f,m,i,t,r]),null}function tF(e){let{basename:n="/",children:t=null,location:r,navigationType:i=up.Pop,navigator:a,static:s=!1,future:l}=e;Sb()&&Qs(!1);let u=n.replace(/^\/*/,"/"),f=M.useMemo(()=>({basename:u,navigator:a,static:s,future:av({v7_relativeSplatPath:!1},l)}),[u,l,a,s]);typeof r=="string"&&(r=vb(r));let{pathname:h="/",search:m="",hash:b="",state:g=null,key:v="default"}=r,x=M.useMemo(()=>{let C=I_(h,u);return C==null?null:{location:{pathname:C,search:m,hash:b,state:g,key:v},navigationType:i}},[u,h,m,b,g,v,i]);return x==null?null:M.createElement(wb.Provider,{value:f},M.createElement(xC.Provider,{children:t,value:x}))}new Promise(()=>{});/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function MS(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((n,t)=>{let r=e[t];return n.concat(Array.isArray(r)?r.map(i=>[t,i]):[[t,r]])},[]))}function nF(e,n){let t=MS(e);return n&&n.forEach((r,i)=>{t.has(i)||n.getAll(i).forEach(a=>{t.append(i,a)})}),t}const rF="6";try{window.__reactRouterVersion=rF}catch{}const iF="startTransition",p8=zv[iF];function aF(e){let{basename:n,children:t,future:r,window:i}=e,a=M.useRef();a.current==null&&(a.current=h3({window:i,v5Compat:!0}));let s=a.current,[l,u]=M.useState({action:s.action,location:s.location}),{v7_startTransition:f}=r||{},h=M.useCallback(m=>{f&&p8?p8(()=>u(m)):u(m)},[u,f]);return M.useLayoutEffect(()=>s.listen(h),[s,h]),M.useEffect(()=>eF(r),[r]),M.createElement(tF,{basename:n,children:t,location:l.location,navigationType:l.action,navigator:s,future:r})}var m8;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(m8||(m8={}));var g8;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(g8||(g8={}));function Ab(e){let n=M.useRef(MS(e)),t=M.useRef(!1),r=Cb(),i=M.useMemo(()=>nF(r.search,t.current?null:n.current),[r.search]),a=Na(),s=M.useCallback((l,u)=>{const f=MS(typeof l=="function"?l(i):l);t.current=!0,a("?"+f,u)},[a,i]);return[i,s]}const sF="modulepreload",oF=function(e){return"/"+e},b8={},Ti=function(n,t,r){let i=Promise.resolve();if(t&&t.length>0){let s=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=s(t.map(f=>{if(f=oF(f),f in b8)return;b8[f]=!0;const h=f.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const b=document.createElement("link");if(b.rel=h?"stylesheet":sF,h||(b.as="script"),b.crossOrigin="",b.href=f,u&&b.setAttribute("nonce",u),document.head.appendChild(b),h)return new Promise((g,v)=>{b.addEventListener("load",g),b.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return n().catch(a)})};var Xo=(e=>(e.NETWORK="NETWORK",e.AUTHENTICATION="AUTHENTICATION",e.AUTHORIZATION="AUTHORIZATION",e.VALIDATION="VALIDATION",e.NOT_FOUND="NOT_FOUND",e.SERVER_ERROR="SERVER_ERROR",e.UNKNOWN="UNKNOWN",e))(Xo||{});const y8={"auth/user-not-found":{type:"AUTHENTICATION",message:"No user found with this email address."},"auth/wrong-password":{type:"AUTHENTICATION",message:"Incorrect password. Please try again."},"auth/user-disabled":{type:"AUTHORIZATION",message:"This account has been disabled. Please contact support."},"auth/too-many-requests":{type:"NETWORK",message:"Too many failed attempts. Please try again later."},"auth/network-request-failed":{type:"NETWORK",message:"Network error. Please check your connection and try again."},"permission-denied":{type:"AUTHORIZATION",message:"You do not have permission for this action."},"not-found":{type:"NOT_FOUND",message:"The requested resource was not found."},unavailable:{type:"NETWORK",message:"Service is temporarily unavailable. Please try again."}},lp=class lp{constructor(){_e(this,"errorQueue",[]);_e(this,"maxErrorQueueSize",50)}static getInstance(){return lp.instance||(lp.instance=new lp),lp.instance}handleError(n,t){const r=this.createAppError(n,t);return this.logError(r),this.queueError(r),r}createAppError(n,t){let r="UNKNOWN",i="An unexpected error occurred.";if(n!=null&&n.code&&y8[n.code]){const a=y8[n.code];r=a.type,i=a.message}else n!=null&&n.message&&(i=n.message,n.message.includes("network")||n.message.includes("fetch")?r="NETWORK":n.message.includes("unauthorized")||n.message.includes("permission")?r="AUTHORIZATION":n.message.includes("not found")?r="NOT_FOUND":n.message.includes("validation")&&(r="VALIDATION"));return{type:r,message:i,originalError:n instanceof Error?n:new Error(String(n)),context:{...t,userAgent:navigator.userAgent,url:window.location.href,timestamp:new Date().toISOString()},timestamp:new Date,userId:t==null?void 0:t.userId}}logError(n){const t=`[${n.type}] ${n.message}`,r={error:n.originalError,context:n.context,timestamp:n.timestamp};switch(n.type){case"NETWORK":case"NOT_FOUND":console.warn(t,r);break;case"AUTHENTICATION":case"AUTHORIZATION":case"VALIDATION":console.error(t,r);break;case"SERVER_ERROR":case"UNKNOWN":console.error(t,r);break}}queueError(n){this.errorQueue.push(n),this.errorQueue.length>this.maxErrorQueueSize&&this.errorQueue.shift()}getErrorQueue(){return[...this.errorQueue]}clearErrorQueue(){this.errorQueue=[]}getUserFriendlyMessage(n){return n.message}shouldRetry(n){return n.type==="NETWORK"}};_e(lp,"instance");let H1=lp;const x8=async(e,n)=>{try{return{data:await e()}}catch(t){return{error:H1.getInstance().handleError(t,n)}}},$1e=()=>{const e=H1.getInstance();return{handleError:(i,a)=>e.handleError(i,a),getUserFriendlyMessage:i=>e.getUserFriendlyMessage(i),shouldRetry:i=>e.shouldRetry(i)}};H1.getInstance();class lF{constructor(){_e(this,"auth",null);_e(this,"googleProvider",null)}initialize(){this.auth||(Ti(()=>Promise.resolve().then(()=>pp),void 0),this.auth=UP(),this.googleProvider=new HP)}async signInWithGoogle(n=!0){var r;this.initialize();const t=await x8(async()=>{const i=n?WP:YP;await GP(this.auth,i),this.googleProvider.setCustomParameters({});const a=await QP(this.auth,this.googleProvider);if(!a.user)throw new Error("No user returned from authentication");return a.user},{operation:"google_sign_in",keepSignedIn:n});if(t.error){const i=(r=t.error.originalError)==null?void 0:r.code;throw console.error("Google Auth Error:",{code:i,message:t.error.message,originalError:t.error.originalError}),i==="auth/popup-closed-by-user"?new Error("Sign-in was cancelled. Please try again and complete the sign-in process. If you only have one Google account logged in, try logging out and back in to your Google account."):i==="auth/popup-blocked"?new Error("Popup was blocked by your browser. Please allow popups for this site and try again."):i==="auth/network-request-failed"?new Error("Network error. Please check your internet connection and try again."):i==="auth/account-exists-with-different-credential"?new Error("An account already exists with this email address. Please use a different sign-in method."):t.error}return t.data}async signOut(){this.initialize();const n=await x8(async()=>{await KP(this.auth)},{operation:"sign_out"});if(n.error)throw n.error}onAuthStateChanged(n){return this.initialize(),VP(this.auth,n)}getCurrentUser(){return this.initialize(),this.auth.currentUser}getErrorMessage(n){return{"auth/network-request-failed":"Login Failed: Network error, please check your connection.","auth/popup-closed-by-user":"Login Failed: The sign-in popup was closed before completion.","auth/cancelled-popup-request":"Login Failed: Another sign-in request was made before the first one was completed.","auth/popup-blocked":"Login Failed: The sign-in popup was blocked by the browser. Please allow popups for this site.","auth/user-disabled":"Login Failed: This account has been disabled.","auth/user-not-found":"Login Failed: No account found with this email.","auth/wrong-password":"Login Failed: Incorrect password.","auth/too-many-requests":"Login Failed: Too many failed attempts. Please try again later."}[n]||"Login Failed: An unexpected error occurred."}}const $_=new lF;class uF{constructor(){_e(this,"db",null);_e(this,"legacyPublicCourseId");this.legacyPublicCourseId="rqoyheM9Lf8jGftIoZyT"}initialize(){this.db||(Ti(()=>Promise.resolve().then(()=>pp),void 0),this.db=cr())}async getUserDetails(n){this.initialize();try{const t=gn(this.db,"users",n),r=await ja(t);return r.exists()?{...r.data(),uid:n}:null}catch(t){throw console.error("Error fetching user details:",t),new Error("Failed to fetch user details")}}async createUserDocument(n){this.initialize();try{const t=await this.getPublicCourses(),r={};for(const s of t)r[s.id]={number:s.number,title:s.title,isCourseAdmin:!1,isPublic:!0,courseCreatedAt:s.courseCreatedAt,enrolledAt:new Date};const i=gn(this.db,"users",n.uid),a={isAdmin:!1,isSuperAdmin:!1,lastLogin:nh(),classes:r};return await E_(i,a),{uid:n.uid,isAdmin:!1,isSuperAdmin:!1,lastLogin:nh(),classes:r}}catch(t){throw console.error("Error creating user document:",t),new Error("Failed to create user document")}}async updateUserLogin(n){this.initialize();try{const t=gn(this.db,"users",n);await qr(t,{lastLogin:nh()})}catch(t){throw console.error("Error updating user login:",t),new Error("Failed to update user login")}}async refreshUserDetails(n){return this.getUserDetails(n)}subscribeToUserDetails(n,t){this.initialize();const r=gn(this.db,"users",n);return XP(r,i=>{if(i.exists()){const a=i.data();t({...a,uid:n})}else t(null)},i=>{console.error("Error in user details subscription:",i),t(null)})}async ensurePublicCourseAccess(n,t){this.initialize();try{const r=await this.getPublicCourses();if(r.length===0)return console.warn("No public courses found in database"),t;const i=t.classes||{},a={};let s=!1;for(const f of r)i[f.id]?i[f.id].isPublic||(a[`classes.${f.id}.isPublic`]=!0,s=!0):(a[`classes.${f.id}`]={number:f.number,title:f.title,isCourseAdmin:!1,isPublic:!0,courseCreatedAt:f.courseCreatedAt,enrolledAt:new Date},s=!0);if(!s)return t;const l=gn(this.db,"users",n);await qr(l,a);const u={...i};for(const f of r)u[f.id]?u[f.id]={...u[f.id],isPublic:!0}:u[f.id]={number:f.number,title:f.title,isCourseAdmin:!1,isPublic:!0,courseCreatedAt:f.courseCreatedAt,enrolledAt:new Date};return{...t,classes:u}}catch(r){throw console.error("Error ensuring public course access:",r),new Error("Failed to ensure public course access")}}async getPublicCourses(){this.initialize();try{const n=mn(this.db,"courses"),t=Hl(n,Hi("isPublic","==",!0)),r=await _i(t),i=[];if(r.forEach(a=>{var l,u,f,h;const s=a.data();s.number&&s.title&&i.push({id:a.id,number:s.number,title:s.title,isPublic:!0,courseCreatedAt:((u=(l=s.courseCreatedAt)==null?void 0:l.toDate)==null?void 0:u.call(l))||((h=(f=s.createdAt)==null?void 0:f.toDate)==null?void 0:h.call(f))||void 0})}),i.length===0&&this.legacyPublicCourseId){console.log("No public courses found via isPublic field, falling back to legacy env var");const a=await this.getLegacyPublicCourseInfo();a&&i.push(a)}return i}catch(n){throw console.error("Error fetching public courses:",n),new Error("Failed to fetch public courses")}}async getLegacyPublicCourseInfo(){var n,t,r,i;if(!this.legacyPublicCourseId)return null;this.initialize();try{const a=gn(this.db,"courses",this.legacyPublicCourseId),s=await ja(a);if(!s.exists())return console.warn("Legacy public course document does not exist"),null;const l=s.data();return!l||!l.number||!l.title?(console.warn("Legacy public course data is incomplete"),null):{id:this.legacyPublicCourseId,number:l.number,title:l.title,isPublic:!0,courseCreatedAt:((t=(n=l.courseCreatedAt)==null?void 0:n.toDate)==null?void 0:t.call(n))||((i=(r=l.createdAt)==null?void 0:r.toDate)==null?void 0:i.call(r))||void 0}}catch(a){return console.error("Error fetching legacy public course info:",a),null}}}const y0=new uF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF="type.googleapis.com/google.protobuf.Int64Value",dF="type.googleapis.com/google.protobuf.UInt64Value";function U_(e,n){const t={};for(const r in e)e.hasOwnProperty(r)&&(t[r]=n(e[r]));return t}function LS(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(n=>LS(n));if(typeof e=="function"||typeof e=="object")return U_(e,n=>LS(n));throw new Error("Data cannot be encoded in JSON: "+e)}function sv(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case cF:case dF:{const n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(n=>sv(n)):typeof e=="function"||typeof e=="object"?U_(e,n=>sv(n)):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v8={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G0 extends r3{constructor(n,t,r){super(`${wC}/${n}`,t||""),this.details=r}}function fF(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function hF(e,n){let t=fF(e),r=t,i;try{const a=n&&n.error;if(a){const s=a.status;if(typeof s=="string"){if(!v8[s])return new G0("internal","internal");t=v8[s],r=s}const l=a.message;typeof l=="string"&&(r=l),i=a.details,i!==void 0&&(i=sv(i))}}catch{}return t==="ok"?null:new G0(t,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(n,t,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=n.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||n.get().then(i=>this.auth=i,()=>{}),this.messaging||t.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const n=await this.auth.getToken();return n==null?void 0:n.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(n){if(this.appCheck){const t=n?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(n){const t=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(n);return{authToken:t,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="us-central1";function mF(e){let n=null;return{promise:new Promise((t,r)=>{n=setTimeout(()=>{r(new G0("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{n&&clearTimeout(n)}}}class gF{constructor(n,t,r,i,a=RS,s){this.app=n,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new pF(t,r,i),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{const l=new URL(a);this.customDomain=l.origin,this.region=RS}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(n){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${n}`:this.customDomain!==null?`${this.customDomain}/${n}`:`https://${this.region}-${t}.cloudfunctions.net/${n}`}}function bF(e,n,t){e.emulatorOrigin=`http://${n}:${t}`}function yF(e,n,t){return r=>vF(e,n,r,{})}async function xF(e,n,t,r){t["Content-Type"]="application/json";let i;try{i=await r(e,{method:"POST",body:JSON.stringify(n),headers:t})}catch{return{status:0,json:null}}let a=null;try{a=await i.json()}catch{}return{status:i.status,json:a}}function vF(e,n,t,r){const i=e._url(n);return wF(e,i,t,r)}async function wF(e,n,t,r){t=LS(t);const i={data:t},a={},s=await e.contextProvider.getContext(r.limitedUseAppCheckTokens);s.authToken&&(a.Authorization="Bearer "+s.authToken),s.messagingToken&&(a["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(a["X-Firebase-AppCheck"]=s.appCheckToken);const l=r.timeout||7e4,u=mF(l),f=await Promise.race([xF(n,i,a,e.fetchImpl),u.promise,e.cancelAllRequests]);if(u.cancel(),!f)throw new G0("cancelled","Firebase Functions instance was deleted.");const h=hF(f.status,f.json);if(h)throw h;if(!f.json)throw new G0("internal","Response is not valid JSON object.");let m=f.json.data;if(typeof m>"u"&&(m=f.json.result),typeof m>"u")throw new G0("internal","Response is missing data field.");return{data:sv(m)}}const w8="@firebase/functions",S8="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF="auth-internal",CF="app-check-internal",AF="messaging-internal";function kF(e,n){const t=(r,{instanceIdentifier:i})=>{const a=r.getProvider("app").getImmediate(),s=r.getProvider(SF),l=r.getProvider(AF),u=r.getProvider(CF);return new gF(a,s,l,u,i,e)};ZP(new JP(wC,t,"PUBLIC").setMultipleInstances(!0)),i8(w8,S8,n),i8(w8,S8,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EF(e=e3(),n=RS){const r=t3(bC(e),wC).getImmediate({identifier:n}),i=n3("functions");return i&&jF(r,...i),r}function jF(e,n,t){bF(bC(e),n,t)}function H_(e,n,t){return yF(bC(e),n)}kF(fetch.bind(self));const TF={apiKey:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",authDomain:"nexlab-prod.firebaseapp.com",projectId:"nexlab-prod",storageBucket:"nexlab-prod.firebasestorage.app",messagingSenderId:"922352392986",appId:"1:922352392986:web:6c4d6e16b5e615bd4daaa3"},Kv=i3(TF),V_=cr(Kv),NF=jp(Kv),SC=EF(Kv),pp=Object.freeze(Object.defineProperty({__proto__:null,app:Kv,db:V_,functions:SC,storage:NF},Symbol.toStringTag,{value:"Module"})),W_=M.createContext(void 0),DF=({children:e})=>{const[n,t]=M.useState(null),[r,i]=M.useState(null),[a,s]=M.useState(!1),[l,u]=M.useState(!0),[f,h]=M.useState(null),m=M.useRef(null);M.useEffect(()=>{const g=$_.onAuthStateChanged(async v=>{u(!0),h(null),m.current&&(m.current(),m.current=null);try{if(v){console.log("User is signed in with UID:",v.uid);let x=await y0.getUserDetails(v.uid);x?(await y0.updateUserLogin(v.uid),x=await y0.ensurePublicCourseAccess(v.uid,x)):(console.log("User document does not exist. Creating a new one..."),x=await y0.createUserDocument(v)),i(x),s(x.isSuperAdmin||!1);const C=y0.subscribeToUserDetails(v.uid,S=>{console.log("[UserContext] User details updated in real-time:",{uid:S==null?void 0:S.uid,classesCount:S!=null&&S.classes?Object.keys(S.classes).length:0,classes:S!=null&&S.classes?Object.keys(S.classes):[],timestamp:new Date().toISOString()}),S&&(i(S),s(S.isSuperAdmin||!1))});m.current=C}else i(null),s(!1);t(v)}catch(x){console.error("Error managing user authentication:",x),h(x instanceof Error?x:new Error("Failed to manage user authentication")),t(null),i(null),s(!1)}finally{u(!1)}});return()=>{g(),m.current&&(m.current(),m.current=null)}},[]);const b=async()=>{if(!n){console.warn("No user signed in, cannot refresh user details");return}try{const g=await y0.refreshUserDetails(n.uid);g?(i(g),s(g.isSuperAdmin||!1)):(console.error("User document does not exist. Unable to refresh user details."),h(new Error("User document not found")))}catch(g){console.error("Error refreshing user details:",g),h(g instanceof Error?g:new Error("Failed to refresh user details"))}};return d.jsx(W_.Provider,{value:{user:n,userDetails:r,setUserDetails:i,refreshUserDetails:b,loading:l,error:f,isSuperAdmin:a},children:e})},Ii=()=>{const e=M.useContext(W_);if(e===void 0)throw new Error("useUser must be used within a UserProvider");return e},os=({element:e})=>{const{userDetails:n,loading:t}=Ii();return t?d.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:d.jsx(pi,{})}):n?d.jsx(e,{}):d.jsx(B_,{to:"/"})};let Xv=class extends M.Component{constructor(){super(...arguments);_e(this,"state",{hasError:!1})}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error:",t,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:d.jsx(se,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"50vh",p:4},children:d.jsxs(an,{elevation:2,sx:{p:4,textAlign:"center",maxWidth:500,width:"100%"},children:[d.jsx(te,{variant:"h5",color:"error",gutterBottom:!0,children:"Something went wrong"}),d.jsx(te,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"An error occurred while loading this component. Please try refreshing the page."}),d.jsx(xt,{variant:"contained",startIcon:d.jsx(i_,{}),onClick:()=>window.location.reload(),children:"Refresh Page"})]})}):this.props.children}};var Ig={},m5={};const _F=$P(BR);var C8;function ul(){return C8||(C8=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=_F}(m5)),m5}var A8;function IF(){if(A8)return Ig;A8=1;var e=ol();Object.defineProperty(Ig,"__esModule",{value:!0}),Ig.default=void 0;var n=e(ul()),t=ll();return Ig.default=(0,n.default)((0,t.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline"),Ig}var OF=IF();const MF=Ta(OF);var Og={},k8;function LF(){if(k8)return Og;k8=1;var e=ol();Object.defineProperty(Og,"__esModule",{value:!0}),Og.default=void 0;var n=e(ul()),t=ll();return Og.default=(0,n.default)((0,t.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home"),Og}var RF=LF();const PF=Ta(RF);var Mg={},E8;function FF(){if(E8)return Mg;E8=1;var e=ol();Object.defineProperty(Mg,"__esModule",{value:!0}),Mg.default=void 0;var n=e(ul()),t=ll();return Mg.default=(0,n.default)((0,t.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),Mg}var zF=FF();const Y_=Ta(zF),qF=()=>{const e=Na();return d.jsxs(an,{elevation:3,sx:{p:4,m:4,textAlign:"center",backgroundColor:"#fafafa",border:"1px solid #e0e0e0",maxWidth:600,mx:"auto",mt:8},children:[d.jsx(MF,{color:"error",sx:{fontSize:64,mb:2}}),d.jsx(te,{variant:"h4",gutterBottom:!0,color:"error",children:"Page Error"}),d.jsx(te,{variant:"body1",sx:{mb:4,color:"text.secondary"},children:"This page encountered an error and cannot be displayed. You can try going back to the previous page or return to the home page."}),d.jsxs(se,{sx:{display:"flex",gap:2,justifyContent:"center",flexWrap:"wrap"},children:[d.jsx(xt,{variant:"contained",color:"primary",startIcon:d.jsx(PF,{}),onClick:()=>e("/"),children:"Go to Home"}),d.jsx(xt,{variant:"outlined",color:"primary",startIcon:d.jsx(Y_,{}),onClick:()=>e(-1),children:"Go Back"}),d.jsx(xt,{variant:"outlined",color:"secondary",onClick:()=>window.location.reload(),children:"Refresh Page"})]})]})},G_=({children:e,showDetails:n})=>d.jsx(Xv,{fallback:d.jsx(qF,{}),children:e}),BF=e=>e?typeof e=="object"&&"toDate"in e?e.toDate().toLocaleString():typeof e=="object"&&"seconds"in e?new Date(e.seconds*1e3).toLocaleString():"N/A":"No data available",j8=e=>e?typeof e=="object"&&"toDate"in e?e.toDate():typeof e=="object"&&"seconds"in e?new Date(e.seconds*1e3):null:null,$F=()=>{const{userDetails:e}=Ii();return M.useMemo(()=>{if(!(e!=null&&e.classes))return{publicCourses:[],userCourses:[]};const t=Object.entries(e.classes).map(([a,s])=>{let l,u;return s.courseCreatedAt&&(s.courseCreatedAt instanceof Date?l=s.courseCreatedAt:l=j8(s.courseCreatedAt)),s.enrolledAt&&(s.enrolledAt instanceof Date?u=s.enrolledAt:u=j8(s.enrolledAt)),{id:a,number:s.number,title:s.title,isPublic:s.isPublic??!1,courseCreatedAt:l||void 0,enrolledAt:u||void 0,isCourseAdmin:s.isCourseAdmin}}),r=t.filter(a=>a.isPublic),i=t.filter(a=>!a.isPublic);return r.sort((a,s)=>a.number.localeCompare(s.number)),i.sort((a,s)=>!a.enrolledAt&&!s.enrolledAt?0:a.enrolledAt?s.enrolledAt?s.enrolledAt.getTime()-a.enrolledAt.getTime():-1:1),{publicCourses:r,userCourses:i}},[e==null?void 0:e.classes])},K={primary:{50:"#F0F4FF",100:"#E0ECFF",200:"#CDDAFF",300:"#9BB5FF",400:"#6B8FFF",500:"#0B53C0",600:"#0841A0",700:"#062F80"},secondary:{50:"#F0FDF4",100:"#DCFCE7",200:"#BBF7D0",300:"#86EFAC",400:"#4ADE80",500:"#22C55E",600:"#16A34A",700:"#15803D"},neutral:{50:"#FAFAFA",100:"#F5F5F5",200:"#E5E5E5",300:"#D4D4D4",400:"#A3A3A3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717"},success:"#22C55E",warning:"#F59E0B",error:"#EF4444",info:"#3B82F6",background:{primary:"#FFFFFF",secondary:"#F8FAFC",tertiary:"#F1F5F9",elevated:"#FFFFFF"},surface:{primary:"#FFFFFF",elevated:"#FFFFFF"},text:{primary:"#0F172A",secondary:"#475569",tertiary:"#64748B",disabled:"#94A3B8",inverse:"#FFFFFF"}},xe={fontFamily:{primary:["Inter","system-ui","sans-serif"].join(","),secondary:["Gabarito","system-ui","sans-serif"].join(","),display:["Staatliches","system-ui","sans-serif"].join(",")},fontSize:{xs:"0.75rem",sm:"0.875rem",base:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem"},fontWeight:{light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},lineHeight:{tight:1.25,snug:1.375,normal:1.5,relaxed:1.625}},Pe={1:"0.25rem",2:"0.5rem",3:"0.75rem",4:"1rem",5:"1.25rem",6:"1.5rem",8:"2rem",12:"3rem"},Ct={sm:"0.125rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem",full:"9999px"},Bt={sm:"0 1px 2px 0 rgb(0 0 0 / 0.05)",base:"0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)",md:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",lg:"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)",xl:"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)","2xl":"0 25px 50px -12px rgb(0 0 0 / 0.25)"},Rc={transitions:{fast:"all 150ms cubic-bezier(0.4, 0, 0.2, 1)",normal:"all 300ms cubic-bezier(0.4, 0, 0.2, 1)"}},UF={width:"320px",minWidth:"320px",maxWidth:"320px",backgroundColor:K.background.secondary,borderRight:`1px solid ${K.neutral[200]}`},Q_=()=>({palette:{primary:{main:K.primary[500],light:K.primary[300],dark:K.primary[700],contrastText:K.text.inverse},secondary:{main:K.secondary[500],light:K.secondary[300],dark:K.secondary[700],contrastText:K.text.inverse},error:{main:K.error,light:"#FEE2E2",dark:"#DC2626"},warning:{main:K.warning,light:"#FEF3C7",dark:"#D97706"},info:{main:K.info,light:"#DBEAFE",dark:"#2563EB"},success:{main:K.success,light:"#D1FAE5",dark:"#059669"},background:{default:K.background.primary,paper:K.surface.primary},text:{primary:K.text.primary,secondary:K.text.secondary,disabled:K.text.disabled},grey:{50:K.neutral[50],100:K.neutral[100],200:K.neutral[200],300:K.neutral[300],400:K.neutral[400],500:K.neutral[500],600:K.neutral[600],700:K.neutral[700],800:K.neutral[800],900:K.neutral[900]}},typography:{fontFamily:xe.fontFamily.primary,h1:{fontFamily:xe.fontFamily.display,fontSize:xe.fontSize["5xl"],fontWeight:xe.fontWeight.bold,lineHeight:xe.lineHeight.tight,color:K.text.primary},h2:{fontFamily:xe.fontFamily.display,fontSize:xe.fontSize["4xl"],fontWeight:xe.fontWeight.bold,lineHeight:xe.lineHeight.tight,color:K.text.primary},h3:{fontFamily:xe.fontFamily.display,fontSize:xe.fontSize["3xl"],fontWeight:xe.fontWeight.bold,lineHeight:xe.lineHeight.snug,color:K.text.primary},h4:{fontFamily:xe.fontFamily.display,fontSize:xe.fontSize["2xl"],fontWeight:xe.fontWeight.semibold,lineHeight:xe.lineHeight.snug,color:K.text.primary},h5:{fontFamily:xe.fontFamily.secondary,fontSize:xe.fontSize.xl,fontWeight:xe.fontWeight.semibold,lineHeight:xe.lineHeight.normal,color:K.text.primary},h6:{fontFamily:xe.fontFamily.secondary,fontSize:xe.fontSize.lg,fontWeight:xe.fontWeight.semibold,lineHeight:xe.lineHeight.normal,color:K.text.primary},body1:{fontFamily:xe.fontFamily.primary,fontSize:xe.fontSize.base,fontWeight:xe.fontWeight.normal,lineHeight:xe.lineHeight.normal,color:K.text.primary},body2:{fontFamily:xe.fontFamily.primary,fontSize:xe.fontSize.sm,fontWeight:xe.fontWeight.normal,lineHeight:xe.lineHeight.normal,color:K.text.secondary},button:{fontFamily:xe.fontFamily.secondary,fontSize:xe.fontSize.base,fontWeight:xe.fontWeight.semibold,textTransform:"none"}},shape:{borderRadius:12},shadows:["none",Bt.sm,Bt.base,Bt.md,Bt.lg,Bt.xl,Bt["2xl"],Bt["2xl"],Bt["2xl"],Bt["2xl"],Bt["2xl"],Bt["2xl"],Bt["2xl"],Bt["2xl"],Bt["2xl"],Bt["2xl"],Bt["2xl"],Bt["2xl"],Bt["2xl"],Bt["2xl"],Bt["2xl"],Bt["2xl"],Bt["2xl"],Bt["2xl"],Bt["2xl"]],components:{MuiButton:{styleOverrides:{root:{borderRadius:Ct.xl,padding:`${Pe[3]} ${Pe[6]}`,fontWeight:xe.fontWeight.semibold,textTransform:"none",transition:Rc.transitions.fast,boxShadow:"none","&:hover":{boxShadow:Bt.md,transform:"none !important"}},contained:{backgroundColor:K.primary[500],"&:hover":{backgroundColor:K.primary[600]}},outlined:{borderColor:K.primary[500],color:K.primary[500],"&:hover":{backgroundColor:K.primary[50],borderColor:K.primary[600]}}}},MuiCard:{styleOverrides:{root:{borderRadius:Ct.lg,boxShadow:Bt.md,border:`1px solid ${K.neutral[200]}`,transition:Rc.transitions.fast,"&:hover":{boxShadow:Bt.lg,transform:"translateY(-2px)"}}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{borderRadius:Ct.lg,"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:K.primary[300]},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:K.primary[500],borderWidth:2}}}}},MuiChip:{styleOverrides:{root:{borderRadius:Ct.full,fontWeight:xe.fontWeight.medium}}},MuiTabs:{styleOverrides:{root:{backgroundColor:K.background.secondary,borderRadius:Ct.lg,padding:Pe[2],"& .MuiTabs-indicator":{display:"none"}}}},MuiTab:{styleOverrides:{root:{borderRadius:Ct.lg,fontWeight:xe.fontWeight.semibold,textTransform:"none",transition:Rc.transitions.fast,"&.Mui-selected":{backgroundColor:K.primary[500],color:K.text.inverse,boxShadow:Bt.sm},"&:not(.Mui-selected)":{backgroundColor:K.primary[100],color:K.primary[700],"&:hover":{backgroundColor:K.primary[200],transform:"none"}}}}}}}),HF=Q_(),ct=a_(HF);var Lg={},T8;function VF(){if(T8)return Lg;T8=1;var e=ol();Object.defineProperty(Lg,"__esModule",{value:!0}),Lg.default=void 0;var n=e(ul()),t=ll();return Lg.default=(0,n.default)((0,t.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),Lg}var WF=VF();const K_=Ta(WF),N8=e=>{let n;const t=new Set,r=(f,h)=>{const m=typeof f=="function"?f(n):f;if(!Object.is(m,n)){const b=n;n=h??(typeof m!="object"||m===null)?m:Object.assign({},n,m),t.forEach(g=>g(n,b))}},i=()=>n,l={setState:r,getState:i,getInitialState:()=>u,subscribe:f=>(t.add(f),()=>t.delete(f))},u=n=e(r,i,l);return l},YF=e=>e?N8(e):N8,GF=e=>e;function QF(e,n=GF){const t=it.useSyncExternalStore(e.subscribe,()=>n(e.getState()),()=>n(e.getInitialState()));return it.useDebugValue(t),t}const D8=e=>{const n=YF(e),t=r=>QF(n,r);return Object.assign(t,n),t},Tp=e=>e?D8(e):D8,KF=()=>Math.random().toString(36).substr(2,9),XF=e=>{switch(e){case Xo.NETWORK:return"";case Xo.AUTHENTICATION:return"";case Xo.AUTHORIZATION:return"";case Xo.VALIDATION:return"";case Xo.NOT_FOUND:return"";case Xo.SERVER_ERROR:return"";default:return""}},ZF=e=>{switch(e){case Xo.NETWORK:return 8e3;case Xo.AUTHENTICATION:case Xo.AUTHORIZATION:return 1e4;case Xo.VALIDATION:return 6e3;case Xo.NOT_FOUND:return 5e3;default:return 7e3}},JF=Tp((e,n)=>({notifications:[],addNotification:t=>{const r={...t,id:KF(),timestamp:new Date,duration:t.duration??5e3};e(i=>({notifications:[...i.notifications,r]})),r.duration>0&&setTimeout(()=>{n().removeNotification(r.id)},r.duration)},removeNotification:t=>{e(r=>({notifications:r.notifications.filter(i=>i.id!==t)}))},clearAll:()=>{e({notifications:[]})},showError:(t,r)=>{const i=XF(t.type),a=ZF(t.type),s=[];t.type===Xo.NETWORK&&s.push({label:"Retry",action:()=>{console.log("Retry requested for:",t)},primary:!0}),n().addNotification({type:"error",title:`${i} ${t.type.replace("_"," ")} Error`,message:t.message,duration:a,actions:r||s,error:t})},showSuccess:(t,r)=>{n().addNotification({type:"success",title:r||" Success",message:t,duration:4e3})},showWarning:(t,r)=>{n().addNotification({type:"warning",title:r||" Warning",message:t,duration:6e3})},showInfo:(t,r)=>{n().addNotification({type:"info",title:r||" Info",message:t,duration:5e3})}})),ez=()=>{const{notifications:e,removeNotification:n}=JF();return e.length===0?null:d.jsx(se,{sx:{position:"fixed",top:16,right:16,zIndex:9999,maxWidth:400,display:"flex",flexDirection:"column",gap:1},children:e.map(t=>d.jsx(Jx,{in:!0,timeout:300,children:d.jsx(an,{elevation:6,children:d.jsxs(Cn,{severity:t.type,sx:{width:"100%","& .MuiAlert-action":{alignItems:"flex-start",padding:"4px 0 0 16px"}},action:d.jsx(jn,{size:"small",onClick:()=>n(t.id),sx:{color:"inherit"},children:d.jsx(K_,{fontSize:"small"})}),children:[t.title&&d.jsx($R,{sx:{fontWeight:"bold",mb:.5},children:t.title}),t.message,t.actions&&t.actions.length>0&&d.jsx(se,{sx:{mt:1.5,display:"flex",gap:1,flexWrap:"wrap"},children:t.actions.map((r,i)=>d.jsx(xt,{size:"small",variant:r.primary?"contained":"outlined",color:t.type==="error"?"error":"primary",onClick:()=>{r.action(),n(t.id)},sx:{minWidth:"auto",fontSize:"0.75rem",padding:"2px 8px"},children:r.label},i))})]})})},t.id))})},tz=({message:e})=>d.jsx(se,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",py:Pe[12],color:K.text.secondary},children:d.jsx(te,{variant:"body1",sx:{fontStyle:"italic",textAlign:"center",fontFamily:"Gabarito, sans-serif"},children:e})}),nz=()=>d.jsx(se,{sx:{display:"flex",justifyContent:"center",alignItems:"center",py:Pe[12]},children:d.jsx(pi,{size:40})});function Np({data:e,columns:n,loading:t=!1,emptyMessage:r="No data available",onRowClick:i,stickyHeader:a=!1,maxHeight:s,headerColor:l=K.primary[500],headerTextColor:u=K.text.inverse,rowHeight:f="72px",showRowNumbers:h=!1,className:m}){const b=n.length+(h?1:0);return d.jsx(qv,{component:an,className:m,sx:{borderRadius:Ct["2xl"],boxShadow:Bt.lg,border:`1px solid ${K.neutral[200]}`,overflow:"hidden",maxHeight:s},children:d.jsxs(Bv,{stickyHeader:a,sx:{"& .MuiTableCell-root":{fontSize:xe.fontSize.base,fontFamily:xe.fontFamily.primary,borderBottom:`1px solid ${K.neutral[200]}`},"& .MuiTableCell-head":{fontSize:xe.fontSize.lg,fontFamily:xe.fontFamily.display,fontWeight:xe.fontWeight.semibold,backgroundColor:l,color:u,textTransform:"uppercase",letterSpacing:"0.5px"},"& .MuiTableRow-root:hover":{backgroundColor:K.primary[25],cursor:i?"pointer":"default"}},children:[d.jsx($v,{children:d.jsxs(Mc,{sx:{height:"64px"},children:[h&&d.jsx(Mn,{sx:{width:"60px",textAlign:"center"},children:"#"}),n.map(g=>d.jsx(Mn,{sx:{width:g.width,textAlign:g.align||"left"},children:g.label},String(g.id)))]})}),d.jsx(Uv,{children:t?d.jsx(Mc,{children:d.jsx(Mn,{colSpan:b,sx:{border:"none",p:0},children:d.jsx(nz,{})})}):e.length===0?d.jsx(Mc,{children:d.jsx(Mn,{colSpan:b,sx:{border:"none",p:0},children:d.jsx(tz,{message:r})})}):e.map((g,v)=>d.jsxs(Mc,{onClick:()=>i==null?void 0:i(g,v),sx:{height:f,transition:Rc.transitions.fast,"&:hover":{backgroundColor:K.primary[25],transform:"translateY(-1px)",boxShadow:Bt.sm}},children:[h&&d.jsx(Mn,{sx:{textAlign:"center"},children:d.jsx(te,{variant:"body2",sx:{fontWeight:xe.fontWeight.semibold,color:K.text.secondary},children:v+1})}),n.map(x=>{const C=g[x.id];return d.jsx(Mn,{sx:{textAlign:x.align||"left"},children:x.render?x.render(C,g,v):C},String(x.id))})]},v))})]})})}const Do=({title:e,subtitle:n})=>{const t=Jd(),r=Pu(t.breakpoints.down("md"));return d.jsxs(se,{sx:{p:r?Pe[4]:Pe[6],backgroundColor:K.primary[100],borderRadius:Ct["2xl"],mb:Pe[6],border:`1px solid ${K.primary[200]}`,boxShadow:Bt.sm},children:[d.jsx(te,{variant:"h2",sx:{fontFamily:xe.fontFamily.display,fontSize:r?xe.fontSize["3xl"]:xe.fontSize["5xl"],fontWeight:xe.fontWeight.bold,color:K.primary[700],lineHeight:xe.lineHeight.tight,mb:n?Pe[2]:0},children:e}),n&&d.jsx(te,{variant:"body1",sx:{fontFamily:xe.fontFamily.primary,fontSize:r?xe.fontSize.base:xe.fontSize.lg,color:K.text.secondary,lineHeight:xe.lineHeight.relaxed},children:n})]})},Dp=({userId:e,userType:n="student",maxLength:t=999})=>{const[r,i]=M.useState(!1),a=async f=>{f.stopPropagation();try{await navigator.clipboard.writeText(e),i(!0),setTimeout(()=>i(!1),2e3)}catch(h){console.error("Failed to copy:",h)}},s=()=>{switch(n){case"superAdmin":return{backgroundColor:K.secondary[100],color:K.secondary[700],borderColor:K.secondary[300],hoverColor:K.secondary[200]};case"educator":return{backgroundColor:K.primary[100],color:K.primary[700],borderColor:K.primary[300],hoverColor:K.primary[200]};default:return{backgroundColor:K.neutral[100],color:K.neutral[700],borderColor:K.neutral[300],hoverColor:K.neutral[200]}}},l=e.length>t?`${e.substring(0,t)}...`:e,u=s();return d.jsx(ni,{title:r?"Copied!":"Click to Copy",children:d.jsx(se,{onClick:a,sx:{display:"inline-flex",alignItems:"center",backgroundColor:u.backgroundColor,color:u.color,border:`1px solid ${u.borderColor}`,borderRadius:Ct.full,padding:`${Pe[2]} ${Pe[3]}`,fontSize:xe.fontSize.sm,fontWeight:xe.fontWeight.medium,fontFamily:"monospace",cursor:"pointer",transition:"all 0.2s ease",maxWidth:"100%","&:hover":{backgroundColor:u.hoverColor,transform:"translateY(-1px)",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},"&:active":{transform:"translateY(0)"}},children:d.jsx(te,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"inherit",color:"inherit",fontWeight:"inherit",userSelect:"none"},title:e,children:l})})})},_p=({courseId:e,courseNumber:n,courseTitle:t,variant:r="link",isAdmin:i=!1,showNumber:a=!0,showTitle:s=!0,maxTitleLength:l=50,onClick:u})=>{const f=Na(),h=g=>{if(g.preventDefault(),g.stopPropagation(),u)u();else{const v=window.location.hostname==="nexlab.bio",C=`${v?"https://nexlab.bio":""}/supplemental-materials?course=${e}`;v?window.open(C,"_blank"):f(`/supplemental-materials?course=${e}`)}},m=t.length>l?`${t.substring(0,l)}...`:t,b=()=>i?{backgroundColor:K.primary[100],color:K.primary[700],"&:hover":{backgroundColor:K.primary[200]}}:{backgroundColor:K.neutral[200],color:K.neutral[700],"&:hover":{backgroundColor:K.neutral[300]}};if(r==="chip"){const g=a&&s?`${n} - ${m}`:a?n:s?m:"";return d.jsx(Rn,{label:g,size:"small",clickable:!0,onClick:h,sx:{...b(),fontFamily:xe.fontFamily.secondary,fontWeight:xe.fontWeight.medium,fontSize:xe.fontSize.sm,cursor:"pointer",transition:"all 0.2s ease",maxWidth:"100%"},title:`${n} - ${t}`})}return r==="text"?d.jsxs(se,{sx:{display:"flex",flexDirection:"column",gap:Pe[1]},children:[a&&d.jsx(te,{variant:"body2",sx:{fontWeight:xe.fontWeight.semibold,color:K.text.primary,fontSize:xe.fontSize.sm},children:n}),s&&d.jsx(Hv,{component:"button",variant:"body2",onClick:h,sx:{color:K.primary[600],textDecoration:"none",fontSize:xe.fontSize.sm,fontWeight:xe.fontWeight.medium,textAlign:"left",cursor:"pointer","&:hover":{textDecoration:"underline",color:K.primary[700]}},title:t,children:m})]}):d.jsx(se,{onClick:h,sx:{display:"inline-flex",alignItems:"center",backgroundColor:K.primary[50],border:`1px solid ${K.primary[200]}`,borderRadius:Ct.lg,padding:`${Pe[2]} ${Pe[3]}`,cursor:"pointer",transition:"all 0.2s ease",maxWidth:"100%","&:hover":{backgroundColor:K.primary[100],borderColor:K.primary[300],transform:"translateY(-1px)",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},"&:active":{transform:"translateY(0)"}},title:`${n} - ${t}`,children:d.jsx(te,{variant:"body1",sx:{fontFamily:xe.fontFamily.secondary,fontSize:xe.fontSize.base,fontWeight:xe.fontWeight.semibold,color:K.primary[700],textDecoration:"none",userSelect:"none","&:hover":{textDecoration:"underline"}},children:a&&s?`${n} - ${m}`:a?n:s?m:""})})},Mm=({value:e,onChange:n,courses:t,label:r="Course",placeholder:i,helperText:a,error:s=!1,disabled:l=!1,loading:u=!1,required:f=!1,showNumber:h=!0,showTitle:m=!0,showAdminBadge:b=!0,maxTitleLength:g=50,fullWidth:v=!0,variant:x="outlined",size:C="medium","aria-label":S,"data-testid":A})=>{const N=U=>{n(U.target.value)},P=()=>t.find(U=>U.id===e);return P(),d.jsxs(Xc,{fullWidth:v,error:s,disabled:l,required:f,variant:x,size:C,sx:{"& .MuiOutlinedInput-root":{borderRadius:Ct.lg,backgroundColor:K.surface.primary,border:`2px solid ${K.neutral[300]}`,minHeight:C==="small"?"48px":"56px","&:hover":{backgroundColor:K.surface.primary,borderColor:K.neutral[300]},"&.Mui-focused":{backgroundColor:K.surface.primary,borderColor:K.primary[500],borderWidth:"2px"},"&.Mui-error":{borderColor:K.error},"& .MuiSelect-select":{padding:C==="small"?"12px 14px":"16px 14px",boxSizing:"border-box",fontFamily:xe.fontFamily.primary,fontSize:xe.fontSize.base,color:K.text.primary}},"& .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiInputLabel-root":{fontFamily:xe.fontFamily.secondary,fontSize:xe.fontSize.base,fontWeight:xe.fontWeight.medium,color:K.text.secondary,transform:"none",position:"static",marginBottom:Pe[1],"&.Mui-focused":{color:K.primary[600]},"&.Mui-error":{color:K.error}},"& .MuiFormHelperText-root":{fontFamily:xe.fontFamily.secondary,fontSize:xe.fontSize.sm,color:s?K.error:K.text.secondary,marginTop:Pe[1],marginBottom:0}},children:[r&&d.jsx(ch,{id:`course-selector-label-${Math.random().toString(36).substr(2,9)}`,"aria-label":S,children:r}),d.jsx(Zc,{labelId:r?`course-selector-label-${Math.random().toString(36).substr(2,9)}`:void 0,value:e,onChange:N,label:r||void 0,displayEmpty:!e||e==="",renderValue:U=>{const B=P();return B?d.jsx(se,{sx:{display:"flex",alignItems:"center",gap:Pe[2]},children:d.jsxs(se,{sx:{backgroundColor:K.primary[50],border:`1px solid ${K.primary[200]}`,borderRadius:Ct.lg,padding:`${Pe[2]} ${Pe[3]}`,display:"inline-flex",alignItems:"center",gap:Pe[1],width:"fit-content",maxWidth:"100%"},children:[h&&d.jsx(te,{sx:{fontFamily:xe.fontFamily.secondary,fontSize:xe.fontSize.sm,fontWeight:xe.fontWeight.semibold,color:K.primary[700],flexShrink:0},children:B.number}),h&&m&&d.jsx(te,{sx:{fontFamily:xe.fontFamily.primary,fontSize:xe.fontSize.sm,color:K.text.secondary,flexShrink:0},children:"-"}),m&&d.jsx(te,{sx:{fontFamily:xe.fontFamily.secondary,fontSize:xe.fontSize.sm,fontWeight:xe.fontWeight.semibold,color:K.primary[700],flexShrink:0},children:B.title.length>g?`${B.title.substring(0,g)}...`:B.title})]})}):d.jsx(te,{sx:{color:K.text.secondary,fontFamily:xe.fontFamily.primary,fontSize:xe.fontSize.base},children:i||`Select ${r.toLowerCase()}`})},"data-testid":A,MenuProps:{PaperProps:{sx:{borderRadius:Ct.lg,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",border:`1px solid ${K.neutral[200]}`,backgroundColor:K.surface.primary,maxHeight:"300px"}}},children:u?d.jsx(xi,{disabled:!0,children:d.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:Pe[2],width:"100%"},children:[d.jsx(pi,{size:20}),d.jsx(te,{sx:{fontFamily:xe.fontFamily.primary},children:"Loading courses..."})]})}):t.length>0?t.map(U=>d.jsx(xi,{value:U.id,sx:{padding:`${Pe[2]} ${Pe[3]}`,"&:hover":{backgroundColor:K.primary[50]},"&.Mui-selected":{backgroundColor:K.primary[100],"&:hover":{backgroundColor:K.primary[200]}}},children:d.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:Pe[2],width:"100%"},children:[d.jsxs(se,{sx:{backgroundColor:K.primary[100],border:`1px solid ${K.primary[300]}`,borderRadius:Ct.lg,padding:`${Pe[2]} ${Pe[3]}`,display:"inline-flex",alignItems:"center",gap:Pe[1],width:"fit-content",maxWidth:"100%"},children:[h&&d.jsx(te,{sx:{fontFamily:xe.fontFamily.secondary,fontSize:xe.fontSize.sm,fontWeight:xe.fontWeight.semibold,color:K.primary[700],flexShrink:0},children:U.number}),h&&m&&d.jsx(te,{sx:{fontFamily:xe.fontFamily.primary,fontSize:xe.fontSize.sm,color:K.text.secondary,flexShrink:0},children:"-"}),m&&d.jsx(te,{sx:{fontFamily:xe.fontFamily.secondary,fontSize:xe.fontSize.sm,fontWeight:xe.fontWeight.semibold,color:K.primary[700],flexShrink:0},children:U.title})]}),b&&U.isCourseAdmin&&d.jsx(se,{sx:{backgroundColor:K.secondary[100],border:`1px solid ${K.secondary[300]}`,borderRadius:Ct.sm,padding:`${Pe[.5]} ${Pe[1]}`,display:"inline-flex",alignItems:"center",flexShrink:0},children:d.jsx(te,{sx:{fontFamily:xe.fontFamily.secondary,fontSize:xe.fontSize.xs,fontWeight:xe.fontWeight.semibold,color:K.secondary[700],textTransform:"uppercase"},children:"Admin"})})]})},U.id)):d.jsx(xi,{disabled:!0,children:d.jsx(te,{sx:{fontFamily:xe.fontFamily.primary,color:K.text.secondary,fontStyle:"italic"},children:"No courses available"})})}),a&&d.jsx(Vv,{children:a})]})},rz=({value:e,onChange:n,materials:t,label:r="Material",placeholder:i,helperText:a,error:s=!1,disabled:l=!1,loading:u=!1,required:f=!1,fullWidth:h=!0,variant:m="outlined",size:b="medium",sx:g})=>{const v=()=>t.find(x=>x.id===e);return v(),d.jsxs(Xc,{fullWidth:h,error:s,disabled:l,required:f,variant:m,size:b,sx:{"& .MuiOutlinedInput-root":{borderRadius:Ct.lg,backgroundColor:K.surface.primary,border:`2px solid ${K.neutral[300]}`,minHeight:b==="small"?"48px":"56px","&:hover":{backgroundColor:K.surface.primary,borderColor:K.neutral[300]},"&.Mui-focused":{backgroundColor:K.surface.primary,borderColor:K.primary[500],borderWidth:"2px"},"&.Mui-error":{borderColor:K.error},"& .MuiSelect-select":{padding:b==="small"?"12px 14px":"16px 14px",boxSizing:"border-box",fontFamily:xe.fontFamily.primary,fontSize:xe.fontSize.base,color:K.text.primary}},"& .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiInputLabel-root":{fontFamily:xe.fontFamily.secondary,fontSize:xe.fontSize.base,fontWeight:xe.fontWeight.medium,color:K.text.secondary,transform:"none",position:"static",marginBottom:Pe[1],"&.Mui-focused":{color:K.primary[600]},"&.Mui-error":{color:K.error}},"& .MuiFormHelperText-root":{fontFamily:xe.fontFamily.primary,fontSize:xe.fontSize.sm,marginTop:Pe[1],minHeight:"20px",lineHeight:"1.2"},...g},children:[d.jsx(s_,{required:f,sx:{mb:1,fontFamily:xe.fontFamily.secondary,fontSize:xe.fontSize.base,fontWeight:xe.fontWeight.medium,color:K.text.secondary},children:r}),d.jsx(Zc,{value:e,onChange:x=>n(x.target.value),displayEmpty:!0,renderValue:x=>{if(!x)return d.jsx(te,{sx:{color:K.text.secondary,fontFamily:xe.fontFamily.primary,fontSize:xe.fontSize.base},children:i||`Select ${r.toLowerCase()}`});const C=v();return C?d.jsx(se,{sx:{display:"flex",alignItems:"center",gap:Pe[2]},children:d.jsx(se,{sx:{backgroundColor:"#D1FAE5",border:"1px solid #22C55E",borderRadius:Ct.lg,padding:`${Pe[2]} ${Pe[3]}`,display:"inline-flex",alignItems:"center",gap:Pe[1],width:"fit-content",maxWidth:"100%"},children:d.jsx(te,{sx:{fontFamily:xe.fontFamily.secondary,fontSize:xe.fontSize.sm,fontWeight:xe.fontWeight.semibold,color:"#059669",flexShrink:0,minWidth:0,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:C.title})})}):""},children:u?d.jsx(xi,{disabled:!0,children:d.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:Pe[2]},children:[d.jsx(pi,{size:20}),d.jsx(te,{sx:{fontFamily:xe.fontFamily.primary},children:"Loading materials..."})]})}):t.length>0?t.map(x=>d.jsx(xi,{value:x.id,sx:{padding:Pe[2],"&:hover":{backgroundColor:"#ECFDF5"},"&.Mui-selected":{backgroundColor:"#D1FAE5","&:hover":{backgroundColor:"#A7F3D0"}}},children:d.jsx(se,{sx:{display:"flex",alignItems:"center",gap:Pe[2],width:"100%"},children:d.jsx(se,{sx:{backgroundColor:"#A7F3D0",border:"1px solid #22C55E",borderRadius:Ct.lg,padding:`${Pe[2]} ${Pe[3]}`,display:"inline-flex",alignItems:"center",gap:Pe[1],width:"fit-content",maxWidth:"100%"},children:d.jsx(te,{sx:{fontFamily:xe.fontFamily.secondary,fontSize:xe.fontSize.sm,fontWeight:xe.fontWeight.semibold,color:"#059669",flexShrink:0,minWidth:0,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:x.title})})})},x.id)):d.jsx(xi,{disabled:!0,children:d.jsx(te,{sx:{fontFamily:xe.fontFamily.primary,color:K.text.secondary},children:"No materials available"})})}),a&&d.jsx(Vv,{children:a})]})},X_=({materialId:e,materialTitle:n,maxTitleLength:t=50,variant:r="link",onClick:i})=>{const a=Na(),s=u=>{if(u.preventDefault(),u.stopPropagation(),i)i();else{const f=window.location.hostname==="nexlab.bio",m=`${f?"https://nexlab.bio":""}/view-material/${e}?material=${e}`;f?window.open(m,"_blank"):a(`/view-material/${e}?material=${e}`)}},l=n.length>t?`${n.substring(0,t)}...`:n;return r==="text"?d.jsx(te,{variant:"body2",sx:{color:K.text.primary,fontSize:xe.fontSize.sm,fontWeight:xe.fontWeight.medium},title:n,children:l}):d.jsx(te,{variant:"body1",onClick:s,sx:{fontFamily:xe.fontFamily.secondary,fontSize:xe.fontSize.base,fontWeight:xe.fontWeight.semibold,color:K.text.primary,cursor:"pointer",textDecoration:"none","&:hover":{color:K.primary[600],textDecoration:"underline"}},title:n,children:l})},Z_=({status:e,size:n="small",variant:t="filled"})=>{const i=(()=>{switch(e){case"superAdmin":return{label:"Super Admin",color:t==="filled"?{backgroundColor:K.success,color:K.text.inverse,borderColor:K.success}:{backgroundColor:"transparent",color:K.success,borderColor:K.success}};case"educator":return{label:"Educator",color:t==="filled"?{backgroundColor:K.primary[500],color:K.text.inverse,borderColor:K.primary[500]}:{backgroundColor:"transparent",color:K.primary[500],borderColor:K.primary[500]}};case"student":return{label:"Student",color:t==="filled"?{backgroundColor:K.neutral[400],color:K.text.inverse,borderColor:K.neutral[400]}:{backgroundColor:"transparent",color:K.neutral[600],borderColor:K.neutral[400]}};default:return{label:"Unknown",color:{backgroundColor:K.neutral[200],color:K.neutral[700],borderColor:K.neutral[300]}}}})();return d.jsx(Rn,{label:i.label,size:n,variant:t==="outlined"?"outlined":"filled",sx:{...i.color,fontFamily:xe.fontFamily.secondary,fontWeight:xe.fontWeight.medium,fontSize:n==="small"?xe.fontSize.xs:xe.fontSize.sm,border:`1px solid ${i.color.borderColor}`,"&:hover":{backgroundColor:t==="filled"?i.color.backgroundColor:`${i.color.borderColor}10`}}})},iz=({chatbotId:e,maxLength:n=999})=>{const[t,r]=M.useState(!1),i=async s=>{s.stopPropagation();try{await navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),2e3)}catch(l){console.error("Failed to copy:",l)}},a=e.length>n?`${e.substring(0,n)}...`:e;return d.jsx(ni,{title:t?"Copied!":"Click to Copy",children:d.jsx(se,{onClick:i,sx:{display:"inline-flex",alignItems:"center",backgroundColor:K.info+"15",color:K.info,border:`1px solid ${K.info}40`,borderRadius:Ct.md,padding:`${Pe[2]} ${Pe[3]}`,fontSize:xe.fontSize.sm,fontWeight:xe.fontWeight.medium,fontFamily:"monospace",cursor:"pointer",transition:"all 0.2s ease",maxWidth:"100%","&:hover":{backgroundColor:K.info+"25",transform:"translateY(-1px)",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},"&:active":{transform:"translateY(0)"}},children:d.jsx(te,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"inherit",color:"inherit",fontWeight:"inherit",userSelect:"none"},title:e,children:a})})})},J_=({courseId:e,maxLength:n=999})=>{const[t,r]=M.useState(!1),i=async s=>{s.stopPropagation();try{await navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),2e3)}catch(l){console.error("Failed to copy:",l)}},a=e.length>n?`${e.substring(0,n)}...`:e;return d.jsx(ni,{title:t?"Copied!":"Click to Copy",children:d.jsx(se,{onClick:i,sx:{display:"inline-flex",alignItems:"center",backgroundColor:K.neutral[100],color:K.neutral[700],border:`1px solid ${K.neutral[300]}`,borderRadius:Ct.full,padding:`${Pe[2]} ${Pe[3]}`,fontSize:xe.fontSize.sm,fontWeight:xe.fontWeight.medium,fontFamily:"monospace",cursor:"pointer",transition:"all 0.2s ease",maxWidth:"100%","&:hover":{backgroundColor:K.neutral[200],transform:"translateY(-1px)",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},"&:active":{transform:"translateY(0)"}},children:d.jsx(te,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"inherit",color:"inherit",fontWeight:"inherit",userSelect:"none"},title:e,children:a})})})},az=({materialId:e,maxLength:n=999})=>{const[t,r]=M.useState(!1),i=async s=>{s.stopPropagation();try{await navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),2e3)}catch(l){console.error("Failed to copy:",l)}},a=e.length>n?`${e.substring(0,n)}...`:e;return d.jsx(ni,{title:t?"Copied!":"Click to Copy",children:d.jsx(se,{onClick:i,sx:{display:"inline-flex",alignItems:"center",backgroundColor:K.secondary[50],color:K.secondary[700],border:`1px solid ${K.secondary[300]}`,borderRadius:Ct.md,padding:`${Pe[2]} ${Pe[3]}`,fontSize:xe.fontSize.sm,fontWeight:xe.fontWeight.medium,fontFamily:"monospace",cursor:"pointer",transition:"all 0.2s ease",maxWidth:"100%","&:hover":{backgroundColor:K.secondary[100],transform:"translateY(-1px)",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},"&:active":{transform:"translateY(0)"}},children:d.jsx(te,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"inherit",color:"inherit",fontWeight:"inherit",userSelect:"none"},title:e,children:a})})})};var Rg={},_8;function sz(){if(_8)return Rg;_8=1;var e=ol();Object.defineProperty(Rg,"__esModule",{value:!0}),Rg.default=void 0;var n=e(ul()),t=ll();return Rg.default=(0,n.default)((0,t.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),Rg}var oz=sz();const eI=Ta(oz);var Pg={},I8;function lz(){if(I8)return Pg;I8=1;var e=ol();Object.defineProperty(Pg,"__esModule",{value:!0}),Pg.default=void 0;var n=e(ul()),t=ll();return Pg.default=(0,n.default)((0,t.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),Pg}var uz=lz();const cz=Ta(uz),O8=e=>e?e instanceof Ni?e.toDate().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):e.seconds?new Date(e.seconds*1e3).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):e instanceof Date?e.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"N/A":"N/A",tI=e=>e?e instanceof Ni?e.toDate().toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}):e.seconds?new Date(e.seconds*1e3).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}):e instanceof Date?e.toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}):"N/A":"N/A",Zv=({label:e,status:n,size:t="small"})=>{const r=()=>{switch(n){case"success":return{backgroundColor:K.secondary[100],color:K.secondary[700]};case"warning":return{backgroundColor:"#FEF3C7",color:"#D97706"};case"error":return{backgroundColor:"#FEE2E2",color:"#DC2626"};case"info":return{backgroundColor:K.primary[100],color:K.primary[700]};default:return{backgroundColor:K.neutral[100],color:K.neutral[700]}}};return d.jsx(Rn,{label:e,size:t,sx:{...r(),fontFamily:xe.fontFamily.secondary,fontWeight:xe.fontWeight.medium,fontSize:xe.fontSize.sm}})},Jv=({actions:e})=>d.jsx(se,{sx:{display:"flex",justifyContent:"center",gap:Pe[1]},children:e.map((n,t)=>d.jsx(ni,{title:n.tooltip,children:d.jsx("span",{children:d.jsx(jn,{size:"small",onClick:n.onClick,disabled:n.disabled,sx:{color:n.disabled?K.text.disabled:n.color||K.primary[600],"&:hover":{backgroundColor:n.disabled?"transparent":n.hoverColor||K.primary[100]}},children:n.icon})})},t))}),Lm=({date:e,format:n="long"})=>d.jsx(te,{variant:"body2",sx:{color:K.text.secondary,fontSize:xe.fontSize.sm},children:n==="short"?O8(e).split(",")[0]:n==="full"?tI(e):O8(e)}),cs=({text:e,maxLength:n=100,variant:t="primary",weight:r="normal"})=>{const i=e.length>n?`${e.substring(0,n)}...`:e,a=()=>{const s={fontSize:xe.fontSize.sm,fontWeight:xe.fontWeight[r]};switch(t){case"secondary":return{...s,color:K.text.secondary};case"monospace":return{...s,fontFamily:"monospace",color:K.text.secondary,wordBreak:"break-all"};default:return{...s,color:K.text.primary}}};return d.jsx(te,{variant:"body2",sx:a(),title:e.length>n?e:void 0,children:i})},PS={delete:d.jsx(eI,{fontSize:"small"}),add:d.jsx(cz,{fontSize:"small"})},CC=({title:e,subtitle:n,children:t,maxWidth:r="1200px",className:i=""})=>{const a=Jd(),s=Pu(a.breakpoints.down("md"));return d.jsxs(se,{className:`form-page-container ${i}`,sx:{p:s?Pe[3]:Pe[4],maxWidth:r,mx:"auto",minHeight:"100vh",backgroundColor:K.primary[50]},children:[d.jsx(Do,{title:e,subtitle:n}),d.jsx(an,{className:"form-container",elevation:0,sx:{backgroundColor:K.surface.primary,borderRadius:Ct["2xl"],p:s?Pe[4]:Pe[6],border:`1px solid ${K.neutral[200]}`,boxShadow:Bt.lg,position:"relative",overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"3px",background:K.primary[500],borderRadius:`${Ct["2xl"]} ${Ct["2xl"]} 0 0`}},children:t})]})},ah=({title:e,description:n,children:t,showDivider:r=!1,className:i=""})=>d.jsxs(d.Fragment,{children:[r&&d.jsx(Yi,{sx:{my:Pe[4],borderColor:K.neutral[200]}}),d.jsxs(se,{className:`form-section ${i}`,sx:{mb:Pe[4]},children:[e&&d.jsx(te,{variant:"h6",component:"h2",sx:{mb:Pe[2],fontFamily:xe.fontFamily.display,fontWeight:xe.fontWeight.semibold,color:K.text.primary,fontSize:xe.fontSize.xl},children:e}),n&&d.jsx(te,{variant:"body1",sx:{mb:Pe[3],color:K.text.secondary,lineHeight:xe.lineHeight.relaxed,fontFamily:xe.fontFamily.primary},children:n}),t]})]}),ku=({sx:e,variant:n="outlined",...t})=>{const r=Jd(),i=Pu(r.breakpoints.down("sm"));return d.jsx(tn,{variant:"outlined",fullWidth:!0,margin:"normal",...t,sx:{"& .MuiOutlinedInput-root":{borderRadius:Ct.lg,backgroundColor:K.surface.primary,border:`2px solid ${K.neutral[300]}`,minHeight:"56px","&:hover":{backgroundColor:K.surface.primary,borderColor:K.neutral[300]},"&.Mui-focused":{backgroundColor:K.surface.primary,borderColor:K.neutral[300]},"&.Mui-error":{borderColor:K.error},"& .MuiOutlinedInput-input":{padding:"16px 14px",boxSizing:"border-box"}},"& .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiInputLabel-root":{fontFamily:xe.fontFamily.primary,fontWeight:xe.fontWeight.medium,color:K.text.secondary,transition:"color 0.2s ease-in-out",transform:"none !important",position:"static !important",marginBottom:"8px","&.Mui-focused":{color:K.primary[600],transform:"none !important"},"&.MuiInputLabel-shrink":{transform:"none !important"},"&.Mui-error":{color:K.error}},"& .MuiFormHelperText-root":{fontFamily:xe.fontFamily.primary,fontSize:xe.fontSize.sm,marginTop:Pe[1],minHeight:"20px",lineHeight:"1.2"},"& .MuiInputBase-input":{fontSize:xe.fontSize.base,fontFamily:xe.fontFamily.primary},...e}})},dz=({label:e,helperText:n,error:t=!1,required:r=!1,variant:i="outlined",children:a,sx:s,...l})=>{const u=Jd(),f=Pu(u.breakpoints.down("sm"));return d.jsxs(Xc,{fullWidth:!0,margin:"normal",error:t,sx:{"& .MuiOutlinedInput-root":{borderRadius:Ct.lg,backgroundColor:K.surface.primary,border:`2px solid ${K.neutral[300]}`,minHeight:"56px","&:hover":{backgroundColor:K.surface.primary,borderColor:K.neutral[300]},"&.Mui-focused":{backgroundColor:K.surface.primary,borderColor:K.neutral[300]},"&.Mui-error":{borderColor:K.error},"& .MuiSelect-select":{padding:"16px 14px",boxSizing:"border-box"}},"& .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiInputLabel-root":{fontFamily:xe.fontFamily.primary,fontWeight:xe.fontWeight.medium,color:K.text.secondary,transition:"color 0.2s ease-in-out",transform:"none !important",position:"static !important",marginBottom:"8px","&.Mui-focused":{color:K.primary[600],transform:"none !important"},"&.MuiInputLabel-shrink":{transform:"none !important"}},"& .MuiFormHelperText-root":{fontFamily:xe.fontFamily.primary,fontSize:xe.fontSize.sm,marginTop:Pe[1],minHeight:"20px",lineHeight:"1.2"},...s},children:[d.jsx(s_,{required:r,sx:{mb:1,fontFamily:xe.fontFamily.primary,fontWeight:xe.fontWeight.medium,color:K.text.secondary,fontSize:f?xe.fontSize.sm:xe.fontSize.base},children:e}),d.jsx(Zc,{variant:"outlined",...l,children:a}),n&&d.jsx(se,{component:"span",sx:{fontSize:xe.fontSize.sm,color:t?K.error:K.text.tertiary,mt:Pe[1],display:"block",fontFamily:xe.fontFamily.primary,fontWeight:xe.fontWeight.normal},children:n})]})},ym=({variant:e="primary",loading:n=!1,children:t,sx:r,disabled:i,...a})=>{const s=Jd(),l=Pu(s.breakpoints.down("sm")),u=()=>{switch(e){case"primary":return{backgroundColor:K.primary[500],color:K.text.inverse,"&:hover":{backgroundColor:K.primary[600],boxShadow:Bt.md,transform:"translateY(-1px)"},"&:active":{transform:"translateY(0)"},"&:disabled":{backgroundColor:K.neutral[300],color:K.text.disabled}};case"secondary":return{backgroundColor:K.secondary[500],color:K.text.inverse,"&:hover":{backgroundColor:K.secondary[600],boxShadow:Bt.md,transform:"translateY(-1px)"},"&:active":{transform:"translateY(0)"},"&:disabled":{backgroundColor:K.neutral[300],color:K.text.disabled}};case"outline":return{backgroundColor:"transparent",color:K.primary[600],border:`2px solid ${K.primary[500]}`,"&:hover":{backgroundColor:K.primary[50],borderColor:K.primary[600],transform:"translateY(-1px)"},"&:active":{transform:"translateY(0)"},"&:disabled":{borderColor:K.neutral[300],color:K.text.disabled}};case"text":return{backgroundColor:"transparent",color:K.text.secondary,"&:hover":{backgroundColor:K.neutral[100],color:K.text.primary},"&:disabled":{color:K.text.disabled}};default:return{}}};return d.jsx(xt,{disabled:i||n,...a,sx:{borderRadius:Ct.xl,padding:l?`${Pe[2]} ${Pe[4]}`:`${Pe[3]} ${Pe[6]}`,fontFamily:xe.fontFamily.secondary,fontWeight:xe.fontWeight.semibold,fontSize:l?xe.fontSize.sm:xe.fontSize.base,textTransform:"none",transition:"all 0.2s ease-in-out",minHeight:"48px",position:"relative",...u(),...n&&{"&::after":{content:'""',position:"absolute",width:"16px",height:"16px",border:`2px solid ${e==="primary"||e==="secondary"?K.text.inverse:K.primary[500]}`,borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}},...r},children:n?"":t})},AC=({children:e,align:n="left",className:t=""})=>{const r=Jd(),i=Pu(r.breakpoints.down("sm")),a=()=>{switch(n){case"center":return"center";case"right":return"flex-end";case"space-between":return"space-between";default:return"flex-start"}};return d.jsx(se,{className:`form-actions ${t}`,sx:{display:"flex",flexDirection:i?"column":"row",gap:Pe[3],justifyContent:a(),alignItems:i?"stretch":"center",mt:Pe[5],pt:Pe[4],borderTop:`1px solid ${K.neutral[200]}`,...i&&{"& > *":{width:"100%"}}},children:e})},nI=({children:e,title:n,appName:t="NexLAB",appUrl:r="https://nexlab.bio",supportEmail:i="andriy@intofuture.org"})=>`
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>${n}</title>
      <style>
        body {
          margin: 0;
          padding: 0;
          font-family: ${xe.fontFamily.primary};
          background-color: ${K.background.secondary};
          color: ${K.text.primary};
          line-height: ${xe.lineHeight.normal};
        }
        .email-container {
          max-width: 600px;
          margin: 0 auto;
          background-color: ${K.background.primary};
          border-radius: ${Ct.lg};
          box-shadow: ${Bt.lg};
          overflow: hidden;
        }
        .email-header {
          background: linear-gradient(135deg, ${K.primary[500]} 0%, ${K.primary[600]} 100%);
          padding: ${Pe[8]} ${Pe[6]};
          text-align: center;
          color: ${K.text.inverse};
        }
        .email-header h1 {
          margin: 0;
          font-size: ${xe.fontSize["2xl"]};
          font-weight: ${xe.fontWeight.bold};
          font-family: ${xe.fontFamily.display};
        }
        .email-header p {
          margin: ${Pe[2]} 0 0 0;
          font-size: ${xe.fontSize.base};
          opacity: 0.9;
        }
        .email-content {
          padding: ${Pe[8]} ${Pe[6]};
        }
        .email-content h2 {
          color: ${K.text.primary};
          font-size: ${xe.fontSize.xl};
          font-weight: ${xe.fontWeight.semibold};
          margin: 0 0 ${Pe[4]} 0;
          font-family: ${xe.fontFamily.secondary};
        }
        .email-content p {
          color: ${K.text.secondary};
          font-size: ${xe.fontSize.base};
          margin: 0 0 ${Pe[4]} 0;
          line-height: ${xe.lineHeight.relaxed};
        }
        .info-card {
          background: linear-gradient(135deg, ${K.background.secondary} 0%, ${K.background.tertiary} 100%);
          border: 1px solid ${K.neutral[200]};
          border-radius: ${Ct.xl};
          padding: ${Pe[8]};
          margin: ${Pe[6]} 0;
          box-shadow: ${Bt.sm};
        }
        .info-table {
          width: 100%;
          border-collapse: collapse;
          margin: 0;
        }
        .info-row {
          display: table-row;
        }
        .info-label {
          font-weight: ${xe.fontWeight.semibold};
          color: ${K.text.primary};
          font-size: ${xe.fontSize.sm};
          padding: ${Pe[3]} ${Pe[4]};
          background-color: ${K.primary[50]};
          border: 1px solid ${K.neutral[200]};
          border-right: none;
          width: 35%;
          vertical-align: top;
        }
        .info-value {
          color: ${K.text.secondary};
          font-size: ${xe.fontSize.sm};
          padding: ${Pe[3]} ${Pe[4]};
          background-color: ${K.background.primary};
          border: 1px solid ${K.neutral[200]};
          border-left: none;
          width: 65%;
          vertical-align: top;
        }
        .info-row:first-child .info-label,
        .info-row:first-child .info-value {
          border-top-left-radius: ${Ct.lg};
          border-top-right-radius: ${Ct.lg};
        }
        .info-row:last-child .info-label,
        .info-row:last-child .info-value {
          border-bottom-left-radius: ${Ct.lg};
          border-bottom-right-radius: ${Ct.lg};
        }
        .cta-button {
          display: inline-block;
          background: linear-gradient(135deg, ${K.primary[500]} 0%, ${K.primary[600]} 100%);
          color: ${K.text.inverse};
          text-decoration: none;
          padding: ${Pe[4]} ${Pe[8]};
          border-radius: ${Ct.xl};
          font-weight: ${xe.fontWeight.semibold};
          font-size: ${xe.fontSize.base};
          text-align: center;
          margin: ${Pe[6]} 0;
          transition: all 0.3s ease;
          box-shadow: ${Bt.md};
        }
        .cta-button:hover {
          transform: translateY(-2px);
          box-shadow: ${Bt.lg};
        }
        .status-badge {
          display: inline-block;
          padding: ${Pe[1]} ${Pe[3]};
          border-radius: ${Ct.full};
          font-size: ${xe.fontSize.xs};
          font-weight: ${xe.fontWeight.semibold};
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }
        .status-pending {
          background-color: ${K.warning}20;
          color: ${K.warning};
          border: 1px solid ${K.warning}40;
        }
        .status-approved {
          background-color: ${K.success}20;
          color: ${K.success};
          border: 1px solid ${K.success}40;
        }
        .email-footer {
          background-color: ${K.background.secondary};
          padding: ${Pe[6]};
          text-align: center;
          border-top: 1px solid ${K.neutral[200]};
        }
        .email-footer p {
          margin: 0;
          font-size: ${xe.fontSize.sm};
          color: ${K.text.tertiary};
        }
        .email-footer a {
          color: ${K.primary[500]};
          text-decoration: none;
        }
        .email-footer a:hover {
          text-decoration: underline;
        }
        @media (max-width: 600px) {
          .email-container {
            margin: 0;
            border-radius: 0;
          }
          .email-header, .email-content, .email-footer {
            padding: ${Pe[4]};
          }
          .info-label, .info-value {
            display: block;
            width: 100%;
            border: 1px solid ${K.neutral[200]};
            border-radius: 0;
          }
          .info-label {
            border-bottom: none;
            background-color: ${K.primary[100]};
            font-weight: ${xe.fontWeight.bold};
          }
          .info-value {
            border-top: none;
            margin-bottom: ${Pe[2]};
          }
          .info-row:last-child .info-value {
            margin-bottom: 0;
          }
        }
      </style>
    </head>
    <body>
      <div class="email-container">
        <div class="email-header">
          <h1>${t}</h1>
          <p>Next-Generation Experiments and Learning for Advanced Biotech</p>
        </div>
        <div class="email-content">
          ${e}
        </div>
        <div class="email-footer">
          <p>
            This email was sent from <a href="${r}">${t}</a><br>
            If you have any questions, please contact us at <a href="mailto:${i}">${i}</a>
          </p>
        </div>
      </div>
    </body>
    </html>
  `,fz=(e,n="NexLAB",t="https://nexlab.bio")=>{const r=e.requestType==="primary"?"Primary Instructor":"Co-Instructor",i=e.courseCreationMode==="syllabus"?"Syllabus Import":"Manual Entry";return nI({children:`
      <h2> Instructor Request Submitted Successfully!</h2>
      <p>Dear ${e.firstName} ${e.lastName},</p>
      <p>Thank you for submitting your request to become an instructor on NexLAB platform. We have received your application and it is currently being reviewed by our team.</p>
      
      <div class="info-card">
        <table class="info-table">
          <tr class="info-row">
            <td class="info-label">Request Status</td>
            <td class="info-value"><span class="status-badge status-pending">Pending Review</span></td>
          </tr>
          <tr class="info-row">
            <td class="info-label">Request Type</td>
            <td class="info-value">${r}</td>
          </tr>
          <tr class="info-row">
            <td class="info-label">Course</td>
            <td class="info-value">${e.courseNumber} - ${e.courseTitle}</td>
          </tr>
          <tr class="info-row">
            <td class="info-label">Institution</td>
            <td class="info-value">${e.institution}</td>
          </tr>
          ${e.requestType==="primary"?`
          <tr class="info-row">
            <td class="info-label">Creation Method</td>
            <td class="info-value">${i}</td>
          </tr>
          `:""}
          ${e.generatedMaterialsCount&&e.generatedMaterialsCount>0?`
          <tr class="info-row">
            <td class="info-label">Materials Generated</td>
            <td class="info-value">${e.generatedMaterialsCount} materials ready for publication</td>
          </tr>
          `:""}
          <tr class="info-row">
            <td class="info-label">Request ID</td>
            <td class="info-value">${e.requestId}</td>
          </tr>
          <tr class="info-row">
            <td class="info-label">Submitted</td>
            <td class="info-value">${new Date(e.submittedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}</td>
          </tr>
        </table>
      </div>
      
      <p><strong>What happens next?</strong></p>
      <p>Our team will review your request within 1-2 business days. You will receive an email notification once your request has been processed.</p>
      
      <p>If you have any questions or need to make changes to your request, please don't hesitate to contact our support team.</p>
    `,title:"Instructor Request Submitted - NexLAB",appName:n,appUrl:t})},M8=(e,n="NexLAB",t="https://nexlab.bio")=>{const r=e.requestType==="primary"?"Primary Instructor":"Co-Instructor";return nI({children:`
      <h2> Congratulations! Your Request Has Been Approved!</h2>
      <p>Dear ${e.firstName} ${e.lastName},</p>
      <p>Great news! Your request to become an instructor on NexLAB platform has been approved. You now have access to instructor features and can start managing your course.</p>
      
      <div class="info-card">
        <table class="info-table">
          <tr class="info-row">
            <td class="info-label">Request Status</td>
            <td class="info-value"><span class="status-badge status-approved">Approved</span></td>
          </tr>
          <tr class="info-row">
            <td class="info-label">Request Type</td>
            <td class="info-value">${r}</td>
          </tr>
          <tr class="info-row">
            <td class="info-label">Course</td>
            <td class="info-value">${e.courseNumber} - ${e.courseTitle}</td>
          </tr>
          <tr class="info-row">
            <td class="info-label">Institution</td>
            <td class="info-value">${e.institution}</td>
          </tr>
          ${e.passcode?`
          <tr class="info-row">
            <td class="info-label">Course Passcode</td>
            <td class="info-value" style="font-family: monospace; font-weight: bold; color: ${K.primary[600]};">${e.passcode}</td>
          </tr>
          `:""}
          ${e.materialsCreatedCount&&e.materialsCreatedCount>0?`
          <tr class="info-row">
            <td class="info-label">Materials Created</td>
            <td class="info-value">${e.materialsCreatedCount} materials automatically added to your course</td>
          </tr>
          `:""}
          <tr class="info-row">
            <td class="info-label">Request ID</td>
            <td class="info-value">${e.requestId}</td>
          </tr>
          <tr class="info-row">
            <td class="info-label">Approved</td>
            <td class="info-value">${new Date(e.approvedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}</td>
          </tr>
        </table>
      </div>
      
      <div style="margin: ${Pe[8]} 0;">
        <a href="${t}/supplemental-materials${e.courseId?`?course=${e.courseId}`:""}" class="cta-button">View My Course</a>
      </div>
      
      <p><strong>What you can do now:</strong></p>
      <ul style="color: ${K.text.secondary}; padding-left: ${Pe[6]};">
        <li>Access your course management dashboard</li>
        <li>Create and manage course materials</li>
        <li>Set up student enrollment with your course passcode</li>
        ${e.materialsCreatedCount&&e.materialsCreatedCount>0?"<li>Review and customize your auto-generated materials</li>":""}
      </ul>
      
      <p>Welcome to the NexLAB instructor community! We're excited to see what you'll create.</p>
    `,title:"Instructor Request Approved - NexLAB",appName:n,appUrl:t})},FS=(e,n,t)=>({to:e,message:{subject:n,html:t}}),hz=()=>{const{userDetails:e}=Ii(),{publicCourses:n}=$F(),t=Na(),r=n.length>0?n[0]:null,i=e&&!e.isAdmin&&(!e.classes||Object.keys(e.classes).length===0),a=[{title:"My Account",description:"Manage your profile and account settings",icon:d.jsx(o_,{sx:{fontSize:40}}),path:"/my-profile",color:K.primary[500],disabled:!1,external:!1},{title:"Messages",description:"View and manage course messages",icon:d.jsx(l_,{sx:{fontSize:40}}),path:"/messages",color:K.secondary[500],disabled:!1,external:!1}],s=[{title:"Course Materials",description:"View and manage course materials",icon:d.jsx(Yd,{sx:{fontSize:40}}),path:"/supplemental-materials",color:K.error,disabled:!1,external:!1},{title:"Laboratory Notebook",description:"Access your lab experiments and designs",icon:d.jsx(dC,{sx:{fontSize:40}}),path:"/laboratory-notebook",color:K.success,disabled:i,external:!1}];return d.jsxs(se,{className:"profile-container",children:[d.jsx(Do,{title:"Welcome!"}),d.jsxs(se,{sx:{mb:Pe[6],p:Pe[4],backgroundColor:K.background.secondary,borderRadius:Ct.xl,border:`1px solid ${K.neutral[200]}`,boxShadow:Bt.sm,position:"relative",mt:Pe[8]},children:[d.jsx(se,{sx:{position:"absolute",top:"-25px",left:"40px",backgroundColor:K.warning,borderRadius:`${Ct.lg} ${Ct.lg} 0 0`,px:Pe[3],py:Pe[1],zIndex:1},children:d.jsx(te,{sx:{color:K.text.inverse,fontFamily:xe.fontFamily.display,fontSize:"2rem",fontWeight:xe.fontWeight.bold,whiteSpace:"nowrap",lineHeight:1},children:"Getting Started"})}),d.jsxs(et,{container:!0,spacing:Pe[4],sx:{mt:Pe[3],mb:Pe[4]},children:[d.jsx(et,{item:!0,xs:12,sm:6,md:3,children:d.jsxs(se,{sx:{height:"100%",p:Pe[3],backgroundColor:K.background.primary,borderRadius:Ct.lg,border:`1px solid ${K.neutral[200]}`,boxShadow:Bt.sm},children:[d.jsx(te,{variant:"h6",component:"h3",sx:{fontFamily:xe.fontFamily.display,fontSize:"2rem",fontWeight:xe.fontWeight.bold,color:K.text.primary,mb:Pe[3],textAlign:"left"},children:"What is NexLAB?"}),d.jsx(te,{variant:"body1",paragraph:!0,sx:{fontFamily:xe.fontFamily.secondary,fontSize:xe.fontSize.lg,color:K.text.secondary,lineHeight:1.6,textAlign:"left"},children:"NexLAB enhances the Antibody Engineering curriculum with an adaptive content management platform designed for educators, students, and researchers."})]})}),d.jsx(et,{item:!0,xs:12,sm:6,md:3,children:d.jsxs(se,{sx:{height:"100%",p:Pe[3],backgroundColor:K.background.primary,borderRadius:Ct.lg,border:`1px solid ${K.neutral[200]}`,boxShadow:Bt.sm},children:[d.jsx(te,{variant:"h6",component:"h3",sx:{fontFamily:xe.fontFamily.display,fontSize:"2rem",fontWeight:xe.fontWeight.bold,color:K.text.primary,mb:Pe[3],textAlign:"left"},children:"Key Features:"}),d.jsxs(se,{component:"ul",sx:{pl:Pe[3],"& li":{fontFamily:xe.fontFamily.secondary,fontSize:xe.fontSize.lg,color:K.text.secondary,lineHeight:1.5,mb:Pe[1]}},children:[d.jsx("li",{children:"Electronic Laboratory Notebook using the Design-Build-Test framework"}),d.jsx("li",{children:"Platform for creating and sharing learning materials"}),d.jsx("li",{children:"Student progress tracking and class content efficacy analysis"}),d.jsx("li",{children:"Quiz AI & Chatbot Tools to support interactive learning"})]})]})}),d.jsx(et,{item:!0,xs:12,sm:6,md:3,children:d.jsx(ri,{sx:{height:"100%",cursor:"pointer",backgroundColor:K.background.primary,borderRadius:Ct.xl,border:`1px solid ${K.neutral[200]}`,boxShadow:Bt.sm,transition:Rc.transitions.normal,"&:hover":{transform:"translateY(-8px)",boxShadow:Bt.xl,border:`1px solid ${K.warning}`}},onClick:()=>{t(r?`/supplemental-materials?course=${r.id}`:"/supplemental-materials")},children:d.jsxs(ii,{sx:{textAlign:"center",p:Pe[4],height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[d.jsx(se,{sx:{color:K.warning,mb:Pe[3],display:"flex",justifyContent:"center"},children:d.jsx(UR,{sx:{fontSize:40}})}),d.jsxs(se,{sx:{flex:1},children:[d.jsx(te,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:xe.fontWeight.bold,fontFamily:xe.fontFamily.display,fontSize:"2rem",color:K.text.primary,mb:Pe[2]},children:"Quick-Start Guide"}),d.jsx(te,{variant:"body2",sx:{color:K.text.secondary,fontFamily:xe.fontFamily.secondary,fontSize:xe.fontSize.lg,lineHeight:1.5},children:"Get started with public course materials and learn the basics"})]})]})})}),d.jsx(et,{item:!0,xs:12,sm:6,md:3,children:d.jsx(ri,{sx:{height:"100%",cursor:"pointer",backgroundColor:K.background.primary,borderRadius:Ct.xl,border:`1px solid ${K.neutral[200]}`,boxShadow:Bt.sm,transition:Rc.transitions.normal,"&:hover":{transform:"translateY(-8px)",boxShadow:Bt.xl,border:`1px solid ${K.primary[500]}`}},onClick:()=>window.open("https://www.loom.com/share/f3ca701c66d34f84a13eb7ec12b0c6ec","_blank"),children:d.jsxs(ii,{sx:{textAlign:"center",p:Pe[4],height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[d.jsx(se,{sx:{color:K.primary[500],mb:Pe[3],display:"flex",justifyContent:"center"},children:d.jsx(HR,{sx:{fontSize:40}})}),d.jsxs(se,{sx:{flex:1},children:[d.jsx(te,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:xe.fontWeight.bold,fontFamily:xe.fontFamily.display,fontSize:"2rem",color:K.text.primary,mb:Pe[2]},children:"Tutorial"}),d.jsx(te,{variant:"body2",sx:{color:K.text.secondary,fontFamily:xe.fontFamily.secondary,fontSize:xe.fontSize.lg,lineHeight:1.5},children:"Watch our introduction video to learn how to use NexLAB"})]})]})})})]})]}),d.jsxs(se,{sx:{mb:Pe[6],p:Pe[4],backgroundColor:K.background.secondary,borderRadius:Ct.xl,border:`1px solid ${K.neutral[200]}`,boxShadow:Bt.sm,position:"relative",mt:Pe[8]},children:[d.jsx(se,{sx:{position:"absolute",top:"-25px",left:"40px",backgroundColor:K.primary[500],borderRadius:`${Ct.lg} ${Ct.lg} 0 0`,px:Pe[3],py:Pe[1],zIndex:1},children:d.jsx(te,{sx:{color:K.text.inverse,fontFamily:xe.fontFamily.display,fontSize:"2rem",fontWeight:xe.fontWeight.bold,whiteSpace:"nowrap",lineHeight:1},children:"Quick Actions"})}),d.jsx(et,{container:!0,spacing:Pe[4],sx:{mb:Pe[4],mt:Pe[3]},children:a.map((l,u)=>d.jsx(et,{item:!0,xs:12,sm:6,md:6,children:d.jsx(ri,{sx:{height:"100%",cursor:l.disabled?"not-allowed":"pointer",opacity:l.disabled?.6:1,backgroundColor:K.background.primary,borderRadius:Ct.xl,border:`1px solid ${K.neutral[200]}`,boxShadow:Bt.sm,transition:Rc.transitions.normal,"&:hover":l.disabled?{}:{transform:"translateY(-8px)",boxShadow:Bt.xl,border:`1px solid ${l.color}`}},onClick:()=>{l.disabled||(l.external?window.open(l.path,"_blank"):t(l.path))},children:d.jsxs(ii,{sx:{textAlign:"center",p:Pe[4],height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[d.jsx(se,{sx:{color:l.color,mb:Pe[3],display:"flex",justifyContent:"center"},children:l.icon}),d.jsxs(se,{sx:{flex:1},children:[d.jsx(te,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:xe.fontWeight.bold,fontFamily:xe.fontFamily.display,fontSize:"2rem",color:K.text.primary,mb:Pe[2]},children:l.title}),d.jsx(te,{variant:"body2",sx:{color:K.text.secondary,fontFamily:xe.fontFamily.secondary,fontSize:xe.fontSize.lg,lineHeight:1.5},children:l.description}),l.disabled&&d.jsx(te,{variant:"caption",sx:{mt:Pe[2],display:"block",color:K.error,fontFamily:xe.fontFamily.secondary},children:"Enroll in a course to access this feature"})]})]})})},u))}),d.jsx(et,{container:!0,spacing:Pe[4],children:s.map((l,u)=>d.jsx(et,{item:!0,xs:12,sm:6,md:6,children:d.jsx(ri,{sx:{height:"100%",cursor:l.disabled?"not-allowed":"pointer",opacity:l.disabled?.6:1,backgroundColor:K.background.primary,borderRadius:Ct.xl,border:`1px solid ${K.neutral[200]}`,boxShadow:Bt.sm,transition:Rc.transitions.normal,"&:hover":l.disabled?{}:{transform:"translateY(-8px)",boxShadow:Bt.xl,border:`1px solid ${l.color}`}},onClick:()=>{l.disabled||(l.external?window.open(l.path,"_blank"):t(l.path))},children:d.jsxs(ii,{sx:{textAlign:"center",p:Pe[4],height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[d.jsx(se,{sx:{color:l.color,mb:Pe[3],display:"flex",justifyContent:"center"},children:l.icon}),d.jsxs(se,{sx:{flex:1},children:[d.jsx(te,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:xe.fontWeight.bold,fontFamily:xe.fontFamily.display,fontSize:"2rem",color:K.text.primary,mb:Pe[2]},children:l.title}),d.jsx(te,{variant:"body2",sx:{color:K.text.secondary,fontFamily:xe.fontFamily.secondary,fontSize:xe.fontSize.lg,lineHeight:1.5},children:l.description}),l.disabled&&d.jsx(te,{variant:"caption",sx:{mt:Pe[2],display:"block",color:K.error,fontFamily:xe.fontFamily.secondary},children:"Enroll in a course to access this feature"})]})]})})},u))})]})]})};let Ky;const pz=new Uint8Array(16);function mz(){if(!Ky&&(Ky=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ky))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ky(pz)}const Ss=[];for(let e=0;e<256;++e)Ss.push((e+256).toString(16).slice(1));function gz(e,n=0){return Ss[e[n+0]]+Ss[e[n+1]]+Ss[e[n+2]]+Ss[e[n+3]]+"-"+Ss[e[n+4]]+Ss[e[n+5]]+"-"+Ss[e[n+6]]+Ss[e[n+7]]+"-"+Ss[e[n+8]]+Ss[e[n+9]]+"-"+Ss[e[n+10]]+Ss[e[n+11]]+Ss[e[n+12]]+Ss[e[n+13]]+Ss[e[n+14]]+Ss[e[n+15]]}const bz=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),L8={randomUUID:bz};function Vi(e,n,t){if(L8.randomUUID&&!e)return L8.randomUUID();e=e||{};const r=e.random||(e.rng||mz)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,gz(r)}const R8={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_KEY:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",VITE_APP_ID:"1:922352392986:web:6c4d6e16b5e615bd4daaa3",VITE_AUTH_DOMAIN:"nexlab-prod.firebaseapp.com",VITE_CHATBOT_DEFAULT_ID:"ce5f7921-a3a0-4ea7-b95f-10fe41becda5",VITE_DEPLOY_ENV:"github",VITE_GOOGLE_ANALYTICS_ID:"G-X2SBY2YQ4V",VITE_MESSAGING_SENDER_ID:"922352392986",VITE_PROJECT_ID:"nexlab-prod",VITE_PUBLIC_COURSE_ID:"rqoyheM9Lf8jGftIoZyT",VITE_STORAGE_BUCKET:"nexlab-prod.firebasestorage.app"},V1=new Map,Xy=e=>{const n=V1.get(e);return n?Object.fromEntries(Object.entries(n.stores).map(([t,r])=>[t,r.getState()])):{}},yz=(e,n,t)=>{if(e===void 0)return{type:"untracked",connection:n.connect(t)};const r=V1.get(t.name);if(r)return{type:"tracked",store:e,...r};const i={connection:n.connect(t),stores:{}};return V1.set(t.name,i),{type:"tracked",store:e,...i}},xz=(e,n)=>{if(n===void 0)return;const t=V1.get(e);t&&(delete t.stores[n],Object.keys(t.stores).length===0&&V1.delete(e))},vz=e=>{var n,t;if(!e)return;const r=e.split(`
`),i=r.findIndex(s=>s.includes("api.setState"));if(i<0)return;const a=((n=r[i+1])==null?void 0:n.trim())||"";return(t=/.+ (.+) .+/.exec(a))==null?void 0:t[1]},wz=(e,n={})=>(t,r,i)=>{const{enabled:a,anonymousActionType:s,store:l,...u}=n;let f;try{f=(a??(R8?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!f)return e(t,r,i);const{connection:h,...m}=yz(l,f,u);let b=!0;i.setState=(x,C,S)=>{const A=t(x,C);if(!b)return A;const N=S===void 0?{type:s||vz(new Error().stack)||"anonymous"}:typeof S=="string"?{type:S}:S;return l===void 0?(h==null||h.send(N,r()),A):(h==null||h.send({...N,type:`${l}/${N.type}`},{...Xy(u.name),[l]:i.getState()}),A)},i.devtools={cleanup:()=>{h&&typeof h.unsubscribe=="function"&&h.unsubscribe(),xz(u.name,l)}};const g=(...x)=>{const C=b;b=!1,t(...x),b=C},v=e(i.setState,r,i);if(m.type==="untracked"?h==null||h.init(v):(m.stores[m.store]=i,h==null||h.init(Object.fromEntries(Object.entries(m.stores).map(([x,C])=>[x,x===m.store?v:C.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let x=!1;const C=i.dispatch;i.dispatch=(...S)=>{(R8?"production":void 0)!=="production"&&S[0].type==="__setState"&&!x&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),x=!0),C(...S)}}return h.subscribe(x=>{var C;switch(x.type){case"ACTION":if(typeof x.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return g5(x.payload,S=>{if(S.type==="__setState"){if(l===void 0){g(S.state);return}Object.keys(S.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const A=S.state[l];if(A==null)return;JSON.stringify(i.getState())!==JSON.stringify(A)&&g(A);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(S)});case"DISPATCH":switch(x.payload.type){case"RESET":return g(v),l===void 0?h==null?void 0:h.init(i.getState()):h==null?void 0:h.init(Xy(u.name));case"COMMIT":if(l===void 0){h==null||h.init(i.getState());return}return h==null?void 0:h.init(Xy(u.name));case"ROLLBACK":return g5(x.state,S=>{if(l===void 0){g(S),h==null||h.init(i.getState());return}g(S[l]),h==null||h.init(Xy(u.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return g5(x.state,S=>{if(l===void 0){g(S);return}JSON.stringify(i.getState())!==JSON.stringify(S[l])&&g(S[l])});case"IMPORT_STATE":{const{nextLiftedState:S}=x.payload,A=(C=S.computedStates.slice(-1)[0])==null?void 0:C.state;if(!A)return;g(l===void 0?A:A[l]),h==null||h.send(null,S);return}case"PAUSE_RECORDING":return b=!b}return}}),v},kb=wz,g5=(e,n)=>{let t;try{t=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}t!==void 0&&n(t)};function Sz(e,n){let t;try{t=e()}catch{return}return{getItem:i=>{var a;const s=u=>u===null?null:JSON.parse(u,void 0),l=(a=t.getItem(i))!=null?a:null;return l instanceof Promise?l.then(s):s(l)},setItem:(i,a)=>t.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>t.removeItem(i)}}const zS=e=>n=>{try{const t=e(n);return t instanceof Promise?t:{then(r){return zS(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return zS(r)(t)}}}},Cz=(e,n)=>(t,r,i)=>{let a={storage:Sz(()=>localStorage),partialize:x=>x,version:0,merge:(x,C)=>({...C,...x}),...n},s=!1;const l=new Set,u=new Set;let f=a.storage;if(!f)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),t(...x)},r,i);const h=()=>{const x=a.partialize({...r()});return f.setItem(a.name,{state:x,version:a.version})},m=i.setState;i.setState=(x,C)=>{m(x,C),h()};const b=e((...x)=>{t(...x),h()},r,i);i.getInitialState=()=>b;let g;const v=()=>{var x,C;if(!f)return;s=!1,l.forEach(A=>{var N;return A((N=r())!=null?N:b)});const S=((C=a.onRehydrateStorage)==null?void 0:C.call(a,(x=r())!=null?x:b))||void 0;return zS(f.getItem.bind(f))(a.name).then(A=>{if(A)if(typeof A.version=="number"&&A.version!==a.version){if(a.migrate){const N=a.migrate(A.state,A.version);return N instanceof Promise?N.then(P=>[!0,P]):[!0,N]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,A.state];return[!1,void 0]}).then(A=>{var N;const[P,U]=A;if(g=a.merge(U,(N=r())!=null?N:b),t(g,!0),P)return h()}).then(()=>{S==null||S(g,void 0),g=r(),s=!0,u.forEach(A=>A(g))}).catch(A=>{S==null||S(void 0,A)})};return i.persist={setOptions:x=>{a={...a,...x},x.storage&&(f=x.storage)},clearStorage:()=>{f==null||f.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>v(),hasHydrated:()=>s,onHydrate:x=>(l.add(x),()=>{l.delete(x)}),onFinishHydration:x=>(u.add(x),()=>{u.delete(x)})},a.skipHydration||v(),g||b},e2=Cz,b5=async(e,n)=>{const t=H_(SC,"processCourseWithGemini");try{const r=await t({prompt:e,thinkingLevel:(n==null?void 0:n.thinkingLevel)||"high",maxTokens:(n==null?void 0:n.maxTokens)||16384});if(!r.data.success)throw new Error("Gemini processing failed");return r.data.text}catch(r){throw console.error("Gemini proxy error:",r),r.code==="unauthenticated"?new Error("You must be signed in to use AI features"):r.code==="resource-exhausted"?new Error("API rate limit exceeded. Please try again in a few minutes."):r.code==="failed-precondition"?new Error(r.message||"API key configuration error"):new Error(`AI processing failed: ${r.message}`)}},P8=async(e,n)=>{const t=H_(SC,"processMaterialWithGemini");try{const r=await t({prompt:e,thinkingLevel:(n==null?void 0:n.thinkingLevel)||"low",maxTokens:(n==null?void 0:n.maxTokens)||16384,useMaterialKey:!0,mediaResolution:(n==null?void 0:n.mediaResolution)||"media_resolution_high"});if(!r.data.success)throw new Error("Material processing failed");return r.data.text}catch(r){throw console.error("Material proxy error:",r),r.code==="unauthenticated"?new Error("You must be signed in to use AI features"):r.code==="resource-exhausted"?new Error("API rate limit exceeded. Please try again in a few minutes."):r.code==="failed-precondition"?new Error(r.message||"API key configuration error"):new Error(`Material processing failed: ${r.message}`)}};var y5={exports:{}},F8;function Az(){return F8||(F8=1,(()=>{var e={d:(a,s)=>{for(var l in s)e.o(s,l)&&!e.o(a,l)&&Object.defineProperty(a,l,{enumerable:!0,get:s[l]})},o:(a,s)=>Object.prototype.hasOwnProperty.call(a,s),r:a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}},n={};function t(a,s){for(var l=0;l<s.length;l++){var u=s[l];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}e.r(n),e.d(n,{default:()=>i});var r=function(){function a(){(function(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")})(this,a)}var s,l;return s=a,l=[{key:"changeHeightWidth",value:function(u,f,h,m,b,g){return h>m&&(u=Math.round(u*m/h),h=m),u>f&&(h=Math.round(h*f/u),u=f),b&&h<b&&(u=Math.round(u*b/h),h=b),g&&u<g&&(h=Math.round(h*g/u),u=g),{height:u,width:h}}},{key:"resizeAndRotateImage",value:function(u,f,h,m,b){var g=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"jpeg",v=arguments.length>6&&arguments[6]!==void 0?arguments[6]:100,x=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,C=v/100,S=document.createElement("canvas"),A=u.width,N=u.height,P=this.changeHeightWidth(N,h,A,f,m,b);!x||x!==90&&x!==270?(S.width=P.width,S.height=P.height):(S.width=P.height,S.height=P.width),A=P.width,N=P.height;var U=S.getContext("2d");return U.fillStyle="rgba(0, 0, 0, 0)",U.fillRect(0,0,A,N),U.imageSmoothingEnabled&&U.imageSmoothingQuality&&(U.imageSmoothingQuality="high"),x&&(U.rotate(x*Math.PI/180),x===90?U.translate(0,-S.width):x===180?U.translate(-S.width,-S.height):x===270?U.translate(-S.height,0):x!==0&&x!==360||U.translate(0,0)),U.drawImage(u,0,0,A,N),S.toDataURL("image/".concat(g),C)}},{key:"b64toByteArrays",value:function(u,f){for(var h=atob(u.toString().replace(/^data:image\/(png|jpeg|jpg|webp);base64,/,"")),m=[],b=0;b<h.length;b+=512){for(var g=h.slice(b,b+512),v=new Array(g.length),x=0;x<g.length;x++)v[x]=g.charCodeAt(x);var C=new Uint8Array(v);m.push(C)}return m}},{key:"b64toBlob",value:function(u,f){var h=this.b64toByteArrays(u,f);return new Blob(h,{type:f,lastModified:new Date})}},{key:"b64toFile",value:function(u,f,h){var m=this.b64toByteArrays(u,h);return new File(m,f,{type:h,lastModified:new Date})}},{key:"createResizedImage",value:function(u,f,h,m,b,g,v){var x=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"base64",C=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,S=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,A=new FileReader;if(!u)throw Error("File Not Found!");if(u.type&&!u.type.includes("image"))throw Error("File Is NOT Image!");A.readAsDataURL(u),A.onload=function(){var N=new Image;N.src=A.result,N.onload=function(){var P=a.resizeAndRotateImage(N,f,h,C,S,m,b,g),U="image/".concat(m);switch(x){case"blob":var B=a.b64toBlob(P,U);v(B);break;case"base64":v(P);break;case"file":var j=u.name.toString().replace(/(png|jpeg|jpg|webp)$/i,"").concat(m.toString()),F=a.b64toFile(P,j,U);v(F);break;default:v(P)}}},A.onerror=function(N){throw Error(N)}}}],l&&t(s,l),a}();const i={imageFileResizer:function(a,s,l,u,f,h,m,b,g,v){return r.createResizedImage(a,s,l,u,f,h,m,b,g,v)}};y5.exports=n})()),y5.exports}var kz=Az();const rI=Ta(kz),Ez=(e,n=5*1024*1024)=>new Promise((t,r)=>{var b;const i=((b=e.type.split("/")[1])==null?void 0:b.toLowerCase())||"unknown";if(e.size<=n&&(i==="jpeg"||i==="png"||i==="webp")){console.log(` Image already optimized: ${e.size} bytes, format: ${i}`),t({blob:e,format:i==="jpeg"?"jpg":i});return}const a=e.size>n;console.log(` Processing image: ${e.size} bytes, format: ${i}, compress: ${a}`);const s=new File([e],`image.${i}`,{type:e.type});let l="JPEG",u="jpg";(i==="png"||i==="gif")&&(l="PNG",u="png");const f=a?60:75,h=a?600:800,m=setTimeout(()=>{r(new Error("Image compression timed out after 10 seconds"))},1e4);rI.imageFileResizer(s,h,h,l,f,0,g=>{clearTimeout(m),g instanceof Blob?(console.log(` Image compressed: ${e.size}  ${g.size} bytes (${((1-g.size/e.size)*100).toFixed(1)}% reduction)`),t({blob:g,format:u})):r(new Error("Compression failed - unexpected result type"))},"blob")}),jz=async(e,n,t,r=3,i=15e3)=>{const a=jp();for(let s=1;s<=r;s++)try{const{blob:l,format:u}=await Ez(e),f=`${n}_${Vi()}.${u}`,h=async()=>{const g=Lc(a,`materials/${t}/${f}`),v=await rh(g,l);return{url:await ih(v.ref),path:v.ref.fullPath,filename:f,originalSize:e.size,compressedSize:l.size}},m=new Promise((g,v)=>{setTimeout(()=>v(new Error(`Upload timeout after ${i}ms`)),i)}),b=await Promise.race([h(),m]);return console.log(`Successfully uploaded image: ${b.filename} (attempt ${s})`,{originalSize:b.originalSize,compressedSize:b.compressedSize,url:b.url}),{url:b.url,path:b.path}}catch(l){const u=l instanceof Error?l.message:"Unknown error";if(console.warn(`Upload attempt ${s}/${r} failed for ${n}: ${u}`),s===r)throw console.error(`All ${r} upload attempts failed for ${n}:`,l),new Error(`Image upload failed after ${r} attempts: ${u}`);const f=Math.min(1e3*Math.pow(2,s-1),5e3);console.log(`Waiting ${f}ms before retry...`),await new Promise(h=>setTimeout(h,f))}throw new Error("Upload failed - should not reach here")},x5=e=>{const t=`
    <svg width="400" height="300" xmlns="http://www.w3.org/2000/svg">
      <rect width="100%" height="100%" fill="#f44336"/>
      <text x="50%" y="45%" font-family="Arial, sans-serif" font-size="12" fill="white" text-anchor="middle" dominant-baseline="middle">
        Upload Failed
      </text>
      <text x="50%" y="55%" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle" dominant-baseline="middle">
        ${e.replace(/[^\u0020-\u00FF]/g,"?").substring(0,30)}
      </text>
    </svg>
  `;try{return`data:image/svg+xml;base64,${btoa(t)}`}catch(r){return console.error("Failed to create fallback placeholder:",r),`data:image/svg+xml,${encodeURIComponent(t)}`}},Tz=async(e,n,t,r=3)=>{const i=e.filter(u=>u.imageBlob),a=[];console.log(` Starting batch upload of ${i.length} images (batch size: ${r})`),console.log(" Images to upload:",i.map((u,f)=>{var h,m;return{index:f+1,slideNumber:u.slideNumber,description:u.description,blobSize:(h=u.imageBlob)==null?void 0:h.size,blobType:(m=u.imageBlob)==null?void 0:m.type}}));for(let u=0;u<i.length;u+=r){const f=Math.min(u+r,i.length),h=i.slice(u,f);console.log(`Processing batch ${Math.floor(u/r)+1}/${Math.ceil(i.length/r)} (images ${u+1}-${f})`);const m=h.map(async(b,g)=>{const v=u+g;console.log(` Starting upload for image ${v+1}/${i.length} (slide ${b.slideNumber})`);try{const x=`slide_${b.slideNumber}_image_${v+1}`,C=jz(b.imageBlob,x,n,2,1e4),S=new Promise((N,P)=>{setTimeout(()=>{P(new Error(`Individual image timeout after 15 seconds for image ${v+1}`))},15e3)}),{url:A}=await Promise.race([C,S]);return console.log(` Successfully processed image ${v+1}/${i.length}`),{url:A,title:b.description||`Image from Slide ${b.slideNumber}`,originalFilename:b.filename,slideNumber:b.slideNumber,index:v}}catch(x){return console.error(` Failed to upload image ${v+1}/${i.length} from slide ${b.slideNumber}:`,x),{url:x5(b.description||`Image from Slide ${b.slideNumber}`),title:b.description||`Image from Slide ${b.slideNumber}`,originalFilename:b.filename,slideNumber:b.slideNumber,index:v}}});try{console.log(` Waiting for batch ${Math.floor(u/r)+1} to complete...`);const b=2e4,g=new Promise((x,C)=>{setTimeout(()=>{C(new Error(`Batch ${Math.floor(u/r)+1} timeout after ${b}ms`))},b)}),v=await Promise.race([Promise.allSettled(m),g]);console.log(` Batch ${Math.floor(u/r)+1} completed, processing ${v.length} results...`),v.forEach((x,C)=>{const S=u+C;if(x.status==="fulfilled")a.push(x.value),console.log(` Image ${S+1}/${i.length} uploaded successfully`);else{console.error(` Image ${S+1}/${i.length} failed:`,x.reason);const A=h[C];a.push({url:x5(A.description||`Image from Slide ${A.slideNumber}`),title:A.description||`Image from Slide ${A.slideNumber}`,originalFilename:A.filename,slideNumber:A.slideNumber})}t==null||t(S+1,i.length)})}catch(b){console.error(` Batch ${Math.floor(u/r)+1} failed or timed out:`,b),h.forEach((g,v)=>{const x=u+v;console.log(` Creating fallback for timed out image ${x+1}/${i.length}`),a.push({url:x5(g.description||`Image from Slide ${g.slideNumber}`),title:g.description||`Image from Slide ${g.slideNumber}`,originalFilename:g.filename,slideNumber:g.slideNumber}),t==null||t(x+1,i.length)})}f<i.length&&(console.log(" Waiting 1 second before next batch..."),await new Promise(b=>setTimeout(b,1e3)))}a.sort((u,f)=>(u.index||0)-(f.index||0));const s=a.filter(u=>!u.url.startsWith("data:")).length,l=a.length-s;return console.log(`Upload complete: ${s} successful, ${l} failed out of ${a.length} total`),a};class Nz{constructor(){_e(this,"activeBlobUrls",new Set);console.log("MaterialImportService initialized with secure proxy mode")}cleanupBlobUrls(){this.activeBlobUrls.forEach(n=>{URL.revokeObjectURL(n)}),this.activeBlobUrls.clear()}createTrackedBlobUrl(n){const t=URL.createObjectURL(n);return this.activeBlobUrls.add(t),t}async processMaterialContent(n,t,r,i,a,s){if(!(n!=null&&n.trim()))throw new Error("No content provided for processing");a==null||a({stage:"analyzing",percentage:20,currentOperation:"Analyzing document structure..."});const l=n.length,u=Math.ceil(l/4);if(l>15e3||u>4e3){console.log(`Document is large (${l} chars, ~${u} tokens), using chunked processing`);const f=n.substring(0,15e3);return console.log("Truncating input to prevent AI response truncation"),this.processSingleMaterial(f+`

[Content truncated for processing]`,t,r,i,a,s)}return this.processSingleMaterial(n,t,r,i,a,s)}async processSingleMaterial(n,t,r,i,a,s){const l=this.buildMaterialAnalysisPrompt(n,t,r,i,s);a==null||a({stage:"analyzing",percentage:40,currentOperation:"Processing with AI..."});try{const u=await P8(l,{thinkingLevel:"low",maxTokens:(i==null?void 0:i.maxOutputTokens)||16384,mediaResolution:"media_resolution_high"});if(!u||u.trim().length===0)throw new Error("Empty response from AI service");a==null||a({stage:"structuring",percentage:70,currentOperation:"Structuring content..."});let f=u.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();console.log("Raw response text (first 1000 chars):",u.substring(0,1e3)),console.log("Cleaned text (first 1000 chars):",f.substring(0,1e3)),f=this.repairTruncatedJSON(f);let h;try{h=JSON.parse(f)}catch(m){throw console.error("JSON parsing failed:",m),console.error("Raw response text (first 1000 chars):",u.substring(0,1e3)),console.error("Cleaned text (first 1000 chars):",f.substring(0,1e3)),new Error("AI response format invalid - unable to parse JSON")}if(!h||typeof h!="object")throw new Error("AI response is not a valid object");return a==null||a({stage:"complete",percentage:100,currentOperation:"Processing complete!"}),this.validateAndSanitizeMaterialResponse(h,t,r)}catch(u){throw console.error("Material Import AI Error:",u),a==null||a({stage:"error",percentage:0,currentOperation:`Error: ${u instanceof Error?u.message:"Unknown error"}`}),u instanceof Error&&(u.message.includes("AI processing failed")||u.message.includes("Material processing failed")||u.message.includes("signed in")||u.message.includes("rate limit")||u.message.includes("API key configuration")||u.message.includes("AI response")||u.message.includes("JSON parsing"))?u:new Error(`Material processing failed: ${u instanceof Error?u.message:"Unknown error"}`)}}async processLargeMaterial(n,t,r,i,a){a==null||a({stage:"analyzing",percentage:10,currentOperation:"Processing large document with chunking..."});const s=this.chunkMaterialText(n);let l=null;const u=[];a==null||a({stage:"analyzing",percentage:30,currentOperation:`Processing main content (1/${s.length})...`,subSteps:{current:1,total:s.length,description:"Analyzing primary structure"}}),l=await this.processSingleMaterial(s[0],t,r,i);for(let h=1;h<s.length;h++){a==null||a({stage:"analyzing",percentage:30+40*h/s.length,currentOperation:`Processing additional content (${h+1}/${s.length})...`,subSteps:{current:h+1,total:s.length,description:"Extracting supplementary details"}});try{const m=await this.processChunkForAdditionalContent(s[h],t,r);m&&u.push(m)}catch(m){console.warn(`Failed to process chunk ${h+1}:`,m)}}a==null||a({stage:"structuring",percentage:80,currentOperation:"Merging content from all sections..."});const f=this.mergeChunkedMaterialResults(l,u);return a==null||a({stage:"complete",percentage:100,currentOperation:"Large document processing complete!"}),f}buildMaterialAnalysisPrompt(n,t,r,i,a){const s=this.getFileTypeContext(r);return`
Analyze this ${s} educational material and extract structured information for course content management.

File: ${t}
Type: ${r}

CONTENT:
${n}

${a!=null&&a.images&&a.images.length>0?`
DETECTED IMAGES:
${a.images.map((l,u)=>`${u+1}. ${l.description||`Image ${u+1}`}${l.slideNumber?` (Slide ${l.slideNumber})`:""}${l.altText?` - ${l.altText}`:""}`).join(`
`)}

CRITICAL IMAGE PLACEMENT INSTRUCTIONS:
- Each image MUST be placed in the section corresponding to its slide number
- If "Image X (Slide Y)" is detected, place it in the section created from Slide Y content
- Each image should have a unique, descriptive title based on its context
- Include slideNumber property in each image object for proper matching
- DO NOT reuse the same image in multiple sections
`:""}

Please extract and structure this content into a comprehensive educational material format. Focus on:

1. **Document Structure**: Identify main topics, subtopics, and hierarchical organization
2. **Content Quality**: Preserve important educational information and context
3. **Visual Elements**: Note references to images, diagrams, charts (even if not extractable)
4. **Links and Resources**: Extract any URLs, references, or external resources mentioned
5. **Learning Context**: Maintain educational value and logical flow

${s==="presentation slide deck"?`
SPECIAL INSTRUCTIONS FOR PRESENTATIONS:
- Each slide should become a section or subsection
- Preserve slide order and hierarchy
- Note slide titles and main content points
- Identify slide transitions and logical groupings
- Extract speaker notes or additional context if present
`:""}

Return ONLY a JSON object with this exact structure:
{
  "title": "Material title (extracted from content or filename)",
  "description": "Brief description of the material content",
  "header": {
    "title": "Introduction or Overview",
    "content": "HTML formatted introductory content"
  },
  "footer": {
    "title": "Summary or Conclusion", 
    "content": "HTML formatted concluding content"
  },
  "sections": [
    {
      "title": "Section Title",
      "content": "HTML formatted main section content",
      "subsections": [
        {
          "title": "Subsection Title",
          "content": "HTML formatted subsection content",
          "subSubsections": [
            {
              "title": "Sub-subsection Title",
              "content": "HTML formatted detailed content",
              "images": [{"url": "", "title": "Image description", "description": "Context or caption", "slideNumber": 2}],
              "links": [{"title": "Link title", "url": "URL if available", "description": "Link context"}]
            }
          ],
          "images": [{"url": "", "title": "Image description", "description": "Context or caption", "slideNumber": 3}],
          "links": [{"title": "Link title", "url": "URL if available", "description": "Link context"}]
        }
      ],
      "images": [{"url": "", "title": "Image description", "description": "Context or caption", "slideNumber": 4}],
      "links": [{"title": "Link title", "url": "URL if available", "description": "Link context"}]
    }
  ],
  "sourceInfo": {
    "fileName": "${t}",
    "fileType": "${r}",
    "extractedAt": "${new Date().toISOString()}",
    "originalFileReference": "Reference to original file for debugging"
  },
  "images": [{"url": "", "title": "Overall image description", "description": "Context", "slideNumber": 1}],
  "links": [{"title": "Overall link title", "url": "URL", "description": "Link context"}]
}

CRITICAL JSON FORMATTING RULES:
- Return ONLY valid JSON - no comments, no explanations, no additional text
- Use proper HTML tags for content formatting (<p>, <h1>-<h6>, <ul>, <ol>, <li>, <strong>, <em>, <br>)
- Preserve educational structure and hierarchy
- Create logical sections based on content organization
- For images: Use EMPTY STRINGS for URLs ("url": "") with descriptive titles, context, and slideNumber property
-- IMPORTANT: Each image object MUST include "slideNumber" property matching the source slide
-- NEVER use placeholder filenames like "placeholder_image_1.png" - always use empty strings for URLs
- For links: Extract actual URLs when present, provide context
- Complete ALL sections and subsections - do not use comments like "// ... continue"
- Ensure all JSON arrays and objects are properly closed
- Maintain educational value and readability

IMPORTANT: Your response must be complete, valid JSON that can be parsed directly. Do not include any explanatory text, comments, or incomplete sections. End your response when the JSON object is complete.
`}async processChunkForAdditionalContent(n,t,r){const i=`
Extract additional educational content from this section of the material:

File: ${t}
Type: ${r}

CONTENT:
${n}

Focus on extracting any additional sections, detailed information, or supplementary content that should be included in the educational material.

Return ONLY a JSON object with additional sections, images, or links:
{
  "sections": [...],
  "images": [...],
  "links": [...]
}
`;try{const a=await P8(i,{thinkingLevel:"low",maxTokens:8192,mediaResolution:"media_resolution_high"});if(!a||a.trim().length===0)return null;let s;try{s=this.extractValidJSON(a)}catch(l){try{s=this.fallbackJSONExtraction(a)}catch{throw l}}return JSON.parse(s)}catch(a){return console.warn("Failed to process additional content chunk:",a),null}}chunkMaterialText(n,t=25e3){const r=[],i=n.split(`
`);let a="";for(const s of i)a.length+s.length>t&&a.length>0?(r.push(a.trim()),a=s):a+=(a?`
`:"")+s;return a.trim()&&r.push(a.trim()),r.length>0?r:[n]}mergeChunkedMaterialResults(n,t){const r={...n};for(const i of t)i.sections&&Array.isArray(i.sections)&&(r.sections=[...r.sections,...i.sections]),i.images&&Array.isArray(i.images)&&(r.images=[...r.images||[],...i.images]),i.links&&Array.isArray(i.links)&&(r.links=[...r.links||[],...i.links]);return r}extractValidJSON(n){let t=n.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();t=t.replace(/\/\/.*$/gm,"").replace(/\/\*[\s\S]*?\*\//g,"");const r=t.indexOf("{");if(r===-1)throw new Error("No JSON object found in response");t=t.substring(r);let i=0,a=-1,s=!1,l=!1;for(let h=0;h<t.length;h++){const m=t[h];if(l){l=!1;continue}if(m==="\\"){l=!0;continue}if(m==='"'&&!l){s=!s;continue}if(!s){if(m==="{")i++;else if(m==="}"&&(i--,i===0)){a=h+1;break}}}if(a===-1)throw new Error("No matching closing brace found for JSON object");let u=t.substring(0,a);u=u.replace(/,(\s*[}\]])/g,"$1"),this.detectTruncatedJSON(u)&&(console.warn("Detected truncated JSON response, attempting repair"),u=this.attemptJSONRepair(u));try{return JSON.parse(u),u}catch(h){console.warn("Initial JSON parsing failed, attempting to fix common issues:",h);const m=this.attemptJSONRepair(u);try{return JSON.parse(m),m}catch(b){throw console.error("JSON repair failed:",b),new Error(`Invalid JSON structure: ${b.message}`)}}}detectTruncatedJSON(n){const t=n.trim(),r=[/"[^"]*$/,/:\s*$/,/,\s*$/,/"[a-zA-Z]+\w*$/,/[a-zA-Z]+\w*$/,/\[\s*$/,/{\s*$/];for(const a of r)if(a.test(t))return console.log(`Truncation detected: ${a.toString()}`),!0;const i=t.charAt(t.length-1);return i!=="}"&&i!=="]"?(console.log(`Truncation detected: JSON doesn't end with } or ], ends with: "${i}"`),!0):!1}detectTruncatedResponse(n){const r=n.trim().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim(),i=[/"[^"]*$/,/\w+$/,/:\s*$/,/,\s*$/,!r.endsWith("}"),!r.endsWith("]"),r.length<500];for(let a=0;a<i.length-1;a++){const s=i[a];if(s instanceof RegExp&&s.test(r))return!0}return!!(i[i.length-3]||i[i.length-2]||i[i.length-1])}attemptJSONRepair(n){let t=n;const r=t.split(`
`),i=[];for(const f of r){const h=f.trim();h.startsWith("//")||h.includes("... (Continue")||h.includes("continue structuring")||h.includes("similarly")||i.push(f)}t=i.join(`
`),t=t.replace(/,(\s*[}\]])/g,"$1");const a=(t.match(/{/g)||[]).length,s=(t.match(/}/g)||[]).length,l=(t.match(/\[/g)||[]).length,u=(t.match(/\]/g)||[]).length;for(let f=0;f<a-s;f++)t+="}";for(let f=0;f<l-u;f++)t+="]";return t}fallbackJSONExtraction(n){console.log("Attempting fallback JSON extraction...");let t=n.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();t=t.replace(/\/\/.*$/gm,"").replace(/\/\*[\s\S]*?\*\//g,"");const r=t.indexOf("{");if(r===-1)throw new Error("No JSON object found in response");t=t.substring(r);const i=[/}\s*$/m,/}\s*\n\s*[A-Z]/m,/}\s*\n\s*This/m,/}\s*\n\s*Note:/m];let a=-1;for(const l of i){const u=t.match(l);if(u&&u.index!==void 0){const f=u.index+u[0].indexOf("}")+1;(a===-1||f<a)&&(a=f)}}a>0&&(t=t.substring(0,a));const s=this.attemptJSONRepair(t);try{return JSON.parse(s),s}catch{return console.log("Attempting aggressive JSON repair..."),this.aggressiveJSONRepair(t)}}aggressiveJSONRepair(n){let t=n;const r=t.split(`
`),i=[];for(const f of r){const h=f.trim();if(h.startsWith("//")||h.includes("... (")||h.includes("continue")||h.includes("similarly")||h.includes("Remember to")||h.includes("This structure")||h.length>0&&!h.includes('"')&&!h.includes("{")&&!h.includes("}")&&!h.includes("[")&&!h.includes("]"))break;i.push(f)}t=i.join(`
`),t=t.replace(/,(\s*[}\]])/g,"$1");const a=(t.match(/{/g)||[]).length,s=(t.match(/}/g)||[]).length,l=(t.match(/\[/g)||[]).length,u=(t.match(/\]/g)||[]).length;for(let f=0;f<a-s;f++)t+=`
}`;for(let f=0;f<l-u;f++)t+=`
]`;return t=t.replace(/,(\s*[}\]])/g,"$1"),t}repairTruncatedJSON(n){let t=n;const r=t.split(`
`),i=[];for(const f of r){const h=f.trim();if(h.length===0){i.push(f);continue}if(h.match(/^"[^"]*$/)){i.push('"": ""');break}if(h.match(/:\s*"[^"]*$/)){i.push(h.replace(/:\s*"[^"]*$/,': ""'));break}if(h.match(/^[a-zA-Z]+\w*$/))break;i.push(f)}t=i.join(`
`),t=t.replace(/,(\s*[}\]])/g,"$1"),t=t.replace(/,\s*$/,"");const a=(t.match(/{/g)||[]).length,s=(t.match(/}/g)||[]).length,l=(t.match(/\[/g)||[]).length,u=(t.match(/\]/g)||[]).length;console.log(`JSON structure analysis: ${a} open braces, ${s} close braces, ${l} open brackets, ${u} close brackets`);for(let f=0;f<l-u;f++)t+=`
]`;for(let f=0;f<a-s;f++)t+=`
}`;return t=t.replace(/,(\s*[}\]])/g,"$1"),console.log("Repaired JSON (first 1000 chars):",t.substring(0,1e3)),t}getFileTypeContext(n){const t=n.toLowerCase();return t.includes("presentation")||t.includes("powerpoint")||t.includes("pptx")?"presentation slide deck":t.includes("pdf")?"PDF document":t.includes("word")||t.includes("docx")?"Word document":"document"}validateAndSanitizeMaterialResponse(n,t,r){var a,s,l,u,f;const i={title:n.title||t.replace(/\.[^/.]+$/,"")||"Untitled Material",description:n.description||"",header:{title:((a=n.header)==null?void 0:a.title)||"Introduction",content:((s=n.header)==null?void 0:s.content)||""},footer:{title:((l=n.footer)==null?void 0:l.title)||"Summary",content:((u=n.footer)==null?void 0:u.content)||""},sections:[],sourceInfo:{fileName:t,fileType:r,extractedAt:new Date().toISOString(),originalFileReference:((f=n.sourceInfo)==null?void 0:f.originalFileReference)||t},images:Array.isArray(n.images)?n.images:[],links:Array.isArray(n.links)?n.links:[]};return Array.isArray(n.sections)&&(i.sections=n.sections.map(h=>({title:h.title||"Section",content:h.content||"",subsections:Array.isArray(h.subsections)?h.subsections.map(m=>({title:m.title||"Subsection",content:m.content||"",subSubsections:Array.isArray(m.subSubsections)?m.subSubsections.map(b=>({title:b.title||"Sub-subsection",content:b.content||"",images:Array.isArray(b.images)?b.images:[],links:Array.isArray(b.links)?b.links:[]})):[],images:Array.isArray(m.images)?m.images:[],links:Array.isArray(m.links)?m.links:[]})):[],images:Array.isArray(h.images)?h.images:[],links:Array.isArray(h.links)?h.links:[]}))),i.sections.length===0&&i.sections.push({title:"Main Content",content:"Content extracted from the uploaded material.",subsections:[],images:[],links:[]}),i}convertToMaterialFormat(n,t,r,i){const a=(u,f=400,h=300)=>{const m=u.replace(/[^\u0020-\u00FF]/g,"?").substring(0,30),b=`
        <svg width="${f}" height="${h}" xmlns="http://www.w3.org/2000/svg">
          <rect width="100%" height="100%" fill="#4a90e2"/>
          <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle" dominant-baseline="middle">
            ${m}
          </text>
        </svg>
      `;try{return`data:image/svg+xml;base64,${btoa(b)}`}catch(g){return console.error("Failed to create placeholder image URL:",g),`data:image/svg+xml,${encodeURIComponent(b)}`}},s=u=>{const f=new Map;i!=null&&i.images&&i.images.forEach(g=>{g.slideNumber&&g.imageBlob&&(f.has(g.slideNumber)||f.set(g.slideNumber,[]),f.get(g.slideNumber).push(g))});const h=new Map,m=(u==null?void 0:u.map((g,v)=>{let x="";if(g.slideNumber&&f.has(g.slideNumber)){const S=f.get(g.slideNumber);h.has(g.slideNumber)||h.set(g.slideNumber,new Set);const A=h.get(g.slideNumber);let N=null;if(g.title||g.description){const P=(g.title||g.description).toLowerCase();N=S.find(U=>{const B=(U.description||"").toLowerCase();return!A.has(U.embedId||"")&&B.includes(P.split(" ")[0])})||null}if(N||(N=S.find(P=>!A.has(P.embedId||""))||null),!N&&S.length>0){const P=v%S.length;N=S[P]}N!=null&&N.imageBlob&&(N.embedId&&A.add(N.embedId),x=this.createTrackedBlobUrl(N.imageBlob),console.log(`Using extracted image blob for slide ${g.slideNumber} (${A.size}/${S.length}):`,{slideNumber:g.slideNumber,imageIndex:v,embedId:N.embedId,blobSize:N.imageBlob.size,blobType:N.imageBlob.type,matchedBy:N.description||"position"}))}x||(g.url&&g.url.trim()&&(g.url.startsWith("data:")||g.url.startsWith("http"))&&!g.url.includes("placeholder_image")?x=g.url:x=a(g.title||"Image"));const C={url:x,title:g.title||g.description||"Detected Image"};return console.log("Enhanced image (preview):",C),C}))||[],b=Array.from(f.values()).reduce((g,v)=>g+v.length,0);return console.log(`Enhanced ${m.length} images for material preview (${b} extracted images available across ${f.size} slides)`),m},l=u=>{var f;return{id:Vi(),title:u.title,content:u.content,subsections:((f=u.subsections)==null?void 0:f.map(h=>{var m;return{id:Vi(),title:h.title,content:h.content,subSubsections:((m=h.subSubsections)==null?void 0:m.map(b=>({id:Vi(),title:b.title,content:b.content,images:s(b.images||[]),links:b.links||[]})))||[],images:s(h.images||[]),links:h.links||[]}}))||[],images:s(u.images||[]),links:u.links||[]}};return{course:t,title:n.title,header:n.header,footer:n.footer,sections:n.sections.map(l),author:r,published:!1,sourceInfo:n.sourceInfo}}async convertToMaterialFormatWithImageUpload(n,t,r,i,a,s){var g;let l=[];if(a!=null&&a.images)try{console.log(` Starting image upload process for ${a.images.length} extracted images...`),console.log(" Image metadata:",a.images.map(v=>{var x;return{slideNumber:v.slideNumber,description:v.description,hasBlob:!!v.imageBlob,blobSize:(x=v.imageBlob)==null?void 0:x.size}})),l=await Tz(a.images,i,s),console.log(` Successfully uploaded ${l.length} images to Firebase Storage`),console.log(" Uploaded image URLs:",l.map(v=>({title:v.title,url:v.url.substring(0,100)+"...",slideNumber:v.slideNumber})))}catch(v){console.error(" Failed to upload extracted images:",v)}else console.log(" No images to upload - extractionMetadata.images is empty or undefined");const u=(v,x=400,C=300)=>{const S=v.substring(0,30),A=`
        <svg width="${x}" height="${C}" xmlns="http://www.w3.org/2000/svg">
          <rect width="100%" height="100%" fill="#4a90e2"/>
          <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle" dominant-baseline="middle">
            ${S}
          </text>
        </svg>
      `;return`data:image/svg+xml;base64,${btoa(A)}`},f=v=>{const x=new Map;l.forEach(A=>{A.slideNumber&&(x.has(A.slideNumber)||x.set(A.slideNumber,[]),x.get(A.slideNumber).push(A))});const C=new Set,S=(v==null?void 0:v.map((A,N)=>{let P=null;if(A.slideNumber&&x.has(A.slideNumber)){const B=x.get(A.slideNumber);if(P=B.find(j=>!C.has(j.url))||null,!P&&B.length>0){const j=N%B.length;P=B[j]}}if(!P){const B=(A.title||A.description||"").toLowerCase().split(" ");P=l.find(j=>{if(C.has(j.url))return!1;const F=j.title.toLowerCase().split(" ");return B.some(V=>V.length>3&&F.some(X=>X.includes(V)))})||null}if(P||(P=l.find(B=>!C.has(B.url))||null),!P&&l.length>0){const B=N%l.length;P=l[B]}P&&C.add(P.url);const U={url:(P==null?void 0:P.url)||(A.url&&A.url.trim()?A.url:u(A.title||"Image")),title:(P==null?void 0:P.title)||A.title||A.description||"Detected Image"};return console.log("Enhanced image with upload:",{...U,url:U.url.substring(0,100)+"...",isUploaded:!!P,imageIndex:N,originalSlideNumber:A.slideNumber,matchedSlideNumber:P==null?void 0:P.slideNumber,matchStrategy:P?P.slideNumber===A.slideNumber?"slideNumber":U.title.includes(A.title||"")?"title":"sequential":"placeholder",usedCount:C.size,totalAvailable:l.length}),U}))||[];return console.log(`Enhanced ${S.length} images for material (${l.length} uploaded, ${C.size} used)`),S},h=v=>{var x;return{id:Vi(),title:v.title,content:v.content,images:f(v.images||[]),links:v.links||[],subsections:((x=v.subsections)==null?void 0:x.map(m))||[]}},m=v=>{var x;return{id:Vi(),title:v.title,content:v.content,images:f(v.images||[]),links:v.links||[],subSubsections:((x=v.subSubsections)==null?void 0:x.map(b))||[]}},b=v=>({id:Vi(),title:v.title,content:v.content,images:f(v.images||[]),links:v.links||[]});return{course:t,title:n.title,header:n.header||{title:"",content:""},footer:n.footer||{title:"",content:""},sections:((g=n.sections)==null?void 0:g.map(h))||[],author:r,published:!1,scheduledTimestamp:null}}}let v5=null;const qS=()=>(v5||(v5=new Nz),v5),Dz=async e=>{try{const n=await Ti(()=>import("./pdf-VQKGuvxX.js"),[]),t="";n.GlobalWorkerOptions.workerSrc=`${t}/js/pdf.worker.min.js`;const r=await e.arrayBuffer(),i=await n.getDocument({data:r}).promise,a=i.numPages;let s="";for(let l=1;l<=a;l++){const h=(await(await i.getPage(l)).getTextContent()).items.filter(m=>m&&typeof m.str=="string").map(m=>m.str).join(" ").trim();h&&(s+=h+`

`)}return{text:s.trim(),metadata:{pageCount:a,wordCount:s.trim().split(/\s+/).length,fileSize:e.size,extractionMethod:"PDF.js"}}}catch(n){throw{message:"Failed to extract text from PDF file. Please ensure the PDF contains selectable text.",code:"PDF_EXTRACTION_ERROR",originalError:n instanceof Error?n:new Error(String(n))}}},_z=async e=>{try{const n=await Ti(()=>import("./index-BQVvxhUE.js").then(i=>i.i),__vite__mapDeps([0,1])),t=await e.arrayBuffer(),r=await n.extractRawText({arrayBuffer:t});return r.messages&&r.messages.length>0&&console.warn("DOCX extraction warnings:",r.messages),{text:r.value.trim(),metadata:{wordCount:r.value.trim().split(/\s+/).length,fileSize:e.size,extractionMethod:"Mammoth"}}}catch(n){throw{message:"Failed to extract text from Word document. Please ensure the file is not corrupted.",code:"DOCX_EXTRACTION_ERROR",originalError:n instanceof Error?n:new Error(String(n))}}},Iz=async e=>{var n,t;try{const r=(await Ti(async()=>{const{default:m}=await import("./index-CZYWMsg6.js").then(b=>b.i);return{default:m}},__vite__mapDeps([2,1]))).default,i=await e.arrayBuffer(),a=new r(i);let s="",l=0;const u=[],f=Object.keys(a.files).filter(m=>m.startsWith("ppt/slides/slide")&&m.endsWith(".xml"));l=f.length;for(const m of f)try{const b=a.files[m].asText(),g=parseInt(((n=m.match(/slide(\d+)\.xml/))==null?void 0:n[1])||"0"),v=b.matchAll(/<a:blip[^>]*r:embed="([^"]*)"[^>]*>/g);for(const S of v){const A=S[1],N=b.match(new RegExp('<p:cNvPr[^>]*name="([^"]*)"[^>]*>',"i")),P=b.match(new RegExp('<p:cNvPr[^>]*descr="([^"]*)"[^>]*>',"i")),U=b.replace(/<a:t[^>]*>(.*?)<\/a:t>/g,"$1 ").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();let B=`Image on slide ${g}`;const j=["chart","graph","diagram","figure","table","photo","image","illustration","screenshot","logo","flowchart","timeline","comparison","data","results","example","structure","process"],F=U.toLowerCase().split(/\s+/),V=j.filter(T=>F.some(D=>D.includes(T)));if(V.length>0)B=`${V[0].charAt(0).toUpperCase()+V[0].slice(1)} (Slide ${g})`;else if(U.length>0){const T=F.slice(0,3).join(" ");T.length>5&&(B=`Image: ${T}... (Slide ${g})`)}let X;try{const T=`ppt/slides/_rels/slide${g}.xml.rels`;if(a.files[T]){const O=a.files[T].asText().match(new RegExp(`Id="${A}"[^>]*Target="([^"]*)"`,"i"));if(O){const L=O[1],Q=L.startsWith("../")?`ppt/${L.substring(3)}`:`ppt/slides/${L}`;if(a.files[Q]){const $=a.files[Q].asUint8Array();let Y="image/jpeg";const Z=Q.toLowerCase();if(Z.includes(".png"))Y="image/png";else if(Z.includes(".gif"))Y="image/gif";else if(Z.includes(".bmp"))Y="image/bmp";else if(Z.includes(".webp"))Y="image/webp";else if(Z.includes(".emf")||Z.includes(".wmf")){console.warn(`Skipping unsupported vector image format: ${Q}`);continue}const re=$.slice(0).buffer;X=new Blob([re],{type:Y}),console.log(`Extracted image blob for slide ${g}:`,{size:X.size,type:Y,path:Q})}}}}catch(T){console.warn(`Failed to extract image blob for ${A} on slide ${g}:`,T)}u.push({slideNumber:g,description:(N==null?void 0:N[1])||B,altText:(P==null?void 0:P[1])||void 0,filename:A,embedId:A,imageBlob:X})}const x=b.replace(/<a:t[^>]*>(.*?)<\/a:t>/g,"$1 ").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();x&&(s+=`
--- Slide ${g} ---
${x}
`);const C=u.filter(S=>S.slideNumber===g);C.length>0&&(s+=`
[IMAGES ON SLIDE ${g}]: `,C.forEach(S=>{s+=`"${S.description}"${S.altText?` (${S.altText})`:""}, `}),s=s.slice(0,-2)+`
`)}catch(b){console.warn(`Failed to extract text from ${m}:`,b)}const h=Object.keys(a.files).filter(m=>m.startsWith("ppt/notesSlides/notesSlide")&&m.endsWith(".xml"));for(const m of h)try{const g=a.files[m].asText().replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();if(g){const v=((t=m.match(/notesSlide(\d+)\.xml/))==null?void 0:t[1])||"unknown";s+=`
--- Notes for Slide ${v} ---
${g}
`}}catch(b){console.warn(`Failed to extract notes from ${m}:`,b)}if(!s.trim())throw new Error("No text content found in PowerPoint file");return{text:s.trim(),metadata:{slideCount:l,wordCount:s.trim().split(/\s+/).length,fileSize:e.size,extractionMethod:"PizZip",images:u.length>0?u:void 0}}}catch(r){throw{message:"Failed to extract text from PowerPoint file. Please ensure the file is not corrupted and contains text content.",code:"PPTX_EXTRACTION_ERROR",originalError:r instanceof Error?r:new Error(String(r))}}},Oz=async e=>{try{const n=await e.text();return{text:n.trim(),metadata:{wordCount:n.trim().split(/\s+/).length,fileSize:e.size,extractionMethod:"Native"}}}catch(n){throw{message:"Failed to extract text from text file",code:"TXT_EXTRACTION_ERROR",originalError:n instanceof Error?n:new Error(String(n))}}},iI=async e=>{if(!e)throw{message:"No file provided",code:"NO_FILE_ERROR"};const n=e.type.toLowerCase(),t=e.name.toLowerCase();try{if(n==="application/pdf"||t.endsWith(".pdf"))return await Dz(e);if(n==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||t.endsWith(".docx"))return await _z(e);if(n==="application/vnd.openxmlformats-officedocument.presentationml.presentation"||t.endsWith(".pptx"))return await Iz(e);if(n==="text/plain"||t.endsWith(".txt"))return await Oz(e);throw{message:`Unsupported file format: ${n||"unknown"}. Supported formats: PDF (.pdf), Word (.docx), PowerPoint (.pptx), Text (.txt)`,code:"UNSUPPORTED_FORMAT_ERROR"}}catch(r){throw r&&typeof r=="object"&&"code"in r?r:{message:`Failed to extract text from ${e.name}`,code:"GENERIC_EXTRACTION_ERROR",originalError:r instanceof Error?r:new Error(String(r))}}},aI=e=>{const t=["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","text/plain"],r=[".pdf",".docx",".pptx",".txt"];if(e.size>524288e3)return{isValid:!1,error:`File size (${(e.size/1024/1024).toFixed(1)}MB) exceeds the maximum limit of 500MB.`};const i=e.type.toLowerCase(),a=e.name.toLowerCase(),s=t.includes(i),l=r.some(u=>a.endsWith(u));return!s&&!l?{isValid:!1,error:`Unsupported file format. Please upload files with extensions: ${r.join(", ")}`}:{isValid:!0}},sI=e=>{const n=e.type.toLowerCase(),t=e.name.toLowerCase();return n==="application/pdf"||t.endsWith(".pdf")?"PDF Document":n==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||t.endsWith(".docx")?"Word Document":n==="application/vnd.openxmlformats-officedocument.presentationml.presentation"||t.endsWith(".pptx")?"PowerPoint Presentation":n==="text/plain"||t.endsWith(".txt")?"Text File":"Unknown Format"},Mz=e=>{const n=e.size/1048576,t=e.type.toLowerCase();let r=0;return t==="application/pdf"?r=Math.max(2,n*.5):t==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"?r=Math.max(1,n*.3):t==="application/vnd.openxmlformats-officedocument.presentationml.presentation"?r=Math.max(1.5,n*.4):r=Math.max(.5,n*.1),Math.round(r)};class Lz{constructor(){_e(this,"storage",jp());_e(this,"DEFAULT_CHUNK_SIZE",5*1024*1024);_e(this,"DEFAULT_MAX_RETRIES",3);_e(this,"DEFAULT_TIMEOUT",6e4)}async uploadLargeFile(n,t,r={}){const i=Date.now(),{chunkSize:a=this.DEFAULT_CHUNK_SIZE,maxRetries:s=this.DEFAULT_MAX_RETRIES,timeoutMs:l=this.DEFAULT_TIMEOUT,onProgress:u,onChunkComplete:f}=r,h=500*1024*1024;if(n.size>h)throw new Error(`File size (${(n.size/1024/1024).toFixed(1)}MB) exceeds maximum limit of 500MB`);if(!(n.size>a))return this.uploadStandardFile(n,t,u);console.log(` Starting chunked upload for ${n.name} (${(n.size/1024/1024).toFixed(1)}MB)`),u==null||u({stage:"preparing",percentage:0,bytesUploaded:0,totalBytes:n.size,currentOperation:"Preparing file for chunked upload..."});const b=this.createChunkMetadata(n,a),g=Vi(),v=`${t}_chunks_${g}`;u==null||u({stage:"preparing",percentage:5,totalChunks:b.length,bytesUploaded:0,totalBytes:n.size,currentOperation:`Created ${b.length} chunks for upload...`});try{await this.uploadChunks(n,b,v,{maxRetries:s,timeoutMs:l,onProgress:S=>{const A=this.calculateOverallProgress(b,S);u==null||u({stage:"uploading",percentage:5+A*.85,currentChunk:S.currentChunk,totalChunks:b.length,bytesUploaded:S.bytesUploaded,totalBytes:n.size,currentOperation:S.currentOperation,estimatedTimeRemaining:this.estimateTimeRemaining(i,A)})},onChunkComplete:f}),u==null||u({stage:"assembling",percentage:90,totalChunks:b.length,bytesUploaded:n.size,totalBytes:n.size,currentOperation:"Assembling chunks into final file..."});const x=await this.assembleChunks(n,b,t,g);u==null||u({stage:"completed",percentage:100,totalChunks:b.length,bytesUploaded:n.size,totalBytes:n.size,currentOperation:"Upload completed successfully!"});const C=Date.now()-i;return console.log(` Chunked upload completed in ${(C/1e3).toFixed(1)}s`),{...x,chunks:b.length,uploadTime:C}}catch(x){throw console.error(" Chunked upload failed:",x),await this.cleanupFailedUpload(b),x}}createChunkMetadata(n,t){const r=[];let i=0;for(;i<n.size;){const a=Math.min(i+t,n.size);r.push({index:r.length,size:a-i,start:i,end:a,retries:0}),i=a}return r}async uploadChunks(n,t,r,i){const{maxRetries:a,timeoutMs:s,onProgress:l,onChunkComplete:u}=i;let f=0;const h=3;for(let m=0;m<t.length;m+=h){const g=t.slice(m,Math.min(m+h,t.length)).map(async v=>{const x=n.slice(v.start,v.end),C=`${r}/chunk_${v.index.toString().padStart(4,"0")}`;let S=null;for(let A=0;A<=a;A++)try{l==null||l({currentChunk:v.index+1,bytesUploaded:f,currentOperation:`Uploading chunk ${v.index+1}/${t.length} (attempt ${A+1})`});const N=await this.uploadSingleChunk(x,C,s);v.uploadUrl=N.url,v.uploadPath=N.path,f+=v.size,u==null||u(v.index,t.length),console.log(` Chunk ${v.index+1}/${t.length} uploaded successfully`);return}catch(N){S=N,v.retries=A+1,A<a&&(console.warn(` Chunk ${v.index+1} failed (attempt ${A+1}), retrying...`),await this.delay(Math.pow(2,A)*1e3))}throw new Error(`Failed to upload chunk ${v.index+1} after ${a+1} attempts: ${S==null?void 0:S.message}`)});await Promise.all(g),m+h<t.length&&await this.delay(500)}}async uploadSingleChunk(n,t,r){const i=Lc(this.storage,t),a=async()=>{const l=await rh(i,n);return{url:await ih(l.ref),path:l.ref.fullPath}},s=new Promise((l,u)=>{setTimeout(()=>u(new Error(`Chunk upload timeout after ${r}ms`)),r)});return Promise.race([a(),s])}async assembleChunks(n,t,r,i){const a=await this.reconstructFileFromChunks(n,t),s=Lc(this.storage,r),l=await rh(s,a),u=await ih(l.ref);return await this.cleanupChunks(t),{url:u,path:l.ref.fullPath,name:n.name,type:n.type,size:n.size,uploadedAt:new Date}}async reconstructFileFromChunks(n,t){const r=[];for(const i of t.sort((a,s)=>a.index-s.index))r.push(n.slice(i.start,i.end));return new Blob(r,{type:n.type})}async uploadStandardFile(n,t,r){const i=Date.now(),a=Lc(this.storage,t);r==null||r({stage:"uploading",percentage:10,bytesUploaded:0,totalBytes:n.size,currentOperation:"Uploading file..."});const s=await rh(a,n);r==null||r({stage:"uploading",percentage:90,bytesUploaded:n.size,totalBytes:n.size,currentOperation:"Getting download URL..."});const l=await ih(s.ref);r==null||r({stage:"completed",percentage:100,bytesUploaded:n.size,totalBytes:n.size,currentOperation:"Upload completed!"});const u=Date.now()-i;return{url:l,path:s.ref.fullPath,name:n.name,type:n.type,size:n.size,uploadedAt:new Date,chunks:1,uploadTime:u}}calculateOverallProgress(n,t){const r=n.filter(a=>a.uploadUrl).length,i=t.currentChunk?t.bytesUploaded/n.reduce((a,s)=>a+s.size,0):0;return(r+i)/n.length}estimateTimeRemaining(n,t){if(t<=0)return 0;const r=Date.now()-n,i=r/t;return Math.max(0,i-r)}async cleanupChunks(n){const t=n.filter(r=>r.uploadPath).map(async r=>{try{const i=Lc(this.storage,r.uploadPath);await j_(i)}catch(i){console.warn(`Failed to cleanup chunk ${r.index}:`,i)}});await Promise.allSettled(t)}async cleanupFailedUpload(n){console.log(" Cleaning up failed chunked upload..."),await this.cleanupChunks(n)}delay(n){return new Promise(t=>setTimeout(t,n))}validateFileForChunkedUpload(n){return n.size>524288e3?{isValid:!1,error:`File size (${(n.size/1024/1024).toFixed(1)}MB) exceeds maximum limit of 500MB`}:["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword","text/plain"].includes(n.type)?{isValid:!0}:{isValid:!1,error:`Unsupported file type: ${n.type}. Supported formats: PowerPoint, PDF, Word, Text files`}}}const z8=new Lz;class Rz{constructor(){_e(this,"storage",jp())}async uploadOriginalFile(n,t,r,i){return n.size>26214400?(console.log(` File is large (${(n.size/1024/1024).toFixed(1)}MB), using chunked upload`),this.uploadOriginalFileEnhanced(n,t,r,i?s=>i(s.percentage):void 0)):this.uploadOriginalFileStandard(n,t,r,i)}async uploadOriginalFileEnhanced(n,t,r,i){const a=z8.validateFileForChunkedUpload(n);if(!a.isValid)throw new Error(a.error);const s=n.name.split(".").pop()||"",l=r||Vi(),u=`${n.name.replace(/\.[^/.]+$/,"")}_${l}.${s}`,f=`original-files/${t}/${u}`;console.log(" Starting enhanced original file upload:",{fileName:u,fileSize:n.size,fileType:n.type,courseId:t,chunked:!0});try{const h=await z8.uploadLargeFile(n,f,{chunkSize:5242880,maxRetries:3,timeoutMs:6e4,onProgress:i,onChunkComplete:(b,g)=>{console.log(` Chunk ${b+1}/${g} completed`)}}),m={name:n.name,type:n.type,size:n.size,url:h.url,uploadedAt:new Date};return console.log(" Enhanced original file uploaded successfully:",{originalName:n.name,storageName:u,url:h.url,size:n.size,chunks:h.chunks,uploadTime:`${(h.uploadTime/1e3).toFixed(1)}s`}),m}catch(h){throw console.error(" Enhanced original file upload failed:",h),new Error(`Failed to upload original file: ${h instanceof Error?h.message:"Unknown error"}`)}}async uploadOriginalFileStandard(n,t,r,i){try{const a=n.name.split(".").pop()||"",s=r||Vi(),l=`${n.name.replace(/\.[^/.]+$/,"")}_${s}.${a}`,u=Lc(this.storage,`original-files/${t}/${l}`);console.log(" Starting original file upload:",{fileName:l,fileSize:n.size,fileType:n.type,courseId:t}),i==null||i(10);const f=await rh(u,n);i==null||i(70);const h=await ih(f.ref);i==null||i(100);const m={name:n.name,type:n.type,size:n.size,url:h,uploadedAt:new Date};return console.log(" Original file uploaded successfully:",{originalName:n.name,storageName:l,url:h,size:n.size}),m}catch(a){throw console.error(" Original file upload failed:",a),new Error(`Failed to upload original file: ${a instanceof Error?a.message:"Unknown error"}`)}}async deleteOriginalFile(n){try{const r=new URL(n).pathname.match(/\/o\/(.+?)\?/);if(!r)throw new Error("Invalid Firebase Storage URL format");const i=decodeURIComponent(r[1]),a=Lc(this.storage,i);await j_(a),console.log(" Original file deleted successfully:",i)}catch(t){console.error(" Original file deletion failed:",t),console.warn("Continuing despite file deletion failure")}}async replaceOriginalFile(n,t,r,i,a){try{return i&&await this.deleteOriginalFile(i),await this.uploadOriginalFile(n,t,r,a)}catch(s){throw console.error(" Original file replacement failed:",s),new Error(`Failed to replace original file: ${s instanceof Error?s.message:"Unknown error"}`)}}getFileExtension(n){var t;return((t=n.split(".").pop())==null?void 0:t.toLowerCase())||""}validateFile(n){return n.size>524288e3?{isValid:!1,error:`File size (${(n.size/1024/1024).toFixed(1)}MB) exceeds maximum limit of 500MB`}:["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword","text/plain"].includes(n.type)?{isValid:!0}:{isValid:!1,error:`Unsupported file type: ${n.type}. Supported formats: PowerPoint, PDF, Word, Text files`}}}const w5=new Rz,q8={isProcessing:!1,progress:null,error:null,uploadedFile:null,extractedText:null,extractionResult:null,originalFileUploadProgress:null,originalFileUrl:null,aiExtractedData:null,convertedMaterial:null,processingOptions:{maxOutputTokens:4096,topK:1,topP:.1,preserveFormatting:!0,extractImages:!0,extractLinks:!0}},Hd=Tp()(kb((e,n)=>({...q8,setUploadedFile:t=>{const{originalFileUrl:r}=n();r&&t&&t.name!==r&&w5.deleteOriginalFile(r).catch(i=>{console.warn("Failed to delete previous original file:",i)}),e({uploadedFile:t,extractedText:null,extractionResult:null,originalFileUploadProgress:null,originalFileUrl:null,aiExtractedData:null,convertedMaterial:null,error:null})},extractTextFromFile:async()=>{const{uploadedFile:t}=n();if(!t){e({error:"No file uploaded"});return}try{const r=aI(t);if(!r.isValid){e({error:r.error||"Invalid file"});return}}catch(r){console.error("File validation error:",r),e({error:"Failed to validate file"});return}e({isProcessing:!0,error:null,progress:{stage:"extracting",percentage:10,currentOperation:`Extracting text from ${sI(t)}...`}});try{const r=await iI(t);if(!r||!r.text||r.text.trim().length===0)throw new Error("No text content could be extracted from the file");const i=r.text.trim().split(/\s+/).length;i<5&&console.warn("Very short text extracted:",{wordCount:i,text:r.text.substring(0,100)}),e({extractedText:r.text,extractionResult:r,progress:{stage:"extracting",percentage:100,currentOperation:"Text extraction complete!"}}),setTimeout(()=>{e({isProcessing:!1,progress:null})},500)}catch(r){console.error("Text extraction error:",r);const i=r;let a="Failed to extract text from file";i.code==="PDF_EXTRACTION_ERROR"?a="Could not extract text from PDF. The file may be image-based or corrupted.":i.code==="DOCX_EXTRACTION_ERROR"?a="Could not extract text from Word document. Please check the file is not corrupted.":i.code==="PPTX_EXTRACTION_ERROR"?a="Could not extract text from PowerPoint presentation. Please ensure it contains text content.":i.message&&(a=i.message),e({error:a,isProcessing:!1,progress:null})}},processWithAI:async(t,r,i)=>{var h;const{uploadedFile:a,extractedText:s,extractionResult:l,processingOptions:u}=n();if(!(t!=null&&t.trim())){e({error:"Course ID is required for AI processing"});return}if(!(r!=null&&r.trim())){e({error:"Author ID is required for AI processing"});return}if(!a||!(s!=null&&s.trim())){e({error:"No file or extracted text available for AI processing"});return}const f=s.trim().split(/\s+/).length;if(f<10){e({error:"Extracted text is too short for meaningful AI processing (minimum 10 words required)"});return}f>5e4&&console.warn("Very large text content detected:",{wordCount:f,fileName:a.name}),e({isProcessing:!0,error:null,progress:{stage:"analyzing",percentage:0,currentOperation:"Initializing AI processing..."}});try{let m;try{m=qS(i)}catch(S){console.error("Service initialization error:",S);let A="Material import service not available.";S instanceof Error&&(S.message.includes("API key")?A="API key not configured. Please set VITE_GEMINI_MATERIAL_API_KEY or VITE_GEMINI_COURSE_API_KEY environment variable.":A=`Service error: ${S.message}`),e({error:A,isProcessing:!1,progress:null});return}const b={maxOutputTokens:Math.min(Math.max(u.maxOutputTokens||16384,8192),32768),topK:Math.min(Math.max(u.topK||3,1),10),topP:Math.min(Math.max(u.topP||.9,.1),1),preserveFormatting:!!u.preserveFormatting,extractImages:!!u.extractImages,extractLinks:!!u.extractLinks},g=12e4,v=new Promise((S,A)=>{setTimeout(()=>A(new Error("AI processing timeout - please try with a smaller file")),g)}),x=await Promise.race([m.processMaterialContent(s,a.name,a.type,b,S=>{S&&typeof S=="object"&&e({progress:S})},l==null?void 0:l.metadata),v]);if(!x||typeof x!="object")throw new Error("Invalid AI processing result received");(h=x.title)!=null&&h.trim()||(console.warn("AI result missing title, using filename as fallback"),x.title=a.name.replace(/\.[^/.]+$/,"")||"Untitled Material"),(!x.sections||!Array.isArray(x.sections)||x.sections.length===0)&&(console.warn("AI result missing sections, creating default section"),x.sections=[{title:"Main Content",content:"Content extracted from uploaded material.",subsections:[],images:[],links:[]}]);const C=m.convertToMaterialFormat(x,t,r,l==null?void 0:l.metadata);e({aiExtractedData:x,convertedMaterial:C,isProcessing:!1,progress:{stage:"complete",percentage:100,currentOperation:"Material processing complete!"}}),setTimeout(()=>{e({progress:null})},1500)}catch(m){console.error("AI processing error:",m);let b="Failed to process material with AI";m instanceof Error&&(m.message.includes("timeout")?b="AI processing timed out. Please try with a smaller file or simpler content.":m.message.includes("API key")||m.message.includes("API_KEY_INVALID")?b="Invalid API key. Please check your API key configuration.":m.message.includes("RATE_LIMIT")||m.message.includes("rate limit")?b="API rate limit exceeded. Please wait a few minutes before trying again.":m.message.includes("SAFETY")||m.message.includes("safety")?b="Content flagged by safety filters. Please try with different content.":m.message.includes("network")||m.message.includes("fetch")?b="Network error. Please check your internet connection and try again.":b=`AI processing failed: ${m.message}`),e({error:b,isProcessing:!1,progress:null})}},uploadOriginalFile:async(t,r)=>{const{uploadedFile:i}=n();if(!i){e({error:"No file selected for upload"});return}try{e({originalFileUploadProgress:0,error:null});const a=i.size>25*1024*1024,s=(i.size/1024/1024).toFixed(1);console.log(` Starting original file upload to Firebase Storage... (${s}MB, ${a?"chunked":"standard"} upload)`);const l=await w5.uploadOriginalFile(i,t,r,u=>{e({originalFileUploadProgress:u})});e({originalFileUrl:l.url,originalFileUploadProgress:null}),console.log(" Original file uploaded successfully:",{url:l.url,size:`${s}MB`,method:a?"chunked":"standard"})}catch(a){throw console.error(" Original file upload failed:",a),e({error:a instanceof Error?a.message:"Failed to upload original file",originalFileUploadProgress:null}),a}},replaceOriginalFile:async(t,r,i)=>{const{uploadedFile:a}=n();if(!a){e({error:"No file selected for replacement"});return}try{e({originalFileUploadProgress:0,error:null}),console.log(" Replacing original file in Firebase Storage...");const s=await w5.replaceOriginalFile(a,t,r,i,l=>{e({originalFileUploadProgress:l})});e({originalFileUrl:s.url,originalFileUploadProgress:null}),console.log(" Original file replaced successfully:",s.url)}catch(s){throw console.error(" Original file replacement failed:",s),e({error:s instanceof Error?s.message:"Failed to replace original file",originalFileUploadProgress:null}),s}},resetImport:()=>{try{qS().cleanupBlobUrls()}catch(t){console.warn("Failed to cleanup blob URLs during reset:",t)}e(q8)},setProcessingOptions:t=>{e(r=>({processingOptions:{...r.processingOptions,...t}}))},setError:t=>{e({error:t})}}),{name:"material-import-store",partialize:e=>({processingOptions:e.processingOptions})})),Pz=()=>{const e=Hd();return{setUploadedFile:e.setUploadedFile,extractTextFromFile:e.extractTextFromFile,processWithAI:e.processWithAI,resetImport:e.resetImport,setProcessingOptions:e.setProcessingOptions,setError:e.setError}},Fz=()=>{const e=Hd();return{isProcessing:e.isProcessing,progress:e.progress,error:e.error,uploadedFile:e.uploadedFile,extractedText:e.extractedText,aiExtractedData:e.aiExtractedData,convertedMaterial:e.convertedMaterial,processingOptions:e.processingOptions}},BS=async(e,n,t,r)=>{const i=Hd.getState(),{aiExtractedData:a,extractionResult:s}=i;if(!a)throw new Error("No AI result available for conversion");return await qS().convertToMaterialFormatWithImageUpload(a,e,n,t,s==null?void 0:s.metadata,r)},zz=()=>{const{extractedText:e,isProcessing:n}=Hd();return!n&&!!(e!=null&&e.trim())},qz=()=>{const{convertedMaterial:e,isProcessing:n}=Hd();return!n&&!!e},H1e=Object.freeze(Object.defineProperty({__proto__:null,convertMaterialWithImageUpload:BS,useIsImportComplete:qz,useIsReadyForAI:zz,useMaterialImportActions:Pz,useMaterialImportStatus:Fz,useMaterialImportStore:Hd},Symbol.toStringTag,{value:"Module"})),S5=({onDelete:e,itemType:n})=>{const[t,r]=it.useState(!1),i=()=>{r(!0)},a=()=>{r(!1)},s=()=>{e(),a()};return d.jsxs(d.Fragment,{children:[d.jsx(jn,{onClick:i,size:"small",children:d.jsx(eI,{})}),d.jsxs(la,{open:t,onClose:a,children:[d.jsx($a,{children:`Delete ${n}`}),d.jsx(ua,{children:d.jsx(zu,{children:`Are you sure you want to delete this ${n}? This action cannot be undone.`})}),d.jsxs(Ea,{children:[d.jsx(xt,{onClick:a,color:"primary",children:"Cancel"}),d.jsx(xt,{onClick:s,color:"secondary",children:"Delete"})]})]})]})},oI=({sections:e,selected:n,onAddSection:t,onAddSubsection:r,onAddSubSubsection:i,onSelectSection:a,onUpdateSectionTitle:s,onUpdateSubsectionTitle:l,onUpdateSubSubsectionTitle:u,onDeleteSection:f,onDeleteSubsection:h,onDeleteSubSubsection:m,isViewMode:b=!1})=>{const[g,v]=M.useState(null),[x,C]=M.useState(null),[S,A]=M.useState(null),[N,P]=M.useState(""),[U,B]=M.useState(e.map(()=>!0)),[j,F]=M.useState(e.reduce((H,me,q)=>(H[q]=me.subsections.map(()=>!0),H),{}));M.useEffect(()=>{B(e.map(()=>!0))},[e]),M.useEffect(()=>{const H=e.reduce((me,q,z)=>(me[z]=q.subsections.map(()=>!0),me),{});F(H)},[e]);const V=H=>{const me=[...U];me[H]=!me[H],B(me)},X=(H,me)=>{const q={...j};q[H][me]=!q[H][me],F(q)},T=(H,me)=>{g!==null?s(g,N):x?l(x.section,x.subsection,N):S&&u(S.section,S.subsection,S.subSubsection,N),v(H),C(null),A(null),P(me)},D=H=>{s(H,N),v(null),P("")},O=(H,me,q)=>{g!==null?s(g,N):x?l(x.section,x.subsection,N):S&&u(S.section,S.subsection,S.subSubsection,N),v(null),C({section:H,subsection:me}),A(null),P(q)},L=(H,me)=>{l(H,me,N),C(null),P("")},Q=(H,me,q,z)=>{g!==null?s(g,N):x?l(x.section,x.subsection,N):S&&u(S.section,S.subsection,S.subSubsection,N),v(null),C(null),A({section:H,subsection:me,subSubsection:q}),P(z)},$=(H,me,q)=>{u(H,me,q,N),A(null),P("")},Y=(H,me,q,z)=>n.sectionIndex===H&&n.subsectionIndex===me&&n.subSubsectionIndex===q&&n.type===z,re=UF||{width:"320px",minWidth:"320px",maxWidth:"320px",backgroundColor:"#F8FAFC",borderRight:"1px solid #E2E8F0"};return d.jsxs(se,{sx:{width:re.width,minWidth:re.minWidth,maxWidth:re.maxWidth,backgroundColor:re.backgroundColor,borderRight:re.borderRight,height:"100%",display:"flex",flexDirection:"column"},children:[d.jsxs(se,{sx:{p:3,pb:2},children:[d.jsxs(te,{variant:"h6",sx:{fontFamily:ct.typography.h6.fontFamily,fontWeight:ct.typography.h6.fontWeight,color:ct.palette.text.primary,mb:2,display:"flex",alignItems:"center",gap:1},children:[d.jsx(VR,{sx:{fontSize:20}}),"Outline"]}),!b&&d.jsx(xt,{variant:"contained",startIcon:d.jsx(Tu,{}),onClick:t,sx:{width:"100%",borderRadius:Ct.xl,textTransform:"none",fontWeight:600},children:"Add Section"})]}),d.jsx(Yi,{}),d.jsx(se,{sx:{flex:1,overflow:"auto"},children:d.jsxs($d,{sx:{p:0},children:[d.jsx(Nu,{onClick:()=>a("header"),sx:{cursor:"pointer",backgroundColor:Y(void 0,void 0,void 0,"header")?ct.palette.primary.light:"transparent",borderLeft:Y(void 0,void 0,void 0,"header")?`4px solid ${ct.palette.primary.main}`:"4px solid transparent",transition:ct.transitions.create(["background-color","border-color"]),"&:hover":{backgroundColor:ct.palette.action.hover}},children:d.jsx(Tc,{primary:"Header",sx:{"& .MuiListItemText-primary":{fontFamily:ct.typography.body1.fontFamily,fontWeight:Y(void 0,void 0,void 0,"header")?600:400,color:Y(void 0,void 0,void 0,"header")?ct.palette.primary.main:ct.palette.text.primary}}})}),e.map((H,me)=>d.jsxs(se,{children:[d.jsx(Nu,{onClick:()=>a(me),sx:{cursor:"pointer",backgroundColor:Y(me)?ct.palette.primary.light:"transparent",borderLeft:Y(me)?`4px solid ${ct.palette.primary.main}`:"4px solid transparent",transition:ct.transitions.create(["background-color","border-color"]),"&:hover":{backgroundColor:ct.palette.action.hover}},children:g===me?d.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[d.jsx(tn,{value:N,onChange:q=>P(q.target.value),size:"small",variant:"outlined",disabled:b,sx:{flex:1}}),!b&&d.jsx(jn,{onClick:()=>D(me),size:"small",color:"primary",children:d.jsx(Y0,{})})]}):d.jsxs(d.Fragment,{children:[d.jsx(Tc,{primary:H.title,sx:{"& .MuiListItemText-primary":{fontFamily:ct.typography.body1.fontFamily,fontWeight:Y(me)?600:400,color:Y(me)?ct.palette.primary.main:ct.palette.text.primary}}}),!b&&d.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:.5},children:[d.jsx(ni,{title:"Edit Section",arrow:!0,children:d.jsx(jn,{onClick:q=>{q.stopPropagation(),T(me,H.title)},size:"small",sx:{color:ct.palette.primary.main},children:d.jsx(Iu,{fontSize:"small"})})}),d.jsx(S5,{onDelete:()=>f(me),itemType:"section"})]}),H.subsections.length>0&&d.jsx(jn,{onClick:q=>{q.stopPropagation(),V(me)},size:"small",sx:{ml:1},children:U[me]?d.jsx(ev,{fontSize:"small"}):d.jsx(zl,{fontSize:"small"})}),!b&&d.jsx(ni,{title:"Add Subsection",arrow:!0,children:d.jsx(jn,{onClick:q=>{q.stopPropagation(),r(me)},size:"small",sx:{color:ct.palette.success.main},children:d.jsx(Tu,{fontSize:"small"})})})]})}),d.jsx(Jx,{in:U[me],timeout:"auto",unmountOnExit:!0,children:d.jsx($d,{sx:{pl:2},children:H.subsections.map((q,z)=>d.jsxs(se,{children:[d.jsx(Nu,{onClick:()=>a(me,z),sx:{cursor:"pointer",backgroundColor:Y(me,z)?ct.palette.primary.light:"transparent",borderLeft:Y(me,z)?`4px solid ${ct.palette.primary.main}`:"4px solid transparent",transition:ct.transitions.create(["background-color","border-color"]),"&:hover":{backgroundColor:ct.palette.action.hover}},children:x&&x.section===me&&x.subsection===z?d.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[d.jsx(tn,{value:N,onChange:ne=>P(ne.target.value),size:"small",variant:"outlined",disabled:b,sx:{flex:1}}),!b&&d.jsx(jn,{onClick:()=>L(me,z),size:"small",color:"primary",children:d.jsx(Y0,{})})]}):d.jsxs(d.Fragment,{children:[d.jsx(Tc,{primary:q.title,sx:{"& .MuiListItemText-primary":{fontFamily:ct.typography.body2.fontFamily,fontWeight:Y(me,z)?600:400,color:Y(me,z)?ct.palette.primary.main:ct.palette.text.primary}}}),!b&&d.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:.5},children:[d.jsx(ni,{title:"Edit Subsection",arrow:!0,children:d.jsx(jn,{onClick:ne=>{ne.stopPropagation(),O(me,z,q.title)},size:"small",sx:{color:ct.palette.primary.main},children:d.jsx(Iu,{fontSize:"small"})})}),d.jsx(S5,{onDelete:()=>h(me,z),itemType:"subsection"})]}),q.subSubsections.length>0&&d.jsx(jn,{onClick:ne=>{ne.stopPropagation(),X(me,z)},size:"small",sx:{ml:1},children:j[me][z]?d.jsx(ev,{fontSize:"small"}):d.jsx(zl,{fontSize:"small"})}),!b&&d.jsx(ni,{title:"Add Sub-subsection",arrow:!0,children:d.jsx(jn,{onClick:ne=>{ne.stopPropagation(),i(me,z)},size:"small",sx:{color:ct.palette.success.main},children:d.jsx(Tu,{fontSize:"small"})})})]})}),d.jsx(Jx,{in:j[me][z],timeout:"auto",unmountOnExit:!0,children:d.jsx($d,{sx:{pl:2},children:q.subSubsections.map((ne,oe)=>d.jsx(Nu,{onClick:()=>a(me,z,oe),sx:{cursor:"pointer",backgroundColor:Y(me,z,oe)?ct.palette.primary.light:"transparent",borderLeft:Y(me,z,oe)?`4px solid ${ct.palette.primary.main}`:"4px solid transparent",transition:ct.transitions.create(["background-color","border-color"]),"&:hover":{backgroundColor:ct.palette.action.hover}},children:S&&S.section===me&&S.subsection===z&&S.subSubsection===oe?d.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[d.jsx(tn,{value:N,onChange:ee=>P(ee.target.value),size:"small",variant:"outlined",disabled:b,sx:{flex:1}}),!b&&d.jsx(jn,{onClick:()=>$(me,z,oe),size:"small",color:"primary",children:d.jsx(Y0,{})})]}):d.jsxs(d.Fragment,{children:[d.jsx(Tc,{primary:ne.title,sx:{"& .MuiListItemText-primary":{fontFamily:ct.typography.body2.fontFamily,fontWeight:Y(me,z,oe)?600:400,color:Y(me,z,oe)?ct.palette.primary.main:ct.palette.text.secondary,fontSize:"0.875rem"}}}),!b&&d.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:.5},children:[d.jsx(ni,{title:"Edit Sub-subsection",arrow:!0,children:d.jsx(jn,{onClick:ee=>{ee.stopPropagation(),Q(me,z,oe,ne.title)},size:"small",sx:{color:ct.palette.primary.main},children:d.jsx(Iu,{fontSize:"small"})})}),d.jsx(S5,{onDelete:()=>m(me,z,oe),itemType:"subSubsection"})]})]})},ne.id))})})]},q.id))})})]},H.id)),d.jsx(Nu,{onClick:()=>a("footer"),sx:{cursor:"pointer",backgroundColor:Y(void 0,void 0,void 0,"footer")?ct.palette.primary.light:"transparent",borderLeft:Y(void 0,void 0,void 0,"footer")?`4px solid ${ct.palette.primary.main}`:"4px solid transparent",transition:ct.transitions.create(["background-color","border-color"]),"&:hover":{backgroundColor:ct.palette.action.hover}},children:d.jsx(Tc,{primary:"Footer",sx:{"& .MuiListItemText-primary":{fontFamily:ct.typography.body1.fontFamily,fontWeight:Y(void 0,void 0,void 0,"footer")?600:400,color:Y(void 0,void 0,void 0,"footer")?ct.palette.primary.main:ct.palette.text.primary}}})})]})})]})},lI=({returnToSelection:e=!1,courseId:n})=>{const t=Na(),[r]=Ab(),i=r.get("course"),a=()=>{const s=n||i;t(e||!s?"/supplemental-materials":`/supplemental-materials?course=${s}`)};return d.jsx(xt,{variant:"text",color:"primary",startIcon:d.jsx(Y_,{}),onClick:a,className:"supplemental-back-button",children:e?"Course Selection":"Course Materials"})},Bz=({sectionId:e,images:n,onImagesChange:t})=>{const[r,i]=M.useState(!1),[a,s]=M.useState(""),[l,u]=M.useState("success"),[f,h]=M.useState(null),[m,b]=M.useState(""),g=jp(),v=async P=>{if(P.target.files){const U=Array.from(P.target.files),B=[];for(const j of U)try{const F=await A(j),V=await N(F);B.push({url:V.url,title:`Image ${n.length+B.length+1}`,id:Vi()})}catch{s("Failed to upload images"),u("error"),i(!0)}t([...n,...B]),s("Image(s) uploaded successfully"),u("success"),i(!0)}},x=P=>{h(P),b(P.title)},C=()=>{if(f){const P=n.map(U=>U.url===f.url?{...U,title:m}:U);t(P),h(null),b("")}},S=P=>{const U=n.filter(B=>B.url!==P.url);t(U)},A=P=>new Promise((U,B)=>{P.size>5*1024*1024?rI.imageFileResizer(P,500,500,"JPEG",70,0,j=>{typeof j=="string"?B(new Error("Compression returned a string instead of a file")):U(j)},"file"):U(P)}),N=P=>new Promise((U,B)=>{const j=Lc(g,`materials/${e}/${P.name}`);rh(j,P).then(F=>{ih(F.ref).then(V=>{U({url:V,path:F.ref.fullPath})})}).catch(F=>B(F))});return d.jsxs(se,{children:[d.jsxs(se,{sx:{display:"flex",alignItems:"center",mb:2},children:[d.jsx(WR,{sx:{mr:1,color:ct.palette.primary.main}}),d.jsx(te,{variant:"h6",sx:{fontWeight:600,color:ct.palette.text.primary},children:"Images"}),d.jsx(Rn,{label:`${n.length} image${n.length!==1?"s":""}`,size:"small",sx:{ml:2}})]}),d.jsxs(xt,{variant:"contained",component:"label",startIcon:d.jsx(Tu,{}),sx:{mb:3,textTransform:"none",borderRadius:Ct.xl},children:["Add Images",d.jsx("input",{type:"file",hidden:!0,accept:"image/*",multiple:!0,onChange:v})]}),n.length>0&&d.jsx(et,{container:!0,spacing:2,children:n.map((P,U)=>d.jsx(et,{item:!0,xs:12,sm:6,md:4,children:d.jsxs(ri,{sx:{borderRadius:Ct.xl,border:`1px solid ${ct.palette.divider}`,transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{boxShadow:ct.shadows[4],transform:"translateY(-2px)"}},children:[d.jsxs(se,{sx:{position:"relative"},children:[d.jsx("img",{src:P.url,alt:P.title,style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:`${Ct.xl} ${Ct.xl} 0 0`}}),d.jsxs(se,{sx:{position:"absolute",top:8,right:8,display:"flex",gap:.5},children:[d.jsx(jn,{size:"small",onClick:()=>x(P),sx:{backgroundColor:"rgba(255, 255, 255, 0.9)","&:hover":{backgroundColor:ct.palette.primary.main,color:"white"}},children:d.jsx(Iu,{fontSize:"small"})}),d.jsx(jn,{size:"small",onClick:()=>S(P),sx:{backgroundColor:"rgba(255, 255, 255, 0.9)","&:hover":{backgroundColor:ct.palette.error.main,color:"white"}},children:d.jsx(Du,{fontSize:"small"})})]})]}),d.jsx(ii,{sx:{p:2},children:d.jsx(te,{variant:"body2",sx:{fontWeight:500,color:ct.palette.text.primary,wordBreak:"break-word"},children:P.title})})]})},P.id||U))}),d.jsxs(la,{open:!!f,onClose:()=>h(null),maxWidth:"sm",fullWidth:!0,children:[d.jsx($a,{sx:{pb:1},children:d.jsxs(se,{sx:{display:"flex",alignItems:"center"},children:[d.jsx(Iu,{sx:{mr:1,color:ct.palette.primary.main}}),"Edit Image Title"]})}),d.jsx(ua,{children:d.jsx(tn,{fullWidth:!0,label:"Image Title",value:m,onChange:P=>b(P.target.value),variant:"outlined",sx:{mt:2}})}),d.jsxs(Ea,{sx:{p:3,pt:1},children:[d.jsx(xt,{onClick:()=>h(null),startIcon:d.jsx(fC,{}),sx:{textTransform:"none"},children:"Cancel"}),d.jsx(xt,{onClick:C,variant:"contained",startIcon:d.jsx(Y0,{}),sx:{textTransform:"none"},children:"Save Changes"})]})]}),d.jsx(qu,{open:r,autoHideDuration:6e3,onClose:()=>i(!1),children:d.jsx(Cn,{onClose:()=>i(!1),severity:l,sx:{width:"100%"},children:a})})]})},$z=({links:e,onLinksChange:n})=>{const t=()=>{const s={title:"",url:"",description:""};n([...e,s])},r=s=>{const l=e.filter((u,f)=>f!==s);n(l)},i=(s,l,u)=>{const f=[...e];f[s][l]=u,n(f)},a=s=>{try{return new URL(s),!0}catch{return!1}};return d.jsxs(se,{children:[d.jsxs(se,{sx:{display:"flex",alignItems:"center",mb:2},children:[d.jsx(YR,{sx:{mr:1,color:ct.palette.primary.main}}),d.jsx(te,{variant:"h6",sx:{fontWeight:600,color:ct.palette.text.primary},children:"Links"}),d.jsx(Rn,{label:`${e.length} link${e.length!==1?"s":""}`,size:"small",sx:{ml:2}})]}),d.jsx(xt,{variant:"contained",onClick:t,startIcon:d.jsx(Tu,{}),sx:{mb:3,textTransform:"none",borderRadius:Ct.xl},children:"Add Link"}),e.length>0&&d.jsx(se,{sx:{display:"flex",flexDirection:"column",gap:2},children:e.map((s,l)=>d.jsxs(ri,{sx:{borderRadius:Ct.xl,border:`1px solid ${ct.palette.divider}`,transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{boxShadow:ct.shadows[2]}},children:[d.jsx(ii,{sx:{p:3},children:d.jsxs(et,{container:!0,spacing:2,children:[d.jsx(et,{item:!0,xs:12,sm:6,children:d.jsx(tn,{fullWidth:!0,label:"Link Title",value:s.title||"",onChange:u=>i(l,"title",u.target.value),variant:"outlined",size:"small",placeholder:"Enter link title",sx:{"& .MuiOutlinedInput-root":{borderRadius:Ct.xl}}})}),d.jsx(et,{item:!0,xs:12,sm:6,children:d.jsx(tn,{fullWidth:!0,label:"URL",value:s.url||"",onChange:u=>i(l,"url",u.target.value),variant:"outlined",size:"small",placeholder:"https://example.com",error:s.url&&!a(s.url),helperText:s.url&&!a(s.url)?"Please enter a valid URL":"",sx:{"& .MuiOutlinedInput-root":{borderRadius:Ct.xl}}})}),d.jsx(et,{item:!0,xs:12,children:d.jsx(tn,{fullWidth:!0,label:"Description (Optional)",value:s.description||"",onChange:u=>i(l,"description",u.target.value),variant:"outlined",size:"small",multiline:!0,rows:2,placeholder:"Enter link description",sx:{"& .MuiOutlinedInput-root":{borderRadius:Ct.xl}}})})]})}),d.jsx(Yi,{}),d.jsxs(u_,{sx:{p:2,justifyContent:"space-between"},children:[d.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.url&&a(s.url)&&d.jsx(ni,{title:"Open link",arrow:!0,children:d.jsx(jn,{size:"small",onClick:()=>window.open(s.url,"_blank"),sx:{color:ct.palette.primary.main,"&:hover":{backgroundColor:ct.palette.primary.light}},children:d.jsx(GR,{fontSize:"small"})})}),d.jsxs(te,{variant:"caption",color:"text.secondary",children:["Link ",l+1]})]}),d.jsx(ni,{title:"Delete link",arrow:!0,children:d.jsx(jn,{size:"small",onClick:()=>r(l),sx:{color:ct.palette.error.main,"&:hover":{backgroundColor:ct.palette.error.light}},children:d.jsx(Du,{fontSize:"small"})})})]})]},l))})]})};var uI=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,Uz=typeof self=="object"&&self&&self.Object===Object&&self,sd=uI||Uz||Function("return this")(),fh=sd.Symbol,cI=Object.prototype,Hz=cI.hasOwnProperty,Vz=cI.toString,Fg=fh?fh.toStringTag:void 0;function Wz(e){var n=Hz.call(e,Fg),t=e[Fg];try{e[Fg]=void 0;var r=!0}catch{}var i=Vz.call(e);return r&&(n?e[Fg]=t:delete e[Fg]),i}var Yz=Object.prototype,Gz=Yz.toString;function Qz(e){return Gz.call(e)}var Kz="[object Null]",Xz="[object Undefined]",B8=fh?fh.toStringTag:void 0;function Rm(e){return e==null?e===void 0?Xz:Kz:B8&&B8 in Object(e)?Wz(e):Qz(e)}function Gd(e){return e!=null&&typeof e=="object"}var wp=Array.isArray;function wh(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}function dI(e){return e}var Zz="[object AsyncFunction]",Jz="[object Function]",eq="[object GeneratorFunction]",tq="[object Proxy]";function kC(e){if(!wh(e))return!1;var n=Rm(e);return n==Jz||n==eq||n==Zz||n==tq}var C5=sd["__core-js_shared__"],$8=function(){var e=/[^.]+$/.exec(C5&&C5.keys&&C5.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function nq(e){return!!$8&&$8 in e}var rq=Function.prototype,iq=rq.toString;function Ip(e){if(e!=null){try{return iq.call(e)}catch{}try{return e+""}catch{}}return""}var aq=/[\\^$.*+?()[\]{}|]/g,sq=/^\[object .+?Constructor\]$/,oq=Function.prototype,lq=Object.prototype,uq=oq.toString,cq=lq.hasOwnProperty,dq=RegExp("^"+uq.call(cq).replace(aq,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function fq(e){if(!wh(e)||nq(e))return!1;var n=kC(e)?dq:sq;return n.test(Ip(e))}function hq(e,n){return e==null?void 0:e[n]}function Op(e,n){var t=hq(e,n);return fq(t)?t:void 0}var $S=Op(sd,"WeakMap"),U8=Object.create,pq=function(){function e(){}return function(n){if(!wh(n))return{};if(U8)return U8(n);e.prototype=n;var t=new e;return e.prototype=void 0,t}}();function mq(e,n,t){switch(t.length){case 0:return e.call(n);case 1:return e.call(n,t[0]);case 2:return e.call(n,t[0],t[1]);case 3:return e.call(n,t[0],t[1],t[2])}return e.apply(n,t)}function gq(e,n){var t=-1,r=e.length;for(n||(n=Array(r));++t<r;)n[t]=e[t];return n}var bq=800,yq=16,xq=Date.now;function vq(e){var n=0,t=0;return function(){var r=xq(),i=yq-(r-t);if(t=r,i>0){if(++n>=bq)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}function wq(e){return function(){return e}}var ov=function(){try{var e=Op(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Sq=ov?function(e,n){return ov(e,"toString",{configurable:!0,enumerable:!1,value:wq(n),writable:!0})}:dI,Cq=vq(Sq);function Aq(e,n){for(var t=-1,r=e==null?0:e.length;++t<r&&n(e[t],t,e)!==!1;);return e}var kq=9007199254740991,Eq=/^(?:0|[1-9]\d*)$/;function fI(e,n){var t=typeof e;return n=n??kq,!!n&&(t=="number"||t!="symbol"&&Eq.test(e))&&e>-1&&e%1==0&&e<n}function EC(e,n,t){n=="__proto__"&&ov?ov(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t}function Eb(e,n){return e===n||e!==e&&n!==n}var jq=Object.prototype,Tq=jq.hasOwnProperty;function hI(e,n,t){var r=e[n];(!(Tq.call(e,n)&&Eb(r,t))||t===void 0&&!(n in e))&&EC(e,n,t)}function Nq(e,n,t,r){var i=!t;t||(t={});for(var a=-1,s=n.length;++a<s;){var l=n[a],u=void 0;u===void 0&&(u=e[l]),i?EC(t,l,u):hI(t,l,u)}return t}var H8=Math.max;function Dq(e,n,t){return n=H8(n===void 0?e.length-1:n,0),function(){for(var r=arguments,i=-1,a=H8(r.length-n,0),s=Array(a);++i<a;)s[i]=r[n+i];i=-1;for(var l=Array(n+1);++i<n;)l[i]=r[i];return l[n]=t(s),mq(e,this,l)}}function _q(e,n){return Cq(Dq(e,n,dI),e+"")}var Iq=9007199254740991;function pI(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Iq}function t2(e){return e!=null&&pI(e.length)&&!kC(e)}function Oq(e,n,t){if(!wh(t))return!1;var r=typeof n;return(r=="number"?t2(t)&&fI(n,t.length):r=="string"&&n in t)?Eb(t[n],e):!1}function Mq(e){return _q(function(n,t){var r=-1,i=t.length,a=i>1?t[i-1]:void 0,s=i>2?t[2]:void 0;for(a=e.length>3&&typeof a=="function"?(i--,a):void 0,s&&Oq(t[0],t[1],s)&&(a=i<3?void 0:a,i=1),n=Object(n);++r<i;){var l=t[r];l&&e(n,l,r,a)}return n})}var Lq=Object.prototype;function jC(e){var n=e&&e.constructor,t=typeof n=="function"&&n.prototype||Lq;return e===t}function Rq(e,n){for(var t=-1,r=Array(e);++t<e;)r[t]=n(t);return r}var Pq="[object Arguments]";function V8(e){return Gd(e)&&Rm(e)==Pq}var mI=Object.prototype,Fq=mI.hasOwnProperty,zq=mI.propertyIsEnumerable,US=V8(function(){return arguments}())?V8:function(e){return Gd(e)&&Fq.call(e,"callee")&&!zq.call(e,"callee")};function qq(){return!1}var gI=typeof exports=="object"&&exports&&!exports.nodeType&&exports,W8=gI&&typeof module=="object"&&module&&!module.nodeType&&module,Bq=W8&&W8.exports===gI,Y8=Bq?sd.Buffer:void 0,$q=Y8?Y8.isBuffer:void 0,W1=$q||qq,Uq="[object Arguments]",Hq="[object Array]",Vq="[object Boolean]",Wq="[object Date]",Yq="[object Error]",Gq="[object Function]",Qq="[object Map]",Kq="[object Number]",Xq="[object Object]",Zq="[object RegExp]",Jq="[object Set]",eB="[object String]",tB="[object WeakMap]",nB="[object ArrayBuffer]",rB="[object DataView]",iB="[object Float32Array]",aB="[object Float64Array]",sB="[object Int8Array]",oB="[object Int16Array]",lB="[object Int32Array]",uB="[object Uint8Array]",cB="[object Uint8ClampedArray]",dB="[object Uint16Array]",fB="[object Uint32Array]",yi={};yi[iB]=yi[aB]=yi[sB]=yi[oB]=yi[lB]=yi[uB]=yi[cB]=yi[dB]=yi[fB]=!0;yi[Uq]=yi[Hq]=yi[nB]=yi[Vq]=yi[rB]=yi[Wq]=yi[Yq]=yi[Gq]=yi[Qq]=yi[Kq]=yi[Xq]=yi[Zq]=yi[Jq]=yi[eB]=yi[tB]=!1;function hB(e){return Gd(e)&&pI(e.length)&&!!yi[Rm(e)]}function TC(e){return function(n){return e(n)}}var bI=typeof exports=="object"&&exports&&!exports.nodeType&&exports,E1=bI&&typeof module=="object"&&module&&!module.nodeType&&module,pB=E1&&E1.exports===bI,A5=pB&&uI.process,xm=function(){try{var e=E1&&E1.require&&E1.require("util").types;return e||A5&&A5.binding&&A5.binding("util")}catch{}}(),G8=xm&&xm.isTypedArray,NC=G8?TC(G8):hB,mB=Object.prototype,gB=mB.hasOwnProperty;function yI(e,n){var t=wp(e),r=!t&&US(e),i=!t&&!r&&W1(e),a=!t&&!r&&!i&&NC(e),s=t||r||i||a,l=s?Rq(e.length,String):[],u=l.length;for(var f in e)(n||gB.call(e,f))&&!(s&&(f=="length"||i&&(f=="offset"||f=="parent")||a&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||fI(f,u)))&&l.push(f);return l}function xI(e,n){return function(t){return e(n(t))}}var bB=xI(Object.keys,Object),yB=Object.prototype,xB=yB.hasOwnProperty;function vB(e){if(!jC(e))return bB(e);var n=[];for(var t in Object(e))xB.call(e,t)&&t!="constructor"&&n.push(t);return n}function wB(e){return t2(e)?yI(e):vB(e)}function SB(e){var n=[];if(e!=null)for(var t in Object(e))n.push(t);return n}var CB=Object.prototype,AB=CB.hasOwnProperty;function kB(e){if(!wh(e))return SB(e);var n=jC(e),t=[];for(var r in e)r=="constructor"&&(n||!AB.call(e,r))||t.push(r);return t}function vI(e){return t2(e)?yI(e,!0):kB(e)}var Y1=Op(Object,"create");function EB(){this.__data__=Y1?Y1(null):{},this.size=0}function jB(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}var TB="__lodash_hash_undefined__",NB=Object.prototype,DB=NB.hasOwnProperty;function _B(e){var n=this.__data__;if(Y1){var t=n[e];return t===TB?void 0:t}return DB.call(n,e)?n[e]:void 0}var IB=Object.prototype,OB=IB.hasOwnProperty;function MB(e){var n=this.__data__;return Y1?n[e]!==void 0:OB.call(n,e)}var LB="__lodash_hash_undefined__";function RB(e,n){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Y1&&n===void 0?LB:n,this}function Sp(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}Sp.prototype.clear=EB;Sp.prototype.delete=jB;Sp.prototype.get=_B;Sp.prototype.has=MB;Sp.prototype.set=RB;function PB(){this.__data__=[],this.size=0}function n2(e,n){for(var t=e.length;t--;)if(Eb(e[t][0],n))return t;return-1}var FB=Array.prototype,zB=FB.splice;function qB(e){var n=this.__data__,t=n2(n,e);if(t<0)return!1;var r=n.length-1;return t==r?n.pop():zB.call(n,t,1),--this.size,!0}function BB(e){var n=this.__data__,t=n2(n,e);return t<0?void 0:n[t][1]}function $B(e){return n2(this.__data__,e)>-1}function UB(e,n){var t=this.__data__,r=n2(t,e);return r<0?(++this.size,t.push([e,n])):t[r][1]=n,this}function tf(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}tf.prototype.clear=PB;tf.prototype.delete=qB;tf.prototype.get=BB;tf.prototype.has=$B;tf.prototype.set=UB;var G1=Op(sd,"Map");function HB(){this.size=0,this.__data__={hash:new Sp,map:new(G1||tf),string:new Sp}}function VB(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function r2(e,n){var t=e.__data__;return VB(n)?t[typeof n=="string"?"string":"hash"]:t.map}function WB(e){var n=r2(this,e).delete(e);return this.size-=n?1:0,n}function YB(e){return r2(this,e).get(e)}function GB(e){return r2(this,e).has(e)}function QB(e,n){var t=r2(this,e),r=t.size;return t.set(e,n),this.size+=t.size==r?0:1,this}function Mp(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}Mp.prototype.clear=HB;Mp.prototype.delete=WB;Mp.prototype.get=YB;Mp.prototype.has=GB;Mp.prototype.set=QB;function KB(e,n){for(var t=-1,r=n.length,i=e.length;++t<r;)e[i+t]=n[t];return e}var wI=xI(Object.getPrototypeOf,Object),XB="[object Object]",ZB=Function.prototype,JB=Object.prototype,SI=ZB.toString,e$=JB.hasOwnProperty,t$=SI.call(Object);function n$(e){if(!Gd(e)||Rm(e)!=XB)return!1;var n=wI(e);if(n===null)return!0;var t=e$.call(n,"constructor")&&n.constructor;return typeof t=="function"&&t instanceof t&&SI.call(t)==t$}function r$(){this.__data__=new tf,this.size=0}function i$(e){var n=this.__data__,t=n.delete(e);return this.size=n.size,t}function a$(e){return this.__data__.get(e)}function s$(e){return this.__data__.has(e)}var o$=200;function l$(e,n){var t=this.__data__;if(t instanceof tf){var r=t.__data__;if(!G1||r.length<o$-1)return r.push([e,n]),this.size=++t.size,this;t=this.__data__=new Mp(r)}return t.set(e,n),this.size=t.size,this}function qc(e){var n=this.__data__=new tf(e);this.size=n.size}qc.prototype.clear=r$;qc.prototype.delete=i$;qc.prototype.get=a$;qc.prototype.has=s$;qc.prototype.set=l$;var CI=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Q8=CI&&typeof module=="object"&&module&&!module.nodeType&&module,u$=Q8&&Q8.exports===CI,K8=u$?sd.Buffer:void 0,X8=K8?K8.allocUnsafe:void 0;function AI(e,n){if(n)return e.slice();var t=e.length,r=X8?X8(t):new e.constructor(t);return e.copy(r),r}function c$(e,n){for(var t=-1,r=e==null?0:e.length,i=0,a=[];++t<r;){var s=e[t];n(s,t,e)&&(a[i++]=s)}return a}function d$(){return[]}var f$=Object.prototype,h$=f$.propertyIsEnumerable,Z8=Object.getOwnPropertySymbols,p$=Z8?function(e){return e==null?[]:(e=Object(e),c$(Z8(e),function(n){return h$.call(e,n)}))}:d$;function m$(e,n,t){var r=n(e);return wp(e)?r:KB(r,t(e))}function HS(e){return m$(e,wB,p$)}var VS=Op(sd,"DataView"),WS=Op(sd,"Promise"),YS=Op(sd,"Set"),J8="[object Map]",g$="[object Object]",e4="[object Promise]",t4="[object Set]",n4="[object WeakMap]",r4="[object DataView]",b$=Ip(VS),y$=Ip(G1),x$=Ip(WS),v$=Ip(YS),w$=Ip($S),ju=Rm;(VS&&ju(new VS(new ArrayBuffer(1)))!=r4||G1&&ju(new G1)!=J8||WS&&ju(WS.resolve())!=e4||YS&&ju(new YS)!=t4||$S&&ju(new $S)!=n4)&&(ju=function(e){var n=Rm(e),t=n==g$?e.constructor:void 0,r=t?Ip(t):"";if(r)switch(r){case b$:return r4;case y$:return J8;case x$:return e4;case v$:return t4;case w$:return n4}return n});var S$=Object.prototype,C$=S$.hasOwnProperty;function A$(e){var n=e.length,t=new e.constructor(n);return n&&typeof e[0]=="string"&&C$.call(e,"index")&&(t.index=e.index,t.input=e.input),t}var lv=sd.Uint8Array;function DC(e){var n=new e.constructor(e.byteLength);return new lv(n).set(new lv(e)),n}function k$(e,n){var t=DC(e.buffer);return new e.constructor(t,e.byteOffset,e.byteLength)}var E$=/\w*$/;function j$(e){var n=new e.constructor(e.source,E$.exec(e));return n.lastIndex=e.lastIndex,n}var i4=fh?fh.prototype:void 0,a4=i4?i4.valueOf:void 0;function T$(e){return a4?Object(a4.call(e)):{}}function kI(e,n){var t=n?DC(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var N$="[object Boolean]",D$="[object Date]",_$="[object Map]",I$="[object Number]",O$="[object RegExp]",M$="[object Set]",L$="[object String]",R$="[object Symbol]",P$="[object ArrayBuffer]",F$="[object DataView]",z$="[object Float32Array]",q$="[object Float64Array]",B$="[object Int8Array]",$$="[object Int16Array]",U$="[object Int32Array]",H$="[object Uint8Array]",V$="[object Uint8ClampedArray]",W$="[object Uint16Array]",Y$="[object Uint32Array]";function G$(e,n,t){var r=e.constructor;switch(n){case P$:return DC(e);case N$:case D$:return new r(+e);case F$:return k$(e);case z$:case q$:case B$:case $$:case U$:case H$:case V$:case W$:case Y$:return kI(e,t);case _$:return new r;case I$:case L$:return new r(e);case O$:return j$(e);case M$:return new r;case R$:return T$(e)}}function EI(e){return typeof e.constructor=="function"&&!jC(e)?pq(wI(e)):{}}var Q$="[object Map]";function K$(e){return Gd(e)&&ju(e)==Q$}var s4=xm&&xm.isMap,X$=s4?TC(s4):K$,Z$="[object Set]";function J$(e){return Gd(e)&&ju(e)==Z$}var o4=xm&&xm.isSet,eU=o4?TC(o4):J$,tU=1,jI="[object Arguments]",nU="[object Array]",rU="[object Boolean]",iU="[object Date]",aU="[object Error]",TI="[object Function]",sU="[object GeneratorFunction]",oU="[object Map]",lU="[object Number]",NI="[object Object]",uU="[object RegExp]",cU="[object Set]",dU="[object String]",fU="[object Symbol]",hU="[object WeakMap]",pU="[object ArrayBuffer]",mU="[object DataView]",gU="[object Float32Array]",bU="[object Float64Array]",yU="[object Int8Array]",xU="[object Int16Array]",vU="[object Int32Array]",wU="[object Uint8Array]",SU="[object Uint8ClampedArray]",CU="[object Uint16Array]",AU="[object Uint32Array]",di={};di[jI]=di[nU]=di[pU]=di[mU]=di[rU]=di[iU]=di[gU]=di[bU]=di[yU]=di[xU]=di[vU]=di[oU]=di[lU]=di[NI]=di[uU]=di[cU]=di[dU]=di[fU]=di[wU]=di[SU]=di[CU]=di[AU]=!0;di[aU]=di[TI]=di[hU]=!1;function Ix(e,n,t,r,i,a){var s,l=n&tU;if(s!==void 0)return s;if(!wh(e))return e;var u=wp(e);if(u)s=A$(e);else{var f=ju(e),h=f==TI||f==sU;if(W1(e))return AI(e,l);if(f==NI||f==jI||h&&!i)s=h?{}:EI(e);else{if(!di[f])return i?e:{};s=G$(e,f,l)}}a||(a=new qc);var m=a.get(e);if(m)return m;a.set(e,s),eU(e)?e.forEach(function(v){s.add(Ix(v,n,t,v,e,a))}):X$(e)&&e.forEach(function(v,x){s.set(x,Ix(v,n,t,x,e,a))});var b=HS,g=u?void 0:b(e);return Aq(g||e,function(v,x){g&&(x=v,v=e[x]),hI(s,x,Ix(v,n,t,x,e,a))}),s}var kU=1,EU=4;function Q0(e){return Ix(e,kU|EU)}var jU="__lodash_hash_undefined__";function TU(e){return this.__data__.set(e,jU),this}function NU(e){return this.__data__.has(e)}function uv(e){var n=-1,t=e==null?0:e.length;for(this.__data__=new Mp;++n<t;)this.add(e[n])}uv.prototype.add=uv.prototype.push=TU;uv.prototype.has=NU;function DU(e,n){for(var t=-1,r=e==null?0:e.length;++t<r;)if(n(e[t],t,e))return!0;return!1}function _U(e,n){return e.has(n)}var IU=1,OU=2;function DI(e,n,t,r,i,a){var s=t&IU,l=e.length,u=n.length;if(l!=u&&!(s&&u>l))return!1;var f=a.get(e),h=a.get(n);if(f&&h)return f==n&&h==e;var m=-1,b=!0,g=t&OU?new uv:void 0;for(a.set(e,n),a.set(n,e);++m<l;){var v=e[m],x=n[m];if(r)var C=s?r(x,v,m,n,e,a):r(v,x,m,e,n,a);if(C!==void 0){if(C)continue;b=!1;break}if(g){if(!DU(n,function(S,A){if(!_U(g,A)&&(v===S||i(v,S,t,r,a)))return g.push(A)})){b=!1;break}}else if(!(v===x||i(v,x,t,r,a))){b=!1;break}}return a.delete(e),a.delete(n),b}function MU(e){var n=-1,t=Array(e.size);return e.forEach(function(r,i){t[++n]=[i,r]}),t}function LU(e){var n=-1,t=Array(e.size);return e.forEach(function(r){t[++n]=r}),t}var RU=1,PU=2,FU="[object Boolean]",zU="[object Date]",qU="[object Error]",BU="[object Map]",$U="[object Number]",UU="[object RegExp]",HU="[object Set]",VU="[object String]",WU="[object Symbol]",YU="[object ArrayBuffer]",GU="[object DataView]",l4=fh?fh.prototype:void 0,k5=l4?l4.valueOf:void 0;function QU(e,n,t,r,i,a,s){switch(t){case GU:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case YU:return!(e.byteLength!=n.byteLength||!a(new lv(e),new lv(n)));case FU:case zU:case $U:return Eb(+e,+n);case qU:return e.name==n.name&&e.message==n.message;case UU:case VU:return e==n+"";case BU:var l=MU;case HU:var u=r&RU;if(l||(l=LU),e.size!=n.size&&!u)return!1;var f=s.get(e);if(f)return f==n;r|=PU,s.set(e,n);var h=DI(l(e),l(n),r,i,a,s);return s.delete(e),h;case WU:if(k5)return k5.call(e)==k5.call(n)}return!1}var KU=1,XU=Object.prototype,ZU=XU.hasOwnProperty;function JU(e,n,t,r,i,a){var s=t&KU,l=HS(e),u=l.length,f=HS(n),h=f.length;if(u!=h&&!s)return!1;for(var m=u;m--;){var b=l[m];if(!(s?b in n:ZU.call(n,b)))return!1}var g=a.get(e),v=a.get(n);if(g&&v)return g==n&&v==e;var x=!0;a.set(e,n),a.set(n,e);for(var C=s;++m<u;){b=l[m];var S=e[b],A=n[b];if(r)var N=s?r(A,S,b,n,e,a):r(S,A,b,e,n,a);if(!(N===void 0?S===A||i(S,A,t,r,a):N)){x=!1;break}C||(C=b=="constructor")}if(x&&!C){var P=e.constructor,U=n.constructor;P!=U&&"constructor"in e&&"constructor"in n&&!(typeof P=="function"&&P instanceof P&&typeof U=="function"&&U instanceof U)&&(x=!1)}return a.delete(e),a.delete(n),x}var eH=1,u4="[object Arguments]",c4="[object Array]",Zy="[object Object]",tH=Object.prototype,d4=tH.hasOwnProperty;function nH(e,n,t,r,i,a){var s=wp(e),l=wp(n),u=s?c4:ju(e),f=l?c4:ju(n);u=u==u4?Zy:u,f=f==u4?Zy:f;var h=u==Zy,m=f==Zy,b=u==f;if(b&&W1(e)){if(!W1(n))return!1;s=!0,h=!1}if(b&&!h)return a||(a=new qc),s||NC(e)?DI(e,n,t,r,i,a):QU(e,n,u,t,r,i,a);if(!(t&eH)){var g=h&&d4.call(e,"__wrapped__"),v=m&&d4.call(n,"__wrapped__");if(g||v){var x=g?e.value():e,C=v?n.value():n;return a||(a=new qc),i(x,C,t,r,a)}}return b?(a||(a=new qc),JU(e,n,t,r,i,a)):!1}function _I(e,n,t,r,i){return e===n?!0:e==null||n==null||!Gd(e)&&!Gd(n)?e!==e&&n!==n:nH(e,n,t,r,_I,i)}function rH(e){return function(n,t,r){for(var i=-1,a=Object(n),s=r(n),l=s.length;l--;){var u=s[++i];if(t(a[u],u,a)===!1)break}return n}}var iH=rH();function GS(e,n,t){(t!==void 0&&!Eb(e[n],t)||t===void 0&&!(n in e))&&EC(e,n,t)}function aH(e){return Gd(e)&&t2(e)}function QS(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}function sH(e){return Nq(e,vI(e))}function oH(e,n,t,r,i,a,s){var l=QS(e,t),u=QS(n,t),f=s.get(u);if(f){GS(e,t,f);return}var h=a?a(l,u,t+"",e,n,s):void 0,m=h===void 0;if(m){var b=wp(u),g=!b&&W1(u),v=!b&&!g&&NC(u);h=u,b||g||v?wp(l)?h=l:aH(l)?h=gq(l):g?(m=!1,h=AI(u,!0)):v?(m=!1,h=kI(u,!0)):h=[]:n$(u)||US(u)?(h=l,US(l)?h=sH(l):(!wh(l)||kC(l))&&(h=EI(u))):m=!1}m&&(s.set(u,h),i(h,u,r,a,s),s.delete(u)),GS(e,t,h)}function II(e,n,t,r,i){e!==n&&iH(n,function(a,s){if(i||(i=new qc),wh(a))oH(e,n,s,t,II,r,i);else{var l=r?r(QS(e,s),a,s+"",e,n,i):void 0;l===void 0&&(l=a),GS(e,s,l)}},vI)}function Wf(e,n){return _I(e,n)}var sh=Mq(function(e,n,t){II(e,n,t)}),Zt=(e=>(e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY",e))(Zt||{});class Jc{constructor(n,t,r={}){this.attrName=n,this.keyName=t;const i=Zt.TYPE&Zt.ATTRIBUTE;this.scope=r.scope!=null?r.scope&Zt.LEVEL|i:Zt.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(n){return Array.from(n.attributes).map(t=>t.name)}add(n,t){return this.canAdd(n,t)?(n.setAttribute(this.keyName,t),!0):!1}canAdd(n,t){return this.whitelist==null?!0:typeof t=="string"?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1}remove(n){n.removeAttribute(this.keyName)}value(n){const t=n.getAttribute(this.keyName);return this.canAdd(n,t)&&t?t:""}}class K0 extends Error{constructor(n){n="[Parchment] "+n,super(n),this.message=n,this.name=this.constructor.name}}const OI=class KS{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(n,t=!1){if(n==null)return null;if(this.blots.has(n))return this.blots.get(n)||null;if(t){let r=null;try{r=n.parentNode}catch{return null}return this.find(r,t)}return null}create(n,t,r){const i=this.query(t);if(i==null)throw new K0(`Unable to create ${t} blot`);const a=i,s=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:a.create(r),l=new a(n,s,r);return KS.blots.set(l.domNode,l),l}find(n,t=!1){return KS.find(n,t)}query(n,t=Zt.ANY){let r;return typeof n=="string"?r=this.types[n]||this.attributes[n]:n instanceof Text||n.nodeType===Node.TEXT_NODE?r=this.types.text:typeof n=="number"?n&Zt.LEVEL&Zt.BLOCK?r=this.types.block:n&Zt.LEVEL&Zt.INLINE&&(r=this.types.inline):n instanceof Element&&((n.getAttribute("class")||"").split(/\s+/).some(i=>(r=this.classes[i],!!r)),r=r||this.tags[n.tagName]),r==null?null:"scope"in r&&t&Zt.LEVEL&r.scope&&t&Zt.TYPE&r.scope?r:null}register(...n){return n.map(t=>{const r="blotName"in t,i="attrName"in t;if(!r&&!i)throw new K0("Invalid definition");if(r&&t.blotName==="abstract")throw new K0("Cannot register abstract class");const a=r?t.blotName:i?t.attrName:void 0;return this.types[a]=t,i?typeof t.keyName=="string"&&(this.attributes[t.keyName]=t):r&&(t.className&&(this.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map(s=>s.toUpperCase()):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach(s=>{(this.tags[s]==null||t.className==null)&&(this.tags[s]=t)}))),t})}};OI.blots=new WeakMap;let vm=OI;function f4(e,n){return(e.getAttribute("class")||"").split(/\s+/).filter(t=>t.indexOf(`${n}-`)===0)}class lH extends Jc{static keys(n){return(n.getAttribute("class")||"").split(/\s+/).map(t=>t.split("-").slice(0,-1).join("-"))}add(n,t){return this.canAdd(n,t)?(this.remove(n),n.classList.add(`${this.keyName}-${t}`),!0):!1}remove(n){f4(n,this.keyName).forEach(t=>{n.classList.remove(t)}),n.classList.length===0&&n.removeAttribute("class")}value(n){const t=(f4(n,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(n,t)?t:""}}const Bu=lH;function E5(e){const n=e.split("-"),t=n.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("");return n[0]+t}class uH extends Jc{static keys(n){return(n.getAttribute("style")||"").split(";").map(t=>t.split(":")[0].trim())}add(n,t){return this.canAdd(n,t)?(n.style[E5(this.keyName)]=t,!0):!1}remove(n){n.style[E5(this.keyName)]="",n.getAttribute("style")||n.removeAttribute("style")}value(n){const t=n.style[E5(this.keyName)];return this.canAdd(n,t)?t:""}}const Sh=uH;class cH{constructor(n){this.attributes={},this.domNode=n,this.build()}attribute(n,t){t?n.add(this.domNode,t)&&(n.value(this.domNode)!=null?this.attributes[n.attrName]=n:delete this.attributes[n.attrName]):(n.remove(this.domNode),delete this.attributes[n.attrName])}build(){this.attributes={};const n=vm.find(this.domNode);if(n==null)return;const t=Jc.keys(this.domNode),r=Bu.keys(this.domNode),i=Sh.keys(this.domNode);t.concat(r).concat(i).forEach(a=>{const s=n.scroll.query(a,Zt.ATTRIBUTE);s instanceof Jc&&(this.attributes[s.attrName]=s)})}copy(n){Object.keys(this.attributes).forEach(t=>{const r=this.attributes[t].value(this.domNode);n.format(t,r)})}move(n){this.copy(n),Object.keys(this.attributes).forEach(t=>{this.attributes[t].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((n,t)=>(n[t]=this.attributes[t].value(this.domNode),n),{})}}const i2=cH,MI=class{constructor(n,t){this.scroll=n,this.domNode=t,vm.blots.set(t,this),this.prev=null,this.next=null}static create(n){if(this.tagName==null)throw new K0("Blot definition missing tagName");let t,r;return Array.isArray(this.tagName)?(typeof n=="string"?(r=n.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof n=="number"&&(r=n),typeof r=="number"?t=document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?t=document.createElement(r):t=document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const n=this.domNode.cloneNode(!1);return this.scroll.create(n)}detach(){this.parent!=null&&this.parent.removeChild(this),vm.blots.delete(this.domNode)}deleteAt(n,t){this.isolate(n,t).remove()}formatAt(n,t,r,i){const a=this.isolate(n,t);if(this.scroll.query(r,Zt.BLOT)!=null&&i)a.wrap(r,i);else if(this.scroll.query(r,Zt.ATTRIBUTE)!=null){const s=this.scroll.create(this.statics.scope);a.wrap(s),s.format(r,i)}}insertAt(n,t,r){const i=r==null?this.scroll.create("text",t):this.scroll.create(t,r),a=this.split(n);this.parent.insertBefore(i,a||void 0)}isolate(n,t){const r=this.split(n);if(r==null)throw new Error("Attempt to isolate at end");return r.split(t),r}length(){return 1}offset(n=this.parent){return this.parent==null||this===n?0:this.parent.children.offset(this)+this.parent.offset(n)}optimize(n){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(n,t){const r=typeof n=="string"?this.scroll.create(n,t):n;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(n,t){return n===0?this:this.next}update(n,t){}wrap(n,t){const r=typeof n=="string"?this.scroll.create(n,t):n;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new K0(`Cannot wrap ${n}`);return r.appendChild(this),r}};MI.blotName="abstract";let LI=MI;const RI=class extends LI{static value(n){return!0}index(n,t){return this.domNode===n||this.domNode.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(n,t){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return n>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};RI.scope=Zt.INLINE_BLOT;let dH=RI;const Vs=dH;class fH{constructor(){this.head=null,this.tail=null,this.length=0}append(...n){if(this.insertBefore(n[0],null),n.length>1){const t=n.slice(1);this.append(...t)}}at(n){const t=this.iterator();let r=t();for(;r&&n>0;)n-=1,r=t();return r}contains(n){const t=this.iterator();let r=t();for(;r;){if(r===n)return!0;r=t()}return!1}indexOf(n){const t=this.iterator();let r=t(),i=0;for(;r;){if(r===n)return i;i+=1,r=t()}return-1}insertBefore(n,t){n!=null&&(this.remove(n),n.next=t,t!=null?(n.prev=t.prev,t.prev!=null&&(t.prev.next=n),t.prev=n,t===this.head&&(this.head=n)):this.tail!=null?(this.tail.next=n,n.prev=this.tail,this.tail=n):(n.prev=null,this.head=this.tail=n),this.length+=1)}offset(n){let t=0,r=this.head;for(;r!=null;){if(r===n)return t;t+=r.length(),r=r.next}return-1}remove(n){this.contains(n)&&(n.prev!=null&&(n.prev.next=n.next),n.next!=null&&(n.next.prev=n.prev),n===this.head&&(this.head=n.next),n===this.tail&&(this.tail=n.prev),this.length-=1)}iterator(n=this.head){return()=>{const t=n;return n!=null&&(n=n.next),t}}find(n,t=!1){const r=this.iterator();let i=r();for(;i;){const a=i.length();if(n<a||t&&n===a&&(i.next==null||i.next.length()!==0))return[i,n];n-=a,i=r()}return[null,0]}forEach(n){const t=this.iterator();let r=t();for(;r;)n(r),r=t()}forEachAt(n,t,r){if(t<=0)return;const[i,a]=this.find(n);let s=n-a;const l=this.iterator(i);let u=l();for(;u&&s<n+t;){const f=u.length();n>s?r(u,n-s,Math.min(t,s+f-n)):r(u,0,Math.min(f,n+t-s)),s+=f,u=l()}}map(n){return this.reduce((t,r)=>(t.push(n(r)),t),[])}reduce(n,t){const r=this.iterator();let i=r();for(;i;)t=n(t,i),i=r();return t}}function h4(e,n){const t=n.find(e);if(t)return t;try{return n.create(e)}catch{const r=n.create(Zt.INLINE);return Array.from(e.childNodes).forEach(i=>{r.domNode.appendChild(i)}),e.parentNode&&e.parentNode.replaceChild(r.domNode,e),r.attach(),r}}const PI=class Vf extends LI{constructor(n,t){super(n,t),this.uiNode=null,this.build()}appendChild(n){this.insertBefore(n)}attach(){super.attach(),this.children.forEach(n=>{n.attach()})}attachUI(n){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=n,Vf.uiClass&&this.uiNode.classList.add(Vf.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new fH,Array.from(this.domNode.childNodes).filter(n=>n!==this.uiNode).reverse().forEach(n=>{try{const t=h4(n,this.scroll);this.insertBefore(t,this.children.head||void 0)}catch(t){if(t instanceof K0)return;throw t}})}deleteAt(n,t){if(n===0&&t===this.length())return this.remove();this.children.forEachAt(n,t,(r,i,a)=>{r.deleteAt(i,a)})}descendant(n,t=0){const[r,i]=this.children.find(t);return n.blotName==null&&n(r)||n.blotName!=null&&r instanceof n?[r,i]:r instanceof Vf?r.descendant(n,i):[null,-1]}descendants(n,t=0,r=Number.MAX_VALUE){let i=[],a=r;return this.children.forEachAt(t,r,(s,l,u)=>{(n.blotName==null&&n(s)||n.blotName!=null&&s instanceof n)&&i.push(s),s instanceof Vf&&(i=i.concat(s.descendants(n,l,a))),a-=u}),i}detach(){this.children.forEach(n=>{n.detach()}),super.detach()}enforceAllowedChildren(){let n=!1;this.children.forEach(t=>{n||this.statics.allowedChildren.some(r=>t instanceof r)||(t.statics.scope===Zt.BLOCK_BLOT?(t.next!=null&&this.splitAfter(t),t.prev!=null&&this.splitAfter(t.prev),t.parent.unwrap(),n=!0):t instanceof Vf?t.unwrap():t.remove())})}formatAt(n,t,r,i){this.children.forEachAt(n,t,(a,s,l)=>{a.formatAt(s,l,r,i)})}insertAt(n,t,r){const[i,a]=this.children.find(n);if(i)i.insertAt(a,t,r);else{const s=r==null?this.scroll.create("text",t):this.scroll.create(t,r);this.appendChild(s)}}insertBefore(n,t){n.parent!=null&&n.parent.children.remove(n);let r=null;this.children.insertBefore(n,t||null),n.parent=this,t!=null&&(r=t.domNode),(this.domNode.parentNode!==n.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(n.domNode,r),n.attach()}length(){return this.children.reduce((n,t)=>n+t.length(),0)}moveChildren(n,t){this.children.forEach(r=>{n.insertBefore(r,t)})}optimize(n){if(super.optimize(n),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove()}path(n,t=!1){const[r,i]=this.children.find(n,t),a=[[this,n]];return r instanceof Vf?a.concat(r.path(i,t)):(r!=null&&a.push([r,i]),a)}removeChild(n){this.children.remove(n)}replaceWith(n,t){const r=typeof n=="string"?this.scroll.create(n,t):n;return r instanceof Vf&&this.moveChildren(r),super.replaceWith(r)}split(n,t=!1){if(!t){if(n===0)return this;if(n===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(n,this.length(),(i,a,s)=>{const l=i.split(a,t);l!=null&&r.appendChild(l)}),r}splitAfter(n){const t=this.clone();for(;n.next!=null;)t.appendChild(n.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(n,t){const r=[],i=[];n.forEach(a=>{a.target===this.domNode&&a.type==="childList"&&(r.push(...a.addedNodes),i.push(...a.removedNodes))}),i.forEach(a=>{if(a.parentNode!=null&&a.tagName!=="IFRAME"&&document.body.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const s=this.scroll.find(a);s!=null&&(s.domNode.parentNode==null||s.domNode.parentNode===this.domNode)&&s.detach()}),r.filter(a=>a.parentNode===this.domNode&&a!==this.uiNode).sort((a,s)=>a===s?0:a.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(a=>{let s=null;a.nextSibling!=null&&(s=this.scroll.find(a.nextSibling));const l=h4(a,this.scroll);(l.next!==s||l.next==null)&&(l.parent!=null&&l.parent.removeChild(this),this.insertBefore(l,s||void 0))}),this.enforceAllowedChildren()}};PI.uiClass="";let hH=PI;const Ou=hH;function pH(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const t in e)if(e[t]!==n[t])return!1;return!0}const L0=class R0 extends Ou{static create(n){return super.create(n)}static formats(n,t){const r=t.query(R0.blotName);if(!(r!=null&&n.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return n.tagName.toLowerCase()}}constructor(n,t){super(n,t),this.attributes=new i2(this.domNode)}format(n,t){if(n===this.statics.blotName&&!t)this.children.forEach(r=>{r instanceof R0||(r=r.wrap(R0.blotName,!0)),this.attributes.copy(r)}),this.unwrap();else{const r=this.scroll.query(n,Zt.INLINE);if(r==null)return;r instanceof Jc?this.attributes.attribute(r,t):t&&(n!==this.statics.blotName||this.formats()[n]!==t)&&this.replaceWith(n,t)}}formats(){const n=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(n[this.statics.blotName]=t),n}formatAt(n,t,r,i){this.formats()[r]!=null||this.scroll.query(r,Zt.ATTRIBUTE)?this.isolate(n,t).format(r,i):super.formatAt(n,t,r,i)}optimize(n){super.optimize(n);const t=this.formats();if(Object.keys(t).length===0)return this.unwrap();const r=this.next;r instanceof R0&&r.prev===this&&pH(t,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(n,t){const r=super.replaceWith(n,t);return this.attributes.copy(r),r}update(n,t){super.update(n,t),n.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}wrap(n,t){const r=super.wrap(n,t);return r instanceof R0&&this.attributes.move(r),r}};L0.allowedChildren=[L0,Vs],L0.blotName="inline",L0.scope=Zt.INLINE_BLOT,L0.tagName="SPAN";let mH=L0;const _C=mH,P0=class XS extends Ou{static create(n){return super.create(n)}static formats(n,t){const r=t.query(XS.blotName);if(!(r!=null&&n.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return n.tagName.toLowerCase()}}constructor(n,t){super(n,t),this.attributes=new i2(this.domNode)}format(n,t){const r=this.scroll.query(n,Zt.BLOCK);r!=null&&(r instanceof Jc?this.attributes.attribute(r,t):n===this.statics.blotName&&!t?this.replaceWith(XS.blotName):t&&(n!==this.statics.blotName||this.formats()[n]!==t)&&this.replaceWith(n,t))}formats(){const n=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(n[this.statics.blotName]=t),n}formatAt(n,t,r,i){this.scroll.query(r,Zt.BLOCK)!=null?this.format(r,i):super.formatAt(n,t,r,i)}insertAt(n,t,r){if(r==null||this.scroll.query(t,Zt.INLINE)!=null)super.insertAt(n,t,r);else{const i=this.split(n);if(i!=null){const a=this.scroll.create(t,r);i.parent.insertBefore(a,i)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(n,t){const r=super.replaceWith(n,t);return this.attributes.copy(r),r}update(n,t){super.update(n,t),n.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}};P0.blotName="block",P0.scope=Zt.BLOCK_BLOT,P0.tagName="P",P0.allowedChildren=[_C,P0,Vs];let gH=P0;const Q1=gH,ZS=class extends Ou{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(n,t){super.deleteAt(n,t),this.enforceAllowedChildren()}formatAt(n,t,r,i){super.formatAt(n,t,r,i),this.enforceAllowedChildren()}insertAt(n,t,r){super.insertAt(n,t,r),this.enforceAllowedChildren()}optimize(n){super.optimize(n),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};ZS.blotName="container",ZS.scope=Zt.BLOCK_BLOT;let bH=ZS;const a2=bH;class yH extends Vs{static formats(n,t){}format(n,t){super.formatAt(0,this.length(),n,t)}formatAt(n,t,r,i){n===0&&t===this.length()?this.format(r,i):super.formatAt(n,t,r,i)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const cl=yH,xH={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},vH=100,F0=class extends Ou{constructor(n,t){super(null,t),this.registry=n,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,xH),this.attach()}create(n,t){return this.registry.create(this,n,t)}find(n,t=!1){const r=this.registry.find(n,t);return r?r.scroll===this?r:t?this.find(r.scroll.domNode.parentNode,!0):null:null}query(n,t=Zt.ANY){return this.registry.query(n,t)}register(...n){return this.registry.register(...n)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(n,t){this.update(),n===0&&t===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(n,t)}formatAt(n,t,r,i){this.update(),super.formatAt(n,t,r,i)}insertAt(n,t,r){this.update(),super.insertAt(n,t,r)}optimize(n=[],t={}){super.optimize(t);const r=t.mutationsMap||new WeakMap;let i=Array.from(this.observer.takeRecords());for(;i.length>0;)n.push(i.pop());const a=(u,f=!0)=>{u==null||u===this||u.domNode.parentNode!=null&&(r.has(u.domNode)||r.set(u.domNode,[]),f&&a(u.parent))},s=u=>{r.has(u.domNode)&&(u instanceof Ou&&u.children.forEach(s),r.delete(u.domNode),u.optimize(t))};let l=n;for(let u=0;l.length>0;u+=1){if(u>=vH)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach(f=>{const h=this.find(f.target,!0);h!=null&&(h.domNode===f.target&&(f.type==="childList"?(a(this.find(f.previousSibling,!1)),Array.from(f.addedNodes).forEach(m=>{const b=this.find(m,!1);a(b,!1),b instanceof Ou&&b.children.forEach(g=>{a(g,!1)})})):f.type==="attributes"&&a(h.prev)),a(h))}),this.children.forEach(s),l=Array.from(this.observer.takeRecords()),i=l.slice();i.length>0;)n.push(i.pop())}}update(n,t={}){n=n||this.observer.takeRecords();const r=new WeakMap;n.map(i=>{const a=this.find(i.target,!0);return a==null?null:r.has(a.domNode)?(r.get(a.domNode).push(i),null):(r.set(a.domNode,[i]),a)}).forEach(i=>{i!=null&&i!==this&&r.has(i.domNode)&&i.update(r.get(i.domNode)||[],t)}),t.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),t),this.optimize(n,t)}};F0.blotName="scroll",F0.defaultChild=Q1,F0.allowedChildren=[Q1,a2],F0.scope=Zt.BLOCK_BLOT,F0.tagName="DIV";let wH=F0;const IC=wH,JS=class FI extends Vs{static create(n){return document.createTextNode(n)}static value(n){return n.data}constructor(n,t){super(n,t),this.text=this.statics.value(this.domNode)}deleteAt(n,t){this.domNode.data=this.text=this.text.slice(0,n)+this.text.slice(n+t)}index(n,t){return this.domNode===n?t:-1}insertAt(n,t,r){r==null?(this.text=this.text.slice(0,n)+t+this.text.slice(n),this.domNode.data=this.text):super.insertAt(n,t,r)}length(){return this.text.length}optimize(n){super.optimize(n),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof FI&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(n,t=!1){return[this.domNode,n]}split(n,t=!1){if(!t){if(n===0)return this;if(n===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(n));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(n,t){n.some(r=>r.type==="characterData"&&r.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};JS.blotName="text",JS.scope=Zt.INLINE_BLOT;let SH=JS;const cv=SH,CH=Object.freeze(Object.defineProperty({__proto__:null,Attributor:Jc,AttributorStore:i2,BlockBlot:Q1,ClassAttributor:Bu,ContainerBlot:a2,EmbedBlot:cl,InlineBlot:_C,LeafBlot:Vs,ParentBlot:Ou,Registry:vm,Scope:Zt,ScrollBlot:IC,StyleAttributor:Sh,TextBlot:cv},Symbol.toStringTag,{value:"Module"}));var Jy={exports:{}},j5,p4;function AH(){if(p4)return j5;p4=1;var e=-1,n=1,t=0;function r(T,D,O,L,Q){if(T===D)return T?[[t,T]]:[];if(O!=null){var $=V(T,D,O);if($)return $}var Y=l(T,D),Z=T.substring(0,Y);T=T.substring(Y),D=D.substring(Y),Y=f(T,D);var re=T.substring(T.length-Y);T=T.substring(0,T.length-Y),D=D.substring(0,D.length-Y);var H=i(T,D);return Z&&H.unshift([t,Z]),re&&H.push([t,re]),A(H,Q),L&&m(H),H}function i(T,D){var O;if(!T)return[[n,D]];if(!D)return[[e,T]];var L=T.length>D.length?T:D,Q=T.length>D.length?D:T,$=L.indexOf(Q);if($!==-1)return O=[[n,L.substring(0,$)],[t,Q],[n,L.substring($+Q.length)]],T.length>D.length&&(O[0][0]=O[2][0]=e),O;if(Q.length===1)return[[e,T],[n,D]];var Y=h(T,D);if(Y){var Z=Y[0],re=Y[1],H=Y[2],me=Y[3],q=Y[4],z=r(Z,H),ne=r(re,me);return z.concat([[t,q]],ne)}return a(T,D)}function a(T,D){for(var O=T.length,L=D.length,Q=Math.ceil((O+L)/2),$=Q,Y=2*Q,Z=new Array(Y),re=new Array(Y),H=0;H<Y;H++)Z[H]=-1,re[H]=-1;Z[$+1]=0,re[$+1]=0;for(var me=O-L,q=me%2!==0,z=0,ne=0,oe=0,ee=0,ge=0;ge<Q;ge++){for(var de=-ge+z;de<=ge-ne;de+=2){var ye=$+de,we;de===-ge||de!==ge&&Z[ye-1]<Z[ye+1]?we=Z[ye+1]:we=Z[ye-1]+1;for(var ve=we-de;we<O&&ve<L&&T.charAt(we)===D.charAt(ve);)we++,ve++;if(Z[ye]=we,we>O)ne+=2;else if(ve>L)z+=2;else if(q){var je=$+me-de;if(je>=0&&je<Y&&re[je]!==-1){var Ee=O-re[je];if(we>=Ee)return s(T,D,we,ve)}}}for(var Ue=-ge+oe;Ue<=ge-ee;Ue+=2){var je=$+Ue,Ee;Ue===-ge||Ue!==ge&&re[je-1]<re[je+1]?Ee=re[je+1]:Ee=re[je-1]+1;for(var Oe=Ee-Ue;Ee<O&&Oe<L&&T.charAt(O-Ee-1)===D.charAt(L-Oe-1);)Ee++,Oe++;if(re[je]=Ee,Ee>O)ee+=2;else if(Oe>L)oe+=2;else if(!q){var ye=$+me-Ue;if(ye>=0&&ye<Y&&Z[ye]!==-1){var we=Z[ye],ve=$+we-ye;if(Ee=O-Ee,we>=Ee)return s(T,D,we,ve)}}}}return[[e,T],[n,D]]}function s(T,D,O,L){var Q=T.substring(0,O),$=D.substring(0,L),Y=T.substring(O),Z=D.substring(L),re=r(Q,$),H=r(Y,Z);return re.concat(H)}function l(T,D){if(!T||!D||T.charAt(0)!==D.charAt(0))return 0;for(var O=0,L=Math.min(T.length,D.length),Q=L,$=0;O<Q;)T.substring($,Q)==D.substring($,Q)?(O=Q,$=O):L=Q,Q=Math.floor((L-O)/2+O);return N(T.charCodeAt(Q-1))&&Q--,Q}function u(T,D){var O=T.length,L=D.length;if(O==0||L==0)return 0;O>L?T=T.substring(O-L):O<L&&(D=D.substring(0,O));var Q=Math.min(O,L);if(T==D)return Q;for(var $=0,Y=1;;){var Z=T.substring(Q-Y),re=D.indexOf(Z);if(re==-1)return $;Y+=re,(re==0||T.substring(Q-Y)==D.substring(0,Y))&&($=Y,Y++)}}function f(T,D){if(!T||!D||T.slice(-1)!==D.slice(-1))return 0;for(var O=0,L=Math.min(T.length,D.length),Q=L,$=0;O<Q;)T.substring(T.length-Q,T.length-$)==D.substring(D.length-Q,D.length-$)?(O=Q,$=O):L=Q,Q=Math.floor((L-O)/2+O);return P(T.charCodeAt(T.length-Q))&&Q--,Q}function h(T,D){var O=T.length>D.length?T:D,L=T.length>D.length?D:T;if(O.length<4||L.length*2<O.length)return null;function Q(ne,oe,ee){for(var ge=ne.substring(ee,ee+Math.floor(ne.length/4)),de=-1,ye="",we,ve,je,Ee;(de=oe.indexOf(ge,de+1))!==-1;){var Ue=l(ne.substring(ee),oe.substring(de)),Oe=f(ne.substring(0,ee),oe.substring(0,de));ye.length<Oe+Ue&&(ye=oe.substring(de-Oe,de)+oe.substring(de,de+Ue),we=ne.substring(0,ee-Oe),ve=ne.substring(ee+Ue),je=oe.substring(0,de-Oe),Ee=oe.substring(de+Ue))}return ye.length*2>=ne.length?[we,ve,je,Ee,ye]:null}var $=Q(O,L,Math.ceil(O.length/4)),Y=Q(O,L,Math.ceil(O.length/2)),Z;if(!$&&!Y)return null;Y?$?Z=$[4].length>Y[4].length?$:Y:Z=Y:Z=$;var re,H,me,q;T.length>D.length?(re=Z[0],H=Z[1],me=Z[2],q=Z[3]):(me=Z[0],q=Z[1],re=Z[2],H=Z[3]);var z=Z[4];return[re,H,me,q,z]}function m(T){for(var D=!1,O=[],L=0,Q=null,$=0,Y=0,Z=0,re=0,H=0;$<T.length;)T[$][0]==t?(O[L++]=$,Y=re,Z=H,re=0,H=0,Q=T[$][1]):(T[$][0]==n?re+=T[$][1].length:H+=T[$][1].length,Q&&Q.length<=Math.max(Y,Z)&&Q.length<=Math.max(re,H)&&(T.splice(O[L-1],0,[e,Q]),T[O[L-1]+1][0]=n,L--,L--,$=L>0?O[L-1]:-1,Y=0,Z=0,re=0,H=0,Q=null,D=!0)),$++;for(D&&A(T),S(T),$=1;$<T.length;){if(T[$-1][0]==e&&T[$][0]==n){var me=T[$-1][1],q=T[$][1],z=u(me,q),ne=u(q,me);z>=ne?(z>=me.length/2||z>=q.length/2)&&(T.splice($,0,[t,q.substring(0,z)]),T[$-1][1]=me.substring(0,me.length-z),T[$+1][1]=q.substring(z),$++):(ne>=me.length/2||ne>=q.length/2)&&(T.splice($,0,[t,me.substring(0,ne)]),T[$-1][0]=n,T[$-1][1]=q.substring(0,q.length-ne),T[$+1][0]=e,T[$+1][1]=me.substring(ne),$++),$++}$++}}var b=/[^a-zA-Z0-9]/,g=/\s/,v=/[\r\n]/,x=/\n\r?\n$/,C=/^\r?\n\r?\n/;function S(T){function D(ne,oe){if(!ne||!oe)return 6;var ee=ne.charAt(ne.length-1),ge=oe.charAt(0),de=ee.match(b),ye=ge.match(b),we=de&&ee.match(g),ve=ye&&ge.match(g),je=we&&ee.match(v),Ee=ve&&ge.match(v),Ue=je&&ne.match(x),Oe=Ee&&oe.match(C);return Ue||Oe?5:je||Ee?4:de&&!we&&ve?3:we||ve?2:de||ye?1:0}for(var O=1;O<T.length-1;){if(T[O-1][0]==t&&T[O+1][0]==t){var L=T[O-1][1],Q=T[O][1],$=T[O+1][1],Y=f(L,Q);if(Y){var Z=Q.substring(Q.length-Y);L=L.substring(0,L.length-Y),Q=Z+Q.substring(0,Q.length-Y),$=Z+$}for(var re=L,H=Q,me=$,q=D(L,Q)+D(Q,$);Q.charAt(0)===$.charAt(0);){L+=Q.charAt(0),Q=Q.substring(1)+$.charAt(0),$=$.substring(1);var z=D(L,Q)+D(Q,$);z>=q&&(q=z,re=L,H=Q,me=$)}T[O-1][1]!=re&&(re?T[O-1][1]=re:(T.splice(O-1,1),O--),T[O][1]=H,me?T[O+1][1]=me:(T.splice(O+1,1),O--))}O++}}function A(T,D){T.push([t,""]);for(var O=0,L=0,Q=0,$="",Y="",Z;O<T.length;){if(O<T.length-1&&!T[O][1]){T.splice(O,1);continue}switch(T[O][0]){case n:Q++,Y+=T[O][1],O++;break;case e:L++,$+=T[O][1],O++;break;case t:var re=O-Q-L-1;if(D){if(re>=0&&B(T[re][1])){var H=T[re][1].slice(-1);if(T[re][1]=T[re][1].slice(0,-1),$=H+$,Y=H+Y,!T[re][1]){T.splice(re,1),O--;var me=re-1;T[me]&&T[me][0]===n&&(Q++,Y=T[me][1]+Y,me--),T[me]&&T[me][0]===e&&(L++,$=T[me][1]+$,me--),re=me}}if(U(T[O][1])){var H=T[O][1].charAt(0);T[O][1]=T[O][1].slice(1),$+=H,Y+=H}}if(O<T.length-1&&!T[O][1]){T.splice(O,1);break}if($.length>0||Y.length>0){$.length>0&&Y.length>0&&(Z=l(Y,$),Z!==0&&(re>=0?T[re][1]+=Y.substring(0,Z):(T.splice(0,0,[t,Y.substring(0,Z)]),O++),Y=Y.substring(Z),$=$.substring(Z)),Z=f(Y,$),Z!==0&&(T[O][1]=Y.substring(Y.length-Z)+T[O][1],Y=Y.substring(0,Y.length-Z),$=$.substring(0,$.length-Z)));var q=Q+L;$.length===0&&Y.length===0?(T.splice(O-q,q),O=O-q):$.length===0?(T.splice(O-q,q,[n,Y]),O=O-q+1):Y.length===0?(T.splice(O-q,q,[e,$]),O=O-q+1):(T.splice(O-q,q,[e,$],[n,Y]),O=O-q+2)}O!==0&&T[O-1][0]===t?(T[O-1][1]+=T[O][1],T.splice(O,1)):O++,Q=0,L=0,$="",Y="";break}}T[T.length-1][1]===""&&T.pop();var z=!1;for(O=1;O<T.length-1;)T[O-1][0]===t&&T[O+1][0]===t&&(T[O][1].substring(T[O][1].length-T[O-1][1].length)===T[O-1][1]?(T[O][1]=T[O-1][1]+T[O][1].substring(0,T[O][1].length-T[O-1][1].length),T[O+1][1]=T[O-1][1]+T[O+1][1],T.splice(O-1,1),z=!0):T[O][1].substring(0,T[O+1][1].length)==T[O+1][1]&&(T[O-1][1]+=T[O+1][1],T[O][1]=T[O][1].substring(T[O+1][1].length)+T[O+1][1],T.splice(O+1,1),z=!0)),O++;z&&A(T,D)}function N(T){return T>=55296&&T<=56319}function P(T){return T>=56320&&T<=57343}function U(T){return P(T.charCodeAt(0))}function B(T){return N(T.charCodeAt(T.length-1))}function j(T){for(var D=[],O=0;O<T.length;O++)T[O][1].length>0&&D.push(T[O]);return D}function F(T,D,O,L){return B(T)||U(L)?null:j([[t,T],[e,D],[n,O],[t,L]])}function V(T,D,O){var L=typeof O=="number"?{index:O,length:0}:O.oldRange,Q=typeof O=="number"?null:O.newRange,$=T.length,Y=D.length;if(L.length===0&&(Q===null||Q.length===0)){var Z=L.index,re=T.slice(0,Z),H=T.slice(Z),me=Q?Q.index:null;e:{var q=Z+Y-$;if(me!==null&&me!==q||q<0||q>Y)break e;var z=D.slice(0,q),ne=D.slice(q);if(ne!==H)break e;var oe=Math.min(Z,q),ee=re.slice(0,oe),ge=z.slice(0,oe);if(ee!==ge)break e;var de=re.slice(oe),ye=z.slice(oe);return F(ee,de,ye,H)}e:{if(me!==null&&me!==Z)break e;var we=Z,z=D.slice(0,we),ne=D.slice(we);if(z!==re)break e;var ve=Math.min($-we,Y-we),je=H.slice(H.length-ve),Ee=ne.slice(ne.length-ve);if(je!==Ee)break e;var de=H.slice(0,H.length-ve),ye=ne.slice(0,ne.length-ve);return F(re,de,ye,je)}}if(L.length>0&&Q&&Q.length===0)e:{var ee=T.slice(0,L.index),je=T.slice(L.index+L.length),oe=ee.length,ve=je.length;if(Y<oe+ve)break e;var ge=D.slice(0,oe),Ee=D.slice(Y-ve);if(ee!==ge||je!==Ee)break e;var de=T.slice(oe,$-ve),ye=D.slice(oe,Y-ve);return F(ee,de,ye,je)}return null}function X(T,D,O,L){return r(T,D,O,L,!0)}return X.INSERT=n,X.DELETE=e,X.EQUAL=t,j5=X,j5}var v1={exports:{}};v1.exports;var m4;function zI(){return m4||(m4=1,function(e,n){var t=200,r="__lodash_hash_undefined__",i=9007199254740991,a="[object Arguments]",s="[object Array]",l="[object Boolean]",u="[object Date]",f="[object Error]",h="[object Function]",m="[object GeneratorFunction]",b="[object Map]",g="[object Number]",v="[object Object]",x="[object Promise]",C="[object RegExp]",S="[object Set]",A="[object String]",N="[object Symbol]",P="[object WeakMap]",U="[object ArrayBuffer]",B="[object DataView]",j="[object Float32Array]",F="[object Float64Array]",V="[object Int8Array]",X="[object Int16Array]",T="[object Int32Array]",D="[object Uint8Array]",O="[object Uint8ClampedArray]",L="[object Uint16Array]",Q="[object Uint32Array]",$=/[\\^$.*+?()[\]{}|]/g,Y=/\w*$/,Z=/^\[object .+?Constructor\]$/,re=/^(?:0|[1-9]\d*)$/,H={};H[a]=H[s]=H[U]=H[B]=H[l]=H[u]=H[j]=H[F]=H[V]=H[X]=H[T]=H[b]=H[g]=H[v]=H[C]=H[S]=H[A]=H[N]=H[D]=H[O]=H[L]=H[Q]=!0,H[f]=H[h]=H[P]=!1;var me=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,q=typeof self=="object"&&self&&self.Object===Object&&self,z=me||q||Function("return this")(),ne=n&&!n.nodeType&&n,oe=ne&&!0&&e&&!e.nodeType&&e,ee=oe&&oe.exports===ne;function ge(W,he){return W.set(he[0],he[1]),W}function de(W,he){return W.add(he),W}function ye(W,he){for(var Ne=-1,at=W?W.length:0;++Ne<at&&he(W[Ne],Ne,W)!==!1;);return W}function we(W,he){for(var Ne=-1,at=he.length,sn=W.length;++Ne<at;)W[sn+Ne]=he[Ne];return W}function ve(W,he,Ne,at){for(var sn=-1,Gt=W?W.length:0;++sn<Gt;)Ne=he(Ne,W[sn],sn,W);return Ne}function je(W,he){for(var Ne=-1,at=Array(W);++Ne<W;)at[Ne]=he(Ne);return at}function Ee(W,he){return W==null?void 0:W[he]}function Ue(W){var he=!1;if(W!=null&&typeof W.toString!="function")try{he=!!(W+"")}catch{}return he}function Oe(W){var he=-1,Ne=Array(W.size);return W.forEach(function(at,sn){Ne[++he]=[sn,at]}),Ne}function pe(W,he){return function(Ne){return W(he(Ne))}}function tt(W){var he=-1,Ne=Array(W.size);return W.forEach(function(at){Ne[++he]=at}),Ne}var dt=Array.prototype,lt=Function.prototype,Ze=Object.prototype,ut=z["__core-js_shared__"],wt=function(){var W=/[^.]+$/.exec(ut&&ut.keys&&ut.keys.IE_PROTO||"");return W?"Symbol(src)_1."+W:""}(),Et=lt.toString,Ot=Ze.hasOwnProperty,qt=Ze.toString,Qe=RegExp("^"+Et.call(Ot).replace($,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Se=ee?z.Buffer:void 0,De=z.Symbol,ke=z.Uint8Array,Ke=pe(Object.getPrototypeOf,Object),He=Object.create,Nt=Ze.propertyIsEnumerable,It=dt.splice,Ft=Object.getOwnPropertySymbols,jt=Se?Se.isBuffer:void 0,nn=pe(Object.keys,Object),Tt=Zi(z,"DataView"),Ht=Zi(z,"Map"),un=Zi(z,"Promise"),vn=Zi(z,"Set"),Er=Zi(z,"WeakMap"),Hn=Zi(Object,"create"),Xn=oi(Tt),Xt=oi(Ht),_n=oi(un),fa=oi(vn),cn=oi(Er),Vn=De?De.prototype:void 0,Oi=Vn?Vn.valueOf:void 0;function zt(W){var he=-1,Ne=W?W.length:0;for(this.clear();++he<Ne;){var at=W[he];this.set(at[0],at[1])}}function Zn(){this.__data__=Hn?Hn(null):{}}function dr(W){return this.has(W)&&delete this.__data__[W]}function $r(W){var he=this.__data__;if(Hn){var Ne=he[W];return Ne===r?void 0:Ne}return Ot.call(he,W)?he[W]:void 0}function gr(W){var he=this.__data__;return Hn?he[W]!==void 0:Ot.call(he,W)}function br(W,he){var Ne=this.__data__;return Ne[W]=Hn&&he===void 0?r:he,this}zt.prototype.clear=Zn,zt.prototype.delete=dr,zt.prototype.get=$r,zt.prototype.has=gr,zt.prototype.set=br;function Qn(W){var he=-1,Ne=W?W.length:0;for(this.clear();++he<Ne;){var at=W[he];this.set(at[0],at[1])}}function js(){this.__data__=[]}function Or(W){var he=this.__data__,Ne=Ns(he,W);if(Ne<0)return!1;var at=he.length-1;return Ne==at?he.pop():It.call(he,Ne,1),!0}function Ha(W){var he=this.__data__,Ne=Ns(he,W);return Ne<0?void 0:he[Ne][1]}function Ki(W){return Ns(this.__data__,W)>-1}function Xi(W,he){var Ne=this.__data__,at=Ns(Ne,W);return at<0?Ne.push([W,he]):Ne[at][1]=he,this}Qn.prototype.clear=js,Qn.prototype.delete=Or,Qn.prototype.get=Ha,Qn.prototype.has=Ki,Qn.prototype.set=Xi;function ar(W){var he=-1,Ne=W?W.length:0;for(this.clear();++he<Ne;){var at=W[he];this.set(at[0],at[1])}}function Mi(){this.__data__={hash:new zt,map:new(Ht||Qn),string:new zt}}function sr(W){return Js(this,W).delete(W)}function co(W){return Js(this,W).get(W)}function Io(W){return Js(this,W).has(W)}function Qa(W,he){return Js(this,W).set(W,he),this}ar.prototype.clear=Mi,ar.prototype.delete=sr,ar.prototype.get=co,ar.prototype.has=Io,ar.prototype.set=Qa;function Ur(W){this.__data__=new Qn(W)}function dl(){this.__data__=new Qn}function Xl(W){return this.__data__.delete(W)}function Yu(W){return this.__data__.get(W)}function ud(W){return this.__data__.has(W)}function Xs(W,he){var Ne=this.__data__;if(Ne instanceof Qn){var at=Ne.__data__;if(!Ht||at.length<t-1)return at.push([W,he]),this;Ne=this.__data__=new ar(at)}return Ne.set(W,he),this}Ur.prototype.clear=dl,Ur.prototype.delete=Xl,Ur.prototype.get=Yu,Ur.prototype.has=ud,Ur.prototype.set=Xs;function Ts(W,he){var Ne=gl(W)||po(W)?je(W.length,String):[],at=Ne.length,sn=!!at;for(var Gt in W)Ot.call(W,Gt)&&!(sn&&(Gt=="length"||pl(Gt,at)))&&Ne.push(Gt);return Ne}function Ka(W,he,Ne){var at=W[he];(!(Ot.call(W,he)&&ln(at,Ne))||Ne===void 0&&!(he in W))&&(W[he]=Ne)}function Ns(W,he){for(var Ne=W.length;Ne--;)if(ln(W[Ne][0],he))return Ne;return-1}function hs(W,he){return W&&Mo(he,bl(he),W)}function ps(W,he,Ne,at,sn,Gt,Pn){var In;if(at&&(In=Gt?at(W,sn,Gt,Pn):at(W)),In!==void 0)return In;if(!ts(W))return W;var xr=gl(W);if(xr){if(In=Qu(W),!he)return eu(W,In)}else{var An=Ds(W),Mr=An==h||An==m;if(Lo(W))return ho(W,he);if(An==v||An==a||Mr&&!Gt){if(Ue(W))return Gt?W:{};if(In=Za(Mr?{}:W),!he)return Zs(W,hs(In,W))}else{if(!H[An])return Gt?W:{};In=eo(W,An,ps,he)}}Pn||(Pn=new Ur);var Ia=Pn.get(W);if(Ia)return Ia;if(Pn.set(W,In),!xr)var jr=Ne?Gu(W):bl(W);return ye(jr||W,function(Tr,Jr){jr&&(Jr=Tr,Tr=W[Jr]),Ka(In,Jr,ps(Tr,he,Ne,at,Jr,W,Pn))}),In}function Zl(W){return ts(W)?He(W):{}}function fo(W,he,Ne){var at=he(W);return gl(W)?at:we(at,Ne(W))}function cd(W){return qt.call(W)}function Hr(W){if(!ts(W)||ml(W))return!1;var he=es(W)||Ue(W)?Qe:Z;return he.test(oi(W))}function ha(W){if(!mi(W))return nn(W);var he=[];for(var Ne in Object(W))Ot.call(W,Ne)&&Ne!="constructor"&&he.push(Ne);return he}function ho(W,he){if(he)return W.slice();var Ne=new W.constructor(W.length);return W.copy(Ne),Ne}function fl(W){var he=new W.constructor(W.byteLength);return new ke(he).set(new ke(W)),he}function Xa(W,he){var Ne=he?fl(W.buffer):W.buffer;return new W.constructor(Ne,W.byteOffset,W.byteLength)}function Jl(W,he,Ne){var at=he?Ne(Oe(W),!0):Oe(W);return ve(at,ge,new W.constructor)}function pa(W){var he=new W.constructor(W.source,Y.exec(W));return he.lastIndex=W.lastIndex,he}function hl(W,he,Ne){var at=he?Ne(tt(W),!0):tt(W);return ve(at,de,new W.constructor)}function yr(W){return Oi?Object(Oi.call(W)):{}}function Oo(W,he){var Ne=he?fl(W.buffer):W.buffer;return new W.constructor(Ne,W.byteOffset,W.length)}function eu(W,he){var Ne=-1,at=W.length;for(he||(he=Array(at));++Ne<at;)he[Ne]=W[Ne];return he}function Mo(W,he,Ne,at){Ne||(Ne={});for(var sn=-1,Gt=he.length;++sn<Gt;){var Pn=he[sn],In=void 0;Ka(Ne,Pn,In===void 0?W[Pn]:In)}return Ne}function Zs(W,he){return Mo(W,ms(W),he)}function Gu(W){return fo(W,bl,ms)}function Js(W,he){var Ne=W.__data__;return to(he)?Ne[typeof he=="string"?"string":"hash"]:Ne.map}function Zi(W,he){var Ne=Ee(W,he);return Hr(Ne)?Ne:void 0}var ms=Ft?pe(Ft,Object):mo,Ds=cd;(Tt&&Ds(new Tt(new ArrayBuffer(1)))!=B||Ht&&Ds(new Ht)!=b||un&&Ds(un.resolve())!=x||vn&&Ds(new vn)!=S||Er&&Ds(new Er)!=P)&&(Ds=function(W){var he=qt.call(W),Ne=he==v?W.constructor:void 0,at=Ne?oi(Ne):void 0;if(at)switch(at){case Xn:return B;case Xt:return b;case _n:return x;case fa:return S;case cn:return P}return he});function Qu(W){var he=W.length,Ne=W.constructor(he);return he&&typeof W[0]=="string"&&Ot.call(W,"index")&&(Ne.index=W.index,Ne.input=W.input),Ne}function Za(W){return typeof W.constructor=="function"&&!mi(W)?Zl(Ke(W)):{}}function eo(W,he,Ne,at){var sn=W.constructor;switch(he){case U:return fl(W);case l:case u:return new sn(+W);case B:return Xa(W,at);case j:case F:case V:case X:case T:case D:case O:case L:case Q:return Oo(W,at);case b:return Jl(W,at,Ne);case g:case A:return new sn(W);case C:return pa(W);case S:return hl(W,at,Ne);case N:return yr(W)}}function pl(W,he){return he=he??i,!!he&&(typeof W=="number"||re.test(W))&&W>-1&&W%1==0&&W<he}function to(W){var he=typeof W;return he=="string"||he=="number"||he=="symbol"||he=="boolean"?W!=="__proto__":W===null}function ml(W){return!!wt&&wt in W}function mi(W){var he=W&&W.constructor,Ne=typeof he=="function"&&he.prototype||Ze;return W===Ne}function oi(W){if(W!=null){try{return Et.call(W)}catch{}try{return W+""}catch{}}return""}function _s(W){return ps(W,!0,!0)}function ln(W,he){return W===he||W!==W&&he!==he}function po(W){return Ja(W)&&Ot.call(W,"callee")&&(!Nt.call(W,"callee")||qt.call(W)==a)}var gl=Array.isArray;function Li(W){return W!=null&&Va(W.length)&&!es(W)}function Ja(W){return Ro(W)&&Li(W)}var Lo=jt||Is;function es(W){var he=ts(W)?qt.call(W):"";return he==h||he==m}function Va(W){return typeof W=="number"&&W>-1&&W%1==0&&W<=i}function ts(W){var he=typeof W;return!!W&&(he=="object"||he=="function")}function Ro(W){return!!W&&typeof W=="object"}function bl(W){return Li(W)?Ts(W):ha(W)}function mo(){return[]}function Is(){return!1}e.exports=_s}(v1,v1.exports)),v1.exports}var w1={exports:{}};w1.exports;var g4;function qI(){return g4||(g4=1,function(e,n){var t=200,r="__lodash_hash_undefined__",i=1,a=2,s=9007199254740991,l="[object Arguments]",u="[object Array]",f="[object AsyncFunction]",h="[object Boolean]",m="[object Date]",b="[object Error]",g="[object Function]",v="[object GeneratorFunction]",x="[object Map]",C="[object Number]",S="[object Null]",A="[object Object]",N="[object Promise]",P="[object Proxy]",U="[object RegExp]",B="[object Set]",j="[object String]",F="[object Symbol]",V="[object Undefined]",X="[object WeakMap]",T="[object ArrayBuffer]",D="[object DataView]",O="[object Float32Array]",L="[object Float64Array]",Q="[object Int8Array]",$="[object Int16Array]",Y="[object Int32Array]",Z="[object Uint8Array]",re="[object Uint8ClampedArray]",H="[object Uint16Array]",me="[object Uint32Array]",q=/[\\^$.*+?()[\]{}|]/g,z=/^\[object .+?Constructor\]$/,ne=/^(?:0|[1-9]\d*)$/,oe={};oe[O]=oe[L]=oe[Q]=oe[$]=oe[Y]=oe[Z]=oe[re]=oe[H]=oe[me]=!0,oe[l]=oe[u]=oe[T]=oe[h]=oe[D]=oe[m]=oe[b]=oe[g]=oe[x]=oe[C]=oe[A]=oe[U]=oe[B]=oe[j]=oe[X]=!1;var ee=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,ge=typeof self=="object"&&self&&self.Object===Object&&self,de=ee||ge||Function("return this")(),ye=n&&!n.nodeType&&n,we=ye&&!0&&e&&!e.nodeType&&e,ve=we&&we.exports===ye,je=ve&&ee.process,Ee=function(){try{return je&&je.binding&&je.binding("util")}catch{}}(),Ue=Ee&&Ee.isTypedArray;function Oe(W,he){for(var Ne=-1,at=W==null?0:W.length,sn=0,Gt=[];++Ne<at;){var Pn=W[Ne];he(Pn,Ne,W)&&(Gt[sn++]=Pn)}return Gt}function pe(W,he){for(var Ne=-1,at=he.length,sn=W.length;++Ne<at;)W[sn+Ne]=he[Ne];return W}function tt(W,he){for(var Ne=-1,at=W==null?0:W.length;++Ne<at;)if(he(W[Ne],Ne,W))return!0;return!1}function dt(W,he){for(var Ne=-1,at=Array(W);++Ne<W;)at[Ne]=he(Ne);return at}function lt(W){return function(he){return W(he)}}function Ze(W,he){return W.has(he)}function ut(W,he){return W==null?void 0:W[he]}function wt(W){var he=-1,Ne=Array(W.size);return W.forEach(function(at,sn){Ne[++he]=[sn,at]}),Ne}function Et(W,he){return function(Ne){return W(he(Ne))}}function Ot(W){var he=-1,Ne=Array(W.size);return W.forEach(function(at){Ne[++he]=at}),Ne}var qt=Array.prototype,Qe=Function.prototype,Se=Object.prototype,De=de["__core-js_shared__"],ke=Qe.toString,Ke=Se.hasOwnProperty,He=function(){var W=/[^.]+$/.exec(De&&De.keys&&De.keys.IE_PROTO||"");return W?"Symbol(src)_1."+W:""}(),Nt=Se.toString,It=RegExp("^"+ke.call(Ke).replace(q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ft=ve?de.Buffer:void 0,jt=de.Symbol,nn=de.Uint8Array,Tt=Se.propertyIsEnumerable,Ht=qt.splice,un=jt?jt.toStringTag:void 0,vn=Object.getOwnPropertySymbols,Er=Ft?Ft.isBuffer:void 0,Hn=Et(Object.keys,Object),Xn=ms(de,"DataView"),Xt=ms(de,"Map"),_n=ms(de,"Promise"),fa=ms(de,"Set"),cn=ms(de,"WeakMap"),Vn=ms(Object,"create"),Oi=oi(Xn),zt=oi(Xt),Zn=oi(_n),dr=oi(fa),$r=oi(cn),gr=jt?jt.prototype:void 0,br=gr?gr.valueOf:void 0;function Qn(W){var he=-1,Ne=W==null?0:W.length;for(this.clear();++he<Ne;){var at=W[he];this.set(at[0],at[1])}}function js(){this.__data__=Vn?Vn(null):{},this.size=0}function Or(W){var he=this.has(W)&&delete this.__data__[W];return this.size-=he?1:0,he}function Ha(W){var he=this.__data__;if(Vn){var Ne=he[W];return Ne===r?void 0:Ne}return Ke.call(he,W)?he[W]:void 0}function Ki(W){var he=this.__data__;return Vn?he[W]!==void 0:Ke.call(he,W)}function Xi(W,he){var Ne=this.__data__;return this.size+=this.has(W)?0:1,Ne[W]=Vn&&he===void 0?r:he,this}Qn.prototype.clear=js,Qn.prototype.delete=Or,Qn.prototype.get=Ha,Qn.prototype.has=Ki,Qn.prototype.set=Xi;function ar(W){var he=-1,Ne=W==null?0:W.length;for(this.clear();++he<Ne;){var at=W[he];this.set(at[0],at[1])}}function Mi(){this.__data__=[],this.size=0}function sr(W){var he=this.__data__,Ne=ho(he,W);if(Ne<0)return!1;var at=he.length-1;return Ne==at?he.pop():Ht.call(he,Ne,1),--this.size,!0}function co(W){var he=this.__data__,Ne=ho(he,W);return Ne<0?void 0:he[Ne][1]}function Io(W){return ho(this.__data__,W)>-1}function Qa(W,he){var Ne=this.__data__,at=ho(Ne,W);return at<0?(++this.size,Ne.push([W,he])):Ne[at][1]=he,this}ar.prototype.clear=Mi,ar.prototype.delete=sr,ar.prototype.get=co,ar.prototype.has=Io,ar.prototype.set=Qa;function Ur(W){var he=-1,Ne=W==null?0:W.length;for(this.clear();++he<Ne;){var at=W[he];this.set(at[0],at[1])}}function dl(){this.size=0,this.__data__={hash:new Qn,map:new(Xt||ar),string:new Qn}}function Xl(W){var he=Zi(this,W).delete(W);return this.size-=he?1:0,he}function Yu(W){return Zi(this,W).get(W)}function ud(W){return Zi(this,W).has(W)}function Xs(W,he){var Ne=Zi(this,W),at=Ne.size;return Ne.set(W,he),this.size+=Ne.size==at?0:1,this}Ur.prototype.clear=dl,Ur.prototype.delete=Xl,Ur.prototype.get=Yu,Ur.prototype.has=ud,Ur.prototype.set=Xs;function Ts(W){var he=-1,Ne=W==null?0:W.length;for(this.__data__=new Ur;++he<Ne;)this.add(W[he])}function Ka(W){return this.__data__.set(W,r),this}function Ns(W){return this.__data__.has(W)}Ts.prototype.add=Ts.prototype.push=Ka,Ts.prototype.has=Ns;function hs(W){var he=this.__data__=new ar(W);this.size=he.size}function ps(){this.__data__=new ar,this.size=0}function Zl(W){var he=this.__data__,Ne=he.delete(W);return this.size=he.size,Ne}function fo(W){return this.__data__.get(W)}function cd(W){return this.__data__.has(W)}function Hr(W,he){var Ne=this.__data__;if(Ne instanceof ar){var at=Ne.__data__;if(!Xt||at.length<t-1)return at.push([W,he]),this.size=++Ne.size,this;Ne=this.__data__=new Ur(at)}return Ne.set(W,he),this.size=Ne.size,this}hs.prototype.clear=ps,hs.prototype.delete=Zl,hs.prototype.get=fo,hs.prototype.has=cd,hs.prototype.set=Hr;function ha(W,he){var Ne=po(W),at=!Ne&&ln(W),sn=!Ne&&!at&&Li(W),Gt=!Ne&&!at&&!sn&&Ro(W),Pn=Ne||at||sn||Gt,In=Pn?dt(W.length,String):[],xr=In.length;for(var An in W)Ke.call(W,An)&&!(Pn&&(An=="length"||sn&&(An=="offset"||An=="parent")||Gt&&(An=="buffer"||An=="byteLength"||An=="byteOffset")||eo(An,xr)))&&In.push(An);return In}function ho(W,he){for(var Ne=W.length;Ne--;)if(_s(W[Ne][0],he))return Ne;return-1}function fl(W,he,Ne){var at=he(W);return po(W)?at:pe(at,Ne(W))}function Xa(W){return W==null?W===void 0?V:S:un&&un in Object(W)?Ds(W):mi(W)}function Jl(W){return ts(W)&&Xa(W)==l}function pa(W,he,Ne,at,sn){return W===he?!0:W==null||he==null||!ts(W)&&!ts(he)?W!==W&&he!==he:hl(W,he,Ne,at,pa,sn)}function hl(W,he,Ne,at,sn,Gt){var Pn=po(W),In=po(he),xr=Pn?u:Za(W),An=In?u:Za(he);xr=xr==l?A:xr,An=An==l?A:An;var Mr=xr==A,Ia=An==A,jr=xr==An;if(jr&&Li(W)){if(!Li(he))return!1;Pn=!0,Mr=!1}if(jr&&!Mr)return Gt||(Gt=new hs),Pn||Ro(W)?Mo(W,he,Ne,at,sn,Gt):Zs(W,he,xr,Ne,at,sn,Gt);if(!(Ne&i)){var Tr=Mr&&Ke.call(W,"__wrapped__"),Jr=Ia&&Ke.call(he,"__wrapped__");if(Tr||Jr){var ns=Tr?W.value():W,no=Jr?he.value():he;return Gt||(Gt=new hs),sn(ns,no,Ne,at,Gt)}}return jr?(Gt||(Gt=new hs),Gu(W,he,Ne,at,sn,Gt)):!1}function yr(W){if(!Va(W)||to(W))return!1;var he=Lo(W)?It:z;return he.test(oi(W))}function Oo(W){return ts(W)&&es(W.length)&&!!oe[Xa(W)]}function eu(W){if(!ml(W))return Hn(W);var he=[];for(var Ne in Object(W))Ke.call(W,Ne)&&Ne!="constructor"&&he.push(Ne);return he}function Mo(W,he,Ne,at,sn,Gt){var Pn=Ne&i,In=W.length,xr=he.length;if(In!=xr&&!(Pn&&xr>In))return!1;var An=Gt.get(W);if(An&&Gt.get(he))return An==he;var Mr=-1,Ia=!0,jr=Ne&a?new Ts:void 0;for(Gt.set(W,he),Gt.set(he,W);++Mr<In;){var Tr=W[Mr],Jr=he[Mr];if(at)var ns=Pn?at(Jr,Tr,Mr,he,W,Gt):at(Tr,Jr,Mr,W,he,Gt);if(ns!==void 0){if(ns)continue;Ia=!1;break}if(jr){if(!tt(he,function(no,Os){if(!Ze(jr,Os)&&(Tr===no||sn(Tr,no,Ne,at,Gt)))return jr.push(Os)})){Ia=!1;break}}else if(!(Tr===Jr||sn(Tr,Jr,Ne,at,Gt))){Ia=!1;break}}return Gt.delete(W),Gt.delete(he),Ia}function Zs(W,he,Ne,at,sn,Gt,Pn){switch(Ne){case D:if(W.byteLength!=he.byteLength||W.byteOffset!=he.byteOffset)return!1;W=W.buffer,he=he.buffer;case T:return!(W.byteLength!=he.byteLength||!Gt(new nn(W),new nn(he)));case h:case m:case C:return _s(+W,+he);case b:return W.name==he.name&&W.message==he.message;case U:case j:return W==he+"";case x:var In=wt;case B:var xr=at&i;if(In||(In=Ot),W.size!=he.size&&!xr)return!1;var An=Pn.get(W);if(An)return An==he;at|=a,Pn.set(W,he);var Mr=Mo(In(W),In(he),at,sn,Gt,Pn);return Pn.delete(W),Mr;case F:if(br)return br.call(W)==br.call(he)}return!1}function Gu(W,he,Ne,at,sn,Gt){var Pn=Ne&i,In=Js(W),xr=In.length,An=Js(he),Mr=An.length;if(xr!=Mr&&!Pn)return!1;for(var Ia=xr;Ia--;){var jr=In[Ia];if(!(Pn?jr in he:Ke.call(he,jr)))return!1}var Tr=Gt.get(W);if(Tr&&Gt.get(he))return Tr==he;var Jr=!0;Gt.set(W,he),Gt.set(he,W);for(var ns=Pn;++Ia<xr;){jr=In[Ia];var no=W[jr],Os=he[jr];if(at)var sf=Pn?at(Os,no,jr,he,W,Gt):at(no,Os,jr,W,he,Gt);if(!(sf===void 0?no===Os||sn(no,Os,Ne,at,Gt):sf)){Jr=!1;break}ns||(ns=jr=="constructor")}if(Jr&&!ns){var yl=W.constructor,Po=he.constructor;yl!=Po&&"constructor"in W&&"constructor"in he&&!(typeof yl=="function"&&yl instanceof yl&&typeof Po=="function"&&Po instanceof Po)&&(Jr=!1)}return Gt.delete(W),Gt.delete(he),Jr}function Js(W){return fl(W,bl,Qu)}function Zi(W,he){var Ne=W.__data__;return pl(he)?Ne[typeof he=="string"?"string":"hash"]:Ne.map}function ms(W,he){var Ne=ut(W,he);return yr(Ne)?Ne:void 0}function Ds(W){var he=Ke.call(W,un),Ne=W[un];try{W[un]=void 0;var at=!0}catch{}var sn=Nt.call(W);return at&&(he?W[un]=Ne:delete W[un]),sn}var Qu=vn?function(W){return W==null?[]:(W=Object(W),Oe(vn(W),function(he){return Tt.call(W,he)}))}:mo,Za=Xa;(Xn&&Za(new Xn(new ArrayBuffer(1)))!=D||Xt&&Za(new Xt)!=x||_n&&Za(_n.resolve())!=N||fa&&Za(new fa)!=B||cn&&Za(new cn)!=X)&&(Za=function(W){var he=Xa(W),Ne=he==A?W.constructor:void 0,at=Ne?oi(Ne):"";if(at)switch(at){case Oi:return D;case zt:return x;case Zn:return N;case dr:return B;case $r:return X}return he});function eo(W,he){return he=he??s,!!he&&(typeof W=="number"||ne.test(W))&&W>-1&&W%1==0&&W<he}function pl(W){var he=typeof W;return he=="string"||he=="number"||he=="symbol"||he=="boolean"?W!=="__proto__":W===null}function to(W){return!!He&&He in W}function ml(W){var he=W&&W.constructor,Ne=typeof he=="function"&&he.prototype||Se;return W===Ne}function mi(W){return Nt.call(W)}function oi(W){if(W!=null){try{return ke.call(W)}catch{}try{return W+""}catch{}}return""}function _s(W,he){return W===he||W!==W&&he!==he}var ln=Jl(function(){return arguments}())?Jl:function(W){return ts(W)&&Ke.call(W,"callee")&&!Tt.call(W,"callee")},po=Array.isArray;function gl(W){return W!=null&&es(W.length)&&!Lo(W)}var Li=Er||Is;function Ja(W,he){return pa(W,he)}function Lo(W){if(!Va(W))return!1;var he=Xa(W);return he==g||he==v||he==f||he==P}function es(W){return typeof W=="number"&&W>-1&&W%1==0&&W<=s}function Va(W){var he=typeof W;return W!=null&&(he=="object"||he=="function")}function ts(W){return W!=null&&typeof W=="object"}var Ro=Ue?lt(Ue):Oo;function bl(W){return gl(W)?ha(W):eu(W)}function mo(){return[]}function Is(){return!1}e.exports=Ja}(w1,w1.exports)),w1.exports}var ex={},b4;function kH(){if(b4)return ex;b4=1,Object.defineProperty(ex,"__esModule",{value:!0});const e=zI(),n=qI();var t;return function(r){function i(u={},f={},h=!1){typeof u!="object"&&(u={}),typeof f!="object"&&(f={});let m=e(f);h||(m=Object.keys(m).reduce((b,g)=>(m[g]!=null&&(b[g]=m[g]),b),{}));for(const b in u)u[b]!==void 0&&f[b]===void 0&&(m[b]=u[b]);return Object.keys(m).length>0?m:void 0}r.compose=i;function a(u={},f={}){typeof u!="object"&&(u={}),typeof f!="object"&&(f={});const h=Object.keys(u).concat(Object.keys(f)).reduce((m,b)=>(n(u[b],f[b])||(m[b]=f[b]===void 0?null:f[b]),m),{});return Object.keys(h).length>0?h:void 0}r.diff=a;function s(u={},f={}){u=u||{};const h=Object.keys(f).reduce((m,b)=>(f[b]!==u[b]&&u[b]!==void 0&&(m[b]=f[b]),m),{});return Object.keys(u).reduce((m,b)=>(u[b]!==f[b]&&f[b]===void 0&&(m[b]=null),m),h)}r.invert=s;function l(u,f,h=!1){if(typeof u!="object")return f;if(typeof f!="object")return;if(!h)return f;const m=Object.keys(f).reduce((b,g)=>(u[g]===void 0&&(b[g]=f[g]),b),{});return Object.keys(m).length>0?m:void 0}r.transform=l}(t||(t={})),ex.default=t,ex}var tx={},y4;function BI(){if(y4)return tx;y4=1,Object.defineProperty(tx,"__esModule",{value:!0});var e;return function(n){function t(r){return typeof r.delete=="number"?r.delete:typeof r.retain=="number"?r.retain:typeof r.retain=="object"&&r.retain!==null?1:typeof r.insert=="string"?r.insert.length:1}n.length=t}(e||(e={})),tx.default=e,tx}var nx={},x4;function EH(){if(x4)return nx;x4=1,Object.defineProperty(nx,"__esModule",{value:!0});const e=BI();class n{constructor(r){this.ops=r,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(r){r||(r=1/0);const i=this.ops[this.index];if(i){const a=this.offset,s=e.default.length(i);if(r>=s-a?(r=s-a,this.index+=1,this.offset=0):this.offset+=r,typeof i.delete=="number")return{delete:r};{const l={};return i.attributes&&(l.attributes=i.attributes),typeof i.retain=="number"?l.retain=r:typeof i.retain=="object"&&i.retain!==null?l.retain=i.retain:typeof i.insert=="string"?l.insert=i.insert.substr(a,r):l.insert=i.insert,l}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?e.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const r=this.ops[this.index];return r?typeof r.delete=="number"?"delete":typeof r.retain=="number"||typeof r.retain=="object"&&r.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const r=this.offset,i=this.index,a=this.next(),s=this.ops.slice(this.index);return this.offset=r,this.index=i,[a].concat(s)}}else return[]}}return nx.default=n,nx}var v4;function jH(){return v4||(v4=1,function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AttributeMap=n.OpIterator=n.Op=void 0;const t=AH(),r=zI(),i=qI(),a=kH();n.AttributeMap=a.default;const s=BI();n.Op=s.default;const l=EH();n.OpIterator=l.default;const u="\0",f=(m,b)=>{if(typeof m!="object"||m===null)throw new Error(`cannot retain a ${typeof m}`);if(typeof b!="object"||b===null)throw new Error(`cannot retain a ${typeof b}`);const g=Object.keys(m)[0];if(!g||g!==Object.keys(b)[0])throw new Error(`embed types not matched: ${g} != ${Object.keys(b)[0]}`);return[g,m[g],b[g]]};class h{constructor(b){Array.isArray(b)?this.ops=b:b!=null&&Array.isArray(b.ops)?this.ops=b.ops:this.ops=[]}static registerEmbed(b,g){this.handlers[b]=g}static unregisterEmbed(b){delete this.handlers[b]}static getHandler(b){const g=this.handlers[b];if(!g)throw new Error(`no handlers for embed type "${b}"`);return g}insert(b,g){const v={};return typeof b=="string"&&b.length===0?this:(v.insert=b,g!=null&&typeof g=="object"&&Object.keys(g).length>0&&(v.attributes=g),this.push(v))}delete(b){return b<=0?this:this.push({delete:b})}retain(b,g){if(typeof b=="number"&&b<=0)return this;const v={retain:b};return g!=null&&typeof g=="object"&&Object.keys(g).length>0&&(v.attributes=g),this.push(v)}push(b){let g=this.ops.length,v=this.ops[g-1];if(b=r(b),typeof v=="object"){if(typeof b.delete=="number"&&typeof v.delete=="number")return this.ops[g-1]={delete:v.delete+b.delete},this;if(typeof v.delete=="number"&&b.insert!=null&&(g-=1,v=this.ops[g-1],typeof v!="object"))return this.ops.unshift(b),this;if(i(b.attributes,v.attributes)){if(typeof b.insert=="string"&&typeof v.insert=="string")return this.ops[g-1]={insert:v.insert+b.insert},typeof b.attributes=="object"&&(this.ops[g-1].attributes=b.attributes),this;if(typeof b.retain=="number"&&typeof v.retain=="number")return this.ops[g-1]={retain:v.retain+b.retain},typeof b.attributes=="object"&&(this.ops[g-1].attributes=b.attributes),this}}return g===this.ops.length?this.ops.push(b):this.ops.splice(g,0,b),this}chop(){const b=this.ops[this.ops.length-1];return b&&typeof b.retain=="number"&&!b.attributes&&this.ops.pop(),this}filter(b){return this.ops.filter(b)}forEach(b){this.ops.forEach(b)}map(b){return this.ops.map(b)}partition(b){const g=[],v=[];return this.forEach(x=>{(b(x)?g:v).push(x)}),[g,v]}reduce(b,g){return this.ops.reduce(b,g)}changeLength(){return this.reduce((b,g)=>g.insert?b+s.default.length(g):g.delete?b-g.delete:b,0)}length(){return this.reduce((b,g)=>b+s.default.length(g),0)}slice(b=0,g=1/0){const v=[],x=new l.default(this.ops);let C=0;for(;C<g&&x.hasNext();){let S;C<b?S=x.next(b-C):(S=x.next(g-C),v.push(S)),C+=s.default.length(S)}return new h(v)}compose(b){const g=new l.default(this.ops),v=new l.default(b.ops),x=[],C=v.peek();if(C!=null&&typeof C.retain=="number"&&C.attributes==null){let A=C.retain;for(;g.peekType()==="insert"&&g.peekLength()<=A;)A-=g.peekLength(),x.push(g.next());C.retain-A>0&&v.next(C.retain-A)}const S=new h(x);for(;g.hasNext()||v.hasNext();)if(v.peekType()==="insert")S.push(v.next());else if(g.peekType()==="delete")S.push(g.next());else{const A=Math.min(g.peekLength(),v.peekLength()),N=g.next(A),P=v.next(A);if(P.retain){const U={};if(typeof N.retain=="number")U.retain=typeof P.retain=="number"?A:P.retain;else if(typeof P.retain=="number")N.retain==null?U.insert=N.insert:U.retain=N.retain;else{const j=N.retain==null?"insert":"retain",[F,V,X]=f(N[j],P.retain),T=h.getHandler(F);U[j]={[F]:T.compose(V,X,j==="retain")}}const B=a.default.compose(N.attributes,P.attributes,typeof N.retain=="number");if(B&&(U.attributes=B),S.push(U),!v.hasNext()&&i(S.ops[S.ops.length-1],U)){const j=new h(g.rest());return S.concat(j).chop()}}else typeof P.delete=="number"&&(typeof N.retain=="number"||typeof N.retain=="object"&&N.retain!==null)&&S.push(P)}return S.chop()}concat(b){const g=new h(this.ops.slice());return b.ops.length>0&&(g.push(b.ops[0]),g.ops=g.ops.concat(b.ops.slice(1))),g}diff(b,g){if(this.ops===b.ops)return new h;const v=[this,b].map(N=>N.map(P=>{if(P.insert!=null)return typeof P.insert=="string"?P.insert:u;const U=N===b?"on":"with";throw new Error("diff() called "+U+" non-document")}).join("")),x=new h,C=t(v[0],v[1],g,!0),S=new l.default(this.ops),A=new l.default(b.ops);return C.forEach(N=>{let P=N[1].length;for(;P>0;){let U=0;switch(N[0]){case t.INSERT:U=Math.min(A.peekLength(),P),x.push(A.next(U));break;case t.DELETE:U=Math.min(P,S.peekLength()),S.next(U),x.delete(U);break;case t.EQUAL:U=Math.min(S.peekLength(),A.peekLength(),P);const B=S.next(U),j=A.next(U);i(B.insert,j.insert)?x.retain(U,a.default.diff(B.attributes,j.attributes)):x.push(j).delete(U);break}P-=U}}),x.chop()}eachLine(b,g=`
`){const v=new l.default(this.ops);let x=new h,C=0;for(;v.hasNext();){if(v.peekType()!=="insert")return;const S=v.peek(),A=s.default.length(S)-v.peekLength(),N=typeof S.insert=="string"?S.insert.indexOf(g,A)-A:-1;if(N<0)x.push(v.next());else if(N>0)x.push(v.next(N));else{if(b(x,v.next(1).attributes||{},C)===!1)return;C+=1,x=new h}}x.length()>0&&b(x,{},C)}invert(b){const g=new h;return this.reduce((v,x)=>{if(x.insert)g.delete(s.default.length(x));else{if(typeof x.retain=="number"&&x.attributes==null)return g.retain(x.retain),v+x.retain;if(x.delete||typeof x.retain=="number"){const C=x.delete||x.retain;return b.slice(v,v+C).forEach(A=>{x.delete?g.push(A):x.retain&&x.attributes&&g.retain(s.default.length(A),a.default.invert(x.attributes,A.attributes))}),v+C}else if(typeof x.retain=="object"&&x.retain!==null){const C=b.slice(v,v+1),S=new l.default(C.ops).next(),[A,N,P]=f(x.retain,S.insert),U=h.getHandler(A);return g.retain({[A]:U.invert(N,P)},a.default.invert(x.attributes,S.attributes)),v+1}}return v},0),g.chop()}transform(b,g=!1){if(g=!!g,typeof b=="number")return this.transformPosition(b,g);const v=b,x=new l.default(this.ops),C=new l.default(v.ops),S=new h;for(;x.hasNext()||C.hasNext();)if(x.peekType()==="insert"&&(g||C.peekType()!=="insert"))S.retain(s.default.length(x.next()));else if(C.peekType()==="insert")S.push(C.next());else{const A=Math.min(x.peekLength(),C.peekLength()),N=x.next(A),P=C.next(A);if(N.delete)continue;if(P.delete)S.push(P);else{const U=N.retain,B=P.retain;let j=typeof B=="object"&&B!==null?B:A;if(typeof U=="object"&&U!==null&&typeof B=="object"&&B!==null){const F=Object.keys(U)[0];if(F===Object.keys(B)[0]){const V=h.getHandler(F);V&&(j={[F]:V.transform(U[F],B[F],g)})}}S.retain(j,a.default.transform(N.attributes,P.attributes,g))}}return S.chop()}transformPosition(b,g=!1){g=!!g;const v=new l.default(this.ops);let x=0;for(;v.hasNext()&&x<=b;){const C=v.peekLength(),S=v.peekType();if(v.next(),S==="delete"){b-=Math.min(C,b-x);continue}else S==="insert"&&(x<b||!g)&&(b+=C);x+=C}return b}}h.Op=s.default,h.OpIterator=l.default,h.AttributeMap=a.default,h.handlers={},n.default=h,e.exports=h,e.exports.default=h}(Jy,Jy.exports)),Jy.exports}var Bl=jH();const Kt=Ta(Bl);class $u extends cl{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}$u.blotName="break";$u.tagName="BR";let Fu=class extends cv{};const TH={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function s2(e){return e.replace(/[&<>"']/g,n=>TH[n])}const Cc=class Cc extends _C{static compare(n,t){const r=Cc.order.indexOf(n),i=Cc.order.indexOf(t);return r>=0||i>=0?r-i:n===t?0:n<t?-1:1}formatAt(n,t,r,i){if(Cc.compare(this.statics.blotName,r)<0&&this.scroll.query(r,Zt.BLOT)){const a=this.isolate(n,t);i&&a.wrap(r,i)}else super.formatAt(n,t,r,i)}optimize(n){if(super.optimize(n),this.parent instanceof Cc&&Cc.compare(this.statics.blotName,this.parent.statics.blotName)>0){const t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}};_e(Cc,"allowedChildren",[Cc,$u,cl,Fu]),_e(Cc,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let ed=Cc;const w4=1;class ks extends Q1{constructor(){super(...arguments);_e(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=$I(this)),this.cache.delta}deleteAt(t,r){super.deleteAt(t,r),this.cache={}}formatAt(t,r,i,a){r<=0||(this.scroll.query(i,Zt.BLOCK)?t+r===this.length()&&this.format(i,a):super.formatAt(t,Math.min(r,this.length()-t-1),i,a),this.cache={})}insertAt(t,r,i){if(i!=null){super.insertAt(t,r,i),this.cache={};return}if(r.length===0)return;const a=r.split(`
`),s=a.shift();s.length>0&&(t<this.length()-1||this.children.tail==null?super.insertAt(Math.min(t,this.length()-1),s):this.children.tail.insertAt(this.children.tail.length(),s),this.cache={});let l=this;a.reduce((u,f)=>(l=l.split(u,!0),l.insertAt(0,f),f.length),t+s.length)}insertBefore(t,r){const{head:i}=this.children;super.insertBefore(t,r),i instanceof $u&&i.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+w4),this.cache.length}moveChildren(t,r){super.moveChildren(t,r),this.cache={}}optimize(t){super.optimize(t),this.cache={}}path(t){return super.path(t,!0)}removeChild(t){super.removeChild(t),this.cache={}}split(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r&&(t===0||t>=this.length()-w4)){const a=this.clone();return t===0?(this.parent.insertBefore(a,this),this):(this.parent.insertBefore(a,this.next),a)}const i=super.split(t,r);return this.cache={},i}}ks.blotName="block";ks.tagName="P";ks.defaultChild=$u;ks.allowedChildren=[$u,ed,cl,Fu];class ql extends cl{attach(){super.attach(),this.attributes=new i2(this.domNode)}delta(){return new Kt().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(n,t){const r=this.scroll.query(n,Zt.BLOCK_ATTRIBUTE);r!=null&&this.attributes.attribute(r,t)}formatAt(n,t,r,i){this.format(r,i)}insertAt(n,t,r){if(r!=null){super.insertAt(n,t,r);return}const i=t.split(`
`),a=i.pop(),s=i.map(u=>{const f=this.scroll.create(ks.blotName);return f.insertAt(0,u),f}),l=this.split(n);s.forEach(u=>{this.parent.insertBefore(u,l)}),a&&this.parent.insertBefore(this.scroll.create("text",a),l)}}ql.scope=Zt.BLOCK_BLOT;function $I(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.descendants(Vs).reduce((t,r)=>r.length()===0?t:t.insert(r.value(),Ol(r,{},n)),new Kt).insert(`
`,Ol(e))}function Ol(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return e==null||("formats"in e&&typeof e.formats=="function"&&(n={...n,...e.formats()},t&&delete n["code-token"]),e.parent==null||e.parent.statics.blotName==="scroll"||e.parent.statics.scope!==e.statics.scope)?n:Ol(e.parent,n,t)}const _l=class _l extends cl{static value(){}constructor(n,t,r){super(n,t),this.selection=r,this.textNode=document.createTextNode(_l.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(n,t){if(this.savedLength!==0){super.format(n,t);return}let r=this,i=0;for(;r!=null&&r.statics.scope!==Zt.BLOCK_BLOT;)i+=r.offset(r.parent),r=r.parent;r!=null&&(this.savedLength=_l.CONTENTS.length,r.optimize(),r.formatAt(i,_l.CONTENTS.length,n,t),this.savedLength=0)}index(n,t){return n===this.textNode?0:super.index(n,t)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const n=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const t=this.prev instanceof Fu?this.prev:null,r=t?t.length():0,i=this.next instanceof Fu?this.next:null,a=i?i.text:"",{textNode:s}=this,l=s.data.split(_l.CONTENTS).join("");s.data=_l.CONTENTS;let u;if(t)u=t,(l||i)&&(t.insertAt(t.length(),l+a),i&&i.remove());else if(i)u=i,i.insertAt(0,l);else{const f=document.createTextNode(l);u=this.scroll.create(f),this.parent.insertBefore(u,this)}if(this.remove(),n){const f=(b,g)=>t&&b===t.domNode?g:b===s?r+g-1:i&&b===i.domNode?r+l.length+g:null,h=f(n.start.node,n.start.offset),m=f(n.end.node,n.end.offset);if(h!==null&&m!==null)return{startNode:u.domNode,startOffset:h,endNode:u.domNode,endOffset:m}}return null}update(n,t){if(n.some(r=>r.type==="characterData"&&r.target===this.textNode)){const r=this.restore();r&&(t.range=r)}}optimize(n){super.optimize(n);let{parent:t}=this;for(;t;){if(t.domNode.tagName==="A"){this.savedLength=_l.CONTENTS.length,t.isolate(this.offset(t),this.length()).unwrap(),this.savedLength=0;break}t=t.parent}}value(){return""}};_e(_l,"blotName","cursor"),_e(_l,"className","ql-cursor"),_e(_l,"tagName","span"),_e(_l,"CONTENTS","\uFEFF");let wm=_l;var T5={exports:{}},S4;function NH(){return S4||(S4=1,function(e){var n=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(u,f,h){this.fn=u,this.context=f,this.once=h||!1}function a(u,f,h,m,b){if(typeof h!="function")throw new TypeError("The listener must be a function");var g=new i(h,m||u,b),v=t?t+f:f;return u._events[v]?u._events[v].fn?u._events[v]=[u._events[v],g]:u._events[v].push(g):(u._events[v]=g,u._eventsCount++),u}function s(u,f){--u._eventsCount===0?u._events=new r:delete u._events[f]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],h,m;if(this._eventsCount===0)return f;for(m in h=this._events)n.call(h,m)&&f.push(t?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},l.prototype.listeners=function(f){var h=t?t+f:f,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var b=0,g=m.length,v=new Array(g);b<g;b++)v[b]=m[b].fn;return v},l.prototype.listenerCount=function(f){var h=t?t+f:f,m=this._events[h];return m?m.fn?1:m.length:0},l.prototype.emit=function(f,h,m,b,g,v){var x=t?t+f:f;if(!this._events[x])return!1;var C=this._events[x],S=arguments.length,A,N;if(C.fn){switch(C.once&&this.removeListener(f,C.fn,void 0,!0),S){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,h),!0;case 3:return C.fn.call(C.context,h,m),!0;case 4:return C.fn.call(C.context,h,m,b),!0;case 5:return C.fn.call(C.context,h,m,b,g),!0;case 6:return C.fn.call(C.context,h,m,b,g,v),!0}for(N=1,A=new Array(S-1);N<S;N++)A[N-1]=arguments[N];C.fn.apply(C.context,A)}else{var P=C.length,U;for(N=0;N<P;N++)switch(C[N].once&&this.removeListener(f,C[N].fn,void 0,!0),S){case 1:C[N].fn.call(C[N].context);break;case 2:C[N].fn.call(C[N].context,h);break;case 3:C[N].fn.call(C[N].context,h,m);break;case 4:C[N].fn.call(C[N].context,h,m,b);break;default:if(!A)for(U=1,A=new Array(S-1);U<S;U++)A[U-1]=arguments[U];C[N].fn.apply(C[N].context,A)}}return!0},l.prototype.on=function(f,h,m){return a(this,f,h,m,!1)},l.prototype.once=function(f,h,m){return a(this,f,h,m,!0)},l.prototype.removeListener=function(f,h,m,b){var g=t?t+f:f;if(!this._events[g])return this;if(!h)return s(this,g),this;var v=this._events[g];if(v.fn)v.fn===h&&(!b||v.once)&&(!m||v.context===m)&&s(this,g);else{for(var x=0,C=[],S=v.length;x<S;x++)(v[x].fn!==h||b&&!v[x].once||m&&v[x].context!==m)&&C.push(v[x]);C.length?this._events[g]=C.length===1?C[0]:C:s(this,g)}return this},l.prototype.removeAllListeners=function(f){var h;return f?(h=t?t+f:f,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=t,l.EventEmitter=l,e.exports=l}(T5)),T5.exports}var DH=NH();const _H=Ta(DH),e6=new WeakMap,t6=["error","warn","log","info"];let n6="warn";function UI(e){if(n6&&t6.indexOf(e)<=t6.indexOf(n6)){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];console[e](...t)}}function nf(e){return t6.reduce((n,t)=>(n[t]=UI.bind(console,t,e),n),{})}nf.level=e=>{n6=e};UI.level=nf.level;const N5=nf("quill:events"),IH=["selectionchange","mousedown","mouseup","click"];IH.forEach(e=>{document.addEventListener(e,function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach(i=>{const a=e6.get(i);a&&a.emitter&&a.emitter.handleDOM(...t)})})});class Vt extends _H{constructor(){super(),this.domListeners={},this.on("error",N5.error)}emit(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return N5.log.call(N5,...t),super.emit(...t)}handleDOM(n){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];(this.domListeners[n.type]||[]).forEach(a=>{let{node:s,handler:l}=a;(n.target===s||s.contains(n.target))&&l(n,...r)})}listenDOM(n,t,r){this.domListeners[n]||(this.domListeners[n]=[]),this.domListeners[n].push({node:t,handler:r})}}_e(Vt,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),_e(Vt,"sources",{API:"api",SILENT:"silent",USER:"user"});const D5=nf("quill:selection");class Cp{constructor(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=n,this.length=t}}class OH{constructor(n,t){this.emitter=t,this.scroll=n,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new Cp(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,Vt.sources.USER),1)}),this.emitter.on(Vt.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const r=this.getNativeRange();r!=null&&r.start.node!==this.cursor.textNode&&this.emitter.once(Vt.events.SCROLL_UPDATE,(i,a)=>{try{this.root.contains(r.start.node)&&this.root.contains(r.end.node)&&this.setNativeRange(r.start.node,r.start.offset,r.end.node,r.end.offset);const s=a.some(l=>l.type==="characterData"||l.type==="childList"||l.type==="attributes"&&l.target===this.root);this.update(s?Vt.sources.SILENT:i)}catch{}})}),this.emitter.on(Vt.events.SCROLL_OPTIMIZE,(r,i)=>{if(i.range){const{startNode:a,startOffset:s,endNode:l,endOffset:u}=i.range;this.setNativeRange(a,s,l,u),this.update(Vt.sources.SILENT)}}),this.update(Vt.sources.SILENT)}handleComposition(){this.emitter.on(Vt.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(Vt.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const n=this.cursor.restore();if(!n)return;setTimeout(()=>{this.setNativeRange(n.startNode,n.startOffset,n.endNode,n.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(Vt.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(n,t){this.scroll.update();const r=this.getNativeRange();if(!(r==null||!r.native.collapsed||this.scroll.query(n,Zt.BLOCK))){if(r.start.node!==this.cursor.textNode){const i=this.scroll.find(r.start.node,!1);if(i==null)return;if(i instanceof Vs){const a=i.split(r.start.offset);i.parent.insertBefore(this.cursor,a)}else i.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(n,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.scroll.length();n=Math.min(n,r-1),t=Math.min(n+t,r-1)-n;let i,[a,s]=this.scroll.leaf(n);if(a==null)return null;if(t>0&&s===a.length()){const[h]=this.scroll.leaf(n+1);if(h){const[m]=this.scroll.line(n),[b]=this.scroll.line(n+1);m===b&&(a=h,s=0)}}[i,s]=a.position(s,!0);const l=document.createRange();if(t>0)return l.setStart(i,s),[a,s]=this.scroll.leaf(n+t),a==null?null:([i,s]=a.position(s,!0),l.setEnd(i,s),l.getBoundingClientRect());let u="left",f;if(i instanceof Text){if(!i.data.length)return null;s<i.data.length?(l.setStart(i,s),l.setEnd(i,s+1)):(l.setStart(i,s-1),l.setEnd(i,s),u="right"),f=l.getBoundingClientRect()}else{if(!(a.domNode instanceof Element))return null;f=a.domNode.getBoundingClientRect(),s>0&&(u="right")}return{bottom:f.top+f.height,height:f.height,left:f[u],right:f[u],top:f.top,width:0}}getNativeRange(){const n=document.getSelection();if(n==null||n.rangeCount<=0)return null;const t=n.getRangeAt(0);if(t==null)return null;const r=this.normalizeNative(t);return D5.info("getNativeRange",r),r}getRange(){const n=this.scroll.domNode;if("isConnected"in n&&!n.isConnected)return[null,null];const t=this.getNativeRange();return t==null?[null,null]:[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&_5(this.root,document.activeElement)}normalizedToRange(n){const t=[[n.start.node,n.start.offset]];n.native.collapsed||t.push([n.end.node,n.end.offset]);const r=t.map(s=>{const[l,u]=s,f=this.scroll.find(l,!0),h=f.offset(this.scroll);return u===0?h:f instanceof Vs?h+f.index(l,u):h+f.length()}),i=Math.min(Math.max(...r),this.scroll.length()-1),a=Math.min(i,...r);return new Cp(a,i-a)}normalizeNative(n){if(!_5(this.root,n.startContainer)||!n.collapsed&&!_5(this.root,n.endContainer))return null;const t={start:{node:n.startContainer,offset:n.startOffset},end:{node:n.endContainer,offset:n.endOffset},native:n};return[t.start,t.end].forEach(r=>{let{node:i,offset:a}=r;for(;!(i instanceof Text)&&i.childNodes.length>0;)if(i.childNodes.length>a)i=i.childNodes[a],a=0;else if(i.childNodes.length===a)i=i.lastChild,i instanceof Text?a=i.data.length:i.childNodes.length>0?a=i.childNodes.length:a=i.childNodes.length+1;else break;r.node=i,r.offset=a}),t}rangeToNative(n){const t=this.scroll.length(),r=(i,a)=>{i=Math.min(t-1,i);const[s,l]=this.scroll.leaf(i);return s?s.position(l,a):[null,-1]};return[...r(n.index,!1),...r(n.index+n.length,!0)]}setNativeRange(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(D5.info("setNativeRange",n,t,r,i),n!=null&&(this.root.parentNode==null||n.parentNode==null||r.parentNode==null))return;const s=document.getSelection();if(s!=null)if(n!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:l}=this.getNativeRange()||{};if(l==null||a||n!==l.startContainer||t!==l.startOffset||r!==l.endContainer||i!==l.endOffset){n instanceof Element&&n.tagName==="BR"&&(t=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode),r instanceof Element&&r.tagName==="BR"&&(i=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);const u=document.createRange();u.setStart(n,t),u.setEnd(r,i),s.removeAllRanges(),s.addRange(u)}}else s.removeAllRanges(),this.root.blur()}setRange(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Vt.sources.API;if(typeof t=="string"&&(r=t,t=!1),D5.info("setRange",n),n!=null){const i=this.rangeToNative(n);this.setNativeRange(...i,t)}else this.setNativeRange(null);this.update(r)}update(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Vt.sources.USER;const t=this.lastRange,[r,i]=this.getRange();if(this.lastRange=r,this.lastNative=i,this.lastRange!=null&&(this.savedRange=this.lastRange),!Wf(t,this.lastRange)){if(!this.composing&&i!=null&&i.native.collapsed&&i.start.node!==this.cursor.textNode){const s=this.cursor.restore();s&&this.setNativeRange(s.startNode,s.startOffset,s.endNode,s.endOffset)}const a=[Vt.events.SELECTION_CHANGE,Q0(this.lastRange),Q0(t),n];this.emitter.emit(Vt.events.EDITOR_CHANGE,...a),n!==Vt.sources.SILENT&&this.emitter.emit(...a)}}}function _5(e,n){try{n.parentNode}catch{return!1}return e.contains(n)}const MH=/^[ -~]*$/;class LH{constructor(n){this.scroll=n,this.delta=this.getDelta()}applyDelta(n){this.scroll.update();let t=this.scroll.length();this.scroll.batchStart();const r=C4(n),i=new Kt;return PH(r.ops.slice()).reduce((s,l)=>{const u=Bl.Op.length(l);let f=l.attributes||{},h=!1,m=!1;if(l.insert!=null){if(i.retain(u),typeof l.insert=="string"){const v=l.insert;m=!v.endsWith(`
`)&&(t<=s||!!this.scroll.descendant(ql,s)[0]),this.scroll.insertAt(s,v);const[x,C]=this.scroll.line(s);let S=sh({},Ol(x));if(x instanceof ks){const[A]=x.descendant(Vs,C);A&&(S=sh(S,Ol(A)))}f=Bl.AttributeMap.diff(S,f)||{}}else if(typeof l.insert=="object"){const v=Object.keys(l.insert)[0];if(v==null)return s;const x=this.scroll.query(v,Zt.INLINE)!=null;if(x)(t<=s||this.scroll.descendant(ql,s)[0])&&(m=!0);else if(s>0){const[C,S]=this.scroll.descendant(Vs,s-1);C instanceof Fu?C.value()[S]!==`
`&&(h=!0):C instanceof cl&&C.statics.scope===Zt.INLINE_BLOT&&(h=!0)}if(this.scroll.insertAt(s,v,l.insert[v]),x){const[C]=this.scroll.descendant(Vs,s);if(C){const S=sh({},Ol(C));f=Bl.AttributeMap.diff(S,f)||{}}}}t+=u}else if(i.push(l),l.retain!==null&&typeof l.retain=="object"){const v=Object.keys(l.retain)[0];if(v==null)return s;this.scroll.updateEmbedAt(s,v,l.retain[v])}Object.keys(f).forEach(v=>{this.scroll.formatAt(s,u,v,f[v])});const b=h?1:0,g=m?1:0;return t+=b+g,i.retain(b),i.delete(g),s+u+b+g},0),i.reduce((s,l)=>typeof l.delete=="number"?(this.scroll.deleteAt(s,l.delete),s):s+Bl.Op.length(l),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(n,t){return this.scroll.deleteAt(n,t),this.update(new Kt().retain(n).delete(t))}formatLine(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach(a=>{this.scroll.lines(n,Math.max(t,1)).forEach(s=>{s.format(a,r[a])})}),this.scroll.optimize();const i=new Kt().retain(n).retain(t,Q0(r));return this.update(i)}formatText(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(r).forEach(a=>{this.scroll.formatAt(n,t,a,r[a])});const i=new Kt().retain(n).retain(t,Q0(r));return this.update(i)}getContents(n,t){return this.delta.slice(n,n+t)}getDelta(){return this.scroll.lines().reduce((n,t)=>n.concat(t.delta()),new Kt)}getFormat(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=[],i=[];t===0?this.scroll.path(n).forEach(l=>{const[u]=l;u instanceof ks?r.push(u):u instanceof Vs&&i.push(u)}):(r=this.scroll.lines(n,t),i=this.scroll.descendants(Vs,n,t));const[a,s]=[r,i].map(l=>{const u=l.shift();if(u==null)return{};let f=Ol(u);for(;Object.keys(f).length>0;){const h=l.shift();if(h==null)return f;f=RH(Ol(h),f)}return f});return{...a,...s}}getHTML(n,t){const[r,i]=this.scroll.line(n);if(r){const a=r.length();return r.length()>=i+t&&!(i===0&&t===a)?K1(r,i,t,!0):K1(this.scroll,n,t,!0)}return""}getText(n,t){return this.getContents(n,t).filter(r=>typeof r.insert=="string").map(r=>r.insert).join("")}insertContents(n,t){const r=C4(t),i=new Kt().retain(n).concat(r);return this.scroll.insertContents(n,r),this.update(i)}insertEmbed(n,t,r){return this.scroll.insertAt(n,t,r),this.update(new Kt().retain(n).insert({[t]:r}))}insertText(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(n,t),Object.keys(r).forEach(i=>{this.scroll.formatAt(n,t.length,i,r[i])}),this.update(new Kt().retain(n).insert(t,Q0(r)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const n=this.scroll.children.head;if((n==null?void 0:n.statics.blotName)!==ks.blotName)return!1;const t=n;return t.children.length>1?!1:t.children.head instanceof $u}removeFormat(n,t){const r=this.getText(n,t),[i,a]=this.scroll.line(n+t);let s=0,l=new Kt;i!=null&&(s=i.length()-a,l=i.delta().slice(a,a+s-1).insert(`
`));const f=this.getContents(n,t+s).diff(new Kt().insert(r).concat(l)),h=new Kt().retain(n).concat(f);return this.applyDelta(h)}update(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const i=this.delta;if(t.length===1&&t[0].type==="characterData"&&t[0].target.data.match(MH)&&this.scroll.find(t[0].target)){const a=this.scroll.find(t[0].target),s=Ol(a),l=a.offset(this.scroll),u=t[0].oldValue.replace(wm.CONTENTS,""),f=new Kt().insert(u),h=new Kt().insert(a.value()),m=r&&{oldRange:A4(r.oldRange,-l),newRange:A4(r.newRange,-l)};n=new Kt().retain(l).concat(f.diff(h,m)).reduce((g,v)=>v.insert?g.insert(v.insert,s):g.push(v),new Kt),this.delta=i.compose(n)}else this.delta=this.getDelta(),(!n||!Wf(i.compose(n),this.delta))&&(n=i.diff(this.delta,r));return n}}function z0(e,n,t){if(e.length===0){const[g]=I5(t.pop());return n<=0?`</li></${g}>`:`</li></${g}>${z0([],n-1,t)}`}const[{child:r,offset:i,length:a,indent:s,type:l},...u]=e,[f,h]=I5(l);if(s>n)return t.push(l),s===n+1?`<${f}><li${h}>${K1(r,i,a)}${z0(u,s,t)}`:`<${f}><li>${z0(e,n+1,t)}`;const m=t[t.length-1];if(s===n&&l===m)return`</li><li${h}>${K1(r,i,a)}${z0(u,s,t)}`;const[b]=I5(t.pop());return`</li></${b}>${z0(e,n-1,t)}`}function K1(e,n,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in e&&typeof e.html=="function")return e.html(n,t);if(e instanceof Fu)return s2(e.value().slice(n,n+t)).replaceAll(" ","&nbsp;");if(e instanceof Ou){if(e.statics.blotName==="list-container"){const f=[];return e.children.forEachAt(n,t,(h,m,b)=>{const g="formats"in h&&typeof h.formats=="function"?h.formats():{};f.push({child:h,offset:m,length:b,indent:g.indent||0,type:g.list})}),z0(f,-1,[])}const i=[];if(e.children.forEachAt(n,t,(f,h,m)=>{i.push(K1(f,h,m))}),r||e.statics.blotName==="list")return i.join("");const{outerHTML:a,innerHTML:s}=e.domNode,[l,u]=a.split(`>${s}<`);return l==="<table"?`<table style="border: 1px solid #000;">${i.join("")}<${u}`:`${l}>${i.join("")}<${u}`}return e.domNode instanceof Element?e.domNode.outerHTML:""}function RH(e,n){return Object.keys(n).reduce((t,r)=>{if(e[r]==null)return t;const i=n[r];return i===e[r]?t[r]=i:Array.isArray(i)?i.indexOf(e[r])<0?t[r]=i.concat([e[r]]):t[r]=i:t[r]=[i,e[r]],t},{})}function I5(e){const n=e==="ordered"?"ol":"ul";switch(e){case"checked":return[n,' data-list="checked"'];case"unchecked":return[n,' data-list="unchecked"'];default:return[n,""]}}function C4(e){return e.reduce((n,t)=>{if(typeof t.insert=="string"){const r=t.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return n.insert(r,t.attributes)}return n.push(t)},new Kt)}function A4(e,n){let{index:t,length:r}=e;return new Cp(t+n,r)}function PH(e){const n=[];return e.forEach(t=>{typeof t.insert=="string"?t.insert.split(`
`).forEach((i,a)=>{a&&n.push({insert:`
`,attributes:t.attributes}),i&&n.push({insert:i,attributes:t.attributes})}):n.push(t)}),n}class Uu{constructor(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=n,this.options=t}}_e(Uu,"DEFAULTS",{});const rx="\uFEFF";class OC extends cl{constructor(n,t){super(n,t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(r=>{this.contentNode.appendChild(r)}),this.leftGuard=document.createTextNode(rx),this.rightGuard=document.createTextNode(rx),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(n,t){return n===this.leftGuard?0:n===this.rightGuard?1:super.index(n,t)}restore(n){let t=null,r;const i=n.data.split(rx).join("");if(n===this.leftGuard)if(this.prev instanceof Fu){const a=this.prev.length();this.prev.insertAt(a,i),t={startNode:this.prev.domNode,startOffset:a+i.length}}else r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this),t={startNode:r,startOffset:i.length};else n===this.rightGuard&&(this.next instanceof Fu?(this.next.insertAt(0,i),t={startNode:this.next.domNode,startOffset:i.length}):(r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this.next),t={startNode:r,startOffset:i.length}));return n.data=rx,t}update(n,t){n.forEach(r=>{if(r.type==="characterData"&&(r.target===this.leftGuard||r.target===this.rightGuard)){const i=this.restore(r.target);i&&(t.range=i)}})}}class FH{constructor(n,t){_e(this,"isComposing",!1);this.scroll=n,this.emitter=t,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",n=>{this.isComposing||this.handleCompositionStart(n)}),this.scroll.domNode.addEventListener("compositionend",n=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(n)})})}handleCompositionStart(n){const t=n.target instanceof Node?this.scroll.find(n.target,!0):null;t&&!(t instanceof OC)&&(this.emitter.emit(Vt.events.COMPOSITION_BEFORE_START,n),this.scroll.batchStart(),this.emitter.emit(Vt.events.COMPOSITION_START,n),this.isComposing=!0)}handleCompositionEnd(n){this.emitter.emit(Vt.events.COMPOSITION_BEFORE_END,n),this.scroll.batchEnd(),this.emitter.emit(Vt.events.COMPOSITION_END,n),this.isComposing=!1}}const F1=class F1{constructor(n,t){_e(this,"modules",{});this.quill=n,this.options=t}init(){Object.keys(this.options.modules).forEach(n=>{this.modules[n]==null&&this.addModule(n)})}addModule(n){const t=this.quill.constructor.import(`modules/${n}`);return this.modules[n]=new t(this.quill,this.options.modules[n]||{}),this.modules[n]}};_e(F1,"DEFAULTS",{modules:{}}),_e(F1,"themes",{default:F1});let Sm=F1;const zH=e=>e.parentElement||e.getRootNode().host||null,qH=e=>{const n=e.getBoundingClientRect(),t="offsetWidth"in e&&Math.abs(n.width)/e.offsetWidth||1,r="offsetHeight"in e&&Math.abs(n.height)/e.offsetHeight||1;return{top:n.top,right:n.left+e.clientWidth*t,bottom:n.top+e.clientHeight*r,left:n.left}},ix=e=>{const n=parseInt(e,10);return Number.isNaN(n)?0:n},k4=(e,n,t,r,i,a)=>e<t&&n>r?0:e<t?-(t-e+i):n>r?n-e>r-t?e+i-t:n-r+a:0,BH=(e,n)=>{var a,s,l;const t=e.ownerDocument;let r=n,i=e;for(;i;){const u=i===t.body,f=u?{top:0,right:((a=window.visualViewport)==null?void 0:a.width)??t.documentElement.clientWidth,bottom:((s=window.visualViewport)==null?void 0:s.height)??t.documentElement.clientHeight,left:0}:qH(i),h=getComputedStyle(i),m=k4(r.left,r.right,f.left,f.right,ix(h.scrollPaddingLeft),ix(h.scrollPaddingRight)),b=k4(r.top,r.bottom,f.top,f.bottom,ix(h.scrollPaddingTop),ix(h.scrollPaddingBottom));if(m||b)if(u)(l=t.defaultView)==null||l.scrollBy(m,b);else{const{scrollLeft:g,scrollTop:v}=i;b&&(i.scrollTop+=b),m&&(i.scrollLeft+=m);const x=i.scrollLeft-g,C=i.scrollTop-v;r={left:r.left-x,top:r.top-C,right:r.right-x,bottom:r.bottom-C}}i=u||h.position==="fixed"?null:zH(i)}},$H=100,UH=["block","break","cursor","inline","scroll","text"],HH=(e,n,t)=>{const r=new vm;return UH.forEach(i=>{const a=n.query(i);a&&r.register(a)}),e.forEach(i=>{let a=n.query(i);a||t.error(`Cannot register "${i}" specified in "formats" config. Are you sure it was registered?`);let s=0;for(;a;)if(r.register(a),a="blotName"in a?a.requiredContainer??null:null,s+=1,s>$H){t.error(`Cycle detected in registering blot requiredContainer: "${i}"`);break}}),r},X0=nf("quill"),ax=new vm;Ou.uiClass="ql-ui";const Cu=class Cu{static debug(n){n===!0&&(n="log"),nf.level(n)}static find(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return e6.get(n)||ax.find(n,t)}static import(n){return this.imports[n]==null&&X0.error(`Cannot import ${n}. Are you sure it was registered?`),this.imports[n]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const n=arguments.length<=0?void 0:arguments[0],t=!!(!(arguments.length<=1)&&arguments[1]),r="attrName"in n?n.attrName:n.blotName;typeof r=="string"?this.register(`formats/${r}`,n,t):Object.keys(n).forEach(i=>{this.register(i,n[i],t)})}else{const n=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],r=!!(!(arguments.length<=2)&&arguments[2]);this.imports[n]!=null&&!r&&X0.warn(`Overwriting ${n} with`,t),this.imports[n]=t,(n.startsWith("blots/")||n.startsWith("formats/"))&&t&&typeof t!="boolean"&&t.blotName!=="abstract"&&ax.register(t),typeof t.register=="function"&&t.register(ax)}}constructor(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=VH(n,t),this.container=this.options.container,this.container==null){X0.error("Invalid Quill container",n);return}this.options.debug&&Cu.debug(this.options.debug);const r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",e6.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new Vt;const i=IC.blotName,a=this.options.registry.query(i);if(!a||!("blotName"in a))throw new Error(`Cannot initialize Quill without "${i}" blot`);if(this.scroll=new a(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new LH(this.scroll),this.selection=new OH(this.scroll,this.emitter),this.composition=new FH(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(Vt.events.EDITOR_CHANGE,s=>{s===Vt.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(Vt.events.SCROLL_UPDATE,(s,l)=>{const u=this.selection.lastRange,[f]=this.selection.getRange(),h=u&&f?{oldRange:u,newRange:f}:void 0;xu.call(this,()=>this.editor.update(null,l,h),s)}),this.emitter.on(Vt.events.SCROLL_EMBED_UPDATE,(s,l)=>{const u=this.selection.lastRange,[f]=this.selection.getRange(),h=u&&f?{oldRange:u,newRange:f}:void 0;xu.call(this,()=>{const m=new Kt().retain(s.offset(this)).retain({[s.statics.blotName]:l});return this.editor.update(m,[],h)},Cu.sources.USER)}),r){const s=this.clipboard.convert({html:`${r}<p><br></p>`,text:`
`});this.setContents(s)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof n=="string"){const r=n;n=document.createElement("div"),n.classList.add(r)}return this.container.insertBefore(n,t),n}blur(){this.selection.setRange(null)}deleteText(n,t,r){return[n,t,,r]=Ld(n,t,r),xu.call(this,()=>this.editor.deleteText(n,t),r,n,-1*t)}disable(){this.enable(!1)}editReadOnly(n){this.allowReadOnlyEdits=!0;const t=n();return this.allowReadOnlyEdits=!1,t}enable(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(n),this.container.classList.toggle("ql-disabled",!n)}focus(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),n.preventScroll||this.scrollSelectionIntoView()}format(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Vt.sources.API;return xu.call(this,()=>{const i=this.getSelection(!0);let a=new Kt;if(i==null)return a;if(this.scroll.query(n,Zt.BLOCK))a=this.editor.formatLine(i.index,i.length,{[n]:t});else{if(i.length===0)return this.selection.format(n,t),a;a=this.editor.formatText(i.index,i.length,{[n]:t})}return this.setSelection(i,Vt.sources.SILENT),a},r)}formatLine(n,t,r,i,a){let s;return[n,t,s,a]=Ld(n,t,r,i,a),xu.call(this,()=>this.editor.formatLine(n,t,s),a,n,0)}formatText(n,t,r,i,a){let s;return[n,t,s,a]=Ld(n,t,r,i,a),xu.call(this,()=>this.editor.formatText(n,t,s),a,n,0)}getBounds(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=null;if(typeof n=="number"?r=this.selection.getBounds(n,t):r=this.selection.getBounds(n.index,n.length),!r)return null;const i=this.container.getBoundingClientRect();return{bottom:r.bottom-i.top,height:r.height,left:r.left-i.left,right:r.right-i.left,top:r.top-i.top,width:r.width}}getContents(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-n;return[n,t]=Ld(n,t),this.editor.getContents(n,t)}getFormat(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof n=="number"?this.editor.getFormat(n,t):this.editor.getFormat(n.index,n.length)}getIndex(n){return n.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(n){return this.scroll.leaf(n)}getLine(n){return this.scroll.line(n)}getLines(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof n!="number"?this.scroll.lines(n.index,n.length):this.scroll.lines(n,t)}getModule(n){return this.theme.modules[n]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof n=="number"&&(t=t??this.getLength()-n),[n,t]=Ld(n,t),this.editor.getHTML(n,t)}getText(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof n=="number"&&(t=t??this.getLength()-n),[n,t]=Ld(n,t),this.editor.getText(n,t)}hasFocus(){return this.selection.hasFocus()}insertEmbed(n,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Cu.sources.API;return xu.call(this,()=>this.editor.insertEmbed(n,t,r),i,n)}insertText(n,t,r,i,a){let s;return[n,,s,a]=Ld(n,0,r,i,a),xu.call(this,()=>this.editor.insertText(n,t,s),a,n,t.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(n,t,r){return[n,t,,r]=Ld(n,t,r),xu.call(this,()=>this.editor.removeFormat(n,t),r,n)}scrollRectIntoView(n){BH(this.root,n)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const n=this.selection.lastRange,t=n&&this.selection.getBounds(n.index,n.length);t&&this.scrollRectIntoView(t)}setContents(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vt.sources.API;return xu.call(this,()=>{n=new Kt(n);const r=this.getLength(),i=this.editor.deleteText(0,r),a=this.editor.insertContents(0,n),s=this.editor.deleteText(this.getLength()-1,1);return i.compose(a).compose(s)},t)}setSelection(n,t,r){n==null?this.selection.setRange(null,t||Cu.sources.API):([n,t,,r]=Ld(n,t,r),this.selection.setRange(new Cp(Math.max(0,n),t),r),r!==Vt.sources.SILENT&&this.scrollSelectionIntoView())}setText(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vt.sources.API;const r=new Kt().insert(n);return this.setContents(r,t)}update(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Vt.sources.USER;const t=this.scroll.update(n);return this.selection.update(n),t}updateContents(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vt.sources.API;return xu.call(this,()=>(n=new Kt(n),this.editor.applyDelta(n)),t,!0)}};_e(Cu,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:ax,theme:"default"}),_e(Cu,"events",Vt.events),_e(Cu,"sources",Vt.sources),_e(Cu,"version","2.0.3"),_e(Cu,"imports",{delta:Kt,parchment:CH,"core/module":Uu,"core/theme":Sm});let yt=Cu;function E4(e){return typeof e=="string"?document.querySelector(e):e}function O5(e){return Object.entries(e??{}).reduce((n,t)=>{let[r,i]=t;return{...n,[r]:i===!0?{}:i}},{})}function j4(e){return Object.fromEntries(Object.entries(e).filter(n=>n[1]!==void 0))}function VH(e,n){const t=E4(e);if(!t)throw new Error("Invalid Quill container");const i=!n.theme||n.theme===yt.DEFAULTS.theme?Sm:yt.import(`themes/${n.theme}`);if(!i)throw new Error(`Invalid theme ${n.theme}. Did you register it?`);const{modules:a,...s}=yt.DEFAULTS,{modules:l,...u}=i.DEFAULTS;let f=O5(n.modules);f!=null&&f.toolbar&&f.toolbar.constructor!==Object&&(f={...f,toolbar:{container:f.toolbar}});const h=sh({},O5(a),O5(l),f),m={...s,...j4(u),...j4(n)};let b=n.registry;return b?n.formats&&X0.warn('Ignoring "formats" option because "registry" is specified'):b=n.formats?HH(n.formats,m.registry,X0):m.registry,{...m,registry:b,container:t,theme:i,modules:Object.entries(h).reduce((g,v)=>{let[x,C]=v;if(!C)return g;const S=yt.import(`modules/${x}`);return S==null?(X0.error(`Cannot load ${x} module. Are you sure you registered it?`),g):{...g,[x]:sh({},S.DEFAULTS||{},C)}},{}),bounds:E4(m.bounds)}}function xu(e,n,t,r){if(!this.isEnabled()&&n===Vt.sources.USER&&!this.allowReadOnlyEdits)return new Kt;let i=t==null?null:this.getSelection();const a=this.editor.delta,s=e();if(i!=null&&(t===!0&&(t=i.index),r==null?i=T4(i,s,n):r!==0&&(i=T4(i,t,r,n)),this.setSelection(i,Vt.sources.SILENT)),s.length()>0){const l=[Vt.events.TEXT_CHANGE,s,a,n];this.emitter.emit(Vt.events.EDITOR_CHANGE,...l),n!==Vt.sources.SILENT&&this.emitter.emit(...l)}return s}function Ld(e,n,t,r,i){let a={};return typeof e.index=="number"&&typeof e.length=="number"?typeof n!="number"?(i=r,r=t,t=n,n=e.length,e=e.index):(n=e.length,e=e.index):typeof n!="number"&&(i=r,r=t,t=n,n=0),typeof t=="object"?(a=t,i=r):typeof t=="string"&&(r!=null?a[t]=r:i=t),i=i||Vt.sources.API,[e,n,a,i]}function T4(e,n,t,r){const i=typeof t=="number"?t:0;if(e==null)return null;let a,s;return n&&typeof n.transformPosition=="function"?[a,s]=[e.index,e.index+e.length].map(l=>n.transformPosition(l,r!==Vt.sources.USER)):[a,s]=[e.index,e.index+e.length].map(l=>l<n||l===n&&r===Vt.sources.USER?l:i>=0?l+i:Math.max(n,l+i)),new Cp(a,s-a)}class Lp extends a2{}function N4(e){return e instanceof ks||e instanceof ql}function D4(e){return typeof e.updateContent=="function"}class q0 extends IC{constructor(n,t,r){let{emitter:i}=r;super(n,t),this.emitter=i,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",a=>this.handleDragStart(a))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const n=this.batch;this.batch=!1,this.update(n)}emitMount(n){this.emitter.emit(Vt.events.SCROLL_BLOT_MOUNT,n)}emitUnmount(n){this.emitter.emit(Vt.events.SCROLL_BLOT_UNMOUNT,n)}emitEmbedUpdate(n,t){this.emitter.emit(Vt.events.SCROLL_EMBED_UPDATE,n,t)}deleteAt(n,t){const[r,i]=this.line(n),[a]=this.line(n+t);if(super.deleteAt(n,t),a!=null&&r!==a&&i>0){if(r instanceof ql||a instanceof ql){this.optimize();return}const s=a.children.head instanceof $u?null:a.children.head;r.moveChildren(a,s),r.remove()}this.optimize()}enable(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",n?"true":"false")}formatAt(n,t,r,i){super.formatAt(n,t,r,i),this.optimize()}insertAt(n,t,r){if(n>=this.length())if(r==null||this.scroll.query(t,Zt.BLOCK)==null){const i=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(i),r==null&&t.endsWith(`
`)?i.insertAt(0,t.slice(0,-1),r):i.insertAt(0,t,r)}else{const i=this.scroll.create(t,r);this.appendChild(i)}else super.insertAt(n,t,r);this.optimize()}insertBefore(n,t){if(n.statics.scope===Zt.INLINE_BLOT){const r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(n),super.insertBefore(r,t)}else super.insertBefore(n,t)}insertContents(n,t){const r=this.deltaToRenderBlocks(t.concat(new Kt().insert(`
`))),i=r.pop();if(i==null)return;this.batchStart();const a=r.shift();if(a){const u=a.type==="block"&&(a.delta.length()===0||!this.descendant(ql,n)[0]&&n<this.length()),f=a.type==="block"?a.delta:new Kt().insert({[a.key]:a.value});M5(this,n,f);const h=a.type==="block"?1:0,m=n+f.length()+h;u&&this.insertAt(m-1,`
`);const b=Ol(this.line(n)[0]),g=Bl.AttributeMap.diff(b,a.attributes)||{};Object.keys(g).forEach(v=>{this.formatAt(m-1,1,v,g[v])}),n=m}let[s,l]=this.children.find(n);if(r.length&&(s&&(s=s.split(l),l=0),r.forEach(u=>{if(u.type==="block"){const f=this.createBlock(u.attributes,s||void 0);M5(f,0,u.delta)}else{const f=this.create(u.key,u.value);this.insertBefore(f,s||void 0),Object.keys(u.attributes).forEach(h=>{f.format(h,u.attributes[h])})}})),i.type==="block"&&i.delta.length()){const u=s?s.offset(s.scroll)+l:this.length();M5(this,u,i.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(n){const t=this.path(n).pop();if(!t)return[null,-1];const[r,i]=t;return r instanceof Vs?[r,i]:[null,-1]}line(n){return n===this.length()?this.line(n-1):this.descendant(N4,n)}lines(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const r=(i,a,s)=>{let l=[],u=s;return i.children.forEachAt(a,s,(f,h,m)=>{N4(f)?l.push(f):f instanceof a2&&(l=l.concat(r(f,h,u))),u-=m}),l};return r(this,n,t)}optimize(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(n,t),n.length>0&&this.emitter.emit(Vt.events.SCROLL_OPTIMIZE,n,t))}path(n){return super.path(n).slice(1)}remove(){}update(n){if(this.batch){Array.isArray(n)&&(this.batch=this.batch.concat(n));return}let t=Vt.sources.USER;typeof n=="string"&&(t=n),Array.isArray(n)||(n=this.observer.takeRecords()),n=n.filter(r=>{let{target:i}=r;const a=this.find(i,!0);return a&&!D4(a)}),n.length>0&&this.emitter.emit(Vt.events.SCROLL_BEFORE_UPDATE,t,n),super.update(n.concat([])),n.length>0&&this.emitter.emit(Vt.events.SCROLL_UPDATE,t,n)}updateEmbedAt(n,t,r){const[i]=this.descendant(a=>a instanceof ql,n);i&&i.statics.blotName===t&&D4(i)&&i.updateContent(r)}handleDragStart(n){n.preventDefault()}deltaToRenderBlocks(n){const t=[];let r=new Kt;return n.forEach(i=>{const a=i==null?void 0:i.insert;if(a)if(typeof a=="string"){const s=a.split(`
`);s.slice(0,-1).forEach(u=>{r.insert(u,i.attributes),t.push({type:"block",delta:r,attributes:i.attributes??{}}),r=new Kt});const l=s[s.length-1];l&&r.insert(l,i.attributes)}else{const s=Object.keys(a)[0];if(!s)return;this.query(s,Zt.INLINE)?r.push(i):(r.length()&&t.push({type:"block",delta:r,attributes:{}}),r=new Kt,t.push({type:"blockEmbed",key:s,value:a[s],attributes:i.attributes??{}}))}}),r.length()&&t.push({type:"block",delta:r,attributes:{}}),t}createBlock(n,t){let r;const i={};Object.entries(n).forEach(l=>{let[u,f]=l;this.query(u,Zt.BLOCK&Zt.BLOT)!=null?r=u:i[u]=f});const a=this.create(r||this.statics.defaultChild.blotName,r?n[r]:void 0);this.insertBefore(a,t||void 0);const s=a.length();return Object.entries(i).forEach(l=>{let[u,f]=l;a.formatAt(0,s,u,f)}),a}}_e(q0,"blotName","scroll"),_e(q0,"className","ql-editor"),_e(q0,"tagName","DIV"),_e(q0,"defaultChild",ks),_e(q0,"allowedChildren",[ks,ql,Lp]);function M5(e,n,t){t.reduce((r,i)=>{const a=Bl.Op.length(i);let s=i.attributes||{};if(i.insert!=null){if(typeof i.insert=="string"){const l=i.insert;e.insertAt(r,l);const[u]=e.descendant(Vs,r),f=Ol(u);s=Bl.AttributeMap.diff(f,s)||{}}else if(typeof i.insert=="object"){const l=Object.keys(i.insert)[0];if(l==null)return r;if(e.insertAt(r,l,i.insert[l]),e.scroll.query(l,Zt.INLINE)!=null){const[f]=e.descendant(Vs,r),h=Ol(f);s=Bl.AttributeMap.diff(h,s)||{}}}}return Object.keys(s).forEach(l=>{e.formatAt(r,a,l,s[l])}),r+a},n)}const MC={scope:Zt.BLOCK,whitelist:["right","center","justify"]},WH=new Jc("align","align",MC),HI=new Bu("align","ql-align",MC),VI=new Sh("align","text-align",MC);class WI extends Sh{value(n){let t=super.value(n);return t.startsWith("rgb(")?(t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${t.split(",").map(i=>`00${parseInt(i,10).toString(16)}`.slice(-2)).join("")}`):t}}const YH=new Bu("color","ql-color",{scope:Zt.INLINE}),LC=new WI("color","color",{scope:Zt.INLINE}),GH=new Bu("background","ql-bg",{scope:Zt.INLINE}),RC=new WI("background","background-color",{scope:Zt.INLINE});class Rp extends Lp{static create(n){const t=super.create(n);return t.setAttribute("spellcheck","false"),t}code(n,t){return this.children.map(r=>r.length()<=1?"":r.domNode.innerText).join(`
`).slice(n,n+t)}html(n,t){return`<pre>
${s2(this.code(n,t))}
</pre>`}}class Ks extends ks{static register(){yt.register(Rp)}}_e(Ks,"TAB","  ");class PC extends ed{}PC.blotName="code";PC.tagName="CODE";Ks.blotName="code-block";Ks.className="ql-code-block";Ks.tagName="DIV";Rp.blotName="code-block-container";Rp.className="ql-code-block-container";Rp.tagName="DIV";Rp.allowedChildren=[Ks];Ks.allowedChildren=[Fu,$u,wm];Ks.requiredContainer=Rp;const FC={scope:Zt.BLOCK,whitelist:["rtl"]},YI=new Jc("direction","dir",FC),GI=new Bu("direction","ql-direction",FC),QI=new Sh("direction","direction",FC),KI={scope:Zt.INLINE,whitelist:["serif","monospace"]},XI=new Bu("font","ql-font",KI);class QH extends Sh{value(n){return super.value(n).replace(/["']/g,"")}}const ZI=new QH("font","font-family",KI),JI=new Bu("size","ql-size",{scope:Zt.INLINE,whitelist:["small","large","huge"]}),e7=new Sh("size","font-size",{scope:Zt.INLINE,whitelist:["10px","18px","32px"]}),KH=nf("quill:keyboard"),XH=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class o2 extends Uu{static match(n,t){return["altKey","ctrlKey","metaKey","shiftKey"].some(r=>!!t[r]!==n[r]&&t[r]!==null)?!1:t.key===n.key||t.key===n.which}constructor(n,t){super(n,t),this.bindings={},Object.keys(this.options.bindings).forEach(r=>{this.options.bindings[r]&&this.addBinding(this.options.bindings[r])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=JH(n);if(i==null){KH.warn("Attempted to add invalid keyboard binding",i);return}typeof t=="function"&&(t={handler:t}),typeof r=="function"&&(r={handler:r}),(Array.isArray(i.key)?i.key:[i.key]).forEach(s=>{const l={...i,key:s,...t,...r};this.bindings[l.key]=this.bindings[l.key]||[],this.bindings[l.key].push(l)})}listen(){this.quill.root.addEventListener("keydown",n=>{if(n.defaultPrevented||n.isComposing||n.keyCode===229&&(n.key==="Enter"||n.key==="Backspace"))return;const i=(this.bindings[n.key]||[]).concat(this.bindings[n.which]||[]).filter(S=>o2.match(n,S));if(i.length===0)return;const a=yt.find(n.target,!0);if(a&&a.scroll!==this.quill.scroll)return;const s=this.quill.getSelection();if(s==null||!this.quill.hasFocus())return;const[l,u]=this.quill.getLine(s.index),[f,h]=this.quill.getLeaf(s.index),[m,b]=s.length===0?[f,h]:this.quill.getLeaf(s.index+s.length),g=f instanceof cv?f.value().slice(0,h):"",v=m instanceof cv?m.value().slice(b):"",x={collapsed:s.length===0,empty:s.length===0&&l.length()<=1,format:this.quill.getFormat(s),line:l,offset:u,prefix:g,suffix:v,event:n};i.some(S=>{if(S.collapsed!=null&&S.collapsed!==x.collapsed||S.empty!=null&&S.empty!==x.empty||S.offset!=null&&S.offset!==x.offset)return!1;if(Array.isArray(S.format)){if(S.format.every(A=>x.format[A]==null))return!1}else if(typeof S.format=="object"&&!Object.keys(S.format).every(A=>S.format[A]===!0?x.format[A]!=null:S.format[A]===!1?x.format[A]==null:Wf(S.format[A],x.format[A])))return!1;return S.prefix!=null&&!S.prefix.test(x.prefix)||S.suffix!=null&&!S.suffix.test(x.suffix)?!1:S.handler.call(this,s,x,S)!==!0})&&n.preventDefault()})}handleBackspace(n,t){const r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(n.index===0||this.quill.getLength()<=1)return;let i={};const[a]=this.quill.getLine(n.index);let s=new Kt().retain(n.index-r).delete(r);if(t.offset===0){const[l]=this.quill.getLine(n.index-1);if(l&&!(l.statics.blotName==="block"&&l.length()<=1)){const f=a.formats(),h=this.quill.getFormat(n.index-1,1);if(i=Bl.AttributeMap.diff(f,h)||{},Object.keys(i).length>0){const m=new Kt().retain(n.index+a.length()-2).retain(1,i);s=s.compose(m)}}}this.quill.updateContents(s,yt.sources.USER),this.quill.focus()}handleDelete(n,t){const r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(n.index>=this.quill.getLength()-r)return;let i={};const[a]=this.quill.getLine(n.index);let s=new Kt().retain(n.index).delete(r);if(t.offset>=a.length()-1){const[l]=this.quill.getLine(n.index+1);if(l){const u=a.formats(),f=this.quill.getFormat(n.index,1);i=Bl.AttributeMap.diff(u,f)||{},Object.keys(i).length>0&&(s=s.retain(l.length()-1).retain(1,i))}}this.quill.updateContents(s,yt.sources.USER),this.quill.focus()}handleDeleteRange(n){zC({range:n,quill:this.quill}),this.quill.focus()}handleEnter(n,t){const r=Object.keys(t.format).reduce((a,s)=>(this.quill.scroll.query(s,Zt.BLOCK)&&!Array.isArray(t.format[s])&&(a[s]=t.format[s]),a),{}),i=new Kt().retain(n.index).delete(n.length).insert(`
`,r);this.quill.updateContents(i,yt.sources.USER),this.quill.setSelection(n.index+1,yt.sources.SILENT),this.quill.focus()}}const ZH={bindings:{bold:L5("bold"),italic:L5("italic"),underline:L5("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(e,n){return n.collapsed&&n.offset!==0?!0:(this.quill.format("indent","+1",yt.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(e,n){return n.collapsed&&n.offset!==0?!0:(this.quill.format("indent","-1",yt.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(e,n){n.format.indent!=null?this.quill.format("indent","-1",yt.sources.USER):n.format.list!=null&&this.quill.format("list",!1,yt.sources.USER)}},"indent code-block":_4(!0),"outdent code-block":_4(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(e){this.quill.deleteText(e.index-1,1,yt.sources.USER)}},tab:{key:"Tab",handler(e,n){if(n.format.table)return!0;this.quill.history.cutoff();const t=new Kt().retain(e.index).delete(e.length).insert("	");return this.quill.updateContents(t,yt.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,yt.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,yt.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(e,n){const t={list:!1};n.format.indent&&(t.indent=!1),this.quill.formatLine(e.index,e.length,t,yt.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(e){const[n,t]=this.quill.getLine(e.index),r={...n.formats(),list:"checked"},i=new Kt().retain(e.index).insert(`
`,r).retain(n.length()-t-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,yt.sources.USER),this.quill.setSelection(e.index+1,yt.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(e,n){const[t,r]=this.quill.getLine(e.index),i=new Kt().retain(e.index).insert(`
`,n.format).retain(t.length()-r-1).retain(1,{header:null});this.quill.updateContents(i,yt.sources.USER),this.quill.setSelection(e.index+1,yt.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(e){const n=this.quill.getModule("table");if(n){const[t,r,i,a]=n.getTable(e),s=eV(t,r,i,a);if(s==null)return;let l=t.offset();if(s<0){const u=new Kt().retain(l).insert(`
`);this.quill.updateContents(u,yt.sources.USER),this.quill.setSelection(e.index+1,e.length,yt.sources.SILENT)}else if(s>0){l+=t.length();const u=new Kt().retain(l).insert(`
`);this.quill.updateContents(u,yt.sources.USER),this.quill.setSelection(l,yt.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(e,n){const{event:t,line:r}=n,i=r.offset(this.quill.scroll);t.shiftKey?this.quill.setSelection(i-1,yt.sources.USER):this.quill.setSelection(i+r.length(),yt.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(e,n){if(this.quill.scroll.query("list")==null)return!0;const{length:t}=n.prefix,[r,i]=this.quill.getLine(e.index);if(i>t)return!0;let a;switch(n.prefix.trim()){case"[]":case"[ ]":a="unchecked";break;case"[x]":a="checked";break;case"-":case"*":a="bullet";break;default:a="ordered"}this.quill.insertText(e.index," ",yt.sources.USER),this.quill.history.cutoff();const s=new Kt().retain(e.index-i).delete(t+1).retain(r.length()-2-i).retain(1,{list:a});return this.quill.updateContents(s,yt.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-t,yt.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(e){const[n,t]=this.quill.getLine(e.index);let r=2,i=n;for(;i!=null&&i.length()<=1&&i.formats()["code-block"];)if(i=i.prev,r-=1,r<=0){const a=new Kt().retain(e.index+n.length()-t-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(a,yt.sources.USER),this.quill.setSelection(e.index-1,yt.sources.SILENT),!1}return!0}},"embed left":sx("ArrowLeft",!1),"embed left shift":sx("ArrowLeft",!0),"embed right":sx("ArrowRight",!1),"embed right shift":sx("ArrowRight",!0),"table down":I4(!1),"table up":I4(!0)}};o2.DEFAULTS=ZH;function _4(e){return{key:"Tab",shiftKey:!e,format:{"code-block":!0},handler(n,t){let{event:r}=t;const i=this.quill.scroll.query("code-block"),{TAB:a}=i;if(n.length===0&&!r.shiftKey){this.quill.insertText(n.index,a,yt.sources.USER),this.quill.setSelection(n.index+a.length,yt.sources.SILENT);return}const s=n.length===0?this.quill.getLines(n.index,1):this.quill.getLines(n);let{index:l,length:u}=n;s.forEach((f,h)=>{e?(f.insertAt(0,a),h===0?l+=a.length:u+=a.length):f.domNode.textContent.startsWith(a)&&(f.deleteAt(0,a.length),h===0?l-=a.length:u-=a.length)}),this.quill.update(yt.sources.USER),this.quill.setSelection(l,u,yt.sources.SILENT)}}}function sx(e,n){return{key:e,shiftKey:n,altKey:null,[e==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(r){let{index:i}=r;e==="ArrowRight"&&(i+=r.length+1);const[a]=this.quill.getLeaf(i);return a instanceof cl?(e==="ArrowLeft"?n?this.quill.setSelection(r.index-1,r.length+1,yt.sources.USER):this.quill.setSelection(r.index-1,yt.sources.USER):n?this.quill.setSelection(r.index,r.length+1,yt.sources.USER):this.quill.setSelection(r.index+r.length+1,yt.sources.USER),!1):!0}}}function L5(e){return{key:e[0],shortKey:!0,handler(n,t){this.quill.format(e,!t.format[e],yt.sources.USER)}}}function I4(e){return{key:e?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(n,t){const r=e?"prev":"next",i=t.line,a=i.parent[r];if(a!=null){if(a.statics.blotName==="table-row"){let s=a.children.head,l=i;for(;l.prev!=null;)l=l.prev,s=s.next;const u=s.offset(this.quill.scroll)+Math.min(t.offset,s.length()-1);this.quill.setSelection(u,0,yt.sources.USER)}}else{const s=i.table()[r];s!=null&&(e?this.quill.setSelection(s.offset(this.quill.scroll)+s.length()-1,0,yt.sources.USER):this.quill.setSelection(s.offset(this.quill.scroll),0,yt.sources.USER))}return!1}}}function JH(e){if(typeof e=="string"||typeof e=="number")e={key:e};else if(typeof e=="object")e=Q0(e);else return null;return e.shortKey&&(e[XH]=e.shortKey,delete e.shortKey),e}function zC(e){let{quill:n,range:t}=e;const r=n.getLines(t);let i={};if(r.length>1){const a=r[0].formats(),s=r[r.length-1].formats();i=Bl.AttributeMap.diff(s,a)||{}}n.deleteText(t,yt.sources.USER),Object.keys(i).length>0&&n.formatLine(t.index,1,i,yt.sources.USER),n.setSelection(t.index,yt.sources.SILENT)}function eV(e,n,t,r){return n.prev==null&&n.next==null?t.prev==null&&t.next==null?r===0?-1:1:t.prev==null?-1:1:n.prev==null?-1:n.next==null?1:null}const tV=/font-weight:\s*normal/,nV=["P","OL","UL"],O4=e=>e&&nV.includes(e.tagName),rV=e=>{Array.from(e.querySelectorAll("br")).filter(n=>O4(n.previousElementSibling)&&O4(n.nextElementSibling)).forEach(n=>{var t;(t=n.parentNode)==null||t.removeChild(n)})},iV=e=>{Array.from(e.querySelectorAll('b[style*="font-weight"]')).filter(n=>{var t;return(t=n.getAttribute("style"))==null?void 0:t.match(tV)}).forEach(n=>{var r;const t=e.createDocumentFragment();t.append(...n.childNodes),(r=n.parentNode)==null||r.replaceChild(t,n)})};function aV(e){e.querySelector('[id^="docs-internal-guid-"]')&&(iV(e),rV(e))}const sV=/\bmso-list:[^;]*ignore/i,oV=/\bmso-list:[^;]*\bl(\d+)/i,lV=/\bmso-list:[^;]*\blevel(\d+)/i,uV=(e,n)=>{const t=e.getAttribute("style"),r=t==null?void 0:t.match(oV);if(!r)return null;const i=Number(r[1]),a=t==null?void 0:t.match(lV),s=a?Number(a[1]):1,l=new RegExp(`@list l${i}:level${s}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),u=n.match(l),f=u&&u[1]==="bullet"?"bullet":"ordered";return{id:i,indent:s,type:f,element:e}},cV=e=>{var s,l;const n=Array.from(e.querySelectorAll("[style*=mso-list]")),t=[],r=[];n.forEach(u=>{(u.getAttribute("style")||"").match(sV)?t.push(u):r.push(u)}),t.forEach(u=>{var f;return(f=u.parentNode)==null?void 0:f.removeChild(u)});const i=e.documentElement.innerHTML,a=r.map(u=>uV(u,i)).filter(u=>u);for(;a.length;){const u=[];let f=a.shift();for(;f;)u.push(f),f=a.length&&((s=a[0])==null?void 0:s.element)===f.element.nextElementSibling&&a[0].id===f.id?a.shift():null;const h=document.createElement("ul");u.forEach(g=>{const v=document.createElement("li");v.setAttribute("data-list",g.type),g.indent>1&&v.setAttribute("class",`ql-indent-${g.indent-1}`),v.innerHTML=g.element.innerHTML,h.appendChild(v)});const m=(l=u[0])==null?void 0:l.element,{parentNode:b}=m??{};m&&(b==null||b.replaceChild(h,m)),u.slice(1).forEach(g=>{let{element:v}=g;b==null||b.removeChild(v)})}};function dV(e){e.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&cV(e)}const fV=[dV,aV],hV=e=>{e.documentElement&&fV.forEach(n=>{n(e)})},pV=nf("quill:clipboard"),mV=[[Node.TEXT_NODE,jV],[Node.TEXT_NODE,L4],["br",vV],[Node.ELEMENT_NODE,L4],[Node.ELEMENT_NODE,xV],[Node.ELEMENT_NODE,yV],[Node.ELEMENT_NODE,kV],["li",CV],["ol, ul",AV],["pre",wV],["tr",EV],["b",R5("bold")],["i",R5("italic")],["strike",R5("strike")],["style",SV]],gV=[WH,YI].reduce((e,n)=>(e[n.keyName]=n,e),{}),M4=[VI,RC,LC,QI,ZI,e7].reduce((e,n)=>(e[n.keyName]=n,e),{});class t7 extends Uu{constructor(n,t){super(n,t),this.quill.root.addEventListener("copy",r=>this.onCaptureCopy(r,!1)),this.quill.root.addEventListener("cut",r=>this.onCaptureCopy(r,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],mV.concat(this.options.matchers??[]).forEach(r=>{let[i,a]=r;this.addMatcher(i,a)})}addMatcher(n,t){this.matchers.push([n,t])}convert(n){let{html:t,text:r}=n,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i[Ks.blotName])return new Kt().insert(r||"",{[Ks.blotName]:i[Ks.blotName]});if(!t)return new Kt().insert(r||"",i);const a=this.convertHTML(t);return jb(a,`
`)&&(a.ops[a.ops.length-1].attributes==null||i.table)?a.compose(new Kt().retain(a.length()-1).delete(1)):a}normalizeHTML(n){hV(n)}convertHTML(n){const t=new DOMParser().parseFromString(n,"text/html");this.normalizeHTML(t);const r=t.body,i=new WeakMap,[a,s]=this.prepareMatching(r,i);return qC(this.quill.scroll,r,a,s,i)}dangerouslyPasteHTML(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:yt.sources.API;if(typeof n=="string"){const i=this.convert({html:n,text:""});this.quill.setContents(i,t),this.quill.setSelection(0,yt.sources.SILENT)}else{const i=this.convert({html:t,text:""});this.quill.updateContents(new Kt().retain(n).concat(i),r),this.quill.setSelection(n+i.length(),yt.sources.SILENT)}}onCaptureCopy(n){var s,l;let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n.defaultPrevented)return;n.preventDefault();const[r]=this.quill.selection.getRange();if(r==null)return;const{html:i,text:a}=this.onCopy(r,t);(s=n.clipboardData)==null||s.setData("text/plain",a),(l=n.clipboardData)==null||l.setData("text/html",i),t&&zC({range:r,quill:this.quill})}normalizeURIList(n){return n.split(/\r?\n/).filter(t=>t[0]!=="#").join(`
`)}onCapturePaste(n){var s,l,u,f,h;if(n.defaultPrevented||!this.quill.isEnabled())return;n.preventDefault();const t=this.quill.getSelection(!0);if(t==null)return;const r=(s=n.clipboardData)==null?void 0:s.getData("text/html");let i=(l=n.clipboardData)==null?void 0:l.getData("text/plain");if(!r&&!i){const m=(u=n.clipboardData)==null?void 0:u.getData("text/uri-list");m&&(i=this.normalizeURIList(m))}const a=Array.from(((f=n.clipboardData)==null?void 0:f.files)||[]);if(!r&&a.length>0){this.quill.uploader.upload(t,a);return}if(r&&a.length>0){const m=new DOMParser().parseFromString(r,"text/html");if(m.body.childElementCount===1&&((h=m.body.firstElementChild)==null?void 0:h.tagName)==="IMG"){this.quill.uploader.upload(t,a);return}}this.onPaste(t,{html:r,text:i})}onCopy(n){const t=this.quill.getText(n);return{html:this.quill.getSemanticHTML(n),text:t}}onPaste(n,t){let{text:r,html:i}=t;const a=this.quill.getFormat(n.index),s=this.convert({text:r,html:i},a);pV.log("onPaste",s,{text:r,html:i});const l=new Kt().retain(n.index).delete(n.length).concat(s);this.quill.updateContents(l,yt.sources.USER),this.quill.setSelection(l.length()-n.length,yt.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(n,t){const r=[],i=[];return this.matchers.forEach(a=>{const[s,l]=a;switch(s){case Node.TEXT_NODE:i.push(l);break;case Node.ELEMENT_NODE:r.push(l);break;default:Array.from(n.querySelectorAll(s)).forEach(u=>{if(t.has(u)){const f=t.get(u);f==null||f.push(l)}else t.set(u,[l])});break}}),[r,i]}}_e(t7,"DEFAULTS",{matchers:[]});function Pp(e,n,t,r){return r.query(n)?e.reduce((i,a)=>{if(!a.insert)return i;if(a.attributes&&a.attributes[n])return i.push(a);const s=t?{[n]:t}:{};return i.insert(a.insert,{...s,...a.attributes})},new Kt):e}function jb(e,n){let t="";for(let r=e.ops.length-1;r>=0&&t.length<n.length;--r){const i=e.ops[r];if(typeof i.insert!="string")break;t=i.insert+t}return t.slice(-1*n.length)===n}function Qf(e,n){if(!(e instanceof Element))return!1;const t=n.query(e);return t&&t.prototype instanceof cl?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(e.tagName.toLowerCase())}function bV(e,n){return e.previousElementSibling&&e.nextElementSibling&&!Qf(e.previousElementSibling,n)&&!Qf(e.nextElementSibling,n)}const ox=new WeakMap;function n7(e){return e==null?!1:(ox.has(e)||(e.tagName==="PRE"?ox.set(e,!0):ox.set(e,n7(e.parentNode))),ox.get(e))}function qC(e,n,t,r,i){return n.nodeType===n.TEXT_NODE?r.reduce((a,s)=>s(n,a,e),new Kt):n.nodeType===n.ELEMENT_NODE?Array.from(n.childNodes||[]).reduce((a,s)=>{let l=qC(e,s,t,r,i);return s.nodeType===n.ELEMENT_NODE&&(l=t.reduce((u,f)=>f(s,u,e),l),l=(i.get(s)||[]).reduce((u,f)=>f(s,u,e),l)),a.concat(l)},new Kt):new Kt}function R5(e){return(n,t,r)=>Pp(t,e,!0,r)}function yV(e,n,t){const r=Jc.keys(e),i=Bu.keys(e),a=Sh.keys(e),s={};return r.concat(i).concat(a).forEach(l=>{let u=t.query(l,Zt.ATTRIBUTE);u!=null&&(s[u.attrName]=u.value(e),s[u.attrName])||(u=gV[l],u!=null&&(u.attrName===l||u.keyName===l)&&(s[u.attrName]=u.value(e)||void 0),u=M4[l],u!=null&&(u.attrName===l||u.keyName===l)&&(u=M4[l],s[u.attrName]=u.value(e)||void 0))}),Object.entries(s).reduce((l,u)=>{let[f,h]=u;return Pp(l,f,h,t)},n)}function xV(e,n,t){const r=t.query(e);if(r==null)return n;if(r.prototype instanceof cl){const i={},a=r.value(e);if(a!=null)return i[r.blotName]=a,new Kt().insert(i,r.formats(e,t))}else if(r.prototype instanceof Q1&&!jb(n,`
`)&&n.insert(`
`),"blotName"in r&&"formats"in r&&typeof r.formats=="function")return Pp(n,r.blotName,r.formats(e,t),t);return n}function vV(e,n){return jb(n,`
`)||n.insert(`
`),n}function wV(e,n,t){const r=t.query("code-block"),i=r&&"formats"in r&&typeof r.formats=="function"?r.formats(e,t):!0;return Pp(n,"code-block",i,t)}function SV(){return new Kt}function CV(e,n,t){const r=t.query(e);if(r==null||r.blotName!=="list"||!jb(n,`
`))return n;let i=-1,a=e.parentNode;for(;a!=null;)["OL","UL"].includes(a.tagName)&&(i+=1),a=a.parentNode;return i<=0?n:n.reduce((s,l)=>l.insert?l.attributes&&typeof l.attributes.indent=="number"?s.push(l):s.insert(l.insert,{indent:i,...l.attributes||{}}):s,new Kt)}function AV(e,n,t){const r=e;let i=r.tagName==="OL"?"ordered":"bullet";const a=r.getAttribute("data-checked");return a&&(i=a==="true"?"checked":"unchecked"),Pp(n,"list",i,t)}function L4(e,n,t){if(!jb(n,`
`)){if(Qf(e,t)&&(e.childNodes.length>0||e instanceof HTMLParagraphElement))return n.insert(`
`);if(n.length()>0&&e.nextSibling){let r=e.nextSibling;for(;r!=null;){if(Qf(r,t))return n.insert(`
`);const i=t.query(r);if(i&&i.prototype instanceof ql)return n.insert(`
`);r=r.firstChild}}}return n}function kV(e,n,t){var a;const r={},i=e.style||{};return i.fontStyle==="italic"&&(r.italic=!0),i.textDecoration==="underline"&&(r.underline=!0),i.textDecoration==="line-through"&&(r.strike=!0),((a=i.fontWeight)!=null&&a.startsWith("bold")||parseInt(i.fontWeight,10)>=700)&&(r.bold=!0),n=Object.entries(r).reduce((s,l)=>{let[u,f]=l;return Pp(s,u,f,t)},n),parseFloat(i.textIndent||0)>0?new Kt().insert("	").concat(n):n}function EV(e,n,t){var i,a;const r=((i=e.parentElement)==null?void 0:i.tagName)==="TABLE"?e.parentElement:(a=e.parentElement)==null?void 0:a.parentElement;if(r!=null){const l=Array.from(r.querySelectorAll("tr")).indexOf(e)+1;return Pp(n,"table",l,t)}return n}function jV(e,n,t){var i;let r=e.data;if(((i=e.parentElement)==null?void 0:i.tagName)==="O:P")return n.insert(r.trim());if(!n7(e)){if(r.trim().length===0&&r.includes(`
`)&&!bV(e,t))return n;r=r.replace(/[^\S\u00a0]/g," "),r=r.replace(/ {2,}/g," "),(e.previousSibling==null&&e.parentElement!=null&&Qf(e.parentElement,t)||e.previousSibling instanceof Element&&Qf(e.previousSibling,t))&&(r=r.replace(/^ /,"")),(e.nextSibling==null&&e.parentElement!=null&&Qf(e.parentElement,t)||e.nextSibling instanceof Element&&Qf(e.nextSibling,t))&&(r=r.replace(/ $/,"")),r=r.replaceAll(""," ")}return n.insert(r)}class r7 extends Uu{constructor(t,r){super(t,r);_e(this,"lastRecorded",0);_e(this,"ignoreChange",!1);_e(this,"stack",{undo:[],redo:[]});_e(this,"currentRange",null);this.quill.on(yt.events.EDITOR_CHANGE,(i,a,s,l)=>{i===yt.events.SELECTION_CHANGE?a&&l!==yt.sources.SILENT&&(this.currentRange=a):i===yt.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||l===yt.sources.USER?this.record(a,s):this.transform(a)),this.currentRange=r6(this.currentRange,a))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",i=>{i.inputType==="historyUndo"?(this.undo(),i.preventDefault()):i.inputType==="historyRedo"&&(this.redo(),i.preventDefault())})}change(t,r){if(this.stack[t].length===0)return;const i=this.stack[t].pop();if(!i)return;const a=this.quill.getContents(),s=i.delta.invert(a);this.stack[r].push({delta:s,range:r6(i.range,s)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(i.delta,yt.sources.USER),this.ignoreChange=!1,this.restoreSelection(i)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(t,r){if(t.ops.length===0)return;this.stack.redo=[];let i=t.invert(r),a=this.currentRange;const s=Date.now();if(this.lastRecorded+this.options.delay>s&&this.stack.undo.length>0){const l=this.stack.undo.pop();l&&(i=i.compose(l.delta),a=l.range)}else this.lastRecorded=s;i.length()!==0&&(this.stack.undo.push({delta:i,range:a}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(t){R4(this.stack.undo,t),R4(this.stack.redo,t)}undo(){this.change("undo","redo")}restoreSelection(t){if(t.range)this.quill.setSelection(t.range,yt.sources.USER);else{const r=NV(this.quill.scroll,t.delta);this.quill.setSelection(r,yt.sources.USER)}}}_e(r7,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function R4(e,n){let t=n;for(let r=e.length-1;r>=0;r-=1){const i=e[r];e[r]={delta:t.transform(i.delta,!0),range:i.range&&r6(i.range,t)},t=i.delta.transform(t),e[r].delta.length()===0&&e.splice(r,1)}}function TV(e,n){const t=n.ops[n.ops.length-1];return t==null?!1:t.insert!=null?typeof t.insert=="string"&&t.insert.endsWith(`
`):t.attributes!=null?Object.keys(t.attributes).some(r=>e.query(r,Zt.BLOCK)!=null):!1}function NV(e,n){const t=n.reduce((i,a)=>i+(a.delete||0),0);let r=n.length()-t;return TV(e,n)&&(r-=1),r}function r6(e,n){if(!e)return e;const t=n.transformPosition(e.index),r=n.transformPosition(e.index+e.length);return{index:t,length:r-t}}class i7 extends Uu{constructor(n,t){super(n,t),n.root.addEventListener("drop",r=>{var s;r.preventDefault();let i=null;if(document.caretRangeFromPoint)i=document.caretRangeFromPoint(r.clientX,r.clientY);else if(document.caretPositionFromPoint){const l=document.caretPositionFromPoint(r.clientX,r.clientY);i=document.createRange(),i.setStart(l.offsetNode,l.offset),i.setEnd(l.offsetNode,l.offset)}const a=i&&n.selection.normalizeNative(i);if(a){const l=n.selection.normalizedToRange(a);(s=r.dataTransfer)!=null&&s.files&&this.upload(l,r.dataTransfer.files)}})}upload(n,t){const r=[];Array.from(t).forEach(i=>{var a;i&&((a=this.options.mimetypes)!=null&&a.includes(i.type))&&r.push(i)}),r.length>0&&this.options.handler.call(this,n,r)}}i7.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(e,n){if(!this.quill.scroll.query("image"))return;const t=n.map(r=>new Promise(i=>{const a=new FileReader;a.onload=()=>{i(a.result)},a.readAsDataURL(r)}));Promise.all(t).then(r=>{const i=r.reduce((a,s)=>a.insert({image:s}),new Kt().retain(e.index).delete(e.length));this.quill.updateContents(i,Vt.sources.USER),this.quill.setSelection(e.index+r.length,Vt.sources.SILENT)})}};const DV=["insertText","insertReplacementText"];class _V extends Uu{constructor(n,t){super(n,t),n.root.addEventListener("beforeinput",r=>{this.handleBeforeInput(r)}),/Android/i.test(navigator.userAgent)||n.on(yt.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(n){zC({range:n,quill:this.quill})}replaceText(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(n.length===0)return!1;if(t){const r=this.quill.getFormat(n.index,1);this.deleteRange(n),this.quill.updateContents(new Kt().retain(n.index).insert(t,r),yt.sources.USER)}else this.deleteRange(n);return this.quill.setSelection(n.index+t.length,0,yt.sources.SILENT),!0}handleBeforeInput(n){if(this.quill.composition.isComposing||n.defaultPrevented||!DV.includes(n.inputType))return;const t=n.getTargetRanges?n.getTargetRanges()[0]:null;if(!t||t.collapsed===!0)return;const r=IV(n);if(r==null)return;const i=this.quill.selection.normalizeNative(t),a=i?this.quill.selection.normalizedToRange(i):null;a&&this.replaceText(a,r)&&n.preventDefault()}handleCompositionStart(){const n=this.quill.getSelection();n&&this.replaceText(n)}}function IV(e){var n;return typeof e.data=="string"?e.data:(n=e.dataTransfer)!=null&&n.types.includes("text/plain")?e.dataTransfer.getData("text/plain"):null}const OV=/Mac/i.test(navigator.platform),MV=100,LV=e=>!!(e.key==="ArrowLeft"||e.key==="ArrowRight"||e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="Home"||OV&&e.key==="a"&&e.ctrlKey===!0);class RV extends Uu{constructor(t,r){super(t,r);_e(this,"isListening",!1);_e(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(t,r){let{line:i,event:a}=r;if(!(i instanceof Ou)||!i.uiNode)return!0;const s=getComputedStyle(i.domNode).direction==="rtl";return s&&a.key!=="ArrowRight"||!s&&a.key!=="ArrowLeft"?!0:(this.quill.setSelection(t.index-1,t.length+(a.shiftKey?1:0),yt.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",t=>{!t.defaultPrevented&&LV(t)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+MV,this.isListening)return;this.isListening=!0;const t=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",t,{once:!0})}handleSelectionChange(){const t=document.getSelection();if(!t)return;const r=t.getRangeAt(0);if(r.collapsed!==!0||r.startOffset!==0)return;const i=this.quill.scroll.find(r.startContainer);if(!(i instanceof Ou)||!i.uiNode)return;const a=document.createRange();a.setStartAfter(i.uiNode),a.setEndAfter(i.uiNode),t.removeAllRanges(),t.addRange(a)}}yt.register({"blots/block":ks,"blots/block/embed":ql,"blots/break":$u,"blots/container":Lp,"blots/cursor":wm,"blots/embed":OC,"blots/inline":ed,"blots/scroll":q0,"blots/text":Fu,"modules/clipboard":t7,"modules/history":r7,"modules/keyboard":o2,"modules/uploader":i7,"modules/input":_V,"modules/uiNode":RV});class PV extends Bu{add(n,t){let r=0;if(t==="+1"||t==="-1"){const i=this.value(n)||0;r=t==="+1"?i+1:i-1}else typeof t=="number"&&(r=t);return r===0?(this.remove(n),!0):super.add(n,r.toString())}canAdd(n,t){return super.canAdd(n,t)||super.canAdd(n,parseInt(t,10))}value(n){return parseInt(super.value(n),10)||void 0}}const FV=new PV("indent","ql-indent",{scope:Zt.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class i6 extends ks{}_e(i6,"blotName","blockquote"),_e(i6,"tagName","blockquote");class a6 extends ks{static formats(n){return this.tagName.indexOf(n.tagName)+1}}_e(a6,"blotName","header"),_e(a6,"tagName",["H1","H2","H3","H4","H5","H6"]);class Tb extends Lp{}Tb.blotName="list-container";Tb.tagName="OL";class Nb extends ks{static create(n){const t=super.create();return t.setAttribute("data-list",n),t}static formats(n){return n.getAttribute("data-list")||void 0}static register(){yt.register(Tb)}constructor(n,t){super(n,t);const r=t.ownerDocument.createElement("span"),i=a=>{if(!n.isEnabled())return;const s=this.statics.formats(t,n);s==="checked"?(this.format("list","unchecked"),a.preventDefault()):s==="unchecked"&&(this.format("list","checked"),a.preventDefault())};r.addEventListener("mousedown",i),r.addEventListener("touchstart",i),this.attachUI(r)}format(n,t){n===this.statics.blotName&&t?this.domNode.setAttribute("data-list",t):super.format(n,t)}}Nb.blotName="list";Nb.tagName="LI";Tb.allowedChildren=[Nb];Nb.requiredContainer=Tb;class X1 extends ed{static create(){return super.create()}static formats(){return!0}optimize(n){super.optimize(n),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}_e(X1,"blotName","bold"),_e(X1,"tagName",["STRONG","B"]);class s6 extends X1{}_e(s6,"blotName","italic"),_e(s6,"tagName",["EM","I"]);class Kf extends ed{static create(n){const t=super.create(n);return t.setAttribute("href",this.sanitize(n)),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t}static formats(n){return n.getAttribute("href")}static sanitize(n){return a7(n,this.PROTOCOL_WHITELIST)?n:this.SANITIZED_URL}format(n,t){n!==this.statics.blotName||!t?super.format(n,t):this.domNode.setAttribute("href",this.constructor.sanitize(t))}}_e(Kf,"blotName","link"),_e(Kf,"tagName","A"),_e(Kf,"SANITIZED_URL","about:blank"),_e(Kf,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function a7(e,n){const t=document.createElement("a");t.href=e;const r=t.href.slice(0,t.href.indexOf(":"));return n.indexOf(r)>-1}class o6 extends ed{static create(n){return n==="super"?document.createElement("sup"):n==="sub"?document.createElement("sub"):super.create(n)}static formats(n){if(n.tagName==="SUB")return"sub";if(n.tagName==="SUP")return"super"}}_e(o6,"blotName","script"),_e(o6,"tagName",["SUB","SUP"]);class l6 extends X1{}_e(l6,"blotName","strike"),_e(l6,"tagName",["S","STRIKE"]);class u6 extends ed{}_e(u6,"blotName","underline"),_e(u6,"tagName","U");class Ox extends OC{static create(n){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const t=super.create(n);return typeof n=="string"&&(window.katex.render(n,t,{throwOnError:!1,errorColor:"#f00"}),t.setAttribute("data-value",n)),t}static value(n){return n.getAttribute("data-value")}html(){const{formula:n}=this.value();return`<span>${n}</span>`}}_e(Ox,"blotName","formula"),_e(Ox,"className","ql-formula"),_e(Ox,"tagName","SPAN");const P4=["alt","height","width"];var Nx;let zV=(Nx=class extends cl{static create(n){const t=super.create(n);return typeof n=="string"&&t.setAttribute("src",this.sanitize(n)),t}static formats(n){return P4.reduce((t,r)=>(n.hasAttribute(r)&&(t[r]=n.getAttribute(r)),t),{})}static match(n){return/\.(jpe?g|gif|png)$/.test(n)||/^data:image\/.+;base64/.test(n)}static sanitize(n){return a7(n,["http","https","data"])?n:"//:0"}static value(n){return n.getAttribute("src")}format(n,t){P4.indexOf(n)>-1?t?this.domNode.setAttribute(n,t):this.domNode.removeAttribute(n):super.format(n,t)}},_e(Nx,"blotName","image"),_e(Nx,"tagName","IMG"),Nx);const F4=["height","width"];class Mx extends ql{static create(n){const t=super.create(n);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","true"),t.setAttribute("src",this.sanitize(n)),t}static formats(n){return F4.reduce((t,r)=>(n.hasAttribute(r)&&(t[r]=n.getAttribute(r)),t),{})}static sanitize(n){return Kf.sanitize(n)}static value(n){return n.getAttribute("src")}format(n,t){F4.indexOf(n)>-1?t?this.domNode.setAttribute(n,t):this.domNode.removeAttribute(n):super.format(n,t)}html(){const{video:n}=this.value();return`<a href="${n}">${n}</a>`}}_e(Mx,"blotName","video"),_e(Mx,"className","ql-video"),_e(Mx,"tagName","IFRAME");const S1=new Bu("code-token","hljs",{scope:Zt.INLINE});class Qd extends ed{static formats(n,t){for(;n!=null&&n!==t.domNode;){if(n.classList&&n.classList.contains(Ks.className))return super.formats(n,t);n=n.parentNode}}constructor(n,t,r){super(n,t,r),S1.add(this.domNode,r)}format(n,t){n!==Qd.blotName?super.format(n,t):t?S1.add(this.domNode,t):(S1.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),S1.value(this.domNode)||this.unwrap()}}Qd.blotName="code-token";Qd.className="ql-token";class Ml extends Ks{static create(n){const t=super.create(n);return typeof n=="string"&&t.setAttribute("data-language",n),t}static formats(n){return n.getAttribute("data-language")||"plain"}static register(){}format(n,t){n===this.statics.blotName&&t?this.domNode.setAttribute("data-language",t):super.format(n,t)}replaceWith(n,t){return this.formatAt(0,this.length(),Qd.blotName,!1),super.replaceWith(n,t)}}class j1 extends Rp{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(n,t){n===Ml.blotName&&(this.forceNext=!0,this.children.forEach(r=>{r.format(n,t)}))}formatAt(n,t,r,i){r===Ml.blotName&&(this.forceNext=!0),super.formatAt(n,t,r,i)}highlight(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const i=`${Array.from(this.domNode.childNodes).filter(s=>s!==this.uiNode).map(s=>s.textContent).join(`
`)}
`,a=Ml.formats(this.children.head.domNode);if(t||this.forceNext||this.cachedText!==i){if(i.trim().length>0||this.cachedText==null){const s=this.children.reduce((u,f)=>u.concat($I(f,!1)),new Kt),l=n(i,a);s.diff(l).reduce((u,f)=>{let{retain:h,attributes:m}=f;return h?(m&&Object.keys(m).forEach(b=>{[Ml.blotName,Qd.blotName].includes(b)&&this.formatAt(u,h,b,m[b])}),u+h):u},0)}this.cachedText=i,this.forceNext=!1}}html(n,t){const[r]=this.children.find(n);return`<pre data-language="${r?Ml.formats(r.domNode):"plain"}">
${s2(this.code(n,t))}
</pre>`}optimize(n){if(super.optimize(n),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const t=Ml.formats(this.children.head.domNode);t!==this.uiNode.value&&(this.uiNode.value=t)}}}j1.allowedChildren=[Ml];Ml.requiredContainer=j1;Ml.allowedChildren=[Qd,wm,Fu,$u];const qV=(e,n,t)=>{if(typeof e.versionString=="string"){const r=e.versionString.split(".")[0];if(parseInt(r,10)>=11)return e.highlight(t,{language:n}).value}return e.highlight(n,t).value};class s7 extends Uu{static register(){yt.register(Qd,!0),yt.register(Ml,!0),yt.register(j1,!0)}constructor(n,t){if(super(n,t),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((r,i)=>{let{key:a}=i;return r[a]=!0,r},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(yt.events.SCROLL_BLOT_MOUNT,n=>{if(!(n instanceof j1))return;const t=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(r=>{let{key:i,label:a}=r;const s=t.ownerDocument.createElement("option");s.textContent=a,s.setAttribute("value",i),t.appendChild(s)}),t.addEventListener("change",()=>{n.format(Ml.blotName,t.value),this.quill.root.focus(),this.highlight(n,!0)}),n.uiNode==null&&(n.attachUI(t),n.children.head&&(t.value=Ml.formats(n.children.head.domNode)))})}initTimer(){let n=null;this.quill.on(yt.events.SCROLL_OPTIMIZE,()=>{n&&clearTimeout(n),n=setTimeout(()=>{this.highlight(),n=null},this.options.interval)})}highlight(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(yt.sources.USER);const r=this.quill.getSelection();(n==null?this.quill.scroll.descendants(j1):[n]).forEach(a=>{a.highlight(this.highlightBlot,t)}),this.quill.update(yt.sources.SILENT),r!=null&&this.quill.setSelection(r,yt.sources.SILENT)}highlightBlot(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(t=this.languages[t]?t:"plain",t==="plain")return s2(n).split(`
`).reduce((i,a,s)=>(s!==0&&i.insert(`
`,{[Ks.blotName]:t}),i.insert(a)),new Kt);const r=this.quill.root.ownerDocument.createElement("div");return r.classList.add(Ks.className),r.innerHTML=qV(this.options.hljs,t,n),qC(this.quill.scroll,r,[(i,a)=>{const s=S1.value(i);return s?a.compose(new Kt().retain(a.length(),{[Qd.blotName]:s})):a}],[(i,a)=>i.data.split(`
`).reduce((s,l,u)=>(u!==0&&s.insert(`
`,{[Ks.blotName]:t}),s.insert(l)),a)],new WeakMap)}}s7.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const z1=class z1 extends ks{static create(n){const t=super.create();return n?t.setAttribute("data-row",n):t.setAttribute("data-row",BC()),t}static formats(n){if(n.hasAttribute("data-row"))return n.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(n,t){n===z1.blotName&&t?this.domNode.setAttribute("data-row",t):super.format(n,t)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};_e(z1,"blotName","table"),_e(z1,"tagName","TD");let _u=z1;class Kd extends Lp{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const n=this.children.head.formats(),t=this.children.tail.formats(),r=this.next.children.head.formats(),i=this.next.children.tail.formats();return n.table===t.table&&n.table===r.table&&n.table===i.table}return!1}optimize(n){super.optimize(n),this.children.forEach(t=>{if(t.next==null)return;const r=t.formats(),i=t.next.formats();if(r.table!==i.table){const a=this.splitAfter(t);a&&a.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}_e(Kd,"blotName","table-row"),_e(Kd,"tagName","TR");class Bc extends Lp{}_e(Bc,"blotName","table-body"),_e(Bc,"tagName","TBODY");class Cm extends Lp{balanceCells(){const n=this.descendants(Kd),t=n.reduce((r,i)=>Math.max(i.children.length,r),0);n.forEach(r=>{new Array(t-r.children.length).fill(0).forEach(()=>{let i;r.children.head!=null&&(i=_u.formats(r.children.head.domNode));const a=this.scroll.create(_u.blotName,i);r.appendChild(a),a.optimize()})})}cells(n){return this.rows().map(t=>t.children.at(n))}deleteColumn(n){const[t]=this.descendant(Bc);t==null||t.children.head==null||t.children.forEach(r=>{const i=r.children.at(n);i!=null&&i.remove()})}insertColumn(n){const[t]=this.descendant(Bc);t==null||t.children.head==null||t.children.forEach(r=>{const i=r.children.at(n),a=_u.formats(r.children.head.domNode),s=this.scroll.create(_u.blotName,a);r.insertBefore(s,i)})}insertRow(n){const[t]=this.descendant(Bc);if(t==null||t.children.head==null)return;const r=BC(),i=this.scroll.create(Kd.blotName);t.children.head.children.forEach(()=>{const s=this.scroll.create(_u.blotName,r);i.appendChild(s)});const a=t.children.at(n);t.insertBefore(i,a)}rows(){const n=this.children.head;return n==null?[]:n.children.map(t=>t)}}_e(Cm,"blotName","table-container"),_e(Cm,"tagName","TABLE");Cm.allowedChildren=[Bc];Bc.requiredContainer=Cm;Bc.allowedChildren=[Kd];Kd.requiredContainer=Bc;Kd.allowedChildren=[_u];_u.requiredContainer=Kd;function BC(){return`row-${Math.random().toString(36).slice(2,6)}`}class BV extends Uu{static register(){yt.register(_u),yt.register(Kd),yt.register(Bc),yt.register(Cm)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(Cm).forEach(n=>{n.balanceCells()})}deleteColumn(){const[n,,t]=this.getTable();t!=null&&(n.deleteColumn(t.cellOffset()),this.quill.update(yt.sources.USER))}deleteRow(){const[,n]=this.getTable();n!=null&&(n.remove(),this.quill.update(yt.sources.USER))}deleteTable(){const[n]=this.getTable();if(n==null)return;const t=n.offset();n.remove(),this.quill.update(yt.sources.USER),this.quill.setSelection(t,yt.sources.SILENT)}getTable(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(n==null)return[null,null,null,-1];const[t,r]=this.quill.getLine(n.index);if(t==null||t.statics.blotName!==_u.blotName)return[null,null,null,-1];const i=t.parent;return[i.parent.parent,i,t,r]}insertColumn(n){const t=this.quill.getSelection();if(!t)return;const[r,i,a]=this.getTable(t);if(a==null)return;const s=a.cellOffset();r.insertColumn(s+n),this.quill.update(yt.sources.USER);let l=i.rowOffset();n===0&&(l+=1),this.quill.setSelection(t.index+l,t.length,yt.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(n){const t=this.quill.getSelection();if(!t)return;const[r,i,a]=this.getTable(t);if(a==null)return;const s=i.rowOffset();r.insertRow(s+n),this.quill.update(yt.sources.USER),n>0?this.quill.setSelection(t,yt.sources.SILENT):this.quill.setSelection(t.index+i.children.length,t.length,yt.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(n,t){const r=this.quill.getSelection();if(r==null)return;const i=new Array(n).fill(0).reduce(a=>{const s=new Array(t).fill(`
`).join("");return a.insert(s,{table:BC()})},new Kt().retain(r.index));this.quill.updateContents(i,yt.sources.USER),this.quill.setSelection(r.index,yt.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(yt.events.SCROLL_OPTIMIZE,n=>{n.some(t=>["TD","TR","TBODY","TABLE"].includes(t.target.tagName)?(this.quill.once(yt.events.TEXT_CHANGE,(r,i,a)=>{a===yt.sources.USER&&this.balanceTables()}),!0):!1)})}}const z4=nf("quill:toolbar");class $C extends Uu{constructor(n,t){var r,i;if(super(n,t),Array.isArray(this.options.container)){const a=document.createElement("div");a.setAttribute("role","toolbar"),$V(a,this.options.container),(i=(r=n.container)==null?void 0:r.parentNode)==null||i.insertBefore(a,n.container),this.container=a}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){z4.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(a=>{var l;const s=(l=this.options.handlers)==null?void 0:l[a];s&&this.addHandler(a,s)}),Array.from(this.container.querySelectorAll("button, select")).forEach(a=>{this.attach(a)}),this.quill.on(yt.events.EDITOR_CHANGE,()=>{const[a]=this.quill.selection.getRange();this.update(a)})}addHandler(n,t){this.handlers[n]=t}attach(n){let t=Array.from(n.classList).find(i=>i.indexOf("ql-")===0);if(!t)return;if(t=t.slice(3),n.tagName==="BUTTON"&&n.setAttribute("type","button"),this.handlers[t]==null&&this.quill.scroll.query(t)==null){z4.warn("ignoring attaching to nonexistent format",t,n);return}const r=n.tagName==="SELECT"?"change":"click";n.addEventListener(r,i=>{let a;if(n.tagName==="SELECT"){if(n.selectedIndex<0)return;const l=n.options[n.selectedIndex];l.hasAttribute("selected")?a=!1:a=l.value||!1}else n.classList.contains("ql-active")?a=!1:a=n.value||!n.hasAttribute("value"),i.preventDefault();this.quill.focus();const[s]=this.quill.selection.getRange();if(this.handlers[t]!=null)this.handlers[t].call(this,a);else if(this.quill.scroll.query(t).prototype instanceof cl){if(a=prompt(`Enter ${t}`),!a)return;this.quill.updateContents(new Kt().retain(s.index).delete(s.length).insert({[t]:a}),yt.sources.USER)}else this.quill.format(t,a,yt.sources.USER);this.update(s)}),this.controls.push([t,n])}update(n){const t=n==null?{}:this.quill.getFormat(n);this.controls.forEach(r=>{const[i,a]=r;if(a.tagName==="SELECT"){let s=null;if(n==null)s=null;else if(t[i]==null)s=a.querySelector("option[selected]");else if(!Array.isArray(t[i])){let l=t[i];typeof l=="string"&&(l=l.replace(/"/g,'\\"')),s=a.querySelector(`option[value="${l}"]`)}s==null?(a.value="",a.selectedIndex=-1):s.selected=!0}else if(n==null)a.classList.remove("ql-active"),a.setAttribute("aria-pressed","false");else if(a.hasAttribute("value")){const s=t[i],l=s===a.getAttribute("value")||s!=null&&s.toString()===a.getAttribute("value")||s==null&&!a.getAttribute("value");a.classList.toggle("ql-active",l),a.setAttribute("aria-pressed",l.toString())}else{const s=t[i]!=null;a.classList.toggle("ql-active",s),a.setAttribute("aria-pressed",s.toString())}})}}$C.DEFAULTS={};function q4(e,n,t){const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${n}`),r.setAttribute("aria-pressed","false"),t!=null?(r.value=t,r.setAttribute("aria-label",`${n}: ${t}`)):r.setAttribute("aria-label",n),e.appendChild(r)}function $V(e,n){Array.isArray(n[0])||(n=[n]),n.forEach(t=>{const r=document.createElement("span");r.classList.add("ql-formats"),t.forEach(i=>{if(typeof i=="string")q4(r,i);else{const a=Object.keys(i)[0],s=i[a];Array.isArray(s)?UV(r,a,s):q4(r,a,s)}}),e.appendChild(r)})}function UV(e,n,t){const r=document.createElement("select");r.classList.add(`ql-${n}`),t.forEach(i=>{const a=document.createElement("option");i!==!1?a.setAttribute("value",String(i)):a.setAttribute("selected","selected"),r.appendChild(a)}),e.appendChild(r)}$C.DEFAULTS={container:null,handlers:{clean(){const e=this.quill.getSelection();if(e!=null)if(e.length===0){const n=this.quill.getFormat();Object.keys(n).forEach(t=>{this.quill.scroll.query(t,Zt.INLINE)!=null&&this.quill.format(t,!1,yt.sources.USER)})}else this.quill.removeFormat(e.index,e.length,yt.sources.USER)},direction(e){const{align:n}=this.quill.getFormat();e==="rtl"&&n==null?this.quill.format("align","right",yt.sources.USER):!e&&n==="right"&&this.quill.format("align",!1,yt.sources.USER),this.quill.format("direction",e,yt.sources.USER)},indent(e){const n=this.quill.getSelection(),t=this.quill.getFormat(n),r=parseInt(t.indent||0,10);if(e==="+1"||e==="-1"){let i=e==="+1"?1:-1;t.direction==="rtl"&&(i*=-1),this.quill.format("indent",r+i,yt.sources.USER)}},link(e){e===!0&&(e=prompt("Enter link URL:")),this.quill.format("link",e,yt.sources.USER)},list(e){const n=this.quill.getSelection(),t=this.quill.getFormat(n);e==="check"?t.list==="checked"||t.list==="unchecked"?this.quill.format("list",!1,yt.sources.USER):this.quill.format("list","unchecked",yt.sources.USER):this.quill.format("list",e,yt.sources.USER)}}};const HV='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',VV='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',WV='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',YV='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',GV='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',QV='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',KV='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',XV='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',B4='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',ZV='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',JV='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',eW='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',tW='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',nW='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',rW='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',iW='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',aW='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',sW='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',oW='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',lW='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',uW='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',cW='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',dW='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',fW='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',hW='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',pW='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',mW='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',gW='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',bW='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',yW='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',xW='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',vW='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',wW='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',Z1={align:{"":HV,center:VV,right:WV,justify:YV},background:GV,blockquote:QV,bold:KV,clean:XV,code:B4,"code-block":B4,color:ZV,direction:{"":JV,rtl:eW},formula:tW,header:{1:nW,2:rW,3:iW,4:aW,5:sW,6:oW},italic:lW,image:uW,indent:{"+1":cW,"-1":dW},link:fW,list:{bullet:hW,check:pW,ordered:mW},script:{sub:gW,super:bW},strike:yW,table:xW,underline:vW,video:wW},SW='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let $4=0;function U4(e,n){e.setAttribute(n,`${e.getAttribute(n)!=="true"}`)}class l2{constructor(n){this.select=n,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",t=>{switch(t.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),t.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),U4(this.label,"aria-expanded"),U4(this.options,"aria-hidden")}buildItem(n){const t=document.createElement("span");t.tabIndex="0",t.setAttribute("role","button"),t.classList.add("ql-picker-item");const r=n.getAttribute("value");return r&&t.setAttribute("data-value",r),n.textContent&&t.setAttribute("data-label",n.textContent),t.addEventListener("click",()=>{this.selectItem(t,!0)}),t.addEventListener("keydown",i=>{switch(i.key){case"Enter":this.selectItem(t,!0),i.preventDefault();break;case"Escape":this.escape(),i.preventDefault();break}}),t}buildLabel(){const n=document.createElement("span");return n.classList.add("ql-picker-label"),n.innerHTML=SW,n.tabIndex="0",n.setAttribute("role","button"),n.setAttribute("aria-expanded","false"),this.container.appendChild(n),n}buildOptions(){const n=document.createElement("span");n.classList.add("ql-picker-options"),n.setAttribute("aria-hidden","true"),n.tabIndex="-1",n.id=`ql-picker-options-${$4}`,$4+=1,this.label.setAttribute("aria-controls",n.id),this.options=n,Array.from(this.select.options).forEach(t=>{const r=this.buildItem(t);n.appendChild(r),t.selected===!0&&this.selectItem(r)}),this.container.appendChild(n)}buildPicker(){Array.from(this.select.attributes).forEach(n=>{this.container.setAttribute(n.name,n.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.container.querySelector(".ql-selected");n!==r&&(r!=null&&r.classList.remove("ql-selected"),n!=null&&(n.classList.add("ql-selected"),this.select.selectedIndex=Array.from(n.parentNode.children).indexOf(n),n.hasAttribute("data-value")?this.label.setAttribute("data-value",n.getAttribute("data-value")):this.label.removeAttribute("data-value"),n.hasAttribute("data-label")?this.label.setAttribute("data-label",n.getAttribute("data-label")):this.label.removeAttribute("data-label"),t&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let n;if(this.select.selectedIndex>-1){const r=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];n=this.select.options[this.select.selectedIndex],this.selectItem(r)}else this.selectItem(null);const t=n!=null&&n!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",t)}}class o7 extends l2{constructor(n,t){super(n),this.label.innerHTML=t,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(r=>{r.classList.add("ql-primary")})}buildItem(n){const t=super.buildItem(n);return t.style.backgroundColor=n.getAttribute("value")||"",t}selectItem(n,t){super.selectItem(n,t);const r=this.label.querySelector(".ql-color-label"),i=n&&n.getAttribute("data-value")||"";r&&(r.tagName==="line"?r.style.stroke=i:r.style.fill=i)}}class l7 extends l2{constructor(n,t){super(n),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(r=>{r.innerHTML=t[r.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(n,t){super.selectItem(n,t);const r=n||this.defaultItem;if(r!=null){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}}const CW=e=>{const{overflowY:n}=getComputedStyle(e,null);return n!=="visible"&&n!=="clip"};class u7{constructor(n,t){this.quill=n,this.boundsContainer=t||document.body,this.root=n.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,CW(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(n){const t=n.left+n.width/2-this.root.offsetWidth/2,r=n.bottom+this.quill.root.scrollTop;this.root.style.left=`${t}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");const i=this.boundsContainer.getBoundingClientRect(),a=this.root.getBoundingClientRect();let s=0;if(a.right>i.right&&(s=i.right-a.right,this.root.style.left=`${t+s}px`),a.left<i.left&&(s=i.left-a.left,this.root.style.left=`${t+s}px`),a.bottom>i.bottom){const l=a.bottom-a.top,u=n.bottom-n.top+l;this.root.style.top=`${r-u}px`,this.root.classList.add("ql-flip")}return s}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const AW=[!1,"center","right","justify"],kW=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],EW=[!1,"serif","monospace"],jW=["1","2","3",!1],TW=["small",!1,"large","huge"];class Db extends Sm{constructor(n,t){super(n,t);const r=i=>{if(!document.body.contains(n.root)){document.body.removeEventListener("click",r);return}this.tooltip!=null&&!this.tooltip.root.contains(i.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(a=>{a.container.contains(i.target)||a.close()})};n.emitter.listenDOM("click",document.body,r)}addModule(n){const t=super.addModule(n);return n==="toolbar"&&this.extendToolbar(t),t}buildButtons(n,t){Array.from(n).forEach(r=>{(r.getAttribute("class")||"").split(/\s+/).forEach(a=>{if(a.startsWith("ql-")&&(a=a.slice(3),t[a]!=null))if(a==="direction")r.innerHTML=t[a][""]+t[a].rtl;else if(typeof t[a]=="string")r.innerHTML=t[a];else{const s=r.value||"";s!=null&&t[a][s]&&(r.innerHTML=t[a][s])}})})}buildPickers(n,t){this.pickers=Array.from(n).map(i=>{if(i.classList.contains("ql-align")&&(i.querySelector("option")==null&&zg(i,AW),typeof t.align=="object"))return new l7(i,t.align);if(i.classList.contains("ql-background")||i.classList.contains("ql-color")){const a=i.classList.contains("ql-background")?"background":"color";return i.querySelector("option")==null&&zg(i,kW,a==="background"?"#ffffff":"#000000"),new o7(i,t[a])}return i.querySelector("option")==null&&(i.classList.contains("ql-font")?zg(i,EW):i.classList.contains("ql-header")?zg(i,jW):i.classList.contains("ql-size")&&zg(i,TW)),new l2(i)});const r=()=>{this.pickers.forEach(i=>{i.update()})};this.quill.on(Vt.events.EDITOR_CHANGE,r)}}Db.DEFAULTS=sh({},Sm.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let e=this.container.querySelector("input.ql-image[type=file]");e==null&&(e=document.createElement("input"),e.setAttribute("type","file"),e.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),e.classList.add("ql-image"),e.addEventListener("change",()=>{const n=this.quill.getSelection(!0);this.quill.uploader.upload(n,e.files),e.value=""}),this.container.appendChild(e)),e.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class c7 extends u7{constructor(n,t){super(n,t),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",n=>{n.key==="Enter"?(this.save(),n.preventDefault()):n.key==="Escape"&&(this.cancel(),n.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;t!=null?this.textbox.value=t:n!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const r=this.quill.getBounds(this.quill.selection.savedRange);r!=null&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${n}`)||""),this.root.setAttribute("data-mode",n)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:n}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:t}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",n,Vt.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",n,Vt.sources.USER)),this.quill.root.scrollTop=t;break}case"video":n=NW(n);case"formula":{if(!n)break;const t=this.quill.getSelection(!0);if(t!=null){const r=t.index+t.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),n,Vt.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(r+1," ",Vt.sources.USER),this.quill.setSelection(r+2,Vt.sources.USER)}break}}this.textbox.value="",this.hide()}}function NW(e){let n=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return n?`${n[1]||"https"}://www.youtube.com/embed/${n[2]}?showinfo=0`:(n=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${n[1]||"https"}://player.vimeo.com/video/${n[2]}/`:e}function zg(e,n){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;n.forEach(r=>{const i=document.createElement("option");r===t?i.setAttribute("selected","selected"):i.setAttribute("value",String(r)),e.appendChild(i)})}const DW=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class d7 extends c7{constructor(n,t){super(n,t),this.quill.on(Vt.events.EDITOR_CHANGE,(r,i,a,s)=>{if(r===Vt.events.SELECTION_CHANGE)if(i!=null&&i.length>0&&s===Vt.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const l=this.quill.getLines(i.index,i.length);if(l.length===1){const u=this.quill.getBounds(i);u!=null&&this.position(u)}else{const u=l[l.length-1],f=this.quill.getIndex(u),h=Math.min(u.length()-1,i.index+i.length-f),m=this.quill.getBounds(new Cp(f,h));m!=null&&this.position(m)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(Vt.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const n=this.quill.getSelection();if(n!=null){const t=this.quill.getBounds(n);t!=null&&this.position(t)}},1)})}cancel(){this.show()}position(n){const t=super.position(n),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",t!==0&&(r.style.marginLeft=`${-1*t-r.offsetWidth/2}px`),t}}_e(d7,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class f7 extends Db{constructor(n,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=DW),super(n,t),this.quill.container.classList.add("ql-bubble")}extendToolbar(n){this.tooltip=new d7(this.quill,this.options.bounds),n.container!=null&&(this.tooltip.root.appendChild(n.container),this.buildButtons(n.container.querySelectorAll("button"),Z1),this.buildPickers(n.container.querySelectorAll("select"),Z1))}}f7.DEFAULTS=sh({},Db.DEFAULTS,{modules:{toolbar:{handlers:{link(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1,yt.sources.USER)}}}}});const _W=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class h7 extends c7{constructor(){super(...arguments);_e(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",t=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",t=>{if(this.linkRange!=null){const r=this.linkRange;this.restoreFocus(),this.quill.formatText(r,"link",!1,Vt.sources.USER),delete this.linkRange}t.preventDefault(),this.hide()}),this.quill.on(Vt.events.SELECTION_CHANGE,(t,r,i)=>{if(t!=null){if(t.length===0&&i===Vt.sources.USER){const[a,s]=this.quill.scroll.descendant(Kf,t.index);if(a!=null){this.linkRange=new Cp(t.index-s,a.length());const l=Kf.formats(a.domNode);this.preview.textContent=l,this.preview.setAttribute("href",l),this.show();const u=this.quill.getBounds(this.linkRange);u!=null&&this.position(u);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}_e(h7,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class p7 extends Db{constructor(n,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=_W),super(n,t),this.quill.container.classList.add("ql-snow")}extendToolbar(n){n.container!=null&&(n.container.classList.add("ql-snow"),this.buildButtons(n.container.querySelectorAll("button"),Z1),this.buildPickers(n.container.querySelectorAll("select"),Z1),this.tooltip=new h7(this.quill,this.options.bounds),n.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(t,r)=>{n.handlers.link.call(n,!r.format.link)}))}}p7.DEFAULTS=sh({},Db.DEFAULTS,{modules:{toolbar:{handlers:{link(e){if(e){const n=this.quill.getSelection();if(n==null||n.length===0)return;let t=this.quill.getText(n);/^\S+@\S+\.\S+$/.test(t)&&t.indexOf("mailto:")!==0&&(t=`mailto:${t}`);const{tooltip:r}=this.quill.theme;r.edit("link",t)}else this.quill.format("link",!1,yt.sources.USER)}}}}});yt.register({"attributors/attribute/direction":YI,"attributors/class/align":HI,"attributors/class/background":GH,"attributors/class/color":YH,"attributors/class/direction":GI,"attributors/class/font":XI,"attributors/class/size":JI,"attributors/style/align":VI,"attributors/style/background":RC,"attributors/style/color":LC,"attributors/style/direction":QI,"attributors/style/font":ZI,"attributors/style/size":e7},!0);yt.register({"formats/align":HI,"formats/direction":GI,"formats/indent":FV,"formats/background":RC,"formats/color":LC,"formats/font":XI,"formats/size":JI,"formats/blockquote":i6,"formats/code-block":Ks,"formats/header":a6,"formats/list":Nb,"formats/bold":X1,"formats/code":PC,"formats/italic":s6,"formats/link":Kf,"formats/script":o6,"formats/strike":l6,"formats/underline":u6,"formats/formula":Ox,"formats/image":zV,"formats/video":Mx,"modules/syntax":s7,"modules/table":BV,"modules/toolbar":$C,"themes/bubble":f7,"themes/snow":p7,"ui/icons":Z1,"ui/picker":l2,"ui/icon-picker":l7,"ui/color-picker":o7,"ui/tooltip":u7},!0);class u2 extends it.Component{constructor(n){super(n),this.editingAreaRef=M.createRef(),this.containerRef=M.createRef(),this.dirtyProps=["modules","formats","bounds","theme","children"],this.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],this.state={generation:0},this.selection=null,this.onEditorChange=(r,i,a,s)=>{var l,u;r==="text-change"?(l=this.onEditorChangeText)==null||l.call(this,this.editor.root.innerHTML,i,s,this.unprivilegedEditor):r==="selection-change"&&((u=this.onEditorChangeSelection)==null||u.call(this,i,s,this.unprivilegedEditor))};const t=this.isControlled()?n.value:n.defaultValue;this.value=t??""}validateProps(n){if(it.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(it.Children.count(n.children)){const t=it.Children.only(n.children);if((t==null?void 0:t.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")}shouldComponentUpdate(n,t){if(this.validateProps(n),!this.editor||this.state.generation!==t.generation)return!0;if("value"in n){const r=this.getEditorContents(),i=n.value??"";this.isEqualValue(i,r)||this.setEditorContents(this.editor,i)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),[...this.cleanProps,...this.dirtyProps].some(r=>!Wf(n[r],this.props[r]))}shouldComponentRegenerate(n){return this.dirtyProps.some(t=>!Wf(n[t],this.props[t]))}componentDidMount(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())}componentWillUnmount(){this.destroyEditor()}componentDidUpdate(n,t){if(this.editor&&this.shouldComponentRegenerate(n)){const r=this.editor.getContents(),i=this.editor.getSelection();this.regenerationSnapshot={delta:r,selection:i},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){const{delta:r,selection:i}=this.regenerationSnapshot;delete this.regenerationSnapshot,this.instantiateEditor();const a=this.editor;a.setContents(r),H4(()=>this.setEditorSelection(a,i))}}instantiateEditor(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())}destroyEditor(){var r,i;if(!this.editor)return;this.unhookEditor(this.editor);const n=(r=this.props.modules)==null?void 0:r.toolbar;if(!(typeof n=="object"&&n&&"container"in n&&typeof n.container=="string"||typeof n=="string")){const a=(i=this.containerRef.current)==null?void 0:i.querySelector(".ql-toolbar");a&&a.remove()}delete this.editor}isControlled(){return"value"in this.props}getEditorConfig(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,tabIndex:this.props.tabIndex,theme:this.props.theme}}getEditor(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor}createEditor(n,t){const r=new yt(n,t);return t.tabIndex!=null&&this.setEditorTabIndex(r,t.tabIndex),this.hookEditor(r),r}hookEditor(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)}unhookEditor(n){n.off("editor-change",this.onEditorChange)}getEditorContents(){return this.value}getEditorSelection(){return this.selection}isDelta(n){return n&&n.ops}isEqualValue(n,t){return this.isDelta(n)&&this.isDelta(t)?Wf(n.ops,t.ops):Wf(n,t)}setEditorContents(n,t){this.value=t;const r=this.getEditorSelection();typeof t=="string"?n.setContents(n.clipboard.convert({html:t})):n.setContents(t),H4(()=>this.setEditorSelection(n,r))}setEditorSelection(n,t){if(this.selection=t,t){const r=n.getLength();t.index=Math.max(0,Math.min(t.index,r-1)),t.length=Math.max(0,Math.min(t.length,r-1-t.index)),n.setSelection(t)}}setEditorTabIndex(n,t){var r;(r=n==null?void 0:n.scroll)!=null&&r.domNode&&(n.scroll.domNode.tabIndex=t)}setEditorReadOnly(n,t){t?n.disable():n.enable()}makeUnprivilegedEditor(n){const t=n;return{getHTML:()=>t.root.innerHTML,getSemanticHTML:t.getSemanticHTML.bind(t),getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}}getEditingArea(){const n=this.editingAreaRef.current;if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n}renderEditingArea(){const{children:n,preserveWhitespace:t}=this.props,{generation:r}=this.state,i={key:r,ref:this.editingAreaRef};return it.Children.count(n)?it.cloneElement(it.Children.only(n),i):t?it.createElement("pre",{...i}):it.createElement("div",{...i})}render(){return it.createElement("div",{ref:this.containerRef,id:this.props.id,style:this.props.style,key:this.state.generation,className:`quill ${this.props.className??""}`,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())}onEditorChangeText(n,t,r,i){var s,l;if(!this.editor)return;const a=this.isDelta(this.value)?i.getContents():i.getHTML();a!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=a,(l=(s=this.props).onChange)==null||l.call(s,n,t,r,i))}onEditorChangeSelection(n,t,r){var l,u,f,h,m,b;if(!this.editor)return;const i=this.getEditorSelection(),a=!i&&n,s=i&&!n;Wf(n,i)||(this.selection=n,(u=(l=this.props).onChangeSelection)==null||u.call(l,n,t,r),a?(h=(f=this.props).onFocus)==null||h.call(f,n,t,r):s&&((b=(m=this.props).onBlur)==null||b.call(m,i,t,r)))}focus(){this.editor&&this.editor.focus()}blur(){this.editor&&(this.selection=null,this.editor.blur())}}u2.displayName="React Quill";u2.Quill=yt;u2.defaultProps={theme:"snow",modules:{},readOnly:!1};function H4(e){Promise.resolve().then(e)}const IW=({content:e,onChange:n})=>{const t=a=>{n(a)},r={toolbar:[[{header:[1,2,3,!1]}],["bold","italic"],["blockquote",{list:"ordered"},{list:"bullet"}],["link"],["clean"]]},i=["header","bold","italic","blockquote","list","link"];return d.jsx(u2,{value:e,onChange:t,modules:r,formats:i,theme:"snow",placeholder:"Start writing...",style:{backgroundColor:"white",borderRadius:"4px",minHeight:"150px"}})},OW=(e,n={enabled:!0,priority:"low"})=>{const t=M.useCallback(r=>{!n.enabled||r.length===0||r.forEach((i,a)=>{if(!i||i.startsWith("data:"))return;const s=new Image;"loading"in s&&(s.loading="lazy");const l=n.priority==="low"?a*100:0;setTimeout(()=>{s.src=i,s.onload=()=>{console.log(` Preloaded image: ${i.substring(0,50)}...`)},s.onerror=u=>{console.error(` Failed to preload image: ${i}`,u),console.error("Image details:",{url:i,naturalWidth:s.naturalWidth,naturalHeight:s.naturalHeight,complete:s.complete})}},l)})},[n.enabled,n.priority]);return M.useEffect(()=>{t(e)},[e,t]),{preloadImages:t}},m7=(e,n,t=!0)=>{const{preloadImages:r}=OW([],{enabled:t,priority:"low"});M.useEffect(()=>{var s,l;if(!t||!e.length)return;const i=[];if(n>0){const u=e[n-1];u!=null&&u.images&&i.push(...u.images.map(f=>f.url)),(s=u==null?void 0:u.subsections)==null||s.forEach(f=>{var h;f.images&&i.push(...f.images.map(m=>m.url)),(h=f==null?void 0:f.subSubsections)==null||h.forEach(m=>{m.images&&i.push(...m.images.map(b=>b.url))})})}if(n<e.length-1){const u=e[n+1];u!=null&&u.images&&i.push(...u.images.map(f=>f.url)),(l=u==null?void 0:u.subsections)==null||l.forEach(f=>{var h;f.images&&i.push(...f.images.map(m=>m.url)),(h=f==null?void 0:f.subSubsections)==null||h.forEach(m=>{m.images&&i.push(...m.images.map(b=>b.url))})})}const a=Array.from(new Set(i.filter(Boolean)));a.length>0&&(console.log(`Preloading ${a.length} images from adjacent sections`),r(a))},[e,n,t,r])},MW=({value:e,onChange:n,disabled:t=!1})=>{const[r,i]=M.useState([]),[a,s]=M.useState(!0),{userDetails:l}=Ii();M.useEffect(()=>{if(console.log("User Details in CourseDropdown:",l),l!=null&&l.classes){const f=Object.entries(l.classes).filter(([h,m])=>m.isCourseAdmin||l.isSuperAdmin).map(([h,m])=>({id:h,number:m.number,title:m.title,isCourseAdmin:m.isCourseAdmin}));console.log("Filtered Courses for Dropdown:",f),i(f)}else i([]);s(!1)},[l]);const u=r.some(f=>f.id===e);return a?d.jsx(se,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:d.jsx(pi,{})}):d.jsx(Mm,{value:u?e:"",onChange:n,courses:r,label:"Select Course",placeholder:"Choose a course",helperText:!u&&e!==""?"Invalid course selected":"",error:!u&&e!=="",disabled:t,loading:a,showNumber:!0,showTitle:!0,showAdminBadge:!1})};function Pt(e){const n=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&n==="[object Date]"?new e.constructor(+e):typeof e=="number"||n==="[object Number]"||typeof e=="string"||n==="[object String]"?new Date(e):new Date(NaN)}function zr(e,n){return e instanceof Date?new e.constructor(n):new Date(n)}function $l(e,n){const t=Pt(e);return isNaN(n)?zr(e,NaN):(n&&t.setDate(t.getDate()+n),t)}function Vl(e,n){const t=Pt(e);if(isNaN(n))return zr(e,NaN);if(!n)return t;const r=t.getDate(),i=zr(e,t.getTime());i.setMonth(t.getMonth()+n+1,0);const a=i.getDate();return r>=a?i:(t.setFullYear(i.getFullYear(),i.getMonth(),r),t)}function UC(e,n){const t=+Pt(e);return zr(e,t+n)}const g7=6048e5,LW=864e5,c2=6e4,d2=36e5,RW=1e3;function b7(e,n){return UC(e,n*d2)}let PW={};function Fp(){return PW}function td(e,n){var l,u,f,h;const t=Fp(),r=(n==null?void 0:n.weekStartsOn)??((u=(l=n==null?void 0:n.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??t.weekStartsOn??((h=(f=t.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??0,i=Pt(e),a=i.getDay(),s=(a<r?7:0)+a-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Am(e){return td(e,{weekStartsOn:1})}function y7(e){const n=Pt(e),t=n.getFullYear(),r=zr(e,0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);const i=Am(r),a=zr(e,0);a.setFullYear(t,0,4),a.setHours(0,0,0,0);const s=Am(a);return n.getTime()>=i.getTime()?t+1:n.getTime()>=s.getTime()?t:t-1}function hh(e){const n=Pt(e);return n.setHours(0,0,0,0),n}function dv(e){const n=Pt(e),t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),+e-+t}function km(e,n){const t=hh(e),r=hh(n),i=+t-dv(t),a=+r-dv(r);return Math.round((i-a)/LW)}function FW(e){const n=y7(e),t=zr(e,0);return t.setFullYear(n,0,4),t.setHours(0,0,0,0),Am(t)}function fv(e,n){return UC(e,n*c2)}function HC(e,n){const t=n*3;return Vl(e,t)}function x7(e,n){return UC(e,n*1e3)}function J1(e,n){const t=n*7;return $l(e,t)}function $c(e,n){return Vl(e,n*12)}function V4(e){let n;return e.forEach(function(t){const r=Pt(t);(n===void 0||n<r||isNaN(Number(r)))&&(n=r)}),n||new Date(NaN)}function W4(e){let n;return e.forEach(t=>{const r=Pt(t);(!n||n>r||isNaN(+r))&&(n=r)}),n||new Date(NaN)}function v7(e,n){const t=hh(e),r=hh(n);return+t==+r}function Vd(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function eb(e){if(!Vd(e)&&typeof e!="number")return!1;const n=Pt(e);return!isNaN(Number(n))}function hv(e,n){const t=Pt(e),r=Pt(n),i=t.getFullYear()-r.getFullYear(),a=t.getMonth()-r.getMonth();return i*12+a}function mp(e){const n=Pt(e);return Math.trunc(n.getMonth()/3)+1}function pv(e,n){const t=Pt(e),r=Pt(n),i=t.getFullYear()-r.getFullYear(),a=mp(t)-mp(r);return i*4+a}function mv(e,n){const t=Pt(e),r=Pt(n);return t.getFullYear()-r.getFullYear()}function zW(e,n){const t=Pt(e),r=Pt(n),i=Y4(t,r),a=Math.abs(km(t,r));t.setDate(t.getDate()-i*a);const s=+(Y4(t,r)===-i),l=i*(a-s);return l===0?0:l}function Y4(e,n){const t=e.getFullYear()-n.getFullYear()||e.getMonth()-n.getMonth()||e.getDate()-n.getDate()||e.getHours()-n.getHours()||e.getMinutes()-n.getMinutes()||e.getSeconds()-n.getSeconds()||e.getMilliseconds()-n.getMilliseconds();return t<0?-1:t>0?1:t}function gv(e){const n=Pt(e);return n.setHours(23,59,59,999),n}function VC(e){const n=Pt(e),t=n.getMonth();return n.setFullYear(n.getFullYear(),t+1,0),n.setHours(23,59,59,999),n}function c6(e){const n=Pt(e),t=n.getMonth(),r=t-t%3;return n.setMonth(r,1),n.setHours(0,0,0,0),n}function WC(e){const n=Pt(e);return n.setDate(1),n.setHours(0,0,0,0),n}function bv(e){const n=Pt(e),t=n.getFullYear();return n.setFullYear(t+1,0,0),n.setHours(23,59,59,999),n}function _b(e){const n=Pt(e),t=zr(e,0);return t.setFullYear(n.getFullYear(),0,1),t.setHours(0,0,0,0),t}function w7(e,n){var l,u,f,h;const t=Fp(),r=(n==null?void 0:n.weekStartsOn)??((u=(l=n==null?void 0:n.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??t.weekStartsOn??((h=(f=t.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??0,i=Pt(e),a=i.getDay(),s=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}const qW={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},BW=(e,n,t)=>{let r;const i=qW[e];return typeof i=="string"?r=i:n===1?r=i.one:r=i.other.replace("{{count}}",n.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function P5(e){return(n={})=>{const t=n.width?String(n.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}const $W={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},UW={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},HW={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},VW={date:P5({formats:$W,defaultWidth:"full"}),time:P5({formats:UW,defaultWidth:"full"}),dateTime:P5({formats:HW,defaultWidth:"full"})},WW={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},YW=(e,n,t,r)=>WW[e];function qg(e){return(n,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,l=t!=null&&t.width?String(t.width):s;i=e.formattingValues[l]||e.formattingValues[s]}else{const s=e.defaultWidth,l=t!=null&&t.width?String(t.width):e.defaultWidth;i=e.values[l]||e.values[s]}const a=e.argumentCallback?e.argumentCallback(n):n;return i[a]}}const GW={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},QW={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},KW={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},XW={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ZW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},JW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},eY=(e,n)=>{const t=Number(e),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},tY={ordinalNumber:eY,era:qg({values:GW,defaultWidth:"wide"}),quarter:qg({values:QW,defaultWidth:"wide",argumentCallback:e=>e-1}),month:qg({values:KW,defaultWidth:"wide"}),day:qg({values:XW,defaultWidth:"wide"}),dayPeriod:qg({values:ZW,defaultWidth:"wide",formattingValues:JW,defaultFormattingWidth:"wide"})};function Bg(e){return(n,t={})=>{const r=t.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=n.match(i);if(!a)return null;const s=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?rY(l,m=>m.test(s)):nY(l,m=>m.test(s));let f;f=e.valueCallback?e.valueCallback(u):u,f=t.valueCallback?t.valueCallback(f):f;const h=n.slice(s.length);return{value:f,rest:h}}}function nY(e,n){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&n(e[t]))return t}function rY(e,n){for(let t=0;t<e.length;t++)if(n(e[t]))return t}function iY(e){return(n,t={})=>{const r=n.match(e.matchPattern);if(!r)return null;const i=r[0],a=n.match(e.parsePattern);if(!a)return null;let s=e.valueCallback?e.valueCallback(a[0]):a[0];s=t.valueCallback?t.valueCallback(s):s;const l=n.slice(i.length);return{value:s,rest:l}}}const aY=/^(\d+)(th|st|nd|rd)?/i,sY=/\d+/i,oY={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},lY={any:[/^b/i,/^(a|c)/i]},uY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cY={any:[/1/i,/2/i,/3/i,/4/i]},dY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},fY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},pY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},bY={ordinalNumber:iY({matchPattern:aY,parsePattern:sY,valueCallback:e=>parseInt(e,10)}),era:Bg({matchPatterns:oY,defaultMatchWidth:"wide",parsePatterns:lY,defaultParseWidth:"any"}),quarter:Bg({matchPatterns:uY,defaultMatchWidth:"wide",parsePatterns:cY,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Bg({matchPatterns:dY,defaultMatchWidth:"wide",parsePatterns:fY,defaultParseWidth:"any"}),day:Bg({matchPatterns:hY,defaultMatchWidth:"wide",parsePatterns:pY,defaultParseWidth:"any"}),dayPeriod:Bg({matchPatterns:mY,defaultMatchWidth:"any",parsePatterns:gY,defaultParseWidth:"any"})},YC={code:"en-US",formatDistance:BW,formatLong:VW,formatRelative:YW,localize:tY,match:bY,options:{weekStartsOn:0,firstWeekContainsDate:1}};function yY(e){const n=Pt(e);return km(n,_b(n))+1}function GC(e){const n=Pt(e),t=+Am(n)-+FW(n);return Math.round(t/g7)+1}function QC(e,n){var h,m,b,g;const t=Pt(e),r=t.getFullYear(),i=Fp(),a=(n==null?void 0:n.firstWeekContainsDate)??((m=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(b=i.locale)==null?void 0:b.options)==null?void 0:g.firstWeekContainsDate)??1,s=zr(e,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const l=td(s,n),u=zr(e,0);u.setFullYear(r,0,a),u.setHours(0,0,0,0);const f=td(u,n);return t.getTime()>=l.getTime()?r+1:t.getTime()>=f.getTime()?r:r-1}function xY(e,n){var l,u,f,h;const t=Fp(),r=(n==null?void 0:n.firstWeekContainsDate)??((u=(l=n==null?void 0:n.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??t.firstWeekContainsDate??((h=(f=t.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,i=QC(e,n),a=zr(e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),td(a,n)}function KC(e,n){const t=Pt(e),r=+td(t,n)-+xY(t,n);return Math.round(r/g7)+1}function Fr(e,n){const t=e<0?"-":"",r=Math.abs(e).toString().padStart(n,"0");return t+r}const Bf={y(e,n){const t=e.getFullYear(),r=t>0?t:1-t;return Fr(n==="yy"?r%100:r,n.length)},M(e,n){const t=e.getMonth();return n==="M"?String(t+1):Fr(t+1,2)},d(e,n){return Fr(e.getDate(),n.length)},a(e,n){const t=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(e,n){return Fr(e.getHours()%12||12,n.length)},H(e,n){return Fr(e.getHours(),n.length)},m(e,n){return Fr(e.getMinutes(),n.length)},s(e,n){return Fr(e.getSeconds(),n.length)},S(e,n){const t=n.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return Fr(i,n.length)}},x0={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},G4={G:function(e,n,t){const r=e.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(e,n,t){if(n==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return Bf.y(e,n)},Y:function(e,n,t,r){const i=QC(e,r),a=i>0?i:1-i;if(n==="YY"){const s=a%100;return Fr(s,2)}return n==="Yo"?t.ordinalNumber(a,{unit:"year"}):Fr(a,n.length)},R:function(e,n){const t=y7(e);return Fr(t,n.length)},u:function(e,n){const t=e.getFullYear();return Fr(t,n.length)},Q:function(e,n,t){const r=Math.ceil((e.getMonth()+1)/3);switch(n){case"Q":return String(r);case"QQ":return Fr(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,n,t){const r=Math.ceil((e.getMonth()+1)/3);switch(n){case"q":return String(r);case"qq":return Fr(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,n,t){const r=e.getMonth();switch(n){case"M":case"MM":return Bf.M(e,n);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(e,n,t){const r=e.getMonth();switch(n){case"L":return String(r+1);case"LL":return Fr(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(e,n,t,r){const i=KC(e,r);return n==="wo"?t.ordinalNumber(i,{unit:"week"}):Fr(i,n.length)},I:function(e,n,t){const r=GC(e);return n==="Io"?t.ordinalNumber(r,{unit:"week"}):Fr(r,n.length)},d:function(e,n,t){return n==="do"?t.ordinalNumber(e.getDate(),{unit:"date"}):Bf.d(e,n)},D:function(e,n,t){const r=yY(e);return n==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Fr(r,n.length)},E:function(e,n,t){const r=e.getDay();switch(n){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(e,n,t,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return Fr(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(e,n,t,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return Fr(a,n.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(e,n,t){const r=e.getDay(),i=r===0?7:r;switch(n){case"i":return String(i);case"ii":return Fr(i,n.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(e,n,t){const i=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,n,t){const r=e.getHours();let i;switch(r===12?i=x0.noon:r===0?i=x0.midnight:i=r/12>=1?"pm":"am",n){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,n,t){const r=e.getHours();let i;switch(r>=17?i=x0.evening:r>=12?i=x0.afternoon:r>=4?i=x0.morning:i=x0.night,n){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,n,t){if(n==="ho"){let r=e.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Bf.h(e,n)},H:function(e,n,t){return n==="Ho"?t.ordinalNumber(e.getHours(),{unit:"hour"}):Bf.H(e,n)},K:function(e,n,t){const r=e.getHours()%12;return n==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Fr(r,n.length)},k:function(e,n,t){let r=e.getHours();return r===0&&(r=24),n==="ko"?t.ordinalNumber(r,{unit:"hour"}):Fr(r,n.length)},m:function(e,n,t){return n==="mo"?t.ordinalNumber(e.getMinutes(),{unit:"minute"}):Bf.m(e,n)},s:function(e,n,t){return n==="so"?t.ordinalNumber(e.getSeconds(),{unit:"second"}):Bf.s(e,n)},S:function(e,n){return Bf.S(e,n)},X:function(e,n,t){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(n){case"X":return K4(r);case"XXXX":case"XX":return ap(r);case"XXXXX":case"XXX":default:return ap(r,":")}},x:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"x":return K4(r);case"xxxx":case"xx":return ap(r);case"xxxxx":case"xxx":default:return ap(r,":")}},O:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Q4(r,":");case"OOOO":default:return"GMT"+ap(r,":")}},z:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Q4(r,":");case"zzzz":default:return"GMT"+ap(r,":")}},t:function(e,n,t){const r=Math.trunc(e.getTime()/1e3);return Fr(r,n.length)},T:function(e,n,t){const r=e.getTime();return Fr(r,n.length)}};function Q4(e,n=""){const t=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?t+String(i):t+String(i)+n+Fr(a,2)}function K4(e,n){return e%60===0?(e>0?"-":"+")+Fr(Math.abs(e)/60,2):ap(e,n)}function ap(e,n=""){const t=e>0?"-":"+",r=Math.abs(e),i=Fr(Math.trunc(r/60),2),a=Fr(r%60,2);return t+i+n+a}const X4=(e,n)=>{switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},S7=(e,n)=>{switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},vY=(e,n)=>{const t=e.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return X4(e,n);let a;switch(r){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",X4(r,n)).replace("{{time}}",S7(i,n))},tb={p:S7,P:vY},wY=/^D+$/,SY=/^Y+$/,CY=["D","DD","YY","YYYY"];function C7(e){return wY.test(e)}function A7(e){return SY.test(e)}function d6(e,n,t){const r=AY(e,n,t);if(console.warn(r),CY.includes(e))throw new RangeError(r)}function AY(e,n,t){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${n}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const kY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,EY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jY=/^'([^]*?)'?$/,TY=/''/g,NY=/[a-zA-Z]/;function f6(e,n,t){var h,m,b,g,v,x,C,S;const r=Fp(),i=(t==null?void 0:t.locale)??r.locale??YC,a=(t==null?void 0:t.firstWeekContainsDate)??((m=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(b=r.locale)==null?void 0:b.options)==null?void 0:g.firstWeekContainsDate)??1,s=(t==null?void 0:t.weekStartsOn)??((x=(v=t==null?void 0:t.locale)==null?void 0:v.options)==null?void 0:x.weekStartsOn)??r.weekStartsOn??((S=(C=r.locale)==null?void 0:C.options)==null?void 0:S.weekStartsOn)??0,l=Pt(e);if(!eb(l))throw new RangeError("Invalid time value");let u=n.match(EY).map(A=>{const N=A[0];if(N==="p"||N==="P"){const P=tb[N];return P(A,i.formatLong)}return A}).join("").match(kY).map(A=>{if(A==="''")return{isToken:!1,value:"'"};const N=A[0];if(N==="'")return{isToken:!1,value:DY(A)};if(G4[N])return{isToken:!0,value:A};if(N.match(NY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:A}});i.localize.preprocessor&&(u=i.localize.preprocessor(l,u));const f={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return u.map(A=>{if(!A.isToken)return A.value;const N=A.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&A7(N)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&C7(N))&&d6(N,n,String(e));const P=G4[N[0]];return P(l,N,i.localize,f)}).join("")}function DY(e){const n=e.match(jY);return n?n[1].replace(TY,"'"):e}function h6(e){return Pt(e).getDate()}function _Y(e){return Pt(e).getDay()}function k7(e){const n=Pt(e),t=n.getFullYear(),r=n.getMonth(),i=zr(e,0);return i.setFullYear(t,r+1,0),i.setHours(0,0,0,0),i.getDate()}function IY(){return Object.assign({},Fp())}function Mu(e){return Pt(e).getHours()}function OY(e){let t=Pt(e).getDay();return t===0&&(t=7),t}function MY(e){return Pt(e).getMilliseconds()}function Lu(e){return Pt(e).getMinutes()}function Gs(e){return Pt(e).getMonth()}function Uc(e){return Pt(e).getSeconds()}function p6(e){return Pt(e).getTime()}function $n(e){return Pt(e).getFullYear()}function Ru(e,n){const t=Pt(e),r=Pt(n);return t.getTime()>r.getTime()}function Hc(e,n){const t=Pt(e),r=Pt(n);return+t<+r}function E7(e,n){const t=Pt(e),r=Pt(n);return+t==+r}function LY(e,n){const t=n instanceof Date?zr(n,0):new n(0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t}const RY=10;class j7{constructor(){_e(this,"subPriority",0)}validate(n,t){return!0}}class PY extends j7{constructor(n,t,r,i,a){super(),this.value=n,this.validateValue=t,this.setValue=r,this.priority=i,a&&(this.subPriority=a)}validate(n,t){return this.validateValue(n,this.value,t)}set(n,t,r){return this.setValue(n,t,this.value,r)}}class FY extends j7{constructor(){super(...arguments);_e(this,"priority",RY);_e(this,"subPriority",-1)}set(t,r){return r.timestampIsSet?t:zr(t,LY(t,Date))}}let kr=class{run(n,t,r,i){const a=this.parse(n,t,r,i);return a?{setter:new PY(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(n,t,r){return!0}};class zY extends kr{constructor(){super(...arguments);_e(this,"priority",140);_e(this,"incompatibleTokens",["R","u","t","T"])}parse(t,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,r,i){return r.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const Aa={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Nc={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ka(e,n){return e&&{value:n(e.value),rest:e.rest}}function Wi(e,n){const t=n.match(e);return t?{value:parseInt(t[0],10),rest:n.slice(t[0].length)}:null}function Dc(e,n){const t=n.match(e);if(!t)return null;if(t[0]==="Z")return{value:0,rest:n.slice(1)};const r=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,a=t[3]?parseInt(t[3],10):0,s=t[5]?parseInt(t[5],10):0;return{value:r*(i*d2+a*c2+s*RW),rest:n.slice(t[0].length)}}function T7(e){return Wi(Aa.anyDigitsSigned,e)}function ca(e,n){switch(e){case 1:return Wi(Aa.singleDigit,n);case 2:return Wi(Aa.twoDigits,n);case 3:return Wi(Aa.threeDigits,n);case 4:return Wi(Aa.fourDigits,n);default:return Wi(new RegExp("^\\d{1,"+e+"}"),n)}}function yv(e,n){switch(e){case 1:return Wi(Aa.singleDigitSigned,n);case 2:return Wi(Aa.twoDigitsSigned,n);case 3:return Wi(Aa.threeDigitsSigned,n);case 4:return Wi(Aa.fourDigitsSigned,n);default:return Wi(new RegExp("^-?\\d{1,"+e+"}"),n)}}function XC(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function N7(e,n){const t=n>0,r=t?n:1-n;let i;if(r<=50)i=e||100;else{const a=r+50,s=Math.trunc(a/100)*100,l=e>=a%100;i=e+s-(l?100:0)}return t?i:1-i}function D7(e){return e%400===0||e%4===0&&e%100!==0}class qY extends kr{constructor(){super(...arguments);_e(this,"priority",130);_e(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,r,i){const a=s=>({year:s,isTwoDigitYear:r==="yy"});switch(r){case"y":return ka(ca(4,t),a);case"yo":return ka(i.ordinalNumber(t,{unit:"year"}),a);default:return ka(ca(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i){const a=t.getFullYear();if(i.isTwoDigitYear){const l=N7(i.year,a);return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}const s=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}class BY extends kr{constructor(){super(...arguments);_e(this,"priority",130);_e(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,r,i){const a=s=>({year:s,isTwoDigitYear:r==="YY"});switch(r){case"Y":return ka(ca(4,t),a);case"Yo":return ka(i.ordinalNumber(t,{unit:"year"}),a);default:return ka(ca(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i,a){const s=QC(t,a);if(i.isTwoDigitYear){const u=N7(i.year,s);return t.setFullYear(u,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),td(t,a)}const l=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(l,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),td(t,a)}}class $Y extends kr{constructor(){super(...arguments);_e(this,"priority",130);_e(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,r){return yv(r==="R"?4:r.length,t)}set(t,r,i){const a=zr(t,0);return a.setFullYear(i,0,4),a.setHours(0,0,0,0),Am(a)}}class UY extends kr{constructor(){super(...arguments);_e(this,"priority",130);_e(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,r){return yv(r==="u"?4:r.length,t)}set(t,r,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class HY extends kr{constructor(){super(...arguments);_e(this,"priority",120);_e(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"Q":case"QQ":return ca(r.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class VY extends kr{constructor(){super(...arguments);_e(this,"priority",120);_e(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"q":case"qq":return ca(r.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class WY extends kr{constructor(){super(...arguments);_e(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);_e(this,"priority",110)}parse(t,r,i){const a=s=>s-1;switch(r){case"M":return ka(Wi(Aa.month,t),a);case"MM":return ka(ca(2,t),a);case"Mo":return ka(i.ordinalNumber(t,{unit:"month"}),a);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class YY extends kr{constructor(){super(...arguments);_e(this,"priority",110);_e(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,r,i){const a=s=>s-1;switch(r){case"L":return ka(Wi(Aa.month,t),a);case"LL":return ka(ca(2,t),a);case"Lo":return ka(i.ordinalNumber(t,{unit:"month"}),a);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function GY(e,n,t){const r=Pt(e),i=KC(r,t)-n;return r.setDate(r.getDate()-i*7),r}class QY extends kr{constructor(){super(...arguments);_e(this,"priority",100);_e(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,r,i){switch(r){case"w":return Wi(Aa.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return ca(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i,a){return td(GY(t,i,a),a)}}function KY(e,n){const t=Pt(e),r=GC(t)-n;return t.setDate(t.getDate()-r*7),t}class XY extends kr{constructor(){super(...arguments);_e(this,"priority",100);_e(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,r,i){switch(r){case"I":return Wi(Aa.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return ca(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i){return Am(KY(t,i))}}const ZY=[31,28,31,30,31,30,31,31,30,31,30,31],JY=[31,29,31,30,31,30,31,31,30,31,30,31];class eG extends kr{constructor(){super(...arguments);_e(this,"priority",90);_e(this,"subPriority",1);_e(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"d":return Wi(Aa.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return ca(r.length,t)}}validate(t,r){const i=t.getFullYear(),a=D7(i),s=t.getMonth();return a?r>=1&&r<=JY[s]:r>=1&&r<=ZY[s]}set(t,r,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class tG extends kr{constructor(){super(...arguments);_e(this,"priority",90);_e(this,"subpriority",1);_e(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,r,i){switch(r){case"D":case"DD":return Wi(Aa.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return ca(r.length,t)}}validate(t,r){const i=t.getFullYear();return D7(i)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function ZC(e,n,t){var m,b,g,v;const r=Fp(),i=(t==null?void 0:t.weekStartsOn)??((b=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:b.weekStartsOn)??r.weekStartsOn??((v=(g=r.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??0,a=Pt(e),s=a.getDay(),u=(n%7+7)%7,f=7-i,h=n<0||n>6?n-(s+f)%7:(u+f)%7-(s+f)%7;return $l(a,h)}class nG extends kr{constructor(){super(...arguments);_e(this,"priority",90);_e(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,a){return t=ZC(t,i,a),t.setHours(0,0,0,0),t}}class rG extends kr{constructor(){super(...arguments);_e(this,"priority",90);_e(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,r,i,a){const s=l=>{const u=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+u};switch(r){case"e":case"ee":return ka(ca(r.length,t),s);case"eo":return ka(i.ordinalNumber(t,{unit:"day"}),s);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,a){return t=ZC(t,i,a),t.setHours(0,0,0,0),t}}class iG extends kr{constructor(){super(...arguments);_e(this,"priority",90);_e(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,r,i,a){const s=l=>{const u=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+u};switch(r){case"c":case"cc":return ka(ca(r.length,t),s);case"co":return ka(i.ordinalNumber(t,{unit:"day"}),s);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,a){return t=ZC(t,i,a),t.setHours(0,0,0,0),t}}function aG(e,n){const t=Pt(e),r=OY(t),i=n-r;return $l(t,i)}class sG extends kr{constructor(){super(...arguments);_e(this,"priority",90);_e(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,r,i){const a=s=>s===0?7:s;switch(r){case"i":case"ii":return ca(r.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return ka(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a);case"iiiii":return ka(i.day(t,{width:"narrow",context:"formatting"}),a);case"iiiiii":return ka(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a);case"iiii":default:return ka(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a)}}validate(t,r){return r>=1&&r<=7}set(t,r,i){return t=aG(t,i),t.setHours(0,0,0,0),t}}class oG extends kr{constructor(){super(...arguments);_e(this,"priority",80);_e(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(XC(i),0,0,0),t}}class lG extends kr{constructor(){super(...arguments);_e(this,"priority",80);_e(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(XC(i),0,0,0),t}}class uG extends kr{constructor(){super(...arguments);_e(this,"priority",80);_e(this,"incompatibleTokens",["a","b","t","T"])}parse(t,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(XC(i),0,0,0),t}}class cG extends kr{constructor(){super(...arguments);_e(this,"priority",70);_e(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,r,i){switch(r){case"h":return Wi(Aa.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return ca(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,i){const a=t.getHours()>=12;return a&&i<12?t.setHours(i+12,0,0,0):!a&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class dG extends kr{constructor(){super(...arguments);_e(this,"priority",70);_e(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,r,i){switch(r){case"H":return Wi(Aa.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return ca(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,i){return t.setHours(i,0,0,0),t}}class fG extends kr{constructor(){super(...arguments);_e(this,"priority",70);_e(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,r,i){switch(r){case"K":return Wi(Aa.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return ca(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class hG extends kr{constructor(){super(...arguments);_e(this,"priority",70);_e(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,r,i){switch(r){case"k":return Wi(Aa.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return ca(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,i){const a=i<=24?i%24:i;return t.setHours(a,0,0,0),t}}class pG extends kr{constructor(){super(...arguments);_e(this,"priority",60);_e(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"m":return Wi(Aa.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return ca(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setMinutes(i,0,0),t}}class mG extends kr{constructor(){super(...arguments);_e(this,"priority",50);_e(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"s":return Wi(Aa.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return ca(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setSeconds(i,0),t}}class gG extends kr{constructor(){super(...arguments);_e(this,"priority",30);_e(this,"incompatibleTokens",["t","T"])}parse(t,r){const i=a=>Math.trunc(a*Math.pow(10,-r.length+3));return ka(ca(r.length,t),i)}set(t,r,i){return t.setMilliseconds(i),t}}class bG extends kr{constructor(){super(...arguments);_e(this,"priority",10);_e(this,"incompatibleTokens",["t","T","x"])}parse(t,r){switch(r){case"X":return Dc(Nc.basicOptionalMinutes,t);case"XX":return Dc(Nc.basic,t);case"XXXX":return Dc(Nc.basicOptionalSeconds,t);case"XXXXX":return Dc(Nc.extendedOptionalSeconds,t);case"XXX":default:return Dc(Nc.extended,t)}}set(t,r,i){return r.timestampIsSet?t:zr(t,t.getTime()-dv(t)-i)}}class yG extends kr{constructor(){super(...arguments);_e(this,"priority",10);_e(this,"incompatibleTokens",["t","T","X"])}parse(t,r){switch(r){case"x":return Dc(Nc.basicOptionalMinutes,t);case"xx":return Dc(Nc.basic,t);case"xxxx":return Dc(Nc.basicOptionalSeconds,t);case"xxxxx":return Dc(Nc.extendedOptionalSeconds,t);case"xxx":default:return Dc(Nc.extended,t)}}set(t,r,i){return r.timestampIsSet?t:zr(t,t.getTime()-dv(t)-i)}}class xG extends kr{constructor(){super(...arguments);_e(this,"priority",40);_e(this,"incompatibleTokens","*")}parse(t){return T7(t)}set(t,r,i){return[zr(t,i*1e3),{timestampIsSet:!0}]}}class vG extends kr{constructor(){super(...arguments);_e(this,"priority",20);_e(this,"incompatibleTokens","*")}parse(t){return T7(t)}set(t,r,i){return[zr(t,i),{timestampIsSet:!0}]}}const wG={G:new zY,y:new qY,Y:new BY,R:new $Y,u:new UY,Q:new HY,q:new VY,M:new WY,L:new YY,w:new QY,I:new XY,d:new eG,D:new tG,E:new nG,e:new rG,c:new iG,i:new sG,a:new oG,b:new lG,B:new uG,h:new cG,H:new dG,K:new fG,k:new hG,m:new pG,s:new mG,S:new gG,X:new bG,x:new yG,t:new xG,T:new vG},SG=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,CG=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,AG=/^'([^]*?)'?$/,kG=/''/g,EG=/\S/,jG=/[a-zA-Z]/;function Lx(e,n,t,r){var x,C,S,A,N,P,U,B;const i=IY(),a=(r==null?void 0:r.locale)??i.locale??YC,s=(r==null?void 0:r.firstWeekContainsDate)??((C=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:C.firstWeekContainsDate)??i.firstWeekContainsDate??((A=(S=i.locale)==null?void 0:S.options)==null?void 0:A.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((P=(N=r==null?void 0:r.locale)==null?void 0:N.options)==null?void 0:P.weekStartsOn)??i.weekStartsOn??((B=(U=i.locale)==null?void 0:U.options)==null?void 0:B.weekStartsOn)??0;if(n==="")return e===""?Pt(t):zr(t,NaN);const u={firstWeekContainsDate:s,weekStartsOn:l,locale:a},f=[new FY],h=n.match(CG).map(j=>{const F=j[0];if(F in tb){const V=tb[F];return V(j,a.formatLong)}return j}).join("").match(SG),m=[];for(let j of h){!(r!=null&&r.useAdditionalWeekYearTokens)&&A7(j)&&d6(j,n,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&C7(j)&&d6(j,n,e);const F=j[0],V=wG[F];if(V){const{incompatibleTokens:X}=V;if(Array.isArray(X)){const D=m.find(O=>X.includes(O.token)||O.token===F);if(D)throw new RangeError(`The format string mustn't contain \`${D.fullToken}\` and \`${j}\` at the same time`)}else if(V.incompatibleTokens==="*"&&m.length>0)throw new RangeError(`The format string mustn't contain \`${j}\` and any other token at the same time`);m.push({token:F,fullToken:j});const T=V.run(e,j,a.match,u);if(!T)return zr(t,NaN);f.push(T.setter),e=T.rest}else{if(F.match(jG))throw new RangeError("Format string contains an unescaped latin alphabet character `"+F+"`");if(j==="''"?j="'":F==="'"&&(j=TG(j)),e.indexOf(j)===0)e=e.slice(j.length);else return zr(t,NaN)}}if(e.length>0&&EG.test(e))return zr(t,NaN);const b=f.map(j=>j.priority).sort((j,F)=>F-j).filter((j,F,V)=>V.indexOf(j)===F).map(j=>f.filter(F=>F.priority===j).sort((F,V)=>V.subPriority-F.subPriority)).map(j=>j[0]);let g=Pt(t);if(isNaN(g.getTime()))return zr(t,NaN);const v={};for(const j of b){if(!j.validate(g,u))return zr(t,NaN);const F=j.set(g,v,u);Array.isArray(F)?(g=F[0],Object.assign(v,F[1])):g=F}return zr(t,g)}function TG(e){return e.match(AG)[1].replace(kG,"'")}function Z4(e){const n=Pt(e);return n.setMinutes(0,0,0),n}function NG(e,n){const t=Z4(e),r=Z4(n);return+t==+r}function _7(e,n){const t=Pt(e),r=Pt(n);return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()}function DG(e,n){const t=c6(e),r=c6(n);return+t==+r}function I7(e,n){const t=Pt(e),r=Pt(n);return t.getFullYear()===r.getFullYear()}function Em(e,n){const t=+Pt(e),[r,i]=[+Pt(n.start),+Pt(n.end)].sort((a,s)=>a-s);return t>=r&&t<=i}function _G(e,n){return $l(e,-1)}function IG(e,n){const r=RG(e);let i;if(r.date){const u=PG(r.date,2);i=FG(u.restDateString,u.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const a=i.getTime();let s=0,l;if(r.time&&(s=zG(r.time),isNaN(s)))return new Date(NaN);if(r.timezone){if(l=qG(r.timezone),isNaN(l))return new Date(NaN)}else{const u=new Date(a+s),f=new Date(0);return f.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),f.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),f}return new Date(a+s+l)}const lx={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},OG=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,MG=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,LG=/^([+-])(\d{2})(?::?(\d{2}))?$/;function RG(e){const n={},t=e.split(lx.dateTimeDelimiter);let r;if(t.length>2)return n;if(/:/.test(t[0])?r=t[0]:(n.date=t[0],r=t[1],lx.timeZoneDelimiter.test(n.date)&&(n.date=e.split(lx.timeZoneDelimiter)[0],r=e.substr(n.date.length,e.length))),r){const i=lx.timezone.exec(r);i?(n.time=r.replace(i[1],""),n.timezone=i[1]):n.time=r}return n}function PG(e,n){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+n)+"})|(\\d{2}|[+-]\\d{"+(2+n)+"})$)"),r=e.match(t);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((r[1]||r[2]).length)}}function FG(e,n){if(n===null)return new Date(NaN);const t=e.match(OG);if(!t)return new Date(NaN);const r=!!t[4],i=$g(t[1]),a=$g(t[2])-1,s=$g(t[3]),l=$g(t[4]),u=$g(t[5])-1;if(r)return VG(n,l,u)?BG(n,l,u):new Date(NaN);{const f=new Date(0);return!UG(n,a,s)||!HG(n,i)?new Date(NaN):(f.setUTCFullYear(n,a,Math.max(i,s)),f)}}function $g(e){return e?parseInt(e):1}function zG(e){const n=e.match(MG);if(!n)return NaN;const t=F5(n[1]),r=F5(n[2]),i=F5(n[3]);return WG(t,r,i)?t*d2+r*c2+i*1e3:NaN}function F5(e){return e&&parseFloat(e.replace(",","."))||0}function qG(e){if(e==="Z")return 0;const n=e.match(LG);if(!n)return 0;const t=n[1]==="+"?-1:1,r=parseInt(n[2]),i=n[3]&&parseInt(n[3])||0;return YG(r,i)?t*(r*d2+i*c2):NaN}function BG(e,n,t){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,a=(n-1)*7+t+1-i;return r.setUTCDate(r.getUTCDate()+a),r}const $G=[31,null,31,30,31,30,31,31,30,31,30,31];function O7(e){return e%400===0||e%4===0&&e%100!==0}function UG(e,n,t){return n>=0&&n<=11&&t>=1&&t<=($G[n]||(O7(e)?29:28))}function HG(e,n){return n>=1&&n<=(O7(e)?366:365)}function VG(e,n,t){return n>=1&&n<=53&&t>=0&&t<=6}function WG(e,n,t){return e===24?n===0&&t===0:t>=0&&t<60&&n>=0&&n<60&&e>=0&&e<25}function YG(e,n){return n>=0&&n<=59}function Ao(e,n){const t=Pt(e),r=t.getFullYear(),i=t.getDate(),a=zr(e,0);a.setFullYear(r,n,15),a.setHours(0,0,0,0);const s=k7(a);return t.setMonth(n,Math.min(i,s)),t}function GG(e,n){let t=Pt(e);return isNaN(+t)?zr(e,NaN):(n.year!=null&&t.setFullYear(n.year),n.month!=null&&(t=Ao(t,n.month)),n.date!=null&&t.setDate(n.date),n.hours!=null&&t.setHours(n.hours),n.minutes!=null&&t.setMinutes(n.minutes),n.seconds!=null&&t.setSeconds(n.seconds),n.milliseconds!=null&&t.setMilliseconds(n.milliseconds),t)}function QG(e,n){const t=Pt(e);return t.setDate(n),t}function T1(e,n){const t=Pt(e);return t.setHours(n),t}function KG(e,n){const t=Pt(e);return t.setMilliseconds(n),t}function N1(e,n){const t=Pt(e);return t.setMinutes(n),t}function B0(e,n){const t=Pt(e),r=Math.trunc(t.getMonth()/3)+1,i=n-r;return Ao(t,t.getMonth()+i*3)}function D1(e,n){const t=Pt(e);return t.setSeconds(n),t}function Eu(e,n){const t=Pt(e);return isNaN(+t)?zr(e,NaN):(t.setFullYear(n),t)}function gp(e,n){return Vl(e,-n)}function M7(e,n){return HC(e,-1)}function J4(e,n){return J1(e,-1)}function jm(e,n){return $c(e,-n)}function f2(){return typeof window<"u"}function Pm(e){return L7(e)?(e.nodeName||"").toLowerCase():"#document"}function rl(e){var n;return(e==null||(n=e.ownerDocument)==null?void 0:n.defaultView)||window}function od(e){var n;return(n=(L7(e)?e.ownerDocument:e.document)||window.document)==null?void 0:n.documentElement}function L7(e){return f2()?e instanceof Node||e instanceof rl(e).Node:!1}function uo(e){return f2()?e instanceof Element||e instanceof rl(e).Element:!1}function nd(e){return f2()?e instanceof HTMLElement||e instanceof rl(e).HTMLElement:!1}function ej(e){return!f2()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof rl(e).ShadowRoot}const XG=new Set(["inline","contents"]);function Ib(e){const{overflow:n,overflowX:t,overflowY:r,display:i}=Wl(e);return/auto|scroll|overlay|hidden|clip/.test(n+r+t)&&!XG.has(i)}const ZG=new Set(["table","td","th"]);function JG(e){return ZG.has(Pm(e))}const eQ=[":popover-open",":modal"];function h2(e){return eQ.some(n=>{try{return e.matches(n)}catch{return!1}})}const tQ=["transform","translate","scale","rotate","perspective"],nQ=["transform","translate","scale","rotate","perspective","filter"],rQ=["paint","layout","strict","content"];function JC(e){const n=eA(),t=uo(e)?Wl(e):e;return tQ.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!n&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!n&&(t.filter?t.filter!=="none":!1)||nQ.some(r=>(t.willChange||"").includes(r))||rQ.some(r=>(t.contain||"").includes(r))}function iQ(e){let n=ph(e);for(;nd(n)&&!Tm(n);){if(JC(n))return n;if(h2(n))return null;n=ph(n)}return null}function eA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const aQ=new Set(["html","body","#document"]);function Tm(e){return aQ.has(Pm(e))}function Wl(e){return rl(e).getComputedStyle(e)}function p2(e){return uo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ph(e){if(Pm(e)==="html")return e;const n=e.assignedSlot||e.parentNode||ej(e)&&e.host||od(e);return ej(n)?n.host:n}function R7(e){const n=ph(e);return Tm(n)?e.ownerDocument?e.ownerDocument.body:e.body:nd(n)&&Ib(n)?n:R7(n)}function nb(e,n,t){var r;n===void 0&&(n=[]),t===void 0&&(t=!0);const i=R7(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),s=rl(i);if(a){const l=m6(s);return n.concat(s,s.visualViewport||[],Ib(i)?i:[],l&&t?nb(l):[])}return n.concat(i,nb(i,[],t))}function m6(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const Nm=Math.min,bp=Math.max,xv=Math.round,ux=Math.floor,Vc=e=>({x:e,y:e}),sQ={left:"right",right:"left",bottom:"top",top:"bottom"},oQ={start:"end",end:"start"};function lQ(e,n,t){return bp(e,Nm(n,t))}function m2(e,n){return typeof e=="function"?e(n):e}function Dm(e){return e.split("-")[0]}function Ob(e){return e.split("-")[1]}function uQ(e){return e==="x"?"y":"x"}function tA(e){return e==="y"?"height":"width"}const cQ=new Set(["top","bottom"]);function cp(e){return cQ.has(Dm(e))?"y":"x"}function nA(e){return uQ(cp(e))}function dQ(e,n,t){t===void 0&&(t=!1);const r=Ob(e),i=nA(e),a=tA(i);let s=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return n.reference[a]>n.floating[a]&&(s=vv(s)),[s,vv(s)]}function fQ(e){const n=vv(e);return[g6(e),n,g6(n)]}function g6(e){return e.replace(/start|end/g,n=>oQ[n])}const tj=["left","right"],nj=["right","left"],hQ=["top","bottom"],pQ=["bottom","top"];function mQ(e,n,t){switch(e){case"top":case"bottom":return t?n?nj:tj:n?tj:nj;case"left":case"right":return n?hQ:pQ;default:return[]}}function gQ(e,n,t,r){const i=Ob(e);let a=mQ(Dm(e),t==="start",r);return i&&(a=a.map(s=>s+"-"+i),n&&(a=a.concat(a.map(g6)))),a}function vv(e){return e.replace(/left|right|bottom|top/g,n=>sQ[n])}function bQ(e){return{top:0,right:0,bottom:0,left:0,...e}}function P7(e){return typeof e!="number"?bQ(e):{top:e,right:e,bottom:e,left:e}}function wv(e){const{x:n,y:t,width:r,height:i}=e;return{width:r,height:i,top:t,left:n,right:n+r,bottom:t+i,x:n,y:t}}var yQ=typeof document<"u",xQ=function(){},Sv=yQ?M.useLayoutEffect:xQ;const vQ={...zv},wQ=vQ.useInsertionEffect,SQ=wQ||(e=>e());function CQ(e){const n=M.useRef(()=>{});return SQ(()=>{n.current=e}),M.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n.current==null?void 0:n.current(...r)},[])}function rj(e,n,t){let{reference:r,floating:i}=e;const a=cp(n),s=nA(n),l=tA(s),u=Dm(n),f=a==="y",h=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,b=r[l]/2-i[l]/2;let g;switch(u){case"top":g={x:h,y:r.y-i.height};break;case"bottom":g={x:h,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:m};break;case"left":g={x:r.x-i.width,y:m};break;default:g={x:r.x,y:r.y}}switch(Ob(n)){case"start":g[s]-=b*(t&&f?-1:1);break;case"end":g[s]+=b*(t&&f?-1:1);break}return g}const AQ=async(e,n,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=t,l=a.filter(Boolean),u=await(s.isRTL==null?void 0:s.isRTL(n));let f=await s.getElementRects({reference:e,floating:n,strategy:i}),{x:h,y:m}=rj(f,r,u),b=r,g={},v=0;for(let x=0;x<l.length;x++){const{name:C,fn:S}=l[x],{x:A,y:N,data:P,reset:U}=await S({x:h,y:m,initialPlacement:r,placement:b,strategy:i,middlewareData:g,rects:f,platform:s,elements:{reference:e,floating:n}});h=A??h,m=N??m,g={...g,[C]:{...g[C],...P}},U&&v<=50&&(v++,typeof U=="object"&&(U.placement&&(b=U.placement),U.rects&&(f=U.rects===!0?await s.getElementRects({reference:e,floating:n,strategy:i}):U.rects),{x:h,y:m}=rj(f,b,u)),x=-1)}return{x:h,y:m,placement:b,strategy:i,middlewareData:g}};async function kQ(e,n){var t;n===void 0&&(n={});const{x:r,y:i,platform:a,rects:s,elements:l,strategy:u}=e,{boundary:f="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:b=!1,padding:g=0}=m2(n,e),v=P7(g),C=l[b?m==="floating"?"reference":"floating":m],S=wv(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(C)))==null||t?C:C.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:f,rootBoundary:h,strategy:u})),A=m==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),P=await(a.isElement==null?void 0:a.isElement(N))?await(a.getScale==null?void 0:a.getScale(N))||{x:1,y:1}:{x:1,y:1},U=wv(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:A,offsetParent:N,strategy:u}):A);return{top:(S.top-U.top+v.top)/P.y,bottom:(U.bottom-S.bottom+v.bottom)/P.y,left:(S.left-U.left+v.left)/P.x,right:(U.right-S.right+v.right)/P.x}}const EQ=e=>({name:"arrow",options:e,async fn(n){const{x:t,y:r,placement:i,rects:a,platform:s,elements:l,middlewareData:u}=n,{element:f,padding:h=0}=m2(e,n)||{};if(f==null)return{};const m=P7(h),b={x:t,y:r},g=nA(i),v=tA(g),x=await s.getDimensions(f),C=g==="y",S=C?"top":"left",A=C?"bottom":"right",N=C?"clientHeight":"clientWidth",P=a.reference[v]+a.reference[g]-b[g]-a.floating[v],U=b[g]-a.reference[g],B=await(s.getOffsetParent==null?void 0:s.getOffsetParent(f));let j=B?B[N]:0;(!j||!await(s.isElement==null?void 0:s.isElement(B)))&&(j=l.floating[N]||a.floating[v]);const F=P/2-U/2,V=j/2-x[v]/2-1,X=Nm(m[S],V),T=Nm(m[A],V),D=X,O=j-x[v]-T,L=j/2-x[v]/2+F,Q=lQ(D,L,O),$=!u.arrow&&Ob(i)!=null&&L!==Q&&a.reference[v]/2-(L<D?X:T)-x[v]/2<0,Y=$?L<D?L-D:L-O:0;return{[g]:b[g]+Y,data:{[g]:Q,centerOffset:L-Q-Y,...$&&{alignmentOffset:Y}},reset:$}}}),jQ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(n){var t,r;const{placement:i,middlewareData:a,rects:s,initialPlacement:l,platform:u,elements:f}=n,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:b,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...C}=m2(e,n);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const S=Dm(i),A=cp(l),N=Dm(l)===l,P=await(u.isRTL==null?void 0:u.isRTL(f.floating)),U=b||(N||!x?[vv(l)]:fQ(l)),B=v!=="none";!b&&B&&U.push(...gQ(l,x,v,P));const j=[l,...U],F=await kQ(n,C),V=[];let X=((r=a.flip)==null?void 0:r.overflows)||[];if(h&&V.push(F[S]),m){const L=dQ(i,s,P);V.push(F[L[0]],F[L[1]])}if(X=[...X,{placement:i,overflows:V}],!V.every(L=>L<=0)){var T,D;const L=(((T=a.flip)==null?void 0:T.index)||0)+1,Q=j[L];if(Q&&(!(m==="alignment"?A!==cp(Q):!1)||X.every(Z=>Z.overflows[0]>0&&cp(Z.placement)===A)))return{data:{index:L,overflows:X},reset:{placement:Q}};let $=(D=X.filter(Y=>Y.overflows[0]<=0).sort((Y,Z)=>Y.overflows[1]-Z.overflows[1])[0])==null?void 0:D.placement;if(!$)switch(g){case"bestFit":{var O;const Y=(O=X.filter(Z=>{if(B){const re=cp(Z.placement);return re===A||re==="y"}return!0}).map(Z=>[Z.placement,Z.overflows.filter(re=>re>0).reduce((re,H)=>re+H,0)]).sort((Z,re)=>Z[1]-re[1])[0])==null?void 0:O[0];Y&&($=Y);break}case"initialPlacement":$=l;break}if(i!==$)return{reset:{placement:$}}}return{}}}},TQ=new Set(["left","top"]);async function NQ(e,n){const{placement:t,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Dm(t),l=Ob(t),u=cp(t)==="y",f=TQ.has(s)?-1:1,h=a&&u?-1:1,m=m2(n,e);let{mainAxis:b,crossAxis:g,alignmentAxis:v}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof v=="number"&&(g=l==="end"?v*-1:v),u?{x:g*h,y:b*f}:{x:b*f,y:g*h}}const DQ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){var t,r;const{x:i,y:a,placement:s,middlewareData:l}=n,u=await NQ(n,e);return s===((t=l.offset)==null?void 0:t.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:a+u.y,data:{...u,placement:s}}}}};function F7(e){const n=Wl(e);let t=parseFloat(n.width)||0,r=parseFloat(n.height)||0;const i=nd(e),a=i?e.offsetWidth:t,s=i?e.offsetHeight:r,l=xv(t)!==a||xv(r)!==s;return l&&(t=a,r=s),{width:t,height:r,$:l}}function rA(e){return uo(e)?e:e.contextElement}function Z0(e){const n=rA(e);if(!nd(n))return Vc(1);const t=n.getBoundingClientRect(),{width:r,height:i,$:a}=F7(n);let s=(a?xv(t.width):t.width)/r,l=(a?xv(t.height):t.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const _Q=Vc(0);function z7(e){const n=rl(e);return!eA()||!n.visualViewport?_Q:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function IQ(e,n,t){return n===void 0&&(n=!1),!t||n&&t!==rl(e)?!1:n}function Ap(e,n,t,r){n===void 0&&(n=!1),t===void 0&&(t=!1);const i=e.getBoundingClientRect(),a=rA(e);let s=Vc(1);n&&(r?uo(r)&&(s=Z0(r)):s=Z0(e));const l=IQ(a,t,r)?z7(a):Vc(0);let u=(i.left+l.x)/s.x,f=(i.top+l.y)/s.y,h=i.width/s.x,m=i.height/s.y;if(a){const b=rl(a),g=r&&uo(r)?rl(r):r;let v=b,x=m6(v);for(;x&&r&&g!==v;){const C=Z0(x),S=x.getBoundingClientRect(),A=Wl(x),N=S.left+(x.clientLeft+parseFloat(A.paddingLeft))*C.x,P=S.top+(x.clientTop+parseFloat(A.paddingTop))*C.y;u*=C.x,f*=C.y,h*=C.x,m*=C.y,u+=N,f+=P,v=rl(x),x=m6(v)}}return wv({width:h,height:m,x:u,y:f})}function iA(e,n){const t=p2(e).scrollLeft;return n?n.left+t:Ap(od(e)).left+t}function q7(e,n,t){t===void 0&&(t=!1);const r=e.getBoundingClientRect(),i=r.left+n.scrollLeft-(t?0:iA(e,r)),a=r.top+n.scrollTop;return{x:i,y:a}}function OQ(e){let{elements:n,rect:t,offsetParent:r,strategy:i}=e;const a=i==="fixed",s=od(r),l=n?h2(n.floating):!1;if(r===s||l&&a)return t;let u={scrollLeft:0,scrollTop:0},f=Vc(1);const h=Vc(0),m=nd(r);if((m||!m&&!a)&&((Pm(r)!=="body"||Ib(s))&&(u=p2(r)),nd(r))){const g=Ap(r);f=Z0(r),h.x=g.x+r.clientLeft,h.y=g.y+r.clientTop}const b=s&&!m&&!a?q7(s,u,!0):Vc(0);return{width:t.width*f.x,height:t.height*f.y,x:t.x*f.x-u.scrollLeft*f.x+h.x+b.x,y:t.y*f.y-u.scrollTop*f.y+h.y+b.y}}function MQ(e){return Array.from(e.getClientRects())}function LQ(e){const n=od(e),t=p2(e),r=e.ownerDocument.body,i=bp(n.scrollWidth,n.clientWidth,r.scrollWidth,r.clientWidth),a=bp(n.scrollHeight,n.clientHeight,r.scrollHeight,r.clientHeight);let s=-t.scrollLeft+iA(e);const l=-t.scrollTop;return Wl(r).direction==="rtl"&&(s+=bp(n.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:l}}function RQ(e,n){const t=rl(e),r=od(e),i=t.visualViewport;let a=r.clientWidth,s=r.clientHeight,l=0,u=0;if(i){a=i.width,s=i.height;const f=eA();(!f||f&&n==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}return{width:a,height:s,x:l,y:u}}const PQ=new Set(["absolute","fixed"]);function FQ(e,n){const t=Ap(e,!0,n==="fixed"),r=t.top+e.clientTop,i=t.left+e.clientLeft,a=nd(e)?Z0(e):Vc(1),s=e.clientWidth*a.x,l=e.clientHeight*a.y,u=i*a.x,f=r*a.y;return{width:s,height:l,x:u,y:f}}function ij(e,n,t){let r;if(n==="viewport")r=RQ(e,t);else if(n==="document")r=LQ(od(e));else if(uo(n))r=FQ(n,t);else{const i=z7(e);r={x:n.x-i.x,y:n.y-i.y,width:n.width,height:n.height}}return wv(r)}function B7(e,n){const t=ph(e);return t===n||!uo(t)||Tm(t)?!1:Wl(t).position==="fixed"||B7(t,n)}function zQ(e,n){const t=n.get(e);if(t)return t;let r=nb(e,[],!1).filter(l=>uo(l)&&Pm(l)!=="body"),i=null;const a=Wl(e).position==="fixed";let s=a?ph(e):e;for(;uo(s)&&!Tm(s);){const l=Wl(s),u=JC(s);!u&&l.position==="fixed"&&(i=null),(a?!u&&!i:!u&&l.position==="static"&&!!i&&PQ.has(i.position)||Ib(s)&&!u&&B7(e,s))?r=r.filter(h=>h!==s):i=l,s=ph(s)}return n.set(e,r),r}function qQ(e){let{element:n,boundary:t,rootBoundary:r,strategy:i}=e;const s=[...t==="clippingAncestors"?h2(n)?[]:zQ(n,this._c):[].concat(t),r],l=s[0],u=s.reduce((f,h)=>{const m=ij(n,h,i);return f.top=bp(m.top,f.top),f.right=Nm(m.right,f.right),f.bottom=Nm(m.bottom,f.bottom),f.left=bp(m.left,f.left),f},ij(n,l,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function BQ(e){const{width:n,height:t}=F7(e);return{width:n,height:t}}function $Q(e,n,t){const r=nd(n),i=od(n),a=t==="fixed",s=Ap(e,!0,a,n);let l={scrollLeft:0,scrollTop:0};const u=Vc(0);function f(){u.x=iA(i)}if(r||!r&&!a)if((Pm(n)!=="body"||Ib(i))&&(l=p2(n)),r){const g=Ap(n,!0,a,n);u.x=g.x+n.clientLeft,u.y=g.y+n.clientTop}else i&&f();a&&!r&&i&&f();const h=i&&!r&&!a?q7(i,l):Vc(0),m=s.left+l.scrollLeft-u.x-h.x,b=s.top+l.scrollTop-u.y-h.y;return{x:m,y:b,width:s.width,height:s.height}}function z5(e){return Wl(e).position==="static"}function aj(e,n){if(!nd(e)||Wl(e).position==="fixed")return null;if(n)return n(e);let t=e.offsetParent;return od(e)===t&&(t=t.ownerDocument.body),t}function $7(e,n){const t=rl(e);if(h2(e))return t;if(!nd(e)){let i=ph(e);for(;i&&!Tm(i);){if(uo(i)&&!z5(i))return i;i=ph(i)}return t}let r=aj(e,n);for(;r&&JG(r)&&z5(r);)r=aj(r,n);return r&&Tm(r)&&z5(r)&&!JC(r)?t:r||iQ(e)||t}const UQ=async function(e){const n=this.getOffsetParent||$7,t=this.getDimensions,r=await t(e.floating);return{reference:$Q(e.reference,await n(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function HQ(e){return Wl(e).direction==="rtl"}const VQ={convertOffsetParentRelativeRectToViewportRelativeRect:OQ,getDocumentElement:od,getClippingRect:qQ,getOffsetParent:$7,getElementRects:UQ,getClientRects:MQ,getDimensions:BQ,getScale:Z0,isElement:uo,isRTL:HQ};function U7(e,n){return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height}function WQ(e,n){let t=null,r;const i=od(e);function a(){var l;clearTimeout(r),(l=t)==null||l.disconnect(),t=null}function s(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),a();const f=e.getBoundingClientRect(),{left:h,top:m,width:b,height:g}=f;if(l||n(),!b||!g)return;const v=ux(m),x=ux(i.clientWidth-(h+b)),C=ux(i.clientHeight-(m+g)),S=ux(h),N={rootMargin:-v+"px "+-x+"px "+-C+"px "+-S+"px",threshold:bp(0,Nm(1,u))||1};let P=!0;function U(B){const j=B[0].intersectionRatio;if(j!==u){if(!P)return s();j?s(!1,j):r=setTimeout(()=>{s(!1,1e-7)},1e3)}j===1&&!U7(f,e.getBoundingClientRect())&&s(),P=!1}try{t=new IntersectionObserver(U,{...N,root:i.ownerDocument})}catch{t=new IntersectionObserver(U,N)}t.observe(e)}return s(!0),a}function YQ(e,n,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,f=rA(e),h=i||a?[...f?nb(f):[],...nb(n)]:[];h.forEach(S=>{i&&S.addEventListener("scroll",t,{passive:!0}),a&&S.addEventListener("resize",t)});const m=f&&l?WQ(f,t):null;let b=-1,g=null;s&&(g=new ResizeObserver(S=>{let[A]=S;A&&A.target===f&&g&&(g.unobserve(n),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var N;(N=g)==null||N.observe(n)})),t()}),f&&!u&&g.observe(f),g.observe(n));let v,x=u?Ap(e):null;u&&C();function C(){const S=Ap(e);x&&!U7(x,S)&&t(),x=S,v=requestAnimationFrame(C)}return t(),()=>{var S;h.forEach(A=>{i&&A.removeEventListener("scroll",t),a&&A.removeEventListener("resize",t)}),m==null||m(),(S=g)==null||S.disconnect(),g=null,u&&cancelAnimationFrame(v)}}const GQ=DQ,QQ=jQ,sj=EQ,KQ=(e,n,t)=>{const r=new Map,i={platform:VQ,...t},a={...i.platform,_c:r};return AQ(e,n,{...i,platform:a})};var XQ=typeof document<"u",ZQ=function(){},Rx=XQ?M.useLayoutEffect:ZQ;function Cv(e,n){if(e===n)return!0;if(typeof e!=typeof n)return!1;if(typeof e=="function"&&e.toString()===n.toString())return!0;let t,r,i;if(e&&n&&typeof e=="object"){if(Array.isArray(e)){if(t=e.length,t!==n.length)return!1;for(r=t;r--!==0;)if(!Cv(e[r],n[r]))return!1;return!0}if(i=Object.keys(e),t=i.length,t!==Object.keys(n).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(n,i[r]))return!1;for(r=t;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!Cv(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}function H7(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function oj(e,n){const t=H7(e);return Math.round(n*t)/t}function q5(e){const n=M.useRef(e);return Rx(()=>{n.current=e}),n}function JQ(e){e===void 0&&(e={});const{placement:n="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:s}={},transform:l=!0,whileElementsMounted:u,open:f}=e,[h,m]=M.useState({x:0,y:0,strategy:t,placement:n,middlewareData:{},isPositioned:!1}),[b,g]=M.useState(r);Cv(b,r)||g(r);const[v,x]=M.useState(null),[C,S]=M.useState(null),A=M.useCallback(Z=>{Z!==B.current&&(B.current=Z,x(Z))},[]),N=M.useCallback(Z=>{Z!==j.current&&(j.current=Z,S(Z))},[]),P=a||v,U=s||C,B=M.useRef(null),j=M.useRef(null),F=M.useRef(h),V=u!=null,X=q5(u),T=q5(i),D=q5(f),O=M.useCallback(()=>{if(!B.current||!j.current)return;const Z={placement:n,strategy:t,middleware:b};T.current&&(Z.platform=T.current),KQ(B.current,j.current,Z).then(re=>{const H={...re,isPositioned:D.current!==!1};L.current&&!Cv(F.current,H)&&(F.current=H,QR.flushSync(()=>{m(H)}))})},[b,n,t,T,D]);Rx(()=>{f===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,m(Z=>({...Z,isPositioned:!1})))},[f]);const L=M.useRef(!1);Rx(()=>(L.current=!0,()=>{L.current=!1}),[]),Rx(()=>{if(P&&(B.current=P),U&&(j.current=U),P&&U){if(X.current)return X.current(P,U,O);O()}},[P,U,O,X,V]);const Q=M.useMemo(()=>({reference:B,floating:j,setReference:A,setFloating:N}),[A,N]),$=M.useMemo(()=>({reference:P,floating:U}),[P,U]),Y=M.useMemo(()=>{const Z={position:t,left:0,top:0};if(!$.floating)return Z;const re=oj($.floating,h.x),H=oj($.floating,h.y);return l?{...Z,transform:"translate("+re+"px, "+H+"px)",...H7($.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:re,top:H}},[t,l,$.floating,h.x,h.y]);return M.useMemo(()=>({...h,update:O,refs:Q,elements:$,floatingStyles:Y}),[h,O,Q,$,Y])}const eK=e=>{function n(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:e,fn(t){const{element:r,padding:i}=typeof e=="function"?e(t):e;return r&&n(r)?r.current!=null?sj({element:r.current,padding:i}).fn(t):{}:r?sj({element:r,padding:i}).fn(t):{}}}},tK=(e,n)=>({...GQ(e),options:[e,n]}),nK=(e,n)=>({...QQ(e),options:[e,n]}),rK=(e,n)=>({...eK(e),options:[e,n]}),iK={...zv};let lj=!1,aK=0;const uj=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+aK++;function sK(){const[e,n]=M.useState(()=>lj?uj():void 0);return Sv(()=>{e==null&&n(uj())},[]),M.useEffect(()=>{lj=!0},[]),e}const oK=iK.useId,V7=oK||sK,lK=M.forwardRef(function(n,t){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:a,shift:s}},width:l=14,height:u=7,tipRadius:f=0,strokeWidth:h=0,staticOffset:m,stroke:b,d:g,style:{transform:v,...x}={},...C}=n,S=V7(),[A,N]=M.useState(!1);if(Sv(()=>{if(!i)return;Wl(i).direction==="rtl"&&N(!0)},[i]),!i)return null;const[P,U]=r.split("-"),B=P==="top"||P==="bottom";let j=m;(B&&s!=null&&s.x||!B&&s!=null&&s.y)&&(j=null);const F=h*2,V=F/2,X=l/2*(f/-8+1),T=u/2*f/4,D=!!g,O=j&&U==="end"?"bottom":"top";let L=j&&U==="end"?"right":"left";j&&A&&(L=U==="end"?"left":"right");const Q=(a==null?void 0:a.x)!=null?j||a.x:"",$=(a==null?void 0:a.y)!=null?j||a.y:"",Y=g||"M0,0"+(" H"+l)+(" L"+(l-X)+","+(u-T))+(" Q"+l/2+","+u+" "+X+","+(u-T))+" Z",Z={top:D?"rotate(180deg)":"",left:D?"rotate(90deg)":"rotate(-90deg)",bottom:D?"":"rotate(180deg)",right:D?"rotate(-90deg)":"rotate(90deg)"}[P];return d.jsxs("svg",{...C,"aria-hidden":!0,ref:t,width:D?l:l+F,height:l,viewBox:"0 0 "+l+" "+(u>l?u:l),style:{position:"absolute",pointerEvents:"none",[L]:Q,[O]:$,[P]:B||D?"100%":"calc(100% - "+F/2+"px)",transform:[Z,v].filter(re=>!!re).join(" "),...x},children:[F>0&&d.jsx("path",{clipPath:"url(#"+S+")",fill:"none",stroke:b,strokeWidth:F+(g?0:1),d:Y}),d.jsx("path",{stroke:F&&!g?C.fill:"none",d:Y}),d.jsx("clipPath",{id:S,children:d.jsx("rect",{x:-V,y:V*(D?-1:1),width:l+F,height:l})})]})});function uK(){const e=new Map;return{emit(n,t){var r;(r=e.get(n))==null||r.forEach(i=>i(t))},on(n,t){e.has(n)||e.set(n,new Set),e.get(n).add(t)},off(n,t){var r;(r=e.get(n))==null||r.delete(t)}}}const cK=M.createContext(null),dK=M.createContext(null),fK=()=>{var e;return((e=M.useContext(cK))==null?void 0:e.id)||null},hK=()=>M.useContext(dK);function pK(e){const{open:n=!1,onOpenChange:t,elements:r}=e,i=V7(),a=M.useRef({}),[s]=M.useState(()=>uK()),l=fK()!=null,[u,f]=M.useState(r.reference),h=CQ((g,v,x)=>{a.current.openEvent=g?v:void 0,s.emit("openchange",{open:g,event:v,reason:x,nested:l}),t==null||t(g,v,x)}),m=M.useMemo(()=>({setPositionReference:f}),[]),b=M.useMemo(()=>({reference:u||r.reference||null,floating:r.floating||null,domReference:r.reference}),[u,r.reference,r.floating]);return M.useMemo(()=>({dataRef:a,open:n,onOpenChange:h,elements:b,events:s,floatingId:i,refs:m}),[n,h,b,s,i,m])}function mK(e){e===void 0&&(e={});const{nodeId:n}=e,t=pK({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||t,i=r.elements,[a,s]=M.useState(null),[l,u]=M.useState(null),h=(i==null?void 0:i.domReference)||a,m=M.useRef(null),b=hK();Sv(()=>{h&&(m.current=h)},[h]);const g=JQ({...e,elements:{...i,...l&&{reference:l}}}),v=M.useCallback(N=>{const P=uo(N)?{getBoundingClientRect:()=>N.getBoundingClientRect(),getClientRects:()=>N.getClientRects(),contextElement:N}:N;u(P),g.refs.setReference(P)},[g.refs]),x=M.useCallback(N=>{(uo(N)||N===null)&&(m.current=N,s(N)),(uo(g.refs.reference.current)||g.refs.reference.current===null||N!==null&&!uo(N))&&g.refs.setReference(N)},[g.refs]),C=M.useMemo(()=>({...g.refs,setReference:x,setPositionReference:v,domReference:m}),[g.refs,x,v]),S=M.useMemo(()=>({...g.elements,domReference:h}),[g.elements,h]),A=M.useMemo(()=>({...g,...r,refs:C,elements:S,nodeId:n}),[g,C,S,n,r]);return Sv(()=>{r.dataRef.current.floatingContext=A;const N=b==null?void 0:b.nodesRef.current.find(P=>P.id===n);N&&(N.context=A)}),M.useMemo(()=>({...g,context:A,refs:C,elements:S}),[g,C,S,A])}/*!
  react-datepicker v7.6.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var b6=function(n,t){return b6=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},b6(n,t)};function fs(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");b6(e,n);function t(){this.constructor=e}e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var ur=function(){return ur=Object.assign||function(t){for(var r,i=1,a=arguments.length;i<a;i++){r=arguments[i];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},ur.apply(this,arguments)};function Pc(e,n,t){if(t||arguments.length===2)for(var r=0,i=n.length,a;r<i;r++)(a||!(r in n))&&(a||(a=Array.prototype.slice.call(n,0,r)),a[r]=n[r]);return e.concat(a||Array.prototype.slice.call(n))}var gK=function(e){var n=e.showTimeSelectOnly,t=n===void 0?!1:n,r=e.showTime,i=r===void 0?!1:r,a=e.className,s=e.children,l=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return it.createElement("div",{className:a,role:"dialog","aria-label":l,"aria-modal":"true"},s)},bK=function(e,n){var t=M.useRef(null),r=M.useRef(e);r.current=e;var i=M.useCallback(function(a){var s;t.current&&!t.current.contains(a.target)&&(n&&a.target instanceof HTMLElement&&a.target.classList.contains(n)||(s=r.current)===null||s===void 0||s.call(r,a))},[n]);return M.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),t},g2=function(e){var n=e.children,t=e.onClickOutside,r=e.className,i=e.containerRef,a=e.style,s=e.ignoreClass,l=bK(t,s);return it.createElement("div",{className:r,style:a,ref:function(u){l.current=u,i&&(i.current=u)}},n)},Rt;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(Rt||(Rt={}));function W7(){var e=typeof window<"u"?window:globalThis;return e}var Mb=12,yK=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Br(e){if(e==null)return new Date;var n=typeof e=="string"?IG(e):Pt(e);return Fd(n)?n:new Date}function B5(e,n,t,r,i){var a,s=null,l=yp(t)||yp(_1()),u=!0;if(Array.isArray(n))return n.forEach(function(h){var m=Lx(e,h,new Date,{locale:l,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(u=Fd(m,i)&&e===wi(m,h,t)),Fd(m,i)&&u&&(s=m)}),s;if(s=Lx(e,n,new Date,{locale:l,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r)u=Fd(s)&&e===wi(s,n,t);else if(!Fd(s)){var f=((a=n.match(yK))!==null&&a!==void 0?a:[]).map(function(h){var m=h[0];if(m==="p"||m==="P"){var b=tb[m];return l?b(h,l.formatLong):m}return h}).join("");e.length>0&&(s=Lx(e,f.slice(0,e.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Fd(s)||(s=new Date(e))}return Fd(s)&&u?s:null}function Fd(e,n){return eb(e)&&!Hc(e,n??new Date("1/1/1800"))}function wi(e,n,t){if(t==="en")return f6(e,n,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=t?yp(t):void 0;return t&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),!r&&_1()&&yp(_1())&&(r=yp(_1())),f6(e,n,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Il(e,n){var t=n.dateFormat,r=n.locale,i=Array.isArray(t)&&t.length>0?t[0]:t;return e&&wi(e,i,r)||""}function xK(e,n,t){if(!e)return"";var r=Il(e,t),i=n?Il(n,t):"";return"".concat(r," - ").concat(i)}function vK(e,n){if(!(e!=null&&e.length))return"";var t=e[0]?Il(e[0],n):"";if(e.length===1)return t;if(e.length===2&&e[1]){var r=Il(e[1],n);return"".concat(t,", ").concat(r)}var i=e.length-1;return"".concat(t," (+").concat(i,")")}function $5(e,n){var t=n.hour,r=t===void 0?0:t,i=n.minute,a=i===void 0?0:i,s=n.second,l=s===void 0?0:s;return T1(N1(D1(e,l),a),r)}function wK(e){return GC(e)}function SK(e,n){return wi(e,"ddd",n)}function Px(e){return hh(e)}function oh(e,n,t){var r=yp(n||_1());return td(e,{locale:r,weekStartsOn:t})}function Wd(e){return WC(e)}function C1(e){return _b(e)}function cj(e){return c6(e)}function dj(){return hh(Br())}function fj(e){return gv(e)}function CK(e){return w7(e)}function AK(e){return VC(e)}function Ac(e,n){return e&&n?I7(e,n):!e&&!n}function oo(e,n){return e&&n?_7(e,n):!e&&!n}function Av(e,n){return e&&n?DG(e,n):!e&&!n}function ir(e,n){return e&&n?v7(e,n):!e&&!n}function dp(e,n){return e&&n?E7(e,n):!e&&!n}function A1(e,n,t){var r,i=hh(n),a=gv(t);try{r=Em(e,{start:i,end:a})}catch{r=!1}return r}function _1(){var e=W7();return e.__localeId__}function yp(e){if(typeof e=="string"){var n=W7();return n.__localeData__?n.__localeData__[e]:void 0}else return e}function kK(e,n,t){return n(wi(e,"EEEE",t))}function EK(e,n){return wi(e,"EEEEEE",n)}function jK(e,n){return wi(e,"EEE",n)}function aA(e,n){return wi(Ao(Br(),e),"LLLL",n)}function Y7(e,n){return wi(Ao(Br(),e),"LLL",n)}function TK(e,n){return wi(B0(Br(),e),"QQQ",n)}function Ll(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.excludeDateIntervals,l=t.includeDates,u=t.includeDateIntervals,f=t.filterDate;return Lb(e,{minDate:r,maxDate:i})||a&&a.some(function(h){return h instanceof Date?ir(e,h):ir(e,h.date)})||s&&s.some(function(h){var m=h.start,b=h.end;return Em(e,{start:m,end:b})})||l&&!l.some(function(h){return ir(e,h)})||u&&!u.some(function(h){var m=h.start,b=h.end;return Em(e,{start:m,end:b})})||f&&!f(Br(e))||!1}function sA(e,n){var t=n===void 0?{}:n,r=t.excludeDates,i=t.excludeDateIntervals;return i&&i.length>0?i.some(function(a){var s=a.start,l=a.end;return Em(e,{start:s,end:l})}):r&&r.some(function(a){var s;return a instanceof Date?ir(e,a):ir(e,(s=a.date)!==null&&s!==void 0?s:new Date)})||!1}function G7(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.includeDates,l=t.filterDate;return Lb(e,{minDate:r?WC(r):void 0,maxDate:i?VC(i):void 0})||(a==null?void 0:a.some(function(u){return oo(e,u instanceof Date?u:u.date)}))||s&&!s.some(function(u){return oo(e,u)})||l&&!l(Br(e))||!1}function cx(e,n,t,r){var i=$n(e),a=Gs(e),s=$n(n),l=Gs(n),u=$n(r);return i===s&&i===u?a<=t&&t<=l:i<s?u===i&&a<=t||u===s&&l>=t||u<s&&u>i:!1}function NK(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.includeDates;return Lb(e,{minDate:r,maxDate:i})||a&&a.some(function(l){return oo(l instanceof Date?l:l.date,e)})||s&&!s.some(function(l){return oo(l,e)})||!1}function dx(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.includeDates,l=t.filterDate;return Lb(e,{minDate:r,maxDate:i})||(a==null?void 0:a.some(function(u){return Av(e,u instanceof Date?u:u.date)}))||s&&!s.some(function(u){return Av(e,u)})||l&&!l(Br(e))||!1}function fx(e,n,t){if(!n||!t||!eb(n)||!eb(t))return!1;var r=$n(n),i=$n(t);return r<=e&&i>=e}function Fx(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.includeDates,l=t.filterDate,u=new Date(e,0,1);return Lb(u,{minDate:r?_b(r):void 0,maxDate:i?bv(i):void 0})||(a==null?void 0:a.some(function(f){return Ac(u,f instanceof Date?f:f.date)}))||s&&!s.some(function(f){return Ac(u,f)})||l&&!l(Br(u))||!1}function hx(e,n,t,r){var i=$n(e),a=mp(e),s=$n(n),l=mp(n),u=$n(r);return i===s&&i===u?a<=t&&t<=l:i<s?u===i&&a<=t||u===s&&l>=t||u<s&&u>i:!1}function Lb(e,n){var t,r=n===void 0?{}:n,i=r.minDate,a=r.maxDate;return(t=i&&km(e,i)<0||a&&km(e,a)>0)!==null&&t!==void 0?t:!1}function hj(e,n){return n.some(function(t){return Mu(t)===Mu(e)&&Lu(t)===Lu(e)&&Uc(t)===Uc(e)})}function pj(e,n){var t=n===void 0?{}:n,r=t.excludeTimes,i=t.includeTimes,a=t.filterTime;return r&&hj(e,r)||i&&!hj(e,i)||a&&!a(e)||!1}function mj(e,n){var t=n.minTime,r=n.maxTime;if(!t||!r)throw new Error("Both minTime and maxTime props required");var i=Br();i=T1(i,Mu(e)),i=N1(i,Lu(e)),i=D1(i,Uc(e));var a=Br();a=T1(a,Mu(t)),a=N1(a,Lu(t)),a=D1(a,Uc(t));var s=Br();s=T1(s,Mu(r)),s=N1(s,Lu(r)),s=D1(s,Uc(r));var l;try{l=!Em(i,{start:a,end:s})}catch{l=!1}return l}function gj(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.includeDates,a=gp(e,1);return r&&hv(r,a)>0||i&&i.every(function(s){return hv(s,a)>0})||!1}function bj(e,n){var t=n===void 0?{}:n,r=t.maxDate,i=t.includeDates,a=Vl(e,1);return r&&hv(a,r)>0||i&&i.every(function(s){return hv(a,s)>0})||!1}function DK(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.includeDates,a=_b(e),s=M7(a);return r&&pv(r,s)>0||i&&i.every(function(l){return pv(l,s)>0})||!1}function _K(e,n){var t=n===void 0?{}:n,r=t.maxDate,i=t.includeDates,a=bv(e),s=HC(a,1);return r&&pv(s,r)>0||i&&i.every(function(l){return pv(s,l)>0})||!1}function yj(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.includeDates,a=jm(e,1);return r&&mv(r,a)>0||i&&i.every(function(s){return mv(s,a)>0})||!1}function IK(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.yearItemNumber,a=i===void 0?Mb:i,s=C1(jm(e,a)),l=Xf(s,a).endPeriod,u=r&&$n(r);return u&&u>l||!1}function xj(e,n){var t=n===void 0?{}:n,r=t.maxDate,i=t.includeDates,a=$c(e,1);return r&&mv(a,r)>0||i&&i.every(function(s){return mv(a,s)>0})||!1}function OK(e,n){var t=n===void 0?{}:n,r=t.maxDate,i=t.yearItemNumber,a=i===void 0?Mb:i,s=$c(e,a),l=Xf(s,a).startPeriod,u=r&&$n(r);return u&&u<l||!1}function Q7(e){var n=e.minDate,t=e.includeDates;if(t&&n){var r=t.filter(function(i){return km(i,n)>=0});return W4(r)}else return t?W4(t):n}function K7(e){var n=e.maxDate,t=e.includeDates;if(t&&n){var r=t.filter(function(i){return km(i,n)<=0});return V4(r)}else return t?V4(t):n}function vj(e,n){var t;e===void 0&&(e=[]),n===void 0&&(n="react-datepicker__day--highlighted");for(var r=new Map,i=0,a=e.length;i<a;i++){var s=e[i];if(Vd(s)){var l=wi(s,"MM.dd.yyyy"),u=r.get(l)||[];u.includes(n)||(u.push(n),r.set(l,u))}else if(typeof s=="object"){var f=Object.keys(s),h=(t=f[0])!==null&&t!==void 0?t:"",m=s[h];if(typeof h=="string"&&Array.isArray(m))for(var b=0,g=m.length;b<g;b++){var v=m[b];if(v){var l=wi(v,"MM.dd.yyyy"),u=r.get(l)||[];u.includes(h)||(u.push(h),r.set(l,u))}}}}return r}function MK(e,n){return e.length!==n.length?!1:e.every(function(t,r){return t===n[r]})}function LK(e,n){e===void 0&&(e=[]),n===void 0&&(n="react-datepicker__day--holidays");var t=new Map;return e.forEach(function(r){var i=r.date,a=r.holidayName;if(Vd(i)){var s=wi(i,"MM.dd.yyyy"),l=t.get(s)||{className:"",holidayNames:[]};if(!("className"in l&&l.className===n&&MK(l.holidayNames,[a]))){l.className=n;var u=l.holidayNames;l.holidayNames=u?Pc(Pc([],u,!0),[a],!1):[a],t.set(s,l)}}}),t}function RK(e,n,t,r,i){for(var a=i.length,s=[],l=0;l<a;l++){var u=e,f=i[l];f&&(u=b7(u,Mu(f)),u=fv(u,Lu(f)),u=x7(u,Uc(f)));var h=fv(e,(t+1)*r);Ru(u,n)&&Hc(u,h)&&f!=null&&s.push(f)}return s}function wj(e){return e<10?"0".concat(e):"".concat(e)}function Xf(e,n){n===void 0&&(n=Mb);var t=Math.ceil($n(e)/n)*n,r=t-(n-1);return{startPeriod:r,endPeriod:t}}function PK(e){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+t-+n)/36e5)}function Sj(e){var n=e.getSeconds(),t=e.getMilliseconds();return Pt(e.getTime()-n*1e3-t)}function FK(e,n){return Sj(e).getTime()===Sj(n).getTime()}function Cj(e){if(!Vd(e))throw new Error("Invalid date");var n=new Date(e);return n.setHours(0,0,0,0),n}function Aj(e,n){if(!Vd(e)||!Vd(n))throw new Error("Invalid date received");var t=Cj(e),r=Cj(n);return Hc(t,r)}function X7(e){return e.key===Rt.Space}var zK=function(e){fs(n,e);function n(t){var r=e.call(this,t)||this;return r.inputRef=it.createRef(),r.onTimeChange=function(i){var a,s;r.setState({time:i});var l=r.props.date,u=l instanceof Date&&!isNaN(+l),f=u?l:new Date;if(i!=null&&i.includes(":")){var h=i.split(":"),m=h[0],b=h[1];f.setHours(Number(m)),f.setMinutes(Number(b))}(s=(a=r.props).onChange)===null||s===void 0||s.call(a,f)},r.renderTimeInput=function(){var i=r.state.time,a=r.props,s=a.date,l=a.timeString,u=a.customTimeInput;return u?M.cloneElement(u,{date:s,value:i,onChange:r.onTimeChange}):it.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var f;(f=r.inputRef.current)===null||f===void 0||f.focus()},required:!0,value:i,onChange:function(f){r.onTimeChange(f.target.value||l)}})},r.state={time:r.props.timeString},r}return n.getDerivedStateFromProps=function(t,r){return t.timeString!==r.time?{time:t.timeString}:null},n.prototype.render=function(){return it.createElement("div",{className:"react-datepicker__input-time-container"},it.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),it.createElement("div",{className:"react-datepicker-time__input-container"},it.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},n}(M.Component),qK=function(e){fs(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.dayEl=M.createRef(),t.handleClick=function(r){!t.isDisabled()&&t.props.onClick&&t.props.onClick(r)},t.handleMouseEnter=function(r){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(r)},t.handleOnKeyDown=function(r){var i,a,s=r.key;s===Rt.Space&&(r.preventDefault(),r.key=Rt.Enter),(a=(i=t.props).handleOnKeyDown)===null||a===void 0||a.call(i,r)},t.isSameDay=function(r){return ir(t.props.day,r)},t.isKeyboardSelected=function(){var r;if(t.props.disabledKeyboardNavigation)return!1;var i=t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(s){return t.isSameDayOrWeek(s)}):t.isSameDayOrWeek(t.props.selected),a=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!i&&t.isSameDayOrWeek(t.props.preSelection)&&!a},t.isDisabled=function(r){return r===void 0&&(r=t.props.day),Ll(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return sA(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return ir(t.props.day,oh(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(r){return t.props.showWeekPicker&&ir(r,oh(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(r){return t.isSameDay(r)||t.isSameWeek(r)},t.getHighLightedClass=function(){var r=t.props,i=r.day,a=r.highlightDates;if(!a)return!1;var s=wi(i,"MM.dd.yyyy");return a.get(s)},t.getHolidaysClass=function(){var r,i=t.props,a=i.day,s=i.holidays;if(!s)return[void 0];var l=wi(a,"MM.dd.yyyy");return s.has(l)?[(r=s.get(l))===null||r===void 0?void 0:r.className]:[void 0]},t.isInRange=function(){var r=t.props,i=r.day,a=r.startDate,s=r.endDate;return!a||!s?!1:A1(i,a,s)},t.isInSelectingRange=function(){var r,i=t.props,a=i.day,s=i.selectsStart,l=i.selectsEnd,u=i.selectsRange,f=i.selectsDisabledDaysInRange,h=i.startDate,m=i.endDate,b=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return!(s||l||u)||!b||!f&&t.isDisabled()?!1:s&&m&&(Hc(b,m)||dp(b,m))?A1(a,b,m):l&&h&&(Ru(b,h)||dp(b,h))||u&&h&&!m&&(Ru(b,h)||dp(b,h))?A1(a,h,b):!1},t.isSelectingRangeStart=function(){var r;if(!t.isInSelectingRange())return!1;var i=t.props,a=i.day,s=i.startDate,l=i.selectsStart,u=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return l?ir(a,u):ir(a,s)},t.isSelectingRangeEnd=function(){var r;if(!t.isInSelectingRange())return!1;var i=t.props,a=i.day,s=i.endDate,l=i.selectsEnd,u=i.selectsRange,f=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return l||u?ir(a,f):ir(a,s)},t.isRangeStart=function(){var r=t.props,i=r.day,a=r.startDate,s=r.endDate;return!a||!s?!1:ir(a,i)},t.isRangeEnd=function(){var r=t.props,i=r.day,a=r.startDate,s=r.endDate;return!a||!s?!1:ir(s,i)},t.isWeekend=function(){var r=_Y(t.props.day);return r===0||r===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===Gs(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(Gs(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(Br())},t.isSelected=function(){var r;return t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(r){var i=t.props.dayClassName?t.props.dayClassName(r):void 0;return Kn("react-datepicker__day",i,"react-datepicker__day--"+SK(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var r=t.props,i=r.day,a=r.ariaLabelPrefixWhenEnabled,s=a===void 0?"Choose":a,l=r.ariaLabelPrefixWhenDisabled,u=l===void 0?"Not available":l,f=t.isDisabled()||t.isExcluded()?u:s;return"".concat(f," ").concat(wi(i,"PPPP",t.props.locale))},t.getTitle=function(){var r=t.props,i=r.day,a=r.holidays,s=a===void 0?new Map:a,l=r.excludeDates,u=wi(i,"MM.dd.yyyy"),f=[];return s.has(u)&&f.push.apply(f,s.get(u).holidayNames),t.isExcluded()&&f.push(l==null?void 0:l.filter(function(h){return h instanceof Date?ir(h,i):ir(h==null?void 0:h.date,i)}).map(function(h){if(!(h instanceof Date))return h==null?void 0:h.message})),f.join(", ")},t.getTabIndex=function(){var r=t.props.selected,i=t.props.preSelection,a=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(r)&&ir(i,r))?0:-1;return a},t.handleFocusDay=function(){var r;t.shouldFocusDay()&&((r=t.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(h6(t.props.day),t.props.day):h6(t.props.day)},t.render=function(){return it.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&it.createElement("span",{className:"overlay"},t.getTitle()))},t}return n.prototype.componentDidMount=function(){this.handleFocusDay()},n.prototype.componentDidUpdate=function(){this.handleFocusDay()},n.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},n.prototype.isDayActiveElement=function(){var t,r,i;return((r=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},n.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},n}(M.Component),BK=function(e){fs(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.weekNumberEl=M.createRef(),t.handleClick=function(r){t.props.onClick&&t.props.onClick(r)},t.handleOnKeyDown=function(r){var i,a,s=r.key;s===Rt.Space&&(r.preventDefault(),r.key=Rt.Enter),(a=(i=t.props).handleOnKeyDown)===null||a===void 0||a.call(i,r)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!ir(t.props.date,t.props.selected)&&ir(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||ir(t.props.date,t.props.selected)&&ir(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(r){var i=!1;t.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&ir(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(i=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},n.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},n.prototype.render=function(){var t=this.props,r=t.weekNumber,i=t.isWeekDisabled,a=t.ariaLabelPrefix,s=a===void 0?n.defaultProps.ariaLabelPrefix:a,l=t.onClick,u={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!l&&!i,"react-datepicker__week-number--selected":!!l&&ir(this.props.date,this.props.selected)};return it.createElement("div",{ref:this.weekNumberEl,className:Kn(u),"aria-label":"".concat(s," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},n}(M.Component),$K=function(e){fs(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.isDisabled=function(r){return Ll(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(r,i){t.props.onDayClick&&t.props.onDayClick(r,i)},t.handleDayMouseEnter=function(r){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(r)},t.handleWeekClick=function(r,i,a){for(var s,l,u,f=new Date(r),h=0;h<7;h++){var m=new Date(r);m.setDate(m.getDate()+h);var b=!t.isDisabled(m);if(b){f=m;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(f,i,a),t.props.showWeekPicker&&t.handleDayClick(f,a),((s=t.props.shouldCloseOnSelect)!==null&&s!==void 0?s:n.defaultProps.shouldCloseOnSelect)&&((u=(l=t.props).setOpen)===null||u===void 0||u.call(l,!1))},t.formatWeekNumber=function(r){return t.props.formatWeekNumber?t.props.formatWeekNumber(r):wK(r)},t.isWeekDisabled=function(){for(var r=t.startOfWeek(),i=$l(r,6),a=new Date(r);a<=i;){if(!t.isDisabled(a))return!1;a=$l(a,1)}return!0},t.renderDays=function(){var r=t.startOfWeek(),i=[],a=t.formatWeekNumber(r);if(t.props.showWeekNumber){var s=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,r,a):void 0;i.push(it.createElement(BK,ur({key:"W"},n.defaultProps,t.props,{weekNumber:a,isWeekDisabled:t.isWeekDisabled(),date:r,onClick:s})))}return i.concat([0,1,2,3,4,5,6].map(function(l){var u=$l(r,l);return it.createElement(qK,ur({},n.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:u.valueOf(),day:u,onClick:t.handleDayClick.bind(t,u),onMouseEnter:t.handleDayMouseEnter.bind(t,u)}))}))},t.startOfWeek=function(){return oh(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!ir(t.startOfWeek(),t.props.selected)&&ir(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),n.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":ir(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return it.createElement("div",{className:Kn(t)},this.renderDays())},n}(M.Component),Ug,UK=6,J0={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},U5=(Ug={},Ug[J0.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Ug[J0.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Ug[J0.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Ug),px=1;function kj(e,n){return e?J0.FOUR_COLUMNS:n?J0.TWO_COLUMNS:J0.THREE_COLUMNS}var HK=function(e){fs(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.MONTH_REFS=Pc([],Array(12),!0).map(function(){return M.createRef()}),t.QUARTER_REFS=Pc([],Array(4),!0).map(function(){return M.createRef()}),t.isDisabled=function(r){return Ll(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(r){return sA(r,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(r,i){var a,s;(s=(a=t.props).onDayClick)===null||s===void 0||s.call(a,r,i,t.props.orderInDisplay)},t.handleDayMouseEnter=function(r){var i,a;(a=(i=t.props).onDayMouseEnter)===null||a===void 0||a.call(i,r)},t.handleMouseLeave=function(){var r,i;(i=(r=t.props).onMouseLeave)===null||i===void 0||i.call(r)},t.isRangeStartMonth=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate;return!s||!l?!1:oo(Ao(a,r),s)},t.isRangeStartQuarter=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate;return!s||!l?!1:Av(B0(a,r),s)},t.isRangeEndMonth=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate;return!s||!l?!1:oo(Ao(a,r),l)},t.isRangeEndQuarter=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate;return!s||!l?!1:Av(B0(a,r),l)},t.isInSelectingRangeMonth=function(r){var i,a=t.props,s=a.day,l=a.selectsStart,u=a.selectsEnd,f=a.selectsRange,h=a.startDate,m=a.endDate,b=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(l||u||f)||!b?!1:l&&m?cx(b,m,r,s):u&&h||f&&h&&!m?cx(h,b,r,s):!1},t.isSelectingMonthRangeStart=function(r){var i;if(!t.isInSelectingRangeMonth(r))return!1;var a=t.props,s=a.day,l=a.startDate,u=a.selectsStart,f=Ao(s,r),h=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return u?oo(f,h):oo(f,l)},t.isSelectingMonthRangeEnd=function(r){var i;if(!t.isInSelectingRangeMonth(r))return!1;var a=t.props,s=a.day,l=a.endDate,u=a.selectsEnd,f=a.selectsRange,h=Ao(s,r),m=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return u||f?oo(h,m):oo(h,l)},t.isInSelectingRangeQuarter=function(r){var i,a=t.props,s=a.day,l=a.selectsStart,u=a.selectsEnd,f=a.selectsRange,h=a.startDate,m=a.endDate,b=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(l||u||f)||!b?!1:l&&m?hx(b,m,r,s):u&&h||f&&h&&!m?hx(h,b,r,s):!1},t.isWeekInMonth=function(r){var i=t.props.day,a=$l(r,6);return oo(r,i)||oo(a,i)},t.isCurrentMonth=function(r,i){return $n(r)===$n(Br())&&i===Gs(Br())},t.isCurrentQuarter=function(r,i){return $n(r)===$n(Br())&&i===mp(Br())},t.isSelectedMonth=function(r,i,a){return Gs(a)===i&&$n(r)===$n(a)},t.isSelectMonthInList=function(r,i,a){return a.some(function(s){return t.isSelectedMonth(r,i,s)})},t.isSelectedQuarter=function(r,i,a){return mp(r)===i&&$n(r)===$n(a)},t.renderWeeks=function(){for(var r=[],i=t.props.fixedHeight,a=0,s=!1,l=oh(Wd(t.props.day),t.props.locale,t.props.calendarStartDay),u=function(v){return t.props.showWeekPicker?oh(v,t.props.locale,t.props.calendarStartDay):t.props.preSelection},f=function(v){return t.props.showWeekPicker?oh(v,t.props.locale,t.props.calendarStartDay):t.props.selected},h=t.props.selected?f(t.props.selected):void 0,m=t.props.preSelection?u(t.props.preSelection):void 0;r.push(it.createElement($K,ur({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:a,day:l,month:Gs(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:h,preSelection:m,showWeekNumber:t.props.showWeekNumbers}))),!s;){a++,l=J1(l,1);var b=i&&a>=UK,g=!i&&!t.isWeekInMonth(l);if(b||g)if(t.props.peekNextMonth)s=!0;else break}return r},t.onMonthClick=function(r,i){var a=t.isMonthDisabledForLabelDate(i),s=a.isDisabled,l=a.labelDate;s||t.handleDayClick(Wd(l),r)},t.onMonthMouseEnter=function(r){var i=t.isMonthDisabledForLabelDate(r),a=i.isDisabled,s=i.labelDate;a||t.handleDayMouseEnter(Wd(s))},t.handleMonthNavigation=function(r,i){var a,s,l,u;(s=(a=t.props).setPreSelection)===null||s===void 0||s.call(a,i),(u=(l=t.MONTH_REFS[r])===null||l===void 0?void 0:l.current)===null||u===void 0||u.focus()},t.handleKeyboardNavigation=function(r,i,a){var s,l=t.props,u=l.selected,f=l.preSelection,h=l.setPreSelection,m=l.minDate,b=l.maxDate,g=l.showFourColumnMonthYearPicker,v=l.showTwoColumnMonthYearPicker;if(f){var x=kj(g,v),C=t.getVerticalOffset(x),S=(s=U5[x])===null||s===void 0?void 0:s.grid,A=function(j,F,V){var X,T,D=F,O=V;switch(j){case Rt.ArrowRight:D=Vl(F,px),O=V===11?0:V+px;break;case Rt.ArrowLeft:D=gp(F,px),O=V===0?11:V-px;break;case Rt.ArrowUp:D=gp(F,C),O=!((X=S==null?void 0:S[0])===null||X===void 0)&&X.includes(V)?V+12-C:V-C;break;case Rt.ArrowDown:D=Vl(F,C),O=!((T=S==null?void 0:S[S.length-1])===null||T===void 0)&&T.includes(V)?V-12+C:V+C;break}return{newCalculatedDate:D,newCalculatedMonth:O}},N=function(j,F,V){for(var X=40,T=j,D=!1,O=0,L=A(T,F,V),Q=L.newCalculatedDate,$=L.newCalculatedMonth;!D;){if(O>=X){Q=F,$=V;break}if(m&&Q<m){T=Rt.ArrowRight;var Y=A(T,Q,$);Q=Y.newCalculatedDate,$=Y.newCalculatedMonth}if(b&&Q>b){T=Rt.ArrowLeft;var Y=A(T,Q,$);Q=Y.newCalculatedDate,$=Y.newCalculatedMonth}if(NK(Q,t.props)){var Y=A(T,Q,$);Q=Y.newCalculatedDate,$=Y.newCalculatedMonth}else D=!0;O++}return{newCalculatedDate:Q,newCalculatedMonth:$}};if(i===Rt.Enter){t.isMonthDisabled(a)||(t.onMonthClick(r,a),h==null||h(u));return}var P=N(i,f,a),U=P.newCalculatedDate,B=P.newCalculatedMonth;switch(i){case Rt.ArrowRight:case Rt.ArrowLeft:case Rt.ArrowUp:case Rt.ArrowDown:t.handleMonthNavigation(B,U);break}}},t.getVerticalOffset=function(r){var i,a;return(a=(i=U5[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&a!==void 0?a:0},t.onMonthKeyDown=function(r,i){var a=t.props,s=a.disabledKeyboardNavigation,l=a.handleOnMonthKeyDown,u=r.key;u!==Rt.Tab&&r.preventDefault(),s||t.handleKeyboardNavigation(r,u,i),l&&l(r)},t.onQuarterClick=function(r,i){var a=B0(t.props.day,i);dx(a,t.props)||t.handleDayClick(cj(a),r)},t.onQuarterMouseEnter=function(r){var i=B0(t.props.day,r);dx(i,t.props)||t.handleDayMouseEnter(cj(i))},t.handleQuarterNavigation=function(r,i){var a,s,l,u;t.isDisabled(i)||t.isExcluded(i)||((s=(a=t.props).setPreSelection)===null||s===void 0||s.call(a,i),(u=(l=t.QUARTER_REFS[r-1])===null||l===void 0?void 0:l.current)===null||u===void 0||u.focus())},t.onQuarterKeyDown=function(r,i){var a,s,l=r.key;if(!t.props.disabledKeyboardNavigation)switch(l){case Rt.Enter:t.onQuarterClick(r,i),(s=(a=t.props).setPreSelection)===null||s===void 0||s.call(a,t.props.selected);break;case Rt.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===4?1:i+1,HC(t.props.preSelection,1));break;case Rt.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===1?4:i-1,M7(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(r){var i,a=t.props,s=a.day,l=a.minDate,u=a.maxDate,f=a.excludeDates,h=a.includeDates,m=Ao(s,r);return{isDisabled:(i=(l||u||f||h)&&G7(m,t.props))!==null&&i!==void 0?i:!1,labelDate:m}},t.isMonthDisabled=function(r){var i=t.isMonthDisabledForLabelDate(r).isDisabled;return i},t.getMonthClassNames=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate,u=i.preSelection,f=i.monthClassName,h=f?f(Ao(a,r)):void 0,m=t.getSelection();return Kn("react-datepicker__month-text","react-datepicker__month-".concat(r),h,{"react-datepicker__month-text--disabled":t.isMonthDisabled(r),"react-datepicker__month-text--selected":m?t.isSelectMonthInList(a,r,m):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&u&&t.isSelectedMonth(a,r,u)&&!t.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":s&&l?cx(s,l,r,a):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(r),"react-datepicker__month-text--range-end":t.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":t.isCurrentMonth(a,r)})},t.getTabIndex=function(r){if(t.props.preSelection==null)return"-1";var i=Gs(t.props.preSelection),a=t.isMonthDisabledForLabelDate(i).isDisabled,s=r===i&&!(a||t.props.disabledKeyboardNavigation)?"0":"-1";return s},t.getQuarterTabIndex=function(r){if(t.props.preSelection==null)return"-1";var i=mp(t.props.preSelection),a=dx(t.props.day,t.props),s=r===i&&!(a||t.props.disabledKeyboardNavigation)?"0":"-1";return s},t.getAriaLabel=function(r){var i=t.props,a=i.chooseDayAriaLabelPrefix,s=a===void 0?"Choose":a,l=i.disabledDayAriaLabelPrefix,u=l===void 0?"Not available":l,f=i.day,h=i.locale,m=Ao(f,r),b=t.isDisabled(m)||t.isExcluded(m)?u:s;return"".concat(b," ").concat(wi(m,"MMMM yyyy",h))},t.getQuarterClassNames=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate,u=i.selected,f=i.minDate,h=i.maxDate,m=i.excludeDates,b=i.includeDates,g=i.filterDate,v=i.preSelection,x=i.disabledKeyboardNavigation,C=(f||h||m||b||g)&&dx(B0(a,r),t.props);return Kn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":C,"react-datepicker__quarter-text--selected":u?t.isSelectedQuarter(a,r,u):void 0,"react-datepicker__quarter-text--keyboard-selected":!x&&v&&t.isSelectedQuarter(a,r,v)&&!C,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":s&&l?hx(s,l,r,a):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(r)})},t.getMonthContent=function(r){var i=t.props,a=i.showFullMonthYearPicker,s=i.renderMonthContent,l=i.locale,u=i.day,f=Y7(r,l),h=aA(r,l);return s?s(r,f,h,u):a?h:f},t.getQuarterContent=function(r){var i,a=t.props,s=a.renderQuarterContent,l=a.locale,u=TK(r,l);return(i=s==null?void 0:s(r,u))!==null&&i!==void 0?i:u},t.renderMonths=function(){var r,i=t.props,a=i.showTwoColumnMonthYearPicker,s=i.showFourColumnMonthYearPicker,l=i.day,u=i.selected,f=(r=U5[kj(s,a)])===null||r===void 0?void 0:r.grid;return f==null?void 0:f.map(function(h,m){return it.createElement("div",{className:"react-datepicker__month-wrapper",key:m},h.map(function(b,g){return it.createElement("div",{ref:t.MONTH_REFS[b],key:g,onClick:function(v){t.onMonthClick(v,b)},onKeyDown:function(v){X7(v)&&(v.preventDefault(),v.key=Rt.Enter),t.onMonthKeyDown(v,b)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(b)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(b)}:void 0,tabIndex:Number(t.getTabIndex(b)),className:t.getMonthClassNames(b),"aria-disabled":t.isMonthDisabled(b),role:"option","aria-label":t.getAriaLabel(b),"aria-current":t.isCurrentMonth(l,b)?"date":void 0,"aria-selected":u?t.isSelectedMonth(l,b,u):void 0},t.getMonthContent(b))}))})},t.renderQuarters=function(){var r=t.props,i=r.day,a=r.selected,s=[1,2,3,4];return it.createElement("div",{className:"react-datepicker__quarter-wrapper"},s.map(function(l,u){return it.createElement("div",{key:u,ref:t.QUARTER_REFS[u],role:"option",onClick:function(f){t.onQuarterClick(f,l)},onKeyDown:function(f){t.onQuarterKeyDown(f,l)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(l)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(l)}:void 0,className:t.getQuarterClassNames(l),"aria-selected":a?t.isSelectedQuarter(i,l,a):void 0,tabIndex:Number(t.getQuarterTabIndex(l)),"aria-current":t.isCurrentQuarter(i,l)?"date":void 0},t.getQuarterContent(l))}))},t.getClassNames=function(){var r=t.props,i=r.selectingDate,a=r.selectsStart,s=r.selectsEnd,l=r.showMonthYearPicker,u=r.showQuarterYearPicker,f=r.showWeekPicker;return Kn("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(a||s)},{"react-datepicker__monthPicker":l},{"react-datepicker__quarterPicker":u},{"react-datepicker__weekPicker":f})},t}return n.prototype.getSelection=function(){var t=this.props,r=t.selected,i=t.selectedDates,a=t.selectsMultiple;if(a)return i;if(r)return[r]},n.prototype.render=function(){var t=this.props,r=t.showMonthYearPicker,i=t.showQuarterYearPicker,a=t.day,s=t.ariaLabelPrefix,l=s===void 0?"Month ":s,u=l?l.trim()+" ":"";return it.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(u).concat(wi(a,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},n}(M.Component),VK=function(e){fs(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.isSelectedMonth=function(r){return t.props.month===r},t.renderOptions=function(){return t.props.monthNames.map(function(r,i){return it.createElement("div",{className:t.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:t.onChange.bind(t,i),"aria-selected":t.isSelectedMonth(i)?"true":void 0},t.isSelectedMonth(i)?it.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},t.onChange=function(r){return t.props.onChange(r)},t.handleClickOutside=function(){return t.props.onCancel()},t}return n.prototype.render=function(){return it.createElement(g2,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},n}(M.Component),WK=function(e){fs(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(r){return r.map(function(i,a){return it.createElement("option",{key:i,value:a},i)})},t.renderSelectMode=function(r){return it.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(i){return t.onChange(parseInt(i.target.value))}},t.renderSelectOptions(r))},t.renderReadView=function(r,i){return it.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},it.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),it.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[t.props.month]))},t.renderDropdown=function(r){return it.createElement(VK,ur({key:"dropdown"},t.props,{monthNames:r,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(r){var i=t.state.dropdownVisible,a=[t.renderReadView(!i,r)];return i&&a.unshift(t.renderDropdown(r)),a},t.onChange=function(r){t.toggleDropdown(),r!==t.props.month&&t.props.onChange(r)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return n.prototype.render=function(){var t=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(a){return Y7(a,t.props.locale)}:function(a){return aA(a,t.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return it.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},n}(M.Component);function YK(e,n){for(var t=[],r=Wd(e),i=Wd(n);!Ru(r,i);)t.push(Br(r)),r=Vl(r,1);return t}var GK=function(e){fs(n,e);function n(t){var r=e.call(this,t)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var a=p6(i),s=Ac(r.props.date,i)&&oo(r.props.date,i);return it.createElement("div",{className:s?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:a,onClick:r.onChange.bind(r,a),"aria-selected":s?"true":void 0},s?it.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",wi(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:YK(r.props.minDate,r.props.maxDate)},r}return n.prototype.render=function(){var t=Kn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return it.createElement(g2,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},n}(M.Component),QK=function(e){fs(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=Wd(t.props.minDate),i=Wd(t.props.maxDate),a=[];!Ru(r,i);){var s=p6(r);a.push(it.createElement("option",{key:s,value:s},wi(r,t.props.dateFormat,t.props.locale))),r=Vl(r,1)}return a},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return it.createElement("select",{value:p6(Wd(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){var i=wi(t.props.date,t.props.dateFormat,t.props.locale);return it.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},it.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),it.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},t.renderDropdown=function(){return it.createElement(GK,ur({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,i=[t.renderReadView(!r)];return r&&i.unshift(t.renderDropdown()),i},t.onChange=function(r){t.toggleDropdown();var i=Br(r);Ac(t.props.date,i)&&oo(t.props.date,i)||t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return n.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return it.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},n}(M.Component),KK=function(e){fs(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,a;t.list&&(t.list.scrollTop=(a=t.centerLi&&n.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((i=(r=t.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):t.list.clientHeight,t.centerLi))!==null&&a!==void 0?a:0)})},t.handleClick=function(r){var i,a;(t.props.minTime||t.props.maxTime)&&mj(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&pj(r,t.props)||(a=(i=t.props).onChange)===null||a===void 0||a.call(i,r)},t.isSelectedTime=function(r){return t.props.selected&&FK(t.props.selected,r)},t.isDisabledTime=function(r){return(t.props.minTime||t.props.maxTime)&&mj(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&pj(r,t.props)},t.liClasses=function(r){var i,a=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(r):void 0];return t.isSelectedTime(r)&&a.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(r)&&a.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(Mu(r)*3600+Lu(r)*60+Uc(r))%(((i=t.props.intervals)!==null&&i!==void 0?i:n.defaultProps.intervals)*60)!==0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")},t.handleOnKeyDown=function(r,i){var a,s;r.key===Rt.Space&&(r.preventDefault(),r.key=Rt.Enter),(r.key===Rt.ArrowUp||r.key===Rt.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===Rt.ArrowDown||r.key===Rt.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===Rt.Enter&&t.handleClick(i),(s=(a=t.props).handleOnKeyDown)===null||s===void 0||s.call(a,r)},t.renderTimes=function(){for(var r,i=[],a=typeof t.props.format=="string"?t.props.format:"p",s=(r=t.props.intervals)!==null&&r!==void 0?r:n.defaultProps.intervals,l=t.props.selected||t.props.openToDate||Br(),u=Px(l),f=t.props.injectTimes&&t.props.injectTimes.sort(function(C,S){return C.getTime()-S.getTime()}),h=60*PK(l),m=h/s,b=0;b<m;b++){var g=fv(u,b*s);if(i.push(g),f){var v=RK(u,g,b,s,f);i=i.concat(v)}}var x=i.reduce(function(C,S){return S.getTime()<=l.getTime()?S:C},i[0]);return i.map(function(C){return it.createElement("li",{key:C.valueOf(),onClick:t.handleClick.bind(t,C),className:t.liClasses(C),ref:function(S){C===x&&(t.centerLi=S)},onKeyDown:function(S){t.handleOnKeyDown(S,C)},tabIndex:C===x?0:-1,role:"option","aria-selected":t.isSelectedTime(C)?"true":void 0,"aria-disabled":t.isDisabledTime(C)?"true":void 0},wi(C,a,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?it.createElement(it.Fragment,null):it.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){t.header=r}},it.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},n.prototype.render=function(){var t=this,r,i=this.state.height;return it.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:n.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),it.createElement("div",{className:"react-datepicker__time"},it.createElement("div",{className:"react-datepicker__time-box"},it.createElement("ul",{className:"react-datepicker__time-list",ref:function(a){t.list=a},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},n.calcCenterPosition=function(t,r){return r.offsetTop-(t/2-r.clientHeight/2)},n}(M.Component),Ej=3,XK=function(e){fs(n,e);function n(t){var r=e.call(this,t)||this;return r.YEAR_REFS=Pc([],Array(r.props.yearItemNumber),!0).map(function(){return M.createRef()}),r.isDisabled=function(i){return Ll(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return sA(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var a=function(){var s,l;(l=(s=r.YEAR_REFS[i])===null||s===void 0?void 0:s.current)===null||l===void 0||l.focus()};window.requestAnimationFrame(a)},r.handleYearClick=function(i,a){r.props.onDayClick&&r.props.onDayClick(i,a)},r.handleYearNavigation=function(i,a){var s,l,u,f,h=r.props,m=h.date,b=h.yearItemNumber;if(!(m===void 0||b===void 0)){var g=Xf(m,b).startPeriod;r.isDisabled(a)||r.isExcluded(a)||((l=(s=r.props).setPreSelection)===null||l===void 0||l.call(s,a),i-g<0?r.updateFocusOnPaginate(b-(g-i)):i-g>=b?r.updateFocusOnPaginate(Math.abs(b-(i-g))):(f=(u=r.YEAR_REFS[i-g])===null||u===void 0?void 0:u.current)===null||f===void 0||f.focus())}},r.isSameDay=function(i,a){return ir(i,a)},r.isCurrentYear=function(i){return i===$n(Br())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&Ac(Eu(Br(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&Ac(Eu(Br(),i),r.props.endDate)},r.isInRange=function(i){return fx(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var a=r.props,s=a.selectsStart,l=a.selectsEnd,u=a.selectsRange,f=a.startDate,h=a.endDate;return!(s||l||u)||!r.selectingDate()?!1:s&&h?fx(i,r.selectingDate(),h):l&&f||u&&f&&!h?fx(i,f,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var a;if(!r.isInSelectingRange(i))return!1;var s=r.props,l=s.startDate,u=s.selectsStart,f=Eu(Br(),i);return u?Ac(f,(a=r.selectingDate())!==null&&a!==void 0?a:null):Ac(f,l??null)},r.isSelectingRangeEnd=function(i){var a;if(!r.isInSelectingRange(i))return!1;var s=r.props,l=s.endDate,u=s.selectsEnd,f=s.selectsRange,h=Eu(Br(),i);return u||f?Ac(h,(a=r.selectingDate())!==null&&a!==void 0?a:null):Ac(h,l??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var a=r.props,s=a.minDate,l=a.maxDate,u=a.excludeDates,f=a.includeDates,h=a.filterDate,m=C1(Eu(r.props.date,i)),b=(s||l||u||f||h)&&Fx(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!ir(m,C1(r.props.selected))&&ir(m,C1(r.props.preSelection))&&!b}},r.onYearClick=function(i,a){var s=r.props.date;s!==void 0&&r.handleYearClick(C1(Eu(s,a)),i)},r.onYearKeyDown=function(i,a){var s,l,u=i.key,f=r.props,h=f.date,m=f.yearItemNumber,b=f.handleOnKeyDown;if(u!==Rt.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(u){case Rt.Enter:if(r.props.selected==null)break;r.onYearClick(i,a),(l=(s=r.props).setPreSelection)===null||l===void 0||l.call(s,r.props.selected);break;case Rt.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(a+1,$c(r.props.preSelection,1));break;case Rt.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(a-1,jm(r.props.preSelection,1));break;case Rt.ArrowUp:{if(h===void 0||m===void 0||r.props.preSelection==null)break;var g=Xf(h,m).startPeriod,v=Ej,x=a-v;if(x<g){var C=m%v;a>=g&&a<g+C?v=C:v+=C,x=a-v}r.handleYearNavigation(x,jm(r.props.preSelection,v));break}case Rt.ArrowDown:{if(h===void 0||m===void 0||r.props.preSelection==null)break;var S=Xf(h,m).endPeriod,v=Ej,x=a+v;if(x>S){var C=m%v;a<=S&&a>S-C?v=C:v+=C,x=a+v}r.handleYearNavigation(x,$c(r.props.preSelection,v));break}}b&&b(i)},r.getYearClassNames=function(i){var a=r.props,s=a.date,l=a.minDate,u=a.maxDate,f=a.selected,h=a.excludeDates,m=a.includeDates,b=a.filterDate,g=a.yearClassName;return Kn("react-datepicker__year-text","react-datepicker__year-".concat(i),s?g==null?void 0:g(Eu(s,i)):void 0,{"react-datepicker__year-text--selected":f?i===$n(f):void 0,"react-datepicker__year-text--disabled":(l||u||h||m||b)&&Fx(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var a=$n(r.props.preSelection),s=Fx(i,r.props);return i===a&&!s?"0":"-1"},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return n.prototype.render=function(){var t=this,r=[],i=this.props,a=i.date,s=i.yearItemNumber,l=i.onYearMouseEnter,u=i.onYearMouseLeave;if(a===void 0)return null;for(var f=Xf(a,s),h=f.startPeriod,m=f.endPeriod,b=function(x){r.push(it.createElement("div",{ref:g.YEAR_REFS[x-h],onClick:function(C){t.onYearClick(C,x)},onKeyDown:function(C){X7(C)&&(C.preventDefault(),C.key=Rt.Enter),t.onYearKeyDown(C,x)},tabIndex:Number(g.getYearTabIndex(x)),className:g.getYearClassNames(x),onMouseEnter:g.props.usePointerEvent?void 0:function(C){return l(C,x)},onPointerEnter:g.props.usePointerEvent?function(C){return l(C,x)}:void 0,onMouseLeave:g.props.usePointerEvent?void 0:function(C){return u(C,x)},onPointerLeave:g.props.usePointerEvent?function(C){return u(C,x)}:void 0,key:x,"aria-current":g.isCurrentYear(x)?"date":void 0},g.getYearContent(x)))},g=this,v=h;v<=m;v++)b(v);return it.createElement("div",{className:"react-datepicker__year"},it.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},n}(M.Component);function ZK(e,n,t,r){for(var i=[],a=0;a<2*n+1;a++){var s=e+n-a,l=!0;t&&(l=$n(t)<=s),r&&l&&(l=$n(r)>=s),l&&i.push(s)}return i}var JK=function(e){fs(n,e);function n(t){var r=e.call(this,t)||this;r.renderOptions=function(){var l=r.props.year,u=r.state.yearsList.map(function(m){return it.createElement("div",{className:l===m?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:m,onClick:r.onChange.bind(r,m),"aria-selected":l===m?"true":void 0},l===m?it.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",m)}),f=r.props.minDate?$n(r.props.minDate):null,h=r.props.maxDate?$n(r.props.maxDate):null;return(!h||!r.state.yearsList.find(function(m){return m===h}))&&u.unshift(it.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},it.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!f||!r.state.yearsList.find(function(m){return m===f}))&&u.push(it.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},it.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),u},r.onChange=function(l){r.props.onChange(l)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(l){var u=r.state.yearsList.map(function(f){return f+l});r.setState({yearsList:u})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=t.yearDropdownItemNumber,a=t.scrollableYearDropdown,s=i||(a?10:5);return r.state={yearsList:ZK(r.props.year,s,r.props.minDate,r.props.maxDate)},r.dropdownRef=M.createRef(),r}return n.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var r=t.children?Array.from(t.children):null,i=r?r.find(function(a){return a.ariaSelected}):null;t.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},n.prototype.render=function(){var t=Kn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return it.createElement(g2,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},n}(M.Component),eX=function(e){fs(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=t.props.minDate?$n(t.props.minDate):1900,i=t.props.maxDate?$n(t.props.maxDate):2100,a=[],s=r;s<=i;s++)a.push(it.createElement("option",{key:s,value:s},s));return a},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return it.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){return it.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return t.toggleDropdown(i)}},it.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),it.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return it.createElement(JK,ur({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,i=[t.renderReadView(!r)];return r&&i.unshift(t.renderDropdown()),i},t.onChange=function(r){t.toggleDropdown(),r!==t.props.year&&t.props.onChange(r)},t.toggleDropdown=function(r){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,r)})},t.handleYearChange=function(r,i){var a;(a=t.onSelect)===null||a===void 0||a.call(t,r,i),t.setOpen()},t.onSelect=function(r,i){var a,s;(s=(a=t.props).onSelect)===null||s===void 0||s.call(a,r,i)},t.setOpen=function(){var r,i;(i=(r=t.props).setOpen)===null||i===void 0||i.call(r,!0)},t}return n.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return it.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},n}(M.Component),tX=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],nX=function(e){var n=(e.className||"").split(/\s+/);return tX.some(function(t){return n.indexOf(t)>=0})},rX=function(e){fs(n,e);function n(t){var r=e.call(this,t)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var a,s;nX(i.target)&&((s=(a=r.props).onDropdownFocus)===null||s===void 0||s.call(a,i))},r.getDateInView=function(){var i=r.props,a=i.preSelection,s=i.selected,l=i.openToDate,u=Q7(r.props),f=K7(r.props),h=Br(),m=l||s||a;return m||(u&&Hc(h,u)?u:f&&Ru(h,f)?f:h)},r.increaseMonth=function(){r.setState(function(i){var a=i.date;return{date:Vl(a,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var a=i.date;return{date:gp(a,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,a,s){r.props.onSelect(i,a,s),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,a){r.setState({selectingDate:Eu(Br(),a)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,a)},r.handleYearMouseLeave=function(i,a){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,a)},r.handleYearChange=function(i){var a,s,l,u;(s=(a=r.props).onYearChange)===null||s===void 0||s.call(a,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(u=(l=r.props).setOpen)===null||u===void 0||u.call(l,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!Ll(i,r.props))return i;for(var a=Wd(i),s=AK(i),l=zW(s,a),u=null,f=0;f<=l;f++){var h=$l(a,f);if(!Ll(h,r.props)){u=h;break}}return u},r.handleMonthChange=function(i){var a,s,l,u=(a=r.getEnabledPreSelectionDateForMonth(i))!==null&&a!==void 0?a:i;r.handleCustomMonthChange(u),r.props.adjustDateOnChange&&(r.props.onSelect(u),(l=(s=r.props).setOpen)===null||l===void 0||l.call(s,!0)),r.props.setPreSelection&&r.props.setPreSelection(u)},r.handleCustomMonthChange=function(i){var a,s;(s=(a=r.props).onMonthChange)===null||s===void 0||s.call(a,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(a){var s=a.date;return{date:Eu(s,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(a){var s=a.date;return{date:Ao(s,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(a){var s=a.date;return{date:Eu(Ao(s,Gs(i)),$n(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var a=oh(i,r.props.locale,r.props.calendarStartDay),s=[];return r.props.showWeekNumbers&&s.push(it.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),s.concat([0,1,2,3,4,5,6].map(function(l){var u=$l(a,l),f=r.formatWeekday(u,r.props.locale),h=r.props.weekDayClassName?r.props.weekDayClassName(u):void 0;return it.createElement("div",{key:l,"aria-label":wi(u,"EEEE",r.props.locale),className:Kn("react-datepicker__day-name",h)},f)}))},r.formatWeekday=function(i,a){return r.props.formatWeekDay?kK(i,r.props.formatWeekDay,a):r.props.useWeekdaysShort?jK(i,a):EK(i,a)},r.decreaseYear=function(){r.setState(function(i){var a,s=i.date;return{date:jm(s,r.props.showYearPicker?(a=r.props.yearItemNumber)!==null&&a!==void 0?a:n.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i,a,s;if(!r.props.renderCustomHeader){var l=(i=r.props.monthsShown)!==null&&i!==void 0?i:n.defaultProps.monthsShown,u=r.props.showPreviousMonths?l-1:0,f=(a=r.props.monthSelectedIn)!==null&&a!==void 0?a:u,h=gp(r.state.date,f),m;switch(!0){case r.props.showMonthYearPicker:m=yj(r.state.date,r.props);break;case r.props.showYearPicker:m=IK(r.state.date,r.props);break;case r.props.showQuarterYearPicker:m=DK(r.state.date,r.props);break;default:m=gj(h,r.props);break}if(!(!((s=r.props.forceShowMonthNavigation)!==null&&s!==void 0?s:n.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&m||r.props.showTimeSelectOnly)){var b=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],g=["react-datepicker__navigation","react-datepicker__navigation--previous"],v=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(v=r.decreaseYear),m&&r.props.showDisabledMonthNavigation&&(g.push("react-datepicker__navigation--previous--disabled"),v=void 0);var x=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,C=r.props,S=C.previousMonthButtonLabel,A=S===void 0?n.defaultProps.previousMonthButtonLabel:S,N=C.previousYearButtonLabel,P=N===void 0?n.defaultProps.previousYearButtonLabel:N,U=r.props,B=U.previousMonthAriaLabel,j=B===void 0?typeof A=="string"?A:"Previous Month":B,F=U.previousYearAriaLabel,V=F===void 0?typeof P=="string"?P:"Previous Year":F;return it.createElement("button",{type:"button",className:g.join(" "),onClick:v,onKeyDown:r.props.handleOnKeyDown,"aria-label":x?V:j},it.createElement("span",{className:b.join(" ")},x?P:A))}}},r.increaseYear=function(){r.setState(function(i){var a,s=i.date;return{date:$c(s,r.props.showYearPicker?(a=r.props.yearItemNumber)!==null&&a!==void 0?a:n.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var a;switch(!0){case r.props.showMonthYearPicker:a=xj(r.state.date,r.props);break;case r.props.showYearPicker:a=OK(r.state.date,r.props);break;case r.props.showQuarterYearPicker:a=_K(r.state.date,r.props);break;default:a=bj(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:n.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&a||r.props.showTimeSelectOnly)){var s=["react-datepicker__navigation","react-datepicker__navigation--next"],l=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&s.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&s.push("react-datepicker__navigation--next--with-today-button");var u=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(u=r.increaseYear),a&&r.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--next--disabled"),u=void 0);var f=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,h=r.props,m=h.nextMonthButtonLabel,b=m===void 0?n.defaultProps.nextMonthButtonLabel:m,g=h.nextYearButtonLabel,v=g===void 0?n.defaultProps.nextYearButtonLabel:g,x=r.props,C=x.nextMonthAriaLabel,S=C===void 0?typeof b=="string"?b:"Next Month":C,A=x.nextYearAriaLabel,N=A===void 0?typeof v=="string"?v:"Next Year":A;return it.createElement("button",{type:"button",className:s.join(" "),onClick:u,onKeyDown:r.props.handleOnKeyDown,"aria-label":f?N:S},it.createElement("span",{className:l.join(" ")},f?v:b))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var a=["react-datepicker__current-month"];return r.props.showYearDropdown&&a.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&a.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&a.push("react-datepicker__current-month--hasMonthYearDropdown"),it.createElement("h2",{className:a.join(" ")},wi(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return it.createElement(eX,ur({},n.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:$n(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return it.createElement(WK,ur({},n.defaultProps,r.props,{month:Gs(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return it.createElement(QK,ur({},n.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(dj(),i),r.props.setPreSelection&&r.props.setPreSelection(dj())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return it.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var a=i.monthDate,s=i.i;return it.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(a),it.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(s!==0),r.renderMonthYearDropdown(s!==0),r.renderYearDropdown(s!==0)),it.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderCustomHeader=function(i){var a,s,l=i.monthDate,u=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var f=gj(r.state.date,r.props),h=bj(r.state.date,r.props),m=yj(r.state.date,r.props),b=xj(r.state.date,r.props),g=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return it.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(s=(a=r.props).renderCustomHeader)===null||s===void 0?void 0:s.call(a,ur(ur({},r.state),{customHeaderCount:u,monthDate:l,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:f,nextMonthButtonDisabled:h,prevYearButtonDisabled:m,nextYearButtonDisabled:b})),g&&it.createElement("div",{className:"react-datepicker__day-names"},r.header(l)))},r.renderYearHeader=function(i){var a=i.monthDate,s=r.props,l=s.showYearPicker,u=s.yearItemNumber,f=u===void 0?n.defaultProps.yearItemNumber:u,h=Xf(a,f),m=h.startPeriod,b=h.endPeriod;return it.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},l?"".concat(m," - ").concat(b):$n(a))},r.renderHeader=function(i){var a=i.monthDate,s=i.i,l=s===void 0?0:s,u={monthDate:a,i:l};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(u);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(u);default:return r.renderDefaultHeader(u)}},r.renderMonths=function(){var i,a;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var s=[],l=(i=r.props.monthsShown)!==null&&i!==void 0?i:n.defaultProps.monthsShown,u=r.props.showPreviousMonths?l-1:0,f=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?$c(r.state.date,u):gp(r.state.date,u),h=(a=r.props.monthSelectedIn)!==null&&a!==void 0?a:u,m=0;m<l;++m){var b=m-h+u,g=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?$c(f,b):Vl(f,b),v="month-".concat(m),x=m<l-1,C=m>0;s.push(it.createElement("div",{key:v,ref:function(S){r.monthContainer=S??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:g,i:m}),it.createElement(HK,ur({},n.defaultProps,r.props,{ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:g,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:m,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:x,monthShowsDuplicateDaysStart:C}))))}return s}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return it.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),it.createElement(XK,ur({},n.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return it.createElement(KK,ur({},n.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,a=i&&Fd(i)&&!!r.props.selected,s=a?"".concat(wj(i.getHours()),":").concat(wj(i.getMinutes())):"";if(r.props.showTimeInput)return it.createElement(zK,ur({},n.defaultProps,r.props,{date:i,timeString:s,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,a=Xf(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:n.defaultProps.yearItemNumber),s=a.startPeriod,l=a.endPeriod,u;return r.props.showYearPicker?u="".concat(s," - ").concat(l):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?u=$n(r.state.date):u="".concat(aA(Gs(r.state.date),r.props.locale)," ").concat($n(r.state.date)),it.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&u)},r.renderChildren=function(){if(r.props.children)return it.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=M.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(n,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Mb}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},n.prototype.componentDidUpdate=function(t){var r=this;if(this.props.preSelection&&(!ir(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var i=!oo(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!ir(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},n.prototype.render=function(){var t=this.props.container||gK;return it.createElement(g2,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},it.createElement(t,{className:Kn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},n}(M.Component),iX=function(e){var n=e.icon,t=e.className,r=t===void 0?"":t,i=e.onClick,a="react-datepicker__calendar-icon";return typeof n=="string"?it.createElement("i",{className:"".concat(a," ").concat(n," ").concat(r),"aria-hidden":"true",onClick:i}):it.isValidElement(n)?it.cloneElement(n,{className:"".concat(n.props.className||""," ").concat(a," ").concat(r),onClick:function(s){typeof n.props.onClick=="function"&&n.props.onClick(s),typeof i=="function"&&i(s)}}):it.createElement("svg",{className:"".concat(a," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},it.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},Z7=function(e){fs(n,e);function n(t){var r=e.call(this,t)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return n.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},n.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},n.prototype.render=function(){return KR.createPortal(this.props.children,this.el)},n}(M.Component),aX="[tabindex], a, button, input, select, textarea",sX=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},J7=function(e){fs(n,e);function n(t){var r=e.call(this,t)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(aX),1,-1).filter(sX)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=M.createRef(),r}return n.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:n.defaultProps.enableTabLoop)?it.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},it.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,it.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},n.defaultProps={enableTabLoop:!0},n}(M.Component);function oX(e){var n=function(t){var r,i=typeof t.hidePopper=="boolean"?t.hidePopper:!0,a=M.useRef(null),s=mK(ur({open:!i,whileElementsMounted:YQ,placement:t.popperPlacement,middleware:Pc([nK({padding:15}),tK(10),rK({element:a})],(r=t.popperModifiers)!==null&&r!==void 0?r:[],!0)},t.popperProps)),l=ur(ur({},t),{hidePopper:i,popperProps:ur(ur({},s),{arrowRef:a})});return it.createElement(e,ur({},l))};return n}var lX=function(e){fs(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(n,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),n.prototype.render=function(){var t=this.props,r=t.className,i=t.wrapperClassName,a=t.hidePopper,s=a===void 0?n.defaultProps.hidePopper:a,l=t.popperComponent,u=t.targetComponent,f=t.enableTabLoop,h=t.popperOnKeyDown,m=t.portalId,b=t.portalHost,g=t.popperProps,v=t.showArrow,x=void 0;if(!s){var C=Kn("react-datepicker-popper",r);x=it.createElement(J7,{enableTabLoop:f},it.createElement("div",{ref:g.refs.setFloating,style:g.floatingStyles,className:C,"data-placement":g.placement,onKeyDown:h},l,v&&it.createElement(lK,{ref:g.arrowRef,context:g.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(x=M.createElement(this.props.popperContainer,{},x)),m&&!s&&(x=it.createElement(Z7,{portalId:m,portalHost:b},x));var S=Kn("react-datepicker-wrapper",i);return it.createElement(it.Fragment,null,it.createElement("div",{ref:g.refs.setReference,className:S},u),x)},n}(M.Component),uX=oX(lX),jj="react-datepicker-ignore-onclickoutside";function cX(e,n){return e&&n?Gs(e)!==Gs(n)||$n(e)!==$n(n):e!==n}var H5="Date input not valid.",dX=function(e){fs(n,e);function n(t){var r=e.call(this,t)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Br()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(a,s){var l=new Date(s.date);return Fd(l)?Pc(Pc([],a,!0),[ur(ur({},s),{date:l})],!1):a},[])},r.calcInitialState=function(){var i,a=r.getPreSelection(),s=Q7(r.props),l=K7(r.props),u=s&&Hc(a,Px(s))?s:l&&Ru(a,fj(l))?l:a;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:u,highlightDates:vj(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(ur(ur({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(ur(ur({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.safeFocus=function(){setTimeout(function(){var i,a;(a=(i=r.input)===null||i===void 0?void 0:i.focus)===null||a===void 0||a.call(i,{preventScroll:!0})},0)},r.safeBlur=function(){setTimeout(function(){var i,a;(a=(i=r.input)===null||i===void 0?void 0:i.blur)===null||a===void 0||a.call(i)},0)},r.setFocus=function(){r.safeFocus()},r.setBlur=function(){r.safeBlur(),r.cancelFocusInput()},r.setOpen=function(i,a){a===void 0&&(a=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:V5},function(){i||r.setState(function(s){return{focused:a?s.focused:!1}},function(){!a&&r.setBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Vd(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var a,s,l=r.state.wasHidden,u=l?r.state.open:!0;l&&r.resetHiddenStatus(),!r.state.preventFocus&&u&&((s=(a=r.props).onFocus)===null||s===void 0||s.call(a,i),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var a,s;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((s=(a=r.props).onBlur)===null||s===void 0||s.call(a,i)),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var a,s;r.props.inline||r.setOpen(!1),(s=(a=r.props).onClickOutside)===null||s===void 0||s.call(a,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,a,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var u=s[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,s),!u||typeof u.isDefaultPrevented!="function"||u.isDefaultPrevented()))){r.setState({inputValue:(u==null?void 0:u.target)instanceof HTMLInputElement?u.target.value:null,lastPreSelectChange:fX});var f=r.props,h=f.dateFormat,m=h===void 0?n.defaultProps.dateFormat:h,b=f.strictParsing,g=b===void 0?n.defaultProps.strictParsing:b,v=f.selectsRange,x=f.startDate,C=f.endDate,S=(u==null?void 0:u.target)instanceof HTMLInputElement?u.target.value:"";if(v){var A=S.split("-",2).map(function(X){return X.trim()}),N=A[0],P=A[1],U=B5(N??"",m,r.props.locale,g),B=B5(P??"",m,r.props.locale,g),j=(x==null?void 0:x.getTime())!==(U==null?void 0:U.getTime()),F=(C==null?void 0:C.getTime())!==(B==null?void 0:B.getTime());if(!j&&!F||U&&Ll(U,r.props)||B&&Ll(B,r.props))return;(a=(i=r.props).onChange)===null||a===void 0||a.call(i,[U,B],u)}else{var V=B5(S,m,r.props.locale,g,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&V&&!ir(V,r.props.selected)&&(V=GG(r.props.selected,{hours:Mu(V),minutes:Lu(V),seconds:Uc(V)})),(V||!S)&&r.setSelected(V,u,!0)}}},r.handleSelect=function(i,a,s){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(a),r.setSelected(i,a,!1,s),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var l=r.props,u=l.startDate,f=l.endDate;u&&!f&&(r.props.swapRange||!Aj(i,u))&&r.setOpen(!1)}},r.setSelected=function(i,a,s,l){var u,f,h=i;if(r.props.showYearPicker){if(h!==null&&Fx($n(h),r.props))return}else if(r.props.showMonthYearPicker){if(h!==null&&G7(h,r.props))return}else if(h!==null&&Ll(h,r.props))return;var m=r.props,b=m.onChange,g=m.selectsRange,v=m.startDate,x=m.endDate,C=m.selectsMultiple,S=m.selectedDates,A=m.minTime,N=m.swapRange;if(!dp(r.props.selected,h)||r.props.allowSameDay||g||C)if(h!==null&&(r.props.selected&&(!s||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(h=$5(h,{hour:Mu(r.props.selected),minute:Lu(r.props.selected),second:Uc(r.props.selected)})),!s&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&A&&(h=$5(h,{hour:A.getHours(),minute:A.getMinutes(),second:A.getSeconds()})),r.props.inline||r.setState({preSelection:h}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:l})),g){var P=!v&&!x,U=v&&!x,B=v&&x;P?b==null||b([h,null],a):U&&(h===null?b==null||b([null,null],a):Aj(h,v)?N?b==null||b([h,v],a):b==null||b([h,null],a):b==null||b([v,h],a)),B&&(b==null||b([h,null],a))}else if(C){if(h!==null)if(!(S!=null&&S.length))b==null||b([h],a);else{var j=S.some(function(V){return ir(V,h)});if(j){var F=S.filter(function(V){return!ir(V,h)});b==null||b(F,a)}else b==null||b(Pc(Pc([],S,!0),[h],!1),a)}}else b==null||b(h,a);s||((f=(u=r.props).onSelect)===null||f===void 0||f.call(u,h,a),r.setState({inputValue:null}))},r.setPreSelection=function(i){var a=Vd(r.props.minDate),s=Vd(r.props.maxDate),l=!0;if(i){var u=Px(i);if(a&&s)l=A1(i,r.props.minDate,r.props.maxDate);else if(a){var f=Px(r.props.minDate);l=Ru(i,f)||dp(u,f)}else if(s){var h=fj(r.props.maxDate);l=Hc(i,h)||dp(u,h)}}l&&r.setState({preSelection:i})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var a,s;if(!(r.props.selectsRange||r.props.selectsMultiple)){var l=r.props.selected?r.props.selected:r.getPreSelection(),u=r.props.selected?i:$5(l,{hour:Mu(i),minute:Lu(i)});r.setState({preSelection:u}),(s=(a=r.props).onChange)===null||s===void 0||s.call(a,u),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,a;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(a=(i=r.props).onInputClick)===null||a===void 0||a.call(i)},r.onInputKeyDown=function(i){var a,s,l,u,f,h;(s=(a=r.props).onKeyDown)===null||s===void 0||s.call(a,i);var m=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(m===Rt.ArrowDown||m===Rt.ArrowUp||m===Rt.Enter)&&((l=r.onInputClick)===null||l===void 0||l.call(r));return}if(r.state.open){if(m===Rt.ArrowDown||m===Rt.ArrowUp){i.preventDefault();var b=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',g=((u=r.calendar)===null||u===void 0?void 0:u.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(b);g instanceof HTMLElement&&g.focus({preventScroll:!0});return}var v=Br(r.state.preSelection);m===Rt.Enter?(i.preventDefault(),i.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===V5?(r.handleSelect(v,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(v)):r.setOpen(!1)):m===Rt.Escape?(i.preventDefault(),i.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):m===Rt.Tab&&r.setOpen(!1),r.inputOk()||(h=(f=r.props).onInputError)===null||h===void 0||h.call(f,{code:1,msg:H5})}},r.onPortalKeyDown=function(i){var a=i.key;a===Rt.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var a,s,l,u,f,h,m=r.props,b=m.minDate,g=m.maxDate,v=m.disabledKeyboardNavigation,x=m.showWeekPicker,C=m.shouldCloseOnSelect,S=m.locale,A=m.calendarStartDay,N=m.adjustDateOnChange,P=m.inline;if((s=(a=r.props).onKeyDown)===null||s===void 0||s.call(a,i),!v){var U=i.key,B=i.shiftKey,j=Br(r.state.preSelection),F=function(Q,$){var Y=$;switch(Q){case Rt.ArrowRight:Y=x?J1($,1):$l($,1);break;case Rt.ArrowLeft:Y=x?J4($):_G($);break;case Rt.ArrowUp:Y=J4($);break;case Rt.ArrowDown:Y=J1($,1);break;case Rt.PageUp:Y=B?jm($,1):gp($,1);break;case Rt.PageDown:Y=B?$c($,1):Vl($,1);break;case Rt.Home:Y=oh($,S,A);break;case Rt.End:Y=CK($);break}return Y},V=function(Q,$){for(var Y=40,Z=Q,re=!1,H=0,me=F(Q,$);!re;){if(H>=Y){me=$;break}b&&me<b&&(Z=Rt.ArrowRight,me=Ll(b,r.props)?F(Z,me):b),g&&me>g&&(Z=Rt.ArrowLeft,me=Ll(g,r.props)?F(Z,me):g),Ll(me,r.props)?((Z===Rt.PageUp||Z===Rt.Home)&&(Z=Rt.ArrowRight),(Z===Rt.PageDown||Z===Rt.End)&&(Z=Rt.ArrowLeft),me=F(Z,me)):re=!0,H++}return me};if(U===Rt.Enter){i.preventDefault(),r.handleSelect(j,i),!C&&r.setPreSelection(j);return}else if(U===Rt.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(u=(l=r.props).onInputError)===null||u===void 0||u.call(l,{code:1,msg:H5});return}var X=null;switch(U){case Rt.ArrowLeft:case Rt.ArrowRight:case Rt.ArrowUp:case Rt.ArrowDown:case Rt.PageUp:case Rt.PageDown:case Rt.Home:case Rt.End:X=V(U,j);break}if(!X){(h=(f=r.props).onInputError)===null||h===void 0||h.call(f,{code:1,msg:H5});return}if(i.preventDefault(),r.setState({lastPreSelectChange:V5}),N&&r.setSelected(X),r.setPreSelection(X),P){var T=Gs(j),D=Gs(X),O=$n(j),L=$n(X);T!==D||O!==L?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var a=i.key;a===Rt.Escape&&(i.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var a=r.props,s=a.selectsRange,l=a.onChange;s?l==null||l([null,null],i):l==null||l(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,a;return!r.props.inline&&!r.isCalendarOpen()?null:it.createElement(rX,ur({showMonthYearDropdown:void 0,ref:function(s){r.calendar=s}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:n.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:LK(r.modifyHolidays()),outsideClickIgnoreClass:jj,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(a=r.props.dropdownMode)!==null&&a!==void 0?a:n.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,a=i.dateFormat,s=a===void 0?n.defaultProps.dateFormat:a,l=i.locale,u=r.props.showTimeInput||r.props.showTimeSelect,f=u?"PPPPp":"PPPP",h;return r.props.selectsRange?h="Selected start date: ".concat(Il(r.props.startDate,{dateFormat:f,locale:l}),". ").concat(r.props.endDate?"End date: "+Il(r.props.endDate,{dateFormat:f,locale:l}):""):r.props.showTimeSelectOnly?h="Selected time: ".concat(Il(r.props.selected,{dateFormat:s,locale:l})):r.props.showYearPicker?h="Selected year: ".concat(Il(r.props.selected,{dateFormat:"yyyy",locale:l})):r.props.showMonthYearPicker?h="Selected month: ".concat(Il(r.props.selected,{dateFormat:"MMMM yyyy",locale:l})):r.props.showQuarterYearPicker?h="Selected quarter: ".concat(Il(r.props.selected,{dateFormat:"yyyy, QQQ",locale:l})):h="Selected date: ".concat(Il(r.props.selected,{dateFormat:f,locale:l})),it.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},h)},r.renderDateInput=function(){var i,a,s,l=Kn(r.props.className,(i={},i[jj]=r.state.open,i)),u=r.props.customInput||it.createElement("input",{type:"text"}),f=r.props.customInputRef||"ref",h=r.props,m=h.dateFormat,b=m===void 0?n.defaultProps.dateFormat:m,g=h.locale,v=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?xK(r.props.startDate,r.props.endDate,{dateFormat:b,locale:g}):r.props.selectsMultiple?vK((s=r.props.selectedDates)!==null&&s!==void 0?s:[],{dateFormat:b,locale:g}):Il(r.props.selected,{dateFormat:b,locale:g});return M.cloneElement(u,(a={},a[f]=function(x){r.input=x},a.value=v,a.onBlur=r.handleBlur,a.onChange=r.handleChange,a.onClick=r.onInputClick,a.onFocus=r.handleFocus,a.onKeyDown=r.onInputKeyDown,a.id=r.props.id,a.name=r.props.name,a.form=r.props.form,a.autoFocus=r.props.autoFocus,a.placeholder=r.props.placeholderText,a.disabled=r.props.disabled,a.autoComplete=r.props.autoComplete,a.className=Kn(u.props.className,l),a.title=r.props.title,a.readOnly=r.props.readOnly,a.required=r.props.required,a.tabIndex=r.props.tabIndex,a["aria-describedby"]=r.props.ariaDescribedBy,a["aria-invalid"]=r.props.ariaInvalid,a["aria-labelledby"]=r.props.ariaLabelledBy,a["aria-required"]=r.props.ariaRequired,a))},r.renderClearButton=function(){var i=r.props,a=i.isClearable,s=i.disabled,l=i.selected,u=i.startDate,f=i.endDate,h=i.clearButtonTitle,m=i.clearButtonClassName,b=m===void 0?"":m,g=i.ariaLabelClose,v=g===void 0?"Close":g,x=i.selectedDates;return a&&(l!=null||u!=null||f!=null||x!=null&&x.length)?it.createElement("button",{type:"button",className:Kn("react-datepicker__close-icon",b,{"react-datepicker__close-icon--disabled":s}),disabled:s,"aria-label":v,onClick:r.onClearClick,title:h,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(n,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Mb,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},n.prototype.componentDidUpdate=function(t,r){var i,a,s,l;t.inline&&cX(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:vj(this.props.highlightDates)}),!r.focused&&!dp(t.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((a=(i=this.props).onCalendarOpen)===null||a===void 0||a.call(i)),r.open===!0&&this.state.open===!1&&((l=(s=this.props).onCalendarClose)===null||l===void 0||l.call(s)))},n.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},n.prototype.renderInputContainer=function(){var t=this.props,r=t.showIcon,i=t.icon,a=t.calendarIconClassname,s=t.calendarIconClassName,l=t.toggleCalendarOnIconClick,u=this.state.open;return a&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),it.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&it.createElement(iX,ur({icon:i,className:Kn(s,!s&&a,u&&"react-datepicker-ignore-onclickoutside")},l?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},n.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var r=this.state.open?it.createElement(J7,{enableTabLoop:this.props.enableTabLoop},it.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(r=it.createElement(Z7,ur({portalId:this.props.portalId},this.props),r)),it.createElement("div",null,this.renderInputContainer(),r)}return it.createElement(uX,ur({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},n}(M.Component),fX="input",V5="navigate";const hX=e=>d.jsx(tn,{...e,sx:{width:"100%","& .MuiOutlinedInput-root":{borderRadius:Ct.xl,backgroundColor:ct.palette.background.paper,"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:ct.palette.primary.main},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:ct.palette.primary.main,borderWidth:2}},"& .MuiInputBase-input":{color:ct.palette.text.primary,fontSize:"1rem",padding:"12px 14px"},"& .MuiInputLabel-root":{color:ct.palette.text.secondary,"&.Mui-focused":{color:ct.palette.primary.main}}}}),eO=it.forwardRef((e,n)=>d.jsx(hX,{...e,inputRef:n,fullWidth:!0}));eO.displayName="CustomInput";const pX=({value:e,onChange:n})=>{const t=r=>r?r.toLocaleString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"";return d.jsxs(an,{elevation:2,sx:{p:3,mb:3,backgroundColor:ct.palette.background.paper,borderRadius:Ct.xl,border:`1px solid ${ct.palette.divider}`},children:[d.jsxs(se,{sx:{display:"flex",alignItems:"center",mb:2},children:[d.jsx(pm,{sx:{mr:1,color:ct.palette.primary.main}}),d.jsx(te,{variant:"h6",sx:{fontWeight:600,color:ct.palette.text.primary},children:"Schedule Publish"})]}),d.jsx(te,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Choose when you want this material to be automatically published."}),d.jsx(dX,{selected:e,onChange:r=>n(r),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,dateFormat:"MMM d, yyyy h:mm aa",minDate:new Date,customInput:d.jsx(eO,{label:"Select Date & Time"}),placeholderText:"Click to select date and time"}),e&&d.jsx(se,{sx:{mt:2},children:d.jsx(Rn,{icon:d.jsx(pm,{}),label:`Scheduled for ${t(e)}`,color:"primary",variant:"outlined",sx:{backgroundColor:ct.palette.primary.light,color:ct.palette.primary.main,borderColor:ct.palette.primary.main}})})]})},mX=M.lazy(()=>Ti(()=>import("./MaterialImportWrapper-BzzFgppB.js"),__vite__mapDeps([3,4,1,5]))),tO=({materialData:e})=>{var qt;const n=Na(),{userDetails:t}=Ii(),r=cr(),{uploadedFile:i,uploadOriginalFile:a,originalFileUrl:s,originalFileUploadProgress:l}=Hd(),[u]=Ab(),f=u.get("course"),h=u.get("mode")||"manual",[m,b]=M.useState((e==null?void 0:e.course)||f||""),[g,v]=M.useState((e==null?void 0:e.id)||null),[x,C]=M.useState((e==null?void 0:e.title)||""),[S,A]=M.useState((e==null?void 0:e.header)||{title:"Header",content:""}),[N,P]=M.useState((e==null?void 0:e.footer)||{title:"Footer",content:""}),[U,B]=M.useState((e==null?void 0:e.sections)||[{id:Vi(),title:"Section 1",content:"",subsections:[],images:[],links:[]}]),[j,F]=M.useState({sectionIndex:0}),[V,X]=M.useState(!1),[T,D]=M.useState(""),[O,L]=M.useState("success"),[Q,$]=M.useState(!1),[Y,Z]=M.useState(((qt=e==null?void 0:e.scheduledTimestamp)==null?void 0:qt.toDate())||null),[re,H]=M.useState(!1),[me,q]=M.useState(h),[z,ne]=M.useState(!1),[oe,ee]=M.useState(null),[ge,de]=M.useState(!1),[ye,we]=M.useState(null),[ve,je]=M.useState(!1);m7(U,j.sectionIndex||0,U.length>1),M.useEffect(()=>{const Qe=Se=>{Se.key==="ArrowLeft"||Se.key};return window.addEventListener("keydown",Qe),()=>window.removeEventListener("keydown",Qe)},[j,U]);const Ee=async(Qe,Se=!1,De)=>{Qe.preventDefault();try{const ke=U.some(Ke=>{var He,Nt;return((He=Ke.images)==null?void 0:He.some(It=>It.url.startsWith("blob:")))||((Nt=Ke.subsections)==null?void 0:Nt.some(It=>{var Ft;return(Ft=It.images)==null?void 0:Ft.some(jt=>jt.url.startsWith("blob:"))}))});if(z&&ke){console.log(" Starting AI material creation with image upload...");const Ke=await Di(mn(r,"materials"),{course:m,title:x,header:S,footer:N,sections:[],author:(t==null?void 0:t.uid)||"",timestamp:nh(),published:!1,scheduledTimestamp:De?Ni.fromDate(De):null});console.log(" Material created with ID:",Ke.id),v(Ke.id),console.log(" Starting image upload process...");const He=await BS(m,(t==null?void 0:t.uid)||"",Ke.id,(Ft,jt)=>{console.log(` Image upload progress: ${Ft}/${jt}`),ee({completed:Ft,total:jt})});console.log(" Image upload complete, updating material..."),await qr(Ke,{sections:He,published:Se,scheduledTimestamp:De?Ni.fromDate(De):null}),ee(null),ne(!1);const{resetImport:Nt}=Hd.getState();Nt(),D(Se?"Material published successfully!":De?"Material scheduled successfully!":"Material saved successfully!"),L("success"),X(!0),(Se||De)&&n(`/supplemental-materials?course=${m}`)}else{const Ke={course:m,title:x,header:S,footer:N,sections:U,author:(t==null?void 0:t.uid)||"",timestamp:nh(),published:Se,scheduledTimestamp:De?Ni.fromDate(De):null,...s&&{originalFile:{url:s}}};if(g)await qr(gn(r,"materials",g),Ke),D(Se?"Material updated and published!":De?"Material updated and scheduled!":"Material updated successfully!");else{const He=await Di(mn(r,"materials"),Ke);v(He.id),D(Se?"Material created and published!":De?"Material created and scheduled!":"Material created successfully!")}L("success"),X(!0),(Se||De)&&n(`/supplemental-materials?course=${m}`)}}catch(ke){console.error("Error saving material:",ke),D("Error saving material. Please try again."),L("error"),X(!0)}},Ue=(Qe,Se,De)=>{F({sectionIndex:typeof Qe=="number"?Qe:void 0,subsectionIndex:Se,subSubsectionIndex:De,type:typeof Qe=="string"?Qe:void 0})},Oe=()=>{var Qe,Se,De;if(j.type==="header")return S.content;if(j.type==="footer")return N.content;if(j.sectionIndex!==void 0){const ke=U[j.sectionIndex];return j.subSubsectionIndex!==void 0?((Se=(Qe=ke==null?void 0:ke.subsections[j.subsectionIndex])==null?void 0:Qe.subSubsections[j.subSubsectionIndex])==null?void 0:Se.content)||"":j.subsectionIndex!==void 0?((De=ke==null?void 0:ke.subsections[j.subsectionIndex])==null?void 0:De.content)||"":(ke==null?void 0:ke.content)||""}return""},pe=()=>{var Qe,Se,De;if(j.type==="header")return S.title;if(j.type==="footer")return N.title;if(j.sectionIndex!==void 0){const ke=U[j.sectionIndex];return j.subSubsectionIndex!==void 0?((Se=(Qe=ke==null?void 0:ke.subsections[j.subsectionIndex])==null?void 0:Qe.subSubsections[j.subSubsectionIndex])==null?void 0:Se.title)||"":j.subsectionIndex!==void 0?((De=ke==null?void 0:ke.subsections[j.subsectionIndex])==null?void 0:De.title)||"":(ke==null?void 0:ke.title)||""}return""},tt=Qe=>{j.type==="header"?A(Se=>({...Se,content:Qe})):j.type==="footer"?P(Se=>({...Se,content:Qe})):j.sectionIndex!==void 0&&B(Se=>{const De=[...Se],ke=De[j.sectionIndex];return j.subSubsectionIndex!==void 0?ke.subsections[j.subsectionIndex].subSubsections[j.subSubsectionIndex].content=Qe:j.subsectionIndex!==void 0?ke.subsections[j.subsectionIndex].content=Qe:ke.content=Qe,De})},dt=Qe=>{re&&Y?Ee(Qe,!1,Y):H(!0)},lt=Qe=>{j.type==="header"?A(Se=>({...Se,title:Qe})):j.type==="footer"?P(Se=>({...Se,title:Qe})):j.sectionIndex!==void 0&&B(Se=>{const De=[...Se],ke=De[j.sectionIndex];return j.subSubsectionIndex!==void 0?ke.subsections[j.subsectionIndex].subSubsections[j.subSubsectionIndex].title=Qe:j.subsectionIndex!==void 0?ke.subsections[j.subsectionIndex].title=Qe:ke.title=Qe,De})},Ze=()=>{var Qe,Se,De;if(j.type==="header"||j.type==="footer")return[];if(j.sectionIndex!==void 0){const ke=U[j.sectionIndex];return j.subSubsectionIndex!==void 0?((Se=(Qe=ke==null?void 0:ke.subsections[j.subsectionIndex])==null?void 0:Qe.subSubsections[j.subSubsectionIndex])==null?void 0:Se.images)||[]:j.subsectionIndex!==void 0?((De=ke==null?void 0:ke.subsections[j.subsectionIndex])==null?void 0:De.images)||[]:(ke==null?void 0:ke.images)||[]}return[]},ut=()=>{var Qe,Se,De;if(j.type==="header"||j.type==="footer")return[];if(j.sectionIndex!==void 0){const ke=U[j.sectionIndex];return j.subSubsectionIndex!==void 0?((Se=(Qe=ke==null?void 0:ke.subsections[j.subsectionIndex])==null?void 0:Qe.subSubsections[j.subSubsectionIndex])==null?void 0:Se.links)||[]:j.subsectionIndex!==void 0?((De=ke==null?void 0:ke.subsections[j.subsectionIndex])==null?void 0:De.links)||[]:(ke==null?void 0:ke.links)||[]}return[]},wt=Qe=>{j.type==="header"||j.type==="footer"||j.sectionIndex!==void 0&&B(Se=>{const De=[...Se],ke=De[j.sectionIndex];return j.subSubsectionIndex!==void 0?ke.subsections[j.subsectionIndex].subSubsections[j.subSubsectionIndex].images=Qe:j.subsectionIndex!==void 0?ke.subsections[j.subsectionIndex].images=Qe:ke.images=Qe,De})},Et=Qe=>{j.type==="header"||j.type==="footer"||j.sectionIndex!==void 0&&B(Se=>{const De=[...Se],ke=De[j.sectionIndex];return j.subSubsectionIndex!==void 0?ke.subsections[j.subsectionIndex].subSubsections[j.subSubsectionIndex].links=Qe:j.subsectionIndex!==void 0?ke.subsections[j.subsectionIndex].links=Qe:ke.links=Qe,De})},Ot=()=>j.type==="header"?"header":j.type==="footer"?"footer":j.sectionIndex!==void 0?j.subSubsectionIndex!==void 0?`section-${j.sectionIndex}-subsection-${j.subsectionIndex}-subsubsection-${j.subSubsectionIndex}`:j.subsectionIndex!==void 0?`section-${j.sectionIndex}-subsection-${j.subsectionIndex}`:`section-${j.sectionIndex}`:"unknown";return d.jsxs(se,{sx:{display:"flex",flexGrow:1,flexDirection:"column",minHeight:"100vh"},children:[d.jsxs(an,{elevation:1,sx:{p:3,mb:2,backgroundColor:ct.palette.background.paper,borderRadius:0},children:[d.jsxs(se,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},justifyContent:"space-between",alignItems:{xs:"stretch",md:"center"},mb:3,gap:2},children:[d.jsx(lI,{courseId:(e==null?void 0:e.course)||m}),d.jsx(se,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:2,alignItems:"center",width:{xs:"100%",md:"auto"}},children:d.jsxs(hC,{value:me,exclusive:!0,onChange:(Qe,Se)=>Se&&q(Se),size:"small",sx:{backgroundColor:ct.palette.background.paper,borderRadius:Ct.xl,width:{xs:"100%",sm:"auto"},"& .MuiToggleButton-root":{borderRadius:Ct.xl,textTransform:"none",fontWeight:600,flex:{xs:1,sm:"none"},"&.Mui-selected":{backgroundColor:ct.palette.primary.main,color:ct.palette.primary.contrastText}}},children:[d.jsxs(mm,{value:"manual",children:[d.jsx(Iu,{sx:{mr:1}}),"Manual"]}),d.jsxs(mm,{value:"ai",children:[d.jsx(XR,{sx:{mr:1}}),"AI Import"]})]})})]}),d.jsx(se,{sx:{mb:3},children:d.jsx(MW,{value:m,onChange:b,disabled:!!g})}),d.jsx(tn,{fullWidth:!0,label:"Material Title",value:x,onChange:Qe=>C(Qe.target.value),variant:"outlined",sx:{"& .MuiOutlinedInput-root":{borderRadius:Ct.xl}}})]}),d.jsxs(se,{sx:{display:"flex",flexGrow:1,minHeight:0},children:[d.jsx(Xv,{children:d.jsx(oI,{sections:U,selected:j,onAddSection:()=>{const Qe={id:Vi(),title:`Section ${U.length+1}`,content:"",subsections:[],images:[],links:[]};B(Se=>[...Se,Qe]),F({sectionIndex:U.length})},onAddSubsection:Qe=>{B(Se=>{const De=[...Se],ke=De[Qe].subsections,Ke={id:Vi(),title:`Subsection ${ke.length+1}`,content:"",subSubsections:[],images:[],links:[]};return De[Qe].subsections=[...ke,Ke],De})},onAddSubSubsection:(Qe,Se)=>{B(De=>{const ke=[...De],Ke=ke[Qe].subsections[Se].subSubsections,He={id:Vi(),title:`Sub-subsection ${Ke.length+1}`,content:"",images:[],links:[]};return ke[Qe].subsections[Se].subSubsections=[...Ke,He],ke})},onSelectSection:Ue,onUpdateSectionTitle:(Qe,Se)=>{B(De=>{const ke=[...De];return ke[Qe].title=Se,ke})},onUpdateSubsectionTitle:(Qe,Se,De)=>{B(ke=>{const Ke=[...ke];return Ke[Qe].subsections[Se].title=De,Ke})},onUpdateSubSubsectionTitle:(Qe,Se,De,ke)=>{B(Ke=>{const He=[...Ke];return He[Qe].subsections[Se].subSubsections[De].title=ke,He})},onDeleteSection:Qe=>{B(Se=>Se.filter((De,ke)=>ke!==Qe)),F({sectionIndex:0})},onDeleteSubsection:(Qe,Se)=>{B(De=>{const ke=[...De];return ke[Qe].subsections=ke[Qe].subsections.filter((Ke,He)=>He!==Se),ke})},onDeleteSubSubsection:(Qe,Se,De)=>{B(ke=>{const Ke=[...ke];return Ke[Qe].subsections[Se].subSubsections=Ke[Qe].subsections[Se].subSubsections.filter((He,Nt)=>Nt!==De),Ke})},isViewMode:!1})}),d.jsx(se,{sx:{flexGrow:1,p:4,overflow:"auto"},children:me==="ai"?d.jsx(M.Suspense,{fallback:d.jsx(pi,{}),children:d.jsx(mX,{courseId:m,authorId:(t==null?void 0:t.uid)||"",imageUploadProgress:oe,isSaving:ge,onMaterialReady:async Qe=>{console.log(" AI Material ready callback triggered:",Qe);try{de(!0),ee({completed:0,total:1});const Se=Vi(),De=await BS(m,(t==null?void 0:t.uid)||"",Se,(He,Nt)=>{console.log(` Image upload progress: ${He}/${Nt}`),ee({completed:He,total:Nt})});console.log(" Material with images converted:",De);const ke={...De,sections:Array.isArray(De.sections)?De.sections:[]},Ke=await Di(mn(r,"materials"),{...ke,timestamp:nh(),scheduledTimestamp:null});console.log(" Material saved to Firestore with ID:",Ke.id),await qr(Ke,{id:Ke.id}),console.log(" Material updated with correct ID:",Ke.id),D("AI-imported material saved successfully!"),L("success"),X(!0),ne(!1),Hd.getState().resetImport(),q("manual"),de(!1),ee(null),n(`/edit-material/${Ke.id}`)}catch(Se){console.error(" Failed to save AI material:",Se),D("Failed to save AI-imported material. Please try again."),L("error"),X(!0),de(!1),ee(null)}},onCancel:()=>q("manual"),onError:(Qe,Se)=>{console.error("Material Import Error:",Qe,Se),D(`Import error: ${Qe.message}`),L("error"),X(!0)}})}):d.jsxs(se,{children:[d.jsx(tn,{fullWidth:!0,label:"Section Title",value:pe(),onChange:Qe=>lt(Qe.target.value),variant:"outlined",sx:{mb:3}}),d.jsx(an,{elevation:0,sx:{p:3,mb:3,backgroundColor:ct.palette.background.paper,borderRadius:Ct.xl,border:`1px solid ${ct.palette.divider}`},children:d.jsx(IW,{content:Oe(),onChange:tt})}),j.sectionIndex!==void 0&&d.jsxs(se,{sx:{mb:3},children:[d.jsx(an,{elevation:0,sx:{p:3,mb:2,backgroundColor:ct.palette.background.paper,borderRadius:Ct.xl,border:`1px solid ${ct.palette.divider}`},children:d.jsx(Bz,{sectionId:Ot(),images:Ze(),onImagesChange:wt})}),d.jsx(an,{elevation:0,sx:{p:3,backgroundColor:ct.palette.background.paper,borderRadius:Ct.xl,border:`1px solid ${ct.palette.divider}`},children:d.jsx($z,{links:ut(),onLinksChange:Et})})]}),re&&d.jsx(se,{sx:{mb:3},children:d.jsx(pX,{value:Y,onChange:Z})}),oe&&d.jsx(se,{sx:{mb:3},children:d.jsxs(an,{elevation:1,sx:{p:2,backgroundColor:ct.palette.background.paper,borderRadius:Ct.xl,border:`1px solid ${ct.palette.divider}`},children:[d.jsxs(te,{variant:"body2",sx:{mb:1,color:ct.palette.text.secondary},children:["Uploading images... (",oe.completed," of ",oe.total,")"]}),d.jsx(nl,{variant:"determinate",value:oe.completed/oe.total*100,sx:{borderRadius:Ct.xl,height:8,backgroundColor:ct.palette.grey[200],"& .MuiLinearProgress-bar":{borderRadius:Ct.xl,backgroundColor:ct.palette.primary.main}}})]})}),d.jsxs(se,{sx:{display:"flex",gap:2,justifyContent:"flex-end",flexWrap:"wrap"},children:[d.jsx(xt,{variant:"outlined",onClick:Qe=>Ee(Qe,!1),startIcon:d.jsx(Y0,{}),sx:{textTransform:"none"},children:"Save Draft"}),d.jsx(xt,{variant:"contained",onClick:Qe=>Ee(Qe,!0),startIcon:d.jsx(ZR,{}),sx:{textTransform:"none"},children:"Publish"}),d.jsx(xt,{variant:"outlined",onClick:dt,startIcon:d.jsx(pm,{}),sx:{textTransform:"none",borderColor:ct.palette.primary.main,color:ct.palette.primary.main,"&:hover":{backgroundColor:ct.palette.primary.main,color:ct.palette.primary.contrastText}},children:"Schedule Publish"})]})]})})]}),d.jsx(qu,{open:V,autoHideDuration:6e3,onClose:()=>X(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:d.jsx(Cn,{onClose:()=>X(!1),severity:O,sx:{width:"100%"},children:T})})]})},gX=()=>{const{id:e}=vC(),n=cr(),{userDetails:t}=Ii(),[r,i]=M.useState(null),a=M.useMemo(()=>t!=null&&t.classes?Object.entries(t.classes).filter(([l,u])=>u.isCourseAdmin).map(([l])=>l):[],[t==null?void 0:t.classes]);M.useEffect(()=>{e&&(async()=>{try{const u=gn(n,"materials",e),f=await ja(u);if(f.exists()){const h={id:f.id,...f.data()};console.log("Material data from Firestore:",h),console.log("Sections type:",typeof h.sections),console.log("Sections value:",h.sections),Array.isArray(h.sections)||(console.warn("Sections is not an array, initializing as empty array. Original value:",h.sections),h.sections=[]),h.sections=h.sections.map(m=>({id:m.id||Vi(),title:m.title||"Untitled Section",content:m.content||"",images:Array.isArray(m.images)?m.images.map(g=>({...g,title:g.title||""})):[],links:Array.isArray(m.links)?m.links:[],subsections:Array.isArray(m.subsections)?m.subsections.map(g=>({id:g.id||Vi(),title:g.title||"Untitled Subsection",content:g.content||"",images:Array.isArray(g.images)?g.images.map(v=>({...v,title:v.title||""})):[],links:Array.isArray(g.links)?g.links:[],subSubsections:Array.isArray(g.subSubsections)?g.subSubsections.map(v=>({id:v.id||Vi(),title:v.title||"Untitled Sub-subsection",content:v.content||"",images:Array.isArray(v.images)?v.images.map(x=>({...x,title:x.title||""})):[],links:Array.isArray(v.links)?v.links:[]})):[]})):[]})),h.course=a.includes(h.course)?h.course:a[0]||"",i(h)}}catch(u){console.error("Error fetching material:",u)}})()},[e,n,t,a]);const s=async l=>{try{if(e){const u=gn(n,"materials",e);await qr(u,{...l})}}catch(u){console.error("Error updating material:",u)}};return r?d.jsx(tO,{materialData:r,onSubmit:s}):d.jsx(se,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:d.jsx(pi,{})})},Tj=({children:e,...n})=>d.jsx(se,{...n,sx:{marginBottom:4,textAlign:"center",position:"relative"},children:e}),bX=({src:e,alt:n,...t})=>d.jsx("img",{src:e,alt:n,...t,style:{maxWidth:"100%",maxHeight:"500px",marginBottom:8,borderRadius:8,boxShadow:"0 4px 12px rgba(0,0,0,0.1)",transition:"all 0.3s ease-in-out",...t.style},onMouseEnter:r=>{r.currentTarget.style.transform="scale(1.02)",r.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.15)"},onMouseLeave:r=>{r.currentTarget.style.transform="scale(1)",r.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)"}}),yX=e=>d.jsx(JR,{...e,sx:{borderRadius:1,marginBottom:1}}),xX=({src:e,alt:n,title:t})=>{const[r,i]=M.useState(!1),[a,s]=M.useState(!1),[l]=M.useState(0);return M.useEffect(()=>{i(!1),s(!1);const u=new Image;return u.src=e,u.onload=()=>{console.log(` SmartImage loaded: ${e.substring(0,50)}...`),i(!0)},u.onerror=f=>{console.error(` SmartImage failed to load: ${e}`,f),console.error("Image details:",{src:e,naturalWidth:u.naturalWidth,naturalHeight:u.naturalHeight,complete:u.complete}),console.error("Image load failed. URL accessible via curl but blocked in browser."),console.error("This is likely a Firebase Storage CORS configuration issue."),console.error(`Fix: Configure CORS to allow ${window.location.origin}`),s(!0)},()=>{u.onload=null,u.onerror=null}},[e,l]),a?d.jsxs(Tj,{children:[d.jsxs(se,{sx:{width:"100%",maxWidth:400,height:200,bgcolor:"#ffebee",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:1,border:"1px dashed #f44336",p:2},children:[d.jsx(te,{variant:"body2",color:"error",gutterBottom:!0,children:"Image failed to load"}),d.jsx(te,{variant:"caption",color:"text.secondary",sx:{textAlign:"center",wordBreak:"break-all"},children:t}),d.jsxs(te,{variant:"caption",color:"text.secondary",sx:{mt:1,fontSize:"0.7rem"},children:["URL: ",e.substring(0,60),"..."]})]}),d.jsx(te,{variant:"body2",sx:{fontStyle:"italic",mt:1},children:t})]}):d.jsxs(Tj,{children:[!r&&d.jsx(yX,{variant:"rectangular",width:"100%",height:300,sx:{maxWidth:400}}),d.jsx(dh,{in:r,timeout:500,children:d.jsx(se,{sx:{display:r?"block":"none"},children:d.jsx(bX,{src:e,alt:n,loading:"lazy"})})}),r&&d.jsx(dh,{in:r,timeout:700,children:d.jsx(te,{variant:"body2",sx:{fontStyle:"italic",color:"text.secondary"},children:t})})]})},W5=({images:e})=>d.jsx(se,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mt:2},children:e.map((n,t)=>d.jsx(xX,{src:n.url,alt:`Image ${t+1}`,title:n.title,index:t},`${n.url}-${t}`))}),vX=e=>!e.startsWith("http://")&&!e.startsWith("https://")?`https://${e}`:e,wX=({links:e})=>e.length===0?null:d.jsxs(se,{sx:{mt:2,width:"50%"},children:[d.jsx(te,{variant:"h6",sx:{fontWeight:"bold",mb:2},children:"Links"}),d.jsxs(se,{sx:{display:"flex",mb:1,borderBottom:"1px solid gray"},children:[d.jsx(te,{sx:{flexBasis:"30%",fontWeight:"bold"},children:"Title"}),d.jsx(te,{sx:{flexBasis:"30%",fontWeight:"bold"},children:"URL"}),d.jsx(te,{sx:{flexBasis:"40%",fontWeight:"bold"},children:"Description"})]}),e.map((n,t)=>d.jsx(se,{children:d.jsxs(se,{sx:{display:"flex",alignItems:"center",mb:1,flexWrap:"wrap",borderBottom:"1px solid lightgray"},children:[d.jsx(te,{sx:{flexBasis:"30%",fontStyle:"italic",wordWrap:"break-word",paddingRight:"8px"},children:n.title}),d.jsx(Hv,{sx:{flexBasis:"30%",wordWrap:"break-word",paddingRight:"8px"},href:vX(n.url),target:"_blank",rel:"noopener",children:n.url}),d.jsx(te,{sx:{flexBasis:"40%",wordWrap:"break-word"},children:n.description})]})},t))]});var Ws=Uint8Array,el=Uint16Array,oA=Int32Array,b2=new Ws([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),y2=new Ws([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),y6=new Ws([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),nO=function(e,n){for(var t=new el(31),r=0;r<31;++r)t[r]=n+=1<<e[r-1];for(var i=new oA(t[30]),r=1;r<30;++r)for(var a=t[r];a<t[r+1];++a)i[a]=a-t[r]<<5|r;return{b:t,r:i}},rO=nO(b2,2),iO=rO.b,x6=rO.r;iO[28]=258,x6[258]=28;var aO=nO(y2,0),SX=aO.b,Nj=aO.r,v6=new el(32768);for(var vi=0;vi<32768;++vi){var $f=(vi&43690)>>1|(vi&21845)<<1;$f=($f&52428)>>2|($f&13107)<<2,$f=($f&61680)>>4|($f&3855)<<4,v6[vi]=(($f&65280)>>8|($f&255)<<8)>>1}var Wc=function(e,n,t){for(var r=e.length,i=0,a=new el(n);i<r;++i)e[i]&&++a[e[i]-1];var s=new el(n);for(i=1;i<n;++i)s[i]=s[i-1]+a[i-1]<<1;var l;if(t){l=new el(1<<n);var u=15-n;for(i=0;i<r;++i)if(e[i])for(var f=i<<4|e[i],h=n-e[i],m=s[e[i]-1]++<<h,b=m|(1<<h)-1;m<=b;++m)l[v6[m]>>u]=f}else for(l=new el(r),i=0;i<r;++i)e[i]&&(l[i]=v6[s[e[i]-1]++]>>15-e[i]);return l},mh=new Ws(288);for(var vi=0;vi<144;++vi)mh[vi]=8;for(var vi=144;vi<256;++vi)mh[vi]=9;for(var vi=256;vi<280;++vi)mh[vi]=7;for(var vi=280;vi<288;++vi)mh[vi]=8;var rb=new Ws(32);for(var vi=0;vi<32;++vi)rb[vi]=5;var CX=Wc(mh,9,0),AX=Wc(mh,9,1),kX=Wc(rb,5,0),EX=Wc(rb,5,1),Y5=function(e){for(var n=e[0],t=1;t<e.length;++t)e[t]>n&&(n=e[t]);return n},vu=function(e,n,t){var r=n/8|0;return(e[r]|e[r+1]<<8)>>(n&7)&t},G5=function(e,n){var t=n/8|0;return(e[t]|e[t+1]<<8|e[t+2]<<16)>>(n&7)},lA=function(e){return(e+7)/8|0},sO=function(e,n,t){return(t==null||t>e.length)&&(t=e.length),new Ws(e.subarray(n,t))},jX=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Au=function(e,n,t){var r=new Error(n||jX[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,Au),!t)throw r;return r},TX=function(e,n,t,r){var i=e.length,a=0;if(!i||n.f&&!n.l)return t||new Ws(0);var s=!t,l=s||n.i!=2,u=n.i;s&&(t=new Ws(i*3));var f=function(ve){var je=t.length;if(ve>je){var Ee=new Ws(Math.max(je*2,ve));Ee.set(t),t=Ee}},h=n.f||0,m=n.p||0,b=n.b||0,g=n.l,v=n.d,x=n.m,C=n.n,S=i*8;do{if(!g){h=vu(e,m,1);var A=vu(e,m+1,3);if(m+=3,A)if(A==1)g=AX,v=EX,x=9,C=5;else if(A==2){var B=vu(e,m,31)+257,j=vu(e,m+10,15)+4,F=B+vu(e,m+5,31)+1;m+=14;for(var V=new Ws(F),X=new Ws(19),T=0;T<j;++T)X[y6[T]]=vu(e,m+T*3,7);m+=j*3;for(var D=Y5(X),O=(1<<D)-1,L=Wc(X,D,1),T=0;T<F;){var Q=L[vu(e,m,O)];m+=Q&15;var N=Q>>4;if(N<16)V[T++]=N;else{var $=0,Y=0;for(N==16?(Y=3+vu(e,m,3),m+=2,$=V[T-1]):N==17?(Y=3+vu(e,m,7),m+=3):N==18&&(Y=11+vu(e,m,127),m+=7);Y--;)V[T++]=$}}var Z=V.subarray(0,B),re=V.subarray(B);x=Y5(Z),C=Y5(re),g=Wc(Z,x,1),v=Wc(re,C,1)}else Au(1);else{var N=lA(m)+4,P=e[N-4]|e[N-3]<<8,U=N+P;if(U>i){u&&Au(0);break}l&&f(b+P),t.set(e.subarray(N,U),b),n.b=b+=P,n.p=m=U*8,n.f=h;continue}if(m>S){u&&Au(0);break}}l&&f(b+131072);for(var H=(1<<x)-1,me=(1<<C)-1,q=m;;q=m){var $=g[G5(e,m)&H],z=$>>4;if(m+=$&15,m>S){u&&Au(0);break}if($||Au(2),z<256)t[b++]=z;else if(z==256){q=m,g=null;break}else{var ne=z-254;if(z>264){var T=z-257,oe=b2[T];ne=vu(e,m,(1<<oe)-1)+iO[T],m+=oe}var ee=v[G5(e,m)&me],ge=ee>>4;ee||Au(3),m+=ee&15;var re=SX[ge];if(ge>3){var oe=y2[ge];re+=G5(e,m)&(1<<oe)-1,m+=oe}if(m>S){u&&Au(0);break}l&&f(b+131072);var de=b+ne;if(b<re){var ye=a-re,we=Math.min(re,de);for(ye+b<0&&Au(3);b<we;++b)t[b]=r[ye+b]}for(;b<de;++b)t[b]=t[b-re]}}n.l=g,n.p=q,n.b=b,n.f=h,g&&(h=1,n.m=x,n.d=v,n.n=C)}while(!h);return b!=t.length&&s?sO(t,0,b):t.subarray(0,b)},Rd=function(e,n,t){t<<=n&7;var r=n/8|0;e[r]|=t,e[r+1]|=t>>8},Hg=function(e,n,t){t<<=n&7;var r=n/8|0;e[r]|=t,e[r+1]|=t>>8,e[r+2]|=t>>16},Q5=function(e,n){for(var t=[],r=0;r<e.length;++r)e[r]&&t.push({s:r,f:e[r]});var i=t.length,a=t.slice();if(!i)return{t:lO,l:0};if(i==1){var s=new Ws(t[0].s+1);return s[t[0].s]=1,{t:s,l:1}}t.sort(function(U,B){return U.f-B.f}),t.push({s:-1,f:25001});var l=t[0],u=t[1],f=0,h=1,m=2;for(t[0]={s:-1,f:l.f+u.f,l,r:u};h!=i-1;)l=t[t[f].f<t[m].f?f++:m++],u=t[f!=h&&t[f].f<t[m].f?f++:m++],t[h++]={s:-1,f:l.f+u.f,l,r:u};for(var b=a[0].s,r=1;r<i;++r)a[r].s>b&&(b=a[r].s);var g=new el(b+1),v=w6(t[h-1],g,0);if(v>n){var r=0,x=0,C=v-n,S=1<<C;for(a.sort(function(B,j){return g[j.s]-g[B.s]||B.f-j.f});r<i;++r){var A=a[r].s;if(g[A]>n)x+=S-(1<<v-g[A]),g[A]=n;else break}for(x>>=C;x>0;){var N=a[r].s;g[N]<n?x-=1<<n-g[N]++-1:++r}for(;r>=0&&x;--r){var P=a[r].s;g[P]==n&&(--g[P],++x)}v=n}return{t:new Ws(g),l:v}},w6=function(e,n,t){return e.s==-1?Math.max(w6(e.l,n,t+1),w6(e.r,n,t+1)):n[e.s]=t},Dj=function(e){for(var n=e.length;n&&!e[--n];);for(var t=new el(++n),r=0,i=e[0],a=1,s=function(u){t[r++]=u},l=1;l<=n;++l)if(e[l]==i&&l!=n)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=e[l]}return{c:t.subarray(0,r),n}},Vg=function(e,n){for(var t=0,r=0;r<n.length;++r)t+=e[r]*n[r];return t},oO=function(e,n,t){var r=t.length,i=lA(n+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<r;++a)e[i+a+4]=t[a];return(i+4+r)*8},_j=function(e,n,t,r,i,a,s,l,u,f,h){Rd(n,h++,t),++i[256];for(var m=Q5(i,15),b=m.t,g=m.l,v=Q5(a,15),x=v.t,C=v.l,S=Dj(b),A=S.c,N=S.n,P=Dj(x),U=P.c,B=P.n,j=new el(19),F=0;F<A.length;++F)++j[A[F]&31];for(var F=0;F<U.length;++F)++j[U[F]&31];for(var V=Q5(j,7),X=V.t,T=V.l,D=19;D>4&&!X[y6[D-1]];--D);var O=f+5<<3,L=Vg(i,mh)+Vg(a,rb)+s,Q=Vg(i,b)+Vg(a,x)+s+14+3*D+Vg(j,X)+2*j[16]+3*j[17]+7*j[18];if(u>=0&&O<=L&&O<=Q)return oO(n,h,e.subarray(u,u+f));var $,Y,Z,re;if(Rd(n,h,1+(Q<L)),h+=2,Q<L){$=Wc(b,g,0),Y=b,Z=Wc(x,C,0),re=x;var H=Wc(X,T,0);Rd(n,h,N-257),Rd(n,h+5,B-1),Rd(n,h+10,D-4),h+=14;for(var F=0;F<D;++F)Rd(n,h+3*F,X[y6[F]]);h+=3*D;for(var me=[A,U],q=0;q<2;++q)for(var z=me[q],F=0;F<z.length;++F){var ne=z[F]&31;Rd(n,h,H[ne]),h+=X[ne],ne>15&&(Rd(n,h,z[F]>>5&127),h+=z[F]>>12)}}else $=CX,Y=mh,Z=kX,re=rb;for(var F=0;F<l;++F){var oe=r[F];if(oe>255){var ne=oe>>18&31;Hg(n,h,$[ne+257]),h+=Y[ne+257],ne>7&&(Rd(n,h,oe>>23&31),h+=b2[ne]);var ee=oe&31;Hg(n,h,Z[ee]),h+=re[ee],ee>3&&(Hg(n,h,oe>>5&8191),h+=y2[ee])}else Hg(n,h,$[oe]),h+=Y[oe]}return Hg(n,h,$[256]),h+Y[256]},NX=new oA([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),lO=new Ws(0),DX=function(e,n,t,r,i,a){var s=a.z||e.length,l=new Ws(r+s+5*(1+Math.ceil(s/7e3))+i),u=l.subarray(r,l.length-i),f=a.l,h=(a.r||0)&7;if(n){h&&(u[0]=a.r>>3);for(var m=NX[n-1],b=m>>13,g=m&8191,v=(1<<t)-1,x=a.p||new el(32768),C=a.h||new el(v+1),S=Math.ceil(t/3),A=2*S,N=function(Ue){return(e[Ue]^e[Ue+1]<<S^e[Ue+2]<<A)&v},P=new oA(25e3),U=new el(288),B=new el(32),j=0,F=0,V=a.i||0,X=0,T=a.w||0,D=0;V+2<s;++V){var O=N(V),L=V&32767,Q=C[O];if(x[L]=Q,C[O]=L,T<=V){var $=s-V;if((j>7e3||X>24576)&&($>423||!f)){h=_j(e,u,0,P,U,B,F,X,D,V-D,h),X=j=F=0,D=V;for(var Y=0;Y<286;++Y)U[Y]=0;for(var Y=0;Y<30;++Y)B[Y]=0}var Z=2,re=0,H=g,me=L-Q&32767;if($>2&&O==N(V-me))for(var q=Math.min(b,$)-1,z=Math.min(32767,V),ne=Math.min(258,$);me<=z&&--H&&L!=Q;){if(e[V+Z]==e[V+Z-me]){for(var oe=0;oe<ne&&e[V+oe]==e[V+oe-me];++oe);if(oe>Z){if(Z=oe,re=me,oe>q)break;for(var ee=Math.min(me,oe-2),ge=0,Y=0;Y<ee;++Y){var de=V-me+Y&32767,ye=x[de],we=de-ye&32767;we>ge&&(ge=we,Q=de)}}}L=Q,Q=x[L],me+=L-Q&32767}if(re){P[X++]=268435456|x6[Z]<<18|Nj[re];var ve=x6[Z]&31,je=Nj[re]&31;F+=b2[ve]+y2[je],++U[257+ve],++B[je],T=V+Z,++j}else P[X++]=e[V],++U[e[V]]}}for(V=Math.max(V,T);V<s;++V)P[X++]=e[V],++U[e[V]];h=_j(e,u,f,P,U,B,F,X,D,V-D,h),f||(a.r=h&7|u[h/8|0]<<3,h-=7,a.h=C,a.p=x,a.i=V,a.w=T)}else{for(var V=a.w||0;V<s+f;V+=65535){var Ee=V+65535;Ee>=s&&(u[h/8|0]=f,Ee=s),h=oO(u,h+1,e.subarray(V,Ee))}a.i=s}return sO(l,0,r+lA(h)+i)},uO=function(){var e=1,n=0;return{p:function(t){for(var r=e,i=n,a=t.length|0,s=0;s!=a;){for(var l=Math.min(s+2655,a);s<l;++s)i+=r+=t[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,n=i},d:function(){return e%=65521,n%=65521,(e&255)<<24|(e&65280)<<8|(n&255)<<8|n>>8}}},_X=function(e,n,t,r,i){if(!i&&(i={l:1},n.dictionary)){var a=n.dictionary.subarray(-32768),s=new Ws(a.length+e.length);s.set(a),s.set(e,a.length),e=s,i.w=a.length}return DX(e,n.level==null?6:n.level,n.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+n.mem,t,r,i)},cO=function(e,n,t){for(;t;++n)e[n]=t,t>>>=8},IX=function(e,n){var t=n.level,r=t==0?0:t<6?1:t==9?3:2;if(e[0]=120,e[1]=r<<6|(n.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,n.dictionary){var i=uO();i.p(n.dictionary),cO(e,2,i.d())}},OX=function(e,n){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Au(6,"invalid zlib data"),(e[1]>>5&1)==1&&Au(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function S6(e,n){n||(n={});var t=uO();t.p(e);var r=_X(e,n,n.dictionary?6:2,4);return IX(r,n),cO(r,r.length-4,t.d()),r}function MX(e,n){return TX(e.subarray(OX(e),-4),{i:2},n,n)}var LX=typeof TextDecoder<"u"&&new TextDecoder,RX=0;try{LX.decode(lO,{stream:!0}),RX=1}catch{}var yn=function(){return typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:this}();function K5(){yn.console&&typeof yn.console.log=="function"&&yn.console.log.apply(yn.console,arguments)}var ti={log:K5,warn:function(e){yn.console&&(typeof yn.console.warn=="function"?yn.console.warn.apply(yn.console,arguments):K5.call(null,arguments))},error:function(e){yn.console&&(typeof yn.console.error=="function"?yn.console.error.apply(yn.console,arguments):K5(e))}};function X5(e,n,t){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){sp(r.response,n,t)},r.onerror=function(){ti.error("could not download file")},r.send()}function Ij(e){var n=new XMLHttpRequest;n.open("HEAD",e,!1);try{n.send()}catch{}return n.status>=200&&n.status<=299}function mx(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}var I1,C6,sp=yn.saveAs||((typeof window>"u"?"undefined":ai(window))!=="object"||window!==yn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,n,t){var r=yn.URL||yn.webkitURL,i=document.createElement("a");n=n||e.name||"download",i.download=n,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?Ij(i.href)?X5(e,n,t):mx(i,i.target="_blank"):mx(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){mx(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,n,t){if(n=n||e.name||"download",typeof e=="string")if(Ij(e))X5(e,n,t);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){mx(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:ai(a)!=="object"&&(ti.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,t),n)}:function(e,n,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return X5(e,n,t);var i=e.type==="application/octet-stream",a=/constructor/i.test(yn.HTMLElement)||yn.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":ai(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var h=l.result;h=s?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=h:location=h,r=null},l.readAsDataURL(e)}else{var u=yn.URL||yn.webkitURL,f=u.createObjectURL(e);r?r.location=f:location.href=f,r=null,setTimeout(function(){u.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function dO(e){var n;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,a=t[r].process,s=i.exec(e);s&&(n=a(s),this.r=n[0],this.g=n[1],this.b=n[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),u=this.g.toString(16),f=this.b.toString(16);return l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),"#"+l+u+f}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Z5(e,n){var t=e[0],r=e[1],i=e[2],a=e[3];t=zs(t,r,i,a,n[0],7,-680876936),a=zs(a,t,r,i,n[1],12,-389564586),i=zs(i,a,t,r,n[2],17,606105819),r=zs(r,i,a,t,n[3],22,-1044525330),t=zs(t,r,i,a,n[4],7,-176418897),a=zs(a,t,r,i,n[5],12,1200080426),i=zs(i,a,t,r,n[6],17,-1473231341),r=zs(r,i,a,t,n[7],22,-45705983),t=zs(t,r,i,a,n[8],7,1770035416),a=zs(a,t,r,i,n[9],12,-1958414417),i=zs(i,a,t,r,n[10],17,-42063),r=zs(r,i,a,t,n[11],22,-1990404162),t=zs(t,r,i,a,n[12],7,1804603682),a=zs(a,t,r,i,n[13],12,-40341101),i=zs(i,a,t,r,n[14],17,-1502002290),t=qs(t,r=zs(r,i,a,t,n[15],22,1236535329),i,a,n[1],5,-165796510),a=qs(a,t,r,i,n[6],9,-1069501632),i=qs(i,a,t,r,n[11],14,643717713),r=qs(r,i,a,t,n[0],20,-373897302),t=qs(t,r,i,a,n[5],5,-701558691),a=qs(a,t,r,i,n[10],9,38016083),i=qs(i,a,t,r,n[15],14,-660478335),r=qs(r,i,a,t,n[4],20,-405537848),t=qs(t,r,i,a,n[9],5,568446438),a=qs(a,t,r,i,n[14],9,-1019803690),i=qs(i,a,t,r,n[3],14,-187363961),r=qs(r,i,a,t,n[8],20,1163531501),t=qs(t,r,i,a,n[13],5,-1444681467),a=qs(a,t,r,i,n[2],9,-51403784),i=qs(i,a,t,r,n[7],14,1735328473),t=Bs(t,r=qs(r,i,a,t,n[12],20,-1926607734),i,a,n[5],4,-378558),a=Bs(a,t,r,i,n[8],11,-2022574463),i=Bs(i,a,t,r,n[11],16,1839030562),r=Bs(r,i,a,t,n[14],23,-35309556),t=Bs(t,r,i,a,n[1],4,-1530992060),a=Bs(a,t,r,i,n[4],11,1272893353),i=Bs(i,a,t,r,n[7],16,-155497632),r=Bs(r,i,a,t,n[10],23,-1094730640),t=Bs(t,r,i,a,n[13],4,681279174),a=Bs(a,t,r,i,n[0],11,-358537222),i=Bs(i,a,t,r,n[3],16,-722521979),r=Bs(r,i,a,t,n[6],23,76029189),t=Bs(t,r,i,a,n[9],4,-640364487),a=Bs(a,t,r,i,n[12],11,-421815835),i=Bs(i,a,t,r,n[15],16,530742520),t=$s(t,r=Bs(r,i,a,t,n[2],23,-995338651),i,a,n[0],6,-198630844),a=$s(a,t,r,i,n[7],10,1126891415),i=$s(i,a,t,r,n[14],15,-1416354905),r=$s(r,i,a,t,n[5],21,-57434055),t=$s(t,r,i,a,n[12],6,1700485571),a=$s(a,t,r,i,n[3],10,-1894986606),i=$s(i,a,t,r,n[10],15,-1051523),r=$s(r,i,a,t,n[1],21,-2054922799),t=$s(t,r,i,a,n[8],6,1873313359),a=$s(a,t,r,i,n[15],10,-30611744),i=$s(i,a,t,r,n[6],15,-1560198380),r=$s(r,i,a,t,n[13],21,1309151649),t=$s(t,r,i,a,n[4],6,-145523070),a=$s(a,t,r,i,n[11],10,-1120210379),i=$s(i,a,t,r,n[2],15,718787259),r=$s(r,i,a,t,n[9],21,-343485551),e[0]=Zf(t,e[0]),e[1]=Zf(r,e[1]),e[2]=Zf(i,e[2]),e[3]=Zf(a,e[3])}function x2(e,n,t,r,i,a){return n=Zf(Zf(n,e),Zf(r,a)),Zf(n<<i|n>>>32-i,t)}function zs(e,n,t,r,i,a,s){return x2(n&t|~n&r,e,n,i,a,s)}function qs(e,n,t,r,i,a,s){return x2(n&r|t&~r,e,n,i,a,s)}function Bs(e,n,t,r,i,a,s){return x2(n^t^r,e,n,i,a,s)}function $s(e,n,t,r,i,a,s){return x2(t^(n|~r),e,n,i,a,s)}function fO(e){var n,t=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=e.length;n+=64)Z5(r,PX(e.substring(n-64,n)));e=e.substring(n-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<e.length;n++)i[n>>2]|=e.charCodeAt(n)<<(n%4<<3);if(i[n>>2]|=128<<(n%4<<3),n>55)for(Z5(r,i),n=0;n<16;n++)i[n]=0;return i[14]=8*t,Z5(r,i),r}function PX(e){var n,t=[];for(n=0;n<64;n+=4)t[n>>2]=e.charCodeAt(n)+(e.charCodeAt(n+1)<<8)+(e.charCodeAt(n+2)<<16)+(e.charCodeAt(n+3)<<24);return t}I1=yn.atob.bind(yn),C6=yn.btoa.bind(yn);var Oj="0123456789abcdef".split("");function FX(e){for(var n="",t=0;t<4;t++)n+=Oj[e>>8*t+4&15]+Oj[e>>8*t&15];return n}function zX(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function A6(e){return fO(e).map(zX).join("")}var qX=function(e){for(var n=0;n<e.length;n++)e[n]=FX(e[n]);return e.join("")}(fO("hello"))!="5d41402abc4b2a76b9719d911017c592";function Zf(e,n){if(qX){var t=(65535&e)+(65535&n);return(e>>16)+(n>>16)+(t>>16)<<16|65535&t}return e+n&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function k6(e,n){var t,r,i,a;if(e!==t){for(var s=(i=e,a=1+(256/e.length>>0),new Array(a+1).join(i)),l=[],u=0;u<256;u++)l[u]=u;var f=0;for(u=0;u<256;u++){var h=l[u];f=(f+h+s.charCodeAt(u))%256,l[u]=l[f],l[f]=h}t=e,r=l}else l=r;var m=n.length,b=0,g=0,v="";for(u=0;u<m;u++)g=(g+(h=l[b=(b+1)%256]))%256,l[b]=l[g],l[g]=h,s=l[(l[b]+l[g])%256],v+=String.fromCharCode(n.charCodeAt(u)^s);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Mj={print:4,modify:8,copy:16,"annot-forms":32};function $0(e,n,t,r){this.v=1,this.r=2;var i=192;e.forEach(function(l){if(Mj.perm!==void 0)throw new Error("Invalid permission: "+l);i+=Mj[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(n+this.padding).substr(0,32),s=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=A6(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=k6(this.encryptionKey,this.padding)}function U0(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var n="",t=e.length,r=0;r<t;r++){var i=e.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?n+="#"+("0"+i.toString(16)).slice(-2):n+=e[r]}return n}function Lj(e){if(ai(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var n={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");n.hasOwnProperty(t)||(n[t]={});var a=Math.random().toString(35);return n[t][a]=[r,!!i],a},this.unsubscribe=function(t){for(var r in n)if(n[r][t])return delete n[r][t],Object.keys(n[r]).length===0&&delete n[r],!0;return!1},this.publish=function(t){if(n.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in n[t]){var s=n[t][a];try{s[0].apply(e,r)}catch(l){yn.console&&ti.error("jsPDF PubSub Error",l.message,l)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return n}}function kv(e){if(!(this instanceof kv))return new kv(e);var n="opacity,stroke-opacity".split(",");for(var t in e)e.hasOwnProperty(t)&&n.indexOf(t)>=0&&(this[t]=e[t]);this.id="",this.objectNumber=-1}function hO(e,n){this.gState=e,this.matrix=n,this.id="",this.objectNumber=-1}function op(e,n,t,r,i){if(!(this instanceof op))return new op(e,n,t,r,i);this.type=e==="axial"?2:3,this.coords=n,this.colors=t,hO.call(this,r,i)}function V0(e,n,t,r,i){if(!(this instanceof V0))return new V0(e,n,t,r,i);this.boundingBox=e,this.xStep=n,this.yStep=t,this.stream="",this.cloneIndex=0,hO.call(this,r,i)}function pn(e){var n,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],s=[],l=1,u=16,f="S",h=null;ai(e=e||{})==="object"&&(t=e.orientation,r=e.unit||r,i=e.format||i,a=e.compress||e.compressPdf||a,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(n=e.precision),e.floatPrecision!==void 0&&(u=e.floatPrecision),f=e.defaultPathOperation||"S"),s=e.filters||(a===!0?["FlateEncode"]:s),r=r||"mm",t=(""+(t||"P")).toLowerCase();var m=e.putOnlyUsedFonts||!1,b={},g={internal:{},__private__:{}};g.__private__.PubSub=Lj;var v="1.3",x=g.__private__.getPdfVersion=function(){return v};g.__private__.setPdfVersion=function(I){v=I};var C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return C};var S=g.__private__.getPageFormat=function(I){return C[I]};i=i||"a4";var A={COMPAT:"compat",ADVANCED:"advanced"},N=A.COMPAT;function P(){this.saveGraphicsState(),pe(new zt(He,0,0,-He,0,Ku()*He).toString()+" cm"),this.setFontSize(this.getFontSize()/He),f="n",N=A.ADVANCED}function U(){this.restoreGraphicsState(),f="S",N=A.COMPAT}var B=g.__private__.combineFontStyleAndFontWeight=function(I,ae){if(I=="bold"&&ae=="normal"||I=="bold"&&ae==400||I=="normal"&&ae=="italic"||I=="bold"&&ae=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ae&&(I=ae==400||ae==="normal"?I==="italic"?"italic":"normal":ae!=700&&ae!=="bold"||I!=="normal"?(ae==700?"bold":ae)+""+I:"bold"),I};g.advancedAPI=function(I){var ae=N===A.COMPAT;return ae&&P.call(this),typeof I!="function"||(I(this),ae&&U.call(this)),this},g.compatAPI=function(I){var ae=N===A.ADVANCED;return ae&&U.call(this),typeof I!="function"||(I(this),ae&&P.call(this)),this},g.isAdvancedAPI=function(){return N===A.ADVANCED};var j,F=function(I){if(N!==A.ADVANCED)throw new Error(I+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},V=g.roundToPrecision=g.__private__.roundToPrecision=function(I,ae){var Ae=n||ae;if(isNaN(I)||isNaN(Ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return I.toFixed(Ae).replace(/0+$/,"")};j=g.hpf=g.__private__.hpf=typeof u=="number"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return V(I,u)}:u==="smart"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return V(I,I>-1&&I<1?16:5)}:function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return V(I,16)};var X=g.f2=g.__private__.f2=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f2");return V(I,2)},T=g.__private__.f3=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f3");return V(I,3)},D=g.scale=g.__private__.scale=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.scale");return N===A.COMPAT?I*He:N===A.ADVANCED?I:void 0},O=function(I){return N===A.COMPAT?Ku()-I:N===A.ADVANCED?I:void 0},L=function(I){return D(O(I))};g.__private__.setPrecision=g.setPrecision=function(I){typeof parseInt(I,10)=="number"&&(n=parseInt(I,10))};var Q,$="00000000000000000000000000000000",Y=g.__private__.getFileId=function(){return $},Z=g.__private__.setFileId=function(I){return $=I!==void 0&&/^[a-fA-F0-9]{32}$/.test(I)?I.toUpperCase():$.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(mi=new $0(h.userPermissions,h.userPassword,h.ownerPassword,$)),$};g.setFileId=function(I){return Z(I),this},g.getFileId=function(){return Y()};var re=g.__private__.convertDateToPDFDate=function(I){var ae=I.getTimezoneOffset(),Ae=ae<0?"+":"-",Ie=Math.floor(Math.abs(ae/60)),Ve=Math.abs(ae%60),ot=[Ae,ne(Ie),"'",ne(Ve),"'"].join("");return["D:",I.getFullYear(),ne(I.getMonth()+1),ne(I.getDate()),ne(I.getHours()),ne(I.getMinutes()),ne(I.getSeconds()),ot].join("")},H=g.__private__.convertPDFDateToDate=function(I){var ae=parseInt(I.substr(2,4),10),Ae=parseInt(I.substr(6,2),10)-1,Ie=parseInt(I.substr(8,2),10),Ve=parseInt(I.substr(10,2),10),ot=parseInt(I.substr(12,2),10),St=parseInt(I.substr(14,2),10);return new Date(ae,Ae,Ie,Ve,ot,St,0)},me=g.__private__.setCreationDate=function(I){var ae;if(I===void 0&&(I=new Date),I instanceof Date)ae=re(I);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(I))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ae=I}return Q=ae},q=g.__private__.getCreationDate=function(I){var ae=Q;return I==="jsDate"&&(ae=H(Q)),ae};g.setCreationDate=function(I){return me(I),this},g.getCreationDate=function(I){return q(I)};var z,ne=g.__private__.padd2=function(I){return("0"+parseInt(I)).slice(-2)},oe=g.__private__.padd2Hex=function(I){return("00"+(I=I.toString())).substr(I.length)},ee=0,ge=[],de=[],ye=0,we=[],ve=[],je=!1,Ee=de,Ue=function(){ee=0,ye=0,de=[],ge=[],we=[],Or=br(),Ha=br()};g.__private__.setCustomOutputDestination=function(I){je=!0,Ee=I};var Oe=function(I){je||(Ee=I)};g.__private__.resetCustomOutputDestination=function(){je=!1,Ee=de};var pe=g.__private__.out=function(I){return I=I.toString(),ye+=I.length+1,Ee.push(I),Ee},tt=g.__private__.write=function(I){return pe(arguments.length===1?I.toString():Array.prototype.join.call(arguments," "))},dt=g.__private__.getArrayBuffer=function(I){for(var ae=I.length,Ae=new ArrayBuffer(ae),Ie=new Uint8Array(Ae);ae--;)Ie[ae]=I.charCodeAt(ae);return Ae},lt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return lt};var Ze=e.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(I){return Ze=N===A.ADVANCED?I/He:I,this};var ut,wt=g.__private__.getFontSize=g.getFontSize=function(){return N===A.COMPAT?Ze:Ze*He},Et=e.R2L||!1;g.__private__.setR2L=g.setR2L=function(I){return Et=I,this},g.__private__.getR2L=g.getR2L=function(){return Et};var Ot,qt=g.__private__.setZoomMode=function(I){var ae=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(I))ut=I;else if(isNaN(I)){if(ae.indexOf(I)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+I+'" is not recognized.');ut=I}else ut=parseInt(I,10)};g.__private__.getZoomMode=function(){return ut};var Qe,Se=g.__private__.setPageMode=function(I){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(I)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+I+'" is not recognized.');Ot=I};g.__private__.getPageMode=function(){return Ot};var De=g.__private__.setLayoutMode=function(I){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(I)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+I+'" is not recognized.');Qe=I};g.__private__.getLayoutMode=function(){return Qe},g.__private__.setDisplayMode=g.setDisplayMode=function(I,ae,Ae){return qt(I),De(ae),Se(Ae),this};var ke={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(I){if(Object.keys(ke).indexOf(I)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ke[I]},g.__private__.getDocumentProperties=function(){return ke},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(I){for(var ae in ke)ke.hasOwnProperty(ae)&&I[ae]&&(ke[ae]=I[ae]);return this},g.__private__.setDocumentProperty=function(I,ae){if(Object.keys(ke).indexOf(I)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ke[I]=ae};var Ke,He,Nt,It,Ft,jt={},nn={},Tt=[],Ht={},un={},vn={},Er={},Hn=null,Xn=0,Xt=[],_n=new Lj(g),fa=e.hotfixes||[],cn={},Vn={},Oi=[],zt=function I(ae,Ae,Ie,Ve,ot,St){if(!(this instanceof I))return new I(ae,Ae,Ie,Ve,ot,St);isNaN(ae)&&(ae=1),isNaN(Ae)&&(Ae=0),isNaN(Ie)&&(Ie=0),isNaN(Ve)&&(Ve=1),isNaN(ot)&&(ot=0),isNaN(St)&&(St=0),this._matrix=[ae,Ae,Ie,Ve,ot,St]};Object.defineProperty(zt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(zt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(zt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(zt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(zt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(zt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(zt.prototype,"a",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(zt.prototype,"b",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(zt.prototype,"c",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(zt.prototype,"d",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(zt.prototype,"e",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(zt.prototype,"f",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(zt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(zt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(zt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(zt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),zt.prototype.join=function(I){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(j).join(I)},zt.prototype.multiply=function(I){var ae=I.sx*this.sx+I.shy*this.shx,Ae=I.sx*this.shy+I.shy*this.sy,Ie=I.shx*this.sx+I.sy*this.shx,Ve=I.shx*this.shy+I.sy*this.sy,ot=I.tx*this.sx+I.ty*this.shx+this.tx,St=I.tx*this.shy+I.ty*this.sy+this.ty;return new zt(ae,Ae,Ie,Ve,ot,St)},zt.prototype.decompose=function(){var I=this.sx,ae=this.shy,Ae=this.shx,Ie=this.sy,Ve=this.tx,ot=this.ty,St=Math.sqrt(I*I+ae*ae),Mt=(I/=St)*Ae+(ae/=St)*Ie;Ae-=I*Mt,Ie-=ae*Mt;var Qt=Math.sqrt(Ae*Ae+Ie*Ie);return Mt/=Qt,I*(Ie/=Qt)<ae*(Ae/=Qt)&&(I=-I,ae=-ae,Mt=-Mt,St=-St),{scale:new zt(St,0,0,Qt,0,0),translate:new zt(1,0,0,1,Ve,ot),rotate:new zt(I,ae,-ae,I,0,0),skew:new zt(1,0,Mt,1,0,0)}},zt.prototype.toString=function(I){return this.join(" ")},zt.prototype.inversed=function(){var I=this.sx,ae=this.shy,Ae=this.shx,Ie=this.sy,Ve=this.tx,ot=this.ty,St=1/(I*Ie-ae*Ae),Mt=Ie*St,Qt=-ae*St,Nn=-Ae*St,wn=I*St;return new zt(Mt,Qt,Nn,wn,-Mt*Ve-Nn*ot,-Qt*Ve-wn*ot)},zt.prototype.applyToPoint=function(I){var ae=I.x*this.sx+I.y*this.shx+this.tx,Ae=I.x*this.shy+I.y*this.sy+this.ty;return new of(ae,Ae)},zt.prototype.applyToRectangle=function(I){var ae=this.applyToPoint(I),Ae=this.applyToPoint(new of(I.x+I.w,I.y+I.h));return new jh(ae.x,ae.y,Ae.x-ae.x,Ae.y-ae.y)},zt.prototype.clone=function(){var I=this.sx,ae=this.shy,Ae=this.shx,Ie=this.sy,Ve=this.tx,ot=this.ty;return new zt(I,ae,Ae,Ie,Ve,ot)},g.Matrix=zt;var Zn=g.matrixMult=function(I,ae){return ae.multiply(I)},dr=new zt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=dr;var $r=function(I,ae){if(!un[I]){var Ae=(ae instanceof op?"Sh":"P")+(Object.keys(Ht).length+1).toString(10);ae.id=Ae,un[I]=Ae,Ht[Ae]=ae,_n.publish("addPattern",ae)}};g.ShadingPattern=op,g.TilingPattern=V0,g.addShadingPattern=function(I,ae){return F("addShadingPattern()"),$r(I,ae),this},g.beginTilingPattern=function(I){F("beginTilingPattern()"),lf(I.boundingBox[0],I.boundingBox[1],I.boundingBox[2]-I.boundingBox[0],I.boundingBox[3]-I.boundingBox[1],I.matrix)},g.endTilingPattern=function(I,ae){F("endTilingPattern()"),ae.stream=ve[z].join(`
`),$r(I,ae),_n.publish("endTilingPattern",ae),Oi.pop().restore()};var gr=g.__private__.newObject=function(){var I=br();return Qn(I,!0),I},br=g.__private__.newObjectDeferred=function(){return ee++,ge[ee]=function(){return ye},ee},Qn=function(I,ae){return ae=typeof ae=="boolean"&&ae,ge[I]=ye,ae&&pe(I+" 0 obj"),I},js=g.__private__.newAdditionalObject=function(){var I={objId:br(),content:""};return we.push(I),I},Or=br(),Ha=br(),Ki=g.__private__.decodeColorString=function(I){var ae=I.split(" ");if(ae.length!==2||ae[1]!=="g"&&ae[1]!=="G")ae.length===5&&(ae[4]==="k"||ae[4]==="K")&&(ae=[(1-ae[0])*(1-ae[3]),(1-ae[1])*(1-ae[3]),(1-ae[2])*(1-ae[3]),"r"]);else{var Ae=parseFloat(ae[0]);ae=[Ae,Ae,Ae,"r"]}for(var Ie="#",Ve=0;Ve<3;Ve++)Ie+=("0"+Math.floor(255*parseFloat(ae[Ve])).toString(16)).slice(-2);return Ie},Xi=g.__private__.encodeColorString=function(I){var ae;typeof I=="string"&&(I={ch1:I});var Ae=I.ch1,Ie=I.ch2,Ve=I.ch3,ot=I.ch4,St=I.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ae=="string"&&Ae.charAt(0)!=="#"){var Mt=new dO(Ae);if(Mt.ok)Ae=Mt.toHex();else if(!/^\d*\.?\d*$/.test(Ae))throw new Error('Invalid color "'+Ae+'" passed to jsPDF.encodeColorString.')}if(typeof Ae=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ae)&&(Ae="#"+Ae[1]+Ae[1]+Ae[2]+Ae[2]+Ae[3]+Ae[3]),typeof Ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ae)){var Qt=parseInt(Ae.substr(1),16);Ae=Qt>>16&255,Ie=Qt>>8&255,Ve=255&Qt}if(Ie===void 0||ot===void 0&&Ae===Ie&&Ie===Ve)if(typeof Ae=="string")ae=Ae+" "+St[0];else switch(I.precision){case 2:ae=X(Ae/255)+" "+St[0];break;case 3:default:ae=T(Ae/255)+" "+St[0]}else if(ot===void 0||ai(ot)==="object"){if(ot&&!isNaN(ot.a)&&ot.a===0)return ae=["1.","1.","1.",St[1]].join(" ");if(typeof Ae=="string")ae=[Ae,Ie,Ve,St[1]].join(" ");else switch(I.precision){case 2:ae=[X(Ae/255),X(Ie/255),X(Ve/255),St[1]].join(" ");break;default:case 3:ae=[T(Ae/255),T(Ie/255),T(Ve/255),St[1]].join(" ")}}else if(typeof Ae=="string")ae=[Ae,Ie,Ve,ot,St[2]].join(" ");else switch(I.precision){case 2:ae=[X(Ae),X(Ie),X(Ve),X(ot),St[2]].join(" ");break;case 3:default:ae=[T(Ae),T(Ie),T(Ve),T(ot),St[2]].join(" ")}return ae},ar=g.__private__.getFilters=function(){return s},Mi=g.__private__.putStream=function(I){var ae=(I=I||{}).data||"",Ae=I.filters||ar(),Ie=I.alreadyAppliedFilters||[],Ve=I.addLength1||!1,ot=ae.length,St=I.objectId,Mt=function(Pi){return Pi};if(h!==null&&St===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Mt=mi.encryptor(St,0));var Qt={};Ae===!0&&(Ae=["FlateEncode"]);var Nn=I.additionalKeyValues||[],wn=(Qt=pn.API.processDataByFilters!==void 0?pn.API.processDataByFilters(ae,Ae):{data:ae,reverseChain:[]}).reverseChain+(Array.isArray(Ie)?Ie.join(" "):Ie.toString());if(Qt.data.length!==0&&(Nn.push({key:"Length",value:Qt.data.length}),Ve===!0&&Nn.push({key:"Length1",value:ot})),wn.length!=0)if(wn.split("/").length-1==1)Nn.push({key:"Filter",value:wn});else{Nn.push({key:"Filter",value:"["+wn+"]"});for(var Wn=0;Wn<Nn.length;Wn+=1)if(Nn[Wn].key==="DecodeParms"){for(var li=[],gi=0;gi<Qt.reverseChain.split("/").length-1;gi+=1)li.push("null");li.push(Nn[Wn].value),Nn[Wn].value="["+li.join(" ")+"]"}}pe("<<");for(var Ri=0;Ri<Nn.length;Ri++)pe("/"+Nn[Ri].key+" "+Nn[Ri].value);pe(">>"),Qt.data.length!==0&&(pe("stream"),pe(Mt(Qt.data)),pe("endstream"))},sr=g.__private__.putPage=function(I){var ae=I.number,Ae=I.data,Ie=I.objId,Ve=I.contentsObjId;Qn(Ie,!0),pe("<</Type /Page"),pe("/Parent "+I.rootDictionaryObjId+" 0 R"),pe("/Resources "+I.resourceDictionaryObjId+" 0 R"),pe("/MediaBox ["+parseFloat(j(I.mediaBox.bottomLeftX))+" "+parseFloat(j(I.mediaBox.bottomLeftY))+" "+j(I.mediaBox.topRightX)+" "+j(I.mediaBox.topRightY)+"]"),I.cropBox!==null&&pe("/CropBox ["+j(I.cropBox.bottomLeftX)+" "+j(I.cropBox.bottomLeftY)+" "+j(I.cropBox.topRightX)+" "+j(I.cropBox.topRightY)+"]"),I.bleedBox!==null&&pe("/BleedBox ["+j(I.bleedBox.bottomLeftX)+" "+j(I.bleedBox.bottomLeftY)+" "+j(I.bleedBox.topRightX)+" "+j(I.bleedBox.topRightY)+"]"),I.trimBox!==null&&pe("/TrimBox ["+j(I.trimBox.bottomLeftX)+" "+j(I.trimBox.bottomLeftY)+" "+j(I.trimBox.topRightX)+" "+j(I.trimBox.topRightY)+"]"),I.artBox!==null&&pe("/ArtBox ["+j(I.artBox.bottomLeftX)+" "+j(I.artBox.bottomLeftY)+" "+j(I.artBox.topRightX)+" "+j(I.artBox.topRightY)+"]"),typeof I.userUnit=="number"&&I.userUnit!==1&&pe("/UserUnit "+I.userUnit),_n.publish("putPage",{objId:Ie,pageContext:Xt[ae],pageNumber:ae,page:Ae}),pe("/Contents "+Ve+" 0 R"),pe(">>"),pe("endobj");var ot=Ae.join(`
`);return N===A.ADVANCED&&(ot+=`
Q`),Qn(Ve,!0),Mi({data:ot,filters:ar(),objectId:Ve}),pe("endobj"),Ie},co=g.__private__.putPages=function(){var I,ae,Ae=[];for(I=1;I<=Xn;I++)Xt[I].objId=br(),Xt[I].contentsObjId=br();for(I=1;I<=Xn;I++)Ae.push(sr({number:I,data:ve[I],objId:Xt[I].objId,contentsObjId:Xt[I].contentsObjId,mediaBox:Xt[I].mediaBox,cropBox:Xt[I].cropBox,bleedBox:Xt[I].bleedBox,trimBox:Xt[I].trimBox,artBox:Xt[I].artBox,userUnit:Xt[I].userUnit,rootDictionaryObjId:Or,resourceDictionaryObjId:Ha}));Qn(Or,!0),pe("<</Type /Pages");var Ie="/Kids [";for(ae=0;ae<Xn;ae++)Ie+=Ae[ae]+" 0 R ";pe(Ie+"]"),pe("/Count "+Xn),pe(">>"),pe("endobj"),_n.publish("postPutPages")},Io=function(I){_n.publish("putFont",{font:I,out:pe,newObject:gr,putStream:Mi}),I.isAlreadyPutted!==!0&&(I.objectNumber=gr(),pe("<<"),pe("/Type /Font"),pe("/BaseFont /"+U0(I.postScriptName)),pe("/Subtype /Type1"),typeof I.encoding=="string"&&pe("/Encoding /"+I.encoding),pe("/FirstChar 32"),pe("/LastChar 255"),pe(">>"),pe("endobj"))},Qa=function(){for(var I in jt)jt.hasOwnProperty(I)&&(m===!1||m===!0&&b.hasOwnProperty(I))&&Io(jt[I])},Ur=function(I){I.objectNumber=gr();var ae=[];ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Form"}),ae.push({key:"BBox",value:"["+[j(I.x),j(I.y),j(I.x+I.width),j(I.y+I.height)].join(" ")+"]"}),ae.push({key:"Matrix",value:"["+I.matrix.toString()+"]"});var Ae=I.pages[1].join(`
`);Mi({data:Ae,additionalKeyValues:ae,objectId:I.objectNumber}),pe("endobj")},dl=function(){for(var I in cn)cn.hasOwnProperty(I)&&Ur(cn[I])},Xl=function(I,ae){var Ae,Ie=[],Ve=1/(ae-1);for(Ae=0;Ae<1;Ae+=Ve)Ie.push(Ae);if(Ie.push(1),I[0].offset!=0){var ot={offset:0,color:I[0].color};I.unshift(ot)}if(I[I.length-1].offset!=1){var St={offset:1,color:I[I.length-1].color};I.push(St)}for(var Mt="",Qt=0,Nn=0;Nn<Ie.length;Nn++){for(Ae=Ie[Nn];Ae>I[Qt+1].offset;)Qt++;var wn=I[Qt].offset,Wn=(Ae-wn)/(I[Qt+1].offset-wn),li=I[Qt].color,gi=I[Qt+1].color;Mt+=oe(Math.round((1-Wn)*li[0]+Wn*gi[0]).toString(16))+oe(Math.round((1-Wn)*li[1]+Wn*gi[1]).toString(16))+oe(Math.round((1-Wn)*li[2]+Wn*gi[2]).toString(16))}return Mt.trim()},Yu=function(I,ae){ae||(ae=21);var Ae=gr(),Ie=Xl(I.colors,ae),Ve=[];Ve.push({key:"FunctionType",value:"0"}),Ve.push({key:"Domain",value:"[0.0 1.0]"}),Ve.push({key:"Size",value:"["+ae+"]"}),Ve.push({key:"BitsPerSample",value:"8"}),Ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Mi({data:Ie,additionalKeyValues:Ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ae}),pe("endobj"),I.objectNumber=gr(),pe("<< /ShadingType "+I.type),pe("/ColorSpace /DeviceRGB");var ot="/Coords ["+j(parseFloat(I.coords[0]))+" "+j(parseFloat(I.coords[1]))+" ";I.type===2?ot+=j(parseFloat(I.coords[2]))+" "+j(parseFloat(I.coords[3])):ot+=j(parseFloat(I.coords[2]))+" "+j(parseFloat(I.coords[3]))+" "+j(parseFloat(I.coords[4]))+" "+j(parseFloat(I.coords[5])),pe(ot+="]"),I.matrix&&pe("/Matrix ["+I.matrix.toString()+"]"),pe("/Function "+Ae+" 0 R"),pe("/Extend [true true]"),pe(">>"),pe("endobj")},ud=function(I,ae){var Ae=br(),Ie=gr();ae.push({resourcesOid:Ae,objectOid:Ie}),I.objectNumber=Ie;var Ve=[];Ve.push({key:"Type",value:"/Pattern"}),Ve.push({key:"PatternType",value:"1"}),Ve.push({key:"PaintType",value:"1"}),Ve.push({key:"TilingType",value:"1"}),Ve.push({key:"BBox",value:"["+I.boundingBox.map(j).join(" ")+"]"}),Ve.push({key:"XStep",value:j(I.xStep)}),Ve.push({key:"YStep",value:j(I.yStep)}),Ve.push({key:"Resources",value:Ae+" 0 R"}),I.matrix&&Ve.push({key:"Matrix",value:"["+I.matrix.toString()+"]"}),Mi({data:I.stream,additionalKeyValues:Ve,objectId:I.objectNumber}),pe("endobj")},Xs=function(I){var ae;for(ae in Ht)Ht.hasOwnProperty(ae)&&(Ht[ae]instanceof op?Yu(Ht[ae]):Ht[ae]instanceof V0&&ud(Ht[ae],I))},Ts=function(I){for(var ae in I.objectNumber=gr(),pe("<<"),I)switch(ae){case"opacity":pe("/ca "+X(I[ae]));break;case"stroke-opacity":pe("/CA "+X(I[ae]))}pe(">>"),pe("endobj")},Ka=function(){var I;for(I in vn)vn.hasOwnProperty(I)&&Ts(vn[I])},Ns=function(){for(var I in pe("/XObject <<"),cn)cn.hasOwnProperty(I)&&cn[I].objectNumber>=0&&pe("/"+I+" "+cn[I].objectNumber+" 0 R");_n.publish("putXobjectDict"),pe(">>")},hs=function(){mi.oid=gr(),pe("<<"),pe("/Filter /Standard"),pe("/V "+mi.v),pe("/R "+mi.r),pe("/U <"+mi.toHexString(mi.U)+">"),pe("/O <"+mi.toHexString(mi.O)+">"),pe("/P "+mi.P),pe(">>"),pe("endobj")},ps=function(){for(var I in pe("/Font <<"),jt)jt.hasOwnProperty(I)&&(m===!1||m===!0&&b.hasOwnProperty(I))&&pe("/"+I+" "+jt[I].objectNumber+" 0 R");pe(">>")},Zl=function(){if(Object.keys(Ht).length>0){for(var I in pe("/Shading <<"),Ht)Ht.hasOwnProperty(I)&&Ht[I]instanceof op&&Ht[I].objectNumber>=0&&pe("/"+I+" "+Ht[I].objectNumber+" 0 R");_n.publish("putShadingPatternDict"),pe(">>")}},fo=function(I){if(Object.keys(Ht).length>0){for(var ae in pe("/Pattern <<"),Ht)Ht.hasOwnProperty(ae)&&Ht[ae]instanceof g.TilingPattern&&Ht[ae].objectNumber>=0&&Ht[ae].objectNumber<I&&pe("/"+ae+" "+Ht[ae].objectNumber+" 0 R");_n.publish("putTilingPatternDict"),pe(">>")}},cd=function(){if(Object.keys(vn).length>0){var I;for(I in pe("/ExtGState <<"),vn)vn.hasOwnProperty(I)&&vn[I].objectNumber>=0&&pe("/"+I+" "+vn[I].objectNumber+" 0 R");_n.publish("putGStateDict"),pe(">>")}},Hr=function(I){Qn(I.resourcesOid,!0),pe("<<"),pe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ps(),Zl(),fo(I.objectOid),cd(),Ns(),pe(">>"),pe("endobj")},ha=function(){var I=[];Qa(),Ka(),dl(),Xs(I),_n.publish("putResources"),I.forEach(Hr),Hr({resourcesOid:Ha,objectOid:Number.MAX_SAFE_INTEGER}),_n.publish("postPutResources")},ho=function(){_n.publish("putAdditionalObjects");for(var I=0;I<we.length;I++){var ae=we[I];Qn(ae.objId,!0),pe(ae.content),pe("endobj")}_n.publish("postPutAdditionalObjects")},fl=function(I){nn[I.fontName]=nn[I.fontName]||{},nn[I.fontName][I.fontStyle]=I.id},Xa=function(I,ae,Ae,Ie,Ve){var ot={id:"F"+(Object.keys(jt).length+1).toString(10),postScriptName:I,fontName:ae,fontStyle:Ae,encoding:Ie,isStandardFont:Ve||!1,metadata:{}};return _n.publish("addFont",{font:ot,instance:this}),jt[ot.id]=ot,fl(ot),ot.id},Jl=function(I){for(var ae=0,Ae=lt.length;ae<Ae;ae++){var Ie=Xa.call(this,I[ae][0],I[ae][1],I[ae][2],lt[ae][3],!0);m===!1&&(b[Ie]=!0);var Ve=I[ae][0].split("-");fl({id:Ie,fontName:Ve[0],fontStyle:Ve[1]||""})}_n.publish("addFonts",{fonts:jt,dictionary:nn})},pa=function(I){return I.foo=function(){try{return I.apply(this,arguments)}catch(Ie){var ae=Ie.stack||"";~ae.indexOf(" at ")&&(ae=ae.split(" at ")[1]);var Ae="Error in function "+ae.split(`
`)[0].split("<")[0]+": "+Ie.message;if(!yn.console)throw new Error(Ae);yn.console.error(Ae,Ie),yn.alert&&alert(Ae)}},I.foo.bar=I,I.foo},hl=function(I,ae){var Ae,Ie,Ve,ot,St,Mt,Qt,Nn,wn;if(Ve=(ae=ae||{}).sourceEncoding||"Unicode",St=ae.outputEncoding,(ae.autoencode||St)&&jt[Ke].metadata&&jt[Ke].metadata[Ve]&&jt[Ke].metadata[Ve].encoding&&(ot=jt[Ke].metadata[Ve].encoding,!St&&jt[Ke].encoding&&(St=jt[Ke].encoding),!St&&ot.codePages&&(St=ot.codePages[0]),typeof St=="string"&&(St=ot[St]),St)){for(Qt=!1,Mt=[],Ae=0,Ie=I.length;Ae<Ie;Ae++)(Nn=St[I.charCodeAt(Ae)])?Mt.push(String.fromCharCode(Nn)):Mt.push(I[Ae]),Mt[Ae].charCodeAt(0)>>8&&(Qt=!0);I=Mt.join("")}for(Ae=I.length;Qt===void 0&&Ae!==0;)I.charCodeAt(Ae-1)>>8&&(Qt=!0),Ae--;if(!Qt)return I;for(Mt=ae.noBOM?[]:[254,255],Ae=0,Ie=I.length;Ae<Ie;Ae++){if((wn=(Nn=I.charCodeAt(Ae))>>8)>>8)throw new Error("Character at position "+Ae+" of string '"+I+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Mt.push(wn),Mt.push(Nn-(wn<<8))}return String.fromCharCode.apply(void 0,Mt)},yr=g.__private__.pdfEscape=g.pdfEscape=function(I,ae){return hl(I,ae).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Oo=g.__private__.beginPage=function(I){ve[++Xn]=[],Xt[Xn]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(I[0]),topRightY:Number(I[1])}},Zs(Xn),Oe(ve[z])},eu=function(I,ae){var Ae,Ie,Ve;switch(t=ae||t,typeof I=="string"&&(Ae=S(I.toLowerCase()),Array.isArray(Ae)&&(Ie=Ae[0],Ve=Ae[1])),Array.isArray(I)&&(Ie=I[0]*He,Ve=I[1]*He),isNaN(Ie)&&(Ie=i[0],Ve=i[1]),(Ie>14400||Ve>14400)&&(ti.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ie=Math.min(14400,Ie),Ve=Math.min(14400,Ve)),i=[Ie,Ve],t.substr(0,1)){case"l":Ve>Ie&&(i=[Ve,Ie]);break;case"p":Ie>Ve&&(i=[Ve,Ie])}Oo(i),Gt(at),pe(Tr),yl!==0&&pe(yl+" J"),Po!==0&&pe(Po+" j"),_n.publish("addPage",{pageNumber:Xn})},Mo=function(I){I>0&&I<=Xn&&(ve.splice(I,1),Xt.splice(I,1),Xn--,z>Xn&&(z=Xn),this.setPage(z))},Zs=function(I){I>0&&I<=Xn&&(z=I)},Gu=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return ve.length-1},Js=function(I,ae,Ae){var Ie,Ve=void 0;return Ae=Ae||{},I=I!==void 0?I:jt[Ke].fontName,ae=ae!==void 0?ae:jt[Ke].fontStyle,Ie=I.toLowerCase(),nn[Ie]!==void 0&&nn[Ie][ae]!==void 0?Ve=nn[Ie][ae]:nn[I]!==void 0&&nn[I][ae]!==void 0?Ve=nn[I][ae]:Ae.disableWarning===!1&&ti.warn("Unable to look up font label for font '"+I+"', '"+ae+"'. Refer to getFontList() for available fonts."),Ve||Ae.noFallback||(Ve=nn.times[ae])==null&&(Ve=nn.times.normal),Ve},Zi=g.__private__.putInfo=function(){var I=gr(),ae=function(Ie){return Ie};for(var Ae in h!==null&&(ae=mi.encryptor(I,0)),pe("<<"),pe("/Producer ("+yr(ae("jsPDF "+pn.version))+")"),ke)ke.hasOwnProperty(Ae)&&ke[Ae]&&pe("/"+Ae.substr(0,1).toUpperCase()+Ae.substr(1)+" ("+yr(ae(ke[Ae]))+")");pe("/CreationDate ("+yr(ae(Q))+")"),pe(">>"),pe("endobj")},ms=g.__private__.putCatalog=function(I){var ae=(I=I||{}).rootDictionaryObjId||Or;switch(gr(),pe("<<"),pe("/Type /Catalog"),pe("/Pages "+ae+" 0 R"),ut||(ut="fullwidth"),ut){case"fullwidth":pe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":pe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":pe("/OpenAction [3 0 R /Fit]");break;case"original":pe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ae=""+ut;Ae.substr(Ae.length-1)==="%"&&(ut=parseInt(ut)/100),typeof ut=="number"&&pe("/OpenAction [3 0 R /XYZ null null "+X(ut)+"]")}switch(Qe||(Qe="continuous"),Qe){case"continuous":pe("/PageLayout /OneColumn");break;case"single":pe("/PageLayout /SinglePage");break;case"two":case"twoleft":pe("/PageLayout /TwoColumnLeft");break;case"tworight":pe("/PageLayout /TwoColumnRight")}Ot&&pe("/PageMode /"+Ot),_n.publish("putCatalog"),pe(">>"),pe("endobj")},Ds=g.__private__.putTrailer=function(){pe("trailer"),pe("<<"),pe("/Size "+(ee+1)),pe("/Root "+ee+" 0 R"),pe("/Info "+(ee-1)+" 0 R"),h!==null&&pe("/Encrypt "+mi.oid+" 0 R"),pe("/ID [ <"+$+"> <"+$+"> ]"),pe(">>")},Qu=g.__private__.putHeader=function(){pe("%PDF-"+v),pe("%")},Za=g.__private__.putXRef=function(){var I="0000000000";pe("xref"),pe("0 "+(ee+1)),pe("0000000000 65535 f ");for(var ae=1;ae<=ee;ae++)typeof ge[ae]=="function"?pe((I+ge[ae]()).slice(-10)+" 00000 n "):ge[ae]!==void 0?pe((I+ge[ae]).slice(-10)+" 00000 n "):pe("0000000000 00000 n ")},eo=g.__private__.buildDocument=function(){Ue(),Oe(de),_n.publish("buildDocument"),Qu(),co(),ho(),ha(),h!==null&&hs(),Zi(),ms();var I=ye;return Za(),Ds(),pe("startxref"),pe(""+I),pe("%%EOF"),Oe(ve[z]),de.join(`
`)},pl=g.__private__.getBlob=function(I){return new Blob([dt(I)],{type:"application/pdf"})},to=g.output=g.__private__.output=pa(function(I,ae){switch(typeof(ae=ae||{})=="string"?ae={filename:ae}:ae.filename=ae.filename||"generated.pdf",I){case void 0:return eo();case"save":g.save(ae.filename);break;case"arraybuffer":return dt(eo());case"blob":return pl(eo());case"bloburi":case"bloburl":if(yn.URL!==void 0&&typeof yn.URL.createObjectURL=="function")return yn.URL&&yn.URL.createObjectURL(pl(eo()))||void 0;ti.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ae="",Ie=eo();try{Ae=C6(Ie)}catch{Ae=C6(unescape(encodeURIComponent(Ie)))}return"data:application/pdf;filename="+ae.filename+";base64,"+Ae;case"pdfobjectnewwindow":if(Object.prototype.toString.call(yn)==="[object Window]"){var Ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ot=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ae.pdfObjectUrl&&(Ve=ae.pdfObjectUrl,ot="");var St='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ve+'"'+ot+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ae)+");<\/script></body></html>",Mt=yn.open();return Mt!==null&&Mt.document.write(St),Mt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(yn)==="[object Window]"){var Qt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ae.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ae.filename+'" width="500px" height="400px" /></body></html>',Nn=yn.open();if(Nn!==null){Nn.document.write(Qt);var wn=this;Nn.document.documentElement.querySelector("#pdfViewer").onload=function(){Nn.document.title=ae.filename,Nn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(wn.output("bloburl"))}}return Nn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(yn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Wn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ae)+'"></iframe></body></html>',li=yn.open();if(li!==null&&(li.document.write(Wn),li.document.title=ae.filename),li||typeof safari>"u")return li;break;case"datauri":case"dataurl":return yn.document.location.href=this.output("datauristring",ae);default:return null}}),ml=function(I){return Array.isArray(fa)===!0&&fa.indexOf(I)>-1};switch(r){case"pt":He=1;break;case"mm":He=72/25.4;break;case"cm":He=72/2.54;break;case"in":He=72;break;case"px":He=ml("px_scaling")==1?.75:96/72;break;case"pc":case"em":He=12;break;case"ex":He=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);He=r}var mi=null;me(),Z();var oi=function(I){return h!==null?mi.encryptor(I,0):function(ae){return ae}},_s=g.__private__.getPageInfo=g.getPageInfo=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Xt[I].objId,pageNumber:I,pageContext:Xt[I]}},ln=g.__private__.getPageInfoByObjId=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ae in Xt)if(Xt[ae].objId===I)break;return _s(ae)},po=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:Xt[z].objId,pageNumber:z,pageContext:Xt[z]}};g.addPage=function(){return eu.apply(this,arguments),this},g.setPage=function(){return Zs.apply(this,arguments),Oe.call(this,ve[z]),this},g.insertPage=function(I){return this.addPage(),this.movePage(z,I),this},g.movePage=function(I,ae){var Ae,Ie;if(I>ae){Ae=ve[I],Ie=Xt[I];for(var Ve=I;Ve>ae;Ve--)ve[Ve]=ve[Ve-1],Xt[Ve]=Xt[Ve-1];ve[ae]=Ae,Xt[ae]=Ie,this.setPage(ae)}else if(I<ae){Ae=ve[I],Ie=Xt[I];for(var ot=I;ot<ae;ot++)ve[ot]=ve[ot+1],Xt[ot]=Xt[ot+1];ve[ae]=Ae,Xt[ae]=Ie,this.setPage(ae)}return this},g.deletePage=function(){return Mo.apply(this,arguments),this},g.__private__.text=g.text=function(I,ae,Ae,Ie,Ve){var ot,St,Mt,Qt,Nn,wn,Wn,li,gi,Ri=(Ie=Ie||{}).scope||this;if(typeof I=="number"&&typeof ae=="number"&&(typeof Ae=="string"||Array.isArray(Ae))){var Pi=Ae;Ae=ae,ae=I,I=Pi}if(arguments[3]instanceof zt?(F("The transform parameter of text() with a Matrix value"),gi=Ve):(Mt=arguments[4],Qt=arguments[5],ai(Wn=arguments[3])==="object"&&Wn!==null||(typeof Mt=="string"&&(Qt=Mt,Mt=null),typeof Wn=="string"&&(Qt=Wn,Wn=null),typeof Wn=="number"&&(Mt=Wn,Wn=null),Ie={flags:Wn,angle:Mt,align:Qt})),isNaN(ae)||isNaN(Ae)||I==null)throw new Error("Invalid arguments passed to jsPDF.text");if(I.length===0)return Ri;var Oa="",Fo=!1,ro=typeof Ie.lineHeightFactor=="number"?Ie.lineHeightFactor:Ne,zo=Ri.internal.scaleFactor;function Dh(qn){return qn=qn.split("	").join(Array(Ie.TabLen||9).join(" ")),yr(qn,Wn)}function tu(qn){for(var Bn,Vr=qn.concat(),Fi=[],bo=Vr.length;bo--;)typeof(Bn=Vr.shift())=="string"?Fi.push(Bn):Array.isArray(qn)&&(Bn.length===1||Bn[1]===void 0&&Bn[2]===void 0)?Fi.push(Bn[0]):Fi.push([Bn[0],Bn[1],Bn[2]]);return Fi}function nu(qn,Bn){var Vr;if(typeof qn=="string")Vr=Bn(qn)[0];else if(Array.isArray(qn)){for(var Fi,bo,sc=qn.concat(),oc=[],au=sc.length;au--;)typeof(Fi=sc.shift())=="string"?oc.push(Bn(Fi)[0]):Array.isArray(Fi)&&typeof Fi[0]=="string"&&(bo=Bn(Fi[0],Fi[1],Fi[2]),oc.push([bo[0],bo[1],bo[2]]));Vr=oc}return Vr}var df=!1,Xu=!0;if(typeof I=="string")df=!0;else if(Array.isArray(I)){var ff=I.concat();St=[];for(var fd,ma=ff.length;ma--;)(typeof(fd=ff.shift())!="string"||Array.isArray(fd)&&typeof fd[0]!="string")&&(Xu=!1);df=Xu}if(df===!1)throw new Error('Type of text must be string or Array. "'+I+'" is not recognized.');typeof I=="string"&&(I=I.match(/[\r?\n]/)?I.split(/\r\n|\r|\n/g):[I]);var Zu=Ze/Ri.internal.scaleFactor,hd=Zu*(ro-1);switch(Ie.baseline){case"bottom":Ae-=hd;break;case"top":Ae+=Zu-hd;break;case"hanging":Ae+=Zu-2*hd;break;case"middle":Ae+=Zu/2-hd}if((wn=Ie.maxWidth||0)>0&&(typeof I=="string"?I=Ri.splitTextToSize(I,wn):Object.prototype.toString.call(I)==="[object Array]"&&(I=I.reduce(function(qn,Bn){return qn.concat(Ri.splitTextToSize(Bn,wn))},[]))),ot={text:I,x:ae,y:Ae,options:Ie,mutex:{pdfEscape:yr,activeFontKey:Ke,fonts:jt,activeFontSize:Ze}},_n.publish("preProcessText",ot),I=ot.text,Mt=(Ie=ot.options).angle,!(gi instanceof zt)&&Mt&&typeof Mt=="number"){Mt*=Math.PI/180,Ie.rotationDirection===0&&(Mt=-Mt),N===A.ADVANCED&&(Mt=-Mt);var pd=Math.cos(Mt),hf=Math.sin(Mt);gi=new zt(pd,hf,-hf,pd,0,0)}else Mt&&Mt instanceof zt&&(gi=Mt);N!==A.ADVANCED||gi||(gi=dr),(Nn=Ie.charSpace||Os)!==void 0&&(Oa+=j(D(Nn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(li=Ie.horizontalScale)!==void 0&&(Oa+=j(100*li)+` Tz
`),Ie.lang;var Ms=-1,Ym=Ie.renderingMode!==void 0?Ie.renderingMode:Ie.stroke,_h=Ri.internal.getCurrentPageInfo().pageContext;switch(Ym){case 0:case!1:case"fill":Ms=0;break;case 1:case!0:case"stroke":Ms=1;break;case 2:case"fillThenStroke":Ms=2;break;case 3:case"invisible":Ms=3;break;case 4:case"fillAndAddForClipping":Ms=4;break;case 5:case"strokeAndAddPathForClipping":Ms=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ms=6;break;case 7:case"addToPathForClipping":Ms=7}var Up=_h.usedRenderingMode!==void 0?_h.usedRenderingMode:-1;Ms!==-1?Oa+=Ms+` Tr
`:Up!==-1&&(Oa+=`0 Tr
`),Ms!==-1&&(_h.usedRenderingMode=Ms),Qt=Ie.align||"left";var go,Ma=Ze*ro,Ju=Ri.internal.pageSize.getWidth(),Ih=jt[Ke];Nn=Ie.charSpace||Os,wn=Ie.maxWidth||0,Wn=Object.assign({autoencode:!0,noBOM:!0},Ie.flags);var ru=[],ec=function(qn){return Ri.getStringUnitWidth(qn,{font:Ih,charSpace:Nn,fontSize:Ze,doKerning:!1})*Ze/zo};if(Object.prototype.toString.call(I)==="[object Array]"){var gs;St=tu(I),Qt!=="left"&&(go=St.map(ec));var Wa,tc=0;if(Qt==="right"){ae-=go[0],I=[],ma=St.length;for(var Ls=0;Ls<ma;Ls++)Ls===0?(Wa=An(ae),gs=Mr(Ae)):(Wa=D(tc-go[Ls]),gs=-Ma),I.push([St[Ls],Wa,gs]),tc=go[Ls]}else if(Qt==="center"){ae-=go[0]/2,I=[],ma=St.length;for(var qo=0;qo<ma;qo++)qo===0?(Wa=An(ae),gs=Mr(Ae)):(Wa=D((tc-go[qo])/2),gs=-Ma),I.push([St[qo],Wa,gs]),tc=go[qo]}else if(Qt==="left"){I=[],ma=St.length;for(var xl=0;xl<ma;xl++)I.push(St[xl])}else if(Qt==="justify"&&Ih.encoding==="Identity-H"){I=[],ma=St.length,wn=wn!==0?wn:Ju;for(var Bo=0,Si=0;Si<ma;Si++)if(gs=Si===0?Mr(Ae):-Ma,Wa=Si===0?An(ae):Bo,Si<ma-1){var $o=D((wn-go[Si])/(St[Si].split(" ").length-1)),Ji=St[Si].split(" ");I.push([Ji[0]+" ",Wa,gs]),Bo=0;for(var Rs=1;Rs<Ji.length;Rs++){var md=(ec(Ji[Rs-1]+" "+Ji[Rs])-ec(Ji[Rs]))*zo+$o;Rs==Ji.length-1?I.push([Ji[Rs],md,0]):I.push([Ji[Rs]+" ",md,0]),Bo-=md}}else I.push([St[Si],Wa,gs]);I.push(["",Bo,0])}else{if(Qt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(I=[],ma=St.length,wn=wn!==0?wn:Ju,Si=0;Si<ma;Si++)gs=Si===0?Mr(Ae):-Ma,Wa=Si===0?An(ae):0,Si<ma-1?ru.push(j(D((wn-go[Si])/(St[Si].split(" ").length-1)))):ru.push(0),I.push([St[Si],Wa,gs])}}var vl=typeof Ie.R2L=="boolean"?Ie.R2L:Et;vl===!0&&(I=nu(I,function(qn,Bn,Vr){return[qn.split("").reverse().join(""),Bn,Vr]})),ot={text:I,x:ae,y:Ae,options:Ie,mutex:{pdfEscape:yr,activeFontKey:Ke,fonts:jt,activeFontSize:Ze}},_n.publish("postProcessText",ot),I=ot.text,Fo=ot.mutex.isHex||!1;var pf=jt[Ke].encoding;pf!=="WinAnsiEncoding"&&pf!=="StandardEncoding"||(I=nu(I,function(qn,Bn,Vr){return[Dh(qn),Bn,Vr]})),St=tu(I),I=[];for(var nc,rc,ic,gd=0,mf=1,ac=Array.isArray(St[0])?mf:gd,iu="",bd=function(qn,Bn,Vr){var Fi="";return Vr instanceof zt?(Vr=typeof Ie.angle=="number"?Zn(Vr,new zt(1,0,0,1,qn,Bn)):Zn(new zt(1,0,0,1,qn,Bn),Vr),N===A.ADVANCED&&(Vr=Zn(new zt(1,0,0,-1,0,0),Vr)),Fi=Vr.join(" ")+` Tm
`):Fi=j(qn)+" "+j(Bn)+` Td
`,Fi},Ci=0;Ci<St.length;Ci++){switch(iu="",ac){case mf:ic=(Fo?"<":"(")+St[Ci][0]+(Fo?">":")"),nc=parseFloat(St[Ci][1]),rc=parseFloat(St[Ci][2]);break;case gd:ic=(Fo?"<":"(")+St[Ci]+(Fo?">":")"),nc=An(ae),rc=Mr(Ae)}ru!==void 0&&ru[Ci]!==void 0&&(iu=ru[Ci]+` Tw
`),Ci===0?I.push(iu+bd(nc,rc,gi)+ic):ac===gd?I.push(iu+ic):ac===mf&&I.push(iu+bd(nc,rc,gi)+ic)}I=ac===gd?I.join(` Tj
T* `):I.join(` Tj
`),I+=` Tj
`;var io=`BT
/`;return io+=Ke+" "+Ze+` Tf
`,io+=j(Ze*ro)+` TL
`,io+=ns+`
`,io+=Oa,io+=I,pe(io+="ET"),b[Ke]=!0,Ri};var gl=g.__private__.clip=g.clip=function(I){return pe(I==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return gl("evenodd")},g.__private__.discardPath=g.discardPath=function(){return pe("n"),this};var Li=g.__private__.isValidStyle=function(I){var ae=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(I)!==-1&&(ae=!0),ae};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(I){return Li(I)&&(f=I),this};var Ja=g.__private__.getStyle=g.getStyle=function(I){var ae=f;switch(I){case"D":case"S":ae="S";break;case"F":ae="f";break;case"FD":case"DF":ae="B";break;case"f":case"f*":case"B":case"B*":ae=I}return ae},Lo=g.close=function(){return pe("h"),this};g.stroke=function(){return pe("S"),this},g.fill=function(I){return es("f",I),this},g.fillEvenOdd=function(I){return es("f*",I),this},g.fillStroke=function(I){return es("B",I),this},g.fillStrokeEvenOdd=function(I){return es("B*",I),this};var es=function(I,ae){ai(ae)==="object"?Ro(ae,I):pe(I)},Va=function(I){I===null||N===A.ADVANCED&&I===void 0||(I=Ja(I),pe(I))};function ts(I,ae,Ae,Ie,Ve){var ot=new V0(ae||this.boundingBox,Ae||this.xStep,Ie||this.yStep,this.gState,Ve||this.matrix);ot.stream=this.stream;var St=I+"$$"+this.cloneIndex+++"$$";return $r(St,ot),ot}var Ro=function(I,ae){var Ae=un[I.key],Ie=Ht[Ae];if(Ie instanceof op)pe("q"),pe(bl(ae)),Ie.gState&&g.setGState(Ie.gState),pe(I.matrix.toString()+" cm"),pe("/"+Ae+" sh"),pe("Q");else if(Ie instanceof V0){var Ve=new zt(1,0,0,-1,0,Ku());I.matrix&&(Ve=Ve.multiply(I.matrix||dr),Ae=ts.call(Ie,I.key,I.boundingBox,I.xStep,I.yStep,Ve).id),pe("q"),pe("/Pattern cs"),pe("/"+Ae+" scn"),Ie.gState&&g.setGState(Ie.gState),pe(ae),pe("Q")}},bl=function(I){switch(I){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},mo=g.moveTo=function(I,ae){return pe(j(D(I))+" "+j(L(ae))+" m"),this},Is=g.lineTo=function(I,ae){return pe(j(D(I))+" "+j(L(ae))+" l"),this},W=g.curveTo=function(I,ae,Ae,Ie,Ve,ot){return pe([j(D(I)),j(L(ae)),j(D(Ae)),j(L(Ie)),j(D(Ve)),j(L(ot)),"c"].join(" ")),this};g.__private__.line=g.line=function(I,ae,Ae,Ie,Ve){if(isNaN(I)||isNaN(ae)||isNaN(Ae)||isNaN(Ie)||!Li(Ve))throw new Error("Invalid arguments passed to jsPDF.line");return N===A.COMPAT?this.lines([[Ae-I,Ie-ae]],I,ae,[1,1],Ve||"S"):this.lines([[Ae-I,Ie-ae]],I,ae,[1,1]).stroke()},g.__private__.lines=g.lines=function(I,ae,Ae,Ie,Ve,ot){var St,Mt,Qt,Nn,wn,Wn,li,gi,Ri,Pi,Oa,Fo;if(typeof I=="number"&&(Fo=Ae,Ae=ae,ae=I,I=Fo),Ie=Ie||[1,1],ot=ot||!1,isNaN(ae)||isNaN(Ae)||!Array.isArray(I)||!Array.isArray(Ie)||!Li(Ve)||typeof ot!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(mo(ae,Ae),St=Ie[0],Mt=Ie[1],Nn=I.length,Pi=ae,Oa=Ae,Qt=0;Qt<Nn;Qt++)(wn=I[Qt]).length===2?(Pi=wn[0]*St+Pi,Oa=wn[1]*Mt+Oa,Is(Pi,Oa)):(Wn=wn[0]*St+Pi,li=wn[1]*Mt+Oa,gi=wn[2]*St+Pi,Ri=wn[3]*Mt+Oa,Pi=wn[4]*St+Pi,Oa=wn[5]*Mt+Oa,W(Wn,li,gi,Ri,Pi,Oa));return ot&&Lo(),Va(Ve),this},g.path=function(I){for(var ae=0;ae<I.length;ae++){var Ae=I[ae],Ie=Ae.c;switch(Ae.op){case"m":mo(Ie[0],Ie[1]);break;case"l":Is(Ie[0],Ie[1]);break;case"c":W.apply(this,Ie);break;case"h":Lo()}}return this},g.__private__.rect=g.rect=function(I,ae,Ae,Ie,Ve){if(isNaN(I)||isNaN(ae)||isNaN(Ae)||isNaN(Ie)||!Li(Ve))throw new Error("Invalid arguments passed to jsPDF.rect");return N===A.COMPAT&&(Ie=-Ie),pe([j(D(I)),j(L(ae)),j(D(Ae)),j(D(Ie)),"re"].join(" ")),Va(Ve),this},g.__private__.triangle=g.triangle=function(I,ae,Ae,Ie,Ve,ot,St){if(isNaN(I)||isNaN(ae)||isNaN(Ae)||isNaN(Ie)||isNaN(Ve)||isNaN(ot)||!Li(St))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ae-I,Ie-ae],[Ve-Ae,ot-Ie],[I-Ve,ae-ot]],I,ae,[1,1],St,!0),this},g.__private__.roundedRect=g.roundedRect=function(I,ae,Ae,Ie,Ve,ot,St){if(isNaN(I)||isNaN(ae)||isNaN(Ae)||isNaN(Ie)||isNaN(Ve)||isNaN(ot)||!Li(St))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Mt=4/3*(Math.SQRT2-1);return Ve=Math.min(Ve,.5*Ae),ot=Math.min(ot,.5*Ie),this.lines([[Ae-2*Ve,0],[Ve*Mt,0,Ve,ot-ot*Mt,Ve,ot],[0,Ie-2*ot],[0,ot*Mt,-Ve*Mt,ot,-Ve,ot],[2*Ve-Ae,0],[-Ve*Mt,0,-Ve,-ot*Mt,-Ve,-ot],[0,2*ot-Ie],[0,-ot*Mt,Ve*Mt,-ot,Ve,-ot]],I+Ve,ae,[1,1],St,!0),this},g.__private__.ellipse=g.ellipse=function(I,ae,Ae,Ie,Ve){if(isNaN(I)||isNaN(ae)||isNaN(Ae)||isNaN(Ie)||!Li(Ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ot=4/3*(Math.SQRT2-1)*Ae,St=4/3*(Math.SQRT2-1)*Ie;return mo(I+Ae,ae),W(I+Ae,ae-St,I+ot,ae-Ie,I,ae-Ie),W(I-ot,ae-Ie,I-Ae,ae-St,I-Ae,ae),W(I-Ae,ae+St,I-ot,ae+Ie,I,ae+Ie),W(I+ot,ae+Ie,I+Ae,ae+St,I+Ae,ae),Va(Ve),this},g.__private__.circle=g.circle=function(I,ae,Ae,Ie){if(isNaN(I)||isNaN(ae)||isNaN(Ae)||!Li(Ie))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(I,ae,Ae,Ae,Ie)},g.setFont=function(I,ae,Ae){return Ae&&(ae=B(ae,Ae)),Ke=Js(I,ae,{disableWarning:!1}),this};var he=g.__private__.getFont=g.getFont=function(){return jt[Js.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var I,ae,Ae={};for(I in nn)if(nn.hasOwnProperty(I))for(ae in Ae[I]=[],nn[I])nn[I].hasOwnProperty(ae)&&Ae[I].push(ae);return Ae},g.addFont=function(I,ae,Ae,Ie,Ve){var ot=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ot.indexOf(arguments[3])!==-1?Ve=arguments[3]:arguments[3]&&ot.indexOf(arguments[3])==-1&&(Ae=B(Ae,Ie)),Ve=Ve||"Identity-H",Xa.call(this,I,ae,Ae,Ve)};var Ne,at=e.lineWidth||.200025,sn=g.__private__.getLineWidth=g.getLineWidth=function(){return at},Gt=g.__private__.setLineWidth=g.setLineWidth=function(I){return at=I,pe(j(D(I))+" w"),this};g.__private__.setLineDash=pn.API.setLineDash=pn.API.setLineDashPattern=function(I,ae){if(I=I||[],ae=ae||0,isNaN(ae)||!Array.isArray(I))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return I=I.map(function(Ae){return j(D(Ae))}).join(" "),ae=j(D(ae)),pe("["+I+"] "+ae+" d"),this};var Pn=g.__private__.getLineHeight=g.getLineHeight=function(){return Ze*Ne};g.__private__.getLineHeight=g.getLineHeight=function(){return Ze*Ne};var In=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(I){return typeof(I=I||1.15)=="number"&&(Ne=I),this},xr=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Ne};In(e.lineHeight);var An=g.__private__.getHorizontalCoordinate=function(I){return D(I)},Mr=g.__private__.getVerticalCoordinate=function(I){return N===A.ADVANCED?I:Xt[z].mediaBox.topRightY-Xt[z].mediaBox.bottomLeftY-D(I)},Ia=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(I){return j(An(I))},jr=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(I){return j(Mr(I))},Tr=e.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return Ki(Tr)},g.__private__.setStrokeColor=g.setDrawColor=function(I,ae,Ae,Ie){return Tr=Xi({ch1:I,ch2:ae,ch3:Ae,ch4:Ie,pdfColorType:"draw",precision:2}),pe(Tr),this};var Jr=e.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return Ki(Jr)},g.__private__.setFillColor=g.setFillColor=function(I,ae,Ae,Ie){return Jr=Xi({ch1:I,ch2:ae,ch3:Ae,ch4:Ie,pdfColorType:"fill",precision:2}),pe(Jr),this};var ns=e.textColor||"0 g",no=g.__private__.getTextColor=g.getTextColor=function(){return Ki(ns)};g.__private__.setTextColor=g.setTextColor=function(I,ae,Ae,Ie){return ns=Xi({ch1:I,ch2:ae,ch3:Ae,ch4:Ie,pdfColorType:"text",precision:3}),this};var Os=e.charSpace,sf=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Os||0)};g.__private__.setCharSpace=g.setCharSpace=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Os=I,this};var yl=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(I){var ae=g.CapJoinStyles[I];if(ae===void 0)throw new Error("Line cap style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return yl=ae,pe(ae+" J"),this};var Po=0;g.__private__.setLineJoin=g.setLineJoin=function(I){var ae=g.CapJoinStyles[I];if(ae===void 0)throw new Error("Line join style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Po=ae,pe(ae+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(I){if(I=I||0,isNaN(I))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return pe(j(D(I))+" M"),this},g.GState=kv,g.setGState=function(I){(I=typeof I=="string"?vn[Er[I]]:$p(null,I)).equals(Hn)||(pe("/"+I.id+" gs"),Hn=I)};var $p=function(I,ae){if(!I||!Er[I]){var Ae=!1;for(var Ie in vn)if(vn.hasOwnProperty(Ie)&&vn[Ie].equals(ae)){Ae=!0;break}if(Ae)ae=vn[Ie];else{var Ve="GS"+(Object.keys(vn).length+1).toString(10);vn[Ve]=ae,ae.id=Ve}return I&&(Er[I]=ae.id),_n.publish("addGState",ae),ae}};g.addGState=function(I,ae){return $p(I,ae),this},g.saveGraphicsState=function(){return pe("q"),Tt.push({key:Ke,size:Ze,color:ns}),this},g.restoreGraphicsState=function(){pe("Q");var I=Tt.pop();return Ke=I.key,Ze=I.size,ns=I.color,Hn=null,this},g.setCurrentTransformationMatrix=function(I){return pe(I.toString()+" cm"),this},g.comment=function(I){return pe("#"+I),this};var of=function(I,ae){var Ae=I||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ae},set:function(ot){isNaN(ot)||(Ae=parseFloat(ot))}});var Ie=ae||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ie},set:function(ot){isNaN(ot)||(Ie=parseFloat(ot))}});var Ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ve},set:function(ot){Ve=ot.toString()}}),this},jh=function(I,ae,Ae,Ie){of.call(this,I,ae),this.type="rect";var Ve=Ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ve},set:function(St){isNaN(St)||(Ve=parseFloat(St))}});var ot=Ie||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ot},set:function(St){isNaN(St)||(ot=parseFloat(St))}}),this},Th=function(){this.page=Xn,this.currentPage=z,this.pages=ve.slice(0),this.pagesContext=Xt.slice(0),this.x=Nt,this.y=It,this.matrix=Ft,this.width=dd(z),this.height=Ku(z),this.outputDestination=Ee,this.id="",this.objectNumber=-1};Th.prototype.restore=function(){Xn=this.page,z=this.currentPage,Xt=this.pagesContext,ve=this.pages,Nt=this.x,It=this.y,Ft=this.matrix,cf(z,this.width),Nh(z,this.height),Ee=this.outputDestination};var lf=function(I,ae,Ae,Ie,Ve){Oi.push(new Th),Xn=z=0,ve=[],Nt=I,It=ae,Ft=Ve,Oo([Ae,Ie])},Wm=function(I){if(Vn[I])Oi.pop().restore();else{var ae=new Th,Ae="Xo"+(Object.keys(cn).length+1).toString(10);ae.id=Ae,Vn[I]=Ae,cn[Ae]=ae,_n.publish("addFormObject",ae),Oi.pop().restore()}};for(var uf in g.beginFormObject=function(I,ae,Ae,Ie,Ve){return lf(I,ae,Ae,Ie,Ve),this},g.endFormObject=function(I){return Wm(I),this},g.doFormObject=function(I,ae){var Ae=cn[Vn[I]];return pe("q"),pe(ae.toString()+" cm"),pe("/"+Ae.id+" Do"),pe("Q"),this},g.getFormObject=function(I){var ae=cn[Vn[I]];return{x:ae.x,y:ae.y,width:ae.width,height:ae.height,matrix:ae.matrix}},g.save=function(I,ae){return I=I||"generated.pdf",(ae=ae||{}).returnPromise=ae.returnPromise||!1,ae.returnPromise===!1?(sp(pl(eo()),I),typeof sp.unload=="function"&&yn.setTimeout&&setTimeout(sp.unload,911),this):new Promise(function(Ae,Ie){try{var Ve=sp(pl(eo()),I);typeof sp.unload=="function"&&yn.setTimeout&&setTimeout(sp.unload,911),Ae(Ve)}catch(ot){Ie(ot.message)}})},pn.API)pn.API.hasOwnProperty(uf)&&(uf==="events"&&pn.API.events.length?function(I,ae){var Ae,Ie,Ve;for(Ve=ae.length-1;Ve!==-1;Ve--)Ae=ae[Ve][0],Ie=ae[Ve][1],I.subscribe.apply(I,[Ae].concat(typeof Ie=="function"?[Ie]:Ie))}(_n,pn.API.events):g[uf]=pn.API[uf]);var dd=g.getPageWidth=function(I){return(Xt[I=I||z].mediaBox.topRightX-Xt[I].mediaBox.bottomLeftX)/He},cf=g.setPageWidth=function(I,ae){Xt[I].mediaBox.topRightX=ae*He+Xt[I].mediaBox.bottomLeftX},Ku=g.getPageHeight=function(I){return(Xt[I=I||z].mediaBox.topRightY-Xt[I].mediaBox.bottomLeftY)/He},Nh=g.setPageHeight=function(I,ae){Xt[I].mediaBox.topRightY=ae*He+Xt[I].mediaBox.bottomLeftY};return g.internal={pdfEscape:yr,getStyle:Ja,getFont:he,getFontSize:wt,getCharSpace:sf,getTextColor:no,getLineHeight:Pn,getLineHeightFactor:xr,getLineWidth:sn,write:tt,getHorizontalCoordinate:An,getVerticalCoordinate:Mr,getCoordinateString:Ia,getVerticalCoordinateString:jr,collections:{},newObject:gr,newAdditionalObject:js,newObjectDeferred:br,newObjectDeferredBegin:Qn,getFilters:ar,putStream:Mi,events:_n,scaleFactor:He,pageSize:{getWidth:function(){return dd(z)},setWidth:function(I){cf(z,I)},getHeight:function(){return Ku(z)},setHeight:function(I){Nh(z,I)}},encryptionOptions:h,encryption:mi,getEncryptor:oi,output:to,getNumberOfPages:Gu,pages:ve,out:pe,f2:X,f3:T,getPageInfo:_s,getPageInfoByObjId:ln,getCurrentPageInfo:po,getPDFVersion:x,Point:of,Rectangle:jh,Matrix:zt,hasHotfix:ml},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return dd(z)},set:function(I){cf(z,I)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Ku(z)},set:function(I){Nh(z,I)},enumerable:!0,configurable:!0}),Jl.call(g,lt),Ke="F1",eu(i,t),_n.publish("initialized"),g}$0.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},$0.prototype.toHexString=function(e){return e.split("").map(function(n){return("0"+(255&n.charCodeAt(0)).toString(16)).slice(-2)}).join("")},$0.prototype.hexToBytes=function(e){for(var n=[],t=0;t<e.length;t+=2)n.push(String.fromCharCode(parseInt(e.substr(t,2),16)));return n.join("")},$0.prototype.processOwnerPassword=function(e,n){return k6(A6(n).substr(0,5),e)},$0.prototype.encryptor=function(e,n){var t=A6(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&n,n>>8&255)).substr(0,10);return function(r){return k6(t,r)}},kv.prototype.equals=function(e){var n,t="id,objectNumber,equals";if(!e||ai(e)!==ai(this))return!1;var r=0;for(n in this)if(!(t.indexOf(n)>=0)){if(this.hasOwnProperty(n)&&!e.hasOwnProperty(n)||this[n]!==e[n])return!1;r++}for(n in e)e.hasOwnProperty(n)&&t.indexOf(n)<0&&r--;return r===0},pn.API={events:[]},pn.version="3.0.1";var oa=pn.API,uA=1,zp=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},v0=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Dn=function(e){return e.toFixed(2)},Uf=function(e){return e.toFixed(5)};oa.__acroform__={};var _o=function(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e},Rj=function(e){return e*uA},wc=function(e){var n=new mO,t=Yt.internal.getHeight(e)||0,r=Yt.internal.getWidth(e)||0;return n.BBox=[0,0,Number(Dn(r)),Number(Dn(t))],n},BX=oa.__acroform__.setBit=function(e,n){if(e=e||0,n=n||0,isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<n},$X=oa.__acroform__.clearBit=function(e,n){if(e=e||0,n=n||0,isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<n)},UX=oa.__acroform__.getBit=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(e&1<<n)==0?0:1},wa=oa.__acroform__.getBitForPdf=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return UX(e,n-1)},Sa=oa.__acroform__.setBitForPdf=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return BX(e,n-1)},Ca=oa.__acroform__.clearBitForPdf=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return $X(e,n-1)},HX=oa.__acroform__.calculateCoordinates=function(e,n){var t=n.internal.getHorizontalCoordinate,r=n.internal.getVerticalCoordinate,i=e[0],a=e[1],s=e[2],l=e[3],u={};return u.lowerLeft_X=t(i)||0,u.lowerLeft_Y=r(a+l)||0,u.upperRight_X=t(i+s)||0,u.upperRight_Y=r(a)||0,[Number(Dn(u.lowerLeft_X)),Number(Dn(u.lowerLeft_Y)),Number(Dn(u.upperRight_X)),Number(Dn(u.upperRight_Y))]},VX=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var n=[],t=e._V||e.DV,r=E6(e,t),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;n.push("/Tx BMC"),n.push("q"),n.push("BT"),n.push(e.scope.__private__.encodeColorString(e.color)),n.push("/"+i+" "+Dn(r.fontSize)+" Tf"),n.push("1 0 0 1 0 0 Tm"),n.push(r.text),n.push("ET"),n.push("Q"),n.push("EMC");var a=wc(e);return a.scope=e.scope,a.stream=n.join(`
`),a}},E6=function(e,n){var t=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(n=(n=n.substr(0,1)=="("?n.substr(1):n).substr(n.length-1)==")"?n.substr(0,n.length-1):n).split(" ");i=e.multiline?i.map(function(T){return T.split(`
`)}):i.map(function(T){return[T]});var a=t,s=Yt.internal.getHeight(e)||0;s=s<0?-s:s;var l=Yt.internal.getWidth(e)||0;l=l<0?-l:l;var u=function(T,D,O){if(T+1<i.length){var L=D+" "+i[T+1][0];return gx(L,e,O).width<=l-4}return!1};a++;e:for(;a>0;){n="",a--;var f,h,m=gx("3",e,a).height,b=e.multiline?s-a:(s-m)/2,g=b+=2,v=0,x=0,C=0;if(a<=0){n=`(...) Tj
`,n+="% Width of Text: "+gx(n,e,a=12).width+", FieldWidth:"+l+`
`;break}for(var S="",A=0,N=0;N<i.length;N++)if(i.hasOwnProperty(N)){var P=!1;if(i[N].length!==1&&C!==i[N].length-1){if((m+2)*(A+2)+2>s)continue e;S+=i[N][C],P=!0,x=N,N--}else{S=(S+=i[N][C]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var U=parseInt(N),B=u(U,S,a),j=N>=i.length-1;if(B&&!j){S+=" ",C=0;continue}if(B||j){if(j)x=U;else if(e.multiline&&(m+2)*(A+2)+2>s)continue e}else{if(!e.multiline||(m+2)*(A+2)+2>s)continue e;x=U}}for(var F="",V=v;V<=x;V++){var X=i[V];if(e.multiline){if(V===x){F+=X[C]+" ",C=(C+1)%X.length;continue}if(V===v){F+=X[X.length-1]+" ";continue}}F+=X[0]+" "}switch(F=F.substr(F.length-1)==" "?F.substr(0,F.length-1):F,h=gx(F,e,a).width,e.textAlign){case"right":f=l-h-2;break;case"center":f=(l-h)/2;break;case"left":default:f=2}n+=Dn(f)+" "+Dn(g)+` Td
`,n+="("+zp(F)+`) Tj
`,n+=-Dn(f)+` 0 Td
`,g=-(a+2),h=0,v=P?x:x+1,A++,S=""}break}return r.text=n,r.fontSize=a,r},gx=function(e,n,t){var r=n.scope.internal.getFont(n.fontName,n.fontStyle),i=n.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:n.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},WX={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},YX=function(e,n){var t={type:"reference",object:e};n.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&n.internal.getPageInfo(e.page).pageContext.annotations.push(t)},GX=function(e,n){for(var t in e)if(e.hasOwnProperty(t)){var r=t,i=e[t];n.internal.newObjectDeferredBegin(i.objId,!0),ai(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[r]}},QX=function(e,n){if(n.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Hu.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(WX)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");uA=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new gO,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&YX(a,t)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(t){(function(r,i){var a=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var l=r[s],u=[],f=l.Rect;if(l.Rect&&(l.Rect=HX(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Yt.createDefaultAppearanceStream(l),ai(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(u=l.getKeyValueListForStream()),l.Rect=f,l.hasAppearanceStream&&!l.appearanceStreamContent){var h=VX(l);u.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(l.appearanceStreamContent){var m="";for(var b in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(b)){var g=l.appearanceStreamContent[b];if(m+="/"+b+" ",m+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var s in g)if(g.hasOwnProperty(s)){var v=g[s];typeof v=="function"&&(v=v.call(i,l)),m+="/"+s+" "+v+" ",i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v)}}else typeof(v=g)=="function"&&(v=v.call(i,l)),m+="/"+s+" "+v,i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v);m+=">>"}u.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:l.objId}),i.internal.out("endobj")}a&&GX(i.internal.acroformPlugin.xForms,i)})(t,e)}),e.internal.acroformPlugin.isInitialized=!0}},pO=oa.__acroform__.arrayToPdfArray=function(e,n,t){var r=function(s){return s};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),ai(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(n!==void 0&&t&&(r=t.internal.getEncryptor(n)),i+="("+zp(r(e[a].toString()))+")"):i+=e[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},J5=function(e,n,t){var r=function(i){return i};return n!==void 0&&t&&(r=t.internal.getEncryptor(n)),(e=e||"").toString(),e="("+zp(r(e))+")"},Fc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Fc.prototype.toString=function(){return this.objId+" 0 R"},Fc.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Fc.prototype.getKeyValueListForStream=function(){var e=[],n=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var t in n)if(Object.getOwnPropertyDescriptor(this,n[t]).configurable===!1){var r=n[t],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:pO(i,this.objId,this.scope)}):i instanceof Fc?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var mO=function(){Fc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,n=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};_o(mO,Fc);var gO=function(){Fc.call(this);var e,n=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return n.length>0?n:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return n}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+zp(t(e))+")"}},set:function(t){e=t}})};_o(gO,Fc);var Hu=function e(){Fc.call(this);var n=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return n},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');n=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!wa(n,3)},set:function(S){S?this.F=Sa(n,3):this.F=Ca(n,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');t=S}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(S){r=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(S){r[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(S){r[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(S){r[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(S){r[3]=S}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Ev)return;a="FieldObject"+e.FieldNum++}var S=function(A){return A};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+zp(S(a))+")"},set:function(S){a=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(S){a=S}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(S){s=S}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(S){l=S}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(S){u=S}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/uA:f},set:function(S){f=S}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(S){h=S}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof Ev||this instanceof xp))return J5(m,this.objId,this.scope)},set:function(S){S=S.toString(),m=S}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof us?b:J5(b,this.objId,this.scope)},set:function(S){S=S.toString(),b=this instanceof us?S:S.substr(0,1)==="("?v0(S.substr(1,S.length-2)):v0(S)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof us?v0(b.substr(1,b.length-1)):b},set:function(S){S=S.toString(),b=this instanceof us?"/"+S:S}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof us?g:J5(g,this.objId,this.scope)},set:function(S){S=S.toString(),g=this instanceof us?S:S.substr(0,1)==="("?v0(S.substr(1,S.length-2)):v0(S)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof us?v0(g.substr(1,g.length-1)):g},set:function(S){S=S.toString(),g=this instanceof us?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(S){S=!!S,x=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(S){v=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,1)},set:function(S){S?this.Ff=Sa(this.Ff,1):this.Ff=Ca(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,2)},set:function(S){S?this.Ff=Sa(this.Ff,2):this.Ff=Ca(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,3)},set:function(S){S?this.Ff=Sa(this.Ff,3):this.Ff=Ca(this.Ff,3)}});var C=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(C!==null)return C},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');C=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(C){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:C=2;break;case"center":case 1:C=1;break;case"left":case 0:default:C=0}}})};_o(Hu,Fc);var em=function(){Hu.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var n=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return pO(n,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=function(a,s,l){l||(l=1);for(var u,f=[];u=s.exec(a);)f.push(u[l]);return f}(r,/\((.*?)\)/g)),n=i}}),this.getOptions=function(){return n},this.setOptions=function(t){n=t,this.sort&&n.sort()},this.addOption=function(t){t=(t=t||"").toString(),n.push(t),this.sort&&n.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();n.indexOf(t)!==-1&&(n.splice(n.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,18)},set:function(t){t?this.Ff=Sa(this.Ff,18):this.Ff=Ca(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Sa(this.Ff,19):this.Ff=Ca(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,20)},set:function(t){t?(this.Ff=Sa(this.Ff,20),n.sort()):this.Ff=Ca(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,22)},set:function(t){t?this.Ff=Sa(this.Ff,22):this.Ff=Ca(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,23)},set:function(t){t?this.Ff=Sa(this.Ff,23):this.Ff=Ca(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,27)},set:function(t){t?this.Ff=Sa(this.Ff,27):this.Ff=Ca(this.Ff,27)}}),this.hasAppearanceStream=!1};_o(em,Hu);var tm=function(){em.call(this),this.fontName="helvetica",this.combo=!1};_o(tm,em);var nm=function(){tm.call(this),this.combo=!0};_o(nm,tm);var zx=function(){nm.call(this),this.edit=!0};_o(zx,nm);var us=function(){Hu.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,15)},set:function(t){t?this.Ff=Sa(this.Ff,15):this.Ff=Ca(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,16)},set:function(t){t?this.Ff=Sa(this.Ff,16):this.Ff=Ca(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,17)},set:function(t){t?this.Ff=Sa(this.Ff,17):this.Ff=Ca(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,26)},set:function(t){t?this.Ff=Sa(this.Ff,26):this.Ff=Ca(this.Ff,26)}});var e,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(a){return a};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(n).length!==0){var r,i=[];for(r in i.push("<<"),n)i.push("/"+r+" ("+zp(t(n[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){ai(t)==="object"&&(n=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(t){typeof t=="string"&&(n.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};_o(us,Hu);var qx=function(){us.call(this),this.pushButton=!0};_o(qx,us);var rm=function(){us.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n!==void 0?n:[]}})};_o(rm,us);var Ev=function(){var e,n;Hu.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return n},set:function(i){n=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),r)s.push("/"+a+" ("+zp(i(r[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){ai(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Yt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};_o(Ev,Hu),rm.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var n in this.Kids)if(this.Kids.hasOwnProperty(n)){var t=this.Kids[n];t.appearanceStreamContent=e.createAppearanceStream(t.optionName),t.caption=e.getCA()}},rm.prototype.createOption=function(e){var n=new Ev;return n.Parent=this,n.optionName=e,this.Kids.push(n),KX.call(this.scope,n),n};var Bx=function(){us.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Yt.CheckBox.createAppearanceStream()};_o(Bx,us);var xp=function(){Hu.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,13)},set:function(n){n?this.Ff=Sa(this.Ff,13):this.Ff=Ca(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,21)},set:function(n){n?this.Ff=Sa(this.Ff,21):this.Ff=Ca(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,23)},set:function(n){n?this.Ff=Sa(this.Ff,23):this.Ff=Ca(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,24)},set:function(n){n?this.Ff=Sa(this.Ff,24):this.Ff=Ca(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,25)},set:function(n){n?this.Ff=Sa(this.Ff,25):this.Ff=Ca(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,26)},set:function(n){n?this.Ff=Sa(this.Ff,26):this.Ff=Ca(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){Number.isInteger(n)&&(e=n)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};_o(xp,Hu);var $x=function(){xp.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,14)},set:function(e){e?this.Ff=Sa(this.Ff,14):this.Ff=Ca(this.Ff,14)}}),this.password=!0};_o($x,xp);var Yt={CheckBox:{createAppearanceStream:function(){return{N:{On:Yt.CheckBox.YesNormal},D:{On:Yt.CheckBox.YesPushDown,Off:Yt.CheckBox.OffPushDown}}},YesPushDown:function(e){var n=wc(e);n.scope=e.scope;var t=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=E6(e,e.caption);return t.push("0.749023 g"),t.push("0 0 "+Dn(Yt.internal.getWidth(e))+" "+Dn(Yt.internal.getHeight(e))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Dn(a.fontSize)+" Tf "+i),t.push("BT"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC"),n.stream=t.join(`
`),n},YesNormal:function(e){var n=wc(e);n.scope=e.scope;var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],a=Yt.internal.getHeight(e),s=Yt.internal.getWidth(e),l=E6(e,e.caption);return i.push("1 g"),i.push("0 0 "+Dn(s)+" "+Dn(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Dn(s-1)+" "+Dn(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Dn(l.fontSize)+" Tf "+r),i.push(l.text),i.push("ET"),i.push("Q"),n.stream=i.join(`
`),n},OffPushDown:function(e){var n=wc(e);n.scope=e.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Dn(Yt.internal.getWidth(e))+" "+Dn(Yt.internal.getHeight(e))+" re"),t.push("f"),n.stream=t.join(`
`),n}},RadioButton:{Circle:{createAppearanceStream:function(e){var n={D:{Off:Yt.RadioButton.Circle.OffPushDown},N:{}};return n.N[e]=Yt.RadioButton.Circle.YesNormal,n.D[e]=Yt.RadioButton.Circle.YesPushDown,n},getCA:function(){return"l"},YesNormal:function(e){var n=wc(e);n.scope=e.scope;var t=[],r=Yt.internal.getWidth(e)<=Yt.internal.getHeight(e)?Yt.internal.getWidth(e)/4:Yt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Yt.internal.Bezier_C,a=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Uf(Yt.internal.getWidth(e)/2)+" "+Uf(Yt.internal.getHeight(e)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),t.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),t.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),t.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),t.push("f"),t.push("Q"),n.stream=t.join(`
`),n},YesPushDown:function(e){var n=wc(e);n.scope=e.scope;var t=[],r=Yt.internal.getWidth(e)<=Yt.internal.getHeight(e)?Yt.internal.getWidth(e)/4:Yt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Yt.internal.Bezier_C).toFixed(5)),s=Number((r*Yt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Uf(Yt.internal.getWidth(e)/2)+" "+Uf(Yt.internal.getHeight(e)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Uf(Yt.internal.getWidth(e)/2)+" "+Uf(Yt.internal.getHeight(e)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),n.stream=t.join(`
`),n},OffPushDown:function(e){var n=wc(e);n.scope=e.scope;var t=[],r=Yt.internal.getWidth(e)<=Yt.internal.getHeight(e)?Yt.internal.getWidth(e)/4:Yt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Yt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Uf(Yt.internal.getWidth(e)/2)+" "+Uf(Yt.internal.getHeight(e)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),n.stream=t.join(`
`),n}},Cross:{createAppearanceStream:function(e){var n={D:{Off:Yt.RadioButton.Cross.OffPushDown},N:{}};return n.N[e]=Yt.RadioButton.Cross.YesNormal,n.D[e]=Yt.RadioButton.Cross.YesPushDown,n},getCA:function(){return"8"},YesNormal:function(e){var n=wc(e);n.scope=e.scope;var t=[],r=Yt.internal.calculateCross(e);return t.push("q"),t.push("1 1 "+Dn(Yt.internal.getWidth(e)-2)+" "+Dn(Yt.internal.getHeight(e)-2)+" re"),t.push("W"),t.push("n"),t.push(Dn(r.x1.x)+" "+Dn(r.x1.y)+" m"),t.push(Dn(r.x2.x)+" "+Dn(r.x2.y)+" l"),t.push(Dn(r.x4.x)+" "+Dn(r.x4.y)+" m"),t.push(Dn(r.x3.x)+" "+Dn(r.x3.y)+" l"),t.push("s"),t.push("Q"),n.stream=t.join(`
`),n},YesPushDown:function(e){var n=wc(e);n.scope=e.scope;var t=Yt.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+Dn(Yt.internal.getWidth(e))+" "+Dn(Yt.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Dn(Yt.internal.getWidth(e)-2)+" "+Dn(Yt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Dn(t.x1.x)+" "+Dn(t.x1.y)+" m"),r.push(Dn(t.x2.x)+" "+Dn(t.x2.y)+" l"),r.push(Dn(t.x4.x)+" "+Dn(t.x4.y)+" m"),r.push(Dn(t.x3.x)+" "+Dn(t.x3.y)+" l"),r.push("s"),r.push("Q"),n.stream=r.join(`
`),n},OffPushDown:function(e){var n=wc(e);n.scope=e.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Dn(Yt.internal.getWidth(e))+" "+Dn(Yt.internal.getHeight(e))+" re"),t.push("f"),n.stream=t.join(`
`),n}}},createDefaultAppearanceStream:function(e){var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,t=e.scope.__private__.encodeColorString(e.color);return"/"+n+" "+e.fontSize+" Tf "+t}};Yt.internal={Bezier_C:.551915024494,calculateCross:function(e){var n=Yt.internal.getWidth(e),t=Yt.internal.getHeight(e),r=Math.min(n,t);return{x1:{x:(n-r)/2,y:(t-r)/2+r},x2:{x:(n-r)/2+r,y:(t-r)/2},x3:{x:(n-r)/2,y:(t-r)/2},x4:{x:(n-r)/2+r,y:(t-r)/2+r}}}},Yt.internal.getWidth=function(e){var n=0;return ai(e)==="object"&&(n=Rj(e.Rect[2])),n},Yt.internal.getHeight=function(e){var n=0;return ai(e)==="object"&&(n=Rj(e.Rect[3])),n};var KX=oa.addField=function(e){if(QX(this,e),!(e instanceof Hu))throw new Error("Invalid argument passed to jsPDF.addField.");var n;return(n=e).scope.internal.acroformPlugin.printedOut&&(n.scope.internal.acroformPlugin.printedOut=!1,n.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),n.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(n),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};oa.AcroFormChoiceField=em,oa.AcroFormListBox=tm,oa.AcroFormComboBox=nm,oa.AcroFormEditBox=zx,oa.AcroFormButton=us,oa.AcroFormPushButton=qx,oa.AcroFormRadioButton=rm,oa.AcroFormCheckBox=Bx,oa.AcroFormTextField=xp,oa.AcroFormPasswordField=$x,oa.AcroFormAppearance=Yt,oa.AcroForm={ChoiceField:em,ListBox:tm,ComboBox:nm,EditBox:zx,Button:us,PushButton:qx,RadioButton:rm,CheckBox:Bx,TextField:xp,PasswordField:$x,Appearance:Yt},pn.AcroForm={ChoiceField:em,ListBox:tm,ComboBox:nm,EditBox:zx,Button:us,PushButton:qx,RadioButton:rm,CheckBox:Bx,TextField:xp,PasswordField:$x,Appearance:Yt};pn.AcroForm;function bO(e){return e.reduce(function(n,t,r){return n[t]=r,n},{})}(function(e){e.__addimage__={};var n="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(T,D){var O,L,Q,$,Y,Z=n;if((D=D||n)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(B(T))for(Y in t)for(Q=t[Y],O=0;O<Q.length;O+=1){for($=!0,L=0;L<Q[O].length;L+=1)if(Q[O][L]!==void 0&&Q[O][L]!==T[L]){$=!1;break}if($===!0){Z=Y;break}}else for(Y in t)for(Q=t[Y],O=0;O<Q.length;O+=1){for($=!0,L=0;L<Q[O].length;L+=1)if(Q[O][L]!==void 0&&Q[O][L]!==T.charCodeAt(L)){$=!1;break}if($===!0){Z=Y;break}}return Z===n&&D!==n&&(Z=D),Z},i=function T(D){for(var O=this.internal.write,L=this.internal.putStream,Q=(0,this.internal.getFilters)();Q.indexOf("FlateEncode")!==-1;)Q.splice(Q.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var $=[];if($.push({key:"Type",value:"/XObject"}),$.push({key:"Subtype",value:"/Image"}),$.push({key:"Width",value:D.width}),$.push({key:"Height",value:D.height}),D.colorSpace===C.INDEXED?$.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):($.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===C.DEVICE_CMYK&&$.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),$.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&$.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)){for(var Y="",Z=0,re=D.transparency.length;Z<re;Z++)Y+=D.transparency[Z]+" "+D.transparency[Z]+" ";$.push({key:"Mask",value:"["+Y+"]"})}D.sMask!==void 0&&$.push({key:"SMask",value:D.objectId+1+" 0 R"});var H=D.filter!==void 0?["/"+D.filter]:void 0;if(L({data:D.data,additionalKeyValues:$,alreadyAppliedFilters:H,objectId:D.objectId}),O("endobj"),"sMask"in D&&D.sMask!==void 0){var me="/Predictor "+D.predictor+" /Colors 1 /BitsPerComponent "+D.bitsPerComponent+" /Columns "+D.width,q={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:D.bitsPerComponent,decodeParameters:me,data:D.sMask};"filter"in D&&(q.filter=D.filter),T.call(this,q)}if(D.colorSpace===C.INDEXED){var z=this.internal.newObject();L({data:F(new Uint8Array(D.palette)),objectId:z}),O("endobj")}},a=function(){var T=this.internal.collections.addImage_images;for(var D in T)i.call(this,T[D])},s=function(){var T,D=this.internal.collections.addImage_images,O=this.internal.write;for(var L in D)O("/I"+(T=D[L]).index,T.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",s))},u=function(){var T=this.internal.collections.addImage_images;return l.call(this),T},f=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(T){return typeof e["process"+T.toUpperCase()]=="function"},m=function(T){return ai(T)==="object"&&T.nodeType===1},b=function(T,D){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var O=""+T.getAttribute("src");if(O.indexOf("data:image/")===0)return I1(unescape(O).split("base64,").pop());var L=e.loadFile(O,!0);if(L!==void 0)return L}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var Q;switch(D){case"PNG":Q="image/png";break;case"WEBP":Q="image/webp";break;case"JPEG":case"JPG":default:Q="image/jpeg"}return I1(T.toDataURL(Q,1).split("base64,").pop())}},g=function(T){var D=this.internal.collections.addImage_images;if(D){for(var O in D)if(T===D[O].alias)return D[O]}},v=function(T,D,O){return T||D||(T=-96,D=-96),T<0&&(T=-1*O.width*72/T/this.internal.scaleFactor),D<0&&(D=-1*O.height*72/D/this.internal.scaleFactor),T===0&&(T=D*O.width/O.height),D===0&&(D=T*O.height/O.width),[T,D]},x=function(T,D,O,L,Q,$){var Y=v.call(this,O,L,Q),Z=this.internal.getCoordinateString,re=this.internal.getVerticalCoordinateString,H=u.call(this);if(O=Y[0],L=Y[1],H[Q.index]=Q,$){$*=Math.PI/180;var me=Math.cos($),q=Math.sin($),z=function(oe){return oe.toFixed(4)},ne=[z(me),z(q),z(-1*q),z(me),0,0,"cm"]}this.internal.write("q"),$?(this.internal.write([1,"0","0",1,Z(T),re(D+L),"cm"].join(" ")),this.internal.write(ne.join(" ")),this.internal.write([Z(O),"0","0",Z(L),"0","0","cm"].join(" "))):this.internal.write([Z(O),"0","0",Z(L),Z(T),re(D+L),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Q.index+" Do"),this.internal.write("Q")},C=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},A=e.__addimage__.sHashCode=function(T){var D,O,L=0;if(typeof T=="string")for(O=T.length,D=0;D<O;D++)L=(L<<5)-L+T.charCodeAt(D),L|=0;else if(B(T))for(O=T.byteLength/2,D=0;D<O;D++)L=(L<<5)-L+T[D],L|=0;return L},N=e.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var D=!0;return T.length===0&&(D=!1),T.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(D=!1),D},P=e.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var D=T.indexOf(",");return D<0?null:T.substring(0,D).trim().endsWith("base64")?T.substring(D+1):null},U=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(T){return U()&&T instanceof ArrayBuffer};var B=e.__addimage__.isArrayBufferView=function(T){return U()&&typeof Uint32Array<"u"&&(T instanceof Int8Array||T instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array)},j=e.__addimage__.binaryStringToUint8Array=function(T){for(var D=T.length,O=new Uint8Array(D),L=0;L<D;L++)O[L]=T.charCodeAt(L);return O},F=e.__addimage__.arrayBufferToBinaryString=function(T){for(var D="",O=B(T)?T:new Uint8Array(T),L=0;L<O.length;L+=8192)D+=String.fromCharCode.apply(null,O.subarray(L,L+8192));return D};e.addImage=function(){var T,D,O,L,Q,$,Y,Z,re;if(typeof arguments[1]=="number"?(D=n,O=arguments[1],L=arguments[2],Q=arguments[3],$=arguments[4],Y=arguments[5],Z=arguments[6],re=arguments[7]):(D=arguments[1],O=arguments[2],L=arguments[3],Q=arguments[4],$=arguments[5],Y=arguments[6],Z=arguments[7],re=arguments[8]),ai(T=arguments[0])==="object"&&!m(T)&&"imageData"in T){var H=T;T=H.imageData,D=H.format||D||n,O=H.x||O||0,L=H.y||L||0,Q=H.w||H.width||Q,$=H.h||H.height||$,Y=H.alias||Y,Z=H.compression||Z,re=H.rotation||H.angle||re}var me=this.internal.getFilters();if(Z===void 0&&me.indexOf("FlateEncode")!==-1&&(Z="SLOW"),isNaN(O)||isNaN(L))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var q=V.call(this,T,D,Y,Z);return x.call(this,O,L,Q,$,q,re),this};var V=function(T,D,O,L){var Q,$,Y;if(typeof T=="string"&&r(T)===n){T=unescape(T);var Z=X(T,!1);(Z!==""||(Z=e.loadFile(T,!0))!==void 0)&&(T=Z)}if(m(T)&&(T=b(T,D)),D=r(T,D),!h(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((Y=O)==null||Y.length===0)&&(O=function(re){return typeof re=="string"||B(re)?A(re):B(re.data)?A(re.data):null}(T)),(Q=g.call(this,O))||(U()&&(T instanceof Uint8Array||D==="RGBA"||($=T,T=j(T))),Q=this["process"+D.toUpperCase()](T,f.call(this),O,function(re){return re&&typeof re=="string"&&(re=re.toUpperCase()),re in e.image_compression?re:S.NONE}(L),$)),!Q)throw new Error("An unknown error occurred whilst processing the image.");return Q},X=e.__addimage__.convertBase64ToBinaryString=function(T,D){D=typeof D!="boolean"||D;var O,L="";if(typeof T=="string"){var Q;O=(Q=P(T))!==null&&Q!==void 0?Q:T;try{L=I1(O)}catch($){if(D)throw N(O)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+$.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return L};e.getImageProperties=function(T){var D,O,L="";if(m(T)&&(T=b(T)),typeof T=="string"&&r(T)===n&&((L=X(T,!1))===""&&(L=e.loadFile(T)||""),T=L),O=r(T),!h(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(!U()||T instanceof Uint8Array||(T=j(T)),!(D=this["process"+O.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=O,D}})(pn.API),function(e){var n=function(t){if(t!==void 0&&t!="")return!0};pn.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(t){for(var r,i,a,s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(t.objId),f=t.pageContext.annotations,h=!1,m=0;m<f.length&&!h;m++)switch((r=f[m]).type){case"link":(n(r.options.url)||n(r.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var b=0;b<f.length;b++){r=f[b];var g=this.internal.pdfEscape,v=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),C=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(x.objId),A=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+g(S(r.contents))+")",a+=" /Popup "+C.objId+" 0 R",a+=" /P "+u.objId+" 0 R",a+=" /T ("+g(S(A))+") >>",x.content=a;var N=x.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+N,r.open&&(a+=" /Open true"),a+=" >>",C.content=a,this.internal.write(x.objId,"0 R",C.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+l(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var P=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(v(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+P+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var U=this.annotations._nameMap[r.options.name];r.options.pageNumber=U.page,r.options.top=U.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(v(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var B=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+B+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},e.link=function(t,r,i,a,s){var l=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:u(t),y:f(r),w:u(t+i),h:f(r+a)},options:s,type:"link"})},e.textWithLink=function(t,r,i,a){var s,l,u=this.getTextWidth(t),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var h=this.splitTextToSize(t,l).length;s=Math.ceil(f*h)}else l=u,s=f;return this.text(t,r,i,a),i+=.2*f,a.align==="center"&&(r-=u/2),a.align==="right"&&(r-=u),this.link(r,i-f,l,s,a),u},e.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(pn.API),function(e){var n={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(x){return n[x.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},l=e.__arabicParser__.isArabicEndLetter=function(x){return s(x)&&a(x)&&n[x.charCodeAt(0)].length<=2},u=e.__arabicParser__.isArabicAlfLetter=function(x){return s(x)&&i.indexOf(x.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return s(x)&&a(x)&&n[x.charCodeAt(0)].length>=1};var f=e.__arabicParser__.arabicLetterHasFinalForm=function(x){return s(x)&&a(x)&&n[x.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(x){return s(x)&&a(x)&&n[x.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(x){return s(x)&&a(x)&&n[x.charCodeAt(0)].length==4},m=e.__arabicParser__.resolveLigatures=function(x){var C=0,S=t,A="",N=0;for(C=0;C<x.length;C+=1)S[x.charCodeAt(C)]!==void 0?(N++,typeof(S=S[x.charCodeAt(C)])=="number"&&(A+=String.fromCharCode(S),S=t,N=0),C===x.length-1&&(S=t,A+=x.charAt(C-(N-1)),C-=N-1,N=0)):(S=t,A+=x.charAt(C-N),C-=N,N=0);return A};e.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&r[x.charCodeAt(0)]!==void 0};var b=e.__arabicParser__.getCorrectForm=function(x,C,S){return s(x)?a(x)===!1?-1:!f(x)||!s(C)&&!s(S)||!s(S)&&l(C)||l(x)&&!s(C)||l(x)&&u(C)||l(x)&&l(C)?0:h(x)&&s(C)&&!l(C)&&s(S)&&f(S)?3:l(x)||!s(S)?1:2:-1},g=function(x){var C=0,S=0,A=0,N="",P="",U="",B=(x=x||"").split("\\s+"),j=[];for(C=0;C<B.length;C+=1){for(j.push(""),S=0;S<B[C].length;S+=1)N=B[C][S],P=B[C][S-1],U=B[C][S+1],s(N)?(A=b(N,P,U),j[C]+=A!==-1?String.fromCharCode(n[N.charCodeAt(0)][A]):N):j[C]+=N;j[C]=m(j[C])}return j.join(" ")},v=e.__arabicParser__.processArabic=e.processArabic=function(){var x,C=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(C)){var A=0;for(S=[],A=0;A<C.length;A+=1)Array.isArray(C[A])?S.push([g(C[A][0]),C[A][1],C[A][2]]):S.push([g(C[A])]);x=S}else x=g(C);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};e.events.push(["preProcessText",v])}(pn.API),pn.API.autoPrint=function(e){var n;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+n+" 0 R")})}return this},function(e){var n=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(l){s=l}}),Object.defineProperty(this,"parentNode",{})};n.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},n.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new n,this.canvas.pdf=this}])}(pn.API),function(e){var n={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},n),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(x){m=x}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(x){b=x}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(x){g=x}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(x){v=x}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(u){return r.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},e.getTextDimensions=function(u,f){r.call(this);var h=(f=f||{}).fontSize||this.getFontSize(),m=f.font||this.getFont(),b=f.scaleFactor||this.internal.scaleFactor,g=0,v=0,x=0,C=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var S=f.maxWidth;S>0?typeof u=="string"?u=this.splitTextToSize(u,S):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(N,P){return N.concat(C.splitTextToSize(P,S))},[])):u=Array.isArray(u)?u:[u];for(var A=0;A<u.length;A++)g<(x=this.getStringUnitWidth(u[A],{font:m})*h)&&(g=x);return g!==0&&(v=u.length),{w:g/=b,h:Math.max((v*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/b,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var u=this.internal.__cell__.margins||n;return this.internal.__cell__.lastCell=new a(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var u;u=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var f=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,m=this.internal.__cell__.margins||n,b=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===u.lineNumber?(u.x=(f.x||0)+(f.width||0),u.y=f.y||0):f.y+f.height+u.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=m.top,g&&b&&(this.printHeaderRow(u.lineNumber,!0),u.y+=b[0].height)):u.y=f.y+f.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,t===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-h,u.y+h,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+h,{align:"center",baseline:"top",maxWidth:u.width-h-h}):this.text(u.text,u.x+h,u.y+h,{align:"left",baseline:"top",maxWidth:u.width-h-h})),this.internal.__cell__.lastCell=u,this};e.table=function(u,f,h,m,b){if(r.call(this),!h)throw new Error("No data for PDF table.");var g,v,x,C,S=[],A=[],N=[],P={},U={},B=[],j=[],F=(b=b||{}).autoSize||!1,V=b.printHeaders!==!1,X=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,T=b.margins||Object.assign({width:this.getPageWidth()},n),D=typeof b.padding=="number"?b.padding:3,O=b.headerBackgroundColor||"#c8c8c8",L=b.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=V,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=X,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=O,this.internal.__cell__.headerTextColor=L,this.setFontSize(X),m==null)A=S=Object.keys(h[0]),N=S.map(function(){return"left"});else if(Array.isArray(m)&&ai(m[0])==="object")for(S=m.map(function(H){return H.name}),A=m.map(function(H){return H.prompt||H.name||""}),N=m.map(function(H){return H.align||"left"}),g=0;g<m.length;g+=1)U[m[g].name]=m[g].width*(19.049976/25.4);else Array.isArray(m)&&typeof m[0]=="string"&&(A=S=m,N=S.map(function(){return"left"}));if(F||Array.isArray(m)&&typeof m[0]=="string")for(g=0;g<S.length;g+=1){for(P[C=S[g]]=h.map(function(H){return H[C]}),this.setFont(void 0,"bold"),B.push(this.getTextDimensions(A[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=P[C],this.setFont(void 0,"normal"),x=0;x<v.length;x+=1)B.push(this.getTextDimensions(v[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);U[C]=Math.max.apply(null,B)+D+D,B=[]}if(V){var Q={};for(g=0;g<S.length;g+=1)Q[S[g]]={},Q[S[g]].text=A[g],Q[S[g]].align=N[g];var $=l.call(this,Q,U);j=S.map(function(H){return new a(u,f,U[H],$,Q[H].text,void 0,Q[H].align)}),this.setTableHeaderRow(j),this.printHeaderRow(1,!1)}var Y=m.reduce(function(H,me){return H[me.name]=me.align,H},{});for(g=0;g<h.length;g+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:g,data:h[g]},this);var Z=l.call(this,h[g],U);for(x=0;x<S.length;x+=1){var re=h[g][S[x]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:g,col:x,data:re},this),s.call(this,new a(u,f,U[S[x]],Z,re,g+2,Y[S[x]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=f,this};var l=function(u,f){var h=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(u).map(function(g){var v=u[g];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,f[g]-h-h)},this).map(function(g){return this.getLineHeightFactor()*g.length*m/b+h+h},this).reduce(function(g,v){return Math.max(g,v)},0)};e.setTableHeaderRow=function(u){r.call(this),this.internal.__cell__.tableHeaderRow=u},e.printHeaderRow=function(u,f){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){h=this.internal.__cell__.tableHeaderRow[g].clone(),f&&(h.y=this.internal.__cell__.margins.top||0,b.push(h)),h.lineNumber=u;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,h),this.setTextColor(v)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),t=!1}}(pn.API);var yO={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},xO=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],j6=bO(xO),vO=[100,200,300,400,500,600,700,800,900],XX=bO(vO);function T6(e){var n=e.family.replace(/"|'/g,"").toLowerCase(),t=function(a){return yO[a=a||"normal"]?a:"normal"}(e.style),r=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(a){return typeof j6[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:n,style:t,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:n,style:[i,t,r].join(" ")}}}function Pj(e,n,t,r){var i;for(i=t;i>=0&&i<n.length;i+=r)if(e[n[i]])return e[n[i]];for(i=t;i>=0&&i<n.length;i-=r)if(e[n[i]])return e[n[i]]}var ZX={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Fj={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function zj(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function JX(e,n,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},ZX,t.genericFontFamilies||{}),a=null,s=null,l=0;l<n.length;++l)if(i[(a=T6(n[l])).family]&&(a.family=i[a.family]),e.hasOwnProperty(a.family)){s=e[a.family];break}if(!(s=s||e[r]))throw new Error("Could not find a font-family for the rule '"+zj(a)+"' and default family '"+r+"'.");if(s=function(u,f){if(f[u])return f[u];var h=j6[u],m=h<=j6.normal?-1:1,b=Pj(f,xO,h,m);if(!b)throw new Error("Could not find a matching font-stretch value for "+u);return b}(a.stretch,s),s=function(u,f){if(f[u])return f[u];for(var h=yO[u],m=0;m<h.length;++m)if(f[h[m]])return f[h[m]];throw new Error("Could not find a matching font-style for "+u)}(a.style,s),!(s=function(u,f){if(f[u])return f[u];if(u===400&&f[500])return f[500];if(u===500&&f[400])return f[400];var h=XX[u],m=Pj(f,vO,h,u<400?-1:1);if(!m)throw new Error("Could not find a matching font-weight for value "+u);return m}(a.weight,s)))throw new Error("Failed to resolve a font for the rule '"+zj(a)+"'.");return s}function qj(e){return e.trimLeft()}function eZ(e,n){for(var t=0;t<e.length;){if(e.charAt(t)===n)return[e.substring(0,t),e.substring(t+1)];t+=1}return null}function tZ(e){var n=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return n===null?null:[n[0],e.substring(n[0].length)]}var bx,Bj,$j,eS=["times"];(function(e){var n,t,r,i,a,s,l,u,f,h=function(q){return q=q||{},this.isStrokeTransparent=q.isStrokeTransparent||!1,this.strokeOpacity=q.strokeOpacity||1,this.strokeStyle=q.strokeStyle||"#000000",this.fillStyle=q.fillStyle||"#000000",this.isFillTransparent=q.isFillTransparent||!1,this.fillOpacity=q.fillOpacity||1,this.font=q.font||"10px sans-serif",this.textBaseline=q.textBaseline||"alphabetic",this.textAlign=q.textAlign||"left",this.lineWidth=q.lineWidth||1,this.lineJoin=q.lineJoin||"miter",this.lineCap=q.lineCap||"butt",this.path=q.path||[],this.transform=q.transform!==void 0?q.transform.clone():new u,this.globalCompositeOperation=q.globalCompositeOperation||"normal",this.globalAlpha=q.globalAlpha||1,this.clip_path=q.clip_path||[],this.currentPoint=q.currentPoint||new s,this.miterLimit=q.miterLimit||10,this.lastPoint=q.lastPoint||new s,this.lineDashOffset=q.lineDashOffset||0,this.lineDash=q.lineDash||[],this.margin=q.margin||[0,0,0,0],this.prevPageLastElemOffset=q.prevPageLastElemOffset||0,this.ignoreClearRect=typeof q.ignoreClearRect!="boolean"||q.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new m(this),n=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,u=this.internal.Matrix,f=new h}]);var m=function(q){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=q;Object.defineProperty(this,"pdf",{get:function(){return z}});var ne=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ne},set:function(Oe){ne=!!Oe}});var oe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return oe},set:function(Oe){oe=!!Oe}});var ee=0;Object.defineProperty(this,"posX",{get:function(){return ee},set:function(Oe){isNaN(Oe)||(ee=Oe)}});var ge=0;Object.defineProperty(this,"posY",{get:function(){return ge},set:function(Oe){isNaN(Oe)||(ge=Oe)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Oe){var pe;typeof Oe=="number"?pe=[Oe,Oe,Oe,Oe]:((pe=new Array(4))[0]=Oe[0],pe[1]=Oe.length>=2?Oe[1]:pe[0],pe[2]=Oe.length>=3?Oe[2]:pe[0],pe[3]=Oe.length>=4?Oe[3]:pe[1]),f.margin=pe}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(Oe){de=Oe}});var ye=0;Object.defineProperty(this,"lastBreak",{get:function(){return ye},set:function(Oe){ye=Oe}});var we=[];Object.defineProperty(this,"pageBreaks",{get:function(){return we},set:function(Oe){we=Oe}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Oe){Oe instanceof h&&(f=Oe)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Oe){f.path=Oe}});var ve=[];Object.defineProperty(this,"ctxStack",{get:function(){return ve},set:function(Oe){ve=Oe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Oe){var pe;pe=b(Oe),this.ctx.fillStyle=pe.style,this.ctx.isFillTransparent=pe.a===0,this.ctx.fillOpacity=pe.a,this.pdf.setFillColor(pe.r,pe.g,pe.b,{a:pe.a}),this.pdf.setTextColor(pe.r,pe.g,pe.b,{a:pe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Oe){var pe=b(Oe);this.ctx.strokeStyle=pe.style,this.ctx.isStrokeTransparent=pe.a===0,this.ctx.strokeOpacity=pe.a,pe.a===0?this.pdf.setDrawColor(255,255,255):(pe.a,this.pdf.setDrawColor(pe.r,pe.g,pe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Oe){["butt","round","square"].indexOf(Oe)!==-1&&(this.ctx.lineCap=Oe,this.pdf.setLineCap(Oe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Oe){isNaN(Oe)||(this.ctx.lineWidth=Oe,this.pdf.setLineWidth(Oe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Oe){["bevel","round","miter"].indexOf(Oe)!==-1&&(this.ctx.lineJoin=Oe,this.pdf.setLineJoin(Oe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Oe){isNaN(Oe)||(this.ctx.miterLimit=Oe,this.pdf.setMiterLimit(Oe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Oe){this.ctx.textBaseline=Oe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Oe){["right","end","center","left","start"].indexOf(Oe)!==-1&&(this.ctx.textAlign=Oe)}});var je=null;function Ee(Oe,pe){if(je===null){var tt=function(dt){var lt=[];return Object.keys(dt).forEach(function(Ze){dt[Ze].forEach(function(ut){var wt=null;switch(ut){case"bold":wt={family:Ze,weight:"bold"};break;case"italic":wt={family:Ze,style:"italic"};break;case"bolditalic":wt={family:Ze,weight:"bold",style:"italic"};break;case"":case"normal":wt={family:Ze}}wt!==null&&(wt.ref={name:Ze,style:ut},lt.push(wt))})}),lt}(Oe.getFontList());je=function(dt){for(var lt={},Ze=0;Ze<dt.length;++Ze){var ut=T6(dt[Ze]),wt=ut.family,Et=ut.stretch,Ot=ut.style,qt=ut.weight;lt[wt]=lt[wt]||{},lt[wt][Et]=lt[wt][Et]||{},lt[wt][Et][Ot]=lt[wt][Et][Ot]||{},lt[wt][Et][Ot][qt]=ut}return lt}(tt.concat(pe))}return je}var Ue=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ue},set:function(Oe){je=null,Ue=Oe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Oe){var pe;if(this.ctx.font=Oe,(pe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Oe))!==null){var tt=pe[1];pe[2];var dt=pe[3],lt=pe[4];pe[5];var Ze=pe[6],ut=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(lt)[2];lt=Math.floor(ut==="px"?parseFloat(lt)*this.pdf.internal.scaleFactor:ut==="em"?parseFloat(lt)*this.pdf.getFontSize():parseFloat(lt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(lt);var wt=function(ke){var Ke,He,Nt=[],It=ke.trim();if(It==="")return eS;if(It in Fj)return[Fj[It]];for(;It!=="";){switch(He=null,Ke=(It=qj(It)).charAt(0)){case'"':case"'":He=eZ(It.substring(1),Ke);break;default:He=tZ(It)}if(He===null||(Nt.push(He[0]),(It=qj(He[1]))!==""&&It.charAt(0)!==","))return eS;It=It.replace(/^,/,"")}return Nt}(Ze);if(this.fontFaces){var Et=JX(Ee(this.pdf,this.fontFaces),wt.map(function(ke){return{family:ke,stretch:"normal",weight:dt,style:tt}}));this.pdf.setFont(Et.ref.name,Et.ref.style)}else{var Ot="";(dt==="bold"||parseInt(dt,10)>=700||tt==="bold")&&(Ot="bold"),tt==="italic"&&(Ot+="italic"),Ot.length===0&&(Ot="normal");for(var qt="",Qe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Se=0;Se<wt.length;Se++){if(this.pdf.internal.getFont(wt[Se],Ot,{noFallback:!0,disableWarning:!0})!==void 0){qt=wt[Se];break}if(Ot==="bolditalic"&&this.pdf.internal.getFont(wt[Se],"bold",{noFallback:!0,disableWarning:!0})!==void 0)qt=wt[Se],Ot="bold";else if(this.pdf.internal.getFont(wt[Se],"normal",{noFallback:!0,disableWarning:!0})!==void 0){qt=wt[Se],Ot="normal";break}}if(qt===""){for(var De=0;De<wt.length;De++)if(Qe[wt[De]]){qt=Qe[wt[De]];break}}qt=qt===""?"Times":qt,this.pdf.setFont(qt,Ot)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Oe){this.ctx.globalCompositeOperation=Oe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Oe){this.ctx.globalAlpha=Oe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Oe){this.ctx.lineDashOffset=Oe,me.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Oe){this.ctx.lineDash=Oe,me.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Oe){this.ctx.ignoreClearRect=!!Oe}})};m.prototype.setLineDash=function(q){this.lineDash=q},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){P.call(this,"fill",!1)},m.prototype.stroke=function(){P.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(q,z){if(isNaN(q)||isNaN(z))throw ti.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ne=this.ctx.transform.applyToPoint(new s(q,z));this.path.push({type:"mt",x:ne.x,y:ne.y}),this.ctx.lastPoint=new s(q,z)},m.prototype.closePath=function(){var q=new s(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&ai(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){q=new s(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(q.x,q.y)},m.prototype.lineTo=function(q,z){if(isNaN(q)||isNaN(z))throw ti.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ne=this.ctx.transform.applyToPoint(new s(q,z));this.path.push({type:"lt",x:ne.x,y:ne.y}),this.ctx.lastPoint=new s(ne.x,ne.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),P.call(this,null,!0)},m.prototype.quadraticCurveTo=function(q,z,ne,oe){if(isNaN(ne)||isNaN(oe)||isNaN(q)||isNaN(z))throw ti.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ee=this.ctx.transform.applyToPoint(new s(ne,oe)),ge=this.ctx.transform.applyToPoint(new s(q,z));this.path.push({type:"qct",x1:ge.x,y1:ge.y,x:ee.x,y:ee.y}),this.ctx.lastPoint=new s(ee.x,ee.y)},m.prototype.bezierCurveTo=function(q,z,ne,oe,ee,ge){if(isNaN(ee)||isNaN(ge)||isNaN(q)||isNaN(z)||isNaN(ne)||isNaN(oe))throw ti.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new s(ee,ge)),ye=this.ctx.transform.applyToPoint(new s(q,z)),we=this.ctx.transform.applyToPoint(new s(ne,oe));this.path.push({type:"bct",x1:ye.x,y1:ye.y,x2:we.x,y2:we.y,x:de.x,y:de.y}),this.ctx.lastPoint=new s(de.x,de.y)},m.prototype.arc=function(q,z,ne,oe,ee,ge){if(isNaN(q)||isNaN(z)||isNaN(ne)||isNaN(oe)||isNaN(ee))throw ti.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ge=!!ge,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new s(q,z));q=de.x,z=de.y;var ye=this.ctx.transform.applyToPoint(new s(0,ne)),we=this.ctx.transform.applyToPoint(new s(0,0));ne=Math.sqrt(Math.pow(ye.x-we.x,2)+Math.pow(ye.y-we.y,2))}Math.abs(ee-oe)>=2*Math.PI&&(oe=0,ee=2*Math.PI),this.path.push({type:"arc",x:q,y:z,radius:ne,startAngle:oe,endAngle:ee,counterclockwise:ge})},m.prototype.arcTo=function(q,z,ne,oe,ee){throw new Error("arcTo not implemented.")},m.prototype.rect=function(q,z,ne,oe){if(isNaN(q)||isNaN(z)||isNaN(ne)||isNaN(oe))throw ti.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(q,z),this.lineTo(q+ne,z),this.lineTo(q+ne,z+oe),this.lineTo(q,z+oe),this.lineTo(q,z),this.lineTo(q+ne,z),this.lineTo(q,z)},m.prototype.fillRect=function(q,z,ne,oe){if(isNaN(q)||isNaN(z)||isNaN(ne)||isNaN(oe))throw ti.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ee={};this.lineCap!=="butt"&&(ee.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ee.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(q,z,ne,oe),this.fill(),ee.hasOwnProperty("lineCap")&&(this.lineCap=ee.lineCap),ee.hasOwnProperty("lineJoin")&&(this.lineJoin=ee.lineJoin)}},m.prototype.strokeRect=function(q,z,ne,oe){if(isNaN(q)||isNaN(z)||isNaN(ne)||isNaN(oe))throw ti.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(q,z,ne,oe),this.stroke())},m.prototype.clearRect=function(q,z,ne,oe){if(isNaN(q)||isNaN(z)||isNaN(ne)||isNaN(oe))throw ti.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(q,z,ne,oe))},m.prototype.save=function(q){q=typeof q!="boolean"||q;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,ne=0;ne<this.pdf.internal.getNumberOfPages();ne++)this.pdf.setPage(ne+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),q){this.ctx.fontSize=this.pdf.internal.getFontSize();var oe=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=oe}},m.prototype.restore=function(q){q=typeof q!="boolean"||q;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,ne=0;ne<this.pdf.internal.getNumberOfPages();ne++)this.pdf.setPage(ne+1),this.pdf.internal.out("Q");this.pdf.setPage(z),q&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(q){var z,ne,oe,ee;if(q.isCanvasGradient===!0&&(q=q.getColor()),!q)return{r:0,g:0,b:0,a:0,style:q};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(q))z=0,ne=0,oe=0,ee=0;else{var ge=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(q);if(ge!==null)z=parseInt(ge[1]),ne=parseInt(ge[2]),oe=parseInt(ge[3]),ee=1;else if((ge=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(q))!==null)z=parseInt(ge[1]),ne=parseInt(ge[2]),oe=parseInt(ge[3]),ee=parseFloat(ge[4]);else{if(ee=1,typeof q=="string"&&q.charAt(0)!=="#"){var de=new dO(q);q=de.ok?de.toHex():"#000000"}q.length===4?(z=q.substring(1,2),z+=z,ne=q.substring(2,3),ne+=ne,oe=q.substring(3,4),oe+=oe):(z=q.substring(1,3),ne=q.substring(3,5),oe=q.substring(5,7)),z=parseInt(z,16),ne=parseInt(ne,16),oe=parseInt(oe,16)}}return{r:z,g:ne,b:oe,a:ee,style:q}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(q,z,ne,oe){if(isNaN(z)||isNaN(ne)||typeof q!="string")throw ti.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(oe=isNaN(oe)?void 0:oe,!g.call(this)){var ee=Z(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;D.call(this,{text:q,x:z,y:ne,scale:ge,angle:ee,align:this.textAlign,maxWidth:oe})}},m.prototype.strokeText=function(q,z,ne,oe){if(isNaN(z)||isNaN(ne)||typeof q!="string")throw ti.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){oe=isNaN(oe)?void 0:oe;var ee=Z(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;D.call(this,{text:q,x:z,y:ne,scale:ge,renderingMode:"stroke",angle:ee,align:this.textAlign,maxWidth:oe})}},m.prototype.measureText=function(q){if(typeof q!="string")throw ti.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,ne=this.pdf.internal.scaleFactor,oe=z.internal.getFontSize(),ee=z.getStringUnitWidth(q)*oe/z.internal.scaleFactor,ge=function(de){var ye=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ye}}),this};return new ge({width:ee*=Math.round(96*ne/72*1e4)/1e4})},m.prototype.scale=function(q,z){if(isNaN(q)||isNaN(z))throw ti.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ne=new u(q,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(ne)},m.prototype.rotate=function(q){if(isNaN(q))throw ti.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new u(Math.cos(q),Math.sin(q),-Math.sin(q),Math.cos(q),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},m.prototype.translate=function(q,z){if(isNaN(q)||isNaN(z))throw ti.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ne=new u(1,0,0,1,q,z);this.ctx.transform=this.ctx.transform.multiply(ne)},m.prototype.transform=function(q,z,ne,oe,ee,ge){if(isNaN(q)||isNaN(z)||isNaN(ne)||isNaN(oe)||isNaN(ee)||isNaN(ge))throw ti.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new u(q,z,ne,oe,ee,ge);this.ctx.transform=this.ctx.transform.multiply(de)},m.prototype.setTransform=function(q,z,ne,oe,ee,ge){q=isNaN(q)?1:q,z=isNaN(z)?0:z,ne=isNaN(ne)?0:ne,oe=isNaN(oe)?1:oe,ee=isNaN(ee)?0:ee,ge=isNaN(ge)?0:ge,this.ctx.transform=new u(q,z,ne,oe,ee,ge)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(q,z,ne,oe,ee,ge,de,ye,we){var ve=this.pdf.getImageProperties(q),je=1,Ee=1,Ue=1,Oe=1;oe!==void 0&&ye!==void 0&&(Ue=ye/oe,Oe=we/ee,je=ve.width/oe*ye/oe,Ee=ve.height/ee*we/ee),ge===void 0&&(ge=z,de=ne,z=0,ne=0),oe!==void 0&&ye===void 0&&(ye=oe,we=ee),oe===void 0&&ye===void 0&&(ye=ve.width,we=ve.height);for(var pe,tt=this.ctx.transform.decompose(),dt=Z(tt.rotate.shx),lt=new u,Ze=(lt=(lt=(lt=lt.multiply(tt.translate)).multiply(tt.skew)).multiply(tt.scale)).applyToRectangle(new l(ge-z*Ue,de-ne*Oe,oe*je,ee*Ee)),ut=C.call(this,Ze),wt=[],Et=0;Et<ut.length;Et+=1)wt.indexOf(ut[Et])===-1&&wt.push(ut[Et]);if(N(wt),this.autoPaging)for(var Ot=wt[0],qt=wt[wt.length-1],Qe=Ot;Qe<qt+1;Qe++){this.pdf.setPage(Qe);var Se=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],De=Qe===1?this.posY+this.margin[0]:this.margin[0],ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ke=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],He=Qe===1?0:ke+(Qe-2)*Ke;if(this.ctx.clip_path.length!==0){var Nt=this.path;pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(pe,this.posX+this.margin[3],-He+De+this.ctx.prevPageLastElemOffset),U.call(this,"fill",!0),this.path=Nt}var It=JSON.parse(JSON.stringify(Ze));It=A([It],this.posX+this.margin[3],-He+De+this.ctx.prevPageLastElemOffset)[0];var Ft=(Qe>Ot||Qe<qt)&&x.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Se,Ke,null).clip().discardPath()),this.pdf.addImage(q,"JPEG",It.x,It.y,It.w,It.h,null,null,dt),Ft&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(q,"JPEG",Ze.x,Ze.y,Ze.w,Ze.h,null,null,dt)};var C=function(q,z,ne){var oe=[];z=z||this.pdf.internal.pageSize.width,ne=ne||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ee=this.posY+this.ctx.prevPageLastElemOffset;switch(q.type){default:case"mt":case"lt":oe.push(Math.floor((q.y+ee)/ne)+1);break;case"arc":oe.push(Math.floor((q.y+ee-q.radius)/ne)+1),oe.push(Math.floor((q.y+ee+q.radius)/ne)+1);break;case"qct":var ge=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,q.x1,q.y1,q.x,q.y);oe.push(Math.floor((ge.y+ee)/ne)+1),oe.push(Math.floor((ge.y+ge.h+ee)/ne)+1);break;case"bct":var de=H(this.ctx.lastPoint.x,this.ctx.lastPoint.y,q.x1,q.y1,q.x2,q.y2,q.x,q.y);oe.push(Math.floor((de.y+ee)/ne)+1),oe.push(Math.floor((de.y+de.h+ee)/ne)+1);break;case"rect":oe.push(Math.floor((q.y+ee)/ne)+1),oe.push(Math.floor((q.y+q.h+ee)/ne)+1)}for(var ye=0;ye<oe.length;ye+=1)for(;this.pdf.internal.getNumberOfPages()<oe[ye];)S.call(this);return oe},S=function(){var q=this.fillStyle,z=this.strokeStyle,ne=this.font,oe=this.lineCap,ee=this.lineWidth,ge=this.lineJoin;this.pdf.addPage(),this.fillStyle=q,this.strokeStyle=z,this.font=ne,this.lineCap=oe,this.lineWidth=ee,this.lineJoin=ge},A=function(q,z,ne){for(var oe=0;oe<q.length;oe++)switch(q[oe].type){case"bct":q[oe].x2+=z,q[oe].y2+=ne;case"qct":q[oe].x1+=z,q[oe].y1+=ne;case"mt":case"lt":case"arc":default:q[oe].x+=z,q[oe].y+=ne}return q},N=function(q){return q.sort(function(z,ne){return z-ne})},P=function(q,z){for(var ne,oe,ee=this.fillStyle,ge=this.strokeStyle,de=this.lineCap,ye=this.lineWidth,we=Math.abs(ye*this.ctx.transform.scaleX),ve=this.lineJoin,je=JSON.parse(JSON.stringify(this.path)),Ee=JSON.parse(JSON.stringify(this.path)),Ue=[],Oe=0;Oe<Ee.length;Oe++)if(Ee[Oe].x!==void 0)for(var pe=C.call(this,Ee[Oe]),tt=0;tt<pe.length;tt+=1)Ue.indexOf(pe[tt])===-1&&Ue.push(pe[tt]);for(var dt=0;dt<Ue.length;dt++)for(;this.pdf.internal.getNumberOfPages()<Ue[dt];)S.call(this);if(N(Ue),this.autoPaging)for(var lt=Ue[0],Ze=Ue[Ue.length-1],ut=lt;ut<Ze+1;ut++){this.pdf.setPage(ut),this.fillStyle=ee,this.strokeStyle=ge,this.lineCap=de,this.lineWidth=we,this.lineJoin=ve;var wt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Et=ut===1?this.posY+this.margin[0]:this.margin[0],Ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Qe=ut===1?0:Ot+(ut-2)*qt;if(this.ctx.clip_path.length!==0){var Se=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(ne,this.posX+this.margin[3],-Qe+Et+this.ctx.prevPageLastElemOffset),U.call(this,q,!0),this.path=Se}if(oe=JSON.parse(JSON.stringify(je)),this.path=A(oe,this.posX+this.margin[3],-Qe+Et+this.ctx.prevPageLastElemOffset),z===!1||ut===0){var De=(ut>lt||ut<Ze)&&x.call(this);De&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],wt,qt,null).clip().discardPath()),U.call(this,q,z),De&&this.pdf.restoreGraphicsState()}this.lineWidth=ye}else this.lineWidth=we,U.call(this,q,z),this.lineWidth=ye;this.path=je},U=function(q,z){if((q!=="stroke"||z||!v.call(this))&&(q==="stroke"||z||!g.call(this))){for(var ne,oe,ee=[],ge=this.path,de=0;de<ge.length;de++){var ye=ge[de];switch(ye.type){case"begin":ee.push({begin:!0});break;case"close":ee.push({close:!0});break;case"mt":ee.push({start:ye,deltas:[],abs:[]});break;case"lt":var we=ee.length;if(ge[de-1]&&!isNaN(ge[de-1].x)&&(ne=[ye.x-ge[de-1].x,ye.y-ge[de-1].y],we>0)){for(;we>=0;we--)if(ee[we-1].close!==!0&&ee[we-1].begin!==!0){ee[we-1].deltas.push(ne),ee[we-1].abs.push(ye);break}}break;case"bct":ne=[ye.x1-ge[de-1].x,ye.y1-ge[de-1].y,ye.x2-ge[de-1].x,ye.y2-ge[de-1].y,ye.x-ge[de-1].x,ye.y-ge[de-1].y],ee[ee.length-1].deltas.push(ne);break;case"qct":var ve=ge[de-1].x+2/3*(ye.x1-ge[de-1].x),je=ge[de-1].y+2/3*(ye.y1-ge[de-1].y),Ee=ye.x+2/3*(ye.x1-ye.x),Ue=ye.y+2/3*(ye.y1-ye.y),Oe=ye.x,pe=ye.y;ne=[ve-ge[de-1].x,je-ge[de-1].y,Ee-ge[de-1].x,Ue-ge[de-1].y,Oe-ge[de-1].x,pe-ge[de-1].y],ee[ee.length-1].deltas.push(ne);break;case"arc":ee.push({deltas:[],abs:[],arc:!0}),Array.isArray(ee[ee.length-1].abs)&&ee[ee.length-1].abs.push(ye)}}oe=z?null:q==="stroke"?"stroke":"fill";for(var tt=!1,dt=0;dt<ee.length;dt++)if(ee[dt].arc)for(var lt=ee[dt].abs,Ze=0;Ze<lt.length;Ze++){var ut=lt[Ze];ut.type==="arc"?F.call(this,ut.x,ut.y,ut.radius,ut.startAngle,ut.endAngle,ut.counterclockwise,void 0,z,!tt):O.call(this,ut.x,ut.y),tt=!0}else if(ee[dt].close===!0)this.pdf.internal.out("h"),tt=!1;else if(ee[dt].begin!==!0){var wt=ee[dt].start.x,Et=ee[dt].start.y;L.call(this,ee[dt].deltas,wt,Et),tt=!0}oe&&V.call(this,oe),z&&X.call(this)}},B=function(q){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ne=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return q-ne;case"top":return q+z-ne;case"hanging":return q+z-2*ne;case"middle":return q+z/2-ne;case"ideographic":return q;case"alphabetic":default:return q}},j=function(q){return q+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var q=function(){};return q.colorStops=[],q.addColorStop=function(z,ne){this.colorStops.push([z,ne])},q.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},q.isCanvasGradient=!0,q},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var F=function(q,z,ne,oe,ee,ge,de,ye,we){for(var ve=$.call(this,ne,oe,ee,ge),je=0;je<ve.length;je++){var Ee=ve[je];je===0&&(we?T.call(this,Ee.x1+q,Ee.y1+z):O.call(this,Ee.x1+q,Ee.y1+z)),Q.call(this,q,z,Ee.x2,Ee.y2,Ee.x3,Ee.y3,Ee.x4,Ee.y4)}ye?X.call(this):V.call(this,de)},V=function(q){switch(q){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},X=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(q,z){this.pdf.internal.out(t(q)+" "+r(z)+" m")},D=function(q){var z;switch(q.align){case"right":case"end":z="right";break;case"center":z="center";break;case"left":case"start":default:z="left"}var ne=this.pdf.getTextDimensions(q.text),oe=B.call(this,q.y),ee=j.call(this,oe)-ne.h,ge=this.ctx.transform.applyToPoint(new s(q.x,oe)),de=this.ctx.transform.decompose(),ye=new u;ye=(ye=(ye=ye.multiply(de.translate)).multiply(de.skew)).multiply(de.scale);for(var we,ve,je,Ee=this.ctx.transform.applyToRectangle(new l(q.x,oe,ne.w,ne.h)),Ue=ye.applyToRectangle(new l(q.x,ee,ne.w,ne.h)),Oe=C.call(this,Ue),pe=[],tt=0;tt<Oe.length;tt+=1)pe.indexOf(Oe[tt])===-1&&pe.push(Oe[tt]);if(N(pe),this.autoPaging)for(var dt=pe[0],lt=pe[pe.length-1],Ze=dt;Ze<lt+1;Ze++){this.pdf.setPage(Ze);var ut=Ze===1?this.posY+this.margin[0]:this.margin[0],wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Et=this.pdf.internal.pageSize.height-this.margin[2],Ot=Et-this.margin[0],qt=this.pdf.internal.pageSize.width-this.margin[1],Qe=qt-this.margin[3],Se=Ze===1?0:wt+(Ze-2)*Ot;if(this.ctx.clip_path.length!==0){var De=this.path;we=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(we,this.posX+this.margin[3],-1*Se+ut),U.call(this,"fill",!0),this.path=De}var ke=A([JSON.parse(JSON.stringify(Ue))],this.posX+this.margin[3],-Se+ut+this.ctx.prevPageLastElemOffset)[0];q.scale>=.01&&(ve=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ve*q.scale),je=this.lineWidth,this.lineWidth=je*q.scale);var Ke=this.autoPaging!=="text";if(Ke||ke.y+ke.h<=Et){if(Ke||ke.y>=ut&&ke.x<=qt){var He=Ke?q.text:this.pdf.splitTextToSize(q.text,q.maxWidth||qt-ke.x)[0],Nt=A([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-Se+ut+this.ctx.prevPageLastElemOffset)[0],It=Ke&&(Ze>dt||Ze<lt)&&x.call(this);It&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qe,Ot,null).clip().discardPath()),this.pdf.text(He,Nt.x,Nt.y,{angle:q.angle,align:z,renderingMode:q.renderingMode}),It&&this.pdf.restoreGraphicsState()}}else ke.y<Et&&(this.ctx.prevPageLastElemOffset+=Et-ke.y);q.scale>=.01&&(this.pdf.setFontSize(ve),this.lineWidth=je)}else q.scale>=.01&&(ve=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ve*q.scale),je=this.lineWidth,this.lineWidth=je*q.scale),this.pdf.text(q.text,ge.x+this.posX,ge.y+this.posY,{angle:q.angle,align:z,renderingMode:q.renderingMode,maxWidth:q.maxWidth}),q.scale>=.01&&(this.pdf.setFontSize(ve),this.lineWidth=je)},O=function(q,z,ne,oe){ne=ne||0,oe=oe||0,this.pdf.internal.out(t(q+ne)+" "+r(z+oe)+" l")},L=function(q,z,ne){return this.pdf.lines(q,z,ne,null,null)},Q=function(q,z,ne,oe,ee,ge,de,ye){this.pdf.internal.out([n(i(ne+q)),n(a(oe+z)),n(i(ee+q)),n(a(ge+z)),n(i(de+q)),n(a(ye+z)),"c"].join(" "))},$=function(q,z,ne,oe){for(var ee=2*Math.PI,ge=Math.PI/2;z>ne;)z-=ee;var de=Math.abs(ne-z);de<ee&&oe&&(de=ee-de);for(var ye=[],we=oe?-1:1,ve=z;de>1e-5;){var je=ve+we*Math.min(de,ge);ye.push(Y.call(this,q,ve,je)),de-=Math.abs(je-ve),ve=je}return ye},Y=function(q,z,ne){var oe=(ne-z)/2,ee=q*Math.cos(oe),ge=q*Math.sin(oe),de=ee,ye=-ge,we=de*de+ye*ye,ve=we+de*ee+ye*ge,je=4/3*(Math.sqrt(2*we*ve)-ve)/(de*ge-ye*ee),Ee=de-je*ye,Ue=ye+je*de,Oe=Ee,pe=-Ue,tt=oe+z,dt=Math.cos(tt),lt=Math.sin(tt);return{x1:q*Math.cos(z),y1:q*Math.sin(z),x2:Ee*dt-Ue*lt,y2:Ee*lt+Ue*dt,x3:Oe*dt-pe*lt,y3:Oe*lt+pe*dt,x4:q*Math.cos(ne),y4:q*Math.sin(ne)}},Z=function(q){return 180*q/Math.PI},re=function(q,z,ne,oe,ee,ge){var de=q+.5*(ne-q),ye=z+.5*(oe-z),we=ee+.5*(ne-ee),ve=ge+.5*(oe-ge),je=Math.min(q,ee,de,we),Ee=Math.max(q,ee,de,we),Ue=Math.min(z,ge,ye,ve),Oe=Math.max(z,ge,ye,ve);return new l(je,Ue,Ee-je,Oe-Ue)},H=function(q,z,ne,oe,ee,ge,de,ye){var we,ve,je,Ee,Ue,Oe,pe,tt,dt,lt,Ze,ut,wt,Et,Ot=ne-q,qt=oe-z,Qe=ee-ne,Se=ge-oe,De=de-ee,ke=ye-ge;for(ve=0;ve<41;ve++)dt=(pe=(je=q+(we=ve/40)*Ot)+we*((Ue=ne+we*Qe)-je))+we*(Ue+we*(ee+we*De-Ue)-pe),lt=(tt=(Ee=z+we*qt)+we*((Oe=oe+we*Se)-Ee))+we*(Oe+we*(ge+we*ke-Oe)-tt),ve==0?(Ze=dt,ut=lt,wt=dt,Et=lt):(Ze=Math.min(Ze,dt),ut=Math.min(ut,lt),wt=Math.max(wt,dt),Et=Math.max(Et,lt));return new l(Math.round(Ze),Math.round(ut),Math.round(wt-Ze),Math.round(Et-ut))},me=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var q,z,ne=(q=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:q,lineDashOffset:z}));this.prevLineDash!==ne&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ne)}}})(pn.API),function(e){var n=function(a){var s,l,u,f,h,m,b,g,v,x;for(l=[],u=0,f=(a+=s="\0\0\0\0".slice(a.length%4||4)).length;f>u;u+=4)(h=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(m=(h=((h=((h=((h=(h-(x=h%85))/85)-(v=h%85))/85)-(g=h%85))/85)-(b=h%85))/85)%85,l.push(m+33,b+33,g+33,v+33,x+33)):l.push(122);return function(C,S){for(var A=S;A>0;A--)C.pop()}(l,s.length),String.fromCharCode.apply(String,l)+"~>"},t=function(a){var s,l,u,f,h,m=String,b="length",g=255,v="charCodeAt",x="slice",C="replace";for(a[x](-2),a=a[x](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),u=[],f=0,h=(a+=s="uuuuu"[x](a[b]%5||5))[b];h>f;f+=5)l=52200625*(a[v](f)-33)+614125*(a[v](f+1)-33)+7225*(a[v](f+2)-33)+85*(a[v](f+3)-33)+(a[v](f+4)-33),u.push(g&l>>24,g&l>>16,g&l>>8,g&l);return function(S,A){for(var N=A;N>0;N--)S.pop()}(u,s[b]),m.fromCharCode.apply(m,u)},r=function(a){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),s.test(a)===!1)return"";for(var l="",u=0;u<a.length;u+=2)l+=String.fromCharCode("0x"+(a[u]+a[u+1]));return l},i=function(a){for(var s=new Uint8Array(a.length),l=a.length;l--;)s[l]=a.charCodeAt(l);return a=(s=S6(s)).reduce(function(u,f){return u+String.fromCharCode(f)},"")};e.processDataByFilters=function(a,s){var l=0,u=a||"",f=[];for(typeof(s=s||[])=="string"&&(s=[s]),l=0;l<s.length;l+=1)switch(s[l]){case"ASCII85Decode":case"/ASCII85Decode":u=t(u),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=n(u),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=r(u),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[l]+'" is not implemented')}return{data:u,reverseChain:f.reverse().join(" ")}}}(pn.API),function(e){e.loadFile=function(n,t,r){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var l=void 0;try{l=function(u,f,h){var m=new XMLHttpRequest,b=0,g=function(v){var x=v.length,C=[],S=String.fromCharCode;for(b=0;b<x;b+=1)C.push(S(255&v.charCodeAt(b)));return C.join("")};if(m.open("GET",u,!f),m.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(m.onload=function(){m.status===200?h(g(this.responseText)):h(void 0)}),m.send(null),f&&m.status===200)return g(m.responseText)}(i,a,s)}catch{}return l}(n,t,r)},e.loadImageFile=e.loadFile}(pn.API),function(e){function n(){return(yn.html2canvas?Promise.resolve(yn.html2canvas):Ti(()=>import("./html2canvas.esm-DadlvMMh.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function t(){return(yn.DOMPurify?Promise.resolve(yn.DOMPurify):Ti(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var r=function(s){var l=ai(s);return l==="undefined"?"undefined":l==="string"||s instanceof String?"string":l==="number"||s instanceof Number?"number":l==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(s,l){var u=document.createElement(s);for(var f in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[f]=l.style[f];return u},a=function s(l){var u=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),f=s.convert(Promise.resolve(),u);return f=(f=f.setProgress(1,s,1,[s])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(s,l){return s.__proto__=l||a.prototype,s},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(s,l){return this.then(function(){switch(l=l||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(t).then(function(u){return this.set({src:i("div",{innerHTML:s,dompurify:u})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},a.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function u(f,h){for(var m=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),b=f.firstChild;b;b=b.nextSibling)h!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||m.appendChild(u(b,h));return f.nodeType===1&&(f.nodeName==="CANVAS"?(m.width=f.width,m.height=f.height,m.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(m.value=f.value),m.addEventListener("load",function(){m.scrollTop=f.scrollTop,m.scrollLeft=f.scrollLeft},!0)),m}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(n).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(n).then(function(l){var u=this.opt.jsPDF,f=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=f,f)for(var b=0;b<f.length;++b){var g=f[b],v=g.src.find(function(x){return x.format==="truetype"});v&&u.addFont(v.url,g.ref.name,g.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,u.context2d.save(!0),l(this.prop.container,m)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(s,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(s,l):this.outputPdf(s,l)},a.prototype.outputPdf=function(s,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,l)})},a.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},a.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(s){if(r(s)!=="object")return this;var l=Object.keys(s||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=s[u]};switch(u){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[u]=s[u]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(s,l){return this.then(function(){var u=s in a.template.prop?this.prop[s]:this.opt[s];return l?l(u):u})},a.prototype.setMargin=function(s){return this.then(function(){switch(r(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},a.prototype.setPageSize=function(s){function l(u,f){return Math.floor(u*f/72*96)}return this.then(function(){(s=s||pn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:l(s.inner.width,s.k),height:l(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},a.prototype.setProgress=function(s,l,u,f){return s!=null&&(this.progress.val=s),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(s,l,u,f){return this.setProgress(s?this.progress.val+s:null,l||null,u?this.progress.n+u:null,f?this.progress.stack.concat(f):null)},a.prototype.then=function(s,l){var u=this;return this.thenCore(s,l,function(f,h){return u.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(m){return u.updateProgress(null,f),m}).then(f,h).then(function(m){return u.updateProgress(1),m})})},a.prototype.thenCore=function(s,l,u){u=u||Promise.prototype.then,s&&(s=s.bind(this)),l&&(l=l.bind(this));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),h=u.call(f,s,l);return a.convert(h,this.__proto__)},a.prototype.thenExternal=function(s,l){return Promise.prototype.then.call(this,s,l)},a.prototype.thenList=function(s){var l=this;return s.forEach(function(u){l=l.thenCore(u)}),l},a.prototype.catch=function(s){s&&(s=s.bind(this));var l=Promise.prototype.catch.call(this,s);return a.convert(l,this)},a.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},a.prototype.error=function(s){return this.then(function(){throw new Error(s)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,pn.getPageSize=function(s,l,u){if(ai(s)==="object"){var f=s;s=f.orientation,l=f.unit||l,u=f.format||u}l=l||"mm",u=u||"a4",s=(""+(s||"P")).toLowerCase();var h,m=(""+u).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var g,v=0,x=0;if(b.hasOwnProperty(m))v=b[m][1]/h,x=b[m][0]/h;else try{v=u[1],x=u[0]}catch{throw new Error("Invalid format: "+u)}if(s==="p"||s==="portrait")s="p",x>v&&(g=x,x=v,v=g);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",v>x&&(g=x,x=v,v=g)}return{width:x,height:v,unit:l,k:h,orientation:s}},e.html=function(s,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(T6):null;var u=new a(l);return l.worker?u:u.from(s).doCallback()}}(pn.API),pn.API.addJS=function(e){return $j=e,this.internal.events.subscribe("postPutResources",function(){bx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(bx+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Bj=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+$j+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){bx!==void 0&&Bj!==void 0&&this.internal.out("/Names <</JavaScript "+bx+" 0 R>>")}),this},function(e){var n;e.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],l=r.exec(s);if(l!=null){var u=l[1];t.internal.newObjectDeferredBegin(u,!1)}t.internal.write(s)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,h=[];for(a=0;a<f;a++){var m=t.internal.newObject();h.push(m);var b=t.internal.getPageInfo(a+1);t.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var g=t.internal.newObject();for(t.internal.write("<< /Names [ "),a=0;a<h.length;a++)t.internal.write("(page_"+(a+1)+")"+h[a]+" 0 R");t.internal.write(" ] >>","endobj"),n=t.internal.newObject(),t.internal.write("<< /Dests "+g+" 0 R"),t.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+n+" 0 R"))}]),e.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,a){var s={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(s),s},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var s=r.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var l=this.count=this.count_r({count:0},s);if(l>0&&this.line("/Count "+l),s.options&&s.options.pageNumber){var u=t.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<r.children.length;f++)this.renderItems(r.children[f])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(pn.API),function(e){var n=[192,193,194,195,196,197,198,199];e.processJPEG=function(t,r,i,a,s,l){var u,f=this.decode.DCT_DECODE,h=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=s||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(u=function(m){for(var b,g=256*m.charCodeAt(4)+m.charCodeAt(5),v=m.length,x={width:0,height:0,numcomponents:1},C=4;C<v;C+=2){if(C+=g,n.indexOf(m.charCodeAt(C+1))!==-1){b=256*m.charCodeAt(C+5)+m.charCodeAt(C+6),x={width:256*m.charCodeAt(C+7)+m.charCodeAt(C+8),height:b,numcomponents:m.charCodeAt(C+9)};break}g=256*m.charCodeAt(C+2)+m.charCodeAt(C+3)}return x}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}h={data:t,width:u.width,height:u.height,colorSpace:l,bitsPerComponent:8,filter:f,index:r,alias:i}}return h}}(pn.API);var w0,yx,Uj,Hj,Vj,nZ=function(){var e,n,t;function r(a){var s,l,u,f,h,m,b,g,v,x,C,S,A,N;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},m=null;;){switch(s=this.readUInt32(),v=(function(){var P,U;for(U=[],P=0;P<4;++P)U.push(String.fromCharCode(this.data[this.pos++]));return U}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":m&&this.animation.frames.push(m),this.pos+=4,m={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),f=this.readUInt16()||100,m.delay=1e3*h/f,m.disposeOp=this.data[this.pos++],m.blendOp=this.data[this.pos++],m.data=[];break;case"IDAT":case"fdAT":for(v==="fdAT"&&(this.pos+=4,s-=4),a=(m!=null?m.data:void 0)||this.imgData,S=0;0<=s?S<s:S>s;0<=s?++S:--S)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((x=u-this.transparency.indexed.length)>0)for(A=0;0<=x?A<x:A>x;0<=x?++A:--A)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":b=(C=this.read(s)).indexOf(0),g=String.fromCharCode.apply(String,C.slice(0,b)),this.text[g]=String.fromCharCode.apply(String,C.slice(b+1));break;case"IEND":return m&&this.animation.frames.push(m),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(N=this.colorType)===4||N===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var s,l;for(l=[],s=0;0<=a?s<a:s>a;0<=a?++s:--s)l.push(this.data[this.pos++]);return l},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var s=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*s),u=0,f=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function h(m,b,g,v){var x,C,S,A,N,P,U,B,j,F,V,X,T,D,O,L,Q,$,Y,Z,re,H=Math.ceil((f.width-m)/g),me=Math.ceil((f.height-b)/v),q=f.width==H&&f.height==me;for(D=s*H,X=q?l:new Uint8Array(D*me),P=a.length,T=0,C=0;T<me&&u<P;){switch(a[u++]){case 0:for(A=Q=0;Q<D;A=Q+=1)X[C++]=a[u++];break;case 1:for(A=$=0;$<D;A=$+=1)x=a[u++],N=A<s?0:X[C-s],X[C++]=(x+N)%256;break;case 2:for(A=Y=0;Y<D;A=Y+=1)x=a[u++],S=(A-A%s)/s,O=T&&X[(T-1)*D+S*s+A%s],X[C++]=(O+x)%256;break;case 3:for(A=Z=0;Z<D;A=Z+=1)x=a[u++],S=(A-A%s)/s,N=A<s?0:X[C-s],O=T&&X[(T-1)*D+S*s+A%s],X[C++]=(x+Math.floor((N+O)/2))%256;break;case 4:for(A=re=0;re<D;A=re+=1)x=a[u++],S=(A-A%s)/s,N=A<s?0:X[C-s],T===0?O=L=0:(O=X[(T-1)*D+S*s+A%s],L=S&&X[(T-1)*D+(S-1)*s+A%s]),U=N+O-L,B=Math.abs(U-N),F=Math.abs(U-O),V=Math.abs(U-L),j=B<=F&&B<=V?N:F<=V?O:L,X[C++]=(x+j)%256;break;default:throw new Error("Invalid filter algorithm: "+a[u-1])}if(!q){var z=((b+T*v)*f.width+m)*s,ne=T*D;for(A=0;A<H;A+=1){for(var oe=0;oe<s;oe+=1)l[z++]=X[ne++];z+=(g-1)*s}}T++}}return a=MX(a),f.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),l},r.prototype.decodePalette=function(){var a,s,l,u,f,h,m,b,g;for(l=this.palette,h=this.transparency.indexed||[],f=new Uint8Array((h.length||0)+l.length),u=0,a=0,s=m=0,b=l.length;m<b;s=m+=3)f[u++]=l[s],f[u++]=l[s+1],f[u++]=l[s+2],f[u++]=(g=h[a++])!=null?g:255;return f},r.prototype.copyToImageData=function(a,s){var l,u,f,h,m,b,g,v,x,C,S;if(u=this.colors,x=null,l=this.hasAlphaChannel,this.palette.length&&(x=(S=this._decodedPalette)!=null?S:this._decodedPalette=this.decodePalette(),u=4,l=!0),v=(f=a.data||a).length,m=x||s,h=b=0,u===1)for(;h<v;)g=x?4*s[h/4]:b,C=m[g++],f[h++]=C,f[h++]=C,f[h++]=C,f[h++]=l?m[g++]:255,b=g;else for(;h<v;)g=x?4*s[h/4]:b,f[h++]=m[g++],f[h++]=m[g++],f[h++]=m[g++],f[h++]=l?m[g++]:255,b=g},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(yn)==="[object Window]"){try{n=yn.document.createElement("canvas"),t=n.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(a){var s;if(i()===!0)return t.width=a.width,t.height=a.height,t.clearRect(0,0,a.width,a.height),t.putImageData(a,0,0),(s=new Image).src=n.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var s,l,u,f,h,m,b,g;if(this.animation){for(g=[],l=h=0,m=(b=this.animation.frames).length;h<m;l=++h)s=b[l],u=a.createImageData(s.width,s.height),f=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(u,f),s.imageData=u,g.push(s.image=e(u));return g}},r.prototype.renderFrame=function(a,s){var l,u,f;return l=(u=this.animation.frames)[s],f=u[s-1],s===0&&a.clearRect(0,0,this.width,this.height),(f!=null?f.disposeOp:void 0)===1?a.clearRect(f.xOffset,f.yOffset,f.width,f.height):(f!=null?f.disposeOp:void 0)===2&&a.putImageData(f.imageData,f.xOffset,f.yOffset),l.blendOp===0&&a.clearRect(l.xOffset,l.yOffset,l.width,l.height),a.drawImage(l.image,l.xOffset,l.yOffset)},r.prototype.animate=function(a){var s,l,u,f,h,m,b=this;return l=0,m=this.animation,f=m.numFrames,u=m.frames,h=m.numPlays,(s=function(){var g,v;if(g=l++%f,v=u[g],b.renderFrame(a,g),f>1&&l/f<h)return b.animation._timeout=setTimeout(s,v.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var s,l;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,s=a.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(l=s.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),s.putImageData(l,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function rZ(e){var n=0;if(e[n++]!==71||e[n++]!==73||e[n++]!==70||e[n++]!==56||(e[n++]+1&253)!=56||e[n++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=e[n++]|e[n++]<<8,r=e[n++]|e[n++]<<8,i=e[n++],a=i>>7,s=1<<(7&i)+1;e[n++],e[n++];var l=null,u=null;a&&(l=n,u=s,n+=3*s);var f=!0,h=[],m=0,b=null,g=0,v=null;for(this.width=t,this.height=r;f&&n<e.length;)switch(e[n++]){case 33:switch(e[n++]){case 255:if(e[n]!==11||e[n+1]==78&&e[n+2]==69&&e[n+3]==84&&e[n+4]==83&&e[n+5]==67&&e[n+6]==65&&e[n+7]==80&&e[n+8]==69&&e[n+9]==50&&e[n+10]==46&&e[n+11]==48&&e[n+12]==3&&e[n+13]==1&&e[n+16]==0)n+=14,v=e[n++]|e[n++]<<8,n++;else for(n+=12;;){if(!((T=e[n++])>=0))throw Error("Invalid block size");if(T===0)break;n+=T}break;case 249:if(e[n++]!==4||e[n+4]!==0)throw new Error("Invalid graphics extension block.");var x=e[n++];m=e[n++]|e[n++]<<8,b=e[n++],(1&x)==0&&(b=null),g=x>>2&7,n++;break;case 254:for(;;){if(!((T=e[n++])>=0))throw Error("Invalid block size");if(T===0)break;n+=T}break;default:throw new Error("Unknown graphic control label: 0x"+e[n-1].toString(16))}break;case 44:var C=e[n++]|e[n++]<<8,S=e[n++]|e[n++]<<8,A=e[n++]|e[n++]<<8,N=e[n++]|e[n++]<<8,P=e[n++],U=P>>6&1,B=1<<(7&P)+1,j=l,F=u,V=!1;P>>7&&(V=!0,j=n,F=B,n+=3*B);var X=n;for(n++;;){var T;if(!((T=e[n++])>=0))throw Error("Invalid block size");if(T===0)break;n+=T}h.push({x:C,y:S,width:A,height:N,has_local_palette:V,palette_offset:j,palette_size:F,data_offset:X,data_length:n-X,transparent_index:b,interlaced:!!U,delay:m,disposal:g});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+e[n-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return v},this.frameInfo=function(D){if(D<0||D>=h.length)throw new Error("Frame index out of range.");return h[D]},this.decodeAndBlitFrameBGRA=function(D,O){var L=this.frameInfo(D),Q=L.width*L.height,$=new Uint8Array(Q);Wj(e,L.data_offset,$,Q);var Y=L.palette_offset,Z=L.transparent_index;Z===null&&(Z=256);var re=L.width,H=t-re,me=re,q=4*(L.y*t+L.x),z=4*((L.y+L.height)*t+L.x),ne=q,oe=4*H;L.interlaced===!0&&(oe+=4*t*7);for(var ee=8,ge=0,de=$.length;ge<de;++ge){var ye=$[ge];if(me===0&&(me=re,(ne+=oe)>=z&&(oe=4*H+4*t*(ee-1),ne=q+(re+H)*(ee<<1),ee>>=1)),ye===Z)ne+=4;else{var we=e[Y+3*ye],ve=e[Y+3*ye+1],je=e[Y+3*ye+2];O[ne++]=je,O[ne++]=ve,O[ne++]=we,O[ne++]=255}--me}},this.decodeAndBlitFrameRGBA=function(D,O){var L=this.frameInfo(D),Q=L.width*L.height,$=new Uint8Array(Q);Wj(e,L.data_offset,$,Q);var Y=L.palette_offset,Z=L.transparent_index;Z===null&&(Z=256);var re=L.width,H=t-re,me=re,q=4*(L.y*t+L.x),z=4*((L.y+L.height)*t+L.x),ne=q,oe=4*H;L.interlaced===!0&&(oe+=4*t*7);for(var ee=8,ge=0,de=$.length;ge<de;++ge){var ye=$[ge];if(me===0&&(me=re,(ne+=oe)>=z&&(oe=4*H+4*t*(ee-1),ne=q+(re+H)*(ee<<1),ee>>=1)),ye===Z)ne+=4;else{var we=e[Y+3*ye],ve=e[Y+3*ye+1],je=e[Y+3*ye+2];O[ne++]=we,O[ne++]=ve,O[ne++]=je,O[ne++]=255}--me}}}function Wj(e,n,t,r){for(var i=e[n++],a=1<<i,s=a+1,l=s+1,u=i+1,f=(1<<u)-1,h=0,m=0,b=0,g=e[n++],v=new Int32Array(4096),x=null;;){for(;h<16&&g!==0;)m|=e[n++]<<h,h+=8,g===1?g=e[n++]:--g;if(h<u)break;var C=m&f;if(m>>=u,h-=u,C!==a){if(C===s)break;for(var S=C<l?C:x,A=0,N=S;N>a;)N=v[N]>>8,++A;var P=N;if(b+A+(S!==C?1:0)>r)return void ti.log("Warning, gif stream longer than expected.");t[b++]=P;var U=b+=A;for(S!==C&&(t[b++]=P),N=S;A--;)N=v[N],t[--U]=255&N,N>>=8;x!==null&&l<4096&&(v[l++]=x<<8|P,l>=f+1&&u<12&&(++u,f=f<<1|1)),x=C}else l=s+1,f=(1<<(u=i+1))-1,x=null}return b!==r&&ti.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function tS(e){var n,t,r,i,a,s=Math.floor,l=new Array(64),u=new Array(64),f=new Array(64),h=new Array(64),m=new Array(65535),b=new Array(65535),g=new Array(64),v=new Array(64),x=[],C=0,S=7,A=new Array(64),N=new Array(64),P=new Array(64),U=new Array(256),B=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],F=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function $(q,z){for(var ne=0,oe=0,ee=new Array,ge=1;ge<=16;ge++){for(var de=1;de<=q[ge];de++)ee[z[oe]]=[],ee[z[oe]][0]=ne,ee[z[oe]][1]=ge,oe++,ne++;ne*=2}return ee}function Y(q){for(var z=q[0],ne=q[1]-1;ne>=0;)z&1<<ne&&(C|=1<<S),ne--,--S<0&&(C==255?(Z(255),Z(0)):Z(C),S=7,C=0)}function Z(q){x.push(q)}function re(q){Z(q>>8&255),Z(255&q)}function H(q,z,ne,oe,ee){for(var ge,de=ee[0],ye=ee[240],we=function(lt,Ze){var ut,wt,Et,Ot,qt,Qe,Se,De,ke,Ke,He=0;for(ke=0;ke<8;++ke){ut=lt[He],wt=lt[He+1],Et=lt[He+2],Ot=lt[He+3],qt=lt[He+4],Qe=lt[He+5],Se=lt[He+6];var Nt=ut+(De=lt[He+7]),It=ut-De,Ft=wt+Se,jt=wt-Se,nn=Et+Qe,Tt=Et-Qe,Ht=Ot+qt,un=Ot-qt,vn=Nt+Ht,Er=Nt-Ht,Hn=Ft+nn,Xn=Ft-nn;lt[He]=vn+Hn,lt[He+4]=vn-Hn;var Xt=.707106781*(Xn+Er);lt[He+2]=Er+Xt,lt[He+6]=Er-Xt;var _n=.382683433*((vn=un+Tt)-(Xn=jt+It)),fa=.5411961*vn+_n,cn=1.306562965*Xn+_n,Vn=.707106781*(Hn=Tt+jt),Oi=It+Vn,zt=It-Vn;lt[He+5]=zt+fa,lt[He+3]=zt-fa,lt[He+1]=Oi+cn,lt[He+7]=Oi-cn,He+=8}for(He=0,ke=0;ke<8;++ke){ut=lt[He],wt=lt[He+8],Et=lt[He+16],Ot=lt[He+24],qt=lt[He+32],Qe=lt[He+40],Se=lt[He+48];var Zn=ut+(De=lt[He+56]),dr=ut-De,$r=wt+Se,gr=wt-Se,br=Et+Qe,Qn=Et-Qe,js=Ot+qt,Or=Ot-qt,Ha=Zn+js,Ki=Zn-js,Xi=$r+br,ar=$r-br;lt[He]=Ha+Xi,lt[He+32]=Ha-Xi;var Mi=.707106781*(ar+Ki);lt[He+16]=Ki+Mi,lt[He+48]=Ki-Mi;var sr=.382683433*((Ha=Or+Qn)-(ar=gr+dr)),co=.5411961*Ha+sr,Io=1.306562965*ar+sr,Qa=.707106781*(Xi=Qn+gr),Ur=dr+Qa,dl=dr-Qa;lt[He+40]=dl+co,lt[He+24]=dl-co,lt[He+8]=Ur+Io,lt[He+56]=Ur-Io,He++}for(ke=0;ke<64;++ke)Ke=lt[ke]*Ze[ke],g[ke]=Ke>0?Ke+.5|0:Ke-.5|0;return g}(q,z),ve=0;ve<64;++ve)v[j[ve]]=we[ve];var je=v[0]-ne;ne=v[0],je==0?Y(oe[0]):(Y(oe[b[ge=32767+je]]),Y(m[ge]));for(var Ee=63;Ee>0&&v[Ee]==0;)Ee--;if(Ee==0)return Y(de),ne;for(var Ue,Oe=1;Oe<=Ee;){for(var pe=Oe;v[Oe]==0&&Oe<=Ee;)++Oe;var tt=Oe-pe;if(tt>=16){Ue=tt>>4;for(var dt=1;dt<=Ue;++dt)Y(ye);tt&=15}ge=32767+v[Oe],Y(ee[(tt<<4)+b[ge]]),Y(m[ge]),Oe++}return Ee!=63&&Y(de),ne}function me(q){q=Math.min(Math.max(q,1),100),a!=q&&(function(z){for(var ne=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],oe=0;oe<64;oe++){var ee=s((ne[oe]*z+50)/100);ee=Math.min(Math.max(ee,1),255),l[j[oe]]=ee}for(var ge=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var ye=s((ge[de]*z+50)/100);ye=Math.min(Math.max(ye,1),255),u[j[de]]=ye}for(var we=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ve=0,je=0;je<8;je++)for(var Ee=0;Ee<8;Ee++)f[ve]=1/(l[j[ve]]*we[je]*we[Ee]*8),h[ve]=1/(u[j[ve]]*we[je]*we[Ee]*8),ve++}(q<50?Math.floor(5e3/q):Math.floor(200-2*q)),a=q)}this.encode=function(q,z){z&&me(z),x=new Array,C=0,S=7,re(65496),re(65504),re(16),Z(74),Z(70),Z(73),Z(70),Z(0),Z(1),Z(1),Z(0),re(1),re(1),Z(0),Z(0),function(){re(65499),re(132),Z(0);for(var wt=0;wt<64;wt++)Z(l[wt]);Z(1);for(var Et=0;Et<64;Et++)Z(u[Et])}(),function(wt,Et){re(65472),re(17),Z(8),re(Et),re(wt),Z(3),Z(1),Z(17),Z(0),Z(2),Z(17),Z(1),Z(3),Z(17),Z(1)}(q.width,q.height),function(){re(65476),re(418),Z(0);for(var wt=0;wt<16;wt++)Z(F[wt+1]);for(var Et=0;Et<=11;Et++)Z(V[Et]);Z(16);for(var Ot=0;Ot<16;Ot++)Z(X[Ot+1]);for(var qt=0;qt<=161;qt++)Z(T[qt]);Z(1);for(var Qe=0;Qe<16;Qe++)Z(D[Qe+1]);for(var Se=0;Se<=11;Se++)Z(O[Se]);Z(17);for(var De=0;De<16;De++)Z(L[De+1]);for(var ke=0;ke<=161;ke++)Z(Q[ke])}(),re(65498),re(12),Z(3),Z(1),Z(0),Z(2),Z(17),Z(3),Z(17),Z(0),Z(63),Z(0);var ne=0,oe=0,ee=0;C=0,S=7,this.encode.displayName="_encode_";for(var ge,de,ye,we,ve,je,Ee,Ue,Oe,pe=q.data,tt=q.width,dt=q.height,lt=4*tt,Ze=0;Ze<dt;){for(ge=0;ge<lt;){for(ve=lt*Ze+ge,Ee=-1,Ue=0,Oe=0;Oe<64;Oe++)je=ve+(Ue=Oe>>3)*lt+(Ee=4*(7&Oe)),Ze+Ue>=dt&&(je-=lt*(Ze+1+Ue-dt)),ge+Ee>=lt&&(je-=ge+Ee-lt+4),de=pe[je++],ye=pe[je++],we=pe[je++],A[Oe]=(B[de]+B[ye+256>>0]+B[we+512>>0]>>16)-128,N[Oe]=(B[de+768>>0]+B[ye+1024>>0]+B[we+1280>>0]>>16)-128,P[Oe]=(B[de+1280>>0]+B[ye+1536>>0]+B[we+1792>>0]>>16)-128;ne=H(A,f,ne,n,r),oe=H(N,h,oe,t,i),ee=H(P,h,ee,t,i),ge+=32}Ze+=8}if(S>=0){var ut=[];ut[1]=S+1,ut[0]=(1<<S+1)-1,Y(ut)}return re(65497),new Uint8Array(x)},e=e||50,function(){for(var q=String.fromCharCode,z=0;z<256;z++)U[z]=q(z)}(),n=$(F,V),t=$(D,O),r=$(X,T),i=$(L,Q),function(){for(var q=1,z=2,ne=1;ne<=15;ne++){for(var oe=q;oe<z;oe++)b[32767+oe]=ne,m[32767+oe]=[],m[32767+oe][1]=ne,m[32767+oe][0]=oe;for(var ee=-(z-1);ee<=-q;ee++)b[32767+ee]=ne,m[32767+ee]=[],m[32767+ee][1]=ne,m[32767+ee][0]=z-1+ee;q<<=1,z<<=1}}(),function(){for(var q=0;q<256;q++)B[q]=19595*q,B[q+256>>0]=38470*q,B[q+512>>0]=7471*q+32768,B[q+768>>0]=-11059*q,B[q+1024>>0]=-21709*q,B[q+1280>>0]=32768*q+8421375,B[q+1536>>0]=-27439*q,B[q+1792>>0]=-5329*q}(),me(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function wu(e,n){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!n,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Yj(e){function n(F){if(!F)throw Error("assert :P")}function t(F,V,X){for(var T=0;4>T;T++)if(F[V+T]!=X.charCodeAt(T))return!0;return!1}function r(F,V,X,T,D){for(var O=0;O<D;O++)F[V+O]=X[T+O]}function i(F,V,X,T){for(var D=0;D<T;D++)F[V+D]=X}function a(F){return new Int32Array(F)}function s(F,V){for(var X=[],T=0;T<F;T++)X.push(new V);return X}function l(F,V){var X=[];return function T(D,O,L){for(var Q=L[O],$=0;$<Q&&(D.push(L.length>O+1?[]:new V),!(L.length<O+1));$++)T(D[$],O+1,L)}(X,0,F),X}var u=function(){var F=this;function V(w,E){for(var R=1<<E-1>>>0;w&R;)R>>>=1;return R?(w&R-1)+R:w}function X(w,E,R,G,ie){n(!(G%R));do w[E+(G-=R)]=ie;while(0<G)}function T(w,E,R,G,ie){if(n(2328>=ie),512>=ie)var le=a(512);else if((le=a(ie))==null)return 0;return function(ue,ce,be,Ce,Me,Ge){var We,qe,gt=ce,rt=1<<be,Le=a(16),Fe=a(16);for(n(Me!=0),n(Ce!=null),n(ue!=null),n(0<be),qe=0;qe<Me;++qe){if(15<Ce[qe])return 0;++Le[Ce[qe]]}if(Le[0]==Me)return 0;for(Fe[1]=0,We=1;15>We;++We){if(Le[We]>1<<We)return 0;Fe[We+1]=Fe[We]+Le[We]}for(qe=0;qe<Me;++qe)We=Ce[qe],0<Ce[qe]&&(Ge[Fe[We]++]=qe);if(Fe[15]==1)return(Ce=new D).g=0,Ce.value=Ge[0],X(ue,gt,1,rt,Ce),rt;var ft,bt=-1,pt=rt-1,Lt=0,Dt=1,Jt=1,_t=1<<be;for(qe=0,We=1,Me=2;We<=be;++We,Me<<=1){if(Dt+=Jt<<=1,0>(Jt-=Le[We]))return 0;for(;0<Le[We];--Le[We])(Ce=new D).g=We,Ce.value=Ge[qe++],X(ue,gt+Lt,Me,_t,Ce),Lt=V(Lt,We)}for(We=be+1,Me=2;15>=We;++We,Me<<=1){if(Dt+=Jt<<=1,0>(Jt-=Le[We]))return 0;for(;0<Le[We];--Le[We]){if(Ce=new D,(Lt&pt)!=bt){for(gt+=_t,ft=1<<(bt=We)-be;15>bt&&!(0>=(ft-=Le[bt]));)++bt,ft<<=1;rt+=_t=1<<(ft=bt-be),ue[ce+(bt=Lt&pt)].g=ft+be,ue[ce+bt].value=gt-ce-bt}Ce.g=We-be,Ce.value=Ge[qe++],X(ue,gt+(Lt>>be),Me,_t,Ce),Lt=V(Lt,We)}}return Dt!=2*Fe[15]-1?0:rt}(w,E,R,G,ie,le)}function D(){this.value=this.g=0}function O(){this.value=this.g=0}function L(){this.G=s(5,D),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(ma,O)}function Q(w,E,R,G){n(w!=null),n(E!=null),n(2147483648>G),w.Ca=254,w.I=0,w.b=-8,w.Ka=0,w.oa=E,w.pa=R,w.Jd=E,w.Yc=R+G,w.Zc=4<=G?R+G-4+1:R,ge(w)}function $(w,E){for(var R=0;0<E--;)R|=ye(w,128)<<E;return R}function Y(w,E){var R=$(w,E);return de(w)?-R:R}function Z(w,E,R,G){var ie,le=0;for(n(w!=null),n(E!=null),n(4294967288>G),w.Sb=G,w.Ra=0,w.u=0,w.h=0,4<G&&(G=4),ie=0;ie<G;++ie)le+=E[R+ie]<<8*ie;w.Ra=le,w.bb=G,w.oa=E,w.pa=R}function re(w){for(;8<=w.u&&w.bb<w.Sb;)w.Ra>>>=8,w.Ra+=w.oa[w.pa+w.bb]<<pd-8>>>0,++w.bb,w.u-=8;ne(w)&&(w.h=1,w.u=0)}function H(w,E){if(n(0<=E),!w.h&&E<=hd){var R=z(w)&Zu[E];return w.u+=E,re(w),R}return w.h=1,w.u=0}function me(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(w){return w.Ra>>>(w.u&pd-1)>>>0}function ne(w){return n(w.bb<=w.Sb),w.h||w.bb==w.Sb&&w.u>pd}function oe(w,E){w.u=E,w.h=ne(w)}function ee(w){w.u>=hf&&(n(w.u>=hf),re(w))}function ge(w){n(w!=null&&w.oa!=null),w.pa<w.Zc?(w.I=(w.oa[w.pa++]|w.I<<8)>>>0,w.b+=8):(n(w!=null&&w.oa!=null),w.pa<w.Yc?(w.b+=8,w.I=w.oa[w.pa++]|w.I<<8):w.Ka?w.b=0:(w.I<<=8,w.b+=8,w.Ka=1))}function de(w){return $(w,1)}function ye(w,E){var R=w.Ca;0>w.b&&ge(w);var G=w.b,ie=R*E>>>8,le=(w.I>>>G>ie)+0;for(le?(R-=ie,w.I-=ie+1<<G>>>0):R=ie+1,G=R,ie=0;256<=G;)ie+=8,G>>=8;return G=7^ie+Ms[G],w.b-=G,w.Ca=(R<<G)-1,le}function we(w,E,R){w[E+0]=R>>24&255,w[E+1]=R>>16&255,w[E+2]=R>>8&255,w[E+3]=R>>0&255}function ve(w,E){return w[E+0]<<0|w[E+1]<<8}function je(w,E){return ve(w,E)|w[E+2]<<16}function Ee(w,E){return ve(w,E)|ve(w,E+2)<<16}function Ue(w,E){var R=1<<E;return n(w!=null),n(0<E),w.X=a(R),w.X==null?0:(w.Mb=32-E,w.Xa=E,1)}function Oe(w,E){n(w!=null),n(E!=null),n(w.Xa==E.Xa),r(E.X,0,w.X,0,1<<E.Xa)}function pe(){this.X=[],this.Xa=this.Mb=0}function tt(w,E,R,G){n(R!=null),n(G!=null);var ie=R[0],le=G[0];return ie==0&&(ie=(w*le+E/2)/E),le==0&&(le=(E*ie+w/2)/w),0>=ie||0>=le?0:(R[0]=ie,G[0]=le,1)}function dt(w,E){return w+(1<<E)-1>>>E}function lt(w,E){return((4278255360&w)+(4278255360&E)>>>0&4278255360)+((16711935&w)+(16711935&E)>>>0&16711935)>>>0}function Ze(w,E){F[E]=function(R,G,ie,le,ue,ce,be){var Ce;for(Ce=0;Ce<ue;++Ce){var Me=F[w](ce[be+Ce-1],ie,le+Ce);ce[be+Ce]=lt(R[G+Ce],Me)}}}function ut(){this.ud=this.hd=this.jd=0}function wt(w,E){return((4278124286&(w^E))>>>1)+(w&E)>>>0}function Et(w){return 0<=w&&256>w?w:0>w?0:255<w?255:void 0}function Ot(w,E){return Et(w+(w-E+.5>>1))}function qt(w,E,R){return Math.abs(E-R)-Math.abs(w-R)}function Qe(w,E,R,G,ie,le,ue){for(G=le[ue-1],R=0;R<ie;++R)le[ue+R]=G=lt(w[E+R],G)}function Se(w,E,R,G,ie){var le;for(le=0;le<R;++le){var ue=w[E+le],ce=ue>>8&255,be=16711935&(be=(be=16711935&ue)+((ce<<16)+ce));G[ie+le]=(4278255360&ue)+be>>>0}}function De(w,E){E.jd=w>>0&255,E.hd=w>>8&255,E.ud=w>>16&255}function ke(w,E,R,G,ie,le){var ue;for(ue=0;ue<G;++ue){var ce=E[R+ue],be=ce>>>8,Ce=ce,Me=255&(Me=(Me=ce>>>16)+((w.jd<<24>>24)*(be<<24>>24)>>>5));Ce=255&(Ce=(Ce=Ce+((w.hd<<24>>24)*(be<<24>>24)>>>5))+((w.ud<<24>>24)*(Me<<24>>24)>>>5)),ie[le+ue]=(4278255360&ce)+(Me<<16)+Ce}}function Ke(w,E,R,G,ie){F[E]=function(le,ue,ce,be,Ce,Me,Ge,We,qe){for(be=Ge;be<We;++be)for(Ge=0;Ge<qe;++Ge)Ce[Me++]=ie(ce[G(le[ue++])])},F[w]=function(le,ue,ce,be,Ce,Me,Ge){var We=8>>le.b,qe=le.Ea,gt=le.K[0],rt=le.w;if(8>We)for(le=(1<<le.b)-1,rt=(1<<We)-1;ue<ce;++ue){var Le,Fe=0;for(Le=0;Le<qe;++Le)Le&le||(Fe=G(be[Ce++])),Me[Ge++]=ie(gt[Fe&rt]),Fe>>=We}else F["VP8LMapColor"+R](be,Ce,gt,rt,Me,Ge,ue,ce,qe)}}function He(w,E,R,G,ie){for(R=E+R;E<R;){var le=w[E++];G[ie++]=le>>16&255,G[ie++]=le>>8&255,G[ie++]=le>>0&255}}function Nt(w,E,R,G,ie){for(R=E+R;E<R;){var le=w[E++];G[ie++]=le>>16&255,G[ie++]=le>>8&255,G[ie++]=le>>0&255,G[ie++]=le>>24&255}}function It(w,E,R,G,ie){for(R=E+R;E<R;){var le=(ue=w[E++])>>16&240|ue>>12&15,ue=ue>>0&240|ue>>28&15;G[ie++]=le,G[ie++]=ue}}function Ft(w,E,R,G,ie){for(R=E+R;E<R;){var le=(ue=w[E++])>>16&248|ue>>13&7,ue=ue>>5&224|ue>>3&31;G[ie++]=le,G[ie++]=ue}}function jt(w,E,R,G,ie){for(R=E+R;E<R;){var le=w[E++];G[ie++]=le>>0&255,G[ie++]=le>>8&255,G[ie++]=le>>16&255}}function nn(w,E,R,G,ie,le){if(le==0)for(R=E+R;E<R;)we(G,((le=w[E++])[0]>>24|le[1]>>8&65280|le[2]<<8&16711680|le[3]<<24)>>>0),ie+=32;else r(G,ie,w,E,R)}function Tt(w,E){F[E][0]=F[w+"0"],F[E][1]=F[w+"1"],F[E][2]=F[w+"2"],F[E][3]=F[w+"3"],F[E][4]=F[w+"4"],F[E][5]=F[w+"5"],F[E][6]=F[w+"6"],F[E][7]=F[w+"7"],F[E][8]=F[w+"8"],F[E][9]=F[w+"9"],F[E][10]=F[w+"10"],F[E][11]=F[w+"11"],F[E][12]=F[w+"12"],F[E][13]=F[w+"13"],F[E][14]=F[w+"0"],F[E][15]=F[w+"0"]}function Ht(w){return w==Mh||w==lc||w==ou||w==bf}function un(){this.eb=[],this.size=this.A=this.fb=0}function vn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Er(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new un,this.f.kb=new vn,this.sd=null}function Hn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Xn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Xt(w){return alert("todo:WebPSamplerProcessPlane"),w.T}function _n(w,E){var R=w.T,G=E.ba.f.RGBA,ie=G.eb,le=G.fb+w.ka*G.A,ue=Ra[E.ba.S],ce=w.y,be=w.O,Ce=w.f,Me=w.N,Ge=w.ea,We=w.W,qe=E.cc,gt=E.dc,rt=E.Mc,Le=E.Nc,Fe=w.ka,ft=w.ka+w.T,bt=w.U,pt=bt+1>>1;for(Fe==0?ue(ce,be,null,null,Ce,Me,Ge,We,Ce,Me,Ge,We,ie,le,null,null,bt):(ue(E.ec,E.fc,ce,be,qe,gt,rt,Le,Ce,Me,Ge,We,ie,le-G.A,ie,le,bt),++R);Fe+2<ft;Fe+=2)qe=Ce,gt=Me,rt=Ge,Le=We,Me+=w.Rc,We+=w.Rc,le+=2*G.A,ue(ce,(be+=2*w.fa)-w.fa,ce,be,qe,gt,rt,Le,Ce,Me,Ge,We,ie,le-G.A,ie,le,bt);return be+=w.fa,w.j+ft<w.o?(r(E.ec,E.fc,ce,be,bt),r(E.cc,E.dc,Ce,Me,pt),r(E.Mc,E.Nc,Ge,We,pt),R--):1&ft||ue(ce,be,null,null,Ce,Me,Ge,We,Ce,Me,Ge,We,ie,le+G.A,null,null,bt),R}function fa(w,E,R){var G=w.F,ie=[w.J];if(G!=null){var le=w.U,ue=E.ba.S,ce=ue==xd||ue==ou;E=E.ba.f.RGBA;var be=[0],Ce=w.ka;be[0]=w.T,w.Kb&&(Ce==0?--be[0]:(--Ce,ie[0]-=w.width),w.j+w.ka+w.T==w.o&&(be[0]=w.o-w.j-Ce));var Me=E.eb;Ce=E.fb+Ce*E.A,w=Bn(G,ie[0],w.width,le,be,Me,Ce+(ce?0:3),E.A),n(R==be),w&&Ht(ue)&&io(Me,Ce,ce,le,be,E.A)}return 0}function cn(w){var E=w.ma,R=E.ba.S,G=11>R,ie=R==gf||R==Oh||R==xd||R==su||R==12||Ht(R);if(E.memory=null,E.Ib=null,E.Jb=null,E.Nd=null,!Xu(E.Oa,w,ie?11:12))return 0;if(ie&&Ht(R)&&St(),w.da)alert("todo:use_scaling");else{if(G){if(E.Ib=Xt,w.Kb){if(R=w.U+1>>1,E.memory=a(w.U+2*R),E.memory==null)return 0;E.ec=E.memory,E.fc=0,E.cc=E.ec,E.dc=E.fc+w.U,E.Mc=E.cc,E.Nc=E.dc+R,E.Ib=_n,St()}}else alert("todo:EmitYUV");ie&&(E.Jb=fa,G&&Ve())}if(G&&!ny){for(w=0;256>w;++w)sw[w]=89858*(w-128)+ba>>kl,Ph[w]=-22014*(w-128)+ba,Qm[w]=-45773*(w-128),ya[w]=113618*(w-128)+ba>>kl;for(w=dc;w<Kp;++w)E=76283*(w-16)+ba>>kl,Fh[w-dc]=ro(E,255),Km[w-dc]=ro(E+8>>4,15);ny=1}return 1}function Vn(w){var E=w.ma,R=w.U,G=w.T;return n(!(1&w.ka)),0>=R||0>=G?0:(R=E.Ib(w,E),E.Jb!=null&&E.Jb(w,E,R),E.Dc+=R,1)}function Oi(w){w.ma.memory=null}function zt(w,E,R,G){return H(w,8)!=47?0:(E[0]=H(w,14)+1,R[0]=H(w,14)+1,G[0]=H(w,1),H(w,3)!=0?0:!w.h)}function Zn(w,E){if(4>w)return w+1;var R=w-2>>1;return(2+(1&w)<<R)+H(E,R)+1}function dr(w,E){return 120<E?E-120:1<=(R=((R=uu[E-1])>>4)*w+(8-(15&R)))?R:1;var R}function $r(w,E,R){var G=z(R),ie=w[E+=255&G].g-8;return 0<ie&&(oe(R,R.u+8),G=z(R),E+=w[E].value,E+=G&(1<<ie)-1),oe(R,R.u+w[E].g),w[E].value}function gr(w,E,R){return R.g+=w.g,R.value+=w.value<<E>>>0,n(8>=R.g),w.g}function br(w,E,R){var G=w.xc;return n((E=G==0?0:w.vc[w.md*(R>>G)+(E>>G)])<w.Wb),w.Ya[E]}function Qn(w,E,R,G){var ie=w.ab,le=w.c*E,ue=w.C;E=ue+E;var ce=R,be=G;for(G=w.Ta,R=w.Ua;0<ie--;){var Ce=w.gc[ie],Me=ue,Ge=E,We=ce,qe=be,gt=(be=G,ce=R,Ce.Ea);switch(n(Me<Ge),n(Ge<=Ce.nc),Ce.hc){case 2:Up(We,qe,(Ge-Me)*gt,be,ce);break;case 0:var rt=Me,Le=Ge,Fe=be,ft=ce,bt=(_t=Ce).Ea;rt==0&&(Ym(We,qe,null,null,1,Fe,ft),Qe(We,qe+1,0,0,bt-1,Fe,ft+1),qe+=bt,ft+=bt,++rt);for(var pt=1<<_t.b,Lt=pt-1,Dt=dt(bt,_t.b),Jt=_t.K,_t=_t.w+(rt>>_t.b)*Dt;rt<Le;){var er=Jt,fr=_t,zn=1;for(_h(We,qe,Fe,ft-bt,1,Fe,ft);zn<bt;){var Fn=(zn&~Lt)+pt;Fn>bt&&(Fn=bt),(0,ru[er[fr++]>>8&15])(We,qe+ +zn,Fe,ft+zn-bt,Fn-zn,Fe,ft+zn),zn=Fn}qe+=bt,ft+=bt,++rt&Lt||(_t+=Dt)}Ge!=Ce.nc&&r(be,ce-gt,be,ce+(Ge-Me-1)*gt,gt);break;case 1:for(gt=We,Le=qe,bt=(We=Ce.Ea)-(ft=We&~(Fe=(qe=1<<Ce.b)-1)),rt=dt(We,Ce.b),pt=Ce.K,Ce=Ce.w+(Me>>Ce.b)*rt;Me<Ge;){for(Lt=pt,Dt=Ce,Jt=new ut,_t=Le+ft,er=Le+We;Le<_t;)De(Lt[Dt++],Jt),ec(Jt,gt,Le,qe,be,ce),Le+=qe,ce+=qe;Le<er&&(De(Lt[Dt++],Jt),ec(Jt,gt,Le,bt,be,ce),Le+=bt,ce+=bt),++Me&Fe||(Ce+=rt)}break;case 3:if(We==be&&qe==ce&&0<Ce.b){for(Le=be,We=gt=ce+(Ge-Me)*gt-(ft=(Ge-Me)*dt(Ce.Ea,Ce.b)),qe=be,Fe=ce,rt=[],ft=(bt=ft)-1;0<=ft;--ft)rt[ft]=qe[Fe+ft];for(ft=bt-1;0<=ft;--ft)Le[We+ft]=rt[ft];go(Ce,Me,Ge,be,gt,be,ce)}else go(Ce,Me,Ge,We,qe,be,ce)}ce=G,be=R}be!=R&&r(G,R,ce,be,le)}function js(w,E){var R=w.V,G=w.Ba+w.c*w.C,ie=E-w.C;if(n(E<=w.l.o),n(16>=ie),0<ie){var le=w.l,ue=w.Ta,ce=w.Ua,be=le.width;if(Qn(w,ie,R,G),ie=ce=[ce],n((R=w.C)<(G=E)),n(le.v<le.va),G>le.o&&(G=le.o),R<le.j){var Ce=le.j-R;R=le.j,ie[0]+=Ce*be}if(R>=G?R=0:(ie[0]+=4*le.v,le.ka=R-le.j,le.U=le.va-le.v,le.T=G-R,R=1),R){if(ce=ce[0],11>(R=w.ca).S){var Me=R.f.RGBA,Ge=(G=R.S,ie=le.U,le=le.T,Ce=Me.eb,Me.A),We=le;for(Me=Me.fb+w.Ma*Me.A;0<We--;){var qe=ue,gt=ce,rt=ie,Le=Ce,Fe=Me;switch(G){case rs:gs(qe,gt,rt,Le,Fe);break;case gf:Wa(qe,gt,rt,Le,Fe);break;case Mh:Wa(qe,gt,rt,Le,Fe),io(Le,Fe,0,rt,1,0);break;case wl:qo(qe,gt,rt,Le,Fe);break;case Oh:nn(qe,gt,rt,Le,Fe,1);break;case lc:nn(qe,gt,rt,Le,Fe,1),io(Le,Fe,0,rt,1,0);break;case xd:nn(qe,gt,rt,Le,Fe,0);break;case ou:nn(qe,gt,rt,Le,Fe,0),io(Le,Fe,1,rt,1,0);break;case su:tc(qe,gt,rt,Le,Fe);break;case bf:tc(qe,gt,rt,Le,Fe),qn(Le,Fe,rt,1,0);break;case Vp:Ls(qe,gt,rt,Le,Fe);break;default:n(0)}ce+=be,Me+=Ge}w.Ma+=le}else alert("todo:EmitRescaledRowsYUVA");n(w.Ma<=R.height)}}w.C=E,n(w.C<=w.i)}function Or(w){var E;if(0<w.ua)return 0;for(E=0;E<w.Wb;++E){var R=w.Ya[E].G,G=w.Ya[E].H;if(0<R[1][G[1]+0].g||0<R[2][G[2]+0].g||0<R[3][G[3]+0].g)return 0}return 1}function Ha(w,E,R,G,ie,le){if(w.Z!=0){var ue=w.qd,ce=w.rd;for(n(Cl[w.Z]!=null);E<R;++E)Cl[w.Z](ue,ce,G,ie,G,ie,le),ue=G,ce=ie,ie+=le;w.qd=ue,w.rd=ce}}function Ki(w,E){var R=w.l.ma,G=R.Z==0||R.Z==1?w.l.j:w.C;if(G=w.C<G?G:w.C,n(E<=w.l.o),E>G){var ie=w.l.width,le=R.ca,ue=R.tb+ie*G,ce=w.V,be=w.Ba+w.c*G,Ce=w.gc;n(w.ab==1),n(Ce[0].hc==3),Ju(Ce[0],G,E,ce,be,le,ue),Ha(R,G,E,le,ue,ie)}w.C=w.Ma=E}function Xi(w,E,R,G,ie,le,ue){var ce=w.$/G,be=w.$%G,Ce=w.m,Me=w.s,Ge=R+w.$,We=Ge;ie=R+G*ie;var qe=R+G*le,gt=280+Me.ua,rt=w.Pb?ce:16777216,Le=0<Me.ua?Me.Wa:null,Fe=Me.wc,ft=Ge<qe?br(Me,be,ce):null;n(w.C<le),n(qe<=ie);var bt=!1;e:for(;;){for(;bt||Ge<qe;){var pt=0;if(ce>=rt){var Lt=Ge-R;n((rt=w).Pb),rt.wd=rt.m,rt.xd=Lt,0<rt.s.ua&&Oe(rt.s.Wa,rt.s.vb),rt=ce+Jb}if(be&Fe||(ft=br(Me,be,ce)),n(ft!=null),ft.Qb&&(E[Ge]=ft.qb,bt=!0),!bt)if(ee(Ce),ft.jc){pt=Ce,Lt=E;var Dt=Ge,Jt=ft.pd[z(pt)&ma-1];n(ft.jc),256>Jt.g?(oe(pt,pt.u+Jt.g),Lt[Dt]=Jt.value,pt=0):(oe(pt,pt.u+Jt.g-256),n(256<=Jt.value),pt=Jt.value),pt==0&&(bt=!0)}else pt=$r(ft.G[0],ft.H[0],Ce);if(Ce.h)break;if(bt||256>pt){if(!bt)if(ft.nd)E[Ge]=(ft.qb|pt<<8)>>>0;else{if(ee(Ce),bt=$r(ft.G[1],ft.H[1],Ce),ee(Ce),Lt=$r(ft.G[2],ft.H[2],Ce),Dt=$r(ft.G[3],ft.H[3],Ce),Ce.h)break;E[Ge]=(Dt<<24|bt<<16|pt<<8|Lt)>>>0}if(bt=!1,++Ge,++be>=G&&(be=0,++ce,ue!=null&&ce<=le&&!(ce%16)&&ue(w,ce),Le!=null))for(;We<Ge;)pt=E[We++],Le.X[(506832829*pt&4294967295)>>>Le.Mb]=pt}else if(280>pt){if(pt=Zn(pt-256,Ce),Lt=$r(ft.G[4],ft.H[4],Ce),ee(Ce),Lt=dr(G,Lt=Zn(Lt,Ce)),Ce.h)break;if(Ge-R<Lt||ie-Ge<pt)break e;for(Dt=0;Dt<pt;++Dt)E[Ge+Dt]=E[Ge+Dt-Lt];for(Ge+=pt,be+=pt;be>=G;)be-=G,++ce,ue!=null&&ce<=le&&!(ce%16)&&ue(w,ce);if(n(Ge<=ie),be&Fe&&(ft=br(Me,be,ce)),Le!=null)for(;We<Ge;)pt=E[We++],Le.X[(506832829*pt&4294967295)>>>Le.Mb]=pt}else{if(!(pt<gt))break e;for(bt=pt-280,n(Le!=null);We<Ge;)pt=E[We++],Le.X[(506832829*pt&4294967295)>>>Le.Mb]=pt;pt=Ge,n(!(bt>>>(Lt=Le).Xa)),E[pt]=Lt.X[bt],bt=!0}bt||n(Ce.h==ne(Ce))}if(w.Pb&&Ce.h&&Ge<ie)n(w.m.h),w.a=5,w.m=w.wd,w.$=w.xd,0<w.s.ua&&Oe(w.s.vb,w.s.Wa);else{if(Ce.h)break e;ue!=null&&ue(w,ce>le?le:ce),w.a=0,w.$=Ge-R}return 1}return w.a=3,0}function ar(w){n(w!=null),w.vc=null,w.yc=null,w.Ya=null;var E=w.Wa;E!=null&&(E.X=null),w.vb=null,n(w!=null)}function Mi(){var w=new Wm;return w==null?null:(w.a=0,w.xb=yf,Tt("Predictor","VP8LPredictors"),Tt("Predictor","VP8LPredictors_C"),Tt("PredictorAdd","VP8LPredictorsAdd"),Tt("PredictorAdd","VP8LPredictorsAdd_C"),Up=Se,ec=ke,gs=He,Wa=Nt,tc=It,Ls=Ft,qo=jt,F.VP8LMapColor32b=Ma,F.VP8LMapColor8b=Ih,w)}function sr(w,E,R,G,ie){var le=1,ue=[w],ce=[E],be=G.m,Ce=G.s,Me=null,Ge=0;e:for(;;){if(R)for(;le&&H(be,1);){var We=ue,qe=ce,gt=G,rt=1,Le=gt.m,Fe=gt.gc[gt.ab],ft=H(Le,2);if(gt.Oc&1<<ft)le=0;else{switch(gt.Oc|=1<<ft,Fe.hc=ft,Fe.Ea=We[0],Fe.nc=qe[0],Fe.K=[null],++gt.ab,n(4>=gt.ab),ft){case 0:case 1:Fe.b=H(Le,3)+2,rt=sr(dt(Fe.Ea,Fe.b),dt(Fe.nc,Fe.b),0,gt,Fe.K),Fe.K=Fe.K[0];break;case 3:var bt,pt=H(Le,8)+1,Lt=16<pt?0:4<pt?1:2<pt?2:3;if(We[0]=dt(Fe.Ea,Lt),Fe.b=Lt,bt=rt=sr(pt,1,0,gt,Fe.K)){var Dt,Jt=pt,_t=Fe,er=1<<(8>>_t.b),fr=a(er);if(fr==null)bt=0;else{var zn=_t.K[0],Fn=_t.w;for(fr[0]=_t.K[0][0],Dt=1;Dt<1*Jt;++Dt)fr[Dt]=lt(zn[Fn+Dt],fr[Dt-1]);for(;Dt<4*er;++Dt)fr[Dt]=0;_t.K[0]=null,_t.K[0]=fr,bt=1}}rt=bt;break;case 2:break;default:n(0)}le=rt}}if(ue=ue[0],ce=ce[0],le&&H(be,1)&&!(le=1<=(Ge=H(be,4))&&11>=Ge)){G.a=3;break e}var Nr;if(Nr=le)t:{var hr,kn,Lr,on=G,bn=ue,Jn=ce,tr=Ge,Pa=R,xa=on.m,zi=on.s,qi=[null],ea=1,vo=0,pr=wd[tr];n:for(;;){if(Pa&&H(xa,1)){var ta=H(xa,3)+2,Uo=dt(bn,ta),fc=dt(Jn,ta),Ad=Uo*fc;if(!sr(Uo,fc,0,on,qi))break n;for(qi=qi[0],zi.xc=ta,hr=0;hr<Ad;++hr){var hc=qi[hr]>>8&65535;qi[hr]=hc,hc>=ea&&(ea=hc+1)}}if(xa.h)break n;for(kn=0;5>kn;++kn){var ui=ao[kn];!kn&&0<tr&&(ui+=1<<tr),vo<ui&&(vo=ui)}var zh=s(ea*pr,D),Xp=ea,ys=s(Xp,L);if(ys==null)var bi=null;else n(65536>=Xp),bi=ys;var kd=a(vo);if(bi==null||kd==null||zh==null){on.a=1;break n}var pc=zh;for(hr=Lr=0;hr<ea;++hr){var Ps=bi[hr],mc=Ps.G,Fs=Ps.H,qh=0,vf=1,Zp=0;for(kn=0;5>kn;++kn){ui=ao[kn],mc[kn]=pc,Fs[kn]=Lr,!kn&&0<tr&&(ui+=1<<tr);i:{var Bh,Jp=ui,$h=on,wf=kd,ay=pc,sy=Lr,Uh=0,hu=$h.m,lw=H(hu,1);if(i(wf,0,0,Jp),lw){var oy=H(hu,1)+1,ly=H(hu,1),Xm=H(hu,ly==0?1:8);wf[Xm]=1,oy==2&&(wf[Xm=H(hu,8)]=1);var Sf=1}else{var Zm=a(19),Jm=H(hu,4)+4;if(19<Jm){$h.a=3;var Hh=0;break i}for(Bh=0;Bh<Jm;++Bh)Zm[lu[Bh]]=H(hu,3);var e0=void 0,Cf=void 0,uy=$h,cy=Zm,pu=Jp,Vh=wf,t0=0,Ho=uy.m,Af=8,eg=s(128,D);r:for(;T(eg,0,7,cy,19);){if(H(Ho,1)){var dy=2+2*H(Ho,3);if((e0=2+H(Ho,dy))>pu)break r}else e0=pu;for(Cf=0;Cf<pu&&e0--;){ee(Ho);var tg=eg[0+(127&z(Ho))];oe(Ho,Ho.u+tg.g);var Ed=tg.value;if(16>Ed)Vh[Cf++]=Ed,Ed!=0&&(Af=Ed);else{var fy=Ed==16,ng=Ed-16,rg=xo[ng],ig=H(Ho,Wp[ng])+rg;if(Cf+ig>pu)break r;for(var hy=fy?Af:0;0<ig--;)Vh[Cf++]=hy}}t0=1;break r}t0||(uy.a=3),Sf=t0}(Sf=Sf&&!hu.h)&&(Uh=T(ay,sy,8,wf,Jp)),Sf&&Uh!=0?Hh=Uh:($h.a=3,Hh=0)}if(Hh==0)break n;if(vf&&vd[kn]==1&&(vf=pc[Lr].g==0),qh+=pc[Lr].g,Lr+=Hh,3>=kn){var jd,n0=kd[0];for(jd=1;jd<ui;++jd)kd[jd]>n0&&(n0=kd[jd]);Zp+=n0}}if(Ps.nd=vf,Ps.Qb=0,vf&&(Ps.qb=(mc[3][Fs[3]+0].value<<24|mc[1][Fs[1]+0].value<<16|mc[2][Fs[2]+0].value)>>>0,qh==0&&256>mc[0][Fs[0]+0].value&&(Ps.Qb=1,Ps.qb+=mc[0][Fs[0]+0].value<<8)),Ps.jc=!Ps.Qb&&6>Zp,Ps.jc){var Wh,mu=Ps;for(Wh=0;Wh<ma;++Wh){var El=Wh,gu=mu.pd[El],Yh=mu.G[0][mu.H[0]+El];256<=Yh.value?(gu.g=Yh.g+256,gu.value=Yh.value):(gu.g=0,gu.value=0,El>>=gr(Yh,8,gu),El>>=gr(mu.G[1][mu.H[1]+El],16,gu),El>>=gr(mu.G[2][mu.H[2]+El],0,gu),gr(mu.G[3][mu.H[3]+El],24,gu))}}}zi.vc=qi,zi.Wb=ea,zi.Ya=bi,zi.yc=zh,Nr=1;break t}Nr=0}if(!(le=Nr)){G.a=3;break e}if(0<Ge){if(Ce.ua=1<<Ge,!Ue(Ce.Wa,Ge)){G.a=1,le=0;break e}}else Ce.ua=0;var Gh=G,ag=ue,py=ce,sg=Gh.s,og=sg.xc;if(Gh.c=ag,Gh.i=py,sg.md=dt(ag,og),sg.wc=og==0?-1:(1<<og)-1,R){G.xb=ty;break e}if((Me=a(ue*ce))==null){G.a=1,le=0;break e}le=(le=Xi(G,Me,0,ue,ce,ce,null))&&!be.h;break e}return le?(ie!=null?ie[0]=Me:(n(Me==null),n(R)),G.$=0,R||ar(Ce)):ar(Ce),le}function co(w,E){var R=w.c*w.i,G=R+E+16*E;return n(w.c<=E),w.V=a(G),w.V==null?(w.Ta=null,w.Ua=0,w.a=1,0):(w.Ta=w.V,w.Ua=w.Ba+R+E,1)}function Io(w,E){var R=w.C,G=E-R,ie=w.V,le=w.Ba+w.c*R;for(n(E<=w.l.o);0<G;){var ue=16<G?16:G,ce=w.l.ma,be=w.l.width,Ce=be*ue,Me=ce.ca,Ge=ce.tb+be*R,We=w.Ta,qe=w.Ua;Qn(w,ue,ie,le),Vr(We,qe,Me,Ge,Ce),Ha(ce,R,R+ue,Me,Ge,be),G-=ue,ie+=ue*w.c,R+=ue}n(R==E),w.C=w.Ma=E}function Qa(){this.ub=this.yd=this.td=this.Rb=0}function Ur(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function dl(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Xl(){this.Yb=function(){var w=[];return function E(R,G,ie){for(var le=ie[G],ue=0;ue<le&&(R.push(ie.length>G+1?[]:0),!(ie.length<G+1));ue++)E(R[ue],G+1,ie)}(w,0,[3,11]),w}()}function Yu(){this.jb=a(3),this.Wc=l([4,8],Xl),this.Xc=l([4,17],Xl)}function ud(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Xs(){this.ld=this.La=this.dd=this.tc=0}function Ts(){this.Na=this.la=0}function Ka(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ns(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function hs(){this.uc=this.M=this.Nb=0,this.wa=Array(new Xs),this.Y=0,this.ya=Array(new Ns),this.aa=0,this.l=new fo}function ps(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Zl(){this.cb=this.a=0,this.sc="",this.m=new me,this.Od=new Qa,this.Kc=new Ur,this.ed=new ud,this.Qa=new dl,this.Ic=this.$c=this.Aa=0,this.D=new hs,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,me),this.ia=0,this.pb=s(4,Ka),this.Pa=new Yu,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ps),this.Hd=0,this.rb=Array(new Ts),this.sb=0,this.wa=Array(new Xs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ns),this.L=this.aa=0,this.gd=l([4,2],Xs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function fo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function cd(){var w=new Zl;return w!=null&&(w.a=0,w.sc="OK",w.cb=0,w.Xb=0,ga||(ga=fl)),w}function Hr(w,E,R){return w.a==0&&(w.a=E,w.sc=R,w.cb=0),0}function ha(w,E,R){return 3<=R&&w[E+0]==157&&w[E+1]==1&&w[E+2]==42}function ho(w,E){if(w==null)return 0;if(w.a=0,w.sc="OK",E==null)return Hr(w,2,"null VP8Io passed to VP8GetHeaders()");var R=E.data,G=E.w,ie=E.ha;if(4>ie)return Hr(w,7,"Truncated header.");var le=R[G+0]|R[G+1]<<8|R[G+2]<<16,ue=w.Od;if(ue.Rb=!(1&le),ue.td=le>>1&7,ue.yd=le>>4&1,ue.ub=le>>5,3<ue.td)return Hr(w,3,"Incorrect keyframe parameters.");if(!ue.yd)return Hr(w,4,"Frame not displayable.");G+=3,ie-=3;var ce=w.Kc;if(ue.Rb){if(7>ie)return Hr(w,7,"cannot parse picture header");if(!ha(R,G,ie))return Hr(w,3,"Bad code word");ce.c=16383&(R[G+4]<<8|R[G+3]),ce.Td=R[G+4]>>6,ce.i=16383&(R[G+6]<<8|R[G+5]),ce.Ud=R[G+6]>>6,G+=7,ie-=7,w.za=ce.c+15>>4,w.Ub=ce.i+15>>4,E.width=ce.c,E.height=ce.i,E.Da=0,E.j=0,E.v=0,E.va=E.width,E.o=E.height,E.da=0,E.ib=E.width,E.hb=E.height,E.U=E.width,E.T=E.height,i((le=w.Pa).jb,0,255,le.jb.length),n((le=w.Qa)!=null),le.Cb=0,le.Bb=0,le.Fb=1,i(le.Zb,0,0,le.Zb.length),i(le.Lb,0,0,le.Lb)}if(ue.ub>ie)return Hr(w,7,"bad partition length");Q(le=w.m,R,G,ue.ub),G+=ue.ub,ie-=ue.ub,ue.Rb&&(ce.Ld=de(le),ce.Kd=de(le)),ce=w.Qa;var be,Ce=w.Pa;if(n(le!=null),n(ce!=null),ce.Cb=de(le),ce.Cb){if(ce.Bb=de(le),de(le)){for(ce.Fb=de(le),be=0;4>be;++be)ce.Zb[be]=de(le)?Y(le,7):0;for(be=0;4>be;++be)ce.Lb[be]=de(le)?Y(le,6):0}if(ce.Bb)for(be=0;3>be;++be)Ce.jb[be]=de(le)?$(le,8):255}else ce.Bb=0;if(le.Ka)return Hr(w,3,"cannot parse segment header");if((ce=w.ed).zd=de(le),ce.Tb=$(le,6),ce.wb=$(le,3),ce.Pc=de(le),ce.Pc&&de(le)){for(Ce=0;4>Ce;++Ce)de(le)&&(ce.vd[Ce]=Y(le,6));for(Ce=0;4>Ce;++Ce)de(le)&&(ce.od[Ce]=Y(le,6))}if(w.L=ce.Tb==0?0:ce.zd?1:2,le.Ka)return Hr(w,3,"cannot parse filter header");var Me=ie;if(ie=be=G,G=be+Me,ce=Me,w.Xb=(1<<$(w.m,2))-1,Me<3*(Ce=w.Xb))R=7;else{for(be+=3*Ce,ce-=3*Ce,Me=0;Me<Ce;++Me){var Ge=R[ie+0]|R[ie+1]<<8|R[ie+2]<<16;Ge>ce&&(Ge=ce),Q(w.Jc[+Me],R,be,Ge),be+=Ge,ce-=Ge,ie+=3}Q(w.Jc[+Ce],R,be,ce),R=be<G?0:5}if(R!=0)return Hr(w,R,"cannot parse partitions");for(R=$(be=w.m,7),ie=de(be)?Y(be,4):0,G=de(be)?Y(be,4):0,ce=de(be)?Y(be,4):0,Ce=de(be)?Y(be,4):0,be=de(be)?Y(be,4):0,Me=w.Qa,Ge=0;4>Ge;++Ge){if(Me.Cb){var We=Me.Zb[Ge];Me.Fb||(We+=R)}else{if(0<Ge){w.pb[Ge]=w.pb[0];continue}We=R}var qe=w.pb[Ge];qe.Sc[0]=Lh[ro(We+ie,127)],qe.Sc[1]=Rh[ro(We+0,127)],qe.Eb[0]=2*Lh[ro(We+G,127)],qe.Eb[1]=101581*Rh[ro(We+ce,127)]>>16,8>qe.Eb[1]&&(qe.Eb[1]=8),qe.Qc[0]=Lh[ro(We+Ce,117)],qe.Qc[1]=Rh[ro(We+be,127)],qe.lc=We+be}if(!ue.Rb)return Hr(w,4,"Not a key frame.");for(de(le),ue=w.Pa,R=0;4>R;++R){for(ie=0;8>ie;++ie)for(G=0;3>G;++G)for(ce=0;11>ce;++ce)Ce=ye(le,Sd[R][ie][G][ce])?$(le,8):Sl[R][ie][G][ce],ue.Wc[R][ie].Yb[G][ce]=Ce;for(ie=0;17>ie;++ie)ue.Xc[R][ie]=ue.Wc[R][ey[ie]]}return w.kc=de(le),w.kc&&(w.Bd=$(le,8)),w.cb=1}function fl(w,E,R,G,ie,le,ue){var ce=E[ie].Yb[R];for(R=0;16>ie;++ie){if(!ye(w,ce[R+0]))return ie;for(;!ye(w,ce[R+1]);)if(ce=E[++ie].Yb[0],R=0,ie==16)return 16;var be=E[ie+1].Yb;if(ye(w,ce[R+2])){var Ce=w,Me=0;if(ye(Ce,(We=ce)[(Ge=R)+3]))if(ye(Ce,We[Ge+6])){for(ce=0,Ge=2*(Me=ye(Ce,We[Ge+8]))+(We=ye(Ce,We[Ge+9+Me])),Me=0,We=Ai[Ge];We[ce];++ce)Me+=Me+ye(Ce,We[ce]);Me+=3+(8<<Ge)}else ye(Ce,We[Ge+7])?(Me=7+2*ye(Ce,165),Me+=ye(Ce,145)):Me=5+ye(Ce,159);else Me=ye(Ce,We[Ge+4])?3+ye(Ce,We[Ge+5]):2;ce=be[2]}else Me=1,ce=be[1];be=ue+or[ie],0>(Ce=w).b&&ge(Ce);var Ge,We=Ce.b,qe=(Ge=Ce.Ca>>1)-(Ce.I>>We)>>31;--Ce.b,Ce.Ca+=qe,Ce.Ca|=1,Ce.I-=(Ge+1&qe)<<We,le[be]=((Me^qe)-qe)*G[(0<ie)+0]}return 16}function Xa(w){var E=w.rb[w.sb-1];E.la=0,E.Na=0,i(w.zc,0,0,w.zc.length),w.ja=0}function Jl(w,E){if(w==null)return 0;if(E==null)return Hr(w,2,"NULL VP8Io parameter in VP8Decode().");if(!w.cb&&!ho(w,E))return 0;if(n(w.cb),E.ac==null||E.ac(E)){E.ob&&(w.L=0);var R=fu[w.L];if(w.L==2?(w.yb=0,w.zb=0):(w.yb=E.v-R>>4,w.zb=E.j-R>>4,0>w.yb&&(w.yb=0),0>w.zb&&(w.zb=0)),w.Va=E.o+15+R>>4,w.Hb=E.va+15+R>>4,w.Hb>w.za&&(w.Hb=w.za),w.Va>w.Ub&&(w.Va=w.Ub),0<w.L){var G=w.ed;for(R=0;4>R;++R){var ie;if(w.Qa.Cb){var le=w.Qa.Lb[R];w.Qa.Fb||(le+=G.Tb)}else le=G.Tb;for(ie=0;1>=ie;++ie){var ue=w.gd[R][ie],ce=le;if(G.Pc&&(ce+=G.vd[0],ie&&(ce+=G.od[0])),0<(ce=0>ce?0:63<ce?63:ce)){var be=ce;0<G.wb&&(be=4<G.wb?be>>2:be>>1)>9-G.wb&&(be=9-G.wb),1>be&&(be=1),ue.dd=be,ue.tc=2*ce+be,ue.ld=40<=ce?2:15<=ce?1:0}else ue.tc=0;ue.La=ie}}}R=0}else Hr(w,6,"Frame setup failed"),R=w.a;if(R=R==0){if(R){w.$c=0,0<w.Aa||(w.Ic=ry);e:{R=w.Ic,G=4*(be=w.za);var Ce=32*be,Me=be+1,Ge=0<w.L?be*(0<w.Aa?2:1):0,We=(w.Aa==2?2:1)*be;if((ue=G+832+(ie=3*(16*R+fu[w.L])/2*Ce)+(le=w.Fa!=null&&0<w.Fa.length?w.Kc.c*w.Kc.i:0))!=ue)R=0;else{if(ue>w.Vb){if(w.Vb=0,w.Ec=a(ue),w.Fc=0,w.Ec==null){R=Hr(w,1,"no memory during frame initialization.");break e}w.Vb=ue}ue=w.Ec,ce=w.Fc,w.Ac=ue,w.Bc=ce,ce+=G,w.Gd=s(Ce,ps),w.Hd=0,w.rb=s(Me+1,Ts),w.sb=1,w.wa=Ge?s(Ge,Xs):null,w.Y=0,w.D.Nb=0,w.D.wa=w.wa,w.D.Y=w.Y,0<w.Aa&&(w.D.Y+=be),n(!0),w.oc=ue,w.pc=ce,ce+=832,w.ya=s(We,Ns),w.aa=0,w.D.ya=w.ya,w.D.aa=w.aa,w.Aa==2&&(w.D.aa+=be),w.R=16*be,w.B=8*be,be=(Ce=fu[w.L])*w.R,Ce=Ce/2*w.B,w.sa=ue,w.ta=ce+be,w.qa=w.sa,w.ra=w.ta+16*R*w.R+Ce,w.Ha=w.qa,w.Ia=w.ra+8*R*w.B+Ce,w.$c=0,ce+=ie,w.mb=le?ue:null,w.nb=le?ce:null,n(ce+le<=w.Fc+w.Vb),Xa(w),i(w.Ac,w.Bc,0,G),R=1}}if(R){if(E.ka=0,E.y=w.sa,E.O=w.ta,E.f=w.qa,E.N=w.ra,E.ea=w.Ha,E.Vd=w.Ia,E.fa=w.R,E.Rc=w.B,E.F=null,E.J=0,!au){for(R=-255;255>=R;++R)Fi[255+R]=0>R?-R:R;for(R=-1020;1020>=R;++R)bo[1020+R]=-128>R?-128:127<R?127:R;for(R=-112;112>=R;++R)sc[112+R]=-16>R?-16:15<R?15:R;for(R=-255;510>=R;++R)oc[255+R]=0>R?0:255<R?255:R;au=1}xl=Zi,Bo=Mo,$o=Zs,Ji=Gu,Rs=Js,Si=eu,md=Jr,vl=ns,pf=sf,nc=yl,rc=no,ic=Os,gd=Po,mf=$p,ac=xr,iu=An,bd=Mr,Ci=Ia,bs[0]=Li,bs[1]=Ds,bs[2]=po,bs[3]=gl,bs[4]=Ja,bs[5]=es,bs[6]=Lo,bs[7]=Va,bs[8]=Ro,bs[9]=ts,cu[0]=ml,cu[1]=Za,cu[2]=eo,cu[3]=pl,cu[4]=mi,cu[5]=oi,cu[6]=_s,so[0]=W,so[1]=Qu,so[2]=bl,so[3]=mo,so[4]=Ne,so[5]=he,so[6]=at,R=1}else R=0}R&&(R=function(qe,gt){for(qe.M=0;qe.M<qe.Va;++qe.M){var rt,Le=qe.Jc[qe.M&qe.Xb],Fe=qe.m,ft=qe;for(rt=0;rt<ft.za;++rt){var bt=Fe,pt=ft,Lt=pt.Ac,Dt=pt.Bc+4*rt,Jt=pt.zc,_t=pt.ya[pt.aa+rt];if(pt.Qa.Bb?_t.$b=ye(bt,pt.Pa.jb[0])?2+ye(bt,pt.Pa.jb[2]):ye(bt,pt.Pa.jb[1]):_t.$b=0,pt.kc&&(_t.Ad=ye(bt,pt.Bd)),_t.Za=!ye(bt,145)+0,_t.Za){var er=_t.Ob,fr=0;for(pt=0;4>pt;++pt){var zn,Fn=Jt[0+pt];for(zn=0;4>zn;++zn){Fn=Gm[Lt[Dt+zn]][Fn];for(var Nr=uc[ye(bt,Fn[0])];0<Nr;)Nr=uc[2*Nr+ye(bt,Fn[Nr])];Fn=-Nr,Lt[Dt+zn]=Fn}r(er,fr,Lt,Dt,4),fr+=4,Jt[0+pt]=Fn}}else Fn=ye(bt,156)?ye(bt,128)?1:3:ye(bt,163)?2:0,_t.Ob[0]=Fn,i(Lt,Dt,Fn,4),i(Jt,0,Fn,4);_t.Dd=ye(bt,142)?ye(bt,114)?ye(bt,183)?1:3:2:0}if(ft.m.Ka)return Hr(qe,7,"Premature end-of-partition0 encountered.");for(;qe.ja<qe.za;++qe.ja){if(ft=Le,bt=(Fe=qe).rb[Fe.sb-1],Lt=Fe.rb[Fe.sb+Fe.ja],rt=Fe.ya[Fe.aa+Fe.ja],Dt=Fe.kc?rt.Ad:0)bt.la=Lt.la=0,rt.Za||(bt.Na=Lt.Na=0),rt.Hc=0,rt.Gc=0,rt.ia=0;else{var hr,kn;if(bt=Lt,Lt=ft,Dt=Fe.Pa.Xc,Jt=Fe.ya[Fe.aa+Fe.ja],_t=Fe.pb[Jt.$b],pt=Jt.ad,er=0,fr=Fe.rb[Fe.sb-1],Fn=zn=0,i(pt,er,0,384),Jt.Za)var Lr=0,on=Dt[3];else{Nr=a(16);var bn=bt.Na+fr.Na;if(bn=ga(Lt,Dt[1],bn,_t.Eb,0,Nr,0),bt.Na=fr.Na=(0<bn)+0,1<bn)xl(Nr,0,pt,er);else{var Jn=Nr[0]+3>>3;for(Nr=0;256>Nr;Nr+=16)pt[er+Nr]=Jn}Lr=1,on=Dt[0]}var tr=15&bt.la,Pa=15&fr.la;for(Nr=0;4>Nr;++Nr){var xa=1&Pa;for(Jn=kn=0;4>Jn;++Jn)tr=tr>>1|(xa=(bn=ga(Lt,on,bn=xa+(1&tr),_t.Sc,Lr,pt,er))>Lr)<<7,kn=kn<<2|(3<bn?3:1<bn?2:pt[er+0]!=0),er+=16;tr>>=4,Pa=Pa>>1|xa<<7,zn=(zn<<8|kn)>>>0}for(on=tr,Lr=Pa>>4,hr=0;4>hr;hr+=2){for(kn=0,tr=bt.la>>4+hr,Pa=fr.la>>4+hr,Nr=0;2>Nr;++Nr){for(xa=1&Pa,Jn=0;2>Jn;++Jn)bn=xa+(1&tr),tr=tr>>1|(xa=0<(bn=ga(Lt,Dt[2],bn,_t.Qc,0,pt,er)))<<3,kn=kn<<2|(3<bn?3:1<bn?2:pt[er+0]!=0),er+=16;tr>>=2,Pa=Pa>>1|xa<<5}Fn|=kn<<4*hr,on|=tr<<4<<hr,Lr|=(240&Pa)<<hr}bt.la=on,fr.la=Lr,Jt.Hc=zn,Jt.Gc=Fn,Jt.ia=43690&Fn?0:_t.ia,Dt=!(zn|Fn)}if(0<Fe.L&&(Fe.wa[Fe.Y+Fe.ja]=Fe.gd[rt.$b][rt.Za],Fe.wa[Fe.Y+Fe.ja].La|=!Dt),ft.Ka)return Hr(qe,7,"Premature end-of-file encountered.")}if(Xa(qe),Fe=gt,ft=1,rt=(Le=qe).D,bt=0<Le.L&&Le.M>=Le.zb&&Le.M<=Le.Va,Le.Aa==0)e:{if(rt.M=Le.M,rt.uc=bt,nu(Le,rt),ft=1,rt=(kn=Le.D).Nb,bt=(Fn=fu[Le.L])*Le.R,Lt=Fn/2*Le.B,Nr=16*rt*Le.R,Jn=8*rt*Le.B,Dt=Le.sa,Jt=Le.ta-bt+Nr,_t=Le.qa,pt=Le.ra-Lt+Jn,er=Le.Ha,fr=Le.Ia-Lt+Jn,Pa=(tr=kn.M)==0,zn=tr>=Le.Va-1,Le.Aa==2&&nu(Le,kn),kn.uc)for(xa=(bn=Le).D.M,n(bn.D.uc),kn=bn.yb;kn<bn.Hb;++kn){Lr=kn,on=xa;var zi=(qi=(ui=bn).D).Nb;hr=ui.R;var qi=qi.wa[qi.Y+Lr],ea=ui.sa,vo=ui.ta+16*zi*hr+16*Lr,pr=qi.dd,ta=qi.tc;if(ta!=0)if(n(3<=ta),ui.L==1)0<Lr&&iu(ea,vo,hr,ta+4),qi.La&&Ci(ea,vo,hr,ta),0<on&&ac(ea,vo,hr,ta+4),qi.La&&bd(ea,vo,hr,ta);else{var Uo=ui.B,fc=ui.qa,Ad=ui.ra+8*zi*Uo+8*Lr,hc=ui.Ha,ui=ui.Ia+8*zi*Uo+8*Lr;zi=qi.ld,0<Lr&&(vl(ea,vo,hr,ta+4,pr,zi),nc(fc,Ad,hc,ui,Uo,ta+4,pr,zi)),qi.La&&(ic(ea,vo,hr,ta,pr,zi),mf(fc,Ad,hc,ui,Uo,ta,pr,zi)),0<on&&(md(ea,vo,hr,ta+4,pr,zi),pf(fc,Ad,hc,ui,Uo,ta+4,pr,zi)),qi.La&&(rc(ea,vo,hr,ta,pr,zi),gd(fc,Ad,hc,ui,Uo,ta,pr,zi))}}if(Le.ia&&alert("todo:DitherRow"),Fe.put!=null){if(kn=16*tr,tr=16*(tr+1),Pa?(Fe.y=Le.sa,Fe.O=Le.ta+Nr,Fe.f=Le.qa,Fe.N=Le.ra+Jn,Fe.ea=Le.Ha,Fe.W=Le.Ia+Jn):(kn-=Fn,Fe.y=Dt,Fe.O=Jt,Fe.f=_t,Fe.N=pt,Fe.ea=er,Fe.W=fr),zn||(tr-=Fn),tr>Fe.o&&(tr=Fe.o),Fe.F=null,Fe.J=null,Le.Fa!=null&&0<Le.Fa.length&&kn<tr&&(Fe.J=Nh(Le,Fe,kn,tr-kn),Fe.F=Le.mb,Fe.F==null&&Fe.F.length==0)){ft=Hr(Le,3,"Could not decode alpha data.");break e}kn<Fe.j&&(Fn=Fe.j-kn,kn=Fe.j,n(!(1&Fn)),Fe.O+=Le.R*Fn,Fe.N+=Le.B*(Fn>>1),Fe.W+=Le.B*(Fn>>1),Fe.F!=null&&(Fe.J+=Fe.width*Fn)),kn<tr&&(Fe.O+=Fe.v,Fe.N+=Fe.v>>1,Fe.W+=Fe.v>>1,Fe.F!=null&&(Fe.J+=Fe.v),Fe.ka=kn-Fe.j,Fe.U=Fe.va-Fe.v,Fe.T=tr-kn,ft=Fe.put(Fe))}rt+1!=Le.Ic||zn||(r(Le.sa,Le.ta-bt,Dt,Jt+16*Le.R,bt),r(Le.qa,Le.ra-Lt,_t,pt+8*Le.B,Lt),r(Le.Ha,Le.Ia-Lt,er,fr+8*Le.B,Lt))}if(!ft)return Hr(qe,6,"Output aborted.")}return 1}(w,E)),E.bc!=null&&E.bc(E),R&=1}return R?(w.cb=0,R):0}function pa(w,E,R,G,ie){ie=w[E+R+32*G]+(ie>>3),w[E+R+32*G]=-256&ie?0>ie?0:255:ie}function hl(w,E,R,G,ie,le){pa(w,E,0,R,G+ie),pa(w,E,1,R,G+le),pa(w,E,2,R,G-le),pa(w,E,3,R,G-ie)}function yr(w){return(20091*w>>16)+w}function Oo(w,E,R,G){var ie,le=0,ue=a(16);for(ie=0;4>ie;++ie){var ce=w[E+0]+w[E+8],be=w[E+0]-w[E+8],Ce=(35468*w[E+4]>>16)-yr(w[E+12]),Me=yr(w[E+4])+(35468*w[E+12]>>16);ue[le+0]=ce+Me,ue[le+1]=be+Ce,ue[le+2]=be-Ce,ue[le+3]=ce-Me,le+=4,E++}for(ie=le=0;4>ie;++ie)ce=(w=ue[le+0]+4)+ue[le+8],be=w-ue[le+8],Ce=(35468*ue[le+4]>>16)-yr(ue[le+12]),pa(R,G,0,0,ce+(Me=yr(ue[le+4])+(35468*ue[le+12]>>16))),pa(R,G,1,0,be+Ce),pa(R,G,2,0,be-Ce),pa(R,G,3,0,ce-Me),le++,G+=32}function eu(w,E,R,G){var ie=w[E+0]+4,le=35468*w[E+4]>>16,ue=yr(w[E+4]),ce=35468*w[E+1]>>16;hl(R,G,0,ie+ue,w=yr(w[E+1]),ce),hl(R,G,1,ie+le,w,ce),hl(R,G,2,ie-le,w,ce),hl(R,G,3,ie-ue,w,ce)}function Mo(w,E,R,G,ie){Oo(w,E,R,G),ie&&Oo(w,E+16,R,G+4)}function Zs(w,E,R,G){Bo(w,E+0,R,G,1),Bo(w,E+32,R,G+128,1)}function Gu(w,E,R,G){var ie;for(w=w[E+0]+4,ie=0;4>ie;++ie)for(E=0;4>E;++E)pa(R,G,E,ie,w)}function Js(w,E,R,G){w[E+0]&&Ji(w,E+0,R,G),w[E+16]&&Ji(w,E+16,R,G+4),w[E+32]&&Ji(w,E+32,R,G+128),w[E+48]&&Ji(w,E+48,R,G+128+4)}function Zi(w,E,R,G){var ie,le=a(16);for(ie=0;4>ie;++ie){var ue=w[E+0+ie]+w[E+12+ie],ce=w[E+4+ie]+w[E+8+ie],be=w[E+4+ie]-w[E+8+ie],Ce=w[E+0+ie]-w[E+12+ie];le[0+ie]=ue+ce,le[8+ie]=ue-ce,le[4+ie]=Ce+be,le[12+ie]=Ce-be}for(ie=0;4>ie;++ie)ue=(w=le[0+4*ie]+3)+le[3+4*ie],ce=le[1+4*ie]+le[2+4*ie],be=le[1+4*ie]-le[2+4*ie],Ce=w-le[3+4*ie],R[G+0]=ue+ce>>3,R[G+16]=Ce+be>>3,R[G+32]=ue-ce>>3,R[G+48]=Ce-be>>3,G+=64}function ms(w,E,R){var G,ie=E-32,le=La,ue=255-w[ie-1];for(G=0;G<R;++G){var ce,be=le,Ce=ue+w[E-1];for(ce=0;ce<R;++ce)w[E+ce]=be[Ce+w[ie+ce]];E+=32}}function Ds(w,E){ms(w,E,4)}function Qu(w,E){ms(w,E,8)}function Za(w,E){ms(w,E,16)}function eo(w,E){var R;for(R=0;16>R;++R)r(w,E+32*R,w,E-32,16)}function pl(w,E){var R;for(R=16;0<R;--R)i(w,E,w[E-1],16),E+=32}function to(w,E,R){var G;for(G=0;16>G;++G)i(E,R+32*G,w,16)}function ml(w,E){var R,G=16;for(R=0;16>R;++R)G+=w[E-1+32*R]+w[E+R-32];to(G>>5,w,E)}function mi(w,E){var R,G=8;for(R=0;16>R;++R)G+=w[E-1+32*R];to(G>>4,w,E)}function oi(w,E){var R,G=8;for(R=0;16>R;++R)G+=w[E+R-32];to(G>>4,w,E)}function _s(w,E){to(128,w,E)}function ln(w,E,R){return w+2*E+R+2>>2}function po(w,E){var R,G=E-32;for(G=new Uint8Array([ln(w[G-1],w[G+0],w[G+1]),ln(w[G+0],w[G+1],w[G+2]),ln(w[G+1],w[G+2],w[G+3]),ln(w[G+2],w[G+3],w[G+4])]),R=0;4>R;++R)r(w,E+32*R,G,0,G.length)}function gl(w,E){var R=w[E-1],G=w[E-1+32],ie=w[E-1+64],le=w[E-1+96];we(w,E+0,16843009*ln(w[E-1-32],R,G)),we(w,E+32,16843009*ln(R,G,ie)),we(w,E+64,16843009*ln(G,ie,le)),we(w,E+96,16843009*ln(ie,le,le))}function Li(w,E){var R,G=4;for(R=0;4>R;++R)G+=w[E+R-32]+w[E-1+32*R];for(G>>=3,R=0;4>R;++R)i(w,E+32*R,G,4)}function Ja(w,E){var R=w[E-1+0],G=w[E-1+32],ie=w[E-1+64],le=w[E-1-32],ue=w[E+0-32],ce=w[E+1-32],be=w[E+2-32],Ce=w[E+3-32];w[E+0+96]=ln(G,ie,w[E-1+96]),w[E+1+96]=w[E+0+64]=ln(R,G,ie),w[E+2+96]=w[E+1+64]=w[E+0+32]=ln(le,R,G),w[E+3+96]=w[E+2+64]=w[E+1+32]=w[E+0+0]=ln(ue,le,R),w[E+3+64]=w[E+2+32]=w[E+1+0]=ln(ce,ue,le),w[E+3+32]=w[E+2+0]=ln(be,ce,ue),w[E+3+0]=ln(Ce,be,ce)}function Lo(w,E){var R=w[E+1-32],G=w[E+2-32],ie=w[E+3-32],le=w[E+4-32],ue=w[E+5-32],ce=w[E+6-32],be=w[E+7-32];w[E+0+0]=ln(w[E+0-32],R,G),w[E+1+0]=w[E+0+32]=ln(R,G,ie),w[E+2+0]=w[E+1+32]=w[E+0+64]=ln(G,ie,le),w[E+3+0]=w[E+2+32]=w[E+1+64]=w[E+0+96]=ln(ie,le,ue),w[E+3+32]=w[E+2+64]=w[E+1+96]=ln(le,ue,ce),w[E+3+64]=w[E+2+96]=ln(ue,ce,be),w[E+3+96]=ln(ce,be,be)}function es(w,E){var R=w[E-1+0],G=w[E-1+32],ie=w[E-1+64],le=w[E-1-32],ue=w[E+0-32],ce=w[E+1-32],be=w[E+2-32],Ce=w[E+3-32];w[E+0+0]=w[E+1+64]=le+ue+1>>1,w[E+1+0]=w[E+2+64]=ue+ce+1>>1,w[E+2+0]=w[E+3+64]=ce+be+1>>1,w[E+3+0]=be+Ce+1>>1,w[E+0+96]=ln(ie,G,R),w[E+0+64]=ln(G,R,le),w[E+0+32]=w[E+1+96]=ln(R,le,ue),w[E+1+32]=w[E+2+96]=ln(le,ue,ce),w[E+2+32]=w[E+3+96]=ln(ue,ce,be),w[E+3+32]=ln(ce,be,Ce)}function Va(w,E){var R=w[E+0-32],G=w[E+1-32],ie=w[E+2-32],le=w[E+3-32],ue=w[E+4-32],ce=w[E+5-32],be=w[E+6-32],Ce=w[E+7-32];w[E+0+0]=R+G+1>>1,w[E+1+0]=w[E+0+64]=G+ie+1>>1,w[E+2+0]=w[E+1+64]=ie+le+1>>1,w[E+3+0]=w[E+2+64]=le+ue+1>>1,w[E+0+32]=ln(R,G,ie),w[E+1+32]=w[E+0+96]=ln(G,ie,le),w[E+2+32]=w[E+1+96]=ln(ie,le,ue),w[E+3+32]=w[E+2+96]=ln(le,ue,ce),w[E+3+64]=ln(ue,ce,be),w[E+3+96]=ln(ce,be,Ce)}function ts(w,E){var R=w[E-1+0],G=w[E-1+32],ie=w[E-1+64],le=w[E-1+96];w[E+0+0]=R+G+1>>1,w[E+2+0]=w[E+0+32]=G+ie+1>>1,w[E+2+32]=w[E+0+64]=ie+le+1>>1,w[E+1+0]=ln(R,G,ie),w[E+3+0]=w[E+1+32]=ln(G,ie,le),w[E+3+32]=w[E+1+64]=ln(ie,le,le),w[E+3+64]=w[E+2+64]=w[E+0+96]=w[E+1+96]=w[E+2+96]=w[E+3+96]=le}function Ro(w,E){var R=w[E-1+0],G=w[E-1+32],ie=w[E-1+64],le=w[E-1+96],ue=w[E-1-32],ce=w[E+0-32],be=w[E+1-32],Ce=w[E+2-32];w[E+0+0]=w[E+2+32]=R+ue+1>>1,w[E+0+32]=w[E+2+64]=G+R+1>>1,w[E+0+64]=w[E+2+96]=ie+G+1>>1,w[E+0+96]=le+ie+1>>1,w[E+3+0]=ln(ce,be,Ce),w[E+2+0]=ln(ue,ce,be),w[E+1+0]=w[E+3+32]=ln(R,ue,ce),w[E+1+32]=w[E+3+64]=ln(G,R,ue),w[E+1+64]=w[E+3+96]=ln(ie,G,R),w[E+1+96]=ln(le,ie,G)}function bl(w,E){var R;for(R=0;8>R;++R)r(w,E+32*R,w,E-32,8)}function mo(w,E){var R;for(R=0;8>R;++R)i(w,E,w[E-1],8),E+=32}function Is(w,E,R){var G;for(G=0;8>G;++G)i(E,R+32*G,w,8)}function W(w,E){var R,G=8;for(R=0;8>R;++R)G+=w[E+R-32]+w[E-1+32*R];Is(G>>4,w,E)}function he(w,E){var R,G=4;for(R=0;8>R;++R)G+=w[E+R-32];Is(G>>3,w,E)}function Ne(w,E){var R,G=4;for(R=0;8>R;++R)G+=w[E-1+32*R];Is(G>>3,w,E)}function at(w,E){Is(128,w,E)}function sn(w,E,R){var G=w[E-R],ie=w[E+0],le=3*(ie-G)+Hp[1020+w[E-2*R]-w[E+R]],ue=yd[112+(le+4>>3)];w[E-R]=La[255+G+yd[112+(le+3>>3)]],w[E+0]=La[255+ie-ue]}function Gt(w,E,R,G){var ie=w[E+0],le=w[E+R];return yo[255+w[E-2*R]-w[E-R]]>G||yo[255+le-ie]>G}function Pn(w,E,R,G){return 4*yo[255+w[E-R]-w[E+0]]+yo[255+w[E-2*R]-w[E+R]]<=G}function In(w,E,R,G,ie){var le=w[E-3*R],ue=w[E-2*R],ce=w[E-R],be=w[E+0],Ce=w[E+R],Me=w[E+2*R],Ge=w[E+3*R];return 4*yo[255+ce-be]+yo[255+ue-Ce]>G?0:yo[255+w[E-4*R]-le]<=ie&&yo[255+le-ue]<=ie&&yo[255+ue-ce]<=ie&&yo[255+Ge-Me]<=ie&&yo[255+Me-Ce]<=ie&&yo[255+Ce-be]<=ie}function xr(w,E,R,G){var ie=2*G+1;for(G=0;16>G;++G)Pn(w,E+G,R,ie)&&sn(w,E+G,R)}function An(w,E,R,G){var ie=2*G+1;for(G=0;16>G;++G)Pn(w,E+G*R,1,ie)&&sn(w,E+G*R,1)}function Mr(w,E,R,G){var ie;for(ie=3;0<ie;--ie)xr(w,E+=4*R,R,G)}function Ia(w,E,R,G){var ie;for(ie=3;0<ie;--ie)An(w,E+=4,R,G)}function jr(w,E,R,G,ie,le,ue,ce){for(le=2*le+1;0<ie--;){if(In(w,E,R,le,ue))if(Gt(w,E,R,ce))sn(w,E,R);else{var be=w,Ce=E,Me=R,Ge=be[Ce-2*Me],We=be[Ce-Me],qe=be[Ce+0],gt=be[Ce+Me],rt=be[Ce+2*Me],Le=27*(ft=Hp[1020+3*(qe-We)+Hp[1020+Ge-gt]])+63>>7,Fe=18*ft+63>>7,ft=9*ft+63>>7;be[Ce-3*Me]=La[255+be[Ce-3*Me]+ft],be[Ce-2*Me]=La[255+Ge+Fe],be[Ce-Me]=La[255+We+Le],be[Ce+0]=La[255+qe-Le],be[Ce+Me]=La[255+gt-Fe],be[Ce+2*Me]=La[255+rt-ft]}E+=G}}function Tr(w,E,R,G,ie,le,ue,ce){for(le=2*le+1;0<ie--;){if(In(w,E,R,le,ue))if(Gt(w,E,R,ce))sn(w,E,R);else{var be=w,Ce=E,Me=R,Ge=be[Ce-Me],We=be[Ce+0],qe=be[Ce+Me],gt=yd[112+((rt=3*(We-Ge))+4>>3)],rt=yd[112+(rt+3>>3)],Le=gt+1>>1;be[Ce-2*Me]=La[255+be[Ce-2*Me]+Le],be[Ce-Me]=La[255+Ge+rt],be[Ce+0]=La[255+We-gt],be[Ce+Me]=La[255+qe-Le]}E+=G}}function Jr(w,E,R,G,ie,le){jr(w,E,R,1,16,G,ie,le)}function ns(w,E,R,G,ie,le){jr(w,E,1,R,16,G,ie,le)}function no(w,E,R,G,ie,le){var ue;for(ue=3;0<ue;--ue)Tr(w,E+=4*R,R,1,16,G,ie,le)}function Os(w,E,R,G,ie,le){var ue;for(ue=3;0<ue;--ue)Tr(w,E+=4,1,R,16,G,ie,le)}function sf(w,E,R,G,ie,le,ue,ce){jr(w,E,ie,1,8,le,ue,ce),jr(R,G,ie,1,8,le,ue,ce)}function yl(w,E,R,G,ie,le,ue,ce){jr(w,E,1,ie,8,le,ue,ce),jr(R,G,1,ie,8,le,ue,ce)}function Po(w,E,R,G,ie,le,ue,ce){Tr(w,E+4*ie,ie,1,8,le,ue,ce),Tr(R,G+4*ie,ie,1,8,le,ue,ce)}function $p(w,E,R,G,ie,le,ue,ce){Tr(w,E+4,1,ie,8,le,ue,ce),Tr(R,G+4,1,ie,8,le,ue,ce)}function of(){this.ba=new Er,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Xn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function jh(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Th(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function lf(){this.ua=0,this.Wa=new pe,this.vb=new pe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new L,this.yc=new D}function Wm(){this.xb=this.a=0,this.l=new fo,this.ca=new Er,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new q,this.Pb=0,this.wd=new q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new lf,this.ab=0,this.gc=s(4,Th),this.Oc=0}function uf(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new fo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function dd(w,E,R,G,ie,le,ue){for(w=w==null?0:w[E+0],E=0;E<ue;++E)ie[le+E]=w+R[G+E]&255,w=ie[le+E]}function cf(w,E,R,G,ie,le,ue){var ce;if(w==null)dd(null,null,R,G,ie,le,ue);else for(ce=0;ce<ue;++ce)ie[le+ce]=w[E+ce]+R[G+ce]&255}function Ku(w,E,R,G,ie,le,ue){if(w==null)dd(null,null,R,G,ie,le,ue);else{var ce,be=w[E+0],Ce=be,Me=be;for(ce=0;ce<ue;++ce)Ce=Me+(be=w[E+ce])-Ce,Me=R[G+ce]+(-256&Ce?0>Ce?0:255:Ce)&255,Ce=be,ie[le+ce]=Me}}function Nh(w,E,R,G){var ie=E.width,le=E.o;if(n(w!=null&&E!=null),0>R||0>=G||R+G>le)return null;if(!w.Cc){if(w.ga==null){var ue;if(w.ga=new uf,(ue=w.ga==null)||(ue=E.width*E.o,n(w.Gb.length==0),w.Gb=a(ue),w.Uc=0,w.Gb==null?ue=0:(w.mb=w.Gb,w.nb=w.Uc,w.rc=null,ue=1),ue=!ue),!ue){ue=w.ga;var ce=w.Fa,be=w.P,Ce=w.qc,Me=w.mb,Ge=w.nb,We=be+1,qe=Ce-1,gt=ue.l;if(n(ce!=null&&Me!=null&&E!=null),Cl[0]=null,Cl[1]=dd,Cl[2]=cf,Cl[3]=Ku,ue.ca=Me,ue.tb=Ge,ue.c=E.width,ue.i=E.height,n(0<ue.c&&0<ue.i),1>=Ce)E=0;else if(ue.$a=ce[be+0]>>0&3,ue.Z=ce[be+0]>>2&3,ue.Lc=ce[be+0]>>4&3,be=ce[be+0]>>6&3,0>ue.$a||1<ue.$a||4<=ue.Z||1<ue.Lc||be)E=0;else if(gt.put=Vn,gt.ac=cn,gt.bc=Oi,gt.ma=ue,gt.width=E.width,gt.height=E.height,gt.Da=E.Da,gt.v=E.v,gt.va=E.va,gt.j=E.j,gt.o=E.o,ue.$a)e:{n(ue.$a==1),E=Mi();t:for(;;){if(E==null){E=0;break e}if(n(ue!=null),ue.mc=E,E.c=ue.c,E.i=ue.i,E.l=ue.l,E.l.ma=ue,E.l.width=ue.c,E.l.height=ue.i,E.a=0,Z(E.m,ce,We,qe),!sr(ue.c,ue.i,1,E,null)||(E.ab==1&&E.gc[0].hc==3&&Or(E.s)?(ue.ic=1,ce=E.c*E.i,E.Ta=null,E.Ua=0,E.V=a(ce),E.Ba=0,E.V==null?(E.a=1,E=0):E=1):(ue.ic=0,E=co(E,ue.c)),!E))break t;E=1;break e}ue.mc=null,E=0}else E=qe>=ue.c*ue.i;ue=!E}if(ue)return null;w.ga.Lc!=1?w.Ga=0:G=le-R}n(w.ga!=null),n(R+G<=le);e:{if(E=(ce=w.ga).c,le=ce.l.o,ce.$a==0){if(We=w.rc,qe=w.Vc,gt=w.Fa,be=w.P+1+R*E,Ce=w.mb,Me=w.nb+R*E,n(be<=w.P+w.qc),ce.Z!=0)for(n(Cl[ce.Z]!=null),ue=0;ue<G;++ue)Cl[ce.Z](We,qe,gt,be,Ce,Me,E),We=Ce,qe=Me,Me+=E,be+=E;else for(ue=0;ue<G;++ue)r(Ce,Me,gt,be,E),We=Ce,qe=Me,Me+=E,be+=E;w.rc=We,w.Vc=qe}else{if(n(ce.mc!=null),E=R+G,n((ue=ce.mc)!=null),n(E<=ue.i),ue.C>=E)E=1;else if(ce.ic||Ve(),ce.ic){ce=ue.V,We=ue.Ba,qe=ue.c;var rt=ue.i,Le=(gt=1,be=ue.$/qe,Ce=ue.$%qe,Me=ue.m,Ge=ue.s,ue.$),Fe=qe*rt,ft=qe*E,bt=Ge.wc,pt=Le<ft?br(Ge,Ce,be):null;n(Le<=Fe),n(E<=rt),n(Or(Ge));t:for(;;){for(;!Me.h&&Le<ft;){if(Ce&bt||(pt=br(Ge,Ce,be)),n(pt!=null),ee(Me),256>(rt=$r(pt.G[0],pt.H[0],Me)))ce[We+Le]=rt,++Le,++Ce>=qe&&(Ce=0,++be<=E&&!(be%16)&&Ki(ue,be));else{if(!(280>rt)){gt=0;break t}rt=Zn(rt-256,Me);var Lt,Dt=$r(pt.G[4],pt.H[4],Me);if(ee(Me),!(Le>=(Dt=dr(qe,Dt=Zn(Dt,Me)))&&Fe-Le>=rt)){gt=0;break t}for(Lt=0;Lt<rt;++Lt)ce[We+Le+Lt]=ce[We+Le+Lt-Dt];for(Le+=rt,Ce+=rt;Ce>=qe;)Ce-=qe,++be<=E&&!(be%16)&&Ki(ue,be);Le<ft&&Ce&bt&&(pt=br(Ge,Ce,be))}n(Me.h==ne(Me))}Ki(ue,be>E?E:be);break t}!gt||Me.h&&Le<Fe?(gt=0,ue.a=Me.h?5:3):ue.$=Le,E=gt}else E=Xi(ue,ue.V,ue.Ba,ue.c,ue.i,E,Io);if(!E){G=0;break e}}R+G>=le&&(w.Cc=1),G=1}if(!G)return null;if(w.Cc&&((G=w.ga)!=null&&(G.mc=null),w.ga=null,0<w.Ga))return alert("todo:WebPDequantizeLevels"),null}return w.nb+R*ie}function I(w,E,R,G,ie,le){for(;0<ie--;){var ue,ce=w,be=E+(R?1:0),Ce=w,Me=E+(R?0:3);for(ue=0;ue<G;++ue){var Ge=Ce[Me+4*ue];Ge!=255&&(Ge*=32897,ce[be+4*ue+0]=ce[be+4*ue+0]*Ge>>23,ce[be+4*ue+1]=ce[be+4*ue+1]*Ge>>23,ce[be+4*ue+2]=ce[be+4*ue+2]*Ge>>23)}E+=le}}function ae(w,E,R,G,ie){for(;0<G--;){var le;for(le=0;le<R;++le){var ue=w[E+2*le+0],ce=15&(Ce=w[E+2*le+1]),be=4369*ce,Ce=(240&Ce|Ce>>4)*be>>16;w[E+2*le+0]=(240&ue|ue>>4)*be>>16&240|(15&ue|ue<<4)*be>>16>>4&15,w[E+2*le+1]=240&Ce|ce}E+=ie}}function Ae(w,E,R,G,ie,le,ue,ce){var be,Ce,Me=255;for(Ce=0;Ce<ie;++Ce){for(be=0;be<G;++be){var Ge=w[E+be];le[ue+4*be]=Ge,Me&=Ge}E+=R,ue+=ce}return Me!=255}function Ie(w,E,R,G,ie){var le;for(le=0;le<ie;++le)R[G+le]=w[E+le]>>8}function Ve(){io=I,qn=ae,Bn=Ae,Vr=Ie}function ot(w,E,R){F[w]=function(G,ie,le,ue,ce,be,Ce,Me,Ge,We,qe,gt,rt,Le,Fe,ft,bt){var pt,Lt=bt-1>>1,Dt=ce[be+0]|Ce[Me+0]<<16,Jt=Ge[We+0]|qe[gt+0]<<16;n(G!=null);var _t=3*Dt+Jt+131074>>2;for(E(G[ie+0],255&_t,_t>>16,rt,Le),le!=null&&(_t=3*Jt+Dt+131074>>2,E(le[ue+0],255&_t,_t>>16,Fe,ft)),pt=1;pt<=Lt;++pt){var er=ce[be+pt]|Ce[Me+pt]<<16,fr=Ge[We+pt]|qe[gt+pt]<<16,zn=Dt+er+Jt+fr+524296,Fn=zn+2*(er+Jt)>>3;_t=Fn+Dt>>1,Dt=(zn=zn+2*(Dt+fr)>>3)+er>>1,E(G[ie+2*pt-1],255&_t,_t>>16,rt,Le+(2*pt-1)*R),E(G[ie+2*pt-0],255&Dt,Dt>>16,rt,Le+(2*pt-0)*R),le!=null&&(_t=zn+Jt>>1,Dt=Fn+fr>>1,E(le[ue+2*pt-1],255&_t,_t>>16,Fe,ft+(2*pt-1)*R),E(le[ue+2*pt+0],255&Dt,Dt>>16,Fe,ft+(2*pt+0)*R)),Dt=er,Jt=fr}1&bt||(_t=3*Dt+Jt+131074>>2,E(G[ie+bt-1],255&_t,_t>>16,rt,Le+(bt-1)*R),le!=null&&(_t=3*Jt+Dt+131074>>2,E(le[ue+bt-1],255&_t,_t>>16,Fe,ft+(bt-1)*R)))}}function St(){Ra[rs]=du,Ra[gf]=Al,Ra[wl]=cc,Ra[Oh]=Yp,Ra[xd]=Gp,Ra[su]=xf,Ra[Vp]=Qp,Ra[Mh]=Al,Ra[lc]=Yp,Ra[ou]=Gp,Ra[bf]=xf}function Mt(w){return w&-16384?0>w?0:255:w>>aw}function Qt(w,E){return Mt((19077*w>>8)+(26149*E>>8)-14234)}function Nn(w,E,R){return Mt((19077*w>>8)-(6419*E>>8)-(13320*R>>8)+8708)}function wn(w,E){return Mt((19077*w>>8)+(33050*E>>8)-17685)}function Wn(w,E,R,G,ie){G[ie+0]=Qt(w,R),G[ie+1]=Nn(w,E,R),G[ie+2]=wn(w,E)}function li(w,E,R,G,ie){G[ie+0]=wn(w,E),G[ie+1]=Nn(w,E,R),G[ie+2]=Qt(w,R)}function gi(w,E,R,G,ie){var le=Nn(w,E,R);E=le<<3&224|wn(w,E)>>3,G[ie+0]=248&Qt(w,R)|le>>5,G[ie+1]=E}function Ri(w,E,R,G,ie){var le=240&wn(w,E)|15;G[ie+0]=240&Qt(w,R)|Nn(w,E,R)>>4,G[ie+1]=le}function Pi(w,E,R,G,ie){G[ie+0]=255,Wn(w,E,R,G,ie+1)}function Oa(w,E,R,G,ie){li(w,E,R,G,ie),G[ie+3]=255}function Fo(w,E,R,G,ie){Wn(w,E,R,G,ie),G[ie+3]=255}function ro(w,E){return 0>w?0:w>E?E:w}function zo(w,E,R){F[w]=function(G,ie,le,ue,ce,be,Ce,Me,Ge){for(var We=Me+(-2&Ge)*R;Me!=We;)E(G[ie+0],le[ue+0],ce[be+0],Ce,Me),E(G[ie+1],le[ue+0],ce[be+0],Ce,Me+R),ie+=2,++ue,++be,Me+=2*R;1&Ge&&E(G[ie+0],le[ue+0],ce[be+0],Ce,Me)}}function Dh(w,E,R){return R==0?w==0?E==0?6:5:E==0?4:0:R}function tu(w,E,R,G,ie){switch(w>>>30){case 3:Bo(E,R,G,ie,0);break;case 2:Si(E,R,G,ie);break;case 1:Ji(E,R,G,ie)}}function nu(w,E){var R,G,ie=E.M,le=E.Nb,ue=w.oc,ce=w.pc+40,be=w.oc,Ce=w.pc+584,Me=w.oc,Ge=w.pc+600;for(R=0;16>R;++R)ue[ce+32*R-1]=129;for(R=0;8>R;++R)be[Ce+32*R-1]=129,Me[Ge+32*R-1]=129;for(0<ie?ue[ce-1-32]=be[Ce-1-32]=Me[Ge-1-32]=129:(i(ue,ce-32-1,127,21),i(be,Ce-32-1,127,9),i(Me,Ge-32-1,127,9)),G=0;G<w.za;++G){var We=E.ya[E.aa+G];if(0<G){for(R=-1;16>R;++R)r(ue,ce+32*R-4,ue,ce+32*R+12,4);for(R=-1;8>R;++R)r(be,Ce+32*R-4,be,Ce+32*R+4,4),r(Me,Ge+32*R-4,Me,Ge+32*R+4,4)}var qe=w.Gd,gt=w.Hd+G,rt=We.ad,Le=We.Hc;if(0<ie&&(r(ue,ce-32,qe[gt].y,0,16),r(be,Ce-32,qe[gt].f,0,8),r(Me,Ge-32,qe[gt].ea,0,8)),We.Za){var Fe=ue,ft=ce-32+16;for(0<ie&&(G>=w.za-1?i(Fe,ft,qe[gt].y[15],4):r(Fe,ft,qe[gt+1].y,0,4)),R=0;4>R;R++)Fe[ft+128+R]=Fe[ft+256+R]=Fe[ft+384+R]=Fe[ft+0+R];for(R=0;16>R;++R,Le<<=2)Fe=ue,ft=ce+Cd[R],bs[We.Ob[R]](Fe,ft),tu(Le,rt,16*+R,Fe,ft)}else if(Fe=Dh(G,ie,We.Ob[0]),cu[Fe](ue,ce),Le!=0)for(R=0;16>R;++R,Le<<=2)tu(Le,rt,16*+R,ue,ce+Cd[R]);for(R=We.Gc,Fe=Dh(G,ie,We.Dd),so[Fe](be,Ce),so[Fe](Me,Ge),Le=rt,Fe=be,ft=Ce,255&(We=R>>0)&&(170&We?$o(Le,256,Fe,ft):Rs(Le,256,Fe,ft)),We=Me,Le=Ge,255&(R>>=8)&&(170&R?$o(rt,320,We,Le):Rs(rt,320,We,Le)),ie<w.Ub-1&&(r(qe[gt].y,0,ue,ce+480,16),r(qe[gt].f,0,be,Ce+224,8),r(qe[gt].ea,0,Me,Ge+224,8)),R=8*le*w.B,qe=w.sa,gt=w.ta+16*G+16*le*w.R,rt=w.qa,We=w.ra+8*G+R,Le=w.Ha,Fe=w.Ia+8*G+R,R=0;16>R;++R)r(qe,gt+R*w.R,ue,ce+32*R,16);for(R=0;8>R;++R)r(rt,We+R*w.B,be,Ce+32*R,8),r(Le,Fe+R*w.B,Me,Ge+32*R,8)}}function df(w,E,R,G,ie,le,ue,ce,be){var Ce=[0],Me=[0],Ge=0,We=be!=null?be.kd:0,qe=be??new jh;if(w==null||12>R)return 7;qe.data=w,qe.w=E,qe.ha=R,E=[E],R=[R],qe.gb=[qe.gb];e:{var gt=E,rt=R,Le=qe.gb;if(n(w!=null),n(rt!=null),n(Le!=null),Le[0]=0,12<=rt[0]&&!t(w,gt[0],"RIFF")){if(t(w,gt[0]+8,"WEBP")){Le=3;break e}var Fe=Ee(w,gt[0]+4);if(12>Fe||4294967286<Fe){Le=3;break e}if(We&&Fe>rt[0]-8){Le=7;break e}Le[0]=Fe,gt[0]+=12,rt[0]-=12}Le=0}if(Le!=0)return Le;for(Fe=0<qe.gb[0],R=R[0];;){e:{var ft=w;rt=E,Le=R;var bt=Ce,pt=Me,Lt=gt=[0];if((_t=Ge=[Ge])[0]=0,8>Le[0])Le=7;else{if(!t(ft,rt[0],"VP8X")){if(Ee(ft,rt[0]+4)!=10){Le=3;break e}if(18>Le[0]){Le=7;break e}var Dt=Ee(ft,rt[0]+8),Jt=1+je(ft,rt[0]+12);if(2147483648<=Jt*(ft=1+je(ft,rt[0]+15))){Le=3;break e}Lt!=null&&(Lt[0]=Dt),bt!=null&&(bt[0]=Jt),pt!=null&&(pt[0]=ft),rt[0]+=18,Le[0]-=18,_t[0]=1}Le=0}}if(Ge=Ge[0],gt=gt[0],Le!=0)return Le;if(rt=!!(2&gt),!Fe&&Ge)return 3;if(le!=null&&(le[0]=!!(16&gt)),ue!=null&&(ue[0]=rt),ce!=null&&(ce[0]=0),ue=Ce[0],gt=Me[0],Ge&&rt&&be==null){Le=0;break}if(4>R){Le=7;break}if(Fe&&Ge||!Fe&&!Ge&&!t(w,E[0],"ALPH")){R=[R],qe.na=[qe.na],qe.P=[qe.P],qe.Sa=[qe.Sa];e:{Dt=w,Le=E,Fe=R;var _t=qe.gb;bt=qe.na,pt=qe.P,Lt=qe.Sa,Jt=22,n(Dt!=null),n(Fe!=null),ft=Le[0];var er=Fe[0];for(n(bt!=null),n(Lt!=null),bt[0]=null,pt[0]=null,Lt[0]=0;;){if(Le[0]=ft,Fe[0]=er,8>er){Le=7;break e}var fr=Ee(Dt,ft+4);if(4294967286<fr){Le=3;break e}var zn=8+fr+1&-2;if(Jt+=zn,0<_t&&Jt>_t){Le=3;break e}if(!t(Dt,ft,"VP8 ")||!t(Dt,ft,"VP8L")){Le=0;break e}if(er[0]<zn){Le=7;break e}t(Dt,ft,"ALPH")||(bt[0]=Dt,pt[0]=ft+8,Lt[0]=fr),ft+=zn,er-=zn}}if(R=R[0],qe.na=qe.na[0],qe.P=qe.P[0],qe.Sa=qe.Sa[0],Le!=0)break}R=[R],qe.Ja=[qe.Ja],qe.xa=[qe.xa];e:if(_t=w,Le=E,Fe=R,bt=qe.gb[0],pt=qe.Ja,Lt=qe.xa,Dt=Le[0],ft=!t(_t,Dt,"VP8 "),Jt=!t(_t,Dt,"VP8L"),n(_t!=null),n(Fe!=null),n(pt!=null),n(Lt!=null),8>Fe[0])Le=7;else{if(ft||Jt){if(_t=Ee(_t,Dt+4),12<=bt&&_t>bt-12){Le=3;break e}if(We&&_t>Fe[0]-8){Le=7;break e}pt[0]=_t,Le[0]+=8,Fe[0]-=8,Lt[0]=Jt}else Lt[0]=5<=Fe[0]&&_t[Dt+0]==47&&!(_t[Dt+4]>>5),pt[0]=Fe[0];Le=0}if(R=R[0],qe.Ja=qe.Ja[0],qe.xa=qe.xa[0],E=E[0],Le!=0)break;if(4294967286<qe.Ja)return 3;if(ce==null||rt||(ce[0]=qe.xa?2:1),ue=[ue],gt=[gt],qe.xa){if(5>R){Le=7;break}ce=ue,We=gt,rt=le,w==null||5>R?w=0:5<=R&&w[E+0]==47&&!(w[E+4]>>5)?(Fe=[0],_t=[0],bt=[0],Z(pt=new q,w,E,R),zt(pt,Fe,_t,bt)?(ce!=null&&(ce[0]=Fe[0]),We!=null&&(We[0]=_t[0]),rt!=null&&(rt[0]=bt[0]),w=1):w=0):w=0}else{if(10>R){Le=7;break}ce=gt,w==null||10>R||!ha(w,E+3,R-3)?w=0:(We=w[E+0]|w[E+1]<<8|w[E+2]<<16,rt=16383&(w[E+7]<<8|w[E+6]),w=16383&(w[E+9]<<8|w[E+8]),1&We||3<(We>>1&7)||!(We>>4&1)||We>>5>=qe.Ja||!rt||!w?w=0:(ue&&(ue[0]=rt),ce&&(ce[0]=w),w=1))}if(!w||(ue=ue[0],gt=gt[0],Ge&&(Ce[0]!=ue||Me[0]!=gt)))return 3;be!=null&&(be[0]=qe,be.offset=E-be.w,n(4294967286>E-be.w),n(be.offset==be.ha-R));break}return Le==0||Le==7&&Ge&&be==null?(le!=null&&(le[0]|=qe.na!=null&&0<qe.na.length),G!=null&&(G[0]=ue),ie!=null&&(ie[0]=gt),0):Le}function Xu(w,E,R){var G=E.width,ie=E.height,le=0,ue=0,ce=G,be=ie;if(E.Da=w!=null&&0<w.Da,E.Da&&(ce=w.cd,be=w.bd,le=w.v,ue=w.j,11>R||(le&=-2,ue&=-2),0>le||0>ue||0>=ce||0>=be||le+ce>G||ue+be>ie))return 0;if(E.v=le,E.j=ue,E.va=le+ce,E.o=ue+be,E.U=ce,E.T=be,E.da=w!=null&&0<w.da,E.da){if(!tt(ce,be,R=[w.ib],le=[w.hb]))return 0;E.ib=R[0],E.hb=le[0]}return E.ob=w!=null&&w.ob,E.Kb=w==null||!w.Sd,E.da&&(E.ob=E.ib<3*G/4&&E.hb<3*ie/4,E.Kb=0),1}function ff(w){if(w==null)return 2;if(11>w.S){var E=w.f.RGBA;E.fb+=(w.height-1)*E.A,E.A=-E.A}else E=w.f.kb,w=w.height,E.O+=(w-1)*E.fa,E.fa=-E.fa,E.N+=(w-1>>1)*E.Ab,E.Ab=-E.Ab,E.W+=(w-1>>1)*E.Db,E.Db=-E.Db,E.F!=null&&(E.J+=(w-1)*E.lb,E.lb=-E.lb);return 0}function fd(w,E,R,G){if(G==null||0>=w||0>=E)return 2;if(R!=null){if(R.Da){var ie=R.cd,le=R.bd,ue=-2&R.v,ce=-2&R.j;if(0>ue||0>ce||0>=ie||0>=le||ue+ie>w||ce+le>E)return 2;w=ie,E=le}if(R.da){if(!tt(w,E,ie=[R.ib],le=[R.hb]))return 2;w=ie[0],E=le[0]}}G.width=w,G.height=E;e:{var be=G.width,Ce=G.height;if(w=G.S,0>=be||0>=Ce||!(w>=rs&&13>w))w=2;else{if(0>=G.Rd&&G.sd==null){ue=le=ie=E=0;var Me=(ce=be*iy[w])*Ce;if(11>w||(le=(Ce+1)/2*(E=(be+1)/2),w==12&&(ue=(ie=be)*Ce)),(Ce=a(Me+2*le+ue))==null){w=1;break e}G.sd=Ce,11>w?((be=G.f.RGBA).eb=Ce,be.fb=0,be.A=ce,be.size=Me):((be=G.f.kb).y=Ce,be.O=0,be.fa=ce,be.Fd=Me,be.f=Ce,be.N=0+Me,be.Ab=E,be.Cd=le,be.ea=Ce,be.W=0+Me+le,be.Db=E,be.Ed=le,w==12&&(be.F=Ce,be.J=0+Me+2*le),be.Tc=ue,be.lb=ie)}if(E=1,ie=G.S,le=G.width,ue=G.height,ie>=rs&&13>ie)if(11>ie)w=G.f.RGBA,E&=(ce=Math.abs(w.A))*(ue-1)+le<=w.size,E&=ce>=le*iy[ie],E&=w.eb!=null;else{w=G.f.kb,ce=(le+1)/2,Me=(ue+1)/2,be=Math.abs(w.fa),Ce=Math.abs(w.Ab);var Ge=Math.abs(w.Db),We=Math.abs(w.lb),qe=We*(ue-1)+le;E&=be*(ue-1)+le<=w.Fd,E&=Ce*(Me-1)+ce<=w.Cd,E=(E&=Ge*(Me-1)+ce<=w.Ed)&be>=le&Ce>=ce&Ge>=ce,E&=w.y!=null,E&=w.f!=null,E&=w.ea!=null,ie==12&&(E&=We>=le,E&=qe<=w.Tc,E&=w.F!=null)}else E=0;w=E?0:2}}return w!=0||R!=null&&R.fd&&(w=ff(G)),w}var ma=64,Zu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],hd=24,pd=32,hf=8,Ms=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ze("Predictor0","PredictorAdd0"),F.Predictor0=function(){return 4278190080},F.Predictor1=function(w){return w},F.Predictor2=function(w,E,R){return E[R+0]},F.Predictor3=function(w,E,R){return E[R+1]},F.Predictor4=function(w,E,R){return E[R-1]},F.Predictor5=function(w,E,R){return wt(wt(w,E[R+1]),E[R+0])},F.Predictor6=function(w,E,R){return wt(w,E[R-1])},F.Predictor7=function(w,E,R){return wt(w,E[R+0])},F.Predictor8=function(w,E,R){return wt(E[R-1],E[R+0])},F.Predictor9=function(w,E,R){return wt(E[R+0],E[R+1])},F.Predictor10=function(w,E,R){return wt(wt(w,E[R-1]),wt(E[R+0],E[R+1]))},F.Predictor11=function(w,E,R){var G=E[R+0];return 0>=qt(G>>24&255,w>>24&255,(E=E[R-1])>>24&255)+qt(G>>16&255,w>>16&255,E>>16&255)+qt(G>>8&255,w>>8&255,E>>8&255)+qt(255&G,255&w,255&E)?G:w},F.Predictor12=function(w,E,R){var G=E[R+0];return(Et((w>>24&255)+(G>>24&255)-((E=E[R-1])>>24&255))<<24|Et((w>>16&255)+(G>>16&255)-(E>>16&255))<<16|Et((w>>8&255)+(G>>8&255)-(E>>8&255))<<8|Et((255&w)+(255&G)-(255&E)))>>>0},F.Predictor13=function(w,E,R){var G=E[R-1];return(Ot((w=wt(w,E[R+0]))>>24&255,G>>24&255)<<24|Ot(w>>16&255,G>>16&255)<<16|Ot(w>>8&255,G>>8&255)<<8|Ot(w>>0&255,G>>0&255))>>>0};var Ym=F.PredictorAdd0;F.PredictorAdd1=Qe,Ze("Predictor2","PredictorAdd2"),Ze("Predictor3","PredictorAdd3"),Ze("Predictor4","PredictorAdd4"),Ze("Predictor5","PredictorAdd5"),Ze("Predictor6","PredictorAdd6"),Ze("Predictor7","PredictorAdd7"),Ze("Predictor8","PredictorAdd8"),Ze("Predictor9","PredictorAdd9"),Ze("Predictor10","PredictorAdd10"),Ze("Predictor11","PredictorAdd11"),Ze("Predictor12","PredictorAdd12"),Ze("Predictor13","PredictorAdd13");var _h=F.PredictorAdd2;Ke("ColorIndexInverseTransform","MapARGB","32b",function(w){return w>>8&255},function(w){return w}),Ke("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(w){return w},function(w){return w>>8&255});var Up,go=F.ColorIndexInverseTransform,Ma=F.MapARGB,Ju=F.VP8LColorIndexInverseTransformAlpha,Ih=F.MapAlpha,ru=F.VP8LPredictorsAdd=[];ru.length=16,(F.VP8LPredictors=[]).length=16,(F.VP8LPredictorsAdd_C=[]).length=16,(F.VP8LPredictors_C=[]).length=16;var ec,gs,Wa,tc,Ls,qo,xl,Bo,Si,$o,Ji,Rs,md,vl,pf,nc,rc,ic,gd,mf,ac,iu,bd,Ci,io,qn,Bn,Vr,Fi=a(511),bo=a(2041),sc=a(225),oc=a(767),au=0,Hp=bo,yd=sc,La=oc,yo=Fi,rs=0,gf=1,wl=2,Oh=3,xd=4,su=5,Vp=6,Mh=7,lc=8,ou=9,bf=10,Wp=[2,3,7],xo=[3,3,11],ao=[280,256,256,256,40],vd=[0,1,1,1,0],lu=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],uu=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],wd=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Jb=8,Lh=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Rh=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ga=null,Ai=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],or=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],uc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Sl=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Gm=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Sd=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ey=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],cu=[],bs=[],so=[],ty=1,yf=2,Cl=[],Ra=[];ot("UpsampleRgbLinePair",Wn,3),ot("UpsampleBgrLinePair",li,3),ot("UpsampleRgbaLinePair",Fo,4),ot("UpsampleBgraLinePair",Oa,4),ot("UpsampleArgbLinePair",Pi,4),ot("UpsampleRgba4444LinePair",Ri,2),ot("UpsampleRgb565LinePair",gi,2);var du=F.UpsampleRgbLinePair,cc=F.UpsampleBgrLinePair,Al=F.UpsampleRgbaLinePair,Yp=F.UpsampleBgraLinePair,Gp=F.UpsampleArgbLinePair,xf=F.UpsampleRgba4444LinePair,Qp=F.UpsampleRgb565LinePair,kl=16,ba=1<<kl-1,dc=-227,Kp=482,aw=6,ny=0,sw=a(256),ya=a(256),Qm=a(256),Ph=a(256),Fh=a(Kp-dc),Km=a(Kp-dc);zo("YuvToRgbRow",Wn,3),zo("YuvToBgrRow",li,3),zo("YuvToRgbaRow",Fo,4),zo("YuvToBgraRow",Oa,4),zo("YuvToArgbRow",Pi,4),zo("YuvToRgba4444Row",Ri,2),zo("YuvToRgb565Row",gi,2);var Cd=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],fu=[0,2,8],ow=[8,7,6,4,4,2,2,2,1,1,1,1],ry=1;this.WebPDecodeRGBA=function(w,E,R,G,ie){var le=gf,ue=new of,ce=new Er;ue.ba=ce,ce.S=le,ce.width=[ce.width],ce.height=[ce.height];var be=ce.width,Ce=ce.height,Me=new Hn;if(Me==null||w==null)var Ge=2;else n(Me!=null),Ge=df(w,E,R,Me.width,Me.height,Me.Pd,Me.Qd,Me.format,null);if(Ge!=0?be=0:(be!=null&&(be[0]=Me.width[0]),Ce!=null&&(Ce[0]=Me.height[0]),be=1),be){ce.width=ce.width[0],ce.height=ce.height[0],G!=null&&(G[0]=ce.width),ie!=null&&(ie[0]=ce.height);e:{if(G=new fo,(ie=new jh).data=w,ie.w=E,ie.ha=R,ie.kd=1,E=[0],n(ie!=null),((w=df(ie.data,ie.w,ie.ha,null,null,null,E,null,ie))==0||w==7)&&E[0]&&(w=4),(E=w)==0){if(n(ue!=null),G.data=ie.data,G.w=ie.w+ie.offset,G.ha=ie.ha-ie.offset,G.put=Vn,G.ac=cn,G.bc=Oi,G.ma=ue,ie.xa){if((w=Mi())==null){ue=1;break e}if(function(We,qe){var gt=[0],rt=[0],Le=[0];t:for(;;){if(We==null)return 0;if(qe==null)return We.a=2,0;if(We.l=qe,We.a=0,Z(We.m,qe.data,qe.w,qe.ha),!zt(We.m,gt,rt,Le)){We.a=3;break t}if(We.xb=yf,qe.width=gt[0],qe.height=rt[0],!sr(gt[0],rt[0],1,We,null))break t;return 1}return n(We.a!=0),0}(w,G)){if(G=(E=fd(G.width,G.height,ue.Oa,ue.ba))==0){t:{G=w;n:for(;;){if(G==null){G=0;break t}if(n(G.s.yc!=null),n(G.s.Ya!=null),n(0<G.s.Wb),n((R=G.l)!=null),n((ie=R.ma)!=null),G.xb!=0){if(G.ca=ie.ba,G.tb=ie.tb,n(G.ca!=null),!Xu(ie.Oa,R,Oh)){G.a=2;break n}if(!co(G,R.width)||R.da)break n;if((R.da||Ht(G.ca.S))&&Ve(),11>G.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),G.ca.f.kb.F!=null&&Ve()),G.Pb&&0<G.s.ua&&G.s.vb.X==null&&!Ue(G.s.vb,G.s.Wa.Xa)){G.a=1;break n}G.xb=0}if(!Xi(G,G.V,G.Ba,G.c,G.i,R.o,js))break n;ie.Dc=G.Ma,G=1;break t}n(G.a!=0),G=0}G=!G}G&&(E=w.a)}else E=w.a}else{if((w=new cd)==null){ue=1;break e}if(w.Fa=ie.na,w.P=ie.P,w.qc=ie.Sa,ho(w,G)){if((E=fd(G.width,G.height,ue.Oa,ue.ba))==0){if(w.Aa=0,R=ue.Oa,n((ie=w)!=null),R!=null){if(0<(be=0>(be=R.Md)?0:100<be?255:255*be/100)){for(Ce=Me=0;4>Ce;++Ce)12>(Ge=ie.pb[Ce]).lc&&(Ge.ia=be*ow[0>Ge.lc?0:Ge.lc]>>3),Me|=Ge.ia;Me&&(alert("todo:VP8InitRandom"),ie.ia=1)}ie.Ga=R.Id,100<ie.Ga?ie.Ga=100:0>ie.Ga&&(ie.Ga=0)}Jl(w,G)||(E=w.a)}}else E=w.a}E==0&&ue.Oa!=null&&ue.Oa.fd&&(E=ff(ue.ba))}ue=E}le=ue!=0?null:11>le?ce.f.RGBA.eb:ce.f.kb.y}else le=null;return le};var iy=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(F,V){for(var X="",T=0;T<4;T++)X+=String.fromCharCode(F[V++]);return X}function h(F,V){return(F[V+0]<<0|F[V+1]<<8|F[V+2]<<16)>>>0}function m(F,V){return(F[V+0]<<0|F[V+1]<<8|F[V+2]<<16|F[V+3]<<24)>>>0}new u;var b=[0],g=[0],v=[],x=new u,C=e,S=function(F,V){var X={},T=0,D=!1,O=0,L=0;if(X.frames=[],!function(z,ne,oe,ee){for(var ge=0;ge<ee;ge++)if(z[ne+ge]!=oe.charCodeAt(ge))return!0;return!1}(F,V,"RIFF",4)){for(m(F,V+=4),V+=8;V<F.length;){var Q=f(F,V),$=m(F,V+=4);V+=4;var Y=$+(1&$);switch(Q){case"VP8 ":case"VP8L":X.frames[T]===void 0&&(X.frames[T]={}),(H=X.frames[T]).src_off=D?L:V-8,H.src_size=O+$+8,T++,D&&(D=!1,O=0,L=0);break;case"VP8X":(H=X.header={}).feature_flags=F[V];var Z=V+4;H.canvas_width=1+h(F,Z),Z+=3,H.canvas_height=1+h(F,Z),Z+=3;break;case"ALPH":D=!0,O=Y+8,L=V-8;break;case"ANIM":(H=X.header).bgcolor=m(F,V),Z=V+4,H.loop_count=(me=F)[(q=Z)+0]<<0|me[q+1]<<8,Z+=2;break;case"ANMF":var re,H;(H=X.frames[T]={}).offset_x=2*h(F,V),V+=3,H.offset_y=2*h(F,V),V+=3,H.width=1+h(F,V),V+=3,H.height=1+h(F,V),V+=3,H.duration=h(F,V),V+=3,re=F[V++],H.dispose=1&re,H.blend=re>>1&1}Q!="ANMF"&&(V+=Y)}var me,q;return X}}(C,0);S.response=C,S.rgbaoutput=!0,S.dataurl=!1;var A=S.header?S.header:null,N=S.frames?S.frames:null;if(A){A.loop_counter=A.loop_count,b=[A.canvas_height],g=[A.canvas_width];for(var P=0;P<N.length&&N[P].blend!=0;P++);}var U=N[0],B=x.WebPDecodeRGBA(C,U.src_off,U.src_size,g,b);U.rgba=B,U.imgwidth=g[0],U.imgheight=b[0];for(var j=0;j<g[0]*b[0]*4;j++)v[j]=B[j];return this.width=g,this.height=b,this.data=v,this}(function(e){var n=function(){return typeof S6=="function"},t=function(b,g,v,x){var C=4,S=s;switch(x){case e.image_compression.FAST:C=1,S=a;break;case e.image_compression.MEDIUM:C=6,S=l;break;case e.image_compression.SLOW:C=9,S=u}b=r(b,g,v,S);var A=S6(b,{level:C});return e.__addimage__.arrayBufferToBinaryString(A)},r=function(b,g,v,x){for(var C,S,A,N=b.length/g,P=new Uint8Array(b.length+N),U=h(),B=0;B<N;B+=1){if(A=B*g,C=b.subarray(A,A+g),x)P.set(x(C,v,S),A+B);else{for(var j,F=U.length,V=[];j<F;j+=1)V[j]=U[j](C,v,S);var X=m(V.concat());P.set(V[X],A+B)}S=C}return P},i=function(b){var g=Array.apply([],b);return g.unshift(0),g},a=function(b,g){var v,x=[],C=b.length;x[0]=1;for(var S=0;S<C;S+=1)v=b[S-g]||0,x[S+1]=b[S]-v+256&255;return x},s=function(b,g,v){var x,C=[],S=b.length;C[0]=2;for(var A=0;A<S;A+=1)x=v&&v[A]||0,C[A+1]=b[A]-x+256&255;return C},l=function(b,g,v){var x,C,S=[],A=b.length;S[0]=3;for(var N=0;N<A;N+=1)x=b[N-g]||0,C=v&&v[N]||0,S[N+1]=b[N]+256-(x+C>>>1)&255;return S},u=function(b,g,v){var x,C,S,A,N=[],P=b.length;N[0]=4;for(var U=0;U<P;U+=1)x=b[U-g]||0,C=v&&v[U]||0,S=v&&v[U-g]||0,A=f(x,C,S),N[U+1]=b[U]-A+256&255;return N},f=function(b,g,v){if(b===g&&g===v)return b;var x=Math.abs(g-v),C=Math.abs(b-v),S=Math.abs(b+g-v-v);return x<=C&&x<=S?b:C<=S?g:v},h=function(){return[i,a,s,l,u]},m=function(b){var g=b.map(function(v){return v.reduce(function(x,C){return x+Math.abs(C)},0)});return g.indexOf(Math.min.apply(null,g))};e.processPNG=function(b,g,v,x){var C,S,A,N,P,U,B,j,F,V,X,T,D,O,L,Q=this.decode.FLATE_DECODE,$="";if(this.__addimage__.isArrayBuffer(b)&&(b=new Uint8Array(b)),this.__addimage__.isArrayBufferView(b)){if(b=(A=new nZ(b)).imgData,S=A.bits,C=A.colorSpace,P=A.colors,[4,6].indexOf(A.colorType)!==-1){if(A.bits===8){F=(j=A.pixelBitlength==32?new Uint32Array(A.decodePixels().buffer):A.pixelBitlength==16?new Uint16Array(A.decodePixels().buffer):new Uint8Array(A.decodePixels().buffer)).length,X=new Uint8Array(F*A.colors),V=new Uint8Array(F);var Y,Z=A.pixelBitlength-A.bits;for(O=0,L=0;O<F;O++){for(D=j[O],Y=0;Y<Z;)X[L++]=D>>>Y&255,Y+=A.bits;V[O]=D>>>Y&255}}if(A.bits===16){F=(j=new Uint32Array(A.decodePixels().buffer)).length,X=new Uint8Array(F*(32/A.pixelBitlength)*A.colors),V=new Uint8Array(F*(32/A.pixelBitlength)),T=A.colors>1,O=0,L=0;for(var re=0;O<F;)D=j[O++],X[L++]=D>>>0&255,T&&(X[L++]=D>>>16&255,D=j[O++],X[L++]=D>>>0&255),V[re++]=D>>>16&255;S=8}x!==e.image_compression.NONE&&n()?(b=t(X,A.width*A.colors,A.colors,x),B=t(V,A.width,1,x)):(b=X,B=V,Q=void 0)}if(A.colorType===3&&(C=this.color_spaces.INDEXED,U=A.palette,A.transparency.indexed)){var H=A.transparency.indexed,me=0;for(O=0,F=H.length;O<F;++O)me+=H[O];if((me/=255)===F-1&&H.indexOf(0)!==-1)N=[H.indexOf(0)];else if(me!==F){for(j=A.decodePixels(),V=new Uint8Array(j.length),O=0,F=j.length;O<F;O++)V[O]=H[j[O]];B=t(V,A.width,1)}}var q=function(z){var ne;switch(z){case e.image_compression.FAST:ne=11;break;case e.image_compression.MEDIUM:ne=13;break;case e.image_compression.SLOW:ne=14;break;default:ne=12}return ne}(x);return Q===this.decode.FLATE_DECODE&&($="/Predictor "+q+" "),$+="/Colors "+P+" /BitsPerComponent "+S+" /Columns "+A.width,(this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),(B&&this.__addimage__.isArrayBuffer(B)||this.__addimage__.isArrayBufferView(B))&&(B=this.__addimage__.arrayBufferToBinaryString(B)),{alias:v,data:b,index:g,filter:Q,decodeParameters:$,transparency:N,palette:U,sMask:B,predictor:q,width:A.width,height:A.height,bitsPerComponent:S,colorSpace:C}}}})(pn.API),function(e){e.processGIF89A=function(n,t,r,i){var a=new rZ(n),s=a.width,l=a.height,u=[];a.decodeAndBlitFrameRGBA(0,u);var f={data:u,width:s,height:l},h=new tS(100).encode(f,100);return e.processJPEG.call(this,h,t,r,i)},e.processGIF87A=e.processGIF89A}(pn.API),wu.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var n=0;n<e;n++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[n]={red:i,green:r,blue:t,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},wu.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,n=this.width*this.height*4;this.data=new Uint8Array(n),this[e]()}catch(t){ti.log("bit decode error:"+t)}},wu.prototype.bit1=function(){var e,n=Math.ceil(this.width/8),t=n%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<n;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var u=this.palette[a>>7-l&1];this.data[s+4*l]=u.blue,this.data[s+4*l+1]=u.green,this.data[s+4*l+2]=u.red,this.data[s+4*l+3]=255}t!==0&&(this.pos+=4-t)}},wu.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),n=e%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,l=a>>4,u=15&a,f=this.palette[l];if(this.data[s]=f.blue,this.data[s+1]=f.green,this.data[s+2]=f.red,this.data[s+3]=255,2*i+1>=this.width)break;f=this.palette[u],this.data[s+4]=f.blue,this.data[s+4+1]=f.green,this.data[s+4+2]=f.red,this.data[s+4+3]=255}n!==0&&(this.pos+=4-n)}},wu.prototype.bit8=function(){for(var e=this.width%4,n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},wu.prototype.bit15=function(){for(var e=this.width%3,n=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&n)/n*255|0,l=(a>>5&n)/n*255|0,u=(a>>10&n)/n*255|0,f=a>>15?255:0,h=r*this.width*4+4*i;this.data[h]=u,this.data[h+1]=l,this.data[h+2]=s,this.data[h+3]=f}this.pos+=e}},wu.prototype.bit16=function(){for(var e=this.width%3,n=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&n)/n*255|0,u=(s>>5&t)/t*255|0,f=(s>>11)/n*255|0,h=i*this.width*4+4*a;this.data[h]=f,this.data[h+1]=u,this.data[h+2]=l,this.data[h+3]=255}this.pos+=e}},wu.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*t;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},wu.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var n=this.bottom_up?e:this.height-1-e,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+4*t;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=s}},wu.prototype.getData=function(){return this.data},function(e){e.processBMP=function(n,t,r,i){var a=new wu(n,!1),s=a.width,l=a.height,u={data:a.getData(),width:s,height:l},f=new tS(100).encode(u,100);return e.processJPEG.call(this,f,t,r,i)}}(pn.API),Yj.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(n,t,r,i){var a=new Yj(n),s=a.width,l=a.height,u={data:a.getData(),width:s,height:l},f=new tS(100).encode(u,100);return e.processJPEG.call(this,f,t,r,i)}}(pn.API),pn.API.processRGBA=function(e,n,t){for(var r=e.data,i=r.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),l=0,u=0,f=0;f<i;f+=4){var h=r[f],m=r[f+1],b=r[f+2],g=r[f+3];a[l++]=h,a[l++]=m,a[l++]=b,s[u++]=g}var v=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:v,index:n,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},pn.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},w0=pn.API,yx=w0.getCharWidthsArray=function(e,n){var t,r,i=(n=n||{}).font||this.internal.getFont(),a=n.fontSize||this.internal.getFontSize(),s=n.charSpace||this.internal.getCharSpace(),l=n.widths?n.widths:i.metadata.Unicode.widths,u=l.fof?l.fof:1,f=n.kerning?n.kerning:i.metadata.Unicode.kerning,h=f.fof?f.fof:1,m=n.doKerning!==!1,b=0,g=e.length,v=0,x=l[0]||u,C=[];for(t=0;t<g;t++)r=e.charCodeAt(t),typeof i.metadata.widthOfString=="function"?C.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/a)||0)/1e3):(b=m&&ai(f[r])==="object"&&!isNaN(parseInt(f[r][v],10))?f[r][v]/h:0,C.push((l[r]||x)/u+b)),v=r;return C},Uj=w0.getStringUnitWidth=function(e,n){var t=(n=n||{}).fontSize||this.internal.getFontSize(),r=n.font||this.internal.getFont(),i=n.charSpace||this.internal.getCharSpace();return w0.processArabic&&(e=w0.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,t,i)/t:yx.apply(this,arguments).reduce(function(a,s){return a+s},0)},Hj=function(e,n,t,r){for(var i=[],a=0,s=e.length,l=0;a!==s&&l+n[a]<t;)l+=n[a],a++;i.push(e.slice(0,a));var u=a;for(l=0;a!==s;)l+n[a]>r&&(i.push(e.slice(u,a)),l=0,u=a),l+=n[a],a++;return u!==a&&i.push(e.slice(u,a)),i},Vj=function(e,n,t){t||(t={});var r,i,a,s,l,u,f,h=[],m=[h],b=t.textIndent||0,g=0,v=0,x=e.split(" "),C=yx.apply(this,[" ",t])[0];if(u=t.lineIndent===-1?x[0].length+2:t.lineIndent||0){var S=Array(u).join(" "),A=[];x.map(function(P){(P=P.split(/\s*\n/)).length>1?A=A.concat(P.map(function(U,B){return(B&&U.length?`
`:"")+U})):A.push(P[0])}),x=A,u=Uj.apply(this,[S,t])}for(a=0,s=x.length;a<s;a++){var N=0;if(r=x[a],u&&r[0]==`
`&&(r=r.substr(1),N=1),b+g+(v=(i=yx.apply(this,[r,t])).reduce(function(P,U){return P+U},0))>n||N){if(v>n){for(l=Hj.apply(this,[r,i,n-(b+g),n]),h.push(l.shift()),h=[l.pop()];l.length;)m.push([l.shift()]);v=i.slice(r.length-(h[0]?h[0].length:0)).reduce(function(P,U){return P+U},0)}else h=[r];m.push(h),b=v+u,g=C}else h.push(r),b+=g+v,g=C}return f=u?function(P,U){return(U?S:"")+P.join(" ")}:function(P){return P.join(" ")},m.map(f)},w0.splitTextToSize=function(e,n,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),a=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var m=this.internal.getFont(h.fontName,h.fontStyle);return m.metadata.Unicode?{widths:m.metadata.Unicode.widths||{0:1},kerning:m.metadata.Unicode.kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*n/i;a.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=t.lineIndent;var l,u,f=[];for(l=0,u=r.length;l<u;l++)f=f.concat(Vj.apply(this,[r[l],s,a]));return f},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var n="klmnopqrstuvwxyz",t={},r={},i=0;i<n.length;i++)t[n[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=n[i];var a=function(m){return"0x"+parseInt(m,10).toString(16)},s=e.__fontmetrics__.compress=function(m){var b,g,v,x,C=["{"];for(var S in m){if(b=m[S],isNaN(parseInt(S,10))?g="'"+S+"'":(S=parseInt(S,10),g=(g=a(S).slice(2)).slice(0,-1)+r[g.slice(-1)]),typeof b=="number")b<0?(v=a(b).slice(3),x="-"):(v=a(b).slice(2),x=""),v=x+v.slice(0,-1)+r[v.slice(-1)];else{if(ai(b)!=="object")throw new Error("Don't know what to do with value type "+ai(b)+".");v=s(b)}C.push(g+v)}return C.push("}"),C.join("")},l=e.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,g,v,x,C={},S=1,A=C,N=[],P="",U="",B=m.length-1,j=1;j<B;j+=1)(x=m[j])=="'"?b?(v=b.join(""),b=void 0):b=[]:b?b.push(x):x=="{"?(N.push([A,v]),A={},v=void 0):x=="}"?((g=N.pop())[0][g[1]]=A,v=void 0,A=g[0]):x=="-"?S=-1:v===void 0?t.hasOwnProperty(x)?(P+=t[x],v=parseInt(P,16)*S,S=1,P=""):P+=x:t.hasOwnProperty(x)?(U+=t[x],A[v]=parseInt(U,16)*S,S=1,v=void 0,U=""):U+=x;return C},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(m){var b=m.font,g=h.Unicode[b.postScriptName];g&&(b.metadata.Unicode={},b.metadata.Unicode.widths=g.widths,b.metadata.Unicode.kerning=g.kerning);var v=f.Unicode[b.postScriptName];v&&(b.metadata.Unicode.encoding=v,b.encoding=v.codePages[0])}])}(pn.API),function(e){var n=function(t){for(var r=t.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=t.charCodeAt(a);return i};e.API.events.push(["addFont",function(t){var r=void 0,i=t.font,a=t.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,l){l=/^\x00\x01\x00\x00/.test(l)?n(l):n(I1(l)),s.metadata=e.API.TTFFont.open(l),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])}(pn),function(e){function n(){return(yn.canvg?Promise.resolve(yn.canvg):Ti(()=>import("./index.es-CKi6fjx7.js"),__vite__mapDeps([6,4,1]))).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}pn.API.addSvgAsImage=function(t,r,i,a,s,l,u,f){if(isNaN(r)||isNaN(i))throw ti.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw ti.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=a,h.height=s;var m=h.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,h.width,h.height);var b={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return n().then(function(v){return v.fromString(m,t,b)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(b)}).then(function(){g.addImage(h.toDataURL("image/jpeg",1),r,i,a,s,u,f)})}}(),pn.API.putTotalPages=function(e){var n,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(n=new RegExp(e,"g"),t=this.internal.getNumberOfPages()):(n=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(n,t);return this},pn.API.viewerPreferences=function(e,n){var t;e=e||{},n=n||!1;var r,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),u=[],f=0,h=0,m=0;function b(v,x){var C,S=!1;for(C=0;C<v.length;C+=1)v[C]===x&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,e==="reset"||n===!0){var g=l.length;for(m=0;m<g;m+=1)t[l[m]].value=t[l[m]].defaultValue,t[l[m]].explicitSet=!1}if(ai(e)==="object"){for(i in e)if(a=e[i],b(l,i)&&a!==void 0){if(t[i].type==="boolean"&&typeof a=="boolean")t[i].value=a;else if(t[i].type==="name"&&b(t[i].valueSet,a))t[i].value=a;else if(t[i].type==="integer"&&Number.isInteger(a))t[i].value=a;else if(t[i].type==="array"){for(f=0;f<a.length;f+=1)if(r=!0,a[f].length===1&&typeof a[f][0]=="number")u.push(String(a[f]-1));else if(a[f].length>1){for(h=0;h<a[f].length;h+=1)typeof a[f][h]!="number"&&(r=!1);r===!0&&u.push([a[f][0]-1,a[f][1]-1].join(" "))}t[i].value="["+u.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,x=[];for(v in t)t[v].explicitSet===!0&&(t[v].type==="name"?x.push("/"+v+" /"+t[v].value):x.push("/"+v+" "+t[v].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(e){var n=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),f=a.length+s.length+l.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+l+u),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",n)),this}}(pn.API),function(e){var n=e.API,t=n.pdfEscape16=function(a,s){for(var l,u=s.metadata.Unicode.widths,f=["","0","00","000","0000"],h=[""],m=0,b=a.length;m<b;++m){if(l=s.metadata.characterToGlyph(a.charCodeAt(m)),s.metadata.glyIdsUsed.push(l),s.metadata.toUnicode[l]=a.charCodeAt(m),u.indexOf(l)==-1&&(u.push(l),u.push([parseInt(s.metadata.widthOfGlyph(l),10)])),l=="0")return h.join("");l=l.toString(16),h.push(f[4-l.length],l)}return h.join("")},r=function(a){var s,l,u,f,h,m,b;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],m=0,b=(l=Object.keys(a).sort(function(g,v){return g-v})).length;m<b;m++)s=l[m],u.length>=100&&(h+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(f=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),u.push("<"+s+"><"+f+">"));return u.length&&(h+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};n.events.push(["putFont",function(a){(function(s){var l=s.font,u=s.out,f=s.newObject,h=s.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var m=l.metadata.Unicode.widths,b=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),g="",v=0;v<b.length;v++)g+=String.fromCharCode(b[v]);var x=f();h({data:g,addLength1:!0,objectId:x}),u("endobj");var C=f();h({data:r(l.metadata.toUnicode),addLength1:!0,objectId:C}),u("endobj");var S=f();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+U0(l.fontName)),u("/FontFile2 "+x+" 0 R"),u("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),u("/Flags "+l.metadata.flags),u("/StemV "+l.metadata.stemV),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u(">>"),u("endobj");var A=f();u("<<"),u("/Type /Font"),u("/BaseFont /"+U0(l.fontName)),u("/FontDescriptor "+S+" 0 R"),u("/W "+e.API.PDFObject.convert(m)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+l.encoding+")"),u(">>"),u(">>"),u("endobj"),l.objectNumber=f(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+C+" 0 R"),u("/BaseFont /"+U0(l.fontName)),u("/Encoding /"+l.encoding),u("/DescendantFonts ["+A+" 0 R]"),u(">>"),u("endobj"),l.isAlreadyPutted=!0}})(a)}]),n.events.push(["putFont",function(a){(function(s){var l=s.font,u=s.out,f=s.newObject,h=s.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var m=l.metadata.rawData,b="",g=0;g<m.length;g++)b+=String.fromCharCode(m[g]);var v=f();h({data:b,addLength1:!0,objectId:v}),u("endobj");var x=f();h({data:r(l.metadata.toUnicode),addLength1:!0,objectId:x}),u("endobj");var C=f();u("<<"),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u("/StemV "+l.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+v+" 0 R"),u("/Flags 96"),u("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),u("/FontName /"+U0(l.fontName)),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u(">>"),u("endobj"),l.objectNumber=f();for(var S=0;S<l.metadata.hmtx.widths.length;S++)l.metadata.hmtx.widths[S]=parseInt(l.metadata.hmtx.widths[S]*(1e3/l.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+U0(l.fontName)+"/FontDescriptor "+C+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),u("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,l=a.text||"",u=a.x,f=a.y,h=a.options||{},m=a.mutex||{},b=m.pdfEscape,g=m.activeFontKey,v=m.fonts,x=g,C="",S=0,A="",N=v[x].encoding;if(v[x].encoding!=="Identity-H")return{text:l,x:u,y:f,options:h,mutex:m};for(A=l,x=g,Array.isArray(l)&&(A=l[0]),S=0;S<A.length;S+=1)v[x].metadata.hasOwnProperty("cmap")&&(s=v[x].metadata.cmap.unicode.codeMap[A[S].charCodeAt(0)]),s||A[S].charCodeAt(0)<256&&v[x].metadata.hasOwnProperty("Unicode")?C+=A[S]:C+="";var P="";return parseInt(x.slice(1))<14||N==="WinAnsiEncoding"?P=b(C,x).split("").map(function(U){return U.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(P=t(C,v[x])),m.isHex=!0,{text:P,x:u,y:f,options:h,mutex:m}};n.events.push(["postProcessText",function(a){var s=a.text||"",l=[],u={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var f=0;for(f=0;f<s.length;f+=1)Array.isArray(s[f])&&s[f].length===3?l.push([i(Object.assign({},u,{text:s[f][0]})).text,s[f][1],s[f][2]]):l.push(i(Object.assign({},u,{text:s[f]})).text);a.text=l}else a.text=i(Object.assign({},u,{text:s})).text}])}(pn),function(e){var n=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(t){return n.call(this),this.internal.vFS[t]!==void 0},e.addFileToVFS=function(t,r){return n.call(this),this.internal.vFS[t]=r,this},e.getFileFromVFS=function(t){return n.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(pn.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,a,s,l,u,f,h,m=n,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},C=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),A=!1,N=0;this.__bidiEngine__={};var P=function(T){var D=T.charCodeAt(),O=D>>8,L=x[O];return L!==void 0?m[256*L+(255&D)]:O===252||O===253?"AL":S.test(O)?"L":O===8?"R":"N"},U=function(T){for(var D,O=0;O<T.length;O++){if((D=P(T.charAt(O)))==="L")return!1;if(D==="R")return!0}return!1},B=function(T,D,O,L){var Q,$,Y,Z,re=D[L];switch(re){case"L":case"R":A=!1;break;case"N":case"AN":break;case"EN":A&&(re="AN");break;case"AL":A=!0,re="R";break;case"WS":re="N";break;case"CS":L<1||L+1>=D.length||(Q=O[L-1])!=="EN"&&Q!=="AN"||($=D[L+1])!=="EN"&&$!=="AN"?re="N":A&&($="AN"),re=$===Q?$:"N";break;case"ES":re=(Q=L>0?O[L-1]:"B")==="EN"&&L+1<D.length&&D[L+1]==="EN"?"EN":"N";break;case"ET":if(L>0&&O[L-1]==="EN"){re="EN";break}if(A){re="N";break}for(Y=L+1,Z=D.length;Y<Z&&D[Y]==="ET";)Y++;re=Y<Z&&D[Y]==="EN"?"EN":"N";break;case"NSM":if(s&&!l){for(Z=D.length,Y=L+1;Y<Z&&D[Y]==="NSM";)Y++;if(Y<Z){var H=T[L],me=H>=1425&&H<=2303||H===64286;if(Q=D[Y],me&&(Q==="R"||Q==="AL")){re="R";break}}}re=L<1||(Q=D[L-1])==="B"?"N":O[L-1];break;case"B":A=!1,i=!0,re=N;break;case"S":a=!0,re="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":A=!1;break;case"BN":re="N"}return re},j=function(T,D,O){var L=T.split("");return O&&F(L,O,{hiLevel:N}),L.reverse(),D&&D.reverse(),L.join("")},F=function(T,D,O){var L,Q,$,Y,Z,re=-1,H=T.length,me=0,q=[],z=N?g:b,ne=[];for(A=!1,i=!1,a=!1,Q=0;Q<H;Q++)ne[Q]=P(T[Q]);for($=0;$<H;$++){if(Z=me,q[$]=B(T,ne,q,$),L=240&(me=z[Z][v[q[$]]]),me&=15,D[$]=Y=z[me][5],L>0)if(L===16){for(Q=re;Q<$;Q++)D[Q]=1;re=-1}else re=-1;if(z[me][6])re===-1&&(re=$);else if(re>-1){for(Q=re;Q<$;Q++)D[Q]=Y;re=-1}ne[$]==="B"&&(D[$]=0),O.hiLevel|=Y}a&&function(oe,ee,ge){for(var de=0;de<ge;de++)if(oe[de]==="S"){ee[de]=N;for(var ye=de-1;ye>=0&&oe[ye]==="WS";ye--)ee[ye]=N}}(ne,D,H)},V=function(T,D,O,L,Q){if(!(Q.hiLevel<T)){if(T===1&&N===1&&!i)return D.reverse(),void(O&&O.reverse());for(var $,Y,Z,re,H=D.length,me=0;me<H;){if(L[me]>=T){for(Z=me+1;Z<H&&L[Z]>=T;)Z++;for(re=me,Y=Z-1;re<Y;re++,Y--)$=D[re],D[re]=D[Y],D[Y]=$,O&&($=O[re],O[re]=O[Y],O[Y]=$);me=Z}me++}}},X=function(T,D,O){var L=T.split(""),Q={hiLevel:N};return O||(O=[]),F(L,O,Q),function($,Y,Z){if(Z.hiLevel!==0&&h)for(var re,H=0;H<$.length;H++)Y[H]===1&&(re=C.indexOf($[H]))>=0&&($[H]=C[re+1])}(L,O,Q),V(2,L,D,O,Q),V(1,L,D,O,Q),L.join("")};return this.__bidiEngine__.doBidiReorder=function(T,D,O){if(function(Q,$){if($)for(var Y=0;Y<Q.length;Y++)$[Y]=Y;l===void 0&&(l=U(Q)),f===void 0&&(f=U(Q))}(T,D),s||!u||f)if(s&&u&&l^f)N=l?1:0,T=j(T,D,O);else if(!s&&u&&f)N=l?1:0,T=X(T,D,O),T=j(T,D);else if(!s||l||u||f){if(s&&!u&&l^f)T=j(T,D),l?(N=0,T=X(T,D,O)):(N=1,T=X(T,D,O),T=j(T,D));else if(s&&l&&!u&&f)N=1,T=X(T,D,O),T=j(T,D);else if(!s&&!u&&l^f){var L=h;l?(N=1,T=X(T,D,O),N=0,h=!1,T=X(T,D,O),h=L):(N=0,T=X(T,D,O),T=j(T,D),N=1,h=!1,T=X(T,D,O),h=L,T=j(T,D))}}else N=0,T=X(T,D,O);else N=l?1:0,T=X(T,D,O);return T},this.__bidiEngine__.setOptions=function(T){T&&(s=T.isInputVisual,u=T.isOutputVisual,l=T.isInputRtl,f=T.isOutputRtl,h=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var n=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,t.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(s=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?s.push([t.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):s.push([t.doBidiReorder(i[l])]);r.text=s}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(pn),pn.API.TTFFont=function(){function e(n){var t;if(this.rawData=n,t=this.contents=new gh(n),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new yZ(this),this.registerTTF()}return e.open=function(n){return new e(n)},e.prototype.parse=function(){return this.directory=new iZ(this.contents),this.head=new sZ(this),this.name=new dZ(this),this.cmap=new wO(this),this.toUnicode={},this.hhea=new oZ(this),this.maxp=new fZ(this),this.hmtx=new hZ(this),this.post=new uZ(this),this.os2=new lZ(this),this.loca=new bZ(this),this.glyf=new pZ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var n,t,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,l,u,f;for(f=[],s=0,l=(u=this.bbox).length;s<l;s++)n=u[s],f.push(Math.round(n*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(t=i>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(n){var t;return((t=this.cmap.unicode)!=null?t.codeMap[n]:void 0)||0},e.prototype.widthOfGlyph=function(n){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(n).advance*t},e.prototype.widthOfString=function(n,t,r){var i,a,s,l;for(s=0,a=0,l=(n=""+n).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=n.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return s*(t/1e3)},e.prototype.lineHeight=function(n,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*n},e}();var Vu,gh=function(){function e(n){this.data=n??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(n){return this.data[this.pos++]=n},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(n){return this.writeByte(n>>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt32=function(){var n;return(n=this.readUInt32())>=2147483648?n-4294967296:n},e.prototype.writeInt32=function(n){return n<0&&(n+=4294967296),this.writeUInt32(n)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(n){return this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt16=function(){var n;return(n=this.readUInt16())>=32768?n-65536:n},e.prototype.writeInt16=function(n){return n<0&&(n+=65536),this.writeUInt16(n)},e.prototype.readString=function(n){var t,r;for(r=[],t=0;0<=n?t<n:t>n;t=0<=n?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(n){var t,r,i;for(i=[],t=0,r=n.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(n.charCodeAt(t)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(n){return this.writeInt16(n)},e.prototype.readLongLong=function(){var n,t,r,i,a,s,l,u;return n=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),l=this.readByte(),u=this.readByte(),128&n?-1*(72057594037927940*(255^n)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^l)+(255^u)+1):72057594037927940*n+281474976710656*t+1099511627776*r+4294967296*i+16777216*a+65536*s+256*l+u},e.prototype.writeLongLong=function(n){var t,r;return t=Math.floor(n/4294967296),r=4294967295&n,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(n){return this.writeInt32(n)},e.prototype.read=function(n){var t,r;for(t=[],r=0;0<=n?r<n:r>n;r=0<=n?++r:--r)t.push(this.readByte());return t},e.prototype.write=function(n){var t,r,i,a;for(a=[],r=0,i=n.length;r<i;r++)t=n[r],a.push(this.writeByte(t));return a},e}(),iZ=function(){var e;function n(t){var r,i,a;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return n.prototype.encode=function(t){var r,i,a,s,l,u,f,h,m,b,g,v,x;for(x in g=Object.keys(t).length,u=Math.log(2),m=16*Math.floor(Math.log(g)/u),s=Math.floor(m/u),h=16*g-m,(i=new gh).writeInt(this.scalarType),i.writeShort(g),i.writeShort(m),i.writeShort(s),i.writeShort(h),a=16*g,f=i.pos+a,l=null,v=[],t)for(b=t[x],i.writeString(x),i.writeInt(e(b)),i.writeInt(f),i.writeInt(b.length),v=v.concat(b),x==="head"&&(l=f),f+=b.length;f%4;)v.push(0),f++;return i.write(v),r=2981146554-e(i.data),i.pos=l+8,i.writeUInt32(r),i.data},e=function(t){var r,i,a,s;for(t=SO.call(t);t.length%4;)t.push(0);for(a=new gh(t),i=0,r=0,s=t.length;r<s;r=r+=4)i+=a.readUInt32();return 4294967295&i},n}(),aZ={}.hasOwnProperty,ld=function(e,n){for(var t in n)aZ.call(n,t)&&(e[t]=n[t]);function r(){this.constructor=e}return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};Vu=function(){function e(n){var t;this.file=n,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var sZ=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return ld(n,Vu),n.prototype.tag="head",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},n.prototype.encode=function(t){var r;return(r=new gh).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},n}(),Gj=function(){function e(n,t){var r,i,a,s,l,u,f,h,m,b,g,v,x,C,S,A,N;switch(this.platformID=n.readUInt16(),this.encodingID=n.readShort(),this.offset=t+n.readInt(),m=n.pos,n.pos=this.offset,this.format=n.readUInt16(),this.length=n.readUInt16(),this.language=n.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=n.readByte();break;case 4:for(g=n.readUInt16(),b=g/2,n.pos+=6,a=function(){var P,U;for(U=[],u=P=0;0<=b?P<b:P>b;u=0<=b?++P:--P)U.push(n.readUInt16());return U}(),n.pos+=2,x=function(){var P,U;for(U=[],u=P=0;0<=b?P<b:P>b;u=0<=b?++P:--P)U.push(n.readUInt16());return U}(),f=function(){var P,U;for(U=[],u=P=0;0<=b?P<b:P>b;u=0<=b?++P:--P)U.push(n.readUInt16());return U}(),h=function(){var P,U;for(U=[],u=P=0;0<=b?P<b:P>b;u=0<=b?++P:--P)U.push(n.readUInt16());return U}(),i=(this.length-n.pos+this.offset)/2,l=function(){var P,U;for(U=[],u=P=0;0<=i?P<i:P>i;u=0<=i?++P:--P)U.push(n.readUInt16());return U}(),u=S=0,N=a.length;S<N;u=++S)for(C=a[u],r=A=v=x[u];v<=C?A<=C:A>=C;r=v<=C?++A:--A)h[u]===0?s=r+f[u]:(s=l[h[u]/2+(r-v)-(b-u)]||0)!==0&&(s+=f[u]),this.codeMap[r]=65535&s}n.pos=m}return e.encode=function(n,t){var r,i,a,s,l,u,f,h,m,b,g,v,x,C,S,A,N,P,U,B,j,F,V,X,T,D,O,L,Q,$,Y,Z,re,H,me,q,z,ne,oe,ee,ge,de,ye,we,ve,je;switch(L=new gh,s=Object.keys(n).sort(function(Ee,Ue){return Ee-Ue}),t){case"macroman":for(x=0,C=function(){var Ee=[];for(v=0;v<256;++v)Ee.push(0);return Ee}(),A={0:0},a={},Q=0,re=s.length;Q<re;Q++)A[ye=n[i=s[Q]]]==null&&(A[ye]=++x),a[i]={old:n[i],new:A[n[i]]},C[i]=A[n[i]];return L.writeUInt16(1),L.writeUInt16(0),L.writeUInt32(12),L.writeUInt16(0),L.writeUInt16(262),L.writeUInt16(0),L.write(C),{charMap:a,subtable:L.data,maxGlyphID:x+1};case"unicode":for(D=[],m=[],N=0,A={},r={},S=f=null,$=0,H=s.length;$<H;$++)A[U=n[i=s[$]]]==null&&(A[U]=++N),r[i]={old:U,new:A[U]},l=A[U]-i,S!=null&&l===f||(S&&m.push(S),D.push(i),f=l),S=i;for(S&&m.push(S),m.push(65535),D.push(65535),X=2*(V=D.length),F=2*Math.pow(Math.log(V)/Math.LN2,2),b=Math.log(F/2)/Math.LN2,j=2*V-F,u=[],B=[],g=[],v=Y=0,me=D.length;Y<me;v=++Y){if(T=D[v],h=m[v],T===65535){u.push(0),B.push(0);break}if(T-(O=r[T].new)>=32768)for(u.push(0),B.push(2*(g.length+V-v)),i=Z=T;T<=h?Z<=h:Z>=h;i=T<=h?++Z:--Z)g.push(r[i].new);else u.push(O-T),B.push(0)}for(L.writeUInt16(3),L.writeUInt16(1),L.writeUInt32(12),L.writeUInt16(4),L.writeUInt16(16+8*V+2*g.length),L.writeUInt16(0),L.writeUInt16(X),L.writeUInt16(F),L.writeUInt16(b),L.writeUInt16(j),ge=0,q=m.length;ge<q;ge++)i=m[ge],L.writeUInt16(i);for(L.writeUInt16(0),de=0,z=D.length;de<z;de++)i=D[de],L.writeUInt16(i);for(we=0,ne=u.length;we<ne;we++)l=u[we],L.writeUInt16(l);for(ve=0,oe=B.length;ve<oe;ve++)P=B[ve],L.writeUInt16(P);for(je=0,ee=g.length;je<ee;je++)x=g[je],L.writeUInt16(x);return{charMap:r,subtable:L.data,maxGlyphID:N+1}}},e}(),wO=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return ld(n,Vu),n.prototype.tag="cmap",n.prototype.parse=function(t){var r,i,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)r=new Gj(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},n.encode=function(t,r){var i,a;return r==null&&(r="macroman"),i=Gj.encode(t,r),(a=new gh).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},n}(),oZ=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return ld(n,Vu),n.prototype.tag="hhea",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},n}(),lZ=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return ld(n,Vu),n.prototype.tag="OS/2",n.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},n}(),uZ=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return ld(n,Vu),n.prototype.tag="post",n.prototype.parse=function(t){var r,i,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var s;for(i=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var l,u,f;for(f=[],s=l=0,u=this.file.maxp.numGlyphs;0<=u?l<u:l>u;s=0<=u?++l:--l)f.push(t.readUInt32());return f}).call(this)}},n}(),cZ=function(e,n){this.raw=e,this.length=e.length,this.platformID=n.platformID,this.encodingID=n.encodingID,this.languageID=n.languageID},dZ=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return ld(n,Vu),n.prototype.tag="name",n.prototype.parse=function(t){var r,i,a,s,l,u,f,h,m,b,g;for(t.pos=this.offset,t.readShort(),r=t.readShort(),u=t.readShort(),i=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+u+t.readShort()});for(f={},s=m=0,b=i.length;m<b;s=++m)a=i[s],t.pos=a.offset,h=t.readString(a.length),l=new cZ(h,a),f[g=a.nameID]==null&&(f[g]=[]),f[a.nameID].push(l);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},n}(),fZ=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return ld(n,Vu),n.prototype.tag="maxp",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},n}(),hZ=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return ld(n,Vu),n.prototype.tag="hmtx",n.prototype.parse=function(t){var r,i,a,s,l,u,f;for(t.pos=this.offset,this.metrics=[],r=0,u=this.file.hhea.numberOfMetrics;0<=u?r<u:r>u;r=0<=u?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,m;for(m=[],r=h=0;0<=a?h<a:h>a;r=0<=a?++h:--h)m.push(t.readInt16());return m}(),this.widths=(function(){var h,m,b,g;for(g=[],h=0,m=(b=this.metrics).length;h<m;h++)s=b[h],g.push(s.advance);return g}).call(this),i=this.widths[this.widths.length-1],f=[],r=l=0;0<=a?l<a:l>a;r=0<=a?++l:--l)f.push(this.widths.push(i));return f},n.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},n}(),SO=[].slice,pZ=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return ld(n,Vu),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(t){var r,i,a,s,l,u,f,h,m,b;return t in this.cache?this.cache[t]:(s=this.file.loca,r=this.file.contents,i=s.indexOf(t),(a=s.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+i,l=(u=new gh(r.read(a))).readShort(),h=u.readShort(),b=u.readShort(),f=u.readShort(),m=u.readShort(),this.cache[t]=l===-1?new gZ(u,h,b,f,m):new mZ(u,l,h,b,f,m),this.cache[t]))},n.prototype.encode=function(t,r,i){var a,s,l,u,f;for(l=[],s=[],u=0,f=r.length;u<f;u++)a=t[r[u]],s.push(l.length),a&&(l=l.concat(a.encode(i)));return s.push(l.length),{table:l,offsets:s}},n}(),mZ=function(){function e(n,t,r,i,a,s){this.raw=n,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),gZ=function(){function e(n,t,r,i,a){var s,l;for(this.raw=n,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;l=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&l;)s.pos+=1&l?4:2,128&l?s.pos+=8:64&l?s.pos+=4:8&l&&(s.pos+=2)}return e.prototype.encode=function(){var n,t,r;for(t=new gh(SO.call(this.raw.data)),n=0,r=this.glyphIDs.length;n<r;++n)t.pos=this.glyphOffsets[n];return t.data},e}(),bZ=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return ld(n,Vu),n.prototype.tag="loca",n.prototype.parse=function(t){var r,i;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=4)s.push(t.readUInt32());return s}).call(this)},n.prototype.indexOf=function(t){return this.offsets[t]},n.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},n.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),a=0,s=0,l=0;l<i.length;++l)if(i[l]=a,s<r.length&&r[s]==l){++s,i[l]=a;var u=this.offsets[l],f=this.offsets[l+1]-u;f>0&&(a+=f)}for(var h=new Array(4*i.length),m=0;m<i.length;++m)h[4*m+3]=255&i[m],h[4*m+2]=(65280&i[m])>>8,h[4*m+1]=(16711680&i[m])>>16,h[4*m]=(4278190080&i[m])>>24;return h},n}(),yZ=function(){function e(n){this.font=n,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var n,t,r,i,a;for(t in i=this.font.cmap.tables[0].codeMap,n={},a=this.subset)r=a[t],n[t]=i[r];return n},e.prototype.glyphsFor=function(n){var t,r,i,a,s,l,u;for(i={},s=0,l=n.length;s<l;s++)i[a=n[s]]=this.font.glyf.glyphFor(a);for(a in t=[],i)(r=i[a])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(a in u=this.glyphsFor(t))r=u[a],i[a]=r;return i},e.prototype.encode=function(n,t){var r,i,a,s,l,u,f,h,m,b,g,v,x,C,S;for(i in r=wO.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(n),g={0:0},S=r.charMap)g[(u=S[i]).old]=u.new;for(v in b=r.maxGlyphID,s)v in g||(g[v]=b++);return h=function(A){var N,P;for(N in P={},A)P[A[N]]=N;return P}(g),m=Object.keys(h).sort(function(A,N){return A-N}),x=function(){var A,N,P;for(P=[],A=0,N=m.length;A<N;A++)l=m[A],P.push(h[l]);return P}(),a=this.font.glyf.encode(s,x,g),f=this.font.loca.encode(a.offsets,x),C={cmap:this.font.cmap.raw(),glyf:a.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(C["OS/2"]=this.font.os2.raw()),this.font.directory.encode(C)},e}();pn.API.PDFObject=function(){var e;function n(){}return e=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},n.convert=function(t){var r,i,a,s;if(Array.isArray(t))return"["+function(){var l,u,f;for(f=[],l=0,u=t.length;l<u;l++)r=t[l],f.push(n.convert(r));return f}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+e(t.getUTCFullYear(),4)+e(t.getUTCMonth(),2)+e(t.getUTCDate(),2)+e(t.getUTCHours(),2)+e(t.getUTCMinutes(),2)+e(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in a=["<<"],t)s=t[i],a.push("/"+i+" "+n.convert(s));return a.push(">>"),a.join(`
`)}return""+t},n}();const xZ=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),vZ=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var nS;const wZ=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Qj=(nS=String.fromCodePoint)!==null&&nS!==void 0?nS:function(e){let n="";return e>65535&&(e-=65536,n+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),n+=String.fromCharCode(e),n};function SZ(e){var n;return e>=55296&&e<=57343||e>1114111?65533:(n=wZ.get(e))!==null&&n!==void 0?n:e}var ds;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(ds||(ds={}));const CZ=32;var Jf;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Jf||(Jf={}));function N6(e){return e>=ds.ZERO&&e<=ds.NINE}function AZ(e){return e>=ds.UPPER_A&&e<=ds.UPPER_F||e>=ds.LOWER_A&&e<=ds.LOWER_F}function kZ(e){return e>=ds.UPPER_A&&e<=ds.UPPER_Z||e>=ds.LOWER_A&&e<=ds.LOWER_Z||N6(e)}function EZ(e){return e===ds.EQUALS||kZ(e)}var ls;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(ls||(ls={}));var _c;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(_c||(_c={}));class jZ{constructor(n,t,r){this.decodeTree=n,this.emitCodePoint=t,this.errors=r,this.state=ls.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=_c.Strict}startEntity(n){this.decodeMode=n,this.state=ls.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(n,t){switch(this.state){case ls.EntityStart:return n.charCodeAt(t)===ds.NUM?(this.state=ls.NumericStart,this.consumed+=1,this.stateNumericStart(n,t+1)):(this.state=ls.NamedEntity,this.stateNamedEntity(n,t));case ls.NumericStart:return this.stateNumericStart(n,t);case ls.NumericDecimal:return this.stateNumericDecimal(n,t);case ls.NumericHex:return this.stateNumericHex(n,t);case ls.NamedEntity:return this.stateNamedEntity(n,t)}}stateNumericStart(n,t){return t>=n.length?-1:(n.charCodeAt(t)|CZ)===ds.LOWER_X?(this.state=ls.NumericHex,this.consumed+=1,this.stateNumericHex(n,t+1)):(this.state=ls.NumericDecimal,this.stateNumericDecimal(n,t))}addToNumericResult(n,t,r,i){if(t!==r){const a=r-t;this.result=this.result*Math.pow(i,a)+Number.parseInt(n.substr(t,a),i),this.consumed+=a}}stateNumericHex(n,t){const r=t;for(;t<n.length;){const i=n.charCodeAt(t);if(N6(i)||AZ(i))t+=1;else return this.addToNumericResult(n,r,t,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(n,r,t,16),-1}stateNumericDecimal(n,t){const r=t;for(;t<n.length;){const i=n.charCodeAt(t);if(N6(i))t+=1;else return this.addToNumericResult(n,r,t,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(n,r,t,10),-1}emitNumericEntity(n,t){var r;if(this.consumed<=t)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(n===ds.SEMI)this.consumed+=1;else if(this.decodeMode===_c.Strict)return 0;return this.emitCodePoint(SZ(this.result),this.consumed),this.errors&&(n!==ds.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(n,t){const{decodeTree:r}=this;let i=r[this.treeIndex],a=(i&Jf.VALUE_LENGTH)>>14;for(;t<n.length;t++,this.excess++){const s=n.charCodeAt(t);if(this.treeIndex=TZ(r,i,this.treeIndex+Math.max(1,a),s),this.treeIndex<0)return this.result===0||this.decodeMode===_c.Attribute&&(a===0||EZ(s))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],a=(i&Jf.VALUE_LENGTH)>>14,a!==0){if(s===ds.SEMI)return this.emitNamedEntityData(this.treeIndex,a,this.consumed+this.excess);this.decodeMode!==_c.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var n;const{result:t,decodeTree:r}=this,i=(r[t]&Jf.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,i,this.consumed),(n=this.errors)===null||n===void 0||n.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(n,t,r){const{decodeTree:i}=this;return this.emitCodePoint(t===1?i[n]&~Jf.VALUE_LENGTH:i[n+1],r),t===3&&this.emitCodePoint(i[n+2],r),r}end(){var n;switch(this.state){case ls.NamedEntity:return this.result!==0&&(this.decodeMode!==_c.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case ls.NumericDecimal:return this.emitNumericEntity(0,2);case ls.NumericHex:return this.emitNumericEntity(0,3);case ls.NumericStart:return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case ls.EntityStart:return 0}}}function TZ(e,n,t,r){const i=(n&Jf.BRANCH_LENGTH)>>7,a=n&Jf.JUMP_TABLE;if(i===0)return a!==0&&r===a?t:-1;if(a){const u=r-a;return u<0||u>=i?-1:e[t+u]-1}let s=t,l=s+i-1;for(;s<=l;){const u=s+l>>>1,f=e[u];if(f<r)s=u+1;else if(f>r)l=u-1;else return e[u+i]}return-1}var fn;(function(e){e[e.Tab=9]="Tab",e[e.NewLine=10]="NewLine",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.ExclamationMark=33]="ExclamationMark",e[e.Number=35]="Number",e[e.Amp=38]="Amp",e[e.SingleQuote=39]="SingleQuote",e[e.DoubleQuote=34]="DoubleQuote",e[e.Dash=45]="Dash",e[e.Slash=47]="Slash",e[e.Zero=48]="Zero",e[e.Nine=57]="Nine",e[e.Semi=59]="Semi",e[e.Lt=60]="Lt",e[e.Eq=61]="Eq",e[e.Gt=62]="Gt",e[e.Questionmark=63]="Questionmark",e[e.UpperA=65]="UpperA",e[e.LowerA=97]="LowerA",e[e.UpperF=70]="UpperF",e[e.LowerF=102]="LowerF",e[e.UpperZ=90]="UpperZ",e[e.LowerZ=122]="LowerZ",e[e.LowerX=120]="LowerX",e[e.OpeningSquareBracket=91]="OpeningSquareBracket"})(fn||(fn={}));var At;(function(e){e[e.Text=1]="Text",e[e.BeforeTagName=2]="BeforeTagName",e[e.InTagName=3]="InTagName",e[e.InSelfClosingTag=4]="InSelfClosingTag",e[e.BeforeClosingTagName=5]="BeforeClosingTagName",e[e.InClosingTagName=6]="InClosingTagName",e[e.AfterClosingTagName=7]="AfterClosingTagName",e[e.BeforeAttributeName=8]="BeforeAttributeName",e[e.InAttributeName=9]="InAttributeName",e[e.AfterAttributeName=10]="AfterAttributeName",e[e.BeforeAttributeValue=11]="BeforeAttributeValue",e[e.InAttributeValueDq=12]="InAttributeValueDq",e[e.InAttributeValueSq=13]="InAttributeValueSq",e[e.InAttributeValueNq=14]="InAttributeValueNq",e[e.BeforeDeclaration=15]="BeforeDeclaration",e[e.InDeclaration=16]="InDeclaration",e[e.InProcessingInstruction=17]="InProcessingInstruction",e[e.BeforeComment=18]="BeforeComment",e[e.CDATASequence=19]="CDATASequence",e[e.InSpecialComment=20]="InSpecialComment",e[e.InCommentLike=21]="InCommentLike",e[e.BeforeSpecialS=22]="BeforeSpecialS",e[e.BeforeSpecialT=23]="BeforeSpecialT",e[e.SpecialStartSequence=24]="SpecialStartSequence",e[e.InSpecialTag=25]="InSpecialTag",e[e.InEntity=26]="InEntity"})(At||(At={}));function Pd(e){return e===fn.Space||e===fn.NewLine||e===fn.Tab||e===fn.FormFeed||e===fn.CarriageReturn}function xx(e){return e===fn.Slash||e===fn.Gt||Pd(e)}function NZ(e){return e>=fn.LowerA&&e<=fn.LowerZ||e>=fn.UpperA&&e<=fn.UpperZ}var Ic;(function(e){e[e.NoValue=0]="NoValue",e[e.Unquoted=1]="Unquoted",e[e.Single=2]="Single",e[e.Double=3]="Double"})(Ic||(Ic={}));const Fa={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97]),XmpEnd:new Uint8Array([60,47,120,109,112])};class DZ{constructor({xmlMode:n=!1,decodeEntities:t=!0},r){this.cbs=r,this.state=At.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=At.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=n,this.decodeEntities=t,this.entityDecoder=new jZ(n?vZ:xZ,(i,a)=>this.emitCodePoint(i,a))}reset(){this.state=At.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=At.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(n){this.offset+=this.buffer.length,this.buffer=n,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(n){n===fn.Lt||!this.decodeEntities&&this.fastForwardTo(fn.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=At.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&n===fn.Amp&&this.startEntity()}stateSpecialStartSequence(n){const t=this.sequenceIndex===this.currentSequence.length;if(!(t?xx(n):(n|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!t){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=At.InTagName,this.stateInTagName(n)}stateInSpecialTag(n){if(this.sequenceIndex===this.currentSequence.length){if(n===fn.Gt||Pd(n)){const t=this.index-this.currentSequence.length;if(this.sectionStart<t){const r=this.index;this.index=t,this.cbs.ontext(this.sectionStart,t),this.index=r}this.isSpecial=!1,this.sectionStart=t+2,this.stateInClosingTagName(n);return}this.sequenceIndex=0}(n|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===Fa.TitleEnd?this.decodeEntities&&n===fn.Amp&&this.startEntity():this.fastForwardTo(fn.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(n===fn.Lt)}stateCDATASequence(n){n===Fa.Cdata[this.sequenceIndex]?++this.sequenceIndex===Fa.Cdata.length&&(this.state=At.InCommentLike,this.currentSequence=Fa.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=At.InDeclaration,this.stateInDeclaration(n))}fastForwardTo(n){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===n)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(n){n===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Fa.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=At.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):n!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(n){return this.xmlMode?!xx(n):NZ(n)}startSpecial(n,t){this.isSpecial=!0,this.currentSequence=n,this.sequenceIndex=t,this.state=At.SpecialStartSequence}stateBeforeTagName(n){if(n===fn.ExclamationMark)this.state=At.BeforeDeclaration,this.sectionStart=this.index+1;else if(n===fn.Questionmark)this.state=At.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(n)){const t=n|32;this.sectionStart=this.index,this.xmlMode?this.state=At.InTagName:t===Fa.ScriptEnd[2]?this.state=At.BeforeSpecialS:t===Fa.TitleEnd[2]||t===Fa.XmpEnd[2]?this.state=At.BeforeSpecialT:this.state=At.InTagName}else n===fn.Slash?this.state=At.BeforeClosingTagName:(this.state=At.Text,this.stateText(n))}stateInTagName(n){xx(n)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=At.BeforeAttributeName,this.stateBeforeAttributeName(n))}stateBeforeClosingTagName(n){Pd(n)||(n===fn.Gt?this.state=At.Text:(this.state=this.isTagStartChar(n)?At.InClosingTagName:At.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(n){(n===fn.Gt||Pd(n))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=At.AfterClosingTagName,this.stateAfterClosingTagName(n))}stateAfterClosingTagName(n){(n===fn.Gt||this.fastForwardTo(fn.Gt))&&(this.state=At.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(n){n===fn.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=At.InSpecialTag,this.sequenceIndex=0):this.state=At.Text,this.sectionStart=this.index+1):n===fn.Slash?this.state=At.InSelfClosingTag:Pd(n)||(this.state=At.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(n){n===fn.Gt?(this.cbs.onselfclosingtag(this.index),this.state=At.Text,this.sectionStart=this.index+1,this.isSpecial=!1):Pd(n)||(this.state=At.BeforeAttributeName,this.stateBeforeAttributeName(n))}stateInAttributeName(n){(n===fn.Eq||xx(n))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=At.AfterAttributeName,this.stateAfterAttributeName(n))}stateAfterAttributeName(n){n===fn.Eq?this.state=At.BeforeAttributeValue:n===fn.Slash||n===fn.Gt?(this.cbs.onattribend(Ic.NoValue,this.sectionStart),this.sectionStart=-1,this.state=At.BeforeAttributeName,this.stateBeforeAttributeName(n)):Pd(n)||(this.cbs.onattribend(Ic.NoValue,this.sectionStart),this.state=At.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(n){n===fn.DoubleQuote?(this.state=At.InAttributeValueDq,this.sectionStart=this.index+1):n===fn.SingleQuote?(this.state=At.InAttributeValueSq,this.sectionStart=this.index+1):Pd(n)||(this.sectionStart=this.index,this.state=At.InAttributeValueNq,this.stateInAttributeValueNoQuotes(n))}handleInAttributeValue(n,t){n===t||!this.decodeEntities&&this.fastForwardTo(t)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(t===fn.DoubleQuote?Ic.Double:Ic.Single,this.index+1),this.state=At.BeforeAttributeName):this.decodeEntities&&n===fn.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(n){this.handleInAttributeValue(n,fn.DoubleQuote)}stateInAttributeValueSingleQuotes(n){this.handleInAttributeValue(n,fn.SingleQuote)}stateInAttributeValueNoQuotes(n){Pd(n)||n===fn.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(Ic.Unquoted,this.index),this.state=At.BeforeAttributeName,this.stateBeforeAttributeName(n)):this.decodeEntities&&n===fn.Amp&&this.startEntity()}stateBeforeDeclaration(n){n===fn.OpeningSquareBracket?(this.state=At.CDATASequence,this.sequenceIndex=0):this.state=n===fn.Dash?At.BeforeComment:At.InDeclaration}stateInDeclaration(n){(n===fn.Gt||this.fastForwardTo(fn.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=At.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(n){(n===fn.Gt||this.fastForwardTo(fn.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=At.Text,this.sectionStart=this.index+1)}stateBeforeComment(n){n===fn.Dash?(this.state=At.InCommentLike,this.currentSequence=Fa.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=At.InDeclaration}stateInSpecialComment(n){(n===fn.Gt||this.fastForwardTo(fn.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=At.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(n){const t=n|32;t===Fa.ScriptEnd[3]?this.startSpecial(Fa.ScriptEnd,4):t===Fa.StyleEnd[3]?this.startSpecial(Fa.StyleEnd,4):(this.state=At.InTagName,this.stateInTagName(n))}stateBeforeSpecialT(n){switch(n|32){case Fa.TitleEnd[3]:{this.startSpecial(Fa.TitleEnd,4);break}case Fa.TextareaEnd[3]:{this.startSpecial(Fa.TextareaEnd,4);break}case Fa.XmpEnd[3]:{this.startSpecial(Fa.XmpEnd,4);break}default:this.state=At.InTagName,this.stateInTagName(n)}}startEntity(){this.baseState=this.state,this.state=At.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?_c.Strict:this.baseState===At.Text||this.baseState===At.InSpecialTag?_c.Legacy:_c.Attribute)}stateInEntity(){const n=this.entityDecoder.write(this.buffer,this.index-this.offset);n>=0?(this.state=this.baseState,n===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===At.Text||this.state===At.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===At.InAttributeValueDq||this.state===At.InAttributeValueSq||this.state===At.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const n=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case At.Text:{this.stateText(n);break}case At.SpecialStartSequence:{this.stateSpecialStartSequence(n);break}case At.InSpecialTag:{this.stateInSpecialTag(n);break}case At.CDATASequence:{this.stateCDATASequence(n);break}case At.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(n);break}case At.InAttributeName:{this.stateInAttributeName(n);break}case At.InCommentLike:{this.stateInCommentLike(n);break}case At.InSpecialComment:{this.stateInSpecialComment(n);break}case At.BeforeAttributeName:{this.stateBeforeAttributeName(n);break}case At.InTagName:{this.stateInTagName(n);break}case At.InClosingTagName:{this.stateInClosingTagName(n);break}case At.BeforeTagName:{this.stateBeforeTagName(n);break}case At.AfterAttributeName:{this.stateAfterAttributeName(n);break}case At.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(n);break}case At.BeforeAttributeValue:{this.stateBeforeAttributeValue(n);break}case At.BeforeClosingTagName:{this.stateBeforeClosingTagName(n);break}case At.AfterClosingTagName:{this.stateAfterClosingTagName(n);break}case At.BeforeSpecialS:{this.stateBeforeSpecialS(n);break}case At.BeforeSpecialT:{this.stateBeforeSpecialT(n);break}case At.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(n);break}case At.InSelfClosingTag:{this.stateInSelfClosingTag(n);break}case At.InDeclaration:{this.stateInDeclaration(n);break}case At.BeforeDeclaration:{this.stateBeforeDeclaration(n);break}case At.BeforeComment:{this.stateBeforeComment(n);break}case At.InProcessingInstruction:{this.stateInProcessingInstruction(n);break}case At.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===At.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const n=this.buffer.length+this.offset;this.sectionStart>=n||(this.state===At.InCommentLike?this.currentSequence===Fa.CdataEnd?this.cbs.oncdata(this.sectionStart,n,0):this.cbs.oncomment(this.sectionStart,n,0):this.state===At.InTagName||this.state===At.BeforeAttributeName||this.state===At.BeforeAttributeValue||this.state===At.AfterAttributeName||this.state===At.InAttributeName||this.state===At.InAttributeValueSq||this.state===At.InAttributeValueDq||this.state===At.InAttributeValueNq||this.state===At.InClosingTagName||this.cbs.ontext(this.sectionStart,n))}emitCodePoint(n,t){this.baseState!==At.Text&&this.baseState!==At.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+t,this.index=this.sectionStart-1,this.cbs.onattribentity(n)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+t,this.index=this.sectionStart-1,this.cbs.ontextentity(n,this.sectionStart))}}const S0=new Set(["input","option","optgroup","select","button","datalist","textarea"]),Gr=new Set(["p"]),Kj=new Set(["thead","tbody"]),Xj=new Set(["dd","dt"]),Zj=new Set(["rt","rp"]),_Z=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",Gr],["h1",Gr],["h2",Gr],["h3",Gr],["h4",Gr],["h5",Gr],["h6",Gr],["select",S0],["input",S0],["output",S0],["button",S0],["datalist",S0],["textarea",S0],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",Xj],["dt",Xj],["address",Gr],["article",Gr],["aside",Gr],["blockquote",Gr],["details",Gr],["div",Gr],["dl",Gr],["fieldset",Gr],["figcaption",Gr],["figure",Gr],["footer",Gr],["form",Gr],["header",Gr],["hr",Gr],["main",Gr],["nav",Gr],["ol",Gr],["pre",Gr],["section",Gr],["table",Gr],["ul",Gr],["rt",Zj],["rp",Zj],["tbody",Kj],["tfoot",Kj]]),IZ=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),Jj=new Set(["math","svg"]),eT=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),OZ=/\s|\//;class MZ{constructor(n,t={}){var r,i,a,s,l,u;this.options=t,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=n??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(r=t.lowerCaseTags)!==null&&r!==void 0?r:this.htmlMode,this.lowerCaseAttributeNames=(i=t.lowerCaseAttributeNames)!==null&&i!==void 0?i:this.htmlMode,this.recognizeSelfClosing=(a=t.recognizeSelfClosing)!==null&&a!==void 0?a:!this.htmlMode,this.tokenizer=new((s=t.Tokenizer)!==null&&s!==void 0?s:DZ)(this.options,this),this.foreignContext=[!this.htmlMode],(u=(l=this.cbs).onparserinit)===null||u===void 0||u.call(l,this)}ontext(n,t){var r,i;const a=this.getSlice(n,t);this.endIndex=t-1,(i=(r=this.cbs).ontext)===null||i===void 0||i.call(r,a),this.startIndex=t}ontextentity(n,t){var r,i;this.endIndex=t-1,(i=(r=this.cbs).ontext)===null||i===void 0||i.call(r,Qj(n)),this.startIndex=t}isVoidElement(n){return this.htmlMode&&IZ.has(n)}onopentagname(n,t){this.endIndex=t;let r=this.getSlice(n,t);this.lowerCaseTagNames&&(r=r.toLowerCase()),this.emitOpenTag(r)}emitOpenTag(n){var t,r,i,a;this.openTagStart=this.startIndex,this.tagname=n;const s=this.htmlMode&&_Z.get(n);if(s)for(;this.stack.length>0&&s.has(this.stack[0]);){const l=this.stack.shift();(r=(t=this.cbs).onclosetag)===null||r===void 0||r.call(t,l,!0)}this.isVoidElement(n)||(this.stack.unshift(n),this.htmlMode&&(Jj.has(n)?this.foreignContext.unshift(!0):eT.has(n)&&this.foreignContext.unshift(!1))),(a=(i=this.cbs).onopentagname)===null||a===void 0||a.call(i,n),this.cbs.onopentag&&(this.attribs={})}endOpenTag(n){var t,r;this.startIndex=this.openTagStart,this.attribs&&((r=(t=this.cbs).onopentag)===null||r===void 0||r.call(t,this.tagname,this.attribs,n),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(n){this.endIndex=n,this.endOpenTag(!1),this.startIndex=n+1}onclosetag(n,t){var r,i,a,s,l,u,f,h;this.endIndex=t;let m=this.getSlice(n,t);if(this.lowerCaseTagNames&&(m=m.toLowerCase()),this.htmlMode&&(Jj.has(m)||eT.has(m))&&this.foreignContext.shift(),this.isVoidElement(m))this.htmlMode&&m==="br"&&((s=(a=this.cbs).onopentagname)===null||s===void 0||s.call(a,"br"),(u=(l=this.cbs).onopentag)===null||u===void 0||u.call(l,"br",{},!0),(h=(f=this.cbs).onclosetag)===null||h===void 0||h.call(f,"br",!1));else{const b=this.stack.indexOf(m);if(b!==-1)for(let g=0;g<=b;g++){const v=this.stack.shift();(i=(r=this.cbs).onclosetag)===null||i===void 0||i.call(r,v,g!==b)}else this.htmlMode&&m==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=t+1}onselfclosingtag(n){this.endIndex=n,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=n+1):this.onopentagend(n)}closeCurrentTag(n){var t,r;const i=this.tagname;this.endOpenTag(n),this.stack[0]===i&&((r=(t=this.cbs).onclosetag)===null||r===void 0||r.call(t,i,!n),this.stack.shift())}onattribname(n,t){this.startIndex=n;const r=this.getSlice(n,t);this.attribname=this.lowerCaseAttributeNames?r.toLowerCase():r}onattribdata(n,t){this.attribvalue+=this.getSlice(n,t)}onattribentity(n){this.attribvalue+=Qj(n)}onattribend(n,t){var r,i;this.endIndex=t,(i=(r=this.cbs).onattribute)===null||i===void 0||i.call(r,this.attribname,this.attribvalue,n===Ic.Double?'"':n===Ic.Single?"'":n===Ic.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(n){const t=n.search(OZ);let r=t<0?n:n.substr(0,t);return this.lowerCaseTagNames&&(r=r.toLowerCase()),r}ondeclaration(n,t){this.endIndex=t;const r=this.getSlice(n,t);if(this.cbs.onprocessinginstruction){const i=this.getInstructionName(r);this.cbs.onprocessinginstruction(`!${i}`,`!${r}`)}this.startIndex=t+1}onprocessinginstruction(n,t){this.endIndex=t;const r=this.getSlice(n,t);if(this.cbs.onprocessinginstruction){const i=this.getInstructionName(r);this.cbs.onprocessinginstruction(`?${i}`,`?${r}`)}this.startIndex=t+1}oncomment(n,t,r){var i,a,s,l;this.endIndex=t,(a=(i=this.cbs).oncomment)===null||a===void 0||a.call(i,this.getSlice(n,t-r)),(l=(s=this.cbs).oncommentend)===null||l===void 0||l.call(s),this.startIndex=t+1}oncdata(n,t,r){var i,a,s,l,u,f,h,m,b,g;this.endIndex=t;const v=this.getSlice(n,t-r);!this.htmlMode||this.options.recognizeCDATA?((a=(i=this.cbs).oncdatastart)===null||a===void 0||a.call(i),(l=(s=this.cbs).ontext)===null||l===void 0||l.call(s,v),(f=(u=this.cbs).oncdataend)===null||f===void 0||f.call(u)):((m=(h=this.cbs).oncomment)===null||m===void 0||m.call(h,`[CDATA[${v}]]`),(g=(b=this.cbs).oncommentend)===null||g===void 0||g.call(b)),this.startIndex=t+1}onend(){var n,t;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let r=0;r<this.stack.length;r++)this.cbs.onclosetag(this.stack[r],!0)}(t=(n=this.cbs).onend)===null||t===void 0||t.call(n)}reset(){var n,t,r,i;(t=(n=this.cbs).onreset)===null||t===void 0||t.call(n),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(i=(r=this.cbs).onparserinit)===null||i===void 0||i.call(r,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(n){this.reset(),this.end(n)}getSlice(n,t){for(;n-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let r=this.buffers[0].slice(n-this.bufferOffset,t-this.bufferOffset);for(;t-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),r+=this.buffers[0].slice(0,t-this.bufferOffset);return r}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(n){var t,r;if(this.ended){(r=(t=this.cbs).onerror)===null||r===void 0||r.call(t,new Error(".write() after done!"));return}this.buffers.push(n),this.tokenizer.running&&(this.tokenizer.write(n),this.writeIndex++)}end(n){var t,r;if(this.ended){(r=(t=this.cbs).onerror)===null||r===void 0||r.call(t,new Error(".end() after done!"));return}n&&this.write(n),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(n){this.write(n)}done(n){this.end(n)}}var Ir;(function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"})(Ir||(Ir={}));function H0(e){return e.type===Ir.Tag||e.type===Ir.Script||e.type===Ir.Style}Ir.Root;Ir.Text;Ir.Directive;Ir.Comment;Ir.Script;Ir.Style;Ir.Tag;Ir.CDATA;Ir.Doctype;let CO=class{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(n){this.parent=n}get previousSibling(){return this.prev}set previousSibling(n){this.prev=n}get nextSibling(){return this.next}set nextSibling(n){this.next=n}cloneNode(n=!1){return TO(this,n)}};class cA extends CO{constructor(n){super(),this.data=n}get nodeValue(){return this.data}set nodeValue(n){this.data=n}}let D6=class extends cA{constructor(){super(...arguments),this.type=Ir.Text}get nodeType(){return 3}};class AO extends cA{constructor(){super(...arguments),this.type=Ir.Comment}get nodeType(){return 8}}class kO extends cA{constructor(n,t){super(t),this.name=n,this.type=Ir.Directive}get nodeType(){return 1}}class dA extends CO{constructor(n){super(),this.children=n}get firstChild(){var n;return(n=this.children[0])!==null&&n!==void 0?n:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(n){this.children=n}}class EO extends dA{constructor(){super(...arguments),this.type=Ir.CDATA}get nodeType(){return 4}}class _6 extends dA{constructor(){super(...arguments),this.type=Ir.Root}get nodeType(){return 9}}let jO=class extends dA{constructor(n,t,r=[],i=n==="script"?Ir.Script:n==="style"?Ir.Style:Ir.Tag){super(r),this.name=n,this.attribs=t,this.type=i}get nodeType(){return 1}get tagName(){return this.name}set tagName(n){this.name=n}get attributes(){return Object.keys(this.attribs).map(n=>{var t,r;return{name:n,value:this.attribs[n],namespace:(t=this["x-attribsNamespace"])===null||t===void 0?void 0:t[n],prefix:(r=this["x-attribsPrefix"])===null||r===void 0?void 0:r[n]}})}};function LZ(e){return H0(e)}function RZ(e){return e.type===Ir.CDATA}function PZ(e){return e.type===Ir.Text}function FZ(e){return e.type===Ir.Comment}function zZ(e){return e.type===Ir.Directive}function qZ(e){return e.type===Ir.Root}function TO(e,n=!1){let t;if(PZ(e))t=new D6(e.data);else if(FZ(e))t=new AO(e.data);else if(LZ(e)){const r=n?rS(e.children):[],i=new jO(e.name,{...e.attribs},r);r.forEach(a=>a.parent=i),e.namespace!=null&&(i.namespace=e.namespace),e["x-attribsNamespace"]&&(i["x-attribsNamespace"]={...e["x-attribsNamespace"]}),e["x-attribsPrefix"]&&(i["x-attribsPrefix"]={...e["x-attribsPrefix"]}),t=i}else if(RZ(e)){const r=n?rS(e.children):[],i=new EO(r);r.forEach(a=>a.parent=i),t=i}else if(qZ(e)){const r=n?rS(e.children):[],i=new _6(r);r.forEach(a=>a.parent=i),e["x-mode"]&&(i["x-mode"]=e["x-mode"]),t=i}else if(zZ(e)){const r=new kO(e.name,e.data);e["x-name"]!=null&&(r["x-name"]=e["x-name"],r["x-publicId"]=e["x-publicId"],r["x-systemId"]=e["x-systemId"]),t=r}else throw new Error(`Not implemented yet: ${e.type}`);return t.startIndex=e.startIndex,t.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(t.sourceCodeLocation=e.sourceCodeLocation),t}function rS(e){const n=e.map(t=>TO(t,!0));for(let t=1;t<n.length;t++)n[t].prev=n[t-1],n[t-1].next=n[t];return n}const tT={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class BZ{constructor(n,t,r){this.dom=[],this.root=new _6(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof t=="function"&&(r=t,t=tT),typeof n=="object"&&(t=n,n=void 0),this.callback=n??null,this.options=t??tT,this.elementCB=r??null}onparserinit(n){this.parser=n}onreset(){this.dom=[],this.root=new _6(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(n){this.handleCallback(n)}onclosetag(){this.lastNode=null;const n=this.tagStack.pop();this.options.withEndIndices&&(n.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(n)}onopentag(n,t){const r=this.options.xmlMode?Ir.Tag:void 0,i=new jO(n,t,void 0,r);this.addNode(i),this.tagStack.push(i)}ontext(n){const{lastNode:t}=this;if(t&&t.type===Ir.Text)t.data+=n,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{const r=new D6(n);this.addNode(r),this.lastNode=r}}oncomment(n){if(this.lastNode&&this.lastNode.type===Ir.Comment){this.lastNode.data+=n;return}const t=new AO(n);this.addNode(t),this.lastNode=t}oncommentend(){this.lastNode=null}oncdatastart(){const n=new D6(""),t=new EO([n]);this.addNode(t),n.parent=t,this.lastNode=n}oncdataend(){this.lastNode=null}onprocessinginstruction(n,t){const r=new kO(n,t);this.addNode(r)}handleCallback(n){if(typeof this.callback=="function")this.callback(n,this.dom);else if(n)throw n}addNode(n){const t=this.tagStack[this.tagStack.length-1],r=t.children[t.children.length-1];this.options.withStartIndices&&(n.startIndex=this.parser.startIndex),this.options.withEndIndices&&(n.endIndex=this.parser.endIndex),t.children.push(n),r&&(n.prev=r,r.next=n),n.parent=t,this.lastNode=null}}function $Z(e,n){const t=new BZ(void 0,n);return new MZ(t,n).end(e),t.root}const UZ=async(e,n)=>{var U,B,j,F,V,X,T,D;if(!e)return;const t=new pn("p","mm","a4",!0);let r=10;const i=297,u=210-10-10,f=O=>{r+O*6>i-20&&(t.addPage(),r=10)},h=e.sections.length+e.sections.reduce((O,L)=>O+L.subsections.length,0)+e.sections.reduce((O,L)=>O+L.subsections.reduce((Q,$)=>Q+$.subSubsections.length,0),0)+e.sections.reduce((O,L)=>{var Q;return O+(((Q=L.images)==null?void 0:Q.length)||0)+L.subsections.reduce(($,Y)=>{var Z;return $+(((Z=Y.images)==null?void 0:Z.length)||0)+Y.subSubsections.reduce((re,H)=>{var me;return re+(((me=H.images)==null?void 0:me.length)||0)},0)},0)},0);let m=0;const b=()=>{m+=1,n(Math.round(m/h*100))},g=async(O,L=150,Q=150)=>new Promise($=>{const Y=new Image;Y.crossOrigin="anonymous",Y.src=O.url,Y.onload=()=>{const Z=Y.width/Y.height;let re=L,H=Q;Z>1?H=L/Z:re=Q*Z,f(H+15);const me=(210-re)/2;if(t.addImage(Y,"JPEG",me,r,re,H),r+=H+5,O.title){t.setFont("helvetica","italic"),t.setFontSize(10);const z=(210-t.getTextWidth(O.title))/2;t.text(O.title,z,r),t.setFont("helvetica","normal"),r+=6}b(),$()},Y.onerror=()=>{console.warn(`Image failed to load: ${O.url}`),b(),$()}}),v=O=>{var L,Q;if(!O)return"";if(O.type==="text"&&"data"in O)return O.data;if(H0(O)){const $=O,Y=$.name.toLowerCase();return["strong","b","i","em","a","span","u","sub","sup"].includes(Y)?((L=$.children)==null?void 0:L.map(Z=>v(Z)).join(""))||"":((Q=$.children)==null?void 0:Q.map(Z=>v(Z)).join(""))||""}return""},x=O=>{var $;const L=[],Q=(Y,Z=!1,re=!1)=>{var H,me,q,z,ne;if(Y){if(Y.type==="text"&&"data"in Y){const oe=Y.data;oe&&L.push({text:oe,bold:Z,italic:re});return}if(H0(Y)){const oe=Y;switch(oe.name.toLowerCase()){case"strong":case"b":(H=oe.children)==null||H.forEach(ge=>Q(ge,!0,re));break;case"i":case"em":(me=oe.children)==null||me.forEach(ge=>Q(ge,Z,!0));break;case"a":{const ge=v(oe);ge&&L.push({text:ge,isLink:!0,url:((q=oe.attribs)==null?void 0:q.href)||"",bold:Z,italic:re});break}case"br":L.push({text:`
`});break;case"span":case"u":case"sub":case"sup":(z=oe.children)==null||z.forEach(ge=>Q(ge,Z,re));break;default:(ne=oe.children)==null||ne.forEach(ge=>Q(ge,Z,re))}}}};return($=O.children)==null||$.forEach(Y=>Q(Y)),L},C=(O,L,Q)=>{const $=O.map(Z=>Z.text).join("");if(!$.trim())return;const Y=$.split(`
`);for(const Z of Y){if(!Z.trim()){r+=3;continue}t.setFontSize(Q),t.setFont("helvetica","normal"),t.setTextColor(0,0,0);const re=t.splitTextToSize(Z,u-L);for(const H of re)f(1),t.text(H,L,r),r+=6}},S=O=>{var $;let L="";const Q=Y=>{var Z;if(Y){if(Y.type==="text"&&"data"in Y){L+=Y.data;return}if(H0(Y)){const re=Y,H=re.name.toLowerCase();if(H==="ul"||H==="ol")return;(Z=re.children)==null||Z.forEach(me=>Q(me))}}};return($=O.children)==null||$.forEach(Y=>Q(Y)),L.trim()},A=(O,L=10,Q=12)=>{var Z;const $=$Z(O),Y=(re,H=0)=>{var me,q,z,ne,oe;if(re){if(H0(re)){const ee=re,ge=ee.name.toLowerCase();switch(ge){case"p":{r+=4;const de=x(ee);C(de,L,Q),r+=4;break}case"br":r+=6;break;case"strong":case"b":case"i":case"em":{const de=v(ee);de.trim()&&N(de,L,Q,ge==="strong"||ge==="b",[0,0,0],ge==="i"||ge==="em");break}case"ul":case"ol":r+=4,(me=ee.children)==null||me.forEach(de=>Y(de,H+1)),r+=2;break;case"li":{const de=H<=1?"":"",ye=S(ee);if(ye){const we=L+(H-1)*6,ve=we+4;t.setFontSize(Q),t.setFont("helvetica","normal"),f(1),t.text(de,we,r),t.splitTextToSize(ye,u-ve).forEach((Ee,Ue)=>{Ue>0&&f(1),t.text(Ee,ve,r),r+=6})}(q=ee.children)==null||q.forEach(we=>{if(H0(we)){const ve=we;["ul","ol"].includes(ve.name)&&Y(ve,H+1)}});break}case"a":{if((z=ee.attribs)!=null&&z.href){const de=v(ee);de.trim()&&P(de,ee.attribs.href)}break}case"h1":{const de=v(ee);de.trim()&&(N(de,L,20,!0),r+=8);break}case"h2":{const de=v(ee);de.trim()&&(N(de,L,18,!0),r+=8);break}case"h3":{const de=v(ee);de.trim()&&(N(de,L,16,!0),r+=6);break}case"div":case"section":case"article":(ne=ee.children)==null||ne.forEach(de=>Y(de,H));break;default:(oe=ee.children)==null||oe.forEach(de=>Y(de,H))}}else if(re.type==="text"&&"data"in re){const ee=re.data.trim();ee&&N(ee,L,Q)}}};(Z=$.children)==null||Z.forEach(re=>Y(re))},N=(O,L,Q=12,$=!1,Y=[0,0,0],Z=!1,re=200)=>{if(!O)return;t.setFontSize(Q),t.setTextColor(Y[0],Y[1],Y[2]),t.setFont("helvetica",$?Z?"bolditalic":"bold":Z?"italic":"normal"),t.splitTextToSize(O,re-L).forEach(me=>{f(1),t.text(me,L,r),r+=6})},P=(O,L)=>{f(1),t.setTextColor(10,104,71),t.textWithLink(O,10,r,{url:L}),r+=6};(U=e.header)!=null&&U.content&&(N("Header:",10,12,!0),A(e.header.content),r+=5),e.title&&(N(e.title,10,18,!0,[10,104,71]),r+=5);for(const O of e.sections){if(N(O.title,10,16,!0),A(O.content),(B=O.images)!=null&&B.length)for(const L of O.images)await g(L);b();for(const L of O.subsections){if(N(L.title,12,14,!0),A(L.content,12),(j=L.images)!=null&&j.length)for(const Q of L.images)await g(Q);b();for(const Q of L.subSubsections){if(N(Q.title,14,12,!0),A(Q.content,14),(F=Q.images)!=null&&F.length)for(const $ of Q.images)await g($);b(),(V=Q.links)!=null&&V.length&&(N("Links:",14,12,!0),Q.links.forEach($=>P($.title,$.url)))}(X=L.links)!=null&&X.length&&(N("Links:",12,12,!0),L.links.forEach(Q=>P(Q.title,Q.url)))}(T=O.links)!=null&&T.length&&(N("Links:",10,12,!0),O.links.forEach(L=>P(L.title,L.url))),r+=5}(D=e.footer)!=null&&D.content&&(N("Footer:",10,12,!0),A(e.footer.content)),t.save(`${e.title||"Material"}.pdf`),n(100)},HZ=()=>{var P,U,B,j,F,V,X,T,D,O,L,Q,$,Y,Z,re,H,me,q,z,ne,oe,ee,ge,de,ye,we,ve,je,Ee,Ue,Oe,pe,tt,dt,lt,Ze,ut,wt,Et,Ot,qt;const{id:e}=vC(),[n,t]=Ab(),r=cr(),[i,a]=M.useState(null),[s,l]=M.useState({sectionIndex:0}),[u,f]=M.useState(null),[h,m]=M.useState(0),[b,g]=M.useState(!0);m7((i==null?void 0:i.sections)||[],s.sectionIndex||0,!!i),M.useEffect(()=>{m(Qe=>Qe+1)},[s]);const v=async()=>{if(i!=null&&i.originalFile)try{console.log(" Starting original file download:",i.originalFile.name);const Qe=document.createElement("a");Qe.href=i.originalFile.url,Qe.download=i.originalFile.name,Qe.target="_blank",document.body.appendChild(Qe),Qe.click(),document.body.removeChild(Qe),console.log(" Original file download initiated")}catch(Qe){console.error(" Original file download failed:",Qe)}};M.useEffect(()=>{e&&(async()=>{var Se,De;try{g(!0);const ke=gn(r,"materials",e),Ke=await ja(ke);if(Ke.exists()){const He={id:Ke.id,...Ke.data()};console.log("Material data from Firestore:",He),console.log("Sections type:",typeof He.sections),console.log("Sections value:",He.sections),Array.isArray(He.sections)||(console.warn("Sections is not an array, initializing as empty array. Original value:",He.sections),He.sections=[]),He.sections=He.sections.map(Nt=>({id:Nt.id||Vi(),title:Nt.title||"Untitled Section",content:Nt.content||"",images:Array.isArray(Nt.images)?Nt.images.map(Ft=>({...Ft,title:Ft.title||""})):[],links:Array.isArray(Nt.links)?Nt.links:[],subsections:Array.isArray(Nt.subsections)?Nt.subsections.map(Ft=>({id:Ft.id||Vi(),title:Ft.title||"Untitled Subsection",content:Ft.content||"",images:Array.isArray(Ft.images)?Ft.images.map(jt=>({...jt,title:jt.title||""})):[],links:Array.isArray(Ft.links)?Ft.links:[],subSubsections:Array.isArray(Ft.subSubsections)?Ft.subSubsections.map(jt=>({id:jt.id||Vi(),title:jt.title||"Untitled Sub-subsection",content:jt.content||"",images:Array.isArray(jt.images)?jt.images.map(nn=>({...nn,title:nn.title||""})):[],links:Array.isArray(jt.links)?jt.links:[]})):[]})):[]})),console.log("Loaded material from database:",{title:He.title,sectionsCount:((Se=He.sections)==null?void 0:Se.length)||0,sectionsWithImages:((De=He.sections)==null?void 0:De.filter(Nt=>{var It;return((It=Nt.images)==null?void 0:It.length)>0}).length)||0}),a(He)}}catch(ke){console.error("Error fetching material:",ke)}finally{g(!1)}})()},[e,r]),M.useEffect(()=>{e&&n.get("material")!==e&&(console.log(" Updating URL: Adding material ID to query parameters:",e),t(Qe=>{const Se=new URLSearchParams(Qe);return Se.set("material",e),Se},{replace:!0}))},[e,n,t]);const x=(Qe,Se,De)=>{l({sectionIndex:typeof Qe=="number"?Qe:void 0,subsectionIndex:Se,subSubsectionIndex:De,type:typeof Qe=="string"?Qe:void 0})},C=Qe=>{var He,Nt,It,Ft,jt,nn,Tt,Ht,un,vn,Er,Hn,Xn,Xt,_n,fa,cn,Vn,Oi,zt,Zn,dr,$r,gr,br,Qn,js;const{sectionIndex:Se,subsectionIndex:De,subSubsectionIndex:ke,type:Ke}=s;if(Qe==="prev")if(ke!==void 0&&ke>0)l({sectionIndex:Se,subsectionIndex:De,subSubsectionIndex:ke-1});else if(ke!==void 0&&ke===0)l({sectionIndex:Se,subsectionIndex:De});else if(De!==void 0&&De>0)l({sectionIndex:Se,subsectionIndex:De-1});else if(De!==void 0&&De===0)l({sectionIndex:Se});else if(Se>0){const Or=i==null?void 0:i.sections[Se-1];l({sectionIndex:Se-1,subsectionIndex:(He=Or==null?void 0:Or.subsections)!=null&&He.length?Or.subsections.length-1:void 0,subSubsectionIndex:(Nt=Or==null?void 0:Or.subsections)!=null&&Nt.length?((Ft=(It=Or.subsections[Or.subsections.length-1])==null?void 0:It.subSubsections)==null?void 0:Ft.length)-1:void 0})}else Ke==="footer"?l({sectionIndex:((i==null?void 0:i.sections.length)??1)-1,type:"footer"}):Se===void 0&&Ke==="header"&&l({sectionIndex:((i==null?void 0:i.sections.length)??1)-1});else Qe==="next"&&(ke===void 0&&De!==void 0&&((Ht=(Tt=(nn=(jt=i==null?void 0:i.sections[Se??0])==null?void 0:jt.subsections)==null?void 0:nn[De])==null?void 0:Tt.subSubsections)!=null&&Ht.length)?l({sectionIndex:Se,subsectionIndex:De,subSubsectionIndex:0}):ke!==void 0&&ke<(((Hn=(Er=(vn=(un=i==null?void 0:i.sections[Se??0])==null?void 0:un.subsections)==null?void 0:vn[De??0])==null?void 0:Er.subSubsections)==null?void 0:Hn.length)??1)-1?l({sectionIndex:Se,subsectionIndex:De,subSubsectionIndex:ke+1}):ke!==void 0&&ke===(((fa=(_n=(Xt=(Xn=i==null?void 0:i.sections[Se??0])==null?void 0:Xn.subsections)==null?void 0:Xt[De??0])==null?void 0:_n.subSubsections)==null?void 0:fa.length)??1)-1&&(De??0)<(((Vn=(cn=i==null?void 0:i.sections[Se??0])==null?void 0:cn.subsections)==null?void 0:Vn.length)??1)-1?l({sectionIndex:Se,subsectionIndex:(De??0)+1}):De===void 0&&((zt=(Oi=i==null?void 0:i.sections[Se??0])==null?void 0:Oi.subsections)!=null&&zt.length)?l({sectionIndex:Se,subsectionIndex:0}):De!==void 0&&De<(((dr=(Zn=i==null?void 0:i.sections[Se??0])==null?void 0:Zn.subsections)==null?void 0:dr.length)??1)-1?l({sectionIndex:Se,subsectionIndex:De+1}):De!==void 0&&De===(((gr=($r=i==null?void 0:i.sections[Se??0])==null?void 0:$r.subsections)==null?void 0:gr.length)??1)-1&&(Se??0)<(((br=i==null?void 0:i.sections)==null?void 0:br.length)??1)-1?l({sectionIndex:(Se??0)+1}):(Se??0)<(((Qn=i==null?void 0:i.sections)==null?void 0:Qn.length)??1)-1?l({sectionIndex:(Se??0)+1}):Se===(((js=i==null?void 0:i.sections)==null?void 0:js.length)??1)-1&&De===void 0&&l({sectionIndex:void 0,type:"footer"}))};if(b)return d.jsx(se,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:d.jsx(pi,{size:60,sx:{color:ct.palette.primary.main}})});if(!i)return d.jsx(pC,{maxWidth:"md",children:d.jsxs(se,{sx:{textAlign:"center",py:8,px:4,backgroundColor:ct.palette.background.paper,borderRadius:Ct["2xl"],border:`1px solid ${ct.palette.divider}`},children:[d.jsx(te,{variant:"h5",sx:{fontFamily:ct.typography.h5.fontFamily,fontWeight:ct.typography.h5.fontWeight,color:ct.palette.text.secondary,mb:2},children:"Material Not Found"}),d.jsx(te,{variant:"body1",sx:{color:ct.palette.text.secondary},children:"The requested material could not be found or you don't have permission to view it."})]})});const S=s.type==="header"||s.type==="footer"?"":s.sectionIndex!==void 0?s.subSubsectionIndex!==void 0?((B=(U=(P=i.sections[s.sectionIndex])==null?void 0:P.subsections[s.subsectionIndex])==null?void 0:U.subSubsections[s.subSubsectionIndex])==null?void 0:B.content)||"":s.subsectionIndex!==void 0?((F=(j=i.sections[s.sectionIndex])==null?void 0:j.subsections[s.subsectionIndex])==null?void 0:F.content)||"":((V=i.sections[s.sectionIndex])==null?void 0:V.content)||"":"",A=s.type==="header"||s.type==="footer"?"":s.sectionIndex!==void 0?s.subSubsectionIndex!==void 0?((D=(T=(X=i.sections[s.sectionIndex])==null?void 0:X.subsections[s.subsectionIndex])==null?void 0:T.subSubsections[s.subSubsectionIndex])==null?void 0:D.title)||"":s.subsectionIndex!==void 0?((L=(O=i.sections[s.sectionIndex])==null?void 0:O.subsections[s.subsectionIndex])==null?void 0:L.title)||"":((Q=i.sections[s.sectionIndex])==null?void 0:Q.title)||"":"",N=s.sectionIndex!==void 0?s.subSubsectionIndex!==void 0?((Z=(Y=($=i.sections[s.sectionIndex])==null?void 0:$.subsections[s.subsectionIndex])==null?void 0:Y.subSubsections[s.subSubsectionIndex])==null?void 0:Z.links)||[]:s.subsectionIndex!==void 0?((H=(re=i.sections[s.sectionIndex])==null?void 0:re.subsections[s.subsectionIndex])==null?void 0:H.links)||[]:((me=i.sections[s.sectionIndex])==null?void 0:me.links)||[]:[];return d.jsxs(se,{sx:{display:"flex",flexGrow:1,flexDirection:"column",minHeight:"100vh"},children:[d.jsxs(an,{elevation:1,sx:{p:3,mb:2,backgroundColor:ct.palette.background.paper,borderRadius:0},children:[d.jsxs(se,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[d.jsx(lI,{courseId:i==null?void 0:i.course}),d.jsxs(se,{sx:{display:"flex",gap:2,alignItems:"center"},children:[d.jsx(Rn,{label:i.published?"Published":i.scheduledTimestamp?"Scheduled":"Draft",color:i.published?"success":i.scheduledTimestamp?"info":"warning",variant:"outlined",sx:{fontWeight:600}}),d.jsxs(se,{sx:{display:"flex",gap:1},children:[(i==null?void 0:i.originalFile)&&d.jsx(ni,{title:`Download original file: ${i.originalFile.name}`,arrow:!0,children:d.jsx(xt,{variant:"outlined",startIcon:d.jsx(eP,{}),endIcon:d.jsx(ZE,{}),onClick:v,sx:{borderRadius:"12px",textTransform:"none",fontWeight:600},children:"PPTX"})}),d.jsx(xt,{variant:"outlined",startIcon:d.jsx(tv,{}),endIcon:d.jsx(ZE,{}),onClick:async()=>{i&&(f(0),await UZ(i,f),f(null))},disabled:u!==null,sx:{borderRadius:"12px",textTransform:"none",fontWeight:600},children:u!==null?"Generating...":"PDF"})]})]})]}),u!==null&&d.jsx(se,{sx:{width:"100%",mt:2},children:d.jsx(nl,{variant:"determinate",value:u,sx:{borderRadius:Ct.xl,height:8}})})]}),d.jsxs(se,{sx:{display:"flex",flexGrow:1,minHeight:0},children:[d.jsx(Xv,{children:d.jsx(oI,{sections:i.sections,selected:s,onAddSection:()=>{},onAddSubsection:()=>{},onAddSubSubsection:()=>{},onSelectSection:x,onUpdateSectionTitle:()=>{},onUpdateSubsectionTitle:()=>{},onUpdateSubSubsectionTitle:()=>{},onDeleteSection:()=>{},onDeleteSubsection:()=>{},onDeleteSubSubsection:()=>{},isViewMode:!0})}),d.jsxs(se,{sx:{flexGrow:1,p:4,overflow:"auto"},children:[d.jsx(an,{elevation:0,sx:{p:3,mb:3,backgroundColor:ct.palette.background.paper,borderRadius:Ct.xl,border:`1px solid ${ct.palette.divider}`},children:d.jsx(te,{dangerouslySetInnerHTML:{__html:i.header.content.replace(/\n/g,"<br />")},sx:{fontFamily:ct.typography.body1.fontFamily,color:ct.palette.text.secondary,lineHeight:1.6}})}),d.jsx(te,{variant:"h3",align:"center",sx:{fontFamily:ct.typography.h3.fontFamily,fontWeight:ct.typography.h3.fontWeight,color:ct.palette.text.primary,mb:4},children:i.title}),A&&d.jsx(te,{variant:"h4",align:"center",sx:{fontFamily:ct.typography.h4.fontFamily,fontWeight:ct.typography.h4.fontWeight,color:ct.palette.text.primary,mb:4},children:A}),s.type!=="header"&&s.type!=="footer"&&d.jsx(dh,{in:!0,timeout:400,children:d.jsxs(se,{children:[d.jsxs(an,{elevation:0,sx:{p:4,mb:3,backgroundColor:ct.palette.background.paper,borderRadius:Ct.xl,border:`1px solid ${ct.palette.divider}`},children:[d.jsx(te,{dangerouslySetInnerHTML:{__html:S.replace(/\n/g,"<br />")},sx:{fontFamily:ct.typography.body1.fontFamily,color:ct.palette.text.primary,lineHeight:1.7,"& p":{mb:2}}}),d.jsx(se,{sx:{mt:3},children:s.sectionIndex!==void 0&&d.jsx(d.Fragment,{children:s.subSubsectionIndex!==void 0?(((ge=(ee=(oe=(ne=(z=(q=i.sections[s.sectionIndex])==null?void 0:q.subsections)==null?void 0:z[s.subsectionIndex])==null?void 0:ne.subSubsections)==null?void 0:oe[s.subSubsectionIndex])==null?void 0:ee.images)==null?void 0:ge.length)||0)>0&&d.jsx(W5,{images:((je=(ve=(we=(ye=(de=i.sections[s.sectionIndex])==null?void 0:de.subsections)==null?void 0:ye[s.subsectionIndex])==null?void 0:we.subSubsections)==null?void 0:ve[s.subSubsectionIndex])==null?void 0:je.images)||[]}):s.subsectionIndex!==void 0?(((pe=(Oe=(Ue=(Ee=i.sections[s.sectionIndex])==null?void 0:Ee.subsections)==null?void 0:Ue[s.subsectionIndex])==null?void 0:Oe.images)==null?void 0:pe.length)||0)>0&&d.jsx(W5,{images:((lt=(dt=(tt=i.sections[s.sectionIndex])==null?void 0:tt.subsections)==null?void 0:dt[s.subsectionIndex])==null?void 0:lt.images)||[]}):(((ut=(Ze=i.sections[s.sectionIndex])==null?void 0:Ze.images)==null?void 0:ut.length)||0)>0&&d.jsx(W5,{images:((wt=i.sections[s.sectionIndex])==null?void 0:wt.images)||[]})})})]}),N.length>0&&d.jsx(wX,{links:N})]})},h),d.jsxs(se,{sx:{display:"flex",justifyContent:"space-between",mt:4},children:[d.jsx(ni,{title:"Previous Section/Subsection (Left Arrow)",arrow:!0,children:d.jsx("span",{children:d.jsx(jn,{onClick:()=>C("prev"),disabled:s.sectionIndex===0&&s.subsectionIndex===void 0&&s.type==="header",sx:{backgroundColor:ct.palette.primary.main,color:ct.palette.primary.contrastText,"&:hover":{backgroundColor:ct.palette.primary.dark},"&:disabled":{backgroundColor:ct.palette.action.disabled,color:ct.palette.action.disabled}},children:d.jsx(tP,{})})})}),d.jsx(ni,{title:"Next Section/Subsection (Right Arrow)",arrow:!0,children:d.jsx("span",{children:d.jsx(jn,{onClick:()=>C("next"),disabled:s.sectionIndex===(((Et=i.sections)==null?void 0:Et.length)??1)-1&&(s.subsectionIndex===void 0||s.subsectionIndex===(((qt=(Ot=i.sections[s.sectionIndex])==null?void 0:Ot.subsections)==null?void 0:qt.length)??1)-1)&&s.type==="footer",sx:{backgroundColor:ct.palette.primary.main,color:ct.palette.primary.contrastText,"&:hover":{backgroundColor:ct.palette.primary.dark},"&:disabled":{backgroundColor:ct.palette.action.disabled,color:ct.palette.action.disabled}},children:d.jsx(nP,{})})})})]}),d.jsx(an,{elevation:0,sx:{p:3,mt:4,backgroundColor:ct.palette.background.paper,borderRadius:Ct.xl,border:`1px solid ${ct.palette.divider}`},children:d.jsx(te,{dangerouslySetInnerHTML:{__html:i.footer.content.replace(/\n/g,"<br />")},sx:{fontFamily:ct.typography.body1.fontFamily,color:ct.palette.text.secondary,lineHeight:1.6}})})]})]})]})},NO=({value:e,onChange:n})=>{const[t,r]=M.useState([]),{userDetails:i}=Ii();return M.useEffect(()=>{if(i!=null&&i.classes){const a=Object.entries(i.classes).filter(([s,l])=>l.isCourseAdmin||i.isSuperAdmin).map(([s,l])=>({id:s,number:l.number,title:l.title,isCourseAdmin:l.isCourseAdmin}));r(a)}else r([])},[i]),d.jsxs(d.Fragment,{children:[d.jsx(Mm,{value:e,onChange:n,courses:t,label:"Course",placeholder:"Select a course",helperText:"",showNumber:!0,showTitle:!0,showAdminBadge:!1}),!e&&d.jsx(Vv,{children:"Please select a course"})]})},DO=({links:e,onLinkChange:n,onAddLink:t,onRemoveLink:r})=>d.jsxs(se,{sx:{mt:Pe[5]},children:[d.jsxs(te,{variant:"h6",sx:{mb:Pe[3],fontFamily:xe.fontFamily.secondary,fontSize:xe.fontSize.lg,fontWeight:xe.fontWeight.semibold,color:K.primary[700],display:"flex",alignItems:"center",gap:Pe[2]},children:[d.jsx(se,{sx:{width:24,height:24,borderRadius:Ct.sm,backgroundColor:K.primary[100],display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px"},children:""}),"Links & Resources"]}),e.map((i,a)=>d.jsxs(an,{elevation:0,sx:{p:Pe[3],mb:Pe[3],backgroundColor:K.neutral[50],borderRadius:Ct.lg,border:`1px solid ${K.neutral[200]}`,position:"relative","&:hover":{borderColor:K.primary[300],backgroundColor:K.primary[25],"& .remove-button":{opacity:1,visibility:"visible"}},transition:"all 0.2s ease-in-out"},children:[d.jsx(ni,{title:"Remove this link",arrow:!0,placement:"top",children:d.jsx(jn,{className:"remove-button",onClick:()=>r(a),sx:{position:"absolute",top:Pe[2],right:Pe[2],width:32,height:32,backgroundColor:K.error[50],border:`1px solid ${K.error[200]}`,borderRadius:Ct.sm,opacity:0,visibility:"hidden",transition:"all 0.2s ease-in-out","&:hover":{backgroundColor:K.error[100],borderColor:K.error[300],transform:"scale(1.05)"},"& .MuiSvgIcon-root":{fontSize:"16px",color:K.error[600]}},children:d.jsx(rP,{})})}),d.jsx(se,{sx:{display:"flex",alignItems:"center",mb:Pe[2]},children:d.jsxs(te,{variant:"body2",sx:{fontFamily:xe.fontFamily.secondary,fontSize:xe.fontSize.sm,fontWeight:xe.fontWeight.medium,color:K.text.secondary},children:["Link ",a+1]})}),d.jsxs(se,{sx:{display:"flex",gap:Pe[3],alignItems:"flex-start"},children:[d.jsx(tn,{label:"Link Title",fullWidth:!0,value:i.title,onChange:s=>n(a,"title",s.target.value),placeholder:"Enter a descriptive title for this link",sx:{flex:"0 0 65%","& .MuiOutlinedInput-root":{borderRadius:Ct.lg,backgroundColor:K.surface.primary}}}),d.jsx(tn,{label:"URL",fullWidth:!0,value:i.url,onChange:s=>n(a,"url",s.target.value),placeholder:"https://example.com",sx:{flex:"0 0 35%","& .MuiOutlinedInput-root":{borderRadius:Ct.lg,backgroundColor:K.surface.primary}}})]})]},i.id)),d.jsx(xt,{variant:"outlined",onClick:t,startIcon:d.jsx(se,{sx:{width:20,height:20,borderRadius:Ct.sm,backgroundColor:K.primary[100],display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:xe.fontWeight.semibold,color:K.primary[700]},children:"+"}),sx:{fontFamily:xe.fontFamily.secondary,fontSize:xe.fontSize.base,fontWeight:xe.fontWeight.medium,color:K.primary[600],borderColor:K.primary[300],borderRadius:Ct.lg,padding:`${Pe[2]} ${Pe[4]}`,textTransform:"none","&:hover":{backgroundColor:K.primary[50],borderColor:K.primary[400],color:K.primary[700]},transition:"all 0.2s ease-in-out"},children:"Add Link"})]}),VZ=()=>{const[e,n]=M.useState(""),[t,r]=M.useState(""),[i,a]=M.useState([{id:crypto.randomUUID(),title:"",url:""}]),[s,l]=M.useState(""),u=Na(),f=cr(),h=async()=>{if(!s){alert("Please select a course to post the message.");return}try{await Di(mn(f,"messages"),{title:e,description:t,links:i,course:s,postedOn:nh(),isPinned:!1}),u("/messages")}catch(x){console.error("Error adding message: ",x)}},m=()=>u("/messages"),b=(x,C,S)=>{const A=[...i];A[x][C]=S,a(A)},g=()=>a([...i,{id:crypto.randomUUID(),title:"",url:""}]),v=x=>{const C=i.filter((S,A)=>A!==x);a(C)};return d.jsxs(pC,{maxWidth:"md",sx:{mt:6,fontFamily:xe.fontFamily.primary},children:[d.jsx(Do,{title:"Add Message",subtitle:"Share important announcements and updates with your course participants"}),d.jsx(an,{elevation:3,sx:{p:Pe[6],borderRadius:Ct["2xl"],backgroundColor:K.background.elevated,border:`1px solid ${K.neutral[200]}`,boxShadow:Bt.lg},children:d.jsxs(se,{sx:{mt:Pe[4]},children:[d.jsx(NO,{value:s,onChange:l}),d.jsx(tn,{label:"Subject",fullWidth:!0,value:e,onChange:x=>n(x.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),d.jsx(tn,{label:"Description",fullWidth:!0,multiline:!0,rows:4,value:t,onChange:x=>r(x.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),d.jsx(DO,{links:i,onLinkChange:b,onAddLink:g,onRemoveLink:v}),d.jsx(Yi,{sx:{width:"100%",my:2,backgroundColor:"#DADADA"}}),d.jsxs(se,{sx:{display:"flex",justifyContent:"space-between"},children:[d.jsx(xt,{variant:"outlined",onClick:m,className:"cancel-button",children:"Cancel"}),d.jsx(xt,{variant:"outlined",onClick:h,className:"save-button",children:"Save"})]})]})})]})},WZ=()=>{const{id:e}=vC(),[n,t]=M.useState(""),[r,i]=M.useState(""),[a,s]=M.useState([{id:crypto.randomUUID(),title:"",url:""}]),[l,u]=M.useState(""),f=Na(),h=cr();M.useEffect(()=>{(async()=>{try{const S=gn(h,"messages",e),A=await ja(S);if(A.exists()){const N=A.data();t(N.title),i(N.description);const P=N.links||[];s(P.length>0?P.map(U=>({id:U.id||crypto.randomUUID(),title:U.title||"",url:U.url||""})):[{id:crypto.randomUUID(),title:"",url:""}]),u(N.course||"")}}catch(S){console.error("Error fetching message: ",S)}})()},[h,e]);const m=async()=>{try{if(!l){alert("Please select a valid course to update the message.");return}const C=gn(h,"messages",e);await qr(C,{title:n,description:r,links:a,course:l,lastUpdatedOn:nh()}),f("/messages")}catch(C){console.error("Error editing message: ",C)}},b=()=>f("/messages"),g=(C,S,A)=>{const N=[...a];N[C][S]=A,s(N)},v=()=>s([...a,{id:crypto.randomUUID(),title:"",url:""}]),x=C=>{const S=a.filter((A,N)=>N!==C);s(S)};return d.jsxs(pC,{maxWidth:"md",sx:{mt:6,fontFamily:xe.fontFamily.primary},children:[d.jsx(Do,{title:"Edit Message",subtitle:"Update your message content and course assignment"}),d.jsx(an,{elevation:3,sx:{p:Pe[6],borderRadius:Ct["2xl"],backgroundColor:K.background.elevated,border:`1px solid ${K.neutral[200]}`,boxShadow:Bt.lg},children:d.jsxs(se,{sx:{mt:Pe[4]},children:[d.jsx(NO,{value:l,onChange:u}),d.jsx(tn,{label:"Subject",fullWidth:!0,value:n,onChange:C=>t(C.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),d.jsx(tn,{label:"Description",fullWidth:!0,multiline:!0,rows:4,value:r,onChange:C=>i(C.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),d.jsx(DO,{links:a,onLinkChange:g,onAddLink:v,onRemoveLink:x}),d.jsx(Yi,{sx:{width:"100%",my:2,backgroundColor:"#DADADA"}}),d.jsxs(se,{sx:{display:"flex",justifyContent:"space-between"},children:[d.jsx(xt,{variant:"outlined",onClick:b,className:"cancel-button",children:"Cancel"}),d.jsx(xt,{variant:"outlined",onClick:m,className:"save-button",children:"Save"})]})]})})]})},YZ=({users:e,loading:n=!1})=>{const t=a=>a.isSuperAdmin?"superAdmin":a.isAdmin?"educator":"student",r=a=>{if(!a||Object.keys(a).length===0)return d.jsx(se,{sx:{fontStyle:"italic",color:K.text.disabled},children:"None"});const s=Object.entries(a);return d.jsx(se,{sx:{display:"flex",flexDirection:"column",gap:Pe[1]},children:s.map(([l,u])=>d.jsx(_p,{courseId:l,courseNumber:u.number,courseTitle:u.title,variant:"link",maxTitleLength:999},l))})},i=[{id:"id",label:"User ID",width:"25%",render:(a,s)=>d.jsx(Dp,{userId:a,userType:t(s)})},{id:"isAdmin",label:"Status",width:"15%",render:(a,s)=>d.jsx(Z_,{status:t(s)})},{id:"lastLogin",label:"Last Login",width:"20%",render:a=>d.jsx(Lm,{date:a,format:"full"})},{id:"classes",label:"Courses",width:"40%",render:a=>r(a)}];return d.jsx(Np,{data:e,columns:i,loading:n,emptyMessage:"No users found.",showRowNumbers:!0})},GZ=({userId:e,onUserDeleted:n})=>{const[t,r]=M.useState(!1),[i,a]=M.useState(!1),s=cr(),l=()=>{r(!0)},u=()=>{r(!1)},f=async()=>{a(!0);try{const h=gn(s,"users",e);await Wv(h),n(!0)}catch(h){console.error("Error deleting user:",h),n(!1)}a(!1),r(!1)};return d.jsxs(d.Fragment,{children:[d.jsx(xt,{variant:"text",color:"error",onClick:l,children:"Delete User Account"}),d.jsxs(la,{open:t,onClose:u,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[d.jsx($a,{id:"alert-dialog-title",children:"Confirm Deletion"}),d.jsx(ua,{children:d.jsx(zu,{id:"alert-dialog-description",children:"Are you sure you want to delete this user account? This action cannot be undone."})}),d.jsxs(Ea,{children:[d.jsx(xt,{onClick:u,color:"primary",disabled:i,children:"Cancel"}),d.jsx(xt,{onClick:f,color:"error",autoFocus:!0,disabled:i,children:i?d.jsx(pi,{size:24}):"Delete"})]})]})]})},QZ=({userId:e,userClasses:n,courses:t,onCourseAssigned:r})=>{const[i,a]=M.useState(""),[s,l]=M.useState(!1),[u,f]=M.useState(!1),[h,m]=M.useState(""),[b,g]=M.useState(!1),[v,x]=M.useState(!1),[C,S]=M.useState(!1),[A,N]=M.useState(!1),P=cr(),U=async()=>{if(!e||!i){m("Please enter a User ID and select a course."),S(!1),g(!0);return}f(!0);try{const V=gn(P,"users",e),X=t.find(T=>T.id===i);if(X){const T=gn(P,"courses",i),D=await ja(T),O=D.exists()?D.data():null,L=(O==null?void 0:O.courseCreatedAt)||(O==null?void 0:O.createdAt)||(O==null?void 0:O.timestamp)||new Date;await qr(V,{[`classes.${i}`]:{number:X.number,title:X.title,isCourseAdmin:s,courseCreatedAt:L,enrolledAt:new Date}}),m(`Course ${X.title} assigned successfully to user ${e}${s?" as Course Admin.":"."}`),r(i,{number:X.number,title:X.title,isCourseAdmin:s}),N(!0),setTimeout(()=>N(!1),1e3),x(!1),a(""),l(!1),S(!0)}else m("Selected course not found."),S(!1)}catch(V){console.error("Error assigning course:",V),m("Error assigning course."),S(!1)}f(!1),g(!0)},B=()=>{g(!1)},j=()=>x(!0),F=()=>x(!1);return d.jsxs(d.Fragment,{children:[d.jsxs(se,{sx:{display:"flex",alignItems:"center",mt:2,p:2,borderRadius:2,transition:"background-color 0.3s ease",backgroundColor:A?"#e8f5e8":"transparent",border:A?"2px solid #4caf50":"2px solid transparent"},children:[d.jsx(te,{variant:"h6",component:"h2",sx:{mr:2},children:"Current Courses:"}),d.jsx(se,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:n&&Object.keys(n).length>0?Object.values(n).map((V,X)=>d.jsx(Rn,{label:`${V.isCourseAdmin?"[Course Admin] ":""}${V.number} - ${V.title}`,style:{backgroundColor:V.isCourseAdmin?"#ffcccb":"#d4edda",color:V.isCourseAdmin?"#b71c1c":"#155724",margin:"4px"}},X)):d.jsx(te,{children:"No courses assigned."})}),d.jsx(Mm,{value:i,onChange:a,courses:t.map(V=>({id:V.id,number:V.number,title:V.title,isCourseAdmin:!1})),label:"Course",placeholder:"Select a course to assign",helperText:"Choose a course to assign to the user",size:"small",sx:{minWidth:200,mr:2}}),d.jsxs(Xc,{sx:{mr:2},children:[d.jsx(ch,{children:"Role"}),d.jsxs(Zc,{value:s?"admin":"student",onChange:V=>l(V.target.value==="admin"),children:[d.jsx(xi,{value:"admin",children:"Course Admin"}),d.jsx(xi,{value:"student",children:"Student"})]})]}),d.jsx(xt,{variant:"contained",color:"primary",onClick:j,disabled:u||!i,children:u?d.jsx(pi,{size:24}):"Assign Course"})]}),d.jsx(qu,{open:b,autoHideDuration:6e3,onClose:B,children:d.jsx(Cn,{onClose:B,severity:C?"success":"error",children:h})}),d.jsxs(la,{open:v,onClose:F,"aria-labelledby":"assign-dialog-title",children:[d.jsx($a,{id:"assign-dialog-title",children:"Assign Course"}),d.jsx(ua,{children:d.jsxs(zu,{children:["Are you sure you want to assign the course ",i," to this user",s?" as a Course Admin?":"?"]})}),d.jsxs(Ea,{children:[d.jsx(xt,{onClick:F,color:"primary",children:"Cancel"}),d.jsx(xt,{onClick:U,color:"primary",autoFocus:!0,children:"Confirm"})]})]})]})},KZ=()=>{const[e,n]=M.useState(""),[t,r]=M.useState(!1),[i,a]=M.useState(!1),[s,l]=M.useState(void 0),[u,f]=M.useState(!1),[h,m]=M.useState(""),[b,g]=M.useState(!1),[v,x]=M.useState(!1),[C,S]=M.useState(!1),[A,N]=M.useState([]),[P,U]=M.useState(""),[B,j]=M.useState([]),F=cr(),[V,X]=M.useState("");Na(),M.useEffect(()=>{(async()=>{try{const z=mn(F,"courses"),oe=(await _i(z)).docs.map(ee=>({id:ee.id,number:ee.data().number,title:ee.data().title}));j(oe)}catch(z){console.error("Error fetching courses:",z)}})()},[F]);const T=async()=>{if(e){f(!0),a(!1);try{const q=gn(F,"users",e),z=await ja(q);if(z.exists()){const ne=z.data();r(ne.isAdmin),l(ne.classes),a(!0)}else m("User not found."),g(!0)}catch(q){console.error("Error fetching user:",q),m("Error fetching user."),g(!0)}f(!1)}},D=M.useCallback(async()=>{f(!0);try{const q=mn(F,"users"),ne=(await _i(q)).docs.map(oe=>({id:oe.id,...oe.data()}));N(ne)}catch(q){console.error("Error fetching users:",q),m("Error fetching users."),g(!0)}f(!1)},[F]);M.useEffect(()=>{D()},[D]);const O=async()=>{try{const q=gn(F,"users",e);await qr(q,{isAdmin:C}),m(`User ${C?"granted":"revoked"} admin privileges successfully.`),r(C);const z=A.map(ne=>ne.id===e?{...ne,isAdmin:C}:ne);N(z)}catch(q){console.error("Error updating user:",q),m("Error updating user.")}g(!0),x(!1)},L=q=>{q.preventDefault(),i?(S(!t),x(!0)):(m("User not found."),g(!0))},Q=()=>{g(!1)},$=()=>{x(!1)},Y=q=>P?q.classes&&P in q.classes:!0,Z=q=>V==="superAdmin"?q.isSuperAdmin:V==="educator"?q.isAdmin&&!q.isSuperAdmin:V==="student"?!q.isAdmin&&!q.isSuperAdmin:!0,re=q=>q.filter(z=>Y(z)&&Z(z)),H=q=>{q?(m("User account deleted successfully."),a(!1),n(""),D()):m("Error deleting user account."),g(!0)},me=(q,z)=>{l(ne=>({...ne,[q]:z}))};return d.jsxs(se,{sx:{padding:3},children:[d.jsx(Do,{title:"User Management"}),d.jsx(te,{variant:"body1",gutterBottom:!0,children:"Use this page to view and manage user permissions. Enter the User ID to grant or revoke admin privileges, or delete user account."}),d.jsx(se,{sx:{display:"flex",justifyContent:"flex-start"},children:d.jsxs("form",{onSubmit:L,children:[d.jsx(tn,{label:"User ID",value:e,onChange:q=>n(q.target.value),fullWidth:!0,required:!0,margin:"normal",onKeyPress:q=>{q.key==="Enter"&&(T(),q.preventDefault())},sx:{minWidth:"300px"}}),u?d.jsx(pi,{}):i&&d.jsxs(an,{variant:"outlined",sx:{padding:2,borderRadius:"15px",mb:1},children:[d.jsxs(se,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",border:"1px solid #e0e0e0",padding:"16px",borderRadius:"8px",backgroundColor:"#f9f9f9",mb:2},children:[d.jsxs(se,{sx:{display:"flex",alignItems:"center"},children:[d.jsx(te,{variant:"h6",component:"h2",sx:{mr:2},children:"Current Status:"}),d.jsx(Rn,{label:t?"Educator (Admin)":"Student (Non-Admin)",color:t?"primary":"default",sx:{fontSize:"0.9rem",fontWeight:"bold",padding:"6px 12px",borderRadius:"16px",backgroundColor:t?"#1976d2":"#e0e0e0",color:t?"#fff":"#000"}})]}),d.jsx(xt,{type:"submit",variant:"contained",color:t?"secondary":"primary",sx:{padding:"8px 16px",textTransform:"none",fontSize:"0.9rem",borderRadius:"8px",fontWeight:"bold",boxShadow:"none","&:hover":{boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.2)"}},children:t?"Revoke Educator Access":"Grant Educator Access"})]}),d.jsx(QZ,{userId:e,userClasses:s,courses:B,onCourseAssigned:me}),d.jsx(GZ,{userId:e,onUserDeleted:H})]})]})}),d.jsx(te,{variant:"h5",component:"h2",gutterBottom:!0,children:"Current Users"}),d.jsx(Mm,{value:P,onChange:U,courses:[{id:"",number:"All",title:"Courses"},...B.map(q=>({id:q.id,number:q.number,title:q.title,isCourseAdmin:!1}))],label:"Filter by Course",placeholder:"All courses",helperText:"",size:"small",sx:{mb:3,width:"25%"}}),d.jsxs(Xc,{fullWidth:!0,sx:{mb:3,width:"25%"},children:[d.jsx(ch,{children:"User Status"}),d.jsxs(Zc,{value:V,onChange:q=>X(q.target.value),children:[d.jsx(xi,{value:"",children:"All Statuses"}),d.jsx(xi,{value:"superAdmin",children:"Super Admin"}),d.jsx(xi,{value:"educator",children:"Educator"}),d.jsx(xi,{value:"student",children:"Student"})]})]}),d.jsx(YZ,{users:re(A)}),d.jsxs(la,{open:v,onClose:$,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[d.jsx($a,{id:"alert-dialog-title",children:t?"Revoke Admin Privileges":"Grant Admin Privileges"}),d.jsx(ua,{children:d.jsxs(zu,{id:"alert-dialog-description",children:["Are you sure you want to ",t?"revoke":"grant"," admin privileges for this user?"]})}),d.jsxs(Ea,{children:[d.jsx(xt,{onClick:$,color:"primary",children:"Cancel"}),d.jsx(xt,{onClick:O,color:"primary",autoFocus:!0,children:"Confirm"})]})]}),d.jsx(qu,{open:b,autoHideDuration:6e3,onClose:Q,children:d.jsx(Cn,{onClose:Q,severity:"info",children:h})})]})},XZ=({onCourseAdded:e})=>{const[n,t]=M.useState(""),{userDetails:r,setUserDetails:i}=Ii(),a=cr(),s=u=>{t(u.target.value)},l=async()=>{try{const h=(await _i(mn(a,"courses"))).docs.map(m=>({id:m.id,passcode:m.data().passcode,number:m.data().number,title:m.data().title})).find(m=>m.passcode===n);if(h){if(r)if((r.classes||{})[h.id])e(`Course access for ${h.number} is already added to your account!`,"info");else{const b=gn(a,"users",r.uid),g=gn(a,"courses",h.id),v=await ja(g),x=v.exists()?v.data():null,C=(x==null?void 0:x.courseCreatedAt)||(x==null?void 0:x.createdAt)||(x==null?void 0:x.timestamp)||new Date;await qr(b,{[`classes.${h.id}`]:{number:h.number,title:h.title,isCourseAdmin:!1,courseCreatedAt:C,enrolledAt:new Date}});const S=await ja(b);if(S.exists()){const A=S.data();i({...A,uid:r.uid})}e(`Course access for ${h.number} added to your account successfully!`,"success"),t("")}}else e("Invalid passcode. Course not found.","error")}catch(u){console.error("Error updating document: ",u),e("Error adding course access to your account.","error")}};return d.jsxs(se,{sx:{p:Pe[4],backgroundColor:K.background.primary,borderRadius:Ct.lg,border:`1px solid ${K.neutral[200]}`,boxShadow:Bt.sm,maxWidth:"600px"},children:[d.jsx(te,{variant:"h6",sx:{mb:Pe[3],fontFamily:xe.fontFamily.secondary,fontWeight:xe.fontWeight.semibold,color:K.text.primary},children:"Enter Course Passcode"}),d.jsxs(et,{container:!0,spacing:Pe[3],alignItems:"center",children:[d.jsx(et,{item:!0,xs:12,md:8,children:d.jsx(tn,{label:"Course Passcode",value:n,onChange:s,fullWidth:!0,variant:"outlined",placeholder:"Enter the passcode provided by your instructor",sx:{"& .MuiOutlinedInput-root":{fontFamily:xe.fontFamily.primary,"& fieldset":{borderColor:K.neutral[300]},"&:hover fieldset":{borderColor:K.primary[400]},"&.Mui-focused fieldset":{borderColor:K.primary[500]}},"& .MuiInputLabel-root":{fontFamily:xe.fontFamily.secondary,color:K.text.secondary,"&.Mui-focused":{color:K.primary[500]}}}})}),d.jsx(et,{item:!0,xs:12,md:4,children:d.jsx(xt,{variant:"contained",onClick:l,fullWidth:!0,sx:{fontFamily:xe.fontFamily.secondary,fontWeight:xe.fontWeight.medium,backgroundColor:K.primary[500],color:K.text.inverse,borderRadius:Ct.md,textTransform:"none",py:Pe[2],"&:hover":{backgroundColor:K.primary[600]},"&:disabled":{backgroundColor:K.neutral[300],color:K.text.disabled}},children:"Add Course"})})]})]})};var Wg={},nT;function ZZ(){if(nT)return Wg;nT=1;var e=ol();Object.defineProperty(Wg,"__esModule",{value:!0}),Wg.default=void 0;var n=e(ul()),t=ll();return Wg.default=(0,n.default)((0,t.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle"),Wg}var JZ=ZZ();const eJ=Ta(JZ),tJ=({userDetails:e})=>{const n=()=>e.isSuperAdmin?"superAdmin":e.isAdmin?"educator":"student",t=()=>n(),r=()=>e!=null&&e.classes?d.jsx(se,{sx:{border:`1px solid ${K.neutral[200]}`,borderRadius:Ct.md,overflow:"hidden"},children:Object.entries(e.classes).map(([i,a],s)=>d.jsxs(se,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:Pe[3],backgroundColor:s%2===0?K.background.primary:K.neutral[50],borderBottom:s<Object.keys(e.classes).length-1?`1px solid ${K.neutral[200]}`:"none","&:hover":{backgroundColor:K.primary[50]}},children:[d.jsx(se,{sx:{flex:1},children:d.jsx(_p,{courseId:i,courseNumber:a.number,courseTitle:a.title,variant:"link",maxTitleLength:30})}),a.isCourseAdmin&&d.jsx(se,{sx:{ml:Pe[2],px:Pe[2],py:Pe[1],backgroundColor:K.success[100],color:K.success[700],borderRadius:Ct.sm,fontSize:xe.fontSize.xs,fontWeight:xe.fontWeight.semibold,fontFamily:xe.fontFamily.secondary},children:"Admin"})]},i))}):d.jsx(se,{sx:{p:Pe[3],textAlign:"center",backgroundColor:K.neutral[50],borderRadius:Ct.md,border:`1px solid ${K.neutral[200]}`},children:d.jsx(te,{variant:"body2",sx:{color:K.text.secondary,fontStyle:"italic",fontFamily:xe.fontFamily.secondary},children:"No courses enrolled"})});return d.jsxs(an,{elevation:0,sx:{padding:Pe[6],borderRadius:Ct.xl,backgroundColor:K.background.primary,border:`1px solid ${K.neutral[200]}`,boxShadow:Bt.lg,maxWidth:"600px",margin:"auto",transition:"all 0.2s ease","&:hover":{boxShadow:Bt.xl,transform:"translateY(-2px)"}},children:[d.jsx(se,{sx:{display:"flex",justifyContent:"center",mb:Pe[4]},children:d.jsx(iP,{sx:{width:80,height:80,bgcolor:K.primary[500],border:`3px solid ${K.primary[100]}`,boxShadow:Bt.md},children:d.jsx(eJ,{sx:{fontSize:48,color:K.text.inverse}})})}),d.jsxs(se,{sx:{display:"flex",flexDirection:"column",gap:Pe[4]},children:[d.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:Pe[3]},children:[d.jsx(te,{sx:{fontWeight:xe.fontWeight.semibold,fontFamily:xe.fontFamily.secondary,color:K.text.primary,minWidth:"100px"},children:"User ID:"}),d.jsx(Dp,{userId:e.uid,userType:n(),maxLength:999})]}),d.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:Pe[3]},children:[d.jsx(te,{sx:{fontWeight:xe.fontWeight.semibold,fontFamily:xe.fontFamily.secondary,color:K.text.primary,minWidth:"100px"},children:"Status:"}),d.jsx(Z_,{status:t(),size:"medium"})]}),d.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:Pe[3]},children:[d.jsx(te,{sx:{fontWeight:xe.fontWeight.semibold,fontFamily:xe.fontFamily.secondary,color:K.text.primary,minWidth:"100px"},children:"Last Login:"}),d.jsx(te,{variant:"body2",sx:{fontFamily:"monospace",fontSize:xe.fontSize.sm,color:K.text.secondary,backgroundColor:K.neutral[100],padding:`${Pe[2]} ${Pe[3]}`,borderRadius:Ct.md,border:`1px solid ${K.neutral[300]}`},children:tI(e.lastLogin)})]})]}),d.jsx(Yi,{sx:{my:Pe[4],borderColor:K.neutral[200]}}),d.jsxs(se,{children:[d.jsx(te,{sx:{fontWeight:xe.fontWeight.semibold,fontFamily:xe.fontFamily.secondary,color:K.text.primary,mb:Pe[3],fontSize:xe.fontSize.lg},children:"Enrolled Courses:"}),r()]})]})},nJ=()=>{const{userDetails:e,setUserDetails:n}=Ii(),[t,r]=M.useState(!1),[i,a]=M.useState(!1),[s,l]=M.useState(!1),[u,f]=M.useState(""),[h,m]=M.useState("success"),b=Na(),g=cr(),v=()=>{e!=null&&e.isAdmin||b("/request-educator-permissions")},x=(N,P)=>{l(!0),f(N),m(P),P==="success"&&e&&(async()=>{const B=gn(g,"users",e.uid),j=await ja(B);if(j.exists()){const F=j.data();n({...F,uid:e.uid})}})()},C=()=>{r(!t)},S=()=>{a(!i)},A=()=>{l(!1)};return d.jsxs(se,{sx:{minHeight:"100vh",backgroundColor:K.background.secondary,padding:Pe[4]},children:[d.jsx(Do,{title:"My Account",subtitle:"Manage your account settings, course enrollments, and permissions"}),e&&d.jsx(se,{sx:{mb:Pe[6]},children:d.jsx(tJ,{userDetails:e})}),d.jsxs(se,{sx:{display:"flex",gap:Pe[4],mb:Pe[4],alignItems:"flex-start"},children:[!(e!=null&&e.isAdmin)&&d.jsxs(se,{sx:{flex:1,p:Pe[4],backgroundColor:K.background.primary,borderRadius:Ct.lg,border:`1px solid ${K.neutral[200]}`,boxShadow:Bt.sm},children:[d.jsx(Ud,{control:d.jsx(zc,{checked:t,onChange:C,sx:{"& .MuiSwitch-thumb":{backgroundColor:K.primary[500]},"& .MuiSwitch-track":{backgroundColor:K.primary[100]},"&.Mui-checked .MuiSwitch-track":{backgroundColor:K.primary[500]}}}),label:d.jsx(te,{sx:{fontFamily:xe.fontFamily.display,fontWeight:xe.fontWeight.semibold,color:K.text.primary,fontSize:xe.fontSize.xl},children:"Enroll in a Course"})}),t&&d.jsx(se,{sx:{mt:Pe[3]},children:d.jsx(XZ,{onCourseAdded:x})})]}),d.jsxs(se,{sx:{flex:1,p:Pe[4],backgroundColor:K.background.primary,borderRadius:Ct.lg,border:`1px solid ${K.neutral[200]}`,boxShadow:Bt.sm},children:[d.jsx(Ud,{control:d.jsx(zc,{checked:i,onChange:S,sx:{"& .MuiSwitch-thumb":{backgroundColor:K.primary[500]},"& .MuiSwitch-track":{backgroundColor:K.primary[100]},"&.Mui-checked .MuiSwitch-track":{backgroundColor:K.primary[500]}}}),label:d.jsx(te,{sx:{fontFamily:xe.fontFamily.display,fontWeight:xe.fontWeight.semibold,color:K.text.primary,fontSize:xe.fontSize.xl},children:"Advanced"})}),i&&d.jsx(se,{sx:{mt:Pe[3]},children:d.jsx(xt,{variant:e!=null&&e.isAdmin?"outlined":"contained",onClick:v,disabled:e==null?void 0:e.isAdmin,sx:{fontFamily:xe.fontFamily.secondary,fontWeight:xe.fontWeight.medium,borderRadius:Ct.md,textTransform:"none",px:Pe[4],py:Pe[2],...e!=null&&e.isAdmin?{borderColor:K.success[500],color:K.success[700],backgroundColor:K.success[50],"&:hover":{backgroundColor:K.success[100]}}:{backgroundColor:K.primary[600],color:K.text.inverse,"&:hover":{backgroundColor:K.primary[700]}}},children:e!=null&&e.isAdmin?d.jsxs(te,{sx:{fontFamily:xe.fontFamily.secondary,fontWeight:xe.fontWeight.medium,display:"flex",alignItems:"center",gap:Pe[2]},children:[d.jsx("span",{children:""}),"Educator Account Approved"]}):"Request Educator Permissions"})})]})]}),d.jsx(qu,{open:s,autoHideDuration:6e3,onClose:A,children:d.jsx(Cn,{onClose:A,severity:h,sx:{width:"100%",fontFamily:xe.fontFamily.secondary},children:u})})]})},rJ=({selectedCourse:e,selectedCourseDetails:n,onStudentChange:t})=>{const[r,i]=M.useState(""),[a,s]=M.useState(!1),[l,u]=M.useState(""),[f,h]=M.useState(!1),[m,b]=M.useState(!1),g=cr(),v=async()=>{if(!r||!e){u("Please enter a Student ID and select a course."),h(!0);return}s(!0);try{const A=gn(g,"users",r),N=await ja(A);if(N.exists()){const U=N.data().classes||{};e in U?b(!0):(u(`Student ${r} is not enrolled in course ${(n==null?void 0:n.number)||e}, cannot remove.`),h(!0))}else u(`Student ${r} does not exist.`),h(!0)}catch(A){console.error("Error checking student course:",A),u("Error checking student course."),h(!0)}s(!1)},x=async()=>{s(!0);try{const A=gn(g,"users",r);await qr(A,{[`classes.${e}`]:a3()}),u(`Student ${r} removed from course ${(n==null?void 0:n.number)||e}.`),i(""),t()}catch(A){console.error("Error updating student course:",A),u("Error updating student course.")}s(!1),h(!0),b(!1)},C=()=>{h(!1)},S=()=>{b(!1)};return d.jsxs(se,{sx:{mt:4},children:[d.jsxs(se,{sx:{display:"flex",alignItems:"center",mt:2},children:[d.jsx(tn,{label:"Student ID",value:r,onChange:A=>i(A.target.value),fullWidth:!0,required:!0,margin:"normal",sx:{mr:2}}),d.jsx(xt,{variant:"contained",color:"primary",onClick:v,disabled:a,children:a?d.jsx(pi,{size:24}):"Remove"})]}),d.jsx(qu,{open:f,autoHideDuration:6e3,onClose:C,children:d.jsx(Cn,{onClose:C,severity:"info",children:l})}),d.jsxs(la,{open:m,onClose:S,"aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",children:[d.jsx($a,{id:"confirm-dialog-title",children:"Confirm Removal"}),d.jsx(ua,{children:d.jsx(zu,{id:"confirm-dialog-description",children:"Are you sure you want to remove the student from the course? This action cannot be undone."})}),d.jsxs(Ea,{children:[d.jsx(xt,{onClick:S,color:"primary",children:"Cancel"}),d.jsx(xt,{onClick:x,color:"secondary",autoFocus:!0,children:"Confirm"})]})]})]})},iJ=({students:e,selectedCourse:n})=>{const t=()=>{if(e.length>0){const r=["User ID","Courses","Last Login"],i=e.map(f=>[`"${f.id||f.uid}"`,`"${f.classes?Object.values(f.classes).map(h=>`${h.number} - ${h.title}`).join(", "):"None"}"`,`"${BF(f.lastLogin)}"`]),a=[r.join(","),...i.map(f=>f.join(","))].join(`
`),s=new Blob([a],{type:"text/csv;charset=utf-8;"}),l=URL.createObjectURL(s),u=document.createElement("a");u.href=l,u.setAttribute("download",`${n}_students.csv`),document.body.appendChild(u),u.click(),document.body.removeChild(u)}};return d.jsx(se,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:d.jsx(xt,{variant:"contained",color:"primary",onClick:t,disabled:e.length===0,sx:{background:"linear-gradient(45deg, #3f51b5 30%, #1e88e5 90%)",borderRadius:3,boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)",color:"white",padding:"0 30px",fontSize:"16px",fontWeight:"bold",textTransform:"none","&:hover":{background:"linear-gradient(45deg, #1e88e5 30%, #3f51b5 90%)",boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)"}},children:"Export as CSV"})})},aJ=({students:e,loading:n=!1})=>{const t=[{id:"uid",label:"Student ID",width:"60%",render:r=>d.jsx(Dp,{userId:r,userType:"student"})},{id:"lastLogin",label:"Last Login",width:"40%",render:r=>d.jsx(Lm,{date:r,format:"full"})}];return d.jsx(Np,{data:e,columns:t,loading:n,emptyMessage:"No students are currently enrolled in this course.",showRowNumbers:!0})},sJ=({selectedCourse:e,selectedCourseDetails:n,onCourseUpdate:t})=>{const[r,i]=M.useState(!1),[a,s]=M.useState(""),[l,u]=M.useState(""),f=cr(),{userDetails:h,refreshUserDetails:m}=Ii(),b=()=>{n&&(s(n.number||""),u(n.title||"")),i(!0)},g=()=>{i(!1),v()},v=()=>{s(""),u("")},x=async()=>{if(!e||!(h!=null&&h.uid)){console.error("Selected course or user details are missing.");return}try{const C=gn(f,"courses",e);await qr(C,{number:a,title:l});const S=gn(f,"users",h.uid),A=await ja(S);if(A.exists()){const N=A.data();if(N.classes&&N.classes[e]){const P=N.classes[e],U={...N.classes,[e]:{...P,number:a,title:l}};await qr(S,{classes:U})}}await m(),t(),g()}catch(C){console.error("Error updating course:",C)}};return d.jsxs(se,{sx:{mt:2},children:[d.jsx(xt,{variant:"outlined",onClick:b,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#4CAF50",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#388E3C",transform:"scale(1.03)"}},children:"Edit Course Details"}),d.jsxs(la,{open:r,onClose:g,children:[d.jsx($a,{children:"Edit Course Details"}),d.jsxs(ua,{children:[d.jsx(tn,{label:"Course Number",value:a,onChange:C=>s(C.target.value),fullWidth:!0,sx:{mb:2}}),d.jsx(tn,{label:"Course Title",value:l,onChange:C=>u(C.target.value),fullWidth:!0})]}),d.jsxs(Ea,{children:[d.jsx(xt,{onClick:g,children:"Cancel"}),d.jsx(xt,{onClick:x,variant:"contained",color:"primary",disabled:!a||!l,children:"Save"})]})]})]})},oJ=({selectedCourse:e,onInfoUpdate:n})=>{var O,L,Q,$,Y,Z,re,H,me,q,z,ne,oe;const[t,r]=M.useState(!1),[i,a]=M.useState(!1),[s,l]=M.useState(null),[u,f]=M.useState({}),[h,m]=M.useState("contact"),b=cr();M.useEffect(()=>{t&&e&&g()},[t,e]);const g=async()=>{try{a(!0);const ee=gn(b,"courses",e),ge=await ja(ee);if(ge.exists()){const de=ge.data();f(de.additionalInfo||{})}}catch(ee){console.error("Error fetching course info:",ee),l("Failed to load course information")}finally{a(!1)}},v=()=>{r(!0),l(null)},x=()=>{r(!1),l(null)},C=async()=>{try{a(!0);const ee=gn(b,"courses",e);await qr(ee,{additionalInfo:{...u,lastUpdated:new Date}}),n(),x()}catch(ee){console.error("Error updating course info:",ee),l("Failed to save course information")}finally{a(!1)}},S=(ee,ge)=>{f(de=>({...de,contactInfo:{...de.contactInfo,[ee]:ge}}))},A=(ee,ge)=>{f(de=>({...de,policies:{...de.policies,[ee]:ge}}))},N=()=>{f(ee=>({...ee,textbooks:[...ee.textbooks||[],{title:"",author:"",edition:"",isbn:"",required:!0}]}))},P=(ee,ge,de)=>{f(ye=>{var we;return{...ye,textbooks:(we=ye.textbooks)==null?void 0:we.map((ve,je)=>je===ee?{...ve,[ge]:de}:ve)}})},U=ee=>{f(ge=>{var de;return{...ge,textbooks:(de=ge.textbooks)==null?void 0:de.filter((ye,we)=>we!==ee)}})},B=()=>{f(ee=>({...ee,gradingPolicy:[...ee.gradingPolicy||[],{component:"",percentage:0,description:""}]}))},j=(ee,ge,de)=>{f(ye=>{var we;return{...ye,gradingPolicy:(we=ye.gradingPolicy)==null?void 0:we.map((ve,je)=>je===ee?{...ve,[ge]:de}:ve)}})},F=ee=>{f(ge=>{var de;return{...ge,gradingPolicy:(de=ge.gradingPolicy)==null?void 0:de.filter((ye,we)=>we!==ee)}})},V=(ee,ge)=>{f(de=>{var ye;return{...de,[ee]:{...de[ee],[ge]:[...((ye=de[ee])==null?void 0:ye[ge])||[],""]}}})},X=(ee,ge,de,ye)=>{f(we=>{var ve;return{...we,[ee]:{...we[ee],[ge]:(((ve=we[ee])==null?void 0:ve[ge])||[]).map((je,Ee)=>Ee===de?ye:je)}}})},T=(ee,ge,de)=>{f(ye=>{var we;return{...ye,[ee]:{...ye[ee],[ge]:(((we=ye[ee])==null?void 0:we[ge])||[]).filter((ve,je)=>je!==de)}}})},D=ee=>(ge,de)=>{m(de?ee:!1)};return d.jsxs(se,{sx:{mt:2},children:[d.jsx(xt,{variant:"outlined",onClick:v,startIcon:d.jsx(Iu,{}),sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#2196F3",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#1976D2",transform:"scale(1.03)"}},children:"Edit Additional Info"}),d.jsxs(la,{open:t,onClose:x,maxWidth:"md",fullWidth:!0,children:[d.jsx($a,{children:d.jsx(te,{variant:"h5",children:"Edit Additional Course Information"})}),d.jsxs(ua,{sx:{minHeight:"500px"},children:[s&&d.jsx(Cn,{severity:"error",sx:{mb:2},children:s}),d.jsxs(zd,{expanded:h==="contact",onChange:D("contact"),children:[d.jsx(qd,{expandIcon:d.jsx(zl,{}),children:d.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:1},children:[d.jsx(aP,{color:"primary"}),d.jsx(te,{variant:"h6",children:"Contact Information"})]})}),d.jsx(Bd,{children:d.jsxs(et,{container:!0,spacing:2,children:[d.jsx(et,{item:!0,xs:12,md:6,children:d.jsx(tn,{label:"Email",fullWidth:!0,value:((O=u.contactInfo)==null?void 0:O.email)||"",onChange:ee=>S("email",ee.target.value)})}),d.jsx(et,{item:!0,xs:12,md:6,children:d.jsx(tn,{label:"Phone",fullWidth:!0,value:((L=u.contactInfo)==null?void 0:L.phone)||"",onChange:ee=>S("phone",ee.target.value)})}),d.jsx(et,{item:!0,xs:12,md:6,children:d.jsx(tn,{label:"Office",fullWidth:!0,value:((Q=u.contactInfo)==null?void 0:Q.office)||"",onChange:ee=>S("office",ee.target.value)})}),d.jsx(et,{item:!0,xs:12,md:6,children:d.jsx(tn,{label:"Office Hours",fullWidth:!0,value:(($=u.contactInfo)==null?void 0:$.officeHours)||"",onChange:ee=>S("officeHours",ee.target.value)})}),d.jsx(et,{item:!0,xs:12,children:d.jsx(tn,{label:"Website",fullWidth:!0,value:((Y=u.contactInfo)==null?void 0:Y.website)||"",onChange:ee=>S("website",ee.target.value)})})]})})]}),d.jsxs(zd,{expanded:h==="textbooks",onChange:D("textbooks"),children:[d.jsx(qd,{expandIcon:d.jsx(zl,{}),children:d.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:1},children:[d.jsx(sP,{color:"primary"}),d.jsx(te,{variant:"h6",children:"Textbooks & Resources"})]})}),d.jsxs(Bd,{children:[d.jsx(se,{sx:{mb:2},children:d.jsx(xt,{startIcon:d.jsx(Tu,{}),onClick:N,variant:"outlined",children:"Add Textbook"})}),(Z=u.textbooks)==null?void 0:Z.map((ee,ge)=>d.jsx(se,{sx:{mb:3,p:2,border:"1px solid #ddd",borderRadius:1},children:d.jsxs(et,{container:!0,spacing:2,children:[d.jsx(et,{item:!0,xs:12,children:d.jsx(tn,{label:"Title",fullWidth:!0,value:ee.title,onChange:de=>P(ge,"title",de.target.value)})}),d.jsx(et,{item:!0,xs:12,md:4,children:d.jsx(tn,{label:"Author",fullWidth:!0,value:ee.author||"",onChange:de=>P(ge,"author",de.target.value)})}),d.jsx(et,{item:!0,xs:12,md:4,children:d.jsx(tn,{label:"Edition",fullWidth:!0,value:ee.edition||"",onChange:de=>P(ge,"edition",de.target.value)})}),d.jsx(et,{item:!0,xs:12,md:4,children:d.jsx(tn,{label:"ISBN",fullWidth:!0,value:ee.isbn||"",onChange:de=>P(ge,"isbn",de.target.value)})}),d.jsx(et,{item:!0,xs:12,children:d.jsxs(se,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[d.jsx(Ud,{control:d.jsx(zc,{checked:ee.required,onChange:de=>P(ge,"required",de.target.checked)}),label:"Required"}),d.jsx(jn,{onClick:()=>U(ge),color:"error",children:d.jsx(Du,{})})]})})]})},ge))]})]}),d.jsxs(zd,{expanded:h==="grading",onChange:D("grading"),children:[d.jsx(qd,{expandIcon:d.jsx(zl,{}),children:d.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:1},children:[d.jsx(oP,{color:"primary"}),d.jsx(te,{variant:"h6",children:"Grading Policy"})]})}),d.jsxs(Bd,{children:[d.jsx(se,{sx:{mb:2},children:d.jsx(xt,{startIcon:d.jsx(Tu,{}),onClick:B,variant:"outlined",children:"Add Grading Component"})}),(re=u.gradingPolicy)==null?void 0:re.map((ee,ge)=>d.jsx(se,{sx:{mb:2,p:2,border:"1px solid #ddd",borderRadius:1},children:d.jsxs(et,{container:!0,spacing:2,children:[d.jsx(et,{item:!0,xs:12,md:4,children:d.jsx(tn,{label:"Component",fullWidth:!0,value:ee.component,onChange:de=>j(ge,"component",de.target.value)})}),d.jsx(et,{item:!0,xs:12,md:3,children:d.jsx(tn,{label:"Percentage",type:"number",fullWidth:!0,value:ee.percentage,onChange:de=>j(ge,"percentage",parseInt(de.target.value)||0),inputProps:{min:0,max:100}})}),d.jsx(et,{item:!0,xs:12,md:4,children:d.jsx(tn,{label:"Description",fullWidth:!0,value:ee.description||"",onChange:de=>j(ge,"description",de.target.value)})}),d.jsx(et,{item:!0,xs:12,md:1,children:d.jsx(jn,{onClick:()=>F(ge),color:"error",children:d.jsx(Du,{})})})]})},ge))]})]}),d.jsxs(zd,{expanded:h==="policies",onChange:D("policies"),children:[d.jsx(qd,{expandIcon:d.jsx(zl,{}),children:d.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:1},children:[d.jsx(lP,{color:"primary"}),d.jsx(te,{variant:"h6",children:"Course Policies"})]})}),d.jsx(Bd,{children:d.jsx(et,{container:!0,spacing:2,children:[{key:"attendance",label:"Attendance Policy"},{key:"lateWork",label:"Late Work Policy"},{key:"academicIntegrity",label:"Academic Integrity"},{key:"accommodations",label:"Accommodations"},{key:"communication",label:"Communication Policy"},{key:"safety",label:"Safety Policy"},{key:"groupWork",label:"Group Work Policy"},{key:"makeupPolicy",label:"Make-up Policy"}].map(({key:ee,label:ge})=>{var de;return d.jsx(et,{item:!0,xs:12,children:d.jsx(tn,{label:ge,multiline:!0,rows:3,fullWidth:!0,value:((de=u.policies)==null?void 0:de[ee])||"",onChange:ye=>A(ee,ye.target.value)})},ee)})})})]}),d.jsxs(zd,{expanded:h==="lab",onChange:D("lab"),children:[d.jsx(qd,{expandIcon:d.jsx(zl,{}),children:d.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:1},children:[d.jsx(dC,{color:"primary"}),d.jsx(te,{variant:"h6",children:"Laboratory Information"})]})}),d.jsx(Bd,{children:d.jsxs(et,{container:!0,spacing:3,children:[d.jsxs(et,{item:!0,xs:12,children:[d.jsx(te,{variant:"subtitle2",sx:{mb:1},children:"Safety Requirements"}),d.jsx(se,{sx:{mb:2},children:d.jsx(xt,{startIcon:d.jsx(Tu,{}),onClick:()=>V("labSpecific","safetyRequirements"),size:"small",variant:"outlined",children:"Add Safety Requirement"})}),(me=(H=u.labSpecific)==null?void 0:H.safetyRequirements)==null?void 0:me.map((ee,ge)=>d.jsxs(se,{sx:{display:"flex",gap:1,mb:1},children:[d.jsx(tn,{fullWidth:!0,size:"small",value:ee,onChange:de=>X("labSpecific","safetyRequirements",ge,de.target.value),placeholder:"Safety requirement"}),d.jsx(jn,{onClick:()=>T("labSpecific","safetyRequirements",ge),color:"error",size:"small",children:d.jsx(Du,{})})]},ge))]}),d.jsxs(et,{item:!0,xs:12,md:6,children:[d.jsx(te,{variant:"subtitle2",sx:{mb:1},children:"Required Equipment"}),d.jsx(se,{sx:{mb:2},children:d.jsx(xt,{startIcon:d.jsx(Tu,{}),onClick:()=>V("labSpecific","requiredEquipment"),size:"small",variant:"outlined",children:"Add Equipment"})}),(z=(q=u.labSpecific)==null?void 0:q.requiredEquipment)==null?void 0:z.map((ee,ge)=>d.jsxs(se,{sx:{display:"flex",gap:1,mb:1},children:[d.jsx(tn,{fullWidth:!0,size:"small",value:ee,onChange:de=>X("labSpecific","requiredEquipment",ge,de.target.value),placeholder:"Equipment item"}),d.jsx(jn,{onClick:()=>T("labSpecific","requiredEquipment",ge),color:"error",size:"small",children:d.jsx(Du,{})})]},ge))]}),d.jsxs(et,{item:!0,xs:12,md:6,children:[d.jsx(te,{variant:"subtitle2",sx:{mb:1},children:"Dress Code"}),d.jsx(se,{sx:{mb:2},children:d.jsx(xt,{startIcon:d.jsx(Tu,{}),onClick:()=>V("labSpecific","dresscode"),size:"small",variant:"outlined",children:"Add Dress Code Item"})}),(oe=(ne=u.labSpecific)==null?void 0:ne.dresscode)==null?void 0:oe.map((ee,ge)=>d.jsxs(se,{sx:{display:"flex",gap:1,mb:1},children:[d.jsx(tn,{fullWidth:!0,size:"small",value:ee,onChange:de=>X("labSpecific","dresscode",ge,de.target.value),placeholder:"Dress code requirement"}),d.jsx(jn,{onClick:()=>T("labSpecific","dresscode",ge),color:"error",size:"small",children:d.jsx(Du,{})})]},ge))]})]})})]})]}),d.jsxs(Ea,{children:[d.jsx(xt,{onClick:x,children:"Cancel"}),d.jsx(xt,{onClick:C,variant:"contained",disabled:i,children:i?"Saving...":"Save Changes"})]})]})]})},lJ=async(e,n,t)=>{const r=jp(),i=e.name.split(".").pop()||"txt",a=`${e.name.replace(/\.[^/.]+$/,"")}_${Vi()}.${i}`,s=`syllabi/${n}/${a}`,l=Lc(r,s);try{const u=await rh(l,e),f=await ih(u.ref),h={originalFilename:e.name,fileSize:e.size,fileType:e.type||"application/octet-stream",uploadedAt:new Date,uploadedBy:n,courseId:t};return console.log(`Successfully uploaded syllabus file: ${a}`,{size:e.size,type:e.type,url:f}),{url:f,path:u.ref.fullPath,metadata:h}}catch(u){throw console.error("Failed to upload syllabus file:",u),new Error(`Failed to upload syllabus file: ${u instanceof Error?u.message:"Unknown error"}`)}},rT=e=>{switch(e.toLowerCase()){case"application/pdf":return"PDF Document";case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return"Word Document";case"application/vnd.openxmlformats-officedocument.presentationml.presentation":return"PowerPoint Presentation";case"text/plain":return"Text File";default:return"Document"}},iT=e=>{if(e===0)return"0 Bytes";const n=1024,t=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,r)).toFixed(2))+" "+t[r]},uJ=({courseId:e})=>{const[n,t]=M.useState(null),[r,i]=M.useState(!0),[a,s]=M.useState(null),[l,u]=M.useState(!1),f=cr();M.useEffect(()=>{e&&(async()=>{try{i(!0);const g=gn(f,"courses",e),v=await ja(g);if(v.exists()){const x=v.data();t(x.syllabusFile||null)}else s("Course not found")}catch(g){console.error("Error fetching syllabus file:",g),s("Failed to load syllabus file information")}finally{i(!1)}})()},[e,f]);const h=()=>{n!=null&&n.url&&window.open(n.url,"_blank")},m=()=>{u(!0)};return r?d.jsx(se,{sx:{display:"flex",justifyContent:"center",p:2},children:d.jsx(pi,{size:24})}):a?d.jsx(Cn,{severity:"error",sx:{mb:2},children:a}):n?d.jsxs(an,{sx:{p:3,mb:3,backgroundColor:"info.50"},children:[d.jsxs(te,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[d.jsx(tv,{color:"primary"}),"Original Syllabus Document"]}),d.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[d.jsx(te,{variant:"body1",sx:{flexGrow:1},children:d.jsx("strong",{children:n.metadata.originalFilename})}),d.jsxs(te,{variant:"body2",color:"text.secondary",children:[rT(n.metadata.fileType),"  ",iT(n.metadata.fileSize)]})]}),d.jsxs(te,{variant:"body2",color:"text.secondary",sx:{mb:2},children:["Uploaded: ",new Date(n.metadata.uploadedAt).toLocaleDateString()]}),d.jsxs(se,{sx:{display:"flex",gap:2},children:[d.jsx(xt,{variant:"outlined",startIcon:d.jsx(mC,{}),onClick:m,size:"small",children:"View Details"}),d.jsx(xt,{variant:"contained",startIcon:d.jsx(q1,{}),onClick:h,size:"small",children:"Download"})]}),d.jsxs(la,{open:l,onClose:()=>u(!1),maxWidth:"sm",fullWidth:!0,children:[d.jsxs($a,{sx:{display:"flex",alignItems:"center",gap:1},children:[d.jsx(tv,{}),"Syllabus File Details"]}),d.jsx(ua,{children:d.jsxs(se,{sx:{mb:2},children:[d.jsx(te,{variant:"body2",color:"text.secondary",children:d.jsx("strong",{children:"Filename:"})}),d.jsx(te,{variant:"body1",sx:{mb:2},children:n.metadata.originalFilename}),d.jsx(te,{variant:"body2",color:"text.secondary",children:d.jsx("strong",{children:"File Type:"})}),d.jsx(te,{variant:"body1",sx:{mb:2},children:rT(n.metadata.fileType)}),d.jsx(te,{variant:"body2",color:"text.secondary",children:d.jsx("strong",{children:"File Size:"})}),d.jsx(te,{variant:"body1",sx:{mb:2},children:iT(n.metadata.fileSize)}),d.jsx(te,{variant:"body2",color:"text.secondary",children:d.jsx("strong",{children:"Uploaded:"})}),d.jsx(te,{variant:"body1",sx:{mb:2},children:new Date(n.metadata.uploadedAt).toLocaleString()}),d.jsx(te,{variant:"body2",color:"text.secondary",children:d.jsx("strong",{children:"Storage Path:"})}),d.jsx(te,{variant:"body2",sx:{fontFamily:"monospace",backgroundColor:"grey.100",p:1,borderRadius:1},children:n.path})]})}),d.jsxs(Ea,{children:[d.jsx(xt,{onClick:()=>u(!1),children:"Close"}),d.jsx(xt,{onClick:h,variant:"contained",startIcon:d.jsx(q1,{}),children:"Download File"})]})]})]}):null},cJ=({selectedCourse:e,onCourseDelete:n})=>{const[t,r]=M.useState(!1),i=cr(),{refreshUserDetails:a}=Ii(),s=()=>r(!0),l=()=>r(!1),u=async()=>{if(e)try{const f=Yv(i),h=gn(i,"courses",e);f.delete(h);const m=mn(i,"users");(await _i(m)).forEach(g=>{const v=gn(i,"users",g.id),x=g.data().classes||{};x&&x[e]&&(delete x[e],f.update(v,{classes:x}))}),await f.commit(),await a(),n(),l()}catch(f){console.error("Error deleting course:",f)}};return d.jsxs(se,{sx:{mt:2},children:[d.jsx(xt,{variant:"contained",onClick:s,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#F44336",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#D32F2F",transform:"scale(1.03)"}},children:"Delete Course"}),d.jsxs(la,{open:t,onClose:l,children:[d.jsx($a,{children:"Confirm Delete"}),d.jsx(ua,{children:d.jsx(zu,{children:"Are you sure you want to delete this course? This action cannot be undone."})}),d.jsxs(Ea,{children:[d.jsx(xt,{onClick:l,children:"Cancel"}),d.jsx(xt,{onClick:u,variant:"contained",color:"error",children:"Delete"})]})]})]})},dJ=()=>{const[e,n]=M.useState({passcode:null,loading:!1,error:null}),t=M.useRef(new Map),r=cr(),i=M.useCallback(async l=>{if(!l){n(f=>({...f,error:"Course ID is required"}));return}const u=t.current.get(l);if(u){n(f=>({...f,loading:!1,error:null,passcode:u}));return}n(f=>({...f,loading:!0,error:null}));try{const f=await ja(gn(r,"courses",l));if(!f.exists()){n(b=>({...b,loading:!1,error:"Course not found",passcode:null}));return}const h=f.data(),m=h==null?void 0:h.passcode;if(!m){n(b=>({...b,loading:!1,error:"No passcode found for this course",passcode:null}));return}t.current.set(l,m),n(b=>({...b,loading:!1,error:null,passcode:m}))}catch(f){console.error("Error fetching course passcode:",f),n(h=>({...h,loading:!1,error:"Failed to fetch passcode. Please try again.",passcode:null}))}},[r]),a=M.useCallback(()=>{n(l=>({...l,passcode:null,error:null}))},[]),s=M.useCallback(()=>{t.current.clear()},[]);return{...e,fetchPasscode:i,clearPasscode:a,clearCache:s}},fJ=({text:e,tooltipText:n="Click to Copy",successText:t="Copied!"})=>{const[r,i]=M.useState(!1),a=()=>{navigator.clipboard.writeText(e).then(()=>{i(!0),setTimeout(()=>i(!1),2e3)}).catch(s=>console.error("Could not copy text: ",s))};return d.jsx(ni,{title:r?t:n,enterDelay:300,leaveDelay:200,children:d.jsx(Rn,{label:e,variant:"outlined",onClick:a,sx:{borderRadius:"15px",fontSize:"16px",fontWeight:"bold",background:"#e0f2f1",color:"#00695c",cursor:"pointer",transition:"background-color 0.3s",fontFamily:"Gabarito, sans-serif"}})})},hJ=({selectedCourse:e,courseDetails:n})=>{const{passcode:t,loading:r,error:i,fetchPasscode:a,clearPasscode:s,clearCache:l}=dJ(),u=M.useCallback(()=>{e?a(e):(s(),l())},[e,a,s,l]);return M.useEffect(()=>{u()},[u]),e?d.jsxs(se,{sx:{mt:2},children:[r&&d.jsx(se,{sx:{display:"flex",justifyContent:"center",py:3},children:d.jsx(pi,{size:28})}),i&&d.jsx(Cn,{severity:"error",sx:{mb:2},children:i}),t&&!r&&d.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:2},children:[d.jsx(te,{variant:"body1",sx:{fontWeight:"medium"},children:"Passcode:"}),d.jsx(fJ,{text:t,tooltipText:"Click to copy passcode",successText:"Passcode copied!"})]}),!t&&!r&&!i&&d.jsx(Cn,{severity:"warning",children:"No passcode available for this course."})]}):d.jsx(se,{sx:{mt:2},children:d.jsx(Cn,{severity:"info",children:"Please select a course to retrieve its passcode."})})},pJ=()=>{const{userDetails:e}=Ii(),[n,t]=M.useState([]),[r,i]=M.useState(""),[a,s]=M.useState(!1),[l,u]=M.useState(!1),[f,h]=M.useState(!1),m=cr(),b=Na(),v=e!=null&&e.classes?Object.entries(e.classes).filter(([P,U])=>U.isCourseAdmin).reduce((P,[U,B])=>({...P,[U]:B}),{}):{},x=Object.entries(v).map(([P,U])=>({id:P,number:U.number,title:U.title,isCourseAdmin:U.isCourseAdmin}));M.useEffect(()=>{v[r]||i(Object.keys(v)[0]||"")},[v,r]),M.useEffect(()=>{(async()=>{if(r)try{const U=Hl(mn(m,"users"),Hi("isAdmin","==",!1)),F=(await _i(U)).docs.map(V=>({uid:V.id,...V.data()})).filter(V=>V.classes&&V.classes[r]);t(F)}catch(U){console.error("Error fetching students:",U)}})()},[r,m]);const C=P=>{i(P)},S=()=>{b("/request-new-course")},A=v[r];A&&`${A.number}${A.title}`;const N=!!(r&&A);return d.jsxs(se,{className:"profile-container",sx:{p:4},children:[d.jsx(Do,{title:"Course Management"}),d.jsxs(se,{sx:{mb:4,p:3,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[d.jsx(te,{variant:"h6",sx:{fontFamily:"Staatliches, sans-serif",mb:2,color:"#0B53C0",fontSize:"1.25rem"},children:"Select a Course"}),x.length>0?d.jsx(Mm,{value:r,onChange:C,courses:x,label:"",placeholder:"",helperText:"",showNumber:!0,showTitle:!0,showAdminBadge:!1}):d.jsx(te,{variant:"body1",sx:{color:"#9E9E9E"},children:"No courses available for selection."})]}),d.jsx(se,{children:N&&d.jsxs(d.Fragment,{children:[d.jsx(uJ,{courseId:r}),d.jsxs(se,{sx:{flex:2,display:"flex",justifyContent:"flex-end",gap:2},children:[d.jsx(sJ,{selectedCourse:r,selectedCourseDetails:A,onCourseUpdate:()=>{}}),d.jsx(oJ,{selectedCourse:r,onInfoUpdate:()=>{}}),d.jsx(cJ,{selectedCourse:r,onCourseDelete:()=>i("")})]})]})}),N&&d.jsxs(an,{elevation:0,sx:{p:Pe[6],mb:Pe[6],borderRadius:Ct.xl,backgroundColor:K.background.secondary,border:`1px solid ${K.neutral[200]}`},children:[d.jsx(te,{variant:"h5",component:"h2",sx:{fontFamily:xe.fontFamily.display,fontWeight:xe.fontWeight.bold,mb:Pe[4],color:K.primary[500]},children:"Students Enrolled in Course"}),d.jsx(se,{sx:{mb:Pe[4]},children:d.jsx(aJ,{students:n,loading:!1})}),n.length>0&&d.jsx(iJ,{students:n,selectedCourse:r}),n.length>0&&d.jsxs(an,{sx:{mt:4,p:3,borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[d.jsx(te,{variant:"h6",sx:{fontFamily:"Staatliches, sans-serif",mb:2,color:"#0B53C0",fontSize:"1.25rem"},children:"Remove Student(s) from the Course"}),d.jsx(Ud,{control:d.jsx(zc,{checked:f,onChange:()=>h(P=>!P),sx:{"& .MuiSwitch-thumb":{backgroundColor:"#0B53C0"},"& .MuiSwitch-track":{backgroundColor:"#E0ECFF"},"&.Mui-checked .MuiSwitch-track":{backgroundColor:"#0B53C0"}}}),label:"",sx:{mb:2}}),f&&d.jsx(rJ,{selectedCourse:r,selectedCourseDetails:A,onStudentChange:()=>{}})]})]}),d.jsxs(se,{sx:{display:"flex",gap:4,mb:4},children:[d.jsxs(se,{sx:{p:3,flex:1,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[d.jsx(Ud,{control:d.jsx(zc,{checked:l,onChange:()=>u(P=>!P),sx:{"& .MuiSwitch-thumb":{backgroundColor:"#0B53C0"},"& .MuiSwitch-track":{backgroundColor:"#E0ECFF"},"&.Mui-checked .MuiSwitch-track":{backgroundColor:"#0B53C0"}}}),label:"Retrieve Course Passcode",sx:{mb:2,"& .MuiFormControlLabel-label":{fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.25rem"}}}),l&&d.jsx(se,{sx:{mt:2},children:d.jsx(hJ,{selectedCourse:r,courseDetails:A?{number:A.number,title:A.title}:void 0})})]}),d.jsxs(se,{sx:{p:3,flex:1,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[d.jsx(Ud,{control:d.jsx(zc,{checked:a,onChange:()=>s(P=>!P),sx:{"& .MuiSwitch-thumb":{backgroundColor:"#0B53C0"},"& .MuiSwitch-track":{backgroundColor:"#E0ECFF"},"&.Mui-checked .MuiSwitch-track":{backgroundColor:"#0B53C0"}}}),label:"Request Creating a New Course",sx:{mb:2,"& .MuiFormControlLabel-label":{fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.25rem"}}}),a&&d.jsx(se,{sx:{mt:2},children:d.jsx(xt,{variant:"contained",onClick:S,sx:{backgroundColor:"#4CAF50",color:"#FFFFFF",fontFamily:"Staatliches, sans-serif",textTransform:"none","&:hover":{backgroundColor:"#388E3C"}},children:"Request New Course"})})]})]})]})};class mJ{constructor(){console.log("GeminiService initialized with secure proxy mode")}async processSyllabusText(n,t,r){return n.length>3e4?(console.log("Large document detected, using chunked processing"),this.processLargeDocument(n,t,r)):this.processSingleDocument(n,t,r)}async processSingleDocument(n,t,r){const i=this.buildSyllabusAnalysisPrompt(n,t);try{const a=await b5(i,{thinkingLevel:"high",maxTokens:(r==null?void 0:r.maxOutputTokens)||16384});if(!a||a.trim().length===0)throw new Error("Empty response from AI service");const s=a.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();let l;try{l=JSON.parse(s)}catch(u){throw console.error("JSON parsing failed:",u),console.error("Raw response text:",a),console.error("Cleaned text:",s),new Error("AI response format invalid - unable to parse JSON")}if(!l||typeof l!="object")throw new Error("AI response is not a valid object");return l.courseInfo||(console.warn("Missing courseInfo in AI response, using defaults"),l.courseInfo={}),this.validateAndSanitizeResponse(l)}catch(a){throw console.error("Gemini API Error:",a),a instanceof Error&&(a.message.includes("AI processing failed")||a.message.includes("signed in")||a.message.includes("rate limit")||a.message.includes("API key configuration")||a.message.includes("AI response")||a.message.includes("JSON parsing"))?a:new Error(`Failed to process syllabus with AI: ${a instanceof Error?a.message:"Unknown error"}`)}}async processLargeDocument(n,t,r){const a=this.chunkText(n,35e3);console.log(`Processing ${a.length} chunks for large document`);const s=await this.processSingleDocument(a[0],t,r),l=await Promise.allSettled(a.slice(1).map(u=>this.processChunkForDetails(u,t)));return this.mergeChunkedResults(s,l)}chunkText(n,t){const r=[],i=n.split(`
`);let a="";const s=["schedule","session","unit","week","topic","assignment","objective","learning outcome","reading","textbook","prerequisite"];for(let l=0;l<i.length;l++){const u=i[l],f=i[l+1]||"",h=s.some(m=>u.toLowerCase().includes(m)||f.toLowerCase().includes(m));a.length+u.length>t&&a.length>0&&(h||a.length>t*.8)?(r.push(a.trim()),a=u):a+=`
`+u}return a.trim()&&r.push(a.trim()),r}async processChunkForDetails(n,t){const r=`
Extract additional course details from this syllabus section. Focus heavily on:
- ALL schedule items, sessions, units, weeks, and topics
- Session numbers, titles, and descriptions
- Learning outcomes for each session
- Reading assignments and resources
- Assignment details and due dates
- Any additional objectives or policies

IMPORTANT: Extract ALL schedule/session information - do not limit the number of items.
Convert session numbers to week numbers (Session 1 = Week 1, etc.).

Return JSON with only the fields you can extract from this section:
${n}
`;try{const a=(await b5(r,{thinkingLevel:"high",maxTokens:8192})).replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();return JSON.parse(a)}catch(i){return console.warn("Failed to process chunk:",i),{}}}mergeChunkedResults(n,t){const r={...n};return t.forEach(i=>{if(i.status==="fulfilled"&&i.value){const a=i.value;if(a.learningObjectives&&(r.learningObjectives=[...r.learningObjectives,...a.learningObjectives]),a.schedule){const s=new Set(r.schedule.map(u=>`${u.week}-${u.topic}`)),l=a.schedule.filter(u=>!s.has(`${u.week}-${u.topic}`));r.schedule=[...r.schedule,...l]}a.assignments&&(r.assignments=[...r.assignments,...a.assignments]),a.prerequisites&&(r.prerequisites=[...r.prerequisites,...a.prerequisites]),a.contactInfo&&(r.contactInfo={...r.contactInfo,...a.contactInfo}),a.policies&&(r.policies={...r.policies,...a.policies}),a.additionalResources&&(r.additionalResources={...r.additionalResources,...a.additionalResources})}}),r.learningObjectives=[...new Set(r.learningObjectives)],r.prerequisites=[...new Set(r.prerequisites)],r.schedule=r.schedule.sort((i,a)=>i.week-a.week),r}buildSyllabusAnalysisPrompt(n,t){return`
You are an expert educational content analyzer. Analyze the following course syllabus and extract structured information in JSON format.

IMPORTANT INSTRUCTIONS:
1. Return ONLY valid JSON - no markdown, no explanations, no additional text
2. If information is not available, use null or empty arrays/objects
3. Be thorough but accurate - don't invent information
4. For percentages in grading, ensure they are numbers (not strings)
5. For week numbers, ensure they are integers
6. Extract all learning objectives, even if they're not numbered
7. Look for course schedules in various formats (weekly, by date, by topic, by session/unit)
8. IMPORTANT: Extract ALL schedule items, sessions, units, and topics - do not limit to just a few weeks
9. For session-based schedules, convert sessions to week numbers (e.g., Session 1 = Week 1)
10. LABORATORY COURSES: Pay special attention to safety requirements, lab equipment, dress codes, group work policies, and experiment-based schedules
11. Identify course type: determine if this is a lecture, lab, seminar, or hybrid course based on content

Required JSON structure:
{
  "courseInfo": {
    "title": "string",
    "number": "string (e.g., CS 350, BIOL 301, CHEM 315)",
    "description": "string",
    "instructor": "string or null",
    "department": "string or null",
    "institution": "string or null",
    "credits": "number or null",
    "meetingTimes": "string or null (include lab times if applicable)",
    "semester": "string or null",
    "year": "string or null",
    "courseType": "lecture|lab|seminar|hybrid",
    "location": "string or null (lab room, classroom, etc.)"
  },
  "learningObjectives": [
    "string (each objective as separate item)"
  ],
  "schedule": [
    {
      "week": "number",
      "topic": "string",
      "description": "string or null",
      "readings": ["string"] or null,
      "assignments": ["string"] or null,
      "dueDate": "string or null",
      "notes": "string or null",
      "experimentType": "string or null (for lab courses)",
      "equipmentNeeded": ["string"] or null
    }
  ],
  "prerequisites": [
    "string (each prerequisite course/requirement)"
  ],
  "textbooks": [
    {
      "title": "string",
      "author": "string or null",
      "edition": "string or null",
      "isbn": "string or null",
      "required": "boolean"
    }
  ],
  "gradingPolicy": [
    {
      "component": "string (e.g., Exams, Homework, Projects)",
      "percentage": "number (e.g., 40, not '40%')",
      "description": "string or null"
    }
  ],
  "assignments": [
    {
      "name": "string",
      "description": "string",
      "type": "string (exam|project|homework|quiz|presentation|lab_report|lab_practical)",
      "dueDate": "string or null",
      "points": "number or null",
      "weight": "number or null (for weighted assignments)"
    }
  ],
  "policies": {
    "attendance": "string or null",
    "lateWork": "string or null",
    "academicIntegrity": "string or null",
    "accommodations": "string or null",
    "communication": "string or null",
    "safety": "string or null (lab safety requirements)",
    "groupWork": "string or null (partner/group work policies)",
    "makeupPolicy": "string or null (make-up lab/exam policies)"
  },
  "contactInfo": {
    "email": "string or null",
    "phone": "string or null",
    "office": "string or null",
    "officeHours": "string or null",
    "website": "string or null"
  },
  "additionalResources": {
    "software": ["string"] or null,
    "equipment": ["string"] or null,
    "websites": ["string"] or null,
    "tutoring": "string or null",
    "learningPlatform": "string or null (Moodle, Blackboard, etc.)"
  },
  "labSpecific": {
    "safetyRequirements": ["string"] or null,
    "requiredEquipment": ["string"] or null,
    "dresscode": ["string"] or null,
    "notebookRequirements": "string or null",
    "groupWorkStructure": "string or null",
    "makeupPolicy": "string or null"
  }
}

${t?`File name: ${t}`:""}

Syllabus content to analyze:
${n}
`}validateAndSanitizeResponse(n){var r,i,a,s,l,u,f,h,m,b,g,v,x,C;const t={courseInfo:{title:"Course Title",number:"COURSE 101",description:"Course description not available"},learningObjectives:[],schedule:[],prerequisites:[],textbooks:[],gradingPolicy:[],assignments:[],policies:{},contactInfo:{},additionalResources:{}};try{return{courseInfo:{...t.courseInfo,...n.courseInfo},learningObjectives:Array.isArray(n.learningObjectives)?n.learningObjectives:[],schedule:Array.isArray(n.schedule)?n.schedule.map((A,N)=>({week:typeof A.week=="number"?A.week:N+1,topic:A.topic||`Week ${N+1} Topic`,description:A.description||null,readings:Array.isArray(A.readings)?A.readings:null,assignments:Array.isArray(A.assignments)?A.assignments:null,dueDate:A.dueDate||null,notes:A.notes||null})):[],prerequisites:Array.isArray(n.prerequisites)?n.prerequisites:[],textbooks:Array.isArray(n.textbooks)?n.textbooks.map(A=>({title:A.title||"Unknown Textbook",author:A.author||null,edition:A.edition||null,isbn:A.isbn||null,required:typeof A.required=="boolean"?A.required:!0})):[],gradingPolicy:Array.isArray(n.gradingPolicy)?n.gradingPolicy.map(A=>({component:A.component||"Unknown Component",percentage:typeof A.percentage=="number"?A.percentage:0,description:A.description||null})):[],assignments:Array.isArray(n.assignments)?n.assignments.map(A=>({name:A.name||"Assignment",description:A.description||"",type:A.type||"homework",dueDate:A.dueDate||null,points:typeof A.points=="number"?A.points:null})):[],policies:{attendance:((r=n.policies)==null?void 0:r.attendance)||null,lateWork:((i=n.policies)==null?void 0:i.lateWork)||null,academicIntegrity:((a=n.policies)==null?void 0:a.academicIntegrity)||null,accommodations:((s=n.policies)==null?void 0:s.accommodations)||null,communication:((l=n.policies)==null?void 0:l.communication)||null},contactInfo:{email:((u=n.contactInfo)==null?void 0:u.email)||null,phone:((f=n.contactInfo)==null?void 0:f.phone)||null,office:((h=n.contactInfo)==null?void 0:h.office)||null,officeHours:((m=n.contactInfo)==null?void 0:m.officeHours)||null,website:((b=n.contactInfo)==null?void 0:b.website)||null},additionalResources:{software:Array.isArray((g=n.additionalResources)==null?void 0:g.software)?n.additionalResources.software:null,equipment:Array.isArray((v=n.additionalResources)==null?void 0:v.equipment)?n.additionalResources.equipment:null,websites:Array.isArray((x=n.additionalResources)==null?void 0:x.websites)?n.additionalResources.websites:null,tutoring:((C=n.additionalResources)==null?void 0:C.tutoring)||null}}}catch(S){return console.error("Error validating AI response:",S),t}}async generateCourseMaterials(n,t){const r=`
Based on the following course information, generate detailed course materials in JSON format.

CRITICAL REQUIREMENTS:
1. Return ONLY valid JSON - absolutely NO explanatory text, comments, or additional content
2. Do not add any text before or after the JSON array
3. Do not include comments like "// ..." in the JSON
4. Generate materials for ALL available weeks/sessions from the course information

Create materials for:
1. Course Overview (with detailed description, objectives, and policies)  
2. Weekly/session materials for ALL weeks found in the schedule
3. Assignment descriptions where applicable

Course Information:
${JSON.stringify(n,null,2)}

Generate materials for ${(t==null?void 0:t.includeWeeks)||n.schedule.length} weeks/sessions.

Return ONLY a JSON array of materials with this structure:
[
  {
    "id": "unique-id",
    "title": "Material Title",
    "type": "overview|weekly|assignment|resource",
    "header": {"title": "string", "content": "string"},
    "sections": [
      {
        "id": "section-id",
        "title": "Section Title",
        "content": "HTML formatted content",
        "subsections": [
          {
            "id": "subsection-id",
            "title": "Subsection Title",
            "content": "HTML formatted content"
          }
        ]
      }
    ],
    "footer": {"title": "string", "content": "string"},
    "published": false,
    "scheduledTimestamp": "ISO date string or null"
  }
]
`;try{const i=await b5(r,{thinkingLevel:"high",maxTokens:16384});if(!i||i.trim().length===0)return console.warn("Empty response from AI service for material generation"),[];let a=i.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();const s=a.lastIndexOf("]");s!==-1&&(a=a.substring(0,s+1));let l;try{l=JSON.parse(a)}catch(u){return console.error("JSON parsing failed for material generation:",u),console.error("Raw response text:",i),console.error("Cleaned text:",a),console.warn("Falling back to empty materials array"),[]}return Array.isArray(l)?l:(console.warn("AI response is not an array, wrapping in array:",l),l?[l]:[])}catch(i){return console.error("Error generating materials:",i),[]}}}let iS=null;const aT=()=>(iS||(iS=new mJ),iS),Jh=()=>Math.random().toString(36).substr(2,9),gJ=e=>e.length?`<ul>${e.map(t=>`<li>${t}</li>`).join("")}</ul>`:"<p>No objectives specified</p>",bJ=e=>e.length?`<ul>${e.map(t=>`<li>${t}</li>`).join("")}</ul>`:"<p>No readings assigned</p>",qp=Tp()(kb(e2((e,n)=>({uploadedFile:null,uploadProgress:0,extractedText:"",extractionMetadata:null,storedSyllabusFile:null,aiExtractedInfo:null,useAIProcessing:!0,parsedCourseInfo:null,generatedMaterials:[],currentStep:"upload",isProcessing:!1,error:null,processingProgress:null,setUploadedFile:t=>e({uploadedFile:t}),setUploadProgress:t=>e({uploadProgress:t}),setExtractedText:t=>e({extractedText:t}),setStoredSyllabusFile:t=>e({storedSyllabusFile:t}),setAIExtractedInfo:t=>e({aiExtractedInfo:t}),setUseAIProcessing:t=>e({useAIProcessing:t}),setParsedCourseInfo:t=>e({parsedCourseInfo:t}),setGeneratedMaterials:t=>e({generatedMaterials:t}),setCurrentStep:t=>e({currentStep:t}),setIsProcessing:t=>e({isProcessing:t}),setError:t=>e({error:t}),setProcessingProgress:t=>e({processingProgress:t}),uploadSyllabus:async(t,r)=>{const i=aI(t);if(!i.isValid){e({error:i.error,currentStep:"upload"});return}const a=Mz(t);e({uploadedFile:t,uploadProgress:0,error:null,extractionMetadata:{fileName:t.name,fileSize:t.size,fileType:sI(t),estimatedProcessingTime:a},processingProgress:{stage:"uploading",percentage:0,currentOperation:"Preparing file for processing..."}});try{for(let s=0;s<=100;s+=20)e({uploadProgress:s,processingProgress:{stage:"uploading",percentage:s,currentOperation:s===100?"Upload complete, starting text extraction...":`Uploading file... ${s}%`}}),await new Promise(l=>setTimeout(l,100));if(e({currentStep:"processing",isProcessing:!0,processingProgress:{stage:"extracting",percentage:0,currentOperation:"Extracting text from document..."}}),await n().extractTextFromFile(),r)try{e({processingProgress:{stage:"uploading",percentage:90,currentOperation:"Storing syllabus file..."}});const s=await lJ(t,r);e({storedSyllabusFile:s}),console.log("Syllabus file stored successfully:",s.url)}catch(s){console.warn("Failed to store syllabus file, continuing with processing:",s)}e({processingProgress:{stage:"analyzing",percentage:0,currentOperation:n().useAIProcessing?"Analyzing syllabus with AI...":"Parsing syllabus content..."}}),await n().parseSyllabus()}catch(s){e({error:s instanceof Error?s.message:"Failed to upload file",currentStep:"upload"})}},extractTextFromFile:async()=>{const{uploadedFile:t}=n();if(!t){e({error:"No file uploaded"});return}e({isProcessing:!0,error:null});try{const r=await iI(t);e({extractedText:r.text,extractionMetadata:{...n().extractionMetadata,...r.metadata},isProcessing:!1})}catch(r){e({error:r.message||"Failed to extract text from file",isProcessing:!1})}},parseSyllabus:async()=>{const{extractedText:t,uploadedFile:r,useAIProcessing:i}=n();if(!t){e({error:"No text to parse"});return}e({isProcessing:!0,error:null});try{let a;if(i)try{e({processingProgress:{stage:"analyzing",percentage:25,currentOperation:"Sending syllabus to AI for analysis..."}});const l=await aT().processSyllabusText(t,r==null?void 0:r.name);e({processingProgress:{stage:"analyzing",percentage:75,currentOperation:"Processing AI analysis results..."}}),e({aiExtractedInfo:l}),a={suggestedTitle:l.courseInfo.title||"Course Title",suggestedNumber:l.courseInfo.number||"COURSE 101",suggestedDescription:l.courseInfo.description||"Course description not available",objectives:l.learningObjectives.length>0?l.learningObjectives:["Students will understand key concepts","Students will develop practical skills","Students will apply knowledge to real-world scenarios"],schedule:l.schedule.map(u=>({week:u.week,topic:u.topic,description:u.description,readings:u.readings||[],assignments:u.assignments||[],date:u.dueDate?new Date(u.dueDate):void 0})),prerequisites:l.prerequisites,textbook:l.textbooks.length>0?l.textbooks[0].title:"",grading:l.gradingPolicy.map(u=>`${u.component}: ${u.percentage}%`).join(", "),instructor:l.courseInfo.instructor,department:l.courseInfo.department,institution:l.courseInfo.institution,credits:l.courseInfo.credits,semester:l.courseInfo.semester,year:l.courseInfo.year,contactInfo:l.contactInfo,policies:l.policies,textbooks:l.textbooks,gradingComponents:l.gradingPolicy,assignments:l.assignments}}catch(s){console.warn("AI processing failed, falling back to pattern-based parsing:",s),e({error:`AI analysis failed: ${s instanceof Error?s.message:"Unknown error"}. Using pattern-based parsing instead.`,processingProgress:{stage:"analyzing",percentage:50,currentOperation:"AI failed, using pattern-based parsing..."}}),a=await n().fallbackParsing(t)}else a=await n().fallbackParsing(t);e({parsedCourseInfo:a}),e({processingProgress:{stage:"generating",percentage:0,currentOperation:"Generating course materials..."}}),await n().generateMaterials()}catch(a){e({error:a instanceof Error?a.message:"Failed to parse syllabus",isProcessing:!1})}},fallbackParsing:async t=>{var m,b;const r=t.split(`
`).filter(g=>g.trim()),i=r.find(g=>{const v=g.toLowerCase();return(v.includes("course")||v.includes("class"))&&(v.includes("title")||v.includes("name")||g.includes(":"))}),a=r.find(g=>{const v=g.toLowerCase();return v.includes("description")||v.includes("overview")||v.includes("about this course")}),s=r.find(g=>/[A-Z]{2,4}\s*\d{3,4}/.test(g)||g.toLowerCase().includes("course number")),l=r.findIndex(g=>{const v=g.toLowerCase();return v.includes("objective")||v.includes("learning outcome")||v.includes("goals")||v.includes("by the end of this course")}),u=[];if(l!==-1)for(let g=l+1;g<r.length&&g<l+15;g++){const v=r[g].trim();v&&(v.startsWith("-")||v.startsWith("")||v.match(/^\d+\./)||v.startsWith("*"))?u.push(v.replace(/^[-\d.*]\s*/,"")):v&&u.length===0&&u.push(v)}const f=[];for(let g=1;g<=16;g++){const v=new RegExp(`week\\s*${g}|${g}\\s*week`,"i"),x=r.find(C=>v.test(C));if(x){const C=x.replace(/week\s*\d+:?\s*/i,"").trim()||`Week ${g} Topic`;f.push({week:g,topic:C,description:`Content and activities for week ${g}`,readings:[],assignments:[]})}else f.push({week:g,topic:`Week ${g} Topic`,description:`Content for week ${g}`,readings:[],assignments:[]})}let h="COURSE 101";if(s){const g=s.match(/[A-Z]{2,4}\s*\d{3,4}/);g&&(h=g[0])}return{suggestedTitle:i&&((m=i.split(":").slice(-1)[0])==null?void 0:m.trim())||"Course Title",suggestedNumber:h,suggestedDescription:a&&((b=a.split(":").slice(-1)[0])==null?void 0:b.trim())||t.substring(0,300)+"...",objectives:u.length>0?u:["Students will understand key concepts","Students will develop practical skills","Students will apply knowledge to real-world scenarios"],schedule:f.slice(0,15),prerequisites:[],textbook:"",grading:""}},generateMaterials:async()=>{const{parsedCourseInfo:t,aiExtractedInfo:r,useAIProcessing:i}=n();if(!t){e({error:"No parsed course info available"});return}e({isProcessing:!0,error:null});try{let a=[];if(i&&r)try{e({processingProgress:{stage:"generating",percentage:10,currentOperation:"Preparing course materials structure..."}});const s=aT();e({processingProgress:{stage:"generating",percentage:30,currentOperation:`Generating materials for ${r.schedule.length} weeks with AI...`}});const l=setInterval(()=>{const u=n().processingProgress;u&&u.percentage<75&&e({processingProgress:{...u,percentage:Math.min(u.percentage+5,75)}})},2e3);try{const u=await s.generateCourseMaterials(r,{includeWeeks:r.schedule.length,materialTypes:["overview","weekly","assignment"]});clearInterval(l),e({processingProgress:{stage:"generating",percentage:80,currentOperation:"Processing AI-generated materials..."}}),u&&u.length>0?a=u.map(f=>({id:f.id||Jh(),title:f.title||"Generated Material",header:f.header||{title:"Header",content:`<p>${f.title||"Material"}</p>`},footer:f.footer||{title:"Footer",content:"<p>Contact instructor for questions</p>"},sections:f.sections||[],published:f.published||!1,scheduledTimestamp:f.scheduledTimestamp?new Date(f.scheduledTimestamp):void 0})):(console.warn("AI material generation returned empty results, using fallback"),e({processingProgress:{stage:"generating",percentage:60,currentOperation:"AI returned empty results, using pattern-based generation..."}}),a=n().generateFallbackMaterials(t))}catch(u){throw clearInterval(l),u}}catch(s){console.warn("AI material generation failed, using fallback:",s),e({error:`AI material generation failed: ${s instanceof Error?s.message:"Unknown error"}. Using fallback material generation instead.`,processingProgress:{stage:"generating",percentage:50,currentOperation:"AI failed, switching to pattern-based generation..."}}),a=n().generateFallbackMaterials(t)}else e({processingProgress:{stage:"generating",percentage:40,currentOperation:"Generating materials using pattern-based approach..."}}),a=n().generateFallbackMaterials(t);e({generatedMaterials:a,isProcessing:!1,currentStep:"review",processingProgress:{stage:"complete",percentage:100,currentOperation:"Processing complete! Review your course materials below."}})}catch(a){e({error:a instanceof Error?a.message:"Failed to generate materials",isProcessing:!1})}},generateFallbackMaterials:t=>{const r=[];return r.push({id:Jh(),title:`${t.suggestedNumber} - Course Overview`,header:{title:"Course Overview",content:`<p>${t.suggestedTitle}</p>`},footer:{title:"Footer",content:"<p>Contact instructor for questions</p>"},sections:[{id:Jh(),title:"Course Description",content:`<p>${t.suggestedDescription}</p>`,subsections:[],images:[],links:[]},{id:Jh(),title:"Learning Objectives",content:gJ(t.objectives),subsections:[],images:[],links:[]}],published:!1}),t.schedule.slice(0,6).forEach(i=>{r.push({id:Jh(),title:`Week ${i.week}: ${i.topic}`,header:{title:`Week ${i.week}`,content:`<p>${i.topic}</p>`},footer:{title:"Footer",content:"<p>Review materials before next class</p>"},sections:[{id:Jh(),title:"Overview",content:`<p>${i.description||`Topics and activities for week ${i.week}`}</p>`,subsections:i.readings&&i.readings.length>0?[{id:Jh(),title:"Required Readings",content:bJ(i.readings),subSubsections:[],images:[],links:[]}]:[],images:[],links:[]}],published:!1,scheduledTimestamp:i.date})}),r},editMaterial:(t,r)=>{const{generatedMaterials:i}=n(),a=[...i];a[t]={...a[t],...r},e({generatedMaterials:a})},editCourseInfo:t=>{const{parsedCourseInfo:r}=n();r&&e({parsedCourseInfo:{...r,...t}})},reset:()=>e({uploadedFile:null,uploadProgress:0,extractedText:"",extractionMetadata:null,storedSyllabusFile:null,aiExtractedInfo:null,useAIProcessing:!0,parsedCourseInfo:null,generatedMaterials:[],currentStep:"upload",isProcessing:!1,error:null,processingProgress:null})}),{name:"syllabus-store",version:1,partialize:e=>({storedSyllabusFile:e.storedSyllabusFile,aiExtractedInfo:e.aiExtractedInfo,parsedCourseInfo:e.parsedCourseInfo,generatedMaterials:e.generatedMaterials}),migrate:(e,n)=>n===0?{storedSyllabusFile:(e==null?void 0:e.storedSyllabusFile)||null,aiExtractedInfo:(e==null?void 0:e.aiExtractedInfo)||null,parsedCourseInfo:(e==null?void 0:e.parsedCourseInfo)||null,generatedMaterials:(e==null?void 0:e.generatedMaterials)||[]}:e}))),vx={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_KEY:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",VITE_APP_ID:"1:922352392986:web:6c4d6e16b5e615bd4daaa3",VITE_AUTH_DOMAIN:"nexlab-prod.firebaseapp.com",VITE_CHATBOT_DEFAULT_ID:"ce5f7921-a3a0-4ea7-b95f-10fe41becda5",VITE_DEPLOY_ENV:"github",VITE_GOOGLE_ANALYTICS_ID:"G-X2SBY2YQ4V",VITE_MESSAGING_SENDER_ID:"922352392986",VITE_PROJECT_ID:"nexlab-prod",VITE_PUBLIC_COURSE_ID:"rqoyheM9Lf8jGftIoZyT",VITE_STORAGE_BUCKET:"nexlab-prod.firebasestorage.app"},wx={ENABLE_AI_PROCESSING:"VITE_ENABLE_AI_PROCESSING",MAX_RETRIES:"VITE_AI_MAX_RETRIES",TIMEOUT:"VITE_AI_TIMEOUT",FALLBACK_TO_PATTERN:"VITE_AI_FALLBACK_TO_PATTERN"},yJ=()=>({enableAIProcessing:vx[wx.ENABLE_AI_PROCESSING]!=="false",maxRetries:parseInt(vx[wx.MAX_RETRIES]||"3",10),timeout:parseInt(vx[wx.TIMEOUT]||"30000",10),fallbackToPatternParsing:vx[wx.FALLBACK_TO_PATTERN]!=="false"}),_O=e=>{const n=[];return(e.maxRetries<0||e.maxRetries>10)&&n.push("Max retries must be between 0 and 10"),(e.timeout<1e3||e.timeout>12e4)&&n.push("Timeout must be between 1 second and 2 minutes"),{isValid:n.length===0,errors:n}},IO=()=>{const e=yJ(),n=_O(e);return{config:e,...n}},sT=({onUploadComplete:e,apiKey:n,educatorUid:t})=>{const{uploadedFile:r,uploadProgress:i,error:a,isProcessing:s,useAIProcessing:l,processingProgress:u,uploadSyllabus:f,setUploadedFile:h,setError:m}=qp(),[b,g]=M.useState(!1),v=M.useMemo(()=>["text/plain","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],[]),x=M.useMemo(()=>[".txt",".pdf",".docx"],[]),C=M.useCallback(async F=>{const X=(T=>{if(!v.includes(T.type))return`Unsupported file type. Please upload ${x.join(", ")} files.`;const D=10*1024*1024;return T.size>D?"File size too large. Please upload files smaller than 10MB.":null})(F);if(X){m(X);return}try{await f(F,t),e==null||e(F)}catch(T){console.error("Upload error:",T)}},[f,e,m,v,x,n,t]),S=M.useCallback(F=>{F.preventDefault(),g(!1);const V=Array.from(F.dataTransfer.files);V.length>0&&C(V[0])},[C]),A=M.useCallback(F=>{F.preventDefault(),g(!0)},[]),N=M.useCallback(F=>{F.preventDefault(),g(!1)},[]),P=M.useCallback(F=>{const V=F.target.files;V&&V.length>0&&C(V[0]),F.target.value=""},[C]),U=M.useCallback(()=>{h(null),m(null)},[h,m]),B=F=>{if(F===0)return"0 Bytes";const V=1024,X=["Bytes","KB","MB","GB"],T=Math.floor(Math.log(F)/Math.log(V));return parseFloat((F/Math.pow(V,T)).toFixed(2))+" "+X[T]},j=()=>d.jsx(cP,{color:"primary"});return d.jsxs(se,{sx:{width:"100%",maxWidth:600,mx:"auto"},children:[!r&&d.jsxs(an,{sx:{p:4,border:"2px dashed",borderColor:b?"primary.main":"grey.300",backgroundColor:b?"primary.50":"background.paper",cursor:"pointer",transition:"all 0.3s ease",textAlign:"center","&:hover":{borderColor:"primary.main",backgroundColor:"primary.50"}},onDragOver:A,onDragLeave:N,onDrop:S,onClick:()=>{var F;return(F=document.getElementById("syllabus-file-input"))==null?void 0:F.click()},children:[d.jsx(uP,{sx:{fontSize:48,color:b?"primary.main":"grey.400",mb:2}}),d.jsx(te,{variant:"h6",gutterBottom:!0,children:"Upload Your Syllabus"}),d.jsx(te,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Drag and drop your syllabus file here, or click to browse"}),d.jsx(se,{sx:{display:"flex",flexWrap:"wrap",gap:1,justifyContent:"center"},children:x.map(F=>d.jsx(Rn,{label:F.toUpperCase(),size:"small",variant:"outlined",color:"primary"},F))}),d.jsx(te,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:"Maximum file size: 10MB"}),d.jsx("input",{id:"syllabus-file-input",type:"file",accept:v.join(","),onChange:P,style:{display:"none"}})]}),r&&d.jsxs(an,{sx:{p:3,mb:2},children:[d.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:2},children:[j(),d.jsxs(se,{sx:{flexGrow:1},children:[d.jsx(te,{variant:"subtitle1",sx:{fontWeight:500},children:r.name}),d.jsx(te,{variant:"body2",color:"text.secondary",children:B(r.size)})]}),!s&&d.jsx(jn,{onClick:U,color:"error",size:"small",children:d.jsx(Du,{})})]}),i>0&&i<100&&d.jsxs(se,{sx:{mt:2},children:[d.jsx(nl,{variant:"determinate",value:i,sx:{height:6,borderRadius:3}}),d.jsxs(te,{variant:"caption",sx:{mt:1,display:"block"},children:["Uploading... ",i,"%"]})]}),s&&d.jsx(se,{sx:{mt:2},children:u?d.jsxs(d.Fragment,{children:[d.jsxs(se,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[d.jsx(Rn,{label:u.stage.charAt(0).toUpperCase()+u.stage.slice(1),size:"small",color:"primary",variant:"outlined"}),d.jsxs(te,{variant:"caption",color:"text.secondary",children:[u.percentage,"%"]})]}),d.jsx(nl,{variant:"determinate",value:u.percentage,sx:{height:6,borderRadius:3,mb:1}}),d.jsx(te,{variant:"caption",sx:{display:"block",color:"text.secondary"},children:u.currentOperation})]}):d.jsxs(d.Fragment,{children:[d.jsx(nl,{sx:{height:6,borderRadius:3}}),d.jsx(te,{variant:"caption",sx:{mt:1,display:"block"},children:l?"AI is analyzing your syllabus...":"Processing syllabus..."})]})})]}),a&&d.jsx(Cn,{severity:"error",sx:{mt:2},onClose:()=>m(null),children:a}),d.jsxs(an,{sx:{p:2,mt:2,backgroundColor:"info.50"},children:[d.jsx(te,{variant:"body2",color:"info.main",sx:{fontWeight:500,mb:1},children:" Tips for best results:"}),d.jsxs(te,{variant:"body2",color:"text.secondary",component:"ul",sx:{m:0,pl:2},children:[d.jsx("li",{children:"Include course objectives and weekly schedule"}),d.jsx("li",{children:"List reading assignments and materials"}),d.jsx("li",{children:"Ensure text is well-structured with clear headings"})]})]})]})},xJ=({onContinue:e})=>{var A;const{parsedCourseInfo:n,editCourseInfo:t,error:r,isProcessing:i,currentStep:a}=qp(),[s,l]=M.useState(!1),[u,f]=M.useState(null);if(!n)return d.jsx(Cn,{severity:"warning",children:"No course information available. Please upload and process a syllabus first."});if(i||a==="processing")return d.jsx(Cn,{severity:"info",children:d.jsx(te,{variant:"body2",children:" Processing complete! Preparing course information for review..."})});const h=()=>{f({...n}),l(!0)},m=()=>{u&&(t(u),l(!1),f(null))},b=()=>{l(!1),f(null)},g=()=>{u&&f({...u,objectives:[...u.objectives,"New objective"]})},v=N=>{if(u){const P=u.objectives.filter((U,B)=>B!==N);f({...u,objectives:P})}},x=(N,P)=>{if(u){const U=[...u.objectives];U[N]=P,f({...u,objectives:U})}},C=(N,P,U)=>{if(u){const B=[...u.schedule];B[N]={...B[N],[P]:U},f({...u,schedule:B})}},S=s?u:n;return S?d.jsx(se,{sx:{maxWidth:800,mx:"auto"},children:d.jsxs(an,{sx:{p:3},children:[d.jsxs(se,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[d.jsx(te,{variant:"h5",component:"h2",children:"Course Information Preview"}),s?d.jsxs(se,{sx:{display:"flex",gap:1},children:[d.jsx(xt,{startIcon:d.jsx(Y0,{}),onClick:m,variant:"contained",color:"primary",children:"Save"}),d.jsx(xt,{startIcon:d.jsx(fC,{}),onClick:b,variant:"outlined",children:"Cancel"})]}):d.jsx(xt,{startIcon:d.jsx(Iu,{}),onClick:h,variant:"outlined",children:"Edit Details"})]}),r&&d.jsx(Cn,{severity:"error",sx:{mb:3},children:r}),d.jsxs(et,{container:!0,spacing:3,children:[d.jsx(et,{item:!0,xs:12,md:6,children:d.jsx(tn,{fullWidth:!0,label:"Course Number",value:S.suggestedNumber,onChange:N=>s&&u&&f({...u,suggestedNumber:N.target.value}),disabled:!s,variant:s?"outlined":"filled"})}),d.jsx(et,{item:!0,xs:12,md:6,children:d.jsx(tn,{fullWidth:!0,label:"Course Title",value:S.suggestedTitle,onChange:N=>s&&u&&f({...u,suggestedTitle:N.target.value}),disabled:!s,variant:s?"outlined":"filled"})}),d.jsx(et,{item:!0,xs:12,children:d.jsx(tn,{fullWidth:!0,multiline:!0,rows:4,label:"Course Description",value:S.suggestedDescription,onChange:N=>s&&u&&f({...u,suggestedDescription:N.target.value}),disabled:!s,variant:s?"outlined":"filled"})})]}),d.jsx(Yi,{sx:{my:3}}),d.jsxs(se,{sx:{mb:3},children:[d.jsxs(se,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[d.jsxs(te,{variant:"h6",children:["Learning Objectives (",S.objectives.length,")"]}),s&&d.jsx(jn,{onClick:g,color:"primary",children:d.jsx(Tu,{})})]}),d.jsx(se,{sx:{display:"flex",flexDirection:"column",gap:2},children:S.objectives.map((N,P)=>d.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:1},children:[d.jsxs(te,{variant:"body2",sx:{minWidth:24,color:"text.secondary"},children:[P+1,"."]}),s?d.jsxs(d.Fragment,{children:[d.jsx(tn,{fullWidth:!0,multiline:!0,value:N,onChange:U=>x(P,U.target.value),size:"small"}),d.jsx(jn,{onClick:()=>v(P),color:"error",size:"small",children:d.jsx(Du,{})})]}):d.jsx(te,{variant:"body2",children:N})]},P))})]}),d.jsx(Yi,{sx:{my:3}}),d.jsxs(zd,{children:[d.jsx(qd,{expandIcon:d.jsx(zl,{}),children:d.jsxs(te,{variant:"h6",children:["Course Schedule (",S.schedule.length," weeks)"]})}),d.jsx(Bd,{children:d.jsx(se,{sx:{display:"flex",flexDirection:"column",gap:2},children:S.schedule.map((N,P)=>d.jsx(an,{sx:{p:2,backgroundColor:"grey.50"},children:d.jsxs(et,{container:!0,spacing:2,alignItems:"center",children:[d.jsx(et,{item:!0,xs:12,sm:1,children:d.jsx(Rn,{label:`W${N.week}`,size:"small",color:"primary"})}),d.jsx(et,{item:!0,xs:12,sm:5,children:s?d.jsx(tn,{fullWidth:!0,size:"small",label:"Topic",value:N.topic,onChange:U=>C(P,"topic",U.target.value)}):d.jsx(te,{variant:"body2",sx:{fontWeight:500},children:N.topic})}),d.jsx(et,{item:!0,xs:12,sm:6,children:s?d.jsx(tn,{fullWidth:!0,size:"small",label:"Description",value:N.description||"",onChange:U=>C(P,"description",U.target.value)}):d.jsx(te,{variant:"body2",color:"text.secondary",children:N.description||"No description"})})]})},P))})})]}),(((A=S.prerequisites)==null?void 0:A.length)||S.textbook||S.grading)&&d.jsxs(d.Fragment,{children:[d.jsx(Yi,{sx:{my:3}}),d.jsx(te,{variant:"h6",sx:{mb:2},children:"Additional Information"}),d.jsxs(et,{container:!0,spacing:2,children:[S.prerequisites&&S.prerequisites.length>0&&d.jsxs(et,{item:!0,xs:12,md:4,children:[d.jsx(te,{variant:"subtitle2",sx:{mb:1},children:"Prerequisites:"}),d.jsx(te,{variant:"body2",color:"text.secondary",children:S.prerequisites.join(", ")})]}),S.textbook&&d.jsxs(et,{item:!0,xs:12,md:4,children:[d.jsx(te,{variant:"subtitle2",sx:{mb:1},children:"Textbook:"}),d.jsx(te,{variant:"body2",color:"text.secondary",children:S.textbook})]}),S.grading&&d.jsxs(et,{item:!0,xs:12,md:4,children:[d.jsx(te,{variant:"subtitle2",sx:{mb:1},children:"Grading:"}),d.jsx(te,{variant:"body2",color:"text.secondary",children:S.grading})]})]})]}),e&&d.jsx(se,{sx:{mt:4,textAlign:"right"},children:d.jsx(xt,{variant:"contained",color:"primary",size:"large",onClick:e,disabled:s,children:"Continue to Materials Preview"})})]})}):null},vJ=({onContinue:e,onBack:n})=>{const{generatedMaterials:t,editMaterial:r,error:i}=qp(),[a,s]=M.useState(null),[l,u]=M.useState(null);if(!t.length)return d.jsx(Cn,{severity:"warning",children:"No materials generated. Please go back and process a syllabus first."});const f=S=>{s({index:S,material:{...t[S]}})},h=()=>{a&&(r(a.index,a.material),s(null))},m=()=>{s(null)},b=S=>{u(S)},g=S=>{const A=t[S];r(S,{published:!A.published})},v=(S,A=150)=>{const N=S.replace(/<[^>]*>/g,"");return N.length>A?N.substring(0,A)+"...":N},x=S=>S.toLowerCase().includes("overview")?d.jsx(Yd,{color:"primary"}):S.toLowerCase().includes("week")?d.jsx(pm,{color:"secondary"}):d.jsx(Yd,{color:"action"}),C=t.filter(S=>S.published).length;return d.jsxs(se,{sx:{maxWidth:1e3,mx:"auto"},children:[d.jsxs(an,{sx:{p:3,mb:3},children:[d.jsxs(se,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[d.jsx(te,{variant:"h5",component:"h2",children:"Generated Course Materials"}),d.jsx(Rn,{label:`${C}/${t.length} will be published`,color:"primary",variant:"outlined"})]}),d.jsx(te,{variant:"body2",color:"text.secondary",children:"Review and customize the course materials generated from your syllabus. You can edit content, toggle publication status, and organize materials before creating your course."}),i&&d.jsx(Cn,{severity:"error",sx:{mt:2},children:i})]}),d.jsx(et,{container:!0,spacing:3,children:t.map((S,A)=>d.jsx(et,{item:!0,xs:12,md:6,lg:4,children:d.jsxs(ri,{sx:{height:"100%",display:"flex",flexDirection:"column",border:S.published?"2px solid":"1px solid",borderColor:S.published?"success.main":"divider"},children:[d.jsxs(ii,{sx:{flexGrow:1},children:[d.jsxs(se,{sx:{display:"flex",alignItems:"flex-start",gap:1,mb:2},children:[x(S.title),d.jsxs(se,{sx:{flexGrow:1},children:[d.jsx(te,{variant:"h6",component:"h3",sx:{fontSize:"1rem",lineHeight:1.3,mb:1},children:S.title}),d.jsxs(se,{sx:{display:"flex",gap:1,alignItems:"center"},children:[d.jsx(Ud,{control:d.jsx(zc,{checked:S.published,onChange:()=>g(A),size:"small"}),label:d.jsx(te,{variant:"caption",children:S.published?"Publish":"Draft"}),sx:{mr:0}}),S.scheduledTimestamp&&d.jsx(Rn,{label:"Scheduled",size:"small",variant:"outlined",color:"info"})]})]})]}),d.jsxs(te,{variant:"body2",color:"text.secondary",sx:{mb:2},children:[d.jsx("strong",{children:"Sections:"})," ",S.sections.length]}),S.sections[0]&&d.jsxs(se,{sx:{mb:2},children:[d.jsx(te,{variant:"subtitle2",sx:{mb:1},children:S.sections[0].title}),d.jsx(te,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.85rem",fontStyle:"italic"},children:v(S.sections[0].content)})]})]}),d.jsxs(u_,{children:[d.jsx(xt,{size:"small",startIcon:d.jsx(mC,{}),onClick:()=>b(S),children:"Preview"}),d.jsx(xt,{size:"small",startIcon:d.jsx(Iu,{}),onClick:()=>f(A),children:"Edit"})]})]})},S.id))}),d.jsxs(se,{sx:{display:"flex",justifyContent:"space-between",mt:4},children:[n&&d.jsx(xt,{variant:"outlined",onClick:n,size:"large",children:"Back to Course Info"}),e&&d.jsxs(xt,{variant:"contained",color:"primary",onClick:e,size:"large",disabled:C===0,children:["Create Course with ",C," Materials"]})]}),d.jsxs(la,{open:a!==null,onClose:m,maxWidth:"md",fullWidth:!0,children:[d.jsxs($a,{children:["Edit Material: ",a==null?void 0:a.material.title]}),d.jsx(ua,{children:a&&d.jsxs(se,{sx:{pt:1},children:[d.jsx(tn,{fullWidth:!0,label:"Material Title",value:a.material.title,onChange:S=>s({...a,material:{...a.material,title:S.target.value}}),sx:{mb:3}}),d.jsx(te,{variant:"h6",sx:{mb:2},children:"Header"}),d.jsx(tn,{fullWidth:!0,label:"Header Title",value:a.material.header.title,onChange:S=>s({...a,material:{...a.material,header:{...a.material.header,title:S.target.value}}}),sx:{mb:2}}),d.jsx(tn,{fullWidth:!0,multiline:!0,rows:2,label:"Header Content",value:a.material.header.content,onChange:S=>s({...a,material:{...a.material,header:{...a.material.header,content:S.target.value}}}),sx:{mb:3}}),d.jsx(te,{variant:"h6",sx:{mb:2},children:"Sections"}),a.material.sections.map((S,A)=>d.jsxs(zd,{sx:{mb:2},children:[d.jsx(qd,{expandIcon:d.jsx(zl,{}),children:d.jsx(te,{children:S.title})}),d.jsxs(Bd,{children:[d.jsx(tn,{fullWidth:!0,label:"Section Title",value:S.title,onChange:N=>{const P=[...a.material.sections];P[A]={...P[A],title:N.target.value},s({...a,material:{...a.material,sections:P}})},sx:{mb:2}}),d.jsx(tn,{fullWidth:!0,multiline:!0,rows:4,label:"Section Content",value:S.content,onChange:N=>{const P=[...a.material.sections];P[A]={...P[A],content:N.target.value},s({...a,material:{...a.material,sections:P}})}})]})]},S.id))]})}),d.jsxs(Ea,{children:[d.jsx(xt,{onClick:m,children:"Cancel"}),d.jsx(xt,{onClick:h,variant:"contained",children:"Save Changes"})]})]}),d.jsxs(la,{open:l!==null,onClose:()=>u(null),maxWidth:"md",fullWidth:!0,children:[d.jsx($a,{children:l==null?void 0:l.title}),d.jsx(ua,{children:l&&d.jsxs(se,{sx:{pt:1},children:[d.jsxs(an,{sx:{p:2,mb:3,backgroundColor:"primary.50"},children:[d.jsx(te,{variant:"h6",color:"primary",children:l.header.title}),d.jsx(te,{variant:"body2",sx:{mt:1},children:l.header.content.replace(/<[^>]*>/g,"")})]}),l.sections.map(S=>d.jsxs(se,{sx:{mb:3},children:[d.jsx(te,{variant:"h6",sx:{mb:2},children:S.title}),d.jsx(te,{variant:"body1",sx:{mb:2},children:S.content.replace(/<[^>]*>/g,"")}),S.subsections.map(A=>d.jsxs(se,{sx:{ml:2,mb:2},children:[d.jsx(te,{variant:"subtitle1",sx:{mb:1},children:A.title}),d.jsx(te,{variant:"body2",color:"text.secondary",children:A.content.replace(/<[^>]*>/g,"")})]},A.id))]},S.id)),d.jsx(an,{sx:{p:2,backgroundColor:"grey.50"},children:d.jsx(te,{variant:"body2",color:"text.secondary",children:l.footer.content.replace(/<[^>]*>/g,"")})})]})}),d.jsx(Ea,{children:d.jsx(xt,{onClick:()=>u(null),children:"Close"})})]})]})},wJ=({onConfigChange:e,compact:n=!1})=>{const{useAIProcessing:t,setUseAIProcessing:r}=qp(),[i,a]=M.useState(null);M.useEffect(()=>{const{config:h,isValid:m,errors:b}=IO();a({config:h,isValid:m,errors:b})},[]);const s=h=>{if(r(h),i){const m={...i.config,enableAIProcessing:h},b=_O(m);a({config:m,...b}),e==null||e(m)}},l=()=>i?i.isValid&&t?d.jsx(yb,{color:"success"}):!i.isValid&&t?d.jsx(fP,{color:"error"}):d.jsx(nv,{color:"action"}):d.jsx(nv,{color:"action"}),u=()=>t?i?i.isValid?"AI processing ready - enhanced syllabus analysis enabled":`Configuration issues: ${i.errors.join(", ")}`:"Loading configuration...":"AI processing disabled - using pattern-based parsing",f=()=>t?i?i.isValid?"success":"error":"info":"warning";return n?d.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:2},children:[l(),d.jsx(Ud,{control:d.jsx(zc,{checked:t,onChange:h=>s(h.target.checked),size:"small"}),label:"AI Processing"}),d.jsx(ni,{title:u(),children:d.jsx(dP,{fontSize:"small",color:"action"})})]}):d.jsx(an,{sx:{p:2,mb:2},children:d.jsxs(zd,{children:[d.jsx(qd,{expandIcon:d.jsx(zl,{}),children:d.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:2,width:"100%"},children:[l(),d.jsxs(se,{sx:{flexGrow:1},children:[d.jsx(te,{variant:"subtitle1",sx:{fontWeight:500},children:"AI-Powered Processing Settings"}),d.jsx(te,{variant:"caption",color:"text.secondary",children:u()})]}),d.jsx(Rn,{label:t?"Enabled":"Disabled",color:t?"success":"default",size:"small"})]})}),d.jsx(Bd,{children:d.jsxs(et,{container:!0,spacing:3,children:[d.jsx(et,{item:!0,xs:12,children:d.jsx(Ud,{control:d.jsx(zc,{checked:t,onChange:h=>s(h.target.checked)}),label:d.jsxs(se,{children:[d.jsx(te,{variant:"body2",sx:{fontWeight:500},children:"Enable AI-Powered Analysis"}),d.jsx(te,{variant:"caption",color:"text.secondary",children:"Use Google Gemini to extract structured information from syllabi"})]})})}),t&&d.jsx(et,{item:!0,xs:12,children:d.jsxs(an,{sx:{p:2,backgroundColor:i!=null&&i.isValid?"success.50":"error.50",border:"1px solid",borderColor:i!=null&&i.isValid?"success.200":"error.200"},children:[d.jsx(te,{variant:"subtitle2",sx:{mb:1,color:i!=null&&i.isValid?"success.main":"error.main"},children:i!=null&&i.isValid?" API Configuration":" API Configuration"}),d.jsx(te,{variant:"body2",color:"text.secondary",children:i!=null&&i.isValid?"AI processing is ready. API keys are securely managed by Firebase Functions.":"Configuration check in progress..."})]})}),d.jsx(et,{item:!0,xs:12,children:d.jsxs(Cn,{severity:f(),sx:{mb:2},children:[d.jsx(te,{variant:"body2",children:u()}),(i==null?void 0:i.errors)&&i.errors.length>0&&d.jsx(se,{sx:{mt:1},children:i.errors.map((h,m)=>d.jsxs(te,{variant:"caption",display:"block",children:[" ",h]},m))})]})}),t&&(i==null?void 0:i.isValid)&&d.jsx(et,{item:!0,xs:12,children:d.jsxs(an,{sx:{p:2,backgroundColor:"primary.50",border:"1px solid",borderColor:"primary.200"},children:[d.jsx(te,{variant:"subtitle2",sx:{mb:1,color:"primary.main"},children:" Enhanced Features with AI:"}),d.jsxs(et,{container:!0,spacing:1,children:[d.jsxs(et,{item:!0,xs:12,sm:6,children:[d.jsx(te,{variant:"caption",display:"block",children:" Intelligent course information extraction"}),d.jsx(te,{variant:"caption",display:"block",children:" Automatic learning objectives identification"}),d.jsx(te,{variant:"caption",display:"block",children:" Smart schedule parsing and organization"})]}),d.jsxs(et,{item:!0,xs:12,sm:6,children:[d.jsx(te,{variant:"caption",display:"block",children:" Grading policy analysis"}),d.jsx(te,{variant:"caption",display:"block",children:" Assignment and due date extraction"}),d.jsx(te,{variant:"caption",display:"block",children:" Enhanced material generation"})]})]})]})}),!t&&d.jsx(et,{item:!0,xs:12,children:d.jsxs(an,{sx:{p:2,backgroundColor:"warning.50",border:"1px solid",borderColor:"warning.200"},children:[d.jsx(te,{variant:"subtitle2",sx:{mb:1,color:"warning.main"},children:" Pattern-Based Processing:"}),d.jsx(te,{variant:"caption",color:"text.secondary",children:"Using traditional text parsing methods. Results may be less accurate than AI processing. Enable AI processing for better extraction accuracy."})]})})]})})]})})},OO=({onComplete:e,onCancel:n,educatorUid:t})=>{const{currentStep:r,setCurrentStep:i,parsedCourseInfo:a,generatedMaterials:s,isProcessing:l,error:u,useAIProcessing:f,processingProgress:h,reset:m}=qp(),[b,g]=M.useState(null);it.useEffect(()=>{const{config:B}=IO();g(B)},[]);const v=[{label:"Upload Syllabus",description:"Upload your syllabus document"},{label:"Review Course Info",description:"Verify and edit course information"},{label:"Review Materials",description:"Customize generated course materials"}],x=()=>{switch(r){case"upload":case"processing":return 0;case"review":return 1;case"editing":return 2;case"complete":return 2;default:return 0}},C=()=>{i("editing")},S=()=>{i("review")},A=()=>{if(a&&s.length>0){const B=s.filter(j=>j.published);e==null||e({courseInfo:a,materials:B})}},N=()=>{m(),n==null||n()},P=B=>{g(B)},U=()=>{switch(r){case"upload":case"processing":return d.jsx(sT,{onUploadComplete:()=>{},educatorUid:t});case"review":return d.jsx(xJ,{onContinue:C});case"editing":case"complete":return d.jsx(vJ,{onContinue:A,onBack:S});default:return d.jsx(sT,{onUploadComplete:()=>{},educatorUid:t})}};return d.jsxs(se,{sx:{width:"100%",maxWidth:1200,mx:"auto",p:3},children:[d.jsxs(an,{sx:{p:3,mb:4},children:[d.jsx(te,{variant:"h4",component:"h1",gutterBottom:!0,children:"Import Course from Syllabus"}),d.jsx(te,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"Upload your syllabus document and we'll automatically create a course structure with organized materials based on your content."}),d.jsx(hP,{activeStep:x(),alternativeLabel:!0,children:v.map(B=>d.jsx(pP,{children:d.jsxs(mP,{children:[d.jsx(te,{variant:"body2",sx:{fontWeight:500},children:B.label}),d.jsx(te,{variant:"caption",color:"text.secondary",children:B.description})]})},B.label))})]}),r==="upload"&&d.jsx(wJ,{onConfigChange:P,compact:!1}),u&&d.jsx(Cn,{severity:"error",sx:{mb:3},onClose:()=>{},children:u}),l&&d.jsx(Cn,{severity:"info",sx:{mb:3},children:d.jsx(te,{variant:"body2",children:f?" AI is analyzing your syllabus for enhanced data extraction... This usually takes 10-30 seconds.":" Processing your syllabus with pattern-based analysis... This usually takes a moment."})}),d.jsx(se,{sx:{minHeight:400},children:U()}),r!=="upload"&&n&&d.jsx(se,{sx:{display:"flex",justifyContent:"center",mt:3},children:d.jsx(xt,{variant:"outlined",color:"secondary",onClick:N,size:"small",children:"Cancel & Return to Manual Entry"})})]})},MO=(e,n,t,r,i,a)=>{const s=n.filter(u=>u.published).length,l=n.filter(u=>!u.published).length;return{parsedCourseInfo:e,generatedMaterials:n,aiExtractedInfo:t,storedSyllabusFile:r,metadata:{importedAt:new Date,processingMethod:a&&t?"ai":"fallback",fileType:(i==null?void 0:i.type)||"unknown",fileName:(i==null?void 0:i.name)||"unknown",totalMaterialCount:n.length,publishedMaterialCount:s,draftMaterialCount:l}}},jv=e=>{if(e==null)return null;if(e instanceof Date)return e;if(Array.isArray(e))return e.map(jv).filter(n=>n!=null);if(typeof e=="object"){const n={};return Object.keys(e).forEach(t=>{const r=e[t];if(r!==void 0){const i=jv(r);i!=null&&(n[t]=i)}}),n}return e},SJ=()=>{const{userDetails:e}=Ii(),n=Na(),t=cr(),[r,i]=M.useState(""),[a,s]=M.useState(""),[l,u]=M.useState(""),[f,h]=M.useState(""),[m,b]=M.useState(""),[g,v]=M.useState(""),[x,C]=M.useState(""),[S,A]=M.useState("primary"),[N,P]=M.useState("manual"),{parsedCourseInfo:U,generatedMaterials:B,aiExtractedInfo:j,storedSyllabusFile:F,uploadedFile:V,useAIProcessing:X,reset:T,currentStep:D}=qp(),[O,L]=M.useState(!1),[Q,$]=M.useState(!1),[Y,Z]=M.useState("");M.useEffect(()=>{(N==="manual"||S==="co-instructor")&&T()},[N,S,T]),M.useEffect(()=>{S==="primary"&&N==="syllabus"&&U&&(b(U.suggestedNumber||""),v(U.suggestedTitle||""),C(U.suggestedDescription||""))},[S,N,U]);const re=de=>ye=>{de(ye.target.value)},H=de=>{const ye=de.target.value;A(ye),ye==="co-instructor"&&(P("manual"),b(""),v(""),C(""))},me=(de,ye)=>{ye!==null&&(P(ye),ye==="syllabus"&&(b(""),v(""),C("")))},q=()=>{if(!r||!a||!l||!f||!m||!g)return"Please fill in all required fields.";if(S==="primary"){if(N==="manual"&&!x)return"Please provide a course description.";if(N==="syllabus"){if(!U)return"Please complete the syllabus import process first.";if(!x)return"Please ensure course description is properly filled from your syllabus."}}return null},z=de=>{console.log("Syllabus import completed for educator request:",de)},ne=async()=>{const de=q();if(de){Z(de),$(!0);return}L(!0);try{const ye={uid:(e==null?void 0:e.uid)||"",firstName:r||"",lastName:a||"",institution:l||"",email:f||"",courseNumber:m||"",courseTitle:g||"",courseDescription:S==="primary"?x||"":"CO-INSTRUCTOR REQUEST",requestType:S||"primary",status:"pending",timestamp:new Date,syllabusImported:!1};if(S==="primary"&&N==="syllabus"&&U&&B.length>0){const pe=MO(U,B,j,F,V,X),tt=jv(pe);ye.syllabusImported=!0,ye.syllabusData=tt}const we=jv(ye);console.log("Submitting clean educator request document:",we);const ve=await Di(mn(t,"educatorRequests"),we),je={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:`New Educator Request Submitted${S==="primary"&&N==="syllabus"?" (With Syllabus Import)":""}`,html:`
            <p>A new educator request has been submitted:</p>
            <p><strong>Name:</strong> ${r} ${a}</p>
            <p><strong>Email:</strong> ${f}</p>
            <p><strong>Institution:</strong> ${l}</p>
            <p><strong>Course:</strong> ${m} - ${g}</p>
            <p><strong>Request Type:</strong> ${S}</p>
            ${S==="primary"?`<p><strong>Course Creation Method:</strong> ${N==="syllabus"?"Imported from Syllabus":"Manual Entry"}</p>`:""}
            ${S==="primary"&&N==="syllabus"&&B.length>0?`<p><strong>Generated Materials:</strong> ${B.filter(pe=>pe.published).length} materials ready for publication</p>`:""}
            <p><strong>Description:</strong> ${x}</p>
            <p><strong>Request ID:</strong> ${ve.id}</p>
            <p><a href="https://nexlab.bio/educator-requests">
            Click here to review the request.
            </a></p>
          `}};await Di(mn(t,"mail"),je);const Ee={firstName:r,lastName:a,email:f,institution:l,courseNumber:m,courseTitle:g,requestType:S,courseCreationMode:S==="primary"?N:void 0,generatedMaterialsCount:S==="primary"&&N==="syllabus"?B.filter(pe=>pe.published).length:void 0,requestId:ve.id,submittedAt:new Date().toISOString()},Ue=fz(Ee),Oe=FS([f],"Instructor Request Submitted - NexLAB",Ue);await Di(mn(t,"mail"),Oe),Z(S==="primary"&&N==="syllabus"&&B.length>0?`Your educator request has been submitted for review with ${B.filter(pe=>pe.published).length} auto-generated course materials.`:"Your request has been submitted for review."),i(""),s(""),u(""),h(""),b(""),v(""),C(""),A("primary"),P("manual"),N==="syllabus"&&T(),$(!0),setTimeout(()=>{n("/my-profile")},3e3)}catch(ye){console.error("Error submitting request: ",ye),ye instanceof Error&&console.error("Error details:",{message:ye.message,name:ye.name,stack:ye.stack}),Z("Error submitting your request. Please try again."),$(!0)}finally{L(!1)}},oe=()=>{$(!1)},ee=S==="primary"&&N==="syllabus"&&D!=="upload"&&!U,ge=S==="primary"&&N==="syllabus"&&(D==="review"||D==="editing"||D==="complete")&&U;return d.jsxs(CC,{title:"Request Educator Permissions",subtitle:"Request permissions to create courses or join existing courses as a co-instructor.",children:[d.jsx(ah,{title:"Request Type",description:"Select the type of educator permissions you are requesting.",children:d.jsxs(dz,{label:"Request Type",value:S,onChange:H,required:!0,disabled:O,helperText:"Choose whether you want to create a new course or join an existing one",children:[d.jsx(xi,{value:"primary",children:"I am a primary course instructor, I want to create a new course"}),d.jsx(xi,{value:"co-instructor",children:"I am a co-instructor, I want to be added to an existing course"})]})}),d.jsxs(ah,{title:"Personal Information",description:"Provide your contact and institutional details.",showDivider:!0,children:[d.jsxs(et,{container:!0,spacing:3,children:[d.jsx(et,{item:!0,xs:12,md:6,children:d.jsx(ku,{label:"First Name",value:r,onChange:re(i),required:!0,disabled:O,placeholder:"John"})}),d.jsx(et,{item:!0,xs:12,md:6,children:d.jsx(ku,{label:"Last Name",value:a,onChange:re(s),required:!0,disabled:O,placeholder:"Doe"})})]}),d.jsxs(et,{container:!0,spacing:3,children:[d.jsx(et,{item:!0,xs:12,md:6,children:d.jsx(ku,{label:"Institution Affiliation",value:l,onChange:re(u),required:!0,disabled:O,placeholder:"University Name",helperText:"The name of your educational institution"})}),d.jsx(et,{item:!0,xs:12,md:6,children:d.jsx(ku,{label:"Institutional Email",type:"email",value:f,onChange:re(h),required:!0,disabled:O,placeholder:"name@institution.edu",helperText:"Please use your institutional email to confirm your affiliation"})})]})]}),d.jsxs(ah,{title:S==="primary"?"New Course Details":"Existing Course Details",description:S==="primary"?"Provide details for the course you want to create.":"Provide details about the existing course you want to join.",showDivider:!0,children:[S==="primary"&&d.jsxs(an,{sx:{p:3,mb:4,backgroundColor:"grey.50"},children:[d.jsxs(hC,{value:N,exclusive:!0,onChange:me,"aria-label":"course creation mode",fullWidth:!0,sx:{mb:2},children:[d.jsxs(mm,{value:"manual","aria-label":"manual entry",children:[d.jsx(Iu,{sx:{mr:1}}),"Manual Entry"]}),d.jsxs(mm,{value:"syllabus","aria-label":"syllabus import",children:[d.jsx(c_,{sx:{mr:1}}),"Import from Syllabus"]})]}),d.jsx(an,{sx:{p:2,backgroundColor:"primary.50",border:"1px solid",borderColor:"primary.200",fontFamily:xe.fontFamily.primary,fontSize:xe.fontSize.sm,color:K.text.secondary},children:N==="manual"?"Fill out the course information manually using the form below.":"Upload your syllabus document and we'll automatically extract course information and generate materials."})]}),S==="primary"&&N==="syllabus"&&d.jsx(OO,{onComplete:z,onCancel:()=>P("manual"),educatorUid:e==null?void 0:e.uid}),(S==="co-instructor"||S==="primary"&&N==="manual")&&d.jsxs(d.Fragment,{children:[d.jsxs(et,{container:!0,spacing:3,children:[d.jsx(et,{item:!0,xs:12,md:3,children:d.jsx(ku,{label:"Course Number",value:m,onChange:re(b),required:!0,disabled:O,placeholder:"e.g., BIOL301",helperText:"Enter the official course number or code"})}),d.jsx(et,{item:!0,xs:12,md:9,children:d.jsx(ku,{label:"Course Title",value:g,onChange:re(v),required:!0,disabled:O,placeholder:"e.g., Biotech Research Methods",helperText:"Enter the full course title"})})]}),S==="primary"&&d.jsx(ku,{label:"Course Description",value:x,onChange:re(C),required:!0,disabled:O,multiline:!0,rows:4,placeholder:"A comprehensive course covering advanced methods and tools in modern biotech labs, focusing on CRISPR, NGS, and bioinformatics.",helperText:"Describe the course content, objectives, and learning outcomes"})]})]}),(S==="co-instructor"||S==="primary"&&N==="manual"||ge)&&d.jsxs(AC,{align:"space-between",children:[d.jsx(ym,{variant:"text",onClick:()=>n("/my-profile"),disabled:O,children:"Cancel"}),d.jsx(ym,{variant:"primary",onClick:ne,disabled:O||ee,loading:O,children:S==="primary"&&N==="syllabus"&&B.length>0?`Submit with ${B.filter(de=>de.published).length} Materials`:"Submit"})]}),d.jsxs(la,{open:Q,onClose:oe,children:[d.jsx($a,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:d.jsx(yb,{sx:{color:"green",fontSize:50,marginRight:1}})}),d.jsx(ua,{children:d.jsx(zu,{sx:{textAlign:"center"},children:Y})}),d.jsx(Ea,{children:d.jsx(xt,{onClick:oe,color:"primary",autoFocus:!0,children:"Close"})})]})]})},CJ=({requests:e,loading:n=!1,onApprove:t,onDeny:r,onDelete:i})=>{const a=l=>{switch(l.toLowerCase()){case"approved":return"success";case"pending":return"warning";case"denied":return"error";default:return"default"}},s=[{id:"firstName",label:"Name",width:"12%",render:(l,u)=>d.jsx(cs,{text:`${l} ${u.lastName}`,weight:"semibold"})},{id:"uid",label:"User ID",width:"12%",render:l=>d.jsx(Dp,{userId:l,userType:"student"})},{id:"institution",label:"Institution",width:"12%",render:l=>d.jsx(cs,{text:l,maxLength:30})},{id:"email",label:"Email",width:"12%",render:l=>d.jsx(cs,{text:l,maxLength:30,variant:"monospace"})},{id:"courseNumber",label:"Course",width:"12%",render:(l,u)=>d.jsx(_p,{courseId:u.courseId||"",courseNumber:l,courseTitle:u.courseTitle,variant:"link",maxTitleLength:30})},{id:"timestamp",label:"Submitted",width:"10%",render:l=>d.jsx(Lm,{date:new Date(l.seconds*1e3),format:"full"})},{id:"status",label:"Status",width:"7%",render:l=>d.jsx(Zv,{label:l,status:a(l)})},{id:"actions",label:"Actions",width:"15%",align:"center",render:(l,u)=>{const f=u.status==="pending",h=u.status==="approved"||u.status==="denied";return d.jsx(Jv,{actions:[{icon:d.jsx(d_,{}),tooltip:f?"Approve Request":"Already processed",onClick:()=>t(u.id),disabled:!f,color:K.success,hoverColor:K.success+"20"},{icon:d.jsx(B1,{}),tooltip:f?"Deny Request":"Already processed",onClick:()=>r(u.id),disabled:!f,color:K.error,hoverColor:K.error+"20"},{icon:d.jsx(Du,{}),tooltip:h?"Delete Request":"Request must be approved or denied first",onClick:()=>i(u.id),disabled:!h,color:K.text.secondary,hoverColor:K.text.secondary+"20"}]})}}];return d.jsx(Np,{data:e,columns:s,loading:n,emptyMessage:"No educator permission requests found.",stickyHeader:!0})},AJ=()=>{const[e,n]=M.useState([]),[t,r]=M.useState([]),[i,a]=M.useState(""),[s,l]=M.useState(!1),[u,f]=M.useState(""),[h,m]=M.useState("success"),[b,g]=M.useState(!1),[v,x]=M.useState(null),[C,S]=M.useState(null),[A,N]=M.useState(null),P=cr();Na(),M.useEffect(()=>{(async()=>{const L=(await _i(mn(P,"educatorRequests"))).docs.map(Z=>({id:Z.id,...Z.data()})),$=(await _i(mn(P,"courses"))).docs.map(Z=>({id:Z.id,...Z.data()})),Y=L.sort((Z,re)=>{var z,ne;const H=((z=Z.timestamp)==null?void 0:z.seconds)||0,q=(((ne=re.timestamp)==null?void 0:ne.seconds)||0)-H;return q!==0?q:Z.status==="pending"&&re.status!=="pending"||Z.status==="approved"&&re.status==="denied"?-1:Z.status==="denied"&&re.status==="approved"?1:0});n(Y),r($)})()},[P]);function U(){const D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let O="";for(let L=0;L<28;L++)O+=D.charAt(Math.floor(Math.random()*D.length));return O}const B=async()=>{var D,O,L;if(!(!C||!A)){if(!A.courseNumber||!A.courseTitle){f("Course number or title is missing. Cannot approve request."),m("error"),l(!0);return}if(A.requestType==="co-instructor"&&!i){f("Please select a course for the co-instructor request."),m("error"),l(!0);return}if(A.status!=="pending"){f("This request has already been processed."),m("warning"),l(!0);return}try{const Q=gn(P,"users",A.uid);if(A.requestType==="primary"){const $=U(),Y=await Di(mn(P,"courses"),{number:A.courseNumber,title:A.courseTitle,passcode:$,courseAdmin:[A.uid],createdAt:new Date,courseCreatedAt:new Date}),Z=await ja(Q),re=Z.exists()?((D=Z.data())==null?void 0:D.classes)||{}:{};await qr(Q,{isAdmin:!0,classes:{...re,[Y.id]:{number:A.courseNumber,title:A.courseTitle,isCourseAdmin:!0,courseCreatedAt:new Date,enrolledAt:new Date}}}),await qr(gn(P,"educatorRequests",C),{status:"approved",courseId:Y.id,passcode:$});let H=0;if(A.syllabusImported&&((O=A.syllabusData)!=null&&O.generatedMaterials)){const oe=Yv(P);A.syllabusData.generatedMaterials.forEach((ee,ge)=>{const de=gn(mn(P,"materials")),ye={title:ee.title||"Untitled Material",header:ee.header||{title:"",content:""},footer:ee.footer||{title:"",content:""},sections:(ee.sections||[]).map(we=>({...we,images:we.images||[],links:we.links||[],subsections:(we.subsections||[]).map(ve=>({...ve,images:ve.images||[],links:ve.links||[],subSubsections:(ve.subSubsections||[]).map(je=>({...je,images:je.images||[],links:je.links||[]}))}))})),published:ee.published||!1,course:Y.id,author:A.uid,timestamp:Ni.now(),sequenceNumber:ge,createdAt:new Date,updatedAt:new Date};if(ee.scheduledTimestamp)try{const we=ee.scheduledTimestamp instanceof Date?ee.scheduledTimestamp:new Date(ee.scheduledTimestamp);isNaN(we.getTime())?console.warn(`Invalid scheduledTimestamp for material "${ee.title}", skipping...`):ye.scheduledTimestamp=Ni.fromDate(we)}catch(we){console.warn(`Error converting scheduledTimestamp for material "${ee.title}":`,we)}oe.set(de,ye),H++}),await oe.commit(),console.log(` Created ${H} materials from syllabus import`)}const me={firstName:A.firstName,lastName:A.lastName,email:A.email,institution:A.institution,courseNumber:A.courseNumber,courseTitle:A.courseTitle,requestType:A.requestType,passcode:$,courseId:Y.id,requestId:C,approvedAt:new Date().toISOString()},q=M8(me),z=FS([A.email],"Instructor Request Approved - NexLAB",q);await Di(mn(P,"mail"),z);const ne={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:`Educator Request Approved - NexLAB${H>0?` (${H} Materials Created)`:""}`,html:`
              <p>An educator request has been approved:</p>
              <p><strong>Name:</strong> ${A.firstName} ${A.lastName}</p>
              <p><strong>Email:</strong> ${A.email}</p>
              <p><strong>Institution:</strong> ${A.institution}</p>
              <p><strong>Course:</strong> ${A.courseNumber} - ${A.courseTitle}</p>
              <p><strong>Request Type:</strong> ${A.requestType==="primary"?"Primary Instructor":"Co-Instructor"}</p>
              ${H>0?`<p><strong>Syllabus Import:</strong>  ${H} course materials were automatically created from syllabus</p>`:""}
              <p><strong>Course ID:</strong> ${Y.id}</p>
              <p><strong>Passcode:</strong> ${$}</p>
              <p><strong>Request ID:</strong> ${C}</p>
              <p><strong>Approved:</strong> ${new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}</p>
            `}};await Di(mn(P,"mail"),ne)}else if(A.requestType==="co-instructor"){if(!i){f("Please select a course for the co-instructor request."),m("error"),l(!0);return}const $=gn(P,"courses",i);await qr($,{courseAdmin:s3(A.uid)});const Y=await ja(Q),Z=Y.exists()?((L=Y.data())==null?void 0:L.classes)||{}:{};await qr(Q,{isAdmin:!0,classes:{...Z,[i]:{number:A.courseNumber,title:A.courseTitle,isCourseAdmin:!0,courseCreatedAt:new Date,enrolledAt:new Date}}}),await qr(gn(P,"educatorRequests",C),{status:"approved",courseId:i});const re={firstName:A.firstName,lastName:A.lastName,email:A.email,institution:A.institution,courseNumber:A.courseNumber,courseTitle:A.courseTitle,requestType:A.requestType,courseId:i,requestId:C,approvedAt:new Date().toISOString()},H=M8(re),me=FS([A.email],"Instructor Request Approved - NexLAB",H);await Di(mn(P,"mail"),me);const q={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:"Co-Instructor Request Approved - NexLAB",html:`
              <p>A co-instructor request has been approved:</p>
              <p><strong>Name:</strong> ${A.firstName} ${A.lastName}</p>
              <p><strong>Email:</strong> ${A.email}</p>
              <p><strong>Institution:</strong> ${A.institution}</p>
              <p><strong>Course:</strong> ${A.courseNumber} - ${A.courseTitle}</p>
              <p><strong>Request Type:</strong> Co-Instructor</p>
              <p><strong>Course ID:</strong> ${i}</p>
              <p><strong>Request ID:</strong> ${C}</p>
              <p><strong>Approved:</strong> ${new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}</p>
            `}};await Di(mn(P,"mail"),q)}f("Request approved, and user promoted to educator."),m("success"),n($=>$.map(Z=>Z.id===C?{...Z,status:"approved"}:Z).sort((Z,re)=>{var z,ne;const H=((z=Z.timestamp)==null?void 0:z.seconds)||0,q=(((ne=re.timestamp)==null?void 0:ne.seconds)||0)-H;return q!==0?q:Z.status==="pending"&&re.status!=="pending"||Z.status==="approved"&&re.status==="denied"?-1:Z.status==="denied"&&re.status==="approved"?1:0}))}catch(Q){console.error("Error approving request: ",Q),f("Error approving the request. Please try again."),m("error")}l(!0),X()}},j=async()=>{if(C){try{await qr(gn(P,"educatorRequests",C),{status:"denied"}),f("Request denied."),m("success"),n(D=>D.map(L=>L.id===C?{...L,status:"denied"}:L).sort((L,Q)=>{var re,H;const $=((re=L.timestamp)==null?void 0:re.seconds)||0,Z=(((H=Q.timestamp)==null?void 0:H.seconds)||0)-$;return Z!==0?Z:L.status==="pending"&&Q.status!=="pending"||L.status==="approved"&&Q.status==="denied"?-1:L.status==="denied"&&Q.status==="approved"?1:0}))}catch(D){console.error("Error denying request: ",D),f("Error denying the request. Please try again."),m("error")}l(!0),X()}},F=async()=>{if(C){try{await Wv(gn(P,"educatorRequests",C)),f("Educator request deleted successfully."),m("success"),n(D=>D.filter(L=>L.id!==C).sort((L,Q)=>{var re,H;const $=((re=L.timestamp)==null?void 0:re.seconds)||0,Z=(((H=Q.timestamp)==null?void 0:H.seconds)||0)-$;return Z!==0?Z:L.status==="pending"&&Q.status!=="pending"||L.status==="approved"&&Q.status==="denied"?-1:L.status==="denied"&&Q.status==="approved"?1:0}))}catch(D){console.error("Error deleting request: ",D),f("Error deleting the request. Please try again."),m("error")}l(!0),X()}},V=(D,O,L)=>{x(D),S(O),N(L),a(""),g(!0)},X=()=>{g(!1),x(null),S(null),N(null)},T=()=>{l(!1)};return d.jsxs(se,{sx:{p:Pe[6],backgroundColor:K.background.primary,minHeight:"100vh"},children:[d.jsx(Do,{title:"Educator Permission Requests"}),d.jsx(te,{variant:"body1",sx:{mb:Pe[4],color:K.text.secondary,fontFamily:"Gabarito, sans-serif"},children:"Review and manage educator permission requests from users seeking to become course instructors."}),d.jsx(CJ,{requests:e,loading:!1,onApprove:D=>{const O=e.find(L=>L.id===D);O&&V("approve",D,O)},onDeny:D=>{const O=e.find(L=>L.id===D);O&&V("deny",D,O)},onDelete:D=>{const O=e.find(L=>L.id===D);O&&V("delete",D,O)}}),d.jsx(qu,{open:s,autoHideDuration:6e3,onClose:T,children:d.jsx(Cn,{onClose:T,severity:h,sx:{width:"100%"},children:u})}),d.jsxs(la,{open:b,onClose:X,"aria-labelledby":"confirmation-dialog-title","aria-describedby":"confirmation-dialog-description",children:[d.jsx($a,{id:"confirmation-dialog-title",children:v==="approve"?"Confirm Approval":v==="deny"?"Confirm Denial":"Delete Request"}),d.jsxs(ua,{children:[d.jsx(zu,{id:"confirmation-dialog-description",children:v==="delete"?`Are you sure you want to delete this request for ${A==null?void 0:A.firstName} ${A==null?void 0:A.lastName}? This action cannot be undone.`:`Are you sure you want to ${v} this request for ${A==null?void 0:A.firstName} ${A==null?void 0:A.lastName}?`}),v==="approve"&&(A==null?void 0:A.requestType)==="co-instructor"&&d.jsxs(se,{sx:{mt:2},children:[d.jsx(te,{children:"Select Course:"}),d.jsx(Zc,{fullWidth:!0,value:i,onChange:D=>a(D.target.value),children:t.map(D=>d.jsx(xi,{value:D.id,children:`${D.number} - ${D.title}`},D.id))})]})]}),d.jsxs(Ea,{children:[d.jsx(xt,{onClick:X,color:"primary",children:"Cancel"}),d.jsx(xt,{onClick:v==="approve"?B:v==="deny"?j:F,color:v==="delete"?"error":"primary",variant:"contained",autoFocus:!0,disabled:(A==null?void 0:A.requestType)==="co-instructor"&&v==="approve"&&!i,children:v==="approve"?"Approve":v==="deny"?"Deny":"Delete"})]})]})]})},Tv=e=>{if(e==null)return null;if(e instanceof Date)return e;if(Array.isArray(e))return e.map(Tv).filter(n=>n!=null);if(typeof e=="object"){const n={};return Object.keys(e).forEach(t=>{const r=e[t];if(r!==void 0){const i=Tv(r);i!=null&&(n[t]=i)}}),n}return e},kJ=()=>{const{userDetails:e}=Ii(),n=Na(),t=cr(),[r,i]=M.useState("manual"),[a,s]=M.useState(""),[l,u]=M.useState(""),[f,h]=M.useState(""),{parsedCourseInfo:m,generatedMaterials:b,aiExtractedInfo:g,storedSyllabusFile:v,uploadedFile:x,useAIProcessing:C,reset:S,currentStep:A}=qp(),[N,P]=M.useState(!1),[U,B]=M.useState(!1),[j,F]=M.useState("");M.useEffect(()=>{r==="manual"&&S()},[r,S]),M.useEffect(()=>{r==="syllabus"&&m&&(s(m.suggestedNumber||""),u(m.suggestedTitle||""),h(m.suggestedDescription||""))},[r,m]);const V=Y=>Z=>{Y(Z.target.value)},X=(Y,Z)=>{Z!==null&&(i(Z),Z==="syllabus"&&(s(""),u(""),h("")))},T=()=>{if(r==="manual"){if(!a||!l||!f)return"Please fill in all required fields."}else if(r==="syllabus"){if(!m)return"Please complete the syllabus import process first.";if(!a||!l||!f)return"Please ensure course information is properly filled from your syllabus."}return null},D=Y=>{console.log("Syllabus import completed:",Y)},O=async()=>{const Y=T();if(Y){F(Y),B(!0);return}P(!0);try{const Z={uid:(e==null?void 0:e.uid)||"",courseNumber:a||"",courseTitle:l||"",courseDescription:f||"",status:"pending",timestamp:new Date,syllabusImported:!1};if(r==="syllabus"&&m&&b.length>0){const q=MO(m,b,g,v,x,C),z=Tv(q);Z.syllabusImported=!0,Z.syllabusData=z}const re=Tv(Z);console.log("Submitting clean request document:",re);const H=await Di(mn(t,"courseRequests"),re),me={to:["andriy@intofuture.org"],message:{subject:`New Course Request Submitted${r==="syllabus"?" (With Syllabus Import)":""}`,html:`
            <p>A new course request has been submitted:</p>
            <p><strong>Educator ID:</strong> ${(e==null?void 0:e.uid)||"Unknown"}</p>
            <p><strong>Course:</strong> ${a} - ${l}</p>
            <p><strong>Description:</strong> ${f}</p>
            <p><strong>Creation Method:</strong> ${r==="syllabus"?"Imported from Syllabus":"Manual Entry"}</p>
            ${r==="syllabus"&&b.length>0?`<p><strong>Generated Materials:</strong> ${b.filter(q=>q.published).length} materials ready for publication</p>`:""}
            <p><strong>Request ID:</strong> ${H.id}</p>
            <p><a href="https://nexlab.bio/course-requests">
            Click here to review the request.
            </a></p>
          `}};await Di(mn(t,"mail"),me),F(r==="syllabus"?`Your course request has been submitted for review with ${b.filter(q=>q.published).length} auto-generated materials.`:"Your course request has been submitted for review."),s(""),u(""),h(""),r==="syllabus"&&S(),B(!0),setTimeout(()=>{n("/course-management")},3e3)}catch(Z){console.error("Error submitting course request: ",Z),Z instanceof Error&&console.error("Error details:",{message:Z.message,name:Z.name,stack:Z.stack}),F("Error submitting your course request. Please try again."),B(!0)}finally{P(!1)}},L=()=>{B(!1)},Q=r==="syllabus"&&A!=="upload"&&!m,$=r==="syllabus"&&(A==="review"||A==="editing"||A==="complete")&&m;return d.jsxs(CC,{title:"Request New Course",subtitle:"Create a new course by entering course information manually or importing from a syllabus document.",children:[d.jsx(ah,{title:"Course Creation Method",description:"Choose how you would like to create your course.",children:d.jsxs(an,{sx:{p:3,mb:4,backgroundColor:"grey.50"},children:[d.jsxs(hC,{value:r,exclusive:!0,onChange:X,"aria-label":"course creation mode",fullWidth:!0,sx:{mb:2},children:[d.jsxs(mm,{value:"manual","aria-label":"manual entry",children:[d.jsx(Iu,{sx:{mr:1}}),"Manual Entry"]}),d.jsxs(mm,{value:"syllabus","aria-label":"syllabus import",children:[d.jsx(c_,{sx:{mr:1}}),"Import from Syllabus"]})]}),d.jsx(an,{sx:{p:2,backgroundColor:"primary.50",border:"1px solid",borderColor:"primary.200",fontFamily:xe.fontFamily.primary,fontSize:xe.fontSize.sm,color:K.text.secondary},children:r==="manual"?"Fill out the course information manually using the form below.":"Upload your syllabus document and we'll automatically extract course information and generate materials."})]})}),r==="syllabus"&&d.jsx(ah,{title:"Syllabus Import",description:"Upload your syllabus document to automatically extract course information.",showDivider:!0,children:d.jsx(OO,{onComplete:D,onCancel:()=>i("manual"),educatorUid:e==null?void 0:e.uid})}),r==="manual"&&d.jsxs(ah,{title:"Course Information",description:"Provide the basic details for your course.",showDivider:!0,children:[d.jsxs(et,{container:!0,spacing:3,children:[d.jsx(et,{item:!0,xs:12,md:4,children:d.jsx(ku,{label:"Course Number",value:a,onChange:V(s),required:!0,disabled:N,placeholder:"e.g., BIOL301",helperText:"Enter the official course number or code"})}),d.jsx(et,{item:!0,xs:12,md:8,children:d.jsx(ku,{label:"Course Title",value:l,onChange:V(u),required:!0,disabled:N,placeholder:"e.g., Biotech Research Methods",helperText:"Enter the full course title"})})]}),d.jsx(ku,{label:"Course Description",value:f,onChange:V(h),required:!0,disabled:N,multiline:!0,rows:4,placeholder:"A comprehensive course covering advanced methods and tools in modern biotech labs, focusing on CRISPR, NGS, and bioinformatics.",helperText:"Describe the course content, objectives, and learning outcomes"})]}),(r==="manual"||$)&&d.jsxs(AC,{align:"space-between",children:[d.jsx(ym,{variant:"text",onClick:()=>n("/course-management"),disabled:N,children:"Cancel"}),d.jsx(ym,{variant:"primary",onClick:O,disabled:N||Q,loading:N,children:r==="syllabus"&&b.length>0?`Submit Request with ${b.filter(Y=>Y.published).length} Materials`:"Submit"})]}),d.jsxs(la,{open:U,onClose:L,children:[d.jsx($a,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:d.jsx(yb,{sx:{color:"green",fontSize:50,marginRight:1}})}),d.jsx(ua,{children:d.jsx(zu,{sx:{textAlign:"center"},children:j})}),d.jsx(Ea,{children:d.jsx(xt,{onClick:L,color:"primary",autoFocus:!0,children:"Close"})})]})]})},EJ=({requests:e,loading:n=!1,onApprove:t,onDeny:r,onDelete:i,onViewSyllabus:a})=>{const s=f=>{switch(f.toLowerCase()){case"approved":return"success";case"pending":return"warning";case"denied":return"error";default:return"default"}},l=f=>f.syllabusImported?"Syllabus Import":"Manual Creation",u=[{id:"uid",label:"Educator ID",width:"15%",render:f=>d.jsx(Dp,{userId:f,userType:"educator"})},{id:"courseNumber",label:"Course",width:"25%",render:(f,h)=>d.jsx(_p,{courseId:h.id||"",courseNumber:f,courseTitle:h.courseTitle,variant:"link",maxTitleLength:35})},{id:"courseDescription",label:"Description",width:"15%",render:f=>d.jsx(cs,{text:f,maxLength:60,variant:"secondary"})},{id:"syllabusImported",label:"Creation Method",width:"10%",render:(f,h)=>d.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:1},children:[d.jsx(cs,{text:l(h)}),f&&a&&d.jsx(ni,{title:"View Syllabus Data",children:d.jsx(jn,{size:"small",onClick:()=>a(h),sx:{color:K.primary[600],"&:hover":{backgroundColor:K.primary[100]}},children:d.jsx(tv,{fontSize:"small"})})})]})},{id:"timestamp",label:"Submitted",width:"8%",render:f=>d.jsx(Lm,{date:new Date(f.seconds*1e3),format:"full"})},{id:"status",label:"Status",width:"7%",render:f=>d.jsx(Zv,{label:f,status:s(f)})},{id:"actions",label:"Actions",width:"15%",align:"center",render:(f,h)=>{const m=h.status==="pending",b=h.status==="approved"||h.status==="denied";return d.jsx(Jv,{actions:[{icon:d.jsx(d_,{}),tooltip:m?"Approve Request":"Already processed",onClick:()=>t(h.id),disabled:!m,color:K.success,hoverColor:K.success+"20"},{icon:d.jsx(B1,{}),tooltip:m?"Deny Request":"Already processed",onClick:()=>r(h.id),disabled:!m,color:K.error,hoverColor:K.error+"20"},{icon:d.jsx(Du,{}),tooltip:b?"Delete Request":"Request must be approved or denied first",onClick:()=>i(h.id),disabled:!b,color:K.text.secondary,hoverColor:K.text.secondary+"20"}]})}}];return d.jsx(Np,{data:e,columns:u,loading:n,emptyMessage:"No course creation requests found.",stickyHeader:!1})},jJ=()=>{var F,V,X,T;const[e,n]=M.useState([]),[t,r]=M.useState(!1),[i,a]=M.useState(""),[s,l]=M.useState("success"),[u,f]=M.useState(!1),[h,m]=M.useState(null),[b,g]=M.useState(null),[v,x]=M.useState(null),C=cr();M.useEffect(()=>{(async()=>{try{const L=(await _i(mn(C,"courseRequests"))).docs.map(Q=>({id:Q.id,...Q.data()}));L.sort((Q,$)=>{var H,me;const Y=((H=Q.timestamp)==null?void 0:H.seconds)||0,re=(((me=$.timestamp)==null?void 0:me.seconds)||0)-Y;return re!==0?re:Q.status==="pending"&&$.status!=="pending"||Q.status==="approved"&&$.status==="denied"?-1:Q.status==="denied"&&$.status==="approved"?1:0}),n(L)}catch(O){console.error("Error fetching course requests: ",O)}})()},[C]);function S(){const D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let O="";for(let L=0;L<28;L++)O+=D.charAt(Math.floor(Math.random()*D.length));return O}const A=async()=>{var D,O,L,Q;if(!(!b||!v)){try{const $=S(),Y={number:v.courseNumber,title:v.courseTitle,description:v.courseDescription,passcode:$,courseAdmin:[v.uid],createdAt:new Date,courseCreatedAt:new Date};if(v.syllabusImported&&((D=v.syllabusData)!=null&&D.additionalInfo)){const ne=v.syllabusData.additionalInfo;Y.additionalInfo={contactInfo:ne.contactInfo||{},policies:ne.policies||{},additionalResources:ne.additionalResources||{},labSpecific:ne.labSpecific||{},textbooks:ne.textbooks||[],gradingPolicy:ne.gradingPolicy||[],assignments:ne.assignments||[],prerequisites:ne.prerequisites||[],lastUpdated:new Date}}v.syllabusImported&&((O=v.syllabusData)!=null&&O.syllabusFile)&&(Y.syllabusFile=v.syllabusData.syllabusFile);const Z=await Di(mn(C,"courses"),Y),re=gn(C,"users",v.uid),H=await ja(re),me=H.exists()?((L=H.data())==null?void 0:L.classes)||{}:{};await qr(re,{classes:{...me,[Z.id]:{number:v.courseNumber,title:v.courseTitle,isCourseAdmin:!0,courseCreatedAt:new Date,enrolledAt:new Date}}});let q=0;if(v.syllabusImported&&((Q=v.syllabusData)!=null&&Q.generatedMaterials)){const ne=Yv(C);v.syllabusData.generatedMaterials.forEach((oe,ee)=>{const ge=gn(mn(C,"materials")),de={title:oe.title||"Untitled Material",header:oe.header||{title:"",content:""},footer:oe.footer||{title:"",content:""},sections:(oe.sections||[]).map(ye=>({...ye,images:ye.images||[],links:ye.links||[],subsections:(ye.subsections||[]).map(we=>({...we,images:we.images||[],links:we.links||[],subSubsections:(we.subSubsections||[]).map(ve=>({...ve,images:ve.images||[],links:ve.links||[]}))}))})),published:!0,course:Z.id,author:v.uid,timestamp:Ni.now(),sequenceNumber:ee,createdAt:new Date,updatedAt:new Date};if(oe.scheduledTimestamp)try{const ye=oe.scheduledTimestamp instanceof Date?oe.scheduledTimestamp:new Date(oe.scheduledTimestamp);isNaN(ye.getTime())?console.warn(`Invalid scheduledTimestamp for material "${oe.title}", skipping...`):de.scheduledTimestamp=Ni.fromDate(ye)}catch(ye){console.warn(`Error converting scheduledTimestamp for material "${oe.title}":`,ye)}ne.set(ge,de),q++}),await ne.commit(),console.log(`Created ${q} materials from syllabus`)}await qr(gn(C,"courseRequests",b),{status:"approved",courseId:Z.id,passcode:$});const z={to:["andriy@intofuture.org"],message:{subject:"Your Course Request Has Been Approved",html:`
            <p>Your course request has been approved:</p>
            <p><strong>Course:</strong> ${v.courseNumber} - ${v.courseTitle}</p>
            <p><strong>Passcode:</strong> ${$}</p>
            ${v.syllabusImported&&q>0?`<p><strong>Materials Created:</strong> ${q} materials have been automatically added to your course from your syllabus import.</p>`:""}
            <p><a href="https://nexlab.bio/supplemental-materials">
            Click here to view your course.
            </a></p>
          `}};await Di(mn(C,"mail"),z),a(`Course request approved, course added${q>0?` with ${q} materials`:""}.`),l("success"),n(ne=>ne.map(ee=>ee.id===b?{...ee,status:"approved"}:ee).sort((ee,ge)=>{var ve,je;const de=((ve=ee.timestamp)==null?void 0:ve.seconds)||0,we=(((je=ge.timestamp)==null?void 0:je.seconds)||0)-de;return we!==0?we:ee.status==="pending"&&ge.status!=="pending"||ee.status==="approved"&&ge.status==="denied"?-1:ee.status==="denied"&&ge.status==="approved"?1:0}))}catch($){console.error("Error approving request: ",$),a("Error approving the request. Please try again."),l("error")}r(!0),B()}},N=async()=>{if(b){try{await qr(gn(C,"courseRequests",b),{status:"denied"}),a("Course request denied."),l("success"),n(D=>D.map(L=>L.id===b?{...L,status:"denied"}:L).sort((L,Q)=>{var re,H;const $=((re=L.timestamp)==null?void 0:re.seconds)||0,Z=(((H=Q.timestamp)==null?void 0:H.seconds)||0)-$;return Z!==0?Z:L.status==="pending"&&Q.status!=="pending"||L.status==="approved"&&Q.status==="denied"?-1:L.status==="denied"&&Q.status==="approved"?1:0}))}catch(D){console.error("Error denying request: ",D),a("Error denying the request. Please try again."),l("error")}r(!0),B()}},P=async()=>{if(b){try{await Wv(gn(C,"courseRequests",b)),a("Course request deleted successfully."),l("success"),n(D=>D.filter(L=>L.id!==b).sort((L,Q)=>{var re,H;const $=((re=L.timestamp)==null?void 0:re.seconds)||0,Z=(((H=Q.timestamp)==null?void 0:H.seconds)||0)-$;return Z!==0?Z:L.status==="pending"&&Q.status!=="pending"||L.status==="approved"&&Q.status==="denied"?-1:L.status==="denied"&&Q.status==="approved"?1:0}))}catch(D){console.error("Error deleting request: ",D),a("Error deleting the request. Please try again."),l("error")}r(!0),B()}},U=(D,O,L)=>{m(D),g(O),x(L),f(!0)},B=()=>{f(!1),m(null),g(null),x(null)},j=()=>{r(!1)};return d.jsxs(se,{sx:{p:Pe[6],backgroundColor:K.background.primary,minHeight:"100vh"},children:[d.jsx(Do,{title:"Course Creation Requests"}),d.jsx(te,{variant:"body1",sx:{mb:Pe[4],color:K.text.secondary,fontFamily:"Gabarito, sans-serif"},children:"Review and approve course creation requests from educators."}),d.jsx(EJ,{requests:e,loading:!1,onApprove:D=>{const O=e.find(L=>L.id===D);O&&U("approve",D,O)},onDeny:D=>{const O=e.find(L=>L.id===D);O&&U("deny",D,O)},onDelete:D=>{const O=e.find(L=>L.id===D);O&&U("delete",D,O)},onViewSyllabus:D=>{var O;(O=D.syllabusData)!=null&&O.syllabusFile&&typeof D.syllabusData.syllabusFile=="object"&&D.syllabusData.syllabusFile!==null&&"url"in D.syllabusData.syllabusFile&&window.open(D.syllabusData.syllabusFile.url,"_blank")}}),d.jsxs(la,{open:u,onClose:B,children:[d.jsx($a,{children:h==="approve"?"Approve Course Request":h==="deny"?"Deny Course Request":"Delete Course Request"}),d.jsx(ua,{children:d.jsx(zu,{children:h==="approve"?d.jsxs(d.Fragment,{children:["Are you sure you want to approve this course request?",(v==null?void 0:v.syllabusImported)&&d.jsxs(se,{sx:{mt:2,p:2,backgroundColor:"#ECF4FE",borderRadius:1},children:[d.jsx(te,{variant:"body2",sx:{fontWeight:"bold"},children:" Syllabus Import Detected"}),d.jsxs(te,{variant:"body2",children:["This request includes ",((V=(F=v==null?void 0:v.syllabusData)==null?void 0:F.generatedMaterials)==null?void 0:V.length)||0," auto-generated materials that will be added to the course."]}),((X=v==null?void 0:v.syllabusData)==null?void 0:X.syllabusFile)&&d.jsxs(se,{sx:{mt:1},children:[d.jsxs(te,{variant:"body2",sx:{mb:1},children:[d.jsx("strong",{children:"Syllabus File:"})," ",v.syllabusData.syllabusFile.metadata.originalFilename," ","(",(v.syllabusData.syllabusFile.metadata.fileSize/1024/1024).toFixed(2)," MB)"]}),d.jsx(xt,{size:"small",variant:"outlined",startIcon:d.jsx(q1,{}),onClick:()=>{var D;(D=v.syllabusData)!=null&&D.syllabusFile&&"url"in v.syllabusData.syllabusFile&&window.open(v.syllabusData.syllabusFile.url,"_blank")},sx:{mt:.5},children:"View/Download Syllabus"})]}),((T=v==null?void 0:v.syllabusData)==null?void 0:T.additionalInfo)&&d.jsxs(te,{variant:"body2",sx:{mt:1},children:[d.jsx("strong",{children:"Additional Info:"})," Contact info, policies, textbooks, and other course details extracted"]})]})]}):h==="deny"?"Are you sure you want to deny this course request?":"Are you sure you want to delete this course request? This action cannot be undone."})}),d.jsxs(Ea,{children:[d.jsx(xt,{onClick:B,color:"primary",children:"Cancel"}),d.jsx(xt,{onClick:h==="approve"?A:h==="deny"?N:P,color:h==="approve"?"success":"error",variant:"contained",children:h==="approve"?"Approve":h==="deny"?"Deny":"Delete"})]})]}),d.jsx(qu,{open:t,autoHideDuration:6e3,onClose:j,children:d.jsx(Cn,{onClose:j,severity:s,sx:{width:"100%"},children:i})})]})},TJ=({courses:e,loading:n=!1,onAddSuperAdmin:t,onDeleteCourse:r,onTogglePublic:i,userUid:a})=>{const s=h=>!!a&&h.courseAdmin.includes(a),l=h=>h.length===0?d.jsx(cs,{text:"No admins assigned",variant:"secondary"}):d.jsx(se,{sx:{display:"flex",flexDirection:"column",gap:Pe[1]},children:h.map((m,b)=>d.jsx(Dp,{userId:m,userType:"educator"},b))}),u=h=>{const m=h.courseCreatedAt||h.createdAt||h.timestamp;if(!m)return d.jsx(cs,{text:"Unknown",variant:"secondary"});const b=m.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return d.jsx(cs,{text:b})},f=[{id:"number",label:"Course",width:"25%",render:(h,m)=>{const b=s(m);return d.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:Pe[2]},children:[d.jsx(_p,{courseId:m.id,courseNumber:h,courseTitle:m.title,variant:"link",maxTitleLength:999}),b&&d.jsx(Rn,{label:"ADMIN",size:"small",sx:{backgroundColor:K.success,color:K.text.inverse,fontSize:xe.fontSize.xs,fontWeight:xe.fontWeight.bold,height:"20px"}}),m.isPublic&&d.jsx(Rn,{icon:d.jsx(gP,{sx:{fontSize:14,color:`${K.warning} !important`}}),label:"PUBLIC",size:"small",sx:{backgroundColor:K.warning+"20",color:K.warning,fontSize:xe.fontSize.xs,fontWeight:xe.fontWeight.bold,height:"20px"}})]})}},{id:"id",label:"Course ID",width:"12%",render:h=>d.jsx(J_,{courseId:h})},{id:"isPublic",label:"Public Access",width:"10%",align:"center",render:(h,m)=>d.jsx(ni,{title:m.isPublic?"Click to make this course private":"Click to make this course public (visible to all users)",children:d.jsx(zc,{checked:m.isPublic||!1,onChange:()=>i(m.id),size:"small",sx:{"& .MuiSwitch-switchBase.Mui-checked":{color:K.warning},"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track":{backgroundColor:K.warning}}})})},{id:"createdAt",label:"Created",width:"18%",render:(h,m)=>u(m)},{id:"courseAdmin",label:"Course Admins",width:"20%",render:h=>l(h)},{id:"actions",label:"Actions",width:"15%",align:"center",render:(h,m)=>{const b=s(m);return d.jsx(Jv,{actions:[{icon:PS.add,tooltip:b?"Already an instructor":"Add yourself as an instructor",onClick:()=>t(m.id),disabled:b,color:K.success,hoverColor:K.success+"20"},{icon:PS.delete,tooltip:b?"Delete this course":"You are not authorized to delete this course",onClick:()=>r(m.id),disabled:!b,color:K.error,hoverColor:K.error+"20"}]})}}];return d.jsx(Np,{data:e,columns:f,loading:n,emptyMessage:"No courses found.",stickyHeader:!1,showRowNumbers:!0})},NJ=()=>{const e=cr(),{userDetails:n}=Ii(),[t,r]=M.useState([]),[i,a]=M.useState(!0),[s,l]=M.useState(!1),[u,f]=M.useState(""),[h,m]=M.useState("info"),[b,g]=M.useState(!1),[v,x]=M.useState(""),[C,S]=M.useState("");Na(),M.useEffect(()=>{(async()=>{a(!0);try{const D=(await _i(mn(e,"courses"))).docs.map(O=>{const L=O.data(),Q=$=>{if($){if($ instanceof Date)return $;if($ instanceof Ni)return $.toDate();if($.seconds)return new Ni($.seconds,$.nanoseconds||0).toDate()}};return{id:O.id,title:L.title||"Untitled",number:L.number||"N/A",courseAdmin:L.courseAdmin||[],isPublic:L.isPublic||!1,createdAt:Q(L.createdAt),courseCreatedAt:Q(L.courseCreatedAt),timestamp:Q(L.timestamp)}}).sort((O,L)=>{const Q=O.courseCreatedAt||O.createdAt||O.timestamp,$=L.courseCreatedAt||L.createdAt||L.timestamp;return!Q&&!$?0:Q?$?$.getTime()-Q.getTime():-1:1});r(D)}catch(X){console.error("Error fetching courses: ",X)}finally{a(!1)}})()},[e]);const A=async V=>{if(!n){B("User details are not available.","error");return}const X=t.find(T=>T.id===V);if(X&&n)try{if(X.courseAdmin.includes(n.uid)){B("You are already an admin for this course.","warning");return}const T=gn(e,"courses",V),D=[...X.courseAdmin,n.uid];await qr(T,{courseAdmin:D});const O=await ja(T),L=O.exists()?O.data():null,Q=(L==null?void 0:L.courseCreatedAt)||(L==null?void 0:L.createdAt)||(L==null?void 0:L.timestamp)||new Date,$=gn(e,"users",n.uid);await qr($,{[`classes.${V}`]:{number:X.number,title:X.title,isCourseAdmin:!0,courseCreatedAt:Q,enrolledAt:new Date}}),r(t.map(Y=>Y.id===V?{...Y,courseAdmin:D}:Y)),B("You have been successfully added as an admin to this course.","success")}catch(T){console.error("Error adding super-admin to course: ",T),B("Failed to add admin to course.","error")}},N=V=>{S(V),g(!0)},P=async V=>{const X=t.find(D=>D.id===V);if(!X)return;const T=!X.isPublic;try{const D=gn(e,"courses",V);await qr(D,{isPublic:T}),r(t.map(O=>O.id===V?{...O,isPublic:T}:O)),B(T?`Course "${X.number}" is now public. New users will automatically have access.`:`Course "${X.number}" is no longer public.`,"success")}catch(D){console.error("Error toggling public status:",D),B("Failed to update public status.","error")}},U=async()=>{if(n&&v===n.uid){const V=t.find(X=>X.id===C);if(V&&V.courseAdmin.includes(n.uid))try{await Wv(gn(e,"courses",C));const X=await _i(mn(e,"users")),T=Yv(e);X.forEach(D=>{const O=gn(e,"users",D.id),Q={...D.data().classes};delete Q[C],T.update(O,{classes:Q})}),await T.commit(),r(t.filter(D=>D.id!==C)),B("Course deleted successfully.","success")}catch(X){console.error("Error deleting course: ",X),B("Failed to delete course.","error")}finally{g(!1),x("")}else B("You are not authorized to delete this course.","warning"),g(!1)}else B("User ID does not match. Please try again.","error")},B=(V,X)=>{f(V),m(X),l(!0)},j=(V,X)=>{X!=="clickaway"&&l(!1)},F=()=>{g(!1),x("")};return d.jsxs(se,{sx:{p:Pe[6],backgroundColor:K.background.primary,minHeight:"100vh"},children:[d.jsx(Do,{title:"Super Admin Course Management"}),d.jsx(te,{variant:"body1",sx:{mb:Pe[4],color:K.text.secondary},children:"Manage all courses in the system. Add yourself as an instructor or delete courses you manage."}),d.jsx(TJ,{courses:t,loading:i,onAddSuperAdmin:A,onDeleteCourse:N,onTogglePublic:P,userUid:n==null?void 0:n.uid}),d.jsx(qu,{open:s,autoHideDuration:6e3,onClose:j,children:d.jsx(Cn,{onClose:j,severity:h,sx:{width:"100%"},children:u})}),d.jsxs(la,{open:b,onClose:F,children:[d.jsx($a,{children:"Confirm Delete"}),d.jsxs(ua,{children:[d.jsx(zu,{children:"To confirm the deletion of this course, please enter your User ID:"}),d.jsx(tn,{autoFocus:!0,margin:"dense",id:"userId",label:"User ID",type:"text",fullWidth:!0,variant:"outlined",value:v,onChange:V=>x(V.target.value)})]}),d.jsxs(Ea,{children:[d.jsx(xt,{onClick:F,color:"primary",children:"Cancel"}),d.jsx(xt,{onClick:U,color:"primary",children:"Confirm"})]})]})]})},DJ=({requests:e,loading:n=!1})=>{const t=i=>{switch(i.toLowerCase()){case"approved":return"success";case"pending":return"warning";case"denied":return"error";default:return"default"}},r=[{id:"title",label:"Title",width:"25%",render:i=>d.jsx(cs,{text:i,maxLength:50,weight:"semibold"})},{id:"courseNumber",label:"Course",width:"20%",render:(i,a)=>d.jsx(_p,{courseId:a.courseId||"",courseNumber:i,courseTitle:a.courseTitle,variant:"link",maxTitleLength:30})},{id:"materialTitle",label:"Material",width:"20%",render:(i,a)=>i&&a.materialId?d.jsx(X_,{materialId:a.materialId,materialTitle:i,variant:"link",maxTitleLength:999}):d.jsx(cs,{text:"N/A",variant:"secondary"})},{id:"timestamp",label:"Submitted",width:"15%",render:i=>d.jsx(Lm,{date:new Date(i),format:"full"})},{id:"status",label:"Status",width:"10%",render:i=>d.jsx(Zv,{label:i,status:t(i)})},{id:"files",label:"Files",width:"10%",render:i=>d.jsxs(se,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[i&&i.length>0?i.slice(0,2).map((a,s)=>d.jsxs(Hv,{href:a,target:"_blank",rel:"noopener noreferrer",sx:{fontSize:"0.75rem",color:K.primary[600],textDecoration:"none","&:hover":{textDecoration:"underline"}},children:["File ",s+1]},s)):d.jsx(cs,{text:"No files",variant:"secondary"}),i&&i.length>2&&d.jsx(cs,{text:`+${i.length-2} more`,variant:"secondary"})]})}];return d.jsx(Np,{data:e,columns:r,loading:n,emptyMessage:"No chatbot requests found. Submit your first request to get started!",stickyHeader:!0})},_J=()=>{const{userDetails:e}=Ii(),[n,t]=M.useState([]),[r,i]=M.useState(!0);return M.useEffect(()=>{(async()=>{if(!(e!=null&&e.uid))return;const s=cr(),l=mn(s,"chatbotRequests"),u=Hl(l,Hi("educatorId","==",e.uid));try{const h=(await _i(u)).docs.map(m=>({id:m.id,...m.data()}));t(h)}catch(f){console.error("Error fetching chatbot requests:",f)}finally{i(!1)}})()},[e==null?void 0:e.uid]),r?d.jsx(se,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:d.jsx(pi,{})}):n.length===0?d.jsx(te,{variant:"body1",sx:{textAlign:"center",mt:4},children:"No chatbot requests found."}):d.jsxs(se,{sx:{mt:Pe[6]},children:[d.jsx(te,{variant:"h5",sx:{mb:Pe[4],fontFamily:xe.fontFamily.display,fontWeight:xe.fontWeight.bold,color:K.primary[500]},children:"Your Chatbot Requests"}),d.jsx(DJ,{requests:n,loading:r})]})},IJ=()=>{const e=Na();return d.jsxs(se,{className:"profile-container",sx:{p:4},children:[d.jsx(Do,{title:"Chatbot Management"}),d.jsx(te,{variant:"body1",className:"profile-text",sx:{mb:3},children:"Manage your chatbots or create new chatbot requests."}),d.jsx(xt,{variant:"contained",onClick:()=>e("/request-chatbot"),sx:{mt:2},className:"submit-button",children:"Request a New Chatbot"}),d.jsx(_J,{})]})},OJ=({folderPath:e,onUploadComplete:n})=>{const[t,r]=M.useState(!1),[i,a]=M.useState([]),[s,l]=M.useState(null),u=5*1024*1024,f=[".pdf",".ppt",".pptx",".doc",".docx",".txt"],h=async m=>{if(!m.target.files)return;const b=Array.from(m.target.files),g=jp(),v=[];r(!0),l(null);try{for(const x of b){const C=x.name.slice(x.name.lastIndexOf(".")).toLowerCase();if(!f.includes(C)){l(`File ${x.name} is not a supported format.`);continue}if(x.size>u){l(`File ${x.name} exceeds the 5 MB limit and cannot be uploaded.`);continue}const S=Lc(g,`${e}/files/${x.name}`);await rh(S,x);const A=await ih(S);v.push(A)}a(x=>[...x,...b]),n(v)}catch(x){console.error("Error uploading files:",x),l("Failed to upload files. Please try again.")}finally{r(!1)}};return d.jsxs(se,{children:[d.jsx("input",{type:"file",accept:".pdf,.ppt,.pptx,.doc,.docx,.txt",multiple:!0,onChange:h,style:{display:"none"},id:"file-upload"}),d.jsx("label",{htmlFor:"file-upload",children:d.jsx(xt,{variant:"contained",component:"span",disabled:t,startIcon:t?d.jsx(pi,{size:20}):null,children:t?"Uploading...":"Select and Upload Files"})}),s&&d.jsx(Cn,{severity:"error",sx:{mt:2},children:s}),d.jsx(se,{sx:{marginTop:2},children:i.map((m,b)=>d.jsx(te,{children:m.name},b))})]})},MJ=Tp()(kb((e,n)=>({materials:[],selectedCourse:null,loading:!1,error:null,isEditing:!1,selectedMaterial:null,setMaterials:t=>e({materials:t}),addMaterial:t=>e(r=>({materials:[...r.materials,t]})),updateMaterial:(t,r)=>e(i=>({materials:i.materials.map(a=>a.id===t?{...a,...r}:a)})),deleteMaterial:t=>e(r=>({materials:r.materials.filter(i=>i.id!==t)})),setSelectedCourse:t=>e({selectedCourse:t}),setLoading:t=>e({loading:t}),setError:t=>e({error:t}),setIsEditing:t=>e({isEditing:t}),setSelectedMaterial:t=>e({selectedMaterial:t}),fetchMaterials:async t=>{e({loading:!0,error:null});try{const{db:r}=await Ti(async()=>{const{db:h}=await Promise.resolve().then(()=>pp);return{db:h}},void 0),{collection:i,query:a,where:s,onSnapshot:l,orderBy:u}=await Ti(async()=>{const{collection:h,query:m,where:b,onSnapshot:g,orderBy:v}=await import("./firebase-Bm-nAVUv.js").then(x=>x.N);return{collection:h,query:m,where:b,onSnapshot:g,orderBy:v}},[]),f=a(i(r,"materials"),s("course","==",t));return new Promise(h=>{l(f,m=>{const g=m.docs.map(v=>({id:v.id,...v.data()})).sort((v,x)=>v.sequenceNumber!==void 0&&x.sequenceNumber!==void 0?v.sequenceNumber-x.sequenceNumber:v.sequenceNumber!==void 0?-1:x.sequenceNumber!==void 0?1:x.timestamp.toMillis()-v.timestamp.toMillis());e({materials:g,loading:!1}),h(void 0)})})}catch(r){e({error:r instanceof Error?r.message:"Failed to fetch materials",loading:!1})}},publishMaterial:async t=>{try{const{db:r}=await Ti(async()=>{const{db:s}=await Promise.resolve().then(()=>pp);return{db:s}},void 0),{doc:i,updateDoc:a}=await Ti(async()=>{const{doc:s,updateDoc:l}=await import("./firebase-Bm-nAVUv.js").then(u=>u.N);return{doc:s,updateDoc:l}},[]);await a(i(r,"materials",t),{published:!0}),n().updateMaterial(t,{published:!0})}catch{e({error:"Failed to publish material"})}},unpublishMaterial:async t=>{try{const{db:r}=await Ti(async()=>{const{db:s}=await Promise.resolve().then(()=>pp);return{db:s}},void 0),{doc:i,updateDoc:a}=await Ti(async()=>{const{doc:s,updateDoc:l}=await import("./firebase-Bm-nAVUv.js").then(u=>u.N);return{doc:s,updateDoc:l}},[]);await a(i(r,"materials",t),{published:!1}),n().updateMaterial(t,{published:!1})}catch{e({error:"Failed to unpublish material"})}}}))),LJ=()=>{const{userDetails:e}=Ii(),n=Na(),t=cr(),[r,i]=M.useState(""),[a,s]=M.useState(""),[l,u]=M.useState(""),[f,h]=M.useState([]),[m,b]=M.useState(!1),[g,v]=M.useState(""),[x,C]=M.useState("success"),{materials:S,loading:A,error:N,fetchMaterials:P}=MJ(),U=Object.entries((e==null?void 0:e.classes)||{}).filter(([X,T])=>T.isCourseAdmin).map(([X,T])=>({id:X,number:T.number,title:T.title,isCourseAdmin:T.isCourseAdmin}));M.useEffect(()=>{u(""),a&&P(a)},[a,P]);const B=X=>{h(T=>[...T,...X])},j=async()=>{var Q;if(!r||!a||!l||f.length===0){v("Please fill all required fields and upload at least one file."),C("error"),b(!0);return}const X=(Q=e==null?void 0:e.classes)==null?void 0:Q[a];if(!X||!X.isCourseAdmin){v("You are not authorized to request a chatbot for this course."),C("error"),b(!0);return}const T=(X==null?void 0:X.number)??"N/A",D=(X==null?void 0:X.title)??"Untitled Course",O=S.find($=>$.id===l);if(!O){v("Selected material details could not be found."),C("error"),b(!0);return}const{title:L}=O;try{const $=await Di(mn(t,"chatbotRequests"),{educatorId:e==null?void 0:e.uid,courseId:a,courseNumber:T,courseTitle:D,materialId:l,materialTitle:L,title:r,files:f,status:"pending",timestamp:new Date().toISOString()});await Di(mn(t,"mail"),{to:["andriy@intofuture.org"],message:{subject:"New Chatbot Request Submitted",html:`
            <p>A new chatbot request has been submitted:</p>
            <p><strong>Title:</strong> ${r}</p>
            <p><strong>Educator ID:</strong> ${e==null?void 0:e.uid}</p>
            <p><strong>Course:</strong> ${T} - ${D}</p>
            <p><strong>Material:</strong> ${L}</p>
            <p><strong>Request ID:</strong> ${$.id}</p>
            <p><a href="https://nexlab.bio/super-admin-chatbot-requests">
            Click here to review the request.
            </a></p>
          `}}),v("Chatbot request submitted successfully!"),C("success"),b(!0),setTimeout(()=>n("/chatbot-management"),1500)}catch($){console.error("Error submitting chatbot request:",$),v("Failed to submit the chatbot request. Please try again."),C("error"),b(!0)}},F=()=>{n("/chatbot-management")},V=()=>{b(!1)};return d.jsxs(CC,{title:"Create a Chatbot",subtitle:"Fill out the form below to request a chatbot. Please upload all related materials for the chatbot's knowledge base.",children:[d.jsxs(ah,{title:"Basic Information",description:"Provide the basic details for your chatbot request.",children:[d.jsx(ku,{label:"Chatbot Title",value:r,onChange:X=>i(X.target.value),required:!0,placeholder:"Enter a descriptive title for your chatbot",helperText:"Choose a clear, descriptive name that reflects the chatbot's purpose"}),d.jsxs(et,{container:!0,spacing:3,children:[d.jsx(et,{item:!0,xs:12,md:6,children:d.jsx(Mm,{value:a,onChange:s,courses:U,label:"Course",placeholder:"Select a course",helperText:"Only courses where you are an admin are available for chatbot requests.",required:!0,showNumber:!0,showTitle:!0,showAdminBadge:!1})}),d.jsx(et,{item:!0,xs:12,md:6,children:d.jsx(rz,{value:l,onChange:u,materials:S.map(X=>({id:X.id,title:X.title,course:X.course})),label:"Material",placeholder:"Select a material",helperText:a?N||(A?"Loading materials...":S.length===0?"No materials available for this course.":"Select the primary material for your chatbot"):"Please select a course first.",required:!0,disabled:!a||A,loading:A,error:!!N})})]})]}),d.jsx(ah,{title:"Additional Materials",description:"Upload additional files to enhance your chatbot's knowledge base. Supported formats: PDF, PPT, DOC/DOCX, TXT.",showDivider:!0,children:d.jsx(OJ,{folderPath:`chatbotRequests/${e==null?void 0:e.uid}`,onUploadComplete:B})}),d.jsxs(AC,{align:"space-between",children:[d.jsx(ym,{variant:"text",onClick:F,children:"Cancel"}),d.jsx(ym,{variant:"primary",onClick:j,disabled:!r||!a||!l||f.length===0,children:"Submit"})]}),d.jsx(qu,{open:m,autoHideDuration:6e3,onClose:V,children:d.jsx(Cn,{severity:x,onClose:V,children:g})})]})},LO=Be.oneOfType([Be.func,Be.object]);function ib(e,n,t){return typeof e=="function"?e(n,t):e}const Yg=(e,n)=>e.length!==n.length?!1:n.every(t=>e.includes(t)),RJ=({openTo:e,defaultOpenTo:n,views:t,defaultViews:r})=>{const i=t??r;let a;if(e!=null)a=e;else if(i.includes(n))a=n;else if(i.length>0)a=i[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:i,openTo:a}},Nv=(e,n,t)=>{let r=n;return r=e.setHours(r,e.getHours(t)),r=e.setMinutes(r,e.getMinutes(t)),r=e.setSeconds(r,e.getSeconds(t)),r=e.setMilliseconds(r,e.getMilliseconds(t)),r},ab=({date:e,disableFuture:n,disablePast:t,maxDate:r,minDate:i,isDateDisabled:a,adapter:s,timezone:l})=>{const u=Nv(s,s.date(void 0,l),e);t&&s.isBefore(i,u)&&(i=u),n&&s.isAfter(r,u)&&(r=u);let f=e,h=e;for(s.isBefore(e,i)&&(f=i,h=null),s.isAfter(e,r)&&(h&&(h=r),f=null);f||h;){if(f&&s.isAfter(f,r)&&(f=null),h&&s.isBefore(h,i)&&(h=null),f){if(!a(f))return f;f=s.addDays(f,1)}if(h){if(!a(h))return h;h=s.addDays(h,-1)}}return null},PJ=(e,n)=>e.isValid(n)?n:null,oT=(e,n,t)=>n==null||!e.isValid(n)?t:n,FJ=(e,n,t)=>!e.isValid(n)&&n!=null&&!e.isValid(t)&&t!=null?!0:e.isEqual(n,t),fA=(e,n)=>{const r=[e.startOfYear(n)];for(;r.length<12;){const i=r[r.length-1];r.push(e.addMonths(i,1))}return r},RO=(e,n,t)=>t==="date"?e.startOfDay(e.date(void 0,n)):e.date(void 0,n),zJ=["year","month","day"],lT=e=>zJ.includes(e),hA=(e,{format:n,views:t},r)=>{if(n!=null)return n;const i=e.formats;return Yg(t,["year"])?i.year:Yg(t,["month"])?i.month:Yg(t,["day"])?i.dayOfMonth:Yg(t,["month","year"])?`${i.month} ${i.year}`:Yg(t,["day","month"])?`${i.month} ${i.dayOfMonth}`:r?/en/.test(e.getCurrentLocaleCode())?i.normalDateWithWeekday:i.normalDate:i.keyboardDate},qJ=(e,n)=>{const t=e.startOfWeek(n);return[0,1,2,3,4,5,6].map(r=>e.addDays(t,r))},BJ=["hours","minutes","seconds"],$J=e=>BJ.includes(e),uT=(e,n)=>n.getHours(e)*3600+n.getMinutes(e)*60+n.getSeconds(e),UJ=(e,n)=>(t,r)=>e?n.isAfter(t,r):uT(t,n)>uT(r,n),kc={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},HJ=e=>Math.max(...e.map(n=>kc[n.type]??1)),Gg=(e,n,t)=>{if(n===kc.year)return e.startOfYear(t);if(n===kc.month)return e.startOfMonth(t);if(n===kc.day)return e.startOfDay(t);let r=t;return n<kc.minutes&&(r=e.setMinutes(r,0)),n<kc.seconds&&(r=e.setSeconds(r,0)),n<kc.milliseconds&&(r=e.setMilliseconds(r,0)),r},VJ=({props:e,adapter:n,granularity:t,timezone:r,getTodayDate:i})=>{let a=i?i():Gg(n,t,RO(n,r));e.minDate!=null&&n.isAfterDay(e.minDate,a)&&(a=Gg(n,t,e.minDate)),e.maxDate!=null&&n.isBeforeDay(e.maxDate,a)&&(a=Gg(n,t,e.maxDate));const s=UJ(e.disableIgnoringDatePartForTimeValidation??!1,n);return e.minTime!=null&&s(e.minTime,a)&&(a=Gg(n,t,e.disableIgnoringDatePartForTimeValidation?e.minTime:Nv(n,a,e.minTime))),e.maxTime!=null&&s(a,e.maxTime)&&(a=Gg(n,t,e.disableIgnoringDatePartForTimeValidation?e.maxTime:Nv(n,a,e.maxTime))),a},PO=(e,n)=>{const t=e.formatTokenMap[n];if(t==null)throw new Error([`MUI X: The token "${n}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof t=="string"?{type:t,contentType:t==="meridiem"?"letter":"digit",maxLength:void 0}:{type:t.sectionType,contentType:t.contentType,maxLength:t.maxLength}},v2=(e,n)=>{const t=[],r=e.date(void 0,"default"),i=e.startOfWeek(r),a=e.endOfWeek(r);let s=i;for(;e.isBefore(s,a);)t.push(s),s=e.addDays(s,1);return t.map(l=>e.formatByString(l,n))},FO=(e,n,t,r)=>{switch(t){case"month":return fA(e,e.date(void 0,n)).map(i=>e.formatByString(i,r));case"weekDay":return v2(e,r);case"meridiem":{const i=e.date(void 0,n);return[e.startOfDay(i),e.endOfDay(i)].map(a=>e.formatByString(a,r))}default:return[]}},cT="s",WJ=["0","1","2","3","4","5","6","7","8","9"],YJ=e=>{const n=e.date(void 0);return e.formatByString(e.setSeconds(n,0),cT)==="0"?WJ:Array.from({length:10}).map((r,i)=>e.formatByString(e.setSeconds(n,i),cT))},kp=(e,n)=>{if(n[0]==="0")return e;const t=[];let r="";for(let i=0;i<e.length;i+=1){r+=e[i];const a=n.indexOf(r);a>-1&&(t.push(a.toString()),r="")}return t.join("")},pA=(e,n)=>n[0]==="0"?e:e.split("").map(t=>n[Number(t)]).join(""),dT=(e,n)=>{const t=kp(e,n);return t!==" "&&!Number.isNaN(Number(t))},mA=(e,n)=>Number(e).toString().padStart(n,"0"),zO=(e,n,t,r,i)=>{if(i.type==="day"&&i.contentType==="digit-with-letter"){const s=e.setDate(t.longestMonth,n);return e.formatByString(s,i.format)}let a=n.toString();return i.hasLeadingZerosInInput&&(a=mA(a,i.maxLength)),pA(a,r)},gA=(e,n,t)=>{let r=e.value||e.placeholder;const i=n==="non-input"?e.hasLeadingZerosInFormat:e.hasLeadingZerosInInput;return n==="non-input"&&e.hasLeadingZerosInInput&&!e.hasLeadingZerosInFormat&&(r=Number(kp(r,t)).toString()),["input-rtl","input-ltr"].includes(n)&&e.contentType==="digit"&&!i&&r.length===1&&(r=`${r}`),n==="input-rtl"&&(r=`${r}`),r},fT=(e,n,t,r)=>e.formatByString(e.parse(n,t),r),GJ=(e,n)=>e.formatByString(e.date(void 0,"system"),n).length===4,qO=(e,n,t,r)=>{if(n!=="digit")return!1;const i=e.date(void 0,"default");switch(t){case"year":return e.lib==="dayjs"&&r==="YY"?!0:e.formatByString(e.setYear(i,1),r).startsWith("0");case"month":return e.formatByString(e.startOfYear(i),r).length>1;case"day":return e.formatByString(e.startOfMonth(i),r).length>1;case"weekDay":return e.formatByString(e.startOfWeek(i),r).length>1;case"hours":return e.formatByString(e.setHours(i,1),r).length>1;case"minutes":return e.formatByString(e.setMinutes(i,1),r).length>1;case"seconds":return e.formatByString(e.setSeconds(i,1),r).length>1;default:throw new Error("Invalid section type")}},QJ=(e,n,t)=>{const r=n.some(u=>u.type==="day"),i=[],a=[];for(let u=0;u<n.length;u+=1){const f=n[u];r&&f.type==="weekDay"||(i.push(f.format),a.push(gA(f,"non-input",t)))}const s=i.join(" "),l=a.join(" ");return e.parse(l,s)},KJ=e=>e.map(n=>`${n.startSeparator}${n.value||n.placeholder}${n.endSeparator}`).join(""),XJ=(e,n,t)=>{const i=e.map(a=>{const s=gA(a,t?"input-rtl":"input-ltr",n);return`${a.startSeparator}${s}${a.endSeparator}`}).join("");return t?`${i}`:i},ZJ=(e,n,t)=>{const r=e.date(void 0,t),i=e.endOfYear(r),a=e.endOfDay(r),{maxDaysInMonth:s,longestMonth:l}=fA(e,r).reduce((u,f)=>{const h=e.getDaysInMonth(f);return h>u.maxDaysInMonth?{maxDaysInMonth:h,longestMonth:f}:u},{maxDaysInMonth:0,longestMonth:null});return{year:({format:u})=>({minimum:0,maximum:GJ(e,u)?9999:99}),month:()=>({minimum:1,maximum:e.getMonth(i)+1}),day:({currentDate:u})=>({minimum:1,maximum:e.isValid(u)?e.getDaysInMonth(u):s,longestMonth:l}),weekDay:({format:u,contentType:f})=>{if(f==="digit"){const h=v2(e,u).map(Number);return{minimum:Math.min(...h),maximum:Math.max(...h)}}return{minimum:1,maximum:7}},hours:({format:u})=>{const f=e.getHours(a);return kp(e.formatByString(e.endOfDay(r),u),n)!==f.toString()?{minimum:1,maximum:Number(kp(e.formatByString(e.startOfDay(r),u),n))}:{minimum:0,maximum:f}},minutes:()=>({minimum:0,maximum:e.getMinutes(a)}),seconds:()=>({minimum:0,maximum:e.getSeconds(a)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}},JJ=(e,n,t,r)=>{switch(n.type){case"year":return e.setYear(r,e.getYear(t));case"month":return e.setMonth(r,e.getMonth(t));case"weekDay":{let i=e.formatByString(t,n.format);n.hasLeadingZerosInInput&&(i=mA(i,n.maxLength));const a=v2(e,n.format),s=a.indexOf(i),u=a.indexOf(n.value)-s;return e.addDays(t,u)}case"day":return e.setDate(r,e.getDate(t));case"meridiem":{const i=e.getHours(t)<12,a=e.getHours(r);return i&&a>=12?e.addHours(r,-12):!i&&a<12?e.addHours(r,12):r}case"hours":return e.setHours(r,e.getHours(t));case"minutes":return e.setMinutes(r,e.getMinutes(t));case"seconds":return e.setSeconds(r,e.getSeconds(t));default:return r}},hT={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},pT=(e,n,t,r,i)=>[...t].sort((a,s)=>hT[a.type]-hT[s.type]).reduce((a,s)=>!i||s.modified?JJ(e,s,n,a):a,r),eee=()=>navigator.userAgent.toLowerCase().includes("android"),tee=(e,n)=>{const t={};if(!n)return e.forEach((u,f)=>{const h=f===0?null:f-1,m=f===e.length-1?null:f+1;t[f]={leftIndex:h,rightIndex:m}}),{neighbors:t,startIndex:0,endIndex:e.length-1};const r={},i={};let a=0,s=0,l=e.length-1;for(;l>=0;){s=e.findIndex((u,f)=>{var h;return f>=a&&((h=u.endSeparator)==null?void 0:h.includes(" "))&&u.endSeparator!==" / "}),s===-1&&(s=e.length-1);for(let u=s;u>=a;u-=1)i[u]=l,r[l]=u,l-=1;a=s+1}return e.forEach((u,f)=>{const h=i[f],m=h===0?null:r[h-1],b=h===e.length-1?null:r[h+1];t[f]={leftIndex:m,rightIndex:b}}),{neighbors:t,startIndex:r[0],endIndex:r[e.length-1]}},I6=(e,n)=>{if(e==null)return null;if(e==="all")return"all";if(typeof e=="string"){const t=n.findIndex(r=>r.type===e);return t===-1?null:t}return e},nee=["value","referenceDate"],rd={emptyValue:null,getTodayValue:RO,getInitialReferenceValue:e=>{let{value:n,referenceDate:t}=e,r=Tn(e,nee);return r.adapter.isValid(n)?n:t??VJ(r)},cleanValue:PJ,areValuesEqual:FJ,isSameError:(e,n)=>e===n,hasError:e=>e!=null,defaultErrorState:null,getTimezone:(e,n)=>e.isValid(n)?e.getTimezone(n):null,setTimezone:(e,n,t)=>t==null?null:e.setTimezone(t,n)},ree={updateReferenceValue:(e,n,t)=>e.isValid(n)?n:t,getSectionsFromValue:(e,n)=>n(e),getV7HiddenInputValueFromSections:KJ,getV6InputValueFromSections:XJ,parseValueStr:(e,n,t)=>t(e.trim(),n),getDateFromSection:e=>e,getDateSectionsFromValue:e=>e,updateDateInValue:(e,n,t)=>t,clearDateSections:e=>e.map(n=>ze({},n,{value:""}))};function da(e,n,t=void 0){const r={};for(const i in e){const a=e[i];let s="",l=!0;for(let u=0;u<a.length;u+=1){const f=a[u];f&&(s+=(l===!0?"":" ")+n(f),l=!1,t&&t[f]&&(s+=" "+t[f]))}r[i]=s}return r}const mT=e=>e,iee=()=>{let e=mT;return{configure(n){e=n},generate(n){return e(n)},reset(){e=mT}}},aee=iee(),see={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ua(e,n,t="Mui"){const r=see[n];return r?`${t}-${r}`:`${aee.generate(e)}-${n}`}function Ga(e,n,t="Mui"){const r={};return n.forEach(i=>{r[i]=Ua(e,i,t)}),r}function oee(e){return Ua("MuiPickersToolbar",e)}Ga("MuiPickersToolbar",["root","title","content"]);const lee=["localeText"],O6=M.createContext(null),BO=function(n){const{localeText:t}=n,r=Tn(n,lee),{adapter:i,localeText:a}=M.useContext(O6)??{adapter:void 0,localeText:void 0},s=Qi({props:r,name:"MuiLocalizationProvider"}),{children:l,dateAdapter:u,dateFormats:f,dateLibInstance:h,adapterLocale:m,localeText:b}=s,g=M.useMemo(()=>ze({},b,a,t),[b,a,t]),v=M.useMemo(()=>{if(!u)return i||null;const S=new u({locale:m,formats:f,instance:h});if(!S.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/quickstart/#installation"].join(`
`));return S},[u,m,f,h,i]),x=M.useMemo(()=>v?{minDate:v.date("1900-01-01T00:00:00.000"),maxDate:v.date("2099-12-31T00:00:00.000")}:null,[v]),C=M.useMemo(()=>({utils:v,adapter:v,defaultDates:x,localeText:g}),[x,v,g]);return d.jsx(O6.Provider,{value:C,children:l})},$O=M.createContext(()=>!0);function uee(){return M.useContext($O)}const UO=M.createContext(null);function HO(){return M.useContext(UO)}const bA=M.createContext(null),Fm=()=>{const e=M.useContext(bA);if(e==null)throw new Error("MUI X: The `usePickerContext` hook can only be called inside the context of a Picker component");return e},VO=M.createContext(null),WO=M.createContext({ownerState:{isPickerDisabled:!1,isPickerReadOnly:!1,isPickerValueEmpty:!1,isPickerOpen:!1,pickerVariant:"desktop",pickerOrientation:"portrait"},rootRefObject:{current:null},labelId:void 0,dismissViews:()=>{},hasUIView:!0,getCurrentViewMode:()=>"UI",triggerElement:null,viewContainerRole:null,defaultActionBarActions:[],onPopperExited:void 0});function YO(e){const{contextValue:n,actionsContextValue:t,privateContextValue:r,fieldPrivateContextValue:i,isValidContextValue:a,localeText:s,children:l}=e;return d.jsx(bA.Provider,{value:n,children:d.jsx(VO.Provider,{value:t,children:d.jsx(WO.Provider,{value:r,children:d.jsx(UO.Provider,{value:i,children:d.jsx($O.Provider,{value:a,children:d.jsx(BO,{localeText:s,children:l})})})})})})}const Es=()=>M.useContext(WO);function GO(){const{ownerState:e}=Es(),n=ef();return M.useMemo(()=>ze({},e,{toolbarDirection:n?"rtl":"ltr"}),[e,n])}const cee=["children","className","classes","toolbarTitle","hidden","titleId","classes","landscapeDirection"],dee=e=>da({root:["root"],title:["title"],content:["content"]},oee,e),fee=Ut("div",{name:"MuiPickersToolbar",slot:"Root"})(({theme:e})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:e.spacing(2,3),variants:[{props:{pickerOrientation:"landscape"},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),hee=Ut("div",{name:"MuiPickersToolbar",slot:"Content",shouldForwardProp:e=>xb.shouldForwardProp(e)&&e!=="landscapeDirection"})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{pickerOrientation:"landscape"},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{pickerOrientation:"landscape",landscapeDirection:"row"},style:{flexDirection:"row"}}]}),pee=M.forwardRef(function(n,t){const r=Qi({props:n,name:"MuiPickersToolbar"}),{children:i,className:a,classes:s,toolbarTitle:l,hidden:u,titleId:f,landscapeDirection:h}=r,m=Tn(r,cee),b=GO(),g=dee(s);return u?null:d.jsxs(fee,ze({ref:t,className:Kn(g.root,a),ownerState:b},m,{children:[d.jsx(te,{color:"text.secondary",variant:"overline",id:f,className:g.title,children:l}),d.jsx(hee,{className:g.content,ownerState:b,landscapeDirection:h,children:i})]}))}),mee=e=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:ze({},e)}}}}),QO={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:e=>e==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",nextStepButtonLabel:"Next",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",timeRangePickerToolbarTitle:"Select time range",clockLabelText:(e,n)=>`Select ${e}. ${n?`Selected time is ${n}`:"No time selected"}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:e=>e?`Choose date, selected date is ${e}`:"Choose date",openTimePickerDialogue:e=>e?`Choose time, selected time is ${e}`:"Choose time",openRangePickerDialogue:e=>e?`Choose range, selected range is ${e}`:"Choose range",fieldClearLabel:"Clear",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>e.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>e.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},gee=QO;mee(QO);const yA=()=>{const e=M.useContext(O6);if(e===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(e.adapter===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const n=M.useMemo(()=>ze({},gee,e.localeText),[e.localeText]);return M.useMemo(()=>ze({},e,{localeText:n}),[e,n])},si=()=>yA().adapter,Ch=()=>yA().localeText,M6=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],L6=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],KO=["minDateTime","maxDateTime"],bee=[...M6,...L6,...KO],XO=e=>bee.reduce((n,t)=>(e.hasOwnProperty(t)&&(n[t]=e[t]),n),{}),yee=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","unstableStartFieldRef","unstableEndFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator","autoFocus","focused"],ZO=(e,n)=>M.useMemo(()=>{const t=ze({},e),r={},i=a=>{t.hasOwnProperty(a)&&(r[a]=t[a],delete t[a])};return yee.forEach(i),n==="date"?M6.forEach(i):n==="time"?L6.forEach(i):n==="date-time"&&(M6.forEach(i),L6.forEach(i),KO.forEach(i)),{forwardedProps:t,internalProps:r}},[e,n]),xee=({adapter:e,format:n})=>{let t=10,r=n,i=e.expandFormat(n);for(;i!==r;)if(r=i,i=e.expandFormat(r),t-=1,t<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the component.");return i},vee=({adapter:e,expandedFormat:n})=>{const t=[],{start:r,end:i}=e.escapedCharacters,a=new RegExp(`(\\${r}[^\\${i}]*\\${i})+`,"g");let s=null;for(;s=a.exec(n);)t.push({start:s.index,end:a.lastIndex-1});return t},wee=(e,n,t,r)=>{switch(t.type){case"year":return n.fieldYearPlaceholder({digitAmount:e.formatByString(e.date(void 0,"default"),r).length,format:r});case"month":return n.fieldMonthPlaceholder({contentType:t.contentType,format:r});case"day":return n.fieldDayPlaceholder({format:r});case"weekDay":return n.fieldWeekDayPlaceholder({contentType:t.contentType,format:r});case"hours":return n.fieldHoursPlaceholder({format:r});case"minutes":return n.fieldMinutesPlaceholder({format:r});case"seconds":return n.fieldSecondsPlaceholder({format:r});case"meridiem":return n.fieldMeridiemPlaceholder({format:r});default:return r}},See=({adapter:e,date:n,shouldRespectLeadingZeros:t,localeText:r,localizedDigits:i,now:a,token:s,startSeparator:l})=>{if(s==="")throw new Error("MUI X: Should not call `commitToken` with an empty token");const u=PO(e,s),f=qO(e,u.contentType,u.type,s),h=t?f:u.contentType==="digit",m=e.isValid(n);let b=m?e.formatByString(n,s):"",g=null;if(h)if(f)g=b===""?e.formatByString(a,s).length:b.length;else{if(u.maxLength==null)throw new Error(`MUI X: The token ${s} should have a 'maxLength' property on it's adapter`);g=u.maxLength,m&&(b=pA(mA(kp(b,i),g),i))}return ze({},u,{format:s,maxLength:g,value:b,placeholder:wee(e,r,u,s),hasLeadingZerosInFormat:f,hasLeadingZerosInInput:h,startSeparator:l,endSeparator:"",modified:!1})},Cee=e=>{var g;const{adapter:n,expandedFormat:t,escapedParts:r}=e,i=n.date(void 0),a=[];let s="";const l=Object.keys(n.formatTokenMap).sort((v,x)=>x.length-v.length),u=/^([a-zA-Z]+)/,f=new RegExp(`^(${l.join("|")})*$`),h=new RegExp(`^(${l.join("|")})`),m=v=>r.find(x=>x.start<=v&&x.end>=v);let b=0;for(;b<t.length;){const v=m(b),x=v!=null,C=(g=u.exec(t.slice(b)))==null?void 0:g[1];if(!x&&C!=null&&f.test(C)){let S=C;for(;S.length>0;){const A=h.exec(S)[1];S=S.slice(A.length),a.push(See(ze({},e,{now:i,token:A,startSeparator:s}))),s=""}b+=C.length}else{const S=t[b];x&&(v==null?void 0:v.start)===b||(v==null?void 0:v.end)===b||(a.length===0?s+=S:(a[a.length-1].endSeparator+=S,a[a.length-1].isEndFormatSeparator=!0)),b+=1}}return a.length===0&&s.length>0&&a.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:s,endSeparator:"",modified:!1}),a},Aee=({isRtl:e,formatDensity:n,sections:t})=>t.map(r=>{const i=a=>{let s=a;return e&&s!==null&&s.includes(" ")&&(s=`${s}`),n==="spacious"&&["/",".","-"].includes(s)&&(s=` ${s} `),s};return r.startSeparator=i(r.startSeparator),r.endSeparator=i(r.endSeparator),r}),gT=e=>{let n=xee(e);e.isRtl&&e.enableAccessibleFieldDOMStructure&&(n=n.split(" ").reverse().join(" "));const t=vee(ze({},e,{expandedFormat:n})),r=Cee(ze({},e,{expandedFormat:n,escapedParts:t}));return Aee(ze({},e,{sections:r}))},xA=()=>M.useContext(bA),kee=()=>{const e=M.useContext(VO);if(e==null)throw new Error(["MUI X: The `usePickerActionsContext` can only be called in fields that are used as a slot of a Picker component"].join(`
`));return e};function Eee(e){return Ua("MuiDatePickerToolbar",e)}Ga("MuiDatePickerToolbar",["root","title"]);const jee=["toolbarFormat","toolbarPlaceholder","className","classes"],Tee=e=>da({root:["root"],title:["title"]},Eee,e),Nee=Ut(pee,{name:"MuiDatePickerToolbar",slot:"Root"})({}),Dee=Ut(te,{name:"MuiDatePickerToolbar",slot:"Title"})({variants:[{props:{pickerOrientation:"landscape"},style:{margin:"auto 16px auto auto"}}]}),_ee=M.forwardRef(function(n,t){const r=Qi({props:n,name:"MuiDatePickerToolbar"}),{toolbarFormat:i,toolbarPlaceholder:a="",className:s,classes:l}=r,u=Tn(r,jee),f=si(),{value:h,views:m,orientation:b}=Fm(),g=Ch(),v=GO(),x=Tee(l),C=M.useMemo(()=>{if(!f.isValid(h))return a;const S=hA(f,{format:i,views:m},!0);return f.formatByString(h,S)},[h,i,a,f,m]);return d.jsx(Nee,ze({ref:t,toolbarTitle:g.datePickerToolbarTitle,className:Kn(x.root,s)},u,{children:d.jsx(Dee,{variant:"h4",align:b==="landscape"?"left":"center",ownerState:v,className:x.title,children:C})}))}),Rb=({props:e,value:n,timezone:t,adapter:r})=>{if(n===null)return null;const{shouldDisableDate:i,shouldDisableMonth:a,shouldDisableYear:s,disablePast:l,disableFuture:u,minDate:f,maxDate:h}=e,m=r.date(void 0,t);switch(!0){case!r.isValid(n):return"invalidDate";case!!(i&&i(n)):return"shouldDisableDate";case!!(a&&a(n)):return"shouldDisableMonth";case!!(s&&s(n)):return"shouldDisableYear";case!!(u&&r.isAfterDay(n,m)):return"disableFuture";case!!(l&&r.isBeforeDay(n,m)):return"disablePast";case!!(f&&r.isBeforeDay(n,f)):return"minDate";case!!(h&&r.isAfterDay(n,h)):return"maxDate";default:return null}};Rb.valueManager=rd;const id=typeof window<"u"?M.useLayoutEffect:M.useEffect;function $t(e){const n=M.useRef(e);return id(()=>{n.current=e}),M.useRef((...t)=>(0,n.current)(...t)).current}function JO(e){const{props:n,validator:t,value:r,timezone:i,onError:a}=e,s=si(),l=M.useRef(t.valueManager.defaultErrorState),u=t({adapter:s,value:r,timezone:i,props:n}),f=t.valueManager.hasError(u);M.useEffect(()=>{a&&!t.valueManager.isSameError(u,l.current)&&a(u,r),l.current=u},[t,a,u,r]);const h=$t(m=>t({adapter:s,value:m,timezone:i,props:n}));return{validationError:u,hasValidationError:f,getValidationErrorForNewValue:h}}const Iee=()=>yA().defaultDates,w2=e=>{const n=si(),t=M.useRef(void 0);return t.current===void 0&&(t.current=n.date(void 0,e)),t.current};function Oee(e={}){const{enableAccessibleFieldDOMStructure:n=!0}=e;return M.useMemo(()=>({valueType:"date",validator:Rb,internal_valueManager:rd,internal_fieldValueManager:ree,internal_enableAccessibleFieldDOMStructure:n,internal_useApplyDefaultValuesToFieldInternalProps:Lee,internal_useOpenPickerButtonAriaLabel:Mee}),[n])}function Mee(e){const n=si(),t=Ch();return M.useMemo(()=>{const r=n.isValid(e)?n.format(e,"fullDate"):null;return t.openDatePickerDialogue(r)},[e,t,n])}function Lee(e){const n=si(),t=Pb(e);return M.useMemo(()=>ze({},e,t,{format:e.format??n.formats.keyboardDate}),[e,t,n])}function Pb(e){const n=si(),t=Iee();return M.useMemo(()=>({disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,minDate:oT(n,e.minDate,t.minDate),maxDate:oT(n,e.maxDate,t.maxDate)}),[e.minDate,e.maxDate,e.disableFuture,e.disablePast,n,t])}function eM(e,n){const t=Qi({props:e,name:n}),r=Pb(t),i=M.useMemo(()=>{var a;return((a=t.localeText)==null?void 0:a.toolbarTitle)==null?t.localeText:ze({},t.localeText,{datePickerToolbarTitle:t.localeText.toolbarTitle})},[t.localeText]);return ze({},t,r,{localeText:i},RJ({views:t.views,openTo:t.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{slots:ze({toolbar:_ee},t.slots)})}function jo(...e){const n=M.useRef(void 0),t=M.useCallback(r=>{const i=e.map(a=>{if(a==null)return null;if(typeof a=="function"){const s=a,l=s(r);return typeof l=="function"?l:()=>{s(null)}}return a.current=r,()=>{a.current=null}});return()=>{i.forEach(a=>a==null?void 0:a())}},e);return M.useMemo(()=>e.every(r=>r==null)?null:r=>{n.current&&(n.current(),n.current=void 0),r!=null&&(n.current=t(r))},e)}function Ree(e){return typeof e=="string"}function Pee(e,n,t){return e===void 0||Ree(e)?n:{...n,ownerState:{...n.ownerState,...t}}}function Fee(e,n=[]){if(e===void 0)return{};const t={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!n.includes(r)).forEach(r=>{t[r]=e[r]}),t}function bT(e){if(e===void 0)return{};const n={};return Object.keys(e).filter(t=>!(t.match(/^on[A-Z]/)&&typeof e[t]=="function")).forEach(t=>{n[t]=e[t]}),n}function zee(e){const{getSlotProps:n,additionalProps:t,externalSlotProps:r,externalForwardedProps:i,className:a}=e;if(!n){const g=Kn(t==null?void 0:t.className,a,i==null?void 0:i.className,r==null?void 0:r.className),v={...t==null?void 0:t.style,...i==null?void 0:i.style,...r==null?void 0:r.style},x={...t,...i,...r};return g.length>0&&(x.className=g),Object.keys(v).length>0&&(x.style=v),{props:x,internalRef:void 0}}const s=Fee({...i,...r}),l=bT(r),u=bT(i),f=n(s),h=Kn(f==null?void 0:f.className,t==null?void 0:t.className,a,i==null?void 0:i.className,r==null?void 0:r.className),m={...f==null?void 0:f.style,...t==null?void 0:t.style,...i==null?void 0:i.style,...r==null?void 0:r.style},b={...f,...t,...u,...l};return h.length>0&&(b.className=h),Object.keys(m).length>0&&(b.style=m),{props:b,internalRef:f.ref}}function _r(e){var m;const{elementType:n,externalSlotProps:t,ownerState:r,skipResolvingSlotProps:i=!1,...a}=e,s=i?{}:ib(t,r),{props:l,internalRef:u}=zee({...a,externalSlotProps:s}),f=jo(u,s==null?void 0:s.ref,(m=e.additionalProps)==null?void 0:m.ref);return Pee(n,{...l,ref:f},r)}function O1(e){return e&&e.ownerDocument||document}function qee(e){return Ua("MuiPickerPopper",e)}Ga("MuiPickerPopper",["root","paper"]);function Bee(e,n){return Array.isArray(n)?n.every(t=>e.indexOf(t)!==-1):e.indexOf(n)!==-1}const $ee=e=>{setTimeout(e,0)},tM=(e=document)=>{const n=e.activeElement;return n?n.shadowRoot?tM(n.shadowRoot):n:null},lo=e=>tM(O1(e)),Uee="@media (pointer: fine)",Hee=["PaperComponent","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],Vee=e=>da({root:["root"],paper:["paper"]},qee,e),Wee=Ut(xP,{name:"MuiPickerPopper",slot:"Root"})(({theme:e})=>({zIndex:e.zIndex.modal})),Yee=Ut(an,{name:"MuiPickerPopper",slot:"Paper"})({outline:0,transformOrigin:"top center",variants:[{props:({popperPlacement:e})=>new Set(["top","top-start","top-end"]).has(e),style:{transformOrigin:"bottom center"}}]});function Gee(e,n){return n.documentElement.clientWidth<e.clientX||n.documentElement.clientHeight<e.clientY}function Qee(e,n){const t=M.useRef(!1),r=M.useRef(!1),i=M.useRef(null),a=M.useRef(!1);M.useEffect(()=>{if(!e)return;function u(){a.current=!0}return document.addEventListener("mousedown",u,!0),document.addEventListener("touchstart",u,!0),()=>{document.removeEventListener("mousedown",u,!0),document.removeEventListener("touchstart",u,!0),a.current=!1}},[e]);const s=$t(u=>{if(!a.current)return;const f=r.current;r.current=!1;const h=O1(i.current);if(!i.current||"clientX"in u&&Gee(u,h))return;if(t.current){t.current=!1;return}let m;u.composedPath?m=u.composedPath().indexOf(i.current)>-1:m=!h.documentElement.contains(u.target)||i.current.contains(u.target),!m&&!f&&n(u)}),l=u=>{u.defaultMuiPrevented||(r.current=!0)};return M.useEffect(()=>{if(e){const u=O1(i.current),f=()=>{t.current=!0};return u.addEventListener("touchstart",s),u.addEventListener("touchmove",f),()=>{u.removeEventListener("touchstart",s),u.removeEventListener("touchmove",f)}}},[e,s]),M.useEffect(()=>{if(e){const u=O1(i.current);return u.addEventListener("click",s),()=>{u.removeEventListener("click",s),r.current=!1}}},[e,s]),[i,l,l]}const Kee=M.forwardRef((e,n)=>{const{PaperComponent:t,ownerState:r,children:i,paperSlotProps:a,paperClasses:s,onPaperClick:l,onPaperTouchStart:u}=e,f=Tn(e,Hee),h=_r({elementType:t,externalSlotProps:a,additionalProps:{tabIndex:-1,elevation:8,ref:n},className:s,ownerState:r});return d.jsx(t,ze({},f,h,{onClick:m=>{var b;l(m),(b=h.onClick)==null||b.call(h,m)},onTouchStart:m=>{var b;u(m),(b=h.onTouchStart)==null||b.call(h,m)},ownerState:r,children:i}))});function Xee(e){const n=Qi({props:e,name:"MuiPickerPopper"}),{children:t,placement:r="bottom-start",slots:i,slotProps:a,classes:s}=n,{open:l,popupRef:u,reduceAnimations:f}=Fm(),{ownerState:h,rootRefObject:m}=Es(),{dismissViews:b,getCurrentViewMode:g,onPopperExited:v,triggerElement:x,viewContainerRole:C}=Es();M.useEffect(()=>{function Y(Z){l&&Z.key==="Escape"&&b()}return document.addEventListener("keydown",Y),()=>{document.removeEventListener("keydown",Y)}},[b,l]);const S=M.useRef(null);M.useEffect(()=>{C==="tooltip"||g()==="field"||(l?S.current=lo(m.current):S.current&&S.current instanceof HTMLElement&&setTimeout(()=>{S.current instanceof HTMLElement&&S.current.focus()}))},[l,C,g,m]);const A=Vee(s),N=$t(()=>{C==="tooltip"?$ee(()=>{var Y,Z;(Y=m.current)!=null&&Y.contains(lo(m.current))||(Z=u.current)!=null&&Z.contains(lo(u.current))||b()}):b()}),[P,U,B]=Qee(l,N),j=M.useRef(null),F=jo(j,u),V=jo(F,P),X=Y=>{Y.key==="Escape"&&(Y.stopPropagation(),b())},T=(i==null?void 0:i.desktopTransition)??f?dh:bP,D=(i==null?void 0:i.desktopTrapFocus)??yP,O=(i==null?void 0:i.desktopPaper)??Yee,L=(i==null?void 0:i.popper)??Wee,Q=_r({elementType:L,externalSlotProps:a==null?void 0:a.popper,additionalProps:{transition:!0,role:C??void 0,open:l,placement:r,anchorEl:x,onKeyDown:X},className:A.root,ownerState:h}),$=M.useMemo(()=>ze({},h,{popperPlacement:Q.placement}),[h,Q.placement]);return d.jsx(L,ze({},Q,{children:({TransitionProps:Y})=>d.jsx(D,ze({open:l,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:C==="tooltip",isEnabled:()=>!0},a==null?void 0:a.desktopTrapFocus,{children:d.jsx(T,ze({},Y,a==null?void 0:a.desktopTransition,{onExited:Z=>{var re,H,me;v==null||v(),(H=(re=a==null?void 0:a.desktopTransition)==null?void 0:re.onExited)==null||H.call(re,Z),(me=Y==null?void 0:Y.onExited)==null||me.call(Y)},children:d.jsx(Kee,{PaperComponent:O,ownerState:$,ref:V,onPaperClick:U,onPaperTouchStart:B,paperClasses:A.paper,paperSlotProps:a==null?void 0:a.desktopPaper,children:t})}))}))}))}let yT=0;function Zee(e){const[n,t]=M.useState(e),r=e||n;return M.useEffect(()=>{n==null&&(yT+=1,t(`mui-${yT}`))},[n]),r}const Jee={...zv},xT=Jee.useId;function S2(e){if(xT!==void 0){const n=xT();return e??n}return Zee(e)}const ete="@media (prefers-reduced-motion: reduce)",im=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),vT=im&&im[1]?parseInt(im[1],10):null,wT=im&&im[2]?parseInt(im[2],10):null,tte=vT&&vT<10||wT&&wT<13||!1;function nM(e){const n=Pu(ete,{defaultMatches:!1});return e??(n||tte)}function _m(e){const{controlled:n,default:t,name:r,state:i="value"}=e,{current:a}=M.useRef(n!==void 0),[s,l]=M.useState(t),u=a?n:s,f=M.useCallback(h=>{a||l(h)},[]);return[u,f]}const rM={hasNextStep:!1,hasSeveralSteps:!1,goToNextStep:()=>{},areViewsInSameStep:()=>!0};function nte(e){const{steps:n,isViewMatchingStep:t,onStepChange:r}=e;return i=>{if(n==null)return rM;const a=n.findIndex(l=>t(i.view,l)),s=a===-1||a===n.length-1?null:n[a+1];return{hasNextStep:s!=null,hasSeveralSteps:n.length>1,goToNextStep:()=>{s!=null&&r(ze({},i,{step:s}))},areViewsInSameStep:(l,u)=>{const f=n.find(m=>t(l,m)),h=n.find(m=>t(u,m));return f===h}}}}function iM({onChange:e,onViewChange:n,openTo:t,view:r,views:i,autoFocus:a,focusedView:s,onFocusedViewChange:l,getStepNavigation:u}){const f=M.useRef(t),h=M.useRef(i),m=M.useRef(i.includes(t)?t:i[0]),[b,g]=_m({name:"useViews",state:"view",controlled:r,default:m.current}),v=M.useRef(a?b:null),[x,C]=_m({name:"useViews",state:"focusedView",controlled:s,default:v.current}),S=u?u({setView:g,view:b,defaultView:m.current,views:i}):rM;M.useEffect(()=>{(f.current&&f.current!==t||h.current&&h.current.some(V=>!i.includes(V)))&&(g(i.includes(t)?t:i[0]),h.current=i,f.current=t)},[t,g,b,i]);const A=i.indexOf(b),N=i[A-1]??null,P=i[A+1]??null,U=$t((V,X)=>{C(X?V:T=>V===T?null:T),l==null||l(V,X)}),B=$t(V=>{U(V,!0),V!==b&&(g(V),n&&n(V))}),j=$t(()=>{P&&B(P)}),F=$t((V,X,T)=>{const D=X==="finish",O=T?i.indexOf(T)<i.length-1:!!P;e(V,D&&O?"partial":X,T);let Q=null;if(T!=null&&T!==b?Q=T:D&&(Q=b),Q==null)return;const $=i[i.indexOf(Q)+1];$==null||!S.areViewsInSameStep(Q,$)||B($)});return ze({},S,{view:b,setView:B,focusedView:x,setFocusedView:U,nextView:P,previousView:N,defaultView:i.includes(t)?t:i[0],goToNextView:j,setValueAndGoToNextView:F})}function ST(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}function rte(e,n){const[t,r]=M.useState(ST);return id(()=>{const i=()=>{r(ST())};return window.addEventListener("orientationchange",i),()=>{window.removeEventListener("orientationchange",i)}},[]),Bee(e,["hours","minutes","seconds"])?"portrait":n??t}const Fb=({name:e,timezone:n,value:t,defaultValue:r,referenceDate:i,onChange:a,valueManager:s})=>{const l=si(),[u,f]=_m({name:e,state:"value",controlled:t,default:r??s.emptyValue}),h=M.useMemo(()=>s.getTimezone(l,u),[l,s,u]),m=$t(x=>h==null?x:s.setTimezone(l,h,x)),b=M.useMemo(()=>n||h||(i?l.getTimezone(Array.isArray(i)?i[0]:i):"default"),[n,h,i,l]),g=M.useMemo(()=>s.setTimezone(l,b,u),[s,l,b,u]),v=$t((x,...C)=>{const S=m(x);f(S),a==null||a(S,...C)});return{value:g,handleValueChange:v,timezone:b}};function ite(e){const{props:n,valueManager:t,validator:r}=e,{value:i,defaultValue:a,onChange:s,referenceDate:l,timezone:u,onAccept:f,closeOnSelect:h,open:m,onOpen:b,onClose:g}=n,{current:v}=M.useRef(a),{current:x}=M.useRef(i!==void 0),{current:C}=M.useRef(m!==void 0),S=si(),{timezone:A,value:N,handleValueChange:P}=Fb({name:"a picker component",timezone:u,value:i,defaultValue:v,referenceDate:l,onChange:s,valueManager:t}),[U,B]=M.useState(()=>({open:!1,lastExternalValue:N,clockShallowValue:void 0,lastCommittedValue:N,hasBeenModifiedSinceMount:!1})),{getValidationErrorForNewValue:j}=JO({props:n,validator:r,timezone:A,value:N,onError:n.onError}),F=$t(D=>{const O=typeof D=="function"?D(U.open):D;C||B(L=>ze({},L,{open:O})),O&&b&&b(),O||g==null||g()}),V=$t((D,O)=>{const{changeImportance:L="accept",skipPublicationIfPristine:Q=!1,validationError:$,shortcut:Y,shouldClose:Z=L==="accept"}=O??{};let re,H;!Q&&!x&&!U.hasBeenModifiedSinceMount?(re=!0,H=L==="accept"):(re=!t.areValuesEqual(S,D,N),H=L==="accept"&&!t.areValuesEqual(S,D,U.lastCommittedValue)),B(z=>ze({},z,{clockShallowValue:re?void 0:z.clockShallowValue,lastCommittedValue:H?D:z.lastCommittedValue,hasBeenModifiedSinceMount:!0}));let me=null;const q=()=>(me||(me={validationError:$??j(D)},Y&&(me.shortcut=Y)),me);re&&P(D,q()),H&&f&&f(D,q()),Z&&F(!1)});N!==U.lastExternalValue&&B(D=>ze({},D,{lastExternalValue:N,clockShallowValue:void 0,hasBeenModifiedSinceMount:!0}));const X=$t((D,O="partial")=>{if(O==="shallow"){B(L=>ze({},L,{clockShallowValue:D,hasBeenModifiedSinceMount:!0}));return}V(D,{changeImportance:O==="finish"&&h?"accept":"set"})});M.useEffect(()=>{if(C){if(m===void 0)throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");B(D=>ze({},D,{open:m}))}},[C,m]);const T=M.useMemo(()=>t.cleanValue(S,U.clockShallowValue===void 0?N:U.clockShallowValue),[S,t,U.clockShallowValue,N]);return{timezone:A,state:U,setValue:V,setValueFromView:X,setOpen:F,value:N,viewValue:T}}const ate=["className","sx"],aM=({ref:e,props:n,valueManager:t,valueType:r,variant:i,validator:a,onPopperExited:s,autoFocusView:l,rendererInterceptor:u,localeText:f,viewContainerRole:h,getStepNavigation:m})=>{const{views:b,view:g,openTo:v,onViewChange:x,viewRenderers:C,reduceAnimations:S,orientation:A,disableOpenPicker:N,closeOnSelect:P,disabled:U,readOnly:B,formatDensity:j,enableAccessibleFieldDOMStructure:F,selectedSections:V,onSelectedSectionsChange:X,format:T,label:D,autoFocus:O,name:L}=n,{className:Q,sx:$}=n,Y=Tn(n,ate),Z=S2(),re=si(),H=nM(S),me=rte(b,A),{current:q}=M.useRef(v??null),[z,ne]=M.useState(null),oe=M.useRef(null),ee=M.useRef(null),ge=M.useRef(null),de=jo(e,ge),{timezone:ye,state:we,setOpen:ve,setValue:je,setValueFromView:Ee,value:Ue,viewValue:Oe}=ite({props:n,valueManager:t,validator:a}),{view:pe,setView:tt,defaultView:dt,focusedView:lt,setFocusedView:Ze,setValueAndGoToNextView:ut,goToNextStep:wt,hasNextStep:Et,hasSeveralSteps:Ot}=iM({view:g,views:b,openTo:v,onChange:Ee,onViewChange:x,autoFocus:l,getStepNavigation:m}),qt=$t(()=>je(t.emptyValue)),Qe=$t(()=>je(t.getTodayValue(re,ye,r))),Se=$t(()=>je(Ue)),De=$t(()=>je(we.lastCommittedValue,{skipPublicationIfPristine:!0})),ke=$t(()=>{je(Ue,{skipPublicationIfPristine:!0})}),{hasUIView:Ke,viewModeLookup:He,timeViewsCount:Nt}=M.useMemo(()=>b.reduce((cn,Vn)=>{const Oi=C[Vn]==null?"field":"UI";return cn.viewModeLookup[Vn]=Oi,Oi==="UI"&&(cn.hasUIView=!0,$J(Vn)&&(cn.timeViewsCount+=1)),cn},{hasUIView:!1,viewModeLookup:{},timeViewsCount:0}),[C,b]),It=He[pe],Ft=$t(()=>It),[jt,nn]=M.useState(It==="UI"?pe:null);jt!==pe&&He[pe]==="UI"&&nn(pe),id(()=>{It==="field"&&we.open&&(ve(!1),setTimeout(()=>{var cn,Vn;(cn=ee==null?void 0:ee.current)==null||cn.setSelectedSections(pe),(Vn=ee==null?void 0:ee.current)==null||Vn.focusField(pe)}))},[pe]),id(()=>{if(!we.open)return;let cn=pe;It==="field"&&jt!=null&&(cn=jt),cn!==dt&&He[cn]==="UI"&&He[dt]==="UI"&&(cn=dt),cn!==pe&&tt(cn),Ze(cn,!0)},[we.open]);const Tt=M.useMemo(()=>({isPickerValueEmpty:t.areValuesEqual(re,Ue,t.emptyValue),isPickerOpen:we.open,isPickerDisabled:n.disabled??!1,isPickerReadOnly:n.readOnly??!1,pickerOrientation:me,pickerVariant:i}),[re,t,Ue,we.open,me,i,n.disabled,n.readOnly]),Ht=M.useMemo(()=>N||!Ke?"hidden":U||B?"disabled":"enabled",[N,Ke,U,B]),un=$t(wt),vn=M.useMemo(()=>P&&!Ot?[]:["cancel","nextOrAccept"],[P,Ot]),Er=M.useMemo(()=>({setValue:je,setOpen:ve,clearValue:qt,setValueToToday:Qe,acceptValueChanges:Se,cancelValueChanges:De,setView:tt,goToNextStep:un}),[je,ve,qt,Qe,Se,De,tt,un]),Hn=M.useMemo(()=>ze({},Er,{value:Ue,timezone:ye,open:we.open,views:b,view:jt,initialView:q,disabled:U??!1,readOnly:B??!1,autoFocus:O??!1,variant:i,orientation:me,popupRef:oe,reduceAnimations:H,triggerRef:ne,triggerStatus:Ht,hasNextStep:Et,fieldFormat:T??"",name:L,label:D,rootSx:$,rootRef:de,rootClassName:Q}),[Er,Ue,de,i,me,H,U,B,T,Q,L,D,$,Ht,Et,ye,we.open,jt,b,q,O]),Xn=M.useMemo(()=>({dismissViews:ke,ownerState:Tt,hasUIView:Ke,getCurrentViewMode:Ft,rootRefObject:ge,labelId:Z,triggerElement:z,viewContainerRole:h,defaultActionBarActions:vn,onPopperExited:s}),[ke,Tt,Ke,Ft,Z,z,h,vn,s]),Xt=M.useMemo(()=>({formatDensity:j,enableAccessibleFieldDOMStructure:F,selectedSections:V,onSelectedSectionsChange:X,fieldRef:ee}),[j,F,V,X,ee]);return{providerProps:{localeText:f,contextValue:Hn,privateContextValue:Xn,actionsContextValue:Er,fieldPrivateContextValue:Xt,isValidContextValue:cn=>{const Vn=a({adapter:re,value:cn,timezone:ye,props:n});return!t.hasError(Vn)}},renderCurrentView:()=>{if(jt==null)return null;const cn=C[jt];if(cn==null)return null;const Vn=ze({},Y,{views:b,timezone:ye,value:Oe,onChange:ut,view:jt,onViewChange:tt,showViewSwitcher:Nt>1,timeViewsCount:Nt},h==="tooltip"?{focusedView:null,onFocusedViewChange:()=>{}}:{focusedView:lt,onFocusedViewChange:Ze});return u?d.jsx(u,{viewRenderers:C,popperView:jt,rendererProps:Vn}):cn(Vn)},ownerState:Tt}};function sM(e){return Ua("MuiPickersLayout",e)}const ep=Ga("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),ste=["actions"],ote=Ut(Ea,{name:"MuiPickersLayout",slot:"ActionBar"})({});function lte(e){const{actions:n}=e,t=Tn(e,ste),r=Ch(),{clearValue:i,setValueToToday:a,acceptValueChanges:s,cancelValueChanges:l,goToNextStep:u,hasNextStep:f}=Fm();if(n==null||n.length===0)return null;const h=n==null?void 0:n.map(m=>{switch(m){case"clear":return d.jsx(xt,{onClick:i,children:r.clearButtonLabel},m);case"cancel":return d.jsx(xt,{onClick:l,children:r.cancelButtonLabel},m);case"accept":return d.jsx(xt,{onClick:s,children:r.okButtonLabel},m);case"today":return d.jsx(xt,{onClick:a,children:r.todayButtonLabel},m);case"next":return d.jsx(xt,{onClick:u,children:r.nextStepButtonLabel},m);case"nextOrAccept":return f?d.jsx(xt,{onClick:u,children:r.nextStepButtonLabel},m):d.jsx(xt,{onClick:s,children:r.okButtonLabel},m);default:return null}});return d.jsx(ote,ze({},t,{children:h}))}const ute=M.memo(lte),sb=36,C2=2,A2=320,cte=280,vA=336,dte=["items","changeImportance"],fte=["getValue"],hte=Ut($d,{name:"MuiPickersLayout",slot:"Shortcuts"})({});function pte(e){const{items:n,changeImportance:t="accept"}=e,r=Tn(e,dte),{setValue:i}=kee(),a=uee();if(n==null||n.length===0)return null;const s=n.map(l=>{let{getValue:u}=l,f=Tn(l,fte);const h=u({isValid:a});return ze({},f,{label:f.label,onClick:()=>{i(h,{changeImportance:t,shortcut:f})},disabled:!a(h)})});return d.jsx(hte,ze({dense:!0,sx:[{maxHeight:vA,maxWidth:200,overflow:"auto"},...Array.isArray(r.sx)?r.sx:[r.sx]]},r,{children:s.map(l=>d.jsx(Nu,{children:d.jsx(Rn,ze({},l))},l.id??l.label))}))}const mte=["ownerState"];function gte(e){return e.view!==null}const bte=(e,n)=>{const{pickerOrientation:t}=n;return da({root:["root",t==="landscape"&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},sM,e)},yte=e=>{const{ownerState:n,defaultActionBarActions:t}=Es(),{view:r}=Fm(),i=ef(),{children:a,slots:s,slotProps:l,classes:u}=e,f=M.useMemo(()=>ze({},n,{layoutDirection:i?"rtl":"ltr",hasShortcuts:!1}),[n,i]),h=bte(u,f),m=(s==null?void 0:s.actionBar)??ute,b=_r({elementType:m,externalSlotProps:l==null?void 0:l.actionBar,additionalProps:{actions:t},className:h.actionBar,ownerState:f}),g=Tn(b,mte),v=d.jsx(m,ze({},g)),x=s==null?void 0:s.toolbar,C=_r({elementType:x,externalSlotProps:l==null?void 0:l.toolbar,className:h.toolbar,ownerState:f}),S=gte(C)&&x?d.jsx(x,ze({},C)):null,A=a,N=s==null?void 0:s.tabs,P=r&&N?d.jsx(N,ze({className:h.tabs},l==null?void 0:l.tabs)):null,U=(s==null?void 0:s.shortcuts)??pte,B=_r({elementType:U,externalSlotProps:l==null?void 0:l.shortcuts,className:h.shortcuts,ownerState:f}),j=Array.isArray(B==null?void 0:B.items)&&B.items.length>0,F=r&&U?d.jsx(U,ze({},B)):null;return{toolbar:S,content:A,tabs:P,actionBar:v,shortcuts:F,ownerState:ze({},f,{hasShortcuts:j})}},xte=(e,n)=>{const{pickerOrientation:t}=n;return da({root:["root",t==="landscape"&&"landscape"],contentWrapper:["contentWrapper"]},sM,e)},vte=Ut("div",{name:"MuiPickersLayout",slot:"Root"})({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${ep.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{pickerOrientation:"landscape",hasShortcuts:!1},style:{[`& .${ep.toolbar}`]:{gridColumn:1,gridRow:"1 / 3"}}},{props:{pickerOrientation:"landscape",hasShortcuts:!0},style:{[`& .${ep.toolbar}`]:{gridColumn:"2 / 4",gridRow:1,maxWidth:"max-content"},[`& .${ep.shortcuts}`]:{gridColumn:1,gridRow:2}}},{props:{pickerOrientation:"portrait"},style:{[`& .${ep.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${ep.shortcuts}`]:{gridColumn:1,gridRow:"2 / 3"}}},{props:{hasShortcuts:!0,layoutDirection:"rtl"},style:{[`& .${ep.shortcuts}`]:{gridColumn:4}}}]}),wte=Ut("div",{name:"MuiPickersLayout",slot:"ContentWrapper"})({gridColumn:"2 / 4",gridRow:2,display:"flex",flexDirection:"column"}),oM=M.forwardRef(function(n,t){const r=Qi({props:n,name:"MuiPickersLayout"}),{toolbar:i,content:a,tabs:s,actionBar:l,shortcuts:u,ownerState:f}=yte(r),{orientation:h,variant:m}=Fm(),{sx:b,className:g,classes:v}=r,x=xte(v,f);return d.jsxs(vte,{ref:t,sx:b,className:Kn(x.root,g),ownerState:f,children:[h==="landscape"?u:i,h==="landscape"?i:u,d.jsx(wte,{className:x.contentWrapper,ownerState:f,children:m==="desktop"?d.jsxs(M.Fragment,{children:[a,s]}):d.jsxs(M.Fragment,{children:[s,a]})}),l]})});function wA(e){const{ownerState:n}=Es(),t=ef();return M.useMemo(()=>ze({},n,{isFieldDisabled:e.disabled??!1,isFieldReadOnly:e.readOnly??!1,isFieldRequired:e.required??!1,fieldDirection:t?"rtl":"ltr"}),[n,e.disabled,e.readOnly,e.required,t])}const Ste=xh(d.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Cte=xh(d.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),Ate=xh(d.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),kte=xh(d.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar");xh(d.jsxs(M.Fragment,{children:[d.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),d.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");xh(d.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");xh(d.jsxs(M.Fragment,{children:[d.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),d.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");const Ete=xh(d.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function jte(e){return Ua("MuiPickersTextField",e)}Ga("MuiPickersTextField",["root","focused","disabled","error","required"]);function Tte(e,...n){const t=new URL(`https://mui.com/production-error/?code=${e}`);return n.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${e}; visit ${t} for the full message.`}function Nte(e){if(typeof e!="string")throw new Error(Tte(7));return e.charAt(0).toUpperCase()+e.slice(1)}const Dte={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function _te(e){return Ua("MuiPickersInputBase",e)}const am=Ga("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input","inputSizeSmall","activeBar"]);function Ite(e){return Ua("MuiPickersSectionList",e)}const Qg=Ga("MuiPickersSectionList",["root","section","sectionContent"]),Ote=["slots","slotProps","elements","sectionListRef","classes"],lM=Ut("div",{name:"MuiPickersSectionList",slot:"Root"})({direction:"ltr /*! @noflip */",outline:"none"}),uM=Ut("span",{name:"MuiPickersSectionList",slot:"Section"})({}),cM=Ut("span",{name:"MuiPickersSectionList",slot:"SectionSeparator"})({whiteSpace:"pre"}),dM=Ut("span",{name:"MuiPickersSectionList",slot:"SectionContent"})({outline:"none"}),Mte=e=>da({root:["root"],section:["section"],sectionContent:["sectionContent"]},Ite,e);function Lte(e){const{slots:n,slotProps:t,element:r,classes:i}=e,{ownerState:a}=Es(),s=(n==null?void 0:n.section)??uM,l=_r({elementType:s,externalSlotProps:t==null?void 0:t.section,externalForwardedProps:r.container,className:i.section,ownerState:a}),u=(n==null?void 0:n.sectionContent)??dM,f=_r({elementType:u,externalSlotProps:t==null?void 0:t.sectionContent,externalForwardedProps:r.content,additionalProps:{suppressContentEditableWarning:!0},className:i.sectionContent,ownerState:a}),h=(n==null?void 0:n.sectionSeparator)??cM,m=_r({elementType:h,externalSlotProps:t==null?void 0:t.sectionSeparator,externalForwardedProps:r.before,ownerState:ze({},a,{separatorPosition:"before"})}),b=_r({elementType:h,externalSlotProps:t==null?void 0:t.sectionSeparator,externalForwardedProps:r.after,ownerState:ze({},a,{separatorPosition:"after"})});return d.jsxs(s,ze({},l,{children:[d.jsx(h,ze({},m)),d.jsx(u,ze({},f)),d.jsx(h,ze({},b))]}))}const Rte=M.forwardRef(function(n,t){const r=Qi({props:n,name:"MuiPickersSectionList"}),{slots:i,slotProps:a,elements:s,sectionListRef:l,classes:u}=r,f=Tn(r,Ote),h=Mte(u),{ownerState:m}=Es(),b=M.useRef(null),g=jo(t,b),v=S=>{if(!b.current)throw new Error(`MUI X: Cannot call sectionListRef.${S} before the mount of the component.`);return b.current};M.useImperativeHandle(l,()=>({getRoot(){return v("getRoot")},getSectionContainer(S){return v("getSectionContainer").querySelector(`.${Qg.section}[data-sectionindex="${S}"]`)},getSectionContent(S){return v("getSectionContent").querySelector(`.${Qg.section}[data-sectionindex="${S}"] .${Qg.sectionContent}`)},getSectionIndexFromDOMElement(S){const A=v("getSectionIndexFromDOMElement");if(S==null||!A.contains(S))return null;let N=null;return S.classList.contains(Qg.section)?N=S:S.classList.contains(Qg.sectionContent)&&(N=S.parentElement),N==null?null:Number(N.dataset.sectionindex)}}));const x=(i==null?void 0:i.root)??lM,C=_r({elementType:x,externalSlotProps:a==null?void 0:a.root,externalForwardedProps:f,additionalProps:{ref:g,suppressContentEditableWarning:!0},className:h.root,ownerState:m});return d.jsx(x,ze({},C,{children:C.contentEditable?s.map(({content:S,before:A,after:N})=>`${A.children}${S.children}${N.children}`).join(""):d.jsx(M.Fragment,{children:s.map((S,A)=>d.jsx(Lte,{slots:i,slotProps:a,element:S,classes:h},A))})}))}),fM=M.createContext(null),k2=()=>{const e=M.useContext(fM);if(e==null)throw new Error(["MUI X: The `usePickerTextFieldOwnerState` can only be called in components that are used inside a PickerTextField component"].join(`
`));return e},Pte=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef","onFocus","onBlur","classes","ownerState"],Fte=e=>Math.round(e*1e5)/1e5,E2=Ut("div",{name:"MuiPickersInputBase",slot:"Root"})(({theme:e})=>ze({},e.typography.body1,{color:(e.vars||e).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${Fte(.15/16)}em`,variants:[{props:{isInputInFullWidth:!0},style:{width:"100%"}}]})),SA=Ut(lM,{name:"MuiPickersInputBase",slot:"SectionsContainer"})(({theme:e})=>({padding:"4px 0 5px",fontFamily:e.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px",variants:[{props:{fieldDirection:"rtl"},style:{justifyContent:"end"}},{props:{inputSize:"small"},style:{paddingTop:1}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0},style:{color:"currentColor",opacity:0}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0,inputHasLabel:!1},style:e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:e.palette.mode==="light"?.42:.5}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0,inputHasLabel:!0,isLabelShrunk:!0},style:e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:e.palette.mode==="light"?.42:.5}}]})),zte=Ut(uM,{name:"MuiPickersInputBase",slot:"Section"})(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"inline-block",whiteSpace:"nowrap"})),qte=Ut(dM,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(e,n)=>n.content})(({theme:e})=>({fontFamily:e.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"})),Bte=Ut(cM,{name:"MuiPickersInputBase",slot:"Separator"})(()=>({whiteSpace:"pre",letterSpacing:"inherit"})),$te=Ut("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(e,n)=>n.hiddenInput})(ze({},Dte)),Ute=Ut("div",{name:"MuiPickersInputBase",slot:"ActiveBar"})(({theme:e,ownerState:n})=>({display:"none",position:"absolute",height:2,bottom:2,borderTopLeftRadius:2,borderTopRightRadius:2,transition:e.transitions.create(["width","left"],{duration:e.transitions.duration.shortest}),backgroundColor:(e.vars||e).palette.primary.main,'[data-active-range-position="start"] &, [data-active-range-position="end"] &':{display:"block"},'[data-active-range-position="start"] &':{left:n.sectionOffsets[0]},'[data-active-range-position="end"] &':{left:n.sectionOffsets[1]}})),Hte=(e,n)=>{const{isFieldFocused:t,isFieldDisabled:r,isFieldReadOnly:i,hasFieldError:a,inputSize:s,isInputInFullWidth:l,inputColor:u,hasStartAdornment:f,hasEndAdornment:h}=n,m={root:["root",t&&!r&&"focused",r&&"disabled",i&&"readOnly",a&&"error",l&&"fullWidth",`color${Nte(u)}`,s==="small"&&"inputSizeSmall",f&&"adornedStart",h&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"],activeBar:["activeBar"]};return da(m,_te,e)};function CT(e,n,t,r){var i;if(e.content.id){const a=(i=n.current)==null?void 0:i.querySelectorAll(`[data-sectionindex="${t}"] [data-range-position="${r}"]`);if(a)return Array.from(a).reduce((s,l)=>s+l.offsetWidth,0)}return 0}function Vte(e,n){var i,a,s,l,u;let t=0;if(((i=n.current)==null?void 0:i.getAttribute("data-active-range-position"))==="end")for(let f=e.length-1;f>=e.length/2;f-=1)t+=CT(e[f],n,f,"end");else for(let f=0;f<e.length/2;f+=1)t+=CT(e[f],n,f,"start");return{activeBarWidth:t,sectionOffsets:[((s=(a=n.current)==null?void 0:a.querySelector('[data-sectionindex="0"]'))==null?void 0:s.offsetLeft)||0,((u=(l=n.current)==null?void 0:l.querySelector(`[data-sectionindex="${e.length/2}"]`))==null?void 0:u.offsetLeft)||0]}}const CA=M.forwardRef(function(n,t){const r=Qi({props:n,name:"MuiPickersInputBase"}),{elements:i,areAllSectionsEmpty:a,value:s,onChange:l,id:u,endAdornment:f,startAdornment:h,renderSuffix:m,slots:b,slotProps:g,contentEditable:v,tabIndex:x,onInput:C,onPaste:S,onKeyDown:A,name:N,readOnly:P,inputProps:U,inputRef:B,sectionListRef:j,onFocus:F,onBlur:V,classes:X,ownerState:T}=r,D=Tn(r,Pte),O=k2(),L=M.useRef(null),Q=M.useRef(null),$=M.useRef([]),Y=jo(t,L),Z=jo(U==null?void 0:U.ref,B),re=f_();if(!re)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");const H=T??O,me=we=>{var ve;(ve=re.onFocus)==null||ve.call(re,we),F==null||F(we)},q=we=>{me(we)},z=we=>{var ve,je;if(A==null||A(we),we.key==="Enter"&&!we.defaultMuiPrevented){if((ve=L.current)!=null&&ve.dataset.multiInput)return;const Ee=(je=L.current)==null?void 0:je.closest("form"),Ue=Ee==null?void 0:Ee.querySelector('[type="submit"]');if(!Ee||!Ue)return;we.preventDefault(),Ee.requestSubmit(Ue)}},ne=we=>{var ve;(ve=re.onBlur)==null||ve.call(re,we),V==null||V(we)};M.useEffect(()=>{re&&re.setAdornedStart(!!h)},[re,h]),M.useEffect(()=>{re&&(a?re.onEmpty():re.onFilled())},[re,a]);const oe=Hte(X,H),ee=(b==null?void 0:b.root)||E2,ge=_r({elementType:ee,externalSlotProps:g==null?void 0:g.root,externalForwardedProps:D,additionalProps:{"aria-invalid":re.error,ref:Y},className:oe.root,ownerState:H}),de=(b==null?void 0:b.input)||SA,ye=i.some(we=>we.content["data-range-position"]!==void 0);return M.useEffect(()=>{if(!ye||!H.isPickerOpen)return;const{activeBarWidth:we,sectionOffsets:ve}=Vte(i,L);$.current=[ve[0],ve[1]],Q.current&&(Q.current.style.width=`${we}px`)},[i,ye,H.isPickerOpen]),d.jsxs(ee,ze({},ge,{children:[h,d.jsx(Rte,{sectionListRef:j,elements:i,contentEditable:v,tabIndex:x,className:oe.sectionsContainer,onFocus:me,onBlur:ne,onInput:C,onPaste:S,onKeyDown:z,slots:{root:de,section:zte,sectionContent:qte,sectionSeparator:Bte},slotProps:{root:ze({},g==null?void 0:g.input,{ownerState:H}),sectionContent:{className:am.sectionContent},sectionSeparator:({separatorPosition:we})=>({className:we==="before"?am.sectionBefore:am.sectionAfter})}}),f,m?m(ze({},re)):null,d.jsx($te,ze({name:N,className:oe.input,value:s,onChange:l,id:u,"aria-hidden":"true",tabIndex:-1,readOnly:P,required:re.required,disabled:re.disabled,onFocus:q},U,{ref:Z})),ye&&d.jsx(Ute,{className:oe.activeBar,ref:Q,ownerState:{sectionOffsets:$.current}})]}))});function Wte(e){return Ua("MuiPickersOutlinedInput",e)}const Su=ze({},am,Ga("MuiPickersOutlinedInput",["root","notchedOutline","input"])),Yte=["children","className","label","notched","shrink"],Gte=Ut("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline"})(({theme:e})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}}),AT=Ut("span")(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit"})),Qte=Ut("legend",{shouldForwardProp:e=>xb.shouldForwardProp(e)&&e!=="notched"})(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{inputHasLabel:!1},style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:{inputHasLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{inputHasLabel:!0,notched:!0},style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]}));function Kte(e){const{className:n,label:t,notched:r}=e,i=Tn(e,Yte),a=k2();return d.jsx(Gte,ze({"aria-hidden":!0,className:n},i,{ownerState:a,children:d.jsx(Qte,{ownerState:a,notched:r,children:t?d.jsx(AT,{children:t}):d.jsx(AT,{className:"notranslate",children:""})})}))}const Xte=["label","autoFocus","ownerState","classes","notched"],Zte=Ut(E2,{name:"MuiPickersOutlinedInput",slot:"Root"})(({theme:e})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Su.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Su.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Su.focused} .${Su.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${Su.disabled}`]:{[`& .${Su.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled},"*":{color:(e.vars||e).palette.action.disabled}},[`&.${Su.error} .${Su.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},variants:Object.keys((e.vars??e).palette).filter(t=>{var r;return((r=(e.vars??e).palette[t])==null?void 0:r.main)??!1}).map(t=>({props:{inputColor:t},style:{[`&.${Su.focused}:not(.${Su.error}) .${Su.notchedOutline}`]:{borderColor:(e.vars||e).palette[t].main}}}))}}),Jte=Ut(SA,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer"})({padding:"16.5px 0",variants:[{props:{inputSize:"small"},style:{padding:"8.5px 0"}}]}),ene=e=>{const t=da({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Wte,e);return ze({},e,t)},hM=M.forwardRef(function(n,t){const r=Qi({props:n,name:"MuiPickersOutlinedInput"}),{label:i,classes:a,notched:s}=r,l=Tn(r,Xte),u=f_(),f=ene(a);return d.jsx(CA,ze({slots:{root:Zte,input:Jte},renderSuffix:h=>d.jsx(Kte,{shrink:!!(s||h.adornedStart||h.focused||h.filled),notched:!!(s||h.adornedStart||h.focused||h.filled),className:f.notchedOutline,label:i!=null&&i!==""&&(u!=null&&u.required)?d.jsxs(M.Fragment,{children:[i,"","*"]}):i})},l,{label:i,classes:f,ref:t}))});hM.muiName="Input";function tne(e){return Ua("MuiPickersFilledInput",e)}const tp=ze({},am,Ga("MuiPickersFilledInput",["root","underline","input"])),nne=["label","autoFocus","disableUnderline","hiddenLabel","classes"],rne=Ut(E2,{name:"MuiPickersFilledInput",slot:"Root",shouldForwardProp:e=>h_(e)&&e!=="disableUnderline"})(({theme:e})=>{const n=e.palette.mode==="light",t=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r}},[`&.${tp.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r},[`&.${tp.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:a},variants:[...Object.keys((e.vars??e).palette).filter(s=>(e.vars??e).palette[s].main).map(s=>{var l;return{props:{inputColor:s,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(l=(e.vars||e).palette[s])==null?void 0:l.main}`}}}}),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${tp.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${tp.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${tp.disabled}, .${tp.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${tp.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:{hasStartAdornment:!0},style:{paddingLeft:12}},{props:{hasEndAdornment:!0},style:{paddingRight:12}}]}}),ine=Ut(SA,{name:"MuiPickersFilledInput",slot:"sectionsContainer",shouldForwardProp:e=>h_(e)&&e!=="hiddenLabel"})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{inputSize:"small"},style:{paddingTop:21,paddingBottom:4}},{props:{hasStartAdornment:!0},style:{paddingLeft:0}},{props:{hasEndAdornment:!0},style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,inputSize:"small"},style:{paddingTop:8,paddingBottom:9}}]}),ane=(e,n)=>{const{inputHasUnderline:t}=n,i=da({root:["root",t&&"underline"],input:["input"]},tne,e);return ze({},e,i)},pM=M.forwardRef(function(n,t){const r=Qi({props:n,name:"MuiPickersFilledInput"}),{label:i,disableUnderline:a=!1,hiddenLabel:s=!1,classes:l}=r,u=Tn(r,nne),f=k2(),h=ze({},f,{inputHasUnderline:!a}),m=ane(l,h);return d.jsx(CA,ze({slots:{root:rne,input:ine},slotProps:{root:{disableUnderline:a},input:{hiddenLabel:s}}},u,{label:i,classes:m,ref:t,ownerState:h}))});pM.muiName="Input";function sne(e){return Ua("MuiPickersFilledInput",e)}const Kg=ze({},am,Ga("MuiPickersInput",["root","underline","input"])),one=["label","autoFocus","disableUnderline","ownerState","classes"],lne=Ut(E2,{name:"MuiPickersInput",slot:"Root",shouldForwardProp:e=>xb.shouldForwardProp(e)&&e!=="disableUnderline"})(({theme:e})=>{let t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(t=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys((e.vars??e).palette).filter(r=>(e.vars??e).palette[r].main).map(r=>({props:{inputColor:r,inputHasUnderline:!0},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[r].main}`}}})),{props:{inputHasUnderline:!0},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Kg.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Kg.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Kg.disabled}, .${Kg.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${t}`}},[`&.${Kg.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}}),une=(e,n)=>{const{inputHasUnderline:t}=n,i=da({root:["root",!t&&"underline"],input:["input"]},sne,e);return ze({},e,i)},mM=M.forwardRef(function(n,t){const r=Qi({props:n,name:"MuiPickersInput"}),{label:i,disableUnderline:a=!1,classes:s}=r,l=Tn(r,one),u=k2(),f=ze({},u,{inputHasUnderline:!a}),h=une(s,f);return d.jsx(CA,ze({slots:{root:lne},slotProps:{root:{disableUnderline:a}}},l,{ownerState:f,label:i,classes:h,ref:t}))});mM.muiName="Input";const cne=["onFocus","onBlur","className","classes","color","disabled","error","variant","required","hiddenLabel","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps","data-active-range-position"],dne={standard:mM,filled:pM,outlined:hM},fne=Ut(Xc,{name:"MuiPickersTextField",slot:"Root"})({maxWidth:"100%"}),hne=(e,n)=>{const{isFieldFocused:t,isFieldDisabled:r,isFieldRequired:i}=n;return da({root:["root",t&&!r&&"focused",r&&"disabled",i&&"required"]},jte,e)},gM=M.forwardRef(function(n,t){const r=Qi({props:n,name:"MuiPickersTextField"}),{onFocus:i,onBlur:a,className:s,classes:l,color:u="primary",disabled:f=!1,error:h=!1,variant:m="outlined",required:b=!1,hiddenLabel:g=!1,InputProps:v,inputProps:x,inputRef:C,sectionListRef:S,elements:A,areAllSectionsEmpty:N,onClick:P,onKeyDown:U,onKeyUp:B,onPaste:j,onInput:F,endAdornment:V,startAdornment:X,tabIndex:T,contentEditable:D,focused:O,value:L,onChange:Q,fullWidth:$,id:Y,name:Z,helperText:re,FormHelperTextProps:H,label:me,InputLabelProps:q,"data-active-range-position":z}=r,ne=Tn(r,cne),oe=M.useRef(null),ee=jo(t,oe),ge=S2(Y),de=re&&ge?`${ge}-helper-text`:void 0,ye=me&&ge?`${ge}-label`:void 0,we=wA({disabled:r.disabled,required:r.required,readOnly:v==null?void 0:v.readOnly}),ve=M.useMemo(()=>ze({},we,{isFieldValueEmpty:N,isFieldFocused:O??!1,hasFieldError:h??!1,inputSize:r.size??"medium",inputColor:u??"primary",isInputInFullWidth:$??!1,hasStartAdornment:!!(X??(v==null?void 0:v.startAdornment)),hasEndAdornment:!!(V??(v==null?void 0:v.endAdornment)),inputHasLabel:!!me,isLabelShrunk:!!(q!=null&&q.shrink)}),[we,N,O,h,r.size,u,$,X,V,v==null?void 0:v.startAdornment,v==null?void 0:v.endAdornment,me,q==null?void 0:q.shrink]),je=hne(l,ve),Ee=dne[m],Ue={};return m==="outlined"?(q&&typeof q.shrink<"u"&&(Ue.notched=q.shrink),Ue.label=me):m==="filled"&&(Ue.hiddenLabel=g),d.jsx(fM.Provider,{value:ve,children:d.jsxs(fne,ze({className:Kn(je.root,s),ref:ee,focused:O,disabled:f,variant:m,error:h,color:u,fullWidth:$,required:b,ownerState:ve},ne,{children:[me!=null&&me!==""&&d.jsx(ch,ze({htmlFor:ge,id:ye},q,{children:me})),d.jsx(Ee,ze({elements:A,areAllSectionsEmpty:N,onClick:P,onKeyDown:U,onKeyUp:B,onInput:F,onPaste:j,onFocus:i,onBlur:a,endAdornment:V,startAdornment:X,tabIndex:T,contentEditable:D,value:L,onChange:Q,id:ge,fullWidth:$,inputProps:x,inputRef:C,sectionListRef:S,label:me,name:Z,role:"group","aria-labelledby":ye,"aria-describedby":de,"aria-live":de?"polite":void 0,"data-active-range-position":z},Ue,v)),re&&d.jsx(Vv,ze({id:de},H,{children:re}))]}))})}),pne=["enableAccessibleFieldDOMStructure"],mne=["InputProps","readOnly","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],gne=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],bne=["ownerState"],yne=["ownerState"],xne=["ownerState"],vne=["ownerState"],wne=["InputProps","inputProps"],Sne=e=>{let{enableAccessibleFieldDOMStructure:n}=e,t=Tn(e,pne);if(n){const{InputProps:C,readOnly:S,onClear:A,clearable:N,clearButtonPosition:P,openPickerButtonPosition:U,openPickerAriaLabel:B}=t,j=Tn(t,mne);return{clearable:N,onClear:A,clearButtonPosition:P,openPickerButtonPosition:U,openPickerAriaLabel:B,textFieldProps:ze({},j,{InputProps:ze({},C??{},{readOnly:S})})}}const{onPaste:r,onKeyDown:i,inputMode:a,readOnly:s,InputProps:l,inputProps:u,inputRef:f,onClear:h,clearable:m,clearButtonPosition:b,openPickerButtonPosition:g,openPickerAriaLabel:v}=t,x=Tn(t,gne);return{clearable:m,onClear:h,clearButtonPosition:b,openPickerButtonPosition:g,openPickerAriaLabel:v,textFieldProps:ze({},x,{InputProps:ze({},l??{},{readOnly:s}),inputProps:ze({},u??{},{inputMode:a,onPaste:r,onKeyDown:i,ref:f})})}},AA=M.createContext({slots:{},slotProps:{},inputRef:void 0});function Cne(e){var re,H;const{slots:n,slotProps:t,fieldResponse:r,defaultOpenPickerIcon:i}=e,a=Ch(),s=xA(),l=M.useContext(AA),{textFieldProps:u,onClear:f,clearable:h,openPickerAriaLabel:m,clearButtonPosition:b="end",openPickerButtonPosition:g="end"}=Sne(r),v=wA(u),x=$t(me=>{me.preventDefault(),s==null||s.setOpen(q=>!q)}),C=s?s.triggerStatus:"hidden",S=h?b:null,A=C!=="hidden"?g:null,N=(n==null?void 0:n.textField)??l.slots.textField??(r.enableAccessibleFieldDOMStructure===!1?tn:gM),P=(n==null?void 0:n.inputAdornment)??l.slots.inputAdornment??Dx,U=_r({elementType:P,externalSlotProps:k1(l.slotProps.inputAdornment,t==null?void 0:t.inputAdornment),additionalProps:{position:"start"},ownerState:ze({},v,{position:"start"})}),B=Tn(U,bne),j=_r({elementType:P,externalSlotProps:k1(l.slotProps.inputAdornment,t==null?void 0:t.inputAdornment),additionalProps:{position:"end"},ownerState:ze({},v,{position:"end"})}),F=Tn(j,yne),V=l.slots.openPickerButton??jn,X=_r({elementType:V,externalSlotProps:l.slotProps.openPickerButton,additionalProps:{disabled:C==="disabled",onClick:x,"aria-label":m,edge:u.variant!=="standard"?A:!1},ownerState:v}),T=Tn(X,xne),D=l.slots.openPickerIcon??i,O=_r({elementType:D,externalSlotProps:l.slotProps.openPickerIcon,ownerState:v}),L=(n==null?void 0:n.clearButton)??l.slots.clearButton??jn,Q=_r({elementType:L,externalSlotProps:k1(l.slotProps.clearButton,t==null?void 0:t.clearButton),className:"clearButton",additionalProps:{title:a.fieldClearLabel,tabIndex:-1,onClick:f,disabled:r.disabled||r.readOnly,edge:u.variant!=="standard"&&S!==A?S:!1},ownerState:v}),$=Tn(Q,vne),Y=(n==null?void 0:n.clearIcon)??l.slots.clearIcon??Ete,Z=_r({elementType:Y,externalSlotProps:k1(l.slotProps.clearIcon,t==null?void 0:t.clearIcon),additionalProps:{fontSize:"small"},ownerState:v});return u.ref=jo(u.ref,s==null?void 0:s.rootRef),u.InputProps||(u.InputProps={}),s&&(u.InputProps.ref=s.triggerRef),!((re=u.InputProps)!=null&&re.startAdornment)&&(S==="start"||A==="start")&&(u.InputProps.startAdornment=d.jsxs(P,ze({},B,{children:[A==="start"&&d.jsx(V,ze({},T,{children:d.jsx(D,ze({},O))})),S==="start"&&d.jsx(L,ze({},$,{children:d.jsx(Y,ze({},Z))}))]}))),!((H=u.InputProps)!=null&&H.endAdornment)&&(S==="end"||A==="end")&&(u.InputProps.endAdornment=d.jsxs(P,ze({},F,{children:[S==="end"&&d.jsx(L,ze({},$,{children:d.jsx(Y,ze({},Z))})),A==="end"&&d.jsx(V,ze({},T,{children:d.jsx(D,ze({},O))}))]}))),S!=null&&(u.sx=[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(u.sx)?u.sx:[u.sx]]),d.jsx(N,ze({},u))}function k1(e,n){return e?n?t=>ze({},ib(n,t),ib(e,t)):e:n}function Ane(e){const{ref:n,externalForwardedProps:t,slotProps:r}=e,i=M.useContext(AA),a=xA(),s=wA(t),{InputProps:l,inputProps:u}=t,f=Tn(t,wne),h=_r({elementType:gM,externalSlotProps:k1(i.slotProps.textField,r==null?void 0:r.textField),externalForwardedProps:f,additionalProps:{ref:n,sx:a==null?void 0:a.rootSx,label:a==null?void 0:a.label,name:a==null?void 0:a.name,className:a==null?void 0:a.rootClassName,inputRef:i.inputRef},ownerState:s});return h.inputProps=ze({},u,h.inputProps),h.InputProps=ze({},l,h.InputProps),h}function bM(e){const{slots:n={},slotProps:t={},inputRef:r,children:i}=e,a=M.useMemo(()=>({inputRef:r,slots:{openPickerButton:n.openPickerButton,openPickerIcon:n.openPickerIcon,textField:n.textField,inputAdornment:n.inputAdornment,clearIcon:n.clearIcon,clearButton:n.clearButton},slotProps:{openPickerButton:t.openPickerButton,openPickerIcon:t.openPickerIcon,textField:t.textField,inputAdornment:t.inputAdornment,clearIcon:t.clearIcon,clearButton:t.clearButton}}),[r,n.openPickerButton,n.openPickerIcon,n.textField,n.inputAdornment,n.clearIcon,n.clearButton,t.openPickerButton,t.openPickerIcon,t.textField,t.inputAdornment,t.clearIcon,t.clearButton]);return d.jsx(AA.Provider,{value:a,children:i})}function yM(e){const{steps:n}=e;return nte({steps:n,isViewMatchingStep:(t,r)=>r.views==null||r.views.includes(t),onStepChange:({step:t,defaultView:r,setView:i,view:a,views:s})=>{const l=t.views==null?r:t.views.find(u=>s.includes(u));l!==a&&i(l)}})}const kne=["props","steps"],Ene=["ownerState"],jne=e=>{var B;let{props:n,steps:t}=e,r=Tn(e,kne);const{slots:i,slotProps:a,label:s,inputRef:l,localeText:u}=n,f=yM({steps:t}),{providerProps:h,renderCurrentView:m,ownerState:b}=aM(ze({},r,{props:n,localeText:u,autoFocusView:!0,viewContainerRole:"dialog",variant:"desktop",getStepNavigation:f})),g=h.privateContextValue.labelId,v=((B=a==null?void 0:a.toolbar)==null?void 0:B.hidden)??!1,x=i.field,C=_r({elementType:x,externalSlotProps:a==null?void 0:a.field,additionalProps:ze({},v&&{id:g}),ownerState:b}),S=Tn(C,Ene),A=i.layout??oM;let N=g;v&&(s?N=`${g}-label`:N=void 0);const P=ze({},a,{toolbar:ze({},a==null?void 0:a.toolbar,{titleId:g}),popper:ze({"aria-labelledby":N},a==null?void 0:a.popper)});return{renderPicker:()=>d.jsx(YO,ze({},h,{children:d.jsxs(bM,{slots:i,slotProps:P,inputRef:l,children:[d.jsx(x,ze({},S)),d.jsx(Xee,{slots:i,slotProps:P,children:d.jsx(A,ze({},P==null?void 0:P.layout,{slots:i,slotProps:P,children:m()}))})]})}))}},C0=e=>e.saveQuery!=null,xM=({stateResponse:{localizedDigits:e,sectionsValueBoundaries:n,state:t,timezone:r,setCharacterQuery:i,setTempAndroidValueStr:a,updateSectionValue:s}})=>{const l=si(),u=({keyPressed:m,sectionIndex:b},g,v)=>{const x=m.toLowerCase(),C=t.sections[b];if(t.characterQuery!=null&&(!v||v(t.characterQuery.value))&&t.characterQuery.sectionIndex===b){const A=`${t.characterQuery.value}${x}`,N=g(A,C);if(!C0(N))return i({sectionIndex:b,value:A,sectionType:C.type}),N}const S=g(x,C);return C0(S)&&!S.saveQuery?(i(null),null):(i({sectionIndex:b,value:x,sectionType:C.type}),C0(S)?null:S)},f=m=>{const b=(x,C,S)=>{const A=C.filter(N=>N.toLowerCase().startsWith(S));return A.length===0?{saveQuery:!1}:{sectionValue:A[0],shouldGoToNextSection:A.length===1}},g=(x,C,S,A)=>{const N=P=>FO(l,r,C.type,P);if(C.contentType==="letter")return b(C.format,N(C.format),x);if(S&&A!=null&&PO(l,S).contentType==="letter"){const P=N(S),U=b(S,P,x);return C0(U)?{saveQuery:!1}:ze({},U,{sectionValue:A(U.sectionValue,P)})}return{saveQuery:!1}};return u(m,(x,C)=>{switch(C.type){case"month":{const S=A=>fT(l,A,l.formats.month,C.format);return g(x,C,l.formats.month,S)}case"weekDay":{const S=(A,N)=>N.indexOf(A).toString();return g(x,C,l.formats.weekday,S)}case"meridiem":return g(x,C);default:return{saveQuery:!1}}})},h=m=>{const b=({queryValue:v,skipIfBelowMinimum:x,section:C})=>{const S=kp(v,e),A=Number(S),N=n[C.type]({currentDate:null,format:C.format,contentType:C.contentType});if(A>N.maximum)return{saveQuery:!1};if(x&&A<N.minimum)return{saveQuery:!0};const P=A*10>N.maximum||S.length===N.maximum.toString().length;return{sectionValue:zO(l,A,N,e,C),shouldGoToNextSection:P}};return u(m,(v,x)=>{if(x.contentType==="digit"||x.contentType==="digit-with-letter")return b({queryValue:v,skipIfBelowMinimum:!1,section:x});if(x.type==="month"){qO(l,"digit","month","MM");const C=b({queryValue:v,skipIfBelowMinimum:!0,section:{type:x.type,format:"MM",hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2}});if(C0(C))return C;const S=fT(l,C.sectionValue,"MM",x.format);return ze({},C,{sectionValue:S})}if(x.type==="weekDay"){const C=b({queryValue:v,skipIfBelowMinimum:!0,section:x});if(C0(C))return C;const S=v2(l,x.format)[Number(C.sectionValue)-1];return ze({},C,{sectionValue:S})}return{saveQuery:!1}},v=>dT(v,e))};return $t(m=>{const b=t.sections[m.sectionIndex],v=dT(m.keyPressed,e)?h(ze({},m,{keyPressed:pA(m.keyPressed,e)})):f(m);if(v==null){a(null);return}s({section:b,newSectionValue:v.sectionValue,shouldGoToNextSection:v.shouldGoToNextSection})})},kT={};function Tne(e,n){const t=M.useRef(kT);return t.current===kT&&(t.current=e(n)),t}const Nne=[];function Dne(e){M.useEffect(e,Nne)}class kA{constructor(){_e(this,"currentId",null);_e(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});_e(this,"disposeEffect",()=>this.clear)}static create(){return new kA}start(n,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},n)}}function sm(){const e=Tne(kA.create).current;return Dne(e.disposeEffect),e}const _ne=5e3,vM=e=>{var pe;const n=si(),t=Ch(),r=ef(),{manager:{validator:i,valueType:a,internal_valueManager:s,internal_fieldValueManager:l},internalPropsWithDefaults:u,internalPropsWithDefaults:{value:f,defaultValue:h,referenceDate:m,onChange:b,format:g,formatDensity:v="dense",selectedSections:x,onSelectedSectionsChange:C,shouldRespectLeadingZeros:S=!1,timezone:A,enableAccessibleFieldDOMStructure:N=!0},forwardedProps:{error:P}}=e,{value:U,handleValueChange:B,timezone:j}=Fb({name:"a field component",timezone:A,value:f,defaultValue:h,referenceDate:m,onChange:b,valueManager:s}),F=M.useRef(U);M.useEffect(()=>{F.current=U},[U]);const{hasValidationError:V}=JO({props:u,validator:i,timezone:j,value:U,onError:u.onError}),X=M.useMemo(()=>P!==void 0?P:V,[V,P]),T=M.useMemo(()=>YJ(n),[n]),D=M.useMemo(()=>ZJ(n,T,j),[n,T,j]),O=M.useCallback(tt=>l.getSectionsFromValue(tt,dt=>gT({adapter:n,localeText:t,localizedDigits:T,format:g,date:dt,formatDensity:v,shouldRespectLeadingZeros:S,enableAccessibleFieldDOMStructure:N,isRtl:r})),[l,g,t,T,r,S,n,v,N]),[L,Q]=M.useState(()=>{const tt=O(U),dt={sections:tt,lastExternalValue:U,lastSectionsDependencies:{format:g,isRtl:r,locale:n.locale},tempValueStrAndroid:null,characterQuery:null},lt=HJ(tt),Ze=s.getInitialReferenceValue({referenceDate:m,value:U,adapter:n,props:u,granularity:lt,timezone:j});return ze({},dt,{referenceValue:Ze})}),[$,Y]=_m({controlled:x,default:null,name:"useField",state:"selectedSections"}),Z=tt=>{Y(tt),C==null||C(tt)},re=M.useMemo(()=>I6($,L.sections),[$,L.sections]),H=re==="all"?0:re,me=M.useMemo(()=>tee(L.sections,r&&!N),[L.sections,r,N]),q=M.useMemo(()=>L.sections.every(tt=>tt.value===""),[L.sections]),z=tt=>{const dt={validationError:i({adapter:n,value:tt,timezone:j,props:u})};B(tt,dt)},ne=(tt,dt)=>{const lt=[...L.sections];return lt[tt]=ze({},lt[tt],{value:dt,modified:!0}),lt},oe=M.useRef(null),ee=sm(),ge=tt=>{H!=null&&(oe.current={sectionIndex:H,value:tt},ee.start(0,()=>{oe.current=null}))},de=()=>{s.areValuesEqual(n,U,s.emptyValue)?Q(tt=>ze({},tt,{sections:tt.sections.map(dt=>ze({},dt,{value:""})),tempValueStrAndroid:null,characterQuery:null})):(Q(tt=>ze({},tt,{characterQuery:null})),z(s.emptyValue))},ye=()=>{if(H==null)return;const tt=L.sections[H];tt.value!==""&&(ge(""),l.getDateFromSection(U,tt)===null?Q(dt=>ze({},dt,{sections:ne(H,""),tempValueStrAndroid:null,characterQuery:null})):(Q(dt=>ze({},dt,{characterQuery:null})),z(l.updateDateInValue(U,tt,null))))},we=tt=>{const dt=(Ze,ut)=>{const wt=n.parse(Ze,g);if(!n.isValid(wt))return null;const Et=gT({adapter:n,localeText:t,localizedDigits:T,format:g,date:wt,formatDensity:v,shouldRespectLeadingZeros:S,enableAccessibleFieldDOMStructure:N,isRtl:r});return pT(n,wt,Et,ut,!1)},lt=l.parseValueStr(tt,L.referenceValue,dt);z(lt)},ve=sm(),je=({section:tt,newSectionValue:dt,shouldGoToNextSection:lt})=>{ee.clear(),ve.clear();const Ze=l.getDateFromSection(U,tt);lt&&H<L.sections.length-1&&Z(H+1);const ut=ne(H,dt),wt=l.getDateSectionsFromValue(ut,tt),Et=QJ(n,wt,T);if(n.isValid(Et)){const Ot=pT(n,Et,wt,l.getDateFromSection(L.referenceValue,tt),!0);return Ze==null&&ve.start(0,()=>{F.current===U&&Q(qt=>ze({},qt,{sections:l.clearDateSections(L.sections,tt),tempValueStrAndroid:null}))}),z(l.updateDateInValue(U,tt,Ot))}return wt.every(Ot=>Ot.value!=="")&&(Ze==null||n.isValid(Ze))?(ge(dt),z(l.updateDateInValue(U,tt,Et))):Ze!=null?(ge(dt),z(l.updateDateInValue(U,tt,null))):Q(Ot=>ze({},Ot,{sections:ut,tempValueStrAndroid:null}))},Ee=tt=>Q(dt=>ze({},dt,{tempValueStrAndroid:tt})),Ue=$t(tt=>{Q(dt=>ze({},dt,{characterQuery:tt}))});if(U!==L.lastExternalValue){let tt;oe.current!=null&&!n.isValid(l.getDateFromSection(U,L.sections[oe.current.sectionIndex]))?tt=ne(oe.current.sectionIndex,oe.current.value):tt=O(U),Q(dt=>ze({},dt,{lastExternalValue:U,sections:tt,sectionsDependencies:{format:g,isRtl:r,locale:n.locale},referenceValue:l.updateReferenceValue(n,U,dt.referenceValue),tempValueStrAndroid:null}))}if(r!==L.lastSectionsDependencies.isRtl||g!==L.lastSectionsDependencies.format||n.locale!==L.lastSectionsDependencies.locale){const tt=O(U);Q(dt=>ze({},dt,{lastSectionsDependencies:{format:g,isRtl:r,locale:n.locale},sections:tt,tempValueStrAndroid:null,characterQuery:null}))}L.characterQuery!=null&&!X&&H==null&&Ue(null),L.characterQuery!=null&&((pe=L.sections[L.characterQuery.sectionIndex])==null?void 0:pe.type)!==L.characterQuery.sectionType&&Ue(null),M.useEffect(()=>{oe.current!=null&&(oe.current=null)});const Oe=sm();return M.useEffect(()=>(L.characterQuery!=null&&Oe.start(_ne,()=>Ue(null)),()=>{}),[L.characterQuery,Ue,Oe]),M.useEffect(()=>{L.tempValueStrAndroid!=null&&H!=null&&ye()},[L.sections]),{activeSectionIndex:H,areAllSectionsEmpty:q,error:X,localizedDigits:T,parsedSelectedSections:re,sectionOrder:me,sectionsValueBoundaries:D,state:L,timezone:j,value:U,clearValue:de,clearActiveSection:ye,setCharacterQuery:Ue,setSelectedSections:Z,setTempAndroidValueStr:Ee,updateSectionValue:je,updateValueFromValueStr:we,getSectionsFromValue:O}};function wM(e){const{manager:{internal_useApplyDefaultValuesToFieldInternalProps:n},internalProps:t,skipContextFieldRefAssignment:r}=e,i=xA(),a=HO(),s=jo(t.unstableFieldRef,r?null:a==null?void 0:a.fieldRef),l=i==null?void 0:i.setValue,u=M.useCallback((h,m)=>l==null?void 0:l(h,{validationError:m.validationError,shouldClose:!1}),[l]),f=M.useMemo(()=>a!=null&&i!=null?ze({value:i.value,onChange:u,timezone:i.timezone,disabled:i.disabled,readOnly:i.readOnly,autoFocus:i.autoFocus&&!i.open,focused:i.open?!0:void 0,format:i.fieldFormat,formatDensity:a.formatDensity,enableAccessibleFieldDOMStructure:a.enableAccessibleFieldDOMStructure,selectedSections:a.selectedSections,onSelectedSectionsChange:a.onSelectedSectionsChange,unstableFieldRef:s},t):t,[i,a,t,u,s]);return n(f)}function EA(e){const{focused:n,domGetters:t,stateResponse:{parsedSelectedSections:r,state:i}}=e;if(!t.isReady())return;const a=O1(t.getRoot()).getSelection();if(!a)return;if(r==null){a.rangeCount>0&&a.getRangeAt(0).startContainer instanceof Node&&t.getRoot().contains(a.getRangeAt(0).startContainer)&&a.removeAllRanges(),n&&t.getRoot().blur();return}if(!t.getRoot().contains(lo(t.getRoot())))return;const s=new window.Range;let l;r==="all"?l=t.getRoot():i.sections[r].type==="empty"?l=t.getSectionContainer(r):l=t.getSectionContent(r),s.selectNodeContents(l),l.focus(),a.removeAllRanges(),a.addRange(s)}function SM(e){const n=si(),{manager:{internal_fieldValueManager:t},internalPropsWithDefaults:{minutesStep:r,disabled:i,readOnly:a},stateResponse:{state:s,value:l,activeSectionIndex:u,parsedSelectedSections:f,sectionsValueBoundaries:h,localizedDigits:m,timezone:b,sectionOrder:g,clearValue:v,clearActiveSection:x,setSelectedSections:C,updateSectionValue:S}}=e;return $t(A=>{if(!i)switch(!0){case((A.ctrlKey||A.metaKey)&&String.fromCharCode(A.keyCode)==="A"&&!A.shiftKey&&!A.altKey):{A.preventDefault(),C("all");break}case A.key==="ArrowRight":{if(A.preventDefault(),f==null)C(g.startIndex);else if(f==="all")C(g.endIndex);else{const N=g.neighbors[f].rightIndex;N!==null&&C(N)}break}case A.key==="ArrowLeft":{if(A.preventDefault(),f==null)C(g.endIndex);else if(f==="all")C(g.startIndex);else{const N=g.neighbors[f].leftIndex;N!==null&&C(N)}break}case A.key==="Delete":{if(A.preventDefault(),a)break;f==null||f==="all"?v():x();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(A.key):{if(A.preventDefault(),a||u==null)break;f==="all"&&C(u);const N=s.sections[u],P=One(n,b,N,A.key,h,m,t.getDateFromSection(l,N),{minutesStep:r});S({section:N,newSectionValue:P,shouldGoToNextSection:!1});break}}})}function Ine(e){switch(e){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}}function One(e,n,t,r,i,a,s,l){const u=Ine(r),f=r==="Home",h=r==="End",m=t.value===""||f||h,b=()=>{const v=i[t.type]({currentDate:s,format:t.format,contentType:t.contentType}),x=A=>zO(e,A,v,a,t),C=t.type==="minutes"&&(l!=null&&l.minutesStep)?l.minutesStep:1;let S;if(m){if(t.type==="year"&&!h&&!f)return e.formatByString(e.date(void 0,n),t.format);u>0||f?S=v.minimum:S=v.maximum}else S=parseInt(kp(t.value,a),10)+u*C;return S%C!==0&&((u<0||f)&&(S+=C-(C+S)%C),(u>0||h)&&(S-=S%C)),S>v.maximum?x(v.minimum+(S-v.maximum-1)%(v.maximum-v.minimum+1)):S<v.minimum?x(v.maximum-(v.minimum-S-1)%(v.maximum-v.minimum+1)):x(S)},g=()=>{const v=FO(e,n,t.type,t.format);if(v.length===0)return t.value;if(m)return u>0||f?v[0]:v[v.length-1];const S=((v.indexOf(t.value)+u)%v.length+v.length)%v.length;return v[S]};return t.contentType==="digit"||t.contentType==="digit-with-letter"?b():g()}function Mne(e){const{manager:n,focused:t,setFocused:r,domGetters:i,stateResponse:a,applyCharacterEditing:s,internalPropsWithDefaults:l,stateResponse:{parsedSelectedSections:u,sectionOrder:f,state:h,clearValue:m,setCharacterQuery:b,setSelectedSections:g,updateValueFromValueStr:v},internalPropsWithDefaults:{disabled:x=!1,readOnly:C=!1}}=e,S=SM({manager:n,internalPropsWithDefaults:l,stateResponse:a}),A=sm(),N=$t(F=>{x||!i.isReady()||(r(!0),u==="all"?A.start(0,()=>{const V=document.getSelection().getRangeAt(0).startOffset;if(V===0){g(f.startIndex);return}let X=0,T=0;for(;T<V&&X<h.sections.length;){const D=h.sections[X];X+=1,T+=`${D.startSeparator}${D.value||D.placeholder}${D.endSeparator}`.length}g(X-1)}):t?i.getRoot().contains(F.target)||g(f.startIndex):(r(!0),g(f.startIndex)))}),P=$t(F=>{if(!i.isReady()||u!=="all")return;const X=F.target.textContent??"";i.getRoot().innerHTML=h.sections.map(T=>`${T.startSeparator}${T.value||T.placeholder}${T.endSeparator}`).join(""),EA({focused:t,domGetters:i,stateResponse:a}),X.length===0||X.charCodeAt(0)===10?(m(),g("all")):X.length>1?v(X):(u==="all"&&g(0),s({keyPressed:X,sectionIndex:0}))}),U=$t(F=>{if(C||u!=="all"){F.preventDefault();return}const V=F.clipboardData.getData("text");F.preventDefault(),b(null),v(V)}),B=$t(()=>{if(t||x||!i.isReady())return;const F=lo(i.getRoot());r(!0),i.getSectionIndexFromDOMElement(F)!=null||g(f.startIndex)}),j=$t(()=>{setTimeout(()=>{if(!i.isReady())return;const F=lo(i.getRoot());!i.getRoot().contains(F)&&(r(!1),g(null))})});return{onKeyDown:S,onBlur:j,onFocus:B,onClick:N,onPaste:U,onInput:P,contentEditable:u==="all",tabIndex:u===0?-1:0}}function Lne(e){const{manager:{internal_fieldValueManager:n},stateResponse:{areAllSectionsEmpty:t,state:r,updateValueFromValueStr:i}}=e,a=$t(l=>{i(l.target.value)});return{value:M.useMemo(()=>t?"":n.getV7HiddenInputValueFromSections(r.sections),[t,r.sections,n]),onChange:a}}function Rne(e){const{stateResponse:{setSelectedSections:n},internalPropsWithDefaults:{disabled:t=!1}}=e,r=M.useCallback(i=>a=>{t||a.isDefaultPrevented()||n(i)},[t,n]);return M.useCallback(i=>({"data-sectionindex":i,onClick:r(i)}),[r])}function Pne(e){const n=si(),t=Ch(),r=S2(),{focused:i,domGetters:a,stateResponse:s,applyCharacterEditing:l,manager:{internal_fieldValueManager:u},stateResponse:{parsedSelectedSections:f,sectionsValueBoundaries:h,state:m,value:b,clearActiveSection:g,setCharacterQuery:v,setSelectedSections:x,updateSectionValue:C,updateValueFromValueStr:S},internalPropsWithDefaults:{disabled:A=!1,readOnly:N=!1}}=e,P=f==="all",U=!P&&!A&&!N,B=$t(D=>{if(!a.isReady())return;const O=m.sections[D];a.getSectionContent(D).innerHTML=O.value||O.placeholder,EA({focused:i,domGetters:a,stateResponse:s})}),j=$t(D=>{if(!a.isReady())return;const O=D.target,L=O.textContent??"",Q=a.getSectionIndexFromDOMElement(O),$=m.sections[Q];if(N){B(Q);return}if(L.length===0){if($.value===""){B(Q);return}const Y=D.nativeEvent.inputType;if(Y==="insertParagraph"||Y==="insertLineBreak"){B(Q);return}B(Q),g();return}l({keyPressed:L,sectionIndex:Q}),B(Q)}),F=$t(D=>{D.preventDefault()}),V=$t(D=>{if(D.preventDefault(),N||A||typeof f!="number")return;const O=m.sections[f],L=D.clipboardData.getData("text"),Q=/^[a-zA-Z]+$/.test(L),$=/^[0-9]+$/.test(L),Y=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(L);O.contentType==="letter"&&Q||O.contentType==="digit"&&$||O.contentType==="digit-with-letter"&&Y?(v(null),C({section:O,newSectionValue:L,shouldGoToNextSection:!0})):!Q&&!$&&(v(null),S(L))}),X=$t(D=>{D.preventDefault(),D.dataTransfer.dropEffect="none"}),T=M.useCallback(D=>()=>{A||x(D)},[A,x]);return M.useCallback((D,O)=>{const L=h[D.type]({currentDate:u.getDateFromSection(b,D),contentType:D.contentType,format:D.format});return{onInput:j,onPaste:V,onMouseUp:F,onDragOver:X,onFocus:T(O),"aria-labelledby":`${r}-${D.type}`,"aria-readonly":N,"aria-valuenow":zne(D,n),"aria-valuemin":L.minimum,"aria-valuemax":L.maximum,"aria-valuetext":D.value?Fne(D,n):t.empty,"aria-label":t[D.type],"aria-disabled":A,tabIndex:P||O>0?-1:0,contentEditable:!P&&!A&&!N,role:"spinbutton",id:`${r}-${D.type}`,"data-range-position":D.dateName||void 0,spellCheck:U?!1:void 0,autoCapitalize:U?"off":void 0,autoCorrect:U?"off":void 0,children:D.value||D.placeholder,inputMode:D.contentType==="letter"?"text":"numeric"}},[h,r,P,A,N,U,t,n,j,V,F,X,T,u,b])}function Fne(e,n){if(e.value)switch(e.type){case"month":{if(e.contentType==="digit")return n.format(n.setMonth(n.date(),Number(e.value)-1),"month");const t=n.parse(e.value,e.format);return t?n.format(t,"month"):void 0}case"day":return e.contentType==="digit"?n.format(n.setDate(n.startOfYear(n.date()),Number(e.value)),"dayOfMonthFull"):e.value;case"weekDay":return;default:return}}function zne(e,n){if(e.value)switch(e.type){case"weekDay":return e.contentType==="letter"?void 0:Number(e.value);case"meridiem":{const t=n.parse(`01:00 ${e.value}`,`${n.formats.hours12h}:${n.formats.minutes} ${e.format}`);return t?n.getHours(t)>=12?1:0:void 0}case"day":return e.contentType==="digit-with-letter"?parseInt(e.value,10):Number(e.value);case"month":{if(e.contentType==="digit")return Number(e.value);const t=n.parse(e.value,e.format);return t?n.getMonth(t)+1:void 0}default:return e.contentType!=="letter"?Number(e.value):void 0}}const qne=e=>{const{props:n,manager:t,skipContextFieldRefAssignment:r,manager:{valueType:i,internal_useOpenPickerButtonAriaLabel:a}}=e,{internalProps:s,forwardedProps:l}=ZO(n,i),u=wM({manager:t,internalProps:s,skipContextFieldRefAssignment:r}),{sectionListRef:f,onBlur:h,onClick:m,onFocus:b,onInput:g,onPaste:v,onKeyDown:x,onClear:C,clearable:S}=l,{disabled:A=!1,readOnly:N=!1,autoFocus:P=!1,focused:U,unstableFieldRef:B}=u,j=M.useRef(null),F=jo(f,j),V=M.useMemo(()=>({isReady:()=>j.current!=null,getRoot:()=>j.current.getRoot(),getSectionContainer:pe=>j.current.getSectionContainer(pe),getSectionContent:pe=>j.current.getSectionContent(pe),getSectionIndexFromDOMElement:pe=>j.current.getSectionIndexFromDOMElement(pe)}),[j]),X=vM({manager:t,internalPropsWithDefaults:u,forwardedProps:l}),{areAllSectionsEmpty:T,error:D,parsedSelectedSections:O,sectionOrder:L,state:Q,value:$,clearValue:Y,setSelectedSections:Z}=X,re=xM({stateResponse:X}),H=a($),[me,q]=M.useState(!1);function z(pe=0){if(A||!j.current||ET(j)!=null)return;const tt=I6(pe,Q.sections);q(!0),j.current.getSectionContent(tt).focus()}const ne=Mne({manager:t,internalPropsWithDefaults:u,stateResponse:X,applyCharacterEditing:re,focused:me,setFocused:q,domGetters:V}),oe=Lne({manager:t,stateResponse:X}),ee=Rne({stateResponse:X,internalPropsWithDefaults:u}),ge=Pne({manager:t,stateResponse:X,applyCharacterEditing:re,internalPropsWithDefaults:u,domGetters:V,focused:me}),de=$t(pe=>{x==null||x(pe),ne.onKeyDown(pe)}),ye=$t(pe=>{h==null||h(pe),ne.onBlur(pe)}),we=$t(pe=>{b==null||b(pe),ne.onFocus(pe)}),ve=$t(pe=>{pe.isDefaultPrevented()||(m==null||m(pe),ne.onClick(pe))}),je=$t(pe=>{v==null||v(pe),ne.onPaste(pe)}),Ee=$t(pe=>{g==null||g(pe),ne.onInput(pe)}),Ue=$t((pe,...tt)=>{pe.preventDefault(),C==null||C(pe,...tt),Y(),jT(j)?Z(L.startIndex):z(0)}),Oe=M.useMemo(()=>Q.sections.map((pe,tt)=>{const dt=ge(pe,tt);return{container:ee(tt),content:ge(pe,tt),before:{children:pe.startSeparator},after:{children:pe.endSeparator,"data-range-position":pe.isEndFormatSeparator?dt["data-range-position"]:void 0}}}),[Q.sections,ee,ge]);return M.useEffect(()=>{if(j.current==null)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please add the `enableAccessibleFieldDOMStructure={false}` prop to your Picker or Field component:","","<DatePicker enableAccessibleFieldDOMStructure={false} slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join(`
`));P&&!A&&j.current&&j.current.getSectionContent(L.startIndex).focus()},[]),id(()=>{if(!(!me||!j.current)){if(O==="all")j.current.getRoot().focus();else if(typeof O=="number"){const pe=j.current.getSectionContent(O);pe&&pe.focus()}}},[O,me]),id(()=>{EA({focused:me,domGetters:V,stateResponse:X})}),M.useImperativeHandle(B,()=>({getSections:()=>Q.sections,getActiveSectionIndex:()=>ET(j),setSelectedSections:pe=>{if(A||!j.current)return;const tt=I6(pe,Q.sections);q((tt==="all"?0:tt)!==null),Z(pe)},focusField:z,isFieldFocused:()=>jT(j)})),ze({},l,ne,{onBlur:ye,onClick:ve,onFocus:we,onInput:Ee,onPaste:je,onKeyDown:de,onClear:Ue},oe,{error:D,clearable:!!(S&&!T&&!N&&!A),focused:U??me,sectionListRef:F,enableAccessibleFieldDOMStructure:!0,elements:Oe,areAllSectionsEmpty:T,disabled:A,readOnly:N,autoFocus:P,openPickerAriaLabel:H})};function ET(e){var t;const n=lo((t=e.current)==null?void 0:t.getRoot());return!n||!e.current||!e.current.getRoot().contains(n)?null:e.current.getSectionIndexFromDOMElement(n)}function jT(e){var t;const n=lo((t=e.current)==null?void 0:t.getRoot());return!!e.current&&e.current.getRoot().contains(n)}const W0=e=>e.replace(/[\u2066\u2067\u2068\u2069]/g,""),Bne=(e,n,t)=>{let r=0,i=t?1:0;const a=[];for(let s=0;s<e.length;s+=1){const l=e[s],u=gA(l,t?"input-rtl":"input-ltr",n),f=`${l.startSeparator}${u}${l.endSeparator}`,h=W0(f).length,m=f.length,b=W0(u),g=i+(b===""?0:u.indexOf(b[0]))+l.startSeparator.length,v=g+b.length;a.push(ze({},l,{start:r,end:r+h,startInInput:g,endInInput:v})),r+=h,i+=m}return a},$ne=e=>{const n=ef(),t=sm(),r=sm(),{props:i,manager:a,skipContextFieldRefAssignment:s,manager:{valueType:l,internal_valueManager:u,internal_fieldValueManager:f,internal_useOpenPickerButtonAriaLabel:h}}=e,{internalProps:m,forwardedProps:b}=ZO(i,l),g=wM({manager:a,internalProps:m,skipContextFieldRefAssignment:s}),{onFocus:v,onClick:x,onPaste:C,onBlur:S,onKeyDown:A,onClear:N,clearable:P,inputRef:U,placeholder:B}=b,{readOnly:j=!1,disabled:F=!1,autoFocus:V=!1,focused:X,unstableFieldRef:T}=g,D=M.useRef(null),O=jo(U,D),L=vM({manager:a,internalPropsWithDefaults:g,forwardedProps:b}),{activeSectionIndex:Q,areAllSectionsEmpty:$,error:Y,localizedDigits:Z,parsedSelectedSections:re,sectionOrder:H,state:me,value:q,clearValue:z,clearActiveSection:ne,setCharacterQuery:oe,setSelectedSections:ee,setTempAndroidValueStr:ge,updateSectionValue:de,updateValueFromValueStr:ye,getSectionsFromValue:we}=L,ve=xM({stateResponse:L}),je=h(q),Ee=M.useMemo(()=>Bne(me.sections,Z,n),[me.sections,Z,n]);function Ue(){const ke=D.current.selectionStart??0;let Ke;ke<=Ee[0].startInInput||ke>=Ee[Ee.length-1].endInInput?Ke=1:Ke=Ee.findIndex(Nt=>Nt.startInInput-Nt.startSeparator.length>ke);const He=Ke===-1?Ee.length-1:Ke-1;ee(He)}function Oe(ke=0){var Ke;lo(D.current)!==D.current&&((Ke=D.current)==null||Ke.focus(),ee(ke))}const pe=$t(ke=>{v==null||v(ke);const Ke=D.current;t.start(0,()=>{!Ke||Ke!==D.current||Q==null&&(Ke.value.length&&Number(Ke.selectionEnd)-Number(Ke.selectionStart)===Ke.value.length?ee("all"):Ue())})}),tt=$t((ke,...Ke)=>{ke.isDefaultPrevented()||(x==null||x(ke,...Ke),Ue())}),dt=$t(ke=>{if(C==null||C(ke),ke.preventDefault(),j||F)return;const Ke=ke.clipboardData.getData("text");if(typeof re=="number"){const He=me.sections[re],Nt=/^[a-zA-Z]+$/.test(Ke),It=/^[0-9]+$/.test(Ke),Ft=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(Ke);if(He.contentType==="letter"&&Nt||He.contentType==="digit"&&It||He.contentType==="digit-with-letter"&&Ft){oe(null),de({section:He,newSectionValue:Ke,shouldGoToNextSection:!0});return}if(Nt||It)return}oe(null),ye(Ke)}),lt=$t(ke=>{S==null||S(ke),ee(null)}),Ze=$t(ke=>{if(j)return;const Ke=ke.target.value;if(Ke===""){z();return}const He=ke.nativeEvent.data,Nt=He&&He.length>1,It=Nt?He:Ke,Ft=W0(It);if(re==="all"&&ee(Q),Q==null||Nt){ye(Nt?He:Ft);return}let jt;if(re==="all"&&Ft.length===1)jt=Ft;else{const nn=W0(f.getV6InputValueFromSections(Ee,Z,n));let Tt=-1,Ht=-1;for(let Hn=0;Hn<nn.length;Hn+=1)Tt===-1&&nn[Hn]!==Ft[Hn]&&(Tt=Hn),Ht===-1&&nn[nn.length-Hn-1]!==Ft[Ft.length-Hn-1]&&(Ht=Hn);const un=Ee[Q];if(Tt<un.start||nn.length-Ht-1>un.end)return;const Er=Ft.length-nn.length+un.end-W0(un.endSeparator||"").length;jt=Ft.slice(un.start+W0(un.startSeparator||"").length,Er)}if(jt.length===0){eee()&&ge(It),ne();return}ve({keyPressed:jt,sectionIndex:Q})}),ut=$t((ke,...Ke)=>{ke.preventDefault(),N==null||N(ke,...Ke),z(),TT(D)?ee(H.startIndex):Oe(0)}),wt=SM({manager:a,internalPropsWithDefaults:g,stateResponse:L}),Et=$t(ke=>{A==null||A(ke),wt(ke)}),Ot=M.useMemo(()=>B!==void 0?B:f.getV6InputValueFromSections(we(u.emptyValue),Z,n),[B,f,we,u.emptyValue,Z,n]),qt=M.useMemo(()=>me.tempValueStrAndroid??f.getV6InputValueFromSections(me.sections,Z,n),[me.sections,f,me.tempValueStrAndroid,Z,n]);M.useEffect(()=>{D.current&&D.current===lo(D.current)&&ee("all")},[]),id(()=>{function ke(){if(!D.current)return;if(re==null){D.current.scrollLeft&&(D.current.scrollLeft=0);return}if(D.current!==lo(D.current))return;const Ke=D.current.scrollTop;if(re==="all")D.current.select();else{const He=Ee[re],Nt=He.type==="empty"?He.startInInput-He.startSeparator.length:He.startInInput,It=He.type==="empty"?He.endInInput+He.endSeparator.length:He.endInInput;(Nt!==D.current.selectionStart||It!==D.current.selectionEnd)&&D.current===lo(D.current)&&D.current.setSelectionRange(Nt,It),r.start(0,()=>{D.current&&D.current===lo(D.current)&&D.current.selectionStart===D.current.selectionEnd&&(D.current.selectionStart!==Nt||D.current.selectionEnd!==It)&&ke()})}D.current.scrollTop=Ke}ke()});const Qe=M.useMemo(()=>Q==null||me.sections[Q].contentType==="letter"?"text":"numeric",[Q,me.sections]),De=!(D.current&&D.current===lo(D.current))&&$;return M.useImperativeHandle(T,()=>({getSections:()=>me.sections,getActiveSectionIndex:()=>{const ke=D.current.selectionStart??0,Ke=D.current.selectionEnd??0;if(ke===0&&Ke===0)return null;const He=ke<=Ee[0].startInInput?1:Ee.findIndex(Nt=>Nt.startInInput-Nt.startSeparator.length>ke);return He===-1?Ee.length-1:He-1},setSelectedSections:ke=>ee(ke),focusField:Oe,isFieldFocused:()=>TT(D)})),ze({},b,{error:Y,clearable:!!(P&&!$&&!j&&!F),onBlur:lt,onClick:tt,onFocus:pe,onPaste:dt,onKeyDown:Et,onClear:ut,inputRef:O,enableAccessibleFieldDOMStructure:!1,placeholder:Ot,inputMode:Qe,autoComplete:"off",value:De?"":qt,onChange:Ze,focused:X,disabled:F,readOnly:j,autoFocus:V,openPickerAriaLabel:je})};function TT(e){return e.current===lo(e.current)}const Une=e=>{const n=HO();return(e.props.enableAccessibleFieldDOMStructure??(n==null?void 0:n.enableAccessibleFieldDOMStructure)??!0?qne:$ne)(e)},Hne=e=>{const n=Oee(e);return Une({manager:n,props:e})},Vne=["slots","slotProps"],CM=M.forwardRef(function(n,t){const r=Qi({props:n,name:"MuiDateField"}),{slots:i,slotProps:a}=r,s=Tn(r,Vne),l=Ane({slotProps:a,ref:t,externalForwardedProps:s}),u=Hne(l);return d.jsx(Cne,{slots:i,slotProps:a,fieldResponse:u,defaultOpenPickerIcon:kte})}),AM=({shouldDisableDate:e,shouldDisableMonth:n,shouldDisableYear:t,minDate:r,maxDate:i,disableFuture:a,disablePast:s,timezone:l})=>{const u=si();return M.useCallback(f=>Rb({adapter:u,value:f,timezone:l,props:{shouldDisableDate:e,shouldDisableMonth:n,shouldDisableYear:t,minDate:r,maxDate:i,disableFuture:a,disablePast:s}})!==null,[u,e,n,t,r,i,a,s,l])},Wne=(e,n)=>(t,r)=>{switch(r.type){case"setVisibleDate":return ze({},t,{slideDirection:r.direction,currentMonth:r.month,isMonthSwitchingAnimating:!n.isSameMonth(r.month,t.currentMonth)&&!e&&!r.skipAnimation,focusedDay:r.focusedDay});case"changeMonthTimezone":{const i=r.newTimezone;if(n.getTimezone(t.currentMonth)===i)return t;let a=n.setTimezone(t.currentMonth,i);return n.getMonth(a)!==n.getMonth(t.currentMonth)&&(a=n.setMonth(a,n.getMonth(t.currentMonth))),ze({},t,{currentMonth:a})}case"finishMonthSwitchingAnimation":return ze({},t,{isMonthSwitchingAnimating:!1});default:throw new Error("missing support")}},Yne=e=>{const{value:n,referenceDate:t,disableFuture:r,disablePast:i,maxDate:a,minDate:s,onMonthChange:l,onYearChange:u,reduceAnimations:f,shouldDisableDate:h,timezone:m,getCurrentMonthFromVisibleDate:b}=e,g=si(),v=M.useRef(Wne(!!f,g)).current,x=M.useMemo(()=>rd.getInitialReferenceValue({value:n,adapter:g,timezone:m,props:e,referenceDate:t,granularity:kc.day}),[t,m]),[C,S]=M.useReducer(v,{isMonthSwitchingAnimating:!1,focusedDay:x,currentMonth:g.startOfMonth(x),slideDirection:"left"}),A=AM({shouldDisableDate:h,minDate:s,maxDate:a,disableFuture:r,disablePast:i,timezone:m});M.useEffect(()=>{S({type:"changeMonthTimezone",newTimezone:g.getTimezone(x)})},[x,g]);const N=$t(({target:U,reason:B})=>{if(B==="cell-interaction"&&C.focusedDay!=null&&g.isSameDay(U,C.focusedDay))return;const j=B==="cell-interaction";let F,V;if(B==="cell-interaction")F=b(U,C.currentMonth),V=U;else if(F=g.isSameMonth(U,C.currentMonth)?C.currentMonth:g.startOfMonth(U),V=U,A(V)){const D=g.startOfMonth(U),O=g.endOfMonth(U);V=ab({adapter:g,date:V,minDate:g.isBefore(s,D)?D:s,maxDate:g.isAfter(a,O)?O:a,disablePast:i,disableFuture:r,isDateDisabled:A,timezone:m})}const X=!g.isSameMonth(C.currentMonth,F),T=!g.isSameYear(C.currentMonth,F);X&&(l==null||l(F)),T&&(u==null||u(g.startOfYear(F))),S({type:"setVisibleDate",month:F,direction:g.isAfterDay(F,C.currentMonth)?"left":"right",focusedDay:C.focusedDay!=null&&V!=null&&g.isSameDay(V,C.focusedDay)?C.focusedDay:V,skipAnimation:j})}),P=M.useCallback(()=>{S({type:"finishMonthSwitchingAnimation"})},[]);return{referenceDate:x,calendarState:C,setVisibleDate:N,isDateDisabled:A,onMonthSwitchingAnimationEnd:P}},Gne=e=>Ua("MuiPickersFadeTransitionGroup",e);Ga("MuiPickersFadeTransitionGroup",["root"]);const Qne=["children"],Kne=e=>da({root:["root"]},Gne,e),Xne=Ut(p_,{name:"MuiPickersFadeTransitionGroup",slot:"Root"})({display:"block",position:"relative"});function kM(e){const n=Qi({props:e,name:"MuiPickersFadeTransitionGroup"}),{className:t,reduceAnimations:r,transKey:i,classes:a}=n,{children:s}=n,l=Tn(n,Qne),u=Kne(a),f=Jd();return r?s:d.jsx(Xne,{className:Kn(u.root,t),ownerState:l,children:d.jsx(dh,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:f.transitions.duration.enteringScreen,enter:f.transitions.duration.enteringScreen,exit:0},children:s},i)})}function Zne(e){return Ua("MuiPickersDay",e)}const np=Ga("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]);function EM(e){const{disabled:n,selected:t,today:r,outsideCurrentMonth:i,day:a,disableMargin:s,disableHighlightToday:l,showDaysOutsideCurrentMonth:u}=e,f=si(),{ownerState:h}=Es();return M.useMemo(()=>ze({},h,{day:a,isDaySelected:t??!1,isDayDisabled:n??!1,isDayCurrent:r??!1,isDayOutsideMonth:i??!1,isDayStartOfWeek:f.isSameDay(a,f.startOfWeek(a)),isDayEndOfWeek:f.isSameDay(a,f.endOfWeek(a)),disableMargin:s??!1,disableHighlightToday:l??!1,showDaysOutsideCurrentMonth:u??!1}),[f,h,a,t,n,r,i,s,l,u])}const Jne=["autoFocus","className","classes","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","children","isFirstVisibleCell","isLastVisibleCell","day","selected","disabled","today","outsideCurrentMonth","disableMargin","disableHighlightToday","showDaysOutsideCurrentMonth"],ere=(e,n)=>{const{isDaySelected:t,isDayDisabled:r,isDayCurrent:i,isDayOutsideMonth:a,disableMargin:s,disableHighlightToday:l,showDaysOutsideCurrentMonth:u}=n,f=a&&!u;return da({root:["root",t&&!f&&"selected",r&&"disabled",!s&&"dayWithMargin",!l&&i&&"today",a&&u&&"dayOutsideMonth",f&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},Zne,e)},jM=({theme:e})=>ze({},e.typography.caption,{width:sb,height:sb,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:e.transitions.create("background-color",{duration:e.transitions.duration.short}),color:(e.vars||e).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:gm(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:gm(e.palette.primary.main,e.palette.action.focusOpacity),[`&.${np.selected}`]:{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${np.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${np.disabled}:not(.${np.selected})`]:{color:(e.vars||e).palette.text.disabled},[`&.${np.disabled}&.${np.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${C2}px`}},{props:{isDayOutsideMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(e.vars||e).palette.text.secondary}},{props:{disableHighlightToday:!1,isDayCurrent:!0},style:{[`&:not(.${np.selected})`]:{border:`1px solid ${(e.vars||e).palette.text.secondary}`}}}]}),TM=(e,n)=>{const{ownerState:t}=e;return[n.root,!t.disableMargin&&n.dayWithMargin,!t.disableHighlightToday&&t.isDayCurrent&&n.today,!t.isDayOutsideMonth&&t.showDaysOutsideCurrentMonth&&n.dayOutsideMonth,t.isDayOutsideMonth&&!t.showDaysOutsideCurrentMonth&&n.hiddenDaySpacingFiller]},tre=Ut(vP,{name:"MuiPickersDay",slot:"Root",overridesResolver:TM})(jM),nre=Ut("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:TM})(({theme:e})=>ze({},jM({theme:e}),{opacity:0,pointerEvents:"none"})),Xg=()=>{},rre=M.forwardRef(function(n,t){const r=Qi({props:n,name:"MuiPickersDay"}),{autoFocus:i=!1,className:a,classes:s,isAnimating:l,onClick:u,onDaySelect:f,onFocus:h=Xg,onBlur:m=Xg,onKeyDown:b=Xg,onMouseDown:g=Xg,onMouseEnter:v=Xg,children:x,day:C,selected:S,disabled:A,today:N,outsideCurrentMonth:P,disableMargin:U,disableHighlightToday:B,showDaysOutsideCurrentMonth:j}=r,F=Tn(r,Jne),V=EM({day:C,selected:S,disabled:A,today:N,outsideCurrentMonth:P,disableMargin:U,disableHighlightToday:B,showDaysOutsideCurrentMonth:j}),X=ere(s,V),T=si(),D=M.useRef(null),O=jo(D,t);id(()=>{i&&!A&&!l&&!P&&D.current.focus()},[i,A,l,P]);const L=$=>{g($),P&&$.preventDefault()},Q=$=>{$.defaultMuiPrevented=!0,A||f(C),P&&$.currentTarget.focus(),u&&u($)};return P&&!j?d.jsx(nre,{className:Kn(X.root,X.hiddenDaySpacingFiller,a),ownerState:V,role:F.role}):d.jsx(tre,ze({className:Kn(X.root,a),ref:O,centerRipple:!0,disabled:A,tabIndex:S?0:-1,onKeyDown:$=>b($,C),onFocus:$=>h($,C),onBlur:$=>m($,C),onMouseEnter:$=>v($,C),onClick:Q,onMouseDown:L},F,{ownerState:V,children:x??T.format(C,"dayOfMonth")}))}),ire=M.memo(rre),are=e=>Ua("MuiPickersSlideTransition",e),Dl=Ga("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),sre=["children","className","reduceAnimations","slideDirection","transKey","classes"],ore=(e,n)=>{const{slideDirection:t}=n,r={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${t}`],exitActive:[`slideExitActiveLeft-${t}`]};return da(r,are,e)},lre=Ut(p_,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,n)=>[n.root,{[`.${Dl["slideEnter-left"]}`]:n["slideEnter-left"]},{[`.${Dl["slideEnter-right"]}`]:n["slideEnter-right"]},{[`.${Dl.slideEnterActive}`]:n.slideEnterActive},{[`.${Dl.slideExit}`]:n.slideExit},{[`.${Dl["slideExitActiveLeft-left"]}`]:n["slideExitActiveLeft-left"]},{[`.${Dl["slideExitActiveLeft-right"]}`]:n["slideExitActiveLeft-right"]}]})(({theme:e})=>{const n=e.transitions.create("transform",{duration:e.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${Dl["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${Dl["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${Dl.slideEnterActive}`]:{transform:"translate(0%)",transition:n},[`& .${Dl.slideExit}`]:{transform:"translate(0%)"},[`& .${Dl["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:n,zIndex:0},[`& .${Dl["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:n,zIndex:0}}});function ure(e){const n=Qi({props:e,name:"MuiPickersSlideTransition"}),{children:t,className:r,reduceAnimations:i,slideDirection:a,transKey:s,classes:l}=n,u=Tn(n,sre),{ownerState:f}=Es(),h=ze({},f,{slideDirection:a}),m=ore(l,h),b=Jd();if(i)return d.jsx("div",{className:Kn(m.root,r),children:t});const g={exit:m.exit,enterActive:m.enterActive,enter:m.enter,exitActive:m.exitActive};return d.jsx(lre,{className:Kn(m.root,r),childFactory:v=>M.cloneElement(v,{classNames:g}),role:"presentation",ownerState:h,children:d.jsx(wP,ze({mountOnEnter:!0,unmountOnExit:!0,timeout:b.transitions.duration.complex,classNames:g},u,{children:t}),s)})}const cre=e=>Ua("MuiDayCalendar",e);Ga("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const dre=["parentProps","day","focusedDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],fre=["ownerState"],hre=e=>da({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},cre,e),NM=(sb+C2*2)*6,pre=Ut("div",{name:"MuiDayCalendar",slot:"Root"})({}),mre=Ut("div",{name:"MuiDayCalendar",slot:"Header"})({display:"flex",justifyContent:"center",alignItems:"center"}),gre=Ut(te,{name:"MuiDayCalendar",slot:"WeekDayLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.secondary})),bre=Ut(te,{name:"MuiDayCalendar",slot:"WeekNumberLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.disabled})),yre=Ut(te,{name:"MuiDayCalendar",slot:"WeekNumber"})(({theme:e})=>ze({},e.typography.caption,{width:sb,height:sb,padding:0,margin:`0 ${C2}px`,color:(e.vars||e).palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),xre=Ut("div",{name:"MuiDayCalendar",slot:"LoadingContainer"})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:NM}),vre=Ut(ure,{name:"MuiDayCalendar",slot:"SlideTransition"})({minHeight:NM}),wre=Ut("div",{name:"MuiDayCalendar",slot:"MonthContainer"})({overflow:"hidden"}),Sre=Ut("div",{name:"MuiDayCalendar",slot:"WeekContainer"})({margin:`${C2}px 0`,display:"flex",justifyContent:"center"});function Cre(e){let{parentProps:n,day:t,focusedDay:r,selectedDays:i,isDateDisabled:a,currentMonthNumber:s,isViewFocused:l}=e,u=Tn(e,dre);const{disabled:f,disableHighlightToday:h,isMonthSwitchingAnimating:m,showDaysOutsideCurrentMonth:b,slots:g,slotProps:v,timezone:x}=n,C=si(),S=w2(x),A=r!=null&&C.isSameDay(t,r),N=l&&A,P=i.some(L=>C.isSameDay(L,t)),U=C.isSameDay(t,S),B=M.useMemo(()=>f||a(t),[f,a,t]),j=M.useMemo(()=>C.getMonth(t)!==s,[C,t,s]),F=EM({day:t,selected:P,disabled:B,today:U,outsideCurrentMonth:j,disableMargin:void 0,disableHighlightToday:h,showDaysOutsideCurrentMonth:b}),V=(g==null?void 0:g.day)??ire,X=_r({elementType:V,externalSlotProps:v==null?void 0:v.day,additionalProps:ze({disableHighlightToday:h,showDaysOutsideCurrentMonth:b,role:"gridcell",isAnimating:m,"data-timestamp":C.toJsDate(t).valueOf()},u),ownerState:ze({},F,{day:t,isDayDisabled:B,isDaySelected:P})}),T=Tn(X,fre),D=M.useMemo(()=>{const L=C.startOfMonth(C.setMonth(t,s));return b?C.isSameDay(t,C.startOfWeek(L)):C.isSameDay(t,L)},[s,t,b,C]),O=M.useMemo(()=>{const L=C.endOfMonth(C.setMonth(t,s));return b?C.isSameDay(t,C.endOfWeek(L)):C.isSameDay(t,L)},[s,t,b,C]);return d.jsx(V,ze({},T,{day:t,disabled:B,autoFocus:!j&&N,today:U,outsideCurrentMonth:j,isFirstVisibleCell:D,isLastVisibleCell:O,selected:P,tabIndex:A?0:-1,"aria-selected":P,"aria-current":U?"date":void 0}))}function Are(e){const n=Qi({props:e,name:"MuiDayCalendar"}),t=si(),{onFocusedDayChange:r,className:i,classes:a,currentMonth:s,selectedDays:l,focusedDay:u,loading:f,onSelectedDaysChange:h,onMonthSwitchingAnimationEnd:m,readOnly:b,reduceAnimations:g,renderLoading:v=()=>d.jsx("span",{children:"..."}),slideDirection:x,TransitionProps:C,disablePast:S,disableFuture:A,minDate:N,maxDate:P,shouldDisableDate:U,shouldDisableMonth:B,shouldDisableYear:j,dayOfWeekFormatter:F=ve=>t.format(ve,"weekdayShort").charAt(0).toUpperCase(),hasFocus:V,onFocusedViewChange:X,gridLabelId:T,displayWeekNumber:D,fixedWeekNumber:O,timezone:L}=n,Q=w2(L),$=hre(a),Y=ef(),Z=AM({shouldDisableDate:U,shouldDisableMonth:B,shouldDisableYear:j,minDate:N,maxDate:P,disablePast:S,disableFuture:A,timezone:L}),re=Ch(),H=$t(ve=>{b||h(ve)}),me=ve=>{Z(ve)||(r(ve),X==null||X(!0))},q=$t((ve,je)=>{switch(ve.key){case"ArrowUp":me(t.addDays(je,-7)),ve.preventDefault();break;case"ArrowDown":me(t.addDays(je,7)),ve.preventDefault();break;case"ArrowLeft":{const Ee=t.addDays(je,Y?1:-1),Ue=t.addMonths(je,Y?1:-1),Oe=ab({adapter:t,date:Ee,minDate:Y?Ee:t.startOfMonth(Ue),maxDate:Y?t.endOfMonth(Ue):Ee,isDateDisabled:Z,timezone:L});me(Oe||Ee),ve.preventDefault();break}case"ArrowRight":{const Ee=t.addDays(je,Y?-1:1),Ue=t.addMonths(je,Y?-1:1),Oe=ab({adapter:t,date:Ee,minDate:Y?t.startOfMonth(Ue):Ee,maxDate:Y?Ee:t.endOfMonth(Ue),isDateDisabled:Z,timezone:L});me(Oe||Ee),ve.preventDefault();break}case"Home":me(t.startOfWeek(je)),ve.preventDefault();break;case"End":me(t.endOfWeek(je)),ve.preventDefault();break;case"PageUp":me(t.addMonths(je,1)),ve.preventDefault();break;case"PageDown":me(t.addMonths(je,-1)),ve.preventDefault();break}}),z=$t((ve,je)=>me(je)),ne=$t((ve,je)=>{u!=null&&t.isSameDay(u,je)&&(X==null||X(!1))}),oe=t.getMonth(s),ee=t.getYear(s),ge=M.useMemo(()=>l.filter(ve=>!!ve).map(ve=>t.startOfDay(ve)),[t,l]),de=`${ee}-${oe}`,ye=M.useMemo(()=>M.createRef(),[de]),we=M.useMemo(()=>{const ve=t.getWeekArray(s);let je=t.addMonths(s,1);for(;O&&ve.length<O;){const Ee=t.getWeekArray(je),Ue=t.isSameDay(ve[ve.length-1][0],Ee[0][0]);Ee.slice(Ue?1:0).forEach(Oe=>{ve.length<O&&ve.push(Oe)}),je=t.addMonths(je,1)}return ve},[s,O,t]);return d.jsxs(pre,{role:"grid","aria-labelledby":T,className:$.root,children:[d.jsxs(mre,{role:"row",className:$.header,children:[D&&d.jsx(bre,{variant:"caption",role:"columnheader","aria-label":re.calendarWeekNumberHeaderLabel,className:$.weekNumberLabel,children:re.calendarWeekNumberHeaderText}),qJ(t,Q).map((ve,je)=>d.jsx(gre,{variant:"caption",role:"columnheader","aria-label":t.format(ve,"weekday"),className:$.weekDayLabel,children:F(ve)},je.toString()))]}),f?d.jsx(xre,{className:$.loadingContainer,children:v()}):d.jsx(vre,ze({transKey:de,onExited:m,reduceAnimations:g,slideDirection:x,className:Kn(i,$.slideTransition)},C,{nodeRef:ye,children:d.jsx(wre,{ref:ye,role:"rowgroup",className:$.monthContainer,children:we.map((ve,je)=>d.jsxs(Sre,{role:"row",className:$.weekContainer,"aria-rowindex":je+1,children:[D&&d.jsx(yre,{className:$.weekNumber,role:"rowheader","aria-label":re.calendarWeekNumberAriaLabelText(t.getWeekNumber(ve[0])),children:re.calendarWeekNumberText(t.getWeekNumber(ve[0]))}),ve.map((Ee,Ue)=>d.jsx(Cre,{parentProps:n,day:Ee,selectedDays:ge,isViewFocused:V,focusedDay:u,onKeyDown:q,onFocus:z,onBlur:ne,onDaySelect:H,isDateDisabled:Z,currentMonthNumber:oe,"aria-colindex":Ue+1},Ee.toString()))]},`week-${ve[0]}`))})}))]})}function DM(e){return Ua("MuiMonthCalendar",e)}const Sx=Ga("MuiMonthCalendar",["root","button","disabled","selected"]),kre=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],Ere=(e,n)=>{const t={button:["button",n.isMonthDisabled&&"disabled",n.isMonthSelected&&"selected"]};return da(t,DM,e)},jre=Ut("button",{name:"MuiMonthCalendar",slot:"Button",overridesResolver:(e,n)=>[n.button,{[`&.${Sx.disabled}`]:n.disabled},{[`&.${Sx.selected}`]:n.selected}]})(({theme:e})=>ze({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:gm(e.palette.action.active,e.palette.action.hoverOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:gm(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Sx.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${Sx.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),Tre=M.memo(function(n){const{autoFocus:t,classes:r,disabled:i,selected:a,value:s,onClick:l,onKeyDown:u,onFocus:f,onBlur:h,slots:m,slotProps:b}=n,g=Tn(n,kre),v=M.useRef(null),{ownerState:x}=Es(),C=ze({},x,{isMonthDisabled:i,isMonthSelected:a}),S=Ere(r,C);id(()=>{var P;t&&((P=v.current)==null||P.focus())},[t]);const A=(m==null?void 0:m.monthButton)??jre,N=_r({elementType:A,externalSlotProps:b==null?void 0:b.monthButton,externalForwardedProps:g,additionalProps:{disabled:i,ref:v,type:"button",role:"radio","aria-checked":a,onClick:P=>l(P,s),onKeyDown:P=>u(P,s),onFocus:P=>f(P,s),onBlur:P=>h(P,s)},ownerState:C,className:S.button});return d.jsx(A,ze({},N))}),Nre=["autoFocus","className","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"],Dre=e=>da({root:["root"]},DM,e);function _re(e,n){const t=Qi({props:e,name:n}),r=Pb(t);return ze({},t,r,{monthsPerRow:t.monthsPerRow??3})}const Ire=Ut("div",{name:"MuiMonthCalendar",slot:"Root",shouldForwardProp:e=>xb.shouldForwardProp(e)&&e!=="monthsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:16,padding:"8px 0",width:A2,boxSizing:"border-box",variants:[{props:{monthsPerRow:3},style:{columnGap:24}},{props:{monthsPerRow:4},style:{columnGap:0}}]}),Ore=M.forwardRef(function(n,t){const r=_re(n,"MuiMonthCalendar"),{autoFocus:i,className:a,classes:s,value:l,defaultValue:u,referenceDate:f,disabled:h,disableFuture:m,disablePast:b,maxDate:g,minDate:v,onChange:x,shouldDisableMonth:C,readOnly:S,onMonthFocus:A,hasFocus:N,onFocusedViewChange:P,monthsPerRow:U,timezone:B,gridLabelId:j,slots:F,slotProps:V}=r,X=Tn(r,Nre),{value:T,handleValueChange:D,timezone:O}=Fb({name:"MonthCalendar",timezone:B,value:l,defaultValue:u,referenceDate:f,onChange:x,valueManager:rd}),L=w2(O),Q=ef(),$=si(),{ownerState:Y}=Es(),Z=M.useMemo(()=>rd.getInitialReferenceValue({value:T,adapter:$,props:r,timezone:O,referenceDate:f,granularity:kc.month}),[]),re=Dre(s),H=M.useMemo(()=>$.getMonth(L),[$,L]),me=M.useMemo(()=>T!=null?$.getMonth(T):null,[T,$]),[q,z]=M.useState(()=>me||$.getMonth(Z)),[ne,oe]=_m({name:"MonthCalendar",state:"hasFocus",controlled:N,default:i??!1}),ee=$t(Ee=>{oe(Ee),P&&P(Ee)}),ge=M.useCallback(Ee=>{const Ue=$.startOfMonth(b&&$.isAfter(L,v)?L:v),Oe=$.startOfMonth(m&&$.isBefore(L,g)?L:g),pe=$.startOfMonth(Ee);return $.isBefore(pe,Ue)||$.isAfter(pe,Oe)?!0:C?C(pe):!1},[m,b,g,v,L,C,$]),de=$t((Ee,Ue)=>{if(S)return;const Oe=$.setMonth(T??Z,Ue);D(Oe)}),ye=$t(Ee=>{ge($.setMonth(T??Z,Ee))||(z(Ee),ee(!0),A&&A(Ee))});M.useEffect(()=>{z(Ee=>me!==null&&Ee!==me?me:Ee)},[me]);const we=$t((Ee,Ue)=>{switch(Ee.key){case"ArrowUp":ye((12+Ue-3)%12),Ee.preventDefault();break;case"ArrowDown":ye((12+Ue+3)%12),Ee.preventDefault();break;case"ArrowLeft":ye((12+Ue+(Q?1:-1))%12),Ee.preventDefault();break;case"ArrowRight":ye((12+Ue+(Q?-1:1))%12),Ee.preventDefault();break}}),ve=$t((Ee,Ue)=>{ye(Ue)}),je=$t((Ee,Ue)=>{q===Ue&&ee(!1)});return d.jsx(Ire,ze({ref:t,className:Kn(re.root,a),ownerState:Y,role:"radiogroup","aria-labelledby":j,monthsPerRow:U},X,{children:fA($,T??Z).map(Ee=>{const Ue=$.getMonth(Ee),Oe=$.format(Ee,"monthShort"),pe=$.format(Ee,"month"),tt=Ue===me,dt=h||ge(Ee);return d.jsx(Tre,{selected:tt,value:Ue,onClick:de,onKeyDown:we,autoFocus:ne&&Ue===q,disabled:dt,tabIndex:Ue===q&&!dt?0:-1,onFocus:ve,onBlur:je,"aria-current":H===Ue?"date":void 0,"aria-label":pe,slots:F,slotProps:V,classes:s,children:Oe},Oe)})}))});function _M(e){return Ua("MuiYearCalendar",e)}const Cx=Ga("MuiYearCalendar",["root","button","disabled","selected"]),Mre=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],Lre=(e,n)=>{const t={button:["button",n.isYearDisabled&&"disabled",n.isYearSelected&&"selected"]};return da(t,_M,e)},Rre=Ut("button",{name:"MuiYearCalendar",slot:"Button",overridesResolver:(e,n)=>[n.button,{[`&.${Cx.disabled}`]:n.disabled},{[`&.${Cx.selected}`]:n.selected}]})(({theme:e})=>ze({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.focusOpacity})`:gm(e.palette.action.active,e.palette.action.focusOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:gm(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Cx.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${Cx.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),Pre=M.memo(function(n){const{autoFocus:t,classes:r,disabled:i,selected:a,value:s,onClick:l,onKeyDown:u,onFocus:f,onBlur:h,slots:m,slotProps:b}=n,g=Tn(n,Mre),v=M.useRef(null),{ownerState:x}=Es(),C=ze({},x,{isYearDisabled:i,isYearSelected:a}),S=Lre(r,C);id(()=>{var P;t&&((P=v.current)==null||P.focus())},[t]);const A=(m==null?void 0:m.yearButton)??Rre,N=_r({elementType:A,externalSlotProps:b==null?void 0:b.yearButton,externalForwardedProps:g,additionalProps:{disabled:i,ref:v,type:"button",role:"radio","aria-checked":a,onClick:P=>l(P,s),onKeyDown:P=>u(P,s),onFocus:P=>f(P,s),onBlur:P=>h(P,s)},ownerState:C,className:S.button});return d.jsx(A,ze({},N))}),Fre=["autoFocus","className","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsOrder","yearsPerRow","timezone","gridLabelId","slots","slotProps"],zre=e=>da({root:["root"]},_M,e);function qre(e,n){const t=Qi({props:e,name:n}),r=Pb(t);return ze({},t,r,{yearsPerRow:t.yearsPerRow??3,yearsOrder:t.yearsOrder??"asc"})}const Bre=Ut("div",{name:"MuiYearCalendar",slot:"Root",shouldForwardProp:e=>xb.shouldForwardProp(e)&&e!=="yearsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:12,padding:"6px 0",overflowY:"auto",height:"100%",width:A2,maxHeight:cte,boxSizing:"border-box",position:"relative",variants:[{props:{yearsPerRow:3},style:{columnGap:24}},{props:{yearsPerRow:4},style:{columnGap:0,padding:"0 2px"}}]}),$re=Ut("div",{name:"MuiYearCalendar",slot:"ButtonFiller"})({height:36,width:72}),Ure=M.forwardRef(function(n,t){const r=qre(n,"MuiYearCalendar"),{autoFocus:i,className:a,classes:s,value:l,defaultValue:u,referenceDate:f,disabled:h,disableFuture:m,disablePast:b,maxDate:g,minDate:v,onChange:x,readOnly:C,shouldDisableYear:S,onYearFocus:A,hasFocus:N,onFocusedViewChange:P,yearsOrder:U,yearsPerRow:B,timezone:j,gridLabelId:F,slots:V,slotProps:X}=r,T=Tn(r,Fre),{value:D,handleValueChange:O,timezone:L}=Fb({name:"YearCalendar",timezone:j,value:l,defaultValue:u,referenceDate:f,onChange:x,valueManager:rd}),Q=w2(L),$=ef(),Y=si(),{ownerState:Z}=Es(),re=M.useMemo(()=>rd.getInitialReferenceValue({value:D,adapter:Y,props:r,timezone:L,referenceDate:f,granularity:kc.year}),[]),H=zre(s),me=M.useMemo(()=>Y.getYear(Q),[Y,Q]),q=M.useMemo(()=>D!=null?Y.getYear(D):null,[D,Y]),[z,ne]=M.useState(()=>q||Y.getYear(re)),[oe,ee]=_m({name:"YearCalendar",state:"hasFocus",controlled:N,default:i??!1}),ge=$t(Ze=>{ee(Ze),P&&P(Ze)}),de=M.useCallback(Ze=>{if(b&&Y.isBeforeYear(Ze,Q)||m&&Y.isAfterYear(Ze,Q)||v&&Y.isBeforeYear(Ze,v)||g&&Y.isAfterYear(Ze,g))return!0;if(!S)return!1;const ut=Y.startOfYear(Ze);return S(ut)},[m,b,g,v,Q,S,Y]),ye=$t((Ze,ut)=>{if(C)return;const wt=Y.setYear(D??re,ut);O(wt)}),we=$t(Ze=>{de(Y.setYear(D??re,Ze))||(ne(Ze),ge(!0),A==null||A(Ze))});M.useEffect(()=>{ne(Ze=>q!==null&&Ze!==q?q:Ze)},[q]);const ve=U!=="desc"?B*1:B*-1,je=$&&U==="asc"||!$&&U==="desc"?-1:1,Ee=$t((Ze,ut)=>{switch(Ze.key){case"ArrowUp":we(ut-ve),Ze.preventDefault();break;case"ArrowDown":we(ut+ve),Ze.preventDefault();break;case"ArrowLeft":we(ut-je),Ze.preventDefault();break;case"ArrowRight":we(ut+je),Ze.preventDefault();break}}),Ue=$t((Ze,ut)=>{we(ut)}),Oe=$t((Ze,ut)=>{z===ut&&ge(!1)}),pe=M.useRef(null),tt=jo(t,pe);M.useEffect(()=>{if(i||pe.current===null)return;const Ze=pe.current.querySelector('[tabindex="0"]');if(!Ze)return;const ut=Ze.offsetHeight,wt=Ze.offsetTop,Et=pe.current.clientHeight,Ot=pe.current.scrollTop,qt=wt+ut;ut>Et||wt<Ot||(pe.current.scrollTop=qt-Et/2-ut/2)},[i]);const dt=Y.getYearRange([v,g]);U==="desc"&&dt.reverse();let lt=B-dt.length%B;return lt===B&&(lt=0),d.jsxs(Bre,ze({ref:tt,className:Kn(H.root,a),ownerState:Z,role:"radiogroup","aria-labelledby":F,yearsPerRow:B},T,{children:[dt.map(Ze=>{const ut=Y.getYear(Ze),wt=ut===q,Et=h||de(Ze);return d.jsx(Pre,{selected:wt,value:ut,onClick:ye,onKeyDown:Ee,autoFocus:oe&&ut===z,disabled:Et,tabIndex:ut===z&&!Et?0:-1,onFocus:Ue,onBlur:Oe,"aria-current":me===ut?"date":void 0,slots:V,slotProps:X,classes:s,children:Y.format(Ze,"year")},Y.format(Ze,"year"))}),Array.from({length:lt},(Ze,ut)=>d.jsx($re,{},ut))]}))}),Hre=e=>Ua("MuiPickersCalendarHeader",e),Vre=Ga("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]);function Wre(e){return Ua("MuiPickersArrowSwitcher",e)}Ga("MuiPickersArrowSwitcher",["root","spacer","button","previousIconButton","nextIconButton","leftArrowIcon","rightArrowIcon"]);const Yre=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel","labelId","classes"],Gre=["ownerState"],Qre=["ownerState"],Kre=Ut("div",{name:"MuiPickersArrowSwitcher",slot:"Root"})({display:"flex"}),Xre=Ut("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer"})(({theme:e})=>({width:e.spacing(3)})),NT=Ut(jn,{name:"MuiPickersArrowSwitcher",slot:"Button"})({variants:[{props:{isButtonHidden:!0},style:{visibility:"hidden"}}]}),Zre=e=>da({root:["root"],spacer:["spacer"],button:["button"],previousIconButton:["previousIconButton"],nextIconButton:["nextIconButton"],leftArrowIcon:["leftArrowIcon"],rightArrowIcon:["rightArrowIcon"]},Wre,e),Jre=M.forwardRef(function(n,t){const r=ef(),i=Qi({props:n,name:"MuiPickersArrowSwitcher"}),{children:a,className:s,slots:l,slotProps:u,isNextDisabled:f,isNextHidden:h,onGoToNext:m,nextLabel:b,isPreviousDisabled:g,isPreviousHidden:v,onGoToPrevious:x,previousLabel:C,labelId:S,classes:A}=i,N=Tn(i,Yre),{ownerState:P}=Es(),U=Zre(A),B={isDisabled:f,isHidden:h,goTo:m,label:b},j={isDisabled:g,isHidden:v,goTo:x,label:C},F=(l==null?void 0:l.previousIconButton)??NT,V=_r({elementType:F,externalSlotProps:u==null?void 0:u.previousIconButton,additionalProps:{size:"medium",title:j.label,"aria-label":j.label,disabled:j.isDisabled,edge:"end",onClick:j.goTo},ownerState:ze({},P,{isButtonHidden:j.isHidden??!1}),className:Kn(U.button,U.previousIconButton)}),X=(l==null?void 0:l.nextIconButton)??NT,T=_r({elementType:X,externalSlotProps:u==null?void 0:u.nextIconButton,additionalProps:{size:"medium",title:B.label,"aria-label":B.label,disabled:B.isDisabled,edge:"start",onClick:B.goTo},ownerState:ze({},P,{isButtonHidden:B.isHidden??!1}),className:Kn(U.button,U.nextIconButton)}),D=(l==null?void 0:l.leftArrowIcon)??Cte,O=_r({elementType:D,externalSlotProps:u==null?void 0:u.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:P,className:U.leftArrowIcon}),L=Tn(O,Gre),Q=(l==null?void 0:l.rightArrowIcon)??Ate,$=_r({elementType:Q,externalSlotProps:u==null?void 0:u.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:P,className:U.rightArrowIcon}),Y=Tn($,Qre);return d.jsxs(Kre,ze({ref:t,className:Kn(U.root,s),ownerState:P},N,{children:[d.jsx(F,ze({},V,{children:r?d.jsx(Q,ze({},Y)):d.jsx(D,ze({},L))})),a?d.jsx(te,{variant:"subtitle1",component:"span",id:S,children:a}):d.jsx(Xre,{className:U.spacer,ownerState:P}),d.jsx(X,ze({},T,{children:r?d.jsx(D,ze({},L)):d.jsx(Q,ze({},Y))}))]}))});function eie(e,{disableFuture:n,maxDate:t,timezone:r}){const i=si();return M.useMemo(()=>{const a=i.date(void 0,r),s=i.startOfMonth(n&&i.isBefore(a,t)?a:t);return!i.isAfter(s,e)},[n,t,e,i,r])}function tie(e,{disablePast:n,minDate:t,timezone:r}){const i=si();return M.useMemo(()=>{const a=i.date(void 0,r),s=i.startOfMonth(n&&i.isAfter(a,t)?a:t);return!i.isBefore(s,e)},[n,t,e,i,r])}const nie=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","classes","timezone","format"],rie=["ownerState"],iie=e=>da({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},Hre,e),aie=Ut("div",{name:"MuiPickersCalendarHeader",slot:"Root"})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),sie=Ut("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer"})(({theme:e})=>ze({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},e.typography.body1,{fontWeight:e.typography.fontWeightMedium})),oie=Ut("div",{name:"MuiPickersCalendarHeader",slot:"Label"})({marginRight:6}),lie=Ut(jn,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton"})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${Vre.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),uie=Ut(Ste,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon"})(({theme:e})=>({willChange:"transform",transition:e.transitions.create("transform"),transform:"rotate(0deg)"})),cie=M.forwardRef(function(n,t){const r=Ch(),i=si(),a=Qi({props:n,name:"MuiPickersCalendarHeader"}),{slots:s,slotProps:l,currentMonth:u,disabled:f,disableFuture:h,disablePast:m,maxDate:b,minDate:g,onMonthChange:v,onViewChange:x,view:C,reduceAnimations:S,views:A,labelId:N,className:P,classes:U,timezone:B,format:j=`${i.formats.month} ${i.formats.year}`}=a,F=Tn(a,nie),{ownerState:V}=Es(),X=iie(U),T=(s==null?void 0:s.switchViewButton)??lie,D=_r({elementType:T,externalSlotProps:l==null?void 0:l.switchViewButton,additionalProps:{size:"small","aria-label":r.calendarViewSwitchingButtonAriaLabel(C)},ownerState:ze({},V,{view:C}),className:X.switchViewButton}),O=(s==null?void 0:s.switchViewIcon)??uie,L=_r({elementType:O,externalSlotProps:l==null?void 0:l.switchViewIcon,ownerState:V,className:X.switchViewIcon}),Q=Tn(L,rie),$=()=>v(i.addMonths(u,1)),Y=()=>v(i.addMonths(u,-1)),Z=eie(u,{disableFuture:h,maxDate:b,timezone:B}),re=tie(u,{disablePast:m,minDate:g,timezone:B}),H=()=>{if(!(A.length===1||!x||f))if(A.length===2)x(A.find(q=>q!==C)||A[0]);else{const q=A.indexOf(C)!==0?0:1;x(A[q])}};if(A.length===1&&A[0]==="year")return null;const me=i.formatByString(u,j);return d.jsxs(aie,ze({},F,{ownerState:V,className:Kn(X.root,P),ref:t,children:[d.jsxs(sie,{role:"presentation",onClick:H,ownerState:V,"aria-live":"polite",className:X.labelContainer,children:[d.jsx(kM,{reduceAnimations:S,transKey:me,children:d.jsx(oie,{id:N,ownerState:V,className:X.label,children:me})}),A.length>1&&!f&&d.jsx(T,ze({},D,{children:d.jsx(O,ze({},Q))}))]}),d.jsx(dh,{in:C==="day",appear:!S,enter:!S,children:d.jsx(Jre,{slots:s,slotProps:l,onGoToPrevious:Y,isPreviousDisabled:re,previousLabel:r.previousMonth,onGoToNext:$,isNextDisabled:Z,nextLabel:r.nextMonth})})]}))}),die=Ut("div")({overflow:"hidden",width:A2,maxHeight:vA,display:"flex",flexDirection:"column",margin:"0 auto"}),fie=e=>Ua("MuiDateCalendar",e);Ga("MuiDateCalendar",["root","viewTransitionContainer"]);const hie=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","classes","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsOrder","yearsPerRow","monthsPerRow","timezone"],pie=e=>da({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},fie,e);function mie(e,n){const t=Qi({props:e,name:n}),r=nM(t.reduceAnimations),i=Pb(t);return ze({},t,i,{loading:t.loading??!1,openTo:t.openTo??"day",views:t.views??["year","day"],reduceAnimations:r,renderLoading:t.renderLoading??(()=>d.jsx("span",{children:"..."}))})}const gie=Ut(die,{name:"MuiDateCalendar",slot:"Root"})({display:"flex",flexDirection:"column",height:vA}),bie=Ut(kM,{name:"MuiDateCalendar",slot:"ViewTransitionContainer"})({}),yie=M.forwardRef(function(n,t){const r=si(),{ownerState:i}=Es(),a=S2(),s=mie(n,"MuiDateCalendar"),{autoFocus:l,onViewChange:u,value:f,defaultValue:h,referenceDate:m,disableFuture:b,disablePast:g,onChange:v,onMonthChange:x,reduceAnimations:C,shouldDisableDate:S,shouldDisableMonth:A,shouldDisableYear:N,view:P,views:U,openTo:B,className:j,classes:F,disabled:V,readOnly:X,minDate:T,maxDate:D,disableHighlightToday:O,focusedView:L,onFocusedViewChange:Q,showDaysOutsideCurrentMonth:$,fixedWeekNumber:Y,dayOfWeekFormatter:Z,slots:re,slotProps:H,loading:me,renderLoading:q,displayWeekNumber:z,yearsOrder:ne,yearsPerRow:oe,monthsPerRow:ee,timezone:ge}=s,de=Tn(s,hie),{value:ye,handleValueChange:we,timezone:ve}=Fb({name:"DateCalendar",timezone:ge,value:f,defaultValue:h,referenceDate:m,onChange:v,valueManager:rd}),{view:je,setView:Ee,focusedView:Ue,setFocusedView:Oe,goToNextView:pe,setValueAndGoToNextView:tt}=iM({view:P,views:U,openTo:B,onChange:we,onViewChange:u,autoFocus:l,focusedView:L,onFocusedViewChange:Q}),{referenceDate:dt,calendarState:lt,setVisibleDate:Ze,isDateDisabled:ut,onMonthSwitchingAnimationEnd:wt}=Yne({value:ye,referenceDate:m,reduceAnimations:C,onMonthChange:x,minDate:T,maxDate:D,shouldDisableDate:S,disablePast:g,disableFuture:b,timezone:ve,getCurrentMonthFromVisibleDate:(Tt,Ht)=>r.isSameMonth(Tt,Ht)?Ht:r.startOfMonth(Tt)}),Et=V&&ye||T,Ot=V&&ye||D,qt=`${a}-grid-label`,Qe=Ue!==null,Se=(re==null?void 0:re.calendarHeader)??cie,De=_r({elementType:Se,externalSlotProps:H==null?void 0:H.calendarHeader,additionalProps:{views:U,view:je,currentMonth:lt.currentMonth,onViewChange:Ee,onMonthChange:Tt=>Ze({target:Tt,reason:"header-navigation"}),minDate:Et,maxDate:Ot,disabled:V,disablePast:g,disableFuture:b,reduceAnimations:C,timezone:ve,labelId:qt},ownerState:i}),ke=$t(Tt=>{const Ht=r.startOfMonth(Tt),un=r.endOfMonth(Tt),vn=ut(Tt)?ab({adapter:r,date:Tt,minDate:r.isBefore(T,Ht)?Ht:T,maxDate:r.isAfter(D,un)?un:D,disablePast:g,disableFuture:b,isDateDisabled:ut,timezone:ve}):Tt;vn?(tt(vn,"finish"),Ze({target:vn,reason:"cell-interaction"})):(pe(),Ze({target:Ht,reason:"cell-interaction"}))}),Ke=$t(Tt=>{const Ht=r.startOfYear(Tt),un=r.endOfYear(Tt),vn=ut(Tt)?ab({adapter:r,date:Tt,minDate:r.isBefore(T,Ht)?Ht:T,maxDate:r.isAfter(D,un)?un:D,disablePast:g,disableFuture:b,isDateDisabled:ut,timezone:ve}):Tt;vn?(tt(vn,"finish"),Ze({target:vn,reason:"cell-interaction"})):(pe(),Ze({target:Ht,reason:"cell-interaction"}))}),He=$t(Tt=>we(Tt&&Nv(r,Tt,ye??dt),"finish",je));M.useEffect(()=>{r.isValid(ye)&&Ze({target:ye,reason:"controlled-value-change"})},[ye]);const Nt=pie(F),It={disablePast:g,disableFuture:b,maxDate:D,minDate:T},Ft={disableHighlightToday:O,readOnly:X,disabled:V,timezone:ve,gridLabelId:qt,slots:re,slotProps:H},jt=M.useRef(je);M.useEffect(()=>{jt.current!==je&&(Ue===jt.current&&Oe(je,!0),jt.current=je)},[Ue,Oe,je]);const nn=M.useMemo(()=>[ye],[ye]);return d.jsxs(gie,ze({ref:t,className:Kn(Nt.root,j),ownerState:i},de,{children:[d.jsx(Se,ze({},De,{slots:re,slotProps:H})),d.jsx(bie,{reduceAnimations:C,className:Nt.viewTransitionContainer,transKey:je,ownerState:i,children:d.jsxs("div",{children:[je==="year"&&d.jsx(Ure,ze({},It,Ft,{value:ye,onChange:Ke,shouldDisableYear:N,hasFocus:Qe,onFocusedViewChange:Tt=>Oe("year",Tt),yearsOrder:ne,yearsPerRow:oe,referenceDate:dt})),je==="month"&&d.jsx(Ore,ze({},It,Ft,{hasFocus:Qe,className:j,value:ye,onChange:ke,shouldDisableMonth:A,onFocusedViewChange:Tt=>Oe("month",Tt),monthsPerRow:ee,referenceDate:dt})),je==="day"&&d.jsx(Are,ze({},lt,It,Ft,{onMonthSwitchingAnimationEnd:wt,hasFocus:Qe,onFocusedDayChange:Tt=>Ze({target:Tt,reason:"cell-interaction"}),reduceAnimations:C,selectedDays:nn,onSelectedDaysChange:He,shouldDisableDate:S,shouldDisableMonth:A,shouldDisableYear:N,onFocusedViewChange:Tt=>Oe("day",Tt),showDaysOutsideCurrentMonth:$,fixedWeekNumber:Y,dayOfWeekFormatter:Z,displayWeekNumber:z,loading:me,renderLoading:q}))]})})]}))}),om=({view:e,onViewChange:n,views:t,focusedView:r,onFocusedViewChange:i,value:a,defaultValue:s,referenceDate:l,onChange:u,className:f,classes:h,disableFuture:m,disablePast:b,minDate:g,maxDate:v,shouldDisableDate:x,shouldDisableMonth:C,shouldDisableYear:S,reduceAnimations:A,onMonthChange:N,monthsPerRow:P,onYearChange:U,yearsOrder:B,yearsPerRow:j,slots:F,slotProps:V,loading:X,renderLoading:T,disableHighlightToday:D,readOnly:O,disabled:L,showDaysOutsideCurrentMonth:Q,dayOfWeekFormatter:$,sx:Y,autoFocus:Z,fixedWeekNumber:re,displayWeekNumber:H,timezone:me})=>d.jsx(yie,{view:e,onViewChange:n,views:t.filter(lT),focusedView:r&&lT(r)?r:null,onFocusedViewChange:i,value:a,defaultValue:s,referenceDate:l,onChange:u,className:f,classes:h,disableFuture:m,disablePast:b,minDate:g,maxDate:v,shouldDisableDate:x,shouldDisableMonth:C,shouldDisableYear:S,reduceAnimations:A,onMonthChange:N,monthsPerRow:P,onYearChange:U,yearsOrder:B,yearsPerRow:j,slots:F,slotProps:V,loading:X,renderLoading:T,disableHighlightToday:D,readOnly:O,disabled:L,showDaysOutsideCurrentMonth:Q,dayOfWeekFormatter:$,sx:Y,autoFocus:Z,fixedWeekNumber:re,displayWeekNumber:H,timezone:me}),IM=M.forwardRef(function(n,t){var u;const r=si(),i=eM(n,"MuiDesktopDatePicker"),a=ze({day:om,month:om,year:om},i.viewRenderers),s=ze({},i,{closeOnSelect:i.closeOnSelect??!0,viewRenderers:a,format:hA(r,i,!1),yearsPerRow:i.yearsPerRow??4,slots:ze({field:CM},i.slots),slotProps:ze({},i.slotProps,{field:f=>{var h;return ze({},ib((h=i.slotProps)==null?void 0:h.field,f),XO(i))},toolbar:ze({hidden:!0},(u=i.slotProps)==null?void 0:u.toolbar)})}),{renderPicker:l}=jne({ref:t,props:s,valueManager:rd,valueType:"date",validator:Rb,steps:null});return l()});IM.propTypes={autoFocus:Be.bool,className:Be.string,closeOnSelect:Be.bool,dayOfWeekFormatter:Be.func,defaultValue:Be.object,disabled:Be.bool,disableFuture:Be.bool,disableHighlightToday:Be.bool,disableOpenPicker:Be.bool,disablePast:Be.bool,displayWeekNumber:Be.bool,enableAccessibleFieldDOMStructure:Be.any,fixedWeekNumber:Be.number,format:Be.string,formatDensity:Be.oneOf(["dense","spacious"]),inputRef:LO,label:Be.node,loading:Be.bool,localeText:Be.object,maxDate:Be.object,minDate:Be.object,monthsPerRow:Be.oneOf([3,4]),name:Be.string,onAccept:Be.func,onChange:Be.func,onClose:Be.func,onError:Be.func,onMonthChange:Be.func,onOpen:Be.func,onSelectedSectionsChange:Be.func,onViewChange:Be.func,onYearChange:Be.func,open:Be.bool,openTo:Be.oneOf(["day","month","year"]),orientation:Be.oneOf(["landscape","portrait"]),readOnly:Be.bool,reduceAnimations:Be.bool,referenceDate:Be.object,renderLoading:Be.func,selectedSections:Be.oneOfType([Be.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),Be.number]),shouldDisableDate:Be.func,shouldDisableMonth:Be.func,shouldDisableYear:Be.func,showDaysOutsideCurrentMonth:Be.bool,slotProps:Be.object,slots:Be.object,sx:Be.oneOfType([Be.arrayOf(Be.oneOfType([Be.func,Be.object,Be.bool])),Be.func,Be.object]),timezone:Be.string,value:Be.object,view:Be.oneOf(["day","month","year"]),viewRenderers:Be.shape({day:Be.func,month:Be.func,year:Be.func}),views:Be.arrayOf(Be.oneOf(["day","month","year"]).isRequired),yearsOrder:Be.oneOf(["asc","desc"]),yearsPerRow:Be.oneOf([3,4])};const xie=Ut(la)({[`& .${JE.container}`]:{outline:0},[`& .${JE.paper}`]:{outline:0,minWidth:A2}}),vie=Ut(ua)({"&:first-of-type":{padding:0}});function wie(e){const{children:n,slots:t,slotProps:r}=e,{open:i}=Fm(),{dismissViews:a,onPopperExited:s}=Es(),l=(t==null?void 0:t.dialog)??xie,u=(t==null?void 0:t.mobileTransition)??dh;return d.jsx(l,ze({open:i,onClose:()=>{a(),s==null||s()}},r==null?void 0:r.dialog,{TransitionComponent:u,TransitionProps:r==null?void 0:r.mobileTransition,PaperComponent:t==null?void 0:t.mobilePaper,PaperProps:r==null?void 0:r.mobilePaper,children:d.jsx(vie,{children:n})}))}const Sie=["props","steps"],Cie=["ownerState"],Aie=e=>{var B;let{props:n,steps:t}=e,r=Tn(e,Sie);const{slots:i,slotProps:a,label:s,inputRef:l,localeText:u}=n,f=yM({steps:t}),{providerProps:h,renderCurrentView:m,ownerState:b}=aM(ze({},r,{props:n,localeText:u,autoFocusView:!0,viewContainerRole:"dialog",variant:"mobile",getStepNavigation:f})),g=h.privateContextValue.labelId,v=((B=a==null?void 0:a.toolbar)==null?void 0:B.hidden)??!1,x=i.field,C=_r({elementType:x,externalSlotProps:a==null?void 0:a.field,additionalProps:ze({},v&&{id:g}),ownerState:b}),S=Tn(C,Cie),A=i.layout??oM;let N=g;v&&(s?N=`${g}-label`:N=void 0);const P=ze({},a,{toolbar:ze({},a==null?void 0:a.toolbar,{titleId:g}),mobilePaper:ze({"aria-labelledby":N},a==null?void 0:a.mobilePaper)});return{renderPicker:()=>d.jsx(YO,ze({},h,{children:d.jsxs(bM,{slots:i,slotProps:P,inputRef:l,children:[d.jsx(x,ze({},S)),d.jsx(wie,{slots:i,slotProps:P,children:d.jsx(A,ze({},P==null?void 0:P.layout,{slots:i,slotProps:P,children:m()}))})]})}))}},OM=M.forwardRef(function(n,t){var u;const r=si(),i=eM(n,"MuiMobileDatePicker"),a=ze({day:om,month:om,year:om},i.viewRenderers),s=ze({},i,{viewRenderers:a,format:hA(r,i,!1),slots:ze({field:CM},i.slots),slotProps:ze({},i.slotProps,{field:f=>{var h;return ze({},ib((h=i.slotProps)==null?void 0:h.field,f),XO(i))},toolbar:ze({hidden:!1},(u=i.slotProps)==null?void 0:u.toolbar)})}),{renderPicker:l}=Aie({ref:t,props:s,valueManager:rd,valueType:"date",validator:Rb,steps:null});return l()});OM.propTypes={autoFocus:Be.bool,className:Be.string,closeOnSelect:Be.bool,dayOfWeekFormatter:Be.func,defaultValue:Be.object,disabled:Be.bool,disableFuture:Be.bool,disableHighlightToday:Be.bool,disableOpenPicker:Be.bool,disablePast:Be.bool,displayWeekNumber:Be.bool,enableAccessibleFieldDOMStructure:Be.any,fixedWeekNumber:Be.number,format:Be.string,formatDensity:Be.oneOf(["dense","spacious"]),inputRef:LO,label:Be.node,loading:Be.bool,localeText:Be.object,maxDate:Be.object,minDate:Be.object,monthsPerRow:Be.oneOf([3,4]),name:Be.string,onAccept:Be.func,onChange:Be.func,onClose:Be.func,onError:Be.func,onMonthChange:Be.func,onOpen:Be.func,onSelectedSectionsChange:Be.func,onViewChange:Be.func,onYearChange:Be.func,open:Be.bool,openTo:Be.oneOf(["day","month","year"]),orientation:Be.oneOf(["landscape","portrait"]),readOnly:Be.bool,reduceAnimations:Be.bool,referenceDate:Be.object,renderLoading:Be.func,selectedSections:Be.oneOfType([Be.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),Be.number]),shouldDisableDate:Be.func,shouldDisableMonth:Be.func,shouldDisableYear:Be.func,showDaysOutsideCurrentMonth:Be.bool,slotProps:Be.object,slots:Be.object,sx:Be.oneOfType([Be.arrayOf(Be.oneOfType([Be.func,Be.object,Be.bool])),Be.func,Be.object]),timezone:Be.string,value:Be.object,view:Be.oneOf(["day","month","year"]),viewRenderers:Be.shape({day:Be.func,month:Be.func,year:Be.func}),views:Be.arrayOf(Be.oneOf(["day","month","year"]).isRequired),yearsOrder:Be.oneOf(["asc","desc"]),yearsPerRow:Be.oneOf([3,4])};const kie=["desktopModeMediaQuery"],DT=M.forwardRef(function(n,t){const r=Qi({props:n,name:"MuiDatePicker"}),{desktopModeMediaQuery:i=Uee}=r,a=Tn(r,kie);return Pu(i,{defaultMatches:!0})?d.jsx(IM,ze({ref:t},a)):d.jsx(OM,ze({ref:t},a))}),Eie={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},jie={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",dayOfMonthFull:"do",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class Tie{constructor(n){_e(this,"isMUIAdapter",!0);_e(this,"isTimezoneCompatible",!1);_e(this,"formatTokenMap",Eie);_e(this,"escapedCharacters",{start:"'",end:"'"});_e(this,"date",n=>typeof n>"u"?new Date:n===null?null:new Date(n));_e(this,"getInvalidDate",()=>new Date("Invalid Date"));_e(this,"getTimezone",()=>"default");_e(this,"setTimezone",n=>n);_e(this,"toJsDate",n=>n);_e(this,"getCurrentLocaleCode",()=>this.locale.code);_e(this,"is12HourCycleInCurrentLocale",()=>/a/.test(this.locale.formatLong.time({width:"short"})));_e(this,"expandFormat",n=>{const t=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;return n.match(t).map(r=>{const i=r[0];if(i==="p"||i==="P"){const a=this.longFormatters[i];return a(r,this.locale.formatLong)}return r}).join("")});_e(this,"formatNumber",n=>n);_e(this,"getDayOfWeek",n=>n.getDay()+1);const{locale:t,formats:r,longFormatters:i,lib:a}=n;this.locale=t,this.formats=ze({},jie,r),this.longFormatters=i,this.lib=a||"date-fns"}}class Nie extends Tie{constructor({locale:t,formats:r}={}){super({locale:t??YC,formats:r,longFormatters:tb});_e(this,"parse",(t,r)=>t===""?null:Lx(t,r,new Date,{locale:this.locale}));_e(this,"isValid",t=>t==null?!1:eb(t));_e(this,"format",(t,r)=>this.formatByString(t,this.formats[r]));_e(this,"formatByString",(t,r)=>f6(t,r,{locale:this.locale}));_e(this,"isEqual",(t,r)=>t===null&&r===null?!0:t===null||r===null?!1:E7(t,r));_e(this,"isSameYear",(t,r)=>I7(t,r));_e(this,"isSameMonth",(t,r)=>_7(t,r));_e(this,"isSameDay",(t,r)=>v7(t,r));_e(this,"isSameHour",(t,r)=>NG(t,r));_e(this,"isAfter",(t,r)=>Ru(t,r));_e(this,"isAfterYear",(t,r)=>Ru(t,bv(r)));_e(this,"isAfterDay",(t,r)=>Ru(t,gv(r)));_e(this,"isBefore",(t,r)=>Hc(t,r));_e(this,"isBeforeYear",(t,r)=>Hc(t,this.startOfYear(r)));_e(this,"isBeforeDay",(t,r)=>Hc(t,this.startOfDay(r)));_e(this,"isWithinRange",(t,[r,i])=>Em(t,{start:r,end:i}));_e(this,"startOfYear",t=>_b(t));_e(this,"startOfMonth",t=>WC(t));_e(this,"startOfWeek",t=>td(t,{locale:this.locale}));_e(this,"startOfDay",t=>hh(t));_e(this,"endOfYear",t=>bv(t));_e(this,"endOfMonth",t=>VC(t));_e(this,"endOfWeek",t=>w7(t,{locale:this.locale}));_e(this,"endOfDay",t=>gv(t));_e(this,"addYears",(t,r)=>$c(t,r));_e(this,"addMonths",(t,r)=>Vl(t,r));_e(this,"addWeeks",(t,r)=>J1(t,r));_e(this,"addDays",(t,r)=>$l(t,r));_e(this,"addHours",(t,r)=>b7(t,r));_e(this,"addMinutes",(t,r)=>fv(t,r));_e(this,"addSeconds",(t,r)=>x7(t,r));_e(this,"getYear",t=>$n(t));_e(this,"getMonth",t=>Gs(t));_e(this,"getDate",t=>h6(t));_e(this,"getHours",t=>Mu(t));_e(this,"getMinutes",t=>Lu(t));_e(this,"getSeconds",t=>Uc(t));_e(this,"getMilliseconds",t=>MY(t));_e(this,"setYear",(t,r)=>Eu(t,r));_e(this,"setMonth",(t,r)=>Ao(t,r));_e(this,"setDate",(t,r)=>QG(t,r));_e(this,"setHours",(t,r)=>T1(t,r));_e(this,"setMinutes",(t,r)=>N1(t,r));_e(this,"setSeconds",(t,r)=>D1(t,r));_e(this,"setMilliseconds",(t,r)=>KG(t,r));_e(this,"getDaysInMonth",t=>k7(t));_e(this,"getWeekArray",t=>{const r=this.startOfWeek(this.startOfMonth(t)),i=this.endOfWeek(this.endOfMonth(t));let a=0,s=r;const l=[];for(;this.isBefore(s,i);){const u=Math.floor(a/7);l[u]=l[u]||[],l[u].push(s),s=this.addDays(s,1),a+=1}return l});_e(this,"getWeekNumber",t=>KC(t,{locale:this.locale}));_e(this,"getYearRange",([t,r])=>{const i=this.startOfYear(t),a=this.endOfYear(r),s=[];let l=i;for(;this.isBefore(l,a);)s.push(l),l=this.addYears(l,1);return s})}}var Zg={},_T;function Die(){if(_T)return Zg;_T=1;var e=ol();Object.defineProperty(Zg,"__esModule",{value:!0}),Zg.default=void 0;var n=e(ul()),t=ll();return Zg.default=(0,n.default)((0,t.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-5h2zm4 0h-2v-3h2zm0-5h-2v-2h2zm4 5h-2V7h2z"}),"Analytics"),Zg}var _ie=Die();const Dv=Ta(_ie);var Jg={},IT;function Iie(){if(IT)return Jg;IT=1;var e=ol();Object.defineProperty(Jg,"__esModule",{value:!0}),Jg.default=void 0;var n=e(ul()),t=ll();return Jg.default=(0,n.default)((0,t.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),Jg}var Oie=Iie();const OT=Ta(Oie);var e1={},MT;function Mie(){if(MT)return e1;MT=1;var e=ol();Object.defineProperty(e1,"__esModule",{value:!0}),e1.default=void 0;var n=e(ul()),t=ll();return e1.default=(0,n.default)((0,t.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),e1}var Lie=Mie();const Rie=Ta(Lie);var t1={},LT;function Pie(){if(LT)return t1;LT=1;var e=ol();Object.defineProperty(t1,"__esModule",{value:!0}),t1.default=void 0;var n=e(ul()),t=ll();return t1.default=(0,n.default)((0,t.jsx)("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList"),t1}var Fie=Pie();const zie=Ta(Fie);var n1={},RT;function qie(){if(RT)return n1;RT=1;var e=ol();Object.defineProperty(n1,"__esModule",{value:!0}),n1.default=void 0;var n=e(ul()),t=ll();return n1.default=(0,n.default)((0,t.jsx)("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 18H4V8h16z"}),"CalendarToday"),n1}var Bie=qie();const PT=Ta(Bie);var r1={},FT;function $ie(){if(FT)return r1;FT=1;var e=ol();Object.defineProperty(r1,"__esModule",{value:!0}),r1.default=void 0;var n=e(ul()),t=ll();return r1.default=(0,n.default)((0,t.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),r1}var Uie=$ie();const Hie=Ta(Uie);function Vie(e){return!("error"in e)}const R6=e=>({REMEMBER:"#9E9E9E",UNDERSTAND:"#2196F3",APPLY:"#4CAF50",ANALYZE:"#FF9800",EVALUATE:"#F44336",CREATE:"#9C27B0"})[e],MM=e=>({low:"#F44336",moderate:"#FF9800",high:"#4CAF50"})[e],Wie=e=>e.includes("improving")?d.jsx(bm,{color:"success"}):e.includes("declining")?d.jsx(SP,{color:"error"}):d.jsx(CP,{color:"action"}),eh=({title:e,value:n,subtitle:t,icon:r,color:i="#1976d2"})=>d.jsx(ri,{sx:{height:"100%",borderLeft:`4px solid ${i}`},children:d.jsxs(ii,{children:[d.jsxs(se,{sx:{display:"flex",alignItems:"center",mb:1},children:[r&&d.jsx(se,{sx:{mr:1,display:"flex"},children:r}),d.jsx(te,{variant:"overline",color:"text.secondary",children:e})]}),d.jsx(te,{variant:"h4",component:"div",sx:{mb:1},children:n}),t&&d.jsx(te,{variant:"body2",color:"text.secondary",children:t})]})}),Yie=({data:e})=>{var n,t,r,i,a,s;return console.log("Single Conversation Analysis Data:",e),e?!e.engagement||!e.blooms_progression?d.jsxs(Cn,{severity:"error",children:[d.jsx(te,{variant:"subtitle2",children:"Incomplete analysis data"}),d.jsx(te,{variant:"body2",children:"Missing required fields in API response. Please check the conversation ID or try again."}),d.jsx(se,{sx:{mt:2,p:2,bgcolor:"grey.100",borderRadius:1},children:d.jsx(te,{variant:"caption",component:"pre",sx:{fontSize:"10px"},children:JSON.stringify(e,null,2)})})]}):d.jsxs(se,{children:[d.jsxs(et,{container:!0,spacing:3,sx:{mb:4},children:[d.jsx(et,{item:!0,xs:12,sm:6,md:3,children:d.jsx(eh,{title:"Total Questions",value:e.total_questions||0,icon:d.jsx(Ul,{}),color:"#2196F3"})}),d.jsx(et,{item:!0,xs:12,sm:6,md:3,children:d.jsx(eh,{title:"Engagement Level",value:((t=(n=e.engagement)==null?void 0:n.engagement_level)==null?void 0:t.toUpperCase())||"N/A",subtitle:`${((r=e.engagement)==null?void 0:r.message_count)||0} messages`,icon:d.jsx(gC,{}),color:(i=e.engagement)!=null&&i.engagement_level?MM(e.engagement.engagement_level):"#9E9E9E"})}),d.jsx(et,{item:!0,xs:12,sm:6,md:3,children:d.jsx(eh,{title:"Highest Bloom Level",value:((a=e.blooms_progression)==null?void 0:a.highest_level_reached)||"N/A",icon:d.jsx(bm,{}),color:(s=e.blooms_progression)!=null&&s.highest_level_reached?R6(e.blooms_progression.highest_level_reached):"#9E9E9E"})}),d.jsx(et,{item:!0,xs:12,sm:6,md:3,children:d.jsx(eh,{title:"Conversation Date",value:e.date?new Date(e.date).toLocaleDateString():"N/A",icon:d.jsx(m_,{}),color:"#9C27B0"})})]}),d.jsxs(an,{sx:{p:3,mb:3},children:[d.jsxs(te,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center"},children:[d.jsx(bm,{sx:{mr:1}}),"Bloom's Taxonomy Progression"]}),d.jsx(Yi,{sx:{mb:2}}),d.jsxs(se,{sx:{mb:2},children:[d.jsxs(te,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Pattern: ",d.jsx("strong",{children:e.blooms_progression.pattern.replace(/_/g," ").toUpperCase()})]}),d.jsx(te,{variant:"body2",sx:{mb:2},children:e.blooms_progression.pattern_explanation})]}),d.jsxs(se,{sx:{mb:2},children:[d.jsx(te,{variant:"body2",gutterBottom:!0,children:"Dominant Levels:"}),d.jsx($1,{direction:"row",spacing:1,sx:{flexWrap:"wrap",gap:1},children:e.blooms_progression.dominant_levels.map(l=>d.jsx(Rn,{label:l,sx:{backgroundColor:R6(l),color:"white",fontWeight:"bold"}},l))})]})]}),d.jsxs(an,{sx:{p:3,mb:3},children:[d.jsxs(te,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center"},children:[d.jsx(rv,{sx:{mr:1}}),"Knowledge Building Patterns"]}),d.jsx(Yi,{sx:{mb:2}}),d.jsx(et,{container:!0,spacing:2,children:Object.entries(e.knowledge_building).map(([l,u])=>d.jsx(et,{item:!0,xs:12,sm:6,children:d.jsx(ri,{variant:"outlined",children:d.jsxs(ii,{children:[d.jsxs(se,{sx:{display:"flex",alignItems:"center",mb:1},children:[d.jsx(te,{variant:"subtitle2",sx:{textTransform:"capitalize"},children:l.replace(/_/g," ")}),d.jsx(Rn,{label:u.detected?"Detected":"Not Detected",size:"small",color:u.detected?"success":"default",sx:{ml:"auto"}})]}),d.jsx(te,{variant:"body2",color:"text.secondary",children:u.explanation})]})})},l))})]}),e.topics&&e.topics.length>0&&d.jsxs(an,{sx:{p:3,mb:3},children:[d.jsx(te,{variant:"h6",gutterBottom:!0,children:"Topics Discussed"}),d.jsx(Yi,{sx:{mb:2}}),d.jsx($d,{children:e.topics.map((l,u)=>d.jsx(Nu,{sx:{flexDirection:"column",alignItems:"flex-start"},children:d.jsxs(se,{sx:{width:"100%",mb:1},children:[d.jsxs(se,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[d.jsx(te,{variant:"subtitle1",children:l.topic}),d.jsx(Rn,{label:`${l.depth} depth`,size:"small",color:l.depth==="deep"?"success":l.depth==="moderate"?"primary":"default"})]}),d.jsxs(te,{variant:"body2",color:"text.secondary",children:[l.question_count," question",l.question_count!==1?"s":""]})]})},u))})]}),d.jsxs(Cn,{severity:"info",icon:d.jsx(rv,{}),children:[d.jsx(te,{variant:"subtitle2",gutterBottom:!0,children:"Overall Interpretation"}),d.jsx(te,{variant:"body2",children:e.interpretation})]})]}):d.jsxs(Cn,{severity:"error",children:[d.jsx(te,{variant:"subtitle2",children:"No analysis data available"}),d.jsx(te,{variant:"body2",children:"The API response was empty or invalid."})]})},Gie=({data:e})=>{var n,t,r,i,a,s,l,u,f,h,m,b,g,v,x,C;return console.log("Multiple Conversations Analysis Data:",e),console.log("Individual Analyses:",e.individual_analyses),e?!e.engagement||!e.progression_analysis?d.jsxs(Cn,{severity:"error",children:[d.jsx(te,{variant:"subtitle2",children:"Incomplete analysis data"}),d.jsx(te,{variant:"body2",children:"Missing required fields in API response. Please try again or check the conversation IDs."}),d.jsx(se,{sx:{mt:2,p:2,bgcolor:"grey.100",borderRadius:1},children:d.jsx(te,{variant:"caption",component:"pre",sx:{fontSize:"10px"},children:JSON.stringify(e,null,2)})})]}):d.jsxs(se,{children:[(e.failed_analyses||0)>0&&d.jsxs(Cn,{severity:"warning",sx:{mb:3},children:[d.jsx(te,{variant:"subtitle2",gutterBottom:!0,children:"Partial Analysis Completed"}),d.jsxs(te,{variant:"body2",children:[e.successful_analyses||0," of ",e.total_conversations||0," conversations analyzed successfully.",e.failed_analyses||0," failed."]})]}),d.jsxs(et,{container:!0,spacing:3,sx:{mb:4},children:[d.jsx(et,{item:!0,xs:12,sm:6,md:3,children:d.jsx(eh,{title:"Total Conversations",value:e.total_conversations||0,subtitle:`${e.successful_analyses||0} successful${(e.failed_analyses||0)>0?`, ${e.failed_analyses} failed`:""}`,icon:d.jsx(m_,{}),color:(e.failed_analyses||0)>0?"#FF9800":"#2196F3"})}),d.jsx(et,{item:!0,xs:12,sm:6,md:3,children:d.jsx(eh,{title:"Total Questions",value:e.total_questions||0,subtitle:`Avg: ${(((n=e.engagement)==null?void 0:n.avg_questions_per_conversation)||0).toFixed(1)}`,icon:d.jsx(Ul,{}),color:"#4CAF50"})}),d.jsx(et,{item:!0,xs:12,sm:6,md:3,children:d.jsx(eh,{title:"Overall Engagement",value:((r=(t=e.engagement)==null?void 0:t.overall_engagement_level)==null?void 0:r.toUpperCase())||"N/A",icon:d.jsx(gC,{}),color:(i=e.engagement)!=null&&i.overall_engagement_level?MM(e.engagement.overall_engagement_level):"#9E9E9E"})}),d.jsx(et,{item:!0,xs:12,sm:6,md:3,children:d.jsx(eh,{title:"Learning Trajectory",value:((s=(a=e.progression_analysis)==null?void 0:a.learning_trajectory)==null?void 0:s.toUpperCase())||"N/A",icon:Wie(((l=e.progression_analysis)==null?void 0:l.learning_trajectory)||""),color:(f=(u=e.progression_analysis)==null?void 0:u.learning_trajectory)!=null&&f.includes("improving")?"#4CAF50":(m=(h=e.progression_analysis)==null?void 0:h.learning_trajectory)!=null&&m.includes("declining")?"#F44336":"#FF9800"})})]}),d.jsxs(an,{sx:{p:3,mb:3},children:[d.jsxs(te,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center"},children:[d.jsx(bm,{sx:{mr:1}}),"Learning Progression"]}),d.jsx(Yi,{sx:{mb:2}}),d.jsxs(se,{sx:{mb:3},children:[d.jsx(te,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Trajectory Explanation:"}),d.jsx(te,{variant:"body2",sx:{mb:2},children:((b=e.progression_analysis)==null?void 0:b.trajectory_explanation)||"N/A"})]}),d.jsxs(se,{sx:{mb:3},children:[d.jsx(te,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Pattern Evolution:"}),d.jsx(te,{variant:"body2",sx:{mb:2},children:((g=e.progression_analysis)==null?void 0:g.pattern_evolution)||"N/A"})]}),d.jsxs(se,{sx:{mb:3},children:[d.jsx(te,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Bloom Level Progression:"}),d.jsx(te,{variant:"body2",children:((v=e.progression_analysis)==null?void 0:v.bloom_level_progression)||"N/A"})]}),((x=e.progression_analysis)==null?void 0:x.mastery_indicators)&&d.jsxs(se,{sx:{mb:3},children:[d.jsx(te,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Mastery Indicators:"}),d.jsx(Cn,{severity:e.progression_analysis.mastery_indicators.detected?"success":"info",sx:{mt:1},children:d.jsx(te,{variant:"body2",children:e.progression_analysis.mastery_indicators.explanation||"N/A"})})]}),((C=e.progression_analysis)==null?void 0:C.topic_depth_analysis)&&Object.keys(e.progression_analysis.topic_depth_analysis).length>0&&d.jsxs(se,{children:[d.jsx(te,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Topic Depth Analysis:"}),(console.log("Topic Depth Analysis Data:",e.progression_analysis.topic_depth_analysis),null),d.jsx(et,{container:!0,spacing:2,sx:{mt:1},children:Object.entries(e.progression_analysis.topic_depth_analysis).map(([S,A])=>{const N=A,P=N&&typeof N=="object"&&"progression"in N,U=N&&typeof N=="object"&&"total_questions"in N;return d.jsx(et,{item:!0,xs:12,sm:6,children:d.jsx(ri,{variant:"outlined",children:d.jsxs(ii,{children:[d.jsx(te,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,children:S}),U&&d.jsxs(te,{variant:"caption",color:"text.secondary",display:"block",gutterBottom:!0,children:["Total Questions: ",d.jsx("strong",{children:N.total_questions})]}),P&&d.jsx(te,{variant:"body2",sx:{mt:1},children:N.progression}),!P&&!U&&d.jsx(te,{variant:"body2",color:"text.secondary",sx:{mt:1},children:typeof N=="string"?N:"No additional details available"})]})})},S)})})]})]}),e.insights&&e.insights.length>0&&d.jsxs(an,{sx:{p:3,mb:3},children:[d.jsxs(te,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center"},children:[d.jsx(rv,{sx:{mr:1}}),"Key Insights"]}),d.jsx(Yi,{sx:{mb:2}}),d.jsx($d,{children:e.insights.map((S,A)=>d.jsx(Nu,{children:d.jsx(Tc,{primary:`${A+1}. ${S}`,primaryTypographyProps:{variant:"body2"}})},A))})]}),d.jsxs(Cn,{severity:"info",icon:d.jsx(rv,{}),sx:{mb:3},children:[d.jsx(te,{variant:"subtitle2",gutterBottom:!0,children:"Overall Interpretation"}),d.jsx(te,{variant:"body2",children:e.interpretation})]}),e.individual_analyses&&e.individual_analyses.length>0&&d.jsxs(an,{sx:{p:3},children:[d.jsx(te,{variant:"h6",gutterBottom:!0,children:"Individual Conversations"}),d.jsx(Yi,{sx:{mb:2}}),d.jsx(se,{children:e.individual_analyses.map((S,A)=>{if(!S||!S.conversation_id)return null;const N=Vie(S);return d.jsx(ri,{sx:{mb:2},variant:"outlined",children:d.jsxs(ii,{children:[d.jsxs(te,{variant:"subtitle2",gutterBottom:!0,children:["Conversation ",A+1," - ",S.conversation_id]}),!N&&"error"in S&&d.jsx(Cn,{severity:"warning",sx:{mb:2},children:S.error}),d.jsxs(et,{container:!0,spacing:2,children:[d.jsxs(et,{item:!0,xs:6,sm:3,children:[d.jsx(te,{variant:"caption",color:"text.secondary",children:"Questions"}),d.jsx(te,{variant:"body2",children:S.total_questions||0})]}),d.jsxs(et,{item:!0,xs:6,sm:3,children:[d.jsx(te,{variant:"caption",color:"text.secondary",children:"Engagement"}),d.jsx(te,{variant:"body2",children:N?S.engagement.engagement_level:"N/A"})]}),d.jsxs(et,{item:!0,xs:6,sm:3,children:[d.jsx(te,{variant:"caption",color:"text.secondary",children:"Highest Level"}),N?d.jsx(Rn,{label:S.blooms_progression.highest_level_reached,size:"small",sx:{backgroundColor:R6(S.blooms_progression.highest_level_reached),color:"white"}}):d.jsx(te,{variant:"body2",children:"N/A"})]}),d.jsxs(et,{item:!0,xs:6,sm:3,children:[d.jsx(te,{variant:"caption",color:"text.secondary",children:"Date"}),d.jsx(te,{variant:"body2",children:N?new Date(S.date).toLocaleDateString():"N/A"})]})]})]})},S.conversation_id)})})]})]}):d.jsxs(Cn,{severity:"error",children:[d.jsx(te,{variant:"subtitle2",children:"No analysis data available"}),d.jsx(te,{variant:"body2",children:"The API response was empty or invalid."})]})},Qie=({data:e,analysisType:n})=>d.jsx(se,{sx:{p:2},children:n==="single"?d.jsx(Yie,{data:e}):d.jsx(Gie,{data:e})}),Kie="https://rag-flask-api.onrender.com",Xie=`${Kie}/analyze_conversations`,aS=50,Zie=100;class Jie{validateConversationIds(n){if(!n||n.length===0)throw new Error("At least one conversation ID is required");if(n.length>aS)throw new Error(`Maximum ${aS} conversations allowed per request. You provided ${n.length}.`);if(n.filter(r=>!r||typeof r!="string"||r.trim()==="").length>0)throw new Error("All conversation IDs must be non-empty strings")}async makeAnalysisRequest(n){this.validateConversationIds(n);const t={conversation_ids:n};try{const r=await fetch(Xie,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const a=await r.text();let s;try{const u=JSON.parse(a);s=u.error||u.message||"Unknown error occurred"}catch{s=`HTTP ${r.status}: ${r.statusText}`}return{success:!1,error:s}}const i=await r.json();if(console.log(" Conversation Analysis API Response:",{success:i.success,analysis_type:i.analysis_type,has_analysis_results:!!i.analysis_results,full_response:i}),typeof i.success!="boolean")throw console.error(" Invalid API response - missing success field:",i),new Error("Invalid response format: missing success field");if(!i.success){console.error(" API returned error:",i);const a=i;throw new Error(a.error||"Unknown API error")}return i}catch(r){return r instanceof Error?{success:!1,error:`Network error: ${r.message}`}:{success:!1,error:"An unexpected error occurred while analyzing conversations"}}}async analyzeSingleConversation(n){const t=await this.makeAnalysisRequest([n]);if(!t.success){const r=t;throw new Error(r.error)}if(t.analysis_type!=="single_conversation")throw new Error("Expected single conversation analysis but received different type");return t}async analyzeMultipleConversations(n){n.length;const t=await this.makeAnalysisRequest(n);if(!t.success){const r=t;throw new Error(r.error)}if(t.analysis_type==="single_conversation")throw new Error("Expected multiple conversations analysis but received single conversation type");return t}async analyzeConversations(n){return this.makeAnalysisRequest(n)}getMaxConversationsPerRequest(){return aS}getMaxMessagesPerConversation(){return Zie}}const sS=new Jie,eae=()=>{const[e,n]=M.useState(!1),[t,r]=M.useState(null),[i,a]=M.useState(null),[s,l]=M.useState(null),u=M.useCallback(C=>{if(!C.success){const S=C;throw new Error(S.error)}if(C.analysis_type==="single_conversation")l("single"),a(C.analysis_results);else if(C.analysis_type==="multiple_conversations")l("multiple"),a(C.analysis_results);else throw new Error("Unknown analysis type received from API")},[]),f=M.useCallback(async C=>{n(!0),r(null),a(null),l(null);try{const S=await sS.analyzeSingleConversation(C);u(S)}catch(S){const A=S instanceof Error?S.message:"Failed to analyze conversation";r(A),console.error("Error analyzing single conversation:",S)}finally{n(!1)}},[u]),h=M.useCallback(async C=>{n(!0),r(null),a(null),l(null);try{const S=await sS.analyzeMultipleConversations(C);u(S)}catch(S){const A=S instanceof Error?S.message:"Failed to analyze conversations";r(A),console.error("Error analyzing multiple conversations:",S)}finally{n(!1)}},[u]),m=M.useCallback(async C=>{n(!0),r(null),a(null),l(null);try{const S=await sS.analyzeConversations(C);u(S)}catch(S){const A=S instanceof Error?S.message:"Failed to analyze conversations";r(A),console.error("Error analyzing conversations:",S)}finally{n(!1)}},[u]),b=M.useCallback(()=>{n(!1),r(null),a(null),l(null)},[]);return{loading:e,error:t,data:i,analysisType:s,analyzeSingle:f,analyzeMultiple:h,analyze:m,reset:b,isSuccess:i!==null&&t===null,isSingleAnalysis:s==="single",isMultipleAnalysis:s==="multiple"}},tae=Ut(se)(({theme:e})=>({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90%",maxWidth:"1200px",maxHeight:"90vh",overflowY:"auto",backgroundColor:"#fff",borderRadius:"12px",boxShadow:"0px 8px 32px rgba(0,0,0,0.15)",padding:e.spacing(3),[e.breakpoints.down("sm")]:{width:"95%",padding:e.spacing(2)}})),nae=Ut(se)(({theme:e})=>({marginBottom:e.spacing(3),display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:`2px solid ${e.palette.divider}`,paddingBottom:e.spacing(2)})),rae=Ut(se)({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"300px",gap:"20px"}),iae=({open:e,onClose:n,conversationIds:t,autoAnalyze:r=!0})=>{const{loading:i,error:a,data:s,analysisType:l,analyze:u,reset:f,isSuccess:h}=eae();M.useEffect(()=>{e&&r&&t.length>0&&u(t),e||f()},[e,r,t,u,f]);const m=()=>{f(),n()},b=()=>{u(t)},v=t.length===1?"Conversation Analysis":`Batch Analysis (${t.length} conversations)`;return d.jsx(iv,{open:e,onClose:m,closeAfterTransition:!0,"aria-labelledby":"conversation-analysis-modal","aria-describedby":"conversation-analysis-description",children:d.jsx(dh,{in:e,children:d.jsxs(tae,{children:[d.jsxs(nae,{children:[d.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:1},children:[d.jsx(Dv,{color:"primary"}),d.jsx(te,{variant:"h5",component:"h2",children:v})]}),d.jsx(jn,{onClick:m,"aria-label":"close",sx:{color:"text.secondary","&:hover":{backgroundColor:"action.hover"}},children:d.jsx(K_,{})})]}),i&&d.jsxs(rae,{children:[d.jsx(pi,{size:60,thickness:4}),d.jsxs(te,{variant:"h6",color:"text.secondary",children:["Analyzing conversation",t.length>1?"s":"","..."]}),d.jsx(te,{variant:"body2",color:"text.secondary",children:"This may take a few moments"})]}),a&&!i&&d.jsxs(se,{sx:{textAlign:"center",py:4},children:[d.jsxs(Cn,{severity:"error",sx:{mb:3},children:[d.jsx(te,{variant:"subtitle1",gutterBottom:!0,children:"Analysis Failed"}),d.jsx(te,{variant:"body2",children:a})]}),d.jsxs(se,{sx:{display:"flex",gap:2,justifyContent:"center"},children:[d.jsx(xt,{variant:"contained",onClick:b,children:"Retry Analysis"}),d.jsx(xt,{variant:"outlined",onClick:m,children:"Close"})]})]}),h&&s&&l&&!i&&d.jsxs(se,{children:[d.jsx(se,{sx:{mb:3},children:d.jsxs(Cn,{severity:"success",sx:{mb:2},children:[d.jsx(te,{variant:"subtitle2",gutterBottom:!0,children:"Analysis completed successfully!"}),t.length>1&&d.jsxs(te,{variant:"body2",children:["Analyzed ",t.length," conversations"]})]})}),d.jsx(Qie,{data:s,analysisType:l}),d.jsx(se,{sx:{display:"flex",justifyContent:"flex-end",mt:3,pt:2,borderTop:1,borderColor:"divider"},children:d.jsx(xt,{variant:"contained",onClick:m,size:"large",sx:{backgroundColor:"#000",color:"#fff","&:hover":{backgroundColor:"#333"}},children:"Close"})})]}),!i&&!a&&!s&&!r&&d.jsxs(se,{sx:{textAlign:"center",py:4},children:[d.jsxs(te,{variant:"h6",gutterBottom:!0,children:["Ready to analyze ",t.length," conversation",t.length>1?"s":""]}),d.jsx(te,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Click the button below to start the analysis"}),d.jsx(xt,{variant:"contained",onClick:b,size:"large",startIcon:d.jsx(Dv,{}),children:"Start Analysis"})]})]})})})},aae=()=>{const e=cr(),[n,t]=M.useState([]),[r,i]=M.useState([]),[a,s]=M.useState(!0),[l,u]=M.useState(null),[f,h]=M.useState([]),[m,b]=M.useState([]),[g,v]=M.useState("All"),[x,C]=M.useState("All"),[S,A]=M.useState(""),[N,P]=M.useState(null),[U,B]=M.useState(null),[j,F]=M.useState(new Set),[V,X]=M.useState(!1),[T,D]=M.useState([]),[O,L]=M.useState({open:!1,message:"",type:"success"});M.useEffect(()=>{(async()=>{try{const ne=(await _i(mn(e,"conversations"))).docs.map(we=>({id:we.id,...we.data()})),oe=await _i(mn(e,"chatbots")),ee=new Map;oe.forEach(we=>{const ve=we.data();ee.set(ve.chatbotId,ve)});const ge=ne.map(we=>{var je,Ee;const ve=ee.get(we.chatbotId);return{...we,chatbotTitle:(ve==null?void 0:ve.title)||"Unknown Chatbot",courseTitle:((je=ve==null?void 0:ve.courseId)==null?void 0:je.title)||"Unknown Course",materialTitle:((Ee=ve==null?void 0:ve.material)==null?void 0:Ee.title)||"Unknown Material"}});ge.sort((we,ve)=>new Date(ve.startedAt).getTime()-new Date(we.startedAt).getTime()),t(ge);const de=Array.from(new Set(ge.map(we=>we.chatbotId)));h(["All",...de]);const ye=Array.from(new Set(ge.map(we=>we.userId)));b(["All",...ye]),i(ge)}catch(z){console.error("Error fetching conversations:",z),u("Failed to load conversations. Please try again later.")}finally{s(!1)}})()},[e]),M.useEffect(()=>{let q=n;if(g!=="All"&&(q=q.filter(z=>z.chatbotId===g)),x!=="All"&&(q=q.filter(z=>z.userId===x)),S.trim()){const z=S.toLowerCase();q=q.filter(ne=>{var oe,ee,ge;return ne.id.toLowerCase().includes(z)||ne.chatbotId.toLowerCase().includes(z)||ne.userId.toLowerCase().includes(z)||((oe=ne.chatbotTitle)==null?void 0:oe.toLowerCase().includes(z))||((ee=ne.courseTitle)==null?void 0:ee.toLowerCase().includes(z))||((ge=ne.materialTitle)==null?void 0:ge.toLowerCase().includes(z))})}if(N&&(q=q.filter(z=>new Date(z.startedAt)>=N)),U){const z=new Date(U);z.setHours(23,59,59,999),q=q.filter(ne=>new Date(ne.startedAt)<=z)}i(q)},[n,g,x,S,N,U]);const Q=q=>{F(z=>{const ne=new Set(z);if(ne.has(q))ne.delete(q);else{if(ne.size>=50)return L({open:!0,message:"Maximum 50 conversations can be analyzed at once.",type:"error"}),z;ne.add(q)}return ne})},$=()=>{if(j.size===r.length)F(new Set);else{const q=r.slice(0,50).map(z=>z.id);F(new Set(q)),r.length>50&&L({open:!0,message:"Selected first 50 conversations (maximum limit).",type:"info"})}},Y=()=>{F(new Set)},Z=q=>{D([q]),X(!0)},re=()=>{if(j.size===0){L({open:!0,message:"Please select at least one conversation to analyze.",type:"error"});return}D(Array.from(j)),X(!0)},H=()=>{X(!1)},me=()=>{L(q=>({...q,open:!1}))};return a?d.jsx(se,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:d.jsx(pi,{})}):l?d.jsx(se,{sx:{textAlign:"center",mt:4},children:d.jsx(te,{variant:"h6",color:"error",children:l})}):d.jsxs(se,{className:"profile-container",sx:{p:4},children:[d.jsx(Do,{title:"Conversation Analysis",subtitle:"Analyze chatbot conversations to understand learning patterns, Bloom's Taxonomy progression, and engagement metrics"}),d.jsxs(et,{container:!0,spacing:3,sx:{mb:4},children:[d.jsx(et,{item:!0,xs:12,sm:6,md:3,children:d.jsx(ri,{children:d.jsxs(ii,{children:[d.jsx(te,{variant:"overline",color:"text.secondary",children:"Total Conversations"}),d.jsx(te,{variant:"h4",children:n.length})]})})}),d.jsx(et,{item:!0,xs:12,sm:6,md:3,children:d.jsx(ri,{children:d.jsxs(ii,{children:[d.jsx(te,{variant:"overline",color:"text.secondary",children:"Filtered Results"}),d.jsx(te,{variant:"h4",children:r.length})]})})}),d.jsx(et,{item:!0,xs:12,sm:6,md:3,children:d.jsx(ri,{children:d.jsxs(ii,{children:[d.jsx(te,{variant:"overline",color:"text.secondary",children:"Selected"}),d.jsx(te,{variant:"h4",children:j.size})]})})}),d.jsx(et,{item:!0,xs:12,sm:6,md:3,children:d.jsx(ri,{children:d.jsxs(ii,{children:[d.jsx(te,{variant:"overline",color:"text.secondary",children:"Max Batch Size"}),d.jsx(te,{variant:"h4",children:"50"})]})})})]}),d.jsxs(an,{sx:{p:3,mb:3},children:[d.jsxs(se,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[d.jsxs(se,{sx:{display:"flex",alignItems:"center"},children:[d.jsx(zie,{sx:{mr:1}}),d.jsx(te,{variant:"h6",children:"Filters"})]}),d.jsx(xt,{variant:"outlined",size:"small",startIcon:d.jsx(OT,{}),onClick:()=>{A(""),v("All"),C("All"),P(null),B(null)},children:"Clear All Filters"})]}),d.jsx(Yi,{sx:{mb:2}}),d.jsx(BO,{dateAdapter:Nie,children:d.jsxs(et,{container:!0,spacing:2,children:[d.jsx(et,{item:!0,xs:12,sm:6,md:3,children:d.jsx(tn,{fullWidth:!0,label:"Search",placeholder:"Search conversations...",value:S,onChange:q=>A(q.target.value),InputProps:{startAdornment:d.jsx(Dx,{position:"start",children:d.jsx(Rie,{})})}})}),d.jsx(et,{item:!0,xs:12,sm:6,md:3,children:d.jsxs(Xc,{fullWidth:!0,children:[d.jsx(ch,{children:"Filter by Chatbot"}),d.jsx(Zc,{value:g,onChange:q=>v(q.target.value),label:"Filter by Chatbot",children:f.map(q=>d.jsx(xi,{value:q,children:q},q))})]})}),d.jsx(et,{item:!0,xs:12,sm:6,md:3,children:d.jsxs(Xc,{fullWidth:!0,children:[d.jsx(ch,{children:"Filter by User"}),d.jsx(Zc,{value:x,onChange:q=>C(q.target.value),label:"Filter by User",children:m.map(q=>d.jsx(xi,{value:q,children:q},q))})]})}),d.jsx(et,{item:!0,xs:12,sm:6,md:3,children:d.jsx(DT,{label:"Start Date",value:N,onChange:q=>P(q),slotProps:{textField:{fullWidth:!0,InputProps:{startAdornment:d.jsx(Dx,{position:"start",children:d.jsx(PT,{})})}}}})}),d.jsx(et,{item:!0,xs:12,sm:6,md:3,children:d.jsx(DT,{label:"End Date",value:U,onChange:q=>B(q),minDate:N||void 0,slotProps:{textField:{fullWidth:!0,InputProps:{startAdornment:d.jsx(Dx,{position:"start",children:d.jsx(PT,{})})}}}})})]})}),(N||U||S||g!=="All"||x!=="All")&&d.jsx(se,{sx:{mt:2},children:d.jsx(Cn,{severity:"info",icon:d.jsx(Hie,{}),children:d.jsxs(te,{variant:"body2",children:["Active filters:",S&&` Search: "${S}"`,g!=="All"&&" | Chatbot ID",x!=="All"&&" | User ID",N&&` | From: ${N.toLocaleDateString()}`,U&&` | To: ${U.toLocaleDateString()}`]})})})]}),d.jsxs(an,{sx:{p:3,mb:3},children:[d.jsxs($1,{direction:"row",spacing:2,alignItems:"center",flexWrap:"wrap",children:[d.jsx(xt,{variant:"outlined",startIcon:d.jsx(e8,{checked:j.size===r.length&&r.length>0}),onClick:$,children:j.size===r.length&&r.length>0?"Deselect All":"Select All"}),d.jsx(Rn,{label:`${j.size} / 50 selected`,color:j.size>0?"primary":"default"}),j.size>0&&d.jsxs(d.Fragment,{children:[d.jsxs(xt,{variant:"contained",startIcon:d.jsx(Dv,{}),onClick:re,color:"success",children:["Analyze Selected (",j.size,")"]}),d.jsx(xt,{variant:"outlined",startIcon:d.jsx(OT,{}),onClick:Y,color:"error",children:"Clear Selection"})]})]}),j.size>0&&d.jsx(Cn,{severity:"info",sx:{mt:2},children:j.size===1?"Single conversation selected for analysis":`Batch analysis mode: ${j.size} conversations selected`})]}),d.jsxs(an,{sx:{p:2},children:[d.jsxs(te,{variant:"h6",sx:{mb:2},children:["Conversations (",r.length,")"]}),d.jsx(Yi,{sx:{mb:2}}),r.length===0?d.jsx(se,{sx:{textAlign:"center",py:4},children:d.jsx(te,{variant:"body1",color:"text.secondary",children:"No conversations found matching your filters."})}):d.jsx(se,{children:r.map(q=>d.jsx(ri,{sx:{mb:2,border:2,borderColor:j.has(q.id)?"primary.main":"divider",cursor:"pointer",transition:"all 0.2s","&:hover":{boxShadow:3,transform:"translateY(-2px)"}},onClick:()=>Q(q.id),children:d.jsx(ii,{children:d.jsxs(et,{container:!0,spacing:2,alignItems:"center",children:[d.jsx(et,{item:!0,children:d.jsx(e8,{checked:j.has(q.id),onChange:()=>Q(q.id),onClick:z=>z.stopPropagation()})}),d.jsxs(et,{item:!0,xs:!0,children:[d.jsxs(se,{sx:{mb:1},children:[d.jsx(te,{variant:"h6",fontWeight:"bold",color:"primary",children:q.chatbotTitle}),d.jsx(te,{variant:"body1",color:"text.primary",children:q.courseTitle}),d.jsxs(te,{variant:"body2",color:"text.secondary",children:["Material: ",q.materialTitle]})]}),d.jsxs(se,{sx:{display:"flex",gap:2,flexWrap:"wrap",mt:1},children:[d.jsx(ni,{title:"Conversation ID",children:d.jsx(Rn,{label:`Conv: ${q.id.substring(0,8)}...`,size:"small",variant:"outlined"})}),d.jsx(ni,{title:"User ID",children:d.jsx(Rn,{label:`User: ${q.userId.substring(0,8)}...`,size:"small",variant:"outlined"})}),d.jsx(ni,{title:"Chatbot ID",children:d.jsx(Rn,{label:`Bot: ${q.chatbotId.substring(0,8)}...`,size:"small",variant:"outlined"})})]})]}),d.jsx(et,{item:!0,children:d.jsxs(se,{sx:{textAlign:"right"},children:[d.jsx(te,{variant:"caption",color:"text.secondary",display:"block",children:"Started"}),d.jsx(te,{variant:"body2",fontWeight:"medium",children:new Date(q.startedAt).toLocaleDateString()}),d.jsx(te,{variant:"caption",color:"text.secondary",children:new Date(q.startedAt).toLocaleTimeString()})]})}),d.jsx(et,{item:!0,children:d.jsx(xt,{variant:"contained",startIcon:d.jsx(Dv,{}),onClick:z=>{z.stopPropagation(),Z(q.id)},size:"medium",color:"primary",children:"Analyze"})})]})})},q.id))})]}),d.jsx(iae,{open:V,onClose:H,conversationIds:T,autoAnalyze:!0}),O.open&&d.jsx(Cn,{severity:O.type,onClose:me,sx:{position:"fixed",top:80,right:20,zIndex:9999},children:O.message})]})},sae=({requests:e,loading:n=!1,onApprove:t,chatbotIdMap:r,onChatbotIdChange:i})=>{const[a,s]=M.useState(0),[l,u]=M.useState(10),f=C=>{switch(C.toLowerCase()){case"approved":return"success";case"pending":return"warning";case"denied":return"error";default:return"default"}},h=C=>C.charAt(0).toUpperCase()+C.slice(1),m=(C,S)=>C==="approved"?"Approved":C==="denied"?"Denied":"Enter ID",b=[{id:"title",label:"Title",width:"15%",render:C=>d.jsx(cs,{text:C,maxLength:999,weight:"semibold"})},{id:"courseNumber",label:"Course",width:"18%",render:(C,S)=>d.jsxs(se,{sx:{display:"flex",flexDirection:"column",gap:Pe[1]},children:[d.jsx(_p,{courseId:S.courseId,courseNumber:C,courseTitle:S.courseTitle,variant:"link",maxTitleLength:999}),d.jsx(J_,{courseId:S.courseId})]})},{id:"materialTitle",label:"Material",width:"15%",render:(C,S)=>d.jsxs(se,{sx:{display:"flex",flexDirection:"column",gap:Pe[1]},children:[C&&S.materialId?d.jsx(X_,{materialId:S.materialId,materialTitle:C,variant:"link",maxTitleLength:999}):d.jsx(cs,{text:"N/A",variant:"secondary"}),S.materialId&&d.jsx(az,{materialId:S.materialId})]})},{id:"educatorId",label:"Educator",width:"12%",render:C=>d.jsx(Dp,{userId:C,userType:"educator"})},{id:"timestamp",label:"Submitted",width:"10%",render:C=>d.jsx(Lm,{date:new Date(C),format:"full"})},{id:"status",label:"Status",width:"8%",render:C=>d.jsx(Zv,{label:h(C),status:f(C)})},{id:"files",label:"Files",width:"8%",render:C=>d.jsxs(se,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[C&&C.length>0?C.slice(0,2).map((S,A)=>d.jsxs(Hv,{href:S,target:"_blank",rel:"noopener noreferrer",sx:{fontSize:"0.7rem",color:K.primary[600],textDecoration:"none","&:hover":{textDecoration:"underline"}},children:["File ",A+1]},A)):d.jsx(cs,{text:"No files",variant:"secondary"}),C&&C.length>2&&d.jsx(cs,{text:`+${C.length-2}`,variant:"secondary"})]})},{id:"chatbotId",label:"Chatbot ID",width:"12%",render:(C,S)=>S.status==="pending"?d.jsx(tn,{size:"small",variant:"outlined",placeholder:"Enter ID",value:r[S.id]||"",onChange:N=>i(S.id,N.target.value),sx:{width:"100%","& .MuiOutlinedInput-root":{fontSize:xe.fontSize.xs,height:"32px",fontFamily:"monospace"}}}):C?d.jsx(iz,{chatbotId:C}):d.jsx(cs,{text:"Not assigned",variant:"secondary"})},{id:"actions",label:"Action",width:"8%",align:"center",render:(C,S)=>{var P;const A=S.status==="pending",N=(P=r[S.id])==null?void 0:P.trim();return A?d.jsx(Jv,{actions:[{icon:PS.add,tooltip:N?"Approve Request":"Enter Chatbot ID first",onClick:()=>t(S.id,r[S.id]),disabled:!N,color:K.success,hoverColor:K.success+"20"}]}):d.jsx(cs,{text:m(S.status),variant:"secondary",weight:"medium"})}}],g=(C,S)=>{s(S)},v=C=>{u(parseInt(C.target.value,10)),s(0)},x=e.slice(a*l,a*l+l);return d.jsxs(se,{children:[d.jsx(Np,{data:x,columns:b,loading:n,emptyMessage:"No chatbot requests found.",stickyHeader:!1}),e.length>0&&d.jsx(an,{elevation:0,sx:{borderRadius:0,borderTop:`1px solid ${K.neutral[200]}`},children:d.jsx(AP,{rowsPerPageOptions:[5,10,25,50],component:"div",count:e.length,rowsPerPage:l,page:a,onPageChange:g,onRowsPerPageChange:v,sx:{"& .MuiTablePagination-toolbar":{paddingLeft:Pe[4],paddingRight:Pe[4]},"& .MuiTablePagination-selectLabel, & .MuiTablePagination-displayedRows":{color:K.text.secondary,fontSize:xe.fontSize.sm}}})})]})},oae=()=>{const[e,n]=M.useState([]),[t,r]=M.useState(!0),[i,a]=M.useState({}),[s,l]=M.useState(!1),[u,f]=M.useState(""),[h,m]=M.useState("success");M.useEffect(()=>{(async()=>{const C=cr(),S=mn(C,"chatbotRequests");try{const N=(await _i(S)).docs.map(P=>({id:P.id,...P.data()}));n(N)}catch(A){console.error("Error fetching chatbot requests:",A)}finally{r(!1)}})()},[]);const b=async x=>{const C=i[x];if(!C){f("Please assign a Chatbot ID before approving the request."),m("error"),l(!0);return}try{const S=cr(),A=gn(S,"chatbotRequests",x),N=await ja(A);if(!N.exists()){f("Request not found. Please refresh the page."),m("error"),l(!0);return}const P=N.data();if(P.status!=="pending"){f("This request has already been processed."),m("warning"),l(!0);return}await qr(A,{status:"approved",chatbotId:C});const U={chatbotId:C,title:P.title,courseId:{id:P.courseId,number:P.courseNumber,title:P.courseTitle},material:{id:P.materialId||null,title:P.materialTitle||"N/A"},createdBy:P.educatorId,files:P.files,timestamp:new Date().toISOString()};await Di(mn(S,"chatbots"),U),n(B=>B.map(j=>j.id===x?{...j,status:"approved",chatbotId:C}:j)),f("Chatbot request approved and chatbot created successfully!"),m("success"),l(!0)}catch(S){console.error("Error approving chatbot request or creating chatbot:",S),f("Failed to approve the request and create the chatbot. Please try again."),m("error"),l(!0)}},g=()=>{l(!1)},v=(x,C)=>{a(S=>({...S,[x]:C}))};return t?d.jsx(se,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:d.jsx(pi,{})}):e.length===0?d.jsx(te,{variant:"body1",sx:{textAlign:"center",mt:4},children:"No chatbot requests found."}):d.jsxs(se,{sx:{p:Pe[6],backgroundColor:K.background.primary,minHeight:"100vh"},children:[d.jsx(Do,{title:"Chatbot Requests Management"}),d.jsx(te,{variant:"body1",sx:{mb:Pe[4],color:K.text.secondary},children:"Manage chatbot requests submitted by educators. Approve requests and assign Chatbot IDs."}),d.jsx(sae,{requests:e,loading:t,onApprove:b,chatbotIdMap:i,onChatbotIdChange:v}),d.jsx(qu,{open:s,autoHideDuration:6e3,onClose:g,children:d.jsx(Cn,{onClose:g,severity:h,sx:{width:"100%"},children:u})})]})},ob=cr(),lb={CHATBOTS:"chatbots",QUIZ_SESSIONS:"quizSessions",QUIZ_EVENTS:"quizEvents",USERS:"users"},lae=async()=>{var e,n,t,r;try{console.log(" Loading chatbots with quiz information...");const i=Hl(mn(ob,lb.CHATBOTS),Gv("timestamp","desc")),a=await _i(i),s=[];for(const l of a.docs){const u=l.data(),f={chatbotId:u.chatbotId,title:u.title||"Untitled Chatbot",materialTitle:((e=u.material)==null?void 0:e.title)||"Unknown Material",materialId:((n=u.material)==null?void 0:n.id)||"",courseId:((t=u.courseId)==null?void 0:t.id)||"",courseTitle:((r=u.courseId)==null?void 0:r.title)||"Unknown Course",createdBy:u.createdBy||"",timestamp:u.timestamp||new Date().toISOString(),quizId:null,hasQuiz:!0};s.push(f)}for(const l of s)try{const u=Hl(mn(ob,lb.QUIZ_SESSIONS),Hi("chatbotId","==",l.chatbotId),Qv(1)),f=await _i(u);if(!f.empty){const h=f.docs[0].data();l.quizId=h.quizId||null}}catch(u){console.warn(` Could not fetch quiz ID for chatbot ${l.chatbotId}:`,u),l.quizId=null}return console.log(` Loaded ${s.length} chatbots with quiz information`),s}catch(i){throw console.error(" Error loading chatbots with quizzes:",i),i}},uae=async(e={},n=100,t)=>{var r,i;try{console.log(" Loading enhanced quiz sessions with filters:",e);const a=mn(ob,lb.QUIZ_SESSIONS),s=[];e.chatbotId&&s.push(Hi("chatbotId","==",e.chatbotId)),e.difficulty&&e.difficulty!=="all"&&s.push(Hi("difficulty","==",e.difficulty)),e.completionStatus&&e.completionStatus!=="all"&&s.push(Hi("completed","==",e.completionStatus==="completed")),e.userId&&s.push(Hi("userId","==",e.userId)),e.dateRange&&(s.push(Hi("startedAt",">=",Ni.fromDate(new Date(e.dateRange.start)))),s.push(Hi("startedAt","<=",Ni.fromDate(new Date(e.dateRange.end))))),s.push(Gv("startedAt","desc")),s.push(Qv(n));const l=Hl(a,...s),u=await _i(l),f=[],h=new Map;for(const g of u.docs){const v=g.data();let x=h.get(v.userId);if(!x){const P=v.userId.length>12?`${v.userId.substring(0,8)}...${v.userId.slice(-4)}`:v.userId.substring(0,12);x={email:P,displayName:`User ${P}`},h.set(v.userId,x)}let C,S;if(v.startedAt&&v.submittedAt){const P=v.startedAt.toMillis(),U=v.submittedAt.toMillis(),B=Math.round((U-P)/1e3),j=Math.floor(B/60),F=B%60;C=B,S=`${j}m ${F}s`}const A=Object.keys(v.finalAnswers||{}).length,N={id:g.id,quizId:v.quizId,chatbotId:v.chatbotId,userId:v.userId,userEmail:x.email,userName:x.displayName,difficulty:v.difficulty,startedAt:v.startedAt.toDate().toISOString(),submittedAt:(r=v.submittedAt)==null?void 0:r.toDate().toISOString(),closedAt:(i=v.closedAt)==null?void 0:i.toDate().toISOString(),completed:v.completed,answers:v.finalAnswers||{},summary:v.summary,questionsAttempted:A,timeSpent:C,timeSpentFormatted:S};f.push(N)}const m=u.docs.length===n,b=u.docs.length>0?u.docs[u.docs.length-1]:void 0;return console.log(` Loaded ${f.length} enhanced quiz sessions`),{sessions:f,hasMore:m,lastDoc:b}}catch(a){throw console.error(" Error loading enhanced quiz sessions:",a),a}},cae=async e=>{var n;try{console.log(" Loading quiz pool for quiz:",e);const t=Hl(mn(ob,lb.QUIZ_SESSIONS),Hi("quizId","==",e),Gv("startedAt","desc"),Qv(50)),r=await _i(t),i=new Set,a=new Map;for(const m of r.docs){const b=m.data();(n=b.summary)!=null&&n.items&&Object.keys(b.summary.items).forEach(g=>{i.add(g)}),b.finalAnswers&&Object.entries(b.finalAnswers).forEach(([g,v])=>{i.add(g),a.has(g)||a.set(g,v)})}const s=Array.from(i).map(m=>{const b=a.get(m)||"",g=b.length>0?`Question about: ${b.split(" ").slice(0,10).join(" ")}${b.split(" ").length>10?"...":""}`:"Question text not available";return{questionId:m,question:g,category:"Biology Fundamentals",difficulty:"medium",maxScore:100}}),l=s.length>0?s:[{questionId:"no-sessions-found",question:"No quiz sessions found for this quiz ID. Question IDs will appear here once students take quizzes.",category:"Biology Fundamentals",difficulty:"medium",maxScore:100}],u={},f={easy:0,medium:0,hard:0};l.forEach(m=>{u[m.category]=(u[m.category]||0)+1,f[m.difficulty]=(f[m.difficulty]||0)+1});const h={quizId:e,chatbotId:e,questions:l,categoryCounts:u,difficultyBreakdown:f,totalQuestions:l.length,lastUpdated:new Date().toISOString()};return console.log(` Loaded quiz pool with ${l.length} real question IDs from ${r.docs.length} sessions`),h}catch(t){throw console.error(" Error loading quiz pool:",t),t}},dae=e=>{try{console.log(" Generating quiz analytics from",e.length,"sessions");const n=e.filter(h=>h.completed&&h.summary),t=e.length,r=t>0?n.length/t*100:0,i=n.length>0?n.reduce((h,m)=>{var b;return h+(((b=m.summary)==null?void 0:b.percent)||0)},0)/n.length:0,a=e.filter(h=>h.timeSpent).length>0?Math.round(e.filter(h=>h.timeSpent).reduce((h,m)=>h+(m.timeSpent||0),0)/e.filter(h=>h.timeSpent).length):0,s={easy:0,medium:0,hard:0};e.forEach(h=>{s[h.difficulty]=(s[h.difficulty]||0)+1});const l={};n.forEach(h=>{var m;(m=h.summary)!=null&&m.items&&Object.values(h.summary.items).forEach(b=>{const g="Mixed Questions";l[g]||(l[g]={averageScore:0,totalAttempts:0,successRate:0}),l[g].totalAttempts+=1,l[g].averageScore+=b.score,b.verdict==="correct"&&(l[g].successRate+=1)})}),Object.keys(l).forEach(h=>{const m=l[h];m.totalAttempts>0&&(m.averageScore=m.averageScore/m.totalAttempts,m.successRate=m.successRate/m.totalAttempts*100)});const u={daily:{},weekly:{},monthly:{}};e.forEach(h=>{const m=new Date(h.startedAt),b=m.toISOString().split("T")[0],g=`${m.getFullYear()}-W${Math.ceil(m.getDate()/7)}`,v=`${m.getFullYear()}-${String(m.getMonth()+1).padStart(2,"0")}`;u.daily[b]=(u.daily[b]||0)+1,u.weekly[g]=(u.weekly[g]||0)+1,u.monthly[v]=(u.monthly[v]||0)+1});const f={totalSessions:t,completionRate:r,averageScore:i,averageTimeSpent:a,difficultyDistribution:s,categoryPerformance:l,timeBasedStats:u};return console.log(" Generated quiz analytics:",f),f}catch(n){throw console.error(" Error generating quiz analytics:",n),n}},fae=async e=>{var n;try{console.log(" Exporting quiz session data for:",e);const t=await ja(gn(ob,lb.QUIZ_SESSIONS,e));if(!t.exists())throw new Error("Quiz session not found");const r=t.data(),i={sessionId:e,quizId:r.quizId,chatbotId:r.chatbotId,userId:r.userId,difficulty:r.difficulty,startedAt:r.startedAt.toDate().toISOString(),submittedAt:(n=r.submittedAt)==null?void 0:n.toDate().toISOString(),completed:r.completed,answers:r.finalAnswers||{},summary:r.summary,exportedAt:new Date().toISOString()},a=JSON.stringify(i,null,2),s=new Blob([a],{type:"application/json"});return console.log(" Quiz session data exported successfully"),s}catch(t){throw console.error(" Error exporting quiz session data:",t),t}},zT={difficulty:"all",completionStatus:"all"},LM=Tp()(kb(e2((e,n)=>({courses:[],selectedCourse:null,chatbotsWithQuizzes:[],filteredChatbots:[],selectedChatbot:null,quizSessions:[],quizPools:{},analytics:null,loading:!1,error:null,filters:zT,selectedSession:null,loadChatbotsWithQuizzes:async()=>{try{e({loading:!0,error:null}),console.log(" Quiz Management Store: Loading chatbots with quizzes...");const t=await lae(),r=new Map;t.forEach(a=>{r.has(a.courseId)||r.set(a.courseId,{courseId:a.courseId,courseTitle:a.courseTitle,chatbotCount:0,quizCount:0});const s=r.get(a.courseId);s.chatbotCount++,a.quizId&&s.quizCount++});const i=Array.from(r.values()).sort((a,s)=>a.courseTitle.localeCompare(s.courseTitle));e({chatbotsWithQuizzes:t,courses:i,filteredChatbots:t,loading:!1}),console.log(` Loaded ${t.length} chatbots with quiz information from ${i.length} courses`)}catch(t){console.error(" Failed to load chatbots with quizzes:",t),e({error:t instanceof Error?t.message:"Failed to load chatbots",loading:!1})}},selectCourse:t=>{console.log(" Quiz Management Store: Selecting course:",t==null?void 0:t.courseId);const{chatbotsWithQuizzes:r}=n(),i=t?r.filter(a=>a.courseId===t.courseId):r;e({selectedCourse:t,filteredChatbots:i,selectedChatbot:null,selectedSession:null,quizSessions:[]})},selectChatbot:t=>{console.log(" Quiz Management Store: Selecting chatbot:",t==null?void 0:t.chatbotId),e({selectedChatbot:t,selectedSession:null,filters:{...n().filters,chatbotId:t==null?void 0:t.chatbotId}}),t&&n().loadQuizSessions(t.chatbotId)},loadQuizSessions:async t=>{try{e({loading:!0,error:null}),console.log(" Quiz Management Store: Loading quiz sessions for chatbot:",t);const r=n().filters,i=t?{...r,chatbotId:t}:r,a=await uae(i);e({quizSessions:a.sessions,loading:!1}),n().generateAnalytics(),console.log(` Loaded ${a.sessions.length} enhanced quiz sessions`)}catch(r){console.error(" Failed to load quiz sessions:",r),e({error:r instanceof Error?r.message:"Failed to load quiz sessions",loading:!1})}},loadQuizPool:async t=>{try{e({loading:!0,error:null}),console.log(" Quiz Management Store: Loading quiz pool for:",t);const r=await cae(t);e(i=>({quizPools:{...i.quizPools,[t]:r},loading:!1})),console.log(` Loaded quiz pool with ${r.totalQuestions} questions`)}catch(r){console.error(" Failed to load quiz pool:",r),e({error:r instanceof Error?r.message:"Failed to load quiz pool",loading:!1})}},updateFilters:t=>{const r={...n().filters,...t};console.log(" Quiz Management Store: Updating filters:",r),e({filters:r}),n().loadQuizSessions(r.chatbotId)},selectSession:t=>{console.log(" Quiz Management Store: Selecting session:",t==null?void 0:t.id),e({selectedSession:t})},generateAnalytics:()=>{try{const{quizSessions:t}=n();console.log(" Quiz Management Store: Generating analytics from",t.length,"sessions");const r=dae(t);e({analytics:r}),console.log(" Generated quiz analytics successfully")}catch(t){console.error(" Failed to generate analytics:",t),e({error:t instanceof Error?t.message:"Failed to generate analytics"})}},exportSessionData:async t=>{try{e({loading:!0,error:null}),console.log(" Quiz Management Store: Exporting session data for:",t);const r=await fae(t),i=URL.createObjectURL(r),a=document.createElement("a");a.href=i,a.download=`quiz-session-${t}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(i),e({loading:!1}),console.log(" Quiz session data exported successfully")}catch(r){console.error(" Failed to export session data:",r),e({error:r instanceof Error?r.message:"Failed to export session data",loading:!1})}},clearError:()=>{e({error:null})},reset:()=>{console.log(" Quiz Management Store: Resetting store state"),e({chatbotsWithQuizzes:[],selectedChatbot:null,quizSessions:[],quizPools:{},analytics:null,loading:!1,error:null,filters:zT,selectedSession:null})}}),{name:"quiz-management-store",partialize:e=>({filters:e.filters,selectedChatbot:e.selectedChatbot}),merge:(e,n)=>({...n,...e||{},courses:[],selectedCourse:null,chatbotsWithQuizzes:[],filteredChatbots:[],selectedChatbot:null,quizSessions:[],quizPools:{},analytics:null,loading:!1,error:null,selectedSession:null})}),{name:"quiz-management-store"})),hae=({courses:e,selectedCourse:n,onSelect:t,loading:r=!1})=>d.jsx(se,{children:d.jsx(g_,{value:n,onChange:(i,a)=>t(a),options:e,getOptionLabel:i=>i.courseTitle,loading:r,renderInput:i=>d.jsx(tn,{...i,label:"Select Course",placeholder:"Choose a course to filter materials...",variant:"outlined",sx:{"& .MuiOutlinedInput-root":{fontFamily:"Gabarito, sans-serif","& fieldset":{borderColor:"#CDDAFF",borderWidth:2},"&:hover fieldset":{borderColor:"#0B53C0"},"&.Mui-focused fieldset":{borderColor:"#0B53C0",borderWidth:2}},"& .MuiInputLabel-root":{fontFamily:"Gabarito, sans-serif",color:"#0B53C0",fontWeight:"bold","&.Mui-focused":{color:"#0B53C0"}}},InputProps:{...i.InputProps,endAdornment:d.jsxs(d.Fragment,{children:[r?d.jsx(pi,{color:"inherit",size:20}):null,i.InputProps.endAdornment]})}}),renderOption:(i,a)=>{const{...s}=i;return d.jsx(se,{component:"li",...s,sx:{"&:hover":{backgroundColor:"#F0F4FF !important"}},children:d.jsxs(se,{sx:{display:"flex",alignItems:"center",width:"100%",p:2},children:[d.jsx(Yd,{sx:{mr:2,flexShrink:0,color:"#0B53C0",fontSize:28}}),d.jsxs(se,{sx:{flex:1,minWidth:0},children:[d.jsx(te,{variant:"subtitle1",noWrap:!0,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1.1rem",color:"#0B53C0",fontWeight:"bold"},children:a.courseTitle}),d.jsxs(te,{variant:"body2",sx:{fontFamily:"Gabarito, sans-serif",color:"#666666",display:"flex",alignItems:"center",mt:.5},children:[d.jsx(Ul,{sx:{fontSize:14,mr:.5}}),a.chatbotCount," material",a.chatbotCount!==1?"s":"","  ",a.quizCount," quiz",a.quizCount!==1?"zes":""," available"]})]}),d.jsxs(se,{sx:{ml:2,display:"flex",flexDirection:"column",alignItems:"flex-end",gap:.5},children:[d.jsx(Rn,{label:`${a.chatbotCount} Material${a.chatbotCount!==1?"s":""}`,size:"small",sx:{backgroundColor:"#CDDAFF",color:"#0B53C0",fontFamily:"Gabarito, sans-serif",fontSize:"0.75rem",fontWeight:"bold"}}),a.quizCount>0&&d.jsx(Rn,{label:`${a.quizCount} Quiz${a.quizCount!==1?"zes":""}`,size:"small",sx:{backgroundColor:"#C8E6C9",color:"#2E7D32",fontFamily:"Gabarito, sans-serif",fontSize:"0.75rem",fontWeight:"bold"}})]})]})},a.courseId)},PaperComponent:i=>d.jsx(an,{...i,sx:{mt:1,borderRadius:2,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",border:"1px solid #CDDAFF",backgroundColor:"#FFFFFF"}}),isOptionEqualToValue:(i,a)=>i.courseId===a.courseId,noOptionsText:r?"Loading courses...":"No courses found.",clearOnBlur:!0,selectOnFocus:!0})}),pae=({chatbots:e,selectedChatbot:n,onSelect:t,loading:r=!1})=>d.jsxs(se,{children:[d.jsx(g_,{value:n,onChange:(i,a)=>t(a),options:e,getOptionLabel:i=>i.title,loading:r,renderInput:i=>d.jsx(tn,{...i,label:"Select Chatbot & Material",placeholder:"Choose a chatbot to view its quiz data...",variant:"outlined",sx:{"& .MuiOutlinedInput-root":{fontFamily:"Gabarito, sans-serif","& fieldset":{borderColor:"#CDDAFF",borderWidth:2},"&:hover fieldset":{borderColor:"#0B53C0"},"&.Mui-focused fieldset":{borderColor:"#0B53C0",borderWidth:2}},"& .MuiInputLabel-root":{fontFamily:"Gabarito, sans-serif",color:"#0B53C0",fontWeight:"bold","&.Mui-focused":{color:"#0B53C0"}}},InputProps:{...i.InputProps,endAdornment:d.jsxs(d.Fragment,{children:[r?d.jsx(pi,{color:"inherit",size:20}):null,i.InputProps.endAdornment]})}}),renderOption:(i,a)=>{const{...s}=i;return d.jsx(se,{component:"li",...s,sx:{"&:hover":{backgroundColor:"#F0F4FF !important"}},children:d.jsxs(se,{sx:{display:"flex",alignItems:"center",width:"100%",p:2},children:[d.jsx(Ul,{sx:{mr:2,flexShrink:0,color:"#0B53C0",fontSize:28}}),d.jsxs(se,{sx:{flex:1,minWidth:0},children:[d.jsx(te,{variant:"subtitle1",noWrap:!0,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1.1rem",color:"#0B53C0",fontWeight:"bold"},children:a.title}),d.jsxs(te,{variant:"body2",noWrap:!0,sx:{fontFamily:"Gabarito, sans-serif",color:"#666666",display:"flex",alignItems:"center",mt:.5},children:[d.jsx(kP,{sx:{fontSize:14,mr:.5}}),a.materialTitle]}),d.jsxs(te,{variant:"caption",noWrap:!0,sx:{fontFamily:"Gabarito, sans-serif",color:"#888888",display:"flex",alignItems:"center",mt:.25},children:[d.jsx(Yd,{sx:{fontSize:12,mr:.5}}),a.courseTitle]})]}),d.jsxs(se,{sx:{ml:2,display:"flex",flexDirection:"column",alignItems:"flex-end",gap:.5},children:[a.quizId&&d.jsx(Rn,{label:"Quiz Available",size:"small",sx:{backgroundColor:"#C8E6C9",color:"#2E7D32",fontFamily:"Gabarito, sans-serif",fontSize:"0.75rem",fontWeight:"bold"}}),d.jsxs(te,{variant:"caption",sx:{fontFamily:"monospace",color:a.quizId?"#0B53C0":"#888888",fontSize:"0.7rem",backgroundColor:a.quizId?"#F0F4FF":"#F5F5F5",padding:"2px 6px",borderRadius:"4px",border:`1px solid ${a.quizId?"#CDDAFF":"#E0E0E0"}`},children:["Quiz: ",a.quizId?a.quizId.substring(0,8)+"...":"N/A"]}),d.jsxs(te,{variant:"caption",sx:{fontFamily:"monospace",color:"#888888",fontSize:"0.65rem"},children:["ChatBot: ",a.chatbotId.substring(0,8),"..."]})]})]})},a.chatbotId)},PaperComponent:i=>d.jsx(an,{...i,sx:{mt:1,borderRadius:2,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",border:"1px solid #CDDAFF",backgroundColor:"#FFFFFF"}}),isOptionEqualToValue:(i,a)=>i.chatbotId===a.chatbotId,noOptionsText:r?"Loading chatbots...":"No chatbots found. Create a chatbot first to see quiz data.",clearOnBlur:!0,handleHomeEndKeys:!0}),e.length===0&&!r&&d.jsx(se,{sx:{mt:2,p:2,bgcolor:"info.light",borderRadius:1},children:d.jsxs(te,{variant:"body2",color:"info.contrastText",children:[d.jsx("strong",{children:"No chatbots available."})," You need to create chatbots first before you can manage quiz sessions. Each chatbot automatically has an associated quiz with predefined questions."]})})]}),mae=({sessions:e,loading:n=!1,onViewDetails:t,onExportSession:r})=>{const i=l=>new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),a=l=>{switch(l){case"easy":return"success";case"medium":return"warning";case"hard":return"error";default:return"warning"}},s=l=>l>=80?"success":l>=60?"warning":"error";return n?d.jsxs(se,{sx:{width:"100%",mt:2},children:[d.jsx(nl,{}),d.jsx(te,{variant:"body2",sx:{mt:1,textAlign:"center"},children:"Loading quiz sessions..."})]}):e.length===0?d.jsxs(se,{sx:{textAlign:"center",py:8},children:[d.jsx(Ul,{sx:{fontSize:64,color:"text.secondary",mb:2}}),d.jsx(te,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"No quiz sessions found"}),d.jsx(te,{variant:"body2",color:"text.secondary",children:"No quiz sessions have been completed for this chatbot yet. Students need to take quizzes to see data here."})]}):d.jsx(qv,{component:an,variant:"outlined",children:d.jsxs(Bv,{children:[d.jsx($v,{children:d.jsxs(Mc,{children:[d.jsx(Mn,{children:d.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:1},children:[d.jsx(Ul,{fontSize:"small"}),"Session ID"]})}),d.jsx(Mn,{children:d.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:1},children:[d.jsx(b_,{fontSize:"small"}),"User ID"]})}),d.jsx(Mn,{children:d.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:1},children:[d.jsx(EP,{fontSize:"small"}),"Date & Time"]})}),d.jsx(Mn,{children:"Difficulty"}),d.jsx(Mn,{children:"Status"}),d.jsx(Mn,{align:"center",children:"Questions"}),d.jsx(Mn,{align:"center",children:"Time Spent"}),d.jsx(Mn,{align:"center",children:"Score"}),d.jsx(Mn,{align:"center",children:"Performance"}),d.jsx(Mn,{align:"center",children:"Actions"})]})}),d.jsx(Uv,{children:e.map(l=>d.jsxs(Mc,{hover:!0,children:[d.jsx(Mn,{children:d.jsx(te,{variant:"body2",fontFamily:"monospace",sx:{wordBreak:"break-all",fontSize:"0.875rem"},children:l.id})}),d.jsx(Mn,{children:d.jsx(te,{variant:"body2",fontFamily:"monospace",sx:{wordBreak:"break-all",fontSize:"0.875rem"},children:l.userId})}),d.jsx(Mn,{children:d.jsxs(se,{children:[d.jsx(te,{variant:"body2",children:i(l.startedAt)}),l.submittedAt&&d.jsxs(te,{variant:"caption",color:"text.secondary",children:["Submitted: ",i(l.submittedAt)]})]})}),d.jsx(Mn,{children:d.jsx(Rn,{label:l.difficulty.charAt(0).toUpperCase()+l.difficulty.slice(1),color:a(l.difficulty),size:"small"})}),d.jsx(Mn,{children:d.jsx(Rn,{label:l.completed?"Completed":"In Progress",color:l.completed?"success":"warning",size:"small",variant:l.completed?"filled":"outlined"})}),d.jsxs(Mn,{align:"center",children:[d.jsx(te,{variant:"body2",fontWeight:"medium",children:l.questionsAttempted}),d.jsx(te,{variant:"caption",color:"text.secondary",children:"attempted"})]}),d.jsx(Mn,{align:"center",children:l.timeSpentFormatted?d.jsxs(se,{children:[d.jsx(te,{variant:"body2",fontWeight:"medium",children:l.timeSpentFormatted}),d.jsx(te,{variant:"caption",color:"text.secondary",children:"duration"})]}):d.jsx(te,{variant:"body2",color:"text.secondary",children:"-"})}),d.jsx(Mn,{align:"center",children:l.summary?d.jsxs(se,{children:[d.jsxs(te,{variant:"body2",fontWeight:"bold",children:[l.summary.total_score,"/",l.summary.total_max]}),d.jsx(te,{variant:"caption",color:"text.secondary",children:"points"})]}):d.jsx(te,{variant:"body2",color:"text.secondary",children:"-"})}),d.jsx(Mn,{align:"center",children:l.summary?d.jsx(Rn,{label:`${Math.round(l.summary.percent)}%`,color:s(l.summary.percent),size:"small"}):d.jsx(te,{variant:"body2",color:"text.secondary",children:"-"})}),d.jsx(Mn,{align:"center",children:d.jsxs($1,{direction:"row",spacing:1,justifyContent:"center",children:[d.jsx(ni,{title:"View Details",children:d.jsx(jn,{size:"small",onClick:()=>t(l),color:"primary",children:d.jsx(mC,{fontSize:"small"})})}),d.jsx(ni,{title:"Export Data",children:d.jsx(jn,{size:"small",onClick:()=>r(l.id),color:"secondary",children:d.jsx(q1,{fontSize:"small"})})})]})})]},l.id))})]})})},gae=({analytics:e})=>{const n=i=>{switch(i){case"easy":return"success";case"medium":return"warning";case"hard":return"error";default:return"warning"}},t=i=>i>=70?"success":i>=50?"warning":"error",r=i=>{if(i===0)return"0s";const a=Math.floor(i/60),s=i%60;return a===0?`${s}s`:s===0?`${a}m`:`${a}m ${s}s`};return d.jsx(ri,{sx:{mb:4,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:d.jsxs(ii,{sx:{p:3},children:[d.jsxs(te,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1,fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.5rem"},children:[d.jsx(y_,{color:"primary"}),"Quiz Analytics & Insights"]}),d.jsxs(et,{container:!0,spacing:3,sx:{mb:4},children:[d.jsx(et,{item:!0,xs:12,sm:6,md:3,children:d.jsxs(se,{sx:{textAlign:"center",p:2,bgcolor:"#CDDAFF",borderRadius:2,border:"1px solid #0B53C0"},children:[d.jsx(Ul,{sx:{fontSize:40,color:"#0B53C0",mb:1}}),d.jsx(te,{variant:"h4",sx:{color:"#0B53C0",fontFamily:"Staatliches, sans-serif"},children:e.totalSessions}),d.jsx(te,{variant:"body2",sx:{color:"#0B53C0",fontFamily:"Gabarito, sans-serif"},children:"Total Sessions"})]})}),d.jsx(et,{item:!0,xs:12,sm:6,md:3,children:d.jsxs(se,{sx:{textAlign:"center",p:2,bgcolor:"#C8E6C9",borderRadius:2,border:"1px solid #2E7D32"},children:[d.jsx(yb,{sx:{fontSize:40,color:"#2E7D32",mb:1}}),d.jsxs(te,{variant:"h4",sx:{color:"#2E7D32",fontFamily:"Staatliches, sans-serif"},children:[Math.round(e.completionRate),"%"]}),d.jsx(te,{variant:"body2",sx:{color:"#2E7D32",fontFamily:"Gabarito, sans-serif"},children:"Completion Rate"})]})}),d.jsx(et,{item:!0,xs:12,sm:6,md:3,children:d.jsxs(se,{sx:{textAlign:"center",p:2,bgcolor:"#E3F2FD",borderRadius:2,border:"1px solid #1565C0"},children:[d.jsx(bm,{sx:{fontSize:40,color:"#1565C0",mb:1}}),d.jsxs(te,{variant:"h4",sx:{color:"#1565C0",fontFamily:"Staatliches, sans-serif"},children:[Math.round(e.averageScore),"%"]}),d.jsx(te,{variant:"body2",sx:{color:"#1565C0",fontFamily:"Gabarito, sans-serif"},children:"Average Score"})]})}),d.jsx(et,{item:!0,xs:12,sm:6,md:3,children:d.jsxs(se,{sx:{textAlign:"center",p:2,bgcolor:"#FFF3E0",borderRadius:2,border:"1px solid #F57C00"},children:[d.jsx(pm,{sx:{fontSize:40,color:"#F57C00",mb:1}}),d.jsx(te,{variant:"h4",sx:{color:"#F57C00",fontFamily:"Staatliches, sans-serif"},children:r(e.averageTimeSpent)}),d.jsx(te,{variant:"body2",sx:{color:"#F57C00",fontFamily:"Gabarito, sans-serif"},children:"Avg. Time Spent"})]})})]}),d.jsx(Yi,{sx:{my:3}}),d.jsxs(et,{container:!0,spacing:4,children:[d.jsxs(et,{item:!0,xs:12,md:6,children:[d.jsxs(te,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[d.jsx(Ul,{color:"primary"}),"Difficulty Distribution"]}),d.jsx(se,{sx:{mt:2},children:Object.entries(e.difficultyDistribution).map(([i,a])=>{const s=e.totalSessions>0?a/e.totalSessions*100:0;return d.jsxs(se,{sx:{mb:2},children:[d.jsxs(se,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[d.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:1},children:[d.jsx(Rn,{label:i.charAt(0).toUpperCase()+i.slice(1),color:n(i),size:"small"}),d.jsxs(te,{variant:"body2",children:[a," sessions"]})]}),d.jsxs(te,{variant:"body2",color:"text.secondary",children:[Math.round(s),"%"]})]}),d.jsx(nl,{variant:"determinate",value:s,color:n(i),sx:{height:8,borderRadius:4}})]},i)})})]}),d.jsxs(et,{item:!0,xs:12,md:6,children:[d.jsxs(te,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[d.jsx(Yd,{color:"primary"}),"Bloom's Taxonomy Performance"]}),d.jsx(se,{sx:{mt:2},children:Object.entries(e.categoryPerformance).map(([i,a])=>d.jsxs(se,{sx:{mb:2},children:[d.jsxs(se,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[d.jsxs(se,{children:[d.jsx(te,{variant:"body2",fontWeight:"medium",children:i}),d.jsxs(te,{variant:"caption",color:"text.secondary",children:[a.totalAttempts," attempts"]})]}),d.jsxs(se,{sx:{textAlign:"right"},children:[d.jsxs(te,{variant:"body2",fontWeight:"medium",children:[Math.round(a.averageScore),"%"]}),d.jsx(Rn,{label:`${a.successRate}% success`,color:t(a.successRate),size:"small",variant:"outlined"})]})]}),d.jsx(nl,{variant:"determinate",value:a.successRate,color:t(a.successRate),sx:{height:6,borderRadius:3}})]},i))})]})]})]})})},bae=({quizId:e,open:n,onClose:t})=>{const{quizPools:r,loading:i}=LM(),a=r[e],s=u=>({Remember:"success",Understand:"info",Apply:"primary",Analyze:"warning",Evaluate:"error",Create:"secondary"})[u]||"primary",l=u=>{const f=["Remember","Understand","Apply","Analyze","Evaluate","Create"],h=u.split("").reduce((m,b)=>m+b.charCodeAt(0),0);return f[h%f.length]};return i?d.jsx(la,{open:n,onClose:t,maxWidth:"md",fullWidth:!0,children:d.jsx(ua,{children:d.jsxs(se,{sx:{display:"flex",flexDirection:"column",alignItems:"center",py:4},children:[d.jsx(nl,{sx:{width:"100%",mb:2}}),d.jsx(te,{variant:"body1",children:"Loading quiz questions..."})]})})}):a?d.jsxs(la,{open:n,onClose:t,maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{minHeight:"80vh"}},children:[d.jsx($a,{children:d.jsxs(se,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[d.jsxs(se,{children:[d.jsx(te,{variant:"h5",component:"div",children:"Quiz Question Pool"}),d.jsxs(te,{variant:"body2",color:"text.secondary",children:["Quiz ID: ",e.substring(0,16),"..."]})]}),d.jsx(jn,{onClick:t,edge:"end",children:d.jsx(B1,{})})]})}),d.jsxs(ua,{dividers:!0,children:[d.jsx(ri,{sx:{mb:3},children:d.jsxs(ii,{children:[d.jsxs(te,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[d.jsx(bm,{color:"primary"}),"Pool Statistics"]}),d.jsxs(et,{container:!0,spacing:3,children:[d.jsx(et,{item:!0,xs:12,sm:6,md:3,children:d.jsxs(se,{sx:{textAlign:"center",p:2,bgcolor:"primary.light",borderRadius:1},children:[d.jsx(te,{variant:"h4",color:"primary.contrastText",children:a.totalQuestions}),d.jsx(te,{variant:"body2",color:"primary.contrastText",children:"Total Questions"})]})}),d.jsx(et,{item:!0,xs:12,sm:6,md:3,children:d.jsxs(se,{sx:{textAlign:"center",p:2,bgcolor:"success.light",borderRadius:1},children:[d.jsx(te,{variant:"h4",color:"success.contrastText",children:a.difficultyBreakdown.easy||0}),d.jsx(te,{variant:"body2",color:"success.contrastText",children:"Easy Questions"})]})}),d.jsx(et,{item:!0,xs:12,sm:6,md:3,children:d.jsxs(se,{sx:{textAlign:"center",p:2,bgcolor:"warning.light",borderRadius:1},children:[d.jsx(te,{variant:"h4",color:"warning.contrastText",children:a.difficultyBreakdown.medium||0}),d.jsx(te,{variant:"body2",color:"warning.contrastText",children:"Medium Questions"})]})}),d.jsx(et,{item:!0,xs:12,sm:6,md:3,children:d.jsxs(se,{sx:{textAlign:"center",p:2,bgcolor:"error.light",borderRadius:1},children:[d.jsx(te,{variant:"h4",color:"error.contrastText",children:a.difficultyBreakdown.hard||0}),d.jsx(te,{variant:"body2",color:"error.contrastText",children:"Hard Questions"})]})})]})]})}),d.jsx(ri,{sx:{mb:3},children:d.jsxs(ii,{children:[d.jsxs(te,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[d.jsx(jP,{color:"primary"}),"Bloom's Taxonomy Categories"]}),d.jsx(et,{container:!0,spacing:2,children:Object.entries(a.categoryCounts).map(([u,f])=>{const h=f/a.totalQuestions*100;return d.jsx(et,{item:!0,xs:12,sm:6,md:4,children:d.jsxs(se,{sx:{p:2,border:"1px solid",borderColor:"grey.300",borderRadius:1},children:[d.jsxs(se,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[d.jsx(Rn,{label:u,color:s(u),size:"small"}),d.jsxs(te,{variant:"body2",fontWeight:"bold",children:[f," questions"]})]}),d.jsx(nl,{variant:"determinate",value:h,color:s(u),sx:{height:6,borderRadius:3}}),d.jsxs(te,{variant:"caption",color:"text.secondary",sx:{mt:.5,display:"block"},children:[Math.round(h),"% of total"]})]})},u)})})]})}),d.jsx(ri,{children:d.jsxs(ii,{children:[d.jsxs(te,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[d.jsx(x_,{color:"primary"}),"Quiz Questions"]}),d.jsx(te,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"All available question IDs from the quiz pool. Questions are categorized using Bloom's taxonomy levels and automatically selected based on quiz difficulty mode."}),d.jsx(qv,{component:an,variant:"outlined",children:d.jsxs(Bv,{children:[d.jsx($v,{children:d.jsxs(Mc,{children:[d.jsx(Mn,{children:"Question ID"}),d.jsx(Mn,{children:"Question"}),d.jsx(Mn,{align:"center",children:"Bloom's Taxonomy Category"})]})}),d.jsx(Uv,{children:a.questions.map((u,f)=>{const h=l(u.category);return d.jsxs(Mc,{hover:!0,children:[d.jsx(Mn,{children:d.jsx(te,{variant:"body2",fontFamily:"monospace",children:u.questionId})}),d.jsx(Mn,{children:d.jsx(te,{variant:"body2",sx:{maxWidth:400},children:u.question.length>120?`${u.question.substring(0,120)}...`:u.question})}),d.jsx(Mn,{align:"center",children:d.jsx(Rn,{label:h,color:s(h),size:"small"})})]},u.questionId)})})]})})]})}),d.jsx(Yi,{sx:{my:3}}),d.jsxs(se,{sx:{p:2,bgcolor:"info.light",borderRadius:1},children:[d.jsxs(te,{variant:"body2",color:"info.contrastText",children:[d.jsx("strong",{children:"Quiz Question Pool:"})," This shows the available questions that can be selected for quizzes. When students take a quiz, questions are automatically chosen from this pool based on the selected difficulty mode: Easy (~5 questions), Medium (~8 questions), Hard (~10 questions)."]}),d.jsxs(te,{variant:"caption",color:"info.contrastText",sx:{mt:1,display:"block"},children:[d.jsx("strong",{children:"Note:"})," This is placeholder data for demonstration. Actual questions will be loaded from the quiz API."]})]})]}),d.jsx(Ea,{children:d.jsx(xt,{onClick:t,variant:"contained",children:"Close"})})]}):d.jsxs(la,{open:n,onClose:t,maxWidth:"md",fullWidth:!0,children:[d.jsx($a,{children:d.jsxs(se,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[d.jsx(te,{variant:"h6",children:"Quiz Pool"}),d.jsx(jn,{onClick:t,edge:"end",children:d.jsx(B1,{})})]})}),d.jsx(ua,{children:d.jsxs(se,{sx:{textAlign:"center",py:4},children:[d.jsx(te,{variant:"h6",color:"text.secondary",children:"Quiz pool not found"}),d.jsxs(te,{variant:"body2",color:"text.secondary",children:["Unable to load questions for quiz ID: ",e]})]})}),d.jsx(Ea,{children:d.jsx(xt,{onClick:t,children:"Close"})})]})},yae=({session:e,open:n,onClose:t})=>{const r=u=>new Date(u).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),i=u=>{switch(u){case"easy":return"success";case"medium":return"warning";case"hard":return"error";default:return"warning"}},a=u=>u==="correct"?"success":"error",s=u=>{const f=e.answers[u];if(!f)return"Question text not available";const h=f.split(" ");return h.length>15?`Question about: ${h.slice(0,15).join(" ")}...`:`Question about: ${f.substring(0,100)}${f.length>100?"...":""}`},l=()=>{const u={sessionId:e.id,quizId:e.quizId,chatbotId:e.chatbotId,student:{userId:e.userId,name:e.userName,email:e.userEmail},quiz:{difficulty:e.difficulty,startedAt:e.startedAt,submittedAt:e.submittedAt,completed:e.completed,timeSpent:e.timeSpent},answers:e.answers,summary:e.summary,exportedAt:new Date().toISOString()},f=JSON.stringify(u,null,2),h=new Blob([f],{type:"application/json"}),m=URL.createObjectURL(h),b=document.createElement("a");b.href=m,b.download=`quiz-session-${e.id}.json`,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(m)};return d.jsxs(la,{open:n,onClose:t,maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{minHeight:"80vh"}},children:[d.jsx($a,{children:d.jsxs(se,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[d.jsxs(se,{children:[d.jsx(te,{variant:"h5",component:"div",children:"Quiz Session Details"}),d.jsxs(te,{variant:"body2",color:"text.secondary",children:["Session ID: ",e.id]})]}),d.jsx(jn,{onClick:t,edge:"end",children:d.jsx(B1,{})})]})}),d.jsxs(ua,{dividers:!0,children:[d.jsx(ri,{sx:{mb:3},children:d.jsxs(ii,{children:[d.jsxs(te,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[d.jsx(b_,{color:"primary"}),"User Information"]}),d.jsx(et,{container:!0,spacing:2,children:d.jsxs(et,{item:!0,xs:12,children:[d.jsx(te,{variant:"subtitle2",color:"text.secondary",children:"User ID"}),d.jsx(te,{variant:"body1",fontFamily:"monospace",sx:{wordBreak:"break-all"},children:e.userId})]})})]})}),d.jsx(ri,{sx:{mb:3},children:d.jsxs(ii,{children:[d.jsxs(te,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[d.jsx(Ul,{color:"primary"}),"Quiz Information"]}),d.jsxs(et,{container:!0,spacing:2,children:[d.jsxs(et,{item:!0,xs:12,md:6,children:[d.jsx(te,{variant:"subtitle2",color:"text.secondary",children:"Quiz ID"}),d.jsx(te,{variant:"body1",fontFamily:"monospace",sx:{wordBreak:"break-all",fontSize:"0.875rem"},children:e.quizId})]}),d.jsxs(et,{item:!0,xs:12,md:6,children:[d.jsx(te,{variant:"subtitle2",color:"text.secondary",children:"Chatbot ID"}),d.jsx(te,{variant:"body1",fontFamily:"monospace",sx:{wordBreak:"break-all",fontSize:"0.875rem"},children:e.chatbotId})]}),d.jsxs(et,{item:!0,xs:12,md:6,children:[d.jsx(te,{variant:"subtitle2",color:"text.secondary",children:"Difficulty"}),d.jsx(Rn,{label:e.difficulty.charAt(0).toUpperCase()+e.difficulty.slice(1),color:i(e.difficulty),size:"small"})]}),d.jsxs(et,{item:!0,xs:12,md:6,children:[d.jsx(te,{variant:"subtitle2",color:"text.secondary",children:"Status"}),d.jsx(Rn,{label:e.completed?"Completed":"In Progress",color:e.completed?"success":"warning",size:"small"})]}),d.jsxs(et,{item:!0,xs:12,md:6,children:[d.jsx(te,{variant:"subtitle2",color:"text.secondary",children:"Questions Attempted"}),d.jsxs(te,{variant:"body1",children:[e.questionsAttempted," questions answered"]})]}),d.jsxs(et,{item:!0,xs:12,md:6,children:[d.jsx(te,{variant:"subtitle2",color:"text.secondary",children:"Quiz Mode"}),d.jsx(te,{variant:"body1",children:e.difficulty==="easy"?"~5 questions (Remember/Understand focus)":e.difficulty==="medium"?"~8 questions (Mixed difficulty)":"~10 questions (Analyze/Evaluate focus)"})]})]})]})}),d.jsx(ri,{sx:{mb:3},children:d.jsxs(ii,{children:[d.jsxs(te,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[d.jsx(pm,{color:"primary"}),"Session Timeline"]}),d.jsxs(et,{container:!0,spacing:2,children:[d.jsxs(et,{item:!0,xs:12,md:4,children:[d.jsx(te,{variant:"subtitle2",color:"text.secondary",children:"Started At"}),d.jsx(te,{variant:"body1",children:r(e.startedAt)})]}),e.submittedAt&&d.jsxs(et,{item:!0,xs:12,md:4,children:[d.jsx(te,{variant:"subtitle2",color:"text.secondary",children:"Submitted At"}),d.jsx(te,{variant:"body1",children:r(e.submittedAt)})]}),e.timeSpentFormatted&&d.jsxs(et,{item:!0,xs:12,md:4,children:[d.jsx(te,{variant:"subtitle2",color:"text.secondary",children:"Time Spent"}),d.jsx(te,{variant:"body1",children:e.timeSpentFormatted})]})]})]})}),e.summary&&d.jsx(ri,{sx:{mb:3},children:d.jsxs(ii,{children:[d.jsx(te,{variant:"h6",gutterBottom:!0,children:"Quiz Results"}),d.jsxs(et,{container:!0,spacing:2,sx:{mb:3},children:[d.jsx(et,{item:!0,xs:12,md:4,children:d.jsxs(se,{sx:{textAlign:"center",p:2,bgcolor:"primary.light",borderRadius:1},children:[d.jsx(te,{variant:"h4",color:"primary.contrastText",children:e.summary.total_score}),d.jsx(te,{variant:"body2",color:"primary.contrastText",children:"Total Score"})]})}),d.jsx(et,{item:!0,xs:12,md:4,children:d.jsxs(se,{sx:{textAlign:"center",p:2,bgcolor:"info.light",borderRadius:1},children:[d.jsx(te,{variant:"h4",color:"info.contrastText",children:e.summary.total_max}),d.jsx(te,{variant:"body2",color:"info.contrastText",children:"Maximum Score"})]})}),d.jsx(et,{item:!0,xs:12,md:4,children:d.jsxs(se,{sx:{textAlign:"center",p:2,bgcolor:"success.light",borderRadius:1},children:[d.jsxs(te,{variant:"h4",color:"success.contrastText",children:[Math.round(e.summary.percent),"%"]}),d.jsx(te,{variant:"body2",color:"success.contrastText",children:"Percentage"})]})})]}),d.jsx(Yi,{sx:{my:2}}),d.jsx(te,{variant:"h6",gutterBottom:!0,children:"Question Results"}),d.jsx(qv,{component:an,variant:"outlined",children:d.jsxs(Bv,{size:"small",children:[d.jsx($v,{children:d.jsxs(Mc,{children:[d.jsx(Mn,{children:"Question"}),d.jsx(Mn,{align:"center",children:"Score"}),d.jsx(Mn,{align:"center",children:"Max Score"}),d.jsx(Mn,{align:"center",children:"Verdict"}),d.jsx(Mn,{children:"Reasoning"})]})}),d.jsx(Uv,{children:Object.entries(e.summary.items).map(([u,f])=>d.jsxs(Mc,{children:[d.jsxs(Mn,{children:[d.jsx(te,{variant:"body2",sx:{mb:1},children:s(u)}),d.jsxs(te,{variant:"caption",color:"text.secondary",fontFamily:"monospace",children:["ID: ",u]})]}),d.jsx(Mn,{align:"center",children:d.jsx(te,{variant:"body2",fontWeight:"bold",children:f.score})}),d.jsx(Mn,{align:"center",children:d.jsx(te,{variant:"body2",children:f.max_score})}),d.jsx(Mn,{align:"center",children:(()=>{let h;return f.verdict==="correct"?h="correct":f.verdict==="incorrect"?h="incorrect":h=f.score>=f.max_score*.7?"correct":"incorrect",d.jsx(Rn,{label:h,color:a(h),size:"small",icon:h==="correct"?d.jsx(yb,{}):d.jsx(fC,{})})})()}),d.jsx(Mn,{children:d.jsx(te,{variant:"body2",children:f.reasoning||"No reasoning provided"})})]},u))})]})})]})}),Object.keys(e.answers).length>0&&d.jsx(ri,{children:d.jsxs(ii,{children:[d.jsx(te,{variant:"h6",gutterBottom:!0,children:"User Answers"}),Object.entries(e.answers).map(([u,f],h)=>d.jsxs(zd,{children:[d.jsx(qd,{expandIcon:d.jsx(zl,{}),children:d.jsxs(te,{variant:"subtitle1",children:["Question ",h+1," (",u,")"]})}),d.jsx(Bd,{children:d.jsx(se,{sx:{p:2,bgcolor:"grey.50",borderRadius:1},children:d.jsx(te,{variant:"body1",sx:{whiteSpace:"pre-wrap"},children:f})})})]},u))]})})]}),d.jsxs(Ea,{children:[d.jsx(xt,{startIcon:d.jsx(q1,{}),onClick:l,variant:"outlined",children:"Export Session Data"}),d.jsx(xt,{onClick:t,variant:"contained",children:"Close"})]})]})},xae=()=>{Na();const{userDetails:e}=Ii(),{courses:n,selectedCourse:t,chatbotsWithQuizzes:r,filteredChatbots:i,selectedChatbot:a,quizSessions:s,analytics:l,loading:u,error:f,filters:h,selectedSession:m,loadChatbotsWithQuizzes:b,selectCourse:g,selectChatbot:v,loadQuizSessions:x,loadQuizPool:C,updateFilters:S,selectSession:A,exportSessionData:N,clearError:P}=LM(),[U,B]=M.useState(!1),[j,F]=M.useState(!1),[V,X]=M.useState("");M.useEffect(()=>{console.log(" Enhanced Quiz Management Page: Initializing..."),b()},[b]);const T=H=>{g(H),H&&console.log(" Selected course:",H.courseTitle,"with",H.chatbotCount,"chatbots")},D=H=>{v(H),H&&console.log(" Selected chatbot:",H.title,"with quiz ID:",H.quizId)},O=H=>{A(H),B(!0)},L=async H=>{await C(H),F(!0)},Q=()=>{b(),a&&x(a.chatbotId)},$=async H=>{await N(H)},Y=H=>{S({difficulty:H})},Z=H=>{S({completionStatus:H})},re=H=>{X(H),S({userId:H||void 0})};return u&&r.length===0?d.jsxs(se,{sx:{width:"100%",mt:2},children:[d.jsx(nl,{}),d.jsx(te,{variant:"body2",sx:{mt:1,textAlign:"center"},children:"Loading quiz management data..."})]}):d.jsxs(se,{className:"profile-container",children:[d.jsx(Do,{title:"Quiz Management"}),d.jsx(se,{sx:{mb:4},children:d.jsx(se,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:d.jsx(se,{children:d.jsx($1,{direction:"row",spacing:2,children:d.jsx(ni,{title:"Refresh Data",children:d.jsx("span",{children:d.jsx(jn,{onClick:Q,disabled:u,children:d.jsx(i_,{})})})})})})})}),f&&d.jsx(Cn,{severity:"error",sx:{mb:3},onClose:P,children:f}),d.jsx(ri,{sx:{mb:4,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:d.jsxs(ii,{sx:{p:3},children:[d.jsxs(te,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1,fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.5rem"},children:[d.jsx(Yd,{color:"primary"}),"Course & Quiz Selection"]}),d.jsx(te,{variant:"body2",sx:{mb:3,fontFamily:"Gabarito, sans-serif",color:"#666666"},children:"First select a course to filter materials, then choose a specific chatbot to view its quiz sessions and manage quiz data."}),d.jsx(se,{sx:{mb:3},children:d.jsx(hae,{courses:n,selectedCourse:t,onSelect:T,loading:u})}),d.jsx(se,{children:d.jsx(pae,{chatbots:i,selectedChatbot:a,onSelect:D,loading:u})}),a&&d.jsxs(se,{sx:{mt:3,p:2,bgcolor:"#F0F4FF",borderRadius:2,border:"1px solid #CDDAFF"},children:[d.jsxs(et,{container:!0,spacing:2,children:[d.jsxs(et,{item:!0,xs:12,md:6,children:[d.jsx(te,{variant:"subtitle2",sx:{fontFamily:"Gabarito, sans-serif",fontWeight:"bold",color:"#0B53C0"},children:"Material"}),d.jsx(te,{variant:"body1",sx:{fontFamily:"Gabarito, sans-serif"},children:a.materialTitle})]}),d.jsxs(et,{item:!0,xs:12,md:3,children:[d.jsx(te,{variant:"subtitle2",sx:{fontFamily:"Gabarito, sans-serif",fontWeight:"bold",color:"#0B53C0"},children:"Course"}),d.jsx(te,{variant:"body1",sx:{fontFamily:"Gabarito, sans-serif"},children:a.courseTitle})]}),d.jsxs(et,{item:!0,xs:12,md:3,children:[d.jsx(te,{variant:"subtitle2",sx:{fontFamily:"Gabarito, sans-serif",fontWeight:"bold",color:"#0B53C0"},children:"Quiz ID"}),d.jsx(te,{variant:"body1",fontFamily:"monospace",sx:{fontSize:"0.875rem",wordBreak:"break-all",lineHeight:1.2},children:a.quizId||"No Quiz ID Available"})]})]}),d.jsxs(se,{sx:{mt:2,display:"flex",gap:2},children:[d.jsx(xt,{variant:"outlined",startIcon:d.jsx(x_,{}),onClick:()=>a.quizId&&L(a.quizId),size:"small",sx:{fontFamily:"Gabarito, sans-serif",color:"#0B53C0",borderColor:"#0B53C0","&:hover":{backgroundColor:"#0B53C0",color:"#FFFFFF"}},children:"View Quiz Questions"}),d.jsx(t8,{badgeContent:s.length,color:"primary",children:d.jsx(xt,{variant:"outlined",size:"small",sx:{fontFamily:"Gabarito, sans-serif",color:"#0B53C0",borderColor:"#0B53C0"},children:"Quiz Sessions"})})]})]})]})}),l&&d.jsx(gae,{analytics:l}),a&&d.jsx(ri,{sx:{backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:d.jsxs(ii,{sx:{p:3},children:[d.jsxs(se,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[d.jsxs(te,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1,fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.5rem"},children:[d.jsx(Ul,{color:"primary"}),"Quiz Sessions",d.jsx(t8,{badgeContent:s.length,color:"primary",sx:{ml:1}})]}),d.jsxs($1,{direction:"row",spacing:2,alignItems:"center",flexWrap:"wrap",children:[d.jsx(tn,{size:"small",label:"Filter by User ID",placeholder:"Enter user ID...",value:V,onChange:H=>re(H.target.value),sx:{minWidth:200}}),d.jsxs(Xc,{size:"small",sx:{minWidth:120},children:[d.jsx(ch,{children:"Difficulty"}),d.jsxs(Zc,{value:h.difficulty||"all",label:"Difficulty",onChange:H=>Y(H.target.value),children:[d.jsx(xi,{value:"all",children:"All Levels"}),d.jsx(xi,{value:"easy",children:"Easy"}),d.jsx(xi,{value:"medium",children:"Medium"}),d.jsx(xi,{value:"hard",children:"Hard"})]})]}),d.jsxs(Xc,{size:"small",sx:{minWidth:120},children:[d.jsx(ch,{children:"Status"}),d.jsxs(Zc,{value:h.completionStatus||"all",label:"Status",onChange:H=>Z(H.target.value),children:[d.jsx(xi,{value:"all",children:"All Sessions"}),d.jsx(xi,{value:"completed",children:"Completed"}),d.jsx(xi,{value:"incomplete",children:"In Progress"})]})]})]})]}),d.jsx(mae,{sessions:s,loading:u,onViewDetails:O,onExportSession:$})]})}),m&&d.jsx(yae,{session:m,open:U,onClose:()=>B(!1)}),(a==null?void 0:a.quizId)&&d.jsx(bae,{quizId:a.quizId,open:j,onClose:()=>F(!1)})]})},vae=M.lazy(()=>Ti(()=>import("./index-BED4lpm5.js"),__vite__mapDeps([7,4,1,5]))),wae=M.lazy(()=>Ti(()=>import("./index-kMmLvqSb.js"),__vite__mapDeps([8,4,1,9,5,10]))),Sae=M.lazy(()=>Ti(()=>import("./DesignDetailPage-DuIMC-mh.js"),__vite__mapDeps([11,4,1,9,5,10,12,13]))),Cae=M.lazy(()=>Ti(()=>import("./SupplementalMaterials-CK9aSaAQ.js"),__vite__mapDeps([14,4,1,5]))),Aae=M.lazy(()=>Ti(()=>import("./MessagesPage-Ed5i6EkP.js"),__vite__mapDeps([15,4,1,5]))),i1=({element:e})=>d.jsx(G_,{children:d.jsx(os,{element:e})}),kae=({element:e})=>d.jsx(Xv,{children:e}),Eae=(e,n)=>[{path:"/",element:e?d.jsx(G_,{children:d.jsx(hz,{})}):d.jsx(kae,{element:d.jsx(vae,{})})},{path:"/messages",element:d.jsx(i1,{element:Aae})},{path:"/laboratory-notebook",element:d.jsx(i1,{element:wae})},{path:"/laboratory-notebook/:designId",element:d.jsx(i1,{element:Sae})},{path:"/supplemental-materials",element:d.jsx(i1,{element:Cae})},{path:"/my-profile",element:d.jsx(i1,{element:nJ})},{path:"/add-material",element:d.jsx(os,{element:tO})},{path:"/edit-material/:id",element:d.jsx(os,{element:gX})},{path:"/view-material/:id",element:d.jsx(os,{element:HZ})},{path:"/add-message",element:d.jsx(os,{element:VZ})},{path:"/edit-message/:id",element:d.jsx(os,{element:WZ})},{path:"/chatbot-management",element:d.jsx(os,{element:IJ})},{path:"/course-management",element:d.jsx(os,{element:pJ})},{path:"/request-chatbot",element:d.jsx(os,{element:LJ})},{path:"/quiz-management",element:d.jsx(os,{element:xae})},{path:"/request-educator-permissions",element:d.jsx(os,{element:SJ})},{path:"/educator-requests",element:d.jsx(os,{element:AJ})},{path:"/request-new-course",element:d.jsx(os,{element:kJ})},{path:"/course-requests",element:d.jsx(os,{element:jJ})},{path:"/super-admin-course-management",element:d.jsx(os,{element:NJ})},{path:"/super-admin-chatbot-requests",element:d.jsx(os,{element:oae})},...n?[{path:"/user-management",element:d.jsx(os,{element:KZ})},{path:"/conversation-analysis",element:d.jsx(os,{element:aae})}]:[],{path:"*",element:d.jsx(B_,{to:"/"})}],jae=a_(Q_()),Tae=Tp()(e2((e,n)=>({isOpen:!0,isMobile:!1,messagesExpanded:!1,setOpen:t=>e({isOpen:t}),setMobile:t=>e({isMobile:t}),toggleMessages:()=>e(t=>({messagesExpanded:!t.messagesExpanded})),toggleSidebar:()=>e(t=>({isOpen:!t.isOpen}))}),{name:"nexlab-sidebar-storage",partialize:e=>({isOpen:e.isOpen,messagesExpanded:e.messagesExpanded})})),Nae=()=>{const e=Jd(),n=Pu(e.breakpoints.down("md"));return{...Tae(),isMobile:n}},Dae=({children:e})=>{const n=Na(),t=Cb(),{userDetails:r,isSuperAdmin:i}=Ii(),{isOpen:a,isMobile:s,setOpen:l,toggleSidebar:u}=Nae(),f=C=>{n(C),s&&l(!1)},h=C=>t.pathname===C,m=[{title:"Home",icon:d.jsx(TP,{}),path:"/",roles:["student","educator","superadmin"],color:K.primary[500]},{title:"My Account",icon:d.jsx(o_,{}),path:"/my-profile",roles:["student","educator","superadmin"],color:K.primary[500]},{title:"Messages",icon:d.jsx(l_,{}),path:"/messages",roles:["student","educator","superadmin"],color:K.info},{title:"Course Materials",icon:d.jsx(Yd,{}),path:"/supplemental-materials",roles:["student","educator","superadmin"],color:K.warning},{title:"Laboratory Notebook",icon:d.jsx(dC,{}),path:"/laboratory-notebook",roles:["student","educator","superadmin"],disabled:r&&!r.isAdmin&&(!r.classes||Object.keys(r.classes).length===0),color:K.secondary[500]}],b=[{title:"Course Management",icon:d.jsx(nv,{}),path:"/course-management",roles:["educator","superadmin"],color:K.primary[600]},{title:"Chatbot Management",icon:d.jsx(n8,{}),path:"/chatbot-management",roles:["educator","superadmin"],color:K.secondary[600]},{title:"Quiz Management",icon:d.jsx(Ul,{}),path:"/quiz-management",roles:["educator","superadmin"],color:K.warning},{title:"Request Chatbot",icon:d.jsx(n8,{}),path:"/request-chatbot",roles:["educator","superadmin"],color:K.info}],g=[{title:"User Management",icon:d.jsx(OP,{}),path:"/user-management",roles:["superadmin"],color:K.error},{title:"Educator Requests",icon:d.jsx(r8,{}),path:"/educator-requests",roles:["superadmin"],color:K.info},{title:"Course Requests",icon:d.jsx(nv,{}),path:"/course-requests",roles:["superadmin"],color:K.primary[600]},{title:"Super Admin Chatbot Requests",icon:d.jsx(r8,{}),path:"/super-admin-chatbot-requests",roles:["superadmin"],color:K.warning},{title:"Conversation Analysis",icon:d.jsx(y_,{}),path:"/conversation-analysis",roles:["superadmin"],color:K.secondary[500]},{title:"Super Admin Course Management",icon:d.jsx(MP,{}),path:"/super-admin-course-management",roles:["superadmin"],color:K.secondary[700]}],v=C=>{const S=h(C.path),A=i?"superadmin":r!=null&&r.isAdmin?"educator":"student";if(!C.roles.includes(A))return null;const P=d.jsxs(c5,{onClick:()=>f(C.path),disabled:C.disabled,sx:{minHeight:56,justifyContent:a?"initial":"center",px:a?3:2,mx:1,borderRadius:Ct.lg,backgroundColor:S?C.color:"transparent",color:S?K.text.inverse:K.text.primary,fontFamily:xe.fontFamily.display,fontWeight:S?xe.fontWeight.bold:xe.fontWeight.medium,fontSize:xe.fontSize.lg,transition:"all 350ms cubic-bezier(0.25, 0.46, 0.45, 0.94)",boxShadow:S?Bt.sm:"none","&:hover":{backgroundColor:S?C.color:K.neutral[100],transform:"translateY(-1px)",boxShadow:S?Bt.md:Bt.sm},"&:disabled":{opacity:.5,cursor:"not-allowed"}},children:[d.jsx(_x,{sx:{minWidth:0,mr:a?2:"auto",justifyContent:"center",color:S?K.text.inverse:C.color,transition:"all 300ms cubic-bezier(0.25, 0.46, 0.45, 0.94)"},children:C.icon}),a&&d.jsx(Tc,{primary:C.title,sx:{opacity:a?1:0,transform:a?"translateX(0)":"translateX(-20px)",transition:"opacity 350ms cubic-bezier(0.25, 0.46, 0.45, 0.94), transform 350ms cubic-bezier(0.25, 0.46, 0.45, 0.94)","& .MuiListItemText-primary":{fontSize:xe.fontSize.lg,fontWeight:S?xe.fontWeight.bold:xe.fontWeight.medium,fontFamily:xe.fontFamily.display}}})]});return C.disabled&&a?d.jsx(ni,{title:"Enroll in a course to access this feature",placement:"right",children:d.jsx("span",{children:P})}):P},x=d.jsxs(se,{sx:{height:"100%",display:"flex",flexDirection:"column",backgroundColor:K.background.secondary,borderRight:`1px solid ${K.neutral[200]}`},children:[d.jsxs(se,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:a?3:2,minHeight:80,backgroundColor:K.background.primary,borderBottom:`1px solid ${K.neutral[200]}`,boxShadow:Bt.sm},children:[a&&d.jsx(se,{sx:{display:"flex",alignItems:"center",gap:2,flex:1},children:d.jsx(se,{sx:{flex:1}})}),d.jsx(jn,{onClick:u,sx:{backgroundColor:K.primary[100],color:K.primary[600],"&:hover":{backgroundColor:K.primary[200],transform:"scale(1.08) rotate(5deg)",boxShadow:Bt.md},"&:active":{transform:"scale(0.95)"},transition:"all 250ms cubic-bezier(0.34, 1.56, 0.64, 1)",borderRadius:Ct.lg,zIndex:101},children:a?d.jsx(NP,{}):d.jsx(DP,{})})]}),d.jsxs(se,{sx:{flexGrow:1,overflow:"auto",py:2,"&::-webkit-scrollbar":{width:a?"8px":"6px",transition:"width 300ms ease"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:a?K.neutral[300]:K.neutral[200],borderRadius:"4px",transition:"background 300ms ease","&:hover":{background:a?K.neutral[400]:K.neutral[300]}},"&::-webkit-scrollbar-thumb:hover":{background:a?K.neutral[400]:K.neutral[300]},scrollbarWidth:"thin",scrollbarColor:`${a?K.neutral[300]:K.neutral[200]} transparent`},children:[d.jsx($d,{sx:{px:1},children:m.map((C,S)=>d.jsx(Nu,{disablePadding:!0,sx:{display:"block",mb:.5},children:v(C)},S))}),(r==null?void 0:r.isAdmin)&&d.jsxs(d.Fragment,{children:[d.jsx(Yi,{sx:{my:3,mx:2,borderColor:K.neutral[200]}}),d.jsx(se,{sx:{px:3,py:1},children:a&&d.jsx(te,{variant:"caption",sx:{fontFamily:xe.fontFamily.display,fontWeight:xe.fontWeight.bold,color:K.warning,fontSize:xe.fontSize.xs,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Educator Tools"})}),d.jsx($d,{sx:{px:1},children:b.map((C,S)=>d.jsx(Nu,{disablePadding:!0,sx:{display:"block",mb:.5},children:v(C)},`educator-${S}`))})]}),i&&d.jsxs(d.Fragment,{children:[d.jsx(Yi,{sx:{my:3,mx:2,borderColor:K.neutral[200]}}),d.jsx(se,{sx:{px:3,py:1},children:a&&d.jsx(te,{variant:"caption",sx:{fontFamily:xe.fontFamily.display,fontWeight:xe.fontWeight.bold,color:K.error,fontSize:xe.fontSize.xs,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Super Admin Tools"})}),d.jsx($d,{sx:{px:1},children:g.map((C,S)=>d.jsx(Nu,{disablePadding:!0,sx:{display:"block",mb:.5},children:v(C)},`superadmin-${S}`))})]}),d.jsxs(se,{sx:{mt:"auto",p:2,borderTop:`1px solid ${K.neutral[200]}`,backgroundColor:K.background.primary},children:[d.jsx(se,{sx:{mb:2},children:d.jsxs(c5,{onClick:()=>{window.open("https://help.waveshi.org","_blank","noopener,noreferrer")},sx:{borderRadius:Ct.lg,backgroundColor:K.secondary[50],color:K.secondary[700],fontFamily:xe.fontFamily.display,fontWeight:xe.fontWeight.medium,fontSize:xe.fontSize.lg,"&:hover":{backgroundColor:K.secondary[100],transform:"translateY(-1px)",boxShadow:Bt.sm},transition:Rc.transitions.normal},children:[d.jsx(_x,{sx:{color:K.secondary[600]},children:d.jsx(_P,{})}),a&&d.jsx(Tc,{primary:"Provide Feedback",sx:{"& .MuiListItemText-primary":{fontSize:xe.fontSize.lg,fontWeight:xe.fontWeight.medium,fontFamily:xe.fontFamily.display}}})]})}),d.jsxs(c5,{onClick:async()=>{try{await $_.signOut()}catch(C){console.error("Logout failed:",C)}},sx:{borderRadius:Ct.lg,backgroundColor:K.error+"20",color:K.error,fontFamily:xe.fontFamily.display,fontWeight:xe.fontWeight.medium,fontSize:xe.fontSize.lg,"&:hover":{backgroundColor:K.error+"30",transform:"translateY(-1px)",boxShadow:Bt.sm},transition:Rc.transitions.normal},children:[d.jsx(_x,{sx:{color:K.error},children:d.jsx(IP,{})}),a&&d.jsx(Tc,{primary:"Logout",sx:{"& .MuiListItemText-primary":{fontSize:xe.fontSize.lg,fontWeight:xe.fontWeight.medium,fontFamily:xe.fontFamily.display}}})]})]})]})]});return d.jsxs(se,{sx:{display:"flex",flex:1,width:"100%"},children:[d.jsx(se,{sx:{width:a?320:100,height:"100%",flexShrink:0,transition:"width 400ms cubic-bezier(0.25, 0.46, 0.45, 0.94), box-shadow 300ms ease-out",backgroundColor:K.primary[100],borderRight:`1px solid ${K.primary[200]}`,boxShadow:a?Bt.xl:Bt.md,overflow:"auto",position:"relative",zIndex:100,"&::-webkit-scrollbar":{width:a?"8px":"6px",transition:"width 300ms ease"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:a?K.neutral[300]:K.neutral[200],borderRadius:"4px",transition:"background 300ms ease","&:hover":{background:a?K.neutral[400]:K.neutral[300]}},scrollbarWidth:"thin",scrollbarColor:`${a?K.neutral[300]:K.neutral[200]} transparent`},children:x}),d.jsx(se,{sx:{flex:1,backgroundColor:"#F0F4FF",overflow:"auto",transition:"margin-left 400ms cubic-bezier(0.25, 0.46, 0.45, 0.94)"},children:e})]})},_ae=()=>d.jsx(se,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start",padding:Pe[4],backgroundColor:K.primary[100],borderBottom:`1px solid ${K.primary[200]}`,boxShadow:Bt.sm,height:"100%",width:"100%",position:"relative",zIndex:1},children:d.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:Pe[4],width:"100%"},children:[d.jsx("img",{src:"/nexlab-logo.png",alt:"NexLab Logo",style:{height:85,borderRadius:Ct.lg}}),d.jsx(se,{className:"divider",sx:{height:"85px",borderLeft:`2px solid ${K.primary[500]}`,marginRight:Pe[5]}}),d.jsx(te,{variant:"h4",component:"p",sx:{color:K.primary[700],fontFamily:xe.fontFamily.secondary,fontSize:xe.fontSize["2xl"],fontWeight:xe.fontWeight.normal,whiteSpace:"nowrap",flex:1},children:"Next-Generation Experiments and Learning for Advanced Biotech"})]})}),Iae=()=>d.jsxs(se,{sx:{backgroundColor:K.primary[100],borderTop:`1px solid ${K.primary[200]}`,height:"10vh",minHeight:70,maxHeight:100,display:"flex",flexDirection:"column",justifyContent:"center",flexShrink:0},children:[d.jsx(Yi,{}),d.jsxs(se,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flex:1,px:Pe[4],gap:Pe[4]},children:[d.jsx(se,{sx:{flex:.25,display:"flex",justifyContent:"center"},children:d.jsx("img",{src:"/FooterLogoLong.png",alt:"Partner Logos",style:{height:60,borderRadius:Ct.lg,border:`1px solid ${K.primary[700]}`,opacity:.8}})}),d.jsx(se,{className:"divider",sx:{height:"60px",borderLeft:`2px solid ${K.primary[500]}`,opacity:.8}}),d.jsx(se,{sx:{flex:.4},children:d.jsx(te,{variant:"body2",sx:{color:K.primary[700],fontFamily:xe.fontFamily.secondary,fontSize:xe.fontSize.sm,lineHeight:1.4,opacity:.8},children:"This project is supported by the National Science Foundation (NSF) under grant number #2300976. Any opinions, findings, and conclusions or recommendations expressed in this material, however, are those of the authors and do not necessarily reflect the views of NSF."})}),d.jsx(se,{className:"divider",sx:{height:"60px",borderLeft:`2px solid ${K.primary[500]}`,opacity:.8}}),d.jsxs(se,{sx:{flex:.1},children:[d.jsx(te,{variant:"body2",sx:{color:K.primary[700],fontFamily:xe.fontFamily.secondary,fontSize:xe.fontSize.sm,lineHeight:1.4,opacity:.8,mb:1},children:"Legal:"}),d.jsxs(te,{variant:"body2",sx:{color:K.primary[700],fontFamily:xe.fontFamily.secondary,fontSize:xe.fontSize.sm,lineHeight:1.4,opacity:.8},children:[d.jsx("a",{href:"https://intofuture.org/nexlab-privacy.html",target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",textDecoration:"underline",opacity:.8},children:"Privacy Policy"}),"  ",d.jsx("a",{href:"https://intofuture.org/nexlab-terms.html",target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",textDecoration:"underline",opacity:.8},children:"Terms of Service"})]})]}),d.jsx(se,{className:"divider",sx:{height:"60px",borderLeft:`2px solid ${K.primary[500]}`,opacity:.8}}),d.jsx(se,{sx:{flex:.25},children:d.jsx(te,{variant:"body2",sx:{color:K.primary[700],fontFamily:xe.fontFamily.secondary,fontSize:xe.fontSize.sm,lineHeight:1.4,opacity:.8},children:" 2025 Institute for Future Intelligence and Kapi'olani Community College Antibody Engineering & Research Projects."})})]})]}),qT=["http","https","mailto","tel"];function Oae(e){const n=(e||"").trim(),t=n.charAt(0);if(t==="#"||t==="/")return n;const r=n.indexOf(":");if(r===-1)return n;let i=-1;for(;++i<qT.length;){const a=qT[i];if(r===a.length&&n.slice(0,a.length).toLowerCase()===a)return n}return i=n.indexOf("?"),i!==-1&&r>i||(i=n.indexOf("#"),i!==-1&&r>i)?n:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var oS,BT;function Mae(){return BT||(BT=1,oS=function(n){return n!=null&&n.constructor!=null&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}),oS}var Lae=Mae();const RM=Ta(Lae);function M1(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?$T(e.position):"start"in e||"end"in e?$T(e):"line"in e||"column"in e?P6(e):""}function P6(e){return UT(e&&e.line)+":"+UT(e&&e.column)}function $T(e){return P6(e&&e.start)+"-"+P6(e&&e.end)}function UT(e){return e&&typeof e=="number"?e:1}class Yl extends Error{constructor(n,t,r){const i=[null,null];let a={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof t=="string"&&(r=t,t=void 0),typeof r=="string"){const s=r.indexOf(":");s===-1?i[1]=r:(i[0]=r.slice(0,s),i[1]=r.slice(s+1))}t&&("type"in t||"position"in t?t.position&&(a=t.position):"start"in t||"end"in t?a=t:("line"in t||"column"in t)&&(a.start=t)),this.name=M1(t)||"1:1",this.message=typeof n=="object"?n.message:n,this.stack="",typeof n=="object"&&n.stack&&(this.stack=n.stack),this.reason=this.message,this.fatal,this.line=a.start.line,this.column=a.start.column,this.position=a,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}Yl.prototype.file="";Yl.prototype.name="";Yl.prototype.reason="";Yl.prototype.message="";Yl.prototype.stack="";Yl.prototype.fatal=null;Yl.prototype.column=null;Yl.prototype.line=null;Yl.prototype.source=null;Yl.prototype.ruleId=null;Yl.prototype.position=null;const Sc={basename:Rae,dirname:Pae,extname:Fae,join:zae,sep:"/"};function Rae(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');zb(e);let t=0,r=-1,i=e.length,a;if(n===void 0||n.length===0||n.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(a){t=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(t,r)}if(n===e)return"";let s=-1,l=n.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(a){t=i+1;break}}else s<0&&(a=!0,s=i+1),l>-1&&(e.charCodeAt(i)===n.charCodeAt(l--)?l<0&&(r=i):(l=-1,r=s));return t===r?r=s:r<0&&(r=e.length),e.slice(t,r)}function Pae(e){if(zb(e),e.length===0)return".";let n=-1,t=e.length,r;for(;--t;)if(e.charCodeAt(t)===47){if(r){n=t;break}}else r||(r=!0);return n<0?e.charCodeAt(0)===47?"/":".":n===1&&e.charCodeAt(0)===47?"//":e.slice(0,n)}function Fae(e){zb(e);let n=e.length,t=-1,r=0,i=-1,a=0,s;for(;n--;){const l=e.charCodeAt(n);if(l===47){if(s){r=n+1;break}continue}t<0&&(s=!0,t=n+1),l===46?i<0?i=n:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||t<0||a===0||a===1&&i===t-1&&i===r+1?"":e.slice(i,t)}function zae(...e){let n=-1,t;for(;++n<e.length;)zb(e[n]),e[n]&&(t=t===void 0?e[n]:t+"/"+e[n]);return t===void 0?".":qae(t)}function qae(e){zb(e);const n=e.charCodeAt(0)===47;let t=Bae(e,!n);return t.length===0&&!n&&(t="."),t.length>0&&e.charCodeAt(e.length-1)===47&&(t+="/"),n?"/"+t:t}function Bae(e,n){let t="",r=0,i=-1,a=0,s=-1,l,u;for(;++s<=e.length;){if(s<e.length)l=e.charCodeAt(s);else{if(l===47)break;l=47}if(l===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){if(u=t.lastIndexOf("/"),u!==t.length-1){u<0?(t="",r=0):(t=t.slice(0,u),r=t.length-1-t.lastIndexOf("/")),i=s,a=0;continue}}else if(t.length>0){t="",r=0,i=s,a=0;continue}}n&&(t=t.length>0?t+"/..":"..",r=2)}else t.length>0?t+="/"+e.slice(i+1,s):t=e.slice(i+1,s),r=s-i-1;i=s,a=0}else l===46&&a>-1?a++:a=-1}return t}function zb(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const $ae={cwd:Uae};function Uae(){return"/"}function F6(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function Hae(e){if(typeof e=="string")e=new URL(e);else if(!F6(e)){const n=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw n.code="ERR_INVALID_ARG_TYPE",n}if(e.protocol!=="file:"){const n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return Vae(e)}function Vae(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const n=e.pathname;let t=-1;for(;++t<n.length;)if(n.charCodeAt(t)===37&&n.charCodeAt(t+1)===50){const r=n.charCodeAt(t+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(n)}const lS=["history","path","basename","stem","extname","dirname"];class PM{constructor(n){let t;n?typeof n=="string"||Wae(n)?t={value:n}:F6(n)?t={path:n}:t=n:t={},this.data={},this.messages=[],this.history=[],this.cwd=$ae.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<lS.length;){const a=lS[r];a in t&&t[a]!==void 0&&t[a]!==null&&(this[a]=a==="history"?[...t[a]]:t[a])}let i;for(i in t)lS.includes(i)||(this[i]=t[i])}get path(){return this.history[this.history.length-1]}set path(n){F6(n)&&(n=Hae(n)),cS(n,"path"),this.path!==n&&this.history.push(n)}get dirname(){return typeof this.path=="string"?Sc.dirname(this.path):void 0}set dirname(n){HT(this.basename,"dirname"),this.path=Sc.join(n||"",this.basename)}get basename(){return typeof this.path=="string"?Sc.basename(this.path):void 0}set basename(n){cS(n,"basename"),uS(n,"basename"),this.path=Sc.join(this.dirname||"",n)}get extname(){return typeof this.path=="string"?Sc.extname(this.path):void 0}set extname(n){if(uS(n,"extname"),HT(this.dirname,"extname"),n){if(n.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(n.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Sc.join(this.dirname,this.stem+(n||""))}get stem(){return typeof this.path=="string"?Sc.basename(this.path,this.extname):void 0}set stem(n){cS(n,"stem"),uS(n,"stem"),this.path=Sc.join(this.dirname||"",n+(this.extname||""))}toString(n){return(this.value||"").toString(n||void 0)}message(n,t,r){const i=new Yl(n,t,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(n,t,r){const i=this.message(n,t,r);return i.fatal=null,i}fail(n,t,r){const i=this.message(n,t,r);throw i.fatal=!0,i}}function uS(e,n){if(e&&e.includes(Sc.sep))throw new Error("`"+n+"` cannot be a path: did not expect `"+Sc.sep+"`")}function cS(e,n){if(!e)throw new Error("`"+n+"` cannot be empty")}function HT(e,n){if(!e)throw new Error("Setting `"+n+"` requires `path` to be set too")}function Wae(e){return RM(e)}function VT(e){if(e)throw e}var dS,WT;function Yae(){if(WT)return dS;WT=1;var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString,t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(f){return typeof Array.isArray=="function"?Array.isArray(f):n.call(f)==="[object Array]"},a=function(f){if(!f||n.call(f)!=="[object Object]")return!1;var h=e.call(f,"constructor"),m=f.constructor&&f.constructor.prototype&&e.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!h&&!m)return!1;var b;for(b in f);return typeof b>"u"||e.call(f,b)},s=function(f,h){t&&h.name==="__proto__"?t(f,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):f[h.name]=h.newValue},l=function(f,h){if(h==="__proto__")if(e.call(f,h)){if(r)return r(f,h).value}else return;return f[h]};return dS=function u(){var f,h,m,b,g,v,x=arguments[0],C=1,S=arguments.length,A=!1;for(typeof x=="boolean"&&(A=x,x=arguments[1]||{},C=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});C<S;++C)if(f=arguments[C],f!=null)for(h in f)m=l(x,h),b=l(f,h),x!==b&&(A&&b&&(a(b)||(g=i(b)))?(g?(g=!1,v=m&&i(m)?m:[]):v=m&&a(m)?m:{},s(x,{name:h,newValue:u(A,v,b)})):typeof b<"u"&&s(x,{name:h,newValue:b}));return x},dS}var Gae=Yae();const YT=Ta(Gae);function z6(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Qae(){const e=[],n={run:t,use:r};return n;function t(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);l(null,...i);function l(u,...f){const h=e[++a];let m=-1;if(u){s(u);return}for(;++m<i.length;)(f[m]===null||f[m]===void 0)&&(f[m]=i[m]);i=f,h?Kae(h,l)(...f):s(null,...f)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),n}}function Kae(e,n){let t;return r;function r(...s){const l=e.length>s.length;let u;l&&s.push(i);try{u=e.apply(this,s)}catch(f){const h=f;if(l&&t)throw h;return i(h)}l||(u&&u.then&&typeof u.then=="function"?u.then(a,i):u instanceof Error?i(u):a(u))}function i(s,...l){t||(t=!0,n(s,...l))}function a(s){i(null,s)}}const Xae=zM().freeze(),FM={}.hasOwnProperty;function zM(){const e=Qae(),n=[];let t={},r,i=-1;return a.data=s,a.Parser=void 0,a.Compiler=void 0,a.freeze=l,a.attachers=n,a.use=u,a.parse=f,a.stringify=h,a.run=m,a.runSync=b,a.process=g,a.processSync=v,a;function a(){const x=zM();let C=-1;for(;++C<n.length;)x.use(...n[C]);return x.data(YT(!0,{},t)),x}function s(x,C){return typeof x=="string"?arguments.length===2?(pS("data",r),t[x]=C,a):FM.call(t,x)&&t[x]||null:x?(pS("data",r),t=x,a):t}function l(){if(r)return a;for(;++i<n.length;){const[x,...C]=n[i];if(C[0]===!1)continue;C[0]===!0&&(C[0]=void 0);const S=x.call(a,...C);typeof S=="function"&&e.use(S)}return r=!0,i=Number.POSITIVE_INFINITY,a}function u(x,...C){let S;if(pS("use",r),x!=null)if(typeof x=="function")U(x,...C);else if(typeof x=="object")Array.isArray(x)?P(x):N(x);else throw new TypeError("Expected usable value, not `"+x+"`");return S&&(t.settings=Object.assign(t.settings||{},S)),a;function A(B){if(typeof B=="function")U(B);else if(typeof B=="object")if(Array.isArray(B)){const[j,...F]=B;U(j,...F)}else N(B);else throw new TypeError("Expected usable value, not `"+B+"`")}function N(B){P(B.plugins),B.settings&&(S=Object.assign(S||{},B.settings))}function P(B){let j=-1;if(B!=null)if(Array.isArray(B))for(;++j<B.length;){const F=B[j];A(F)}else throw new TypeError("Expected a list of plugins, not `"+B+"`")}function U(B,j){let F=-1,V;for(;++F<n.length;)if(n[F][0]===B){V=n[F];break}V?(z6(V[1])&&z6(j)&&(j=YT(!0,V[1],j)),V[1]=j):n.push([...arguments])}}function f(x){a.freeze();const C=a1(x),S=a.Parser;return fS("parse",S),GT(S,"parse")?new S(String(C),C).parse():S(String(C),C)}function h(x,C){a.freeze();const S=a1(C),A=a.Compiler;return hS("stringify",A),QT(x),GT(A,"compile")?new A(x,S).compile():A(x,S)}function m(x,C,S){if(QT(x),a.freeze(),!S&&typeof C=="function"&&(S=C,C=void 0),!S)return new Promise(A);A(null,S);function A(N,P){e.run(x,a1(C),U);function U(B,j,F){j=j||x,B?P(B):N?N(j):S(null,j,F)}}}function b(x,C){let S,A;return a.run(x,C,N),KT("runSync","run",A),S;function N(P,U){VT(P),S=U,A=!0}}function g(x,C){if(a.freeze(),fS("process",a.Parser),hS("process",a.Compiler),!C)return new Promise(S);S(null,C);function S(A,N){const P=a1(x);a.run(a.parse(P),P,(B,j,F)=>{if(B||!j||!F)U(B);else{const V=a.stringify(j,F);V==null||(ese(V)?F.value=V:F.result=V),U(B,F)}});function U(B,j){B||!j?N(B):A?A(j):C(null,j)}}}function v(x){let C;a.freeze(),fS("processSync",a.Parser),hS("processSync",a.Compiler);const S=a1(x);return a.process(S,A),KT("processSync","process",C),S;function A(N){C=!0,VT(N)}}}function GT(e,n){return typeof e=="function"&&e.prototype&&(Zae(e.prototype)||n in e.prototype)}function Zae(e){let n;for(n in e)if(FM.call(e,n))return!0;return!1}function fS(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function hS(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function pS(e,n){if(n)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function QT(e){if(!z6(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function KT(e,n,t){if(!t)throw new Error("`"+e+"` finished async. Use `"+n+"` instead")}function a1(e){return Jae(e)?e:new PM(e)}function Jae(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function ese(e){return typeof e=="string"||RM(e)}const tse={};function nse(e,n){const t=tse,r=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,i=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return qM(e,r,i)}function qM(e,n,t){if(rse(e)){if("value"in e)return e.type==="html"&&!t?"":e.value;if(n&&"alt"in e&&e.alt)return e.alt;if("children"in e)return XT(e.children,n,t)}return Array.isArray(e)?XT(e,n,t):""}function XT(e,n,t){const r=[];let i=-1;for(;++i<e.length;)r[i]=qM(e[i],n,t);return r.join("")}function rse(e){return!!(e&&typeof e=="object")}function ad(e,n,t,r){const i=e.length;let a=0,s;if(n<0?n=-n>i?0:i+n:n=n>i?i:n,t=t>0?t:0,r.length<1e4)s=Array.from(r),s.unshift(n,t),e.splice(...s);else for(t&&e.splice(n,t);a<r.length;)s=r.slice(a,a+1e4),s.unshift(n,0),e.splice(...s),a+=1e4,n+=1e4}function Rl(e,n){return e.length>0?(ad(e,e.length,0,n),e):n}const ZT={}.hasOwnProperty;function ise(e){const n={};let t=-1;for(;++t<e.length;)ase(n,e[t]);return n}function ase(e,n){let t;for(t in n){const i=(ZT.call(e,t)?e[t]:void 0)||(e[t]={}),a=n[t];let s;if(a)for(s in a){ZT.call(i,s)||(i[s]=[]);const l=a[s];sse(i[s],Array.isArray(l)?l:l?[l]:[])}}}function sse(e,n){let t=-1;const r=[];for(;++t<n.length;)(n[t].add==="after"?e:r).push(n[t]);ad(e,0,0,r)}const ose=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Oc=Ah(/[A-Za-z]/),tl=Ah(/[\dA-Za-z]/),lse=Ah(/[#-'*+\--9=?A-Z^-~]/);function q6(e){return e!==null&&(e<32||e===127)}const B6=Ah(/\d/),use=Ah(/[\dA-Fa-f]/),cse=Ah(/[!-/:-@[-`{-~]/);function Sn(e){return e!==null&&e<-2}function ko(e){return e!==null&&(e<0||e===32)}function Ar(e){return e===-2||e===-1||e===32}const dse=Ah(ose),fse=Ah(/\s/);function Ah(e){return n;function n(t){return t!==null&&e.test(String.fromCharCode(t))}}function hi(e,n,t,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(u){return Ar(u)?(e.enter(t),l(u)):n(u)}function l(u){return Ar(u)&&a++<i?(e.consume(u),l):(e.exit(t),n(u))}}const hse={tokenize:pse};function pse(e){const n=e.attempt(this.parser.constructs.contentInitial,r,i);let t;return n;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),hi(e,n,"linePrefix")}function i(l){return e.enter("paragraph"),a(l)}function a(l){const u=e.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=u),t=u,s(l)}function s(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return Sn(l)?(e.consume(l),e.exit("chunkText"),a):(e.consume(l),s)}}const mse={tokenize:gse},JT={tokenize:bse};function gse(e){const n=this,t=[];let r=0,i,a,s;return l;function l(N){if(r<t.length){const P=t[r];return n.containerState=P[1],e.attempt(P[0].continuation,u,f)(N)}return f(N)}function u(N){if(r++,n.containerState._closeFlow){n.containerState._closeFlow=void 0,i&&A();const P=n.events.length;let U=P,B;for(;U--;)if(n.events[U][0]==="exit"&&n.events[U][1].type==="chunkFlow"){B=n.events[U][1].end;break}S(r);let j=P;for(;j<n.events.length;)n.events[j][1].end=Object.assign({},B),j++;return ad(n.events,U+1,0,n.events.slice(P)),n.events.length=j,f(N)}return l(N)}function f(N){if(r===t.length){if(!i)return b(N);if(i.currentConstruct&&i.currentConstruct.concrete)return v(N);n.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return n.containerState={},e.check(JT,h,m)(N)}function h(N){return i&&A(),S(r),b(N)}function m(N){return n.parser.lazy[n.now().line]=r!==t.length,s=n.now().offset,v(N)}function b(N){return n.containerState={},e.attempt(JT,g,v)(N)}function g(N){return r++,t.push([n.currentConstruct,n.containerState]),b(N)}function v(N){if(N===null){i&&A(),S(0),e.consume(N);return}return i=i||n.parser.flow(n.now()),e.enter("chunkFlow",{contentType:"flow",previous:a,_tokenizer:i}),x(N)}function x(N){if(N===null){C(e.exit("chunkFlow"),!0),S(0),e.consume(N);return}return Sn(N)?(e.consume(N),C(e.exit("chunkFlow")),r=0,n.interrupt=void 0,l):(e.consume(N),x)}function C(N,P){const U=n.sliceStream(N);if(P&&U.push(null),N.previous=a,a&&(a.next=N),a=N,i.defineSkip(N.start),i.write(U),n.parser.lazy[N.start.line]){let B=i.events.length;for(;B--;)if(i.events[B][1].start.offset<s&&(!i.events[B][1].end||i.events[B][1].end.offset>s))return;const j=n.events.length;let F=j,V,X;for(;F--;)if(n.events[F][0]==="exit"&&n.events[F][1].type==="chunkFlow"){if(V){X=n.events[F][1].end;break}V=!0}for(S(r),B=j;B<n.events.length;)n.events[B][1].end=Object.assign({},X),B++;ad(n.events,F+1,0,n.events.slice(j)),n.events.length=B}}function S(N){let P=t.length;for(;P-- >N;){const U=t[P];n.containerState=U[1],U[0].exit.call(n,e)}t.length=N}function A(){i.write([null]),a=void 0,i=void 0,n.containerState._closeFlow=void 0}}function bse(e,n,t){return hi(e,e.attempt(this.parser.constructs.document,n,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function eN(e){if(e===null||ko(e)||fse(e))return 1;if(dse(e))return 2}function jA(e,n,t){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(n=a(n,t),r.push(a))}return n}const $6={name:"attention",tokenize:xse,resolveAll:yse};function yse(e,n){let t=-1,r,i,a,s,l,u,f,h;for(;++t<e.length;)if(e[t][0]==="enter"&&e[t][1].type==="attentionSequence"&&e[t][1]._close){for(r=t;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&n.sliceSerialize(e[r][1]).charCodeAt(0)===n.sliceSerialize(e[t][1]).charCodeAt(0)){if((e[r][1]._close||e[t][1]._open)&&(e[t][1].end.offset-e[t][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[t][1].end.offset-e[t][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[t][1].end.offset-e[t][1].start.offset>1?2:1;const m=Object.assign({},e[r][1].end),b=Object.assign({},e[t][1].start);tN(m,-u),tN(b,u),s={type:u>1?"strongSequence":"emphasisSequence",start:m,end:Object.assign({},e[r][1].end)},l={type:u>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[t][1].start),end:b},a={type:u>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[t][1].start)},i={type:u>1?"strong":"emphasis",start:Object.assign({},s.start),end:Object.assign({},l.end)},e[r][1].end=Object.assign({},s.start),e[t][1].start=Object.assign({},l.end),f=[],e[r][1].end.offset-e[r][1].start.offset&&(f=Rl(f,[["enter",e[r][1],n],["exit",e[r][1],n]])),f=Rl(f,[["enter",i,n],["enter",s,n],["exit",s,n],["enter",a,n]]),f=Rl(f,jA(n.parser.constructs.insideSpan.null,e.slice(r+1,t),n)),f=Rl(f,[["exit",a,n],["enter",l,n],["exit",l,n],["exit",i,n]]),e[t][1].end.offset-e[t][1].start.offset?(h=2,f=Rl(f,[["enter",e[t][1],n],["exit",e[t][1],n]])):h=0,ad(e,r-1,t-r+3,f),t=r+f.length-h-2;break}}for(t=-1;++t<e.length;)e[t][1].type==="attentionSequence"&&(e[t][1].type="data");return e}function xse(e,n){const t=this.parser.constructs.attentionMarkers.null,r=this.previous,i=eN(r);let a;return s;function s(u){return a=u,e.enter("attentionSequence"),l(u)}function l(u){if(u===a)return e.consume(u),l;const f=e.exit("attentionSequence"),h=eN(u),m=!h||h===2&&i||t.includes(u),b=!i||i===2&&h||t.includes(r);return f._open=!!(a===42?m:m&&(i||!b)),f._close=!!(a===42?b:b&&(h||!m)),n(u)}}function tN(e,n){e.column+=n,e.offset+=n,e._bufferIndex+=n}const vse={name:"autolink",tokenize:wse};function wse(e,n,t){let r=0;return i;function i(g){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(g){return Oc(g)?(e.consume(g),s):f(g)}function s(g){return g===43||g===45||g===46||tl(g)?(r=1,l(g)):f(g)}function l(g){return g===58?(e.consume(g),r=0,u):(g===43||g===45||g===46||tl(g))&&r++<32?(e.consume(g),l):(r=0,f(g))}function u(g){return g===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),n):g===null||g===32||g===60||q6(g)?t(g):(e.consume(g),u)}function f(g){return g===64?(e.consume(g),h):lse(g)?(e.consume(g),f):t(g)}function h(g){return tl(g)?m(g):t(g)}function m(g){return g===46?(e.consume(g),r=0,h):g===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),n):b(g)}function b(g){if((g===45||tl(g))&&r++<63){const v=g===45?b:m;return e.consume(g),v}return t(g)}}const j2={tokenize:Sse,partial:!0};function Sse(e,n,t){return r;function r(a){return Ar(a)?hi(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||Sn(a)?n(a):t(a)}}const BM={name:"blockQuote",tokenize:Cse,continuation:{tokenize:Ase},exit:kse};function Cse(e,n,t){const r=this;return i;function i(s){if(s===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),a}return t(s)}function a(s){return Ar(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),n):(e.exit("blockQuotePrefix"),n(s))}}function Ase(e,n,t){const r=this;return i;function i(s){return Ar(s)?hi(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return e.attempt(BM,n,t)(s)}}function kse(e){e.exit("blockQuote")}const $M={name:"characterEscape",tokenize:Ese};function Ese(e,n,t){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return cse(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),n):t(a)}}const nN=document.createElement("i");function TA(e){const n="&"+e+";";nN.innerHTML=n;const t=nN.textContent;return t.charCodeAt(t.length-1)===59&&e!=="semi"||t===n?!1:t}const UM={name:"characterReference",tokenize:jse};function jse(e,n,t){const r=this;let i=0,a,s;return l;function l(m){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),u}function u(m){return m===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(m),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),a=31,s=tl,h(m))}function f(m){return m===88||m===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(m),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=use,h):(e.enter("characterReferenceValue"),a=7,s=B6,h(m))}function h(m){if(m===59&&i){const b=e.exit("characterReferenceValue");return s===tl&&!TA(r.sliceSerialize(b))?t(m):(e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),e.exit("characterReference"),n)}return s(m)&&i++<a?(e.consume(m),h):t(m)}}const rN={tokenize:Nse,partial:!0},iN={name:"codeFenced",tokenize:Tse,concrete:!0};function Tse(e,n,t){const r=this,i={tokenize:U,partial:!0};let a=0,s=0,l;return u;function u(B){return f(B)}function f(B){const j=r.events[r.events.length-1];return a=j&&j[1].type==="linePrefix"?j[2].sliceSerialize(j[1],!0).length:0,l=B,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(B)}function h(B){return B===l?(s++,e.consume(B),h):s<3?t(B):(e.exit("codeFencedFenceSequence"),Ar(B)?hi(e,m,"whitespace")(B):m(B))}function m(B){return B===null||Sn(B)?(e.exit("codeFencedFence"),r.interrupt?n(B):e.check(rN,x,P)(B)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),b(B))}function b(B){return B===null||Sn(B)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),m(B)):Ar(B)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),hi(e,g,"whitespace")(B)):B===96&&B===l?t(B):(e.consume(B),b)}function g(B){return B===null||Sn(B)?m(B):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),v(B))}function v(B){return B===null||Sn(B)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),m(B)):B===96&&B===l?t(B):(e.consume(B),v)}function x(B){return e.attempt(i,P,C)(B)}function C(B){return e.enter("lineEnding"),e.consume(B),e.exit("lineEnding"),S}function S(B){return a>0&&Ar(B)?hi(e,A,"linePrefix",a+1)(B):A(B)}function A(B){return B===null||Sn(B)?e.check(rN,x,P)(B):(e.enter("codeFlowValue"),N(B))}function N(B){return B===null||Sn(B)?(e.exit("codeFlowValue"),A(B)):(e.consume(B),N)}function P(B){return e.exit("codeFenced"),n(B)}function U(B,j,F){let V=0;return X;function X(Q){return B.enter("lineEnding"),B.consume(Q),B.exit("lineEnding"),T}function T(Q){return B.enter("codeFencedFence"),Ar(Q)?hi(B,D,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Q):D(Q)}function D(Q){return Q===l?(B.enter("codeFencedFenceSequence"),O(Q)):F(Q)}function O(Q){return Q===l?(V++,B.consume(Q),O):V>=s?(B.exit("codeFencedFenceSequence"),Ar(Q)?hi(B,L,"whitespace")(Q):L(Q)):F(Q)}function L(Q){return Q===null||Sn(Q)?(B.exit("codeFencedFence"),j(Q)):F(Q)}}}function Nse(e,n,t){const r=this;return i;function i(s){return s===null?t(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?t(s):n(s)}}const mS={name:"codeIndented",tokenize:_se},Dse={tokenize:Ise,partial:!0};function _se(e,n,t){const r=this;return i;function i(f){return e.enter("codeIndented"),hi(e,a,"linePrefix",5)(f)}function a(f){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?s(f):t(f)}function s(f){return f===null?u(f):Sn(f)?e.attempt(Dse,s,u)(f):(e.enter("codeFlowValue"),l(f))}function l(f){return f===null||Sn(f)?(e.exit("codeFlowValue"),s(f)):(e.consume(f),l)}function u(f){return e.exit("codeIndented"),n(f)}}function Ise(e,n,t){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?t(s):Sn(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):hi(e,a,"linePrefix",5)(s)}function a(s){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?n(s):Sn(s)?i(s):t(s)}}const Ose={name:"codeText",tokenize:Rse,resolve:Mse,previous:Lse};function Mse(e){let n=e.length-4,t=3,r,i;if((e[t][1].type==="lineEnding"||e[t][1].type==="space")&&(e[n][1].type==="lineEnding"||e[n][1].type==="space")){for(r=t;++r<n;)if(e[r][1].type==="codeTextData"){e[t][1].type="codeTextPadding",e[n][1].type="codeTextPadding",t+=2,n-=2;break}}for(r=t-1,n++;++r<=n;)i===void 0?r!==n&&e[r][1].type!=="lineEnding"&&(i=r):(r===n||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),n-=r-i-2,r=i+2),i=void 0);return e}function Lse(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Rse(e,n,t){let r=0,i,a;return s;function s(m){return e.enter("codeText"),e.enter("codeTextSequence"),l(m)}function l(m){return m===96?(e.consume(m),r++,l):(e.exit("codeTextSequence"),u(m))}function u(m){return m===null?t(m):m===32?(e.enter("space"),e.consume(m),e.exit("space"),u):m===96?(a=e.enter("codeTextSequence"),i=0,h(m)):Sn(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),u):(e.enter("codeTextData"),f(m))}function f(m){return m===null||m===32||m===96||Sn(m)?(e.exit("codeTextData"),u(m)):(e.consume(m),f)}function h(m){return m===96?(e.consume(m),i++,h):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),n(m)):(a.type="codeTextData",f(m))}}function HM(e){const n={};let t=-1,r,i,a,s,l,u,f;for(;++t<e.length;){for(;t in n;)t=n[t];if(r=e[t],t&&r[1].type==="chunkFlow"&&e[t-1][1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,a=0,a<u.length&&u[a][1].type==="lineEndingBlank"&&(a+=2),a<u.length&&u[a][1].type==="content"))for(;++a<u.length&&u[a][1].type!=="content";)u[a][1].type==="chunkText"&&(u[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(n,Pse(e,t)),t=n[t],f=!0);else if(r[1]._container){for(a=t,i=void 0;a--&&(s=e[a],s[1].type==="lineEnding"||s[1].type==="lineEndingBlank");)s[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);i&&(r[1].end=Object.assign({},e[i][1].start),l=e.slice(i,t),l.unshift(r),ad(e,i,t-i+1,l))}}return!f}function Pse(e,n){const t=e[n][1],r=e[n][2];let i=n-1;const a=[],s=t._tokenizer||r.parser[t.contentType](t.start),l=s.events,u=[],f={};let h,m,b=-1,g=t,v=0,x=0;const C=[x];for(;g;){for(;e[++i][1]!==g;);a.push(i),g._tokenizer||(h=r.sliceStream(g),g.next||h.push(null),m&&s.defineSkip(g.start),g._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(h),g._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),m=g,g=g.next}for(g=t;++b<l.length;)l[b][0]==="exit"&&l[b-1][0]==="enter"&&l[b][1].type===l[b-1][1].type&&l[b][1].start.line!==l[b][1].end.line&&(x=b+1,C.push(x),g._tokenizer=void 0,g.previous=void 0,g=g.next);for(s.events=[],g?(g._tokenizer=void 0,g.previous=void 0):C.pop(),b=C.length;b--;){const S=l.slice(C[b],C[b+1]),A=a.pop();u.unshift([A,A+S.length-1]),ad(e,A,2,S)}for(b=-1;++b<u.length;)f[v+u[b][0]]=v+u[b][1],v+=u[b][1]-u[b][0]-1;return f}const Fse={tokenize:Bse,resolve:qse},zse={tokenize:$se,partial:!0};function qse(e){return HM(e),e}function Bse(e,n){let t;return r;function r(l){return e.enter("content"),t=e.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?a(l):Sn(l)?e.check(zse,s,a)(l):(e.consume(l),i)}function a(l){return e.exit("chunkContent"),e.exit("content"),n(l)}function s(l){return e.consume(l),e.exit("chunkContent"),t.next=e.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,i}}function $se(e,n,t){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),hi(e,a,"linePrefix")}function a(s){if(s===null||Sn(s))return t(s);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?n(s):e.interrupt(r.parser.constructs.flow,t,n)(s)}}function VM(e,n,t,r,i,a,s,l,u){const f=u||Number.POSITIVE_INFINITY;let h=0;return m;function m(S){return S===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(S),e.exit(a),b):S===null||S===32||S===41||q6(S)?t(S):(e.enter(r),e.enter(s),e.enter(l),e.enter("chunkString",{contentType:"string"}),x(S))}function b(S){return S===62?(e.enter(a),e.consume(S),e.exit(a),e.exit(i),e.exit(r),n):(e.enter(l),e.enter("chunkString",{contentType:"string"}),g(S))}function g(S){return S===62?(e.exit("chunkString"),e.exit(l),b(S)):S===null||S===60||Sn(S)?t(S):(e.consume(S),S===92?v:g)}function v(S){return S===60||S===62||S===92?(e.consume(S),g):g(S)}function x(S){return!h&&(S===null||S===41||ko(S))?(e.exit("chunkString"),e.exit(l),e.exit(s),e.exit(r),n(S)):h<f&&S===40?(e.consume(S),h++,x):S===41?(e.consume(S),h--,x):S===null||S===32||S===40||q6(S)?t(S):(e.consume(S),S===92?C:x)}function C(S){return S===40||S===41||S===92?(e.consume(S),x):x(S)}}function WM(e,n,t,r,i,a){const s=this;let l=0,u;return f;function f(g){return e.enter(r),e.enter(i),e.consume(g),e.exit(i),e.enter(a),h}function h(g){return l>999||g===null||g===91||g===93&&!u||g===94&&!l&&"_hiddenFootnoteSupport"in s.parser.constructs?t(g):g===93?(e.exit(a),e.enter(i),e.consume(g),e.exit(i),e.exit(r),n):Sn(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),m(g))}function m(g){return g===null||g===91||g===93||Sn(g)||l++>999?(e.exit("chunkString"),h(g)):(e.consume(g),u||(u=!Ar(g)),g===92?b:m)}function b(g){return g===91||g===92||g===93?(e.consume(g),l++,m):m(g)}}function YM(e,n,t,r,i,a){let s;return l;function l(b){return b===34||b===39||b===40?(e.enter(r),e.enter(i),e.consume(b),e.exit(i),s=b===40?41:b,u):t(b)}function u(b){return b===s?(e.enter(i),e.consume(b),e.exit(i),e.exit(r),n):(e.enter(a),f(b))}function f(b){return b===s?(e.exit(a),u(s)):b===null?t(b):Sn(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),hi(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(b))}function h(b){return b===s||b===null||Sn(b)?(e.exit("chunkString"),f(b)):(e.consume(b),b===92?m:h)}function m(b){return b===s||b===92?(e.consume(b),h):h(b)}}function L1(e,n){let t;return r;function r(i){return Sn(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t=!0,r):Ar(i)?hi(e,r,t?"linePrefix":"lineSuffix")(i):n(i)}}function lm(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Use={name:"definition",tokenize:Vse},Hse={tokenize:Wse,partial:!0};function Vse(e,n,t){const r=this;let i;return a;function a(g){return e.enter("definition"),s(g)}function s(g){return WM.call(r,e,l,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(g)}function l(g){return i=lm(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),u):t(g)}function u(g){return ko(g)?L1(e,f)(g):f(g)}function f(g){return VM(e,h,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(g)}function h(g){return e.attempt(Hse,m,m)(g)}function m(g){return Ar(g)?hi(e,b,"whitespace")(g):b(g)}function b(g){return g===null||Sn(g)?(e.exit("definition"),r.parser.defined.push(i),n(g)):t(g)}}function Wse(e,n,t){return r;function r(l){return ko(l)?L1(e,i)(l):t(l)}function i(l){return YM(e,a,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function a(l){return Ar(l)?hi(e,s,"whitespace")(l):s(l)}function s(l){return l===null||Sn(l)?n(l):t(l)}}const Yse={name:"hardBreakEscape",tokenize:Gse};function Gse(e,n,t){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return Sn(a)?(e.exit("hardBreakEscape"),n(a)):t(a)}}const Qse={name:"headingAtx",tokenize:Xse,resolve:Kse};function Kse(e,n){let t=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),t-2>r&&e[t][1].type==="whitespace"&&(t-=2),e[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&e[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[t][1].end},a={type:"chunkText",start:e[r][1].start,end:e[t][1].end,contentType:"text"},ad(e,r,t-r+1,[["enter",i,n],["enter",a,n],["exit",a,n],["exit",i,n]])),e}function Xse(e,n,t){let r=0;return i;function i(h){return e.enter("atxHeading"),a(h)}function a(h){return e.enter("atxHeadingSequence"),s(h)}function s(h){return h===35&&r++<6?(e.consume(h),s):h===null||ko(h)?(e.exit("atxHeadingSequence"),l(h)):t(h)}function l(h){return h===35?(e.enter("atxHeadingSequence"),u(h)):h===null||Sn(h)?(e.exit("atxHeading"),n(h)):Ar(h)?hi(e,l,"whitespace")(h):(e.enter("atxHeadingText"),f(h))}function u(h){return h===35?(e.consume(h),u):(e.exit("atxHeadingSequence"),l(h))}function f(h){return h===null||h===35||ko(h)?(e.exit("atxHeadingText"),l(h)):(e.consume(h),f)}}const Zse=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],aN=["pre","script","style","textarea"],Jse={name:"htmlFlow",tokenize:roe,resolveTo:noe,concrete:!0},eoe={tokenize:aoe,partial:!0},toe={tokenize:ioe,partial:!0};function noe(e){let n=e.length;for(;n--&&!(e[n][0]==="enter"&&e[n][1].type==="htmlFlow"););return n>1&&e[n-2][1].type==="linePrefix"&&(e[n][1].start=e[n-2][1].start,e[n+1][1].start=e[n-2][1].start,e.splice(n-2,2)),e}function roe(e,n,t){const r=this;let i,a,s,l,u;return f;function f(z){return h(z)}function h(z){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(z),m}function m(z){return z===33?(e.consume(z),b):z===47?(e.consume(z),a=!0,x):z===63?(e.consume(z),i=3,r.interrupt?n:H):Oc(z)?(e.consume(z),s=String.fromCharCode(z),C):t(z)}function b(z){return z===45?(e.consume(z),i=2,g):z===91?(e.consume(z),i=5,l=0,v):Oc(z)?(e.consume(z),i=4,r.interrupt?n:H):t(z)}function g(z){return z===45?(e.consume(z),r.interrupt?n:H):t(z)}function v(z){const ne="CDATA[";return z===ne.charCodeAt(l++)?(e.consume(z),l===ne.length?r.interrupt?n:D:v):t(z)}function x(z){return Oc(z)?(e.consume(z),s=String.fromCharCode(z),C):t(z)}function C(z){if(z===null||z===47||z===62||ko(z)){const ne=z===47,oe=s.toLowerCase();return!ne&&!a&&aN.includes(oe)?(i=1,r.interrupt?n(z):D(z)):Zse.includes(s.toLowerCase())?(i=6,ne?(e.consume(z),S):r.interrupt?n(z):D(z)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?t(z):a?A(z):N(z))}return z===45||tl(z)?(e.consume(z),s+=String.fromCharCode(z),C):t(z)}function S(z){return z===62?(e.consume(z),r.interrupt?n:D):t(z)}function A(z){return Ar(z)?(e.consume(z),A):X(z)}function N(z){return z===47?(e.consume(z),X):z===58||z===95||Oc(z)?(e.consume(z),P):Ar(z)?(e.consume(z),N):X(z)}function P(z){return z===45||z===46||z===58||z===95||tl(z)?(e.consume(z),P):U(z)}function U(z){return z===61?(e.consume(z),B):Ar(z)?(e.consume(z),U):N(z)}function B(z){return z===null||z===60||z===61||z===62||z===96?t(z):z===34||z===39?(e.consume(z),u=z,j):Ar(z)?(e.consume(z),B):F(z)}function j(z){return z===u?(e.consume(z),u=null,V):z===null||Sn(z)?t(z):(e.consume(z),j)}function F(z){return z===null||z===34||z===39||z===47||z===60||z===61||z===62||z===96||ko(z)?U(z):(e.consume(z),F)}function V(z){return z===47||z===62||Ar(z)?N(z):t(z)}function X(z){return z===62?(e.consume(z),T):t(z)}function T(z){return z===null||Sn(z)?D(z):Ar(z)?(e.consume(z),T):t(z)}function D(z){return z===45&&i===2?(e.consume(z),$):z===60&&i===1?(e.consume(z),Y):z===62&&i===4?(e.consume(z),me):z===63&&i===3?(e.consume(z),H):z===93&&i===5?(e.consume(z),re):Sn(z)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(eoe,q,O)(z)):z===null||Sn(z)?(e.exit("htmlFlowData"),O(z)):(e.consume(z),D)}function O(z){return e.check(toe,L,q)(z)}function L(z){return e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),Q}function Q(z){return z===null||Sn(z)?O(z):(e.enter("htmlFlowData"),D(z))}function $(z){return z===45?(e.consume(z),H):D(z)}function Y(z){return z===47?(e.consume(z),s="",Z):D(z)}function Z(z){if(z===62){const ne=s.toLowerCase();return aN.includes(ne)?(e.consume(z),me):D(z)}return Oc(z)&&s.length<8?(e.consume(z),s+=String.fromCharCode(z),Z):D(z)}function re(z){return z===93?(e.consume(z),H):D(z)}function H(z){return z===62?(e.consume(z),me):z===45&&i===2?(e.consume(z),H):D(z)}function me(z){return z===null||Sn(z)?(e.exit("htmlFlowData"),q(z)):(e.consume(z),me)}function q(z){return e.exit("htmlFlow"),n(z)}}function ioe(e,n,t){const r=this;return i;function i(s){return Sn(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):t(s)}function a(s){return r.parser.lazy[r.now().line]?t(s):n(s)}}function aoe(e,n,t){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(j2,n,t)}}const soe={name:"htmlText",tokenize:ooe};function ooe(e,n,t){const r=this;let i,a,s;return l;function l(H){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(H),u}function u(H){return H===33?(e.consume(H),f):H===47?(e.consume(H),U):H===63?(e.consume(H),N):Oc(H)?(e.consume(H),F):t(H)}function f(H){return H===45?(e.consume(H),h):H===91?(e.consume(H),a=0,v):Oc(H)?(e.consume(H),A):t(H)}function h(H){return H===45?(e.consume(H),g):t(H)}function m(H){return H===null?t(H):H===45?(e.consume(H),b):Sn(H)?(s=m,Y(H)):(e.consume(H),m)}function b(H){return H===45?(e.consume(H),g):m(H)}function g(H){return H===62?$(H):H===45?b(H):m(H)}function v(H){const me="CDATA[";return H===me.charCodeAt(a++)?(e.consume(H),a===me.length?x:v):t(H)}function x(H){return H===null?t(H):H===93?(e.consume(H),C):Sn(H)?(s=x,Y(H)):(e.consume(H),x)}function C(H){return H===93?(e.consume(H),S):x(H)}function S(H){return H===62?$(H):H===93?(e.consume(H),S):x(H)}function A(H){return H===null||H===62?$(H):Sn(H)?(s=A,Y(H)):(e.consume(H),A)}function N(H){return H===null?t(H):H===63?(e.consume(H),P):Sn(H)?(s=N,Y(H)):(e.consume(H),N)}function P(H){return H===62?$(H):N(H)}function U(H){return Oc(H)?(e.consume(H),B):t(H)}function B(H){return H===45||tl(H)?(e.consume(H),B):j(H)}function j(H){return Sn(H)?(s=j,Y(H)):Ar(H)?(e.consume(H),j):$(H)}function F(H){return H===45||tl(H)?(e.consume(H),F):H===47||H===62||ko(H)?V(H):t(H)}function V(H){return H===47?(e.consume(H),$):H===58||H===95||Oc(H)?(e.consume(H),X):Sn(H)?(s=V,Y(H)):Ar(H)?(e.consume(H),V):$(H)}function X(H){return H===45||H===46||H===58||H===95||tl(H)?(e.consume(H),X):T(H)}function T(H){return H===61?(e.consume(H),D):Sn(H)?(s=T,Y(H)):Ar(H)?(e.consume(H),T):V(H)}function D(H){return H===null||H===60||H===61||H===62||H===96?t(H):H===34||H===39?(e.consume(H),i=H,O):Sn(H)?(s=D,Y(H)):Ar(H)?(e.consume(H),D):(e.consume(H),L)}function O(H){return H===i?(e.consume(H),i=void 0,Q):H===null?t(H):Sn(H)?(s=O,Y(H)):(e.consume(H),O)}function L(H){return H===null||H===34||H===39||H===60||H===61||H===96?t(H):H===47||H===62||ko(H)?V(H):(e.consume(H),L)}function Q(H){return H===47||H===62||ko(H)?V(H):t(H)}function $(H){return H===62?(e.consume(H),e.exit("htmlTextData"),e.exit("htmlText"),n):t(H)}function Y(H){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(H),e.exit("lineEnding"),Z}function Z(H){return Ar(H)?hi(e,re,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(H):re(H)}function re(H){return e.enter("htmlTextData"),s(H)}}const NA={name:"labelEnd",tokenize:hoe,resolveTo:foe,resolveAll:doe},loe={tokenize:poe},uoe={tokenize:moe},coe={tokenize:goe};function doe(e){let n=-1;for(;++n<e.length;){const t=e[n][1];(t.type==="labelImage"||t.type==="labelLink"||t.type==="labelEnd")&&(e.splice(n+1,t.type==="labelImage"?4:2),t.type="data",n++)}return e}function foe(e,n){let t=e.length,r=0,i,a,s,l;for(;t--;)if(i=e[t][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[t][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[t][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=t,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=t);const u={type:e[a][1].type==="labelLink"?"link":"image",start:Object.assign({},e[a][1].start),end:Object.assign({},e[e.length-1][1].end)},f={type:"label",start:Object.assign({},e[a][1].start),end:Object.assign({},e[s][1].end)},h={type:"labelText",start:Object.assign({},e[a+r+2][1].end),end:Object.assign({},e[s-2][1].start)};return l=[["enter",u,n],["enter",f,n]],l=Rl(l,e.slice(a+1,a+r+3)),l=Rl(l,[["enter",h,n]]),l=Rl(l,jA(n.parser.constructs.insideSpan.null,e.slice(a+r+4,s-3),n)),l=Rl(l,[["exit",h,n],e[s-2],e[s-1],["exit",f,n]]),l=Rl(l,e.slice(s+1)),l=Rl(l,[["exit",u,n]]),ad(e,a,e.length,l),e}function hoe(e,n,t){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return l;function l(b){return a?a._inactive?m(b):(s=r.parser.defined.includes(lm(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(b),e.exit("labelMarker"),e.exit("labelEnd"),u):t(b)}function u(b){return b===40?e.attempt(loe,h,s?h:m)(b):b===91?e.attempt(uoe,h,s?f:m)(b):s?h(b):m(b)}function f(b){return e.attempt(coe,h,m)(b)}function h(b){return n(b)}function m(b){return a._balanced=!0,t(b)}}function poe(e,n,t){return r;function r(m){return e.enter("resource"),e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),i}function i(m){return ko(m)?L1(e,a)(m):a(m)}function a(m){return m===41?h(m):VM(e,s,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function s(m){return ko(m)?L1(e,u)(m):h(m)}function l(m){return t(m)}function u(m){return m===34||m===39||m===40?YM(e,f,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):h(m)}function f(m){return ko(m)?L1(e,h)(m):h(m)}function h(m){return m===41?(e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),e.exit("resource"),n):t(m)}}function moe(e,n,t){const r=this;return i;function i(l){return WM.call(r,e,a,s,"reference","referenceMarker","referenceString")(l)}function a(l){return r.parser.defined.includes(lm(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?n(l):t(l)}function s(l){return t(l)}}function goe(e,n,t){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),n):t(a)}}const boe={name:"labelStartImage",tokenize:yoe,resolveAll:NA.resolveAll};function yoe(e,n,t){const r=this;return i;function i(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),a}function a(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),s):t(l)}function s(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(l):n(l)}}const xoe={name:"labelStartLink",tokenize:voe,resolveAll:NA.resolveAll};function voe(e,n,t){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(s):n(s)}}const gS={name:"lineEnding",tokenize:woe};function woe(e,n){return t;function t(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),hi(e,n,"linePrefix")}}const Ux={name:"thematicBreak",tokenize:Soe};function Soe(e,n,t){let r=0,i;return a;function a(f){return e.enter("thematicBreak"),s(f)}function s(f){return i=f,l(f)}function l(f){return f===i?(e.enter("thematicBreakSequence"),u(f)):r>=3&&(f===null||Sn(f))?(e.exit("thematicBreak"),n(f)):t(f)}function u(f){return f===i?(e.consume(f),r++,u):(e.exit("thematicBreakSequence"),Ar(f)?hi(e,l,"whitespace")(f):l(f))}}const Co={name:"list",tokenize:koe,continuation:{tokenize:Eoe},exit:Toe},Coe={tokenize:Noe,partial:!0},Aoe={tokenize:joe,partial:!0};function koe(e,n,t){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return l;function l(g){const v=r.containerState.type||(g===42||g===43||g===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||g===r.containerState.marker:B6(g)){if(r.containerState.type||(r.containerState.type=v,e.enter(v,{_container:!0})),v==="listUnordered")return e.enter("listItemPrefix"),g===42||g===45?e.check(Ux,t,f)(g):f(g);if(!r.interrupt||g===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(g)}return t(g)}function u(g){return B6(g)&&++s<10?(e.consume(g),u):(!r.interrupt||s<2)&&(r.containerState.marker?g===r.containerState.marker:g===41||g===46)?(e.exit("listItemValue"),f(g)):t(g)}function f(g){return e.enter("listItemMarker"),e.consume(g),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||g,e.check(j2,r.interrupt?t:h,e.attempt(Coe,b,m))}function h(g){return r.containerState.initialBlankLine=!0,a++,b(g)}function m(g){return Ar(g)?(e.enter("listItemPrefixWhitespace"),e.consume(g),e.exit("listItemPrefixWhitespace"),b):t(g)}function b(g){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,n(g)}}function Eoe(e,n,t){const r=this;return r.containerState._closeFlow=void 0,e.check(j2,i,a);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,hi(e,n,"listItemIndent",r.containerState.size+1)(l)}function a(l){return r.containerState.furtherBlankLines||!Ar(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Aoe,n,s)(l))}function s(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,hi(e,e.attempt(Co,n,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function joe(e,n,t){const r=this;return hi(e,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?n(a):t(a)}}function Toe(e){e.exit(this.containerState.type)}function Noe(e,n,t){const r=this;return hi(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!Ar(a)&&s&&s[1].type==="listItemPrefixWhitespace"?n(a):t(a)}}const sN={name:"setextUnderline",tokenize:_oe,resolveTo:Doe};function Doe(e,n){let t=e.length,r,i,a;for(;t--;)if(e[t][0]==="enter"){if(e[t][1].type==="content"){r=t;break}e[t][1].type==="paragraph"&&(i=t)}else e[t][1].type==="content"&&e.splice(t,1),!a&&e[t][1].type==="definition"&&(a=t);const s={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",s,n]),e.splice(a+1,0,["exit",e[r][1],n]),e[r][1].end=Object.assign({},e[a][1].end)):e[r][1]=s,e.push(["exit",s,n]),e}function _oe(e,n,t){const r=this;let i;return a;function a(f){let h=r.events.length,m;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){m=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||m)?(e.enter("setextHeadingLine"),i=f,s(f)):t(f)}function s(f){return e.enter("setextHeadingLineSequence"),l(f)}function l(f){return f===i?(e.consume(f),l):(e.exit("setextHeadingLineSequence"),Ar(f)?hi(e,u,"lineSuffix")(f):u(f))}function u(f){return f===null||Sn(f)?(e.exit("setextHeadingLine"),n(f)):t(f)}}const Ioe={tokenize:Ooe};function Ooe(e){const n=this,t=e.attempt(j2,r,e.attempt(this.parser.constructs.flowInitial,i,hi(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Fse,i)),"linePrefix")));return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),n.currentConstruct=void 0,t}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n.currentConstruct=void 0,t}}const Moe={resolveAll:QM()},Loe=GM("string"),Roe=GM("text");function GM(e){return{tokenize:n,resolveAll:QM(e==="text"?Poe:void 0)};function n(t){const r=this,i=this.parser.constructs[e],a=t.attempt(i,s,l);return s;function s(h){return f(h)?a(h):l(h)}function l(h){if(h===null){t.consume(h);return}return t.enter("data"),t.consume(h),u}function u(h){return f(h)?(t.exit("data"),a(h)):(t.consume(h),u)}function f(h){if(h===null)return!0;const m=i[h];let b=-1;if(m)for(;++b<m.length;){const g=m[b];if(!g.previous||g.previous.call(r,r.previous))return!0}return!1}}}function QM(e){return n;function n(t,r){let i=-1,a;for(;++i<=t.length;)a===void 0?t[i]&&t[i][1].type==="data"&&(a=i,i++):(!t[i]||t[i][1].type!=="data")&&(i!==a+2&&(t[a][1].end=t[i-1][1].end,t.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(t,r):t}}function Poe(e,n){let t=0;for(;++t<=e.length;)if((t===e.length||e[t][1].type==="lineEnding")&&e[t-1][1].type==="data"){const r=e[t-1][1],i=n.sliceStream(r);let a=i.length,s=-1,l=0,u;for(;a--;){const f=i[a];if(typeof f=="string"){for(s=f.length;f.charCodeAt(s-1)===32;)l++,s--;if(s)break;s=-1}else if(f===-2)u=!0,l++;else if(f!==-1){a++;break}}if(l){const f={type:t===e.length||u||l<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-l,offset:r.end.offset-l,_index:r.start._index+a,_bufferIndex:a?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},f.start),r.start.offset===r.end.offset?Object.assign(r,f):(e.splice(t,0,["enter",f,n],["exit",f,n]),t+=2)}t++}return e}function Foe(e,n,t){let r=Object.assign(t?Object.assign({},t):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},a=[];let s=[],l=[];const u={consume:A,enter:N,exit:P,attempt:j(U),check:j(B),interrupt:j(B,{interrupt:!0})},f={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:g,sliceSerialize:b,now:v,defineSkip:x,write:m};let h=n.tokenize.call(f,u);return n.resolveAll&&a.push(n),f;function m(T){return s=Rl(s,T),C(),s[s.length-1]!==null?[]:(F(n,0),f.events=jA(a,f.events,f),f.events)}function b(T,D){return qoe(g(T),D)}function g(T){return zoe(s,T)}function v(){const{line:T,column:D,offset:O,_index:L,_bufferIndex:Q}=r;return{line:T,column:D,offset:O,_index:L,_bufferIndex:Q}}function x(T){i[T.line]=T.column,X()}function C(){let T;for(;r._index<s.length;){const D=s[r._index];if(typeof D=="string")for(T=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===T&&r._bufferIndex<D.length;)S(D.charCodeAt(r._bufferIndex));else S(D)}}function S(T){h=h(T)}function A(T){Sn(T)?(r.line++,r.column=1,r.offset+=T===-3?2:1,X()):T!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=T}function N(T,D){const O=D||{};return O.type=T,O.start=v(),f.events.push(["enter",O,f]),l.push(O),O}function P(T){const D=l.pop();return D.end=v(),f.events.push(["exit",D,f]),D}function U(T,D){F(T,D.from)}function B(T,D){D.restore()}function j(T,D){return O;function O(L,Q,$){let Y,Z,re,H;return Array.isArray(L)?q(L):"tokenize"in L?q([L]):me(L);function me(ee){return ge;function ge(de){const ye=de!==null&&ee[de],we=de!==null&&ee.null,ve=[...Array.isArray(ye)?ye:ye?[ye]:[],...Array.isArray(we)?we:we?[we]:[]];return q(ve)(de)}}function q(ee){return Y=ee,Z=0,ee.length===0?$:z(ee[Z])}function z(ee){return ge;function ge(de){return H=V(),re=ee,ee.partial||(f.currentConstruct=ee),ee.name&&f.parser.constructs.disable.null.includes(ee.name)?oe():ee.tokenize.call(D?Object.assign(Object.create(f),D):f,u,ne,oe)(de)}}function ne(ee){return T(re,H),Q}function oe(ee){return H.restore(),++Z<Y.length?z(Y[Z]):$}}}function F(T,D){T.resolveAll&&!a.includes(T)&&a.push(T),T.resolve&&ad(f.events,D,f.events.length-D,T.resolve(f.events.slice(D),f)),T.resolveTo&&(f.events=T.resolveTo(f.events,f))}function V(){const T=v(),D=f.previous,O=f.currentConstruct,L=f.events.length,Q=Array.from(l);return{restore:$,from:L};function $(){r=T,f.previous=D,f.currentConstruct=O,f.events.length=L,l=Q,X()}}function X(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function zoe(e,n){const t=n.start._index,r=n.start._bufferIndex,i=n.end._index,a=n.end._bufferIndex;let s;if(t===i)s=[e[t].slice(r,a)];else{if(s=e.slice(t,i),r>-1){const l=s[0];typeof l=="string"?s[0]=l.slice(r):s.shift()}a>0&&s.push(e[i].slice(0,a))}return s}function qoe(e,n){let t=-1;const r=[];let i;for(;++t<e.length;){const a=e[t];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=n?" ":"	";break}case-1:{if(!n&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}const Boe={42:Co,43:Co,45:Co,48:Co,49:Co,50:Co,51:Co,52:Co,53:Co,54:Co,55:Co,56:Co,57:Co,62:BM},$oe={91:Use},Uoe={[-2]:mS,[-1]:mS,32:mS},Hoe={35:Qse,42:Ux,45:[sN,Ux],60:Jse,61:sN,95:Ux,96:iN,126:iN},Voe={38:UM,92:$M},Woe={[-5]:gS,[-4]:gS,[-3]:gS,33:boe,38:UM,42:$6,60:[vse,soe],91:xoe,92:[Yse,$M],93:NA,95:$6,96:Ose},Yoe={null:[$6,Moe]},Goe={null:[42,95]},Qoe={null:[]},Koe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Goe,contentInitial:$oe,disable:Qoe,document:Boe,flow:Hoe,flowInitial:Uoe,insideSpan:Yoe,string:Voe,text:Woe},Symbol.toStringTag,{value:"Module"}));function Xoe(e){const t=ise([Koe,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:t,content:i(hse),document:i(mse),flow:i(Ioe),string:i(Loe),text:i(Roe)};return r;function i(a){return s;function s(l){return Foe(r,a,l)}}}const oN=/[\0\t\n\r]/g;function Zoe(){let e=1,n="",t=!0,r;return i;function i(a,s,l){const u=[];let f,h,m,b,g;for(a=n+a.toString(s),m=0,n="",t&&(a.charCodeAt(0)===65279&&m++,t=void 0);m<a.length;){if(oN.lastIndex=m,f=oN.exec(a),b=f&&f.index!==void 0?f.index:a.length,g=a.charCodeAt(b),!f){n=a.slice(m);break}if(g===10&&m===b&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),m<b&&(u.push(a.slice(m,b)),e+=b-m),g){case 0:{u.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,u.push(-2);e++<h;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}m=b+1}return l&&(r&&u.push(-5),n&&u.push(n),u.push(null)),u}}function Joe(e){for(;!HM(e););return e}function KM(e,n){const t=Number.parseInt(e,n);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"":String.fromCharCode(t)}const ele=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function tle(e){return e.replace(ele,nle)}function nle(e,n,t){if(n)return n;if(t.charCodeAt(0)===35){const i=t.charCodeAt(1),a=i===120||i===88;return KM(t.slice(a?2:1),a?16:10)}return TA(t)||e}const XM={}.hasOwnProperty,rle=function(e,n,t){return typeof n!="string"&&(t=n,n=void 0),ile(t)(Joe(Xoe(t).document().write(Zoe()(e,n,!0))))};function ile(e){const n={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Ze),autolinkProtocol:T,autolinkEmail:T,atxHeading:l(pe),blockQuote:l(ve),characterEscape:T,characterReference:T,codeFenced:l(je),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:l(je,u),codeText:l(Ee,u),codeTextData:T,data:T,codeFlowValue:T,definition:l(Ue),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:l(Oe),hardBreakEscape:l(tt),hardBreakTrailing:l(tt),htmlFlow:l(dt,u),htmlFlowData:T,htmlText:l(dt,u),htmlTextData:T,image:l(lt),label:u,link:l(Ze),listItem:l(wt),listItemValue:v,listOrdered:l(ut,g),listUnordered:l(ut),paragraph:l(Et),reference:oe,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:l(pe),strong:l(Ot),thematicBreak:l(Qe)},exit:{atxHeading:h(),atxHeadingSequence:j,autolink:h(),autolinkEmail:we,autolinkProtocol:ye,blockQuote:h(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:ge,characterReferenceMarkerNumeric:ge,characterReferenceValue:de,codeFenced:h(A),codeFencedFence:S,codeFencedFenceInfo:x,codeFencedFenceMeta:C,codeFlowValue:D,codeIndented:h(N),codeText:h(Y),codeTextData:D,data:D,definition:h(),definitionDestinationString:B,definitionLabelString:P,definitionTitleString:U,emphasis:h(),hardBreakEscape:h(L),hardBreakTrailing:h(L),htmlFlow:h(Q),htmlFlowData:D,htmlText:h($),htmlTextData:D,image:h(re),label:me,labelText:H,lineEnding:O,link:h(Z),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:ee,resourceDestinationString:q,resourceTitleString:z,resource:ne,setextHeading:h(X),setextHeadingLineSequence:V,setextHeadingText:F,strong:h(),thematicBreak:h()}};ZM(n,(e||{}).mdastExtensions||[]);const t={};return r;function r(Se){let De={type:"root",children:[]};const ke={stack:[De],tokenStack:[],config:n,enter:f,exit:m,buffer:u,resume:b,setData:a,getData:s},Ke=[];let He=-1;for(;++He<Se.length;)if(Se[He][1].type==="listOrdered"||Se[He][1].type==="listUnordered")if(Se[He][0]==="enter")Ke.push(He);else{const Nt=Ke.pop();He=i(Se,Nt,He)}for(He=-1;++He<Se.length;){const Nt=n[Se[He][0]];XM.call(Nt,Se[He][1].type)&&Nt[Se[He][1].type].call(Object.assign({sliceSerialize:Se[He][2].sliceSerialize},ke),Se[He][1])}if(ke.tokenStack.length>0){const Nt=ke.tokenStack[ke.tokenStack.length-1];(Nt[1]||lN).call(ke,void 0,Nt[0])}for(De.position={start:Hf(Se.length>0?Se[0][1].start:{line:1,column:1,offset:0}),end:Hf(Se.length>0?Se[Se.length-2][1].end:{line:1,column:1,offset:0})},He=-1;++He<n.transforms.length;)De=n.transforms[He](De)||De;return De}function i(Se,De,ke){let Ke=De-1,He=-1,Nt=!1,It,Ft,jt,nn;for(;++Ke<=ke;){const Tt=Se[Ke];if(Tt[1].type==="listUnordered"||Tt[1].type==="listOrdered"||Tt[1].type==="blockQuote"?(Tt[0]==="enter"?He++:He--,nn=void 0):Tt[1].type==="lineEndingBlank"?Tt[0]==="enter"&&(It&&!nn&&!He&&!jt&&(jt=Ke),nn=void 0):Tt[1].type==="linePrefix"||Tt[1].type==="listItemValue"||Tt[1].type==="listItemMarker"||Tt[1].type==="listItemPrefix"||Tt[1].type==="listItemPrefixWhitespace"||(nn=void 0),!He&&Tt[0]==="enter"&&Tt[1].type==="listItemPrefix"||He===-1&&Tt[0]==="exit"&&(Tt[1].type==="listUnordered"||Tt[1].type==="listOrdered")){if(It){let Ht=Ke;for(Ft=void 0;Ht--;){const un=Se[Ht];if(un[1].type==="lineEnding"||un[1].type==="lineEndingBlank"){if(un[0]==="exit")continue;Ft&&(Se[Ft][1].type="lineEndingBlank",Nt=!0),un[1].type="lineEnding",Ft=Ht}else if(!(un[1].type==="linePrefix"||un[1].type==="blockQuotePrefix"||un[1].type==="blockQuotePrefixWhitespace"||un[1].type==="blockQuoteMarker"||un[1].type==="listItemIndent"))break}jt&&(!Ft||jt<Ft)&&(It._spread=!0),It.end=Object.assign({},Ft?Se[Ft][1].start:Tt[1].end),Se.splice(Ft||Ke,0,["exit",It,Tt[2]]),Ke++,ke++}Tt[1].type==="listItemPrefix"&&(It={type:"listItem",_spread:!1,start:Object.assign({},Tt[1].start),end:void 0},Se.splice(Ke,0,["enter",It,Tt[2]]),Ke++,ke++,jt=void 0,nn=!0)}}return Se[De][1]._spread=Nt,ke}function a(Se,De){t[Se]=De}function s(Se){return t[Se]}function l(Se,De){return ke;function ke(Ke){f.call(this,Se(Ke),Ke),De&&De.call(this,Ke)}}function u(){this.stack.push({type:"fragment",children:[]})}function f(Se,De,ke){return this.stack[this.stack.length-1].children.push(Se),this.stack.push(Se),this.tokenStack.push([De,ke]),Se.position={start:Hf(De.start)},Se}function h(Se){return De;function De(ke){Se&&Se.call(this,ke),m.call(this,ke)}}function m(Se,De){const ke=this.stack.pop(),Ke=this.tokenStack.pop();if(Ke)Ke[0].type!==Se.type&&(De?De.call(this,Se,Ke[0]):(Ke[1]||lN).call(this,Se,Ke[0]));else throw new Error("Cannot close `"+Se.type+"` ("+M1({start:Se.start,end:Se.end})+"): its not open");return ke.position.end=Hf(Se.end),ke}function b(){return nse(this.stack.pop())}function g(){a("expectingFirstListItemValue",!0)}function v(Se){if(s("expectingFirstListItemValue")){const De=this.stack[this.stack.length-2];De.start=Number.parseInt(this.sliceSerialize(Se),10),a("expectingFirstListItemValue")}}function x(){const Se=this.resume(),De=this.stack[this.stack.length-1];De.lang=Se}function C(){const Se=this.resume(),De=this.stack[this.stack.length-1];De.meta=Se}function S(){s("flowCodeInside")||(this.buffer(),a("flowCodeInside",!0))}function A(){const Se=this.resume(),De=this.stack[this.stack.length-1];De.value=Se.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),a("flowCodeInside")}function N(){const Se=this.resume(),De=this.stack[this.stack.length-1];De.value=Se.replace(/(\r?\n|\r)$/g,"")}function P(Se){const De=this.resume(),ke=this.stack[this.stack.length-1];ke.label=De,ke.identifier=lm(this.sliceSerialize(Se)).toLowerCase()}function U(){const Se=this.resume(),De=this.stack[this.stack.length-1];De.title=Se}function B(){const Se=this.resume(),De=this.stack[this.stack.length-1];De.url=Se}function j(Se){const De=this.stack[this.stack.length-1];if(!De.depth){const ke=this.sliceSerialize(Se).length;De.depth=ke}}function F(){a("setextHeadingSlurpLineEnding",!0)}function V(Se){const De=this.stack[this.stack.length-1];De.depth=this.sliceSerialize(Se).charCodeAt(0)===61?1:2}function X(){a("setextHeadingSlurpLineEnding")}function T(Se){const De=this.stack[this.stack.length-1];let ke=De.children[De.children.length-1];(!ke||ke.type!=="text")&&(ke=qt(),ke.position={start:Hf(Se.start)},De.children.push(ke)),this.stack.push(ke)}function D(Se){const De=this.stack.pop();De.value+=this.sliceSerialize(Se),De.position.end=Hf(Se.end)}function O(Se){const De=this.stack[this.stack.length-1];if(s("atHardBreak")){const ke=De.children[De.children.length-1];ke.position.end=Hf(Se.end),a("atHardBreak");return}!s("setextHeadingSlurpLineEnding")&&n.canContainEols.includes(De.type)&&(T.call(this,Se),D.call(this,Se))}function L(){a("atHardBreak",!0)}function Q(){const Se=this.resume(),De=this.stack[this.stack.length-1];De.value=Se}function $(){const Se=this.resume(),De=this.stack[this.stack.length-1];De.value=Se}function Y(){const Se=this.resume(),De=this.stack[this.stack.length-1];De.value=Se}function Z(){const Se=this.stack[this.stack.length-1];if(s("inReference")){const De=s("referenceType")||"shortcut";Se.type+="Reference",Se.referenceType=De,delete Se.url,delete Se.title}else delete Se.identifier,delete Se.label;a("referenceType")}function re(){const Se=this.stack[this.stack.length-1];if(s("inReference")){const De=s("referenceType")||"shortcut";Se.type+="Reference",Se.referenceType=De,delete Se.url,delete Se.title}else delete Se.identifier,delete Se.label;a("referenceType")}function H(Se){const De=this.sliceSerialize(Se),ke=this.stack[this.stack.length-2];ke.label=tle(De),ke.identifier=lm(De).toLowerCase()}function me(){const Se=this.stack[this.stack.length-1],De=this.resume(),ke=this.stack[this.stack.length-1];if(a("inReference",!0),ke.type==="link"){const Ke=Se.children;ke.children=Ke}else ke.alt=De}function q(){const Se=this.resume(),De=this.stack[this.stack.length-1];De.url=Se}function z(){const Se=this.resume(),De=this.stack[this.stack.length-1];De.title=Se}function ne(){a("inReference")}function oe(){a("referenceType","collapsed")}function ee(Se){const De=this.resume(),ke=this.stack[this.stack.length-1];ke.label=De,ke.identifier=lm(this.sliceSerialize(Se)).toLowerCase(),a("referenceType","full")}function ge(Se){a("characterReferenceType",Se.type)}function de(Se){const De=this.sliceSerialize(Se),ke=s("characterReferenceType");let Ke;ke?(Ke=KM(De,ke==="characterReferenceMarkerNumeric"?10:16),a("characterReferenceType")):Ke=TA(De);const He=this.stack.pop();He.value+=Ke,He.position.end=Hf(Se.end)}function ye(Se){D.call(this,Se);const De=this.stack[this.stack.length-1];De.url=this.sliceSerialize(Se)}function we(Se){D.call(this,Se);const De=this.stack[this.stack.length-1];De.url="mailto:"+this.sliceSerialize(Se)}function ve(){return{type:"blockquote",children:[]}}function je(){return{type:"code",lang:null,meta:null,value:""}}function Ee(){return{type:"inlineCode",value:""}}function Ue(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Oe(){return{type:"emphasis",children:[]}}function pe(){return{type:"heading",depth:void 0,children:[]}}function tt(){return{type:"break"}}function dt(){return{type:"html",value:""}}function lt(){return{type:"image",title:null,url:"",alt:null}}function Ze(){return{type:"link",title:null,url:"",children:[]}}function ut(Se){return{type:"list",ordered:Se.type==="listOrdered",start:null,spread:Se._spread,children:[]}}function wt(Se){return{type:"listItem",spread:Se._spread,checked:null,children:[]}}function Et(){return{type:"paragraph",children:[]}}function Ot(){return{type:"strong",children:[]}}function qt(){return{type:"text",value:""}}function Qe(){return{type:"thematicBreak"}}}function Hf(e){return{line:e.line,column:e.column,offset:e.offset}}function ZM(e,n){let t=-1;for(;++t<n.length;){const r=n[t];Array.isArray(r)?ZM(e,r):ale(e,r)}}function ale(e,n){let t;for(t in n)if(XM.call(n,t)){if(t==="canContainEols"){const r=n[t];r&&e[t].push(...r)}else if(t==="transforms"){const r=n[t];r&&e[t].push(...r)}else if(t==="enter"||t==="exit"){const r=n[t];r&&Object.assign(e[t],r)}}}function lN(e,n){throw e?new Error("Cannot close `"+e.type+"` ("+M1({start:e.start,end:e.end})+"): a different token (`"+n.type+"`, "+M1({start:n.start,end:n.end})+") is open"):new Error("Cannot close document, a token (`"+n.type+"`, "+M1({start:n.start,end:n.end})+") is still open")}function sle(e){Object.assign(this,{Parser:t=>{const r=this.data("settings");return rle(t,Object.assign({},r,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function ole(e,n){const t={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(n),!0)};return e.patch(n,t),e.applyData(n,t)}function lle(e,n){const t={type:"element",tagName:"br",properties:{},children:[]};return e.patch(n,t),[e.applyData(n,t),{type:"text",value:`
`}]}function ule(e,n){const t=n.value?n.value+`
`:"",r=n.lang?n.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,i={};r&&(i.className=["language-"+r]);let a={type:"element",tagName:"code",properties:i,children:[{type:"text",value:t}]};return n.meta&&(a.data={meta:n.meta}),e.patch(n,a),a=e.applyData(n,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(n,a),a}function cle(e,n){const t={type:"element",tagName:"del",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function dle(e,n){const t={type:"element",tagName:"em",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function zm(e){const n=[];let t=-1,r=0,i=0;for(;++t<e.length;){const a=e.charCodeAt(t);let s="";if(a===37&&tl(e.charCodeAt(t+1))&&tl(e.charCodeAt(t+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const l=e.charCodeAt(t+1);a<56320&&l>56319&&l<57344?(s=String.fromCharCode(a,l),i=1):s=""}else s=String.fromCharCode(a);s&&(n.push(e.slice(r,t),encodeURIComponent(s)),r=t+i+1,s=""),i&&(t+=i,i=0)}return n.join("")+e.slice(r)}function JM(e,n){const t=String(n.identifier).toUpperCase(),r=zm(t.toLowerCase()),i=e.footnoteOrder.indexOf(t);let a;i===-1?(e.footnoteOrder.push(t),e.footnoteCounts[t]=1,a=e.footnoteOrder.length):(e.footnoteCounts[t]++,a=i+1);const s=e.footnoteCounts[t],l={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fn-"+r,id:e.clobberPrefix+"fnref-"+r+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(n,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(n,u),e.applyData(n,u)}function fle(e,n){const t=e.footnoteById;let r=1;for(;r in t;)r++;const i=String(r);return t[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:n.children}],position:n.position},JM(e,{type:"footnoteReference",identifier:i,position:n.position})}function hle(e,n){const t={type:"element",tagName:"h"+n.depth,properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function ple(e,n){if(e.dangerous){const t={type:"raw",value:n.value};return e.patch(n,t),e.applyData(n,t)}return null}function eL(e,n){const t=n.referenceType;let r="]";if(t==="collapsed"?r+="[]":t==="full"&&(r+="["+(n.label||n.identifier)+"]"),n.type==="imageReference")return{type:"text",value:"!["+n.alt+r};const i=e.all(n),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function mle(e,n){const t=e.definition(n.identifier);if(!t)return eL(e,n);const r={src:zm(t.url||""),alt:n.alt};t.title!==null&&t.title!==void 0&&(r.title=t.title);const i={type:"element",tagName:"img",properties:r,children:[]};return e.patch(n,i),e.applyData(n,i)}function gle(e,n){const t={src:zm(n.url)};n.alt!==null&&n.alt!==void 0&&(t.alt=n.alt),n.title!==null&&n.title!==void 0&&(t.title=n.title);const r={type:"element",tagName:"img",properties:t,children:[]};return e.patch(n,r),e.applyData(n,r)}function ble(e,n){const t={type:"text",value:n.value.replace(/\r?\n|\r/g," ")};e.patch(n,t);const r={type:"element",tagName:"code",properties:{},children:[t]};return e.patch(n,r),e.applyData(n,r)}function yle(e,n){const t=e.definition(n.identifier);if(!t)return eL(e,n);const r={href:zm(t.url||"")};t.title!==null&&t.title!==void 0&&(r.title=t.title);const i={type:"element",tagName:"a",properties:r,children:e.all(n)};return e.patch(n,i),e.applyData(n,i)}function xle(e,n){const t={href:zm(n.url)};n.title!==null&&n.title!==void 0&&(t.title=n.title);const r={type:"element",tagName:"a",properties:t,children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function vle(e,n,t){const r=e.all(n),i=t?wle(t):tL(n),a={},s=[];if(typeof n.checked=="boolean"){const h=r[0];let m;h&&h.type==="element"&&h.tagName==="p"?m=h:(m={type:"element",tagName:"p",properties:{},children:[]},r.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:n.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const h=r[l];(i||l!==0||h.type!=="element"||h.tagName!=="p")&&s.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?s.push(...h.children):s.push(h)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&s.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:a,children:s};return e.patch(n,f),e.applyData(n,f)}function wle(e){let n=!1;if(e.type==="list"){n=e.spread||!1;const t=e.children;let r=-1;for(;!n&&++r<t.length;)n=tL(t[r])}return n}function tL(e){const n=e.spread;return n??e.children.length>1}function Sle(e,n){const t={},r=e.all(n);let i=-1;for(typeof n.start=="number"&&n.start!==1&&(t.start=n.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const a={type:"element",tagName:n.ordered?"ol":"ul",properties:t,children:e.wrap(r,!0)};return e.patch(n,a),e.applyData(n,a)}function Cle(e,n){const t={type:"element",tagName:"p",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function Ale(e,n){const t={type:"root",children:e.wrap(e.all(n))};return e.patch(n,t),e.applyData(n,t)}function kle(e,n){const t={type:"element",tagName:"strong",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}const DA=nL("start"),_A=nL("end");function Ele(e){return{start:DA(e),end:_A(e)}}function nL(e){return n;function n(t){const r=t&&t.position&&t.position[e]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function jle(e,n){const t=e.all(n),r=t.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(n.children[0],s),i.push(s)}if(t.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(t,!0)},l=DA(n.children[1]),u=_A(n.children[n.children.length-1]);l.line&&u.line&&(s.position={start:l,end:u}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(n,a),e.applyData(n,a)}function Tle(e,n,t){const r=t?t.children:void 0,a=(r?r.indexOf(n):1)===0?"th":"td",s=t&&t.type==="table"?t.align:void 0,l=s?s.length:n.children.length;let u=-1;const f=[];for(;++u<l;){const m=n.children[u],b={},g=s?s[u]:void 0;g&&(b.align=g);let v={type:"element",tagName:a,properties:b,children:[]};m&&(v.children=e.all(m),e.patch(m,v),v=e.applyData(n,v)),f.push(v)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(f,!0)};return e.patch(n,h),e.applyData(n,h)}function Nle(e,n){const t={type:"element",tagName:"td",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}const uN=9,cN=32;function Dle(e){const n=String(e),t=/\r?\n|\r/g;let r=t.exec(n),i=0;const a=[];for(;r;)a.push(dN(n.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=t.exec(n);return a.push(dN(n.slice(i),i>0,!1)),a.join("")}function dN(e,n,t){let r=0,i=e.length;if(n){let a=e.codePointAt(r);for(;a===uN||a===cN;)r++,a=e.codePointAt(r)}if(t){let a=e.codePointAt(i-1);for(;a===uN||a===cN;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function _le(e,n){const t={type:"text",value:Dle(String(n.value))};return e.patch(n,t),e.applyData(n,t)}function Ile(e,n){const t={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(n,t),e.applyData(n,t)}const Ole={blockquote:ole,break:lle,code:ule,delete:cle,emphasis:dle,footnoteReference:JM,footnote:fle,heading:hle,html:ple,imageReference:mle,image:gle,inlineCode:ble,linkReference:yle,link:xle,listItem:vle,list:Sle,paragraph:Cle,root:Ale,strong:kle,table:jle,tableCell:Nle,tableRow:Tle,text:_le,thematicBreak:Ile,toml:Ax,yaml:Ax,definition:Ax,footnoteDefinition:Ax};function Ax(){return null}const rL=function(e){if(e==null)return Ple;if(typeof e=="string")return Rle(e);if(typeof e=="object")return Array.isArray(e)?Mle(e):Lle(e);if(typeof e=="function")return T2(e);throw new Error("Expected function, string, or object as test")};function Mle(e){const n=[];let t=-1;for(;++t<e.length;)n[t]=rL(e[t]);return T2(r);function r(...i){let a=-1;for(;++a<n.length;)if(n[a].call(this,...i))return!0;return!1}}function Lle(e){return T2(n);function n(t){let r;for(r in e)if(t[r]!==e[r])return!1;return!0}}function Rle(e){return T2(n);function n(t){return t&&t.type===e}}function T2(e){return n;function n(t,...r){return!!(t&&typeof t=="object"&&"type"in t&&e.call(this,t,...r))}}function Ple(){return!0}const Fle=!0,fN=!1,zle="skip",qle=function(e,n,t,r){typeof n=="function"&&typeof t!="function"&&(r=t,t=n,n=null);const i=rL(n),a=r?-1:1;s(e,void 0,[])();function s(l,u,f){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const b=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(l.type+(b?"<"+b+">":""))+")"})}return m;function m(){let b=[],g,v,x;if((!n||i(l,u,f[f.length-1]||null))&&(b=Ble(t(l,f)),b[0]===fN))return b;if(l.children&&b[0]!==zle)for(v=(r?l.children.length:-1)+a,x=f.concat(l);v>-1&&v<l.children.length;){if(g=s(l.children[v],v,x)(),g[0]===fN)return g;v=typeof g[1]=="number"?g[1]:v+a}return b}}};function Ble(e){return Array.isArray(e)?e:typeof e=="number"?[Fle,e]:[e]}const IA=function(e,n,t,r){typeof n=="function"&&typeof t!="function"&&(r=t,t=n,n=null),qle(e,n,i,r);function i(a,s){const l=s[s.length-1];return t(a,l?l.children.indexOf(a):null,l)}};function $le(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const hN={}.hasOwnProperty;function Ule(e){const n=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return IA(e,"definition",r=>{const i=pN(r.identifier);i&&!hN.call(n,i)&&(n[i]=r)}),t;function t(r){const i=pN(r);return i&&hN.call(n,i)?n[i]:null}}function pN(e){return String(e||"").toUpperCase()}const _v={}.hasOwnProperty;function Hle(e,n){const t=n||{},r=t.allowDangerousHtml||!1,i={};return s.dangerous=r,s.clobberPrefix=t.clobberPrefix===void 0||t.clobberPrefix===null?"user-content-":t.clobberPrefix,s.footnoteLabel=t.footnoteLabel||"Footnotes",s.footnoteLabelTagName=t.footnoteLabelTagName||"h2",s.footnoteLabelProperties=t.footnoteLabelProperties||{className:["sr-only"]},s.footnoteBackLabel=t.footnoteBackLabel||"Back to content",s.unknownHandler=t.unknownHandler,s.passThrough=t.passThrough,s.handlers={...Ole,...t.handlers},s.definition=Ule(e),s.footnoteById=i,s.footnoteOrder=[],s.footnoteCounts={},s.patch=Vle,s.applyData=Wle,s.one=l,s.all=u,s.wrap=Gle,s.augment=a,IA(e,"footnoteDefinition",f=>{const h=String(f.identifier).toUpperCase();_v.call(i,h)||(i[h]=f)}),s;function a(f,h){if(f&&"data"in f&&f.data){const m=f.data;m.hName&&(h.type!=="element"&&(h={type:"element",tagName:"",properties:{},children:[]}),h.tagName=m.hName),h.type==="element"&&m.hProperties&&(h.properties={...h.properties,...m.hProperties}),"children"in h&&h.children&&m.hChildren&&(h.children=m.hChildren)}if(f){const m="type"in f?f:{position:f};$le(m)||(h.position={start:DA(m),end:_A(m)})}return h}function s(f,h,m,b){return Array.isArray(m)&&(b=m,m={}),a(f,{type:"element",tagName:h,properties:m||{},children:b||[]})}function l(f,h){return iL(s,f,h)}function u(f){return OA(s,f)}}function Vle(e,n){e.position&&(n.position=Ele(e))}function Wle(e,n){let t=n;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;typeof r=="string"&&(t.type==="element"?t.tagName=r:t={type:"element",tagName:r,properties:{},children:[]}),t.type==="element"&&a&&(t.properties={...t.properties,...a}),"children"in t&&t.children&&i!==null&&i!==void 0&&(t.children=i)}return t}function iL(e,n,t){const r=n&&n.type;if(!r)throw new Error("Expected node, got `"+n+"`");return _v.call(e.handlers,r)?e.handlers[r](e,n,t):e.passThrough&&e.passThrough.includes(r)?"children"in n?{...n,children:OA(e,n)}:n:e.unknownHandler?e.unknownHandler(e,n,t):Yle(e,n)}function OA(e,n){const t=[];if("children"in n){const r=n.children;let i=-1;for(;++i<r.length;){const a=iL(e,r[i],n);if(a){if(i&&r[i-1].type==="break"&&(!Array.isArray(a)&&a.type==="text"&&(a.value=a.value.replace(/^\s+/,"")),!Array.isArray(a)&&a.type==="element")){const s=a.children[0];s&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,""))}Array.isArray(a)?t.push(...a):t.push(a)}}}return t}function Yle(e,n){const t=n.data||{},r="value"in n&&!(_v.call(t,"hProperties")||_v.call(t,"hChildren"))?{type:"text",value:n.value}:{type:"element",tagName:"div",properties:{},children:OA(e,n)};return e.patch(n,r),e.applyData(n,r)}function Gle(e,n){const t=[];let r=-1;for(n&&t.push({type:"text",value:`
`});++r<e.length;)r&&t.push({type:"text",value:`
`}),t.push(e[r]);return n&&e.length>0&&t.push({type:"text",value:`
`}),t}function Qle(e){const n=[];let t=-1;for(;++t<e.footnoteOrder.length;){const r=e.footnoteById[e.footnoteOrder[t]];if(!r)continue;const i=e.all(r),a=String(r.identifier).toUpperCase(),s=zm(a.toLowerCase());let l=0;const u=[];for(;++l<=e.footnoteCounts[a];){const m={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+s+(l>1?"-"+l:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:""}]};l>1&&m.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(l)}]}),u.length>0&&u.push({type:"text",value:" "}),u.push(m)}const f=i[i.length-1];if(f&&f.type==="element"&&f.tagName==="p"){const m=f.children[f.children.length-1];m&&m.type==="text"?m.value+=" ":f.children.push({type:"text",value:" "}),f.children.push(...u)}else i.push(...u);const h={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+s},children:e.wrap(i,!0)};e.patch(r,h),n.push(h)}if(n.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:e.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(n,!0)},{type:"text",value:`
`}]}}function aL(e,n){const t=Hle(e,n),r=t.one(e,null),i=Qle(t);return i&&r.children.push({type:"text",value:`
`},i),Array.isArray(r)?{type:"root",children:r}:r}const Kle=function(e,n){return e&&"run"in e?Xle(e,n):Zle(e||n)};function Xle(e,n){return(t,r,i)=>{e.run(aL(t,n),r,a=>{i(a)})}}function Zle(e){return n=>aL(n,e)}class qb{constructor(n,t,r){this.property=n,this.normal=t,r&&(this.space=r)}}qb.prototype.property={};qb.prototype.normal={};qb.prototype.space=null;function sL(e,n){const t={},r={};let i=-1;for(;++i<e.length;)Object.assign(t,e[i].property),Object.assign(r,e[i].normal);return new qb(t,r,n)}function U6(e){return e.toLowerCase()}class Gl{constructor(n,t){this.property=n,this.attribute=t}}Gl.prototype.space=null;Gl.prototype.boolean=!1;Gl.prototype.booleanish=!1;Gl.prototype.overloadedBoolean=!1;Gl.prototype.number=!1;Gl.prototype.commaSeparated=!1;Gl.prototype.spaceSeparated=!1;Gl.prototype.commaOrSpaceSeparated=!1;Gl.prototype.mustUseProperty=!1;Gl.prototype.defined=!1;let Jle=0;const On=Bp(),za=Bp(),oL=Bp(),kt=Bp(),fi=Bp(),um=Bp(),Ko=Bp();function Bp(){return 2**++Jle}const H6=Object.freeze(Object.defineProperty({__proto__:null,boolean:On,booleanish:za,commaOrSpaceSeparated:Ko,commaSeparated:um,number:kt,overloadedBoolean:oL,spaceSeparated:fi},Symbol.toStringTag,{value:"Module"})),bS=Object.keys(H6);class MA extends Gl{constructor(n,t,r,i){let a=-1;if(super(n,t),mN(this,"space",i),typeof r=="number")for(;++a<bS.length;){const s=bS[a];mN(this,bS[a],(r&H6[s])===H6[s])}}}MA.prototype.defined=!0;function mN(e,n,t){t&&(e[n]=t)}const eue={}.hasOwnProperty;function qm(e){const n={},t={};let r;for(r in e.properties)if(eue.call(e.properties,r)){const i=e.properties[r],a=new MA(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),n[r]=a,t[U6(r)]=r,t[U6(a.attribute)]=r}return new qb(n,t,e.space)}const lL=qm({space:"xlink",transform(e,n){return"xlink:"+n.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),uL=qm({space:"xml",transform(e,n){return"xml:"+n.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function cL(e,n){return n in e?e[n]:n}function dL(e,n){return cL(e,n.toLowerCase())}const fL=qm({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:dL,properties:{xmlns:null,xmlnsXLink:null}}),hL=qm({transform(e,n){return n==="role"?n:"aria-"+n.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:za,ariaAutoComplete:null,ariaBusy:za,ariaChecked:za,ariaColCount:kt,ariaColIndex:kt,ariaColSpan:kt,ariaControls:fi,ariaCurrent:null,ariaDescribedBy:fi,ariaDetails:null,ariaDisabled:za,ariaDropEffect:fi,ariaErrorMessage:null,ariaExpanded:za,ariaFlowTo:fi,ariaGrabbed:za,ariaHasPopup:null,ariaHidden:za,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:fi,ariaLevel:kt,ariaLive:null,ariaModal:za,ariaMultiLine:za,ariaMultiSelectable:za,ariaOrientation:null,ariaOwns:fi,ariaPlaceholder:null,ariaPosInSet:kt,ariaPressed:za,ariaReadOnly:za,ariaRelevant:null,ariaRequired:za,ariaRoleDescription:fi,ariaRowCount:kt,ariaRowIndex:kt,ariaRowSpan:kt,ariaSelected:za,ariaSetSize:kt,ariaSort:null,ariaValueMax:kt,ariaValueMin:kt,ariaValueNow:kt,ariaValueText:null,role:null}}),tue=qm({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:dL,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:um,acceptCharset:fi,accessKey:fi,action:null,allow:null,allowFullScreen:On,allowPaymentRequest:On,allowUserMedia:On,alt:null,as:null,async:On,autoCapitalize:null,autoComplete:fi,autoFocus:On,autoPlay:On,blocking:fi,capture:null,charSet:null,checked:On,cite:null,className:fi,cols:kt,colSpan:null,content:null,contentEditable:za,controls:On,controlsList:fi,coords:kt|um,crossOrigin:null,data:null,dateTime:null,decoding:null,default:On,defer:On,dir:null,dirName:null,disabled:On,download:oL,draggable:za,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:On,formTarget:null,headers:fi,height:kt,hidden:On,high:kt,href:null,hrefLang:null,htmlFor:fi,httpEquiv:fi,id:null,imageSizes:null,imageSrcSet:null,inert:On,inputMode:null,integrity:null,is:null,isMap:On,itemId:null,itemProp:fi,itemRef:fi,itemScope:On,itemType:fi,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:On,low:kt,manifest:null,max:null,maxLength:kt,media:null,method:null,min:null,minLength:kt,multiple:On,muted:On,name:null,nonce:null,noModule:On,noValidate:On,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:On,optimum:kt,pattern:null,ping:fi,placeholder:null,playsInline:On,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:On,referrerPolicy:null,rel:fi,required:On,reversed:On,rows:kt,rowSpan:kt,sandbox:fi,scope:null,scoped:On,seamless:On,selected:On,shadowRootClonable:On,shadowRootDelegatesFocus:On,shadowRootMode:null,shape:null,size:kt,sizes:null,slot:null,span:kt,spellCheck:za,src:null,srcDoc:null,srcLang:null,srcSet:null,start:kt,step:null,style:null,tabIndex:kt,target:null,title:null,translate:null,type:null,typeMustMatch:On,useMap:null,value:za,width:kt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:fi,axis:null,background:null,bgColor:null,border:kt,borderColor:null,bottomMargin:kt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:On,declare:On,event:null,face:null,frame:null,frameBorder:null,hSpace:kt,leftMargin:kt,link:null,longDesc:null,lowSrc:null,marginHeight:kt,marginWidth:kt,noResize:On,noHref:On,noShade:On,noWrap:On,object:null,profile:null,prompt:null,rev:null,rightMargin:kt,rules:null,scheme:null,scrolling:za,standby:null,summary:null,text:null,topMargin:kt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:kt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:On,disableRemotePlayback:On,prefix:null,property:null,results:kt,security:null,unselectable:null}}),nue=qm({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:cL,properties:{about:Ko,accentHeight:kt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:kt,amplitude:kt,arabicForm:null,ascent:kt,attributeName:null,attributeType:null,azimuth:kt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:kt,by:null,calcMode:null,capHeight:kt,className:fi,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:kt,diffuseConstant:kt,direction:null,display:null,dur:null,divisor:kt,dominantBaseline:null,download:On,dx:null,dy:null,edgeMode:null,editable:null,elevation:kt,enableBackground:null,end:null,event:null,exponent:kt,externalResourcesRequired:null,fill:null,fillOpacity:kt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:um,g2:um,glyphName:um,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:kt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:kt,horizOriginX:kt,horizOriginY:kt,id:null,ideographic:kt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:kt,k:kt,k1:kt,k2:kt,k3:kt,k4:kt,kernelMatrix:Ko,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:kt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:kt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:kt,overlineThickness:kt,paintOrder:null,panose1:null,path:null,pathLength:kt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:fi,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:kt,pointsAtY:kt,pointsAtZ:kt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ko,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ko,rev:Ko,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ko,requiredFeatures:Ko,requiredFonts:Ko,requiredFormats:Ko,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:kt,specularExponent:kt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:kt,strikethroughThickness:kt,string:null,stroke:null,strokeDashArray:Ko,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:kt,strokeOpacity:kt,strokeWidth:null,style:null,surfaceScale:kt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ko,tabIndex:kt,tableValues:null,target:null,targetX:kt,targetY:kt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ko,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:kt,underlineThickness:kt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:kt,values:null,vAlphabetic:kt,vMathematical:kt,vectorEffect:null,vHanging:kt,vIdeographic:kt,version:null,vertAdvY:kt,vertOriginX:kt,vertOriginY:kt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:kt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),rue=/^data[-\w.:]+$/i,gN=/-[a-z]/g,iue=/[A-Z]/g;function aue(e,n){const t=U6(n);let r=n,i=Gl;if(t in e.normal)return e.property[e.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&rue.test(n)){if(n.charAt(4)==="-"){const a=n.slice(5).replace(gN,oue);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=n.slice(4);if(!gN.test(a)){let s=a.replace(iue,sue);s.charAt(0)!=="-"&&(s="-"+s),n="data"+s}}i=MA}return new i(r,n)}function sue(e){return"-"+e.toLowerCase()}function oue(e){return e.charAt(1).toUpperCase()}const bN={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},lue=sL([uL,lL,fL,hL,tue],"html"),uue=sL([uL,lL,fL,hL,nue],"svg");function cue(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return n=>{IA(n,"element",(t,r,i)=>{const a=i;let s;if(e.allowedElements?s=!e.allowedElements.includes(t.tagName):e.disallowedElements&&(s=e.disallowedElements.includes(t.tagName)),!s&&e.allowElement&&typeof r=="number"&&(s=!e.allowElement(t,r,a)),s&&typeof r=="number")return e.unwrapDisallowed&&t.children?a.children.splice(r,1,...t.children):a.children.splice(r,1),r})}}var yS={exports:{}},Dr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yN;function due(){if(yN)return Dr;yN=1;var e=Symbol.for("react.element"),n=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),v;v=Symbol.for("react.module.reference");function x(C){if(typeof C=="object"&&C!==null){var S=C.$$typeof;switch(S){case e:switch(C=C.type,C){case t:case i:case r:case f:case h:return C;default:switch(C=C&&C.$$typeof,C){case l:case s:case u:case b:case m:case a:return C;default:return S}}case n:return S}}}return Dr.ContextConsumer=s,Dr.ContextProvider=a,Dr.Element=e,Dr.ForwardRef=u,Dr.Fragment=t,Dr.Lazy=b,Dr.Memo=m,Dr.Portal=n,Dr.Profiler=i,Dr.StrictMode=r,Dr.Suspense=f,Dr.SuspenseList=h,Dr.isAsyncMode=function(){return!1},Dr.isConcurrentMode=function(){return!1},Dr.isContextConsumer=function(C){return x(C)===s},Dr.isContextProvider=function(C){return x(C)===a},Dr.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===e},Dr.isForwardRef=function(C){return x(C)===u},Dr.isFragment=function(C){return x(C)===t},Dr.isLazy=function(C){return x(C)===b},Dr.isMemo=function(C){return x(C)===m},Dr.isPortal=function(C){return x(C)===n},Dr.isProfiler=function(C){return x(C)===i},Dr.isStrictMode=function(C){return x(C)===r},Dr.isSuspense=function(C){return x(C)===f},Dr.isSuspenseList=function(C){return x(C)===h},Dr.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===t||C===i||C===r||C===f||C===h||C===g||typeof C=="object"&&C!==null&&(C.$$typeof===b||C.$$typeof===m||C.$$typeof===a||C.$$typeof===s||C.$$typeof===u||C.$$typeof===v||C.getModuleId!==void 0)},Dr.typeOf=x,Dr}var xN;function fue(){return xN||(xN=1,yS.exports=due()),yS.exports}var hue=fue();const pue=Ta(hue);function mue(e){const n=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof n=="string"&&n.replace(/[ \t\n\f\r]/g,"")===""}function gue(e){return e.join(" ").trim()}function bue(e,n){const t={};return(e[e.length-1]===""?[...e,""]:e).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}var kx={exports:{}},xS,vN;function yue(){if(vN)return xS;vN=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,t=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,l=/^\s+|\s+$/g,u=`
`,f="/",h="*",m="",b="comment",g="declaration";xS=function(x,C){if(typeof x!="string")throw new TypeError("First argument must be a string");if(!x)return[];C=C||{};var S=1,A=1;function N(O){var L=O.match(n);L&&(S+=L.length);var Q=O.lastIndexOf(u);A=~Q?O.length-Q:A+O.length}function P(){var O={line:S,column:A};return function(L){return L.position=new U(O),F(),L}}function U(O){this.start=O,this.end={line:S,column:A},this.source=C.source}U.prototype.content=x;function B(O){var L=new Error(C.source+":"+S+":"+A+": "+O);if(L.reason=O,L.filename=C.source,L.line=S,L.column=A,L.source=x,!C.silent)throw L}function j(O){var L=O.exec(x);if(L){var Q=L[0];return N(Q),x=x.slice(Q.length),L}}function F(){j(t)}function V(O){var L;for(O=O||[];L=X();)L!==!1&&O.push(L);return O}function X(){var O=P();if(!(f!=x.charAt(0)||h!=x.charAt(1))){for(var L=2;m!=x.charAt(L)&&(h!=x.charAt(L)||f!=x.charAt(L+1));)++L;if(L+=2,m===x.charAt(L-1))return B("End of comment missing");var Q=x.slice(2,L-2);return A+=2,N(Q),x=x.slice(L),A+=2,O({type:b,comment:Q})}}function T(){var O=P(),L=j(r);if(L){if(X(),!j(i))return B("property missing ':'");var Q=j(a),$=O({type:g,property:v(L[0].replace(e,m)),value:Q?v(Q[0].replace(e,m)):m});return j(s),$}}function D(){var O=[];V(O);for(var L;L=T();)L!==!1&&(O.push(L),V(O));return O}return F(),D()};function v(x){return x?x.replace(l,m):m}return xS}var wN;function xue(){if(wN)return kx.exports;wN=1;var e=yue();function n(t,r){var i=null;if(!t||typeof t!="string")return i;for(var a,s=e(t),l=typeof r=="function",u,f,h=0,m=s.length;h<m;h++)a=s[h],u=a.property,f=a.value,l?r(u,f,a):f&&(i||(i={}),i[u]=f);return i}return kx.exports=n,kx.exports.default=n,kx.exports}var vue=xue();const wue=Ta(vue),V6={}.hasOwnProperty,Sue=new Set(["table","thead","tbody","tfoot","tr"]);function pL(e,n){const t=[];let r=-1,i;for(;++r<n.children.length;)i=n.children[r],i.type==="element"?t.push(Cue(e,i,r,n)):i.type==="text"?(n.type!=="element"||!Sue.has(n.tagName)||!mue(i))&&t.push(i.value):i.type==="raw"&&!e.options.skipHtml&&t.push(i.value);return t}function Cue(e,n,t,r){const i=e.options,a=i.transformLinkUri===void 0?Oae:i.transformLinkUri,s=e.schema,l=n.tagName,u={};let f=s,h;if(s.space==="html"&&l==="svg"&&(f=uue,e.schema=f),n.properties)for(h in n.properties)V6.call(n.properties,h)&&kue(u,h,n.properties[h],e);(l==="ol"||l==="ul")&&e.listDepth++;const m=pL(e,n);(l==="ol"||l==="ul")&&e.listDepth--,e.schema=s;const b=n.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},g=i.components&&V6.call(i.components,l)?i.components[l]:l,v=typeof g=="string"||g===it.Fragment;if(!pue.isValidElementType(g))throw new TypeError(`Component for name \`${l}\` not defined or is not renderable`);if(u.key=t,l==="a"&&i.linkTarget&&(u.target=typeof i.linkTarget=="function"?i.linkTarget(String(u.href||""),n.children,typeof u.title=="string"?u.title:null):i.linkTarget),l==="a"&&a&&(u.href=a(String(u.href||""),n.children,typeof u.title=="string"?u.title:null)),!v&&l==="code"&&r.type==="element"&&r.tagName!=="pre"&&(u.inline=!0),!v&&(l==="h1"||l==="h2"||l==="h3"||l==="h4"||l==="h5"||l==="h6")&&(u.level=Number.parseInt(l.charAt(1),10)),l==="img"&&i.transformImageUri&&(u.src=i.transformImageUri(String(u.src||""),String(u.alt||""),typeof u.title=="string"?u.title:null)),!v&&l==="li"&&r.type==="element"){const x=Aue(n);u.checked=x&&x.properties?!!x.properties.checked:null,u.index=vS(r,n),u.ordered=r.tagName==="ol"}return!v&&(l==="ol"||l==="ul")&&(u.ordered=l==="ol",u.depth=e.listDepth),(l==="td"||l==="th")&&(u.align&&(u.style||(u.style={}),u.style.textAlign=u.align,delete u.align),v||(u.isHeader=l==="th")),!v&&l==="tr"&&r.type==="element"&&(u.isHeader=r.tagName==="thead"),i.sourcePos&&(u["data-sourcepos"]=Tue(b)),!v&&i.rawSourcePos&&(u.sourcePosition=n.position),!v&&i.includeElementIndex&&(u.index=vS(r,n),u.siblingCount=vS(r)),v||(u.node=n),m.length>0?it.createElement(g,u,m):it.createElement(g,u)}function Aue(e){let n=-1;for(;++n<e.children.length;){const t=e.children[n];if(t.type==="element"&&t.tagName==="input")return t}return null}function vS(e,n){let t=-1,r=0;for(;++t<e.children.length&&e.children[t]!==n;)e.children[t].type==="element"&&r++;return r}function kue(e,n,t,r){const i=aue(r.schema,n);let a=t;a==null||a!==a||(Array.isArray(a)&&(a=i.commaSeparated?bue(a):gue(a)),i.property==="style"&&typeof a=="string"&&(a=Eue(a)),i.space&&i.property?e[V6.call(bN,i.property)?bN[i.property]:i.property]=a:i.attribute&&(e[i.attribute]=a))}function Eue(e){const n={};try{wue(e,t)}catch{}return n;function t(r,i){const a=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;n[a.replace(/-([a-z])/g,jue)]=i}}function jue(e,n){return n.toUpperCase()}function Tue(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}const SN={}.hasOwnProperty,Nue="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Ex={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function LA(e){for(const a in Ex)if(SN.call(Ex,a)&&SN.call(e,a)){const s=Ex[a];console.warn(`[react-markdown] Warning: please ${s.to?`use \`${s.to}\` instead of`:"remove"} \`${a}\` (see <${Nue}#${s.id}> for more info)`),delete Ex[a]}const n=Xae().use(sle).use(e.remarkPlugins||[]).use(Kle,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(cue,e),t=new PM;typeof e.children=="string"?t.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const r=n.runSync(n.parse(t),t);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=it.createElement(it.Fragment,{},pL({options:e,schema:lue,listDepth:0},r));return e.className&&(i=it.createElement("div",{className:e.className},i)),i}LA.propTypes={children:Be.string,className:Be.string,allowElement:Be.func,allowedElements:Be.arrayOf(Be.string),disallowedElements:Be.arrayOf(Be.string),unwrapDisallowed:Be.bool,remarkPlugins:Be.arrayOf(Be.oneOfType([Be.object,Be.func,Be.arrayOf(Be.oneOfType([Be.bool,Be.string,Be.object,Be.func,Be.arrayOf(Be.any)]))])),rehypePlugins:Be.arrayOf(Be.oneOfType([Be.object,Be.func,Be.arrayOf(Be.oneOfType([Be.bool,Be.string,Be.object,Be.func,Be.arrayOf(Be.any)]))])),sourcePos:Be.bool,rawSourcePos:Be.bool,skipHtml:Be.bool,includeElementIndex:Be.bool,transformLinkUri:Be.oneOfType([Be.func,Be.bool]),linkTarget:Be.oneOfType([Be.func,Be.string]),transformImageUri:Be.func,components:Be.object};function RA(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function rf(e){if(e.__esModule)return e;var n=e.default;if(typeof n=="function"){var t=function r(){return this instanceof r?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};t.prototype=n.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),t}var CN={exports:{}},s1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AN;function Due(){if(AN)return s1;AN=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function t(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:s,ref:i!==void 0?i:null,props:a}}return s1.Fragment=n,s1.jsx=t,s1.jsxs=t,s1}var kN;function PA(){return kN||(kN=1,CN.exports=Due()),CN.exports}var En=PA(),o1={},EN={exports:{}},jN;function N2(){return jN||(jN=1,function(e){function n(t){return t&&t.__esModule?t:{default:t}}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(EN)),EN.exports}var TN={};function Xr(){return Xr=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Xr.apply(null,arguments)}function Yf(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function mL(e){if(M.isValidElement(e)||!Yf(e))return e;const n={};return Object.keys(e).forEach(t=>{n[t]=mL(e[t])}),n}function Yc(e,n,t={clone:!0}){const r=t.clone?Xr({},e):e;return Yf(e)&&Yf(n)&&Object.keys(n).forEach(i=>{M.isValidElement(n[i])?r[i]=n[i]:Yf(n[i])&&Object.prototype.hasOwnProperty.call(e,i)&&Yf(e[i])?r[i]=Yc(e[i],n[i],t):t.clone?r[i]=Yf(n[i])?mL(n[i]):n[i]:r[i]=n[i]}),r}const _ue=Object.freeze(Object.defineProperty({__proto__:null,default:Yc,isPlainObject:Yf},Symbol.toStringTag,{value:"Module"}));function ub(e){let n="https://mui.com/production-error/?code="+e;for(let t=1;t<arguments.length;t+=1)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified MUI error #"+e+"; visit "+n+" for the full message."}const Iue=Object.freeze(Object.defineProperty({__proto__:null,default:ub},Symbol.toStringTag,{value:"Module"}));var NN={exports:{}},Qr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DN;function Oue(){if(DN)return Qr;DN=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),g=Symbol.for("react.client.reference");function v(x){if(typeof x=="object"&&x!==null){var C=x.$$typeof;switch(C){case e:switch(x=x.type,x){case t:case i:case r:case u:case f:return x;default:switch(x=x&&x.$$typeof,x){case s:case l:case m:case h:return x;case a:return x;default:return C}}case n:return C}}}return Qr.ContextConsumer=a,Qr.ContextProvider=s,Qr.Element=e,Qr.ForwardRef=l,Qr.Fragment=t,Qr.Lazy=m,Qr.Memo=h,Qr.Portal=n,Qr.Profiler=i,Qr.StrictMode=r,Qr.Suspense=u,Qr.SuspenseList=f,Qr.isContextConsumer=function(x){return v(x)===a},Qr.isContextProvider=function(x){return v(x)===s},Qr.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===e},Qr.isForwardRef=function(x){return v(x)===l},Qr.isFragment=function(x){return v(x)===t},Qr.isLazy=function(x){return v(x)===m},Qr.isMemo=function(x){return v(x)===h},Qr.isPortal=function(x){return v(x)===n},Qr.isProfiler=function(x){return v(x)===i},Qr.isStrictMode=function(x){return v(x)===r},Qr.isSuspense=function(x){return v(x)===u},Qr.isSuspenseList=function(x){return v(x)===f},Qr.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===t||x===i||x===r||x===u||x===f||x===b||typeof x=="object"&&x!==null&&(x.$$typeof===m||x.$$typeof===h||x.$$typeof===s||x.$$typeof===a||x.$$typeof===l||x.$$typeof===g||x.getModuleId!==void 0)},Qr.typeOf=v,Qr}var _N;function Mue(){return _N||(_N=1,NN.exports=Oue()),NN.exports}var IN=Mue();const Lue=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function gL(e){const n=`${e}`.match(Lue);return n&&n[1]||""}function bL(e,n=""){return e.displayName||e.name||gL(e)||n}function ON(e,n,t){const r=bL(n);return e.displayName||(r!==""?`${t}(${r})`:t)}function Rue(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return bL(e,"Component");if(typeof e=="object")switch(e.$$typeof){case IN.ForwardRef:return ON(e,e.render,"ForwardRef");case IN.Memo:return ON(e,e.type,"memo");default:return}}}const Pue=Object.freeze(Object.defineProperty({__proto__:null,default:Rue,getFunctionName:gL},Symbol.toStringTag,{value:"Module"}));function bh(e){if(typeof e!="string")throw new Error(ub(7));return e.charAt(0).toUpperCase()+e.slice(1)}const Fue=Object.freeze(Object.defineProperty({__proto__:null,default:bh},Symbol.toStringTag,{value:"Module"}));function zue(...e){return e.reduce((n,t)=>t==null?n:function(...r){n.apply(this,r),t.apply(this,r)},()=>{})}function que(e,n=166){let t;function r(...i){const a=()=>{e.apply(this,i)};clearTimeout(t),t=setTimeout(a,n)}return r.clear=()=>{clearTimeout(t)},r}function Bue(e,n){return()=>null}function $ue(e,n){var t,r;return M.isValidElement(e)&&n.indexOf((t=e.type.muiName)!=null?t:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function yL(e){return e&&e.ownerDocument||document}function Uue(e){return yL(e).defaultView||window}function Hue(e,n){return()=>null}function xL(e,n){typeof e=="function"?e(n):e&&(e.current=n)}const vL=typeof window<"u"?M.useLayoutEffect:M.useEffect;let MN=0;function Vue(e){const[n,t]=M.useState(e),r=e||n;return M.useEffect(()=>{n==null&&(MN+=1,t(`mui-${MN}`))},[n]),r}const LN=M.useId;function Wue(e){if(LN!==void 0){const n=LN();return e??n}return Vue(e)}function Yue(e,n,t,r,i){return null}function Gue({controlled:e,default:n,name:t,state:r="value"}){const{current:i}=M.useRef(e!==void 0),[a,s]=M.useState(n),l=i?e:a,u=M.useCallback(f=>{i||s(f)},[]);return[l,u]}function Que(e){const n=M.useRef(e);return vL(()=>{n.current=e}),M.useRef((...t)=>(0,n.current)(...t)).current}function Kue(...e){return M.useMemo(()=>e.every(n=>n==null)?null:n=>{e.forEach(t=>{xL(t,n)})},e)}let Xue=class wL{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new wL}start(n,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},n)}},D2=!0,W6=!1;const Zue=new Xue,Jue={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function ece(e){const{type:n,tagName:t}=e;return!!(t==="INPUT"&&Jue[n]&&!e.readOnly||t==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function tce(e){e.metaKey||e.altKey||e.ctrlKey||(D2=!0)}function wS(){D2=!1}function nce(){this.visibilityState==="hidden"&&W6&&(D2=!0)}function rce(e){e.addEventListener("keydown",tce,!0),e.addEventListener("mousedown",wS,!0),e.addEventListener("pointerdown",wS,!0),e.addEventListener("touchstart",wS,!0),e.addEventListener("visibilitychange",nce,!0)}function ice(e){const{target:n}=e;try{return n.matches(":focus-visible")}catch{}return D2||ece(n)}function ace(){const e=M.useCallback(i=>{i!=null&&rce(i.ownerDocument)},[]),n=M.useRef(!1);function t(){return n.current?(W6=!0,Zue.start(100,()=>{W6=!1}),n.current=!1,!0):!1}function r(i){return ice(i)?(n.current=!0,!0):!1}return{isFocusVisibleRef:n,onFocus:r,onBlur:t,ref:e}}function Y6(e,n){const t=Xr({},n);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))t[r]=Xr({},e[r],t[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},a=n[r];t[r]={},!a||!Object.keys(a)?t[r]=i:!i||!Object.keys(i)?t[r]=a:(t[r]=Xr({},a),Object.keys(i).forEach(s=>{t[r][s]=Y6(i[s],a[s])}))}else t[r]===void 0&&(t[r]=e[r])}),t}function sce(e,n,t=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((a,s)=>{if(s){const l=n(s);l!==""&&a.push(l),t&&t[s]&&a.push(t[s])}return a},[]).join(" ")}),r}const RN=e=>e,oce=()=>{let e=RN;return{configure(n){e=n},generate(n){return e(n)},reset(){e=RN}}},SL=oce(),lce={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function CL(e,n,t="Mui"){const r=lce[n];return r?`${t}-${r}`:`${SL.generate(e)}-${n}`}function uce(e,n,t="Mui"){const r={};return n.forEach(i=>{r[i]=CL(e,i,t)}),r}function cce(e,n=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(n,Math.min(e,t))}const dce=Object.freeze(Object.defineProperty({__proto__:null,default:cce},Symbol.toStringTag,{value:"Module"}));function kh(e,n){if(e==null)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.includes(r))continue;t[r]=e[r]}return t}function AL(e){var n,t,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(n=0;n<i;n++)e[n]&&(t=AL(e[n]))&&(r&&(r+=" "),r+=t)}else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function fce(){for(var e,n,t=0,r="",i=arguments.length;t<i;t++)(e=arguments[t])&&(n=AL(e))&&(r&&(r+=" "),r+=n);return r}const hce=M.createContext(void 0);function pce(e){const{theme:n,name:t,props:r}=e;if(!n||!n.components||!n.components[t])return r;const i=n.components[t];return i.defaultProps?Y6(i.defaultProps,r):!i.styleOverrides&&!i.variants?Y6(i,r):r}function mce({props:e,name:n}){const t=M.useContext(hce);return pce({props:e,name:n,theme:{components:t}})}function gce(e){return mce(e)}var rp={},PN={exports:{}},FN;function bce(){return FN||(FN=1,function(e){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var a in i)({}).hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(null,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(PN)),PN.exports}var zN={exports:{}},qN;function yce(){return qN||(qN=1,function(e){function n(t,r){if(t==null)return{};var i={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.includes(a))continue;i[a]=t[a]}return i}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(zN)),zN.exports}function xce(e){if(e.sheet)return e.sheet;for(var n=0;n<document.styleSheets.length;n++)if(document.styleSheets[n].ownerNode===e)return document.styleSheets[n]}function vce(e){var n=document.createElement("style");return n.setAttribute("data-emotion",e.key),e.nonce!==void 0&&n.setAttribute("nonce",e.nonce),n.appendChild(document.createTextNode("")),n.setAttribute("data-s",""),n}var wce=function(){function e(t){var r=this;this._insertTag=function(i){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,a),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var n=e.prototype;return n.hydrate=function(t){t.forEach(this._insertTag)},n.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(vce(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=xce(r);try{i.insertRule(t,i.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(t));this.ctr++},n.flush=function(){this.tags.forEach(function(t){var r;return(r=t.parentNode)==null?void 0:r.removeChild(t)}),this.tags=[],this.ctr=0},e}(),Us="-ms-",Iv="-moz-",vr="-webkit-",kL="comm",FA="rule",zA="decl",Sce="@import",EL="@keyframes",Cce="@layer",Ace=Math.abs,_2=String.fromCharCode,kce=Object.assign;function Ece(e,n){return Cs(e,0)^45?(((n<<2^Cs(e,0))<<2^Cs(e,1))<<2^Cs(e,2))<<2^Cs(e,3):0}function jL(e){return e.trim()}function jce(e,n){return(e=n.exec(e))?e[0]:e}function Sr(e,n,t){return e.replace(n,t)}function G6(e,n){return e.indexOf(n)}function Cs(e,n){return e.charCodeAt(n)|0}function cb(e,n,t){return e.slice(n,t)}function Ec(e){return e.length}function qA(e){return e.length}function jx(e,n){return n.push(e),e}function Tce(e,n){return e.map(n).join("")}var I2=1,Im=1,TL=0,To=0,qa=0,Bm="";function O2(e,n,t,r,i,a,s){return{value:e,root:n,parent:t,type:r,props:i,children:a,line:I2,column:Im,length:s,return:""}}function l1(e,n){return kce(O2("",null,null,"",null,null,0),e,{length:-e.length},n)}function Nce(){return qa}function Dce(){return qa=To>0?Cs(Bm,--To):0,Im--,qa===10&&(Im=1,I2--),qa}function il(){return qa=To<TL?Cs(Bm,To++):0,Im++,qa===10&&(Im=1,I2++),qa}function Gc(){return Cs(Bm,To)}function Hx(){return To}function Bb(e,n){return cb(Bm,e,n)}function db(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function NL(e){return I2=Im=1,TL=Ec(Bm=e),To=0,[]}function DL(e){return Bm="",e}function Vx(e){return jL(Bb(To-1,Q6(e===91?e+2:e===40?e+1:e)))}function _ce(e){for(;(qa=Gc())&&qa<33;)il();return db(e)>2||db(qa)>3?"":" "}function Ice(e,n){for(;--n&&il()&&!(qa<48||qa>102||qa>57&&qa<65||qa>70&&qa<97););return Bb(e,Hx()+(n<6&&Gc()==32&&il()==32))}function Q6(e){for(;il();)switch(qa){case e:return To;case 34:case 39:e!==34&&e!==39&&Q6(qa);break;case 40:e===41&&Q6(e);break;case 92:il();break}return To}function Oce(e,n){for(;il()&&e+qa!==57&&!(e+qa===84&&Gc()===47););return"/*"+Bb(n,To-1)+"*"+_2(e===47?e:il())}function Mce(e){for(;!db(Gc());)il();return Bb(e,To)}function Lce(e){return DL(Wx("",null,null,null,[""],e=NL(e),0,[0],e))}function Wx(e,n,t,r,i,a,s,l,u){for(var f=0,h=0,m=s,b=0,g=0,v=0,x=1,C=1,S=1,A=0,N="",P=i,U=a,B=r,j=N;C;)switch(v=A,A=il()){case 40:if(v!=108&&Cs(j,m-1)==58){G6(j+=Sr(Vx(A),"&","&\f"),"&\f")!=-1&&(S=-1);break}case 34:case 39:case 91:j+=Vx(A);break;case 9:case 10:case 13:case 32:j+=_ce(v);break;case 92:j+=Ice(Hx()-1,7);continue;case 47:switch(Gc()){case 42:case 47:jx(Rce(Oce(il(),Hx()),n,t),u);break;default:j+="/"}break;case 123*x:l[f++]=Ec(j)*S;case 125*x:case 59:case 0:switch(A){case 0:case 125:C=0;case 59+h:S==-1&&(j=Sr(j,/\f/g,"")),g>0&&Ec(j)-m&&jx(g>32?$N(j+";",r,t,m-1):$N(Sr(j," ","")+";",r,t,m-2),u);break;case 59:j+=";";default:if(jx(B=BN(j,n,t,f,h,i,l,N,P=[],U=[],m),a),A===123)if(h===0)Wx(j,n,B,B,P,a,m,l,U);else switch(b===99&&Cs(j,3)===110?100:b){case 100:case 108:case 109:case 115:Wx(e,B,B,r&&jx(BN(e,B,B,0,0,i,l,N,i,P=[],m),U),i,U,m,l,r?P:U);break;default:Wx(j,B,B,B,[""],U,0,l,U)}}f=h=g=0,x=S=1,N=j="",m=s;break;case 58:m=1+Ec(j),g=v;default:if(x<1){if(A==123)--x;else if(A==125&&x++==0&&Dce()==125)continue}switch(j+=_2(A),A*x){case 38:S=h>0?1:(j+="\f",-1);break;case 44:l[f++]=(Ec(j)-1)*S,S=1;break;case 64:Gc()===45&&(j+=Vx(il())),b=Gc(),h=m=Ec(N=j+=Mce(Hx())),A++;break;case 45:v===45&&Ec(j)==2&&(x=0)}}return a}function BN(e,n,t,r,i,a,s,l,u,f,h){for(var m=i-1,b=i===0?a:[""],g=qA(b),v=0,x=0,C=0;v<r;++v)for(var S=0,A=cb(e,m+1,m=Ace(x=s[v])),N=e;S<g;++S)(N=jL(x>0?b[S]+" "+A:Sr(A,/&\f/g,b[S])))&&(u[C++]=N);return O2(e,n,t,i===0?FA:l,u,f,h)}function Rce(e,n,t){return O2(e,n,t,kL,_2(Nce()),cb(e,2,-2),0)}function $N(e,n,t,r){return O2(e,n,t,zA,cb(e,0,r),cb(e,r+1,-1),r)}function cm(e,n){for(var t="",r=qA(e),i=0;i<r;i++)t+=n(e[i],i,e,n)||"";return t}function Pce(e,n,t,r){switch(e.type){case Cce:if(e.children.length)break;case Sce:case zA:return e.return=e.return||e.value;case kL:return"";case EL:return e.return=e.value+"{"+cm(e.children,r)+"}";case FA:e.value=e.props.join(",")}return Ec(t=cm(e.children,r))?e.return=e.value+"{"+t+"}":""}function Fce(e){var n=qA(e);return function(t,r,i,a){for(var s="",l=0;l<n;l++)s+=e[l](t,r,i,a)||"";return s}}function zce(e){return function(n){n.root||(n=n.return)&&e(n)}}var qce=function(e,n,t){for(var r=0,i=0;r=i,i=Gc(),r===38&&i===12&&(n[t]=1),!db(i);)il();return Bb(e,To)},Bce=function(e,n){var t=-1,r=44;do switch(db(r)){case 0:r===38&&Gc()===12&&(n[t]=1),e[t]+=qce(To-1,n,t);break;case 2:e[t]+=Vx(r);break;case 4:if(r===44){e[++t]=Gc()===58?"&\f":"",n[t]=e[t].length;break}default:e[t]+=_2(r)}while(r=il());return e},$ce=function(e,n){return DL(Bce(NL(e),n))},UN=new WeakMap,Uce=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,t=e.parent,r=e.column===t.column&&e.line===t.line;t.type!=="rule";)if(t=t.parent,!t)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!UN.get(t))&&!r){UN.set(e,!0);for(var i=[],a=$ce(n,i),s=t.props,l=0,u=0;l<a.length;l++)for(var f=0;f<s.length;f++,u++)e.props[u]=i[l]?a[l].replace(/&\f/g,s[f]):s[f]+" "+a[l]}}},Hce=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function _L(e,n){switch(Ece(e,n)){case 5103:return vr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return vr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return vr+e+Iv+e+Us+e+e;case 6828:case 4268:return vr+e+Us+e+e;case 6165:return vr+e+Us+"flex-"+e+e;case 5187:return vr+e+Sr(e,/(\w+).+(:[^]+)/,vr+"box-$1$2"+Us+"flex-$1$2")+e;case 5443:return vr+e+Us+"flex-item-"+Sr(e,/flex-|-self/,"")+e;case 4675:return vr+e+Us+"flex-line-pack"+Sr(e,/align-content|flex-|-self/,"")+e;case 5548:return vr+e+Us+Sr(e,"shrink","negative")+e;case 5292:return vr+e+Us+Sr(e,"basis","preferred-size")+e;case 6060:return vr+"box-"+Sr(e,"-grow","")+vr+e+Us+Sr(e,"grow","positive")+e;case 4554:return vr+Sr(e,/([^-])(transform)/g,"$1"+vr+"$2")+e;case 6187:return Sr(Sr(Sr(e,/(zoom-|grab)/,vr+"$1"),/(image-set)/,vr+"$1"),e,"")+e;case 5495:case 3959:return Sr(e,/(image-set\([^]*)/,vr+"$1$`$1");case 4968:return Sr(Sr(e,/(.+:)(flex-)?(.*)/,vr+"box-pack:$3"+Us+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+vr+e+e;case 4095:case 3583:case 4068:case 2532:return Sr(e,/(.+)-inline(.+)/,vr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ec(e)-1-n>6)switch(Cs(e,n+1)){case 109:if(Cs(e,n+4)!==45)break;case 102:return Sr(e,/(.+:)(.+)-([^]+)/,"$1"+vr+"$2-$3$1"+Iv+(Cs(e,n+3)==108?"$3":"$2-$3"))+e;case 115:return~G6(e,"stretch")?_L(Sr(e,"stretch","fill-available"),n)+e:e}break;case 4949:if(Cs(e,n+1)!==115)break;case 6444:switch(Cs(e,Ec(e)-3-(~G6(e,"!important")&&10))){case 107:return Sr(e,":",":"+vr)+e;case 101:return Sr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+vr+(Cs(e,14)===45?"inline-":"")+"box$3$1"+vr+"$2$3$1"+Us+"$2box$3")+e}break;case 5936:switch(Cs(e,n+11)){case 114:return vr+e+Us+Sr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return vr+e+Us+Sr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return vr+e+Us+Sr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return vr+e+Us+e+e}return e}var Vce=function(e,n,t,r){if(e.length>-1&&!e.return)switch(e.type){case zA:e.return=_L(e.value,e.length);break;case EL:return cm([l1(e,{value:Sr(e.value,"@","@"+vr)})],r);case FA:if(e.length)return Tce(e.props,function(i){switch(jce(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return cm([l1(e,{props:[Sr(i,/:(read-\w+)/,":"+Iv+"$1")]})],r);case"::placeholder":return cm([l1(e,{props:[Sr(i,/:(plac\w+)/,":"+vr+"input-$1")]}),l1(e,{props:[Sr(i,/:(plac\w+)/,":"+Iv+"$1")]}),l1(e,{props:[Sr(i,/:(plac\w+)/,Us+"input-$1")]})],r)}return""})}},Wce=[Vce],Yce=function(e){var n=e.key;if(n==="css"){var t=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(t,function(v){var x=v.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var r=e.stylisPlugins||Wce,i={},a,s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var x=v.getAttribute("data-emotion").split(" "),C=1;C<x.length;C++)i[x[C]]=!0;s.push(v)});var l,u=[Uce,Hce];{var f,h=[Pce,zce(function(v){f.insert(v)})],m=Fce(u.concat(r,h)),b=function(v){return cm(Lce(v),m)};l=function(v,x,C,S){f=C,b(v?v+"{"+x.styles+"}":x.styles),S&&(g.inserted[x.name]=!0)}}var g={key:n,sheet:new wce({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:l};return g.sheet.hydrate(s),g};let K6;typeof document=="object"&&(K6=Yce({key:"css",prepend:!0}));function Gce(e){const{injectFirst:n,children:t}=e;return n&&K6?En.jsx(A_,{value:K6,children:t}):t}function Qce(e){return e==null||Object.keys(e).length===0}function Kce(e){const{styles:n,defaultTheme:t={}}=e,r=typeof n=="function"?i=>n(Qce(i)?t:i):n;return En.jsx(k_,{styles:r})}/**
 * @mui/styled-engine v5.16.12
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Xce(e,n){return C_(e,n)}const Zce=(e,n)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=n(e.__emotion_styles))},Jce=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:Kce,StyledEngineProvider:Gce,ThemeContext:S_,css:w_,default:Xce,internal_processStyles:Zce,keyframes:v_},Symbol.toStringTag,{value:"Module"})),ede=rf(Jce),tde=rf(_ue),nde=rf(Fue),rde=rf(Pue),ide=["values","unit","step"],ade=e=>{const n=Object.keys(e).map(t=>({key:t,val:e[t]}))||[];return n.sort((t,r)=>t.val-r.val),n.reduce((t,r)=>Xr({},t,{[r.key]:r.val}),{})};function IL(e){const{values:n={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5}=e,i=kh(e,ide),a=ade(n),s=Object.keys(a);function l(b){return`@media (min-width:${typeof n[b]=="number"?n[b]:b}${t})`}function u(b){return`@media (max-width:${(typeof n[b]=="number"?n[b]:b)-r/100}${t})`}function f(b,g){const v=s.indexOf(g);return`@media (min-width:${typeof n[b]=="number"?n[b]:b}${t}) and (max-width:${(v!==-1&&typeof n[s[v]]=="number"?n[s[v]]:g)-r/100}${t})`}function h(b){return s.indexOf(b)+1<s.length?f(b,s[s.indexOf(b)+1]):l(b)}function m(b){const g=s.indexOf(b);return g===0?l(s[1]):g===s.length-1?u(s[g]):f(b,s[s.indexOf(b)+1]).replace("@media","@media not all and")}return Xr({keys:s,values:a,up:l,down:u,between:f,only:h,not:m,unit:t},i)}const sde={borderRadius:4};function R1(e,n){return n?Yc(e,n,{clone:!1}):e}const BA={xs:0,sm:600,md:900,lg:1200,xl:1536},HN={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${BA[e]}px)`};function Xd(e,n,t){const r=e.theme||{};if(Array.isArray(n)){const i=r.breakpoints||HN;return n.reduce((a,s,l)=>(a[i.up(i.keys[l])]=t(n[l]),a),{})}if(typeof n=="object"){const i=r.breakpoints||HN;return Object.keys(n).reduce((a,s)=>{if(Object.keys(i.values||BA).indexOf(s)!==-1){const l=i.up(s);a[l]=t(n[s],s)}else{const l=s;a[l]=n[l]}return a},{})}return t(n)}function ode(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((t,r)=>{const i=e.up(r);return t[i]={},t},{}))||{}}function lde(e,n){return e.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},n)}function M2(e,n,t=!0){if(!n||typeof n!="string")return null;if(e&&e.vars&&t){const r=`vars.${n}`.split(".").reduce((i,a)=>i&&i[a]?i[a]:null,e);if(r!=null)return r}return n.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function Ov(e,n,t,r=t){let i;return typeof e=="function"?i=e(t):Array.isArray(e)?i=e[t]||r:i=M2(e,t)||r,n&&(i=n(i,r,e)),i}function Da(e){const{prop:n,cssProperty:t=e.prop,themeKey:r,transform:i}=e,a=s=>{if(s[n]==null)return null;const l=s[n],u=s.theme,f=M2(u,r)||{};return Xd(s,l,h=>{let m=Ov(f,i,h);return h===m&&typeof h=="string"&&(m=Ov(f,i,`${n}${h==="default"?"":bh(h)}`,h)),t===!1?m:{[t]:m}})};return a.propTypes={},a.filterProps=[n],a}function ude(e){const n={};return t=>(n[t]===void 0&&(n[t]=e(t)),n[t])}const cde={m:"margin",p:"padding"},dde={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},VN={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},fde=ude(e=>{if(e.length>2)if(VN[e])e=VN[e];else return[e];const[n,t]=e.split(""),r=cde[n],i=dde[t]||"";return Array.isArray(i)?i.map(a=>r+a):[r+i]}),$A=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],UA=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...$A,...UA];function $b(e,n,t,r){var i;const a=(i=M2(e,n,!1))!=null?i:t;return typeof a=="number"?s=>typeof s=="string"?s:a*s:Array.isArray(a)?s=>typeof s=="string"?s:a[s]:typeof a=="function"?a:()=>{}}function OL(e){return $b(e,"spacing",8)}function Ub(e,n){if(typeof n=="string"||n==null)return n;const t=Math.abs(n),r=e(t);return n>=0?r:typeof r=="number"?-r:`-${r}`}function hde(e,n){return t=>e.reduce((r,i)=>(r[i]=Ub(n,t),r),{})}function pde(e,n,t,r){if(n.indexOf(t)===-1)return null;const i=fde(t),a=hde(i,r),s=e[t];return Xd(e,s,a)}function ML(e,n){const t=OL(e.theme);return Object.keys(e).map(r=>pde(e,n,r,t)).reduce(R1,{})}function ra(e){return ML(e,$A)}ra.propTypes={};ra.filterProps=$A;function ia(e){return ML(e,UA)}ia.propTypes={};ia.filterProps=UA;function mde(e=8){if(e.mui)return e;const n=OL({spacing:e}),t=(...r)=>(r.length===0?[1]:r).map(i=>{const a=n(i);return typeof a=="number"?`${a}px`:a}).join(" ");return t.mui=!0,t}function L2(...e){const n=e.reduce((r,i)=>(i.filterProps.forEach(a=>{r[a]=i}),r),{}),t=r=>Object.keys(r).reduce((i,a)=>n[a]?R1(i,n[a](r)):i,{});return t.propTypes={},t.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),t}function Pl(e){return typeof e!="number"?e:`${e}px solid`}function Ql(e,n){return Da({prop:e,themeKey:"borders",transform:n})}const gde=Ql("border",Pl),bde=Ql("borderTop",Pl),yde=Ql("borderRight",Pl),xde=Ql("borderBottom",Pl),vde=Ql("borderLeft",Pl),wde=Ql("borderColor"),Sde=Ql("borderTopColor"),Cde=Ql("borderRightColor"),Ade=Ql("borderBottomColor"),kde=Ql("borderLeftColor"),Ede=Ql("outline",Pl),jde=Ql("outlineColor"),R2=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const n=$b(e.theme,"shape.borderRadius",4),t=r=>({borderRadius:Ub(n,r)});return Xd(e,e.borderRadius,t)}return null};R2.propTypes={};R2.filterProps=["borderRadius"];L2(gde,bde,yde,xde,vde,wde,Sde,Cde,Ade,kde,R2,Ede,jde);const P2=e=>{if(e.gap!==void 0&&e.gap!==null){const n=$b(e.theme,"spacing",8),t=r=>({gap:Ub(n,r)});return Xd(e,e.gap,t)}return null};P2.propTypes={};P2.filterProps=["gap"];const F2=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const n=$b(e.theme,"spacing",8),t=r=>({columnGap:Ub(n,r)});return Xd(e,e.columnGap,t)}return null};F2.propTypes={};F2.filterProps=["columnGap"];const z2=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const n=$b(e.theme,"spacing",8),t=r=>({rowGap:Ub(n,r)});return Xd(e,e.rowGap,t)}return null};z2.propTypes={};z2.filterProps=["rowGap"];const Tde=Da({prop:"gridColumn"}),Nde=Da({prop:"gridRow"}),Dde=Da({prop:"gridAutoFlow"}),_de=Da({prop:"gridAutoColumns"}),Ide=Da({prop:"gridAutoRows"}),Ode=Da({prop:"gridTemplateColumns"}),Mde=Da({prop:"gridTemplateRows"}),Lde=Da({prop:"gridTemplateAreas"}),Rde=Da({prop:"gridArea"});L2(P2,F2,z2,Tde,Nde,Dde,_de,Ide,Ode,Mde,Lde,Rde);function dm(e,n){return n==="grey"?n:e}const Pde=Da({prop:"color",themeKey:"palette",transform:dm}),Fde=Da({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:dm}),zde=Da({prop:"backgroundColor",themeKey:"palette",transform:dm});L2(Pde,Fde,zde);function Zo(e){return e<=1&&e!==0?`${e*100}%`:e}const qde=Da({prop:"width",transform:Zo}),HA=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const n=t=>{var r,i;const a=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[t])||BA[t];return a?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${a}${e.theme.breakpoints.unit}`}:{maxWidth:a}:{maxWidth:Zo(t)}};return Xd(e,e.maxWidth,n)}return null};HA.filterProps=["maxWidth"];const Bde=Da({prop:"minWidth",transform:Zo}),$de=Da({prop:"height",transform:Zo}),Ude=Da({prop:"maxHeight",transform:Zo}),Hde=Da({prop:"minHeight",transform:Zo});Da({prop:"size",cssProperty:"width",transform:Zo});Da({prop:"size",cssProperty:"height",transform:Zo});const Vde=Da({prop:"boxSizing"});L2(qde,HA,Bde,$de,Ude,Hde,Vde);const Hb={border:{themeKey:"borders",transform:Pl},borderTop:{themeKey:"borders",transform:Pl},borderRight:{themeKey:"borders",transform:Pl},borderBottom:{themeKey:"borders",transform:Pl},borderLeft:{themeKey:"borders",transform:Pl},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Pl},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:R2},color:{themeKey:"palette",transform:dm},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:dm},backgroundColor:{themeKey:"palette",transform:dm},p:{style:ia},pt:{style:ia},pr:{style:ia},pb:{style:ia},pl:{style:ia},px:{style:ia},py:{style:ia},padding:{style:ia},paddingTop:{style:ia},paddingRight:{style:ia},paddingBottom:{style:ia},paddingLeft:{style:ia},paddingX:{style:ia},paddingY:{style:ia},paddingInline:{style:ia},paddingInlineStart:{style:ia},paddingInlineEnd:{style:ia},paddingBlock:{style:ia},paddingBlockStart:{style:ia},paddingBlockEnd:{style:ia},m:{style:ra},mt:{style:ra},mr:{style:ra},mb:{style:ra},ml:{style:ra},mx:{style:ra},my:{style:ra},margin:{style:ra},marginTop:{style:ra},marginRight:{style:ra},marginBottom:{style:ra},marginLeft:{style:ra},marginX:{style:ra},marginY:{style:ra},marginInline:{style:ra},marginInlineStart:{style:ra},marginInlineEnd:{style:ra},marginBlock:{style:ra},marginBlockStart:{style:ra},marginBlockEnd:{style:ra},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:P2},rowGap:{style:z2},columnGap:{style:F2},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Zo},maxWidth:{style:HA},minWidth:{transform:Zo},height:{transform:Zo},maxHeight:{transform:Zo},minHeight:{transform:Zo},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Wde(...e){const n=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(n);return e.every(r=>t.size===Object.keys(r).length)}function Yde(e,n){return typeof e=="function"?e(n):e}function LL(){function e(t,r,i,a){const s={[t]:r,theme:i},l=a[t];if(!l)return{[t]:r};const{cssProperty:u=t,themeKey:f,transform:h,style:m}=l;if(r==null)return null;if(f==="typography"&&r==="inherit")return{[t]:r};const b=M2(i,f)||{};return m?m(s):Xd(s,r,g=>{let v=Ov(b,h,g);return g===v&&typeof g=="string"&&(v=Ov(b,h,`${t}${g==="default"?"":bh(g)}`,g)),u===!1?v:{[u]:v}})}function n(t){var r;const{sx:i,theme:a={}}=t||{};if(!i)return null;const s=(r=a.unstable_sxConfig)!=null?r:Hb;function l(u){let f=u;if(typeof u=="function")f=u(a);else if(typeof u!="object")return u;if(!f)return null;const h=ode(a.breakpoints),m=Object.keys(h);let b=h;return Object.keys(f).forEach(g=>{const v=Yde(f[g],a);if(v!=null)if(typeof v=="object")if(s[g])b=R1(b,e(g,v,a,s));else{const x=Xd({theme:a},v,C=>({[g]:C}));Wde(x,v)?b[g]=n({sx:v,theme:a}):b=R1(b,x)}else b=R1(b,e(g,v,a,s))}),lde(m,b)}return Array.isArray(i)?i.map(l):l(i)}return n}const q2=LL();q2.filterProps=["sx"];function RL(e,n){const t=this;return t.vars&&typeof t.getColorSchemeSelector=="function"?{[t.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:n}:t.palette.mode===e?n:{}}const Gde=["breakpoints","palette","spacing","shape"];function PL(e={},...n){const{breakpoints:t={},palette:r={},spacing:i,shape:a={}}=e,s=kh(e,Gde),l=IL(t),u=mde(i);let f=Yc({breakpoints:l,direction:"ltr",components:{},palette:Xr({mode:"light"},r),spacing:u,shape:Xr({},sde,a)},s);return f.applyStyles=RL,f=n.reduce((h,m)=>Yc(h,m),f),f.unstable_sxConfig=Xr({},Hb,s==null?void 0:s.unstable_sxConfig),f.unstable_sx=function(h){return q2({sx:h,theme:this})},f}const Qde=Object.freeze(Object.defineProperty({__proto__:null,default:PL,private_createBreakpoints:IL,unstable_applyStyles:RL},Symbol.toStringTag,{value:"Module"})),Kde=rf(Qde),Xde=["sx"],Zde=e=>{var n,t;const r={systemProps:{},otherProps:{}},i=(n=e==null||(t=e.theme)==null?void 0:t.unstable_sxConfig)!=null?n:Hb;return Object.keys(e).forEach(a=>{i[a]?r.systemProps[a]=e[a]:r.otherProps[a]=e[a]}),r};function Jde(e){const{sx:n}=e,t=kh(e,Xde),{systemProps:r,otherProps:i}=Zde(t);let a;return Array.isArray(n)?a=[r,...n]:typeof n=="function"?a=(...s)=>{const l=n(...s);return Yf(l)?Xr({},r,l):r}:a=Xr({},r,n),Xr({},i,{sx:a})}const efe=Object.freeze(Object.defineProperty({__proto__:null,default:q2,extendSxProp:Jde,unstable_createStyleFunctionSx:LL,unstable_defaultSxConfig:Hb},Symbol.toStringTag,{value:"Module"})),tfe=rf(efe);var WN;function nfe(){if(WN)return rp;WN=1;var e=N2();Object.defineProperty(rp,"__esModule",{value:!0}),rp.default=P,rp.shouldForwardProp=v,rp.systemDefaultTheme=void 0;var n=e(bce()),t=e(yce()),r=m(ede),i=tde;e(nde),e(rde);var a=e(Kde),s=e(tfe);const l=["ownerState"],u=["variants"],f=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function h(U){if(typeof WeakMap!="function")return null;var B=new WeakMap,j=new WeakMap;return(h=function(F){return F?j:B})(U)}function m(U,B){if(U&&U.__esModule)return U;if(U===null||typeof U!="object"&&typeof U!="function")return{default:U};var j=h(B);if(j&&j.has(U))return j.get(U);var F={__proto__:null},V=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var X in U)if(X!=="default"&&Object.prototype.hasOwnProperty.call(U,X)){var T=V?Object.getOwnPropertyDescriptor(U,X):null;T&&(T.get||T.set)?Object.defineProperty(F,X,T):F[X]=U[X]}return F.default=U,j&&j.set(U,F),F}function b(U){return Object.keys(U).length===0}function g(U){return typeof U=="string"&&U.charCodeAt(0)>96}function v(U){return U!=="ownerState"&&U!=="theme"&&U!=="sx"&&U!=="as"}const x=rp.systemDefaultTheme=(0,a.default)(),C=U=>U&&U.charAt(0).toLowerCase()+U.slice(1);function S({defaultTheme:U,theme:B,themeId:j}){return b(B)?U:B[j]||B}function A(U){return U?(B,j)=>j[U]:null}function N(U,B){let{ownerState:j}=B,F=(0,t.default)(B,l);const V=typeof U=="function"?U((0,n.default)({ownerState:j},F)):U;if(Array.isArray(V))return V.flatMap(X=>N(X,(0,n.default)({ownerState:j},F)));if(V&&typeof V=="object"&&Array.isArray(V.variants)){const{variants:X=[]}=V;let T=(0,t.default)(V,u);return X.forEach(D=>{let O=!0;typeof D.props=="function"?O=D.props((0,n.default)({ownerState:j},F,j)):Object.keys(D.props).forEach(L=>{(j==null?void 0:j[L])!==D.props[L]&&F[L]!==D.props[L]&&(O=!1)}),O&&(Array.isArray(T)||(T=[T]),T.push(typeof D.style=="function"?D.style((0,n.default)({ownerState:j},F,j)):D.style))}),T}return V}function P(U={}){const{themeId:B,defaultTheme:j=x,rootShouldForwardProp:F=v,slotShouldForwardProp:V=v}=U,X=T=>(0,s.default)((0,n.default)({},T,{theme:S((0,n.default)({},T,{defaultTheme:j,themeId:B}))}));return X.__mui_systemSx=!0,(T,D={})=>{(0,r.internal_processStyles)(T,ee=>ee.filter(ge=>!(ge!=null&&ge.__mui_systemSx)));const{name:O,slot:L,skipVariantsResolver:Q,skipSx:$,overridesResolver:Y=A(C(L))}=D,Z=(0,t.default)(D,f),re=Q!==void 0?Q:L&&L!=="Root"&&L!=="root"||!1,H=$||!1;let me,q=v;L==="Root"||L==="root"?q=F:L?q=V:g(T)&&(q=void 0);const z=(0,r.default)(T,(0,n.default)({shouldForwardProp:q,label:me},Z)),ne=ee=>typeof ee=="function"&&ee.__emotion_real!==ee||(0,i.isPlainObject)(ee)?ge=>N(ee,(0,n.default)({},ge,{theme:S({theme:ge.theme,defaultTheme:j,themeId:B})})):ee,oe=(ee,...ge)=>{let de=ne(ee);const ye=ge?ge.map(ne):[];O&&Y&&ye.push(je=>{const Ee=S((0,n.default)({},je,{defaultTheme:j,themeId:B}));if(!Ee.components||!Ee.components[O]||!Ee.components[O].styleOverrides)return null;const Ue=Ee.components[O].styleOverrides,Oe={};return Object.entries(Ue).forEach(([pe,tt])=>{Oe[pe]=N(tt,(0,n.default)({},je,{theme:Ee}))}),Y(je,Oe)}),O&&!re&&ye.push(je=>{var Ee;const Ue=S((0,n.default)({},je,{defaultTheme:j,themeId:B})),Oe=Ue==null||(Ee=Ue.components)==null||(Ee=Ee[O])==null?void 0:Ee.variants;return N({variants:Oe},(0,n.default)({},je,{theme:Ue}))}),H||ye.push(X);const we=ye.length-ge.length;if(Array.isArray(ee)&&we>0){const je=new Array(we).fill("");de=[...ee,...je],de.raw=[...ee.raw,...je]}const ve=z(de,...ye);return T.muiName&&(ve.muiName=T.muiName),ve};return z.withConfig&&(oe.withConfig=z.withConfig),oe}}return rp}var rfe=nfe();const ife=RA(rfe);function afe(e,n){return Xr({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},n)}var $i={};const sfe=rf(Iue),ofe=rf(dce);var YN;function lfe(){if(YN)return $i;YN=1;var e=N2();Object.defineProperty($i,"__esModule",{value:!0}),$i.alpha=v,$i.blend=B,$i.colorChannel=void 0,$i.darken=C,$i.decomposeColor=s,$i.emphasize=P,$i.getContrastRatio=g,$i.getLuminance=b,$i.hexToRgb=i,$i.hslToRgb=m,$i.lighten=A,$i.private_safeAlpha=x,$i.private_safeColorChannel=void 0,$i.private_safeDarken=S,$i.private_safeEmphasize=U,$i.private_safeLighten=N,$i.recomposeColor=f,$i.rgbToHex=h;var n=e(sfe),t=e(ofe);function r(j,F=0,V=1){return(0,t.default)(j,F,V)}function i(j){j=j.slice(1);const F=new RegExp(`.{1,${j.length>=6?2:1}}`,"g");let V=j.match(F);return V&&V[0].length===1&&(V=V.map(X=>X+X)),V?`rgb${V.length===4?"a":""}(${V.map((X,T)=>T<3?parseInt(X,16):Math.round(parseInt(X,16)/255*1e3)/1e3).join(", ")})`:""}function a(j){const F=j.toString(16);return F.length===1?`0${F}`:F}function s(j){if(j.type)return j;if(j.charAt(0)==="#")return s(i(j));const F=j.indexOf("("),V=j.substring(0,F);if(["rgb","rgba","hsl","hsla","color"].indexOf(V)===-1)throw new Error((0,n.default)(9,j));let X=j.substring(F+1,j.length-1),T;if(V==="color"){if(X=X.split(" "),T=X.shift(),X.length===4&&X[3].charAt(0)==="/"&&(X[3]=X[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(T)===-1)throw new Error((0,n.default)(10,T))}else X=X.split(",");return X=X.map(D=>parseFloat(D)),{type:V,values:X,colorSpace:T}}const l=j=>{const F=s(j);return F.values.slice(0,3).map((V,X)=>F.type.indexOf("hsl")!==-1&&X!==0?`${V}%`:V).join(" ")};$i.colorChannel=l;const u=(j,F)=>{try{return l(j)}catch{return j}};$i.private_safeColorChannel=u;function f(j){const{type:F,colorSpace:V}=j;let{values:X}=j;return F.indexOf("rgb")!==-1?X=X.map((T,D)=>D<3?parseInt(T,10):T):F.indexOf("hsl")!==-1&&(X[1]=`${X[1]}%`,X[2]=`${X[2]}%`),F.indexOf("color")!==-1?X=`${V} ${X.join(" ")}`:X=`${X.join(", ")}`,`${F}(${X})`}function h(j){if(j.indexOf("#")===0)return j;const{values:F}=s(j);return`#${F.map((V,X)=>a(X===3?Math.round(255*V):V)).join("")}`}function m(j){j=s(j);const{values:F}=j,V=F[0],X=F[1]/100,T=F[2]/100,D=X*Math.min(T,1-T),O=($,Y=($+V/30)%12)=>T-D*Math.max(Math.min(Y-3,9-Y,1),-1);let L="rgb";const Q=[Math.round(O(0)*255),Math.round(O(8)*255),Math.round(O(4)*255)];return j.type==="hsla"&&(L+="a",Q.push(F[3])),f({type:L,values:Q})}function b(j){j=s(j);let F=j.type==="hsl"||j.type==="hsla"?s(m(j)).values:j.values;return F=F.map(V=>(j.type!=="color"&&(V/=255),V<=.03928?V/12.92:((V+.055)/1.055)**2.4)),Number((.2126*F[0]+.7152*F[1]+.0722*F[2]).toFixed(3))}function g(j,F){const V=b(j),X=b(F);return(Math.max(V,X)+.05)/(Math.min(V,X)+.05)}function v(j,F){return j=s(j),F=r(F),(j.type==="rgb"||j.type==="hsl")&&(j.type+="a"),j.type==="color"?j.values[3]=`/${F}`:j.values[3]=F,f(j)}function x(j,F,V){try{return v(j,F)}catch{return j}}function C(j,F){if(j=s(j),F=r(F),j.type.indexOf("hsl")!==-1)j.values[2]*=1-F;else if(j.type.indexOf("rgb")!==-1||j.type.indexOf("color")!==-1)for(let V=0;V<3;V+=1)j.values[V]*=1-F;return f(j)}function S(j,F,V){try{return C(j,F)}catch{return j}}function A(j,F){if(j=s(j),F=r(F),j.type.indexOf("hsl")!==-1)j.values[2]+=(100-j.values[2])*F;else if(j.type.indexOf("rgb")!==-1)for(let V=0;V<3;V+=1)j.values[V]+=(255-j.values[V])*F;else if(j.type.indexOf("color")!==-1)for(let V=0;V<3;V+=1)j.values[V]+=(1-j.values[V])*F;return f(j)}function N(j,F,V){try{return A(j,F)}catch{return j}}function P(j,F=.15){return b(j)>.5?C(j,F):A(j,F)}function U(j,F,V){try{return P(j,F)}catch{return j}}function B(j,F,V,X=1){const T=(Q,$)=>Math.round((Q**(1/X)*(1-V)+$**(1/X)*V)**X),D=s(j),O=s(F),L=[T(D.values[0],O.values[0]),T(D.values[1],O.values[1]),T(D.values[2],O.values[2])];return f({type:"rgb",values:L})}return $i}var X6=lfe();const fb={black:"#000",white:"#fff"},ufe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},A0={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},k0={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},u1={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},E0={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},j0={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},T0={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},cfe=["mode","contrastThreshold","tonalOffset"],GN={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:fb.white,default:fb.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},SS={text:{primary:fb.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:fb.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function QN(e,n,t,r){const i=r.light||r,a=r.dark||r*1.5;e[n]||(e.hasOwnProperty(t)?e[n]=e[t]:n==="light"?e.light=X6.lighten(e.main,i):n==="dark"&&(e.dark=X6.darken(e.main,a)))}function dfe(e="light"){return e==="dark"?{main:E0[200],light:E0[50],dark:E0[400]}:{main:E0[700],light:E0[400],dark:E0[800]}}function ffe(e="light"){return e==="dark"?{main:A0[200],light:A0[50],dark:A0[400]}:{main:A0[500],light:A0[300],dark:A0[700]}}function hfe(e="light"){return e==="dark"?{main:k0[500],light:k0[300],dark:k0[700]}:{main:k0[700],light:k0[400],dark:k0[800]}}function pfe(e="light"){return e==="dark"?{main:j0[400],light:j0[300],dark:j0[700]}:{main:j0[700],light:j0[500],dark:j0[900]}}function mfe(e="light"){return e==="dark"?{main:T0[400],light:T0[300],dark:T0[700]}:{main:T0[800],light:T0[500],dark:T0[900]}}function gfe(e="light"){return e==="dark"?{main:u1[400],light:u1[300],dark:u1[700]}:{main:"#ed6c02",light:u1[500],dark:u1[900]}}function bfe(e){const{mode:n="light",contrastThreshold:t=3,tonalOffset:r=.2}=e,i=kh(e,cfe),a=e.primary||dfe(n),s=e.secondary||ffe(n),l=e.error||hfe(n),u=e.info||pfe(n),f=e.success||mfe(n),h=e.warning||gfe(n);function m(v){return X6.getContrastRatio(v,SS.text.primary)>=t?SS.text.primary:GN.text.primary}const b=({color:v,name:x,mainShade:C=500,lightShade:S=300,darkShade:A=700})=>{if(v=Xr({},v),!v.main&&v[C]&&(v.main=v[C]),!v.hasOwnProperty("main"))throw new Error(ub(11,x?` (${x})`:"",C));if(typeof v.main!="string")throw new Error(ub(12,x?` (${x})`:"",JSON.stringify(v.main)));return QN(v,"light",S,r),QN(v,"dark",A,r),v.contrastText||(v.contrastText=m(v.main)),v},g={dark:SS,light:GN};return Yc(Xr({common:Xr({},fb),mode:n,primary:b({color:a,name:"primary"}),secondary:b({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:b({color:l,name:"error"}),warning:b({color:h,name:"warning"}),info:b({color:u,name:"info"}),success:b({color:f,name:"success"}),grey:ufe,contrastThreshold:t,getContrastText:m,augmentColor:b,tonalOffset:r},g[n]),i)}const yfe=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function xfe(e){return Math.round(e*1e5)/1e5}const KN={textTransform:"uppercase"},XN='"Roboto", "Helvetica", "Arial", sans-serif';function vfe(e,n){const t=typeof n=="function"?n(e):n,{fontFamily:r=XN,fontSize:i=14,fontWeightLight:a=300,fontWeightRegular:s=400,fontWeightMedium:l=500,fontWeightBold:u=700,htmlFontSize:f=16,allVariants:h,pxToRem:m}=t,b=kh(t,yfe),g=i/14,v=m||(S=>`${S/f*g}rem`),x=(S,A,N,P,U)=>Xr({fontFamily:r,fontWeight:S,fontSize:v(A),lineHeight:N},r===XN?{letterSpacing:`${xfe(P/A)}em`}:{},U,h),C={h1:x(a,96,1.167,-1.5),h2:x(a,60,1.2,-.5),h3:x(s,48,1.167,0),h4:x(s,34,1.235,.25),h5:x(s,24,1.334,0),h6:x(l,20,1.6,.15),subtitle1:x(s,16,1.75,.15),subtitle2:x(l,14,1.57,.1),body1:x(s,16,1.5,.15),body2:x(s,14,1.43,.15),button:x(l,14,1.75,.4,KN),caption:x(s,12,1.66,.4),overline:x(s,12,2.66,1,KN),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Yc(Xr({htmlFontSize:f,pxToRem:v,fontFamily:r,fontSize:i,fontWeightLight:a,fontWeightRegular:s,fontWeightMedium:l,fontWeightBold:u},C),b,{clone:!1})}const wfe=.2,Sfe=.14,Cfe=.12;function Ei(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${wfe})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Sfe})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Cfe})`].join(",")}const Afe=["none",Ei(0,2,1,-1,0,1,1,0,0,1,3,0),Ei(0,3,1,-2,0,2,2,0,0,1,5,0),Ei(0,3,3,-2,0,3,4,0,0,1,8,0),Ei(0,2,4,-1,0,4,5,0,0,1,10,0),Ei(0,3,5,-1,0,5,8,0,0,1,14,0),Ei(0,3,5,-1,0,6,10,0,0,1,18,0),Ei(0,4,5,-2,0,7,10,1,0,2,16,1),Ei(0,5,5,-3,0,8,10,1,0,3,14,2),Ei(0,5,6,-3,0,9,12,1,0,3,16,2),Ei(0,6,6,-3,0,10,14,1,0,4,18,3),Ei(0,6,7,-4,0,11,15,1,0,4,20,3),Ei(0,7,8,-4,0,12,17,2,0,5,22,4),Ei(0,7,8,-4,0,13,19,2,0,5,24,4),Ei(0,7,9,-4,0,14,21,2,0,5,26,4),Ei(0,8,9,-5,0,15,22,2,0,6,28,5),Ei(0,8,10,-5,0,16,24,2,0,6,30,5),Ei(0,8,11,-5,0,17,26,2,0,6,32,5),Ei(0,9,11,-5,0,18,28,2,0,7,34,6),Ei(0,9,12,-6,0,19,29,2,0,7,36,6),Ei(0,10,13,-6,0,20,31,3,0,8,38,7),Ei(0,10,13,-6,0,21,33,3,0,8,40,7),Ei(0,10,14,-6,0,22,35,3,0,8,42,7),Ei(0,11,14,-7,0,23,36,3,0,9,44,8),Ei(0,11,15,-7,0,24,38,3,0,9,46,8)],kfe=["duration","easing","delay"],Efe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},jfe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function ZN(e){return`${Math.round(e)}ms`}function Tfe(e){if(!e)return 0;const n=e/36;return Math.round((4+15*n**.25+n/5)*10)}function Nfe(e){const n=Xr({},Efe,e.easing),t=Xr({},jfe,e.duration);return Xr({getAutoHeightDuration:Tfe,create:(r=["all"],i={})=>{const{duration:a=t.standard,easing:s=n.easeInOut,delay:l=0}=i;return kh(i,kfe),(Array.isArray(r)?r:[r]).map(u=>`${u} ${typeof a=="string"?a:ZN(a)} ${s} ${typeof l=="string"?l:ZN(l)}`).join(",")}},e,{easing:n,duration:t})}const Dfe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},_fe=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Ife(e={},...n){const{mixins:t={},palette:r={},transitions:i={},typography:a={}}=e,s=kh(e,_fe);if(e.vars)throw new Error(ub(18));const l=bfe(r),u=PL(e);let f=Yc(u,{mixins:afe(u.breakpoints,t),palette:l,shadows:Afe.slice(),typography:vfe(l,a),transitions:Nfe(i),zIndex:Xr({},Dfe)});return f=Yc(f,s),f=n.reduce((h,m)=>Yc(h,m),f),f.unstable_sxConfig=Xr({},Hb,s==null?void 0:s.unstable_sxConfig),f.unstable_sx=function(h){return q2({sx:h,theme:this})},f}const Ofe=Ife(),Mfe="$$material";function Lfe(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Rfe=e=>Lfe(e)&&e!=="classes",Pfe=ife({themeId:Mfe,defaultTheme:Ofe,rootShouldForwardProp:Rfe});function Ffe(e){return CL("MuiSvgIcon",e)}uce("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const zfe=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],qfe=e=>{const{color:n,fontSize:t,classes:r}=e,i={root:["root",n!=="inherit"&&`color${bh(n)}`,`fontSize${bh(t)}`]};return sce(i,Ffe,r)},Bfe=Pfe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,t.color!=="inherit"&&n[`color${bh(t.color)}`],n[`fontSize${bh(t.fontSize)}`]]}})(({theme:e,ownerState:n})=>{var t,r,i,a,s,l,u,f,h,m,b,g,v;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(t=e.transitions)==null||(r=t.create)==null?void 0:r.call(t,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((a=e.typography)==null||(s=a.pxToRem)==null?void 0:s.call(a,20))||"1.25rem",medium:((l=e.typography)==null||(u=l.pxToRem)==null?void 0:u.call(l,24))||"1.5rem",large:((f=e.typography)==null||(h=f.pxToRem)==null?void 0:h.call(f,35))||"2.1875rem"}[n.fontSize],color:(m=(b=(e.vars||e).palette)==null||(b=b[n.color])==null?void 0:b.main)!=null?m:{action:(g=(e.vars||e).palette)==null||(g=g.action)==null?void 0:g.active,disabled:(v=(e.vars||e).palette)==null||(v=v.action)==null?void 0:v.disabled,inherit:void 0}[n.color]}}),Z6=M.forwardRef(function(e,n){const t=gce({props:e,name:"MuiSvgIcon"}),{children:r,className:i,color:a="inherit",component:s="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:f=!1,titleAccess:h,viewBox:m="0 0 24 24"}=t,b=kh(t,zfe),g=M.isValidElement(r)&&r.type==="svg",v=Xr({},t,{color:a,component:s,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:f,viewBox:m,hasSvgAsChild:g}),x={};f||(x.viewBox=m);const C=qfe(v);return En.jsxs(Bfe,Xr({as:s,className:fce(C.root,i),focusable:"false",color:u,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n},x,b,g&&r.props,{ownerState:v,children:[g?r.props.children:r,h?En.jsx("title",{children:h}):null]}))});Z6.muiName="SvgIcon";function $fe(e,n){function t(r,i){return En.jsx(Z6,Xr({"data-testid":`${n}Icon`,ref:i},r,{children:e}))}return t.muiName=Z6.muiName,M.memo(M.forwardRef(t))}const Ufe={configure:e=>{SL.configure(e)}},Hfe=Object.freeze(Object.defineProperty({__proto__:null,capitalize:bh,createChainedFunction:zue,createSvgIcon:$fe,debounce:que,deprecatedPropType:Bue,isMuiElement:$ue,ownerDocument:yL,ownerWindow:Uue,requirePropFactory:Hue,setRef:xL,unstable_ClassNameGenerator:Ufe,unstable_useEnhancedEffect:vL,unstable_useId:Wue,unsupportedProp:Yue,useControlled:Gue,useEventCallback:Que,useForkRef:Kue,useIsFocusVisible:ace},Symbol.toStringTag,{value:"Module"})),Vfe=rf(Hfe);var JN;function FL(){return JN||(JN=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=Vfe}(TN)),TN}var eD;function Wfe(){if(eD)return o1;eD=1;var e=N2();Object.defineProperty(o1,"__esModule",{value:!0}),o1.default=void 0;var n=e(FL()),t=PA();return o1.default=(0,n.default)((0,t.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 9h12v2H6zm8 5H6v-2h8zm4-6H6V6h12z"}),"Chat"),o1}var Yfe=Wfe();const Gfe=RA(Yfe),CS={chatToggleButton:{position:"fixed",bottom:20,right:20,bgcolor:"#CDDAFF",color:"white",width:60,height:60,borderRadius:"50%",boxShadow:"0px 4px 15px rgba(0, 0, 0, 0.3)","&:hover":{bgcolor:"#0B53C0"},transition:"background-color 0.3s, transform 0.3s","&:active":{transform:"scale(0.95)"}},chatContainer:(e,n)=>({position:"fixed",bottom:e?0:20,right:e?0:20,width:e?"80%":n?"60%":650,height:e?"50%":n?"55%":700,padding:e?1:2,display:"flex",flexDirection:"column",borderRadius:e?0:"16px",backgroundColor:"#F0F4FF",boxShadow:"0px 10px 30px rgba(0, 0, 0, 0.2)"}),chatHeader:{fontFamily:"Staatliches, Arial, sans-serif",fontWeight:"bold",color:"black",fontSize:"1.25rem"},chatMessageInput:{"& .MuiOutlinedInput-root":{fontFamily:"Gabarito, Arial, sans-serif",borderRadius:"20px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#185cc4"}}},chatMessageBox:{maxWidth:"70%",borderRadius:"15px",padding:1,paddingX:2,boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)","&.user":{bgcolor:"#f0f0f0",color:"#555",alignSelf:"flex-end"},"&.bot":{bgcolor:"#CDDAFF",color:"black",alignSelf:"flex-start","&:hover":{bgcolor:"#0B53C0",color:"white"}}},chatButtons:{backgroundColor:"#CDDAFF",color:"black",fontFamily:"Staatliches, sans-serif",fontSize:"1.25rem","&:hover":{backgroundColor:"#0B53C0",color:"white"}}},Qfe=({responses:e})=>En.jsx(se,{sx:{flexGrow:1,overflowY:"auto",display:"flex",flexDirection:"column",gap:2,padding:2,backgroundColor:"transparent"},children:e.length>0?e.map((n,t)=>En.jsxs(se,{sx:{display:"flex",flexDirection:"column",alignItems:n.question?"flex-end":"flex-start"},children:[n.question&&En.jsx(se,{sx:{maxWidth:"70%",bgcolor:"#f0f0f0",color:"#555",borderRadius:"15px",p:1,px:2,mb:2,alignSelf:"flex-end",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)"},children:En.jsx(te,{variant:"body1",sx:{fontFamily:"Gabarito, Arial, sans-serif",fontSize:"1rem",color:"#555"},children:n.question})}),(n.answer||n.text)&&En.jsx(se,{sx:{maxWidth:"70%",bgcolor:"#CDDAFF",color:"black",borderRadius:"15px",p:1,px:2,alignSelf:"flex-start",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.2)",mb:.3,"&:hover":{bgcolor:"#0B53C0",color:"white"}},children:En.jsx(te,{variant:"body1",sx:{fontFamily:"Gabarito, Arial, sans-serif",fontSize:"1rem",color:"inherit",transition:"color 0.3s ease"},children:En.jsx(LA,{children:n.answer||n.text})})})]},t)):En.jsx(te,{variant:"body2",sx:{textAlign:"center",color:"#6c757d",fontFamily:"Gabarito, Arial, sans-serif"},children:"No messages yet. Start the conversation!"})}),Kfe=({onSendMessage:e,onStartConversation:n,onEndConversation:t,conversationId:r})=>{const[i,a]=M.useState(""),s=()=>{i.trim()&&(e(i),a(""))},l=()=>{r||n()},u=()=>{r&&t()};return En.jsxs(se,{sx:{display:"flex",flexDirection:"column",gap:2,mt:2},children:[En.jsxs(se,{sx:{display:"flex",gap:1},children:[En.jsx(tn,{variant:"outlined",placeholder:"Type your message...",fullWidth:!0,size:"small",value:i,onChange:f=>a(f.target.value),onKeyDown:f=>{f.key==="Enter"&&s()},sx:{"& .MuiOutlinedInput-root":{borderRadius:"20px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#185cc4"}}}}),En.jsx(xt,{variant:"contained",onClick:s,sx:{backgroundColor:"#CDDAFF",color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none","&:hover":{backgroundColor:"#0B53C0",color:"#fff"}},children:"Send"})]}),r?En.jsx(xt,{variant:"outlined",onClick:u,sx:{color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none",borderColor:"#CDDAFF","&:hover":{borderColor:"#0B53C0",color:"#0B53C0"}},children:"END CONVERSATION"}):En.jsx(xt,{variant:"contained",onClick:l,sx:{backgroundColor:"#CDDAFF",color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none","&:hover":{backgroundColor:"#0B53C0",color:"#fff"}},children:"START CONVERSATION"})]})};var c1={},tD;function Xfe(){if(tD)return c1;tD=1;var e=N2();Object.defineProperty(c1,"__esModule",{value:!0}),c1.default=void 0;var n=e(FL()),t=PA();return c1.default=(0,n.default)((0,t.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),c1}var Zfe=Xfe();const Jfe=RA(Zfe);function zL(e,n){return function(){return e.apply(n,arguments)}}const{toString:ehe}=Object.prototype,{getPrototypeOf:VA}=Object,B2=(e=>n=>{const t=ehe.call(n);return e[t]||(e[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Wu=e=>(e=e.toLowerCase(),n=>B2(n)===e),$2=e=>n=>typeof n===e,{isArray:$m}=Array,hb=$2("undefined");function the(e){return e!==null&&!hb(e)&&e.constructor!==null&&!hb(e.constructor)&&al(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const qL=Wu("ArrayBuffer");function nhe(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&qL(e.buffer),n}const rhe=$2("string"),al=$2("function"),BL=$2("number"),U2=e=>e!==null&&typeof e=="object",ihe=e=>e===!0||e===!1,Yx=e=>{if(B2(e)!=="object")return!1;const n=VA(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ahe=Wu("Date"),she=Wu("File"),ohe=Wu("Blob"),lhe=Wu("FileList"),uhe=e=>U2(e)&&al(e.pipe),che=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||al(e.append)&&((n=B2(e))==="formdata"||n==="object"&&al(e.toString)&&e.toString()==="[object FormData]"))},dhe=Wu("URLSearchParams"),[fhe,hhe,phe,mhe]=["ReadableStream","Request","Response","Headers"].map(Wu),ghe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Vb(e,n,{allOwnKeys:t=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),$m(e))for(r=0,i=e.length;r<i;r++)n.call(null,e[r],r,e);else{const a=t?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;let l;for(r=0;r<s;r++)l=a[r],n.call(null,e[l],l,e)}}function $L(e,n){n=n.toLowerCase();const t=Object.keys(e);let r=t.length,i;for(;r-- >0;)if(i=t[r],n===i.toLowerCase())return i;return null}const fp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,UL=e=>!hb(e)&&e!==fp;function J6(){const{caseless:e}=UL(this)&&this||{},n={},t=(r,i)=>{const a=e&&$L(n,i)||i;Yx(n[a])&&Yx(r)?n[a]=J6(n[a],r):Yx(r)?n[a]=J6({},r):$m(r)?n[a]=r.slice():n[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Vb(arguments[r],t);return n}const bhe=(e,n,t,{allOwnKeys:r}={})=>(Vb(n,(i,a)=>{t&&al(i)?e[a]=zL(i,t):e[a]=i},{allOwnKeys:r}),e),yhe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),xhe=(e,n,t,r)=>{e.prototype=Object.create(n.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),t&&Object.assign(e.prototype,t)},vhe=(e,n,t,r)=>{let i,a,s;const l={};if(n=n||{},e==null)return n;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)s=i[a],(!r||r(s,e,n))&&!l[s]&&(n[s]=e[s],l[s]=!0);e=t!==!1&&VA(e)}while(e&&(!t||t(e,n))&&e!==Object.prototype);return n},whe=(e,n,t)=>{e=String(e),(t===void 0||t>e.length)&&(t=e.length),t-=n.length;const r=e.indexOf(n,t);return r!==-1&&r===t},She=e=>{if(!e)return null;if($m(e))return e;let n=e.length;if(!BL(n))return null;const t=new Array(n);for(;n-- >0;)t[n]=e[n];return t},Che=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&VA(Uint8Array)),Ahe=(e,n)=>{const t=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=t.next())&&!r.done;){const i=r.value;n.call(e,i[0],i[1])}},khe=(e,n)=>{let t;const r=[];for(;(t=e.exec(n))!==null;)r.push(t);return r},Ehe=Wu("HTMLFormElement"),jhe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,t,r){return t.toUpperCase()+r}),nD=(({hasOwnProperty:e})=>(n,t)=>e.call(n,t))(Object.prototype),The=Wu("RegExp"),HL=(e,n)=>{const t=Object.getOwnPropertyDescriptors(e),r={};Vb(t,(i,a)=>{let s;(s=n(i,a,e))!==!1&&(r[a]=s||i)}),Object.defineProperties(e,r)},Nhe=e=>{HL(e,(n,t)=>{if(al(e)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=e[t];if(al(r)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Dhe=(e,n)=>{const t={},r=i=>{i.forEach(a=>{t[a]=!0})};return $m(e)?r(e):r(String(e).split(n)),t},_he=()=>{},Ihe=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n,AS="abcdefghijklmnopqrstuvwxyz",rD="0123456789",VL={DIGIT:rD,ALPHA:AS,ALPHA_DIGIT:AS+AS.toUpperCase()+rD},Ohe=(e=16,n=VL.ALPHA_DIGIT)=>{let t="";const{length:r}=n;for(;e--;)t+=n[Math.random()*r|0];return t};function Mhe(e){return!!(e&&al(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Lhe=e=>{const n=new Array(10),t=(r,i)=>{if(U2(r)){if(n.indexOf(r)>=0)return;if(!("toJSON"in r)){n[i]=r;const a=$m(r)?[]:{};return Vb(r,(s,l)=>{const u=t(s,i+1);!hb(u)&&(a[l]=u)}),n[i]=void 0,a}}return r};return t(e,0)},Rhe=Wu("AsyncFunction"),Phe=e=>e&&(U2(e)||al(e))&&al(e.then)&&al(e.catch),WL=((e,n)=>e?setImmediate:n?((t,r)=>(fp.addEventListener("message",({source:i,data:a})=>{i===fp&&a===t&&r.length&&r.shift()()},!1),i=>{r.push(i),fp.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",al(fp.postMessage)),Fhe=typeof queueMicrotask<"u"?queueMicrotask.bind(fp):typeof process<"u"&&process.nextTick||WL,st={isArray:$m,isArrayBuffer:qL,isBuffer:the,isFormData:che,isArrayBufferView:nhe,isString:rhe,isNumber:BL,isBoolean:ihe,isObject:U2,isPlainObject:Yx,isReadableStream:fhe,isRequest:hhe,isResponse:phe,isHeaders:mhe,isUndefined:hb,isDate:ahe,isFile:she,isBlob:ohe,isRegExp:The,isFunction:al,isStream:uhe,isURLSearchParams:dhe,isTypedArray:Che,isFileList:lhe,forEach:Vb,merge:J6,extend:bhe,trim:ghe,stripBOM:yhe,inherits:xhe,toFlatObject:vhe,kindOf:B2,kindOfTest:Wu,endsWith:whe,toArray:She,forEachEntry:Ahe,matchAll:khe,isHTMLForm:Ehe,hasOwnProperty:nD,hasOwnProp:nD,reduceDescriptors:HL,freezeMethods:Nhe,toObjectSet:Dhe,toCamelCase:jhe,noop:_he,toFiniteNumber:Ihe,findKey:$L,global:fp,isContextDefined:UL,ALPHABET:VL,generateString:Ohe,isSpecCompliantForm:Mhe,toJSONObject:Lhe,isAsyncFn:Rhe,isThenable:Phe,setImmediate:WL,asap:Fhe};function Ln(e,n,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}st.inherits(Ln,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:st.toJSONObject(this.config),code:this.code,status:this.status}}});const YL=Ln.prototype,GL={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{GL[e]={value:e}});Object.defineProperties(Ln,GL);Object.defineProperty(YL,"isAxiosError",{value:!0});Ln.from=(e,n,t,r,i,a)=>{const s=Object.create(YL);return st.toFlatObject(e,s,function(l){return l!==Error.prototype},l=>l!=="isAxiosError"),Ln.call(s,e.message,n,t,r,i),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};const zhe=null;function eC(e){return st.isPlainObject(e)||st.isArray(e)}function QL(e){return st.endsWith(e,"[]")?e.slice(0,-2):e}function iD(e,n,t){return e?e.concat(n).map(function(r,i){return r=QL(r),!t&&i?"["+r+"]":r}).join(t?".":""):n}function qhe(e){return st.isArray(e)&&!e.some(eC)}const Bhe=st.toFlatObject(st,{},null,function(e){return/^is[A-Z]/.test(e)});function H2(e,n,t){if(!st.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,t=st.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,v){return!st.isUndefined(v[g])});const r=t.metaTokens,i=t.visitor||f,a=t.dots,s=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&st.isSpecCompliantForm(n);if(!st.isFunction(i))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(st.isDate(g))return g.toISOString();if(!l&&st.isBlob(g))throw new Ln("Blob is not supported. Use a Buffer instead.");return st.isArrayBuffer(g)||st.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function f(g,v,x){let C=g;if(g&&!x&&typeof g=="object"){if(st.endsWith(v,"{}"))v=r?v:v.slice(0,-2),g=JSON.stringify(g);else if(st.isArray(g)&&qhe(g)||(st.isFileList(g)||st.endsWith(v,"[]"))&&(C=st.toArray(g)))return v=QL(v),C.forEach(function(S,A){!(st.isUndefined(S)||S===null)&&n.append(s===!0?iD([v],A,a):s===null?v:v+"[]",u(S))}),!1}return eC(g)?!0:(n.append(iD(x,v,a),u(g)),!1)}const h=[],m=Object.assign(Bhe,{defaultVisitor:f,convertValue:u,isVisitable:eC});function b(g,v){if(!st.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(g),st.forEach(g,function(x,C){(!(st.isUndefined(x)||x===null)&&i.call(n,x,st.isString(C)?C.trim():C,v,m))===!0&&b(x,v?v.concat(C):[C])}),h.pop()}}if(!st.isObject(e))throw new TypeError("data must be an object");return b(e),n}function aD(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(t){return n[t]})}function WA(e,n){this._pairs=[],e&&H2(e,this,n)}const KL=WA.prototype;KL.append=function(e,n){this._pairs.push([e,n])};KL.toString=function(e){const n=e?function(t){return e.call(this,t,aD)}:aD;return this._pairs.map(function(t){return n(t[0])+"="+n(t[1])},"").join("&")};function $he(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function XL(e,n,t){if(!n)return e;const r=t&&t.encode||$he;st.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let a;if(i?a=i(n,t):a=st.isURLSearchParams(n)?n.toString():new WA(n,t).toString(r),a){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}let sD=class{constructor(){this.handlers=[]}use(n,t,r){return this.handlers.push({fulfilled:n,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){st.forEach(this.handlers,function(t){t!==null&&n(t)})}};const ZL={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Uhe=typeof URLSearchParams<"u"?URLSearchParams:WA,Hhe=typeof FormData<"u"?FormData:null,Vhe=typeof Blob<"u"?Blob:null,Whe={isBrowser:!0,classes:{URLSearchParams:Uhe,FormData:Hhe,Blob:Vhe},protocols:["http","https","file","blob","url","data"]},YA=typeof window<"u"&&typeof document<"u",tC=typeof navigator=="object"&&navigator||void 0,Yhe=YA&&(!tC||["ReactNative","NativeScript","NS"].indexOf(tC.product)<0),Ghe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Qhe=YA&&window.location.href||"http://localhost",Khe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:YA,hasStandardBrowserEnv:Yhe,hasStandardBrowserWebWorkerEnv:Ghe,navigator:tC,origin:Qhe},Symbol.toStringTag,{value:"Module"})),Ys={...Khe,...Whe};function Xhe(e,n){return H2(e,new Ys.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,a){return Ys.isNode&&st.isBuffer(t)?(this.append(r,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},n))}function Zhe(e){return st.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function Jhe(e){const n={},t=Object.keys(e);let r;const i=t.length;let a;for(r=0;r<i;r++)a=t[r],n[a]=e[a];return n}function JL(e){function n(t,r,i,a){let s=t[a++];if(s==="__proto__")return!0;const l=Number.isFinite(+s),u=a>=t.length;return s=!s&&st.isArray(i)?i.length:s,u?(st.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!l):((!i[s]||!st.isObject(i[s]))&&(i[s]=[]),n(t,r,i[s],a)&&st.isArray(i[s])&&(i[s]=Jhe(i[s])),!l)}if(st.isFormData(e)&&st.isFunction(e.entries)){const t={};return st.forEachEntry(e,(r,i)=>{n(Zhe(r),i,t,0)}),t}return null}function epe(e,n,t){if(st.isString(e))try{return(n||JSON.parse)(e),st.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(e)}const Wb={transitional:ZL,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const t=n.getContentType()||"",r=t.indexOf("application/json")>-1,i=st.isObject(e);if(i&&st.isHTMLForm(e)&&(e=new FormData(e)),st.isFormData(e))return r?JSON.stringify(JL(e)):e;if(st.isArrayBuffer(e)||st.isBuffer(e)||st.isStream(e)||st.isFile(e)||st.isBlob(e)||st.isReadableStream(e))return e;if(st.isArrayBufferView(e))return e.buffer;if(st.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(t.indexOf("application/x-www-form-urlencoded")>-1)return Xhe(e,this.formSerializer).toString();if((a=st.isFileList(e))||t.indexOf("multipart/form-data")>-1){const s=this.env&&this.env.FormData;return H2(a?{"files[]":e}:e,s&&new s,this.formSerializer)}}return i||r?(n.setContentType("application/json",!1),epe(e)):e}],transformResponse:[function(e){const n=this.transitional||Wb.transitional,t=n&&n.forcedJSONParsing,r=this.responseType==="json";if(st.isResponse(e)||st.isReadableStream(e))return e;if(e&&st.isString(e)&&(t&&!this.responseType||r)){const i=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i)throw a.name==="SyntaxError"?Ln.from(a,Ln.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ys.classes.FormData,Blob:Ys.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};st.forEach(["delete","get","head","post","put","patch"],e=>{Wb.headers[e]={}});const tpe=st.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),npe=e=>{const n={};let t,r,i;return e&&e.split(`
`).forEach(function(a){i=a.indexOf(":"),t=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!t||n[t]&&tpe[t])&&(t==="set-cookie"?n[t]?n[t].push(r):n[t]=[r]:n[t]=n[t]?n[t]+", "+r:r)}),n},oD=Symbol("internals");function d1(e){return e&&String(e).trim().toLowerCase()}function Gx(e){return e===!1||e==null?e:st.isArray(e)?e.map(Gx):String(e)}function rpe(e){const n=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(e);)n[r[1]]=r[2];return n}const ipe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function kS(e,n,t,r,i){if(st.isFunction(r))return r.call(this,n,t);if(i&&(n=t),!!st.isString(n)){if(st.isString(r))return n.indexOf(r)!==-1;if(st.isRegExp(r))return r.test(n)}}function ape(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,t,r)=>t.toUpperCase()+r)}function spe(e,n){const t=st.toCamelCase(" "+n);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+t,{value:function(i,a,s){return this[r].call(this,n,i,a,s)},configurable:!0})})}class Eo{constructor(n){n&&this.set(n)}set(n,t,r){const i=this;function a(l,u,f){const h=d1(u);if(!h)throw new Error("header name must be a non-empty string");const m=st.findKey(i,h);(!m||i[m]===void 0||f===!0||f===void 0&&i[m]!==!1)&&(i[m||u]=Gx(l))}const s=(l,u)=>st.forEach(l,(f,h)=>a(f,h,u));if(st.isPlainObject(n)||n instanceof this.constructor)s(n,t);else if(st.isString(n)&&(n=n.trim())&&!ipe(n))s(npe(n),t);else if(st.isHeaders(n))for(const[l,u]of n.entries())a(u,l,r);else n!=null&&a(t,n,r);return this}get(n,t){if(n=d1(n),n){const r=st.findKey(this,n);if(r){const i=this[r];if(!t)return i;if(t===!0)return rpe(i);if(st.isFunction(t))return t.call(this,i,r);if(st.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,t){if(n=d1(n),n){const r=st.findKey(this,n);return!!(r&&this[r]!==void 0&&(!t||kS(this,this[r],r,t)))}return!1}delete(n,t){const r=this;let i=!1;function a(s){if(s=d1(s),s){const l=st.findKey(r,s);l&&(!t||kS(r,r[l],l,t))&&(delete r[l],i=!0)}}return st.isArray(n)?n.forEach(a):a(n),i}clear(n){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const a=t[r];(!n||kS(this,this[a],a,n,!0))&&(delete this[a],i=!0)}return i}normalize(n){const t=this,r={};return st.forEach(this,(i,a)=>{const s=st.findKey(r,a);if(s){t[s]=Gx(i),delete t[a];return}const l=n?ape(a):String(a).trim();l!==a&&delete t[a],t[l]=Gx(i),r[l]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const t=Object.create(null);return st.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=n&&st.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,t])=>n+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...t){const r=new this(n);return t.forEach(i=>r.set(i)),r}static accessor(n){const t=(this[oD]=this[oD]={accessors:{}}).accessors,r=this.prototype;function i(a){const s=d1(a);t[s]||(spe(r,a),t[s]=!0)}return st.isArray(n)?n.forEach(i):i(n),this}}Eo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);st.reduceDescriptors(Eo.prototype,({value:e},n)=>{let t=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(r){this[t]=r}}});st.freezeMethods(Eo);function ES(e,n){const t=this||Wb,r=n||t,i=Eo.from(r.headers);let a=r.data;return st.forEach(e,function(s){a=s.call(t,a,i.normalize(),n?n.status:void 0)}),i.normalize(),a}function e9(e){return!!(e&&e.__CANCEL__)}function Um(e,n,t){Ln.call(this,e??"canceled",Ln.ERR_CANCELED,n,t),this.name="CanceledError"}st.inherits(Um,Ln,{__CANCEL__:!0});function t9(e,n,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?e(t):n(new Ln("Request failed with status code "+t.status,[Ln.ERR_BAD_REQUEST,Ln.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function ope(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function lpe(e,n){e=e||10;const t=new Array(e),r=new Array(e);let i=0,a=0,s;return n=n!==void 0?n:1e3,function(l){const u=Date.now(),f=r[a];s||(s=u),t[i]=l,r[i]=u;let h=a,m=0;for(;h!==i;)m+=t[h++],h=h%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),u-s<n)return;const b=f&&u-f;return b?Math.round(m*1e3/b):void 0}}function upe(e,n){let t=0,r=1e3/n,i,a;const s=(l,u=Date.now())=>{t=u,i=null,a&&(clearTimeout(a),a=null),e.apply(null,l)};return[(...l)=>{const u=Date.now(),f=u-t;f>=r?s(l,u):(i=l,a||(a=setTimeout(()=>{a=null,s(i)},r-f)))},()=>i&&s(i)]}const Mv=(e,n,t=3)=>{let r=0;const i=lpe(50,250);return upe(a=>{const s=a.loaded,l=a.lengthComputable?a.total:void 0,u=s-r,f=i(u),h=s<=l;r=s;const m={loaded:s,total:l,progress:l?s/l:void 0,bytes:u,rate:f||void 0,estimated:f&&l&&h?(l-s)/f:void 0,event:a,lengthComputable:l!=null,[n?"download":"upload"]:!0};e(m)},t)},lD=(e,n)=>{const t=e!=null;return[r=>n[0]({lengthComputable:t,total:e,loaded:r}),n[1]]},uD=e=>(...n)=>st.asap(()=>e(...n)),cpe=Ys.hasStandardBrowserEnv?((e,n)=>t=>(t=new URL(t,Ys.origin),e.protocol===t.protocol&&e.host===t.host&&(n||e.port===t.port)))(new URL(Ys.origin),Ys.navigator&&/(msie|trident)/i.test(Ys.navigator.userAgent)):()=>!0,dpe=Ys.hasStandardBrowserEnv?{write(e,n,t,r,i,a){const s=[e+"="+encodeURIComponent(n)];st.isNumber(t)&&s.push("expires="+new Date(t).toGMTString()),st.isString(r)&&s.push("path="+r),st.isString(i)&&s.push("domain="+i),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function fpe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function hpe(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function n9(e,n){return e&&!fpe(n)?hpe(e,n):n}const cD=e=>e instanceof Eo?{...e}:e;function Ep(e,n){n=n||{};const t={};function r(f,h,m,b){return st.isPlainObject(f)&&st.isPlainObject(h)?st.merge.call({caseless:b},f,h):st.isPlainObject(h)?st.merge({},h):st.isArray(h)?h.slice():h}function i(f,h,m,b){if(st.isUndefined(h)){if(!st.isUndefined(f))return r(void 0,f,m,b)}else return r(f,h,m,b)}function a(f,h){if(!st.isUndefined(h))return r(void 0,h)}function s(f,h){if(st.isUndefined(h)){if(!st.isUndefined(f))return r(void 0,f)}else return r(void 0,h)}function l(f,h,m){if(m in n)return r(f,h);if(m in e)return r(void 0,f)}const u={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(f,h,m)=>i(cD(f),cD(h),m,!0)};return st.forEach(Object.keys(Object.assign({},e,n)),function(f){const h=u[f]||i,m=h(e[f],n[f],f);st.isUndefined(m)&&h!==l||(t[f]=m)}),t}const r9=e=>{const n=Ep({},e);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:l}=n;n.headers=s=Eo.from(s),n.url=XL(n9(n.baseURL,n.url),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(st.isFormData(t)){if(Ys.hasStandardBrowserEnv||Ys.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((u=s.getContentType())!==!1){const[f,...h]=u?u.split(";").map(m=>m.trim()).filter(Boolean):[];s.setContentType([f||"multipart/form-data",...h].join("; "))}}if(Ys.hasStandardBrowserEnv&&(r&&st.isFunction(r)&&(r=r(n)),r||r!==!1&&cpe(n.url))){const f=i&&a&&dpe.read(a);f&&s.set(i,f)}return n},ppe=typeof XMLHttpRequest<"u",mpe=ppe&&function(e){return new Promise(function(n,t){const r=r9(e);let i=r.data;const a=Eo.from(r.headers).normalize();let{responseType:s,onUploadProgress:l,onDownloadProgress:u}=r,f,h,m,b,g;function v(){b&&b(),g&&g(),r.cancelToken&&r.cancelToken.unsubscribe(f),r.signal&&r.signal.removeEventListener("abort",f)}let x=new XMLHttpRequest;x.open(r.method.toUpperCase(),r.url,!0),x.timeout=r.timeout;function C(){if(!x)return;const A=Eo.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),N={data:!s||s==="text"||s==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:A,config:e,request:x};t9(function(P){n(P),v()},function(P){t(P),v()},N),x=null}"onloadend"in x?x.onloadend=C:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(C)},x.onabort=function(){x&&(t(new Ln("Request aborted",Ln.ECONNABORTED,e,x)),x=null)},x.onerror=function(){t(new Ln("Network Error",Ln.ERR_NETWORK,e,x)),x=null},x.ontimeout=function(){let A=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const N=r.transitional||ZL;r.timeoutErrorMessage&&(A=r.timeoutErrorMessage),t(new Ln(A,N.clarifyTimeoutError?Ln.ETIMEDOUT:Ln.ECONNABORTED,e,x)),x=null},i===void 0&&a.setContentType(null),"setRequestHeader"in x&&st.forEach(a.toJSON(),function(A,N){x.setRequestHeader(N,A)}),st.isUndefined(r.withCredentials)||(x.withCredentials=!!r.withCredentials),s&&s!=="json"&&(x.responseType=r.responseType),u&&([m,g]=Mv(u,!0),x.addEventListener("progress",m)),l&&x.upload&&([h,b]=Mv(l),x.upload.addEventListener("progress",h),x.upload.addEventListener("loadend",b)),(r.cancelToken||r.signal)&&(f=A=>{x&&(t(!A||A.type?new Um(null,e,x):A),x.abort(),x=null)},r.cancelToken&&r.cancelToken.subscribe(f),r.signal&&(r.signal.aborted?f():r.signal.addEventListener("abort",f)));const S=ope(r.url);if(S&&Ys.protocols.indexOf(S)===-1){t(new Ln("Unsupported protocol "+S+":",Ln.ERR_BAD_REQUEST,e));return}x.send(i||null)})},gpe=(e,n)=>{const{length:t}=e=e?e.filter(Boolean):[];if(n||t){let r=new AbortController,i;const a=function(f){if(!i){i=!0,l();const h=f instanceof Error?f:this.reason;r.abort(h instanceof Ln?h:new Um(h instanceof Error?h.message:h))}};let s=n&&setTimeout(()=>{s=null,a(new Ln(`timeout ${n} of ms exceeded`,Ln.ETIMEDOUT))},n);const l=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(a):f.removeEventListener("abort",a)}),e=null)};e.forEach(f=>f.addEventListener("abort",a));const{signal:u}=r;return u.unsubscribe=()=>st.asap(l),u}},bpe=function*(e,n){let t=e.byteLength;if(t<n){yield e;return}let r=0,i;for(;r<t;)i=r+n,yield e.slice(r,i),r=i},ype=async function*(e,n){for await(const t of xpe(e))yield*bpe(t,n)},xpe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const n=e.getReader();try{for(;;){const{done:t,value:r}=await n.read();if(t)break;yield r}}finally{await n.cancel()}},dD=(e,n,t,r)=>{const i=ype(e,n);let a=0,s,l=u=>{s||(s=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:f,value:h}=await i.next();if(f){l(),u.close();return}let m=h.byteLength;if(t){let b=a+=m;t(b)}u.enqueue(new Uint8Array(h))}catch(f){throw l(f),f}},cancel(u){return l(u),i.return()}},{highWaterMark:2})},V2=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",i9=V2&&typeof ReadableStream=="function",vpe=V2&&(typeof TextEncoder=="function"?(e=>n=>e.encode(n))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),a9=(e,...n)=>{try{return!!e(...n)}catch{return!1}},wpe=i9&&a9(()=>{let e=!1;const n=new Request(Ys.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!n}),fD=64*1024,nC=i9&&a9(()=>st.isReadableStream(new Response("").body)),Lv={stream:nC&&(e=>e.body)};V2&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!Lv[n]&&(Lv[n]=st.isFunction(e[n])?t=>t[n]():(t,r)=>{throw new Ln(`Response type '${n}' is not supported`,Ln.ERR_NOT_SUPPORT,r)})})})(new Response);const Spe=async e=>{if(e==null)return 0;if(st.isBlob(e))return e.size;if(st.isSpecCompliantForm(e))return(await new Request(Ys.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(st.isArrayBufferView(e)||st.isArrayBuffer(e))return e.byteLength;if(st.isURLSearchParams(e)&&(e=e+""),st.isString(e))return(await vpe(e)).byteLength},Cpe=async(e,n)=>st.toFiniteNumber(e.getContentLength())??Spe(n),Ape=V2&&(async e=>{let{url:n,method:t,data:r,signal:i,cancelToken:a,timeout:s,onDownloadProgress:l,onUploadProgress:u,responseType:f,headers:h,withCredentials:m="same-origin",fetchOptions:b}=r9(e);f=f?(f+"").toLowerCase():"text";let g=gpe([i,a&&a.toAbortSignal()],s),v;const x=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let C;try{if(u&&wpe&&t!=="get"&&t!=="head"&&(C=await Cpe(h,r))!==0){let U=new Request(n,{method:"POST",body:r,duplex:"half"}),B;if(st.isFormData(r)&&(B=U.headers.get("content-type"))&&h.setContentType(B),U.body){const[j,F]=lD(C,Mv(uD(u)));r=dD(U.body,fD,j,F)}}st.isString(m)||(m=m?"include":"omit");const S="credentials"in Request.prototype;v=new Request(n,{...b,signal:g,method:t.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:S?m:void 0});let A=await fetch(v);const N=nC&&(f==="stream"||f==="response");if(nC&&(l||N&&x)){const U={};["status","statusText","headers"].forEach(V=>{U[V]=A[V]});const B=st.toFiniteNumber(A.headers.get("content-length")),[j,F]=l&&lD(B,Mv(uD(l),!0))||[];A=new Response(dD(A.body,fD,j,()=>{F&&F(),x&&x()}),U)}f=f||"text";let P=await Lv[st.findKey(Lv,f)||"text"](A,e);return!N&&x&&x(),await new Promise((U,B)=>{t9(U,B,{data:P,headers:Eo.from(A.headers),status:A.status,statusText:A.statusText,config:e,request:v})})}catch(S){throw x&&x(),S&&S.name==="TypeError"&&/fetch/i.test(S.message)?Object.assign(new Ln("Network Error",Ln.ERR_NETWORK,e,v),{cause:S.cause||S}):Ln.from(S,S&&S.code,e,v)}}),rC={http:zhe,xhr:mpe,fetch:Ape};st.forEach(rC,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const hD=e=>`- ${e}`,kpe=e=>st.isFunction(e)||e===null||e===!1,s9={getAdapter:e=>{e=st.isArray(e)?e:[e];const{length:n}=e;let t,r;const i={};for(let a=0;a<n;a++){t=e[a];let s;if(r=t,!kpe(t)&&(r=rC[(s=String(t)).toLowerCase()],r===void 0))throw new Ln(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+a]=r}if(!r){const a=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let s=n?a.length>1?`since :
`+a.map(hD).join(`
`):" "+hD(a[0]):"as no adapter specified";throw new Ln("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:rC};function jS(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Um(null,e)}function pD(e){return jS(e),e.headers=Eo.from(e.headers),e.data=ES.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),s9.getAdapter(e.adapter||Wb.adapter)(e).then(function(n){return jS(e),n.data=ES.call(e,e.transformResponse,n),n.headers=Eo.from(n.headers),n},function(n){return e9(n)||(jS(e),n&&n.response&&(n.response.data=ES.call(e,e.transformResponse,n.response),n.response.headers=Eo.from(n.response.headers))),Promise.reject(n)})}const o9="1.7.9",W2={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{W2[e]=function(t){return typeof t===e||"a"+(n<1?"n ":" ")+e}});const mD={};W2.transitional=function(e,n,t){function r(i,a){return"[Axios v"+o9+"] Transitional option '"+i+"'"+a+(t?". "+t:"")}return(i,a,s)=>{if(e===!1)throw new Ln(r(a," has been removed"+(n?" in "+n:"")),Ln.ERR_DEPRECATED);return n&&!mD[a]&&(mD[a]=!0,console.warn(r(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,a,s):!0}};W2.spelling=function(e){return(n,t)=>(console.warn(`${t} is likely a misspelling of ${e}`),!0)};function Epe(e,n,t){if(typeof e!="object")throw new Ln("options must be an object",Ln.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],s=n[a];if(s){const l=e[a],u=l===void 0||s(l,a,e);if(u!==!0)throw new Ln("option "+a+" must be "+u,Ln.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ln("Unknown option "+a,Ln.ERR_BAD_OPTION)}}const Qx={assertOptions:Epe,validators:W2},vc=Qx.validators;let vp=class{constructor(n){this.defaults=n,this.interceptors={request:new sD,response:new sD}}async request(n,t){try{return await this._request(n,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(n,t){typeof n=="string"?(t=t||{},t.url=n):t=n||{},t=Ep(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:a}=t;r!==void 0&&Qx.assertOptions(r,{silentJSONParsing:vc.transitional(vc.boolean),forcedJSONParsing:vc.transitional(vc.boolean),clarifyTimeoutError:vc.transitional(vc.boolean)},!1),i!=null&&(st.isFunction(i)?t.paramsSerializer={serialize:i}:Qx.assertOptions(i,{encode:vc.function,serialize:vc.function},!0)),Qx.assertOptions(t,{baseUrl:vc.spelling("baseURL"),withXsrfToken:vc.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&st.merge(a.common,a[t.method]);a&&st.forEach(["delete","get","head","post","put","patch","common"],v=>{delete a[v]}),t.headers=Eo.concat(s,a);const l=[];let u=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(t)===!1||(u=u&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const f=[];this.interceptors.response.forEach(function(v){f.push(v.fulfilled,v.rejected)});let h,m=0,b;if(!u){const v=[pD.bind(this),void 0];for(v.unshift.apply(v,l),v.push.apply(v,f),b=v.length,h=Promise.resolve(t);m<b;)h=h.then(v[m++],v[m++]);return h}b=l.length;let g=t;for(m=0;m<b;){const v=l[m++],x=l[m++];try{g=v(g)}catch(C){x.call(this,C);break}}try{h=pD.call(this,g)}catch(v){return Promise.reject(v)}for(m=0,b=f.length;m<b;)h=h.then(f[m++],f[m++]);return h}getUri(n){n=Ep(this.defaults,n);const t=n9(n.baseURL,n.url);return XL(t,n.params,n.paramsSerializer)}};st.forEach(["delete","get","head","options"],function(e){vp.prototype[e]=function(n,t){return this.request(Ep(t||{},{method:e,url:n,data:(t||{}).data}))}});st.forEach(["post","put","patch"],function(e){function n(t){return function(r,i,a){return this.request(Ep(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:i}))}}vp.prototype[e]=n(),vp.prototype[e+"Form"]=n(!0)});let jpe=class l9{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const s=new Promise(l=>{r.subscribe(l),a=l}).then(i);return s.cancel=function(){r.unsubscribe(a)},s},n(function(i,a,s){r.reason||(r.reason=new Um(i,a,s),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const t=this._listeners.indexOf(n);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const n=new AbortController,t=r=>{n.abort(r)};return this.subscribe(t),n.signal.unsubscribe=()=>this.unsubscribe(t),n.signal}static source(){let n;return{token:new l9(function(t){n=t}),cancel:n}}};function Tpe(e){return function(n){return e.apply(null,n)}}function Npe(e){return st.isObject(e)&&e.isAxiosError===!0}const iC={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(iC).forEach(([e,n])=>{iC[n]=e});function u9(e){const n=new vp(e),t=zL(vp.prototype.request,n);return st.extend(t,vp.prototype,n,{allOwnKeys:!0}),st.extend(t,n,null,{allOwnKeys:!0}),t.create=function(r){return u9(Ep(e,r))},t}const Gi=u9(Wb);Gi.Axios=vp;Gi.CanceledError=Um;Gi.CancelToken=jpe;Gi.isCancel=e9;Gi.VERSION=o9;Gi.toFormData=H2;Gi.AxiosError=Ln;Gi.Cancel=Gi.CanceledError;Gi.all=function(e){return Promise.all(e)};Gi.spread=Tpe;Gi.isAxiosError=Npe;Gi.mergeConfig=Ep;Gi.AxiosHeaders=Eo;Gi.formToJSON=e=>JL(st.isHTMLForm(e)?new FormData(e):e);Gi.getAdapter=s9.getAdapter;Gi.HttpStatusCode=iC;Gi.default=Gi;const Dpe=async e=>{const n=new FormData;n.append("chatbot_id",e);try{const t=await Gi.post("https://rag-flask-api.onrender.com/start_conversation",n,{headers:{"Content-Type":"multipart/form-data"}}),{conversation_id:r,intro_message:i}=t.data;if(!r)throw new Error("Failed to retrieve conversation ID from server.");return{conversationId:r,introMessage:i}}catch(t){throw console.error("Error starting conversation:",t),t}},_pe=async(e,n,t)=>{const r=new FormData;r.append("chatbot_id",e),r.append("conversation_id",n),r.append("question",t);try{return(await Gi.post("https://rag-flask-api.onrender.com/ask",r,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(i){throw console.error("Error sending message:",i),i}},Ipe=async(e,n)=>{const t=new FormData;t.append("chatbot_id",e),t.append("conversation_id",n);try{await Gi.post("https://rag-flask-api.onrender.com/end_conversation",t,{headers:{"Content-Type":"multipart/form-data"}})}catch(r){throw console.error("Error ending conversation:",r),r}},Ope=async e=>{try{const n=await Gi.get(`https://rag-flask-api.onrender.com/summary/${e}`);if(n.status===200&&n.data.summary)return n.data.summary;throw new Error("Summary not found for this chatbot.")}catch(n){throw console.error("Error fetching summary:",n),n}},Mpe=({chatbotId:e,open:n,onClose:t})=>{const[r,i]=M.useState(null),[a,s]=M.useState(!1),[l,u]=M.useState(null),f=async()=>{s(!0),u(null);try{const h=await Ope(e);i(h)}catch(h){u(h.message||"Failed to fetch summary. Please try again.")}finally{s(!1)}};return M.useEffect(()=>{n&&f()},[n]),En.jsx(iv,{open:n,onClose:t,"aria-labelledby":"summary-modal-title","aria-describedby":"summary-modal-description",children:En.jsxs(se,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:600,bgcolor:"background.paper",borderRadius:4,boxShadow:24,p:4},children:[En.jsxs(se,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[En.jsx(te,{id:"summary-modal-title",variant:"h6",component:"h2",children:"Document Summary"}),En.jsx(jn,{onClick:t,children:En.jsx(Jfe,{})})]}),a?En.jsx(se,{sx:{display:"flex",justifyContent:"center",my:4},children:En.jsx(pi,{})}):l?En.jsx(te,{color:"error",children:l}):En.jsx(se,{sx:{maxHeight:300,overflowY:"auto",padding:2,border:"1px solid #ddd",borderRadius:2,backgroundColor:"#f9f9f9"},children:En.jsx(LA,{children:r})}),En.jsx(xt,{variant:"contained",sx:{mt:2},onClick:t,fullWidth:!0,children:"Close"})]})})},Lpe=M.forwardRef(({chatbotId:e,onConversationStart:n},t)=>{const[r,i]=M.useState(!1),[a,s]=M.useState(()=>{const B=localStorage.getItem("responses");return B?JSON.parse(B):[]}),[l,u]=M.useState(()=>localStorage.getItem("conversationId")||null),[f,h]=M.useState(!1),[m,b]=M.useState(null),[g,v]=M.useState(!1),x=Pu("(max-width:600px)"),C=Pu("(min-width:601px) and (max-width:960px)"),S=M.useRef(null);M.useEffect(()=>{typeof n=="function"&&l&&n(l)},[l,n]),M.useEffect(()=>{S.current&&S.current.scrollIntoView({behavior:"smooth"})},[a]);const A=async()=>{i(B=>!B),!r&&!l&&!f&&N()},N=async()=>{if(!l){h(!0),b(null);try{const B=await Dpe(e),{conversationId:j,introMessage:F}=B;u(j),localStorage.setItem("conversationId",j),s(V=>{const X=[...V,{id:"intro",sender:"chatbot",text:F}];return localStorage.setItem("responses",JSON.stringify(X)),X})}catch(B){console.error("Error starting conversation:",B),b("Failed to start a conversation. Please try again.")}finally{h(!1)}}},P=async(B,j=l)=>{h(!0),b(null);try{const F=await _pe(e,j,B);s(V=>{const X=[...V,{question:B,answer:F.answer}];return localStorage.setItem("responses",JSON.stringify(X)),X})}catch(F){console.error("Error sending message:",F),b("Failed to send the message. Please try again.")}finally{h(!1)}},U=async()=>{h(!0),b(null);try{l&&await Ipe(e,l),u(null),s([]),localStorage.removeItem("conversationId"),localStorage.removeItem("responses")}catch(B){console.error("Error ending conversation:",B),b("Failed to end the conversation. Please try again.")}finally{h(!1)}};return M.useImperativeHandle(t,()=>({endConversation:U})),En.jsx(En.Fragment,{children:r?En.jsxs(an,{elevation:3,sx:CS.chatContainer(x,C),children:[En.jsxs(se,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[En.jsx(te,{sx:CS.chatHeader,children:"PAT (Personalized Academic Tutor)"}),En.jsx(jn,{onClick:A,sx:{color:"black"},children:"X"})]}),En.jsx(Qfe,{responses:a}),En.jsx("div",{ref:S}),f&&En.jsx(nl,{sx:{position:"absolute",top:0,left:0,width:"100%"}}),m&&En.jsx(te,{color:"error",children:m}),En.jsx(Kfe,{onSendMessage:P,onStartConversation:N,onEndConversation:U,conversationId:l}),En.jsx(xt,{variant:"outlined",onClick:()=>v(!0),sx:{mt:2},children:"View Summary"}),En.jsx(Mpe,{chatbotId:e,open:g,onClose:()=>v(!1)})]}):En.jsx(jn,{onClick:A,sx:CS.chatToggleButton,children:En.jsx(Gfe,{fontSize:"large"})})})});class Rpe extends M.Component{constructor(n){super(n),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(n){console.error("Error caught by ErrorBoundary:",n)}render(){return this.state.hasError?d.jsx("h2",{children:"Something went wrong while loading the Chatbot."}):this.props.children}}const c9=M.forwardRef(({chatbotId:e},n)=>{const{userDetails:t}=Ii(),r=M.useRef(null),[i,a]=M.useState(!1),s=async l=>{if(console.log(` Chatbot started. Chatbot ID: ${e}, Conversation ID: ${l}`),t!=null&&t.uid)try{await E_(gn(V_,"conversations",l),{conversationId:l,chatbotId:e,userId:t.uid,startedAt:new Date().toISOString()},{merge:!0}),console.log("Conversation saved to Firestore")}catch(u){console.error("Failed to save conversation:",u)}};return M.useImperativeHandle(n,()=>({endConversation:()=>{r.current&&(console.log("Ending chatbot conversation..."),r.current.endConversation())}})),d.jsx(se,{sx:{position:"relative",display:"flex",flexDirection:"column",alignItems:"flex-end"},children:d.jsxs(se,{sx:{background:i?"rgba(255, 255, 255, 0.95)":"#0B53C0",borderRadius:4,boxShadow:i?"0 8px 32px rgba(0, 0, 0, 0.12)":"0 2px 8px rgba(0, 0, 0, 0.15)",overflow:"hidden",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",border:i?"1px solid #e0e0e0":"none",minWidth:i?400:"auto",maxWidth:i?450:"auto"},children:[d.jsxs(xt,{variant:"text",onClick:()=>a(!i),sx:{background:i?"#0B53C0 !important":"transparent !important",backgroundColor:i?"#0B53C0 !important":"transparent !important",color:"white !important",px:2.5,py:1.5,borderRadius:i?"16px 16px 0 0":"12px",textTransform:"none",display:"flex",alignItems:"center",gap:1.5,minWidth:"auto",width:"100%",justifyContent:"flex-start","&:hover":{background:"#064a9e !important",backgroundColor:"#064a9e !important",boxShadow:i?"none":"0px 4px 12px rgba(11, 83, 192, 0.3)"},"&:active":{background:"#064a9e !important",backgroundColor:"#064a9e !important"},"&:focus":{background:i?"#0B53C0 !important":"#064a9e !important",backgroundColor:i?"#0B53C0 !important":"#064a9e !important"},"&.Mui-focusVisible":{background:i?"#0B53C0 !important":"#064a9e !important",backgroundColor:i?"#0B53C0 !important":"#064a9e !important"},transition:"all 0.2s ease-in-out"},children:[d.jsx(LP,{sx:{fontSize:"1.5rem",color:"white !important"}}),d.jsxs(se,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",lineHeight:1,flex:1},children:[d.jsx(te,{variant:"body1",sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",fontWeight:"bold",mb:0,lineHeight:1.1,color:"white !important"},children:"Chat with PAT"}),d.jsx(te,{variant:"caption",sx:{fontFamily:"Gabarito, sans-serif",fontSize:"0.75rem",opacity:.9,lineHeight:1,mt:.2,color:"white !important"},children:"AI Tutor"})]}),i?d.jsx(ev,{sx:{fontSize:"1.2rem",color:"white !important"}}):d.jsx(zl,{sx:{fontSize:"1.2rem",color:"white !important"}})]}),d.jsx(Jx,{in:i,timeout:300,easing:{enter:"cubic-bezier(0.4, 0, 0.2, 1)",exit:"cubic-bezier(0.4, 0, 0.6, 1)"},children:d.jsx(se,{sx:{background:"white",borderRadius:"0 0 16px 16px",overflow:"hidden"},children:d.jsx(Rpe,{children:d.jsx(Lpe,{ref:r,chatbotId:e,onConversationStart:s})})})})]})})});c9.displayName="ChatbotWrapper";const f1="ce5f7921-a3a0-4ea7-b95f-10fe41becda5",Ppe=()=>{const[e,n]=M.useState(f1),[t]=Ab(),r=M.useRef(null);return M.useEffect(()=>{const i=t.get("material");if(!i){e!==f1&&n(f1);return}(async()=>{var h;console.log("Fetching chatbot ID for material:",i);const s=cr(),l=mn(s,"chatbots"),u=Hl(l,Hi("material.id","==",i)),f=await _i(u);if(f.empty)console.log(` No chatbot found for material ${i}, using default:`,f1),n(f1);else{const m=f.docs[0].data();console.log(` Found chatbot for material ${i}:`,m.chatbotId),m.chatbotId!==e&&((h=r.current)==null||h.endConversation()),n(m.chatbotId)}})()},[t,e]),d.jsx(se,{sx:{position:"fixed",bottom:16,right:16,zIndex:1100},children:d.jsx(c9,{ref:r,chatbotId:e})})};function Yb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function af(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var n=e.default;if(typeof n=="function"){var t=function r(){return this instanceof r?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};t.prototype=n.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),t}var gD={exports:{}},h1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bD;function Fpe(){if(bD)return h1;bD=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function t(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:s,ref:i!==void 0?i:null,props:a}}return h1.Fragment=n,h1.jsx=t,h1.jsxs=t,h1}var yD;function Gb(){return yD||(yD=1,gD.exports=Fpe()),gD.exports}var en=Gb(),p1={},xD={exports:{}},vD;function Hm(){return vD||(vD=1,function(e){function n(t){return t&&t.__esModule?t:{default:t}}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(xD)),xD.exports}var wD={};function Zr(){return Zr=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Zr.apply(null,arguments)}function Gf(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function d9(e){if(M.isValidElement(e)||!Gf(e))return e;const n={};return Object.keys(e).forEach(t=>{n[t]=d9(e[t])}),n}function Qc(e,n,t={clone:!0}){const r=t.clone?Zr({},e):e;return Gf(e)&&Gf(n)&&Object.keys(n).forEach(i=>{M.isValidElement(n[i])?r[i]=n[i]:Gf(n[i])&&Object.prototype.hasOwnProperty.call(e,i)&&Gf(e[i])?r[i]=Qc(e[i],n[i],t):t.clone?r[i]=Gf(n[i])?d9(n[i]):n[i]:r[i]=n[i]}),r}const zpe=Object.freeze(Object.defineProperty({__proto__:null,default:Qc,isPlainObject:Gf},Symbol.toStringTag,{value:"Module"}));function pb(e){let n="https://mui.com/production-error/?code="+e;for(let t=1;t<arguments.length;t+=1)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified MUI error #"+e+"; visit "+n+" for the full message."}const qpe=Object.freeze(Object.defineProperty({__proto__:null,default:pb},Symbol.toStringTag,{value:"Module"}));var SD={exports:{}},Kr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CD;function Bpe(){if(CD)return Kr;CD=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),g=Symbol.for("react.client.reference");function v(x){if(typeof x=="object"&&x!==null){var C=x.$$typeof;switch(C){case e:switch(x=x.type,x){case t:case i:case r:case u:case f:case b:return x;default:switch(x=x&&x.$$typeof,x){case s:case l:case m:case h:return x;case a:return x;default:return C}}case n:return C}}}return Kr.ContextConsumer=a,Kr.ContextProvider=s,Kr.Element=e,Kr.ForwardRef=l,Kr.Fragment=t,Kr.Lazy=m,Kr.Memo=h,Kr.Portal=n,Kr.Profiler=i,Kr.StrictMode=r,Kr.Suspense=u,Kr.SuspenseList=f,Kr.isContextConsumer=function(x){return v(x)===a},Kr.isContextProvider=function(x){return v(x)===s},Kr.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===e},Kr.isForwardRef=function(x){return v(x)===l},Kr.isFragment=function(x){return v(x)===t},Kr.isLazy=function(x){return v(x)===m},Kr.isMemo=function(x){return v(x)===h},Kr.isPortal=function(x){return v(x)===n},Kr.isProfiler=function(x){return v(x)===i},Kr.isStrictMode=function(x){return v(x)===r},Kr.isSuspense=function(x){return v(x)===u},Kr.isSuspenseList=function(x){return v(x)===f},Kr.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===t||x===i||x===r||x===u||x===f||typeof x=="object"&&x!==null&&(x.$$typeof===m||x.$$typeof===h||x.$$typeof===s||x.$$typeof===a||x.$$typeof===l||x.$$typeof===g||x.getModuleId!==void 0)},Kr.typeOf=v,Kr}var AD;function $pe(){return AD||(AD=1,SD.exports=Bpe()),SD.exports}var kD=$pe();const Upe=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function f9(e){const n=`${e}`.match(Upe);return n&&n[1]||""}function h9(e,n=""){return e.displayName||e.name||f9(e)||n}function ED(e,n,t){const r=h9(n);return e.displayName||(r!==""?`${t}(${r})`:t)}function Hpe(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return h9(e,"Component");if(typeof e=="object")switch(e.$$typeof){case kD.ForwardRef:return ED(e,e.render,"ForwardRef");case kD.Memo:return ED(e,e.type,"memo");default:return}}}const Vpe=Object.freeze(Object.defineProperty({__proto__:null,default:Hpe,getFunctionName:f9},Symbol.toStringTag,{value:"Module"}));function yh(e){if(typeof e!="string")throw new Error(pb(7));return e.charAt(0).toUpperCase()+e.slice(1)}const Wpe=Object.freeze(Object.defineProperty({__proto__:null,default:yh},Symbol.toStringTag,{value:"Module"}));function Ype(...e){return e.reduce((n,t)=>t==null?n:function(...r){n.apply(this,r),t.apply(this,r)},()=>{})}function Gpe(e,n=166){let t;function r(...i){const a=()=>{e.apply(this,i)};clearTimeout(t),t=setTimeout(a,n)}return r.clear=()=>{clearTimeout(t)},r}function Qpe(e,n){return()=>null}function Kpe(e,n){var t,r;return M.isValidElement(e)&&n.indexOf((t=e.type.muiName)!=null?t:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function p9(e){return e&&e.ownerDocument||document}function Xpe(e){return p9(e).defaultView||window}function Zpe(e,n){return()=>null}function m9(e,n){typeof e=="function"?e(n):e&&(e.current=n)}const g9=typeof window<"u"?M.useLayoutEffect:M.useEffect;let jD=0;function Jpe(e){const[n,t]=M.useState(e),r=e||n;return M.useEffect(()=>{n==null&&(jD+=1,t(`mui-${jD}`))},[n]),r}const TD=M.useId;function e0e(e){if(TD!==void 0){const n=TD();return e??n}return Jpe(e)}function t0e(e,n,t,r,i){return null}function n0e({controlled:e,default:n,name:t,state:r="value"}){const{current:i}=M.useRef(e!==void 0),[a,s]=M.useState(n),l=i?e:a,u=M.useCallback(f=>{i||s(f)},[]);return[l,u]}function r0e(e){const n=M.useRef(e);return g9(()=>{n.current=e}),M.useRef((...t)=>(0,n.current)(...t)).current}function i0e(...e){return M.useMemo(()=>e.every(n=>n==null)?null:n=>{e.forEach(t=>{m9(t,n)})},e)}class GA{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new GA}start(n,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},n)}}let Y2=!0,aC=!1;const a0e=new GA,s0e={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function o0e(e){const{type:n,tagName:t}=e;return!!(t==="INPUT"&&s0e[n]&&!e.readOnly||t==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function l0e(e){e.metaKey||e.altKey||e.ctrlKey||(Y2=!0)}function TS(){Y2=!1}function u0e(){this.visibilityState==="hidden"&&aC&&(Y2=!0)}function c0e(e){e.addEventListener("keydown",l0e,!0),e.addEventListener("mousedown",TS,!0),e.addEventListener("pointerdown",TS,!0),e.addEventListener("touchstart",TS,!0),e.addEventListener("visibilitychange",u0e,!0)}function d0e(e){const{target:n}=e;try{return n.matches(":focus-visible")}catch{}return Y2||o0e(n)}function f0e(){const e=M.useCallback(i=>{i!=null&&c0e(i.ownerDocument)},[]),n=M.useRef(!1);function t(){return n.current?(aC=!0,a0e.start(100,()=>{aC=!1}),n.current=!1,!0):!1}function r(i){return d0e(i)?(n.current=!0,!0):!1}return{isFocusVisibleRef:n,onFocus:r,onBlur:t,ref:e}}function sC(e,n){const t=Zr({},n);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))t[r]=Zr({},e[r],t[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},a=n[r];t[r]={},!a||!Object.keys(a)?t[r]=i:!i||!Object.keys(i)?t[r]=a:(t[r]=Zr({},a),Object.keys(i).forEach(s=>{t[r][s]=sC(i[s],a[s])}))}else t[r]===void 0&&(t[r]=e[r])}),t}function h0e(e,n,t=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((a,s)=>{if(s){const l=n(s);l!==""&&a.push(l),t&&t[s]&&a.push(t[s])}return a},[]).join(" ")}),r}const ND=e=>e,p0e=()=>{let e=ND;return{configure(n){e=n},generate(n){return e(n)},reset(){e=ND}}},b9=p0e(),m0e={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function y9(e,n,t="Mui"){const r=m0e[n];return r?`${t}-${r}`:`${b9.generate(e)}-${n}`}function g0e(e,n,t="Mui"){const r={};return n.forEach(i=>{r[i]=y9(e,i,t)}),r}function b0e(e,n=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(n,Math.min(e,t))}const y0e=Object.freeze(Object.defineProperty({__proto__:null,default:b0e},Symbol.toStringTag,{value:"Module"}));function Eh(e,n){if(e==null)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;t[r]=e[r]}return t}function x9(e){var n,t,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(n=0;n<i;n++)e[n]&&(t=x9(e[n]))&&(r&&(r+=" "),r+=t)}else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function x0e(){for(var e,n,t=0,r="",i=arguments.length;t<i;t++)(e=arguments[t])&&(n=x9(e))&&(r&&(r+=" "),r+=n);return r}const v0e=M.createContext(void 0);function w0e(e){const{theme:n,name:t,props:r}=e;if(!n||!n.components||!n.components[t])return r;const i=n.components[t];return i.defaultProps?sC(i.defaultProps,r):!i.styleOverrides&&!i.variants?sC(i,r):r}function S0e({props:e,name:n}){const t=M.useContext(v0e);return w0e({props:e,name:n,theme:{components:t}})}function C0e(e){return S0e(e)}var ip={},DD={exports:{}},_D;function A0e(){return _D||(_D=1,function(e){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var a in i)({}).hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(null,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(DD)),DD.exports}var ID={exports:{}},OD;function k0e(){return OD||(OD=1,function(e){function n(t,r){if(t==null)return{};var i={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;i[a]=t[a]}return i}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(ID)),ID.exports}function E0e(e){for(var n=0,t,r=0,i=e.length;i>=4;++r,i-=4)t=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,n=(t&65535)*1540483477+((t>>>16)*59797<<16)^(n&65535)*1540483477+((n>>>16)*59797<<16);switch(i){case 3:n^=(e.charCodeAt(r+2)&255)<<16;case 2:n^=(e.charCodeAt(r+1)&255)<<8;case 1:n^=e.charCodeAt(r)&255,n=(n&65535)*1540483477+((n>>>16)*59797<<16)}return n^=n>>>13,n=(n&65535)*1540483477+((n>>>16)*59797<<16),((n^n>>>15)>>>0).toString(36)}var j0e={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function T0e(e){var n=Object.create(null);return function(t){return n[t]===void 0&&(n[t]=e(t)),n[t]}}var N0e=/[A-Z]|^ms/g,D0e=/_EMO_([^_]+?)_([^]*?)_EMO_/g,v9=function(e){return e.charCodeAt(1)===45},MD=function(e){return e!=null&&typeof e!="boolean"},NS=T0e(function(e){return v9(e)?e:e.replace(N0e,"-$&").toLowerCase()}),LD=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(D0e,function(t,r,i){return th={name:r,styles:i,next:th},r})}return j0e[e]!==1&&!v9(e)&&typeof n=="number"&&n!==0?n+"px":n};function Rv(e,n,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return th={name:i.name,styles:i.styles,next:th},i.name;var a=t;if(a.styles!==void 0){var s=a.next;if(s!==void 0)for(;s!==void 0;)th={name:s.name,styles:s.styles,next:th},s=s.next;var l=a.styles+";";return l}return _0e(e,n,t)}}var u=t;return u}function _0e(e,n,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=Rv(e,n,t[i])+";";else for(var a in t){var s=t[a];if(typeof s!="object"){var l=s;MD(l)&&(r+=NS(a)+":"+LD(a,l)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&n==null)for(var u=0;u<s.length;u++)MD(s[u])&&(r+=NS(a)+":"+LD(a,s[u])+";");else{var f=Rv(e,n,s);switch(a){case"animation":case"animationName":{r+=NS(a)+":"+f+";";break}default:r+=a+"{"+f+"}"}}}return r}var RD=/label:\s*([^\s;{]+)\s*(;|$)/g,th;function I0e(e,n,t){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";th=void 0;var a=e[0];if(a==null||a.raw===void 0)r=!1,i+=Rv(t,n,a);else{var s=a;i+=s[0]}for(var l=1;l<e.length;l++)if(i+=Rv(t,n,e[l]),r){var u=a;i+=u[l]}RD.lastIndex=0;for(var f="",h;(h=RD.exec(i))!==null;)f+="-"+h[1];var m=E0e(i)+f;return{name:m,styles:i,next:th}}function O0e(e){if(e.sheet)return e.sheet;for(var n=0;n<document.styleSheets.length;n++)if(document.styleSheets[n].ownerNode===e)return document.styleSheets[n]}function M0e(e){var n=document.createElement("style");return n.setAttribute("data-emotion",e.key),e.nonce!==void 0&&n.setAttribute("nonce",e.nonce),n.appendChild(document.createTextNode("")),n.setAttribute("data-s",""),n}var L0e=function(){function e(t){var r=this;this._insertTag=function(i){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,a),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var n=e.prototype;return n.hydrate=function(t){t.forEach(this._insertTag)},n.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(M0e(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=O0e(r);try{i.insertRule(t,i.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(t));this.ctr++},n.flush=function(){this.tags.forEach(function(t){var r;return(r=t.parentNode)==null?void 0:r.removeChild(t)}),this.tags=[],this.ctr=0},e}(),Hs="-ms-",Pv="-moz-",wr="-webkit-",w9="comm",QA="rule",KA="decl",R0e="@import",S9="@keyframes",P0e="@layer",F0e=Math.abs,G2=String.fromCharCode,z0e=Object.assign;function q0e(e,n){return As(e,0)^45?(((n<<2^As(e,0))<<2^As(e,1))<<2^As(e,2))<<2^As(e,3):0}function C9(e){return e.trim()}function B0e(e,n){return(e=n.exec(e))?e[0]:e}function Cr(e,n,t){return e.replace(n,t)}function oC(e,n){return e.indexOf(n)}function As(e,n){return e.charCodeAt(n)|0}function mb(e,n,t){return e.slice(n,t)}function jc(e){return e.length}function XA(e){return e.length}function Tx(e,n){return n.push(e),e}function $0e(e,n){return e.map(n).join("")}var Q2=1,Om=1,A9=0,No=0,Ba=0,Vm="";function K2(e,n,t,r,i,a,s){return{value:e,root:n,parent:t,type:r,props:i,children:a,line:Q2,column:Om,length:s,return:""}}function m1(e,n){return z0e(K2("",null,null,"",null,null,0),e,{length:-e.length},n)}function U0e(){return Ba}function H0e(){return Ba=No>0?As(Vm,--No):0,Om--,Ba===10&&(Om=1,Q2--),Ba}function sl(){return Ba=No<A9?As(Vm,No++):0,Om++,Ba===10&&(Om=1,Q2++),Ba}function Kc(){return As(Vm,No)}function Kx(){return No}function Qb(e,n){return mb(Vm,e,n)}function gb(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function k9(e){return Q2=Om=1,A9=jc(Vm=e),No=0,[]}function E9(e){return Vm="",e}function Xx(e){return C9(Qb(No-1,lC(e===91?e+2:e===40?e+1:e)))}function V0e(e){for(;(Ba=Kc())&&Ba<33;)sl();return gb(e)>2||gb(Ba)>3?"":" "}function W0e(e,n){for(;--n&&sl()&&!(Ba<48||Ba>102||Ba>57&&Ba<65||Ba>70&&Ba<97););return Qb(e,Kx()+(n<6&&Kc()==32&&sl()==32))}function lC(e){for(;sl();)switch(Ba){case e:return No;case 34:case 39:e!==34&&e!==39&&lC(Ba);break;case 40:e===41&&lC(e);break;case 92:sl();break}return No}function Y0e(e,n){for(;sl()&&e+Ba!==57&&!(e+Ba===84&&Kc()===47););return"/*"+Qb(n,No-1)+"*"+G2(e===47?e:sl())}function G0e(e){for(;!gb(Kc());)sl();return Qb(e,No)}function Q0e(e){return E9(Zx("",null,null,null,[""],e=k9(e),0,[0],e))}function Zx(e,n,t,r,i,a,s,l,u){for(var f=0,h=0,m=s,b=0,g=0,v=0,x=1,C=1,S=1,A=0,N="",P=i,U=a,B=r,j=N;C;)switch(v=A,A=sl()){case 40:if(v!=108&&As(j,m-1)==58){oC(j+=Cr(Xx(A),"&","&\f"),"&\f")!=-1&&(S=-1);break}case 34:case 39:case 91:j+=Xx(A);break;case 9:case 10:case 13:case 32:j+=V0e(v);break;case 92:j+=W0e(Kx()-1,7);continue;case 47:switch(Kc()){case 42:case 47:Tx(K0e(Y0e(sl(),Kx()),n,t),u);break;default:j+="/"}break;case 123*x:l[f++]=jc(j)*S;case 125*x:case 59:case 0:switch(A){case 0:case 125:C=0;case 59+h:S==-1&&(j=Cr(j,/\f/g,"")),g>0&&jc(j)-m&&Tx(g>32?FD(j+";",r,t,m-1):FD(Cr(j," ","")+";",r,t,m-2),u);break;case 59:j+=";";default:if(Tx(B=PD(j,n,t,f,h,i,l,N,P=[],U=[],m),a),A===123)if(h===0)Zx(j,n,B,B,P,a,m,l,U);else switch(b===99&&As(j,3)===110?100:b){case 100:case 108:case 109:case 115:Zx(e,B,B,r&&Tx(PD(e,B,B,0,0,i,l,N,i,P=[],m),U),i,U,m,l,r?P:U);break;default:Zx(j,B,B,B,[""],U,0,l,U)}}f=h=g=0,x=S=1,N=j="",m=s;break;case 58:m=1+jc(j),g=v;default:if(x<1){if(A==123)--x;else if(A==125&&x++==0&&H0e()==125)continue}switch(j+=G2(A),A*x){case 38:S=h>0?1:(j+="\f",-1);break;case 44:l[f++]=(jc(j)-1)*S,S=1;break;case 64:Kc()===45&&(j+=Xx(sl())),b=Kc(),h=m=jc(N=j+=G0e(Kx())),A++;break;case 45:v===45&&jc(j)==2&&(x=0)}}return a}function PD(e,n,t,r,i,a,s,l,u,f,h){for(var m=i-1,b=i===0?a:[""],g=XA(b),v=0,x=0,C=0;v<r;++v)for(var S=0,A=mb(e,m+1,m=F0e(x=s[v])),N=e;S<g;++S)(N=C9(x>0?b[S]+" "+A:Cr(A,/&\f/g,b[S])))&&(u[C++]=N);return K2(e,n,t,i===0?QA:l,u,f,h)}function K0e(e,n,t){return K2(e,n,t,w9,G2(U0e()),mb(e,2,-2),0)}function FD(e,n,t,r){return K2(e,n,t,KA,mb(e,0,r),mb(e,r+1,-1),r)}function fm(e,n){for(var t="",r=XA(e),i=0;i<r;i++)t+=n(e[i],i,e,n)||"";return t}function X0e(e,n,t,r){switch(e.type){case P0e:if(e.children.length)break;case R0e:case KA:return e.return=e.return||e.value;case w9:return"";case S9:return e.return=e.value+"{"+fm(e.children,r)+"}";case QA:e.value=e.props.join(",")}return jc(t=fm(e.children,r))?e.return=e.value+"{"+t+"}":""}function Z0e(e){var n=XA(e);return function(t,r,i,a){for(var s="",l=0;l<n;l++)s+=e[l](t,r,i,a)||"";return s}}function J0e(e){return function(n){n.root||(n=n.return)&&e(n)}}var eme=function(e,n,t){for(var r=0,i=0;r=i,i=Kc(),r===38&&i===12&&(n[t]=1),!gb(i);)sl();return Qb(e,No)},tme=function(e,n){var t=-1,r=44;do switch(gb(r)){case 0:r===38&&Kc()===12&&(n[t]=1),e[t]+=eme(No-1,n,t);break;case 2:e[t]+=Xx(r);break;case 4:if(r===44){e[++t]=Kc()===58?"&\f":"",n[t]=e[t].length;break}default:e[t]+=G2(r)}while(r=sl());return e},nme=function(e,n){return E9(tme(k9(e),n))},zD=new WeakMap,rme=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,t=e.parent,r=e.column===t.column&&e.line===t.line;t.type!=="rule";)if(t=t.parent,!t)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!zD.get(t))&&!r){zD.set(e,!0);for(var i=[],a=nme(n,i),s=t.props,l=0,u=0;l<a.length;l++)for(var f=0;f<s.length;f++,u++)e.props[u]=i[l]?a[l].replace(/&\f/g,s[f]):s[f]+" "+a[l]}}},ime=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function j9(e,n){switch(q0e(e,n)){case 5103:return wr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return wr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return wr+e+Pv+e+Hs+e+e;case 6828:case 4268:return wr+e+Hs+e+e;case 6165:return wr+e+Hs+"flex-"+e+e;case 5187:return wr+e+Cr(e,/(\w+).+(:[^]+)/,wr+"box-$1$2"+Hs+"flex-$1$2")+e;case 5443:return wr+e+Hs+"flex-item-"+Cr(e,/flex-|-self/,"")+e;case 4675:return wr+e+Hs+"flex-line-pack"+Cr(e,/align-content|flex-|-self/,"")+e;case 5548:return wr+e+Hs+Cr(e,"shrink","negative")+e;case 5292:return wr+e+Hs+Cr(e,"basis","preferred-size")+e;case 6060:return wr+"box-"+Cr(e,"-grow","")+wr+e+Hs+Cr(e,"grow","positive")+e;case 4554:return wr+Cr(e,/([^-])(transform)/g,"$1"+wr+"$2")+e;case 6187:return Cr(Cr(Cr(e,/(zoom-|grab)/,wr+"$1"),/(image-set)/,wr+"$1"),e,"")+e;case 5495:case 3959:return Cr(e,/(image-set\([^]*)/,wr+"$1$`$1");case 4968:return Cr(Cr(e,/(.+:)(flex-)?(.*)/,wr+"box-pack:$3"+Hs+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+wr+e+e;case 4095:case 3583:case 4068:case 2532:return Cr(e,/(.+)-inline(.+)/,wr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(jc(e)-1-n>6)switch(As(e,n+1)){case 109:if(As(e,n+4)!==45)break;case 102:return Cr(e,/(.+:)(.+)-([^]+)/,"$1"+wr+"$2-$3$1"+Pv+(As(e,n+3)==108?"$3":"$2-$3"))+e;case 115:return~oC(e,"stretch")?j9(Cr(e,"stretch","fill-available"),n)+e:e}break;case 4949:if(As(e,n+1)!==115)break;case 6444:switch(As(e,jc(e)-3-(~oC(e,"!important")&&10))){case 107:return Cr(e,":",":"+wr)+e;case 101:return Cr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+wr+(As(e,14)===45?"inline-":"")+"box$3$1"+wr+"$2$3$1"+Hs+"$2box$3")+e}break;case 5936:switch(As(e,n+11)){case 114:return wr+e+Hs+Cr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return wr+e+Hs+Cr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return wr+e+Hs+Cr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return wr+e+Hs+e+e}return e}var ame=function(e,n,t,r){if(e.length>-1&&!e.return)switch(e.type){case KA:e.return=j9(e.value,e.length);break;case S9:return fm([m1(e,{value:Cr(e.value,"@","@"+wr)})],r);case QA:if(e.length)return $0e(e.props,function(i){switch(B0e(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return fm([m1(e,{props:[Cr(i,/:(read-\w+)/,":"+Pv+"$1")]})],r);case"::placeholder":return fm([m1(e,{props:[Cr(i,/:(plac\w+)/,":"+wr+"input-$1")]}),m1(e,{props:[Cr(i,/:(plac\w+)/,":"+Pv+"$1")]}),m1(e,{props:[Cr(i,/:(plac\w+)/,Hs+"input-$1")]})],r)}return""})}},sme=[ame],ome=function(e){var n=e.key;if(n==="css"){var t=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(t,function(v){var x=v.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var r=e.stylisPlugins||sme,i={},a,s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var x=v.getAttribute("data-emotion").split(" "),C=1;C<x.length;C++)i[x[C]]=!0;s.push(v)});var l,u=[rme,ime];{var f,h=[X0e,J0e(function(v){f.insert(v)})],m=Z0e(u.concat(r,h)),b=function(v){return fm(Q0e(v),m)};l=function(v,x,C,S){f=C,b(v?v+"{"+x.styles+"}":x.styles),S&&(g.inserted[x.name]=!0)}}var g={key:n,sheet:new L0e({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:l};return g.sheet.hydrate(s),g};function lme(e,n){const t=ome({key:"css",prepend:e});if(n){const r=t.insert;t.insert=(...i)=>(i[1].styles.match(/^@layer\s+[^{]*$/)||(i[1].styles=`@layer mui {${i[1].styles}}`),r(...i))}return t}const DS=new Map;function ume(e){const{injectFirst:n,enableCssLayer:t,children:r}=e,i=M.useMemo(()=>{const a=`${n}-${t}`;if(typeof document=="object"&&DS.has(a))return DS.get(a);const s=lme(n,t);return DS.set(a,s),s},[n,t]);return n||t?en.jsx(A_,{value:i,children:r}):r}function cme(e){return e==null||Object.keys(e).length===0}function dme(e){const{styles:n,defaultTheme:t={}}=e,r=typeof n=="function"?i=>n(cme(i)?t:i):n;return en.jsx(k_,{styles:r})}/**
 * @mui/styled-engine v5.18.0
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function fme(e,n){return C_(e,n)}const hme=(e,n)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=n(e.__emotion_styles))},qD=[];function pme(e){return qD[0]=e,I0e(qD)}const mme=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:dme,StyledEngineProvider:ume,ThemeContext:S_,css:w_,default:fme,internal_processStyles:hme,internal_serializeStyles:pme,keyframes:v_},Symbol.toStringTag,{value:"Module"})),gme=af(mme),bme=af(zpe),yme=af(Wpe),xme=af(Vpe),vme=["values","unit","step"],wme=e=>{const n=Object.keys(e).map(t=>({key:t,val:e[t]}))||[];return n.sort((t,r)=>t.val-r.val),n.reduce((t,r)=>Zr({},t,{[r.key]:r.val}),{})};function T9(e){const{values:n={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5}=e,i=Eh(e,vme),a=wme(n),s=Object.keys(a);function l(b){return`@media (min-width:${typeof n[b]=="number"?n[b]:b}${t})`}function u(b){return`@media (max-width:${(typeof n[b]=="number"?n[b]:b)-r/100}${t})`}function f(b,g){const v=s.indexOf(g);return`@media (min-width:${typeof n[b]=="number"?n[b]:b}${t}) and (max-width:${(v!==-1&&typeof n[s[v]]=="number"?n[s[v]]:g)-r/100}${t})`}function h(b){return s.indexOf(b)+1<s.length?f(b,s[s.indexOf(b)+1]):l(b)}function m(b){const g=s.indexOf(b);return g===0?l(s[1]):g===s.length-1?u(s[g]):f(b,s[s.indexOf(b)+1]).replace("@media","@media not all and")}return Zr({keys:s,values:a,up:l,down:u,between:f,only:h,not:m,unit:t},i)}const Sme={borderRadius:4};function P1(e,n){return n?Qc(e,n,{clone:!1}):e}const ZA={xs:0,sm:600,md:900,lg:1200,xl:1536},BD={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${ZA[e]}px)`};function Zd(e,n,t){const r=e.theme||{};if(Array.isArray(n)){const i=r.breakpoints||BD;return n.reduce((a,s,l)=>(a[i.up(i.keys[l])]=t(n[l]),a),{})}if(typeof n=="object"){const i=r.breakpoints||BD;return Object.keys(n).reduce((a,s)=>{if(Object.keys(i.values||ZA).indexOf(s)!==-1){const l=i.up(s);a[l]=t(n[s],s)}else{const l=s;a[l]=n[l]}return a},{})}return t(n)}function Cme(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((t,r)=>{const i=e.up(r);return t[i]={},t},{}))||{}}function $D(e,n){return e.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},n)}function X2(e,n,t=!0){if(!n||typeof n!="string")return null;if(e&&e.vars&&t){const r=`vars.${n}`.split(".").reduce((i,a)=>i&&i[a]?i[a]:null,e);if(r!=null)return r}return n.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function Fv(e,n,t,r=t){let i;return typeof e=="function"?i=e(t):Array.isArray(e)?i=e[t]||r:i=X2(e,t)||r,n&&(i=n(i,r,e)),i}function _a(e){const{prop:n,cssProperty:t=e.prop,themeKey:r,transform:i}=e,a=s=>{if(s[n]==null)return null;const l=s[n],u=s.theme,f=X2(u,r)||{};return Zd(s,l,h=>{let m=Fv(f,i,h);return h===m&&typeof h=="string"&&(m=Fv(f,i,`${n}${h==="default"?"":yh(h)}`,h)),t===!1?m:{[t]:m}})};return a.propTypes={},a.filterProps=[n],a}function Ame(e){const n={};return t=>(n[t]===void 0&&(n[t]=e(t)),n[t])}const kme={m:"margin",p:"padding"},Eme={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},UD={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},jme=Ame(e=>{if(e.length>2)if(UD[e])e=UD[e];else return[e];const[n,t]=e.split(""),r=kme[n],i=Eme[t]||"";return Array.isArray(i)?i.map(a=>r+a):[r+i]}),JA=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],ek=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...JA,...ek];function Kb(e,n,t,r){var i;const a=(i=X2(e,n,!1))!=null?i:t;return typeof a=="number"?s=>typeof s=="string"?s:a*s:Array.isArray(a)?s=>typeof s=="string"?s:a[s]:typeof a=="function"?a:()=>{}}function N9(e){return Kb(e,"spacing",8)}function Xb(e,n){if(typeof n=="string"||n==null)return n;const t=Math.abs(n),r=e(t);return n>=0?r:typeof r=="number"?-r:`-${r}`}function Tme(e,n){return t=>e.reduce((r,i)=>(r[i]=Xb(n,t),r),{})}function Nme(e,n,t,r){if(n.indexOf(t)===-1)return null;const i=jme(t),a=Tme(i,r),s=e[t];return Zd(e,s,a)}function D9(e,n){const t=N9(e.theme);return Object.keys(e).map(r=>Nme(e,n,r,t)).reduce(P1,{})}function aa(e){return D9(e,JA)}aa.propTypes={};aa.filterProps=JA;function sa(e){return D9(e,ek)}sa.propTypes={};sa.filterProps=ek;function Dme(e=8){if(e.mui)return e;const n=N9({spacing:e}),t=(...r)=>(r.length===0?[1]:r).map(i=>{const a=n(i);return typeof a=="number"?`${a}px`:a}).join(" ");return t.mui=!0,t}function Z2(...e){const n=e.reduce((r,i)=>(i.filterProps.forEach(a=>{r[a]=i}),r),{}),t=r=>Object.keys(r).reduce((i,a)=>n[a]?P1(i,n[a](r)):i,{});return t.propTypes={},t.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),t}function Fl(e){return typeof e!="number"?e:`${e}px solid`}function Kl(e,n){return _a({prop:e,themeKey:"borders",transform:n})}const _me=Kl("border",Fl),Ime=Kl("borderTop",Fl),Ome=Kl("borderRight",Fl),Mme=Kl("borderBottom",Fl),Lme=Kl("borderLeft",Fl),Rme=Kl("borderColor"),Pme=Kl("borderTopColor"),Fme=Kl("borderRightColor"),zme=Kl("borderBottomColor"),qme=Kl("borderLeftColor"),Bme=Kl("outline",Fl),$me=Kl("outlineColor"),J2=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const n=Kb(e.theme,"shape.borderRadius",4),t=r=>({borderRadius:Xb(n,r)});return Zd(e,e.borderRadius,t)}return null};J2.propTypes={};J2.filterProps=["borderRadius"];Z2(_me,Ime,Ome,Mme,Lme,Rme,Pme,Fme,zme,qme,J2,Bme,$me);const ew=e=>{if(e.gap!==void 0&&e.gap!==null){const n=Kb(e.theme,"spacing",8),t=r=>({gap:Xb(n,r)});return Zd(e,e.gap,t)}return null};ew.propTypes={};ew.filterProps=["gap"];const tw=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const n=Kb(e.theme,"spacing",8),t=r=>({columnGap:Xb(n,r)});return Zd(e,e.columnGap,t)}return null};tw.propTypes={};tw.filterProps=["columnGap"];const nw=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const n=Kb(e.theme,"spacing",8),t=r=>({rowGap:Xb(n,r)});return Zd(e,e.rowGap,t)}return null};nw.propTypes={};nw.filterProps=["rowGap"];const Ume=_a({prop:"gridColumn"}),Hme=_a({prop:"gridRow"}),Vme=_a({prop:"gridAutoFlow"}),Wme=_a({prop:"gridAutoColumns"}),Yme=_a({prop:"gridAutoRows"}),Gme=_a({prop:"gridTemplateColumns"}),Qme=_a({prop:"gridTemplateRows"}),Kme=_a({prop:"gridTemplateAreas"}),Xme=_a({prop:"gridArea"});Z2(ew,tw,nw,Ume,Hme,Vme,Wme,Yme,Gme,Qme,Kme,Xme);function hm(e,n){return n==="grey"?n:e}const Zme=_a({prop:"color",themeKey:"palette",transform:hm}),Jme=_a({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:hm}),ege=_a({prop:"backgroundColor",themeKey:"palette",transform:hm});Z2(Zme,Jme,ege);function Jo(e){return e<=1&&e!==0?`${e*100}%`:e}const tge=_a({prop:"width",transform:Jo}),tk=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const n=t=>{var r,i;const a=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[t])||ZA[t];return a?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${a}${e.theme.breakpoints.unit}`}:{maxWidth:a}:{maxWidth:Jo(t)}};return Zd(e,e.maxWidth,n)}return null};tk.filterProps=["maxWidth"];const nge=_a({prop:"minWidth",transform:Jo}),rge=_a({prop:"height",transform:Jo}),ige=_a({prop:"maxHeight",transform:Jo}),age=_a({prop:"minHeight",transform:Jo});_a({prop:"size",cssProperty:"width",transform:Jo});_a({prop:"size",cssProperty:"height",transform:Jo});const sge=_a({prop:"boxSizing"});Z2(tge,tk,nge,rge,ige,age,sge);const Zb={border:{themeKey:"borders",transform:Fl},borderTop:{themeKey:"borders",transform:Fl},borderRight:{themeKey:"borders",transform:Fl},borderBottom:{themeKey:"borders",transform:Fl},borderLeft:{themeKey:"borders",transform:Fl},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Fl},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:J2},color:{themeKey:"palette",transform:hm},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:hm},backgroundColor:{themeKey:"palette",transform:hm},p:{style:sa},pt:{style:sa},pr:{style:sa},pb:{style:sa},pl:{style:sa},px:{style:sa},py:{style:sa},padding:{style:sa},paddingTop:{style:sa},paddingRight:{style:sa},paddingBottom:{style:sa},paddingLeft:{style:sa},paddingX:{style:sa},paddingY:{style:sa},paddingInline:{style:sa},paddingInlineStart:{style:sa},paddingInlineEnd:{style:sa},paddingBlock:{style:sa},paddingBlockStart:{style:sa},paddingBlockEnd:{style:sa},m:{style:aa},mt:{style:aa},mr:{style:aa},mb:{style:aa},ml:{style:aa},mx:{style:aa},my:{style:aa},margin:{style:aa},marginTop:{style:aa},marginRight:{style:aa},marginBottom:{style:aa},marginLeft:{style:aa},marginX:{style:aa},marginY:{style:aa},marginInline:{style:aa},marginInlineStart:{style:aa},marginInlineEnd:{style:aa},marginBlock:{style:aa},marginBlockStart:{style:aa},marginBlockEnd:{style:aa},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:ew},rowGap:{style:nw},columnGap:{style:tw},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Jo},maxWidth:{style:tk},minWidth:{transform:Jo},height:{transform:Jo},maxHeight:{transform:Jo},minHeight:{transform:Jo},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function oge(...e){const n=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(n);return e.every(r=>t.size===Object.keys(r).length)}function lge(e,n){return typeof e=="function"?e(n):e}function _9(){function e(t,r,i,a){const s={[t]:r,theme:i},l=a[t];if(!l)return{[t]:r};const{cssProperty:u=t,themeKey:f,transform:h,style:m}=l;if(r==null)return null;if(f==="typography"&&r==="inherit")return{[t]:r};const b=X2(i,f)||{};return m?m(s):Zd(s,r,g=>{let v=Fv(b,h,g);return g===v&&typeof g=="string"&&(v=Fv(b,h,`${t}${g==="default"?"":yh(g)}`,g)),u===!1?v:{[u]:v}})}function n(t){var r;const{sx:i,theme:a={},nested:s}=t||{};if(!i)return null;const l=(r=a.unstable_sxConfig)!=null?r:Zb;function u(f){let h=f;if(typeof f=="function")h=f(a);else if(typeof f!="object")return f;if(!h)return null;const m=Cme(a.breakpoints),b=Object.keys(m);let g=m;return Object.keys(h).forEach(v=>{const x=lge(h[v],a);if(x!=null)if(typeof x=="object")if(l[v])g=P1(g,e(v,x,a,l));else{const C=Zd({theme:a},x,S=>({[v]:S}));oge(C,x)?g[v]=n({sx:x,theme:a,nested:!0}):g=P1(g,C)}else g=P1(g,e(v,x,a,l))}),!s&&a.modularCssLayers?{"@layer sx":$D(b,g)}:$D(b,g)}return Array.isArray(i)?i.map(u):u(i)}return n}const rw=_9();rw.filterProps=["sx"];function I9(e,n){const t=this;return t.vars&&typeof t.getColorSchemeSelector=="function"?{[t.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:n}:t.palette.mode===e?n:{}}const uge=["breakpoints","palette","spacing","shape"];function O9(e={},...n){const{breakpoints:t={},palette:r={},spacing:i,shape:a={}}=e,s=Eh(e,uge),l=T9(t),u=Dme(i);let f=Qc({breakpoints:l,direction:"ltr",components:{},palette:Zr({mode:"light"},r),spacing:u,shape:Zr({},Sme,a)},s);return f.applyStyles=I9,f=n.reduce((h,m)=>Qc(h,m),f),f.unstable_sxConfig=Zr({},Zb,s==null?void 0:s.unstable_sxConfig),f.unstable_sx=function(h){return rw({sx:h,theme:this})},f}const cge=Object.freeze(Object.defineProperty({__proto__:null,default:O9,private_createBreakpoints:T9,unstable_applyStyles:I9},Symbol.toStringTag,{value:"Module"})),dge=af(cge),fge=["sx"],hge=e=>{var n,t;const r={systemProps:{},otherProps:{}},i=(n=e==null||(t=e.theme)==null?void 0:t.unstable_sxConfig)!=null?n:Zb;return Object.keys(e).forEach(a=>{i[a]?r.systemProps[a]=e[a]:r.otherProps[a]=e[a]}),r};function pge(e){const{sx:n}=e,t=Eh(e,fge),{systemProps:r,otherProps:i}=hge(t);let a;return Array.isArray(n)?a=[r,...n]:typeof n=="function"?a=(...s)=>{const l=n(...s);return Gf(l)?Zr({},r,l):r}:a=Zr({},r,n),Zr({},i,{sx:a})}const mge=Object.freeze(Object.defineProperty({__proto__:null,default:rw,extendSxProp:pge,unstable_createStyleFunctionSx:_9,unstable_defaultSxConfig:Zb},Symbol.toStringTag,{value:"Module"})),gge=af(mge);var HD;function bge(){if(HD)return ip;HD=1;var e=Hm();Object.defineProperty(ip,"__esModule",{value:!0}),ip.default=U,ip.shouldForwardProp=v,ip.systemDefaultTheme=void 0;var n=e(A0e()),t=e(k0e()),r=m(gme),i=bme;e(yme),e(xme);var a=e(dge),s=e(gge);const l=["ownerState"],u=["variants"],f=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function h(B){if(typeof WeakMap!="function")return null;var j=new WeakMap,F=new WeakMap;return(h=function(V){return V?F:j})(B)}function m(B,j){if(B&&B.__esModule)return B;if(B===null||typeof B!="object"&&typeof B!="function")return{default:B};var F=h(j);if(F&&F.has(B))return F.get(B);var V={__proto__:null},X=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in B)if(T!=="default"&&Object.prototype.hasOwnProperty.call(B,T)){var D=X?Object.getOwnPropertyDescriptor(B,T):null;D&&(D.get||D.set)?Object.defineProperty(V,T,D):V[T]=B[T]}return V.default=B,F&&F.set(B,V),V}function b(B){return Object.keys(B).length===0}function g(B){return typeof B=="string"&&B.charCodeAt(0)>96}function v(B){return B!=="ownerState"&&B!=="theme"&&B!=="sx"&&B!=="as"}function x(B,j){return j&&B&&typeof B=="object"&&B.styles&&!B.styles.startsWith("@layer")&&(B.styles=`@layer ${j}{${String(B.styles)}}`),B}const C=ip.systemDefaultTheme=(0,a.default)(),S=B=>B&&B.charAt(0).toLowerCase()+B.slice(1);function A({defaultTheme:B,theme:j,themeId:F}){return b(j)?B:j[F]||j}function N(B){return B?(j,F)=>F[B]:null}function P(B,j,F){let{ownerState:V}=j,X=(0,t.default)(j,l);const T=typeof B=="function"?B((0,n.default)({ownerState:V},X)):B;if(Array.isArray(T))return T.flatMap(D=>P(D,(0,n.default)({ownerState:V},X),F));if(T&&typeof T=="object"&&Array.isArray(T.variants)){const{variants:D=[]}=T;let O=(0,t.default)(T,u);return D.forEach(L=>{let Q=!0;if(typeof L.props=="function"?Q=L.props((0,n.default)({ownerState:V},X,V)):Object.keys(L.props).forEach($=>{(V==null?void 0:V[$])!==L.props[$]&&X[$]!==L.props[$]&&(Q=!1)}),Q){Array.isArray(O)||(O=[O]);const $=typeof L.style=="function"?L.style((0,n.default)({ownerState:V},X,V)):L.style;O.push(F?x((0,r.internal_serializeStyles)($),F):$)}}),O}return F?x((0,r.internal_serializeStyles)(T),F):T}function U(B={}){const{themeId:j,defaultTheme:F=C,rootShouldForwardProp:V=v,slotShouldForwardProp:X=v}=B,T=D=>(0,s.default)((0,n.default)({},D,{theme:A((0,n.default)({},D,{defaultTheme:F,themeId:j}))}));return T.__mui_systemSx=!0,(D,O={})=>{(0,r.internal_processStyles)(D,de=>de.filter(ye=>!(ye!=null&&ye.__mui_systemSx)));const{name:L,slot:Q,skipVariantsResolver:$,skipSx:Y,overridesResolver:Z=N(S(Q))}=O,re=(0,t.default)(O,f),H=L&&L.startsWith("Mui")||Q?"components":"custom",me=$!==void 0?$:Q&&Q!=="Root"&&Q!=="root"||!1,q=Y||!1;let z,ne=v;Q==="Root"||Q==="root"?ne=V:Q?ne=X:g(D)&&(ne=void 0);const oe=(0,r.default)(D,(0,n.default)({shouldForwardProp:ne,label:z},re)),ee=de=>typeof de=="function"&&de.__emotion_real!==de||(0,i.isPlainObject)(de)?ye=>{const we=A({theme:ye.theme,defaultTheme:F,themeId:j});return P(de,(0,n.default)({},ye,{theme:we}),we.modularCssLayers?H:void 0)}:de,ge=(de,...ye)=>{let we=ee(de);const ve=ye?ye.map(ee):[];L&&Z&&ve.push(Ue=>{const Oe=A((0,n.default)({},Ue,{defaultTheme:F,themeId:j}));if(!Oe.components||!Oe.components[L]||!Oe.components[L].styleOverrides)return null;const pe=Oe.components[L].styleOverrides,tt={};return Object.entries(pe).forEach(([dt,lt])=>{tt[dt]=P(lt,(0,n.default)({},Ue,{theme:Oe}),Oe.modularCssLayers?"theme":void 0)}),Z(Ue,tt)}),L&&!me&&ve.push(Ue=>{var Oe;const pe=A((0,n.default)({},Ue,{defaultTheme:F,themeId:j})),tt=pe==null||(Oe=pe.components)==null||(Oe=Oe[L])==null?void 0:Oe.variants;return P({variants:tt},(0,n.default)({},Ue,{theme:pe}),pe.modularCssLayers?"theme":void 0)}),q||ve.push(T);const je=ve.length-ye.length;if(Array.isArray(de)&&je>0){const Ue=new Array(je).fill("");we=[...de,...Ue],we.raw=[...de.raw,...Ue]}const Ee=oe(we,...ve);return D.muiName&&(Ee.muiName=D.muiName),Ee};return oe.withConfig&&(ge.withConfig=oe.withConfig),ge}}return ip}var yge=bge();const xge=Yb(yge);function vge(e,n){return Zr({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},n)}var Ui={};const wge=af(qpe),Sge=af(y0e);var VD;function Cge(){if(VD)return Ui;VD=1;var e=Hm();Object.defineProperty(Ui,"__esModule",{value:!0}),Ui.alpha=v,Ui.blend=B,Ui.colorChannel=void 0,Ui.darken=C,Ui.decomposeColor=s,Ui.emphasize=P,Ui.getContrastRatio=g,Ui.getLuminance=b,Ui.hexToRgb=i,Ui.hslToRgb=m,Ui.lighten=A,Ui.private_safeAlpha=x,Ui.private_safeColorChannel=void 0,Ui.private_safeDarken=S,Ui.private_safeEmphasize=U,Ui.private_safeLighten=N,Ui.recomposeColor=f,Ui.rgbToHex=h;var n=e(wge),t=e(Sge);function r(j,F=0,V=1){return(0,t.default)(j,F,V)}function i(j){j=j.slice(1);const F=new RegExp(`.{1,${j.length>=6?2:1}}`,"g");let V=j.match(F);return V&&V[0].length===1&&(V=V.map(X=>X+X)),V?`rgb${V.length===4?"a":""}(${V.map((X,T)=>T<3?parseInt(X,16):Math.round(parseInt(X,16)/255*1e3)/1e3).join(", ")})`:""}function a(j){const F=j.toString(16);return F.length===1?`0${F}`:F}function s(j){if(j.type)return j;if(j.charAt(0)==="#")return s(i(j));const F=j.indexOf("("),V=j.substring(0,F);if(["rgb","rgba","hsl","hsla","color"].indexOf(V)===-1)throw new Error((0,n.default)(9,j));let X=j.substring(F+1,j.length-1),T;if(V==="color"){if(X=X.split(" "),T=X.shift(),X.length===4&&X[3].charAt(0)==="/"&&(X[3]=X[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(T)===-1)throw new Error((0,n.default)(10,T))}else X=X.split(",");return X=X.map(D=>parseFloat(D)),{type:V,values:X,colorSpace:T}}const l=j=>{const F=s(j);return F.values.slice(0,3).map((V,X)=>F.type.indexOf("hsl")!==-1&&X!==0?`${V}%`:V).join(" ")};Ui.colorChannel=l;const u=(j,F)=>{try{return l(j)}catch{return j}};Ui.private_safeColorChannel=u;function f(j){const{type:F,colorSpace:V}=j;let{values:X}=j;return F.indexOf("rgb")!==-1?X=X.map((T,D)=>D<3?parseInt(T,10):T):F.indexOf("hsl")!==-1&&(X[1]=`${X[1]}%`,X[2]=`${X[2]}%`),F.indexOf("color")!==-1?X=`${V} ${X.join(" ")}`:X=`${X.join(", ")}`,`${F}(${X})`}function h(j){if(j.indexOf("#")===0)return j;const{values:F}=s(j);return`#${F.map((V,X)=>a(X===3?Math.round(255*V):V)).join("")}`}function m(j){j=s(j);const{values:F}=j,V=F[0],X=F[1]/100,T=F[2]/100,D=X*Math.min(T,1-T),O=($,Y=($+V/30)%12)=>T-D*Math.max(Math.min(Y-3,9-Y,1),-1);let L="rgb";const Q=[Math.round(O(0)*255),Math.round(O(8)*255),Math.round(O(4)*255)];return j.type==="hsla"&&(L+="a",Q.push(F[3])),f({type:L,values:Q})}function b(j){j=s(j);let F=j.type==="hsl"||j.type==="hsla"?s(m(j)).values:j.values;return F=F.map(V=>(j.type!=="color"&&(V/=255),V<=.03928?V/12.92:((V+.055)/1.055)**2.4)),Number((.2126*F[0]+.7152*F[1]+.0722*F[2]).toFixed(3))}function g(j,F){const V=b(j),X=b(F);return(Math.max(V,X)+.05)/(Math.min(V,X)+.05)}function v(j,F){return j=s(j),F=r(F),(j.type==="rgb"||j.type==="hsl")&&(j.type+="a"),j.type==="color"?j.values[3]=`/${F}`:j.values[3]=F,f(j)}function x(j,F,V){try{return v(j,F)}catch{return j}}function C(j,F){if(j=s(j),F=r(F),j.type.indexOf("hsl")!==-1)j.values[2]*=1-F;else if(j.type.indexOf("rgb")!==-1||j.type.indexOf("color")!==-1)for(let V=0;V<3;V+=1)j.values[V]*=1-F;return f(j)}function S(j,F,V){try{return C(j,F)}catch{return j}}function A(j,F){if(j=s(j),F=r(F),j.type.indexOf("hsl")!==-1)j.values[2]+=(100-j.values[2])*F;else if(j.type.indexOf("rgb")!==-1)for(let V=0;V<3;V+=1)j.values[V]+=(255-j.values[V])*F;else if(j.type.indexOf("color")!==-1)for(let V=0;V<3;V+=1)j.values[V]+=(1-j.values[V])*F;return f(j)}function N(j,F,V){try{return A(j,F)}catch{return j}}function P(j,F=.15){return b(j)>.5?C(j,F):A(j,F)}function U(j,F,V){try{return P(j,F)}catch{return j}}function B(j,F,V,X=1){const T=(Q,$)=>Math.round((Q**(1/X)*(1-V)+$**(1/X)*V)**X),D=s(j),O=s(F),L=[T(D.values[0],O.values[0]),T(D.values[1],O.values[1]),T(D.values[2],O.values[2])];return f({type:"rgb",values:L})}return Ui}var uC=Cge();const bb={black:"#000",white:"#fff"},Age={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},N0={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},D0={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},g1={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},_0={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},I0={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},O0={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},kge=["mode","contrastThreshold","tonalOffset"],WD={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:bb.white,default:bb.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},_S={text:{primary:bb.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:bb.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function YD(e,n,t,r){const i=r.light||r,a=r.dark||r*1.5;e[n]||(e.hasOwnProperty(t)?e[n]=e[t]:n==="light"?e.light=uC.lighten(e.main,i):n==="dark"&&(e.dark=uC.darken(e.main,a)))}function Ege(e="light"){return e==="dark"?{main:_0[200],light:_0[50],dark:_0[400]}:{main:_0[700],light:_0[400],dark:_0[800]}}function jge(e="light"){return e==="dark"?{main:N0[200],light:N0[50],dark:N0[400]}:{main:N0[500],light:N0[300],dark:N0[700]}}function Tge(e="light"){return e==="dark"?{main:D0[500],light:D0[300],dark:D0[700]}:{main:D0[700],light:D0[400],dark:D0[800]}}function Nge(e="light"){return e==="dark"?{main:I0[400],light:I0[300],dark:I0[700]}:{main:I0[700],light:I0[500],dark:I0[900]}}function Dge(e="light"){return e==="dark"?{main:O0[400],light:O0[300],dark:O0[700]}:{main:O0[800],light:O0[500],dark:O0[900]}}function _ge(e="light"){return e==="dark"?{main:g1[400],light:g1[300],dark:g1[700]}:{main:"#ed6c02",light:g1[500],dark:g1[900]}}function Ige(e){const{mode:n="light",contrastThreshold:t=3,tonalOffset:r=.2}=e,i=Eh(e,kge),a=e.primary||Ege(n),s=e.secondary||jge(n),l=e.error||Tge(n),u=e.info||Nge(n),f=e.success||Dge(n),h=e.warning||_ge(n);function m(v){return uC.getContrastRatio(v,_S.text.primary)>=t?_S.text.primary:WD.text.primary}const b=({color:v,name:x,mainShade:C=500,lightShade:S=300,darkShade:A=700})=>{if(v=Zr({},v),!v.main&&v[C]&&(v.main=v[C]),!v.hasOwnProperty("main"))throw new Error(pb(11,x?` (${x})`:"",C));if(typeof v.main!="string")throw new Error(pb(12,x?` (${x})`:"",JSON.stringify(v.main)));return YD(v,"light",S,r),YD(v,"dark",A,r),v.contrastText||(v.contrastText=m(v.main)),v},g={dark:_S,light:WD};return Qc(Zr({common:Zr({},bb),mode:n,primary:b({color:a,name:"primary"}),secondary:b({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:b({color:l,name:"error"}),warning:b({color:h,name:"warning"}),info:b({color:u,name:"info"}),success:b({color:f,name:"success"}),grey:Age,contrastThreshold:t,getContrastText:m,augmentColor:b,tonalOffset:r},g[n]),i)}const Oge=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Mge(e){return Math.round(e*1e5)/1e5}const GD={textTransform:"uppercase"},QD='"Roboto", "Helvetica", "Arial", sans-serif';function Lge(e,n){const t=typeof n=="function"?n(e):n,{fontFamily:r=QD,fontSize:i=14,fontWeightLight:a=300,fontWeightRegular:s=400,fontWeightMedium:l=500,fontWeightBold:u=700,htmlFontSize:f=16,allVariants:h,pxToRem:m}=t,b=Eh(t,Oge),g=i/14,v=m||(S=>`${S/f*g}rem`),x=(S,A,N,P,U)=>Zr({fontFamily:r,fontWeight:S,fontSize:v(A),lineHeight:N},r===QD?{letterSpacing:`${Mge(P/A)}em`}:{},U,h),C={h1:x(a,96,1.167,-1.5),h2:x(a,60,1.2,-.5),h3:x(s,48,1.167,0),h4:x(s,34,1.235,.25),h5:x(s,24,1.334,0),h6:x(l,20,1.6,.15),subtitle1:x(s,16,1.75,.15),subtitle2:x(l,14,1.57,.1),body1:x(s,16,1.5,.15),body2:x(s,14,1.43,.15),button:x(l,14,1.75,.4,GD),caption:x(s,12,1.66,.4),overline:x(s,12,2.66,1,GD),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Qc(Zr({htmlFontSize:f,pxToRem:v,fontFamily:r,fontSize:i,fontWeightLight:a,fontWeightRegular:s,fontWeightMedium:l,fontWeightBold:u},C),b,{clone:!1})}const Rge=.2,Pge=.14,Fge=.12;function ji(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Rge})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Pge})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Fge})`].join(",")}const zge=["none",ji(0,2,1,-1,0,1,1,0,0,1,3,0),ji(0,3,1,-2,0,2,2,0,0,1,5,0),ji(0,3,3,-2,0,3,4,0,0,1,8,0),ji(0,2,4,-1,0,4,5,0,0,1,10,0),ji(0,3,5,-1,0,5,8,0,0,1,14,0),ji(0,3,5,-1,0,6,10,0,0,1,18,0),ji(0,4,5,-2,0,7,10,1,0,2,16,1),ji(0,5,5,-3,0,8,10,1,0,3,14,2),ji(0,5,6,-3,0,9,12,1,0,3,16,2),ji(0,6,6,-3,0,10,14,1,0,4,18,3),ji(0,6,7,-4,0,11,15,1,0,4,20,3),ji(0,7,8,-4,0,12,17,2,0,5,22,4),ji(0,7,8,-4,0,13,19,2,0,5,24,4),ji(0,7,9,-4,0,14,21,2,0,5,26,4),ji(0,8,9,-5,0,15,22,2,0,6,28,5),ji(0,8,10,-5,0,16,24,2,0,6,30,5),ji(0,8,11,-5,0,17,26,2,0,6,32,5),ji(0,9,11,-5,0,18,28,2,0,7,34,6),ji(0,9,12,-6,0,19,29,2,0,7,36,6),ji(0,10,13,-6,0,20,31,3,0,8,38,7),ji(0,10,13,-6,0,21,33,3,0,8,40,7),ji(0,10,14,-6,0,22,35,3,0,8,42,7),ji(0,11,14,-7,0,23,36,3,0,9,44,8),ji(0,11,15,-7,0,24,38,3,0,9,46,8)],qge=["duration","easing","delay"],Bge={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},$ge={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function KD(e){return`${Math.round(e)}ms`}function Uge(e){if(!e)return 0;const n=e/36;return Math.round((4+15*n**.25+n/5)*10)}function Hge(e){const n=Zr({},Bge,e.easing),t=Zr({},$ge,e.duration);return Zr({getAutoHeightDuration:Uge,create:(r=["all"],i={})=>{const{duration:a=t.standard,easing:s=n.easeInOut,delay:l=0}=i;return Eh(i,qge),(Array.isArray(r)?r:[r]).map(u=>`${u} ${typeof a=="string"?a:KD(a)} ${s} ${typeof l=="string"?l:KD(l)}`).join(",")}},e,{easing:n,duration:t})}const Vge={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Wge=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Yge(e={},...n){const{mixins:t={},palette:r={},transitions:i={},typography:a={}}=e,s=Eh(e,Wge);if(e.vars&&e.generateCssVars===void 0)throw new Error(pb(18));const l=Ige(r),u=O9(e);let f=Qc(u,{mixins:vge(u.breakpoints,t),palette:l,shadows:zge.slice(),typography:Lge(l,a),transitions:Hge(i),zIndex:Zr({},Vge)});return f=Qc(f,s),f=n.reduce((h,m)=>Qc(h,m),f),f.unstable_sxConfig=Zr({},Zb,s==null?void 0:s.unstable_sxConfig),f.unstable_sx=function(h){return rw({sx:h,theme:this})},f}const Gge=Yge(),Qge="$$material";function Kge(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Xge=e=>Kge(e)&&e!=="classes",Zge=xge({themeId:Qge,defaultTheme:Gge,rootShouldForwardProp:Xge});function Jge(e){return y9("MuiSvgIcon",e)}g0e("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const e1e=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],t1e=e=>{const{color:n,fontSize:t,classes:r}=e,i={root:["root",n!=="inherit"&&`color${yh(n)}`,`fontSize${yh(t)}`]};return h0e(i,Jge,r)},n1e=Zge("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,t.color!=="inherit"&&n[`color${yh(t.color)}`],n[`fontSize${yh(t.fontSize)}`]]}})(({theme:e,ownerState:n})=>{var t,r,i,a,s,l,u,f,h,m,b,g,v;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(t=e.transitions)==null||(r=t.create)==null?void 0:r.call(t,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((a=e.typography)==null||(s=a.pxToRem)==null?void 0:s.call(a,20))||"1.25rem",medium:((l=e.typography)==null||(u=l.pxToRem)==null?void 0:u.call(l,24))||"1.5rem",large:((f=e.typography)==null||(h=f.pxToRem)==null?void 0:h.call(f,35))||"2.1875rem"}[n.fontSize],color:(m=(b=(e.vars||e).palette)==null||(b=b[n.color])==null?void 0:b.main)!=null?m:{action:(g=(e.vars||e).palette)==null||(g=g.action)==null?void 0:g.active,disabled:(v=(e.vars||e).palette)==null||(v=v.action)==null?void 0:v.disabled,inherit:void 0}[n.color]}}),cC=M.forwardRef(function(e,n){const t=C0e({props:e,name:"MuiSvgIcon"}),{children:r,className:i,color:a="inherit",component:s="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:f=!1,titleAccess:h,viewBox:m="0 0 24 24"}=t,b=Eh(t,e1e),g=M.isValidElement(r)&&r.type==="svg",v=Zr({},t,{color:a,component:s,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:f,viewBox:m,hasSvgAsChild:g}),x={};f||(x.viewBox=m);const C=t1e(v);return en.jsxs(n1e,Zr({as:s,className:x0e(C.root,i),focusable:"false",color:u,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n},x,b,g&&r.props,{ownerState:v,children:[g?r.props.children:r,h?en.jsx("title",{children:h}):null]}))});cC.muiName="SvgIcon";function r1e(e,n){function t(r,i){return en.jsx(cC,Zr({"data-testid":`${n}Icon`,ref:i},r,{children:e}))}return t.muiName=cC.muiName,M.memo(M.forwardRef(t))}const i1e={configure:e=>{b9.configure(e)}},a1e=Object.freeze(Object.defineProperty({__proto__:null,capitalize:yh,createChainedFunction:Ype,createSvgIcon:r1e,debounce:Gpe,deprecatedPropType:Qpe,isMuiElement:Kpe,ownerDocument:p9,ownerWindow:Xpe,requirePropFactory:Zpe,setRef:m9,unstable_ClassNameGenerator:i1e,unstable_useEnhancedEffect:g9,unstable_useId:e0e,unsupportedProp:t0e,useControlled:n0e,useEventCallback:r0e,useForkRef:i0e,useIsFocusVisible:f0e},Symbol.toStringTag,{value:"Module"})),s1e=af(a1e);var XD;function iw(){return XD||(XD=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=s1e}(wD)),wD}var ZD;function o1e(){if(ZD)return p1;ZD=1;var e=Hm();Object.defineProperty(p1,"__esModule",{value:!0}),p1.default=void 0;var n=e(iw()),t=Gb();return p1.default=(0,n.default)((0,t.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),p1}var l1e=o1e();const JD=Yb(l1e);var b1={},e_;function u1e(){if(e_)return b1;e_=1;var e=Hm();Object.defineProperty(b1,"__esModule",{value:!0}),b1.default=void 0;var n=e(iw()),t=Gb();return b1.default=(0,n.default)((0,t.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),b1}var c1e=u1e();const d1e=Yb(c1e);var y1={},t_;function f1e(){if(t_)return y1;t_=1;var e=Hm();Object.defineProperty(y1,"__esModule",{value:!0}),y1.default=void 0;var n=e(iw()),t=Gb();return y1.default=(0,n.default)((0,t.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),y1}var h1e=f1e();const p1e=Yb(h1e);var x1={},n_;function m1e(){if(n_)return x1;n_=1;var e=Hm();Object.defineProperty(x1,"__esModule",{value:!0}),x1.default=void 0;var n=e(iw()),t=Gb();return x1.default=(0,n.default)((0,t.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),x1}var g1e=m1e();const b1e=Yb(g1e),lr={primary:"#0B53C0",primaryLight:"#CDDAFF",background:"#F0F4FF",white:"#FFFFFF",text:"#000000",success:"#4caf50",error:"#f44336",disabled:"#ccc"},rr={modal:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:{xs:"95%",sm:"80%",md:700},maxHeight:"90vh",bgcolor:lr.background,borderRadius:"16px",boxShadow:"0px 10px 30px rgba(0, 0, 0, 0.2)",p:3,outline:"none",overflow:"hidden",display:"flex",flexDirection:"column"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,pb:2,borderBottom:`2px solid ${lr.primaryLight}`},title:{fontFamily:"Staatliches, Arial, sans-serif",fontSize:{xs:"1.5rem",sm:"2rem"},color:lr.text},closeButton:{color:lr.text,"&:hover":{bgcolor:lr.primaryLight}},progressBar:{height:8,borderRadius:4,bgcolor:lr.disabled,mb:3,"& .MuiLinearProgress-bar":{bgcolor:lr.primary,borderRadius:4}},questionCard:{bgcolor:lr.white,borderRadius:"12px",p:3,mb:3,minHeight:200,boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.1)"},questionText:{fontFamily:"Gabarito, Arial, sans-serif",fontSize:"1.1rem",color:lr.text,mb:3},categoryBadge:{display:"inline-block",px:2,py:.5,bgcolor:lr.primaryLight,color:lr.text,borderRadius:"20px",fontSize:"0.85rem",fontFamily:"Gabarito, Arial, sans-serif",mb:2},answerInput:{width:"100%","& .MuiOutlinedInput-root":{fontFamily:"Gabarito, Arial, sans-serif","& fieldset":{borderColor:lr.disabled},"&:hover fieldset":{borderColor:lr.primary},"&.Mui-focused fieldset":{borderColor:lr.primary}}},navigationDots:{display:"flex",justifyContent:"center",gap:1,my:2},dot:{width:12,height:12,borderRadius:"50%",border:"none",cursor:"pointer",transition:"all 0.3s","&:hover":{transform:"scale(1.2)"}},dotStates:{unanswered:{bgcolor:lr.disabled},answered:{bgcolor:lr.primaryLight},current:{bgcolor:lr.primary,transform:"scale(1.3)"}},navigationButtons:{display:"flex",justifyContent:"space-between",gap:2,mt:2},button:{fontFamily:"Staatliches, sans-serif",fontSize:"1.1rem",py:1,px:3,borderRadius:"20px",textTransform:"none"},primaryButton:{bgcolor:lr.primaryLight,color:lr.text,"&:hover":{bgcolor:lr.primary,color:lr.white}},secondaryButton:{bgcolor:lr.white,color:lr.text,border:`2px solid ${lr.primaryLight}`,"&:hover":{bgcolor:lr.primaryLight}},submitButton:{bgcolor:lr.success,color:lr.white,"&:hover":{bgcolor:"#388e3c"}},resultsContainer:{flex:1,overflowY:"auto",px:2},scoreCard:{bgcolor:lr.white,borderRadius:"12px",p:3,mb:3,textAlign:"center",boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.1)"},scoreText:{fontSize:"3rem",fontFamily:"Staatliches, sans-serif",color:lr.primary},feedbackCard:{bgcolor:lr.white,borderRadius:"8px",p:2,mb:2,border:`1px solid ${lr.disabled}`},correctAnswer:{borderLeft:`4px solid ${lr.success}`},incorrectAnswer:{borderLeft:`4px solid ${lr.error}`}},M9="https://rag-flask-api.onrender.com",y1e=async e=>{if(!(e!=null&&e.trim()))throw new Error("Chatbot ID is required");try{const n=await fetch(`${M9}/get_quiz?chatbot_id=${encodeURIComponent(e)}`,{method:"GET",headers:{"Content-Type":"application/json"}}),t=await n.json();if(!n.ok||!t.success)throw new Error(t.error||"Failed to fetch quiz");return{quizId:t.quiz_id,questions:t.questions||[]}}catch(n){throw console.error("Error fetching quiz:",n),n}},x1e=async(e,n,t)=>{if(!e||!n||!t||Object.keys(t).length===0)throw new Error("Invalid quiz submission");try{const r=await fetch(`${M9}/grade_quiz`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chatbot_id:e,quiz_id:n,answers:t})}),i=await r.json();if(!r.ok||!i.success)throw new Error(i.error||"Quiz grading failed");return i.summary}catch(r){throw console.error("Error grading quiz:",r),r}},v1e=(e,n)=>{if(e)try{const t=`quiz_progress_${e}`;localStorage.setItem(t,JSON.stringify({answers:n,timestamp:new Date().toISOString()}))}catch(t){console.error("Failed to save progress:",t)}},w1e=e=>{if(!e)return null;try{const n=`quiz_progress_${e}`,t=localStorage.getItem(n);if(!t)return null;const r=JSON.parse(t),i=new Date(r.timestamp);return(new Date-i)/(1e3*60*60)>24?(localStorage.removeItem(n),null):r.answers}catch(n){return console.error("Failed to load progress:",n),null}},IS=e=>{if(e)try{const n=`quiz_progress_${e}`;localStorage.removeItem(n)}catch(n){console.error("Failed to clear progress:",n)}},S1e=e=>{const n=((e==null?void 0:e.bloom_level)||(e==null?void 0:e.bloomLevel)||"").toString().toLowerCase();return n==="remember"||n==="understand"?"lower":n==="apply"?"middle":n==="analyze"||n==="evaluate"||n==="create"?"upper":"lower"},C1e=e=>e==="easy"?5:e==="hard"?10:8,A1e=(e,n)=>{const t=[],r=[],i=[];e.forEach(f=>{const h=S1e(f);h==="lower"?t.push(f):h==="middle"?r.push(f):i.push(f)});const a=f=>{const h=[...f];for(let m=h.length-1;m>0;m-=1){const b=Math.floor(Math.random()*(m+1));[h[m],h[b]]=[h[b],h[m]]}return h},s=C1e(n);let l=[];if(n==="easy"){const f=a(t),h=a(r),m=a(i);l=[...f.slice(0,s)],l.length<s&&(l=[...l,...h.slice(0,s-l.length)]),l.length<s&&(l=[...l,...m.slice(0,s-l.length)])}else if(n==="medium"){const f=a(r),h=a(t),m=a(i);l=[...f.slice(0,s)],l.length<s&&(l=[...l,...h.slice(0,s-l.length)]),l.length<s&&(l=[...l,...m.slice(0,s-l.length)])}else{const f=a(i),h=a(r),m=a(t);l=[...f.slice(0,s)],l.length<s&&(l=[...l,...h.slice(0,s-l.length)]),l.length<s&&(l=[...l,...m.slice(0,s-l.length)])}const u=Math.min(s,l.length);return{selected:l.slice(0,u),selection:{mode:n,target:s,finalCount:u},totalAvailable:{lower:t.length,middle:r.length,upper:i.length}}},k1e=M.forwardRef(({chatbotId:e,open:n,onClose:t,difficulty:r="medium",onQuizStart:i,onQuizProgress:a,onAnswerChange:s,onQuizSubmit:l,onQuizClose:u,onError:f},h)=>{const[m,b]=M.useState(null),[g,v]=M.useState([]),[x,C]=M.useState(null),[S,A]=M.useState(0),[N,P]=M.useState({}),[U,B]=M.useState(!0),[j,F]=M.useState(!1),[V,X]=M.useState(""),[T,D]=M.useState(!1),[O,L]=M.useState(null),Q=M.useRef(null),$=M.useRef(null);M.useEffect(()=>{n&&e&&Y()},[n,e,r]),M.useEffect(()=>{if($.current&&Object.keys(N).length>0){v1e($.current,N);const we=g.length,ve=we>0?Object.keys(N).length/we*100:0;a==null||a({quizId:m==null?void 0:m.quizId,answers:N,percentComplete:ve,selection:x||void 0})}},[N,$.current,g.length]);const Y=async()=>{B(!0),X(""),D(!1),L(null),A(0),P({}),v([]),C(null),Q.current=new Date;try{const we=await y1e(e),{selected:ve,selection:je,totalAvailable:Ee}=A1e((we==null?void 0:we.questions)||[],r);b(we),v(ve),C(je);const Ue=`${we.quizId}::${r}`;$.current=Ue;const Oe=w1e(Ue);Oe&&P(Oe),i==null||i({quizId:we.quizId,chatbotId:e,startedAt:Q.current,selection:je,totalAvailable:Ee})}catch(we){const ve=(we==null?void 0:we.message)||"Failed to load quiz";X(ve),f==null||f(we,"load")}finally{B(!1)}},Z=g[S],re=g.length||0,H=re>0?(S+1)/re*100:0,me=we=>{if(!Z)return;const ve={...N,[Z.id]:we};P(ve),s==null||s({quizId:m==null?void 0:m.quizId,questionId:Z.id,value:we,answers:ve})},q=()=>{S<re-1&&A(we=>we+1)},z=()=>{S>0&&A(we=>we-1)},ne=we=>A(we),oe=async()=>{if(!m)return;const we=g.filter(ve=>!N[ve.id]);if(we.length>0){X(`Please answer all questions (${we.length} remaining)`);return}F(!0),X("");try{const ve=new Date,je={};g.forEach(Ue=>{je[Ue.id]=N[Ue.id]});const Ee=await x1e(e,m.quizId,je);L(Ee),D(!0),$.current&&IS($.current),l==null||l({quizId:m.quizId,chatbotId:e,startedAt:Q.current,submittedAt:ve,answers:je,summary:Ee,selection:x||void 0})}catch(ve){const je=`Failed to submit quiz: ${(ve==null?void 0:ve.message)||""}`.trim();X(je),f==null||f(ve,"submit")}finally{F(!1)}},ee=()=>{$.current&&IS($.current),u==null||u({quizId:m==null?void 0:m.quizId,chatbotId:e,answers:N,summary:O,completed:T,closedAt:new Date,selection:x||void 0}),t()},ge=(we,ve)=>{const je=ve===S,Ee=!!N[we];return{isCurrent:je,hasAnswer:Ee}},de=()=>{const we=(Z==null?void 0:Z.answer_type)||"text",ve=N[Z==null?void 0:Z.id]||"";return en.jsx(tn,{multiline:we==="long_answer",rows:we==="long_answer"?6:1,value:ve,onChange:je=>me(je.target.value),placeholder:"Enter your answer here...",sx:rr.answerInput,disabled:j})};if(M.useImperativeHandle(h,()=>({reloadQuiz:Y,clearProgress:()=>$.current&&IS($.current),submit:oe,getAnswers:()=>N,getSummary:()=>O,close:ee})),T&&O){const we=(()=>{const je=O==null?void 0:O.percent;if(typeof je=="number"&&Number.isFinite(je))return Math.round(je);const Ee=O==null?void 0:O.score;if(typeof Ee=="number"&&Number.isFinite(Ee))return Math.round(Ee);const Ue=Number(O==null?void 0:O.total_score)||0,Oe=Number(O==null?void 0:O.total_max)||0;return Oe>0?Math.round(Ue/Oe*100):0})(),ve=O.items||O.questions||{};return en.jsx(iv,{open:n,onClose:ee,children:en.jsxs(se,{sx:rr.modal,children:[en.jsxs(se,{sx:rr.header,children:[en.jsx(te,{sx:rr.title,children:"Quiz Results"}),en.jsx(jn,{onClick:ee,sx:rr.closeButton,children:en.jsx(JD,{})})]}),en.jsxs(se,{sx:rr.resultsContainer,children:[en.jsxs(se,{sx:rr.scoreCard,children:[en.jsxs(te,{sx:rr.scoreText,children:[we,"%"]}),en.jsx(te,{variant:"h6",sx:{fontFamily:"Gabarito"},children:"Final Score"}),O.total_score!==void 0&&en.jsxs(te,{variant:"body2",sx:{mt:1},children:[O.total_score," / ",O.total_max," points"]})]}),O.feedback&&en.jsx(Cn,{severity:"info",sx:{mb:2},children:O.feedback}),!!g.length&&!!Object.keys(ve).length&&en.jsxs(se,{children:[en.jsx(te,{variant:"h6",sx:{mb:2,fontFamily:"Staatliches"},children:"Question Breakdown"}),g.map(je=>{const Ee=ve[je.id]||{},Ue=Ee.score??0,Oe=Ee.verdict==="correct"||Ue>=70||Ee.passed===!0;return en.jsxs(se,{sx:{...rr.feedbackCard,...Oe?rr.correctAnswer:rr.incorrectAnswer},children:[en.jsxs(te,{variant:"body2",sx:{mb:1},children:["Q: ",(je==null?void 0:je.question)||"Question not found"]}),en.jsxs(te,{variant:"caption",color:"textSecondary",children:["Your answer: ",N[je.id]]}),Ee.score!==void 0&&en.jsxs(te,{variant:"caption",display:"block",sx:{mt:1},children:["Score: ",Ue,"/",Ee.max_score||100]}),(Ee.feedback||Ee.reasoning)&&en.jsx(te,{variant:"caption",display:"block",sx:{mt:1},children:Ee.feedback||Ee.reasoning})]},je.id)})]})]}),en.jsx(xt,{fullWidth:!0,variant:"contained",onClick:ee,sx:{...rr.button,...rr.primaryButton,mt:2},children:"Close"})]})})}const ye=x&&x.finalCount<x.target;return en.jsx(iv,{open:n,onClose:ee,children:en.jsxs(se,{sx:rr.modal,children:[en.jsxs(se,{sx:rr.header,children:[en.jsx(te,{sx:rr.title,children:"Quiz"}),en.jsx(jn,{onClick:ee,sx:rr.closeButton,children:en.jsx(JD,{})})]}),x&&en.jsx(se,{sx:{mb:1},children:en.jsx(Rn,{label:`Mode: ${x.mode}  ${x.finalCount} Qs`,size:"small",sx:rr.categoryBadge})}),ye&&en.jsxs(Cn,{severity:"info",sx:{mb:2},children:["Not enough questions available for ",x.mode,". Showing"," ",x.finalCount," instead of ",x.target,"."]}),U?en.jsx(se,{sx:{display:"flex",justifyContent:"center",py:5},children:en.jsx(pi,{})}):V&&!m?en.jsx(Cn,{severity:"error",children:V}):m&&Z?en.jsxs(en.Fragment,{children:[en.jsx(nl,{variant:"determinate",value:H,sx:rr.progressBar}),en.jsxs(se,{sx:rr.questionCard,children:[en.jsxs(se,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[en.jsxs(te,{variant:"h6",sx:{fontFamily:"Staatliches"},children:["Question ",S+1," of ",re]}),Z.category&&en.jsx(Rn,{label:Z.category,size:"small",sx:rr.categoryBadge})]}),en.jsx(te,{sx:rr.questionText,children:Z.question}),de()]}),V&&en.jsx(Cn,{severity:"error",sx:{mb:2},children:V}),en.jsx(se,{sx:rr.navigationDots,children:g.map((we,ve)=>{const{isCurrent:je,hasAnswer:Ee}=ge(we.id,ve);return en.jsx(se,{component:"button",onClick:()=>ne(ve),title:Ee?"Answered":"Unanswered",sx:{...rr.dot,...Ee&&!je&&rr.dotStates.answered,...!Ee&&!je&&rr.dotStates.unanswered,...je&&rr.dotStates.current}},we.id)})}),en.jsxs(se,{sx:rr.navigationButtons,children:[en.jsx(xt,{startIcon:en.jsx(d1e,{}),onClick:z,disabled:S===0,sx:{...rr.button,...rr.secondaryButton},children:"Previous"}),S===re-1?en.jsx(xt,{onClick:oe,disabled:j,endIcon:en.jsx(b1e,{}),sx:{...rr.button,...rr.submitButton},children:j?en.jsx(pi,{size:20}):"Submit Quiz"}):en.jsx(xt,{endIcon:en.jsx(p1e,{}),onClick:q,sx:{...rr.button,...rr.primaryButton},children:"Next"})]})]}):en.jsx(Cn,{severity:"info",children:"No quiz available"})]})})}),r_={totalQuizzes:0,completedQuizzes:0,averageScore:0,difficultyBreakdown:{easy:0,medium:0,hard:0}},L9=Tp()(kb(e2((e,n)=>({currentSession:null,sessions:[],statistics:r_,isModalOpen:!1,currentChatbotId:null,currentDifficulty:"medium",loading:!1,error:null,isQuizActive:!1,currentAnswers:{},lastSummary:null,openQuizModal:(t,r="medium")=>{e({isModalOpen:!0,currentChatbotId:t,currentDifficulty:r,error:null})},closeQuizModal:()=>{e({isModalOpen:!1,error:null})},setDifficulty:t=>{e({currentDifficulty:t})},setLoading:t=>{e({loading:t})},setError:t=>{e({error:t})},startQuiz:t=>{const r={id:`session_${Date.now()}`,quizId:t.quizId,chatbotId:t.chatbotId,userId:"",difficulty:t.selection.mode,startedAt:t.startedAt,completed:!1,answers:{}};e({currentSession:r,isQuizActive:!0,currentAnswers:{},lastSummary:null,error:null})},updateAnswers:t=>{const{currentSession:r}=n();if(!r)return;const i={...t.answers};e({currentAnswers:i,currentSession:{...r,answers:i}})},submitQuiz:t=>{console.log(" Quiz Store: Quiz submitted. Data should be saved by quiz modal API:",t),e({lastSummary:t.summary,isQuizActive:!1})},closeQuiz:t=>{console.log(" Quiz Store: Quiz closed. Data handled by quiz modal API:",t),e({currentSession:null,isQuizActive:!1,isModalOpen:!1,currentAnswers:{},lastSummary:t.completed?t.summary:null})},addSession:t=>{e(r=>({sessions:[...r.sessions,t]}))},updateSession:(t,r)=>{e(i=>{var a;return{sessions:i.sessions.map(s=>s.id===t?{...s,...r}:s),currentSession:((a=i.currentSession)==null?void 0:a.id)===t?{...i.currentSession,...r}:i.currentSession}})},deleteSession:t=>{e(r=>({sessions:r.sessions.filter(i=>i.id!==t)}))},clearCurrentSession:()=>{e({currentSession:null,isQuizActive:!1,currentAnswers:{},lastSummary:null})},updateStatistics:()=>{const{sessions:t}=n(),r=t.filter(l=>l.completed),i=r.reduce((l,u)=>{var f;return l+(((f=u.summary)==null?void 0:f.percent)||0)},0),a=t.reduce((l,u)=>({...l,[u.difficulty]:l[u.difficulty]+1}),{easy:0,medium:0,hard:0}),s={totalQuizzes:t.length,completedQuizzes:r.length,averageScore:r.length>0?i/r.length:0,difficultyBreakdown:a,lastQuizDate:t.length>0?t[t.length-1].startedAt:void 0};e({statistics:s})},saveSessionToFirestore:async t=>{try{const{db:r}=await Ti(async()=>{const{db:s}=await Promise.resolve().then(()=>pp);return{db:s}},void 0),{doc:i,setDoc:a}=await Ti(async()=>{const{doc:s,setDoc:l}=await import("./firebase-Bm-nAVUv.js").then(u=>u.N);return{doc:s,setDoc:l}},[]);await a(i(r,"quizSessions",t.id),{...t,timestamp:new Date().toISOString()}),console.log("Quiz session saved to Firestore:",t.id)}catch(r){console.error("Failed to save quiz session:",r),e({error:"Failed to save quiz session"})}},fetchUserSessions:async t=>{try{e({loading:!0,error:null});const{db:r}=await Ti(async()=>{const{db:b}=await Promise.resolve().then(()=>pp);return{db:b}},void 0),{collection:i,query:a,where:s,getDocs:l,orderBy:u}=await Ti(async()=>{const{collection:b,query:g,where:v,getDocs:x,orderBy:C}=await import("./firebase-Bm-nAVUv.js").then(S=>S.N);return{collection:b,query:g,where:v,getDocs:x,orderBy:C}},[]),f=a(i(r,"quizSessions"),s("userId","==",t),u("startedAt","desc")),m=(await l(f)).docs.map(b=>({id:b.id,...b.data()}));e({sessions:m,loading:!1}),n().updateStatistics()}catch(r){r instanceof Error&&r.message.includes("permissions")?(console.warn("User does not have permission to access quiz sessions"),e({sessions:[],loading:!1,error:null})):(console.error("Failed to fetch quiz sessions:",r),e({error:"Failed to fetch quiz sessions",loading:!1}))}},reset:()=>{e({currentSession:null,sessions:[],statistics:r_,isModalOpen:!1,currentChatbotId:null,currentDifficulty:"medium",loading:!1,error:null,isQuizActive:!1,currentAnswers:{},lastSummary:null})}}),{name:"quiz-store",partialize:e=>({currentDifficulty:e.currentDifficulty}),merge:(e,n)=>({...n,...e||{},currentDifficulty:(e==null?void 0:e.currentDifficulty)||"medium"})}),{name:"quiz-store"})),lh=cr(),uh={QUIZ_SESSIONS:"quizSessions",QUIZ_EVENTS:"quizEvents"},E1e=async(e,n)=>{try{const t=Ni.now(),r=Ni.fromDate(new Date(e.startedAt)),i=5*1e3,a=Ni.fromMillis(r.toMillis()-i),s=Ni.fromMillis(r.toMillis()+i),l=Hl(mn(lh,uh.QUIZ_SESSIONS),Hi("quizId","==",e.quizId),Hi("userId","==",n),Hi("startedAt",">=",a),Hi("startedAt","<=",s),Qv(1)),u=await _i(l);if(!u.empty){console.log(" Quiz session with same start time already exists, skipping duplicate:",{quizId:e.quizId,startedAt:e.startedAt,userId:n.substring(0,8)+"...",existingSessionId:u.docs[0].id});return}const f={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,startedAt:Ni.fromDate(new Date(e.startedAt)),completed:!1,difficulty:e.selection.mode,selection:{mode:e.selection.mode,target:e.selection.target,finalCount:e.selection.finalCount},createdAt:t,updatedAt:t},h={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,eventType:"quiz_started",timestamp:t,data:e,createdAt:t};await Promise.all([Di(mn(lh,uh.QUIZ_SESSIONS),f),Di(mn(lh,uh.QUIZ_EVENTS),h)]),console.log(" Quiz start event saved to Firestore:",{quizId:e.quizId,difficulty:e.selection.mode,userId:n.substring(0,8)+"..."})}catch(t){throw console.error(" Error saving quiz start event:",t),t}},j1e=async(e,n)=>{try{const t=Ni.now(),r={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,eventType:"answer_changed",timestamp:t,data:{quizId:e.quizId,chatbotId:e.chatbotId,questionId:e.questionId,value:e.value,answers:e.answers},createdAt:t};await Di(mn(lh,uh.QUIZ_EVENTS),r),console.log(" Answer change event saved to Firestore:",{quizId:e.quizId,questionId:e.questionId,userId:n.substring(0,8)+"..."})}catch(t){console.error(" Error saving answer change event:",t)}},T1e=async(e,n)=>{try{const t=Ni.now(),r=Ni.fromMillis(t.toMillis()-3600*1e3),i=Hl(mn(lh,uh.QUIZ_SESSIONS),Hi("quizId","==",e.quizId),Hi("userId","==",n),Hi("completed","==",!1),Hi("createdAt",">=",r),Gv("createdAt","desc")),a=await _i(i);if(a.empty)throw console.error(" No incomplete session found for quiz submission - this should not happen!",{quizId:e.quizId,userId:n.substring(0,8)+"...",submittedAt:e.submittedAt}),new Error("No matching quiz session found for submission");{const l=a.docs[0],u=l.ref,f=l.data(),h={submittedAt:Ni.fromDate(new Date(e.submittedAt)),completed:!0,finalAnswers:e.answers,summary:e.summary,updatedAt:t};await qr(u,h),console.log(" Updated quiz session:",{quizId:e.quizId,difficulty:f.difficulty,score:`${e.summary.total_score}/${e.summary.total_max}`,userId:n.substring(0,8)+"..."})}const s={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,eventType:"quiz_submitted",timestamp:t,data:e,createdAt:t};await Di(mn(lh,uh.QUIZ_EVENTS),s),console.log(" Quiz submission saved to Firestore:",{quizId:e.quizId,score:`${e.summary.total_score}/${e.summary.total_max} (${e.summary.percent}%)`})}catch(t){throw console.error(" Error saving quiz submission:",t),t}},N1e=async(e,n)=>{try{const t=Ni.now(),r=Hl(mn(lh,uh.QUIZ_SESSIONS),Hi("quizId","==",e.quizId),Hi("userId","==",n)),i=await _i(r);if(!i.empty){const l=i.docs[0].ref,u={closedAt:Ni.fromDate(new Date(e.closedAt)),updatedAt:t};e.completed&&e.summary&&(u.completed=!0,u.finalAnswers=e.answers,u.summary=e.summary),await qr(l,u)}const a={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,eventType:"quiz_closed",timestamp:t,data:e,createdAt:t};await Di(mn(lh,uh.QUIZ_EVENTS),a),console.log(" Quiz close event saved to Firestore:",{quizId:e.quizId,completed:e.completed})}catch(t){throw console.error(" Error saving quiz close event:",t),t}},R9=M.forwardRef(({chatbotId:e,difficulty:n,open:t,onClose:r,eventHandlers:i},a)=>{const{userDetails:s}=Ii(),l=M.useRef(null),{startQuiz:u,updateAnswers:f,submitQuiz:h,closeQuiz:m,setError:b}=L9(),g=M.useCallback(A=>{console.log("Quiz started:",A),u(A),s!=null&&s.uid&&E1e(A,s.uid).catch(N=>{console.error("Failed to save quiz start event:",N)}),i!=null&&i.onQuizStart&&i.onQuizStart(A)},[s==null?void 0:s.uid,u,i]),v=M.useCallback(A=>{if(console.log("Answer changed:",A),f(A),s!=null&&s.uid){const N={...A,chatbotId:A.chatbotId||e};j1e(N,s.uid).catch(P=>{console.warn("Failed to save answer change event:",P)})}i!=null&&i.onAnswerChange&&i.onAnswerChange(A)},[f,i,s==null?void 0:s.uid,e]),x=M.useCallback(A=>{console.log("Quiz submitted:",A),h(A),s!=null&&s.uid&&T1e(A,s.uid).catch(N=>{console.error("Failed to save quiz submission event:",N)}),i!=null&&i.onQuizSubmit&&i.onQuizSubmit(A)},[h,i,s==null?void 0:s.uid]),C=M.useCallback(A=>{console.log("Quiz closed:",A),m(A),s!=null&&s.uid&&N1e(A,s.uid).catch(N=>{console.error("Failed to save quiz close event:",N)}),i!=null&&i.onQuizClose&&i.onQuizClose(A)},[m,i,s==null?void 0:s.uid]),S=M.useCallback((A,N)=>{console.error("Error in",N,A),b(`Quiz ${N} failed: ${A.message}`),i!=null&&i.onError&&i.onError(A,N)},[b,i]);return M.useImperativeHandle(a,()=>({reloadQuiz:()=>{l.current&&l.current.reloadQuiz()},clearProgress:()=>{l.current&&l.current.clearProgress()},submit:()=>{l.current&&l.current.submit()},getAnswers:()=>l.current?l.current.getAnswers():{},getSummary:()=>l.current?l.current.getSummary():null,close:()=>{l.current&&l.current.close(),r()}})),d.jsx(k1e,{ref:l,chatbotId:e,open:t,onClose:r,difficulty:n,onQuizStart:g,onAnswerChange:v,onQuizSubmit:x,onQuizClose:C,onError:S})});R9.displayName="QuizWrapper";const D1e=({onStartQuiz:e,disabled:n=!1})=>{const[t,r]=M.useState(null),i=!!t,a=f=>{r(f.currentTarget)},s=()=>{r(null)},l=f=>{e(f),s()},u=[{value:"easy",description:"~5 questions",icon:d.jsx(Yd,{color:"success"}),color:"success"},{value:"medium",description:"~8 questions",icon:d.jsx(gC,{color:"warning"}),color:"warning"},{value:"hard",description:"Up to 10 questions",icon:d.jsx(PP,{color:"error"}),color:"error"}];return d.jsxs(d.Fragment,{children:[d.jsx(xt,{variant:"contained",onClick:a,disabled:n,startIcon:i?d.jsx(ev,{}):d.jsx(Ul,{}),sx:{background:"#0B53C0",color:"white",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",fontWeight:"bold",px:3,py:1.5,borderRadius:"12px",textTransform:"none","&:hover":{background:"#064a9e",boxShadow:"0px 4px 12px rgba(11, 83, 192, 0.3)"},"&:disabled":{background:"#ccc",color:"#999"},boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",transition:"all 0.2s ease-in-out"},children:"Start Quiz"}),d.jsxs(RP,{anchorEl:t,open:i,onClose:s,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"right"},PaperProps:{sx:{minWidth:300,borderRadius:2,border:"1px solid #e0e0e0",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)","& .MuiMenuItem-root":{py:1.5,px:2,borderRadius:1,mx:1,mb:.5,"&:hover":{backgroundColor:"#f5f5f5",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},"&:last-child":{mb:1}}}},children:[d.jsx(se,{sx:{px:2,py:1.5,borderBottom:"1px solid #e0e0e0",backgroundColor:"#CDDAFF"},children:d.jsx(te,{variant:"subtitle1",sx:{fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.1rem",textAlign:"center"},children:"Select Quiz Difficulty"})}),u.map(f=>d.jsxs(xi,{onClick:()=>l(f.value),children:[d.jsx(_x,{sx:{minWidth:40},children:f.icon}),d.jsx(Tc,{primary:d.jsx(te,{variant:"body1",sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1.1rem",color:"#333",fontWeight:"bold"},children:f.value.charAt(0).toUpperCase()+f.value.slice(1)}),secondary:d.jsx(te,{variant:"body2",sx:{fontFamily:"Gabarito, sans-serif",color:"#666",fontSize:"0.875rem"},children:f.description})})]},f.value))]})]})},M0="ce5f7921-a3a0-4ea7-b95f-10fe41becda5",_1e=({defaultDifficulty:e="medium",position:n="fixed"})=>{const{userDetails:t}=Ii(),[r]=Ab(),i=M.useRef(null),{isModalOpen:a,currentChatbotId:s,currentDifficulty:l,statistics:u,openQuizModal:f,closeQuizModal:h,setDifficulty:m,fetchUserSessions:b,setError:g}=L9(),[v,x]=it.useState(M0);M.useEffect(()=>{const P=r.get("material");if(!P){v!==M0&&x(M0);return}(async()=>{try{console.log(" Fetching chatbot ID for quiz material:",P);const B=cr(),j=mn(B,"chatbots"),F=Hl(j,Hi("material.id","==",P)),V=await _i(F);if(V.empty)console.log(` No chatbot found for material ${P}, using default for quiz:`,M0),x(M0);else{const X=V.docs[0].data();console.log(` Found chatbot for quiz material ${P}:`,X.chatbotId),x(X.chatbotId)}}catch(B){console.error("Failed to fetch chatbot for quiz:",B),g("Failed to load quiz for this material"),x(M0)}})()},[r,v,g]),M.useEffect(()=>{t!=null&&t.uid&&(t.isAdmin||t.isSuperAdmin)&&b(t.uid)},[t==null?void 0:t.uid,t==null?void 0:t.isAdmin,t==null?void 0:t.isSuperAdmin,b]),M.useEffect(()=>{m(e)},[e,m]);const C=M.useCallback(P=>{v?f(v,P):g("No chatbot available for quiz")},[v,f,g]),S=M.useCallback(()=>{h()},[h]);if(!(t!=null&&t.uid)||!r.get("material"))return null;const N=n==="fixed"?{position:"fixed",bottom:120,right:16,zIndex:1e3}:{position:"relative"};return d.jsxs(d.Fragment,{children:[d.jsx(se,{sx:N,children:d.jsx(D1e,{onStartQuiz:C,disabled:!v})}),a&&s&&d.jsx(R9,{ref:i,chatbotId:s,difficulty:l,open:a,onClose:S,eventHandlers:{onQuizStart:P=>{},onQuizSubmit:P=>{},onError:(P,U)=>{console.error("Quiz error:",U,P)}}})]})},I1e=({children:e})=>d.jsxs(se,{sx:{display:"flex",flexDirection:"column",minHeight:"100vh",backgroundColor:K.background.primary},children:[d.jsx(se,{component:"header",sx:{height:"12.5vh",minHeight:90,maxHeight:120,zIndex:1e3,flexShrink:0,position:"relative"},children:d.jsx(_ae,{})}),d.jsx(se,{component:"main",sx:{flex:1,display:"flex",minHeight:0},children:d.jsx(Dae,{children:e})}),d.jsx(se,{component:"footer",sx:{height:"10vh",minHeight:70,maxHeight:100,flexShrink:0},children:d.jsx(Iae,{})}),d.jsx(Ppe,{}),d.jsx(_1e,{}),d.jsx(ez,{})]}),O1e=()=>{const{userDetails:e,isSuperAdmin:n}=Ii(),t=Eae(e,n),r=B3(t);return e!=null&&e.uid?d.jsx(I1e,{children:r}):r},M1e=()=>{const{userDetails:e,loading:n}=Ii();if(n)return d.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:d.jsx(pi,{})});const t=void 0;return e!=null&&e.uid,d.jsxs(FP,{theme:jae,children:[d.jsx(zP,{}),d.jsx(aF,{basename:t,future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:d.jsx(M.Suspense,{fallback:d.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:d.jsx(pi,{})}),children:d.jsx(O1e,{})})})]})},L1e=document.getElementById("root"),R1e=f3.createRoot(L1e);R1e.render(d.jsx(DF,{children:d.jsx(M1e,{})}));export{aI as A,sI as B,Mm as C,Iae as D,_H as E,zz as F,pp as G,H1e as H,Do as P,u2 as R,Ti as _,Bt as a,Ct as b,K as c,Rc as d,$_ as e,Na as f,vC as g,Tp as h,kb as i,ct as j,$F as k,rT as l,iT as m,Ab as n,JF as o,e2 as p,$1e as q,ul as r,Pe as s,xe as t,Ii as u,Vi as v,eI as w,BF as x,Pz as y,Fz as z};
