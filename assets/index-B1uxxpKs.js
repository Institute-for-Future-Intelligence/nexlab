const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CnHv9fDW.js","assets/vendor-wzZzN_Jv.js","assets/index-CyJar8ki.js","assets/MaterialImportWrapper-2ybJ021i.js","assets/ui-DUOFynya.js","assets/firebase-BbBYlhCW.js","assets/index.es-BbJgBR3r.js","assets/index-CsuiuPwt.js","assets/index-CIor5ys9.js","assets/purify.es-CQJ0hv7W.js","assets/SupplementalMaterials-_xJQyzqM.js"])))=>i.map(i=>d[i]);
var VV=Object.defineProperty;var HV=(t,i,r)=>i in t?VV(t,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[i]=r;var Jt=(t,i,r)=>HV(t,typeof i!="symbol"?i+"":i,r);import{r as ae,R as P4,j as x,C as ji,u as $V,a as fs,b as ps,P as Ar,T as Pe,B as Be,c as xt,A as Pr,d as vt,e as Dl,f as Ku,g as WV,h as jh,G as Zt,D as iu,I as ur,E as a5,i as Kd,k as l5,l as Ms,m as Ns,n as Os,o as fc,p as Bs,q as qh,s as Vh,t as Xr,v as Hh,L as Iy,S as Il,w as nx,x as W0,y as Wg,z as _n,M as Lr,F as GV,H as Da,J as YV,K as hf,N as R4,O as uk,Q as wk,U as KV,V as Om,W as QV,X as Tj,Y as Dx,_ as qi,Z as kM,$ as ZV,a0 as Ix,a1 as lf,a2 as cf,a3 as rd,a4 as JV,a5 as Mj,a6 as fp,a7 as pp,a8 as mp,a9 as Xs,aa as Ht,ab as gp,ac as XV,ad as tp,ae as np,af as eH,ag as tH,ah as G0,ai as Gg,aj as nH,ak as rH,al as iH,am as F4,an as DE,ao as oH,ap as sH,aq as aH,ar as lH,as as cH,at as IE,au as Nj,av as uH,aw as wM,ax as c5,ay as dH,az as hH,aA as fH,aB as pH,aC as Gd,aD as Ph,aE as Oj,aF as Tx,aG as mH,aH as gH,aI as TE,aJ as bH,aK as kH,aL as wH,aM as vH,aN as vy,aO as yH,aP as AH,aQ as Zn,aR as Bj,aS as jj,aT as Lj,aU as Pj,aV as Rj,aW as Fj,aX as _H,aY as CH,aZ as xH,a_ as SH,a$ as EH,b0 as DH,b1 as IH,b2 as TH}from"./ui-DUOFynya.js";import{r as MH,a as NH,g as Si,b as OH,c as Em}from"./vendor-wzZzN_Jv.js";import{g as BH,G as jH,o as LH,b as PH,a as RH,s as FH,c as zH,d as UH,P as Rr,e as Wn,f as ll,h as $h,m as zj,i as gi,I as Uj,j as qH,k as Hm,R as Xd,x as u5,_ as dr,y as Yy,r as Qd,u as Bm,l as rp,n as qj,p as da,q as xl,t as Qo,K as VH,W as z4,v as nd,Q as HH}from"./firebase-BbBYlhCW.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function r(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=r(a);fetch(a.href,c)}})();var b3={exports:{}},Cv={},k3={exports:{}},w3={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vM;function $H(){return vM||(vM=1,function(t){function i(ue,de){var ge=ue.length;ue.push(de);e:for(;0<ge;){var Ie=ge-1>>>1,ce=ue[Ie];if(0<a(ce,de))ue[Ie]=de,ue[ge]=ce,ge=Ie;else break e}}function r(ue){return ue.length===0?null:ue[0]}function o(ue){if(ue.length===0)return null;var de=ue[0],ge=ue.pop();if(ge!==de){ue[0]=ge;e:for(var Ie=0,ce=ue.length,Te=ce>>>1;Ie<Te;){var re=2*(Ie+1)-1,te=ue[re],ke=re+1,be=ue[ke];if(0>a(te,ge))ke<ce&&0>a(be,te)?(ue[Ie]=be,ue[ke]=ge,Ie=ke):(ue[Ie]=te,ue[re]=ge,Ie=re);else if(ke<ce&&0>a(be,ge))ue[Ie]=be,ue[ke]=ge,Ie=ke;else break e}}return de}function a(ue,de){var ge=ue.sortIndex-de.sortIndex;return ge!==0?ge:ue.id-de.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();t.unstable_now=function(){return d.now()-p}}var m=[],k=[],w=1,_=null,C=3,v=!1,D=!1,E=!1,O=!1,M=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function G(ue){for(var de=r(k);de!==null;){if(de.callback===null)o(k);else if(de.startTime<=ue)o(k),de.sortIndex=de.expirationTime,i(m,de);else break;de=r(k)}}function J(ue){if(E=!1,G(ue),!D)if(r(m)!==null)D=!0,H||(H=!0,K());else{var de=r(k);de!==null&&fe(J,de.startTime-ue)}}var H=!1,z=-1,Z=5,Y=-1;function se(){return O?!0:!(t.unstable_now()-Y<Z)}function X(){if(O=!1,H){var ue=t.unstable_now();Y=ue;var de=!0;try{e:{D=!1,E&&(E=!1,j(z),z=-1),v=!0;var ge=C;try{t:{for(G(ue),_=r(m);_!==null&&!(_.expirationTime>ue&&se());){var Ie=_.callback;if(typeof Ie=="function"){_.callback=null,C=_.priorityLevel;var ce=Ie(_.expirationTime<=ue);if(ue=t.unstable_now(),typeof ce=="function"){_.callback=ce,G(ue),de=!0;break t}_===r(m)&&o(m),G(ue)}else o(m);_=r(m)}if(_!==null)de=!0;else{var Te=r(k);Te!==null&&fe(J,Te.startTime-ue),de=!1}}break e}finally{_=null,C=ge,v=!1}de=void 0}}finally{de?K():H=!1}}}var K;if(typeof F=="function")K=function(){F(X)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,q=U.port2;U.port1.onmessage=X,K=function(){q.postMessage(null)}}else K=function(){M(X,0)};function fe(ue,de){z=M(function(){ue(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ue){ue.callback=null},t.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<ue?Math.floor(1e3/ue):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_next=function(ue){switch(C){case 1:case 2:case 3:var de=3;break;default:de=C}var ge=C;C=de;try{return ue()}finally{C=ge}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(ue,de){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var ge=C;C=ue;try{return de()}finally{C=ge}},t.unstable_scheduleCallback=function(ue,de,ge){var Ie=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Ie+ge:Ie):ge=Ie,ue){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=ge+ce,ue={id:w++,callback:de,priorityLevel:ue,startTime:ge,expirationTime:ce,sortIndex:-1},ge>Ie?(ue.sortIndex=ge,i(k,ue),r(m)===null&&ue===r(k)&&(E?(j(z),z=-1):E=!0,fe(J,ge-Ie))):(ue.sortIndex=ce,i(m,ue),D||v||(D=!0,H||(H=!0,K()))),ue},t.unstable_shouldYield=se,t.unstable_wrapCallback=function(ue){var de=C;return function(){var ge=C;C=de;try{return ue.apply(this,arguments)}finally{C=ge}}}}(w3)),w3}var yM;function WH(){return yM||(yM=1,k3.exports=$H()),k3.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AM;function GH(){if(AM)return Cv;AM=1;var t=WH(),i=MH(),r=NH();function o(h){var g="https://react.dev/errors/"+h;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)g+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function c(h){var g=h,A=h;if(h.alternate)for(;g.return;)g=g.return;else{h=g;do g=h,(g.flags&4098)!==0&&(A=g.return),h=g.return;while(h)}return g.tag===3?A:null}function d(h){if(h.tag===13){var g=h.memoizedState;if(g===null&&(h=h.alternate,h!==null&&(g=h.memoizedState)),g!==null)return g.dehydrated}return null}function p(h){if(c(h)!==h)throw Error(o(188))}function m(h){var g=h.alternate;if(!g){if(g=c(h),g===null)throw Error(o(188));return g!==h?null:h}for(var A=h,I=g;;){var L=A.return;if(L===null)break;var V=L.alternate;if(V===null){if(I=L.return,I!==null){A=I;continue}break}if(L.child===V.child){for(V=L.child;V;){if(V===A)return p(L),h;if(V===I)return p(L),g;V=V.sibling}throw Error(o(188))}if(A.return!==I.return)A=L,I=V;else{for(var he=!1,Se=L.child;Se;){if(Se===A){he=!0,A=L,I=V;break}if(Se===I){he=!0,I=L,A=V;break}Se=Se.sibling}if(!he){for(Se=V.child;Se;){if(Se===A){he=!0,A=V,I=L;break}if(Se===I){he=!0,I=V,A=L;break}Se=Se.sibling}if(!he)throw Error(o(189))}}if(A.alternate!==I)throw Error(o(190))}if(A.tag!==3)throw Error(o(188));return A.stateNode.current===A?h:g}function k(h){var g=h.tag;if(g===5||g===26||g===27||g===6)return h;for(h=h.child;h!==null;){if(g=k(h),g!==null)return g;h=h.sibling}return null}var w=Object.assign,_=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),F=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function K(h){return h===null||typeof h!="object"?null:(h=X&&h[X]||h["@@iterator"],typeof h=="function"?h:null)}var U=Symbol.for("react.client.reference");function q(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===U?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case D:return"Fragment";case O:return"Profiler";case E:return"StrictMode";case J:return"Suspense";case H:return"SuspenseList";case Y:return"Activity"}if(typeof h=="object")switch(h.$$typeof){case v:return"Portal";case F:return(h.displayName||"Context")+".Provider";case j:return(h._context.displayName||"Context")+".Consumer";case G:var g=h.render;return h=h.displayName,h||(h=g.displayName||g.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case z:return g=h.displayName||null,g!==null?g:q(h.type)||"Memo";case Z:g=h._payload,h=h._init;try{return q(h(g))}catch{}}return null}var fe=Array.isArray,ue=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Ie=[],ce=-1;function Te(h){return{current:h}}function re(h){0>ce||(h.current=Ie[ce],Ie[ce]=null,ce--)}function te(h,g){ce++,Ie[ce]=h.current,h.current=g}var ke=Te(null),be=Te(null),ve=Te(null),Re=Te(null);function Oe(h,g){switch(te(ve,g),te(be,h),te(ke,null),g.nodeType){case 9:case 11:h=(h=g.documentElement)&&(h=h.namespaceURI)?s_(h):0;break;default:if(h=g.tagName,g=g.namespaceURI)g=s_(g),h=A1(g,h);else switch(h){case"svg":h=1;break;case"math":h=2;break;default:h=0}}re(ke),te(ke,h)}function Ue(){re(ke),re(be),re(ve)}function Ze(h){h.memoizedState!==null&&te(Re,h);var g=ke.current,A=A1(g,h.type);g!==A&&(te(be,h),te(ke,A))}function Ge(h){be.current===h&&(re(ke),re(be)),Re.current===h&&(re(Re),Ig._currentValue=ge)}var ft=Object.prototype.hasOwnProperty,gt=t.unstable_scheduleCallback,oe=t.unstable_cancelCallback,Le=t.unstable_shouldYield,we=t.unstable_requestPaint,Ee=t.unstable_now,Ae=t.unstable_getCurrentPriorityLevel,Ne=t.unstable_ImmediatePriority,Ke=t.unstable_UserBlockingPriority,Xe=t.unstable_NormalPriority,ze=t.unstable_LowPriority,dt=t.unstable_IdlePriority,wt=t.log,ot=t.unstable_setDisableYieldValue,pt=null,He=null;function at(h){if(typeof wt=="function"&&ot(h),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(pt,h)}catch{}}var kt=Math.clz32?Math.clz32:jn,Gt=Math.log,yt=Math.LN2;function jn(h){return h>>>=0,h===0?32:31-(Gt(h)/yt|0)|0}var on=256,kr=4194304;function xn(h){var g=h&42;if(g!==0)return g;switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return h&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return h}}function In(h,g,A){var I=h.pendingLanes;if(I===0)return 0;var L=0,V=h.suspendedLanes,he=h.pingedLanes;h=h.warmLanes;var Se=I&134217727;return Se!==0?(I=Se&~V,I!==0?L=xn(I):(he&=Se,he!==0?L=xn(he):A||(A=Se&~h,A!==0&&(L=xn(A))))):(Se=I&~V,Se!==0?L=xn(Se):he!==0?L=xn(he):A||(A=I&~h,A!==0&&(L=xn(A)))),L===0?0:g!==0&&g!==L&&(g&V)===0&&(V=L&-L,A=g&-g,V>=A||V===32&&(A&4194048)!==0)?g:L}function Fn(h,g){return(h.pendingLanes&~(h.suspendedLanes&~h.pingedLanes)&g)===0}function Gn(h,g){switch(h){case 1:case 2:case 4:case 8:case 64:return g+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ei(){var h=on;return on<<=1,(on&4194048)===0&&(on=256),h}function tr(){var h=kr;return kr<<=1,(kr&62914560)===0&&(kr=4194304),h}function wr(h){for(var g=[],A=0;31>A;A++)g.push(h);return g}function mr(h,g){h.pendingLanes|=g,g!==268435456&&(h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0)}function vr(h,g,A,I,L,V){var he=h.pendingLanes;h.pendingLanes=A,h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0,h.expiredLanes&=A,h.entangledLanes&=A,h.errorRecoveryDisabledLanes&=A,h.shellSuspendCounter=0;var Se=h.entanglements,Ve=h.expirationTimes,ct=h.hiddenUpdates;for(A=he&~A;0<A;){var Tt=31-kt(A),St=1<<Tt;Se[Tt]=0,Ve[Tt]=-1;var ht=ct[Tt];if(ht!==null)for(ct[Tt]=null,Tt=0;Tt<ht.length;Tt++){var mt=ht[Tt];mt!==null&&(mt.lane&=-536870913)}A&=~St}I!==0&&fn(h,I,0),V!==0&&L===0&&h.tag!==0&&(h.suspendedLanes|=V&~(he&~g))}function fn(h,g,A){h.pendingLanes|=g,h.suspendedLanes&=~g;var I=31-kt(g);h.entangledLanes|=g,h.entanglements[I]=h.entanglements[I]|1073741824|A&4194090}function nr(h,g){var A=h.entangledLanes|=g;for(h=h.entanglements;A;){var I=31-kt(A),L=1<<I;L&g|h[I]&g&&(h[I]|=g),A&=~L}}function Jo(h){switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=128;break;case 268435456:h=134217728;break;default:h=0}return h}function ki(h){return h&=-h,2<h?8<h?(h&134217727)!==0?32:268435456:8:2}function Xo(){var h=de.p;return h!==0?h:(h=window.event,h===void 0?32:lm(h.type))}function es(h,g){var A=de.p;try{return de.p=h,g()}finally{de.p=A}}var hn=Math.random().toString(36).slice(2),xr="__reactFiber$"+hn,rr="__reactProps$"+hn,wi="__reactContainer$"+hn,Mr="__reactEvents$"+hn,$r="__reactListeners$"+hn,di="__reactHandles$"+hn,Tl="__reactResources$"+hn,ks="__reactMarker$"+hn;function ws(h){delete h[xr],delete h[rr],delete h[Mr],delete h[$r],delete h[di]}function bo(h){var g=h[xr];if(g)return g;for(var A=h.parentNode;A;){if(g=A[wi]||A[xr]){if(A=g.alternate,g.child!==null||A!==null&&A.child!==null)for(h=S1(h);h!==null;){if(A=h[xr])return A;h=S1(h)}return g}h=A,A=h.parentNode}return null}function Ei(h){if(h=h[xr]||h[wi]){var g=h.tag;if(g===5||g===6||g===13||g===26||g===27||g===3)return h}return null}function ao(h){var g=h.tag;if(g===5||g===26||g===27||g===6)return h.stateNode;throw Error(o(33))}function lo(h){var g=h[Tl];return g||(g=h[Tl]={hoistableStyles:new Map,hoistableScripts:new Map}),g}function Fr(h){h[ks]=!0}var cl=new Set,Ml={};function Ki(h,g){vs(h,g),vs(h+"Capture",g)}function vs(h,g){for(Ml[h]=g,h=0;h<g.length;h++)cl.add(g[h])}var Nl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cu={},Ft={};function qt(h){return ft.call(Ft,h)?!0:ft.call(cu,h)?!1:Nl.test(h)?Ft[h]=!0:(cu[h]=!0,!1)}function $t(h,g,A){if(qt(g))if(A===null)h.removeAttribute(g);else{switch(typeof A){case"undefined":case"function":case"symbol":h.removeAttribute(g);return;case"boolean":var I=g.toLowerCase().slice(0,5);if(I!=="data-"&&I!=="aria-"){h.removeAttribute(g);return}}h.setAttribute(g,""+A)}}function mn(h,g,A){if(A===null)h.removeAttribute(g);else{switch(typeof A){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(g);return}h.setAttribute(g,""+A)}}function sn(h,g,A,I){if(I===null)h.removeAttribute(A);else{switch(typeof I){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(A);return}h.setAttributeNS(g,A,""+I)}}var Kn,zr;function Yr(h){if(Kn===void 0)try{throw Error()}catch(A){var g=A.stack.trim().match(/\n( *(at )?)/);Kn=g&&g[1]||"",zr=-1<A.stack.indexOf(`
    at`)?" (<anonymous>)":-1<A.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kn+h+zr}var Di=!1;function ko(h,g){if(!h||Di)return"";Di=!0;var A=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var I={DetermineComponentFrameRoot:function(){try{if(g){var St=function(){throw Error()};if(Object.defineProperty(St.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(St,[])}catch(mt){var ht=mt}Reflect.construct(h,[],St)}else{try{St.call()}catch(mt){ht=mt}h.call(St.prototype)}}else{try{throw Error()}catch(mt){ht=mt}(St=h())&&typeof St.catch=="function"&&St.catch(function(){})}}catch(mt){if(mt&&ht&&typeof mt.stack=="string")return[mt.stack,ht.stack]}return[null,null]}};I.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var L=Object.getOwnPropertyDescriptor(I.DetermineComponentFrameRoot,"name");L&&L.configurable&&Object.defineProperty(I.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var V=I.DetermineComponentFrameRoot(),he=V[0],Se=V[1];if(he&&Se){var Ve=he.split(`
`),ct=Se.split(`
`);for(L=I=0;I<Ve.length&&!Ve[I].includes("DetermineComponentFrameRoot");)I++;for(;L<ct.length&&!ct[L].includes("DetermineComponentFrameRoot");)L++;if(I===Ve.length||L===ct.length)for(I=Ve.length-1,L=ct.length-1;1<=I&&0<=L&&Ve[I]!==ct[L];)L--;for(;1<=I&&0<=L;I--,L--)if(Ve[I]!==ct[L]){if(I!==1||L!==1)do if(I--,L--,0>L||Ve[I]!==ct[L]){var Tt=`
`+Ve[I].replace(" at new "," at ");return h.displayName&&Tt.includes("<anonymous>")&&(Tt=Tt.replace("<anonymous>",h.displayName)),Tt}while(1<=I&&0<=L);break}}}finally{Di=!1,Error.prepareStackTrace=A}return(A=h?h.displayName||h.name:"")?Yr(A):""}function js(h){switch(h.tag){case 26:case 27:case 5:return Yr(h.type);case 16:return Yr("Lazy");case 13:return Yr("Suspense");case 19:return Yr("SuspenseList");case 0:case 15:return ko(h.type,!1);case 11:return ko(h.type.render,!1);case 1:return ko(h.type,!0);case 31:return Yr("Activity");default:return""}}function br(h){try{var g="";do g+=js(h),h=h.return;while(h);return g}catch(A){return`
Error generating stack: `+A.message+`
`+A.stack}}function Kr(h){switch(typeof h){case"bigint":case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function uu(h){var g=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function cd(h){var g=uu(h)?"checked":"value",A=Object.getOwnPropertyDescriptor(h.constructor.prototype,g),I=""+h[g];if(!h.hasOwnProperty(g)&&typeof A<"u"&&typeof A.get=="function"&&typeof A.set=="function"){var L=A.get,V=A.set;return Object.defineProperty(h,g,{configurable:!0,get:function(){return L.call(this)},set:function(he){I=""+he,V.call(this,he)}}),Object.defineProperty(h,g,{enumerable:A.enumerable}),{getValue:function(){return I},setValue:function(he){I=""+he},stopTracking:function(){h._valueTracker=null,delete h[g]}}}}function fa(h){h._valueTracker||(h._valueTracker=cd(h))}function du(h){if(!h)return!1;var g=h._valueTracker;if(!g)return!0;var A=g.getValue(),I="";return h&&(I=uu(h)?h.checked?"true":"false":h.value),h=I,h!==A?(g.setValue(h),!0):!1}function ts(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}var mc=/[\n"\\]/g;function ti(h){return h.replace(mc,function(g){return"\\"+g.charCodeAt(0).toString(16)+" "})}function Ia(h,g,A,I,L,V,he,Se){h.name="",he!=null&&typeof he!="function"&&typeof he!="symbol"&&typeof he!="boolean"?h.type=he:h.removeAttribute("type"),g!=null?he==="number"?(g===0&&h.value===""||h.value!=g)&&(h.value=""+Kr(g)):h.value!==""+Kr(g)&&(h.value=""+Kr(g)):he!=="submit"&&he!=="reset"||h.removeAttribute("value"),g!=null?mf(h,he,Kr(g)):A!=null?mf(h,he,Kr(A)):I!=null&&h.removeAttribute("value"),L==null&&V!=null&&(h.defaultChecked=!!V),L!=null&&(h.checked=L&&typeof L!="function"&&typeof L!="symbol"),Se!=null&&typeof Se!="function"&&typeof Se!="symbol"&&typeof Se!="boolean"?h.name=""+Kr(Se):h.removeAttribute("name")}function ih(h,g,A,I,L,V,he,Se){if(V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(h.type=V),g!=null||A!=null){if(!(V!=="submit"&&V!=="reset"||g!=null))return;A=A!=null?""+Kr(A):"",g=g!=null?""+Kr(g):A,Se||g===h.value||(h.value=g),h.defaultValue=g}I=I??L,I=typeof I!="function"&&typeof I!="symbol"&&!!I,h.checked=Se?h.checked:!!I,h.defaultChecked=!!I,he!=null&&typeof he!="function"&&typeof he!="symbol"&&typeof he!="boolean"&&(h.name=he)}function mf(h,g,A){g==="number"&&ts(h.ownerDocument)===h||h.defaultValue===""+A||(h.defaultValue=""+A)}function gc(h,g,A,I){if(h=h.options,g){g={};for(var L=0;L<A.length;L++)g["$"+A[L]]=!0;for(A=0;A<h.length;A++)L=g.hasOwnProperty("$"+h[A].value),h[A].selected!==L&&(h[A].selected=L),L&&I&&(h[A].defaultSelected=!0)}else{for(A=""+Kr(A),g=null,L=0;L<h.length;L++){if(h[L].value===A){h[L].selected=!0,I&&(h[L].defaultSelected=!0);return}g!==null||h[L].disabled||(g=h[L])}g!==null&&(g.selected=!0)}}function ud(h,g,A){if(g!=null&&(g=""+Kr(g),g!==h.value&&(h.value=g),A==null)){h.defaultValue!==g&&(h.defaultValue=g);return}h.defaultValue=A!=null?""+Kr(A):""}function gf(h,g,A,I){if(g==null){if(I!=null){if(A!=null)throw Error(o(92));if(fe(I)){if(1<I.length)throw Error(o(93));I=I[0]}A=I}A==null&&(A=""),g=A}A=Kr(g),h.defaultValue=A,I=h.textContent,I===A&&I!==""&&I!==null&&(h.value=I)}function hu(h,g){if(g){var A=h.firstChild;if(A&&A===h.lastChild&&A.nodeType===3){A.nodeValue=g;return}}h.textContent=g}var bf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wp(h,g,A){var I=g.indexOf("--")===0;A==null||typeof A=="boolean"||A===""?I?h.setProperty(g,""):g==="float"?h.cssFloat="":h[g]="":I?h.setProperty(g,A):typeof A!="number"||A===0||bf.has(g)?g==="float"?h.cssFloat=A:h[g]=(""+A).trim():h[g]=A+"px"}function bc(h,g,A){if(g!=null&&typeof g!="object")throw Error(o(62));if(h=h.style,A!=null){for(var I in A)!A.hasOwnProperty(I)||g!=null&&g.hasOwnProperty(I)||(I.indexOf("--")===0?h.setProperty(I,""):I==="float"?h.cssFloat="":h[I]="");for(var L in g)I=g[L],g.hasOwnProperty(L)&&A[L]!==I&&wp(h,L,I)}else for(var V in g)g.hasOwnProperty(V)&&wp(h,V,g[V])}function fu(h){if(h.indexOf("-")===-1)return!1;switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ul=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ea(h){return ul.test(""+h)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":h}var oh=null;function Qi(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var dl=null,wc=null;function Tn(h){var g=Ei(h);if(g&&(h=g.stateNode)){var A=h[rr]||null;e:switch(h=g.stateNode,g.type){case"input":if(Ia(h,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name),g=A.name,A.type==="radio"&&g!=null){for(A=h;A.parentNode;)A=A.parentNode;for(A=A.querySelectorAll('input[name="'+ti(""+g)+'"][type="radio"]'),g=0;g<A.length;g++){var I=A[g];if(I!==h&&I.form===h.form){var L=I[rr]||null;if(!L)throw Error(o(90));Ia(I,L.value,L.defaultValue,L.defaultValue,L.checked,L.defaultChecked,L.type,L.name)}}for(g=0;g<A.length;g++)I=A[g],I.form===h.form&&du(I)}break e;case"textarea":ud(h,A.value,A.defaultValue);break e;case"select":g=A.value,g!=null&&gc(h,!!A.multiple,g,!1)}}}var Ol=!1;function vp(h,g,A){if(Ol)return h(g,A);Ol=!0;try{var I=h(g);return I}finally{if(Ol=!1,(dl!==null||wc!==null)&&(vg(),dl&&(g=dl,h=wc,wc=dl=null,Tn(g),h)))for(g=0;g<h.length;g++)Tn(h[g])}}function Ls(h,g){var A=h.stateNode;if(A===null)return null;var I=A[rr]||null;if(I===null)return null;A=I[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(I=!I.disabled)||(h=h.type,I=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!I;break e;default:h=!1}if(h)return null;if(A&&typeof A!="function")throw Error(o(231,g,typeof A));return A}var pa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sh=!1;if(pa)try{var Bl={};Object.defineProperty(Bl,"passive",{get:function(){sh=!0}}),window.addEventListener("test",Bl,Bl),window.removeEventListener("test",Bl,Bl)}catch{sh=!1}var Ps=null,kf=null,dd=null;function wf(){if(dd)return dd;var h,g=kf,A=g.length,I,L="value"in Ps?Ps.value:Ps.textContent,V=L.length;for(h=0;h<A&&g[h]===L[h];h++);var he=A-h;for(I=1;I<=he&&g[A-I]===L[V-I];I++);return dd=L.slice(h,1<I?1-I:void 0)}function vc(h){var g=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&g===13&&(h=13)):h=g,h===10&&(h=13),32<=h||h===13?h:0}function ta(){return!0}function yc(){return!1}function wo(h){function g(A,I,L,V,he){this._reactName=A,this._targetInst=L,this.type=I,this.nativeEvent=V,this.target=he,this.currentTarget=null;for(var Se in h)h.hasOwnProperty(Se)&&(A=h[Se],this[Se]=A?A(V):V[Se]);return this.isDefaultPrevented=(V.defaultPrevented!=null?V.defaultPrevented:V.returnValue===!1)?ta:yc,this.isPropagationStopped=yc,this}return w(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var A=this.nativeEvent;A&&(A.preventDefault?A.preventDefault():typeof A.returnValue!="unknown"&&(A.returnValue=!1),this.isDefaultPrevented=ta)},stopPropagation:function(){var A=this.nativeEvent;A&&(A.stopPropagation?A.stopPropagation():typeof A.cancelBubble!="unknown"&&(A.cancelBubble=!0),this.isPropagationStopped=ta)},persist:function(){},isPersistent:ta}),g}var Rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sr=wo(Rs),jl=w({},Rs,{view:0,detail:0}),ah=wo(jl),hd,Ll,Pl,Oo=w({},jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fl,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==Pl&&(Pl&&h.type==="mousemove"?(hd=h.screenX-Pl.screenX,Ll=h.screenY-Pl.screenY):Ll=hd=0,Pl=h),hd)},movementY:function(h){return"movementY"in h?h.movementY:Ll}}),hl=wo(Oo),vf=w({},Oo,{dataTransfer:0}),pu=wo(vf),Ta=w({},jl,{relatedTarget:0}),fd=wo(Ta),Ac=w({},Rs,{animationName:0,elapsedTime:0,pseudoElement:0}),Km=wo(Ac),lh=w({},Rs,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),Qm=wo(lh),mu=w({},Rs,{data:0}),Rl=wo(mu),yp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ch={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Af(h){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(h):(h=yf[h])?!!g[h]:!1}function fl(){return Af}var Zm=w({},jl,{key:function(h){if(h.key){var g=yp[h.key]||h.key;if(g!=="Unidentified")return g}return h.type==="keypress"?(h=vc(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?ch[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fl,charCode:function(h){return h.type==="keypress"?vc(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?vc(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),pd=wo(Zm),gu=w({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),md=wo(gu),_c=w({},jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fl}),uh=wo(_c),$=w({},Rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),me=wo($),Fe=w({},Oo,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),$e=wo(Fe),it=w({},Rs,{newState:0,oldState:0}),_t=wo(it),Wt=[9,13,27,32],tn=pa&&"CompositionEvent"in window,gn=null;pa&&"documentMode"in document&&(gn=document.documentMode);var Vn=pa&&"TextEvent"in window&&!gn,Ln=pa&&(!tn||gn&&8<gn&&11>=gn),hr=" ",Ii=!1;function vi(h,g){switch(h){case"keyup":return Wt.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Li(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var Pi=!1;function co(h,g){switch(h){case"compositionend":return Li(g);case"keypress":return g.which!==32?null:(Ii=!0,hr);case"textInput":return h=g.data,h===hr&&Ii?null:h;default:return null}}function Ma(h,g){if(Pi)return h==="compositionend"||!tn&&vi(h,g)?(h=wf(),dd=kf=Ps=null,Pi=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return Ln&&g.locale!=="ko"?null:g.data;default:return null}}var na={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Na(h){var g=h&&h.nodeName&&h.nodeName.toLowerCase();return g==="input"?!!na[h.type]:g==="textarea"}function dh(h,g,A,I){dl?wc?wc.push(I):wc=[I]:dl=I,g=zi(g,"onChange"),0<g.length&&(A=new Sr("onChange","change",null,A,I),h.push({event:A,listeners:g}))}var Fl=null,Cc=null;function hh(h){tm(h,0)}function bu(h){var g=ao(h);if(du(g))return h}function fh(h,g){if(h==="change")return g}var gd=!1;if(pa){var yi;if(pa){var Oa="oninput"in document;if(!Oa){var bd=document.createElement("div");bd.setAttribute("oninput","return;"),Oa=typeof bd.oninput=="function"}yi=Oa}else yi=!1;gd=yi&&(!document.documentMode||9<document.documentMode)}function kd(){Fl&&(Fl.detachEvent("onpropertychange",xc),Cc=Fl=null)}function xc(h){if(h.propertyName==="value"&&bu(Cc)){var g=[];dh(g,Cc,h,Qi(h)),vp(hh,g)}}function ys(h,g,A){h==="focusin"?(kd(),Fl=g,Cc=A,Fl.attachEvent("onpropertychange",xc)):h==="focusout"&&kd()}function Jm(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return bu(Cc)}function _f(h,g){if(h==="click")return bu(g)}function Ap(h,g){if(h==="input"||h==="change")return bu(g)}function ma(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var vo=typeof Object.is=="function"?Object.is:ma;function ku(h,g){if(vo(h,g))return!0;if(typeof h!="object"||h===null||typeof g!="object"||g===null)return!1;var A=Object.keys(h),I=Object.keys(g);if(A.length!==I.length)return!1;for(I=0;I<A.length;I++){var L=A[I];if(!ft.call(g,L)||!vo(h[L],g[L]))return!1}return!0}function ph(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function Sc(h,g){var A=ph(h);h=0;for(var I;A;){if(A.nodeType===3){if(I=h+A.textContent.length,h<=g&&I>=g)return{node:A,offset:g-h};h=I}e:{for(;A;){if(A.nextSibling){A=A.nextSibling;break e}A=A.parentNode}A=void 0}A=ph(A)}}function Ec(h,g){return h&&g?h===g?!0:h&&h.nodeType===3?!1:g&&g.nodeType===3?Ec(h,g.parentNode):"contains"in h?h.contains(g):h.compareDocumentPosition?!!(h.compareDocumentPosition(g)&16):!1:!1}function Fs(h){h=h!=null&&h.ownerDocument!=null&&h.ownerDocument.defaultView!=null?h.ownerDocument.defaultView:window;for(var g=ts(h.document);g instanceof h.HTMLIFrameElement;){try{var A=typeof g.contentWindow.location.href=="string"}catch{A=!1}if(A)h=g.contentWindow;else break;g=ts(h.document)}return g}function Bo(h){var g=h&&h.nodeName&&h.nodeName.toLowerCase();return g&&(g==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||g==="textarea"||h.contentEditable==="true")}var wu=pa&&"documentMode"in document&&11>=document.documentMode,zs=null,pl=null,zl=null,Ba=!1;function Vi(h,g,A){var I=A.window===A?A.document:A.nodeType===9?A:A.ownerDocument;Ba||zs==null||zs!==ts(I)||(I=zs,"selectionStart"in I&&Bo(I)?I={start:I.selectionStart,end:I.selectionEnd}:(I=(I.ownerDocument&&I.ownerDocument.defaultView||window).getSelection(),I={anchorNode:I.anchorNode,anchorOffset:I.anchorOffset,focusNode:I.focusNode,focusOffset:I.focusOffset}),zl&&ku(zl,I)||(zl=I,I=zi(pl,"onSelect"),0<I.length&&(g=new Sr("onSelect","select",null,g,A),h.push({event:g,listeners:I}),g.target=zs)))}function ja(h,g){var A={};return A[h.toLowerCase()]=g.toLowerCase(),A["Webkit"+h]="webkit"+g,A["Moz"+h]="moz"+g,A}var Zi={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionrun:ja("Transition","TransitionRun"),transitionstart:ja("Transition","TransitionStart"),transitioncancel:ja("Transition","TransitionCancel"),transitionend:ja("Transition","TransitionEnd")},Us={},Er={};pa&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Zi.animationend.animation,delete Zi.animationiteration.animation,delete Zi.animationstart.animation),"TransitionEvent"in window||delete Zi.transitionend.transition);function La(h){if(Us[h])return Us[h];if(!Zi[h])return h;var g=Zi[h],A;for(A in g)if(g.hasOwnProperty(A)&&A in Er)return Us[h]=g[A];return h}var vu=La("animationend"),qs=La("animationiteration"),Dc=La("animationstart"),Ic=La("transitionrun"),wd=La("transitionstart"),ga=La("transitioncancel"),ml=La("transitionend"),Ul=new Map,jo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jo.push("scrollEnd");function Hi(h,g){Ul.set(h,g),Ki(g,[h])}var ra=new WeakMap;function fr(h,g){if(typeof h=="object"&&h!==null){var A=ra.get(h);return A!==void 0?A:(g={value:h,source:g,stack:br(g)},ra.set(h,g),g)}return{value:h,source:g,stack:br(g)}}var ir=[],ni=0,Hn=0;function Vs(){for(var h=ni,g=Hn=ni=0;g<h;){var A=ir[g];ir[g++]=null;var I=ir[g];ir[g++]=null;var L=ir[g];ir[g++]=null;var V=ir[g];if(ir[g++]=null,I!==null&&L!==null){var he=I.pending;he===null?L.next=L:(L.next=he.next,he.next=L),I.pending=L}V!==0&&vd(A,L,V)}}function Tc(h,g,A,I){ir[ni++]=h,ir[ni++]=g,ir[ni++]=A,ir[ni++]=I,Hn|=I,h.lanes|=I,h=h.alternate,h!==null&&(h.lanes|=I)}function Mc(h,g,A,I){return Tc(h,g,A,I),yu(h)}function Mn(h,g){return Tc(h,null,null,g),yu(h)}function vd(h,g,A){h.lanes|=A;var I=h.alternate;I!==null&&(I.lanes|=A);for(var L=!1,V=h.return;V!==null;)V.childLanes|=A,I=V.alternate,I!==null&&(I.childLanes|=A),V.tag===22&&(h=V.stateNode,h===null||h._visibility&1||(L=!0)),h=V,V=V.return;return h.tag===3?(V=h.stateNode,L&&g!==null&&(L=31-kt(A),h=V.hiddenUpdates,I=h[L],I===null?h[L]=[g]:I.push(g),g.lane=A|536870912),V):null}function yu(h){if(50<Zr)throw Zr=0,Kp=null,Error(o(185));for(var g=h.return;g!==null;)h=g,g=h.return;return h.tag===3?h.stateNode:null}var uo={};function ba(h,g,A,I){this.tag=h,this.key=A,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=I,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ho(h,g,A,I){return new ba(h,g,A,I)}function yd(h){return h=h.prototype,!(!h||!h.isReactComponent)}function Hs(h,g){var A=h.alternate;return A===null?(A=ho(h.tag,g,h.key,h.mode),A.elementType=h.elementType,A.type=h.type,A.stateNode=h.stateNode,A.alternate=h,h.alternate=A):(A.pendingProps=g,A.type=h.type,A.flags=0,A.subtreeFlags=0,A.deletions=null),A.flags=h.flags&65011712,A.childLanes=h.childLanes,A.lanes=h.lanes,A.child=h.child,A.memoizedProps=h.memoizedProps,A.memoizedState=h.memoizedState,A.updateQueue=h.updateQueue,g=h.dependencies,A.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},A.sibling=h.sibling,A.index=h.index,A.ref=h.ref,A.refCleanup=h.refCleanup,A}function Nc(h,g){h.flags&=65011714;var A=h.alternate;return A===null?(h.childLanes=0,h.lanes=g,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=A.childLanes,h.lanes=A.lanes,h.child=A.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=A.memoizedProps,h.memoizedState=A.memoizedState,h.updateQueue=A.updateQueue,h.type=A.type,g=A.dependencies,h.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext}),h}function Au(h,g,A,I,L,V){var he=0;if(I=h,typeof h=="function")yd(h)&&(he=1);else if(typeof h=="string")he=M1(h,A,ke.current)?26:h==="html"||h==="head"||h==="body"?27:5;else e:switch(h){case Y:return h=ho(31,A,g,L),h.elementType=Y,h.lanes=V,h;case D:return ka(A.children,L,V,g);case E:he=8,L|=24;break;case O:return h=ho(12,A,g,L|2),h.elementType=O,h.lanes=V,h;case J:return h=ho(13,A,g,L),h.elementType=J,h.lanes=V,h;case H:return h=ho(19,A,g,L),h.elementType=H,h.lanes=V,h;default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case M:case F:he=10;break e;case j:he=9;break e;case G:he=11;break e;case z:he=14;break e;case Z:he=16,I=null;break e}he=29,A=Error(o(130,h===null?"null":typeof h,"")),I=null}return g=ho(he,A,g,L),g.elementType=h,g.type=I,g.lanes=V,g}function ka(h,g,A,I){return h=ho(7,h,I,g),h.lanes=A,h}function Pa(h,g,A){return h=ho(6,h,null,g),h.lanes=A,h}function _u(h,g,A){return g=ho(4,h.children!==null?h.children:[],h.key,g),g.lanes=A,g.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},g}var Oc=[],ql=0,Ad=null,_p=0,Ra=[],ia=0,Cu=null,Vl=1,Hl="";function Bc(h,g){Oc[ql++]=_p,Oc[ql++]=Ad,Ad=h,_p=g}function vb(h,g,A){Ra[ia++]=Vl,Ra[ia++]=Hl,Ra[ia++]=Cu,Cu=h;var I=Vl;h=Hl;var L=32-kt(I)-1;I&=~(1<<L),A+=1;var V=32-kt(g)+L;if(30<V){var he=L-L%5;V=(I&(1<<he)-1).toString(32),I>>=he,L-=he,Vl=1<<32-kt(g)+L|A<<L|I,Hl=V+h}else Vl=1<<V|A<<L|I,Hl=h}function _d(h){h.return!==null&&(Bc(h,1),vb(h,1,0))}function Cf(h){for(;h===Ad;)Ad=Oc[--ql],Oc[ql]=null,_p=Oc[--ql],Oc[ql]=null;for(;h===Cu;)Cu=Ra[--ia],Ra[ia]=null,Hl=Ra[--ia],Ra[ia]=null,Vl=Ra[--ia],Ra[ia]=null}var yo=null,Ri=null,ln=!1,xu=null,$s=!1,xf=Error(o(519));function $l(h){var g=Error(o(418,""));throw mh(fr(g,h)),xf}function Cp(h){var g=h.stateNode,A=h.type,I=h.memoizedProps;switch(g[xr]=h,g[rr]=I,A){case"dialog":gr("cancel",g),gr("close",g);break;case"iframe":case"object":case"embed":gr("load",g);break;case"video":case"audio":for(A=0;A<Hf.length;A++)gr(Hf[A],g);break;case"source":gr("error",g);break;case"img":case"image":case"link":gr("error",g),gr("load",g);break;case"details":gr("toggle",g);break;case"input":gr("invalid",g),ih(g,I.value,I.defaultValue,I.checked,I.defaultChecked,I.type,I.name,!0),fa(g);break;case"select":gr("invalid",g);break;case"textarea":gr("invalid",g),gf(g,I.value,I.defaultValue,I.children),fa(g)}A=I.children,typeof A!="string"&&typeof A!="number"&&typeof A!="bigint"||g.textContent===""+A||I.suppressHydrationWarning===!0||Uu(g.textContent,A)?(I.popover!=null&&(gr("beforetoggle",g),gr("toggle",g)),I.onScroll!=null&&gr("scroll",g),I.onScrollEnd!=null&&gr("scrollend",g),I.onClick!=null&&(g.onclick=yl),g=!0):g=!1,g||$l(h)}function jc(h){for(yo=h.return;yo;)switch(yo.tag){case 5:case 13:$s=!1;return;case 27:case 3:$s=!0;return;default:yo=yo.return}}function or(h){if(h!==yo)return!1;if(!ln)return jc(h),ln=!0,!1;var g=h.tag,A;if((A=g!==3&&g!==27)&&((A=g===5)&&(A=h.type,A=!(A!=="form"&&A!=="button")||Jb(h.type,h.memoizedProps)),A=!A),A&&Ri&&$l(h),jc(h),g===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));e:{for(h=h.nextSibling,g=0;h;){if(h.nodeType===8)if(A=h.data,A==="/$"){if(g===0){Ri=tc(h.nextSibling);break e}g--}else A!=="$"&&A!=="$!"&&A!=="$?"||g++;h=h.nextSibling}Ri=null}}else g===27?(g=Ri,qu(h.type)?(h=x1,x1=null,Ri=h):Ri=g):Ri=yo?tc(h.stateNode.nextSibling):null;return!0}function Ws(){Ri=yo=null,ln=!1}function Xm(){var h=xu;return h!==null&&(Ga===null?Ga=h:Ga.push.apply(Ga,h),xu=null),h}function mh(h){xu===null?xu=[h]:xu.push(h)}var gl=Te(null),Lo=null,Lc=null;function Su(h,g,A){te(gl,g._currentValue),g._currentValue=A}function ns(h){h._currentValue=gl.current,re(gl)}function xp(h,g,A){for(;h!==null;){var I=h.alternate;if((h.childLanes&g)!==g?(h.childLanes|=g,I!==null&&(I.childLanes|=g)):I!==null&&(I.childLanes&g)!==g&&(I.childLanes|=g),h===A)break;h=h.return}}function Sf(h,g,A,I){var L=h.child;for(L!==null&&(L.return=h);L!==null;){var V=L.dependencies;if(V!==null){var he=L.child;V=V.firstContext;e:for(;V!==null;){var Se=V;V=L;for(var Ve=0;Ve<g.length;Ve++)if(Se.context===g[Ve]){V.lanes|=A,Se=V.alternate,Se!==null&&(Se.lanes|=A),xp(V.return,A,h),I||(he=null);break e}V=Se.next}}else if(L.tag===18){if(he=L.return,he===null)throw Error(o(341));he.lanes|=A,V=he.alternate,V!==null&&(V.lanes|=A),xp(he,A,h),he=null}else he=L.child;if(he!==null)he.return=L;else for(he=L;he!==null;){if(he===h){he=null;break}if(L=he.sibling,L!==null){L.return=he.return,he=L;break}he=he.return}L=he}}function gh(h,g,A,I){h=null;for(var L=g,V=!1;L!==null;){if(!V){if((L.flags&524288)!==0)V=!0;else if((L.flags&262144)!==0)break}if(L.tag===10){var he=L.alternate;if(he===null)throw Error(o(387));if(he=he.memoizedProps,he!==null){var Se=L.type;vo(L.pendingProps.value,he.value)||(h!==null?h.push(Se):h=[Se])}}else if(L===Re.current){if(he=L.alternate,he===null)throw Error(o(387));he.memoizedState.memoizedState!==L.memoizedState.memoizedState&&(h!==null?h.push(Ig):h=[Ig])}L=L.return}h!==null&&Sf(g,h,A,I),g.flags|=262144}function Sp(h){for(h=h.firstContext;h!==null;){if(!vo(h.context._currentValue,h.memoizedValue))return!0;h=h.next}return!1}function Wl(h){Lo=h,Lc=null,h=h.dependencies,h!==null&&(h.firstContext=null)}function Ao(h){return Ep(Lo,h)}function Cd(h,g){return Lo===null&&Wl(h),Ep(h,g)}function Ep(h,g){var A=g._currentValue;if(g={context:g,memoizedValue:A,next:null},Lc===null){if(h===null)throw Error(o(308));Lc=g,h.dependencies={lanes:0,firstContext:g},h.flags|=524288}else Lc=Lc.next=g;return A}var Nk=typeof AbortController<"u"?AbortController:function(){var h=[],g=this.signal={aborted:!1,addEventListener:function(A,I){h.push(I)}};this.abort=function(){g.aborted=!0,h.forEach(function(A){return A()})}},yb=t.unstable_scheduleCallback,Ab=t.unstable_NormalPriority,_o={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ef(){return{controller:new Nk,data:new Map,refCount:0}}function Df(h){h.refCount--,h.refCount===0&&yb(Ab,function(){h.controller.abort()})}var If=null,Dp=0,xd=0,Co=null;function Po(h,g){if(If===null){var A=If=[];Dp=0,xd=b1(),Co={status:"pending",value:void 0,then:function(I){A.push(I)}}}return Dp++,g.then(Ji,Ji),g}function Ji(){if(--Dp===0&&If!==null){Co!==null&&(Co.status="fulfilled");var h=If;If=null,xd=0,Co=null;for(var g=0;g<h.length;g++)(0,h[g])()}}function eg(h,g){var A=[],I={status:"pending",value:null,reason:null,then:function(L){A.push(L)}};return h.then(function(){I.status="fulfilled",I.value=g;for(var L=0;L<A.length;L++)(0,A[L])(g)},function(L){for(I.status="rejected",I.reason=L,L=0;L<A.length;L++)(0,A[L])(void 0)}),I}var N=ue.S;ue.S=function(h,g){typeof g=="object"&&g!==null&&typeof g.then=="function"&&Po(h,g),N!==null&&N(h,g)};var R=Te(null);function Q(){var h=R.current;return h!==null?h:Br.pooledCache}function ie(h,g){g===null?te(R,R.current):te(R,g.pool)}function pe(){var h=Q();return h===null?null:{parent:_o._currentValue,pool:h}}var ye=Error(o(460)),_e=Error(o(474)),xe=Error(o(542)),De={then:function(){}};function je(h){return h=h.status,h==="fulfilled"||h==="rejected"}function We(){}function lt(h,g,A){switch(A=h[A],A===void 0?h.push(g):A!==g&&(g.then(We,We),g=A),g.status){case"fulfilled":return g.value;case"rejected":throw h=g.reason,Bt(h),h;default:if(typeof g.status=="string")g.then(We,We);else{if(h=Br,h!==null&&100<h.shellSuspendCounter)throw Error(o(482));h=g,h.status="pending",h.then(function(I){if(g.status==="pending"){var L=g;L.status="fulfilled",L.value=I}},function(I){if(g.status==="pending"){var L=g;L.status="rejected",L.reason=I}})}switch(g.status){case"fulfilled":return g.value;case"rejected":throw h=g.reason,Bt(h),h}throw rt=g,ye}}var rt=null;function et(){if(rt===null)throw Error(o(459));var h=rt;return rt=null,h}function Bt(h){if(h===ye||h===xe)throw Error(o(483))}var bt=!1;function Ye(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Je(h,g){h=h.updateQueue,g.updateQueue===h&&(g.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,callbacks:null})}function It(h){return{lane:h,tag:0,payload:null,callback:null,next:null}}function Pt(h,g,A){var I=h.updateQueue;if(I===null)return null;if(I=I.shared,(ii&2)!==0){var L=I.pending;return L===null?g.next=g:(g.next=L.next,L.next=g),I.pending=g,g=yu(h),vd(h,null,A),g}return Tc(h,I,g,A),yu(h)}function jt(h,g,A){if(g=g.updateQueue,g!==null&&(g=g.shared,(A&4194048)!==0)){var I=g.lanes;I&=h.pendingLanes,A|=I,g.lanes=A,nr(h,A)}}function nn(h,g){var A=h.updateQueue,I=h.alternate;if(I!==null&&(I=I.updateQueue,A===I)){var L=null,V=null;if(A=A.firstBaseUpdate,A!==null){do{var he={lane:A.lane,tag:A.tag,payload:A.payload,callback:null,next:null};V===null?L=V=he:V=V.next=he,A=A.next}while(A!==null);V===null?L=V=g:V=V.next=g}else L=V=g;A={baseState:I.baseState,firstBaseUpdate:L,lastBaseUpdate:V,shared:I.shared,callbacks:I.callbacks},h.updateQueue=A;return}h=A.lastBaseUpdate,h===null?A.firstBaseUpdate=g:h.next=g,A.lastBaseUpdate=g}var Xt=!1;function vn(){if(Xt){var h=Co;if(h!==null)throw h}}function en(h,g,A,I){Xt=!1;var L=h.updateQueue;bt=!1;var V=L.firstBaseUpdate,he=L.lastBaseUpdate,Se=L.shared.pending;if(Se!==null){L.shared.pending=null;var Ve=Se,ct=Ve.next;Ve.next=null,he===null?V=ct:he.next=ct,he=Ve;var Tt=h.alternate;Tt!==null&&(Tt=Tt.updateQueue,Se=Tt.lastBaseUpdate,Se!==he&&(Se===null?Tt.firstBaseUpdate=ct:Se.next=ct,Tt.lastBaseUpdate=Ve))}if(V!==null){var St=L.baseState;he=0,Tt=ct=Ve=null,Se=V;do{var ht=Se.lane&-536870913,mt=ht!==Se.lane;if(mt?(Qn&ht)===ht:(I&ht)===ht){ht!==0&&ht===xd&&(Xt=!0),Tt!==null&&(Tt=Tt.next={lane:0,tag:Se.tag,payload:Se.payload,callback:null,next:null});e:{var En=h,Dn=Se;ht=g;var pi=A;switch(Dn.tag){case 1:if(En=Dn.payload,typeof En=="function"){St=En.call(pi,St,ht);break e}St=En;break e;case 3:En.flags=En.flags&-65537|128;case 0:if(En=Dn.payload,ht=typeof En=="function"?En.call(pi,St,ht):En,ht==null)break e;St=w({},St,ht);break e;case 2:bt=!0}}ht=Se.callback,ht!==null&&(h.flags|=64,mt&&(h.flags|=8192),mt=L.callbacks,mt===null?L.callbacks=[ht]:mt.push(ht))}else mt={lane:ht,tag:Se.tag,payload:Se.payload,callback:Se.callback,next:null},Tt===null?(ct=Tt=mt,Ve=St):Tt=Tt.next=mt,he|=ht;if(Se=Se.next,Se===null){if(Se=L.shared.pending,Se===null)break;mt=Se,Se=mt.next,mt.next=null,L.lastBaseUpdate=mt,L.shared.pending=null}}while(!0);Tt===null&&(Ve=St),L.baseState=Ve,L.firstBaseUpdate=ct,L.lastBaseUpdate=Tt,V===null&&(L.shared.lanes=0),ut|=he,h.lanes=he,h.memoizedState=St}}function _r(h,g){if(typeof h!="function")throw Error(o(191,h));h.call(g)}function Nr(h,g){var A=h.callbacks;if(A!==null)for(h.callbacks=null,h=0;h<A.length;h++)_r(A[h],g)}var Xn=Te(null),qn=Te(0);function Or(h,g){h=Ru,te(qn,h),te(Xn,g),Ru=h|g.baseLanes}function Dr(){te(qn,Ru),te(Xn,Xn.current)}function Pn(){Ru=qn.current,re(Xn),re(qn)}var Qr=0,Cn=null,On=null,Dt=null,Ir=!1,Ut=!1,xo=!1,Rt=0,Xi=0,zt=null,Fa=0;function Nt(){throw Error(o(321))}function Fi(h,g){if(g===null)return!1;for(var A=0;A<g.length&&A<h.length;A++)if(!vo(h[A],g[A]))return!1;return!0}function Gs(h,g,A,I,L,V){return Qr=V,Cn=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,ue.H=h===null||h.memoizedState===null?Np:Pf,xo=!1,V=A(I,L),xo=!1,Ut&&(V=Gl(g,A,I,L)),un(h),V}function un(h){ue.H=qa;var g=On!==null&&On.next!==null;if(Qr=0,Dt=On=Cn=null,Ir=!1,Xi=0,zt=null,g)throw Error(o(300));h===null||zo||(h=h.dependencies,h!==null&&Sp(h)&&(zo=!0))}function Gl(h,g,A,I){Cn=h;var L=0;do{if(Ut&&(zt=null),Xi=0,Ut=!1,25<=L)throw Error(o(301));if(L+=1,Dt=On=null,h.updateQueue!=null){var V=h.updateQueue;V.lastEffect=null,V.events=null,V.stores=null,V.memoCache!=null&&(V.memoCache.index=0)}ue.H=ug,V=g(A,I)}while(Ut);return V}function Yl(){var h=ue.H,g=h.useState()[0];return g=typeof g.then=="function"?Pc(g):g,h=h.useState()[0],(On!==null?On.memoizedState:null)!==h&&(Cn.flags|=1024),g}function ri(){var h=Rt!==0;return Rt=0,h}function Tf(h,g,A){g.updateQueue=h.updateQueue,g.flags&=-2053,h.lanes&=~A}function Vt(h){if(Ir){for(h=h.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}Ir=!1}Qr=0,Dt=On=Cn=null,Ut=!1,Xi=Rt=0,zt=null}function As(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Cn.memoizedState=Dt=h:Dt=Dt.next=h,Dt}function pn(){if(On===null){var h=Cn.alternate;h=h!==null?h.memoizedState:null}else h=On.next;var g=Dt===null?Cn.memoizedState:Dt.next;if(g!==null)Dt=g,On=h;else{if(h===null)throw Cn.alternate===null?Error(o(467)):Error(o(310));On=h,h={memoizedState:On.memoizedState,baseState:On.baseState,baseQueue:On.baseQueue,queue:On.queue,next:null},Dt===null?Cn.memoizedState=Dt=h:Dt=Dt.next=h}return Dt}function Eu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pc(h){var g=Xi;return Xi+=1,zt===null&&(zt=[]),h=lt(zt,h,g),g=Cn,(Dt===null?g.memoizedState:Dt.next)===null&&(g=g.alternate,ue.H=g===null||g.memoizedState===null?Np:Pf),h}function Ys(h){if(h!==null&&typeof h=="object"){if(typeof h.then=="function")return Pc(h);if(h.$$typeof===F)return Ao(h)}throw Error(o(438,String(h)))}function Rc(h){var g=null,A=Cn.updateQueue;if(A!==null&&(g=A.memoCache),g==null){var I=Cn.alternate;I!==null&&(I=I.updateQueue,I!==null&&(I=I.memoCache,I!=null&&(g={data:I.data.map(function(L){return L.slice()}),index:0})))}if(g==null&&(g={data:[],index:0}),A===null&&(A=Eu(),Cn.updateQueue=A),A.memoCache=g,A=g.data[g.index],A===void 0)for(A=g.data[g.index]=Array(h),I=0;I<h;I++)A[I]=se;return g.index++,A}function rs(h,g){return typeof g=="function"?g(h):g}function Du(h){var g=pn();return bh(g,On,h)}function bh(h,g,A){var I=h.queue;if(I===null)throw Error(o(311));I.lastRenderedReducer=A;var L=h.baseQueue,V=I.pending;if(V!==null){if(L!==null){var he=L.next;L.next=V.next,V.next=he}g.baseQueue=L=V,I.pending=null}if(V=h.baseState,L===null)h.memoizedState=V;else{g=L.next;var Se=he=null,Ve=null,ct=g,Tt=!1;do{var St=ct.lane&-536870913;if(St!==ct.lane?(Qn&St)===St:(Qr&St)===St){var ht=ct.revertLane;if(ht===0)Ve!==null&&(Ve=Ve.next={lane:0,revertLane:0,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null}),St===xd&&(Tt=!0);else if((Qr&ht)===ht){ct=ct.next,ht===xd&&(Tt=!0);continue}else St={lane:0,revertLane:ct.revertLane,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null},Ve===null?(Se=Ve=St,he=V):Ve=Ve.next=St,Cn.lanes|=ht,ut|=ht;St=ct.action,xo&&A(V,St),V=ct.hasEagerState?ct.eagerState:A(V,St)}else ht={lane:St,revertLane:ct.revertLane,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null},Ve===null?(Se=Ve=ht,he=V):Ve=Ve.next=ht,Cn.lanes|=St,ut|=St;ct=ct.next}while(ct!==null&&ct!==g);if(Ve===null?he=V:Ve.next=Se,!vo(V,h.memoizedState)&&(zo=!0,Tt&&(A=Co,A!==null)))throw A;h.memoizedState=V,h.baseState=he,h.baseQueue=Ve,I.lastRenderedState=V}return L===null&&(I.lanes=0),[h.memoizedState,I.dispatch]}function Ip(h){var g=pn(),A=g.queue;if(A===null)throw Error(o(311));A.lastRenderedReducer=h;var I=A.dispatch,L=A.pending,V=g.memoizedState;if(L!==null){A.pending=null;var he=L=L.next;do V=h(V,he.action),he=he.next;while(he!==L);vo(V,g.memoizedState)||(zo=!0),g.memoizedState=V,g.baseQueue===null&&(g.baseState=V),A.lastRenderedState=V}return[V,I]}function Sd(h,g,A){var I=Cn,L=pn(),V=ln;if(V){if(A===void 0)throw Error(o(407));A=A()}else A=g();var he=!vo((On||L).memoizedState,A);he&&(L.memoizedState=A,zo=!0),L=L.queue;var Se=wh.bind(null,I,L,h);if(Ah(2048,8,Se,[h]),L.getSnapshot!==g||he||Dt!==null&&Dt.memoizedState.tag&1){if(I.flags|=2048,wa(9,Uc(),Mf.bind(null,I,L,A,g),null),Br===null)throw Error(o(349));V||(Qr&124)!==0||kh(I,g,A)}return A}function kh(h,g,A){h.flags|=16384,h={getSnapshot:g,value:A},g=Cn.updateQueue,g===null?(g=Eu(),Cn.updateQueue=g,g.stores=[h]):(A=g.stores,A===null?g.stores=[h]:A.push(h))}function Mf(h,g,A,I){g.value=A,g.getSnapshot=I,_b(g)&&Cb(h)}function wh(h,g,A){return A(function(){_b(g)&&Cb(h)})}function _b(h){var g=h.getSnapshot;h=h.value;try{var A=g();return!vo(h,A)}catch{return!0}}function Cb(h){var g=Mn(h,2);g!==null&&Zs(g,h,2)}function Nf(h){var g=As();if(typeof h=="function"){var A=h;if(h=A(),xo){at(!0);try{A()}finally{at(!1)}}}return g.memoizedState=g.baseState=h,g.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:h},g}function Fc(h,g,A,I){return h.baseState=A,bh(h,On,typeof I=="function"?I:rs)}function Ok(h,g,A,I,L){if(Mp(h))throw Error(o(485));if(h=g.action,h!==null){var V={payload:L,action:h,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(he){V.listeners.push(he)}};ue.T!==null?A(!0):V.isTransition=!1,I(V),A=g.pending,A===null?(V.next=g.pending=V,tg(g,V)):(V.next=A.next,g.pending=A.next=V)}}function tg(h,g){var A=g.action,I=g.payload,L=h.state;if(g.isTransition){var V=ue.T,he={};ue.T=he;try{var Se=A(L,I),Ve=ue.S;Ve!==null&&Ve(he,Se),ng(h,g,Se)}catch(ct){Iu(h,g,ct)}finally{ue.T=V}}else try{V=A(L,I),ng(h,g,V)}catch(ct){Iu(h,g,ct)}}function ng(h,g,A){A!==null&&typeof A=="object"&&typeof A.then=="function"?A.then(function(I){rg(h,g,I)},function(I){return Iu(h,g,I)}):rg(h,g,A)}function rg(h,g,A){g.status="fulfilled",g.value=A,vh(g),h.state=A,g=h.pending,g!==null&&(A=g.next,A===g?h.pending=null:(A=A.next,g.next=A,tg(h,A)))}function Iu(h,g,A){var I=h.pending;if(h.pending=null,I!==null){I=I.next;do g.status="rejected",g.reason=A,vh(g),g=g.next;while(g!==I)}h.action=null}function vh(h){h=h.listeners;for(var g=0;g<h.length;g++)(0,h[g])()}function Tu(h,g){return g}function Ed(h,g){if(ln){var A=Br.formState;if(A!==null){e:{var I=Cn;if(ln){if(Ri){t:{for(var L=Ri,V=$s;L.nodeType!==8;){if(!V){L=null;break t}if(L=tc(L.nextSibling),L===null){L=null;break t}}V=L.data,L=V==="F!"||V==="F"?L:null}if(L){Ri=tc(L.nextSibling),I=L.data==="F!";break e}}$l(I)}I=!1}I&&(g=A[0])}}return A=As(),A.memoizedState=A.baseState=g,I={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tu,lastRenderedState:g},A.queue=I,A=yA.bind(null,Cn,I),I.dispatch=A,I=Nf(!1),V=Bk.bind(null,Cn,!1,I.queue),I=As(),L={state:g,dispatch:null,action:h,pending:null},I.queue=L,A=Ok.bind(null,Cn,L,V,A),L.dispatch=A,I.memoizedState=h,[g,A,!1]}function zc(h){var g=pn();return yh(g,On,h)}function yh(h,g,A){if(g=bh(h,g,Tu)[0],h=Du(rs)[0],typeof g=="object"&&g!==null&&typeof g.then=="function")try{var I=Pc(g)}catch(he){throw he===ye?xe:he}else I=g;g=pn();var L=g.queue,V=L.dispatch;return A!==g.memoizedState&&(Cn.flags|=2048,wa(9,Uc(),ig.bind(null,L,A),null)),[I,V,h]}function ig(h,g){h.action=g}function Of(h){var g=pn(),A=On;if(A!==null)return yh(g,A,h);pn(),g=g.memoizedState,A=pn();var I=A.queue.dispatch;return A.memoizedState=h,[g,I,!1]}function wa(h,g,A,I){return h={tag:h,create:A,deps:I,inst:g,next:null},g=Cn.updateQueue,g===null&&(g=Eu(),Cn.updateQueue=g),A=g.lastEffect,A===null?g.lastEffect=h.next=h:(I=A.next,A.next=h,h.next=I,g.lastEffect=h),h}function Uc(){return{destroy:void 0,resource:void 0}}function Bf(){return pn().memoizedState}function za(h,g,A,I){var L=As();I=I===void 0?null:I,Cn.flags|=h,L.memoizedState=wa(1|g,Uc(),A,I)}function Ah(h,g,A,I){var L=pn();I=I===void 0?null:I;var V=L.memoizedState.inst;On!==null&&I!==null&&Fi(I,On.memoizedState.deps)?L.memoizedState=wa(g,V,A,I):(Cn.flags|=h,L.memoizedState=wa(1|g,V,A,I))}function og(h,g){za(8390656,8,h,g)}function xb(h,g){Ah(2048,8,h,g)}function jf(h,g){return Ah(4,2,h,g)}function Mu(h,g){return Ah(4,4,h,g)}function Sb(h,g){if(typeof g=="function"){h=h();var A=g(h);return function(){typeof A=="function"?A():g(null)}}if(g!=null)return h=h(),g.current=h,function(){g.current=null}}function qc(h,g,A){A=A!=null?A.concat([h]):null,Ah(4,4,Sb.bind(null,g,h),A)}function Tp(){}function Vc(h,g){var A=pn();g=g===void 0?null:g;var I=A.memoizedState;return g!==null&&Fi(g,I[1])?I[0]:(A.memoizedState=[h,g],h)}function eo(h,g){var A=pn();g=g===void 0?null:g;var I=A.memoizedState;if(g!==null&&Fi(g,I[1]))return I[0];if(I=h(),xo){at(!0);try{h()}finally{at(!1)}}return A.memoizedState=[I,g],I}function Ks(h,g,A){return A===void 0||(Qr&1073741824)!==0?h.memoizedState=g:(h.memoizedState=A,h=HA(),Cn.lanes|=h,ut|=h,A)}function Dd(h,g,A,I){return vo(A,g)?A:Xn.current!==null?(h=Ks(h,A,I),vo(h,g)||(zo=!0),h):(Qr&42)===0?(zo=!0,h.memoizedState=A):(h=HA(),Cn.lanes|=h,ut|=h,g)}function Lf(h,g,A,I,L){var V=de.p;de.p=V!==0&&8>V?V:8;var he=ue.T,Se={};ue.T=Se,Bk(h,!1,g,A);try{var Ve=L(),ct=ue.S;if(ct!==null&&ct(Se,Ve),Ve!==null&&typeof Ve=="object"&&typeof Ve.then=="function"){var Tt=eg(Ve,I);Td(h,g,Tt,no(h))}else Td(h,g,I,no(h))}catch(St){Td(h,g,{then:function(){},status:"rejected",reason:St},no())}finally{de.p=V,ue.T=he}}function va(){}function Ua(h,g,A,I){if(h.tag!==5)throw Error(o(476));var L=Ro(h).queue;Lf(h,L,g,ge,A===null?va:function(){return Nu(h),A(I)})}function Ro(h){var g=h.memoizedState;if(g!==null)return g;g={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:ge},next:null};var A={};return g.next={memoizedState:A,baseState:A,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:A},next:null},h.memoizedState=g,h=h.alternate,h!==null&&(h.memoizedState=g),g}function Nu(h){var g=Ro(h).next.queue;Td(h,g,{},no())}function Id(){return Ao(Ig)}function sg(){return pn().memoizedState}function ag(){return pn().memoizedState}function lg(h){for(var g=h.return;g!==null;){switch(g.tag){case 24:case 3:var A=no();h=It(A);var I=Pt(g,h,A);I!==null&&(Zs(I,g,A),jt(I,g,A)),g={cache:Ef()},h.payload=g;return}g=g.return}}function cg(h,g,A){var I=no();A={lane:I,revertLane:0,action:A,hasEagerState:!1,eagerState:null,next:null},Mp(h)?Eb(g,A):(A=Mc(h,g,A,I),A!==null&&(Zs(A,h,I),Db(A,g,I)))}function yA(h,g,A){var I=no();Td(h,g,A,I)}function Td(h,g,A,I){var L={lane:I,revertLane:0,action:A,hasEagerState:!1,eagerState:null,next:null};if(Mp(h))Eb(g,L);else{var V=h.alternate;if(h.lanes===0&&(V===null||V.lanes===0)&&(V=g.lastRenderedReducer,V!==null))try{var he=g.lastRenderedState,Se=V(he,A);if(L.hasEagerState=!0,L.eagerState=Se,vo(Se,he))return Tc(h,g,L,0),Br===null&&Vs(),!1}catch{}finally{}if(A=Mc(h,g,L,I),A!==null)return Zs(A,h,I),Db(A,g,I),!0}return!1}function Bk(h,g,A,I){if(I={lane:2,revertLane:b1(),action:I,hasEagerState:!1,eagerState:null,next:null},Mp(h)){if(g)throw Error(o(479))}else g=Mc(h,A,I,2),g!==null&&Zs(g,h,2)}function Mp(h){var g=h.alternate;return h===Cn||g!==null&&g===Cn}function Eb(h,g){Ut=Ir=!0;var A=h.pending;A===null?g.next=g:(g.next=A.next,A.next=g),h.pending=g}function Db(h,g,A){if((A&4194048)!==0){var I=g.lanes;I&=h.pendingLanes,A|=I,g.lanes=A,nr(h,A)}}var qa={readContext:Ao,use:Ys,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt},Np={readContext:Ao,use:Ys,useCallback:function(h,g){return As().memoizedState=[h,g===void 0?null:g],h},useContext:Ao,useEffect:og,useImperativeHandle:function(h,g,A){A=A!=null?A.concat([h]):null,za(4194308,4,Sb.bind(null,g,h),A)},useLayoutEffect:function(h,g){return za(4194308,4,h,g)},useInsertionEffect:function(h,g){za(4,2,h,g)},useMemo:function(h,g){var A=As();g=g===void 0?null:g;var I=h();if(xo){at(!0);try{h()}finally{at(!1)}}return A.memoizedState=[I,g],I},useReducer:function(h,g,A){var I=As();if(A!==void 0){var L=A(g);if(xo){at(!0);try{A(g)}finally{at(!1)}}}else L=g;return I.memoizedState=I.baseState=L,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:L},I.queue=h,h=h.dispatch=cg.bind(null,Cn,h),[I.memoizedState,h]},useRef:function(h){var g=As();return h={current:h},g.memoizedState=h},useState:function(h){h=Nf(h);var g=h.queue,A=yA.bind(null,Cn,g);return g.dispatch=A,[h.memoizedState,A]},useDebugValue:Tp,useDeferredValue:function(h,g){var A=As();return Ks(A,h,g)},useTransition:function(){var h=Nf(!1);return h=Lf.bind(null,Cn,h.queue,!0,!1),As().memoizedState=h,[!1,h]},useSyncExternalStore:function(h,g,A){var I=Cn,L=As();if(ln){if(A===void 0)throw Error(o(407));A=A()}else{if(A=g(),Br===null)throw Error(o(349));(Qn&124)!==0||kh(I,g,A)}L.memoizedState=A;var V={value:A,getSnapshot:g};return L.queue=V,og(wh.bind(null,I,V,h),[h]),I.flags|=2048,wa(9,Uc(),Mf.bind(null,I,V,A,g),null),A},useId:function(){var h=As(),g=Br.identifierPrefix;if(ln){var A=Hl,I=Vl;A=(I&~(1<<32-kt(I)-1)).toString(32)+A,g=""+g+"R"+A,A=Rt++,0<A&&(g+="H"+A.toString(32)),g+=""}else A=Fa++,g=""+g+"r"+A.toString(32)+"";return h.memoizedState=g},useHostTransitionStatus:Id,useFormState:Ed,useActionState:Ed,useOptimistic:function(h){var g=As();g.memoizedState=g.baseState=h;var A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return g.queue=A,g=Bk.bind(null,Cn,!0,A),A.dispatch=g,[h,g]},useMemoCache:Rc,useCacheRefresh:function(){return As().memoizedState=lg.bind(null,Cn)}},Pf={readContext:Ao,use:Ys,useCallback:Vc,useContext:Ao,useEffect:xb,useImperativeHandle:qc,useInsertionEffect:jf,useLayoutEffect:Mu,useMemo:eo,useReducer:Du,useRef:Bf,useState:function(){return Du(rs)},useDebugValue:Tp,useDeferredValue:function(h,g){var A=pn();return Dd(A,On.memoizedState,h,g)},useTransition:function(){var h=Du(rs)[0],g=pn().memoizedState;return[typeof h=="boolean"?h:Pc(h),g]},useSyncExternalStore:Sd,useId:sg,useHostTransitionStatus:Id,useFormState:zc,useActionState:zc,useOptimistic:function(h,g){var A=pn();return Fc(A,On,h,g)},useMemoCache:Rc,useCacheRefresh:ag},ug={readContext:Ao,use:Ys,useCallback:Vc,useContext:Ao,useEffect:xb,useImperativeHandle:qc,useInsertionEffect:jf,useLayoutEffect:Mu,useMemo:eo,useReducer:Ip,useRef:Bf,useState:function(){return Ip(rs)},useDebugValue:Tp,useDeferredValue:function(h,g){var A=pn();return On===null?Ks(A,h,g):Dd(A,On.memoizedState,h,g)},useTransition:function(){var h=Ip(rs)[0],g=pn().memoizedState;return[typeof h=="boolean"?h:Pc(h),g]},useSyncExternalStore:Sd,useId:sg,useHostTransitionStatus:Id,useFormState:Of,useActionState:Of,useOptimistic:function(h,g){var A=pn();return On!==null?Fc(A,On,h,g):(A.baseState=h,[h,A.queue.dispatch])},useMemoCache:Rc,useCacheRefresh:ag},Op=null,_h=0;function dg(h){var g=_h;return _h+=1,Op===null&&(Op=[]),lt(Op,h,g)}function Bp(h,g){g=g.props.ref,h.ref=g!==void 0?g:null}function Ou(h,g){throw g.$$typeof===_?Error(o(525)):(h=Object.prototype.toString.call(g),Error(o(31,h==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":h)))}function Kt(h){var g=h._init;return g(h._payload)}function Nn(h){function g(nt,Qe){if(h){var st=nt.deletions;st===null?(nt.deletions=[Qe],nt.flags|=16):st.push(Qe)}}function A(nt,Qe){if(!h)return null;for(;Qe!==null;)g(nt,Qe),Qe=Qe.sibling;return null}function I(nt){for(var Qe=new Map;nt!==null;)nt.key!==null?Qe.set(nt.key,nt):Qe.set(nt.index,nt),nt=nt.sibling;return Qe}function L(nt,Qe){return nt=Hs(nt,Qe),nt.index=0,nt.sibling=null,nt}function V(nt,Qe,st){return nt.index=st,h?(st=nt.alternate,st!==null?(st=st.index,st<Qe?(nt.flags|=67108866,Qe):st):(nt.flags|=67108866,Qe)):(nt.flags|=1048576,Qe)}function he(nt){return h&&nt.alternate===null&&(nt.flags|=67108866),nt}function Se(nt,Qe,st,Lt){return Qe===null||Qe.tag!==6?(Qe=Pa(st,nt.mode,Lt),Qe.return=nt,Qe):(Qe=L(Qe,st),Qe.return=nt,Qe)}function Ve(nt,Qe,st,Lt){var rn=st.type;return rn===D?Tt(nt,Qe,st.props.children,Lt,st.key):Qe!==null&&(Qe.elementType===rn||typeof rn=="object"&&rn!==null&&rn.$$typeof===Z&&Kt(rn)===Qe.type)?(Qe=L(Qe,st.props),Bp(Qe,st),Qe.return=nt,Qe):(Qe=Au(st.type,st.key,st.props,null,nt.mode,Lt),Bp(Qe,st),Qe.return=nt,Qe)}function ct(nt,Qe,st,Lt){return Qe===null||Qe.tag!==4||Qe.stateNode.containerInfo!==st.containerInfo||Qe.stateNode.implementation!==st.implementation?(Qe=_u(st,nt.mode,Lt),Qe.return=nt,Qe):(Qe=L(Qe,st.children||[]),Qe.return=nt,Qe)}function Tt(nt,Qe,st,Lt,rn){return Qe===null||Qe.tag!==7?(Qe=ka(st,nt.mode,Lt,rn),Qe.return=nt,Qe):(Qe=L(Qe,st),Qe.return=nt,Qe)}function St(nt,Qe,st){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint")return Qe=Pa(""+Qe,nt.mode,st),Qe.return=nt,Qe;if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case C:return st=Au(Qe.type,Qe.key,Qe.props,null,nt.mode,st),Bp(st,Qe),st.return=nt,st;case v:return Qe=_u(Qe,nt.mode,st),Qe.return=nt,Qe;case Z:var Lt=Qe._init;return Qe=Lt(Qe._payload),St(nt,Qe,st)}if(fe(Qe)||K(Qe))return Qe=ka(Qe,nt.mode,st,null),Qe.return=nt,Qe;if(typeof Qe.then=="function")return St(nt,dg(Qe),st);if(Qe.$$typeof===F)return St(nt,Cd(nt,Qe),st);Ou(nt,Qe)}return null}function ht(nt,Qe,st,Lt){var rn=Qe!==null?Qe.key:null;if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return rn!==null?null:Se(nt,Qe,""+st,Lt);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case C:return st.key===rn?Ve(nt,Qe,st,Lt):null;case v:return st.key===rn?ct(nt,Qe,st,Lt):null;case Z:return rn=st._init,st=rn(st._payload),ht(nt,Qe,st,Lt)}if(fe(st)||K(st))return rn!==null?null:Tt(nt,Qe,st,Lt,null);if(typeof st.then=="function")return ht(nt,Qe,dg(st),Lt);if(st.$$typeof===F)return ht(nt,Qe,Cd(nt,st),Lt);Ou(nt,st)}return null}function mt(nt,Qe,st,Lt,rn){if(typeof Lt=="string"&&Lt!==""||typeof Lt=="number"||typeof Lt=="bigint")return nt=nt.get(st)||null,Se(Qe,nt,""+Lt,rn);if(typeof Lt=="object"&&Lt!==null){switch(Lt.$$typeof){case C:return nt=nt.get(Lt.key===null?st:Lt.key)||null,Ve(Qe,nt,Lt,rn);case v:return nt=nt.get(Lt.key===null?st:Lt.key)||null,ct(Qe,nt,Lt,rn);case Z:var er=Lt._init;return Lt=er(Lt._payload),mt(nt,Qe,st,Lt,rn)}if(fe(Lt)||K(Lt))return nt=nt.get(st)||null,Tt(Qe,nt,Lt,rn,null);if(typeof Lt.then=="function")return mt(nt,Qe,st,dg(Lt),rn);if(Lt.$$typeof===F)return mt(nt,Qe,st,Cd(Qe,Lt),rn);Ou(Qe,Lt)}return null}function En(nt,Qe,st,Lt){for(var rn=null,er=null,kn=Qe,Sn=Qe=0,ss=null;kn!==null&&Sn<st.length;Sn++){kn.index>Sn?(ss=kn,kn=null):ss=kn.sibling;var qr=ht(nt,kn,st[Sn],Lt);if(qr===null){kn===null&&(kn=ss);break}h&&kn&&qr.alternate===null&&g(nt,kn),Qe=V(qr,Qe,Sn),er===null?rn=qr:er.sibling=qr,er=qr,kn=ss}if(Sn===st.length)return A(nt,kn),ln&&Bc(nt,Sn),rn;if(kn===null){for(;Sn<st.length;Sn++)kn=St(nt,st[Sn],Lt),kn!==null&&(Qe=V(kn,Qe,Sn),er===null?rn=kn:er.sibling=kn,er=kn);return ln&&Bc(nt,Sn),rn}for(kn=I(kn);Sn<st.length;Sn++)ss=mt(kn,nt,Sn,st[Sn],Lt),ss!==null&&(h&&ss.alternate!==null&&kn.delete(ss.key===null?Sn:ss.key),Qe=V(ss,Qe,Sn),er===null?rn=ss:er.sibling=ss,er=ss);return h&&kn.forEach(function(Vd){return g(nt,Vd)}),ln&&Bc(nt,Sn),rn}function Dn(nt,Qe,st,Lt){if(st==null)throw Error(o(151));for(var rn=null,er=null,kn=Qe,Sn=Qe=0,ss=null,qr=st.next();kn!==null&&!qr.done;Sn++,qr=st.next()){kn.index>Sn?(ss=kn,kn=null):ss=kn.sibling;var Vd=ht(nt,kn,qr.value,Lt);if(Vd===null){kn===null&&(kn=ss);break}h&&kn&&Vd.alternate===null&&g(nt,kn),Qe=V(Vd,Qe,Sn),er===null?rn=Vd:er.sibling=Vd,er=Vd,kn=ss}if(qr.done)return A(nt,kn),ln&&Bc(nt,Sn),rn;if(kn===null){for(;!qr.done;Sn++,qr=st.next())qr=St(nt,qr.value,Lt),qr!==null&&(Qe=V(qr,Qe,Sn),er===null?rn=qr:er.sibling=qr,er=qr);return ln&&Bc(nt,Sn),rn}for(kn=I(kn);!qr.done;Sn++,qr=st.next())qr=mt(kn,nt,Sn,qr.value,Lt),qr!==null&&(h&&qr.alternate!==null&&kn.delete(qr.key===null?Sn:qr.key),Qe=V(qr,Qe,Sn),er===null?rn=qr:er.sibling=qr,er=qr);return h&&kn.forEach(function(_S){return g(nt,_S)}),ln&&Bc(nt,Sn),rn}function pi(nt,Qe,st,Lt){if(typeof st=="object"&&st!==null&&st.type===D&&st.key===null&&(st=st.props.children),typeof st=="object"&&st!==null){switch(st.$$typeof){case C:e:{for(var rn=st.key;Qe!==null;){if(Qe.key===rn){if(rn=st.type,rn===D){if(Qe.tag===7){A(nt,Qe.sibling),Lt=L(Qe,st.props.children),Lt.return=nt,nt=Lt;break e}}else if(Qe.elementType===rn||typeof rn=="object"&&rn!==null&&rn.$$typeof===Z&&Kt(rn)===Qe.type){A(nt,Qe.sibling),Lt=L(Qe,st.props),Bp(Lt,st),Lt.return=nt,nt=Lt;break e}A(nt,Qe);break}else g(nt,Qe);Qe=Qe.sibling}st.type===D?(Lt=ka(st.props.children,nt.mode,Lt,st.key),Lt.return=nt,nt=Lt):(Lt=Au(st.type,st.key,st.props,null,nt.mode,Lt),Bp(Lt,st),Lt.return=nt,nt=Lt)}return he(nt);case v:e:{for(rn=st.key;Qe!==null;){if(Qe.key===rn)if(Qe.tag===4&&Qe.stateNode.containerInfo===st.containerInfo&&Qe.stateNode.implementation===st.implementation){A(nt,Qe.sibling),Lt=L(Qe,st.children||[]),Lt.return=nt,nt=Lt;break e}else{A(nt,Qe);break}else g(nt,Qe);Qe=Qe.sibling}Lt=_u(st,nt.mode,Lt),Lt.return=nt,nt=Lt}return he(nt);case Z:return rn=st._init,st=rn(st._payload),pi(nt,Qe,st,Lt)}if(fe(st))return En(nt,Qe,st,Lt);if(K(st)){if(rn=K(st),typeof rn!="function")throw Error(o(150));return st=rn.call(st),Dn(nt,Qe,st,Lt)}if(typeof st.then=="function")return pi(nt,Qe,dg(st),Lt);if(st.$$typeof===F)return pi(nt,Qe,Cd(nt,st),Lt);Ou(nt,st)}return typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint"?(st=""+st,Qe!==null&&Qe.tag===6?(A(nt,Qe.sibling),Lt=L(Qe,st),Lt.return=nt,nt=Lt):(A(nt,Qe),Lt=Pa(st,nt.mode,Lt),Lt.return=nt,nt=Lt),he(nt)):A(nt,Qe)}return function(nt,Qe,st,Lt){try{_h=0;var rn=pi(nt,Qe,st,Lt);return Op=null,rn}catch(kn){if(kn===ye||kn===xe)throw kn;var er=ho(29,kn,null,nt.mode);return er.lanes=Lt,er.return=nt,er}finally{}}}var Md=Nn(!0),Kl=Nn(!1),Va=Te(null),ya=null;function Bu(h){var g=h.alternate;te(Fo,Fo.current&1),te(Va,h),ya===null&&(g===null||Xn.current!==null||g.memoizedState!==null)&&(ya=h)}function Ib(h){if(h.tag===22){if(te(Fo,Fo.current),te(Va,h),ya===null){var g=h.alternate;g!==null&&g.memoizedState!==null&&(ya=h)}}else Ql()}function Ql(){te(Fo,Fo.current),te(Va,Va.current)}function Ha(h){re(Va),ya===h&&(ya=null),re(Fo)}var Fo=Te(0);function jp(h){for(var g=h;g!==null;){if(g.tag===13){var A=g.memoizedState;if(A!==null&&(A=A.dehydrated,A===null||A.data==="$?"||C1(A)))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}function Lp(h,g,A,I){g=h.memoizedState,A=A(I,g),A=A==null?g:w({},g,A),h.memoizedState=A,h.lanes===0&&(h.updateQueue.baseState=A)}var ju={enqueueSetState:function(h,g,A){h=h._reactInternals;var I=no(),L=It(I);L.payload=g,A!=null&&(L.callback=A),g=Pt(h,L,I),g!==null&&(Zs(g,h,I),jt(g,h,I))},enqueueReplaceState:function(h,g,A){h=h._reactInternals;var I=no(),L=It(I);L.tag=1,L.payload=g,A!=null&&(L.callback=A),g=Pt(h,L,I),g!==null&&(Zs(g,h,I),jt(g,h,I))},enqueueForceUpdate:function(h,g){h=h._reactInternals;var A=no(),I=It(A);I.tag=2,g!=null&&(I.callback=g),g=Pt(h,I,A),g!==null&&(Zs(g,h,A),jt(g,h,A))}};function AA(h,g,A,I,L,V,he){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(I,V,he):g.prototype&&g.prototype.isPureReactComponent?!ku(A,I)||!ku(L,V):!0}function Tb(h,g,A,I){h=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(A,I),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(A,I),g.state!==h&&ju.enqueueReplaceState(g,g.state,null)}function Nd(h,g){var A=g;if("ref"in g){A={};for(var I in g)I!=="ref"&&(A[I]=g[I])}if(h=h.defaultProps){A===g&&(A=w({},A));for(var L in h)A[L]===void 0&&(A[L]=h[L])}return A}var Mb=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var g=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(g))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)};function hg(h){Mb(h)}function _A(h){console.error(h)}function CA(h){Mb(h)}function Pp(h,g){try{var A=h.onUncaughtError;A(g.value,{componentStack:g.stack})}catch(I){setTimeout(function(){throw I})}}function xA(h,g,A){try{var I=h.onCaughtError;I(A.value,{componentStack:A.stack,errorBoundary:g.tag===1?g.stateNode:null})}catch(L){setTimeout(function(){throw L})}}function Od(h,g,A){return A=It(A),A.tag=3,A.payload={element:null},A.callback=function(){Pp(h,g)},A}function jk(h){return h=It(h),h.tag=3,h}function Nb(h,g,A,I){var L=A.type.getDerivedStateFromError;if(typeof L=="function"){var V=I.value;h.payload=function(){return L(V)},h.callback=function(){xA(g,A,I)}}var he=A.stateNode;he!==null&&typeof he.componentDidCatch=="function"&&(h.callback=function(){xA(g,A,I),typeof L!="function"&&(Dh===null?Dh=new Set([this]):Dh.add(this));var Se=I.stack;this.componentDidCatch(I.value,{componentStack:Se!==null?Se:""})})}function lS(h,g,A,I,L){if(A.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){if(g=A.alternate,g!==null&&gh(g,A,L,!0),A=Va.current,A!==null){switch(A.tag){case 13:return ya===null?qf():A.alternate===null&&Wi===0&&(Wi=3),A.flags&=-257,A.flags|=65536,A.lanes=L,I===De?A.flags|=16384:(g=A.updateQueue,g===null?A.updateQueue=new Set([I]):g.add(I),f1(h,I,L)),!1;case 22:return A.flags|=65536,I===De?A.flags|=16384:(g=A.updateQueue,g===null?(g={transitions:null,markerInstances:null,retryQueue:new Set([I])},A.updateQueue=g):(A=g.retryQueue,A===null?g.retryQueue=new Set([I]):A.add(I)),f1(h,I,L)),!1}throw Error(o(435,A.tag))}return f1(h,I,L),qf(),!1}if(ln)return g=Va.current,g!==null?((g.flags&65536)===0&&(g.flags|=256),g.flags|=65536,g.lanes=L,I!==xf&&(h=Error(o(422),{cause:I}),mh(fr(h,A)))):(I!==xf&&(g=Error(o(423),{cause:I}),mh(fr(g,A))),h=h.current.alternate,h.flags|=65536,L&=-L,h.lanes|=L,I=fr(I,A),L=Od(h.stateNode,I,L),nn(h,L),Wi!==4&&(Wi=2)),!1;var V=Error(o(520),{cause:I});if(V=fr(V,A),Wp===null?Wp=[V]:Wp.push(V),Wi!==4&&(Wi=2),g===null)return!0;I=fr(I,A),A=g;do{switch(A.tag){case 3:return A.flags|=65536,h=L&-L,A.lanes|=h,h=Od(A.stateNode,I,h),nn(A,h),!1;case 1:if(g=A.type,V=A.stateNode,(A.flags&128)===0&&(typeof g.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(Dh===null||!Dh.has(V))))return A.flags|=65536,L&=-L,A.lanes|=L,L=jk(L),Nb(L,h,A,I),nn(A,L),!1}A=A.return}while(A!==null);return!1}var Lk=Error(o(461)),zo=!1;function _s(h,g,A,I){g.child=h===null?Kl(g,null,A,I):Md(g,h.child,A,I)}function SA(h,g,A,I,L){A=A.render;var V=g.ref;if("ref"in I){var he={};for(var Se in I)Se!=="ref"&&(he[Se]=I[Se])}else he=I;return Wl(g),I=Gs(h,g,A,he,V,L),Se=ri(),h!==null&&!zo?(Tf(h,g,L),Bd(h,g,L)):(ln&&Se&&_d(g),g.flags|=1,_s(h,g,I,L),g.child)}function Pk(h,g,A,I,L){if(h===null){var V=A.type;return typeof V=="function"&&!yd(V)&&V.defaultProps===void 0&&A.compare===null?(g.tag=15,g.type=V,Ob(h,g,V,I,L)):(h=Au(A.type,null,I,g,g.mode,L),h.ref=g.ref,h.return=g,g.child=h)}if(V=h.child,!Vk(h,L)){var he=V.memoizedProps;if(A=A.compare,A=A!==null?A:ku,A(he,I)&&h.ref===g.ref)return Bd(h,g,L)}return g.flags|=1,h=Hs(V,I),h.ref=g.ref,h.return=g,g.child=h}function Ob(h,g,A,I,L){if(h!==null){var V=h.memoizedProps;if(ku(V,I)&&h.ref===g.ref)if(zo=!1,g.pendingProps=I=V,Vk(h,L))(h.flags&131072)!==0&&(zo=!0);else return g.lanes=h.lanes,Bd(h,g,L)}return Bb(h,g,A,I,L)}function Rp(h,g,A){var I=g.pendingProps,L=I.children,V=h!==null?h.memoizedState:null;if(I.mode==="hidden"){if((g.flags&128)!==0){if(I=V!==null?V.baseLanes|A:A,h!==null){for(L=g.child=h.child,V=0;L!==null;)V=V|L.lanes|L.childLanes,L=L.sibling;g.childLanes=V&~I}else g.childLanes=0,g.child=null;return Rk(h,g,I,A)}if((A&536870912)!==0)g.memoizedState={baseLanes:0,cachePool:null},h!==null&&ie(g,V!==null?V.cachePool:null),V!==null?Or(g,V):Dr(),Ib(g);else return g.lanes=g.childLanes=536870912,Rk(h,g,V!==null?V.baseLanes|A:A,A)}else V!==null?(ie(g,V.cachePool),Or(g,V),Ql(),g.memoizedState=null):(h!==null&&ie(g,null),Dr(),Ql());return _s(h,g,L,A),g.child}function Rk(h,g,A,I){var L=Q();return L=L===null?null:{parent:_o._currentValue,pool:L},g.memoizedState={baseLanes:A,cachePool:L},h!==null&&ie(g,null),Dr(),Ib(g),h!==null&&gh(h,g,I,!0),null}function fg(h,g){var A=g.ref;if(A===null)h!==null&&h.ref!==null&&(g.flags|=4194816);else{if(typeof A!="function"&&typeof A!="object")throw Error(o(284));(h===null||h.ref!==A)&&(g.flags|=4194816)}}function Bb(h,g,A,I,L){return Wl(g),A=Gs(h,g,A,I,void 0,L),I=ri(),h!==null&&!zo?(Tf(h,g,L),Bd(h,g,L)):(ln&&I&&_d(g),g.flags|=1,_s(h,g,A,L),g.child)}function Fp(h,g,A,I,L,V){return Wl(g),g.updateQueue=null,A=Gl(g,I,A,L),un(h),I=ri(),h!==null&&!zo?(Tf(h,g,V),Bd(h,g,V)):(ln&&I&&_d(g),g.flags|=1,_s(h,g,A,V),g.child)}function $a(h,g,A,I,L){if(Wl(g),g.stateNode===null){var V=uo,he=A.contextType;typeof he=="object"&&he!==null&&(V=Ao(he)),V=new A(I,V),g.memoizedState=V.state!==null&&V.state!==void 0?V.state:null,V.updater=ju,g.stateNode=V,V._reactInternals=g,V=g.stateNode,V.props=I,V.state=g.memoizedState,V.refs={},Ye(g),he=A.contextType,V.context=typeof he=="object"&&he!==null?Ao(he):uo,V.state=g.memoizedState,he=A.getDerivedStateFromProps,typeof he=="function"&&(Lp(g,A,he,I),V.state=g.memoizedState),typeof A.getDerivedStateFromProps=="function"||typeof V.getSnapshotBeforeUpdate=="function"||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(he=V.state,typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount(),he!==V.state&&ju.enqueueReplaceState(V,V.state,null),en(g,I,V,L),vn(),V.state=g.memoizedState),typeof V.componentDidMount=="function"&&(g.flags|=4194308),I=!0}else if(h===null){V=g.stateNode;var Se=g.memoizedProps,Ve=Nd(A,Se);V.props=Ve;var ct=V.context,Tt=A.contextType;he=uo,typeof Tt=="object"&&Tt!==null&&(he=Ao(Tt));var St=A.getDerivedStateFromProps;Tt=typeof St=="function"||typeof V.getSnapshotBeforeUpdate=="function",Se=g.pendingProps!==Se,Tt||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(Se||ct!==he)&&Tb(g,V,I,he),bt=!1;var ht=g.memoizedState;V.state=ht,en(g,I,V,L),vn(),ct=g.memoizedState,Se||ht!==ct||bt?(typeof St=="function"&&(Lp(g,A,St,I),ct=g.memoizedState),(Ve=bt||AA(g,A,Ve,I,ht,ct,he))?(Tt||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(g.flags|=4194308)):(typeof V.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=I,g.memoizedState=ct),V.props=I,V.state=ct,V.context=he,I=Ve):(typeof V.componentDidMount=="function"&&(g.flags|=4194308),I=!1)}else{V=g.stateNode,Je(h,g),he=g.memoizedProps,Tt=Nd(A,he),V.props=Tt,St=g.pendingProps,ht=V.context,ct=A.contextType,Ve=uo,typeof ct=="object"&&ct!==null&&(Ve=Ao(ct)),Se=A.getDerivedStateFromProps,(ct=typeof Se=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(he!==St||ht!==Ve)&&Tb(g,V,I,Ve),bt=!1,ht=g.memoizedState,V.state=ht,en(g,I,V,L),vn();var mt=g.memoizedState;he!==St||ht!==mt||bt||h!==null&&h.dependencies!==null&&Sp(h.dependencies)?(typeof Se=="function"&&(Lp(g,A,Se,I),mt=g.memoizedState),(Tt=bt||AA(g,A,Tt,I,ht,mt,Ve)||h!==null&&h.dependencies!==null&&Sp(h.dependencies))?(ct||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(I,mt,Ve),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(I,mt,Ve)),typeof V.componentDidUpdate=="function"&&(g.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof V.componentDidUpdate!="function"||he===h.memoizedProps&&ht===h.memoizedState||(g.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||he===h.memoizedProps&&ht===h.memoizedState||(g.flags|=1024),g.memoizedProps=I,g.memoizedState=mt),V.props=I,V.state=mt,V.context=Ve,I=Tt):(typeof V.componentDidUpdate!="function"||he===h.memoizedProps&&ht===h.memoizedState||(g.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||he===h.memoizedProps&&ht===h.memoizedState||(g.flags|=1024),I=!1)}return V=I,fg(h,g),I=(g.flags&128)!==0,V||I?(V=g.stateNode,A=I&&typeof A.getDerivedStateFromError!="function"?null:V.render(),g.flags|=1,h!==null&&I?(g.child=Md(g,h.child,null,L),g.child=Md(g,null,A,L)):_s(h,g,A,L),g.memoizedState=V.state,h=g.child):h=Bd(h,g,L),h}function Rf(h,g,A,I){return Ws(),g.flags|=256,_s(h,g,A,I),g.child}var jb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fk(h){return{baseLanes:h,cachePool:pe()}}function zp(h,g,A){return h=h!==null?h.childLanes&~A:0,g&&(h|=ec),h}function Up(h,g,A){var I=g.pendingProps,L=!1,V=(g.flags&128)!==0,he;if((he=V)||(he=h!==null&&h.memoizedState===null?!1:(Fo.current&2)!==0),he&&(L=!0,g.flags&=-129),he=(g.flags&32)!==0,g.flags&=-33,h===null){if(ln){if(L?Bu(g):Ql(),ln){var Se=Ri,Ve;if(Ve=Se){e:{for(Ve=Se,Se=$s;Ve.nodeType!==8;){if(!Se){Se=null;break e}if(Ve=tc(Ve.nextSibling),Ve===null){Se=null;break e}}Se=Ve}Se!==null?(g.memoizedState={dehydrated:Se,treeContext:Cu!==null?{id:Vl,overflow:Hl}:null,retryLane:536870912,hydrationErrors:null},Ve=ho(18,null,null,0),Ve.stateNode=Se,Ve.return=g,g.child=Ve,yo=g,Ri=null,Ve=!0):Ve=!1}Ve||$l(g)}if(Se=g.memoizedState,Se!==null&&(Se=Se.dehydrated,Se!==null))return C1(Se)?g.lanes=32:g.lanes=536870912,null;Ha(g)}return Se=I.children,I=I.fallback,L?(Ql(),L=g.mode,Se=pg({mode:"hidden",children:Se},L),I=ka(I,L,A,null),Se.return=g,I.return=g,Se.sibling=I,g.child=Se,L=g.child,L.memoizedState=Fk(A),L.childLanes=zp(h,he,A),g.memoizedState=jb,I):(Bu(g),zk(g,Se))}if(Ve=h.memoizedState,Ve!==null&&(Se=Ve.dehydrated,Se!==null)){if(V)g.flags&256?(Bu(g),g.flags&=-257,g=Uk(h,g,A)):g.memoizedState!==null?(Ql(),g.child=h.child,g.flags|=128,g=null):(Ql(),L=I.fallback,Se=g.mode,I=pg({mode:"visible",children:I.children},Se),L=ka(L,Se,A,null),L.flags|=2,I.return=g,L.return=g,I.sibling=L,g.child=I,Md(g,h.child,null,A),I=g.child,I.memoizedState=Fk(A),I.childLanes=zp(h,he,A),g.memoizedState=jb,g=L);else if(Bu(g),C1(Se)){if(he=Se.nextSibling&&Se.nextSibling.dataset,he)var ct=he.dgst;he=ct,I=Error(o(419)),I.stack="",I.digest=he,mh({value:I,source:null,stack:null}),g=Uk(h,g,A)}else if(zo||gh(h,g,A,!1),he=(A&h.childLanes)!==0,zo||he){if(he=Br,he!==null&&(I=A&-A,I=(I&42)!==0?1:Jo(I),I=(I&(he.suspendedLanes|A))!==0?0:I,I!==0&&I!==Ve.retryLane))throw Ve.retryLane=I,Mn(h,I),Zs(he,h,I),Lk;Se.data==="$?"||qf(),g=Uk(h,g,A)}else Se.data==="$?"?(g.flags|=192,g.child=h.child,g=null):(h=Ve.treeContext,Ri=tc(Se.nextSibling),yo=g,ln=!0,xu=null,$s=!1,h!==null&&(Ra[ia++]=Vl,Ra[ia++]=Hl,Ra[ia++]=Cu,Vl=h.id,Hl=h.overflow,Cu=g),g=zk(g,I.children),g.flags|=4096);return g}return L?(Ql(),L=I.fallback,Se=g.mode,Ve=h.child,ct=Ve.sibling,I=Hs(Ve,{mode:"hidden",children:I.children}),I.subtreeFlags=Ve.subtreeFlags&65011712,ct!==null?L=Hs(ct,L):(L=ka(L,Se,A,null),L.flags|=2),L.return=g,I.return=g,I.sibling=L,g.child=I,I=L,L=g.child,Se=h.child.memoizedState,Se===null?Se=Fk(A):(Ve=Se.cachePool,Ve!==null?(ct=_o._currentValue,Ve=Ve.parent!==ct?{parent:ct,pool:ct}:Ve):Ve=pe(),Se={baseLanes:Se.baseLanes|A,cachePool:Ve}),L.memoizedState=Se,L.childLanes=zp(h,he,A),g.memoizedState=jb,I):(Bu(g),A=h.child,h=A.sibling,A=Hs(A,{mode:"visible",children:I.children}),A.return=g,A.sibling=null,h!==null&&(he=g.deletions,he===null?(g.deletions=[h],g.flags|=16):he.push(h)),g.child=A,g.memoizedState=null,A)}function zk(h,g){return g=pg({mode:"visible",children:g},h.mode),g.return=h,h.child=g}function pg(h,g){return h=ho(22,h,null,g),h.lanes=0,h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},h}function Uk(h,g,A){return Md(g,h.child,null,A),h=zk(g,g.pendingProps.children),h.flags|=2,g.memoizedState=null,h}function EA(h,g,A){h.lanes|=g;var I=h.alternate;I!==null&&(I.lanes|=g),xp(h.return,g,A)}function qk(h,g,A,I,L){var V=h.memoizedState;V===null?h.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:I,tail:A,tailMode:L}:(V.isBackwards=g,V.rendering=null,V.renderingStartTime=0,V.last=I,V.tail=A,V.tailMode=L)}function DA(h,g,A){var I=g.pendingProps,L=I.revealOrder,V=I.tail;if(_s(h,g,I.children,A),I=Fo.current,(I&2)!==0)I=I&1|2,g.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=g.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&EA(h,A,g);else if(h.tag===19)EA(h,A,g);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===g)break e;for(;h.sibling===null;){if(h.return===null||h.return===g)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}I&=1}switch(te(Fo,I),L){case"forwards":for(A=g.child,L=null;A!==null;)h=A.alternate,h!==null&&jp(h)===null&&(L=A),A=A.sibling;A=L,A===null?(L=g.child,g.child=null):(L=A.sibling,A.sibling=null),qk(g,!1,L,A,V);break;case"backwards":for(A=null,L=g.child,g.child=null;L!==null;){if(h=L.alternate,h!==null&&jp(h)===null){g.child=L;break}h=L.sibling,L.sibling=A,A=L,L=h}qk(g,!0,A,null,V);break;case"together":qk(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function Bd(h,g,A){if(h!==null&&(g.dependencies=h.dependencies),ut|=g.lanes,(A&g.childLanes)===0)if(h!==null){if(gh(h,g,A,!1),(A&g.childLanes)===0)return null}else return null;if(h!==null&&g.child!==h.child)throw Error(o(153));if(g.child!==null){for(h=g.child,A=Hs(h,h.pendingProps),g.child=A,A.return=g;h.sibling!==null;)h=h.sibling,A=A.sibling=Hs(h,h.pendingProps),A.return=g;A.sibling=null}return g.child}function Vk(h,g){return(h.lanes&g)!==0?!0:(h=h.dependencies,!!(h!==null&&Sp(h)))}function Lb(h,g,A){switch(g.tag){case 3:Oe(g,g.stateNode.containerInfo),Su(g,_o,h.memoizedState.cache),Ws();break;case 27:case 5:Ze(g);break;case 4:Oe(g,g.stateNode.containerInfo);break;case 10:Su(g,g.type,g.memoizedProps.value);break;case 13:var I=g.memoizedState;if(I!==null)return I.dehydrated!==null?(Bu(g),g.flags|=128,null):(A&g.child.childLanes)!==0?Up(h,g,A):(Bu(g),h=Bd(h,g,A),h!==null?h.sibling:null);Bu(g);break;case 19:var L=(h.flags&128)!==0;if(I=(A&g.childLanes)!==0,I||(gh(h,g,A,!1),I=(A&g.childLanes)!==0),L){if(I)return DA(h,g,A);g.flags|=128}if(L=g.memoizedState,L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),te(Fo,Fo.current),I)break;return null;case 22:case 23:return g.lanes=0,Rp(h,g,A);case 24:Su(g,_o,h.memoizedState.cache)}return Bd(h,g,A)}function Hk(h,g,A){if(h!==null)if(h.memoizedProps!==g.pendingProps)zo=!0;else{if(!Vk(h,A)&&(g.flags&128)===0)return zo=!1,Lb(h,g,A);zo=(h.flags&131072)!==0}else zo=!1,ln&&(g.flags&1048576)!==0&&vb(g,_p,g.index);switch(g.lanes=0,g.tag){case 16:e:{h=g.pendingProps;var I=g.elementType,L=I._init;if(I=L(I._payload),g.type=I,typeof I=="function")yd(I)?(h=Nd(I,h),g.tag=1,g=$a(null,g,I,h,A)):(g.tag=0,g=Bb(null,g,I,h,A));else{if(I!=null){if(L=I.$$typeof,L===G){g.tag=11,g=SA(null,g,I,h,A);break e}else if(L===z){g.tag=14,g=Pk(null,g,I,h,A);break e}}throw g=q(I)||I,Error(o(306,g,""))}}return g;case 0:return Bb(h,g,g.type,g.pendingProps,A);case 1:return I=g.type,L=Nd(I,g.pendingProps),$a(h,g,I,L,A);case 3:e:{if(Oe(g,g.stateNode.containerInfo),h===null)throw Error(o(387));I=g.pendingProps;var V=g.memoizedState;L=V.element,Je(h,g),en(g,I,null,A);var he=g.memoizedState;if(I=he.cache,Su(g,_o,I),I!==V.cache&&Sf(g,[_o],A,!0),vn(),I=he.element,V.isDehydrated)if(V={element:I,isDehydrated:!1,cache:he.cache},g.updateQueue.baseState=V,g.memoizedState=V,g.flags&256){g=Rf(h,g,I,A);break e}else if(I!==L){L=fr(Error(o(424)),g),mh(L),g=Rf(h,g,I,A);break e}else{switch(h=g.stateNode.containerInfo,h.nodeType){case 9:h=h.body;break;default:h=h.nodeName==="HTML"?h.ownerDocument.body:h}for(Ri=tc(h.firstChild),yo=g,ln=!0,xu=null,$s=!0,A=Kl(g,null,I,A),g.child=A;A;)A.flags=A.flags&-3|4096,A=A.sibling}else{if(Ws(),I===L){g=Bd(h,g,A);break e}_s(h,g,I,A)}g=g.child}return g;case 26:return fg(h,g),h===null?(A=g_(g.type,null,g.pendingProps,null))?g.memoizedState=A:ln||(A=g.type,h=g.pendingProps,I=Zb(ve.current).createElement(A),I[xr]=g,I[rr]=h,os(I,A,h),Fr(I),g.stateNode=I):g.memoizedState=g_(g.type,h.memoizedProps,g.pendingProps,h.memoizedState),null;case 27:return Ze(g),h===null&&ln&&(I=g.stateNode=c_(g.type,g.pendingProps,ve.current),yo=g,$s=!0,L=Ri,qu(g.type)?(x1=L,Ri=tc(I.firstChild)):Ri=L),_s(h,g,g.pendingProps.children,A),fg(h,g),h===null&&(g.flags|=4194304),g.child;case 5:return h===null&&ln&&((L=I=Ri)&&(I=mS(I,g.type,g.pendingProps,$s),I!==null?(g.stateNode=I,yo=g,Ri=tc(I.firstChild),$s=!1,L=!0):L=!1),L||$l(g)),Ze(g),L=g.type,V=g.pendingProps,he=h!==null?h.memoizedProps:null,I=V.children,Jb(L,V)?I=null:he!==null&&Jb(L,he)&&(g.flags|=32),g.memoizedState!==null&&(L=Gs(h,g,Yl,null,null,A),Ig._currentValue=L),fg(h,g),_s(h,g,I,A),g.child;case 6:return h===null&&ln&&((h=A=Ri)&&(A=gS(A,g.pendingProps,$s),A!==null?(g.stateNode=A,yo=g,Ri=null,h=!0):h=!1),h||$l(g)),null;case 13:return Up(h,g,A);case 4:return Oe(g,g.stateNode.containerInfo),I=g.pendingProps,h===null?g.child=Md(g,null,I,A):_s(h,g,I,A),g.child;case 11:return SA(h,g,g.type,g.pendingProps,A);case 7:return _s(h,g,g.pendingProps,A),g.child;case 8:return _s(h,g,g.pendingProps.children,A),g.child;case 12:return _s(h,g,g.pendingProps.children,A),g.child;case 10:return I=g.pendingProps,Su(g,g.type,I.value),_s(h,g,I.children,A),g.child;case 9:return L=g.type._context,I=g.pendingProps.children,Wl(g),L=Ao(L),I=I(L),g.flags|=1,_s(h,g,I,A),g.child;case 14:return Pk(h,g,g.type,g.pendingProps,A);case 15:return Ob(h,g,g.type,g.pendingProps,A);case 19:return DA(h,g,A);case 31:return I=g.pendingProps,A=g.mode,I={mode:I.mode,children:I.children},h===null?(A=pg(I,A),A.ref=g.ref,g.child=A,A.return=g,g=A):(A=Hs(h.child,I),A.ref=g.ref,g.child=A,A.return=g,g=A),g;case 22:return Rp(h,g,A);case 24:return Wl(g),I=Ao(_o),h===null?(L=Q(),L===null&&(L=Br,V=Ef(),L.pooledCache=V,V.refCount++,V!==null&&(L.pooledCacheLanes|=A),L=V),g.memoizedState={parent:I,cache:L},Ye(g),Su(g,_o,L)):((h.lanes&A)!==0&&(Je(h,g),en(g,null,null,A),vn()),L=h.memoizedState,V=g.memoizedState,L.parent!==I?(L={parent:I,cache:I},g.memoizedState=L,g.lanes===0&&(g.memoizedState=g.updateQueue.baseState=L),Su(g,_o,I)):(I=V.cache,Su(g,_o,I),I!==L.cache&&Sf(g,[_o],A,!0))),_s(h,g,g.pendingProps.children,A),g.child;case 29:throw g.pendingProps}throw Error(o(156,g.tag))}function Zl(h){h.flags|=4}function $k(h,g){if(g.type!=="stylesheet"||(g.state.loading&4)!==0)h.flags&=-16777217;else if(h.flags|=16777216,!k_(g)){if(g=Va.current,g!==null&&((Qn&4194048)===Qn?ya!==null:(Qn&62914560)!==Qn&&(Qn&536870912)===0||g!==ya))throw rt=De,_e;h.flags|=8192}}function mg(h,g){g!==null&&(h.flags|=4),h.flags&16384&&(g=h.tag!==22?tr():536870912,h.lanes|=g,Fd|=g)}function gg(h,g){if(!ln)switch(h.tailMode){case"hidden":g=h.tail;for(var A=null;g!==null;)g.alternate!==null&&(A=g),g=g.sibling;A===null?h.tail=null:A.sibling=null;break;case"collapsed":A=h.tail;for(var I=null;A!==null;)A.alternate!==null&&(I=A),A=A.sibling;I===null?g||h.tail===null?h.tail=null:h.tail.sibling=null:I.sibling=null}}function to(h){var g=h.alternate!==null&&h.alternate.child===h.child,A=0,I=0;if(g)for(var L=h.child;L!==null;)A|=L.lanes|L.childLanes,I|=L.subtreeFlags&65011712,I|=L.flags&65011712,L.return=h,L=L.sibling;else for(L=h.child;L!==null;)A|=L.lanes|L.childLanes,I|=L.subtreeFlags,I|=L.flags,L.return=h,L=L.sibling;return h.subtreeFlags|=I,h.childLanes=A,g}function IA(h,g,A){var I=g.pendingProps;switch(Cf(g),g.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return to(g),null;case 1:return to(g),null;case 3:return A=g.stateNode,I=null,h!==null&&(I=h.memoizedState.cache),g.memoizedState.cache!==I&&(g.flags|=2048),ns(_o),Ue(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(h===null||h.child===null)&&(or(g)?Zl(g):h===null||h.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,Xm())),to(g),null;case 26:return A=g.memoizedState,h===null?(Zl(g),A!==null?(to(g),$k(g,A)):(to(g),g.flags&=-16777217)):A?A!==h.memoizedState?(Zl(g),to(g),$k(g,A)):(to(g),g.flags&=-16777217):(h.memoizedProps!==I&&Zl(g),to(g),g.flags&=-16777217),null;case 27:Ge(g),A=ve.current;var L=g.type;if(h!==null&&g.stateNode!=null)h.memoizedProps!==I&&Zl(g);else{if(!I){if(g.stateNode===null)throw Error(o(166));return to(g),null}h=ke.current,or(g)?Cp(g):(h=c_(L,I,A),g.stateNode=h,Zl(g))}return to(g),null;case 5:if(Ge(g),A=g.type,h!==null&&g.stateNode!=null)h.memoizedProps!==I&&Zl(g);else{if(!I){if(g.stateNode===null)throw Error(o(166));return to(g),null}if(h=ke.current,or(g))Cp(g);else{switch(L=Zb(ve.current),h){case 1:h=L.createElementNS("http://www.w3.org/2000/svg",A);break;case 2:h=L.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;default:switch(A){case"svg":h=L.createElementNS("http://www.w3.org/2000/svg",A);break;case"math":h=L.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;case"script":h=L.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof I.is=="string"?L.createElement("select",{is:I.is}):L.createElement("select"),I.multiple?h.multiple=!0:I.size&&(h.size=I.size);break;default:h=typeof I.is=="string"?L.createElement(A,{is:I.is}):L.createElement(A)}}h[xr]=g,h[rr]=I;e:for(L=g.child;L!==null;){if(L.tag===5||L.tag===6)h.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===g)break e;for(;L.sibling===null;){if(L.return===null||L.return===g)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}g.stateNode=h;e:switch(os(h,A,I),A){case"button":case"input":case"select":case"textarea":h=!!I.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Zl(g)}}return to(g),g.flags&=-16777217,null;case 6:if(h&&g.stateNode!=null)h.memoizedProps!==I&&Zl(g);else{if(typeof I!="string"&&g.stateNode===null)throw Error(o(166));if(h=ve.current,or(g)){if(h=g.stateNode,A=g.memoizedProps,I=null,L=yo,L!==null)switch(L.tag){case 27:case 5:I=L.memoizedProps}h[xr]=g,h=!!(h.nodeValue===A||I!==null&&I.suppressHydrationWarning===!0||Uu(h.nodeValue,A)),h||$l(g)}else h=Zb(h).createTextNode(I),h[xr]=g,g.stateNode=h}return to(g),null;case 13:if(I=g.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(L=or(g),I!==null&&I.dehydrated!==null){if(h===null){if(!L)throw Error(o(318));if(L=g.memoizedState,L=L!==null?L.dehydrated:null,!L)throw Error(o(317));L[xr]=g}else Ws(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;to(g),L=!1}else L=Xm(),h!==null&&h.memoizedState!==null&&(h.memoizedState.hydrationErrors=L),L=!0;if(!L)return g.flags&256?(Ha(g),g):(Ha(g),null)}if(Ha(g),(g.flags&128)!==0)return g.lanes=A,g;if(A=I!==null,h=h!==null&&h.memoizedState!==null,A){I=g.child,L=null,I.alternate!==null&&I.alternate.memoizedState!==null&&I.alternate.memoizedState.cachePool!==null&&(L=I.alternate.memoizedState.cachePool.pool);var V=null;I.memoizedState!==null&&I.memoizedState.cachePool!==null&&(V=I.memoizedState.cachePool.pool),V!==L&&(I.flags|=2048)}return A!==h&&A&&(g.child.flags|=8192),mg(g,g.updateQueue),to(g),null;case 4:return Ue(),h===null&&Kb(g.stateNode.containerInfo),to(g),null;case 10:return ns(g.type),to(g),null;case 19:if(re(Fo),L=g.memoizedState,L===null)return to(g),null;if(I=(g.flags&128)!==0,V=L.rendering,V===null)if(I)gg(L,!1);else{if(Wi!==0||h!==null&&(h.flags&128)!==0)for(h=g.child;h!==null;){if(V=jp(h),V!==null){for(g.flags|=128,gg(L,!1),h=V.updateQueue,g.updateQueue=h,mg(g,h),g.subtreeFlags=0,h=A,A=g.child;A!==null;)Nc(A,h),A=A.sibling;return te(Fo,Fo.current&1|2),g.child}h=h.sibling}L.tail!==null&&Ee()>oa&&(g.flags|=128,I=!0,gg(L,!1),g.lanes=4194304)}else{if(!I)if(h=jp(V),h!==null){if(g.flags|=128,I=!0,h=h.updateQueue,g.updateQueue=h,mg(g,h),gg(L,!0),L.tail===null&&L.tailMode==="hidden"&&!V.alternate&&!ln)return to(g),null}else 2*Ee()-L.renderingStartTime>oa&&A!==536870912&&(g.flags|=128,I=!0,gg(L,!1),g.lanes=4194304);L.isBackwards?(V.sibling=g.child,g.child=V):(h=L.last,h!==null?h.sibling=V:g.child=V,L.last=V)}return L.tail!==null?(g=L.tail,L.rendering=g,L.tail=g.sibling,L.renderingStartTime=Ee(),g.sibling=null,h=Fo.current,te(Fo,I?h&1|2:h&1),g):(to(g),null);case 22:case 23:return Ha(g),Pn(),I=g.memoizedState!==null,h!==null?h.memoizedState!==null!==I&&(g.flags|=8192):I&&(g.flags|=8192),I?(A&536870912)!==0&&(g.flags&128)===0&&(to(g),g.subtreeFlags&6&&(g.flags|=8192)):to(g),A=g.updateQueue,A!==null&&mg(g,A.retryQueue),A=null,h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(A=h.memoizedState.cachePool.pool),I=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(I=g.memoizedState.cachePool.pool),I!==A&&(g.flags|=2048),h!==null&&re(R),null;case 24:return A=null,h!==null&&(A=h.memoizedState.cache),g.memoizedState.cache!==A&&(g.flags|=2048),ns(_o),to(g),null;case 25:return null;case 30:return null}throw Error(o(156,g.tag))}function TA(h,g){switch(Cf(g),g.tag){case 1:return h=g.flags,h&65536?(g.flags=h&-65537|128,g):null;case 3:return ns(_o),Ue(),h=g.flags,(h&65536)!==0&&(h&128)===0?(g.flags=h&-65537|128,g):null;case 26:case 27:case 5:return Ge(g),null;case 13:if(Ha(g),h=g.memoizedState,h!==null&&h.dehydrated!==null){if(g.alternate===null)throw Error(o(340));Ws()}return h=g.flags,h&65536?(g.flags=h&-65537|128,g):null;case 19:return re(Fo),null;case 4:return Ue(),null;case 10:return ns(g.type),null;case 22:case 23:return Ha(g),Pn(),h!==null&&re(R),h=g.flags,h&65536?(g.flags=h&-65537|128,g):null;case 24:return ns(_o),null;case 25:return null;default:return null}}function Wk(h,g){switch(Cf(g),g.tag){case 3:ns(_o),Ue();break;case 26:case 27:case 5:Ge(g);break;case 4:Ue();break;case 13:Ha(g);break;case 19:re(Fo);break;case 10:ns(g.type);break;case 22:case 23:Ha(g),Pn(),h!==null&&re(R);break;case 24:ns(_o)}}function Wa(h,g){try{var A=g.updateQueue,I=A!==null?A.lastEffect:null;if(I!==null){var L=I.next;A=L;do{if((A.tag&h)===h){I=void 0;var V=A.create,he=A.inst;I=V(),he.destroy=I}A=A.next}while(A!==L)}}catch(Se){fi(g,g.return,Se)}}function Ch(h,g,A){try{var I=g.updateQueue,L=I!==null?I.lastEffect:null;if(L!==null){var V=L.next;I=V;do{if((I.tag&h)===h){var he=I.inst,Se=he.destroy;if(Se!==void 0){he.destroy=void 0,L=g;var Ve=A,ct=Se;try{ct()}catch(Tt){fi(L,Ve,Tt)}}}I=I.next}while(I!==V)}}catch(Tt){fi(g,g.return,Tt)}}function Gk(h){var g=h.updateQueue;if(g!==null){var A=h.stateNode;try{Nr(g,A)}catch(I){fi(h,h.return,I)}}}function Ff(h,g,A){A.props=Nd(h.type,h.memoizedProps),A.state=h.memoizedState;try{A.componentWillUnmount()}catch(I){fi(h,g,I)}}function bl(h,g){try{var A=h.ref;if(A!==null){switch(h.tag){case 26:case 27:case 5:var I=h.stateNode;break;case 30:I=h.stateNode;break;default:I=h.stateNode}typeof A=="function"?h.refCleanup=A(I):A.current=I}}catch(L){fi(h,g,L)}}function Lu(h,g){var A=h.ref,I=h.refCleanup;if(A!==null)if(typeof I=="function")try{I()}catch(L){fi(h,g,L)}finally{h.refCleanup=null,h=h.alternate,h!=null&&(h.refCleanup=null)}else if(typeof A=="function")try{A(null)}catch(L){fi(h,g,L)}else A.current=null}function Pb(h){var g=h.type,A=h.memoizedProps,I=h.stateNode;try{e:switch(g){case"button":case"input":case"select":case"textarea":A.autoFocus&&I.focus();break e;case"img":A.src?I.src=A.src:A.srcSet&&(I.srcset=A.srcSet)}}catch(L){fi(h,h.return,L)}}function Yk(h,g,A){try{var I=h.stateNode;Tr(I,h.type,A,g),I[rr]=g}catch(L){fi(h,h.return,L)}}function MA(h){return h.tag===5||h.tag===3||h.tag===26||h.tag===27&&qu(h.type)||h.tag===4}function Kk(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||MA(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.tag===27&&qu(h.type)||h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function Qk(h,g,A){var I=h.tag;if(I===5||I===6)h=h.stateNode,g?(A.nodeType===9?A.body:A.nodeName==="HTML"?A.ownerDocument.body:A).insertBefore(h,g):(g=A.nodeType===9?A.body:A.nodeName==="HTML"?A.ownerDocument.body:A,g.appendChild(h),A=A._reactRootContainer,A!=null||g.onclick!==null||(g.onclick=yl));else if(I!==4&&(I===27&&qu(h.type)&&(A=h.stateNode,g=null),h=h.child,h!==null))for(Qk(h,g,A),h=h.sibling;h!==null;)Qk(h,g,A),h=h.sibling}function Rb(h,g,A){var I=h.tag;if(I===5||I===6)h=h.stateNode,g?A.insertBefore(h,g):A.appendChild(h);else if(I!==4&&(I===27&&qu(h.type)&&(A=h.stateNode),h=h.child,h!==null))for(Rb(h,g,A),h=h.sibling;h!==null;)Rb(h,g,A),h=h.sibling}function NA(h){var g=h.stateNode,A=h.memoizedProps;try{for(var I=h.type,L=g.attributes;L.length;)g.removeAttributeNode(L[0]);os(g,I,A),g[xr]=h,g[rr]=A}catch(V){fi(h,h.return,V)}}var jd=!1,So=!1,Fb=!1,OA=typeof WeakSet=="function"?WeakSet:Set,Cs=null;function zf(h,g){if(h=h.containerInfo,y1=c0,h=Fs(h),Bo(h)){if("selectionStart"in h)var A={start:h.selectionStart,end:h.selectionEnd};else e:{A=(A=h.ownerDocument)&&A.defaultView||window;var I=A.getSelection&&A.getSelection();if(I&&I.rangeCount!==0){A=I.anchorNode;var L=I.anchorOffset,V=I.focusNode;I=I.focusOffset;try{A.nodeType,V.nodeType}catch{A=null;break e}var he=0,Se=-1,Ve=-1,ct=0,Tt=0,St=h,ht=null;t:for(;;){for(var mt;St!==A||L!==0&&St.nodeType!==3||(Se=he+L),St!==V||I!==0&&St.nodeType!==3||(Ve=he+I),St.nodeType===3&&(he+=St.nodeValue.length),(mt=St.firstChild)!==null;)ht=St,St=mt;for(;;){if(St===h)break t;if(ht===A&&++ct===L&&(Se=he),ht===V&&++Tt===I&&(Ve=he),(mt=St.nextSibling)!==null)break;St=ht,ht=St.parentNode}St=mt}A=Se===-1||Ve===-1?null:{start:Se,end:Ve}}else A=null}A=A||{start:0,end:0}}else A=null;for(Qb={focusedElem:h,selectionRange:A},c0=!1,Cs=g;Cs!==null;)if(g=Cs,h=g.child,(g.subtreeFlags&1024)!==0&&h!==null)h.return=g,Cs=h;else for(;Cs!==null;){switch(g=Cs,V=g.alternate,h=g.flags,g.tag){case 0:break;case 11:case 15:break;case 1:if((h&1024)!==0&&V!==null){h=void 0,A=g,L=V.memoizedProps,V=V.memoizedState,I=A.stateNode;try{var En=Nd(A.type,L,A.elementType===A.type);h=I.getSnapshotBeforeUpdate(En,V),I.__reactInternalSnapshotBeforeUpdate=h}catch(Dn){fi(A,A.return,Dn)}}break;case 3:if((h&1024)!==0){if(h=g.stateNode.containerInfo,A=h.nodeType,A===9)e0(h);else if(A===1)switch(h.nodeName){case"HEAD":case"HTML":case"BODY":e0(h);break;default:h.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((h&1024)!==0)throw Error(o(163))}if(h=g.sibling,h!==null){h.return=g.return,Cs=h;break}Cs=g.return}}function BA(h,g,A){var I=A.flags;switch(A.tag){case 0:case 11:case 15:xh(h,A),I&4&&Wa(5,A);break;case 1:if(xh(h,A),I&4)if(h=A.stateNode,g===null)try{h.componentDidMount()}catch(he){fi(A,A.return,he)}else{var L=Nd(A.type,g.memoizedProps);g=g.memoizedState;try{h.componentDidUpdate(L,g,h.__reactInternalSnapshotBeforeUpdate)}catch(he){fi(A,A.return,he)}}I&64&&Gk(A),I&512&&bl(A,A.return);break;case 3:if(xh(h,A),I&64&&(h=A.updateQueue,h!==null)){if(g=null,A.child!==null)switch(A.child.tag){case 27:case 5:g=A.child.stateNode;break;case 1:g=A.child.stateNode}try{Nr(h,g)}catch(he){fi(A,A.return,he)}}break;case 27:g===null&&I&4&&NA(A);case 26:case 5:xh(h,A),g===null&&I&4&&Pb(A),I&512&&bl(A,A.return);break;case 12:xh(h,A);break;case 13:xh(h,A),I&4&&PA(h,A),I&64&&(h=A.memoizedState,h!==null&&(h=h.dehydrated,h!==null&&(A=ZA.bind(null,A),t0(h,A))));break;case 22:if(I=A.memoizedState!==null||jd,!I){g=g!==null&&g.memoizedState!==null||So,L=jd;var V=So;jd=I,(So=g)&&!V?Pd(h,A,(A.subtreeFlags&8772)!==0):xh(h,A),jd=L,So=V}break;case 30:break;default:xh(h,A)}}function jA(h){var g=h.alternate;g!==null&&(h.alternate=null,jA(g)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(g=h.stateNode,g!==null&&ws(g)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}var $i=null,Qs=!1;function Ld(h,g,A){for(A=A.child;A!==null;)LA(h,g,A),A=A.sibling}function LA(h,g,A){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(pt,A)}catch{}switch(A.tag){case 26:So||Lu(A,g),Ld(h,g,A),A.memoizedState?A.memoizedState.count--:A.stateNode&&(A=A.stateNode,A.parentNode.removeChild(A));break;case 27:So||Lu(A,g);var I=$i,L=Qs;qu(A.type)&&($i=A.stateNode,Qs=!1),Ld(h,g,A),Vu(A.stateNode),$i=I,Qs=L;break;case 5:So||Lu(A,g);case 6:if(I=$i,L=Qs,$i=null,Ld(h,g,A),$i=I,Qs=L,$i!==null)if(Qs)try{($i.nodeType===9?$i.body:$i.nodeName==="HTML"?$i.ownerDocument.body:$i).removeChild(A.stateNode)}catch(V){fi(A,g,V)}else try{$i.removeChild(A.stateNode)}catch(V){fi(A,g,V)}break;case 18:$i!==null&&(Qs?(h=$i,_1(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,A.stateNode),qd(h)):_1($i,A.stateNode));break;case 4:I=$i,L=Qs,$i=A.stateNode.containerInfo,Qs=!0,Ld(h,g,A),$i=I,Qs=L;break;case 0:case 11:case 14:case 15:So||Ch(2,A,g),So||Ch(4,A,g),Ld(h,g,A);break;case 1:So||(Lu(A,g),I=A.stateNode,typeof I.componentWillUnmount=="function"&&Ff(A,g,I)),Ld(h,g,A);break;case 21:Ld(h,g,A);break;case 22:So=(I=So)||A.memoizedState!==null,Ld(h,g,A),So=I;break;default:Ld(h,g,A)}}function PA(h,g){if(g.memoizedState===null&&(h=g.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null))))try{qd(h)}catch(A){fi(g,g.return,A)}}function RA(h){switch(h.tag){case 13:case 19:var g=h.stateNode;return g===null&&(g=h.stateNode=new OA),g;case 22:return h=h.stateNode,g=h._retryCache,g===null&&(g=h._retryCache=new OA),g;default:throw Error(o(435,h.tag))}}function Zk(h,g){var A=RA(h);g.forEach(function(I){var L=uS.bind(null,h,I);A.has(I)||(A.add(I),I.then(L,L))})}function kl(h,g){var A=g.deletions;if(A!==null)for(var I=0;I<A.length;I++){var L=A[I],V=h,he=g,Se=he;e:for(;Se!==null;){switch(Se.tag){case 27:if(qu(Se.type)){$i=Se.stateNode,Qs=!1;break e}break;case 5:$i=Se.stateNode,Qs=!1;break e;case 3:case 4:$i=Se.stateNode.containerInfo,Qs=!0;break e}Se=Se.return}if($i===null)throw Error(o(160));LA(V,he,L),$i=null,Qs=!1,V=L.alternate,V!==null&&(V.return=null),L.return=null}if(g.subtreeFlags&13878)for(g=g.child;g!==null;)zb(g,h),g=g.sibling}var Jl=null;function zb(h,g){var A=h.alternate,I=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:kl(g,h),wl(h),I&4&&(Ch(3,h,h.return),Wa(3,h),Ch(5,h,h.return));break;case 1:kl(g,h),wl(h),I&512&&(So||A===null||Lu(A,A.return)),I&64&&jd&&(h=h.updateQueue,h!==null&&(I=h.callbacks,I!==null&&(A=h.shared.hiddenCallbacks,h.shared.hiddenCallbacks=A===null?I:A.concat(I))));break;case 26:var L=Jl;if(kl(g,h),wl(h),I&512&&(So||A===null||Lu(A,A.return)),I&4){var V=A!==null?A.memoizedState:null;if(I=h.memoizedState,A===null)if(I===null)if(h.stateNode===null){e:{I=h.type,A=h.memoizedProps,L=L.ownerDocument||L;t:switch(I){case"title":V=L.getElementsByTagName("title")[0],(!V||V[ks]||V[xr]||V.namespaceURI==="http://www.w3.org/2000/svg"||V.hasAttribute("itemprop"))&&(V=L.createElement(I),L.head.insertBefore(V,L.querySelector("head > title"))),os(V,I,A),V[xr]=h,Fr(V),I=V;break e;case"link":var he=T1("link","href",L).get(I+(A.href||""));if(he){for(var Se=0;Se<he.length;Se++)if(V=he[Se],V.getAttribute("href")===(A.href==null||A.href===""?null:A.href)&&V.getAttribute("rel")===(A.rel==null?null:A.rel)&&V.getAttribute("title")===(A.title==null?null:A.title)&&V.getAttribute("crossorigin")===(A.crossOrigin==null?null:A.crossOrigin)){he.splice(Se,1);break t}}V=L.createElement(I),os(V,I,A),L.head.appendChild(V);break;case"meta":if(he=T1("meta","content",L).get(I+(A.content||""))){for(Se=0;Se<he.length;Se++)if(V=he[Se],V.getAttribute("content")===(A.content==null?null:""+A.content)&&V.getAttribute("name")===(A.name==null?null:A.name)&&V.getAttribute("property")===(A.property==null?null:A.property)&&V.getAttribute("http-equiv")===(A.httpEquiv==null?null:A.httpEquiv)&&V.getAttribute("charset")===(A.charSet==null?null:A.charSet)){he.splice(Se,1);break t}}V=L.createElement(I),os(V,I,A),L.head.appendChild(V);break;default:throw Error(o(468,I))}V[xr]=h,Fr(V),I=V}h.stateNode=I}else Eg(L,h.type,h.stateNode);else h.stateNode=r0(L,I,h.memoizedProps);else V!==I?(V===null?A.stateNode!==null&&(A=A.stateNode,A.parentNode.removeChild(A)):V.count--,I===null?Eg(L,h.type,h.stateNode):r0(L,I,h.memoizedProps)):I===null&&h.stateNode!==null&&Yk(h,h.memoizedProps,A.memoizedProps)}break;case 27:kl(g,h),wl(h),I&512&&(So||A===null||Lu(A,A.return)),A!==null&&I&4&&Yk(h,h.memoizedProps,A.memoizedProps);break;case 5:if(kl(g,h),wl(h),I&512&&(So||A===null||Lu(A,A.return)),h.flags&32){L=h.stateNode;try{hu(L,"")}catch(mt){fi(h,h.return,mt)}}I&4&&h.stateNode!=null&&(L=h.memoizedProps,Yk(h,L,A!==null?A.memoizedProps:L)),I&1024&&(Fb=!0);break;case 6:if(kl(g,h),wl(h),I&4){if(h.stateNode===null)throw Error(o(162));I=h.memoizedProps,A=h.stateNode;try{A.nodeValue=I}catch(mt){fi(h,h.return,mt)}}break;case 3:if(rc=null,L=Jl,Jl=n0(g.containerInfo),kl(g,h),Jl=L,wl(h),I&4&&A!==null&&A.memoizedState.isDehydrated)try{qd(g.containerInfo)}catch(mt){fi(h,h.return,mt)}Fb&&(Fb=!1,FA(h));break;case 4:I=Jl,Jl=n0(h.stateNode.containerInfo),kl(g,h),wl(h),Jl=I;break;case 12:kl(g,h),wl(h);break;case 13:kl(g,h),wl(h),h.child.flags&8192&&h.memoizedState!==null!=(A!==null&&A.memoizedState!==null)&&(zd=Ee()),I&4&&(I=h.updateQueue,I!==null&&(h.updateQueue=null,Zk(h,I)));break;case 22:L=h.memoizedState!==null;var Ve=A!==null&&A.memoizedState!==null,ct=jd,Tt=So;if(jd=ct||L,So=Tt||Ve,kl(g,h),So=Tt,jd=ct,wl(h),I&8192)e:for(g=h.stateNode,g._visibility=L?g._visibility&-2:g._visibility|1,L&&(A===null||Ve||jd||So||Sh(h)),A=null,g=h;;){if(g.tag===5||g.tag===26){if(A===null){Ve=A=g;try{if(V=Ve.stateNode,L)he=V.style,typeof he.setProperty=="function"?he.setProperty("display","none","important"):he.display="none";else{Se=Ve.stateNode;var St=Ve.memoizedProps.style,ht=St!=null&&St.hasOwnProperty("display")?St.display:null;Se.style.display=ht==null||typeof ht=="boolean"?"":(""+ht).trim()}}catch(mt){fi(Ve,Ve.return,mt)}}}else if(g.tag===6){if(A===null){Ve=g;try{Ve.stateNode.nodeValue=L?"":Ve.memoizedProps}catch(mt){fi(Ve,Ve.return,mt)}}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===h)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===h)break e;for(;g.sibling===null;){if(g.return===null||g.return===h)break e;A===g&&(A=null),g=g.return}A===g&&(A=null),g.sibling.return=g.return,g=g.sibling}I&4&&(I=h.updateQueue,I!==null&&(A=I.retryQueue,A!==null&&(I.retryQueue=null,Zk(h,A))));break;case 19:kl(g,h),wl(h),I&4&&(I=h.updateQueue,I!==null&&(h.updateQueue=null,Zk(h,I)));break;case 30:break;case 21:break;default:kl(g,h),wl(h)}}function wl(h){var g=h.flags;if(g&2){try{for(var A,I=h.return;I!==null;){if(MA(I)){A=I;break}I=I.return}if(A==null)throw Error(o(160));switch(A.tag){case 27:var L=A.stateNode,V=Kk(h);Rb(h,V,L);break;case 5:var he=A.stateNode;A.flags&32&&(hu(he,""),A.flags&=-33);var Se=Kk(h);Rb(h,Se,he);break;case 3:case 4:var Ve=A.stateNode.containerInfo,ct=Kk(h);Qk(h,ct,Ve);break;default:throw Error(o(161))}}catch(Tt){fi(h,h.return,Tt)}h.flags&=-3}g&4096&&(h.flags&=-4097)}function FA(h){if(h.subtreeFlags&1024)for(h=h.child;h!==null;){var g=h;FA(g),g.tag===5&&g.flags&1024&&g.stateNode.reset(),h=h.sibling}}function xh(h,g){if(g.subtreeFlags&8772)for(g=g.child;g!==null;)BA(h,g.alternate,g),g=g.sibling}function Sh(h){for(h=h.child;h!==null;){var g=h;switch(g.tag){case 0:case 11:case 14:case 15:Ch(4,g,g.return),Sh(g);break;case 1:Lu(g,g.return);var A=g.stateNode;typeof A.componentWillUnmount=="function"&&Ff(g,g.return,A),Sh(g);break;case 27:Vu(g.stateNode);case 26:case 5:Lu(g,g.return),Sh(g);break;case 22:g.memoizedState===null&&Sh(g);break;case 30:Sh(g);break;default:Sh(g)}h=h.sibling}}function Pd(h,g,A){for(A=A&&(g.subtreeFlags&8772)!==0,g=g.child;g!==null;){var I=g.alternate,L=h,V=g,he=V.flags;switch(V.tag){case 0:case 11:case 15:Pd(L,V,A),Wa(4,V);break;case 1:if(Pd(L,V,A),I=V,L=I.stateNode,typeof L.componentDidMount=="function")try{L.componentDidMount()}catch(ct){fi(I,I.return,ct)}if(I=V,L=I.updateQueue,L!==null){var Se=I.stateNode;try{var Ve=L.shared.hiddenCallbacks;if(Ve!==null)for(L.shared.hiddenCallbacks=null,L=0;L<Ve.length;L++)_r(Ve[L],Se)}catch(ct){fi(I,I.return,ct)}}A&&he&64&&Gk(V),bl(V,V.return);break;case 27:NA(V);case 26:case 5:Pd(L,V,A),A&&I===null&&he&4&&Pb(V),bl(V,V.return);break;case 12:Pd(L,V,A);break;case 13:Pd(L,V,A),A&&he&4&&PA(L,V);break;case 22:V.memoizedState===null&&Pd(L,V,A),bl(V,V.return);break;case 30:break;default:Pd(L,V,A)}g=g.sibling}}function qp(h,g){var A=null;h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(A=h.memoizedState.cachePool.pool),h=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(h=g.memoizedState.cachePool.pool),h!==A&&(h!=null&&h.refCount++,A!=null&&Df(A))}function Ub(h,g){h=null,g.alternate!==null&&(h=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==h&&(g.refCount++,h!=null&&Df(h))}function Pu(h,g,A,I){if(g.subtreeFlags&10256)for(g=g.child;g!==null;)bg(h,g,A,I),g=g.sibling}function bg(h,g,A,I){var L=g.flags;switch(g.tag){case 0:case 11:case 15:Pu(h,g,A,I),L&2048&&Wa(9,g);break;case 1:Pu(h,g,A,I);break;case 3:Pu(h,g,A,I),L&2048&&(h=null,g.alternate!==null&&(h=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==h&&(g.refCount++,h!=null&&Df(h)));break;case 12:if(L&2048){Pu(h,g,A,I),h=g.stateNode;try{var V=g.memoizedProps,he=V.id,Se=V.onPostCommit;typeof Se=="function"&&Se(he,g.alternate===null?"mount":"update",h.passiveEffectDuration,-0)}catch(Ve){fi(g,g.return,Ve)}}else Pu(h,g,A,I);break;case 13:Pu(h,g,A,I);break;case 23:break;case 22:V=g.stateNode,he=g.alternate,g.memoizedState!==null?V._visibility&2?Pu(h,g,A,I):Hp(h,g):V._visibility&2?Pu(h,g,A,I):(V._visibility|=2,Vp(h,g,A,I,(g.subtreeFlags&10256)!==0)),L&2048&&qp(he,g);break;case 24:Pu(h,g,A,I),L&2048&&Ub(g.alternate,g);break;default:Pu(h,g,A,I)}}function Vp(h,g,A,I,L){for(L=L&&(g.subtreeFlags&10256)!==0,g=g.child;g!==null;){var V=h,he=g,Se=A,Ve=I,ct=he.flags;switch(he.tag){case 0:case 11:case 15:Vp(V,he,Se,Ve,L),Wa(8,he);break;case 23:break;case 22:var Tt=he.stateNode;he.memoizedState!==null?Tt._visibility&2?Vp(V,he,Se,Ve,L):Hp(V,he):(Tt._visibility|=2,Vp(V,he,Se,Ve,L)),L&&ct&2048&&qp(he.alternate,he);break;case 24:Vp(V,he,Se,Ve,L),L&&ct&2048&&Ub(he.alternate,he);break;default:Vp(V,he,Se,Ve,L)}g=g.sibling}}function Hp(h,g){if(g.subtreeFlags&10256)for(g=g.child;g!==null;){var A=h,I=g,L=I.flags;switch(I.tag){case 22:Hp(A,I),L&2048&&qp(I.alternate,I);break;case 24:Hp(A,I),L&2048&&Ub(I.alternate,I);break;default:Hp(A,I)}g=g.sibling}}var kg=8192;function Rd(h){if(h.subtreeFlags&kg)for(h=h.child;h!==null;)zA(h),h=h.sibling}function zA(h){switch(h.tag){case 26:Rd(h),h.flags&kg&&h.memoizedState!==null&&wS(Jl,h.memoizedState,h.memoizedProps);break;case 5:Rd(h);break;case 3:case 4:var g=Jl;Jl=n0(h.stateNode.containerInfo),Rd(h),Jl=g;break;case 22:h.memoizedState===null&&(g=h.alternate,g!==null&&g.memoizedState!==null?(g=kg,kg=16777216,Rd(h),kg=g):Rd(h));break;default:Rd(h)}}function UA(h){var g=h.alternate;if(g!==null&&(h=g.child,h!==null)){g.child=null;do g=h.sibling,h.sibling=null,h=g;while(h!==null)}}function $p(h){var g=h.deletions;if((h.flags&16)!==0){if(g!==null)for(var A=0;A<g.length;A++){var I=g[A];Cs=I,qA(I,h)}UA(h)}if(h.subtreeFlags&10256)for(h=h.child;h!==null;)Jk(h),h=h.sibling}function Jk(h){switch(h.tag){case 0:case 11:case 15:$p(h),h.flags&2048&&Ch(9,h,h.return);break;case 3:$p(h);break;case 12:$p(h);break;case 22:var g=h.stateNode;h.memoizedState!==null&&g._visibility&2&&(h.return===null||h.return.tag!==13)?(g._visibility&=-3,qb(h)):$p(h);break;default:$p(h)}}function qb(h){var g=h.deletions;if((h.flags&16)!==0){if(g!==null)for(var A=0;A<g.length;A++){var I=g[A];Cs=I,qA(I,h)}UA(h)}for(h=h.child;h!==null;){switch(g=h,g.tag){case 0:case 11:case 15:Ch(8,g,g.return),qb(g);break;case 22:A=g.stateNode,A._visibility&2&&(A._visibility&=-3,qb(g));break;default:qb(g)}h=h.sibling}}function qA(h,g){for(;Cs!==null;){var A=Cs;switch(A.tag){case 0:case 11:case 15:Ch(8,A,g);break;case 23:case 22:if(A.memoizedState!==null&&A.memoizedState.cachePool!==null){var I=A.memoizedState.cachePool.pool;I!=null&&I.refCount++}break;case 24:Df(A.memoizedState.cache)}if(I=A.child,I!==null)I.return=A,Cs=I;else e:for(A=h;Cs!==null;){I=Cs;var L=I.sibling,V=I.return;if(jA(I),I===A){Cs=null;break e}if(L!==null){L.return=V,Cs=L;break e}Cs=V}}}var cS={getCacheForType:function(h){var g=Ao(_o),A=g.data.get(h);return A===void 0&&(A=h(),g.data.set(h,A)),A}},Hc=typeof WeakMap=="function"?WeakMap:Map,ii=0,Br=null,zn=null,Qn=0,Cr=0,Ot=null,Xl=!1,Uf=!1,Vb=!1,Ru=0,Wi=0,ut=0,Eh=0,Xk=0,ec=0,Fd=0,Wp=null,Ga=null,Hb=!1,zd=0,oa=1/0,wg=null,Dh=null,xs=0,Fu=null,Gp=null,Yp=0,sa=0,e1=null,VA=null,Zr=0,Kp=null;function no(){if((ii&2)!==0&&Qn!==0)return Qn&-Qn;if(ue.T!==null){var h=xd;return h!==0?h:b1()}return Xo()}function HA(){ec===0&&(ec=(Qn&536870912)===0||ln?ei():536870912);var h=Va.current;return h!==null&&(h.flags|=32),ec}function Zs(h,g,A){(h===Br&&(Cr===2||Cr===9)||h.cancelPendingCommit!==null)&&(Zp(h,0),Ih(h,Qn,ec,!1)),mr(h,A),((ii&2)===0||h!==Br)&&(h===Br&&((ii&2)===0&&(Eh|=A),Wi===4&&Ih(h,Qn,ec,!1)),zu(h))}function Qp(h,g,A){if((ii&6)!==0)throw Error(o(327));var I=!A&&(g&124)===0&&(g&h.expiredLanes)===0||Fn(h,g),L=I?i1(h,g):$b(h,g,!0),V=I;do{if(L===0){Uf&&!I&&Ih(h,g,0,!1);break}else{if(A=h.current.alternate,V&&!$A(A)){L=$b(h,g,!1),V=!1;continue}if(L===2){if(V=g,h.errorRecoveryDisabledLanes&V)var he=0;else he=h.pendingLanes&-536870913,he=he!==0?he:he&536870912?536870912:0;if(he!==0){g=he;e:{var Se=h;L=Wp;var Ve=Se.current.memoizedState.isDehydrated;if(Ve&&(Zp(Se,he).flags|=256),he=$b(Se,he,!1),he!==2){if(Vb&&!Ve){Se.errorRecoveryDisabledLanes|=V,Eh|=V,L=4;break e}V=Ga,Ga=L,V!==null&&(Ga===null?Ga=V:Ga.push.apply(Ga,V))}L=he}if(V=!1,L!==2)continue}}if(L===1){Zp(h,0),Ih(h,g,0,!0);break}e:{switch(I=h,V=L,V){case 0:case 1:throw Error(o(345));case 4:if((g&4194048)!==g)break;case 6:Ih(I,g,ec,!Xl);break e;case 2:Ga=null;break;case 3:case 5:break;default:throw Error(o(329))}if((g&62914560)===g&&(L=zd+300-Ee(),10<L)){if(Ih(I,g,ec,!Xl),In(I,0,!0)!==0)break e;I.timeoutHandle=Wf(hi.bind(null,I,A,Ga,wg,Hb,g,ec,Eh,Fd,Xl,V,2,-0,0),L);break e}hi(I,A,Ga,wg,Hb,g,ec,Eh,Fd,Xl,V,0,-0,0)}}break}while(!0);zu(h)}function hi(h,g,A,I,L,V,he,Se,Ve,ct,Tt,St,ht,mt){if(h.timeoutHandle=-1,St=g.subtreeFlags,(St&8192||(St&16785408)===16785408)&&(sm={stylesheets:null,count:0,unsuspend:w_},zA(g),St=Dg(),St!==null)){h.cancelPendingCommit=St(l1.bind(null,h,g,V,A,I,L,he,Se,Ve,Tt,1,ht,mt)),Ih(h,V,he,!ct);return}l1(h,g,V,A,I,L,he,Se,Ve)}function $A(h){for(var g=h;;){var A=g.tag;if((A===0||A===11||A===15)&&g.flags&16384&&(A=g.updateQueue,A!==null&&(A=A.stores,A!==null)))for(var I=0;I<A.length;I++){var L=A[I],V=L.getSnapshot;L=L.value;try{if(!vo(V(),L))return!1}catch{return!1}}if(A=g.child,g.subtreeFlags&16384&&A!==null)A.return=g,g=A;else{if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function Ih(h,g,A,I){g&=~Xk,g&=~Eh,h.suspendedLanes|=g,h.pingedLanes&=~g,I&&(h.warmLanes|=g),I=h.expirationTimes;for(var L=g;0<L;){var V=31-kt(L),he=1<<V;I[V]=-1,L&=~he}A!==0&&fn(h,A,g)}function vg(){return(ii&6)===0?(yg(0),!1):!0}function t1(){if(zn!==null){if(Cr===0)var h=zn.return;else h=zn,Lc=Lo=null,Vt(h),Op=null,_h=0,h=zn;for(;h!==null;)Wk(h.alternate,h),h=h.return;zn=null}}function Zp(h,g){var A=h.timeoutHandle;A!==-1&&(h.timeoutHandle=-1,Js(A)),A=h.cancelPendingCommit,A!==null&&(h.cancelPendingCommit=null,A()),t1(),Br=h,zn=A=Hs(h.current,null),Qn=g,Cr=0,Ot=null,Xl=!1,Uf=Fn(h,g),Vb=!1,Fd=ec=Xk=Eh=ut=Wi=0,Ga=Wp=null,Hb=!1,(g&8)!==0&&(g|=g&32);var I=h.entangledLanes;if(I!==0)for(h=h.entanglements,I&=g;0<I;){var L=31-kt(I),V=1<<L;g|=h[L],I&=~V}return Ru=g,Vs(),A}function WA(h,g){Cn=null,ue.H=qa,g===ye||g===xe?(g=et(),Cr=3):g===_e?(g=et(),Cr=4):Cr=g===Lk?8:g!==null&&typeof g=="object"&&typeof g.then=="function"?6:1,Ot=g,zn===null&&(Wi=1,Pp(h,fr(g,h.current)))}function n1(){var h=ue.H;return ue.H=qa,h===null?qa:h}function r1(){var h=ue.A;return ue.A=cS,h}function qf(){Wi=4,Xl||(Qn&4194048)!==Qn&&Va.current!==null||(Uf=!0),(ut&134217727)===0&&(Eh&134217727)===0||Br===null||Ih(Br,Qn,ec,!1)}function $b(h,g,A){var I=ii;ii|=2;var L=n1(),V=r1();(Br!==h||Qn!==g)&&(wg=null,Zp(h,g)),g=!1;var he=Wi;e:do try{if(Cr!==0&&zn!==null){var Se=zn,Ve=Ot;switch(Cr){case 8:t1(),he=6;break e;case 3:case 2:case 9:case 6:Va.current===null&&(g=!0);var ct=Cr;if(Cr=0,Ot=null,Jp(h,Se,Ve,ct),A&&Uf){he=0;break e}break;default:ct=Cr,Cr=0,Ot=null,Jp(h,Se,Ve,ct)}}GA(),he=Wi;break}catch(Tt){WA(h,Tt)}while(!0);return g&&h.shellSuspendCounter++,Lc=Lo=null,ii=I,ue.H=L,ue.A=V,zn===null&&(Br=null,Qn=0,Vs()),he}function GA(){for(;zn!==null;)o1(zn)}function i1(h,g){var A=ii;ii|=2;var I=n1(),L=r1();Br!==h||Qn!==g?(wg=null,oa=Ee()+500,Zp(h,g)):Uf=Fn(h,g);e:do try{if(Cr!==0&&zn!==null){g=zn;var V=Ot;t:switch(Cr){case 1:Cr=0,Ot=null,Jp(h,g,V,1);break;case 2:case 9:if(je(V)){Cr=0,Ot=null,s1(g);break}g=function(){Cr!==2&&Cr!==9||Br!==h||(Cr=7),zu(h)},V.then(g,g);break e;case 3:Cr=7;break e;case 4:Cr=5;break e;case 7:je(V)?(Cr=0,Ot=null,s1(g)):(Cr=0,Ot=null,Jp(h,g,V,7));break;case 5:var he=null;switch(zn.tag){case 26:he=zn.memoizedState;case 5:case 27:var Se=zn;if(!he||k_(he)){Cr=0,Ot=null;var Ve=Se.sibling;if(Ve!==null)zn=Ve;else{var ct=Se.return;ct!==null?(zn=ct,Wb(ct)):zn=null}break t}}Cr=0,Ot=null,Jp(h,g,V,5);break;case 6:Cr=0,Ot=null,Jp(h,g,V,6);break;case 8:t1(),Wi=6;break e;default:throw Error(o(462))}}YA();break}catch(Tt){WA(h,Tt)}while(!0);return Lc=Lo=null,ue.H=I,ue.A=L,ii=A,zn!==null?0:(Br=null,Qn=0,Vs(),Wi)}function YA(){for(;zn!==null&&!Le();)o1(zn)}function o1(h){var g=Hk(h.alternate,h,Ru);h.memoizedProps=h.pendingProps,g===null?Wb(h):zn=g}function s1(h){var g=h,A=g.alternate;switch(g.tag){case 15:case 0:g=Fp(A,g,g.pendingProps,g.type,void 0,Qn);break;case 11:g=Fp(A,g,g.pendingProps,g.type.render,g.ref,Qn);break;case 5:Vt(g);default:Wk(A,g),g=zn=Nc(g,Ru),g=Hk(A,g,Ru)}h.memoizedProps=h.pendingProps,g===null?Wb(h):zn=g}function Jp(h,g,A,I){Lc=Lo=null,Vt(g),Op=null,_h=0;var L=g.return;try{if(lS(h,L,g,A,Qn)){Wi=1,Pp(h,fr(A,h.current)),zn=null;return}}catch(V){if(L!==null)throw zn=L,V;Wi=1,Pp(h,fr(A,h.current)),zn=null;return}g.flags&32768?(ln||I===1?h=!0:Uf||(Qn&536870912)!==0?h=!1:(Xl=h=!0,(I===2||I===9||I===3||I===6)&&(I=Va.current,I!==null&&I.tag===13&&(I.flags|=16384))),a1(g,h)):Wb(g)}function Wb(h){var g=h;do{if((g.flags&32768)!==0){a1(g,Xl);return}h=g.return;var A=IA(g.alternate,g,Ru);if(A!==null){zn=A;return}if(g=g.sibling,g!==null){zn=g;return}zn=g=h}while(g!==null);Wi===0&&(Wi=5)}function a1(h,g){do{var A=TA(h.alternate,h);if(A!==null){A.flags&=32767,zn=A;return}if(A=h.return,A!==null&&(A.flags|=32768,A.subtreeFlags=0,A.deletions=null),!g&&(h=h.sibling,h!==null)){zn=h;return}zn=h=A}while(h!==null);Wi=6,zn=null}function l1(h,g,A,I,L,V,he,Se,Ve){h.cancelPendingCommit=null;do Xp();while(xs!==0);if((ii&6)!==0)throw Error(o(327));if(g!==null){if(g===h.current)throw Error(o(177));if(V=g.lanes|g.childLanes,V|=Hn,vr(h,A,V,he,Se,Ve),h===Br&&(zn=Br=null,Qn=0),Gp=g,Fu=h,Yp=A,sa=V,e1=L,VA=I,(g.subtreeFlags&10256)!==0||(g.flags&10256)!==0?(h.callbackNode=null,h.callbackPriority=0,dS(Xe,function(){return d1(),null})):(h.callbackNode=null,h.callbackPriority=0),I=(g.flags&13878)!==0,(g.subtreeFlags&13878)!==0||I){I=ue.T,ue.T=null,L=de.p,de.p=2,he=ii,ii|=4;try{zf(h,g,A)}finally{ii=he,de.p=L,ue.T=I}}xs=1,c1(),KA(),u1()}}function c1(){if(xs===1){xs=0;var h=Fu,g=Gp,A=(g.flags&13878)!==0;if((g.subtreeFlags&13878)!==0||A){A=ue.T,ue.T=null;var I=de.p;de.p=2;var L=ii;ii|=4;try{zb(g,h);var V=Qb,he=Fs(h.containerInfo),Se=V.focusedElem,Ve=V.selectionRange;if(he!==Se&&Se&&Se.ownerDocument&&Ec(Se.ownerDocument.documentElement,Se)){if(Ve!==null&&Bo(Se)){var ct=Ve.start,Tt=Ve.end;if(Tt===void 0&&(Tt=ct),"selectionStart"in Se)Se.selectionStart=ct,Se.selectionEnd=Math.min(Tt,Se.value.length);else{var St=Se.ownerDocument||document,ht=St&&St.defaultView||window;if(ht.getSelection){var mt=ht.getSelection(),En=Se.textContent.length,Dn=Math.min(Ve.start,En),pi=Ve.end===void 0?Dn:Math.min(Ve.end,En);!mt.extend&&Dn>pi&&(he=pi,pi=Dn,Dn=he);var nt=Sc(Se,Dn),Qe=Sc(Se,pi);if(nt&&Qe&&(mt.rangeCount!==1||mt.anchorNode!==nt.node||mt.anchorOffset!==nt.offset||mt.focusNode!==Qe.node||mt.focusOffset!==Qe.offset)){var st=St.createRange();st.setStart(nt.node,nt.offset),mt.removeAllRanges(),Dn>pi?(mt.addRange(st),mt.extend(Qe.node,Qe.offset)):(st.setEnd(Qe.node,Qe.offset),mt.addRange(st))}}}}for(St=[],mt=Se;mt=mt.parentNode;)mt.nodeType===1&&St.push({element:mt,left:mt.scrollLeft,top:mt.scrollTop});for(typeof Se.focus=="function"&&Se.focus(),Se=0;Se<St.length;Se++){var Lt=St[Se];Lt.element.scrollLeft=Lt.left,Lt.element.scrollTop=Lt.top}}c0=!!y1,Qb=y1=null}finally{ii=L,de.p=I,ue.T=A}}h.current=g,xs=2}}function KA(){if(xs===2){xs=0;var h=Fu,g=Gp,A=(g.flags&8772)!==0;if((g.subtreeFlags&8772)!==0||A){A=ue.T,ue.T=null;var I=de.p;de.p=2;var L=ii;ii|=4;try{BA(h,g.alternate,g)}finally{ii=L,de.p=I,ue.T=A}}xs=3}}function u1(){if(xs===4||xs===3){xs=0,we();var h=Fu,g=Gp,A=Yp,I=VA;(g.subtreeFlags&10256)!==0||(g.flags&10256)!==0?xs=5:(xs=0,Gp=Fu=null,Gb(h,h.pendingLanes));var L=h.pendingLanes;if(L===0&&(Dh=null),ki(A),g=g.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(pt,g,void 0,(g.current.flags&128)===128)}catch{}if(I!==null){g=ue.T,L=de.p,de.p=2,ue.T=null;try{for(var V=h.onRecoverableError,he=0;he<I.length;he++){var Se=I[he];V(Se.value,{componentStack:Se.stack})}}finally{ue.T=g,de.p=L}}(Yp&3)!==0&&Xp(),zu(h),L=h.pendingLanes,(A&4194090)!==0&&(L&42)!==0?h===Kp?Zr++:(Zr=0,Kp=h):Zr=0,yg(0)}}function Gb(h,g){(h.pooledCacheLanes&=g)===0&&(g=h.pooledCache,g!=null&&(h.pooledCache=null,Df(g)))}function Xp(h){return c1(),KA(),u1(),d1()}function d1(){if(xs!==5)return!1;var h=Fu,g=sa;sa=0;var A=ki(Yp),I=ue.T,L=de.p;try{de.p=32>A?32:A,ue.T=null,A=e1,e1=null;var V=Fu,he=Yp;if(xs=0,Gp=Fu=null,Yp=0,(ii&6)!==0)throw Error(o(331));var Se=ii;if(ii|=4,Jk(V.current),bg(V,V.current,he,A),ii=Se,yg(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(pt,V)}catch{}return!0}finally{de.p=L,ue.T=I,Gb(h,g)}}function h1(h,g,A){g=fr(A,g),g=Od(h.stateNode,g,2),h=Pt(h,g,2),h!==null&&(mr(h,2),zu(h))}function fi(h,g,A){if(h.tag===3)h1(h,h,A);else for(;g!==null;){if(g.tag===3){h1(g,h,A);break}else if(g.tag===1){var I=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof I.componentDidCatch=="function"&&(Dh===null||!Dh.has(I))){h=fr(A,h),A=jk(2),I=Pt(g,A,2),I!==null&&(Nb(A,I,g,h),mr(I,2),zu(I));break}}g=g.return}}function f1(h,g,A){var I=h.pingCache;if(I===null){I=h.pingCache=new Hc;var L=new Set;I.set(g,L)}else L=I.get(g),L===void 0&&(L=new Set,I.set(g,L));L.has(A)||(Vb=!0,L.add(A),h=QA.bind(null,h,g,A),g.then(h,h))}function QA(h,g,A){var I=h.pingCache;I!==null&&I.delete(g),h.pingedLanes|=h.suspendedLanes&A,h.warmLanes&=~A,Br===h&&(Qn&A)===A&&(Wi===4||Wi===3&&(Qn&62914560)===Qn&&300>Ee()-zd?(ii&2)===0&&Zp(h,0):Xk|=A,Fd===Qn&&(Fd=0)),zu(h)}function p1(h,g){g===0&&(g=tr()),h=Mn(h,g),h!==null&&(mr(h,g),zu(h))}function ZA(h){var g=h.memoizedState,A=0;g!==null&&(A=g.retryLane),p1(h,A)}function uS(h,g){var A=0;switch(h.tag){case 13:var I=h.stateNode,L=h.memoizedState;L!==null&&(A=L.retryLane);break;case 19:I=h.stateNode;break;case 22:I=h.stateNode._retryCache;break;default:throw Error(o(314))}I!==null&&I.delete(g),p1(h,A)}function dS(h,g){return gt(h,g)}var $c=null,em=null,m1=!1,Yb=!1,g1=!1,Vf=0;function zu(h){h!==em&&h.next===null&&(em===null?$c=em=h:em=em.next=h),Yb=!0,m1||(m1=!0,t_())}function yg(h,g){if(!g1&&Yb){g1=!0;do for(var A=!1,I=$c;I!==null;){if(h!==0){var L=I.pendingLanes;if(L===0)var V=0;else{var he=I.suspendedLanes,Se=I.pingedLanes;V=(1<<31-kt(42|h)+1)-1,V&=L&~(he&~Se),V=V&201326741?V&201326741|1:V?V|2:0}V!==0&&(A=!0,e_(I,V))}else V=Qn,V=In(I,I===Br?V:0,I.cancelPendingCommit!==null||I.timeoutHandle!==-1),(V&3)===0||Fn(I,V)||(A=!0,e_(I,V));I=I.next}while(A);g1=!1}}function hS(){JA()}function JA(){Yb=m1=!1;var h=0;Vf!==0&&(a_()&&(h=Vf),Vf=0);for(var g=Ee(),A=null,I=$c;I!==null;){var L=I.next,V=XA(I,g);V===0?(I.next=null,A===null?$c=L:A.next=L,L===null&&(em=A)):(A=I,(h!==0||(V&3)!==0)&&(Yb=!0)),I=L}yg(h)}function XA(h,g){for(var A=h.suspendedLanes,I=h.pingedLanes,L=h.expirationTimes,V=h.pendingLanes&-62914561;0<V;){var he=31-kt(V),Se=1<<he,Ve=L[he];Ve===-1?((Se&A)===0||(Se&I)!==0)&&(L[he]=Gn(Se,g)):Ve<=g&&(h.expiredLanes|=Se),V&=~Se}if(g=Br,A=Qn,A=In(h,h===g?A:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),I=h.callbackNode,A===0||h===g&&(Cr===2||Cr===9)||h.cancelPendingCommit!==null)return I!==null&&I!==null&&oe(I),h.callbackNode=null,h.callbackPriority=0;if((A&3)===0||Fn(h,A)){if(g=A&-A,g===h.callbackPriority)return g;switch(I!==null&&oe(I),ki(A)){case 2:case 8:A=Ke;break;case 32:A=Xe;break;case 268435456:A=dt;break;default:A=Xe}return I=Wc.bind(null,h),A=gt(A,I),h.callbackPriority=g,h.callbackNode=A,g}return I!==null&&I!==null&&oe(I),h.callbackPriority=2,h.callbackNode=null,2}function Wc(h,g){if(xs!==0&&xs!==5)return h.callbackNode=null,h.callbackPriority=0,null;var A=h.callbackNode;if(Xp()&&h.callbackNode!==A)return null;var I=Qn;return I=In(h,h===Br?I:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),I===0?null:(Qp(h,I,g),XA(h,Ee()),h.callbackNode!=null&&h.callbackNode===A?Wc.bind(null,h):null)}function e_(h,g){if(Xp())return null;Qp(h,g,!0)}function t_(){pS(function(){(ii&6)!==0?gt(Ne,hS):JA()})}function b1(){return Vf===0&&(Vf=ei()),Vf}function n_(h){return h==null||typeof h=="symbol"||typeof h=="boolean"?null:typeof h=="function"?h:ea(""+h)}function r_(h,g){var A=g.ownerDocument.createElement("input");return A.name=g.name,A.value=g.value,h.id&&A.setAttribute("form",h.id),g.parentNode.insertBefore(A,g),h=new FormData(h),A.parentNode.removeChild(A),h}function fS(h,g,A,I,L){if(g==="submit"&&A&&A.stateNode===L){var V=n_((L[rr]||null).action),he=I.submitter;he&&(g=(g=he[rr]||null)?n_(g.formAction):he.getAttribute("formAction"),g!==null&&(V=g,he=null));var Se=new Sr("action","action",null,I,L);h.push({event:Se,listeners:[{instance:null,listener:function(){if(I.defaultPrevented){if(Vf!==0){var Ve=he?r_(L,he):new FormData(L);Ua(A,{pending:!0,data:Ve,method:L.method,action:V},null,Ve)}}else typeof V=="function"&&(Se.preventDefault(),Ve=he?r_(L,he):new FormData(L),Ua(A,{pending:!0,data:Ve,method:L.method,action:V},V,Ve))},currentTarget:L}]})}}for(var k1=0;k1<jo.length;k1++){var Ag=jo[k1],i_=Ag.toLowerCase(),vl=Ag[0].toUpperCase()+Ag.slice(1);Hi(i_,"on"+vl)}Hi(vu,"onAnimationEnd"),Hi(qs,"onAnimationIteration"),Hi(Dc,"onAnimationStart"),Hi("dblclick","onDoubleClick"),Hi("focusin","onFocus"),Hi("focusout","onBlur"),Hi(Ic,"onTransitionRun"),Hi(wd,"onTransitionStart"),Hi(ga,"onTransitionCancel"),Hi(ml,"onTransitionEnd"),vs("onMouseEnter",["mouseout","mouseover"]),vs("onMouseLeave",["mouseout","mouseover"]),vs("onPointerEnter",["pointerout","pointerover"]),vs("onPointerLeave",["pointerout","pointerover"]),Ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ki("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hf));function tm(h,g){g=(g&4)!==0;for(var A=0;A<h.length;A++){var I=h[A],L=I.event;I=I.listeners;e:{var V=void 0;if(g)for(var he=I.length-1;0<=he;he--){var Se=I[he],Ve=Se.instance,ct=Se.currentTarget;if(Se=Se.listener,Ve!==V&&L.isPropagationStopped())break e;V=Se,L.currentTarget=ct;try{V(L)}catch(Tt){Mb(Tt)}L.currentTarget=null,V=Ve}else for(he=0;he<I.length;he++){if(Se=I[he],Ve=Se.instance,ct=Se.currentTarget,Se=Se.listener,Ve!==V&&L.isPropagationStopped())break e;V=Se,L.currentTarget=ct;try{V(L)}catch(Tt){Mb(Tt)}L.currentTarget=null,V=Ve}}}}function gr(h,g){var A=g[Mr];A===void 0&&(A=g[Mr]=new Set);var I=h+"__bubble";A.has(I)||(jr(g,h,2,!1),A.add(I))}function $f(h,g,A){var I=0;g&&(I|=4),jr(A,h,I,g)}var Th="_reactListening"+Math.random().toString(36).slice(2);function Kb(h){if(!h[Th]){h[Th]=!0,cl.forEach(function(A){A!=="selectionchange"&&(o_.has(A)||$f(A,!1,h),$f(A,!0,h))});var g=h.nodeType===9?h:h.ownerDocument;g===null||g[Th]||(g[Th]=!0,$f("selectionchange",!1,g))}}function jr(h,g,A,I){switch(lm(g)){case 2:var L=j1;break;case 8:L=yS;break;default:L=Tg}A=L.bind(null,g,A,h),L=void 0,!sh||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(L=!0),I?L!==void 0?h.addEventListener(g,A,{capture:!0,passive:L}):h.addEventListener(g,A,!0):L!==void 0?h.addEventListener(g,A,{passive:L}):h.addEventListener(g,A,!1)}function Uo(h,g,A,I,L){var V=I;if((g&1)===0&&(g&2)===0&&I!==null)e:for(;;){if(I===null)return;var he=I.tag;if(he===3||he===4){var Se=I.stateNode.containerInfo;if(Se===L)break;if(he===4)for(he=I.return;he!==null;){var Ve=he.tag;if((Ve===3||Ve===4)&&he.stateNode.containerInfo===L)return;he=he.return}for(;Se!==null;){if(he=bo(Se),he===null)return;if(Ve=he.tag,Ve===5||Ve===6||Ve===26||Ve===27){I=V=he;continue e}Se=Se.parentNode}}I=I.return}vp(function(){var ct=V,Tt=Qi(A),St=[];e:{var ht=Ul.get(h);if(ht!==void 0){var mt=Sr,En=h;switch(h){case"keypress":if(vc(A)===0)break e;case"keydown":case"keyup":mt=pd;break;case"focusin":En="focus",mt=fd;break;case"focusout":En="blur",mt=fd;break;case"beforeblur":case"afterblur":mt=fd;break;case"click":if(A.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":mt=hl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":mt=pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":mt=uh;break;case vu:case qs:case Dc:mt=Km;break;case ml:mt=me;break;case"scroll":case"scrollend":mt=ah;break;case"wheel":mt=$e;break;case"copy":case"cut":case"paste":mt=Qm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":mt=md;break;case"toggle":case"beforetoggle":mt=_t}var Dn=(g&4)!==0,pi=!Dn&&(h==="scroll"||h==="scrollend"),nt=Dn?ht!==null?ht+"Capture":null:ht;Dn=[];for(var Qe=ct,st;Qe!==null;){var Lt=Qe;if(st=Lt.stateNode,Lt=Lt.tag,Lt!==5&&Lt!==26&&Lt!==27||st===null||nt===null||(Lt=Ls(Qe,nt),Lt!=null&&Dn.push(Ur(Qe,Lt,st))),pi)break;Qe=Qe.return}0<Dn.length&&(ht=new mt(ht,En,null,A,Tt),St.push({event:ht,listeners:Dn}))}}if((g&7)===0){e:{if(ht=h==="mouseover"||h==="pointerover",mt=h==="mouseout"||h==="pointerout",ht&&A!==oh&&(En=A.relatedTarget||A.fromElement)&&(bo(En)||En[wi]))break e;if((mt||ht)&&(ht=Tt.window===Tt?Tt:(ht=Tt.ownerDocument)?ht.defaultView||ht.parentWindow:window,mt?(En=A.relatedTarget||A.toElement,mt=ct,En=En?bo(En):null,En!==null&&(pi=c(En),Dn=En.tag,En!==pi||Dn!==5&&Dn!==27&&Dn!==6)&&(En=null)):(mt=null,En=ct),mt!==En)){if(Dn=hl,Lt="onMouseLeave",nt="onMouseEnter",Qe="mouse",(h==="pointerout"||h==="pointerover")&&(Dn=md,Lt="onPointerLeave",nt="onPointerEnter",Qe="pointer"),pi=mt==null?ht:ao(mt),st=En==null?ht:ao(En),ht=new Dn(Lt,Qe+"leave",mt,A,Tt),ht.target=pi,ht.relatedTarget=st,Lt=null,bo(Tt)===ct&&(Dn=new Dn(nt,Qe+"enter",En,A,Tt),Dn.target=st,Dn.relatedTarget=pi,Lt=Dn),pi=Lt,mt&&En)t:{for(Dn=mt,nt=En,Qe=0,st=Dn;st;st=qo(st))Qe++;for(st=0,Lt=nt;Lt;Lt=qo(Lt))st++;for(;0<Qe-st;)Dn=qo(Dn),Qe--;for(;0<st-Qe;)nt=qo(nt),st--;for(;Qe--;){if(Dn===nt||nt!==null&&Dn===nt.alternate)break t;Dn=qo(Dn),nt=qo(nt)}Dn=null}else Dn=null;mt!==null&&w1(St,ht,mt,Dn,!1),En!==null&&pi!==null&&w1(St,pi,En,Dn,!0)}}e:{if(ht=ct?ao(ct):window,mt=ht.nodeName&&ht.nodeName.toLowerCase(),mt==="select"||mt==="input"&&ht.type==="file")var rn=fh;else if(Na(ht))if(gd)rn=Ap;else{rn=Jm;var er=ys}else mt=ht.nodeName,!mt||mt.toLowerCase()!=="input"||ht.type!=="checkbox"&&ht.type!=="radio"?ct&&fu(ct.elementType)&&(rn=fh):rn=_f;if(rn&&(rn=rn(h,ct))){dh(St,rn,A,Tt);break e}er&&er(h,ht,ct),h==="focusout"&&ct&&ht.type==="number"&&ct.memoizedProps.value!=null&&mf(ht,"number",ht.value)}switch(er=ct?ao(ct):window,h){case"focusin":(Na(er)||er.contentEditable==="true")&&(zs=er,pl=ct,zl=null);break;case"focusout":zl=pl=zs=null;break;case"mousedown":Ba=!0;break;case"contextmenu":case"mouseup":case"dragend":Ba=!1,Vi(St,A,Tt);break;case"selectionchange":if(wu)break;case"keydown":case"keyup":Vi(St,A,Tt)}var kn;if(tn)e:{switch(h){case"compositionstart":var Sn="onCompositionStart";break e;case"compositionend":Sn="onCompositionEnd";break e;case"compositionupdate":Sn="onCompositionUpdate";break e}Sn=void 0}else Pi?vi(h,A)&&(Sn="onCompositionEnd"):h==="keydown"&&A.keyCode===229&&(Sn="onCompositionStart");Sn&&(Ln&&A.locale!=="ko"&&(Pi||Sn!=="onCompositionStart"?Sn==="onCompositionEnd"&&Pi&&(kn=wf()):(Ps=Tt,kf="value"in Ps?Ps.value:Ps.textContent,Pi=!0)),er=zi(ct,Sn),0<er.length&&(Sn=new Rl(Sn,h,null,A,Tt),St.push({event:Sn,listeners:er}),kn?Sn.data=kn:(kn=Li(A),kn!==null&&(Sn.data=kn)))),(kn=Vn?co(h,A):Ma(h,A))&&(Sn=zi(ct,"onBeforeInput"),0<Sn.length&&(er=new Rl("onBeforeInput","beforeinput",null,A,Tt),St.push({event:er,listeners:Sn}),er.data=kn)),fS(St,h,ct,A,Tt)}tm(St,g)})}function Ur(h,g,A){return{instance:h,listener:g,currentTarget:A}}function zi(h,g){for(var A=g+"Capture",I=[];h!==null;){var L=h,V=L.stateNode;if(L=L.tag,L!==5&&L!==26&&L!==27||V===null||(L=Ls(h,A),L!=null&&I.unshift(Ur(h,L,V)),L=Ls(h,g),L!=null&&I.push(Ur(h,L,V))),h.tag===3)return I;h=h.return}return[]}function qo(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5&&h.tag!==27);return h||null}function w1(h,g,A,I,L){for(var V=g._reactName,he=[];A!==null&&A!==I;){var Se=A,Ve=Se.alternate,ct=Se.stateNode;if(Se=Se.tag,Ve!==null&&Ve===I)break;Se!==5&&Se!==26&&Se!==27||ct===null||(Ve=ct,L?(ct=Ls(A,V),ct!=null&&he.unshift(Ur(A,ct,Ve))):L||(ct=Ls(A,V),ct!=null&&he.push(Ur(A,ct,Ve)))),A=A.return}he.length!==0&&h.push({event:g,listeners:he})}var Eo=/\r\n?/g,is=/\u0000|\uFFFD/g;function Aa(h){return(typeof h=="string"?h:""+h).replace(Eo,`
`).replace(is,"")}function Uu(h,g){return g=Aa(g),Aa(h)===g}function yl(){}function pr(h,g,A,I,L,V){switch(A){case"children":typeof I=="string"?g==="body"||g==="textarea"&&I===""||hu(h,I):(typeof I=="number"||typeof I=="bigint")&&g!=="body"&&hu(h,""+I);break;case"className":mn(h,"class",I);break;case"tabIndex":mn(h,"tabindex",I);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(h,A,I);break;case"style":bc(h,I,V);break;case"data":if(g!=="object"){mn(h,"data",I);break}case"src":case"href":if(I===""&&(g!=="a"||A!=="href")){h.removeAttribute(A);break}if(I==null||typeof I=="function"||typeof I=="symbol"||typeof I=="boolean"){h.removeAttribute(A);break}I=ea(""+I),h.setAttribute(A,I);break;case"action":case"formAction":if(typeof I=="function"){h.setAttribute(A,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof V=="function"&&(A==="formAction"?(g!=="input"&&pr(h,g,"name",L.name,L,null),pr(h,g,"formEncType",L.formEncType,L,null),pr(h,g,"formMethod",L.formMethod,L,null),pr(h,g,"formTarget",L.formTarget,L,null)):(pr(h,g,"encType",L.encType,L,null),pr(h,g,"method",L.method,L,null),pr(h,g,"target",L.target,L,null)));if(I==null||typeof I=="symbol"||typeof I=="boolean"){h.removeAttribute(A);break}I=ea(""+I),h.setAttribute(A,I);break;case"onClick":I!=null&&(h.onclick=yl);break;case"onScroll":I!=null&&gr("scroll",h);break;case"onScrollEnd":I!=null&&gr("scrollend",h);break;case"dangerouslySetInnerHTML":if(I!=null){if(typeof I!="object"||!("__html"in I))throw Error(o(61));if(A=I.__html,A!=null){if(L.children!=null)throw Error(o(60));h.innerHTML=A}}break;case"multiple":h.multiple=I&&typeof I!="function"&&typeof I!="symbol";break;case"muted":h.muted=I&&typeof I!="function"&&typeof I!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(I==null||typeof I=="function"||typeof I=="boolean"||typeof I=="symbol"){h.removeAttribute("xlink:href");break}A=ea(""+I),h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",A);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":I!=null&&typeof I!="function"&&typeof I!="symbol"?h.setAttribute(A,""+I):h.removeAttribute(A);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":I&&typeof I!="function"&&typeof I!="symbol"?h.setAttribute(A,""):h.removeAttribute(A);break;case"capture":case"download":I===!0?h.setAttribute(A,""):I!==!1&&I!=null&&typeof I!="function"&&typeof I!="symbol"?h.setAttribute(A,I):h.removeAttribute(A);break;case"cols":case"rows":case"size":case"span":I!=null&&typeof I!="function"&&typeof I!="symbol"&&!isNaN(I)&&1<=I?h.setAttribute(A,I):h.removeAttribute(A);break;case"rowSpan":case"start":I==null||typeof I=="function"||typeof I=="symbol"||isNaN(I)?h.removeAttribute(A):h.setAttribute(A,I);break;case"popover":gr("beforetoggle",h),gr("toggle",h),$t(h,"popover",I);break;case"xlinkActuate":sn(h,"http://www.w3.org/1999/xlink","xlink:actuate",I);break;case"xlinkArcrole":sn(h,"http://www.w3.org/1999/xlink","xlink:arcrole",I);break;case"xlinkRole":sn(h,"http://www.w3.org/1999/xlink","xlink:role",I);break;case"xlinkShow":sn(h,"http://www.w3.org/1999/xlink","xlink:show",I);break;case"xlinkTitle":sn(h,"http://www.w3.org/1999/xlink","xlink:title",I);break;case"xlinkType":sn(h,"http://www.w3.org/1999/xlink","xlink:type",I);break;case"xmlBase":sn(h,"http://www.w3.org/XML/1998/namespace","xml:base",I);break;case"xmlLang":sn(h,"http://www.w3.org/XML/1998/namespace","xml:lang",I);break;case"xmlSpace":sn(h,"http://www.w3.org/XML/1998/namespace","xml:space",I);break;case"is":$t(h,"is",I);break;case"innerText":case"textContent":break;default:(!(2<A.length)||A[0]!=="o"&&A[0]!=="O"||A[1]!=="n"&&A[1]!=="N")&&(A=kc.get(A)||A,$t(h,A,I))}}function v1(h,g,A,I,L,V){switch(A){case"style":bc(h,I,V);break;case"dangerouslySetInnerHTML":if(I!=null){if(typeof I!="object"||!("__html"in I))throw Error(o(61));if(A=I.__html,A!=null){if(L.children!=null)throw Error(o(60));h.innerHTML=A}}break;case"children":typeof I=="string"?hu(h,I):(typeof I=="number"||typeof I=="bigint")&&hu(h,""+I);break;case"onScroll":I!=null&&gr("scroll",h);break;case"onScrollEnd":I!=null&&gr("scrollend",h);break;case"onClick":I!=null&&(h.onclick=yl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ml.hasOwnProperty(A))e:{if(A[0]==="o"&&A[1]==="n"&&(L=A.endsWith("Capture"),g=A.slice(2,L?A.length-7:void 0),V=h[rr]||null,V=V!=null?V[A]:null,typeof V=="function"&&h.removeEventListener(g,V,L),typeof I=="function")){typeof V!="function"&&V!==null&&(A in h?h[A]=null:h.hasAttribute(A)&&h.removeAttribute(A)),h.addEventListener(g,I,L);break e}A in h?h[A]=I:I===!0?h.setAttribute(A,""):$t(h,A,I)}}}function os(h,g,A){switch(g){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gr("error",h),gr("load",h);var I=!1,L=!1,V;for(V in A)if(A.hasOwnProperty(V)){var he=A[V];if(he!=null)switch(V){case"src":I=!0;break;case"srcSet":L=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,g));default:pr(h,g,V,he,A,null)}}L&&pr(h,g,"srcSet",A.srcSet,A,null),I&&pr(h,g,"src",A.src,A,null);return;case"input":gr("invalid",h);var Se=V=he=L=null,Ve=null,ct=null;for(I in A)if(A.hasOwnProperty(I)){var Tt=A[I];if(Tt!=null)switch(I){case"name":L=Tt;break;case"type":he=Tt;break;case"checked":Ve=Tt;break;case"defaultChecked":ct=Tt;break;case"value":V=Tt;break;case"defaultValue":Se=Tt;break;case"children":case"dangerouslySetInnerHTML":if(Tt!=null)throw Error(o(137,g));break;default:pr(h,g,I,Tt,A,null)}}ih(h,V,Se,Ve,ct,he,L,!1),fa(h);return;case"select":gr("invalid",h),I=he=V=null;for(L in A)if(A.hasOwnProperty(L)&&(Se=A[L],Se!=null))switch(L){case"value":V=Se;break;case"defaultValue":he=Se;break;case"multiple":I=Se;default:pr(h,g,L,Se,A,null)}g=V,A=he,h.multiple=!!I,g!=null?gc(h,!!I,g,!1):A!=null&&gc(h,!!I,A,!0);return;case"textarea":gr("invalid",h),V=L=I=null;for(he in A)if(A.hasOwnProperty(he)&&(Se=A[he],Se!=null))switch(he){case"value":I=Se;break;case"defaultValue":L=Se;break;case"children":V=Se;break;case"dangerouslySetInnerHTML":if(Se!=null)throw Error(o(91));break;default:pr(h,g,he,Se,A,null)}gf(h,I,L,V),fa(h);return;case"option":for(Ve in A)if(A.hasOwnProperty(Ve)&&(I=A[Ve],I!=null))switch(Ve){case"selected":h.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:pr(h,g,Ve,I,A,null)}return;case"dialog":gr("beforetoggle",h),gr("toggle",h),gr("cancel",h),gr("close",h);break;case"iframe":case"object":gr("load",h);break;case"video":case"audio":for(I=0;I<Hf.length;I++)gr(Hf[I],h);break;case"image":gr("error",h),gr("load",h);break;case"details":gr("toggle",h);break;case"embed":case"source":case"link":gr("error",h),gr("load",h);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ct in A)if(A.hasOwnProperty(ct)&&(I=A[ct],I!=null))switch(ct){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,g));default:pr(h,g,ct,I,A,null)}return;default:if(fu(g)){for(Tt in A)A.hasOwnProperty(Tt)&&(I=A[Tt],I!==void 0&&v1(h,g,Tt,I,A,void 0));return}}for(Se in A)A.hasOwnProperty(Se)&&(I=A[Se],I!=null&&pr(h,g,Se,I,A,null))}function Tr(h,g,A,I){switch(g){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var L=null,V=null,he=null,Se=null,Ve=null,ct=null,Tt=null;for(mt in A){var St=A[mt];if(A.hasOwnProperty(mt)&&St!=null)switch(mt){case"checked":break;case"value":break;case"defaultValue":Ve=St;default:I.hasOwnProperty(mt)||pr(h,g,mt,null,I,St)}}for(var ht in I){var mt=I[ht];if(St=A[ht],I.hasOwnProperty(ht)&&(mt!=null||St!=null))switch(ht){case"type":V=mt;break;case"name":L=mt;break;case"checked":ct=mt;break;case"defaultChecked":Tt=mt;break;case"value":he=mt;break;case"defaultValue":Se=mt;break;case"children":case"dangerouslySetInnerHTML":if(mt!=null)throw Error(o(137,g));break;default:mt!==St&&pr(h,g,ht,mt,I,St)}}Ia(h,he,Se,Ve,ct,Tt,V,L);return;case"select":mt=he=Se=ht=null;for(V in A)if(Ve=A[V],A.hasOwnProperty(V)&&Ve!=null)switch(V){case"value":break;case"multiple":mt=Ve;default:I.hasOwnProperty(V)||pr(h,g,V,null,I,Ve)}for(L in I)if(V=I[L],Ve=A[L],I.hasOwnProperty(L)&&(V!=null||Ve!=null))switch(L){case"value":ht=V;break;case"defaultValue":Se=V;break;case"multiple":he=V;default:V!==Ve&&pr(h,g,L,V,I,Ve)}g=Se,A=he,I=mt,ht!=null?gc(h,!!A,ht,!1):!!I!=!!A&&(g!=null?gc(h,!!A,g,!0):gc(h,!!A,A?[]:"",!1));return;case"textarea":mt=ht=null;for(Se in A)if(L=A[Se],A.hasOwnProperty(Se)&&L!=null&&!I.hasOwnProperty(Se))switch(Se){case"value":break;case"children":break;default:pr(h,g,Se,null,I,L)}for(he in I)if(L=I[he],V=A[he],I.hasOwnProperty(he)&&(L!=null||V!=null))switch(he){case"value":ht=L;break;case"defaultValue":mt=L;break;case"children":break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(o(91));break;default:L!==V&&pr(h,g,he,L,I,V)}ud(h,ht,mt);return;case"option":for(var En in A)if(ht=A[En],A.hasOwnProperty(En)&&ht!=null&&!I.hasOwnProperty(En))switch(En){case"selected":h.selected=!1;break;default:pr(h,g,En,null,I,ht)}for(Ve in I)if(ht=I[Ve],mt=A[Ve],I.hasOwnProperty(Ve)&&ht!==mt&&(ht!=null||mt!=null))switch(Ve){case"selected":h.selected=ht&&typeof ht!="function"&&typeof ht!="symbol";break;default:pr(h,g,Ve,ht,I,mt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Dn in A)ht=A[Dn],A.hasOwnProperty(Dn)&&ht!=null&&!I.hasOwnProperty(Dn)&&pr(h,g,Dn,null,I,ht);for(ct in I)if(ht=I[ct],mt=A[ct],I.hasOwnProperty(ct)&&ht!==mt&&(ht!=null||mt!=null))switch(ct){case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(o(137,g));break;default:pr(h,g,ct,ht,I,mt)}return;default:if(fu(g)){for(var pi in A)ht=A[pi],A.hasOwnProperty(pi)&&ht!==void 0&&!I.hasOwnProperty(pi)&&v1(h,g,pi,void 0,I,ht);for(Tt in I)ht=I[Tt],mt=A[Tt],!I.hasOwnProperty(Tt)||ht===mt||ht===void 0&&mt===void 0||v1(h,g,Tt,ht,I,mt);return}}for(var nt in A)ht=A[nt],A.hasOwnProperty(nt)&&ht!=null&&!I.hasOwnProperty(nt)&&pr(h,g,nt,null,I,ht);for(St in I)ht=I[St],mt=A[St],!I.hasOwnProperty(St)||ht===mt||ht==null&&mt==null||pr(h,g,St,ht,I,mt)}var y1=null,Qb=null;function Zb(h){return h.nodeType===9?h:h.ownerDocument}function s_(h){switch(h){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function A1(h,g){if(h===0)switch(g){case"svg":return 1;case"math":return 2;default:return 0}return h===1&&g==="foreignObject"?0:h}function Jb(h,g){return h==="textarea"||h==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.children=="bigint"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var Xb=null;function a_(){var h=window.event;return h&&h.type==="popstate"?h===Xb?!1:(Xb=h,!0):(Xb=null,!1)}var Wf=typeof setTimeout=="function"?setTimeout:void 0,Js=typeof clearTimeout=="function"?clearTimeout:void 0,l_=typeof Promise=="function"?Promise:void 0,pS=typeof queueMicrotask=="function"?queueMicrotask:typeof l_<"u"?function(h){return l_.resolve(null).then(h).catch(nm)}:Wf;function nm(h){setTimeout(function(){throw h})}function qu(h){return h==="head"}function _1(h,g){var A=g,I=0,L=0;do{var V=A.nextSibling;if(h.removeChild(A),V&&V.nodeType===8)if(A=V.data,A==="/$"){if(0<I&&8>I){A=I;var he=h.ownerDocument;if(A&1&&Vu(he.documentElement),A&2&&Vu(he.body),A&4)for(A=he.head,Vu(A),he=A.firstChild;he;){var Se=he.nextSibling,Ve=he.nodeName;he[ks]||Ve==="SCRIPT"||Ve==="STYLE"||Ve==="LINK"&&he.rel.toLowerCase()==="stylesheet"||A.removeChild(he),he=Se}}if(L===0){h.removeChild(V),qd(g);return}L--}else A==="$"||A==="$?"||A==="$!"?L++:I=A.charCodeAt(0)-48;else I=0;A=V}while(A);qd(g)}function e0(h){var g=h.firstChild;for(g&&g.nodeType===10&&(g=g.nextSibling);g;){var A=g;switch(g=g.nextSibling,A.nodeName){case"HTML":case"HEAD":case"BODY":e0(A),ws(A);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(A.rel.toLowerCase()==="stylesheet")continue}h.removeChild(A)}}function mS(h,g,A,I){for(;h.nodeType===1;){var L=A;if(h.nodeName.toLowerCase()!==g.toLowerCase()){if(!I&&(h.nodeName!=="INPUT"||h.type!=="hidden"))break}else if(I){if(!h[ks])switch(g){case"meta":if(!h.hasAttribute("itemprop"))break;return h;case"link":if(V=h.getAttribute("rel"),V==="stylesheet"&&h.hasAttribute("data-precedence"))break;if(V!==L.rel||h.getAttribute("href")!==(L.href==null||L.href===""?null:L.href)||h.getAttribute("crossorigin")!==(L.crossOrigin==null?null:L.crossOrigin)||h.getAttribute("title")!==(L.title==null?null:L.title))break;return h;case"style":if(h.hasAttribute("data-precedence"))break;return h;case"script":if(V=h.getAttribute("src"),(V!==(L.src==null?null:L.src)||h.getAttribute("type")!==(L.type==null?null:L.type)||h.getAttribute("crossorigin")!==(L.crossOrigin==null?null:L.crossOrigin))&&V&&h.hasAttribute("async")&&!h.hasAttribute("itemprop"))break;return h;default:return h}}else if(g==="input"&&h.type==="hidden"){var V=L.name==null?null:""+L.name;if(L.type==="hidden"&&h.getAttribute("name")===V)return h}else return h;if(h=tc(h.nextSibling),h===null)break}return null}function gS(h,g,A){if(g==="")return null;for(;h.nodeType!==3;)if((h.nodeType!==1||h.nodeName!=="INPUT"||h.type!=="hidden")&&!A||(h=tc(h.nextSibling),h===null))return null;return h}function C1(h){return h.data==="$!"||h.data==="$?"&&h.ownerDocument.readyState==="complete"}function t0(h,g){var A=h.ownerDocument;if(h.data!=="$?"||A.readyState==="complete")g();else{var I=function(){g(),A.removeEventListener("DOMContentLoaded",I)};A.addEventListener("DOMContentLoaded",I),h._reactRetry=I}}function tc(h){for(;h!=null;h=h.nextSibling){var g=h.nodeType;if(g===1||g===3)break;if(g===8){if(g=h.data,g==="$"||g==="$!"||g==="$?"||g==="F!"||g==="F")break;if(g==="/$")return null}}return h}var x1=null;function S1(h){h=h.previousSibling;for(var g=0;h;){if(h.nodeType===8){var A=h.data;if(A==="$"||A==="$!"||A==="$?"){if(g===0)return h;g--}else A==="/$"&&g++}h=h.previousSibling}return null}function c_(h,g,A){switch(g=Zb(A),h){case"html":if(h=g.documentElement,!h)throw Error(o(452));return h;case"head":if(h=g.head,!h)throw Error(o(453));return h;case"body":if(h=g.body,!h)throw Error(o(454));return h;default:throw Error(o(451))}}function Vu(h){for(var g=h.attributes;g.length;)h.removeAttributeNode(g[0]);ws(h)}var nc=new Map,Gc=new Set;function n0(h){return typeof h.getRootNode=="function"?h.getRootNode():h.nodeType===9?h:h.ownerDocument}var Hu=de.d;de.d={f:u_,r:_g,D:bS,C:d_,L:h_,m:D1,X:p_,S:f_,M:m_};function u_(){var h=Hu.f(),g=vg();return h||g}function _g(h){var g=Ei(h);g!==null&&g.tag===5&&g.type==="form"?Nu(g):Hu.r(h)}var rm=typeof document>"u"?null:document;function E1(h,g,A){var I=rm;if(I&&typeof g=="string"&&g){var L=ti(g);L='link[rel="'+h+'"][href="'+L+'"]',typeof A=="string"&&(L+='[crossorigin="'+A+'"]'),Gc.has(L)||(Gc.add(L),h={rel:h,crossOrigin:A,href:g},I.querySelector(L)===null&&(g=I.createElement("link"),os(g,"link",h),Fr(g),I.head.appendChild(g)))}}function bS(h){Hu.D(h),E1("dns-prefetch",h,null)}function d_(h,g){Hu.C(h,g),E1("preconnect",h,g)}function h_(h,g,A){Hu.L(h,g,A);var I=rm;if(I&&h&&g){var L='link[rel="preload"][as="'+ti(g)+'"]';g==="image"&&A&&A.imageSrcSet?(L+='[imagesrcset="'+ti(A.imageSrcSet)+'"]',typeof A.imageSizes=="string"&&(L+='[imagesizes="'+ti(A.imageSizes)+'"]')):L+='[href="'+ti(h)+'"]';var V=L;switch(g){case"style":V=im(h);break;case"script":V=om(h)}nc.has(V)||(h=w({rel:"preload",href:g==="image"&&A&&A.imageSrcSet?void 0:h,as:g},A),nc.set(V,h),I.querySelector(L)!==null||g==="style"&&I.querySelector(Cg(V))||g==="script"&&I.querySelector(xg(V))||(g=I.createElement("link"),os(g,"link",h),Fr(g),I.head.appendChild(g)))}}function D1(h,g){Hu.m(h,g);var A=rm;if(A&&h){var I=g&&typeof g.as=="string"?g.as:"script",L='link[rel="modulepreload"][as="'+ti(I)+'"][href="'+ti(h)+'"]',V=L;switch(I){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":V=om(h)}if(!nc.has(V)&&(h=w({rel:"modulepreload",href:h},g),nc.set(V,h),A.querySelector(L)===null)){switch(I){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(A.querySelector(xg(V)))return}I=A.createElement("link"),os(I,"link",h),Fr(I),A.head.appendChild(I)}}}function f_(h,g,A){Hu.S(h,g,A);var I=rm;if(I&&h){var L=lo(I).hoistableStyles,V=im(h);g=g||"default";var he=L.get(V);if(!he){var Se={loading:0,preload:null};if(he=I.querySelector(Cg(V)))Se.loading=5;else{h=w({rel:"stylesheet",href:h,"data-precedence":g},A),(A=nc.get(V))&&Sg(h,A);var Ve=he=I.createElement("link");Fr(Ve),os(Ve,"link",h),Ve._p=new Promise(function(ct,Tt){Ve.onload=ct,Ve.onerror=Tt}),Ve.addEventListener("load",function(){Se.loading|=1}),Ve.addEventListener("error",function(){Se.loading|=2}),Se.loading|=4,i0(he,g,I)}he={type:"stylesheet",instance:he,count:1,state:Se},L.set(V,he)}}}function p_(h,g){Hu.X(h,g);var A=rm;if(A&&h){var I=lo(A).hoistableScripts,L=om(h),V=I.get(L);V||(V=A.querySelector(xg(L)),V||(h=w({src:h,async:!0},g),(g=nc.get(L))&&I1(h,g),V=A.createElement("script"),Fr(V),os(V,"link",h),A.head.appendChild(V)),V={type:"script",instance:V,count:1,state:null},I.set(L,V))}}function m_(h,g){Hu.M(h,g);var A=rm;if(A&&h){var I=lo(A).hoistableScripts,L=om(h),V=I.get(L);V||(V=A.querySelector(xg(L)),V||(h=w({src:h,async:!0,type:"module"},g),(g=nc.get(L))&&I1(h,g),V=A.createElement("script"),Fr(V),os(V,"link",h),A.head.appendChild(V)),V={type:"script",instance:V,count:1,state:null},I.set(L,V))}}function g_(h,g,A,I){var L=(L=ve.current)?n0(L):null;if(!L)throw Error(o(446));switch(h){case"meta":case"title":return null;case"style":return typeof A.precedence=="string"&&typeof A.href=="string"?(g=im(A.href),A=lo(L).hoistableStyles,I=A.get(g),I||(I={type:"style",instance:null,count:0,state:null},A.set(g,I)),I):{type:"void",instance:null,count:0,state:null};case"link":if(A.rel==="stylesheet"&&typeof A.href=="string"&&typeof A.precedence=="string"){h=im(A.href);var V=lo(L).hoistableStyles,he=V.get(h);if(he||(L=L.ownerDocument||L,he={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},V.set(h,he),(V=L.querySelector(Cg(h)))&&!V._p&&(he.instance=V,he.state.loading=5),nc.has(h)||(A={rel:"preload",as:"style",href:A.href,crossOrigin:A.crossOrigin,integrity:A.integrity,media:A.media,hrefLang:A.hrefLang,referrerPolicy:A.referrerPolicy},nc.set(h,A),V||kS(L,h,A,he.state))),g&&I===null)throw Error(o(528,""));return he}if(g&&I!==null)throw Error(o(529,""));return null;case"script":return g=A.async,A=A.src,typeof A=="string"&&g&&typeof g!="function"&&typeof g!="symbol"?(g=om(A),A=lo(L).hoistableScripts,I=A.get(g),I||(I={type:"script",instance:null,count:0,state:null},A.set(g,I)),I):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,h))}}function im(h){return'href="'+ti(h)+'"'}function Cg(h){return'link[rel="stylesheet"]['+h+"]"}function b_(h){return w({},h,{"data-precedence":h.precedence,precedence:null})}function kS(h,g,A,I){h.querySelector('link[rel="preload"][as="style"]['+g+"]")?I.loading=1:(g=h.createElement("link"),I.preload=g,g.addEventListener("load",function(){return I.loading|=1}),g.addEventListener("error",function(){return I.loading|=2}),os(g,"link",A),Fr(g),h.head.appendChild(g))}function om(h){return'[src="'+ti(h)+'"]'}function xg(h){return"script[async]"+h}function r0(h,g,A){if(g.count++,g.instance===null)switch(g.type){case"style":var I=h.querySelector('style[data-href~="'+ti(A.href)+'"]');if(I)return g.instance=I,Fr(I),I;var L=w({},A,{"data-href":A.href,"data-precedence":A.precedence,href:null,precedence:null});return I=(h.ownerDocument||h).createElement("style"),Fr(I),os(I,"style",L),i0(I,A.precedence,h),g.instance=I;case"stylesheet":L=im(A.href);var V=h.querySelector(Cg(L));if(V)return g.state.loading|=4,g.instance=V,Fr(V),V;I=b_(A),(L=nc.get(L))&&Sg(I,L),V=(h.ownerDocument||h).createElement("link"),Fr(V);var he=V;return he._p=new Promise(function(Se,Ve){he.onload=Se,he.onerror=Ve}),os(V,"link",I),g.state.loading|=4,i0(V,A.precedence,h),g.instance=V;case"script":return V=om(A.src),(L=h.querySelector(xg(V)))?(g.instance=L,Fr(L),L):(I=A,(L=nc.get(V))&&(I=w({},A),I1(I,L)),h=h.ownerDocument||h,L=h.createElement("script"),Fr(L),os(L,"link",I),h.head.appendChild(L),g.instance=L);case"void":return null;default:throw Error(o(443,g.type))}else g.type==="stylesheet"&&(g.state.loading&4)===0&&(I=g.instance,g.state.loading|=4,i0(I,A.precedence,h));return g.instance}function i0(h,g,A){for(var I=A.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),L=I.length?I[I.length-1]:null,V=L,he=0;he<I.length;he++){var Se=I[he];if(Se.dataset.precedence===g)V=Se;else if(V!==L)break}V?V.parentNode.insertBefore(h,V.nextSibling):(g=A.nodeType===9?A.head:A,g.insertBefore(h,g.firstChild))}function Sg(h,g){h.crossOrigin==null&&(h.crossOrigin=g.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=g.referrerPolicy),h.title==null&&(h.title=g.title)}function I1(h,g){h.crossOrigin==null&&(h.crossOrigin=g.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=g.referrerPolicy),h.integrity==null&&(h.integrity=g.integrity)}var rc=null;function T1(h,g,A){if(rc===null){var I=new Map,L=rc=new Map;L.set(A,I)}else L=rc,I=L.get(A),I||(I=new Map,L.set(A,I));if(I.has(h))return I;for(I.set(h,null),A=A.getElementsByTagName(h),L=0;L<A.length;L++){var V=A[L];if(!(V[ks]||V[xr]||h==="link"&&V.getAttribute("rel")==="stylesheet")&&V.namespaceURI!=="http://www.w3.org/2000/svg"){var he=V.getAttribute(g)||"";he=h+he;var Se=I.get(he);Se?Se.push(V):I.set(he,[V])}}return I}function Eg(h,g,A){h=h.ownerDocument||h,h.head.insertBefore(A,g==="title"?h.querySelector("head > title"):null)}function M1(h,g,A){if(A===1||g.itemProp!=null)return!1;switch(h){case"meta":case"title":return!0;case"style":if(typeof g.precedence!="string"||typeof g.href!="string"||g.href==="")break;return!0;case"link":if(typeof g.rel!="string"||typeof g.href!="string"||g.href===""||g.onLoad||g.onError)break;switch(g.rel){case"stylesheet":return h=g.disabled,typeof g.precedence=="string"&&h==null;default:return!0}case"script":if(g.async&&typeof g.async!="function"&&typeof g.async!="symbol"&&!g.onLoad&&!g.onError&&g.src&&typeof g.src=="string")return!0}return!1}function k_(h){return!(h.type==="stylesheet"&&(h.state.loading&3)===0)}var sm=null;function w_(){}function wS(h,g,A){if(sm===null)throw Error(o(475));var I=sm;if(g.type==="stylesheet"&&(typeof A.media!="string"||matchMedia(A.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var L=im(A.href),V=h.querySelector(Cg(L));if(V){h=V._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(I.count++,I=o0.bind(I),h.then(I,I)),g.state.loading|=4,g.instance=V,Fr(V);return}V=h.ownerDocument||h,A=b_(A),(L=nc.get(L))&&Sg(A,L),V=V.createElement("link"),Fr(V);var he=V;he._p=new Promise(function(Se,Ve){he.onload=Se,he.onerror=Ve}),os(V,"link",A),g.instance=V}I.stylesheets===null&&(I.stylesheets=new Map),I.stylesheets.set(g,h),(h=g.state.preload)&&(g.state.loading&3)===0&&(I.count++,g=o0.bind(I),h.addEventListener("load",g),h.addEventListener("error",g))}}function Dg(){if(sm===null)throw Error(o(475));var h=sm;return h.stylesheets&&h.count===0&&a0(h,h.stylesheets),0<h.count?function(g){var A=setTimeout(function(){if(h.stylesheets&&a0(h,h.stylesheets),h.unsuspend){var I=h.unsuspend;h.unsuspend=null,I()}},6e4);return h.unsuspend=g,function(){h.unsuspend=null,clearTimeout(A)}}:null}function o0(){if(this.count--,this.count===0){if(this.stylesheets)a0(this,this.stylesheets);else if(this.unsuspend){var h=this.unsuspend;this.unsuspend=null,h()}}}var s0=null;function a0(h,g){h.stylesheets=null,h.unsuspend!==null&&(h.count++,s0=new Map,g.forEach(vS,h),s0=null,o0.call(h))}function vS(h,g){if(!(g.state.loading&4)){var A=s0.get(h);if(A)var I=A.get(null);else{A=new Map,s0.set(h,A);for(var L=h.querySelectorAll("link[data-precedence],style[data-precedence]"),V=0;V<L.length;V++){var he=L[V];(he.nodeName==="LINK"||he.getAttribute("media")!=="not all")&&(A.set(he.dataset.precedence,he),I=he)}I&&A.set(null,I)}L=g.instance,he=L.getAttribute("data-precedence"),V=A.get(he)||I,V===I&&A.set(null,L),A.set(he,L),this.count++,I=o0.bind(this),L.addEventListener("load",I),L.addEventListener("error",I),V?V.parentNode.insertBefore(L,V.nextSibling):(h=h.nodeType===9?h.head:h,h.insertBefore(L,h.firstChild)),g.state.loading|=4}}var Ig={$$typeof:F,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function N1(h,g,A,I,L,V,he,Se){this.tag=1,this.containerInfo=h,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wr(0),this.hiddenUpdates=wr(null),this.identifierPrefix=I,this.onUncaughtError=L,this.onCaughtError=V,this.onRecoverableError=he,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Se,this.incompleteTransitions=new Map}function O1(h,g,A,I,L,V,he,Se,Ve,ct,Tt,St){return h=new N1(h,g,A,he,Se,Ve,ct,St),g=1,V===!0&&(g|=24),V=ho(3,null,null,g),h.current=V,V.stateNode=h,g=Ef(),g.refCount++,h.pooledCache=g,g.refCount++,V.memoizedState={element:I,isDehydrated:A,cache:g},Ye(V),h}function v_(h){return h?(h=uo,h):uo}function y_(h,g,A,I,L,V){L=v_(L),I.context===null?I.context=L:I.pendingContext=L,I=It(g),I.payload={element:A},V=V===void 0?null:V,V!==null&&(I.callback=V),A=Pt(h,I,g),A!==null&&(Zs(A,h,g),jt(A,h,g))}function l0(h,g){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var A=h.retryLane;h.retryLane=A!==0&&A<g?A:g}}function B1(h,g){l0(h,g),(h=h.alternate)&&l0(h,g)}function A_(h){if(h.tag===13){var g=Mn(h,67108864);g!==null&&Zs(g,h,67108864),B1(h,67108864)}}var c0=!0;function j1(h,g,A,I){var L=ue.T;ue.T=null;var V=de.p;try{de.p=2,Tg(h,g,A,I)}finally{de.p=V,ue.T=L}}function yS(h,g,A,I){var L=ue.T;ue.T=null;var V=de.p;try{de.p=8,Tg(h,g,A,I)}finally{de.p=V,ue.T=L}}function Tg(h,g,A,I){if(c0){var L=u0(I);if(L===null)Uo(h,g,I,cn,A),__(h,I);else if(L1(L,h,g,A,I))I.stopPropagation();else if(__(h,I),g&4&&-1<Mg.indexOf(h)){for(;L!==null;){var V=Ei(L);if(V!==null)switch(V.tag){case 3:if(V=V.stateNode,V.current.memoizedState.isDehydrated){var he=xn(V.pendingLanes);if(he!==0){var Se=V;for(Se.pendingLanes|=2,Se.entangledLanes|=2;he;){var Ve=1<<31-kt(he);Se.entanglements[1]|=Ve,he&=~Ve}zu(V),(ii&6)===0&&(oa=Ee()+500,yg(0))}}break;case 13:Se=Mn(V,2),Se!==null&&Zs(Se,V,2),vg(),B1(V,2)}if(V=u0(I),V===null&&Uo(h,g,I,cn,A),V===L)break;L=V}L!==null&&I.stopPropagation()}else Uo(h,g,I,null,A)}}function u0(h){return h=Qi(h),am(h)}var cn=null;function am(h){if(cn=null,h=bo(h),h!==null){var g=c(h);if(g===null)h=null;else{var A=g.tag;if(A===13){if(h=d(g),h!==null)return h;h=null}else if(A===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;h=null}else g!==h&&(h=null)}}return cn=h,null}function lm(h){switch(h){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ae()){case Ne:return 2;case Ke:return 8;case Xe:case ze:return 32;case dt:return 268435456;default:return 32}default:return 32}}var Ya=!1,Ud=null,Yc=null,ic=null,sr=new Map,cm=new Map,Kc=[],Mg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function __(h,g){switch(h){case"focusin":case"focusout":Ud=null;break;case"dragenter":case"dragleave":Yc=null;break;case"mouseover":case"mouseout":ic=null;break;case"pointerover":case"pointerout":sr.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":cm.delete(g.pointerId)}}function _a(h,g,A,I,L,V){return h===null||h.nativeEvent!==V?(h={blockedOn:g,domEventName:A,eventSystemFlags:I,nativeEvent:V,targetContainers:[L]},g!==null&&(g=Ei(g),g!==null&&A_(g)),h):(h.eventSystemFlags|=I,g=h.targetContainers,L!==null&&g.indexOf(L)===-1&&g.push(L),h)}function L1(h,g,A,I,L){switch(g){case"focusin":return Ud=_a(Ud,h,g,A,I,L),!0;case"dragenter":return Yc=_a(Yc,h,g,A,I,L),!0;case"mouseover":return ic=_a(ic,h,g,A,I,L),!0;case"pointerover":var V=L.pointerId;return sr.set(V,_a(sr.get(V)||null,h,g,A,I,L)),!0;case"gotpointercapture":return V=L.pointerId,cm.set(V,_a(cm.get(V)||null,h,g,A,I,L)),!0}return!1}function um(h){var g=bo(h.target);if(g!==null){var A=c(g);if(A!==null){if(g=A.tag,g===13){if(g=d(A),g!==null){h.blockedOn=g,es(h.priority,function(){if(A.tag===13){var I=no();I=Jo(I);var L=Mn(A,I);L!==null&&Zs(L,A,I),B1(A,I)}});return}}else if(g===3&&A.stateNode.current.memoizedState.isDehydrated){h.blockedOn=A.tag===3?A.stateNode.containerInfo:null;return}}}h.blockedOn=null}function d0(h){if(h.blockedOn!==null)return!1;for(var g=h.targetContainers;0<g.length;){var A=u0(h.nativeEvent);if(A===null){A=h.nativeEvent;var I=new A.constructor(A.type,A);oh=I,A.target.dispatchEvent(I),oh=null}else return g=Ei(A),g!==null&&A_(g),h.blockedOn=A,!1;g.shift()}return!0}function Ng(h,g,A){d0(h)&&A.delete(g)}function Og(){Ya=!1,Ud!==null&&d0(Ud)&&(Ud=null),Yc!==null&&d0(Yc)&&(Yc=null),ic!==null&&d0(ic)&&(ic=null),sr.forEach(Ng),cm.forEach(Ng)}function h0(h,g){h.blockedOn===g&&(h.blockedOn=null,Ya||(Ya=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Og)))}var f0=null;function Bg(h){f0!==h&&(f0=h,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){f0===h&&(f0=null);for(var g=0;g<h.length;g+=3){var A=h[g],I=h[g+1],L=h[g+2];if(typeof I!="function"){if(am(I||A)===null)continue;break}var V=Ei(A);V!==null&&(h.splice(g,3),g-=3,Ua(V,{pending:!0,data:L,method:A.method,action:I},I,L))}}))}function qd(h){function g(Ve){return h0(Ve,h)}Ud!==null&&h0(Ud,h),Yc!==null&&h0(Yc,h),ic!==null&&h0(ic,h),sr.forEach(g),cm.forEach(g);for(var A=0;A<Kc.length;A++){var I=Kc[A];I.blockedOn===h&&(I.blockedOn=null)}for(;0<Kc.length&&(A=Kc[0],A.blockedOn===null);)um(A),A.blockedOn===null&&Kc.shift();if(A=(h.ownerDocument||h).$$reactFormReplay,A!=null)for(I=0;I<A.length;I+=3){var L=A[I],V=A[I+1],he=L[rr]||null;if(typeof V=="function")he||Bg(A);else if(he){var Se=null;if(V&&V.hasAttribute("formAction")){if(L=V,he=V[rr]||null)Se=he.formAction;else if(am(L)!==null)continue}else Se=he.action;typeof Se=="function"?A[I+1]=Se:(A.splice(I,3),I-=3),Bg(A)}}}function dm(h){this._internalRoot=h}jg.prototype.render=dm.prototype.render=function(h){var g=this._internalRoot;if(g===null)throw Error(o(409));var A=g.current,I=no();y_(A,I,h,g,null,null)},jg.prototype.unmount=dm.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var g=h.containerInfo;y_(h.current,2,null,h,null,null),vg(),g[wi]=null}};function jg(h){this._internalRoot=h}jg.prototype.unstable_scheduleHydration=function(h){if(h){var g=Xo();h={blockedOn:null,target:h,priority:g};for(var A=0;A<Kc.length&&g!==0&&g<Kc[A].priority;A++);Kc.splice(A,0,h),A===0&&um(h)}};var C_=i.version;if(C_!=="19.1.1")throw Error(o(527,C_,"19.1.1"));de.findDOMNode=function(h){var g=h._reactInternals;if(g===void 0)throw typeof h.render=="function"?Error(o(188)):(h=Object.keys(h).join(","),Error(o(268,h)));return h=m(g),h=h!==null?k(h):null,h=h===null?null:h.stateNode,h};var AS={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:ue,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var p0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!p0.isDisabled&&p0.supportsFiber)try{pt=p0.inject(AS),He=p0}catch{}}return Cv.createRoot=function(h,g){if(!a(h))throw Error(o(299));var A=!1,I="",L=hg,V=_A,he=CA,Se=null;return g!=null&&(g.unstable_strictMode===!0&&(A=!0),g.identifierPrefix!==void 0&&(I=g.identifierPrefix),g.onUncaughtError!==void 0&&(L=g.onUncaughtError),g.onCaughtError!==void 0&&(V=g.onCaughtError),g.onRecoverableError!==void 0&&(he=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(Se=g.unstable_transitionCallbacks)),g=O1(h,1,!1,null,null,A,I,L,V,he,Se,null),h[wi]=g.current,Kb(h),new dm(g)},Cv.hydrateRoot=function(h,g,A){if(!a(h))throw Error(o(299));var I=!1,L="",V=hg,he=_A,Se=CA,Ve=null,ct=null;return A!=null&&(A.unstable_strictMode===!0&&(I=!0),A.identifierPrefix!==void 0&&(L=A.identifierPrefix),A.onUncaughtError!==void 0&&(V=A.onUncaughtError),A.onCaughtError!==void 0&&(he=A.onCaughtError),A.onRecoverableError!==void 0&&(Se=A.onRecoverableError),A.unstable_transitionCallbacks!==void 0&&(Ve=A.unstable_transitionCallbacks),A.formState!==void 0&&(ct=A.formState)),g=O1(h,1,!0,g,A??null,I,L,V,he,Se,Ve,ct),g.context=v_(null),A=g.current,I=no(),I=Jo(I),L=It(I),L.callback=null,Pt(A,L,I),A=I,g.current.lanes=A,mr(g,A),zu(g),h[wi]=g.current,Kb(h),new jg(g)},Cv.version="19.1.1",Cv}var _M;function YH(){if(_M)return b3.exports;_M=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(i){console.error(i)}}return t(),b3.exports=GH(),b3.exports}var KH=YH();const QH=Si(KH);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ty(){return Ty=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var r=arguments[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Ty.apply(this,arguments)}var Qg;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qg||(Qg={}));const CM="popstate";function ZH(t){t===void 0&&(t={});function i(o,a){let{pathname:c,search:d,hash:p}=o.location;return ME("",{pathname:c,search:d,hash:p},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(o,a){return typeof a=="string"?a:Hj(a)}return XH(i,r,null,t)}function al(t,i){if(t===!1||t===null||typeof t>"u")throw new Error(i)}function Vj(t,i){if(!t){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function JH(){return Math.random().toString(36).substr(2,8)}function xM(t,i){return{usr:t.state,key:t.key,idx:i}}function ME(t,i,r,o){return r===void 0&&(r=null),Ty({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof i=="string"?Ky(i):i,{state:r,key:i&&i.key||o||JH()})}function Hj(t){let{pathname:i="/",search:r="",hash:o=""}=t;return r&&r!=="?"&&(i+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(i+=o.charAt(0)==="#"?o:"#"+o),i}function Ky(t){let i={};if(t){let r=t.indexOf("#");r>=0&&(i.hash=t.substr(r),t=t.substr(0,r));let o=t.indexOf("?");o>=0&&(i.search=t.substr(o),t=t.substr(0,o)),t&&(i.pathname=t)}return i}function XH(t,i,r,o){o===void 0&&(o={});let{window:a=document.defaultView,v5Compat:c=!1}=o,d=a.history,p=Qg.Pop,m=null,k=w();k==null&&(k=0,d.replaceState(Ty({},d.state,{idx:k}),""));function w(){return(d.state||{idx:null}).idx}function _(){p=Qg.Pop;let O=w(),M=O==null?null:O-k;k=O,m&&m({action:p,location:E.location,delta:M})}function C(O,M){p=Qg.Push;let j=ME(E.location,O,M);k=w()+1;let F=xM(j,k),G=E.createHref(j);try{d.pushState(F,"",G)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;a.location.assign(G)}c&&m&&m({action:p,location:E.location,delta:1})}function v(O,M){p=Qg.Replace;let j=ME(E.location,O,M);k=w();let F=xM(j,k),G=E.createHref(j);d.replaceState(F,"",G),c&&m&&m({action:p,location:E.location,delta:0})}function D(O){let M=a.location.origin!=="null"?a.location.origin:a.location.href,j=typeof O=="string"?O:Hj(O);return j=j.replace(/ $/,"%20"),al(M,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,M)}let E={get action(){return p},get location(){return t(a,d)},listen(O){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(CM,_),m=O,()=>{a.removeEventListener(CM,_),m=null}},createHref(O){return i(a,O)},createURL:D,encodeLocation(O){let M=D(O);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:C,replace:v,go(O){return d.go(O)}};return E}var SM;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(SM||(SM={}));function e$(t,i,r){return r===void 0&&(r="/"),t$(t,i,r)}function t$(t,i,r,o){let a=typeof i=="string"?Ky(i):i,c=Gj(a.pathname||"/",r);if(c==null)return null;let d=$j(t);n$(d);let p=null;for(let m=0;p==null&&m<d.length;++m){let k=p$(c);p=d$(d[m],k)}return p}function $j(t,i,r,o){i===void 0&&(i=[]),r===void 0&&(r=[]),o===void 0&&(o="");let a=(c,d,p)=>{let m={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};m.relativePath.startsWith("/")&&(al(m.relativePath.startsWith(o),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(o.length));let k=tb([o,m.relativePath]),w=r.concat(m);c.children&&c.children.length>0&&(al(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+k+'".')),$j(c.children,i,w,k)),!(c.path==null&&!c.index)&&i.push({path:k,score:c$(k,c.index),routesMeta:w})};return t.forEach((c,d)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))a(c,d);else for(let m of Wj(c.path))a(c,d,m)}),i}function Wj(t){let i=t.split("/");if(i.length===0)return[];let[r,...o]=i,a=r.endsWith("?"),c=r.replace(/\?$/,"");if(o.length===0)return a?[c,""]:[c];let d=Wj(o.join("/")),p=[];return p.push(...d.map(m=>m===""?c:[c,m].join("/"))),a&&p.push(...d),p.map(m=>t.startsWith("/")&&m===""?"/":m)}function n$(t){t.sort((i,r)=>i.score!==r.score?r.score-i.score:u$(i.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}const r$=/^:[\w-]+$/,i$=3,o$=2,s$=1,a$=10,l$=-2,EM=t=>t==="*";function c$(t,i){let r=t.split("/"),o=r.length;return r.some(EM)&&(o+=l$),i&&(o+=o$),r.filter(a=>!EM(a)).reduce((a,c)=>a+(r$.test(c)?i$:c===""?s$:a$),o)}function u$(t,i){return t.length===i.length&&t.slice(0,-1).every((o,a)=>o===i[a])?t[t.length-1]-i[i.length-1]:0}function d$(t,i,r){let{routesMeta:o}=t,a={},c="/",d=[];for(let p=0;p<o.length;++p){let m=o[p],k=p===o.length-1,w=c==="/"?i:i.slice(c.length)||"/",_=h$({path:m.relativePath,caseSensitive:m.caseSensitive,end:k},w),C=m.route;if(!_)return null;Object.assign(a,_.params),d.push({params:a,pathname:tb([c,_.pathname]),pathnameBase:k$(tb([c,_.pathnameBase])),route:C}),_.pathnameBase!=="/"&&(c=tb([c,_.pathnameBase]))}return d}function h$(t,i){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,o]=f$(t.path,t.caseSensitive,t.end),a=i.match(r);if(!a)return null;let c=a[0],d=c.replace(/(.)\/+$/,"$1"),p=a.slice(1);return{params:o.reduce((k,w,_)=>{let{paramName:C,isOptional:v}=w;if(C==="*"){let E=p[_]||"";d=c.slice(0,c.length-E.length).replace(/(.)\/+$/,"$1")}const D=p[_];return v&&!D?k[C]=void 0:k[C]=(D||"").replace(/%2F/g,"/"),k},{}),pathname:c,pathnameBase:d,pattern:t}}function f$(t,i,r){i===void 0&&(i=!1),r===void 0&&(r=!0),Vj(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let o=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,m)=>(o.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(o.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,i?void 0:"i"),o]}function p$(t){try{return t.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return Vj(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+i+").")),t}}function Gj(t,i){if(i==="/")return t;if(!t.toLowerCase().startsWith(i.toLowerCase()))return null;let r=i.endsWith("/")?i.length-1:i.length,o=t.charAt(r);return o&&o!=="/"?null:t.slice(r)||"/"}function m$(t,i){i===void 0&&(i="/");let{pathname:r,search:o="",hash:a=""}=typeof t=="string"?Ky(t):t;return{pathname:r?r.startsWith("/")?r:g$(r,i):i,search:w$(o),hash:v$(a)}}function g$(t,i){let r=i.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function v3(t,i,r,o){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+i+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function b$(t){return t.filter((i,r)=>r===0||i.route.path&&i.route.path.length>0)}function Yj(t,i){let r=b$(t);return i?r.map((o,a)=>a===r.length-1?o.pathname:o.pathnameBase):r.map(o=>o.pathnameBase)}function Kj(t,i,r,o){o===void 0&&(o=!1);let a;typeof t=="string"?a=Ky(t):(a=Ty({},t),al(!a.pathname||!a.pathname.includes("?"),v3("?","pathname","search",a)),al(!a.pathname||!a.pathname.includes("#"),v3("#","pathname","hash",a)),al(!a.search||!a.search.includes("#"),v3("#","search","hash",a)));let c=t===""||a.pathname==="",d=c?"/":a.pathname,p;if(d==null)p=r;else{let _=i.length-1;if(!o&&d.startsWith("..")){let C=d.split("/");for(;C[0]==="..";)C.shift(),_-=1;a.pathname=C.join("/")}p=_>=0?i[_]:"/"}let m=m$(a,p),k=d&&d!=="/"&&d.endsWith("/"),w=(c||d===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(k||w)&&(m.pathname+="/"),m}const tb=t=>t.join("/").replace(/\/\/+/g,"/"),k$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),w$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,v$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function y$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Qj=["post","put","patch","delete"];new Set(Qj);const A$=["get",...Qj];new Set(A$);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mx(){return Mx=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var r=arguments[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Mx.apply(this,arguments)}const U4=ae.createContext(null),_$=ae.createContext(null),Qy=ae.createContext(null),q4=ae.createContext(null),$m=ae.createContext({outlet:null,matches:[],isDataRoute:!1}),Zj=ae.createContext(null);function Zy(){return ae.useContext(q4)!=null}function d5(){return Zy()||al(!1),ae.useContext(q4).location}function Jj(t){ae.useContext(Qy).static||ae.useLayoutEffect(t)}function so(){let{isDataRoute:t}=ae.useContext($m);return t?L$():C$()}function C$(){Zy()||al(!1);let t=ae.useContext(U4),{basename:i,future:r,navigator:o}=ae.useContext(Qy),{matches:a}=ae.useContext($m),{pathname:c}=d5(),d=JSON.stringify(Yj(a,r.v7_relativeSplatPath)),p=ae.useRef(!1);return Jj(()=>{p.current=!0}),ae.useCallback(function(k,w){if(w===void 0&&(w={}),!p.current)return;if(typeof k=="number"){o.go(k);return}let _=Kj(k,JSON.parse(d),c,w.relative==="path");t==null&&i!=="/"&&(_.pathname=_.pathname==="/"?i:tb([i,_.pathname])),(w.replace?o.replace:o.push)(_,w.state,w)},[i,o,d,c,t])}function V4(){let{matches:t}=ae.useContext($m),i=t[t.length-1];return i?i.params:{}}function x$(t,i){return S$(t)}function S$(t,i,r,o){Zy()||al(!1);let{navigator:a}=ae.useContext(Qy),{matches:c}=ae.useContext($m),d=c[c.length-1],p=d?d.params:{};d&&d.pathname;let m=d?d.pathnameBase:"/";d&&d.route;let k=d5(),w;w=k;let _=w.pathname||"/",C=_;if(m!=="/"){let E=m.replace(/^\//,"").split("/");C="/"+_.replace(/^\//,"").split("/").slice(E.length).join("/")}let v=e$(t,{pathname:C});return M$(v&&v.map(E=>Object.assign({},E,{params:Object.assign({},p,E.params),pathname:tb([m,a.encodeLocation?a.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?m:tb([m,a.encodeLocation?a.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),c,r,o)}function E$(){let t=j$(),i=y$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ae.createElement(ae.Fragment,null,ae.createElement("h2",null,"Unexpected Application Error!"),ae.createElement("h3",{style:{fontStyle:"italic"}},i),r?ae.createElement("pre",{style:a},r):null,null)}const D$=ae.createElement(E$,null);class I$ extends ae.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,r){return r.location!==i.location||r.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:r.error,location:r.location,revalidation:i.revalidation||r.revalidation}}componentDidCatch(i,r){console.error("React Router caught the following error during render",i,r)}render(){return this.state.error!==void 0?ae.createElement($m.Provider,{value:this.props.routeContext},ae.createElement(Zj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function T$(t){let{routeContext:i,match:r,children:o}=t,a=ae.useContext(U4);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),ae.createElement($m.Provider,{value:i},o)}function M$(t,i,r,o){var a;if(i===void 0&&(i=[]),r===void 0&&(r=null),o===void 0&&(o=null),t==null){var c;if(!r)return null;if(r.errors)t=r.matches;else if((c=o)!=null&&c.v7_partialHydration&&i.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let d=t,p=(a=r)==null?void 0:a.errors;if(p!=null){let w=d.findIndex(_=>_.route.id&&(p==null?void 0:p[_.route.id])!==void 0);w>=0||al(!1),d=d.slice(0,Math.min(d.length,w+1))}let m=!1,k=-1;if(r&&o&&o.v7_partialHydration)for(let w=0;w<d.length;w++){let _=d[w];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(k=w),_.route.id){let{loaderData:C,errors:v}=r,D=_.route.loader&&C[_.route.id]===void 0&&(!v||v[_.route.id]===void 0);if(_.route.lazy||D){m=!0,k>=0?d=d.slice(0,k+1):d=[d[0]];break}}}return d.reduceRight((w,_,C)=>{let v,D=!1,E=null,O=null;r&&(v=p&&_.route.id?p[_.route.id]:void 0,E=_.route.errorElement||D$,m&&(k<0&&C===0?(P$("route-fallback"),D=!0,O=null):k===C&&(D=!0,O=_.route.hydrateFallbackElement||null)));let M=i.concat(d.slice(0,C+1)),j=()=>{let F;return v?F=E:D?F=O:_.route.Component?F=ae.createElement(_.route.Component,null):_.route.element?F=_.route.element:F=w,ae.createElement(T$,{match:_,routeContext:{outlet:w,matches:M,isDataRoute:r!=null},children:F})};return r&&(_.route.ErrorBoundary||_.route.errorElement||C===0)?ae.createElement(I$,{location:r.location,revalidation:r.revalidation,component:E,error:v,children:j(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):j()},null)}var Xj=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Xj||{}),eL=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(eL||{});function N$(t){let i=ae.useContext(U4);return i||al(!1),i}function O$(t){let i=ae.useContext(_$);return i||al(!1),i}function B$(t){let i=ae.useContext($m);return i||al(!1),i}function tL(t){let i=B$(),r=i.matches[i.matches.length-1];return r.route.id||al(!1),r.route.id}function j$(){var t;let i=ae.useContext(Zj),r=O$(),o=tL();return i!==void 0?i:(t=r.errors)==null?void 0:t[o]}function L$(){let{router:t}=N$(Xj.UseNavigateStable),i=tL(eL.UseNavigateStable),r=ae.useRef(!1);return Jj(()=>{r.current=!0}),ae.useCallback(function(a,c){c===void 0&&(c={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,Mx({fromRouteId:i},c)))},[t,i])}const DM={};function P$(t,i,r){DM[t]||(DM[t]=!0)}function R$(t,i){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function nL(t){let{to:i,replace:r,state:o,relative:a}=t;Zy()||al(!1);let{future:c,static:d}=ae.useContext(Qy),{matches:p}=ae.useContext($m),{pathname:m}=d5(),k=so(),w=Kj(i,Yj(p,c.v7_relativeSplatPath),m,a==="path"),_=JSON.stringify(w);return ae.useEffect(()=>k(JSON.parse(_),{replace:r,state:o,relative:a}),[k,_,a,r,o]),null}function F$(t){let{basename:i="/",children:r=null,location:o,navigationType:a=Qg.Pop,navigator:c,static:d=!1,future:p}=t;Zy()&&al(!1);let m=i.replace(/^\/*/,"/"),k=ae.useMemo(()=>({basename:m,navigator:c,static:d,future:Mx({v7_relativeSplatPath:!1},p)}),[m,p,c,d]);typeof o=="string"&&(o=Ky(o));let{pathname:w="/",search:_="",hash:C="",state:v=null,key:D="default"}=o,E=ae.useMemo(()=>{let O=Gj(w,m);return O==null?null:{location:{pathname:O,search:_,hash:C,state:v,key:D},navigationType:a}},[m,w,_,C,v,D,a]);return E==null?null:ae.createElement(Qy.Provider,{value:k},ae.createElement(q4.Provider,{children:r,value:E}))}new Promise(()=>{});/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function NE(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((i,r)=>{let o=t[r];return i.concat(Array.isArray(o)?o.map(a=>[r,a]):[[r,o]])},[]))}function z$(t,i){let r=NE(t);return i&&i.forEach((o,a)=>{r.has(a)||i.getAll(a).forEach(c=>{r.append(a,c)})}),r}const U$="6";try{window.__reactRouterVersion=U$}catch{}const q$="startTransition",IM=P4[q$];function V$(t){let{basename:i,children:r,future:o,window:a}=t,c=ae.useRef();c.current==null&&(c.current=ZH({window:a,v5Compat:!0}));let d=c.current,[p,m]=ae.useState({action:d.action,location:d.location}),{v7_startTransition:k}=o||{},w=ae.useCallback(_=>{k&&IM?IM(()=>m(_)):m(_)},[m,k]);return ae.useLayoutEffect(()=>d.listen(w),[d,w]),ae.useEffect(()=>R$(o),[o]),ae.createElement(F$,{basename:i,children:r,location:p.location,navigationType:p.action,navigator:d,future:o})}var TM;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(TM||(TM={}));var MM;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(MM||(MM={}));function Jy(t){let i=ae.useRef(NE(t)),r=ae.useRef(!1),o=d5(),a=ae.useMemo(()=>z$(o.search,r.current?null:i.current),[o.search]),c=so(),d=ae.useCallback((p,m)=>{const k=NE(typeof p=="function"?p(a):p);r.current=!0,c("?"+k,m)},[c,a]);return[a,d]}const H$="modulepreload",$$=function(t){return"/nexlab/"+t},NM={},To=function(i,r,o){let a=Promise.resolve();if(r&&r.length>0){let d=function(k){return Promise.all(k.map(w=>Promise.resolve(w).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),m=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));a=d(r.map(k=>{if(k=$$(k),k in NM)return;NM[k]=!0;const w=k.endsWith(".css"),_=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${k}"]${_}`))return;const C=document.createElement("link");if(C.rel=w?"stylesheet":H$,w||(C.as="script"),C.crossOrigin="",C.href=k,m&&C.setAttribute("nonce",m),document.head.appendChild(C),w)return new Promise((v,D)=>{C.addEventListener("load",v),C.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${k}`)))})}))}function c(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return a.then(d=>{for(const p of d||[])p.status==="rejected"&&c(p.reason);return i().catch(c)})};var Xc=(t=>(t.NETWORK="NETWORK",t.AUTHENTICATION="AUTHENTICATION",t.AUTHORIZATION="AUTHORIZATION",t.VALIDATION="VALIDATION",t.NOT_FOUND="NOT_FOUND",t.SERVER_ERROR="SERVER_ERROR",t.UNKNOWN="UNKNOWN",t))(Xc||{});const OM={"auth/user-not-found":{type:"AUTHENTICATION",message:"No user found with this email address."},"auth/wrong-password":{type:"AUTHENTICATION",message:"Incorrect password. Please try again."},"auth/user-disabled":{type:"AUTHORIZATION",message:"This account has been disabled. Please contact support."},"auth/too-many-requests":{type:"NETWORK",message:"Too many failed attempts. Please try again later."},"auth/network-request-failed":{type:"NETWORK",message:"Network error. Please check your connection and try again."},"permission-denied":{type:"AUTHORIZATION",message:"You do not have permission for this action."},"not-found":{type:"NOT_FOUND",message:"The requested resource was not found."},unavailable:{type:"NETWORK",message:"Service is temporarily unavailable. Please try again."}},Kg=class Kg{constructor(){Jt(this,"errorQueue",[]);Jt(this,"maxErrorQueueSize",50)}static getInstance(){return Kg.instance||(Kg.instance=new Kg),Kg.instance}handleError(i,r){const o=this.createAppError(i,r);return this.logError(o),this.queueError(o),o}createAppError(i,r){let o="UNKNOWN",a="An unexpected error occurred.";if(i!=null&&i.code&&OM[i.code]){const c=OM[i.code];o=c.type,a=c.message}else i!=null&&i.message&&(a=i.message,i.message.includes("network")||i.message.includes("fetch")?o="NETWORK":i.message.includes("unauthorized")||i.message.includes("permission")?o="AUTHORIZATION":i.message.includes("not found")?o="NOT_FOUND":i.message.includes("validation")&&(o="VALIDATION"));return{type:o,message:a,originalError:i instanceof Error?i:new Error(String(i)),context:{...r,userAgent:navigator.userAgent,url:window.location.href,timestamp:new Date().toISOString()},timestamp:new Date,userId:r==null?void 0:r.userId}}logError(i){const r=`[${i.type}] ${i.message}`,o={error:i.originalError,context:i.context,timestamp:i.timestamp};switch(i.type){case"NETWORK":case"NOT_FOUND":console.warn(r,o);break;case"AUTHENTICATION":case"AUTHORIZATION":case"VALIDATION":console.error(r,o);break;case"SERVER_ERROR":case"UNKNOWN":console.error(r,o);break}}queueError(i){this.errorQueue.push(i),this.errorQueue.length>this.maxErrorQueueSize&&this.errorQueue.shift()}getErrorQueue(){return[...this.errorQueue]}clearErrorQueue(){this.errorQueue=[]}getUserFriendlyMessage(i){return i.message}shouldRetry(i){return i.type==="NETWORK"}};Jt(Kg,"instance");let My=Kg;const BM=async(t,i)=>{try{return{data:await t()}}catch(r){return{error:My.getInstance().handleError(r,i)}}},W$=()=>{const t=My.getInstance();return{handleError:(a,c)=>t.handleError(a,c),getUserFriendlyMessage:a=>t.getUserFriendlyMessage(a),shouldRetry:a=>t.shouldRetry(a)}};My.getInstance();class G${constructor(){Jt(this,"auth",null);Jt(this,"googleProvider",null)}initialize(){this.auth||(To(()=>Promise.resolve().then(()=>jm),void 0),this.auth=BH(),this.googleProvider=new jH)}async signInWithGoogle(i=!0){this.initialize();const r=await BM(async()=>{const o=i?PH:RH;await FH(this.auth,o);const a=await zH(this.auth,this.googleProvider);if(!a.user)throw new Error("No user returned from authentication");return a.user},{operation:"google_sign_in",keepSignedIn:i});if(r.error)throw r.error;return r.data}async signOut(){this.initialize();const i=await BM(async()=>{await UH(this.auth)},{operation:"sign_out"});if(i.error)throw i.error}onAuthStateChanged(i){return this.initialize(),LH(this.auth,i)}getCurrentUser(){return this.initialize(),this.auth.currentUser}getErrorMessage(i){return{"auth/network-request-failed":"Login Failed: Network error, please check your connection.","auth/popup-closed-by-user":"Login Failed: The sign-in popup was closed before completion.","auth/cancelled-popup-request":"Login Failed: Another sign-in request was made before the first one was completed.","auth/popup-blocked":"Login Failed: The sign-in popup was blocked by the browser. Please allow popups for this site.","auth/user-disabled":"Login Failed: This account has been disabled.","auth/user-not-found":"Login Failed: No account found with this email.","auth/wrong-password":"Login Failed: Incorrect password.","auth/too-many-requests":"Login Failed: Too many failed attempts. Please try again later."}[i]||"Login Failed: An unexpected error occurred."}}const rL=new G$;class Y${constructor(){Jt(this,"db",null);Jt(this,"publicCourseId");if(this.publicCourseId="rqoyheM9Lf8jGftIoZyT",!this.publicCourseId)throw new Error("Public course ID is not defined in environment variables.")}initialize(){this.db||(To(()=>Promise.resolve().then(()=>jm),void 0),this.db=Rr())}async getUserDetails(i){this.initialize();try{const r=Wn(this.db,"users",i),o=await ll(r);return o.exists()?{...o.data(),uid:i}:null}catch(r){throw console.error("Error fetching user details:",r),new Error("Failed to fetch user details")}}async createUserDocument(i){this.initialize();try{const r=await this.getPublicCourseInfo(),o=Wn(this.db,"users",i.uid),a={isAdmin:!1,isSuperAdmin:!1,lastLogin:$h(),classes:{[this.publicCourseId]:r}};return await zj(o,a),{uid:i.uid,isAdmin:!1,isSuperAdmin:!1,lastLogin:$h(),classes:{[this.publicCourseId]:r}}}catch(r){throw console.error("Error creating user document:",r),new Error("Failed to create user document")}}async updateUserLogin(i){this.initialize();try{const r=Wn(this.db,"users",i);await gi(r,{lastLogin:$h()})}catch(r){throw console.error("Error updating user login:",r),new Error("Failed to update user login")}}async refreshUserDetails(i){return this.getUserDetails(i)}subscribeToUserDetails(i,r){this.initialize();const o=Wn(this.db,"users",i);return Uj(o,a=>{if(a.exists()){const c=a.data();r({...c,uid:i})}else r(null)},a=>{console.error("Error in user details subscription:",a),r(null)})}async ensurePublicCourseAccess(i,r){this.initialize();try{if(r.classes&&r.classes[this.publicCourseId])return r;const o=await this.getPublicCourseInfo(),a=Wn(this.db,"users",i);return await gi(a,{[`classes.${this.publicCourseId}`]:o}),{...r,classes:{...r.classes||{},[this.publicCourseId]:o}}}catch(o){throw console.error("Error ensuring public course access:",o),new Error("Failed to ensure public course access")}}async getPublicCourseInfo(){this.initialize();try{const i=Wn(this.db,"courses",this.publicCourseId),r=await ll(i);if(!r.exists())throw new Error("Public course document does not exist in the courses collection!");const o=r.data();if(!o||!o.number||!o.title)throw new Error("Public course data is incomplete or invalid.");return{number:o.number,title:o.title,isCourseAdmin:!1}}catch(i){throw console.error("Error fetching public course info:",i),new Error("Failed to fetch public course information")}}}const I0=new Y$,K$={apiKey:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",authDomain:"nexlab-prod.firebaseapp.com",projectId:"nexlab-prod",storageBucket:"nexlab-prod.firebasestorage.app",messagingSenderId:"922352392986",appId:"1:922352392986:web:6c4d6e16b5e615bd4daaa3"},H4=qH(K$),iL=Rr(H4),Q$=Hm(H4),jm=Object.freeze(Object.defineProperty({__proto__:null,app:H4,db:iL,storage:Q$},Symbol.toStringTag,{value:"Module"})),oL=ae.createContext(void 0),Z$=({children:t})=>{const[i,r]=ae.useState(null),[o,a]=ae.useState(null),[c,d]=ae.useState(!1),[p,m]=ae.useState(!0),[k,w]=ae.useState(null),_=ae.useRef(null);ae.useEffect(()=>{const v=rL.onAuthStateChanged(async D=>{m(!0),w(null),_.current&&(_.current(),_.current=null);try{if(D){console.log("User is signed in with UID:",D.uid);let E=await I0.getUserDetails(D.uid);E?(await I0.updateUserLogin(D.uid),E=await I0.ensurePublicCourseAccess(D.uid,E)):(console.log("User document does not exist. Creating a new one..."),E=await I0.createUserDocument(D)),a(E),d(E.isSuperAdmin||!1);const O=I0.subscribeToUserDetails(D.uid,M=>{console.log("[UserContext] User details updated in real-time:",{uid:M==null?void 0:M.uid,classesCount:M!=null&&M.classes?Object.keys(M.classes).length:0,classes:M!=null&&M.classes?Object.keys(M.classes):[],timestamp:new Date().toISOString()}),M&&(a(M),d(M.isSuperAdmin||!1))});_.current=O}else a(null),d(!1);r(D)}catch(E){console.error("Error managing user authentication:",E),w(E instanceof Error?E:new Error("Failed to manage user authentication")),r(null),a(null),d(!1)}finally{m(!1)}});return()=>{v(),_.current&&(_.current(),_.current=null)}},[]);const C=async()=>{if(!i){console.warn("No user signed in, cannot refresh user details");return}try{const v=await I0.refreshUserDetails(i.uid);v?(a(v),d(v.isSuperAdmin||!1)):(console.error("User document does not exist. Unable to refresh user details."),w(new Error("User document not found")))}catch(v){console.error("Error refreshing user details:",v),w(v instanceof Error?v:new Error("Failed to refresh user details"))}};return x.jsx(oL.Provider,{value:{user:i,userDetails:o,setUserDetails:a,refreshUserDetails:C,loading:p,error:k,isSuperAdmin:c},children:t})},go=()=>{const t=ae.useContext(oL);if(t===void 0)throw new Error("useUser must be used within a UserProvider");return t},_l=({element:t})=>{const{userDetails:i,loading:r}=go();return r?x.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:x.jsx(ji,{})}):i?x.jsx(t,{}):x.jsx(nL,{to:"/"})};var xv={},y3={};const J$=OH($V);var jM;function ms(){return jM||(jM=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.createSvgIcon}});var i=J$}(y3)),y3}var LM;function X$(){if(LM)return xv;LM=1;var t=fs();Object.defineProperty(xv,"__esModule",{value:!0}),xv.default=void 0;var i=t(ms()),r=ps();return xv.default=(0,i.default)((0,r.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline"),xv}var eW=X$();const sL=Si(eW);var Sv={},PM;function tW(){if(PM)return Sv;PM=1;var t=fs();Object.defineProperty(Sv,"__esModule",{value:!0}),Sv.default=void 0;var i=t(ms()),r=ps();return Sv.default=(0,i.default)((0,r.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh"),Sv}var nW=tW();const rW=Si(nW);let aL=class extends ae.Component{constructor(r){super(r);Jt(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})});this.state={hasError:!1}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,o){console.error("ErrorBoundary caught an error:",r,o),this.setState({error:r,errorInfo:o}),this.props.onError&&this.props.onError(r,o)}render(){var r;return this.state.hasError?this.props.fallbackComponent?this.props.fallbackComponent:x.jsxs(Ar,{elevation:3,sx:{p:4,m:2,textAlign:"center",backgroundColor:"#fafafa",border:"1px solid #e0e0e0"},children:[x.jsx(sL,{color:"error",sx:{fontSize:48,mb:2}}),x.jsx(Pe,{variant:"h5",gutterBottom:!0,color:"error",children:"Something went wrong"}),x.jsx(Pe,{variant:"body1",sx:{mb:3,color:"text.secondary"},children:"We encountered an unexpected error. Please try refreshing the page or contact support if the problem persists."}),x.jsxs(Be,{sx:{mb:3},children:[x.jsx(xt,{variant:"contained",color:"primary",startIcon:x.jsx(rW,{}),onClick:this.handleRetry,sx:{mr:2},children:"Try Again"}),x.jsx(xt,{variant:"outlined",color:"primary",onClick:()=>window.location.reload(),children:"Refresh Page"})]}),this.props.showDetails&&this.state.error&&x.jsxs(Pr,{severity:"error",sx:{textAlign:"left",mt:2},children:[x.jsx(Pe,{variant:"subtitle2",gutterBottom:!0,children:"Error Details:"}),x.jsxs(Pe,{variant:"body2",component:"pre",sx:{whiteSpace:"pre-wrap",fontSize:"0.75rem",fontFamily:"monospace"},children:[this.state.error.message,((r=this.state.errorInfo)==null?void 0:r.componentStack)&&x.jsxs(x.Fragment,{children:[`

Component Stack:`,this.state.errorInfo.componentStack]})]})]})]}):this.props.children}};var Ev={},RM;function iW(){if(RM)return Ev;RM=1;var t=fs();Object.defineProperty(Ev,"__esModule",{value:!0}),Ev.default=void 0;var i=t(ms()),r=ps();return Ev.default=(0,i.default)((0,r.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home"),Ev}var oW=iW();const sW=Si(oW);var Dv={},FM;function aW(){if(FM)return Dv;FM=1;var t=fs();Object.defineProperty(Dv,"__esModule",{value:!0}),Dv.default=void 0;var i=t(ms()),r=ps();return Dv.default=(0,i.default)((0,r.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),Dv}var lW=aW();const lL=Si(lW),cW=()=>{const t=so();return x.jsxs(Ar,{elevation:3,sx:{p:4,m:4,textAlign:"center",backgroundColor:"#fafafa",border:"1px solid #e0e0e0",maxWidth:600,mx:"auto",mt:8},children:[x.jsx(sL,{color:"error",sx:{fontSize:64,mb:2}}),x.jsx(Pe,{variant:"h4",gutterBottom:!0,color:"error",children:"Page Error"}),x.jsx(Pe,{variant:"body1",sx:{mb:4,color:"text.secondary"},children:"This page encountered an error and cannot be displayed. You can try going back to the previous page or return to the home page."}),x.jsxs(Be,{sx:{display:"flex",gap:2,justifyContent:"center",flexWrap:"wrap"},children:[x.jsx(xt,{variant:"contained",color:"primary",startIcon:x.jsx(sW,{}),onClick:()=>t("/"),children:"Go to Home"}),x.jsx(xt,{variant:"outlined",color:"primary",startIcon:x.jsx(lL,{}),onClick:()=>t(-1),children:"Go Back"}),x.jsx(xt,{variant:"outlined",color:"secondary",onClick:()=>window.location.reload(),children:"Refresh Page"})]})]})},cL=({children:t,showDetails:i})=>x.jsx(aL,{fallbackComponent:x.jsx(cW,{}),showDetails:i,onError:(r,o)=>{console.error("Route Error:",{error:r.message,stack:r.stack,componentStack:o.componentStack,url:window.location.href,timestamp:new Date().toISOString()})},children:t});class uW{constructor(){Jt(this,"db",null);Jt(this,"cacheKey","messages")}initialize(){this.db||(To(()=>Promise.resolve().then(()=>jm),void 0),this.db=Rr())}subscribeToMessages(i){this.initialize();const r=Xd(dr(this.db,"messages"),u5("postedOn","desc"));return Uj(r,o=>{const a=o.docs.map(c=>({id:c.id,...c.data()}));i(a),this.setCachedMessages(a)},o=>{console.error("Error listening to messages:",o);const a=this.getCachedMessages();a&&i(a)})}getCachedMessages(){try{const i=sessionStorage.getItem(this.cacheKey);return i?JSON.parse(i):null}catch(i){return console.error("Error reading cached messages:",i),null}}setCachedMessages(i){try{sessionStorage.setItem(this.cacheKey,JSON.stringify(i))}catch(r){console.error("Error caching messages:",r)}}clearCache(){try{sessionStorage.removeItem(this.cacheKey)}catch(i){console.error("Error clearing message cache:",i)}}async togglePinMessage(i,r){this.initialize();try{const o=Wn(this.db,"messages",i);await gi(o,{isPinned:!r})}catch(o){throw console.error("Error toggling pin status:",o),o}}async deleteMessage(i){try{const r=Wn(this.db,"messages",i);await Yy(r)}catch(r){throw console.error("Error deleting message:",r),r}}}const OC=new uW,zM=t=>{let i;const r=new Set,o=(k,w)=>{const _=typeof k=="function"?k(i):k;if(!Object.is(_,i)){const C=i;i=w??(typeof _!="object"||_===null)?_:Object.assign({},i,_),r.forEach(v=>v(i,C))}},a=()=>i,p={setState:o,getState:a,getInitialState:()=>m,subscribe:k=>(r.add(k),()=>r.delete(k))},m=i=t(o,a,p);return p},dW=t=>t?zM(t):zM,hW=t=>t;function fW(t,i=hW){const r=vt.useSyncExternalStore(t.subscribe,()=>i(t.getState()),()=>i(t.getInitialState()));return vt.useDebugValue(r),r}const UM=t=>{const i=dW(t),r=o=>fW(i,o);return Object.assign(r,i),r},vk=t=>t?UM(t):UM,pW=()=>Math.random().toString(36).substr(2,9),mW=t=>{switch(t){case Xc.NETWORK:return"";case Xc.AUTHENTICATION:return"";case Xc.AUTHORIZATION:return"";case Xc.VALIDATION:return"";case Xc.NOT_FOUND:return"";case Xc.SERVER_ERROR:return"";default:return""}},gW=t=>{switch(t){case Xc.NETWORK:return 8e3;case Xc.AUTHENTICATION:case Xc.AUTHORIZATION:return 1e4;case Xc.VALIDATION:return 6e3;case Xc.NOT_FOUND:return 5e3;default:return 7e3}},uL=vk((t,i)=>({notifications:[],addNotification:r=>{const o={...r,id:pW(),timestamp:new Date,duration:r.duration??5e3};t(a=>({notifications:[...a.notifications,o]})),o.duration>0&&setTimeout(()=>{i().removeNotification(o.id)},o.duration)},removeNotification:r=>{t(o=>({notifications:o.notifications.filter(a=>a.id!==r)}))},clearAll:()=>{t({notifications:[]})},showError:(r,o)=>{const a=mW(r.type),c=gW(r.type),d=[];r.type===Xc.NETWORK&&d.push({label:"Retry",action:()=>{console.log("Retry requested for:",r)},primary:!0}),i().addNotification({type:"error",title:`${a} ${r.type.replace("_"," ")} Error`,message:r.message,duration:c,actions:o||d,error:r})},showSuccess:(r,o)=>{i().addNotification({type:"success",title:o||" Success",message:r,duration:4e3})},showWarning:(r,o)=>{i().addNotification({type:"warning",title:o||" Warning",message:r,duration:6e3})},showInfo:(r,o)=>{i().addNotification({type:"info",title:o||" Info",message:r,duration:5e3})}})),bW=()=>{const[t,i]=ae.useState([]),[r,o]=ae.useState(!0),[a,c]=ae.useState(null),{handleError:d}=W$(),{showError:p,showSuccess:m}=uL();return ae.useEffect(()=>{const C=OC.getCachedMessages();C&&(i(C),o(!1));const v=OC.subscribeToMessages(D=>{i(D),c(null),C||o(!1)});return()=>{v()}},[]),{messages:t,loading:r,error:a,deleteMessage:async C=>{try{await OC.deleteMessage(C),m("Message deleted successfully")}catch(v){const D=d(v,{operation:"delete_message",messageId:C});c(D.message),p(D)}},togglePinMessage:async(C,v)=>{try{await OC.togglePinMessage(C,v),m(`Message ${v?"unpinned":"pinned"} successfully`)}catch(D){const E=d(D,{operation:"toggle_pin_message",messageId:C,currentPinStatus:v});c(E.message),p(E)}},clearError:()=>{c(null)}}},Zu=({title:t,onClick:i,disabled:r=!1,disabledTooltip:o,lockIcon:a=!1,className:c="menu-item"})=>{const d=x.jsx(Ku,{className:c,children:x.jsx(WV,{onClick:i,disabled:r,children:x.jsx(jh,{children:x.jsxs(Pe,{className:"menu-item-typography",variant:"h6",component:"div",sx:r?{color:"#9e9e9e",opacity:.5}:{},children:[t,a&&x.jsx("span",{style:{marginLeft:8},children:""})]})})})});return r&&o?x.jsx(Dl,{title:o,children:x.jsx("span",{children:d})}):d},kW=({userDetails:t})=>{const i=so(),r=t&&!t.isAdmin&&(!t.classes||Object.keys(t.classes).length===0);return x.jsxs(x.Fragment,{children:[x.jsx(Zt,{item:!0,xs:12,children:x.jsx(Zu,{title:"My Account",onClick:()=>i("/my-profile")})}),x.jsx(Zt,{item:!0,xs:12,children:x.jsx(Zu,{title:"Laboratory Notebook",onClick:()=>i("/laboratory-notebooks"),disabled:r,disabledTooltip:"The Laboratory Notebook is accessible to users enrolled in an academic course. Please enroll in a course via 'My Account' by following the instructions provided by your academic instructor.",lockIcon:r})}),x.jsx(Zt,{item:!0,xs:12,children:x.jsx(Zu,{title:"Course Materials",onClick:()=>i("/supplemental-materials")})})]})},qM={BASE_URL:"/nexlab/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_KEY:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",VITE_APP_ID:"1:922352392986:web:6c4d6e16b5e615bd4daaa3",VITE_AUTH_DOMAIN:"nexlab-prod.firebaseapp.com",VITE_CHATBOT_DEFAULT_ID:"ce5f7921-a3a0-4ea7-b95f-10fe41becda5",VITE_DEPLOY_ENV:"github",VITE_GEMINI_API_KEY:"AIzaSyDYgUVJwspUzRfZEhGCUAdLR66lNmM79A8",VITE_GEMINI_MATERIAL_API_KEY:"AIzaSyAcb1QNEdevZFSay3ZaT9MB7xQq6f0dMh0",VITE_GOOGLE_ANALYTICS_ID:"G-X2SBY2YQ4V",VITE_MESSAGING_SENDER_ID:"922352392986",VITE_PROJECT_ID:"nexlab-prod",VITE_PUBLIC_COURSE_ID:"rqoyheM9Lf8jGftIoZyT",VITE_STORAGE_BUCKET:"nexlab-prod.firebasestorage.app"},Ny=new Map,BC=t=>{const i=Ny.get(t);return i?Object.fromEntries(Object.entries(i.stores).map(([r,o])=>[r,o.getState()])):{}},wW=(t,i,r)=>{if(t===void 0)return{type:"untracked",connection:i.connect(r)};const o=Ny.get(r.name);if(o)return{type:"tracked",store:t,...o};const a={connection:i.connect(r),stores:{}};return Ny.set(r.name,a),{type:"tracked",store:t,...a}},vW=(t,i)=>{if(i===void 0)return;const r=Ny.get(t);r&&(delete r.stores[i],Object.keys(r.stores).length===0&&Ny.delete(t))},yW=t=>{var i,r;if(!t)return;const o=t.split(`
`),a=o.findIndex(d=>d.includes("api.setState"));if(a<0)return;const c=((i=o[a+1])==null?void 0:i.trim())||"";return(r=/.+ (.+) .+/.exec(c))==null?void 0:r[1]},AW=(t,i={})=>(r,o,a)=>{const{enabled:c,anonymousActionType:d,store:p,...m}=i;let k;try{k=(c??(qM?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!k)return t(r,o,a);const{connection:w,..._}=wW(p,k,m);let C=!0;a.setState=(E,O,M)=>{const j=r(E,O);if(!C)return j;const F=M===void 0?{type:d||yW(new Error().stack)||"anonymous"}:typeof M=="string"?{type:M}:M;return p===void 0?(w==null||w.send(F,o()),j):(w==null||w.send({...F,type:`${p}/${F.type}`},{...BC(m.name),[p]:a.getState()}),j)},a.devtools={cleanup:()=>{w&&typeof w.unsubscribe=="function"&&w.unsubscribe(),vW(m.name,p)}};const v=(...E)=>{const O=C;C=!1,r(...E),C=O},D=t(a.setState,o,a);if(_.type==="untracked"?w==null||w.init(D):(_.stores[_.store]=a,w==null||w.init(Object.fromEntries(Object.entries(_.stores).map(([E,O])=>[E,E===_.store?D:O.getState()])))),a.dispatchFromDevtools&&typeof a.dispatch=="function"){let E=!1;const O=a.dispatch;a.dispatch=(...M)=>{(qM?"production":void 0)!=="production"&&M[0].type==="__setState"&&!E&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),E=!0),O(...M)}}return w.subscribe(E=>{var O;switch(E.type){case"ACTION":if(typeof E.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return A3(E.payload,M=>{if(M.type==="__setState"){if(p===void 0){v(M.state);return}Object.keys(M.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const j=M.state[p];if(j==null)return;JSON.stringify(a.getState())!==JSON.stringify(j)&&v(j);return}a.dispatchFromDevtools&&typeof a.dispatch=="function"&&a.dispatch(M)});case"DISPATCH":switch(E.payload.type){case"RESET":return v(D),p===void 0?w==null?void 0:w.init(a.getState()):w==null?void 0:w.init(BC(m.name));case"COMMIT":if(p===void 0){w==null||w.init(a.getState());return}return w==null?void 0:w.init(BC(m.name));case"ROLLBACK":return A3(E.state,M=>{if(p===void 0){v(M),w==null||w.init(a.getState());return}v(M[p]),w==null||w.init(BC(m.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return A3(E.state,M=>{if(p===void 0){v(M);return}JSON.stringify(a.getState())!==JSON.stringify(M[p])&&v(M[p])});case"IMPORT_STATE":{const{nextLiftedState:M}=E.payload,j=(O=M.computedStates.slice(-1)[0])==null?void 0:O.state;if(!j)return;v(p===void 0?j:j[p]),w==null||w.send(null,M);return}case"PAUSE_RECORDING":return C=!C}return}}),D},Xy=AW,A3=(t,i)=>{let r;try{r=JSON.parse(t)}catch(o){console.error("[zustand devtools middleware] Could not parse the received json",o)}r!==void 0&&i(r)};function _W(t,i){let r;try{r=t()}catch{return}return{getItem:a=>{var c;const d=m=>m===null?null:JSON.parse(m,void 0),p=(c=r.getItem(a))!=null?c:null;return p instanceof Promise?p.then(d):d(p)},setItem:(a,c)=>r.setItem(a,JSON.stringify(c,void 0)),removeItem:a=>r.removeItem(a)}}const OE=t=>i=>{try{const r=t(i);return r instanceof Promise?r:{then(o){return OE(o)(r)},catch(o){return this}}}catch(r){return{then(o){return this},catch(o){return OE(o)(r)}}}},CW=(t,i)=>(r,o,a)=>{let c={storage:_W(()=>localStorage),partialize:E=>E,version:0,merge:(E,O)=>({...O,...E}),...i},d=!1;const p=new Set,m=new Set;let k=c.storage;if(!k)return t((...E)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),r(...E)},o,a);const w=()=>{const E=c.partialize({...o()});return k.setItem(c.name,{state:E,version:c.version})},_=a.setState;a.setState=(E,O)=>{_(E,O),w()};const C=t((...E)=>{r(...E),w()},o,a);a.getInitialState=()=>C;let v;const D=()=>{var E,O;if(!k)return;d=!1,p.forEach(j=>{var F;return j((F=o())!=null?F:C)});const M=((O=c.onRehydrateStorage)==null?void 0:O.call(c,(E=o())!=null?E:C))||void 0;return OE(k.getItem.bind(k))(c.name).then(j=>{if(j)if(typeof j.version=="number"&&j.version!==c.version){if(c.migrate){const F=c.migrate(j.state,j.version);return F instanceof Promise?F.then(G=>[!0,G]):[!0,F]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,j.state];return[!1,void 0]}).then(j=>{var F;const[G,J]=j;if(v=c.merge(J,(F=o())!=null?F:C),r(v,!0),G)return w()}).then(()=>{M==null||M(v,void 0),v=o(),d=!0,m.forEach(j=>j(v))}).catch(j=>{M==null||M(void 0,j)})};return a.persist={setOptions:E=>{c={...c,...E},E.storage&&(k=E.storage)},clearStorage:()=>{k==null||k.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>D(),hasHydrated:()=>d,onHydrate:E=>(p.add(E),()=>{p.delete(E)}),onFinishHydration:E=>(m.add(E),()=>{m.delete(E)})},c.skipHydration||D(),v||C},$4=CW,dL=vk()(Xy($4((t,i)=>({globalLoading:!1,pageLoading:{},openDialogs:{},currentPage:"/",previousPage:null,navigationSections:{educatorExpanded:!1,superAdminExpanded:!1},sidebarCollapsed:!1,theme:"light",setGlobalLoading:r=>t({globalLoading:r}),setPageLoading:(r,o)=>t(a=>({pageLoading:{...a.pageLoading,[r]:o}})),openDialog:r=>t(o=>({openDialogs:{...o.openDialogs,[r]:!0}})),closeDialog:r=>t(o=>({openDialogs:{...o.openDialogs,[r]:!1}})),toggleDialog:r=>t(o=>({openDialogs:{...o.openDialogs,[r]:!o.openDialogs[r]}})),isDialogOpen:r=>!!i().openDialogs[r],setCurrentPage:r=>t(o=>({currentPage:r,previousPage:o.currentPage})),toggleEducatorSection:()=>t(r=>({navigationSections:{...r.navigationSections,educatorExpanded:!r.navigationSections.educatorExpanded}})),toggleSuperAdminSection:()=>t(r=>({navigationSections:{...r.navigationSections,superAdminExpanded:!r.navigationSections.superAdminExpanded}})),setEducatorSectionExpanded:r=>t(o=>({navigationSections:{...o.navigationSections,educatorExpanded:r}})),setSuperAdminSectionExpanded:r=>t(o=>({navigationSections:{...o.navigationSections,superAdminExpanded:r}})),setSidebarCollapsed:r=>t({sidebarCollapsed:r}),toggleSidebar:()=>t(r=>({sidebarCollapsed:!r.sidebarCollapsed})),setTheme:r=>t({theme:r}),toggleTheme:()=>t(r=>({theme:r.theme==="light"?"dark":"light"}))}),{name:"ui-preferences",partialize:t=>({sidebarCollapsed:t.sidebarCollapsed,theme:t.theme,navigationSections:t.navigationSections})}))),xW=()=>{const t=so(),{navigationSections:i,toggleEducatorSection:r}=dL(),o=i.educatorExpanded;return x.jsx(x.Fragment,{children:x.jsxs(Zt,{item:!0,xs:12,children:[x.jsx(iu,{sx:{my:2}}),x.jsxs(Be,{sx:{display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",py:1.5,px:2,mx:1,"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"},borderRadius:2,transition:"background-color 0.2s"},onClick:r,children:[x.jsx(Pe,{className:"general-menu-title",variant:"h6",component:"h2",sx:{flexGrow:1,textAlign:"center"},children:"Educator Access"}),x.jsx(ur,{size:"small",sx:{ml:2,p:.5,color:"primary.main","&:hover":{backgroundColor:"primary.light",color:"primary.contrastText"}},"aria-label":o?"collapse educator section":"expand educator section",children:o?x.jsx(a5,{fontSize:"small"}):x.jsx(Kd,{fontSize:"small"})})]}),x.jsx(l5,{in:o,timeout:"auto",unmountOnExit:!0,children:x.jsxs(Be,{sx:{mt:2,px:1},children:[x.jsx(Zu,{title:"Course Management",onClick:()=>t("/course-management")}),x.jsx(Be,{sx:{mt:1},children:x.jsx(Zu,{title:"Chatbot Management",onClick:()=>t("/chatbot-management")})})]})})]})})},SW=()=>{const t=so(),{navigationSections:i,toggleSuperAdminSection:r}=dL(),o=i.superAdminExpanded;return x.jsx(x.Fragment,{children:x.jsxs(Zt,{item:!0,xs:12,children:[x.jsx(iu,{sx:{my:2}}),x.jsxs(Be,{sx:{display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",py:1.5,px:2,mx:1,"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"},borderRadius:2,transition:"background-color 0.2s"},onClick:r,children:[x.jsx(Pe,{className:"general-menu-title",variant:"h6",component:"h2",sx:{flexGrow:1,textAlign:"center"},children:"Super-Admin Access"}),x.jsx(ur,{size:"small",sx:{ml:2,p:.5,color:"primary.main","&:hover":{backgroundColor:"primary.light",color:"primary.contrastText"}},"aria-label":o?"collapse super-admin section":"expand super-admin section",children:o?x.jsx(a5,{fontSize:"small"}):x.jsx(Kd,{fontSize:"small"})})]}),x.jsx(l5,{in:o,timeout:"auto",unmountOnExit:!0,children:x.jsxs(Be,{sx:{mt:2,px:1},children:[x.jsx(Zu,{title:"User Management",onClick:()=>t("/user-management")}),x.jsx(Be,{sx:{mt:1},children:x.jsx(Zu,{title:"Course Management",onClick:()=>t("/super-admin-course-management")})}),x.jsx(Be,{sx:{mt:1},children:x.jsx(Zu,{title:"Educator Requests",onClick:()=>t("/educator-requests")})}),x.jsx(Be,{sx:{mt:1},children:x.jsx(Zu,{title:"Course Requests",onClick:()=>t("/course-requests")})}),x.jsx(Be,{sx:{mt:1},children:x.jsx(Zu,{title:"Chatbot Requests",onClick:()=>t("/super-admin-chatbot-requests")})}),x.jsx(Be,{sx:{mt:1},children:x.jsx(Zu,{title:"Chatbot Conversations",onClick:()=>t("/chatbot-conversations")})}),x.jsx(Be,{sx:{mt:1},children:x.jsx(Zu,{title:"Quiz Management",onClick:()=>t("/quiz-management")})})]})})]})})},EW=({userDetails:t,isSuperAdmin:i})=>x.jsx(Be,{className:"menu-container",children:x.jsxs(Zt,{container:!0,spacing:2,justifyContent:"center",children:[x.jsx(kW,{userDetails:t}),(t==null?void 0:t.isAdmin)&&x.jsx(xW,{}),i&&x.jsx(SW,{})]})});var Iv={},VM;function DW(){if(VM)return Iv;VM=1;var t=fs();Object.defineProperty(Iv,"__esModule",{value:!0}),Iv.default=void 0;var i=t(ms()),r=ps();return Iv.default=(0,i.default)((0,r.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 14H4V8l8 5 8-5zm-8-7L4 6h16z"}),"MailOutline"),Iv}var IW=DW();const TW=Si(IW);var Tv={},HM;function MW(){if(HM)return Tv;HM=1;var t=fs();Object.defineProperty(Tv,"__esModule",{value:!0}),Tv.default=void 0;var i=t(ms()),r=ps();return Tv.default=(0,i.default)((0,r.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),Tv}var NW=MW();const yy=Si(NW);var Mv={},$M;function OW(){if($M)return Mv;$M=1;var t=fs();Object.defineProperty(Mv,"__esModule",{value:!0}),Mv.default=void 0;var i=t(ms()),r=ps();return Mv.default=(0,i.default)((0,r.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),Mv}var BW=OW();const yk=Si(BW),WM=({messageId:t,onDelete:i})=>{const[r,o]=ae.useState(!1),a=Rr(),c=()=>{o(!0)},d=()=>{o(!1)},p=async()=>{try{await Yy(Wn(a,"messages",t)),i(t),d()}catch(m){console.error("Error deleting message: ",m)}};return x.jsxs(x.Fragment,{children:[x.jsx(ur,{onClick:c,children:x.jsx(yk,{})}),x.jsxs(Ms,{open:r,onClose:d,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[x.jsx(Ns,{id:"alert-dialog-title",children:"Confirm Delete"}),x.jsx(Os,{children:x.jsx(fc,{id:"alert-dialog-description",children:"Are you sure you want to delete this message? This action cannot be undone."})}),x.jsxs(Bs,{children:[x.jsx(xt,{onClick:d,color:"primary",children:"Cancel"}),x.jsx(xt,{onClick:p,color:"primary",autoFocus:!0,children:"Confirm"})]})]})]})};var Nv={},GM;function jW(){if(GM)return Nv;GM=1;var t=fs();Object.defineProperty(Nv,"__esModule",{value:!0}),Nv.default=void 0;var i=t(ms()),r=ps();return Nv.default=(0,i.default)((0,r.jsx)("path",{fillRule:"evenodd",d:"M16 9V4h1c.55 0 1-.45 1-1s-.45-1-1-1H7c-.55 0-1 .45-1 1s.45 1 1 1h1v5c0 1.66-1.34 3-3 3v2h5.97v7l1 1 1-1v-7H19v-2c-1.66 0-3-1.34-3-3"}),"PushPin"),Nv}var LW=jW();const hL=Si(LW),YM=({message:t,togglePinMessage:i})=>{const r=async()=>{try{await i(t.id,t.isPinned||!1)}catch(o){console.error("Error updating pin status: ",o)}};return x.jsx(ur,{onClick:r,sx:{marginRight:1},children:x.jsx(hL,{color:t.isPinned?"primary":"inherit"})})};var Ov={},KM;function PW(){if(KM)return Ov;KM=1;var t=fs();Object.defineProperty(Ov,"__esModule",{value:!0}),Ov.default=void 0;var i=t(ms()),r=ps();return Ov.default=(0,i.default)((0,r.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),Ov}var RW=PW();const Nx=Si(RW),Dm=t=>t?typeof t=="object"&&"toDate"in t?t.toDate().toLocaleString():typeof t=="object"&&"seconds"in t?new Date(t.seconds*1e3).toLocaleString():"N/A":"No data available",FW=({messages:t,userDetails:i,navigate:r,handleDeleteMessage:o,togglePinMessage:a})=>{const[c,d]=ae.useState(0),p=3,m=t.filter(F=>(i==null?void 0:i.classes)&&F.course in i.classes),k=m.filter(F=>F.isPinned),w=m.filter(F=>!F.isPinned),_=(c+1)*p,C=_-p,v=w.slice(C,_),D=Math.ceil(w.length/p),E=()=>d(F=>F+1),O=()=>d(F=>F-1),M=F=>{var G,J;return!!(i!=null&&i.isSuperAdmin||(J=(G=i==null?void 0:i.classes)==null?void 0:G[F.course])!=null&&J.isCourseAdmin)},j=F=>{var J;const G=(J=i==null?void 0:i.classes)==null?void 0:J[F];return G?`${G.number}`:"Unknown Course"};return x.jsxs(Be,{className:"messages-display-container",children:[" ",k.length>0&&x.jsxs(Ar,{elevation:3,sx:{mb:3,p:2,backgroundColor:"#FBFADA",borderRadius:"15px"},children:[x.jsxs(Be,{className:"pinned-section",children:[x.jsx(hL,{color:"primary",sx:{mr:1}}),x.jsx(Pe,{variant:"h6",className:"pinned-title",children:"Pinned"})]}),k.map(F=>x.jsx(Ku,{className:"messages-card",children:x.jsxs(qh,{children:[x.jsx(Vh,{expandIcon:x.jsx(Nx,{}),"aria-controls":`panel-${F.id}-content`,id:`panel-${F.id}-header`,children:x.jsxs(Zt,{container:!0,justifyContent:"space-between",alignItems:"flex-start",children:[x.jsxs(Zt,{item:!0,children:[x.jsxs(Be,{display:"flex",alignItems:"center",children:[x.jsx(Xr,{label:j(F.course),color:"primary",variant:"outlined",className:"message-chip",sx:{marginRight:1}}),x.jsxs(Pe,{variant:"subtitle2",className:"message-posted-on",children:["Posted On: ",Dm(F.postedOn)," |"]}),F.lastUpdatedOn&&x.jsxs(Pe,{variant:"subtitle2",className:"message-updated-on",children:["| Last Updated: ",Dm(F.lastUpdatedOn)]})]}),x.jsxs(Pe,{variant:"h6",className:"message-title",children:["Subject: ",F.title]})]}),M(F)&&x.jsxs(Zt,{item:!0,children:[x.jsx(YM,{message:F,togglePinMessage:a}),x.jsx(ur,{onClick:()=>r(`/edit-message/${F.id}`),sx:{marginRight:1},children:x.jsx(yy,{})}),x.jsx(WM,{messageId:F.id,onDelete:o})]})]})}),x.jsx(Hh,{children:x.jsxs(Be,{sx:{border:"1px solid #e0e0e0",padding:"20px",borderRadius:"4px",backgroundColor:"#fafafa",marginBottom:"16px"},children:[x.jsx(Pe,{variant:"body1",className:"message-description",children:F.description}),F.links&&F.links.some(G=>G.title&&G.url)&&x.jsxs(Be,{sx:{mt:1},children:[x.jsx(Pe,{variant:"subtitle2",className:"message-links-title",children:"Links:"}),F.links.map((G,J)=>G.title&&G.url&&x.jsxs(Be,{sx:{mt:1},children:[x.jsxs(Pe,{variant:"body2",component:"span",className:"message-link",children:[" ",G.title,": "]}),x.jsx(Iy,{href:G.url,target:"_blank",rel:"noopener",children:G.url})]},J))]})]})})]})},F.id))]}),x.jsx(Ar,{elevation:3,sx:{mb:3,p:2,backgroundColor:"#f5f5f5",borderRadius:"15px"},children:v.map(F=>x.jsx(Ku,{className:"messages-card",children:x.jsxs(qh,{children:[x.jsx(Vh,{expandIcon:x.jsx(Nx,{}),"aria-controls":`panel-${F.id}-content`,id:`panel-${F.id}-header`,children:x.jsxs(Zt,{container:!0,justifyContent:"space-between",alignItems:"flex-start",children:[x.jsxs(Zt,{item:!0,children:[x.jsxs(Be,{display:"flex",alignItems:"center",children:[x.jsx(Xr,{label:j(F.course),color:"primary",variant:"outlined",className:"message-chip",sx:{marginRight:1}}),x.jsxs(Pe,{variant:"subtitle2",className:"message-posted-on",children:["Posted On: ",Dm(F.postedOn)]}),F.lastUpdatedOn&&x.jsxs(Pe,{variant:"subtitle2",className:"message-updated-on",children:["Last Updated: ",Dm(F.lastUpdatedOn)]})]}),x.jsxs(Pe,{variant:"h6",className:"message-title",children:["Subject: ",F.title]})]}),M(F)&&x.jsxs(Zt,{item:!0,children:[x.jsx(YM,{message:F,togglePinMessage:a}),x.jsx(ur,{onClick:()=>r(`/edit-message/${F.id}`),sx:{marginRight:1},children:x.jsx(yy,{})}),x.jsx(WM,{messageId:F.id,onDelete:o})]})]})}),x.jsx(Hh,{children:x.jsxs(Be,{sx:{border:"1px solid #e0e0e0",padding:"20px",borderRadius:"4px",backgroundColor:"#fafafa",marginBottom:"16px"},children:[x.jsx(Pe,{variant:"body1",className:"message-description",children:F.description}),F.links&&F.links.some(G=>G.title&&G.url)&&x.jsxs(Be,{sx:{mt:1},children:[x.jsx(Pe,{variant:"subtitle2",className:"message-links-title",children:"Links:"}),F.links.map((G,J)=>G.title&&G.url&&x.jsxs(Be,{sx:{mt:1},children:[x.jsxs(Pe,{variant:"body2",component:"span",className:"message-link",children:[" ",G.title,": "]}),x.jsx(Iy,{href:G.url,target:"_blank",rel:"noopener",children:G.url})]},J))]})]})})]})},F.id))}),x.jsxs(Be,{className:"pagination-container",children:[" ",x.jsx(xt,{onClick:O,disabled:c===0,className:"pagination-button",children:"Previous"}),x.jsx(xt,{onClick:E,disabled:c>=D-1,className:"pagination-button",children:"Next"})]})]})},zW=({messages:t,loading:i,userDetails:r,handleDeleteMessage:o,togglePinMessage:a})=>{const c=so();return x.jsxs(Be,{className:"messages-container",children:[x.jsxs(Be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[x.jsxs(Be,{sx:{display:"flex",alignItems:"center"},children:[x.jsx(TW,{sx:{mr:1}}),x.jsx(Pe,{variant:"h5",component:"h4",className:"inbox-text",children:"Inbox"})]}),(r==null?void 0:r.isAdmin)&&x.jsx(xt,{variant:"contained",onClick:()=>c("/add-message"),sx:{backgroundColor:"#CDDAFF",color:"#FFFFFF",fontFamily:"Staatliches, sans-serif",fontSize:"1.25rem","&:hover":{backgroundColor:"#0B53C0",border:"0px solid #0B53C0"}},children:"+ Add Message"})]}),i?x.jsx(Be,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100px"},children:x.jsx(ji,{})}):x.jsx(FW,{messages:t,userDetails:r,navigate:c,handleDeleteMessage:o,togglePinMessage:a})]})},UW=()=>{const{userDetails:t,isSuperAdmin:i}=go(),[r,o]=ae.useState(!1),{messages:a,loading:c,deleteMessage:d,togglePinMessage:p}=bW(),m=(w,_)=>{_!=="clickaway"&&o(!1)},k=w=>{d(w)};return x.jsxs(Be,{sx:{flexGrow:1,padding:3},children:[x.jsxs(Zt,{container:!0,spacing:3,children:[x.jsx(Zt,{item:!0,xs:12,md:3,children:x.jsx(EW,{userDetails:t,isSuperAdmin:i})}),x.jsx(Zt,{item:!0,xs:12,md:9,children:x.jsx(zW,{messages:a,loading:c,userDetails:t,handleDeleteMessage:k,togglePinMessage:p})})]}),x.jsx(Il,{open:r,autoHideDuration:6e3,onClose:m,children:x.jsx(Pr,{onClose:m,severity:"success",sx:{width:"100%"},children:"User ID copied to clipboard!"})})]})};let jC;const qW=new Uint8Array(16);function VW(){if(!jC&&(jC=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!jC))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return jC(qW)}const xa=[];for(let t=0;t<256;++t)xa.push((t+256).toString(16).slice(1));function HW(t,i=0){return xa[t[i+0]]+xa[t[i+1]]+xa[t[i+2]]+xa[t[i+3]]+"-"+xa[t[i+4]]+xa[t[i+5]]+"-"+xa[t[i+6]]+xa[t[i+7]]+"-"+xa[t[i+8]]+xa[t[i+9]]+"-"+xa[t[i+10]]+xa[t[i+11]]+xa[t[i+12]]+xa[t[i+13]]+xa[t[i+14]]+xa[t[i+15]]}const $W=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),QM={randomUUID:$W};function nl(t,i,r){if(QM.randomUUID&&!t)return QM.randomUUID();t=t||{};const o=t.random||(t.rng||VW)();return o[6]=o[6]&15|64,o[8]=o[8]&63|128,HW(o)}var ZM;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(ZM||(ZM={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JM;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(JM||(JM={}));var XM;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(XM||(XM={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=["user","model","function","system"];var tN;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(tN||(tN={}));var nN;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(nN||(nN={}));var rN;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(rN||(rN={}));var iN;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(iN||(iN={}));var Ay;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(Ay||(Ay={}));var oN;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(oN||(oN={}));var sN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(sN||(sN={}));var aN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(aN||(aN={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl extends Error{constructor(i){super(`[GoogleGenerativeAI Error]: ${i}`)}}class T0 extends rl{constructor(i,r){super(i),this.response=r}}class fL extends rl{constructor(i,r,o,a){super(i),this.status=r,this.statusText=o,this.errorDetails=a}}class Lm extends rl{}class pL extends rl{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WW="https://generativelanguage.googleapis.com",GW="v1beta",YW="0.24.1",KW="genai-js";var cb;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(cb||(cb={}));class QW{constructor(i,r,o,a,c){this.model=i,this.task=r,this.apiKey=o,this.stream=a,this.requestOptions=c}toString(){var i,r;const o=((i=this.requestOptions)===null||i===void 0?void 0:i.apiVersion)||GW;let c=`${((r=this.requestOptions)===null||r===void 0?void 0:r.baseUrl)||WW}/${o}/${this.model}:${this.task}`;return this.stream&&(c+="?alt=sse"),c}}function ZW(t){const i=[];return t!=null&&t.apiClient&&i.push(t.apiClient),i.push(`${KW}/${YW}`),i.join(" ")}async function JW(t){var i;const r=new Headers;r.append("Content-Type","application/json"),r.append("x-goog-api-client",ZW(t.requestOptions)),r.append("x-goog-api-key",t.apiKey);let o=(i=t.requestOptions)===null||i===void 0?void 0:i.customHeaders;if(o){if(!(o instanceof Headers))try{o=new Headers(o)}catch(a){throw new Lm(`unable to convert customHeaders value ${JSON.stringify(o)} to Headers: ${a.message}`)}for(const[a,c]of o.entries()){if(a==="x-goog-api-key")throw new Lm(`Cannot set reserved header name ${a}`);if(a==="x-goog-api-client")throw new Lm(`Header name ${a} can only be set using the apiClient field`);r.append(a,c)}}return r}async function XW(t,i,r,o,a,c){const d=new QW(t,i,r,o,c);return{url:d.toString(),fetchOptions:Object.assign(Object.assign({},rG(c)),{method:"POST",headers:await JW(d),body:a})}}async function eA(t,i,r,o,a,c={},d=fetch){const{url:p,fetchOptions:m}=await XW(t,i,r,o,a,c);return eG(p,m,d)}async function eG(t,i,r=fetch){let o;try{o=await r(t,i)}catch(a){tG(a,t)}return o.ok||await nG(o,t),o}function tG(t,i){let r=t;throw r.name==="AbortError"?(r=new pL(`Request aborted when fetching ${i.toString()}: ${t.message}`),r.stack=t.stack):t instanceof fL||t instanceof Lm||(r=new rl(`Error fetching from ${i.toString()}: ${t.message}`),r.stack=t.stack),r}async function nG(t,i){let r="",o;try{const a=await t.json();r=a.error.message,a.error.details&&(r+=` ${JSON.stringify(a.error.details)}`,o=a.error.details)}catch{}throw new fL(`Error fetching from ${i.toString()}: [${t.status} ${t.statusText}] ${r}`,t.status,t.statusText,o)}function rG(t){const i={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const r=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>r.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{r.abort()}),i.signal=r.signal}return i}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),rx(t.candidates[0]))throw new T0(`${Cm(t)}`,t);return iG(t)}else if(t.promptFeedback)throw new T0(`Text not available. ${Cm(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),rx(t.candidates[0]))throw new T0(`${Cm(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),lN(t)[0]}else if(t.promptFeedback)throw new T0(`Function call not available. ${Cm(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),rx(t.candidates[0]))throw new T0(`${Cm(t)}`,t);return lN(t)}else if(t.promptFeedback)throw new T0(`Function call not available. ${Cm(t)}`,t)},t}function iG(t){var i,r,o,a;const c=[];if(!((r=(i=t.candidates)===null||i===void 0?void 0:i[0].content)===null||r===void 0)&&r.parts)for(const d of(a=(o=t.candidates)===null||o===void 0?void 0:o[0].content)===null||a===void 0?void 0:a.parts)d.text&&c.push(d.text),d.executableCode&&c.push("\n```"+d.executableCode.language+`
`+d.executableCode.code+"\n```\n"),d.codeExecutionResult&&c.push("\n```\n"+d.codeExecutionResult.output+"\n```\n");return c.length>0?c.join(""):""}function lN(t){var i,r,o,a;const c=[];if(!((r=(i=t.candidates)===null||i===void 0?void 0:i[0].content)===null||r===void 0)&&r.parts)for(const d of(a=(o=t.candidates)===null||o===void 0?void 0:o[0].content)===null||a===void 0?void 0:a.parts)d.functionCall&&c.push(d.functionCall);if(c.length>0)return c}const oG=[Ay.RECITATION,Ay.SAFETY,Ay.LANGUAGE];function rx(t){return!!t.finishReason&&oG.includes(t.finishReason)}function Cm(t){var i,r,o;let a="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)a+="Response was blocked",!((i=t.promptFeedback)===null||i===void 0)&&i.blockReason&&(a+=` due to ${t.promptFeedback.blockReason}`),!((r=t.promptFeedback)===null||r===void 0)&&r.blockReasonMessage&&(a+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((o=t.candidates)===null||o===void 0)&&o[0]){const c=t.candidates[0];rx(c)&&(a+=`Candidate was blocked due to ${c.finishReason}`,c.finishMessage&&(a+=`: ${c.finishMessage}`))}return a}function Oy(t){return this instanceof Oy?(this.v=t,this):new Oy(t)}function sG(t,i,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=r.apply(t,i||[]),a,c=[];return a={},d("next"),d("throw"),d("return"),a[Symbol.asyncIterator]=function(){return this},a;function d(C){o[C]&&(a[C]=function(v){return new Promise(function(D,E){c.push([C,v,D,E])>1||p(C,v)})})}function p(C,v){try{m(o[C](v))}catch(D){_(c[0][3],D)}}function m(C){C.value instanceof Oy?Promise.resolve(C.value.v).then(k,w):_(c[0][2],C)}function k(C){p("next",C)}function w(C){p("throw",C)}function _(C,v){C(v),c.shift(),c.length&&p(c[0][0],c[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function aG(t){const i=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=uG(i),[o,a]=r.tee();return{stream:cG(o),response:lG(a)}}async function lG(t){const i=[],r=t.getReader();for(;;){const{done:o,value:a}=await r.read();if(o)return W4(dG(i));i.push(a)}}function cG(t){return sG(this,arguments,function*(){const r=t.getReader();for(;;){const{value:o,done:a}=yield Oy(r.read());if(a)break;yield yield Oy(W4(o))}})}function uG(t){const i=t.getReader();return new ReadableStream({start(o){let a="";return c();function c(){return i.read().then(({value:d,done:p})=>{if(p){if(a.trim()){o.error(new rl("Failed to parse stream"));return}o.close();return}a+=d;let m=a.match(cN),k;for(;m;){try{k=JSON.parse(m[1])}catch{o.error(new rl(`Error parsing JSON response: "${m[1]}"`));return}o.enqueue(k),a=a.substring(m[0].length),m=a.match(cN)}return c()}).catch(d=>{let p=d;throw p.stack=d.stack,p.name==="AbortError"?p=new pL("Request aborted when reading from the stream"):p=new rl("Error reading from the stream"),p})}}})}function dG(t){const i=t[t.length-1],r={promptFeedback:i==null?void 0:i.promptFeedback};for(const o of t){if(o.candidates){let a=0;for(const c of o.candidates)if(r.candidates||(r.candidates=[]),r.candidates[a]||(r.candidates[a]={index:a}),r.candidates[a].citationMetadata=c.citationMetadata,r.candidates[a].groundingMetadata=c.groundingMetadata,r.candidates[a].finishReason=c.finishReason,r.candidates[a].finishMessage=c.finishMessage,r.candidates[a].safetyRatings=c.safetyRatings,c.content&&c.content.parts){r.candidates[a].content||(r.candidates[a].content={role:c.content.role||"user",parts:[]});const d={};for(const p of c.content.parts)p.text&&(d.text=p.text),p.functionCall&&(d.functionCall=p.functionCall),p.executableCode&&(d.executableCode=p.executableCode),p.codeExecutionResult&&(d.codeExecutionResult=p.codeExecutionResult),Object.keys(d).length===0&&(d.text=""),r.candidates[a].content.parts.push(d)}a++}o.usageMetadata&&(r.usageMetadata=o.usageMetadata)}return r}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mL(t,i,r,o){const a=await eA(i,cb.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(r),o);return aG(a)}async function gL(t,i,r,o){const c=await(await eA(i,cb.GENERATE_CONTENT,t,!1,JSON.stringify(r),o)).json();return{response:W4(c)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function By(t){let i=[];if(typeof t=="string")i=[{text:t}];else for(const r of t)typeof r=="string"?i.push({text:r}):i.push(r);return hG(i)}function hG(t){const i={role:"user",parts:[]},r={role:"function",parts:[]};let o=!1,a=!1;for(const c of t)"functionResponse"in c?(r.parts.push(c),a=!0):(i.parts.push(c),o=!0);if(o&&a)throw new rl("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!o&&!a)throw new rl("No content is provided for sending chat message.");return o?i:r}function fG(t,i){var r;let o={model:i==null?void 0:i.model,generationConfig:i==null?void 0:i.generationConfig,safetySettings:i==null?void 0:i.safetySettings,tools:i==null?void 0:i.tools,toolConfig:i==null?void 0:i.toolConfig,systemInstruction:i==null?void 0:i.systemInstruction,cachedContent:(r=i==null?void 0:i.cachedContent)===null||r===void 0?void 0:r.name,contents:[]};const a=t.generateContentRequest!=null;if(t.contents){if(a)throw new Lm("CountTokensRequest must have one of contents or generateContentRequest, not both.");o.contents=t.contents}else if(a)o=Object.assign(Object.assign({},o),t.generateContentRequest);else{const c=By(t);o.contents=[c]}return{generateContentRequest:o}}function uN(t){let i;return t.contents?i=t:i={contents:[By(t)]},t.systemInstruction&&(i.systemInstruction=bL(t.systemInstruction)),i}function pG(t){return typeof t=="string"||Array.isArray(t)?{content:By(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],mG={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function gG(t){let i=!1;for(const r of t){const{role:o,parts:a}=r;if(!i&&o!=="user")throw new rl(`First content should be with role 'user', got ${o}`);if(!eN.includes(o))throw new rl(`Each item should include role field. Got ${o} but valid roles are: ${JSON.stringify(eN)}`);if(!Array.isArray(a))throw new rl("Content should have 'parts' property with an array of Parts");if(a.length===0)throw new rl("Each Content should have at least one part");const c={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const p of a)for(const m of dN)m in p&&(c[m]+=1);const d=mG[o];for(const p of dN)if(!d.includes(p)&&c[p]>0)throw new rl(`Content with role '${o}' can't contain '${p}' part`);i=!0}}function hN(t){var i;if(t.candidates===void 0||t.candidates.length===0)return!1;const r=(i=t.candidates[0])===null||i===void 0?void 0:i.content;if(r===void 0||r.parts===void 0||r.parts.length===0)return!1;for(const o of r.parts)if(o===void 0||Object.keys(o).length===0||o.text!==void 0&&o.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN="SILENT_ERROR";class bG{constructor(i,r,o,a={}){this.model=r,this.params=o,this._requestOptions=a,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=i,o!=null&&o.history&&(gG(o.history),this._history=o.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(i,r={}){var o,a,c,d,p,m;await this._sendPromise;const k=By(i),w={safetySettings:(o=this.params)===null||o===void 0?void 0:o.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(c=this.params)===null||c===void 0?void 0:c.tools,toolConfig:(d=this.params)===null||d===void 0?void 0:d.toolConfig,systemInstruction:(p=this.params)===null||p===void 0?void 0:p.systemInstruction,cachedContent:(m=this.params)===null||m===void 0?void 0:m.cachedContent,contents:[...this._history,k]},_=Object.assign(Object.assign({},this._requestOptions),r);let C;return this._sendPromise=this._sendPromise.then(()=>gL(this._apiKey,this.model,w,_)).then(v=>{var D;if(hN(v.response)){this._history.push(k);const E=Object.assign({parts:[],role:"model"},(D=v.response.candidates)===null||D===void 0?void 0:D[0].content);this._history.push(E)}else{const E=Cm(v.response);E&&console.warn(`sendMessage() was unsuccessful. ${E}. Inspect response object for details.`)}C=v}).catch(v=>{throw this._sendPromise=Promise.resolve(),v}),await this._sendPromise,C}async sendMessageStream(i,r={}){var o,a,c,d,p,m;await this._sendPromise;const k=By(i),w={safetySettings:(o=this.params)===null||o===void 0?void 0:o.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(c=this.params)===null||c===void 0?void 0:c.tools,toolConfig:(d=this.params)===null||d===void 0?void 0:d.toolConfig,systemInstruction:(p=this.params)===null||p===void 0?void 0:p.systemInstruction,cachedContent:(m=this.params)===null||m===void 0?void 0:m.cachedContent,contents:[...this._history,k]},_=Object.assign(Object.assign({},this._requestOptions),r),C=mL(this._apiKey,this.model,w,_);return this._sendPromise=this._sendPromise.then(()=>C).catch(v=>{throw new Error(fN)}).then(v=>v.response).then(v=>{if(hN(v)){this._history.push(k);const D=Object.assign({},v.candidates[0].content);D.role||(D.role="model"),this._history.push(D)}else{const D=Cm(v);D&&console.warn(`sendMessageStream() was unsuccessful. ${D}. Inspect response object for details.`)}}).catch(v=>{v.message!==fN&&console.error(v)}),C}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kG(t,i,r,o){return(await eA(i,cb.COUNT_TOKENS,t,!1,JSON.stringify(r),o)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wG(t,i,r,o){return(await eA(i,cb.EMBED_CONTENT,t,!1,JSON.stringify(r),o)).json()}async function vG(t,i,r,o){const a=r.requests.map(d=>Object.assign(Object.assign({},d),{model:i}));return(await eA(i,cb.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:a}),o)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(i,r,o={}){this.apiKey=i,this._requestOptions=o,r.model.includes("/")?this.model=r.model:this.model=`models/${r.model}`,this.generationConfig=r.generationConfig||{},this.safetySettings=r.safetySettings||[],this.tools=r.tools,this.toolConfig=r.toolConfig,this.systemInstruction=bL(r.systemInstruction),this.cachedContent=r.cachedContent}async generateContent(i,r={}){var o;const a=uN(i),c=Object.assign(Object.assign({},this._requestOptions),r);return gL(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(o=this.cachedContent)===null||o===void 0?void 0:o.name},a),c)}async generateContentStream(i,r={}){var o;const a=uN(i),c=Object.assign(Object.assign({},this._requestOptions),r);return mL(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(o=this.cachedContent)===null||o===void 0?void 0:o.name},a),c)}startChat(i){var r;return new bG(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),this._requestOptions)}async countTokens(i,r={}){const o=fG(i,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),a=Object.assign(Object.assign({},this._requestOptions),r);return kG(this.apiKey,this.model,o,a)}async embedContent(i,r={}){const o=pG(i),a=Object.assign(Object.assign({},this._requestOptions),r);return wG(this.apiKey,this.model,o,a)}async batchEmbedContents(i,r={}){const o=Object.assign(Object.assign({},this._requestOptions),r);return vG(this.apiKey,this.model,i,o)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(i){this.apiKey=i}getGenerativeModel(i,r){if(!i.model)throw new rl("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new pN(this.apiKey,i,r)}getGenerativeModelFromCachedContent(i,r,o){if(!i.name)throw new Lm("Cached content must contain a `name` field.");if(!i.model)throw new Lm("Cached content must contain a `model` field.");const a=["model","systemInstruction"];for(const d of a)if(r!=null&&r[d]&&i[d]&&(r==null?void 0:r[d])!==i[d]){if(d==="model"){const p=r.model.startsWith("models/")?r.model.replace("models/",""):r.model,m=i.model.startsWith("models/")?i.model.replace("models/",""):i.model;if(p===m)continue}throw new Lm(`Different value for "${d}" specified in modelParams (${r[d]}) and cachedContent (${i[d]})`)}const c=Object.assign(Object.assign({},r),{model:i.model,tools:i.tools,toolConfig:i.toolConfig,systemInstruction:i.systemInstruction,cachedContent:i});return new pN(this.apiKey,c,o)}}var _3={exports:{}},mN;function yG(){return mN||(mN=1,(()=>{var t={d:(c,d)=>{for(var p in d)t.o(d,p)&&!t.o(c,p)&&Object.defineProperty(c,p,{enumerable:!0,get:d[p]})},o:(c,d)=>Object.prototype.hasOwnProperty.call(c,d),r:c=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})}},i={};function r(c,d){for(var p=0;p<d.length;p++){var m=d[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(c,m.key,m)}}t.r(i),t.d(i,{default:()=>a});var o=function(){function c(){(function(m,k){if(!(m instanceof k))throw new TypeError("Cannot call a class as a function")})(this,c)}var d,p;return d=c,p=[{key:"changeHeightWidth",value:function(m,k,w,_,C,v){return w>_&&(m=Math.round(m*_/w),w=_),m>k&&(w=Math.round(w*k/m),m=k),C&&w<C&&(m=Math.round(m*C/w),w=C),v&&m<v&&(w=Math.round(w*v/m),m=v),{height:m,width:w}}},{key:"resizeAndRotateImage",value:function(m,k,w,_,C){var v=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"jpeg",D=arguments.length>6&&arguments[6]!==void 0?arguments[6]:100,E=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,O=D/100,M=document.createElement("canvas"),j=m.width,F=m.height,G=this.changeHeightWidth(F,w,j,k,_,C);!E||E!==90&&E!==270?(M.width=G.width,M.height=G.height):(M.width=G.height,M.height=G.width),j=G.width,F=G.height;var J=M.getContext("2d");return J.fillStyle="rgba(0, 0, 0, 0)",J.fillRect(0,0,j,F),J.imageSmoothingEnabled&&J.imageSmoothingQuality&&(J.imageSmoothingQuality="high"),E&&(J.rotate(E*Math.PI/180),E===90?J.translate(0,-M.width):E===180?J.translate(-M.width,-M.height):E===270?J.translate(-M.height,0):E!==0&&E!==360||J.translate(0,0)),J.drawImage(m,0,0,j,F),M.toDataURL("image/".concat(v),O)}},{key:"b64toByteArrays",value:function(m,k){for(var w=atob(m.toString().replace(/^data:image\/(png|jpeg|jpg|webp);base64,/,"")),_=[],C=0;C<w.length;C+=512){for(var v=w.slice(C,C+512),D=new Array(v.length),E=0;E<v.length;E++)D[E]=v.charCodeAt(E);var O=new Uint8Array(D);_.push(O)}return _}},{key:"b64toBlob",value:function(m,k){var w=this.b64toByteArrays(m,k);return new Blob(w,{type:k,lastModified:new Date})}},{key:"b64toFile",value:function(m,k,w){var _=this.b64toByteArrays(m,w);return new File(_,k,{type:w,lastModified:new Date})}},{key:"createResizedImage",value:function(m,k,w,_,C,v,D){var E=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"base64",O=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,M=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,j=new FileReader;if(!m)throw Error("File Not Found!");if(m.type&&!m.type.includes("image"))throw Error("File Is NOT Image!");j.readAsDataURL(m),j.onload=function(){var F=new Image;F.src=j.result,F.onload=function(){var G=c.resizeAndRotateImage(F,k,w,O,M,_,C,v),J="image/".concat(_);switch(E){case"blob":var H=c.b64toBlob(G,J);D(H);break;case"base64":D(G);break;case"file":var z=m.name.toString().replace(/(png|jpeg|jpg|webp)$/i,"").concat(_.toString()),Z=c.b64toFile(G,z,J);D(Z);break;default:D(G)}}},j.onerror=function(F){throw Error(F)}}}],p&&r(d,p),c}();const a={imageFileResizer:function(c,d,p,m,k,w,_,C,v,D){return o.createResizedImage(c,d,p,m,k,w,_,C,v,D)}};_3.exports=i})()),_3.exports}var AG=yG();const wL=Si(AG),_G=(t,i=5*1024*1024)=>new Promise((r,o)=>{var C;const a=((C=t.type.split("/")[1])==null?void 0:C.toLowerCase())||"unknown";if(t.size<=i&&(a==="jpeg"||a==="png"||a==="webp")){console.log(` Image already optimized: ${t.size} bytes, format: ${a}`),r({blob:t,format:a==="jpeg"?"jpg":a});return}const c=t.size>i;console.log(` Processing image: ${t.size} bytes, format: ${a}, compress: ${c}`);const d=new File([t],`image.${a}`,{type:t.type});let p="JPEG",m="jpg";(a==="png"||a==="gif")&&(p="PNG",m="png");const k=c?60:75,w=c?600:800,_=setTimeout(()=>{o(new Error("Image compression timed out after 10 seconds"))},1e4);wL.imageFileResizer(d,w,w,p,k,0,v=>{clearTimeout(_),v instanceof Blob?(console.log(` Image compressed: ${t.size}  ${v.size} bytes (${((1-v.size/t.size)*100).toFixed(1)}% reduction)`),r({blob:v,format:m})):o(new Error("Compression failed - unexpected result type"))},"blob")}),CG=async(t,i,r,o=3,a=15e3)=>{const c=Hm();for(let d=1;d<=o;d++)try{const{blob:p,format:m}=await _G(t),k=`${i}_${nl()}.${m}`,w=async()=>{const v=Qd(c,`materials/${r}/${k}`),D=await Bm(v,p);return{url:await rp(D.ref),path:D.ref.fullPath,filename:k,originalSize:t.size,compressedSize:p.size}},_=new Promise((v,D)=>{setTimeout(()=>D(new Error(`Upload timeout after ${a}ms`)),a)}),C=await Promise.race([w(),_]);return console.log(`Successfully uploaded image: ${C.filename} (attempt ${d})`,{originalSize:C.originalSize,compressedSize:C.compressedSize,url:C.url}),{url:C.url,path:C.path}}catch(p){const m=p instanceof Error?p.message:"Unknown error";if(console.warn(`Upload attempt ${d}/${o} failed for ${i}: ${m}`),d===o)throw console.error(`All ${o} upload attempts failed for ${i}:`,p),new Error(`Image upload failed after ${o} attempts: ${m}`);const k=Math.min(1e3*Math.pow(2,d-1),5e3);console.log(`Waiting ${k}ms before retry...`),await new Promise(w=>setTimeout(w,k))}throw new Error("Upload failed - should not reach here")},C3=t=>{const r=`
    <svg width="400" height="300" xmlns="http://www.w3.org/2000/svg">
      <rect width="100%" height="100%" fill="#f44336"/>
      <text x="50%" y="45%" font-family="Arial, sans-serif" font-size="12" fill="white" text-anchor="middle" dominant-baseline="middle">
        Upload Failed
      </text>
      <text x="50%" y="55%" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle" dominant-baseline="middle">
        ${t.replace(/[^\u0020-\u00FF]/g,"?").substring(0,30)}
      </text>
    </svg>
  `;try{return`data:image/svg+xml;base64,${btoa(r)}`}catch(o){return console.error("Failed to create fallback placeholder:",o),`data:image/svg+xml,${encodeURIComponent(r)}`}},xG=async(t,i,r,o=3)=>{const a=t.filter(m=>m.imageBlob),c=[];console.log(`Starting batch upload of ${a.length} images (batch size: ${o})`);for(let m=0;m<a.length;m+=o){const k=Math.min(m+o,a.length),w=a.slice(m,k);console.log(`Processing batch ${Math.floor(m/o)+1}/${Math.ceil(a.length/o)} (images ${m+1}-${k})`);const _=w.map(async(C,v)=>{const D=m+v;console.log(` Starting upload for image ${D+1}/${a.length} (slide ${C.slideNumber})`);try{const E=`slide_${C.slideNumber}_image_${D+1}`,O=CG(C.imageBlob,E,i,2,1e4),M=new Promise((F,G)=>{setTimeout(()=>{G(new Error(`Individual image timeout after 15 seconds for image ${D+1}`))},15e3)}),{url:j}=await Promise.race([O,M]);return console.log(` Successfully processed image ${D+1}/${a.length}`),{url:j,title:C.description||`Image from Slide ${C.slideNumber}`,originalFilename:C.filename,slideNumber:C.slideNumber,index:D}}catch(E){return console.error(` Failed to upload image ${D+1}/${a.length} from slide ${C.slideNumber}:`,E),{url:C3(C.description||`Image from Slide ${C.slideNumber}`),title:C.description||`Image from Slide ${C.slideNumber}`,originalFilename:C.filename,slideNumber:C.slideNumber,index:D}}});try{console.log(` Waiting for batch ${Math.floor(m/o)+1} to complete...`);const C=2e4,v=new Promise((E,O)=>{setTimeout(()=>{O(new Error(`Batch ${Math.floor(m/o)+1} timeout after ${C}ms`))},C)}),D=await Promise.race([Promise.allSettled(_),v]);console.log(` Batch ${Math.floor(m/o)+1} completed, processing ${D.length} results...`),D.forEach((E,O)=>{const M=m+O;if(E.status==="fulfilled")c.push(E.value),console.log(` Image ${M+1}/${a.length} uploaded successfully`);else{console.error(` Image ${M+1}/${a.length} failed:`,E.reason);const j=w[O];c.push({url:C3(j.description||`Image from Slide ${j.slideNumber}`),title:j.description||`Image from Slide ${j.slideNumber}`,originalFilename:j.filename,slideNumber:j.slideNumber})}r==null||r(M+1,a.length)})}catch(C){console.error(` Batch ${Math.floor(m/o)+1} failed or timed out:`,C),w.forEach((v,D)=>{const E=m+D;console.log(` Creating fallback for timed out image ${E+1}/${a.length}`),c.push({url:C3(v.description||`Image from Slide ${v.slideNumber}`),title:v.description||`Image from Slide ${v.slideNumber}`,originalFilename:v.filename,slideNumber:v.slideNumber}),r==null||r(E+1,a.length)})}k<a.length&&(console.log(" Waiting 1 second before next batch..."),await new Promise(C=>setTimeout(C,1e3)))}c.sort((m,k)=>(m.index||0)-(k.index||0));const d=c.filter(m=>!m.url.startsWith("data:")).length,p=c.length-d;return console.log(`Upload complete: ${d} successful, ${p} failed out of ${c.length} total`),c};class SG{constructor(i){Jt(this,"genAI");Jt(this,"model");Jt(this,"activeBlobUrls",new Set);this.genAI=new kL(i),this.model=this.genAI.getGenerativeModel({model:"gemini-1.5-pro",generationConfig:{temperature:.2,topK:3,topP:.9,maxOutputTokens:16384}})}cleanupBlobUrls(){this.activeBlobUrls.forEach(i=>{URL.revokeObjectURL(i)}),this.activeBlobUrls.clear()}createTrackedBlobUrl(i){const r=URL.createObjectURL(i);return this.activeBlobUrls.add(r),r}async processMaterialContent(i,r,o,a,c,d){if(!(i!=null&&i.trim()))throw new Error("No content provided for processing");c==null||c({stage:"analyzing",percentage:20,currentOperation:"Analyzing document structure..."});const p=i.length,m=Math.ceil(p/4);if(p>15e3||m>4e3){console.log(`Document is large (${p} chars, ~${m} tokens), using chunked processing`);const k=i.substring(0,15e3);return console.log("Truncating input to prevent AI response truncation"),this.processSingleMaterial(k+`

[Content truncated for processing]`,r,o,a,c,d)}return this.processSingleMaterial(i,r,o,a,c,d)}async processSingleMaterial(i,r,o,a,c,d){const p=this.buildMaterialAnalysisPrompt(i,r,o,a,d);c==null||c({stage:"analyzing",percentage:40,currentOperation:"Processing with AI..."});try{const w=(await(await this.model.generateContent(p)).response).text();if(!w||w.trim().length===0)throw new Error("Empty response from AI service");c==null||c({stage:"structuring",percentage:70,currentOperation:"Structuring content..."});let _=w.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();console.log("Raw response text (first 1000 chars):",w.substring(0,1e3)),console.log("Cleaned text (first 1000 chars):",_.substring(0,1e3)),_=this.repairTruncatedJSON(_);let C;try{C=JSON.parse(_)}catch(v){throw console.error("JSON parsing failed:",v),console.error("Raw response text (first 1000 chars):",w.substring(0,1e3)),console.error("Cleaned text (first 1000 chars):",_.substring(0,1e3)),new Error("AI response format invalid - unable to parse JSON")}if(!C||typeof C!="object")throw new Error("AI response is not a valid object");return c==null||c({stage:"complete",percentage:100,currentOperation:"Processing complete!"}),this.validateAndSanitizeMaterialResponse(C,r,o)}catch(m){if(console.error("Material Import AI Error:",m),c==null||c({stage:"error",percentage:0,currentOperation:`Error: ${m instanceof Error?m.message:"Unknown error"}`}),m instanceof Error){if(m.message.includes("API_KEY_INVALID")||m.message.includes("API key"))throw new Error("Invalid API key. Please check your material import API key configuration.");if(m.message.includes("RATE_LIMIT_EXCEEDED"))throw new Error("Rate limit exceeded. Please try again in a few minutes.");if(m.message.includes("SAFETY"))throw new Error("Content flagged by safety filters. Please try with different content.")}throw new Error(`Material processing failed: ${m instanceof Error?m.message:"Unknown error"}`)}}async processLargeMaterial(i,r,o,a,c){c==null||c({stage:"analyzing",percentage:10,currentOperation:"Processing large document with chunking..."});const d=this.chunkMaterialText(i);let p=null;const m=[];c==null||c({stage:"analyzing",percentage:30,currentOperation:`Processing main content (1/${d.length})...`,subSteps:{current:1,total:d.length,description:"Analyzing primary structure"}}),p=await this.processSingleMaterial(d[0],r,o,a);for(let w=1;w<d.length;w++){c==null||c({stage:"analyzing",percentage:30+40*w/d.length,currentOperation:`Processing additional content (${w+1}/${d.length})...`,subSteps:{current:w+1,total:d.length,description:"Extracting supplementary details"}});try{const _=await this.processChunkForAdditionalContent(d[w],r,o);_&&m.push(_)}catch(_){console.warn(`Failed to process chunk ${w+1}:`,_)}}c==null||c({stage:"structuring",percentage:80,currentOperation:"Merging content from all sections..."});const k=this.mergeChunkedMaterialResults(p,m);return c==null||c({stage:"complete",percentage:100,currentOperation:"Large document processing complete!"}),k}buildMaterialAnalysisPrompt(i,r,o,a,c){const d=this.getFileTypeContext(o);return`
Analyze this ${d} educational material and extract structured information for course content management.

File: ${r}
Type: ${o}

CONTENT:
${i}

${c!=null&&c.images&&c.images.length>0?`
DETECTED IMAGES:
${c.images.map((p,m)=>`${m+1}. ${p.description||`Image ${m+1}`}${p.slideNumber?` (Slide ${p.slideNumber})`:""}${p.altText?` - ${p.altText}`:""}`).join(`
`)}

CRITICAL IMAGE PLACEMENT INSTRUCTIONS:
- Each image MUST be placed in the section corresponding to its slide number
- If "Image X (Slide Y)" is detected, place it in the section created from Slide Y content
- Each image should have a unique, descriptive title based on its context
- Include slideNumber property in each image object for proper matching
- DO NOT reuse the same image in multiple sections
`:""}

Please extract and structure this content into a comprehensive educational material format. Focus on:

1. **Document Structure**: Identify main topics, subtopics, and hierarchical organization
2. **Content Quality**: Preserve important educational information and context
3. **Visual Elements**: Note references to images, diagrams, charts (even if not extractable)
4. **Links and Resources**: Extract any URLs, references, or external resources mentioned
5. **Learning Context**: Maintain educational value and logical flow

${d==="presentation slide deck"?`
SPECIAL INSTRUCTIONS FOR PRESENTATIONS:
- Each slide should become a section or subsection
- Preserve slide order and hierarchy
- Note slide titles and main content points
- Identify slide transitions and logical groupings
- Extract speaker notes or additional context if present
`:""}

Return ONLY a JSON object with this exact structure:
{
  "title": "Material title (extracted from content or filename)",
  "description": "Brief description of the material content",
  "header": {
    "title": "Introduction or Overview",
    "content": "HTML formatted introductory content"
  },
  "footer": {
    "title": "Summary or Conclusion", 
    "content": "HTML formatted concluding content"
  },
  "sections": [
    {
      "title": "Section Title",
      "content": "HTML formatted main section content",
      "subsections": [
        {
          "title": "Subsection Title",
          "content": "HTML formatted subsection content",
          "subSubsections": [
            {
              "title": "Sub-subsection Title",
              "content": "HTML formatted detailed content",
              "images": [{"url": "", "title": "Image description", "description": "Context or caption", "slideNumber": 2}],
              "links": [{"title": "Link title", "url": "URL if available", "description": "Link context"}]
            }
          ],
          "images": [{"url": "", "title": "Image description", "description": "Context or caption", "slideNumber": 3}],
          "links": [{"title": "Link title", "url": "URL if available", "description": "Link context"}]
        }
      ],
      "images": [{"url": "", "title": "Image description", "description": "Context or caption", "slideNumber": 4}],
      "links": [{"title": "Link title", "url": "URL if available", "description": "Link context"}]
    }
  ],
  "sourceInfo": {
    "fileName": "${r}",
    "fileType": "${o}",
    "extractedAt": "${new Date().toISOString()}",
    "originalFileReference": "Reference to original file for debugging"
  },
  "images": [{"url": "", "title": "Overall image description", "description": "Context", "slideNumber": 1}],
  "links": [{"title": "Overall link title", "url": "URL", "description": "Link context"}]
}

CRITICAL JSON FORMATTING RULES:
- Return ONLY valid JSON - no comments, no explanations, no additional text
- Use proper HTML tags for content formatting (<p>, <h1>-<h6>, <ul>, <ol>, <li>, <strong>, <em>, <br>)
- Preserve educational structure and hierarchy
- Create logical sections based on content organization
- For images: Use EMPTY STRINGS for URLs ("url": "") with descriptive titles, context, and slideNumber property
-- IMPORTANT: Each image object MUST include "slideNumber" property matching the source slide
-- NEVER use placeholder filenames like "placeholder_image_1.png" - always use empty strings for URLs
- For links: Extract actual URLs when present, provide context
- Complete ALL sections and subsections - do not use comments like "// ... continue"
- Ensure all JSON arrays and objects are properly closed
- Maintain educational value and readability

IMPORTANT: Your response must be complete, valid JSON that can be parsed directly. Do not include any explanatory text, comments, or incomplete sections. End your response when the JSON object is complete.
`}async processChunkForAdditionalContent(i,r,o){const a=`
Extract additional educational content from this section of the material:

File: ${r}
Type: ${o}

CONTENT:
${i}

Focus on extracting any additional sections, detailed information, or supplementary content that should be included in the educational material.

Return ONLY a JSON object with additional sections, images, or links:
{
  "sections": [...],
  "images": [...],
  "links": [...]
}
`;try{const p=(await(await this.model.generateContent(a)).response).text();if(!p||p.trim().length===0)return null;let m;try{m=this.extractValidJSON(p)}catch(k){try{m=this.fallbackJSONExtraction(p)}catch{throw k}}return JSON.parse(m)}catch(c){return console.warn("Failed to process additional content chunk:",c),null}}chunkMaterialText(i,r=25e3){const o=[],a=i.split(`
`);let c="";for(const d of a)c.length+d.length>r&&c.length>0?(o.push(c.trim()),c=d):c+=(c?`
`:"")+d;return c.trim()&&o.push(c.trim()),o.length>0?o:[i]}mergeChunkedMaterialResults(i,r){const o={...i};for(const a of r)a.sections&&Array.isArray(a.sections)&&(o.sections=[...o.sections,...a.sections]),a.images&&Array.isArray(a.images)&&(o.images=[...o.images||[],...a.images]),a.links&&Array.isArray(a.links)&&(o.links=[...o.links||[],...a.links]);return o}extractValidJSON(i){let r=i.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();r=r.replace(/\/\/.*$/gm,"").replace(/\/\*[\s\S]*?\*\//g,"");const o=r.indexOf("{");if(o===-1)throw new Error("No JSON object found in response");r=r.substring(o);let a=0,c=-1,d=!1,p=!1;for(let w=0;w<r.length;w++){const _=r[w];if(p){p=!1;continue}if(_==="\\"){p=!0;continue}if(_==='"'&&!p){d=!d;continue}if(!d){if(_==="{")a++;else if(_==="}"&&(a--,a===0)){c=w+1;break}}}if(c===-1)throw new Error("No matching closing brace found for JSON object");let m=r.substring(0,c);m=m.replace(/,(\s*[}\]])/g,"$1"),this.detectTruncatedJSON(m)&&(console.warn("Detected truncated JSON response, attempting repair"),m=this.attemptJSONRepair(m));try{return JSON.parse(m),m}catch(w){console.warn("Initial JSON parsing failed, attempting to fix common issues:",w);const _=this.attemptJSONRepair(m);try{return JSON.parse(_),_}catch(C){throw console.error("JSON repair failed:",C),new Error(`Invalid JSON structure: ${C.message}`)}}}detectTruncatedJSON(i){const r=i.trim(),o=[/"[^"]*$/,/:\s*$/,/,\s*$/,/"[a-zA-Z]+\w*$/,/[a-zA-Z]+\w*$/,/\[\s*$/,/{\s*$/];for(const c of o)if(c.test(r))return console.log(`Truncation detected: ${c.toString()}`),!0;const a=r.charAt(r.length-1);return a!=="}"&&a!=="]"?(console.log(`Truncation detected: JSON doesn't end with } or ], ends with: "${a}"`),!0):!1}detectTruncatedResponse(i){const o=i.trim().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim(),a=[/"[^"]*$/,/\w+$/,/:\s*$/,/,\s*$/,!o.endsWith("}"),!o.endsWith("]"),o.length<500];for(let c=0;c<a.length-1;c++){const d=a[c];if(d instanceof RegExp&&d.test(o))return!0}return!!(a[a.length-3]||a[a.length-2]||a[a.length-1])}attemptJSONRepair(i){let r=i;const o=r.split(`
`),a=[];for(const k of o){const w=k.trim();w.startsWith("//")||w.includes("... (Continue")||w.includes("continue structuring")||w.includes("similarly")||a.push(k)}r=a.join(`
`),r=r.replace(/,(\s*[}\]])/g,"$1");const c=(r.match(/{/g)||[]).length,d=(r.match(/}/g)||[]).length,p=(r.match(/\[/g)||[]).length,m=(r.match(/\]/g)||[]).length;for(let k=0;k<c-d;k++)r+="}";for(let k=0;k<p-m;k++)r+="]";return r}fallbackJSONExtraction(i){console.log("Attempting fallback JSON extraction...");let r=i.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();r=r.replace(/\/\/.*$/gm,"").replace(/\/\*[\s\S]*?\*\//g,"");const o=r.indexOf("{");if(o===-1)throw new Error("No JSON object found in response");r=r.substring(o);const a=[/}\s*$/m,/}\s*\n\s*[A-Z]/m,/}\s*\n\s*This/m,/}\s*\n\s*Note:/m];let c=-1;for(const p of a){const m=r.match(p);if(m&&m.index!==void 0){const k=m.index+m[0].indexOf("}")+1;(c===-1||k<c)&&(c=k)}}c>0&&(r=r.substring(0,c));const d=this.attemptJSONRepair(r);try{return JSON.parse(d),d}catch{return console.log("Attempting aggressive JSON repair..."),this.aggressiveJSONRepair(r)}}aggressiveJSONRepair(i){let r=i;const o=r.split(`
`),a=[];for(const k of o){const w=k.trim();if(w.startsWith("//")||w.includes("... (")||w.includes("continue")||w.includes("similarly")||w.includes("Remember to")||w.includes("This structure")||w.length>0&&!w.includes('"')&&!w.includes("{")&&!w.includes("}")&&!w.includes("[")&&!w.includes("]"))break;a.push(k)}r=a.join(`
`),r=r.replace(/,(\s*[}\]])/g,"$1");const c=(r.match(/{/g)||[]).length,d=(r.match(/}/g)||[]).length,p=(r.match(/\[/g)||[]).length,m=(r.match(/\]/g)||[]).length;for(let k=0;k<c-d;k++)r+=`
}`;for(let k=0;k<p-m;k++)r+=`
]`;return r=r.replace(/,(\s*[}\]])/g,"$1"),r}repairTruncatedJSON(i){let r=i;const o=r.split(`
`),a=[];for(const k of o){const w=k.trim();if(w.length===0){a.push(k);continue}if(w.match(/^"[^"]*$/)){a.push('"": ""');break}if(w.match(/:\s*"[^"]*$/)){a.push(w.replace(/:\s*"[^"]*$/,': ""'));break}if(w.match(/^[a-zA-Z]+\w*$/))break;a.push(k)}r=a.join(`
`),r=r.replace(/,(\s*[}\]])/g,"$1"),r=r.replace(/,\s*$/,"");const c=(r.match(/{/g)||[]).length,d=(r.match(/}/g)||[]).length,p=(r.match(/\[/g)||[]).length,m=(r.match(/\]/g)||[]).length;console.log(`JSON structure analysis: ${c} open braces, ${d} close braces, ${p} open brackets, ${m} close brackets`);for(let k=0;k<p-m;k++)r+=`
]`;for(let k=0;k<c-d;k++)r+=`
}`;return r=r.replace(/,(\s*[}\]])/g,"$1"),console.log("Repaired JSON (first 1000 chars):",r.substring(0,1e3)),r}getFileTypeContext(i){const r=i.toLowerCase();return r.includes("presentation")||r.includes("powerpoint")||r.includes("pptx")?"presentation slide deck":r.includes("pdf")?"PDF document":r.includes("word")||r.includes("docx")?"Word document":"document"}validateAndSanitizeMaterialResponse(i,r,o){var c,d,p,m,k;const a={title:i.title||r.replace(/\.[^/.]+$/,"")||"Untitled Material",description:i.description||"",header:{title:((c=i.header)==null?void 0:c.title)||"Introduction",content:((d=i.header)==null?void 0:d.content)||""},footer:{title:((p=i.footer)==null?void 0:p.title)||"Summary",content:((m=i.footer)==null?void 0:m.content)||""},sections:[],sourceInfo:{fileName:r,fileType:o,extractedAt:new Date().toISOString(),originalFileReference:((k=i.sourceInfo)==null?void 0:k.originalFileReference)||r},images:Array.isArray(i.images)?i.images:[],links:Array.isArray(i.links)?i.links:[]};return Array.isArray(i.sections)&&(a.sections=i.sections.map(w=>({title:w.title||"Section",content:w.content||"",subsections:Array.isArray(w.subsections)?w.subsections.map(_=>({title:_.title||"Subsection",content:_.content||"",subSubsections:Array.isArray(_.subSubsections)?_.subSubsections.map(C=>({title:C.title||"Sub-subsection",content:C.content||"",images:Array.isArray(C.images)?C.images:[],links:Array.isArray(C.links)?C.links:[]})):[],images:Array.isArray(_.images)?_.images:[],links:Array.isArray(_.links)?_.links:[]})):[],images:Array.isArray(w.images)?w.images:[],links:Array.isArray(w.links)?w.links:[]}))),a.sections.length===0&&a.sections.push({title:"Main Content",content:"Content extracted from the uploaded material.",subsections:[],images:[],links:[]}),a}convertToMaterialFormat(i,r,o,a){const c=(m,k=400,w=300)=>{const _=m.replace(/[^\u0020-\u00FF]/g,"?").substring(0,30),C=`
        <svg width="${k}" height="${w}" xmlns="http://www.w3.org/2000/svg">
          <rect width="100%" height="100%" fill="#4a90e2"/>
          <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle" dominant-baseline="middle">
            ${_}
          </text>
        </svg>
      `;try{return`data:image/svg+xml;base64,${btoa(C)}`}catch(v){return console.error("Failed to create placeholder image URL:",v),`data:image/svg+xml,${encodeURIComponent(C)}`}},d=m=>{const k=new Map;a!=null&&a.images&&a.images.forEach(v=>{v.slideNumber&&v.imageBlob&&(k.has(v.slideNumber)||k.set(v.slideNumber,[]),k.get(v.slideNumber).push(v))});const w=new Map,_=(m==null?void 0:m.map((v,D)=>{let E="";if(v.slideNumber&&k.has(v.slideNumber)){const M=k.get(v.slideNumber);w.has(v.slideNumber)||w.set(v.slideNumber,new Set);const j=w.get(v.slideNumber);let F=null;if(v.title||v.description){const G=(v.title||v.description).toLowerCase();F=M.find(J=>{const H=(J.description||"").toLowerCase();return!j.has(J.embedId||"")&&H.includes(G.split(" ")[0])})||null}if(F||(F=M.find(G=>!j.has(G.embedId||""))||null),!F&&M.length>0){const G=D%M.length;F=M[G]}F!=null&&F.imageBlob&&(F.embedId&&j.add(F.embedId),E=this.createTrackedBlobUrl(F.imageBlob),console.log(`Using extracted image blob for slide ${v.slideNumber} (${j.size}/${M.length}):`,{slideNumber:v.slideNumber,imageIndex:D,embedId:F.embedId,blobSize:F.imageBlob.size,blobType:F.imageBlob.type,matchedBy:F.description||"position"}))}E||(v.url&&v.url.trim()&&(v.url.startsWith("data:")||v.url.startsWith("http"))&&!v.url.includes("placeholder_image")?E=v.url:E=c(v.title||"Image"));const O={url:E,title:v.title||v.description||"Detected Image"};return console.log("Enhanced image (preview):",O),O}))||[],C=Array.from(k.values()).reduce((v,D)=>v+D.length,0);return console.log(`Enhanced ${_.length} images for material preview (${C} extracted images available across ${k.size} slides)`),_},p=m=>{var k;return{id:nl(),title:m.title,content:m.content,subsections:((k=m.subsections)==null?void 0:k.map(w=>{var _;return{id:nl(),title:w.title,content:w.content,subSubsections:((_=w.subSubsections)==null?void 0:_.map(C=>({id:nl(),title:C.title,content:C.content,images:d(C.images||[]),links:C.links||[]})))||[],images:d(w.images||[]),links:w.links||[]}}))||[],images:d(m.images||[]),links:m.links||[]}};return{course:r,title:i.title,header:i.header,footer:i.footer,sections:i.sections.map(p),author:o,published:!1,sourceInfo:i.sourceInfo}}async convertToMaterialFormatWithImageUpload(i,r,o,a,c,d){var v;let p=[];if(c!=null&&c.images)try{console.log(`Uploading ${c.images.length} extracted images...`),p=await xG(c.images,a,d),console.log(`Successfully uploaded ${p.length} images`)}catch(D){console.error("Failed to upload extracted images:",D)}const m=(D,E=400,O=300)=>{const M=D.substring(0,30),j=`
        <svg width="${E}" height="${O}" xmlns="http://www.w3.org/2000/svg">
          <rect width="100%" height="100%" fill="#4a90e2"/>
          <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle" dominant-baseline="middle">
            ${M}
          </text>
        </svg>
      `;return`data:image/svg+xml;base64,${btoa(j)}`},k=D=>{const E=new Map;p.forEach(j=>{j.slideNumber&&(E.has(j.slideNumber)||E.set(j.slideNumber,[]),E.get(j.slideNumber).push(j))});const O=new Set,M=(D==null?void 0:D.map((j,F)=>{let G=null;if(j.slideNumber&&E.has(j.slideNumber)){const H=E.get(j.slideNumber);if(G=H.find(z=>!O.has(z.url))||null,!G&&H.length>0){const z=F%H.length;G=H[z]}}if(!G){const H=(j.title||j.description||"").toLowerCase().split(" ");G=p.find(z=>{if(O.has(z.url))return!1;const Z=z.title.toLowerCase().split(" ");return H.some(Y=>Y.length>3&&Z.some(se=>se.includes(Y)))})||null}if(G||(G=p.find(H=>!O.has(H.url))||null),!G&&p.length>0){const H=F%p.length;G=p[H]}G&&O.add(G.url);const J={url:(G==null?void 0:G.url)||(j.url&&j.url.trim()?j.url:m(j.title||"Image")),title:(G==null?void 0:G.title)||j.title||j.description||"Detected Image"};return console.log("Enhanced image with upload:",{...J,url:J.url.substring(0,100)+"...",isUploaded:!!G,imageIndex:F,originalSlideNumber:j.slideNumber,matchedSlideNumber:G==null?void 0:G.slideNumber,matchStrategy:G?G.slideNumber===j.slideNumber?"slideNumber":J.title.includes(j.title||"")?"title":"sequential":"placeholder",usedCount:O.size,totalAvailable:p.length}),J}))||[];return console.log(`Enhanced ${M.length} images for material (${p.length} uploaded, ${O.size} used)`),M},w=D=>{var E;return{id:nl(),title:D.title,content:D.content,images:k(D.images||[]),links:D.links||[],subsections:((E=D.subsections)==null?void 0:E.map(_))||[]}},_=D=>{var E;return{id:nl(),title:D.title,content:D.content,images:k(D.images||[]),links:D.links||[],subSubsections:((E=D.subSubsections)==null?void 0:E.map(C))||[]}},C=D=>({id:nl(),title:D.title,content:D.content,images:k(D.images||[]),links:D.links||[]});return{course:r,title:i.title,header:i.header||{title:"",content:""},footer:i.footer||{title:"",content:""},sections:((v=i.sections)==null?void 0:v.map(w))||[],author:o,published:!1,scheduledTimestamp:null}}}let LC=null;const BE=t=>{const i=t||"AIzaSyAcb1QNEdevZFSay3ZaT9MB7xQq6f0dMh0";if(!LC&&i&&(LC=new SG(i)),!LC)throw new Error("Material Import service not initialized. Please configure VITE_GEMINI_MATERIAL_API_KEY or VITE_GEMINI_API_KEY environment variable.");return LC},EG=async t=>{try{const i=await To(()=>import("./pdf-DQ7craWA.js"),[]),r="/nexlab";i.GlobalWorkerOptions.workerSrc=`${r}/js/pdf.worker.min.js`;const o=await t.arrayBuffer(),a=await i.getDocument({data:o}).promise,c=a.numPages;let d="";for(let p=1;p<=c;p++){const w=(await(await a.getPage(p)).getTextContent()).items.filter(_=>_&&typeof _.str=="string").map(_=>_.str).join(" ").trim();w&&(d+=w+`

`)}return{text:d.trim(),metadata:{pageCount:c,wordCount:d.trim().split(/\s+/).length,fileSize:t.size,extractionMethod:"PDF.js"}}}catch(i){throw{message:"Failed to extract text from PDF file. Please ensure the PDF contains selectable text.",code:"PDF_EXTRACTION_ERROR",originalError:i instanceof Error?i:new Error(String(i))}}},DG=async t=>{try{const i=await To(()=>import("./index-CnHv9fDW.js").then(a=>a.i),__vite__mapDeps([0,1])),r=await t.arrayBuffer(),o=await i.extractRawText({arrayBuffer:r});return o.messages&&o.messages.length>0&&console.warn("DOCX extraction warnings:",o.messages),{text:o.value.trim(),metadata:{wordCount:o.value.trim().split(/\s+/).length,fileSize:t.size,extractionMethod:"Mammoth"}}}catch(i){throw{message:"Failed to extract text from Word document. Please ensure the file is not corrupted.",code:"DOCX_EXTRACTION_ERROR",originalError:i instanceof Error?i:new Error(String(i))}}},IG=async t=>{var i,r;try{const o=(await To(async()=>{const{default:_}=await import("./index-CyJar8ki.js").then(C=>C.i);return{default:_}},__vite__mapDeps([2,1]))).default,a=await t.arrayBuffer(),c=new o(a);let d="",p=0;const m=[],k=Object.keys(c.files).filter(_=>_.startsWith("ppt/slides/slide")&&_.endsWith(".xml"));p=k.length;for(const _ of k)try{const C=c.files[_].asText(),v=parseInt(((i=_.match(/slide(\d+)\.xml/))==null?void 0:i[1])||"0"),D=C.matchAll(/<a:blip[^>]*r:embed="([^"]*)"[^>]*>/g);for(const M of D){const j=M[1],F=C.match(new RegExp('<p:cNvPr[^>]*name="([^"]*)"[^>]*>',"i")),G=C.match(new RegExp('<p:cNvPr[^>]*descr="([^"]*)"[^>]*>',"i")),J=C.replace(/<a:t[^>]*>(.*?)<\/a:t>/g,"$1 ").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();let H=`Image on slide ${v}`;const z=["chart","graph","diagram","figure","table","photo","image","illustration","screenshot","logo","flowchart","timeline","comparison","data","results","example","structure","process"],Z=J.toLowerCase().split(/\s+/),Y=z.filter(X=>Z.some(K=>K.includes(X)));if(Y.length>0)H=`${Y[0].charAt(0).toUpperCase()+Y[0].slice(1)} (Slide ${v})`;else if(J.length>0){const X=Z.slice(0,3).join(" ");X.length>5&&(H=`Image: ${X}... (Slide ${v})`)}let se;try{const X=`ppt/slides/_rels/slide${v}.xml.rels`;if(c.files[X]){const U=c.files[X].asText().match(new RegExp(`Id="${j}"[^>]*Target="([^"]*)"`,"i"));if(U){const q=U[1],fe=q.startsWith("../")?`ppt/${q.substring(3)}`:`ppt/slides/${q}`;if(c.files[fe]){const ue=c.files[fe].asUint8Array();let de="image/jpeg";const ge=fe.toLowerCase();if(ge.includes(".png"))de="image/png";else if(ge.includes(".gif"))de="image/gif";else if(ge.includes(".bmp"))de="image/bmp";else if(ge.includes(".webp"))de="image/webp";else if(ge.includes(".emf")||ge.includes(".wmf")){console.warn(`Skipping unsupported vector image format: ${fe}`);continue}se=new Blob([ue],{type:de}),console.log(`Extracted image blob for slide ${v}:`,{size:se.size,type:de,path:fe})}}}}catch(X){console.warn(`Failed to extract image blob for ${j} on slide ${v}:`,X)}m.push({slideNumber:v,description:(F==null?void 0:F[1])||H,altText:(G==null?void 0:G[1])||void 0,filename:j,embedId:j,imageBlob:se})}const E=C.replace(/<a:t[^>]*>(.*?)<\/a:t>/g,"$1 ").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();E&&(d+=`
--- Slide ${v} ---
${E}
`);const O=m.filter(M=>M.slideNumber===v);O.length>0&&(d+=`
[IMAGES ON SLIDE ${v}]: `,O.forEach(M=>{d+=`"${M.description}"${M.altText?` (${M.altText})`:""}, `}),d=d.slice(0,-2)+`
`)}catch(C){console.warn(`Failed to extract text from ${_}:`,C)}const w=Object.keys(c.files).filter(_=>_.startsWith("ppt/notesSlides/notesSlide")&&_.endsWith(".xml"));for(const _ of w)try{const v=c.files[_].asText().replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();if(v){const D=((r=_.match(/notesSlide(\d+)\.xml/))==null?void 0:r[1])||"unknown";d+=`
--- Notes for Slide ${D} ---
${v}
`}}catch(C){console.warn(`Failed to extract notes from ${_}:`,C)}if(!d.trim())throw new Error("No text content found in PowerPoint file");return{text:d.trim(),metadata:{slideCount:p,wordCount:d.trim().split(/\s+/).length,fileSize:t.size,extractionMethod:"PizZip",images:m.length>0?m:void 0}}}catch(o){throw{message:"Failed to extract text from PowerPoint file. Please ensure the file is not corrupted and contains text content.",code:"PPTX_EXTRACTION_ERROR",originalError:o instanceof Error?o:new Error(String(o))}}},TG=async t=>{try{const i=await t.text();return{text:i.trim(),metadata:{wordCount:i.trim().split(/\s+/).length,fileSize:t.size,extractionMethod:"Native"}}}catch(i){throw{message:"Failed to extract text from text file",code:"TXT_EXTRACTION_ERROR",originalError:i instanceof Error?i:new Error(String(i))}}},vL=async t=>{if(!t)throw{message:"No file provided",code:"NO_FILE_ERROR"};const i=t.type.toLowerCase(),r=t.name.toLowerCase();try{if(i==="application/pdf"||r.endsWith(".pdf"))return await EG(t);if(i==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||r.endsWith(".docx"))return await DG(t);if(i==="application/vnd.openxmlformats-officedocument.presentationml.presentation"||r.endsWith(".pptx"))return await IG(t);if(i==="text/plain"||r.endsWith(".txt"))return await TG(t);throw{message:`Unsupported file format: ${i||"unknown"}. Supported formats: PDF (.pdf), Word (.docx), PowerPoint (.pptx), Text (.txt)`,code:"UNSUPPORTED_FORMAT_ERROR"}}catch(o){throw o&&typeof o=="object"&&"code"in o?o:{message:`Failed to extract text from ${t.name}`,code:"GENERIC_EXTRACTION_ERROR",originalError:o instanceof Error?o:new Error(String(o))}}},yL=t=>{const r=["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","text/plain"],o=[".pdf",".docx",".pptx",".txt"];if(t.size>524288e3)return{isValid:!1,error:`File size (${(t.size/1024/1024).toFixed(1)}MB) exceeds the maximum limit of 500MB.`};const a=t.type.toLowerCase(),c=t.name.toLowerCase(),d=r.includes(a),p=o.some(m=>c.endsWith(m));return!d&&!p?{isValid:!1,error:`Unsupported file format. Please upload files with extensions: ${o.join(", ")}`}:{isValid:!0}},AL=t=>{const i=t.type.toLowerCase(),r=t.name.toLowerCase();return i==="application/pdf"||r.endsWith(".pdf")?"PDF Document":i==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||r.endsWith(".docx")?"Word Document":i==="application/vnd.openxmlformats-officedocument.presentationml.presentation"||r.endsWith(".pptx")?"PowerPoint Presentation":i==="text/plain"||r.endsWith(".txt")?"Text File":"Unknown Format"},MG=t=>{const i=t.size/1048576,r=t.type.toLowerCase();let o=0;return r==="application/pdf"?o=Math.max(2,i*.5):r==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"?o=Math.max(1,i*.3):r==="application/vnd.openxmlformats-officedocument.presentationml.presentation"?o=Math.max(1.5,i*.4):o=Math.max(.5,i*.1),Math.round(o)};class NG{constructor(){Jt(this,"storage",Hm());Jt(this,"DEFAULT_CHUNK_SIZE",5*1024*1024);Jt(this,"DEFAULT_MAX_RETRIES",3);Jt(this,"DEFAULT_TIMEOUT",6e4)}async uploadLargeFile(i,r,o={}){const a=Date.now(),{chunkSize:c=this.DEFAULT_CHUNK_SIZE,maxRetries:d=this.DEFAULT_MAX_RETRIES,timeoutMs:p=this.DEFAULT_TIMEOUT,onProgress:m,onChunkComplete:k}=o,w=500*1024*1024;if(i.size>w)throw new Error(`File size (${(i.size/1024/1024).toFixed(1)}MB) exceeds maximum limit of 500MB`);if(!(i.size>c))return this.uploadStandardFile(i,r,m);console.log(` Starting chunked upload for ${i.name} (${(i.size/1024/1024).toFixed(1)}MB)`),m==null||m({stage:"preparing",percentage:0,bytesUploaded:0,totalBytes:i.size,currentOperation:"Preparing file for chunked upload..."});const C=this.createChunkMetadata(i,c),v=nl(),D=`${r}_chunks_${v}`;m==null||m({stage:"preparing",percentage:5,totalChunks:C.length,bytesUploaded:0,totalBytes:i.size,currentOperation:`Created ${C.length} chunks for upload...`});try{await this.uploadChunks(i,C,D,{maxRetries:d,timeoutMs:p,onProgress:M=>{const j=this.calculateOverallProgress(C,M);m==null||m({stage:"uploading",percentage:5+j*.85,currentChunk:M.currentChunk,totalChunks:C.length,bytesUploaded:M.bytesUploaded,totalBytes:i.size,currentOperation:M.currentOperation,estimatedTimeRemaining:this.estimateTimeRemaining(a,j)})},onChunkComplete:k}),m==null||m({stage:"assembling",percentage:90,totalChunks:C.length,bytesUploaded:i.size,totalBytes:i.size,currentOperation:"Assembling chunks into final file..."});const E=await this.assembleChunks(i,C,r,v);m==null||m({stage:"completed",percentage:100,totalChunks:C.length,bytesUploaded:i.size,totalBytes:i.size,currentOperation:"Upload completed successfully!"});const O=Date.now()-a;return console.log(` Chunked upload completed in ${(O/1e3).toFixed(1)}s`),{...E,chunks:C.length,uploadTime:O}}catch(E){throw console.error(" Chunked upload failed:",E),await this.cleanupFailedUpload(C),E}}createChunkMetadata(i,r){const o=[];let a=0;for(;a<i.size;){const c=Math.min(a+r,i.size);o.push({index:o.length,size:c-a,start:a,end:c,retries:0}),a=c}return o}async uploadChunks(i,r,o,a){const{maxRetries:c,timeoutMs:d,onProgress:p,onChunkComplete:m}=a;let k=0;const w=3;for(let _=0;_<r.length;_+=w){const v=r.slice(_,Math.min(_+w,r.length)).map(async D=>{const E=i.slice(D.start,D.end),O=`${o}/chunk_${D.index.toString().padStart(4,"0")}`;let M=null;for(let j=0;j<=c;j++)try{p==null||p({currentChunk:D.index+1,bytesUploaded:k,currentOperation:`Uploading chunk ${D.index+1}/${r.length} (attempt ${j+1})`});const F=await this.uploadSingleChunk(E,O,d);D.uploadUrl=F.url,D.uploadPath=F.path,k+=D.size,m==null||m(D.index,r.length),console.log(` Chunk ${D.index+1}/${r.length} uploaded successfully`);return}catch(F){M=F,D.retries=j+1,j<c&&(console.warn(` Chunk ${D.index+1} failed (attempt ${j+1}), retrying...`),await this.delay(Math.pow(2,j)*1e3))}throw new Error(`Failed to upload chunk ${D.index+1} after ${c+1} attempts: ${M==null?void 0:M.message}`)});await Promise.all(v),_+w<r.length&&await this.delay(500)}}async uploadSingleChunk(i,r,o){const a=Qd(this.storage,r),c=async()=>{const p=await Bm(a,i);return{url:await rp(p.ref),path:p.ref.fullPath}},d=new Promise((p,m)=>{setTimeout(()=>m(new Error(`Chunk upload timeout after ${o}ms`)),o)});return Promise.race([c(),d])}async assembleChunks(i,r,o,a){const c=await this.reconstructFileFromChunks(i,r),d=Qd(this.storage,o),p=await Bm(d,c),m=await rp(p.ref);return await this.cleanupChunks(r),{url:m,path:p.ref.fullPath,name:i.name,type:i.type,size:i.size,uploadedAt:new Date}}async reconstructFileFromChunks(i,r){const o=[];for(const a of r.sort((c,d)=>c.index-d.index))o.push(i.slice(a.start,a.end));return new Blob(o,{type:i.type})}async uploadStandardFile(i,r,o){const a=Date.now(),c=Qd(this.storage,r);o==null||o({stage:"uploading",percentage:10,bytesUploaded:0,totalBytes:i.size,currentOperation:"Uploading file..."});const d=await Bm(c,i);o==null||o({stage:"uploading",percentage:90,bytesUploaded:i.size,totalBytes:i.size,currentOperation:"Getting download URL..."});const p=await rp(d.ref);o==null||o({stage:"completed",percentage:100,bytesUploaded:i.size,totalBytes:i.size,currentOperation:"Upload completed!"});const m=Date.now()-a;return{url:p,path:d.ref.fullPath,name:i.name,type:i.type,size:i.size,uploadedAt:new Date,chunks:1,uploadTime:m}}calculateOverallProgress(i,r){const o=i.filter(c=>c.uploadUrl).length,a=r.currentChunk?r.bytesUploaded/i.reduce((c,d)=>c+d.size,0):0;return(o+a)/i.length}estimateTimeRemaining(i,r){if(r<=0)return 0;const o=Date.now()-i,a=o/r;return Math.max(0,a-o)}async cleanupChunks(i){const r=i.filter(o=>o.uploadPath).map(async o=>{try{const a=Qd(this.storage,o.uploadPath);await qj(a)}catch(a){console.warn(`Failed to cleanup chunk ${o.index}:`,a)}});await Promise.allSettled(r)}async cleanupFailedUpload(i){console.log(" Cleaning up failed chunked upload..."),await this.cleanupChunks(i)}delay(i){return new Promise(r=>setTimeout(r,i))}validateFileForChunkedUpload(i){return i.size>524288e3?{isValid:!1,error:`File size (${(i.size/1024/1024).toFixed(1)}MB) exceeds maximum limit of 500MB`}:["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword","text/plain"].includes(i.type)?{isValid:!0}:{isValid:!1,error:`Unsupported file type: ${i.type}. Supported formats: PowerPoint, PDF, Word, Text files`}}}const gN=new NG;class OG{constructor(){Jt(this,"storage",Hm())}async uploadOriginalFile(i,r,o,a){return i.size>26214400?(console.log(` File is large (${(i.size/1024/1024).toFixed(1)}MB), using chunked upload`),this.uploadOriginalFileEnhanced(i,r,o,a?d=>a(d.percentage):void 0)):this.uploadOriginalFileStandard(i,r,o,a)}async uploadOriginalFileEnhanced(i,r,o,a){const c=gN.validateFileForChunkedUpload(i);if(!c.isValid)throw new Error(c.error);const d=i.name.split(".").pop()||"",p=o||nl(),m=`${i.name.replace(/\.[^/.]+$/,"")}_${p}.${d}`,k=`original-files/${r}/${m}`;console.log(" Starting enhanced original file upload:",{fileName:m,fileSize:i.size,fileType:i.type,courseId:r,chunked:!0});try{const w=await gN.uploadLargeFile(i,k,{chunkSize:5242880,maxRetries:3,timeoutMs:6e4,onProgress:a,onChunkComplete:(C,v)=>{console.log(` Chunk ${C+1}/${v} completed`)}}),_={name:i.name,type:i.type,size:i.size,url:w.url,uploadedAt:new Date};return console.log(" Enhanced original file uploaded successfully:",{originalName:i.name,storageName:m,url:w.url,size:i.size,chunks:w.chunks,uploadTime:`${(w.uploadTime/1e3).toFixed(1)}s`}),_}catch(w){throw console.error(" Enhanced original file upload failed:",w),new Error(`Failed to upload original file: ${w instanceof Error?w.message:"Unknown error"}`)}}async uploadOriginalFileStandard(i,r,o,a){try{const c=i.name.split(".").pop()||"",d=o||nl(),p=`${i.name.replace(/\.[^/.]+$/,"")}_${d}.${c}`,m=Qd(this.storage,`original-files/${r}/${p}`);console.log(" Starting original file upload:",{fileName:p,fileSize:i.size,fileType:i.type,courseId:r}),a==null||a(10);const k=await Bm(m,i);a==null||a(70);const w=await rp(k.ref);a==null||a(100);const _={name:i.name,type:i.type,size:i.size,url:w,uploadedAt:new Date};return console.log(" Original file uploaded successfully:",{originalName:i.name,storageName:p,url:w,size:i.size}),_}catch(c){throw console.error(" Original file upload failed:",c),new Error(`Failed to upload original file: ${c instanceof Error?c.message:"Unknown error"}`)}}async deleteOriginalFile(i){try{const o=new URL(i).pathname.match(/\/o\/(.+?)\?/);if(!o)throw new Error("Invalid Firebase Storage URL format");const a=decodeURIComponent(o[1]),c=Qd(this.storage,a);await qj(c),console.log(" Original file deleted successfully:",a)}catch(r){console.error(" Original file deletion failed:",r),console.warn("Continuing despite file deletion failure")}}async replaceOriginalFile(i,r,o,a,c){try{return a&&await this.deleteOriginalFile(a),await this.uploadOriginalFile(i,r,o,c)}catch(d){throw console.error(" Original file replacement failed:",d),new Error(`Failed to replace original file: ${d instanceof Error?d.message:"Unknown error"}`)}}getFileExtension(i){var r;return((r=i.split(".").pop())==null?void 0:r.toLowerCase())||""}validateFile(i){return i.size>524288e3?{isValid:!1,error:`File size (${(i.size/1024/1024).toFixed(1)}MB) exceeds maximum limit of 500MB`}:["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword","text/plain"].includes(i.type)?{isValid:!0}:{isValid:!1,error:`Unsupported file type: ${i.type}. Supported formats: PowerPoint, PDF, Word, Text files`}}}const x3=new OG,bN={isProcessing:!1,progress:null,error:null,uploadedFile:null,extractedText:null,extractionResult:null,originalFileUploadProgress:null,originalFileUrl:null,aiExtractedData:null,convertedMaterial:null,processingOptions:{maxOutputTokens:4096,topK:1,topP:.1,preserveFormatting:!0,extractImages:!0,extractLinks:!0}},mb=vk()(Xy((t,i)=>({...bN,setUploadedFile:r=>{const{originalFileUrl:o}=i();o&&r&&r.name!==o&&x3.deleteOriginalFile(o).catch(a=>{console.warn("Failed to delete previous original file:",a)}),t({uploadedFile:r,extractedText:null,extractionResult:null,originalFileUploadProgress:null,originalFileUrl:null,aiExtractedData:null,convertedMaterial:null,error:null})},extractTextFromFile:async()=>{const{uploadedFile:r}=i();if(!r){t({error:"No file uploaded"});return}try{const o=yL(r);if(!o.isValid){t({error:o.error||"Invalid file"});return}}catch(o){console.error("File validation error:",o),t({error:"Failed to validate file"});return}t({isProcessing:!0,error:null,progress:{stage:"extracting",percentage:10,currentOperation:`Extracting text from ${AL(r)}...`}});try{const o=await vL(r);if(!o||!o.text||o.text.trim().length===0)throw new Error("No text content could be extracted from the file");const a=o.text.trim().split(/\s+/).length;a<5&&console.warn("Very short text extracted:",{wordCount:a,text:o.text.substring(0,100)}),t({extractedText:o.text,extractionResult:o,progress:{stage:"extracting",percentage:100,currentOperation:"Text extraction complete!"}}),setTimeout(()=>{t({isProcessing:!1,progress:null})},500)}catch(o){console.error("Text extraction error:",o);const a=o;let c="Failed to extract text from file";a.code==="PDF_EXTRACTION_ERROR"?c="Could not extract text from PDF. The file may be image-based or corrupted.":a.code==="DOCX_EXTRACTION_ERROR"?c="Could not extract text from Word document. Please check the file is not corrupted.":a.code==="PPTX_EXTRACTION_ERROR"?c="Could not extract text from PowerPoint presentation. Please ensure it contains text content.":a.message&&(c=a.message),t({error:c,isProcessing:!1,progress:null})}},processWithAI:async(r,o,a)=>{var w;const{uploadedFile:c,extractedText:d,extractionResult:p,processingOptions:m}=i();if(!(r!=null&&r.trim())){t({error:"Course ID is required for AI processing"});return}if(!(o!=null&&o.trim())){t({error:"Author ID is required for AI processing"});return}if(!c||!(d!=null&&d.trim())){t({error:"No file or extracted text available for AI processing"});return}const k=d.trim().split(/\s+/).length;if(k<10){t({error:"Extracted text is too short for meaningful AI processing (minimum 10 words required)"});return}k>5e4&&console.warn("Very large text content detected:",{wordCount:k,fileName:c.name}),t({isProcessing:!0,error:null,progress:{stage:"analyzing",percentage:0,currentOperation:"Initializing AI processing..."}});try{let _;try{_=BE(a)}catch(M){console.error("Service initialization error:",M);let j="Material import service not available.";M instanceof Error&&(M.message.includes("API key")?j="API key not configured. Please set VITE_GEMINI_MATERIAL_API_KEY or VITE_GEMINI_API_KEY environment variable.":j=`Service error: ${M.message}`),t({error:j,isProcessing:!1,progress:null});return}const C={maxOutputTokens:Math.min(Math.max(m.maxOutputTokens||16384,8192),32768),topK:Math.min(Math.max(m.topK||3,1),10),topP:Math.min(Math.max(m.topP||.9,.1),1),preserveFormatting:!!m.preserveFormatting,extractImages:!!m.extractImages,extractLinks:!!m.extractLinks},v=12e4,D=new Promise((M,j)=>{setTimeout(()=>j(new Error("AI processing timeout - please try with a smaller file")),v)}),E=await Promise.race([_.processMaterialContent(d,c.name,c.type,C,M=>{M&&typeof M=="object"&&t({progress:M})},p==null?void 0:p.metadata),D]);if(!E||typeof E!="object")throw new Error("Invalid AI processing result received");(w=E.title)!=null&&w.trim()||(console.warn("AI result missing title, using filename as fallback"),E.title=c.name.replace(/\.[^/.]+$/,"")||"Untitled Material"),(!E.sections||!Array.isArray(E.sections)||E.sections.length===0)&&(console.warn("AI result missing sections, creating default section"),E.sections=[{title:"Main Content",content:"Content extracted from uploaded material.",subsections:[],images:[],links:[]}]);const O=_.convertToMaterialFormat(E,r,o,p==null?void 0:p.metadata);t({aiExtractedData:E,convertedMaterial:O,isProcessing:!1,progress:{stage:"complete",percentage:100,currentOperation:"Material processing complete!"}}),setTimeout(()=>{t({progress:null})},1500)}catch(_){console.error("AI processing error:",_);let C="Failed to process material with AI";_ instanceof Error&&(_.message.includes("timeout")?C="AI processing timed out. Please try with a smaller file or simpler content.":_.message.includes("API key")||_.message.includes("API_KEY_INVALID")?C="Invalid API key. Please check your API key configuration.":_.message.includes("RATE_LIMIT")||_.message.includes("rate limit")?C="API rate limit exceeded. Please wait a few minutes before trying again.":_.message.includes("SAFETY")||_.message.includes("safety")?C="Content flagged by safety filters. Please try with different content.":_.message.includes("network")||_.message.includes("fetch")?C="Network error. Please check your internet connection and try again.":C=`AI processing failed: ${_.message}`),t({error:C,isProcessing:!1,progress:null})}},uploadOriginalFile:async(r,o)=>{const{uploadedFile:a}=i();if(!a){t({error:"No file selected for upload"});return}try{t({originalFileUploadProgress:0,error:null});const c=a.size>25*1024*1024,d=(a.size/1024/1024).toFixed(1);console.log(` Starting original file upload to Firebase Storage... (${d}MB, ${c?"chunked":"standard"} upload)`);const p=await x3.uploadOriginalFile(a,r,o,m=>{t({originalFileUploadProgress:m})});t({originalFileUrl:p.url,originalFileUploadProgress:null}),console.log(" Original file uploaded successfully:",{url:p.url,size:`${d}MB`,method:c?"chunked":"standard"})}catch(c){throw console.error(" Original file upload failed:",c),t({error:c instanceof Error?c.message:"Failed to upload original file",originalFileUploadProgress:null}),c}},replaceOriginalFile:async(r,o,a)=>{const{uploadedFile:c}=i();if(!c){t({error:"No file selected for replacement"});return}try{t({originalFileUploadProgress:0,error:null}),console.log(" Replacing original file in Firebase Storage...");const d=await x3.replaceOriginalFile(c,r,o,a,p=>{t({originalFileUploadProgress:p})});t({originalFileUrl:d.url,originalFileUploadProgress:null}),console.log(" Original file replaced successfully:",d.url)}catch(d){throw console.error(" Original file replacement failed:",d),t({error:d instanceof Error?d.message:"Failed to replace original file",originalFileUploadProgress:null}),d}},resetImport:()=>{try{BE().cleanupBlobUrls()}catch(r){console.warn("Failed to cleanup blob URLs during reset:",r)}t(bN)},setProcessingOptions:r=>{t(o=>({processingOptions:{...o.processingOptions,...r}}))},setError:r=>{t({error:r})}}),{name:"material-import-store",partialize:t=>({processingOptions:t.processingOptions})})),BG=()=>{const t=mb();return{setUploadedFile:t.setUploadedFile,extractTextFromFile:t.extractTextFromFile,processWithAI:t.processWithAI,resetImport:t.resetImport,setProcessingOptions:t.setProcessingOptions,setError:t.setError}},jG=()=>{const t=mb();return{isProcessing:t.isProcessing,progress:t.progress,error:t.error,uploadedFile:t.uploadedFile,extractedText:t.extractedText,aiExtractedData:t.aiExtractedData,convertedMaterial:t.convertedMaterial,processingOptions:t.processingOptions}},jE=async(t,i,r,o)=>{const a=mb.getState(),{aiExtractedData:c,extractionResult:d}=a;if(!c)throw new Error("No AI result available for conversion");return await BE().convertToMaterialFormatWithImageUpload(c,t,i,r,d==null?void 0:d.metadata,o)},LG=()=>{const{extractedText:t,isProcessing:i}=mb();return!i&&!!(t!=null&&t.trim())},PG=()=>{const{convertedMaterial:t,isProcessing:i}=mb();return!i&&!!t},nbe=Object.freeze(Object.defineProperty({__proto__:null,convertMaterialWithImageUpload:jE,useIsImportComplete:PG,useIsReadyForAI:LG,useMaterialImportActions:BG,useMaterialImportStatus:jG,useMaterialImportStore:mb},Symbol.toStringTag,{value:"Module"}));var Bv={},kN;function RG(){if(kN)return Bv;kN=1;var t=fs();Object.defineProperty(Bv,"__esModule",{value:!0}),Bv.default=void 0;var i=t(ms()),r=ps();return Bv.default=(0,i.default)((0,r.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save"),Bv}var FG=RG();const S3=Si(FG),E3=({onDelete:t,itemType:i})=>{const[r,o]=vt.useState(!1),a=()=>{o(!0)},c=()=>{o(!1)},d=()=>{t(),c()};return x.jsxs(x.Fragment,{children:[x.jsx(ur,{onClick:a,size:"small",children:x.jsx(yk,{})}),x.jsxs(Ms,{open:r,onClose:c,children:[x.jsx(Ns,{children:`Delete ${i}`}),x.jsx(Os,{children:x.jsx(fc,{children:`Are you sure you want to delete this ${i}? This action cannot be undone.`})}),x.jsxs(Bs,{children:[x.jsx(xt,{onClick:c,color:"primary",children:"Cancel"}),x.jsx(xt,{onClick:d,color:"secondary",children:"Delete"})]})]})]})};var jv={},wN;function zG(){if(wN)return jv;wN=1;var t=fs();Object.defineProperty(jv,"__esModule",{value:!0}),jv.default=void 0;var i=t(ms()),r=ps();return jv.default=(0,i.default)((0,r.jsx)("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess"),jv}var UG=zG();const vN=Si(UG),_L=({sections:t,selected:i,onAddSection:r,onAddSubsection:o,onAddSubSubsection:a,onSelectSection:c,onUpdateSectionTitle:d,onUpdateSubsectionTitle:p,onUpdateSubSubsectionTitle:m,onDeleteSection:k,onDeleteSubsection:w,onDeleteSubSubsection:_,isViewMode:C})=>{const[v,D]=ae.useState(null),[E,O]=ae.useState(null),[M,j]=ae.useState(null),[F,G]=ae.useState(""),[J,H]=ae.useState(t.map(()=>!0)),[z,Z]=ae.useState(t.reduce((de,ge,Ie)=>(de[Ie]=ge.subsections.map(()=>!0),de),{}));ae.useEffect(()=>{H(t.map(()=>!0))},[t]),ae.useEffect(()=>{const de=t.reduce((ge,Ie,ce)=>(ge[ce]=Ie.subsections.map(()=>!0),ge),{});Z(de)},[t]);const Y=de=>{const ge=[...J];ge[de]=!ge[de],H(ge)},se=(de,ge)=>{const Ie={...z};Ie[de][ge]=!Ie[de][ge],Z(Ie)},X=(de,ge)=>{v!==null?d(v,F):E?p(E.section,E.subsection,F):M&&m(M.section,M.subsection,M.subSubsection,F),D(de),O(null),j(null),G(ge)},K=de=>{d(de,F),D(null),G("")},U=(de,ge,Ie)=>{v!==null?d(v,F):E?p(E.section,E.subsection,F):M&&m(M.section,M.subsection,M.subSubsection,F),D(null),O({section:de,subsection:ge}),j(null),G(Ie)},q=(de,ge)=>{p(de,ge,F),O(null),G("")},fe=(de,ge,Ie,ce)=>{v!==null?d(v,F):E?p(E.section,E.subsection,F):M&&m(M.section,M.subsection,M.subSubsection,F),D(null),O(null),j({section:de,subsection:ge,subSubsection:Ie}),G(ce)},ue=(de,ge,Ie)=>{m(de,ge,Ie,F),j(null),G("")};return x.jsxs(Be,{sx:{width:"450px",borderRight:"1px solid #ddd",padding:2},children:[x.jsx(Pe,{variant:"h6",sx:{fontWeight:"bold",mb:2},children:"Outline"}),!C&&x.jsx(xt,{variant:"contained",color:"primary",onClick:r,sx:{mb:2},children:"+ Add Section"}),x.jsxs(nx,{children:[x.jsx(W0,{component:"div",onClick:()=>c("header"),sx:{backgroundColor:i.type==="header"?"lightgray":"transparent",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:x.jsx(Wg,{primary:"Header"})}),t.map((de,ge)=>x.jsxs(Be,{children:[x.jsxs(W0,{component:"div",onClick:()=>c(ge),sx:{backgroundColor:i.sectionIndex===ge&&i.subsectionIndex===void 0?"lightgray":"transparent",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:[v===ge?x.jsxs(x.Fragment,{children:[x.jsx(_n,{value:F,onChange:Ie=>G(Ie.target.value),size:"small",sx:{mr:1},disabled:C}),!C&&x.jsx(ur,{onClick:()=>K(ge),size:"small",children:x.jsx(S3,{})})]}):x.jsxs(x.Fragment,{children:[x.jsx(Wg,{primary:de.title}),!C&&x.jsxs(x.Fragment,{children:[x.jsx(ur,{onClick:()=>X(ge,de.title),size:"small",children:x.jsx(yy,{})}),x.jsx(E3,{onDelete:()=>k(ge),itemType:"section"})]})]}),de.subsections.length>0&&x.jsx(ur,{onClick:()=>Y(ge),sx:{"&:hover":{backgroundColor:"transparent"},"&:active":{backgroundColor:"transparent"},width:"24px",height:"24px"},children:J[ge]?x.jsx(vN,{sx:{fontSize:"20px"}}):x.jsx(Nx,{sx:{fontSize:"20px"}})}),!C&&x.jsx(xt,{variant:"text",onClick:()=>o(ge),size:"small",children:"+ Add Subsection"})]}),J[ge]&&x.jsx(nx,{sx:{pl:4},children:de.subsections.map((Ie,ce)=>x.jsxs(Be,{children:[x.jsxs(W0,{component:"div",onClick:()=>c(ge,ce),sx:{backgroundColor:i.sectionIndex===ge&&i.subsectionIndex===ce&&i.subSubsectionIndex===void 0?"lightgray":"transparent",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:[E&&E.section===ge&&E.subsection===ce?x.jsxs(x.Fragment,{children:[x.jsx(_n,{value:F,onChange:Te=>G(Te.target.value),size:"small",sx:{mr:1},disabled:C}),!C&&x.jsx(ur,{onClick:()=>q(ge,ce),size:"small",children:x.jsx(S3,{})})]}):x.jsxs(x.Fragment,{children:[x.jsx(Wg,{primary:Ie.title}),!C&&x.jsxs(x.Fragment,{children:[x.jsx(ur,{onClick:()=>U(ge,ce,Ie.title),size:"small",children:x.jsx(yy,{})}),x.jsx(E3,{onDelete:()=>w(ge,ce),itemType:"subsection"})]})]}),Ie.subSubsections.length>0&&x.jsx(ur,{onClick:()=>se(ge,ce),sx:{"&:hover":{backgroundColor:"transparent"},"&:active":{backgroundColor:"transparent"},width:"24px",height:"24px"},children:z[ge][ce]?x.jsx(vN,{sx:{fontSize:"20px"}}):x.jsx(Nx,{sx:{fontSize:"20px"}})}),!C&&x.jsx(xt,{variant:"text",onClick:()=>a(ge,ce),size:"small",children:"+ Add Sub-Subsection"})]}),z[ge][ce]&&x.jsx(nx,{sx:{pl:4},children:Ie.subSubsections.map((Te,re)=>x.jsx(W0,{component:"div",onClick:()=>c(ge,ce,re),sx:{backgroundColor:i.sectionIndex===ge&&i.subsectionIndex===ce&&i.subSubsectionIndex===re?"lightgray":"transparent",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:M&&M.section===ge&&M.subsection===ce&&M.subSubsection===re?x.jsxs(x.Fragment,{children:[x.jsx(_n,{value:F,onChange:te=>G(te.target.value),size:"small",sx:{mr:1},disabled:C}),!C&&x.jsx(ur,{onClick:()=>ue(ge,ce,re),size:"small",children:x.jsx(S3,{})})]}):x.jsxs(x.Fragment,{children:[x.jsx(Wg,{primary:Te.title}),!C&&x.jsxs(x.Fragment,{children:[x.jsx(ur,{onClick:()=>fe(ge,ce,re,Te.title),size:"small",children:x.jsx(yy,{})}),x.jsx(E3,{onDelete:()=>_(ge,ce,re),itemType:"subSubsection"})]})]})},Te.id))})]},Ie.id))})]},de.id)),x.jsx(W0,{component:"div",onClick:()=>c("footer"),sx:{backgroundColor:i.type==="footer"?"lightgray":"transparent",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:x.jsx(Wg,{primary:"Footer"})})]})]})};var Lv={},yN;function qG(){if(yN)return Lv;yN=1;var t=fs();Object.defineProperty(Lv,"__esModule",{value:!0}),Lv.default=void 0;var i=t(ms()),r=ps();return Lv.default=(0,i.default)((0,r.jsx)("path",{d:"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),"ArrowBackIos"),Lv}var VG=qG();const CL=Si(VG);var Pv={},AN;function HG(){if(AN)return Pv;AN=1;var t=fs();Object.defineProperty(Pv,"__esModule",{value:!0}),Pv.default=void 0;var i=t(ms()),r=ps();return Pv.default=(0,i.default)((0,r.jsx)("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}),"ArrowForwardIos"),Pv}var $G=HG();const xL=Si($G),SL=({returnToSelection:t=!1})=>{const i=so(),[r]=Jy(),o=r.get("course"),a=()=>{i(t||!o?"/supplemental-materials":`/supplemental-materials?course=${o}`)};return x.jsx(xt,{variant:"text",color:"primary",startIcon:x.jsx(lL,{}),onClick:a,className:"supplemental-back-button",children:t?"Course Selection":"Course Materials"})};var Rv={},_N;function WG(){if(_N)return Rv;_N=1;var t=fs();Object.defineProperty(Rv,"__esModule",{value:!0}),Rv.default=void 0;var i=t(ms()),r=ps();return Rv.default=(0,i.default)((0,r.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Image"),Rv}var GG=WG();const YG=Si(GG),KG=({sectionId:t,onImagesUploaded:i})=>{const[r,o]=ae.useState(!1),[a,c]=ae.useState(""),[d,p]=ae.useState("success"),m=Hm(),k=async C=>{if(C.target.files){const v=Array.from(C.target.files),D=[];for(const E of v)try{const O=await w(E),M=await _(O);D.push({url:M.url,title:`Image ${nl()}`})}catch{c("Failed to upload images"),p("error"),o(!0)}i(D),c("Image(s) uploaded successfully"),p("success"),o(!0)}},w=C=>new Promise((v,D)=>{C.size>5*1024*1024?wL.imageFileResizer(C,500,500,"JPEG",70,0,E=>{typeof E=="string"?D(new Error("Compression returned a string instead of a file")):v(E)},"file"):v(C)}),_=C=>new Promise((v,D)=>{const E=Qd(m,`materials/${t}/${C.name}`);Bm(E,C).then(O=>{rp(O.ref).then(M=>{v({url:M,path:O.ref.fullPath})})}).catch(O=>D(O))});return x.jsxs(Be,{children:[x.jsxs(Be,{sx:{mt:2,display:"flex",alignItems:"center"},children:[x.jsx(YG,{sx:{mr:1}}),x.jsx(Pe,{variant:"h6",children:"Images"})]}),x.jsxs(Be,{sx:{mt:2},children:[x.jsxs(xt,{variant:"contained",component:"label",color:"primary",children:["Add Image",x.jsx("input",{type:"file",hidden:!0,accept:"image/*",multiple:!0,onChange:k})]}),x.jsx(Il,{open:r,autoHideDuration:6e3,onClose:()=>o(!1),children:x.jsx(Pr,{onClose:()=>o(!1),severity:d,sx:{width:"100%"},children:a})})]})]})},QG=({imageTitle:t,onTitleChange:i})=>x.jsx(_n,{variant:"outlined",fullWidth:!0,value:t,onChange:r=>i(r.target.value),placeholder:"Image Title",sx:{mt:1}});var Fv={},CN;function ZG(){if(CN)return Fv;CN=1;var t=fs();Object.defineProperty(Fv,"__esModule",{value:!0}),Fv.default=void 0;var i=t(ms()),r=ps();return Fv.default=(0,i.default)((0,r.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link"),Fv}var JG=ZG();const XG=Si(JG),eY=({links:t,onLinksChange:i})=>{const r=()=>{const a={title:"",url:"",description:""};i([...t,a])},o=a=>{const c=t.filter((d,p)=>p!==a);i(c)};return x.jsxs(Be,{children:[x.jsxs(Be,{sx:{mt:2,display:"flex",alignItems:"center"},children:[x.jsx(XG,{sx:{mr:1}}),x.jsx(Pe,{variant:"h6",children:"Links"})]}),x.jsx(Be,{sx:{mt:1},children:t.map((a,c)=>x.jsxs(Be,{sx:{display:"flex",alignItems:"center",mb:1},children:[x.jsx(_n,{label:"Title",value:a.title,onChange:d=>{const p=[...t];p[c].title=d.target.value,i(p)},sx:{flexBasis:"20%",mr:1}}),x.jsx(_n,{label:"URL",value:a.url,onChange:d=>{const p=[...t];p[c].url=d.target.value,i(p)},sx:{flexBasis:"40%",mr:1}}),x.jsx(_n,{label:"Description",value:a.description,onChange:d=>{const p=[...t];p[c].description=d.target.value,i(p)},sx:{flexBasis:"40%"}}),x.jsx(ur,{onClick:()=>o(c),children:x.jsx(yk,{})})]},c))}),x.jsx(xt,{variant:"contained",onClick:r,sx:{mt:2},children:"Add Link"})]})};/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function tY(){const t={resolve:null,promise:null};return t.promise=new Promise(i=>{t.resolve=i}),t}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function nY(t){let i=null;return(...r)=>(i||(i={current:t(...r)}),i.current)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Ka=new Array(256).fill("").map((t,i)=>("0"+i.toString(16)).slice(-2));function rY(){const[t,i,r,o]=crypto.getRandomValues(new Uint32Array(4));return"e"+Ka[t>>0&255]+Ka[t>>8&255]+Ka[t>>16&255]+Ka[t>>24&255]+Ka[i>>0&255]+Ka[i>>8&255]+Ka[i>>16&255]+Ka[i>>24&255]+Ka[r>>0&255]+Ka[r>>8&255]+Ka[r>>16&255]+Ka[r>>24&255]+Ka[o>>0&255]+Ka[o>>8&255]+Ka[o>>16&255]+Ka[o>>24&255]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function iY(t,i){const r=t.extraPlugins||[];return{...t,extraPlugins:[...r,...i.filter(o=>!r.includes(o))]}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function EL(t){return!!t&&/^\d+\.\d+\.\d+/.test(t)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function DL(t){return t?["nightly","alpha","internal","nightly-","staging"].some(i=>t.includes(i)):!1}function oY(t){return EL(t)||DL(t)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function sY(t){if(!EL(t))throw new Error(`Invalid semantic version: ${t||"<blank>"}.`);const[i,r,o]=t.split(".");return{major:Number.parseInt(i,10),minor:Number.parseInt(r,10),patch:Number.parseInt(o,10)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function aY(t){if(DL(t))return 3;const{major:i}=sY(t);switch(!0){case i>=44:return 3;case i>=38:return 2;default:return 1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function lY(){const{CKEDITOR_VERSION:t,CKEDITOR:i}=window;return oY(t)?{source:i?"cdn":"npm",version:t}:null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function cY(){const t=lY();return t?aY(t.version):null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function IL(t,i){switch(i||(i=cY()||void 0),i){case 1:case 2:return t===void 0;case 3:return t==="GPL";default:return!1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function uY(t,i){return function(o){IL(o.config.get("licenseKey"))||o.on("collectUsageData",(a,{setUsageData:c})=>{c(`integration.${t}`,i)})}}var dY=Object.defineProperty,hY=(t,i,r)=>i in t?dY(t,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[i]=r,sc=(t,i,r)=>hY(t,typeof i!="symbol"?i+"":i,r);/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const TL=class ML{constructor(i,r){sc(this,"_lifecycle"),sc(this,"_element"),sc(this,"_releaseLock",null),sc(this,"_value",null),sc(this,"_afterMountCallbacks",[]),sc(this,"_state",{destroyedBeforeInitialization:!1,mountingInProgress:null}),sc(this,"release",nY(()=>{const{_releaseLock:o,_state:a,_element:c,_lifecycle:d}=this;a.mountingInProgress?a.mountingInProgress.then(()=>d.unmount({element:c,mountResult:this.value})).catch(p=>{console.error("CKEditor unmounting error:",p)}).then(o.resolve).then(()=>{this._value=null}):(a.destroyedBeforeInitialization=!0,o.resolve())})),this._element=i,this._lifecycle=r,this._lock()}get value(){return this._value}discard(){this._value=null,this._releaseLock=null,this._afterMountCallbacks=[],this._state={destroyedBeforeInitialization:!1,mountingInProgress:null}}unsafeSetValue(i){this._value=i,this._afterMountCallbacks.forEach(r=>{this._lifecycle.isValueValid&&!this._lifecycle.isValueValid(i)||r(i)}),this._afterMountCallbacks=[]}runAfterMount(i){const{_value:r,_afterMountCallbacks:o}=this;if(r){if(this._lifecycle.isValueValid&&!this._lifecycle.isValueValid(r))return;i(r)}else o.push(i)}_lock(){const{_semaphores:i}=ML,{_state:r,_element:o,_lifecycle:a}=this,c=i.get(o)||Promise.resolve(null),d=tY();this._releaseLock=d;const p=c.then(()=>r.destroyedBeforeInitialization?Promise.resolve(void 0):(r.mountingInProgress=a.mount().then(m=>(m&&this.unsafeSetValue(m),m)),r.mountingInProgress)).then(async m=>{m&&a.afterMount&&await a.afterMount({element:o,mountResult:m})}).then(()=>d.promise).catch(m=>{console.error("CKEditor mounting error:",m)}).then(()=>{i.get(o)===p&&i.delete(o)});i.set(o,p)}};sc(TL,"_semaphores",new Map);let fY=TL;/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const pY="$__CKEditorReactContextMetadata";function mY(t,i){return{...i,[pY]:t}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const gY=vt.createContext(null),bY=t=>!!t&&typeof t=="object"&&"status"in t&&["initializing","initialized","error"].includes(t.status),NL=t=>i=>bY(i)&&i.status===t,xN=NL("initializing"),kY=t=>NL("initialized")(t)&&t.watchdog.state==="ready";/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const wY=uY("react",{version:"11.0.0",frameworkVersion:vt.version});/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function vY(t){return IL(t.licenseKey)?t:iY(t,[wY])}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const D3="Lock from React integration (@ckeditor/ckeditor5-react)";class G4 extends vt.Component{constructor(i){super(i),sc(this,"domContainer",vt.createRef()),sc(this,"editorSemaphore",null),this._checkVersion()}_checkVersion(){const{CKEDITOR_VERSION:i}=window;if(!i)return console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.');const[r]=i.split(".").map(Number);r>=42||i.startsWith("0.0.0")||console.warn("The <CKEditor> component requires using CKEditor 5 in version 42+ or nightly build.")}get _semaphoreValue(){const{editorSemaphore:i}=this;return i?i.value:null}get watchdog(){const{_semaphoreValue:i}=this;return i?i.watchdog:null}get editor(){const{_semaphoreValue:i}=this;return i?i.instance:null}shouldComponentUpdate(i){const{props:r,editorSemaphore:o}=this;return i.id!==r.id||i.disableWatchdog!==r.disableWatchdog?!0:(o&&(o.runAfterMount(({instance:a})=>{this._shouldUpdateEditorData(r,i,a)&&a.data.set(i.data)}),"disabled"in i&&o.runAfterMount(({instance:a})=>{i.disabled?a.enableReadOnlyMode(D3):a.disableReadOnlyMode(D3)})),!1)}componentDidMount(){xN(this.context)||this._initLifeCycleSemaphore()}componentDidUpdate(){xN(this.context)||this._initLifeCycleSemaphore()}componentWillUnmount(){this._unlockLifeCycleSemaphore()}_unlockLifeCycleSemaphore(){this.editorSemaphore&&(this.editorSemaphore.release(),this.editorSemaphore=null)}_initLifeCycleSemaphore(){this._unlockLifeCycleSemaphore(),this.editorSemaphore=new fY(this.domContainer.current,{isValueValid:i=>i&&!!i.instance,mount:async()=>{var i,r;try{return await this._initializeEditor()}catch(o){throw(r=(i=this.props).onError)==null||r.call(i,o,{phase:"initialization",willEditorRestart:!1}),o}},afterMount:({mountResult:i})=>{const{onReady:r}=this.props;r&&this.domContainer.current!==null&&r(i.instance)},unmount:async({element:i,mountResult:r})=>{const{onAfterDestroy:o}=this.props;try{await this._destroyEditor(r),i.innerHTML=""}finally{o&&o(r.instance)}}})}render(){return vt.createElement("div",{ref:this.domContainer})}async _initializeEditor(){if(this.props.disableWatchdog)return{instance:await this._createEditor(this.domContainer.current,this._getConfig()),watchdog:null};const i=kY(this.context)?new yY(this.context.watchdog):new this.props.editor.EditorWatchdog(this.props.editor,this.props.watchdogConfig),r={current:0};return i.setCreator(async(o,a)=>{var c;const{editorSemaphore:d}=this,{onAfterDestroy:p}=this.props;r.current>0&&p&&((c=d==null?void 0:d.value)!=null&&c.instance)&&p(d.value.instance);const m=await this._createEditor(o,a);return d&&r.current>0&&(d.unsafeSetValue({instance:m,watchdog:i}),setTimeout(()=>{this.props.onReady&&this.props.onReady(i.editor)})),r.current++,m}),i.on("error",(o,{error:a,causesRestart:c})=>{(this.props.onError||console.error)(a,{phase:"runtime",willEditorRestart:c})}),await i.create(this.domContainer.current,this._getConfig()),{watchdog:i,instance:i.editor}}_createEditor(i,r){const{contextItemMetadata:o}=this.props;return o&&(r=mY(o,r)),this.props.editor.create(i,vY(r)).then(a=>{if("disabled"in this.props){/* istanbul ignore else -- @preserve */this.props.disabled&&a.enableReadOnlyMode(D3)}const c=a.model.document,d=a.editing.view.document;return c.on("change:data",p=>{/* istanbul ignore else -- @preserve */this.props.onChange&&this.props.onChange(p,a)}),d.on("focus",p=>{/* istanbul ignore else -- @preserve */this.props.onFocus&&this.props.onFocus(p,a)}),d.on("blur",p=>{/* istanbul ignore else -- @preserve */this.props.onBlur&&this.props.onBlur(p,a)}),a})}async _destroyEditor(i){const{watchdog:r,instance:o}=i;return new Promise((a,c)=>{/* istanbul ignore next -- @preserve */setTimeout(async()=>{try{if(r)return await r.destroy(),a();if(o)return await o.destroy(),a();a()}catch(d){console.error(d),c(d)}})})}_shouldUpdateEditorData(i,r,o){return!(i.data===r.data||o.data.get()===r.data)}_getConfig(){const i=this.props.config||{};return this.props.data&&i.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...i,initialData:i.initialData||this.props.data||""}}}sc(G4,"contextType",gY);class yY{constructor(i){sc(this,"_contextWatchdog"),sc(this,"_id"),sc(this,"_creator"),this._contextWatchdog=i,this._id=rY()}setCreator(i){this._creator=i}create(i,r){return this._contextWatchdog.add({sourceElementOrData:i,config:r,creator:this._creator,id:this._id,type:"editor"})}on(i,r){this._contextWatchdog.on("itemError",(o,{itemId:a,error:c})=>{a===this._id&&r(null,{error:c,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function OL(...t){return i=>{t.forEach(r=>{typeof r=="function"?r(i):r!=null&&(r.current=i)})}}const AY=ae.memo(ae.forwardRef(({id:t,semaphore:i,rootName:r},o)=>{const a=ae.useRef(null);return ae.useEffect(()=>{let c,d;return i.runAfterMount(({instance:p})=>{if(!a.current)return;d=p;const{ui:m,model:k}=d,w=k.document.getRoot(r);w&&d.ui.getEditableElement(r)&&d.detachEditable(w),c=m.view.createEditable(r,a.current),m.addEditable(c),p.editing.view.forceRender()}),()=>{/* istanbul ignore next -- @preserve: It depends on the version of the React and may not happen all of the times. */if(d&&d.state!=="destroyed"&&a.current){const p=d.model.document.getRoot(r);/* istanbul ignore else -- @preserve */p&&d.detachEditable(p)}}},[i.revision]),vt.createElement("div",{key:i.revision,id:t,ref:OL(o,a)})}));AY.displayName="EditorEditable";const _Y=ae.forwardRef(({editor:t},i)=>{const r=ae.useRef(null);return ae.useEffect(()=>{const o=r.current;if(!t||!o)return;const a=t.ui.view.toolbar.element;return o.appendChild(a),()=>{o.contains(a)&&o.removeChild(a)}},[t&&t.id]),vt.createElement("div",{ref:OL(r,i)})});_Y.displayName="EditorToolbarWrapper";var by={exports:{}};by.exports;var SN;function CY(){return SN||(SN=1,function(t,i){(function(r){const o=r.en=r.en||{};o.dictionary=Object.assign(o.dictionary||{},{"(may require <kbd>Fn</kbd>)":"(may require <kbd>Fn</kbd>)","%0 of %1":"%0 of %1",Accept:"Accept",Accessibility:"Accessibility","Accessibility help":"Accessibility help","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background","Below, you can find a list of keyboard shortcuts that can be used in the editor.":"Below, you can find a list of keyboard shortcuts that can be used in the editor.",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Bold text":"Bold text",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cannot access default workspace.":"Cannot access default workspace.","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Clear:"Clear","Click to edit block":"Click to edit block",Close:"Close","Close contextual balloons, dropdowns, and dialogs":"Close contextual balloons, dropdowns, and dialogs",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column","Content editing keystrokes":"Content editing keystrokes","Copy selected content":"Copy selected content","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Create link":"Create link",Custom:"Custom","Custom image size":"Custom image size",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Decrease list item indent":"Decrease list item indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Drag to move":"Drag to move","Dropdown menu":"Dropdown menu","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit image":"Edit image","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor dialog":"Editor dialog","Editor menu bar":"Editor menu bar","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption","Entering a to-do list":"Entering a to-do list","Error during image upload":"Error during image upload","Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.":"Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.","Failed to determine category of edited image.":"Failed to determine category of edited image.",File:"File","From computer":"From computer","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height","Help Contents. To close this dialog press ESC.":"Help Contents. To close this dialog press ESC.",HEX:"HEX","Horizontal text alignment toolbar":"Horizontal text alignment toolbar",Image:"Image","Image from computer":"Image from computer","Image resize list":"Image resize list","Image toolbar":"Image toolbar","Image upload complete":"Image upload complete","Image via URL":"Image via URL","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Increase list item indent":"Increase list item indent","Insert a hard break (a new paragraph)":"Insert a hard break (a new paragraph)","Insert a new paragraph directly after a widget":"Insert a new paragraph directly after a widget","Insert a new paragraph directly before a widget":"Insert a new paragraph directly before a widget","Insert a new table row (when in the last cell of a table)":"Insert a new table row (when in the last cell of a table)","Insert a soft break (a <code>&lt;br&gt;</code> element)":"Insert a soft break (a <code>&lt;br&gt;</code> element)","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert image via URL":"Insert image via URL","Insert image with file manager":"Insert image with file manager","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Insert via URL":"Insert via URL","Insert with file manager":"Insert with file manager","Inserting image failed":"Inserting image failed",Inset:"Inset","Invalid start index value.":"Invalid start index value.",Italic:"Italic","Italic text":"Italic text","Justify cell text":"Justify cell text","Keystrokes that can be used in a list":"Keystrokes that can be used in a list","Keystrokes that can be used in a table cell":"Keystrokes that can be used in a table cell","Keystrokes that can be used when a widget is selected (for example: image, table, etc.)":"Keystrokes that can be used when a widget is selected (for example: image, table, etc.)","Leaving a to-do list":"Leaving a to-do list","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","Link URL must not be empty.":"Link URL must not be empty.","List properties":"List properties","Lower-latin":"Lower-latin","Lowerroman":"Lowerroman",Media:"Media","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget",MENU_BAR_MENU_EDIT:"Edit",MENU_BAR_MENU_FILE:"File",MENU_BAR_MENU_FONT:"Font",MENU_BAR_MENU_FORMAT:"Format",MENU_BAR_MENU_HELP:"Help",MENU_BAR_MENU_INSERT:"Insert",MENU_BAR_MENU_TEXT:"Text",MENU_BAR_MENU_TOOLS:"Tools",MENU_BAR_MENU_VIEW:"View","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells","Move focus between form fields (inputs, buttons, etc.)":"Move focus between form fields (inputs, buttons, etc.)","Move focus from an editable area back to the parent widget":"Move focus from an editable area back to the parent widget","Move focus in and out of an active dialog window":"Move focus in and out of an active dialog window","Move focus to the menu bar, navigate between menu bars":"Move focus to the menu bar, navigate between menu bars","Move focus to the toolbar, navigate between toolbars":"Move focus to the toolbar, navigate between toolbars","Move out of a link":"Move out of a link","Move out of an inline code style":"Move out of an inline code style","Move the caret to allow typing directly after a widget":"Move the caret to allow typing directly after a widget","Move the caret to allow typing directly before a widget":"Move the caret to allow typing directly before a widget","Move the selection to the next cell":"Move the selection to the next cell","Move the selection to the previous cell":"Move the selection to the previous cell","Navigate through the table":"Navigate through the table","Navigate through the toolbar or menu bar":"Navigate through the toolbar or menu bar",Next:"Next","No results found":"No results found","No searchable items":"No searchable items",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab","Open the accessibility help dialog":"Open the accessibility help dialog",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste content":"Paste content","Paste content as plain text":"Paste content as plain text","Paste the media URL in the input.":"Paste the media URL in the input.",'Please enter a valid color (e.g. "ff0000").':'Please enter a valid color (e.g. "ff0000").',"Press %0 for help.":"Press %0 for help.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous","Processing the edited image.":"Processing the edited image.",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Replace from computer":"Replace from computer","Replace image":"Replace image","Replace image from computer":"Replace image from computer","Replace image with file manager":"Replace image with file manager","Replace with file manager":"Replace with file manager","Resize image":"Resize image","Resize image (in %0)":"Resize image (in %0)","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Reversed order":"Reversed order","Revert autoformatting action":"Revert autoformatting action","Rich Text Editor":"Rich Text Editor","Rich Text Editor. Editing area: %0":"Rich Text Editor. Editing area: %0",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Scroll to target":"Scroll to target","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Server failed to process the image.":"Server failed to process the image.","Show more items":"Show more items","Side image":"Side image",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough","Strikethrough text":"Strikethrough text",Style:"Style",Subscript:"Subscript",Superscript:"Superscript",Table:"Table","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"The value must not be empty.":"The value must not be empty.","The value should be a plain number.":"The value should be a plain number.","These keyboard shortcuts allow for quick access to content editing features.":"These keyboard shortcuts allow for quick access to content editing features.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lowerlatin list style":"Toggle the lowerlatin list style","Toggle the lowerroman list style":"Toggle the lowerroman list style","Toggle the square list style":"Toggle the square list style","Toggle the upperlatin list style":"Toggle the upperlatin list style","Toggle the upperroman list style":"Toggle the upperroman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline","Underline text":"Underline text",Undo:"Undo",Unlink:"Unlink","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload from computer":"Upload from computer","Upload image from computer":"Upload image from computer","Upload in progress":"Upload in progress","Uploading image":"Uploading image","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.":"Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.","User interface and content navigation keystrokes":"User interface and content navigation keystrokes","Vertical text alignment toolbar":"Vertical text alignment toolbar","Via URL":"Via URL",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","With file manager":"With file manager","Wrap text":"Wrap text",Yellow:"Yellow","You have no image editing permissions.":"You have no image editing permissions.","You have no image upload permissions.":"You have no image upload permissions."}),o.getPluralForm=function(a){return a!=1}})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(r,o){t.exports=o()}(self,()=>(()=>{var r={4:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-menu-bar__menu{display:block;font-size:inherit;position:relative}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level{max-width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenu.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenu.css"],names:[],mappings:"AAKA,sBACC,aAAc,CCCd,iBAAkB,CDAlB,iBACD,CCCC,kDACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-menu-bar__menu {
	display: block;
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-menu-bar__menu {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	&.ck-menu-bar__menu_top-level {
		max-width: 100%;
	}
}
`],sourceRoot:""}]);const v=C},25:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/collapsible/collapsible.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/collapsible/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAGC,eAAgB,CAChB,aAAc,CAFd,eAAiB,CADjB,UAmBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,gFACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const v=C},62:d=>{d.exports=function(p,m){return m||(m={}),p&&(p=String(p.__esModule?p.default:p),/^['"].*['"]$/.test(p)&&(p=p.slice(1,-1)),m.hash&&(p+=m.hash),/["'() \t\n]|(%20)/.test(p)||m.needQuotes?'"'.concat(p.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):p)}},70:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const v=C},109:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:ck-spinner-rotate 1.5s linear infinite;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-spinner-container{animation-duration:3s}}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@keyframes ck-spinner-rotate{to{transform:rotate(1turn)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/spinner/spinner.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/spinner/spinner.css"],names:[],mappings:"AASA,yBACC,aAAc,CACd,iBACD,CAEA,eAGC,MAAO,CAEP,aAAc,CAJd,iBAAkB,CAGlB,OAAQ,CAFR,OAAQ,CAIR,0BAA2B,CAC3B,SACD,CCjBA,MACC,8BACD,CAEA,yBAGC,gDAAiD,CADjD,qCAAsC,CADtC,oCAOD,CAHC,uCALD,yBAME,qBAEF,CADC,CAGD,eAKC,qCAA6B,CAF7B,iBAAkB,CAElB,gCAA6B,CAH7B,qCAAsC,CADtC,oCAKD,CAEA,6BACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	display: block;
	position: relative;
}

.ck.ck-spinner {
	position: absolute;
	top: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	transform: translateY(-50%);
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	animation: 1.5s infinite ck-spinner-rotate linear;

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 3s;
	}
}

.ck.ck-spinner {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	border-radius: 50%;
	border: 2px solid var(--ck-color-text);
	border-top-color: transparent;
}

@keyframes ck-spinner-rotate {
	to {
		transform: rotate(360deg)
	}
}
`],sourceRoot:""}]);const v=C},253:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);border-radius:0;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}@media (prefers-reduced-motion:reduce){.ck.ck-input{transition:none}}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}@media (prefers-reduced-motion:reduce){.ck.ck-input.ck-error{animation:none}}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aAGC,2CAA4C,CAC5C,6CAA8C,CCT9C,eAAgB,CDchB,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DAkCD,CCjDC,iEAEC,qCAED,CDaA,uCAdD,aAeE,eA+BF,CA9BC,CAEA,mBEvBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YF2BA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BGnCD,oDHsCC,CAGD,sBAEC,sCAAuC,CADvC,+CAUD,CAPC,uCAJD,sBAKE,cAMF,CALC,CAEA,4BGjDD,iDHmDC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		@media (prefers-reduced-motion: reduce) {
			animation: none;
		}

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const v=C},265:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBA2BD,CAjBC,uBAEC,aAAc,CAad,WAAY,CAVZ,aAAc,CAGd,cAAe,CAGf,cAKD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAKA,+BACC,SASD,CAHC,kDACC,SACD,CAMD,sCACC,SAkBD,CAZC,yDACC,SAUD,CAHC,qEACC,YACD,CAMF,0CACC,WACD,CAMC,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%;

			/* Keep proportions of the block image if the height is set and the image is wider than the editor width.
			See https://github.com/ckeditor/ckeditor5/issues/14542. */
			height: auto;
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image {
		z-index: 1;

		/*
		 * Make sure the selected image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;
		}
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image-inline {
		z-index: 1;

		/*
		 * Make sure the selected inline image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;

			/*
			 * Make sure the native browser selection style is not displayed.
			 * Inline image widgets have their own styles for the selected state and
			 * leaving this up to the browser is asking for a visual collision.
			 */
			& ::selection {
				display: none;
			}
		}
	}

	/* Keep proportions of the inline image if the height is set and the image is wider than the editor width.
	See https://github.com/ckeditor/ckeditor5/issues/14542. */
	& .image-inline img {
		height: auto;
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const v=C},278:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-list-item-button{border-radius:0;min-height:unset;width:100%}[dir=ltr] .ck.ck-list-item-button{text-align:left}[dir=rtl] .ck.ck-list-item-button{text-align:right}[dir=ltr] .ck.ck-list-item-button.ck-list-item-button_toggleable{padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-list-item-button.ck-list-item-button_toggleable{padding-right:var(--ck-spacing-small)}.ck.ck-list-item-button .ck-list-item-button__check-holder{display:inline-flex;height:.9em;width:.9em}[dir=ltr] .ck.ck-list-item-button .ck-list-item-button__check-holder{margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-list-item-button .ck-list-item-button__check-holder{margin-left:var(--ck-spacing-small)}.ck.ck-list-item-button .ck-list-item-button__check-icon{height:100%}.ck.ck-button.ck-list-item-button{padding:var(--ck-spacing-tiny) calc(var(--ck-spacing-standard)*2)}.ck.ck-button.ck-list-item-button,.ck.ck-button.ck-list-item-button.ck-on{background:var(--ck-color-list-background);color:var(--ck-color-text)}[dir=ltr] .ck.ck-button.ck-list-item-button:has(.ck-list-item-button__check-holder){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-list-item-button:has(.ck-list-item-button__check-holder){padding-right:var(--ck-spacing-small)}.ck.ck-button.ck-list-item-button.ck-button.ck-on:hover,.ck.ck-button.ck-list-item-button.ck-on:hover,.ck.ck-button.ck-list-item-button.ck-on:not(.ck-list-item-button_toggleable),.ck.ck-button.ck-list-item-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-button.ck-list-item-button.ck-button.ck-on:hover:not(.ck-disabled),.ck.ck-button.ck-list-item-button.ck-on:hover:not(.ck-disabled),.ck.ck-button.ck-list-item-button.ck-on:not(.ck-list-item-button_toggleable):not(.ck-disabled),.ck.ck-button.ck-list-item-button:hover:not(.ck-disabled):not(.ck-disabled){color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/listitembutton.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/listitembutton.css"],names:[],mappings:"AAOA,wBAGC,eAAgB,CAFhB,gBAAiB,CACjB,UAsCD,CCzCC,kCDOC,eCLD,CAFA,kCDWC,gBCTD,CAFA,iEDgBE,oCCdF,CAFA,iEDoBE,qCClBF,CDsBA,2DACC,mBAAoB,CAEpB,WAAY,CADZ,UAUD,CCpCA,qED8BE,oCC5BF,CAFA,qEDkCE,mCChCF,CDoCA,yDACC,WACD,CEvCD,kCACC,iEAiCD,CA/BC,0EAEC,0CAA2C,CAC3C,0BACD,CDRA,oFCYE,oCDVF,CAFA,oFCgBE,qCDdF,CCuBA,6OAIC,uDAKD,CAHC,qTACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../mixins/_dir.css";

.ck.ck-list-item-button {
	min-height: unset;
	width: 100%;
	border-radius: 0;

	@mixin ck-dir ltr {
		text-align: left;
	}

	@mixin ck-dir rtl {
		text-align: right;
	}

	&.ck-list-item-button_toggleable {
		@mixin ck-dir ltr {
			padding-left: var(--ck-spacing-small);
		}

		@mixin ck-dir rtl {
			padding-right: var(--ck-spacing-small);
		}
	}

	& .ck-list-item-button__check-holder {
		display: inline-flex;
		width: .9em;
		height: .9em;

		@mixin ck-dir ltr {
			margin-right: var(--ck-spacing-small);
		}

		@mixin ck-dir rtl {
			margin-left: var(--ck-spacing-small);
		}
	}

	& .ck-list-item-button__check-icon {
		height: 100%;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button.ck-list-item-button {
	padding: var(--ck-spacing-tiny) calc(2 * var(--ck-spacing-standard));

	&,
	&.ck-on {
		background: var(--ck-color-list-background);
		color: var(--ck-color-text);
	}

	&:has(.ck-list-item-button__check-holder) {
		@mixin ck-dir ltr {
			padding-left: var(--ck-spacing-small);
		}

		@mixin ck-dir rtl {
			padding-right: var(--ck-spacing-small);
		}
	}

	/*
	 * \`.ck-on\` class and background styling is overridden for \`ck-button\` in many places.
	 * This is a workaround to make sure that the background is not overridden and uses similar
	 * selector specificity as the other overrides.
	 */
	&:hover:not(.ck-disabled),
	&.ck-button.ck-on:hover,
	&.ck-on:not(.ck-list-item-button_toggleable),
	&.ck-on:hover {
		background: var(--ck-color-list-button-hover-background);

		&:not(.ck-disabled) {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const v=C},497:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-menu-bar{background:var(--ck-color-base-background);border:1px solid var(--ck-color-toolbar-border);display:flex;flex-wrap:wrap;gap:var(--ck-spacing-small);justify-content:flex-start;padding:var(--ck-spacing-small);width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubar.css"],names:[],mappings:"AAKA,gBAIC,0CAA2C,CAG3C,+CAAgD,CANhD,YAAa,CACb,cAAe,CAIf,2BAA4B,CAH5B,0BAA2B,CAE3B,+BAAgC,CAGhC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-menu-bar {
	display: flex;
	flex-wrap: wrap;
	justify-content: flex-start;
	background: var(--ck-color-base-background);
	padding: var(--ck-spacing-small);
	gap: var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);
	width: 100%;
}
`],sourceRoot:""}]);const v=C},657:d=>{d.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSlzY2FsZSguOTgwMTIpIj48cmVjdCB3aWR0aD0iNjAuMDk5IiBoZWlnaHQ9IjYwLjA5OSIgeD0iMTc2LjAzMSIgeT0iMjMxLjM5OSIgZmlsbD0iIzM0YTY2OCIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjIzOCIgcnk9IjUuMjM4Ii8+PHBhdGggZmlsbD0iIzVjODhjNSIgZD0ibTIwNi40NzcgMjYwLjktMjguOTg3IDI4Ljk4N2E1LjIyIDUuMjIgMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiLz48cGF0aCBmaWxsPSIjZGQ0YjNlIiBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwN3EuNS43NTMuOTUgMS41MDguNTE1LjcxNS45ODggMS40NGMxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5cS40NzMtLjcyMy45ODgtMS40MzkuNDUtLjc1NS45NS0xLjUwOGMuMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIGN4PSIyMjYuNzQyIiBjeT0iMjM5LjAwMiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjgyOCIgcnk9IjUuNTY0Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjlxLS4wMDEtLjU0My0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhxLS4wMDEtLjAwMy0uMDA0LS4wMDVjLTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTVtNC40MyA1LjY2LjAwMy4wMDZ2LS4wMDN6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGZpbGw9IiNjM2MzYzMiIGQ9Im0yMTUuMTg0IDI1MS45MjktNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMiA1LjIgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjl6Ii8+PHBhdGggZmlsbD0iI2ZkZGM0ZiIgZD0ibTIxMi45ODMgMjQ4LjQ5NS0zNi45NTIgMzYuOTUzdi44MTJhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYgMTM2IDAgMCAwLTIuNzY0LTMuOSAzOCAzOCAwIDAgMC0uOTg5LTEuNDQgMzUgMzUgMCAwIDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4="},695:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget{transition:none}}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{box-shadow:var(--ck-inner-shadow),0 0}@media (forced-colors:none){.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background)}}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused:not(td,th),.ck .ck-editor__nested-editable:focus:not(td,th){border:var(--ck-focus-ring);outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CChFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAcD,CAZC,uCAND,eAOE,eAWF,CAVC,CAEA,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAoBD,CAhBC,yGCrCA,qCDoDA,CE/CA,4BACC,yGFmCC,iEEjCD,CACD,CFwCC,+HG/CD,2BAA2B,CAD3B,YHkDC,CAKD,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAwCD,CA3BC,uCAzBD,4EA0BE,eA0BF,CAzBC,CAEA,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAeD,CAVC,kHACC,SAAU,CAGV,+DAKD,CAHC,uCAND,kHAOE,eAEF,CADC,CAKF,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-box-shadow var(--ck-inner-shadow);
		@mixin ck-media-default-colors {
			background-color: var(--ck-color-widget-editable-focus-background);
		}

		/**
		 * Focus border should not be applied to table cells because it overrides the default table cell border color.
		 * In other words - in some scenarios, the part of the table cell border has focus color style, which is not expected behavior
		 * because it should be the same as the table cell border color.
		 */
		&:not(td, th) {
			@mixin ck-focus-ring;
		}
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);

				@media (prefers-reduced-motion: reduce) {
					transition: none;
				}
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`],sourceRoot:""}]);const v=C},802:(d,p,m)=>{const k=m(9246);function w(v){const D=function(){const O={},M=Object.keys(k);for(let j=M.length,F=0;F<j;F++)O[M[F]]={distance:-1,parent:null};return O}(),E=[v];for(D[v].distance=0;E.length;){const O=E.pop(),M=Object.keys(k[O]);for(let j=M.length,F=0;F<j;F++){const G=M[F],J=D[G];J.distance===-1&&(J.distance=D[O].distance+1,J.parent=O,E.unshift(G))}}return D}function _(v,D){return function(E){return D(v(E))}}function C(v,D){const E=[D[v].parent,v];let O=k[D[v].parent][v],M=D[v].parent;for(;D[M].parent;)E.unshift(D[M].parent),O=_(k[D[M].parent][M],O),M=D[M].parent;return O.conversion=E,O}d.exports=function(v){const D=w(v),E={},O=Object.keys(D);for(let M=O.length,j=0;j<M;j++){const F=O[j];D[F].parent!==null&&(E[F]=C(F,D))}return E}},935:d=>{d.exports=function(p){var m=[];return m.toString=function(){return this.map(function(k){var w="",_=k[5]!==void 0;return k[4]&&(w+="@supports (".concat(k[4],") {")),k[2]&&(w+="@media ".concat(k[2]," {")),_&&(w+="@layer".concat(k[5].length>0?" ".concat(k[5]):""," {")),w+=p(k),_&&(w+="}"),k[2]&&(w+="}"),k[4]&&(w+="}"),w}).join("")},m.i=function(k,w,_,C,v){typeof k=="string"&&(k=[[null,k,void 0]]);var D={};if(_)for(var E=0;E<this.length;E++){var O=this[E][0];O!=null&&(D[O]=!0)}for(var M=0;M<k.length;M++){var j=[].concat(k[M]);_&&D[j[0]]||(v!==void 0&&(j[5]===void 0||(j[1]="@layer".concat(j[5].length>0?" ".concat(j[5]):""," {").concat(j[1],"}")),j[5]=v),w&&(j[2]&&(j[1]="@media ".concat(j[2]," {").concat(j[1],"}")),j[2]=w),C&&(j[4]?(j[1]="@supports (".concat(j[4],") {").concat(j[1],"}"),j[4]=C):j[4]="".concat(C)),m.push(j))}},m}},977:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button{border-radius:0}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container,.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container .ck-spinner{--ck-toolbar-spinner-size:20px}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container{font-size:var(--ck-icon-font-size)}[dir=ltr] .ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container{margin-left:var(--ck-spacing-medium)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitembutton.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css"],names:[],mappings:"AAWC,iEACC,eAoBD,CAlBC,0LAGC,8BACD,CAEA,uFAEC,kCASD,CCzBD,iGDmBG,qCCjBH,CAFA,iGDuBG,oCCrBH",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-menu-bar__menu {
	/*
	 * List item buttons.
	 */
	& .ck-button.ck-menu-bar__menu__item__button {
		border-radius: 0;

		& > .ck-spinner-container,
		& > .ck-spinner-container .ck-spinner {
			/* These styles correspond to .ck-icon so that the spinner seamlessly replaces the icon. */
			--ck-toolbar-spinner-size: 20px;
		}

		& > .ck-spinner-container {
			/* This ensures margins corresponding to the .ck-icon. */
			font-size: var(--ck-icon-font-size);

			@mixin ck-dir ltr {
				margin-right: var(--ck-spacing-medium);
			}

			@mixin ck-dir rtl {
				margin-left: var(--ck-spacing-medium);
			}
		}
	}
}


`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const v=C},991:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const v=C},1185:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CCTC,yJAEC,qCAED,CDCA,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-panel-background);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-panel-background);
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const v=C},1232:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const v=C},1559:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const v=C},1623:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both;background:var(--ck-color-base-error);border-radius:0;color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}@media (prefers-reduced-motion:reduce){.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:none}}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableform.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCA6BD,CA3BC,8EAgBC,iEAAkE,CAblE,qCAAsC,CC3CxC,eAAgB,CD4Cd,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAcD,CC3DD,mMAEC,qCAED,CD4CE,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAIA,uCAlBD,8EAmBE,cAEF,CADC,CAID,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__background-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__dimensions-row {
			flex-wrap: wrap;
			align-items: center;

			& .ck-labeled-field-view {
				display: flex;
				flex-direction: column-reverse;
				align-items: center;

				& .ck.ck-dropdown {
					flex-grow: 0;
				}
			}

			& .ck-table-form__dimension-operator {
				flex-grow: 0;
			}
		}
	}

	& .ck.ck-labeled-field-view {
		/* Allow absolute positioning of the status (error) balloons. */
		position: relative;

		& .ck.ck-labeled-field-view__status {
			position: absolute;
			left: 50%;
			bottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );
			transform: translate(-50%,100%);

			/* Make sure the balloon status stays on top of other form elements. */
			z-index: 1;

			/* The arrow pointing towards the field. */
			&::after {
				content: "";
				position: absolute;
				top: calc( -1 * var(--ck-table-properties-error-arrow-size) );
				left: 50%;
				transform: translateX( -50% );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../mixins/_rounded.css";

:root {
	--ck-table-properties-error-arrow-size: 6px;
	--ck-table-properties-min-error-width: 150px;
}

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			& .ck-labeled-field-view {
				& > .ck-label {
					font-size: var(--ck-font-size-tiny);
					text-align: center;
				}
			}

			& .ck-table-form__border-style,
			& .ck-table-form__border-width {
				width: 80px;
				min-width: 80px;
				max-width: 80px;
			}
		}

		&.ck-table-form__dimensions-row {
			padding: 0;

			& .ck-table-form__dimensions-row__width,
			& .ck-table-form__dimensions-row__height {
				margin: 0
			}

			& .ck-table-form__dimension-operator {
				align-self: flex-end;
				display: inline-block;
				height: var(--ck-ui-component-min-height);
				line-height: var(--ck-ui-component-min-height);
				margin: 0 var(--ck-spacing-small);
			}
		}
	}

	& .ck.ck-labeled-field-view {
		padding-top: var(--ck-spacing-standard);

		& .ck.ck-labeled-field-view__status {
			@mixin ck-rounded-corners;

			background: var(--ck-color-base-error);
			color: var(--ck-color-base-background);
			padding: var(--ck-spacing-small) var(--ck-spacing-medium);
			min-width: var(--ck-table-properties-min-error-width);
			text-align: center;

			/* The arrow pointing towards the field. */
			&::after {
				border-color: transparent transparent var(--ck-color-base-error) transparent;
				border-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);
				border-style: solid;
			}

			animation: ck-table-form-labeled-view-status-appear .15s ease both;

			@media (prefers-reduced-motion: reduce) {
				animation: none;
			}
		}

		/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */
		& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {
			display: none;
		}
	}
}

@keyframes ck-table-form-labeled-view-status-appear {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const v=C},1666:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const v=C},1671:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck-textarea{overflow-x:hidden}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/textarea/textarea.css"],names:[],mappings:"AASA,aACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/*
 * This fixes a problem in Firefox when the initial height of the complement does not match the number of rows.
 * This bug is especially visible when rows=1.
 */
.ck-textarea {
	overflow-x: hidden
}
`],sourceRoot:""}]);const v=C},1792:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAQE,oIAGC,gCAAiC,CADjC,6BAED,CAEA,oIAGC,+BAAgC,CADhC,4BAED,CAGD,0CAGC,eAiBD,CAfC,oDAGC,+BAAgC,CADhC,4BAED,CAEA,oDAGC,gCAAiC,CADjC,6BAED,CAEA,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAIA,uCCnDA,eD6DA,CC3DA,qHAEC,qCAED,CD+CE,qKACC,2BACD,CAEA,mKACC,4BACD,CAUD,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		[dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		[dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		[dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		[dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		[dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		[dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const v=C},1801:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-aria-live-announcer{left:-10000px;position:absolute;top:-10000px}.ck.ck-aria-live-region-list{list-style-type:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/arialiveannouncer/arialiveannouncer.css"],names:[],mappings:"AAKA,2BAEC,aAAc,CADd,iBAAkB,CAElB,YACD,CAEA,6BACC,oBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-aria-live-announcer {
	position: absolute;
	left: -10000px;
	top: -10000px;
}

.ck.ck-aria-live-region-list {
	list-style-type: none;
}
`],sourceRoot:""}]);const v=C},1866:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,':root{--ck-image-processing-highlight-color:#f9fafa;--ck-image-processing-background-color:#e3e5e8}.ck.ck-editor__editable .image.image-processing{position:relative}.ck.ck-editor__editable .image.image-processing:before{animation:ck-image-processing-animation 2s linear infinite;background:linear-gradient(90deg,var(--ck-image-processing-background-color),var(--ck-image-processing-highlight-color),var(--ck-image-processing-background-color));background-size:200% 100%;content:"";height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.ck.ck-editor__editable .image.image-processing img{height:100%}@keyframes ck-image-processing-animation{0%{background-position:200% 0}to{background-position:-200% 0}}',"",{version:3,sources:["webpack://./../ckeditor5-ckbox/theme/ckboximageedit.css"],names:[],mappings:"AAKA,MAEC,6CAAyD,CACzD,8CACD,CAIE,gDACC,iBA2BD,CAzBC,uDAmBC,0DAA2D,CAR3D,oKAKC,CACD,yBAA0B,CAhB1B,UAAW,CAOX,WAAY,CAHZ,MAAO,CAFP,iBAAkB,CAClB,KAAM,CAKN,UAAW,CAHX,SAcD,CAEA,oDACC,WACD,CAKH,yCACC,GACC,0BACD,CACA,GACC,2BACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	/* Based on default CKBox theme colors */
	--ck-image-processing-highlight-color: hsl(220, 10%, 98%);
	--ck-image-processing-background-color: hsl(220, 10%, 90%);
}

.ck.ck-editor__editable {
	& .image {
		&.image-processing {
			position: relative;

			&:before {
				content: '';

				position: absolute;
				top: 0;
				left: 0;
				z-index: 1;

				height: 100%;
				width: 100%;

				background: linear-gradient(
					90deg,
					var(--ck-image-processing-background-color),
					var(--ck-image-processing-highlight-color),
					var(--ck-image-processing-background-color)
				);
				background-size: 200% 100%;

				animation: ck-image-processing-animation 2s linear infinite;
			}

			& img {
				height: 100%;
			}
		}
	}
}

@keyframes ck-image-processing-animation {
	0% {
		background-position: 200% 0;
	}
	100% {
		background-position: -200% 0;
	}
}
`],sourceRoot:""}]);const v=C},1905:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;
	margin: var(--ck-spacing-large) 0 0;
	width: unset;

	& .ck.ck-labeled-field-view {
		padding-top: unset;
	}

	& .ck.ck-input-text {
		width: unset;
	}

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const v=C},2001:d=>{d.exports=function(p){var m=p[1],k=p[3];if(!k)return m;if(typeof btoa=="function"){var w=btoa(unescape(encodeURIComponent(JSON.stringify(k)))),_="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(w),C="/*# ".concat(_," */");return[m].concat([C]).join(`
`)}return[m].join(`
`)}},2171:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,":root{--ck-dropdown-menu-menu-item-min-width:18em}.ck.ck-dropdown-menu-list__nested-menu__item{min-width:var(--ck-dropdown-menu-menu-item-min-width)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/menu/dropdownmenulistitem.css"],names:[],mappings:"AAKA,MACC,2CACD,CAEA,6CACC,qDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-dropdown-menu-menu-item-min-width: 18em;
}

.ck.ck-dropdown-menu-list__nested-menu__item {
	min-width: var(--ck-dropdown-menu-menu-item-min-width);
}
`],sourceRoot:""}]);const v=C},2267:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:none;opacity:1}}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBAMD,CAJC,uCAHD,yFAKE,cAAe,CADf,SAGF,CADC,CAKF,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;

			@media (prefers-reduced-motion: reduce) {
				opacity: 1;
				animation: none;
			}
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const v=C},2329:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}@media print{.ck-content .table table{height:auto}}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAeF,aACC,yBACC,WACD,CACD,CAIA,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/**
 * Expanding the table to the full height of the parent container is necessary because tables
 * are rendered inside <figure> elements, which is kinda buggy in table height calculation.
 * While setting \`height: 100%\` fixes the issue in the editing mode described here:
 * https://github.com/ckeditor/ckeditor5/issues/6186
 *
 * it's causing another issue with the table height in the print preview mode here:
 * https://github.com/ckeditor/ckeditor5/issues/16856
 *
 * For now, resetting the height to \`initial\` in the print mode works as a workaround.
 */
@media print {
	.ck-content .table table {
		height: initial;
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const v=C},2591:d=>{var p=[];function m(_){for(var C=-1,v=0;v<p.length;v++)if(p[v].identifier===_){C=v;break}return C}function k(_,C){for(var v={},D=[],E=0;E<_.length;E++){var O=_[E],M=C.base?O[0]+C.base:O[0],j=v[M]||0,F="".concat(M," ").concat(j);v[M]=j+1;var G=m(F),J={css:O[1],media:O[2],sourceMap:O[3],supports:O[4],layer:O[5]};if(G!==-1)p[G].references++,p[G].updater(J);else{var H=w(J,C);C.byIndex=E,p.splice(E,0,{identifier:F,updater:H,references:1})}D.push(F)}return D}function w(_,C){var v=C.domAPI(C);return v.update(_),function(D){if(D){if(D.css===_.css&&D.media===_.media&&D.sourceMap===_.sourceMap&&D.supports===_.supports&&D.layer===_.layer)return;v.update(_=D)}else v.remove()}}d.exports=function(_,C){var v=k(_=_||[],C=C||{});return function(D){D=D||[];for(var E=0;E<v.length;E++){var O=m(v[E]);p[O].references--}for(var M=k(D,C),j=0;j<v.length;j++){var F=m(v[j]);p[F].references===0&&(p[F].updater(),p.splice(F,1))}v=M}}},2655:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/formrow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CC7BC,6CDQG,mCCNH,CAFA,6CDYG,oCCVH,CDeA,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-table-form__action-row {
		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-form__row {
	padding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		& + * {
			@mixin ck-dir ltr {
				margin-left: var(--ck-spacing-large);
			}

			@mixin ck-dir rtl {
				margin-right: var(--ck-spacing-large);
			}
		}
	}

	& > .ck-label {
		width: 100%;
		min-width: 100%;
	}

	&.ck-table-form__action-row {
		margin-top: var(--ck-spacing-large);

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const v=C},2710:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const v=C},2722:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-number,.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAoED,CAlEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA+CF,CA7CE,8CACC,wDAYD,CAVC,4HAEC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CC5DF,0ODmEG,aCjEH,CDmEG,+IACC,kDACD,CDrEH",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text,
			& .ck-input-number {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const v=C},3051:d=>{d.exports=function(p){var m=document.createElement("style");return p.setAttributes(m,p.attributes),p.insert(m,p.options),m}},3344:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button{width:100%}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-button__label{flex-grow:1;overflow:hidden;text-overflow:ellipsis}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button.ck-disabled>.ck-button__label{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button{min-height:unset;padding:var(--ck-spacing-small) var(--ck-spacing-medium)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-button__label{line-height:unset;overflow:visible;width:unset}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-icon{display:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button{border-radius:0}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{margin-left:var(--ck-spacing-standard);margin-right:calc(var(--ck-spacing-small)*-1);transform:rotate(-90deg)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{left:var(--ck-spacing-standard);margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small);transform:rotate(90deg)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button.ck-disabled>.ck-menu-bar__menu__button__arrow{opacity:var(--ck-disabled-opacity)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css"],names:[],mappings:"AAMC,mFACC,mBAAoB,CACpB,2BACD,CCIA,iDACC,UAuBD,CArBC,mEACC,WAAY,CACZ,eAAgB,CAChB,sBACD,CAEA,+ECbD,kCDeC,CAGC,qFACC,oCACD,CAIA,qFACC,qCACD,CAOF,6EAEC,gBAAiB,CADjB,wDAsBD,CAnBC,+FAEC,iBAAkB,CAMlB,gBAAiB,CAPjB,WAQD,CAEA,mFACC,2BAA4B,CAC5B,4BACD,CAEA,sFACC,YACD,CAMD,mFACC,eA+BD,CA7BC,qHACC,mCAuBD,CE3FD,+HF0EG,sCAAuC,CAGvC,6CAAgD,CANhD,wBErEH,CAFA,+HFmFG,+BAAgC,CAMhC,4CAA+C,CAH/C,oCAAqC,CALrC,uBE/EH,CF2FC,iIC1FD,kCD4FC",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-menu-bar__menu  {
	& > .ck-menu-bar__menu__button > .ck-menu-bar__menu__button__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_disabled.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-menu-bar__menu {
	/*
	 * All menu buttons.
	 */
	& > .ck-menu-bar__menu__button {
		width: 100%;

		& > .ck-button__label {
			flex-grow: 1;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		&.ck-disabled > .ck-button__label {
			@mixin ck-disabled;
		}

		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				padding-right: var(--ck-spacing-small);
			}
		}
	}

	/*
	 * Top-level menu buttons only.
	 */
	&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__button {
		padding: var(--ck-spacing-small) var(--ck-spacing-medium);
		min-height: unset;

		& .ck-button__label {
			width: unset;
			line-height: unset;

			/*
			 * Top-level buttons don't use ellipsis and overflow: hidden clips descenders.
			 *  See https://github.com/ckeditor/ckeditor5/issues/17422.
			 */
			overflow: visible;
		}

		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		& .ck-icon {
			display: none;
		}
	}

	/*
	 * Sub-menu buttons.
	 */
	&:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button {
		border-radius: 0;

		& > .ck-menu-bar__menu__button__arrow {
			width: var(--ck-dropdown-arrow-size);

			@mixin ck-dir ltr {
				transform: rotate(-90deg);

				/* A space to accommodate the triangle. */
				margin-left: var(--ck-spacing-standard);

				/* Nudge the arrow gently to the right because its center of gravity is to the left */
				margin-right: calc(-1 * var(--ck-spacing-small));
			}

			@mixin ck-dir rtl {
				transform: rotate(90deg);

				left: var(--ck-spacing-standard);

				/* A space to accommodate the triangle. */
				margin-right: var(--ck-spacing-small);

				/* Nudge the arrow gently to the left because its center of gravity is to the right (after rotation). */
				margin-left: calc(-1 * var(--ck-spacing-small));
			}
		}

		&.ck-disabled > .ck-menu-bar__menu__button__arrow {
			@mixin ck-disabled;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const v=C},3350:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-image-insert-url{padding:var(--ck-spacing-large) var(--ck-spacing-large) 0;width:400px}.ck.ck-image-insert-url .ck-image-insert-url__action-row{display:grid;grid-template-columns:repeat(2,1fr)}:root{--ck-image-insert-insert-by-url-width:250px}.ck.ck-image-insert-url{--ck-input-width:100%}.ck.ck-image-insert-url .ck-image-insert-url__action-row{grid-column-gap:var(--ck-spacing-large);margin-top:var(--ck-spacing-large)}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-cancel,.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-save{justify-content:center;min-width:auto}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}.ck.ck-image-insert-form>.ck.ck-button{display:block;width:100%}[dir=ltr] .ck.ck-image-insert-form>.ck.ck-button{text-align:left}[dir=rtl] .ck.ck-image-insert-form>.ck.ck-button{text-align:right}.ck.ck-image-insert-form>.ck.ck-collapsible{min-width:var(--ck-image-insert-insert-by-url-width)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:first-child){border-top:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:last-child){border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-image-insert-url{min-width:var(--ck-image-insert-insert-by-url-width);padding:var(--ck-spacing-large)}.ck.ck-image-insert-form:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsert.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageinsert.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css"],names:[],mappings:"AAKA,wBAEC,yDAA0D,CAD1D,WAOD,CAJC,yDACC,YAAa,CACb,mCACD,CCLD,MACC,2CACD,CAEA,wBACC,qBAgBD,CAdC,yDACC,uCAAwC,CACxC,kCAWD,CATC,oJAEC,sBAAuB,CACvB,cACD,CAEA,sFACC,0BACD,CAKD,uCACC,aAAc,CACd,UASD,CCpCA,iDD8BE,eC5BF,CAFA,iDDkCE,gBChCF,CDoCA,4CASC,oDACD,CATC,8DACC,gDACD,CAEA,6DACC,mDACD,CAMD,iDACC,oDAAqD,CACrD,+BACD,CAEA,+BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-image-insert-url {
	width: 400px;
	padding: var(--ck-spacing-large) var(--ck-spacing-large) 0;

	& .ck-image-insert-url__action-row {
		display: grid;
		grid-template-columns: repeat(2, 1fr);
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-image-insert-insert-by-url-width: 250px;
}

.ck.ck-image-insert-url {
	--ck-input-width: 100%;

	& .ck-image-insert-url__action-row {
		grid-column-gap: var(--ck-spacing-large);
		margin-top: var(--ck-spacing-large);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
			min-width: auto;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}

.ck.ck-image-insert-form {
	& > .ck.ck-button {
		display: block;
		width: 100%;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& > .ck.ck-collapsible {
		&:not(:first-child) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		&:not(:last-child) {
			border-bottom: 1px solid var(--ck-color-base-border);
		}

		min-width: var(--ck-image-insert-insert-by-url-width);
	}

	/* This is the case when there are no other integrations configured than insert by URL */
	& > .ck.ck-image-insert-url {
		min-width: var(--ck-image-insert-insert-by-url-width);
		padding: var(--ck-spacing-large);
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const v=C},3469:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAMA,8BACC,WACD,CAEA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/* Preserve aspect ratio of the resized image after introducing image height attribute. */
.ck-content img.image_resized {
	height: auto;
}

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const v=C},3610:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel{max-height:314px;overflow-y:auto;position:absolute;z-index:calc(var(--ck-z-panel) + 1)}:root{--ck-dropdown-menu-menu-panel-max-width:75vw}.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;height:fit-content;max-width:var(--ck-dropdown-menu-menu-panel-max-width)}.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel:after,.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel:before{display:none}.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_es,.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_se{border-top-left-radius:0}.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_sw,.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_ws{border-top-right-radius:0}.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_en,.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_ne{border-bottom-left-radius:0}.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_nw,.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_wn{border-bottom-right-radius:0}.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/menu/dropdownmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/menu/dropdownmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,0DAEC,gBAAiB,CACjB,eAAgB,CAFhB,iBAAkB,CAGlB,mCACD,CCFA,MACC,4CACD,CAEA,0DAGC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CCRT,oCAA8B,CDS9B,kBAAmB,CACnB,sDAgCD,CA7BC,iIAEC,YACD,CAGA,4JAEC,wBACD,CAEA,4JAEC,yBACD,CAEA,4JAEC,2BACD,CAEA,4JAEC,4BACD,CAEA,gEACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel {
	position: absolute;
	max-height: 314px; /* With the default settings, this is equal to 10 menu items. */
	overflow-y: auto;
	z-index: calc(var(--ck-z-panel) + 1);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../../mixins/_rounded.css";
@import "../../../../mixins/_shadow.css";

:root {
	--ck-dropdown-menu-menu-panel-max-width: 75vw;
}

.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel {
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;
	height: fit-content;
	max-width: var(--ck-dropdown-menu-menu-panel-max-width);

	/* Reset balloon styling */
	&::after,
	&::before {
		display: none;
	}

	/* Corner border radius consistent with the button. */
	&.ck-balloon-panel_es,
	&.ck-balloon-panel_se {
		border-top-left-radius: 0;
	}

	&.ck-balloon-panel_ws,
	&.ck-balloon-panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-balloon-panel_en,
	&.ck-balloon-panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-balloon-panel_wn,
	&.ck-balloon-panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const v=C},3629:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-dropdown>.ck-dropdown__panel>.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CCnBC,iIAEC,qCAAsC,CDJtC,wBCMD,CDAC,mFCND,eDYC,CCVD,6MAEC,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBCFH,CDQC,kFCdD,eDmBC,CCjBD,2MAEC,qCAAsC,CDYpC,wBAAyB,CACzB,yBCXH",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown > .ck-dropdown__panel > .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const v=C},3710:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-panel)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);border-radius:0;min-height:15px}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBAMC,2CAA4C,CAC5C,wEAAyE,CCZzE,eAAgB,CDShB,eA0LD,CCjMC,iFAEC,qCAED,CDDD,qBEPC,oCFqMD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-panel);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const v=C},3817:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-link-form{align-items:flex-start;display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:0 var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css"],names:[],mappings:"AAOA,iBAEC,sBAAuB,CADvB,YAkBD,CAfC,2BACC,YACD,CCPA,oCDCD,iBASE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CChBD,CDwBD,iCACC,aAYD,CALE,wHAEC,mCACD,CEhCF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CC1BD,4GDiCE,aC/BF,CDiCE,mEACC,kDACD,CAKF,6CACC,gCAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;
	align-items: flex-start;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: 0 var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const v=C},4043:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-form {
	padding: 0 0 var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	& .ck.ck-input-text {
		min-width: 100%;
		width: 0;
	}

	& .ck.ck-dropdown {
		min-width: 100%;

		& .ck-dropdown__button {
			&:not(:focus) {
				border: 1px solid var(--ck-color-base-border);
			}

			& .ck-button__label {
				width: 100%;
			}
		}
	}
}
`],sourceRoot:""}]);const v=C},4062:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const v=C},4095:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const v=C},4098:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}@media (forced-colors:active){.ck .ck-placeholder,.ck.ck-placeholder{forced-color-adjust:preserve-parent-color}}.ck .ck-placeholder:before,.ck.ck-placeholder:before{cursor:text}@media (forced-colors:none){.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text)}}@media (forced-colors:active){.ck .ck-placeholder:before,.ck.ck-placeholder:before{font-style:italic;margin-left:1px}}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC7BC,8BACC,uCCOA,yCDLA,CACD,CCOA,qDACC,WAmBD,CDvBA,4BACC,qDCMC,6CDJD,CACD,CAZA,8BACC,qDCsBC,iBAAkB,CAMlB,eD1BD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	@mixin ck-media-forced-colors {
		/*
		 * This is needed for Edge on Windows to use the right color for the placeholder content (::before).
		 * See https://github.com/ckeditor/ckeditor5/issues/14907.
		 */
		forced-color-adjust: preserve-parent-color;
	}

	&::before {
		cursor: text;

		@mixin ck-media-default-colors {
			color: var(--ck-color-engine-placeholder-text);
		}

		@mixin ck-media-forced-colors {
			/*
			 * In the high contrast mode there is no telling between regular and placeholder text. Using
			 * italic text to address that issue. See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			font-style: italic;

			/*
			 * Without this margin, the caret will not show up and blink when the user puts the selection
			 * in the placeholder (Edge on Windows). See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			margin-left: 1px;
		}
	}
}
`],sourceRoot:""}]);const v=C},4143:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}@media (forced-colors:active){.ck-content .table>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAaD,CCxBC,8BACC,8BDoBA,sBAAuB,CACvB,WCnBA,CACD,CAIA,4BDqBC,qEACC,iDACD,CCnBD,CDsBA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-selector-caption-background: hsl(0, 0%, 97%);
	--ck-color-selector-caption-text: hsl(0, 0%, 20%);
	--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .table > figcaption {
	display: table-caption;
	caption-side: top;
	word-break: break-word;
	text-align: center;
	color: var(--ck-color-selector-caption-text);
	background-color: var(--ck-color-selector-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@mixin ck-media-forced-colors {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .table > figcaption {
	@mixin ck-media-default-colors {
		&.table__caption_highlighted {
			animation: ck-table-caption-highlight .6s ease-out;
		}
	}

	&.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the table caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

@keyframes ck-table-caption-highlight {
	0% {
		background-color: var(--ck-color-selector-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-selector-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const v=C},4199:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const v=C},4391:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;border-radius:0;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);border-radius:0;height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}@media (prefers-reduced-motion:reduce){.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{transition:none}}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CC3BA,0DDgCE,4CC9BF,CAFA,0DDqCE,2CCnCF,CDuCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CEpD9B,eAAgB,CFmDf,iFAAsF,CAEtF,0CA2BD,CE9EA,yIAEC,qCAED,CDXA,2DD8CE,gBC5CF,CAFA,2DDmDE,iBCjDF,CD2DC,2EAOC,yDAA0D,CE/D5D,eAAgB,CF8Dd,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAUD,CErED,6LAEC,qCAAsC,CFsDpC,8CEpDH,CF8DE,uCAZD,2EAaE,eAEF,CADC,CAGD,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DGpFA,kCHsFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CC/GF,2FDsHI,2DCpHJ,CAFA,2FD0HI,oECxHJ",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floatingpoint numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const v=C},4642:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-image-custom-resize-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{display:inline-block}.ck.ck-image-custom-resize-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-image-custom-resize-form{flex-wrap:wrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-image-custom-resize-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecustomresizeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,gCAIC,sBAAuB,CAHvB,YAAa,CACb,kBAAmB,CACnB,gBAsBD,CAnBC,uDACC,oBACD,CAEA,0CACC,YACD,CCbA,oCDCD,gCAeE,cAUF,CARE,uDACC,eACD,CAEA,2CACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-image-custom-resize-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: flex-start;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const v=C},4767:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck-button.ck-dropdown-menu-list__nested-menu__item__button{border-radius:0}.ck-button.ck-dropdown-menu-list__nested-menu__item__button>.ck-spinner-container,.ck-button.ck-dropdown-menu-list__nested-menu__item__button>.ck-spinner-container .ck-spinner{--ck-toolbar-spinner-size:20px}.ck-button.ck-dropdown-menu-list__nested-menu__item__button>.ck-spinner-container{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}.ck-button.ck-dropdown-menu-list__nested-menu__item__button:focus{border-color:transparent;box-shadow:none}.ck-button.ck-dropdown-menu-list__nested-menu__item__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/menu/dropdownmenulistitembutton.css"],names:[],mappings:"AAQA,4DACC,eA0BD,CAxBC,gLAGC,8BACD,CAEA,kFAEC,4CAA+C,CAC/C,oCACD,CAMA,kEACC,wBAAyB,CACzB,eAKD,CAHC,8EACC,0DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/*
 * List item buttons.
 */
.ck-button.ck-dropdown-menu-list__nested-menu__item__button {
	border-radius: 0;

	& > .ck-spinner-container,
	& > .ck-spinner-container .ck-spinner {
		/* These styles correspond to .ck-icon so that the spinner seamlessly replaces the icon. */
		--ck-toolbar-spinner-size: 20px;
	}

	& > .ck-spinner-container {
		/* These margins are the same as for .ck-icon. */
		margin-left: calc(-1 * var(--ck-spacing-small));
		margin-right: var(--ck-spacing-small);
	}

	/*
	 * Hovered items automatically get focused. Default focus styles look odd
	 * while moving across a huge list of items so let's get rid of them
	 */
	&:focus {
		border-color: transparent;
		box-shadow: none;

		&:not(.ck-on) {
			background: var(--ck-color-button-default-hover-background);
		}
	}
}
`],sourceRoot:""}]);const v=C},4782:d=>{d.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzUuNzUgMCAwIDEtLjIxNy4yMDYgNS4yNTEgNS4yNTEgMCAwIDEtOC41MDMtNS45NTUuNy43IDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NHptNS40OTQtNS4zMzVhLjc1Ljc1IDAgMCAxLS4xMi4yNzRsLTEuMTQ3IDEuNjM5YS43NS43NSAwIDEgMS0xLjIyOC0uODZsLjg2LTEuMjNhMy43NSAzLjc1IDAgMCAwLTYuMTQ0LTQuMzAxbC0uODYgMS4yMjlhLjc1Ljc1IDAgMCAxLTEuMjI5LS44NmwxLjE0OC0xLjY0YS43NS43NSAwIDAgMSAuMjE3LS4yMDYgNS4yNTEgNS4yNTEgMCAwIDEgOC41MDMgNS45NTVtLTQuNTYzLTIuNTMyYS43NS43NSAwIDAgMSAuMTg0IDEuMDQ1bC0zLjE1NSA0LjUwNWEuNzUuNzUgMCAxIDEtMS4yMjktLjg2bDMuMTU1LTQuNTA2YS43NS43NSAwIDAgMSAxLjA0NS0uMTg0Ii8+PC9zdmc+"},4808:(d,p,m)=>{m.d(p,{A:()=>j});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_),v=m(62),D=m.n(v),E=new URL(m(4782),m.b),O=C()(w()),M=D()(E);O.push([d.id,`.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url(${M});background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}`,"",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkimage.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,wDAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const j=O},4962:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;top:0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0;transform:translate(calc(var(--ck-spacing-medium)*-1),-6px) scale(.75);transform-origin:100% 0}@media (prefers-reduced-motion:reduce){.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transition:none}}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eDmHD,CCjHC,2FAEC,qCAED,CDEA,mEACC,UAwCD,CAtCC,gFAkBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAH9C,mBAAoB,CAQpB,sBAAuB,CAvBvB,KAAQ,CA4BR,+JAQD,CErDD,0FFoBG,MAAS,CAGT,6DAA+D,CAF/D,oBEnBH,CAFA,0FF2BG,OAAU,CAEV,sEAA0E,CAD1E,uBE1BH,CFgDE,uCAlCD,gFAmCE,eAEF,CADC,CASD,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,uWAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CEtGA,2XF0FE,+HExFF,CAFA,2XF8FE,wIE5FF,CFyGA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
				transform-origin: 0 0;
				/* By default, display the label scaled down above the field. */
				transform: translate(var(--ck-spacing-medium), -6px) scale(.75);
			}

			@mixin ck-dir rtl {
				right: 0px;
				transform-origin: 100% 0;
				transform: translate(calc(-1 * var(--ck-spacing-medium)), -6px) scale(.75);
			}

			pointer-events: none;

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const v=C},5032:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}@media (prefers-reduced-motion:reduce){.ck .ck-insert-table-dropdown-grid-box{transition:none}}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAcD,CAZC,uCATD,uCAUE,eAWF,CAVC,CAEA,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const v=C},5199:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{background:var(--ck-color-list-background);border-radius:0;list-style-type:none;padding:var(--ck-spacing-small) 0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list__item{cursor:default;min-width:15em}.ck.ck-list__item>.ck-button:not(.ck-list-item-button){border-radius:0;min-height:unset;padding:var(--ck-spacing-tiny) calc(var(--ck-spacing-standard)*2);width:100%}[dir=ltr] .ck.ck-list__item>.ck-button:not(.ck-list-item-button){text-align:left}[dir=rtl] .ck.ck-list__item>.ck-button:not(.ck-list-item-button){text-align:right}.ck.ck-list__item>.ck-button:not(.ck-list-item-button) .ck-button__label{line-height:calc(var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item>.ck-button:not(.ck-list-item-button):active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on:not(.ck-list-item-button){background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item>.ck-button.ck-on:not(.ck-list-item-button):active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on:not(.ck-list-item-button):hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item>.ck-button.ck-on:not(.ck-list-item-button):focus:not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item>.ck-button:not(.ck-list-item-button):hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item>.ck-button.ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item>.ck-button.ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium)}.ck-list .ck-list__group:first-child{padding-top:0}:not(.ck-hidden)~.ck-list .ck-list__group{border-top:1px solid var(--ck-color-base-border)}.ck-list .ck-list__group>.ck-label{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-large) 0}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;margin:var(--ck-spacing-small) 0;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEdD,YAIC,0CAA2C,CCH3C,eAAgB,CDEhB,oBAAqB,CAIrB,iCACD,CCLC,+DAEC,qCAED,CDGD,kBACC,cAAe,CAGf,cA4DD,CA1DC,uDAIC,eAAgB,CAFhB,gBAAiB,CADjB,iEAAoE,CAEpE,UAwCD,CE/DA,iEF2BE,eEzBF,CAFA,iEF+BE,gBE7BF,CFgCC,yEAEC,qEACD,CAEA,8DACC,eACD,CAEA,6DACC,oDAAqD,CACrD,yCAaD,CAXC,oEACC,eACD,CAEA,qFACC,0DACD,CAEA,qFACC,4CACD,CAGD,+EACC,uDACD,CAMA,mDACC,0CAA2C,CAC3C,aAMD,CAJC,2EACC,uDAAwD,CACxD,aACD,CAKH,yBACC,oCAiBD,CAdC,qCACC,aACD,CAGA,0CACC,gDACD,CAEA,mCACC,cAAe,CACf,eAAiB,CACjB,0DACD,CAGD,uBAGC,sCAAuC,CAFvC,UAAW,CAKX,gCAAiC,CAJjC,UAKD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);

	/* A spacing at the beginning and end of the list */
	padding: var(--ck-spacing-small) 0;
}

.ck.ck-list__item {
	cursor: default;

	/* Almost as wide as menu bar items. */
	min-width: 15em;

	& > .ck-button:not(.ck-list-item-button) {
		padding: var(--ck-spacing-tiny) calc(2 * var(--ck-spacing-standard));
		min-height: unset;
		width: 100%;
		border-radius: 0;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}

		& .ck-button__label {
			/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */
			line-height: calc(var(--ck-line-height-base) * var(--ck-font-size-base));
		}

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& > .ck-button.ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck-list .ck-list__group {
	padding-top: var(--ck-spacing-medium);

	/* Lists come with an inner vertical padding. Don't duplicate it. */
	&:first-child {
		padding-top: 0;
	}

	/* The group should have a border when it's not the first item. */
	*:not(.ck-hidden) ~ & {
		border-top: 1px solid var(--ck-color-base-border);
	}

	& > .ck-label {
		font-size: 11px;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-large) 0;
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);

	/* Give the separator some air */
	margin: var(--ck-spacing-small) 0;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const v=C},5247:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highlighted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}@media (forced-colors:active){.ck-content .image>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:none}}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highlighted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,oDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAYD,CAJC,8BAXD,8BAYE,sBAAuB,CACvB,WAEF,CADC,CCdA,4BACC,qEDmBA,iDCjBA,CACD,CDmBA,uCALD,qEAME,cAEF,CADC,CAGD,sCACC,GACC,qEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@media (forced-colors: active) {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	@mixin ck-media-default-colors {
		animation: ck-image-caption-highlight .6s ease-out;
	}

	@media (prefers-reduced-motion: reduce) {
		animation: none;
	}
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const v=C},5380:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-panel) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-panel) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const v=C},5506:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);border-radius:0;height:20px;width:20px}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/colorinput.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC7BF,+CCME,4BAA6B,CAD7B,yBDHF,CAFA,+CCWE,2BAA4B,CAD5B,wBDRF,CCcC,2CACC,SACD,CAIA,wEACC,SA0CD,CDjED,kFC2BG,2BAA4B,CAD5B,wBDxBH,CC2BG,8FACC,iCACD,CD/BH,kFCoCG,4BAA6B,CAD7B,yBDjCH,CCoCG,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GAKC,6CAA8C,CC/CjD,eAAgB,CD8Cb,WAAY,CADZ,UAcD,CCzDF,+PAEC,qCAED,CD2CG,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CD7ED,8DCgFE,yBD9EF,CAFA,8DCoFE,wBDlFF,CCqFC,gEACC,uCAMD,CD9FD,0EC4FG,sCAAuC,CADvC,cDzFH",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-input-color {
	width: 100%;
	display: flex;
	flex-direction: row-reverse;

	& > input.ck.ck-input-text {
		min-width: auto;
		flex-grow: 1;
	}

	& > div.ck.ck-dropdown {
		min-width: auto;

		/* This dropdown has no arrow but a color preview instead. */
		& > .ck-input-color__button .ck-dropdown__arrow {
			display: none;
		}
	}

	& .ck.ck-input-color__button {
		/* Resolving issue with misaligned buttons on Safari (see #10589) */
		display: flex;

		& .ck.ck-input-color__button__preview {
			position: relative;
			overflow: hidden;

			& > .ck.ck-input-color__button__preview__no-color-indicator {
				position: absolute;
				display: block;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_rounded.css";

.ck.ck-input-color {
	& > .ck.ck-input-text {
		@mixin ck-dir ltr {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* Make sure the focused input is always on top of the dropdown button so its
		   outline and border are never cropped (also when the input is read-only). */
		&:focus {
			z-index: 0;
		}
	}

	& > .ck.ck-dropdown {
		& > .ck.ck-button.ck-input-color__button {
			padding: 0;

			@mixin ck-dir ltr {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;

				&:not(:focus) {
					border-left: 1px solid transparent;
				}
			}

			@mixin ck-dir rtl {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;

				&:not(:focus) {
					border-right: 1px solid transparent;
				}
			}

			&.ck-disabled {
				background: var(--ck-color-input-disabled-background);
			}

			& > .ck.ck-input-color__button__preview {
				@mixin ck-rounded-corners;

				width: 20px;
				height: 20px;
				border: 1px solid var(--ck-color-input-border);

				& > .ck.ck-input-color__button__preview__no-color-indicator {
					top: -30%;
					left: 50%;
					height: 150%;
					width: 8%;
					background: hsl(0, 100%, 50%);
					border-radius: 2px;
					transform: rotate(45deg);
					transform-origin: 50%;
				}
			}
		}
	}

	& .ck.ck-input-color__remove-color {
		width: 100%;
		padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);

		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;

		&:not(:focus) {
			border-bottom: 1px solid var(--ck-color-input-border);
		}

		@mixin ck-dir ltr {
			border-top-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
		}

		& .ck.ck-icon {
			margin-right: var(--ck-spacing-standard);

			@mixin ck-dir rtl {
				margin-right: 0;
				margin-left: var(--ck-spacing-standard);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const v=C},5562:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-table-properties-form {
	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			flex-wrap: wrap;
			flex-basis: 0;
			align-content: baseline;

			& .ck.ck-toolbar .ck-toolbar__items {
				flex-wrap: nowrap;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-table-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			align-self: flex-end;
			padding: 0;

			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);

				& .ck-toolbar__items > * {
					width: 40px;
				}
			}
		}
	}
}
`],sourceRoot:""}]);const v=C},5651:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap;width:400px}.ck.ck-media-form .ck-labeled-field-view{display:inline-block;width:100%}.ck.ck-media-form .ck-label{display:none}.ck.ck-media-form .ck-input{width:100%}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAAiB,CACjB,WA0BD,CAxBC,yCACC,oBAAqB,CACrB,UACD,CAEA,4BACC,YACD,CAEA,4BACC,UACD,CCnBA,oCDCD,kBAqBE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CC5BD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;
	width: 400px;

	& .ck-labeled-field-view {
		display: inline-block;
		width: 100%;
	}

	& .ck-label {
		display: none;
	}

	& .ck-input {
		width: 100%;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const v=C},5727:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-panel)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);border-radius:0;max-height:200px;min-width:auto;overflow-y:auto}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{box-shadow:var(--ck-drop-shadow),0 0}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,oBACC,iBAeD,CAbC,wCACC,iBAAkB,CAClB,yBAUD,CARC,6DACC,WACD,CAEA,6DAEC,WAAY,CADZ,QAED,CCVD,wCAMC,0CAA2C,CAC3C,sDAAuD,CCLxD,eAAgB,CDEf,gBAAiB,CAIjB,cAAe,CAHf,eAoBD,CCrBA,uHAEC,qCAED,CDRA,wCEAA,oCFyBA,CAfC,6DACC,2BAA4B,CAC5B,4BAA6B,CAG7B,kBACD,CAEA,6DACC,wBAAyB,CACzB,yBAA0B,CAG1B,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-autocomplete {
	position: relative;

	& > .ck-search__results {
		position: absolute;
		z-index: var(--ck-z-panel);

		&.ck-search__results_n {
			bottom: 100%;
		}

		&.ck-search__results_s {
			top: 100%;
			bottom: auto;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css";
@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css";

.ck.ck-autocomplete {
	& > .ck-search__results {
		@mixin ck-rounded-corners;
		@mixin ck-drop-shadow;

		max-height: 200px;
		overflow-y: auto;
		background: var(--ck-color-base-background);
		border: 1px solid var(--ck-color-dropdown-panel-border);
		min-width: auto;

		&.ck-search__results_n {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-bottom: -1px;
		}

		&.ck-search__results_s {
			border-top-left-radius: 0;
			border-top-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-top: -1px;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const v=C},6269:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-heading_heading1 .ck-button__label{font-size:20px}.ck.ck-heading_heading2 .ck-button__label{font-size:17px}.ck.ck-heading_heading3 .ck-button__label{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,0CACC,cACD,CAEA,0CACC,cACD,CAEA,0CACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-heading_heading1 .ck-button__label {
	font-size: 20px;
}

.ck.ck-heading_heading2 .ck-button__label {
	font-size: 17px;
}

.ck.ck-heading_heading3 .ck-button__label {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const v=C},6309:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CCZD,wMDUG,0BCRH,CDeC,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CErBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CDhBF,gHCoBI,uCDlBJ,CAFA,gHCwBI,sCDtBJ,CC2BC,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			display: flex;
			align-items: center;

			@mixin ck-dir rtl {
				justify-content: flex-start;
			}
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-selector_action-bar {
			display: flex;
			flex-direction: row;
			justify-content: space-around;

			& .ck-button-save,
			& .ck-button-cancel {
				flex: 1
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			width: 100%;
		}

		& .ck-button.ck-color-selector__color-picker {
			padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			& .ck.ck-icon {
				@mixin ck-dir ltr {
					margin-right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					margin-left: var(--ck-spacing-standard);
				}
			}
		}

		& label.ck.ck-color-grid__label {
			font-weight: unset;
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-picker {
			padding: 8px;

			& .hex-color-picker {
				height: 100px;
				min-width: 180px;

				&::part(saturation) {
					border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;
				}

				&::part(hue) {
					border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
				}

				&::part(saturation-pointer),
				&::part(hue-pointer) {
					width: 15px;
					height: 15px;
				}
			}
		}

		& .ck.ck-color-selector_action-bar {
			padding: 0 8px 8px;
		}
	}
}
`],sourceRoot:""}]);const v=C},6341:d=>{d.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgdmlld0JveD0iMCAwIDUwNCA1MDQiPjx0aXRsZT5nbHlwaC1sb2dvX01heTIwMTY8L3RpdGxlPjxkZWZzPjxwYXRoIGlkPSJhIiBkPSJNMCAuMTU5aDUwMy44NDFWNTAzLjk0SDB6Ii8+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PG1hc2sgaWQ9ImIiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTI1MS45MjEuMTU5Yy02OC40MTggMC03Ni45OTcuMjktMTAzLjg2NyAxLjUxNi0yNi44MTQgMS4yMjMtNDUuMTI3IDUuNDgyLTYxLjE1MSAxMS43MS0xNi41NjYgNi40MzctMzAuNjE1IDE1LjA1MS00NC42MjEgMjkuMDU2LTE0LjAwNSAxNC4wMDYtMjIuNjE5IDI4LjA1NS0yOS4wNTYgNDQuNjIxLTYuMjI4IDE2LjAyNC0xMC40ODcgMzQuMzM3LTExLjcxIDYxLjE1MUMuMjkgMTc1LjA4MyAwIDE4My42NjIgMCAyNTIuMDhjMCA2OC40MTcuMjkgNzYuOTk2IDEuNTE2IDEwMy44NjYgMS4yMjMgMjYuODE0IDUuNDgyIDQ1LjEyNyAxMS43MSA2MS4xNTEgNi40MzcgMTYuNTY2IDE1LjA1MSAzMC42MTUgMjkuMDU2IDQ0LjYyMSAxNC4wMDYgMTQuMDA1IDI4LjA1NSAyMi42MTkgNDQuNjIxIDI5LjA1NyAxNi4wMjQgNi4yMjcgMzQuMzM3IDEwLjQ4NiA2MS4xNTEgMTEuNzA5IDI2Ljg3IDEuMjI2IDM1LjQ0OSAxLjUxNiAxMDMuODY3IDEuNTE2IDY4LjQxNyAwIDc2Ljk5Ni0uMjkgMTAzLjg2Ni0xLjUxNiAyNi44MTQtMS4yMjMgNDUuMTI3LTUuNDgyIDYxLjE1MS0xMS43MDkgMTYuNTY2LTYuNDM4IDMwLjYxNS0xNS4wNTIgNDQuNjIxLTI5LjA1NyAxNC4wMDUtMTQuMDA2IDIyLjYxOS0yOC4wNTUgMjkuMDU3LTQ0LjYyMSA2LjIyNy0xNi4wMjQgMTAuNDg2LTM0LjMzNyAxMS43MDktNjEuMTUxIDEuMjI2LTI2Ljg3IDEuNTE2LTM1LjQ0OSAxLjUxNi0xMDMuODY2IDAtNjguNDE4LS4yOS03Ni45OTctMS41MTYtMTAzLjg2Ny0xLjIyMy0yNi44MTQtNS40ODItNDUuMTI3LTExLjcwOS02MS4xNTEtNi40MzgtMTYuNTY2LTE1LjA1Mi0zMC42MTUtMjkuMDU3LTQ0LjYyMS0xNC4wMDYtMTQuMDA1LTI4LjA1NS0yMi42MTktNDQuNjIxLTI5LjA1Ni0xNi4wMjQtNi4yMjgtMzQuMzM3LTEwLjQ4Ny02MS4xNTEtMTEuNzFDMzI4LjkxNy40NDkgMzIwLjMzOC4xNTkgMjUxLjkyMS4xNTltMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1czE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NmMzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjZzLTE3LjIwNyAxNC4yNzUtMjguOTY2IDE4Ljg0NWMtOC44NzcgMy40NS0yMi4yMTYgNy41NTQtNDYuNzc4IDguNjc0LTI2LjU2IDEuMjEyLTM0LjUyNyAxLjQ2OS0xMDEuNzk3IDEuNDY5LTY3LjI3MSAwLTc1LjIzNy0uMjU3LTEwMS43OTgtMS40NjktMjQuNTYyLTEuMTItMzcuOTAxLTUuMjI0LTQ2Ljc3OC04LjY3NC0xMS43NTktNC41Ny0yMC4xNTEtMTAuMDI5LTI4Ljk2Ni0xOC44NDVzLTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2NmMtMy40NS04Ljg3Ny03LjU1NC0yMi4yMTYtOC42NzQtNDYuNzc4LTEuMjEyLTI2LjU2NC0xLjQ2OS0zNC41MzItMS40NjktMTAxLjc5NyAwLTY3LjI2Ni4yNTctNzUuMjM0IDEuNDY5LTEwMS43OTggMS4xMi0yNC41NjIgNS4yMjQtMzcuOTAxIDguNjc0LTQ2Ljc3OCA0LjU3LTExLjc1OSAxMC4wMjktMjAuMTUxIDE4Ljg0NS0yOC45NjZzMTcuMjA3LTE0LjI3NSAyOC45NjYtMTguODQ1YzguODc3LTMuNDUgMjIuMjE2LTcuNTU0IDQ2Ljc3OC04LjY3NCAyNi41NjQtMS4yMTIgMzQuNTMyLTEuNDY5IDEwMS43OTgtMS40NjkiIG1hc2s9InVybCgjYikiLz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzNzMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0YzQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNtMC0yMTMuMzM4Yy03MS40NDcgMC0xMjkuMzY1IDU3LjkxOC0xMjkuMzY1IDEyOS4zNjUgMCA3MS40NDYgNTcuOTE4IDEyOS4zNjQgMTI5LjM2NSAxMjkuMzY0IDcxLjQ0NiAwIDEyOS4zNjQtNTcuOTE4IDEyOS4zNjQtMTI5LjM2NCAwLTcxLjQ0Ny01Ny45MTgtMTI5LjM2NS0xMjkuMzY0LTEyOS4zNjVNNDE2LjYyNyAxMTcuNjA0YzAgMTYuNjk2LTEzLjUzNSAzMC4yMy0zMC4yMzEgMzAuMjMtMTYuNjk1IDAtMzAuMjMtMTMuNTM0LTMwLjIzLTMwLjIzczEzLjUzNS0zMC4yMzEgMzAuMjMtMzAuMjMxYzE2LjY5NiAwIDMwLjIzMSAxMy41MzUgMzAuMjMxIDMwLjIzMSIvPjwvZz48L3N2Zz4="},6386:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image.image-style-block-align-left,.ck-content .image.image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image.image-style-align-left,.ck-content .image.image-style-align-right{clear:none}.ck-content .image.image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image.image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image.image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image.image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image.image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content p+.image.image-style-align-left,.ck-content p+.image.image-style-align-right,.ck-content p+.image.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAQE,iGAEC,oDACD,CAIA,qFAEC,UACD,CAEA,oCACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,0CACC,UAAW,CACX,0CACD,CAEA,2CACC,WAAY,CACZ,yCACD,CAEA,iDAEC,gBAAiB,CADjB,cAED,CAEA,gDACC,aAAc,CACd,iBACD,CAGD,sCACC,gBAAiB,CACjB,iBACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAGA,+HAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* See: https://github.com/ckeditor/ckeditor5/issues/16317 */
	& .image {
		/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
		confirming successful application of the style if image width exceeds the editor's size.
		See https://github.com/ckeditor/ckeditor5/issues/9342 */
		&.image-style-block-align-left,
		&.image-style-block-align-right {
			max-width: calc(100% - var(--ck-image-style-spacing));
		}

		/* Allows displaying multiple floating images in the same line.
		See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
		&.image-style-align-left,
		&.image-style-align-right {
			clear: none;
		}

		&.image-style-side {
			float: right;
			margin-left: var(--ck-image-style-spacing);
			max-width: 50%;
		}

		&.image-style-align-left {
			float: left;
			margin-right: var(--ck-image-style-spacing);
		}

		&.image-style-align-right {
			float: right;
			margin-left: var(--ck-image-style-spacing);
		}

		&.image-style-block-align-right {
			margin-right: 0;
			margin-left: auto;
		}

		&.image-style-block-align-left {
			margin-left: 0;
			margin-right: auto;
		}
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image.image-style-align-left,
	& p + .image.image-style-align-right,
	& p + .image.image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const v=C},6903:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const v=C},6931:d=>{d.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},7048:(d,p,m)=>{m.d(p,{A:()=>Z});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_),v=m(62),D=m.n(v),E=new URL(m(657),m.b),O=new URL(m(9736),m.b),M=new URL(m(6341),m.b),j=new URL(m(7784),m.b),F=C()(w()),G=D()(E),J=D()(O),H=D()(M),z=D()(j);F.push([d.id,`.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(${G})}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(${J})}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(${H})}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(${z})}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}`,"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wDACD,CAEA,2EACC,kBAaD,CAXC,wGACC,wDACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,wDACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wDACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not readonly.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const Z=F},7141:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/liststyles.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const v=C},7218:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-dropdown-menu-list__nested-menu{display:block}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/menu/dropdownmenu.css"],names:[],mappings:"AAKA,uCACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-dropdown-menu-list__nested-menu {
	display: block;
}
`],sourceRoot:""}]);const v=C},7317:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{transition:box-shadow .2s ease}@media (forced-colors:none){.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}}@media (forced-colors:active){.ck.ck-color-grid__tile{height:unset;min-height:unset;min-width:unset;padding:0 var(--ck-spacing-small);width:unset}.ck.ck-color-grid__tile .ck-button__label{display:inline-block}}@media (prefers-reduced-motion:reduce){.ck.ck-color-grid__tile{transition:none}}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,kBACC,YACD,CCCA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBACC,8BAkED,CC3EC,4BACC,wBDgBA,QAAS,CAJT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CAJV,oCCTA,CDgBA,8HAIC,QACD,CAEA,+DACC,gDACD,CAEA,8BACC,8FACD,CAEA,gGAEC,iGACD,CCjCD,CAZA,8BACC,wBDqDA,YAAa,CAEb,gBAAiB,CADjB,eAAgB,CAEhB,iCAAkC,CAJlC,WClDA,CDwDA,0CACC,oBACD,CCzDD,CD4DA,uCAhDD,wBAiDE,eAkBF,CAjBC,CAEA,oCACC,YAAa,CACb,gBACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAGC,0CACC,aACD,CAIF,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	transition: .2s ease box-shadow;

	@mixin ck-media-default-colors {
		width: var(--ck-color-grid-tile-size);
		height: var(--ck-color-grid-tile-size);
		min-width: var(--ck-color-grid-tile-size);
		min-height: var(--ck-color-grid-tile-size);
		padding: 0;
		border: 0;

		&.ck-on,
		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			/* Disable the default .ck-button's border ring. */
			border: 0;
		}

		&.ck-color-selector__color-tile_bordered {
			box-shadow: 0 0 0 1px var(--ck-color-base-border);
		}

		&.ck-on {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);
		}

		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
		}
	}

	/*
	 * In high contrast mode, the colors are replaced with text labels.
	 * See https://github.com/ckeditor/ckeditor5/issues/14907.
	 */
	@mixin ck-media-forced-colors {
		width: unset;
		height: unset;
		min-width: unset;
		min-height: unset;
		padding: 0 var(--ck-spacing-small);

		& .ck-button__label {
			display: inline-block;
		}
	}

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		& .ck.ck-icon {
			display: block;
		}
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const v=C},7378:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-editor__editable img.image_placeholder{background-size:100% 100%}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageplaceholder.css"],names:[],mappings:"AAMC,8CACC,yBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-editor__editable {
	& img.image_placeholder {
		background-size: 100% 100%;
	}
}
`],sourceRoot:""}]);const v=C},7388:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-panel)}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border:solid var(--ck-color-base-border);border-radius:0;border-width:1px 1px 0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-sticky-panel__content_sticky{border-bottom-width:1px}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-menu-bar{border:0;border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-toolbar{border:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,8DAOC,wCAAsB,CCLxB,eAAgB,CDKd,sBAcD,CCjBD,mKAEC,qCAAsC,CDJpC,2BAA4B,CAC5B,4BCKH,CDCE,8FACC,uBACD,CAEA,2EACC,QAAS,CACT,mDACD,CAEA,0EACC,QACD,CAMH,yCAEC,0CAA2C,CC1B3C,eDoCD,CClCC,yHAEC,qCAAsC,CDyBtC,wBAAyB,CACzB,yBCxBD,CD2BA,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-panel);
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-sticky-panel__content {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border: 1px solid var(--ck-color-base-border);
			border-bottom-width: 0;

			&.ck-sticky-panel__content_sticky {
				border-bottom-width: 1px;
			}

			& .ck-menu-bar {
				border: 0;
				border-bottom: 1px solid var(--ck-color-base-border);
			}

			& .ck-toolbar {
				border: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const v=C},7621:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal));--ck-icon-font-size:.8333350694em}.ck.ck-icon{font-size:var(--ck-icon-font-size);height:var(--ck-icon-size);width:var(--ck-icon-size)}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EAA6E,CAC7E,iCACD,CAEA,YAKC,kCAAmC,CAHnC,0BAA2B,CAD3B,yBA2BD,CAlBC,0BAFA,cAKA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
	--ck-icon-font-size: .8333350694em;
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: var(--ck-icon-font-size);

	/* Inherit cursor style (#5). */
	cursor: inherit;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const v=C},7676:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck-hidden{display:none!important}:root{--ck-z-default:1;--ck-z-panel:calc(var(--ck-z-default) + 999);--ck-z-dialog:9999}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-font-size:calc(var(--ck-font-size-base)*7.5/13);--ck-powered-by-line-height:calc(var(--ck-font-size-base)*10/13);--ck-powered-by-letter-spacing:calc(var(--ck-font-size-base)*-0.2/13);--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border);--ck-powered-by-svg-width:53;--ck-powered-by-svg-height:10;--ck-powered-by-icon-width:calc(var(--ck-font-size-base)*var(--ck-powered-by-svg-width)/13);--ck-powered-by-icon-height:calc(var(--ck-font-size-base)*var(--ck-powered-by-svg-height)/13)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-panel) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:var(--ck-powered-by-font-size);font-weight:700;letter-spacing:var(--ck-powered-by-letter-spacing);line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block;height:var(--ck-powered-by-icon-height);width:var(--ck-powered-by-icon-width)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-evaluation-badge-font-size:calc(var(--ck-font-size-base)*7.5/13);--ck-evaluation-badge-line-height:calc(var(--ck-font-size-base)*7.5/13);--ck-evaluation-badge-letter-spacing:calc(var(--ck-font-size-base)*-0.2/13);--ck-evaluation-badge-padding-vertical:2px;--ck-evaluation-badge-padding-horizontal:4px;--ck-evaluation-badge-text-color:#4f4f4f;--ck-evaluation-badge-border-radius:var(--ck-border-radius);--ck-evaluation-badge-background:#fff;--ck-evaluation-badge-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-evaluation-badge-balloon{--ck-border-radius:var(--ck-evaluation-badge-border-radius);background:var(--ck-evaluation-badge-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-panel) - 1)}.ck.ck-balloon-panel.ck-evaluation-badge-balloon .ck.ck-evaluation-badge{line-height:var(--ck-evaluation-badge-line-height);padding:var(--ck-evaluation-badge-padding-vertical) var(--ck-evaluation-badge-padding-horizontal)}.ck.ck-balloon-panel.ck-evaluation-badge-balloon .ck.ck-evaluation-badge .ck-evaluation-badge__label{color:var(--ck-evaluation-badge-text-color);display:block;font-size:var(--ck-evaluation-badge-font-size);font-weight:700;letter-spacing:var(--ck-evaluation-badge-letter-spacing);line-height:normal;padding:0 2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-evaluation-badge-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-evaluation-badge-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-evaluation-badge-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-dialog-background:var(--ck-custom-background);--ck-color-dialog-form-header-border:var(--ck-custom-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-color-light-red:#fcc;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{background:transparent;border:0;box-sizing:border-box;height:auto;margin:0;padding:0;position:static;text-decoration:none;transition:none;vertical-align:middle;width:auto;word-wrap:break-word}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-ui/theme/globals/_poweredby.css","webpack://./../ckeditor5-ui/theme/globals/_evaluationbadge.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,MACC,gBAAiB,CACjB,4CAA+C,CAC/C,kBACD,CCDA,oDAEC,yBACD,CCNA,MAEC,+DAAoE,CAEpE,gEAAqE,CAErE,qEAA0E,CAC1E,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDAA0D,CAE1D,4BAA6B,CAC7B,6BAA8B,CAC9B,2FAAgG,CAChG,6FACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAmDD,CAjDC,6DACC,4CAsCD,CApCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,wCAAyC,CAIzC,eAAiB,CAHjB,kDAAmD,CAMnD,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAAc,CAGd,uCAAwC,CADxC,qCAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CC5ED,MAEC,qEAA0E,CAE1E,uEAA4E,CAE5E,2EAAgF,CAChF,0CAA2C,CAC3C,4CAA6C,CAC7C,wCAAiD,CACjD,2DAA4D,CAC5D,qCAAkD,CAClD,+DACD,CAEA,iDACC,2DAA4D,CAG5D,gDAAiD,CADjD,eAAgB,CAEhB,gBAAiB,CACjB,mCA0BD,CAxBC,yEACC,kDAAmD,CACnD,iGAYD,CAVC,qGAQC,2CAA4C,CAP5C,aAAc,CAEd,8CAA+C,CAE/C,eAAiB,CADjB,wDAAyD,CAEzD,kBAAmB,CAJnB,aAAc,CAKd,wBAED,CAGD,yEACC,wBACD,CAEA,yEACC,2BAA4B,CAC5B,oDACD,CC9CD,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,wDAAiE,CACjE,4DAAmE,CAInE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAyD,CAIzD,yBAAgD,CChHhD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJgHD,CI1GA,2EAYC,sBAAuB,CADvB,QAAS,CART,qBAAsB,CAEtB,WAAY,CAIZ,QAAS,CACT,SAAU,CAJV,eAAgB,CAOhB,oBAAqB,CAErB,eAAgB,CADhB,qBAAsB,CAVtB,UAAW,CAcX,oBACD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCxFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-z-default: 1;
	--ck-z-panel: calc( var(--ck-z-default) + 999 );
	--ck-z-dialog: 9999;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	/* where 7.5(px) is the font size of the powered by label and 13(px) is the base font size. */
	--ck-powered-by-font-size: calc(var(--ck-font-size-base) * 7.5 / 13);
	/* where 10(px) is the line height of the powered by label and 13(px) is the base font size. */
	--ck-powered-by-line-height: calc(var(--ck-font-size-base) * 10 / 13);
	/* where -0.2(px) is the letter spacing of the powered by label and 13(px) is the base font size. */
	--ck-powered-by-letter-spacing: calc(var(--ck-font-size-base) * -0.2 / 13);
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);

	--ck-powered-by-svg-width: 53;
	--ck-powered-by-svg-height: 10;
	--ck-powered-by-icon-width: calc(var(--ck-font-size-base) * var(--ck-powered-by-svg-width) / 13);
	--ck-powered-by-icon-height: calc(var(--ck-font-size-base) * var(--ck-powered-by-svg-height) / 13);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-panel) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: var(--ck-powered-by-font-size);
			letter-spacing: var(--ck-powered-by-letter-spacing);
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
			width: var(--ck-powered-by-icon-width);
			height: var(--ck-powered-by-icon-height);
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	/* where 7.5(px) is the font size of the evaluation badge label and 13(px) is the base font size. */
	--ck-evaluation-badge-font-size: calc(var(--ck-font-size-base) * 7.5 / 13);
	/* where 7.5(px) is the line height of the evaluation badge label and 13(px) is the base font size. */
	--ck-evaluation-badge-line-height: calc(var(--ck-font-size-base) * 7.5 / 13);
	/* where -0.2(px) is the letter spacing of the evaluation badge label and 13(px) is the base font size. */
	--ck-evaluation-badge-letter-spacing: calc(var(--ck-font-size-base) * -0.2 / 13);
	--ck-evaluation-badge-padding-vertical: 2px;
	--ck-evaluation-badge-padding-horizontal: 4px;
	--ck-evaluation-badge-text-color: hsl(0, 0%, 31%);
	--ck-evaluation-badge-border-radius: var(--ck-border-radius);
	--ck-evaluation-badge-background: hsl(0, 0%, 100%);
	--ck-evaluation-badge-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-evaluation-badge-balloon {
	--ck-border-radius: var(--ck-evaluation-badge-border-radius);

	box-shadow: none;
	background: var(--ck-evaluation-badge-background);
	min-height: unset;
	z-index: calc( var(--ck-z-panel) - 1 );

	& .ck.ck-evaluation-badge {
		line-height: var(--ck-evaluation-badge-line-height);
		padding: var(--ck-evaluation-badge-padding-vertical) var(--ck-evaluation-badge-padding-horizontal);

		& .ck-evaluation-badge__label {
			display: block;
			padding: 0 2px;
			font-size: var(--ck-evaluation-badge-font-size);
			letter-spacing: var(--ck-evaluation-badge-letter-spacing);
			font-weight: bold;
			line-height: normal;
			text-transform: uppercase;
			color: var(--ck-evaluation-badge-text-color);
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-evaluation-badge-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Dialog -------------------------------------------------------------------------------- */

	--ck-color-dialog-background: 								var(--ck-custom-background);
	--ck-color-dialog-form-header-border: 						var(--ck-custom-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%);

	/* -- Generic colors ------------------------------------------------------------------------- */

	--ck-color-light-red:										hsl(0, 100%, 90%);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;

	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const v=C},7693:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0s,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@media (prefers-reduced-motion:reduce){.ck-image-upload-complete-icon{animation-duration:0s}.ck-image-upload-complete-icon:after{animation:none;height:.45em;opacity:1;width:.3em}}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,qBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFAqCD,CAjCC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAEA,uCA7CD,+BA8CE,qBASF,CAPE,qCACC,cAAe,CAGf,YAAc,CAFd,SAAU,CACV,UAED,CACD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 0ms;

		&::after {
			animation: none;
			opacity: 1;
			width: 0.3em;
			height: 0.45em;
		}
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const v=C},7719:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const v=C},7784:d=>{d.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwME0xNjMuNCAzMDUuNWM4OC43IDAgMTM3LjItNzMuNSAxMzcuMi0xMzcuMiAwLTIuMSAwLTQuMi0uMS02LjIgOS40LTYuOCAxNy42LTE1LjMgMjQuMS0yNS04LjYgMy44LTE3LjkgNi40LTI3LjcgNy42IDEwLTYgMTcuNi0xNS40IDIxLjItMjYuNy05LjMgNS41LTE5LjYgOS41LTMwLjYgMTEuNy04LjgtOS40LTIxLjMtMTUuMi0zNS4yLTE1LjItMjYuNiAwLTQ4LjIgMjEuNi00OC4yIDQ4LjIgMCAzLjguNCA3LjUgMS4zIDExLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40LTQuMSA3LjEtNi41IDE1LjQtNi41IDI0LjIgMCAxNi43IDguNSAzMS41IDIxLjUgNDAuMS03LjktLjItMTUuMy0yLjQtMjEuOC02di42YzAgMjMuNCAxNi42IDQyLjggMzguNyA0Ny4zLTQgMS4xLTguMyAxLjctMTIuNyAxLjctMy4xIDAtNi4xLS4zLTkuMS0uOSA2LjEgMTkuMiAyMy45IDMzLjEgNDUgMzMuNS0xNi41IDEyLjktMzcuMyAyMC42LTU5LjkgMjAuNi0zLjkgMC03LjctLjItMTEuNS0uNyAyMS4xIDEzLjggNDYuNSAyMS44IDczLjcgMjEuOCIgc3R5bGU9ImZpbGw6I2ZmZiIvPjwvc3ZnPg=="},7793:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CC9BA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eAwBD,CAtBC,yCAMC,kBAAmB,CALnB,UAAW,CAIX,QAAS,CAHT,iBAAkB,CAClB,uDAA0D,CAC1D,OAiBD,CCjFA,mDDwEE,sFAAuF,CADvF,+JAAoK,CAFpK,SCnEF,CAFA,mDD+EE,sFAAuF,CADvF,+JAAmK,CAFnK,UC1EF",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border);
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: '';
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;

	&::before {
		content: '';
		position: absolute;
		top: calc(-.5 * var(--ck-clipboard-drop-target-dot-width));
		width: 0;
		height: 0;
		border-style: solid;

		@mixin ck-dir ltr {
			left: -1px;

			border-width: calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height);
			border-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);
		}

		@mixin ck-dir rtl {
			right: -1px;

			border-width:calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0;
			border-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const v=C},7801:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const v=C},7913:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:44px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}[dir=ltr] .ck.ck-form__header>.ck-icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-form__header>.ck-icon{margin-left:var(--ck-spacing-medium)}.ck.ck-form__header .ck-form__header__label{--ck-font-size-base:15px;font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BAKD,CAHC,8CACC,WACD,CCPD,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAmBD,CCzBC,uCDaE,qCCXF,CAFA,uCDiBE,oCCfF,CDmBA,4CACC,wBAAyB,CACzB,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;

	& h2.ck-form__header__label {
		flex-grow: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-form-header-height: 44px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& > .ck-icon {
		@mixin ck-dir ltr {
			margin-right: var(--ck-spacing-medium);
		}

		@mixin ck-dir rtl {
			margin-left: var(--ck-spacing-medium);
		}
	}

	& .ck-form__header__label {
		--ck-font-size-base: 15px;
		font-weight: bold;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const v=C},8021:d=>{d.exports=function(p,m){Object.keys(m).forEach(function(k){p.setAttribute(k,m[k])})}},8107:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/search/search.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/search/search.css"],names:[],mappings:"AASE,oFACC,iBAAkB,CAClB,OAAQ,CACR,0BASD,CCfD,8FDSG,6BCPH,CAFA,8FDaG,8BCXH,CDeC,uDACC,iBAAkB,CAClB,OAAQ,CACR,0BACD,CAKC,oEACC,aACD,CAGA,qEACC,YACD,CEhCH,MACC,8FACD,CAIE,+CACC,UACD,CAEA,gEACC,0FAoBD,CAlBC,+GACC,UAAW,CACX,mBACD,CAEA,0EACC,UAWD,CAJE,kMACC,2DACD,CAKH,iEACC,sGAwCD,CAtCC,6FACC,6HACD,CAEA,mFAIC,eAAgB,CAFhB,eAAgB,CADhB,cAAe,CAIf,UAAW,CACX,SAaD,CD5DF,6FCkDI,8BDhDJ,CAFA,6FCsDI,6BDpDJ,CCuDG,yFACC,SACD,CAGD,2EACC,UAWD,CD1EF,oMCwEI,4DDtEJ,CC4EA,kCACC,cAkBD,CAhBC,mDAEC,wDAAyD,CADzD,UAcD,CAXC,qDACC,kBACD,CAEA,oEACC,eACD,CAEA,mEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-search {
	& > .ck-labeled-field-view {
		& > .ck-labeled-field-view__input-wrapper > .ck-icon {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);

			@mixin ck-dir ltr {
				left: var(--ck-spacing-medium);
			}

			@mixin ck-dir rtl {
				right: var(--ck-spacing-medium);
			}
		}

		& .ck-search__reset {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);
		}
	}

	& > .ck-search__results {
		& > .ck-search__info {
			& > span:first-child {
				display: block;
			}

			/* Hide the filtered view when nothing was found */
			&:not(.ck-hidden) ~ * {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-search-field-view-horizontal-spacing: calc(var(--ck-icon-size) + var(--ck-spacing-medium));
}

.ck.ck-search {
	& > .ck-labeled-field-view {
		& .ck-input {
			width: 100%;
		}

		&.ck-search__query_with-icon {
			--ck-labeled-field-label-default-position-x: var(--ck-search-field-view-horizontal-spacing);

			& > .ck-labeled-field-view__input-wrapper > .ck-icon {
				opacity: .5;
				pointer-events: none;
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					padding-left: var(--ck-search-field-view-horizontal-spacing);
				}

				@mixin ck-dir rtl {
					&:not(.ck-input-text_empty) {
						padding-left: var(--ck-search-field-view-horizontal-spacing);
					}
				}
			}
		}

		&.ck-search__query_with-reset {
			--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-search-field-view-horizontal-spacing);

			&.ck-labeled-field-view_empty {
				--ck-labeled-field-empty-unfocused-max-width: 100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium);
			}

			& .ck-search__reset {
				min-width: auto;
				min-height: auto;

				background: none;
				opacity: .5;
				padding: 0;

				@mixin ck-dir ltr {
					right: var(--ck-spacing-medium);
				}

				@mixin ck-dir rtl {
					left: var(--ck-spacing-medium);
				}

				&:hover {
					opacity: 1;
				}
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					&:not(.ck-input-text_empty) {
						padding-right: var(--ck-search-field-view-horizontal-spacing);
					}
				}

				@mixin ck-dir rtl {
					padding-right: var(--ck-search-field-view-horizontal-spacing);
				}
			}
		}
	}

	& > .ck-search__results {
		min-width: 100%;

		& > .ck-search__info {
			width: 100%;
			padding: var(--ck-spacing-medium) var(--ck-spacing-large);

			& * {
				white-space: normal;
			}

			& > span:first-child {
				font-weight: bold;
			}

			& > span:last-child {
				margin-top: var(--ck-spacing-medium);
			}
		}
	}
}

`],sourceRoot:""}]);const v=C},8128:d=>{var p={};d.exports=function(m,k){var w=function(_){if(p[_]===void 0){var C=document.querySelector(_);if(window.HTMLIFrameElement&&C instanceof window.HTMLIFrameElement)try{C=C.contentDocument.head}catch{C=null}p[_]=C}return p[_]}(m);if(!w)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");w.appendChild(k)}},8137:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,gEACD,CAWE,8QAGC,2DAA4D,CAC5D,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		/**
		 * While setting outline is fine, the border should not be modified here
		 * because it overrides the default table cell border color which is not expected.
		 * So do not use \`@mixin ck-focus-ring;\` here, or any other border styles.
		 * See more: https://github.com/ckeditor/ckeditor5/issues/16979
		 */
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-selector-focused-cell-background);
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const v=C},8149:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-panel) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);border-radius:0;bottom:0;min-width:100%}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBAIC,oDAAqD,CACrD,sDAAuD,CGvFvD,eAAgB,CHwFhB,QAAS,CAGT,cAuBD,CGhHC,qFAEC,qCAED,CH4ED,uBEpFC,oCFoHD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-panel);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-panel) + 1 );
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;

			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const v=C},8264:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const v=C},8298:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-panel)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-panel); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const v=C},8423:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const v=C},8508:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button svg{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button:hover,.ck .ck-widget .ck-widget__type-around__button:hover svg line,.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:none}}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAwED,CAhEC,uCATD,+CAUE,eA+DF,CA9DC,CAEA,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAwBD,CAlBC,uCAPD,mDAQE,eAiBF,CAhBC,CAEA,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DA4BD,CAtBE,kEACC,oDACD,CAEA,8DACC,wDACD,CAGD,uCAQE,qLACC,cACD,CAEF,CASD,uKA7FD,SAAU,CACV,mBA8FC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAxKD,SAAU,CACV,mBAyKC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAxNF,SAAU,CACV,mBAyNE,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}

			@media (prefers-reduced-motion: reduce) {
				animation: none;

				& svg {
					& polyline {
						animation: none;
					}

					& line {
						animation: none;
					}
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const v=C},8527:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,":root{--ck-accessibility-help-dialog-max-width:600px;--ck-accessibility-help-dialog-max-height:400px;--ck-accessibility-help-dialog-border-color:#ccced1;--ck-accessibility-help-dialog-code-background-color:#ededed;--ck-accessibility-help-dialog-kbd-shadow-color:#9c9c9c}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{border:1px solid transparent;max-height:var(--ck-accessibility-help-dialog-max-height);max-width:var(--ck-accessibility-help-dialog-max-width);overflow:auto;padding:var(--ck-spacing-large);user-select:text}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content *{white-space:normal}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content .ck-label{display:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3{font-size:1.2em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4{font-size:1em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content p,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content table{margin:1em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl{border-bottom:none;border-top:1px solid var(--ck-accessibility-help-dialog-border-color);display:grid;grid-template-columns:2fr 1fr}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{border-bottom:1px solid var(--ck-accessibility-help-dialog-border-color);padding:.4em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{grid-column-start:1}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd{grid-column-start:2;text-align:right}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{background:var(--ck-accessibility-help-dialog-code-background-color);border-radius:2px;display:inline-block;font-size:.9em;line-height:1;padding:.4em;text-align:center;vertical-align:middle}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code{font-family:monospace}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{box-shadow:0 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);margin:0 1px;min-width:1.8em}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd+kbd{margin-left:2px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/accessibilityhelp.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAQA,MACC,8CAA+C,CAC/C,+CAAgD,CAChD,mDAA8D,CAC9D,4DAAyE,CACzE,uDACD,CAEA,wEAOC,4BAA6B,CAJ7B,yDAA0D,CAD1D,uDAAwD,CAExD,aAAc,CAHd,+BAAgC,CAIhC,gBAgFD,CA5EC,8ECdA,2BAA2B,CCF3B,2CAA8B,CDC9B,YDkBA,CAEA,0EACC,kBACD,CAGA,kFACC,YACD,CAEA,2EAEC,eAAgB,CADhB,eAED,CAEA,2EAEC,aAAc,CADd,eAED,CAEA,8SAIC,YACD,CAEA,2EAIC,kBAAmB,CADnB,qEAAsE,CAFtE,YAAa,CACb,6BAiBD,CAbC,4JACC,wEAAyE,CACzE,cACD,CAEA,8EACC,mBACD,CAEA,8EACC,mBAAoB,CACpB,gBACD,CAGD,yJAEC,oEAAqE,CAIrE,iBAAkB,CALlB,oBAAqB,CAOrB,cAAe,CAHf,aAAc,CAFd,YAAa,CAIb,iBAAkB,CAHlB,qBAKD,CAEA,6EACC,qBACD,CAEA,4EAEC,yEAA4E,CAC5E,YAAa,CAFb,eAOD,CAHC,gFACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-accessibility-help-dialog-max-width: 600px;
	--ck-accessibility-help-dialog-max-height: 400px;
	--ck-accessibility-help-dialog-border-color: hsl(220, 6%, 81%);
	--ck-accessibility-help-dialog-code-background-color: hsl(0deg 0% 92.94%);
	--ck-accessibility-help-dialog-kbd-shadow-color: hsl(0deg 0% 61%);
}

.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content {
	padding: var(--ck-spacing-large);
	max-width: var(--ck-accessibility-help-dialog-max-width);
	max-height: var(--ck-accessibility-help-dialog-max-height);
	overflow: auto;
	user-select: text;

	border: 1px solid transparent;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	* {
		white-space: normal;
	}

	/* Hide the main label of the content container. */
	& .ck-label {
		display: none;
	}

	& h3 {
		font-weight: bold;
		font-size: 1.2em;
	}

	& h4 {
		font-weight: bold;
		font-size: 1em;
	}

	& p,
	& h3,
	& h4,
	& table {
		margin: 1em 0;
	}

	& dl {
		display: grid;
		grid-template-columns: 2fr 1fr;
		border-top: 1px solid var(--ck-accessibility-help-dialog-border-color);
		border-bottom: none;

		& dt, & dd {
			border-bottom: 1px solid var(--ck-accessibility-help-dialog-border-color);
			padding: .4em 0;
		}

		& dt {
			grid-column-start: 1;
		}

		& dd {
			grid-column-start: 2;
			text-align: right;
		}
	}

	& kbd, & code {
		display: inline-block;
		background: var(--ck-accessibility-help-dialog-code-background-color);
		padding: .4em;
		vertical-align: middle;
		line-height: 1;
		border-radius: 2px;
		text-align: center;
		font-size: .9em;
	}

	& code {
		font-family: monospace;
	}

	& kbd {
		min-width: 1.8em;
		box-shadow: 0px 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);
		margin: 0 1px;

		& + kbd {
			margin-left: 2px;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const v=C},8639:d=>{var p,m=(p=[],function(_,C){return p[_]=C,p.filter(Boolean).join(`
`)});function k(_,C,v,D){var E;if(v)E="";else{E="",D.supports&&(E+="@supports (".concat(D.supports,") {")),D.media&&(E+="@media ".concat(D.media," {"));var O=D.layer!==void 0;O&&(E+="@layer".concat(D.layer.length>0?" ".concat(D.layer):""," {")),E+=D.css,O&&(E+="}"),D.media&&(E+="}"),D.supports&&(E+="}")}if(_.styleSheet)_.styleSheet.cssText=m(C,E);else{var M=document.createTextNode(E),j=_.childNodes;j[C]&&_.removeChild(j[C]),j.length?_.insertBefore(M,j[C]):_.appendChild(M)}}var w={singleton:null,singletonCounter:0};d.exports=function(_){if(typeof document>"u")return{update:function(){},remove:function(){}};var C=w.singletonCounter++,v=w.singleton||(w.singleton=_.insertStyleElement(_));return{update:function(D){k(v,C,!1,D)},remove:function(D){k(v,C,!0,D)}}}},8708:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const v=C},8762:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CChEF,gJDyEG,aCvEH,CFAA",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const v=C},8795:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);bottom:-999999px;opacity:.25;top:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,oEAAqE,CACrE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAGC,QAAS,CAGT,iBAAkB,CALlB,iBAAkB,CAGlB,oDAAqD,CAFrD,KAAM,CAKN,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,8DAA+D,CAO/D,gBAAiB,CANjB,WAAa,CAKb,aAED,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);
	--ck-table-column-resizer-width: 7px;

	/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.
	   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */
	--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);
}

.ck-content .table .ck-table-resized {
	table-layout: fixed;
}

.ck-content .table table {
	overflow: hidden;
}

.ck-content .table td,
.ck-content .table th {
	/* To prevent text overflowing beyond its cell when columns are resized by resize handler
	(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */
	overflow-wrap: break-word;
	position: relative;
}

.ck.ck-editor__editable .table .ck-table-column-resizer {
	position: absolute;
	top: 0;
	bottom: 0;
	right: var(--ck-table-column-resizer-position-offset);
	width: var(--ck-table-column-resizer-width);
	cursor: col-resize;
	user-select: none;
	z-index: var(--ck-z-default);
}

.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {
	display: none;
}

/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,
   all resizers must be hidden while the table is dragged. */
.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {
	display: none;
}

.ck.ck-editor__editable .table .ck-table-column-resizer:hover,
.ck.ck-editor__editable .table .ck-table-column-resizer__active {
	background-color: var(--ck-color-selector-column-resizer-hover);
	opacity: 0.25;
	/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,
	   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as
	   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally
	   unrealistic height for a single table. */
	top: -999999px;
	bottom: -999999px;
}

.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {
	left: var(--ck-table-column-resizer-position-offset);
	right: unset;
}
`],sourceRoot:""}]);const v=C},8986:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecellproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-table-cell-properties-form {
	& .ck-form__row {
		&.ck-table-cell-properties-form__alignment-row {
			flex-wrap: wrap;

			& .ck.ck-toolbar {
				&:first-of-type {
					/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */
					flex-grow: 0.57;
				}

				&:last-of-type {
					/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */
					flex-grow: 0.43;
				}

				& .ck-button {
					flex-grow: 1;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-table-cell-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-cell-properties-form__padding-row {
			align-self: flex-end;
			padding: 0;
			width: 25%;
		}

		&.ck-table-cell-properties-form__alignment-row {
			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);
			}
		}
	}
}
`],sourceRoot:""}]);const v=C},8991:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-content .todo-list .todo-list__label>input:before{transition:none}}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{transition:none}}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}',"",{version:3,sources:["webpack://./../ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CA4EA,uBACC,eAwBD,CAtBC,0BAEC,iBAAkB,CADlB,iBAMD,CAHC,qCACC,cACD,CAIA,+CAtFD,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAqFC,CAvED,wDACC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAED,CAEA,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sDAYE,eAEF,CADC,CAGD,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAwBA,wEACC,qBACD,CAEA,mGACC,iBACD,CAYD,kKAEC,cAKD,CAHC,4LACC,mCACD,CAMD,+FAxHA,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAuHA,CAzGA,wGACC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAED,CAEA,sGAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sGAYE,eAEF,CADC,CAGD,qGAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+GACC,kBAA8B,CAC9B,oBACD,CAEA,8GACC,iBACD,CA2DA,uHACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

@define-mixin todo-list-checkbox {
	-webkit-appearance: none;
	display: inline-block;
	position: relative;
	width: var(--ck-todo-list-checkmark-size);
	height: var(--ck-todo-list-checkmark-size);
	vertical-align: middle;

	/* Needed on iOS */
	border: 0;

	/* LTR styles */
	left: -25px;
	margin-right: -15px;
	right: 0;
	margin-left: 0;

	/* RTL styles */
	[dir=rtl]& {
		left: 0;
		margin-right: 0;
		right: -25px;
		margin-left: -15px;
	}

	&::before {
		display: block;
		position: absolute;
		box-sizing: border-box;
		content: '';
		width: 100%;
		height: 100%;
		border: 1px solid hsl(0, 0%, 20%);
		border-radius: 2px;
		transition: 250ms ease-in-out box-shadow;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}
	}

	&::after {
		display: block;
		position: absolute;
		box-sizing: content-box;
		pointer-events: none;
		content: '';

		/* Calculate tick position, size and border-width proportional to the checkmark size. */
		left: calc( var(--ck-todo-list-checkmark-size) / 3 );
		top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
		border-style: solid;
		border-color: transparent;
		border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
		transform: rotate(45deg);
	}

	&[checked] {
		&::before {
			background: hsl(126, 64%, 41%);
			border-color: hsl(126, 64%, 41%);
		}

		&::after {
			border-color: hsl(0, 0%, 100%);
		}
	}
}

/*
 * To-do list content styles.
 */
.ck-content .todo-list {
	list-style: none;

	& li {
		position: relative;
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			@mixin todo-list-checkbox;
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}

		&.todo-list__label_without-description input[type=checkbox] {
			position: absolute;
		}
	}
}

/*
 * To-do list editing view styles.
 */
.ck-editor__editable.ck-content .todo-list .todo-list__label {
	/*
	 * To-do list should be interactive only during the editing
	 * (https://github.com/ckeditor/ckeditor5/issues/2090).
	 */
	& > input,
	& > span[contenteditable=false] > input {
		cursor: pointer;

		&:hover::before {
			box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
		}
	}

	/*
	 * Document Lists - editing view has an additional span around checkbox.
	 */
	& > span[contenteditable=false] > input {
		@mixin todo-list-checkbox;
	}

	&.todo-list__label_without-description {
		& input[type=checkbox] {
			position: absolute;
		}
	}
}
`],sourceRoot:""}]);const v=C},9047:(d,p,m)=>{const k=m(9246),w=m(802),_={};Object.keys(k).forEach(C=>{_[C]={},Object.defineProperty(_[C],"channels",{value:k[C].channels}),Object.defineProperty(_[C],"labels",{value:k[C].labels});const v=w(C);Object.keys(v).forEach(D=>{const E=v[D];_[C][D]=function(O){const M=function(...j){const F=j[0];if(F==null)return F;F.length>1&&(j=F);const G=O(j);if(typeof G=="object")for(let J=G.length,H=0;H<J;H++)G[H]=Math.round(G[H]);return G};return"conversion"in O&&(M.conversion=O.conversion),M}(E),_[C][D].raw=function(O){const M=function(...j){const F=j[0];return F==null?F:(F.length>1&&(j=F),O(j))};return"conversion"in O&&(M.conversion=O.conversion),M}(E)})}),d.exports=_},9108:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,":root{--ck-menu-bar-menu-max-width:75vw;--ck-menu-bar-nested-menu-horizontal-offset:5px}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{max-width:var(--ck-menu-bar-menu-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw{bottom:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{bottom:auto;top:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{left:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{right:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{left:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en{bottom:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{right:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{bottom:0}:root{--ck-menu-bar-menu-panel-max-width:75vw}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);border-radius:0;bottom:0;height:fit-content;max-width:var(--ck-menu-bar-menu-panel-max-width)}.ck-rounded-corners .ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{box-shadow:var(--ck-drop-shadow),0 0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{border-top-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{border-top-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne{border-bottom-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{border-bottom-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel:focus{outline:none}.ck.ck-menu-bar .ck-list-item-button:active,.ck.ck-menu-bar .ck-list-item-button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar.ck-menu-bar_focus-border-enabled .ck-list-item-button:active,.ck.ck-menu-bar.ck-menu-bar_focus-border-enabled .ck-list-item-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none;position:relative;z-index:2}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css"],names:[],mappings:"AAKA,MACC,iCAAkC,CAClC,+CACD,CAEA,mDAEC,2CAA4C,CAC5C,iBAAkB,CAFlB,yBAkDD,CA9CC,gLAEC,WACD,CAEA,gLAGC,WAAY,CADZ,QAED,CAEA,gLAEC,MACD,CAEA,gLAEC,OACD,CAEA,gLAEC,kEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CAEA,gLAEC,mEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CCnDD,MACC,uCACD,CAEA,mDAIC,oDAAqD,CACrD,sDAAuD,CCPvD,eAAgB,CDQhB,QAAS,CACT,kBAAmB,CACnB,iDA0BD,CClCC,6IAEC,qCAED,CDJD,mDEJC,oCFsCD,CAvBC,gLAEC,wBACD,CAEA,gLAEC,yBACD,CAEA,gLAEC,2BACD,CAEA,gLAEC,4BACD,CAEA,yDACC,YACD,CAKC,uFAEC,wBAAyB,CACzB,eACD,CAIA,yJGhDD,2BAA2B,CDF3B,2CAA8B,CCC9B,YAAa,CHoDX,iBAAkB,CAClB,SAID",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-menu-bar-menu-max-width: 75vw;
	--ck-menu-bar-nested-menu-horizontal-offset: 5px;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	z-index: var(--ck-z-panel);
	max-width: var(--ck-menu-bar-menu-max-width);
	position: absolute;

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_nw {
		bottom: 100%;
	}

	&.ck-menu-bar__menu__panel_position_se,
	&.ck-menu-bar__menu__panel_position_sw {
		top: 100%;
		bottom: auto;
	}

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_se {
		left: 0px;
	}

	&.ck-menu-bar__menu__panel_position_nw,
	&.ck-menu-bar__menu__panel_position_sw {
		right: 0px;
	}

	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_en {
		left: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_es {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_en {
		bottom: 0px;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_wn {
		right: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_ws {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_wn {
		bottom: 0px;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";

:root {
	--ck-menu-bar-menu-panel-max-width: 75vw;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;
	height: fit-content;
	max-width: var(--ck-menu-bar-menu-panel-max-width);

	/* Corner border radius consistent with the button. */
	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_se {
		border-top-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_sw {
		border-top-right-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_en,
	&.ck-menu-bar__menu__panel_position_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_wn,
	&.ck-menu-bar__menu__panel_position_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}

.ck.ck-menu-bar {
	& .ck-list-item-button {
		&:focus,
		&:active {
			border-color: transparent;
			box-shadow: none;
		}
	}

	&.ck-menu-bar_focus-border-enabled .ck-list-item-button {
		&:focus,
		&:active {
			/* Fix truncated shadows due to rendering order. */
			position: relative;
			z-index: 2;

			@mixin ck-focus-ring;
			@mixin ck-box-shadow var(--ck-focus-outer-shadow);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`],sourceRoot:""}]);const v=C},9205:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-balloon-panel.ck-tooltip{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;z-index:calc(var(--ck-z-dialog) + 100);--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);box-shadow:none;padding:0 var(--ck-spacing-medium)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;max-width:200px;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAOA,gCCEC,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBAAgB,CDFhB,sCAAyC,CEFzC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,6BAA8B,CAC9B,8DAA+D,CAkB/D,eAAgB,CAhBhB,kCFJD,CEMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAEA,wEAEC,oBAAqB,CAErB,eAAgB,CADhB,wCAAyC,CAFzC,wBAID,CAMA,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../mixins/_unselectable.css";

.ck.ck-balloon-panel.ck-tooltip {
	@mixin ck-unselectable;

	z-index: calc( var(--ck-z-dialog) + 100 );
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-tooltip-text-padding: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	&.ck-tooltip_multi-line .ck-tooltip__text {
		white-space: break-spaces;
		display: inline-block;
		padding: var(--ck-tooltip-text-padding) 0;
		max-width: 200px;
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const v=C},9246:(d,p,m)=>{const k=m(6931),w={};for(const C of Object.keys(k))w[k[C]]=C;const _={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};d.exports=_;for(const C of Object.keys(_)){if(!("channels"in _[C]))throw new Error("missing channels property: "+C);if(!("labels"in _[C]))throw new Error("missing channel labels property: "+C);if(_[C].labels.length!==_[C].channels)throw new Error("channel and label counts mismatch: "+C);const{channels:v,labels:D}=_[C];delete _[C].channels,delete _[C].labels,Object.defineProperty(_[C],"channels",{value:v}),Object.defineProperty(_[C],"labels",{value:D})}_.rgb.hsl=function(C){const v=C[0]/255,D=C[1]/255,E=C[2]/255,O=Math.min(v,D,E),M=Math.max(v,D,E),j=M-O;let F,G;M===O?F=0:v===M?F=(D-E)/j:D===M?F=2+(E-v)/j:E===M&&(F=4+(v-D)/j),F=Math.min(60*F,360),F<0&&(F+=360);const J=(O+M)/2;return G=M===O?0:J<=.5?j/(M+O):j/(2-M-O),[F,100*G,100*J]},_.rgb.hsv=function(C){let v,D,E,O,M;const j=C[0]/255,F=C[1]/255,G=C[2]/255,J=Math.max(j,F,G),H=J-Math.min(j,F,G),z=function(Z){return(J-Z)/6/H+.5};return H===0?(O=0,M=0):(M=H/J,v=z(j),D=z(F),E=z(G),j===J?O=E-D:F===J?O=.3333333333333333+v-E:G===J&&(O=.6666666666666666+D-v),O<0?O+=1:O>1&&(O-=1)),[360*O,100*M,100*J]},_.rgb.hwb=function(C){const v=C[0],D=C[1];let E=C[2];const O=_.rgb.hsl(C)[0],M=1/255*Math.min(v,Math.min(D,E));return E=1-.00392156862745098*Math.max(v,Math.max(D,E)),[O,100*M,100*E]},_.rgb.cmyk=function(C){const v=C[0]/255,D=C[1]/255,E=C[2]/255,O=Math.min(1-v,1-D,1-E);return[100*((1-v-O)/(1-O)||0),100*((1-D-O)/(1-O)||0),100*((1-E-O)/(1-O)||0),100*O]},_.rgb.keyword=function(C){const v=w[C];if(v)return v;let D,E=1/0;for(const j of Object.keys(k)){const F=k[j],G=(M=F,((O=C)[0]-M[0])**2+(O[1]-M[1])**2+(O[2]-M[2])**2);G<E&&(E=G,D=j)}var O,M;return D},_.keyword.rgb=function(C){return k[C]},_.rgb.xyz=function(C){let v=C[0]/255,D=C[1]/255,E=C[2]/255;return v=v>.04045?((v+.055)/1.055)**2.4:v/12.92,D=D>.04045?((D+.055)/1.055)**2.4:D/12.92,E=E>.04045?((E+.055)/1.055)**2.4:E/12.92,[100*(.4124*v+.3576*D+.1805*E),100*(.2126*v+.7152*D+.0722*E),100*(.0193*v+.1192*D+.9505*E)]},_.rgb.lab=function(C){const v=_.rgb.xyz(C);let D=v[0],E=v[1],O=v[2];return D/=95.047,E/=100,O/=108.883,D=D>.008856?D**.3333333333333333:7.787*D+.13793103448275862,E=E>.008856?E**.3333333333333333:7.787*E+.13793103448275862,O=O>.008856?O**.3333333333333333:7.787*O+.13793103448275862,[116*E-16,500*(D-E),200*(E-O)]},_.hsl.rgb=function(C){const v=C[0]/360,D=C[1]/100,E=C[2]/100;let O,M,j;if(D===0)return j=255*E,[j,j,j];O=E<.5?E*(1+D):E+D-E*D;const F=2*E-O,G=[0,0,0];for(let J=0;J<3;J++)M=v+.3333333333333333*-(J-1),M<0&&M++,M>1&&M--,j=6*M<1?F+6*(O-F)*M:2*M<1?O:3*M<2?F+(O-F)*(.6666666666666666-M)*6:F,G[J]=255*j;return G},_.hsl.hsv=function(C){const v=C[0];let D=C[1]/100,E=C[2]/100,O=D;const M=Math.max(E,.01);return E*=2,D*=E<=1?E:2-E,O*=M<=1?M:2-M,[v,100*(E===0?2*O/(M+O):2*D/(E+D)),100*((E+D)/2)]},_.hsv.rgb=function(C){const v=C[0]/60,D=C[1]/100;let E=C[2]/100;const O=Math.floor(v)%6,M=v-Math.floor(v),j=255*E*(1-D),F=255*E*(1-D*M),G=255*E*(1-D*(1-M));switch(E*=255,O){case 0:return[E,G,j];case 1:return[F,E,j];case 2:return[j,E,G];case 3:return[j,F,E];case 4:return[G,j,E];case 5:return[E,j,F]}},_.hsv.hsl=function(C){const v=C[0],D=C[1]/100,E=C[2]/100,O=Math.max(E,.01);let M,j;j=(2-D)*E;const F=(2-D)*O;return M=D*O,M/=F<=1?F:2-F,M=M||0,j/=2,[v,100*M,100*j]},_.hwb.rgb=function(C){const v=C[0]/360;let D=C[1]/100,E=C[2]/100;const O=D+E;let M;O>1&&(D/=O,E/=O);const j=Math.floor(6*v),F=1-E;M=6*v-j,1&j&&(M=1-M);const G=D+M*(F-D);let J,H,z;switch(j){default:case 6:case 0:J=F,H=G,z=D;break;case 1:J=G,H=F,z=D;break;case 2:J=D,H=F,z=G;break;case 3:J=D,H=G,z=F;break;case 4:J=G,H=D,z=F;break;case 5:J=F,H=D,z=G}return[255*J,255*H,255*z]},_.cmyk.rgb=function(C){const v=C[0]/100,D=C[1]/100,E=C[2]/100,O=C[3]/100;return[255*(1-Math.min(1,v*(1-O)+O)),255*(1-Math.min(1,D*(1-O)+O)),255*(1-Math.min(1,E*(1-O)+O))]},_.xyz.rgb=function(C){const v=C[0]/100,D=C[1]/100,E=C[2]/100;let O,M,j;return O=3.2406*v+-1.5372*D+-.4986*E,M=-.9689*v+1.8758*D+.0415*E,j=.0557*v+-.204*D+1.057*E,O=O>.0031308?1.055*O**.4166666666666667-.055:12.92*O,M=M>.0031308?1.055*M**.4166666666666667-.055:12.92*M,j=j>.0031308?1.055*j**.4166666666666667-.055:12.92*j,O=Math.min(Math.max(0,O),1),M=Math.min(Math.max(0,M),1),j=Math.min(Math.max(0,j),1),[255*O,255*M,255*j]},_.xyz.lab=function(C){let v=C[0],D=C[1],E=C[2];return v/=95.047,D/=100,E/=108.883,v=v>.008856?v**.3333333333333333:7.787*v+.13793103448275862,D=D>.008856?D**.3333333333333333:7.787*D+.13793103448275862,E=E>.008856?E**.3333333333333333:7.787*E+.13793103448275862,[116*D-16,500*(v-D),200*(D-E)]},_.lab.xyz=function(C){let v,D,E;D=(C[0]+16)/116,v=C[1]/500+D,E=D-C[2]/200;const O=D**3,M=v**3,j=E**3;return D=O>.008856?O:(D-.13793103448275862)/7.787,v=M>.008856?M:(v-.13793103448275862)/7.787,E=j>.008856?j:(E-.13793103448275862)/7.787,v*=95.047,D*=100,E*=108.883,[v,D,E]},_.lab.lch=function(C){const v=C[0],D=C[1],E=C[2];let O;return O=360*Math.atan2(E,D)/2/Math.PI,O<0&&(O+=360),[v,Math.sqrt(D*D+E*E),O]},_.lch.lab=function(C){const v=C[0],D=C[1],E=C[2]/360*2*Math.PI;return[v,D*Math.cos(E),D*Math.sin(E)]},_.rgb.ansi16=function(C,v=null){const[D,E,O]=C;let M=v===null?_.rgb.hsv(C)[2]:v;if(M=Math.round(M/50),M===0)return 30;let j=30+(Math.round(O/255)<<2|Math.round(E/255)<<1|Math.round(D/255));return M===2&&(j+=60),j},_.hsv.ansi16=function(C){return _.rgb.ansi16(_.hsv.rgb(C),C[2])},_.rgb.ansi256=function(C){const v=C[0],D=C[1],E=C[2];return v===D&&D===E?v<8?16:v>248?231:Math.round((v-8)/247*24)+232:16+36*Math.round(v/255*5)+6*Math.round(D/255*5)+Math.round(E/255*5)},_.ansi16.rgb=function(C){let v=C%10;if(v===0||v===7)return C>50&&(v+=3.5),v=v/10.5*255,[v,v,v];const D=.5*(1+~~(C>50));return[(1&v)*D*255,(v>>1&1)*D*255,(v>>2&1)*D*255]},_.ansi256.rgb=function(C){if(C>=232){const D=10*(C-232)+8;return[D,D,D]}let v;return C-=16,[Math.floor(C/36)/5*255,Math.floor((v=C%36)/6)/5*255,v%6/5*255]},_.rgb.hex=function(C){const v=(((255&Math.round(C[0]))<<16)+((255&Math.round(C[1]))<<8)+(255&Math.round(C[2]))).toString(16).toUpperCase();return"000000".substring(v.length)+v},_.hex.rgb=function(C){const v=C.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!v)return[0,0,0];let D=v[0];v[0].length===3&&(D=D.split("").map(O=>O+O).join(""));const E=parseInt(D,16);return[E>>16&255,E>>8&255,255&E]},_.rgb.hcg=function(C){const v=C[0]/255,D=C[1]/255,E=C[2]/255,O=Math.max(Math.max(v,D),E),M=Math.min(Math.min(v,D),E),j=O-M;let F,G;return F=j<1?M/(1-j):0,G=j<=0?0:O===v?(D-E)/j%6:O===D?2+(E-v)/j:4+(v-D)/j,G/=6,G%=1,[360*G,100*j,100*F]},_.hsl.hcg=function(C){const v=C[1]/100,D=C[2]/100,E=D<.5?2*v*D:2*v*(1-D);let O=0;return E<1&&(O=(D-.5*E)/(1-E)),[C[0],100*E,100*O]},_.hsv.hcg=function(C){const v=C[1]/100,D=C[2]/100,E=v*D;let O=0;return E<1&&(O=(D-E)/(1-E)),[C[0],100*E,100*O]},_.hcg.rgb=function(C){const v=C[0]/360,D=C[1]/100,E=C[2]/100;if(D===0)return[255*E,255*E,255*E];const O=[0,0,0],M=v%1*6,j=M%1,F=1-j;let G=0;switch(Math.floor(M)){case 0:O[0]=1,O[1]=j,O[2]=0;break;case 1:O[0]=F,O[1]=1,O[2]=0;break;case 2:O[0]=0,O[1]=1,O[2]=j;break;case 3:O[0]=0,O[1]=F,O[2]=1;break;case 4:O[0]=j,O[1]=0,O[2]=1;break;default:O[0]=1,O[1]=0,O[2]=F}return G=(1-D)*E,[255*(D*O[0]+G),255*(D*O[1]+G),255*(D*O[2]+G)]},_.hcg.hsv=function(C){const v=C[1]/100,D=v+C[2]/100*(1-v);let E=0;return D>0&&(E=v/D),[C[0],100*E,100*D]},_.hcg.hsl=function(C){const v=C[1]/100,D=C[2]/100*(1-v)+.5*v;let E=0;return D>0&&D<.5?E=v/(2*D):D>=.5&&D<1&&(E=v/(2*(1-D))),[C[0],100*E,100*D]},_.hcg.hwb=function(C){const v=C[1]/100,D=v+C[2]/100*(1-v);return[C[0],100*(D-v),100*(1-D)]},_.hwb.hcg=function(C){const v=C[1]/100,D=1-C[2]/100,E=D-v;let O=0;return E<1&&(O=(D-E)/(1-E)),[C[0],100*E,100*O]},_.apple.rgb=function(C){return[C[0]/65535*255,C[1]/65535*255,C[2]/65535*255]},_.rgb.apple=function(C){return[C[0]/255*65535,C[1]/255*65535,C[2]/255*65535]},_.gray.rgb=function(C){return[C[0]/100*255,C[0]/100*255,C[0]/100*255]},_.gray.hsl=function(C){return[0,0,C[0]]},_.gray.hsv=_.gray.hsl,_.gray.hwb=function(C){return[0,100,C[0]]},_.gray.cmyk=function(C){return[0,0,0,C[0]]},_.gray.lab=function(C){return[C[0],0,0]},_.gray.hex=function(C){const v=255&Math.round(C[0]/100*255),D=((v<<16)+(v<<8)+v).toString(16).toUpperCase();return"000000".substring(D.length)+D},_.rgb.gray=function(C){return[(C[0]+C[1]+C[2])/3/255*100]}},9481:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,":root{--ck-menu-bar-menu-item-min-width:18em}.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item{min-width:var(--ck-menu-bar-menu-item-min-width)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitem.css"],names:[],mappings:"AAKA,MACC,sCACD,CAEA,kDACC,gDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-menu-bar-menu-item-min-width: 18em;
}

.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item {
	min-width: var(--ck-menu-bar-menu-item-min-width);
}
`],sourceRoot:""}]);const v=C},9529:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css"],names:[],mappings:"AAKA,6BACC,+CAAgD,CAIhD,iBAAkB,CAFlB,mBAAoB,CACpB,mBAAoB,CAFpB,sBAID",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-highlighted-text mark {
	background: var(--ck-color-highlight-background);
	vertical-align: initial;
	font-weight: inherit;
	line-height: inherit;
	font-size: inherit;
}
`],sourceRoot:""}]);const v=C},9554:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-dropdown-menu-list__nested-menu__button>.ck-dropdown-menu-list__nested-menu__button__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button{border-radius:0;padding:var(--ck-spacing-tiny) calc(var(--ck-spacing-standard)*2);width:100%}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button:focus{border-color:transparent;box-shadow:none}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button>.ck-button__label{flex-grow:1;overflow:hidden;text-overflow:ellipsis}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button.ck-disabled>.ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button.ck-icon-spacing:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button>.ck-dropdown-menu-list__nested-menu__button__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-button.ck-dropdown-menu-list__nested-menu__button>.ck-dropdown-menu-list__nested-menu__button__arrow{margin-right:calc(var(--ck-spacing-small)*-1);transform:rotate(-90deg)}[dir=rtl] .ck.ck-button.ck-dropdown-menu-list__nested-menu__button>.ck-dropdown-menu-list__nested-menu__button__arrow{margin-left:calc(var(--ck-spacing-small)*-1);transform:rotate(90deg)}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button.ck-disabled>.ck-dropdown-menu-list__nested-menu__button__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-button.ck-dropdown-menu-list__nested-menu__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=ltr] .ck.ck-button.ck-dropdown-menu-list__nested-menu__button>.ck-dropdown-menu-list__nested-menu__button__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-dropdown-menu-list__nested-menu__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-dropdown-menu-list__nested-menu__button>.ck-dropdown-menu-list__nested-menu__button__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/menu/dropdownmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/menu/dropdownmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css"],names:[],mappings:"AAKA,kGACC,mBAAoB,CACpB,2BACD,CCIA,yDAGC,eAAgB,CADhB,iEAAoE,CADpE,UA2ED,CAvEC,+DACC,wBAAyB,CACzB,eAKD,CAHC,2EACC,0DACD,CAGD,2EACC,WAAY,CACZ,eAAgB,CAChB,sBACD,CAEA,uFCvBA,kCDyBA,CAGA,uHACC,+DACD,CAEA,4GACC,mCAeD,CEnDA,sHF0CE,6CAAgD,CAHhD,wBErCF,CAFA,sHFiDE,4CAA+C,CAH/C,uBE5CF,CFmDA,wHClDA,kCDoDA,CAGC,6FACC,oCACD,CAEA,sHAIC,sCAAuC,CAHvC,gCAID,CAIA,6FACC,qCACD,CAEA,sHACC,+BAAgC,CAGhC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-dropdown-menu-list__nested-menu__button > .ck-dropdown-menu-list__nested-menu__button__arrow {
	pointer-events: none;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../../mixins/_disabled.css";
@import "../../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * All menu buttons.
 */
.ck.ck-button.ck-dropdown-menu-list__nested-menu__button {
	width: 100%;
	padding: var(--ck-spacing-tiny) calc(2 * var(--ck-spacing-standard));
	border-radius: 0;

	&:focus {
		border-color: transparent;
		box-shadow: none;

		&:not(.ck-on) {
			background: var(--ck-color-button-default-hover-background);
		}
	}

	& > .ck-button__label {
		flex-grow: 1;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	&.ck-disabled > .ck-button__label {
		@mixin ck-disabled;
	}

	/* Spacing in buttons that miss the icon. */
	&.ck-icon-spacing:not(:has(.ck-button__icon)) > .ck-button__label {
		margin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));
	}

	& > .ck-dropdown-menu-list__nested-menu__button__arrow {
		width: var(--ck-dropdown-arrow-size);

		@mixin ck-dir ltr {
			transform: rotate(-90deg);

			/* Nudge the arrow gently to the right because its center of gravity is to the left */
			margin-right: calc(-1 * var(--ck-spacing-small));
		}

		@mixin ck-dir rtl {
			transform: rotate(90deg);

			/* Nudge the arrow gently to the left because its center of gravity is to the right (after rotation). */
			margin-left: calc(-1 * var(--ck-spacing-small));
		}
	}

	&.ck-disabled > .ck-dropdown-menu-list__nested-menu__button__arrow {
		@mixin ck-disabled;
	}

	@mixin ck-dir ltr {
		&:not(.ck-button_with-text) {
			padding-left: var(--ck-spacing-small);
		}

		& > .ck-dropdown-menu-list__nested-menu__button__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		&:not(.ck-button_with-text) {
			padding-right: var(--ck-spacing-small);
		}

		& > .ck-dropdown-menu-list__nested-menu__button__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const v=C},9677:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);border-radius:0;padding:0 var(--ck-spacing-small)}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar .ck.ck-toolbar__separator{background:var(--ck-color-toolbar-border);height:var(--ck-icon-size);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eAGC,6CAA8C,CAE9C,+CAAgD,CCFhD,eAAgB,CDChB,iCAuGD,CCtGC,qEAEC,qCAED,CDFA,yCAIC,yCAA0C,CAH1C,0BAA2B,CAU3B,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAEA,qCACC,QACD,CAaA,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		height: var(--ck-icon-size);
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	.ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const v=C},9715:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}[dir=ltr] .ck.ck-button,[dir=ltr] a.ck.ck-button{justify-content:left}[dir=rtl] .ck.ck-button,[dir=rtl] a.ck.ck-button{justify-content:right}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;background:var(--ck-color-button-default-background);border:1px solid transparent;border-radius:0;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}@media (prefers-reduced-motion:reduce){.ck.ck-button,a.ck.ck-button{transition:none}}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit;opacity:.5}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-medium)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background);color:var(--ck-color-button-on-color)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background);color:var(--ck-color-button-action-text)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAQA,6BAMC,kBAAmB,CADnB,mBAAoB,CADpB,iBAAkB,CCHlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD0BD,CEhCC,iDFWC,oBETD,CAFA,iDFeC,qBEbD,CFgBA,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CGzBD,6BA6BC,uBAAwB,CC7BxB,oDAAqC,CDuBrC,4BAA6B,CExB7B,eAAgB,CFOhB,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAwID,CC1IE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CCdA,wIAEC,qCAED,CF0BA,uCA/BD,6BAgCE,eA6GF,CA5GC,CAEA,oFGpCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHyCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CDzEA,qFCmEE,eDjEF,CAFA,qFCuEE,gBDrEF,CCyEA,yEACC,aAAc,CAUd,UACD,CDvFA,6FC+EE,mCD7EF,CAFA,6FCmFE,oCDjFF,CCyFC,oIIxFD,oDJ4FC,CAOA,gLKnGD,kCLqGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAYD,CD5HA,2HCqHG,qCDnHH,CAFA,2HCyHG,oCDvHH,CC8HC,mHACC,WACD,CAID,yCChIA,+CAAqC,CDmIpC,qCACD,CCjIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDuHA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CChJC,mDAAqC,CDoJrC,wCACD,CClJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDwID,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../mixins/_unselectable.css";
@import "../../mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;

	@mixin ck-dir ltr {
		justify-content: left;
	}

	@mixin ck-dir rtl {
		justify-content: right;
	}

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		opacity: .5;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-right: var(--ck-spacing-medium);
			}

			@mixin ck-dir rtl {
				margin-left: var(--ck-spacing-medium);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const v=C},9736:d=>{d.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiPjx0aXRsZT5GaWxsIDE8L3RpdGxlPjxwYXRoIGZpbGw9IiNGRkZGRkUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTk2Ny40ODQgMEg1Ni41MTdDMjUuMzA0IDAgMCAyNS4zMDQgMCA1Ni41MTd2OTEwLjk2NkMwIDk5OC42OTQgMjUuMjk3IDEwMjQgNTYuNTIyIDEwMjRINTQ3VjYyOEg0MTRWNDczaDEzM1YzNTkuMDI5YzAtMTMyLjI2MiA4MC43NzMtMjA0LjI4MiAxOTguNzU2LTIwNC4yODIgNTYuNTEzIDAgMTA1LjA4NiA0LjIwOCAxMTkuMjQ0IDYuMDg5VjI5OWwtODEuNjE2LjAzN2MtNjMuOTkzIDAtNzYuMzg0IDMwLjQ5Mi03Ni4zODQgNzUuMjM2VjQ3M2gxNTMuNDg3bC0xOS45ODYgMTU1SDcwN3YzOTZoMjYwLjQ4NGMzMS4yMTMgMCA1Ni41MTYtMjUuMzAzIDU2LjUxNi01Ni41MTZWNTYuNTE1QzEwMjQgMjUuMzAzIDk5OC42OTcgMCA5NjcuNDg0IDAiLz48L3N2Zz4="},9819:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-dialog-overlay{bottom:0;left:0;overscroll-behavior:none;position:fixed;right:0;top:0;user-select:none}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent{animation:none;background:none;pointer-events:none}.ck.ck-dialog{overscroll-behavior:none;position:absolute;width:fit-content}.ck.ck-dialog .ck.ck-form__header{flex-shrink:0}.ck.ck-dialog:not(.ck-dialog_modal) .ck.ck-form__header .ck-form__header__label{cursor:grab}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent .ck.ck-dialog{pointer-events:all}:root{--ck-dialog-overlay-background-color:rgba(0,0,0,.5);--ck-dialog-drop-shadow:0px 0px 6px 2px rgba(0,0,0,.15);--ck-dialog-max-width:100vw;--ck-dialog-max-height:90vh;--ck-color-dialog-background:var(--ck-color-base-background);--ck-color-dialog-form-header-border:var(--ck-color-base-border)}.ck.ck-dialog-overlay{animation:ck-dialog-fade-in .3s;background:var(--ck-dialog-overlay-background-color);z-index:var(--ck-z-dialog)}.ck.ck-dialog{border-radius:0;--ck-drop-shadow:var(--ck-dialog-drop-shadow);background:var(--ck-color-dialog-background);border:1px solid var(--ck-color-base-border);max-height:var(--ck-dialog-max-height);max-width:var(--ck-dialog-max-width);overscroll-behavior:contain}.ck-rounded-corners .ck.ck-dialog,.ck.ck-dialog.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dialog{box-shadow:var(--ck-drop-shadow),0 0}.ck.ck-dialog .ck.ck-form__header{border-bottom:1px solid var(--ck-color-dialog-form-header-border)}.ck-dialog-scroll-locked{overflow:hidden}@keyframes ck-dialog-fade-in{0%{background:transparent}to{background:var(--ck-dialog-overlay-background-color)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,sBAKC,QAAS,CACT,MAAO,CAJP,wBAAyB,CAEzB,cAAe,CAGf,OAAQ,CACR,KAAM,CAPN,gBAcD,CALC,qDAEC,cAAe,CACf,eAAgB,CAFhB,mBAGD,CAGD,cACC,wBAAyB,CAEzB,iBAAkB,CADlB,iBAiBD,CAdC,kCACC,aACD,CAIC,gFACC,WACD,CAGD,mEACC,kBACD,CC/BD,MACC,mDAA2D,CAC3D,uDAA8D,CAC9D,2BAA4B,CAC5B,2BAA4B,CAC5B,4DAA6D,CAC7D,gEACD,CAEA,sBACC,+BAAgC,CAChC,oDAAqD,CACrD,0BACD,CAEA,cCbC,eAAgB,CDiBhB,6CAA8C,CAE9C,4CAA6C,CAG7C,4CAA6C,CAF7C,sCAAuC,CACvC,oCAAqC,CAErC,2BAKD,CC1BC,mEAEC,qCAED,CDOD,cEfC,oCF8BD,CAHC,kCACC,iEACD,CAGD,yBACC,eACD,CAEA,6BACC,GACC,sBACD,CAEA,GACC,oDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-dialog-overlay {
	user-select: none;
	overscroll-behavior: none;

	position: fixed;
	bottom: 0;
	left: 0;
	right: 0;
	top: 0;

	&.ck-dialog-overlay__transparent {
		pointer-events: none;
		animation: none;
		background: none;
	}
}

.ck.ck-dialog {
	overscroll-behavior: none;
	width: fit-content;
	position: absolute;

	& .ck.ck-form__header  {
		flex-shrink: 0;
	}

	/* Modals should not be draggable. */
	&:not(.ck-dialog_modal) {
		& .ck.ck-form__header .ck-form__header__label {
			cursor: grab;
		}
	}

	.ck.ck-dialog-overlay.ck-dialog-overlay__transparent & {
		pointer-events: all;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

:root {
	--ck-dialog-overlay-background-color: hsla( 0, 0%, 0%, .5 );
	--ck-dialog-drop-shadow: 0px 0px 6px 2px hsl(0deg 0% 0% / 15%);
	--ck-dialog-max-width: 100vw;
	--ck-dialog-max-height: 90vh;
	--ck-color-dialog-background: var(--ck-color-base-background);
	--ck-color-dialog-form-header-border: var(--ck-color-base-border);
}

.ck.ck-dialog-overlay {
	animation: ck-dialog-fade-in .3s;
	background: var(--ck-dialog-overlay-background-color);
	z-index: var(--ck-z-dialog);
}

.ck.ck-dialog {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	--ck-drop-shadow: var(--ck-dialog-drop-shadow);

	background: var(--ck-color-dialog-background);
	max-height: var(--ck-dialog-max-height);
	max-width: var(--ck-dialog-max-width);
	border: 1px solid var(--ck-color-base-border);
	overscroll-behavior: contain;

	& .ck.ck-form__header {
		border-bottom: 1px solid var(--ck-color-dialog-form-header-border);
	}
}

.ck-dialog-scroll-locked {
	overflow: hidden;
}

@keyframes ck-dialog-fade-in {
	0% {
		background: hsla( 0, 0%, 0%, 0 );
	}

	100% {
		background: var(--ck-dialog-overlay-background-color);
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const v=C},9822:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-dialog .ck.ck-dialog__actions{display:flex;justify-content:flex-end;padding:var(--ck-spacing-large)}.ck.ck-dialog .ck.ck-dialog__actions>*+*{margin-left:var(--ck-spacing-large)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialogactions.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialogactions.css"],names:[],mappings:"AAMC,qCACC,YAAa,CACb,wBAAyB,CCDzB,+BDED,CCAC,yCACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		display: flex;
		justify-content: flex-end;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		padding: var(--ck-spacing-large);

		& > * + * {
			margin-left: var(--ck-spacing-large);
		}
	}
}
`],sourceRoot:""}]);const v=C},9968:(d,p,m)=>{m.d(p,{A:()=>v});var k=m(2001),w=m.n(k),_=m(935),C=m.n(_)()(w());C.push([d.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const v=C}},o={};function a(d){var p=o[d];if(p!==void 0)return p.exports;var m=o[d]={id:d,exports:{}};return r[d](m,m.exports,a),m.exports}a.m=r,a.n=d=>{var p=d&&d.__esModule?()=>d.default:()=>d;return a.d(p,{a:p}),p},a.d=(d,p)=>{for(var m in p)a.o(p,m)&&!a.o(d,m)&&Object.defineProperty(d,m,{enumerable:!0,get:p[m]})},a.o=(d,p)=>Object.prototype.hasOwnProperty.call(d,p),a.b=document.baseURI||self.location.href;var c={};return(()=>{let d;a.d(c,{default:()=>m3});try{d={window,document}}catch{d={window:{},document:{}}}const p=d;function m(){try{return navigator.userAgent.toLowerCase()}catch{return""}}const k=m(),w={isMac:_(k),isWindows:C(k),isGecko:v(k),isSafari:D(k),isiOS:E(k),isAndroid:O(k),isBlink:M(k),features:{isRegExpUnicodePropertySupported:j()}};function _(u){return u.indexOf("macintosh")>-1}function C(u){return u.indexOf("windows")>-1}function v(u){return!!u.match(/gecko\/\d+/)}function D(u){return u.indexOf(" applewebkit/")>-1&&u.indexOf("chrome")===-1}function E(u){return!!u.match(/iphone|ipad/i)||_(u)&&navigator.maxTouchPoints>0}function O(u){return u.indexOf("android")>-1}function M(u){return u.indexOf("chrome/")>-1&&u.indexOf("edge/")<0}function j(){let u=!1;try{u="".search(new RegExp("[\\p{L}]","u"))===0}catch{}return u}function F(u,e,n,s){n=n||function(S,T){return S===T};const l=Array.isArray(u)?u:Array.prototype.slice.call(u),f=Array.isArray(e)?e:Array.prototype.slice.call(e),b=function(S,T,B){const P=G(S,T,B);if(P===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const W=J(S,P),ee=J(T,P),ne=G(W,ee,B),le=S.length-ne,Ce=T.length-ne;return{firstIndex:P,lastIndexOld:le,lastIndexNew:Ce}}(l,f,n);return s?function(S,T){const{firstIndex:B,lastIndexOld:P,lastIndexNew:W}=S;if(B===-1)return Array(T).fill("equal");let ee=[];return B>0&&(ee=ee.concat(Array(B).fill("equal"))),W-B>0&&(ee=ee.concat(Array(W-B).fill("insert"))),P-B>0&&(ee=ee.concat(Array(P-B).fill("delete"))),W<T&&(ee=ee.concat(Array(T-W).fill("equal"))),ee}(b,f.length):function(S,T){const B=[],{firstIndex:P,lastIndexOld:W,lastIndexNew:ee}=T;return ee-P>0&&B.push({index:P,type:"insert",values:S.slice(P,ee)}),W-P>0&&B.push({index:P+(ee-P),type:"delete",howMany:W-P}),B}(f,b)}function G(u,e,n){for(let s=0;s<Math.max(u.length,e.length);s++)if(u[s]===void 0||e[s]===void 0||!n(u[s],e[s]))return s;return-1}function J(u,e){return u.slice(e).reverse()}function H(u,e,n){n=n||function(le,Ce){return le===Ce};const s=u.length,l=e.length;if(s>200||l>200||s+l>300)return H.fastDiff(u,e,n,!0);let f,b;if(l<s){const le=u;u=e,e=le,f="delete",b="insert"}else f="insert",b="delete";const y=u.length,S=e.length,T=S-y,B={},P={};function W(le){const Ce=(P[le-1]!==void 0?P[le-1]:-1)+1,Me=P[le+1]!==void 0?P[le+1]:-1,qe=Ce>Me?-1:1;B[le+qe]&&(B[le]=B[le+qe].slice(0)),B[le]||(B[le]=[]),B[le].push(Ce>Me?f:b);let tt=Math.max(Ce,Me),Et=tt-le;for(;Et<y&&tt<S&&n(u[Et],e[tt]);)Et++,tt++,B[le].push("equal");return tt}let ee,ne=0;do{for(ee=-ne;ee<T;ee++)P[ee]=W(ee);for(ee=T+ne;ee>T;ee--)P[ee]=W(ee);P[T]=W(T),ne++}while(P[T]!==S);return B[T].slice(1)}H.fastDiff=F;const z=function(){return function u(){u.called=!0}};class Z{constructor(e,n){this.source=e,this.name=n,this.path=[],this.stop=z(),this.off=z()}}const Y=new Array(256).fill("").map((u,e)=>("0"+e.toString(16)).slice(-2));function se(){const[u,e,n,s]=crypto.getRandomValues(new Uint32Array(4));return"e"+Y[255&u]+Y[u>>8&255]+Y[u>>16&255]+Y[u>>24&255]+Y[255&e]+Y[e>>8&255]+Y[e>>16&255]+Y[e>>24&255]+Y[255&n]+Y[n>>8&255]+Y[n>>16&255]+Y[n>>24&255]+Y[255&s]+Y[s>>8&255]+Y[s>>16&255]+Y[s>>24&255]}const X={get(u="normal"){return typeof u!="number"?this[u]||this.normal:u},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function K(u,e){const n=X.get(e.priority);let s=0,l=u.length;for(;s<l;){const f=s+l>>1;X.get(u[f].priority)<n?l=f:s=f+1}u.splice(s,0,e)}class U extends Error{constructor(e,n,s){super(function(l,f){const b=new WeakSet,y=(B,P)=>{if(typeof P=="object"&&P!==null){if(b.has(P))return`[object ${P.constructor.name}]`;b.add(P)}return P},S=f?` ${JSON.stringify(f,y)}`:"",T=ue(l);return l+S+T}(e,s)),this.name="CKEditorError",this.context=n,this.data=s}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,n){if(e.is&&e.is("CKEditorError"))throw e;const s=new U(e.message,n);throw s.stack=e.stack,s}}function q(u,e){console.warn(...de(u,e))}function fe(u,e){console.error(...de(u,e))}function ue(u){return`
Read more: https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html#error-${u}`}function de(u,e){const n=ue(u);return e?[u,e,n]:[u,n]}const ge="44.3.0",Ie=new Date(2025,2,5);if(globalThis.CKEDITOR_VERSION)throw new U("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=ge;const ce=Symbol("listeningTo"),Te=Symbol("emitterId"),re=Symbol("delegations"),te=ke(Object);function ke(u){return u?class extends u{on(e,n,s){this.listenTo(this,e,n,s)}once(e,n,s){let l=!1;this.listenTo(this,e,(f,...b)=>{l||(l=!0,f.off(),n.call(this,f,...b))},s)}off(e,n){this.stopListening(this,e,n)}listenTo(e,n,s,l={}){let f,b;this[ce]||(this[ce]={});const y=this[ce];ve(e)||be(e);const S=ve(e);(f=y[S])||(f=y[S]={emitter:e,callbacks:{}}),(b=f.callbacks[n])||(b=f.callbacks[n]=[]),b.push(s),function(T,B,P,W,ee){B._addEventListener?B._addEventListener(P,W,ee):T._addEventListener.call(B,P,W,ee)}(this,e,n,s,l)}stopListening(e,n,s){const l=this[ce];let f=e&&ve(e);const b=l&&f?l[f]:void 0,y=b&&n?b.callbacks[n]:void 0;if(!(!l||e&&!b||n&&!y))if(s)Ze(this,e,n,s),y.indexOf(s)!==-1&&(y.length===1?delete b.callbacks[n]:Ze(this,e,n,s));else if(y){for(;s=y.pop();)Ze(this,e,n,s);delete b.callbacks[n]}else if(b){for(n in b.callbacks)this.stopListening(e,n);delete l[f]}else{for(f in l)this.stopListening(l[f].emitter);delete this[ce]}}fire(e,...n){try{const s=e instanceof Z?e:new Z(this,e),l=s.name;let f=function(y,S){if(!y._events)return null;let T=S;do{const B=y._events[T];if(B&&B.callbacks&&B.callbacks.length)return B.callbacks;const P=T.lastIndexOf(":");T=P>-1?T.substring(0,P):""}while(T);return null}(this,l);if(s.path.push(this),f){f=f.slice();for(let y=0;y<f.length;y++){const S=f[y].callback;if(S.call(this,s,...n),s.off.called&&(delete s.off.called,this._removeEventListener(l,S)),s.stop.called)break}}const b=this[re];if(b){const y=b.get(l),S=b.get("*");y&&Ue(y,s,n),S&&Ue(S,s,n)}return s.return}catch(s){U.rethrowUnexpectedError(s,this)}}delegate(...e){return{to:(n,s)=>{this[re]||(this[re]=new Map),e.forEach(l=>{const f=this[re].get(l);f?f.set(n,s):this[re].set(l,new Map([[n,s]]))})}}}stopDelegating(e,n){if(this[re])if(e)if(n){const s=this[re].get(e);s&&s.delete(n)}else this[re].delete(e);else this[re].clear()}_addEventListener(e,n,s){(function(b,y){const S=Re(b);if(S[y])return;let T=y,B=null;const P=[];for(;T!==""&&!S[T];)S[T]={callbacks:[],childEvents:[]},P.push(S[T]),B&&S[T].childEvents.push(B),B=T,T=T.substr(0,T.lastIndexOf(":"));if(T!==""){for(const W of P)W.callbacks=S[T].callbacks.slice();S[T].childEvents.push(B)}})(this,e);const l=Oe(this,e),f={callback:n,priority:X.get(s.priority)};for(const b of l)K(b,f)}_removeEventListener(e,n){const s=Oe(this,e);for(const l of s)for(let f=0;f<l.length;f++)l[f].callback==n&&(l.splice(f,1),f--)}}:te}function be(u,e){u[Te]||(u[Te]=e||se())}function ve(u){return u[Te]}function Re(u){return u._events||Object.defineProperty(u,"_events",{value:{}}),u._events}function Oe(u,e){const n=Re(u)[e];if(!n)return[];let s=[n.callbacks];for(let l=0;l<n.childEvents.length;l++){const f=Oe(u,n.childEvents[l]);s=s.concat(f)}return s}function Ue(u,e,n){for(let[s,l]of u){l?typeof l=="function"&&(l=l(e.name)):l=e.name;const f=new Z(e.source,l);f.path=[...e.path],s.fire(f,...n)}}function Ze(u,e,n,s){e._removeEventListener?e._removeEventListener(n,s):u._removeEventListener.call(e,n,s)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(u=>{ke[u]=te.prototype[u]});const Ge=function(u){var e=typeof u;return u!=null&&(e=="object"||e=="function")},ft=Symbol("observableProperties"),gt=Symbol("boundObservables"),oe=Symbol("boundProperties"),Le=Symbol("decoratedMethods"),we=Symbol("decoratedOriginal"),Ee=Ae(ke());function Ae(u){var e;if(!u)return Ee;class n extends(e=u,e){set(l,f){if(Ge(l))return void Object.keys(l).forEach(y=>{this.set(y,l[y])},this);Ne(this);const b=this[ft];if(l in this&&!b.has(l))throw new U("observable-set-cannot-override",this);Object.defineProperty(this,l,{enumerable:!0,configurable:!0,get:()=>b.get(l),set(y){const S=b.get(l);let T=this.fire(`set:${l}`,l,y,S);T===void 0&&(T=y),S===T&&b.has(l)||(b.set(l,T),this.fire(`change:${l}`,l,T,S))}}),this[l]=f}bind(...l){if(!l.length||!ze(l))throw new U("observable-bind-wrong-properties",this);if(new Set(l).size!==l.length)throw new U("observable-bind-duplicate-properties",this);Ne(this);const f=this[oe];l.forEach(y=>{if(f.has(y))throw new U("observable-bind-rebind",this)});const b=new Map;return l.forEach(y=>{const S={property:y,to:[]};f.set(y,S),b.set(y,S)}),{to:Ke,toMany:Xe,_observable:this,_bindProperties:l,_to:[],_bindings:b}}unbind(...l){if(!this[ft])return;const f=this[oe],b=this[gt];if(l.length){if(!ze(l))throw new U("observable-unbind-wrong-properties",this);l.forEach(y=>{const S=f.get(y);S&&(S.to.forEach(([T,B])=>{const P=b.get(T),W=P[B];W.delete(S),W.size||delete P[B],Object.keys(P).length||(b.delete(T),this.stopListening(T,"change"))}),f.delete(y))})}else b.forEach((y,S)=>{this.stopListening(S,"change")}),b.clear(),f.clear()}decorate(l){Ne(this);const f=this[l];if(!f)throw new U("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:l});this.on(l,(b,y)=>{b.return=f.apply(this,y)}),this[l]=function(...b){return this.fire(l,b)},this[l][we]=f,this[Le]||(this[Le]=[]),this[Le].push(l)}stopListening(l,f,b){if(!l&&this[Le]){for(const y of this[Le])this[y]=this[y][we];delete this[Le]}super.stopListening(l,f,b)}}return n}function Ne(u){u[ft]||(Object.defineProperty(u,ft,{value:new Map}),Object.defineProperty(u,gt,{value:new Map}),Object.defineProperty(u,oe,{value:new Map}))}function Ke(...u){const e=function(...f){if(!f.length)throw new U("observable-bind-to-parse-error",null);const b={to:[]};let y;return typeof f[f.length-1]=="function"&&(b.callback=f.pop()),f.forEach(S=>{if(typeof S=="string")y.properties.push(S);else{if(typeof S!="object")throw new U("observable-bind-to-parse-error",null);y={observable:S,properties:[]},b.to.push(y)}}),b}(...u),n=Array.from(this._bindings.keys()),s=n.length;if(!e.callback&&e.to.length>1)throw new U("observable-bind-to-no-callback",this);if(s>1&&e.callback)throw new U("observable-bind-to-extra-callback",this);var l;e.to.forEach(f=>{if(f.properties.length&&f.properties.length!==s)throw new U("observable-bind-to-properties-length",this);f.properties.length||(f.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(n[0]).callback=e.callback),l=this._observable,this._to.forEach(f=>{const b=l[gt];let y;b.get(f.observable)||l.listenTo(f.observable,"change",(S,T)=>{y=b.get(f.observable)[T],y&&y.forEach(B=>{dt(l,B.property)})})}),function(f){let b;f._bindings.forEach((y,S)=>{f._to.forEach(T=>{b=T.properties[y.callback?0:f._bindProperties.indexOf(S)],y.to.push([T.observable,b]),function(B,P,W,ee){const ne=B[gt],le=ne.get(W),Ce=le||{};Ce[ee]||(Ce[ee]=new Set),Ce[ee].add(P),le||ne.set(W,Ce)}(f._observable,y,T.observable,b)})})}(this),this._bindProperties.forEach(f=>{dt(this._observable,f)})}function Xe(u,e,n){if(this._bindings.size>1)throw new U("observable-bind-to-many-not-one-binding",this);this.to(...function(s,l){const f=s.map(b=>[b,l]);return Array.prototype.concat.apply([],f)}(u,e),n)}function ze(u){return u.every(e=>typeof e=="string")}function dt(u,e){const n=u[oe].get(e);let s;n.callback?s=n.callback.apply(u,n.to.map(l=>l[0][l[1]])):(s=n.to[0],s=s[0][s[1]]),Object.prototype.hasOwnProperty.call(u,e)?u[e]=s:u.set(e,s)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(u=>{Ae[u]=Ee.prototype[u]});class wt{constructor(){this._replacedElements=[]}replace(e,n){this._replacedElements.push({element:e,newElement:n}),e.style.display="none",n&&e.parentNode.insertBefore(n,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:n})=>{e.style.display="",n&&n.remove()}),this._replacedElements=[]}}function ot(u){let e=0;for(const n of u)e++;return e}function pt(u,e){const n=Math.min(u.length,e.length);for(let s=0;s<n;s++)if(u[s]!=e[s])return s;return u.length==e.length?"same":u.length<e.length?"prefix":"extension"}function He(u){return!(!u||!u[Symbol.iterator])}const at=typeof Em=="object"&&Em&&Em.Object===Object&&Em;var kt=typeof self=="object"&&self&&self.Object===Object&&self;const Gt=at||kt||Function("return this")(),yt=Gt.Symbol;var jn=Object.prototype,on=jn.hasOwnProperty,kr=jn.toString,xn=yt?yt.toStringTag:void 0;const In=function(u){var e=on.call(u,xn),n=u[xn];try{u[xn]=void 0;var s=!0}catch{}var l=kr.call(u);return s&&(e?u[xn]=n:delete u[xn]),l};var Fn=Object.prototype.toString;const Gn=function(u){return Fn.call(u)};var ei=yt?yt.toStringTag:void 0;const tr=function(u){return u==null?u===void 0?"[object Undefined]":"[object Null]":ei&&ei in Object(u)?In(u):Gn(u)},wr=Array.isArray,mr=function(u){return u!=null&&typeof u=="object"},vr=function(u){return typeof u=="string"||!wr(u)&&mr(u)&&tr(u)=="[object String]"};function fn(u,e,n={},s=[]){const l=n&&n.xmlns,f=l?u.createElementNS(l,e):u.createElement(e);for(const b in n)f.setAttribute(b,n[b]);!vr(s)&&He(s)||(s=[s]);for(let b of s)vr(b)&&(b=u.createTextNode(b)),f.appendChild(b);return f}const nr=function(u,e){return function(n){return u(e(n))}},Jo=nr(Object.getPrototypeOf,Object);var ki=Function.prototype,Xo=Object.prototype,es=ki.toString,hn=Xo.hasOwnProperty,xr=es.call(Object);const rr=function(u){if(!mr(u)||tr(u)!="[object Object]")return!1;var e=Jo(u);if(e===null)return!0;var n=hn.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&es.call(n)==xr},wi=function(){this.__data__=[],this.size=0},Mr=function(u,e){return u===e||u!=u&&e!=e},$r=function(u,e){for(var n=u.length;n--;)if(Mr(u[n][0],e))return n;return-1};var di=Array.prototype.splice;const Tl=function(u){var e=this.__data__,n=$r(e,u);return!(n<0)&&(n==e.length-1?e.pop():di.call(e,n,1),--this.size,!0)},ks=function(u){var e=this.__data__,n=$r(e,u);return n<0?void 0:e[n][1]},ws=function(u){return $r(this.__data__,u)>-1},bo=function(u,e){var n=this.__data__,s=$r(n,u);return s<0?(++this.size,n.push([u,e])):n[s][1]=e,this};function Ei(u){var e=-1,n=u==null?0:u.length;for(this.clear();++e<n;){var s=u[e];this.set(s[0],s[1])}}Ei.prototype.clear=wi,Ei.prototype.delete=Tl,Ei.prototype.get=ks,Ei.prototype.has=ws,Ei.prototype.set=bo;const ao=Ei,lo=function(){this.__data__=new ao,this.size=0},Fr=function(u){var e=this.__data__,n=e.delete(u);return this.size=e.size,n},cl=function(u){return this.__data__.get(u)},Ml=function(u){return this.__data__.has(u)},Ki=function(u){if(!Ge(u))return!1;var e=tr(u);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},vs=Gt["__core-js_shared__"];var Nl=function(){var u=/[^.]+$/.exec(vs&&vs.keys&&vs.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}();const cu=function(u){return!!Nl&&Nl in u};var Ft=Function.prototype.toString;const qt=function(u){if(u!=null){try{return Ft.call(u)}catch{}try{return u+""}catch{}}return""};var $t=/^\[object .+?Constructor\]$/,mn=Function.prototype,sn=Object.prototype,Kn=mn.toString,zr=sn.hasOwnProperty,Yr=RegExp("^"+Kn.call(zr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Di=function(u){return!(!Ge(u)||cu(u))&&(Ki(u)?Yr:$t).test(qt(u))},ko=function(u,e){return u==null?void 0:u[e]},js=function(u,e){var n=ko(u,e);return Di(n)?n:void 0},br=js(Gt,"Map"),Kr=js(Object,"create"),uu=function(){this.__data__=Kr?Kr(null):{},this.size=0},cd=function(u){var e=this.has(u)&&delete this.__data__[u];return this.size-=e?1:0,e};var fa=Object.prototype.hasOwnProperty;const du=function(u){var e=this.__data__;if(Kr){var n=e[u];return n==="__lodash_hash_undefined__"?void 0:n}return fa.call(e,u)?e[u]:void 0};var ts=Object.prototype.hasOwnProperty;const mc=function(u){var e=this.__data__;return Kr?e[u]!==void 0:ts.call(e,u)},ti=function(u,e){var n=this.__data__;return this.size+=this.has(u)?0:1,n[u]=Kr&&e===void 0?"__lodash_hash_undefined__":e,this};function Ia(u){var e=-1,n=u==null?0:u.length;for(this.clear();++e<n;){var s=u[e];this.set(s[0],s[1])}}Ia.prototype.clear=uu,Ia.prototype.delete=cd,Ia.prototype.get=du,Ia.prototype.has=mc,Ia.prototype.set=ti;const ih=Ia,mf=function(){this.size=0,this.__data__={hash:new ih,map:new(br||ao),string:new ih}},gc=function(u){var e=typeof u;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?u!=="__proto__":u===null},ud=function(u,e){var n=u.__data__;return gc(e)?n[typeof e=="string"?"string":"hash"]:n.map},gf=function(u){var e=ud(this,u).delete(u);return this.size-=e?1:0,e},hu=function(u){return ud(this,u).get(u)},bf=function(u){return ud(this,u).has(u)},wp=function(u,e){var n=ud(this,u),s=n.size;return n.set(u,e),this.size+=n.size==s?0:1,this};function bc(u){var e=-1,n=u==null?0:u.length;for(this.clear();++e<n;){var s=u[e];this.set(s[0],s[1])}}bc.prototype.clear=mf,bc.prototype.delete=gf,bc.prototype.get=hu,bc.prototype.has=bf,bc.prototype.set=wp;const fu=bc,kc=function(u,e){var n=this.__data__;if(n instanceof ao){var s=n.__data__;if(!br||s.length<199)return s.push([u,e]),this.size=++n.size,this;n=this.__data__=new fu(s)}return n.set(u,e),this.size=n.size,this};function ul(u){var e=this.__data__=new ao(u);this.size=e.size}ul.prototype.clear=lo,ul.prototype.delete=Fr,ul.prototype.get=cl,ul.prototype.has=Ml,ul.prototype.set=kc;const ea=ul,oh=function(u,e){for(var n=-1,s=u==null?0:u.length;++n<s&&e(u[n],n,u)!==!1;);return u},Qi=function(){try{var u=js(Object,"defineProperty");return u({},"",{}),u}catch{}}(),dl=function(u,e,n){e=="__proto__"&&Qi?Qi(u,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):u[e]=n};var wc=Object.prototype.hasOwnProperty;const Tn=function(u,e,n){var s=u[e];wc.call(u,e)&&Mr(s,n)&&(n!==void 0||e in u)||dl(u,e,n)},Ol=function(u,e,n,s){var l=!n;n||(n={});for(var f=-1,b=e.length;++f<b;){var y=e[f],S=void 0;S===void 0&&(S=u[y]),l?dl(n,y,S):Tn(n,y,S)}return n},vp=function(u,e){for(var n=-1,s=Array(u);++n<u;)s[n]=e(n);return s},Ls=function(u){return mr(u)&&tr(u)=="[object Arguments]"};var pa=Object.prototype,sh=pa.hasOwnProperty,Bl=pa.propertyIsEnumerable;const Ps=Ls(function(){return arguments}())?Ls:function(u){return mr(u)&&sh.call(u,"callee")&&!Bl.call(u,"callee")},kf=function(){return!1};var dd=i&&!i.nodeType&&i,wf=dd&&!0&&t&&!t.nodeType&&t,vc=wf&&wf.exports===dd?Gt.Buffer:void 0;const ta=(vc?vc.isBuffer:void 0)||kf;var yc=/^(?:0|[1-9]\d*)$/;const wo=function(u,e){var n=typeof u;return!!(e=e??9007199254740991)&&(n=="number"||n!="symbol"&&yc.test(u))&&u>-1&&u%1==0&&u<e},Rs=function(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=9007199254740991};var Sr={};Sr["[object Float32Array]"]=Sr["[object Float64Array]"]=Sr["[object Int8Array]"]=Sr["[object Int16Array]"]=Sr["[object Int32Array]"]=Sr["[object Uint8Array]"]=Sr["[object Uint8ClampedArray]"]=Sr["[object Uint16Array]"]=Sr["[object Uint32Array]"]=!0,Sr["[object Arguments]"]=Sr["[object Array]"]=Sr["[object ArrayBuffer]"]=Sr["[object Boolean]"]=Sr["[object DataView]"]=Sr["[object Date]"]=Sr["[object Error]"]=Sr["[object Function]"]=Sr["[object Map]"]=Sr["[object Number]"]=Sr["[object Object]"]=Sr["[object RegExp]"]=Sr["[object Set]"]=Sr["[object String]"]=Sr["[object WeakMap]"]=!1;const jl=function(u){return mr(u)&&Rs(u.length)&&!!Sr[tr(u)]},ah=function(u){return function(e){return u(e)}};var hd=i&&!i.nodeType&&i,Ll=hd&&!0&&t&&!t.nodeType&&t,Pl=Ll&&Ll.exports===hd&&at.process;const Oo=function(){try{var u=Ll&&Ll.require&&Ll.require("util").types;return u||Pl&&Pl.binding&&Pl.binding("util")}catch{}}();var hl=Oo&&Oo.isTypedArray;const vf=hl?ah(hl):jl;var pu=Object.prototype.hasOwnProperty;const Ta=function(u,e){var n=wr(u),s=!n&&Ps(u),l=!n&&!s&&ta(u),f=!n&&!s&&!l&&vf(u),b=n||s||l||f,y=b?vp(u.length,String):[],S=y.length;for(var T in u)!e&&!pu.call(u,T)||b&&(T=="length"||l&&(T=="offset"||T=="parent")||f&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||wo(T,S))||y.push(T);return y};var fd=Object.prototype;const Ac=function(u){var e=u&&u.constructor;return u===(typeof e=="function"&&e.prototype||fd)},Km=nr(Object.keys,Object);var lh=Object.prototype.hasOwnProperty;const Qm=function(u){if(!Ac(u))return Km(u);var e=[];for(var n in Object(u))lh.call(u,n)&&n!="constructor"&&e.push(n);return e},mu=function(u){return u!=null&&Rs(u.length)&&!Ki(u)},Rl=function(u){return mu(u)?Ta(u):Qm(u)},yp=function(u,e){return u&&Ol(e,Rl(e),u)},ch=function(u){var e=[];if(u!=null)for(var n in Object(u))e.push(n);return e};var yf=Object.prototype.hasOwnProperty;const Af=function(u){if(!Ge(u))return ch(u);var e=Ac(u),n=[];for(var s in u)(s!="constructor"||!e&&yf.call(u,s))&&n.push(s);return n},fl=function(u){return mu(u)?Ta(u,!0):Af(u)},Zm=function(u,e){return u&&Ol(e,fl(e),u)};var pd=i&&!i.nodeType&&i,gu=pd&&!0&&t&&!t.nodeType&&t,md=gu&&gu.exports===pd?Gt.Buffer:void 0,_c=md?md.allocUnsafe:void 0;const uh=function(u,e){if(e)return u.slice();var n=u.length,s=_c?_c(n):new u.constructor(n);return u.copy(s),s},$=function(u,e){var n=-1,s=u.length;for(e||(e=Array(s));++n<s;)e[n]=u[n];return e},me=function(u,e){for(var n=-1,s=u==null?0:u.length,l=0,f=[];++n<s;){var b=u[n];e(b,n,u)&&(f[l++]=b)}return f},Fe=function(){return[]};var $e=Object.prototype.propertyIsEnumerable,it=Object.getOwnPropertySymbols;const _t=it?function(u){return u==null?[]:(u=Object(u),me(it(u),function(e){return $e.call(u,e)}))}:Fe,Wt=function(u,e){return Ol(u,_t(u),e)},tn=function(u,e){for(var n=-1,s=e.length,l=u.length;++n<s;)u[l+n]=e[n];return u},gn=Object.getOwnPropertySymbols?function(u){for(var e=[];u;)tn(e,_t(u)),u=Jo(u);return e}:Fe,Vn=function(u,e){return Ol(u,gn(u),e)},Ln=function(u,e,n){var s=e(u);return wr(u)?s:tn(s,n(u))},hr=function(u){return Ln(u,Rl,_t)},Ii=function(u){return Ln(u,fl,gn)},vi=js(Gt,"DataView"),Li=js(Gt,"Promise"),Pi=js(Gt,"Set"),co=js(Gt,"WeakMap");var Ma="[object Map]",na="[object Promise]",Na="[object Set]",dh="[object WeakMap]",Fl="[object DataView]",Cc=qt(vi),hh=qt(br),bu=qt(Li),fh=qt(Pi),gd=qt(co),yi=tr;(vi&&yi(new vi(new ArrayBuffer(1)))!=Fl||br&&yi(new br)!=Ma||Li&&yi(Li.resolve())!=na||Pi&&yi(new Pi)!=Na||co&&yi(new co)!=dh)&&(yi=function(u){var e=tr(u),n=e=="[object Object]"?u.constructor:void 0,s=n?qt(n):"";if(s)switch(s){case Cc:return Fl;case hh:return Ma;case bu:return na;case fh:return Na;case gd:return dh}return e});const Oa=yi;var bd=Object.prototype.hasOwnProperty;const kd=function(u){var e=u.length,n=new u.constructor(e);return e&&typeof u[0]=="string"&&bd.call(u,"index")&&(n.index=u.index,n.input=u.input),n},xc=Gt.Uint8Array,ys=function(u){var e=new u.constructor(u.byteLength);return new xc(e).set(new xc(u)),e},Jm=function(u,e){var n=e?ys(u.buffer):u.buffer;return new u.constructor(n,u.byteOffset,u.byteLength)};var _f=/\w*$/;const Ap=function(u){var e=new u.constructor(u.source,_f.exec(u));return e.lastIndex=u.lastIndex,e};var ma=yt?yt.prototype:void 0,vo=ma?ma.valueOf:void 0;const ku=function(u){return vo?Object(vo.call(u)):{}},ph=function(u,e){var n=e?ys(u.buffer):u.buffer;return new u.constructor(n,u.byteOffset,u.length)},Sc=function(u,e,n){var s=u.constructor;switch(e){case"[object ArrayBuffer]":return ys(u);case"[object Boolean]":case"[object Date]":return new s(+u);case"[object DataView]":return Jm(u,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return ph(u,n);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(u);case"[object RegExp]":return Ap(u);case"[object Symbol]":return ku(u)}};var Ec=Object.create;const Fs=function(){function u(){}return function(e){if(!Ge(e))return{};if(Ec)return Ec(e);u.prototype=e;var n=new u;return u.prototype=void 0,n}}(),Bo=function(u){return typeof u.constructor!="function"||Ac(u)?{}:Fs(Jo(u))},wu=function(u){return mr(u)&&Oa(u)=="[object Map]"};var zs=Oo&&Oo.isMap;const pl=zs?ah(zs):wu,zl=function(u){return mr(u)&&Oa(u)=="[object Set]"};var Ba=Oo&&Oo.isSet;const Vi=Ba?ah(Ba):zl;var ja="[object Arguments]",Zi="[object Function]",Us="[object Object]",Er={};Er[ja]=Er["[object Array]"]=Er["[object ArrayBuffer]"]=Er["[object DataView]"]=Er["[object Boolean]"]=Er["[object Date]"]=Er["[object Float32Array]"]=Er["[object Float64Array]"]=Er["[object Int8Array]"]=Er["[object Int16Array]"]=Er["[object Int32Array]"]=Er["[object Map]"]=Er["[object Number]"]=Er[Us]=Er["[object RegExp]"]=Er["[object Set]"]=Er["[object String]"]=Er["[object Symbol]"]=Er["[object Uint8Array]"]=Er["[object Uint8ClampedArray]"]=Er["[object Uint16Array]"]=Er["[object Uint32Array]"]=!0,Er["[object Error]"]=Er[Zi]=Er["[object WeakMap]"]=!1;const La=function u(e,n,s,l,f,b){var y,S=1&n,T=2&n,B=4&n;if(s&&(y=f?s(e,l,f,b):s(e)),y!==void 0)return y;if(!Ge(e))return e;var P=wr(e);if(P){if(y=kd(e),!S)return $(e,y)}else{var W=Oa(e),ee=W==Zi||W=="[object GeneratorFunction]";if(ta(e))return uh(e,S);if(W==Us||W==ja||ee&&!f){if(y=T||ee?{}:Bo(e),!S)return T?Vn(e,Zm(y,e)):Wt(e,yp(y,e))}else{if(!Er[W])return f?e:{};y=Sc(e,W,S)}}b||(b=new ea);var ne=b.get(e);if(ne)return ne;b.set(e,y),Vi(e)?e.forEach(function(Ce){y.add(u(Ce,n,s,Ce,e,b))}):pl(e)&&e.forEach(function(Ce,Me){y.set(Me,u(Ce,n,s,Me,e,b))});var le=P?void 0:(B?T?Ii:hr:T?fl:Rl)(e);return oh(le||e,function(Ce,Me){le&&(Ce=e[Me=Ce]),Tn(y,Me,u(Ce,n,s,Me,e,b))}),y},vu=function(u,e){return La(u,5,e=typeof e=="function"?e:void 0)},qs=function(u){return mr(u)&&u.nodeType===1&&!rr(u)};class Dc{constructor(e,n){this._config=Object.create(null),n&&this.define(Ic(n)),e&&this._setObjectToTarget(this._config,e)}set(e,n){this._setToTarget(this._config,e,n)}define(e,n){this._setToTarget(this._config,e,n,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,n,s,l=!1){if(rr(n))return void this._setObjectToTarget(e,n,l);const f=n.split(".");n=f.pop();for(const b of f)rr(e[b])||(e[b]=Object.create(null)),e=e[b];if(rr(s))return rr(e[n])||(e[n]=Object.create(null)),e=e[n],void this._setObjectToTarget(e,s,l);l&&e[n]!==void 0||(e[n]=s)}_getFromSource(e,n){const s=n.split(".");n=s.pop();for(const l of s){if(!rr(e[l])){e=null;break}e=e[l]}return e?Ic(e[n]):void 0}_setObjectToTarget(e,n,s){Object.keys(n).forEach(l=>{this._setToTarget(e,l,n[l],s)})}}function Ic(u){return vu(u,wd)}function wd(u){return qs(u)||typeof u=="function"?u:void 0}function ga(u){if(u){if(u.defaultView)return u instanceof u.defaultView.Document;if(u.ownerDocument&&u.ownerDocument.defaultView)return u instanceof u.ownerDocument.defaultView.Node}return!1}function ml(u){const e=Object.prototype.toString.apply(u);return e=="[object Window]"||e=="[object global]"}const Ul=jo(ke());function jo(u){return u?class extends u{listenTo(e,n,s,l={}){if(ga(e)||ml(e)){const f={capture:!!l.useCapture,passive:!!l.usePassive},b=this._getProxyEmitter(e,f)||new Hi(e,f);this.listenTo(b,n,s,l)}else super.listenTo(e,n,s,l)}stopListening(e,n,s){if(ga(e)||ml(e)){const l=this._getAllProxyEmitters(e);for(const f of l)this.stopListening(f,n,s)}else super.stopListening(e,n,s)}_getProxyEmitter(e,n){return function(s,l){const f=s[ce];return f&&f[l]?f[l].emitter:null}(this,ra(e,n))}_getAllProxyEmitters(e){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(n=>this._getProxyEmitter(e,n)).filter(n=>!!n)}}:Ul}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(u=>{jo[u]=Ul.prototype[u]});class Hi extends ke(){constructor(e,n){super(),be(this,ra(e,n)),this._domNode=e,this._options=n}attach(e){if(this._domListeners&&this._domListeners[e])return;const n=this._createDomListener(e);this._domNode.addEventListener(e,n,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=n}detach(e){let n;!this._domListeners[e]||(n=this._events[e])&&n.callbacks.length||this._domListeners[e].removeListener()}_addEventListener(e,n,s){this.attach(e),ke().prototype._addEventListener.call(this,e,n,s)}_removeEventListener(e,n){ke().prototype._removeEventListener.call(this,e,n),this.detach(e)}_createDomListener(e){const n=s=>{this.fire(e,s)};return n.removeListener=()=>{this._domNode.removeEventListener(e,n,this._options),delete this._domListeners[e]},n}}function ra(u,e){let n=function(s){return s["data-ck-expando"]||(s["data-ck-expando"]=se())}(u);for(const s of Object.keys(e).sort())e[s]&&(n+="-"+s);return n}function fr(u){const e=[];let n=u;for(;n&&n.nodeType!=Node.DOCUMENT_NODE;)e.unshift(n),n=n.parentNode;return e}function ir(u){const e=u.ownerDocument.defaultView.getComputedStyle(u);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}function ni(u){if(!u.target)return null;const e=u.target.ownerDocument,n=u.clientX,s=u.clientY;let l=null;return e.caretRangeFromPoint&&e.caretRangeFromPoint(n,s)?l=e.caretRangeFromPoint(n,s):u.rangeParent&&(l=e.createRange(),l.setStart(u.rangeParent,u.rangeOffset),l.collapse(!0)),l}function Hn(u){return Object.prototype.toString.call(u)=="[object Text]"}function Vs(u){return Object.prototype.toString.apply(u)=="[object Range]"}function Tc(u){return u&&u.parentNode?u.offsetParent===p.document.body?null:u.offsetParent:null}const Mc=["top","right","bottom","left","width","height"];class Mn{constructor(e){const n=Vs(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),uo(e)||n)if(n){const s=Mn.getDomRangeRects(e);vd(this,Mn.getBoundingRect(s))}else vd(this,e.getBoundingClientRect());else if(ml(e)){const{innerWidth:s,innerHeight:l}=e;vd(this,{top:0,right:s,bottom:l,left:0,width:s,height:l})}else vd(this,e)}clone(){return new Mn(this)}moveTo(e,n){return this.top=n,this.right=e+this.width,this.bottom=n+this.height,this.left=e,this}moveBy(e,n){return this.top+=n,this.right+=e,this.left+=e,this.bottom+=n,this}getIntersection(e){const n={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};if(n.width=n.right-n.left,n.height=n.bottom-n.top,n.width<0||n.height<0)return null;{const s=new Mn(n);return s._source=this._source,s}}getIntersectionArea(e){const n=this.getIntersection(e);return n?n.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let n=this.clone();if(yu(e))return n;let s,l=e,f=e.parentNode||e.commonAncestorContainer;for(;f&&!yu(f);){const y=((b=f)instanceof HTMLElement?b.ownerDocument.defaultView.getComputedStyle(b).overflow:"visible")==="visible";l instanceof HTMLElement&&ba(l)==="absolute"&&(s=l);const S=ba(f);if(y||s&&(S==="relative"&&y||S!=="relative")){l=f,f=f.parentNode;continue}const T=new Mn(f),B=n.getIntersection(T);if(!B)return null;B.getArea()<n.getArea()&&(n=B),l=f,f=f.parentNode}var b;return n}isEqual(e){for(const n of Mc)if(this[n]!==e[n])return!1;return!0}contains(e){const n=this.getIntersection(e);return!(!n||!n.isEqual(e))}toAbsoluteRect(){const{scrollX:e,scrollY:n}=p.window,s=this.clone().moveBy(e,n);if(uo(s._source)){const l=Tc(s._source);l&&function(f,b){const y=new Mn(b),S=ir(b);let T=0,B=0;T-=y.left,B-=y.top,T+=b.scrollLeft,B+=b.scrollTop,T-=S.left,B-=S.top,f.moveBy(T,B)}(s,l)}return s}excludeScrollbarsAndBorders(){const e=this._source;let n,s,l;if(ml(e))n=e.innerWidth-e.document.documentElement.clientWidth,s=e.innerHeight-e.document.documentElement.clientHeight,l=e.getComputedStyle(e.document.documentElement).direction;else{const f=ir(e);n=e.offsetWidth-e.clientWidth-f.left-f.right,s=e.offsetHeight-e.clientHeight-f.top-f.bottom,l=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=f.left,this.top+=f.top,this.right-=f.right,this.bottom-=f.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=n,l==="ltr"?this.right-=n:this.left+=n,this.height-=s,this.bottom-=s,this}static getDomRangeRects(e){const n=[],s=Array.from(e.getClientRects());if(s.length)for(const l of s)n.push(new Mn(l));else{let l=e.startContainer;Hn(l)&&(l=l.parentNode);const f=new Mn(l.getBoundingClientRect());f.right=f.left,f.width=0,n.push(f)}return n}static getBoundingRect(e){const n={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let s=0;for(const l of e)s++,n.left=Math.min(n.left,l.left),n.top=Math.min(n.top,l.top),n.right=Math.max(n.right,l.right),n.bottom=Math.max(n.bottom,l.bottom);return s==0?null:(n.width=n.right-n.left,n.height=n.bottom-n.top,new Mn(n))}}function vd(u,e){for(const n of Mc)u[n]=e[n]}function yu(u){return!!uo(u)&&u===u.ownerDocument.body}function uo(u){return u!==null&&typeof u=="object"&&u.nodeType===1&&typeof u.getBoundingClientRect=="function"}function ba(u){return u instanceof HTMLElement?u.ownerDocument.defaultView.getComputedStyle(u).position:"static"}const fo=class fo{constructor(e,n){fo._observerInstance||fo._createObserver(),this._element=e,this._callback=n,fo._addElementCallback(e,n),fo._observerInstance.observe(e)}get element(){return this._element}destroy(){fo._deleteElementCallback(this._element,this._callback)}static _addElementCallback(e,n){fo._elementCallbacks||(fo._elementCallbacks=new Map);let s=fo._elementCallbacks.get(e);s||(s=new Set,fo._elementCallbacks.set(e,s)),s.add(n)}static _deleteElementCallback(e,n){const s=fo._getElementCallbacks(e);s&&(s.delete(n),s.size||(fo._elementCallbacks.delete(e),fo._observerInstance.unobserve(e))),fo._elementCallbacks&&!fo._elementCallbacks.size&&(fo._observerInstance=null,fo._elementCallbacks=null)}static _getElementCallbacks(e){return fo._elementCallbacks?fo._elementCallbacks.get(e):null}static _createObserver(){fo._observerInstance=new p.window.ResizeObserver(e=>{for(const n of e){const s=fo._getElementCallbacks(n.target);if(s)for(const l of s)l(n)}})}};fo._observerInstance=null,fo._elementCallbacks=null;let ho=fo;function yd(u,e){u instanceof HTMLTextAreaElement&&(u.value=e),u.innerHTML=e}function Hs(u){return e=>e+u}function Nc(u){let e=0;for(;u.previousSibling;)u=u.previousSibling,e++;return e}function Au(u,e,n){u.insertBefore(n,u.childNodes[e]||null)}function ka(u){return u&&u.nodeType===Node.COMMENT_NODE}function Pa(u){return!!u&&(Hn(u)?Pa(u.parentElement):!!u.getClientRects&&!!u.getClientRects().length)}function _u({element:u,target:e,positions:n,limiter:s,fitInViewport:l,viewportOffsetConfig:f}){Ki(e)&&(e=e()),Ki(s)&&(s=s());const b=Tc(u),y=function(W){W=Object.assign({top:0,bottom:0,left:0,right:0},W);const ee=new Mn(p.window);return ee.top+=W.top,ee.height-=W.top,ee.bottom-=W.bottom,ee.height-=W.bottom,ee}(f),S=new Mn(u),T=Oc(e,y);let B;if(!T||!y.getIntersection(T))return null;const P={targetRect:T,elementRect:S,positionedElementAncestor:b,viewportRect:y};if(s||l){if(s){const W=Oc(s,y);W&&(P.limiterRect=W)}B=function(W,ee){const{elementRect:ne}=ee,le=ne.getArea(),Ce=W.map(tt=>new ql(tt,ee)).filter(tt=>!!tt.name);let Me=0,qe=null;for(const tt of Ce){const{limiterIntersectionArea:Et,viewportIntersectionArea:Mt}=tt;if(Et===le)return tt;const wn=Mt**2+Et**2;wn>Me&&(Me=wn,qe=tt)}return qe}(n,P)}else B=new ql(n[0],P);return B}function Oc(u,e){const n=new Mn(u).getVisible();return n?n.getIntersection(e):null}class ql{constructor(e,n){const s=e(n.targetRect,n.elementRect,n.viewportRect,n.limiterRect);if(!s)return;const{left:l,top:f,name:b,config:y}=s;this.name=b,this.config=y,this._positioningFunctionCoordinates={left:l,top:f},this._options=n}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;return e?e.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function Ad(u){const e=u.parentNode;e&&e.removeChild(u)}function _p({window:u,rect:e,alignToTop:n,forceScroll:s,viewportOffset:l}){const f=e.clone().moveBy(0,l.bottom),b=e.clone().moveBy(0,-l.top),y=new Mn(u).excludeScrollbarsAndBorders(),S=n&&s,T=[b,f].every(ne=>y.contains(ne));let{scrollX:B,scrollY:P}=u;const W=B,ee=P;S?P-=y.top-e.top+l.top:T||(Cu(b,y)?P-=y.top-e.top+l.top:ia(f,y)&&(P+=n?e.top-y.top-l.top:e.bottom-y.bottom+l.bottom)),T||(Vl(e,y)?B-=y.left-e.left+l.left:Hl(e,y)&&(B+=e.right-y.right+l.right)),B==W&&P===ee||u.scrollTo(B,P)}function Ra({parent:u,getRect:e,alignToTop:n,forceScroll:s,ancestorOffset:l=0,limiterElement:f}){const b=Bc(u),y=n&&s;let S,T,B;const P=f||b.document.body;for(;u!=P;)T=e(),S=new Mn(u).excludeScrollbarsAndBorders(),B=S.contains(T),y?u.scrollTop-=S.top-T.top+l:B||(Cu(T,S)?u.scrollTop-=S.top-T.top+l:ia(T,S)&&(u.scrollTop+=n?T.top-S.top-l:T.bottom-S.bottom+l)),B||(Vl(T,S)?u.scrollLeft-=S.left-T.left+l:Hl(T,S)&&(u.scrollLeft+=T.right-S.right+l)),u=u.parentNode}function ia(u,e){return u.bottom>e.bottom}function Cu(u,e){return u.top<e.top}function Vl(u,e){return u.left<e.left}function Hl(u,e){return u.right>e.right}function Bc(u){return Vs(u)?u.startContainer.ownerDocument.defaultView:u.ownerDocument.defaultView}function vb(u){if(Vs(u)){let e=u.commonAncestorContainer;return Hn(e)&&(e=e.parentNode),e}return u.parentNode}function _d(u,e){const n=Bc(u),s=new Mn(u);if(n===e)return s;{let l=n;for(;l!=e;){const f=l.frameElement,b=new Mn(f).excludeScrollbarsAndBorders();s.moveBy(b.left,b.top),l=l.parent}}return s}const Cf={ctrl:"",cmd:"",alt:"",shift:""},yo={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Ri={37:"",38:"",39:"",40:"",9:"",33:"Page Up",34:"Page Down"},ln=jc(),xu=Object.fromEntries(Object.entries(ln).map(([u,e])=>{let n;return n=e in Ri?Ri[e]:u.charAt(0).toUpperCase()+u.slice(1),[e,n]}));function $s(u){let e;if(typeof u=="string"){if(e=ln[u.toLowerCase()],!e)throw new U("keyboard-unknown-key",null,{key:u})}else e=u.keyCode+(u.altKey?ln.alt:0)+(u.ctrlKey?ln.ctrl:0)+(u.shiftKey?ln.shift:0)+(u.metaKey?ln.cmd:0);return e}function xf(u){return typeof u=="string"&&(u=function(e){return e.split("+").map(n=>n.trim())}(u)),u.map(e=>typeof e=="string"?function(n){if(n.endsWith("!"))return $s(n.slice(0,-1));const s=$s(n);return(w.isMac||w.isiOS)&&s==ln.ctrl?ln.cmd:s}(e):e).reduce((e,n)=>n+e,0)}function $l(u,e){let n=xf(u);const s=w.isMac||w.isiOS;return Object.entries(s?Cf:yo).reduce((l,[f,b])=>(n&ln[f]&&(n&=~ln[f],l+=b),l),"")+(n?xu[n]:"")}function Cp(u,e){const n=e==="ltr";switch(u){case ln.arrowleft:return n?"left":"right";case ln.arrowright:return n?"right":"left";case ln.arrowup:return"up";case ln.arrowdown:return"down"}}function jc(){const u={pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++)u[String.fromCharCode(e).toLowerCase()]=e;for(let e=48;e<=57;e++)u[e-48]=e;for(let e=112;e<=123;e++)u["f"+(e-111)]=e;return Object.assign(u,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),u}function or(u){return Array.isArray(u)?u:[u]}const Ws=function(u,e,n){(n!==void 0&&!Mr(u[e],n)||n===void 0&&!(e in u))&&dl(u,e,n)},Xm=function(u){return function(e,n,s){for(var l=-1,f=Object(e),b=s(e),y=b.length;y--;){var S=b[++l];if(n(f[S],S,f)===!1)break}return e}}(),mh=function(u){return mr(u)&&mu(u)},gl=function(u,e){if((e!=="constructor"||typeof u[e]!="function")&&e!="__proto__")return u[e]},Lo=function(u){return Ol(u,fl(u))},Lc=function(u,e,n,s,l,f,b){var y=gl(u,n),S=gl(e,n),T=b.get(S);if(T)Ws(u,n,T);else{var B=void 0,P=B===void 0;if(P){var W=wr(S),ee=!W&&ta(S),ne=!W&&!ee&&vf(S);B=S,W||ee||ne?wr(y)?B=y:mh(y)?B=$(y):ee?(P=!1,B=uh(S,!0)):ne?(P=!1,B=ph(S,!0)):B=[]:rr(S)||Ps(S)?(B=y,Ps(y)?B=Lo(y):Ge(y)&&!Ki(y)||(B=Bo(S))):P=!1}P&&(b.set(S,B),l(B,S,s,f,b),b.delete(S)),Ws(u,n,B)}},Su=function u(e,n,s,l,f){e!==n&&Xm(n,function(b,y){if(f||(f=new ea),Ge(b))Lc(e,n,y,s,u,l,f);else{var S=void 0;S===void 0&&(S=b),Ws(e,y,S)}},fl)},ns=function(u){return u},xp=function(u,e,n){switch(n.length){case 0:return u.call(e);case 1:return u.call(e,n[0]);case 2:return u.call(e,n[0],n[1]);case 3:return u.call(e,n[0],n[1],n[2])}return u.apply(e,n)};var Sf=Math.max;const gh=function(u,e,n){return e=Sf(e===void 0?u.length-1:e,0),function(){for(var s=arguments,l=-1,f=Sf(s.length-e,0),b=Array(f);++l<f;)b[l]=s[e+l];l=-1;for(var y=Array(e+1);++l<e;)y[l]=s[l];return y[e]=n(b),xp(u,this,y)}},Sp=function(u){return function(){return u}},Wl=Qi?function(u,e){return Qi(u,"toString",{configurable:!0,enumerable:!1,value:Sp(e),writable:!0})}:ns;var Ao=Date.now;const Ep=function(u){var e=0,n=0;return function(){var s=Ao(),l=16-(s-n);if(n=s,l>0){if(++e>=800)return arguments[0]}else e=0;return u.apply(void 0,arguments)}}(Wl),Nk=function(u,e){return Ep(gh(u,e,ns),u+"")},yb=function(u,e,n){if(!Ge(n))return!1;var s=typeof e;return!!(s=="number"?mu(n)&&wo(e,n.length):s=="string"&&e in n)&&Mr(n[e],u)},Ab=function(u){return Nk(function(e,n){var s=-1,l=n.length,f=l>1?n[l-1]:void 0,b=l>2?n[2]:void 0;for(f=u.length>3&&typeof f=="function"?(l--,f):void 0,b&&yb(n[0],n[1],b)&&(f=l<3?void 0:f,l=1),e=Object(e);++s<l;){var y=n[s];y&&u(e,y,s,f)}return e})};var _o=Ab(function(u,e,n){Su(u,e,n)});const Ef=_o;function Df(u,e,n=1,s){if(typeof n!="number")throw new U("translation-service-quantity-not-a-number",null,{quantity:n});const l=s||p.window.CKEDITOR_TRANSLATIONS,f=function(B){return Object.keys(B).length}(l);f===1&&(u=Object.keys(l)[0]);const b=e.id||e.string;if(f===0||!function(B,P,W){return!!W[B]&&!!W[B].dictionary[P]}(u,b,l))return n!==1?e.plural:e.string;const y=l[u].dictionary,S=l[u].getPluralForm||(B=>B===1?0:1),T=y[b];return typeof T=="string"?T:T[Number(S(n))]}p.window.CKEDITOR_TRANSLATIONS||(p.window.CKEDITOR_TRANSLATIONS={});const If=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig"];function Dp(u){return If.includes(u)?"rtl":"ltr"}class xd{constructor({uiLanguage:e="en",contentLanguage:n,translations:s}={}){this.uiLanguage=e,this.contentLanguage=n||this.uiLanguage,this.uiLanguageDirection=Dp(this.uiLanguage),this.contentLanguageDirection=Dp(this.contentLanguage),this.translations=function(l){return Array.isArray(l)?l.reduce((f,b)=>Ef(f,b)):l}(s),this.t=(l,f)=>this._t(l,f)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,n=[]){n=or(n),typeof e=="string"&&(e={string:e});const s=e.plural?n[0]:1;return function(l,f){return l.replace(/%(\d+)/g,(b,y)=>y<f.length?f[y]:b)}(Df(this.uiLanguage,e,s,this.translations),n)}}class Co extends ke(){constructor(e={},n={}){super();const s=He(e);if(s||(n=e),this._items=[],this._itemMap=new Map,this._idProperty=n.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],s)for(const l of e)this._items.push(l),this._itemMap.set(this._getItemIdBeforeAdding(l),l)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,n){return this.addMany([e],n)}addMany(e,n){if(n===void 0)n=this._items.length;else if(n>this._items.length||n<0)throw new U("collection-add-item-invalid-index",this);let s=0;for(const l of e){const f=this._getItemIdBeforeAdding(l),b=n+s;this._items.splice(b,0,l),this._itemMap.set(f,l),this.fire("add",l,b),s++}return this.fire("change",{added:e,removed:[],index:n}),this}get(e){let n;if(typeof e=="string")n=this._itemMap.get(e);else{if(typeof e!="number")throw new U("collection-get-invalid-arg",this);n=this._items[e]}return n||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const n=e[this._idProperty];return n&&this._itemMap.has(n)}}getIndex(e){let n;return n=typeof e=="string"?this._itemMap.get(e):e,n?this._items.indexOf(n):-1}remove(e){const[n,s]=this._remove(e);return this.fire("change",{added:[],removed:[n],index:s}),n}map(e,n){return this._items.map(e,n)}forEach(e,n){this._items.forEach(e,n)}find(e,n){return this._items.find(e,n)}filter(e,n){return this._items.filter(e,n)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new U("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:n=>{this._setUpBindToBinding(s=>new n(s))},using:n=>{typeof n=="function"?this._setUpBindToBinding(n):this._setUpBindToBinding(s=>s[n])}}}_setUpBindToBinding(e){const n=this._bindToCollection,s=(l,f,b)=>{const y=n._bindToCollection==this,S=n._bindToInternalToExternalMap.get(f);if(y&&S)this._bindToExternalToInternalMap.set(f,S),this._bindToInternalToExternalMap.set(S,f);else{const T=e(f);if(!T)return void this._skippedIndexesFromExternal.push(b);let B=b;for(const P of this._skippedIndexesFromExternal)b>P&&B--;for(const P of n._skippedIndexesFromExternal)B>=P&&B++;this._bindToExternalToInternalMap.set(f,T),this._bindToInternalToExternalMap.set(T,f),this.add(T,B);for(let P=0;P<n._skippedIndexesFromExternal.length;P++)B<=n._skippedIndexesFromExternal[P]&&n._skippedIndexesFromExternal[P]++}};for(const l of n)s(0,l,n.getIndex(l));this.listenTo(n,"add",s),this.listenTo(n,"remove",(l,f,b)=>{const y=this._bindToExternalToInternalMap.get(f);y&&this.remove(y),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((S,T)=>(b<T&&S.push(T-1),b>T&&S.push(T),S),[])})}_getItemIdBeforeAdding(e){const n=this._idProperty;let s;if(n in e){if(s=e[n],typeof s!="string")throw new U("collection-add-invalid-id",this);if(this.get(s))throw new U("collection-add-item-already-exists",this)}else e[n]=s=se();return s}_remove(e){let n,s,l,f=!1;const b=this._idProperty;if(typeof e=="string"?(s=e,l=this._itemMap.get(s),f=!l,l&&(n=this._items.indexOf(l))):typeof e=="number"?(n=e,l=this._items[n],f=!l,l&&(s=l[b])):(l=e,s=l[b],n=this._items.indexOf(l),f=n==-1||!this._itemMap.get(s)),f)throw new U("collection-remove-404",this);this._items.splice(n,1),this._itemMap.delete(s);const y=this._bindToInternalToExternalMap.get(l);return this._bindToInternalToExternalMap.delete(l),this._bindToExternalToInternalMap.delete(y),this.fire("remove",l,n),[l,n]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function Po(u){const e=u.next();return e.done?null:e.value}class Ji extends jo(Ae()){constructor(){super(),this._elements=new Set,this._externalViews=new Set,this._blurTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}get elements(){return Array.from(this._elements.values())}get externalViews(){return Array.from(this._externalViews.values())}add(e){if(N(e))this._addElement(e);else if(eg(e))this._addView(e);else{if(!e.element)throw new U("focustracker-add-view-missing-element",{focusTracker:this,view:e});this._addElement(e.element)}}remove(e){N(e)?this._removeElement(e):eg(e)?this._removeView(e):this._removeElement(e.element)}_addElement(e){if(this._elements.has(e))throw new U("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>{const n=this.externalViews.find(s=>function(l,f){return R(l,f)?!0:!!f.focusTracker.externalViews.find(b=>R(l,b))}(e,s));n?this._focus(n.element):this._focus(e)},{useCapture:!0}),this.listenTo(e,"blur",()=>{this._blur()},{useCapture:!0}),this._elements.add(e)}_removeElement(e){this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e)),e===this.focusedElement&&this._blur()}_addView(e){e.element&&this._addElement(e.element),this.listenTo(e.focusTracker,"change:focusedElement",()=>{e.focusTracker.focusedElement?e.element&&this._focus(e.element):this._blur()}),this._externalViews.add(e)}_removeView(e){e.element&&this._removeElement(e.element),this.stopListening(e.focusTracker),this._externalViews.delete(e)}destroy(){this.stopListening(),this._elements.clear(),this._externalViews.clear(),this.isFocused=!1,this.focusedElement=null}_focus(e){this._clearBlurTimeout(),this.focusedElement=e,this.isFocused=!0}_blur(){this.elements.find(e=>e.contains(document.activeElement))||this.externalViews.find(e=>e.focusTracker.isFocused&&!e.focusTracker._blurTimeout)||(this._clearBlurTimeout(),this._blurTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0))}_clearBlurTimeout(){clearTimeout(this._blurTimeout),this._blurTimeout=null}}function eg(u){return"focusTracker"in u&&u.focusTracker instanceof Ji}function N(u){return qs(u)}function R(u,e){return!!e.element&&e.element.contains(document.activeElement)&&u.contains(e.element)}class Q{constructor(){this._listener=new(jo())}listenTo(e){this._listener.listenTo(e,"keydown",(n,s)=>{this._listener.fire("_keydown:"+$s(s),s)})}set(e,n,s={}){const l=xf(e),f=s.priority;this._listener.listenTo(this._listener,"_keydown:"+l,(b,y)=>{s.filter&&!s.filter(y)||(n(y,()=>{y.preventDefault(),y.stopPropagation(),b.stop()}),b.return=!0)},{priority:f})}press(e){return!!this._listener.fire("_keydown:"+$s(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}function ie(u){return He(u)?new Map(u):function(e){const n=new Map;for(const s in e)n.set(s,e[s]);return n}(u)}function pe(u,e,n){const s=u.length,l=e.length;for(let f=s-1;f>=n;f--)u[f+l]=u[f];for(let f=0;f<l;f++)u[n+f]=e[f]}function ye(u,e){let n;function s(...l){s.cancel(),n=setTimeout(()=>u(...l),e)}return s.cancel=()=>{clearTimeout(n)},s}function _e(u){try{if(!u.startsWith("ey"))return null;const e=atob(u.replace(/-/g,"+").replace(/_/g,"/"));return JSON.parse(e)}catch{return null}}function xe(u,e){return!!(n=u.charAt(e-1))&&n.length==1&&/[\ud800-\udbff]/.test(n)&&function(s){return!!s&&s.length==1&&/[\udc00-\udfff]/.test(s)}(u.charAt(e));var n}function De(u,e){return!!(n=u.charAt(e))&&n.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(n);var n}const je=lt();function We(u,e){const n=String(u).matchAll(je);return Array.from(n).some(s=>s.index<e&&e<s.index+s[0].length)}function lt(){const u=new RegExp("\\p{Regional_Indicator}{2}","u").source,e="(?:"+[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")].map(n=>n.source).join("|")+")";return new RegExp(`${u}|${e}(?:${e})*`,"ug")}class rt extends Co{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(n,s,l)=>{this._renderViewIntoCollectionParent(s,l)}),this.on("remove",(n,s)=>{s.element&&this._parentElement&&s.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const n of this)this._renderViewIntoCollectionParent(n)}delegate(...e){if(!e.length||!e.every(n=>typeof n=="string"))throw new U("ui-viewcollection-delegate-wrong-events",this);return{to:n=>{for(const s of this)for(const l of e)s.delegate(l).to(n);this.on("add",(s,l)=>{for(const f of e)l.delegate(f).to(n)}),this.on("remove",(s,l)=>{for(const f of e)l.stopDelegating(f,n)})}}}_renderViewIntoCollectionParent(e,n){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[n])}remove(e){return super.remove(e)}}class et extends ke(){constructor(e){super(),Object.assign(this,vn(Xt(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new U("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){yield*function*e(n){if(n.children)for(const s of n.children)Or(s)?yield s:Dr(s)&&(yield*e(s))}(this)}static bind(e,n){return{to:(s,l)=>new bt({eventNameOrFunction:s,attribute:s,observable:e,emitter:n,callback:l}),if:(s,l,f)=>new Ye({observable:e,emitter:n,attribute:s,valueIfTrue:l,callback:f})}}static extend(e,n){if(e._isRendered)throw new U("template-extend-render",[this,e]);Xn(e,vn(Xt(n)))}_renderNode(e){let n;if(n=e.node?this.tag&&this.text:this.tag?this.text:!this.text,n)throw new U("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let n=e.node;return n||(n=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),n}_renderText(e){let n=e.node;return n?e.revertData.text=n.textContent:n=e.node=document.createTextNode(""),Je(this.text)?this._bindToObservable({schema:this.text,updater:Pt(n),data:e}):n.textContent=this.text.join(""),n}_renderAttributes(e){if(!this.attributes)return;const n=e.node,s=e.revertData;for(const l in this.attributes){const f=n.getAttribute(l),b=this.attributes[l];s&&(s.attributes[l]=f);const y=Qr(b)?b[0].ns:null;if(Je(b)){const S=Qr(b)?b[0].value:b;s&&Cn(l)&&S.unshift(f),this._bindToObservable({schema:S,updater:jt(n,l,y),data:e})}else if(l=="style"&&typeof b[0]!="string")this._renderStyleAttribute(b[0],e);else{s&&f&&Cn(l)&&b.unshift(f);const S=b.map(T=>T&&T.value||T).reduce((T,B)=>T.concat(B),[]).reduce(_r,"");qn(S)||n.setAttributeNS(y,l,S)}}}_renderStyleAttribute(e,n){const s=n.node;for(const l in e){const f=e[l];Je(f)?this._bindToObservable({schema:[f],updater:nn(s,l),data:n}):s.style[l]=f}}_renderElementChildren(e){const n=e.node,s=e.intoFragment?document.createDocumentFragment():n,l=e.isApplying;let f=0;for(const b of this.children)if(Pn(b)){if(!l){b.setParent(n);for(const y of b)s.appendChild(y.element)}}else if(Or(b))l||(b.isRendered||b.render(),s.appendChild(b.element));else if(ga(b))s.appendChild(b);else if(l){const y={children:[],bindings:[],attributes:{}};e.revertData.children.push(y),b._renderNode({intoFragment:!1,node:s.childNodes[f++],isApplying:!0,revertData:y})}else s.appendChild(b.render());e.intoFragment&&n.appendChild(s)}_setUpListeners(e){if(this.eventListeners)for(const n in this.eventListeners){const s=this.eventListeners[n].map(l=>{const[f,b]=n.split("@");return l.activateDomEventListener(f,b,e)});e.revertData&&e.revertData.bindings.push(s)}}_bindToObservable({schema:e,updater:n,data:s}){const l=s.revertData;It(e,n,s);const f=e.filter(b=>!qn(b)).filter(b=>b.observable).map(b=>b.activateAttributeListener(e,n,s));l&&l.bindings.push(f)}_revertTemplateFromNode(e,n){for(const l of n.bindings)for(const f of l)f();if(n.text)return void(e.textContent=n.text);const s=e;for(const l in n.attributes){const f=n.attributes[l];f===null?s.removeAttribute(l):s.setAttribute(l,f)}for(let l=0;l<n.children.length;++l)this._revertTemplateFromNode(s.childNodes[l],n.children[l])}}class Bt{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const n=this.observable[this.attribute];return this.callback?this.callback(n,e):n}activateAttributeListener(e,n,s){const l=()=>It(e,n,s);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,l),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,l)}}}class bt extends Bt{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,n,s){const l=(f,b)=>{n&&!b.target.matches(n)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(b):this.observable.fire(this.eventNameOrFunction,b))};return this.emitter.listenTo(s.node,e,l),()=>{this.emitter.stopListening(s.node,e,l)}}}class Ye extends Bt{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){return!qn(super.getValue(e))&&(this.valueIfTrue||!0)}}function Je(u){return!!u&&(u.value&&(u=u.value),Array.isArray(u)?u.some(Je):u instanceof Bt)}function It(u,e,{node:n}){const s=function(f,b){return f.map(y=>y instanceof Bt?y.getValue(b):y)}(u,n);let l;l=u.length==1&&u[0]instanceof Ye?s[0]:s.reduce(_r,""),qn(l)?e.remove():e.set(l)}function Pt(u){return{set(e){u.textContent=e},remove(){u.textContent=""}}}function jt(u,e,n){return{set(s){u.setAttributeNS(n,e,s)},remove(){u.removeAttributeNS(n,e)}}}function nn(u,e){return{set(n){u.style[e]=n},remove(){u.style[e]=null}}}function Xt(u){return vu(u,e=>{if(e&&(e instanceof Bt||Dr(e)||Or(e)||Pn(e)))return e})}function vn(u){if(typeof u=="string"?u=function(e){return{text:[e]}}(u):u.text&&function(e){e.text=or(e.text)}(u),u.on&&(u.eventListeners=function(e){for(const n in e)en(e,n);return e}(u.on),delete u.on),!u.text){u.attributes&&function(n){for(const s in n)n[s].value&&(n[s].value=or(n[s].value)),en(n,s)}(u.attributes);const e=[];if(u.children)if(Pn(u.children))e.push(u.children);else for(const n of u.children)Dr(n)||Or(n)||ga(n)?e.push(n):e.push(new et(n));u.children=e}return u}function en(u,e){u[e]=or(u[e])}function _r(u,e){return qn(e)?u:qn(u)?e:`${u} ${e}`}function Nr(u,e){for(const n in e)u[n]?u[n].push(...e[n]):u[n]=e[n]}function Xn(u,e){if(e.attributes&&(u.attributes||(u.attributes={}),Nr(u.attributes,e.attributes)),e.eventListeners&&(u.eventListeners||(u.eventListeners={}),Nr(u.eventListeners,e.eventListeners)),e.text&&u.text.push(...e.text),e.children&&e.children.length){if(u.children.length!=e.children.length)throw new U("ui-template-extend-children-mismatch",u);let n=0;for(const s of e.children)Xn(u.children[n++],s)}}function qn(u){return!u&&u!==0}function Or(u){return u instanceof un}function Dr(u){return u instanceof et}function Pn(u){return u instanceof rt}function Qr(u){return Ge(u[0])&&u[0].ns}function Cn(u){return u=="class"||u=="style"}var On=a(2591),Dt=a.n(On),Ir=a(8639),Ut=a.n(Ir),xo=a(8128),Rt=a.n(xo),Xi=a(8021),zt=a.n(Xi),Fa=a(3051),Nt=a.n(Fa),Fi=a(7676),Gs={attributes:{"data-cke":!0}};Gs.setAttributes=zt(),Gs.insert=Rt().bind(null,"head"),Gs.domAPI=Ut(),Gs.insertStyleElement=Nt(),Dt()(Fi.A,Gs),Fi.A&&Fi.A.locals&&Fi.A.locals;class un extends jo(Ae()){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new Co,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(n,s)=>{s.locale=e,s.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=et.bind(this,this)}createCollection(e){const n=new rt(e);return this._viewCollections.add(n),n}registerChild(e){He(e)||(e=[e]);for(const n of e)this._unboundChildren.add(n)}deregisterChild(e){He(e)||(e=[e]);for(const n of e)this._unboundChildren.remove(n)}setTemplate(e){this.template=new et(e)}extendTemplate(e){et.extend(this.template,e)}render(){if(this.isRendered)throw new U("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}function Gl({emitter:u,activator:e,callback:n,contextElements:s,listenerOptions:l}){u.listenTo(document,"mousedown",(f,b)=>{if(!e())return;const y=typeof b.composedPath=="function"?b.composedPath():[],S=typeof s=="function"?s():s;for(const T of S)if(T.contains(b.target)||y.includes(T))return;n()},l)}function Yl(u){return class extends u{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...e){super(...e),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function ri({view:u}){u.listenTo(u.element,"submit",(e,n)=>{n.preventDefault(),u.fire("submit")},{useCapture:!0})}function Tf({keystrokeHandler:u,focusTracker:e,gridItems:n,numberOfColumns:s,uiLanguageDirection:l}){const f=()=>s;function b(T){return B=>{const P=n.find(ne=>ne.element===e.focusedElement),W=n.getIndex(P),ee=T(W,n);n.get(ee).focus(),B.stopPropagation(),B.preventDefault()}}function y(T,B){return T===B-1?0:T+1}function S(T,B){return T===0?B-1:T-1}u.set("arrowright",b((T,B)=>l==="rtl"?S(T,B.length):y(T,B.length))),u.set("arrowleft",b((T,B)=>l==="rtl"?y(T,B.length):S(T,B.length))),u.set("arrowup",b((T,B)=>{let P=T-f();return P<0&&(P=T+f()*Math.floor(B.length/f()),P>B.length-1&&(P-=f())),P})),u.set("arrowdown",b((T,B)=>{let P=T+f();return P>B.length-1&&(P=T%f()),P}))}class Vt extends Ae(){constructor(e){super(),this._disableStack=new Set,this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",As,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",As),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}static get isOfficialPlugin(){return!1}static get isPremiumPlugin(){return!1}}function As(u){u.return=!1,u.stop()}class pn extends Ae(){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",n=>{if(!this.affectsData)return;const s=e.model.document.selection,l=s.getFirstPosition().root.rootName!="$graveyard"&&e.model.canEditAt(s);(e.isReadOnly||this._isEnabledBasedOnSelection&&!l)&&(n.return=!1,n.stop())},{priority:"highest"}),this.on("execute",n=>{this.isEnabled||n.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",Eu,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",Eu),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function Eu(u){u.return=!1,u.stop()}class Pc extends pn{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...e){const n=this._getFirstEnabledCommand();return!!n&&n.execute(e)}registerChildCommand(e,n={}){K(this._childCommandsDefinitions,{command:e,priority:n.priority||"normal"}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:n})=>n.isEnabled);return e&&e.command}}class Ys extends ke(){constructor(e,n=[],s=[]){super(),this._plugins=new Map,this._context=e,this._availablePlugins=new Map;for(const l of n)l.pluginName&&this._availablePlugins.set(l.pluginName,l);this._contextPlugins=new Map;for(const[l,f]of s)this._contextPlugins.set(l,f),this._contextPlugins.set(f,l),l.pluginName&&this._availablePlugins.set(l.pluginName,l)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const n=this._plugins.get(e);if(!n){let s=e;throw typeof e=="function"&&(s=e.pluginName||e.name),new U("plugincollection-plugin-not-loaded",this._context,{plugin:s})}return n}has(e){return this._plugins.has(e)}init(e,n=[],s=[]){const l=this,f=this._context;(function ne(le,Ce=new Set){le.forEach(Me=>{S(Me)&&(Ce.has(Me)||(Ce.add(Me),Me.pluginName&&!l._availablePlugins.has(Me.pluginName)&&l._availablePlugins.set(Me.pluginName,Me),Me.requires&&ne(Me.requires,Ce)))})})(e),W(e);const b=[...function ne(le,Ce=new Set){return le.map(Me=>S(Me)?Me:l._availablePlugins.get(Me)).reduce((Me,qe)=>Ce.has(qe)?Me:(Ce.add(qe),qe.requires&&(W(qe.requires,qe),ne(qe.requires,Ce).forEach(tt=>Me.add(tt))),Me.add(qe)),new Set)}(e.filter(ne=>!B(ne,n)))];(function(ne,le){for(const Ce of le){if(typeof Ce!="function")throw new U("plugincollection-replace-plugin-invalid-type",null,{pluginItem:Ce});const Me=Ce.pluginName;if(!Me)throw new U("plugincollection-replace-plugin-missing-name",null,{pluginItem:Ce});if(Ce.requires&&Ce.requires.length)throw new U("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:Me});const qe=l._availablePlugins.get(Me);if(!qe)throw new U("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:Me});const tt=ne.indexOf(qe);if(tt===-1){if(l._contextPlugins.has(qe))return;throw new U("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:Me})}if(qe.requires&&qe.requires.length)throw new U("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:Me});ne.splice(tt,1,Ce),l._availablePlugins.set(Me,Ce)}})(b,s);const y=b.map(ne=>{let le=l._contextPlugins.get(ne);return le=le||new ne(f),l._add(ne,le),le});return ee(y,"init").then(()=>ee(y,"afterInit")).then(()=>y);function S(ne){return typeof ne=="function"}function T(ne){return S(ne)&&!!ne.isContextPlugin}function B(ne,le){return le.some(Ce=>Ce===ne||P(ne)===Ce||P(Ce)===ne)}function P(ne){return S(ne)?ne.pluginName||ne.name:ne}function W(ne,le=null){ne.map(Ce=>S(Ce)?Ce:l._availablePlugins.get(Ce)||Ce).forEach(Ce=>{(function(Me,qe){if(!S(Me))throw qe?new U("plugincollection-soft-required",f,{missingPlugin:Me,requiredBy:P(qe)}):new U("plugincollection-plugin-not-found",f,{plugin:Me})})(Ce,le),function(Me,qe){if(T(qe)&&!T(Me))throw new U("plugincollection-context-required",f,{plugin:P(Me),requiredBy:P(qe)})}(Ce,le),function(Me,qe){if(qe&&B(Me,n))throw new U("plugincollection-required",f,{plugin:P(Me),requiredBy:P(qe)})}(Ce,le)})}function ee(ne,le){return ne.reduce((Ce,Me)=>Me[le]?l._contextPlugins.has(Me)?Ce:Ce.then(Me[le].bind(Me)):Ce,Promise.resolve())}}destroy(){const e=[];for(const[,n]of this)typeof n.destroy!="function"||this._contextPlugins.has(n)||e.push(n.destroy());return Promise.all(e)}_add(e,n){this._plugins.set(e,n);const s=e.pluginName;if(s){if(this._plugins.has(s))throw new U("plugincollection-plugin-name-conflict",null,{pluginName:s,plugin1:this._plugins.get(s).constructor,plugin2:e});this._plugins.set(s,n)}}}class Rc{constructor(e){this._contextOwner=null;const{translations:n,...s}=e||{};this.config=new Dc(s,this.constructor.defaultConfig);const l=this.constructor.builtinPlugins;this.config.define("plugins",l),this.plugins=new Ys(this,l);const f=this.config.get("language")||{};this.locale=new xd({uiLanguage:typeof f=="string"?f:f.ui,contentLanguage:this.config.get("language.content"),translations:n}),this.t=this.locale.t,this.editors=new Co}initPlugins(){const e=this.config.get("plugins")||[],n=this.config.get("substitutePlugins")||[];for(const s of e.concat(n)){if(typeof s!="function")throw new U("context-initplugins-constructor-only",null,{Plugin:s});if(s.isContextPlugin!==!0)throw new U("context-initplugins-invalid-plugin",null,{Plugin:s})}return this.plugins.init(e,[],n)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,n){if(this._contextOwner)throw new U("context-addeditor-private-context");this.editors.add(e),n&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const n of this.config.names())["plugins","removePlugins","extraPlugins"].includes(n)||(e[n]=this.config.get(n));return e}static create(e){return new Promise(n=>{const s=new this(e);n(s.initPlugins().then(()=>s))})}}class rs extends Ae(){constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}static get isOfficialPlugin(){return!1}static get isPremiumPlugin(){return!1}}const Du=function(u){return typeof u=="symbol"||mr(u)&&tr(u)=="[object Symbol]"};var bh=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ip=/^\w*$/;const Sd=function(u,e){if(wr(u))return!1;var n=typeof u;return!(n!="number"&&n!="symbol"&&n!="boolean"&&u!=null&&!Du(u))||Ip.test(u)||!bh.test(u)||e!=null&&u in Object(e)};function kh(u,e){if(typeof u!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var s=arguments,l=e?e.apply(this,s):s[0],f=n.cache;if(f.has(l))return f.get(l);var b=u.apply(this,s);return n.cache=f.set(l,b)||f,b};return n.cache=new(kh.Cache||fu),n}kh.Cache=fu;const Mf=kh,wh=function(u){var e=Mf(u,function(s){return n.size===500&&n.clear(),s}),n=e.cache;return e};var _b=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Cb=/\\(\\)?/g,Nf=wh(function(u){var e=[];return u.charCodeAt(0)===46&&e.push(""),u.replace(_b,function(n,s,l,f){e.push(l?f.replace(Cb,"$1"):s||n)}),e});const Fc=Nf,Ok=function(u,e){for(var n=-1,s=u==null?0:u.length,l=Array(s);++n<s;)l[n]=e(u[n],n,u);return l};var tg=yt?yt.prototype:void 0,ng=tg?tg.toString:void 0;const rg=function u(e){if(typeof e=="string")return e;if(wr(e))return Ok(e,u)+"";if(Du(e))return ng?ng.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},Iu=function(u){return u==null?"":rg(u)},vh=function(u,e){return wr(u)?u:Sd(u,e)?[u]:Fc(Iu(u))},Tu=function(u){if(typeof u=="string"||Du(u))return u;var e=u+"";return e=="0"&&1/u==-1/0?"-0":e},Ed=function(u,e){for(var n=0,s=(e=vh(e,u)).length;u!=null&&n<s;)u=u[Tu(e[n++])];return n&&n==s?u:void 0},zc=function(u,e,n){var s=u==null?void 0:Ed(u,e);return s===void 0?n:s},yh=function(u,e,n,s){if(!Ge(u))return u;for(var l=-1,f=(e=vh(e,u)).length,b=f-1,y=u;y!=null&&++l<f;){var S=Tu(e[l]),T=n;if(S==="__proto__"||S==="constructor"||S==="prototype")return u;if(l!=b){var B=y[S];(T=void 0)==void 0&&(T=Ge(B)?B:wo(e[l+1])?[]:{})}Tn(y,S,T),y=y[S]}return u},ig=function(u,e,n){return u==null?u:yh(u,e,n)};var Of=a(4098),wa={attributes:{"data-cke":!0}};wa.setAttributes=zt(),wa.insert=Rt().bind(null,"head"),wa.domAPI=Ut(),wa.insertStyleElement=Nt(),Dt()(Of.A,wa),Of.A&&Of.A.locals&&Of.A.locals;const Uc=new WeakMap;let Bf=!1;function za({view:u,element:e,text:n,isDirectHost:s=!0,keepOnFocus:l=!1}){const f=u.document;function b(y){const S={text:y,isDirectHost:s,keepOnFocus:l,hostElement:s?e:null};Uc.get(f).set(e,S),u.change(T=>jf([[e,S]],T))}Uc.has(f)||(Uc.set(f,new Map),f.registerPostFixer(y=>jf(Uc.get(f),y)),f.on("change:isComposing",()=>{u.change(y=>jf(Uc.get(f),y))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(y,S,T)=>b(T)),e.placeholder?b(e.placeholder):n&&b(n),n&&function(){Bf||q("enableplaceholder-deprecated-text-option"),Bf=!0}()}function Ah(u,e){return!e.hasClass("ck-placeholder")&&(u.addClass("ck-placeholder",e),!0)}function og(u,e){return!!e.hasClass("ck-placeholder")&&(u.removeClass("ck-placeholder",e),!0)}function xb(u,e){if(!u.isAttached()||function(l){for(const f of l.getChildren())if(!f.is("uiElement"))return!0;return!1}(u))return!1;const n=u.document,s=n.selection.anchor;return(!n.isComposing||!s||s.parent!==u)&&(!!e||!n.isFocused||!!s&&s.parent!==u)}function jf(u,e){const n=[];let s=!1;for(const[l,f]of u)f.isDirectHost&&(n.push(l),Mu(e,l,f)&&(s=!0));for(const[l,f]of u){if(f.isDirectHost)continue;const b=Sb(l);b&&(n.includes(b)||(f.hostElement=b,Mu(e,l,f)&&(s=!0)))}return s}function Mu(u,e,n){const{text:s,isDirectHost:l,hostElement:f}=n;let b=!1;return f.getAttribute("data-placeholder")!==s&&(u.setAttribute("data-placeholder",s,f),b=!0),(l||e.childCount==1)&&xb(f,n.keepOnFocus)?Ah(u,f)&&(b=!0):og(u,f)&&(b=!0),b}function Sb(u){if(u.childCount){const e=u.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}class qc{is(){throw new Error("is() method is abstract")}}const Tp=function(u){return La(u,4)};class Vc extends ke(qc){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new U("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let n=this;for(;n.parent;)e.unshift(n.index),n=n.parent;return e}getAncestors(e={}){const n=[];let s=e.includeSelf?this:this.parent;for(;s;)n[e.parentFirst?"push":"unshift"](s),s=s.parent;return n}getCommonAncestor(e,n={}){const s=this.getAncestors(n),l=e.getAncestors(n);let f=0;for(;s[f]==l[f]&&s[f];)f++;return f===0?null:s[f-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const n=this.getPath(),s=e.getPath(),l=pt(n,s);switch(l){case"prefix":return!0;case"extension":return!1;default:return n[l]<s[l]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,n,s){this.fire(`change:${e}`,n,s),this.parent&&this.parent._fireChange(e,n,s)}toJSON(){const e=Tp(this);return delete e.parent,e}}Vc.prototype.is=function(u){return u==="node"||u==="view:node"};class eo extends Vc{constructor(e,n){super(e),this._textData=n}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof eo&&(this===e||this.data===e.data)}_clone(){return new eo(this.document,this.data)}}eo.prototype.is=function(u){return u==="$text"||u==="view:$text"||u==="text"||u==="view:text"||u==="node"||u==="view:node"};class Ks extends qc{constructor(e,n,s){if(super(),this.textNode=e,n<0||n>e.data.length)throw new U("view-textproxy-wrong-offsetintext",this);if(s<0||n+s>e.data.length)throw new U("view-textproxy-wrong-length",this);this.data=e.data.substring(n,n+s),this.offsetInText=n}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const n=[];let s=e.includeSelf?this.textNode:this.parent;for(;s!==null;)n[e.parentFirst?"push":"unshift"](s),s=s.parent;return n}}Ks.prototype.is=function(u){return u==="$textProxy"||u==="view:$textProxy"||u==="textProxy"||u==="view:textProxy"};class Dd{constructor(){this._consumables=new Map}add(e,n){let s;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?s=this._consumables.get(e):(s=new Lf(e),this._consumables.set(e,s)),s.add(n?va(n):e._getConsumables()))}test(e,n){const s=this._consumables.get(e);return s===void 0?null:e.is("$text")||e.is("documentFragment")?s:s.test(va(n))}consume(e,n){if(e.is("$text")||e.is("documentFragment"))return!!this.test(e,n)&&(this._consumables.set(e,!1),!0);const s=this._consumables.get(e);return s!==void 0&&s.consume(va(n))}revert(e,n){const s=this._consumables.get(e);s!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):s.revert(va(n)))}static createFrom(e,n){if(n||(n=new Dd),e.is("$text"))n.add(e);else if(e.is("element")||e.is("documentFragment")){n.add(e);for(const s of e.getChildren())Dd.createFrom(s,n)}return n}}class Lf{constructor(e){this._canConsumeName=null,this._attributes=new Map,this.element=e}add(e){e.name&&(this._canConsumeName=!0);for(const[n,s]of e.attributes)if(s){let l=this._attributes.get(n);l&&typeof l!="boolean"||(l=new Map,this._attributes.set(n,l)),l.set(s,!0)}else{if(n=="style"||n=="class")throw new U("viewconsumable-invalid-attribute",this);this._attributes.set(n,!0)}}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const[n,s]of e.attributes){const l=this._attributes.get(n);if(l===void 0)return null;if(l===!1)return!1;if(l!==!0){if(s){const f=l.get(s);if(f===void 0)return null;if(!f)return!1}else for(const f of l.values())if(!f)return!1}}return!0}consume(e){if(!this.test(e))return!1;e.name&&(this._canConsumeName=!1);for(const[n,s]of e.attributes){const l=this._attributes.get(n);if(typeof l=="boolean")for(const[f]of this.element._getConsumables(n,s).attributes)this._attributes.set(f,!1);else if(s)for(const[,f]of this.element._getConsumables(n,s).attributes)l.set(f,!1);else for(const f of l.keys())l.set(f,!1)}return!0}revert(e){e.name&&(this._canConsumeName=!0);for(const[n,s]of e.attributes){const l=this._attributes.get(n);if(l!==!1){if(l!==void 0&&l!==!0)if(s)l.get(s)===!1&&l.set(s,!0);else for(const f of l.keys())l.set(f,!0)}else this._attributes.set(n,!0)}}}function va(u){const e=[];return"attributes"in u&&u.attributes&&Ua(e,u.attributes),"classes"in u&&u.classes&&Ua(e,u.classes,"class"),"styles"in u&&u.styles&&Ua(e,u.styles,"style"),{name:u.name||!1,attributes:e}}function Ua(u,e,n){if(typeof e!="string")for(const s of e)Array.isArray(s)?u.push(s):u.push(n?[n,s]:[s]);else u.push(n?[n,e]:[e])}class Ro{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let n of e)(typeof n=="string"||n instanceof RegExp)&&(n={name:n}),this._patterns.push(n)}match(...e){for(const n of e)for(const s of this._patterns){const l=this._isElementMatching(n,s);if(l)return{element:n,pattern:s,match:l}}return null}matchAll(...e){const n=[];for(const s of e)for(const l of this._patterns){const f=this._isElementMatching(s,l);f&&n.push({element:s,pattern:l,match:f})}return n.length>0?n:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],n=e.name;return typeof e=="function"||!n||n instanceof RegExp?null:n}_isElementMatching(e,n){if(typeof n=="function"){const f=n(e);return f&&typeof f=="object"?va(f):f}const s={};if(n.name&&(s.name=function(f,b){return f instanceof RegExp?!!b.match(f):f===b}(n.name,e.name),!s.name))return null;const l=[];return n.attributes&&!function(f,b,y){let S;return typeof f!="object"||f instanceof RegExp||Array.isArray(f)?S=["class","style"]:(f.style!==void 0&&q("matcher-pattern-deprecated-attributes-style-key",f),f.class!==void 0&&q("matcher-pattern-deprecated-attributes-class-key",f)),b._collectAttributesMatch(Id(f),y,S)}(n.attributes,e,l)||n.classes&&!function(f,b,y){return b._collectAttributesMatch(Id(f,"class"),y)}(n.classes,e,l)||n.styles&&!function(f,b,y){return b._collectAttributesMatch(Id(f,"style"),y)}(n.styles,e,l)?null:(l.length&&(s.attributes=l),s)}}function Nu(u,e){return u===!0||u===e||u instanceof RegExp&&!!String(e).match(u)}function Id(u,e){if(Array.isArray(u))return u.map(s=>typeof s!="object"||s instanceof RegExp?e?[e,s,!0]:[s,!0]:(s.key!==void 0&&s.value!==void 0||q("matcher-pattern-missing-key-or-value",s),e?[e,s.key,s.value]:[s.key,s.value]));if(typeof u!="object"||u instanceof RegExp)return[e?[e,u,!0]:[u,!0]];const n=[];for(const s in u)Object.prototype.hasOwnProperty.call(u,s)&&n.push(e?[e,s,u[s]]:[s,u[s]]);return n}const sg=function(u){var e=u==null?0:u.length;return e?u[e-1]:void 0},ag=function(u,e,n){var s=-1,l=u.length;e<0&&(e=-e>l?0:l+e),(n=n>l?l:n)<0&&(n+=l),l=e>n?0:n-e>>>0,e>>>=0;for(var f=Array(l);++s<l;)f[s]=u[s+e];return f},lg=function(u,e){return e.length<2?u:Ed(u,ag(e,0,-1))},cg=function(u,e){return e=vh(e,u),(u=lg(u,e))==null||delete u[Tu(sg(e))]},yA=function(u,e){return u==null||cg(u,e)};class Td{constructor(e){this._cachedStyleNames=null,this._cachedExpandedStyleNames=null,this._styles={},this._styleProcessor=e}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const n=function(s){let l=null,f=0,b=0,y=null;const S=new Map;if(s==="")return S;s.charAt(s.length-1)!=";"&&(s+=";");for(let T=0;T<s.length;T++){const B=s.charAt(T);if(l===null)switch(B){case":":y||(y=s.substr(f,T-f),b=T+1);break;case'"':case"'":l=B;break;case";":{const P=s.substr(b,T-b);y&&S.set(y.trim(),P.trim()),y=null,f=T+1;break}}else B===l&&(l=null)}return S}(e);for(const[s,l]of n)this._styleProcessor.toNormalizedForm(s,l,this._styles);return this}has(e){if(this.isEmpty)return!1;const n=this._styleProcessor.getReducedForm(e,this._styles).find(([s])=>s===e);return Array.isArray(n)}set(e,n){if(this._cachedStyleNames=null,this._cachedExpandedStyleNames=null,Ge(e))for(const[s,l]of Object.entries(e))this._styleProcessor.toNormalizedForm(s,l,this._styles);else this._styleProcessor.toNormalizedForm(e,n,this._styles)}remove(e){for(const n of or(e)){this._cachedStyleNames=null,this._cachedExpandedStyleNames=null;const s=Mp(n);yA(this._styles,s),delete this._styles[n],this._cleanEmptyObjectsOnPath(s)}}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!Ge(this._styles[e]))return this._styles[e];const n=this._styleProcessor.getReducedForm(e,this._styles).find(([s])=>s===e);return Array.isArray(n)?n[1]:void 0}getStyleNames(e=!1){return this.isEmpty?[]:e?(this._cachedExpandedStyleNames=this._cachedExpandedStyleNames||this._styleProcessor.getStyleNames(this._styles),this._cachedExpandedStyleNames):(this._cachedStyleNames=this._cachedStyleNames||this.getStylesEntries().map(([n])=>n),this._cachedStyleNames)}keys(){return this.getStyleNames()}clear(){this._styles={},this._cachedStyleNames=null,this._cachedExpandedStyleNames=null}isSimilar(e){if(this.size!==e.size)return!1;for(const n of this.getStyleNames())if(!e.has(n)||e.getAsString(n)!==this.getAsString(n))return!1;return!0}getStylesEntries(){const e=[],n=Object.keys(this._styles);for(const s of n)e.push(...this._styleProcessor.getReducedForm(s,this._styles));return e}_clone(){const e=new this.constructor(this._styleProcessor);return e.set(this.getNormalized()),e}_getTokensMatch(e,n){const s=[];for(const l of this.getStyleNames(!0))if(Nu(e,l)){if(n===!0){s.push(l);continue}Nu(n,this.getAsString(l))&&s.push(l)}return s.length?s:void 0}_getConsumables(e){const n=[];if(e){n.push(e);for(const s of this._styleProcessor.getRelatedStyles(e))n.push(s)}else for(const s of this.getStyleNames()){for(const l of this._styleProcessor.getRelatedStyles(s))n.push(l);n.push(s)}return n}_canMergeFrom(e){for(const n of e.getStyleNames())if(this.has(n)&&this.getAsString(n)!==e.getAsString(n))return!1;return!0}_mergeFrom(e){for(const n of e.getStyleNames())this.has(n)||this.set(n,e.getAsString(n))}_isMatching(e){for(const n of e.getStyleNames())if(!this.has(n)||this.getAsString(n)!==e.getAsString(n))return!1;return!0}_cleanEmptyObjectsOnPath(e){const n=e.split(".");if(!(n.length>1))return;const s=n.splice(0,n.length-1).join("."),l=zc(this._styles,s);l&&!Object.keys(l).length&&this.remove(s)}}class Bk{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,n,s){if(Ge(n))Eb(s,Mp(e),n);else if(this._normalizers.has(e)){const l=this._normalizers.get(e),{path:f,value:b}=l(n);Eb(s,f,b)}else Eb(s,e,n)}getNormalized(e,n){if(!e)return Ef({},n);if(n[e]!==void 0)return n[e];if(this._extractors.has(e)){const s=this._extractors.get(e);if(typeof s=="string")return zc(n,s);const l=s(e,n);if(l)return l}return zc(n,Mp(e))}getReducedForm(e,n){const s=this.getNormalized(e,n);return s===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(s):[[e,s]]}getStyleNames(e){const n=new Set;for(const s of this._consumables.keys()){const l=this.getNormalized(s,e);l&&(typeof l!="object"||Object.keys(l).length)&&n.add(s)}for(const s of Object.keys(e))n.add(s);return Array.from(n)}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,n){this._normalizers.set(e,n)}setExtractor(e,n){this._extractors.set(e,n)}setReducer(e,n){this._reducers.set(e,n)}setStyleRelation(e,n){this._mapStyleNames(e,n);for(const s of n)this._mapStyleNames(s,[e])}_mapStyleNames(e,n){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...n)}}function Mp(u){return u.replace("-",".")}function Eb(u,e,n){let s=n;Ge(n)&&(s=Ef({},zc(u,e),n)),ig(u,e,s)}class Db{constructor(){this._set=new Set}get isEmpty(){return this._set.size==0}get size(){return this._set.size}has(e){return this._set.has(e)}keys(){return Array.from(this._set.keys())}setTo(e){this.clear();for(const n of e.split(/\s+/))n&&this._set.add(n);return this}set(e){for(const n of or(e))n&&this._set.add(n)}remove(e){for(const n of or(e))this._set.delete(n)}clear(){this._set.clear()}toString(){return Array.from(this._set).join(" ")}isSimilar(e){if(this.size!==e.size)return!1;for(const n of this.keys())if(!e.has(n))return!1;return!0}_clone(){const e=new this.constructor;return e._set=new Set(this._set),e}_getTokensMatch(e){const n=[];if(e===!0){for(const s of this._set.keys())n.push(s);return n}if(typeof e=="string"){for(const s of e.split(/\s+/)){if(!this._set.has(s))return;n.push(s)}return n}for(const s of this._set.keys())s.match(e)&&n.push(s);return n.length?n:void 0}_getConsumables(e){return e?[e]:this.keys()}_canMergeFrom(){return!0}_mergeFrom(e){for(const n of e._set.keys())this._set.has(n)||this._set.add(n)}_isMatching(e){for(const n of e._set.keys())if(!this._set.has(n))return!1;return!0}}class qa extends Vc{constructor(e,n,s,l){super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=n,this._attrs=this._parseAttributes(s),this._children=[],l&&this._insertChild(0,l)}get _classes(){return this._attrs.get("class")}get _styles(){return this._attrs.get("style")}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes&&(yield"class"),this._styles&&(yield"style");for(const e of this._attrs.keys())e!="class"&&e!="style"&&(yield e)}*getAttributes(){for(const[e,n]of this._attrs.entries())yield[e,String(n)]}getAttribute(e){return this._attrs.has(e)?String(this._attrs.get(e)):void 0}hasAttribute(e,n){return!!this._attrs.has(e)&&(n===void 0||(Pf(this.name,e)||Np(this.name,e)?this._attrs.get(e).has(n):this._attrs.get(e)===n))}isSimilar(e){if(!(e instanceof qa))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size)return!1;for(const[n,s]of this._attrs){const l=e._attrs.get(n);if(l===void 0)return!1;if(typeof s=="string"||typeof l=="string"){if(l!==s)return!1}else if(!s.isSimilar(l))return!1}return!0}hasClass(...e){for(const n of e)if(!this._classes||!this._classes.has(n))return!1;return!0}getClassNames(){const e=this._classes?this._classes.keys():[],n=e[Symbol.iterator]();return Object.assign(e,{next:n.next.bind(n)})}getStyle(e){return this._styles&&this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles&&this._styles.getNormalized(e)}getStyleNames(e){return this._styles?this._styles.getStyleNames(e):[]}hasStyle(...e){for(const n of e)if(!this._styles||!this._styles.has(n))return!1;return!0}findAncestor(...e){const n=new Ro(...e);let s=this.parent;for(;s&&!s.is("documentFragment");){if(n.match(s))return s;s=s.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=this._classes?this._classes.keys().sort().join(","):"",n=this._styles&&String(this._styles),s=Array.from(this._attrs).filter(([l])=>l!="style"&&l!="class").map(l=>`${l[0]}="${l[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(n?` style="${n}"`:"")+(s==""?"":` ${s}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const n=[];if(e)for(const l of this.getChildren())n.push(l._clone(e));const s=new this.constructor(this.document,this.name,this._attrs,n);return s._customProperties=new Map(this._customProperties),s.getFillerOffset=this.getFillerOffset,s._unsafeAttributesToRender=this._unsafeAttributesToRender,s}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,n){this._fireChange("children",this,{index:e});let s=0;const l=function(f,b){if(typeof b=="string")return[new eo(f,b)];He(b)||(b=[b]);const y=[];for(const S of b)typeof S=="string"?y.push(new eo(f,S)):S instanceof Ks?y.push(new eo(f,S.data)):y.push(S);return y}(this.document,n);for(const f of l)f.parent!==null&&f._remove(),f.parent=this,f.document=this.document,this._children.splice(e,0,f),e++,s++;return s}_removeChildren(e,n=1){this._fireChange("children",this,{index:e});for(let s=e;s<e+n;s++)this._children[s].parent=null;return this._children.splice(e,n)}_setAttribute(e,n,s=!0){if(this._fireChange("attributes",this),Pf(this.name,e)||Np(this.name,e)){let l=this._attrs.get(e);l||(l=Pf(this.name,e)?new Td(this.document.stylesProcessor):new Db,this._attrs.set(e,l)),s?l.setTo(String(n)):Pf(this.name,e)?Array.isArray(n)?l.set(n[0],n[1]):l.set(n):l.set(typeof n=="string"?n.split(/\s+/):n)}else this._attrs.set(e,String(n))}_removeAttribute(e,n){if(this._fireChange("attributes",this),n!==void 0&&(Pf(this.name,e)||Np(this.name,e))){const s=this._attrs.get(e);return!!s&&(Np(this.name,e)&&typeof n=="string"&&(n=n.split(/\s+/)),s.remove(n),!!s.isEmpty&&this._attrs.delete(e))}return this._attrs.delete(e)}_addClass(e){this._setAttribute("class",e,!1)}_removeClass(e){this._removeAttribute("class",e)}_setStyle(e,n){typeof e!="string"?this._setAttribute("style",e,!1):this._setAttribute("style",[e,n],!1)}_removeStyle(e){this._removeAttribute("style",e)}_collectAttributesMatch(e,n,s){for(const[l,f,b]of e){let y=!1,S=!1;for(const[T,B]of this._attrs)if(!(s&&s.includes(T)||!Nu(l,T)))if(y=!0,typeof B=="string"){if(Nu(f,B))n.push([T]),S=!0;else if(!(l instanceof RegExp))return!1}else{const P=B._getTokensMatch(f,b||!0);if(P){S=!0;for(const W of P)n.push([T,W])}else if(!(l instanceof RegExp))return!1}if(!y||!S)return!1}return!0}_getConsumables(e,n){const s=[];if(e){const l=this._attrs.get(e);if(l!==void 0)if(typeof l=="string")s.push([e]);else for(const f of l._getConsumables(n))s.push([e,f])}else for(const[l,f]of this._attrs)if(typeof f=="string")s.push([l]);else for(const b of f._getConsumables())s.push([l,b]);return{name:!e,attributes:s}}_canMergeAttributesFrom(e){if(this.name!=e.name)return!1;for(const[n,s]of e._attrs){const l=this._attrs.get(n);if(l!==void 0){if(typeof l=="string"||typeof s=="string"){if(l!==s)return!1}else if(!l._canMergeFrom(s))return!1}}return!0}_mergeAttributesFrom(e){this._fireChange("attributes",this);for(const[n,s]of e._attrs){const l=this._attrs.get(n);l===void 0||typeof l=="string"||typeof s=="string"?this._setAttribute(n,s):l._mergeFrom(s)}}_canSubtractAttributesOf(e){if(this.name!=e.name)return!1;for(const[n,s]of e._attrs){const l=this._attrs.get(n);if(l===void 0)return!1;if(typeof l=="string"||typeof s=="string"){if(l!==s)return!1}else if(!l._isMatching(s))return!1}return!0}_subtractAttributesOf(e){this._fireChange("attributes",this);for(const[n,s]of e._attrs){const l=this._attrs.get(n);typeof l=="string"||typeof s=="string"?this._attrs.delete(n):(l.remove(s.keys()),l.isEmpty&&this._attrs.delete(n))}}_setCustomProperty(e,n){this._customProperties.set(e,n)}_removeCustomProperty(e){return this._customProperties.delete(e)}_parseAttributes(e){const n=ie(e);for(const[s,l]of n)if(l===null)n.delete(s);else if(Pf(this.name,s)){const f=l instanceof Td?l._clone():new Td(this.document.stylesProcessor).setTo(String(l));n.set(s,f)}else if(Np(this.name,s)){const f=l instanceof Db?l._clone():new Db().setTo(String(l));n.set(s,f)}else typeof l!="string"&&n.set(s,String(l));return n}}function Np(u,e){return e=="class"||u=="a"&&e=="rel"}function Pf(u,e){return e=="style"}qa.prototype.is=function(u,e){return e?e===this.name&&(u==="element"||u==="view:element"):u==="element"||u==="view:element"||u==="node"||u==="view:node"};class ug extends qa{constructor(e,n,s,l){super(e,n,s,l),this.getFillerOffset=Op}}function Op(){const u=[...this.getChildren()],e=u[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const n of u)if(!n.is("uiElement"))return null;return this.childCount}ug.prototype.is=function(u,e){return e?e===this.name&&(u==="containerElement"||u==="view:containerElement"||u==="element"||u==="view:element"):u==="containerElement"||u==="view:containerElement"||u==="element"||u==="view:element"||u==="node"||u==="view:node"};class _h extends Ae(ug){constructor(e,n,s,l){super(e,n,s,l),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",f=>f&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}_h.prototype.is=function(u,e){return e?e===this.name&&(u==="editableElement"||u==="view:editableElement"||u==="containerElement"||u==="view:containerElement"||u==="element"||u==="view:element"):u==="editableElement"||u==="view:editableElement"||u==="containerElement"||u==="view:containerElement"||u==="element"||u==="view:element"||u==="node"||u==="view:node"};const dg=Symbol("rootName");class Bp extends _h{constructor(e,n){super(e,n),this.rootName="main"}get rootName(){return this.getCustomProperty(dg)}set rootName(e){this._setCustomProperty(dg,e)}set _name(e){this.name=e}}Bp.prototype.is=function(u,e){return e?e===this.name&&(u==="rootElement"||u==="view:rootElement"||u==="editableElement"||u==="view:editableElement"||u==="containerElement"||u==="view:containerElement"||u==="element"||u==="view:element"):u==="rootElement"||u==="view:rootElement"||u==="editableElement"||u==="view:editableElement"||u==="containerElement"||u==="view:containerElement"||u==="element"||u==="view:element"||u==="node"||u==="view:node"};class Ou{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new U("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new U("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=Kt._createAt(e.startPosition):this._position=Kt._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let n,s;do s=this.position,n=this.next();while(!n.done&&e(n.value));n.done||(this._position=s)}jumpTo(e){this._boundaryStartParent&&e.isBefore(this.boundaries.start)?e=this.boundaries.start:this._boundaryEndParent&&e.isAfter(this.boundaries.end)&&(e=this.boundaries.end),this._position=e.clone()}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const n=this.position,s=e.parent;if(s.parent===null&&e.offset===s.childCount)return{done:!0,value:void 0};if(s===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let l;if(s&&s.is("view:$text")){if(e.isAtEnd)return this._position=Kt._createAfter(s),this._next();l=s.data[e.offset]}else l=s.getChild(e.offset);if(typeof l=="string"){let f;this.singleCharacters?f=1:f=(s===this._boundaryEndParent?this.boundaries.end.offset:s.data.length)-e.offset;const b=new Ks(s,e.offset,f);return e.offset+=f,this._position=e,this._formatReturnValue("text",b,n,e,f)}if(l&&l.is("view:element")){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e=new Kt(l,0);return this._position=e,this._formatReturnValue("elementStart",l,n,e,1)}if(l&&l.is("view:$text")){if(this.singleCharacters)return e=new Kt(l,0),this._position=e,this._next();let f,b=l.data.length;return l==this._boundaryEndParent?(b=this.boundaries.end.offset,f=new Ks(l,0,b),e=Kt._createAfter(f)):(f=new Ks(l,0,l.data.length),e.offset++),this._position=e,this._formatReturnValue("text",f,n,e,b)}return e=Kt._createAfter(s),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",s,n,e)}_previous(){let e=this.position.clone();const n=this.position,s=e.parent;if(s.parent===null&&e.offset===0)return{done:!0,value:void 0};if(s==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let l;if(s.is("view:$text")){if(e.isAtStart)return this._position=Kt._createBefore(s),this._previous();l=s.data[e.offset-1]}else l=s.getChild(e.offset-1);if(typeof l=="string"){let f;if(this.singleCharacters)f=1;else{const y=s===this._boundaryStartParent?this.boundaries.start.offset:0;f=e.offset-y}e.offset-=f;const b=new Ks(s,e.offset,f);return this._position=e,this._formatReturnValue("text",b,n,e,f)}if(l&&l.is("view:element"))return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",l,n,e,1)):(e=new Kt(l,l.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",l,n,e));if(l&&l.is("view:$text")){if(this.singleCharacters)return e=new Kt(l,l.data.length),this._position=e,this._previous();let f,b=l.data.length;if(l==this._boundaryStartParent){const y=this.boundaries.start.offset;f=new Ks(l,y,l.data.length-y),b=f.data.length,e=Kt._createBefore(f)}else f=new Ks(l,0,l.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",f,n,e,b)}return e=Kt._createBefore(s),this._position=e,this._formatReturnValue("elementStart",s,n,e,1)}_formatReturnValue(e,n,s,l,f){return n.is("view:$textProxy")&&(n.offsetInText+n.data.length==n.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?s=Kt._createAfter(n.textNode):(l=Kt._createAfter(n.textNode),this._position=l)),n.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?s=Kt._createBefore(n.textNode):(l=Kt._createBefore(n.textNode),this._position=l))),{done:!1,value:{type:e,item:n,previousPosition:s,nextPosition:l,length:f}}}}class Kt extends qc{constructor(e,n){super(),this.parent=e,this.offset=n}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof _h);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const n=Kt._createAt(this),s=n.offset+e;return n.offset=s<0?0:s,n}getLastMatchingPosition(e,n={}){n.startPosition=this;const s=new Ou(n);return s.skip(e),s.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const n=this.getAncestors(),s=e.getAncestors();let l=0;for(;n[l]==s[l]&&n[l];)l++;return l===0?null:n[l-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const n=this.parent.is("node")?this.parent.getPath():[],s=e.parent.is("node")?e.parent.getPath():[];n.push(this.offset),s.push(e.offset);const l=pt(n,s);switch(l){case"prefix":return"before";case"extension":return"after";default:return n[l]<s[l]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new Ou(e)}clone(){return new Kt(this.parent,this.offset)}static _createAt(e,n){if(e instanceof Kt)return new this(e.parent,e.offset);{const s=e;if(n=="end")n=s.is("$text")?s.data.length:s.childCount;else{if(n=="before")return this._createBefore(s);if(n=="after")return this._createAfter(s);if(n!==0&&!n)throw new U("view-createpositionat-offset-required",s)}return new Kt(s,n)}}static _createAfter(e){if(e.is("$textProxy"))return new Kt(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new U("view-position-after-root",e,{root:e});return new Kt(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new Kt(e.textNode,e.offsetInText);if(!e.parent)throw new U("view-position-before-root",e,{root:e});return new Kt(e.parent,e.index)}}Kt.prototype.is=function(u){return u==="position"||u==="view:position"};class Nn extends qc{constructor(e,n=null){super(),this.start=e.clone(),this.end=n?n.clone():e.clone()}*[Symbol.iterator](){yield*new Ou({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(Md,{direction:"backward"}),n=this.end.getLastMatchingPosition(Md);return e.parent.is("$text")&&e.isAtStart&&(e=Kt._createBefore(e.parent)),n.parent.is("$text")&&n.isAtEnd&&(n=Kt._createAfter(n.parent)),new Nn(e,n)}getTrimmed(){let e=this.start.getLastMatchingPosition(Md);if(e.isAfter(this.end)||e.isEqual(this.end))return new Nn(e,e);let n=this.end.getLastMatchingPosition(Md,{direction:"backward"});const s=e.nodeAfter,l=n.nodeBefore;return s&&s.is("$text")&&(e=new Kt(s,0)),l&&l.is("$text")&&(n=new Kt(l,l.data.length)),new Nn(e,n)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,n=!1){e.isCollapsed&&(n=!1);const s=this.containsPosition(e.start)||n&&this.start.isEqual(e.start),l=this.containsPosition(e.end)||n&&this.end.isEqual(e.end);return s&&l}getDifference(e){const n=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&n.push(new Nn(this.start,e.start)),this.containsPosition(e.end)&&n.push(new Nn(e.end,this.end))):n.push(this.clone()),n}getIntersection(e){if(this.isIntersecting(e)){let n=this.start,s=this.end;return this.containsPosition(e.start)&&(n=e.start),this.containsPosition(e.end)&&(s=e.end),new Nn(n,s)}return null}getWalker(e={}){return e.boundaries=this,new Ou(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,n=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(n=this.end.parent.previousSibling),e&&e.is("element")&&e===n?e:null}clone(){return new Nn(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const n=new Ou(e);for(const s of n)yield s.item}*getPositions(e={}){e.boundaries=this;const n=new Ou(e);yield n.position;for(const s of n)yield s.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,n,s,l){return new this(new Kt(e,n),new Kt(s,l))}static _createFromPositionAndShift(e,n){const s=e,l=e.getShiftedBy(n);return n>0?new this(s,l):new this(l,s)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const n=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Kt._createBefore(e),n)}}function Md(u){return!(!u.item.is("attributeElement")&&!u.item.is("uiElement"))}Nn.prototype.is=function(u){return u==="range"||u==="view:range"};class Kl extends ke(qc){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const n of this._ranges)e&&!n.start.isBefore(e.start)||(e=n);return e?e.clone():null}getLastRange(){let e=null;for(const n of this._ranges)e&&!n.end.isAfter(e.end)||(e=n);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const n of this._ranges){let s=!1;for(const l of e._ranges)if(n.isEqual(l)){s=!0;break}if(!s)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const n=ot(this.getRanges());if(n!=ot(e.getRanges()))return!1;if(n==0)return!0;for(let s of this.getRanges()){s=s.getTrimmed();let l=!1;for(let f of e.getRanges())if(f=f.getTrimmed(),s.start.isEqual(f.start)&&s.end.isEqual(f.end)){l=!0;break}if(!l)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[n,s,l]=e;if(typeof s=="object"&&(l=s,s=void 0),n===null)this._setRanges([]),this._setFakeOptions(l);else if(n instanceof Kl||n instanceof Va)this._setRanges(n.getRanges(),n.isBackward),this._setFakeOptions({fake:n.isFake,label:n.fakeSelectionLabel});else if(n instanceof Nn)this._setRanges([n],l&&l.backward),this._setFakeOptions(l);else if(n instanceof Kt)this._setRanges([new Nn(n)]),this._setFakeOptions(l);else if(n instanceof Vc){const f=!!l&&!!l.backward;let b;if(s===void 0)throw new U("view-selection-setto-required-second-parameter",this);b=s=="in"?Nn._createIn(n):s=="on"?Nn._createOn(n):new Nn(Kt._createAt(n,s)),this._setRanges([b],f),this._setFakeOptions(l)}else{if(!He(n))throw new U("view-selection-setto-not-selectable",this);this._setRanges(n,l&&l.backward),this._setFakeOptions(l)}this.fire("change")}setFocus(e,n){if(this.anchor===null)throw new U("view-selection-setfocus-no-ranges",this);const s=Kt._createAt(e,n);if(s.compareWith(this.focus)=="same")return;const l=this.anchor;this._ranges.pop(),s.compareWith(l)=="before"?this._addRange(new Nn(s,l),!0):this._addRange(new Nn(l,s)),this.fire("change")}_setRanges(e,n=!1){e=Array.from(e),this._ranges=[];for(const s of e)this._addRange(s);this._lastRangeBackward=!!n}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,n=!1){if(!(e instanceof Nn))throw new U("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!n}_pushRange(e){for(const n of this._ranges)if(e.isIntersecting(n))throw new U("view-selection-range-intersects",this,{addedRange:e,intersectingRange:n});this._ranges.push(new Nn(e.start,e.end))}}Kl.prototype.is=function(u){return u==="selection"||u==="view:selection"};class Va extends ke(qc){constructor(...e){super(),this._selection=new Kl,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,n){this._selection.setFocus(e,n)}}Va.prototype.is=function(u){return u==="selection"||u=="documentSelection"||u=="view:selection"||u=="view:documentSelection"};class ya extends Z{constructor(e,n,s){super(e,n),this.startRange=s,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const Bu=Symbol("bubbling contexts");function Ib(u){return class extends u{fire(e,...n){try{const s=e instanceof Z?e:new Z(this,e),l=jp(this);if(!l.size)return;if(Ql(s,"capturing",this),Ha(l,"$capture",s,...n))return s.return;const f=s.startRange||this.selection.getFirstRange(),b=f?f.getContainedElement():null,y=!!b&&!!Fo(l,b);let S=b||function(T){if(!T)return null;const B=T.start.parent,P=T.end.parent,W=B.getPath(),ee=P.getPath();return W.length>ee.length?B:P}(f);if(Ql(s,"atTarget",S),!y){if(Ha(l,"$text",s,...n))return s.return;Ql(s,"bubbling",S)}for(;S;){if(S.is("rootElement")){if(Ha(l,"$root",s,...n))return s.return}else if(S.is("element")&&Ha(l,S.name,s,...n))return s.return;if(Ha(l,S,s,...n))return s.return;S=S.parent,Ql(s,"bubbling",S)}return Ql(s,"bubbling",this),Ha(l,"$document",s,...n),s.return}catch(s){U.rethrowUnexpectedError(s,this)}}_addEventListener(e,n,s){const l=or(s.context||"$document"),f=jp(this);for(const b of l){let y=f.get(b);y||(y=new(ke()),f.set(b,y)),this.listenTo(y,e,n,s)}}_removeEventListener(e,n){const s=jp(this);for(const l of s.values())this.stopListening(l,e,n)}}}{const u=Ib(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{Ib[e]=u.prototype[e]})}function Ql(u,e,n){u instanceof ya&&(u._eventPhase=e,u._currentTarget=n)}function Ha(u,e,n,...s){const l=typeof e=="string"?u.get(e):Fo(u,e);return!!l&&(l.fire(n,...s),n.stop.called)}function Fo(u,e){for(const[n,s]of u)if(typeof n=="function"&&n(e))return s;return null}function jp(u){return u[Bu]||(u[Bu]=new Map),u[Bu]}class Lp extends Ib(Ae()){constructor(e){super(),this._postFixers=new Set,this.selection=new Va,this.roots=new Co({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.forEach(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let n=!1;do for(const s of this._postFixers)if(n=s(e),n)break;while(n)}}const g3=class g3 extends qa{constructor(e,n,s,l){super(e,n,s,l),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=AA}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new U("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const n=super._clone(e);return n._priority=this._priority,n._id=this._id,n}_canMergeAttributesFrom(e){return this.id===null&&e.id===null&&this.priority===e.priority&&super._canMergeAttributesFrom(e)}_canSubtractAttributesOf(e){return this.id===null&&e.id===null&&this.priority===e.priority&&super._canSubtractAttributesOf(e)}};g3.DEFAULT_PRIORITY=10;let ju=g3;function AA(){if(Tb(this))return null;let u=this.parent;for(;u&&u.is("attributeElement");){if(Tb(u)>1)return null;u=u.parent}return!u||Tb(u)>1?null:this.childCount}function Tb(u){return Array.from(u.getChildren()).filter(e=>!e.is("uiElement")).length}ju.prototype.is=function(u,e){return e?e===this.name&&(u==="attributeElement"||u==="view:attributeElement"||u==="element"||u==="view:element"):u==="attributeElement"||u==="view:attributeElement"||u==="element"||u==="view:element"||u==="node"||u==="view:node"};class Nd extends qa{constructor(e,n,s,l){super(e,n,s,l),this.getFillerOffset=Mb}_insertChild(e,n){if(n&&(n instanceof Vc||Array.from(n).length>0))throw new U("view-emptyelement-cannot-add",[this,n]);return 0}}function Mb(){return null}Nd.prototype.is=function(u,e){return e?e===this.name&&(u==="emptyElement"||u==="view:emptyElement"||u==="element"||u==="view:element"):u==="emptyElement"||u==="view:emptyElement"||u==="element"||u==="view:element"||u==="node"||u==="view:node"};class hg extends qa{constructor(e,n,s,l){super(e,n,s,l),this.getFillerOffset=CA}_insertChild(e,n){if(n&&(n instanceof Vc||Array.from(n).length>0))throw new U("view-uielement-cannot-add",[this,n]);return 0}render(e,n){return this.toDomElement(e)}toDomElement(e){const n=e.createElement(this.name);for(const s of this.getAttributeKeys())n.setAttribute(s,this.getAttribute(s));return n}}function _A(u){u.document.on("arrowKey",(e,n)=>function(s,l,f){if(l.keyCode==ln.arrowright){const b=l.domTarget.ownerDocument.defaultView.getSelection(),y=b.rangeCount==1&&b.getRangeAt(0).collapsed;if(y||l.shiftKey){const S=b.focusNode,T=b.focusOffset,B=f.domPositionToView(S,T);if(B===null)return;let P=!1;const W=B.getLastMatchingPosition(ee=>(ee.item.is("uiElement")&&(P=!0),!(!ee.item.is("uiElement")&&!ee.item.is("attributeElement"))));if(P){const ee=f.viewPositionToDom(W);y?b.collapse(ee.parent,ee.offset):b.extend(ee.parent,ee.offset)}}}}(0,n,u.domConverter),{priority:"low"})}function CA(){return null}hg.prototype.is=function(u,e){return e?e===this.name&&(u==="uiElement"||u==="view:uiElement"||u==="element"||u==="view:element"):u==="uiElement"||u==="view:uiElement"||u==="element"||u==="view:element"||u==="node"||u==="view:node"};class Pp extends qa{constructor(e,n,s,l){super(e,n,s,l),this.getFillerOffset=xA}_insertChild(e,n){if(n&&(n instanceof Vc||Array.from(n).length>0))throw new U("view-rawelement-cannot-add",[this,n]);return 0}render(e,n){}}function xA(){return null}Pp.prototype.is=function(u,e){return e?e===this.name&&(u==="rawElement"||u==="view:rawElement"||u==="element"||u==="view:element"):u==="rawElement"||u==="view:rawElement"||u===this.name||u==="view:"+this.name||u==="element"||u==="view:element"||u==="node"||u==="view:node"};class Od extends ke(qc){constructor(e,n){super(),this._children=[],this._customProperties=new Map,this.document=e,n&&this._insertChild(0,n)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,n){this._fireChange("children",this,{index:e});let s=0;const l=function(f,b){return typeof b=="string"?[new eo(f,b)]:(He(b)||(b=[b]),Array.from(b).map(y=>typeof y=="string"?new eo(f,y):y instanceof Ks?new eo(f,y.data):y))}(this.document,n);for(const f of l)f.parent!==null&&f._remove(),f.parent=this,this._children.splice(e,0,f),e++,s++;return s}_removeChildren(e,n=1){this._fireChange("children",this,{index:e});for(let s=e;s<e+n;s++)this._children[s].parent=null;return this._children.splice(e,n)}_fireChange(e,n,s){this.fire(`change:${e}`,n,s)}_setCustomProperty(e,n){this._customProperties.set(e,n)}_removeCustomProperty(e){return this._customProperties.delete(e)}}Od.prototype.is=function(u){return u==="documentFragment"||u==="view:documentFragment"};class jk{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,n){this.document.selection._setFocus(e,n)}createDocumentFragment(e){return new Od(this.document,e)}createText(e){return new eo(this.document,e)}createAttributeElement(e,n,s={}){const l=new ju(this.document,e,n);return typeof s.priority=="number"&&(l._priority=s.priority),s.id&&(l._id=s.id),s.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),l}createContainerElement(e,n,s={},l={}){let f=null;rr(s)?l=s:f=s;const b=new ug(this.document,e,n,f);return l.renderUnsafeAttributes&&b._unsafeAttributesToRender.push(...l.renderUnsafeAttributes),b}createEditableElement(e,n,s={}){const l=new _h(this.document,e,n);return s.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),l}createEmptyElement(e,n,s={}){const l=new Nd(this.document,e,n);return s.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),l}createUIElement(e,n,s){const l=new hg(this.document,e,n);return s&&(l.render=s),l}createRawElement(e,n,s,l={}){const f=new Pp(this.document,e,n);return s&&(f.render=s),l.renderUnsafeAttributes&&f._unsafeAttributesToRender.push(...l.renderUnsafeAttributes),f}setAttribute(e,n,s,l){l!==void 0?l._setAttribute(e,n,s):s._setAttribute(e,n)}removeAttribute(e,n,s){s!==void 0?s._removeAttribute(e,n):n._removeAttribute(e)}addClass(e,n){n._addClass(e)}removeClass(e,n){n._removeClass(e)}setStyle(e,n,s){rr(e)&&s===void 0?n._setStyle(e):s._setStyle(e,n)}removeStyle(e,n){n._removeStyle(e)}setCustomProperty(e,n,s){s._setCustomProperty(e,n)}removeCustomProperty(e,n){return n._removeCustomProperty(e)}breakAttributes(e){return e instanceof Kt?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const n=e.parent;if(!n.is("containerElement"))throw new U("view-writer-break-non-container-element",this.document);if(!n.parent)throw new U("view-writer-break-root",this.document);if(e.isAtStart)return Kt._createBefore(n);if(!e.isAtEnd){const s=n._clone(!1);this.insert(Kt._createAfter(n),s);const l=new Nn(e,Kt._createAt(n,"end")),f=new Kt(s,0);this.move(l,f)}return Kt._createAfter(n)}mergeAttributes(e){const n=e.offset,s=e.parent;if(s.is("$text"))return e;if(s.is("attributeElement")&&s.childCount===0){const b=s.parent,y=s.index;return s._remove(),this._removeFromClonedElementsGroup(s),this.mergeAttributes(new Kt(b,y))}const l=s.getChild(n-1),f=s.getChild(n);if(!l||!f)return e;if(l.is("$text")&&f.is("$text"))return _s(l,f);if(l.is("attributeElement")&&f.is("attributeElement")&&l.isSimilar(f)){const b=l.childCount;return l._appendChild(f.getChildren()),f._remove(),this._removeFromClonedElementsGroup(f),this.mergeAttributes(new Kt(l,b))}return e}mergeContainers(e){const n=e.nodeBefore,s=e.nodeAfter;if(!(n&&s&&n.is("containerElement")&&s.is("containerElement")))throw new U("view-writer-merge-containers-invalid-position",this.document);const l=n.getChild(n.childCount-1),f=l instanceof eo?Kt._createAt(l,"end"):Kt._createAt(n,"end");return this.move(Nn._createIn(s),Kt._createAt(n,"end")),this.remove(Nn._createOn(s)),f}insert(e,n){Pk(n=He(n)?[...n]:[n],this.document);const s=n.reduce((b,y)=>{const S=b[b.length-1],T=!y.is("uiElement");return S&&S.breakAttributes==T?S.nodes.push(y):b.push({breakAttributes:T,nodes:[y]}),b},[]);let l=null,f=e;for(const{nodes:b,breakAttributes:y}of s){const S=this._insertNodes(f,b,y);l||(l=S.start),f=S.end}return l?new Nn(l,f):new Nn(e)}remove(e){const n=e instanceof Nn?e:Nn._createOn(e);if(Rp(n,this.document),n.isCollapsed)return new Od(this.document);const{start:s,end:l}=this._breakAttributesRange(n,!0),f=s.parent,b=l.offset-s.offset,y=f._removeChildren(s.offset,b);for(const T of y)this._removeFromClonedElementsGroup(T);const S=this.mergeAttributes(s);return n.start=S,n.end=S.clone(),new Od(this.document,y)}clear(e,n){Rp(e,this.document);const s=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const l of s){const f=l.item;let b;if(f.is("element")&&n.isSimilar(f))b=Nn._createOn(f);else if(!l.nextPosition.isAfter(e.start)&&f.is("$textProxy")){const y=f.getAncestors().find(S=>S.is("element")&&n.isSimilar(S));y&&(b=Nn._createIn(y))}b&&(b.end.isAfter(e.end)&&(b.end=e.end),b.start.isBefore(e.start)&&(b.start=e.start),this.remove(b))}}move(e,n){let s;if(n.isAfter(e.end)){const l=(n=this._breakAttributes(n,!0)).parent,f=l.childCount;e=this._breakAttributesRange(e,!0),s=this.remove(e),n.offset+=l.childCount-f}else s=this.remove(e);return this.insert(n,s)}wrap(e,n){if(!(n instanceof ju))throw new U("view-writer-wrap-invalid-attribute",this.document);if(Rp(e,this.document),e.isCollapsed){let l=e.start;l.parent.is("element")&&(s=l.parent,!Array.from(s.getChildren()).some(b=>!b.is("uiElement")))&&(l=l.getLastMatchingPosition(b=>b.item.is("uiElement"))),l=this._wrapPosition(l,n);const f=this.document.selection;return f.isCollapsed&&f.getFirstPosition().isEqual(e.start)&&this.setSelection(l),new Nn(l)}return this._wrapRange(e,n);var s}unwrap(e,n){if(!(n instanceof ju))throw new U("view-writer-unwrap-invalid-attribute",this.document);if(Rp(e,this.document),e.isCollapsed)return e;const{start:s,end:l}=this._breakAttributesRange(e,!0),f=s.parent,b=this._unwrapChildren(f,s.offset,l.offset,n),y=this.mergeAttributes(b.start);y.isEqual(b.start)||b.end.offset--;const S=this.mergeAttributes(b.end);return new Nn(y,S)}rename(e,n){const s=new ug(this.document,e,n.getAttributes());return this.insert(Kt._createAfter(n),s),this.move(Nn._createIn(n),Kt._createAt(s,0)),this.remove(Nn._createOn(n)),s}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,n){return Kt._createAt(e,n)}createPositionAfter(e){return Kt._createAfter(e)}createPositionBefore(e){return Kt._createBefore(e)}createRange(e,n){return new Nn(e,n)}createRangeOn(e){return Nn._createOn(e)}createRangeIn(e){return Nn._createIn(e)}createSelection(...e){return new Kl(...e)}createSlot(e="children"){if(!this._slotFactory)throw new U("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,n,s){let l,f;if(l=s?Nb(e):e.parent.is("$text")?e.parent.parent:e.parent,!l)throw new U("view-writer-invalid-position-container",this.document);f=s?this._breakAttributes(e,!0):e.parent.is("$text")?zo(e):e;const b=l._insertChild(f.offset,n);for(const B of n)this._addToClonedElementsGroup(B);const y=f.getShiftedBy(b),S=this.mergeAttributes(f);S.isEqual(f)||y.offset--;const T=this.mergeAttributes(y);return new Nn(S,T)}_wrapChildren(e,n,s,l){let f=n;const b=[];for(;f<s;){const S=e.getChild(f),T=S.is("$text"),B=S.is("attributeElement");if(B&&S._canMergeAttributesFrom(l))S._mergeAttributesFrom(l),b.push(new Kt(e,f));else if(T||!B||lS(l,S)){const P=l._clone();S._remove(),P._appendChild(S),e._insertChild(f,P),this._addToClonedElementsGroup(P),b.push(new Kt(e,f))}else this._wrapChildren(S,0,S.childCount,l);f++}let y=0;for(const S of b)S.offset-=y,S.offset!=n&&(this.mergeAttributes(S).isEqual(S)||(y++,s--));return Nn._createFromParentsAndOffsets(e,n,e,s)}_unwrapChildren(e,n,s,l){let f=n;const b=[];for(;f<s;){const S=e.getChild(f);if(S.is("attributeElement"))if(S.isSimilar(l)){const T=S.getChildren(),B=S.childCount;S._remove(),e._insertChild(f,T),this._removeFromClonedElementsGroup(S),b.push(new Kt(e,f),new Kt(e,f+B)),f+=B,s+=B-1}else S._canSubtractAttributesOf(l)?(S._subtractAttributesOf(l),b.push(new Kt(e,f),new Kt(e,f+1)),f++):(this._unwrapChildren(S,0,S.childCount,l),f++);else f++}let y=0;for(const S of b)S.offset-=y,!(S.offset==n||S.offset==s)&&(this.mergeAttributes(S).isEqual(S)||(y++,s--));return Nn._createFromParentsAndOffsets(e,n,e,s)}_wrapRange(e,n){const{start:s,end:l}=this._breakAttributesRange(e,!0),f=s.parent,b=this._wrapChildren(f,s.offset,l.offset,n),y=this.mergeAttributes(b.start);y.isEqual(b.start)||b.end.offset--;const S=this.mergeAttributes(b.end);return new Nn(y,S)}_wrapPosition(e,n){if(n.isSimilar(e.parent))return Lk(e.clone());e.parent.is("$text")&&(e=zo(e));const s=this.createAttributeElement("_wrapPosition-fake-element");s._priority=Number.POSITIVE_INFINITY,s.isSimilar=()=>!1,e.parent._insertChild(e.offset,s);const l=new Nn(e,e.getShiftedBy(1));this.wrap(l,n);const f=new Kt(s.parent,s.index);s._remove();const b=f.nodeBefore,y=f.nodeAfter;return b&&b.is("view:$text")&&y&&y.is("view:$text")?_s(b,y):Lk(f)}_breakAttributesRange(e,n=!1){const s=e.start,l=e.end;if(Rp(e,this.document),e.isCollapsed){const S=this._breakAttributes(e.start,n);return new Nn(S,S)}const f=this._breakAttributes(l,n),b=f.parent.childCount,y=this._breakAttributes(s,n);return f.offset+=f.parent.childCount-b,new Nn(y,f)}_breakAttributes(e,n=!1){const s=e.offset,l=e.parent;if(e.parent.is("emptyElement"))throw new U("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new U("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new U("view-writer-cannot-break-raw-element",this.document);if(!n&&l.is("$text")&&Ob(l.parent)||Ob(l))return e.clone();if(l.is("$text"))return this._breakAttributes(zo(e),n);if(s==l.childCount){const f=new Kt(l.parent,l.index+1);return this._breakAttributes(f,n)}if(s===0){const f=new Kt(l.parent,l.index);return this._breakAttributes(f,n)}{const f=l.index+1,b=l._clone();l.parent._insertChild(f,b),this._addToClonedElementsGroup(b);const y=l.childCount-s,S=l._removeChildren(s,y);b._appendChild(S);const T=new Kt(l.parent,f);return this._breakAttributes(T,n)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const l of e.getChildren())this._addToClonedElementsGroup(l);const n=e.id;if(!n)return;let s=this._cloneGroups.get(n);s||(s=new Set,this._cloneGroups.set(n,s)),s.add(e),e._clonesGroup=s}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const l of e.getChildren())this._removeFromClonedElementsGroup(l);const n=e.id;if(!n)return;const s=this._cloneGroups.get(n);s&&s.delete(e)}}function Nb(u){let e=u.parent;for(;!Ob(e);){if(!e)return;e=e.parent}return e}function lS(u,e){return u.priority<e.priority||!(u.priority>e.priority)&&u.getIdentity()<e.getIdentity()}function Lk(u){const e=u.nodeBefore;if(e&&e.is("$text"))return new Kt(e,e.data.length);const n=u.nodeAfter;return n&&n.is("$text")?new Kt(n,0):u}function zo(u){if(u.offset==u.parent.data.length)return new Kt(u.parent.parent,u.parent.index+1);if(u.offset===0)return new Kt(u.parent.parent,u.parent.index);const e=u.parent.data.slice(u.offset);return u.parent._data=u.parent.data.slice(0,u.offset),u.parent.parent._insertChild(u.parent.index+1,new eo(u.root.document,e)),new Kt(u.parent.parent,u.parent.index+1)}function _s(u,e){const n=u.data.length;return u._data+=e.data,e._remove(),new Kt(u,n)}const SA=[eo,ju,ug,Nd,Pp,hg];function Pk(u,e){for(const n of u){if(!SA.some(s=>n instanceof s))throw new U("view-writer-insert-invalid-node-type",e);n.is("$text")||Pk(n.getChildren(),e)}}function Ob(u){return u&&(u.is("containerElement")||u.is("documentFragment"))}function Rp(u,e){const n=Nb(u.start),s=Nb(u.end);if(!n||!s||n!==s)throw new U("view-writer-invalid-range-container",e)}const Rk=u=>u.createTextNode(""),fg=u=>{const e=u.createElement("span");return e.dataset.ckeFiller="true",e.innerText="",e},Bb=u=>{const e=u.createElement("br");return e.dataset.ckeFiller="true",e},Fp="".repeat(7);function $a(u){return typeof u=="string"?u.substr(0,7)===Fp:Hn(u)&&u.data.substr(0,7)===Fp}function Rf(u){return u.data.length==7&&$a(u)}function jb(u){const e=typeof u=="string"?u:u.data;return $a(u)?e.slice(7):e}function Fk(u,e){if(e.keyCode==ln.arrowleft){const n=e.domTarget.ownerDocument.defaultView.getSelection();if(n.rangeCount==1&&n.getRangeAt(0).collapsed){const s=n.getRangeAt(0).startContainer,l=n.getRangeAt(0).startOffset;$a(s)&&l<=7&&n.collapse(s,0)}}}var zp=a(8264),Up={attributes:{"data-cke":!0}};Up.setAttributes=zt(),Up.insert=Rt().bind(null,"head"),Up.domAPI=Ut(),Up.insertStyleElement=Nt(),Dt()(zp.A,Up),zp.A&&zp.A.locals&&zp.A.locals;class zk extends Ae(){constructor(e,n){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=n,this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1),w.isBlink&&!w.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()})}markToSync(e,n){if(e==="text")this.domConverter.mapViewToDom(n.parent)&&this.markedTexts.add(n);else{if(!this.domConverter.mapViewToDom(n))return;if(e==="attributes")this.markedAttributes.add(n);else{if(e!=="children")throw new U("view-renderer-unknown-type",this);this.markedChildren.add(n)}}}render(){if(this.isComposing&&!w.isAndroid)return;let e=null;const n=!(w.isBlink&&!w.isAndroid)||!this.isSelecting;for(const s of this.markedChildren)this._updateChildrenMappings(s);n?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=Kt._createBefore(e.parent)));for(const s of this.markedAttributes)this._updateAttrs(s);for(const s of this.markedChildren)this._updateChildren(s,{inlineFillerPosition:e});for(const s of this.markedTexts)!this.markedChildren.has(s.parent)&&this.domConverter.mapViewToDom(s.parent)&&this._updateText(s,{inlineFillerPosition:e});if(n)if(e){const s=this.domConverter.viewPositionToDom(e),l=s.parent.ownerDocument;$a(s.parent)?this._inlineFiller=s.parent:this._inlineFiller=pg(l,s.parent,s.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const n=this.domConverter.mapViewToDom(e);if(!n)return;const s=Array.from(n.childNodes),l=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),f=this._diffNodeLists(s,l),b=this._findUpdateActions(f,s,l,Uk);if(b.indexOf("update")!==-1){const y={equal:0,insert:0,delete:0};for(const S of b)if(S==="update"){const T=y.equal+y.insert,B=y.equal+y.delete,P=e.getChild(T);!P||P.is("uiElement")||P.is("rawElement")||this._updateElementMappings(P,s[B]),Ad(l[T]),y.equal++}else y[S]++}}_updateElementMappings(e,n){this.domConverter.unbindDomElement(n),this.domConverter.bindElements(n,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?Kt._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),n=this.domConverter.viewPositionToDom(e);return!!(n&&Hn(n.parent)&&$a(n.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!$a(e))throw new U("view-renderer-filler-was-lost",this);Rf(e)?e.remove():e.data=e.data.substr(7),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),n=e.parent,s=e.offset;if(!this.domConverter.mapViewToDom(n.root)||!n.is("element")||!function(b){if(b.getAttribute("contenteditable")=="false")return!1;const y=b.findAncestor(S=>S.hasAttribute("contenteditable"));return!y||y.getAttribute("contenteditable")=="true"}(n))return!1;const l=e.nodeBefore,f=e.nodeAfter;return!(l instanceof eo||f instanceof eo)&&!!(s!==n.getFillerOffset()||l&&l.is("element","br"))&&(!w.isAndroid||!l&&!f)}_updateText(e,n){const s=this.domConverter.findCorrespondingDomText(e);let l=this.domConverter.viewToDom(e).data;const f=n.inlineFillerPosition;f&&f.parent==e.parent&&f.offset==e.index&&(l=Fp+l),this._updateTextNode(s,l)}_updateAttrs(e){const n=this.domConverter.mapViewToDom(e);if(n){for(const s of Array.from(n.attributes)){const l=s.name;e.hasAttribute(l)||this.domConverter.removeDomElementAttribute(n,l)}for(const s of e.getAttributeKeys())this.domConverter.setDomElementAttribute(n,s,e.getAttribute(s),e)}}_updateChildren(e,n){const s=this.domConverter.mapViewToDom(e);if(!s)return;if(w.isAndroid){let P=null;for(const W of Array.from(s.childNodes)){if(P&&Hn(P)&&Hn(W)){s.normalize();break}P=W}}const l=n.inlineFillerPosition,f=s.childNodes,b=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));l&&l.parent===e&&pg(s.ownerDocument,b,l.offset);const y=this._diffNodeLists(f,b),S=this._findUpdateActions(y,f,b,EA);let T=0;const B=new Set;for(const P of S)P==="delete"?(B.add(f[T]),Ad(f[T])):P!=="equal"&&P!=="update"||T++;T=0;for(const P of S)P==="insert"?(Au(s,T,b[T]),T++):P==="update"?(this._updateTextNode(f[T],b[T].data),T++):P==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(b[T])),T++);for(const P of B)P.parentNode||this.domConverter.unbindDomElement(P)}_diffNodeLists(e,n){return e=function(s,l){const f=Array.from(s);return f.length==0||!l||f[f.length-1]==l&&f.pop(),f}(e,this._fakeSelectionContainer),H(e,n,qk.bind(null,this.domConverter))}_findUpdateActions(e,n,s,l){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let f=[],b=[],y=[];const S={equal:0,insert:0,delete:0};for(const T of e)T==="insert"?y.push(s[S.equal+S.insert]):T==="delete"?b.push(n[S.equal+S.delete]):(f=f.concat(H(b,y,l).map(B=>B==="equal"?"update":B)),f.push("equal"),b=[],y=[]),S[T]++;return f.concat(H(b,y,l).map(T=>T==="equal"?"update":T))}_updateTextNode(e,n){const s=e.data;s!=n&&(w.isAndroid&&this.isComposing&&s.replace(/\u00A0/g," ")==n.replace(/\u00A0/g," ")||this._updateTextNodeInternal(e,n))}_updateTextNodeInternal(e,n){const s=F(e.data,n);for(const l of s)l.type==="insert"?e.insertData(l.index,l.values.join("")):e.deleteData(l.index,l.howMany)}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const n of e.getChildren())this._markDescendantTextToSync(n)}}_updateSelection(){if(w.isBlink&&!w.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&w.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const n=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(b){const y=b.createElement("div");return y.className="ck-fake-selection-container",Object.assign(y.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),y.textContent="",y}(n));const s=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(s,this.selection),!this._fakeSelectionNeedsUpdate(e))return;s.parentElement&&s.parentElement==e||e.appendChild(s),s.textContent=this.selection.fakeSelectionLabel||"";const l=n.getSelection(),f=n.createRange();l.removeAllRanges(),f.selectNodeContents(s),l.addRange(f)}_updateDomSelection(e){const n=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(n))return;const s=this.domConverter.viewPositionToDom(this.selection.anchor),l=this.domConverter.viewPositionToDom(this.selection.focus);n.setBaseAndExtent(s.parent,s.offset,l.parent,l.offset),w.isGecko&&function(f,b){let y=f.parent,S=f.offset;if(Hn(y)&&Rf(y)&&(S=Nc(y)+1,y=y.parentNode),y.nodeType!=Node.ELEMENT_NODE||S!=y.childNodes.length-1)return;const T=y.childNodes[S];T&&T.tagName=="BR"&&b.addRange(b.getRangeAt(0))}(l,n)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const n=e&&this.domConverter.domSelectionToView(e);return(!n||!this.selection.isEqual(n))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(n))}_fakeSelectionNeedsUpdate(e){const n=this._fakeSelectionContainer,s=e.ownerDocument.getSelection();return!n||n.parentElement!==e||s.anchorNode!==n&&!n.contains(s.anchorNode)||n.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const n=e.getSelection();if(n.rangeCount){const s=e.activeElement,l=this.domConverter.mapDomToView(s);s&&l&&n.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function pg(u,e,n){const s=e instanceof Array?e:e.childNodes,l=s[n];if(Hn(l))return l.data=Fp+l.data,l;{const f=u.createTextNode(Fp);return Array.isArray(e)?s.splice(n,0,f):Au(e,n,f),f}}function Uk(u,e){return ga(u)&&ga(e)&&!Hn(u)&&!Hn(e)&&!ka(u)&&!ka(e)&&u.tagName.toLowerCase()===e.tagName.toLowerCase()}function EA(u,e){return ga(u)&&ga(e)&&Hn(u)&&Hn(e)}function qk(u,e,n){return e===n||(Hn(e)&&Hn(n)?e.data===n.data:!(!u.isBlockFiller(e)||!u.isBlockFiller(n)))}const DA=Bb(p.document),Bd=Rk(p.document),Vk=fg(p.document),Lb="data-ck-unsafe-attribute-",Hk="data-ck-unsafe-element";class Zl{constructor(e,{blockFillerMode:n,renderingMode:s="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new Ro,this._inlineObjectElementMatcher=new Ro,this._elementsWithTemporaryCustomProperties=new Set,this.document=e,this.renderingMode=s,this.blockFillerMode=n||(s==="editing"?"br":"nbsp"),this.preElements=["pre","textarea"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?p.document:p.document.implementation.createHTMLDocument("")}bindFakeSelection(e,n){this._fakeSelectionMapping.set(e,new Kl(n))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,n){this._domToViewMapping.set(e,n),this._viewToDomMapping.set(n,e)}unbindDomElement(e){const n=this._domToViewMapping.get(e);if(n){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(n);for(const s of e.children)this.unbindDomElement(s)}}bindDocumentFragments(e,n){this._domToViewMapping.set(e,n),this._viewToDomMapping.set(n,e)}shouldRenderAttribute(e,n,s){return this.renderingMode==="data"||!(e=e.toLowerCase()).startsWith("on")&&(e!=="srcdoc"||!n.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(s==="img"&&(e==="src"||e==="srcset")||s==="source"&&e==="srcset"||!n.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,n){if(this.renderingMode==="data")return void(e.innerHTML=n);const s=new DOMParser().parseFromString(n,"text/html"),l=s.createDocumentFragment(),f=s.body.childNodes;for(;f.length>0;)l.appendChild(f[0]);const b=s.createTreeWalker(l,NodeFilter.SHOW_ELEMENT),y=[];let S;for(;S=b.nextNode();)y.push(S);for(const T of y){for(const P of T.getAttributeNames())this.setDomElementAttribute(T,P,T.getAttribute(P));const B=T.tagName.toLowerCase();this._shouldRenameElement(B)&&(Wk(B),T.replaceWith(this._createReplacementDomElement(B,T)))}for(;e.firstChild;)e.firstChild.remove();e.append(l)}viewToDom(e,n={}){if(e.is("$text")){const s=this._processDataFromViewText(e);return this._domDocument.createTextNode(s)}{const s=e;if(this.mapViewToDom(s)){if(!s.getCustomProperty("editingPipeline:doNotReuseOnce"))return this.mapViewToDom(s);this._elementsWithTemporaryCustomProperties.add(s)}let l;if(s.is("documentFragment"))l=this._domDocument.createDocumentFragment(),n.bind&&this.bindDocumentFragments(l,s);else{if(s.is("uiElement"))return l=s.name==="$comment"?this._domDocument.createComment(s.getCustomProperty("$rawContent")):s.render(this._domDocument,this),n.bind&&this.bindElements(l,s),l;this._shouldRenameElement(s.name)?(Wk(s.name),l=this._createReplacementDomElement(s.name)):l=s.hasAttribute("xmlns")?this._domDocument.createElementNS(s.getAttribute("xmlns"),s.name):this._domDocument.createElement(s.name),s.is("rawElement")&&s.render(l,this),n.bind&&this.bindElements(l,s);for(const f of s.getAttributeKeys())this.setDomElementAttribute(l,f,s.getAttribute(f),s)}if(n.withChildren!==!1)for(const f of this.viewChildrenToDom(s,n))l instanceof HTMLTemplateElement?l.content.appendChild(f):l.appendChild(f);return l}}setDomElementAttribute(e,n,s,l){const f=this.shouldRenderAttribute(n,s,e.tagName.toLowerCase())||l&&l.shouldRenderUnsafeAttribute(n);f||q("domconverter-unsafe-attribute-detected",{domElement:e,key:n,value:s}),function(b){try{p.document.createAttribute(b)}catch{return!1}return!0}(n)?(e.hasAttribute(n)&&!f?e.removeAttribute(n):e.hasAttribute(Lb+n)&&f&&e.removeAttribute(Lb+n),e.setAttribute(f?n:Lb+n,s)):q("domconverter-invalid-attribute-detected",{domElement:e,key:n,value:s})}removeDomElementAttribute(e,n){n!=Hk&&(e.removeAttribute(n),e.removeAttribute(Lb+n))}*viewChildrenToDom(e,n={}){const s=e.getFillerOffset&&e.getFillerOffset();let l=0;for(const f of e.getChildren()){s===l&&(yield this._getBlockFiller());const b=f.is("element")&&!!f.getCustomProperty("dataPipeline:transparentRendering")&&!Po(f.getAttributes());if(b&&this.renderingMode=="data")if(f.is("rawElement")){const y=this._domDocument.createElement(f.name);f.render(y,this),yield*[...y.childNodes]}else yield*this.viewChildrenToDom(f,n);else b&&q("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:f}),yield this.viewToDom(f,n);l++}s===l&&(yield this._getBlockFiller())}viewRangeToDom(e){const n=this.viewPositionToDom(e.start),s=this.viewPositionToDom(e.end),l=this._domDocument.createRange();return l.setStart(n.parent,n.offset),l.setEnd(s.parent,s.offset),l}viewPositionToDom(e){const n=e.parent;if(n.is("$text")){const s=this.findCorrespondingDomText(n);if(!s)return null;let l=e.offset;return $a(s)&&(l+=7),{parent:s,offset:l}}{let s,l,f;if(e.offset===0){if(s=this.mapViewToDom(n),!s)return null;f=s.childNodes[0]}else{const b=e.nodeBefore;if(l=b.is("$text")?this.findCorrespondingDomText(b):this.mapViewToDom(b),!l)return null;s=l.parentNode,f=l.nextSibling}return Hn(f)&&$a(f)?{parent:f,offset:7}:{parent:s,offset:l?Nc(l)+1:0}}}domToView(e,n={}){const s=[],l=this._domToView(e,n,s),f=l.next().value;return f?(l.next(),this._processDomInlineNodes(null,s,n),this.blockFillerMode=="br"&&IA(f)||f.is("$text")&&f.data.length==0?null:f):null}*domChildrenToView(e,n={},s=[]){let l=[];l=e instanceof HTMLTemplateElement?[...e.content.childNodes]:[...e.childNodes];for(let f=0;f<l.length;f++){const b=l[f],y=this._domToView(b,n,s),S=y.next().value;S!==null&&(this._isBlockViewElement(S)&&this._processDomInlineNodes(e,s,n),this.blockFillerMode=="br"&&IA(S)||(yield S),y.next())}this._processDomInlineNodes(e,s,n)}domSelectionToView(e){if(function(l){if(!w.isGecko||!l.rangeCount)return!1;const f=l.getRangeAt(0).startContainer;try{Object.prototype.toString.call(f)}catch{return!0}return!1}(e))return new Kl([]);if(e.rangeCount===1){let l=e.getRangeAt(0).startContainer;Hn(l)&&(l=l.parentNode);const f=this.fakeSelectionToView(l);if(f)return f}const n=this.isDomSelectionBackward(e),s=[];for(let l=0;l<e.rangeCount;l++){const f=e.getRangeAt(l),b=this.domRangeToView(f);b&&s.push(b)}return new Kl(s,{backward:n})}domRangeToView(e){const n=this.domPositionToView(e.startContainer,e.startOffset),s=this.domPositionToView(e.endContainer,e.endOffset);return n&&s?new Nn(n,s):null}domPositionToView(e,n=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,Nc(e));const s=this.mapDomToView(e);if(s&&(s.is("uiElement")||s.is("rawElement")))return Kt._createBefore(s);if(Hn(e)){if(Rf(e))return this.domPositionToView(e.parentNode,Nc(e));const l=this.findCorrespondingViewText(e);let f=n;return l?($a(e)&&(f-=7,f=f<0?0:f),new Kt(l,f)):null}if(n===0){const l=this.mapDomToView(e);if(l)return new Kt(l,0)}else{const l=e.childNodes[n-1];if(Hn(l)&&Rf(l)||l&&this.isBlockFiller(l))return this.domPositionToView(l.parentNode,Nc(l));const f=Hn(l)?this.findCorrespondingViewText(l):this.mapDomToView(l);if(f&&f.parent)return new Kt(f.parent,f.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(Rf(e))return null;const n=this.getHostViewElement(e);if(n)return n;const s=e.previousSibling;if(s){if(!this.isElement(s))return null;const l=this.mapDomToView(s);if(l){const f=l.nextSibling;return f instanceof eo?f:null}}else{const l=this.mapDomToView(e.parentNode);if(l){const f=l.getChild(0);return f instanceof eo?f:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const n=e.previousSibling;return n&&this.mapViewToDom(n)?this.mapViewToDom(n).nextSibling:!n&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const n=this.mapViewToDom(e);if(n&&n.ownerDocument.activeElement!==n){const{scrollX:s,scrollY:l}=p.window,f=[];$k(n,b=>{const{scrollLeft:y,scrollTop:S}=b;f.push([y,S])}),n.focus(),$k(n,b=>{const[y,S]=f.shift();b.scrollLeft=y,b.scrollTop=S}),p.window.scrollTo(s,l)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const n=e.ownerDocument.defaultView.getSelection(),s=this.domSelectionToView(n);s&&s.rangeCount>0&&n.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(DA):!!TA(e,this.blockElements)||e.isEqualNode(Vk)||function(n,s){return n.isEqualNode(Bd)&&mg(n,s)&&n.parentNode.childNodes.length===1}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const n=this._domDocument.createRange();try{n.setStart(e.anchorNode,e.anchorOffset),n.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const s=n.collapsed;return n.detach(),s}getHostViewElement(e){const n=fr(e);for(n.pop();n.length;){const s=n.pop(),l=this._domToViewMapping.get(s);if(l&&(l.is("uiElement")||l.is("rawElement")))return l}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_clearTemporaryCustomProperties(){for(const e of this._elementsWithTemporaryCustomProperties)e._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return Rk(this._domDocument);case"markedNbsp":return fg(this._domDocument);case"br":return Bb(this._domDocument)}}_isDomSelectionPositionCorrect(e,n){if(Hn(e)&&$a(e)&&n<7||this.isElement(e)&&$a(e.childNodes[n]))return!1;const s=this.mapDomToView(e);return!s||!s.is("uiElement")&&!s.is("rawElement")}*_domToView(e,n,s){if(this.blockFillerMode!="br"&&TA(e,this.blockElements))return null;const l=this.getHostViewElement(e);if(l)return l;if(ka(e)&&n.skipComments)return null;if(Hn(e)){if(Rf(e))return null;{const f=e.data;if(f==="")return null;const b=new eo(this.document,f);return s.push(b),b}}{let f=this.mapDomToView(e);if(f)return this._isInlineObjectElement(f)&&s.push(f),f;if(this.isDocumentFragment(e))f=new Od(this.document),n.bind&&this.bindDocumentFragments(e,f);else{f=this._createViewElement(e,n),n.bind&&this.bindElements(e,f);const y=e.attributes;if(y)for(let S=y.length,T=0;T<S;T++)f._setAttribute(y[T].name,y[T].value);if(this._isViewElementWithRawContent(f,n))return f._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(f)||s.push(f),f;if(ka(e))return f._setCustomProperty("$rawContent",e.data),f}yield f;const b=[];if(n.withChildren!==!1)for(const y of this.domChildrenToView(e,n,b))f._appendChild(y);if(this._isInlineObjectElement(f))s.push(f),this._processDomInlineNodes(null,b,n);else for(const y of b)s.push(y)}}_processDomInlineNodes(e,n,s){if(!n.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let l=!1;for(let f=0;f<n.length;f++){const b=n[f];if(!b.is("$text")){l=!1;continue}let y,S=!1;if(this._isPreFormatted(b))y=jb(b.data);else{y=b.data.replace(/[ \n\t\r]{1,}/g," "),S=/[^\S\u00A0]/.test(y.charAt(y.length-1));const T=f>0?n[f-1]:null,B=f+1<n.length?n[f+1]:null,P=!T||T.is("element")&&T.name=="br"||l,W=!B&&!$a(b.data);s.withChildren!==!1&&(P&&(y=y.replace(/^ /,"")),W&&(y=y.replace(/ $/,""))),y=jb(y),this.blockFillerMode!="br"&&b.parent&&(to(b.parent,y)?(y="",b.parent.parent&&(b.parent.parent._setCustomProperty("$hasBlockFiller",!0),b.parent._remove())):gg(b.parent,y,this.blockElements)&&(y="",b.parent._setCustomProperty("$hasBlockFiller",!0))),y=y.replace(/ \u00A0/g,"  ");const ee=B&&B.is("element")&&B.name!="br",ne=B&&B.is("$text")&&B.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(y)||!B||ee||ne)&&(y=y.replace(/\u00A0$/," ")),(P||T&&T.is("element")&&T.name!="br")&&(y=y.replace(/^\u00A0/," "))}y.length==0&&b.parent?(b._remove(),n.splice(f,1),f--):(b._data=y,l=S)}n.length=0}_processDataFromViewText(e){let n=e.data;if(this._isPreFormatted(e))return n;if(n.charAt(0)==" "){const s=this._getTouchingInlineViewNode(e,!1);!(s&&s.is("$textProxy")&&this._nodeEndsWithSpace(s))&&s||(n=""+n.substr(1))}if(n.charAt(n.length-1)==" "){const s=this._getTouchingInlineViewNode(e,!0),l=s&&s.is("$textProxy")&&s.data.charAt(0)==" ";n.charAt(n.length-2)!=" "&&s&&!l||(n=n.substr(0,n.length-1)+"")}return n.replace(/ {2}/g," ")}_nodeEndsWithSpace(e){if(this._isPreFormatted(e))return!1;const n=this._processDataFromViewText(e);return n.charAt(n.length-1)==" "}_isPreFormatted(e){if(function(n,s){return n.getAncestors().some(l=>l.is("element")&&s.includes(l.name))}(e,this.preElements))return!0;for(const n of e.getAncestors({parentFirst:!0}))if(n.is("element")&&n.hasStyle("white-space")&&n.getStyle("white-space")!=="inherit")return["pre","pre-wrap","break-spaces"].includes(n.getStyle("white-space"));return!1}_getTouchingInlineViewNode(e,n){const s=new Ou({startPosition:n?Kt._createAfter(e):Kt._createBefore(e),direction:n?"forward":"backward"});for(const{item:l}of s){if(l.is("$textProxy"))return l;if(!l.is("element")||!l.getCustomProperty("dataPipeline:transparentRendering")){if(l.is("element","br"))return null;if(this._isInlineObjectElement(l))return l;if(l.is("containerElement"))return null}}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return!!e.is("element")&&(e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e))}_createViewElement(e,n){if(ka(e))return new hg(this.document,"$comment");const s=n.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new qa(this.document,s)}_isViewElementWithRawContent(e,n){return n.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const n=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(n)}_createReplacementDomElement(e,n){const s=this._domDocument.createElement("span");if(s.setAttribute(Hk,e),n){for(;n.firstChild;)s.appendChild(n.firstChild);for(const l of n.getAttributeNames())s.setAttribute(l,n.getAttribute(l))}return s}}function $k(u,e){let n=u;for(;n;)e(n),n=n.parentElement}function mg(u,e){const n=u.parentNode;return!!n&&!!n.tagName&&e.includes(n.tagName.toLowerCase())}function gg(u,e,n){return e==""&&u&&u.is("element")&&u.childCount==1&&n.includes(u.name)}function to(u,e){return e==""&&u&&u.is("element","span")&&u.childCount==1&&u.hasAttribute("data-cke-filler")}function IA(u){return u.is("element","br")&&u.hasAttribute("data-cke-filler")}function TA(u,e){return u.tagName==="BR"&&mg(u,e)&&u.parentNode.childNodes.length===1}function Wk(u){u==="script"&&q("domconverter-unsafe-script-element-detected"),u==="style"&&q("domconverter-unsafe-style-element-detected")}class Wa extends jo(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!(!e||e.nodeType!==1)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}var Ch=Ab(function(u,e){Ol(e,fl(e),u)});const Gk=Ch;class Ff{constructor(e,n,s){this.view=e,this.document=e.document,this.domEvent=n,this.domTarget=n.target,Gk(this,s)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class bl extends Wa{constructor(){super(...arguments),this.useCapture=!1,this.usePassive=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(n=>{this.listenTo(e,n,(s,l)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(l.target)&&this.onDomEvent(l)},{useCapture:this.useCapture,usePassive:this.usePassive})})}stopObserving(e){this.stopListening(e)}fire(e,n,s){this.isEnabled&&this.document.fire(e,new Ff(this.view,n,s))}}class Lu extends bl{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const n={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return $s(this)}};this.fire(e.type,e,n)}}const Pb=function(){return Gt.Date.now()};var Yk=/\s/;const MA=function(u){for(var e=u.length;e--&&Yk.test(u.charAt(e)););return e};var Kk=/^\s+/;const Qk=function(u){return u&&u.slice(0,MA(u)+1).replace(Kk,"")};var Rb=/^[-+]0x[0-9a-f]+$/i,NA=/^0b[01]+$/i,jd=/^0o[0-7]+$/i,So=parseInt;const Fb=function(u){if(typeof u=="number")return u;if(Du(u))return NaN;if(Ge(u)){var e=typeof u.valueOf=="function"?u.valueOf():u;u=Ge(e)?e+"":e}if(typeof u!="string")return u===0?u:+u;u=Qk(u);var n=NA.test(u);return n||jd.test(u)?So(u.slice(2),n?2:8):Rb.test(u)?NaN:+u};var OA=Math.max,Cs=Math.min;const zf=function(u,e,n){var s,l,f,b,y,S,T=0,B=!1,P=!1,W=!0;if(typeof u!="function")throw new TypeError("Expected a function");function ee(qe){var tt=s,Et=l;return s=l=void 0,T=qe,b=u.apply(Et,tt)}function ne(qe){var tt=qe-S;return S===void 0||tt>=e||tt<0||P&&qe-T>=f}function le(){var qe=Pb();if(ne(qe))return Ce(qe);y=setTimeout(le,function(tt){var Et=e-(tt-S);return P?Cs(Et,f-(tt-T)):Et}(qe))}function Ce(qe){return y=void 0,W&&s?ee(qe):(s=l=void 0,b)}function Me(){var qe=Pb(),tt=ne(qe);if(s=arguments,l=this,S=qe,tt){if(y===void 0)return function(Et){return T=Et,y=setTimeout(le,e),B?ee(Et):b}(S);if(P)return clearTimeout(y),y=setTimeout(le,e),ee(S)}return y===void 0&&(y=setTimeout(le,e)),b}return e=Fb(e)||0,Ge(n)&&(B=!!n.leading,f=(P="maxWait"in n)?OA(Fb(n.maxWait)||0,e):f,W="trailing"in n?!!n.trailing:W),Me.cancel=function(){y!==void 0&&clearTimeout(y),T=0,s=S=l=y=void 0},Me.flush=function(){return y===void 0?b:Ce(Pb())},Me};class BA extends Wa{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=zf(n=>{this.document.fire("selectionChangeDone",n)},200)}observe(){const e=this.document;e.on("arrowKey",(n,s)=>{e.selection.isFake&&this.isEnabled&&s.preventDefault()},{context:"$capture"}),e.on("arrowKey",(n,s)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(s.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const n=this.document.selection,s=new Kl(n.getRanges(),{backward:n.isBackward,fake:!1});e!=ln.arrowleft&&e!=ln.arrowup||s.setTo(s.getFirstPosition()),e!=ln.arrowright&&e!=ln.arrowdown||s.setTo(s.getLastPosition());const l={oldSelection:n,newSelection:s,domSelection:null};this.document.fire("selectionChange",l),this._fireSelectionChangeDoneDebounced(l)}}const jA=function(u){return this.__data__.set(u,"__lodash_hash_undefined__"),this},$i=function(u){return this.__data__.has(u)};function Qs(u){var e=-1,n=u==null?0:u.length;for(this.__data__=new fu;++e<n;)this.add(u[e])}Qs.prototype.add=Qs.prototype.push=jA,Qs.prototype.has=$i;const Ld=Qs,LA=function(u,e){for(var n=-1,s=u==null?0:u.length;++n<s;)if(e(u[n],n,u))return!0;return!1},PA=function(u,e){return u.has(e)},RA=function(u,e,n,s,l,f){var b=1&n,y=u.length,S=e.length;if(y!=S&&!(b&&S>y))return!1;var T=f.get(u),B=f.get(e);if(T&&B)return T==e&&B==u;var P=-1,W=!0,ee=2&n?new Ld:void 0;for(f.set(u,e),f.set(e,u);++P<y;){var ne=u[P],le=e[P];if(s)var Ce=b?s(le,ne,P,e,u,f):s(ne,le,P,u,e,f);if(Ce!==void 0){if(Ce)continue;W=!1;break}if(ee){if(!LA(e,function(Me,qe){if(!PA(ee,qe)&&(ne===Me||l(ne,Me,n,s,f)))return ee.push(qe)})){W=!1;break}}else if(ne!==le&&!l(ne,le,n,s,f)){W=!1;break}}return f.delete(u),f.delete(e),W},Zk=function(u){var e=-1,n=Array(u.size);return u.forEach(function(s,l){n[++e]=[l,s]}),n},kl=function(u){var e=-1,n=Array(u.size);return u.forEach(function(s){n[++e]=s}),n};var Jl=yt?yt.prototype:void 0,zb=Jl?Jl.valueOf:void 0;const wl=function(u,e,n,s,l,f,b){switch(n){case"[object DataView]":if(u.byteLength!=e.byteLength||u.byteOffset!=e.byteOffset)return!1;u=u.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(u.byteLength!=e.byteLength||!f(new xc(u),new xc(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Mr(+u,+e);case"[object Error]":return u.name==e.name&&u.message==e.message;case"[object RegExp]":case"[object String]":return u==e+"";case"[object Map]":var y=Zk;case"[object Set]":var S=1&s;if(y||(y=kl),u.size!=e.size&&!S)return!1;var T=b.get(u);if(T)return T==e;s|=2,b.set(u,e);var B=RA(y(u),y(e),s,l,f,b);return b.delete(u),B;case"[object Symbol]":if(zb)return zb.call(u)==zb.call(e)}return!1};var FA=Object.prototype.hasOwnProperty;const xh=function(u,e,n,s,l,f){var b=1&n,y=hr(u),S=y.length;if(S!=hr(e).length&&!b)return!1;for(var T=S;T--;){var B=y[T];if(!(b?B in e:FA.call(e,B)))return!1}var P=f.get(u),W=f.get(e);if(P&&W)return P==e&&W==u;var ee=!0;f.set(u,e),f.set(e,u);for(var ne=b;++T<S;){var le=u[B=y[T]],Ce=e[B];if(s)var Me=b?s(Ce,le,B,e,u,f):s(le,Ce,B,u,e,f);if(!(Me===void 0?le===Ce||l(le,Ce,n,s,f):Me)){ee=!1;break}ne||(ne=B=="constructor")}if(ee&&!ne){var qe=u.constructor,tt=e.constructor;qe==tt||!("constructor"in u)||!("constructor"in e)||typeof qe=="function"&&qe instanceof qe&&typeof tt=="function"&&tt instanceof tt||(ee=!1)}return f.delete(u),f.delete(e),ee};var Sh="[object Arguments]",Pd="[object Array]",qp="[object Object]",Ub=Object.prototype.hasOwnProperty;const Pu=function(u,e,n,s,l,f){var b=wr(u),y=wr(e),S=b?Pd:Oa(u),T=y?Pd:Oa(e),B=(S=S==Sh?qp:S)==qp,P=(T=T==Sh?qp:T)==qp,W=S==T;if(W&&ta(u)){if(!ta(e))return!1;b=!0,B=!1}if(W&&!B)return f||(f=new ea),b||vf(u)?RA(u,e,n,s,l,f):wl(u,e,S,n,s,l,f);if(!(1&n)){var ee=B&&Ub.call(u,"__wrapped__"),ne=P&&Ub.call(e,"__wrapped__");if(ee||ne){var le=ee?u.value():u,Ce=ne?e.value():e;return f||(f=new ea),l(le,Ce,n,s,f)}}return!!W&&(f||(f=new ea),xh(u,e,n,s,l,f))},bg=function u(e,n,s,l,f){return e===n||(e==null||n==null||!mr(e)&&!mr(n)?e!=e&&n!=n:Pu(e,n,s,l,u,f))},Vp=function(u,e,n){var s=(n=typeof n=="function"?n:void 0)?n(u,e):void 0;return s===void 0?bg(u,e,void 0,n):!!s};class Hp extends Wa{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const n of this._domElements)this._mutationObserver.observe(n,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const n=this.domConverter,s=new Set,l=new Set;for(const b of e){const y=n.mapDomToView(b.target);y&&(y.is("uiElement")||y.is("rawElement")||b.type!=="childList"||this._isBogusBrMutation(b)||l.add(y))}for(const b of e){const y=n.mapDomToView(b.target);if((!y||!y.is("uiElement")&&!y.is("rawElement"))&&b.type==="characterData"){const S=n.findCorrespondingViewText(b.target);S&&!l.has(S.parent)?s.add(S):!S&&$a(b.target)&&l.add(n.mapDomToView(b.target.parentNode))}}const f=[];for(const b of s)f.push({type:"text",node:b});for(const b of l){const y=n.mapViewToDom(b),S=Array.from(b.getChildren()),T=Array.from(n.domChildrenToView(y,{withChildren:!1}));Vp(S,T,kg)||f.push({type:"children",node:b})}f.length&&this.document.fire("mutations",{mutations:f})}_isBogusBrMutation(e){let n=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(n=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),n&&n.is("element","br")}}function kg(u,e){if(!Array.isArray(u))return u===e||!(!u.is("$text")||!e.is("$text"))&&u.data===e.data}class Rd extends bl{constructor(e){super(e),this._renderTimeoutId=null,this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const n=this.document;n.on("focus",()=>this._handleFocus()),n.on("blur",(s,l)=>this._handleBlur(l)),n.on("beforeinput",()=>{n.isFocused||this._handleFocus()},{priority:"highest"})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._clearTimeout(),super.destroy()}_handleFocus(){this._clearTimeout(),this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this._renderTimeoutId=null,this.flush(),this.view.change(()=>{})},50)}_handleBlur(e){const n=this.document.selection.editableElement;n!==null&&n!==e.target||(this.document.isFocused=!1,this._isFocusChanging=!1,this.view.change(()=>{}))}_clearTimeout(){this._renderTimeoutId&&(clearTimeout(this._renderTimeoutId),this._renderTimeoutId=null)}}class zA extends Wa{constructor(e){super(e),this.mutationObserver=e.getObserver(Hp),this.focusObserver=e.getObserver(Rd),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=zf(n=>{this.document.fire("selectionChangeDone",n)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=zf(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const n=e.ownerDocument,s=()=>{this.document.isSelecting&&(this._handleSelectionChange(n),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(e,"keydown",s,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",s,{priority:"highest",useCapture:!0}),this._documents.has(n)||(this.listenTo(n,"mouseup",s,{priority:"highest",useCapture:!0}),this.listenTo(n,"selectionchange",()=>{this.document.isComposing&&!w.isAndroid||(this._handleSelectionChange(n),this._documentIsSelectingInactivityTimeoutDebounced())}),this.listenTo(this.view.document,"compositionstart",()=>{this._handleSelectionChange(n)},{priority:"lowest"}),this._documents.add(n))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e){if(!this.isEnabled)return;const n=e.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(n.anchorNode))return;this.mutationObserver.flush();const s=this.domConverter.domSelectionToView(n);if(s.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(s)||!this.domConverter.isDomSelectionCorrect(n))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(s))this.view.forceRender();else{const l={oldSelection:this.selection,newSelection:s,domSelection:n};this.document.fire("selectionChange",l),this._fireSelectionChangeDoneDebounced(l)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class UA extends bl{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const n=this.document;n.on("compositionstart",()=>{n.isComposing=!0},{priority:"low"}),n.on("compositionend",()=>{n.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class $p{constructor(e,n={}){this._files=n.cacheFiles?Jk(e):null,this._native=e}get files(){return this._files||(this._files=Jk(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,n){this._native.setData(e,n)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,n,s){this._native.setDragImage(e,n,s)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function Jk(u){const e=Array.from(u.files||[]),n=Array.from(u.items||[]);return e.length?e:n.filter(s=>s.kind==="file").map(s=>s.getAsFile())}class qb extends bl{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const n=e.getTargetRanges(),s=this.view,l=s.document;let f=null,b=null,y=[];if(e.dataTransfer&&(f=new $p(e.dataTransfer)),e.data!==null?b=e.data:f&&(b=f.getData("text/plain")),l.selection.isFake)y=Array.from(l.selection.getRanges());else if(n.length)y=n.map(S=>{const T=s.domConverter.domPositionToView(S.startContainer,S.startOffset),B=s.domConverter.domPositionToView(S.endContainer,S.endOffset);return T?s.createRange(T,B):B?s.createRange(B):void 0}).filter(S=>!!S);else if(w.isAndroid){const S=e.target.ownerDocument.defaultView.getSelection();y=Array.from(s.domConverter.domSelectionToView(S).getRanges())}if(w.isAndroid&&e.inputType=="insertCompositionText"&&b&&b.endsWith(`
`))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[s.createRange(y[0].end)]});else if(e.inputType=="insertText"&&b&&b.includes(`
`)){const S=b.split(/\n{1,2}/g);let T=y;for(let B=0;B<S.length;B++){const P=S[B];P!=""&&(this.fire(e.type,e,{data:P,dataTransfer:f,targetRanges:T,inputType:e.inputType,isComposing:e.isComposing}),T=[l.selection.getFirstRange()]),B+1<S.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:T}),T=[l.selection.getFirstRange()])}}else this.fire(e.type,e,{data:b,dataTransfer:f,targetRanges:y,inputType:e.inputType,isComposing:e.isComposing})}}class qA extends Wa{constructor(e){super(e),this.document.on("keydown",(n,s)=>{if(this.isEnabled&&((l=s.keyCode)==ln.arrowright||l==ln.arrowleft||l==ln.arrowup||l==ln.arrowdown)){const f=new ya(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(f,s),f.stop.called&&n.stop()}var l})}observe(){}stopObserving(){}}class cS extends Wa{constructor(e){super(e);const n=this.document;n.on("keydown",(s,l)=>{if(!this.isEnabled||l.keyCode!=ln.tab||l.ctrlKey)return;const f=new ya(n,"tab",n.selection.getFirstRange());n.fire(f,l),f.stop.called&&s.stop()})}observe(){}stopObserving(){}}const Hc=function(u){return La(u,5)};class ii extends Ae(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new Lp(e),this.domConverter=new Zl(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new zk(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new jk(this.document),this.addObserver(Hp),this.addObserver(Rd),this.addObserver(zA),this.addObserver(Lu),this.addObserver(BA),this.addObserver(UA),this.addObserver(qA),this.addObserver(qb),this.addObserver(cS),this.document.on("arrowKey",Fk,{priority:"low"}),_A(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),w.isiOS&&this.listenTo(this.document,"blur",(n,s)=>{this.domConverter.mapDomToView(s.domEvent.relatedTarget)||this.domConverter._clearDomSelection()}),this.listenTo(this.document,"mutations",(n,{mutations:s})=>{s.forEach(l=>this._renderer.markToSync(l.type,l.node))},{priority:"low"}),this.listenTo(this.document,"mutations",()=>{this.forceRender()},{priority:"lowest"})}attachDomRoot(e,n="main"){const s=this.document.getRoot(n);s._name=e.tagName.toLowerCase();const l={};for(const{name:b,value:y}of Array.from(e.attributes))l[b]=y,b==="class"?this._writer.addClass(y.split(" "),s):s.hasAttribute(b)||this._writer.setAttribute(b,y,s);this._initialDomRootAttributes.set(e,l);const f=()=>{this._writer.setAttribute("contenteditable",(!s.isReadOnly).toString(),s),s.isReadOnly?this._writer.addClass("ck-read-only",s):this._writer.removeClass("ck-read-only",s)};f(),this.domRoots.set(n,e),this.domConverter.bindElements(e,s),this._renderer.markToSync("children",s),this._renderer.markToSync("attributes",s),this._renderer.domDocuments.add(e.ownerDocument),s.on("change:children",(b,y)=>this._renderer.markToSync("children",y)),s.on("change:attributes",(b,y)=>this._renderer.markToSync("attributes",y)),s.on("change:text",(b,y)=>this._renderer.markToSync("text",y)),s.on("change:isReadOnly",()=>this.change(f)),s.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const b of this._observers.values())b.observe(e,n)}detachDomRoot(e){const n=this.domRoots.get(e);Array.from(n.attributes).forEach(({name:l})=>n.removeAttribute(l));const s=this._initialDomRootAttributes.get(n);for(const l in s)n.setAttribute(l,s[l]);this.domRoots.delete(e),this.domConverter.unbindDomElement(n);for(const l of this._observers.values())l.stopObserving(n)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let n=this._observers.get(e);if(n)return n;n=new e(this),this._observers.set(e,n);for(const[s,l]of this.domRoots)n.observe(l,s);return n.enable(),n}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:n,viewportOffset:s=20,ancestorOffset:l=20}={}){const f=this.document.selection.getFirstRange();if(!f)return;const b=Hc({alignToTop:e,forceScroll:n,viewportOffset:s,ancestorOffset:l});typeof s=="number"&&(s={top:s,bottom:s,left:s,right:s});const y={target:this.domConverter.viewRangeToDom(f),viewportOffset:s,ancestorOffset:l,alignToTop:e,forceScroll:n};this.fire("scrollToTheSelection",y,b),function({target:S,viewportOffset:T=0,ancestorOffset:B=0,alignToTop:P,forceScroll:W}){const ee=Bc(S);let ne=ee,le=null;for(T=function(Ce){return typeof Ce=="number"?{top:Ce,bottom:Ce,left:Ce,right:Ce}:Ce}(T);ne;){let Ce;Ce=vb(ne==ee?S:le),Ra({parent:Ce,getRect:()=>_d(S,ne),alignToTop:P,ancestorOffset:B,forceScroll:W});let Me=_d(S,ne);const qe=_d(Ce,ne);if(Me.height>qe.height){const tt=Me.getIntersection(qe);tt&&(Me=tt)}if(_p({window:ne,rect:Me,viewportOffset:T,alignToTop:P,forceScroll:W}),ne.parent!=ne){if(le=ne.frameElement,ne=ne.parent,!le)return}else ne=null}}(y)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new U("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const n=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),n}catch(n){U.rethrowUnexpectedError(n,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Rd).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,n){return Kt._createAt(e,n)}createPositionAfter(e){return Kt._createAfter(e)}createPositionBefore(e){return Kt._createBefore(e)}createRange(e,n){return new Nn(e,n)}createRangeOn(e){return Nn._createOn(e)}createRangeIn(e){return Nn._createIn(e)}createSelection(...e){return new Kl(...e)}_disableRendering(e){this._renderingDisabled=e,e==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Br{is(){throw new Error("is() method is abstract")}}class zn extends Br{constructor(e,n,s){if(super(),this.textNode=e,n<0||n>e.offsetSize)throw new U("model-textproxy-wrong-offsetintext",this);if(s<0||n+s>e.offsetSize)throw new U("model-textproxy-wrong-length",this);this.data=e.data.substring(n,n+s),this.offsetInText=n}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const n=[];let s=e.includeSelf?this:this.parent;for(;s;)n[e.parentFirst?"push":"unshift"](s),s=s.parent;return n}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}zn.prototype.is=function(u){return u==="$textProxy"||u==="model:$textProxy"||u==="textProxy"||u==="model:textProxy"};class Qn{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new U("model-tree-walker-no-start-position",null);const n=e.direction||"forward";if(n!="forward"&&n!="backward")throw new U("model-tree-walker-unknown-direction",e,{direction:n});this.direction=n,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=Ot._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let n,s,l,f;do l=this.position,f=this._visitedParent,{done:n,value:s}=this.next();while(!n&&e(s));n||(this._position=l,this._visitedParent=f)}jumpTo(e){this._boundaryStartParent&&e.isBefore(this.boundaries.start)?e=this.boundaries.start:this._boundaryEndParent&&e.isAfter(this.boundaries.end)&&(e=this.boundaries.end),this._position=e.clone(),this._visitedParent=e.parent}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,n=this.position.clone(),s=this._visitedParent;if(s.parent===null&&n.offset===s.maxOffset)return{done:!0,value:void 0};if(s===this._boundaryEndParent&&n.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const l=Xl(n,s),f=l||Uf(n,s,l);if(f&&f.is("model:element")){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(n))return{done:!0,value:void 0};n.offset++}else n.path.push(0),this._visitedParent=f;return this._position=n,Cr("elementStart",f,e,n,1)}if(f&&f.is("model:$text")){let b;if(this.singleCharacters)b=1;else{let T=f.endOffset;this._boundaryEndParent==s&&this.boundaries.end.offset<T&&(T=this.boundaries.end.offset),b=T-n.offset}const y=n.offset-f.startOffset,S=new zn(f,y,b);return n.offset+=b,this._position=n,Cr("text",S,e,n,b)}return n.path.pop(),n.offset++,this._position=n,this._visitedParent=s.parent,this.ignoreElementEnd?this._next():Cr("elementEnd",s,e,n)}_previous(){const e=this.position,n=this.position.clone(),s=this._visitedParent;if(s.parent===null&&n.offset===0)return{done:!0,value:void 0};if(s==this._boundaryStartParent&&n.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const l=n.parent,f=Xl(n,l),b=f||Vb(n,l,f);if(b&&b.is("model:element"))return n.offset--,this.shallow?(this._position=n,Cr("elementStart",b,e,n,1)):(n.path.push(b.maxOffset),this._position=n,this._visitedParent=b,this.ignoreElementEnd?this._previous():Cr("elementEnd",b,e,n));if(b&&b.is("model:$text")){let y;if(this.singleCharacters)y=1;else{let B=b.startOffset;this._boundaryStartParent==s&&this.boundaries.start.offset>B&&(B=this.boundaries.start.offset),y=n.offset-B}const S=n.offset-b.startOffset,T=new zn(b,S-y,y);return n.offset-=y,this._position=n,Cr("text",T,e,n,y)}return n.path.pop(),this._position=n,this._visitedParent=s.parent,Cr("elementStart",s,e,n,1)}}function Cr(u,e,n,s,l){return{done:!1,value:{type:u,item:e,previousPosition:n,nextPosition:s,length:l}}}class Ot extends Br{constructor(e,n,s="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new U("model-position-root-invalid",e);if(!Array.isArray(n)||n.length===0)throw new U("model-position-path-incorrect-format",e,{path:n});e.is("rootElement")?n=n.slice():(n=[...e.getPath(),...n],e=e.root),this.root=e,this.path=n,this.stickiness=s}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let n=0;n<this.path.length-1;n++)if(e=e.getChildAtOffset(this.path[n]),!e)throw new U("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new U("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Xl(this,this.parent)}get nodeAfter(){const e=this.parent;return Uf(this,e,Xl(this,e))}get nodeBefore(){const e=this.parent;return Vb(this,e,Xl(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}isValid(){if(this.offset<0)return!1;let e=this.root;for(let n=0;n<this.path.length-1;n++)if(e=e.getChildAtOffset(this.path[n]),!e)return!1;return this.offset<=e.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const n=pt(this.path,e.path);switch(n){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[n]<e.path[n]?"before":"after"}}getLastMatchingPosition(e,n={}){n.startPosition=this;const s=new Qn(n);return s.skip(e),s.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const n=this.parent;return n.is("element")?n.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const n=pt(this.path,e.path),s=typeof n=="string"?Math.min(this.path.length,e.path.length):n;return this.path.slice(0,s)}getCommonAncestor(e){const n=this.getAncestors(),s=e.getAncestors();let l=0;for(;n[l]==s[l]&&n[l];)l++;return l===0?null:n[l-1]}getShiftedBy(e){const n=this.clone(),s=n.offset+e;return n.offset=s<0?0:s,n}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const n=Math.min(this.path.length,e.path.length);for(let s=0;s<n;s++){const l=this.path[s]-e.path[s];if(l<-1||l>1)return!1;if(l===1)return Ru(e,this,s);if(l===-1)return Ru(this,e,s)}return this.path.length===e.path.length||(this.path.length>e.path.length?Wi(this.path,n):Wi(e.path,n))}hasSameParentAs(e){return this.root!==e.root?!1:pt(this.getParentPath(),e.getParentPath())=="same"}getTransformedByOperation(e){let n;switch(e.type){case"insert":n=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":n=this._getTransformedByMoveOperation(e);break;case"split":n=this._getTransformedBySplitOperation(e);break;case"merge":n=this._getTransformedByMergeOperation(e);break;default:n=Ot._createAt(this)}return n}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const n=e.movedRange;return n.containsPosition(this)||n.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const n=e.movedRange;let s;return n.containsPosition(this)||n.start.isEqual(this)?(s=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(s=s._getTransformedByDeletion(e.deletionPosition,1))):s=this.isEqual(e.deletionPosition)?Ot._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),s}_getTransformedByDeletion(e,n){const s=Ot._createAt(this);if(this.root!=e.root)return s;if(pt(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+n>this.offset)return null;s.offset-=n}}else if(pt(e.getParentPath(),this.getParentPath())=="prefix"){const l=e.path.length-1;if(e.offset<=this.path[l]){if(e.offset+n>this.path[l])return null;s.path[l]-=n}}return s}_getTransformedByInsertion(e,n){const s=Ot._createAt(this);if(this.root!=e.root)return s;if(pt(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(s.offset+=n);else if(pt(e.getParentPath(),this.getParentPath())=="prefix"){const l=e.path.length-1;e.offset<=this.path[l]&&(s.path[l]+=n)}return s}_getTransformedByMove(e,n,s){if(n=n._getTransformedByDeletion(e,s),e.isEqual(n))return Ot._createAt(this);const l=this._getTransformedByDeletion(e,s);return l===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(s).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,n):l._getTransformedByInsertion(n,s)}_getCombined(e,n){const s=e.path.length-1,l=Ot._createAt(n);return l.stickiness=this.stickiness,l.offset=l.offset+this.path[s]-e.offset,l.path=[...l.path,...this.path.slice(s+1)],l}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,n,s="toNone"){if(e.is("model:position"))return new Ot(e.root,e.path,e.stickiness);{const l=e;if(n=="end")n=l.maxOffset;else{if(n=="before")return this._createBefore(l,s);if(n=="after")return this._createAfter(l,s);if(n!==0&&!n)throw new U("model-createpositionat-offset-required",[this,e])}if(!l.is("element")&&!l.is("documentFragment"))throw new U("model-position-parent-incorrect",[this,e]);const f=l.getPath();return f.push(n),new this(l.root,f,s)}}static _createAfter(e,n){if(!e.parent)throw new U("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,n)}static _createBefore(e,n){if(!e.parent)throw new U("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,n)}static fromJSON(e,n){if(e.root==="$graveyard"){const s=new Ot(n.graveyard,e.path);return s.stickiness=e.stickiness,s}if(!n.getRoot(e.root))throw new U("model-position-fromjson-no-root",n,{rootName:e.root});return new Ot(n.getRoot(e.root),e.path,e.stickiness)}}function Xl(u,e){const n=e.getChildAtOffset(u.offset);return n&&n.is("$text")&&n.startOffset<u.offset?n:null}function Uf(u,e,n){return n!==null?null:e.getChildAtOffset(u.offset)}function Vb(u,e,n){return n!==null?null:e.getChild(e.offsetToIndex(u.offset)-1)}function Ru(u,e,n){return n+1!==u.path.length&&!!Wi(e.path,n+1)&&!!function(s,l){let f=s.parent,b=s.path.length-1,y=0;for(;b>=l;){if(s.path[b]+y!==f.maxOffset)return!1;y=1,b--,f=f.parent}return!0}(u,n+1)}function Wi(u,e){for(;e<u.length;){if(u[e]!==0)return!1;e++}return!0}Ot.prototype.is=function(u){return u==="position"||u==="model:position"};class ut extends Br{constructor(e,n){super(),this.start=Ot._createAt(e),this.end=n?Ot._createAt(n):Ot._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Qn({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return pt(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,n=!1){e.isCollapsed&&(n=!1);const s=this.containsPosition(e.start)||n&&this.start.isEqual(e.start),l=this.containsPosition(e.end)||n&&this.end.isEqual(e.end);return s&&l}containsItem(e){const n=Ot._createBefore(e);return this.containsPosition(n)||this.start.isEqual(n)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const n=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&n.push(new ut(this.start,e.start)),this.containsPosition(e.end)&&n.push(new ut(e.end,this.end))):n.push(new ut(this.start,this.end)),n}getIntersection(e){if(this.isIntersecting(e)){let n=this.start,s=this.end;return this.containsPosition(e.start)&&(n=e.start),this.containsPosition(e.end)&&(s=e.end),new ut(n,s)}return null}getJoined(e,n=!1){let s=this.isIntersecting(e);if(s||(s=this.start.isBefore(e.start)?n?this.end.isTouching(e.start):this.end.isEqual(e.start):n?e.end.isTouching(this.start):e.end.isEqual(this.start)),!s)return null;let l=this.start,f=this.end;return e.start.isBefore(l)&&(l=e.start),e.end.isAfter(f)&&(f=e.end),new ut(l,f)}getMinimalFlatRanges(){const e=[],n=this.start.getCommonPath(this.end).length,s=Ot._createAt(this.start);let l=s.parent;for(;s.path.length>n+1;){const f=l.maxOffset-s.offset;f!==0&&e.push(new ut(s,s.getShiftedBy(f))),s.path=s.path.slice(0,-1),s.offset++,l=l.parent}for(;s.path.length<=this.end.path.length;){const f=this.end.path[s.path.length-1],b=f-s.offset;b!==0&&e.push(new ut(s,s.getShiftedBy(b))),s.offset=f,s.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new Qn(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const n=new Qn(e);for(const s of n)yield s.item}*getPositions(e={}){e.boundaries=this;const n=new Qn(e);yield n.position;for(const s of n)yield s.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new ut(this.start,this.end)]}getTransformedByOperations(e){const n=[new ut(this.start,this.end)];for(const s of e)for(let l=0;l<n.length;l++){const f=n[l].getTransformedByOperation(s);n.splice(l,1,...f),l+=f.length-1}for(let s=0;s<n.length;s++){const l=n[s];for(let f=s+1;f<n.length;f++){const b=n[f];(l.containsRange(b)||b.containsRange(l)||l.isEqual(b))&&n.splice(f,1)}}return n}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,n=this.end.nodeBefore;return e&&e.is("element")&&e===n?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,n=!1){return this._getTransformedByInsertion(e.position,e.howMany,n)}_getTransformedByMoveOperation(e,n=!1){const s=e.sourcePosition,l=e.howMany,f=e.targetPosition;return this._getTransformedByMove(s,f,l,n)}_getTransformedBySplitOperation(e){const n=this.start._getTransformedBySplitOperation(e);let s=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(s=this.end.getShiftedBy(1)),n.root!=s.root&&(s=this.end.getShiftedBy(-1)),new ut(n,s)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new ut(this.start);let n=this.start._getTransformedByMergeOperation(e),s=this.end._getTransformedByMergeOperation(e);return n.root!=s.root&&(s=this.end.getShiftedBy(-1)),n.isAfter(s)?(e.sourcePosition.isBefore(e.targetPosition)?(n=Ot._createAt(s),n.offset=0):(e.deletionPosition.isEqual(n)||(s=e.deletionPosition),n=e.targetPosition),new ut(n,s)):new ut(n,s)}_getTransformedByInsertion(e,n,s=!1){if(s&&this.containsPosition(e))return[new ut(this.start,e),new ut(e.getShiftedBy(n),this.end._getTransformedByInsertion(e,n))];{const l=new ut(this.start,this.end);return l.start=l.start._getTransformedByInsertion(e,n),l.end=l.end._getTransformedByInsertion(e,n),[l]}}_getTransformedByMove(e,n,s,l=!1){if(this.isCollapsed){const P=this.start._getTransformedByMove(e,n,s);return[new ut(P)]}const f=ut._createFromPositionAndShift(e,s),b=n._getTransformedByDeletion(e,s);if(this.containsPosition(n)&&!l&&(f.containsPosition(this.start)||f.containsPosition(this.end))){const P=this.start._getTransformedByMove(e,n,s),W=this.end._getTransformedByMove(e,n,s);return[new ut(P,W)]}let y;const S=this.getDifference(f);let T=null;const B=this.getIntersection(f);if(S.length==1?T=new ut(S[0].start._getTransformedByDeletion(e,s),S[0].end._getTransformedByDeletion(e,s)):S.length==2&&(T=new ut(this.start,this.end._getTransformedByDeletion(e,s))),y=T?T._getTransformedByInsertion(b,s,B!==null||l):[],B){const P=new ut(B.start._getCombined(f.start,b),B.end._getCombined(f.start,b));y.length==2?y.splice(1,0,P):y.push(P)}return y}_getTransformedByDeletion(e,n){let s=this.start._getTransformedByDeletion(e,n),l=this.end._getTransformedByDeletion(e,n);return s==null&&l==null?null:(s==null&&(s=e),l==null&&(l=e),new ut(s,l))}static _createFromPositionAndShift(e,n){const s=e,l=e.getShiftedBy(n);return n>0?new this(s,l):new this(l,s)}static _createIn(e){return new this(Ot._createAt(e,0),Ot._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(Ot._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new U("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const n=e[0];e.sort((f,b)=>f.start.isAfter(b.start)?1:-1);const s=e.indexOf(n),l=new this(n.start,n.end);for(let f=s-1;f>=0&&e[f].end.isEqual(l.start);f--)l.start=Ot._createAt(e[f].start);for(let f=s+1;f<e.length&&e[f].start.isEqual(l.end);f++)l.end=Ot._createAt(e[f].end);return l}static fromJSON(e,n){return new this(Ot.fromJSON(e.start,n),Ot.fromJSON(e.end,n))}}ut.prototype.is=function(u){return u==="range"||u==="model:range"};class Eh extends ke(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this._cache=new Xk,this.on("modelToViewPosition",(e,n)=>{if(n.viewPosition)return;const s=this._modelToViewMapping.get(n.modelPosition.parent);if(!s)throw new U("mapping-model-position-view-parent-not-found",this,{modelPosition:n.modelPosition});n.viewPosition=this.findPositionIn(s,n.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,n)=>{if(n.modelPosition)return;const s=this.findMappedViewAncestor(n.viewPosition),l=this._viewToModelMapping.get(s),f=this._toModelOffset(n.viewPosition.parent,n.viewPosition.offset,s);n.modelPosition=Ot._createAt(l,f)},{priority:"low"})}bindElements(e,n){this._modelToViewMapping.set(e,n),this._viewToModelMapping.set(n,e)}unbindViewElement(e,n={}){const s=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const l of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(l);n.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e)&&this._cache.stopTracking(e),this._modelToViewMapping.get(s)==e&&this._modelToViewMapping.delete(s))}unbindModelElement(e){const n=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(n)==e&&this._viewToModelMapping.delete(n)&&this._cache.stopTracking(n)}bindElementToMarker(e,n){const s=this._markerNameToElements.get(n)||new Set;s.add(e);const l=this._elementToMarkerNames.get(e)||new Set;l.add(n),this._markerNameToElements.set(n,s),this._elementToMarkerNames.set(e,l)}unbindElementFromMarkerName(e,n){const s=this._markerNameToElements.get(n);s&&(s.delete(e),s.size==0&&this._markerNameToElements.delete(n));const l=this._elementToMarkerNames.get(e);l&&(l.delete(n),l.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,n]of this._deferredBindingRemovals)e.root==n&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new ut(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new Nn(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const n={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",n),n.modelPosition}toViewPosition(e,n={}){const s={modelPosition:e,mapper:this,isPhantom:n.isPhantom};return this.fire("modelToViewPosition",s),s.viewPosition}markerNameToElements(e){const n=this._markerNameToElements.get(e);if(!n)return null;const s=new Set;for(const l of n)if(l.is("attributeElement"))for(const f of l.getElementsWithSameId())s.add(f);else s.add(l);return s}registerViewToModelLength(e,n){this._viewToModelLengthCallbacks.set(e,n)}findMappedViewAncestor(e){let n=e.parent;for(;!this._viewToModelMapping.has(n);)n=n.parent;return n}_toModelOffset(e,n,s){if(s!=e)return this._toModelOffset(e.parent,e.index,s)+this._toModelOffset(e,n,e);if(e.is("$text"))return n;let l=0;for(let f=0;f<n;f++)l+=this.getModelLength(e.getChild(f));return l}getModelLength(e){const n=[e];let s=0;for(;n.length>0;){const l=n.pop(),f=l.name&&this._viewToModelLengthCallbacks.size>0&&this._viewToModelLengthCallbacks.get(l.name);if(f)s+=f(l);else if(this._viewToModelMapping.has(l))s+=1;else if(l.is("$text"))s+=l.data.length;else{if(l.is("uiElement"))continue;for(const b of l.getChildren())n.push(b)}}return s}findPositionIn(e,n){if(n===0)return this._moveViewPositionToTextNode(new Kt(e,0));if(this._viewToModelLengthCallbacks.size==0&&this._viewToModelMapping.has(e)){const s=this._cache.getClosest(e,n);return this._findPositionStartingFrom(s.viewPosition,s.modelOffset,n,e,!0)}return this._findPositionStartingFrom(new Kt(e,0),0,n,e,!1)}_findPositionStartingFrom(e,n,s,l,f){let b,y=e.parent,S=e.offset;if(y.is("$text"))return new Kt(y,s-n);let T=n,B=0;for(;T<s;)if(b=y.getChild(S),b)B=this.getModelLength(b),T+=B,S++,f&&this._cache.save(y,S,l,T);else{if(y==l)throw new U("mapping-model-offset-not-found",this,{modelOffset:s,viewContainer:l});S=y.parent.getChildIndex(y)+1,y=y.parent}return T==s?this._moveViewPositionToTextNode(new Kt(y,S)):this._findPositionStartingFrom(new Kt(b,0),T-B,s,l,f)}_moveViewPositionToTextNode(e){const n=e.nodeBefore,s=e.nodeAfter;return n&&n.is("view:$text")?new Kt(n,n.data.length):s&&s.is("view:$text")?new Kt(s,0):e}}class Xk extends ke(){constructor(){super(...arguments),this._cachedMapping=new WeakMap,this._nodeToCacheListIndex=new WeakMap,this._invalidateOnChildrenChangeCallback=(e,n,s)=>{this._clearCacheInsideParent(n,s.index)},this._invalidateOnTextChangeCallback=(e,n)=>{this._clearCacheStartingBefore(n)}}save(e,n,s,l){const f=this._cachedMapping.get(s),b=f.cacheMap.get(l);if(b){const T=e.getChild(n-1),B=b.viewPosition.nodeBefore?this._nodeToCacheListIndex.get(b.viewPosition.nodeBefore):0;return void this._nodeToCacheListIndex.set(T,B)}const y={viewPosition:new Kt(e,n),modelOffset:l};f.maxModelOffset=l>f.maxModelOffset?l:f.maxModelOffset,f.cacheMap.set(l,y);let S=f.cacheList.length-1;for(;S>=0&&f.cacheList[S].modelOffset>l;)S--;if(f.cacheList.splice(S+1,0,y),n>0){const T=e.getChild(n-1);this._nodeToCacheListIndex.set(T,S+1)}}getClosest(e,n){const s=this._cachedMapping.get(e);let l;s?n>s.maxModelOffset?l=s.cacheList[s.cacheList.length-1]:l=s.cacheMap.get(n)||this._findInCacheList(s.cacheList,n):l=this.startTracking(e);const f=this._hoistViewPosition(l.viewPosition);return{modelOffset:l.modelOffset,viewPosition:f}}_hoistViewPosition(e){for(;e.parent.parent&&!this._cachedMapping.has(e.parent)&&e.isAtEnd;){const n=e.parent.parent,s=n.getChildIndex(e.parent)+1;e=new Kt(n,s)}return e}startTracking(e){const n={viewPosition:new Kt(e,0),modelOffset:0},s={maxModelOffset:0,cacheList:[n],cacheMap:new Map([[0,n]])};return this._cachedMapping.set(e,s),e.on("change:children",this._invalidateOnChildrenChangeCallback),e.on("change:text",this._invalidateOnTextChangeCallback),n}stopTracking(e){e.off("change:children",this._invalidateOnChildrenChangeCallback),e.off("change:text",this._invalidateOnTextChangeCallback),this._cachedMapping.delete(e)}_clearCacheInsideParent(e,n){if(n==0)this._cachedMapping.has(e)?this._clearCacheAll(e):this._clearCacheStartingBefore(e);else{const s=e.getChild(n-1);this._clearCacheStartingBefore(s)}}_clearCacheAll(e){const n=this._cachedMapping.get(e);n.maxModelOffset>0&&(n.maxModelOffset=0,n.cacheList.length=1,n.cacheMap.clear(),n.cacheMap.set(0,n.cacheList[0]))}_clearCacheStartingBefore(e){const n=this._nodeToCacheListIndex.get(e);if(n===void 0){const l=e.parent;return void(this._cachedMapping.has(l)||this._clearCacheStartingBefore(l))}let s=e.parent;for(;!this._cachedMapping.has(s);)s=s.parent;this._clearCacheFromIndex(s,n)}_clearCacheFromIndex(e,n){n===0&&(n=1);const s=this._cachedMapping.get(e),l=s.cacheList[n-1];if(!l)return;s.maxModelOffset=l.modelOffset;const f=s.cacheList.splice(n);for(const b of f){s.cacheMap.delete(b.modelOffset);const y=b.viewPosition.nodeBefore;this._nodeToCacheListIndex.delete(y)}}_findInCacheList(e,n){let s=0,l=e.length-1,f=l-s>>1,b=e[f];for(;s<l;)b.modelOffset<n?s=f+1:l=f-1,f=s+(l-s>>1),b=e[f];return b.modelOffset<=n?b:e[f-1]}}class ec{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,n){n=Fd(n),e instanceof zn&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(n,!0)}consume(e,n){return n=Fd(n),e instanceof zn&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,n)&&(this._consumable.get(e).set(n,!1),!0)}test(e,n){n=Fd(n),e instanceof zn&&(e=this._getSymbolForTextProxy(e));const s=this._consumable.get(e);if(s===void 0)return null;const l=s.get(n);return l===void 0?null:l}revert(e,n){n=Fd(n),e instanceof zn&&(e=this._getSymbolForTextProxy(e));const s=this.test(e,n);return s===!1?(this._consumable.get(e).set(n,!0),!0):s!==!0&&null}verifyAllConsumed(e){const n=[];for(const[s,l]of this._consumable)for(const[f,b]of l){const y=f.split(":")[0];b&&e==y&&n.push({event:f,item:s.name||s.description})}if(n.length)throw new U("conversion-model-consumable-not-consumed",null,{items:n})}_getSymbolForTextProxy(e){let n=null;const s=this._textProxyRegistry.get(e.startOffset);if(s){const l=s.get(e.endOffset);l&&(n=l.get(e.parent))}return n||(n=this._addSymbolForTextProxy(e)),n}_addSymbolForTextProxy(e){const n=e.startOffset,s=e.endOffset,l=e.parent,f=Symbol("$textProxy:"+e.data);let b,y;return b=this._textProxyRegistry.get(n),b||(b=new Map,this._textProxyRegistry.set(n,b)),y=b.get(s),y||(y=new Map,b.set(s,y)),y.set(l,f),f}}function Fd(u){const e=u.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?u:e.length>1?e[0]+":"+e[1]:e[0]}class Wp extends ke(){constructor(e){super(),this._conversionApi={dispatcher:this,...e},this._firedEventsMap=new WeakMap}convertChanges(e,n,s){const l=this._createConversionApi(s,e.getRefreshedItems());for(const b of e.getMarkersToRemove())this._convertMarkerRemove(b.name,b.range,l);const f=this._reduceChanges(e.getChanges());for(const b of f)b.type==="insert"?this._convertInsert(ut._createFromPositionAndShift(b.position,b.length),l):b.type==="reinsert"?this._convertReinsert(ut._createFromPositionAndShift(b.position,b.length),l):b.type==="remove"?this._convertRemove(b.position,b.length,b.name,l):this._convertAttribute(b.range,b.attributeKey,b.attributeOldValue,b.attributeNewValue,l);l.mapper.flushDeferredBindings();for(const b of l.mapper.flushUnboundMarkerNames()){const y=n.get(b).getRange();this._convertMarkerRemove(b,y,l),this._convertMarkerAdd(b,y,l)}for(const b of e.getMarkersToAdd())this._convertMarkerAdd(b.name,b.range,l);l.consumable.verifyAllConsumed("insert")}convert(e,n,s,l={}){const f=this._createConversionApi(s,void 0,l);this._convertInsert(e,f);for(const[b,y]of n)this._convertMarkerAdd(b,y,f);f.consumable.verifyAllConsumed("insert")}convertSelection(e,n,s){const l=this._createConversionApi(s);this.fire("cleanSelection",{selection:e},l);const f=e.getFirstPosition().root;if(!l.mapper.toViewElement(f))return;const b=Array.from(n.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(l.consumable,e,b),this.fire("selection",{selection:e},l),e.isCollapsed){for(const y of b)if(l.consumable.test(e,"addMarker:"+y.name)){const S=y.getRange();if(!Ga(e.getFirstPosition(),y,l.mapper))continue;const T={item:e,markerName:y.name,markerRange:S};this.fire(`addMarker:${y.name}`,T,l)}for(const y of e.getAttributeKeys())if(l.consumable.test(e,"attribute:"+y)){const S={item:e,range:e.getFirstRange(),attributeKey:y,attributeOldValue:null,attributeNewValue:e.getAttribute(y)};this.fire(`attribute:${y}:$text`,S,l)}}}_convertInsert(e,n,s={}){s.doNotAddConsumables||this._addConsumablesForInsert(n.consumable,e);for(const l of e.getWalker({shallow:!0}))this._testAndFire("insert",Hb(l),n)}_convertRemove(e,n,s,l){this.fire(`remove:${s}`,{position:e,length:n},l)}_convertAttribute(e,n,s,l,f){this._addConsumablesForRange(f.consumable,e,`attribute:${n}`);for(const b of e){const y={item:b.item,range:ut._createFromPositionAndShift(b.previousPosition,b.length),attributeKey:n,attributeOldValue:s,attributeNewValue:l};this._testAndFire(`attribute:${n}`,y,f)}}_convertReinsert(e,n){const s=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(n.consumable,s);for(const l of s.map(Hb))this._testAndFire("insert",{...l,reconversion:!0},n)}_convertMarkerAdd(e,n,s){if(n.root.rootName=="$graveyard")return;const l=`addMarker:${e}`;if(s.consumable.add(n,l),this.fire(l,{markerName:e,markerRange:n},s),s.consumable.consume(n,l)){this._addConsumablesForRange(s.consumable,n,l);for(const f of n.getItems()){if(!s.consumable.test(f,l))continue;const b={item:f,range:ut._createOn(f),markerName:e,markerRange:n};this.fire(l,b,s)}}}_convertMarkerRemove(e,n,s){n.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:n},s)}_reduceChanges(e){const n={changes:e};return this.fire("reduceChanges",n),n.changes}_addConsumablesForInsert(e,n){for(const s of n){const l=s.item;if(e.test(l,"insert")===null){e.add(l,"insert");for(const f of l.getAttributeKeys())e.add(l,"attribute:"+f)}}return e}_addConsumablesForRange(e,n,s){for(const l of n.getItems())e.add(l,s);return e}_addConsumablesForSelection(e,n,s){e.add(n,"selection");for(const l of s)e.add(n,"addMarker:"+l.name);for(const l of n.getAttributeKeys())e.add(n,"attribute:"+l);return e}_testAndFire(e,n,s){const l=function(S,T){const B=T.item.is("element")?T.item.name:"$text";return`${S}:${B}`}(e,n),f=n.item.is("$textProxy")?s.consumable._getSymbolForTextProxy(n.item):n.item,b=this._firedEventsMap.get(s),y=b.get(f);if(y){if(y.has(l))return;y.add(l)}else b.set(f,new Set([l]));this.fire(l,n,s)}_testAndFireAddAttributes(e,n){const s={item:e,range:ut._createOn(e)};for(const l of s.item.getAttributeKeys())s.attributeKey=l,s.attributeOldValue=null,s.attributeNewValue=s.item.getAttribute(l),this._testAndFire(`attribute:${l}`,s,n)}_createConversionApi(e,n=new Set,s={}){const l={...this._conversionApi,consumable:new ec,writer:e,options:s,convertItem:f=>this._convertInsert(ut._createOn(f),l),convertChildren:f=>this._convertInsert(ut._createIn(f),l,{doNotAddConsumables:!0}),convertAttributes:f=>this._testAndFireAddAttributes(f,l),canReuseView:f=>!n.has(l.mapper.toModelElement(f))};return this._firedEventsMap.set(l,new Map),l}}function Ga(u,e,n){const s=e.getRange(),l=Array.from(u.getAncestors());return l.shift(),l.reverse(),!l.some(f=>{if(s.containsItem(f))return!!n.toViewElement(f).getCustomProperty("addHighlight")})}function Hb(u){return{item:u.item,range:ut._createFromPositionAndShift(u.previousPosition,u.length)}}class zd extends Br{constructor(e){super(),this.parent=null,this._index=null,this._startOffset=null,this._attrs=ie(e)}get document(){return null}get index(){return this._index}get startOffset(){return this._startOffset}get offsetSize(){return 1}get endOffset(){return this.startOffset===null?null:this.startOffset+this.offsetSize}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const e=[];let n=this;for(;n.parent;)e.unshift(n.startOffset),n=n.parent;return e}getAncestors(e={}){const n=[];let s=e.includeSelf?this:this.parent;for(;s;)n[e.parentFirst?"push":"unshift"](s),s=s.parent;return n}getCommonAncestor(e,n={}){const s=this.getAncestors(n),l=e.getAncestors(n);let f=0;for(;s[f]==l[f]&&s[f];)f++;return f===0?null:s[f-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const n=this.getPath(),s=e.getPath(),l=pt(n,s);switch(l){case"prefix":return!0;case"extension":return!1;default:return n[l]<s[l]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((n,s)=>(n[s[0]]=s[1],n),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,n){this._attrs.set(e,n)}_setAttributesTo(e){this._attrs=ie(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}zd.prototype.is=function(u){return u==="node"||u==="model:node"};class oa extends ke(Br){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const n of this._ranges){let s=!1;for(const l of e._ranges)if(n.isEqual(l)){s=!0;break}if(!s)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new ut(e.start,e.end)}getFirstRange(){let e=null;for(const n of this._ranges)e&&!n.start.isBefore(e.start)||(e=n);return e?new ut(e.start,e.end):null}getLastRange(){let e=null;for(const n of this._ranges)e&&!n.end.isAfter(e.end)||(e=n);return e?new ut(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[n,s,l]=e;if(typeof s=="object"&&(l=s,s=void 0),n===null)this._setRanges([]);else if(n instanceof oa)this._setRanges(n.getRanges(),n.isBackward);else if(n&&typeof n.getRanges=="function")this._setRanges(n.getRanges(),n.isBackward);else if(n instanceof ut)this._setRanges([n],!!l&&!!l.backward);else if(n instanceof Ot)this._setRanges([new ut(n)]);else if(n instanceof zd){const f=!!l&&!!l.backward;let b;if(s=="in")b=ut._createIn(n);else if(s=="on")b=ut._createOn(n);else{if(s===void 0)throw new U("model-selection-setto-required-second-parameter",[this,n]);b=new ut(Ot._createAt(n,s))}this._setRanges([b],f)}else{if(!He(n))throw new U("model-selection-setto-not-selectable",[this,n]);this._setRanges(n,l&&!!l.backward)}}_setRanges(e,n=!1){const s=Array.from(e),l=s.some(f=>{if(!(f instanceof ut))throw new U("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(b=>!b.isEqual(f))});(s.length!==this._ranges.length||l)&&(this._replaceAllRanges(s),this._lastRangeBackward=!!n,this.fire("change:range",{directChange:!0}))}setFocus(e,n){if(this.anchor===null)throw new U("model-selection-setfocus-no-ranges",[this,e]);const s=Ot._createAt(e,n);if(s.compareWith(this.focus)=="same")return;const l=this.anchor;this._ranges.length&&this._popRange(),s.compareWith(l)=="before"?(this._pushRange(new ut(s,l)),this._lastRangeBackward=!0):(this._pushRange(new ut(l,s)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,n){this.getAttribute(e)!==n&&(this._attrs.set(e,n),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const n of this.getRanges()){const s=xs(n.start,e);Gp(s,n)&&(yield s);const l=n.getWalker();for(const b of l){const y=b.item;b.type=="elementEnd"&&Dh(y,e,n)?yield y:b.type=="elementStart"&&y.is("model:element")&&y.root.document.model.schema.isBlock(y)&&l.jumpTo(Ot._createAt(y,"end"))}const f=xs(n.end,e);Yp(f,n)&&(yield f)}}containsEntireContent(e=this.anchor.root){const n=Ot._createAt(e,0),s=Ot._createAt(e,"end");return n.isTouching(this.getFirstPosition())&&s.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new ut(e.start,e.end))}_checkRange(e){for(let n=0;n<this._ranges.length;n++)if(e.isIntersecting(this._ranges[n]))throw new U("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[n]})}_replaceAllRanges(e){this._removeAllRanges();for(const n of e)this._pushRange(n)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function wg(u,e){return!e.has(u)&&(e.add(u),u.root.document.model.schema.isBlock(u)&&!!u.parent)}function Dh(u,e,n){return wg(u,e)&&Fu(u,n)}function xs(u,e){const n=u.parent.root.document.model.schema,s=u.parent.getAncestors({parentFirst:!0,includeSelf:!0});let l=!1;const f=s.find(b=>!l&&(l=n.isLimit(b),!l&&wg(b,e)));return s.forEach(b=>e.add(b)),f}function Fu(u,e){const n=function(s){const l=s.root.document.model.schema;let f=s.parent;for(;f;){if(l.isBlock(f))return f;f=f.parent}}(u);return n?!e.containsRange(ut._createOn(n),!0):!0}function Gp(u,e){return!!u&&(!(!e.isCollapsed&&!u.isEmpty)||!e.start.isTouching(Ot._createAt(u,u.maxOffset))&&Fu(u,e))}function Yp(u,e){return!!u&&(!(!e.isCollapsed&&!u.isEmpty)||!e.end.isTouching(Ot._createAt(u,0))&&Fu(u,e))}oa.prototype.is=function(u){return u==="selection"||u==="model:selection"};class sa extends ke(ut){constructor(e,n){super(e,n),e1.call(this)}detach(){this.stopListening()}toRange(){return new ut(this.start,this.end)}static fromRange(e){return new sa(e.start,e.end)}}function e1(){this.listenTo(this.root.document.model,"applyOperation",(u,e)=>{const n=e[0];n.isDocumentOperation&&VA.call(this,n)},{priority:"low"})}function VA(u){const e=this.getTransformedByOperation(u),n=ut._createFromRanges(e),s=!n.isEqual(this),l=function(b,y){switch(y.type){case"insert":return b.containsPosition(y.position);case"move":case"remove":case"reinsert":case"merge":return b.containsPosition(y.sourcePosition)||b.start.isEqual(y.sourcePosition)||b.containsPosition(y.targetPosition);case"split":return b.containsPosition(y.splitPosition)||b.containsPosition(y.insertionPosition)}return!1}(this,u);let f=null;if(s){n.root.rootName=="$graveyard"&&(f=u.type=="remove"?u.sourcePosition:u.deletionPosition);const b=this.toRange();this.start=n.start,this.end=n.end,this.fire("change:range",b,{deletionPosition:f})}else l&&this.fire("change:content",this.toRange(),{deletionPosition:f})}sa.prototype.is=function(u){return u==="liveRange"||u==="model:liveRange"||u=="range"||u==="model:range"};class Zr extends zd{constructor(e,n){super(n),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new Zr(this.data,this.getAttributes())}static fromJSON(e){return new Zr(e.data,e.attributes)}}Zr.prototype.is=function(u){return u==="$text"||u==="model:$text"||u==="text"||u==="model:text"||u==="node"||u==="model:node"};const Kp="selection:";class no extends ke(Br){constructor(e){super(),this._selection=new HA(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,n){this._selection.setFocus(e,n)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,n){this._selection.setAttribute(e,n)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return Kp+e}static _isStoreAttributeKey(e){return e.startsWith(Kp)}}no.prototype.is=function(u){return u==="selection"||u=="model:selection"||u=="documentSelection"||u=="model:documentSelection"};class HA extends oa{constructor(e){super(),this.markers=new Co({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(n,s)=>{const l=s[0];l.isDocumentOperation&&l.type!="marker"&&l.type!="rename"&&l.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(n,s,l,f)=>{this._updateMarker(s,f)}),this.listenTo(this._document,"change",(n,s)=>{(function(l,f){const b=l.document.differ;for(const y of b.getChanges()){if(y.type!="insert")continue;const S=y.position.parent;y.length===S.maxOffset&&l.enqueueChange(f,T=>{const B=Array.from(S.getAttributeKeys()).filter(P=>P.startsWith(Kp));for(const P of B)T.removeAttribute(P,S)})}})(this._model,s)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,n){super.setFocus(e,n),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,n){if(this._setAttribute(e,n)){const s=[e];this.fire("change:attribute",{attributeKeys:s,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const n=[e];this.fire("change:attribute",{attributeKeys:n,directChange:!0})}}overrideGravity(){const e=se();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new U("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const n=this._prepareRange(e);n&&this._ranges.push(n)}_validateSelectionRanges(e){for(const n of e)if(!this._document._validateSelectionRange(n))throw new U("document-selection-wrong-position",this,{range:n})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const n=sa.fromRange(e);return n.on("change:range",(s,l,f)=>{if(this._hasChangedRange=!0,n.root==this._document.graveyard){this._selectionRestorePosition=f.deletionPosition;const b=this._ranges.indexOf(n);this._ranges.splice(b,1),n.detach()}}),n}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let n=!1;for(const l of this._model.markers){const f=l.name.split(":",1)[0];if(!this._observedMarkers.has(f))continue;const b=l.getRange();for(const y of this.getRanges())b.containsRange(y,!y.isCollapsed)&&e.push(l)}const s=Array.from(this.markers);for(const l of e)this.markers.has(l)||(this.markers.add(l),n=!0);for(const l of Array.from(this.markers))e.includes(l)||(this.markers.remove(l),n=!0);n&&this.fire("change:marker",{oldMarkers:s,directChange:!1})}_updateMarker(e,n){const s=e.name.split(":",1)[0];if(!this._observedMarkers.has(s))return;let l=!1;const f=Array.from(this.markers),b=this.markers.has(e);if(n){let y=!1;for(const S of this.getRanges())if(n.containsRange(S,!S.isCollapsed)){y=!0;break}y&&!b?(this.markers.add(e),l=!0):!y&&b&&(this.markers.remove(e),l=!0)}else b&&(this.markers.remove(e),l=!0);l&&this.fire("change:marker",{oldMarkers:f,directChange:!1})}_updateAttributes(e){const n=ie(this._getSurroundingAttributes()),s=ie(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[f,b]of this._attributePriority)b=="low"&&(this._attrs.delete(f),this._attributePriority.delete(f));this._setAttributesTo(n);const l=[];for(const[f,b]of this.getAttributes())s.has(f)&&s.get(f)===b||l.push(f);for(const[f]of s)this.hasAttribute(f)||l.push(f);l.length>0&&this.fire("change:attribute",{attributeKeys:l,directChange:!1})}_setAttribute(e,n,s=!0){const l=s?"normal":"low";return l=="low"&&this._attributePriority.get(e)=="normal"?!1:super.getAttribute(e)!==n&&(this._attrs.set(e,n),this._attributePriority.set(e,l),!0)}_removeAttribute(e,n=!0){const s=n?"normal":"low";return(s!="low"||this._attributePriority.get(e)!="normal")&&(this._attributePriority.set(e,s),!!super.hasAttribute(e)&&(this._attrs.delete(e),!0))}_setAttributesTo(e){const n=new Set;for(const[s,l]of this.getAttributes())e.get(s)!==l&&this._removeAttribute(s,!1);for(const[s,l]of e)this._setAttribute(s,l,!1)&&n.add(s);return n}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const n of e.getAttributeKeys())n.startsWith(Kp)&&(yield[n.substr(10),e.getAttribute(n)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),n=this._model.schema;if(e.root.rootName=="$graveyard")return null;let s=null;if(this.isCollapsed){const l=e.textNode?e.textNode:e.nodeBefore,f=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(s=Zs(l,n)),s||(s=Zs(f,n)),!this.isGravityOverridden&&!s){let b=l;for(;b&&!s;)b=b.previousSibling,s=Zs(b,n)}if(!s){let b=f;for(;b&&!s;)b=b.nextSibling,s=Zs(b,n)}s||(s=this.getStoredAttributes())}else{const l=this.getFirstRange();for(const f of l){if(f.item.is("element")&&n.isObject(f.item)){s=Zs(f.item,n);break}if(f.type=="text"){s=f.item.getAttributes();break}}}return s}_fixGraveyardSelection(e){const n=this._model.schema.getNearestSelectionRange(e);n&&this._pushRange(n)}}function Zs(u,e){if(!u)return null;if(u instanceof zn||u instanceof Zr)return u.getAttributes();if(!e.isInline(u))return null;if(!e.isObject(u))return[];const n=[];for(const[s,l]of u.getAttributes())e.checkAttribute("$text",s)&&e.getAttributeProperties(s).copyFromObject!==!1&&n.push([s,l]);return n}class Qp{constructor(e){this._nodes=[],this._offsetToNode=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._offsetToNode.length}getNode(e){return this._nodes[e]||null}getNodeAtOffset(e){return this._offsetToNode[e]||null}getNodeIndex(e){return e.index}getNodeStartOffset(e){return e.startOffset}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const n=this._nodes[e];if(!n)throw new U("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(n)}offsetToIndex(e){if(e==this._offsetToNode.length)return this._nodes.length;const n=this._offsetToNode[e];if(!n)throw new U("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.getNodeIndex(n)}_insertNodes(e,n){const s=[];for(const f of n){if(!(f instanceof zd))throw new U("model-nodelist-insertnodes-not-node",this);s.push(f)}let l=this.indexToOffset(e);pe(this._nodes,s,e),pe(this._offsetToNode,function(f){const b=[];let y=0;for(const S of f)for(let T=0;T<S.offsetSize;T++)b[y++]=S;return b}(s),l);for(let f=e;f<this._nodes.length;f++)this._nodes[f]._index=f,this._nodes[f]._startOffset=l,l+=this._nodes[f].offsetSize}_removeNodes(e,n=1){if(n==0)return[];let s=this.indexToOffset(e);const l=this._nodes.splice(e,n),f=l[l.length-1],b=f.startOffset+f.offsetSize-s;this._offsetToNode.splice(s,b);for(const y of l)y._index=null,y._startOffset=null;for(let y=e;y<this._nodes.length;y++)this._nodes[y]._index=y,this._nodes[y]._startOffset=s,s+=this._nodes[y].offsetSize;return l}_removeNodesArray(e){if(e.length==0)return;for(const s of e)s._index=null,s._startOffset=null;this._nodes=this._nodes.filter(s=>s.index!==null),this._offsetToNode=this._offsetToNode.filter(s=>s.index!==null);let n=0;for(let s=0;s<this._nodes.length;s++)this._nodes[s]._index=s,this._nodes[s]._startOffset=n,n+=this._nodes[s].offsetSize}toJSON(){return this._nodes.map(e=>e.toJSON())}}class hi extends zd{constructor(e,n,s){super(n),this._children=new Qp,this.name=e,s&&this._insertChild(0,s)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildAtOffset(e){return this._children.getNodeAtOffset(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let n=this;for(const s of e)n=n.getChildAtOffset(s);return n}findAncestor(e,n={}){let s=n.includeSelf?this:this.parent;for(;s;){if(s.name===e)return s;s=s.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const n of this._children)e.children.push(n.toJSON())}return e}_clone(e=!1){const n=e?function(s){const l=[];for(const f of s)l.push(f._clone(!0));return l}(this._children):void 0;return new hi(this.name,this.getAttributes(),n)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,n){const s=function(l){if(typeof l=="string")return[new Zr(l)];He(l)||(l=[l]);const f=[];for(const b of l)typeof b=="string"?f.push(new Zr(b)):b instanceof zn?f.push(new Zr(b.data,b.getAttributes())):f.push(b);return f}(n);for(const l of s)l.parent!==null&&l._remove(),l.parent=this;this._children._insertNodes(e,s)}_removeChildren(e,n=1){const s=this._children._removeNodes(e,n);for(const l of s)l.parent=null;return s}_removeChildrenArray(e){this._children._removeNodesArray(e);for(const n of e)n.parent=null}static fromJSON(e){let n;if(e.children){n=[];for(const s of e.children)s.name?n.push(hi.fromJSON(s)):n.push(Zr.fromJSON(s))}return new hi(e.name,e.attributes,n)}}hi.prototype.is=function(u,e){return e?e===this.name&&(u==="element"||u==="model:element"):u==="element"||u==="model:element"||u==="node"||u==="model:node"};class $A{constructor(e){this._dispatchers=e}add(e){for(const n of this._dispatchers)e(n);return this}}class Ih extends $A{elementToElement(e){return this.add(function(n){const s=r1(n.model),l=qf(n.view,"container");return s.attributes.length&&(s.children=!0),f=>{f.on(`insert:${s.name}`,Zp(l,o1(s)),{priority:n.converterPriority||"normal"}),(s.children||s.attributes.length)&&f.on("reduceChanges",YA(s),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(n){const s=r1(n.model),l=qf(n.view,"container");return s.children=!0,f=>{if(f._conversionApi.schema.checkChild(s.name,"$text"))throw new U("conversion-element-to-structure-disallowed-text",f,{elementName:s.name});var b,y;f.on(`insert:${s.name}`,(b=l,y=o1(s),(S,T,B)=>{if(!y(T.item,B.consumable,{preflight:!0}))return;const P=new Map;B.writer._registerSlotFactory(function(ne,le,Ce){return(Me,qe)=>{const tt=Me.createContainerElement("$slot");let Et=null;if(qe==="children")Et=Array.from(ne.getChildren());else{if(typeof qe!="function")throw new U("conversion-slot-mode-unknown",Ce.dispatcher,{modeOrFilter:qe});Et=Array.from(ne.getChildren()).filter(Mt=>qe(Mt))}return le.set(tt,Et),tt}}(T.item,P,B));const W=b(T.item,B,T);if(B.writer._clearSlotFactory(),!W)return;(function(ne,le,Ce){const Me=Array.from(le.values()).flat(),qe=new Set(Me);if(qe.size!=Me.length)throw new U("conversion-slot-filter-overlap",Ce.dispatcher,{element:ne});if(qe.size!=ne.childCount)throw new U("conversion-slot-filter-incomplete",Ce.dispatcher,{element:ne})})(T.item,P,B),y(T.item,B.consumable);const ee=B.mapper.toViewPosition(T.range.start);B.mapper.bindElements(T.item,W),B.writer.insert(ee,W),B.convertAttributes(T.item),function(ne,le,Ce,Me){Ce.mapper.on("modelToViewPosition",Et,{priority:"highest"});let qe=null,tt=null;for([qe,tt]of le)s1(ne,tt,Ce,Me),Ce.writer.move(Ce.writer.createRangeIn(qe),Ce.writer.createPositionBefore(qe)),Ce.writer.remove(qe);function Et(Mt,wn){const yn=wn.modelPosition.nodeAfter,Jr=tt.indexOf(yn);Jr<0||(wn.viewPosition=wn.mapper.findPositionIn(qe,Jr))}Ce.mapper.off("modelToViewPosition",Et)}(W,P,B,{reconversion:T.reconversion})}),{priority:n.converterPriority||"normal"}),f.on("reduceChanges",YA(s),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(n){n=Hc(n);let s=n.model;typeof s=="string"&&(s={key:s});let l=`attribute:${s.key}`;if(s.name&&(l+=":"+s.name),s.values)for(const b of s.values)n.view[b]=qf(n.view[b],"attribute");else n.view=qf(n.view,"attribute");const f=$b(n);return b=>{b.on(l,t1(f),{priority:n.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(n){n=Hc(n);let s=n.model;typeof s=="string"&&(s={key:s});let l=`attribute:${s.key}`;if(s.name&&(l+=":"+s.name),s.values)for(const b of s.values)n.view[b]=GA(n.view[b]);else n.view=GA(n.view);const f=$b(n);return b=>{var y;b.on(l,(y=f,(S,T,B)=>{if(!B.consumable.test(T.item,S.name))return;const P=y(T.attributeOldValue,B,T),W=y(T.attributeNewValue,B,T);if(!P&&!W)return;B.consumable.consume(T.item,S.name);const ee=B.mapper.toViewElement(T.item),ne=B.writer;if(!ee)throw new U("conversion-attribute-to-attribute-on-text",B.dispatcher,T);if(T.attributeOldValue!==null&&P){let le=P.value;P.key=="style"&&(le=typeof P.value=="string"?new Td(ne.document.stylesProcessor).setTo(P.value).getStylesEntries().map(([Ce])=>Ce):Object.keys(P.value)),ne.removeAttribute(P.key,le,ee)}if(T.attributeNewValue!==null&&W){let le=W.value;W.key=="style"&&typeof W.value=="string"&&(le=Object.fromEntries(new Td(ne.document.stylesProcessor).setTo(W.value).getStylesEntries())),ne.setAttribute(W.key,le,!1,ee)}}),{priority:n.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(n){const s=qf(n.view,"ui");return l=>{l.on(`addMarker:${n.model}`,WA(s),{priority:n.converterPriority||"normal"}),l.on(`removeMarker:${n.model}`,(f,b,y)=>{const S=y.mapper.markerNameToElements(b.markerName);if(S){for(const T of S)y.mapper.unbindElementFromMarkerName(T,b.markerName),y.writer.clear(y.writer.createRangeOn(T),T);y.writer.clearClonedElementsGroup(b.markerName),f.stop()}},{priority:n.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(n){return s=>{var l;s.on(`addMarker:${n.model}`,(l=n.view,(f,b,y)=>{if(!b.item||!(b.item instanceof oa||b.item instanceof no||b.item.is("$textProxy")))return;const S=i1(l,b,y);if(!S||!y.consumable.consume(b.item,f.name))return;const T=y.writer,B=vg(T,S),P=T.document.selection;if(b.item instanceof oa||b.item instanceof no)T.wrap(P.getFirstRange(),B);else{const W=y.mapper.toViewRange(b.range),ee=T.wrap(W,B);for(const ne of ee.getItems())if(ne.is("attributeElement")&&ne.isSimilar(B)){y.mapper.bindElementToMarker(ne,b.markerName);break}}}),{priority:n.converterPriority||"normal"}),s.on(`addMarker:${n.model}`,function(f){return(b,y,S)=>{if(!y.item||!(y.item instanceof hi))return;const T=i1(f,y,S);if(!T||!S.consumable.test(y.item,b.name))return;const B=S.mapper.toViewElement(y.item);if(B&&B.getCustomProperty("addHighlight")){S.consumable.consume(y.item,b.name);for(const P of ut._createIn(y.item))S.consumable.consume(P.item,b.name);B.getCustomProperty("addHighlight")(B,T,S.writer),S.mapper.bindElementToMarker(B,y.markerName)}}}(n.view),{priority:n.converterPriority||"normal"}),s.on(`removeMarker:${n.model}`,function(f){return(b,y,S)=>{if(y.markerRange.isCollapsed)return;const T=i1(f,y,S);if(!T)return;const B=vg(S.writer,T),P=S.mapper.markerNameToElements(y.markerName);if(P){for(const W of P)S.mapper.unbindElementFromMarkerName(W,y.markerName),W.is("attributeElement")?S.writer.unwrap(S.writer.createRangeOn(W),B):W.getCustomProperty("removeHighlight")(W,T.id,S.writer);S.writer.clearClonedElementsGroup(y.markerName),b.stop()}}}(n.view),{priority:n.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(n){n=Hc(n);const s=n.model;let l=n.view;return l||(l=f=>({group:s,name:f.substr(n.model.length+1)})),f=>{var b;f.on(`addMarker:${s}`,(b=l,(y,S,T)=>{const B=b(S.markerName,T);if(!B)return;const P=S.markerRange;T.consumable.consume(P,y.name)&&(n1(P,!1,T,S,B),n1(P,!0,T,S,B),y.stop())}),{priority:n.converterPriority||"normal"}),f.on(`removeMarker:${s}`,function(y){return(S,T,B)=>{const P=y(T.markerName,B);if(!P)return;const W=B.mapper.markerNameToElements(T.markerName);if(W){for(const ne of W)B.mapper.unbindElementFromMarkerName(ne,T.markerName),ne.is("containerElement")?(ee(`data-${P.group}-start-before`,ne),ee(`data-${P.group}-start-after`,ne),ee(`data-${P.group}-end-before`,ne),ee(`data-${P.group}-end-after`,ne)):B.writer.clear(B.writer.createRangeOn(ne),ne);B.writer.clearClonedElementsGroup(T.markerName),S.stop()}function ee(ne,le){if(le.hasAttribute(ne)){const Ce=new Set(le.getAttribute(ne).split(","));Ce.delete(P.name),Ce.size==0?B.writer.removeAttribute(ne,le):B.writer.setAttribute(ne,Array.from(Ce).join(","),le)}}}}(l),{priority:n.converterPriority||"normal"})}}(e))}}function vg(u,e){const n=u.createAttributeElement("span",e.attributes);return e.classes&&n._addClass(e.classes),typeof e.priority=="number"&&(n._priority=e.priority),n._id=e.id,n}function t1(u){return(e,n,s)=>{if(!s.consumable.test(n.item,e.name))return;const l=u(n.attributeOldValue,s,n),f=u(n.attributeNewValue,s,n);if(!l&&!f)return;s.consumable.consume(n.item,e.name);const b=s.writer,y=b.document.selection;if(n.item instanceof oa||n.item instanceof no)b.wrap(y.getFirstRange(),f);else{let S=s.mapper.toViewRange(n.range);n.attributeOldValue!==null&&l&&(S=b.unwrap(S,l)),n.attributeNewValue!==null&&f&&b.wrap(S,f)}}}function Zp(u,e=Wb){return(n,s,l)=>{if(!e(s.item,l.consumable,{preflight:!0}))return;const f=u(s.item,l,s);if(!f)return;e(s.item,l.consumable);const b=l.mapper.toViewPosition(s.range.start);l.mapper.bindElements(s.item,f),l.writer.insert(b,f),l.convertAttributes(s.item),s1(f,s.item.getChildren(),l,{reconversion:s.reconversion})}}function WA(u){return(e,n,s)=>{n.isOpening=!0;const l=u(n,s);n.isOpening=!1;const f=u(n,s);if(!l||!f)return;const b=n.markerRange;if(b.isCollapsed&&!s.consumable.consume(b,e.name))return;for(const T of b)if(!s.consumable.consume(T.item,e.name))return;const y=s.mapper,S=s.writer;S.insert(y.toViewPosition(b.start),l),s.mapper.bindElementToMarker(l,n.markerName),b.isCollapsed||(S.insert(y.toViewPosition(b.end),f),s.mapper.bindElementToMarker(f,n.markerName)),e.stop()}}function n1(u,e,n,s,l){const f=e?u.start:u.end,b=f.nodeAfter&&f.nodeAfter.is("element")?f.nodeAfter:null,y=f.nodeBefore&&f.nodeBefore.is("element")?f.nodeBefore:null;if(b||y){let S,T;e&&b||!e&&!y?(S=b,T=!0):(S=y,T=!1);const B=n.mapper.toViewElement(S);if(B)return void function(P,W,ee,ne,le,Ce){const Me=`data-${Ce.group}-${W?"start":"end"}-${ee?"before":"after"}`,qe=P.hasAttribute(Me)?P.getAttribute(Me).split(","):[];qe.unshift(Ce.name),ne.writer.setAttribute(Me,qe.join(","),P),ne.mapper.bindElementToMarker(P,le.markerName)}(B,e,T,n,s,l)}(function(S,T,B,P,W){const ee=`${W.group}-${T?"start":"end"}`,ne=W.name?{name:W.name}:null,le=B.writer.createUIElement(ee,ne);B.writer.insert(S,le),B.mapper.bindElementToMarker(le,P.markerName)})(n.mapper.toViewPosition(f),e,n,s,l)}function r1(u){return typeof u=="string"&&(u={name:u}),{name:u.name,attributes:u.attributes?or(u.attributes):[],children:!!u.children}}function qf(u,e){return typeof u=="function"?u:(n,s)=>function(l,f,b){typeof l=="string"&&(l={name:l});let y;const S=f.writer,T=Object.assign({},l.attributes);if(b=="container")y=S.createContainerElement(l.name,T);else if(b=="attribute"){const B={priority:l.priority||ju.DEFAULT_PRIORITY};y=S.createAttributeElement(l.name,T,B)}else y=S.createUIElement(l.name,T);if(l.styles){const B=Object.keys(l.styles);for(const P of B)S.setStyle(P,l.styles[P],y)}if(l.classes){const B=l.classes;if(typeof B=="string")S.addClass(B,y);else for(const P of B)S.addClass(P,y)}return y}(u,s,e)}function $b(u){return u.model.values?(e,n,s)=>{const l=u.view[e];return l?l(e,n,s):null}:u.view}function GA(u){return typeof u=="string"?e=>({key:u,value:e}):typeof u=="object"?u.value?()=>u:e=>({key:u.key,value:e}):u}function i1(u,e,n){const s=typeof u=="function"?u(e,n):u;return s?(s.priority||(s.priority=10),s.id||(s.id=e.markerName),s):null}function YA(u){const e=function(n){return(s,l)=>{if(!s.is("element",n.name))return!1;if(l.type=="attribute"){if(n.attributes.includes(l.attributeKey))return!0}else if(n.children)return!0;return!1}}(u);return(n,s)=>{const l=[];s.reconvertedElements||(s.reconvertedElements=new Set);for(const f of s.changes){const b=f.type=="attribute"?f.range.start.nodeAfter:f.position.parent;if(b&&e(b,f)){if(!s.reconvertedElements.has(b)){s.reconvertedElements.add(b);const y=Ot._createBefore(b);let S=l.length;for(let T=l.length-1;T>=0;T--){const B=l[T],P=(B.type=="attribute"?B.range.start:B.position).compareWith(y);if(P=="before"||B.type=="remove"&&P=="same")break;S=T}l.splice(S,0,{type:"remove",name:b.name,position:y,length:1},{type:"reinsert",name:b.name,position:y,length:1})}}else l.push(f)}s.changes=l}}function o1(u){return(e,n,s={})=>{const l=["insert"];for(const f of u.attributes)e.hasAttribute(f)&&l.push(`attribute:${f}`);return!!l.every(f=>n.test(e,f))&&(s.preflight||l.forEach(f=>n.consume(e,f)),!0)}}function s1(u,e,n,s){for(const l of e)Jp(u.root,l,n,s)||n.convertItem(l)}function Jp(u,e,n,s){const{writer:l,mapper:f}=n;if(!s.reconversion)return!1;const b=f.toViewElement(e);return!(!b||b.root==u)&&!!n.canReuseView(b)&&(l.move(l.createRangeOn(b),f.toViewPosition(Ot._createBefore(e))),!0)}function Wb(u,e,{preflight:n}={}){return n?e.test(u,"insert"):e.consume(u,"insert")}function a1(u){const{schema:e,document:n}=u.model;for(const s of n.getRoots())if(s.isEmpty&&!e.checkChild(s,"$text")&&e.checkChild(s,"paragraph"))return u.insertElement("paragraph",s),!0;return!1}function l1(u,e,n){const s=n.createContext(u);return!!n.checkChild(s,"paragraph")&&!!n.checkChild(s.push("paragraph"),e)}function c1(u,e){const n=e.createElement("paragraph");return e.insert(n,u),e.createPositionAt(n,0)}class KA extends $A{elementToElement(e){return this.add(u1(e))}elementToAttribute(e){return this.add(function(n){n=Hc(n),d1(n);const s=h1(n,!1),l=Gb(n.view),f=l?`element:${l}`:"element";return b=>{b.on(f,s,{priority:n.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(n){n=Hc(n);let s=null;(typeof n.view=="string"||n.view.key)&&(s=function(f){typeof f.view=="string"&&(f.view={key:f.view});const b=f.view.key,y=f.view.value===void 0?/[\s\S]*/:f.view.value;let S;return b=="class"||b=="style"?S={[b=="class"?"classes":"styles"]:y}:S={attributes:{[b]:y}},f.view.name&&(S.name=f.view.name),f.view=S,b}(n)),d1(n,s);const l=h1(n,!0);return f=>{f.on("element",l,{priority:n.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(n){const s=function(l){return(f,b)=>{const y=typeof l=="string"?l:l(f,b);return b.writer.createElement("$marker",{"data-name":y})}}(n.model);return u1({...n,model:s})}(e))}dataToMarker(e){return this.add(function(n){n=Hc(n),n.model||(n.model=b=>b?n.view+":"+b:n.view);const s={view:n.view,model:n.model},l=Xp(fi(s,"start")),f=Xp(fi(s,"end"));return b=>{b.on(`element:${n.view}-start`,l,{priority:n.converterPriority||"normal"}),b.on(`element:${n.view}-end`,f,{priority:n.converterPriority||"normal"});const y=X.low,S=X.highest,T=X.get(n.converterPriority)/S;b.on("element",function(B){return(P,W,ee)=>{const ne=`data-${B.view}`;function le(Ce,Me){for(const qe of Me){const tt=B.model(qe,ee),Et=ee.writer.createElement("$marker",{"data-name":tt});ee.writer.insert(Et,Ce),W.modelCursor.isEqual(Ce)?W.modelCursor=W.modelCursor.getShiftedBy(1):W.modelCursor=W.modelCursor._getTransformedByInsertion(Ce,1),W.modelRange=W.modelRange._getTransformedByInsertion(Ce,1)[0]}}(ee.consumable.test(W.viewItem,{attributes:ne+"-end-after"})||ee.consumable.test(W.viewItem,{attributes:ne+"-start-after"})||ee.consumable.test(W.viewItem,{attributes:ne+"-end-before"})||ee.consumable.test(W.viewItem,{attributes:ne+"-start-before"}))&&(W.modelRange||Object.assign(W,ee.convertChildren(W.viewItem,W.modelCursor)),ee.consumable.consume(W.viewItem,{attributes:ne+"-end-after"})&&le(W.modelRange.end,W.viewItem.getAttribute(ne+"-end-after").split(",")),ee.consumable.consume(W.viewItem,{attributes:ne+"-start-after"})&&le(W.modelRange.end,W.viewItem.getAttribute(ne+"-start-after").split(",")),ee.consumable.consume(W.viewItem,{attributes:ne+"-end-before"})&&le(W.modelRange.start,W.viewItem.getAttribute(ne+"-end-before").split(",")),ee.consumable.consume(W.viewItem,{attributes:ne+"-start-before"})&&le(W.modelRange.start,W.viewItem.getAttribute(ne+"-start-before").split(",")))}}(s),{priority:y+T})}}(e))}}function u1(u){const e=Xp(u=Hc(u)),n=Gb(u.view),s=n?`element:${n}`:"element";return l=>{l.on(s,e,{priority:u.converterPriority||"normal"})}}function Gb(u){return typeof u=="string"?u:typeof u=="object"&&typeof u.name=="string"?u.name:null}function Xp(u){const e=new Ro(u.view);return(n,s,l)=>{const f=e.match(s.viewItem);if(!f)return;const b=f.match;if(b.name=!0,!l.consumable.test(s.viewItem,b))return;const y=function(S,T,B){return S instanceof Function?S(T,B):B.writer.createElement(S)}(u.model,s.viewItem,l);y&&l.safeInsert(y,s.modelCursor)&&(l.consumable.consume(s.viewItem,b),l.convertChildren(s.viewItem,y),l.updateConversionResult(y,s))}}function d1(u,e=null){const n=e===null||(f=>f.getAttribute(e)),s=typeof u.model!="object"?u.model:u.model.key,l=typeof u.model!="object"||u.model.value===void 0?n:u.model.value;u.model={key:s,value:l}}function h1(u,e){const n=new Ro(u.view);return(s,l,f)=>{if(!l.modelRange&&e)return;const b=n.match(l.viewItem);if(!b||(function(B,P){const W=typeof B=="function"?B(P):B;return typeof W=="object"&&!Gb(W)?!1:!W.classes&&!W.attributes&&!W.styles}(u.view,l.viewItem)?b.match.name=!0:delete b.match.name,!f.consumable.test(l.viewItem,b.match)))return;const y=u.model.key,S=typeof u.model.value=="function"?u.model.value(l.viewItem,f):u.model.value;if(S===null)return;l.modelRange||Object.assign(l,f.convertChildren(l.viewItem,l.modelCursor)),function(B,P,W,ee){let ne=!1;for(const le of Array.from(B.getItems({shallow:W})))ee.schema.checkAttribute(le,P.key)&&(ne=!0,le.hasAttribute(P.key)||ee.writer.setAttribute(P.key,P.value,le));return ne}(l.modelRange,{key:y,value:S},e,f)&&(f.consumable.test(l.viewItem,{name:!0})&&(b.match.name=!0),f.consumable.consume(l.viewItem,b.match))}}function fi(u,e){return{view:`${u.view}-${e}`,model:(n,s)=>{const l=n.getAttribute("name"),f=u.model(l,s);return s.writer.createElement("$marker",{"data-name":f})}}}function f1(u){u.document.registerPostFixer(e=>function(n,s){const l=s.document.selection,f=s.schema,b=[];let y=!1;for(const S of l.getRanges()){const T=QA(S,f);T&&!T.isEqual(S)?(b.push(T),y=!0):b.push(S)}return y&&n.setSelection(function(S){const T=[...S],B=new Set;let P=1;for(;P<T.length;){const W=T[P],ee=T.slice(0,P);for(const[ne,le]of ee.entries())if(!B.has(ne)){if(W.isEqual(le))B.add(ne);else if(W.isIntersecting(le)){B.add(ne),B.add(P);const Ce=W.getJoined(le);T.push(Ce)}}P++}return T.filter((W,ee)=>!B.has(ee))}(b),{backward:l.isBackward}),!1}(e,u))}function QA(u,e){return u.isCollapsed?function(n,s){const l=n.start,f=s.getNearestSelectionRange(l);if(!f){const y=l.getAncestors().reverse().find(S=>s.isObject(S));return y?ut._createOn(y):null}if(!f.isCollapsed)return f;const b=f.start;return l.isEqual(b)?null:new ut(b)}(u,e):function(n,s){const{start:l,end:f}=n,b=s.checkChild(l,"$text"),y=s.checkChild(f,"$text"),S=s.getLimitElement(l),T=s.getLimitElement(f);if(S===T){if(b&&y)return null;if(function(W,ee,ne){const le=W.nodeAfter&&!ne.isLimit(W.nodeAfter)||ne.checkChild(W,"$text"),Ce=ee.nodeBefore&&!ne.isLimit(ee.nodeBefore)||ne.checkChild(ee,"$text");return le||Ce}(l,f,s)){const W=l.nodeAfter&&s.isSelectable(l.nodeAfter)?null:s.getNearestSelectionRange(l,"forward"),ee=f.nodeBefore&&s.isSelectable(f.nodeBefore)?null:s.getNearestSelectionRange(f,"backward"),ne=W?W.start:l,le=ee?ee.end:f;return new ut(ne,le)}}const B=S&&!S.is("rootElement"),P=T&&!T.is("rootElement");if(B||P){const W=l.nodeAfter&&f.nodeBefore&&l.nodeAfter.parent===f.nodeBefore.parent,ee=B&&(!W||!ZA(l.nodeAfter,s)),ne=P&&(!W||!ZA(f.nodeBefore,s));let le=l,Ce=f;return ee&&(le=Ot._createBefore(p1(S,s))),ne&&(Ce=Ot._createAfter(p1(T,s))),new ut(le,Ce)}return null}(u,e)}function p1(u,e){let n=u,s=n;for(;e.isLimit(s)&&s.parent;)n=s,s=s.parent;return n}function ZA(u,e){return u&&e.isSelectable(u)}class uS extends Ae(){constructor(e,n){super(),this.model=e,this.view=new ii(n),this.mapper=new Eh,this.downcastDispatcher=new Wp({mapper:this.mapper,schema:e.schema});const s=this.model.document,l=s.selection,f=this.model.markers;var b,y,S;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(s,"change",()=>{this.view.change(T=>{this.downcastDispatcher.convertChanges(s.differ,f,T),this.downcastDispatcher.convertSelection(l,f,T)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(T,B){return(P,W)=>{const ee=W.newSelection,ne=[];for(const Ce of ee.getRanges())ne.push(B.toModelRange(Ce));const le=T.createSelection(ne,{backward:ee.isBackward});le.isEqual(T.document.selection)||T.change(Ce=>{Ce.setSelection(le)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(b=this.mapper,y=this.model.schema,S=this.view,(T,B)=>{if(!S.document.isComposing||w.isAndroid)for(let P=0;P<B.targetRanges.length;P++){const W=B.targetRanges[P],ee=b.toModelRange(W),ne=QA(ee,y);ne&&!ne.isEqual(ee)&&(B.targetRanges[P]=b.toViewRange(ne))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(T,B,P)=>{if(!P.consumable.consume(B.item,T.name))return;const W=P.writer,ee=P.mapper.toViewPosition(B.range.start),ne=W.createText(B.item.data);W.insert(ee,ne)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(T,B,P)=>{P.convertAttributes(B.item),B.reconversion||!B.item.is("element")||B.item.isEmpty||P.convertChildren(B.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(T,B,P)=>{const W=P.mapper.toViewPosition(B.position),ee=B.position.getShiftedBy(B.length),ne=P.mapper.toViewPosition(ee,{isPhantom:!0}),le=P.writer.createRange(W,ne),Ce=P.writer.remove(le.getTrimmed());for(const Me of P.writer.createRangeIn(Ce).getItems())P.mapper.unbindViewElement(Me,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(T,B,P)=>{const W=P.writer,ee=W.document.selection;for(const ne of ee.getRanges())ne.isCollapsed&&ne.end.parent.isAttached()&&P.writer.mergeAttributes(ne.start);W.setSelection(null)}),this.downcastDispatcher.on("selection",(T,B,P)=>{const W=B.selection;if(W.isCollapsed||!P.consumable.consume(W,"selection"))return;const ee=[];for(const ne of W.getRanges())ee.push(P.mapper.toViewRange(ne));P.writer.setSelection(ee,{backward:W.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(T,B,P)=>{const W=B.selection;if(!W.isCollapsed||!P.consumable.consume(W,"selection"))return;const ee=P.writer,ne=W.getFirstPosition(),le=P.mapper.toViewPosition(ne),Ce=ee.breakAttributes(le);ee.setSelection(Ce)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(T=>{if(T.rootName=="$graveyard")return null;const B=new Bp(this.view.document,T.name);return B.rootName=T.rootName,this.mapper.bindElements(T,B),B})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const n=typeof e=="string"?e:e.name,s=this.model.markers.get(n);if(!s)throw new U("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:n});this.model.change(()=>{this.model.markers._refresh(s)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}class dS extends Ae(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties=Object.create(null),this._customChildChecks=new Map,this._customAttributeChecks=new Map,this._genericCheckSymbol=Symbol("$generic"),this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,n)=>{n[0]=new $c(n[0])},{priority:"highest"}),this.on("checkChild",(e,n)=>{n[0]=new $c(n[0]),n[1]=this.getDefinition(n[1])},{priority:"highest"})}register(e,n){if(this._sourceDefinitions[e])throw new U("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},n)],this._clearCache()}extend(e,n){if(!this._sourceDefinitions[e])throw new U("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},n)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let n;return n=typeof e=="string"?e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[n]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const n=this.getDefinition(e);return!(!n||!n.isBlock)}isLimit(e){const n=this.getDefinition(e);return!!n&&!(!n.isLimit&&!n.isObject)}isObject(e){const n=this.getDefinition(e);return!!n&&!!(n.isObject||n.isLimit&&n.isSelectable&&n.isContent)}isInline(e){const n=this.getDefinition(e);return!(!n||!n.isInline)}isSelectable(e){const n=this.getDefinition(e);return!!n&&!(!n.isSelectable&&!n.isObject)}isContent(e){const n=this.getDefinition(e);return!!n&&!(!n.isContent&&!n.isObject)}checkChild(e,n){return!!n&&this._checkContextMatch(e,n)}checkAttribute(e,n){const s=this.getDefinition(e.last);if(!s)return!1;const l=this._evaluateAttributeChecks(e,n);return l!==void 0?l:s.allowAttributes.includes(n)}checkMerge(e,n){if(e instanceof Ot){const s=e.nodeBefore,l=e.nodeAfter;if(!(s instanceof hi))throw new U("schema-check-merge-no-element-before",this);if(!(l instanceof hi))throw new U("schema-check-merge-no-element-after",this);return this.checkMerge(s,l)}if(this.isLimit(e)||this.isLimit(n))return!1;for(const s of n.getChildren())if(!this.checkChild(e,s))return!1;return!0}addChildCheck(e,n){const s=n!==void 0?n:this._genericCheckSymbol,l=this._customChildChecks.get(s)||[];l.push(e),this._customChildChecks.set(s,l)}addAttributeCheck(e,n){const s=n!==void 0?n:this._genericCheckSymbol,l=this._customAttributeChecks.get(s)||[];l.push(e),this._customAttributeChecks.set(s,l)}setAttributeProperties(e,n){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),n)}getAttributeProperties(e){return this._attributeProperties[e]||Object.create(null)}getLimitElement(e){let n;for(e instanceof Ot?n=e.parent:n=(e instanceof ut?[e]:Array.from(e.getRanges())).reduce((s,l)=>{const f=l.getCommonAncestor();return s?s.getCommonAncestor(f,{includeSelf:!0}):f},null);!this.isLimit(n)&&n.parent;)n=n.parent;return n}checkAttributeInSelection(e,n){if(e.isCollapsed){const s=[...e.getFirstPosition().getAncestors(),new Zr("",e.getAttributes())];return this.checkAttribute(s,n)}{const s=e.getRanges();for(const l of s)for(const f of l)if(this.checkAttribute(f.item,n))return!0}return!1}*getValidRanges(e,n){e=function*(s){for(const l of s)yield*l.getMinimalFlatRanges()}(e);for(const s of e)yield*this._getValidRangesForRange(s,n)}getNearestSelectionRange(e,n="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new ut(e);let s,l;const f=e.getAncestors().reverse().find(b=>this.isLimit(b))||e.root;n!="both"&&n!="backward"||(s=new Qn({boundaries:ut._createIn(f),startPosition:e,direction:"backward"})),n!="both"&&n!="forward"||(l=new Qn({boundaries:ut._createIn(f),startPosition:e}));for(const b of function*(y,S){let T=!1;for(;!T;){if(T=!0,y){const B=y.next();B.done||(T=!1,yield{walker:y,value:B.value})}if(S){const B=S.next();B.done||(T=!1,yield{walker:S,value:B.value})}}}(s,l)){const y=b.walker==s?"elementEnd":"elementStart",S=b.value;if(S.type==y&&this.isObject(S.item))return ut._createOn(S.item);if(this.checkChild(S.nextPosition,"$text"))return new ut(S.nextPosition)}return null}findAllowedParent(e,n){let s=e.parent;for(;s;){if(this.checkChild(s,n))return s;if(this.isLimit(s))return null;s=s.parent}return null}setAllowedAttributes(e,n,s){const l=s.model;for(const[f,b]of Object.entries(n))l.schema.checkAttribute(e,f)&&s.setAttribute(f,b,e)}removeDisallowedAttributes(e,n){for(const s of e)if(s.is("$text"))t_(this,s,n);else{const l=ut._createIn(s).getPositions();for(const f of l)t_(this,f.nodeBefore||f.parent,n)}}getAttributesWithProperty(e,n,s){const l={};for(const[f,b]of e.getAttributes()){const y=this.getAttributeProperties(f);y[n]!==void 0&&(s!==void 0&&s!==y[n]||(l[f]=b))}return l}createContext(e){return new $c(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},n=this._sourceDefinitions,s=Object.keys(n);for(const f of s)e[f]=em(n[f],f);const l=Object.values(e);for(const f of l)m1(e,f),Yb(e,f),g1(e,f),Vf(e,f);for(const f of l)zu(e,f);for(const f of l)yg(e,f);for(const f of l)hS(e,f);for(const f of l)JA(e,f);for(const f of l)XA(e,f);this._compiledDefinitions=function(f){const b={};for(const y of Object.values(f))b[y.name]={name:y.name,isBlock:!!y.isBlock,isContent:!!y.isContent,isInline:!!y.isInline,isLimit:!!y.isLimit,isObject:!!y.isObject,isSelectable:!!y.isSelectable,allowIn:Array.from(y.allowIn).filter(S=>!!f[S]),allowChildren:Array.from(y.allowChildren).filter(S=>!!f[S]),allowAttributes:Array.from(y.allowAttributes)};return b}(e)}_checkContextMatch(e,n){const s=e.last;let l=this._evaluateChildChecks(e,n);if(l=l!==void 0?l:n.allowIn.includes(s.name),!l)return!1;const f=this.getDefinition(s),b=e.trimLast();return!!f&&(b.length==0||this._checkContextMatch(b,f))}_evaluateChildChecks(e,n){const s=this._customChildChecks.get(this._genericCheckSymbol)||[],l=this._customChildChecks.get(n.name)||[];for(const f of[...s,...l]){const b=f(e,n);if(b!==void 0)return b}}_evaluateAttributeChecks(e,n){const s=this._customAttributeChecks.get(this._genericCheckSymbol)||[],l=this._customAttributeChecks.get(n)||[];for(const f of[...s,...l]){const b=f(e,n);if(b!==void 0)return b}}*_getValidRangesForRange(e,n){let s=e.start,l=e.start;for(const f of e.getItems({shallow:!0}))f.is("element")&&(yield*this._getValidRangesForRange(ut._createIn(f),n)),this.checkAttribute(f,n)||(s.isEqual(l)||(yield new ut(s,l)),s=Ot._createAfter(f)),l=Ot._createAfter(f);s.isEqual(l)||(yield new ut(s,l))}findOptimalInsertionRange(e,n){const s=e.getSelectedElement();if(s&&this.isObject(s)&&!this.isInline(s))return n=="before"||n=="after"?new ut(Ot._createAt(s,n)):ut._createOn(s);const l=Po(e.getSelectedBlocks());if(!l)return new ut(e.focus);if(l.isEmpty)return new ut(Ot._createAt(l,0));const f=Ot._createAfter(l);return e.focus.isTouching(f)?new ut(f):new ut(Ot._createBefore(l))}}class $c{constructor(e){if(e instanceof $c)return e;let n;n=typeof e=="string"?[e]:Array.isArray(e)?e:e.getAncestors({includeSelf:!0}),this._items=n.map(e_)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const n=new $c([e]);return n._items=[...this._items,...n._items],n}trimLast(){const e=new $c([]);return e._items=this._items.slice(0,-1),e}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function em(u,e){const n={name:e,allowIn:new Set,allowChildren:new Set,disallowIn:new Set,disallowChildren:new Set,allowContentOf:new Set,allowWhere:new Set,allowAttributes:new Set,disallowAttributes:new Set,allowAttributesOf:new Set,inheritTypesFrom:new Set};return function(s,l){for(const f of s){const b=Object.keys(f).filter(y=>y.startsWith("is"));for(const y of b)l[y]=!!f[y]}}(u,n),Wc(u,n,"allowIn"),Wc(u,n,"allowChildren"),Wc(u,n,"disallowIn"),Wc(u,n,"disallowChildren"),Wc(u,n,"allowContentOf"),Wc(u,n,"allowWhere"),Wc(u,n,"allowAttributes"),Wc(u,n,"disallowAttributes"),Wc(u,n,"allowAttributesOf"),Wc(u,n,"inheritTypesFrom"),function(s,l){for(const f of s){const b=f.inheritAllFrom;b&&(l.allowContentOf.add(b),l.allowWhere.add(b),l.allowAttributesOf.add(b),l.inheritTypesFrom.add(b))}}(u,n),n}function m1(u,e){for(const n of e.allowIn){const s=u[n];s?s.allowChildren.add(e.name):e.allowIn.delete(n)}}function Yb(u,e){for(const n of e.allowChildren){const s=u[n];s?s.allowIn.add(e.name):e.allowChildren.delete(n)}}function g1(u,e){for(const n of e.disallowIn){const s=u[n];s?s.disallowChildren.add(e.name):e.disallowIn.delete(n)}}function Vf(u,e){for(const n of e.disallowChildren){const s=u[n];s?s.disallowIn.add(e.name):e.disallowChildren.delete(n)}}function zu(u,e){for(const n of e.disallowChildren)e.allowChildren.delete(n);for(const n of e.disallowIn)e.allowIn.delete(n);for(const n of e.disallowAttributes)e.allowAttributes.delete(n)}function yg(u,e){for(const n of e.allowContentOf){const s=u[n];s&&(s.disallowChildren.forEach(l=>{e.allowChildren.has(l)||(e.disallowChildren.add(l),u[l].disallowIn.add(e.name))}),s.allowChildren.forEach(l=>{e.disallowChildren.has(l)||(e.allowChildren.add(l),u[l].allowIn.add(e.name))}))}}function hS(u,e){for(const n of e.allowWhere){const s=u[n];s&&(s.disallowIn.forEach(l=>{e.allowIn.has(l)||(e.disallowIn.add(l),u[l].disallowChildren.add(e.name))}),s.allowIn.forEach(l=>{e.disallowIn.has(l)||(e.allowIn.add(l),u[l].allowChildren.add(e.name))}))}}function JA(u,e){for(const n of e.allowAttributesOf){const s=u[n];if(!s)return;s.allowAttributes.forEach(l=>{e.disallowAttributes.has(l)||e.allowAttributes.add(l)})}}function XA(u,e){for(const n of e.inheritTypesFrom){const s=u[n];if(s){const l=Object.keys(s).filter(f=>f.startsWith("is"));for(const f of l)f in e||(e[f]=s[f])}}}function Wc(u,e,n){for(const s of u){let l=s[n];typeof l=="string"&&(l=[l]),Array.isArray(l)&&l.forEach(f=>e[n].add(f))}}function e_(u){return typeof u=="string"||u.is("documentFragment")?{name:typeof u=="string"?u:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:u.is("element")?u.name:"$text",*getAttributeKeys(){yield*u.getAttributeKeys()},getAttribute:e=>u.getAttribute(e)}}function t_(u,e,n){for(const s of e.getAttributeKeys())u.checkAttribute(e,s)||n.removeAttribute(s,e)}class b1 extends ke(){constructor(e){super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi={...e,consumable:null,writer:null,store:null,convertItem:(n,s)=>this._convertItem(n,s),convertChildren:(n,s)=>this._convertChildren(n,s),safeInsert:(n,s)=>this._safeInsert(n,s),updateConversionResult:(n,s)=>this._updateConversionResult(n,s),splitToAllowedParent:(n,s)=>this._splitToAllowedParent(n,s),getSplitParts:n=>this._getSplitParts(n),keepEmptyElement:n=>this._keepEmptyElement(n)}}convert(e,n,s=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(b,y){let S;for(const T of new $c(b)){const B={};for(const W of T.getAttributeKeys())B[W]=T.getAttribute(W);const P=y.createElement(T.name,B);S&&y.insert(P,S),S=Ot._createAt(P,0)}return S}(s,n),this.conversionApi.writer=n,this.conversionApi.consumable=Dd.createFrom(e),this.conversionApi.store={};const{modelRange:l}=this._convertItem(e,this._modelCursor),f=n.createDocumentFragment();if(l){this._removeEmptyElements();const b=this._modelCursor.parent,y=b._removeChildren(0,b.childCount);f._insertChild(0,y),f.markers=function(S,T){const B=new Set,P=new Map,W=ut._createIn(S).getItems();for(const ee of W)ee.is("element","$marker")&&B.add(ee);for(const ee of B){const ne=ee.getAttribute("data-name"),le=T.createPositionBefore(ee);P.has(ne)?P.get(ne).end=le.clone():P.set(ne,new ut(le.clone())),T.remove(ee)}return P}(f,n)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,f}_convertItem(e,n){const s={viewItem:e,modelCursor:n,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,s,this.conversionApi):e.is("$text")?this.fire("text",s,this.conversionApi):this.fire("documentFragment",s,this.conversionApi),s.modelRange&&!(s.modelRange instanceof ut))throw new U("view-conversion-dispatcher-incorrect-result",this);return{modelRange:s.modelRange,modelCursor:s.modelCursor}}_convertChildren(e,n){let s=n.is("position")?n:Ot._createAt(n,0);const l=new ut(s);for(const f of Array.from(e.getChildren())){const b=this._convertItem(f,s);b.modelRange instanceof ut&&(l.end=b.modelRange.end,s=b.modelCursor)}return{modelRange:l,modelCursor:s}}_safeInsert(e,n){const s=this._splitToAllowedParent(e,n);return!!s&&(this.conversionApi.writer.insert(e,s.position),!0)}_updateConversionResult(e,n){const s=this._getSplitParts(e),l=this.conversionApi.writer;n.modelRange||(n.modelRange=l.createRange(l.createPositionBefore(e),l.createPositionAfter(s[s.length-1])));const f=this._cursorParents.get(e);n.modelCursor=f?l.createPositionAt(f,0):n.modelRange.end}_splitToAllowedParent(e,n){const{schema:s,writer:l}=this.conversionApi;let f=s.findAllowedParent(n,e);if(f){if(f===n.parent)return{position:n};this._modelCursor.parent.getAncestors().includes(f)&&(f=null)}if(!f)return l1(n,e,s)?{position:c1(n,l)}:null;const b=this.conversionApi.writer.split(n,f),y=[];for(const T of b.range.getWalker())if(T.type=="elementEnd")y.push(T.item);else{const B=y.pop(),P=T.item;this._registerSplitPair(B,P)}const S=b.range.end.parent;return this._cursorParents.set(e,S),{position:b.position,cursorParent:S}}_registerSplitPair(e,n){this._splitParts.has(e)||this._splitParts.set(e,[e]);const s=this._splitParts.get(e);this._splitParts.set(n,s),s.push(n)}_getSplitParts(e){let n;return n=this._splitParts.has(e)?this._splitParts.get(e):[e],n}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){const e=new Map;for(const n of this._splitParts.keys())if(n.isEmpty&&!this._emptyElementsToKeep.has(n)){const s=e.get(n.parent)||[];s.push(n),this._splitParts.delete(n),e.set(n.parent,s)}for(const[n,s]of e)n._removeChildrenArray(s);e.size&&this._removeEmptyElements()}}class n_{getHtml(e){const n=p.document.implementation.createHTMLDocument("").createElement("div");return n.appendChild(e),n.innerHTML}}class r_{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new Zl(e,{renderingMode:"data"}),this.htmlWriter=new n_}toData(e){const n=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(n)}toView(e){const n=this._toDom(e);return this.domConverter.domToView(n,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){/<(?:html|body|head|meta)(?:\s[^>]*)?>/i.test(e.trim().slice(0,1e4))||(e=`<body>${e}</body>`);const n=this.domParser.parseFromString(e,"text/html"),s=n.createDocumentFragment(),l=n.body.childNodes;for(;l.length>0;)s.appendChild(l[0]);return s}}class fS extends ke(){constructor(e,n){super(),this.model=e,this.mapper=new Eh,this.downcastDispatcher=new Wp({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",(s,l,f)=>{if(!f.consumable.consume(l.item,s.name))return;const b=f.writer,y=f.mapper.toViewPosition(l.range.start),S=b.createText(l.item.data);b.insert(y,S)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(s,l,f)=>{f.convertAttributes(l.item),l.reconversion||!l.item.is("element")||l.item.isEmpty||f.convertChildren(l.item)},{priority:"lowest"}),this.upcastDispatcher=new b1({schema:e.schema}),this.viewDocument=new Lp(n),this.stylesProcessor=n,this.htmlProcessor=new r_(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new jk(this.viewDocument),this.upcastDispatcher.on("text",(s,l,{schema:f,consumable:b,writer:y})=>{let S=l.modelCursor;if(!b.test(l.viewItem))return;if(!f.checkChild(S,"$text")){if(!l1(S,"$text",f)||l.viewItem.data.trim().length==0)return;S=c1(S,y)}b.consume(l.viewItem);const T=y.createText(l.viewItem.data);y.insert(T,S),l.modelRange=y.createRange(S,S.getShiftedBy(T.offsetSize)),l.modelCursor=l.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(s,l,f)=>{if(!l.modelRange&&f.consumable.consume(l.viewItem,{name:!0})){const{modelRange:b,modelCursor:y}=f.convertChildren(l.viewItem,l.modelCursor);l.modelRange=b,l.modelCursor=y}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(s,l,f)=>{if(!l.modelRange&&f.consumable.consume(l.viewItem,{name:!0})){const{modelRange:b,modelCursor:y}=f.convertChildren(l.viewItem,l.modelCursor);l.modelRange=b,l.modelCursor=y}},{priority:"lowest"}),Ae().prototype.decorate.call(this,"init"),Ae().prototype.decorate.call(this,"set"),Ae().prototype.decorate.call(this,"get"),Ae().prototype.decorate.call(this,"toView"),Ae().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},a1)},{priority:"lowest"})}get(e={}){const{rootName:n="main",trim:s="empty"}=e;if(!this._checkIfRootsExists([n]))throw new U("datacontroller-get-non-existent-root",this);const l=this.model.document.getRoot(n);return l.isAttached()||q("datacontroller-get-detached-root",this),s!=="empty"||this.model.hasContent(l,{ignoreWhitespaces:!0})?this.stringify(l,e):""}stringify(e,n={}){const s=this.toView(e,n);return this.processor.toData(s)}toView(e,n={}){const s=this.viewDocument,l=this._viewWriter;this.mapper.clearBindings();const f=ut._createIn(e),b=new Od(s);this.mapper.bindElements(e,b);const y=e.is("documentFragment")?e.markers:function(S){const T=[],B=S.root.document;if(!B)return new Map;const P=ut._createIn(S);for(const W of B.model.markers){const ee=W.getRange(),ne=ee.isCollapsed,le=ee.start.isEqual(P.start)||ee.end.isEqual(P.end);if(ne&&le)T.push([W.name,ee]);else{const Ce=P.getIntersection(ee);Ce&&T.push([W.name,Ce])}}return T.sort(([W,ee],[ne,le])=>{if(ee.end.compareWith(le.start)!=="after")return 1;if(ee.start.compareWith(le.end)!=="before")return-1;switch(ee.start.compareWith(le.start)){case"before":return 1;case"after":return-1;default:switch(ee.end.compareWith(le.end)){case"before":return 1;case"after":return-1;default:return ne.localeCompare(W)}}}),new Map(T)}(e);return this.downcastDispatcher.convert(f,y,l,n),b}init(e){if(this.model.document.version)throw new U("datacontroller-init-document-not-empty",this);let n={};if(typeof e=="string"?n.main=e:n=e,!this._checkIfRootsExists(Object.keys(n)))throw new U("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},s=>{for(const l of Object.keys(n)){const f=this.model.document.getRoot(l);s.insert(this.parse(n[l],f),f,0)}}),Promise.resolve()}set(e,n={}){let s={};if(typeof e=="string"?s.main=e:s=e,!this._checkIfRootsExists(Object.keys(s)))throw new U("datacontroller-set-non-existent-root",this);this.model.enqueueChange(n.batchType||{},l=>{l.setSelection(null),l.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const f of Object.keys(s)){const b=this.model.document.getRoot(f);l.remove(l.createRangeIn(b)),l.insert(this.parse(s[f],b),b,0)}})}parse(e,n="$root"){const s=this.processor.toView(e);return this.toModel(s,n)}toModel(e,n="$root"){return this.model.change(s=>this.upcastDispatcher.convert(e,s,n))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const n of e)if(!this.model.document.getRoot(n))return!1;return!0}}class k1{constructor(e,n){this._helpers=new Map,this._downcast=or(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=or(n),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,n){const s=this._downcast.includes(n);if(!this._upcast.includes(n)&&!s)throw new U("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[n],isDowncast:s})}for(e){if(!this._helpers.has(e))throw new U("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:n,view:s}of Ag(e))this.for("upcast").elementToElement({model:n,view:s,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:n,view:s}of Ag(e))this.for("upcast").elementToAttribute({view:s,model:n,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:n,view:s}of Ag(e))this.for("upcast").attributeToAttribute({view:s,model:n})}_createConversionHelpers({name:e,dispatchers:n,isDowncast:s}){if(this._helpers.has(e))throw new U("conversion-group-exists",this);const l=s?new Ih(n):new KA(n);this._helpers.set(e,l)}}function*Ag(u){if(u.model.values)for(const e of u.model.values){const n={key:u.model.key,value:e},s=u.view[e],l=u.upcastAlso?u.upcastAlso[e]:void 0;yield*i_(n,s,l)}else yield*i_(u.model,u.view,u.upcastAlso)}function*i_(u,e,n){if(yield{model:u,view:e},n)for(const s of or(n))yield{model:u,view:s}}class vl{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,n){return new this(e.baseVersion)}}function Hf(u,e){const n=gr(e),s=n.reduce((b,y)=>b+y.offsetSize,0),l=u.parent;Th(u);const f=u.index;return l._insertChild(f,n),$f(l,f+n.length),$f(l,f),new ut(u,u.getShiftedBy(s))}function o_(u){if(!u.isFlat)throw new U("operation-utils-remove-range-not-flat",this);const e=u.start.parent;Th(u.start),Th(u.end);const n=e._removeChildren(u.start.index,u.end.index-u.start.index);return $f(e,u.start.index),n}function tm(u,e){if(!u.isFlat)throw new U("operation-utils-move-range-not-flat",this);const n=o_(u);return Hf(e=e._getTransformedByDeletion(u.start,u.end.offset-u.start.offset),n)}function gr(u){const e=[];(function n(s){if(typeof s=="string")e.push(new Zr(s));else if(s instanceof zn)e.push(new Zr(s.data,s.getAttributes()));else if(s instanceof zd)e.push(s);else if(He(s))for(const l of s)n(l)})(u);for(let n=1;n<e.length;n++){const s=e[n],l=e[n-1];s instanceof Zr&&l instanceof Zr&&Kb(s,l)&&(e.splice(n-1,2,new Zr(l.data+s.data,l.getAttributes())),n--)}return e}function $f(u,e){const n=u.getChild(e-1),s=u.getChild(e);if(n&&s&&n.is("$text")&&s.is("$text")&&Kb(n,s)){const l=new Zr(n.data+s.data,n.getAttributes());u._removeChildren(e-1,2),u._insertChild(e-1,l)}}function Th(u){const e=u.textNode,n=u.parent;if(e){const s=u.offset-e.startOffset,l=e.index;n._removeChildren(l,1);const f=new Zr(e.data.substr(0,s),e.getAttributes()),b=new Zr(e.data.substr(s),e.getAttributes());n._insertChild(l,[f,b])}}function Kb(u,e){const n=u.getAttributes(),s=e.getAttributes();for(const l of n){if(l[1]!==e.getAttribute(l[0]))return!1;s.next()}return s.next().done}class jr extends vl{constructor(e,n,s,l){super(l),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=n,this.targetPosition=s.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[ut._createFromPositionAndShift(this.sourcePosition,this.howMany),ut._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new jr(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new jr(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,n=this.targetPosition.parent,s=this.sourcePosition.offset,l=this.targetPosition.offset;if(s+this.howMany>e.maxOffset)throw new U("move-operation-nodes-do-not-exist",this);if(e===n&&s<l&&l<s+this.howMany)throw new U("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&pt(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const f=this.sourcePosition.path.length-1;if(this.targetPosition.path[f]>=s&&this.targetPosition.path[f]<s+this.howMany)throw new U("move-operation-node-into-itself",this)}}_execute(){tm(ut._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,n){const s=Ot.fromJSON(e.sourcePosition,n),l=Ot.fromJSON(e.targetPosition,n);return new this(s,e.howMany,l,e.baseVersion)}}class Uo extends vl{constructor(e,n,s){super(s),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new Qp(gr(n)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new Qp([...this.nodes].map(s=>s._clone(!0))),n=new Uo(this.position,e,this.baseVersion);return n.shouldReceiveAttributes=this.shouldReceiveAttributes,n}getReversed(){const e=this.position.root.document.graveyard,n=new Ot(e,[0]);return new jr(this.position,this.nodes.maxOffset,n,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new U("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new Qp([...e].map(n=>n._clone(!0))),Hf(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,n){const s=[];for(const f of e.nodes)f.name?s.push(hi.fromJSON(f)):s.push(Zr.fromJSON(f));const l=new Uo(Ot.fromJSON(e.position,n),s,e.baseVersion);return l.shouldReceiveAttributes=e.shouldReceiveAttributes,l}}class Ur extends vl{constructor(e,n,s,l,f){super(f),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=n,this.insertionPosition=s,this.graveyardPosition=l?l.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new Ot(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ut(this.splitPosition,e)}get affectedSelectable(){const e=[ut._createFromPositionAndShift(this.splitPosition,0),ut._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(ut._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new Ur(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,n=new Ot(e,[0]);return new zi(this.moveTargetPosition,this.howMany,this.splitPosition,n,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,n=this.splitPosition.offset;if(!e||e.maxOffset<n)throw new U("split-operation-position-invalid",this);if(!e.parent)throw new U("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new U("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new U("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)tm(ut._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const n=e._clone();Hf(this.insertionPosition,n)}tm(new ut(Ot._createAt(e,this.splitPosition.offset),Ot._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const n=e.path.slice(0,-1);return n[n.length-1]++,new Ot(e.root,n,"toPrevious")}static fromJSON(e,n){const s=Ot.fromJSON(e.splitPosition,n),l=Ot.fromJSON(e.insertionPosition,n),f=e.graveyardPosition?Ot.fromJSON(e.graveyardPosition,n):null;return new this(s,e.howMany,l,f,e.baseVersion)}}class zi extends vl{constructor(e,n,s,l,f){super(f),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=n,this.targetPosition=s.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=l.clone()}get type(){return"merge"}get deletionPosition(){return new Ot(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ut(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[ut._createOn(e),ut._createFromPositionAndShift(this.targetPosition,0),ut._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new zi(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),n=this.sourcePosition.path.slice(0,-1),s=new Ot(this.sourcePosition.root,n)._getTransformedByMergeOperation(this);return new Ur(e,this.howMany,s,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,n=this.targetPosition.parent;if(!e.parent)throw new U("merge-operation-source-position-invalid",this);if(!n.parent)throw new U("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new U("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;tm(ut._createIn(e),this.targetPosition),tm(ut._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,n){const s=Ot.fromJSON(e.sourcePosition,n),l=Ot.fromJSON(e.targetPosition,n),f=Ot.fromJSON(e.graveyardPosition,n);return new this(s,e.howMany,l,f,e.baseVersion)}}class qo extends vl{constructor(e,n,s,l,f,b){super(b),this.name=e,this.oldRange=n?n.clone():null,this.newRange=s?s.clone():null,this.affectsData=f,this._markers=l}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new qo(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new qo(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,n){return new qo(e.name,e.oldRange?ut.fromJSON(e.oldRange,n):null,e.newRange?ut.fromJSON(e.newRange,n):null,n.model.markers,e.affectsData,e.baseVersion)}}const w1=function(u,e){return bg(u,e)};class Eo extends vl{constructor(e,n,s,l,f){super(f),this.range=e.clone(),this.key=n,this.oldValue=s===void 0?null:s,this.newValue=l===void 0?null:l}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new Eo(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Eo(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new U("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!w1(e.getAttribute(this.key),this.oldValue))throw new U("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new U("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){w1(this.oldValue,this.newValue)||function(e,n,s){Th(e.start),Th(e.end);for(const l of e.getItems({shallow:!0})){const f=l.is("$textProxy")?l.textNode:l;s!==null?f._setAttribute(n,s):f._removeAttribute(n),$f(f.parent,f.index)}$f(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,n){return new Eo(ut.fromJSON(e.range,n),e.key,e.oldValue,e.newValue,e.baseVersion)}}class is extends vl{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new is(this.baseVersion)}getReversed(){return new is(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class Aa extends vl{constructor(e,n,s,l){super(l),this.position=e,this.position.stickiness="toNext",this.oldName=n,this.newName=s}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new Aa(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Aa(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof hi))throw new U("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new U("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,n){return new Aa(Ot.fromJSON(e.position,n),e.oldName,e.newName,e.baseVersion)}}class Uu extends vl{constructor(e,n,s,l,f){super(f),this.root=e,this.key=n,this.oldValue=s===void 0?null:s,this.newValue=l===void 0?null:l}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new Uu(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Uu(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new U("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new U("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new U("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,n){if(!n.getRoot(e.root))throw new U("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new Uu(n.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class yl extends vl{constructor(e,n,s,l,f){super(f),this.rootName=e,this.elementName=n,this.isAdd=s,this._document=l,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new yl(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new yl(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,n){return new yl(e.rootName,e.elementName,e.isAdd,n,e.baseVersion)}}const pr={};pr[Eo.className]=Eo,pr[Uo.className]=Uo,pr[qo.className]=qo,pr[jr.className]=jr,pr[is.className]=is,pr[vl.className]=vl,pr[Aa.className]=Aa,pr[Uu.className]=Uu,pr[yl.className]=yl,pr[Ur.className]=Ur,pr[zi.className]=zi;class v1{static fromJSON(e,n){return pr[e.__className].fromJSON(e,n)}}const os=new Map;function Tr(u,e,n){let s=os.get(u);s||(s=new Map,os.set(u,s)),s.set(e,n)}function y1(u){return[u]}function Qb(u,e,n={}){const s=function(l,f){const b=os.get(l);return b&&b.has(f)?b.get(f):y1}(u.constructor,e.constructor);try{return s(u=u.clone(),e,n)}catch(l){throw l}}function Zb(u,e,n){u=u.slice(),e=e.slice();const s=new s_(n.document,n.useRelations,n.forceWeakRemove);s.setOriginalOperations(u),s.setOriginalOperations(e);const l=s.originalOperations;if(u.length==0||e.length==0)return{operationsA:u,operationsB:e,originalOperations:l};const f=new WeakMap;for(const S of u)f.set(S,0);const b={nextBaseVersionA:u[u.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:u.length,originalOperationsBCount:e.length};let y=0;for(;y<u.length;){const S=u[y],T=f.get(S);if(T==e.length){y++;continue}const B=e[T],P=Qb(S,B,s.getContext(S,B,!0)),W=Qb(B,S,s.getContext(B,S,!1));s.updateRelation(S,B),s.setOriginalOperations(P,S),s.setOriginalOperations(W,B);for(const ee of P)f.set(ee,T+W.length);u.splice(y,1,...P),e.splice(T,1,...W)}return Jb(u),Jb(e),n.padWithNoOps,A1(u,b.nextBaseVersionB),A1(e,b.nextBaseVersionA),{operationsA:u,operationsB:e,originalOperations:l}}class s_{constructor(e,n,s=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=n,this._forceWeakRemove=!!s,this._relations=new Map}setOriginalOperations(e,n=null){const s=n?this.originalOperations.get(n):null;for(const l of e)this.originalOperations.set(l,s||l)}updateRelation(e,n){if(e instanceof jr)n instanceof zi?e.targetPosition.isEqual(n.sourcePosition)||n.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,n,"insertAtSource"):e.targetPosition.isEqual(n.deletionPosition)?this._setRelation(e,n,"insertBetween"):e.targetPosition.isAfter(n.sourcePosition)&&this._setRelation(e,n,"moveTargetAfter"):n instanceof jr&&(e.targetPosition.isEqual(n.sourcePosition)||e.targetPosition.isBefore(n.sourcePosition)?this._setRelation(e,n,"insertBefore"):this._setRelation(e,n,"insertAfter"));else if(e instanceof Ur){if(n instanceof zi)e.splitPosition.isBefore(n.sourcePosition)&&this._setRelation(e,n,"splitBefore");else if(n instanceof jr)if(e.splitPosition.isEqual(n.sourcePosition)||e.splitPosition.isBefore(n.sourcePosition))this._setRelation(e,n,"splitBefore");else{const s=ut._createFromPositionAndShift(n.sourcePosition,n.howMany);if(e.splitPosition.hasSameParentAs(n.sourcePosition)&&s.containsPosition(e.splitPosition)){const l=s.end.offset-e.splitPosition.offset,f=e.splitPosition.offset-s.start.offset;this._setRelation(e,n,{howMany:l,offset:f})}}}else if(e instanceof zi)n instanceof zi?(e.targetPosition.isEqual(n.sourcePosition)||this._setRelation(e,n,"mergeTargetNotMoved"),e.sourcePosition.isEqual(n.targetPosition)&&this._setRelation(e,n,"mergeSourceNotMoved"),e.sourcePosition.isEqual(n.sourcePosition)&&this._setRelation(e,n,"mergeSameElement")):n instanceof Ur?e.sourcePosition.isEqual(n.splitPosition)&&this._setRelation(e,n,"splitAtSource"):n instanceof jr&&n.howMany>0&&(e.sourcePosition.isEqual(n.sourcePosition.getShiftedBy(n.howMany))&&this._setRelation(e,n,"mergeSourceAffected"),e.targetPosition.isEqual(n.sourcePosition)&&this._setRelation(e,n,"mergeTargetWasBefore"));else if(e instanceof qo){const s=e.newRange;if(!s)return;if(n instanceof zi){const l=s.start.isEqual(n.targetPosition),f=s.start.isEqual(n.deletionPosition),b=s.end.isEqual(n.deletionPosition),y=s.end.isEqual(n.sourcePosition);(l||f||b||y)&&this._setRelation(e,n,{wasInLeftElement:l,wasStartBeforeMergedElement:f,wasEndBeforeMergedElement:b,wasInRightElement:y})}}}getContext(e,n,s){return{aIsStrong:s,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(n),abRelation:this._useRelations?this._getRelation(e,n):null,baRelation:this._useRelations?this._getRelation(n,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const n=this.originalOperations.get(e);return n.wasUndone||this._history.isUndoneOperation(n)}_getRelation(e,n){const s=this.originalOperations.get(n),l=this._history.getUndoneOperation(s);if(!l)return null;const f=this.originalOperations.get(e),b=this._relations.get(f);return b&&b.get(l)||null}_setRelation(e,n,s){const l=this.originalOperations.get(e),f=this.originalOperations.get(n);let b=this._relations.get(l);b||(b=new Map,this._relations.set(l,b)),b.set(f,s)}}function A1(u,e){for(const n of u)n.baseVersion=e++}function Jb(u){const e=new Map;for(let n=0;n<u.length;n++){const s=u[n];s instanceof qo&&(s.baseVersion!==-1?e.set(s.name,{op:s,ranges:s.newRange?[s.newRange]:[]}):(s.newRange&&e.get(s.name).ranges.push(s.newRange),u.splice(n,1),n--))}for(const{op:n,ranges:s}of e.values())s.length?n.newRange=ut._createFromRanges(s):n.newRange=null}function Xb(u,e,n){const s=u.nodes.getNode(0).getAttribute(e);if(s==n)return null;const l=new ut(u.position,u.position.getShiftedBy(u.howMany));return new Eo(l,e,s,n,0)}function a_(u,e){return u.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function Wf(u,e){const n=[];for(let s=0;s<u.length;s++){const l=u[s],f=new jr(l.start,l.end.offset-l.start.offset,e,0);n.push(f);for(let b=s+1;b<u.length;b++)u[b]=u[b]._getTransformedByMove(f.sourcePosition,f.targetPosition,f.howMany)[0];e=e._getTransformedByMove(f.sourcePosition,f.targetPosition,f.howMany)}return n}Tr(Eo,Eo,(u,e,n)=>{if(u.key===e.key&&u.range.start.hasSameParentAs(e.range.start)){const s=u.range.getDifference(e.range).map(f=>new Eo(f,u.key,u.oldValue,u.newValue,0)),l=u.range.getIntersection(e.range);return l&&n.aIsStrong&&s.push(new Eo(l,e.key,e.newValue,u.newValue,0)),s.length==0?[new is(0)]:s}return[u]}),Tr(Eo,Uo,(u,e)=>{if(u.range.start.hasSameParentAs(e.position)&&u.range.containsPosition(e.position)){const n=u.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(s=>new Eo(s,u.key,u.oldValue,u.newValue,u.baseVersion));if(e.shouldReceiveAttributes){const s=Xb(e,u.key,u.oldValue);s&&n.unshift(s)}return n}return u.range=u.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[u]}),Tr(Eo,zi,(u,e)=>{const n=[];u.range.start.hasSameParentAs(e.deletionPosition)&&(u.range.containsPosition(e.deletionPosition)||u.range.start.isEqual(e.deletionPosition))&&n.push(ut._createFromPositionAndShift(e.graveyardPosition,1));const s=u.range._getTransformedByMergeOperation(e);return s.isCollapsed||n.push(s),n.map(l=>new Eo(l,u.key,u.oldValue,u.newValue,u.baseVersion))}),Tr(Eo,jr,(u,e)=>function(s,l){const f=ut._createFromPositionAndShift(l.sourcePosition,l.howMany);let b=null,y=[];f.containsRange(s,!0)?b=s:s.start.hasSameParentAs(f.start)?(y=s.getDifference(f),b=s.getIntersection(f)):y=[s];const S=[];for(let T of y){T=T._getTransformedByDeletion(l.sourcePosition,l.howMany);const B=l.getMovedRangeStart(),P=T.start.hasSameParentAs(B),W=T._getTransformedByInsertion(B,l.howMany,P);S.push(...W)}return b&&S.push(b._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany,!1)[0]),S}(u.range,e).map(s=>new Eo(s,u.key,u.oldValue,u.newValue,u.baseVersion))),Tr(Eo,Ur,(u,e)=>{if(u.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||u.range.end.offset++,[u];if(u.range.start.hasSameParentAs(e.splitPosition)&&u.range.containsPosition(e.splitPosition)){const n=u.clone();return n.range=new ut(e.moveTargetPosition.clone(),u.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),u.range.end=e.splitPosition.clone(),u.range.end.stickiness="toPrevious",[u,n]}return u.range=u.range._getTransformedBySplitOperation(e),[u]}),Tr(Uo,Eo,(u,e)=>{const n=[u];if(u.shouldReceiveAttributes&&u.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(u.position)){const s=Xb(u,e.key,e.newValue);s&&n.push(s)}return n}),Tr(Uo,Uo,(u,e,n)=>(u.position.isEqual(e.position)&&n.aIsStrong||(u.position=u.position._getTransformedByInsertOperation(e)),[u])),Tr(Uo,jr,(u,e)=>(u.position=u.position._getTransformedByMoveOperation(e),[u])),Tr(Uo,Ur,(u,e)=>(u.position=u.position._getTransformedBySplitOperation(e),[u])),Tr(Uo,zi,(u,e)=>(u.position=u.position._getTransformedByMergeOperation(e),[u])),Tr(qo,Uo,(u,e)=>(u.oldRange&&(u.oldRange=u.oldRange._getTransformedByInsertOperation(e)[0]),u.newRange&&(u.newRange=u.newRange._getTransformedByInsertOperation(e)[0]),[u])),Tr(qo,qo,(u,e,n)=>{if(u.name==e.name){if(!n.aIsStrong)return[new is(0)];u.oldRange=e.newRange?e.newRange.clone():null}return[u]}),Tr(qo,zi,(u,e)=>(u.oldRange&&(u.oldRange=u.oldRange._getTransformedByMergeOperation(e)),u.newRange&&(u.newRange=u.newRange._getTransformedByMergeOperation(e)),[u])),Tr(qo,jr,(u,e)=>{const n=[u];if(u.oldRange&&(u.oldRange=ut._createFromRanges(u.oldRange._getTransformedByMoveOperation(e))),u.newRange){const s=u.newRange._getTransformedByMoveOperation(e);u.newRange=s[0];for(let l=1;l<s.length;l++){const f=u.clone();f.oldRange=null,f.newRange=s[l],f.baseVersion=-1,n.push(f)}}return n}),Tr(qo,Ur,(u,e,n)=>{if(u.oldRange&&(u.oldRange=u.oldRange._getTransformedBySplitOperation(e)),u.newRange){if(n.abRelation){const s=u.newRange._getTransformedBySplitOperation(e);return u.newRange.start.isEqual(e.splitPosition)&&n.abRelation.wasStartBeforeMergedElement?u.newRange.start=Ot._createAt(e.insertionPosition):u.newRange.start.isEqual(e.splitPosition)&&!n.abRelation.wasInLeftElement?u.newRange.start=Ot._createAt(e.moveTargetPosition):u.newRange.start=s.start,u.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasInRightElement?u.newRange.end=Ot._createAt(e.moveTargetPosition):u.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasEndBeforeMergedElement?u.newRange.end=Ot._createAt(e.insertionPosition):u.newRange.end=s.end,[u]}u.newRange=u.newRange._getTransformedBySplitOperation(e)}return[u]}),Tr(zi,Uo,(u,e)=>(u.sourcePosition.hasSameParentAs(e.position)&&(u.howMany+=e.howMany),u.sourcePosition=u.sourcePosition._getTransformedByInsertOperation(e),u.targetPosition=u.targetPosition._getTransformedByInsertOperation(e),[u])),Tr(zi,zi,(u,e,n)=>{if(u.sourcePosition.isEqual(e.sourcePosition)&&u.targetPosition.isEqual(e.targetPosition)){if(n.bWasUndone){const s=e.graveyardPosition.path.slice();return s.push(0),u.sourcePosition=new Ot(e.graveyardPosition.root,s),u.howMany=0,[u]}return[new is(0)]}if(u.sourcePosition.isEqual(e.sourcePosition)&&!u.targetPosition.isEqual(e.targetPosition)&&!n.bWasUndone&&n.abRelation!="splitAtSource"){const s=u.targetPosition.root.rootName=="$graveyard",l=e.targetPosition.root.rootName=="$graveyard";if(l&&!s||!(s&&!l)&&n.aIsStrong){const f=e.targetPosition._getTransformedByMergeOperation(e),b=u.targetPosition._getTransformedByMergeOperation(e);return[new jr(f,u.howMany,b,0)]}return[new is(0)]}return u.sourcePosition.hasSameParentAs(e.targetPosition)&&(u.howMany+=e.howMany),u.sourcePosition=u.sourcePosition._getTransformedByMergeOperation(e),u.targetPosition=u.targetPosition._getTransformedByMergeOperation(e),u.graveyardPosition.isEqual(e.graveyardPosition)&&n.aIsStrong||(u.graveyardPosition=u.graveyardPosition._getTransformedByMergeOperation(e)),[u]}),Tr(zi,jr,(u,e,n)=>{const s=ut._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!n.bWasUndone&&u.deletionPosition.hasSameParentAs(e.sourcePosition)&&s.containsPosition(u.sourcePosition)?[new is(0)]:(e.sourcePosition.getShiftedBy(e.howMany).isEqual(u.sourcePosition)?u.sourcePosition.stickiness="toNone":e.targetPosition.isEqual(u.sourcePosition)&&n.abRelation=="mergeSourceAffected"?u.sourcePosition.stickiness="toNext":e.sourcePosition.isEqual(u.targetPosition)?(u.targetPosition.stickiness="toNone",u.howMany-=e.howMany):e.targetPosition.isEqual(u.targetPosition)&&n.abRelation=="mergeTargetWasBefore"?(u.targetPosition.stickiness="toPrevious",u.howMany+=e.howMany):(u.sourcePosition.hasSameParentAs(e.targetPosition)&&(u.howMany+=e.howMany),u.sourcePosition.hasSameParentAs(e.sourcePosition)&&(u.howMany-=e.howMany)),u.sourcePosition=u.sourcePosition._getTransformedByMoveOperation(e),u.targetPosition=u.targetPosition._getTransformedByMoveOperation(e),u.sourcePosition.stickiness="toPrevious",u.targetPosition.stickiness="toNext",u.graveyardPosition.isEqual(e.targetPosition)||(u.graveyardPosition=u.graveyardPosition._getTransformedByMoveOperation(e)),[u])}),Tr(zi,Ur,(u,e,n)=>{if(e.graveyardPosition&&(u.graveyardPosition=u.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),u.deletionPosition.isEqual(e.graveyardPosition)&&(u.howMany=e.howMany)),u.targetPosition.isEqual(e.splitPosition)&&(e.graveyardPosition&&u.deletionPosition.isEqual(e.graveyardPosition)||n.abRelation=="mergeTargetNotMoved"))return u.sourcePosition=u.sourcePosition._getTransformedBySplitOperation(e),[u];if(u.sourcePosition.isEqual(e.splitPosition)){if(n.abRelation=="mergeSourceNotMoved")return u.howMany=0,u.targetPosition=u.targetPosition._getTransformedBySplitOperation(e),[u];if(n.abRelation=="mergeSameElement"||u.sourcePosition.offset>0)return u.sourcePosition=e.moveTargetPosition.clone(),u.targetPosition=u.targetPosition._getTransformedBySplitOperation(e),[u]}return u.sourcePosition.hasSameParentAs(e.splitPosition)&&(u.howMany=e.splitPosition.offset),u.sourcePosition=u.sourcePosition._getTransformedBySplitOperation(e),u.targetPosition=u.targetPosition._getTransformedBySplitOperation(e),[u]}),Tr(jr,Uo,(u,e)=>{const n=ut._createFromPositionAndShift(u.sourcePosition,u.howMany)._getTransformedByInsertOperation(e,!1)[0];return u.sourcePosition=n.start,u.howMany=n.end.offset-n.start.offset,u.targetPosition.isEqual(e.position)||(u.targetPosition=u.targetPosition._getTransformedByInsertOperation(e)),[u]}),Tr(jr,jr,(u,e,n)=>{const s=ut._createFromPositionAndShift(u.sourcePosition,u.howMany),l=ut._createFromPositionAndShift(e.sourcePosition,e.howMany);let f,b=n.aIsStrong,y=!n.aIsStrong;if(n.abRelation=="insertBefore"||n.baRelation=="insertAfter"?y=!0:n.abRelation!="insertAfter"&&n.baRelation!="insertBefore"||(y=!1),f=u.targetPosition.isEqual(e.targetPosition)&&y?u.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):u.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),a_(u,e)&&a_(e,u))return[e.getReversed()];if(s.containsPosition(e.targetPosition)&&s.containsRange(l,!0))return s.start=s.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),s.end=s.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Wf([s],f);if(l.containsPosition(u.targetPosition)&&l.containsRange(s,!0))return s.start=s.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),s.end=s.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),Wf([s],f);const S=pt(u.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(S=="prefix"||S=="extension")return s.start=s.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),s.end=s.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Wf([s],f);u.type!="remove"||e.type=="remove"||n.aWasUndone||n.forceWeakRemove?u.type=="remove"||e.type!="remove"||n.bWasUndone||n.forceWeakRemove||(b=!1):b=!0;const T=[],B=s.getDifference(l);for(const W of B){W.start=W.start._getTransformedByDeletion(e.sourcePosition,e.howMany),W.end=W.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const ee=pt(W.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",ne=W._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,ee);T.push(...ne)}const P=s.getIntersection(l);return P!==null&&b&&(P.start=P.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),P.end=P.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),T.length===0?T.push(P):T.length==1?l.start.isBefore(s.start)||l.start.isEqual(s.start)?T.unshift(P):T.push(P):T.splice(1,0,P)),T.length===0?[new is(u.baseVersion)]:Wf(T,f)}),Tr(jr,Ur,(u,e,n)=>{let s=u.targetPosition.clone();u.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&n.abRelation!="moveTargetAfter"||(s=u.targetPosition._getTransformedBySplitOperation(e));const l=ut._createFromPositionAndShift(u.sourcePosition,u.howMany);if(l.end.isEqual(e.insertionPosition))return e.graveyardPosition||u.howMany++,u.targetPosition=s,[u];if(l.start.hasSameParentAs(e.splitPosition)&&l.containsPosition(e.splitPosition)){let b=new ut(e.splitPosition,l.end);return b=b._getTransformedBySplitOperation(e),Wf([new ut(l.start,e.splitPosition),b],s)}u.targetPosition.isEqual(e.splitPosition)&&n.abRelation=="insertAtSource"&&(s=e.moveTargetPosition),u.targetPosition.isEqual(e.insertionPosition)&&n.abRelation=="insertBetween"&&(s=u.targetPosition);const f=[l._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const b=l.start.isEqual(e.graveyardPosition)||l.containsPosition(e.graveyardPosition);u.howMany>1&&b&&!n.aWasUndone&&f.push(ut._createFromPositionAndShift(e.insertionPosition,1))}return Wf(f,s)}),Tr(jr,zi,(u,e,n)=>{const s=ut._createFromPositionAndShift(u.sourcePosition,u.howMany);if(e.deletionPosition.hasSameParentAs(u.sourcePosition)&&s.containsPosition(e.sourcePosition)){if(u.type!="remove"||n.forceWeakRemove){if(u.howMany==1)return n.bWasUndone?(u.sourcePosition=e.graveyardPosition.clone(),u.targetPosition=u.targetPosition._getTransformedByMergeOperation(e),[u]):[new is(0)]}else if(!n.aWasUndone){const f=[];let b=e.graveyardPosition.clone(),y=e.targetPosition._getTransformedByMergeOperation(e);const S=u.targetPosition.getTransformedByOperation(e);u.howMany>1&&(f.push(new jr(u.sourcePosition,u.howMany-1,S,0)),b=b._getTransformedByMove(u.sourcePosition,S,u.howMany-1),y=y._getTransformedByMove(u.sourcePosition,S,u.howMany-1));const T=e.deletionPosition._getCombined(u.sourcePosition,S),B=new jr(b,1,T,0),P=B.getMovedRangeStart().path.slice();P.push(0);const W=new Ot(B.targetPosition.root,P);y=y._getTransformedByMove(b,T,1);const ee=new jr(y,e.howMany,W,0);return f.push(B),f.push(ee),f}}const l=ut._createFromPositionAndShift(u.sourcePosition,u.howMany)._getTransformedByMergeOperation(e);return u.sourcePosition=l.start,u.howMany=l.end.offset-l.start.offset,u.targetPosition=u.targetPosition._getTransformedByMergeOperation(e),[u]}),Tr(Aa,Uo,(u,e)=>(u.position=u.position._getTransformedByInsertOperation(e),[u])),Tr(Aa,zi,(u,e)=>u.position.isEqual(e.deletionPosition)?(u.position=e.graveyardPosition.clone(),u.position.stickiness="toNext",[u]):(u.position=u.position._getTransformedByMergeOperation(e),[u])),Tr(Aa,jr,(u,e)=>(u.position=u.position._getTransformedByMoveOperation(e),[u])),Tr(Aa,Aa,(u,e,n)=>{if(u.position.isEqual(e.position)){if(!n.aIsStrong)return[new is(0)];u.oldName=e.newName}return[u]}),Tr(Aa,Ur,(u,e)=>{if(pt(u.position.path,e.splitPosition.getParentPath())=="same"&&!e.graveyardPosition){const n=new Aa(u.position.getShiftedBy(1),u.oldName,u.newName,0);return[u,n]}return u.position=u.position._getTransformedBySplitOperation(e),[u]}),Tr(Uu,Uu,(u,e,n)=>{if(u.root===e.root&&u.key===e.key){if(!n.aIsStrong||u.newValue===e.newValue)return[new is(0)];u.oldValue=e.newValue}return[u]}),Tr(yl,yl,(u,e)=>u.rootName===e.rootName&&u.isAdd===e.isAdd?[new is(0)]:[u]),Tr(Ur,Uo,(u,e)=>(u.splitPosition.hasSameParentAs(e.position)&&u.splitPosition.offset<e.position.offset&&(u.howMany+=e.howMany),u.splitPosition=u.splitPosition._getTransformedByInsertOperation(e),u.insertionPosition=u.insertionPosition._getTransformedByInsertOperation(e),[u])),Tr(Ur,zi,(u,e,n)=>{if(!u.graveyardPosition&&!n.bWasUndone&&u.splitPosition.hasSameParentAs(e.sourcePosition)){const s=e.graveyardPosition.path.slice();s.push(0);const l=new Ot(e.graveyardPosition.root,s),f=Ur.getInsertionPosition(new Ot(e.graveyardPosition.root,s)),b=new Ur(l,0,f,null,0);return u.splitPosition=u.splitPosition._getTransformedByMergeOperation(e),u.insertionPosition=Ur.getInsertionPosition(u.splitPosition),u.graveyardPosition=b.insertionPosition.clone(),u.graveyardPosition.stickiness="toNext",[b,u]}return u.splitPosition.hasSameParentAs(e.deletionPosition)&&!u.splitPosition.isAfter(e.deletionPosition)&&u.howMany--,u.splitPosition.hasSameParentAs(e.targetPosition)&&(u.howMany+=e.howMany),u.splitPosition=u.splitPosition._getTransformedByMergeOperation(e),u.insertionPosition=Ur.getInsertionPosition(u.splitPosition),u.graveyardPosition&&(u.graveyardPosition=u.graveyardPosition._getTransformedByMergeOperation(e)),[u]}),Tr(Ur,jr,(u,e,n)=>{const s=ut._createFromPositionAndShift(e.sourcePosition,e.howMany);if(u.graveyardPosition){const f=s.start.isEqual(u.graveyardPosition)||s.containsPosition(u.graveyardPosition);if(!n.bWasUndone&&f){const b=u.splitPosition._getTransformedByMoveOperation(e),y=u.graveyardPosition._getTransformedByMoveOperation(e),S=y.path.slice();S.push(0);const T=new Ot(y.root,S);return[new jr(b,u.howMany,T,0)]}u.graveyardPosition=u.graveyardPosition._getTransformedByMoveOperation(e)}const l=u.splitPosition.isEqual(e.targetPosition);if(l&&(n.baRelation=="insertAtSource"||n.abRelation=="splitBefore"))return u.howMany+=e.howMany,u.splitPosition=u.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),u.insertionPosition=Ur.getInsertionPosition(u.splitPosition),[u];if(l&&n.abRelation&&n.abRelation.howMany){const{howMany:f,offset:b}=n.abRelation;return u.howMany+=f,u.splitPosition=u.splitPosition.getShiftedBy(b),[u]}if(u.splitPosition.hasSameParentAs(e.sourcePosition)&&s.containsPosition(u.splitPosition)){const f=e.howMany-(u.splitPosition.offset-e.sourcePosition.offset);return u.howMany-=f,u.splitPosition.hasSameParentAs(e.targetPosition)&&u.splitPosition.offset<e.targetPosition.offset&&(u.howMany+=e.howMany),u.splitPosition=e.sourcePosition.clone(),u.insertionPosition=Ur.getInsertionPosition(u.splitPosition),[u]}return e.sourcePosition.isEqual(e.targetPosition)||(u.splitPosition.hasSameParentAs(e.sourcePosition)&&u.splitPosition.offset<=e.sourcePosition.offset&&(u.howMany-=e.howMany),u.splitPosition.hasSameParentAs(e.targetPosition)&&u.splitPosition.offset<e.targetPosition.offset&&(u.howMany+=e.howMany)),u.splitPosition.stickiness="toNone",u.splitPosition=u.splitPosition._getTransformedByMoveOperation(e),u.splitPosition.stickiness="toNext",u.graveyardPosition?u.insertionPosition=u.insertionPosition._getTransformedByMoveOperation(e):u.insertionPosition=Ur.getInsertionPosition(u.splitPosition),[u]}),Tr(Ur,Ur,(u,e,n)=>{if(u.splitPosition.isEqual(e.splitPosition)){if(!u.graveyardPosition&&!e.graveyardPosition)return[new is(0)];if(u.graveyardPosition&&e.graveyardPosition&&u.graveyardPosition.isEqual(e.graveyardPosition))return[new is(0)];if(n.abRelation=="splitBefore")return u.howMany=0,u.graveyardPosition=u.graveyardPosition._getTransformedBySplitOperation(e),[u]}if(u.graveyardPosition&&e.graveyardPosition&&u.graveyardPosition.isEqual(e.graveyardPosition)){const s=u.splitPosition.root.rootName=="$graveyard",l=e.splitPosition.root.rootName=="$graveyard";if(l&&!s||!(s&&!l)&&n.aIsStrong){const f=[];return e.howMany&&f.push(new jr(e.moveTargetPosition,e.howMany,e.splitPosition,0)),u.howMany&&f.push(new jr(u.splitPosition,u.howMany,u.moveTargetPosition,0)),f}return[new is(0)]}if(u.graveyardPosition&&(u.graveyardPosition=u.graveyardPosition._getTransformedBySplitOperation(e)),u.splitPosition.isEqual(e.insertionPosition)&&n.abRelation=="splitBefore")return u.howMany++,[u];if(e.splitPosition.isEqual(u.insertionPosition)&&n.baRelation=="splitBefore"){const s=e.insertionPosition.path.slice();s.push(0);const l=new Ot(e.insertionPosition.root,s);return[u,new jr(u.insertionPosition,1,l,0)]}return u.splitPosition.hasSameParentAs(e.splitPosition)&&u.splitPosition.offset<e.splitPosition.offset&&(u.howMany-=e.howMany),u.splitPosition=u.splitPosition._getTransformedBySplitOperation(e),u.insertionPosition=Ur.getInsertionPosition(u.splitPosition),[u]});class Js extends ke(Ot){constructor(e,n,s="toNone"){if(super(e,n,s),!this.root.is("rootElement"))throw new U("model-liveposition-root-not-rootelement",e);l_.call(this)}detach(){this.stopListening()}toPosition(){return new Ot(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,n){return new this(e.root,e.path.slice(),n||e.stickiness)}}function l_(){this.listenTo(this.root.document.model,"applyOperation",(u,e)=>{const n=e[0];n.isDocumentOperation&&pS.call(this,n)},{priority:"low"})}function pS(u){const e=this.getTransformedByOperation(u);if(!this.isEqual(e)){const n=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",n)}}Js.prototype.is=function(u){return u==="livePosition"||u==="model:livePosition"||u=="position"||u==="model:position"};class nm{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},q("batch-constructor-deprecated-string-type"));const{isUndoable:n=!0,isLocal:s=!0,isUndo:l=!1,isTyping:f=!1}=e;this.operations=[],this.isUndoable=n,this.isLocal=s,this.isUndo=l,this.isTyping=f}get type(){return q("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.isDocumentOperation&&(e.batch=this,this.operations.push(e)),e}}const yv=class yv{constructor(e){this._changesInElement=new Map,this._elementsSnapshots=new Map,this._elementChildrenSnapshots=new Map,this._elementState=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const n=e;switch(n.type){case"insert":if(this._isInInsertedElement(n.position.parent))return;this._markInsert(n.position.parent,n.position.offset,n.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const s of n.range.getItems({shallow:!0}))this._isInInsertedElement(s.parent)||this._markAttribute(s);break;case"remove":case"move":case"reinsert":{if(n.sourcePosition.isEqual(n.targetPosition)||n.sourcePosition.getShiftedBy(n.howMany).isEqual(n.targetPosition))return;const s=this._isInInsertedElement(n.sourcePosition.parent),l=this._isInInsertedElement(n.targetPosition.parent);s||this._markRemove(n.sourcePosition.parent,n.sourcePosition.offset,n.howMany),l||this._markInsert(n.targetPosition.parent,n.getMovedRangeStart().offset,n.howMany);const f=ut._createFromPositionAndShift(n.sourcePosition,n.howMany);for(const b of f.getItems({shallow:!0}))this._setElementState(b,"move");break}case"rename":{if(this._isInInsertedElement(n.position.parent))return;this._markRemove(n.position.parent,n.position.offset,1),this._markInsert(n.position.parent,n.position.offset,1);const s=ut._createFromPositionAndShift(n.position,1);for(const l of this._markerCollection.getMarkersIntersectingRange(s)){const f=l.getData();this.bufferMarkerChange(l.name,f,f)}this._setElementState(n.position.nodeAfter,"rename");break}case"split":{const s=n.splitPosition.parent;if(!this._isInInsertedElement(s)){this._markRemove(s,n.splitPosition.offset,n.howMany);const l=ut._createFromPositionAndShift(n.splitPosition,n.howMany);for(const f of l.getItems({shallow:!0}))this._setElementState(f,"move")}this._isInInsertedElement(n.insertionPosition.parent)||this._markInsert(n.insertionPosition.parent,n.insertionPosition.offset,1),n.graveyardPosition&&(this._markRemove(n.graveyardPosition.parent,n.graveyardPosition.offset,1),this._setElementState(n.graveyardPosition.nodeAfter,"move"));break}case"merge":{const s=n.sourcePosition.parent;this._isInInsertedElement(s.parent)||this._markRemove(s.parent,s.startOffset,1);const l=n.graveyardPosition.parent;this._markInsert(l,n.graveyardPosition.offset,1),this._setElementState(s,"move");const f=n.targetPosition.parent;if(!this._isInInsertedElement(f)){this._markInsert(f,n.targetPosition.offset,s.maxOffset);const b=ut._createFromPositionAndShift(n.sourcePosition,n.howMany);for(const y of b.getItems({shallow:!0}))this._setElementState(y,"move")}break}case"detachRoot":case"addRoot":{const s=n.affectedSelectable;if(!s._isLoaded||s.isAttached()==n.isAdd)return;this._bufferRootStateChange(n.rootName,n.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!n.root._isLoaded)return;const s=n.root.rootName;this._bufferRootAttributeChange(s,n.key,n.oldValue,n.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,n,s){n.range&&n.range.root.is("rootElement")&&!n.range.root._isLoaded&&(n.range=null),s.range&&s.range.root.is("rootElement")&&!s.range.root._isLoaded&&(s.range=null);let l=this._changedMarkers.get(e);l?l.newMarkerData=s:(l={newMarkerData:s,oldMarkerData:n},this._changedMarkers.set(e,l)),l.oldMarkerData.range==null&&s.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[n,s]of this._changedMarkers)s.oldMarkerData.range!=null&&e.push({name:n,range:s.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[n,s]of this._changedMarkers)s.newMarkerData.range!=null&&e.push({name:n,range:s.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,n])=>({name:e,data:{oldRange:n.oldMarkerData.range,newRange:n.newMarkerData.range}}))}hasDataChanges(){if(this.getChanges().length||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:n}of this._changedMarkers.values()){if(e.affectsData!==n.affectsData)return!0;if(e.affectsData){const s=e.range&&!n.range,l=!e.range&&n.range,f=e.range&&n.range&&!e.range.isEqual(n.range);if(s||l||f)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let n=[];for(const s of this._changesInElement.keys()){const l=this._changesInElement.get(s).sort((B,P)=>B.offset===P.offset?B.type!=P.type?B.type=="remove"?-1:1:0:B.offset<P.offset?-1:1),f=this._elementChildrenSnapshots.get(s),b=e0(s.getChildren()),y=mS(f.length,l);let S=0,T=0;for(const B of y)if(B==="i"){const P=this._getDiffActionForNode(b[S].node,"insert"),W=this._elementsSnapshots.get(b[S].node),ee=this._getInsertDiff(s,S,P,b[S],W);n.push(ee),S++}else if(B==="r"){const P=this._getDiffActionForNode(f[T].node,"remove"),W=this._getRemoveDiff(s,S,P,f[T]);n.push(W),T++}else if(B==="a"){const P=f[T].attributes,W=b[S].attributes;let ee;if(b[S].name=="$text")ee=new ut(Ot._createAt(s,S),Ot._createAt(s,S+1));else{const le=s.offsetToIndex(S);ee=new ut(Ot._createAt(s,S),Ot._createAt(s.getChild(le),0))}const ne=this._getAttributesDiff(ee,P,W);n.push(...ne),S++,T++}else S++,T++}n.sort((s,l)=>s.position.root!=l.position.root?s.position.root.rootName<l.position.root.rootName?-1:1:s.position.isEqual(l.position)?s.changeCount-l.changeCount:s.position.isBefore(l.position)?-1:1);for(let s=1,l=0;s<n.length;s++){const f=n[l],b=n[s],y=f.type=="remove"&&b.type=="remove"&&f.name=="$text"&&b.name=="$text"&&f.position.isEqual(b.position),S=f.type=="insert"&&b.type=="insert"&&f.name=="$text"&&b.name=="$text"&&f.position.parent==b.position.parent&&f.position.offset+f.length==b.position.offset,T=f.type=="attribute"&&b.type=="attribute"&&f.position.parent==b.position.parent&&f.range.isFlat&&b.range.isFlat&&f.position.offset+f.length==b.position.offset&&f.attributeKey==b.attributeKey&&f.attributeOldValue==b.attributeOldValue&&f.attributeNewValue==b.attributeNewValue;y||S||T?(f.length++,T&&(f.range.end=f.range.end.getShiftedBy(1)),n[s]=null):l=s}n=n.filter(s=>s);for(const s of n)delete s.changeCount,s.type=="attribute"&&(delete s.position,delete s.length);return this._changeCount=0,this._cachedChangesWithGraveyard=n,this._cachedChanges=n.filter(gS),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const n={...e};return n.state!==void 0&&delete n.attributes,n})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementChildrenSnapshots.clear(),this._elementsSnapshots.clear(),this._elementState.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems.clear(),this._cachedChanges=null}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e),this._setElementState(e,"refresh");const n=ut._createOn(e);for(const s of this._markerCollection.getMarkersIntersectingRange(n)){const l=s.getData();this.bufferMarkerChange(s.name,l,l)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const n of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,n,null,e.getAttribute(n));for(const n of this._markerCollection)if(n.getRange().root==e){const s=n.getData();this.bufferMarkerChange(n.name,{...s,range:null},s)}}}_bufferRootStateChange(e,n){if(!this._changedRoots.has(e))return void this._changedRoots.set(e,{name:e,state:n?"attached":"detached"});const s=this._changedRoots.get(e);s.state!==void 0?(delete s.state,s.attributes===void 0&&this._changedRoots.delete(e)):s.state=n?"attached":"detached"}_bufferRootAttributeChange(e,n,s,l){const f=this._changedRoots.get(e)||{name:e},b=f.attributes||{};if(b[n]){const y=b[n];l===y.oldValue?delete b[n]:y.newValue=l}else b[n]={oldValue:s,newValue:l};Object.entries(b).length===0?(delete f.attributes,f.state===void 0&&this._changedRoots.delete(e)):(f.attributes=b,this._changedRoots.set(e,f))}_markInsert(e,n,s){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const l={type:"insert",offset:n,howMany:s,count:this._changeCount++};this._markChange(e,l)}_markRemove(e,n,s){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const l={type:"remove",offset:n,howMany:s,count:this._changeCount++};this._markChange(e,l),this._removeAllNestedChanges(e,n,s)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const n={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,n)}_markChange(e,n){this._makeSnapshots(e);const s=this._getChangesForElement(e);this._handleChange(n,s),s.push(n);for(let l=0;l<s.length;l++)s[l].howMany<1&&(s.splice(l,1),l--)}_setElementState(e,n){if(!e.is("element"))return;const s=yv._statesPriority.indexOf(this._elementState.get(e));yv._statesPriority.indexOf(n)>s&&this._elementState.set(e,n)}_getDiffActionForNode(e,n){if(!e.is("element")||!this._elementsSnapshots.has(e))return n;const s=this._elementState.get(e);return s&&s!="move"?s:n}_getChangesForElement(e){let n;return this._changesInElement.has(e)?n=this._changesInElement.get(e):(n=[],this._changesInElement.set(e,n)),n}_makeSnapshots(e){if(this._elementChildrenSnapshots.has(e))return;const n=e0(e.getChildren());this._elementChildrenSnapshots.set(e,n);for(const s of n)this._elementsSnapshots.set(s.node,s)}_handleChange(e,n){e.nodesToHandle=e.howMany;for(const s of n){const l=e.offset+e.howMany,f=s.offset+s.howMany;if(e.type=="insert"&&(s.type=="insert"&&(e.offset<=s.offset?s.offset+=e.howMany:e.offset<f&&(s.howMany+=e.nodesToHandle,e.nodesToHandle=0)),s.type=="remove"&&e.offset<s.offset&&(s.offset+=e.howMany),s.type=="attribute")){if(e.offset<=s.offset)s.offset+=e.howMany;else if(e.offset<f){const b=s.howMany;s.howMany=e.offset-s.offset,n.unshift({type:"attribute",offset:l,howMany:b-s.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(s.type=="insert"){if(l<=s.offset)s.offset-=e.howMany;else if(l<=f)if(e.offset<s.offset){const b=l-s.offset;s.offset=e.offset,s.howMany-=b,e.nodesToHandle-=b}else s.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=s.offset)e.nodesToHandle-=s.howMany,s.howMany=0;else if(e.offset<f){const b=f-e.offset;s.howMany-=b,e.nodesToHandle-=b}}if(s.type=="remove"&&(l<=s.offset?s.offset-=e.howMany:e.offset<s.offset&&(e.nodesToHandle+=s.howMany,s.howMany=0)),s.type=="attribute"){if(l<=s.offset)s.offset-=e.howMany;else if(e.offset<s.offset){const b=l-s.offset;s.offset=e.offset,s.howMany-=b}else if(e.offset<f)if(l<=f){const b=s.howMany;s.howMany=e.offset-s.offset;const y=b-s.howMany-e.nodesToHandle;n.unshift({type:"attribute",offset:e.offset,howMany:y,count:this._changeCount++})}else s.howMany-=f-e.offset}}if(e.type=="attribute"){if(s.type=="insert")if(e.offset<s.offset&&l>s.offset){if(l>f){const b={type:"attribute",offset:f,howMany:l-f,count:this._changeCount++};this._handleChange(b,n),n.push(b)}e.nodesToHandle=s.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=s.offset&&e.offset<f&&(l>f?(e.nodesToHandle=l-f,e.offset=f):e.nodesToHandle=0);if(s.type=="remove"&&e.offset<s.offset&&l>s.offset){const b={type:"attribute",offset:s.offset,howMany:l-s.offset,count:this._changeCount++};this._handleChange(b,n),n.push(b),e.nodesToHandle=s.offset-e.offset,e.howMany=e.nodesToHandle}s.type=="attribute"&&(e.offset>=s.offset&&l<=f?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=s.offset&&l>=f&&(s.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,n,s,l,f){const b={type:"insert",position:Ot._createAt(e,n),name:l.name,attributes:new Map(l.attributes),length:1,changeCount:this._changeCount++,action:s};return s!="insert"&&f&&(b.before={name:f.name,attributes:new Map(f.attributes)}),b}_getRemoveDiff(e,n,s,l){return{type:"remove",action:s,position:Ot._createAt(e,n),name:l.name,attributes:new Map(l.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,n,s){const l=[];s=new Map(s);for(const[f,b]of n){const y=s.has(f)?s.get(f):null;y!==b&&l.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:f,attributeOldValue:b,attributeNewValue:y,changeCount:this._changeCount++}),s.delete(f)}for(const[f,b]of s)l.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:f,attributeOldValue:null,attributeNewValue:b,changeCount:this._changeCount++});return l}_isInInsertedElement(e){const n=e.parent;if(!n)return!1;const s=this._changesInElement.get(n),l=e.startOffset;if(s){for(const f of s)if(f.type=="insert"&&l>=f.offset&&l<f.offset+f.howMany)return!0}return this._isInInsertedElement(n)}_removeAllNestedChanges(e,n,s){const l=new ut(Ot._createAt(e,n),Ot._createAt(e,n+s));for(const f of l.getItems({shallow:!0}))f.is("element")&&(this._changesInElement.delete(f),this._removeAllNestedChanges(f,0,f.maxOffset))}};yv._statesPriority=[void 0,"refresh","rename","move"];let qu=yv;function _1(u){return{node:u,name:u.is("$text")?"$text":u.name,attributes:new Map(u.getAttributes())}}function e0(u){const e=[];for(const n of u)if(n.is("$text"))for(let s=0;s<n.data.length;++s)e.push(_1(n));else e.push(_1(n));return e}function mS(u,e){const n=[];let s=0,l=0;for(const f of e){if(f.offset>s){for(let b=0;b<f.offset-s;b++)n.push("e");l+=f.offset-s}if(f.type=="insert"){for(let b=0;b<f.howMany;b++)n.push("i");s=f.offset+f.howMany}else if(f.type=="remove"){for(let b=0;b<f.howMany;b++)n.push("r");s=f.offset,l+=f.howMany}else{if(f.howMany>1500)for(let b=0;b<f.howMany;b++)n.push("a");else n.push(..."a".repeat(f.howMany).split(""));s=f.offset+f.howMany,l+=f.howMany}}if(l<u)for(let f=0;f<u-l-s;f++)n.push("e");return n}function gS(u){const e="position"in u&&u.position.root.rootName=="$graveyard",n="range"in u&&u.range.root.rootName=="$graveyard";return!e&&!n}class C1{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new U("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,n=this.version){if(!this._operations.length)return[];const s=this._operations[0];e===void 0&&(e=s.baseVersion);let l=n-1;for(const[y,S]of this._gaps)e>y&&e<S&&(e=S),l>y&&l<S&&(l=y-1);if(l<s.baseVersion||e>this.lastOperation.baseVersion)return[];let f=this._baseVersionToOperationIndex.get(e);f===void 0&&(f=0);let b=this._baseVersionToOperationIndex.get(l);return b===void 0&&(b=this._operations.length-1),this._operations.slice(f,b+1)}getOperation(e){const n=this._baseVersionToOperationIndex.get(e);if(n!==void 0)return this._operations[n]}setOperationAsUndone(e,n){this._undoPairs.set(n,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class t0 extends hi{constructor(e,n,s="main"){super(n),this._isAttached=!0,this._isLoaded=!0,this._document=e,this.rootName=s}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}t0.prototype.is=function(u,e){return e?e===this.name&&(u==="rootElement"||u==="model:rootElement"||u==="element"||u==="model:element"):u==="rootElement"||u==="model:rootElement"||u==="element"||u==="model:element"||u==="node"||u==="model:node"};const tc="$graveyard";class x1 extends ke(){constructor(e){super(),this.model=e,this.history=new C1,this.selection=new no(this),this.roots=new Co({idProperty:"rootName"}),this.differ=new qu(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",tc),this.listenTo(e,"applyOperation",(n,s)=>{const l=s[0];l.isDocumentOperation&&this.differ.bufferOperation(l)},{priority:"high"}),this.listenTo(e,"applyOperation",(n,s)=>{const l=s[0];l.isDocumentOperation&&this.history.addOperation(l)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(n,s,l,f,b)=>{const y={...s.getData(),range:f};this.differ.bufferMarkerChange(s.name,b,y),l===null&&s.on("change",(S,T)=>{const B=s.getData();this.differ.bufferMarkerChange(s.name,{...B,range:T},B)})}),this.registerPostFixer(n=>{let s=!1;for(const l of this.roots)l.isAttached()||l.isEmpty||(n.remove(n.createRangeIn(l)),s=!0);for(const l of this.model.markers)l.getRange().root.isAttached()||(n.removeMarker(l),s=!0);return s})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(tc)}createRoot(e="$root",n="main"){if(this.roots.get(n))throw new U("model-document-createroot-name-exists",this,{name:n});const s=new t0(this,e,n);return this.roots.add(s),s}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(n=>n.rootName)}getRoots(e=!1){return this.roots.filter(n=>n!=this.graveyard&&(e||n.isAttached())&&n._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=Tp(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),n=this.model,s=n.schema,l=n.createPositionFromPath(e,[0]);return s.getNearestSelectionRange(l)||n.createRange(l)}_validateSelectionRange(e){return e.start.isValid()&&e.end.isValid()&&S1(e.start)&&S1(e.end)}_callPostFixers(e){let n=!1;do for(const s of this._postFixers)if(this.selection.refresh(),n=s(e),n)break;while(n)}}function S1(u){const e=u.textNode;if(e){const n=e.data,s=u.offset-e.startOffset;return!xe(n,s)&&!De(n,s)}return!0}class c_ extends ke(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const n=e instanceof Vu?e.name:e;return this._markers.has(n)}get(e){return this._markers.get(e)||null}_set(e,n,s=!1,l=!1){const f=e instanceof Vu?e.name:e;if(f.includes(","))throw new U("markercollection-incorrect-marker-name",this);const b=this._markers.get(f);if(b){const T=b.getData(),B=b.getRange();let P=!1;return B.isEqual(n)||(b._attachLiveRange(sa.fromRange(n)),P=!0),s!=b.managedUsingOperations&&(b._managedUsingOperations=s,P=!0),typeof l=="boolean"&&l!=b.affectsData&&(b._affectsData=l,P=!0),P&&this.fire(`update:${f}`,b,B,n,T),b}const y=sa.fromRange(n),S=new Vu(f,y,s,l);return this._markers.set(f,S),this.fire(`update:${f}`,S,null,n,{...S.getData(),range:null}),S}_remove(e){const n=e instanceof Vu?e.name:e,s=this._markers.get(n);return!!s&&(this._markers.delete(n),this.fire(`update:${n}`,s,s.getRange(),null,s.getData()),this._destroyMarker(s),!0)}_refresh(e){const n=e instanceof Vu?e.name:e,s=this._markers.get(n);if(!s)throw new U("markercollection-refresh-marker-not-exists",this);const l=s.getRange();this.fire(`update:${n}`,s,l,l,s.getData())}*getMarkersAtPosition(e){for(const n of this)n.getRange().containsPosition(e)&&(yield n)}*getMarkersIntersectingRange(e){for(const n of this)n.getRange().getIntersection(e)!==null&&(yield n)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const n of this._markers.values())n.name.startsWith(e+":")&&(yield n)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class Vu extends ke(Br){constructor(e,n,s,l){super(),this.name=e,this._liveRange=this._attachLiveRange(n),this._managedUsingOperations=s,this._affectsData=l}get managedUsingOperations(){if(!this._liveRange)throw new U("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new U("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new U("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new U("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new U("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Vu.prototype.is=function(u){return u==="marker"||u==="model:marker"};class nc extends vl{constructor(e,n){super(null),this.sourcePosition=e.clone(),this.howMany=n}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new U("detach-operation-on-document-node",this)}_execute(){o_(ut._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class Gc extends Br{constructor(e){super(),this.markers=new Map,this._children=new Qp,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildAtOffset(e){return this._children.getNodeAtOffset(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let n=this;for(const s of e)n=n.getChildAtOffset(s);return n}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const n of this._children)e.push(n.toJSON());return e}static fromJSON(e){const n=[];for(const s of e)s.name?n.push(hi.fromJSON(s)):n.push(Zr.fromJSON(s));return new Gc(n)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,n){const s=function(l){return typeof l=="string"?[new Zr(l)]:(He(l)||(l=[l]),Array.from(l).map(f=>typeof f=="string"?new Zr(f):f instanceof zn?new Zr(f.data,f.getAttributes()):f))}(n);for(const l of s)l.parent!==null&&l._remove(),l.parent=this;this._children._insertNodes(e,s)}_removeChildren(e,n=1){const s=this._children._removeNodes(e,n);for(const l of s)l.parent=null;return s}_removeChildrenArray(e){this._children._removeNodesArray(e);for(const n of e)n.parent=null}}Gc.prototype.is=function(u){return u==="documentFragment"||u==="model:documentFragment"};class n0{constructor(e,n){this.model=e,this.batch=n}createText(e,n){return new Zr(e,n)}createElement(e,n){return new hi(e,n)}createDocumentFragment(){return new Gc}cloneElement(e,n=!0){return e._clone(n)}insert(e,n,s=0){if(this._assertWriterUsedCorrectly(),e instanceof Zr&&e.data=="")return;const l=Ot._createAt(n,s);if(e.parent){if(E1(e.root,l.root))return void this.move(ut._createOn(e),l);if(e.root.document)throw new U("model-writer-insert-forbidden-move",this);this.remove(e)}const f=l.root.document?l.root.document.version:null,b=e instanceof Gc?e._removeChildren(0,e.childCount):e,y=new Uo(l,b,f);if(e instanceof Zr&&(y.shouldReceiveAttributes=!0),this.batch.addOperation(y),this.model.applyOperation(y),e instanceof Gc)for(const[S,T]of e.markers){const B=Ot._createAt(T.root,0),P={range:new ut(T.start._getCombined(B,l),T.end._getCombined(B,l)),usingOperation:!0,affectsData:!0};this.model.markers.has(S)?this.updateMarker(S,P):this.addMarker(S,P)}}insertText(e,n,s,l){n instanceof Gc||n instanceof hi||n instanceof Ot?this.insert(this.createText(e),n,s):this.insert(this.createText(e,n),s,l)}insertElement(e,n,s,l){n instanceof Gc||n instanceof hi||n instanceof Ot?this.insert(this.createElement(e),n,s):this.insert(this.createElement(e,n),s,l)}append(e,n){this.insert(e,n,"end")}appendText(e,n,s){n instanceof Gc||n instanceof hi?this.insert(this.createText(e),n,"end"):this.insert(this.createText(e,n),s,"end")}appendElement(e,n,s){n instanceof Gc||n instanceof hi?this.insert(this.createElement(e),n,"end"):this.insert(this.createElement(e,n),s,"end")}setAttribute(e,n,s){if(this._assertWriterUsedCorrectly(),s instanceof ut){const l=s.getMinimalFlatRanges();for(const f of l)Hu(this,e,n,f)}else u_(this,e,n,s)}setAttributes(e,n){for(const[s,l]of ie(e))this.setAttribute(s,l,n)}removeAttribute(e,n){if(this._assertWriterUsedCorrectly(),n instanceof ut){const s=n.getMinimalFlatRanges();for(const l of s)Hu(this,e,null,l)}else u_(this,e,null,n)}clearAttributes(e){this._assertWriterUsedCorrectly();const n=s=>{for(const l of s.getAttributeKeys())this.removeAttribute(l,s)};if(e instanceof ut)for(const s of e.getItems())n(s);else n(e)}move(e,n,s){if(this._assertWriterUsedCorrectly(),!(e instanceof ut))throw new U("writer-move-invalid-range",this);if(!e.isFlat)throw new U("writer-move-range-not-flat",this);const l=Ot._createAt(n,s);if(l.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!E1(e.root,l.root))throw new U("writer-move-different-document",this);const f=e.root.document?e.root.document.version:null,b=new jr(e.start,e.end.offset-e.start.offset,l,f);this.batch.addOperation(b),this.model.applyOperation(b)}remove(e){this._assertWriterUsedCorrectly();const n=(e instanceof ut?e:ut._createOn(e)).getMinimalFlatRanges().reverse();for(const s of n)this._addOperationForAffectedMarkers("move",s),rm(s.start,s.end.offset-s.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const n=e.nodeBefore,s=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(n instanceof hi))throw new U("writer-merge-no-element-before",this);if(!(s instanceof hi))throw new U("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,n,s){return this.model.createPositionFromPath(e,n,s)}createPositionAt(e,n){return this.model.createPositionAt(e,n)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,n){return this.model.createRange(e,n)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const n=e.nodeBefore,s=e.nodeAfter;this.move(ut._createIn(s),Ot._createAt(n,"end")),this.remove(s)}_merge(e){const n=Ot._createAt(e.nodeBefore,"end"),s=Ot._createAt(e.nodeAfter,0),l=e.root.document.graveyard,f=new Ot(l,[0]),b=e.root.document.version,y=new zi(s,e.nodeAfter.maxOffset,n,f,b);this.batch.addOperation(y),this.model.applyOperation(y)}rename(e,n){if(this._assertWriterUsedCorrectly(),!(e instanceof hi))throw new U("writer-rename-not-element-instance",this);const s=e.root.document?e.root.document.version:null,l=new Aa(Ot._createBefore(e),e.name,n,s);this.batch.addOperation(l),this.model.applyOperation(l)}split(e,n){this._assertWriterUsedCorrectly();let s,l,f=e.parent;if(!f.parent)throw new U("writer-split-element-no-parent",this);if(n||(n=f.parent),!e.parent.getAncestors({includeSelf:!0}).includes(n))throw new U("writer-split-invalid-limit-element",this);do{const b=f.root.document?f.root.document.version:null,y=f.maxOffset-e.offset,S=Ur.getInsertionPosition(e),T=new Ur(e,y,S,null,b);this.batch.addOperation(T),this.model.applyOperation(T),s||l||(s=f,l=e.parent.nextSibling),f=(e=this.createPositionAfter(e.parent)).parent}while(f!==n);return{position:e,range:new ut(Ot._createAt(s,"end"),Ot._createAt(l,0))}}wrap(e,n){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new U("writer-wrap-range-not-flat",this);const s=n instanceof hi?n:new hi(n);if(s.childCount>0)throw new U("writer-wrap-element-not-empty",this);if(s.parent!==null)throw new U("writer-wrap-element-attached",this);this.insert(s,e.start);const l=new ut(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(l,Ot._createAt(s,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new U("writer-unwrap-element-no-parent",this);this.move(ut._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,n){if(this._assertWriterUsedCorrectly(),!n||typeof n.usingOperation!="boolean")throw new U("writer-addmarker-no-usingoperation",this);const s=n.usingOperation,l=n.range,f=n.affectsData!==void 0&&n.affectsData;if(this.model.markers.has(e))throw new U("writer-addmarker-marker-exists",this);if(!l)throw new U("writer-addmarker-no-range",this);return s?(_g(this,e,null,l,f),this.model.markers.get(e)):this.model.markers._set(e,l,s,f)}updateMarker(e,n){this._assertWriterUsedCorrectly();const s=typeof e=="string"?e:e.name,l=this.model.markers.get(s);if(!l)throw new U("writer-updatemarker-marker-not-exists",this);if(!n)return q("writer-updatemarker-reconvert-using-editingcontroller",{markerName:s}),void this.model.markers._refresh(l);const f=typeof n.usingOperation=="boolean",b=typeof n.affectsData=="boolean",y=b?n.affectsData:l.affectsData;if(!f&&!n.range&&!b)throw new U("writer-updatemarker-wrong-options",this);const S=l.getRange(),T=n.range?n.range:S;f&&n.usingOperation!==l.managedUsingOperations?n.usingOperation?_g(this,s,null,T,y):(_g(this,s,S,null,y),this.model.markers._set(s,T,void 0,y)):l.managedUsingOperations?_g(this,s,S,T,y):this.model.markers._set(s,T,void 0,y)}removeMarker(e){this._assertWriterUsedCorrectly();const n=typeof e=="string"?e:e.name;if(!this.model.markers.has(n))throw new U("writer-removemarker-no-marker",this);const s=this.model.markers.get(n);if(!s.managedUsingOperations)return void this.model.markers._remove(n);_g(this,n,s.getRange(),null,s.affectsData)}addRoot(e,n="$root"){this._assertWriterUsedCorrectly();const s=this.model.document.getRoot(e);if(s&&s.isAttached())throw new U("writer-addroot-root-exists",this);const l=this.model.document,f=new yl(e,n,!0,l,l.version);return this.batch.addOperation(f),this.model.applyOperation(f),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const n=typeof e=="string"?this.model.document.getRoot(e):e;if(!n||!n.isAttached())throw new U("writer-detachroot-no-root",this);for(const f of this.model.markers)f.getRange().root===n&&this.removeMarker(f);for(const f of n.getAttributeKeys())this.removeAttribute(f,n);this.remove(this.createRangeIn(n));const s=this.model.document,l=new yl(n.rootName,n.name,!1,s,s.version);this.batch.addOperation(l),this.model.applyOperation(l)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,n){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,n)}setSelectionAttribute(e,n){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,n);else for(const[s,l]of ie(e))this._setSelectionAttribute(s,l)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const n of e)this._removeSelectionAttribute(n)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,n){const s=this.model.document.selection;if(s.isCollapsed&&s.anchor.parent.isEmpty){const l=no._getStoreAttributeKey(e);this.setAttribute(l,n,s.anchor.parent)}s._setAttribute(e,n)}_removeSelectionAttribute(e){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const s=no._getStoreAttributeKey(e);this.removeAttribute(s,n.anchor.parent)}n._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new U("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,n){for(const s of this.model.markers){if(!s.managedUsingOperations)continue;const l=s.getRange();let f=!1;if(e==="move"){const b=n;f=b.containsPosition(l.start)||b.start.isEqual(l.start)||b.containsPosition(l.end)||b.end.isEqual(l.end)}else{const b=n,y=b.nodeBefore,S=b.nodeAfter,T=l.start.parent==y&&l.start.isAtEnd,B=l.end.parent==S&&l.end.offset==0,P=l.end.nodeAfter==S,W=l.start.nodeAfter==S;f=T||B||P||W}f&&this.updateMarker(s.name,{range:l})}}}function Hu(u,e,n,s){const l=u.model,f=l.document;let b,y,S,T=s.start;for(const P of s.getWalker({shallow:!0}))S=P.item.getAttribute(e),b&&y!=S&&(y!=n&&B(),T=b),b=P.nextPosition,y=S;function B(){const P=new ut(T,b),W=P.root.document?f.version:null,ee=new Eo(P,e,y,n,W);u.batch.addOperation(ee),l.applyOperation(ee)}b instanceof Ot&&b!=T&&y!=n&&B()}function u_(u,e,n,s){const l=u.model,f=l.document,b=s.getAttribute(e);let y,S;if(b!=n){if(s.root===s){const T=s.document?f.version:null;S=new Uu(s,e,b,n,T)}else{y=new ut(Ot._createBefore(s),u.createPositionAfter(s));const T=y.root.document?f.version:null;S=new Eo(y,e,b,n,T)}u.batch.addOperation(S),l.applyOperation(S)}}function _g(u,e,n,s,l){const f=u.model,b=f.document,y=new qo(e,n,s,f.markers,!!l,b.version);u.batch.addOperation(y),f.applyOperation(y)}function rm(u,e,n,s){let l;if(u.root.document){const f=s.document,b=new Ot(f.graveyard,[0]);l=new jr(u,e,b,f.version)}else l=new nc(u,e);n.addOperation(l),s.applyOperation(l)}function E1(u,e){return u===e||u instanceof t0&&e instanceof t0}function bS(u,e,n={}){if(e.isCollapsed)return;const s=e.getFirstRange();if(s.root.rootName=="$graveyard")return;const l=u.schema;u.change(f=>{if(!n.doNotResetEntireContent&&function(T,B){const P=T.getLimitElement(B);if(!B.containsEntireContent(P))return!1;const W=B.getFirstRange();return W.start.parent==W.end.parent?!1:T.checkChild(P,"paragraph")}(l,e))return void function(T,B){const P=T.model.schema.getLimitElement(B);T.remove(T.createRangeIn(P)),f_(T,T.createPositionAt(P,0),B)}(f,e);const b={};if(!n.doNotAutoparagraph){const T=e.getSelectedElement();T&&Object.assign(b,l.getAttributesWithProperty(T,"copyOnReplace",!0))}const[y,S]=function(T){const B=T.root.document.model,P=T.start;let W=T.end;if(B.hasContent(T,{ignoreMarkers:!0})){const ee=function(ne){const le=ne.parent,Ce=le.root.document.model.schema,Me=le.getAncestors({parentFirst:!0,includeSelf:!0});for(const qe of Me){if(Ce.isLimit(qe))return null;if(Ce.isBlock(qe))return qe}}(W);if(ee&&W.isTouching(B.createPositionAt(ee,0))){const ne=B.createSelection(T);B.modifySelection(ne,{direction:"backward"});const le=ne.getLastPosition(),Ce=B.createRange(le,W);B.hasContent(Ce,{ignoreMarkers:!0})||(W=le)}}return[Js.fromPosition(P,"toPrevious"),Js.fromPosition(W,"toNext")]}(s);y.isTouching(S)||f.remove(f.createRange(y,S)),n.leaveUnmerged||(function(T,B,P){const W=T.model;if(!D1(T.model.schema,B,P))return;const[ee,ne]=function(le,Ce){const Me=le.getAncestors(),qe=Ce.getAncestors();let tt=0;for(;Me[tt]&&Me[tt]==qe[tt];)tt++;return[Me[tt],qe[tt]]}(B,P);!ee||!ne||(!W.hasContent(ee,{ignoreMarkers:!0})&&W.hasContent(ne,{ignoreMarkers:!0})?h_(T,B,P,ee.parent):d_(T,B,P,ee.parent))}(f,y,S),l.removeDisallowedAttributes(y.parent.getChildren(),f)),p_(f,e,y),!n.doNotAutoparagraph&&function(T,B){const P=T.checkChild(B,"$text"),W=T.checkChild(B,"paragraph");return!P&&W}(l,y)&&f_(f,y,e,b),y.detach(),S.detach()})}function d_(u,e,n,s){const l=e.parent,f=n.parent;if(l!=s&&f!=s){for(e=u.createPositionAfter(l),(n=u.createPositionBefore(f)).isEqual(e)||u.insert(f,e),u.merge(e);n.parent.isEmpty;){const b=n.parent;n=u.createPositionBefore(b),u.remove(b)}D1(u.model.schema,e,n)&&d_(u,e,n,s)}}function h_(u,e,n,s){const l=e.parent,f=n.parent;if(l!=s&&f!=s){for(e=u.createPositionAfter(l),(n=u.createPositionBefore(f)).isEqual(e)||u.insert(l,n);e.parent.isEmpty;){const b=e.parent;e=u.createPositionBefore(b),u.remove(b)}n=u.createPositionBefore(f),function(b,y){const S=y.nodeBefore,T=y.nodeAfter;S.name!=T.name&&b.rename(S,T.name),b.clearAttributes(S),b.setAttributes(Object.fromEntries(T.getAttributes()),S),b.merge(y)}(u,n),D1(u.model.schema,e,n)&&h_(u,e,n,s)}}function D1(u,e,n){const s=e.parent,l=n.parent;return s!=l&&!u.isLimit(s)&&!u.isLimit(l)&&function(f,b,y){const S=new ut(f,b);for(const T of S.getWalker())if(y.isLimit(T.item))return!1;return!0}(e,n,u)}function f_(u,e,n,s={}){const l=u.createElement("paragraph");u.model.schema.setAllowedAttributes(l,s,u),u.insert(l,e),p_(u,n,u.createPositionAt(l,0))}function p_(u,e,n){e instanceof no?u.setSelection(n):e.setTo(n)}function m_(u,e){const n=[];Array.from(u.getItems({direction:"backward"})).map(s=>e.createRangeOn(s)).filter(s=>(s.start.isAfter(u.start)||s.start.isEqual(u.start))&&(s.end.isBefore(u.end)||s.end.isEqual(u.end))).forEach(s=>{n.push(s.start.parent),e.remove(s)}),n.forEach(s=>{let l=s;for(;l.parent&&l.isEmpty;){const f=e.createRangeOn(l);l=l.parent,e.remove(f)}})}class g_{constructor(e,n,s){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=n,this.position=s,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=n.createDocumentFragment(),this._documentFragmentPosition=n.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const n of Array.from(e))this._handleNode(n);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const n=this.writer.createPositionAfter(this._lastNode),s=this.writer.createPositionAfter(e);if(s.isAfter(n)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new U("insertcontent-invalid-insertion-position",this);this.position=s,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?ut._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new ut(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){this._checkAndSplitToAllowedPosition(e)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this.schema.isObject(e)||this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=Js.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleDisallowedNode(e){e.is("element")&&this.handleNodes(e.getChildren())}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new U("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=Js.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Js.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof hi)||!this._canMergeLeft(e))return;const n=Js._createBefore(e);n.stickiness="toNext";const s=Js.fromPosition(this.position,"toNext");this._affectedStart.isEqual(n)&&(this._affectedStart.detach(),this._affectedStart=Js._createAt(n.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=n.nodeBefore,this._lastNode=n.nodeBefore),this.writer.merge(n),n.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Js._createAt(n.nodeBefore,"end","toNext")),this.position=s.toPosition(),s.detach(),this._filterAttributesOf.push(this.position.parent),n.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof hi)||!this._canMergeRight(e))return;const n=Js._createAfter(e);if(n.stickiness="toNext",!this.position.isEqual(n))throw new U("insertcontent-invalid-insertion-position",this);this.position=Ot._createAt(n.nodeBefore,"end");const s=Js.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(n)&&(this._affectedEnd.detach(),this._affectedEnd=Js._createAt(n.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=n.nodeBefore,this._lastNode=n.nodeBefore),this.writer.merge(n),n.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Js._createAt(n.nodeBefore,0,"toPrevious")),this.position=s.toPosition(),s.detach(),this._filterAttributesOf.push(this.position.parent),n.detach()}_canMergeLeft(e){const n=e.previousSibling;return n instanceof hi&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(n,e)}_canMergeRight(e){const n=e.nextSibling;return n instanceof hi&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(e,n)}_insertAutoParagraph(){this._insertPartialFragment();const e=this.writer.createElement("paragraph");this.writer.insert(e,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=e,this.position=this.writer.createPositionAt(e,0)}_checkAndSplitToAllowedPosition(e){const n=this._getAllowedIn(this.position.parent,e);if(!n)return!1;for(n!=this.position.parent&&this._insertPartialFragment();n!=this.position.parent;)if(this.position.isAtStart){const s=this.position.parent;this.position=this.writer.createPositionBefore(s),s.isEmpty&&s.parent===n&&this.writer.remove(s)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const s=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=s,this.canMergeWith.add(this.position.nodeAfter)}return this.schema.checkChild(this.position.parent,e)||this._insertAutoParagraph(),!0}_getAllowedIn(e,n){return this.schema.checkChild(e,n)||this.schema.checkChild(e,"paragraph")&&this.schema.checkChild("paragraph",n)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,n)}}function im(u,e,n,s={}){if(!u.schema.isObject(e))throw new U("insertobject-element-not-an-object",u,{object:e});const l=n||u.document.selection;let f=l;s.findOptimalPosition&&u.schema.isBlock(e)&&(f=u.createSelection(u.schema.findOptimalInsertionRange(l,s.findOptimalPosition)));const b=Po(l.getSelectedBlocks()),y={};return b&&Object.assign(y,u.schema.getAttributesWithProperty(b,"copyOnReplace",!0)),u.change(S=>{f.isCollapsed||u.deleteContent(f,{doNotAutoparagraph:!0});let T=e;const B=f.anchor.parent;!u.schema.checkChild(B,e)&&u.schema.checkChild(B,"paragraph")&&u.schema.checkChild("paragraph",e)&&(T=S.createElement("paragraph"),S.insert(e,T)),u.schema.setAllowedAttributes(T,y,S);const P=u.insertContent(T,f);return P.isCollapsed||s.setSelection&&function(W,ee,ne,le){const Ce=W.model;if(ne=="on")return void W.setSelection(ee,"on");if(ne!="after")throw new U("insertobject-invalid-place-parameter-value",Ce);let Me=ee.nextSibling;if(Ce.schema.isInline(ee))return void W.setSelection(ee,"after");!(Me&&Ce.schema.checkChild(Me,"$text"))&&Ce.schema.checkChild(ee.parent,"paragraph")&&(Me=W.createElement("paragraph"),Ce.schema.setAllowedAttributes(Me,le,W),Ce.insertContent(Me,W.createPositionAfter(ee))),Me&&W.setSelection(Me,0)}(S,e,s.setSelection,y),P})}function Cg(u,e){const{isForward:n,walker:s,unit:l,schema:f,treatEmojiAsSingleUnit:b}=u,{type:y,item:S,nextPosition:T}=e;if(y=="text")return u.unit==="word"?function(B,P){let W=B.position.textNode;for(W||(W=P?B.position.nodeAfter:B.position.nodeBefore);W&&W.is("$text");){const ee=B.position.offset-W.startOffset;if(om(W,ee,P))W=P?B.position.nodeAfter:B.position.nodeBefore;else{if(kS(W.data,ee,P))break;B.next()}}return B.position}(s,n):function(B,P,W){const ee=B.position.textNode;if(ee){const ne=ee.data;let le=B.position.offset-ee.startOffset;for(;xe(ne,le)||P=="character"&&De(ne,le)||W&&We(ne,le);)B.next(),le=B.position.offset-ee.startOffset}return B.position}(s,l,b);if(y==(n?"elementStart":"elementEnd")){if(f.isSelectable(S))return Ot._createAt(S,n?"after":"before");if(f.checkChild(T,"$text"))return T}else{if(f.isLimit(S))return void s.skip(()=>!0);if(f.checkChild(T,"$text"))return T}}function b_(u,e){const n=u.root,s=Ot._createAt(n,e?"end":0);return e?new ut(u,s):new ut(s,u)}function kS(u,e,n){const s=e+(n?0:-1);return' ,.?!:;"-()'.includes(u.charAt(s))}function om(u,e,n){return e===(n?u.offsetSize:0)}class xg extends Ae(){constructor(){super(),this.markers=new c_,this.document=new x1(this),this.schema=new dS,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,n)=>{n[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck(()=>!0,"$marker"),f1(this),this.document.registerPostFixer(a1),this.on("insertContent",(e,[n,s])=>{e.return=function(l,f,b){return l.change(y=>{const S=b||l.document.selection;S.isCollapsed||l.deleteContent(S,{doNotAutoparagraph:!0});const T=new g_(l,y,S.anchor),B=[];let P;if(f.is("documentFragment")){if(f.markers.size){const ne=[];for(const[le,Ce]of f.markers){const{start:Me,end:qe}=Ce,tt=Me.isEqual(qe);ne.push({position:Me,name:le,isCollapsed:tt},{position:qe,name:le,isCollapsed:tt})}ne.sort(({position:le},{position:Ce})=>le.isBefore(Ce)?1:-1);for(const{position:le,name:Ce,isCollapsed:Me}of ne){let qe=null,tt=null;const Et=le.parent===f&&le.isAtStart,Mt=le.parent===f&&le.isAtEnd;Et||Mt?Me&&(tt=Et?"start":"end"):(qe=y.createElement("$marker"),y.insert(qe,le)),B.push({name:Ce,element:qe,collapsed:tt})}}P=f.getChildren()}else P=[f];T.handleNodes(P);let W=T.getSelectionRange();if(f.is("documentFragment")&&B.length){const ne=W?sa.fromRange(W):null,le={};for(let Ce=B.length-1;Ce>=0;Ce--){const{name:Me,element:qe,collapsed:tt}=B[Ce],Et=!le[Me];if(Et&&(le[Me]=[]),qe){const Mt=y.createPositionAt(qe,"before");le[Me].push(Mt),y.remove(qe)}else{const Mt=T.getAffectedRange();if(!Mt){tt&&le[Me].push(T.position);continue}tt?le[Me].push(Mt[tt]):le[Me].push(Et?Mt.start:Mt.end)}}for(const[Ce,[Me,qe]]of Object.entries(le))Me&&qe&&Me.root===qe.root&&Me.root.document&&!y.model.markers.has(Ce)&&y.addMarker(Ce,{usingOperation:!0,affectsData:!0,range:new ut(Me,qe)});ne&&(W=ne.toRange(),ne.detach())}W&&(S instanceof no?y.setSelection(W):S.setTo(W));const ee=T.getAffectedRange()||l.createRange(S.anchor);return T.destroy(),ee})}(this,n,s)}),this.on("insertObject",(e,[n,s,l])=>{e.return=im(this,n,s,l)}),this.on("canEditAt",e=>{const n=!this.document.isReadOnly;e.return=n,n||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new nm,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(n){U.rethrowUnexpectedError(n,this)}}enqueueChange(e,n){try{e?typeof e=="function"?(n=e,e=new nm):e instanceof nm||(e=new nm(e)):e=new nm,this._pendingChanges.push({batch:e,callback:n}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(s){U.rethrowUnexpectedError(s,this)}}applyOperation(e){e._execute()}insertContent(e,n,s,...l){const f=r0(n,s);return this.fire("insertContent",[e,f,s,...l])}insertObject(e,n,s,l,...f){const b=r0(n,s);return this.fire("insertObject",[e,b,l,l,...f])}deleteContent(e,n){bS(this,e,n)}modifySelection(e,n){(function(s,l,f={}){const b=s.schema,y=f.direction!="backward",S=f.unit?f.unit:"character",T=!!f.treatEmojiAsSingleUnit,B=l.focus,P=new Qn({boundaries:b_(B,y),singleCharacters:!0,direction:y?"forward":"backward"}),W={walker:P,schema:b,isForward:y,unit:S,treatEmojiAsSingleUnit:T};let ee;for(;ee=P.next();){if(ee.done)return;const ne=Cg(W,ee.value);if(ne)return void(l instanceof no?s.change(le=>{le.setSelectionFocus(ne)}):l.setFocus(ne))}})(this,e,n)}getSelectedContent(e){return function(n,s){return n.change(l=>{const f=l.createDocumentFragment(),b=s.getFirstRange();if(!b||b.isCollapsed)return f;const y=b.start.root,S=b.start.getCommonPath(b.end),T=y.getNodeByPath(S);let B;B=b.start.parent==b.end.parent?b:l.createRange(l.createPositionAt(T,b.start.path[S.length]),l.createPositionAt(T,b.end.path[S.length]+1));const P=B.end.offset-B.start.offset;for(const W of B.getItems({shallow:!0}))W.is("$textProxy")?l.appendText(W.data,W.getAttributes(),f):l.append(l.cloneElement(W,!0),f);if(B!=b){const W=b._getTransformedByMove(B.start,l.createPositionAt(f,0),P)[0],ee=l.createRange(l.createPositionAt(f,0),W.start);m_(l.createRange(W.end,l.createPositionAt(f,"end")),l),m_(ee,l)}return f})}(this,e)}hasContent(e,n={}){const s=e instanceof ut?e:ut._createIn(e);if(s.isCollapsed)return!1;const{ignoreWhitespaces:l=!1,ignoreMarkers:f=!1}=n;if(!f){for(const b of this.markers.getMarkersIntersectingRange(s))if(b.affectsData)return!0}for(const b of s.getItems())if(this.schema.isContent(b)&&(!b.is("$textProxy")||!l||b.data.search(/\S/)!==-1))return!0;return!1}canEditAt(e){const n=r0(e);return this.fire("canEditAt",[n])}createPositionFromPath(e,n,s){return new Ot(e,n,s)}createPositionAt(e,n){return Ot._createAt(e,n)}createPositionAfter(e){return Ot._createAfter(e)}createPositionBefore(e){return Ot._createBefore(e)}createRange(e,n){return new ut(e,n)}createRangeIn(e){return ut._createIn(e)}createRangeOn(e){return ut._createOn(e)}createSelection(...e){return new oa(...e)}createBatch(e){return new nm(e)}createOperationFromJSON(e){return v1.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const n=this._pendingChanges[0].batch;this._currentWriter=new n0(this,n);const s=this._pendingChanges[0].callback(this._currentWriter);e.push(s),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function r0(u,e){if(u)return u instanceof oa||u instanceof no?u:u instanceof zd?e||e===0?new oa(u,e):u.is("rootElement")?new oa(u,"in"):new oa(u,"on"):new oa(u)}class i0 extends bl{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class Sg extends bl{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class I1 extends bl{constructor(){super(...arguments),this.domEventType=["touchstart","touchend","touchmove"]}onDomEvent(e){this.fire(e.type,e)}}class rc{constructor(e){this.document=e}createDocumentFragment(e){return new Od(this.document,e)}createElement(e,n,s){return new qa(this.document,e,n,s)}createText(e){return new eo(this.document,e)}clone(e,n=!1){return e._clone(n)}appendChild(e,n){return n._appendChild(e)}insertChild(e,n,s){return s._insertChild(e,n)}removeChildren(e,n,s){return s._removeChildren(e,n)}remove(e){const n=e.parent;return n?this.removeChildren(n.getChildIndex(e),1,n):[]}replace(e,n){const s=e.parent;if(s){const l=s.getChildIndex(e);return this.removeChildren(l,1,s),this.insertChild(l,n,s),!0}return!1}unwrapElement(e){const n=e.parent;if(n){const s=n.getChildIndex(e);this.remove(e),this.insertChild(s,e.getChildren(),n)}}rename(e,n){const s=new qa(this.document,e,n.getAttributes(),n.getChildren());return this.replace(n,s)?s:null}setAttribute(e,n,s){s._setAttribute(e,n)}removeAttribute(e,n){n._removeAttribute(e)}addClass(e,n){n._addClass(e)}removeClass(e,n){n._removeClass(e)}setStyle(e,n,s){rr(e)&&s===void 0?n._setStyle(e):s._setStyle(e,n)}removeStyle(e,n){n._removeStyle(e)}setCustomProperty(e,n,s){s._setCustomProperty(e,n)}removeCustomProperty(e,n){return n._removeCustomProperty(e)}createPositionAt(e,n){return Kt._createAt(e,n)}createPositionAfter(e){return Kt._createAfter(e)}createPositionBefore(e){return Kt._createBefore(e)}createRange(e,n){return new Nn(e,n)}createRangeOn(e){return Nn._createOn(e)}createRangeIn(e){return Nn._createIn(e)}createSelection(...e){return new Kl(...e)}}class T1{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=n=>{const s="error"in n?n.error:n.reason;s instanceof Error&&this._handleError(s,n)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,n){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(n)}off(e,n){this._listeners[e]=this._listeners[e].filter(s=>s!==n)}_fire(e,...n){const s=this._listeners[e]||[];for(const l of s)l.apply(this,[null,...n])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,n){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:n instanceof ErrorEvent?n.filename:void 0,lineno:n instanceof ErrorEvent?n.lineno:void 0,colno:n instanceof ErrorEvent?n.colno:void 0,date:this._now()});const s=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:s}),s?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}const Eg=function(u,e,n){var s=!0,l=!0;if(typeof u!="function")throw new TypeError("Expected a function");return Ge(n)&&(s="leading"in n?!!n.leading:s,l="trailing"in n?!!n.trailing:l),zf(u,e,{leading:s,maxWait:e,trailing:l})};function M1(u,e=new Set){const n=[u],s=new Set;let l=0;for(;n.length>l;){const f=n[l++];if(!s.has(f)&&k_(f)&&!e.has(f))if(s.add(f),Symbol.iterator in f)try{for(const b of f)n.push(b)}catch{}else for(const b in f)b!=="defaultValue"&&n.push(f[b])}return s}function k_(u){const e=Object.prototype.toString.call(u),n=typeof u;return!(n==="number"||n==="boolean"||n==="string"||n==="symbol"||n==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||u==null||u._watchdogExcluded||u instanceof EventTarget||u instanceof Event)}function sm(u,e,n=new Set){if(u===e&&typeof(s=u)=="object"&&s!==null)return!0;var s;const l=M1(u,n),f=M1(e,n);for(const b of l)if(f.has(b))return!0;return!1}class w_ extends T1{constructor(e,n={}){super(n),this._editor=null,this._lifecyclePromise=null,this._initUsingData=!0,this._editables={},this._throttledSave=Eg(this._save.bind(this),typeof n.saveInterval=="number"?n.saveInterval:5e3),e&&(this._creator=(s,l)=>e.create(s,l)),this._destructor=s=>s.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},n=[],s=this._config.rootsAttributes||{},l={};for(const[b,y]of Object.entries(this._data.roots))y.isLoaded?(e[b]="",l[b]=s[b]||{}):n.push(b);const f={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:n,rootsAttributes:l,_watchdogInitialData:this._data};return delete f.initialData,f.extraPlugins.push(wS),this._initUsingData?this.create(e,f,f.context):qs(this._elementOrData)?this.create(this._elementOrData,f,f.context):this.create(this._editables,f,f.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,n=this._config,s){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(n)||{},this._config.context=s,this._creator(e,this._config))).then(l=>{this._editor=l,l.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=l.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(n){console.error(n,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,n=e.model.document.roots.filter(y=>y.isAttached()&&y.rootName!="$graveyard"),{plugins:s}=e,l=s.has("CommentsRepository")&&s.get("CommentsRepository"),f=s.has("TrackChanges")&&s.get("TrackChanges"),b={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};n.forEach(y=>{b.roots[y.rootName]={content:JSON.stringify(Array.from(y.getChildren())),attributes:JSON.stringify(Array.from(y.getAttributes())),isLoaded:y._isLoaded}});for(const y of e.model.markers)y._affectsData&&(b.markers[y.name]={rangeJSON:y.getRange().toJSON(),usingOperation:y._managedUsingOperations,affectsData:y._affectsData});return l&&(b.commentThreads=JSON.stringify(l.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),f&&(b.suggestions=JSON.stringify(f.getSuggestions({toJSON:!0,skipNotAttached:!0}))),b}_getEditables(){const e={};for(const n of this.editor.model.document.getRootNames()){const s=this.editor.ui.getEditableElement(n);s&&(e[n]=s)}return e}_isErrorComingFromThisItem(e){return sm(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return vu(e,(n,s)=>qs(n)||s==="context"?n:void 0)}}class wS{constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},n=>{this._restoreCollaborationData(),this._restoreEditorData(n)}),this.editor.data.fire("ready")},{priority:999})}_createNode(e,n){if("name"in n){const s=e.createElement(n.name,n.attributes);if(n.children)for(const l of n.children)s._appendChild(this._createNode(e,l));return s}return e.createText(n.data,n.attributes)}_restoreEditorData(e){const n=this.editor;Object.entries(this._data.roots).forEach(([s,{content:l,attributes:f}])=>{const b=JSON.parse(l),y=JSON.parse(f),S=n.model.document.getRoot(s);for(const[T,B]of y)e.setAttribute(T,B,S);for(const T of b){const B=this._createNode(e,T);e.insert(B,S,"end")}}),Object.entries(this._data.markers).forEach(([s,l])=>{const{document:f}=n.model,{rangeJSON:{start:b,end:y},...S}=l,T=f.getRoot(b.root),B=e.createPositionFromPath(T,b.path,b.stickiness),P=e.createPositionFromPath(T,y.path,y.stickiness),W=e.createRange(B,P);e.addMarker(s,{range:W,...S})})}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),n=JSON.parse(this._data.suggestions);e.forEach(s=>{const l=this.editor.config.get("collaboration.channelId"),f=this.editor.plugins.get("CommentsRepository");f.hasCommentThread(s.threadId)&&f.getCommentThread(s.threadId).remove(),f.addCommentThread({channelId:l,...s})}),n.forEach(s=>{const l=this.editor.plugins.get("TrackChangesEditing");l.hasSuggestion(s.id)?l.getSuggestion(s.id).attributes=s.attributes:l.addSuggestionData(s)})}}const Dg=Symbol("MainQueueId");class o0 extends T1{constructor(e,n={}){super(n),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new s0,this._watchdogConfig=n,this._creator=s=>e.create(s),this._destructor=s=>s.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}get context(){return this._context}create(e={}){return this._actionQueues.enqueue(Dg,()=>(this._contextConfig=e,this._create()))}getItem(e){return this._getWatchdog(e)._item}getItemState(e){return this._getWatchdog(e).state}add(e){const n=a0(e);return Promise.all(n.map(s=>this._actionQueues.enqueue(s.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let l;if(this._watchdogs.has(s.id))throw new Error(`Item with the given id is already added: '${s.id}'.`);if(s.type==="editor")return l=new w_(null,this._watchdogConfig),l.setCreator(s.creator),l._setExcludedProperties(this._contextProps),s.destructor&&l.setDestructor(s.destructor),this._watchdogs.set(s.id,l),l.on("error",(f,{error:b,causesRestart:y})=>{this._fire("itemError",{itemId:s.id,error:b}),y&&this._actionQueues.enqueue(s.id,()=>new Promise(S=>{const T=()=>{l.off("restart",T),this._fire("itemRestart",{itemId:s.id}),S()};l.on("restart",T)}))}),l.create(s.sourceElementOrData,s.config,this._context);throw new Error(`Not supported item type: '${s.type}'.`)})))}remove(e){const n=a0(e);return Promise.all(n.map(s=>this._actionQueues.enqueue(s,()=>{const l=this._getWatchdog(s);return this._watchdogs.delete(s),l.destroy()})))}destroy(){return this._actionQueues.enqueue(Dg,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Dg,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(e=>{console.error("An error happened during destroying the context or items.",e)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(e=>(this._context=e,this._contextProps=M1(this._context),Promise.all(Array.from(this._watchdogs.values()).map(n=>(n._setExcludedProperties(this._contextProps),n.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const e=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(n=>n.destroy())).then(()=>this._destructor(e))})}_getWatchdog(e){const n=this._watchdogs.get(e);if(!n)throw new Error(`Item with the given id was not registered: ${e}.`);return n}_isErrorComingFromThisItem(e){for(const n of this._watchdogs.values())if(n._isErrorComingFromThisItem(e))return!1;return sm(this._context,e.context)}}class s0{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,n){const s=e===Dg;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const l=(s?Promise.all(this._queues.values()):Promise.all([this._queues.get(Dg),this._queues.get(e)])).then(n),f=l.catch(()=>{});return this._queues.set(e,f),l.finally(()=>{this._activeActions--,this._queues.get(e)===f&&this._activeActions===0&&this._onEmptyCallbacks.forEach(b=>b())})}}function a0(u){return Array.isArray(u)?u:[u]}class vS{constructor(){this._commands=new Map}add(e,n){this._commands.set(e,n)}get(e){return this._commands.get(e)}execute(e,...n){const s=this.get(e);if(!s)throw new U("commandcollection-command-not-found",this,{commandName:e});return s.execute(...n)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}class Ig extends Q{constructor(e){super(),this.editor=e}set(e,n,s={}){if(typeof n=="string"){const l=n;n=(f,b)=>{this.editor.execute(l),b()}}super.set(e,n,s)}}const N1="contentEditing",O1="common";class v_{constructor(e){this.keystrokeInfos=new Map,this._editor=e;const n=e.config.get("menuBar.isVisible"),s=e.locale.t;this.addKeystrokeInfoCategory({id:N1,label:s("Content editing keystrokes"),description:s("These keyboard shortcuts allow for quick access to content editing features.")});const l=[{label:s("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:s("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:s("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:s("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:s("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:s("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];n&&l.push({label:s("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:s("User interface and content navigation keystrokes"),description:s("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:l}]})}addKeystrokeInfoCategory({id:e,label:n,description:s,groups:l}){this.keystrokeInfos.set(e,{id:e,label:n,description:s,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:e,id:O1}),l&&l.forEach(f=>{this.addKeystrokeInfoGroup({categoryId:e,...f})})}addKeystrokeInfoGroup({categoryId:e=N1,id:n,label:s,keystrokes:l}){const f=this.keystrokeInfos.get(e);if(!f)throw new U("accessibility-unknown-keystroke-info-category",this._editor,{groupId:n,categoryId:e});f.groups.set(n,{id:n,label:s,keystrokes:l||[]})}addKeystrokeInfos({categoryId:e=N1,groupId:n=O1,keystrokes:s}){if(!this.keystrokeInfos.has(e))throw new U("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:e,keystrokes:s});const l=this.keystrokeInfos.get(e);if(!l.groups.has(n))throw new U("accessibility-unknown-keystroke-info-group",this._editor,{groupId:n,categoryId:e,keystrokes:s});l.groups.get(n).keystrokes.push(...s)}}function y_(u){return Object.getPrototypeOf(u).constructor.editorName}function l0(u){if(!u)return;const e=Array.isArray(u)?{items:u}:u,n=function l(f){return f.flatMap(b=>typeof b=="string"?[b]:l(b.items))}(e.items||[]);return{isMultiline:n.includes("-"),shouldNotGroupWhenFull:!!e.shouldNotGroupWhenFull,items:(s=n,s.filter(l=>l!=="|"&&l!=="-"))};var s}function B1(){let u="unknown",e="unknown";return w.isMac?u="mac":w.isWindows?u="windows":w.isiOS?u="ios":w.isAndroid&&(u="android"),w.isGecko?e="gecko":w.isBlink?e="blink":w.isSafari&&(e="safari"),{os:u,browser:e}}function A_(){return localStorage.getItem("__ckeditor-session-id")||localStorage.setItem("__ckeditor-session-id",se()),localStorage.getItem("__ckeditor-session-id")}function c0(){return p.window.CKEDITOR_PAGE_SESSION_ID=p.window.CKEDITOR_PAGE_SESSION_ID||se(),p.window.CKEDITOR_PAGE_SESSION_ID}const Av=class Av extends Ae(){static get editorName(){return"Editor"}constructor(e={}){if(super(),"sanitizeHtml"in e)throw new U("editor-config-sanitizehtml-not-supported");const n=this.constructor,{translations:s,...l}=n.defaultConfig||{},{translations:f=s,...b}=e,y=e.language||l.language;this._context=e.context||new Rc({language:y,translations:f}),this._context._addEditor(this,!e.context);const S=Array.from(n.builtinPlugins||[]);this.config=new Dc(b,l),this.config.define("plugins",S),this.config.define(this._context._getEditorConfig()),function(B){let P=B.get("licenseKey");if(!P&&window.CKEDITOR_GLOBAL_LICENSE_KEY&&(P=window.CKEDITOR_GLOBAL_LICENSE_KEY,B.set("licenseKey",P)),!P)throw new U("license-key-missing")}(this.config),this.plugins=new Ys(this,S,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new vS,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new xg,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const T=new Bk;this.data=new fS(this.model,T),this.editing=new uS(this.model,T),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new k1([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new Ig(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new v_(this),function(B){const P=B.config.get("licenseKey"),W=window[Symbol.for("cke distribution")]||"sh";function ee(qe){B.enableReadOnlyMode(Symbol("invalidLicense")),B._showLicenseError(qe)}if(P=="GPL")return void(W=="cloud"&&ee("distributionChannel"));const ne=function(qe){const tt=qe.split(".");return tt.length!=3?null:tt[1]}(P);if(!ne)return void ee("invalid");const le=_e(ne);if(!le||(Ce=le,!["exp","jti","vc"].every(qe=>qe in Ce)))return void ee("invalid");var Ce;if(le.distributionChannel&&!or(le.distributionChannel).includes(W))return void ee("distributionChannel");if(function(qe){const tt=Array.isArray(qe)?qe:[qe],Et=function(){const yn=[];for(let Jr=0;Jr<256;Jr++){let ro=Jr;for(let _v=0;_v<8;_v++)1&ro?ro=3988292384^ro>>>1:ro>>>=1;yn[Jr]=ro}return yn}();let Mt=-1;const wn=tt.map(yn=>Array.isArray(yn)?yn.join(""):String(yn)).join("");for(let yn=0;yn<wn.length;yn++)Mt=Mt>>>8^Et[255&(Mt^wn.charCodeAt(yn))];return Mt=~Mt>>>0,Mt.toString(16).padStart(8,"0")}(function(qe){return Object.getOwnPropertyNames(qe).sort().filter(tt=>tt!="vc"&&qe[tt]!=null).map(tt=>qe[tt])}(le))!=le.vc.toLowerCase())return void ee("invalid");if(new Date(1e3*le.exp)<Ie)return void ee("expired");const Me=le.licensedHosts;if(Me&&Me.length>0&&!function(qe){const{hostname:tt}=new URL(window.location.href);if(qe.includes(tt))return!0;const Et=tt.split(".");return qe.filter(Mt=>Mt.includes("*")).map(Mt=>Mt.split(".")).filter(Mt=>Mt.length<=Et.length).map(Mt=>Array(Et.length-Mt.length).fill(Mt[0]==="*"?"*":"").concat(Mt)).some(Mt=>Et.every((wn,yn)=>Mt[yn]===wn||Mt[yn]==="*"))}(Me))return void ee("domainLimit");if(["evaluation","trial"].includes(le.licenseType)&&1e3*le.exp<Date.now())return void ee("expired");if(["development","evaluation","trial"].includes(le.licenseType)){const{licenseType:qe}=le,tt=qe[0].toUpperCase()+qe.slice(1),Et=qe==="evaluation"?"an":"a";console.info(`%cCKEditor 5 ${tt} License`,"color: #ffffff; background: #743CCD; font-size: 14px; padding: 4px 8px; border-radius: 4px;"),console.warn(` You are using ${Et} ${qe} license of CKEditor 5${qe==="trial"?" which is for evaluation purposes only":""}. For production usage, please obtain a production license at https://portal.ckeditor.com/`)}if(["evaluation","trial"].includes(le.licenseType)){const qe=le.licenseType,tt=setTimeout(()=>{ee(`${qe}Limit`)},6e5);B.on("destroy",()=>{clearTimeout(tt)})}le.usageEndpoint&&B.once("ready",()=>{const qe={requestId:se(),requestTime:Math.round(Date.now()/1e3),license:P,editor:yS(B)};B._sendUsageRequest(le.usageEndpoint,qe).then(tt=>{const{status:Et,message:Mt}=tt;Mt&&console.warn(Mt),Et!="ok"&&ee("usageLimit")},()=>{fe("license-key-validation-endpoint-not-reachable",{url:le.usageEndpoint})})},{priority:"high"})}(this)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new U("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new U("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new U("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(e){this.data.set(e)}getData(e){return this.data.get(e)}initPlugins(){const e=this.config,n=e.get("plugins"),s=e.get("removePlugins")||[],l=e.get("extraPlugins")||[],f=e.get("substitutePlugins")||[];return this.plugins.init(n.concat(l),s,f)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(n=>this.once("ready",n))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...n){try{return this.commands.execute(e,...n)}catch(s){U.rethrowUnexpectedError(s,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}_showLicenseError(e,n){setTimeout(()=>{if(e=="invalid")throw new U("invalid-license-key");if(e=="expired")throw new U("license-key-expired");if(e=="domainLimit")throw new U("license-key-domain-limit");if(e=="featureNotAllowed")throw new U("license-key-plugin-not-allowed",null,{pluginName:n});if(e=="evaluationLimit")throw new U("license-key-evaluation-limit");if(e=="trialLimit")throw new U("license-key-trial-limit");if(e=="developmentLimit")throw new U("license-key-development-limit");if(e=="usageLimit")throw new U("license-key-usage-limit");if(e=="distributionChannel")throw new U("license-key-invalid-distribution-channel")},0),this._showLicenseError=()=>{}}async _sendUsageRequest(e,n){const s=new Headers({"Content-Type":"application/json"}),l=await fetch(new URL(e),{method:"POST",headers:s,body:JSON.stringify(n)});if(!l.ok)throw new Error(`HTTP Response: ${l.status}`);return l.json()}};Av.Context=Rc,Av.EditorWatchdog=w_,Av.ContextWatchdog=o0;let j1=Av;function yS(u){const e=function(n){return{sessionId:A_(),pageSessionId:c0(),hostname:window.location.hostname,version:globalThis.CKEDITOR_VERSION,type:y_(n),plugins:(s=n.plugins,Array.from(s).filter(([l])=>!!l.pluginName).map(([l])=>{const{pluginName:f,isContextPlugin:b,isOfficialPlugin:y,isPremiumPlugin:S}=l;return{isContext:!!b,isOfficial:!!y,isPremium:!!S,name:f}})),distribution:{channel:window[Symbol.for("cke distribution")]||"sh"},env:B1(),integration:Object.create(null),menuBar:{isVisible:!!n.config.get("menuBar.isVisible")},language:{ui:n.locale.uiLanguage,content:n.locale.contentLanguage},toolbar:{main:l0(n.config.get("toolbar")),block:l0(n.config.get("blockToolbar")),balloon:l0(n.config.get("balloonToolbar"))}};var s}(u);return u.fire("collectUsageData",{setUsageData:function(n,s){if(zc(e,n)!==void 0)throw new U("editor-usage-data-path-already-set",{path:n});ig(e,n,s)}}),e}function Tg(u){return class extends u{updateSourceElement(e){if(!this.sourceElement)throw new U("editor-missing-sourceelement",this);const n=this.config.get("updateSourceElementOnDestroy"),s=this.sourceElement instanceof HTMLTextAreaElement;if(!n&&!s)return void yd(this.sourceElement,"");const l=typeof e=="string"?e:this.data.get();yd(this.sourceElement,l)}}}Tg.updateSourceElement=Tg(Object).prototype.updateSourceElement;class u0 extends rs{static get pluginName(){return"PendingActions"}static get isOfficialPlugin(){return!0}init(){this.set("hasAny",!1),this._actions=new Co({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new U("pendingactions-add-invalid-message",this);const n=new(Ae());return n.set("message",e),this._actions.add(n),this.hasAny=!0,n}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const cn={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.66 9.118a.693.693 0 0 1 .956.032l3.65 3.411 2.422-2.238a.695.695 0 0 1 .945 0L17.5 13.6V2.5h-15v11.1l4.16-4.482ZM17.8 1c.652 0 1.2.47 1.2 1.1v14.362c0 .64-.532 1.038-1.184 1.038H2.184C1.532 17.5 1 17.103 1 16.462V2.1C1 1.47 1.537 1 2.2 1h15.6Zm-5.655 6a2.128 2.128 0 0 1 .157-2.364A2.133 2.133 0 1 1 12.145 7Z"/></svg>',imageUpload:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a2.97 2.97 0 0 1-.414-.287 2.998 2.998 0 0 1-1.055-2.03 3.003 3.003 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.134 2.134 0 0 0-1.875-.978Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/></svg>',imageAssetManager:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1c-.662 0-1.2.47-1.2 1.1v14.248c0 .64.533 1.152 1.185 1.152h6.623v-7.236L6.617 9.15a.694.694 0 0 0-.957-.033L1.602 13.55V2.553l14.798.003V9.7H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.094 2.094 0 0 0-1.621.832 2.127 2.127 0 0 0 1.136 3.357 2.13 2.13 0 0 0 2.611-1.506 2.133 2.133 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.366-.44Z"/><path clip-rule="evenodd" d="M19.898 12.369v6.187a.844.844 0 0 1-.844.844h-8.719a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.531a.843.843 0 0 1 .597.248l.838.852h4.75c.223 0 .441.114.6.272a.844.844 0 0 1 .247.597Zm-1.52.654-4.377.02-1.1-1.143H11v6h7.4l-.023-4.877Z"/></svg>',textAlternative:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.903 1.903 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598ZM7.463 8.163a.611.611 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.628.628 0 0 0-.417-.185Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.618.618 0 0 0-.42-.165ZM.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.908.908 0 0 0-.912-.912H.91ZM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516L3.668 13Zm4.947 0h1.801v4.3h2.7v1.4h-4.5V13h-.001Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9V13h-.001Zm-8.517 1.457-.614 2.059h1.262l-.648-2.059Z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',previousArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',nextArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',redo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',undo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',bulletedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',numberedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',browseFiles:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',indent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',outdent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',table:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v3h4v-3H3Zm0 4v3h4v-3H3Zm0 4v3h4v-3H3Zm5 3h4v-3H8v3Zm5 0h4v-3h-4v3Zm4-4v-3h-4v3h4Zm0-4v-3h-4v3h4Zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13.5Zm-6.5-4v-3H8v3h4Zm0-4v-3H8v3h4Z"/></svg>'};var am=a(7621),lm={attributes:{"data-cke":!0}};lm.setAttributes=zt(),lm.insert=Rt().bind(null,"head"),lm.domAPI=Ut(),lm.insertStyleElement=Nt(),Dt()(am.A,lm),am.A&&am.A.locals&&am.A.locals;const EC=class EC extends un{constructor(){super();const e=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",e.if("isVisible","ck-hidden",n=>!n),"ck-reset_all-excluded",e.if("isColorInherited","ck-icon_inherit-color")],viewBox:e.to("viewBox"),"aria-hidden":!0}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const e=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),n=e.getAttribute("viewBox");n&&(this.viewBox=n);for(const{name:s,value:l}of Array.from(e.attributes))EC.presentationalAttributeNames.includes(s)&&this.element.setAttribute(s,l);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;e.childNodes.length>0;)this.element.appendChild(e.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(e=>{e.style.fill=this.fillColor})}};EC.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];let Ya=EC;class Ud extends un{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:e.to("style"),id:e.to("id")},children:[{text:e.to("text")}]})}}var Yc=a(9715),ic={attributes:{"data-cke":!0}};ic.setAttributes=zt(),ic.insert=Rt().bind(null,"head"),ic.domAPI=Ut(),ic.insertStyleElement=Nt(),Dt()(Yc.A,ic),Yc.A&&Yc.A.locals&&Yc.A.locals;class sr extends un{constructor(e,n=new Ud){super(e),this._focusDelayed=null;const s=this.bindTemplate,l=se();this.set("_ariaPressed",!1),this.set("_ariaChecked",!1),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${l}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(n),this.iconView=new Ya,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const f={tag:"button",attributes:{class:["ck","ck-button",s.to("class"),s.if("isEnabled","ck-disabled",b=>!b),s.if("isVisible","ck-hidden",b=>!b),s.to("isOn",b=>b?"ck-on":"ck-off"),s.if("withText","ck-button_with-text"),s.if("withKeystroke","ck-button_with-keystroke")],role:s.to("role"),type:s.to("type",b=>b||"button"),tabindex:s.to("tabindex"),"aria-checked":s.to("_ariaChecked"),"aria-pressed":s.to("_ariaPressed"),"aria-label":s.to("ariaLabel"),"aria-labelledby":s.to("ariaLabelledBy"),"aria-disabled":s.if("isEnabled",!0,b=>!b),"data-cke-tooltip-text":s.to("_tooltipString"),"data-cke-tooltip-position":s.to("tooltipPosition")},children:this.children,on:{click:s.to(b=>{this.isEnabled?this.fire("execute"):b.preventDefault()})}};this.bind("_ariaPressed").to(this,"isOn",this,"isToggleable",this,"role",(b,y,S)=>!(!y||cm(S))&&String(!!b)),this.bind("_ariaChecked").to(this,"isOn",this,"isToggleable",this,"role",(b,y,S)=>!(!y||!cm(S))&&String(!!b)),w.isSafari&&(this._focusDelayed||(this._focusDelayed=ye(()=>this.focus(),0)),f.on.mousedown=s.to(()=>{this._focusDelayed()}),f.on.mouseup=s.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(f)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new un;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",n=>$l(n))}]}),e}_getTooltipString(e,n,s){return e?typeof e=="string"?e:(s&&(s=$l(s)),e instanceof Function?e(n,s):`${n}${s?` (${s})`:""}`):""}}function cm(u){switch(u){case"radio":case"checkbox":case"option":case"switch":case"menuitemcheckbox":case"menuitemradio":return!0;default:return!1}}var Kc=a(7913),Mg={attributes:{"data-cke":!0}};Mg.setAttributes=zt(),Mg.insert=Rt().bind(null,"head"),Mg.domAPI=Ut(),Mg.insertStyleElement=Nt(),Dt()(Kc.A,Mg),Kc.A&&Kc.A.locals&&Kc.A.locals;class __ extends un{constructor(e,n={}){super(e);const s=this.bindTemplate;this.set("label",n.label||""),this.set("class",n.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",s.to("class")]},children:this.children}),n.icon&&(this.iconView=new Ya,this.iconView.content=n.icon,this.children.add(this.iconView));const l=new un(e);l.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:s.to("label")}]}),this.children.add(l)}}class _a extends ke(){constructor(e){if(super(),this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const n in e.actions){let s=e.actions[n];typeof s=="string"&&(s=[s]);for(const l of s)e.keystrokeHandler.set(l,(f,b)=>{this[n](),b()},e.keystrokeHandlerOptions)}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(L1)||null}get last(){return this.focusables.filter(L1).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((n,s)=>{const l=n.element===this.focusTracker.focusedElement;return l&&(e=s),l}),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;e&&this.focusables.getIndex(e)===this.current||e===this.first?this.fire("forwardCycle"):this._focus(e,1)}focusPrevious(){const e=this.previous;e&&this.focusables.getIndex(e)===this.current||e===this.last?this.fire("backwardCycle"):this._focus(e,-1)}chain(e){const n=()=>this.current===null?null:this.focusables.get(this.current);this.listenTo(e,"forwardCycle",s=>{const l=n();this.focusNext(),l!==n()&&s.stop()},{priority:"low"}),this.listenTo(e,"backwardCycle",s=>{const l=n();this.focusPrevious(),l!==n()&&s.stop()},{priority:"low"})}unchain(e){this.stopListening(e)}_focus(e,n){e&&this.focusTracker.focusedElement!==e.element&&e.focus(n)}_getDomFocusableItem(e){const n=this.focusables.length;if(!n)return null;const s=this.current;if(s===null)return this[e===1?"first":"last"];let l=this.focusables.get(s),f=(s+n+e)%n;do{const b=this.focusables.get(f);if(L1(b)){l=b;break}f=(f+n+e)%n}while(f!==s);return l}}function L1(u){return um(u)&&Pa(u.element)}function um(u){return!(!("focus"in u)||typeof u.focus!="function")}function d0(u){return class extends u{constructor(...e){super(...e),this._onDragBound=this._onDrag.bind(this),this._onDragEndBound=this._onDragEnd.bind(this),this._lastDraggingCoordinates={x:0,y:0},this.on("render",()=>{this._attachListeners()}),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(p.document,"mouseup",this._onDragEndBound),this.listenTo(p.document,"touchend",this._onDragEndBound),this.listenTo(p.document,"mousemove",this._onDragBound),this.listenTo(p.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(p.document,"mouseup",this._onDragEndBound),this.stopListening(p.document,"touchend",this._onDragEndBound),this.stopListening(p.document,"mousemove",this._onDragBound),this.stopListening(p.document,"touchmove",this._onDragBound)}_onDragStart(e,n){if(!this._isHandleElementPressed(n))return;this._attachDragListeners();let s=0,l=0;n instanceof MouseEvent?(s=n.clientX,l=n.clientY):(s=n.touches[0].clientX,l=n.touches[0].clientY),this._lastDraggingCoordinates={x:s,y:l},this.isDragging=!0}_onDrag(e,n){if(!this.isDragging)return void this._detachDragListeners();let s=0,l=0;n instanceof MouseEvent?(s=n.clientX,l=n.clientY):(s=n.touches[0].clientX,l=n.touches[0].clientY),n.preventDefault(),this.fire("drag",{deltaX:Math.round(s-this._lastDraggingCoordinates.x),deltaY:Math.round(l-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:s,y:l}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(e){return!!this.dragHandleElement&&(this.dragHandleElement===e.target||e.target instanceof HTMLElement&&this.dragHandleElement.contains(e.target))}}}var Ng=a(9822),Og={attributes:{"data-cke":!0}};Og.setAttributes=zt(),Og.insert=Rt().bind(null,"head"),Og.domAPI=Ut(),Og.insertStyleElement=Nt(),Dt()(Ng.A,Og),Ng.A&&Ng.A.locals&&Ng.A.locals;class h0 extends un{constructor(e){super(e),this.children=this.createCollection(),this.keystrokes=new Q,this._focusTracker=new Ji,this._focusables=new rt,this.focusCycler=new _a({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(e){for(const n of e){const s=new sr(this.locale);let l;for(l in s.on("execute",()=>n.onExecute()),n.onCreate&&n.onCreate(s),n)l!="onExecute"&&l!="onCreate"&&s.set(l,n[l]);this.children.add(s)}this._updateFocusCyclableItems()}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach(e=>{this._focusables.add(e),this._focusTracker.add(e.element)})}}class f0 extends un{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}var Bg=a(9819),qd={attributes:{"data-cke":!0}};qd.setAttributes=zt(),qd.insert=Rt().bind(null,"head"),qd.domAPI=Ut(),qd.insertStyleElement=Nt(),Dt()(Bg.A,qd),Bg.A&&Bg.A.locals&&Bg.A.locals;const dm="screen-center",jg="editor-center",C_="editor-top-side",AS="editor-top-center",p0="editor-bottom-center",h="editor-above-center",g="editor-below-center",A=Hs("px"),DC=class DC extends d0(un){constructor(e,{getCurrentDomRoot:n,getViewportOffset:s,keystrokeHandlerOptions:l}){super(e),this.wasMoved=!1;const f=this.bindTemplate,b=e.t;this.set("className",""),this.set("ariaLabel",b("Editor dialog")),this.set("isModal",!1),this.set("position",dm),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=n,this._getViewportOffset=s,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new Q,this.focusTracker=new Ji,this._focusables=new rt,this._focusCycler=new _a({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"},keystrokeHandlerOptions:l}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",f.if("isModal","ck-dialog-overlay__transparent",y=>!y),f.if("_isVisible","ck-hidden",y=>!y)],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",f.if("isModal","ck-dialog_modal"),f.to("className")],role:"dialog","aria-label":f.to("ariaLabel"),style:{top:f.to("_top",y=>A(y)),left:f.to("_left",y=>A(y)),visibility:f.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",(e,n)=>{e.defaultPrevented||(this.fire("close",{source:"escKeyPress"}),n())}),this.on("drag",(e,{deltaX:n,deltaY:s})=>{this.wasMoved=!0,this.moveBy(n,s)}),this.listenTo(p.window,"resize",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.listenTo(p.document,"scroll",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.on("change:_isVisible",(e,n,s)=>{s&&(this._isTransparent=!0,setTimeout(()=>{this.updatePosition(),this._isTransparent=!1,this.focus()},10))}),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView&&!this.isModal?this.headerView.element:null}setupParts({icon:e,title:n,hasCloseButton:s=!0,content:l,actionButtons:f}){n&&(this.headerView=new __(this.locale,{icon:e}),s&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=n,this.ariaLabel=n,this.parts.add(this.headerView,0)),l&&(l instanceof un&&(l=[l]),this.contentView=new f0(this.locale),this.contentView.children.addMany(l),this.parts.add(this.contentView)),f&&(this.actionsView=new h0(this.locale),this.actionsView.setButtons(f),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(e,n){const s=this._getViewportRect(),l=this._getDialogRect();e+l.width>s.right&&(e=s.right-l.width),e<s.left&&(e=s.left),n<s.top&&(n=s.top),this._moveTo(e,n)}_moveTo(e,n){this._left=e,this._top=n}moveBy(e,n){this.moveTo(this._left+e,this._top+n)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const e=this._getViewportRect();let n,s=this.position;this._getCurrentDomRoot()?n=this._getVisibleDomRootRect(e):s=dm;const l=DC.defaultOffset,f=this._getDialogRect();switch(s){case C_:if(n){const b=this.locale.contentLanguageDirection==="ltr"?n.right-f.width-l:n.left+l;this.moveTo(b,n.top+l)}else this._moveOffScreen();break;case jg:n?this.moveTo(Math.round(n.left+n.width/2-f.width/2),Math.round(n.top+n.height/2-f.height/2)):this._moveOffScreen();break;case dm:this.moveTo(Math.round((e.width-f.width)/2),Math.round((e.height-f.height)/2));break;case AS:n?this.moveTo(Math.round(n.left+n.width/2-f.width/2),n.top+l):this._moveOffScreen();break;case p0:n?this.moveTo(Math.round(n.left+n.width/2-f.width/2),n.bottom-f.height-l):this._moveOffScreen();break;case h:n?this.moveTo(Math.round(n.left+n.width/2-f.width/2),n.top-f.height-l):this._moveOffScreen();break;case g:n?this.moveTo(Math.round(n.left+n.width/2-f.width/2),n.bottom+l):this._moveOffScreen()}}_getVisibleDomRootRect(e){let n=new Mn(this._getCurrentDomRoot()).getVisible();return n?(n=e.getIntersection(n),n||null):null}_getDialogRect(){return new Mn(this.element.firstElementChild)}_getViewportRect(){const e=new Mn(p.window);if(this.isModal)return e;const n={top:0,bottom:0,left:0,right:0,...this._getViewportOffset()};return e.top+=n.top,e.height-=n.top,e.bottom-=n.bottom,e.height-=n.bottom,e.left+=n.left,e.right-=n.right,e.width-=n.left+n.right,e}_updateFocusCyclableItems(){const e=[];if(this.contentView)for(const n of this.contentView.children)um(n)&&e.push(n);this.actionsView&&e.push(this.actionsView),this.closeButtonView&&e.push(this.closeButtonView),e.forEach(n=>{var s;this._focusables.add(n),this.focusTracker.add(n.element),um(s=n)&&"focusCycler"in s&&s.focusCycler instanceof _a&&this._focusCycler.chain(n.focusCycler)})}_createCloseButton(){const e=new sr(this.locale),n=this.locale.t;return e.set({label:n("Close"),tooltip:!0,icon:cn.cancel}),e.on("execute",()=>this.fire("close",{source:"closeButton"})),e}};DC.defaultOffset=15;let I=DC;class L extends Vt{static get pluginName(){return"Dialog"}static get isOfficialPlugin(){return!0}constructor(e){super(e);const n=e.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set({id:null,isOpen:!1}),e.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:n("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}destroy(){super.destroy(),L._visibleDialogPlugin===this&&this._unlockBodyScroll()}_initShowHideListeners(){this.on("show",(e,n)=>{this._show(n)}),this.on("show",(e,n)=>{n.onShow&&n.onShow(this)},{priority:"low"}),this.on("hide",()=>{L._visibleDialogPlugin&&L._visibleDialogPlugin._hide()}),this.on("hide",()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)},{priority:"low"})}_initFocusToggler(){const e=this.editor;e.keystrokes.set("Ctrl+F6",(n,s)=>{this.isOpen&&!this.view.isModal&&(this.view.focusTracker.isFocused?e.editing.view.focus():this.view.focus(),s())})}_initMultiRootIntegration(){const e=this.editor.model;e.document.on("change:data",()=>{if(!this.view)return;const n=e.document.differ.getChangedRoots();for(const s of n)s.state&&this.view.updatePosition()})}show(e){this.hide(),this.fire(`show:${e.id}`,e)}_show({id:e,icon:n,title:s,hasCloseButton:l=!0,content:f,actionButtons:b,className:y,isModal:S,position:T,onHide:B,keystrokeHandlerOptions:P}){const W=this.editor;this.view=new I(W.locale,{getCurrentDomRoot:()=>W.editing.view.getDomRoot(W.model.document.selection.anchor.root.rootName),getViewportOffset:()=>W.ui.viewportOffset,keystrokeHandlerOptions:P});const ee=this.view;ee.on("close",()=>{this.hide()}),W.ui.view.body.add(ee),W.keystrokes.listenTo(ee.element),T||(T=S?dm:jg),S&&this._lockBodyScroll(),ee.set({position:T,_isVisible:!0,className:y,isModal:S}),ee.setupParts({icon:n,title:s,hasCloseButton:l,content:f,actionButtons:b}),this.id=e,B&&(this._onHide=B),this.isOpen=!0,L._visibleDialogPlugin=this}hide(){L._visibleDialogPlugin&&L._visibleDialogPlugin.fire(`hide:${L._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const e=this.editor,n=this.view;n.isModal&&this._unlockBodyScroll(),n.contentView&&n.contentView.reset(),e.ui.view.body.remove(n),e.ui.focusTracker.remove(n.element),e.keystrokes.stopListening(n.element),n.destroy(),e.editing.view.focus(),this.id=null,this.isOpen=!1,L._visibleDialogPlugin=null}_lockBodyScroll(){document.documentElement.classList.add("ck-dialog-scroll-locked")}_unlockBodyScroll(){document.documentElement.classList.remove("ck-dialog-scroll-locked")}}var V=a(278),he={attributes:{"data-cke":!0}};he.setAttributes=zt(),he.insert=Rt().bind(null,"head"),he.domAPI=Ut(),he.insertStyleElement=Nt(),Dt()(V.A,he),V.A&&V.A.locals&&V.A.locals;class Se extends sr{constructor(e,n=new Ud){super(e,n),this._checkIconHolderView=new Ve,this.set({hasCheckSpace:!1,_hasCheck:this.isToggleable});const s=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-list-item-button",s.if("isToggleable","ck-list-item-button_toggleable")]}}),this.bind("_hasCheck").to(this,"hasCheckSpace",this,"isToggleable",(l,f)=>l||f)}render(){super.render(),this._hasCheck&&this.children.add(this._checkIconHolderView,0),this._watchCheckIconHolderMount()}_watchCheckIconHolderMount(){this._checkIconHolderView.bind("isOn").to(this,"isOn",e=>this.isToggleable&&e),this.on("change:_hasCheck",(e,n,s)=>{const{children:l,_checkIconHolderView:f}=this;s?l.add(f,0):l.remove(f)})}}class Ve extends un{constructor(){super(),this._checkIconView=this._createCheckIconView();const e=this.bindTemplate;this.children=this.createCollection(),this.set("isOn",!1),this.setTemplate({tag:"span",children:this.children,attributes:{class:["ck","ck-list-item-button__check-holder",e.to("isOn",n=>n?"ck-on":"ck-off")]}})}render(){super.render(),this.isOn&&this.children.add(this._checkIconView,0),this._watchCheckIconMount()}_watchCheckIconMount(){this.on("change:isOn",(e,n,s)=>{const{children:l,_checkIconView:f}=this;s&&!l.has(f)?l.add(f):!s&&l.has(f)&&l.remove(f)})}_createCheckIconView(){const e=new Ya;return e.content=cn.check,e.extendTemplate({attributes:{class:"ck-list-item-button__check-icon"}}),e}}var ct=a(977),Tt={attributes:{"data-cke":!0}};Tt.setAttributes=zt(),Tt.insert=Rt().bind(null,"head"),Tt.domAPI=Ut(),Tt.insertStyleElement=Nt(),Dt()(ct.A,Tt),ct.A&&ct.A.locals&&ct.A.locals;class St extends Se{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}var ht=a(7801),mt={attributes:{"data-cke":!0}};mt.setAttributes=zt(),mt.insert=Rt().bind(null,"head"),mt.domAPI=Ut(),mt.insertStyleElement=Nt(),Dt()(ht.A,mt),ht.A&&ht.A.locals&&ht.A.locals;class En extends un{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${se()}`;const n=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:n.to("for")},children:[{text:n.to("text")}]})}}class Dn extends un{constructor(e,n){super(e);const s=e.t,l=new En;l.text=s("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":l.id,role:"document",tabindex:-1},children:[fn(document,"p",{},s("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(n.values())),l]})}focus(){this.element.focus()}_createCategories(e){return e.map(n=>{const s=[fn(document,"h3",{},n.label),...Array.from(n.groups.values()).map(l=>this._createGroup(l)).flat()];return n.description&&s.splice(1,0,fn(document,"p",{},n.description)),fn(document,"section",{},s)})}_createGroup(e){const n=e.keystrokes.sort((l,f)=>l.label.localeCompare(f.label)).map(l=>this._createGroupRow(l)).flat(),s=[fn(document,"dl",{},n)];return e.label&&s.unshift(fn(document,"h4",{},e.label)),s}_createGroupRow(e){const n=this.locale.t,s=fn(document,"dt"),l=fn(document,"dd"),f=function(y){return typeof y=="string"?[[y]]:typeof y[0]=="string"?[y]:y}(e.keystroke),b=[];for(const y of f)b.push(y.map(pi).join(""));return s.innerHTML=e.label,l.innerHTML=b.join(", ")+(e.mayRequireFn&&w.isMac?` ${n("(may require <kbd>Fn</kbd>)")}`:""),[s,l]}}function pi(u){return $l(u).split("+").map(e=>`<kbd>${e}</kbd>`).join("+")}const nt='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>';var Qe=a(8527),st={attributes:{"data-cke":!0}};st.setAttributes=zt(),st.insert=Rt().bind(null,"head"),st.domAPI=Ut(),st.insertStyleElement=Nt(),Dt()(Qe.A,st),Qe.A&&Qe.A.locals&&Qe.A.locals;class Lt extends Vt{constructor(){super(...arguments),this.contentView=null}static get requires(){return[L]}static get pluginName(){return"AccessibilityHelp"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,n=e.locale.t;e.ui.componentFactory.add("accessibilityHelp",()=>{const s=this._createButton(sr);return s.set({tooltip:!0,withText:!1,label:n("Accessibility help")}),s}),e.ui.componentFactory.add("menuBar:accessibilityHelp",()=>{const s=this._createButton(St);return s.label=n("Accessibility"),s}),e.keystrokes.set("Alt+0",(s,l)=>{this._toggleDialog(),l()}),this._setupRootLabels()}_createButton(e){const n=this.editor,s=n.plugins.get("Dialog"),l=new e(n.locale);return l.set({keystroke:"Alt+0",icon:nt,isToggleable:!0}),l.on("execute",()=>this._toggleDialog()),l.bind("isOn").to(s,"id",f=>f==="accessibilityHelp"),l}_setupRootLabels(){const e=this.editor,n=e.editing.view,s=e.t;function l(f,b){const y=[b.getAttribute("aria-label"),s("Press %0 for help.",[$l("Alt+0")])].filter(S=>S).join(". ");f.setAttribute("aria-label",y,b)}e.ui.on("ready",()=>{n.change(f=>{for(const b of n.document.roots)l(f,b)}),e.on("addRoot",(f,b)=>{const y=e.editing.view.document.getRoot(b.rootName);n.change(S=>l(S,y))},{priority:"low"})})}_toggleDialog(){const e=this.editor,n=e.plugins.get("Dialog"),s=e.locale.t;this.contentView||(this.contentView=new Dn(e.locale,e.accessibility.keystrokeInfos)),n.id==="accessibilityHelp"?n.hide():n.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:s("Accessibility help"),icon:nt,hasCloseButton:!0,content:this.contentView})}}class rn extends rt{constructor(e,n=[]){super(n),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new et({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection,role:"application"},children:this}).render(),rn._bodyWrapper&&rn._bodyWrapper.isConnected||(rn._bodyWrapper=fn(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(rn._bodyWrapper)),rn._bodyWrapper.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove(),rn._bodyWrapper&&!rn._bodyWrapper.childElementCount&&(rn._bodyWrapper.remove(),delete rn._bodyWrapper)}}var er=a(4391),kn={attributes:{"data-cke":!0}};kn.setAttributes=zt(),kn.insert=Rt().bind(null,"head"),kn.domAPI=Ut(),kn.insertStyleElement=Nt(),Dt()(er.A,kn),er.A&&er.A.locals&&er.A.locals;class Sn extends sr{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new un;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}class ss extends Vd(sr){}class qr extends Vd(Se){}function Vd(u){return class extends u{constructor(...e){super(...e),this.buttonView=this,this._fileInputView=new _S(this.locale),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",()=>{this._fileInputView.open()}),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}}class _S extends un{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const n=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:n.to("acceptedType"),multiple:n.to("allowMultipleFiles")},on:{change:n.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const P1='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';var x_=a(25),R1={attributes:{"data-cke":!0}};R1.setAttributes=zt(),R1.insert=Rt().bind(null,"head"),R1.domAPI=Ut(),R1.insertStyleElement=Nt(),Dt()(x_.A,R1),x_.A&&x_.A.locals&&x_.A.locals;class D9 extends un{constructor(e,n){super(e);const s=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),n&&this.children.addMany(n),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",s.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:s.if("isCollapsed","hidden"),"aria-labelledby":s.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}focus(){this.buttonView.focus()}_createButtonView(){const e=new sr(this.locale),n=e.bindTemplate;return e.set({withText:!0,icon:P1}),e.extendTemplate({attributes:{"aria-expanded":n.to("isOn",s=>String(s))}}),e.bind("label").to(this),e.bind("isOn").to(this,"isCollapsed",s=>!s),e.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),e}}var S_=a(7317),F1={attributes:{"data-cke":!0}};F1.setAttributes=zt(),F1.insert=Rt().bind(null,"head"),F1.domAPI=Ut(),F1.insertStyleElement=Nt(),Dt()(S_.A,F1),S_.A&&S_.A.locals&&S_.A.locals,a(6931),a(9047);var E_=a(4962),z1={attributes:{"data-cke":!0}};z1.setAttributes=zt(),z1.insert=Rt().bind(null,"head"),z1.domAPI=Ut(),z1.insertStyleElement=Nt(),Dt()(E_.A,z1),E_.A&&E_.A.locals&&E_.A.locals;class D_ extends un{constructor(e,n){super(e);const s=`ck-labeled-field-view-${se()}`,l=`ck-labeled-field-view-status-${se()}`;this.fieldView=n(this,s,l),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(s),this.statusView=this._createStatusView(l),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(b,y)=>b||y);const f=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",f.to("class"),f.if("isEnabled","ck-disabled",b=>!b),f.if("isEmpty","ck-labeled-field-view_empty"),f.if("isFocused","ck-labeled-field-view_focused"),f.if("placeholder","ck-labeled-field-view_placeholder"),f.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const n=new En(this.locale);return n.for=e,n.bind("text").to(this,"label"),n}_createStatusView(e){const n=new un(this.locale),s=this.bindTemplate;return n.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",s.if("errorText","ck-labeled-field-view__status_error"),s.if("_statusText","ck-hidden",l=>!l)],id:e,role:s.if("errorText","alert")},children:[{text:s.to("_statusText")}]}),n}focus(e){this.fieldView.focus(e)}}class I9 extends un{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new Ji,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const n=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",n.if("isFocused","ck-input_focused"),n.if("isEmpty","ck-input-text_empty"),n.if("hasError","ck-error")],id:n.to("id"),placeholder:n.to("placeholder"),tabindex:n.to("tabIndex"),readonly:n.to("isReadOnly"),"aria-invalid":n.if("hasError",!0),"aria-describedby":n.to("ariaDescribedById"),"aria-label":n.to("ariaLabel")},on:{input:n.to((...s)=>{this.fire("input",...s),this._updateIsEmpty()}),change:n.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,n,s)=>{this._setDomElementValue(s),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(e){this.element.value=e||e===0?e:""}}var I_=a(253),U1={attributes:{"data-cke":!0}};U1.setAttributes=zt(),U1.insert=Rt().bind(null,"head"),U1.domAPI=Ut(),U1.insertStyleElement=Nt(),Dt()(I_.A,U1),I_.A&&I_.A.locals&&I_.A.locals;class T9 extends I9{constructor(e){super(e),this.set("inputMode","text");const n=this.bindTemplate;this.extendTemplate({attributes:{inputmode:n.to("inputMode")}})}}class M9 extends T9{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var T_=a(1671),q1={attributes:{"data-cke":!0}};q1.setAttributes=zt(),q1.insert=Rt().bind(null,"head"),q1.domAPI=Ut(),q1.insertStyleElement=Nt(),Dt()(T_.A,q1),T_.A&&T_.A.locals&&T_.A.locals;class N9 extends un{constructor(e){super(e);const n=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",n.to("position",s=>`ck-dropdown__panel_${s}`),n.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:n.to(s=>{s.target.tagName.toLocaleLowerCase()!=="input"&&s.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():q("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}var M_=a(8149),V1={attributes:{"data-cke":!0}};V1.setAttributes=zt(),V1.insert=Rt().bind(null,"head"),V1.domAPI=Ut(),V1.insertStyleElement=Nt(),Dt()(M_.A,V1),M_.A&&M_.A.locals&&M_.A.locals;const E0=class E0 extends un{constructor(e,n,s){super(e);const l=this.bindTemplate;this.buttonView=n,this.panelView=s,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new Q,this.focusTracker=new Ji,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",l.to("class"),l.if("isEnabled","ck-disabled",f=>!f)],id:l.to("id"),"aria-describedby":l.to("ariaDescribedById")},children:[n,s]}),n.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":l.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(n,s,l)=>{if(l)if(this.panelPosition==="auto"){const f=E0._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=f?f.name:this._defaultPanelPositionName}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const e=(n,s)=>{this.isOpen&&(this.isOpen=!1,s())};this.keystrokes.set("arrowdown",(n,s)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,s())}),this.keystrokes.set("arrowright",(n,s)=>{this.isOpen&&s()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:e,north:n,southEast:s,southWest:l,northEast:f,northWest:b,southMiddleEast:y,southMiddleWest:S,northMiddleEast:T,northMiddleWest:B}=E0.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[s,l,y,S,e,f,b,T,B,n]:[l,s,S,y,e,b,f,B,T,n]}get _defaultPanelPositionName(){return this.locale.uiLanguageDirection==="rtl"?"sw":"se"}};E0.defaultPanelPositions={south:(e,n)=>({top:e.bottom,left:e.left-(n.width-e.width)/2,name:"s"}),southEast:e=>({top:e.bottom,left:e.left,name:"se"}),southWest:(e,n)=>({top:e.bottom,left:e.left-n.width+e.width,name:"sw"}),southMiddleEast:(e,n)=>({top:e.bottom,left:e.left-(n.width-e.width)/4,name:"sme"}),southMiddleWest:(e,n)=>({top:e.bottom,left:e.left-3*(n.width-e.width)/4,name:"smw"}),north:(e,n)=>({top:e.top-n.height,left:e.left-(n.width-e.width)/2,name:"n"}),northEast:(e,n)=>({top:e.top-n.height,left:e.left,name:"ne"}),northWest:(e,n)=>({top:e.top-n.height,left:e.left-n.width+e.width,name:"nw"}),northMiddleEast:(e,n)=>({top:e.top-n.height,left:e.left-(n.width-e.width)/4,name:"nme"}),northMiddleWest:(e,n)=>({top:e.top-n.height,left:e.left-3*(n.width-e.width)/4,name:"nmw"})},E0._getOptimalPosition=_u;let CS=E0;class O9 extends sr{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",n=>String(n))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Ya;return e.content=P1,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}var N_=a(4767),H1={attributes:{"data-cke":!0}};H1.setAttributes=zt(),H1.insert=Rt().bind(null,"head"),H1.domAPI=Ut(),H1.insertStyleElement=Nt(),Dt()(N_.A,H1),N_.A&&N_.A.locals&&N_.A.locals;var O_=a(9554),$1={attributes:{"data-cke":!0}};$1.setAttributes=zt(),$1.insert=Rt().bind(null,"head"),$1.domAPI=Ut(),$1.insertStyleElement=Nt(),Dt()(O_.A,$1),O_.A&&O_.A.locals&&O_.A.locals;class B9 extends Se{constructor(e){super(e);const n=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-dropdown-menu-list__nested-menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",s=>String(s)),"data-cke-tooltip-disabled":n.to("isOn")},on:{mouseenter:n.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Ya;return e.content=P1,e.extendTemplate({attributes:{class:"ck-dropdown-menu-list__nested-menu__button__arrow"}}),e}}class hm extends un{constructor(e){super(e);const n=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",n.if("isVisible","ck-hidden",s=>!s)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class xS extends un{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class B_ extends un{constructor(e,n=new En){super(e);const s=this.bindTemplate,l=new L_(e);this.set({label:"",isVisible:!0}),this.labelView=n,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,l]),l.set({role:"group",ariaLabelledBy:n.id}),l.focusTracker.destroy(),l.keystrokes.destroy(),this.items=l.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",s.if("isVisible","ck-hidden",f=>!f)]},children:this.children})}focus(){if(this.items){const e=this.items.find(n=>!(n instanceof xS));e&&e.focus()}}}var j_=a(5199),W1={attributes:{"data-cke":!0}};W1.setAttributes=zt(),W1.insert=Rt().bind(null,"head"),W1.domAPI=Ut(),W1.insertStyleElement=Nt(),Dt()(j_.A,W1),j_.A&&j_.A.locals&&j_.A.locals;class L_ extends un{constructor(e){super(e),this._listItemGroupToChangeListeners=new WeakMap;const n=this.bindTemplate;this.focusables=new rt,this.items=this.createCollection(),this.focusTracker=new Ji,this.keystrokes=new Q,this._focusCycler=new _a({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:n.to("role"),"aria-label":n.to("ariaLabel"),"aria-labelledby":n.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const e of this.items)e instanceof B_?this._registerFocusableItemsGroup(e):e instanceof hm&&this._registerFocusableListItem(e);this.items.on("change",(e,n)=>{for(const s of n.removed)s instanceof B_?this._deregisterFocusableItemsGroup(s):s instanceof hm&&this._deregisterFocusableListItem(s);for(const s of Array.from(n.added).reverse())s instanceof B_?this._registerFocusableItemsGroup(s,n.index):this._registerFocusableListItem(s,n.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,n){this.focusTracker.add(e.element),this.focusables.add(e,n)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(n,s)=>{for(const l of s.removed)this._deregisterFocusableListItem(l);for(const l of Array.from(s.added).reverse())this._registerFocusableListItem(l,this.items.getIndex(e)+s.index)}}_registerFocusableItemsGroup(e,n){Array.from(e.items).forEach((l,f)=>{const b=n!==void 0?n+f:void 0;this._registerFocusableListItem(l,b)});const s=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,s),e.items.on("change",s)}_deregisterFocusableItemsGroup(e){for(const n of e.items)this._deregisterFocusableListItem(n);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}}class j9 extends L_{constructor(e){super(e);const n=this.bindTemplate;this.role="menu",this.set("isVisible",!0),this.extendTemplate({attributes:{class:["ck-dropdown-menu-list",n.if("isVisible","ck-hidden",s=>!s)]}})}}const L9={eastSouth:u=>({top:u.top,left:u.right-5,name:"es"}),eastNorth:(u,e)=>({top:u.top-e.height+u.height,left:u.right-5,name:"en"}),westSouth:(u,e)=>({top:u.top,left:u.left-e.width+5,name:"ws"}),westNorth:(u,e)=>({top:u.top-e.height+u.height,left:u.left-e.width+5,name:"wn"})};var P_=a(2171),G1={attributes:{"data-cke":!0}};G1.setAttributes=zt(),G1.insert=Rt().bind(null,"head"),G1.domAPI=Ut(),G1.insertStyleElement=Nt(),Dt()(P_.A,G1),P_.A&&P_.A.locals&&P_.A.locals;const m0={openOnArrowRightKey(u){const e=u.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";u.keystrokes.set(e,(n,s)=>{u.focusTracker.focusedElement===u.buttonView.element&&u.isEnabled&&(u.isOpen||(u.isOpen=!0),u.panelView.focus(),s())})},openOnButtonClick(u){u.buttonView.on("execute",()=>{u.isEnabled&&(u.isOpen=!0)})},openAndFocusOnEnterKeyPress(u){u.keystrokes.set("enter",(e,n)=>{u.focusTracker.focusedElement===u.buttonView.element&&(u.isOpen=!0,u.panelView.focus(),n())})},closeOnArrowLeftKey(u){const e=u.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";u.keystrokes.set(e,(n,s)=>{u.isOpen&&(u.focus(),u.isOpen=!1,s())})},closeOnEscKey(u){u.keystrokes.set("esc",(e,n)=>{u.isOpen&&(u.focus(),u.isOpen=!1,n())})},closeOnParentClose(u,e){e.on("change:isOpen",(n,s,l)=>{l||n.source!==e||(u.isOpen=!1)})}};var R_=a(3710),Y1={attributes:{"data-cke":!0}};Y1.setAttributes=zt(),Y1.insert=Rt().bind(null,"head"),Y1.domAPI=Ut(),Y1.insertStyleElement=Nt(),Dt()(R_.A,Y1),R_.A&&R_.A.locals&&R_.A.locals;const WD=Hs("px"),P9={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}},Qc=class Qc extends un{constructor(e){super(e);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this._resizeObserver=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",n.to("position",s=>`ck-balloon-panel_${s}`),n.if("isVisible","ck-balloon-panel_visible"),n.if("withArrow","ck-balloon-panel_with-arrow"),n.to("class")],style:{top:n.to("top",WD),left:n.to("left",WD)}},children:this.content})}destroy(){this.hide(),super.destroy()}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){const n=F_(e.target);if(n&&!Pa(n))return!1;this.show();const s=Qc.defaultPositions,l=Object.assign({},{element:this.element,positions:[s.southArrowNorth,s.southArrowNorthMiddleWest,s.southArrowNorthMiddleEast,s.southArrowNorthWest,s.southArrowNorthEast,s.northArrowSouth,s.northArrowSouthMiddleWest,s.northArrowSouthMiddleEast,s.northArrowSouthWest,s.northArrowSouthEast,s.viewportStickyNorth],limiter:p.document.body,fitInViewport:!0},e),f=Qc._getOptimalPosition(l)||P9,b=parseInt(f.left),y=parseInt(f.top),S=f.name,T=f.config||{},{withArrow:B=!0}=T;return this.top=y,this.left=b,this.position=S,this.withArrow=B,!0}pin(e){this.unpin(),this._startPinning(e)&&(this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback))}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){if(!this.attachTo(e))return!1;let n=F_(e.target);const s=e.limiter?F_(e.limiter):p.document.body;if(this.listenTo(p.document,"scroll",(l,f)=>{const b=f.target,y=n&&b.contains(n),S=s&&b.contains(s);!y&&!S&&n&&s||this.attachTo(e)},{useCapture:!0}),this.listenTo(p.window,"resize",()=>{this.attachTo(e)}),!this._resizeObserver&&(n&&Hn(n)&&(n=n.parentElement),n)){const l=()=>{Pa(n)||this.unpin()};this._resizeObserver=new ho(n,l)}return!0}_stopPinning(){this.stopListening(p.document,"scroll"),this.stopListening(p.window,"resize"),this._resizeObserver&&(this._resizeObserver.destroy(),this._resizeObserver=null)}static generatePositions(e={}){const{sideOffset:n=Qc.arrowSideOffset,heightOffset:s=Qc.arrowHeightOffset,stickyVerticalOffset:l=Qc.stickyVerticalOffset,config:f}=e;return{northWestArrowSouthWest:(S,T)=>({top:b(S,T),left:S.left-n,name:"arrow_sw",...f&&{config:f}}),northWestArrowSouthMiddleWest:(S,T)=>({top:b(S,T),left:S.left-.25*T.width-n,name:"arrow_smw",...f&&{config:f}}),northWestArrowSouth:(S,T)=>({top:b(S,T),left:S.left-T.width/2,name:"arrow_s",...f&&{config:f}}),northWestArrowSouthMiddleEast:(S,T)=>({top:b(S,T),left:S.left-.75*T.width+n,name:"arrow_sme",...f&&{config:f}}),northWestArrowSouthEast:(S,T)=>({top:b(S,T),left:S.left-T.width+n,name:"arrow_se",...f&&{config:f}}),northArrowSouthWest:(S,T)=>({top:b(S,T),left:S.left+S.width/2-n,name:"arrow_sw",...f&&{config:f}}),northArrowSouthMiddleWest:(S,T)=>({top:b(S,T),left:S.left+S.width/2-.25*T.width-n,name:"arrow_smw",...f&&{config:f}}),northArrowSouth:(S,T)=>({top:b(S,T),left:S.left+S.width/2-T.width/2,name:"arrow_s",...f&&{config:f}}),northArrowSouthMiddleEast:(S,T)=>({top:b(S,T),left:S.left+S.width/2-.75*T.width+n,name:"arrow_sme",...f&&{config:f}}),northArrowSouthEast:(S,T)=>({top:b(S,T),left:S.left+S.width/2-T.width+n,name:"arrow_se",...f&&{config:f}}),northEastArrowSouthWest:(S,T)=>({top:b(S,T),left:S.right-n,name:"arrow_sw",...f&&{config:f}}),northEastArrowSouthMiddleWest:(S,T)=>({top:b(S,T),left:S.right-.25*T.width-n,name:"arrow_smw",...f&&{config:f}}),northEastArrowSouth:(S,T)=>({top:b(S,T),left:S.right-T.width/2,name:"arrow_s",...f&&{config:f}}),northEastArrowSouthMiddleEast:(S,T)=>({top:b(S,T),left:S.right-.75*T.width+n,name:"arrow_sme",...f&&{config:f}}),northEastArrowSouthEast:(S,T)=>({top:b(S,T),left:S.right-T.width+n,name:"arrow_se",...f&&{config:f}}),southWestArrowNorthWest:S=>({top:y(S),left:S.left-n,name:"arrow_nw",...f&&{config:f}}),southWestArrowNorthMiddleWest:(S,T)=>({top:y(S),left:S.left-.25*T.width-n,name:"arrow_nmw",...f&&{config:f}}),southWestArrowNorth:(S,T)=>({top:y(S),left:S.left-T.width/2,name:"arrow_n",...f&&{config:f}}),southWestArrowNorthMiddleEast:(S,T)=>({top:y(S),left:S.left-.75*T.width+n,name:"arrow_nme",...f&&{config:f}}),southWestArrowNorthEast:(S,T)=>({top:y(S),left:S.left-T.width+n,name:"arrow_ne",...f&&{config:f}}),southArrowNorthWest:S=>({top:y(S),left:S.left+S.width/2-n,name:"arrow_nw",...f&&{config:f}}),southArrowNorthMiddleWest:(S,T)=>({top:y(S),left:S.left+S.width/2-.25*T.width-n,name:"arrow_nmw",...f&&{config:f}}),southArrowNorth:(S,T)=>({top:y(S),left:S.left+S.width/2-T.width/2,name:"arrow_n",...f&&{config:f}}),southArrowNorthMiddleEast:(S,T)=>({top:y(S),left:S.left+S.width/2-.75*T.width+n,name:"arrow_nme",...f&&{config:f}}),southArrowNorthEast:(S,T)=>({top:y(S),left:S.left+S.width/2-T.width+n,name:"arrow_ne",...f&&{config:f}}),southEastArrowNorthWest:S=>({top:y(S),left:S.right-n,name:"arrow_nw",...f&&{config:f}}),southEastArrowNorthMiddleWest:(S,T)=>({top:y(S),left:S.right-.25*T.width-n,name:"arrow_nmw",...f&&{config:f}}),southEastArrowNorth:(S,T)=>({top:y(S),left:S.right-T.width/2,name:"arrow_n",...f&&{config:f}}),southEastArrowNorthMiddleEast:(S,T)=>({top:y(S),left:S.right-.75*T.width+n,name:"arrow_nme",...f&&{config:f}}),southEastArrowNorthEast:(S,T)=>({top:y(S),left:S.right-T.width+n,name:"arrow_ne",...f&&{config:f}}),westArrowEast:(S,T)=>({top:S.top+S.height/2-T.height/2,left:S.left-T.width-s,name:"arrow_e",...f&&{config:f}}),eastArrowWest:(S,T)=>({top:S.top+S.height/2-T.height/2,left:S.right+s,name:"arrow_w",...f&&{config:f}}),viewportStickyNorth:(S,T,B,P)=>{const W=P||B;return S.getIntersection(W)?W.height-S.height>l?null:{top:W.top+l,left:S.left+S.width/2-T.width/2,name:"arrowless",config:{withArrow:!1,...f}}:null}};function b(S,T){return S.top-T.height-s}function y(S){return S.bottom+s}}};Qc.arrowSideOffset=25,Qc.arrowHeightOffset=10,Qc.stickyVerticalOffset=20,Qc._getOptimalPosition=_u,Qc.defaultPositions=Qc.generatePositions();let Gf=Qc;function F_(u){return qs(u)?u:Vs(u)?u.commonAncestorContainer:typeof u=="function"?F_(u()):null}var z_=a(3610),K1={attributes:{"data-cke":!0}};K1.setAttributes=zt(),K1.insert=Rt().bind(null,"head"),K1.domAPI=Ut(),K1.insertStyleElement=Nt(),Dt()(z_.A,K1),z_.A&&z_.A.locals&&z_.A.locals;class R9 extends Gf{constructor(e){super(e);const n=this.bindTemplate;this.set({isVisible:!1,position:"se",class:null,top:0,left:0}),this.extendTemplate({tag:"div",attributes:{class:["ck-reset","ck-dropdown-menu__nested-menu__panel"],tabindex:"-1"},on:{selectstart:n.to(s=>{s.target.tagName.toLocaleLowerCase()!=="input"&&s.preventDefault()})}})}focus(e=1){const{content:n}=this;n.length&&(e===1?n.first.focus():n.last.focus())}}var U_=a(7218),Q1={attributes:{"data-cke":!0}};Q1.setAttributes=zt(),Q1.insert=Rt().bind(null,"head"),Q1.domAPI=Ut(),Q1.insertStyleElement=Nt(),Dt()(U_.A,Q1),U_.A&&U_.A.locals&&U_.A.locals;const IC=class IC extends un{constructor(e,n,s,l,f){super(e),this._bodyCollection=n,this.id=s,this.set({isOpen:!1,isEnabled:!0,panelPosition:"w",class:void 0,parentMenuView:null}),this.keystrokes=new Q,this.focusTracker=new Ji,this.buttonView=new B9(e),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.buttonView.label=l,this.panelView=new R9(e),this.panelView.isVisible=!0,this.listView=new j9(e),this.listView.bind("ariaLabel").to(this.buttonView,"label"),this.panelView.content.add(this.listView);const b=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown-menu-list__nested-menu",b.to("class"),b.if("isEnabled","ck-disabled",y=>!y)],role:"presentation"},children:[this.buttonView]}),this.parentMenuView=f,this.parentMenuView&&this._handleParentMenuView(),this._attachBehaviors()}get _panelPositions(){const{westSouth:e,eastSouth:n,westNorth:s,eastNorth:l}=L9;return this.locale.uiLanguageDirection==="ltr"?[n,l,e,s]:[e,s,n,l]}render(){super.render(),this.panelView.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.focusTracker.add(this.listView),this.keystrokes.listenTo(this.element),this._mountPanelOnOpen()}destroy(){this._removePanelFromBody(),this.panelView.destroy(),super.destroy()}focus(){this.buttonView.focus()}_handleParentMenuView(){this.delegate(...IC.DELEGATED_EVENTS).to(this.parentMenuView),m0.closeOnParentClose(this,this.parentMenuView)}_attachBehaviors(){m0.openOnButtonClick(this),m0.openAndFocusOnEnterKeyPress(this),m0.openOnArrowRightKey(this),m0.closeOnEscKey(this),m0.closeOnArrowLeftKey(this)}_mountPanelOnOpen(){const{panelView:e}=this;this.on("change:isOpen",(n,s,l)=>{n.source===this&&(l||!this._bodyCollection.has(e)?l&&!this._bodyCollection.has(e)&&this._addPanelToBody():this._removePanelFromBody())})}_removePanelFromBody(){const{panelView:e,keystrokes:n}=this;this._bodyCollection.has(e)&&(this._bodyCollection.remove(e),n.stopListening(e.element))}_addPanelToBody(){const{panelView:e,buttonView:n,keystrokes:s}=this;this._bodyCollection.has(e)||(this._bodyCollection.add(e),s.listenTo(e.element),e.pin({positions:this._panelPositions,limiter:p.document.body,element:e.element,target:n.element,fitInViewport:!0}))}};IC.DELEGATED_EVENTS=["mouseenter","execute","change:isOpen"];let GD=IC;class YD extends un{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class F9 extends un{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function KD(u){if(Array.isArray(u))return{items:u,removeItems:[]};const e={items:[],removeItems:[]};return u?{...e,...u}:e}var q_=a(9677),Z1={attributes:{"data-cke":!0}};Z1.setAttributes=zt(),Z1.insert=Rt().bind(null,"head"),Z1.domAPI=Ut(),Z1.insertStyleElement=Nt(),Dt()(q_.A,Z1),q_.A&&q_.A.locals&&q_.A.locals;const z9={alignLeft:cn.alignLeft,bold:cn.bold,importExport:cn.importExport,paragraph:cn.paragraph,plus:cn.plus,text:cn.text,threeVerticalDots:cn.threeVerticalDots,pilcrow:cn.pilcrow,dragIndicator:cn.dragIndicator};class SS extends un{constructor(e,n){super(e);const s=this.bindTemplate,l=this.t;this.options=n||{},this.set("ariaLabel",l("Editor toolbar")),this.set("maxWidth","auto"),this.set("role","toolbar"),this.items=this.createCollection(),this.focusTracker=new Ji,this.keystrokes=new Q,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new U9(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const f=e.uiLanguageDirection==="rtl";this._focusCycler=new _a({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[f?"arrowright":"arrowleft","arrowup"],focusNext:[f?"arrowleft":"arrowright","arrowdown"]}});const b=["ck","ck-toolbar",s.to("class"),s.if("isCompact","ck-toolbar_compact")];var y;this.options.shouldGroupWhenFull&&this.options.isFloating&&b.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:b,role:s.to("role"),"aria-label":s.to("ariaLabel"),style:{maxWidth:s.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(y=this,y.bindTemplate.to(S=>{S.target===y.element&&S.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new V9(this):new q9(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e);this.items.on("add",(e,n)=>{this.focusTracker.add(n)}),this.items.on("remove",(e,n)=>{this.focusTracker.remove(n)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,n,s){this.items.addMany(this._buildItemsFromConfig(e,n,s))}_buildItemsFromConfig(e,n,s){const l=KD(e),f=s||l.removeItems;return this._cleanItemsConfiguration(l.items,n,f).map(b=>Ge(b)?this._createNestedToolbarDropdown(b,n,f):b==="|"?new YD:b==="-"?new F9:n.create(b)).filter(b=>!!b)}_cleanItemsConfiguration(e,n,s){const l=e.filter((f,b,y)=>f==="|"||s.indexOf(f)===-1&&(f==="-"?!this.options.shouldGroupWhenFull||(q("toolbarview-line-break-ignored-when-grouping-items",y),!1):!(!Ge(f)&&!n.has(f))||(q("toolbarview-item-unavailable",{item:f}),!1)));return this._cleanSeparatorsAndLineBreaks(l)}_cleanSeparatorsAndLineBreaks(e){const n=b=>b!=="-"&&b!=="|",s=e.length,l=e.findIndex(n);if(l===-1)return[];const f=s-e.slice().reverse().findIndex(n);return e.slice(l,f).filter((b,y,S)=>n(b)?!0:!(y>0&&S[y-1]===b))}_createNestedToolbarDropdown(e,n,s){let{label:l,icon:f,items:b,tooltip:y=!0,withText:S=!1}=e;if(b=this._cleanItemsConfiguration(b,n,s),!b.length)return null;const T=fm(this.locale);return l||q("toolbarview-nested-toolbar-dropdown-missing-label",e),T.class="ck-toolbar__nested-toolbar-dropdown",T.buttonView.set({label:l,tooltip:y,withText:!!S}),f!==!1?T.buttonView.icon=z9[f]||f||cn.threeVerticalDots:T.buttonView.withText=!0,ES(T,()=>T.toolbarView._buildItemsFromConfig(b,n,s)),T}}class U9 extends un{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class q9{constructor(e){const n=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(s=>s),e.focusables.bindTo(e.items).using(s=>um(s)?s:null),e.extendTemplate({attributes:{class:[n.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class V9{constructor(e){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(n=>n),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),e.children.on("change",this._updateFocusCyclableItems.bind(this)),e.items.on("change",(n,s)=>{const l=s.index,f=Array.from(s.added);for(const b of s.removed)l>=this.ungroupedItems.length?this.groupedItems.remove(b):this.ungroupedItems.remove(b);for(let b=l;b<l+f.length;b++){const y=f[b-l];b>this.ungroupedItems.length?this.groupedItems.add(y,b-this.ungroupedItems.length):this.ungroupedItems.add(y,b)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!Pa(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const e=this.groupedItems.length;let n;for(;this._areItemsOverflowing;)this._groupLastItem(),n=!0;if(!n&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,n=this.viewLocale.uiLanguageDirection,s=new Mn(e.lastChild),l=new Mn(e);if(!this.cachedPadding){const f=p.window.getComputedStyle(e),b=n==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(f[b])}return n==="ltr"?s.right>l.right-this.cachedPadding:s.left<l.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new ho(this.viewElement,n=>{e&&e===n.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=n.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new YD),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,n=e.t,s=fm(e);return s.class="ck-toolbar__grouped-dropdown",s.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",ES(s,this.groupedItems),s.buttonView.set({label:n("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:cn.threeVerticalDots}),s}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{um(e)&&this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}var V_=a(1792),J1={attributes:{"data-cke":!0}};J1.setAttributes=zt(),J1.insert=Rt().bind(null,"head"),J1.domAPI=Ut(),J1.insertStyleElement=Nt(),Dt()(V_.A,J1),V_.A&&V_.A.locals&&V_.A.locals;class H_ extends un{constructor(e,n){super(e);const s=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(n),this.arrowView=this._createArrowView(),this.keystrokes=new Q,this.focusTracker=new Ji,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",s.to("class"),s.if("isVisible","ck-hidden",l=>!l),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,n)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),n())}),this.keystrokes.set("arrowleft",(e,n)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),n())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(e){const n=e||new sr;return e||n.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),n.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),n.delegate("execute").to(this),n}_createArrowView(){const e=new sr,n=e.bindTemplate;return e.icon=P1,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":n.to("isOn"),"aria-haspopup":!0,"aria-expanded":n.to("isOn",s=>String(s))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}var $_=a(1666),X1={attributes:{"data-cke":!0}};X1.setAttributes=zt(),X1.insert=Rt().bind(null,"head"),X1.domAPI=Ut(),X1.insertStyleElement=Nt(),Dt()($_.A,X1),$_.A&&$_.A.locals&&$_.A.locals;var W_=a(3629),ew={attributes:{"data-cke":!0}};ew.setAttributes=zt(),ew.insert=Rt().bind(null,"head"),ew.domAPI=Ut(),ew.insertStyleElement=Nt(),Dt()(W_.A,ew),W_.A&&W_.A.locals&&W_.A.locals;function fm(u,e=O9){const n=typeof e=="function"?new e(u):e,s=new N9(u),l=new CS(u,n,s);return n.bind("isEnabled").to(l),n instanceof H_?n.arrowView.bind("isOn").to(l,"isOpen"):n.bind("isOn").to(l,"isOpen"),function(f){(function(b){Gl({emitter:b,activator:()=>b.isRendered&&b.isOpen,callback:()=>{b.isOpen=!1},contextElements:()=>[b.element,...e6(b.focusTracker).filter(y=>!b.element.contains(y))]})})(f),function(b){b.on("execute",y=>{y.source instanceof Sn||(b.isOpen=!1)})}(f),function(b){b.focusTracker.on("change:isFocused",(y,S,T)=>{!T&&b.isOpen&&(b.isOpen=!1)})}(f),function(b){b.keystrokes.set("arrowdown",(y,S)=>{b.isOpen&&(b.panelView.focus(),S())}),b.keystrokes.set("arrowup",(y,S)=>{b.isOpen&&(b.panelView.focusLast(),S())})}(f),function(b){b.on("change:isOpen",(y,S,T)=>{T||b.focusTracker.elements.some(B=>B.contains(p.document.activeElement))&&b.buttonView.focus()})}(f),function(b){b.on("change:isOpen",(y,S,T)=>{T&&b.panelView.focus()},{priority:"low"})}(f)}(l),l}function ES(u,e,n={}){u.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),u.isOpen?QD(u,e,n):u.once("change:isOpen",()=>QD(u,e,n),{priority:"highest"}),n.enableActiveItemFocusOnDropdownOpen&&XD(u,()=>u.toolbarView.items.find(s=>s.isOn))}function QD(u,e,n){const s=u.locale,l=s.t,f=u.toolbarView=new SS(s),b=typeof e=="function"?e():e;f.ariaLabel=n.ariaLabel||l("Dropdown toolbar"),n.maxWidth&&(f.maxWidth=n.maxWidth),n.class&&(f.class=n.class),n.isCompact&&(f.isCompact=n.isCompact),n.isVertical&&(f.isVertical=!0),b instanceof rt?f.items.bindTo(b).using(y=>y):f.items.addMany(b),u.panelView.children.add(f),u.focusTracker.add(f),f.items.delegate("execute").to(u)}function ZD(u,e,n={}){u.isOpen?JD(u,e,n):u.once("change:isOpen",()=>JD(u,e,n),{priority:"highest"}),XD(u,()=>u.listView.items.find(s=>s instanceof hm&&s.children.first.isOn))}function JD(u,e,n){const s=u.locale,l=u.listView=new L_(s),f=typeof e=="function"?e():e;l.ariaLabel=n.ariaLabel,l.role=n.role,t6(u,l.items,f,s),u.panelView.children.add(l),l.items.delegate("execute").to(u)}function XD(u,e){u.on("change:isOpen",()=>{if(!u.isOpen)return;const n=e();n&&(typeof n.focus=="function"?n.focus():q("ui-dropdown-focus-child-on-open-child-missing-focus",{view:n}))},{priority:X.low-10})}function e6(u){return[...u.elements,...u.externalViews.flatMap(e=>e6(e.focusTracker))]}function t6(u,e,n,s){e.on("change",()=>{const l=[...e].reduce((b,y)=>(y instanceof hm&&y.children.first instanceof Se&&b.push(y.children.first),b),[]),f=l.some(b=>b.isToggleable);l.forEach(b=>{b.hasCheckSpace=f})}),e.bindTo(n).using(l=>{if(l.type==="separator")return new xS(s);if(l.type==="group"){const f=new B_(s);return f.set({label:l.label}),t6(u,f.items,l.items,s),f.items.delegate("execute").to(u),f}if(l.type==="button"||l.type==="switchbutton"){const f=l.model.role==="menuitemcheckbox"||l.model.role==="menuitemradio",b=new hm(s);let y;return l.type==="button"?(y=new Se(s),y.set({isToggleable:f})):y=new Sn(s),y.bind(...Object.keys(l.model)).to(l.model),y.delegate("execute").to(b),b.children.add(y),b}return null})}const G_=(u,e,n)=>{const s=new M9(u.locale);return s.set({id:e,ariaDescribedById:n}),s.bind("isReadOnly").to(u,"isEnabled",l=>!l),s.bind("hasError").to(u,"errorText",l=>!!l),s.on("input",()=>{u.errorText=null}),u.bind("isEmpty","isFocused","placeholder").to(s),s};var Y_=a(1905),tw={attributes:{"data-cke":!0}};tw.setAttributes=zt(),tw.insert=Rt().bind(null,"head"),tw.domAPI=Ut(),tw.insertStyleElement=Nt(),Dt()(Y_.A,tw),Y_.A&&Y_.A.locals&&Y_.A.locals;var K_=a(6309),nw={attributes:{"data-cke":!0}};nw.setAttributes=zt(),nw.insert=Rt().bind(null,"head"),nw.domAPI=Ut(),nw.insertStyleElement=Nt(),Dt()(K_.A,nw),K_.A&&K_.A.locals&&K_.A.locals;class H9{constructor(e){this._components=new Map,this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,n){this._components.set(DS(e),{callback:n,originalName:e})}create(e){if(!this.has(e))throw new U("componentfactory-item-missing",this,{name:e});return this._components.get(DS(e)).callback(this.editor.locale)}has(e){return this._components.has(DS(e))}}function DS(u){return String(u).toLowerCase()}var Q_=a(9205),rw={attributes:{"data-cke":!0}};rw.setAttributes=zt(),rw.insert=Rt().bind(null,"head"),rw.domAPI=Ut(),rw.insertStyleElement=Nt(),Dt()(Q_.A,rw),Q_.A&&Q_.A.locals&&Q_.A.locals;const n6="ck-tooltip",aa=class aa extends jo(){constructor(e){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._mutationObserver=null,aa._editors.add(e),aa._instance)return aa._instance;aa._instance=this,this.tooltipTextView=new un(e.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Gf(e.locale),this.balloonPanelView.class=n6,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=function(n){const s=new MutationObserver(()=>{n()});return{attach(l){s.observe(l,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){s.disconnect()}}}(()=>{this._updateTooltipPosition()}),this._pinTooltipDebounced=zf(this._pinTooltip,600),this._unpinTooltipDebounced=zf(this._unpinTooltip,400),this.listenTo(p.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(p.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(p.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(p.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(p.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(p.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(e){const n=e.ui.view&&e.ui.view.body;aa._editors.delete(e),this.stopListening(e.ui),n&&n.has(this.balloonPanelView)&&n.remove(this.balloonPanelView),aa._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),aa._instance=null)}static getPositioningFunctions(e){const n=aa.defaultBalloonPositions;return{s:[n.southArrowNorth,n.southArrowNorthEast,n.southArrowNorthWest],n:[n.northArrowSouth],e:[n.eastArrowWest],w:[n.westArrowEast],sw:[n.southArrowNorthEast],se:[n.southArrowNorthWest]}[e]}_onKeyDown(e,n){n.key==="Escape"&&this._currentElementWithTooltip&&(this._unpinTooltip(),n.stopPropagation())}_onEnterOrFocus(e,{target:n}){const s=TS(n);s?s!==this._currentElementWithTooltip?(this._unpinTooltip(),e.name==="focus"&&!s.matches(":hover")||s.matches("[data-cke-tooltip-instant]")?this._pinTooltip(s,MS(s)):this._pinTooltipDebounced(s,MS(s))):this._unpinTooltipDebounced.cancel():e.name==="focus"&&this._unpinTooltip()}_onLeaveOrBlur(e,{target:n,relatedTarget:s}){if(e.name==="mouseleave"){if(!qs(n))return;const l=this.balloonPanelView.element,f=l&&(l===s||l.contains(s)),b=!f&&n===l;if(f)return void this._unpinTooltipDebounced.cancel();if(!b&&this._currentElementWithTooltip&&n!==this._currentElementWithTooltip)return;const y=TS(n),S=TS(s);(b||y&&y!==S)&&(this._pinTooltipDebounced.cancel(),this._currentElementWithTooltip&&this._currentElementWithTooltip.matches("[data-cke-tooltip-instant]")||y&&y.matches("[data-cke-tooltip-instant]")?this._unpinTooltip():this._unpinTooltipDebounced())}else{if(this._currentElementWithTooltip&&n!==this._currentElementWithTooltip)return;this._pinTooltipDebounced.cancel(),this._unpinTooltipDebounced()}}_onScroll(e,{target:n}){this._currentElementWithTooltip&&(n.contains(this.balloonPanelView.element)&&n.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(e,{text:n,position:s,cssClass:l}){this._unpinTooltip();const f=Po(aa._editors.values()).ui.view.body;f.has(this.balloonPanelView)||f.add(this.balloonPanelView),this.tooltipTextView.text=n,this.balloonPanelView.class=[n6,l].filter(b=>b).join(" "),this.balloonPanelView.pin({target:e,positions:aa.getPositioningFunctions(s)}),this._mutationObserver.attach(e);for(const b of aa._editors)this.listenTo(b.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=e,this._currentTooltipPosition=s}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const e of aa._editors)this.stopListening(e.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const e=MS(this._currentElementWithTooltip);Pa(this._currentElementWithTooltip)&&e.text?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:aa.getPositioningFunctions(e.position)}):this._unpinTooltip()}};aa.defaultBalloonPositions=Gf.generatePositions({heightOffset:5,sideOffset:13}),aa._editors=new Set,aa._instance=null;let IS=aa;function TS(u){return qs(u)?u.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function MS(u){return{text:u.dataset.ckeTooltipText,position:u.dataset.ckeTooltipPosition||"s",cssClass:u.dataset.ckeTooltipClass||""}}class r6 extends jo(){constructor(e,n={}){super(),this._balloonView=null,this._showBalloonThrottled=Eg(()=>this._showBalloon(),50,{leading:!0}),this._lastFocusedEditableElement=null,this.editor=e,this._balloonClass=n.balloonClass,e.on("ready",()=>this._handleEditorReady())}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;this._isEnabled()&&e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(n,s,l)=>{this._updateLastFocusedEditableElement(),l?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(n,s,l)=>{this._updateLastFocusedEditableElement(),l&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_getNormalizedConfig(){return{side:this.editor.locale.contentLanguageDirection==="ltr"?"right":"left",position:"border",verticalOffset:0,horizontalOffset:5}}_showBalloon(){const e=this._getBalloonAttachOptions();e&&(this._balloonView||(this._balloonView=this._createBalloonView()),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_createBalloonView(){const e=this.editor,n=new Gf,s=this._createBadgeContent();return n.content.add(s),this._balloonClass&&(n.class=this._balloonClass),e.ui.view.body.add(n),n}_getBalloonAttachOptions(){if(!this._lastFocusedEditableElement)return null;const e=this._getNormalizedConfig(),n=e.side==="right"?i6(this._lastFocusedEditableElement,s=e,(l,f)=>l.left+l.width-f.width-s.horizontalOffset):function(l,f){return i6(l,f,b=>b.left+f.horizontalOffset)}(this._lastFocusedEditableElement,e);var s;return{target:this._lastFocusedEditableElement,positions:[n]}}_updateLastFocusedEditableElement(){const e=this.editor,n=e.ui.focusTracker.isFocused,s=e.ui.focusTracker.focusedElement;if(!n||!s)return void(this._lastFocusedEditableElement=null);const l=Array.from(e.ui.getEditableElementsNames()).map(f=>e.ui.getEditableElement(f));l.includes(s)?this._lastFocusedEditableElement=s:this._lastFocusedEditableElement=l[0]}}function i6(u,e,n){return(s,l)=>{const f=new Mn(u);if(f.width<350||f.height<50)return null;let b;b=e.position==="inside"?f.bottom-l.height:f.bottom-l.height/2,b-=e.verticalOffset;const y=n(f,l),S=s.clone().moveTo(y,b).getIntersection(l.clone().moveTo(y,b)).getVisible();return!S||S.getArea()<l.getArea()?null:{top:b,left:y,name:`position_${e.position}-side_${e.side}`,config:{withArrow:!1}}}}class $9 extends r6{constructor(e){super(e,{balloonClass:"ck-powered-by-balloon"})}_isEnabled(){const e=this.editor;if(e.config.get("ui.poweredBy.forceVisible"))return!0;const n=e.config.get("licenseKey");if(n=="GPL")return!0;const s=_e(n.split(".")[1]);return!s||!s.whiteLabel}_createBadgeContent(){return new W9(this.editor.locale,this._getNormalizedConfig().label)}_getNormalizedConfig(){const e=super._getNormalizedConfig(),n=this.editor.config.get("ui.poweredBy")||{},s=n.position||e.position,l=s==="inside"?5:e.verticalOffset;return{position:s,side:n.side||e.side,label:n.label===void 0?"Powered by":n.label,verticalOffset:n.verticalOffset!==void 0?n.verticalOffset:l,horizontalOffset:n.horizontalOffset!==void 0?n.horizontalOffset:e.horizontalOffset,forceVisible:!!n.forceVisible}}}class W9 extends un{constructor(e,n){super(e);const s=new Ya,l=this.bindTemplate;s.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/powered-by-ckeditor/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...n?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[n]}]:[],s],on:{dragstart:l.to(f=>f.preventDefault())}}]})}}class G9 extends r6{constructor(e){super(e,{balloonClass:"ck-evaluation-badge-balloon"}),this.licenseTypeMessage={evaluation:"For evaluation purposes only",trial:"For evaluation purposes only",development:"For development purposes only"}}_isEnabled(){const e=o6(this.editor.config.get("licenseKey"));return!!(e&&this.licenseTypeMessage[e])}_createBadgeContent(){const e=o6(this.editor.config.get("licenseKey"));return new Y9(this.editor.locale,this.licenseTypeMessage[e])}_getNormalizedConfig(){const e=super._getNormalizedConfig(),n=this.editor.config.get("ui.poweredBy")||{};return{position:n.position||e.position,side:(n.side||e.side)==="left"?"right":"left",verticalOffset:e.verticalOffset,horizontalOffset:e.horizontalOffset}}}class Y9 extends un{constructor(e,n){super(e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-evaluation-badge"],"aria-hidden":!0},children:[{tag:"span",attributes:{class:["ck","ck-evaluation-badge__label"]},children:[n]}]})}}function o6(u){if(u=="GPL")return"GPL";const e=_e(u.split(".")[1]);return e?e.licenseType||"production":null}var Z_=a(1801),iw={attributes:{"data-cke":!0}};iw.setAttributes=zt(),iw.insert=Rt().bind(null,"head"),iw.domAPI=Ut(),iw.insertStyleElement=Nt(),Dt()(Z_.A,iw),Z_.A&&Z_.A.locals&&Z_.A.locals;const s6={POLITE:"polite",ASSERTIVE:"assertive"};class K9{constructor(e){this.editor=e,e.once("ready",()=>{for(const n of Object.values(s6))this.announce("",n)})}announce(e,n=s6.POLITE){const s=this.editor;if(!s.ui.view)return;this.view||(this.view=new Q9(s.locale),s.ui.view.body.add(this.view));const{politeness:l,isUnsafeHTML:f}=typeof n=="string"?{politeness:n}:n;let b=this.view.regionViews.find(y=>y.politeness===l);b||(b=new Z9(s,l),this.view.regionViews.add(b)),b.announce({announcement:e,isUnsafeHTML:f})}}class Q9 extends un{constructor(e){super(e),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class Z9 extends un{constructor(e,n){super(e.locale),this.setTemplate({tag:"div",attributes:{"aria-live":n,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),e.on("destroy",()=>{this._pruneAnnouncementsInterval!==null&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)}),this.politeness=n,this._domConverter=e.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval(()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()},5e3)}announce({announcement:e,isUnsafeHTML:n}){if(!e.trim().length)return;const s=document.createElement("li");n?this._domConverter.setContentOf(s,e):s.innerText=e,this._listElement.appendChild(s)}get _listElement(){return this.element.querySelector("ul")}}var J_=a(9481),ow={attributes:{"data-cke":!0}};ow.setAttributes=zt(),ow.insert=Rt().bind(null,"head"),ow.domAPI=Ut(),ow.insertStyleElement=Nt(),Dt()(J_.A,ow),J_.A&&J_.A.locals&&J_.A.locals;class X_ extends hm{constructor(e,n){super(e);const s=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:s.to("mouseenter")}}),this.delegate("mouseenter").to(n)}}const g0={toggleMenusAndFocusItemsOnHover(u){u.on("menu:mouseenter",e=>{if(u.isFocusBorderEnabled||u.isOpen){if(u.isOpen)for(const n of u.menus){const s=e.path[0],l=s instanceof X_&&s.children.first===n;n.isOpen=(e.path.includes(n)||l)&&n.isEnabled}e.source.focus()}})},focusCycleMenusOnArrows(u){const e=u.locale.uiLanguageDirection==="rtl";function n(s,l){const f=u.children.getIndex(s),b=s.isOpen,y=u.children.length,S=u.children.get((f+y+l)%y);s.isOpen=!1,b&&(S.isOpen=!0),S.buttonView.focus()}u.on("menu:arrowright",s=>{n(s.source,e?-1:1)}),u.on("menu:arrowleft",s=>{n(s.source,e?1:-1)})},closeMenusWhenTheBarCloses(u){u.on("change:isOpen",()=>{u.isOpen||u.menus.forEach(e=>{e.isOpen=!1})})},closeMenuWhenAnotherOnTheSameLevelOpens(u){u.on("menu:change:isOpen",(e,n,s)=>{s&&u.menus.filter(l=>e.source.parentMenuView===l.parentMenuView&&e.source!==l&&l.isOpen).forEach(l=>{l.isOpen=!1})})},closeOnClickOutside(u){Gl({emitter:u,activator:()=>u.isOpen,callback:()=>u.close(),contextElements:()=>u.children.map(e=>e.element)})},enableFocusHighlightOnInteraction(u){let e=!1;u.on("change:isOpen",(n,s,l)=>{l||(e||(u.isFocusBorderEnabled=!1),e=!1)}),u.listenTo(u.element,"keydown",()=>{e=!0},{useCapture:!0}),u.listenTo(u.element,"keyup",()=>{e=!1},{useCapture:!0}),u.listenTo(u.element,"focus",()=>{e&&(u.isFocusBorderEnabled=!0)},{useCapture:!0})}},pm={openAndFocusPanelOnArrowDownKey(u){u.keystrokes.set("arrowdown",(e,n)=>{u.focusTracker.focusedElement===u.buttonView.element&&(u.isOpen||(u.isOpen=!0),u.panelView.focus(),n())})},openOnArrowRightKey(u){const e=u.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";u.keystrokes.set(e,(n,s)=>{u.focusTracker.focusedElement===u.buttonView.element&&u.isEnabled&&(u.isOpen||(u.isOpen=!0),u.panelView.focus(),s())})},openOnButtonClick(u){u.buttonView.on("execute",()=>{u.isOpen=!0})},toggleOnButtonClick(u){u.buttonView.on("execute",()=>{u.isOpen=!u.isOpen})},openAndFocusOnEnterKeyPress(u){u.keystrokes.set("enter",(e,n)=>{u.focusTracker.focusedElement===u.buttonView.element&&(u.isOpen=!0,u.panelView.focus(),n())})},closeOnArrowLeftKey(u){const e=u.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";u.keystrokes.set(e,(n,s)=>{u.isOpen&&(u.isOpen=!1,u.focus(),s())})},closeOnEscKey(u){u.keystrokes.set("esc",(e,n)=>{u.isOpen&&(u.isOpen=!1,u.focus(),n())})},closeOnParentClose(u){u.parentMenuView.on("change:isOpen",(e,n,s)=>{s||e.source!==u.parentMenuView||(u.isOpen=!1)})}},J9={southEast:u=>({top:u.bottom,left:u.left,name:"se"}),southWest:(u,e)=>({top:u.bottom,left:u.left-e.width+u.width,name:"sw"}),northEast:(u,e)=>({top:u.top-e.height,left:u.left,name:"ne"}),northWest:(u,e)=>({top:u.top-e.height,left:u.left-e.width+u.width,name:"nw"}),eastSouth:u=>({top:u.top,left:u.right-5,name:"es"}),eastNorth:(u,e)=>({top:u.top-e.height,left:u.right-5,name:"en"}),westSouth:(u,e)=>({top:u.top,left:u.left-e.width+5,name:"ws"}),westNorth:(u,e)=>({top:u.top-e.height,left:u.left-e.width+5,name:"wn"})},X9=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditingEnhanced",items:["menuBar:sourceEditingEnhanced"]},{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"previewMergeFields",items:["menuBar:previewMergeFields"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:insertImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable"]},{groupId:"insertInline",items:["menuBar:link","menuBar:bookmark","menuBar:comment","menuBar:insertMergeField","menuBar:emoji"]},{groupId:"insertMinorWidgets",items:["menuBar:mediaEmbed","menuBar:insertTemplate","menuBar:specialCharacters","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:multiLevelList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function eF({normalizedConfig:u,locale:e,componentFactory:n,extraItems:s}){const l=Hc(u);return a6(u,l,s),function(f,b){const y=b.removeItems,S=[];b.items=b.items.filter(({menuId:T})=>!y.includes(T)||(S.push(T),!1)),b0(b.items,T=>{T.groups=T.groups.filter(({groupId:B})=>!y.includes(B)||(S.push(B),!1));for(const B of T.groups)B.items=B.items.filter(P=>{const W=u6(P);return!y.includes(W)||(S.push(W),!1)})});for(const T of y)S.includes(T)||q("menu-bar-item-could-not-be-removed",{menuBarConfig:f,itemName:T})}(u,l),a6(u,l,l.addItems),function(f,b,y){b0(b.items,S=>{for(const T of S.groups)T.items=T.items.filter(B=>{const P=typeof B=="string"&&!y.has(B);return P&&!b.isUsingDefaultConfig&&q("menu-bar-item-unavailable",{menuBarConfig:f,parentMenuConfig:Hc(S),componentName:B}),!P})})}(u,l,n),c6(u,l),function(f,b){const y=b.t,S={File:y({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:y({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:y({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:y({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:y({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:y({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:y({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:y({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:y({string:"Font",id:"MENU_BAR_MENU_FONT"})};b0(f.items,T=>{T.label in S&&(T.label=S[T.label])})}(l,e),l}function a6(u,e,n){const s=[];if(n.length!=0){for(const f of n){const b=nF(f.position),y=rF(f.position);if(typeof(l=f)=="object"&&"menu"in l)if(y){const S=e.items.findIndex(T=>T.menuId===y);S!=-1?b==="before"?(e.items.splice(S,0,f.menu),s.push(f)):b==="after"&&(e.items.splice(S+1,0,f.menu),s.push(f)):l6(e,f.menu,y,b)&&s.push(f)}else b==="start"?(e.items.unshift(f.menu),s.push(f)):b==="end"&&(e.items.push(f.menu),s.push(f));else tF(f)?b0(e.items,S=>{if(S.menuId===y)b==="start"?(S.groups.unshift(f.group),s.push(f)):b==="end"&&(S.groups.push(f.group),s.push(f));else{const T=S.groups.findIndex(B=>B.groupId===y);T!==-1&&(b==="before"?(S.groups.splice(T,0,f.group),s.push(f)):b==="after"&&(S.groups.splice(T+1,0,f.group),s.push(f)))}}):l6(e,f.item,y,b)&&s.push(f)}var l;for(const f of n)s.includes(f)||q("menu-bar-item-could-not-be-added",{menuBarConfig:u,addedItemConfig:f})}}function l6(u,e,n,s){let l=!1;return b0(u.items,f=>{for(const{groupId:b,items:y}of f.groups){if(l)return;if(b===n)s==="start"?(y.unshift(e),l=!0):s==="end"&&(y.push(e),l=!0);else{const S=y.findIndex(T=>u6(T)===n);S!==-1&&(s==="before"?(y.splice(S,0,e),l=!0):s==="after"&&(y.splice(S+1,0,e),l=!0))}}}),l}function c6(u,e){const n=e.isUsingDefaultConfig;let s=!1;e.items=e.items.filter(l=>!!l.groups.length||(NS(u,l,n),!1)),e.items.length?(b0(e.items,l=>{l.groups=l.groups.filter(f=>!!f.items.length||(s=!0,!1));for(const f of l.groups)f.items=f.items.filter(b=>!(d6(b)&&!b.groups.length)||(NS(u,b,n),s=!0,!1))}),s&&c6(u,e)):NS(u,u,n)}function NS(u,e,n){n||q("menu-bar-menu-empty",{menuBarConfig:u,emptyMenuConfig:e})}function b0(u,e){if(Array.isArray(u))for(const s of u)n(s);function n(s){e(s);for(const l of s.groups)for(const f of l.items)d6(f)&&n(f)}}function tF(u){return typeof u=="object"&&"group"in u}function nF(u){return u.startsWith("start")?"start":u.startsWith("end")?"end":u.startsWith("after")?"after":"before"}function rF(u){const e=u.match(/^[^:]+:(.+)/);return e?e[1]:null}function u6(u){return typeof u=="string"?u:u.menuId}function d6(u){return typeof u=="object"&&"menuId"in u}class iF extends Ae(){constructor(e){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[],this._extraMenuBarElements=[],this._lastFocusedForeignElement=null;const n=e.editing.view;this.editor=e,this.componentFactory=new H9(e),this.focusTracker=new Ji,this.tooltipManager=new IS(e),this.poweredBy=new $9(e),this.evaluationBadge=new G9(e),this.ariaLiveAnnouncer=new K9(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this._bindBodyCollectionWithFocusTracker(),this.isReady=!0}),this.listenTo(n.document,"layoutChanged",this.update.bind(this)),this.listenTo(n,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy(),this.evaluationBadge.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,n){this._editableElementsMap.set(e,n),n.ckeditorInstance||(n.ckeditorInstance=this.editor),this.focusTracker.add(n);const s=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(n)};this.isReady?s():this.once("ready",s)}removeEditableElement(e){const n=this._editableElementsMap.get(e);n&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(n),this.focusTracker.remove(n),n.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,n={}){e.isRendered?(this.focusTracker.add(e),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:n})}extendMenuBar(e){this._extraMenuBarElements.push(e)}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_initMenuBar(e){const n=e.element;this.focusTracker.add(n),this.editor.keystrokes.listenTo(n);const s=function(l){let f;return f="items"in l&&l.items?{items:l.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1,...l}:{items:Hc(X9),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0,...l},f}(this.editor.config.get("menuBar")||{});e.fillFromConfig(s,this.componentFactory,this._extraMenuBarElements),this.editor.keystrokes.set("Esc",(l,f)=>{n.contains(this.editor.ui.focusTracker.focusedElement)&&(this._lastFocusedForeignElement?(this._lastFocusedForeignElement.focus(),this._lastFocusedForeignElement=null):this.editor.editing.view.focus(),f())}),this.editor.keystrokes.set("Alt+F9",(l,f)=>{n.contains(this.editor.ui.focusTracker.focusedElement)||(this._saveLastFocusedForeignElement(),e.isFocusBorderEnabled=!0,e.focus(),f())})}_readViewportOffsetFromConfig(){const e=this.editor,n=e.config.get("ui.viewportOffset");if(n)return n;const s=e.config.get("toolbar.viewportTopOffset");return s?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:s}):{top:0}}_initFocusTracking(){const e=this.editor;let n;e.keystrokes.set("Alt+F10",(s,l)=>{this._saveLastFocusedForeignElement();const f=this._getCurrentFocusedToolbarDefinition();f&&n||(n=this._getFocusableCandidateToolbarDefinitions());for(let b=0;b<n.length;b++){const y=n.shift();if(n.push(y),y!==f&&this._focusFocusableCandidateToolbar(y)){f&&f.options.afterBlur&&f.options.afterBlur();break}}l()}),e.keystrokes.set("Esc",(s,l)=>{const f=this._getCurrentFocusedToolbarDefinition();f&&(this._lastFocusedForeignElement?(this._lastFocusedForeignElement.focus(),this._lastFocusedForeignElement=null):e.editing.view.focus(),f.options.afterBlur&&f.options.afterBlur(),l())})}_saveLastFocusedForeignElement(){const e=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(e)&&!Array.from(this.editor.editing.view.domRoots.values()).includes(e)&&(this._lastFocusedForeignElement=e)}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const n of this._focusableToolbarDefinitions){const{toolbarView:s,options:l}=n;(Pa(s.element)||l.beforeFocus)&&e.push(n)}return e.sort((n,s)=>h6(n)-h6(s)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:n,options:{beforeFocus:s}}=e;return s&&s(),!!Pa(n.element)&&(n.focus(),!0)}_handleScrollToTheSelection(e,n){const s={top:0,bottom:0,left:0,right:0,...this.viewportOffset};n.viewportOffset.top+=s.top,n.viewportOffset.bottom+=s.bottom,n.viewportOffset.left+=s.left,n.viewportOffset.right+=s.right}_bindBodyCollectionWithFocusTracker(){const e=this.view.body;for(const n of e)this.focusTracker.add(n.element);e.on("add",(n,s)=>{this.focusTracker.add(s.element)}),e.on("remove",(n,s)=>{this.focusTracker.remove(s.element)})}}function h6(u){const{toolbarView:e,options:n}=u;let s=10;return Pa(e.element)&&s--,n.isContextual&&s--,s}var e2=a(1185),sw={attributes:{"data-cke":!0}};sw.setAttributes=zt(),sw.insert=Rt().bind(null,"head"),sw.domAPI=Ut(),sw.insertStyleElement=Nt(),Dt()(e2.A,sw),e2.A&&e2.A.locals&&e2.A.locals;class oF extends un{constructor(e){super(e),this.body=new rn(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class sF extends oF{constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,n=new En;return n.text=e("Rich Text Editor"),n.extendTemplate({attributes:{class:"ck-voice-label"}}),n}}class aF extends un{constructor(e,n,s){super(e),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=s,this._hasExternalElement=!!this._editableElement,this._editingView=n}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;function n(s){e.change(l=>{const f=e.document.getRoot(s.name);l.addClass(s.isFocused?"ck-focused":"ck-blurred",f),l.removeClass(s.isFocused?"ck-blurred":"ck-focused",f)})}e.isRenderingInProgress?function s(l){e.once("change:isRenderingInProgress",(f,b,y)=>{y?s(l):n(l)})}(this):n(this)}}class lF extends aF{constructor(e,n,s,l={}){super(e,n,s),this._options=l,this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}})}render(){super.render();const e=this._editingView;e.change(n=>{const s=e.document.getRoot(this.name);n.setAttribute("aria-label",this.getEditableAriaLabel(),s)})}getEditableAriaLabel(){const e=this.locale.t,n=this._options.label,s=this._editableElement,l=this.name;if(typeof n=="string")return n;if(typeof n=="object")return n[l];if(typeof n=="function")return n(this);if(s){const f=s.getAttribute("aria-label");if(f)return f}return e("Rich Text Editor. Editing area: %0",l)}}class OS extends rs{static get pluginName(){return"Notification"}static get isOfficialPlugin(){return!0}init(){this.on("show:warning",(e,n)=>{window.alert(n.message)},{priority:"lowest"})}showSuccess(e,n={}){this._showNotification({message:e,type:"success",namespace:n.namespace,title:n.title})}showInfo(e,n={}){this._showNotification({message:e,type:"info",namespace:n.namespace,title:n.title})}showWarning(e,n={}){this._showNotification({message:e,type:"warning",namespace:n.namespace,title:n.title})}_showNotification(e){const n=e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`;this.fire(n,{message:e.message,type:e.type,title:e.title||""})}}class f6 extends Ae(){constructor(e,n){super(),n&&Gk(this,n),e&&this.set(e)}}var t2=a(991),aw={attributes:{"data-cke":!0}};aw.setAttributes=zt(),aw.insert=Rt().bind(null,"head"),aw.domAPI=Ut(),aw.insertStyleElement=Nt(),Dt()(t2.A,aw),t2.A&&t2.A.locals&&t2.A.locals;var n2=a(5380),lw={attributes:{"data-cke":!0}};lw.setAttributes=zt(),lw.insert=Rt().bind(null,"head"),lw.domAPI=Ut(),lw.insertStyleElement=Nt(),Dt()(n2.A,lw),n2.A&&n2.A.locals&&n2.A.locals;const r2=Hs("px");class i2 extends Vt{constructor(e){super(e),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const n=this.editor.editing.view,s=n.document.selection.editableElement;return s?n.domConverter.mapViewToDom(s.root):null},this.decorate("getPositionOptions"),this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}static get isOfficialPlugin(){return!0}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new U("contextualballoon-add-view-exist",[this,e]);const n=e.stackId||"main";if(!this._idToStack.has(n))return this._idToStack.set(n,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(n)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(n));const s=this._idToStack.get(n);e.singleViewMode&&this.showStack(n),s.set(e.view,e),this._viewToStack.set(e.view,s),s===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new U("contextualballoon-remove-view-not-exist",[this,e]);const n=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(n.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(n.values())[n.size-2])),n.size===1?(this._idToStack.delete(this._getStackId(n)),this._numberOfStacks=this._idToStack.size):n.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this.getPositionOptions()),this._fakePanelsView.updatePosition()}getPositionOptions(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}showStack(e){this.visibleStack=e;const n=this._idToStack.get(e);if(!n)throw new U("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==n&&this._showView(Array.from(n.values()).pop())}_createPanelView(){this._view=new Gf(this.editor.locale),this.editor.ui.view.body.add(this._view),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(n=>n[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let n=e.indexOf(this._visibleStack)+1;e[n]||(n=0),this.showStack(this._getStackId(e[n]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let n=e.indexOf(this._visibleStack)-1;e[n]||(n=e.length-1),this.showStack(this._getStackId(e[n]))}_createRotatorView(){const e=new cF(this.editor.locale),n=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(s,l)=>!l&&s>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(s,l)=>{if(l<2)return"";const f=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return n("%0 of %1",[f,l])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new uF(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(n,s)=>!s&&n>=2?Math.min(n-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:n="",withArrow:s=!0,singleViewMode:l=!1}){this.view.class=n,this.view.withArrow=s,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this.getPositionOptions()),this._fakePanelsView.updatePosition(),l&&(this._singleViewMode=!0)}}class cF extends un{constructor(e){super(e);const n=e.t,s=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Ji,this.buttonPrevView=this._createButtonView(n("Previous"),cn.previousArrow),this.buttonNextView=this._createButtonView(n("Next"),cn.nextArrow),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",s.to("isNavigationVisible",l=>l?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:s.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,n){const s=new sr(this.locale);return s.set({label:e,icon:n,tooltip:!0}),s}}class uF extends un{constructor(e,n){super(e);const s=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=n,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",s.to("numberOfPanels",l=>l?"":"ck-hidden")],style:{top:s.to("top",r2),left:s.to("left",r2),width:s.to("width",r2),height:s.to("height",r2)}},children:this.content}),this.on("change:numberOfPanels",(l,f,b,y)=>{b>y?this._addPanels(b-y):this._removePanels(y-b),this.updatePosition()})}_addPanels(e){for(;e--;){const n=new un;n.setTemplate({tag:"div"}),this.content.add(n),this.registerChild(n)}}_removePanels(e){for(;e--;){const n=this.content.last;this.content.remove(n),this.deregisterChild(n),n.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:n}=this._balloonPanelView,{width:s,height:l}=new Mn(this._balloonPanelView.element);Object.assign(this,{top:e,left:n,width:s,height:l})}}}var o2=a(8298),cw={attributes:{"data-cke":!0}};cw.setAttributes=zt(),cw.insert=Rt().bind(null,"head"),cw.domAPI=Ut(),cw.insertStyleElement=Nt(),Dt()(o2.A,cw),o2.A&&o2.A.locals&&o2.A.locals;const k0=Hs("px");class dF extends un{constructor(e){super(e);const n=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new et({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:n.to("isSticky",s=>s?"block":"none"),height:n.to("isSticky",s=>s?k0(this._contentPanelRect.height):null)}}}).render(),this.contentPanelElement=new et({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",n.if("isSticky","ck-sticky-panel__content_sticky"),n.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:n.to("isSticky",s=>s?k0(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:n.to("_stickyTopOffset",s=>s&&k0(s)),bottom:n.to("_stickyBottomOffset",s=>s&&k0(s)),marginLeft:n.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(p.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive)return void this._unstick();const e=new Mn(this.limiterElement);let n=e.getVisible();if(n){const s=new Mn(p.window);s.top+=this.viewportTopOffset,s.height-=this.viewportTopOffset,n=n.getIntersection(s)}if(n&&e.top<n.top){const s=n.top;if(s+this._contentPanelRect.height+this.limiterBottomOffset>n.bottom){const l=Math.max(e.bottom-n.bottom,0)+this.limiterBottomOffset;e.bottom-l>e.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(l):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<e.height?this._stickToTopOfAncestors(s):this._unstick()}else this._unstick()}_stickToTopOfAncestors(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=e,this._stickyBottomOffset=null,this._marginLeft=k0(-p.window.scrollX)}_stickToBottomOfLimiter(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=e,this._marginLeft=k0(-p.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new Mn(this.contentPanelElement)}}class hF extends D_{constructor(e,n){const s=e.t,l=Object.assign({},{showResetButton:!0,showIcon:!0,creator:G_},n);super(e,l.creator),this.label=n.label,this._viewConfig=l,this._viewConfig.showIcon&&(this.iconView=new Ya,this.iconView.content=cn.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new sr(e),this.resetButtonView.set({label:s("Clear"),icon:cn.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",f=>!f),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class fF extends un{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",e.if("isVisible","ck-hidden",n=>!n)],tabindex:-1},children:[{tag:"span",children:[{text:[e.to("primaryText")]}]},{tag:"span",children:[{text:[e.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class pF extends un{constructor(e){super(e),this.children=this.createCollection(),this.focusTracker=new Ji,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new _a({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const e of this.children)this.focusTracker.add(e.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var p6=/[\\^$.*+?()[\]{}|]/g,mF=RegExp(p6.source);const m6=function(u){return(u=Iu(u))&&mF.test(u)?u.replace(p6,"\\$&"):u};var s2=a(8107),uw={attributes:{"data-cke":!0}};uw.setAttributes=zt(),uw.insert=Rt().bind(null,"head"),uw.domAPI=Ut(),uw.insertStyleElement=Nt(),Dt()(s2.A,uw),s2.A&&s2.A.locals&&s2.A.locals;class gF extends un{constructor(e,n){super(e),this._config=n,this.filteredView=n.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new Ji,this.keystrokes=new Q,this.resultsView=new pF(e),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),n.infoView&&n.infoView.instance?this.infoView=n.infoView.instance:(this.infoView=new fF,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new _a({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(s,{resultsCount:l,totalItemsCount:f})=>{this.resultsCount=l,this.totalItemsCount=f}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",n.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const e=n=>n.stopPropagation();for(const n of this.focusableChildren)this.focusTracker.add(n.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search(""),this.filteredView.element.scrollTo(0,0)}search(e){const n=e?new RegExp(m6(e),"ig"):null,s=this.filteredView.filter(n);this.fire("search",{query:e,...s})}_createSearchTextQueryView(){const e=new hF(this.locale,this._config.queryView);return this.listenTo(e.fieldView,"input",()=>{this.search(e.fieldView.element.value)}),e.on("reset",()=>this.reset()),e.bind("isEnabled").to(this),e}_enableDefaultInfoViewBehavior(){const e=this.locale.t,n=this.infoView;function s(l,{query:f,resultsCount:b,totalItemsCount:y}){return typeof l=="function"?l(f,b,y):l}this.on("search",(l,f)=>{if(f.resultsCount)n.set({isVisible:!1});else{const b=this._config.infoView&&this._config.infoView.text;let y,S;f.totalItemsCount?b&&b.notFound?(y=b.notFound.primary,S=b.notFound.secondary):(y=e("No results found"),S=""):b&&b.noSearchableItems?(y=b.noSearchableItems.primary,S=b.noSearchableItems.secondary):(y=e("No searchable items"),S=""),n.set({primaryText:s(y,f),secondaryText:s(S,f),isVisible:!0})}})}}var a2=a(5727),dw={attributes:{"data-cke":!0}};dw.setAttributes=zt(),dw.insert=Rt().bind(null,"head"),dw.domAPI=Ut(),dw.insertStyleElement=Nt(),Dt()(a2.A,dw),a2.A&&a2.A.locals&&a2.A.locals;const D0=class D0 extends gF{constructor(e,n){super(e,n),this._config=n;const s=Hs("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const l=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[l.if("isVisible","ck-hidden",f=>!f),l.to("_position",f=>`ck-search__results_${f}`)],style:{width:l.to("_width",s)}}}),this.focusTracker.on("change:isFocused",(f,b,y)=>{this._updateResultsVisibility(),y?this.resultsView.element.scrollTop=0:n.resetOnBlur&&this.queryView.reset()}),this.on("search",()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()}),this.keystrokes.set("esc",(f,b)=>{this.resultsView.isVisible&&(this.queryView.focus(),this.resultsView.isVisible=!1,b())}),this.listenTo(p.document,"scroll",()=>{this._updateResultsViewWidthAndPosition()}),this.on("change:isEnabled",()=>{this._updateResultsVisibility()}),this.filteredView.on("execute",(f,{value:b})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=b,this.resultsView.isVisible=!1}),this.resultsView.on("change:isVisible",()=>{this._updateResultsViewWidthAndPosition()})}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new Mn(this.queryView.fieldView.element).width;const e=D0._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:D0.defaultResultsPositions});this.resultsView._position=e?e.name:"s"}_updateResultsVisibility(){const e=this._config.queryMinChars===void 0?0:this._config.queryMinChars,n=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&n>=e}};D0.defaultResultsPositions=[e=>({top:e.bottom,left:e.left,name:"s"}),(e,n)=>({top:e.top-n.height,left:e.left,name:"n"})],D0._getOptimalPosition=_u;let g6=D0;var l2=a(9529),hw={attributes:{"data-cke":!0}};hw.setAttributes=zt(),hw.insert=Rt().bind(null,"head"),hw.domAPI=Ut(),hw.insertStyleElement=Nt(),Dt()(l2.A,hw),l2.A&&l2.A.locals&&l2.A.locals;var c2=a(109),fw={attributes:{"data-cke":!0}};fw.setAttributes=zt(),fw.insert=Rt().bind(null,"head"),fw.domAPI=Ut(),fw.insertStyleElement=Nt(),Dt()(c2.A,fw),c2.A&&c2.A.locals&&c2.A.locals;var u2=a(2710),pw={attributes:{"data-cke":!0}};pw.setAttributes=zt(),pw.insert=Rt().bind(null,"head"),pw.domAPI=Ut(),pw.insertStyleElement=Nt(),Dt()(u2.A,pw),u2.A&&u2.A.locals&&u2.A.locals;var d2=a(3344),mw={attributes:{"data-cke":!0}};mw.setAttributes=zt(),mw.insert=Rt().bind(null,"head"),mw.domAPI=Ut(),mw.insertStyleElement=Nt(),Dt()(d2.A,mw),d2.A&&d2.A.locals&&d2.A.locals;class bF extends Se{constructor(e){super(e);const n=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",s=>String(s)),"data-cke-tooltip-disabled":n.to("isOn")},on:{mouseenter:n.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Ya;return e.content=P1,e.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),e}}var h2=a(9108),gw={attributes:{"data-cke":!0}};gw.setAttributes=zt(),gw.insert=Rt().bind(null,"head"),gw.domAPI=Ut(),gw.insertStyleElement=Nt(),Dt()(h2.A,gw),h2.A&&h2.A.locals&&h2.A.locals;class kF extends un{constructor(e){super(e);const n=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",n.to("position",s=>`ck-menu-bar__menu__panel_position_${s}`),n.if("isVisible","ck-hidden",s=>!s)],tabindex:"-1"},children:this.children,on:{selectstart:n.to(s=>{s.target.tagName.toLocaleLowerCase()!=="input"&&s.preventDefault()})}})}focus(e=1){this.children.length&&(e===1?this.children.first.focus():this.children.last.focus())}}var f2=a(4),bw={attributes:{"data-cke":!0}};bw.setAttributes=zt(),bw.insert=Rt().bind(null,"head"),bw.domAPI=Ut(),bw.insertStyleElement=Nt(),Dt()(f2.A,bw),f2.A&&f2.A.locals&&f2.A.locals;const TC=class TC extends un{constructor(e){super(e);const n=this.bindTemplate;this.buttonView=new bF(e),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new kF(e),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new Q,this.focusTracker=new Ji,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",n.to("class"),n.if("isEnabled","ck-disabled",s=>!s),n.if("parentMenuView","ck-menu-bar__menu_top-level",s=>!s)]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),pm.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(pm.openOnButtonClick(this),pm.openOnArrowRightKey(this),pm.closeOnArrowLeftKey(this),pm.openAndFocusOnEnterKeyPress(this),pm.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),pm.openAndFocusPanelOnArrowDownKey(this),pm.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",(e,n)=>{this.fire("arrowright"),n()}),this.keystrokes.set("arrowleft",(e,n)=>{this.fire("arrowleft"),n()})}_repositionPanelOnOpen(){this.on("change:isOpen",(e,n,s)=>{if(!s)return;const l=TC._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=l?l.name:this._defaultMenuPositionName})}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:e,southWest:n,northEast:s,northWest:l,westSouth:f,eastSouth:b,westNorth:y,eastNorth:S}=J9;return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?[b,S,f,y]:[e,n,s,l]:this.parentMenuView?[f,y,b,S]:[n,e,l,s]}get _defaultMenuPositionName(){return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?"es":"se":this.parentMenuView?"ws":"sw"}};TC._getOptimalPosition=_u;let mm=TC;class p2 extends L_{constructor(e){super(e),this.role="menu",this.items.on("change",this._setItemsCheckSpace.bind(this))}_setItemsCheckSpace(){const e=Array.from(this.items).some(n=>{const s=b6(n);return s&&s.isToggleable});this.items.forEach(n=>{const s=b6(n);s&&(s.hasCheckSpace=e)})}}function b6(u){return u instanceof hm?u.children.map(e=>function(n){return typeof n=="object"&&"buttonView"in n&&n.buttonView instanceof sr}(e)?e.buttonView:e).find(e=>e instanceof Se):null}class k6 extends qr{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}var m2=a(497),kw={attributes:{"data-cke":!0}};kw.setAttributes=zt(),kw.insert=Rt().bind(null,"head"),kw.domAPI=Ut(),kw.insertStyleElement=Nt(),Dt()(m2.A,kw),m2.A&&m2.A.locals&&m2.A.locals;const w6=["mouseenter","arrowleft","arrowright","change:isOpen"];class wF extends un{constructor(e){super(e),this.menus=[];const n=e.t,s=this.bindTemplate;this.set({isOpen:!1,isFocusBorderEnabled:!1}),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar",s.if("isFocusBorderEnabled","ck-menu-bar_focus-border-enabled")],"aria-label":n("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(e,n,s=[]){const l=eF({normalizedConfig:e,locale:this.locale,componentFactory:n,extraItems:s}).items.map(f=>this._createMenu({componentFactory:n,menuDefinition:f}));this.children.addMany(l)}render(){super.render(),g0.toggleMenusAndFocusItemsOnHover(this),g0.closeMenusWhenTheBarCloses(this),g0.closeMenuWhenAnotherOnTheSameLevelOpens(this),g0.focusCycleMenusOnArrows(this),g0.closeOnClickOutside(this),g0.enableFocusHighlightOnInteraction(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const e of this.children)e.isOpen=!1}registerMenu(e,n=null){n?(e.delegate(...w6).to(n),e.parentMenuView=n):e.delegate(...w6).to(this,s=>"menu:"+s),e._attachBehaviors(),this.menus.push(e)}_createMenu({componentFactory:e,menuDefinition:n,parentMenuView:s}){const l=this.locale,f=new mm(l);return this.registerMenu(f,s),f.buttonView.set({label:n.label}),f.once("change:isOpen",()=>{const b=new p2(l);b.ariaLabel=n.label,f.panelView.children.add(b),b.items.addMany(this._createMenuItems({menuDefinition:n,parentMenuView:f,componentFactory:e}))}),f}_createMenuItems({menuDefinition:e,parentMenuView:n,componentFactory:s}){const l=this.locale,f=[];for(const b of e.groups){for(const y of b.items){const S=new X_(l,n);if(Ge(y))S.children.add(this._createMenu({componentFactory:s,menuDefinition:y,parentMenuView:n}));else{const T=this._createMenuItemContentFromFactory({componentName:y,componentFactory:s,parentMenuView:n});if(!T)continue;S.children.add(T)}f.push(S)}b!==e.groups[e.groups.length-1]&&f.push(new xS(l))}return f}_createMenuItemContentFromFactory({componentName:e,parentMenuView:n,componentFactory:s}){const l=s.create(e);return l instanceof mm||l instanceof St||l instanceof k6?(this._registerMenuTree(l,n),l.on("execute",()=>{this.close()}),l):(q("menu-bar-component-unsupported",{componentName:e,componentView:l}),null)}_registerMenuTree(e,n){if(!(e instanceof mm))return void e.delegate("mouseenter").to(n);this.registerMenu(e,n);const s=e.panelView.children.filter(f=>f instanceof p2)[0];if(!s)return void e.delegate("mouseenter").to(n);const l=s.items.filter(f=>f instanceof hm);for(const f of l)this._registerMenuTree(f.children.get(0),e)}_setupIsOpenUpdater(){let e;this.on("menu:change:isOpen",(n,s,l)=>{clearTimeout(e),l?this.isOpen=!0:e=setTimeout(()=>{this.isOpen=Array.from(this.children).some(f=>f.isOpen)},0)})}}class vF extends iF{constructor(e,n){super(e),this.view=n,this._toolbarConfig=KD(e.config.get("toolbar")),this._elementReplacer=new wt,this.listenTo(e.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(e){const n=this.editor,s=this.view,l=n.editing.view,f=s.editable,b=l.document.getRoot();f.name=b.rootName,s.render();const y=f.element;this.setEditableElement(f.name,y),s.editable.bind("isFocused").to(this.focusTracker),l.attachDomRoot(y),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),s.menuBarView&&this._initMenuBar(s.menuBarView),this._initDialogPluginIntegration(),this._initContextualBalloonIntegration(),this.fire("ready")}destroy(){super.destroy();const e=this.view,n=this.editor.editing.view;this._elementReplacer.restore(),n.getDomRoot(e.editable.name)&&n.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:n})=>n||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,n=e.editing.view,s=n.document.getRoot(),l=e.sourceElement;let f;const b=e.config.get("placeholder");b&&(f=typeof b=="string"?b:b[this.view.editable.name]),!f&&l&&l.tagName.toLowerCase()==="textarea"&&(f=l.getAttribute("placeholder")),f&&(s.placeholder=f),za({view:n,element:s,isDirectHost:!1,keepOnFocus:!0})}_initContextualBalloonIntegration(){if(!this.editor.plugins.has("ContextualBalloon"))return;const{stickyPanel:e}=this.view,n=this.editor.plugins.get("ContextualBalloon");n.on("getPositionOptions",l=>{const f=l.return;if(!f||!e.isSticky||!e.element)return;const b=new Mn(e.element).height,y=typeof f.target=="function"?f.target():f.target,S=typeof f.limiter=="function"?f.limiter():f.limiter;if(y&&S&&new Mn(y).height>=new Mn(S).height-b)return;const T={...f.viewportOffsetConfig},B=(T.top||0)+b;l.return={...f,viewportOffsetConfig:{...T,top:B}}},{priority:"low"});const s=()=>{n.visibleView&&n.updatePosition()};this.listenTo(e,"change:isSticky",s),this.listenTo(this.editor.ui,"change:viewportOffset",s)}_handleScrollToTheSelectionWithStickyPanel(e,n,s){const l=this.view.stickyPanel;if(l.isSticky){const f=new Mn(l.element).height;n.viewportOffset.top+=f}else{const f=()=>{this.editor.editing.view.scrollToTheSelection(s)};this.listenTo(l,"change:isSticky",f),setTimeout(()=>{this.stopListening(l,"change:isSticky",f)},20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const e=this.view.stickyPanel,n=this.editor.plugins.get("Dialog");n.on("show",()=>{const s=n.view;s.on("moveTo",(l,f)=>{if(!e.isSticky||s.wasMoved||s.isModal)return;const b=new Mn(e.contentPanelElement);f[1]<b.bottom+I.defaultOffset&&(f[1]=b.bottom+I.defaultOffset)},{priority:"high"})},{priority:"low"})}}var g2=a(7388),ww={attributes:{"data-cke":!0}};ww.setAttributes=zt(),ww.insert=Rt().bind(null,"head"),ww.domAPI=Ut(),ww.insertStyleElement=Nt(),Dt()(g2.A,ww),g2.A&&g2.A.locals&&g2.A.locals;class yF extends sF{constructor(e,n,s={}){super(e),this.stickyPanel=new dF(e),this.toolbar=new SS(e,{shouldGroupWhenFull:s.shouldToolbarGroupWhenFull}),s.useMenuBar&&(this.menuBarView=new wF(e)),this.editable=new lF(e,n,void 0,{label:s.label})}render(){super.render(),this.menuBarView?this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]):this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class AF extends Tg(j1){static get editorName(){return"ClassicEditor"}constructor(e,n={}){if(!b2(e)&&n.initialData!==void 0)throw new U("editor-create-initial-data",null);super(n),this.config.define("menuBar.isVisible",!1),this.config.get("initialData")===void 0&&this.config.set("initialData",function(b){return b2(b)?(y=b,y instanceof HTMLTextAreaElement?y.value:y.innerHTML):b;var y}(e)),b2(e)&&(this.sourceElement=e),this.model.document.createRoot();const s=!this.config.get("toolbar.shouldNotGroupWhenFull"),l=this.config.get("menuBar"),f=new yF(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:s,useMenuBar:l.isVisible,label:this.config.get("label")});this.ui=new vF(this,f),function(b){if(!Ki(b.updateSourceElement))throw new U("attachtoform-missing-elementapi-interface",b);const y=b.sourceElement;if(function(S){return!!S&&S.tagName.toLowerCase()==="textarea"}(y)&&y.form){let S;const T=y.form,B=()=>b.updateSourceElement();Ki(T.submit)&&(S=T.submit,T.submit=()=>{B(),S.apply(T)}),T.addEventListener("submit",B),b.on("destroy",()=>{T.removeEventListener("submit",B),S&&(T.submit=S)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,n={}){return new Promise(s=>{const l=new this(e,n);s(l.initPlugins().then(()=>l.ui.init(b2(e)?e:null)).then(()=>l.data.init(l.config.get("initialData"))).then(()=>l.fire("ready")).then(()=>l))})}}function b2(u){return qs(u)}class vw extends bl{constructor(e){super(e),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const n=this.document;function s(l){return(f,b)=>{b.preventDefault();const y=b.dropRange?[b.dropRange]:null,S=new Z(n,l);n.fire(S,{dataTransfer:b.dataTransfer,method:f.name,targetRanges:y,target:b.target,domEvent:b.domEvent}),S.stop.called&&b.stopPropagation()}}this.listenTo(n,"paste",s("clipboardInput"),{priority:"low"}),this.listenTo(n,"drop",s("clipboardInput"),{priority:"low"}),this.listenTo(n,"dragover",s("dragging"),{priority:"low"})}onDomEvent(e){const n="clipboardData"in e?e.clipboardData:e.dataTransfer,s=e.type=="drop"||e.type=="paste",l={dataTransfer:new $p(n,{cacheFiles:s})};if(e.type=="drop"||e.type=="dragover"){const f=ni(e);l.dropRange=f&&this.view.domConverter.domRangeToView(f)}this.fire(e.type,e,l)}}const v6=["figcaption","li"],y6=["ol","ul"];function A6(u,e){if(e.is("$text")||e.is("$textProxy"))return e.data;if(e.is("element","img")&&e.hasAttribute("alt"))return e.getAttribute("alt");if(e.is("element","br"))return`
`;let n="",s=null;for(const l of e.getChildren())n+=_F(l,s)+A6(u,l),s=l;if(e.is("rawElement")){const l=document.createElement("div");e.render(l,u),n+=_6(l)}return n}function _6(u){let e="";if(u.nodeType===Node.TEXT_NODE)return u.textContent;if(u.tagName==="BR")return`
`;for(const n of u.childNodes)e+=_6(n);return e}function _F(u,e){return e?u.is("element","li")&&!u.isEmpty&&u.getChild(0).is("containerElement")||y6.includes(u.name)&&y6.includes(e.name)?`

`:u.is("containerElement")||e.is("containerElement")?v6.includes(u.name)||v6.includes(e.name)?`
`:u.is("element")&&u.getCustomProperty("dataPipeline:transparentRendering")||e.is("element")&&e.getCustomProperty("dataPipeline:transparentRendering")?"":`

`:"":""}const CF=function(u,e){return u&&Xm(u,e,Rl)},xF=function(u,e,n,s){var l=n.length,f=l;if(u==null)return!f;for(u=Object(u);l--;){var b=n[l];if(b[2]?b[1]!==u[b[0]]:!(b[0]in u))return!1}for(;++l<f;){var y=(b=n[l])[0],S=u[y],T=b[1];if(b[2]){if(S===void 0&&!(y in u))return!1}else{var B=new ea,P;if(!(P===void 0?bg(T,S,3,s,B):P))return!1}}return!0},C6=function(u){return u==u&&!Ge(u)},SF=function(u){for(var e=Rl(u),n=e.length;n--;){var s=e[n],l=u[s];e[n]=[s,l,C6(l)]}return e},x6=function(u,e){return function(n){return n!=null&&n[u]===e&&(e!==void 0||u in Object(n))}},EF=function(u){var e=SF(u);return e.length==1&&e[0][2]?x6(e[0][0],e[0][1]):function(n){return n===u||xF(n,u,e)}},DF=function(u,e){return u!=null&&e in Object(u)},IF=function(u,e,n){for(var s=-1,l=(e=vh(e,u)).length,f=!1;++s<l;){var b=Tu(e[s]);if(!(f=u!=null&&n(u,b)))break;u=u[b]}return f||++s!=l?f:!!(l=u==null?0:u.length)&&Rs(l)&&wo(b,l)&&(wr(u)||Ps(u))},TF=function(u,e){return u!=null&&IF(u,e,DF)},MF=function(u,e){return Sd(u)&&C6(e)?x6(Tu(u),e):function(n){var s=zc(n,u);return s===void 0&&s===e?TF(n,u):bg(e,s,3)}},NF=function(u){return function(e){return e==null?void 0:e[u]}},OF=function(u){return function(e){return Ed(e,u)}},BF=function(u){return Sd(u)?NF(Tu(u)):OF(u)},jF=function(u){return typeof u=="function"?u:u==null?ns:typeof u=="object"?wr(u)?MF(u[0],u[1]):EF(u):BF(u)},LF=function(u,e){var n={};return e=jF(e),CF(u,function(s,l,f){dl(n,l,e(s,l,f))}),n};class yw extends Vt{constructor(){super(...arguments),this._markersToCopy=new Map}static get pluginName(){return"ClipboardMarkersUtils"}static get isOfficialPlugin(){return!0}_registerMarkerToCopy(e,n){this._markersToCopy.set(e,n)}_copySelectedFragmentWithMarkers(e,n,s=l=>l.model.getSelectedContent(l.model.document.selection)){return this.editor.model.change(l=>{const f=l.model.document.selection;l.setSelection(n);const b=this._insertFakeMarkersIntoSelection(l,l.model.document.selection,e),y=s(l),S=this._removeFakeMarkersInsideElement(l,y);for(const[T,B]of Object.entries(b)){S[T]||(S[T]=l.createRangeIn(y));for(const P of B)l.remove(P)}y.markers.clear();for(const[T,B]of Object.entries(S))y.markers.set(T,B);return l.setSelection(f),y})}_pasteMarkersIntoTransformedElement(e,n){const s=this._getPasteMarkersFromRangeMap(e);return this.editor.model.change(l=>{const f=this._insertFakeMarkersElements(l,s),b=n(l),y=this._removeFakeMarkersInsideElement(l,b);for(const S of Object.values(f).flat())l.remove(S);for(const[S,T]of Object.entries(y))l.model.markers.has(S)||l.addMarker(S,{usingOperation:!0,affectsData:!0,range:T});return b})}_pasteFragmentWithMarkers(e){const n=this._getPasteMarkersFromRangeMap(e.markers);e.markers.clear();for(const s of n)e.markers.set(s.name,s.range);return this.editor.model.insertContent(e)}_forceMarkersCopy(e,n,s={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const l=this._markersToCopy.get(e);this._markersToCopy.set(e,s),n(),l?this._markersToCopy.set(e,l):this._markersToCopy.delete(e)}_isMarkerCopyable(e,n){const s=this._getMarkerClipboardConfig(e);if(!s)return!1;if(!n)return!0;const{allowedActions:l}=s;return l==="all"||l.includes(n)}_hasMarkerConfiguration(e){return!!this._getMarkerClipboardConfig(e)}_getMarkerClipboardConfig(e){const[n]=e.split(":");return this._markersToCopy.get(n)||null}_insertFakeMarkersIntoSelection(e,n,s){const l=this._getCopyableMarkersFromSelection(e,n,s);return this._insertFakeMarkersElements(e,l)}_getCopyableMarkersFromSelection(e,n,s){const l=Array.from(n.getRanges()),f=new Set(l.flatMap(b=>Array.from(e.model.markers.getMarkersIntersectingRange(b))));return Array.from(f).filter(b=>{if(!this._isMarkerCopyable(b.name,s))return!1;const{copyPartiallySelected:y}=this._getMarkerClipboardConfig(b.name);if(!y){const S=b.getRange();return l.some(T=>T.containsRange(S,!0))}return!0}).map(b=>({name:s==="dragstart"?this._getUniqueMarkerName(b.name):b.name,range:b.getRange()}))}_getPasteMarkersFromRangeMap(e,n=null){const{model:s}=this.editor;return(e instanceof Map?Array.from(e.entries()):Object.entries(e)).flatMap(([l,f])=>{if(!this._hasMarkerConfiguration(l))return[{name:l,range:f}];if(this._isMarkerCopyable(l,n)){const b=this._getMarkerClipboardConfig(l),y=s.markers.has(l)&&s.markers.get(l).getRange().root.rootName==="$graveyard";return(b.duplicateOnPaste||y)&&(l=this._getUniqueMarkerName(l)),[{name:l,range:f}]}return[]})}_insertFakeMarkersElements(e,n){const s={},l=n.flatMap(f=>{const{start:b,end:y}=f.range;return[{position:b,marker:f,type:"start"},{position:y,marker:f,type:"end"}]}).sort(({position:f},{position:b})=>f.isBefore(b)?1:-1);for(const{position:f,marker:b,type:y}of l){const S=e.createElement("$marker",{"data-name":b.name,"data-type":y});s[b.name]||(s[b.name]=[]),s[b.name].push(S),e.insert(S,f)}return s}_removeFakeMarkersInsideElement(e,n){const s=this._getAllFakeMarkersFromElement(e,n).reduce((l,f)=>{const b=f.markerElement&&e.createPositionBefore(f.markerElement);let y=l[f.name],S=!1;return y&&y.start&&y.end&&(this._getMarkerClipboardConfig(f.name).duplicateOnPaste?l[this._getUniqueMarkerName(f.name)]=l[f.name]:S=!0,y=null),S||(l[f.name]={...y,[f.type]:b}),f.markerElement&&e.remove(f.markerElement),l},{});return LF(s,l=>new ut(l.start||e.createPositionFromPath(n,[0]),l.end||e.createPositionAt(n,"end")))}_getAllFakeMarkersFromElement(e,n){const s=Array.from(e.createRangeIn(n)).flatMap(({item:b})=>{if(!b.is("element","$marker"))return[];const y=b.getAttribute("data-name"),S=b.getAttribute("data-type");return[{markerElement:b,name:y,type:S}]}),l=[],f=[];for(const b of s)b.type==="end"&&(s.some(y=>y.name===b.name&&y.type==="start")||l.push({markerElement:null,name:b.name,type:"start"})),b.type==="start"&&(s.some(y=>y.name===b.name&&y.type==="end")||f.unshift({markerElement:null,name:b.name,type:"end"}));return[...l,...s,...f]}_getUniqueMarkerName(e){const n=e.split(":"),s=se().substring(1,6);return n.length===3?`${n.slice(0,2).join(":")}:${s}`:`${n.join(":")}:${s}`}}class $u extends Vt{static get pluginName(){return"ClipboardPipeline"}static get isOfficialPlugin(){return!0}static get requires(){return[yw]}init(){this.editor.editing.view.addObserver(vw),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(e,n,s){const l=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:s==="cut"},()=>{const f=l._copySelectedFragmentWithMarkers(s,n);this.fire("outputTransformation",{dataTransfer:e,content:f,method:s})})}_setupPasteDrop(){const e=this.editor,n=e.model,s=e.editing.view,l=s.document,f=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(l,"clipboardInput",(b,y)=>{y.method!="paste"||e.model.canEditAt(e.model.document.selection)||b.stop()},{priority:"highest"}),this.listenTo(l,"clipboardInput",(b,y)=>{const S=y.dataTransfer;let T;if(y.content)T=y.content;else{let ee="";S.getData("text/html")?ee=function(ne){return ne.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(le,Ce)=>Ce.length==1?" ":Ce).replace(/<!--[\s\S]*?-->/g,"")}(S.getData("text/html")):S.getData("text/plain")&&(((B=(B=S.getData("text/plain")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||B.includes("<br>"))&&(B=`<p>${B}</p>`),ee=B),T=this.editor.data.htmlProcessor.toView(ee)}var B;const P=new Z(this,"inputTransformation"),W=S.getData("application/ckeditor5-editor-id")||null;this.fire(P,{content:T,dataTransfer:S,sourceEditorId:W,targetRanges:y.targetRanges,method:y.method}),P.stop.called&&b.stop(),s.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(b,y)=>{if(y.content.isEmpty)return;const S=this.editor.data.toModel(y.content,"$clipboardHolder");S.childCount!=0&&(b.stop(),n.change(()=>{this.fire("contentInsertion",{content:S,method:y.method,sourceEditorId:y.sourceEditorId,dataTransfer:y.dataTransfer,targetRanges:y.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(b,y)=>{y.resultRange=f._pasteFragmentWithMarkers(y.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,n=e.model.document,s=e.editing.view.document,l=(f,b)=>{const y=b.dataTransfer;b.preventDefault(),this._fireOutputTransformationEvent(y,n.selection,f.name)};this.listenTo(s,"copy",l,{priority:"low"}),this.listenTo(s,"cut",(f,b)=>{e.model.canEditAt(e.model.document.selection)?l(f,b):b.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(f,b)=>{const y=e.data.toView(b.content,{isClipboardPipeline:!0});s.fire("clipboardOutput",{dataTransfer:b.dataTransfer,content:y,method:b.method})},{priority:"low"}),this.listenTo(s,"clipboardOutput",(f,b)=>{b.content.isEmpty||(b.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(b.content)),b.dataTransfer.setData("text/plain",A6(e.data.htmlProcessor.domConverter,b.content)),b.dataTransfer.setData("application/ckeditor5-editor-id",this.editor.id)),b.method=="cut"&&e.model.deleteContent(n.selection)},{priority:"low"})}}class S6{constructor(e,n=20){this._batch=null,this.model=e,this._size=0,this.limit=n,this._isLocked=!1,this._changeCallback=(s,l)=>{l.isLocal&&l.isUndoable&&l!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){this.isLocked&&!e||(this._batch=null,this._size=0)}}class PF extends pn{constructor(e,n){super(e),this._buffer=new S6(e.model,n),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const n=this.editor.model,s=n.document,l=e.text||"",f=l.length;let b=s.selection;if(e.selection?b=e.selection:e.range&&(b=n.createSelection(e.range)),!n.canEditAt(b))return;const y=e.resultRange;n.enqueueChange(this._buffer.batch,S=>{this._buffer.lock();const T=Array.from(s.selection.getAttributes());n.deleteContent(b),l&&n.insertContent(S.createText(l,T),b),y?S.setSelection(y):b.is("documentSelection")||S.setSelection(b),this._buffer.unlock(),this._buffer.input(f)})}}const E6=["insertText","insertReplacementText"],RF=[...E6,"insertCompositionText"];class FF extends Wa{constructor(e){super(e),this.focusObserver=e.getObserver(Rd);const n=w.isAndroid?RF:E6,s=e.document;s.on("beforeinput",(l,f)=>{if(!this.isEnabled)return;const{data:b,targetRanges:y,inputType:S,domEvent:T}=f;if(!n.includes(S))return;this.focusObserver.flush();const B=new Z(s,"insertText");s.fire(B,new Ff(e,T,{text:b,selection:e.createSelection(y)})),B.stop.called&&l.stop()}),w.isAndroid||s.on("compositionend",(l,{data:f,domEvent:b})=>{this.isEnabled&&f&&s.fire("insertText",new Ff(e,b,{text:f}))},{priority:"lowest"})}observe(){}stopObserving(){}}class D6 extends Vt{static get pluginName(){return"Input"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,n=e.model,s=e.editing.view,l=e.editing.mapper,f=n.document.selection;this._compositionQueue=new zF(e),s.addObserver(FF);const b=new PF(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",b),e.commands.add("input",b),this.listenTo(s.document,"insertText",(y,S)=>{s.document.isComposing||S.preventDefault(),w.isAndroid&&s.document.isComposing&&this._compositionQueue.flush("next beforeinput");const{text:T,selection:B}=S;let P;P=B?Array.from(B.getRanges()).map(ne=>l.toModelRange(ne)):Array.from(f.getRanges());let W=T;if(w.isAndroid){const ne=Array.from(P[0].getItems()).reduce((le,Ce)=>le+(Ce.is("$textProxy")?Ce.data:""),"");if(ne&&(ne.length<=W.length?W.startsWith(ne)&&(W=W.substring(ne.length),P[0].start=P[0].start.getShiftedBy(ne.length)):ne.startsWith(W)&&(P[0].start=P[0].start.getShiftedBy(W.length),W="")),W.length==0&&P[0].isCollapsed)return}const ee={text:W,selection:n.createSelection(P)};w.isAndroid&&s.document.isComposing?this._compositionQueue.push(ee):(e.execute("insertText",ee),s.scrollToTheSelection())}),w.isAndroid?this.listenTo(s.document,"keydown",(y,S)=>{!f.isCollapsed&&S.keyCode==229&&s.document.isComposing&&I6(n,b)}):this.listenTo(s.document,"compositionstart",()=>{f.isCollapsed||I6(n,b)}),w.isAndroid?(this.listenTo(s.document,"mutations",(y,{mutations:S})=>{if(s.document.isComposing)for(const{node:T}of S){const B=UF(T,l),P=l.toModelElement(B);if(this._compositionQueue.isComposedElement(P))return void this._compositionQueue.flush("mutations")}}),this.listenTo(s.document,"compositionend",()=>{this._compositionQueue.flush("composition end")}),this.listenTo(s.document,"compositionend",()=>{const y=[];for(const S of this._compositionQueue.flushComposedElements()){const T=l.toViewElement(S);T&&y.push({type:"children",node:T})}y.length&&s.document.fire("mutations",{mutations:y})},{priority:"lowest"})):this.listenTo(s.document,"compositionend",()=>{s.document.fire("mutations",{mutations:[]})},{priority:"lowest"})}destroy(){super.destroy(),this._compositionQueue.destroy()}}class zF{constructor(e){this.flushDebounced=zf(()=>this.flush("timeout"),50),this._queue=[],this._compositionElements=new Set,this.editor=e}destroy(){for(this.flushDebounced.cancel(),this._compositionElements.clear();this._queue.length;)this.shift()}get length(){return this._queue.length}push(e){const n={text:e.text};if(e.selection){n.selectionRanges=[];for(const s of e.selection.getRanges())n.selectionRanges.push(sa.fromRange(s)),this._compositionElements.add(s.start.parent)}this._queue.push(n),this.flushDebounced()}shift(){const e=this._queue.shift(),n={text:e.text};if(e.selectionRanges){const s=e.selectionRanges.map(l=>function(f){const b=f.toRange();return f.detach(),b.root.rootName=="$graveyard"?null:b}(l)).filter(l=>!!l);s.length&&(n.selection=this.editor.model.createSelection(s))}return n}flush(e){const n=this.editor,s=n.model,l=n.editing.view;if(this.flushDebounced.cancel(),!this._queue.length)return;const f=n.commands.get("insertText").buffer;s.enqueueChange(f.batch,()=>{for(f.lock();this._queue.length;){const b=this.shift();n.execute("insertText",b)}f.unlock()}),l.scrollToTheSelection()}isComposedElement(e){return this._compositionElements.has(e)}flushComposedElements(){const e=Array.from(this._compositionElements);return this._compositionElements.clear(),e}}function I6(u,e){if(!e.isEnabled)return;const n=e.buffer;n.lock(),u.enqueueChange(n.batch,()=>{u.deleteContent(u.document.selection)}),n.unlock()}function UF(u,e){let n=u.is("$text")?u.parent:u;for(;!e.toModelElement(n);)n=n.parent;return n}class T6 extends pn{constructor(e,n){super(e),this.direction=n,this._buffer=new S6(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const n=this.editor.model,s=n.document;n.enqueueChange(this._buffer.batch,l=>{this._buffer.lock();const f=l.createSelection(e.selection||s.selection);if(!n.canEditAt(f))return;const b=e.sequence||1,y=f.isCollapsed;if(f.isCollapsed&&n.modifySelection(f,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(b))return void this._replaceEntireContentWithParagraph(l);if(this._shouldReplaceFirstBlockWithParagraph(f,b))return void this.editor.execute("paragraph",{selection:f});if(f.isCollapsed)return;let S=0;f.getFirstRange().getMinimalFlatRanges().forEach(T=>{S+=ot(T.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),n.deleteContent(f,{doNotResetEntireContent:y,direction:this.direction}),this._buffer.input(S),l.setSelection(f),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const n=this.editor.model,s=n.document.selection,l=n.schema.getLimitElement(s);if(!(s.isCollapsed&&s.containsEntireContent(l))||!n.schema.checkChild(l,"paragraph"))return!1;const f=l.getChild(0);return!f||!f.is("element","paragraph")}_replaceEntireContentWithParagraph(e){const n=this.editor.model,s=n.document.selection,l=n.schema.getLimitElement(s),f=e.createElement("paragraph");e.remove(e.createRangeIn(l)),e.insert(f,l),e.setSelection(f,0)}_shouldReplaceFirstBlockWithParagraph(e,n){const s=this.editor.model;if(n>1||this.direction!="backward"||!e.isCollapsed)return!1;const l=e.getFirstPosition(),f=s.schema.getLimitElement(l),b=f.getChild(0);return l.parent==b&&!!e.containsEntireContent(b)&&!!s.schema.checkChild(f,"paragraph")&&b.name!="paragraph"}}const M6="word",gm="selection",w0="backward",Aw="forward",N6={deleteContent:{unit:gm,direction:w0},deleteContentBackward:{unit:"codePoint",direction:w0},deleteWordBackward:{unit:M6,direction:w0},deleteHardLineBackward:{unit:gm,direction:w0},deleteSoftLineBackward:{unit:gm,direction:w0},deleteContentForward:{unit:"character",direction:Aw},deleteWordForward:{unit:M6,direction:Aw},deleteHardLineForward:{unit:gm,direction:Aw},deleteSoftLineForward:{unit:gm,direction:Aw}};class qF extends Wa{constructor(e){super(e);const n=e.document;let s=0;n.on("keydown",()=>{s++}),n.on("keyup",()=>{s=0}),n.on("beforeinput",(l,f)=>{if(!this.isEnabled)return;const{targetRanges:b,domEvent:y,inputType:S}=f,T=N6[S];if(!T)return;const B={direction:T.direction,unit:T.unit,sequence:s};B.unit==gm&&(B.selectionToRemove=e.createSelection(b[0])),S==="deleteContentBackward"&&(w.isAndroid&&(B.sequence=1),function(W){if(W.length!=1||W[0].isCollapsed)return!1;const ee=W[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let ne=0;for(const{nextPosition:le,item:Ce}of ee){if(le.parent.is("$text")){const Me=le.parent.data,qe=le.offset;if(xe(Me,qe)||De(Me,qe)||We(Me,qe))continue;ne++}else(Ce.is("containerElement")||Ce.is("emptyElement"))&&ne++;if(ne>1)return!0}return!1}(b)&&(B.unit=gm,B.selectionToRemove=e.createSelection(b)));const P=new ya(n,"delete",b[0]);n.fire(P,new Ff(e,y,B)),P.stop.called&&l.stop()}),w.isBlink&&function(l){const f=l.view,b=f.document;let y=null,S=!1;function T(P){return P==ln.backspace||P==ln.delete}function B(P){return P==ln.backspace?w0:Aw}b.on("keydown",(P,{keyCode:W})=>{y=W,S=!1}),b.on("keyup",(P,{keyCode:W,domEvent:ee})=>{const ne=b.selection,le=l.isEnabled&&W==y&&T(W)&&!ne.isCollapsed&&!S;if(y=null,le){const Ce=ne.getFirstRange(),Me=new ya(b,"delete",Ce),qe={unit:gm,direction:B(W),selectionToRemove:ne};b.fire(Me,new Ff(f,ee,qe))}}),b.on("beforeinput",(P,{inputType:W})=>{const ee=N6[W];T(y)&&ee&&ee.direction==B(y)&&(S=!0)},{priority:"high"}),b.on("beforeinput",(P,{inputType:W,data:ee})=>{y==ln.delete&&W=="insertText"&&ee==""&&P.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class Yf extends Vt{static get pluginName(){return"Delete"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,n=e.editing.view,s=n.document,l=e.model.document;n.addObserver(qF),this._undoOnBackspace=!1;const f=new T6(e,"forward");e.commands.add("deleteForward",f),e.commands.add("forwardDelete",f),e.commands.add("delete",new T6(e,"backward")),this.listenTo(s,"delete",(b,y)=>{s.isComposing||y.preventDefault();const{direction:S,sequence:T,selectionToRemove:B,unit:P}=y,W=S==="forward"?"deleteForward":"delete",ee={sequence:T};if(P=="selection"){const ne=Array.from(B.getRanges()).map(le=>e.editing.mapper.toModelRange(le));ee.selection=e.model.createSelection(ne)}else ee.unit=P;e.execute(W,ee),n.scrollToTheSelection()},{priority:"low"}),this.listenTo(s,"keydown",(b,y)=>{if(s.isComposing||y.keyCode!=ln.backspace||!l.selection.isCollapsed)return;const S=e.model.schema.getLimitElement(l.selection);e.model.createPositionAt(S,0).isTouching(l.selection.getFirstPosition())&&y.preventDefault()}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(s,"delete",(b,y)=>{this._undoOnBackspace&&y.direction=="backward"&&y.sequence==1&&y.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),y.preventDefault(),b.stop())},{context:"$capture"}),this.listenTo(l,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class VF extends Vt{static get requires(){return[D6,Yf]}static get pluginName(){return"Typing"}static get isOfficialPlugin(){return!0}}function O6(u,e){let n=u.start;return{text:Array.from(u.getWalker({ignoreElementEnd:!1})).reduce((s,{item:l})=>l.is("$text")||l.is("$textProxy")?s+l.data:(n=e.createPositionAfter(l),""),""),range:e.createRange(n,u.end)}}class B6 extends Ae(){constructor(e,n){super(),this.model=e,this.testCallback=n,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const e=this.model.document;this.listenTo(e.selection,"change:range",(n,{directChange:s})=>{s&&(e.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(e,"change:data",(n,s)=>{!s.isUndo&&s.isLocal&&this._evaluateTextBeforeSelection("data",{batch:s})})}_evaluateTextBeforeSelection(e,n={}){const s=this.model,l=s.document.selection,f=s.createRange(s.createPositionAt(l.focus.parent,0),l.focus),{text:b,range:y}=O6(f,s),S=this.testCallback(b);if(!S&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!S,S){const T=Object.assign(n,{text:b,range:y});typeof S=="object"&&Object.assign(T,S),this.fire(`matched:${e}`,T)}}}class j6 extends Vt{constructor(e){super(e),this._isNextGravityRestorationSkipped=!1,this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,n=e.model,s=e.editing.view,l=e.locale,f=n.document.selection;this.listenTo(s.document,"arrowKey",(b,y)=>{if(!f.isCollapsed||y.shiftKey||y.altKey||y.ctrlKey)return;const S=y.keyCode==ln.arrowright,T=y.keyCode==ln.arrowleft;if(!S&&!T)return;const B=l.contentLanguageDirection;let P=!1;P=B==="ltr"&&S||B==="rtl"&&T?this._handleForwardMovement(y):this._handleBackwardMovement(y),P===!0&&b.stop()},{context:"$text",priority:"highest"}),this.listenTo(f,"change:range",(b,y)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!y.directChange&&Wu(f.getFirstPosition(),this.attributes)||this._restoreGravity())}),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const n=this.attributes,s=this.editor.model,l=s.document.selection,f=l.getFirstPosition();return!this._isGravityOverridden&&(!f.isAtStart||!Kf(l,n))&&!!Wu(f,n)&&(Cw(e),Kf(l,n)&&Wu(f,n,!0)?_w(s,n):this._overrideGravity(),!0)}_handleBackwardMovement(e){const n=this.attributes,s=this.editor.model,l=s.document.selection,f=l.getFirstPosition();return this._isGravityOverridden?(Cw(e),this._restoreGravity(),Wu(f,n,!0)?_w(s,n):k2(s,n,f),!0):f.isAtStart?!!Kf(l,n)&&(Cw(e),k2(s,n,f),!0):!Kf(l,n)&&Wu(f,n,!0)?(Cw(e),k2(s,n,f),!0):!!L6(f,n)&&(f.isAtEnd&&!Kf(l,n)&&Wu(f,n)?(Cw(e),k2(s,n,f),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}_enableClickingAfterNode(){const e=this.editor,n=e.model,s=n.document.selection,l=e.editing.view.document;e.editing.view.addObserver(Sg),e.editing.view.addObserver(I1);let f=!1,b=!1;this.listenTo(l,"touchstart",()=>{b=!1,f=!0}),this.listenTo(l,"mousedown",()=>{b=!0}),this.listenTo(l,"selectionChange",()=>{const y=this.attributes;if(!b&&!f||(b=!1,f=!1,!s.isCollapsed)||!Kf(s,y))return;const S=s.getFirstPosition();Wu(S,y)&&(S.isAtStart||Wu(S,y,!0)?_w(n,y):this._isGravityOverridden||this._overrideGravity())})}_enableInsertContentSelectionAttributesFixer(){const e=this.editor.model,n=e.document.selection,s=this.attributes;this.listenTo(e,"insertContent",()=>{const l=n.getFirstPosition();Kf(n,s)&&Wu(l,s)&&_w(e,s)},{priority:"low"})}_handleDeleteContentAfterNode(){const e=this.editor,n=e.model,s=n.document.selection,l=e.editing.view;let f=!1,b=!1;this.listenTo(l.document,"delete",(y,S)=>{f=S.direction==="backward"},{priority:"high"}),this.listenTo(n,"deleteContent",()=>{if(!f)return;const y=s.getFirstPosition();b=Kf(s,this.attributes)&&!L6(y,this.attributes)},{priority:"high"}),this.listenTo(n,"deleteContent",()=>{f&&(f=!1,b||e.model.enqueueChange(()=>{const y=s.getFirstPosition();Kf(s,this.attributes)&&Wu(y,this.attributes)&&(y.isAtStart||Wu(y,this.attributes,!0)?_w(n,this.attributes):this._isGravityOverridden||this._overrideGravity())}))},{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function Kf(u,e){for(const n of e)if(u.hasAttribute(n))return!0;return!1}function k2(u,e,n){const s=n.nodeBefore;u.change(l=>{if(s){const f=[],b=u.schema.isObject(s)&&u.schema.isInline(s);for(const[y,S]of s.getAttributes())!u.schema.checkAttribute("$text",y)||b&&u.schema.getAttributeProperties(y).copyFromObject===!1||f.push([y,S]);l.setSelectionAttribute(f)}else l.removeSelectionAttribute(e)})}function _w(u,e){u.change(n=>{n.removeSelectionAttribute(e)})}function Cw(u){u.preventDefault()}function L6(u,e){return Wu(u.getShiftedBy(-1),e)}function Wu(u,e,n=!1){const{nodeBefore:s,nodeAfter:l}=u;for(const f of e){const b=s?s.getAttribute(f):void 0,y=l?l.getAttribute(f):void 0;if((!n||b!==void 0&&y!==void 0)&&y!==b)return!0}return!1}const P6={copyright:{from:"(c)",to:""},registeredTrademark:{from:"(r)",to:""},trademark:{from:"(tm)",to:""},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"",null]},lessThanOrEqual:{from:"<=",to:""},greaterThanOrEqual:{from:">=",to:""},notEqual:{from:"!=",to:""},arrowLeft:{from:"<-",to:""},arrowRight:{from:"->",to:""},horizontalEllipsis:{from:"...",to:""},enDash:{from:/(^| )(--)( )$/,to:[null,"",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"",null]},quotesPrimary:{from:v0('"'),to:[null,"",null,""]},quotesSecondary:{from:v0("'"),to:[null,"",null,""]},quotesPrimaryEnGb:{from:v0("'"),to:[null,"",null,""]},quotesSecondaryEnGb:{from:v0('"'),to:[null,"",null,""]},quotesPrimaryPl:{from:v0('"'),to:[null,"",null,""]},quotesSecondaryPl:{from:v0("'"),to:[null,"",null,""]}},R6={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},HF=["symbols","mathematical","typography","quotes"];class $F extends Vt{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define("typing",{transformations:{include:HF}})}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const e=this.editor,n=e.model,s=e.plugins.get("Delete"),l=function(b){const y=b.extra||[],S=b.remove||[],T=B=>!S.includes(B);return function(B){const P=new Set;for(const W of B)if(typeof W=="string"&&R6[W])for(const ee of R6[W])P.add(ee);else P.add(W);return Array.from(P)}(b.include.concat(y).filter(T)).filter(T).map(B=>typeof B=="string"&&P6[B]?P6[B]:B).filter(B=>typeof B=="object").map(B=>({from:WF(B.from),to:GF(B.to)}))}(e.config.get("typing.transformations")),f=new B6(e.model,b=>{for(const y of l)if(y.from.test(b))return{normalizedTransformation:y}});f.on("matched:data",(b,y)=>{if(!y.batch.isTyping)return;const{from:S,to:T}=y.normalizedTransformation,B=S.exec(y.text),P=T(B.slice(1)),W=y.range;let ee=B.index;n.enqueueChange(ne=>{for(let le=1;le<B.length;le++){const Ce=B[le],Me=P[le-1];if(Me==null){ee+=Ce.length;continue}const qe=W.start.getShiftedBy(ee),tt=n.createRange(qe,qe.getShiftedBy(Ce.length)),Et=YF(qe);n.insertContent(ne.createText(Me,Et),tt),ee+=Me.length}n.enqueueChange(()=>{s.requestUndoOnBackspace()})})}),f.bind("isEnabled").to(this)}}function WF(u){return typeof u=="string"?new RegExp(`(${m6(u)})$`):u}function GF(u){return typeof u=="string"?()=>[u]:u instanceof Array?()=>u:u}function YF(u){return(u.textNode?u.textNode:u.nodeAfter).getAttributes()}function v0(u){return new RegExp(`(^|\\s)(${u})([^${u}]*)(${u})$`)}function w2(u,e,n,s){return s.createRange(F6(u,e,n,!0,s),F6(u,e,n,!1,s))}function F6(u,e,n,s,l){let f=u.textNode||(s?u.nodeBefore:u.nodeAfter),b=null;for(;f&&f.getAttribute(e)==n;)b=f,f=s?f.previousSibling:f.nextSibling;return b?l.createPositionAt(b,s?"before":"after"):u}function*z6(u,e){for(const n of e)n&&u.getAttributeProperties(n[0]).copyOnEnter&&(yield n)}class KF extends pn{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const n=this.editor.model,s=n.document.selection,l=n.schema,f=s.isCollapsed,b=s.getFirstRange(),y=b.start.parent,S=b.end.parent;if(l.isLimit(y)||l.isLimit(S))return f||y!=S||n.deleteContent(s),!1;if(f){const T=z6(e.model.schema,s.getAttributes());return U6(e,b.start),e.setSelectionAttribute(T),!0}{const T=!(b.start.isAtStart&&b.end.isAtEnd),B=y==S;if(n.deleteContent(s,{leaveUnmerged:T}),T){if(B)return U6(e,s.focus),!0;e.setSelection(S,0)}}return!1}}function U6(u,e){u.split(e),u.setSelection(e.parent.nextSibling,0)}const QF={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class q6 extends Wa{constructor(e){super(e);const n=this.document;let s=!1;n.on("keydown",(l,f)=>{s=f.shiftKey}),n.on("beforeinput",(l,f)=>{if(!this.isEnabled)return;let b=f.inputType;w.isSafari&&s&&b=="insertParagraph"&&(b="insertLineBreak");const y=f.domEvent,S=QF[b];if(!S)return;const T=new ya(n,"enter",f.targetRanges[0]);n.fire(T,new Ff(e,y,{isSoft:S.isSoft})),T.stop.called&&l.stop()})}observe(){}stopObserving(){}}class v2 extends Vt{static get pluginName(){return"Enter"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,n=e.editing.view,s=n.document,l=this.editor.t;n.addObserver(q6),e.commands.add("enter",new KF(e)),this.listenTo(s,"enter",(f,b)=>{s.isComposing||b.preventDefault(),b.isSoft||(e.execute("enter"),n.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:l("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class ZF extends pn{execute(){const e=this.editor.model,n=e.document;e.change(s=>{(function(l,f,b){const y=b.isCollapsed,S=b.getFirstRange(),T=S.start.parent,B=S.end.parent,P=T==B;if(y){const W=z6(l.schema,b.getAttributes());V6(l,f,S.end),f.removeSelectionAttribute(b.getAttributeKeys()),f.setSelectionAttribute(W)}else{const W=!(S.start.isAtStart&&S.end.isAtEnd);l.deleteContent(b,{leaveUnmerged:W}),P?V6(l,f,b.focus):W&&f.setSelection(B,0)}})(e,s,n.selection),this.fire("afterExecute",{writer:s})})}refresh(){const e=this.editor.model,n=e.document;this.isEnabled=function(s,l){if(l.rangeCount>1)return!1;const f=l.anchor;if(!f||!s.checkChild(f,"softBreak"))return!1;const b=l.getFirstRange(),y=b.start.parent,S=b.end.parent;return!((BS(y,s)||BS(S,s))&&y!==S)}(e.schema,n.selection)}}function V6(u,e,n){const s=e.createElement("softBreak");u.insertContent(s,n),e.setSelection(s,"after")}function BS(u,e){return!u.is("rootElement")&&(e.isLimit(u)||BS(u.parent,e))}class JF extends Vt{static get pluginName(){return"ShiftEnter"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,n=e.model.schema,s=e.conversion,l=e.editing.view,f=l.document,b=this.editor.t;n.register("softBreak",{allowWhere:"$text",isInline:!0}),s.for("upcast").elementToElement({model:"softBreak",view:"br"}),s.for("downcast").elementToElement({model:"softBreak",view:(y,{writer:S})=>S.createEmptyElement("br")}),l.addObserver(q6),e.commands.add("shiftEnter",new ZF(e)),this.listenTo(f,"enter",(y,S)=>{f.isComposing||S.preventDefault(),S.isSoft&&(e.execute("shiftEnter"),l.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:b("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}class XF extends ke(){constructor(){super(...arguments),this._stack=[]}add(e,n){const s=this._stack,l=s[0];this._insertDescriptor(e);const f=s[0];l===f||jS(l,f)||this.fire("change:top",{oldDescriptor:l,newDescriptor:f,writer:n})}remove(e,n){const s=this._stack,l=s[0];this._removeDescriptor(e);const f=s[0];l===f||jS(l,f)||this.fire("change:top",{oldDescriptor:l,newDescriptor:f,writer:n})}_insertDescriptor(e){const n=this._stack,s=n.findIndex(f=>f.id===e.id);if(jS(e,n[s]))return;s>-1&&n.splice(s,1);let l=0;for(;n[l]&&ez(n[l],e);)l++;n.splice(l,0,e)}_removeDescriptor(e){const n=this._stack,s=n.findIndex(l=>l.id===e);s>-1&&n.splice(s,1)}}function jS(u,e){return u&&e&&u.priority==e.priority&&y2(u.classes)==y2(e.classes)}function ez(u,e){return u.priority>e.priority||!(u.priority<e.priority)&&y2(u.classes)>y2(e.classes)}function y2(u){return Array.isArray(u)?u.sort().join(","):u}const tz='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',H6="ck-widget_selected";function Vo(u){return!!u.is("element")&&!!u.getCustomProperty("widget")}function LS(u,e,n={}){if(!u.is("containerElement"))throw new U("widget-to-widget-wrong-element-type",null,{element:u});return e.setAttribute("contenteditable","false",u),e.addClass("ck-widget",u),e.setCustomProperty("widget",!0,u),u.getFillerOffset=iz,e.setCustomProperty("widgetLabel",[],u),n.label&&function(s,l){s.getCustomProperty("widgetLabel").push(l)}(u,n.label),n.hasSelectionHandle&&function(s,l){const f=l.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(b){const y=this.toDomElement(b),S=new Ya;return S.set("content",tz),S.render(),y.appendChild(S.element),y});l.insert(l.createPositionAt(s,0),f),l.addClass(["ck-widget_with-selection-handle"],s)}(u,e),$6(u,e),u}function nz(u,e,n){if(e.classes&&n.addClass(or(e.classes),u),e.attributes)for(const s in e.attributes)n.setAttribute(s,e.attributes[s],u)}function rz(u,e,n){if(e.classes&&n.removeClass(or(e.classes),u),e.attributes)for(const s in e.attributes)n.removeAttribute(s,u)}function $6(u,e,n=nz,s=rz){const l=new XF;l.on("change:top",(f,b)=>{b.oldDescriptor&&s(u,b.oldDescriptor,b.writer),b.newDescriptor&&n(u,b.newDescriptor,b.writer)}),e.setCustomProperty("addHighlight",(f,b,y)=>l.add(b,y),u),e.setCustomProperty("removeHighlight",(f,b,y)=>l.remove(b,y),u)}function W6(u,e,n={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],u),e.setAttribute("role","textbox",u),e.setAttribute("tabindex","-1",u),n.label&&e.setAttribute("aria-label",n.label,u),e.setAttribute("contenteditable",u.isReadOnly?"false":"true",u),u.on("change:isReadOnly",(s,l,f)=>{e.setAttribute("contenteditable",f?"false":"true",u)}),u.on("change:isFocused",(s,l,f)=>{f?e.addClass("ck-editor__nested-editable_focused",u):e.removeClass("ck-editor__nested-editable_focused",u)}),$6(u,e),u}function G6(u,e){const n=u.getSelectedElement();if(n){const s=bm(u);if(s)return e.createRange(e.createPositionAt(n,s))}return e.schema.findOptimalInsertionRange(u)}function iz(){return null}const Qf="widget-type-around";function Lg(u,e,n){return!!u&&Vo(u)&&!n.isInline(e)}function bm(u){return u.getAttribute(Qf)}var A2=a(8508),xw={attributes:{"data-cke":!0}};xw.setAttributes=zt(),xw.insert=Rt().bind(null,"head"),xw.domAPI=Ut(),xw.insertStyleElement=Nt(),Dt()(A2.A,xw),A2.A&&A2.A.locals&&A2.A.locals;const Y6=["before","after"],oz=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,K6="ck-widget__type-around_disabled";class sz extends Vt{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get isOfficialPlugin(){return!0}static get requires(){return[v2,Yf]}init(){const e=this.editor,n=e.editing.view;this.on("change:isEnabled",(s,l,f)=>{n.change(b=>{for(const y of n.document.roots)f?b.removeClass(K6,y):b.addClass(K6,y)}),f||e.model.change(b=>{b.removeSelectionAttribute(Qf)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,n){const s=this.editor,l=s.editing.view,f=s.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);s.execute("insertParagraph",{position:s.model.createPositionAt(e,n),attributes:f}),l.focus(),l.scrollToTheSelection()}_listenToIfEnabled(e,n,s,l){this.listenTo(e,n,(...f)=>{this.isEnabled&&s(...f)},l)}_insertParagraphAccordingToFakeCaretPosition(){const e=this.editor.model.document.selection,n=bm(e);if(!n)return!1;const s=e.getSelectedElement();return this._insertParagraph(s,n),!0}_enableTypeAroundUIInjection(){const e=this.editor,n=e.model.schema,s=e.locale.t,l={before:s("Insert paragraph before block"),after:s("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(f,b,y)=>{const S=y.mapper.toViewElement(b.item);S&&Lg(S,b.item,n)&&(function(T,B,P){const W=T.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(ee){const ne=this.toDomElement(ee);return function(le,Ce){for(const Me of Y6){const qe=new et({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${Me}`],title:Ce[Me],"aria-hidden":"true"},children:[le.ownerDocument.importNode(oz,!0)]});le.appendChild(qe.render())}}(ne,B),function(le){const Ce=new et({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});le.appendChild(Ce.render())}(ne),ne});T.insert(T.createPositionAt(P,"end"),W)}(y.writer,l,S),S.getCustomProperty("widgetLabel").push(()=>this.isEnabled?s("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,n=e.model,s=n.document.selection,l=n.schema,f=e.editing.view;function b(y){return`ck-widget_type-around_show-fake-caret_${y}`}this._listenToIfEnabled(f.document,"arrowKey",(y,S)=>{this._handleArrowKeyPress(y,S)},{context:[Vo,"$text"],priority:"high"}),this._listenToIfEnabled(s,"change:range",(y,S)=>{S.directChange&&e.model.change(T=>{T.removeSelectionAttribute(Qf)})}),this._listenToIfEnabled(n.document,"change:data",()=>{const y=s.getSelectedElement();y&&Lg(e.editing.mapper.toViewElement(y),y,l)||e.model.change(S=>{S.removeSelectionAttribute(Qf)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(y,S,T)=>{const B=T.writer;if(this._currentFakeCaretModelElement){const ne=T.mapper.toViewElement(this._currentFakeCaretModelElement);ne&&(B.removeClass(Y6.map(b),ne),this._currentFakeCaretModelElement=null)}const P=S.selection.getSelectedElement();if(!P)return;const W=T.mapper.toViewElement(P);if(!Lg(W,P,l))return;const ee=bm(S.selection);ee&&(B.addClass(b(ee),W),this._currentFakeCaretModelElement=P)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(y,S,T)=>{T||e.model.change(B=>{B.removeSelectionAttribute(Qf)})})}_handleArrowKeyPress(e,n){const s=this.editor,l=s.model,f=l.document.selection,b=l.schema,y=s.editing.view,S=function(P,W){const ee=Cp(P,W);return ee==="down"||ee==="right"}(n.keyCode,s.locale.contentLanguageDirection),T=y.document.selection.getSelectedElement();let B;Lg(T,s.editing.mapper.toModelElement(T),b)?B=this._handleArrowKeyPressOnSelectedWidget(S):f.isCollapsed?B=this._handleArrowKeyPressWhenSelectionNextToAWidget(S):n.shiftKey||(B=this._handleArrowKeyPressWhenNonCollapsedSelection(S)),B&&(n.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const n=this.editor.model,s=bm(n.document.selection);return n.change(l=>s?s!==(e?"after":"before")?(l.removeSelectionAttribute(Qf),!0):!1:(l.setSelectionAttribute(Qf,e?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const n=this.editor,s=n.model,l=s.schema,f=n.plugins.get("Widget"),b=f._getObjectElementNextToSelection(e);return!!Lg(n.editing.mapper.toViewElement(b),b,l)&&(s.change(y=>{f._setSelectionOverElement(b),y.setSelectionAttribute(Qf,e?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(e){const n=this.editor,s=n.model,l=s.schema,f=n.editing.mapper,b=s.document.selection,y=e?b.getLastPosition().nodeBefore:b.getFirstPosition().nodeAfter;return!!Lg(f.toViewElement(y),y,l)&&(s.change(S=>{S.setSelection(y,"on"),S.setSelectionAttribute(Qf,e?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,n=e.editing.view;this._listenToIfEnabled(n.document,"mousedown",(s,l)=>{const f=l.domTarget.closest(".ck-widget__type-around__button");if(!f)return;const b=function(T){return T.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(f),y=function(T,B){const P=T.closest(".ck-widget");return B.mapDomToView(P)}(f,n.domConverter),S=e.editing.mapper.toModelElement(y);this._insertParagraph(S,b),l.preventDefault(),s.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,n=e.model.document.selection,s=e.editing.view;this._listenToIfEnabled(s.document,"enter",(l,f)=>{if(l.eventPhase!="atTarget")return;const b=n.getSelectedElement(),y=e.editing.mapper.toViewElement(b),S=e.model.schema;let T;this._insertParagraphAccordingToFakeCaretPosition()?T=!0:Lg(y,b,S)&&(this._insertParagraph(b,f.isSoft?"before":"after"),T=!0),T&&(f.preventDefault(),l.stop())},{context:Vo})}_enableInsertingParagraphsOnTypingKeystroke(){const e=this.editor.editing.view.document;this._listenToIfEnabled(e,"insertText",(n,s)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(s.selection=e.selection)},{priority:"high"}),w.isAndroid?this._listenToIfEnabled(e,"keydown",(n,s)=>{s.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(e,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,n=e.editing.view,s=e.model,l=s.schema;this._listenToIfEnabled(n.document,"delete",(f,b)=>{if(f.eventPhase!="atTarget")return;const y=bm(s.document.selection);if(!y)return;const S=b.direction,T=s.document.selection.getSelectedElement(),B=S=="forward";if(y==="before"===B)e.execute("delete",{selection:s.createSelection(T,"on")});else{const P=l.getNearestSelectionRange(s.createPositionAt(T,y),S);if(P)if(P.isCollapsed){const W=s.createSelection(P.start);if(s.modifySelection(W,{direction:S}),W.focus.isEqual(P.start)){const ee=function(ne,le){let Ce=le;for(const Me of le.getAncestors({parentFirst:!0})){if(Me.childCount>1||ne.isLimit(Me))break;Ce=Me}return Ce}(l,P.start.parent);s.deleteContent(s.createSelection(ee,"on"),{doNotAutoparagraph:!0})}else s.change(ee=>{ee.setSelection(P),e.execute(B?"deleteForward":"delete")})}else s.change(W=>{W.setSelection(P),e.execute(B?"deleteForward":"delete")})}b.preventDefault(),f.stop()},{context:Vo})}_enableInsertContentIntegration(){const e=this.editor,n=this.editor.model,s=n.document.selection;this._listenToIfEnabled(e.model,"insertContent",(l,[f,b])=>{if(b&&!b.is("documentSelection"))return;const y=bm(s);return y?(l.stop(),n.change(S=>{const T=s.getSelectedElement(),B=n.createPositionAt(T,y),P=S.createSelection(B),W=n.insertContent(f,P);return S.setSelection(P),W})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,n=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(s,l)=>{const[,f,b={}]=l;if(f&&!f.is("documentSelection"))return;const y=bm(n);y&&(b.findOptimalPosition=y,l[3]=b)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,n=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(s,[l])=>{l&&!l.is("documentSelection")||bm(n)&&s.stop()},{priority:"high"})}}function az(u){const e=u.model;return(n,s)=>{const l=s.keyCode==ln.arrowup,f=s.keyCode==ln.arrowdown,b=s.shiftKey,y=e.document.selection;if(!l&&!f)return;const S=f;if(b&&function(B,P){return!B.isCollapsed&&B.isBackward==P}(y,S))return;const T=function(B,P,W){const ee=B.model;if(W){const ne=P.isCollapsed?P.focus:P.getLastPosition(),le=Q6(ee,ne,"forward");if(!le)return null;const Ce=ee.createRange(ne,le),Me=Z6(ee.schema,Ce,"backward");return Me?ee.createRange(ne,Me):null}{const ne=P.isCollapsed?P.focus:P.getFirstPosition(),le=Q6(ee,ne,"backward");if(!le)return null;const Ce=ee.createRange(le,ne),Me=Z6(ee.schema,Ce,"forward");return Me?ee.createRange(Me,ne):null}}(u,y,S);if(T){if(T.isCollapsed&&(y.isCollapsed||b))return;(T.isCollapsed||function(B,P,W){const ee=B.model,ne=B.view.domConverter;if(W){const tt=ee.createSelection(P.start);ee.modifySelection(tt),tt.focus.isAtEnd||P.start.isEqual(tt.focus)||(P=ee.createRange(tt.focus,P.end))}const le=B.mapper.toViewRange(P),Ce=ne.viewRangeToDom(le),Me=Mn.getDomRangeRects(Ce);let qe;for(const tt of Me)if(qe!==void 0){if(Math.round(tt.top)>=qe)return!1;qe=Math.max(qe,Math.round(tt.bottom))}else qe=Math.round(tt.bottom);return!0}(u,T,S))&&(e.change(B=>{const P=S?T.end:T.start;if(b){const W=e.createSelection(y.anchor);W.setFocus(P),B.setSelection(W)}else B.setSelection(P)}),n.stop(),s.preventDefault(),s.stopPropagation())}}}function Q6(u,e,n){const s=u.schema,l=u.createRangeIn(e.root),f=n=="forward"?"elementStart":"elementEnd";for(const{previousPosition:b,item:y,type:S}of l.getWalker({startPosition:e,direction:n})){if(s.isLimit(y)&&!s.isInline(y))return b;if(S==f&&s.isBlock(y))return null}return null}function Z6(u,e,n){const s=n=="backward"?e.end:e.start;if(u.checkChild(s,"$text"))return s;for(const{nextPosition:l}of e.getWalker({direction:n}))if(u.checkChild(l,"$text"))return l;return null}var _2=a(695),Sw={attributes:{"data-cke":!0}};Sw.setAttributes=zt(),Sw.insert=Rt().bind(null,"head"),Sw.domAPI=Ut(),Sw.insertStyleElement=Nt(),Dt()(_2.A,Sw),_2.A&&_2.A.locals&&_2.A.locals;class Ew extends Vt{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get isOfficialPlugin(){return!0}static get requires(){return[sz,Yf]}init(){const e=this.editor,n=e.editing.view,s=n.document,l=e.t;this.editor.editing.downcastDispatcher.on("selection",(f,b,y)=>{const S=y.writer,T=b.selection;if(T.isCollapsed)return;const B=T.getSelectedElement();if(!B)return;const P=e.editing.mapper.toViewElement(B);var W;Vo(P)&&y.consumable.consume(T,"selection")&&S.setSelection(S.createRangeOn(P),{fake:!0,label:(W=P,W.getCustomProperty("widgetLabel").reduce((ee,ne)=>typeof ne=="function"?ee?ee+". "+ne():ne():ee?ee+". "+ne:ne,""))})}),this.editor.editing.downcastDispatcher.on("selection",(f,b,y)=>{this._clearPreviouslySelectedWidgets(y.writer);const S=y.writer,T=S.document.selection;let B=null;for(const P of T.getRanges())for(const W of P){const ee=W.item;Vo(ee)&&!lz(ee,B)&&(S.addClass(H6,ee),this._previouslySelected.add(ee),B=ee)}},{priority:"low"}),n.addObserver(Sg),this.listenTo(s,"mousedown",(...f)=>this._onMousedown(...f)),this.listenTo(s,"arrowKey",(...f)=>{this._handleSelectionChangeOnArrowKeyPress(...f)},{context:[Vo,"$text"]}),this.listenTo(s,"arrowKey",(...f)=>{this._preventDefaultOnArrowKeyPress(...f)},{context:"$root"}),this.listenTo(s,"arrowKey",az(this.editor.editing),{context:"$text"}),this.listenTo(s,"delete",(f,b)=>{this._handleDelete(b.direction=="forward")&&(b.preventDefault(),f.stop())},{context:"$root"}),this.listenTo(s,"tab",(f,b)=>{f.eventPhase=="atTarget"&&(b.shiftKey||this._selectFirstNestedEditable()&&(b.preventDefault(),f.stop()))},{context:Vo,priority:"low"}),this.listenTo(s,"tab",(f,b)=>{b.shiftKey&&this._selectAncestorWidget()&&(b.preventDefault(),f.stop())},{priority:"low"}),this.listenTo(s,"keydown",(f,b)=>{b.keystroke==ln.esc&&this._selectAncestorWidget()&&(b.preventDefault(),f.stop())},{priority:"low"}),e.accessibility.addKeystrokeInfoGroup({id:"widget",label:l("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:l("Move focus from an editable area back to the parent widget"),keystroke:"Esc"},{label:l("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:l("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:l("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:l("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(e,n){const s=this.editor,l=s.editing.view,f=l.document;let b=n.target;if(!b)return;if(n.domEvent.detail>=3)return void(this._selectBlockContent(b)&&n.preventDefault());if(!Vo(b)){const S=function(T){let B=T;for(;B;){if(B.is("editableElement")||Vo(B))return B;B=B.parent}return null}(b);if(!S)return;if(Vo(S))b=S;else{const T=function(B,P){const W=ni(P.domEvent);let ee=null;if(ee=W?B.domConverter.domRangeToView(W):B.createRange(B.createPositionAt(P.target,0)),!ee)return null;const ne=ee.start;if(!ne.parent)return null;let le=ne.parent;return ne.parent.is("editableElement")&&(ne.isAtEnd&&ne.nodeBefore?le=ne.nodeBefore:ne.isAtStart&&ne.nodeAfter&&(le=ne.nodeAfter)),le.is("$text")?le.parent:le}(l,n);if(!T||!Vo(T))return;b=T}}w.isAndroid&&n.preventDefault(),f.isFocused||l.focus();const y=s.editing.mapper.toModelElement(b);this._setSelectionOverElement(y)}_selectBlockContent(e){const n=this.editor,s=n.model,l=n.editing.mapper,f=s.schema,b=l.findMappedViewAncestor(this.editor.editing.view.createPositionAt(e,0)),y=function(S,T){for(const B of S.getAncestors({includeSelf:!0,parentFirst:!0})){if(T.checkChild(B,"$text"))return B;if(T.isLimit(B)&&!T.isObject(B))break}return null}(l.toModelElement(b),s.schema);return!!y&&(s.change(S=>{const T=f.isLimit(y)?null:function(W,ee){const ne=new Qn({startPosition:W});for(const{item:le}of ne){if(ee.isLimit(le)||!le.is("element"))return null;if(ee.checkChild(le,"$text"))return le}return null}(S.createPositionAfter(y),f),B=S.createPositionAt(y,0),P=T?S.createPositionAt(T,0):S.createPositionAt(y,"end");S.setSelection(S.createRange(B,P))}),!0)}_handleSelectionChangeOnArrowKeyPress(e,n){const s=n.keyCode,l=this.editor.model,f=l.schema,b=l.document.selection,y=b.getSelectedElement(),S=Cp(s,this.editor.locale.contentLanguageDirection),T=S=="down"||S=="right",B=S=="up"||S=="down";if(y&&f.isObject(y)){const W=T?b.getLastPosition():b.getFirstPosition(),ee=f.getNearestSelectionRange(W,T?"forward":"backward");return void(ee&&(l.change(ne=>{ne.setSelection(ee)}),n.preventDefault(),e.stop()))}if(!b.isCollapsed&&!n.shiftKey){const W=b.getFirstPosition(),ee=b.getLastPosition(),ne=W.nodeAfter,le=ee.nodeBefore;return void((ne&&f.isObject(ne)||le&&f.isObject(le))&&(l.change(Ce=>{Ce.setSelection(T?ee:W)}),n.preventDefault(),e.stop()))}if(!b.isCollapsed)return;const P=this._getObjectElementNextToSelection(T);if(P&&f.isObject(P)){if(f.isInline(P)&&B)return;this._setSelectionOverElement(P),n.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,n){const s=this.editor.model,l=s.schema,f=s.document.selection.getSelectedElement();f&&l.isObject(f)&&(n.preventDefault(),e.stop())}_handleDelete(e){const n=this.editor.model.document.selection;if(!this.editor.model.canEditAt(n)||!n.isCollapsed)return;const s=this._getObjectElementNextToSelection(e);return s?(this.editor.model.change(l=>{let f=n.anchor.parent;for(;f.isEmpty;){const b=f;f=b.parent,l.remove(b)}this._setSelectionOverElement(s)}),!0):void 0}_setSelectionOverElement(e){this.editor.model.change(n=>{n.setSelection(n.createRangeOn(e))})}_getObjectElementNextToSelection(e){const n=this.editor.model,s=n.schema,l=n.document.selection,f=n.createSelection(l);if(n.modifySelection(f,{direction:e?"forward":"backward"}),f.isEqual(l))return null;const b=e?f.focus.nodeBefore:f.focus.nodeAfter;return b&&s.isObject(b)?b:null}_clearPreviouslySelectedWidgets(e){for(const n of this._previouslySelected)e.removeClass(H6,n);this._previouslySelected.clear()}_selectFirstNestedEditable(){const e=this.editor,n=this.editor.editing.view.document;for(const s of n.selection.getFirstRange().getItems())if(s.is("editableElement")){const l=e.editing.mapper.toModelElement(s);if(!l)continue;const f=e.model.createPositionAt(l,0),b=e.model.schema.getNearestSelectionRange(f,"forward");return e.model.change(y=>{y.setSelection(b)}),!0}return!1}_selectAncestorWidget(){const e=this.editor,n=e.editing.mapper,s=e.editing.view.document.selection.getFirstPosition().parent,l=(s.is("$text")?s.parent:s).findAncestor(Vo);if(!l)return!1;const f=n.toModelElement(l);return!!f&&(e.model.change(b=>{b.setSelection(f,"on")}),!0)}}function lz(u,e){return!!e&&Array.from(u.getAncestors()).includes(e)}class C2 extends Vt{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[i2]}static get pluginName(){return"WidgetToolbarRepository"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const n=e.plugins.get("BalloonToolbar");this.listenTo(n,"show",s=>{(function(l){const f=l.getSelectedElement();return!(!f||!Vo(f))})(e.editing.view.document.selection)&&s.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:n,items:s,getRelatedElement:l,balloonClassName:f="ck-toolbar-container"}){if(!s.length)return void q("widget-toolbar-no-items",{toolbarId:e});const b=this.editor,y=b.t,S=new SS(b.locale);if(S.ariaLabel=n||y("Widget toolbar"),this._toolbarDefinitions.has(e))throw new U("widget-toolbar-duplicated",this,{toolbarId:e});const T={view:S,getRelatedElement:l,balloonClassName:f,itemsConfig:s,initialized:!1};b.ui.addToolbar(S,{isContextual:!0,beforeFocus:()=>{const B=l(b.editing.view.document.selection);B&&this._showToolbar(T,B)},afterBlur:()=>{this._hideToolbar(T)}}),this._toolbarDefinitions.set(e,T)}_updateToolbarsVisibility(){let e=0,n=null,s=null;for(const l of this._toolbarDefinitions.values()){const f=l.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&f)if(this.editor.ui.focusTracker.isFocused){const b=f.getAncestors().length;b>e&&(e=b,n=f,s=l)}else this._isToolbarVisible(l)&&this._hideToolbar(l);else this._isToolbarInBalloon(l)&&this._hideToolbar(l)}s&&this._showToolbar(s,n)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,n){this._isToolbarVisible(e)?J6(this.editor,n):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:X6(this.editor,n),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const s of this._toolbarDefinitions.values())if(this._isToolbarVisible(s)){const l=s.getRelatedElement(this.editor.editing.view.document.selection);J6(this.editor,l)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function J6(u,e){const n=u.plugins.get("ContextualBalloon"),s=X6(u,e);n.updatePosition(s)}function X6(u,e){const n=u.editing.view,s=Gf.defaultPositions;return{target:n.domConverter.mapViewToDom(e),positions:[s.northArrowSouth,s.northArrowSouthWest,s.northArrowSouthEast,s.southArrowNorth,s.southArrowNorthWest,s.southArrowNorthEast,s.viewportStickyNorth]}}var x2=a(4095),Dw={attributes:{"data-cke":!0}};Dw.setAttributes=zt(),Dw.insert=Rt().bind(null,"head"),Dw.domAPI=Ut(),Dw.insertStyleElement=Nt(),Dt()(x2.A,Dw),x2.A&&x2.A.locals&&x2.A.locals;const PS=Hs("px");class cz extends un{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",e.if("isVisible","ck-hidden",n=>!n)],style:{left:e.to("left",n=>PS(n)),top:e.to("top",n=>PS(n)),width:e.to("width",n=>PS(n))}}})}}class S2 extends Vt{constructor(){super(...arguments),this.removeDropMarkerDelayed=ye(()=>this.removeDropMarker(),40),this._updateDropMarkerThrottled=Eg(e=>this._updateDropMarker(e),40),this._reconvertMarkerThrottled=Eg(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0),this._dropTargetLineView=new cz,this._domEmitter=new(jo()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}static get isOfficialPlugin(){return!0}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,n,s,l,f,b){this.removeDropMarkerDelayed.cancel();const y=eI(this.editor,e,n,s,l,f,b);if(y)return b&&b.containsRange(y)?this.removeDropMarker():void this._updateDropMarkerThrottled(y)}getFinalDropRange(e,n,s,l,f,b){const y=eI(this.editor,e,n,s,l,f,b);return this.removeDropMarker(),y}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change(n=>{n.removeMarker("drop-target")})}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(n,{writer:s})=>{if(e.model.schema.checkChild(n.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(s);n.markerRange.isCollapsed?this._updateDropTargetLine(n.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const n=this.editor,s=n.model.markers;n.model.change(l=>{s.has("drop-target")?s.get("drop-target").getRange().isEqual(e)||l.updateMarker("drop-target",{range:e}):l.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(n){const s=this.toDomElement(n);return s.append("",n.createElement("span"),""),s})}_updateDropTargetLine(e){const n=this.editor.editing,s=e.start.nodeBefore,l=e.start.nodeAfter,f=e.start.parent,b=s?n.mapper.toViewElement(s):null,y=b?n.view.domConverter.mapViewToDom(b):null,S=l?n.mapper.toViewElement(l):null,T=S?n.view.domConverter.mapViewToDom(S):null,B=n.mapper.toViewElement(f);if(!B)return;const P=n.view.domConverter.mapViewToDom(B),W=this._getScrollableRect(B),{scrollX:ee,scrollY:ne}=p.window,le=y?new Mn(y):null,Ce=T?new Mn(T):null,Me=new Mn(P).excludeScrollbarsAndBorders(),qe=le?le.bottom:Me.top,tt=Ce?Ce.top:Me.bottom,Et=p.window.getComputedStyle(P),Mt=qe<=tt?(qe+tt)/2:tt;if(W.top<Mt&&Mt<W.bottom){const wn=Me.left+parseFloat(Et.paddingLeft),yn=Me.right-parseFloat(Et.paddingRight),Jr=Math.max(wn+ee,W.left),ro=Math.min(yn+ee,W.right);this._dropTargetLineView.set({isVisible:!0,left:Jr,top:Mt+ne,width:ro-Jr})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const n=e.root.rootName;let s;if(this._scrollables.has(n))s=this._scrollables.get(n).domElement;else{s=function(f){let b=f;do{b=b.parentElement;const y=p.window.getComputedStyle(b).overflowY;if(y=="auto"||y=="scroll")break}while(b.tagName!="BODY");return b}(this.editor.editing.view.domConverter.mapViewToDom(e)),this._domEmitter.listenTo(s,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const l=new ho(s,this._reconvertMarkerThrottled);this._scrollables.set(n,{domElement:s,resizeObserver:l})}return new Mn(s).excludeScrollbarsAndBorders()}}function eI(u,e,n,s,l,f,b){const y=u.model,S=u.editing.mapper;let T=nI(u,e);for(;T;){if(!f){if(y.schema.checkChild(T,"$text")){if(n){const B=n[0].start,P=S.toModelPosition(B);if(!b||Array.from(b.getItems({shallow:!0})).every(W=>y.schema.checkChild(P,W))){if(y.schema.checkChild(P,"$text"))return y.createRange(P);if(B)return E2(u,nI(u,B.parent),s,l)}}}else if(y.schema.isInline(T))return E2(u,T,s,l)}if(y.schema.isBlock(T))return E2(u,T,s,l);if(y.schema.checkChild(T,"$block")){const B=Array.from(T.getChildren()).filter(ee=>ee.is("element")&&!uz(u,ee));let P=0,W=B.length;if(W==0)return y.createRange(y.createPositionAt(T,"end"));for(;P<W-1;){const ee=Math.floor((P+W)/2);tI(u,B[ee],s,l)=="before"?W=ee:P=ee}return E2(u,B[P],s,l)}T=T.parent}return null}function uz(u,e){const n=u.editing.mapper,s=u.editing.view.domConverter,l=n.toViewElement(e);if(!l)return!0;const f=s.mapViewToDom(l);return p.window.getComputedStyle(f).float!="none"}function E2(u,e,n,s){const l=u.model;return l.createRange(l.createPositionAt(e,tI(u,e,n,s)))}function tI(u,e,n,s){const l=u.editing.mapper,f=u.editing.view.domConverter,b=l.toViewElement(e),y=f.mapViewToDom(b),S=new Mn(y);return u.model.schema.isInline(e)?n<(S.left+S.right)/2?"before":"after":s<(S.top+S.bottom)/2?"before":"after"}function nI(u,e){const n=u.editing.mapper,s=u.editing.view,l=n.toModelElement(e);if(l)return l;const f=s.createPositionBefore(e),b=n.findMappedViewAncestor(f);return n.toModelElement(b)}class dz extends Vt{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(jo())}static get pluginName(){return"DragDropBlockToolbar"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",(n,s,l)=>{l?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),w.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const n=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(n,"dragstart",(s,l)=>this._handleBlockDragStart(l)),this._domEmitter.listenTo(p.document,"dragover",(s,l)=>this._handleBlockDragging(l)),this._domEmitter.listenTo(p.document,"drop",(s,l)=>this._handleBlockDragging(l)),this._domEmitter.listenTo(p.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&n.setAttribute("draggable","true"),this.on("change:isEnabled",(s,l,f)=>{n.setAttribute("draggable",f?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const n=this.editor.model,s=n.document.selection,l=this.editor.editing.view,f=Array.from(s.getSelectedBlocks()),b=n.createRange(n.createPositionBefore(f[0]),n.createPositionAfter(f[f.length-1]));n.change(y=>y.setSelection(b)),this._isBlockDragging=!0,l.focus(),l.getObserver(vw).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const n=e.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),s=e.clientY,l=document.elementFromPoint(n,s),f=this.editor.editing.view;l&&l.closest(".ck-editor__editable")&&f.getObserver(vw).onDomEvent({...e,type:e.type,dataTransfer:e.dataTransfer,target:l,clientX:n,clientY:s,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()})}_handleBlockDragEnd(){this._isBlockDragging=!1}}var D2=a(7793),Iw={attributes:{"data-cke":!0}};Iw.setAttributes=zt(),Iw.insert=Rt().bind(null,"head"),Iw.domAPI=Ut(),Iw.insertStyleElement=Nt(),Dt()(D2.A,Iw),D2.A&&D2.A.locals&&D2.A.locals;class hz extends Vt{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=ye(()=>this._clearDraggableAttributes(),40),this._blockMode=!1,this._domEmitter=new(jo())}static get pluginName(){return"DragDrop"}static get isOfficialPlugin(){return!0}static get requires(){return[$u,Ew,S2,dz]}init(){const e=this.editor,n=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,n.addObserver(vw),n.addObserver(Sg),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(s,l,f)=>{f?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(s,l,f)=>{f||this._finalizeDragging(!1)}),w.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,n=e.model,s=e.editing.view,l=s.document,f=e.plugins.get(S2);this.listenTo(l,"dragstart",(b,y)=>{if(y.target&&y.target.is("editableElement")||(this._prepareDraggedRange(y.target),!this._draggedRange))return void y.preventDefault();this._draggingUid=se(),y.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",y.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const S=n.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(y.dataTransfer,S,"dragstart");const{dataTransfer:T,domTarget:B,domEvent:P}=y,{clientX:W}=P;this._updatePreview({dataTransfer:T,domTarget:B,clientX:W}),y.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(l,"dragend",(b,y)=>{this._finalizeDragging(!y.dataTransfer.isCanceled&&y.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(p.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(l,"dragenter",()=>{this.isEnabled&&s.focus()}),this.listenTo(l,"dragleave",()=>{f.removeDropMarkerDelayed()}),this.listenTo(l,"dragging",(b,y)=>{if(!this.isEnabled)return void(y.dataTransfer.dropEffect="none");const{clientX:S,clientY:T}=y.domEvent;f.updateDropMarker(y.target,y.targetRanges,S,T,this._blockMode,this._draggedRange),this._draggedRange||(y.dataTransfer.dropEffect="copy"),w.isGecko||(y.dataTransfer.effectAllowed=="copy"?y.dataTransfer.dropEffect="copy":["all","copyMove"].includes(y.dataTransfer.effectAllowed)&&(y.dataTransfer.dropEffect="move")),b.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,n=e.editing.view.document,s=e.plugins.get(S2);this.listenTo(n,"clipboardInput",(l,f)=>{if(f.method!="drop")return;const{clientX:b,clientY:y}=f.domEvent,S=s.getFinalDropRange(f.target,f.targetRanges,b,y,this._blockMode,this._draggedRange);if(!S)return this._finalizeDragging(!1),void l.stop();if(this._draggedRange&&this._draggingUid!=f.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),rI(f.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(S,!0))return this._finalizeDragging(!1),void l.stop();f.targetRanges=[e.editing.mapper.toViewRange(S)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get($u);e.on("contentInsertion",(n,s)=>{if(!this.isEnabled||s.method!=="drop")return;const l=s.targetRanges.map(f=>this.editor.editing.mapper.toModelRange(f));this.editor.model.change(f=>f.setSelection(l))},{priority:"high"}),e.on("contentInsertion",(n,s)=>{if(!this.isEnabled||s.method!=="drop")return;const l=rI(s.dataTransfer)=="move",f=!s.resultRange||!s.resultRange.isCollapsed;this._finalizeDragging(f&&l)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,n=e.editing.view,s=n.document;this.listenTo(s,"mousedown",(l,f)=>{if(w.isAndroid||!f)return;this._clearDraggableAttributesDelayed.cancel();let b=iI(f.target);if(w.isBlink&&!e.isReadOnly&&!b&&!s.selection.isCollapsed){const y=s.selection.getSelectedElement();y&&Vo(y)||(b=s.selection.editableElement)}b&&(n.change(y=>{y.setAttribute("draggable","true",b)}),this._draggableElement=e.editing.mapper.toModelElement(b))}),this.listenTo(s,"mouseup",()=>{w.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(n=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&n.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(e){const n=this.editor,s=n.model;n.plugins.get(S2).removeDropMarker(),this._clearDraggableAttributes(),n.plugins.has("WidgetToolbarRepository")&&n.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&s.change(l=>{const f=s.createSelection(this._draggedRange);s.deleteContent(f,{doNotAutoparagraph:!0});const b=f.getFirstPosition().parent;b.isEmpty&&!s.schema.checkChild(b,"$text")&&s.schema.checkChild(b,"paragraph")&&l.insertElement("paragraph",b,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const n=this.editor,s=n.model,l=s.document.selection,f=e?iI(e):null;if(f){const T=n.editing.mapper.toModelElement(f);this._draggedRange=sa.fromRange(s.createRangeOn(T)),this._blockMode=s.schema.isBlock(T),n.plugins.has("WidgetToolbarRepository")&&n.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(l.isCollapsed&&!l.getFirstPosition().parent.isEmpty)return;const b=Array.from(l.getSelectedBlocks()),y=l.getFirstRange();if(b.length==0)return void(this._draggedRange=sa.fromRange(y));const S=oI(s,b);if(b.length>1)this._draggedRange=sa.fromRange(S),this._blockMode=!0;else if(b.length==1){const T=y.start.isTouching(S.start)&&y.end.isTouching(S.end);this._draggedRange=sa.fromRange(T?S:y),this._blockMode=T}s.change(T=>T.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:e,domTarget:n,clientX:s}){const l=this.editor.editing.view,f=l.document.selection.editableElement,b=l.domConverter.mapViewToDom(f),y=p.window.getComputedStyle(b);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=fn(p.document,"div",{style:"position: fixed; left: -999999px;"}),p.document.body.appendChild(this._previewContainer));const S=new Mn(b);if(b.contains(n))return;const T=parseFloat(y.paddingLeft),B=fn(p.document,"div");B.className="ck ck-content",B.style.width=y.width,B.style.paddingLeft=`${S.left-s+T}px`,w.isiOS&&(B.style.backgroundColor="white"),l.domConverter.setContentOf(B,e.getData("text/html")),e.setDragImage(B,0,0),this._previewContainer.appendChild(B)}}function rI(u){return w.isGecko?u.dropEffect:["all","copyMove"].includes(u.effectAllowed)?"move":"copy"}function iI(u){if(u.is("editableElement"))return null;if(u.hasClass("ck-widget__selection-handle"))return u.findAncestor(Vo);if(Vo(u))return u;const e=u.findAncestor(n=>Vo(n)||n.is("editableElement"));return Vo(e)?e:null}function oI(u,e){const n=e[0],s=e[e.length-1],l=n.getCommonAncestor(s),f=u.createPositionBefore(n),b=u.createPositionAfter(s);if(l&&l.is("element")&&!u.schema.isLimit(l)){const y=u.createRangeOn(l),S=f.isTouching(y.start),T=b.isTouching(y.end);if(S&&T)return oI(u,[l])}return u.createRange(f,b)}class fz extends Vt{static get pluginName(){return"PastePlainText"}static get isOfficialPlugin(){return!0}static get requires(){return[$u]}init(){const e=this.editor,n=e.model,s=e.editing.view,l=n.document.selection;s.addObserver(vw),e.plugins.get($u).on("contentInsertion",(f,b)=>{(function(y,S){let T=S.createRangeIn(y);if(y.childCount==1){const B=y.getChild(0);B.is("element")&&S.schema.isBlock(B)&&!S.schema.isObject(B)&&!S.schema.isLimit(B)&&(T=S.createRangeIn(B))}for(const B of T.getItems())if(!S.schema.isInline(B)||Array.from(B.getAttributeKeys()).find(P=>S.schema.getAttributeProperties(P).isFormatting))return!1;return!0})(b.content,n)&&n.change(y=>{const S=Array.from(l.getAttributes()).filter(([B])=>n.schema.getAttributeProperties(B).isFormatting);l.isCollapsed||n.deleteContent(l,{doNotAutoparagraph:!0}),S.push(...l.getAttributes());const T=y.createRangeIn(b.content);for(const B of T.getItems())for(const P of S)n.schema.checkAttribute(B,P[0])&&y.setAttribute(P[0],P[1],B)})})}}class sI extends Vt{static get pluginName(){return"Clipboard"}static get isOfficialPlugin(){return!0}static get requires(){return[yw,$u,hz,fz]}init(){const e=this.editor,n=this.editor.t;e.accessibility.addKeystrokeInfos({keystrokes:[{label:n("Copy selected content"),keystroke:"CTRL+C"},{label:n("Paste content"),keystroke:"CTRL+V"},{label:n("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}class pz extends pn{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,n=e.document.selection;let s=e.schema.getLimitElement(n);if(n.containsEntireContent(s)||!aI(e.schema,s))do if(s=s.parent,!s)return;while(!aI(e.schema,s));e.change(l=>{l.setSelection(s,"in")})}}function aI(u,e){return u.isLimit(e)&&(u.checkChild(e,"$text")||u.checkChild(e,"paragraph"))}const mz=xf("Ctrl+A");class gz extends Vt{static get pluginName(){return"SelectAllEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,n=e.t,s=e.editing.view.document;e.commands.add("selectAll",new pz(e)),this.listenTo(s,"keydown",(l,f)=>{$s(f)===mz&&(e.execute("selectAll"),f.preventDefault())}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:n("Select all"),keystroke:"CTRL+A"}]})}}class bz extends Vt{static get pluginName(){return"SelectAllUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",()=>{const n=this._createButton(sr);return n.set({tooltip:!0}),n}),e.ui.componentFactory.add("menuBar:selectAll",()=>this._createButton(St))}_createButton(e){const n=this.editor,s=n.locale,l=n.commands.get("selectAll"),f=new e(n.locale),b=s.t;return f.set({label:b("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A"}),f.bind("isEnabled").to(l,"isEnabled"),this.listenTo(f,"execute",()=>{n.execute("selectAll"),n.editing.view.focus()}),f}}class kz extends Vt{static get requires(){return[gz,bz]}static get pluginName(){return"SelectAll"}static get isOfficialPlugin(){return!0}}class lI extends pn{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(n,s)=>{s[1]={...s[1]};const l=s[1];l.batchType||(l.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(n,s)=>{s[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const n=this.editor.model.document.selection,s={ranges:n.hasOwnRange?Array.from(n.getRanges()):[],isBackward:n.isBackward};this._stack.push({batch:e,selection:s}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,n,s){const l=this.editor.model,f=l.document,b=[],y=e.map(T=>T.getTransformedByOperations(s)),S=y.flat();for(const T of y){const B=T.filter(P=>P.root!=f.graveyard).filter(P=>!vz(P,S));B.length&&(wz(B),b.push(B[0]))}b.length&&l.change(T=>{T.setSelection(b,{backward:n})})}_undo(e,n){const s=this.editor.model,l=s.document;this._createdBatches.add(n);const f=e.operations.slice().filter(b=>b.isDocumentOperation);f.reverse();for(const b of f){const y=b.baseVersion+1,S=Array.from(l.history.getOperations(y)),T=Zb([b.getReversed()],S,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let B of T){const P=B.affectedSelectable;P&&!s.canEditAt(P)&&(B=new is(B.baseVersion)),n.addOperation(B),s.applyOperation(B),l.history.setOperationAsUndone(b,B)}}}}function wz(u){u.sort((e,n)=>e.start.isBefore(n.start)?-1:1);for(let e=1;e<u.length;e++){const n=u[e-1].getJoined(u[e],!0);n&&(e--,u.splice(e,2,n))}}function vz(u,e){return e.some(n=>n!==u&&n.containsRange(u,!0))}class yz extends lI{execute(e=null){const n=e?this._stack.findIndex(f=>f.batch==e):this._stack.length-1,s=this._stack.splice(n,1)[0],l=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(l,()=>{this._undo(s.batch,l);const f=this.editor.model.document.history.getOperations(s.batch.baseVersion);this._restoreSelection(s.selection.ranges,s.selection.isBackward,f)}),this.fire("revert",s.batch,l),this.refresh()}}class Az extends lI{execute(){const e=this._stack.pop(),n=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(n,()=>{const s=e.batch.operations[e.batch.operations.length-1].baseVersion+1,l=this.editor.model.document.history.getOperations(s);this._restoreSelection(e.selection.ranges,e.selection.isBackward,l),this._undo(e.batch,n)}),this.refresh()}}class _z extends Vt{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,n=e.t;this._undoCommand=new yz(e),this._redoCommand=new Az(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(s,l)=>{const f=l[0];if(!f.isDocumentOperation)return;const b=f.batch,y=this._redoCommand.createdBatches.has(b),S=this._undoCommand.createdBatches.has(b);this._batchRegistry.has(b)||(this._batchRegistry.add(b),b.isUndoable&&(y?this._undoCommand.addBatch(b):S||(this._undoCommand.addBatch(b),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(s,l,f)=>{this._redoCommand.addBatch(f)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:n("Undo"),keystroke:"CTRL+Z"},{label:n("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class Cz extends Vt{static get pluginName(){return"UndoUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,n=e.locale,s=e.t,l=n.uiLanguageDirection=="ltr"?cn.undo:cn.redo,f=n.uiLanguageDirection=="ltr"?cn.redo:cn.undo;this._addButtonsToFactory("undo",s("Undo"),"CTRL+Z",l),this._addButtonsToFactory("redo",s("Redo"),"CTRL+Y",f)}_addButtonsToFactory(e,n,s,l){const f=this.editor;f.ui.componentFactory.add(e,()=>{const b=this._createButton(sr,e,n,s,l);return b.set({tooltip:!0}),b}),f.ui.componentFactory.add("menuBar:"+e,()=>this._createButton(St,e,n,s,l))}_createButton(e,n,s,l,f){const b=this.editor,y=b.locale,S=b.commands.get(n),T=new e(y);return T.set({label:s,icon:f,keystroke:l}),T.bind("isEnabled").to(S,"isEnabled"),this.listenTo(T,"execute",()=>{b.execute(n),b.editing.view.focus()}),T}}class cI extends Vt{static get requires(){return[_z,Cz]}static get pluginName(){return"Undo"}static get isOfficialPlugin(){return!0}}class xz extends Vt{static get requires(){return[Lt,sI,v2,kz,JF,VF,cI]}static get pluginName(){return"Essentials"}static get isOfficialPlugin(){return!0}}class Sz extends Ae(){constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=n=>{this.loaded=n.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const n=this._reader;return this.total=e.size,new Promise((s,l)=>{n.onload=()=>{const f=n.result;this._data=f,s(f)},n.onerror=()=>{l("error")},n.onabort=()=>{l("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}class Gu extends Vt{constructor(){super(...arguments),this.loaders=new Co,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get isOfficialPlugin(){return!0}static get requires(){return[u0]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,n)=>n?e/n*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return q("filerepository-no-upload-adapter"),null;const n=new uI(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(n),this._loadersMap.set(e,n),e instanceof Promise&&n.file.then(s=>{this._loadersMap.set(s,n)}).catch(()=>{}),n.on("change:uploaded",()=>{let s=0;for(const l of this.loaders)s+=l.uploaded;this.uploaded=s}),n.on("change:uploadTotal",()=>{let s=0;for(const l of this.loaders)l.uploadTotal&&(s+=l.uploadTotal);this.uploadTotal=s}),n}destroyLoader(e){const n=e instanceof uI?e:this.getLoader(e);n._destroy(),this.loaders.remove(n),this._loadersMap.forEach((s,l)=>{s===n&&this._loadersMap.delete(l)})}_updatePendingAction(){const e=this.editor.plugins.get(u0);if(this.loaders.length){if(!this._pendingAction){const n=this.editor.t,s=l=>`${n("Upload in progress")} ${parseInt(l)}%.`;this._pendingAction=e.add(s(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",s)}}else e.remove(this._pendingAction),this._pendingAction=null}}class uI extends Ae(){constructor(e,n){super(),this.id=se(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=n(this),this._reader=new Sz,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(s,l)=>l?s/l*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new U("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!=="reading")throw this.status;return this.status="idle",e}).catch(e=>{throw e==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if(this.status!="idle")throw new U("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw this.status==="aborted"?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const n={};return n.promise=new Promise((s,l)=>{n.rejecter=l,n.isFulfilled=!1,e.then(f=>{n.isFulfilled=!0,s(f)}).catch(f=>{n.isFulfilled=!0,l(f)})}),n}}const dI="ckCsrfToken",Ez="abcdefghijklmnopqrstuvwxyz0123456789";function Dz(){let u=function(s){s=s.toLowerCase();const l=document.cookie.split(";");for(const f of l){const b=f.split("=");if(decodeURIComponent(b[0].trim().toLowerCase())===s)return decodeURIComponent(b[1])}return null}(dI);var e,n;return u&&u.length==40||(u=function(s){let l="";const f=new Uint8Array(s);window.crypto.getRandomValues(f);for(let b=0;b<f.length;b++){const y=Ez.charAt(f[b]%36);l+=Math.random()>.5?y.toUpperCase():y}return l}(40),e=dI,n=u,document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(n)+";path=/"),u}class Iz extends Vt{static get requires(){return[Gu]}static get pluginName(){return"CKFinderUploadAdapter"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.config.get("ckfinder.uploadUrl");e&&(this.editor.plugins.get(Gu).createUploadAdapter=n=>new Tz(n,e,this.editor.t))}}class Tz{constructor(e,n,s){this.loader=e,this.url=n,this.t=s}upload(){return this.loader.file.then(e=>new Promise((n,s)=>{this._initRequest(),this._initListeners(n,s,e),this._sendRequest(e)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.responseType="json"}_initListeners(e,n,s){const l=this.xhr,f=this.loader,b=(0,this.t)("Cannot upload file:")+` ${s.name}.`;l.addEventListener("error",()=>n(b)),l.addEventListener("abort",()=>n()),l.addEventListener("load",()=>{const y=l.response;if(!y||!y.uploaded)return n(y&&y.error&&y.error.message?y.error.message:b);e({default:y.url})}),l.upload&&l.upload.addEventListener("progress",y=>{y.lengthComputable&&(f.uploadTotal=y.total,f.uploaded=y.loaded)})}_sendRequest(e){const n=new FormData;n.append("upload",e),n.append("ckCsrfToken",Dz()),this.xhr.send(n)}}function km(u,e,n,s){let l,f=null;typeof s=="function"?l=s:(f=u.commands.get(s),l=()=>{u.execute(s)}),u.model.document.on("change:data",(b,y)=>{if(f&&!f.isEnabled||!e.isEnabled)return;const S=Po(u.model.document.selection.getRanges());if(!S.isCollapsed||y.isUndo||!y.isLocal)return;const T=Array.from(u.model.document.differ.getChanges()),B=T[0];if(T.length!=1||B.type!=="insert"||B.name!="$text"||B.length!=1)return;const P=B.position.parent;if(P.is("element","codeBlock")||P.is("element","listItem")&&typeof s!="function"&&!["numberedList","bulletedList","todoList"].includes(s)||f&&f.value===!0)return;const W=P.getChild(0),ee=u.model.createRangeOn(W);if(!ee.containsRange(S)&&!S.end.isEqual(ee.end))return;const ne=n.exec(W.data.substr(0,S.end.offset));ne&&u.model.enqueueChange(le=>{const Ce=le.createPositionAt(P,0),Me=le.createPositionAt(P,ne[0].length),qe=new sa(Ce,Me);if(l({match:ne})!==!1){le.remove(qe);const tt=u.model.document.selection.getFirstRange(),Et=le.createRangeIn(P);!P.isEmpty||Et.isEqual(tt)||Et.containsRange(tt,!0)||le.remove(P)}qe.detach(),u.model.enqueueChange(()=>{u.plugins.get("Delete").requestUndoOnBackspace()})})})}function y0(u,e,n,s){let l,f;n instanceof RegExp?l=n:f=n,f=f||(b=>{let y;const S=[],T=[];for(;(y=l.exec(b))!==null&&!(y&&y.length<4);){let{index:B,1:P,2:W,3:ee}=y;const ne=P+W+ee;B+=y[0].length-ne.length;const le=[B,B+P.length],Ce=[B+P.length+W.length,B+P.length+W.length+ee.length];S.push(le),S.push(Ce),T.push([B+P.length,B+P.length+W.length])}return{remove:S,format:T}}),u.model.document.on("change:data",(b,y)=>{if(y.isUndo||!y.isLocal||!e.isEnabled)return;const S=u.model,T=S.document.selection;if(!T.isCollapsed)return;const B=Array.from(S.document.differ.getChanges()),P=B[0];if(B.length!=1||P.type!=="insert"||P.name!="$text"||P.length!=1)return;const W=T.focus,ee=W.parent,{text:ne,range:le}=function(tt,Et){let Mt=tt.start;return{text:Array.from(tt.getItems()).reduce((yn,Jr)=>!Jr.is("$text")&&!Jr.is("$textProxy")||Jr.getAttribute("code")?(Mt=Et.createPositionAfter(Jr),""):yn+Jr.data,""),range:Et.createRange(Mt,tt.end)}}(S.createRange(S.createPositionAt(ee,0),W),S),Ce=f(ne),Me=hI(le.start,Ce.format,S),qe=hI(le.start,Ce.remove,S);Me.length&&qe.length&&S.enqueueChange(tt=>{if(s(tt,Me)!==!1){for(const Et of qe.reverse())tt.remove(Et);S.enqueueChange(()=>{u.plugins.get("Delete").requestUndoOnBackspace()})}})})}function hI(u,e,n){return e.filter(s=>s[0]!==void 0&&s[1]!==void 0).map(s=>n.createRange(u.getShiftedBy(s[0]),u.getShiftedBy(s[1])))}class Mz extends Vt{static get requires(){return[Yf]}static get pluginName(){return"Autoformat"}static get isOfficialPlugin(){return!0}afterInit(){const e=this.editor,n=this.editor.t;this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats(),e.accessibility.addKeystrokeInfos({keystrokes:[{label:n("Revert autoformatting action"),keystroke:"Backspace"}]})}_addListAutoformats(){const e=this.editor.commands;e.get("bulletedList")&&km(this.editor,this,/^[*-]\s$/,"bulletedList"),e.get("numberedList")&&km(this.editor,this,/^1[.|)]\s$/,"numberedList"),e.get("todoList")&&km(this.editor,this,/^\[\s?\]\s$/,"todoList"),e.get("checkTodoList")&&km(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const e=this.editor.commands;if(e.get("bold")){const n=I2(this.editor,"bold");y0(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,n),y0(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,n)}if(e.get("italic")){const n=I2(this.editor,"italic");y0(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,n),y0(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,n)}if(e.get("code")){const n=I2(this.editor,"code");y0(this.editor,this,/(`)([^`]+)(`)$/g,n)}if(e.get("strikethrough")){const n=I2(this.editor,"strikethrough");y0(this.editor,this,/(~~)([^~]+)(~~)$/g,n)}}_addHeadingAutoformats(){const e=this.editor.commands.get("heading");e&&e.modelElements.filter(n=>n.match(/^heading[1-6]$/)).forEach(n=>{const s=n[7],l=new RegExp(`^(#{${s}})\\s$`);km(this.editor,this,l,()=>{if(!e.isEnabled||e.value===n)return!1;this.editor.execute("heading",{value:n})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&km(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const e=this.editor,n=e.model.document.selection;e.commands.get("codeBlock")&&km(e,this,/^```$/,()=>{if(n.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&km(this.editor,this,/^---$/,"horizontalLine")}}function I2(u,e){return(n,s)=>{if(!u.commands.get(e).isEnabled)return!1;const l=u.model.schema.getValidRanges(s,e);for(const f of l)n.setAttribute(e,!0,f);n.removeSelectionAttribute(e)}}class fI extends pn{constructor(e,n){super(e),this.attributeKey=n}refresh(){const e=this.editor.model,n=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(n.selection,this.attributeKey)}execute(e={}){const n=this.editor.model,s=n.document.selection,l=e.forceValue===void 0?!this.value:e.forceValue;n.change(f=>{if(s.isCollapsed)l?f.setSelectionAttribute(this.attributeKey,!0):f.removeSelectionAttribute(this.attributeKey);else{const b=n.schema.getValidRanges(s.getRanges(),this.attributeKey);for(const y of b)l?f.setAttribute(this.attributeKey,l,y):f.removeAttribute(this.attributeKey,y)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,n=e.schema,s=e.document.selection;if(s.isCollapsed)return s.hasAttribute(this.attributeKey);for(const l of s.getRanges())for(const f of l.getItems())if(n.checkAttribute(f,this.attributeKey))return f.hasAttribute(this.attributeKey);return!1}}const A0="bold";class Nz extends Vt{static get pluginName(){return"BoldEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,n=this.editor.t;e.model.schema.extend("$text",{allowAttributes:A0}),e.model.schema.setAttributeProperties(A0,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:A0,view:"strong",upcastAlso:["b",s=>{const l=s.getStyle("font-weight");return l&&(l=="bold"||Number(l)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(A0,new fI(e,A0)),e.keystrokes.set("CTRL+B",A0),e.accessibility.addKeystrokeInfos({keystrokes:[{label:n("Bold text"),keystroke:"CTRL+B"}]})}}function pI({editor:u,commandName:e,plugin:n,icon:s,label:l,keystroke:f}){return b=>{const y=u.commands.get(e),S=new b(u.locale);return S.set({label:l,icon:s,keystroke:f,isToggleable:!0}),S.bind("isEnabled").to(y,"isEnabled"),S.bind("isOn").to(y,"value"),S instanceof St?S.set({role:"menuitemcheckbox"}):S.set({tooltip:!0}),n.listenTo(S,"execute",()=>{u.execute(e),u.editing.view.focus()}),S}}const RS="bold";class Oz extends Vt{static get pluginName(){return"BoldUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,n=e.locale.t,s=pI({editor:e,commandName:RS,plugin:this,icon:cn.bold,label:n("Bold"),keystroke:"CTRL+B"});e.ui.componentFactory.add(RS,()=>s(sr)),e.ui.componentFactory.add("menuBar:"+RS,()=>s(St))}}class Bz extends Vt{static get requires(){return[Nz,Oz]}static get pluginName(){return"Bold"}static get isOfficialPlugin(){return!0}}var T2=a(4199),Tw={attributes:{"data-cke":!0}};Tw.setAttributes=zt(),Tw.insert=Rt().bind(null,"head"),Tw.domAPI=Ut(),Tw.insertStyleElement=Nt(),Dt()(T2.A,Tw),T2.A&&T2.A.locals&&T2.A.locals;const _0="italic";class jz extends Vt{static get pluginName(){return"ItalicEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,n=this.editor.t;e.model.schema.extend("$text",{allowAttributes:_0}),e.model.schema.setAttributeProperties(_0,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:_0,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(_0,new fI(e,_0)),e.keystrokes.set("CTRL+I",_0),e.accessibility.addKeystrokeInfos({keystrokes:[{label:n("Italic text"),keystroke:"CTRL+I"}]})}}const FS="italic";class Lz extends Vt{static get pluginName(){return"ItalicUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,n=e.locale.t,s=pI({editor:e,commandName:FS,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",label:n("Italic")});e.ui.componentFactory.add(FS,()=>s(sr)),e.ui.componentFactory.add("menuBar:"+FS,()=>s(St))}}class Pz extends Vt{static get requires(){return[jz,Lz]}static get pluginName(){return"Italic"}static get isOfficialPlugin(){return!0}}class Rz extends pn{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const n=this.editor.model,s=n.schema,l=n.document.selection,f=Array.from(l.getSelectedBlocks()),b=e.forceValue===void 0?!this.value:e.forceValue;n.change(y=>{if(b){const S=f.filter(T=>M2(T)||gI(s,T));this._applyQuote(y,S)}else this._removeQuote(y,f.filter(M2))})}_getValue(){const e=Po(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!M2(e))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,n=this.editor.model.schema,s=Po(e.getSelectedBlocks());return!!s&&gI(n,s)}_removeQuote(e,n){mI(e,n).reverse().forEach(s=>{if(s.start.isAtStart&&s.end.isAtEnd)return void e.unwrap(s.start.parent);if(s.start.isAtStart){const f=e.createPositionBefore(s.start.parent);return void e.move(s,f)}s.end.isAtEnd||e.split(s.end);const l=e.createPositionAfter(s.end.parent);e.move(s,l)})}_applyQuote(e,n){const s=[];mI(e,n).reverse().forEach(l=>{let f=M2(l.start);f||(f=e.createElement("blockQuote"),e.wrap(l,f)),s.push(f)}),s.reverse().reduce((l,f)=>l.nextSibling==f?(e.merge(e.createPositionAfter(l)),l):f)}}function M2(u){return u.parent.name=="blockQuote"?u.parent:null}function mI(u,e){let n,s=0;const l=[];for(;s<e.length;){const f=e[s],b=e[s+1];n||(n=u.createPositionBefore(f)),b&&f.nextSibling==b||(l.push(u.createRange(n,u.createPositionAfter(f))),n=null),s++}return l}function gI(u,e){const n=u.checkChild(e.parent,"blockQuote"),s=u.checkChild(["$root","blockQuote"],e);return n&&s}class Fz extends Vt{static get pluginName(){return"BlockQuoteEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[v2,Yf]}init(){const e=this.editor,n=e.model.schema;e.commands.add("blockQuote",new Rz(e)),n.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(b=>{const y=e.model.document.differ.getChanges();for(const S of y)if(S.type=="insert"){const T=S.position.nodeAfter;if(!T)continue;if(T.is("element","blockQuote")&&T.isEmpty)return b.remove(T),!0;if(T.is("element","blockQuote")&&!n.checkChild(S.position,T))return b.unwrap(T),!0;if(T.is("element")){const B=b.createRangeIn(T);for(const P of B.getItems())if(P.is("element","blockQuote")&&!n.checkChild(b.createPositionBefore(P),P))return b.unwrap(P),!0}}else if(S.type=="remove"){const T=S.position.parent;if(T.is("element","blockQuote")&&T.isEmpty)return b.remove(T),!0}return!1});const s=this.editor.editing.view.document,l=e.model.document.selection,f=e.commands.get("blockQuote");this.listenTo(s,"enter",(b,y)=>{!l.isCollapsed||!f.value||l.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),y.preventDefault(),b.stop())},{context:"blockquote"}),this.listenTo(s,"delete",(b,y)=>{if(y.direction!="backward"||!l.isCollapsed||!f.value)return;const S=l.getLastPosition().parent;S.isEmpty&&!S.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),y.preventDefault(),b.stop())},{context:"blockquote"})}}var N2=a(8708),Mw={attributes:{"data-cke":!0}};Mw.setAttributes=zt(),Mw.insert=Rt().bind(null,"head"),Mw.domAPI=Ut(),Mw.insertStyleElement=Nt(),Dt()(N2.A,Mw),N2.A&&N2.A.locals&&N2.A.locals;class zz extends Vt{static get pluginName(){return"BlockQuoteUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.ui.componentFactory.add("blockQuote",()=>{const n=this._createButton(sr);return n.set({tooltip:!0}),n}),e.ui.componentFactory.add("menuBar:blockQuote",()=>{const n=this._createButton(St);return n.set({role:"menuitemcheckbox"}),n})}_createButton(e){const n=this.editor,s=n.locale,l=n.commands.get("blockQuote"),f=new e(n.locale),b=s.t;return f.set({label:b("Block quote"),icon:cn.quote,isToggleable:!0}),f.bind("isEnabled").to(l,"isEnabled"),f.bind("isOn").to(l,"value"),this.listenTo(f,"execute",()=>{n.execute("blockQuote"),n.editing.view.focus()}),f}}class Uz extends Vt{static get requires(){return[Fz,zz]}static get pluginName(){return"BlockQuote"}static get isOfficialPlugin(){return!0}}class qz extends Vt{static get pluginName(){return"CKBoxUI"}static get isOfficialPlugin(){return!0}afterInit(){const e=this.editor;e.commands.get("ckbox")&&(e.ui.componentFactory.add("ckbox",()=>this._createFileToolbarButton()),e.ui.componentFactory.add("menuBar:ckbox",()=>this._createFileMenuBarButton()),e.plugins.has("ImageInsertUI")&&e.plugins.get("ImageInsertUI").registerIntegration({name:"assetManager",observable:()=>e.commands.get("ckbox"),buttonViewCreator:()=>this._createImageToolbarButton(),formViewCreator:()=>this._createImageDropdownButton(),menuBarButtonViewCreator:n=>this._createImageMenuBarButton(n?"insertOnly":"insertNested")}))}_createButton(e){const n=this.editor,s=new e(n.locale),l=n.commands.get("ckbox");return s.bind("isOn","isEnabled").to(l,"value","isEnabled"),s.on("execute",()=>{n.execute("ckbox")}),s}_createFileToolbarButton(){const e=this.editor.locale.t,n=this._createButton(sr);return n.icon=cn.browseFiles,n.label=e("Open file manager"),n.tooltip=!0,n}_createImageToolbarButton(){const e=this.editor.locale.t,n=this.editor.plugins.get("ImageInsertUI"),s=this._createButton(sr);return s.icon=cn.imageAssetManager,s.bind("label").to(n,"isImageSelected",l=>e(l?"Replace image with file manager":"Insert image with file manager")),s.tooltip=!0,s}_createImageDropdownButton(){const e=this.editor.locale.t,n=this.editor.plugins.get("ImageInsertUI"),s=this._createButton(sr);return s.icon=cn.imageAssetManager,s.withText=!0,s.bind("label").to(n,"isImageSelected",l=>e(l?"Replace with file manager":"Insert with file manager")),s.on("execute",()=>{n.dropdownView.isOpen=!1}),s}_createFileMenuBarButton(){const e=this.editor.locale.t,n=this._createButton(St);return n.icon=cn.browseFiles,n.withText=!0,n.label=e("File"),n}_createImageMenuBarButton(e){const n=this.editor.locale.t,s=this.editor.locale.t,l=this._createButton(St);switch(l.icon=cn.imageAssetManager,l.withText=!0,e){case"insertOnly":l.label=n("Image");break;case"insertNested":l.label=s("With file manager")}return l}}var Vz=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],Nw=u=>{let e=0;for(let n=0;n<u.length;n++){let s=u[n];e=83*e+Vz.indexOf(s)}return e},zS=u=>{let e=u/255;return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},US=u=>{let e=Math.max(0,Math.min(1,u));return e<=.0031308?Math.trunc(12.92*e*255+.5):Math.trunc(255*(1.055*Math.pow(e,.4166666666666667)-.055)+.5)},qS=(u,e)=>(n=>n<0?-1:1)(u)*Math.pow(Math.abs(u),e),bI=class extends Error{constructor(u){super(u),this.name="ValidationError",this.message=u}},Hz=u=>{if(!u||u.length<6)throw new bI("The blurhash string must be at least 6 characters");let e=Nw(u[0]),n=Math.floor(e/9)+1,s=e%9+1;if(u.length!==4+2*s*n)throw new bI(`blurhash length mismatch: length is ${u.length} but it should be ${4+2*s*n}`)},$z=u=>{let e=u>>8&255,n=255&u;return[zS(u>>16),zS(e),zS(n)]},Wz=(u,e)=>{let n=Math.floor(u/361),s=Math.floor(u/19)%19,l=u%19;return[qS((n-9)/9,2)*e,qS((s-9)/9,2)*e,qS((l-9)/9,2)*e]},Gz=(u,e,n,s)=>{Hz(u),s|=1;let l=Nw(u[0]),f=Math.floor(l/9)+1,b=l%9+1,y=(Nw(u[1])+1)/166,S=new Array(b*f);for(let P=0;P<S.length;P++)if(P===0){let W=Nw(u.substring(2,6));S[P]=$z(W)}else{let W=Nw(u.substring(4+2*P,6+2*P));S[P]=Wz(W,y*s)}let T=4*e,B=new Uint8ClampedArray(T*n);for(let P=0;P<n;P++)for(let W=0;W<e;W++){let ee=0,ne=0,le=0;for(let tt=0;tt<f;tt++)for(let Et=0;Et<b;Et++){let Mt=Math.cos(Math.PI*W*Et/e)*Math.cos(Math.PI*P*tt/n),wn=S[Et+tt*b];ee+=wn[0]*Mt,ne+=wn[1]*Mt,le+=wn[2]*Mt}let Ce=US(ee),Me=US(ne),qe=US(le);B[4*W+0+P*T]=Ce,B[4*W+1+P*T]=Me,B[4*W+2+P*T]=qe,B[4*W+3+P*T]=255}return B};function kI(u){const e=[];let n=0;for(const l in u){const f=parseInt(l,10);isNaN(f)||(f>n&&(n=f),e.push(`${u[l]} ${l}w`))}const s=[{srcset:e.join(","),sizes:`(max-width: ${n}px) 100vw, ${n}px`,type:"image/webp"}];return{imageFallbackUrl:u.default,imageSources:s}}function VS({url:u,method:e="GET",data:n,onUploadProgress:s,signal:l,authorization:f}){const b=new XMLHttpRequest;b.open(e,u.toString()),b.setRequestHeader("Authorization",f),b.setRequestHeader("CKBox-Version","CKEditor 5"),b.responseType="json";const y=()=>{b.abort()};return new Promise((S,T)=>{l.throwIfAborted(),l.addEventListener("abort",y),b.addEventListener("loadstart",()=>{l.addEventListener("abort",y)}),b.addEventListener("loadend",()=>{l.removeEventListener("abort",y)}),b.addEventListener("error",()=>{T()}),b.addEventListener("abort",()=>{T()}),b.addEventListener("load",()=>{const B=b.response;if(!B||B.statusCode>=400)return T(B&&B.message);S(B)}),s&&b.upload.addEventListener("progress",B=>{s(B)}),b.send(n)})}const Yz={"image/gif":"gif","image/jpeg":"jpg","image/png":"png","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};class Kz extends pn{constructor(e){super(e),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return this._wrapper!==null}_checkEnabled(){const e=this.editor.commands.get("insertImage"),n=this.editor.commands.get("link");return!(!e.isEnabled&&!n.isEnabled)}_prepareOptions(){const e=this.editor.config.get("ckbox"),n=e.dialog,s=e.categories,l=e.view,f=e.upload;return{theme:e.theme,language:e.language,tokenUrl:e.tokenUrl,serviceOrigin:e.serviceOrigin,forceDemoLabel:e.forceDemoLabel,choosableFileExtensions:e.choosableFileExtensions,assets:{onChoose:b=>this.fire("ckbox:choose",b)},dialog:{onClose:()=>this.fire("ckbox:close"),width:n&&n.width,height:n&&n.height},categories:s&&{icons:s.icons},view:l&&{openLastView:l.openLastView,startupFolderId:l.startupFolderId,startupCategoryId:l.startupCategoryId,hideMaximizeButton:l.hideMaximizeButton},upload:f&&{componentsHideTimeout:f.componentsHideTimeout,dialogMinimizeTimeout:f.dialogMinimizeTimeout}}}_initListeners(){const e=this.editor,n=e.model,s=!e.config.get("ckbox.ignoreDataId"),l=e.config.get("ckbox.downloadableFiles");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{this.isEnabled&&!this.value&&(this._wrapper=fn(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null,e.editing.view.focus())}),this.on("ckbox:choose",(f,b)=>{if(!this.isEnabled)return;const y=e.commands.get("insertImage"),S=e.commands.get("link"),T=function({downloadableFilesConfig:P,assets:W,isImageAllowed:ee,isLinkAllowed:ne}){return W.map(le=>function(Ce){const Me=Ce.data.metadata;return Me?Me.width&&Me.height:!1}(le)?{id:le.data.id,type:"image",attributes:Qz(le)}:{id:le.data.id,type:"link",attributes:Zz(le,P)}).filter(le=>le.type==="image"?ee:ne)}({assets:b,downloadableFilesConfig:l,isImageAllowed:y.isEnabled,isLinkAllowed:S.isEnabled}),B=T.length;B!==0&&(n.change(P=>{for(const W of T){const ee=W===T[B-1],ne=B===1;this._insertAsset(W,ee,P,ne),s&&(setTimeout(()=>this._chosenAssets.delete(W),1e3),this._chosenAssets.add(W))}}),e.editing.view.focus())}),this.listenTo(e,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(e,n,s,l){const f=this.editor.model.document.selection;s.removeSelectionAttribute("linkHref"),e.type==="image"?this._insertImage(e):this._insertLink(e,s,l),n||s.setSelection(f.getLastPosition())}_insertImage(e){const n=this.editor,{imageFallbackUrl:s,imageSources:l,imageTextAlternative:f,imageWidth:b,imageHeight:y,imagePlaceholder:S}=e.attributes;n.execute("insertImage",{source:{src:s,sources:l,alt:f,width:b,height:y,...S?{placeholder:S}:null}})}_insertLink(e,n,s){const l=this.editor,f=l.model,b=f.document.selection,{linkName:y,linkHref:S}=e.attributes;if(b.isCollapsed){const T=ie(b.getAttributes()),B=n.createText(y,T);if(!s){const W=b.getLastPosition(),ee=W.parent;ee.name==="paragraph"&&ee.isEmpty||l.execute("insertParagraph",{position:W});const ne=f.insertContent(B);return n.setSelection(ne),void l.execute("link",S)}const P=f.insertContent(B);n.setSelection(P)}l.execute("link",S)}}function Qz(u){const{imageFallbackUrl:e,imageSources:n}=kI(u.data.imageUrls),{description:s,width:l,height:f,blurHash:b}=u.data.metadata,y=function(S){if(S)try{const T="32px",B=document.createElement("canvas");B.setAttribute("width",T),B.setAttribute("height",T);const P=B.getContext("2d");if(!P)return;const W=P.createImageData(32,32),ee=Gz(S,32,32);return W.data.set(ee),P.putImageData(W,0,0),B.toDataURL()}catch{return}}(b);return{imageFallbackUrl:e,imageSources:n,imageTextAlternative:s||"",imageWidth:l,imageHeight:f,...y?{imagePlaceholder:y}:null}}function Zz(u,e){return{linkName:u.data.name,linkHref:Jz(u,e)}}function Jz(u,e){const n=new URL(u.data.url);return function(s,l){return typeof l=="function"?l(s):!0}(u,e)&&n.searchParams.set("download","true"),n.toString()}class HS extends Vt{static get pluginName(){return"CKBoxUtils"}static get isOfficialPlugin(){return!0}static get requires(){return["CloudServices"]}init(){const e=this.editor,n=!!e.config.get("ckbox"),s=!!window.CKBox;if(!n&&!s)return;e.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",defaultUploadCategories:null,ignoreDataId:!1,language:e.locale.uiLanguage,theme:"lark",tokenUrl:e.config.get("cloudServices.tokenUrl")});const l=e.plugins.get("CloudServices"),f=e.config.get("cloudServices.tokenUrl"),b=e.config.get("ckbox.tokenUrl");if(!b)throw new U("ckbox-plugin-missing-token-url",this);this._token=b==f?Promise.resolve(l.token):l.registerTokenUrl(b)}getToken(){return this._token}async getWorkspaceId(){const e=(0,this.editor.t)("Cannot access default workspace."),n=this.editor.config.get("ckbox.defaultUploadWorkspaceId"),s=function(l,f){const[,b]=l.value.split("."),y=JSON.parse(atob(b)),S=y.auth&&y.auth.ckbox&&y.auth.ckbox.workspaces||[y.aud];return f?(y.auth&&y.auth.ckbox&&y.auth.ckbox.role)=="superadmin"||S.includes(f)?f:null:S[0]}(await this._token,n);if(s==null)throw fe("ckbox-access-default-workspace-error"),e;return s}async getCategoryIdForFile(e,n){const s=(0,this.editor.t)("Cannot determine a category for the uploaded file."),l=this.editor.config.get("ckbox.defaultUploadCategories"),f=this._getAvailableCategories(n),b=typeof e=="string"?(y=await async function(B,P){try{const W=await fetch(B,{method:"HEAD",cache:"force-cache",...P});return W.ok&&W.headers.get("content-type")||""}catch{return""}}(e,n),Yz[y]):e.name.match(/\.(?<ext>[^.]+)$/).groups.ext.toLowerCase();var y;const S=await f;if(!S)throw s;if(l){const B=Object.keys(l).find(P=>l[P].find(W=>W.toLowerCase()==b));if(B){const P=S.find(W=>W.id===B||W.name===B);if(!P)throw s;return P.id}}const T=S.find(B=>B.extensions.find(P=>P.toLowerCase()==b));if(!T)throw s;return T.id}async _getAvailableCategories(e){const n=this.editor,s=this._token,{signal:l}=e,f=n.config.get("ckbox.serviceOrigin"),b=await this.getWorkspaceId();try{const S=[];let T,B=0;do{const P=await y(B);S.push(...P.items),T=P.totalCount-(B+50),B+=50}while(T>0);return S}catch{return l.throwIfAborted(),void fe("ckbox-fetch-category-http-error")}async function y(S){const T=new URL("categories",f);return T.searchParams.set("limit",String(50)),T.searchParams.set("offset",String(S)),T.searchParams.set("workspaceId",b),VS({url:T,signal:l,authorization:(await s).value})}}}class Xz extends Vt{static get requires(){return["ImageUploadEditing","ImageUploadProgress",Gu,vI]}static get pluginName(){return"CKBoxUploadAdapter"}static get isOfficialPlugin(){return!0}async afterInit(){const e=this.editor,n=!!e.config.get("ckbox"),s=!!window.CKBox;if(!n&&!s)return;const l=e.plugins.get(Gu),f=e.plugins.get(HS);l.createUploadAdapter=S=>new eU(S,e,f);const b=!e.config.get("ckbox.ignoreDataId"),y=e.plugins.get("ImageUploadEditing");b&&y.on("uploadComplete",(S,{imageElement:T,data:B})=>{e.model.change(P=>{P.setAttribute("ckboxImageId",B.ckboxImageId,T)})})}}class eU{constructor(e,n,s){this.loader=e,this.token=s.getToken(),this.ckboxUtils=s,this.editor=n,this.controller=new AbortController,this.serviceOrigin=n.config.get("ckbox.serviceOrigin")}async upload(){const e=this.ckboxUtils,n=this.editor.t,s=await this.loader.file,l=await e.getCategoryIdForFile(s,{signal:this.controller.signal}),f=new URL("assets",this.serviceOrigin),b=new FormData;return f.searchParams.set("workspaceId",await e.getWorkspaceId()),b.append("categoryId",l),b.append("file",s),VS({method:"POST",url:f,data:b,onUploadProgress:y=>{y.lengthComputable&&(this.loader.uploadTotal=y.total,this.loader.uploaded=y.loaded)},signal:this.controller.signal,authorization:(await this.token).value}).then(async y=>{const S=kI(y.imageUrls);return{ckboxImageId:y.id,default:S.imageFallbackUrl,sources:S.imageSources}}).catch(()=>{const y=n("Cannot upload file:")+` ${s.name}.`;return Promise.reject(y)})}abort(){this.controller.abort()}}const wI="NoPermission";class vI extends Vt{static get pluginName(){return"CKBoxEditing"}static get isOfficialPlugin(){return!0}static get requires(){return["LinkEditing","PictureEditing",Xz,HS]}init(){const e=this.editor;this._shouldBeInitialised()&&(this._checkImagePlugins(),AI()&&e.commands.add("ckbox",new Kz(e)),async function(n){const s=n.plugins.get(HS),l=n.config.get("ckbox.serviceOrigin"),f=new URL("permissions",l),{value:b}=await s.getToken(),y=await VS({url:f,authorization:b,signal:new AbortController().signal});return Object.values(y).some(S=>S["asset:create"])}(e).then(n=>{n||this._blockImageCommands()}))}afterInit(){const e=this.editor;this._shouldBeInitialised()&&(e.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()))}_shouldBeInitialised(){return!!this.editor.config.get("ckbox")||AI()}_blockImageCommands(){const e=this.editor,n=e.commands.get("uploadImage"),s=e.commands.get("ckboxImageEdit");n&&(n.isAccessAllowed=!1,n.forceDisabled(wI)),s&&s.forceDisabled(wI)}_checkImagePlugins(){const e=this.editor;e.plugins.has("ImageBlockEditing")||e.plugins.has("ImageInlineEditing")||fe("ckbox-plugin-image-feature-missing",e)}_initSchema(){const e=this.editor.model.schema;e.extend("$text",{allowAttributes:"ckboxLinkId"}),e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.addAttributeCheck(n=>{if(!n.last.getAttribute("linkHref"))return!1},"ckboxLinkId")}_initConversion(){const e=this.editor;e.conversion.for("downcast").add(s=>{s.on("attribute:ckboxLinkId:imageBlock",(l,f,b)=>{const{writer:y,mapper:S,consumable:T}=b;if(!T.consume(f.item,l.name))return;const B=[...S.toViewElement(f.item).getChildren()].find(P=>P.name==="a");B&&(f.item.hasAttribute("ckboxLinkId")?y.setAttribute("data-ckbox-resource-id",f.item.getAttribute("ckboxLinkId"),B):y.removeAttribute("data-ckbox-resource-id",B))},{priority:"low"}),s.on("attribute:ckboxLinkId",(l,f,b)=>{const{writer:y,mapper:S,consumable:T}=b;if(T.consume(f.item,l.name)){if(f.attributeOldValue){const B=yI(y,f.attributeOldValue);y.unwrap(S.toViewRange(f.range),B)}if(f.attributeNewValue){const B=yI(y,f.attributeNewValue);if(f.item.is("selection")){const P=y.document.selection;y.wrap(P.getFirstRange(),B)}else y.wrap(S.toViewRange(f.range),B)}}},{priority:"low"})}),e.conversion.for("upcast").add(s=>{s.on("element:a",(l,f,b)=>{const{writer:y,consumable:S}=b;if(!f.viewItem.getAttribute("href")||!S.consume(f.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const T=f.viewItem.getAttribute("data-ckbox-resource-id");if(T)if(f.modelRange)for(let B of f.modelRange.getItems())B.is("$textProxy")&&(B=B.textNode),nU(B)&&y.setAttribute("ckboxLinkId",T,B);else{const B=f.modelCursor.nodeBefore||f.modelCursor.parent;y.setAttribute("ckboxLinkId",T,B)}},{priority:"low"})}),e.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),e.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:s=>s.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}});const n=e.commands.get("replaceImageSource");n&&this.listenTo(n,"cleanupImage",(s,[l,f])=>{l.removeAttribute("ckboxImageId",f)})}_initFixers(){const e=this.editor,n=e.model,s=n.document.selection;n.document.registerPostFixer(function(l){return f=>{let b=!1;const y=l.model,S=l.commands.get("ckbox");if(!S)return b;for(const T of y.document.differ.getChanges()){if(T.type!=="insert"&&T.type!=="attribute")continue;const B=T.type==="insert"?new ut(T.position,T.position.getShiftedBy(T.length)):T.range,P=T.type==="attribute"&&T.attributeKey==="linkHref"&&T.attributeNewValue===null;for(const W of B.getItems()){if(P&&W.hasAttribute("ckboxLinkId")){f.removeAttribute("ckboxLinkId",W),b=!0;continue}const ee=tU(W,S._chosenAssets);for(const ne of ee){const le=ne.type==="image"?"ckboxImageId":"ckboxLinkId";ne.id!==W.getAttribute(le)&&(f.setAttribute(le,ne.id,W),b=!0)}}}return b}}(e)),n.document.registerPostFixer(function(l){return f=>!(l.hasAttribute("linkHref")||!l.hasAttribute("ckboxLinkId"))&&(f.removeSelectionAttribute("ckboxLinkId"),!0)}(s))}}function tU(u,e){const n=u.is("element","imageInline")||u.is("element","imageBlock"),s=u.hasAttribute("linkHref");return[...e].filter(l=>l.type==="image"&&n?l.attributes.imageFallbackUrl===u.getAttribute("src"):l.type==="link"&&s?l.attributes.linkHref===u.getAttribute("linkHref"):void 0)}function yI(u,e){const n=u.createAttributeElement("a",{"data-ckbox-resource-id":e},{priority:5});return u.setCustomProperty("link",!0,n),n}function nU(u){return!!u.is("$text")||!(!u.is("element","imageInline")&&!u.is("element","imageBlock"))}function AI(){return!!window.CKBox}class rU extends Vt{static get pluginName(){return"CKBox"}static get isOfficialPlugin(){return!0}static get requires(){return[vI,qz]}}var O2=a(1866),Ow={attributes:{"data-cke":!0}};Ow.setAttributes=zt(),Ow.insert=Rt().bind(null,"head"),Ow.domAPI=Ut(),Ow.insertStyleElement=Nt(),Dt()(O2.A,Ow),O2.A&&O2.A.locals&&O2.A.locals;class iU extends Vt{static get pluginName(){return"CKFinderUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.ui.componentFactory.add("ckfinder",()=>this._createFileToolbarButton()),e.ui.componentFactory.add("menuBar:ckfinder",()=>this._createFileMenuBarButton()),e.plugins.has("ImageInsertUI")&&e.plugins.get("ImageInsertUI").registerIntegration({name:"assetManager",observable:()=>e.commands.get("ckfinder"),buttonViewCreator:()=>this._createImageToolbarButton(),formViewCreator:()=>this._createImageDropdownButton(),menuBarButtonViewCreator:n=>this._createImageMenuBarButton(n?"insertOnly":"insertNested")})}_createButton(e){const n=this.editor,s=new e(n.locale),l=n.commands.get("ckfinder");return s.bind("isEnabled").to(l),s.on("execute",()=>{n.execute("ckfinder"),n.editing.view.focus()}),s}_createFileToolbarButton(){const e=this.editor.locale.t,n=this._createButton(sr);return n.icon=cn.browseFiles,n.label=e("Insert image or file"),n.tooltip=!0,n}_createImageToolbarButton(){const e=this.editor.locale.t,n=this.editor.plugins.get("ImageInsertUI"),s=this._createButton(sr);return s.icon=cn.imageAssetManager,s.bind("label").to(n,"isImageSelected",l=>e(l?"Replace image with file manager":"Insert image with file manager")),s.tooltip=!0,s}_createImageDropdownButton(){const e=this.editor.locale.t,n=this.editor.plugins.get("ImageInsertUI"),s=this._createButton(sr);return s.icon=cn.imageAssetManager,s.withText=!0,s.bind("label").to(n,"isImageSelected",l=>e(l?"Replace with file manager":"Insert with file manager")),s.on("execute",()=>{n.dropdownView.isOpen=!1}),s}_createFileMenuBarButton(){const e=this.editor.locale.t,n=this._createButton(St);return n.icon=cn.browseFiles,n.withText=!0,n.label=e("File"),n}_createImageMenuBarButton(e){const n=this.editor.locale.t,s=this.editor.locale.t,l=this._createButton(St);switch(l.icon=cn.imageAssetManager,l.withText=!0,e){case"insertOnly":l.label=n("Image");break;case"insertNested":l.label=s("With file manager")}return l}}class oU extends pn{constructor(e){super(e),this.affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const e=this.editor.commands.get("insertImage"),n=this.editor.commands.get("link");this.isEnabled=e.isEnabled||n.isEnabled}execute(){const e=this.editor,n=this.editor.config.get("ckfinder.openerMethod")||"modal";if(n!="popup"&&n!="modal")throw new U("ckfinder-unknown-openermethod",e);const s=this.editor.config.get("ckfinder.options")||{};s.chooseFiles=!0;const l=s.onInit;s.language||(s.language=e.locale.uiLanguage),s.onInit=f=>{l&&l(f),f.on("files:choose",b=>{const y=b.data.files.toArray(),S=y.filter(P=>!P.isImage()),T=y.filter(P=>P.isImage());for(const P of S)e.execute("link",P.getUrl());const B=[];for(const P of T){const W=P.getUrl();B.push(W||f.request("file:getProxyUrl",{file:P}))}B.length&&_I(e,B)}),f.on("file:choose:resizedImage",b=>{const y=b.data.resizedUrl;if(y)_I(e,[y]);else{const S=e.plugins.get("Notification"),T=e.locale.t;S.showWarning(T("Could not obtain resized image URL."),{title:T("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[n](s)}}function _I(u,e){if(u.commands.get("insertImage").isEnabled)u.execute("insertImage",{source:e});else{const n=u.plugins.get("Notification"),s=u.locale.t;n.showWarning(s("Could not insert image at the current position."),{title:s("Inserting image failed"),namespace:"ckfinder"})}}class sU extends Vt{static get pluginName(){return"CKFinderEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[OS,"LinkEditing"]}init(){const e=this.editor;if(!e.plugins.has("ImageBlockEditing")&&!e.plugins.has("ImageInlineEditing"))throw new U("ckfinder-missing-image-plugin",e);e.commands.add("ckfinder",new oU(e))}}class aU extends Vt{static get pluginName(){return"CKFinder"}static get isOfficialPlugin(){return!0}static get requires(){return["Link","CKFinderUploadAdapter",sU,iU]}}class lU extends Vt{static get pluginName(){return"CloudServicesUploadAdapter"}static get isOfficialPlugin(){return!0}static get requires(){return["CloudServices",Gu]}init(){const e=this.editor,n=e.plugins.get("CloudServices"),s=n.token,l=n.uploadUrl;if(!s)return;const f=e.plugins.get("CloudServicesCore");this._uploadGateway=f.createUploadGateway(s,l),e.plugins.get(Gu).createUploadAdapter=b=>new cU(this._uploadGateway,b)}}class cU{constructor(e,n){this.uploadGateway=e,this.loader=n}upload(){return this.loader.file.then(e=>(this.fileUploader=this.uploadGateway.upload(e),this.fileUploader.on("progress",(n,s)=>{this.loader.uploadTotal=s.total,this.loader.uploaded=s.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class uU extends Vt{static get pluginName(){return"EasyImage"}static get isOfficialPlugin(){return!0}static get requires(){return[lU,"ImageUpload"]}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")||e.plugins.has("ImageInlineEditing")||q("easy-image-image-feature-missing",e)}}class dU extends pn{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,n=Po(e.document.selection.getSelectedBlocks());this.value=!!n&&n.is("element","paragraph"),this.isEnabled=!!n&&CI(n,e.schema)}execute(e={}){const n=this.editor.model,s=n.document,l=e.selection||s.selection;n.canEditAt(l)&&n.change(f=>{const b=l.getSelectedBlocks();for(const y of b)!y.is("element","paragraph")&&CI(y,n.schema)&&f.rename(y,"paragraph")})}}function CI(u,e){return e.checkChild(u.parent,"paragraph")&&!e.isObject(u)}class hU extends pn{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const n=this.editor.model,s=e.attributes;let l=e.position;return n.canEditAt(l)?n.change(f=>{if(l=this._findPositionToInsertParagraph(l,f),!l)return null;const b=f.createElement("paragraph");return s&&n.schema.setAllowedAttributes(b,s,f),n.insertContent(b,l),f.setSelection(b,"in"),f.createPositionAt(b,0)}):null}_findPositionToInsertParagraph(e,n){const s=this.editor.model;if(s.schema.checkChild(e,"paragraph"))return e;const l=s.schema.findAllowedParent(e,"paragraph");if(!l)return null;const f=e.parent,b=s.schema.checkChild(f,"$text");return f.isEmpty||b&&e.isAtEnd?s.createPositionAfter(f):!f.isEmpty&&b&&e.isAtStart?s.createPositionBefore(f):n.split(e,l).position}}const MC=class MC extends Vt{static get pluginName(){return"Paragraph"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,n=e.model;e.commands.add("paragraph",new dU(e)),e.commands.add("insertParagraph",new hU(e)),n.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:(s,{writer:l})=>MC.paragraphLikeElements.has(s.name)?s.isEmpty?null:l.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};MC.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);let B2=MC;class fU extends pn{constructor(e,n){super(e),this.modelElements=n}refresh(){const e=Po(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(n=>xI(e,n,this.editor.model.schema))}execute(e){const n=this.editor.model,s=n.document,l=e.value;n.change(f=>{const b=Array.from(s.selection.getSelectedBlocks()).filter(y=>xI(y,l,n.schema));for(const y of b)y.is("element",l)||f.rename(y,l)})}}function xI(u,e,n){return n.checkChild(u.parent,e)&&!n.isObject(u)}const SI="paragraph";class pU extends Vt{static get pluginName(){return"HeadingEditing"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[B2]}init(){const e=this.editor,n=e.config.get("heading.options"),s=[];for(const l of n)l.model!=="paragraph"&&(e.model.schema.register(l.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(l),s.push(l.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new fU(e,s))}afterInit(){const e=this.editor,n=e.commands.get("enter"),s=e.config.get("heading.options");n&&this.listenTo(n,"afterExecute",(l,f)=>{const b=e.model.document.selection.getFirstPosition().parent;s.some(y=>b.is("element",y.model))&&!b.is("element",SI)&&b.childCount===0&&f.writer.rename(b,SI)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:X.low+1})}}var j2=a(6269),Bw={attributes:{"data-cke":!0}};Bw.setAttributes=zt(),Bw.insert=Rt().bind(null,"head"),Bw.domAPI=Ut(),Bw.insertStyleElement=Nt(),Dt()(j2.A,Bw),j2.A&&j2.A.locals&&j2.A.locals;class mU extends Vt{static get pluginName(){return"HeadingUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,n=e.t,s=function(b){const y=b.t,S={Paragraph:y("Paragraph"),"Heading 1":y("Heading 1"),"Heading 2":y("Heading 2"),"Heading 3":y("Heading 3"),"Heading 4":y("Heading 4"),"Heading 5":y("Heading 5"),"Heading 6":y("Heading 6")};return b.config.get("heading.options").map(T=>{const B=S[T.title];return B&&B!=T.title&&(T.title=B),T})}(e),l=n("Choose heading"),f=n("Heading");e.ui.componentFactory.add("heading",b=>{const y={},S=new Co,T=e.commands.get("heading"),B=e.commands.get("paragraph"),P=[T];for(const ee of s){const ne={type:"button",model:new f6({label:ee.title,class:ee.class,role:"menuitemradio",withText:!0})};ee.model==="paragraph"?(ne.model.bind("isOn").to(B,"value"),ne.model.set("commandName","paragraph"),P.push(B)):(ne.model.bind("isOn").to(T,"value",le=>le===ee.model),ne.model.set({commandName:"heading",commandValue:ee.model})),S.add(ne),y[ee.model]=ee.title}const W=fm(b);return ZD(W,S,{ariaLabel:f,role:"menu"}),W.buttonView.set({ariaLabel:f,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:f}),W.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),W.bind("isEnabled").toMany(P,"isEnabled",(...ee)=>ee.some(ne=>ne)),W.buttonView.bind("label").to(T,"value",B,"value",(ee,ne)=>{const le=ne?"paragraph":ee;return typeof le=="boolean"?l:y[le]?y[le]:l}),W.buttonView.bind("ariaLabel").to(T,"value",B,"value",(ee,ne)=>{const le=ne?"paragraph":ee;return typeof le=="boolean"?f:y[le]?`${y[le]}, ${f}`:f}),this.listenTo(W,"execute",ee=>{const{commandName:ne,commandValue:le}=ee.source;e.execute(ne,le?{value:le}:void 0),e.editing.view.focus()}),W}),e.ui.componentFactory.add("menuBar:heading",b=>{const y=new mm(b),S=e.commands.get("heading"),T=e.commands.get("paragraph"),B=[S],P=new p2(b);y.set({class:"ck-heading-dropdown"}),P.set({ariaLabel:n("Heading"),role:"menu"}),y.buttonView.set({label:n("Heading")}),y.panelView.children.add(P);for(const W of s){const ee=new X_(b,y),ne=new St(b);ee.children.add(ne),P.items.add(ee),ne.set({isToggleable:!0,label:W.title,role:"menuitemradio",class:W.class}),ne.delegate("execute").to(y),ne.on("execute",()=>{const le=W.model==="paragraph"?"paragraph":"heading";e.execute(le,{value:W.model}),e.editing.view.focus()}),W.model==="paragraph"?(ne.bind("isOn").to(T,"value"),B.push(T)):ne.bind("isOn").to(S,"value",le=>le===W.model)}return y.bind("isEnabled").toMany(B,"isEnabled",(...W)=>W.some(ee=>ee)),y})}}class gU extends Vt{static get requires(){return[pU,mU]}static get pluginName(){return"Heading"}static get isOfficialPlugin(){return!0}}function EI(u){return u.createContainerElement("figure",{class:"image"},[u.createEmptyElement("img"),u.createSlot("children")])}function DI(u,e){const n=u.plugins.get("ImageUtils"),s=u.plugins.has("ImageInlineEditing")&&u.plugins.has("ImageBlockEditing");return f=>n.isInlineImageView(f)?s&&(f.getStyle("display")=="block"||f.findAncestor(n.isBlockImageView)?"imageBlock":"imageInline")!==e?null:l(f):null;function l(f){const b={name:!0};return f.hasAttribute("src")&&(b.attributes=["src"]),b}}function $S(u,e){const n=Po(e.getSelectedBlocks());return!n||u.isObject(n)||n.isEmpty&&n.name!="listItem"?"imageBlock":"imageInline"}function L2(u){return u&&u.endsWith("px")?parseInt(u):null}function II(u){const e=L2(u.getStyle("width")),n=L2(u.getStyle("height"));return!(!e||!n)}const bU=/^(image|image-inline)$/;class Al extends Vt{constructor(){super(...arguments),this._domEmitter=new(jo())}static get pluginName(){return"ImageUtils"}static get isOfficialPlugin(){return!0}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},n=null,s=null,l={}){const f=this.editor,b=f.model,y=b.document.selection,S=TI(f,n||y,s);e={...Object.fromEntries(y.getAttributes()),...e};for(const T in e)b.schema.checkAttribute(S,T)||delete e[T];return b.change(T=>{const{setImageSizes:B=!0}=l,P=T.createElement(S,e);return b.insertObject(P,n,null,{setSelection:"on",findOptimalPosition:n||S=="imageInline"?void 0:"auto"}),P.parent?(B&&this.setImageNaturalSizeAttributes(P),P):null})}setImageNaturalSizeAttributes(e){const n=e.getAttribute("src");n&&(e.getAttribute("width")||e.getAttribute("height")||this.editor.model.change(s=>{const l=new p.window.Image;this._domEmitter.listenTo(l,"load",()=>{e.getAttribute("width")||e.getAttribute("height")||this.editor.model.enqueueChange(s.batch,f=>{f.setAttribute("width",l.naturalWidth,e),f.setAttribute("height",l.naturalHeight,e)}),this._domEmitter.stopListening(l,"load")}),l.src=n}))}getClosestSelectedImageWidget(e){const n=e.getFirstPosition();if(!n)return null;const s=e.getSelectedElement();if(s&&this.isImageWidget(s))return s;let l=n.parent;for(;l;){if(l.is("element")&&this.isImageWidget(l))return l;l=l.parent}return null}getClosestSelectedImageElement(e){const n=e.getSelectedElement();return this.isImage(n)?n:e.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(e){return e.findAncestor({classes:bU})}isImageAllowed(){const e=this.editor.model.document.selection;return function(n,s){if(TI(n,s,null)=="imageBlock"){const f=function(b,y){const S=G6(b,y),T=S.start.parent;return T.isEmpty&&!T.is("element","$root")?T.parent:T}(s,n.model);if(n.model.schema.checkChild(f,"imageBlock"))return!0}else if(n.model.schema.checkChild(s.focus,"imageInline"))return!0;return!1}(this.editor,e)&&function(n){return[...n.focus.getAncestors()].every(s=>!s.is("element","imageBlock"))}(e)}toImageWidget(e,n,s){return n.setCustomProperty("image",!0,e),LS(e,n,{label:()=>{const l=this.findViewImgElement(e).getAttribute("alt");return l?`${l} ${s}`:s}})}isImageWidget(e){return!!e.getCustomProperty("image")&&Vo(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const n=this.editor.editing.view;for(const{item:s}of n.createRangeIn(e))if(this.isInlineImageView(s))return s}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function TI(u,e,n){const s=u.model.schema,l=u.config.get("image.insert.type");return u.plugins.has("ImageBlockEditing")?u.plugins.has("ImageInlineEditing")?n||(l==="inline"?"imageInline":l!=="auto"?"imageBlock":e.is("selection")?$S(s,e):s.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class kU extends pn{refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled&&e.hasAttribute("alt")?this.value=e.getAttribute("alt"):this.value=!1}execute(e){const n=this.editor,s=n.plugins.get("ImageUtils"),l=n.model,f=s.getClosestSelectedImageElement(l.document.selection);l.change(b=>{b.setAttribute("alt",e.newValue,f)})}}class wU extends Vt{static get requires(){return[Al]}static get pluginName(){return"ImageTextAlternativeEditing"}static get isOfficialPlugin(){return!0}init(){this.editor.commands.add("imageTextAlternative",new kU(this.editor))}}var P2=a(4062),jw={attributes:{"data-cke":!0}};jw.setAttributes=zt(),jw.insert=Rt().bind(null,"head"),jw.domAPI=Ut(),jw.insertStyleElement=Nt(),Dt()(P2.A,jw),P2.A&&P2.A.locals&&P2.A.locals;var R2=a(2722),Lw={attributes:{"data-cke":!0}};Lw.setAttributes=zt(),Lw.insert=Rt().bind(null,"head"),Lw.domAPI=Ut(),Lw.insertStyleElement=Nt(),Dt()(R2.A,Lw),R2.A&&R2.A.locals&&R2.A.locals;class vU extends un{constructor(e){super(e);const n=this.locale.t;this.focusTracker=new Ji,this.keystrokes=new Q,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(n("Save"),cn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(n("Cancel"),cn.cancel,"ck-button-cancel","cancel"),this._focusables=new rt,this._focusCycler=new _a({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),ri({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,n,s,l){const f=new sr(this.locale);return f.set({label:e,icon:n,tooltip:!0}),f.extendTemplate({attributes:{class:s}}),l&&f.delegate("execute").to(this,l),f}_createLabeledInputView(){const e=this.locale.t,n=new D_(this.locale,G_);return n.label=e("Text alternative"),n}}function MI(u){const e=u.editing.view,n=Gf.defaultPositions,s=u.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(s.getClosestSelectedImageWidget(e.document.selection)),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast,n.viewportStickyNorth]}}class yU extends Vt{static get requires(){return[i2]}static get pluginName(){return"ImageTextAlternativeUI"}static get isOfficialPlugin(){return!0}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,n=e.t;e.ui.componentFactory.add("imageTextAlternative",s=>{const l=e.commands.get("imageTextAlternative"),f=new sr(s);return f.set({label:n("Change image text alternative"),icon:cn.textAlternative,tooltip:!0}),f.bind("isEnabled").to(l,"isEnabled"),f.bind("isOn").to(l,"value",b=>!!b),this.listenTo(f,"execute",()=>{this._showForm()}),f})}_createForm(){const e=this.editor,n=e.editing.view.document,s=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(Yl(vU))(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(l,f)=>{this._hideForm(!0),f()}),this.listenTo(e.ui,"update",()=>{s.getClosestSelectedImageWidget(n.selection)?this._isVisible&&function(l){const f=l.plugins.get("ContextualBalloon");if(l.plugins.get("ImageUtils").getClosestSelectedImageWidget(l.editing.view.document.selection)){const b=MI(l);f.updatePosition(b)}}(e):this._hideForm(!0)}),Gl({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,n=e.commands.get("imageTextAlternative"),s=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:MI(e)}),s.fieldView.value=s.fieldView.element.value=n.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class NI extends Vt{static get requires(){return[wU,yU]}static get pluginName(){return"ImageTextAlternative"}static get isOfficialPlugin(){return!0}}function OI(u,e){const n=(s,l,f)=>{if(!f.consumable.consume(l.item,s.name))return;const b=f.writer,y=f.mapper.toViewElement(l.item),S=u.findViewImgElement(y);l.attributeNewValue===null?(b.removeAttribute("srcset",S),b.removeAttribute("sizes",S)):l.attributeNewValue&&(b.setAttribute("srcset",l.attributeNewValue,S),b.setAttribute("sizes","100vw",S))};return s=>{s.on(`attribute:srcset:${e}`,n)}}function F2(u,e,n){const s=(l,f,b)=>{if(!b.consumable.consume(f.item,l.name))return;const y=b.writer,S=b.mapper.toViewElement(f.item),T=u.findViewImgElement(S);y.setAttribute(f.attributeKey,f.attributeNewValue||"",T)};return l=>{l.on(`attribute:${n}:${e}`,s)}}class BI extends Wa{observe(e){this.listenTo(e,"load",(n,s)=>{const l=s.target;this.checkShouldIgnoreEventFromTarget(l)||l.tagName=="IMG"&&this._fireEvents(s)},{useCapture:!0})}stopObserving(e){this.stopListening(e)}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}class AU extends pn{constructor(e){super(e);const n=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||n==="block"&&q("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||n==="inline"&&q("image-inline-plugin-required")}refresh(){const e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}execute(e){const n=or(e.source),s=this.editor.model.document.selection,l=this.editor.plugins.get("ImageUtils"),f=Object.fromEntries(s.getAttributes());n.forEach((b,y)=>{const S=s.getSelectedElement();if(typeof b=="string"&&(b={src:b}),y&&S&&l.isImage(S)){const T=this.editor.model.createPositionAfter(S);l.insertImage({...b,...f},T,e.imageType)}else e.breakBlock?l.insertImage({...b,...f},s.getFirstPosition(),e.imageType):l.insertImage({...b,...f},null,e.imageType)})}}class _U extends pn{constructor(e){super(e),this.decorate("cleanupImage")}refresh(){const e=this.editor.plugins.get("ImageUtils"),n=this.editor.model.document.selection.getSelectedElement();this.isEnabled=e.isImage(n),this.value=this.isEnabled?n.getAttribute("src"):null}execute(e){const n=this.editor.model.document.selection.getSelectedElement(),s=this.editor.plugins.get("ImageUtils");this.editor.model.change(l=>{l.setAttribute("src",e.source,n),this.cleanupImage(l,n),s.setImageNaturalSizeAttributes(n)})}cleanupImage(e,n){e.removeAttribute("srcset",n),e.removeAttribute("sizes",n),e.removeAttribute("sources",n),e.removeAttribute("width",n),e.removeAttribute("height",n),e.removeAttribute("alt",n)}}class WS extends Vt{static get requires(){return[Al]}static get pluginName(){return"ImageEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,n=e.conversion;e.editing.view.addObserver(BI),n.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const s=new AU(e),l=new _U(e);e.commands.add("insertImage",s),e.commands.add("replaceImageSource",l),e.commands.add("imageInsert",s)}}class jI extends Vt{static get requires(){return[Al]}static get pluginName(){return"ImageSizeAttributes"}static get isOfficialPlugin(){return!0}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(e){const n=this.editor,s=n.plugins.get("ImageUtils"),l=e==="imageBlock"?"figure":"img";function f(b,y,S,T,B=!1){b.on(`attribute:${y}:${e}`,(P,W,ee)=>{if(!ee.consumable.consume(W.item,P.name))return;const ne=ee.writer,le=ee.mapper.toViewElement(W.item),Ce=s.findViewImgElement(le);W.attributeNewValue!==null?ne.setAttribute(S,W.attributeNewValue,Ce):ne.removeAttribute(S,Ce);const Me=W.item.getAttribute("width"),qe=W.item.getAttribute("height"),tt=Me&&qe;if(tt&&B&&ne.setAttribute("loading","lazy",Ce),W.item.hasAttribute("sources"))return;const Et=W.item.hasAttribute("resizedWidth");(e!=="imageInline"||Et||T)&&tt&&ne.setStyle("aspect-ratio",`${Me}/${qe}`,Ce)})}n.conversion.for("upcast").attributeToAttribute({view:{name:l,styles:{width:/.+/}},model:{key:"width",value:b=>II(b)?L2(b.getStyle("width")):null}}).attributeToAttribute({view:{name:l,key:"width"},model:"width"}).attributeToAttribute({view:{name:l,styles:{height:/.+/}},model:{key:"height",value:b=>II(b)?L2(b.getStyle("height")):null}}).attributeToAttribute({view:{name:l,key:"height"},model:"height"}),n.conversion.for("editingDowncast").add(b=>{f(b,"width","width",!0,!0),f(b,"height","height",!0,!0)}),n.conversion.for("dataDowncast").add(b=>{f(b,"width","width",!1),f(b,"height","height",!1)})}}class LI extends pn{constructor(e,n){super(e),this._modelElementName=n}refresh(){const e=this.editor.plugins.get("ImageUtils"),n=e.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=e.isInlineImage(n):this.isEnabled=e.isBlockImage(n)}execute(e={}){const n=this.editor,s=this.editor.model,l=n.plugins.get("ImageUtils"),f=l.getClosestSelectedImageElement(s.document.selection),b=Object.fromEntries(f.getAttributes());return b.src||b.uploadId?s.change(y=>{const{setImageSizes:S=!0}=e,T=Array.from(s.markers).filter(W=>W.getRange().containsItem(f)),B=l.insertImage(b,s.createSelection(f,"on"),this._modelElementName,{setImageSizes:S});if(!B)return null;const P=y.createRangeOn(B);for(const W of T){const ee=W.getRange(),ne=ee.root.rootName!="$graveyard"?ee.getJoined(P,!0):P;y.updateMarker(W,{range:ne})}return{oldElement:f,newElement:B}}):null}}var z2=a(7378),Pw={attributes:{"data-cke":!0}};Pw.setAttributes=zt(),Pw.insert=Rt().bind(null,"head"),Pw.domAPI=Ut(),Pw.insertStyleElement=Nt(),Dt()(z2.A,Pw),z2.A&&z2.A.locals&&z2.A.locals;class PI extends Vt{static get requires(){return[Al]}static get pluginName(){return"ImagePlaceholder"}static get isOfficialPlugin(){return!0}afterInit(){this._setupSchema(),this._setupConversion(),this._setupLoadListener()}_setupSchema(){const e=this.editor.model.schema;e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["placeholder"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["placeholder"]})}_setupConversion(){const e=this.editor,n=e.conversion,s=e.plugins.get("ImageUtils");n.for("editingDowncast").add(l=>{l.on("attribute:placeholder",(f,b,y)=>{if(!y.consumable.test(b.item,f.name)||!b.item.is("element","imageBlock")&&!b.item.is("element","imageInline"))return;y.consumable.consume(b.item,f.name);const S=y.writer,T=y.mapper.toViewElement(b.item),B=s.findViewImgElement(T);b.attributeNewValue?(S.addClass("image_placeholder",B),S.setStyle("background-image",`url(${b.attributeNewValue})`,B),S.setCustomProperty("editingPipeline:doNotReuseOnce",!0,B)):(S.removeClass("image_placeholder",B),S.removeStyle("background-image",B))})})}_setupLoadListener(){const e=this.editor,n=e.model,s=e.editing,l=s.view,f=e.plugins.get("ImageUtils");l.addObserver(BI),this.listenTo(l.document,"imageLoaded",(b,y)=>{const S=l.domConverter.mapDomToView(y.target);if(!S)return;const T=f.getImageWidgetFromImageView(S);if(!T)return;const B=s.mapper.toModelElement(T);B&&B.hasAttribute("placeholder")&&n.enqueueChange({isUndoable:!1},P=>{P.removeAttribute("placeholder",B)})})}}class RI extends Vt{static get requires(){return[WS,jI,Al,PI,$u]}static get pluginName(){return"ImageBlockEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new LI(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,n=e.t,s=e.conversion,l=e.plugins.get("ImageUtils");s.for("dataDowncast").elementToStructure({model:"imageBlock",view:(f,{writer:b})=>EI(b)}),s.for("editingDowncast").elementToStructure({model:"imageBlock",view:(f,{writer:b})=>l.toImageWidget(EI(b),b,n("image widget"))}),s.for("downcast").add(F2(l,"imageBlock","src")).add(F2(l,"imageBlock","alt")).add(OI(l,"imageBlock")),s.for("upcast").elementToElement({view:DI(e,"imageBlock"),model:(f,{writer:b})=>b.createElement("imageBlock",f.hasAttribute("src")?{src:f.getAttribute("src")}:void 0)}).add(function(f){const b=(y,S,T)=>{if(!T.consumable.test(S.viewItem,{name:!0,classes:"image"}))return;const B=f.findViewImgElement(S.viewItem);if(!B||!T.consumable.test(B,{name:!0}))return;T.consumable.consume(S.viewItem,{name:!0,classes:"image"});const P=Po(T.convertItem(B,S.modelCursor).modelRange.getItems());P?(T.convertChildren(S.viewItem,P),T.updateConversionResult(P,S)):T.consumable.revert(S.viewItem,{name:!0,classes:"image"})};return y=>{y.on("element:figure",b)}}(l))}_setupClipboardIntegration(){const e=this.editor,n=e.model,s=e.editing.view,l=e.plugins.get("ImageUtils"),f=e.plugins.get("ClipboardPipeline");this.listenTo(f,"inputTransformation",(b,y)=>{const S=Array.from(y.content.getChildren());let T;if(!S.every(l.isInlineImageView))return;T=y.targetRanges?e.editing.mapper.toModelRange(y.targetRanges[0]):n.document.selection.getFirstRange();const B=n.createSelection(T);if($S(n.schema,B)==="imageBlock"){const P=new rc(s.document),W=S.map(ee=>P.createElement("figure",{class:"image"},ee));y.content=P.createDocumentFragment(W)}}),this.listenTo(f,"contentInsertion",(b,y)=>{y.method==="paste"&&n.change(S=>{const T=S.createRangeIn(y.content);for(const B of T.getItems())B.is("element","imageBlock")&&l.setImageNaturalSizeAttributes(B)})})}}var U2=a(3350),Rw={attributes:{"data-cke":!0}};Rw.setAttributes=zt(),Rw.insert=Rt().bind(null,"head"),Rw.domAPI=Ut(),Rw.insertStyleElement=Nt(),Dt()(U2.A,Rw),U2.A&&U2.A.locals&&U2.A.locals;class CU extends un{constructor(e,n=[]){super(e),this.focusTracker=new Ji,this.keystrokes=new Q,this._focusables=new rt,this.children=this.createCollection(),this._focusCycler=new _a({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});for(const s of n)this.children.add(s),this._focusables.add(s),s instanceof D9&&this._focusables.addMany(s.children);this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:-1},children:this.children})}render(){super.render(),ri({view:this});for(const n of this._focusables)this.focusTracker.add(n.element);this.keystrokes.listenTo(this.element);const e=n=>n.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}class FI extends Vt{constructor(e){super(e),this._integrations=new Map,e.config.define("image.insert.integrations",["upload","assetManager","url"])}static get pluginName(){return"ImageInsertUI"}static get isOfficialPlugin(){return!0}static get requires(){return[Al]}init(){const e=this.editor,n=e.model.document.selection,s=e.plugins.get("ImageUtils");this.set("isImageSelected",!1),this.listenTo(e.model.document,"change",()=>{this.isImageSelected=s.isImage(n.getSelectedElement())});const l=f=>this._createToolbarComponent(f);e.ui.componentFactory.add("insertImage",l),e.ui.componentFactory.add("imageInsert",l),e.ui.componentFactory.add("menuBar:insertImage",f=>this._createMenuBarComponent(f))}registerIntegration({name:e,observable:n,buttonViewCreator:s,formViewCreator:l,menuBarButtonViewCreator:f,requiresForm:b=!1,override:y=!1}){this._integrations.has(e)&&!y&&q("image-insert-integration-exists",{name:e}),this._integrations.set(e,{observable:n,buttonViewCreator:s,menuBarButtonViewCreator:f,formViewCreator:l,requiresForm:b})}_createToolbarComponent(e){const n=this.editor,s=e.t,l=this._prepareIntegrations();if(!l.length)return null;let f;const b=l[0];if(l.length==1){if(!b.requiresForm)return b.buttonViewCreator(!0);f=b.buttonViewCreator(!0)}else{const T=b.buttonViewCreator(!1);f=new H_(e,T),f.tooltip=!0,f.bind("label").to(this,"isImageSelected",B=>s(B?"Replace image":"Insert image"))}const y=this.dropdownView=fm(e,f),S=l.map(({observable:T})=>typeof T=="function"?T():T);return y.bind("isEnabled").toMany(S,"isEnabled",(...T)=>T.some(B=>B)),y.once("change:isOpen",()=>{const T=l.flatMap(({formViewCreator:P})=>P(l.length==1)),B=new CU(n.locale,T);y.panelView.children.add(B)}),y}_createMenuBarComponent(e){const n=e.t,s=this._prepareIntegrations();if(!s.length)return null;const l=s.flatMap(({menuBarButtonViewCreator:y})=>y(s.length==1)),f=new mm(e),b=new p2(e);f.panelView.children.add(b),f.buttonView.set({icon:cn.image,label:n("Image")});for(const y of l){const S=new X_(e,f);S.children.add(y),b.items.add(S),y.delegate("execute").to(f)}return f}_prepareIntegrations(){const e=this.editor.config.get("image.insert.integrations"),n=[];if(!e.length)return q("image-insert-integrations-not-specified"),n;for(const s of e)this._integrations.has(s)?n.push(this._integrations.get(s)):["upload","assetManager","url"].includes(s)||q("image-insert-unknown-integration",{item:s});return n.length||q("image-insert-integrations-not-registered"),n}}var q2=a(265),Fw={attributes:{"data-cke":!0}};Fw.setAttributes=zt(),Fw.insert=Rt().bind(null,"head"),Fw.domAPI=Ut(),Fw.insertStyleElement=Nt(),Dt()(q2.A,Fw),q2.A&&q2.A.locals&&q2.A.locals;class xU extends Vt{static get requires(){return[RI,Ew,NI,FI]}static get pluginName(){return"ImageBlock"}static get isOfficialPlugin(){return!0}}class SU extends Vt{static get requires(){return[WS,jI,Al,PI,$u]}static get pluginName(){return"ImageInlineEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.model.schema.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"],disallowIn:["caption"]}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new LI(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,n=e.t,s=e.conversion,l=e.plugins.get("ImageUtils");s.for("dataDowncast").elementToElement({model:"imageInline",view:(f,{writer:b})=>b.createEmptyElement("img")}),s.for("editingDowncast").elementToStructure({model:"imageInline",view:(f,{writer:b})=>l.toImageWidget(function(y){return y.createContainerElement("span",{class:"image-inline"},y.createEmptyElement("img"))}(b),b,n("image widget"))}),s.for("downcast").add(F2(l,"imageInline","src")).add(F2(l,"imageInline","alt")).add(OI(l,"imageInline")),s.for("upcast").elementToElement({view:DI(e,"imageInline"),model:(f,{writer:b})=>b.createElement("imageInline",f.hasAttribute("src")?{src:f.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const e=this.editor,n=e.model,s=e.editing.view,l=e.plugins.get("ImageUtils"),f=e.plugins.get("ClipboardPipeline");this.listenTo(f,"inputTransformation",(b,y)=>{const S=Array.from(y.content.getChildren());let T;if(!S.every(l.isBlockImageView))return;T=y.targetRanges?e.editing.mapper.toModelRange(y.targetRanges[0]):n.document.selection.getFirstRange();const B=n.createSelection(T);if($S(n.schema,B)==="imageInline"){const P=new rc(s.document),W=S.map(ee=>ee.childCount===1?(Array.from(ee.getAttributes()).forEach(ne=>P.setAttribute(...ne,l.findViewImgElement(ee))),ee.getChild(0)):ee);y.content=P.createDocumentFragment(W)}}),this.listenTo(f,"contentInsertion",(b,y)=>{y.method==="paste"&&n.change(S=>{const T=S.createRangeIn(y.content);for(const B of T.getItems())B.is("element","imageInline")&&l.setImageNaturalSizeAttributes(B)})})}}class EU extends Vt{static get requires(){return[SU,Ew,NI,FI]}static get pluginName(){return"ImageInline"}static get isOfficialPlugin(){return!0}}class DU extends Vt{static get requires(){return[xU,EU]}static get pluginName(){return"Image"}static get isOfficialPlugin(){return!0}}class zI extends Vt{static get pluginName(){return"ImageCaptionUtils"}static get isOfficialPlugin(){return!0}static get requires(){return[Al]}getCaptionFromImageModelElement(e){for(const n of e.getChildren())if(n&&n.is("element","caption"))return n;return null}getCaptionFromModelSelection(e){const n=this.editor.plugins.get("ImageUtils"),s=e.getFirstPosition().findAncestor("caption");return s&&n.isBlockImage(s.parent)?s:null}matchImageCaptionViewElement(e){const n=this.editor.plugins.get("ImageUtils");return e.name=="figcaption"&&n.isBlockImageView(e.parent)?{name:!0}:null}}class IU extends pn{refresh(){const e=this.editor,n=e.plugins.get("ImageCaptionUtils"),s=e.plugins.get("ImageUtils");if(!e.plugins.has(RI))return this.isEnabled=!1,void(this.value=!1);const l=e.model.document.selection,f=l.getSelectedElement();if(!f){const b=n.getCaptionFromModelSelection(l);return this.isEnabled=!!b,void(this.value=!!b)}this.isEnabled=s.isImage(f),this.isEnabled?this.value=!!n.getCaptionFromImageModelElement(f):this.value=!1}execute(e={}){const{focusCaptionOnShow:n}=e;this.editor.model.change(s=>{this.value?this._hideImageCaption(s):this._showImageCaption(s,n)})}_showImageCaption(e,n){const s=this.editor.model.document.selection,l=this.editor.plugins.get("ImageCaptionEditing"),f=this.editor.plugins.get("ImageUtils");let b=s.getSelectedElement();const y=l._getSavedCaption(b);f.isInlineImage(b)&&(this.editor.execute("imageTypeBlock"),b=s.getSelectedElement());const S=y||e.createElement("caption");e.append(S,b),n&&e.setSelection(S,"in")}_hideImageCaption(e){const n=this.editor,s=n.model.document.selection,l=n.plugins.get("ImageCaptionEditing"),f=n.plugins.get("ImageCaptionUtils");let b,y=s.getSelectedElement();y?b=f.getCaptionFromImageModelElement(y):(b=f.getCaptionFromModelSelection(s),y=b.parent),l._saveCaption(y,b),e.setSelection(y,"on"),e.remove(b)}}class TU extends Vt{static get requires(){return[Al,zI]}static get pluginName(){return"ImageCaptionEditing"}static get isOfficialPlugin(){return!0}constructor(e){super(e),this._savedCaptionsMap=new WeakMap}init(){const e=this.editor,n=e.model.schema;n.isRegistered("caption")?n.extend("caption",{allowIn:"imageBlock"}):n.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new IU(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,n=e.editing.view,s=e.plugins.get("ImageUtils"),l=e.plugins.get("ImageCaptionUtils"),f=e.t;e.conversion.for("upcast").elementToElement({view:b=>l.matchImageCaptionViewElement(b),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(b,{writer:y})=>s.isBlockImage(b.parent)?y.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(b,{writer:y})=>{if(!s.isBlockImage(b.parent))return null;const S=y.createEditableElement("figcaption");y.setCustomProperty("imageCaption",!0,S),S.placeholder=f("Enter image caption"),za({view:n,element:S,keepOnFocus:!0});const T=b.parent.getAttribute("alt");return W6(S,y,{label:T?f("Caption for image: %0",[T]):f("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,n=e.plugins.get("ImageUtils"),s=e.plugins.get("ImageCaptionUtils"),l=e.commands.get("imageTypeInline"),f=e.commands.get("imageTypeBlock"),b=y=>{if(!y.return)return;const{oldElement:S,newElement:T}=y.return;if(!S)return;if(n.isBlockImage(S)){const P=s.getCaptionFromImageModelElement(S);if(P)return void this._saveCaption(T,P)}const B=this._getSavedCaption(S);B&&this._saveCaption(T,B)};l&&this.listenTo(l,"execute",b,{priority:"low"}),f&&this.listenTo(f,"execute",b,{priority:"low"})}_getSavedCaption(e){const n=this._savedCaptionsMap.get(e);return n?hi.fromJSON(n):null}_saveCaption(e,n){this._savedCaptionsMap.set(e,n.toJSON())}_registerCaptionReconversion(){const e=this.editor,n=e.model,s=e.plugins.get("ImageUtils"),l=e.plugins.get("ImageCaptionUtils");n.document.on("change:data",()=>{const f=n.document.differ.getChanges();for(const b of f){if(b.attributeKey!=="alt")continue;const y=b.range.start.nodeAfter;if(s.isBlockImage(y)){const S=l.getCaptionFromImageModelElement(y);if(!S)return;e.editing.reconvertItem(S)}}})}}class MU extends Vt{static get requires(){return[zI]}static get pluginName(){return"ImageCaptionUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,n=e.editing.view,s=e.plugins.get("ImageCaptionUtils"),l=e.t;e.ui.componentFactory.add("toggleImageCaption",f=>{const b=e.commands.get("toggleImageCaption"),y=new sr(f);return y.set({icon:cn.caption,tooltip:!0,isToggleable:!0}),y.bind("isOn","isEnabled").to(b,"value","isEnabled"),y.bind("label").to(b,"value",S=>l(S?"Toggle caption off":"Toggle caption on")),this.listenTo(y,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const S=s.getCaptionFromModelSelection(e.model.document.selection);if(S){const T=e.editing.mapper.toViewElement(S);n.scrollToTheSelection(),n.change(B=>{B.addClass("image__caption_highlighted",T)})}e.editing.view.focus()}),y})}}var V2=a(5247),zw={attributes:{"data-cke":!0}};zw.setAttributes=zt(),zw.insert=Rt().bind(null,"head"),zw.domAPI=Ut(),zw.insertStyleElement=Nt(),Dt()(V2.A,zw),V2.A&&V2.A.locals&&V2.A.locals;class NU extends Vt{static get requires(){return[TU,MU]}static get pluginName(){return"ImageCaption"}static get isOfficialPlugin(){return!0}}function UI(u){const e=u.map(n=>n.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function OU(u){return new Promise((e,n)=>{const s=u.getAttribute("src");fetch(s).then(l=>l.blob()).then(l=>{const f=qI(l,s),b=f.replace("image/",""),y=new File([l],`image.${b}`,{type:f});e(y)}).catch(l=>l&&l.name==="TypeError"?function(f){return function(b){return new Promise((y,S)=>{const T=p.document.createElement("img");T.addEventListener("load",()=>{const B=p.document.createElement("canvas");B.width=T.width,B.height=T.height,B.getContext("2d").drawImage(T,0,0),B.toBlob(P=>P?y(P):S())}),T.addEventListener("error",()=>S()),T.src=b})}(f).then(b=>{const y=qI(b,f),S=y.replace("image/","");return new File([b],`image.${S}`,{type:y})})}(s).then(e).catch(n):n(l))})}function qI(u,e){return u.type?u.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class BU extends Vt{static get pluginName(){return"ImageUploadUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.ui.componentFactory.add("uploadImage",()=>this._createToolbarButton()),e.ui.componentFactory.add("imageUpload",()=>this._createToolbarButton()),e.ui.componentFactory.add("menuBar:uploadImage",()=>this._createMenuBarButton("standalone")),e.plugins.has("ImageInsertUI")&&e.plugins.get("ImageInsertUI").registerIntegration({name:"upload",observable:()=>e.commands.get("uploadImage"),buttonViewCreator:()=>this._createToolbarButton(),formViewCreator:()=>this._createDropdownButton(),menuBarButtonViewCreator:n=>this._createMenuBarButton(n?"insertOnly":"insertNested")})}_createButton(e){const n=this.editor,s=n.locale,l=n.commands.get("uploadImage"),f=n.config.get("image.upload.types"),b=UI(f),y=new e(n.locale),S=s.t;return y.set({acceptedType:f.map(T=>`image/${T}`).join(","),allowMultipleFiles:!0,label:S("Upload from computer"),icon:cn.imageUpload}),y.bind("isEnabled").to(l),y.on("done",(T,B)=>{const P=Array.from(B).filter(W=>b.test(W.type));P.length&&(n.execute("uploadImage",{file:P}),n.editing.view.focus())}),y}_createToolbarButton(){const e=this.editor.locale.t,n=this.editor.plugins.get("ImageInsertUI"),s=this.editor.commands.get("uploadImage"),l=this._createButton(ss);return l.tooltip=!0,l.bind("label").to(n,"isImageSelected",s,"isAccessAllowed",(f,b)=>e(b?f?"Replace image from computer":"Upload image from computer":"You have no image upload permissions.")),l}_createDropdownButton(){const e=this.editor.locale.t,n=this.editor.plugins.get("ImageInsertUI"),s=this._createButton(ss);return s.withText=!0,s.bind("label").to(n,"isImageSelected",l=>e(l?"Replace from computer":"Upload from computer")),s.on("execute",()=>{n.dropdownView.isOpen=!1}),s}_createMenuBarButton(e){const n=this.editor.locale.t,s=this._createButton(k6);switch(s.withText=!0,e){case"standalone":s.label=n("Image from computer");break;case"insertOnly":s.label=n("Image");break;case"insertNested":s.label=n("From computer")}return s}}var H2=a(2267),Uw={attributes:{"data-cke":!0}};Uw.setAttributes=zt(),Uw.insert=Rt().bind(null,"head"),Uw.domAPI=Ut(),Uw.insertStyleElement=Nt(),Dt()(H2.A,Uw),H2.A&&H2.A.locals&&H2.A.locals;var $2=a(7693),qw={attributes:{"data-cke":!0}};qw.setAttributes=zt(),qw.insert=Rt().bind(null,"head"),qw.domAPI=Ut(),qw.insertStyleElement=Nt(),Dt()($2.A,qw),$2.A&&$2.A.locals&&$2.A.locals;var W2=a(1559),Vw={attributes:{"data-cke":!0}};Vw.setAttributes=zt(),Vw.insert=Rt().bind(null,"head"),Vw.domAPI=Ut(),Vw.insertStyleElement=Nt(),Dt()(W2.A,Vw),W2.A&&W2.A.locals&&W2.A.locals;class jU extends Vt{constructor(e){super(e),this.uploadStatusChange=(n,s,l)=>{const f=this.editor,b=s.item,y=b.getAttribute("uploadId");if(!l.consumable.consume(s.item,n.name))return;const S=f.plugins.get("ImageUtils"),T=f.plugins.get(Gu),B=y?s.attributeNewValue:null,P=this.placeholder,W=f.editing.mapper.toViewElement(b),ee=l.writer;if(B=="reading")return VI(W,ee),void HI(S,P,W,ee);if(B=="uploading"){const ne=T.loaders.get(y);return VI(W,ee),void(ne?($I(W,ee),function(le,Ce,Me,qe){const tt=function(Et){const Mt=Et.createUIElement("div",{class:"ck-progress-bar"});return Et.setCustomProperty("progressBar",!0,Mt),Mt}(Ce);Ce.insert(Ce.createPositionAt(le,"end"),tt),Me.on("change:uploadedPercent",(Et,Mt,wn)=>{qe.change(yn=>{yn.setStyle("width",wn+"%",tt)})})}(W,ee,ne,f.editing.view),function(le,Ce,Me,qe){if(qe.data){const tt=le.findViewImgElement(Ce);Me.setAttribute("src",qe.data,tt)}}(S,W,ee,ne)):HI(S,P,W,ee))}B=="complete"&&T.loaders.get(y)&&function(ne,le,Ce){const Me=le.createUIElement("div",{class:"ck-image-upload-complete-icon"});le.insert(le.createPositionAt(ne,"end"),Me),setTimeout(()=>{Ce.change(qe=>qe.remove(qe.createRangeOn(Me)))},3e3)}(W,ee,f.editing.view),function(ne,le){GI(ne,le,"progressBar")}(W,ee),$I(W,ee),function(ne,le){le.removeClass("ck-appear",ne)}(W,ee)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function VI(u,e){u.hasClass("ck-appear")||e.addClass("ck-appear",u)}function HI(u,e,n,s){n.hasClass("ck-image-upload-placeholder")||s.addClass("ck-image-upload-placeholder",n);const l=u.findViewImgElement(n);l.getAttribute("src")!==e&&s.setAttribute("src",e,l),WI(n,"placeholder")||s.insert(s.createPositionAfter(l),function(f){const b=f.createUIElement("div",{class:"ck-upload-placeholder-loader"});return f.setCustomProperty("placeholder",!0,b),b}(s))}function $I(u,e){u.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",u),GI(u,e,"placeholder")}function WI(u,e){for(const n of u.getChildren())if(n.getCustomProperty(e))return n}function GI(u,e,n){const s=WI(u,n);s&&e.remove(e.createRangeOn(s))}class LU extends pn{constructor(e){super(e),this.set("isAccessAllowed",!0)}refresh(){const e=this.editor,n=e.plugins.get("ImageUtils"),s=e.model.document.selection.getSelectedElement();this.isEnabled=n.isImageAllowed()||n.isImage(s)}execute(e){const n=or(e.file),s=this.editor.model.document.selection,l=this.editor.plugins.get("ImageUtils"),f=Object.fromEntries(s.getAttributes());n.forEach((b,y)=>{const S=s.getSelectedElement();if(y&&S&&l.isImage(S)){const T=this.editor.model.createPositionAfter(S);this._uploadImage(b,f,T)}else this._uploadImage(b,f)})}_uploadImage(e,n,s){const l=this.editor,f=l.plugins.get(Gu).createLoader(e),b=l.plugins.get("ImageUtils");f&&b.insertImage({...n,uploadId:f.id},s)}}class PU extends Vt{constructor(e){super(e),this._uploadedImages=new Map,e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[Gu,OS,$u,Al]}static get pluginName(){return"ImageUploadEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,n=e.model.document,s=e.conversion,l=e.plugins.get(Gu),f=e.plugins.get("ImageUtils"),b=e.plugins.get("ClipboardPipeline"),y=UI(e.config.get("image.upload.types")),S=new LU(e);e.commands.add("uploadImage",S),e.commands.add("imageUpload",S),s.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}).add(T=>T.on("element:img",(B,P,W)=>{if(!W.consumable.test(P.viewItem,{attributes:["data-ck-upload-id"]}))return;const ee=P.viewItem.getAttribute("data-ck-upload-id");if(!ee)return;const[ne]=Array.from(P.modelRange.getItems({shallow:!0})),le=l.loaders.get(ee);ne&&(W.writer.setAttribute("uploadId",ee,ne),W.consumable.consume(P.viewItem,{attributes:["data-ck-upload-id"]}),le&&le.data&&W.writer.setAttribute("uploadStatus",le.status,ne))},{priority:"low"})),this.listenTo(e.editing.view.document,"clipboardInput",(T,B)=>{if(P=B.dataTransfer,Array.from(P.types).includes("text/html")&&P.getData("text/html")!=="")return;var P;const W=Array.from(B.dataTransfer.files).filter(ee=>!!ee&&y.test(ee.type));if(W.length&&(T.stop(),e.model.change(ee=>{B.targetRanges&&ee.setSelection(B.targetRanges.map(ne=>e.editing.mapper.toModelRange(ne))),e.execute("uploadImage",{file:W})}),!e.commands.get("uploadImage").isAccessAllowed)){const ee=e.plugins.get("Notification"),ne=e.locale.t;ee.showWarning(ne("You have no image upload permissions."),{namespace:"image"})}}),this.listenTo(b,"inputTransformation",(T,B)=>{const P=Array.from(e.editing.view.createRangeIn(B.content)).map(ee=>ee.item).filter(ee=>function(ne,le){return!(!ne.isInlineImageView(le)||!le.getAttribute("src")||!le.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!le.getAttribute("src").match(/^blob:/g))}(f,ee)&&!ee.getAttribute("uploadProcessed")).map(ee=>({promise:OU(ee),imageElement:ee}));if(!P.length)return;const W=new rc(e.editing.view.document);for(const ee of P){W.setAttribute("uploadProcessed",!0,ee.imageElement);const ne=l.createLoader(ee.promise);ne&&(W.setAttribute("src","",ee.imageElement),W.setAttribute("uploadId",ne.id,ee.imageElement))}}),e.editing.view.document.on("dragover",(T,B)=>{B.preventDefault()}),n.on("change",()=>{const T=n.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),B=new Set;for(const P of T)if(P.type=="insert"&&P.name!="$text"){const W=P.position.nodeAfter,ee=P.position.root.rootName=="$graveyard";for(const ne of RU(e,W)){const le=ne.getAttribute("uploadId");if(!le)continue;const Ce=l.loaders.get(le);Ce?ee?B.has(le)||Array.from(this._uploadImageElements.get(le)).every(Me=>Me.root.rootName=="$graveyard")&&Ce.abort():(B.add(le),this._uploadImageElements.has(le)?this._uploadImageElements.get(le).add(ne):this._uploadImageElements.set(le,new Set([ne])),Ce.status=="idle"&&this._readAndUpload(Ce)):!ee&&this._uploadedImages.has(le)&&e.model.enqueueChange({isUndoable:!1},Me=>{Me.setAttribute("uploadStatus","complete",ne),this.fire("uploadComplete",{data:this._uploadedImages.get(le),imageElement:ne})})}}}),this.on("uploadComplete",(T,{imageElement:B,data:P})=>{const W=P.urls?P.urls:P;this.editor.model.change(ee=>{ee.setAttribute("src",W.default,B),this._parseAndSetSrcsetAttributeOnImage(W,B,ee),f.setImageNaturalSizeAttributes(B)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&(e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this._registerConverters("imageBlock")),this.editor.plugins.has("ImageInlineEditing")&&(e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]}),this._registerConverters("imageInline"))}_readAndUpload(e){const n=this.editor,s=n.model,l=n.locale.t,f=n.plugins.get(Gu),b=n.plugins.get(OS),y=n.plugins.get("ImageUtils"),S=this._uploadImageElements;return s.enqueueChange({isUndoable:!1},B=>{const P=S.get(e.id);for(const W of P)B.setAttribute("uploadStatus","reading",W)}),e.read().then(()=>{const B=e.upload();n.ui&&n.ui.ariaLiveAnnouncer.announce(l("Uploading image"));for(const P of S.get(e.id)){if(w.isSafari){const W=n.editing.mapper.toViewElement(P),ee=y.findViewImgElement(W);n.editing.view.once("render",()=>{if(!ee.parent)return;const ne=n.editing.view.domConverter.mapViewToDom(ee.parent);if(!ne)return;const le=ne.style.display;ne.style.display="none",ne._ckHack=ne.offsetHeight,ne.style.display=le})}s.enqueueChange({isUndoable:!1},W=>{W.setAttribute("uploadStatus","uploading",P)})}return B}).then(B=>{s.enqueueChange({isUndoable:!1},P=>{for(const W of S.get(e.id))P.setAttribute("uploadStatus","complete",W),this.fire("uploadComplete",{data:B,imageElement:W});n.ui&&n.ui.ariaLiveAnnouncer.announce(l("Image upload complete")),this._uploadedImages.set(e.id,B)}),T()}).catch(B=>{if(n.ui&&n.ui.ariaLiveAnnouncer.announce(l("Error during image upload")),e.status!=="error"&&e.status!=="aborted")throw B;e.status=="error"&&B&&b.showWarning(B,{title:l("Upload failed"),namespace:"upload"}),s.enqueueChange({isUndoable:!1},P=>{for(const W of S.get(e.id))W.root.rootName!=="$graveyard"&&P.remove(W)}),T()});function T(){s.enqueueChange({isUndoable:!1},B=>{for(const P of S.get(e.id))B.removeAttribute("uploadId",P),B.removeAttribute("uploadStatus",P);S.delete(e.id)}),f.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,n,s){let l=0;const f=Object.keys(e).filter(b=>{const y=parseInt(b,10);if(!isNaN(y))return l=Math.max(l,y),!0}).map(b=>`${e[b]} ${b}w`).join(", ");if(f!=""){const b={srcset:f};n.hasAttribute("width")||n.hasAttribute("height")||(b.width=l),s.setAttributes(b,n)}}_registerConverters(e){const{conversion:n,plugins:s}=this.editor,l=s.get(Gu),f=s.get(Al);n.for("dataDowncast").add(b=>{b.on(`attribute:uploadId:${e}`,(y,S,T)=>{if(!T.consumable.test(S.item,y.name))return;const B=l.loaders.get(S.attributeNewValue);if(!B||!B.data)return null;const P=T.mapper.toViewElement(S.item),W=f.findViewImgElement(P);W&&(T.consumable.consume(S.item,y.name),T.writer.setAttribute("data-ck-upload-id",B.id,W))})})}}function RU(u,e){const n=u.plugins.get("ImageUtils");return Array.from(u.model.createRangeOn(e)).filter(s=>n.isImage(s.item)).map(s=>s.item)}class FU extends Vt{static get pluginName(){return"ImageUpload"}static get isOfficialPlugin(){return!0}static get requires(){return[PU,BU,jU]}}var G2=a(4642),Hw={attributes:{"data-cke":!0}};Hw.setAttributes=zt(),Hw.insert=Rt().bind(null,"head"),Hw.domAPI=Ut(),Hw.insertStyleElement=Nt(),Dt()(G2.A,Hw),G2.A&&G2.A.locals&&G2.A.locals;var Y2=a(3469),$w={attributes:{"data-cke":!0}};$w.setAttributes=zt(),$w.insert=Rt().bind(null,"head"),$w.domAPI=Ut(),$w.insertStyleElement=Nt(),Dt()(Y2.A,$w),Y2.A&&Y2.A.locals&&Y2.A.locals;class zU extends pn{constructor(e,n){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(n.map(s=>{if(s.isDefault)for(const l of s.modelElements)this._defaultStyles[l]=s.name;return[s.name,s]}))}refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled?e.hasAttribute("imageStyle")?this.value=e.getAttribute("imageStyle"):this.value=this._defaultStyles[e.name]:this.value=!1}execute(e={}){const n=this.editor,s=n.model,l=n.plugins.get("ImageUtils");s.change(f=>{const b=e.value,{setImageSizes:y=!0}=e;let S=l.getClosestSelectedImageElement(s.document.selection);b&&this.shouldConvertImageType(b,S)&&(this.editor.execute(l.isBlockImage(S)?"imageTypeInline":"imageTypeBlock",{setImageSizes:y}),S=l.getClosestSelectedImageElement(s.document.selection)),!b||this._styles.get(b).isDefault?f.removeAttribute("imageStyle",S):f.setAttribute("imageStyle",b,S),y&&l.setImageNaturalSizeAttributes(S)})}shouldConvertImageType(e,n){return!this._styles.get(e).modelElements.includes(n.name)}}const K2={get inline(){return{name:"inline",title:"In line",icon:cn.objectInline,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:cn.objectLeft,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:cn.objectBlockLeft,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:cn.objectCenter,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:cn.objectRight,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:cn.objectBlockRight,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:cn.objectCenter,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:cn.objectRight,modelElements:["imageBlock"],className:"image-style-side"}}},YI={full:cn.objectFullWidth,left:cn.objectBlockLeft,right:cn.objectBlockRight,center:cn.objectCenter,inlineLeft:cn.objectLeft,inlineRight:cn.objectRight,inline:cn.objectInline},KI=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function QI(u){q("image-style-configuration-definition-invalid",u)}const GS={normalizeStyles:function(u){return(u.configuredStyles.options||[]).map(n=>function(s){return s=typeof s=="string"?K2[s]?{...K2[s]}:{name:s}:function(l,f){const b={...f};for(const y in l)Object.prototype.hasOwnProperty.call(f,y)||(b[y]=l[y]);return b}(K2[s.name],s),typeof s.icon=="string"&&(s.icon=YI[s.icon]||s.icon),s}(n)).filter(n=>function(s,{isBlockPluginLoaded:l,isInlinePluginLoaded:f}){const{modelElements:b,name:y}=s;if(!(b&&b.length&&y))return QI({style:s}),!1;{const S=[l?"imageBlock":null,f?"imageInline":null];if(!b.some(T=>S.includes(T)))return q("image-style-missing-dependency",{style:s,missingPlugins:b.map(T=>T==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(n,u))},getDefaultStylesConfiguration:function(u,e){return u&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:u?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(u){return u.has("ImageBlockEditing")&&u.has("ImageInlineEditing")?[...KI]:[]},warnInvalidStyle:QI,DEFAULT_OPTIONS:K2,DEFAULT_ICONS:YI,DEFAULT_DROPDOWN_DEFINITIONS:KI};function ZI(u,e){for(const n of e)if(n.name===u)return n}class JI extends Vt{static get pluginName(){return"ImageStyleEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[Al]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:n}=GS,s=this.editor,l=s.plugins.has("ImageBlockEditing"),f=s.plugins.has("ImageInlineEditing");s.config.define("image.styles",n(l,f)),this.normalizedStyles=e({configuredStyles:s.config.get("image.styles"),isBlockPluginLoaded:l,isInlinePluginLoaded:f}),this._setupConversion(l,f),this._setupPostFixer(),s.commands.add("imageStyle",new zU(s,this.normalizedStyles))}_setupConversion(e,n){const s=this.editor,l=s.model.schema,f=(b=this.normalizedStyles,(S,T,B)=>{if(!B.consumable.consume(T.item,S.name))return;const P=ZI(T.attributeNewValue,b),W=ZI(T.attributeOldValue,b),ee=B.mapper.toViewElement(T.item),ne=B.writer;W&&ne.removeClass(W.className,ee),P&&ne.addClass(P.className,ee)});var b;const y=function(S){const T={imageInline:S.filter(B=>!B.isDefault&&B.modelElements.includes("imageInline")),imageBlock:S.filter(B=>!B.isDefault&&B.modelElements.includes("imageBlock"))};return(B,P,W)=>{if(!P.modelRange)return;const ee=P.viewItem,ne=Po(P.modelRange.getItems());if(ne&&W.schema.checkAttribute(ne,"imageStyle"))for(const le of T[ne.name])W.consumable.consume(ee,{classes:le.className})&&W.writer.setAttribute("imageStyle",le.name,ne)}}(this.normalizedStyles);s.editing.downcastDispatcher.on("attribute:imageStyle",f),s.data.downcastDispatcher.on("attribute:imageStyle",f),e&&(l.extend("imageBlock",{allowAttributes:"imageStyle"}),s.data.upcastDispatcher.on("element:figure",y,{priority:"low"})),n&&(l.extend("imageInline",{allowAttributes:"imageStyle"}),s.data.upcastDispatcher.on("element:img",y,{priority:"low"}))}_setupPostFixer(){const e=this.editor,n=e.model.document,s=e.plugins.get(Al),l=new Map(this.normalizedStyles.map(f=>[f.name,f]));n.registerPostFixer(f=>{let b=!1;for(const y of n.differ.getChanges())if(y.type=="insert"||y.type=="attribute"&&y.attributeKey=="imageStyle"){let S=y.type=="insert"?y.position.nodeAfter:y.range.start.nodeAfter;if(S&&S.is("element","paragraph")&&S.childCount>0&&(S=S.getChild(0)),!s.isImage(S))continue;const T=S.getAttribute("imageStyle");if(!T)continue;const B=l.get(T);B&&B.modelElements.includes(S.name)||(f.removeAttribute("imageStyle",S),b=!0)}return b})}}var Q2=a(6386),Ww={attributes:{"data-cke":!0}};Ww.setAttributes=zt(),Ww.insert=Rt().bind(null,"head"),Ww.domAPI=Ut(),Ww.insertStyleElement=Nt(),Dt()(Q2.A,Ww),Q2.A&&Q2.A.locals&&Q2.A.locals;class UU extends Vt{static get requires(){return[JI]}static get pluginName(){return"ImageStyleUI"}static get isOfficialPlugin(){return!0}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,n=this.editor.config.get("image.toolbar")||[],s=XI(e.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const f of s)this._createButton(f);const l=XI([...n.filter(Ge),...GS.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const f of l)this._createDropdown(f,s)}_createDropdown(e,n){const s=this.editor.ui.componentFactory;s.add(e.name,l=>{let f;const{defaultItem:b,items:y,title:S}=e,T=y.filter(ee=>n.find(({name:ne})=>eT(ne)===ee)).map(ee=>{const ne=s.create(ee);return ee===b&&(f=ne),ne});y.length!==T.length&&GS.warnInvalidStyle({dropdown:e});const B=fm(l,H_),P=B.buttonView,W=P.arrowView;return ES(B,T,{enableActiveItemFocusOnDropdownOpen:!0}),P.set({label:tT(S,f.label),class:null,tooltip:!0}),W.unbind("label"),W.set({label:S}),P.bind("icon").toMany(T,"isOn",(...ee)=>{const ne=ee.findIndex(ns);return ne<0?f.icon:T[ne].icon}),P.bind("label").toMany(T,"isOn",(...ee)=>{const ne=ee.findIndex(ns);return tT(S,ne<0?f.label:T[ne].label)}),P.bind("isOn").toMany(T,"isOn",(...ee)=>ee.some(ns)),P.bind("class").toMany(T,"isOn",(...ee)=>ee.some(ns)?"ck-splitbutton_flatten":void 0),P.on("execute",()=>{T.some(({isOn:ee})=>ee)?B.isOpen=!B.isOpen:f.fire("execute")}),B.bind("isEnabled").toMany(T,"isEnabled",(...ee)=>ee.some(ns)),this.listenTo(B,"execute",()=>{this.editor.editing.view.focus()}),B})}_createButton(e){const n=e.name;this.editor.ui.componentFactory.add(eT(n),s=>{const l=this.editor.commands.get("imageStyle"),f=new sr(s);return f.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),f.bind("isEnabled").to(l,"isEnabled"),f.bind("isOn").to(l,"value",b=>b===n),f.on("execute",this._executeCommand.bind(this,n)),f})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function XI(u,e){for(const n of u)e[n.title]&&(n.title=e[n.title]);return u}function eT(u){return`imageStyle:${u}`}function tT(u,e){return(u?u+": ":"")+e}class qU extends Vt{static get requires(){return[JI,UU]}static get pluginName(){return"ImageStyle"}static get isOfficialPlugin(){return!0}}class VU extends Vt{static get requires(){return[C2,Al]}static get pluginName(){return"ImageToolbar"}static get isOfficialPlugin(){return!0}afterInit(){const e=this.editor,n=e.t,s=e.plugins.get(C2),l=e.plugins.get("ImageUtils");var f;s.register("image",{ariaLabel:n("Image toolbar"),items:(f=e.config.get("image.toolbar")||[],f.map(b=>Ge(b)?b.name:b)),getRelatedElement:b=>l.getClosestSelectedImageWidget(b)})}}class HU extends Vt{static get requires(){return[WS,Al]}static get pluginName(){return"PictureEditing"}static get isOfficialPlugin(){return!0}afterInit(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),e.plugins.has("ImageInlineEditing")&&e.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const e=this.editor,n=e.conversion,s=e.plugins.get("ImageUtils");n.for("upcast").add(function(l){const f=["srcset","media","type","sizes"],b=(y,S,T)=>{const B=S.viewItem;if(!T.consumable.test(B,{name:!0}))return;const P=new Map;for(const ne of B.getChildren())if(ne.is("element","source")){const le={};for(const Ce of f)ne.hasAttribute(Ce)&&T.consumable.test(ne,{attributes:Ce})&&(le[Ce]=ne.getAttribute(Ce));Object.keys(le).length&&P.set(ne,le)}const W=l.findViewImgElement(B);if(!W)return;let ee=S.modelCursor.parent;if(!ee.is("element","imageBlock")){const ne=T.convertItem(W,S.modelCursor);S.modelRange=ne.modelRange,S.modelCursor=ne.modelCursor,ee=Po(ne.modelRange.getItems())}T.consumable.consume(B,{name:!0});for(const[ne,le]of P)T.consumable.consume(ne,{attributes:Object.keys(le)});P.size&&T.writer.setAttribute("sources",Array.from(P.values()),ee),T.convertChildren(B,ee)};return y=>{y.on("element:picture",b)}}(s)),n.for("downcast").add(function(l){const f=(b,y,S)=>{if(!S.consumable.consume(y.item,b.name))return;const T=S.writer,B=S.mapper.toViewElement(y.item),P=l.findViewImgElement(B),W=y.attributeNewValue;if(W&&W.length){const ee=[];let ne=P.parent;for(;ne&&ne.is("attributeElement");){const Me=ne.parent;T.unwrap(T.createRangeOn(P),ne),ee.unshift(ne),ne=Me}const le=P.parent.is("element","picture"),Ce=le?P.parent:T.createContainerElement("picture",null);le||T.insert(T.createPositionBefore(P),Ce),T.remove(T.createRangeIn(Ce)),T.insert(T.createPositionAt(Ce,"end"),W.map(Me=>T.createEmptyElement("source",Me))),T.move(T.createRangeOn(P),T.createPositionAt(Ce,"end"));for(const Me of ee)T.wrap(T.createRangeOn(Ce),Me)}else if(P.parent.is("element","picture")){const ee=P.parent;T.move(T.createRangeOn(P),T.createPositionBefore(ee)),T.remove(ee)}};return b=>{b.on("attribute:sources:imageBlock",f),b.on("attribute:sources:imageInline",f)}}(s))}_setupImageUploadEditingIntegration(){const e=this.editor;if(!e.plugins.has("ImageUploadEditing"))return;const n=e.plugins.get("ImageUploadEditing");this.listenTo(n,"uploadComplete",(s,{imageElement:l,data:f})=>{const b=f.sources;b&&e.model.change(y=>{y.setAttributes({sources:b},l)})})}}class $U extends Vt{static get pluginName(){return"IndentEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.commands.add("indent",new Pc(e)),e.commands.add("outdent",new Pc(e))}}class WU extends Vt{static get pluginName(){return"IndentUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,n=e.locale,s=e.t,l=n.uiLanguageDirection=="ltr"?cn.indent:cn.outdent,f=n.uiLanguageDirection=="ltr"?cn.outdent:cn.indent;this._defineButton("indent",s("Increase indent"),l),this._defineButton("outdent",s("Decrease indent"),f)}_defineButton(e,n,s){const l=this.editor;l.ui.componentFactory.add(e,()=>{const f=this._createButton(sr,e,n,s);return f.set({tooltip:!0}),f}),l.ui.componentFactory.add("menuBar:"+e,()=>this._createButton(St,e,n,s))}_createButton(e,n,s,l){const f=this.editor,b=f.commands.get(n),y=new e(f.locale);return y.set({label:s,icon:l}),y.bind("isEnabled").to(b,"isEnabled"),this.listenTo(y,"execute",()=>{f.execute(n),f.editing.view.focus()}),y}}class GU extends Vt{static get pluginName(){return"Indent"}static get isOfficialPlugin(){return!0}static get requires(){return[$U,WU]}}class YU{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(n=>this._definitions.add(n)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(n,s,l)=>{if(!l.consumable.test(s.item,"attribute:linkHref")||!s.item.is("selection")&&!l.schema.isInline(s.item))return;const f=l.writer,b=f.document.selection;for(const y of this._definitions){const S=f.createAttributeElement("a",y.attributes,{priority:5});y.classes&&f.addClass(y.classes,S);for(const T in y.styles)f.setStyle(T,y.styles[T],S);f.setCustomProperty("link",!0,S),y.callback(s.attributeNewValue)?s.item.is("selection")?f.wrap(b.getFirstRange(),S):f.wrap(l.mapper.toViewRange(s.range),S):f.unwrap(l.mapper.toViewRange(s.range),S)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(n,s,{writer:l,mapper:f})=>{const b=f.toViewElement(s.item),y=Array.from(b.getChildren()).find(S=>S.is("element","a"));if(y)for(const S of this._definitions){const T=ie(S.attributes);if(S.callback(s.attributeNewValue)){for(const[B,P]of T)B==="class"?l.addClass(P,y):l.setAttribute(B,P,y);S.classes&&l.addClass(S.classes,y);for(const B in S.styles)l.setStyle(B,S.styles[B],y)}else{for(const[B,P]of T)B==="class"?l.removeClass(P,y):l.removeAttribute(B,y);S.classes&&l.removeClass(S.classes,y);for(const B in S.styles)l.removeStyle(B,y)}}})}}}const KU=function(u,e,n){var s=u.length;return n=n===void 0?s:n,!e&&n>=s?u:ag(u,e,n)};var QU=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const nT=function(u){return QU.test(u)},ZU=function(u){return u.split("")};var rT="\\ud800-\\udfff",JU="["+rT+"]",YS="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",KS="\\ud83c[\\udffb-\\udfff]",iT="[^"+rT+"]",oT="(?:\\ud83c[\\udde6-\\uddff]){2}",sT="[\\ud800-\\udbff][\\udc00-\\udfff]",aT="(?:"+YS+"|"+KS+")?",lT="[\\ufe0e\\ufe0f]?",XU=lT+aT+("(?:\\u200d(?:"+[iT,oT,sT].join("|")+")"+lT+aT+")*"),eq="(?:"+[iT+YS+"?",YS,oT,sT,JU].join("|")+")",tq=RegExp(KS+"(?="+KS+")|"+eq+XU,"g");const nq=function(u){return u.match(tq)||[]},rq=function(u){return nT(u)?nq(u):ZU(u)},iq=function(u){return function(e){e=Iu(e);var n=nT(e)?rq(e):void 0,s=n?n[0]:e.charAt(0),l=n?KU(n,1).join(""):e.slice(1);return s[u]()+l}}("toUpperCase"),oq=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,sq=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,aq=/^((\w+:(\/{2,})?)|(\W))/i,lq=["https?","ftps?","mailto"],Z2="Ctrl+K";function cT(u,{writer:e}){const n=e.createAttributeElement("a",{href:u},{priority:5});return e.setCustomProperty("link",!0,n),n}function uT(u,e=lq){const n=String(u),s=e.join("|");return function(l,f){return!!l.replace(oq,"").match(f)}(n,new RegExp(`${"^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))".replace("<protocols>",s)}`,"i"))?n:"#"}function QS(u,e){return!!u&&e.checkAttribute(u.name,"linkHref")}function ZS(u,e){const n=(s=u,sq.test(s)?"mailto:":e);var s;const l=!!n&&!dT(u);return u&&l?n+u:u}function dT(u){return aq.test(u)}function hT(u){window.open(u,"_blank","noopener")}function fT(u){const e=u.plugins.has("BookmarkEditing")?u.plugins.get("BookmarkEditing"):null;return{isScrollableToTarget:function(n){return!!n&&n.startsWith("#")&&!!e&&!!e.getElementForBookmarkId(n.slice(1))},scrollToTarget:function(n){const s=n.slice(1),l=e.getElementForBookmarkId(s);u.model.change(f=>{f.setSelection(l,"on")}),u.editing.view.scrollToTheSelection({alignToTop:!0,forceScroll:!0})}}}class cq extends pn{constructor(){super(...arguments),this.manualDecorators=new Co,this.automaticDecorators=new YU}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,n=e.document.selection,s=n.getSelectedElement()||Po(n.getSelectedBlocks());QS(s,e.schema)?(this.value=s.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(s,"linkHref")):(this.value=n.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(n,"linkHref"));for(const l of this.manualDecorators)l.value=this._getDecoratorStateFromModel(l.id)}execute(e,n={}){const s=this.editor.model,l=s.document.selection,f=[],b=[];for(const y in n)n[y]?f.push(y):b.push(y);s.change(y=>{if(l.isCollapsed){const S=l.getFirstPosition();if(l.hasAttribute("linkHref")){const T=pT(l);let B=w2(S,"linkHref",l.getAttribute("linkHref"),s);l.getAttribute("linkHref")===T&&(B=this._updateLinkContent(s,y,B,e)),y.setAttribute("linkHref",e,B),f.forEach(P=>{y.setAttribute(P,!0,B)}),b.forEach(P=>{y.removeAttribute(P,B)}),y.setSelection(y.createPositionAfter(B.end.nodeBefore))}else if(e!==""){const T=ie(l.getAttributes());T.set("linkHref",e),f.forEach(P=>{T.set(P,!0)});const{end:B}=s.insertContent(y.createText(e,T),S);y.setSelection(B)}["linkHref",...f,...b].forEach(T=>{y.removeSelectionAttribute(T)})}else{const S=s.schema.getValidRanges(l.getRanges(),"linkHref"),T=[];for(const P of l.getSelectedBlocks())s.schema.checkAttribute(P,"linkHref")&&T.push(y.createRangeOn(P));const B=T.slice();for(const P of S)this._isRangeToUpdate(P,T)&&B.push(P);for(const P of B){let W=P;if(B.length===1){const ee=pT(l);l.getAttribute("linkHref")===ee&&(W=this._updateLinkContent(s,y,P,e),y.setSelection(y.createSelection(W)))}y.setAttribute("linkHref",e,W),f.forEach(ee=>{y.setAttribute(ee,!0,W)}),b.forEach(ee=>{y.removeAttribute(ee,W)})}}})}_getDecoratorStateFromModel(e){const n=this.editor.model,s=n.document.selection,l=s.getSelectedElement();return QS(l,n.schema)?l.getAttribute(e):s.getAttribute(e)}_isRangeToUpdate(e,n){for(const s of n)if(s.containsRange(e))return!1;return!0}_updateLinkContent(e,n,s,l){const f=n.createText(l,{linkHref:l});return e.insertContent(f,s)}}function pT(u){if(u.isCollapsed){const e=u.getFirstPosition();return e.textNode&&e.textNode.data}{const e=Array.from(u.getFirstRange().getItems());if(e.length>1)return null;const n=e[0];return n.is("$text")||n.is("$textProxy")?n.data:null}}class uq extends pn{refresh(){const e=this.editor.model,n=e.document.selection,s=n.getSelectedElement();QS(s,e.schema)?this.isEnabled=e.schema.checkAttribute(s,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(n,"linkHref")}execute(){const e=this.editor,n=this.editor.model,s=n.document.selection,l=e.commands.get("link");n.change(f=>{const b=s.isCollapsed?[w2(s.getFirstPosition(),"linkHref",s.getAttribute("linkHref"),n)]:n.schema.getValidRanges(s.getRanges(),"linkHref");for(const y of b)if(f.removeAttribute("linkHref",y),l)for(const S of l.manualDecorators)f.removeAttribute(S.id,y)})}}class dq extends Ae(){constructor({id:e,label:n,attributes:s,classes:l,styles:f,defaultValue:b}){super(),this.id=e,this.set("value",void 0),this.defaultValue=b,this.label=n,this.attributes=s,this.classes=l,this.styles=f}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var J2=a(7719),Gw={attributes:{"data-cke":!0}};Gw.setAttributes=zt(),Gw.insert=Rt().bind(null,"head"),Gw.domAPI=Ut(),Gw.insertStyleElement=Nt(),Dt()(J2.A,Gw),J2.A&&J2.A.locals&&J2.A.locals;const mT="automatic",hq=/^(https?:)?\/\//;class gT extends Vt{static get pluginName(){return"LinkEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[j6,D6,$u]}constructor(e){super(e),e.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1})}init(){const e=this.editor,n=this.editor.config.get("link.allowedProtocols");e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:cT}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(l,f)=>cT(uT(l,n),f)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:l=>l.getAttribute("href")}}),e.commands.add("link",new cq(e)),e.commands.add("unlink",new uq(e));const s=function(l,f){const b={"Open in a new tab":l("Open in a new tab"),Downloadable:l("Downloadable")};return f.forEach(y=>("label"in y&&b[y.label]&&(y.label=b[y.label]),y)),f}(e.t,function(l){const f=[];if(l)for(const[b,y]of Object.entries(l)){const S=Object.assign({},y,{id:`link${iq(b)}`});f.push(S)}return f}(e.config.get("link.decorators")));this._enableAutomaticDecorators(s.filter(l=>l.mode===mT)),this._enableManualDecorators(s.filter(l=>l.mode==="manual")),e.plugins.get(j6).registerAttribute("linkHref"),function(l,f,b,y){const S=l.editing.view,T=new Set;S.document.registerPostFixer(B=>{const P=l.model.document.selection;let W=!1;if(P.hasAttribute(f)){const ee=w2(P.getFirstPosition(),f,P.getAttribute(f),l.model),ne=l.editing.mapper.toViewRange(ee);for(const le of ne.getItems())le.is("element",b)&&!le.hasClass(y)&&(B.addClass(y,le),T.add(le),W=!0)}return W}),l.conversion.for("editingDowncast").add(B=>{function P(){S.change(W=>{for(const ee of T.values())W.removeClass(y,ee),T.delete(ee)})}B.on("insert",P,{priority:"highest"}),B.on("remove",P,{priority:"highest"}),B.on("attribute",P,{priority:"highest"}),B.on("selection",P,{priority:"highest"})})}(e,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const n=this.editor,s=n.commands.get("link").automaticDecorators;n.config.get("link.addTargetToExternalLinks")&&s.add({id:"linkIsExternal",mode:mT,callback:l=>!!l&&hq.test(l),attributes:{target:"_blank",rel:"noopener noreferrer"}}),s.add(e),s.length&&n.conversion.for("downcast").add(s.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const n=this.editor,s=n.commands.get("link").manualDecorators;e.forEach(l=>{n.model.schema.extend("$text",{allowAttributes:l.id});const f=new dq(l);s.add(f),n.conversion.for("downcast").attributeToElement({model:f.id,view:(b,{writer:y,schema:S},{item:T})=>{if((T.is("selection")||S.isInline(T))&&b){const B=y.createAttributeElement("a",f.attributes,{priority:5});f.classes&&y.addClass(f.classes,B);for(const P in f.styles)y.setStyle(P,f.styles[P],B);return y.setCustomProperty("link",!0,B),B}}}),n.conversion.for("upcast").elementToAttribute({view:{name:"a",...f._createPattern()},model:{key:f.id}})})}_enableLinkOpen(){const e=this.editor,n=e.editing.view.document,s=fT(e);function l(f){s.isScrollableToTarget(f)?s.scrollToTarget(f):hT(f)}this.listenTo(n,"click",(f,b)=>{if(!(w.isMac?b.domEvent.metaKey:b.domEvent.ctrlKey))return;let y=b.domTarget;if(y.tagName.toLowerCase()!="a"&&(y=y.closest("a")),!y)return;const S=y.getAttribute("href");S&&(f.stop(),b.preventDefault(),l(S))},{context:"$capture"}),this.listenTo(n,"keydown",(f,b)=>{const y=e.commands.get("link").value;y&&b.keyCode===ln.enter&&b.altKey&&(f.stop(),l(y))})}_enableSelectionAttributesFixer(){const e=this.editor.model,n=e.document.selection;this.listenTo(n,"change:attribute",(s,{attributeKeys:l})=>{l.includes("linkHref")&&!n.hasAttribute("linkHref")&&e.change(f=>{var b;(function(y,S){y.removeSelectionAttribute("linkHref");for(const T of S)y.removeSelectionAttribute(T)})(f,(b=e.schema,b.getDefinition("$text").allowAttributes.filter(y=>y.startsWith("link"))))})})}_enableClipboardIntegration(){const e=this.editor,n=e.model,s=this.editor.config.get("link.defaultProtocol");s&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(l,f)=>{n.change(b=>{const y=b.createRangeIn(f.content);for(const S of y.getItems())if(S.hasAttribute("linkHref")){const T=ZS(S.getAttribute("linkHref"),s);b.setAttribute("linkHref",T,S)}})})}}var X2=a(3817),Yw={attributes:{"data-cke":!0}};Yw.setAttributes=zt(),Yw.insert=Rt().bind(null,"head"),Yw.domAPI=Ut(),Yw.insertStyleElement=Nt(),Dt()(X2.A,Yw),X2.A&&X2.A.locals&&X2.A.locals;class fq extends un{constructor(e,n,s){super(e),this.focusTracker=new Ji,this.keystrokes=new Q,this._focusables=new rt;const l=e.t;this._validators=s,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(l("Save"),cn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(l("Cancel"),cn.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(n),this.children=this._createFormChildren(n.manualDecorators),this._focusCycler=new _a({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const f=["ck","ck-link-form","ck-responsive-form"];n.manualDecorators.length&&f.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:f,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,n)=>(e[n.name]=n.isOn,e),{})}render(){super.render(),ri({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(const e of this._validators){const n=e(this);if(n)return this.urlInputView.errorText=n,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null}_createUrlInput(){const e=this.locale.t,n=new D_(this.locale,G_);return n.fieldView.inputMode="url",n.label=e("Link URL"),n}_createButton(e,n,s,l){const f=new sr(this.locale);return f.set({label:e,icon:n,tooltip:!0}),f.extendTemplate({attributes:{class:s}}),l&&f.delegate("execute").to(this,l),f}_createManualDecoratorSwitches(e){const n=this.createCollection();for(const s of e.manualDecorators){const l=new Sn(this.locale);l.set({name:s.id,label:s.label,withText:!0}),l.bind("isOn").toMany([s,e],"value",(f,b)=>b===void 0&&f===void 0?!!s.defaultValue:!!f),l.on("execute",()=>{s.set("value",!l.isOn)}),n.add(l)}return n}_createFormChildren(e){const n=this.createCollection();if(n.add(this.urlInputView),e.length){const s=new un;s.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(l=>({tag:"li",children:[l],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),n.add(s)}return n.add(this.saveButtonView),n.add(this.cancelButtonView),n}get url(){const{element:e}=this.urlInputView.fieldView;return e?e.value.trim():null}}var eC=a(8762),Kw={attributes:{"data-cke":!0}};Kw.setAttributes=zt(),Kw.insert=Rt().bind(null,"head"),Kw.domAPI=Ut(),Kw.insertStyleElement=Nt(),Dt()(eC.A,Kw),eC.A&&eC.A.locals&&eC.A.locals;class pq extends un{constructor(e,n={},s){super(e),this.focusTracker=new Ji,this.keystrokes=new Q,this._focusables=new rt;const l=e.t;this._options=s,this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(l("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(l("Edit link"),cn.pencil,"edit"),this.set("href",void 0),this._linkConfig=n,this._focusCycler=new _a({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,n,s){const l=new sr(this.locale);return l.set({label:e,icon:n,tooltip:!0}),l.delegate("execute").to(this,s),l}_createPreviewButton(){const e=new sr(this.locale),n=this.bindTemplate,s=this.t;return e.set({withText:!0}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:n.to("href",l=>l&&uT(l,this._linkConfig.allowedProtocols)),target:"_blank",rel:"noopener noreferrer"},on:{click:n.to(l=>{this._options&&this._options.isScrollableToTarget(this.href)?(l.preventDefault(),this._options.scrollToTarget(this.href)):hT(this.href)})}}),e.bind("tooltip").to(this,"href",l=>this._options&&this._options.isScrollableToTarget(l)?s("Scroll to target"):s("Open link in new tab")),e.bind("label").to(this,"href",l=>l||s("This link has no URL")),e.bind("isEnabled").to(this,"href",l=>!!l),e.template.tag="a",e}}const Mh="link-ui";class mq extends Vt{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[i2]}static get pluginName(){return"LinkUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,n=this.editor.t;e.editing.view.addObserver(i0),this._balloon=e.plugins.get(i2),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:Mh,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:Mh,view:(s,{writer:l})=>{if(!s.markerRange.isCollapsed)return null;const f=l.createUIElement("span");return l.addClass(["ck-fake-link-selection","ck-fake-link-selection_collapsed"],f),f}}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:n("Create link"),keystroke:Z2},{label:n("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,n=new pq(e.locale,e.config.get("link"),fT(e)),s=e.commands.get("link"),l=e.commands.get("unlink");return n.bind("href").to(s,"value"),n.editButtonView.bind("isEnabled").to(s),n.unlinkButtonView.bind("isEnabled").to(l),this.listenTo(n,"edit",()=>{this._addFormView()}),this.listenTo(n,"unlink",()=>{e.execute("unlink"),this._hideUI()}),n.keystrokes.set("Esc",(f,b)=>{this._hideUI(),b()}),n.keystrokes.set(Z2,(f,b)=>{this._addFormView(),b()}),n}_createFormView(){const e=this.editor,n=e.commands.get("link"),s=e.config.get("link.defaultProtocol"),l=new(Yl(fq))(e.locale,n,function(f){const b=f.t,y=f.config.get("link.allowCreatingEmptyLinks");return[S=>{if(!y&&!S.url.length)return b("Link URL must not be empty.")}]}(e));return l.urlInputView.fieldView.bind("value").to(n,"value"),l.urlInputView.bind("isEnabled").to(n,"isEnabled"),l.saveButtonView.bind("isEnabled").to(n,"isEnabled"),this.listenTo(l,"submit",()=>{if(l.isValid()){const{value:f}=l.urlInputView.fieldView.element,b=ZS(f,s);e.execute("link",b,l.getDecoratorSwitchesState()),this._closeFormView()}}),this.listenTo(l.urlInputView,"change:errorText",()=>{e.ui.update()}),this.listenTo(l,"cancel",()=>{this._closeFormView()}),l.keystrokes.set("Esc",(f,b)=>{this._closeFormView(),b()}),l}_createToolbarLinkButton(){const e=this.editor;e.ui.componentFactory.add("link",()=>{const n=this._createButton(sr);return n.set({tooltip:!0}),n}),e.ui.componentFactory.add("menuBar:link",()=>{const n=this._createButton(St);return n.set({role:"menuitemcheckbox"}),n})}_createButton(e){const n=this.editor,s=n.locale,l=n.commands.get("link"),f=new e(n.locale),b=s.t;return f.set({label:b("Link"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',keystroke:Z2,isToggleable:!0}),f.bind("isEnabled").to(l,"isEnabled"),f.bind("isOn").to(l,"value",y=>!!y),this.listenTo(f,"execute",()=>this._showUI(!0)),f}_enableBalloonActivators(){const e=this.editor,n=e.editing.view.document;this.listenTo(n,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(Z2,(s,l)=>{l(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,n)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),n())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,n)=>{this._isUIVisible&&(this._hideUI(),n())}),Gl({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.fieldView.value=e.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,n=e.editing.view.document;let s=this._getSelectedLinkElement(),l=b();const f=()=>{const y=this._getSelectedLinkElement(),S=b();s&&!y||!s&&S!==l?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),s=y,l=S};function b(){return n.selection.focus.getAncestors().reverse().find(y=>y.is("element"))}this.listenTo(e.ui,"update",f),this.listenTo(this._balloon,"change:visibleView",f)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,n=this.editor.model,s=e.document;let l;if(n.markers.has(Mh)){const f=Array.from(this.editor.editing.mapper.markerNameToElements(Mh)),b=e.createRange(e.createPositionBefore(f[0]),e.createPositionAfter(f[f.length-1]));l=e.domConverter.viewRangeToDom(b)}else l=()=>{const f=this._getSelectedLinkElement();return f?e.domConverter.mapViewToDom(f):e.domConverter.viewRangeToDom(s.selection.getFirstRange())};return{target:l}}_getSelectedLinkElement(){const e=this.editor.editing.view,n=e.document.selection,s=n.getSelectedElement();if(n.isCollapsed||s&&Vo(s))return JS(n.getFirstPosition());{const l=n.getFirstRange().getTrimmed(),f=JS(l.start),b=JS(l.end);return f&&f==b&&e.createRangeIn(f).getTrimmed().isEqual(l)?f:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(n=>{const s=e.document.selection.getFirstRange();if(e.markers.has(Mh))n.updateMarker(Mh,{range:s});else if(s.start.isAtEnd){const l=s.start.getLastMatchingPosition(({item:f})=>!e.schema.isContent(f),{boundaries:s});n.addMarker(Mh,{usingOperation:!1,affectsData:!1,range:n.createRange(l,s.end)})}else n.addMarker(Mh,{usingOperation:!1,affectsData:!1,range:s})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(Mh)&&e.change(n=>{n.removeMarker(Mh)})}}function JS(u){return u.getAncestors().find(e=>{return(n=e).is("attributeElement")&&!!n.getCustomProperty("link");var n})||null}const bT=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class gq extends Vt{static get requires(){return[Yf,gT]}static get pluginName(){return"AutoLink"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(e,n){return n.textNode&&n.textNode.hasAttribute("linkHref")?w2(n,"linkHref",n.textNode.getAttribute("linkHref"),e):null}_selectEntireLinks(e,n){const s=this.editor.model,l=s.document.selection,f=l.getFirstPosition(),b=l.getLastPosition();let y=n.getJoined(this._expandLinkRange(s,f)||n);y&&(y=y.getJoined(this._expandLinkRange(s,b)||n)),y&&(y.start.isBefore(f)||y.end.isAfter(b))&&e.setSelection(y)}_enablePasteLinking(){const e=this.editor,n=e.model,s=n.document.selection,l=e.plugins.get("ClipboardPipeline"),f=e.commands.get("link");l.on("inputTransformation",(b,y)=>{if(!this.isEnabled||!f.isEnabled||s.isCollapsed||y.method!=="paste"||s.rangeCount>1)return;const S=s.getFirstRange(),T=y.dataTransfer.getData("text/plain");if(!T)return;const B=T.match(bT);B&&B[2]===T&&(n.change(P=>{this._selectEntireLinks(P,S),f.execute(T)}),b.stop())},{priority:"high"})}_enableTypingHandling(){const e=this.editor,n=new B6(e.model,s=>{let l=s;if(!function(b){return b.length>4&&b[b.length-1]===" "&&b[b.length-2]!==" "}(l))return;l=l.slice(0,-1),"!.:,;?".includes(l[l.length-1])&&(l=l.slice(0,-1));const f=kT(l);return f?{url:f,removedTrailingCharacters:s.length-l.length}:void 0});n.on("matched:data",(s,l)=>{const{batch:f,range:b,url:y,removedTrailingCharacters:S}=l;if(!f.isTyping)return;const T=b.end.getShiftedBy(-S),B=T.getShiftedBy(-y.length),P=e.model.createRange(B,T);this._applyAutoLink(y,P)}),n.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,n=e.model,s=e.commands.get("enter");s&&s.on("execute",()=>{const l=n.document.selection.getFirstPosition();if(!l.parent.previousSibling)return;const f=n.createRangeIn(l.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(f)})}_enableShiftEnterHandling(){const e=this.editor,n=e.model,s=e.commands.get("shiftEnter");s&&s.on("execute",()=>{const l=n.document.selection.getFirstPosition(),f=n.createRange(n.createPositionAt(l.parent,0),l.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(f)})}_checkAndApplyAutoLinkOnRange(e){const n=this.editor.model,{text:s,range:l}=O6(e,n),f=kT(s);if(f){const b=n.createRange(l.end.getShiftedBy(-f.length),l.end);this._applyAutoLink(f,b)}}_applyAutoLink(e,n){const s=this.editor.model,l=ZS(e,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(f,b){return b.schema.checkAttributeInSelection(b.createSelection(f),"linkHref")}(n,s)&&dT(l)&&!function(f){const b=f.start.nodeAfter;return!!b&&b.hasAttribute("linkHref")}(n)&&this._persistAutoLink(l,n)}_persistAutoLink(e,n){const s=this.editor.model,l=this.editor.plugins.get("Delete");s.enqueueChange(f=>{f.setAttribute("linkHref",e,n),s.enqueueChange(()=>{l.requestUndoOnBackspace()})})}}function kT(u){const e=bT.exec(u);return e?e[2]:null}class bq extends Vt{static get requires(){return[gT,mq,gq]}static get pluginName(){return"Link"}static get isOfficialPlugin(){return!0}}var tC=a(4808),Qw={attributes:{"data-cke":!0}};Qw.setAttributes=zt(),Qw.insert=Rt().bind(null,"head"),Qw.domAPI=Ut(),Qw.insertStyleElement=Nt(),Dt()(tC.A,Qw),tC.A&&tC.A.locals&&tC.A.locals;class Yu{constructor(e,n){this._startElement=e,this._referenceIndent=e.getAttribute("listIndent"),this._isForward=n.direction=="forward",this._includeSelf=!!n.includeSelf,this._sameAttributes=or(n.sameAttributes||[]),this._sameIndent=!!n.sameIndent,this._lowerIndent=!!n.lowerIndent,this._higherIndent=!!n.higherIndent}static first(e,n){return Po(new this(e,n)[Symbol.iterator]())}*[Symbol.iterator](){const e=[];for(const{node:n}of new Zw(this._getStartNode(),this._isForward?"forward":"backward")){const s=n.getAttribute("listIndent");if(s<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=s}else if(s>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){e.push(n);continue}}else{if(!this._sameIndent){if(this._higherIndent){e.length&&(yield*e,e.length=0);break}continue}if(this._sameAttributes.some(l=>n.getAttribute(l)!==this._startElement.getAttribute(l)))break}e.length&&(yield*e,e.length=0),yield n}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}class Zw{constructor(e,n="forward"){this._previousNodesByIndent=[],this._previous=null,this._previousNodeIndent=null,this._node=e,this._isForward=n==="forward"}[Symbol.iterator](){return this}next(){if(!Ss(this._node))return{done:!0,value:void 0};const e=this._node.getAttribute("listIndent");let n=null;if(this._previous){const l=this._previousNodeIndent;e>l?this._previousNodesByIndent[l]=this._previous:e<l?(n=this._previousNodesByIndent[e]||null,this._previousNodesByIndent.length=e):n=this._previous}const s={node:this._node,previous:this._previous,previousNodeInList:n};return this._previous=this._node,this._previousNodeIndent=e,this._node=this._isForward?this._node.nextSibling:this._node.previousSibling,{value:s,done:!1}}}class kq{constructor(e){this._listHead=e}[Symbol.iterator](){return new Zw(this._listHead)}}class C0{static next(){return se()}}function Ss(u){return!!u&&u.is("element")&&u.hasAttribute("listItemId")}function XS(u,e={}){return[...wm(u,{...e,direction:"backward"}),...wm(u,{...e,direction:"forward"})]}function wm(u,e={}){const n=e.direction=="forward",s=Array.from(new Yu(u,{...e,includeSelf:n,sameIndent:!0,sameAttributes:"listItemId"}));return n?s:s.reverse()}function wT(u,e){const n=new Yu(u,{sameIndent:!0,sameAttributes:"listType",...e}),s=new Yu(u,{sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward",...e});return[...Array.from(n).reverse(),...s]}function Pg(u){return!Yu.first(u,{sameIndent:!0,sameAttributes:"listItemId"})}function vT(u){return!Yu.first(u,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function Jw(u,e={}){u=or(u);const n=e.withNested!==!1,s=new Set;for(const l of u)for(const f of XS(l,{higherIndent:n}))s.add(f);return Rg(s)}function wq(u){u=or(u);const e=new Set;for(const n of u)for(const s of wT(n))e.add(s);return Rg(e)}function e3(u,e){const n=wm(u,{direction:"forward"}),s=C0.next();for(const l of n)e.setAttribute("listItemId",s,l);return n}function t3(u,e,n){const s={};for(const[f,b]of e.getAttributes())f.startsWith("list")&&(s[f]=b);const l=wm(u,{direction:"forward"});for(const f of l)n.setAttributes(s,f);return l}function n3(u,e,{expand:n,indentBy:s=1}={}){u=or(u);const l=n?Jw(u):u;for(const f of l){const b=f.getAttribute("listIndent")+s;b<0?nC(f,e):e.setAttribute("listIndent",b,f)}return l}function nC(u,e){u=or(u);for(const n of u)n.is("element","listItem")&&e.rename(n,"paragraph");for(const n of u)for(const s of n.getAttributeKeys())s.startsWith("list")&&e.removeAttribute(s,n);return u}function Xw(u){if(!u.length)return!1;const e=u[0].getAttribute("listItemId");return!!e&&!u.some(n=>n.getAttribute("listItemId")!=e)}function Rg(u){return Array.from(u).filter(e=>e.root.rootName!=="$graveyard").sort((e,n)=>e.index-n.index)}function ev(u){const e=u.document.selection.getSelectedElement();return e&&u.schema.isObject(e)&&u.schema.isBlock(e)?e:null}function r3(u,e){return e.checkChild(u.parent,"listItem")&&e.checkChild(u,"$text")&&!e.isObject(u)}function vq(u){return u=="numbered"||u=="customNumbered"}function yq(u,e,n){return wm(e,{direction:"forward"}).pop().index>u.index?t3(u,e,n):[]}class yT extends pn{constructor(e,n){super(e),this._direction=n}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,n=AT(e.document.selection);e.change(s=>{const l=[];Xw(n)&&!Pg(n[0])?(this._direction=="forward"&&l.push(...n3(n,s)),l.push(...e3(n[0],s))):this._direction=="forward"?l.push(...n3(n,s,{expand:!0})):l.push(...function(f,b){const y=Jw(f=or(f)),S=new Set,T=Math.min(...y.map(P=>P.getAttribute("listIndent"))),B=new Map;for(const P of y)B.set(P,Yu.first(P,{lowerIndent:!0}));for(const P of y){if(S.has(P))continue;S.add(P);const W=P.getAttribute("listIndent")-1;if(W<0)nC(P,b);else{if(P.getAttribute("listIndent")==T){const ee=yq(P,B.get(P),b);for(const ne of ee)S.add(ne);if(ee.length)continue}b.setAttribute("listIndent",W,P)}}return Rg(S)}(n,s));for(const f of l){if(!f.hasAttribute("listType"))continue;const b=Yu.first(f,{sameIndent:!0});b&&s.setAttribute("listType",b.getAttribute("listType"),f)}this._fireAfterExecute(l)})}_fireAfterExecute(e){this.fire("afterExecute",Rg(new Set(e)))}_checkEnabled(){let e=AT(this.editor.model.document.selection),n=e[0];if(!n)return!1;if(this._direction=="backward"||Xw(e)&&!Pg(e[0]))return!0;e=Jw(e),n=e[0];const s=Yu.first(n,{sameIndent:!0});return!!s&&s.getAttribute("listType")==n.getAttribute("listType")}}function AT(u){const e=Array.from(u.getSelectedBlocks()),n=e.findIndex(s=>!Ss(s));return n!=-1&&(e.length=n),e}class rC extends pn{constructor(e,n,s={}){super(e),this.type=n,this._listWalkerOptions=s.multiLevel?{higherIndent:!0,lowerIndent:!0,sameAttributes:[]}:void 0}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const n=this.editor.model,s=n.document,l=ev(n),f=Array.from(s.selection.getSelectedBlocks()).filter(y=>n.schema.checkAttribute(y,"listType")||r3(y,n.schema)),b=e.forceValue!==void 0?!e.forceValue:this.value;n.change(y=>{if(b){const S=f[f.length-1],T=wm(S,{direction:"forward"}),B=[];T.length>1&&B.push(...e3(T[1],y)),B.push(...nC(f,y)),B.push(...function(P,W){const ee=[];let ne=Number.POSITIVE_INFINITY;for(const{node:le}of new Zw(P.nextSibling)){const Ce=le.getAttribute("listIndent");if(Ce==0)break;Ce<ne&&(ne=Ce);const Me=Ce-ne;W.setAttribute("listIndent",Me,le),ee.push(le)}return ee}(S,y)),this._fireAfterExecute(B)}else if((l||s.selection.isCollapsed)&&Ss(f[0])){const S=wT(l||f[0],this._listWalkerOptions);for(const T of S)y.setAttributes({...e.additionalAttributes,listType:this.type},T);this._fireAfterExecute(S)}else{const S=[];for(const T of f)if(T.hasAttribute("listType"))for(const B of Jw(T,{withNested:!1}))B.getAttribute("listType")!=this.type&&(y.setAttributes({...e.additionalAttributes,listType:this.type},B),S.push(B));else!T.is("element","listItem")&&r3(T,n.schema)&&y.rename(T,"listItem"),y.setAttributes({...e.additionalAttributes,listIndent:0,listItemId:C0.next(),listType:this.type},T),S.push(T);this._fireAfterExecute(S)}})}_fireAfterExecute(e){this.fire("afterExecute",Rg(new Set(e)))}_getValue(){const e=this.editor.model.document.selection,n=Array.from(e.getSelectedBlocks());if(!n.length)return!1;for(const s of n)if(s.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const e=this.editor.model,n=e.schema,s=e.document.selection,l=Array.from(s.getSelectedBlocks());if(!l.length)return!1;if(this.value)return!0;for(const f of l)if(n.checkAttribute(f,"listType")||r3(f,n))return!0;return!1}}class _T extends pn{constructor(e,n){super(e),this._direction=n}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:e=!1}={}){const n=this.editor.model,s=n.document.selection,l=[];n.change(f=>{const{firstElement:b,lastElement:y}=this._getMergeSubjectElements(s,e),S=b.getAttribute("listIndent")||0,T=y.getAttribute("listIndent"),B=y.getAttribute("listItemId");if(S!=T){const W=(P=y,Array.from(new Yu(P,{direction:"forward",higherIndent:!0})));l.push(...n3([y,...W],f,{indentBy:S-T,expand:S<T}))}var P;if(e){let W=s;s.isCollapsed&&(W=f.createSelection(f.createRange(f.createPositionAt(b,"end"),f.createPositionAt(y,0)))),n.deleteContent(W,{doNotResetEntireContent:s.isCollapsed});const ee=W.getLastPosition().parent,ne=ee.nextSibling;l.push(ee),ne&&ne!==y&&ne.getAttribute("listItemId")==B&&l.push(...t3(ne,ee,f))}else l.push(...t3(y,b,f));this._fireAfterExecute(l)})}_fireAfterExecute(e){this.fire("afterExecute",Rg(new Set(e)))}_checkEnabled(){const e=this.editor.model,n=e.document.selection,s=ev(e);if(n.isCollapsed||s){const l=s||n.getFirstPosition().parent;if(!Ss(l))return!1;const f=this._direction=="backward"?l.previousSibling:l.nextSibling;if(!f||Xw([l,f]))return!1}else{const l=n.getLastPosition(),f=n.getFirstPosition();if(l.parent===f.parent||!Ss(l.parent))return!1}return!0}_getMergeSubjectElements(e,n){const s=ev(this.editor.model);let l,f;if(e.isCollapsed||s){const b=s||e.getFirstPosition().parent,y=Pg(b);this._direction=="backward"?(f=b,l=y&&!n?Yu.first(b,{sameIndent:!0,lowerIndent:!0}):b.previousSibling):(l=b,f=b.nextSibling)}else l=e.getFirstPosition().parent,f=e.getLastPosition().parent;return{firstElement:l,lastElement:f}}}class CT extends pn{constructor(e,n){super(e),this._direction=n}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change(e=>{const n=e3(this._getStartBlock(),e);this._fireAfterExecute(n)})}_fireAfterExecute(e){this.fire("afterExecute",Rg(new Set(e)))}_checkEnabled(){const e=this.editor.model.document.selection,n=this._getStartBlock();return e.isCollapsed&&Ss(n)&&!Pg(n)}_getStartBlock(){const e=this.editor.model.document.selection.getFirstPosition().parent;return this._direction=="before"?e:e.nextSibling}}class Aq extends Vt{static get pluginName(){return"ListUtils"}static get isOfficialPlugin(){return!0}expandListBlocksToCompleteList(e){return wq(e)}isFirstBlockOfListItem(e){return Pg(e)}isListItemBlock(e){return Ss(e)}expandListBlocksToCompleteItems(e,n={}){return Jw(e,n)}isNumberedListType(e){return vq(e)}}function _q(u){return u.is("element","ol")||u.is("element","ul")}function i3(u){return u.is("element","li")}function Cq(u,e,n,s=ST(n,e)){return u.createAttributeElement(xT(n),null,{priority:2*e/100-100,id:s})}function xq(u,e,n){return u.createAttributeElement("li",null,{priority:(2*e+1)/100-100,id:n})}function xT(u){return u=="numbered"||u=="customNumbered"?"ol":"ul"}function ST(u,e){return`list-${u}-${e}`}function Hd(u,e,n){const s=u.nodeBefore;if(Ss(s)){let l=s;for(const{node:f}of new Zw(l,"backward"))if(l=f,n.has(l)||(n.add(l),e.has(s)))return;e.add(l)}else{const l=u.nodeAfter;Ss(l)&&e.add(l)}}function Sq(){return(u,e,n)=>{const{writer:s,schema:l}=n;if(!e.modelRange)return;const f=Array.from(e.modelRange.getItems({shallow:!0})).filter(P=>l.checkAttribute(P,"listItemId"));if(!f.length)return;const b=C0.next(),y=function(P){let W=0,ee=P.parent;for(;ee;){if(i3(ee))W++;else{const ne=ee.previousSibling;ne&&i3(ne)&&W++}ee=ee.parent}return W}(e.viewItem);let S=e.viewItem.parent&&e.viewItem.parent.is("element","ol")?"numbered":"bulleted";const T=f[0].getAttribute("listType");T&&(S=T);const B={listItemId:b,listIndent:y,listType:S};for(const P of f)P.hasAttribute("listItemId")||s.setAttributes(B,P);f.length>1&&f[1].getAttribute("listItemId")!=B.listItemId&&n.keepEmptyElement(f[0])}}function ET(u,e,n,{dataPipeline:s}={}){const l=function(f){return(b,y)=>{const S=[];for(const T of f)b.hasAttribute(T)&&S.push(`attribute:${T}`);return!!S.every(T=>y.test(b,T)!==!1)&&(S.forEach(T=>y.consume(b,T)),!0)}}(u);return(f,b,y)=>{const{writer:S,mapper:T,consumable:B}=y,P=b.item;if(!u.includes(b.attributeKey)||!l(P,B))return;const W=function(ne,le,Ce){const Me=Ce.createRangeOn(ne);return le.toViewRange(Me).getTrimmed().end.nodeBefore}(P,T,n);IT(W,S,T),function(ne,le){let Ce=ne.parent;for(;Ce.is("attributeElement")&&["ul","ol","li"].includes(Ce.name);){const Me=Ce.parent;le.unwrap(le.createRangeOn(ne),Ce),Ce=Me}}(W,S);const ee=function(ne,le,Ce,Me,{dataPipeline:qe}){let tt=Me.createRangeOn(le);if(!Pg(ne))return tt;for(const Et of Ce){if(Et.scope!="itemMarker")continue;const Mt=Et.createElement(Me,ne,{dataPipeline:qe});if(!Mt||(Me.setCustomProperty("listItemMarker",!0,Mt),Et.canInjectMarkerIntoElement&&Et.canInjectMarkerIntoElement(ne)?Me.insert(Me.createPositionAt(le,0),Mt):(Me.insert(tt.start,Mt),tt=Me.createRange(Me.createPositionBefore(Mt),Me.createPositionAfter(le))),!Et.createWrapperElement||!Et.canWrapElement))continue;const wn=Et.createWrapperElement(Me,ne,{dataPipeline:qe});Me.setCustomProperty("listItemWrapper",!0,wn),Et.canWrapElement(ne)?tt=Me.wrap(tt,wn):(tt=Me.wrap(Me.createRangeOn(Mt),wn),tt=Me.createRange(tt.start,Me.createPositionAfter(le)))}return tt}(P,W,e,S,{dataPipeline:s});(function(ne,le,Ce,Me){if(!ne.hasAttribute("listIndent"))return;const qe=ne.getAttribute("listIndent");let tt=ne;for(let Et=qe;Et>=0;Et--){const Mt=xq(Me,Et,tt.getAttribute("listItemId")),wn=Cq(Me,Et,tt.getAttribute("listType"));for(const yn of Ce)yn.scope!="list"&&yn.scope!="item"||!tt.hasAttribute(yn.attributeName)||yn.setAttributeOnDowncast(Me,tt.getAttribute(yn.attributeName),yn.scope=="list"?wn:Mt);if(le=Me.wrap(le,Mt),le=Me.wrap(le,wn),Et==0||(tt=Yu.first(tt,{lowerIndent:!0}),!tt))break}})(P,ee,e,S)}}function DT(u,{dataPipeline:e}={}){return(n,{writer:s})=>{if(!TT(n,u))return null;if(!e)return s.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const l=s.createContainerElement("p");return s.setCustomProperty("dataPipeline:transparentRendering",!0,l),l}}function IT(u,e,n){for(;u.parent.is("attributeElement")&&u.parent.getCustomProperty("listItemWrapper");)e.unwrap(e.createRangeOn(u),u.parent);const s=[];l(e.createPositionBefore(u).getWalker({direction:"backward"})),l(e.createRangeIn(u).getWalker());for(const f of s)e.remove(f);function l(f){for(const{item:b}of f){if(b.is("element")&&n.toModelElement(b))break;b.is("element")&&b.getCustomProperty("listItemMarker")&&s.push(b)}}}function TT(u,e,n=XS(u)){if(!Ss(u))return!1;for(const s of u.getAttributeKeys())if(!s.startsWith("selection:")&&s!="htmlEmptyBlock"&&!e.includes(s))return!1;return n.length<2}var iC=a(1232),tv={attributes:{"data-cke":!0}};tv.setAttributes=zt(),tv.insert=Rt().bind(null,"head"),tv.domAPI=Ut(),tv.insertStyleElement=Nt(),Dt()(iC.A,tv),iC.A&&iC.A.locals&&iC.A.locals;var oC=a(6903),nv={attributes:{"data-cke":!0}};nv.setAttributes=zt(),nv.insert=Rt().bind(null,"head"),nv.domAPI=Ut(),nv.insertStyleElement=Nt(),Dt()(oC.A,nv),oC.A&&oC.A.locals&&oC.A.locals;const sC=["listType","listIndent","listItemId"];class Eq extends Vt{constructor(e){super(e),this._downcastStrategies=[],e.config.define("list.multiBlock",!0)}static get pluginName(){return"ListEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[v2,Yf,Aq,$u]}init(){const e=this.editor,n=e.model,s=e.config.get("list.multiBlock");if(e.plugins.has("LegacyListEditing"))throw new U("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});n.schema.register("$listItem",{allowAttributes:sC}),s?(n.schema.extend("$container",{allowAttributesOf:"$listItem"}),n.schema.extend("$block",{allowAttributesOf:"$listItem"}),n.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):n.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const l of sC)n.schema.setAttributeProperties(l,{copyOnReplace:!0});e.commands.add("numberedList",new rC(e,"numbered")),e.commands.add("bulletedList",new rC(e,"bulleted")),e.commands.add("customNumberedList",new rC(e,"customNumbered",{multiLevel:!0})),e.commands.add("customBulletedList",new rC(e,"customBulleted",{multiLevel:!0})),e.commands.add("indentList",new yT(e,"forward")),e.commands.add("outdentList",new yT(e,"backward")),e.commands.add("splitListItemBefore",new CT(e,"before")),e.commands.add("splitListItemAfter",new CT(e,"after")),s&&(e.commands.add("mergeListItemBackward",new _T(e,"backward")),e.commands.add("mergeListItemForward",new _T(e,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration()}afterInit(){const e=this.editor.commands,n=e.get("indent"),s=e.get("outdent");n&&n.registerChildCommand(e.get("indentList"),{priority:"high"}),s&&s.registerChildCommand(e.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(e){this._downcastStrategies.push(e)}getListAttributeNames(){return[...sC,...this._downcastStrategies.map(e=>e.attributeName)]}_setupDeleteIntegration(){const e=this.editor,n=e.commands.get("mergeListItemBackward"),s=e.commands.get("mergeListItemForward");this.listenTo(e.editing.view.document,"delete",(l,f)=>{const b=e.model.document.selection;ev(e.model)||e.model.change(()=>{const y=b.getFirstPosition();if(b.isCollapsed&&f.direction=="backward"){if(!y.isAtStart)return;const S=y.parent;if(!Ss(S))return;if(Yu.first(S,{sameAttributes:"listType",sameIndent:!0})||S.getAttribute("listIndent")!==0){if(!n||!n.isEnabled)return;n.execute({shouldMergeOnBlocksContentLevel:MT(e.model,"backward")})}else vT(S)||e.execute("splitListItemAfter"),e.execute("outdentList");f.preventDefault(),l.stop()}else{if(b.isCollapsed&&!b.getLastPosition().isAtEnd||!s||!s.isEnabled)return;s.execute({shouldMergeOnBlocksContentLevel:MT(e.model,"forward")}),f.preventDefault(),l.stop()}})},{context:"li"})}_setupEnterIntegration(){const e=this.editor,n=e.model,s=e.commands,l=s.get("enter");this.listenTo(e.editing.view.document,"enter",(f,b)=>{const y=n.document,S=y.selection.getFirstPosition().parent;if(y.selection.isCollapsed&&Ss(S)&&S.isEmpty&&!b.isSoft){const T=Pg(S),B=vT(S);T&&B?(e.execute("outdentList"),b.preventDefault(),f.stop()):T&&!B?(e.execute("splitListItemAfter"),b.preventDefault(),f.stop()):B&&(e.execute("splitListItemBefore"),b.preventDefault(),f.stop())}},{context:"li"}),this.listenTo(l,"afterExecute",()=>{const f=s.get("splitListItemBefore");f.refresh(),f.isEnabled&&XS(e.model.document.selection.getLastPosition().parent).length===2&&f.execute()})}_setupTabIntegration(){const e=this.editor;this.listenTo(e.editing.view.document,"tab",(n,s)=>{const l=s.shiftKey?"outdentList":"indentList";this.editor.commands.get(l).isEnabled&&(e.execute(l),s.stopPropagation(),s.preventDefault(),n.stop())},{context:"li"})}_setupConversion(){const e=this.editor,n=e.model,s=this.getListAttributeNames(),l=e.config.get("list.multiBlock"),f=l?"paragraph":"listItem";e.conversion.for("upcast").elementToElement({view:"li",model:(T,{writer:B})=>B.createElement(f,{listType:""})}).elementToElement({view:"p",model:(T,{writer:B})=>T.parent&&T.parent.is("element","li")?B.createElement(f,{listType:""}):null,converterPriority:"high"}).add(T=>{T.on("element:li",Sq())}),l||e.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),e.conversion.for("editingDowncast").elementToElement({model:f,view:DT(s),converterPriority:"high"}).add(T=>{var B;T.on("attribute",ET(s,this._downcastStrategies,n)),T.on("remove",(B=n.schema,(P,W,ee)=>{const{writer:ne,mapper:le}=ee,Ce=P.name.split(":")[1];if(!B.checkAttribute(Ce,"listItemId"))return;const Me=le.toViewPosition(W.position),qe=W.position.getShiftedBy(W.length),tt=le.toViewPosition(qe,{isPhantom:!0}),Et=ne.createRange(Me,tt).getTrimmed().end.nodeBefore;Et&&IT(Et,ne,le)}))}),e.conversion.for("dataDowncast").elementToElement({model:f,view:DT(s,{dataPipeline:!0}),converterPriority:"high"}).add(T=>{T.on("attribute",ET(s,this._downcastStrategies,n,{dataPipeline:!0}))});const b=(y=this._downcastStrategies,S=e.editing.view,(T,B)=>{if(B.modelPosition.offset>0)return;const P=B.modelPosition.parent;if(!Ss(P)||!y.some(Ce=>Ce.scope=="itemMarker"&&Ce.canInjectMarkerIntoElement&&Ce.canInjectMarkerIntoElement(P)))return;const W=B.mapper.toViewElement(P),ee=S.createRangeIn(W),ne=ee.getWalker();let le=ee.start;for(const{item:Ce}of ne){if(Ce.is("element")&&B.mapper.toModelElement(Ce)||Ce.is("$textProxy"))break;Ce.is("element")&&Ce.getCustomProperty("listItemMarker")&&(le=S.createPositionAfter(Ce),ne.skip(({previousPosition:Me})=>!Me.isEqual(le)))}B.viewPosition=le});var y,S;e.editing.mapper.on("modelToViewPosition",b),e.data.mapper.on("modelToViewPosition",b),this.listenTo(n.document,"change:data",function(T,B,P,W){return()=>{const Ce=T.document.differ.getChanges(),Me=[],qe=new Set,tt=new Set,Et=new Set;for(const Mt of Ce)if(Mt.type=="insert"&&Mt.name!="$text")Hd(Mt.position,qe,Et),Mt.attributes.has("listItemId")?tt.add(Mt.position.nodeAfter):Hd(Mt.position.getShiftedBy(Mt.length),qe,Et);else if(Mt.type=="remove"&&Mt.attributes.has("listItemId"))Hd(Mt.position,qe,Et);else if(Mt.type=="attribute"){const wn=Mt.range.start.nodeAfter;P.includes(Mt.attributeKey)?(Hd(Mt.range.start,qe,Et),Mt.attributeNewValue===null?(Hd(Mt.range.start.getShiftedBy(1),qe,Et),ne(wn)&&Me.push(wn)):tt.add(wn)):Ss(wn)&&ne(wn)&&Me.push(wn)}for(const Mt of qe.values())Me.push(...ee(Mt,tt));for(const Mt of new Set(Me))B.reconvertItem(Mt)};function ee(Ce,Me){const qe=[],tt=new Set,Et=[];for(const{node:Mt,previous:wn}of new Zw(Ce)){if(tt.has(Mt))continue;const yn=Mt.getAttribute("listIndent");wn&&yn<wn.getAttribute("listIndent")&&(Et.length=yn+1),Et[yn]=Object.fromEntries(Array.from(Mt.getAttributes()).filter(([ro])=>P.includes(ro)));const Jr=wm(Mt,{direction:"forward"});for(const ro of Jr)tt.add(ro),(ne(ro,Jr)||le(ro,Et,Me))&&qe.push(ro)}return qe}function ne(Ce,Me){const qe=B.mapper.toViewElement(Ce);if(!qe)return!1;if(W.fire("checkElement",{modelElement:Ce,viewElement:qe}))return!0;if(!Ce.is("element","paragraph")&&!Ce.is("element","listItem"))return!1;const tt=TT(Ce,P,Me);return!(!tt||!qe.is("element","p"))||!(tt||!qe.is("element","span"))}function le(Ce,Me,qe){if(qe.has(Ce))return!1;const tt=B.mapper.toViewElement(Ce);let Et=Me.length-1;for(let Mt=tt.parent;!Mt.is("editableElement");Mt=Mt.parent){const wn=i3(Mt),yn=_q(Mt);if(!yn&&!wn)continue;const Jr="checkAttributes:"+(wn?"item":"list");if(W.fire(Jr,{viewElement:Mt,modelAttributes:Me[Et]}))break;if(yn&&(Et--,Et<0))return!1}return!0}}(n,e.editing,s,this),{priority:"high"}),this.on("checkAttributes:item",(T,{viewElement:B,modelAttributes:P})=>{B.id!=P.listItemId&&(T.return=!0,T.stop())}),this.on("checkAttributes:list",(T,{viewElement:B,modelAttributes:P})=>{B.name==xT(P.listType)&&B.id==ST(P.listType,P.listIndent)||(T.return=!0,T.stop())})}_setupModelPostFixing(){const e=this.editor.model,n=this.getListAttributeNames();e.document.registerPostFixer(s=>function(l,f,b,y){const S=l.document.differ.getChanges(),T=new Set,B=new Set,P=y.editor.config.get("list.multiBlock");let W=!1;for(const ne of S){if(ne.type=="insert"&&ne.name!="$text"){const le=ne.position.nodeAfter;if(!l.schema.checkAttribute(le,"listItemId"))for(const Ce of Array.from(le.getAttributeKeys()))b.includes(Ce)&&(f.removeAttribute(Ce,le),W=!0);Hd(ne.position,B,T),ne.attributes.has("listItemId")||Hd(ne.position.getShiftedBy(ne.length),B,T);for(const{item:Ce,previousPosition:Me}of l.createRangeIn(le))Ss(Ce)&&Hd(Me,B,T)}else ne.type=="remove"?Hd(ne.position,B,T):ne.type=="attribute"&&b.includes(ne.attributeKey)&&(Hd(ne.range.start,B,T),ne.attributeNewValue===null&&Hd(ne.range.start.getShiftedBy(1),B,T));if(!P&&ne.type=="attribute"&&sC.includes(ne.attributeKey)){const le=ne.range.start.nodeAfter;ne.attributeNewValue===null&&le&&le.is("element","listItem")?(f.rename(le,"paragraph"),W=!0):ne.attributeOldValue===null&&le&&le.is("element")&&le.name!="listItem"&&(f.rename(le,"listItem"),W=!0)}}const ee=new Set;for(const ne of B.values())W=y.fire("postFixer",{listNodes:new kq(ne),listHead:ne,writer:f,seenIds:ee})||W;return W}(e,s,n,this)),this.on("postFixer",(s,{listNodes:l,writer:f})=>{s.return=function(b,y){let S=0,T=-1,B=null,P=!1;for(const{node:W}of b){const ee=W.getAttribute("listIndent");if(ee>S){let ne;B===null?(B=ee-S,ne=S):(B>ee&&(B=ee),ne=ee-B),ne>T+1&&(ne=T+1),y.setAttribute("listIndent",ne,W),P=!0,T=ne}else B=null,S=ee+1,T=ee}return P}(l,f)||s.return},{priority:"high"}),this.on("postFixer",(s,{listNodes:l,writer:f,seenIds:b})=>{s.return=function(y,S,T){const B=new Set;let P=!1;for(const{node:W}of y){if(B.has(W))continue;let ee=W.getAttribute("listType"),ne=W.getAttribute("listItemId");if(S.has(ne)&&(ne=C0.next()),S.add(ne),W.is("element","listItem"))W.getAttribute("listItemId")!=ne&&(T.setAttribute("listItemId",ne,W),P=!0);else for(const le of wm(W,{direction:"forward"}))B.add(le),le.getAttribute("listType")!=ee&&(ne=C0.next(),ee=le.getAttribute("listType")),le.getAttribute("listItemId")!=ne&&(T.setAttribute("listItemId",ne,le),P=!0)}return P}(l,b,f)||s.return},{priority:"high"})}_setupClipboardIntegration(){const e=this.editor.model,n=this.editor.plugins.get("ClipboardPipeline");this.listenTo(e,"insertContent",function(s){return(l,[f,b])=>{const y=f.is("documentFragment")?Array.from(f.getChildren()):[f];if(!y.length)return;const S=(b?s.createSelection(b):s.document.selection).getFirstPosition();let T;if(Ss(S.parent))T=S.parent;else{if(!Ss(S.nodeBefore)||!Ss(S.nodeAfter))return;T=S.nodeBefore}s.change(B=>{const P=T.getAttribute("listType"),W=T.getAttribute("listIndent"),ee=y[0].getAttribute("listIndent")||0,ne=Math.max(W-ee,0);for(const le of y){const Ce=Ss(le);T.is("element","listItem")&&le.is("element","paragraph")&&B.rename(le,"listItem"),B.setAttributes({listIndent:(Ce?le.getAttribute("listIndent"):0)+ne,listItemId:Ce?le.getAttribute("listItemId"):C0.next(),listType:P},le)}})}}(e),{priority:"high"}),this.listenTo(n,"outputTransformation",(s,l)=>{e.change(f=>{const b=Array.from(l.content.getChildren()),y=b[b.length-1];if(b.length>1&&y.is("element")&&y.isEmpty&&b.slice(0,-1).every(Ss)&&f.remove(y),l.method=="copy"||l.method=="cut"){const S=Array.from(l.content.getChildren());Xw(S)&&nC(S,f)}})})}_setupAccessibilityIntegration(){const e=this.editor,n=e.t;e.accessibility.addKeystrokeInfoGroup({id:"list",label:n("Keystrokes that can be used in a list"),keystrokes:[{label:n("Increase list item indent"),keystroke:"Tab"},{label:n("Decrease list item indent"),keystroke:"Shift+Tab"}]})}}function MT(u,e){const n=u.document.selection;if(!n.isCollapsed)return!ev(u);if(e==="forward")return!0;const s=n.getFirstPosition().parent,l=s.previousSibling;return!u.schema.isObject(l)&&(!!l.isEmpty||Xw([s,l]))}function NT(u,e,n,s){u.ui.componentFactory.add(e,()=>{const l=OT(sr,u,e,n,s);return l.set({tooltip:!0,isToggleable:!0}),l}),u.ui.componentFactory.add(`menuBar:${e}`,()=>{const l=OT(St,u,e,n,s);return l.set({role:"menuitemcheckbox",isToggleable:!0}),l})}function OT(u,e,n,s,l){const f=e.commands.get(n),b=new u(e.locale);return b.set({label:s,icon:l}),b.bind("isOn","isEnabled").to(f,"value","isEnabled"),b.on("execute",()=>{e.execute(n),e.editing.view.focus()}),b}class Dq extends Vt{static get pluginName(){return"ListUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.t;this.editor.ui.componentFactory.has("numberedList")||NT(this.editor,"numberedList",e("Numbered List"),cn.numberedList),this.editor.ui.componentFactory.has("bulletedList")||NT(this.editor,"bulletedList",e("Bulleted List"),cn.bulletedList)}}class Iq extends Vt{static get requires(){return[Eq,Dq]}static get pluginName(){return"List"}static get isOfficialPlugin(){return!0}}const Tq=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:u,typeAttribute:e,listType:n}of Tq);var aC=a(9968),rv={attributes:{"data-cke":!0}};rv.setAttributes=zt(),rv.insert=Rt().bind(null,"head"),rv.domAPI=Ut(),rv.insertStyleElement=Nt(),Dt()(aC.A,rv),aC.A&&aC.A.locals&&aC.A.locals;var lC=a(7141),iv={attributes:{"data-cke":!0}};iv.setAttributes=zt(),iv.insert=Rt().bind(null,"head"),iv.domAPI=Ut(),iv.insertStyleElement=Nt(),Dt()(lC.A,iv),lC.A&&lC.A.locals&&lC.A.locals;var cC=a(8991),ov={attributes:{"data-cke":!0}};ov.setAttributes=zt(),ov.insert=Rt().bind(null,"head"),ov.domAPI=Ut(),ov.insertStyleElement=Nt(),Dt()(cC.A,ov),cC.A&&cC.A.locals&&cC.A.locals;function BT(u,e){const n=(s,l,f)=>{if(!f.consumable.consume(l.item,s.name))return;const b=l.attributeNewValue,y=f.writer,S=f.mapper.toViewElement(l.item),T=[...S.getChildren()].find(P=>P.getCustomProperty("media-content"));y.remove(T);const B=u.getMediaViewElement(y,b,e);y.insert(y.createPositionAt(S,0),B)};return s=>{s.on("attribute:url:media",n)}}function jT(u,e,n,s){return u.createContainerElement("figure",{class:"media"},[e.getMediaViewElement(u,n,s),u.createSlot()])}function LT(u){const e=u.getSelectedElement();return e&&e.is("element","media")?e:null}function PT(u,e,n,s){u.change(l=>{const f=l.createElement("media",{url:e});u.insertObject(f,n,null,{setSelection:"on",findOptimalPosition:s?"auto":void 0})})}class Mq extends pn{refresh(){const e=this.editor.model,n=e.document.selection,s=LT(n);this.value=s?s.getAttribute("url"):void 0,this.isEnabled=function(l){const f=l.getSelectedElement();return!!f&&f.name==="media"}(n)||function(l,f){let y=G6(l,f).start.parent;return y.isEmpty&&!f.schema.isLimit(y)&&(y=y.parent),f.schema.checkChild(y,"media")}(n,e)}execute(e){const n=this.editor.model,s=n.document.selection,l=LT(s);l?n.change(f=>{f.setAttribute("url",e,l)}):PT(n,e,s,!0)}}class Nq{constructor(e,n){const s=n.providers,l=n.extraProviders||[],f=new Set(n.removeProviders),b=s.concat(l).filter(y=>{const S=y.name;return S?!f.has(S):(q("media-embed-no-provider-name",{provider:y}),!1)});this.locale=e,this.providerDefinitions=b}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,n,s){return this._getMedia(n).getViewElement(e,s)}_getMedia(e){if(!e)return new RT(this.locale);e=e.trim();for(const n of this.providerDefinitions){const s=n.html,l=or(n.url);for(const f of l){const b=this._getUrlMatches(e,f);if(b)return new RT(this.locale,e,b,s)}}return null}_getUrlMatches(e,n){let s=e.match(n);if(s)return s;let l=e.replace(/^https?:\/\//,"");return s=l.match(n),s||(l=l.replace(/^www\./,""),s=l.match(n),s||null)}}class RT{constructor(e,n,s,l){this.url=this._getValidUrl(n),this._locale=e,this._match=s,this._previewRenderer=l}getViewElement(e,n){const s={};let l;if(n.renderForEditingView||n.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(s["data-oembed-url"]=this.url),n.renderForEditingView&&(s.class="ck-media__wrapper");const f=this._getPreviewHtml(n);l=e.createRawElement("div",s,(b,y)=>{y.setContentOf(b,f)})}else this.url&&(s.url=this.url),l=e.createEmptyElement(n.elementName,s);return e.setCustomProperty("media-content",!0,l),l}_getPreviewHtml(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const e=new Ya,n=this._locale.t;return e.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',e.viewBox="0 0 64 42",new et({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":n("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(e){return e?e.match(/^https?/)?e:"https://"+e:null}}var uC=a(7048),sv={attributes:{"data-cke":!0}};sv.setAttributes=zt(),sv.insert=Rt().bind(null,"head"),sv.domAPI=Ut(),sv.insertStyleElement=Nt(),Dt()(uC.A,sv),uC.A&&uC.A.locals&&uC.A.locals;class dC extends Vt{static get pluginName(){return"MediaEmbedEditing"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:[/^dailymotion\.com\/video\/(\w+)/,/^dai.ly\/(\w+)/],html:n=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${n[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:n=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${n[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/shorts\/([\w-]+)(?:\?t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:n=>{const s=n[1],l=n[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${s}${l?`?start=${l}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:n=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${n[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:[/^instagram\.com\/p\/(\w+)/,/^instagram\.com\/reel\/(\w+)/]},{name:"twitter",url:[/^twitter\.com/,/^x\.com/]},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new Nq(e.locale,e.config.get("mediaEmbed"))}init(){const e=this.editor,n=e.model.schema,s=e.t,l=e.conversion,f=e.config.get("mediaEmbed.previewsInData"),b=e.config.get("mediaEmbed.elementName"),y=this.registry;e.commands.add("mediaEmbed",new Mq(e)),n.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),l.for("dataDowncast").elementToStructure({model:"media",view:(S,{writer:T})=>{const B=S.getAttribute("url");return jT(T,y,B,{elementName:b,renderMediaPreview:!!B&&f})}}),l.for("dataDowncast").add(BT(y,{elementName:b,renderMediaPreview:f})),l.for("editingDowncast").elementToStructure({model:"media",view:(S,{writer:T})=>{const B=S.getAttribute("url");return function(P,W,ee){return W.setCustomProperty("media",!0,P),LS(P,W,{label:ee})}(jT(T,y,B,{elementName:b,renderForEditingView:!0}),T,s("media widget"))}}),l.for("editingDowncast").add(BT(y,{elementName:b,renderForEditingView:!0})),l.for("upcast").elementToElement({view:S=>["oembed",b].includes(S.name)&&S.getAttribute("url")?{name:!0}:null,model:(S,{writer:T})=>{const B=S.getAttribute("url");return y.hasMedia(B)?T.createElement("media",{url:B}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(S,{writer:T})=>{const B=S.getAttribute("data-oembed-url");return y.hasMedia(B)?T.createElement("media",{url:B}):null}}).add(S=>{S.on("element:figure",(T,B,P)=>{if(!P.consumable.consume(B.viewItem,{name:!0,classes:"media"}))return;const{modelRange:W,modelCursor:ee}=P.convertChildren(B.viewItem,B.modelCursor);B.modelRange=W,B.modelCursor=ee,Po(W.getItems())||P.consumable.revert(B.viewItem,{name:!0,classes:"media"})})})}}const Oq=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class Bq extends Vt{static get requires(){return[sI,Yf,cI]}static get pluginName(){return"AutoMediaEmbed"}static get isOfficialPlugin(){return!0}constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}init(){const e=this.editor,n=e.model.document,s=e.plugins.get("ClipboardPipeline");this.listenTo(s,"inputTransformation",()=>{const l=n.selection.getFirstRange(),f=Js.fromPosition(l.start);f.stickiness="toPrevious";const b=Js.fromPosition(l.end);b.stickiness="toNext",n.once("change:data",()=>{this._embedMediaBetweenPositions(f,b),f.detach(),b.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(p.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(e,n){const s=this.editor,l=s.plugins.get(dC).registry,f=new sa(e,n),b=f.getWalker({ignoreElementEnd:!0});let y="";for(const S of b)S.item.is("$textProxy")&&(y+=S.item.data);if(y=y.trim(),!y.match(Oq)||!l.hasMedia(y))return void f.detach();s.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=Js.fromPosition(e),this._timeoutId=p.window.setTimeout(()=>{s.model.change(S=>{this._timeoutId=null,S.remove(f),f.detach();let T=null;this._positionToInsert.root.rootName!=="$graveyard"&&(T=this._positionToInsert),PT(s.model,y,T,!1),this._positionToInsert.detach(),this._positionToInsert=null}),s.plugins.get(Yf).requestUndoOnBackspace()},100)):f.detach()}}var hC=a(5651),av={attributes:{"data-cke":!0}};av.setAttributes=zt(),av.insert=Rt().bind(null,"head"),av.domAPI=Ut(),av.insertStyleElement=Nt(),Dt()(hC.A,av),hC.A&&hC.A.locals&&hC.A.locals;class jq extends un{constructor(e,n){super(n),this.focusTracker=new Ji,this.keystrokes=new Q,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView]})}render(){super.render(),ri({view:this}),this.focusTracker.add(this.urlInputView.element),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.urlInputView.focus()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const n=e(this);if(n)return this.urlInputView.errorText=n,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,n=new D_(this.locale,G_),s=n.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),n.label=e("Media URL"),n.infoText=this._urlInputViewInfoDefault,s.inputMode="url",s.on("input",()=>{n.infoText=s.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=s.element.value.trim()}),n}}class Lq extends Vt{static get requires(){return[dC,L]}static get pluginName(){return"MediaEmbedUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.ui.componentFactory.add("mediaEmbed",()=>{const n=this.editor.locale.t,s=this._createDialogButton(sr);return s.tooltip=!0,s.label=n("Insert media"),s}),e.ui.componentFactory.add("menuBar:mediaEmbed",()=>{const n=this.editor.locale.t,s=this._createDialogButton(St);return s.label=n("Media"),s})}_createDialogButton(e){const n=this.editor,s=new e(n.locale),l=n.commands.get("mediaEmbed"),f=this.editor.plugins.get("Dialog");return s.icon='<svg viewBox="0 0 22 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.587 1.5c-.612 0-.601-.029-.601.551v14.84c0 .59-.01.559.591.559h18.846c.602 0 .591.03.591-.56V2.052c0-.58.01-.55-.591-.55H1.587Zm.701.971h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-14.24 1h13.008v12H4.467l.029-12Zm-2.208 1h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003l-.029 1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h.974v1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Z"/><path d="M8.374 6.648a.399.399 0 0 1 .395-.4.402.402 0 0 1 .2.049l5.148 2.824a.4.4 0 0 1 0 .7l-5.148 2.824a.403.403 0 0 1-.595-.35V6.648Z"/></svg>',s.bind("isEnabled").to(l,"isEnabled"),s.on("execute",()=>{f.id==="mediaEmbed"?f.hide():this._showDialog()}),s}_showDialog(){const e=this.editor,n=e.plugins.get("Dialog"),s=e.commands.get("mediaEmbed"),l=e.locale.t;if(!this._formView){const f=e.plugins.get(dC).registry;this._formView=new(Yl(jq))(function(b,y){return[S=>{if(!S.url.length)return b("The URL must not be empty.")},S=>{if(!y.hasMedia(S.url))return b("This media URL is not supported.")}]}(e.t,f),e.locale),this._formView.on("submit",()=>this._handleSubmitForm())}n.show({id:"mediaEmbed",title:l("Insert media"),content:this._formView,isModal:!0,onShow:()=>{this._formView.url=s.value||"",this._formView.resetFormStatus(),this._formView.urlInputView.fieldView.select()},actionButtons:[{label:l("Cancel"),withText:!0,onExecute:()=>n.hide()},{label:l("Accept"),class:"ck-button-action",withText:!0,onExecute:()=>this._handleSubmitForm()}]})}_handleSubmitForm(){const e=this.editor,n=e.plugins.get("Dialog");this._formView.isValid()&&(e.execute("mediaEmbed",this._formView.url),n.hide(),e.editing.view.focus())}}var fC=a(70),lv={attributes:{"data-cke":!0}};lv.setAttributes=zt(),lv.insert=Rt().bind(null,"head"),lv.domAPI=Ut(),lv.insertStyleElement=Nt(),Dt()(fC.A,lv),fC.A&&fC.A.locals&&fC.A.locals;class Pq extends Vt{static get requires(){return[dC,Lq,Bq,Ew]}static get pluginName(){return"MediaEmbed"}static get isOfficialPlugin(){return!0}}function FT(u){return u!==void 0&&u.endsWith("px")}function x0(u){return u.toFixed(2).replace(/\.?0+$/,"")+"px"}function Rq(u,e,n){if(!u.childCount)return;const s=new rc(u.document),l=function(y,S){const T=S.createRangeIn(y),B=[],P=new Set;for(const W of T.getItems()){if(!W.is("element")||!W.name.match(/^(p|h\d+|li|div)$/))continue;let ee=Wq(W);if(ee===void 0||parseFloat(ee)!=0||Array.from(W.getClassNames()).find(ne=>ne.startsWith("MsoList"))||(ee=void 0),W.hasStyle("mso-list")||ee!==void 0&&P.has(ee)){const ne=Hq(W);B.push({element:W,id:ne.id,order:ne.order,indent:ne.indent,marginLeft:ee}),ee!==void 0&&P.add(ee)}else P.clear()}return B}(u,s);if(!l.length)return;const f={},b=[];for(const y of l)if(y.indent!==void 0){Fq(y)||(b.length=0);const S=`${y.id}:${y.indent}`,T=Math.min(y.indent-1,b.length);if(T<b.length&&b[T].id!==y.id&&(b.length=T),T<b.length-1)b.length=T+1;else{const P=Uq(y,e);if(T>b.length-1||b[T].listElement.name!=P.type){T==0&&P.type=="ol"&&y.id!==void 0&&f[S]&&(P.startIndex=f[S]);const W=Vq(P,s,n);if(FT(y.marginLeft)&&(T==0||FT(b[T-1].marginLeft))){let ee=y.marginLeft;T>0&&(ee=x0(parseFloat(ee)-parseFloat(b[T-1].marginLeft))),s.setStyle("padding-left",ee,W)}if(b.length==0){const ee=y.element.parent,ne=ee.getChildIndex(y.element)+1;s.insertChild(ne,W,ee)}else{const ee=b[T-1].listItemElements;s.appendChild(W,ee[ee.length-1])}b[T]={...y,listElement:W,listItemElements:[]},T==0&&y.id!==void 0&&(f[S]=P.startIndex||1)}}const B=y.element.name=="li"?y.element:s.createElement("li");s.appendChild(B,b[T].listElement),b[T].listItemElements.push(B),T==0&&y.id!==void 0&&f[S]++,y.element!=B&&s.appendChild(y.element,B),$q(y.element,s),s.removeStyle("text-indent",y.element),s.removeStyle("margin-left",y.element)}else{const S=b.find(T=>T.marginLeft==y.marginLeft);if(S){const T=S.listItemElements;s.appendChild(y.element,T[T.length-1]),s.removeStyle("margin-left",y.element)}else b.length=0}}function Fq(u){const e=u.element.previousSibling;return zq(e||u.element.parent)}function zq(u){return u.is("element","ol")||u.is("element","ul")}function Uq(u,e){const n=new RegExp(`@list l${u.id}:level${u.indent}\\s*({[^}]*)`,"gi"),s=/mso-level-number-format:([^;]{0,100});/gi,l=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,f=new RegExp(`@list\\s+l${u.id}:level\\d\\s*{[^{]*mso-level-text:"%\\d\\\\.`,"gi"),b=new RegExp(`@list l${u.id}:level\\d\\s*{[^{]*mso-level-number-format:`,"gi"),y=f.exec(e),S=b.exec(e),T=y&&!S,B=n.exec(e);let P="decimal",W="ol",ee=null;if(B&&B[1]){const ne=s.exec(B[1]);if(ne&&ne[1]&&(P=ne[1].trim(),W=P!=="bullet"&&P!=="image"?"ol":"ul"),P==="bullet"){const le=function(Ce){if(Ce.name=="li"&&Ce.parent.name=="ul"&&Ce.parent.hasAttribute("type"))return Ce.parent.getAttribute("type");const Me=function(tt){if(tt.getChild(0).is("$text"))return null;for(const Et of tt.getChildren()){if(!Et.is("element","span"))continue;const Mt=Et.getChild(0);if(Mt)return Mt.is("$text")?Mt:Mt.getChild(0)}return null}(Ce);if(!Me)return null;const qe=Me._data;return qe==="o"?"circle":qe===""?"disc":qe===""?"square":null}(u.element);le&&(P=le)}else{const le=l.exec(B[1]);le&&le[1]&&(ee=parseInt(le[1]))}T&&(W="ol")}return{type:W,startIndex:ee,style:qq(P),isLegalStyleList:T}}function qq(u){if(u.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(u){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return u;default:return null}}function Vq(u,e,n){const s=e.createElement(u.type);return u.style&&e.setStyle("list-style-type",u.style,s),u.startIndex&&u.startIndex>1&&e.setAttribute("start",u.startIndex,s),u.isLegalStyleList&&n&&e.addClass("legal-list",s),s}function Hq(u){const e=u.getStyle("mso-list");if(e===void 0)return{};const n=e.match(/(^|\s{1,100})l(\d+)/i),s=e.match(/\s{0,100}lfo(\d+)/i),l=e.match(/\s{0,100}level(\d+)/i);return n&&s&&l?{id:n[2],order:s[1],indent:parseInt(l[1])}:{indent:1}}function $q(u,e){const n=new Ro({name:"span",styles:{"mso-list":"Ignore"}}),s=e.createRangeIn(u);for(const l of s)l.type==="elementStart"&&n.match(l.item)&&e.remove(l.item)}function Wq(u){const e=u.getStyle("margin-left");return e===void 0||e.endsWith("px")?e:function(n){const s=parseFloat(n);return n.endsWith("pt")?x0(96*s/72):n.endsWith("pc")?x0(12*s*96/72):n.endsWith("in")?x0(96*s):n.endsWith("cm")?x0(96*s/2.54):n.endsWith("mm")?x0(s/10*96/2.54):n}(e)}function Gq(u,e){if(!u.childCount)return;const n=new rc(u.document),s=function(f,b){const y=b.createRangeIn(f),S=new Ro({name:/v:(.+)/}),T=[];for(const B of y){if(B.type!="elementStart")continue;const P=B.item,W=P.previousSibling,ee=W&&W.is("element")?W.name:null,ne=["Chart"],le=S.match(P),Ce=P.getAttribute("o:gfxdata"),Me=ee==="v:shapetype",qe=Ce&&ne.some(tt=>P.getAttribute("id").includes(tt));le&&Ce&&!Me&&!qe&&T.push(B.item.getAttribute("id"))}return T}(u,n);(function(f,b,y){const S=y.createRangeIn(b),T=new Ro({name:"img"}),B=[];for(const P of S)if(P.item.is("element")&&T.match(P.item)){const W=P.item,ee=W.getAttribute("v:shapes")?W.getAttribute("v:shapes").split(" "):[];ee.length&&ee.every(ne=>f.indexOf(ne)>-1)?B.push(W):W.getAttribute("src")||B.push(W)}for(const P of B)y.remove(P)})(s,u,n),function(f,b,y){const S=y.createRangeIn(b),T=[];for(const W of S)if(W.type=="elementStart"&&W.item.is("element","v:shape")){const ee=W.item.getAttribute("id");if(f.includes(ee))continue;B(W.item.parent.getChildren(),ee)||T.push(W.item)}for(const W of T){const ee={src:P(W)};W.hasAttribute("alt")&&(ee.alt=W.getAttribute("alt"));const ne=y.createElement("img",ee);y.insertChild(W.index+1,ne,W.parent)}function B(W,ee){for(const ne of W)if(ne.is("element")&&(ne.name=="img"&&ne.getAttribute("v:shapes")==ee||B(ne.getChildren(),ee)))return!0;return!1}function P(W){for(const ee of W.getChildren())if(ee.is("element")&&ee.getAttribute("src"))return ee.getAttribute("src")}}(s,u,n),function(f,b){const y=b.createRangeIn(f),S=new Ro({name:/v:(.+)/}),T=[];for(const B of y)B.type=="elementStart"&&S.match(B.item)&&T.push(B.item);for(const B of T)b.remove(B)}(u,n);const l=function(f,b){const y=b.createRangeIn(f),S=new Ro({name:"img"}),T=[];for(const B of y)B.item.is("element")&&S.match(B.item)&&B.item.getAttribute("src").startsWith("file://")&&T.push(B.item);return T}(u,n);l.length&&function(f,b,y){if(f.length===b.length)for(let S=0;S<f.length;S++){const T=`data:${b[S].type};base64,${Yq(b[S].hex)}`;y.setAttribute("src",T,f[S])}}(l,function(f){if(!f)return[];const b=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,y=new RegExp("(?:("+b.source+"))([\\da-fA-F\\s]+)\\}","g"),S=f.match(y),T=[];if(S)for(const B of S){let P=!1;B.includes("\\pngblip")?P="image/png":B.includes("\\jpegblip")&&(P="image/jpeg"),P&&T.push({hex:B.replace(b,"").replace(/[^\da-fA-F]/g,""),type:P})}return T}(e),n)}function Yq(u){return btoa(u.match(/\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join(""))}const Kq=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,Qq=/xmlns:o="urn:schemas-microsoft-com/i;class Zq{constructor(e,n=!1){this.document=e,this.hasMultiLevelListPlugin=n}isActive(e){return Kq.test(e)||Qq.test(e)}execute(e){const n=new rc(this.document),{body:s,stylesString:l}=e._parsedData;(function(f,b){const y=[];for(const S of b.createRangeIn(f)){const T=S.item;T.is("element","a")&&!T.hasAttribute("href")&&(T.hasAttribute("id")||T.hasAttribute("name"))&&y.push(T)}for(const S of y){const T=S.parent.getChildIndex(S)+1,B=S.getChildren();b.insertChild(T,B,S.parent)}})(s,n),Rq(s,l,this.hasMultiLevelListPlugin),Gq(s,e.dataTransfer.getData("text/rtf")),function(f){const b=[],y=new rc(f.document);for(const{item:S}of y.createRangeIn(f))if(S.is("element")){for(const T of S.getClassNames())/\bmso/gi.exec(T)&&y.removeClass(T,S);for(const T of S.getStyleNames())/\bmso/gi.exec(T)&&y.removeStyle(T,S);(S.is("element","w:sdt")||S.is("element","w:sdtpr")&&S.isEmpty||S.is("element","o:p")&&S.isEmpty)&&b.push(S)}for(const S of b){const T=S.parent,B=T.getChildIndex(S);y.insertChild(B,S.getChildren(),T),y.remove(S)}}(s),e.content=s}}function zT(u,e,n,{blockElements:s,inlineObjectElements:l}){let f=n.createPositionAt(u,e=="forward"?"after":"before");return f=f.getLastMatchingPosition(({item:b})=>b.is("element")&&!s.includes(b.name)&&!l.includes(b.name),{direction:e}),e=="forward"?f.nodeAfter:f.nodeBefore}function UT(u,e){return!!u&&u.is("element")&&e.includes(u.name)}const Jq=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class Xq{constructor(e){this.document=e}isActive(e){return Jq.test(e)}execute(e){const n=new rc(this.document),{body:s}=e._parsedData;(function(l,f){for(const b of l.getChildren())if(b.is("element","b")&&b.getStyle("font-weight")==="normal"){const y=l.getChildIndex(b);f.remove(b),f.insertChild(y,b.getChildren(),l)}})(s,n),function(l,f){for(const b of f.createRangeIn(l)){const y=b.item;if(y.is("element","li")){const S=y.getChild(0);S&&S.is("element","p")&&f.unwrapElement(S)}}}(s,n),function(l,f){const b=new Lp(f.document.stylesProcessor),y=new Zl(b,{renderingMode:"data"}),S=y.blockElements,T=y.inlineObjectElements,B=[];for(const P of f.createRangeIn(l)){const W=P.item;if(W.is("element","br")){const ee=zT(W,"forward",f,{blockElements:S,inlineObjectElements:T}),ne=zT(W,"backward",f,{blockElements:S,inlineObjectElements:T}),le=UT(ee,S);(UT(ne,S)||le)&&B.push(W)}}for(const P of B)P.hasClass("Apple-interchange-newline")?f.remove(P):f.replace(P,f.createElement("p"))}(s,n),e.content=s}}const eV=/<google-sheets-html-origin/i;class tV{constructor(e){this.document=e}isActive(e){return eV.test(e)}execute(e){const n=new rc(this.document),{body:s}=e._parsedData;(function(l,f){for(const b of l.getChildren())if(b.is("element","google-sheets-html-origin")){const y=l.getChildIndex(b);f.remove(b),f.insertChild(y,b.getChildren(),l)}})(s,n),function(l,f){for(const b of l.getChildren())b.is("element","table")&&b.hasAttribute("xmlns")&&f.removeAttribute("xmlns",b)}(s,n),function(l,f){for(const b of l.getChildren())b.is("element","table")&&b.getStyle("width")==="0px"&&f.removeStyle("width",b)}(s,n),function(l,f){for(const b of Array.from(l.getChildren()))b.is("element","style")&&f.remove(b)}(s,n),e.content=s}}function qT(u){return u.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,n)=>n.length===1?" ":Array(n.length+1).join(" ").substr(0,n.length))}function nV(u,e){const n=new DOMParser,s=function(S){return qT(qT(S)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g,"</").replace(/ <o:p><\/o:p>/g,"<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(S){const T="</body>",B="</html>",P=S.indexOf(T);if(P<0)return S;const W=S.indexOf(B,P+T.length);return S.substring(0,P+T.length)+(W>=0?S.substring(W):"")}(u=(u=u.replace(/<!--\[if gte vml 1]>/g,"")).replace(/<o:SmartTagType(?:\s+[^\s>=]+(?:="[^"]*")?)*\s*\/?>/gi,""))),l=n.parseFromString(s,"text/html");(function(S){S.querySelectorAll("span[style*=spacerun]").forEach(T=>{const B=T,P=B.innerText.length||0;B.innerText=Array(P+1).join(" ").substr(0,P)})})(l);const f=l.body.innerHTML,b=function(S,T){const B=new Lp(T),P=new Zl(B,{renderingMode:"data"}),W=S.createDocumentFragment(),ee=S.body.childNodes;for(;ee.length>0;)W.appendChild(ee[0]);return P.domToView(W,{skipComments:!0})}(l,e),y=function(S){const T=[],B=[],P=Array.from(S.getElementsByTagName("style"));for(const W of P)W.sheet&&W.sheet.cssRules&&W.sheet.cssRules.length&&(T.push(W.sheet),B.push(W.innerHTML));return{styles:T,stylesString:B.join(" ")}}(l);return{body:b,bodyString:f,styles:y.styles,stylesString:y.stylesString}}class rV extends Vt{static get pluginName(){return"PasteFromOffice"}static get isOfficialPlugin(){return!0}static get requires(){return[$u]}init(){const e=this.editor,n=e.plugins.get("ClipboardPipeline"),s=e.editing.view.document,l=[],f=this.editor.plugins.has("MultiLevelList");l.push(new Zq(s,f)),l.push(new Xq(s)),l.push(new tV(s)),n.on("inputTransformation",(b,y)=>{if(y._isTransformedWithPasteFromOffice||e.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const S=y.dataTransfer.getData("text/html"),T=l.find(B=>B.isActive(S));T&&(y._parsedData||(y._parsedData=nV(S,s.stylesProcessor)),T.execute(y),y._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}}function Ho(u,e,n,s,l=1){e!=null&&l!=null&&e>l?s.setAttribute(u,e,n):s.removeAttribute(u,n)}function Fg(u,e,n={}){const s=u.createElement("tableCell",n);return u.insertElement("paragraph",s),u.insert(s,e),s}function o3(u,e){const n=e.parent.parent,s=parseInt(n.getAttribute("headingColumns")||"0"),{column:l}=u.getCellLocation(e);return!!s&&l<s}function iV(){return u=>{u.on("element:table",(e,n,s)=>{const l=n.viewItem;if(!s.consumable.test(l,{name:!0}))return;const{rows:f,headingRows:b,headingColumns:y}=function(B){let P,W=0;const ee=[],ne=[];let le;for(const Ce of Array.from(B.getChildren())){if(Ce.name!=="tbody"&&Ce.name!=="thead"&&Ce.name!=="tfoot")continue;Ce.name!=="thead"||le||(le=Ce);const Me=Array.from(Ce.getChildren()).filter(tt=>tt.is("element","tr"));let qe=null;for(const tt of Me){const Et=Array.from(tt.getChildren()).filter(Mt=>Mt.is("element","td")||Mt.is("element","th"));if(le&&Ce===le||Ce.name==="tbody"&&Et.length>0&&(qe===null||Et.length===qe)&&Et.every(Mt=>Mt.is("element","th")))W++,ee.push(tt);else{ne.push(tt);const Mt=oV(tt);(!P||Mt<P)&&(P=Mt)}qe=Math.max(qe||0,Et.length)}}return{headingRows:W,headingColumns:P||0,rows:[...ee,...ne]}}(l),S={};y&&(S.headingColumns=y),b&&(S.headingRows=b);const T=s.writer.createElement("table",S);if(s.safeInsert(T,n.modelCursor)){if(s.consumable.consume(l,{name:!0}),f.forEach(B=>s.convertItem(B,s.writer.createPositionAt(T,"end"))),s.convertChildren(l,s.writer.createPositionAt(T,"end")),T.isEmpty){const B=s.writer.createElement("tableRow");s.writer.insert(B,s.writer.createPositionAt(T,"end")),Fg(s.writer,s.writer.createPositionAt(B,"end"))}s.updateConversionResult(T,n)}})}}function VT(u){return e=>{e.on(`element:${u}`,(n,s,{writer:l})=>{if(!s.modelRange)return;const f=s.modelRange.start.nodeAfter,b=l.createPositionAt(f,0);if(s.viewItem.isEmpty)return void l.insertElement("paragraph",b);const y=Array.from(f.getChildren());if(y.every(S=>S.is("element","$marker"))){const S=l.createElement("paragraph");l.insert(S,l.createPositionAt(f,0));for(const T of y)l.move(l.createRangeOn(T),l.createPositionAt(S,"end"))}},{priority:"low"})}}function oV(u){let e=0,n=0;const s=Array.from(u.getChildren()).filter(l=>l.name==="th"||l.name==="td");for(;n<s.length&&s[n].name==="th";){const l=s[n];e+=parseInt(l.getAttribute("colspan")||"1"),n++}return e}class Ai{constructor(e,n={}){this._jumpedToStartRow=!1,this._table=e,this._startRow=n.row!==void 0?n.row:n.startRow||0,this._endRow=n.row!==void 0?n.row:n.endRow,this._startColumn=n.column!==void 0?n.column:n.startColumn||0,this._endColumn=n.column!==void 0?n.column:n.endColumn,this._includeAllSlots=!!n.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0,value:void 0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let n=null;const s=this._getSpanned();if(s)this._includeAllSlots&&!this._shouldSkipSlot()&&(n=this._formatOutValue(s.cell,s.row,s.column));else{const l=e.getChild(this._cellIndex);if(!l)return this._advanceToNextRow();const f=parseInt(l.getAttribute("colspan")||"1"),b=parseInt(l.getAttribute("rowspan")||"1");(f>1||b>1)&&this._recordSpans(l,b,f),this._shouldSkipSlot()||(n=this._formatOutValue(l)),this._nextCellAtColumn=this._column+f}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,n||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(e,n=this._row,s=this._column){return{done:!1,value:new sV(this,e,n,s)}}_shouldSkipSlot(){const e=this._skipRows.has(this._row),n=this._row<this._startRow,s=this._column<this._startColumn,l=this._endColumn!==void 0&&this._column>this._endColumn;return e||n||s||l}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,n,s){const l={cell:e,row:this._row,column:this._column};for(let f=this._row;f<this._row+n;f++)for(let b=this._column;b<this._column+s;b++)f==this._row&&b==this._column||this._markSpannedCell(f,b,l)}_markSpannedCell(e,n,s){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(n,s)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const e=this._getRowLength(0);for(let n=this._startRow;!this._jumpedToStartRow;n--)e===this._getRowLength(n)&&(this._row=n,this._rowIndex=n,this._jumpedToStartRow=!0)}_getRowLength(e){return[...this._table.getChild(e).getChildren()].reduce((n,s)=>n+parseInt(s.getAttribute("colspan")||"1"),0)}}class sV{constructor(e,n,s,l){this.cell=n,this.row=e._row,this.column=e._column,this.cellAnchorRow=s,this.cellAnchorColumn=l,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function HT(u,e){return(n,{writer:s})=>{const l=n.getAttribute("headingRows")||0,f=s.createContainerElement("table",null,[]),b=s.createContainerElement("figure",{class:"table"},f);l>0&&s.insert(s.createPositionAt(f,"end"),s.createContainerElement("thead",null,s.createSlot(y=>y.is("element","tableRow")&&y.index<l))),l<u.getRows(n)&&s.insert(s.createPositionAt(f,"end"),s.createContainerElement("tbody",null,s.createSlot(y=>y.is("element","tableRow")&&y.index>=l)));for(const{positionOffset:y,filter:S}of e.additionalSlots)s.insert(s.createPositionAt(f,y),s.createSlot(S));return s.insert(s.createPositionAt(f,"after"),s.createSlot(y=>!y.is("element","tableRow")&&!e.additionalSlots.some(({filter:S})=>S(y)))),e.asWidget?function(y,S){return S.setCustomProperty("table",!0,y),LS(y,S,{hasSelectionHandle:!0})}(b,s):b}}function $T(u={}){return(e,{writer:n})=>{const s=e.parent,l=s.parent,f=l.getChildIndex(s),b=new Ai(l,{row:f}),y=l.getAttribute("headingRows")||0,S=l.getAttribute("headingColumns")||0;let T=null;for(const B of b)if(B.cell==e){const P=B.row<y||B.column<S?"th":"td";T=u.asWidget?W6(n.createEditableElement(P),n):n.createContainerElement(P);break}return T}}function WT(u={}){return(e,{writer:n})=>{if(!e.parent.is("element","tableCell")||!GT(e))return null;if(u.asWidget)return n.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const s=n.createContainerElement("p");return n.setCustomProperty("dataPipeline:transparentRendering",!0,s),s}}}function GT(u){return u.parent.childCount==1&&!function(e){for(const n of e.getAttributeKeys())if(!n.startsWith("selection:")&&n!="htmlEmptyBlock")return!0;return!1}(u)}class aV extends pn{refresh(){const e=this.editor.model,n=e.document.selection,s=e.schema;this.isEnabled=function(l,f){const b=l.getFirstPosition().parent,y=b===b.root?b:b.parent;return f.checkChild(y,"table")}(n,s)}execute(e={}){const n=this.editor,s=n.model,l=n.plugins.get("TableUtils"),f=n.config.get("table.defaultHeadings.rows"),b=n.config.get("table.defaultHeadings.columns");e.headingRows===void 0&&f&&(e.headingRows=f),e.headingColumns===void 0&&b&&(e.headingColumns=b),s.change(y=>{const S=l.createTable(y,e);s.insertObject(S,null,null,{findOptimalPosition:"auto"}),y.setSelection(y.createPositionAt(S.getNodeByPath([0,0,0]),0))})}}class YT extends pn{constructor(e,n={}){super(e),this.order=n.order||"below"}refresh(){const e=this.editor.model.document.selection,n=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=n}execute(){const e=this.editor,n=e.model.document.selection,s=e.plugins.get("TableUtils"),l=this.order==="above",f=s.getSelectionAffectedTableCells(n),b=s.getRowIndexes(f),y=l?b.first:b.last,S=f[0].findAncestor("table");s.insertRows(S,{at:l?y:y+1,copyStructureFromAbove:!l})}}class KT extends pn{constructor(e,n={}){super(e),this.order=n.order||"right"}refresh(){const e=this.editor.model.document.selection,n=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=n}execute(){const e=this.editor,n=e.model.document.selection,s=e.plugins.get("TableUtils"),l=this.order==="left",f=s.getSelectionAffectedTableCells(n),b=s.getColumnIndexes(f),y=l?b.first:b.last,S=f[0].findAncestor("table");s.insertColumns(S,{columns:1,at:l?y:y+1})}}class QT extends pn{constructor(e,n={}){super(e),this.direction=n.direction||"horizontally"}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length===1}execute(){const e=this.editor.plugins.get("TableUtils"),n=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?e.splitCellHorizontally(n,2):e.splitCellVertically(n,2)}}function ZT(u,e,n){const{startRow:s,startColumn:l,endRow:f,endColumn:b}=e,y=n.createElement("table"),S=f-s+1;for(let B=0;B<S;B++)n.insertElement("tableRow",y,"end");const T=[...new Ai(u,{startRow:s,endRow:f,startColumn:l,endColumn:b,includeAllSlots:!0})];for(const{row:B,column:P,cell:W,isAnchor:ee,cellAnchorRow:ne,cellAnchorColumn:le}of T){const Ce=B-s,Me=y.getChild(Ce);if(ee){const qe=n.cloneElement(W);n.append(qe,Me),nM(qe,B,P,f,b,n)}else(ne<s||le<l)&&Fg(n,n.createPositionAt(Me,"end"))}return function(B,P,W,ee,ne){const le=parseInt(P.getAttribute("headingRows")||"0");le>0&&Ho("headingRows",le-W,B,ne,0);const Ce=parseInt(P.getAttribute("headingColumns")||"0");Ce>0&&Ho("headingColumns",Ce-ee,B,ne,0)}(y,u,s,l,n),y}function JT(u,e,n=0){const s=[],l=new Ai(u,{startRow:n,endRow:e-1});for(const f of l){const{row:b,cellHeight:y}=f;b<e&&e<=b+y-1&&s.push(f)}return s}function XT(u,e,n){const s=u.parent,l=s.parent,f=s.index,b=e-f,y={},S=parseInt(u.getAttribute("rowspan"))-b;S>1&&(y.rowspan=S);const T=parseInt(u.getAttribute("colspan")||"1");T>1&&(y.colspan=T);const B=f+b,P=[...new Ai(l,{startRow:f,endRow:B,includeAllSlots:!0})];let W,ee=null;for(const ne of P){const{row:le,column:Ce,cell:Me}=ne;Me===u&&W===void 0&&(W=Ce),W!==void 0&&W===Ce&&le===B&&(ee=Fg(n,ne.getPositionBefore(),y))}return Ho("rowspan",b,u,n),ee}function eM(u,e){const n=[],s=new Ai(u);for(const l of s){const{column:f,cellWidth:b}=l;f<e&&e<=f+b-1&&n.push(l)}return n}function tM(u,e,n,s){const l=n-e,f={},b=parseInt(u.getAttribute("colspan"))-l;b>1&&(f.colspan=b);const y=parseInt(u.getAttribute("rowspan")||"1");y>1&&(f.rowspan=y);const S=Fg(s,s.createPositionAfter(u),f);return Ho("colspan",l,u,s),S}function nM(u,e,n,s,l,f){const b=parseInt(u.getAttribute("colspan")||"1"),y=parseInt(u.getAttribute("rowspan")||"1");n+b-1>l&&Ho("colspan",l-n+1,u,f,1),e+y-1>s&&Ho("rowspan",s-e+1,u,f,1)}function s3(u,e){const n=e.getColumns(u),s=new Array(n).fill(0);for(const{column:f}of new Ai(u))s[f]++;const l=s.reduce((f,b,y)=>b?f:[...f,y],[]);if(l.length>0){const f=l[l.length-1];return e.removeColumns(u,{at:f}),!0}return!1}function a3(u,e){const n=[],s=e.getRows(u);for(let l=0;l<s;l++)u.getChild(l).isEmpty&&n.push(l);if(n.length>0){const l=n[n.length-1];return e.removeRows(u,{at:l}),!0}return!1}function l3(u,e){s3(u,e)||a3(u,e)}function rM(u,e){const n=Array.from(new Ai(u,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));if(n.every(({cellHeight:l})=>l===1))return e.lastRow;const s=n[0].cellHeight-1;return e.lastRow+s}function iM(u,e){const n=Array.from(new Ai(u,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));if(n.every(({cellWidth:l})=>l===1))return e.lastColumn;const s=n[0].cellWidth-1;return e.lastColumn+s}class pC extends pn{constructor(e,n){super(e),this.direction=n.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,n=e.document,s=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(n.selection)[0],l=this.value,f=this.direction;e.change(b=>{const y=f=="right"||f=="down",S=y?s:l,T=y?l:s,B=T.parent;(function(le,Ce,Me){oM(le)||(oM(Ce)&&Me.remove(Me.createRangeIn(Ce)),Me.move(Me.createRangeIn(le),Me.createPositionAt(Ce,"end"))),Me.remove(le)})(T,S,b);const P=this.isHorizontal?"colspan":"rowspan",W=parseInt(s.getAttribute(P)||"1"),ee=parseInt(l.getAttribute(P)||"1");b.setAttribute(P,W+ee,S),b.setSelection(b.createRangeIn(S));const ne=this.editor.plugins.get("TableUtils");l3(B.findAncestor("table"),ne)})}_getMergeableCell(){const e=this.editor.model.document,n=this.editor.plugins.get("TableUtils"),s=n.getTableCellsContainingSelection(e.selection)[0];if(!s)return;const l=this.isHorizontal?function(y,S,T){const B=y.parent,P=B.parent,W=S=="right"?y.nextSibling:y.previousSibling,ee=(P.getAttribute("headingColumns")||0)>0;if(!W)return;const ne=S=="right"?y:W,le=S=="right"?W:y,{column:Ce}=T.getCellLocation(ne),{column:Me}=T.getCellLocation(le),qe=parseInt(ne.getAttribute("colspan")||"1"),tt=o3(T,ne),Et=o3(T,le);if(!(ee&&tt!=Et))return Ce+qe===Me?W:void 0}(s,this.direction,n):function(y,S,T){const B=y.parent,P=B.parent,W=P.getChildIndex(B);if(S=="down"&&W===T.getRows(P)-1||S=="up"&&W===0)return null;const ee=parseInt(y.getAttribute("rowspan")||"1"),ne=P.getAttribute("headingRows")||0,le=S=="down"&&W+ee===ne,Ce=S=="up"&&W===ne;if(ne&&(le||Ce))return null;const Me=parseInt(y.getAttribute("rowspan")||"1"),qe=S=="down"?W+Me:W,tt=[...new Ai(P,{endRow:qe})],Et=tt.find(yn=>yn.cell===y),Mt=Et.column,wn=tt.find(({row:yn,cellHeight:Jr,column:ro})=>ro===Mt&&(S=="down"?yn===qe:qe===yn+Jr));return wn&&wn.cell?wn.cell:null}(s,this.direction,n);if(!l)return;const f=this.isHorizontal?"rowspan":"colspan",b=parseInt(s.getAttribute(f)||"1");return parseInt(l.getAttribute(f)||"1")===b?l:void 0}}function oM(u){const e=u.getChild(0);return u.childCount==1&&e.is("element","paragraph")&&e.isEmpty}class lV extends pn{refresh(){const e=this.editor.plugins.get("TableUtils"),n=e.getSelectionAffectedTableCells(this.editor.model.document.selection),s=n[0];if(s){const l=s.findAncestor("table"),f=e.getRows(l)-1,b=e.getRowIndexes(n),y=b.first===0&&b.last===f;this.isEnabled=!y}else this.isEnabled=!1}execute(){const e=this.editor.model,n=this.editor.plugins.get("TableUtils"),s=n.getSelectionAffectedTableCells(e.document.selection),l=n.getRowIndexes(s),f=s[0],b=f.findAncestor("table"),y=n.getCellLocation(f).column;e.change(S=>{const T=l.last-l.first+1;n.removeRows(b,{at:l.first,rows:T});const B=function(P,W,ee,ne){const le=P.getChild(Math.min(W,ne-1));let Ce=le.getChild(0),Me=0;for(const qe of le.getChildren()){if(Me>ee)return Ce;Ce=qe,Me+=parseInt(qe.getAttribute("colspan")||"1")}return Ce}(b,l.first,y,n.getRows(b));S.setSelection(S.createPositionAt(B,0))})}}class cV extends pn{refresh(){const e=this.editor.plugins.get("TableUtils"),n=e.getSelectionAffectedTableCells(this.editor.model.document.selection),s=n[0];if(s){const l=s.findAncestor("table"),f=e.getColumns(l),{first:b,last:y}=e.getColumnIndexes(n);this.isEnabled=y-b<f-1}else this.isEnabled=!1}execute(){const e=this.editor.plugins.get("TableUtils"),[n,s]=function(S,T){const B=T.getSelectionAffectedTableCells(S),P=B[0],W=B.pop(),ee=[P,W];return P.isBefore(W)?ee:ee.reverse()}(this.editor.model.document.selection,e),l=n.parent.parent,f=[...new Ai(l)],b={first:f.find(S=>S.cell===n).column,last:f.find(S=>S.cell===s).column},y=function(S,T,B,P){return parseInt(B.getAttribute("colspan")||"1")>1?B:T.previousSibling||B.nextSibling?B.nextSibling||T.previousSibling:P.first?S.reverse().find(({column:ee})=>ee<P.first).cell:S.reverse().find(({column:ee})=>ee>P.last).cell}(f,n,s,b);this.editor.model.change(S=>{const T=b.last-b.first+1;e.removeColumns(l,{at:b.first,columns:T}),S.setSelection(S.createPositionAt(y,0))})}}class uV extends pn{refresh(){const e=this.editor.plugins.get("TableUtils"),n=this.editor.model,s=e.getSelectionAffectedTableCells(n.document.selection),l=s.length>0;this.isEnabled=l,this.value=l&&s.every(f=>this._isInHeading(f,f.parent.parent))}execute(e={}){if(e.forceValue===this.value)return;const n=this.editor.plugins.get("TableUtils"),s=this.editor.model,l=n.getSelectionAffectedTableCells(s.document.selection),f=l[0].findAncestor("table"),{first:b,last:y}=n.getRowIndexes(l),S=this.value?b:y+1,T=f.getAttribute("headingRows")||0;s.change(B=>{if(S){const P=JT(f,S,S>T?T:0);for(const{cell:W}of P)XT(W,S,B)}Ho("headingRows",S,f,B,0)})}_isInHeading(e,n){const s=parseInt(n.getAttribute("headingRows")||"0");return!!s&&e.parent.index<s}}class dV extends pn{refresh(){const e=this.editor.model,n=this.editor.plugins.get("TableUtils"),s=n.getSelectionAffectedTableCells(e.document.selection),l=s.length>0;this.isEnabled=l,this.value=l&&s.every(f=>o3(n,f))}execute(e={}){if(e.forceValue===this.value)return;const n=this.editor.plugins.get("TableUtils"),s=this.editor.model,l=n.getSelectionAffectedTableCells(s.document.selection),f=l[0].findAncestor("table"),{first:b,last:y}=n.getColumnIndexes(l),S=this.value?b:y+1;s.change(T=>{if(S){const B=eM(f,S);for(const{cell:P,column:W}of B)tM(P,W,S,T)}Ho("headingColumns",S,f,T,0)})}}function hV(u){if(u.is("element","tableColumnGroup"))return u;const e=u.getChildren();return Array.from(e).find(n=>n.is("element","tableColumnGroup"))}function fV(u){const e=hV(u);return e?Array.from(e.getChildren()):[]}class Ca extends Vt{static get pluginName(){return"TableUtils"}static get isOfficialPlugin(){return!0}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const n=e.parent,s=n.parent,l=s.getChildIndex(n),f=new Ai(s,{row:l});for(const{cell:b,row:y,column:S}of f)if(b===e)return{row:y,column:S}}createTable(e,n){const s=e.createElement("table"),l=n.rows||2,f=n.columns||2;return c3(e,s,0,l,f),n.headingRows&&Ho("headingRows",Math.min(n.headingRows,l),s,e,0),n.headingColumns&&Ho("headingColumns",Math.min(n.headingColumns,f),s,e,0),s}insertRows(e,n={}){const s=this.editor.model,l=n.at||0,f=n.rows||1,b=n.copyStructureFromAbove!==void 0,y=n.copyStructureFromAbove?l-1:l,S=this.getRows(e),T=this.getColumns(e);if(l>S)throw new U("tableutils-insertrows-insert-out-of-range",this,{options:n});s.change(B=>{const P=e.getAttribute("headingRows")||0;if(P>l&&Ho("headingRows",P+f,e,B,0),!b&&(l===0||l===S))return void c3(B,e,l,f,T);const W=b?Math.max(l,y):l,ee=new Ai(e,{endRow:W}),ne=new Array(T).fill(1);for(const{row:le,column:Ce,cellHeight:Me,cellWidth:qe,cell:tt}of ee){const Et=le+Me-1,Mt=le<=y&&y<=Et;le<l&&l<=Et?(B.setAttribute("rowspan",Me+f,tt),ne[Ce]=-qe):b&&Mt&&(ne[Ce]=qe)}for(let le=0;le<f;le++){const Ce=B.createElement("tableRow");B.insert(Ce,e,l);for(let Me=0;Me<ne.length;Me++){const qe=ne[Me],tt=B.createPositionAt(Ce,"end");qe>0&&Fg(B,tt,qe>1?{colspan:qe}:void 0),Me+=Math.abs(qe)-1}}})}insertColumns(e,n={}){const s=this.editor.model,l=n.at||0,f=n.columns||1;s.change(b=>{const y=e.getAttribute("headingColumns");l<y&&b.setAttribute("headingColumns",y+f,e);const S=this.getColumns(e);if(l===0||S===l){for(const B of e.getChildren())B.is("element","tableRow")&&S0(f,b,b.createPositionAt(B,l?"end":0));return}const T=new Ai(e,{column:l,includeAllSlots:!0});for(const B of T){const{row:P,cell:W,cellAnchorColumn:ee,cellAnchorRow:ne,cellWidth:le,cellHeight:Ce}=B;if(ee<l){b.setAttribute("colspan",le+f,W);const Me=ne+Ce-1;for(let qe=P;qe<=Me;qe++)T.skipRow(qe)}else S0(f,b,B.getPositionBefore())}})}removeRows(e,n){const s=this.editor.model,l=n.rows||1,f=this.getRows(e),b=n.at,y=b+l-1;if(y>f-1)throw new U("tableutils-removerows-row-index-out-of-range",this,{table:e,options:n});s.change(S=>{const T={first:b,last:y},{cellsToMove:B,cellsToTrim:P}=function(W,{first:ee,last:ne}){const le=new Map,Ce=[];for(const{row:Me,column:qe,cellHeight:tt,cell:Et}of new Ai(W,{endRow:ne})){const Mt=Me+tt-1;if(Me>=ee&&Me<=ne&&Mt>ne){const wn=tt-(ne-Me+1);le.set(qe,{cell:Et,rowspan:wn})}if(Me<ee&&Mt>=ee){let wn;wn=Mt>=ne?ne-ee+1:Mt-ee+1,Ce.push({cell:Et,rowspan:tt-wn})}}return{cellsToMove:le,cellsToTrim:Ce}}(e,T);B.size&&function(W,ee,ne,le){const Ce=new Ai(W,{includeAllSlots:!0,row:ee}),Me=[...Ce],qe=W.getChild(ee);let tt;for(const{column:Et,cell:Mt,isAnchor:wn}of Me)if(ne.has(Et)){const{cell:yn,rowspan:Jr}=ne.get(Et),ro=tt?le.createPositionAfter(tt):le.createPositionAt(qe,0);le.move(le.createRangeOn(yn),ro),Ho("rowspan",Jr,yn,le),tt=yn}else wn&&(tt=Mt)}(e,y+1,B,S);for(let W=y;W>=b;W--)S.remove(e.getChild(W));for(const{rowspan:W,cell:ee}of P)Ho("rowspan",W,ee,S);(function(W,{first:ee,last:ne},le){const Ce=W.getAttribute("headingRows")||0;ee<Ce&&Ho("headingRows",ne<Ce?Ce-(ne-ee+1):ee,W,le,0)})(e,T,S),s3(e,this)||a3(e,this)})}removeColumns(e,n){const s=this.editor.model,l=n.at,f=n.columns||1,b=n.at+f-1;s.change(y=>{(function(T,B,P){const W=T.getAttribute("headingColumns")||0;if(W&&B.first<W){const ee=Math.min(W-1,B.last)-B.first+1;P.setAttribute("headingColumns",W-ee,T)}})(e,{first:l,last:b},y);const S=fV(e);for(let T=b;T>=l;T--){for(const{cell:B,column:P,cellWidth:W}of[...new Ai(e)])P<=T&&W>1&&P+W>T?Ho("colspan",W-1,B,y):P===T&&y.remove(B);if(S[T]){const B=T===0?S[1]:S[T-1],P=parseFloat(S[T].getAttribute("columnWidth")),W=parseFloat(B.getAttribute("columnWidth"));y.remove(S[T]),y.setAttribute("columnWidth",P+W+"%",B)}}a3(e,this)||s3(e,this)})}splitCellVertically(e,n=2){const s=this.editor.model,l=e.parent.parent,f=parseInt(e.getAttribute("rowspan")||"1"),b=parseInt(e.getAttribute("colspan")||"1");s.change(y=>{if(b>1){const{newCellsSpan:S,updatedSpan:T}=sM(b,n);Ho("colspan",T,e,y);const B={};S>1&&(B.colspan=S),f>1&&(B.rowspan=f),S0(b>n?n-1:b-1,y,y.createPositionAfter(e),B)}if(b<n){const S=n-b,T=[...new Ai(l)],{column:B}=T.find(({cell:ne})=>ne===e),P=T.filter(({cell:ne,cellWidth:le,column:Ce})=>ne!==e&&Ce===B||Ce<B&&Ce+le>B);for(const{cell:ne,cellWidth:le}of P)y.setAttribute("colspan",le+S,ne);const W={};f>1&&(W.rowspan=f),S0(S,y,y.createPositionAfter(e),W);const ee=l.getAttribute("headingColumns")||0;ee>B&&Ho("headingColumns",ee+S,l,y)}})}splitCellHorizontally(e,n=2){const s=this.editor.model,l=e.parent,f=l.parent,b=f.getChildIndex(l),y=parseInt(e.getAttribute("rowspan")||"1"),S=parseInt(e.getAttribute("colspan")||"1");s.change(T=>{if(y>1){const B=[...new Ai(f,{startRow:b,endRow:b+y-1,includeAllSlots:!0})],{newCellsSpan:P,updatedSpan:W}=sM(y,n);Ho("rowspan",W,e,T);const{column:ee}=B.find(({cell:Ce})=>Ce===e),ne={};P>1&&(ne.rowspan=P),S>1&&(ne.colspan=S);let le=0;for(const Ce of B){const{column:Me,row:qe}=Ce,tt=Me===ee;le>=P&&tt&&(le=0),qe>=b+W&&tt&&(le||S0(1,T,Ce.getPositionBefore(),ne),le++)}}if(y<n){const B=n-y,P=[...new Ai(f,{startRow:0,endRow:b})];for(const{cell:ne,cellHeight:le,row:Ce}of P)if(ne!==e&&Ce+le>b){const Me=le+B;T.setAttribute("rowspan",Me,ne)}const W={};S>1&&(W.colspan=S),c3(T,f,b+1,B,1,W);const ee=f.getAttribute("headingRows")||0;ee>b&&Ho("headingRows",ee+B,f,T)}})}getColumns(e){return[...e.getChild(0).getChildren()].filter(n=>n.is("element","tableCell")).reduce((n,s)=>n+parseInt(s.getAttribute("colspan")||"1"),0)}getRows(e){return Array.from(e.getChildren()).reduce((n,s)=>s.is("element","tableRow")?n+1:n,0)}createTableWalker(e,n={}){return new Ai(e,n)}getSelectedTableCells(e){const n=[];for(const s of this.sortRanges(e.getRanges())){const l=s.getContainedElement();l&&l.is("element","tableCell")&&n.push(l)}return n}getTableCellsContainingSelection(e){const n=[];for(const s of e.getRanges()){const l=s.start.findAncestor("tableCell");l&&n.push(l)}return n}getSelectionAffectedTableCells(e){const n=this.getSelectedTableCells(e);return n.length?n:this.getTableCellsContainingSelection(e)}getRowIndexes(e){const n=e.map(s=>s.parent.index);return this._getFirstLastIndexesObject(n)}getColumnIndexes(e){const n=e[0].findAncestor("table"),s=[...new Ai(n)].filter(l=>e.includes(l.cell)).map(l=>l.column);return this._getFirstLastIndexesObject(s)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;const n=new Set,s=new Set;let l=0;for(const b of e){const{row:y,column:S}=this.getCellLocation(b),T=parseInt(b.getAttribute("rowspan"))||1,B=parseInt(b.getAttribute("colspan"))||1;n.add(y),s.add(S),T>1&&n.add(y+T-1),B>1&&s.add(S+B-1),l+=T*B}return function(b,y){const S=Array.from(b.values()),T=Array.from(y.values()),B=Math.max(...S),P=Math.min(...S),W=Math.max(...T),ee=Math.min(...T);return(B-P+1)*(W-ee+1)}(n,s)==l}sortRanges(e){return Array.from(e).sort(pV)}_getFirstLastIndexesObject(e){const n=e.sort((s,l)=>s-l);return{first:n[0],last:n[n.length-1]}}_areCellInTheSameTableSection(e){const n=e[0].findAncestor("table"),s=this.getRowIndexes(e),l=parseInt(n.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(s,l))return!1;const f=this.getColumnIndexes(e),b=parseInt(n.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(f,b)}_areIndexesInSameSection({first:e,last:n},s){return e<s==n<s}}function c3(u,e,n,s,l,f={}){for(let b=0;b<s;b++){const y=u.createElement("tableRow");u.insert(y,e,n),S0(l,u,u.createPositionAt(y,"end"),f)}}function S0(u,e,n,s={}){for(let l=0;l<u;l++)Fg(e,n,s)}function sM(u,e){if(u<e)return{newCellsSpan:1,updatedSpan:1};const n=Math.floor(u/e);return{newCellsSpan:n,updatedSpan:u-n*e+n}}function pV(u,e){const n=u.start,s=e.start;return n.isBefore(s)?-1:1}class mV extends pn{refresh(){const e=this.editor.plugins.get(Ca),n=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(n)}execute(){const e=this.editor.model,n=this.editor.plugins.get(Ca);e.change(s=>{const l=n.getSelectedTableCells(e.document.selection),f=l.shift(),{mergeWidth:b,mergeHeight:y}=function(S,T,B){let P=0,W=0;for(const Me of T){const{row:qe,column:tt}=B.getCellLocation(Me);P=lM(Me,tt,P,"colspan"),W=lM(Me,qe,W,"rowspan")}const{row:ee,column:ne}=B.getCellLocation(S),le=P-ne,Ce=W-ee;return{mergeWidth:le,mergeHeight:Ce}}(f,l,n);Ho("colspan",b,f,s),Ho("rowspan",y,f,s);for(const S of l)gV(S,f,s);l3(f.findAncestor("table"),n),s.setSelection(f,"in")})}}function gV(u,e,n){aM(u)||(aM(e)&&n.remove(n.createRangeIn(e)),n.move(n.createRangeIn(u),n.createPositionAt(e,"end"))),n.remove(u)}function aM(u){const e=u.getChild(0);return u.childCount==1&&e.is("element","paragraph")&&e.isEmpty}function lM(u,e,n,s){const l=parseInt(u.getAttribute(s)||"1");return Math.max(n,e+l)}class bV extends pn{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.model,n=this.editor.plugins.get("TableUtils"),s=n.getSelectionAffectedTableCells(e.document.selection),l=n.getRowIndexes(s),f=s[0].findAncestor("table"),b=[];for(let y=l.first;y<=l.last;y++)for(const S of f.getChild(y).getChildren())b.push(e.createRangeOn(S));e.change(y=>{y.setSelection(b)})}}class kV extends pn{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.plugins.get("TableUtils"),n=this.editor.model,s=e.getSelectionAffectedTableCells(n.document.selection),l=s[0],f=s.pop(),b=l.findAncestor("table"),y=e.getCellLocation(l),S=e.getCellLocation(f),T=Math.min(y.column,S.column),B=Math.max(y.column,S.column),P=[];for(const W of new Ai(b,{startColumn:T,endColumn:B}))P.push(n.createRangeOn(W.cell));n.change(W=>{W.setSelection(P)})}}function wV(u){u.document.registerPostFixer(e=>function(n,s){const l=s.document.differ.getChanges();let f=!1;const b=new Set;for(const y of l){let S=null;y.type=="insert"&&y.name=="table"&&(S=y.position.nodeAfter),y.type!="insert"&&y.type!="remove"||y.name!="tableRow"&&y.name!="tableCell"||(S=y.position.findAncestor("table")),AV(y)&&(S=y.range.start.findAncestor("table")),S&&!b.has(S)&&(f=vV(S,n)||f,f=yV(S,n)||f,b.add(S))}return f}(e,u))}function vV(u,e){let n=!1;const s=function(l){const f=parseInt(l.getAttribute("headingRows")||"0"),b=Array.from(l.getChildren()).reduce((S,T)=>T.is("element","tableRow")?S+1:S,0),y=[];for(const{row:S,cell:T,cellHeight:B}of new Ai(l)){if(B<2)continue;const P=S<f?f:b;if(S+B>P){const W=P-S;y.push({cell:T,rowspan:W})}}return y}(u);if(s.length){n=!0;for(const l of s)Ho("rowspan",l.rowspan,l.cell,e,1)}return n}function yV(u,e){let n=!1;const s=function(y){const S=new Array(y.childCount).fill(0);for(const{rowIndex:T}of new Ai(y,{includeAllSlots:!0}))S[T]++;return S}(u),l=[];for(const[y,S]of s.entries())!S&&u.getChild(y).is("element","tableRow")&&l.push(y);if(l.length){n=!0;for(const y of l.reverse())e.remove(u.getChild(y)),s.splice(y,1)}const f=s.filter((y,S)=>u.getChild(S).is("element","tableRow")),b=f[0];if(!f.every(y=>y===b)){const y=f.reduce((S,T)=>T>S?T:S,0);for(const[S,T]of f.entries()){const B=y-T;if(B){for(let P=0;P<B;P++)Fg(e,e.createPositionAt(u.getChild(S),"end"));n=!0}}}return n}function AV(u){if(u.type!=="attribute")return!1;const e=u.attributeKey;return e==="headingRows"||e==="colspan"||e==="rowspan"}function _V(u){u.document.registerPostFixer(e=>function(n,s){const l=s.document.differ.getChanges();let f=!1;for(const b of l)b.type=="insert"&&b.name=="table"&&(f=CV(b.position.nodeAfter,n)||f),b.type=="insert"&&b.name=="tableRow"&&(f=cM(b.position.nodeAfter,n)||f),b.type=="insert"&&b.name=="tableCell"&&(f=u3(b.position.nodeAfter,n)||f),b.type!="remove"&&b.type!="insert"||!xV(b)||(f=u3(b.position.parent,n)||f);return f}(e,u))}function CV(u,e){let n=!1;for(const s of u.getChildren())s.is("element","tableRow")&&(n=cM(s,e)||n);return n}function cM(u,e){let n=!1;for(const s of u.getChildren())n=u3(s,e)||n;return n}function u3(u,e){if(u.childCount==0)return e.insertElement("paragraph",u),!0;const n=Array.from(u.getChildren()).filter(s=>s.is("$text"));for(const s of n)e.wrap(e.createRangeOn(s),"paragraph");return!!n.length}function xV(u){return!!u.position.parent.is("element","tableCell")&&(u.type=="insert"&&u.name=="$text"||u.type=="remove")}function SV(u,e){if(!u.is("element","paragraph"))return!1;const n=e.toViewElement(u);return!!n&&GT(u)!==n.is("element","span")}var mC=a(8137),cv={attributes:{"data-cke":!0}};cv.setAttributes=zt(),cv.insert=Rt().bind(null,"head"),cv.domAPI=Ut(),cv.insertStyleElement=Nt(),Dt()(mC.A,cv),mC.A&&mC.A.locals&&mC.A.locals;class EV extends Vt{static get pluginName(){return"TableEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[Ca]}constructor(e){super(e),this._additionalSlots=[]}init(){const e=this.editor,n=e.model,s=n.schema,l=e.conversion,f=e.plugins.get(Ca);s.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),s.register("tableRow",{allowIn:"table",isLimit:!0}),s.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),l.for("upcast").add(b=>{b.on("element:figure",(y,S,T)=>{if(!T.consumable.test(S.viewItem,{name:!0,classes:"table"}))return;const B=function(W){for(const ee of W.getChildren())if(ee.is("element","table"))return ee}(S.viewItem);if(!B||!T.consumable.test(B,{name:!0}))return;T.consumable.consume(S.viewItem,{name:!0,classes:"table"});const P=Po(T.convertItem(B,S.modelCursor).modelRange.getItems());P?(T.convertChildren(S.viewItem,T.writer.createPositionAt(P,"end")),T.updateConversionResult(P,S)):T.consumable.revert(S.viewItem,{name:!0,classes:"table"})})}),l.for("upcast").add(iV()),l.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:HT(f,{asWidget:!0,additionalSlots:this._additionalSlots})}),l.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:HT(f,{additionalSlots:this._additionalSlots})}),l.for("upcast").elementToElement({model:"tableRow",view:"tr"}),l.for("upcast").add(b=>{b.on("element:tr",(y,S)=>{S.viewItem.isEmpty&&S.modelCursor.index==0&&y.stop()},{priority:"high"})}),l.for("downcast").elementToElement({model:"tableRow",view:(b,{writer:y})=>b.isEmpty?y.createEmptyElement("tr"):y.createContainerElement("tr")}),l.for("upcast").elementToElement({model:"tableCell",view:"td"}),l.for("upcast").elementToElement({model:"tableCell",view:"th"}),l.for("upcast").add(VT("td")),l.for("upcast").add(VT("th")),l.for("editingDowncast").elementToElement({model:"tableCell",view:$T({asWidget:!0})}),l.for("dataDowncast").elementToElement({model:"tableCell",view:$T()}),l.for("editingDowncast").elementToElement({model:"paragraph",view:WT({asWidget:!0}),converterPriority:"high"}),l.for("dataDowncast").elementToElement({model:"paragraph",view:WT(),converterPriority:"high"}),l.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),l.for("upcast").attributeToAttribute({model:{key:"colspan",value:uM("colspan")},view:"colspan"}),l.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),l.for("upcast").attributeToAttribute({model:{key:"rowspan",value:uM("rowspan")},view:"rowspan"}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new aV(e)),e.commands.add("insertTableRowAbove",new YT(e,{order:"above"})),e.commands.add("insertTableRowBelow",new YT(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new KT(e,{order:"left"})),e.commands.add("insertTableColumnRight",new KT(e,{order:"right"})),e.commands.add("removeTableRow",new lV(e)),e.commands.add("removeTableColumn",new cV(e)),e.commands.add("splitTableCellVertically",new QT(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new QT(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new mV(e)),e.commands.add("mergeTableCellRight",new pC(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new pC(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new pC(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new pC(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new dV(e)),e.commands.add("setTableRowHeader",new uV(e)),e.commands.add("selectTableRow",new bV(e)),e.commands.add("selectTableColumn",new kV(e)),wV(n),_V(n),this.listenTo(n.document,"change:data",()=>{(function(b,y){const S=b.document.differ;for(const T of S.getChanges()){let B,P=!1;if(T.type=="attribute"){const le=T.range.start.nodeAfter;if(!le||!le.is("element","table")||T.attributeKey!="headingRows"&&T.attributeKey!="headingColumns")continue;B=le,P=T.attributeKey=="headingRows"}else T.name!="tableRow"&&T.name!="tableCell"||(B=T.position.findAncestor("table"),P=T.name=="tableRow");if(!B)continue;const W=B.getAttribute("headingRows")||0,ee=B.getAttribute("headingColumns")||0,ne=new Ai(B);for(const le of ne){const Ce=le.row<W||le.column<ee?"th":"td",Me=y.mapper.toViewElement(le.cell);Me&&Me.is("element")&&Me.name!=Ce&&y.reconvertItem(P?le.cell.parent:le.cell)}}})(n,e.editing),function(b,y){const S=b.document.differ,T=new Set;for(const B of S.getChanges()){const P=B.type=="attribute"?B.range.start.parent:B.position.parent;P.is("element","tableCell")&&T.add(P)}for(const B of T.values()){const P=Array.from(B.getChildren()).filter(W=>SV(W,y.mapper));for(const W of P)y.reconvertItem(W)}}(n,e.editing)})}registerAdditionalSlot(e){this._additionalSlots.push(e)}}function uM(u){return e=>{const n=parseInt(e.getAttribute(u));return Number.isNaN(n)||n<=0?null:n}}var gC=a(5032),uv={attributes:{"data-cke":!0}};uv.setAttributes=zt(),uv.insert=Rt().bind(null,"head"),uv.domAPI=Ut(),uv.insertStyleElement=Nt(),Dt()(gC.A,uv),gC.A&&gC.A.locals&&gC.A.locals;class dM extends un{constructor(e){super(e);const n=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new Q,this.focusTracker=new Ji,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(s,l)=>`${l}  ${s}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":n.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:n.to("label")}]}],on:{mousedown:n.to(s=>{s.preventDefault()}),click:n.to(()=>{this.fire("execute")})}}),this.on("boxover",(s,l)=>{const{row:f,column:b}=l.target.dataset;this.items.get(10*(parseInt(f,10)-1)+(parseInt(b,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(s,l,f)=>{if(!f)return;const{row:b,column:y}=f.dataset;this.set({rows:parseInt(b),columns:parseInt(y)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),Tf({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}reset(){this.set({rows:1,columns:1})}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows,n=this.columns;this.items.map((s,l)=>{const f=Math.floor(l/10)<e&&l%10<n;s.set("isOn",f)})}_createGridButton(e,n,s,l){const f=new sr(e);return f.set({label:l,class:"ck-insert-table-dropdown-grid-box"}),f.extendTemplate({attributes:{"data-row":n,"data-column":s}}),f}_createGridCollection(){const e=[];for(let n=0;n<100;n++){const s=Math.floor(n/10),l=n%10,f=`${s+1}  ${l+1}`;e.push(this._createGridButton(this.locale,s+1,l+1,f))}return this.createCollection(e)}}class DV extends Vt{static get pluginName(){return"TableUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,n=this.editor.t,s=e.locale.contentLanguageDirection==="ltr";e.ui.componentFactory.add("insertTable",l=>{const f=e.commands.get("insertTable"),b=fm(l);let y;return b.bind("isEnabled").to(f),b.buttonView.set({icon:cn.table,label:n("Insert table"),tooltip:!0}),b.on("change:isOpen",()=>{y||(y=new dM(l),b.panelView.children.add(y),y.delegate("execute").to(b),b.on("execute",()=>{e.execute("insertTable",{rows:y.rows,columns:y.columns}),e.editing.view.focus()}))}),b}),e.ui.componentFactory.add("menuBar:insertTable",l=>{const f=e.commands.get("insertTable"),b=new mm(l),y=new dM(l);return y.delegate("execute").to(b),b.on("change:isOpen",(S,T,B)=>{B||y.reset()}),y.on("execute",()=>{e.execute("insertTable",{rows:y.rows,columns:y.columns}),e.editing.view.focus()}),b.buttonView.set({label:n("Table"),icon:cn.table}),b.panelView.children.add(y),b.bind("isEnabled").to(f),b}),e.ui.componentFactory.add("tableColumn",l=>{const f=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:n("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:s?"insertTableColumnLeft":"insertTableColumnRight",label:n("Insert column left")}},{type:"button",model:{commandName:s?"insertTableColumnRight":"insertTableColumnLeft",label:n("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:n("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:n("Select column")}}];return this._prepareDropdown(n("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',f,l)}),e.ui.componentFactory.add("tableRow",l=>{const f=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:n("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:n("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:n("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:n("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:n("Select row")}}];return this._prepareDropdown(n("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',f,l)}),e.ui.componentFactory.add("mergeTableCells",l=>{const f=[{type:"button",model:{commandName:"mergeTableCellUp",label:n("Merge cell up")}},{type:"button",model:{commandName:s?"mergeTableCellRight":"mergeTableCellLeft",label:n("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:n("Merge cell down")}},{type:"button",model:{commandName:s?"mergeTableCellLeft":"mergeTableCellRight",label:n("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:n("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:n("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(n("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',f,l)})}_prepareDropdown(e,n,s,l){const f=this.editor,b=fm(l),y=this._fillDropdownWithListOptions(b,s);return b.buttonView.set({label:e,icon:n,tooltip:!0}),b.bind("isEnabled").toMany(y,"isEnabled",(...S)=>S.some(T=>T)),this.listenTo(b,"execute",S=>{f.execute(S.source.commandName),S.source instanceof Sn||f.editing.view.focus()}),b}_prepareMergeSplitButtonDropdown(e,n,s,l){const f=this.editor,b=fm(l,H_),y="mergeTableCells",S=f.commands.get(y),T=this._fillDropdownWithListOptions(b,s);return b.buttonView.set({label:e,icon:n,tooltip:!0,isEnabled:!0}),b.bind("isEnabled").toMany([S,...T],"isEnabled",(...B)=>B.some(P=>P)),this.listenTo(b.buttonView,"execute",()=>{f.execute(y),f.editing.view.focus()}),this.listenTo(b,"execute",B=>{f.execute(B.source.commandName),f.editing.view.focus()}),b}_fillDropdownWithListOptions(e,n){const s=this.editor,l=[],f=new Co;for(const b of n)IV(b,s,l,f);return ZD(e,f),l}}function IV(u,e,n,s){if(u.type==="button"||u.type==="switchbutton"){const l=u.model=new f6(u.model),{commandName:f,bindIsOn:b}=u.model,y=e.commands.get(f);n.push(y),l.set({commandName:f}),l.bind("isEnabled").to(y),b&&l.bind("isOn").to(y,"value"),l.set({withText:!0})}s.add(u)}var bC=a(8423),dv={attributes:{"data-cke":!0}};dv.setAttributes=zt(),dv.insert=Rt().bind(null,"head"),dv.domAPI=Ut(),dv.insertStyleElement=Nt(),Dt()(bC.A,dv),bC.A&&bC.A.locals&&bC.A.locals;class zg extends Vt{static get pluginName(){return"TableSelection"}static get isOfficialPlugin(){return!0}static get requires(){return[Ca,Ca]}init(){const e=this.editor,n=e.model,s=e.editing.view;this.listenTo(n,"deleteContent",(l,f)=>this._handleDeleteContent(l,f),{priority:"high"}),this.listenTo(s.document,"insertText",(l,f)=>this._handleInsertTextEvent(l,f),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const e=this.editor.plugins.get(Ca),n=this.editor.model.document.selection,s=e.getSelectedTableCells(n);return s.length==0?null:s}getSelectionAsFragment(){const e=this.editor.plugins.get(Ca),n=this.getSelectedTableCells();return n?this.editor.model.change(s=>{const l=s.createDocumentFragment(),{first:f,last:b}=e.getColumnIndexes(n),{first:y,last:S}=e.getRowIndexes(n),T=n[0].findAncestor("table");let B=S,P=b;if(e.isSelectionRectangular(n)){const ee={firstColumn:f,lastColumn:b,firstRow:y,lastRow:S};B=rM(T,ee),P=iM(T,ee)}const W=ZT(T,{startRow:y,startColumn:f,endRow:B,endColumn:P},s);return s.insert(W,l,0),l}):null}setCellSelection(e,n){const s=this._getCellsToSelect(e,n);this.editor.model.change(l=>{l.setSelection(s.cells.map(f=>l.createRangeOn(f)),{backward:s.backward})})}getFocusCell(){const e=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return e&&e.is("element","tableCell")?e:null}getAnchorCell(){const e=Po(this.editor.model.document.selection.getRanges()).getContainedElement();return e&&e.is("element","tableCell")?e:null}_defineSelectionConverter(){const e=this.editor,n=new Set;e.conversion.for("editingDowncast").add(s=>s.on("selection",(l,f,b)=>{const y=b.writer;(function(B){for(const P of n)B.removeClass("ck-editor__editable_selected",P);n.clear()})(y);const S=this.getSelectedTableCells();if(!S)return;for(const B of S){const P=b.mapper.toViewElement(B);y.addClass("ck-editor__editable_selected",P),n.add(P)}const T=b.mapper.toViewElement(S[S.length-1]);y.setSelection(T,0)},{priority:"lowest"}))}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const n=this.getSelectedTableCells();if(!n)return;e.model.change(s=>{const l=s.createPositionAt(n[0],0),f=e.model.schema.getNearestSelectionRange(l);s.setSelection(f)})}})}_handleDeleteContent(e,n){const s=this.editor.plugins.get(Ca),l=n[0],f=n[1],b=this.editor.model,y=!f||f.direction=="backward",S=s.getSelectedTableCells(l);S.length&&(e.stop(),b.change(T=>{const B=S[y?S.length-1:0];b.change(W=>{for(const ee of S)b.deleteContent(W.createSelection(ee,"in"))});const P=b.schema.getNearestSelectionRange(T.createPositionAt(B,0));l.is("documentSelection")?T.setSelection(P):l.setTo(P)}))}_handleInsertTextEvent(e,n){const s=this.editor,l=this.getSelectedTableCells();if(!l)return;const f=s.editing.view,b=s.editing.mapper,y=l.map(S=>f.createRangeOn(b.toViewElement(S)));n.selection=f.createSelection(y)}_getCellsToSelect(e,n){const s=this.editor.plugins.get("TableUtils"),l=s.getCellLocation(e),f=s.getCellLocation(n),b=Math.min(l.row,f.row),y=Math.max(l.row,f.row),S=Math.min(l.column,f.column),T=Math.max(l.column,f.column),B=new Array(y-b+1).fill(null).map(()=>[]),P={startRow:b,endRow:y,startColumn:S,endColumn:T};for(const{row:ne,cell:le}of new Ai(e.findAncestor("table"),P))B[ne-b].push(le);const W=f.row<l.row,ee=f.column<l.column;return W&&B.reverse(),ee&&B.forEach(ne=>ne.reverse()),{cells:B.flat(),backward:W||ee}}}class TV extends Vt{static get pluginName(){return"TableClipboard"}static get isOfficialPlugin(){return!0}static get requires(){return[yw,$u,zg,Ca]}init(){const e=this.editor,n=e.editing.view.document;this.listenTo(n,"copy",(s,l)=>this._onCopyCut(s,l)),this.listenTo(n,"cut",(s,l)=>this._onCopyCut(s,l)),this.listenTo(e.model,"insertContent",(s,[l,f])=>this._onInsertContent(s,l,f),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(e,n){const s=this.editor.editing.view,l=this.editor.plugins.get(zg),f=this.editor.plugins.get(yw);l.getSelectedTableCells()&&(e.name!="cut"||this.editor.model.canEditAt(this.editor.model.document.selection))&&(n.preventDefault(),e.stop(),this.editor.model.enqueueChange({isUndoable:e.name==="cut"},()=>{const b=f._copySelectedFragmentWithMarkers(e.name,this.editor.model.document.selection,()=>l.getSelectionAsFragment());s.document.fire("clipboardOutput",{dataTransfer:n.dataTransfer,content:this.editor.data.toView(b),method:e.name})}))}_onInsertContent(e,n,s){if(s&&!s.is("documentSelection"))return;const l=this.editor.model,f=this.editor.plugins.get(Ca),b=this.editor.plugins.get(yw),y=this.getTableIfOnlyTableInContent(n,l);if(!y)return;const S=f.getSelectionAffectedTableCells(l.document.selection);S.length?(e.stop(),n.is("documentFragment")?b._pasteMarkersIntoTransformedElement(n.markers,T=>this._replaceSelectedCells(y,S,T)):this.editor.model.change(T=>{this._replaceSelectedCells(y,S,T)})):l3(y,f)}_replaceSelectedCells(e,n,s){const l=this.editor.plugins.get(Ca),f={width:l.getColumns(e),height:l.getRows(e)},b=function(P,W,ee,ne){const le=P[0].findAncestor("table"),Ce=ne.getColumnIndexes(P),Me=ne.getRowIndexes(P),qe={firstColumn:Ce.first,lastColumn:Ce.last,firstRow:Me.first,lastRow:Me.last},tt=P.length===1;return tt&&(qe.lastRow+=W.height-1,qe.lastColumn+=W.width-1,function(Et,Mt,wn,yn){const Jr=yn.getColumns(Et),ro=yn.getRows(Et);wn>Jr&&yn.insertColumns(Et,{at:Jr,columns:wn-Jr}),Mt>ro&&yn.insertRows(Et,{at:ro,rows:Mt-ro})}(le,qe.lastRow+1,qe.lastColumn+1,ne)),tt||!ne.isSelectionRectangular(P)?function(Et,Mt,wn){const{firstRow:yn,lastRow:Jr,firstColumn:ro,lastColumn:_v}=Mt,gM={first:yn,last:Jr},bM={first:ro,last:_v};h3(Et,ro,gM,wn),h3(Et,_v+1,gM,wn),d3(Et,yn,bM,wn),d3(Et,Jr+1,bM,wn,yn)}(le,qe,ee):(qe.lastRow=rM(le,qe),qe.lastColumn=iM(le,qe)),qe}(n,f,s,l),y=b.lastRow-b.firstRow+1,S=b.lastColumn-b.firstColumn+1;e=ZT(e,{startRow:0,startColumn:0,endRow:Math.min(y,f.height)-1,endColumn:Math.min(S,f.width)-1},s);const T=n[0].findAncestor("table"),B=this._replaceSelectedCellsWithPasted(e,f,T,b,s);if(this.editor.plugins.get("TableSelection").isEnabled){const P=l.sortRanges(B.map(W=>s.createRangeOn(W)));s.setSelection(P)}else s.setSelection(B[0],0);return T}_replaceSelectedCellsWithPasted(e,n,s,l,f){const{width:b,height:y}=n,S=function(Ce,Me,qe){const tt=new Array(qe).fill(null).map(()=>new Array(Me).fill(null));for(const{column:Et,row:Mt,cell:wn}of new Ai(Ce))tt[Mt][Et]=wn;return tt}(e,b,y),T=[...new Ai(s,{startRow:l.firstRow,endRow:l.lastRow,startColumn:l.firstColumn,endColumn:l.lastColumn,includeAllSlots:!0})],B=[];let P;for(const Ce of T){const{row:Me,column:qe}=Ce;qe===l.firstColumn&&(P=Ce.getPositionBefore());const tt=Me-l.firstRow,Et=qe-l.firstColumn,Mt=S[tt%y][Et%b],wn=Mt?f.cloneElement(Mt):null,yn=this._replaceTableSlotCell(Ce,wn,P,f);yn&&(nM(yn,Me,qe,l.lastRow,l.lastColumn,f),B.push(yn),P=f.createPositionAfter(yn))}const W=parseInt(s.getAttribute("headingRows")||"0"),ee=parseInt(s.getAttribute("headingColumns")||"0"),ne=l.firstRow<W&&W<=l.lastRow,le=l.firstColumn<ee&&ee<=l.lastColumn;if(ne){const Ce=d3(s,W,{first:l.firstColumn,last:l.lastColumn},f,l.firstRow);B.push(...Ce)}if(le){const Ce=h3(s,ee,{first:l.firstRow,last:l.lastRow},f);B.push(...Ce)}return B}_replaceTableSlotCell(e,n,s,l){const{cell:f,isAnchor:b}=e;return b&&l.remove(f),n?(l.insert(n,s),n):null}getTableIfOnlyTableInContent(e,n){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(e.childCount==1&&e.getChild(0).is("element","table"))return e.getChild(0);const s=n.createRangeIn(e);for(const l of s.getItems())if(l.is("element","table")){const f=n.createRange(s.start,n.createPositionBefore(l));if(n.hasContent(f,{ignoreWhitespaces:!0}))return null;const b=n.createRange(n.createPositionAfter(l),s.end);return n.hasContent(b,{ignoreWhitespaces:!0})?null:l}return null}}function d3(u,e,n,s,l=0){if(!(e<1))return JT(u,e,l).filter(({column:f,cellWidth:b})=>hM(f,b,n)).map(({cell:f})=>XT(f,e,s))}function h3(u,e,n,s){if(!(e<1))return eM(u,e).filter(({row:l,cellHeight:f})=>hM(l,f,n)).map(({cell:l,column:f})=>tM(l,f,e,s))}function hM(u,e,n){const s=u+e-1,{first:l,last:f}=n;return u>=l&&u<=f||u<l&&s>=l}class MV extends Vt{static get pluginName(){return"TableKeyboard"}static get isOfficialPlugin(){return!0}static get requires(){return[zg,Ca]}init(){const e=this.editor,n=e.editing.view.document,s=e.t;this.listenTo(n,"arrowKey",(...l)=>this._onArrowKey(...l),{context:"table"}),this.listenTo(n,"tab",(...l)=>this._handleTabOnSelectedTable(...l),{context:"figure"}),this.listenTo(n,"tab",(...l)=>this._handleTab(...l),{context:["th","td"]}),e.accessibility.addKeystrokeInfoGroup({id:"table",label:s("Keystrokes that can be used in a table cell"),keystrokes:[{label:s("Move the selection to the next cell"),keystroke:"Tab"},{label:s("Move the selection to the previous cell"),keystroke:"Shift+Tab"},{label:s("Insert a new table row (when in the last cell of a table)"),keystroke:"Tab"},{label:s("Navigate through the table"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]}]})}_handleTabOnSelectedTable(e,n){const s=this.editor,l=s.model.document.selection.getSelectedElement();l&&l.is("element","table")&&(n.preventDefault(),n.stopPropagation(),e.stop(),s.model.change(f=>{f.setSelection(f.createRangeIn(l.getChild(0).getChild(0)))}))}_handleTab(e,n){const s=this.editor,l=this.editor.plugins.get(Ca),f=this.editor.plugins.get("TableSelection"),b=s.model.document.selection,y=!n.shiftKey;let S=l.getTableCellsContainingSelection(b)[0];if(S||(S=f.getFocusCell()),!S)return;n.preventDefault(),n.stopPropagation(),e.stop();const T=S.parent,B=T.parent,P=B.getChildIndex(T),W=T.getChildIndex(S),ee=W===0;if(!y&&ee&&P===0)return void s.model.change(Me=>{Me.setSelection(Me.createRangeOn(B))});const ne=W===T.childCount-1,le=P===l.getRows(B)-1;if(y&&le&&ne&&(s.execute("insertTableRowBelow"),P===l.getRows(B)-1))return void s.model.change(Me=>{Me.setSelection(Me.createRangeOn(B))});let Ce;if(y&&ne)Ce=B.getChild(P+1).getChild(0);else if(!y&&ee){const Me=B.getChild(P-1);Ce=Me.getChild(Me.childCount-1)}else Ce=T.getChild(W+(y?1:-1));s.model.change(Me=>{Me.setSelection(Me.createRangeIn(Ce))})}_onArrowKey(e,n){const s=this.editor,l=Cp(n.keyCode,s.locale.contentLanguageDirection);this._handleArrowKeys(l,n.shiftKey)&&(n.preventDefault(),n.stopPropagation(),e.stop())}_handleArrowKeys(e,n){const s=this.editor.plugins.get(Ca),l=this.editor.plugins.get("TableSelection"),f=this.editor.model,b=f.document.selection,y=["right","down"].includes(e),S=s.getSelectedTableCells(b);if(S.length){let B;return B=n?l.getFocusCell():y?S[S.length-1]:S[0],this._navigateFromCellInDirection(B,e,n),!0}const T=b.focus.findAncestor("tableCell");if(!T)return!1;if(!b.isCollapsed)if(n){if(b.isBackward==y&&!b.containsEntireContent(T))return!1}else{const B=b.getSelectedElement();if(!B||!f.schema.isObject(B))return!1}return!!this._isSelectionAtCellEdge(b,T,y)&&(this._navigateFromCellInDirection(T,e,n),!0)}_isSelectionAtCellEdge(e,n,s){const l=this.editor.model,f=this.editor.model.schema,b=s?e.getLastPosition():e.getFirstPosition();if(!f.getLimitElement(b).is("element","tableCell"))return l.createPositionAt(n,s?"end":0).isTouching(b);const y=l.createSelection(b);return l.modifySelection(y,{direction:s?"forward":"backward"}),b.isEqual(y.focus)}_navigateFromCellInDirection(e,n,s=!1){const l=this.editor.model,f=e.findAncestor("table"),b=[...new Ai(f,{includeAllSlots:!0})],{row:y,column:S}=b[b.length-1],T=b.find(({cell:le})=>le==e);let{row:B,column:P}=T;switch(n){case"left":P--;break;case"up":B--;break;case"right":P+=T.cellWidth;break;case"down":B+=T.cellHeight}if(B<0||B>y||P<0&&B<=0||P>S&&B>=y)return void l.change(le=>{le.setSelection(le.createRangeOn(f))});P<0?(P=s?0:S,B--):P>S&&(P=s?S:0,B++);const W=b.find(le=>le.row==B&&le.column==P).cell,ee=["right","down"].includes(n),ne=this.editor.plugins.get("TableSelection");if(s&&ne.isEnabled){const le=ne.getAnchorCell()||e;ne.setCellSelection(le,W)}else{const le=l.createPositionAt(W,ee?0:"end");l.change(Ce=>{Ce.setSelection(le)})}}}class NV extends bl{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(e){this.fire(e.type,e)}}class OV extends Vt{static get pluginName(){return"TableMouse"}static get isOfficialPlugin(){return!0}static get requires(){return[zg,Ca]}init(){this.editor.editing.view.addObserver(NV),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor,n=e.plugins.get(Ca);let s=!1;const l=e.plugins.get(zg);this.listenTo(e.editing.view.document,"mousedown",(f,b)=>{const y=e.model.document.selection;if(!this.isEnabled||!l.isEnabled||!b.domEvent.shiftKey)return;const S=l.getAnchorCell()||n.getTableCellsContainingSelection(y)[0];if(!S)return;const T=this._getModelTableCellFromDomEvent(b);T&&fM(S,T)&&(s=!0,l.setCellSelection(S,T),b.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{s=!1}),this.listenTo(e.editing.view.document,"selectionChange",f=>{s&&f.stop()},{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let n,s,l=!1,f=!1;const b=e.plugins.get(zg);this.listenTo(e.editing.view.document,"mousedown",(y,S)=>{this.isEnabled&&b.isEnabled&&(S.domEvent.shiftKey||S.domEvent.ctrlKey||S.domEvent.altKey||(n=this._getModelTableCellFromDomEvent(S)))}),this.listenTo(e.editing.view.document,"mousemove",(y,S)=>{if(!S.domEvent.buttons||!n)return;const T=this._getModelTableCellFromDomEvent(S);T&&fM(n,T)&&(s=T,l||s==n||(l=!0)),l&&(f=!0,b.setCellSelection(n,s),S.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{l=!1,f=!1,n=null,s=null}),this.listenTo(e.editing.view.document,"selectionChange",y=>{f&&y.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(e){const n=e.target,s=this.editor.editing.view.createPositionAt(n,0);return this.editor.editing.mapper.toModelPosition(s).parent.findAncestor("tableCell",{includeSelf:!0})}}function fM(u,e){return u.parent.parent==e.parent.parent}var kC=a(2329),hv={attributes:{"data-cke":!0}};hv.setAttributes=zt(),hv.insert=Rt().bind(null,"head"),hv.domAPI=Ut(),hv.insertStyleElement=Nt(),Dt()(kC.A,hv),kC.A&&kC.A.locals&&kC.A.locals;class BV extends Vt{static get requires(){return[EV,DV,zg,OV,MV,TV,Ew]}static get pluginName(){return"Table"}static get isOfficialPlugin(){return!0}}function jV(u){const e=u.getSelectedElement();return e&&pM(e)?e:null}function LV(u){const e=u.getFirstPosition();if(!e)return null;let n=e.parent;for(;n;){if(n.is("element")&&pM(n))return n;n=n.parent}return null}function pM(u){return!!u.getCustomProperty("table")&&Vo(u)}class PV extends Vt{static get requires(){return[C2]}static get pluginName(){return"TableToolbar"}static get isOfficialPlugin(){return!0}afterInit(){const e=this.editor,n=e.t,s=e.plugins.get(C2),l=e.config.get("table.contentToolbar"),f=e.config.get("table.tableToolbar");l&&s.register("tableContent",{ariaLabel:n("Table toolbar"),items:l,getRelatedElement:LV}),f&&s.register("table",{ariaLabel:n("Table toolbar"),items:f,getRelatedElement:jV})}}var wC=a(5506),fv={attributes:{"data-cke":!0}};fv.setAttributes=zt(),fv.insert=Rt().bind(null,"head"),fv.domAPI=Ut(),fv.insertStyleElement=Nt(),Dt()(wC.A,fv),wC.A&&wC.A.locals&&wC.A.locals;var vC=a(2655),pv={attributes:{"data-cke":!0}};pv.setAttributes=zt(),pv.insert=Rt().bind(null,"head"),pv.domAPI=Ut(),pv.insertStyleElement=Nt(),Dt()(vC.A,pv),vC.A&&vC.A.locals&&vC.A.locals;var yC=a(4043),mv={attributes:{"data-cke":!0}};mv.setAttributes=zt(),mv.insert=Rt().bind(null,"head"),mv.domAPI=Ut(),mv.insertStyleElement=Nt(),Dt()(yC.A,mv),yC.A&&yC.A.locals&&yC.A.locals;var AC=a(1623),gv={attributes:{"data-cke":!0}};gv.setAttributes=zt(),gv.insert=Rt().bind(null,"head"),gv.domAPI=Ut(),gv.insertStyleElement=Nt(),Dt()(AC.A,gv),AC.A&&AC.A.locals&&AC.A.locals;var _C=a(8986),bv={attributes:{"data-cke":!0}};bv.setAttributes=zt(),bv.insert=Rt().bind(null,"head"),bv.domAPI=Ut(),bv.insertStyleElement=Nt(),Dt()(_C.A,bv),_C.A&&_C.A.locals&&_C.A.locals;var CC=a(5562),kv={attributes:{"data-cke":!0}};kv.setAttributes=zt(),kv.insert=Rt().bind(null,"head"),kv.domAPI=Ut(),kv.insertStyleElement=Nt(),Dt()(CC.A,kv),CC.A&&CC.A.locals&&CC.A.locals;var xC=a(4143),wv={attributes:{"data-cke":!0}};wv.setAttributes=zt(),wv.insert=Rt().bind(null,"head"),wv.domAPI=Ut(),wv.insertStyleElement=Nt(),Dt()(xC.A,wv),xC.A&&xC.A.locals&&xC.A.locals;var SC=a(8795),vv={attributes:{"data-cke":!0}};vv.setAttributes=zt(),vv.insert=Rt().bind(null,"head"),vv.domAPI=Ut(),vv.insertStyleElement=Nt(),Dt()(SC.A,vv),SC.A&&SC.A.locals&&SC.A.locals;const RV={autoRefresh:!0},mM=36e5;class f3 extends Ae(){constructor(e,n={}){if(super(),this._isDestroyed=!1,!e)throw new U("token-missing-token-url",this);n.initValue&&this._validateTokenValue(n.initValue),this.set("value",n.initValue),this._refresh=typeof e=="function"?e:()=>{return s=e,new Promise((l,f)=>{const b=new XMLHttpRequest;b.open("GET",s),b.addEventListener("load",()=>{const y=b.status,S=b.response;return y<200||y>299?f(new U("token-cannot-download-new-token",null)):l(S)}),b.addEventListener("error",()=>f(new Error("Network Error"))),b.addEventListener("abort",()=>f(new Error("Abort"))),b.send()});var s},this._options={...RV,...n}}init(){return new Promise((e,n)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),e(this)):this.refreshToken().then(e).catch(n)})}refreshToken(){const e=this._options.autoRefresh;return this._refresh().then(n=>(this._validateTokenValue(n),this.set("value",n),e&&this._registerRefreshTokenTimeout(),this)).catch(n=>{throw q("token-refresh-failed",{autoRefresh:e}),e&&this._registerRefreshTokenTimeout(5e3),n})}destroy(){this._isDestroyed=!0,clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(e){const n=typeof e=="string",s=!/^".*"$/.test(e),l=n&&e.split(".").length===3;if(!s||!l)throw new U("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(e){if(clearTimeout(this._tokenRefreshTimeout),this._isDestroyed)return;const n=e||this._getTokenRefreshTimeoutTime();this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},n)}_getTokenRefreshTimeoutTime(){try{const[,e]=this.value.split("."),{exp:n}=JSON.parse(atob(e));return n?Math.floor((1e3*n-Date.now())/2):mM}catch{return mM}}static create(e,n={}){return new f3(e,n).init()}}const p3=/^data:(\S*?);base64,/;class FV extends ke(){constructor(e,n,s){if(super(),!e)throw new U("fileuploader-missing-file",null);if(!n)throw new U("fileuploader-missing-token",null);if(!s)throw new U("fileuploader-missing-api-address",null);this.file=function(l){if(typeof l!="string")return!1;const f=l.match(p3);return!(!f||!f.length)}(e)?function(l,f=512){try{const b=l.match(p3)[1],y=atob(l.replace(p3,"")),S=[];for(let T=0;T<y.length;T+=f){const B=y.slice(T,T+f),P=new Array(B.length);for(let W=0;W<B.length;W++)P[W]=B.charCodeAt(W);S.push(new Uint8Array(P))}return new Blob(S,{type:b})}catch{throw new U("fileuploader-decoding-image-data-error",null)}}(e):e,this._token=n,this._apiAddress=s}onProgress(e){return this.on("progress",(n,s)=>e(s)),this}onError(e){return this.once("error",(n,s)=>e(s)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}_attachXHRListeners(){const e=this.xhr,n=s=>()=>this.fire("error",s);e.addEventListener("error",n("Network Error")),e.addEventListener("abort",n("Abort")),e.upload&&e.upload.addEventListener("progress",s=>{s.lengthComputable&&this.fire("progress",{total:s.total,uploaded:s.loaded})}),e.addEventListener("load",()=>{const s=e.status,l=e.response;if(s<200||s>299)return this.fire("error",l.message||l.error)})}_sendRequest(){const e=new FormData,n=this.xhr;return e.append("file",this.file),new Promise((s,l)=>{n.addEventListener("load",()=>{const f=n.status,b=n.response;return f<200||f>299?b.message?l(new U("fileuploader-uploading-data-failed",this,{message:b.message})):l(b.error):s(b)}),n.addEventListener("error",()=>l(new Error("Network Error"))),n.addEventListener("abort",()=>l(new Error("Abort"))),n.send(e)})}}class zV{constructor(e,n){if(!e)throw new U("uploadgateway-missing-token",null);if(!n)throw new U("uploadgateway-missing-api-address",null);this._token=e,this._apiAddress=n}upload(e){return new FV(e,this._token,this._apiAddress)}}class UV extends rs{static get pluginName(){return"CloudServicesCore"}static get isOfficialPlugin(){return!0}createToken(e,n){return new f3(e,n)}createUploadGateway(e,n){return new zV(e,n)}}class qV extends rs{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get isOfficialPlugin(){return!0}static get requires(){return[UV]}async init(){const e=this.context.config.get("cloudServices")||{};for(const[s,l]of Object.entries(e))this[s]=l;if(!this.tokenUrl)return void(this.token=null);const n=this.context.plugins.get("CloudServicesCore").createToken(this.tokenUrl);try{this.token=await n.init(),this._tokens.set(this.tokenUrl,this.token)}catch(s){throw n.destroy(),s}}async registerTokenUrl(e){if(this._tokens.has(e))return this.getTokenFor(e);const n=this.context.plugins.get("CloudServicesCore"),s=await n.createToken(e).init();return this._tokens.set(e,s),s}getTokenFor(e){const n=this._tokens.get(e);if(!n)throw new U("cloudservices-token-not-registered",this);return n}destroy(){super.destroy();for(const e of this._tokens.values())e.destroy()}}const NC=class NC extends AF{};NC.builtinPlugins=[xz,Iz,Mz,Bz,Pz,Uz,rU,aU,qV,uU,gU,DU,NU,qU,VU,FU,GU,bq,Iq,Pq,B2,rV,HU,BV,PV,$F],NC.defaultConfig={toolbar:{items:["undo","redo","|","heading","|","bold","italic","|","link","uploadImage","insertTable","blockQuote","mediaEmbed","|","bulletedList","numberedList","outdent","indent"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"};let m3=NC})(),c=c.default})())}(by,by.exports)),by.exports}var xY=CY();const BL=Si(xY),SY=({content:t,onChange:i})=>{const r=(o,a)=>{const c=a.getData();i(c)};return x.jsx(G4,{editor:BL,data:t,onChange:r,config:{toolbar:["undo","redo","|","heading","|","bold","italic","|","blockQuote","numberedList","bulletedList","|","insertTable","link","|"]}})},EY=(t,i={enabled:!0,priority:"low"})=>{const r=ae.useCallback(o=>{!i.enabled||o.length===0||o.forEach((a,c)=>{if(!a||a.startsWith("data:"))return;const d=new Image;"loading"in d&&(d.loading="lazy");const p=i.priority==="low"?c*100:0;setTimeout(()=>{d.src=a,d.onload=()=>{console.log(` Preloaded image: ${a.substring(0,50)}...`)},d.onerror=m=>{console.error(` Failed to preload image: ${a}`,m),console.error("Image details:",{url:a,naturalWidth:d.naturalWidth,naturalHeight:d.naturalHeight,complete:d.complete})}},p)})},[i.enabled,i.priority]);return ae.useEffect(()=>{r(t)},[t,r]),{preloadImages:r}},jL=(t,i,r=!0)=>{const{preloadImages:o}=EY([],{enabled:r,priority:"low"});ae.useEffect(()=>{var d,p;if(!r||!t.length)return;const a=[];if(i>0){const m=t[i-1];m!=null&&m.images&&a.push(...m.images.map(k=>k.url)),(d=m==null?void 0:m.subsections)==null||d.forEach(k=>{var w;k.images&&a.push(...k.images.map(_=>_.url)),(w=k==null?void 0:k.subSubsections)==null||w.forEach(_=>{_.images&&a.push(..._.images.map(C=>C.url))})})}if(i<t.length-1){const m=t[i+1];m!=null&&m.images&&a.push(...m.images.map(k=>k.url)),(p=m==null?void 0:m.subsections)==null||p.forEach(k=>{var w;k.images&&a.push(...k.images.map(_=>_.url)),(w=k==null?void 0:k.subSubsections)==null||w.forEach(_=>{_.images&&a.push(..._.images.map(C=>C.url))})})}const c=Array.from(new Set(a.filter(Boolean)));c.length>0&&(console.log(`Preloading ${c.length} images from adjacent sections`),o(c))},[t,i,r,o])},EN=({content:t,onChange:i})=>{const r=(o,a)=>{const c=a.getData();i(c)};return x.jsx(G4,{editor:BL,data:t,onChange:r,config:{toolbar:["heading","|","bold","italic","|","blockQuote","numberedList","bulletedList","|","link"]}})},DY=({value:t,onChange:i})=>{const[r,o]=ae.useState([]),[a,c]=ae.useState(!0),{userDetails:d}=go();ae.useEffect(()=>{if(console.log("User Details in CourseDropdown:",d),d!=null&&d.classes){const m=Object.entries(d.classes).filter(([k,w])=>w.isCourseAdmin||d.isSuperAdmin).map(([k,w])=>({id:k,number:w.number,title:w.title}));console.log("Filtered Courses for Dropdown:",m),o(m)}else o([]);c(!1)},[d]);const p=r.some(m=>m.id===t);return a?x.jsx(Be,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:x.jsx(ji,{})}):x.jsx(_n,{select:!0,label:"Select Course",value:p?t:"",onChange:m=>i(m.target.value),fullWidth:!0,sx:{mb:2},error:!p&&t!=="",helperText:!p&&t!==""?"Invalid course selected":"",children:r.length>0?r.map(m=>x.jsxs(Lr,{value:m.id,children:[m.number," - ",m.title]},m.id)):x.jsx(Lr,{disabled:!0,children:"No courses available"})})};function dn(t){const i=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&i==="[object Date]"?new t.constructor(+t):typeof t=="number"||i==="[object Number]"||typeof t=="string"||i==="[object String]"?new Date(t):new Date(NaN)}function Ci(t,i){return t instanceof Date?new t.constructor(i):new Date(i)}function Zd(t,i){const r=dn(t);return isNaN(i)?Ci(t,NaN):(i&&r.setDate(r.getDate()+i),r)}function Jd(t,i){const r=dn(t);if(isNaN(i))return Ci(t,NaN);if(!i)return r;const o=r.getDate(),a=Ci(t,r.getTime());a.setMonth(r.getMonth()+i+1,0);const c=a.getDate();return o>=c?a:(r.setFullYear(a.getFullYear(),a.getMonth(),o),r)}function Y4(t,i){const r=+dn(t);return Ci(t,r+i)}const LL=6048e5,IY=864e5,h5=6e4,f5=36e5,TY=1e3;function MY(t,i){return Y4(t,i*f5)}let NY={};function gb(){return NY}function lp(t,i){var p,m,k,w;const r=gb(),o=(i==null?void 0:i.weekStartsOn)??((m=(p=i==null?void 0:i.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??r.weekStartsOn??((w=(k=r.locale)==null?void 0:k.options)==null?void 0:w.weekStartsOn)??0,a=dn(t),c=a.getDay(),d=(c<o?7:0)+c-o;return a.setDate(a.getDate()-d),a.setHours(0,0,0,0),a}function dk(t){return lp(t,{weekStartsOn:1})}function PL(t){const i=dn(t),r=i.getFullYear(),o=Ci(t,0);o.setFullYear(r+1,0,4),o.setHours(0,0,0,0);const a=dk(o),c=Ci(t,0);c.setFullYear(r,0,4),c.setHours(0,0,0,0);const d=dk(c);return i.getTime()>=a.getTime()?r+1:i.getTime()>=d.getTime()?r:r-1}function ub(t){const i=dn(t);return i.setHours(0,0,0,0),i}function Ox(t){const i=dn(t),r=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()));return r.setUTCFullYear(i.getFullYear()),+t-+r}function hk(t,i){const r=ub(t),o=ub(i),a=+r-Ox(r),c=+o-Ox(o);return Math.round((a-c)/IY)}function OY(t){const i=PL(t),r=Ci(t,0);return r.setFullYear(i,0,4),r.setHours(0,0,0,0),dk(r)}function LE(t,i){return Y4(t,i*h5)}function K4(t,i){const r=i*3;return Jd(t,r)}function BY(t,i){return Y4(t,i*1e3)}function Bx(t,i){const r=i*7;return Zd(t,r)}function ip(t,i){return Jd(t,i*12)}function DN(t){let i;return t.forEach(function(r){const o=dn(r);(i===void 0||i<o||isNaN(Number(o)))&&(i=o)}),i||new Date(NaN)}function IN(t){let i;return t.forEach(r=>{const o=dn(r);(!i||i>o||isNaN(+o))&&(i=o)}),i||new Date(NaN)}function jY(t,i){const r=ub(t),o=ub(i);return+r==+o}function op(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function jx(t){if(!op(t)&&typeof t!="number")return!1;const i=dn(t);return!isNaN(Number(i))}function Lx(t,i){const r=dn(t),o=dn(i),a=r.getFullYear()-o.getFullYear(),c=r.getMonth()-o.getMonth();return a*12+c}function nb(t){const i=dn(t);return Math.trunc(i.getMonth()/3)+1}function Px(t,i){const r=dn(t),o=dn(i),a=r.getFullYear()-o.getFullYear(),c=nb(r)-nb(o);return a*4+c}function Rx(t,i){const r=dn(t),o=dn(i);return r.getFullYear()-o.getFullYear()}function LY(t,i){const r=dn(t),o=dn(i),a=TN(r,o),c=Math.abs(hk(r,o));r.setDate(r.getDate()-a*c);const d=+(TN(r,o)===-a),p=a*(c-d);return p===0?0:p}function TN(t,i){const r=t.getFullYear()-i.getFullYear()||t.getMonth()-i.getMonth()||t.getDate()-i.getDate()||t.getHours()-i.getHours()||t.getMinutes()-i.getMinutes()||t.getSeconds()-i.getSeconds()||t.getMilliseconds()-i.getMilliseconds();return r<0?-1:r>0?1:r}function RL(t){const i=dn(t);return i.setHours(23,59,59,999),i}function FL(t){const i=dn(t),r=i.getMonth();return i.setFullYear(i.getFullYear(),r+1,0),i.setHours(23,59,59,999),i}function PE(t){const i=dn(t),r=i.getMonth(),o=r-r%3;return i.setMonth(o,1),i.setHours(0,0,0,0),i}function zL(t){const i=dn(t);return i.setDate(1),i.setHours(0,0,0,0),i}function UL(t){const i=dn(t),r=i.getFullYear();return i.setFullYear(r+1,0,0),i.setHours(23,59,59,999),i}function p5(t){const i=dn(t),r=Ci(t,0);return r.setFullYear(i.getFullYear(),0,1),r.setHours(0,0,0,0),r}function PY(t,i){var p,m;const r=gb(),o=r.weekStartsOn??((m=(p=r.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,a=dn(t),c=a.getDay(),d=(c<o?-7:0)+6-(c-o);return a.setDate(a.getDate()+d),a.setHours(23,59,59,999),a}const RY={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},FY=(t,i,r)=>{let o;const a=RY[t];return typeof a=="string"?o=a:i===1?o=a.one:o=a.other.replace("{{count}}",i.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o};function I3(t){return(i={})=>{const r=i.width?String(i.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const zY={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},UY={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qY={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},VY={date:I3({formats:zY,defaultWidth:"full"}),time:I3({formats:UY,defaultWidth:"full"}),dateTime:I3({formats:qY,defaultWidth:"full"})},HY={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$Y=(t,i,r,o)=>HY[t];function zv(t){return(i,r)=>{const o=r!=null&&r.context?String(r.context):"standalone";let a;if(o==="formatting"&&t.formattingValues){const d=t.defaultFormattingWidth||t.defaultWidth,p=r!=null&&r.width?String(r.width):d;a=t.formattingValues[p]||t.formattingValues[d]}else{const d=t.defaultWidth,p=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[p]||t.values[d]}const c=t.argumentCallback?t.argumentCallback(i):i;return a[c]}}const WY={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},GY={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},YY={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},KY={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},QY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ZY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},JY=(t,i)=>{const r=Number(t),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},XY={ordinalNumber:JY,era:zv({values:WY,defaultWidth:"wide"}),quarter:zv({values:GY,defaultWidth:"wide",argumentCallback:t=>t-1}),month:zv({values:YY,defaultWidth:"wide"}),day:zv({values:KY,defaultWidth:"wide"}),dayPeriod:zv({values:QY,defaultWidth:"wide",formattingValues:ZY,defaultFormattingWidth:"wide"})};function Uv(t){return(i,r={})=>{const o=r.width,a=o&&t.matchPatterns[o]||t.matchPatterns[t.defaultMatchWidth],c=i.match(a);if(!c)return null;const d=c[0],p=o&&t.parsePatterns[o]||t.parsePatterns[t.defaultParseWidth],m=Array.isArray(p)?tK(p,_=>_.test(d)):eK(p,_=>_.test(d));let k;k=t.valueCallback?t.valueCallback(m):m,k=r.valueCallback?r.valueCallback(k):k;const w=i.slice(d.length);return{value:k,rest:w}}}function eK(t,i){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&i(t[r]))return r}function tK(t,i){for(let r=0;r<t.length;r++)if(i(t[r]))return r}function nK(t){return(i,r={})=>{const o=i.match(t.matchPattern);if(!o)return null;const a=o[0],c=i.match(t.parsePattern);if(!c)return null;let d=t.valueCallback?t.valueCallback(c[0]):c[0];d=r.valueCallback?r.valueCallback(d):d;const p=i.slice(a.length);return{value:d,rest:p}}}const rK=/^(\d+)(th|st|nd|rd)?/i,iK=/\d+/i,oK={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},sK={any:[/^b/i,/^(a|c)/i]},aK={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},lK={any:[/1/i,/2/i,/3/i,/4/i]},cK={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uK={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},dK={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hK={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},fK={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pK={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},mK={ordinalNumber:nK({matchPattern:rK,parsePattern:iK,valueCallback:t=>parseInt(t,10)}),era:Uv({matchPatterns:oK,defaultMatchWidth:"wide",parsePatterns:sK,defaultParseWidth:"any"}),quarter:Uv({matchPatterns:aK,defaultMatchWidth:"wide",parsePatterns:lK,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Uv({matchPatterns:cK,defaultMatchWidth:"wide",parsePatterns:uK,defaultParseWidth:"any"}),day:Uv({matchPatterns:dK,defaultMatchWidth:"wide",parsePatterns:hK,defaultParseWidth:"any"}),dayPeriod:Uv({matchPatterns:fK,defaultMatchWidth:"any",parsePatterns:pK,defaultParseWidth:"any"})},qL={code:"en-US",formatDistance:FY,formatLong:VY,formatRelative:$Y,localize:XY,match:mK,options:{weekStartsOn:0,firstWeekContainsDate:1}};function gK(t){const i=dn(t);return hk(i,p5(i))+1}function Q4(t){const i=dn(t),r=+dk(i)-+OY(i);return Math.round(r/LL)+1}function Z4(t,i){var w,_,C,v;const r=dn(t),o=r.getFullYear(),a=gb(),c=(i==null?void 0:i.firstWeekContainsDate)??((_=(w=i==null?void 0:i.locale)==null?void 0:w.options)==null?void 0:_.firstWeekContainsDate)??a.firstWeekContainsDate??((v=(C=a.locale)==null?void 0:C.options)==null?void 0:v.firstWeekContainsDate)??1,d=Ci(t,0);d.setFullYear(o+1,0,c),d.setHours(0,0,0,0);const p=lp(d,i),m=Ci(t,0);m.setFullYear(o,0,c),m.setHours(0,0,0,0);const k=lp(m,i);return r.getTime()>=p.getTime()?o+1:r.getTime()>=k.getTime()?o:o-1}function bK(t,i){var p,m,k,w;const r=gb(),o=(i==null?void 0:i.firstWeekContainsDate)??((m=(p=i==null?void 0:i.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??r.firstWeekContainsDate??((w=(k=r.locale)==null?void 0:k.options)==null?void 0:w.firstWeekContainsDate)??1,a=Z4(t,i),c=Ci(t,0);return c.setFullYear(a,0,o),c.setHours(0,0,0,0),lp(c,i)}function VL(t,i){const r=dn(t),o=+lp(r,i)-+bK(r,i);return Math.round(o/LL)+1}function _i(t,i){const r=t<0?"-":"",o=Math.abs(t).toString().padStart(i,"0");return r+o}const vm={y(t,i){const r=t.getFullYear(),o=r>0?r:1-r;return _i(i==="yy"?o%100:o,i.length)},M(t,i){const r=t.getMonth();return i==="M"?String(r+1):_i(r+1,2)},d(t,i){return _i(t.getDate(),i.length)},a(t,i){const r=t.getHours()/12>=1?"pm":"am";switch(i){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,i){return _i(t.getHours()%12||12,i.length)},H(t,i){return _i(t.getHours(),i.length)},m(t,i){return _i(t.getMinutes(),i.length)},s(t,i){return _i(t.getSeconds(),i.length)},S(t,i){const r=i.length,o=t.getMilliseconds(),a=Math.trunc(o*Math.pow(10,r-3));return _i(a,i.length)}},M0={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},MN={G:function(t,i,r){const o=t.getFullYear()>0?1:0;switch(i){case"G":case"GG":case"GGG":return r.era(o,{width:"abbreviated"});case"GGGGG":return r.era(o,{width:"narrow"});case"GGGG":default:return r.era(o,{width:"wide"})}},y:function(t,i,r){if(i==="yo"){const o=t.getFullYear(),a=o>0?o:1-o;return r.ordinalNumber(a,{unit:"year"})}return vm.y(t,i)},Y:function(t,i,r,o){const a=Z4(t,o),c=a>0?a:1-a;if(i==="YY"){const d=c%100;return _i(d,2)}return i==="Yo"?r.ordinalNumber(c,{unit:"year"}):_i(c,i.length)},R:function(t,i){const r=PL(t);return _i(r,i.length)},u:function(t,i){const r=t.getFullYear();return _i(r,i.length)},Q:function(t,i,r){const o=Math.ceil((t.getMonth()+1)/3);switch(i){case"Q":return String(o);case"QQ":return _i(o,2);case"Qo":return r.ordinalNumber(o,{unit:"quarter"});case"QQQ":return r.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(o,{width:"wide",context:"formatting"})}},q:function(t,i,r){const o=Math.ceil((t.getMonth()+1)/3);switch(i){case"q":return String(o);case"qq":return _i(o,2);case"qo":return r.ordinalNumber(o,{unit:"quarter"});case"qqq":return r.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(o,{width:"wide",context:"standalone"})}},M:function(t,i,r){const o=t.getMonth();switch(i){case"M":case"MM":return vm.M(t,i);case"Mo":return r.ordinalNumber(o+1,{unit:"month"});case"MMM":return r.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(o,{width:"wide",context:"formatting"})}},L:function(t,i,r){const o=t.getMonth();switch(i){case"L":return String(o+1);case"LL":return _i(o+1,2);case"Lo":return r.ordinalNumber(o+1,{unit:"month"});case"LLL":return r.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(o,{width:"wide",context:"standalone"})}},w:function(t,i,r,o){const a=VL(t,o);return i==="wo"?r.ordinalNumber(a,{unit:"week"}):_i(a,i.length)},I:function(t,i,r){const o=Q4(t);return i==="Io"?r.ordinalNumber(o,{unit:"week"}):_i(o,i.length)},d:function(t,i,r){return i==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):vm.d(t,i)},D:function(t,i,r){const o=gK(t);return i==="Do"?r.ordinalNumber(o,{unit:"dayOfYear"}):_i(o,i.length)},E:function(t,i,r){const o=t.getDay();switch(i){case"E":case"EE":case"EEE":return r.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(o,{width:"short",context:"formatting"});case"EEEE":default:return r.day(o,{width:"wide",context:"formatting"})}},e:function(t,i,r,o){const a=t.getDay(),c=(a-o.weekStartsOn+8)%7||7;switch(i){case"e":return String(c);case"ee":return _i(c,2);case"eo":return r.ordinalNumber(c,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,i,r,o){const a=t.getDay(),c=(a-o.weekStartsOn+8)%7||7;switch(i){case"c":return String(c);case"cc":return _i(c,i.length);case"co":return r.ordinalNumber(c,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,i,r){const o=t.getDay(),a=o===0?7:o;switch(i){case"i":return String(a);case"ii":return _i(a,i.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(o,{width:"short",context:"formatting"});case"iiii":default:return r.day(o,{width:"wide",context:"formatting"})}},a:function(t,i,r){const a=t.getHours()/12>=1?"pm":"am";switch(i){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,i,r){const o=t.getHours();let a;switch(o===12?a=M0.noon:o===0?a=M0.midnight:a=o/12>=1?"pm":"am",i){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,i,r){const o=t.getHours();let a;switch(o>=17?a=M0.evening:o>=12?a=M0.afternoon:o>=4?a=M0.morning:a=M0.night,i){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,i,r){if(i==="ho"){let o=t.getHours()%12;return o===0&&(o=12),r.ordinalNumber(o,{unit:"hour"})}return vm.h(t,i)},H:function(t,i,r){return i==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):vm.H(t,i)},K:function(t,i,r){const o=t.getHours()%12;return i==="Ko"?r.ordinalNumber(o,{unit:"hour"}):_i(o,i.length)},k:function(t,i,r){let o=t.getHours();return o===0&&(o=24),i==="ko"?r.ordinalNumber(o,{unit:"hour"}):_i(o,i.length)},m:function(t,i,r){return i==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):vm.m(t,i)},s:function(t,i,r){return i==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):vm.s(t,i)},S:function(t,i){return vm.S(t,i)},X:function(t,i,r){const o=t.getTimezoneOffset();if(o===0)return"Z";switch(i){case"X":return ON(o);case"XXXX":case"XX":return Hg(o);case"XXXXX":case"XXX":default:return Hg(o,":")}},x:function(t,i,r){const o=t.getTimezoneOffset();switch(i){case"x":return ON(o);case"xxxx":case"xx":return Hg(o);case"xxxxx":case"xxx":default:return Hg(o,":")}},O:function(t,i,r){const o=t.getTimezoneOffset();switch(i){case"O":case"OO":case"OOO":return"GMT"+NN(o,":");case"OOOO":default:return"GMT"+Hg(o,":")}},z:function(t,i,r){const o=t.getTimezoneOffset();switch(i){case"z":case"zz":case"zzz":return"GMT"+NN(o,":");case"zzzz":default:return"GMT"+Hg(o,":")}},t:function(t,i,r){const o=Math.trunc(t.getTime()/1e3);return _i(o,i.length)},T:function(t,i,r){const o=t.getTime();return _i(o,i.length)}};function NN(t,i=""){const r=t>0?"-":"+",o=Math.abs(t),a=Math.trunc(o/60),c=o%60;return c===0?r+String(a):r+String(a)+i+_i(c,2)}function ON(t,i){return t%60===0?(t>0?"-":"+")+_i(Math.abs(t)/60,2):Hg(t,i)}function Hg(t,i=""){const r=t>0?"-":"+",o=Math.abs(t),a=_i(Math.trunc(o/60),2),c=_i(o%60,2);return r+a+i+c}const BN=(t,i)=>{switch(t){case"P":return i.date({width:"short"});case"PP":return i.date({width:"medium"});case"PPP":return i.date({width:"long"});case"PPPP":default:return i.date({width:"full"})}},HL=(t,i)=>{switch(t){case"p":return i.time({width:"short"});case"pp":return i.time({width:"medium"});case"ppp":return i.time({width:"long"});case"pppp":default:return i.time({width:"full"})}},kK=(t,i)=>{const r=t.match(/(P+)(p+)?/)||[],o=r[1],a=r[2];if(!a)return BN(t,i);let c;switch(o){case"P":c=i.dateTime({width:"short"});break;case"PP":c=i.dateTime({width:"medium"});break;case"PPP":c=i.dateTime({width:"long"});break;case"PPPP":default:c=i.dateTime({width:"full"});break}return c.replace("{{date}}",BN(o,i)).replace("{{time}}",HL(a,i))},Fx={p:HL,P:kK},wK=/^D+$/,vK=/^Y+$/,yK=["D","DD","YY","YYYY"];function $L(t){return wK.test(t)}function WL(t){return vK.test(t)}function RE(t,i,r){const o=AK(t,i,r);if(console.warn(o),yK.includes(t))throw new RangeError(o)}function AK(t,i,r){const o=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${i}\`) for formatting ${o} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const _K=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,CK=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,xK=/^'([^]*?)'?$/,SK=/''/g,EK=/[a-zA-Z]/;function jN(t,i,r){var w,_,C,v,D,E,O,M;const o=gb(),a=(r==null?void 0:r.locale)??o.locale??qL,c=(r==null?void 0:r.firstWeekContainsDate)??((_=(w=r==null?void 0:r.locale)==null?void 0:w.options)==null?void 0:_.firstWeekContainsDate)??o.firstWeekContainsDate??((v=(C=o.locale)==null?void 0:C.options)==null?void 0:v.firstWeekContainsDate)??1,d=(r==null?void 0:r.weekStartsOn)??((E=(D=r==null?void 0:r.locale)==null?void 0:D.options)==null?void 0:E.weekStartsOn)??o.weekStartsOn??((M=(O=o.locale)==null?void 0:O.options)==null?void 0:M.weekStartsOn)??0,p=dn(t);if(!jx(p))throw new RangeError("Invalid time value");let m=i.match(CK).map(j=>{const F=j[0];if(F==="p"||F==="P"){const G=Fx[F];return G(j,a.formatLong)}return j}).join("").match(_K).map(j=>{if(j==="''")return{isToken:!1,value:"'"};const F=j[0];if(F==="'")return{isToken:!1,value:DK(j)};if(MN[F])return{isToken:!0,value:j};if(F.match(EK))throw new RangeError("Format string contains an unescaped latin alphabet character `"+F+"`");return{isToken:!1,value:j}});a.localize.preprocessor&&(m=a.localize.preprocessor(p,m));const k={firstWeekContainsDate:c,weekStartsOn:d,locale:a};return m.map(j=>{if(!j.isToken)return j.value;const F=j.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&WL(F)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&$L(F))&&RE(F,i,String(t));const G=MN[F[0]];return G(p,F,a.localize,k)}).join("")}function DK(t){const i=t.match(xK);return i?i[1].replace(SK,"'"):t}function LN(t){return dn(t).getDate()}function IK(t){return dn(t).getDay()}function TK(t){const i=dn(t),r=i.getFullYear(),o=i.getMonth(),a=Ci(t,0);return a.setFullYear(r,o+1,0),a.setHours(0,0,0,0),a.getDate()}function MK(){return Object.assign({},gb())}function Xh(t){return dn(t).getHours()}function NK(t){let r=dn(t).getDay();return r===0&&(r=7),r}function ef(t){return dn(t).getMinutes()}function Sl(t){return dn(t).getMonth()}function sp(t){return dn(t).getSeconds()}function FE(t){return dn(t).getTime()}function yr(t){return dn(t).getFullYear()}function Rm(t,i){const r=dn(t),o=dn(i);return r.getTime()>o.getTime()}function db(t,i){const r=dn(t),o=dn(i);return+r<+o}function OK(t,i){const r=dn(t),o=dn(i);return+r==+o}function BK(t,i){const r=i instanceof Date?Ci(i,0):new i(0);return r.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),r.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),r}const jK=10;class GL{constructor(){Jt(this,"subPriority",0)}validate(i,r){return!0}}class LK extends GL{constructor(i,r,o,a,c){super(),this.value=i,this.validateValue=r,this.setValue=o,this.priority=a,c&&(this.subPriority=c)}validate(i,r){return this.validateValue(i,this.value,r)}set(i,r,o){return this.setValue(i,r,this.value,o)}}class PK extends GL{constructor(){super(...arguments);Jt(this,"priority",jK);Jt(this,"subPriority",-1)}set(r,o){return o.timestampIsSet?r:Ci(r,BK(r,Date))}}let ui=class{run(i,r,o,a){const c=this.parse(i,r,o,a);return c?{setter:new LK(c.value,this.validate,this.set,this.priority,this.subPriority),rest:c.rest}:null}validate(i,r,o){return!0}};class RK extends ui{constructor(){super(...arguments);Jt(this,"priority",140);Jt(this,"incompatibleTokens",["R","u","t","T"])}parse(r,o,a){switch(o){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})||a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"})}}set(r,o,a){return o.era=a,r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}const us={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Wh={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ds(t,i){return t&&{value:i(t.value),rest:t.rest}}function Mo(t,i){const r=i.match(t);return r?{value:parseInt(r[0],10),rest:i.slice(r[0].length)}:null}function Gh(t,i){const r=i.match(t);if(!r)return null;if(r[0]==="Z")return{value:0,rest:i.slice(1)};const o=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,c=r[3]?parseInt(r[3],10):0,d=r[5]?parseInt(r[5],10):0;return{value:o*(a*f5+c*h5+d*TY),rest:i.slice(r[0].length)}}function YL(t){return Mo(us.anyDigitsSigned,t)}function Zo(t,i){switch(t){case 1:return Mo(us.singleDigit,i);case 2:return Mo(us.twoDigits,i);case 3:return Mo(us.threeDigits,i);case 4:return Mo(us.fourDigits,i);default:return Mo(new RegExp("^\\d{1,"+t+"}"),i)}}function zx(t,i){switch(t){case 1:return Mo(us.singleDigitSigned,i);case 2:return Mo(us.twoDigitsSigned,i);case 3:return Mo(us.threeDigitsSigned,i);case 4:return Mo(us.fourDigitsSigned,i);default:return Mo(new RegExp("^-?\\d{1,"+t+"}"),i)}}function J4(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function KL(t,i){const r=i>0,o=r?i:1-i;let a;if(o<=50)a=t||100;else{const c=o+50,d=Math.trunc(c/100)*100,p=t>=c%100;a=t+d-(p?100:0)}return r?a:1-a}function QL(t){return t%400===0||t%4===0&&t%100!==0}class FK extends ui{constructor(){super(...arguments);Jt(this,"priority",130);Jt(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,o,a){const c=d=>({year:d,isTwoDigitYear:o==="yy"});switch(o){case"y":return ds(Zo(4,r),c);case"yo":return ds(a.ordinalNumber(r,{unit:"year"}),c);default:return ds(Zo(o.length,r),c)}}validate(r,o){return o.isTwoDigitYear||o.year>0}set(r,o,a){const c=r.getFullYear();if(a.isTwoDigitYear){const p=KL(a.year,c);return r.setFullYear(p,0,1),r.setHours(0,0,0,0),r}const d=!("era"in o)||o.era===1?a.year:1-a.year;return r.setFullYear(d,0,1),r.setHours(0,0,0,0),r}}class zK extends ui{constructor(){super(...arguments);Jt(this,"priority",130);Jt(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,o,a){const c=d=>({year:d,isTwoDigitYear:o==="YY"});switch(o){case"Y":return ds(Zo(4,r),c);case"Yo":return ds(a.ordinalNumber(r,{unit:"year"}),c);default:return ds(Zo(o.length,r),c)}}validate(r,o){return o.isTwoDigitYear||o.year>0}set(r,o,a,c){const d=Z4(r,c);if(a.isTwoDigitYear){const m=KL(a.year,d);return r.setFullYear(m,0,c.firstWeekContainsDate),r.setHours(0,0,0,0),lp(r,c)}const p=!("era"in o)||o.era===1?a.year:1-a.year;return r.setFullYear(p,0,c.firstWeekContainsDate),r.setHours(0,0,0,0),lp(r,c)}}class UK extends ui{constructor(){super(...arguments);Jt(this,"priority",130);Jt(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,o){return zx(o==="R"?4:o.length,r)}set(r,o,a){const c=Ci(r,0);return c.setFullYear(a,0,4),c.setHours(0,0,0,0),dk(c)}}class qK extends ui{constructor(){super(...arguments);Jt(this,"priority",130);Jt(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,o){return zx(o==="u"?4:o.length,r)}set(r,o,a){return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}class VK extends ui{constructor(){super(...arguments);Jt(this,"priority",120);Jt(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,o,a){switch(o){case"Q":case"QQ":return Zo(o.length,r);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})||a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,o){return o>=1&&o<=4}set(r,o,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class HK extends ui{constructor(){super(...arguments);Jt(this,"priority",120);Jt(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,o,a){switch(o){case"q":case"qq":return Zo(o.length,r);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})||a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,o){return o>=1&&o<=4}set(r,o,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class $K extends ui{constructor(){super(...arguments);Jt(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Jt(this,"priority",110)}parse(r,o,a){const c=d=>d-1;switch(o){case"M":return ds(Mo(us.month,r),c);case"MM":return ds(Zo(2,r),c);case"Mo":return ds(a.ordinalNumber(r,{unit:"month"}),c);case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})||a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"})}}validate(r,o){return o>=0&&o<=11}set(r,o,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}class WK extends ui{constructor(){super(...arguments);Jt(this,"priority",110);Jt(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,o,a){const c=d=>d-1;switch(o){case"L":return ds(Mo(us.month,r),c);case"LL":return ds(Zo(2,r),c);case"Lo":return ds(a.ordinalNumber(r,{unit:"month"}),c);case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})||a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"})}}validate(r,o){return o>=0&&o<=11}set(r,o,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}function GK(t,i,r){const o=dn(t),a=VL(o,r)-i;return o.setDate(o.getDate()-a*7),o}class YK extends ui{constructor(){super(...arguments);Jt(this,"priority",100);Jt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,o,a){switch(o){case"w":return Mo(us.week,r);case"wo":return a.ordinalNumber(r,{unit:"week"});default:return Zo(o.length,r)}}validate(r,o){return o>=1&&o<=53}set(r,o,a,c){return lp(GK(r,a,c),c)}}function KK(t,i){const r=dn(t),o=Q4(r)-i;return r.setDate(r.getDate()-o*7),r}class QK extends ui{constructor(){super(...arguments);Jt(this,"priority",100);Jt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,o,a){switch(o){case"I":return Mo(us.week,r);case"Io":return a.ordinalNumber(r,{unit:"week"});default:return Zo(o.length,r)}}validate(r,o){return o>=1&&o<=53}set(r,o,a){return dk(KK(r,a))}}const ZK=[31,28,31,30,31,30,31,31,30,31,30,31],JK=[31,29,31,30,31,30,31,31,30,31,30,31];class XK extends ui{constructor(){super(...arguments);Jt(this,"priority",90);Jt(this,"subPriority",1);Jt(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,o,a){switch(o){case"d":return Mo(us.date,r);case"do":return a.ordinalNumber(r,{unit:"date"});default:return Zo(o.length,r)}}validate(r,o){const a=r.getFullYear(),c=QL(a),d=r.getMonth();return c?o>=1&&o<=JK[d]:o>=1&&o<=ZK[d]}set(r,o,a){return r.setDate(a),r.setHours(0,0,0,0),r}}class eQ extends ui{constructor(){super(...arguments);Jt(this,"priority",90);Jt(this,"subpriority",1);Jt(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,o,a){switch(o){case"D":case"DD":return Mo(us.dayOfYear,r);case"Do":return a.ordinalNumber(r,{unit:"date"});default:return Zo(o.length,r)}}validate(r,o){const a=r.getFullYear();return QL(a)?o>=1&&o<=366:o>=1&&o<=365}set(r,o,a){return r.setMonth(0,a),r.setHours(0,0,0,0),r}}function X4(t,i,r){var _,C,v,D;const o=gb(),a=(r==null?void 0:r.weekStartsOn)??((C=(_=r==null?void 0:r.locale)==null?void 0:_.options)==null?void 0:C.weekStartsOn)??o.weekStartsOn??((D=(v=o.locale)==null?void 0:v.options)==null?void 0:D.weekStartsOn)??0,c=dn(t),d=c.getDay(),m=(i%7+7)%7,k=7-a,w=i<0||i>6?i-(d+k)%7:(m+k)%7-(d+k)%7;return Zd(c,w)}class tQ extends ui{constructor(){super(...arguments);Jt(this,"priority",90);Jt(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,o,a){switch(o){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,o){return o>=0&&o<=6}set(r,o,a,c){return r=X4(r,a,c),r.setHours(0,0,0,0),r}}class nQ extends ui{constructor(){super(...arguments);Jt(this,"priority",90);Jt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,o,a,c){const d=p=>{const m=Math.floor((p-1)/7)*7;return(p+c.weekStartsOn+6)%7+m};switch(o){case"e":case"ee":return ds(Zo(o.length,r),d);case"eo":return ds(a.ordinalNumber(r,{unit:"day"}),d);case"eee":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,o){return o>=0&&o<=6}set(r,o,a,c){return r=X4(r,a,c),r.setHours(0,0,0,0),r}}class rQ extends ui{constructor(){super(...arguments);Jt(this,"priority",90);Jt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,o,a,c){const d=p=>{const m=Math.floor((p-1)/7)*7;return(p+c.weekStartsOn+6)%7+m};switch(o){case"c":case"cc":return ds(Zo(o.length,r),d);case"co":return ds(a.ordinalNumber(r,{unit:"day"}),d);case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(r,{width:"wide",context:"standalone"})||a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"})}}validate(r,o){return o>=0&&o<=6}set(r,o,a,c){return r=X4(r,a,c),r.setHours(0,0,0,0),r}}function iQ(t,i){const r=dn(t),o=NK(r),a=i-o;return Zd(r,a)}class oQ extends ui{constructor(){super(...arguments);Jt(this,"priority",90);Jt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,o,a){const c=d=>d===0?7:d;switch(o){case"i":case"ii":return Zo(o.length,r);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return ds(a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),c);case"iiiii":return ds(a.day(r,{width:"narrow",context:"formatting"}),c);case"iiiiii":return ds(a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),c);case"iiii":default:return ds(a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),c)}}validate(r,o){return o>=1&&o<=7}set(r,o,a){return r=iQ(r,a),r.setHours(0,0,0,0),r}}class sQ extends ui{constructor(){super(...arguments);Jt(this,"priority",80);Jt(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,o,a){switch(o){case"a":case"aa":case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,o,a){return r.setHours(J4(a),0,0,0),r}}class aQ extends ui{constructor(){super(...arguments);Jt(this,"priority",80);Jt(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,o,a){switch(o){case"b":case"bb":case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,o,a){return r.setHours(J4(a),0,0,0),r}}class lQ extends ui{constructor(){super(...arguments);Jt(this,"priority",80);Jt(this,"incompatibleTokens",["a","b","t","T"])}parse(r,o,a){switch(o){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,o,a){return r.setHours(J4(a),0,0,0),r}}class cQ extends ui{constructor(){super(...arguments);Jt(this,"priority",70);Jt(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,o,a){switch(o){case"h":return Mo(us.hour12h,r);case"ho":return a.ordinalNumber(r,{unit:"hour"});default:return Zo(o.length,r)}}validate(r,o){return o>=1&&o<=12}set(r,o,a){const c=r.getHours()>=12;return c&&a<12?r.setHours(a+12,0,0,0):!c&&a===12?r.setHours(0,0,0,0):r.setHours(a,0,0,0),r}}class uQ extends ui{constructor(){super(...arguments);Jt(this,"priority",70);Jt(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,o,a){switch(o){case"H":return Mo(us.hour23h,r);case"Ho":return a.ordinalNumber(r,{unit:"hour"});default:return Zo(o.length,r)}}validate(r,o){return o>=0&&o<=23}set(r,o,a){return r.setHours(a,0,0,0),r}}class dQ extends ui{constructor(){super(...arguments);Jt(this,"priority",70);Jt(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,o,a){switch(o){case"K":return Mo(us.hour11h,r);case"Ko":return a.ordinalNumber(r,{unit:"hour"});default:return Zo(o.length,r)}}validate(r,o){return o>=0&&o<=11}set(r,o,a){return r.getHours()>=12&&a<12?r.setHours(a+12,0,0,0):r.setHours(a,0,0,0),r}}class hQ extends ui{constructor(){super(...arguments);Jt(this,"priority",70);Jt(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,o,a){switch(o){case"k":return Mo(us.hour24h,r);case"ko":return a.ordinalNumber(r,{unit:"hour"});default:return Zo(o.length,r)}}validate(r,o){return o>=1&&o<=24}set(r,o,a){const c=a<=24?a%24:a;return r.setHours(c,0,0,0),r}}class fQ extends ui{constructor(){super(...arguments);Jt(this,"priority",60);Jt(this,"incompatibleTokens",["t","T"])}parse(r,o,a){switch(o){case"m":return Mo(us.minute,r);case"mo":return a.ordinalNumber(r,{unit:"minute"});default:return Zo(o.length,r)}}validate(r,o){return o>=0&&o<=59}set(r,o,a){return r.setMinutes(a,0,0),r}}class pQ extends ui{constructor(){super(...arguments);Jt(this,"priority",50);Jt(this,"incompatibleTokens",["t","T"])}parse(r,o,a){switch(o){case"s":return Mo(us.second,r);case"so":return a.ordinalNumber(r,{unit:"second"});default:return Zo(o.length,r)}}validate(r,o){return o>=0&&o<=59}set(r,o,a){return r.setSeconds(a,0),r}}class mQ extends ui{constructor(){super(...arguments);Jt(this,"priority",30);Jt(this,"incompatibleTokens",["t","T"])}parse(r,o){const a=c=>Math.trunc(c*Math.pow(10,-o.length+3));return ds(Zo(o.length,r),a)}set(r,o,a){return r.setMilliseconds(a),r}}class gQ extends ui{constructor(){super(...arguments);Jt(this,"priority",10);Jt(this,"incompatibleTokens",["t","T","x"])}parse(r,o){switch(o){case"X":return Gh(Wh.basicOptionalMinutes,r);case"XX":return Gh(Wh.basic,r);case"XXXX":return Gh(Wh.basicOptionalSeconds,r);case"XXXXX":return Gh(Wh.extendedOptionalSeconds,r);case"XXX":default:return Gh(Wh.extended,r)}}set(r,o,a){return o.timestampIsSet?r:Ci(r,r.getTime()-Ox(r)-a)}}class bQ extends ui{constructor(){super(...arguments);Jt(this,"priority",10);Jt(this,"incompatibleTokens",["t","T","X"])}parse(r,o){switch(o){case"x":return Gh(Wh.basicOptionalMinutes,r);case"xx":return Gh(Wh.basic,r);case"xxxx":return Gh(Wh.basicOptionalSeconds,r);case"xxxxx":return Gh(Wh.extendedOptionalSeconds,r);case"xxx":default:return Gh(Wh.extended,r)}}set(r,o,a){return o.timestampIsSet?r:Ci(r,r.getTime()-Ox(r)-a)}}class kQ extends ui{constructor(){super(...arguments);Jt(this,"priority",40);Jt(this,"incompatibleTokens","*")}parse(r){return YL(r)}set(r,o,a){return[Ci(r,a*1e3),{timestampIsSet:!0}]}}class wQ extends ui{constructor(){super(...arguments);Jt(this,"priority",20);Jt(this,"incompatibleTokens","*")}parse(r){return YL(r)}set(r,o,a){return[Ci(r,a),{timestampIsSet:!0}]}}const vQ={G:new RK,y:new FK,Y:new zK,R:new UK,u:new qK,Q:new VK,q:new HK,M:new $K,L:new WK,w:new YK,I:new QK,d:new XK,D:new eQ,E:new tQ,e:new nQ,c:new rQ,i:new oQ,a:new sQ,b:new aQ,B:new lQ,h:new cQ,H:new uQ,K:new dQ,k:new hQ,m:new fQ,s:new pQ,S:new mQ,X:new gQ,x:new bQ,t:new kQ,T:new wQ},yQ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,AQ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_Q=/^'([^]*?)'?$/,CQ=/''/g,xQ=/\S/,SQ=/[a-zA-Z]/;function T3(t,i,r,o){var E,O,M,j,F,G,J,H;const a=MK(),c=(o==null?void 0:o.locale)??a.locale??qL,d=(o==null?void 0:o.firstWeekContainsDate)??((O=(E=o==null?void 0:o.locale)==null?void 0:E.options)==null?void 0:O.firstWeekContainsDate)??a.firstWeekContainsDate??((j=(M=a.locale)==null?void 0:M.options)==null?void 0:j.firstWeekContainsDate)??1,p=(o==null?void 0:o.weekStartsOn)??((G=(F=o==null?void 0:o.locale)==null?void 0:F.options)==null?void 0:G.weekStartsOn)??a.weekStartsOn??((H=(J=a.locale)==null?void 0:J.options)==null?void 0:H.weekStartsOn)??0;if(i==="")return t===""?dn(r):Ci(r,NaN);const m={firstWeekContainsDate:d,weekStartsOn:p,locale:c},k=[new PK],w=i.match(AQ).map(z=>{const Z=z[0];if(Z in Fx){const Y=Fx[Z];return Y(z,c.formatLong)}return z}).join("").match(yQ),_=[];for(let z of w){!(o!=null&&o.useAdditionalWeekYearTokens)&&WL(z)&&RE(z,i,t),!(o!=null&&o.useAdditionalDayOfYearTokens)&&$L(z)&&RE(z,i,t);const Z=z[0],Y=vQ[Z];if(Y){const{incompatibleTokens:se}=Y;if(Array.isArray(se)){const K=_.find(U=>se.includes(U.token)||U.token===Z);if(K)throw new RangeError(`The format string mustn't contain \`${K.fullToken}\` and \`${z}\` at the same time`)}else if(Y.incompatibleTokens==="*"&&_.length>0)throw new RangeError(`The format string mustn't contain \`${z}\` and any other token at the same time`);_.push({token:Z,fullToken:z});const X=Y.run(t,z,c.match,m);if(!X)return Ci(r,NaN);k.push(X.setter),t=X.rest}else{if(Z.match(SQ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Z+"`");if(z==="''"?z="'":Z==="'"&&(z=EQ(z)),t.indexOf(z)===0)t=t.slice(z.length);else return Ci(r,NaN)}}if(t.length>0&&xQ.test(t))return Ci(r,NaN);const C=k.map(z=>z.priority).sort((z,Z)=>Z-z).filter((z,Z,Y)=>Y.indexOf(z)===Z).map(z=>k.filter(Z=>Z.priority===z).sort((Z,Y)=>Y.subPriority-Z.subPriority)).map(z=>z[0]);let v=dn(r);if(isNaN(v.getTime()))return Ci(r,NaN);const D={};for(const z of C){if(!z.validate(v,m))return Ci(r,NaN);const Z=z.set(v,D,m);Array.isArray(Z)?(v=Z[0],Object.assign(D,Z[1])):v=Z}return Ci(r,v)}function EQ(t){return t.match(_Q)[1].replace(CQ,"'")}function DQ(t,i){const r=dn(t),o=dn(i);return r.getFullYear()===o.getFullYear()&&r.getMonth()===o.getMonth()}function IQ(t,i){const r=PE(t),o=PE(i);return+r==+o}function TQ(t,i){const r=dn(t),o=dn(i);return r.getFullYear()===o.getFullYear()}function jy(t,i){const r=+dn(t),[o,a]=[+dn(i.start),+dn(i.end)].sort((c,d)=>c-d);return r>=o&&r<=a}function MQ(t,i){return Zd(t,-1)}function NQ(t,i){const o=LQ(t);let a;if(o.date){const m=PQ(o.date,2);a=RQ(m.restDateString,m.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const c=a.getTime();let d=0,p;if(o.time&&(d=FQ(o.time),isNaN(d)))return new Date(NaN);if(o.timezone){if(p=zQ(o.timezone),isNaN(p))return new Date(NaN)}else{const m=new Date(c+d),k=new Date(0);return k.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),k.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),k}return new Date(c+d+p)}const PC={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},OQ=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,BQ=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,jQ=/^([+-])(\d{2})(?::?(\d{2}))?$/;function LQ(t){const i={},r=t.split(PC.dateTimeDelimiter);let o;if(r.length>2)return i;if(/:/.test(r[0])?o=r[0]:(i.date=r[0],o=r[1],PC.timeZoneDelimiter.test(i.date)&&(i.date=t.split(PC.timeZoneDelimiter)[0],o=t.substr(i.date.length,t.length))),o){const a=PC.timezone.exec(o);a?(i.time=o.replace(a[1],""),i.timezone=a[1]):i.time=o}return i}function PQ(t,i){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+i)+"})|(\\d{2}|[+-]\\d{"+(2+i)+"})$)"),o=t.match(r);if(!o)return{year:NaN,restDateString:""};const a=o[1]?parseInt(o[1]):null,c=o[2]?parseInt(o[2]):null;return{year:c===null?a:c*100,restDateString:t.slice((o[1]||o[2]).length)}}function RQ(t,i){if(i===null)return new Date(NaN);const r=t.match(OQ);if(!r)return new Date(NaN);const o=!!r[4],a=qv(r[1]),c=qv(r[2])-1,d=qv(r[3]),p=qv(r[4]),m=qv(r[5])-1;if(o)return $Q(i,p,m)?UQ(i,p,m):new Date(NaN);{const k=new Date(0);return!VQ(i,c,d)||!HQ(i,a)?new Date(NaN):(k.setUTCFullYear(i,c,Math.max(a,d)),k)}}function qv(t){return t?parseInt(t):1}function FQ(t){const i=t.match(BQ);if(!i)return NaN;const r=M3(i[1]),o=M3(i[2]),a=M3(i[3]);return WQ(r,o,a)?r*f5+o*h5+a*1e3:NaN}function M3(t){return t&&parseFloat(t.replace(",","."))||0}function zQ(t){if(t==="Z")return 0;const i=t.match(jQ);if(!i)return 0;const r=i[1]==="+"?-1:1,o=parseInt(i[2]),a=i[3]&&parseInt(i[3])||0;return GQ(o,a)?r*(o*f5+a*h5):NaN}function UQ(t,i,r){const o=new Date(0);o.setUTCFullYear(t,0,4);const a=o.getUTCDay()||7,c=(i-1)*7+r+1-a;return o.setUTCDate(o.getUTCDate()+c),o}const qQ=[31,null,31,30,31,30,31,31,30,31,30,31];function ZL(t){return t%400===0||t%4===0&&t%100!==0}function VQ(t,i,r){return i>=0&&i<=11&&r>=1&&r<=(qQ[i]||(ZL(t)?29:28))}function HQ(t,i){return i>=1&&i<=(ZL(t)?366:365)}function $Q(t,i,r){return i>=1&&i<=53&&r>=0&&r<=6}function WQ(t,i,r){return t===24?i===0&&r===0:r>=0&&r<60&&i>=0&&i<60&&t>=0&&t<25}function GQ(t,i){return i>=0&&i<=59}function Jc(t,i){const r=dn(t),o=r.getFullYear(),a=r.getDate(),c=Ci(t,0);c.setFullYear(o,i,15),c.setHours(0,0,0,0);const d=TK(c);return r.setMonth(i,Math.min(a,d)),r}function YQ(t,i){let r=dn(t);return isNaN(+r)?Ci(t,NaN):(i.year!=null&&r.setFullYear(i.year),i.month!=null&&(r=Jc(r,i.month)),i.date!=null&&r.setDate(i.date),i.hours!=null&&r.setHours(i.hours),i.minutes!=null&&r.setMinutes(i.minutes),i.seconds!=null&&r.setSeconds(i.seconds),i.milliseconds!=null&&r.setMilliseconds(i.milliseconds),r)}function ix(t,i){const r=dn(t);return r.setHours(i),r}function ox(t,i){const r=dn(t);return r.setMinutes(i),r}function Y0(t,i){const r=dn(t),o=Math.trunc(r.getMonth()/3)+1,a=i-o;return Jc(r,r.getMonth()+a*3)}function sx(t,i){const r=dn(t);return r.setSeconds(i),r}function Rh(t,i){const r=dn(t);return isNaN(+r)?Ci(t,NaN):(r.setFullYear(i),r)}function rb(t,i){return Jd(t,-i)}function JL(t,i){return K4(t,-1)}function PN(t,i){return Bx(t,-1)}function fk(t,i){return ip(t,-i)}function m5(){return typeof window<"u"}function Ak(t){return XL(t)?(t.nodeName||"").toLowerCase():"#document"}function ou(t){var i;return(t==null||(i=t.ownerDocument)==null?void 0:i.defaultView)||window}function ff(t){var i;return(i=(XL(t)?t.ownerDocument:t.document)||window.document)==null?void 0:i.documentElement}function XL(t){return m5()?t instanceof Node||t instanceof ou(t).Node:!1}function El(t){return m5()?t instanceof Element||t instanceof ou(t).Element:!1}function uf(t){return m5()?t instanceof HTMLElement||t instanceof ou(t).HTMLElement:!1}function RN(t){return!m5()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ou(t).ShadowRoot}const KQ=new Set(["inline","contents"]);function tA(t){const{overflow:i,overflowX:r,overflowY:o,display:a}=id(t);return/auto|scroll|overlay|hidden|clip/.test(i+o+r)&&!KQ.has(a)}const QQ=new Set(["table","td","th"]);function ZQ(t){return QQ.has(Ak(t))}const JQ=[":popover-open",":modal"];function g5(t){return JQ.some(i=>{try{return t.matches(i)}catch{return!1}})}const XQ=["transform","translate","scale","rotate","perspective"],eZ=["transform","translate","scale","rotate","perspective","filter"],tZ=["paint","layout","strict","content"];function eD(t){const i=tD(),r=El(t)?id(t):t;return XQ.some(o=>r[o]?r[o]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!i&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!i&&(r.filter?r.filter!=="none":!1)||eZ.some(o=>(r.willChange||"").includes(o))||tZ.some(o=>(r.contain||"").includes(o))}function nZ(t){let i=Fm(t);for(;uf(i)&&!pk(i);){if(eD(i))return i;if(g5(i))return null;i=Fm(i)}return null}function tD(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const rZ=new Set(["html","body","#document"]);function pk(t){return rZ.has(Ak(t))}function id(t){return ou(t).getComputedStyle(t)}function b5(t){return El(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Fm(t){if(Ak(t)==="html")return t;const i=t.assignedSlot||t.parentNode||RN(t)&&t.host||ff(t);return RN(i)?i.host:i}function eP(t){const i=Fm(t);return pk(i)?t.ownerDocument?t.ownerDocument.body:t.body:uf(i)&&tA(i)?i:eP(i)}function Ly(t,i,r){var o;i===void 0&&(i=[]),r===void 0&&(r=!0);const a=eP(t),c=a===((o=t.ownerDocument)==null?void 0:o.body),d=ou(a);if(c){const p=zE(d);return i.concat(d,d.visualViewport||[],tA(a)?a:[],p&&r?Ly(p):[])}return i.concat(a,Ly(a,[],r))}function zE(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const mk=Math.min,ib=Math.max,Ux=Math.round,RC=Math.floor,tf=t=>({x:t,y:t}),iZ={left:"right",right:"left",bottom:"top",top:"bottom"},oZ={start:"end",end:"start"};function sZ(t,i,r){return ib(t,mk(i,r))}function k5(t,i){return typeof t=="function"?t(i):t}function gk(t){return t.split("-")[0]}function nA(t){return t.split("-")[1]}function aZ(t){return t==="x"?"y":"x"}function nD(t){return t==="y"?"height":"width"}const lZ=new Set(["top","bottom"]);function Zg(t){return lZ.has(gk(t))?"y":"x"}function rD(t){return aZ(Zg(t))}function cZ(t,i,r){r===void 0&&(r=!1);const o=nA(t),a=rD(t),c=nD(a);let d=a==="x"?o===(r?"end":"start")?"right":"left":o==="start"?"bottom":"top";return i.reference[c]>i.floating[c]&&(d=qx(d)),[d,qx(d)]}function uZ(t){const i=qx(t);return[UE(t),i,UE(i)]}function UE(t){return t.replace(/start|end/g,i=>oZ[i])}const FN=["left","right"],zN=["right","left"],dZ=["top","bottom"],hZ=["bottom","top"];function fZ(t,i,r){switch(t){case"top":case"bottom":return r?i?zN:FN:i?FN:zN;case"left":case"right":return i?dZ:hZ;default:return[]}}function pZ(t,i,r,o){const a=nA(t);let c=fZ(gk(t),r==="start",o);return a&&(c=c.map(d=>d+"-"+a),i&&(c=c.concat(c.map(UE)))),c}function qx(t){return t.replace(/left|right|bottom|top/g,i=>iZ[i])}function mZ(t){return{top:0,right:0,bottom:0,left:0,...t}}function tP(t){return typeof t!="number"?mZ(t):{top:t,right:t,bottom:t,left:t}}function Vx(t){const{x:i,y:r,width:o,height:a}=t;return{width:o,height:a,top:r,left:i,right:i+o,bottom:r+a,x:i,y:r}}var gZ=typeof document<"u",bZ=function(){},Hx=gZ?ae.useLayoutEffect:bZ;const kZ={...P4},wZ=kZ.useInsertionEffect,vZ=wZ||(t=>t());function yZ(t){const i=ae.useRef(()=>{});return vZ(()=>{i.current=t}),ae.useCallback(function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return i.current==null?void 0:i.current(...o)},[])}function UN(t,i,r){let{reference:o,floating:a}=t;const c=Zg(i),d=rD(i),p=nD(d),m=gk(i),k=c==="y",w=o.x+o.width/2-a.width/2,_=o.y+o.height/2-a.height/2,C=o[p]/2-a[p]/2;let v;switch(m){case"top":v={x:w,y:o.y-a.height};break;case"bottom":v={x:w,y:o.y+o.height};break;case"right":v={x:o.x+o.width,y:_};break;case"left":v={x:o.x-a.width,y:_};break;default:v={x:o.x,y:o.y}}switch(nA(i)){case"start":v[d]-=C*(r&&k?-1:1);break;case"end":v[d]+=C*(r&&k?-1:1);break}return v}const AZ=async(t,i,r)=>{const{placement:o="bottom",strategy:a="absolute",middleware:c=[],platform:d}=r,p=c.filter(Boolean),m=await(d.isRTL==null?void 0:d.isRTL(i));let k=await d.getElementRects({reference:t,floating:i,strategy:a}),{x:w,y:_}=UN(k,o,m),C=o,v={},D=0;for(let E=0;E<p.length;E++){const{name:O,fn:M}=p[E],{x:j,y:F,data:G,reset:J}=await M({x:w,y:_,initialPlacement:o,placement:C,strategy:a,middlewareData:v,rects:k,platform:d,elements:{reference:t,floating:i}});w=j??w,_=F??_,v={...v,[O]:{...v[O],...G}},J&&D<=50&&(D++,typeof J=="object"&&(J.placement&&(C=J.placement),J.rects&&(k=J.rects===!0?await d.getElementRects({reference:t,floating:i,strategy:a}):J.rects),{x:w,y:_}=UN(k,C,m)),E=-1)}return{x:w,y:_,placement:C,strategy:a,middlewareData:v}};async function _Z(t,i){var r;i===void 0&&(i={});const{x:o,y:a,platform:c,rects:d,elements:p,strategy:m}=t,{boundary:k="clippingAncestors",rootBoundary:w="viewport",elementContext:_="floating",altBoundary:C=!1,padding:v=0}=k5(i,t),D=tP(v),O=p[C?_==="floating"?"reference":"floating":_],M=Vx(await c.getClippingRect({element:(r=await(c.isElement==null?void 0:c.isElement(O)))==null||r?O:O.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(p.floating)),boundary:k,rootBoundary:w,strategy:m})),j=_==="floating"?{x:o,y:a,width:d.floating.width,height:d.floating.height}:d.reference,F=await(c.getOffsetParent==null?void 0:c.getOffsetParent(p.floating)),G=await(c.isElement==null?void 0:c.isElement(F))?await(c.getScale==null?void 0:c.getScale(F))||{x:1,y:1}:{x:1,y:1},J=Vx(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:p,rect:j,offsetParent:F,strategy:m}):j);return{top:(M.top-J.top+D.top)/G.y,bottom:(J.bottom-M.bottom+D.bottom)/G.y,left:(M.left-J.left+D.left)/G.x,right:(J.right-M.right+D.right)/G.x}}const CZ=t=>({name:"arrow",options:t,async fn(i){const{x:r,y:o,placement:a,rects:c,platform:d,elements:p,middlewareData:m}=i,{element:k,padding:w=0}=k5(t,i)||{};if(k==null)return{};const _=tP(w),C={x:r,y:o},v=rD(a),D=nD(v),E=await d.getDimensions(k),O=v==="y",M=O?"top":"left",j=O?"bottom":"right",F=O?"clientHeight":"clientWidth",G=c.reference[D]+c.reference[v]-C[v]-c.floating[D],J=C[v]-c.reference[v],H=await(d.getOffsetParent==null?void 0:d.getOffsetParent(k));let z=H?H[F]:0;(!z||!await(d.isElement==null?void 0:d.isElement(H)))&&(z=p.floating[F]||c.floating[D]);const Z=G/2-J/2,Y=z/2-E[D]/2-1,se=mk(_[M],Y),X=mk(_[j],Y),K=se,U=z-E[D]-X,q=z/2-E[D]/2+Z,fe=sZ(K,q,U),ue=!m.arrow&&nA(a)!=null&&q!==fe&&c.reference[D]/2-(q<K?se:X)-E[D]/2<0,de=ue?q<K?q-K:q-U:0;return{[v]:C[v]+de,data:{[v]:fe,centerOffset:q-fe-de,...ue&&{alignmentOffset:de}},reset:ue}}}),xZ=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(i){var r,o;const{placement:a,middlewareData:c,rects:d,initialPlacement:p,platform:m,elements:k}=i,{mainAxis:w=!0,crossAxis:_=!0,fallbackPlacements:C,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:D="none",flipAlignment:E=!0,...O}=k5(t,i);if((r=c.arrow)!=null&&r.alignmentOffset)return{};const M=gk(a),j=Zg(p),F=gk(p)===p,G=await(m.isRTL==null?void 0:m.isRTL(k.floating)),J=C||(F||!E?[qx(p)]:uZ(p)),H=D!=="none";!C&&H&&J.push(...pZ(p,E,D,G));const z=[p,...J],Z=await _Z(i,O),Y=[];let se=((o=c.flip)==null?void 0:o.overflows)||[];if(w&&Y.push(Z[M]),_){const q=cZ(a,d,G);Y.push(Z[q[0]],Z[q[1]])}if(se=[...se,{placement:a,overflows:Y}],!Y.every(q=>q<=0)){var X,K;const q=(((X=c.flip)==null?void 0:X.index)||0)+1,fe=z[q];if(fe&&(!(_==="alignment"?j!==Zg(fe):!1)||se.every(ge=>ge.overflows[0]>0&&Zg(ge.placement)===j)))return{data:{index:q,overflows:se},reset:{placement:fe}};let ue=(K=se.filter(de=>de.overflows[0]<=0).sort((de,ge)=>de.overflows[1]-ge.overflows[1])[0])==null?void 0:K.placement;if(!ue)switch(v){case"bestFit":{var U;const de=(U=se.filter(ge=>{if(H){const Ie=Zg(ge.placement);return Ie===j||Ie==="y"}return!0}).map(ge=>[ge.placement,ge.overflows.filter(Ie=>Ie>0).reduce((Ie,ce)=>Ie+ce,0)]).sort((ge,Ie)=>ge[1]-Ie[1])[0])==null?void 0:U[0];de&&(ue=de);break}case"initialPlacement":ue=p;break}if(a!==ue)return{reset:{placement:ue}}}return{}}}},SZ=new Set(["left","top"]);async function EZ(t,i){const{placement:r,platform:o,elements:a}=t,c=await(o.isRTL==null?void 0:o.isRTL(a.floating)),d=gk(r),p=nA(r),m=Zg(r)==="y",k=SZ.has(d)?-1:1,w=c&&m?-1:1,_=k5(i,t);let{mainAxis:C,crossAxis:v,alignmentAxis:D}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return p&&typeof D=="number"&&(v=p==="end"?D*-1:D),m?{x:v*w,y:C*k}:{x:C*k,y:v*w}}const DZ=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(i){var r,o;const{x:a,y:c,placement:d,middlewareData:p}=i,m=await EZ(i,t);return d===((r=p.offset)==null?void 0:r.placement)&&(o=p.arrow)!=null&&o.alignmentOffset?{}:{x:a+m.x,y:c+m.y,data:{...m,placement:d}}}}};function nP(t){const i=id(t);let r=parseFloat(i.width)||0,o=parseFloat(i.height)||0;const a=uf(t),c=a?t.offsetWidth:r,d=a?t.offsetHeight:o,p=Ux(r)!==c||Ux(o)!==d;return p&&(r=c,o=d),{width:r,height:o,$:p}}function iD(t){return El(t)?t:t.contextElement}function J0(t){const i=iD(t);if(!uf(i))return tf(1);const r=i.getBoundingClientRect(),{width:o,height:a,$:c}=nP(i);let d=(c?Ux(r.width):r.width)/o,p=(c?Ux(r.height):r.height)/a;return(!d||!Number.isFinite(d))&&(d=1),(!p||!Number.isFinite(p))&&(p=1),{x:d,y:p}}const IZ=tf(0);function rP(t){const i=ou(t);return!tD()||!i.visualViewport?IZ:{x:i.visualViewport.offsetLeft,y:i.visualViewport.offsetTop}}function TZ(t,i,r){return i===void 0&&(i=!1),!r||i&&r!==ou(t)?!1:i}function hb(t,i,r,o){i===void 0&&(i=!1),r===void 0&&(r=!1);const a=t.getBoundingClientRect(),c=iD(t);let d=tf(1);i&&(o?El(o)&&(d=J0(o)):d=J0(t));const p=TZ(c,r,o)?rP(c):tf(0);let m=(a.left+p.x)/d.x,k=(a.top+p.y)/d.y,w=a.width/d.x,_=a.height/d.y;if(c){const C=ou(c),v=o&&El(o)?ou(o):o;let D=C,E=zE(D);for(;E&&o&&v!==D;){const O=J0(E),M=E.getBoundingClientRect(),j=id(E),F=M.left+(E.clientLeft+parseFloat(j.paddingLeft))*O.x,G=M.top+(E.clientTop+parseFloat(j.paddingTop))*O.y;m*=O.x,k*=O.y,w*=O.x,_*=O.y,m+=F,k+=G,D=ou(E),E=zE(D)}}return Vx({width:w,height:_,x:m,y:k})}function oD(t,i){const r=b5(t).scrollLeft;return i?i.left+r:hb(ff(t)).left+r}function iP(t,i,r){r===void 0&&(r=!1);const o=t.getBoundingClientRect(),a=o.left+i.scrollLeft-(r?0:oD(t,o)),c=o.top+i.scrollTop;return{x:a,y:c}}function MZ(t){let{elements:i,rect:r,offsetParent:o,strategy:a}=t;const c=a==="fixed",d=ff(o),p=i?g5(i.floating):!1;if(o===d||p&&c)return r;let m={scrollLeft:0,scrollTop:0},k=tf(1);const w=tf(0),_=uf(o);if((_||!_&&!c)&&((Ak(o)!=="body"||tA(d))&&(m=b5(o)),uf(o))){const v=hb(o);k=J0(o),w.x=v.x+o.clientLeft,w.y=v.y+o.clientTop}const C=d&&!_&&!c?iP(d,m,!0):tf(0);return{width:r.width*k.x,height:r.height*k.y,x:r.x*k.x-m.scrollLeft*k.x+w.x+C.x,y:r.y*k.y-m.scrollTop*k.y+w.y+C.y}}function NZ(t){return Array.from(t.getClientRects())}function OZ(t){const i=ff(t),r=b5(t),o=t.ownerDocument.body,a=ib(i.scrollWidth,i.clientWidth,o.scrollWidth,o.clientWidth),c=ib(i.scrollHeight,i.clientHeight,o.scrollHeight,o.clientHeight);let d=-r.scrollLeft+oD(t);const p=-r.scrollTop;return id(o).direction==="rtl"&&(d+=ib(i.clientWidth,o.clientWidth)-a),{width:a,height:c,x:d,y:p}}function BZ(t,i){const r=ou(t),o=ff(t),a=r.visualViewport;let c=o.clientWidth,d=o.clientHeight,p=0,m=0;if(a){c=a.width,d=a.height;const k=tD();(!k||k&&i==="fixed")&&(p=a.offsetLeft,m=a.offsetTop)}return{width:c,height:d,x:p,y:m}}const jZ=new Set(["absolute","fixed"]);function LZ(t,i){const r=hb(t,!0,i==="fixed"),o=r.top+t.clientTop,a=r.left+t.clientLeft,c=uf(t)?J0(t):tf(1),d=t.clientWidth*c.x,p=t.clientHeight*c.y,m=a*c.x,k=o*c.y;return{width:d,height:p,x:m,y:k}}function qN(t,i,r){let o;if(i==="viewport")o=BZ(t,r);else if(i==="document")o=OZ(ff(t));else if(El(i))o=LZ(i,r);else{const a=rP(t);o={x:i.x-a.x,y:i.y-a.y,width:i.width,height:i.height}}return Vx(o)}function oP(t,i){const r=Fm(t);return r===i||!El(r)||pk(r)?!1:id(r).position==="fixed"||oP(r,i)}function PZ(t,i){const r=i.get(t);if(r)return r;let o=Ly(t,[],!1).filter(p=>El(p)&&Ak(p)!=="body"),a=null;const c=id(t).position==="fixed";let d=c?Fm(t):t;for(;El(d)&&!pk(d);){const p=id(d),m=eD(d);!m&&p.position==="fixed"&&(a=null),(c?!m&&!a:!m&&p.position==="static"&&!!a&&jZ.has(a.position)||tA(d)&&!m&&oP(t,d))?o=o.filter(w=>w!==d):a=p,d=Fm(d)}return i.set(t,o),o}function RZ(t){let{element:i,boundary:r,rootBoundary:o,strategy:a}=t;const d=[...r==="clippingAncestors"?g5(i)?[]:PZ(i,this._c):[].concat(r),o],p=d[0],m=d.reduce((k,w)=>{const _=qN(i,w,a);return k.top=ib(_.top,k.top),k.right=mk(_.right,k.right),k.bottom=mk(_.bottom,k.bottom),k.left=ib(_.left,k.left),k},qN(i,p,a));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function FZ(t){const{width:i,height:r}=nP(t);return{width:i,height:r}}function zZ(t,i,r){const o=uf(i),a=ff(i),c=r==="fixed",d=hb(t,!0,c,i);let p={scrollLeft:0,scrollTop:0};const m=tf(0);function k(){m.x=oD(a)}if(o||!o&&!c)if((Ak(i)!=="body"||tA(a))&&(p=b5(i)),o){const v=hb(i,!0,c,i);m.x=v.x+i.clientLeft,m.y=v.y+i.clientTop}else a&&k();c&&!o&&a&&k();const w=a&&!o&&!c?iP(a,p):tf(0),_=d.left+p.scrollLeft-m.x-w.x,C=d.top+p.scrollTop-m.y-w.y;return{x:_,y:C,width:d.width,height:d.height}}function N3(t){return id(t).position==="static"}function VN(t,i){if(!uf(t)||id(t).position==="fixed")return null;if(i)return i(t);let r=t.offsetParent;return ff(t)===r&&(r=r.ownerDocument.body),r}function sP(t,i){const r=ou(t);if(g5(t))return r;if(!uf(t)){let a=Fm(t);for(;a&&!pk(a);){if(El(a)&&!N3(a))return a;a=Fm(a)}return r}let o=VN(t,i);for(;o&&ZQ(o)&&N3(o);)o=VN(o,i);return o&&pk(o)&&N3(o)&&!eD(o)?r:o||nZ(t)||r}const UZ=async function(t){const i=this.getOffsetParent||sP,r=this.getDimensions,o=await r(t.floating);return{reference:zZ(t.reference,await i(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function qZ(t){return id(t).direction==="rtl"}const VZ={convertOffsetParentRelativeRectToViewportRelativeRect:MZ,getDocumentElement:ff,getClippingRect:RZ,getOffsetParent:sP,getElementRects:UZ,getClientRects:NZ,getDimensions:FZ,getScale:J0,isElement:El,isRTL:qZ};function aP(t,i){return t.x===i.x&&t.y===i.y&&t.width===i.width&&t.height===i.height}function HZ(t,i){let r=null,o;const a=ff(t);function c(){var p;clearTimeout(o),(p=r)==null||p.disconnect(),r=null}function d(p,m){p===void 0&&(p=!1),m===void 0&&(m=1),c();const k=t.getBoundingClientRect(),{left:w,top:_,width:C,height:v}=k;if(p||i(),!C||!v)return;const D=RC(_),E=RC(a.clientWidth-(w+C)),O=RC(a.clientHeight-(_+v)),M=RC(w),F={rootMargin:-D+"px "+-E+"px "+-O+"px "+-M+"px",threshold:ib(0,mk(1,m))||1};let G=!0;function J(H){const z=H[0].intersectionRatio;if(z!==m){if(!G)return d();z?d(!1,z):o=setTimeout(()=>{d(!1,1e-7)},1e3)}z===1&&!aP(k,t.getBoundingClientRect())&&d(),G=!1}try{r=new IntersectionObserver(J,{...F,root:a.ownerDocument})}catch{r=new IntersectionObserver(J,F)}r.observe(t)}return d(!0),c}function $Z(t,i,r,o){o===void 0&&(o={});const{ancestorScroll:a=!0,ancestorResize:c=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:p=typeof IntersectionObserver=="function",animationFrame:m=!1}=o,k=iD(t),w=a||c?[...k?Ly(k):[],...Ly(i)]:[];w.forEach(M=>{a&&M.addEventListener("scroll",r,{passive:!0}),c&&M.addEventListener("resize",r)});const _=k&&p?HZ(k,r):null;let C=-1,v=null;d&&(v=new ResizeObserver(M=>{let[j]=M;j&&j.target===k&&v&&(v.unobserve(i),cancelAnimationFrame(C),C=requestAnimationFrame(()=>{var F;(F=v)==null||F.observe(i)})),r()}),k&&!m&&v.observe(k),v.observe(i));let D,E=m?hb(t):null;m&&O();function O(){const M=hb(t);E&&!aP(E,M)&&r(),E=M,D=requestAnimationFrame(O)}return r(),()=>{var M;w.forEach(j=>{a&&j.removeEventListener("scroll",r),c&&j.removeEventListener("resize",r)}),_==null||_(),(M=v)==null||M.disconnect(),v=null,m&&cancelAnimationFrame(D)}}const WZ=DZ,GZ=xZ,HN=CZ,YZ=(t,i,r)=>{const o=new Map,a={platform:VZ,...r},c={...a.platform,_c:o};return AZ(t,i,{...a,platform:c})};var KZ=typeof document<"u",QZ=function(){},ax=KZ?ae.useLayoutEffect:QZ;function $x(t,i){if(t===i)return!0;if(typeof t!=typeof i)return!1;if(typeof t=="function"&&t.toString()===i.toString())return!0;let r,o,a;if(t&&i&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==i.length)return!1;for(o=r;o--!==0;)if(!$x(t[o],i[o]))return!1;return!0}if(a=Object.keys(t),r=a.length,r!==Object.keys(i).length)return!1;for(o=r;o--!==0;)if(!{}.hasOwnProperty.call(i,a[o]))return!1;for(o=r;o--!==0;){const c=a[o];if(!(c==="_owner"&&t.$$typeof)&&!$x(t[c],i[c]))return!1}return!0}return t!==t&&i!==i}function lP(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function $N(t,i){const r=lP(t);return Math.round(i*r)/r}function O3(t){const i=ae.useRef(t);return ax(()=>{i.current=t}),i}function ZZ(t){t===void 0&&(t={});const{placement:i="bottom",strategy:r="absolute",middleware:o=[],platform:a,elements:{reference:c,floating:d}={},transform:p=!0,whileElementsMounted:m,open:k}=t,[w,_]=ae.useState({x:0,y:0,strategy:r,placement:i,middlewareData:{},isPositioned:!1}),[C,v]=ae.useState(o);$x(C,o)||v(o);const[D,E]=ae.useState(null),[O,M]=ae.useState(null),j=ae.useCallback(ge=>{ge!==H.current&&(H.current=ge,E(ge))},[]),F=ae.useCallback(ge=>{ge!==z.current&&(z.current=ge,M(ge))},[]),G=c||D,J=d||O,H=ae.useRef(null),z=ae.useRef(null),Z=ae.useRef(w),Y=m!=null,se=O3(m),X=O3(a),K=O3(k),U=ae.useCallback(()=>{if(!H.current||!z.current)return;const ge={placement:i,strategy:r,middleware:C};X.current&&(ge.platform=X.current),YZ(H.current,z.current,ge).then(Ie=>{const ce={...Ie,isPositioned:K.current!==!1};q.current&&!$x(Z.current,ce)&&(Z.current=ce,GV.flushSync(()=>{_(ce)}))})},[C,i,r,X,K]);ax(()=>{k===!1&&Z.current.isPositioned&&(Z.current.isPositioned=!1,_(ge=>({...ge,isPositioned:!1})))},[k]);const q=ae.useRef(!1);ax(()=>(q.current=!0,()=>{q.current=!1}),[]),ax(()=>{if(G&&(H.current=G),J&&(z.current=J),G&&J){if(se.current)return se.current(G,J,U);U()}},[G,J,U,se,Y]);const fe=ae.useMemo(()=>({reference:H,floating:z,setReference:j,setFloating:F}),[j,F]),ue=ae.useMemo(()=>({reference:G,floating:J}),[G,J]),de=ae.useMemo(()=>{const ge={position:r,left:0,top:0};if(!ue.floating)return ge;const Ie=$N(ue.floating,w.x),ce=$N(ue.floating,w.y);return p?{...ge,transform:"translate("+Ie+"px, "+ce+"px)",...lP(ue.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Ie,top:ce}},[r,p,ue.floating,w.x,w.y]);return ae.useMemo(()=>({...w,update:U,refs:fe,elements:ue,floatingStyles:de}),[w,U,fe,ue,de])}const JZ=t=>{function i(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:o,padding:a}=typeof t=="function"?t(r):t;return o&&i(o)?o.current!=null?HN({element:o.current,padding:a}).fn(r):{}:o?HN({element:o,padding:a}).fn(r):{}}}},XZ=(t,i)=>({...WZ(t),options:[t,i]}),eJ=(t,i)=>({...GZ(t),options:[t,i]}),tJ=(t,i)=>({...JZ(t),options:[t,i]}),nJ={...P4};let WN=!1,rJ=0;const GN=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+rJ++;function iJ(){const[t,i]=ae.useState(()=>WN?GN():void 0);return Hx(()=>{t==null&&i(GN())},[]),ae.useEffect(()=>{WN=!0},[]),t}const oJ=nJ.useId,cP=oJ||iJ,sJ=ae.forwardRef(function(i,r){const{context:{placement:o,elements:{floating:a},middlewareData:{arrow:c,shift:d}},width:p=14,height:m=7,tipRadius:k=0,strokeWidth:w=0,staticOffset:_,stroke:C,d:v,style:{transform:D,...E}={},...O}=i,M=cP(),[j,F]=ae.useState(!1);if(Hx(()=>{if(!a)return;id(a).direction==="rtl"&&F(!0)},[a]),!a)return null;const[G,J]=o.split("-"),H=G==="top"||G==="bottom";let z=_;(H&&d!=null&&d.x||!H&&d!=null&&d.y)&&(z=null);const Z=w*2,Y=Z/2,se=p/2*(k/-8+1),X=m/2*k/4,K=!!v,U=z&&J==="end"?"bottom":"top";let q=z&&J==="end"?"right":"left";z&&j&&(q=J==="end"?"left":"right");const fe=(c==null?void 0:c.x)!=null?z||c.x:"",ue=(c==null?void 0:c.y)!=null?z||c.y:"",de=v||"M0,0"+(" H"+p)+(" L"+(p-se)+","+(m-X))+(" Q"+p/2+","+m+" "+se+","+(m-X))+" Z",ge={top:K?"rotate(180deg)":"",left:K?"rotate(90deg)":"rotate(-90deg)",bottom:K?"":"rotate(180deg)",right:K?"rotate(-90deg)":"rotate(90deg)"}[G];return x.jsxs("svg",{...O,"aria-hidden":!0,ref:r,width:K?p:p+Z,height:p,viewBox:"0 0 "+p+" "+(m>p?m:p),style:{position:"absolute",pointerEvents:"none",[q]:fe,[U]:ue,[G]:H||K?"100%":"calc(100% - "+Z/2+"px)",transform:[ge,D].filter(Ie=>!!Ie).join(" "),...E},children:[Z>0&&x.jsx("path",{clipPath:"url(#"+M+")",fill:"none",stroke:C,strokeWidth:Z+(v?0:1),d:de}),x.jsx("path",{stroke:Z&&!v?O.fill:"none",d:de}),x.jsx("clipPath",{id:M,children:x.jsx("rect",{x:-Y,y:Y*(K?-1:1),width:p+Z,height:p})})]})});function aJ(){const t=new Map;return{emit(i,r){var o;(o=t.get(i))==null||o.forEach(a=>a(r))},on(i,r){t.has(i)||t.set(i,new Set),t.get(i).add(r)},off(i,r){var o;(o=t.get(i))==null||o.delete(r)}}}const lJ=ae.createContext(null),cJ=ae.createContext(null),uJ=()=>{var t;return((t=ae.useContext(lJ))==null?void 0:t.id)||null},dJ=()=>ae.useContext(cJ);function hJ(t){const{open:i=!1,onOpenChange:r,elements:o}=t,a=cP(),c=ae.useRef({}),[d]=ae.useState(()=>aJ()),p=uJ()!=null,[m,k]=ae.useState(o.reference),w=yZ((v,D,E)=>{c.current.openEvent=v?D:void 0,d.emit("openchange",{open:v,event:D,reason:E,nested:p}),r==null||r(v,D,E)}),_=ae.useMemo(()=>({setPositionReference:k}),[]),C=ae.useMemo(()=>({reference:m||o.reference||null,floating:o.floating||null,domReference:o.reference}),[m,o.reference,o.floating]);return ae.useMemo(()=>({dataRef:c,open:i,onOpenChange:w,elements:C,events:d,floatingId:a,refs:_}),[i,w,C,d,a,_])}function fJ(t){t===void 0&&(t={});const{nodeId:i}=t,r=hJ({...t,elements:{reference:null,floating:null,...t.elements}}),o=t.rootContext||r,a=o.elements,[c,d]=ae.useState(null),[p,m]=ae.useState(null),w=(a==null?void 0:a.domReference)||c,_=ae.useRef(null),C=dJ();Hx(()=>{w&&(_.current=w)},[w]);const v=ZZ({...t,elements:{...a,...p&&{reference:p}}}),D=ae.useCallback(F=>{const G=El(F)?{getBoundingClientRect:()=>F.getBoundingClientRect(),getClientRects:()=>F.getClientRects(),contextElement:F}:F;m(G),v.refs.setReference(G)},[v.refs]),E=ae.useCallback(F=>{(El(F)||F===null)&&(_.current=F,d(F)),(El(v.refs.reference.current)||v.refs.reference.current===null||F!==null&&!El(F))&&v.refs.setReference(F)},[v.refs]),O=ae.useMemo(()=>({...v.refs,setReference:E,setPositionReference:D,domReference:_}),[v.refs,E,D]),M=ae.useMemo(()=>({...v.elements,domReference:w}),[v.elements,w]),j=ae.useMemo(()=>({...v,...o,refs:O,elements:M,nodeId:i}),[v,O,M,i,o]);return Hx(()=>{o.dataRef.current.floatingContext=j;const F=C==null?void 0:C.nodesRef.current.find(G=>G.id===i);F&&(F.context=j)}),ae.useMemo(()=>({...v,context:j,refs:O,elements:M}),[v,O,M,j])}/*!
  react-datepicker v7.6.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var qE=function(i,r){return qE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(o[c]=a[c])},qE(i,r)};function ha(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");qE(t,i);function r(){this.constructor=t}t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}var Gr=function(){return Gr=Object.assign||function(r){for(var o,a=1,c=arguments.length;a<c;a++){o=arguments[a];for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&(r[d]=o[d])}return r},Gr.apply(this,arguments)};function Zh(t,i,r){if(r||arguments.length===2)for(var o=0,a=i.length,c;o<a;o++)(c||!(o in i))&&(c||(c=Array.prototype.slice.call(i,0,o)),c[o]=i[o]);return t.concat(c||Array.prototype.slice.call(i))}var pJ=function(t){var i=t.showTimeSelectOnly,r=i===void 0?!1:i,o=t.showTime,a=o===void 0?!1:o,c=t.className,d=t.children,p=r?"Choose Time":"Choose Date".concat(a?" and Time":"");return vt.createElement("div",{className:c,role:"dialog","aria-label":p,"aria-modal":"true"},d)},mJ=function(t,i){var r=ae.useRef(null),o=ae.useRef(t);o.current=t;var a=ae.useCallback(function(c){var d;r.current&&!r.current.contains(c.target)&&(i&&c.target instanceof HTMLElement&&c.target.classList.contains(i)||(d=o.current)===null||d===void 0||d.call(o,c))},[i]);return ae.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),r},w5=function(t){var i=t.children,r=t.onClickOutside,o=t.className,a=t.containerRef,c=t.style,d=t.ignoreClass,p=mJ(r,d);return vt.createElement("div",{className:o,style:c,ref:function(m){p.current=m,a&&(a.current=m)}},i)},an;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(an||(an={}));function uP(){var t=typeof window<"u"?window:globalThis;return t}var rA=12,gJ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function xi(t){if(t==null)return new Date;var i=typeof t=="string"?NQ(t):dn(t);return Xf(i)?i:new Date}function B3(t,i,r,o,a){var c,d=null,p=ob(r)||ob(_y()),m=!0;if(Array.isArray(i))return i.forEach(function(w){var _=T3(t,w,new Date,{locale:p,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});o&&(m=Xf(_,a)&&t===oo(_,w,r)),Xf(_,a)&&m&&(d=_)}),d;if(d=T3(t,i,new Date,{locale:p,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),o)m=Xf(d)&&t===oo(d,i,r);else if(!Xf(d)){var k=((c=i.match(gJ))!==null&&c!==void 0?c:[]).map(function(w){var _=w[0];if(_==="p"||_==="P"){var C=Fx[_];return p?C(w,p.formatLong):_}return w}).join("");t.length>0&&(d=T3(t,k.slice(0,t.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Xf(d)||(d=new Date(t))}return Xf(d)&&m?d:null}function Xf(t,i){return jx(t)&&!db(t,i??new Date("1/1/1800"))}function oo(t,i,r){if(r==="en")return jN(t,i,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var o=r?ob(r):void 0;return r&&!o&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),!o&&_y()&&ob(_y())&&(o=ob(_y())),jN(t,i,{locale:o,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Qu(t,i){var r=i.dateFormat,o=i.locale,a=Array.isArray(r)&&r.length>0?r[0]:r;return t&&oo(t,a,o)||""}function bJ(t,i,r){if(!t)return"";var o=Qu(t,r),a=i?Qu(i,r):"";return"".concat(o," - ").concat(a)}function kJ(t,i){if(!(t!=null&&t.length))return"";var r=t[0]?Qu(t[0],i):"";if(t.length===1)return r;if(t.length===2&&t[1]){var o=Qu(t[1],i);return"".concat(r,", ").concat(o)}var a=t.length-1;return"".concat(r," (+").concat(a,")")}function j3(t,i){var r=i.hour,o=r===void 0?0:r,a=i.minute,c=a===void 0?0:a,d=i.second,p=d===void 0?0:d;return ix(ox(sx(t,p),c),o)}function wJ(t){return Q4(t)}function vJ(t,i){return oo(t,"ddd",i)}function lx(t){return ub(t)}function Pm(t,i,r){var o=ob(i||_y());return lp(t,{locale:o,weekStartsOn:r})}function ap(t){return zL(t)}function ky(t){return p5(t)}function YN(t){return PE(t)}function KN(){return ub(xi())}function QN(t){return RL(t)}function yJ(t){return PY(t)}function AJ(t){return FL(t)}function Fh(t,i){return t&&i?TQ(t,i):!t&&!i}function Cl(t,i){return t&&i?DQ(t,i):!t&&!i}function Wx(t,i){return t&&i?IQ(t,i):!t&&!i}function Hr(t,i){return t&&i?jY(t,i):!t&&!i}function Jg(t,i){return t&&i?OK(t,i):!t&&!i}function wy(t,i,r){var o,a=ub(i),c=RL(r);try{o=jy(t,{start:a,end:c})}catch{o=!1}return o}function _y(){var t=uP();return t.__localeId__}function ob(t){if(typeof t=="string"){var i=uP();return i.__localeData__?i.__localeData__[t]:void 0}else return t}function _J(t,i,r){return i(oo(t,"EEEE",r))}function CJ(t,i){return oo(t,"EEEEEE",i)}function xJ(t,i){return oo(t,"EEE",i)}function sD(t,i){return oo(Jc(xi(),t),"LLLL",i)}function dP(t,i){return oo(Jc(xi(),t),"LLL",i)}function SJ(t,i){return oo(Y0(xi(),t),"QQQ",i)}function Ju(t,i){var r=i===void 0?{}:i,o=r.minDate,a=r.maxDate,c=r.excludeDates,d=r.excludeDateIntervals,p=r.includeDates,m=r.includeDateIntervals,k=r.filterDate;return iA(t,{minDate:o,maxDate:a})||c&&c.some(function(w){return w instanceof Date?Hr(t,w):Hr(t,w.date)})||d&&d.some(function(w){var _=w.start,C=w.end;return jy(t,{start:_,end:C})})||p&&!p.some(function(w){return Hr(t,w)})||m&&!m.some(function(w){var _=w.start,C=w.end;return jy(t,{start:_,end:C})})||k&&!k(xi(t))||!1}function aD(t,i){var r=i===void 0?{}:i,o=r.excludeDates,a=r.excludeDateIntervals;return a&&a.length>0?a.some(function(c){var d=c.start,p=c.end;return jy(t,{start:d,end:p})}):o&&o.some(function(c){var d;return c instanceof Date?Hr(t,c):Hr(t,(d=c.date)!==null&&d!==void 0?d:new Date)})||!1}function hP(t,i){var r=i===void 0?{}:i,o=r.minDate,a=r.maxDate,c=r.excludeDates,d=r.includeDates,p=r.filterDate;return iA(t,{minDate:o?zL(o):void 0,maxDate:a?FL(a):void 0})||(c==null?void 0:c.some(function(m){return Cl(t,m instanceof Date?m:m.date)}))||d&&!d.some(function(m){return Cl(t,m)})||p&&!p(xi(t))||!1}function FC(t,i,r,o){var a=yr(t),c=Sl(t),d=yr(i),p=Sl(i),m=yr(o);return a===d&&a===m?c<=r&&r<=p:a<d?m===a&&c<=r||m===d&&p>=r||m<d&&m>a:!1}function EJ(t,i){var r=i===void 0?{}:i,o=r.minDate,a=r.maxDate,c=r.excludeDates,d=r.includeDates;return iA(t,{minDate:o,maxDate:a})||c&&c.some(function(p){return Cl(p instanceof Date?p:p.date,t)})||d&&!d.some(function(p){return Cl(p,t)})||!1}function zC(t,i){var r=i===void 0?{}:i,o=r.minDate,a=r.maxDate,c=r.excludeDates,d=r.includeDates,p=r.filterDate;return iA(t,{minDate:o,maxDate:a})||(c==null?void 0:c.some(function(m){return Wx(t,m instanceof Date?m:m.date)}))||d&&!d.some(function(m){return Wx(t,m)})||p&&!p(xi(t))||!1}function UC(t,i,r){if(!i||!r||!jx(i)||!jx(r))return!1;var o=yr(i),a=yr(r);return o<=t&&a>=t}function cx(t,i){var r=i===void 0?{}:i,o=r.minDate,a=r.maxDate,c=r.excludeDates,d=r.includeDates,p=r.filterDate,m=new Date(t,0,1);return iA(m,{minDate:o?p5(o):void 0,maxDate:a?UL(a):void 0})||(c==null?void 0:c.some(function(k){return Fh(m,k instanceof Date?k:k.date)}))||d&&!d.some(function(k){return Fh(m,k)})||p&&!p(xi(m))||!1}function qC(t,i,r,o){var a=yr(t),c=nb(t),d=yr(i),p=nb(i),m=yr(o);return a===d&&a===m?c<=r&&r<=p:a<d?m===a&&c<=r||m===d&&p>=r||m<d&&m>a:!1}function iA(t,i){var r,o=i===void 0?{}:i,a=o.minDate,c=o.maxDate;return(r=a&&hk(t,a)<0||c&&hk(t,c)>0)!==null&&r!==void 0?r:!1}function ZN(t,i){return i.some(function(r){return Xh(r)===Xh(t)&&ef(r)===ef(t)&&sp(r)===sp(t)})}function JN(t,i){var r=i===void 0?{}:i,o=r.excludeTimes,a=r.includeTimes,c=r.filterTime;return o&&ZN(t,o)||a&&!ZN(t,a)||c&&!c(t)||!1}function XN(t,i){var r=i.minTime,o=i.maxTime;if(!r||!o)throw new Error("Both minTime and maxTime props required");var a=xi();a=ix(a,Xh(t)),a=ox(a,ef(t)),a=sx(a,sp(t));var c=xi();c=ix(c,Xh(r)),c=ox(c,ef(r)),c=sx(c,sp(r));var d=xi();d=ix(d,Xh(o)),d=ox(d,ef(o)),d=sx(d,sp(o));var p;try{p=!jy(a,{start:c,end:d})}catch{p=!1}return p}function e8(t,i){var r=i===void 0?{}:i,o=r.minDate,a=r.includeDates,c=rb(t,1);return o&&Lx(o,c)>0||a&&a.every(function(d){return Lx(d,c)>0})||!1}function t8(t,i){var r=i===void 0?{}:i,o=r.maxDate,a=r.includeDates,c=Jd(t,1);return o&&Lx(c,o)>0||a&&a.every(function(d){return Lx(c,d)>0})||!1}function DJ(t,i){var r=i===void 0?{}:i,o=r.minDate,a=r.includeDates,c=p5(t),d=JL(c);return o&&Px(o,d)>0||a&&a.every(function(p){return Px(p,d)>0})||!1}function IJ(t,i){var r=i===void 0?{}:i,o=r.maxDate,a=r.includeDates,c=UL(t),d=K4(c,1);return o&&Px(d,o)>0||a&&a.every(function(p){return Px(d,p)>0})||!1}function n8(t,i){var r=i===void 0?{}:i,o=r.minDate,a=r.includeDates,c=fk(t,1);return o&&Rx(o,c)>0||a&&a.every(function(d){return Rx(d,c)>0})||!1}function TJ(t,i){var r=i===void 0?{}:i,o=r.minDate,a=r.yearItemNumber,c=a===void 0?rA:a,d=ky(fk(t,c)),p=Im(d,c).endPeriod,m=o&&yr(o);return m&&m>p||!1}function r8(t,i){var r=i===void 0?{}:i,o=r.maxDate,a=r.includeDates,c=ip(t,1);return o&&Rx(c,o)>0||a&&a.every(function(d){return Rx(c,d)>0})||!1}function MJ(t,i){var r=i===void 0?{}:i,o=r.maxDate,a=r.yearItemNumber,c=a===void 0?rA:a,d=ip(t,c),p=Im(d,c).startPeriod,m=o&&yr(o);return m&&m<p||!1}function fP(t){var i=t.minDate,r=t.includeDates;if(r&&i){var o=r.filter(function(a){return hk(a,i)>=0});return IN(o)}else return r?IN(r):i}function pP(t){var i=t.maxDate,r=t.includeDates;if(r&&i){var o=r.filter(function(a){return hk(a,i)<=0});return DN(o)}else return r?DN(r):i}function i8(t,i){var r;t===void 0&&(t=[]),i===void 0&&(i="react-datepicker__day--highlighted");for(var o=new Map,a=0,c=t.length;a<c;a++){var d=t[a];if(op(d)){var p=oo(d,"MM.dd.yyyy"),m=o.get(p)||[];m.includes(i)||(m.push(i),o.set(p,m))}else if(typeof d=="object"){var k=Object.keys(d),w=(r=k[0])!==null&&r!==void 0?r:"",_=d[w];if(typeof w=="string"&&Array.isArray(_))for(var C=0,v=_.length;C<v;C++){var D=_[C];if(D){var p=oo(D,"MM.dd.yyyy"),m=o.get(p)||[];m.includes(w)||(m.push(w),o.set(p,m))}}}}return o}function NJ(t,i){return t.length!==i.length?!1:t.every(function(r,o){return r===i[o]})}function OJ(t,i){t===void 0&&(t=[]),i===void 0&&(i="react-datepicker__day--holidays");var r=new Map;return t.forEach(function(o){var a=o.date,c=o.holidayName;if(op(a)){var d=oo(a,"MM.dd.yyyy"),p=r.get(d)||{className:"",holidayNames:[]};if(!("className"in p&&p.className===i&&NJ(p.holidayNames,[c]))){p.className=i;var m=p.holidayNames;p.holidayNames=m?Zh(Zh([],m,!0),[c],!1):[c],r.set(d,p)}}}),r}function BJ(t,i,r,o,a){for(var c=a.length,d=[],p=0;p<c;p++){var m=t,k=a[p];k&&(m=MY(m,Xh(k)),m=LE(m,ef(k)),m=BY(m,sp(k)));var w=LE(t,(r+1)*o);Rm(m,i)&&db(m,w)&&k!=null&&d.push(k)}return d}function o8(t){return t<10?"0".concat(t):"".concat(t)}function Im(t,i){i===void 0&&(i=rA);var r=Math.ceil(yr(t)/i)*i,o=r-(i-1);return{startPeriod:o,endPeriod:r}}function jJ(t){var i=new Date(t.getFullYear(),t.getMonth(),t.getDate()),r=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+r-+i)/36e5)}function s8(t){var i=t.getSeconds(),r=t.getMilliseconds();return dn(t.getTime()-i*1e3-r)}function LJ(t,i){return s8(t).getTime()===s8(i).getTime()}function a8(t){if(!op(t))throw new Error("Invalid date");var i=new Date(t);return i.setHours(0,0,0,0),i}function l8(t,i){if(!op(t)||!op(i))throw new Error("Invalid date received");var r=a8(t),o=a8(i);return db(r,o)}function mP(t){return t.key===an.Space}var PJ=function(t){ha(i,t);function i(r){var o=t.call(this,r)||this;return o.inputRef=vt.createRef(),o.onTimeChange=function(a){var c,d;o.setState({time:a});var p=o.props.date,m=p instanceof Date&&!isNaN(+p),k=m?p:new Date;if(a!=null&&a.includes(":")){var w=a.split(":"),_=w[0],C=w[1];k.setHours(Number(_)),k.setMinutes(Number(C))}(d=(c=o.props).onChange)===null||d===void 0||d.call(c,k)},o.renderTimeInput=function(){var a=o.state.time,c=o.props,d=c.date,p=c.timeString,m=c.customTimeInput;return m?ae.cloneElement(m,{date:d,value:a,onChange:o.onTimeChange}):vt.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:o.inputRef,onClick:function(){var k;(k=o.inputRef.current)===null||k===void 0||k.focus()},required:!0,value:a,onChange:function(k){o.onTimeChange(k.target.value||p)}})},o.state={time:o.props.timeString},o}return i.getDerivedStateFromProps=function(r,o){return r.timeString!==o.time?{time:r.timeString}:null},i.prototype.render=function(){return vt.createElement("div",{className:"react-datepicker__input-time-container"},vt.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),vt.createElement("div",{className:"react-datepicker-time__input-container"},vt.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},i}(ae.Component),RJ=function(t){ha(i,t);function i(){var r=t!==null&&t.apply(this,arguments)||this;return r.dayEl=ae.createRef(),r.handleClick=function(o){!r.isDisabled()&&r.props.onClick&&r.props.onClick(o)},r.handleMouseEnter=function(o){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(o)},r.handleOnKeyDown=function(o){var a,c,d=o.key;d===an.Space&&(o.preventDefault(),o.key=an.Enter),(c=(a=r.props).handleOnKeyDown)===null||c===void 0||c.call(a,o)},r.isSameDay=function(o){return Hr(r.props.day,o)},r.isKeyboardSelected=function(){var o;if(r.props.disabledKeyboardNavigation)return!1;var a=r.props.selectsMultiple?(o=r.props.selectedDates)===null||o===void 0?void 0:o.some(function(d){return r.isSameDayOrWeek(d)}):r.isSameDayOrWeek(r.props.selected),c=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!a&&r.isSameDayOrWeek(r.props.preSelection)&&!c},r.isDisabled=function(o){return o===void 0&&(o=r.props.day),Ju(o,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(){return aD(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return Hr(r.props.day,Pm(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(o){return r.props.showWeekPicker&&Hr(o,Pm(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(o){return r.isSameDay(o)||r.isSameWeek(o)},r.getHighLightedClass=function(){var o=r.props,a=o.day,c=o.highlightDates;if(!c)return!1;var d=oo(a,"MM.dd.yyyy");return c.get(d)},r.getHolidaysClass=function(){var o,a=r.props,c=a.day,d=a.holidays;if(!d)return[void 0];var p=oo(c,"MM.dd.yyyy");return d.has(p)?[(o=d.get(p))===null||o===void 0?void 0:o.className]:[void 0]},r.isInRange=function(){var o=r.props,a=o.day,c=o.startDate,d=o.endDate;return!c||!d?!1:wy(a,c,d)},r.isInSelectingRange=function(){var o,a=r.props,c=a.day,d=a.selectsStart,p=a.selectsEnd,m=a.selectsRange,k=a.selectsDisabledDaysInRange,w=a.startDate,_=a.endDate,C=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return!(d||p||m)||!C||!k&&r.isDisabled()?!1:d&&_&&(db(C,_)||Jg(C,_))?wy(c,C,_):p&&w&&(Rm(C,w)||Jg(C,w))||m&&w&&!_&&(Rm(C,w)||Jg(C,w))?wy(c,w,C):!1},r.isSelectingRangeStart=function(){var o;if(!r.isInSelectingRange())return!1;var a=r.props,c=a.day,d=a.startDate,p=a.selectsStart,m=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return p?Hr(c,m):Hr(c,d)},r.isSelectingRangeEnd=function(){var o;if(!r.isInSelectingRange())return!1;var a=r.props,c=a.day,d=a.endDate,p=a.selectsEnd,m=a.selectsRange,k=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return p||m?Hr(c,k):Hr(c,d)},r.isRangeStart=function(){var o=r.props,a=o.day,c=o.startDate,d=o.endDate;return!c||!d?!1:Hr(c,a)},r.isRangeEnd=function(){var o=r.props,a=o.day,c=o.startDate,d=o.endDate;return!c||!d?!1:Hr(d,a)},r.isWeekend=function(){var o=IK(r.props.day);return o===0||o===6},r.isAfterMonth=function(){return r.props.month!==void 0&&(r.props.month+1)%12===Sl(r.props.day)},r.isBeforeMonth=function(){return r.props.month!==void 0&&(Sl(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(xi())},r.isSelected=function(){var o;return r.props.selectsMultiple?(o=r.props.selectedDates)===null||o===void 0?void 0:o.some(function(a){return r.isSameDayOrWeek(a)}):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(o){var a=r.props.dayClassName?r.props.dayClassName(o):void 0;return Da("react-datepicker__day",a,"react-datepicker__day--"+vJ(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var o=r.props,a=o.day,c=o.ariaLabelPrefixWhenEnabled,d=c===void 0?"Choose":c,p=o.ariaLabelPrefixWhenDisabled,m=p===void 0?"Not available":p,k=r.isDisabled()||r.isExcluded()?m:d;return"".concat(k," ").concat(oo(a,"PPPP",r.props.locale))},r.getTitle=function(){var o=r.props,a=o.day,c=o.holidays,d=c===void 0?new Map:c,p=o.excludeDates,m=oo(a,"MM.dd.yyyy"),k=[];return d.has(m)&&k.push.apply(k,d.get(m).holidayNames),r.isExcluded()&&k.push(p==null?void 0:p.filter(function(w){return w instanceof Date?Hr(w,a):Hr(w==null?void 0:w.date,a)}).map(function(w){if(!(w instanceof Date))return w==null?void 0:w.message})),k.join(", ")},r.getTabIndex=function(){var o=r.props.selected,a=r.props.preSelection,c=!(r.props.showWeekPicker&&(r.props.showWeekNumber||!r.isStartOfWeek()))&&(r.isKeyboardSelected()||r.isSameDay(o)&&Hr(a,o))?0:-1;return c},r.handleFocusDay=function(){var o;r.shouldFocusDay()&&((o=r.dayEl.current)===null||o===void 0||o.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(LN(r.props.day),r.props.day):LN(r.props.day)},r.render=function(){return vt.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"option",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&vt.createElement("span",{className:"overlay"},r.getTitle()))},r}return i.prototype.componentDidMount=function(){this.handleFocusDay()},i.prototype.componentDidUpdate=function(){this.handleFocusDay()},i.prototype.shouldFocusDay=function(){var r=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(r=!1),this.isDayActiveElement()&&(r=!0),this.isDuplicateDay()&&(r=!1)),r},i.prototype.isDayActiveElement=function(){var r,o,a;return((o=(r=this.props.containerRef)===null||r===void 0?void 0:r.current)===null||o===void 0?void 0:o.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},i.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},i}(ae.Component),FJ=function(t){ha(i,t);function i(){var r=t!==null&&t.apply(this,arguments)||this;return r.weekNumberEl=ae.createRef(),r.handleClick=function(o){r.props.onClick&&r.props.onClick(o)},r.handleOnKeyDown=function(o){var a,c,d=o.key;d===an.Space&&(o.preventDefault(),o.key=an.Enter),(c=(a=r.props).handleOnKeyDown)===null||c===void 0||c.call(a,o)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!Hr(r.props.date,r.props.selected)&&Hr(r.props.date,r.props.preSelection)},r.getTabIndex=function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||Hr(r.props.date,r.props.selected)&&Hr(r.props.preSelection,r.props.selected))?0:-1},r.handleFocusWeekNumber=function(o){var a=!1;r.getTabIndex()===0&&!(o!=null&&o.isInputFocused)&&Hr(r.props.date,r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(a=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})},r}return Object.defineProperty(i,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),i.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},i.prototype.componentDidUpdate=function(r){this.handleFocusWeekNumber(r)},i.prototype.render=function(){var r=this.props,o=r.weekNumber,a=r.isWeekDisabled,c=r.ariaLabelPrefix,d=c===void 0?i.defaultProps.ariaLabelPrefix:c,p=r.onClick,m={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!p&&!a,"react-datepicker__week-number--selected":!!p&&Hr(this.props.date,this.props.selected)};return vt.createElement("div",{ref:this.weekNumberEl,className:Da(m),"aria-label":"".concat(d," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},o)},i}(ae.Component),zJ=function(t){ha(i,t);function i(){var r=t!==null&&t.apply(this,arguments)||this;return r.isDisabled=function(o){return Ju(o,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.handleDayClick=function(o,a){r.props.onDayClick&&r.props.onDayClick(o,a)},r.handleDayMouseEnter=function(o){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(o)},r.handleWeekClick=function(o,a,c){for(var d,p,m,k=new Date(o),w=0;w<7;w++){var _=new Date(o);_.setDate(_.getDate()+w);var C=!r.isDisabled(_);if(C){k=_;break}}typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(k,a,c),r.props.showWeekPicker&&r.handleDayClick(k,c),((d=r.props.shouldCloseOnSelect)!==null&&d!==void 0?d:i.defaultProps.shouldCloseOnSelect)&&((m=(p=r.props).setOpen)===null||m===void 0||m.call(p,!1))},r.formatWeekNumber=function(o){return r.props.formatWeekNumber?r.props.formatWeekNumber(o):wJ(o)},r.isWeekDisabled=function(){for(var o=r.startOfWeek(),a=Zd(o,6),c=new Date(o);c<=a;){if(!r.isDisabled(c))return!1;c=Zd(c,1)}return!0},r.renderDays=function(){var o=r.startOfWeek(),a=[],c=r.formatWeekNumber(o);if(r.props.showWeekNumber){var d=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,o,c):void 0;a.push(vt.createElement(FJ,Gr({key:"W"},i.defaultProps,r.props,{weekNumber:c,isWeekDisabled:r.isWeekDisabled(),date:o,onClick:d})))}return a.concat([0,1,2,3,4,5,6].map(function(p){var m=Zd(o,p);return vt.createElement(RJ,Gr({},i.defaultProps,r.props,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:m.valueOf(),day:m,onClick:r.handleDayClick.bind(r,m),onMouseEnter:r.handleDayMouseEnter.bind(r,m)}))}))},r.startOfWeek=function(){return Pm(r.props.day,r.props.locale,r.props.calendarStartDay)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!Hr(r.startOfWeek(),r.props.selected)&&Hr(r.startOfWeek(),r.props.preSelection)},r}return Object.defineProperty(i,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),i.prototype.render=function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":Hr(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return vt.createElement("div",{className:Da(r)},this.renderDays())},i}(ae.Component),Vv,UJ=6,X0={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},L3=(Vv={},Vv[X0.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Vv[X0.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Vv[X0.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Vv),VC=1;function c8(t,i){return t?X0.FOUR_COLUMNS:i?X0.TWO_COLUMNS:X0.THREE_COLUMNS}var qJ=function(t){ha(i,t);function i(){var r=t!==null&&t.apply(this,arguments)||this;return r.MONTH_REFS=Zh([],Array(12),!0).map(function(){return ae.createRef()}),r.QUARTER_REFS=Zh([],Array(4),!0).map(function(){return ae.createRef()}),r.isDisabled=function(o){return Ju(o,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(o){return aD(o,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.handleDayClick=function(o,a){var c,d;(d=(c=r.props).onDayClick)===null||d===void 0||d.call(c,o,a,r.props.orderInDisplay)},r.handleDayMouseEnter=function(o){var a,c;(c=(a=r.props).onDayMouseEnter)===null||c===void 0||c.call(a,o)},r.handleMouseLeave=function(){var o,a;(a=(o=r.props).onMouseLeave)===null||a===void 0||a.call(o)},r.isRangeStartMonth=function(o){var a=r.props,c=a.day,d=a.startDate,p=a.endDate;return!d||!p?!1:Cl(Jc(c,o),d)},r.isRangeStartQuarter=function(o){var a=r.props,c=a.day,d=a.startDate,p=a.endDate;return!d||!p?!1:Wx(Y0(c,o),d)},r.isRangeEndMonth=function(o){var a=r.props,c=a.day,d=a.startDate,p=a.endDate;return!d||!p?!1:Cl(Jc(c,o),p)},r.isRangeEndQuarter=function(o){var a=r.props,c=a.day,d=a.startDate,p=a.endDate;return!d||!p?!1:Wx(Y0(c,o),p)},r.isInSelectingRangeMonth=function(o){var a,c=r.props,d=c.day,p=c.selectsStart,m=c.selectsEnd,k=c.selectsRange,w=c.startDate,_=c.endDate,C=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return!(p||m||k)||!C?!1:p&&_?FC(C,_,o,d):m&&w||k&&w&&!_?FC(w,C,o,d):!1},r.isSelectingMonthRangeStart=function(o){var a;if(!r.isInSelectingRangeMonth(o))return!1;var c=r.props,d=c.day,p=c.startDate,m=c.selectsStart,k=Jc(d,o),w=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return m?Cl(k,w):Cl(k,p)},r.isSelectingMonthRangeEnd=function(o){var a;if(!r.isInSelectingRangeMonth(o))return!1;var c=r.props,d=c.day,p=c.endDate,m=c.selectsEnd,k=c.selectsRange,w=Jc(d,o),_=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return m||k?Cl(w,_):Cl(w,p)},r.isInSelectingRangeQuarter=function(o){var a,c=r.props,d=c.day,p=c.selectsStart,m=c.selectsEnd,k=c.selectsRange,w=c.startDate,_=c.endDate,C=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return!(p||m||k)||!C?!1:p&&_?qC(C,_,o,d):m&&w||k&&w&&!_?qC(w,C,o,d):!1},r.isWeekInMonth=function(o){var a=r.props.day,c=Zd(o,6);return Cl(o,a)||Cl(c,a)},r.isCurrentMonth=function(o,a){return yr(o)===yr(xi())&&a===Sl(xi())},r.isCurrentQuarter=function(o,a){return yr(o)===yr(xi())&&a===nb(xi())},r.isSelectedMonth=function(o,a,c){return Sl(c)===a&&yr(o)===yr(c)},r.isSelectMonthInList=function(o,a,c){return c.some(function(d){return r.isSelectedMonth(o,a,d)})},r.isSelectedQuarter=function(o,a,c){return nb(o)===a&&yr(o)===yr(c)},r.renderWeeks=function(){for(var o=[],a=r.props.fixedHeight,c=0,d=!1,p=Pm(ap(r.props.day),r.props.locale,r.props.calendarStartDay),m=function(D){return r.props.showWeekPicker?Pm(D,r.props.locale,r.props.calendarStartDay):r.props.preSelection},k=function(D){return r.props.showWeekPicker?Pm(D,r.props.locale,r.props.calendarStartDay):r.props.selected},w=r.props.selected?k(r.props.selected):void 0,_=r.props.preSelection?m(r.props.preSelection):void 0;o.push(vt.createElement(zJ,Gr({},r.props,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,key:c,day:p,month:Sl(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,selected:w,preSelection:_,showWeekNumber:r.props.showWeekNumbers}))),!d;){c++,p=Bx(p,1);var C=a&&c>=UJ,v=!a&&!r.isWeekInMonth(p);if(C||v)if(r.props.peekNextMonth)d=!0;else break}return o},r.onMonthClick=function(o,a){var c=r.isMonthDisabledForLabelDate(a),d=c.isDisabled,p=c.labelDate;d||r.handleDayClick(ap(p),o)},r.onMonthMouseEnter=function(o){var a=r.isMonthDisabledForLabelDate(o),c=a.isDisabled,d=a.labelDate;c||r.handleDayMouseEnter(ap(d))},r.handleMonthNavigation=function(o,a){var c,d,p,m;(d=(c=r.props).setPreSelection)===null||d===void 0||d.call(c,a),(m=(p=r.MONTH_REFS[o])===null||p===void 0?void 0:p.current)===null||m===void 0||m.focus()},r.handleKeyboardNavigation=function(o,a,c){var d,p=r.props,m=p.selected,k=p.preSelection,w=p.setPreSelection,_=p.minDate,C=p.maxDate,v=p.showFourColumnMonthYearPicker,D=p.showTwoColumnMonthYearPicker;if(k){var E=c8(v,D),O=r.getVerticalOffset(E),M=(d=L3[E])===null||d===void 0?void 0:d.grid,j=function(z,Z,Y){var se,X,K=Z,U=Y;switch(z){case an.ArrowRight:K=Jd(Z,VC),U=Y===11?0:Y+VC;break;case an.ArrowLeft:K=rb(Z,VC),U=Y===0?11:Y-VC;break;case an.ArrowUp:K=rb(Z,O),U=!((se=M==null?void 0:M[0])===null||se===void 0)&&se.includes(Y)?Y+12-O:Y-O;break;case an.ArrowDown:K=Jd(Z,O),U=!((X=M==null?void 0:M[M.length-1])===null||X===void 0)&&X.includes(Y)?Y-12+O:Y+O;break}return{newCalculatedDate:K,newCalculatedMonth:U}},F=function(z,Z,Y){for(var se=40,X=z,K=!1,U=0,q=j(X,Z,Y),fe=q.newCalculatedDate,ue=q.newCalculatedMonth;!K;){if(U>=se){fe=Z,ue=Y;break}if(_&&fe<_){X=an.ArrowRight;var de=j(X,fe,ue);fe=de.newCalculatedDate,ue=de.newCalculatedMonth}if(C&&fe>C){X=an.ArrowLeft;var de=j(X,fe,ue);fe=de.newCalculatedDate,ue=de.newCalculatedMonth}if(EJ(fe,r.props)){var de=j(X,fe,ue);fe=de.newCalculatedDate,ue=de.newCalculatedMonth}else K=!0;U++}return{newCalculatedDate:fe,newCalculatedMonth:ue}};if(a===an.Enter){r.isMonthDisabled(c)||(r.onMonthClick(o,c),w==null||w(m));return}var G=F(a,k,c),J=G.newCalculatedDate,H=G.newCalculatedMonth;switch(a){case an.ArrowRight:case an.ArrowLeft:case an.ArrowUp:case an.ArrowDown:r.handleMonthNavigation(H,J);break}}},r.getVerticalOffset=function(o){var a,c;return(c=(a=L3[o])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&c!==void 0?c:0},r.onMonthKeyDown=function(o,a){var c=r.props,d=c.disabledKeyboardNavigation,p=c.handleOnMonthKeyDown,m=o.key;m!==an.Tab&&o.preventDefault(),d||r.handleKeyboardNavigation(o,m,a),p&&p(o)},r.onQuarterClick=function(o,a){var c=Y0(r.props.day,a);zC(c,r.props)||r.handleDayClick(YN(c),o)},r.onQuarterMouseEnter=function(o){var a=Y0(r.props.day,o);zC(a,r.props)||r.handleDayMouseEnter(YN(a))},r.handleQuarterNavigation=function(o,a){var c,d,p,m;r.isDisabled(a)||r.isExcluded(a)||((d=(c=r.props).setPreSelection)===null||d===void 0||d.call(c,a),(m=(p=r.QUARTER_REFS[o-1])===null||p===void 0?void 0:p.current)===null||m===void 0||m.focus())},r.onQuarterKeyDown=function(o,a){var c,d,p=o.key;if(!r.props.disabledKeyboardNavigation)switch(p){case an.Enter:r.onQuarterClick(o,a),(d=(c=r.props).setPreSelection)===null||d===void 0||d.call(c,r.props.selected);break;case an.ArrowRight:if(!r.props.preSelection)break;r.handleQuarterNavigation(a===4?1:a+1,K4(r.props.preSelection,1));break;case an.ArrowLeft:if(!r.props.preSelection)break;r.handleQuarterNavigation(a===1?4:a-1,JL(r.props.preSelection));break}},r.isMonthDisabledForLabelDate=function(o){var a,c=r.props,d=c.day,p=c.minDate,m=c.maxDate,k=c.excludeDates,w=c.includeDates,_=Jc(d,o);return{isDisabled:(a=(p||m||k||w)&&hP(_,r.props))!==null&&a!==void 0?a:!1,labelDate:_}},r.isMonthDisabled=function(o){var a=r.isMonthDisabledForLabelDate(o).isDisabled;return a},r.getMonthClassNames=function(o){var a=r.props,c=a.day,d=a.startDate,p=a.endDate,m=a.preSelection,k=a.monthClassName,w=k?k(Jc(c,o)):void 0,_=r.getSelection();return Da("react-datepicker__month-text","react-datepicker__month-".concat(o),w,{"react-datepicker__month-text--disabled":r.isMonthDisabled(o),"react-datepicker__month-text--selected":_?r.isSelectMonthInList(c,o,_):void 0,"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&m&&r.isSelectedMonth(c,o,m)&&!r.isMonthDisabled(o),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(o),"react-datepicker__month-text--in-range":d&&p?FC(d,p,o,c):void 0,"react-datepicker__month-text--range-start":r.isRangeStartMonth(o),"react-datepicker__month-text--range-end":r.isRangeEndMonth(o),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(o),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(o),"react-datepicker__month-text--today":r.isCurrentMonth(c,o)})},r.getTabIndex=function(o){if(r.props.preSelection==null)return"-1";var a=Sl(r.props.preSelection),c=r.isMonthDisabledForLabelDate(a).isDisabled,d=o===a&&!(c||r.props.disabledKeyboardNavigation)?"0":"-1";return d},r.getQuarterTabIndex=function(o){if(r.props.preSelection==null)return"-1";var a=nb(r.props.preSelection),c=zC(r.props.day,r.props),d=o===a&&!(c||r.props.disabledKeyboardNavigation)?"0":"-1";return d},r.getAriaLabel=function(o){var a=r.props,c=a.chooseDayAriaLabelPrefix,d=c===void 0?"Choose":c,p=a.disabledDayAriaLabelPrefix,m=p===void 0?"Not available":p,k=a.day,w=a.locale,_=Jc(k,o),C=r.isDisabled(_)||r.isExcluded(_)?m:d;return"".concat(C," ").concat(oo(_,"MMMM yyyy",w))},r.getQuarterClassNames=function(o){var a=r.props,c=a.day,d=a.startDate,p=a.endDate,m=a.selected,k=a.minDate,w=a.maxDate,_=a.excludeDates,C=a.includeDates,v=a.filterDate,D=a.preSelection,E=a.disabledKeyboardNavigation,O=(k||w||_||C||v)&&zC(Y0(c,o),r.props);return Da("react-datepicker__quarter-text","react-datepicker__quarter-".concat(o),{"react-datepicker__quarter-text--disabled":O,"react-datepicker__quarter-text--selected":m?r.isSelectedQuarter(c,o,m):void 0,"react-datepicker__quarter-text--keyboard-selected":!E&&D&&r.isSelectedQuarter(c,o,D)&&!O,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(o),"react-datepicker__quarter-text--in-range":d&&p?qC(d,p,o,c):void 0,"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(o),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(o)})},r.getMonthContent=function(o){var a=r.props,c=a.showFullMonthYearPicker,d=a.renderMonthContent,p=a.locale,m=a.day,k=dP(o,p),w=sD(o,p);return d?d(o,k,w,m):c?w:k},r.getQuarterContent=function(o){var a,c=r.props,d=c.renderQuarterContent,p=c.locale,m=SJ(o,p);return(a=d==null?void 0:d(o,m))!==null&&a!==void 0?a:m},r.renderMonths=function(){var o,a=r.props,c=a.showTwoColumnMonthYearPicker,d=a.showFourColumnMonthYearPicker,p=a.day,m=a.selected,k=(o=L3[c8(d,c)])===null||o===void 0?void 0:o.grid;return k==null?void 0:k.map(function(w,_){return vt.createElement("div",{className:"react-datepicker__month-wrapper",key:_},w.map(function(C,v){return vt.createElement("div",{ref:r.MONTH_REFS[C],key:v,onClick:function(D){r.onMonthClick(D,C)},onKeyDown:function(D){mP(D)&&(D.preventDefault(),D.key=an.Enter),r.onMonthKeyDown(D,C)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(C)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(C)}:void 0,tabIndex:Number(r.getTabIndex(C)),className:r.getMonthClassNames(C),"aria-disabled":r.isMonthDisabled(C),role:"option","aria-label":r.getAriaLabel(C),"aria-current":r.isCurrentMonth(p,C)?"date":void 0,"aria-selected":m?r.isSelectedMonth(p,C,m):void 0},r.getMonthContent(C))}))})},r.renderQuarters=function(){var o=r.props,a=o.day,c=o.selected,d=[1,2,3,4];return vt.createElement("div",{className:"react-datepicker__quarter-wrapper"},d.map(function(p,m){return vt.createElement("div",{key:m,ref:r.QUARTER_REFS[m],role:"option",onClick:function(k){r.onQuarterClick(k,p)},onKeyDown:function(k){r.onQuarterKeyDown(k,p)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(p)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(p)}:void 0,className:r.getQuarterClassNames(p),"aria-selected":c?r.isSelectedQuarter(a,p,c):void 0,tabIndex:Number(r.getQuarterTabIndex(p)),"aria-current":r.isCurrentQuarter(a,p)?"date":void 0},r.getQuarterContent(p))}))},r.getClassNames=function(){var o=r.props,a=o.selectingDate,c=o.selectsStart,d=o.selectsEnd,p=o.showMonthYearPicker,m=o.showQuarterYearPicker,k=o.showWeekPicker;return Da("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(c||d)},{"react-datepicker__monthPicker":p},{"react-datepicker__quarterPicker":m},{"react-datepicker__weekPicker":k})},r}return i.prototype.getSelection=function(){var r=this.props,o=r.selected,a=r.selectedDates,c=r.selectsMultiple;if(c)return a;if(o)return[o]},i.prototype.render=function(){var r=this.props,o=r.showMonthYearPicker,a=r.showQuarterYearPicker,c=r.day,d=r.ariaLabelPrefix,p=d===void 0?"Month ":d,m=p?p.trim()+" ":"";return vt.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(m).concat(oo(c,"MMMM, yyyy",this.props.locale)),role:"listbox"},o?this.renderMonths():a?this.renderQuarters():this.renderWeeks())},i}(ae.Component),VJ=function(t){ha(i,t);function i(){var r=t!==null&&t.apply(this,arguments)||this;return r.isSelectedMonth=function(o){return r.props.month===o},r.renderOptions=function(){return r.props.monthNames.map(function(o,a){return vt.createElement("div",{className:r.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:o,onClick:r.onChange.bind(r,a),"aria-selected":r.isSelectedMonth(a)?"true":void 0},r.isSelectedMonth(a)?vt.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",o)})},r.onChange=function(o){return r.props.onChange(o)},r.handleClickOutside=function(){return r.props.onCancel()},r}return i.prototype.render=function(){return vt.createElement(w5,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},i}(ae.Component),HJ=function(t){ha(i,t);function i(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(o){return o.map(function(a,c){return vt.createElement("option",{key:a,value:c},a)})},r.renderSelectMode=function(o){return vt.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(a){return r.onChange(parseInt(a.target.value))}},r.renderSelectOptions(o))},r.renderReadView=function(o,a){return vt.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},vt.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),vt.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[r.props.month]))},r.renderDropdown=function(o){return vt.createElement(VJ,Gr({key:"dropdown"},r.props,{monthNames:o,onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(o){var a=r.state.dropdownVisible,c=[r.renderReadView(!a,o)];return a&&c.unshift(r.renderDropdown(o)),c},r.onChange=function(o){r.toggleDropdown(),o!==r.props.month&&r.props.onChange(o)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return i.prototype.render=function(){var r=this,o=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(c){return dP(c,r.props.locale)}:function(c){return sD(c,r.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(o);break;case"select":a=this.renderSelectMode(o);break}return vt.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},i}(ae.Component);function $J(t,i){for(var r=[],o=ap(t),a=ap(i);!Rm(o,a);)r.push(xi(o)),o=Jd(o,1);return r}var WJ=function(t){ha(i,t);function i(r){var o=t.call(this,r)||this;return o.renderOptions=function(){return o.state.monthYearsList.map(function(a){var c=FE(a),d=Fh(o.props.date,a)&&Cl(o.props.date,a);return vt.createElement("div",{className:d?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:c,onClick:o.onChange.bind(o,c),"aria-selected":d?"true":void 0},d?vt.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",oo(a,o.props.dateFormat,o.props.locale))})},o.onChange=function(a){return o.props.onChange(a)},o.handleClickOutside=function(){o.props.onCancel()},o.state={monthYearsList:$J(o.props.minDate,o.props.maxDate)},o}return i.prototype.render=function(){var r=Da({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return vt.createElement(w5,{className:r,onClickOutside:this.handleClickOutside},this.renderOptions())},i}(ae.Component),GJ=function(t){ha(i,t);function i(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var o=ap(r.props.minDate),a=ap(r.props.maxDate),c=[];!Rm(o,a);){var d=FE(o);c.push(vt.createElement("option",{key:d,value:d},oo(o,r.props.dateFormat,r.props.locale))),o=Jd(o,1)}return c},r.onSelectChange=function(o){r.onChange(parseInt(o.target.value))},r.renderSelectMode=function(){return vt.createElement("select",{value:FE(ap(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(o){var a=oo(r.props.date,r.props.dateFormat,r.props.locale);return vt.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:r.toggleDropdown},vt.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),vt.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},r.renderDropdown=function(){return vt.createElement(WJ,Gr({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var o=r.state.dropdownVisible,a=[r.renderReadView(!o)];return o&&a.unshift(r.renderDropdown()),a},r.onChange=function(o){r.toggleDropdown();var a=xi(o);Fh(r.props.date,a)&&Cl(r.props.date,a)||r.props.onChange(a)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return i.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return vt.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)},i}(ae.Component),YJ=function(t){ha(i,t);function i(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={height:null},r.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var o,a,c;r.list&&(r.list.scrollTop=(c=r.centerLi&&i.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-((a=(o=r.header)===null||o===void 0?void 0:o.clientHeight)!==null&&a!==void 0?a:0):r.list.clientHeight,r.centerLi))!==null&&c!==void 0?c:0)})},r.handleClick=function(o){var a,c;(r.props.minTime||r.props.maxTime)&&XN(o,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&JN(o,r.props)||(c=(a=r.props).onChange)===null||c===void 0||c.call(a,o)},r.isSelectedTime=function(o){return r.props.selected&&LJ(r.props.selected,o)},r.isDisabledTime=function(o){return(r.props.minTime||r.props.maxTime)&&XN(o,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&JN(o,r.props)},r.liClasses=function(o){var a,c=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(o):void 0];return r.isSelectedTime(o)&&c.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(o)&&c.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(Xh(o)*3600+ef(o)*60+sp(o))%(((a=r.props.intervals)!==null&&a!==void 0?a:i.defaultProps.intervals)*60)!==0&&c.push("react-datepicker__time-list-item--injected"),c.join(" ")},r.handleOnKeyDown=function(o,a){var c,d;o.key===an.Space&&(o.preventDefault(),o.key=an.Enter),(o.key===an.ArrowUp||o.key===an.ArrowLeft)&&o.target instanceof HTMLElement&&o.target.previousSibling&&(o.preventDefault(),o.target.previousSibling instanceof HTMLElement&&o.target.previousSibling.focus()),(o.key===an.ArrowDown||o.key===an.ArrowRight)&&o.target instanceof HTMLElement&&o.target.nextSibling&&(o.preventDefault(),o.target.nextSibling instanceof HTMLElement&&o.target.nextSibling.focus()),o.key===an.Enter&&r.handleClick(a),(d=(c=r.props).handleOnKeyDown)===null||d===void 0||d.call(c,o)},r.renderTimes=function(){for(var o,a=[],c=typeof r.props.format=="string"?r.props.format:"p",d=(o=r.props.intervals)!==null&&o!==void 0?o:i.defaultProps.intervals,p=r.props.selected||r.props.openToDate||xi(),m=lx(p),k=r.props.injectTimes&&r.props.injectTimes.sort(function(O,M){return O.getTime()-M.getTime()}),w=60*jJ(p),_=w/d,C=0;C<_;C++){var v=LE(m,C*d);if(a.push(v),k){var D=BJ(m,v,C,d,k);a=a.concat(D)}}var E=a.reduce(function(O,M){return M.getTime()<=p.getTime()?M:O},a[0]);return a.map(function(O){return vt.createElement("li",{key:O.valueOf(),onClick:r.handleClick.bind(r,O),className:r.liClasses(O),ref:function(M){O===E&&(r.centerLi=M)},onKeyDown:function(M){r.handleOnKeyDown(M,O)},tabIndex:O===E?0:-1,role:"option","aria-selected":r.isSelectedTime(O)?"true":void 0,"aria-disabled":r.isDisabledTime(O)?"true":void 0},oo(O,c,r.props.locale))})},r.renderTimeCaption=function(){return r.props.showTimeCaption===!1?vt.createElement(vt.Fragment,null):vt.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(r.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(o){r.header=o}},vt.createElement("div",{className:"react-datepicker-time__header"},r.props.timeCaption))},r}return Object.defineProperty(i,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),i.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},i.prototype.render=function(){var r=this,o,a=this.state.height;return vt.createElement("div",{className:"react-datepicker__time-container ".concat(((o=this.props.todayButton)!==null&&o!==void 0?o:i.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),vt.createElement("div",{className:"react-datepicker__time"},vt.createElement("div",{className:"react-datepicker__time-box"},vt.createElement("ul",{className:"react-datepicker__time-list",ref:function(c){r.list=c},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},i.calcCenterPosition=function(r,o){return o.offsetTop-(r/2-o.clientHeight/2)},i}(ae.Component),u8=3,KJ=function(t){ha(i,t);function i(r){var o=t.call(this,r)||this;return o.YEAR_REFS=Zh([],Array(o.props.yearItemNumber),!0).map(function(){return ae.createRef()}),o.isDisabled=function(a){return Ju(a,{minDate:o.props.minDate,maxDate:o.props.maxDate,excludeDates:o.props.excludeDates,includeDates:o.props.includeDates,filterDate:o.props.filterDate})},o.isExcluded=function(a){return aD(a,{excludeDates:o.props.excludeDates})},o.selectingDate=function(){var a;return(a=o.props.selectingDate)!==null&&a!==void 0?a:o.props.preSelection},o.updateFocusOnPaginate=function(a){var c=function(){var d,p;(p=(d=o.YEAR_REFS[a])===null||d===void 0?void 0:d.current)===null||p===void 0||p.focus()};window.requestAnimationFrame(c)},o.handleYearClick=function(a,c){o.props.onDayClick&&o.props.onDayClick(a,c)},o.handleYearNavigation=function(a,c){var d,p,m,k,w=o.props,_=w.date,C=w.yearItemNumber;if(!(_===void 0||C===void 0)){var v=Im(_,C).startPeriod;o.isDisabled(c)||o.isExcluded(c)||((p=(d=o.props).setPreSelection)===null||p===void 0||p.call(d,c),a-v<0?o.updateFocusOnPaginate(C-(v-a)):a-v>=C?o.updateFocusOnPaginate(Math.abs(C-(a-v))):(k=(m=o.YEAR_REFS[a-v])===null||m===void 0?void 0:m.current)===null||k===void 0||k.focus())}},o.isSameDay=function(a,c){return Hr(a,c)},o.isCurrentYear=function(a){return a===yr(xi())},o.isRangeStart=function(a){return o.props.startDate&&o.props.endDate&&Fh(Rh(xi(),a),o.props.startDate)},o.isRangeEnd=function(a){return o.props.startDate&&o.props.endDate&&Fh(Rh(xi(),a),o.props.endDate)},o.isInRange=function(a){return UC(a,o.props.startDate,o.props.endDate)},o.isInSelectingRange=function(a){var c=o.props,d=c.selectsStart,p=c.selectsEnd,m=c.selectsRange,k=c.startDate,w=c.endDate;return!(d||p||m)||!o.selectingDate()?!1:d&&w?UC(a,o.selectingDate(),w):p&&k||m&&k&&!w?UC(a,k,o.selectingDate()):!1},o.isSelectingRangeStart=function(a){var c;if(!o.isInSelectingRange(a))return!1;var d=o.props,p=d.startDate,m=d.selectsStart,k=Rh(xi(),a);return m?Fh(k,(c=o.selectingDate())!==null&&c!==void 0?c:null):Fh(k,p??null)},o.isSelectingRangeEnd=function(a){var c;if(!o.isInSelectingRange(a))return!1;var d=o.props,p=d.endDate,m=d.selectsEnd,k=d.selectsRange,w=Rh(xi(),a);return m||k?Fh(w,(c=o.selectingDate())!==null&&c!==void 0?c:null):Fh(w,p??null)},o.isKeyboardSelected=function(a){if(!(o.props.date===void 0||o.props.selected==null||o.props.preSelection==null)){var c=o.props,d=c.minDate,p=c.maxDate,m=c.excludeDates,k=c.includeDates,w=c.filterDate,_=ky(Rh(o.props.date,a)),C=(d||p||m||k||w)&&cx(a,o.props);return!o.props.disabledKeyboardNavigation&&!o.props.inline&&!Hr(_,ky(o.props.selected))&&Hr(_,ky(o.props.preSelection))&&!C}},o.onYearClick=function(a,c){var d=o.props.date;d!==void 0&&o.handleYearClick(ky(Rh(d,c)),a)},o.onYearKeyDown=function(a,c){var d,p,m=a.key,k=o.props,w=k.date,_=k.yearItemNumber,C=k.handleOnKeyDown;if(m!==an.Tab&&a.preventDefault(),!o.props.disabledKeyboardNavigation)switch(m){case an.Enter:if(o.props.selected==null)break;o.onYearClick(a,c),(p=(d=o.props).setPreSelection)===null||p===void 0||p.call(d,o.props.selected);break;case an.ArrowRight:if(o.props.preSelection==null)break;o.handleYearNavigation(c+1,ip(o.props.preSelection,1));break;case an.ArrowLeft:if(o.props.preSelection==null)break;o.handleYearNavigation(c-1,fk(o.props.preSelection,1));break;case an.ArrowUp:{if(w===void 0||_===void 0||o.props.preSelection==null)break;var v=Im(w,_).startPeriod,D=u8,E=c-D;if(E<v){var O=_%D;c>=v&&c<v+O?D=O:D+=O,E=c-D}o.handleYearNavigation(E,fk(o.props.preSelection,D));break}case an.ArrowDown:{if(w===void 0||_===void 0||o.props.preSelection==null)break;var M=Im(w,_).endPeriod,D=u8,E=c+D;if(E>M){var O=_%D;c<=M&&c>M-O?D=O:D+=O,E=c+D}o.handleYearNavigation(E,ip(o.props.preSelection,D));break}}C&&C(a)},o.getYearClassNames=function(a){var c=o.props,d=c.date,p=c.minDate,m=c.maxDate,k=c.selected,w=c.excludeDates,_=c.includeDates,C=c.filterDate,v=c.yearClassName;return Da("react-datepicker__year-text","react-datepicker__year-".concat(a),d?v==null?void 0:v(Rh(d,a)):void 0,{"react-datepicker__year-text--selected":k?a===yr(k):void 0,"react-datepicker__year-text--disabled":(p||m||w||_||C)&&cx(a,o.props),"react-datepicker__year-text--keyboard-selected":o.isKeyboardSelected(a),"react-datepicker__year-text--range-start":o.isRangeStart(a),"react-datepicker__year-text--range-end":o.isRangeEnd(a),"react-datepicker__year-text--in-range":o.isInRange(a),"react-datepicker__year-text--in-selecting-range":o.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":o.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":o.isSelectingRangeEnd(a),"react-datepicker__year-text--today":o.isCurrentYear(a)})},o.getYearTabIndex=function(a){if(o.props.disabledKeyboardNavigation||o.props.preSelection==null)return"-1";var c=yr(o.props.preSelection),d=cx(a,o.props);return a===c&&!d?"0":"-1"},o.getYearContent=function(a){return o.props.renderYearContent?o.props.renderYearContent(a):a},o}return i.prototype.render=function(){var r=this,o=[],a=this.props,c=a.date,d=a.yearItemNumber,p=a.onYearMouseEnter,m=a.onYearMouseLeave;if(c===void 0)return null;for(var k=Im(c,d),w=k.startPeriod,_=k.endPeriod,C=function(E){o.push(vt.createElement("div",{ref:v.YEAR_REFS[E-w],onClick:function(O){r.onYearClick(O,E)},onKeyDown:function(O){mP(O)&&(O.preventDefault(),O.key=an.Enter),r.onYearKeyDown(O,E)},tabIndex:Number(v.getYearTabIndex(E)),className:v.getYearClassNames(E),onMouseEnter:v.props.usePointerEvent?void 0:function(O){return p(O,E)},onPointerEnter:v.props.usePointerEvent?function(O){return p(O,E)}:void 0,onMouseLeave:v.props.usePointerEvent?void 0:function(O){return m(O,E)},onPointerLeave:v.props.usePointerEvent?function(O){return m(O,E)}:void 0,key:E,"aria-current":v.isCurrentYear(E)?"date":void 0},v.getYearContent(E)))},v=this,D=w;D<=_;D++)C(D);return vt.createElement("div",{className:"react-datepicker__year"},vt.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},o))},i}(ae.Component);function QJ(t,i,r,o){for(var a=[],c=0;c<2*i+1;c++){var d=t+i-c,p=!0;r&&(p=yr(r)<=d),o&&p&&(p=yr(o)>=d),p&&a.push(d)}return a}var ZJ=function(t){ha(i,t);function i(r){var o=t.call(this,r)||this;o.renderOptions=function(){var p=o.props.year,m=o.state.yearsList.map(function(_){return vt.createElement("div",{className:p===_?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:_,onClick:o.onChange.bind(o,_),"aria-selected":p===_?"true":void 0},p===_?vt.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",_)}),k=o.props.minDate?yr(o.props.minDate):null,w=o.props.maxDate?yr(o.props.maxDate):null;return(!w||!o.state.yearsList.find(function(_){return _===w}))&&m.unshift(vt.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:o.incrementYears},vt.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!k||!o.state.yearsList.find(function(_){return _===k}))&&m.push(vt.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:o.decrementYears},vt.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),m},o.onChange=function(p){o.props.onChange(p)},o.handleClickOutside=function(){o.props.onCancel()},o.shiftYears=function(p){var m=o.state.yearsList.map(function(k){return k+p});o.setState({yearsList:m})},o.incrementYears=function(){return o.shiftYears(1)},o.decrementYears=function(){return o.shiftYears(-1)};var a=r.yearDropdownItemNumber,c=r.scrollableYearDropdown,d=a||(c?10:5);return o.state={yearsList:QJ(o.props.year,d,o.props.minDate,o.props.maxDate)},o.dropdownRef=ae.createRef(),o}return i.prototype.componentDidMount=function(){var r=this.dropdownRef.current;if(r){var o=r.children?Array.from(r.children):null,a=o?o.find(function(c){return c.ariaSelected}):null;r.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}},i.prototype.render=function(){var r=Da({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return vt.createElement(w5,{className:r,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},i}(ae.Component),JJ=function(t){ha(i,t);function i(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var o=r.props.minDate?yr(r.props.minDate):1900,a=r.props.maxDate?yr(r.props.maxDate):2100,c=[],d=o;d<=a;d++)c.push(vt.createElement("option",{key:d,value:d},d));return c},r.onSelectChange=function(o){r.onChange(parseInt(o.target.value))},r.renderSelectMode=function(){return vt.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(o){return vt.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(a){return r.toggleDropdown(a)}},vt.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),vt.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return vt.createElement(ZJ,Gr({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var o=r.state.dropdownVisible,a=[r.renderReadView(!o)];return o&&a.unshift(r.renderDropdown()),a},r.onChange=function(o){r.toggleDropdown(),o!==r.props.year&&r.props.onChange(o)},r.toggleDropdown=function(o){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,o)})},r.handleYearChange=function(o,a){var c;(c=r.onSelect)===null||c===void 0||c.call(r,o,a),r.setOpen()},r.onSelect=function(o,a){var c,d;(d=(c=r.props).onSelect)===null||d===void 0||d.call(c,o,a)},r.setOpen=function(){var o,a;(a=(o=r.props).setOpen)===null||a===void 0||a.call(o,!0)},r}return i.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return vt.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)},i}(ae.Component),XJ=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],eX=function(t){var i=(t.className||"").split(/\s+/);return XJ.some(function(r){return i.indexOf(r)>=0})},tX=function(t){ha(i,t);function i(r){var o=t.call(this,r)||this;return o.monthContainer=void 0,o.handleClickOutside=function(a){o.props.onClickOutside(a)},o.setClickOutsideRef=function(){return o.containerRef.current},o.handleDropdownFocus=function(a){var c,d;eX(a.target)&&((d=(c=o.props).onDropdownFocus)===null||d===void 0||d.call(c,a))},o.getDateInView=function(){var a=o.props,c=a.preSelection,d=a.selected,p=a.openToDate,m=fP(o.props),k=pP(o.props),w=xi(),_=p||d||c;return _||(m&&db(w,m)?m:k&&Rm(w,k)?k:w)},o.increaseMonth=function(){o.setState(function(a){var c=a.date;return{date:Jd(c,1)}},function(){return o.handleMonthChange(o.state.date)})},o.decreaseMonth=function(){o.setState(function(a){var c=a.date;return{date:rb(c,1)}},function(){return o.handleMonthChange(o.state.date)})},o.handleDayClick=function(a,c,d){o.props.onSelect(a,c,d),o.props.setPreSelection&&o.props.setPreSelection(a)},o.handleDayMouseEnter=function(a){o.setState({selectingDate:a}),o.props.onDayMouseEnter&&o.props.onDayMouseEnter(a)},o.handleMonthMouseLeave=function(){o.setState({selectingDate:void 0}),o.props.onMonthMouseLeave&&o.props.onMonthMouseLeave()},o.handleYearMouseEnter=function(a,c){o.setState({selectingDate:Rh(xi(),c)}),o.props.onYearMouseEnter&&o.props.onYearMouseEnter(a,c)},o.handleYearMouseLeave=function(a,c){o.props.onYearMouseLeave&&o.props.onYearMouseLeave(a,c)},o.handleYearChange=function(a){var c,d,p,m;(d=(c=o.props).onYearChange)===null||d===void 0||d.call(c,a),o.setState({isRenderAriaLiveMessage:!0}),o.props.adjustDateOnChange&&(o.props.onSelect(a),(m=(p=o.props).setOpen)===null||m===void 0||m.call(p,!0)),o.props.setPreSelection&&o.props.setPreSelection(a)},o.getEnabledPreSelectionDateForMonth=function(a){if(!Ju(a,o.props))return a;for(var c=ap(a),d=AJ(a),p=LY(d,c),m=null,k=0;k<=p;k++){var w=Zd(c,k);if(!Ju(w,o.props)){m=w;break}}return m},o.handleMonthChange=function(a){var c,d,p,m=(c=o.getEnabledPreSelectionDateForMonth(a))!==null&&c!==void 0?c:a;o.handleCustomMonthChange(m),o.props.adjustDateOnChange&&(o.props.onSelect(m),(p=(d=o.props).setOpen)===null||p===void 0||p.call(d,!0)),o.props.setPreSelection&&o.props.setPreSelection(m)},o.handleCustomMonthChange=function(a){var c,d;(d=(c=o.props).onMonthChange)===null||d===void 0||d.call(c,a),o.setState({isRenderAriaLiveMessage:!0})},o.handleMonthYearChange=function(a){o.handleYearChange(a),o.handleMonthChange(a)},o.changeYear=function(a){o.setState(function(c){var d=c.date;return{date:Rh(d,Number(a))}},function(){return o.handleYearChange(o.state.date)})},o.changeMonth=function(a){o.setState(function(c){var d=c.date;return{date:Jc(d,Number(a))}},function(){return o.handleMonthChange(o.state.date)})},o.changeMonthYear=function(a){o.setState(function(c){var d=c.date;return{date:Rh(Jc(d,Sl(a)),yr(a))}},function(){return o.handleMonthYearChange(o.state.date)})},o.header=function(a){a===void 0&&(a=o.state.date);var c=Pm(a,o.props.locale,o.props.calendarStartDay),d=[];return o.props.showWeekNumbers&&d.push(vt.createElement("div",{key:"W",className:"react-datepicker__day-name"},o.props.weekLabel||"#")),d.concat([0,1,2,3,4,5,6].map(function(p){var m=Zd(c,p),k=o.formatWeekday(m,o.props.locale),w=o.props.weekDayClassName?o.props.weekDayClassName(m):void 0;return vt.createElement("div",{key:p,"aria-label":oo(m,"EEEE",o.props.locale),className:Da("react-datepicker__day-name",w)},k)}))},o.formatWeekday=function(a,c){return o.props.formatWeekDay?_J(a,o.props.formatWeekDay,c):o.props.useWeekdaysShort?xJ(a,c):CJ(a,c)},o.decreaseYear=function(){o.setState(function(a){var c,d=a.date;return{date:fk(d,o.props.showYearPicker?(c=o.props.yearItemNumber)!==null&&c!==void 0?c:i.defaultProps.yearItemNumber:1)}},function(){return o.handleYearChange(o.state.date)})},o.clearSelectingDate=function(){o.setState({selectingDate:void 0})},o.renderPreviousButton=function(){var a,c,d;if(!o.props.renderCustomHeader){var p=(a=o.props.monthsShown)!==null&&a!==void 0?a:i.defaultProps.monthsShown,m=o.props.showPreviousMonths?p-1:0,k=(c=o.props.monthSelectedIn)!==null&&c!==void 0?c:m,w=rb(o.state.date,k),_;switch(!0){case o.props.showMonthYearPicker:_=n8(o.state.date,o.props);break;case o.props.showYearPicker:_=TJ(o.state.date,o.props);break;case o.props.showQuarterYearPicker:_=DJ(o.state.date,o.props);break;default:_=e8(w,o.props);break}if(!(!((d=o.props.forceShowMonthNavigation)!==null&&d!==void 0?d:i.defaultProps.forceShowMonthNavigation)&&!o.props.showDisabledMonthNavigation&&_||o.props.showTimeSelectOnly)){var C=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],v=["react-datepicker__navigation","react-datepicker__navigation--previous"],D=o.decreaseMonth;(o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker)&&(D=o.decreaseYear),_&&o.props.showDisabledMonthNavigation&&(v.push("react-datepicker__navigation--previous--disabled"),D=void 0);var E=o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker,O=o.props,M=O.previousMonthButtonLabel,j=M===void 0?i.defaultProps.previousMonthButtonLabel:M,F=O.previousYearButtonLabel,G=F===void 0?i.defaultProps.previousYearButtonLabel:F,J=o.props,H=J.previousMonthAriaLabel,z=H===void 0?typeof j=="string"?j:"Previous Month":H,Z=J.previousYearAriaLabel,Y=Z===void 0?typeof G=="string"?G:"Previous Year":Z;return vt.createElement("button",{type:"button",className:v.join(" "),onClick:D,onKeyDown:o.props.handleOnKeyDown,"aria-label":E?Y:z},vt.createElement("span",{className:C.join(" ")},E?G:j))}}},o.increaseYear=function(){o.setState(function(a){var c,d=a.date;return{date:ip(d,o.props.showYearPicker?(c=o.props.yearItemNumber)!==null&&c!==void 0?c:i.defaultProps.yearItemNumber:1)}},function(){return o.handleYearChange(o.state.date)})},o.renderNextButton=function(){var a;if(!o.props.renderCustomHeader){var c;switch(!0){case o.props.showMonthYearPicker:c=r8(o.state.date,o.props);break;case o.props.showYearPicker:c=MJ(o.state.date,o.props);break;case o.props.showQuarterYearPicker:c=IJ(o.state.date,o.props);break;default:c=t8(o.state.date,o.props);break}if(!(!((a=o.props.forceShowMonthNavigation)!==null&&a!==void 0?a:i.defaultProps.forceShowMonthNavigation)&&!o.props.showDisabledMonthNavigation&&c||o.props.showTimeSelectOnly)){var d=["react-datepicker__navigation","react-datepicker__navigation--next"],p=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];o.props.showTimeSelect&&d.push("react-datepicker__navigation--next--with-time"),o.props.todayButton&&d.push("react-datepicker__navigation--next--with-today-button");var m=o.increaseMonth;(o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker)&&(m=o.increaseYear),c&&o.props.showDisabledMonthNavigation&&(d.push("react-datepicker__navigation--next--disabled"),m=void 0);var k=o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker,w=o.props,_=w.nextMonthButtonLabel,C=_===void 0?i.defaultProps.nextMonthButtonLabel:_,v=w.nextYearButtonLabel,D=v===void 0?i.defaultProps.nextYearButtonLabel:v,E=o.props,O=E.nextMonthAriaLabel,M=O===void 0?typeof C=="string"?C:"Next Month":O,j=E.nextYearAriaLabel,F=j===void 0?typeof D=="string"?D:"Next Year":j;return vt.createElement("button",{type:"button",className:d.join(" "),onClick:m,onKeyDown:o.props.handleOnKeyDown,"aria-label":k?F:M},vt.createElement("span",{className:p.join(" ")},k?D:C))}}},o.renderCurrentMonth=function(a){a===void 0&&(a=o.state.date);var c=["react-datepicker__current-month"];return o.props.showYearDropdown&&c.push("react-datepicker__current-month--hasYearDropdown"),o.props.showMonthDropdown&&c.push("react-datepicker__current-month--hasMonthDropdown"),o.props.showMonthYearDropdown&&c.push("react-datepicker__current-month--hasMonthYearDropdown"),vt.createElement("h2",{className:c.join(" ")},oo(a,o.props.dateFormat,o.props.locale))},o.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!o.props.showYearDropdown||a))return vt.createElement(JJ,Gr({},i.defaultProps,o.props,{date:o.state.date,onChange:o.changeYear,year:yr(o.state.date)}))},o.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!o.props.showMonthDropdown||a))return vt.createElement(HJ,Gr({},i.defaultProps,o.props,{month:Sl(o.state.date),onChange:o.changeMonth}))},o.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!o.props.showMonthYearDropdown||a))return vt.createElement(GJ,Gr({},i.defaultProps,o.props,{date:o.state.date,onChange:o.changeMonthYear}))},o.handleTodayButtonClick=function(a){o.props.onSelect(KN(),a),o.props.setPreSelection&&o.props.setPreSelection(KN())},o.renderTodayButton=function(){if(!(!o.props.todayButton||o.props.showTimeSelectOnly))return vt.createElement("div",{className:"react-datepicker__today-button",onClick:o.handleTodayButtonClick},o.props.todayButton)},o.renderDefaultHeader=function(a){var c=a.monthDate,d=a.i;return vt.createElement("div",{className:"react-datepicker__header ".concat(o.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},o.renderCurrentMonth(c),vt.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(o.props.dropdownMode),onFocus:o.handleDropdownFocus},o.renderMonthDropdown(d!==0),o.renderMonthYearDropdown(d!==0),o.renderYearDropdown(d!==0)),vt.createElement("div",{className:"react-datepicker__day-names"},o.header(c)))},o.renderCustomHeader=function(a){var c,d,p=a.monthDate,m=a.i;if(o.props.showTimeSelect&&!o.state.monthContainer||o.props.showTimeSelectOnly)return null;var k=e8(o.state.date,o.props),w=t8(o.state.date,o.props),_=n8(o.state.date,o.props),C=r8(o.state.date,o.props),v=!o.props.showMonthYearPicker&&!o.props.showQuarterYearPicker&&!o.props.showYearPicker;return vt.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:o.props.onDropdownFocus},(d=(c=o.props).renderCustomHeader)===null||d===void 0?void 0:d.call(c,Gr(Gr({},o.state),{customHeaderCount:m,monthDate:p,changeMonth:o.changeMonth,changeYear:o.changeYear,decreaseMonth:o.decreaseMonth,increaseMonth:o.increaseMonth,decreaseYear:o.decreaseYear,increaseYear:o.increaseYear,prevMonthButtonDisabled:k,nextMonthButtonDisabled:w,prevYearButtonDisabled:_,nextYearButtonDisabled:C})),v&&vt.createElement("div",{className:"react-datepicker__day-names"},o.header(p)))},o.renderYearHeader=function(a){var c=a.monthDate,d=o.props,p=d.showYearPicker,m=d.yearItemNumber,k=m===void 0?i.defaultProps.yearItemNumber:m,w=Im(c,k),_=w.startPeriod,C=w.endPeriod;return vt.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},p?"".concat(_," - ").concat(C):yr(c))},o.renderHeader=function(a){var c=a.monthDate,d=a.i,p=d===void 0?0:d,m={monthDate:c,i:p};switch(!0){case o.props.renderCustomHeader!==void 0:return o.renderCustomHeader(m);case(o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker):return o.renderYearHeader(m);default:return o.renderDefaultHeader(m)}},o.renderMonths=function(){var a,c;if(!(o.props.showTimeSelectOnly||o.props.showYearPicker)){for(var d=[],p=(a=o.props.monthsShown)!==null&&a!==void 0?a:i.defaultProps.monthsShown,m=o.props.showPreviousMonths?p-1:0,k=o.props.showMonthYearPicker||o.props.showQuarterYearPicker?ip(o.state.date,m):rb(o.state.date,m),w=(c=o.props.monthSelectedIn)!==null&&c!==void 0?c:m,_=0;_<p;++_){var C=_-w+m,v=o.props.showMonthYearPicker||o.props.showQuarterYearPicker?ip(k,C):Jd(k,C),D="month-".concat(_),E=_<p-1,O=_>0;d.push(vt.createElement("div",{key:D,ref:function(M){o.monthContainer=M??void 0},className:"react-datepicker__month-container"},o.renderHeader({monthDate:v,i:_}),vt.createElement(qJ,Gr({},i.defaultProps,o.props,{ariaLabelPrefix:o.props.monthAriaLabelPrefix,day:v,onDayClick:o.handleDayClick,handleOnKeyDown:o.props.handleOnDayKeyDown,handleOnMonthKeyDown:o.props.handleOnKeyDown,onDayMouseEnter:o.handleDayMouseEnter,onMouseLeave:o.handleMonthMouseLeave,orderInDisplay:_,selectingDate:o.state.selectingDate,monthShowsDuplicateDaysEnd:E,monthShowsDuplicateDaysStart:O}))))}return d}},o.renderYears=function(){if(!o.props.showTimeSelectOnly&&o.props.showYearPicker)return vt.createElement("div",{className:"react-datepicker__year--container"},o.renderHeader({monthDate:o.state.date}),vt.createElement(KJ,Gr({},i.defaultProps,o.props,{selectingDate:o.state.selectingDate,date:o.state.date,onDayClick:o.handleDayClick,clearSelectingDate:o.clearSelectingDate,onYearMouseEnter:o.handleYearMouseEnter,onYearMouseLeave:o.handleYearMouseLeave})))},o.renderTimeSection=function(){if(o.props.showTimeSelect&&(o.state.monthContainer||o.props.showTimeSelectOnly))return vt.createElement(YJ,Gr({},i.defaultProps,o.props,{onChange:o.props.onTimeChange,format:o.props.timeFormat,intervals:o.props.timeIntervals,monthRef:o.state.monthContainer}))},o.renderInputTimeSection=function(){var a=o.props.selected?new Date(o.props.selected):void 0,c=a&&Xf(a)&&!!o.props.selected,d=c?"".concat(o8(a.getHours()),":").concat(o8(a.getMinutes())):"";if(o.props.showTimeInput)return vt.createElement(PJ,Gr({},i.defaultProps,o.props,{date:a,timeString:d,onChange:o.props.onTimeChange}))},o.renderAriaLiveRegion=function(){var a,c=Im(o.state.date,(a=o.props.yearItemNumber)!==null&&a!==void 0?a:i.defaultProps.yearItemNumber),d=c.startPeriod,p=c.endPeriod,m;return o.props.showYearPicker?m="".concat(d," - ").concat(p):o.props.showMonthYearPicker||o.props.showQuarterYearPicker?m=yr(o.state.date):m="".concat(sD(Sl(o.state.date),o.props.locale)," ").concat(yr(o.state.date)),vt.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},o.state.isRenderAriaLiveMessage&&m)},o.renderChildren=function(){if(o.props.children)return vt.createElement("div",{className:"react-datepicker__children-container"},o.props.children)},o.containerRef=ae.createRef(),o.state={date:o.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},o}return Object.defineProperty(i,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:rA}},enumerable:!1,configurable:!0}),i.prototype.componentDidMount=function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){r.setState({monthContainer:r.monthContainer})}())},i.prototype.componentDidUpdate=function(r){var o=this;if(this.props.preSelection&&(!Hr(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var a=!Cl(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&o.handleCustomMonthChange(o.state.date)})}else this.props.openToDate&&!Hr(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})},i.prototype.render=function(){var r=this.props.container||pJ;return vt.createElement(w5,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},vt.createElement(r,{className:Da("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},i}(ae.Component),nX=function(t){var i=t.icon,r=t.className,o=r===void 0?"":r,a=t.onClick,c="react-datepicker__calendar-icon";return typeof i=="string"?vt.createElement("i",{className:"".concat(c," ").concat(i," ").concat(o),"aria-hidden":"true",onClick:a}):vt.isValidElement(i)?vt.cloneElement(i,{className:"".concat(i.props.className||""," ").concat(c," ").concat(o),onClick:function(d){typeof i.props.onClick=="function"&&i.props.onClick(d),typeof a=="function"&&a(d)}}):vt.createElement("svg",{className:"".concat(c," ").concat(o),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},vt.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},gP=function(t){ha(i,t);function i(r){var o=t.call(this,r)||this;return o.portalRoot=null,o.el=document.createElement("div"),o}return i.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},i.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},i.prototype.render=function(){return YV.createPortal(this.props.children,this.el)},i}(ae.Component),rX="[tabindex], a, button, input, select, textarea",iX=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},bP=function(t){ha(i,t);function i(r){var o=t.call(this,r)||this;return o.getTabChildren=function(){var a;return Array.prototype.slice.call((a=o.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(rX),1,-1).filter(iX)},o.handleFocusStart=function(){var a=o.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},o.handleFocusEnd=function(){var a=o.getTabChildren();a&&a.length>1&&a[0].focus()},o.tabLoopRef=ae.createRef(),o}return i.prototype.render=function(){var r;return((r=this.props.enableTabLoop)!==null&&r!==void 0?r:i.defaultProps.enableTabLoop)?vt.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},vt.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,vt.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},i.defaultProps={enableTabLoop:!0},i}(ae.Component);function oX(t){var i=function(r){var o,a=typeof r.hidePopper=="boolean"?r.hidePopper:!0,c=ae.useRef(null),d=fJ(Gr({open:!a,whileElementsMounted:$Z,placement:r.popperPlacement,middleware:Zh([eJ({padding:15}),XZ(10),tJ({element:c})],(o=r.popperModifiers)!==null&&o!==void 0?o:[],!0)},r.popperProps)),p=Gr(Gr({},r),{hidePopper:a,popperProps:Gr(Gr({},d),{arrowRef:c})});return vt.createElement(t,Gr({},p))};return i}var sX=function(t){ha(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(i,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),i.prototype.render=function(){var r=this.props,o=r.className,a=r.wrapperClassName,c=r.hidePopper,d=c===void 0?i.defaultProps.hidePopper:c,p=r.popperComponent,m=r.targetComponent,k=r.enableTabLoop,w=r.popperOnKeyDown,_=r.portalId,C=r.portalHost,v=r.popperProps,D=r.showArrow,E=void 0;if(!d){var O=Da("react-datepicker-popper",o);E=vt.createElement(bP,{enableTabLoop:k},vt.createElement("div",{ref:v.refs.setFloating,style:v.floatingStyles,className:O,"data-placement":v.placement,onKeyDown:w},p,D&&vt.createElement(sJ,{ref:v.arrowRef,context:v.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(E=ae.createElement(this.props.popperContainer,{},E)),_&&!d&&(E=vt.createElement(gP,{portalId:_,portalHost:C},E));var M=Da("react-datepicker-wrapper",a);return vt.createElement(vt.Fragment,null,vt.createElement("div",{ref:v.refs.setReference,className:M},m),E)},i}(ae.Component),aX=oX(sX),d8="react-datepicker-ignore-onclickoutside";function lX(t,i){return t&&i?Sl(t)!==Sl(i)||yr(t)!==yr(i):t!==i}var P3="Date input not valid.",cX=function(t){ha(i,t);function i(r){var o=t.call(this,r)||this;return o.calendar=null,o.input=null,o.getPreSelection=function(){return o.props.openToDate?o.props.openToDate:o.props.selectsEnd&&o.props.startDate?o.props.startDate:o.props.selectsStart&&o.props.endDate?o.props.endDate:xi()},o.modifyHolidays=function(){var a;return(a=o.props.holidays)===null||a===void 0?void 0:a.reduce(function(c,d){var p=new Date(d.date);return Xf(p)?Zh(Zh([],c,!0),[Gr(Gr({},d),{date:p})],!1):c},[])},o.calcInitialState=function(){var a,c=o.getPreSelection(),d=fP(o.props),p=pP(o.props),m=d&&db(c,lx(d))?d:p&&Rm(c,QN(p))?p:c;return{open:o.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(a=o.props.selectsRange?o.props.startDate:o.props.selected)!==null&&a!==void 0?a:m,highlightDates:i8(o.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},o.resetHiddenStatus=function(){o.setState(Gr(Gr({},o.state),{wasHidden:!1}))},o.setHiddenStatus=function(){o.setState(Gr(Gr({},o.state),{wasHidden:!0}))},o.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&o.setHiddenStatus()},o.clearPreventFocusTimeout=function(){o.preventFocusTimeout&&clearTimeout(o.preventFocusTimeout)},o.safeFocus=function(){setTimeout(function(){var a,c;(c=(a=o.input)===null||a===void 0?void 0:a.focus)===null||c===void 0||c.call(a,{preventScroll:!0})},0)},o.safeBlur=function(){setTimeout(function(){var a,c;(c=(a=o.input)===null||a===void 0?void 0:a.blur)===null||c===void 0||c.call(a)},0)},o.setFocus=function(){o.safeFocus()},o.setBlur=function(){o.safeBlur(),o.cancelFocusInput()},o.setOpen=function(a,c){c===void 0&&(c=!1),o.setState({open:a,preSelection:a&&o.state.open?o.state.preSelection:o.calcInitialState().preSelection,lastPreSelectChange:R3},function(){a||o.setState(function(d){return{focused:c?d.focused:!1}},function(){!c&&o.setBlur(),o.setState({inputValue:null})})})},o.inputOk=function(){return op(o.state.preSelection)},o.isCalendarOpen=function(){return o.props.open===void 0?o.state.open&&!o.props.disabled&&!o.props.readOnly:o.props.open},o.handleFocus=function(a){var c,d,p=o.state.wasHidden,m=p?o.state.open:!0;p&&o.resetHiddenStatus(),!o.state.preventFocus&&m&&((d=(c=o.props).onFocus)===null||d===void 0||d.call(c,a),!o.props.preventOpenOnFocus&&!o.props.readOnly&&o.setOpen(!0)),o.setState({focused:!0})},o.sendFocusBackToInput=function(){o.preventFocusTimeout&&o.clearPreventFocusTimeout(),o.setState({preventFocus:!0},function(){o.preventFocusTimeout=setTimeout(function(){o.setFocus(),o.setState({preventFocus:!1})})})},o.cancelFocusInput=function(){clearTimeout(o.inputFocusTimeout),o.inputFocusTimeout=void 0},o.deferFocusInput=function(){o.cancelFocusInput(),o.inputFocusTimeout=setTimeout(function(){return o.setFocus()},1)},o.handleDropdownFocus=function(){o.cancelFocusInput()},o.handleBlur=function(a){var c,d;(!o.state.open||o.props.withPortal||o.props.showTimeInput)&&((d=(c=o.props).onBlur)===null||d===void 0||d.call(c,a)),o.setState({focused:!1})},o.handleCalendarClickOutside=function(a){var c,d;o.props.inline||o.setOpen(!1),(d=(c=o.props).onClickOutside)===null||d===void 0||d.call(c,a),o.props.withPortal&&a.preventDefault()},o.handleChange=function(){for(var a,c,d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];var m=d[0];if(!(o.props.onChangeRaw&&(o.props.onChangeRaw.apply(o,d),!m||typeof m.isDefaultPrevented!="function"||m.isDefaultPrevented()))){o.setState({inputValue:(m==null?void 0:m.target)instanceof HTMLInputElement?m.target.value:null,lastPreSelectChange:uX});var k=o.props,w=k.dateFormat,_=w===void 0?i.defaultProps.dateFormat:w,C=k.strictParsing,v=C===void 0?i.defaultProps.strictParsing:C,D=k.selectsRange,E=k.startDate,O=k.endDate,M=(m==null?void 0:m.target)instanceof HTMLInputElement?m.target.value:"";if(D){var j=M.split("-",2).map(function(se){return se.trim()}),F=j[0],G=j[1],J=B3(F??"",_,o.props.locale,v),H=B3(G??"",_,o.props.locale,v),z=(E==null?void 0:E.getTime())!==(J==null?void 0:J.getTime()),Z=(O==null?void 0:O.getTime())!==(H==null?void 0:H.getTime());if(!z&&!Z||J&&Ju(J,o.props)||H&&Ju(H,o.props))return;(c=(a=o.props).onChange)===null||c===void 0||c.call(a,[J,H],m)}else{var Y=B3(M,_,o.props.locale,v,o.props.minDate);o.props.showTimeSelectOnly&&o.props.selected&&Y&&!Hr(Y,o.props.selected)&&(Y=YQ(o.props.selected,{hours:Xh(Y),minutes:ef(Y),seconds:sp(Y)})),(Y||!M)&&o.setSelected(Y,m,!0)}}},o.handleSelect=function(a,c,d){if(o.props.shouldCloseOnSelect&&!o.props.showTimeSelect&&o.sendFocusBackToInput(),o.props.onChangeRaw&&o.props.onChangeRaw(c),o.setSelected(a,c,!1,d),o.props.showDateSelect&&o.setState({isRenderAriaLiveMessage:!0}),!o.props.shouldCloseOnSelect||o.props.showTimeSelect)o.setPreSelection(a);else if(!o.props.inline){o.props.selectsRange||o.setOpen(!1);var p=o.props,m=p.startDate,k=p.endDate;m&&!k&&(o.props.swapRange||!l8(a,m))&&o.setOpen(!1)}},o.setSelected=function(a,c,d,p){var m,k,w=a;if(o.props.showYearPicker){if(w!==null&&cx(yr(w),o.props))return}else if(o.props.showMonthYearPicker){if(w!==null&&hP(w,o.props))return}else if(w!==null&&Ju(w,o.props))return;var _=o.props,C=_.onChange,v=_.selectsRange,D=_.startDate,E=_.endDate,O=_.selectsMultiple,M=_.selectedDates,j=_.minTime,F=_.swapRange;if(!Jg(o.props.selected,w)||o.props.allowSameDay||v||O)if(w!==null&&(o.props.selected&&(!d||!o.props.showTimeSelect&&!o.props.showTimeSelectOnly&&!o.props.showTimeInput)&&(w=j3(w,{hour:Xh(o.props.selected),minute:ef(o.props.selected),second:sp(o.props.selected)})),!d&&(o.props.showTimeSelect||o.props.showTimeSelectOnly)&&j&&(w=j3(w,{hour:j.getHours(),minute:j.getMinutes(),second:j.getSeconds()})),o.props.inline||o.setState({preSelection:w}),o.props.focusSelectedMonth||o.setState({monthSelectedIn:p})),v){var G=!D&&!E,J=D&&!E,H=D&&E;G?C==null||C([w,null],c):J&&(w===null?C==null||C([null,null],c):l8(w,D)?F?C==null||C([w,D],c):C==null||C([w,null],c):C==null||C([D,w],c)),H&&(C==null||C([w,null],c))}else if(O){if(w!==null)if(!(M!=null&&M.length))C==null||C([w],c);else{var z=M.some(function(Y){return Hr(Y,w)});if(z){var Z=M.filter(function(Y){return!Hr(Y,w)});C==null||C(Z,c)}else C==null||C(Zh(Zh([],M,!0),[w],!1),c)}}else C==null||C(w,c);d||((k=(m=o.props).onSelect)===null||k===void 0||k.call(m,w,c),o.setState({inputValue:null}))},o.setPreSelection=function(a){var c=op(o.props.minDate),d=op(o.props.maxDate),p=!0;if(a){var m=lx(a);if(c&&d)p=wy(a,o.props.minDate,o.props.maxDate);else if(c){var k=lx(o.props.minDate);p=Rm(a,k)||Jg(m,k)}else if(d){var w=QN(o.props.maxDate);p=db(a,w)||Jg(m,w)}}p&&o.setState({preSelection:a})},o.toggleCalendar=function(){o.setOpen(!o.state.open)},o.handleTimeChange=function(a){var c,d;if(!(o.props.selectsRange||o.props.selectsMultiple)){var p=o.props.selected?o.props.selected:o.getPreSelection(),m=o.props.selected?a:j3(p,{hour:Xh(a),minute:ef(a)});o.setState({preSelection:m}),(d=(c=o.props).onChange)===null||d===void 0||d.call(c,m),o.props.shouldCloseOnSelect&&!o.props.showTimeInput&&(o.sendFocusBackToInput(),o.setOpen(!1)),o.props.showTimeInput&&o.setOpen(!0),(o.props.showTimeSelectOnly||o.props.showTimeSelect)&&o.setState({isRenderAriaLiveMessage:!0}),o.setState({inputValue:null})}},o.onInputClick=function(){var a,c;!o.props.disabled&&!o.props.readOnly&&o.setOpen(!0),(c=(a=o.props).onInputClick)===null||c===void 0||c.call(a)},o.onInputKeyDown=function(a){var c,d,p,m,k,w;(d=(c=o.props).onKeyDown)===null||d===void 0||d.call(c,a);var _=a.key;if(!o.state.open&&!o.props.inline&&!o.props.preventOpenOnFocus){(_===an.ArrowDown||_===an.ArrowUp||_===an.Enter)&&((p=o.onInputClick)===null||p===void 0||p.call(o));return}if(o.state.open){if(_===an.ArrowDown||_===an.ArrowUp){a.preventDefault();var C=o.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":o.props.showWeekPicker&&o.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':o.props.showFullMonthYearPicker||o.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',v=((m=o.calendar)===null||m===void 0?void 0:m.containerRef.current)instanceof Element&&o.calendar.containerRef.current.querySelector(C);v instanceof HTMLElement&&v.focus({preventScroll:!0});return}var D=xi(o.state.preSelection);_===an.Enter?(a.preventDefault(),a.target.blur(),o.inputOk()&&o.state.lastPreSelectChange===R3?(o.handleSelect(D,a),!o.props.shouldCloseOnSelect&&o.setPreSelection(D)):o.setOpen(!1)):_===an.Escape?(a.preventDefault(),a.target.blur(),o.sendFocusBackToInput(),o.setOpen(!1)):_===an.Tab&&o.setOpen(!1),o.inputOk()||(w=(k=o.props).onInputError)===null||w===void 0||w.call(k,{code:1,msg:P3})}},o.onPortalKeyDown=function(a){var c=a.key;c===an.Escape&&(a.preventDefault(),o.setState({preventFocus:!0},function(){o.setOpen(!1),setTimeout(function(){o.setFocus(),o.setState({preventFocus:!1})})}))},o.onDayKeyDown=function(a){var c,d,p,m,k,w,_=o.props,C=_.minDate,v=_.maxDate,D=_.disabledKeyboardNavigation,E=_.showWeekPicker,O=_.shouldCloseOnSelect,M=_.locale,j=_.calendarStartDay,F=_.adjustDateOnChange,G=_.inline;if((d=(c=o.props).onKeyDown)===null||d===void 0||d.call(c,a),!D){var J=a.key,H=a.shiftKey,z=xi(o.state.preSelection),Z=function(fe,ue){var de=ue;switch(fe){case an.ArrowRight:de=E?Bx(ue,1):Zd(ue,1);break;case an.ArrowLeft:de=E?PN(ue):MQ(ue);break;case an.ArrowUp:de=PN(ue);break;case an.ArrowDown:de=Bx(ue,1);break;case an.PageUp:de=H?fk(ue,1):rb(ue,1);break;case an.PageDown:de=H?ip(ue,1):Jd(ue,1);break;case an.Home:de=Pm(ue,M,j);break;case an.End:de=yJ(ue);break}return de},Y=function(fe,ue){for(var de=40,ge=fe,Ie=!1,ce=0,Te=Z(fe,ue);!Ie;){if(ce>=de){Te=ue;break}C&&Te<C&&(ge=an.ArrowRight,Te=Ju(C,o.props)?Z(ge,Te):C),v&&Te>v&&(ge=an.ArrowLeft,Te=Ju(v,o.props)?Z(ge,Te):v),Ju(Te,o.props)?((ge===an.PageUp||ge===an.Home)&&(ge=an.ArrowRight),(ge===an.PageDown||ge===an.End)&&(ge=an.ArrowLeft),Te=Z(ge,Te)):Ie=!0,ce++}return Te};if(J===an.Enter){a.preventDefault(),o.handleSelect(z,a),!O&&o.setPreSelection(z);return}else if(J===an.Escape){a.preventDefault(),o.setOpen(!1),o.inputOk()||(m=(p=o.props).onInputError)===null||m===void 0||m.call(p,{code:1,msg:P3});return}var se=null;switch(J){case an.ArrowLeft:case an.ArrowRight:case an.ArrowUp:case an.ArrowDown:case an.PageUp:case an.PageDown:case an.Home:case an.End:se=Y(J,z);break}if(!se){(w=(k=o.props).onInputError)===null||w===void 0||w.call(k,{code:1,msg:P3});return}if(a.preventDefault(),o.setState({lastPreSelectChange:R3}),F&&o.setSelected(se),o.setPreSelection(se),G){var X=Sl(z),K=Sl(se),U=yr(z),q=yr(se);X!==K||U!==q?o.setState({shouldFocusDayInline:!0}):o.setState({shouldFocusDayInline:!1})}}},o.onPopperKeyDown=function(a){var c=a.key;c===an.Escape&&(a.preventDefault(),o.sendFocusBackToInput())},o.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),o.sendFocusBackToInput();var c=o.props,d=c.selectsRange,p=c.onChange;d?p==null||p([null,null],a):p==null||p(null,a),o.setState({inputValue:null})},o.clear=function(){o.onClearClick()},o.onScroll=function(a){typeof o.props.closeOnScroll=="boolean"&&o.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&o.setOpen(!1):typeof o.props.closeOnScroll=="function"&&o.props.closeOnScroll(a)&&o.setOpen(!1)},o.renderCalendar=function(){var a,c;return!o.props.inline&&!o.isCalendarOpen()?null:vt.createElement(tX,Gr({showMonthYearDropdown:void 0,ref:function(d){o.calendar=d}},o.props,o.state,{setOpen:o.setOpen,dateFormat:(a=o.props.dateFormatCalendar)!==null&&a!==void 0?a:i.defaultProps.dateFormatCalendar,onSelect:o.handleSelect,onClickOutside:o.handleCalendarClickOutside,holidays:OJ(o.modifyHolidays()),outsideClickIgnoreClass:d8,onDropdownFocus:o.handleDropdownFocus,onTimeChange:o.handleTimeChange,className:o.props.calendarClassName,container:o.props.calendarContainer,handleOnKeyDown:o.props.onKeyDown,handleOnDayKeyDown:o.onDayKeyDown,setPreSelection:o.setPreSelection,dropdownMode:(c=o.props.dropdownMode)!==null&&c!==void 0?c:i.defaultProps.dropdownMode}),o.props.children)},o.renderAriaLiveRegion=function(){var a=o.props,c=a.dateFormat,d=c===void 0?i.defaultProps.dateFormat:c,p=a.locale,m=o.props.showTimeInput||o.props.showTimeSelect,k=m?"PPPPp":"PPPP",w;return o.props.selectsRange?w="Selected start date: ".concat(Qu(o.props.startDate,{dateFormat:k,locale:p}),". ").concat(o.props.endDate?"End date: "+Qu(o.props.endDate,{dateFormat:k,locale:p}):""):o.props.showTimeSelectOnly?w="Selected time: ".concat(Qu(o.props.selected,{dateFormat:d,locale:p})):o.props.showYearPicker?w="Selected year: ".concat(Qu(o.props.selected,{dateFormat:"yyyy",locale:p})):o.props.showMonthYearPicker?w="Selected month: ".concat(Qu(o.props.selected,{dateFormat:"MMMM yyyy",locale:p})):o.props.showQuarterYearPicker?w="Selected quarter: ".concat(Qu(o.props.selected,{dateFormat:"yyyy, QQQ",locale:p})):w="Selected date: ".concat(Qu(o.props.selected,{dateFormat:k,locale:p})),vt.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},w)},o.renderDateInput=function(){var a,c,d,p=Da(o.props.className,(a={},a[d8]=o.state.open,a)),m=o.props.customInput||vt.createElement("input",{type:"text"}),k=o.props.customInputRef||"ref",w=o.props,_=w.dateFormat,C=_===void 0?i.defaultProps.dateFormat:_,v=w.locale,D=typeof o.props.value=="string"?o.props.value:typeof o.state.inputValue=="string"?o.state.inputValue:o.props.selectsRange?bJ(o.props.startDate,o.props.endDate,{dateFormat:C,locale:v}):o.props.selectsMultiple?kJ((d=o.props.selectedDates)!==null&&d!==void 0?d:[],{dateFormat:C,locale:v}):Qu(o.props.selected,{dateFormat:C,locale:v});return ae.cloneElement(m,(c={},c[k]=function(E){o.input=E},c.value=D,c.onBlur=o.handleBlur,c.onChange=o.handleChange,c.onClick=o.onInputClick,c.onFocus=o.handleFocus,c.onKeyDown=o.onInputKeyDown,c.id=o.props.id,c.name=o.props.name,c.form=o.props.form,c.autoFocus=o.props.autoFocus,c.placeholder=o.props.placeholderText,c.disabled=o.props.disabled,c.autoComplete=o.props.autoComplete,c.className=Da(m.props.className,p),c.title=o.props.title,c.readOnly=o.props.readOnly,c.required=o.props.required,c.tabIndex=o.props.tabIndex,c["aria-describedby"]=o.props.ariaDescribedBy,c["aria-invalid"]=o.props.ariaInvalid,c["aria-labelledby"]=o.props.ariaLabelledBy,c["aria-required"]=o.props.ariaRequired,c))},o.renderClearButton=function(){var a=o.props,c=a.isClearable,d=a.disabled,p=a.selected,m=a.startDate,k=a.endDate,w=a.clearButtonTitle,_=a.clearButtonClassName,C=_===void 0?"":_,v=a.ariaLabelClose,D=v===void 0?"Close":v,E=a.selectedDates;return c&&(p!=null||m!=null||k!=null||E!=null&&E.length)?vt.createElement("button",{type:"button",className:Da("react-datepicker__close-icon",C,{"react-datepicker__close-icon--disabled":d}),disabled:d,"aria-label":D,onClick:o.onClearClick,title:w,tabIndex:-1}):null},o.state=o.calcInitialState(),o.preventFocusTimeout=void 0,o}return Object.defineProperty(i,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:rA,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),i.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},i.prototype.componentDidUpdate=function(r,o){var a,c,d,p;r.inline&&lX(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:i8(this.props.highlightDates)}),!o.focused&&!Jg(r.selected,this.props.selected)&&this.setState({inputValue:null}),o.open!==this.state.open&&(o.open===!1&&this.state.open===!0&&((c=(a=this.props).onCalendarOpen)===null||c===void 0||c.call(a)),o.open===!0&&this.state.open===!1&&((p=(d=this.props).onCalendarClose)===null||p===void 0||p.call(d)))},i.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},i.prototype.renderInputContainer=function(){var r=this.props,o=r.showIcon,a=r.icon,c=r.calendarIconClassname,d=r.calendarIconClassName,p=r.toggleCalendarOnIconClick,m=this.state.open;return c&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),vt.createElement("div",{className:"react-datepicker__input-container".concat(o?" react-datepicker__view-calendar-icon":"")},o&&vt.createElement(nX,Gr({icon:a,className:Da(d,!d&&c,m&&"react-datepicker-ignore-onclickoutside")},p?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},i.prototype.render=function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var o=this.state.open?vt.createElement(bP,{enableTabLoop:this.props.enableTabLoop},vt.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(o=vt.createElement(gP,Gr({portalId:this.props.portalId},this.props),o)),vt.createElement("div",null,this.renderInputContainer(),o)}return vt.createElement(aX,Gr({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:r,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},i}(ae.Component),uX="input",R3="navigate";const dX=hf(_n)({width:"100%"}),kP=vt.forwardRef((t,i)=>x.jsx(dX,{...t,inputRef:i,fullWidth:!0}));kP.displayName="CustomInput";const hX=({value:t,onChange:i})=>x.jsx(Be,{sx:{mb:2},children:x.jsx(cX,{selected:t,onChange:r=>i(r),showTimeSelect:!0,dateFormat:"Pp",customInput:x.jsx(kP,{label:"Schedule Publish Date & Time"})})}),fX=ae.lazy(()=>To(()=>import("./MaterialImportWrapper-2ybJ021i.js"),__vite__mapDeps([3,4,1,5]))),pX=({src:t,alt:i})=>{const[r,o]=ae.useState(!1),[a,c]=ae.useState(!1);return ae.useEffect(()=>{const d=new Image;return d.src=t,d.onload=()=>o(!0),d.onerror=()=>c(!0),()=>{d.onload=null,d.onerror=null}},[t]),a?x.jsx(Be,{sx:{width:"50%",height:150,bgcolor:"#f5f5f5",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:1,border:"1px dashed #ccc",marginBottom:"16px"},children:x.jsx(Pe,{variant:"body2",color:"text.secondary",children:"Image failed to load"})}):x.jsxs(x.Fragment,{children:[!r&&x.jsx(Tj,{variant:"rectangular",width:"50%",height:150,sx:{borderRadius:1,marginBottom:"16px"}}),x.jsx(Dx,{in:r,timeout:300,children:x.jsx(Be,{sx:{display:r?"block":"none"},children:x.jsx("img",{src:t,alt:i,style:{maxWidth:"50%",marginBottom:"16px",borderRadius:"4px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",transition:"all 0.2s ease-in-out"}})})})]})},wP=({materialData:t})=>{var Fn,Gn,ei,tr,wr,mr,vr,fn,nr,Jo,ki,Xo,es,hn,xr,rr,wi,Mr,$r,di,Tl,ks,ws,bo,Ei,ao,lo,Fr,cl,Ml,Ki,vs,Nl,cu;const i=so(),{userDetails:r}=go(),o=Rr(),{uploadedFile:a,uploadOriginalFile:c,originalFileUrl:d,originalFileUploadProgress:p}=mb(),[m]=Jy(),k=m.get("course"),[w,_]=ae.useState((t==null?void 0:t.course)||k||""),[C,v]=ae.useState((t==null?void 0:t.id)||null),[D,E]=ae.useState((t==null?void 0:t.title)||""),[O,M]=ae.useState((t==null?void 0:t.header)||{title:"Header",content:""}),[j,F]=ae.useState((t==null?void 0:t.footer)||{title:"Footer",content:""}),[G,J]=ae.useState((t==null?void 0:t.sections)||[{id:nl(),title:"Section 1",content:"",subsections:[],images:[],links:[]}]),[H,z]=ae.useState({sectionIndex:0}),[Z,Y]=ae.useState(!1),[se,X]=ae.useState(""),[K,U]=ae.useState("success"),[q,fe]=ae.useState(!1),[ue,de]=ae.useState(((Fn=t==null?void 0:t.scheduledTimestamp)==null?void 0:Fn.toDate())||null),[ge,Ie]=ae.useState(!1),[ce,Te]=ae.useState("manual"),[re,te]=ae.useState(!1),[ke,be]=ae.useState(null),[ve,Re]=ae.useState(null),[Oe,Ue]=ae.useState(!1);jL(G,H.sectionIndex||0,G.length>1),ae.useEffect(()=>{const Ft=qt=>{qt.key==="ArrowLeft"?kt("prev"):qt.key==="ArrowRight"&&kt("next")};return window.addEventListener("keydown",Ft),()=>{window.removeEventListener("keydown",Ft)}},[H,G]);const Ze=async(Ft,qt=!1,$t)=>{Ft.preventDefault();try{const mn=G.some(sn=>{var Kn,zr;return((Kn=sn.images)==null?void 0:Kn.some(Yr=>Yr.url.startsWith("blob:")))||((zr=sn.subsections)==null?void 0:zr.some(Yr=>{var Di;return(Di=Yr.images)==null?void 0:Di.some(ko=>ko.url.startsWith("blob:"))}))});if(re&&mn){const sn=await da(dr(o,"materials"),{course:w,title:D,header:O,footer:j,sections:[],author:(r==null?void 0:r.uid)||"",timestamp:$h(),published:!1,scheduledTimestamp:null}),Kn=sn.id;v(Kn);try{X("Uploading images..."),U("info"),Y(!0);const zr=600*1e3,Yr=jE(w,(r==null?void 0:r.uid)||"",Kn,(br,Kr)=>{be({completed:br,total:Kr})}),Di=new Promise((br,Kr)=>{setTimeout(()=>Kr(new Error("Image upload timeout - taking too long")),zr)}),ko=await Promise.race([Yr,Di]),js={sections:ko.sections,published:qt,scheduledTimestamp:$t?xl.fromDate($t):null};d&&a&&(js.originalFile={name:a.name,type:a.type,size:a.size,url:d,uploadedAt:$h()},console.log(" Adding original file info to material:",{name:a.name,type:a.type,size:a.size})),await gi(sn,js),J(ko.sections),te(!1),be(null),X(`Material ${qt?"published":"saved"} successfully with images!`)}catch(zr){console.error("Image upload failed:",zr);const Yr=zr instanceof Error?zr.message:"Unknown error occurred";Re(Yr),be(null),await gi(sn,{sections:G,published:qt,scheduledTimestamp:$t?xl.fromDate($t):null}),X("Material saved, but some images failed to upload"),U("warning")}}else if(C){const sn=Wn(o,"materials",C),Kn={course:w,title:D,header:O,footer:j,sections:G,published:qt,scheduledTimestamp:$t?xl.fromDate($t):null};d&&a&&(Kn.originalFile={name:a.name,type:a.type,size:a.size,url:d,uploadedAt:$h()},console.log(" Adding original file info to updated material:",{name:a.name,type:a.type,size:a.size})),await gi(sn,Kn),X("Material updated successfully")}else{console.log("Saving material with sections:",G.map(zr=>{var Yr,Di;return{title:zr.title,imageCount:((Yr=zr.images)==null?void 0:Yr.length)||0,images:(Di=zr.images)==null?void 0:Di.map(ko=>({url:ko.url.substring(0,100)+"...",title:ko.title}))}}));const sn={course:w,title:D,header:O,footer:j,sections:G,author:(r==null?void 0:r.uid)||"",timestamp:$h(),published:qt,scheduledTimestamp:$t?xl.fromDate($t):null};d&&a&&(sn.originalFile={name:a.name,type:a.type,size:a.size,url:d,uploadedAt:$h()},console.log(" Adding original file info to new material:",{name:a.name,type:a.type,size:a.size}));const Kn=await da(dr(o,"materials"),sn);v(Kn.id),X("Material saved successfully")}U("success"),Y(!0),fe(!0),setTimeout(()=>fe(!1),3e3)}catch{X("Failed to save material"),U("error"),Y(!0)}},Ge=()=>{i(k?`/supplemental-materials?course=${k}`:"/supplemental-materials")},ft=Ft=>{Ze(Ft,!0)},gt=Ft=>{ge&&ue?Ze(Ft,!1,ue):Ie(!0)},oe=()=>{J([...G,{id:nl(),title:`Section ${G.length+1}`,content:"",subsections:[],images:[],links:[]}])},Le=Ft=>{const qt=[...G],$t=qt[Ft];$t.subsections.push({id:nl(),title:`Subsection ${$t.subsections.length+1}`,content:"",subSubsections:[],images:[],links:[]}),J(qt),z({sectionIndex:Ft,subsectionIndex:$t.subsections.length-1})},we=(Ft,qt)=>{const $t=[...G],mn=$t[Ft].subsections[qt];mn.subSubsections.push({id:nl(),title:`Sub-Subsection ${mn.subSubsections.length+1}`,content:"",images:[],links:[]}),J($t),z({sectionIndex:Ft,subsectionIndex:qt,subSubsectionIndex:mn.subSubsections.length-1})},Ee=(Ft,qt,$t,mn)=>{const sn=[...G];mn!==void 0?sn[Ft].subsections[$t].subSubsections[mn].images=[...sn[Ft].subsections[$t].subSubsections[mn].images,...qt]:$t!==void 0?sn[Ft].subsections[$t].images=[...sn[Ft].subsections[$t].images,...qt]:sn[Ft].images=[...sn[Ft].images,...qt],J(sn)},Ae=(Ft,qt,$t,mn)=>{const sn=[...G];mn!==void 0?sn[Ft].subsections[$t].subSubsections[mn].links=qt:$t!==void 0?sn[Ft].subsections[$t].links=qt:sn[Ft].links=qt,J(sn)},Ne=(Ft,qt,$t)=>{z({sectionIndex:typeof Ft=="number"?Ft:void 0,subsectionIndex:qt,subSubsectionIndex:$t,type:typeof Ft=="string"?Ft:void 0})},Ke=(Ft,qt)=>{const $t=[...G];$t[Ft].title=qt,J($t)},Xe=(Ft,qt,$t)=>{const mn=[...G];mn[Ft].subsections[qt].title=$t,J(mn)},ze=(Ft,qt,$t,mn)=>{const sn=[...G];sn[Ft].subsections[qt].subSubsections[$t].title=mn,J(sn)},dt=(Ft,qt,$t,mn)=>{const sn=[...G];mn!==void 0?sn[Ft].subsections[$t].subSubsections[mn].content=qt:$t!==void 0?sn[Ft].subsections[$t].content=qt:sn[Ft].content=qt,J(sn)},wt=Ft=>{M({...O,content:Ft})},ot=Ft=>{F({...j,content:Ft})},pt=Ft=>{const qt=G.filter(($t,mn)=>mn!==Ft);J(qt),qt.length===0?z({sectionIndex:void 0,type:"header"}):Ft>=qt.length?z({sectionIndex:qt.length-1}):z({sectionIndex:Ft})},He=(Ft,qt)=>{var mn;const $t=[...G];(mn=$t[Ft])!=null&&mn.subsections&&($t[Ft].subsections=$t[Ft].subsections.filter((sn,Kn)=>Kn!==qt),J($t),$t[Ft].subsections.length===0?z({sectionIndex:Ft}):qt>=$t[Ft].subsections.length?z({sectionIndex:Ft,subsectionIndex:$t[Ft].subsections.length-1}):z({sectionIndex:Ft,subsectionIndex:qt}))},at=(Ft,qt,$t)=>{var Kn,zr;const mn=[...G],sn=(zr=(Kn=mn[Ft])==null?void 0:Kn.subsections)==null?void 0:zr[qt];sn&&sn.subSubsections&&(sn.subSubsections=sn.subSubsections.filter((Yr,Di)=>Di!==$t),J(mn),sn.subSubsections.length?$t>=sn.subSubsections.length?z({sectionIndex:Ft,subsectionIndex:qt,subSubsectionIndex:sn.subSubsections.length-1}):z({sectionIndex:Ft,subsectionIndex:qt,subSubsectionIndex:$t}):z({sectionIndex:Ft,subsectionIndex:qt}))},kt=Ft=>{const{sectionIndex:qt,subsectionIndex:$t,subSubsectionIndex:mn,type:sn}=H;if(Ft==="prev")if(mn!==void 0&&mn>0)z({sectionIndex:qt,subsectionIndex:$t,subSubsectionIndex:mn-1});else if(mn!==void 0&&mn===0)z({sectionIndex:qt,subsectionIndex:$t});else if($t!==void 0&&$t>0)z({sectionIndex:qt,subsectionIndex:$t-1});else if($t!==void 0&&$t===0)z({sectionIndex:qt});else if(qt>0){const Kn=G[qt-1];z({sectionIndex:qt-1,subsectionIndex:Kn.subsections.length?Kn.subsections.length-1:void 0,subSubsectionIndex:Kn.subsections.length?Kn.subsections[Kn.subsections.length-1].subSubsections.length-1:void 0})}else sn==="footer"?z({sectionIndex:G.length-1,type:"footer"}):qt===void 0&&sn==="header"&&z({sectionIndex:G.length-1});else Ft==="next"&&(mn===void 0&&$t!==void 0&&G[qt].subsections[$t].subSubsections.length?z({sectionIndex:qt,subsectionIndex:$t,subSubsectionIndex:0}):mn!==void 0&&mn<G[qt].subsections[$t].subSubsections.length-1?z({sectionIndex:qt,subsectionIndex:$t,subSubsectionIndex:mn+1}):mn!==void 0&&mn===G[qt].subsections[$t].subSubsections.length-1&&$t<G[qt].subsections.length-1?z({sectionIndex:qt,subsectionIndex:$t+1}):$t===void 0&&G[qt].subsections.length?z({sectionIndex:qt,subsectionIndex:0}):$t!==void 0&&$t<G[qt].subsections.length-1?z({sectionIndex:qt,subsectionIndex:$t+1}):$t!==void 0&&$t===G[qt].subsections.length-1&&qt<G.length-1?z({sectionIndex:qt+1}):qt<G.length-1?z({sectionIndex:qt+1}):qt===G.length-1&&$t===void 0&&z({sectionIndex:void 0,type:"footer"}))},Gt=H.type==="header"||H.type==="footer"?"":H.sectionIndex!==void 0?H.subSubsectionIndex!==void 0?((Gn=G[H.sectionIndex].subsections[H.subsectionIndex].subSubsections[H.subSubsectionIndex])==null?void 0:Gn.content)||"":H.subsectionIndex!==void 0?((ei=G[H.sectionIndex].subsections[H.subsectionIndex])==null?void 0:ei.content)||"":((tr=G[H.sectionIndex])==null?void 0:tr.content)||"":"",yt=H.type==="header"||H.type==="footer"?"":H.sectionIndex!==void 0?H.subSubsectionIndex!==void 0?((wr=G[H.sectionIndex].subsections[H.subsectionIndex].subSubsections[H.subSubsectionIndex])==null?void 0:wr.title)||"":H.subsectionIndex!==void 0?((mr=G[H.sectionIndex].subsections[H.subsectionIndex])==null?void 0:mr.title)||"":((vr=G[H.sectionIndex])==null?void 0:vr.title)||"":"",jn=(Ft,qt,$t,mn)=>{const sn=[...G];mn!==void 0?sn[Ft].subsections[$t].subSubsections[mn].images=sn[Ft].subsections[$t].subSubsections[mn].images.filter(Kn=>Kn.url!==qt):$t!==void 0?sn[Ft].subsections[$t].images=sn[Ft].subsections[$t].images.filter(Kn=>Kn.url!==qt):sn[Ft].images=sn[Ft].images.filter(Kn=>Kn.url!==qt),J(sn)},on=(Ft,qt)=>{qt!==null&&Te(qt)},kr=async Ft=>{if(E(Ft.title),M(Ft.header),F(Ft.footer),J(Ft.sections),_(Ft.course),te(!0),a&&Ft.course)try{console.log(" Uploading original file for AI-imported material..."),await c(Ft.course),console.log(" Original file uploaded successfully")}catch(qt){console.error(" Failed to upload original file:",qt),X("Material imported successfully, but original file upload failed. You can still save the material."),U("warning"),Y(!0);return}Te("manual"),X("Material imported successfully! You can now edit and save it."),U("success"),Y(!0),z({sectionIndex:0})},xn=()=>{Te("manual")},In=async()=>{if(!C||!w||!(r!=null&&r.uid)){X("Cannot retry - missing material information"),U("error"),Y(!0);return}Ue(!0),Re(null),be({completed:0,total:1});try{X("Analyzing existing images and retrying failed uploads..."),U("info"),Y(!0);const Ft=600*1e3,qt=[];let $t=0;if(G.forEach((Yr,Di)=>{var ko,js;(ko=Yr.images)==null||ko.forEach((br,Kr)=>{(!br.url||br.url.startsWith("data:image/svg+xml"))&&(qt.push({sectionIndex:Di,imageIndex:Kr}),$t++)}),(js=Yr.subsections)==null||js.forEach((br,Kr)=>{var uu,cd;(uu=br.images)==null||uu.forEach((fa,du)=>{(!fa.url||fa.url.startsWith("data:image/svg+xml"))&&(qt.push({sectionIndex:Di,subsectionIndex:Kr,imageIndex:du}),$t++)}),(cd=br.subSubsections)==null||cd.forEach((fa,du)=>{var ts;(ts=fa.images)==null||ts.forEach((mc,ti)=>{(!mc.url||mc.url.startsWith("data:image/svg+xml"))&&(qt.push({sectionIndex:Di,subsectionIndex:Kr,subSubsectionIndex:du,imageIndex:ti}),$t++)})})})}),console.log(`Found ${$t} images that need uploading (out of total images)`),$t===0){X("All images are already uploaded successfully!"),U("success"),Y(!0),Re(null),be(null);return}X(`Retrying upload for ${$t} failed images...`);const mn=jE(w,r.uid,C,(Yr,Di)=>{be({completed:Yr,total:Di}),console.log(`Retry image upload progress: ${Yr}/${Di}`)}),sn=new Promise((Yr,Di)=>{setTimeout(()=>Di(new Error("Image upload timeout - taking too long")),Ft)}),Kn=await Promise.race([mn,sn]),zr=Wn(o,"materials",C);await gi(zr,{sections:Kn.sections}),J(Kn.sections),be(null),Re(null),X("Images uploaded successfully!"),U("success"),Y(!0)}catch(Ft){console.error("Retry image upload failed:",Ft);const qt=Ft instanceof Error?Ft.message:"Unknown error occurred";Re(qt),be(null),X(`Image upload retry failed: ${qt}`),U("error"),Y(!0)}finally{Ue(!1)}};return x.jsx(Be,{sx:{display:"flex",flexGrow:1,flexDirection:"column"},children:x.jsxs(Be,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[x.jsx(Be,{sx:{width:"450px",ml:2,mt:2},children:x.jsx(SL,{})}),x.jsxs(Ar,{elevation:2,sx:{mx:2,mt:2,p:2},children:[x.jsx(Pe,{variant:"h6",gutterBottom:!0,children:" Create Material"}),x.jsxs(R4,{value:ce,exclusive:!0,onChange:on,"aria-label":"import mode",fullWidth:!0,sx:{mb:2},children:[x.jsxs(uk,{value:"manual","aria-label":"manual creation",children:[x.jsx(wk,{sx:{mr:1}}),"Manual Creation"]}),x.jsxs(uk,{value:"ai","aria-label":"ai import",children:[x.jsx(KV,{sx:{mr:1}}),"AI Import"]})]}),ce==="ai"&&x.jsx(Pr,{severity:"info",sx:{mb:2},children:x.jsx(Pe,{variant:"body2",children:"Upload your presentation, document, or material and let AI automatically structure it into course content."})})]}),x.jsxs(x.Fragment,{children:[ce==="ai"?x.jsx(Be,{sx:{flexGrow:1,p:2},children:x.jsx(ae.Suspense,{fallback:x.jsxs(Be,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:200},children:[x.jsx(ji,{}),x.jsx(Pe,{variant:"body2",sx:{ml:2},children:"Loading AI Import..."})]}),children:x.jsx(fX,{courseId:w,authorId:(r==null?void 0:r.uid)||"",onMaterialReady:kr,onCancel:xn,onError:(Ft,qt)=>{console.error("Material Import Error:",Ft,qt),X(`Import error: ${Ft.message}`),U("error"),Y(!0)}})})}):x.jsxs(Be,{sx:{display:"flex",flexGrow:1},children:[x.jsx(_L,{sections:G,selected:H,onAddSection:oe,onAddSubsection:Le,onAddSubSubsection:we,onSelectSection:Ne,onUpdateSectionTitle:Ke,onUpdateSubsectionTitle:Xe,onUpdateSubSubsectionTitle:ze,onDeleteSection:pt,onDeleteSubsection:He,onDeleteSubSubsection:at}),x.jsxs(Be,{sx:{flexGrow:1,padding:3},children:[x.jsx(_n,{label:"Material Title",variant:"outlined",fullWidth:!0,value:D,onChange:Ft=>E(Ft.target.value),sx:{mb:2}}),x.jsx(DY,{value:w,onChange:_}),ue&&x.jsxs(Pe,{variant:"body1",gutterBottom:!0,children:["Scheduled Publish Date & Time: ",ue.toLocaleString()]}),x.jsxs(Be,{sx:{borderRadius:1,padding:2,mb:2},children:[x.jsx(Be,{sx:{mt:2,display:"flex",justifyContent:"center",alignItems:"center"},children:x.jsx(Pe,{variant:"h6",sx:{color:"gray",textAlign:"center"},children:"Header"})}),x.jsx(EN,{content:O.content,onChange:wt})]}),x.jsx(Pe,{variant:"h4",align:"center",gutterBottom:!0,children:yt}),H.type!=="header"&&H.type!=="footer"&&x.jsxs(x.Fragment,{children:[x.jsx(SY,{content:Gt,onChange:Ft=>dt(H.sectionIndex,Ft,H.subsectionIndex,H.subSubsectionIndex)},`${H.sectionIndex}-${H.subsectionIndex}-${H.subSubsectionIndex}`),x.jsx(KG,{sectionId:H.sectionIndex!==void 0?H.subSubsectionIndex!==void 0&&H.subsectionIndex!==void 0?((Xo=(ki=(Jo=(nr=(fn=G[H.sectionIndex])==null?void 0:fn.subsections)==null?void 0:nr[H.subsectionIndex])==null?void 0:Jo.subSubsections)==null?void 0:ki[H.subSubsectionIndex])==null?void 0:Xo.id)||"":H.subsectionIndex!==void 0?((xr=(hn=(es=G[H.sectionIndex])==null?void 0:es.subsections)==null?void 0:hn[H.subsectionIndex])==null?void 0:xr.id)||"":((rr=G[H.sectionIndex])==null?void 0:rr.id)||"":"",onImagesUploaded:Ft=>Ee(H.sectionIndex,Ft,H.subsectionIndex,H.subSubsectionIndex)}),(H.subSubsectionIndex!==void 0?((Tl=(di=($r=(Mr=(wi=G[H.sectionIndex])==null?void 0:wi.subsections)==null?void 0:Mr[H.subsectionIndex])==null?void 0:$r.subSubsections)==null?void 0:di[H.subSubsectionIndex])==null?void 0:Tl.images)||[]:H.subsectionIndex!==void 0?((bo=(ws=(ks=G[H.sectionIndex])==null?void 0:ks.subsections)==null?void 0:ws[H.subsectionIndex])==null?void 0:bo.images)||[]:((Ei=G[H.sectionIndex])==null?void 0:Ei.images)||[]).map((Ft,qt)=>x.jsxs(Be,{sx:{position:"relative",mt:2},children:[x.jsx(pX,{src:Ft.url,alt:`Section ${H.sectionIndex+1} Image ${qt+1}`,title:Ft.title}),x.jsx(QG,{imageTitle:Ft.title,onTitleChange:$t=>{var sn,Kn;const mn=[...G];if(H.sectionIndex!==void 0)if(H.subSubsectionIndex!==void 0&&H.subsectionIndex!==void 0){const zr=(Kn=(sn=mn[H.sectionIndex].subsections)==null?void 0:sn[H.subsectionIndex])==null?void 0:Kn.subSubsections;zr&&zr[H.subSubsectionIndex]&&(zr[H.subSubsectionIndex].images[qt].title=$t)}else if(H.subsectionIndex!==void 0){const zr=mn[H.sectionIndex].subsections;zr&&zr[H.subsectionIndex]&&(zr[H.subsectionIndex].images[qt].title=$t)}else mn[H.sectionIndex].images[qt].title=$t;J(mn)}}),x.jsx(ur,{sx:{position:"absolute",top:0,right:0,backgroundColor:"rgba(255, 255, 255, 0.7)"},onClick:()=>jn(H.sectionIndex,Ft.url,H.subsectionIndex,H.subSubsectionIndex),children:x.jsx(yk,{})})]},`${Ft.url}-${qt}`)),x.jsx(eY,{links:H.sectionIndex!==void 0?H.subSubsectionIndex!==void 0&&H.subsectionIndex!==void 0?((Ml=(cl=(Fr=(lo=(ao=G[H.sectionIndex])==null?void 0:ao.subsections)==null?void 0:lo[H.subsectionIndex])==null?void 0:Fr.subSubsections)==null?void 0:cl[H.subSubsectionIndex])==null?void 0:Ml.links)||[]:H.subsectionIndex!==void 0?((Nl=(vs=(Ki=G[H.sectionIndex])==null?void 0:Ki.subsections)==null?void 0:vs[H.subsectionIndex])==null?void 0:Nl.links)||[]:((cu=G[H.sectionIndex])==null?void 0:cu.links)||[]:[],onLinksChange:Ft=>Ae(H.sectionIndex,Ft,H.subsectionIndex,H.subSubsectionIndex)})]}),x.jsxs(Be,{sx:{borderRadius:1,padding:2,mt:2},children:[x.jsx(Be,{sx:{mt:2,display:"flex",justifyContent:"center",alignItems:"center"},children:x.jsx(Pe,{variant:"h6",sx:{color:"gray",textAlign:"center"},children:"Footer"})}),x.jsx(EN,{content:j.content,onChange:ot})]}),ke&&x.jsxs(Be,{sx:{mb:2,p:2,border:"1px solid #e0e0e0",borderRadius:1,bgcolor:"#f5f5f5"},children:[x.jsxs(Pe,{variant:"body2",gutterBottom:!0,children:[Oe?"Retrying image upload...":"Uploading images:"," ",ke.completed," / ",ke.total]}),x.jsx(Om,{variant:"determinate",value:ke.completed/ke.total*100,sx:{height:8,borderRadius:1}})]}),ve&&!ke&&x.jsxs(Be,{sx:{mb:2,p:2,border:"1px solid #f44336",borderRadius:1,bgcolor:"#ffebee"},children:[x.jsxs(Pe,{variant:"body2",color:"error",gutterBottom:!0,children:["Image upload failed: ",ve]}),x.jsx(xt,{variant:"contained",color:"primary",size:"small",onClick:In,disabled:Oe,startIcon:Oe?x.jsx(ji,{size:16}):x.jsx(QV,{}),sx:{mt:1},children:Oe?"Retrying...":"Retry Image Upload"})]}),x.jsxs(Be,{sx:{display:"flex",justifyContent:"space-between"},children:[x.jsx(Dl,{title:"Previous Section/Subsection (Left Arrow)",arrow:!0,children:x.jsx("span",{children:x.jsx(ur,{onClick:()=>kt("prev"),disabled:H.sectionIndex===0&&H.subsectionIndex===void 0&&H.type==="header",children:x.jsx(CL,{})})})}),x.jsx(Dl,{title:"Next Section/Subsection (Right Arrow)",arrow:!0,children:x.jsx("span",{children:x.jsx(ur,{onClick:()=>kt("next"),disabled:H.sectionIndex===G.length-1&&(H.subsectionIndex===void 0||H.subsectionIndex===G[H.sectionIndex].subsections.length-1)&&H.type==="footer",children:x.jsx(xL,{})})})})]}),x.jsxs(Be,{sx:{mt:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[x.jsx(xt,{type:"button",variant:"outlined",onClick:Ge,className:"supplemental-button cancel-button",children:"Cancel"}),x.jsxs(Be,{sx:{display:"flex",alignItems:"center"},children:[x.jsx(xt,{type:"submit",variant:"outlined",onClick:Ft=>Ze(Ft,!1),className:"supplemental-button save-button",children:"Save"}),q&&x.jsx(Pe,{variant:"body2",sx:{fontStyle:"italic",ml:1},children:"Changes Saved"})]}),x.jsx(xt,{type:"button",variant:"outlined",onClick:ft,className:"supplemental-button publish-button",children:"Publish"}),x.jsxs("div",{children:[ge&&x.jsx(hX,{value:ue,onChange:de}),x.jsx(xt,{type:"button",variant:"outlined",onClick:gt,className:"supplemental-button schedule-publish-button",children:"Schedule Publish"})]})]})]})]}),x.jsx(Il,{open:Z,autoHideDuration:6e3,onClose:()=>Y(!1),children:x.jsx(Pr,{onClose:()=>Y(!1),severity:K,sx:{width:"100%"},children:se})})]})]})})},mX=()=>{const{id:t}=V4(),i=Rr(),{userDetails:r}=go(),[o,a]=ae.useState(null),c=ae.useMemo(()=>r!=null&&r.classes?Object.entries(r.classes).filter(([p,m])=>m.isCourseAdmin).map(([p])=>p):[],[r==null?void 0:r.classes]);ae.useEffect(()=>{t&&(async()=>{var m;try{const k=Wn(i,"materials",t),w=await ll(k);if(w.exists()){const _={id:w.id,...w.data()};_.sections=((m=_.sections)==null?void 0:m.map(C=>{var v,D;return{...C,images:((v=C.images)==null?void 0:v.map(E=>({...E,title:E.title||""})))||[],subsections:((D=C.subsections)==null?void 0:D.map(E=>{var O,M;return{...E,images:((O=E.images)==null?void 0:O.map(j=>({...j,title:j.title||""})))||[],subSubsections:((M=E.subSubsections)==null?void 0:M.map(j=>{var F;return{...j,images:((F=j.images)==null?void 0:F.map(G=>({...G,title:G.title||""})))||[]}}))||[]}}))||[]}}))||[],_.course=c.includes(_.course)?_.course:c[0]||"",a(_)}}catch(k){console.error("Error fetching material:",k)}})()},[t,i,r,c]);const d=async p=>{try{if(t){const m=Wn(i,"materials",t);await gi(m,{...p})}}catch(m){console.error("Error updating material:",m)}};return o?x.jsx(wP,{materialData:o,onSubmit:d}):x.jsx(Be,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:x.jsx(ji,{})})},h8=hf(Be)(({theme:t})=>({marginBottom:t.spacing(4),textAlign:"center",position:"relative"})),gX=hf("img")(({theme:t})=>({maxWidth:"100%",maxHeight:"500px",marginBottom:t.spacing(1),borderRadius:t.spacing(1),boxShadow:"0 4px 12px rgba(0,0,0,0.1)",transition:"all 0.3s ease-in-out","&:hover":{transform:"scale(1.02)",boxShadow:"0 8px 24px rgba(0,0,0,0.15)"}})),bX=hf(Tj)(({theme:t})=>({borderRadius:t.spacing(1),marginBottom:t.spacing(1)})),kX=({src:t,alt:i,title:r})=>{const[o,a]=ae.useState(!1),[c,d]=ae.useState(!1),[p]=ae.useState(0);return ae.useEffect(()=>{a(!1),d(!1);const m=new Image;return m.src=t,m.onload=()=>{console.log(` SmartImage loaded: ${t.substring(0,50)}...`),a(!0)},m.onerror=k=>{console.error(` SmartImage failed to load: ${t}`,k),console.error("Image details:",{src:t,naturalWidth:m.naturalWidth,naturalHeight:m.naturalHeight,complete:m.complete}),console.error("Image load failed. URL accessible via curl but blocked in browser."),console.error("This is likely a Firebase Storage CORS configuration issue."),console.error(`Fix: Configure CORS to allow ${window.location.origin}`),d(!0)},()=>{m.onload=null,m.onerror=null}},[t,p]),c?x.jsxs(h8,{children:[x.jsxs(Be,{sx:{width:"100%",maxWidth:400,height:200,bgcolor:"#ffebee",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:1,border:"1px dashed #f44336",p:2},children:[x.jsx(Pe,{variant:"body2",color:"error",gutterBottom:!0,children:"Image failed to load"}),x.jsx(Pe,{variant:"caption",color:"text.secondary",sx:{textAlign:"center",wordBreak:"break-all"},children:r}),x.jsxs(Pe,{variant:"caption",color:"text.secondary",sx:{mt:1,fontSize:"0.7rem"},children:["URL: ",t.substring(0,60),"..."]})]}),x.jsx(Pe,{variant:"body2",sx:{fontStyle:"italic",mt:1},children:r})]}):x.jsxs(h8,{children:[!o&&x.jsx(bX,{variant:"rectangular",width:"100%",height:300,sx:{maxWidth:400}}),x.jsx(Dx,{in:o,timeout:500,children:x.jsx(Be,{sx:{display:o?"block":"none"},children:x.jsx(gX,{src:t,alt:i,loading:"lazy"})})}),o&&x.jsx(Dx,{in:o,timeout:700,children:x.jsx(Pe,{variant:"body2",sx:{fontStyle:"italic",color:"text.secondary"},children:r})})]})},F3=({images:t})=>x.jsx(Be,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mt:2},children:t.map((i,r)=>x.jsx(kX,{src:i.url,alt:`Image ${r+1}`,title:i.title,index:r},`${i.url}-${r}`))}),wX=t=>!t.startsWith("http://")&&!t.startsWith("https://")?`https://${t}`:t,vX=({links:t})=>t.length===0?null:x.jsxs(Be,{sx:{mt:2,width:"50%"},children:[x.jsx(Pe,{variant:"h6",sx:{fontWeight:"bold",mb:2},children:"Links"}),x.jsxs(Be,{sx:{display:"flex",mb:1,borderBottom:"1px solid gray"},children:[x.jsx(Pe,{sx:{flexBasis:"30%",fontWeight:"bold"},children:"Title"}),x.jsx(Pe,{sx:{flexBasis:"30%",fontWeight:"bold"},children:"URL"}),x.jsx(Pe,{sx:{flexBasis:"40%",fontWeight:"bold"},children:"Description"})]}),t.map((i,r)=>x.jsx(Be,{children:x.jsxs(Be,{sx:{display:"flex",alignItems:"center",mb:1,flexWrap:"wrap",borderBottom:"1px solid lightgray"},children:[x.jsx(Pe,{sx:{flexBasis:"30%",fontStyle:"italic",wordWrap:"break-word",paddingRight:"8px"},children:i.title}),x.jsx(Iy,{sx:{flexBasis:"30%",wordWrap:"break-word",paddingRight:"8px"},href:wX(i.url),target:"_blank",rel:"noopener",children:i.url}),x.jsx(Pe,{sx:{flexBasis:"40%",wordWrap:"break-word"},children:i.description})]})},r))]});var il=Uint8Array,nu=Uint16Array,lD=Int32Array,v5=new il([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),y5=new il([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),VE=new il([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),vP=function(t,i){for(var r=new nu(31),o=0;o<31;++o)r[o]=i+=1<<t[o-1];for(var a=new lD(r[30]),o=1;o<30;++o)for(var c=r[o];c<r[o+1];++c)a[c]=c-r[o]<<5|o;return{b:r,r:a}},yP=vP(v5,2),AP=yP.b,HE=yP.r;AP[28]=258,HE[258]=28;var _P=vP(y5,0),yX=_P.b,f8=_P.r,$E=new nu(32768);for(var io=0;io<32768;++io){var ym=(io&43690)>>1|(io&21845)<<1;ym=(ym&52428)>>2|(ym&13107)<<2,ym=(ym&61680)>>4|(ym&3855)<<4,$E[io]=((ym&65280)>>8|(ym&255)<<8)>>1}var nf=function(t,i,r){for(var o=t.length,a=0,c=new nu(i);a<o;++a)t[a]&&++c[t[a]-1];var d=new nu(i);for(a=1;a<i;++a)d[a]=d[a-1]+c[a-1]<<1;var p;if(r){p=new nu(1<<i);var m=15-i;for(a=0;a<o;++a)if(t[a])for(var k=a<<4|t[a],w=i-t[a],_=d[t[a]-1]++<<w,C=_|(1<<w)-1;_<=C;++_)p[$E[_]>>m]=k}else for(p=new nu(o),a=0;a<o;++a)t[a]&&(p[a]=$E[d[t[a]-1]++]>>15-t[a]);return p},zm=new il(288);for(var io=0;io<144;++io)zm[io]=8;for(var io=144;io<256;++io)zm[io]=9;for(var io=256;io<280;++io)zm[io]=7;for(var io=280;io<288;++io)zm[io]=8;var Py=new il(32);for(var io=0;io<32;++io)Py[io]=5;var AX=nf(zm,9,0),_X=nf(zm,9,1),CX=nf(Py,5,0),xX=nf(Py,5,1),z3=function(t){for(var i=t[0],r=1;r<t.length;++r)t[r]>i&&(i=t[r]);return i},$d=function(t,i,r){var o=i/8|0;return(t[o]|t[o+1]<<8)>>(i&7)&r},U3=function(t,i){var r=i/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(i&7)},cD=function(t){return(t+7)/8|0},CP=function(t,i,r){return(r==null||r>t.length)&&(r=t.length),new il(t.subarray(i,r))},SX=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Yd=function(t,i,r){var o=new Error(i||SX[t]);if(o.code=t,Error.captureStackTrace&&Error.captureStackTrace(o,Yd),!r)throw o;return o},EX=function(t,i,r,o){var a=t.length,c=0;if(!a||i.f&&!i.l)return r||new il(0);var d=!r,p=d||i.i!=2,m=i.i;d&&(r=new il(a*3));var k=function(Ge){var ft=r.length;if(Ge>ft){var gt=new il(Math.max(ft*2,Ge));gt.set(r),r=gt}},w=i.f||0,_=i.p||0,C=i.b||0,v=i.l,D=i.d,E=i.m,O=i.n,M=a*8;do{if(!v){w=$d(t,_,1);var j=$d(t,_+1,3);if(_+=3,j)if(j==1)v=_X,D=xX,E=9,O=5;else if(j==2){var H=$d(t,_,31)+257,z=$d(t,_+10,15)+4,Z=H+$d(t,_+5,31)+1;_+=14;for(var Y=new il(Z),se=new il(19),X=0;X<z;++X)se[VE[X]]=$d(t,_+X*3,7);_+=z*3;for(var K=z3(se),U=(1<<K)-1,q=nf(se,K,1),X=0;X<Z;){var fe=q[$d(t,_,U)];_+=fe&15;var F=fe>>4;if(F<16)Y[X++]=F;else{var ue=0,de=0;for(F==16?(de=3+$d(t,_,3),_+=2,ue=Y[X-1]):F==17?(de=3+$d(t,_,7),_+=3):F==18&&(de=11+$d(t,_,127),_+=7);de--;)Y[X++]=ue}}var ge=Y.subarray(0,H),Ie=Y.subarray(H);E=z3(ge),O=z3(Ie),v=nf(ge,E,1),D=nf(Ie,O,1)}else Yd(1);else{var F=cD(_)+4,G=t[F-4]|t[F-3]<<8,J=F+G;if(J>a){m&&Yd(0);break}p&&k(C+G),r.set(t.subarray(F,J),C),i.b=C+=G,i.p=_=J*8,i.f=w;continue}if(_>M){m&&Yd(0);break}}p&&k(C+131072);for(var ce=(1<<E)-1,Te=(1<<O)-1,re=_;;re=_){var ue=v[U3(t,_)&ce],te=ue>>4;if(_+=ue&15,_>M){m&&Yd(0);break}if(ue||Yd(2),te<256)r[C++]=te;else if(te==256){re=_,v=null;break}else{var ke=te-254;if(te>264){var X=te-257,be=v5[X];ke=$d(t,_,(1<<be)-1)+AP[X],_+=be}var ve=D[U3(t,_)&Te],Re=ve>>4;ve||Yd(3),_+=ve&15;var Ie=yX[Re];if(Re>3){var be=y5[Re];Ie+=U3(t,_)&(1<<be)-1,_+=be}if(_>M){m&&Yd(0);break}p&&k(C+131072);var Oe=C+ke;if(C<Ie){var Ue=c-Ie,Ze=Math.min(Ie,Oe);for(Ue+C<0&&Yd(3);C<Ze;++C)r[C]=o[Ue+C]}for(;C<Oe;++C)r[C]=r[C-Ie]}}i.l=v,i.p=re,i.b=C,i.f=w,v&&(w=1,i.m=E,i.d=D,i.n=O)}while(!w);return C!=r.length&&d?CP(r,0,C):r.subarray(0,C)},Zf=function(t,i,r){r<<=i&7;var o=i/8|0;t[o]|=r,t[o+1]|=r>>8},Hv=function(t,i,r){r<<=i&7;var o=i/8|0;t[o]|=r,t[o+1]|=r>>8,t[o+2]|=r>>16},q3=function(t,i){for(var r=[],o=0;o<t.length;++o)t[o]&&r.push({s:o,f:t[o]});var a=r.length,c=r.slice();if(!a)return{t:SP,l:0};if(a==1){var d=new il(r[0].s+1);return d[r[0].s]=1,{t:d,l:1}}r.sort(function(J,H){return J.f-H.f}),r.push({s:-1,f:25001});var p=r[0],m=r[1],k=0,w=1,_=2;for(r[0]={s:-1,f:p.f+m.f,l:p,r:m};w!=a-1;)p=r[r[k].f<r[_].f?k++:_++],m=r[k!=w&&r[k].f<r[_].f?k++:_++],r[w++]={s:-1,f:p.f+m.f,l:p,r:m};for(var C=c[0].s,o=1;o<a;++o)c[o].s>C&&(C=c[o].s);var v=new nu(C+1),D=WE(r[w-1],v,0);if(D>i){var o=0,E=0,O=D-i,M=1<<O;for(c.sort(function(H,z){return v[z.s]-v[H.s]||H.f-z.f});o<a;++o){var j=c[o].s;if(v[j]>i)E+=M-(1<<D-v[j]),v[j]=i;else break}for(E>>=O;E>0;){var F=c[o].s;v[F]<i?E-=1<<i-v[F]++-1:++o}for(;o>=0&&E;--o){var G=c[o].s;v[G]==i&&(--v[G],++E)}D=i}return{t:new il(v),l:D}},WE=function(t,i,r){return t.s==-1?Math.max(WE(t.l,i,r+1),WE(t.r,i,r+1)):i[t.s]=r},p8=function(t){for(var i=t.length;i&&!t[--i];);for(var r=new nu(++i),o=0,a=t[0],c=1,d=function(m){r[o++]=m},p=1;p<=i;++p)if(t[p]==a&&p!=i)++c;else{if(!a&&c>2){for(;c>138;c-=138)d(32754);c>2&&(d(c>10?c-11<<5|28690:c-3<<5|12305),c=0)}else if(c>3){for(d(a),--c;c>6;c-=6)d(8304);c>2&&(d(c-3<<5|8208),c=0)}for(;c--;)d(a);c=1,a=t[p]}return{c:r.subarray(0,o),n:i}},$v=function(t,i){for(var r=0,o=0;o<i.length;++o)r+=t[o]*i[o];return r},xP=function(t,i,r){var o=r.length,a=cD(i+2);t[a]=o&255,t[a+1]=o>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var c=0;c<o;++c)t[a+c+4]=r[c];return(a+4+o)*8},m8=function(t,i,r,o,a,c,d,p,m,k,w){Zf(i,w++,r),++a[256];for(var _=q3(a,15),C=_.t,v=_.l,D=q3(c,15),E=D.t,O=D.l,M=p8(C),j=M.c,F=M.n,G=p8(E),J=G.c,H=G.n,z=new nu(19),Z=0;Z<j.length;++Z)++z[j[Z]&31];for(var Z=0;Z<J.length;++Z)++z[J[Z]&31];for(var Y=q3(z,7),se=Y.t,X=Y.l,K=19;K>4&&!se[VE[K-1]];--K);var U=k+5<<3,q=$v(a,zm)+$v(c,Py)+d,fe=$v(a,C)+$v(c,E)+d+14+3*K+$v(z,se)+2*z[16]+3*z[17]+7*z[18];if(m>=0&&U<=q&&U<=fe)return xP(i,w,t.subarray(m,m+k));var ue,de,ge,Ie;if(Zf(i,w,1+(fe<q)),w+=2,fe<q){ue=nf(C,v,0),de=C,ge=nf(E,O,0),Ie=E;var ce=nf(se,X,0);Zf(i,w,F-257),Zf(i,w+5,H-1),Zf(i,w+10,K-4),w+=14;for(var Z=0;Z<K;++Z)Zf(i,w+3*Z,se[VE[Z]]);w+=3*K;for(var Te=[j,J],re=0;re<2;++re)for(var te=Te[re],Z=0;Z<te.length;++Z){var ke=te[Z]&31;Zf(i,w,ce[ke]),w+=se[ke],ke>15&&(Zf(i,w,te[Z]>>5&127),w+=te[Z]>>12)}}else ue=AX,de=zm,ge=CX,Ie=Py;for(var Z=0;Z<p;++Z){var be=o[Z];if(be>255){var ke=be>>18&31;Hv(i,w,ue[ke+257]),w+=de[ke+257],ke>7&&(Zf(i,w,be>>23&31),w+=v5[ke]);var ve=be&31;Hv(i,w,ge[ve]),w+=Ie[ve],ve>3&&(Hv(i,w,be>>5&8191),w+=y5[ve])}else Hv(i,w,ue[be]),w+=de[be]}return Hv(i,w,ue[256]),w+de[256]},DX=new lD([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),SP=new il(0),IX=function(t,i,r,o,a,c){var d=c.z||t.length,p=new il(o+d+5*(1+Math.ceil(d/7e3))+a),m=p.subarray(o,p.length-a),k=c.l,w=(c.r||0)&7;if(i){w&&(m[0]=c.r>>3);for(var _=DX[i-1],C=_>>13,v=_&8191,D=(1<<r)-1,E=c.p||new nu(32768),O=c.h||new nu(D+1),M=Math.ceil(r/3),j=2*M,F=function(oe){return(t[oe]^t[oe+1]<<M^t[oe+2]<<j)&D},G=new lD(25e3),J=new nu(288),H=new nu(32),z=0,Z=0,Y=c.i||0,se=0,X=c.w||0,K=0;Y+2<d;++Y){var U=F(Y),q=Y&32767,fe=O[U];if(E[q]=fe,O[U]=q,X<=Y){var ue=d-Y;if((z>7e3||se>24576)&&(ue>423||!k)){w=m8(t,m,0,G,J,H,Z,se,K,Y-K,w),se=z=Z=0,K=Y;for(var de=0;de<286;++de)J[de]=0;for(var de=0;de<30;++de)H[de]=0}var ge=2,Ie=0,ce=v,Te=q-fe&32767;if(ue>2&&U==F(Y-Te))for(var re=Math.min(C,ue)-1,te=Math.min(32767,Y),ke=Math.min(258,ue);Te<=te&&--ce&&q!=fe;){if(t[Y+ge]==t[Y+ge-Te]){for(var be=0;be<ke&&t[Y+be]==t[Y+be-Te];++be);if(be>ge){if(ge=be,Ie=Te,be>re)break;for(var ve=Math.min(Te,be-2),Re=0,de=0;de<ve;++de){var Oe=Y-Te+de&32767,Ue=E[Oe],Ze=Oe-Ue&32767;Ze>Re&&(Re=Ze,fe=Oe)}}}q=fe,fe=E[q],Te+=q-fe&32767}if(Ie){G[se++]=268435456|HE[ge]<<18|f8[Ie];var Ge=HE[ge]&31,ft=f8[Ie]&31;Z+=v5[Ge]+y5[ft],++J[257+Ge],++H[ft],X=Y+ge,++z}else G[se++]=t[Y],++J[t[Y]]}}for(Y=Math.max(Y,X);Y<d;++Y)G[se++]=t[Y],++J[t[Y]];w=m8(t,m,k,G,J,H,Z,se,K,Y-K,w),k||(c.r=w&7|m[w/8|0]<<3,w-=7,c.h=O,c.p=E,c.i=Y,c.w=X)}else{for(var Y=c.w||0;Y<d+k;Y+=65535){var gt=Y+65535;gt>=d&&(m[w/8|0]=k,gt=d),w=xP(m,w+1,t.subarray(Y,gt))}c.i=d}return CP(p,0,o+cD(w)+a)},EP=function(){var t=1,i=0;return{p:function(r){for(var o=t,a=i,c=r.length|0,d=0;d!=c;){for(var p=Math.min(d+2655,c);d<p;++d)a+=o+=r[d];o=(o&65535)+15*(o>>16),a=(a&65535)+15*(a>>16)}t=o,i=a},d:function(){return t%=65521,i%=65521,(t&255)<<24|(t&65280)<<8|(i&255)<<8|i>>8}}},TX=function(t,i,r,o,a){if(!a&&(a={l:1},i.dictionary)){var c=i.dictionary.subarray(-32768),d=new il(c.length+t.length);d.set(c),d.set(t,c.length),t=d,a.w=c.length}return IX(t,i.level==null?6:i.level,i.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+i.mem,r,o,a)},DP=function(t,i,r){for(;r;++i)t[i]=r,r>>>=8},MX=function(t,i){var r=i.level,o=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=o<<6|(i.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,i.dictionary){var a=EP();a.p(i.dictionary),DP(t,2,a.d())}},NX=function(t,i){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Yd(6,"invalid zlib data"),(t[1]>>5&1)==1&&Yd(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function GE(t,i){i||(i={});var r=EP();r.p(t);var o=TX(t,i,i.dictionary?6:2,4);return MX(o,i),DP(o,o.length-4,r.d()),o}function OX(t,i){return EX(t.subarray(NX(t),-4),{i:2},i,i)}var BX=typeof TextDecoder<"u"&&new TextDecoder,jX=0;try{BX.decode(SP,{stream:!0}),jX=1}catch{}var Un=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function V3(){Un.console&&typeof Un.console.log=="function"&&Un.console.log.apply(Un.console,arguments)}var Ui={log:V3,warn:function(t){Un.console&&(typeof Un.console.warn=="function"?Un.console.warn.apply(Un.console,arguments):V3.call(null,arguments))},error:function(t){Un.console&&(typeof Un.console.error=="function"?Un.console.error.apply(Un.console,arguments):V3(t))}};function H3(t,i,r){var o=new XMLHttpRequest;o.open("GET",t),o.responseType="blob",o.onload=function(){$g(o.response,i,r)},o.onerror=function(){Ui.error("could not download file")},o.send()}function g8(t){var i=new XMLHttpRequest;i.open("HEAD",t,!1);try{i.send()}catch{}return i.status>=200&&i.status<=299}function HC(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(i)}}var Cy,YE,$g=Un.saveAs||((typeof window>"u"?"undefined":qi(window))!=="object"||window!==Un?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,i,r){var o=Un.URL||Un.webkitURL,a=document.createElement("a");i=i||t.name||"download",a.download=i,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?g8(a.href)?H3(t,i,r):HC(a,a.target="_blank"):HC(a)):(a.href=o.createObjectURL(t),setTimeout(function(){o.revokeObjectURL(a.href)},4e4),setTimeout(function(){HC(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,i,r){if(i=i||t.name||"download",typeof t=="string")if(g8(t))H3(t,i,r);else{var o=document.createElement("a");o.href=t,o.target="_blank",setTimeout(function(){HC(o)})}else navigator.msSaveOrOpenBlob(function(a,c){return c===void 0?c={autoBom:!1}:qi(c)!=="object"&&(Ui.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(t,r),i)}:function(t,i,r,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),typeof t=="string")return H3(t,i,r);var a=t.type==="application/octet-stream",c=/constructor/i.test(Un.HTMLElement)||Un.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||a&&c)&&(typeof FileReader>"u"?"undefined":qi(FileReader))==="object"){var p=new FileReader;p.onloadend=function(){var w=p.result;w=d?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=w:location=w,o=null},p.readAsDataURL(t)}else{var m=Un.URL||Un.webkitURL,k=m.createObjectURL(t);o?o.location=k:location.href=k,o=null,setTimeout(function(){m.revokeObjectURL(k)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function IP(t){var i;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(p){return[parseInt(p[1]),parseInt(p[2]),parseInt(p[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(p){return[parseInt(p[1],16),parseInt(p[2],16),parseInt(p[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(p){return[parseInt(p[1]+p[1],16),parseInt(p[2]+p[2],16),parseInt(p[3]+p[3],16)]}}],o=0;o<r.length;o++){var a=r[o].re,c=r[o].process,d=a.exec(t);d&&(i=c(d),this.r=i[0],this.g=i[1],this.b=i[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var p=this.r.toString(16),m=this.g.toString(16),k=this.b.toString(16);return p.length==1&&(p="0"+p),m.length==1&&(m="0"+m),k.length==1&&(k="0"+k),"#"+p+m+k}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function $3(t,i){var r=t[0],o=t[1],a=t[2],c=t[3];r=Qa(r,o,a,c,i[0],7,-680876936),c=Qa(c,r,o,a,i[1],12,-389564586),a=Qa(a,c,r,o,i[2],17,606105819),o=Qa(o,a,c,r,i[3],22,-1044525330),r=Qa(r,o,a,c,i[4],7,-176418897),c=Qa(c,r,o,a,i[5],12,1200080426),a=Qa(a,c,r,o,i[6],17,-1473231341),o=Qa(o,a,c,r,i[7],22,-45705983),r=Qa(r,o,a,c,i[8],7,1770035416),c=Qa(c,r,o,a,i[9],12,-1958414417),a=Qa(a,c,r,o,i[10],17,-42063),o=Qa(o,a,c,r,i[11],22,-1990404162),r=Qa(r,o,a,c,i[12],7,1804603682),c=Qa(c,r,o,a,i[13],12,-40341101),a=Qa(a,c,r,o,i[14],17,-1502002290),r=Za(r,o=Qa(o,a,c,r,i[15],22,1236535329),a,c,i[1],5,-165796510),c=Za(c,r,o,a,i[6],9,-1069501632),a=Za(a,c,r,o,i[11],14,643717713),o=Za(o,a,c,r,i[0],20,-373897302),r=Za(r,o,a,c,i[5],5,-701558691),c=Za(c,r,o,a,i[10],9,38016083),a=Za(a,c,r,o,i[15],14,-660478335),o=Za(o,a,c,r,i[4],20,-405537848),r=Za(r,o,a,c,i[9],5,568446438),c=Za(c,r,o,a,i[14],9,-1019803690),a=Za(a,c,r,o,i[3],14,-187363961),o=Za(o,a,c,r,i[8],20,1163531501),r=Za(r,o,a,c,i[13],5,-1444681467),c=Za(c,r,o,a,i[2],9,-51403784),a=Za(a,c,r,o,i[7],14,1735328473),r=Ja(r,o=Za(o,a,c,r,i[12],20,-1926607734),a,c,i[5],4,-378558),c=Ja(c,r,o,a,i[8],11,-2022574463),a=Ja(a,c,r,o,i[11],16,1839030562),o=Ja(o,a,c,r,i[14],23,-35309556),r=Ja(r,o,a,c,i[1],4,-1530992060),c=Ja(c,r,o,a,i[4],11,1272893353),a=Ja(a,c,r,o,i[7],16,-155497632),o=Ja(o,a,c,r,i[10],23,-1094730640),r=Ja(r,o,a,c,i[13],4,681279174),c=Ja(c,r,o,a,i[0],11,-358537222),a=Ja(a,c,r,o,i[3],16,-722521979),o=Ja(o,a,c,r,i[6],23,76029189),r=Ja(r,o,a,c,i[9],4,-640364487),c=Ja(c,r,o,a,i[12],11,-421815835),a=Ja(a,c,r,o,i[15],16,530742520),r=Xa(r,o=Ja(o,a,c,r,i[2],23,-995338651),a,c,i[0],6,-198630844),c=Xa(c,r,o,a,i[7],10,1126891415),a=Xa(a,c,r,o,i[14],15,-1416354905),o=Xa(o,a,c,r,i[5],21,-57434055),r=Xa(r,o,a,c,i[12],6,1700485571),c=Xa(c,r,o,a,i[3],10,-1894986606),a=Xa(a,c,r,o,i[10],15,-1051523),o=Xa(o,a,c,r,i[1],21,-2054922799),r=Xa(r,o,a,c,i[8],6,1873313359),c=Xa(c,r,o,a,i[15],10,-30611744),a=Xa(a,c,r,o,i[6],15,-1560198380),o=Xa(o,a,c,r,i[13],21,1309151649),r=Xa(r,o,a,c,i[4],6,-145523070),c=Xa(c,r,o,a,i[11],10,-1120210379),a=Xa(a,c,r,o,i[2],15,718787259),o=Xa(o,a,c,r,i[9],21,-343485551),t[0]=Tm(r,t[0]),t[1]=Tm(o,t[1]),t[2]=Tm(a,t[2]),t[3]=Tm(c,t[3])}function A5(t,i,r,o,a,c){return i=Tm(Tm(i,t),Tm(o,c)),Tm(i<<a|i>>>32-a,r)}function Qa(t,i,r,o,a,c,d){return A5(i&r|~i&o,t,i,a,c,d)}function Za(t,i,r,o,a,c,d){return A5(i&o|r&~o,t,i,a,c,d)}function Ja(t,i,r,o,a,c,d){return A5(i^r^o,t,i,a,c,d)}function Xa(t,i,r,o,a,c,d){return A5(r^(i|~o),t,i,a,c,d)}function TP(t){var i,r=t.length,o=[1732584193,-271733879,-1732584194,271733878];for(i=64;i<=t.length;i+=64)$3(o,LX(t.substring(i-64,i)));t=t.substring(i-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<t.length;i++)a[i>>2]|=t.charCodeAt(i)<<(i%4<<3);if(a[i>>2]|=128<<(i%4<<3),i>55)for($3(o,a),i=0;i<16;i++)a[i]=0;return a[14]=8*r,$3(o,a),o}function LX(t){var i,r=[];for(i=0;i<64;i+=4)r[i>>2]=t.charCodeAt(i)+(t.charCodeAt(i+1)<<8)+(t.charCodeAt(i+2)<<16)+(t.charCodeAt(i+3)<<24);return r}Cy=Un.atob.bind(Un),YE=Un.btoa.bind(Un);var b8="0123456789abcdef".split("");function PX(t){for(var i="",r=0;r<4;r++)i+=b8[t>>8*r+4&15]+b8[t>>8*r&15];return i}function RX(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function KE(t){return TP(t).map(RX).join("")}var FX=function(t){for(var i=0;i<t.length;i++)t[i]=PX(t[i]);return t.join("")}(TP("hello"))!="5d41402abc4b2a76b9719d911017c592";function Tm(t,i){if(FX){var r=(65535&t)+(65535&i);return(t>>16)+(i>>16)+(r>>16)<<16|65535&r}return t+i&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function QE(t,i){var r,o,a,c;if(t!==r){for(var d=(a=t,c=1+(256/t.length>>0),new Array(c+1).join(a)),p=[],m=0;m<256;m++)p[m]=m;var k=0;for(m=0;m<256;m++){var w=p[m];k=(k+w+d.charCodeAt(m))%256,p[m]=p[k],p[k]=w}r=t,o=p}else p=o;var _=i.length,C=0,v=0,D="";for(m=0;m<_;m++)v=(v+(w=p[C=(C+1)%256]))%256,p[C]=p[v],p[v]=w,d=p[(p[C]+p[v])%256],D+=String.fromCharCode(i.charCodeAt(m)^d);return D}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var k8={print:4,modify:8,copy:16,"annot-forms":32};function K0(t,i,r,o){this.v=1,this.r=2;var a=192;t.forEach(function(p){if(k8.perm!==void 0)throw new Error("Invalid permission: "+p);a+=k8[p]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var c=(i+this.padding).substr(0,32),d=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(c,d),this.P=-(1+(255^a)),this.encryptionKey=KE(c+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(o)).substr(0,5),this.U=QE(this.encryptionKey,this.padding)}function Q0(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var i="",r=t.length,o=0;o<r;o++){var a=t.charCodeAt(o);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?i+="#"+("0"+a.toString(16)).slice(-2):i+=t[o]}return i}function w8(t){if(qi(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var i={};this.subscribe=function(r,o,a){if(a=a||!1,typeof r!="string"||typeof o!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");i.hasOwnProperty(r)||(i[r]={});var c=Math.random().toString(35);return i[r][c]=[o,!!a],c},this.unsubscribe=function(r){for(var o in i)if(i[o][r])return delete i[o][r],Object.keys(i[o]).length===0&&delete i[o],!0;return!1},this.publish=function(r){if(i.hasOwnProperty(r)){var o=Array.prototype.slice.call(arguments,1),a=[];for(var c in i[r]){var d=i[r][c];try{d[0].apply(t,o)}catch(p){Un.console&&Ui.error("jsPDF PubSub Error",p.message,p)}d[1]&&a.push(c)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return i}}function Gx(t){if(!(this instanceof Gx))return new Gx(t);var i="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&i.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function MP(t,i){this.gState=t,this.matrix=i,this.id="",this.objectNumber=-1}function Yg(t,i,r,o,a){if(!(this instanceof Yg))return new Yg(t,i,r,o,a);this.type=t==="axial"?2:3,this.coords=i,this.colors=r,MP.call(this,o,a)}function Z0(t,i,r,o,a){if(!(this instanceof Z0))return new Z0(t,i,r,o,a);this.boundingBox=t,this.xStep=i,this.yStep=r,this.stream="",this.cloneIndex=0,MP.call(this,o,a)}function Rn(t){var i,r=typeof arguments[0]=="string"?arguments[0]:"p",o=arguments[1],a=arguments[2],c=arguments[3],d=[],p=1,m=16,k="S",w=null;qi(t=t||{})==="object"&&(r=t.orientation,o=t.unit||o,a=t.format||a,c=t.compress||t.compressPdf||c,(w=t.encryption||null)!==null&&(w.userPassword=w.userPassword||"",w.ownerPassword=w.ownerPassword||"",w.userPermissions=w.userPermissions||[]),p=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(i=t.precision),t.floatPrecision!==void 0&&(m=t.floatPrecision),k=t.defaultPathOperation||"S"),d=t.filters||(c===!0?["FlateEncode"]:d),o=o||"mm",r=(""+(r||"P")).toLowerCase();var _=t.putOnlyUsedFonts||!1,C={},v={internal:{},__private__:{}};v.__private__.PubSub=w8;var D="1.3",E=v.__private__.getPdfVersion=function(){return D};v.__private__.setPdfVersion=function($){D=$};var O={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};v.__private__.getPageFormats=function(){return O};var M=v.__private__.getPageFormat=function($){return O[$]};a=a||"a4";var j={COMPAT:"compat",ADVANCED:"advanced"},F=j.COMPAT;function G(){this.saveGraphicsState(),we(new hn(yt,0,0,-yt,0,_c()*yt).toString()+" cm"),this.setFontSize(this.getFontSize()/yt),k="n",F=j.ADVANCED}function J(){this.restoreGraphicsState(),k="S",F=j.COMPAT}var H=v.__private__.combineFontStyleAndFontWeight=function($,me){if($=="bold"&&me=="normal"||$=="bold"&&me==400||$=="normal"&&me=="italic"||$=="bold"&&me=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return me&&($=me==400||me==="normal"?$==="italic"?"italic":"normal":me!=700&&me!=="bold"||$!=="normal"?(me==700?"bold":me)+""+$:"bold"),$};v.advancedAPI=function($){var me=F===j.COMPAT;return me&&G.call(this),typeof $!="function"||($(this),me&&J.call(this)),this},v.compatAPI=function($){var me=F===j.ADVANCED;return me&&J.call(this),typeof $!="function"||($(this),me&&G.call(this)),this},v.isAdvancedAPI=function(){return F===j.ADVANCED};var z,Z=function($){if(F!==j.ADVANCED)throw new Error($+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Y=v.roundToPrecision=v.__private__.roundToPrecision=function($,me){var Fe=i||me;if(isNaN($)||isNaN(Fe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return $.toFixed(Fe).replace(/0+$/,"")};z=v.hpf=v.__private__.hpf=typeof m=="number"?function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.hpf");return Y($,m)}:m==="smart"?function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.hpf");return Y($,$>-1&&$<1?16:5)}:function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.hpf");return Y($,16)};var se=v.f2=v.__private__.f2=function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.f2");return Y($,2)},X=v.__private__.f3=function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.f3");return Y($,3)},K=v.scale=v.__private__.scale=function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.scale");return F===j.COMPAT?$*yt:F===j.ADVANCED?$:void 0},U=function($){return F===j.COMPAT?_c()-$:F===j.ADVANCED?$:void 0},q=function($){return K(U($))};v.__private__.setPrecision=v.setPrecision=function($){typeof parseInt($,10)=="number"&&(i=parseInt($,10))};var fe,ue="00000000000000000000000000000000",de=v.__private__.getFileId=function(){return ue},ge=v.__private__.setFileId=function($){return ue=$!==void 0&&/^[a-fA-F0-9]{32}$/.test($)?$.toUpperCase():ue.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),w!==null&&(Qi=new K0(w.userPermissions,w.userPassword,w.ownerPassword,ue)),ue};v.setFileId=function($){return ge($),this},v.getFileId=function(){return de()};var Ie=v.__private__.convertDateToPDFDate=function($){var me=$.getTimezoneOffset(),Fe=me<0?"+":"-",$e=Math.floor(Math.abs(me/60)),it=Math.abs(me%60),_t=[Fe,ke($e),"'",ke(it),"'"].join("");return["D:",$.getFullYear(),ke($.getMonth()+1),ke($.getDate()),ke($.getHours()),ke($.getMinutes()),ke($.getSeconds()),_t].join("")},ce=v.__private__.convertPDFDateToDate=function($){var me=parseInt($.substr(2,4),10),Fe=parseInt($.substr(6,2),10)-1,$e=parseInt($.substr(8,2),10),it=parseInt($.substr(10,2),10),_t=parseInt($.substr(12,2),10),Wt=parseInt($.substr(14,2),10);return new Date(me,Fe,$e,it,_t,Wt,0)},Te=v.__private__.setCreationDate=function($){var me;if($===void 0&&($=new Date),$ instanceof Date)me=Ie($);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test($))throw new Error("Invalid argument passed to jsPDF.setCreationDate");me=$}return fe=me},re=v.__private__.getCreationDate=function($){var me=fe;return $==="jsDate"&&(me=ce(fe)),me};v.setCreationDate=function($){return Te($),this},v.getCreationDate=function($){return re($)};var te,ke=v.__private__.padd2=function($){return("0"+parseInt($)).slice(-2)},be=v.__private__.padd2Hex=function($){return("00"+($=$.toString())).substr($.length)},ve=0,Re=[],Oe=[],Ue=0,Ze=[],Ge=[],ft=!1,gt=Oe,oe=function(){ve=0,Ue=0,Oe=[],Re=[],Ze=[],ks=$r(),ws=$r()};v.__private__.setCustomOutputDestination=function($){ft=!0,gt=$};var Le=function($){ft||(gt=$)};v.__private__.resetCustomOutputDestination=function(){ft=!1,gt=Oe};var we=v.__private__.out=function($){return $=$.toString(),Ue+=$.length+1,gt.push($),gt},Ee=v.__private__.write=function($){return we(arguments.length===1?$.toString():Array.prototype.join.call(arguments," "))},Ae=v.__private__.getArrayBuffer=function($){for(var me=$.length,Fe=new ArrayBuffer(me),$e=new Uint8Array(Fe);me--;)$e[me]=$.charCodeAt(me);return Fe},Ne=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];v.__private__.getStandardFonts=function(){return Ne};var Ke=t.fontSize||16;v.__private__.setFontSize=v.setFontSize=function($){return Ke=F===j.ADVANCED?$/yt:$,this};var Xe,ze=v.__private__.getFontSize=v.getFontSize=function(){return F===j.COMPAT?Ke:Ke*yt},dt=t.R2L||!1;v.__private__.setR2L=v.setR2L=function($){return dt=$,this},v.__private__.getR2L=v.getR2L=function(){return dt};var wt,ot=v.__private__.setZoomMode=function($){var me=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test($))Xe=$;else if(isNaN($)){if(me.indexOf($)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+$+'" is not recognized.');Xe=$}else Xe=parseInt($,10)};v.__private__.getZoomMode=function(){return Xe};var pt,He=v.__private__.setPageMode=function($){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf($)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+$+'" is not recognized.');wt=$};v.__private__.getPageMode=function(){return wt};var at=v.__private__.setLayoutMode=function($){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf($)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+$+'" is not recognized.');pt=$};v.__private__.getLayoutMode=function(){return pt},v.__private__.setDisplayMode=v.setDisplayMode=function($,me,Fe){return ot($),at(me),He(Fe),this};var kt={title:"",subject:"",author:"",keywords:"",creator:""};v.__private__.getDocumentProperty=function($){if(Object.keys(kt).indexOf($)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return kt[$]},v.__private__.getDocumentProperties=function(){return kt},v.__private__.setDocumentProperties=v.setProperties=v.setDocumentProperties=function($){for(var me in kt)kt.hasOwnProperty(me)&&$[me]&&(kt[me]=$[me]);return this},v.__private__.setDocumentProperty=function($,me){if(Object.keys(kt).indexOf($)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return kt[$]=me};var Gt,yt,jn,on,kr,xn={},In={},Fn=[],Gn={},ei={},tr={},wr={},mr=null,vr=0,fn=[],nr=new w8(v),Jo=t.hotfixes||[],ki={},Xo={},es=[],hn=function $(me,Fe,$e,it,_t,Wt){if(!(this instanceof $))return new $(me,Fe,$e,it,_t,Wt);isNaN(me)&&(me=1),isNaN(Fe)&&(Fe=0),isNaN($e)&&($e=0),isNaN(it)&&(it=1),isNaN(_t)&&(_t=0),isNaN(Wt)&&(Wt=0),this._matrix=[me,Fe,$e,it,_t,Wt]};Object.defineProperty(hn.prototype,"sx",{get:function(){return this._matrix[0]},set:function($){this._matrix[0]=$}}),Object.defineProperty(hn.prototype,"shy",{get:function(){return this._matrix[1]},set:function($){this._matrix[1]=$}}),Object.defineProperty(hn.prototype,"shx",{get:function(){return this._matrix[2]},set:function($){this._matrix[2]=$}}),Object.defineProperty(hn.prototype,"sy",{get:function(){return this._matrix[3]},set:function($){this._matrix[3]=$}}),Object.defineProperty(hn.prototype,"tx",{get:function(){return this._matrix[4]},set:function($){this._matrix[4]=$}}),Object.defineProperty(hn.prototype,"ty",{get:function(){return this._matrix[5]},set:function($){this._matrix[5]=$}}),Object.defineProperty(hn.prototype,"a",{get:function(){return this._matrix[0]},set:function($){this._matrix[0]=$}}),Object.defineProperty(hn.prototype,"b",{get:function(){return this._matrix[1]},set:function($){this._matrix[1]=$}}),Object.defineProperty(hn.prototype,"c",{get:function(){return this._matrix[2]},set:function($){this._matrix[2]=$}}),Object.defineProperty(hn.prototype,"d",{get:function(){return this._matrix[3]},set:function($){this._matrix[3]=$}}),Object.defineProperty(hn.prototype,"e",{get:function(){return this._matrix[4]},set:function($){this._matrix[4]=$}}),Object.defineProperty(hn.prototype,"f",{get:function(){return this._matrix[5]},set:function($){this._matrix[5]=$}}),Object.defineProperty(hn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(hn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(hn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(hn.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),hn.prototype.join=function($){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(z).join($)},hn.prototype.multiply=function($){var me=$.sx*this.sx+$.shy*this.shx,Fe=$.sx*this.shy+$.shy*this.sy,$e=$.shx*this.sx+$.sy*this.shx,it=$.shx*this.shy+$.sy*this.sy,_t=$.tx*this.sx+$.ty*this.shx+this.tx,Wt=$.tx*this.shy+$.ty*this.sy+this.ty;return new hn(me,Fe,$e,it,_t,Wt)},hn.prototype.decompose=function(){var $=this.sx,me=this.shy,Fe=this.shx,$e=this.sy,it=this.tx,_t=this.ty,Wt=Math.sqrt($*$+me*me),tn=($/=Wt)*Fe+(me/=Wt)*$e;Fe-=$*tn,$e-=me*tn;var gn=Math.sqrt(Fe*Fe+$e*$e);return tn/=gn,$*($e/=gn)<me*(Fe/=gn)&&($=-$,me=-me,tn=-tn,Wt=-Wt),{scale:new hn(Wt,0,0,gn,0,0),translate:new hn(1,0,0,1,it,_t),rotate:new hn($,me,-me,$,0,0),skew:new hn(1,0,tn,1,0,0)}},hn.prototype.toString=function($){return this.join(" ")},hn.prototype.inversed=function(){var $=this.sx,me=this.shy,Fe=this.shx,$e=this.sy,it=this.tx,_t=this.ty,Wt=1/($*$e-me*Fe),tn=$e*Wt,gn=-me*Wt,Vn=-Fe*Wt,Ln=$*Wt;return new hn(tn,gn,Vn,Ln,-tn*it-Vn*_t,-gn*it-Ln*_t)},hn.prototype.applyToPoint=function($){var me=$.x*this.sx+$.y*this.shx+this.tx,Fe=$.x*this.shy+$.y*this.sy+this.ty;return new ch(me,Fe)},hn.prototype.applyToRectangle=function($){var me=this.applyToPoint($),Fe=this.applyToPoint(new ch($.x+$.w,$.y+$.h));return new yf(me.x,me.y,Fe.x-me.x,Fe.y-me.y)},hn.prototype.clone=function(){var $=this.sx,me=this.shy,Fe=this.shx,$e=this.sy,it=this.tx,_t=this.ty;return new hn($,me,Fe,$e,it,_t)},v.Matrix=hn;var xr=v.matrixMult=function($,me){return me.multiply($)},rr=new hn(1,0,0,1,0,0);v.unitMatrix=v.identityMatrix=rr;var wi=function($,me){if(!ei[$]){var Fe=(me instanceof Yg?"Sh":"P")+(Object.keys(Gn).length+1).toString(10);me.id=Fe,ei[$]=Fe,Gn[Fe]=me,nr.publish("addPattern",me)}};v.ShadingPattern=Yg,v.TilingPattern=Z0,v.addShadingPattern=function($,me){return Z("addShadingPattern()"),wi($,me),this},v.beginTilingPattern=function($){Z("beginTilingPattern()"),fl($.boundingBox[0],$.boundingBox[1],$.boundingBox[2]-$.boundingBox[0],$.boundingBox[3]-$.boundingBox[1],$.matrix)},v.endTilingPattern=function($,me){Z("endTilingPattern()"),me.stream=Ge[te].join(`
`),wi($,me),nr.publish("endTilingPattern",me),es.pop().restore()};var Mr=v.__private__.newObject=function(){var $=$r();return di($,!0),$},$r=v.__private__.newObjectDeferred=function(){return ve++,Re[ve]=function(){return Ue},ve},di=function($,me){return me=typeof me=="boolean"&&me,Re[$]=Ue,me&&we($+" 0 obj"),$},Tl=v.__private__.newAdditionalObject=function(){var $={objId:$r(),content:""};return Ze.push($),$},ks=$r(),ws=$r(),bo=v.__private__.decodeColorString=function($){var me=$.split(" ");if(me.length!==2||me[1]!=="g"&&me[1]!=="G")me.length===5&&(me[4]==="k"||me[4]==="K")&&(me=[(1-me[0])*(1-me[3]),(1-me[1])*(1-me[3]),(1-me[2])*(1-me[3]),"r"]);else{var Fe=parseFloat(me[0]);me=[Fe,Fe,Fe,"r"]}for(var $e="#",it=0;it<3;it++)$e+=("0"+Math.floor(255*parseFloat(me[it])).toString(16)).slice(-2);return $e},Ei=v.__private__.encodeColorString=function($){var me;typeof $=="string"&&($={ch1:$});var Fe=$.ch1,$e=$.ch2,it=$.ch3,_t=$.ch4,Wt=$.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Fe=="string"&&Fe.charAt(0)!=="#"){var tn=new IP(Fe);if(tn.ok)Fe=tn.toHex();else if(!/^\d*\.?\d*$/.test(Fe))throw new Error('Invalid color "'+Fe+'" passed to jsPDF.encodeColorString.')}if(typeof Fe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Fe)&&(Fe="#"+Fe[1]+Fe[1]+Fe[2]+Fe[2]+Fe[3]+Fe[3]),typeof Fe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Fe)){var gn=parseInt(Fe.substr(1),16);Fe=gn>>16&255,$e=gn>>8&255,it=255&gn}if($e===void 0||_t===void 0&&Fe===$e&&$e===it)if(typeof Fe=="string")me=Fe+" "+Wt[0];else switch($.precision){case 2:me=se(Fe/255)+" "+Wt[0];break;case 3:default:me=X(Fe/255)+" "+Wt[0]}else if(_t===void 0||qi(_t)==="object"){if(_t&&!isNaN(_t.a)&&_t.a===0)return me=["1.","1.","1.",Wt[1]].join(" ");if(typeof Fe=="string")me=[Fe,$e,it,Wt[1]].join(" ");else switch($.precision){case 2:me=[se(Fe/255),se($e/255),se(it/255),Wt[1]].join(" ");break;default:case 3:me=[X(Fe/255),X($e/255),X(it/255),Wt[1]].join(" ")}}else if(typeof Fe=="string")me=[Fe,$e,it,_t,Wt[2]].join(" ");else switch($.precision){case 2:me=[se(Fe),se($e),se(it),se(_t),Wt[2]].join(" ");break;case 3:default:me=[X(Fe),X($e),X(it),X(_t),Wt[2]].join(" ")}return me},ao=v.__private__.getFilters=function(){return d},lo=v.__private__.putStream=function($){var me=($=$||{}).data||"",Fe=$.filters||ao(),$e=$.alreadyAppliedFilters||[],it=$.addLength1||!1,_t=me.length,Wt=$.objectId,tn=function(Pi){return Pi};if(w!==null&&Wt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");w!==null&&(tn=Qi.encryptor(Wt,0));var gn={};Fe===!0&&(Fe=["FlateEncode"]);var Vn=$.additionalKeyValues||[],Ln=(gn=Rn.API.processDataByFilters!==void 0?Rn.API.processDataByFilters(me,Fe):{data:me,reverseChain:[]}).reverseChain+(Array.isArray($e)?$e.join(" "):$e.toString());if(gn.data.length!==0&&(Vn.push({key:"Length",value:gn.data.length}),it===!0&&Vn.push({key:"Length1",value:_t})),Ln.length!=0)if(Ln.split("/").length-1==1)Vn.push({key:"Filter",value:Ln});else{Vn.push({key:"Filter",value:"["+Ln+"]"});for(var hr=0;hr<Vn.length;hr+=1)if(Vn[hr].key==="DecodeParms"){for(var Ii=[],vi=0;vi<gn.reverseChain.split("/").length-1;vi+=1)Ii.push("null");Ii.push(Vn[hr].value),Vn[hr].value="["+Ii.join(" ")+"]"}}we("<<");for(var Li=0;Li<Vn.length;Li++)we("/"+Vn[Li].key+" "+Vn[Li].value);we(">>"),gn.data.length!==0&&(we("stream"),we(tn(gn.data)),we("endstream"))},Fr=v.__private__.putPage=function($){var me=$.number,Fe=$.data,$e=$.objId,it=$.contentsObjId;di($e,!0),we("<</Type /Page"),we("/Parent "+$.rootDictionaryObjId+" 0 R"),we("/Resources "+$.resourceDictionaryObjId+" 0 R"),we("/MediaBox ["+parseFloat(z($.mediaBox.bottomLeftX))+" "+parseFloat(z($.mediaBox.bottomLeftY))+" "+z($.mediaBox.topRightX)+" "+z($.mediaBox.topRightY)+"]"),$.cropBox!==null&&we("/CropBox ["+z($.cropBox.bottomLeftX)+" "+z($.cropBox.bottomLeftY)+" "+z($.cropBox.topRightX)+" "+z($.cropBox.topRightY)+"]"),$.bleedBox!==null&&we("/BleedBox ["+z($.bleedBox.bottomLeftX)+" "+z($.bleedBox.bottomLeftY)+" "+z($.bleedBox.topRightX)+" "+z($.bleedBox.topRightY)+"]"),$.trimBox!==null&&we("/TrimBox ["+z($.trimBox.bottomLeftX)+" "+z($.trimBox.bottomLeftY)+" "+z($.trimBox.topRightX)+" "+z($.trimBox.topRightY)+"]"),$.artBox!==null&&we("/ArtBox ["+z($.artBox.bottomLeftX)+" "+z($.artBox.bottomLeftY)+" "+z($.artBox.topRightX)+" "+z($.artBox.topRightY)+"]"),typeof $.userUnit=="number"&&$.userUnit!==1&&we("/UserUnit "+$.userUnit),nr.publish("putPage",{objId:$e,pageContext:fn[me],pageNumber:me,page:Fe}),we("/Contents "+it+" 0 R"),we(">>"),we("endobj");var _t=Fe.join(`
`);return F===j.ADVANCED&&(_t+=`
Q`),di(it,!0),lo({data:_t,filters:ao(),objectId:it}),we("endobj"),$e},cl=v.__private__.putPages=function(){var $,me,Fe=[];for($=1;$<=vr;$++)fn[$].objId=$r(),fn[$].contentsObjId=$r();for($=1;$<=vr;$++)Fe.push(Fr({number:$,data:Ge[$],objId:fn[$].objId,contentsObjId:fn[$].contentsObjId,mediaBox:fn[$].mediaBox,cropBox:fn[$].cropBox,bleedBox:fn[$].bleedBox,trimBox:fn[$].trimBox,artBox:fn[$].artBox,userUnit:fn[$].userUnit,rootDictionaryObjId:ks,resourceDictionaryObjId:ws}));di(ks,!0),we("<</Type /Pages");var $e="/Kids [";for(me=0;me<vr;me++)$e+=Fe[me]+" 0 R ";we($e+"]"),we("/Count "+vr),we(">>"),we("endobj"),nr.publish("postPutPages")},Ml=function($){nr.publish("putFont",{font:$,out:we,newObject:Mr,putStream:lo}),$.isAlreadyPutted!==!0&&($.objectNumber=Mr(),we("<<"),we("/Type /Font"),we("/BaseFont /"+Q0($.postScriptName)),we("/Subtype /Type1"),typeof $.encoding=="string"&&we("/Encoding /"+$.encoding),we("/FirstChar 32"),we("/LastChar 255"),we(">>"),we("endobj"))},Ki=function(){for(var $ in xn)xn.hasOwnProperty($)&&(_===!1||_===!0&&C.hasOwnProperty($))&&Ml(xn[$])},vs=function($){$.objectNumber=Mr();var me=[];me.push({key:"Type",value:"/XObject"}),me.push({key:"Subtype",value:"/Form"}),me.push({key:"BBox",value:"["+[z($.x),z($.y),z($.x+$.width),z($.y+$.height)].join(" ")+"]"}),me.push({key:"Matrix",value:"["+$.matrix.toString()+"]"});var Fe=$.pages[1].join(`
`);lo({data:Fe,additionalKeyValues:me,objectId:$.objectNumber}),we("endobj")},Nl=function(){for(var $ in ki)ki.hasOwnProperty($)&&vs(ki[$])},cu=function($,me){var Fe,$e=[],it=1/(me-1);for(Fe=0;Fe<1;Fe+=it)$e.push(Fe);if($e.push(1),$[0].offset!=0){var _t={offset:0,color:$[0].color};$.unshift(_t)}if($[$.length-1].offset!=1){var Wt={offset:1,color:$[$.length-1].color};$.push(Wt)}for(var tn="",gn=0,Vn=0;Vn<$e.length;Vn++){for(Fe=$e[Vn];Fe>$[gn+1].offset;)gn++;var Ln=$[gn].offset,hr=(Fe-Ln)/($[gn+1].offset-Ln),Ii=$[gn].color,vi=$[gn+1].color;tn+=be(Math.round((1-hr)*Ii[0]+hr*vi[0]).toString(16))+be(Math.round((1-hr)*Ii[1]+hr*vi[1]).toString(16))+be(Math.round((1-hr)*Ii[2]+hr*vi[2]).toString(16))}return tn.trim()},Ft=function($,me){me||(me=21);var Fe=Mr(),$e=cu($.colors,me),it=[];it.push({key:"FunctionType",value:"0"}),it.push({key:"Domain",value:"[0.0 1.0]"}),it.push({key:"Size",value:"["+me+"]"}),it.push({key:"BitsPerSample",value:"8"}),it.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),it.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),lo({data:$e,additionalKeyValues:it,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Fe}),we("endobj"),$.objectNumber=Mr(),we("<< /ShadingType "+$.type),we("/ColorSpace /DeviceRGB");var _t="/Coords ["+z(parseFloat($.coords[0]))+" "+z(parseFloat($.coords[1]))+" ";$.type===2?_t+=z(parseFloat($.coords[2]))+" "+z(parseFloat($.coords[3])):_t+=z(parseFloat($.coords[2]))+" "+z(parseFloat($.coords[3]))+" "+z(parseFloat($.coords[4]))+" "+z(parseFloat($.coords[5])),we(_t+="]"),$.matrix&&we("/Matrix ["+$.matrix.toString()+"]"),we("/Function "+Fe+" 0 R"),we("/Extend [true true]"),we(">>"),we("endobj")},qt=function($,me){var Fe=$r(),$e=Mr();me.push({resourcesOid:Fe,objectOid:$e}),$.objectNumber=$e;var it=[];it.push({key:"Type",value:"/Pattern"}),it.push({key:"PatternType",value:"1"}),it.push({key:"PaintType",value:"1"}),it.push({key:"TilingType",value:"1"}),it.push({key:"BBox",value:"["+$.boundingBox.map(z).join(" ")+"]"}),it.push({key:"XStep",value:z($.xStep)}),it.push({key:"YStep",value:z($.yStep)}),it.push({key:"Resources",value:Fe+" 0 R"}),$.matrix&&it.push({key:"Matrix",value:"["+$.matrix.toString()+"]"}),lo({data:$.stream,additionalKeyValues:it,objectId:$.objectNumber}),we("endobj")},$t=function($){var me;for(me in Gn)Gn.hasOwnProperty(me)&&(Gn[me]instanceof Yg?Ft(Gn[me]):Gn[me]instanceof Z0&&qt(Gn[me],$))},mn=function($){for(var me in $.objectNumber=Mr(),we("<<"),$)switch(me){case"opacity":we("/ca "+se($[me]));break;case"stroke-opacity":we("/CA "+se($[me]))}we(">>"),we("endobj")},sn=function(){var $;for($ in tr)tr.hasOwnProperty($)&&mn(tr[$])},Kn=function(){for(var $ in we("/XObject <<"),ki)ki.hasOwnProperty($)&&ki[$].objectNumber>=0&&we("/"+$+" "+ki[$].objectNumber+" 0 R");nr.publish("putXobjectDict"),we(">>")},zr=function(){Qi.oid=Mr(),we("<<"),we("/Filter /Standard"),we("/V "+Qi.v),we("/R "+Qi.r),we("/U <"+Qi.toHexString(Qi.U)+">"),we("/O <"+Qi.toHexString(Qi.O)+">"),we("/P "+Qi.P),we(">>"),we("endobj")},Yr=function(){for(var $ in we("/Font <<"),xn)xn.hasOwnProperty($)&&(_===!1||_===!0&&C.hasOwnProperty($))&&we("/"+$+" "+xn[$].objectNumber+" 0 R");we(">>")},Di=function(){if(Object.keys(Gn).length>0){for(var $ in we("/Shading <<"),Gn)Gn.hasOwnProperty($)&&Gn[$]instanceof Yg&&Gn[$].objectNumber>=0&&we("/"+$+" "+Gn[$].objectNumber+" 0 R");nr.publish("putShadingPatternDict"),we(">>")}},ko=function($){if(Object.keys(Gn).length>0){for(var me in we("/Pattern <<"),Gn)Gn.hasOwnProperty(me)&&Gn[me]instanceof v.TilingPattern&&Gn[me].objectNumber>=0&&Gn[me].objectNumber<$&&we("/"+me+" "+Gn[me].objectNumber+" 0 R");nr.publish("putTilingPatternDict"),we(">>")}},js=function(){if(Object.keys(tr).length>0){var $;for($ in we("/ExtGState <<"),tr)tr.hasOwnProperty($)&&tr[$].objectNumber>=0&&we("/"+$+" "+tr[$].objectNumber+" 0 R");nr.publish("putGStateDict"),we(">>")}},br=function($){di($.resourcesOid,!0),we("<<"),we("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Yr(),Di(),ko($.objectOid),js(),Kn(),we(">>"),we("endobj")},Kr=function(){var $=[];Ki(),sn(),Nl(),$t($),nr.publish("putResources"),$.forEach(br),br({resourcesOid:ws,objectOid:Number.MAX_SAFE_INTEGER}),nr.publish("postPutResources")},uu=function(){nr.publish("putAdditionalObjects");for(var $=0;$<Ze.length;$++){var me=Ze[$];di(me.objId,!0),we(me.content),we("endobj")}nr.publish("postPutAdditionalObjects")},cd=function($){In[$.fontName]=In[$.fontName]||{},In[$.fontName][$.fontStyle]=$.id},fa=function($,me,Fe,$e,it){var _t={id:"F"+(Object.keys(xn).length+1).toString(10),postScriptName:$,fontName:me,fontStyle:Fe,encoding:$e,isStandardFont:it||!1,metadata:{}};return nr.publish("addFont",{font:_t,instance:this}),xn[_t.id]=_t,cd(_t),_t.id},du=function($){for(var me=0,Fe=Ne.length;me<Fe;me++){var $e=fa.call(this,$[me][0],$[me][1],$[me][2],Ne[me][3],!0);_===!1&&(C[$e]=!0);var it=$[me][0].split("-");cd({id:$e,fontName:it[0],fontStyle:it[1]||""})}nr.publish("addFonts",{fonts:xn,dictionary:In})},ts=function($){return $.foo=function(){try{return $.apply(this,arguments)}catch($e){var me=$e.stack||"";~me.indexOf(" at ")&&(me=me.split(" at ")[1]);var Fe="Error in function "+me.split(`
`)[0].split("<")[0]+": "+$e.message;if(!Un.console)throw new Error(Fe);Un.console.error(Fe,$e),Un.alert&&alert(Fe)}},$.foo.bar=$,$.foo},mc=function($,me){var Fe,$e,it,_t,Wt,tn,gn,Vn,Ln;if(it=(me=me||{}).sourceEncoding||"Unicode",Wt=me.outputEncoding,(me.autoencode||Wt)&&xn[Gt].metadata&&xn[Gt].metadata[it]&&xn[Gt].metadata[it].encoding&&(_t=xn[Gt].metadata[it].encoding,!Wt&&xn[Gt].encoding&&(Wt=xn[Gt].encoding),!Wt&&_t.codePages&&(Wt=_t.codePages[0]),typeof Wt=="string"&&(Wt=_t[Wt]),Wt)){for(gn=!1,tn=[],Fe=0,$e=$.length;Fe<$e;Fe++)(Vn=Wt[$.charCodeAt(Fe)])?tn.push(String.fromCharCode(Vn)):tn.push($[Fe]),tn[Fe].charCodeAt(0)>>8&&(gn=!0);$=tn.join("")}for(Fe=$.length;gn===void 0&&Fe!==0;)$.charCodeAt(Fe-1)>>8&&(gn=!0),Fe--;if(!gn)return $;for(tn=me.noBOM?[]:[254,255],Fe=0,$e=$.length;Fe<$e;Fe++){if((Ln=(Vn=$.charCodeAt(Fe))>>8)>>8)throw new Error("Character at position "+Fe+" of string '"+$+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");tn.push(Ln),tn.push(Vn-(Ln<<8))}return String.fromCharCode.apply(void 0,tn)},ti=v.__private__.pdfEscape=v.pdfEscape=function($,me){return mc($,me).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ia=v.__private__.beginPage=function($){Ge[++vr]=[],fn[vr]={objId:0,contentsObjId:0,userUnit:Number(p),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number($[0]),topRightY:Number($[1])}},gc(vr),Le(Ge[te])},ih=function($,me){var Fe,$e,it;switch(r=me||r,typeof $=="string"&&(Fe=M($.toLowerCase()),Array.isArray(Fe)&&($e=Fe[0],it=Fe[1])),Array.isArray($)&&($e=$[0]*yt,it=$[1]*yt),isNaN($e)&&($e=a[0],it=a[1]),($e>14400||it>14400)&&(Ui.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),$e=Math.min(14400,$e),it=Math.min(14400,it)),a=[$e,it],r.substr(0,1)){case"l":it>$e&&(a=[it,$e]);break;case"p":$e>it&&(a=[it,$e])}Ia(a),ah(Sr),we(Ta),mu!==0&&we(mu+" J"),Rl!==0&&we(Rl+" j"),nr.publish("addPage",{pageNumber:vr})},mf=function($){$>0&&$<=vr&&(Ge.splice($,1),fn.splice($,1),vr--,te>vr&&(te=vr),this.setPage(te))},gc=function($){$>0&&$<=vr&&(te=$)},ud=v.__private__.getNumberOfPages=v.getNumberOfPages=function(){return Ge.length-1},gf=function($,me,Fe){var $e,it=void 0;return Fe=Fe||{},$=$!==void 0?$:xn[Gt].fontName,me=me!==void 0?me:xn[Gt].fontStyle,$e=$.toLowerCase(),In[$e]!==void 0&&In[$e][me]!==void 0?it=In[$e][me]:In[$]!==void 0&&In[$][me]!==void 0?it=In[$][me]:Fe.disableWarning===!1&&Ui.warn("Unable to look up font label for font '"+$+"', '"+me+"'. Refer to getFontList() for available fonts."),it||Fe.noFallback||(it=In.times[me])==null&&(it=In.times.normal),it},hu=v.__private__.putInfo=function(){var $=Mr(),me=function($e){return $e};for(var Fe in w!==null&&(me=Qi.encryptor($,0)),we("<<"),we("/Producer ("+ti(me("jsPDF "+Rn.version))+")"),kt)kt.hasOwnProperty(Fe)&&kt[Fe]&&we("/"+Fe.substr(0,1).toUpperCase()+Fe.substr(1)+" ("+ti(me(kt[Fe]))+")");we("/CreationDate ("+ti(me(fe))+")"),we(">>"),we("endobj")},bf=v.__private__.putCatalog=function($){var me=($=$||{}).rootDictionaryObjId||ks;switch(Mr(),we("<<"),we("/Type /Catalog"),we("/Pages "+me+" 0 R"),Xe||(Xe="fullwidth"),Xe){case"fullwidth":we("/OpenAction [3 0 R /FitH null]");break;case"fullheight":we("/OpenAction [3 0 R /FitV null]");break;case"fullpage":we("/OpenAction [3 0 R /Fit]");break;case"original":we("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Fe=""+Xe;Fe.substr(Fe.length-1)==="%"&&(Xe=parseInt(Xe)/100),typeof Xe=="number"&&we("/OpenAction [3 0 R /XYZ null null "+se(Xe)+"]")}switch(pt||(pt="continuous"),pt){case"continuous":we("/PageLayout /OneColumn");break;case"single":we("/PageLayout /SinglePage");break;case"two":case"twoleft":we("/PageLayout /TwoColumnLeft");break;case"tworight":we("/PageLayout /TwoColumnRight")}wt&&we("/PageMode /"+wt),nr.publish("putCatalog"),we(">>"),we("endobj")},wp=v.__private__.putTrailer=function(){we("trailer"),we("<<"),we("/Size "+(ve+1)),we("/Root "+ve+" 0 R"),we("/Info "+(ve-1)+" 0 R"),w!==null&&we("/Encrypt "+Qi.oid+" 0 R"),we("/ID [ <"+ue+"> <"+ue+"> ]"),we(">>")},bc=v.__private__.putHeader=function(){we("%PDF-"+D),we("%")},fu=v.__private__.putXRef=function(){var $="0000000000";we("xref"),we("0 "+(ve+1)),we("0000000000 65535 f ");for(var me=1;me<=ve;me++)typeof Re[me]=="function"?we(($+Re[me]()).slice(-10)+" 00000 n "):Re[me]!==void 0?we(($+Re[me]).slice(-10)+" 00000 n "):we("0000000000 00000 n ")},kc=v.__private__.buildDocument=function(){oe(),Le(Oe),nr.publish("buildDocument"),bc(),cl(),uu(),Kr(),w!==null&&zr(),hu(),bf();var $=Ue;return fu(),wp(),we("startxref"),we(""+$),we("%%EOF"),Le(Ge[te]),Oe.join(`
`)},ul=v.__private__.getBlob=function($){return new Blob([Ae($)],{type:"application/pdf"})},ea=v.output=v.__private__.output=ts(function($,me){switch(typeof(me=me||{})=="string"?me={filename:me}:me.filename=me.filename||"generated.pdf",$){case void 0:return kc();case"save":v.save(me.filename);break;case"arraybuffer":return Ae(kc());case"blob":return ul(kc());case"bloburi":case"bloburl":if(Un.URL!==void 0&&typeof Un.URL.createObjectURL=="function")return Un.URL&&Un.URL.createObjectURL(ul(kc()))||void 0;Ui.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Fe="",$e=kc();try{Fe=YE($e)}catch{Fe=YE(unescape(encodeURIComponent($e)))}return"data:application/pdf;filename="+me.filename+";base64,"+Fe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Un)==="[object Window]"){var it="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",_t=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';me.pdfObjectUrl&&(it=me.pdfObjectUrl,_t="");var Wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+it+'"'+_t+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(me)+");<\/script></body></html>",tn=Un.open();return tn!==null&&tn.document.write(Wt),tn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Un)==="[object Window]"){var gn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(me.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+me.filename+'" width="500px" height="400px" /></body></html>',Vn=Un.open();if(Vn!==null){Vn.document.write(gn);var Ln=this;Vn.document.documentElement.querySelector("#pdfViewer").onload=function(){Vn.document.title=me.filename,Vn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ln.output("bloburl"))}}return Vn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Un)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var hr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",me)+'"></iframe></body></html>',Ii=Un.open();if(Ii!==null&&(Ii.document.write(hr),Ii.document.title=me.filename),Ii||typeof safari>"u")return Ii;break;case"datauri":case"dataurl":return Un.document.location.href=this.output("datauristring",me);default:return null}}),oh=function($){return Array.isArray(Jo)===!0&&Jo.indexOf($)>-1};switch(o){case"pt":yt=1;break;case"mm":yt=72/25.4;break;case"cm":yt=72/2.54;break;case"in":yt=72;break;case"px":yt=oh("px_scaling")==1?.75:96/72;break;case"pc":case"em":yt=12;break;case"ex":yt=6;break;default:if(typeof o!="number")throw new Error("Invalid unit: "+o);yt=o}var Qi=null;Te(),ge();var dl=function($){return w!==null?Qi.encryptor($,0):function(me){return me}},wc=v.__private__.getPageInfo=v.getPageInfo=function($){if(isNaN($)||$%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:fn[$].objId,pageNumber:$,pageContext:fn[$]}},Tn=v.__private__.getPageInfoByObjId=function($){if(isNaN($)||$%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var me in fn)if(fn[me].objId===$)break;return wc(me)},Ol=v.__private__.getCurrentPageInfo=v.getCurrentPageInfo=function(){return{objId:fn[te].objId,pageNumber:te,pageContext:fn[te]}};v.addPage=function(){return ih.apply(this,arguments),this},v.setPage=function(){return gc.apply(this,arguments),Le.call(this,Ge[te]),this},v.insertPage=function($){return this.addPage(),this.movePage(te,$),this},v.movePage=function($,me){var Fe,$e;if($>me){Fe=Ge[$],$e=fn[$];for(var it=$;it>me;it--)Ge[it]=Ge[it-1],fn[it]=fn[it-1];Ge[me]=Fe,fn[me]=$e,this.setPage(me)}else if($<me){Fe=Ge[$],$e=fn[$];for(var _t=$;_t<me;_t++)Ge[_t]=Ge[_t+1],fn[_t]=fn[_t+1];Ge[me]=Fe,fn[me]=$e,this.setPage(me)}return this},v.deletePage=function(){return mf.apply(this,arguments),this},v.__private__.text=v.text=function($,me,Fe,$e,it){var _t,Wt,tn,gn,Vn,Ln,hr,Ii,vi,Li=($e=$e||{}).scope||this;if(typeof $=="number"&&typeof me=="number"&&(typeof Fe=="string"||Array.isArray(Fe))){var Pi=Fe;Fe=me,me=$,$=Pi}if(arguments[3]instanceof hn?(Z("The transform parameter of text() with a Matrix value"),vi=it):(tn=arguments[4],gn=arguments[5],qi(hr=arguments[3])==="object"&&hr!==null||(typeof tn=="string"&&(gn=tn,tn=null),typeof hr=="string"&&(gn=hr,hr=null),typeof hr=="number"&&(tn=hr,hr=null),$e={flags:hr,angle:tn,align:gn})),isNaN(me)||isNaN(Fe)||$==null)throw new Error("Invalid arguments passed to jsPDF.text");if($.length===0)return Li;var co="",Ma=!1,na=typeof $e.lineHeightFactor=="number"?$e.lineHeightFactor:Rs,Na=Li.internal.scaleFactor;function dh(fr){return fr=fr.split("	").join(Array($e.TabLen||9).join(" ")),ti(fr,hr)}function Fl(fr){for(var ir,ni=fr.concat(),Hn=[],Vs=ni.length;Vs--;)typeof(ir=ni.shift())=="string"?Hn.push(ir):Array.isArray(fr)&&(ir.length===1||ir[1]===void 0&&ir[2]===void 0)?Hn.push(ir[0]):Hn.push([ir[0],ir[1],ir[2]]);return Hn}function Cc(fr,ir){var ni;if(typeof fr=="string")ni=ir(fr)[0];else if(Array.isArray(fr)){for(var Hn,Vs,Tc=fr.concat(),Mc=[],Mn=Tc.length;Mn--;)typeof(Hn=Tc.shift())=="string"?Mc.push(ir(Hn)[0]):Array.isArray(Hn)&&typeof Hn[0]=="string"&&(Vs=ir(Hn[0],Hn[1],Hn[2]),Mc.push([Vs[0],Vs[1],Vs[2]]));ni=Mc}return ni}var hh=!1,bu=!0;if(typeof $=="string")hh=!0;else if(Array.isArray($)){var fh=$.concat();Wt=[];for(var gd,yi=fh.length;yi--;)(typeof(gd=fh.shift())!="string"||Array.isArray(gd)&&typeof gd[0]!="string")&&(bu=!1);hh=bu}if(hh===!1)throw new Error('Type of text must be string or Array. "'+$+'" is not recognized.');typeof $=="string"&&($=$.match(/[\r?\n]/)?$.split(/\r\n|\r|\n/g):[$]);var Oa=Ke/Li.internal.scaleFactor,bd=Oa*(na-1);switch($e.baseline){case"bottom":Fe-=bd;break;case"top":Fe+=Oa-bd;break;case"hanging":Fe+=Oa-2*bd;break;case"middle":Fe+=Oa/2-bd}if((Ln=$e.maxWidth||0)>0&&(typeof $=="string"?$=Li.splitTextToSize($,Ln):Object.prototype.toString.call($)==="[object Array]"&&($=$.reduce(function(fr,ir){return fr.concat(Li.splitTextToSize(ir,Ln))},[]))),_t={text:$,x:me,y:Fe,options:$e,mutex:{pdfEscape:ti,activeFontKey:Gt,fonts:xn,activeFontSize:Ke}},nr.publish("preProcessText",_t),$=_t.text,tn=($e=_t.options).angle,!(vi instanceof hn)&&tn&&typeof tn=="number"){tn*=Math.PI/180,$e.rotationDirection===0&&(tn=-tn),F===j.ADVANCED&&(tn=-tn);var kd=Math.cos(tn),xc=Math.sin(tn);vi=new hn(kd,xc,-xc,kd,0,0)}else tn&&tn instanceof hn&&(vi=tn);F!==j.ADVANCED||vi||(vi=rr),(Vn=$e.charSpace||lh)!==void 0&&(co+=z(K(Vn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ii=$e.horizontalScale)!==void 0&&(co+=z(100*Ii)+` Tz
`),$e.lang;var ys=-1,Jm=$e.renderingMode!==void 0?$e.renderingMode:$e.stroke,_f=Li.internal.getCurrentPageInfo().pageContext;switch(Jm){case 0:case!1:case"fill":ys=0;break;case 1:case!0:case"stroke":ys=1;break;case 2:case"fillThenStroke":ys=2;break;case 3:case"invisible":ys=3;break;case 4:case"fillAndAddForClipping":ys=4;break;case 5:case"strokeAndAddPathForClipping":ys=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ys=6;break;case 7:case"addToPathForClipping":ys=7}var Ap=_f.usedRenderingMode!==void 0?_f.usedRenderingMode:-1;ys!==-1?co+=ys+` Tr
`:Ap!==-1&&(co+=`0 Tr
`),ys!==-1&&(_f.usedRenderingMode=ys),gn=$e.align||"left";var ma,vo=Ke*na,ku=Li.internal.pageSize.getWidth(),ph=xn[Gt];Vn=$e.charSpace||lh,Ln=$e.maxWidth||0,hr=Object.assign({autoencode:!0,noBOM:!0},$e.flags);var Sc=[],Ec=function(fr){return Li.getStringUnitWidth(fr,{font:ph,charSpace:Vn,fontSize:Ke,doKerning:!1})*Ke/Na};if(Object.prototype.toString.call($)==="[object Array]"){var Fs;Wt=Fl($),gn!=="left"&&(ma=Wt.map(Ec));var Bo,wu=0;if(gn==="right"){me-=ma[0],$=[],yi=Wt.length;for(var zs=0;zs<yi;zs++)zs===0?(Bo=Oo(me),Fs=hl(Fe)):(Bo=K(wu-ma[zs]),Fs=-vo),$.push([Wt[zs],Bo,Fs]),wu=ma[zs]}else if(gn==="center"){me-=ma[0]/2,$=[],yi=Wt.length;for(var pl=0;pl<yi;pl++)pl===0?(Bo=Oo(me),Fs=hl(Fe)):(Bo=K((wu-ma[pl])/2),Fs=-vo),$.push([Wt[pl],Bo,Fs]),wu=ma[pl]}else if(gn==="left"){$=[],yi=Wt.length;for(var zl=0;zl<yi;zl++)$.push(Wt[zl])}else if(gn==="justify"&&ph.encoding==="Identity-H"){$=[],yi=Wt.length,Ln=Ln!==0?Ln:ku;for(var Ba=0,Vi=0;Vi<yi;Vi++)if(Fs=Vi===0?hl(Fe):-vo,Bo=Vi===0?Oo(me):Ba,Vi<yi-1){var ja=K((Ln-ma[Vi])/(Wt[Vi].split(" ").length-1)),Zi=Wt[Vi].split(" ");$.push([Zi[0]+" ",Bo,Fs]),Ba=0;for(var Us=1;Us<Zi.length;Us++){var Er=(Ec(Zi[Us-1]+" "+Zi[Us])-Ec(Zi[Us]))*Na+ja;Us==Zi.length-1?$.push([Zi[Us],Er,0]):$.push([Zi[Us]+" ",Er,0]),Ba-=Er}}else $.push([Wt[Vi],Bo,Fs]);$.push(["",Ba,0])}else{if(gn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for($=[],yi=Wt.length,Ln=Ln!==0?Ln:ku,Vi=0;Vi<yi;Vi++)Fs=Vi===0?hl(Fe):-vo,Bo=Vi===0?Oo(me):0,Vi<yi-1?Sc.push(z(K((Ln-ma[Vi])/(Wt[Vi].split(" ").length-1)))):Sc.push(0),$.push([Wt[Vi],Bo,Fs])}}var La=typeof $e.R2L=="boolean"?$e.R2L:dt;La===!0&&($=Cc($,function(fr,ir,ni){return[fr.split("").reverse().join(""),ir,ni]})),_t={text:$,x:me,y:Fe,options:$e,mutex:{pdfEscape:ti,activeFontKey:Gt,fonts:xn,activeFontSize:Ke}},nr.publish("postProcessText",_t),$=_t.text,Ma=_t.mutex.isHex||!1;var vu=xn[Gt].encoding;vu!=="WinAnsiEncoding"&&vu!=="StandardEncoding"||($=Cc($,function(fr,ir,ni){return[dh(fr),ir,ni]})),Wt=Fl($),$=[];for(var qs,Dc,Ic,wd=0,ga=1,ml=Array.isArray(Wt[0])?ga:wd,Ul="",jo=function(fr,ir,ni){var Hn="";return ni instanceof hn?(ni=typeof $e.angle=="number"?xr(ni,new hn(1,0,0,1,fr,ir)):xr(new hn(1,0,0,1,fr,ir),ni),F===j.ADVANCED&&(ni=xr(new hn(1,0,0,-1,0,0),ni)),Hn=ni.join(" ")+` Tm
`):Hn=z(fr)+" "+z(ir)+` Td
`,Hn},Hi=0;Hi<Wt.length;Hi++){switch(Ul="",ml){case ga:Ic=(Ma?"<":"(")+Wt[Hi][0]+(Ma?">":")"),qs=parseFloat(Wt[Hi][1]),Dc=parseFloat(Wt[Hi][2]);break;case wd:Ic=(Ma?"<":"(")+Wt[Hi]+(Ma?">":")"),qs=Oo(me),Dc=hl(Fe)}Sc!==void 0&&Sc[Hi]!==void 0&&(Ul=Sc[Hi]+` Tw
`),Hi===0?$.push(Ul+jo(qs,Dc,vi)+Ic):ml===wd?$.push(Ul+Ic):ml===ga&&$.push(Ul+jo(qs,Dc,vi)+Ic)}$=ml===wd?$.join(` Tj
T* `):$.join(` Tj
`),$+=` Tj
`;var ra=`BT
/`;return ra+=Gt+" "+Ke+` Tf
`,ra+=z(Ke*na)+` TL
`,ra+=Ac+`
`,ra+=co,ra+=$,we(ra+="ET"),C[Gt]=!0,Li};var vp=v.__private__.clip=v.clip=function($){return we($==="evenodd"?"W*":"W"),this};v.clipEvenOdd=function(){return vp("evenodd")},v.__private__.discardPath=v.discardPath=function(){return we("n"),this};var Ls=v.__private__.isValidStyle=function($){var me=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf($)!==-1&&(me=!0),me};v.__private__.setDefaultPathOperation=v.setDefaultPathOperation=function($){return Ls($)&&(k=$),this};var pa=v.__private__.getStyle=v.getStyle=function($){var me=k;switch($){case"D":case"S":me="S";break;case"F":me="f";break;case"FD":case"DF":me="B";break;case"f":case"f*":case"B":case"B*":me=$}return me},sh=v.close=function(){return we("h"),this};v.stroke=function(){return we("S"),this},v.fill=function($){return Bl("f",$),this},v.fillEvenOdd=function($){return Bl("f*",$),this},v.fillStroke=function($){return Bl("B",$),this},v.fillStrokeEvenOdd=function($){return Bl("B*",$),this};var Bl=function($,me){qi(me)==="object"?dd(me,$):we($)},Ps=function($){$===null||F===j.ADVANCED&&$===void 0||($=pa($),we($))};function kf($,me,Fe,$e,it){var _t=new Z0(me||this.boundingBox,Fe||this.xStep,$e||this.yStep,this.gState,it||this.matrix);_t.stream=this.stream;var Wt=$+"$$"+this.cloneIndex+++"$$";return wi(Wt,_t),_t}var dd=function($,me){var Fe=ei[$.key],$e=Gn[Fe];if($e instanceof Yg)we("q"),we(wf(me)),$e.gState&&v.setGState($e.gState),we($.matrix.toString()+" cm"),we("/"+Fe+" sh"),we("Q");else if($e instanceof Z0){var it=new hn(1,0,0,-1,0,_c());$.matrix&&(it=it.multiply($.matrix||rr),Fe=kf.call($e,$.key,$.boundingBox,$.xStep,$.yStep,it).id),we("q"),we("/Pattern cs"),we("/"+Fe+" scn"),$e.gState&&v.setGState($e.gState),we(me),we("Q")}},wf=function($){switch($){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},vc=v.moveTo=function($,me){return we(z(K($))+" "+z(q(me))+" m"),this},ta=v.lineTo=function($,me){return we(z(K($))+" "+z(q(me))+" l"),this},yc=v.curveTo=function($,me,Fe,$e,it,_t){return we([z(K($)),z(q(me)),z(K(Fe)),z(q($e)),z(K(it)),z(q(_t)),"c"].join(" ")),this};v.__private__.line=v.line=function($,me,Fe,$e,it){if(isNaN($)||isNaN(me)||isNaN(Fe)||isNaN($e)||!Ls(it))throw new Error("Invalid arguments passed to jsPDF.line");return F===j.COMPAT?this.lines([[Fe-$,$e-me]],$,me,[1,1],it||"S"):this.lines([[Fe-$,$e-me]],$,me,[1,1]).stroke()},v.__private__.lines=v.lines=function($,me,Fe,$e,it,_t){var Wt,tn,gn,Vn,Ln,hr,Ii,vi,Li,Pi,co,Ma;if(typeof $=="number"&&(Ma=Fe,Fe=me,me=$,$=Ma),$e=$e||[1,1],_t=_t||!1,isNaN(me)||isNaN(Fe)||!Array.isArray($)||!Array.isArray($e)||!Ls(it)||typeof _t!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(vc(me,Fe),Wt=$e[0],tn=$e[1],Vn=$.length,Pi=me,co=Fe,gn=0;gn<Vn;gn++)(Ln=$[gn]).length===2?(Pi=Ln[0]*Wt+Pi,co=Ln[1]*tn+co,ta(Pi,co)):(hr=Ln[0]*Wt+Pi,Ii=Ln[1]*tn+co,vi=Ln[2]*Wt+Pi,Li=Ln[3]*tn+co,Pi=Ln[4]*Wt+Pi,co=Ln[5]*tn+co,yc(hr,Ii,vi,Li,Pi,co));return _t&&sh(),Ps(it),this},v.path=function($){for(var me=0;me<$.length;me++){var Fe=$[me],$e=Fe.c;switch(Fe.op){case"m":vc($e[0],$e[1]);break;case"l":ta($e[0],$e[1]);break;case"c":yc.apply(this,$e);break;case"h":sh()}}return this},v.__private__.rect=v.rect=function($,me,Fe,$e,it){if(isNaN($)||isNaN(me)||isNaN(Fe)||isNaN($e)||!Ls(it))throw new Error("Invalid arguments passed to jsPDF.rect");return F===j.COMPAT&&($e=-$e),we([z(K($)),z(q(me)),z(K(Fe)),z(K($e)),"re"].join(" ")),Ps(it),this},v.__private__.triangle=v.triangle=function($,me,Fe,$e,it,_t,Wt){if(isNaN($)||isNaN(me)||isNaN(Fe)||isNaN($e)||isNaN(it)||isNaN(_t)||!Ls(Wt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Fe-$,$e-me],[it-Fe,_t-$e],[$-it,me-_t]],$,me,[1,1],Wt,!0),this},v.__private__.roundedRect=v.roundedRect=function($,me,Fe,$e,it,_t,Wt){if(isNaN($)||isNaN(me)||isNaN(Fe)||isNaN($e)||isNaN(it)||isNaN(_t)||!Ls(Wt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var tn=4/3*(Math.SQRT2-1);return it=Math.min(it,.5*Fe),_t=Math.min(_t,.5*$e),this.lines([[Fe-2*it,0],[it*tn,0,it,_t-_t*tn,it,_t],[0,$e-2*_t],[0,_t*tn,-it*tn,_t,-it,_t],[2*it-Fe,0],[-it*tn,0,-it,-_t*tn,-it,-_t],[0,2*_t-$e],[0,-_t*tn,it*tn,-_t,it,-_t]],$+it,me,[1,1],Wt,!0),this},v.__private__.ellipse=v.ellipse=function($,me,Fe,$e,it){if(isNaN($)||isNaN(me)||isNaN(Fe)||isNaN($e)||!Ls(it))throw new Error("Invalid arguments passed to jsPDF.ellipse");var _t=4/3*(Math.SQRT2-1)*Fe,Wt=4/3*(Math.SQRT2-1)*$e;return vc($+Fe,me),yc($+Fe,me-Wt,$+_t,me-$e,$,me-$e),yc($-_t,me-$e,$-Fe,me-Wt,$-Fe,me),yc($-Fe,me+Wt,$-_t,me+$e,$,me+$e),yc($+_t,me+$e,$+Fe,me+Wt,$+Fe,me),Ps(it),this},v.__private__.circle=v.circle=function($,me,Fe,$e){if(isNaN($)||isNaN(me)||isNaN(Fe)||!Ls($e))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse($,me,Fe,Fe,$e)},v.setFont=function($,me,Fe){return Fe&&(me=H(me,Fe)),Gt=gf($,me,{disableWarning:!1}),this};var wo=v.__private__.getFont=v.getFont=function(){return xn[gf.apply(v,arguments)]};v.__private__.getFontList=v.getFontList=function(){var $,me,Fe={};for($ in In)if(In.hasOwnProperty($))for(me in Fe[$]=[],In[$])In[$].hasOwnProperty(me)&&Fe[$].push(me);return Fe},v.addFont=function($,me,Fe,$e,it){var _t=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&_t.indexOf(arguments[3])!==-1?it=arguments[3]:arguments[3]&&_t.indexOf(arguments[3])==-1&&(Fe=H(Fe,$e)),it=it||"Identity-H",fa.call(this,$,me,Fe,it)};var Rs,Sr=t.lineWidth||.200025,jl=v.__private__.getLineWidth=v.getLineWidth=function(){return Sr},ah=v.__private__.setLineWidth=v.setLineWidth=function($){return Sr=$,we(z(K($))+" w"),this};v.__private__.setLineDash=Rn.API.setLineDash=Rn.API.setLineDashPattern=function($,me){if($=$||[],me=me||0,isNaN(me)||!Array.isArray($))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return $=$.map(function(Fe){return z(K(Fe))}).join(" "),me=z(K(me)),we("["+$+"] "+me+" d"),this};var hd=v.__private__.getLineHeight=v.getLineHeight=function(){return Ke*Rs};v.__private__.getLineHeight=v.getLineHeight=function(){return Ke*Rs};var Ll=v.__private__.setLineHeightFactor=v.setLineHeightFactor=function($){return typeof($=$||1.15)=="number"&&(Rs=$),this},Pl=v.__private__.getLineHeightFactor=v.getLineHeightFactor=function(){return Rs};Ll(t.lineHeight);var Oo=v.__private__.getHorizontalCoordinate=function($){return K($)},hl=v.__private__.getVerticalCoordinate=function($){return F===j.ADVANCED?$:fn[te].mediaBox.topRightY-fn[te].mediaBox.bottomLeftY-K($)},vf=v.__private__.getHorizontalCoordinateString=v.getHorizontalCoordinateString=function($){return z(Oo($))},pu=v.__private__.getVerticalCoordinateString=v.getVerticalCoordinateString=function($){return z(hl($))},Ta=t.strokeColor||"0 G";v.__private__.getStrokeColor=v.getDrawColor=function(){return bo(Ta)},v.__private__.setStrokeColor=v.setDrawColor=function($,me,Fe,$e){return Ta=Ei({ch1:$,ch2:me,ch3:Fe,ch4:$e,pdfColorType:"draw",precision:2}),we(Ta),this};var fd=t.fillColor||"0 g";v.__private__.getFillColor=v.getFillColor=function(){return bo(fd)},v.__private__.setFillColor=v.setFillColor=function($,me,Fe,$e){return fd=Ei({ch1:$,ch2:me,ch3:Fe,ch4:$e,pdfColorType:"fill",precision:2}),we(fd),this};var Ac=t.textColor||"0 g",Km=v.__private__.getTextColor=v.getTextColor=function(){return bo(Ac)};v.__private__.setTextColor=v.setTextColor=function($,me,Fe,$e){return Ac=Ei({ch1:$,ch2:me,ch3:Fe,ch4:$e,pdfColorType:"text",precision:3}),this};var lh=t.charSpace,Qm=v.__private__.getCharSpace=v.getCharSpace=function(){return parseFloat(lh||0)};v.__private__.setCharSpace=v.setCharSpace=function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return lh=$,this};var mu=0;v.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},v.__private__.setLineCap=v.setLineCap=function($){var me=v.CapJoinStyles[$];if(me===void 0)throw new Error("Line cap style of '"+$+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return mu=me,we(me+" J"),this};var Rl=0;v.__private__.setLineJoin=v.setLineJoin=function($){var me=v.CapJoinStyles[$];if(me===void 0)throw new Error("Line join style of '"+$+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Rl=me,we(me+" j"),this},v.__private__.setLineMiterLimit=v.__private__.setMiterLimit=v.setLineMiterLimit=v.setMiterLimit=function($){if($=$||0,isNaN($))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return we(z(K($))+" M"),this},v.GState=Gx,v.setGState=function($){($=typeof $=="string"?tr[wr[$]]:yp(null,$)).equals(mr)||(we("/"+$.id+" gs"),mr=$)};var yp=function($,me){if(!$||!wr[$]){var Fe=!1;for(var $e in tr)if(tr.hasOwnProperty($e)&&tr[$e].equals(me)){Fe=!0;break}if(Fe)me=tr[$e];else{var it="GS"+(Object.keys(tr).length+1).toString(10);tr[it]=me,me.id=it}return $&&(wr[$]=me.id),nr.publish("addGState",me),me}};v.addGState=function($,me){return yp($,me),this},v.saveGraphicsState=function(){return we("q"),Fn.push({key:Gt,size:Ke,color:Ac}),this},v.restoreGraphicsState=function(){we("Q");var $=Fn.pop();return Gt=$.key,Ke=$.size,Ac=$.color,mr=null,this},v.setCurrentTransformationMatrix=function($){return we($.toString()+" cm"),this},v.comment=function($){return we("#"+$),this};var ch=function($,me){var Fe=$||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Fe},set:function(_t){isNaN(_t)||(Fe=parseFloat(_t))}});var $e=me||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return $e},set:function(_t){isNaN(_t)||($e=parseFloat(_t))}});var it="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return it},set:function(_t){it=_t.toString()}}),this},yf=function($,me,Fe,$e){ch.call(this,$,me),this.type="rect";var it=Fe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return it},set:function(Wt){isNaN(Wt)||(it=parseFloat(Wt))}});var _t=$e||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return _t},set:function(Wt){isNaN(Wt)||(_t=parseFloat(Wt))}}),this},Af=function(){this.page=vr,this.currentPage=te,this.pages=Ge.slice(0),this.pagesContext=fn.slice(0),this.x=jn,this.y=on,this.matrix=kr,this.width=gu(te),this.height=_c(te),this.outputDestination=gt,this.id="",this.objectNumber=-1};Af.prototype.restore=function(){vr=this.page,te=this.currentPage,fn=this.pagesContext,Ge=this.pages,jn=this.x,on=this.y,kr=this.matrix,md(te,this.width),uh(te,this.height),gt=this.outputDestination};var fl=function($,me,Fe,$e,it){es.push(new Af),vr=te=0,Ge=[],jn=$,on=me,kr=it,Ia([Fe,$e])},Zm=function($){if(Xo[$])es.pop().restore();else{var me=new Af,Fe="Xo"+(Object.keys(ki).length+1).toString(10);me.id=Fe,Xo[$]=Fe,ki[Fe]=me,nr.publish("addFormObject",me),es.pop().restore()}};for(var pd in v.beginFormObject=function($,me,Fe,$e,it){return fl($,me,Fe,$e,it),this},v.endFormObject=function($){return Zm($),this},v.doFormObject=function($,me){var Fe=ki[Xo[$]];return we("q"),we(me.toString()+" cm"),we("/"+Fe.id+" Do"),we("Q"),this},v.getFormObject=function($){var me=ki[Xo[$]];return{x:me.x,y:me.y,width:me.width,height:me.height,matrix:me.matrix}},v.save=function($,me){return $=$||"generated.pdf",(me=me||{}).returnPromise=me.returnPromise||!1,me.returnPromise===!1?($g(ul(kc()),$),typeof $g.unload=="function"&&Un.setTimeout&&setTimeout($g.unload,911),this):new Promise(function(Fe,$e){try{var it=$g(ul(kc()),$);typeof $g.unload=="function"&&Un.setTimeout&&setTimeout($g.unload,911),Fe(it)}catch(_t){$e(_t.message)}})},Rn.API)Rn.API.hasOwnProperty(pd)&&(pd==="events"&&Rn.API.events.length?function($,me){var Fe,$e,it;for(it=me.length-1;it!==-1;it--)Fe=me[it][0],$e=me[it][1],$.subscribe.apply($,[Fe].concat(typeof $e=="function"?[$e]:$e))}(nr,Rn.API.events):v[pd]=Rn.API[pd]);var gu=v.getPageWidth=function($){return(fn[$=$||te].mediaBox.topRightX-fn[$].mediaBox.bottomLeftX)/yt},md=v.setPageWidth=function($,me){fn[$].mediaBox.topRightX=me*yt+fn[$].mediaBox.bottomLeftX},_c=v.getPageHeight=function($){return(fn[$=$||te].mediaBox.topRightY-fn[$].mediaBox.bottomLeftY)/yt},uh=v.setPageHeight=function($,me){fn[$].mediaBox.topRightY=me*yt+fn[$].mediaBox.bottomLeftY};return v.internal={pdfEscape:ti,getStyle:pa,getFont:wo,getFontSize:ze,getCharSpace:Qm,getTextColor:Km,getLineHeight:hd,getLineHeightFactor:Pl,getLineWidth:jl,write:Ee,getHorizontalCoordinate:Oo,getVerticalCoordinate:hl,getCoordinateString:vf,getVerticalCoordinateString:pu,collections:{},newObject:Mr,newAdditionalObject:Tl,newObjectDeferred:$r,newObjectDeferredBegin:di,getFilters:ao,putStream:lo,events:nr,scaleFactor:yt,pageSize:{getWidth:function(){return gu(te)},setWidth:function($){md(te,$)},getHeight:function(){return _c(te)},setHeight:function($){uh(te,$)}},encryptionOptions:w,encryption:Qi,getEncryptor:dl,output:ea,getNumberOfPages:ud,pages:Ge,out:we,f2:se,f3:X,getPageInfo:wc,getPageInfoByObjId:Tn,getCurrentPageInfo:Ol,getPDFVersion:E,Point:ch,Rectangle:yf,Matrix:hn,hasHotfix:oh},Object.defineProperty(v.internal.pageSize,"width",{get:function(){return gu(te)},set:function($){md(te,$)},enumerable:!0,configurable:!0}),Object.defineProperty(v.internal.pageSize,"height",{get:function(){return _c(te)},set:function($){uh(te,$)},enumerable:!0,configurable:!0}),du.call(v,Ne),Gt="F1",ih(a,r),nr.publish("initialized"),v}K0.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},K0.prototype.toHexString=function(t){return t.split("").map(function(i){return("0"+(255&i.charCodeAt(0)).toString(16)).slice(-2)}).join("")},K0.prototype.hexToBytes=function(t){for(var i=[],r=0;r<t.length;r+=2)i.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return i.join("")},K0.prototype.processOwnerPassword=function(t,i){return QE(KE(i).substr(0,5),t)},K0.prototype.encryptor=function(t,i){var r=KE(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&i,i>>8&255)).substr(0,10);return function(o){return QE(r,o)}},Gx.prototype.equals=function(t){var i,r="id,objectNumber,equals";if(!t||qi(t)!==qi(this))return!1;var o=0;for(i in this)if(!(r.indexOf(i)>=0)){if(this.hasOwnProperty(i)&&!t.hasOwnProperty(i)||this[i]!==t[i])return!1;o++}for(i in t)t.hasOwnProperty(i)&&r.indexOf(i)<0&&o--;return o===0},Rn.API={events:[]},Rn.version="3.0.1";var Ko=Rn.API,uD=1,bb=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},N0=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Jn=function(t){return t.toFixed(2)},Am=function(t){return t.toFixed(5)};Ko.__acroform__={};var pc=function(t,i){t.prototype=Object.create(i.prototype),t.prototype.constructor=t},v8=function(t){return t*uD},Bh=function(t){var i=new OP,r=bn.internal.getHeight(t)||0,o=bn.internal.getWidth(t)||0;return i.BBox=[0,0,Number(Jn(o)),Number(Jn(r))],i},zX=Ko.__acroform__.setBit=function(t,i){if(t=t||0,i=i||0,isNaN(t)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<i},UX=Ko.__acroform__.clearBit=function(t,i){if(t=t||0,i=i||0,isNaN(t)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<i)},qX=Ko.__acroform__.getBit=function(t,i){if(isNaN(t)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<i)==0?0:1},as=Ko.__acroform__.getBitForPdf=function(t,i){if(isNaN(t)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return qX(t,i-1)},ls=Ko.__acroform__.setBitForPdf=function(t,i){if(isNaN(t)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return zX(t,i-1)},cs=Ko.__acroform__.clearBitForPdf=function(t,i){if(isNaN(t)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return UX(t,i-1)},VX=Ko.__acroform__.calculateCoordinates=function(t,i){var r=i.internal.getHorizontalCoordinate,o=i.internal.getVerticalCoordinate,a=t[0],c=t[1],d=t[2],p=t[3],m={};return m.lowerLeft_X=r(a)||0,m.lowerLeft_Y=o(c+p)||0,m.upperRight_X=r(a+d)||0,m.upperRight_Y=o(c)||0,[Number(Jn(m.lowerLeft_X)),Number(Jn(m.lowerLeft_Y)),Number(Jn(m.upperRight_X)),Number(Jn(m.upperRight_Y))]},HX=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var i=[],r=t._V||t.DV,o=ZE(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;i.push("/Tx BMC"),i.push("q"),i.push("BT"),i.push(t.scope.__private__.encodeColorString(t.color)),i.push("/"+a+" "+Jn(o.fontSize)+" Tf"),i.push("1 0 0 1 0 0 Tm"),i.push(o.text),i.push("ET"),i.push("Q"),i.push("EMC");var c=Bh(t);return c.scope=t.scope,c.stream=i.join(`
`),c}},ZE=function(t,i){var r=t.fontSize===0?t.maxFontSize:t.fontSize,o={text:"",fontSize:""},a=(i=(i=i.substr(0,1)=="("?i.substr(1):i).substr(i.length-1)==")"?i.substr(0,i.length-1):i).split(" ");a=t.multiline?a.map(function(X){return X.split(`
`)}):a.map(function(X){return[X]});var c=r,d=bn.internal.getHeight(t)||0;d=d<0?-d:d;var p=bn.internal.getWidth(t)||0;p=p<0?-p:p;var m=function(X,K,U){if(X+1<a.length){var q=K+" "+a[X+1][0];return $C(q,t,U).width<=p-4}return!1};c++;e:for(;c>0;){i="",c--;var k,w,_=$C("3",t,c).height,C=t.multiline?d-c:(d-_)/2,v=C+=2,D=0,E=0,O=0;if(c<=0){i=`(...) Tj
`,i+="% Width of Text: "+$C(i,t,c=12).width+", FieldWidth:"+p+`
`;break}for(var M="",j=0,F=0;F<a.length;F++)if(a.hasOwnProperty(F)){var G=!1;if(a[F].length!==1&&O!==a[F].length-1){if((_+2)*(j+2)+2>d)continue e;M+=a[F][O],G=!0,E=F,F--}else{M=(M+=a[F][O]+" ").substr(M.length-1)==" "?M.substr(0,M.length-1):M;var J=parseInt(F),H=m(J,M,c),z=F>=a.length-1;if(H&&!z){M+=" ",O=0;continue}if(H||z){if(z)E=J;else if(t.multiline&&(_+2)*(j+2)+2>d)continue e}else{if(!t.multiline||(_+2)*(j+2)+2>d)continue e;E=J}}for(var Z="",Y=D;Y<=E;Y++){var se=a[Y];if(t.multiline){if(Y===E){Z+=se[O]+" ",O=(O+1)%se.length;continue}if(Y===D){Z+=se[se.length-1]+" ";continue}}Z+=se[0]+" "}switch(Z=Z.substr(Z.length-1)==" "?Z.substr(0,Z.length-1):Z,w=$C(Z,t,c).width,t.textAlign){case"right":k=p-w-2;break;case"center":k=(p-w)/2;break;case"left":default:k=2}i+=Jn(k)+" "+Jn(v)+` Td
`,i+="("+bb(Z)+`) Tj
`,i+=-Jn(k)+` 0 Td
`,v=-(c+2),w=0,D=G?E:E+1,j++,M=""}break}return o.text=i,o.fontSize=c,o},$C=function(t,i,r){var o=i.scope.internal.getFont(i.fontName,i.fontStyle),a=i.scope.getStringUnitWidth(t,{font:o,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:i.scope.getStringUnitWidth("3",{font:o,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},$X={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},WX=function(t,i){var r={type:"reference",object:t};i.internal.getPageInfo(t.page).pageContext.annotations.find(function(o){return o.type===r.type&&o.object===r.object})===void 0&&i.internal.getPageInfo(t.page).pageContext.annotations.push(r)},GX=function(t,i){for(var r in t)if(t.hasOwnProperty(r)){var o=r,a=t[r];i.internal.newObjectDeferredBegin(a.objId,!0),qi(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete t[o]}},YX=function(t,i){if(i.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(eh.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify($X)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");uD=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new BP,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var o=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in o)if(o.hasOwnProperty(a)){var c=o[a];c.objId=void 0,c.hasAnnotation&&WX(c,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(o,a){var c=!o;for(var d in o||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),o=o||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(o.hasOwnProperty(d)){var p=o[d],m=[],k=p.Rect;if(p.Rect&&(p.Rect=VX(p.Rect,a)),a.internal.newObjectDeferredBegin(p.objId,!0),p.DA=bn.createDefaultAppearanceStream(p),qi(p)==="object"&&typeof p.getKeyValueListForStream=="function"&&(m=p.getKeyValueListForStream()),p.Rect=k,p.hasAppearanceStream&&!p.appearanceStreamContent){var w=HX(p);m.push({key:"AP",value:"<</N "+w+">>"}),a.internal.acroformPlugin.xForms.push(w)}if(p.appearanceStreamContent){var _="";for(var C in p.appearanceStreamContent)if(p.appearanceStreamContent.hasOwnProperty(C)){var v=p.appearanceStreamContent[C];if(_+="/"+C+" ",_+="<<",Object.keys(v).length>=1||Array.isArray(v)){for(var d in v)if(v.hasOwnProperty(d)){var D=v[d];typeof D=="function"&&(D=D.call(a,p)),_+="/"+d+" "+D+" ",a.internal.acroformPlugin.xForms.indexOf(D)>=0||a.internal.acroformPlugin.xForms.push(D)}}else typeof(D=v)=="function"&&(D=D.call(a,p)),_+="/"+d+" "+D,a.internal.acroformPlugin.xForms.indexOf(D)>=0||a.internal.acroformPlugin.xForms.push(D);_+=">>"}m.push({key:"AP",value:`<<
`+_+">>"})}a.internal.putStream({additionalKeyValues:m,objectId:p.objId}),a.internal.out("endobj")}c&&GX(a.internal.acroformPlugin.xForms,a)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},NP=Ko.__acroform__.arrayToPdfArray=function(t,i,r){var o=function(d){return d};if(Array.isArray(t)){for(var a="[",c=0;c<t.length;c++)switch(c!==0&&(a+=" "),qi(t[c])){case"boolean":case"number":case"object":a+=t[c].toString();break;case"string":t[c].substr(0,1)!=="/"?(i!==void 0&&r&&(o=r.internal.getEncryptor(i)),a+="("+bb(o(t[c].toString()))+")"):a+=t[c].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},W3=function(t,i,r){var o=function(a){return a};return i!==void 0&&r&&(o=r.internal.getEncryptor(i)),(t=t||"").toString(),t="("+bb(o(t))+")"},Jh=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Jh.prototype.toString=function(){return this.objId+" 0 R"},Jh.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Jh.prototype.getKeyValueListForStream=function(){var t=[],i=Object.getOwnPropertyNames(this).filter(function(c){return c!="content"&&c!="appearanceStreamContent"&&c!="scope"&&c!="objId"&&c.substring(0,1)!="_"});for(var r in i)if(Object.getOwnPropertyDescriptor(this,i[r]).configurable===!1){var o=i[r],a=this[o];a&&(Array.isArray(a)?t.push({key:o,value:NP(a,this.objId,this.scope)}):a instanceof Jh?(a.scope=this.scope,t.push({key:o,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:o,value:a}))}return t};var OP=function(){Jh.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,i=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return i},set:function(r){i=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};pc(OP,Jh);var BP=function(){Jh.call(this);var t,i=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return i.length>0?i:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return i}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(o){return o};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+bb(r(t))+")"}},set:function(r){t=r}})};pc(BP,Jh);var eh=function t(){Jh.call(this);var i=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return i},set:function(M){if(isNaN(M))throw new Error('Invalid value "'+M+'" for attribute F supplied.');i=M}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!as(i,3)},set:function(M){M?this.F=ls(i,3):this.F=cs(i,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(M){if(isNaN(M))throw new Error('Invalid value "'+M+'" for attribute Ff supplied.');r=M}});var o=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(o.length!==0)return o},set:function(M){o=M!==void 0?M:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[0])?0:o[0]},set:function(M){o[0]=M}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[1])?0:o[1]},set:function(M){o[1]=M}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[2])?0:o[2]},set:function(M){o[2]=M}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[3])?0:o[3]},set:function(M){o[3]=M}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(M){switch(M){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=M;break;default:throw new Error('Invalid value "'+M+'" for attribute FT supplied.')}}});var c=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!c||c.length<1){if(this instanceof Yx)return;c="FieldObject"+t.FieldNum++}var M=function(j){return j};return this.scope&&(M=this.scope.internal.getEncryptor(this.objId)),"("+bb(M(c))+")"},set:function(M){c=M.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return c},set:function(M){c=M}});var d="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return d},set:function(M){d=M}});var p="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return p},set:function(M){p=M}});var m=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return m},set:function(M){m=M}});var k=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return k===void 0?50/uD:k},set:function(M){k=M}});var w="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return w},set:function(M){w=M}});var _="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!_||this instanceof Yx||this instanceof sb))return W3(_,this.objId,this.scope)},set:function(M){M=M.toString(),_=M}});var C=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(C)return this instanceof ca?C:W3(C,this.objId,this.scope)},set:function(M){M=M.toString(),C=this instanceof ca?M:M.substr(0,1)==="("?N0(M.substr(1,M.length-2)):N0(M)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ca?N0(C.substr(1,C.length-1)):C},set:function(M){M=M.toString(),C=this instanceof ca?"/"+M:M}});var v=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(v)return v},set:function(M){this.V=M}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof ca?v:W3(v,this.objId,this.scope)},set:function(M){M=M.toString(),v=this instanceof ca?M:M.substr(0,1)==="("?N0(M.substr(1,M.length-2)):N0(M)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ca?N0(v.substr(1,v.length-1)):v},set:function(M){M=M.toString(),v=this instanceof ca?"/"+M:M}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var D,E=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return E},set:function(M){M=!!M,E=M}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(D)return D},set:function(M){D=M}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,1)},set:function(M){M?this.Ff=ls(this.Ff,1):this.Ff=cs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,2)},set:function(M){M?this.Ff=ls(this.Ff,2):this.Ff=cs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,3)},set:function(M){M?this.Ff=ls(this.Ff,3):this.Ff=cs(this.Ff,3)}});var O=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(O!==null)return O},set:function(M){if([0,1,2].indexOf(M)===-1)throw new Error('Invalid value "'+M+'" for attribute Q supplied.');O=M}}),Object.defineProperty(this,"textAlign",{get:function(){var M;switch(O){case 0:default:M="left";break;case 1:M="center";break;case 2:M="right"}return M},configurable:!0,enumerable:!0,set:function(M){switch(M){case"right":case 2:O=2;break;case"center":case 1:O=1;break;case"left":case 0:default:O=0}}})};pc(eh,Jh);var ek=function(){eh.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var i=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return NP(i,this.objId,this.scope)},set:function(r){var o,a;a=[],typeof(o=r)=="string"&&(a=function(c,d,p){p||(p=1);for(var m,k=[];m=d.exec(c);)k.push(m[p]);return k}(o,/\((.*?)\)/g)),i=a}}),this.getOptions=function(){return i},this.setOptions=function(r){i=r,this.sort&&i.sort()},this.addOption=function(r){r=(r=r||"").toString(),i.push(r),this.sort&&i.sort()},this.removeOption=function(r,o){for(o=o||!1,r=(r=r||"").toString();i.indexOf(r)!==-1&&(i.splice(i.indexOf(r),1),o!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,18)},set:function(r){r?this.Ff=ls(this.Ff,18):this.Ff=cs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ls(this.Ff,19):this.Ff=cs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,20)},set:function(r){r?(this.Ff=ls(this.Ff,20),i.sort()):this.Ff=cs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,22)},set:function(r){r?this.Ff=ls(this.Ff,22):this.Ff=cs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,23)},set:function(r){r?this.Ff=ls(this.Ff,23):this.Ff=cs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,27)},set:function(r){r?this.Ff=ls(this.Ff,27):this.Ff=cs(this.Ff,27)}}),this.hasAppearanceStream=!1};pc(ek,eh);var tk=function(){ek.call(this),this.fontName="helvetica",this.combo=!1};pc(tk,ek);var nk=function(){tk.call(this),this.combo=!0};pc(nk,tk);var ux=function(){nk.call(this),this.edit=!0};pc(ux,nk);var ca=function(){eh.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,15)},set:function(r){r?this.Ff=ls(this.Ff,15):this.Ff=cs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,16)},set:function(r){r?this.Ff=ls(this.Ff,16):this.Ff=cs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,17)},set:function(r){r?this.Ff=ls(this.Ff,17):this.Ff=cs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,26)},set:function(r){r?this.Ff=ls(this.Ff,26):this.Ff=cs(this.Ff,26)}});var t,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(c){return c};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(i).length!==0){var o,a=[];for(o in a.push("<<"),i)a.push("/"+o+" ("+bb(r(i[o]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){qi(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};pc(ca,eh);var dx=function(){ca.call(this),this.pushButton=!0};pc(dx,ca);var rk=function(){ca.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(i){t=i!==void 0?i:[]}})};pc(rk,ca);var Yx=function(){var t,i;eh.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return i},set:function(a){i=a}});var r,o={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(p){return p};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var c,d=[];for(c in d.push("<<"),o)d.push("/"+c+" ("+bb(a(o[c]))+")");return d.push(">>"),d.join(`
`)},set:function(a){qi(a)==="object"&&(o=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return o.CA||""},set:function(a){typeof a=="string"&&(o.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=bn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};pc(Yx,eh),rk.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var i in this.Kids)if(this.Kids.hasOwnProperty(i)){var r=this.Kids[i];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},rk.prototype.createOption=function(t){var i=new Yx;return i.Parent=this,i.optionName=t,this.Kids.push(i),KX.call(this.scope,i),i};var hx=function(){ca.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=bn.CheckBox.createAppearanceStream()};pc(hx,ca);var sb=function(){eh.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,13)},set:function(i){i?this.Ff=ls(this.Ff,13):this.Ff=cs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,21)},set:function(i){i?this.Ff=ls(this.Ff,21):this.Ff=cs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,23)},set:function(i){i?this.Ff=ls(this.Ff,23):this.Ff=cs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,24)},set:function(i){i?this.Ff=ls(this.Ff,24):this.Ff=cs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,25)},set:function(i){i?this.Ff=ls(this.Ff,25):this.Ff=cs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,26)},set:function(i){i?this.Ff=ls(this.Ff,26):this.Ff=cs(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(i){Number.isInteger(i)&&(t=i)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};pc(sb,eh);var fx=function(){sb.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,14)},set:function(t){t?this.Ff=ls(this.Ff,14):this.Ff=cs(this.Ff,14)}}),this.password=!0};pc(fx,sb);var bn={CheckBox:{createAppearanceStream:function(){return{N:{On:bn.CheckBox.YesNormal},D:{On:bn.CheckBox.YesPushDown,Off:bn.CheckBox.OffPushDown}}},YesPushDown:function(t){var i=Bh(t);i.scope=t.scope;var r=[],o=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),c=ZE(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Jn(bn.internal.getWidth(t))+" "+Jn(bn.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+o+" "+Jn(c.fontSize)+" Tf "+a),r.push("BT"),r.push(c.text),r.push("ET"),r.push("Q"),r.push("EMC"),i.stream=r.join(`
`),i},YesNormal:function(t){var i=Bh(t);i.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,o=t.scope.__private__.encodeColorString(t.color),a=[],c=bn.internal.getHeight(t),d=bn.internal.getWidth(t),p=ZE(t,t.caption);return a.push("1 g"),a.push("0 0 "+Jn(d)+" "+Jn(c)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Jn(d-1)+" "+Jn(c-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Jn(p.fontSize)+" Tf "+o),a.push(p.text),a.push("ET"),a.push("Q"),i.stream=a.join(`
`),i},OffPushDown:function(t){var i=Bh(t);i.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Jn(bn.internal.getWidth(t))+" "+Jn(bn.internal.getHeight(t))+" re"),r.push("f"),i.stream=r.join(`
`),i}},RadioButton:{Circle:{createAppearanceStream:function(t){var i={D:{Off:bn.RadioButton.Circle.OffPushDown},N:{}};return i.N[t]=bn.RadioButton.Circle.YesNormal,i.D[t]=bn.RadioButton.Circle.YesPushDown,i},getCA:function(){return"l"},YesNormal:function(t){var i=Bh(t);i.scope=t.scope;var r=[],o=bn.internal.getWidth(t)<=bn.internal.getHeight(t)?bn.internal.getWidth(t)/4:bn.internal.getHeight(t)/4;o=Number((.9*o).toFixed(5));var a=bn.internal.Bezier_C,c=Number((o*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Am(bn.internal.getWidth(t)/2)+" "+Am(bn.internal.getHeight(t)/2)+" cm"),r.push(o+" 0 m"),r.push(o+" "+c+" "+c+" "+o+" 0 "+o+" c"),r.push("-"+c+" "+o+" -"+o+" "+c+" -"+o+" 0 c"),r.push("-"+o+" -"+c+" -"+c+" -"+o+" 0 -"+o+" c"),r.push(c+" -"+o+" "+o+" -"+c+" "+o+" 0 c"),r.push("f"),r.push("Q"),i.stream=r.join(`
`),i},YesPushDown:function(t){var i=Bh(t);i.scope=t.scope;var r=[],o=bn.internal.getWidth(t)<=bn.internal.getHeight(t)?bn.internal.getWidth(t)/4:bn.internal.getHeight(t)/4;o=Number((.9*o).toFixed(5));var a=Number((2*o).toFixed(5)),c=Number((a*bn.internal.Bezier_C).toFixed(5)),d=Number((o*bn.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Am(bn.internal.getWidth(t)/2)+" "+Am(bn.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+c+" "+c+" "+a+" 0 "+a+" c"),r.push("-"+c+" "+a+" -"+a+" "+c+" -"+a+" 0 c"),r.push("-"+a+" -"+c+" -"+c+" -"+a+" 0 -"+a+" c"),r.push(c+" -"+a+" "+a+" -"+c+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Am(bn.internal.getWidth(t)/2)+" "+Am(bn.internal.getHeight(t)/2)+" cm"),r.push(o+" 0 m"),r.push(o+" "+d+" "+d+" "+o+" 0 "+o+" c"),r.push("-"+d+" "+o+" -"+o+" "+d+" -"+o+" 0 c"),r.push("-"+o+" -"+d+" -"+d+" -"+o+" 0 -"+o+" c"),r.push(d+" -"+o+" "+o+" -"+d+" "+o+" 0 c"),r.push("f"),r.push("Q"),i.stream=r.join(`
`),i},OffPushDown:function(t){var i=Bh(t);i.scope=t.scope;var r=[],o=bn.internal.getWidth(t)<=bn.internal.getHeight(t)?bn.internal.getWidth(t)/4:bn.internal.getHeight(t)/4;o=Number((.9*o).toFixed(5));var a=Number((2*o).toFixed(5)),c=Number((a*bn.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Am(bn.internal.getWidth(t)/2)+" "+Am(bn.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+c+" "+c+" "+a+" 0 "+a+" c"),r.push("-"+c+" "+a+" -"+a+" "+c+" -"+a+" 0 c"),r.push("-"+a+" -"+c+" -"+c+" -"+a+" 0 -"+a+" c"),r.push(c+" -"+a+" "+a+" -"+c+" "+a+" 0 c"),r.push("f"),r.push("Q"),i.stream=r.join(`
`),i}},Cross:{createAppearanceStream:function(t){var i={D:{Off:bn.RadioButton.Cross.OffPushDown},N:{}};return i.N[t]=bn.RadioButton.Cross.YesNormal,i.D[t]=bn.RadioButton.Cross.YesPushDown,i},getCA:function(){return"8"},YesNormal:function(t){var i=Bh(t);i.scope=t.scope;var r=[],o=bn.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Jn(bn.internal.getWidth(t)-2)+" "+Jn(bn.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Jn(o.x1.x)+" "+Jn(o.x1.y)+" m"),r.push(Jn(o.x2.x)+" "+Jn(o.x2.y)+" l"),r.push(Jn(o.x4.x)+" "+Jn(o.x4.y)+" m"),r.push(Jn(o.x3.x)+" "+Jn(o.x3.y)+" l"),r.push("s"),r.push("Q"),i.stream=r.join(`
`),i},YesPushDown:function(t){var i=Bh(t);i.scope=t.scope;var r=bn.internal.calculateCross(t),o=[];return o.push("0.749023 g"),o.push("0 0 "+Jn(bn.internal.getWidth(t))+" "+Jn(bn.internal.getHeight(t))+" re"),o.push("f"),o.push("q"),o.push("1 1 "+Jn(bn.internal.getWidth(t)-2)+" "+Jn(bn.internal.getHeight(t)-2)+" re"),o.push("W"),o.push("n"),o.push(Jn(r.x1.x)+" "+Jn(r.x1.y)+" m"),o.push(Jn(r.x2.x)+" "+Jn(r.x2.y)+" l"),o.push(Jn(r.x4.x)+" "+Jn(r.x4.y)+" m"),o.push(Jn(r.x3.x)+" "+Jn(r.x3.y)+" l"),o.push("s"),o.push("Q"),i.stream=o.join(`
`),i},OffPushDown:function(t){var i=Bh(t);i.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Jn(bn.internal.getWidth(t))+" "+Jn(bn.internal.getHeight(t))+" re"),r.push("f"),i.stream=r.join(`
`),i}}},createDefaultAppearanceStream:function(t){var i=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+i+" "+t.fontSize+" Tf "+r}};bn.internal={Bezier_C:.551915024494,calculateCross:function(t){var i=bn.internal.getWidth(t),r=bn.internal.getHeight(t),o=Math.min(i,r);return{x1:{x:(i-o)/2,y:(r-o)/2+o},x2:{x:(i-o)/2+o,y:(r-o)/2},x3:{x:(i-o)/2,y:(r-o)/2},x4:{x:(i-o)/2+o,y:(r-o)/2+o}}}},bn.internal.getWidth=function(t){var i=0;return qi(t)==="object"&&(i=v8(t.Rect[2])),i},bn.internal.getHeight=function(t){var i=0;return qi(t)==="object"&&(i=v8(t.Rect[3])),i};var KX=Ko.addField=function(t){if(YX(this,t),!(t instanceof eh))throw new Error("Invalid argument passed to jsPDF.addField.");var i;return(i=t).scope.internal.acroformPlugin.printedOut&&(i.scope.internal.acroformPlugin.printedOut=!1,i.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),i.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(i),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Ko.AcroFormChoiceField=ek,Ko.AcroFormListBox=tk,Ko.AcroFormComboBox=nk,Ko.AcroFormEditBox=ux,Ko.AcroFormButton=ca,Ko.AcroFormPushButton=dx,Ko.AcroFormRadioButton=rk,Ko.AcroFormCheckBox=hx,Ko.AcroFormTextField=sb,Ko.AcroFormPasswordField=fx,Ko.AcroFormAppearance=bn,Ko.AcroForm={ChoiceField:ek,ListBox:tk,ComboBox:nk,EditBox:ux,Button:ca,PushButton:dx,RadioButton:rk,CheckBox:hx,TextField:sb,PasswordField:fx,Appearance:bn},Rn.AcroForm={ChoiceField:ek,ListBox:tk,ComboBox:nk,EditBox:ux,Button:ca,PushButton:dx,RadioButton:rk,CheckBox:hx,TextField:sb,PasswordField:fx,Appearance:bn};Rn.AcroForm;function jP(t){return t.reduce(function(i,r,o){return i[r]=o,i},{})}(function(t){t.__addimage__={};var i="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},o=t.__addimage__.getImageFileTypeByImageData=function(X,K){var U,q,fe,ue,de,ge=i;if((K=K||i)==="RGBA"||X.data!==void 0&&X.data instanceof Uint8ClampedArray&&"height"in X&&"width"in X)return"RGBA";if(H(X))for(de in r)for(fe=r[de],U=0;U<fe.length;U+=1){for(ue=!0,q=0;q<fe[U].length;q+=1)if(fe[U][q]!==void 0&&fe[U][q]!==X[q]){ue=!1;break}if(ue===!0){ge=de;break}}else for(de in r)for(fe=r[de],U=0;U<fe.length;U+=1){for(ue=!0,q=0;q<fe[U].length;q+=1)if(fe[U][q]!==void 0&&fe[U][q]!==X.charCodeAt(q)){ue=!1;break}if(ue===!0){ge=de;break}}return ge===i&&K!==i&&(ge=K),ge},a=function X(K){for(var U=this.internal.write,q=this.internal.putStream,fe=(0,this.internal.getFilters)();fe.indexOf("FlateEncode")!==-1;)fe.splice(fe.indexOf("FlateEncode"),1);K.objectId=this.internal.newObject();var ue=[];if(ue.push({key:"Type",value:"/XObject"}),ue.push({key:"Subtype",value:"/Image"}),ue.push({key:"Width",value:K.width}),ue.push({key:"Height",value:K.height}),K.colorSpace===O.INDEXED?ue.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(K.palette.length/3-1)+" "+("sMask"in K&&K.sMask!==void 0?K.objectId+2:K.objectId+1)+" 0 R]"}):(ue.push({key:"ColorSpace",value:"/"+K.colorSpace}),K.colorSpace===O.DEVICE_CMYK&&ue.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ue.push({key:"BitsPerComponent",value:K.bitsPerComponent}),"decodeParameters"in K&&K.decodeParameters!==void 0&&ue.push({key:"DecodeParms",value:"<<"+K.decodeParameters+">>"}),"transparency"in K&&Array.isArray(K.transparency)){for(var de="",ge=0,Ie=K.transparency.length;ge<Ie;ge++)de+=K.transparency[ge]+" "+K.transparency[ge]+" ";ue.push({key:"Mask",value:"["+de+"]"})}K.sMask!==void 0&&ue.push({key:"SMask",value:K.objectId+1+" 0 R"});var ce=K.filter!==void 0?["/"+K.filter]:void 0;if(q({data:K.data,additionalKeyValues:ue,alreadyAppliedFilters:ce,objectId:K.objectId}),U("endobj"),"sMask"in K&&K.sMask!==void 0){var Te="/Predictor "+K.predictor+" /Colors 1 /BitsPerComponent "+K.bitsPerComponent+" /Columns "+K.width,re={width:K.width,height:K.height,colorSpace:"DeviceGray",bitsPerComponent:K.bitsPerComponent,decodeParameters:Te,data:K.sMask};"filter"in K&&(re.filter=K.filter),X.call(this,re)}if(K.colorSpace===O.INDEXED){var te=this.internal.newObject();q({data:Z(new Uint8Array(K.palette)),objectId:te}),U("endobj")}},c=function(){var X=this.internal.collections.addImage_images;for(var K in X)a.call(this,X[K])},d=function(){var X,K=this.internal.collections.addImage_images,U=this.internal.write;for(var q in K)U("/I"+(X=K[q]).index,X.objectId,"0","R")},p=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",d))},m=function(){var X=this.internal.collections.addImage_images;return p.call(this),X},k=function(){return Object.keys(this.internal.collections.addImage_images).length},w=function(X){return typeof t["process"+X.toUpperCase()]=="function"},_=function(X){return qi(X)==="object"&&X.nodeType===1},C=function(X,K){if(X.nodeName==="IMG"&&X.hasAttribute("src")){var U=""+X.getAttribute("src");if(U.indexOf("data:image/")===0)return Cy(unescape(U).split("base64,").pop());var q=t.loadFile(U,!0);if(q!==void 0)return q}if(X.nodeName==="CANVAS"){if(X.width===0||X.height===0)throw new Error("Given canvas must have data. Canvas width: "+X.width+", height: "+X.height);var fe;switch(K){case"PNG":fe="image/png";break;case"WEBP":fe="image/webp";break;case"JPEG":case"JPG":default:fe="image/jpeg"}return Cy(X.toDataURL(fe,1).split("base64,").pop())}},v=function(X){var K=this.internal.collections.addImage_images;if(K){for(var U in K)if(X===K[U].alias)return K[U]}},D=function(X,K,U){return X||K||(X=-96,K=-96),X<0&&(X=-1*U.width*72/X/this.internal.scaleFactor),K<0&&(K=-1*U.height*72/K/this.internal.scaleFactor),X===0&&(X=K*U.width/U.height),K===0&&(K=X*U.height/U.width),[X,K]},E=function(X,K,U,q,fe,ue){var de=D.call(this,U,q,fe),ge=this.internal.getCoordinateString,Ie=this.internal.getVerticalCoordinateString,ce=m.call(this);if(U=de[0],q=de[1],ce[fe.index]=fe,ue){ue*=Math.PI/180;var Te=Math.cos(ue),re=Math.sin(ue),te=function(be){return be.toFixed(4)},ke=[te(Te),te(re),te(-1*re),te(Te),0,0,"cm"]}this.internal.write("q"),ue?(this.internal.write([1,"0","0",1,ge(X),Ie(K+q),"cm"].join(" ")),this.internal.write(ke.join(" ")),this.internal.write([ge(U),"0","0",ge(q),"0","0","cm"].join(" "))):this.internal.write([ge(U),"0","0",ge(q),ge(X),Ie(K+q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+fe.index+" Do"),this.internal.write("Q")},O=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var M=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},j=t.__addimage__.sHashCode=function(X){var K,U,q=0;if(typeof X=="string")for(U=X.length,K=0;K<U;K++)q=(q<<5)-q+X.charCodeAt(K),q|=0;else if(H(X))for(U=X.byteLength/2,K=0;K<U;K++)q=(q<<5)-q+X[K],q|=0;return q},F=t.__addimage__.validateStringAsBase64=function(X){(X=X||"").toString().trim();var K=!0;return X.length===0&&(K=!1),X.length%4!=0&&(K=!1),/^[A-Za-z0-9+/]+$/.test(X.substr(0,X.length-2))===!1&&(K=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(X.substr(-2))===!1&&(K=!1),K},G=t.__addimage__.extractImageFromDataUrl=function(X){if(X==null||!(X=X.trim()).startsWith("data:"))return null;var K=X.indexOf(",");return K<0?null:X.substring(0,K).trim().endsWith("base64")?X.substring(K+1):null},J=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(X){return J()&&X instanceof ArrayBuffer};var H=t.__addimage__.isArrayBufferView=function(X){return J()&&typeof Uint32Array<"u"&&(X instanceof Int8Array||X instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&X instanceof Uint8ClampedArray||X instanceof Int16Array||X instanceof Uint16Array||X instanceof Int32Array||X instanceof Uint32Array||X instanceof Float32Array||X instanceof Float64Array)},z=t.__addimage__.binaryStringToUint8Array=function(X){for(var K=X.length,U=new Uint8Array(K),q=0;q<K;q++)U[q]=X.charCodeAt(q);return U},Z=t.__addimage__.arrayBufferToBinaryString=function(X){for(var K="",U=H(X)?X:new Uint8Array(X),q=0;q<U.length;q+=8192)K+=String.fromCharCode.apply(null,U.subarray(q,q+8192));return K};t.addImage=function(){var X,K,U,q,fe,ue,de,ge,Ie;if(typeof arguments[1]=="number"?(K=i,U=arguments[1],q=arguments[2],fe=arguments[3],ue=arguments[4],de=arguments[5],ge=arguments[6],Ie=arguments[7]):(K=arguments[1],U=arguments[2],q=arguments[3],fe=arguments[4],ue=arguments[5],de=arguments[6],ge=arguments[7],Ie=arguments[8]),qi(X=arguments[0])==="object"&&!_(X)&&"imageData"in X){var ce=X;X=ce.imageData,K=ce.format||K||i,U=ce.x||U||0,q=ce.y||q||0,fe=ce.w||ce.width||fe,ue=ce.h||ce.height||ue,de=ce.alias||de,ge=ce.compression||ge,Ie=ce.rotation||ce.angle||Ie}var Te=this.internal.getFilters();if(ge===void 0&&Te.indexOf("FlateEncode")!==-1&&(ge="SLOW"),isNaN(U)||isNaN(q))throw new Error("Invalid coordinates passed to jsPDF.addImage");p.call(this);var re=Y.call(this,X,K,de,ge);return E.call(this,U,q,fe,ue,re,Ie),this};var Y=function(X,K,U,q){var fe,ue,de;if(typeof X=="string"&&o(X)===i){X=unescape(X);var ge=se(X,!1);(ge!==""||(ge=t.loadFile(X,!0))!==void 0)&&(X=ge)}if(_(X)&&(X=C(X,K)),K=o(X,K),!w(K))throw new Error("addImage does not support files of type '"+K+"', please ensure that a plugin for '"+K+"' support is added.");if(((de=U)==null||de.length===0)&&(U=function(Ie){return typeof Ie=="string"||H(Ie)?j(Ie):H(Ie.data)?j(Ie.data):null}(X)),(fe=v.call(this,U))||(J()&&(X instanceof Uint8Array||K==="RGBA"||(ue=X,X=z(X))),fe=this["process"+K.toUpperCase()](X,k.call(this),U,function(Ie){return Ie&&typeof Ie=="string"&&(Ie=Ie.toUpperCase()),Ie in t.image_compression?Ie:M.NONE}(q),ue)),!fe)throw new Error("An unknown error occurred whilst processing the image.");return fe},se=t.__addimage__.convertBase64ToBinaryString=function(X,K){K=typeof K!="boolean"||K;var U,q="";if(typeof X=="string"){var fe;U=(fe=G(X))!==null&&fe!==void 0?fe:X;try{q=Cy(U)}catch(ue){if(K)throw F(U)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ue.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return q};t.getImageProperties=function(X){var K,U,q="";if(_(X)&&(X=C(X)),typeof X=="string"&&o(X)===i&&((q=se(X,!1))===""&&(q=t.loadFile(X)||""),X=q),U=o(X),!w(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(!J()||X instanceof Uint8Array||(X=z(X)),!(K=this["process"+U.toUpperCase()](X)))throw new Error("An unknown error occurred whilst processing the image");return K.fileType=U,K}})(Rn.API),function(t){var i=function(r){if(r!==void 0&&r!="")return!0};Rn.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var o,a,c,d=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString,m=this.internal.getPageInfoByObjId(r.objId),k=r.pageContext.annotations,w=!1,_=0;_<k.length&&!w;_++)switch((o=k[_]).type){case"link":(i(o.options.url)||i(o.options.pageNumber))&&(w=!0);break;case"reference":case"text":case"freetext":w=!0}if(w!=0){this.internal.write("/Annots [");for(var C=0;C<k.length;C++){o=k[C];var v=this.internal.pdfEscape,D=this.internal.getEncryptor(r.objId);switch(o.type){case"reference":this.internal.write(" "+o.object.objId+" 0 R ");break;case"text":var E=this.internal.newAdditionalObject(),O=this.internal.newAdditionalObject(),M=this.internal.getEncryptor(E.objId),j=o.title||"Note";c="<</Type /Annot /Subtype /Text "+(a="/Rect ["+d(o.bounds.x)+" "+p(o.bounds.y+o.bounds.h)+" "+d(o.bounds.x+o.bounds.w)+" "+p(o.bounds.y)+"] ")+"/Contents ("+v(M(o.contents))+")",c+=" /Popup "+O.objId+" 0 R",c+=" /P "+m.objId+" 0 R",c+=" /T ("+v(M(j))+") >>",E.content=c;var F=E.objId+" 0 R";c="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+d(o.bounds.x+30)+" "+p(o.bounds.y+o.bounds.h)+" "+d(o.bounds.x+o.bounds.w+30)+" "+p(o.bounds.y)+"] ")+" /Parent "+F,o.open&&(c+=" /Open true"),c+=" >>",O.content=c,this.internal.write(E.objId,"0 R",O.objId,"0 R");break;case"freetext":a="/Rect ["+d(o.bounds.x)+" "+p(o.bounds.y)+" "+d(o.bounds.x+o.bounds.w)+" "+p(o.bounds.y+o.bounds.h)+"] ";var G=o.color||"#000000";c="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+v(D(o.contents))+")",c+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+G+")",c+=" /Border [0 0 0]",c+=" >>",this.internal.write(c);break;case"link":if(o.options.name){var J=this.annotations._nameMap[o.options.name];o.options.pageNumber=J.page,o.options.top=J.y}else o.options.top||(o.options.top=0);if(a="/Rect ["+o.finalBounds.x+" "+o.finalBounds.y+" "+o.finalBounds.w+" "+o.finalBounds.h+"] ",c="",o.options.url)c="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+v(D(o.options.url))+") >>";else if(o.options.pageNumber)switch(c="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(o.options.pageNumber).objId+" 0 R",o.options.magFactor=o.options.magFactor||"XYZ",o.options.magFactor){case"Fit":c+=" /Fit]";break;case"FitH":c+=" /FitH "+o.options.top+"]";break;case"FitV":o.options.left=o.options.left||0,c+=" /FitV "+o.options.left+"]";break;case"XYZ":default:var H=p(o.options.top);o.options.left=o.options.left||0,o.options.zoom===void 0&&(o.options.zoom=0),c+=" /XYZ "+o.options.left+" "+H+" "+o.options.zoom+"]"}c!=""&&(c+=" >>",this.internal.write(c))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var o=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":o.pageContext.annotations.push(r)}},t.link=function(r,o,a,c,d){var p=this.internal.getCurrentPageInfo(),m=this.internal.getCoordinateString,k=this.internal.getVerticalCoordinateString;p.pageContext.annotations.push({finalBounds:{x:m(r),y:k(o),w:m(r+a),h:k(o+c)},options:d,type:"link"})},t.textWithLink=function(r,o,a,c){var d,p,m=this.getTextWidth(r),k=this.internal.getLineHeight()/this.internal.scaleFactor;if(c.maxWidth!==void 0){p=c.maxWidth;var w=this.splitTextToSize(r,p).length;d=Math.ceil(k*w)}else p=m,d=k;return this.text(r,o,a,c),a+=.2*k,c.align==="center"&&(o-=m/2),c.align==="right"&&(o-=m),this.link(o,a-k,p,d,c),m},t.getTextWidth=function(r){var o=this.internal.getFontSize();return this.getStringUnitWidth(r)*o/this.internal.scaleFactor}}(Rn.API),function(t){var i={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},o={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var c=t.__arabicParser__.isInArabicSubstitutionA=function(E){return i[E.charCodeAt(0)]!==void 0},d=t.__arabicParser__.isArabicLetter=function(E){return typeof E=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(E)},p=t.__arabicParser__.isArabicEndLetter=function(E){return d(E)&&c(E)&&i[E.charCodeAt(0)].length<=2},m=t.__arabicParser__.isArabicAlfLetter=function(E){return d(E)&&a.indexOf(E.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(E){return d(E)&&c(E)&&i[E.charCodeAt(0)].length>=1};var k=t.__arabicParser__.arabicLetterHasFinalForm=function(E){return d(E)&&c(E)&&i[E.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(E){return d(E)&&c(E)&&i[E.charCodeAt(0)].length>=3};var w=t.__arabicParser__.arabicLetterHasMedialForm=function(E){return d(E)&&c(E)&&i[E.charCodeAt(0)].length==4},_=t.__arabicParser__.resolveLigatures=function(E){var O=0,M=r,j="",F=0;for(O=0;O<E.length;O+=1)M[E.charCodeAt(O)]!==void 0?(F++,typeof(M=M[E.charCodeAt(O)])=="number"&&(j+=String.fromCharCode(M),M=r,F=0),O===E.length-1&&(M=r,j+=E.charAt(O-(F-1)),O-=F-1,F=0)):(M=r,j+=E.charAt(O-F),O-=F,F=0);return j};t.__arabicParser__.isArabicDiacritic=function(E){return E!==void 0&&o[E.charCodeAt(0)]!==void 0};var C=t.__arabicParser__.getCorrectForm=function(E,O,M){return d(E)?c(E)===!1?-1:!k(E)||!d(O)&&!d(M)||!d(M)&&p(O)||p(E)&&!d(O)||p(E)&&m(O)||p(E)&&p(O)?0:w(E)&&d(O)&&!p(O)&&d(M)&&k(M)?3:p(E)||!d(M)?1:2:-1},v=function(E){var O=0,M=0,j=0,F="",G="",J="",H=(E=E||"").split("\\s+"),z=[];for(O=0;O<H.length;O+=1){for(z.push(""),M=0;M<H[O].length;M+=1)F=H[O][M],G=H[O][M-1],J=H[O][M+1],d(F)?(j=C(F,G,J),z[O]+=j!==-1?String.fromCharCode(i[F.charCodeAt(0)][j]):F):z[O]+=F;z[O]=_(z[O])}return z.join(" ")},D=t.__arabicParser__.processArabic=t.processArabic=function(){var E,O=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,M=[];if(Array.isArray(O)){var j=0;for(M=[],j=0;j<O.length;j+=1)Array.isArray(O[j])?M.push([v(O[j][0]),O[j][1],O[j][2]]):M.push([v(O[j])]);E=M}else E=v(O);return typeof arguments[0]=="string"?E:(arguments[0].text=E,arguments[0])};t.events.push(["preProcessText",D])}(Rn.API),Rn.API.autoPrint=function(t){var i;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){i=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+i+" 0 R")})}return this},function(t){var i=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(p){r=p}});var o=150;Object.defineProperty(this,"width",{get:function(){return o},set:function(p){o=isNaN(p)||Number.isInteger(p)===!1||p<0?150:p,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=o+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(p){a=isNaN(p)||Number.isInteger(p)===!1||p<0?300:p,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var c=[];Object.defineProperty(this,"childNodes",{get:function(){return c},set:function(p){c=p}});var d={};Object.defineProperty(this,"style",{get:function(){return d},set:function(p){d=p}}),Object.defineProperty(this,"parentNode",{})};i.prototype.getContext=function(r,o){var a;if((r=r||"2d")!=="2d")return null;for(a in o)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=o[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},i.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new i,this.canvas.pdf=this}])}(Rn.API),function(t){var i={left:0,top:0,bottom:0,right:0},r=!1,o=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},i),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new c,this.internal.__cell__.pages=1},c=function(){var m=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return m},set:function(E){m=E}});var k=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return k},set:function(E){k=E}});var w=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return w},set:function(E){w=E}});var _=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return _},set:function(E){_=E}});var C=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return C},set:function(E){C=E}});var v=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return v},set:function(E){v=E}});var D=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return D},set:function(E){D=E}}),this};c.prototype.clone=function(){return new c(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},c.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(m){return o.call(this),this.internal.__cell__.headerFunction=typeof m=="function"?m:void 0,this},t.getTextDimensions=function(m,k){o.call(this);var w=(k=k||{}).fontSize||this.getFontSize(),_=k.font||this.getFont(),C=k.scaleFactor||this.internal.scaleFactor,v=0,D=0,E=0,O=this;if(!Array.isArray(m)&&typeof m!="string"){if(typeof m!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");m=String(m)}var M=k.maxWidth;M>0?typeof m=="string"?m=this.splitTextToSize(m,M):Object.prototype.toString.call(m)==="[object Array]"&&(m=m.reduce(function(F,G){return F.concat(O.splitTextToSize(G,M))},[])):m=Array.isArray(m)?m:[m];for(var j=0;j<m.length;j++)v<(E=this.getStringUnitWidth(m[j],{font:_})*w)&&(v=E);return v!==0&&(D=m.length),{w:v/=C,h:Math.max((D*w*this.getLineHeightFactor()-w*(this.getLineHeightFactor()-1))/C,0)}},t.cellAddPage=function(){o.call(this),this.addPage();var m=this.internal.__cell__.margins||i;return this.internal.__cell__.lastCell=new c(m.left,m.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var d=t.cell=function(){var m;m=arguments[0]instanceof c?arguments[0]:new c(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),o.call(this);var k=this.internal.__cell__.lastCell,w=this.internal.__cell__.padding,_=this.internal.__cell__.margins||i,C=this.internal.__cell__.tableHeaderRow,v=this.internal.__cell__.printHeaders;return k.lineNumber!==void 0&&(k.lineNumber===m.lineNumber?(m.x=(k.x||0)+(k.width||0),m.y=k.y||0):k.y+k.height+m.height+_.bottom>this.getPageHeight()?(this.cellAddPage(),m.y=_.top,v&&C&&(this.printHeaderRow(m.lineNumber,!0),m.y+=C[0].height)):m.y=k.y+k.height||m.y),m.text[0]!==void 0&&(this.rect(m.x,m.y,m.width,m.height,r===!0?"FD":void 0),m.align==="right"?this.text(m.text,m.x+m.width-w,m.y+w,{align:"right",baseline:"top"}):m.align==="center"?this.text(m.text,m.x+m.width/2,m.y+w,{align:"center",baseline:"top",maxWidth:m.width-w-w}):this.text(m.text,m.x+w,m.y+w,{align:"left",baseline:"top",maxWidth:m.width-w-w})),this.internal.__cell__.lastCell=m,this};t.table=function(m,k,w,_,C){if(o.call(this),!w)throw new Error("No data for PDF table.");var v,D,E,O,M=[],j=[],F=[],G={},J={},H=[],z=[],Z=(C=C||{}).autoSize||!1,Y=C.printHeaders!==!1,se=C.css&&C.css["font-size"]!==void 0?16*C.css["font-size"]:C.fontSize||12,X=C.margins||Object.assign({width:this.getPageWidth()},i),K=typeof C.padding=="number"?C.padding:3,U=C.headerBackgroundColor||"#c8c8c8",q=C.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=Y,this.internal.__cell__.margins=X,this.internal.__cell__.table_font_size=se,this.internal.__cell__.padding=K,this.internal.__cell__.headerBackgroundColor=U,this.internal.__cell__.headerTextColor=q,this.setFontSize(se),_==null)j=M=Object.keys(w[0]),F=M.map(function(){return"left"});else if(Array.isArray(_)&&qi(_[0])==="object")for(M=_.map(function(ce){return ce.name}),j=_.map(function(ce){return ce.prompt||ce.name||""}),F=_.map(function(ce){return ce.align||"left"}),v=0;v<_.length;v+=1)J[_[v].name]=_[v].width*(19.049976/25.4);else Array.isArray(_)&&typeof _[0]=="string"&&(j=M=_,F=M.map(function(){return"left"}));if(Z||Array.isArray(_)&&typeof _[0]=="string")for(v=0;v<M.length;v+=1){for(G[O=M[v]]=w.map(function(ce){return ce[O]}),this.setFont(void 0,"bold"),H.push(this.getTextDimensions(j[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),D=G[O],this.setFont(void 0,"normal"),E=0;E<D.length;E+=1)H.push(this.getTextDimensions(D[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);J[O]=Math.max.apply(null,H)+K+K,H=[]}if(Y){var fe={};for(v=0;v<M.length;v+=1)fe[M[v]]={},fe[M[v]].text=j[v],fe[M[v]].align=F[v];var ue=p.call(this,fe,J);z=M.map(function(ce){return new c(m,k,J[ce],ue,fe[ce].text,void 0,fe[ce].align)}),this.setTableHeaderRow(z),this.printHeaderRow(1,!1)}var de=_.reduce(function(ce,Te){return ce[Te.name]=Te.align,ce},{});for(v=0;v<w.length;v+=1){"rowStart"in C&&C.rowStart instanceof Function&&C.rowStart({row:v,data:w[v]},this);var ge=p.call(this,w[v],J);for(E=0;E<M.length;E+=1){var Ie=w[v][M[E]];"cellStart"in C&&C.cellStart instanceof Function&&C.cellStart({row:v,col:E,data:Ie},this),d.call(this,new c(m,k,J[M[E]],ge,Ie,v+2,de[M[E]]))}}return this.internal.__cell__.table_x=m,this.internal.__cell__.table_y=k,this};var p=function(m,k){var w=this.internal.__cell__.padding,_=this.internal.__cell__.table_font_size,C=this.internal.scaleFactor;return Object.keys(m).map(function(v){var D=m[v];return this.splitTextToSize(D.hasOwnProperty("text")?D.text:D,k[v]-w-w)},this).map(function(v){return this.getLineHeightFactor()*v.length*_/C+w+w},this).reduce(function(v,D){return Math.max(v,D)},0)};t.setTableHeaderRow=function(m){o.call(this),this.internal.__cell__.tableHeaderRow=m},t.printHeaderRow=function(m,k){if(o.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var w;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var _=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new c(_[0],_[1],_[2],_[3],void 0,-1)}this.setFont(void 0,"bold");for(var C=[],v=0;v<this.internal.__cell__.tableHeaderRow.length;v+=1){w=this.internal.__cell__.tableHeaderRow[v].clone(),k&&(w.y=this.internal.__cell__.margins.top||0,C.push(w)),w.lineNumber=m;var D=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),d.call(this,w),this.setTextColor(D)}C.length>0&&this.setTableHeaderRow(C),this.setFont(void 0,"normal"),r=!1}}(Rn.API);var LP={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},PP=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],JE=jP(PP),RP=[100,200,300,400,500,600,700,800,900],QX=jP(RP);function XE(t){var i=t.family.replace(/"|'/g,"").toLowerCase(),r=function(c){return LP[c=c||"normal"]?c:"normal"}(t.style),o=function(c){if(!c)return 400;if(typeof c=="number")return c>=100&&c<=900&&c%100==0?c:400;if(/^\d00$/.test(c))return parseInt(c);switch(c){case"bold":return 700;case"normal":default:return 400}}(t.weight),a=function(c){return typeof JE[c=c||"normal"]=="number"?c:"normal"}(t.stretch);return{family:i,style:r,weight:o,stretch:a,src:t.src||[],ref:t.ref||{name:i,style:[a,r,o].join(" ")}}}function y8(t,i,r,o){var a;for(a=r;a>=0&&a<i.length;a+=o)if(t[i[a]])return t[i[a]];for(a=r;a>=0&&a<i.length;a-=o)if(t[i[a]])return t[i[a]]}var ZX={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},A8={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function _8(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function JX(t,i,r){for(var o=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},ZX,r.genericFontFamilies||{}),c=null,d=null,p=0;p<i.length;++p)if(a[(c=XE(i[p])).family]&&(c.family=a[c.family]),t.hasOwnProperty(c.family)){d=t[c.family];break}if(!(d=d||t[o]))throw new Error("Could not find a font-family for the rule '"+_8(c)+"' and default family '"+o+"'.");if(d=function(m,k){if(k[m])return k[m];var w=JE[m],_=w<=JE.normal?-1:1,C=y8(k,PP,w,_);if(!C)throw new Error("Could not find a matching font-stretch value for "+m);return C}(c.stretch,d),d=function(m,k){if(k[m])return k[m];for(var w=LP[m],_=0;_<w.length;++_)if(k[w[_]])return k[w[_]];throw new Error("Could not find a matching font-style for "+m)}(c.style,d),!(d=function(m,k){if(k[m])return k[m];if(m===400&&k[500])return k[500];if(m===500&&k[400])return k[400];var w=QX[m],_=y8(k,RP,w,m<400?-1:1);if(!_)throw new Error("Could not find a matching font-weight for value "+m);return _}(c.weight,d)))throw new Error("Failed to resolve a font for the rule '"+_8(c)+"'.");return d}function C8(t){return t.trimLeft()}function XX(t,i){for(var r=0;r<t.length;){if(t.charAt(r)===i)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function eee(t){var i=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return i===null?null:[i[0],t.substring(i[0].length)]}var WC,x8,S8,G3=["times"];(function(t){var i,r,o,a,c,d,p,m,k,w=function(re){return re=re||{},this.isStrokeTransparent=re.isStrokeTransparent||!1,this.strokeOpacity=re.strokeOpacity||1,this.strokeStyle=re.strokeStyle||"#000000",this.fillStyle=re.fillStyle||"#000000",this.isFillTransparent=re.isFillTransparent||!1,this.fillOpacity=re.fillOpacity||1,this.font=re.font||"10px sans-serif",this.textBaseline=re.textBaseline||"alphabetic",this.textAlign=re.textAlign||"left",this.lineWidth=re.lineWidth||1,this.lineJoin=re.lineJoin||"miter",this.lineCap=re.lineCap||"butt",this.path=re.path||[],this.transform=re.transform!==void 0?re.transform.clone():new m,this.globalCompositeOperation=re.globalCompositeOperation||"normal",this.globalAlpha=re.globalAlpha||1,this.clip_path=re.clip_path||[],this.currentPoint=re.currentPoint||new d,this.miterLimit=re.miterLimit||10,this.lastPoint=re.lastPoint||new d,this.lineDashOffset=re.lineDashOffset||0,this.lineDash=re.lineDash||[],this.margin=re.margin||[0,0,0,0],this.prevPageLastElemOffset=re.prevPageLastElemOffset||0,this.ignoreClearRect=typeof re.ignoreClearRect!="boolean"||re.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new _(this),i=this.internal.f2,r=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,c=this.internal.getVerticalCoordinate,d=this.internal.Point,p=this.internal.Rectangle,m=this.internal.Matrix,k=new w}]);var _=function(re){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var te=re;Object.defineProperty(this,"pdf",{get:function(){return te}});var ke=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ke},set:function(Le){ke=!!Le}});var be=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return be},set:function(Le){be=!!Le}});var ve=0;Object.defineProperty(this,"posX",{get:function(){return ve},set:function(Le){isNaN(Le)||(ve=Le)}});var Re=0;Object.defineProperty(this,"posY",{get:function(){return Re},set:function(Le){isNaN(Le)||(Re=Le)}}),Object.defineProperty(this,"margin",{get:function(){return k.margin},set:function(Le){var we;typeof Le=="number"?we=[Le,Le,Le,Le]:((we=new Array(4))[0]=Le[0],we[1]=Le.length>=2?Le[1]:we[0],we[2]=Le.length>=3?Le[2]:we[0],we[3]=Le.length>=4?Le[3]:we[1]),k.margin=we}});var Oe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Oe},set:function(Le){Oe=Le}});var Ue=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ue},set:function(Le){Ue=Le}});var Ze=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ze},set:function(Le){Ze=Le}}),Object.defineProperty(this,"ctx",{get:function(){return k},set:function(Le){Le instanceof w&&(k=Le)}}),Object.defineProperty(this,"path",{get:function(){return k.path},set:function(Le){k.path=Le}});var Ge=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ge},set:function(Le){Ge=Le}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Le){var we;we=C(Le),this.ctx.fillStyle=we.style,this.ctx.isFillTransparent=we.a===0,this.ctx.fillOpacity=we.a,this.pdf.setFillColor(we.r,we.g,we.b,{a:we.a}),this.pdf.setTextColor(we.r,we.g,we.b,{a:we.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Le){var we=C(Le);this.ctx.strokeStyle=we.style,this.ctx.isStrokeTransparent=we.a===0,this.ctx.strokeOpacity=we.a,we.a===0?this.pdf.setDrawColor(255,255,255):(we.a,this.pdf.setDrawColor(we.r,we.g,we.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Le){["butt","round","square"].indexOf(Le)!==-1&&(this.ctx.lineCap=Le,this.pdf.setLineCap(Le))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Le){isNaN(Le)||(this.ctx.lineWidth=Le,this.pdf.setLineWidth(Le))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Le){["bevel","round","miter"].indexOf(Le)!==-1&&(this.ctx.lineJoin=Le,this.pdf.setLineJoin(Le))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Le){isNaN(Le)||(this.ctx.miterLimit=Le,this.pdf.setMiterLimit(Le))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Le){this.ctx.textBaseline=Le}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Le){["right","end","center","left","start"].indexOf(Le)!==-1&&(this.ctx.textAlign=Le)}});var ft=null;function gt(Le,we){if(ft===null){var Ee=function(Ae){var Ne=[];return Object.keys(Ae).forEach(function(Ke){Ae[Ke].forEach(function(Xe){var ze=null;switch(Xe){case"bold":ze={family:Ke,weight:"bold"};break;case"italic":ze={family:Ke,style:"italic"};break;case"bolditalic":ze={family:Ke,weight:"bold",style:"italic"};break;case"":case"normal":ze={family:Ke}}ze!==null&&(ze.ref={name:Ke,style:Xe},Ne.push(ze))})}),Ne}(Le.getFontList());ft=function(Ae){for(var Ne={},Ke=0;Ke<Ae.length;++Ke){var Xe=XE(Ae[Ke]),ze=Xe.family,dt=Xe.stretch,wt=Xe.style,ot=Xe.weight;Ne[ze]=Ne[ze]||{},Ne[ze][dt]=Ne[ze][dt]||{},Ne[ze][dt][wt]=Ne[ze][dt][wt]||{},Ne[ze][dt][wt][ot]=Xe}return Ne}(Ee.concat(we))}return ft}var oe=null;Object.defineProperty(this,"fontFaces",{get:function(){return oe},set:function(Le){ft=null,oe=Le}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Le){var we;if(this.ctx.font=Le,(we=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Le))!==null){var Ee=we[1];we[2];var Ae=we[3],Ne=we[4];we[5];var Ke=we[6],Xe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ne)[2];Ne=Math.floor(Xe==="px"?parseFloat(Ne)*this.pdf.internal.scaleFactor:Xe==="em"?parseFloat(Ne)*this.pdf.getFontSize():parseFloat(Ne)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ne);var ze=function(kt){var Gt,yt,jn=[],on=kt.trim();if(on==="")return G3;if(on in A8)return[A8[on]];for(;on!=="";){switch(yt=null,Gt=(on=C8(on)).charAt(0)){case'"':case"'":yt=XX(on.substring(1),Gt);break;default:yt=eee(on)}if(yt===null||(jn.push(yt[0]),(on=C8(yt[1]))!==""&&on.charAt(0)!==","))return G3;on=on.replace(/^,/,"")}return jn}(Ke);if(this.fontFaces){var dt=JX(gt(this.pdf,this.fontFaces),ze.map(function(kt){return{family:kt,stretch:"normal",weight:Ae,style:Ee}}));this.pdf.setFont(dt.ref.name,dt.ref.style)}else{var wt="";(Ae==="bold"||parseInt(Ae,10)>=700||Ee==="bold")&&(wt="bold"),Ee==="italic"&&(wt+="italic"),wt.length===0&&(wt="normal");for(var ot="",pt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},He=0;He<ze.length;He++){if(this.pdf.internal.getFont(ze[He],wt,{noFallback:!0,disableWarning:!0})!==void 0){ot=ze[He];break}if(wt==="bolditalic"&&this.pdf.internal.getFont(ze[He],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ot=ze[He],wt="bold";else if(this.pdf.internal.getFont(ze[He],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ot=ze[He],wt="normal";break}}if(ot===""){for(var at=0;at<ze.length;at++)if(pt[ze[at]]){ot=pt[ze[at]];break}}ot=ot===""?"Times":ot,this.pdf.setFont(ot,wt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Le){this.ctx.globalCompositeOperation=Le}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Le){this.ctx.globalAlpha=Le}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Le){this.ctx.lineDashOffset=Le,Te.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Le){this.ctx.lineDash=Le,Te.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Le){this.ctx.ignoreClearRect=!!Le}})};_.prototype.setLineDash=function(re){this.lineDash=re},_.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},_.prototype.fill=function(){G.call(this,"fill",!1)},_.prototype.stroke=function(){G.call(this,"stroke",!1)},_.prototype.beginPath=function(){this.path=[{type:"begin"}]},_.prototype.moveTo=function(re,te){if(isNaN(re)||isNaN(te))throw Ui.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ke=this.ctx.transform.applyToPoint(new d(re,te));this.path.push({type:"mt",x:ke.x,y:ke.y}),this.ctx.lastPoint=new d(re,te)},_.prototype.closePath=function(){var re=new d(0,0),te=0;for(te=this.path.length-1;te!==-1;te--)if(this.path[te].type==="begin"&&qi(this.path[te+1])==="object"&&typeof this.path[te+1].x=="number"){re=new d(this.path[te+1].x,this.path[te+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new d(re.x,re.y)},_.prototype.lineTo=function(re,te){if(isNaN(re)||isNaN(te))throw Ui.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ke=this.ctx.transform.applyToPoint(new d(re,te));this.path.push({type:"lt",x:ke.x,y:ke.y}),this.ctx.lastPoint=new d(ke.x,ke.y)},_.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),G.call(this,null,!0)},_.prototype.quadraticCurveTo=function(re,te,ke,be){if(isNaN(ke)||isNaN(be)||isNaN(re)||isNaN(te))throw Ui.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ve=this.ctx.transform.applyToPoint(new d(ke,be)),Re=this.ctx.transform.applyToPoint(new d(re,te));this.path.push({type:"qct",x1:Re.x,y1:Re.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new d(ve.x,ve.y)},_.prototype.bezierCurveTo=function(re,te,ke,be,ve,Re){if(isNaN(ve)||isNaN(Re)||isNaN(re)||isNaN(te)||isNaN(ke)||isNaN(be))throw Ui.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Oe=this.ctx.transform.applyToPoint(new d(ve,Re)),Ue=this.ctx.transform.applyToPoint(new d(re,te)),Ze=this.ctx.transform.applyToPoint(new d(ke,be));this.path.push({type:"bct",x1:Ue.x,y1:Ue.y,x2:Ze.x,y2:Ze.y,x:Oe.x,y:Oe.y}),this.ctx.lastPoint=new d(Oe.x,Oe.y)},_.prototype.arc=function(re,te,ke,be,ve,Re){if(isNaN(re)||isNaN(te)||isNaN(ke)||isNaN(be)||isNaN(ve))throw Ui.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Re=!!Re,!this.ctx.transform.isIdentity){var Oe=this.ctx.transform.applyToPoint(new d(re,te));re=Oe.x,te=Oe.y;var Ue=this.ctx.transform.applyToPoint(new d(0,ke)),Ze=this.ctx.transform.applyToPoint(new d(0,0));ke=Math.sqrt(Math.pow(Ue.x-Ze.x,2)+Math.pow(Ue.y-Ze.y,2))}Math.abs(ve-be)>=2*Math.PI&&(be=0,ve=2*Math.PI),this.path.push({type:"arc",x:re,y:te,radius:ke,startAngle:be,endAngle:ve,counterclockwise:Re})},_.prototype.arcTo=function(re,te,ke,be,ve){throw new Error("arcTo not implemented.")},_.prototype.rect=function(re,te,ke,be){if(isNaN(re)||isNaN(te)||isNaN(ke)||isNaN(be))throw Ui.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(re,te),this.lineTo(re+ke,te),this.lineTo(re+ke,te+be),this.lineTo(re,te+be),this.lineTo(re,te),this.lineTo(re+ke,te),this.lineTo(re,te)},_.prototype.fillRect=function(re,te,ke,be){if(isNaN(re)||isNaN(te)||isNaN(ke)||isNaN(be))throw Ui.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!v.call(this)){var ve={};this.lineCap!=="butt"&&(ve.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ve.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(re,te,ke,be),this.fill(),ve.hasOwnProperty("lineCap")&&(this.lineCap=ve.lineCap),ve.hasOwnProperty("lineJoin")&&(this.lineJoin=ve.lineJoin)}},_.prototype.strokeRect=function(re,te,ke,be){if(isNaN(re)||isNaN(te)||isNaN(ke)||isNaN(be))throw Ui.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");D.call(this)||(this.beginPath(),this.rect(re,te,ke,be),this.stroke())},_.prototype.clearRect=function(re,te,ke,be){if(isNaN(re)||isNaN(te)||isNaN(ke)||isNaN(be))throw Ui.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(re,te,ke,be))},_.prototype.save=function(re){re=typeof re!="boolean"||re;for(var te=this.pdf.internal.getCurrentPageInfo().pageNumber,ke=0;ke<this.pdf.internal.getNumberOfPages();ke++)this.pdf.setPage(ke+1),this.pdf.internal.out("q");if(this.pdf.setPage(te),re){this.ctx.fontSize=this.pdf.internal.getFontSize();var be=new w(this.ctx);this.ctxStack.push(this.ctx),this.ctx=be}},_.prototype.restore=function(re){re=typeof re!="boolean"||re;for(var te=this.pdf.internal.getCurrentPageInfo().pageNumber,ke=0;ke<this.pdf.internal.getNumberOfPages();ke++)this.pdf.setPage(ke+1),this.pdf.internal.out("Q");this.pdf.setPage(te),re&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},_.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var C=function(re){var te,ke,be,ve;if(re.isCanvasGradient===!0&&(re=re.getColor()),!re)return{r:0,g:0,b:0,a:0,style:re};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(re))te=0,ke=0,be=0,ve=0;else{var Re=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(re);if(Re!==null)te=parseInt(Re[1]),ke=parseInt(Re[2]),be=parseInt(Re[3]),ve=1;else if((Re=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(re))!==null)te=parseInt(Re[1]),ke=parseInt(Re[2]),be=parseInt(Re[3]),ve=parseFloat(Re[4]);else{if(ve=1,typeof re=="string"&&re.charAt(0)!=="#"){var Oe=new IP(re);re=Oe.ok?Oe.toHex():"#000000"}re.length===4?(te=re.substring(1,2),te+=te,ke=re.substring(2,3),ke+=ke,be=re.substring(3,4),be+=be):(te=re.substring(1,3),ke=re.substring(3,5),be=re.substring(5,7)),te=parseInt(te,16),ke=parseInt(ke,16),be=parseInt(be,16)}}return{r:te,g:ke,b:be,a:ve,style:re}},v=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},D=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};_.prototype.fillText=function(re,te,ke,be){if(isNaN(te)||isNaN(ke)||typeof re!="string")throw Ui.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(be=isNaN(be)?void 0:be,!v.call(this)){var ve=ge(this.ctx.transform.rotation),Re=this.ctx.transform.scaleX;K.call(this,{text:re,x:te,y:ke,scale:Re,angle:ve,align:this.textAlign,maxWidth:be})}},_.prototype.strokeText=function(re,te,ke,be){if(isNaN(te)||isNaN(ke)||typeof re!="string")throw Ui.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!D.call(this)){be=isNaN(be)?void 0:be;var ve=ge(this.ctx.transform.rotation),Re=this.ctx.transform.scaleX;K.call(this,{text:re,x:te,y:ke,scale:Re,renderingMode:"stroke",angle:ve,align:this.textAlign,maxWidth:be})}},_.prototype.measureText=function(re){if(typeof re!="string")throw Ui.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var te=this.pdf,ke=this.pdf.internal.scaleFactor,be=te.internal.getFontSize(),ve=te.getStringUnitWidth(re)*be/te.internal.scaleFactor,Re=function(Oe){var Ue=(Oe=Oe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ue}}),this};return new Re({width:ve*=Math.round(96*ke/72*1e4)/1e4})},_.prototype.scale=function(re,te){if(isNaN(re)||isNaN(te))throw Ui.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ke=new m(re,0,0,te,0,0);this.ctx.transform=this.ctx.transform.multiply(ke)},_.prototype.rotate=function(re){if(isNaN(re))throw Ui.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var te=new m(Math.cos(re),Math.sin(re),-Math.sin(re),Math.cos(re),0,0);this.ctx.transform=this.ctx.transform.multiply(te)},_.prototype.translate=function(re,te){if(isNaN(re)||isNaN(te))throw Ui.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ke=new m(1,0,0,1,re,te);this.ctx.transform=this.ctx.transform.multiply(ke)},_.prototype.transform=function(re,te,ke,be,ve,Re){if(isNaN(re)||isNaN(te)||isNaN(ke)||isNaN(be)||isNaN(ve)||isNaN(Re))throw Ui.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Oe=new m(re,te,ke,be,ve,Re);this.ctx.transform=this.ctx.transform.multiply(Oe)},_.prototype.setTransform=function(re,te,ke,be,ve,Re){re=isNaN(re)?1:re,te=isNaN(te)?0:te,ke=isNaN(ke)?0:ke,be=isNaN(be)?1:be,ve=isNaN(ve)?0:ve,Re=isNaN(Re)?0:Re,this.ctx.transform=new m(re,te,ke,be,ve,Re)};var E=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};_.prototype.drawImage=function(re,te,ke,be,ve,Re,Oe,Ue,Ze){var Ge=this.pdf.getImageProperties(re),ft=1,gt=1,oe=1,Le=1;be!==void 0&&Ue!==void 0&&(oe=Ue/be,Le=Ze/ve,ft=Ge.width/be*Ue/be,gt=Ge.height/ve*Ze/ve),Re===void 0&&(Re=te,Oe=ke,te=0,ke=0),be!==void 0&&Ue===void 0&&(Ue=be,Ze=ve),be===void 0&&Ue===void 0&&(Ue=Ge.width,Ze=Ge.height);for(var we,Ee=this.ctx.transform.decompose(),Ae=ge(Ee.rotate.shx),Ne=new m,Ke=(Ne=(Ne=(Ne=Ne.multiply(Ee.translate)).multiply(Ee.skew)).multiply(Ee.scale)).applyToRectangle(new p(Re-te*oe,Oe-ke*Le,be*ft,ve*gt)),Xe=O.call(this,Ke),ze=[],dt=0;dt<Xe.length;dt+=1)ze.indexOf(Xe[dt])===-1&&ze.push(Xe[dt]);if(F(ze),this.autoPaging)for(var wt=ze[0],ot=ze[ze.length-1],pt=wt;pt<ot+1;pt++){this.pdf.setPage(pt);var He=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],at=pt===1?this.posY+this.margin[0]:this.margin[0],kt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],yt=pt===1?0:kt+(pt-2)*Gt;if(this.ctx.clip_path.length!==0){var jn=this.path;we=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(we,this.posX+this.margin[3],-yt+at+this.ctx.prevPageLastElemOffset),J.call(this,"fill",!0),this.path=jn}var on=JSON.parse(JSON.stringify(Ke));on=j([on],this.posX+this.margin[3],-yt+at+this.ctx.prevPageLastElemOffset)[0];var kr=(pt>wt||pt<ot)&&E.call(this);kr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],He,Gt,null).clip().discardPath()),this.pdf.addImage(re,"JPEG",on.x,on.y,on.w,on.h,null,null,Ae),kr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(re,"JPEG",Ke.x,Ke.y,Ke.w,Ke.h,null,null,Ae)};var O=function(re,te,ke){var be=[];te=te||this.pdf.internal.pageSize.width,ke=ke||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ve=this.posY+this.ctx.prevPageLastElemOffset;switch(re.type){default:case"mt":case"lt":be.push(Math.floor((re.y+ve)/ke)+1);break;case"arc":be.push(Math.floor((re.y+ve-re.radius)/ke)+1),be.push(Math.floor((re.y+ve+re.radius)/ke)+1);break;case"qct":var Re=Ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,re.x1,re.y1,re.x,re.y);be.push(Math.floor((Re.y+ve)/ke)+1),be.push(Math.floor((Re.y+Re.h+ve)/ke)+1);break;case"bct":var Oe=ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,re.x1,re.y1,re.x2,re.y2,re.x,re.y);be.push(Math.floor((Oe.y+ve)/ke)+1),be.push(Math.floor((Oe.y+Oe.h+ve)/ke)+1);break;case"rect":be.push(Math.floor((re.y+ve)/ke)+1),be.push(Math.floor((re.y+re.h+ve)/ke)+1)}for(var Ue=0;Ue<be.length;Ue+=1)for(;this.pdf.internal.getNumberOfPages()<be[Ue];)M.call(this);return be},M=function(){var re=this.fillStyle,te=this.strokeStyle,ke=this.font,be=this.lineCap,ve=this.lineWidth,Re=this.lineJoin;this.pdf.addPage(),this.fillStyle=re,this.strokeStyle=te,this.font=ke,this.lineCap=be,this.lineWidth=ve,this.lineJoin=Re},j=function(re,te,ke){for(var be=0;be<re.length;be++)switch(re[be].type){case"bct":re[be].x2+=te,re[be].y2+=ke;case"qct":re[be].x1+=te,re[be].y1+=ke;case"mt":case"lt":case"arc":default:re[be].x+=te,re[be].y+=ke}return re},F=function(re){return re.sort(function(te,ke){return te-ke})},G=function(re,te){for(var ke,be,ve=this.fillStyle,Re=this.strokeStyle,Oe=this.lineCap,Ue=this.lineWidth,Ze=Math.abs(Ue*this.ctx.transform.scaleX),Ge=this.lineJoin,ft=JSON.parse(JSON.stringify(this.path)),gt=JSON.parse(JSON.stringify(this.path)),oe=[],Le=0;Le<gt.length;Le++)if(gt[Le].x!==void 0)for(var we=O.call(this,gt[Le]),Ee=0;Ee<we.length;Ee+=1)oe.indexOf(we[Ee])===-1&&oe.push(we[Ee]);for(var Ae=0;Ae<oe.length;Ae++)for(;this.pdf.internal.getNumberOfPages()<oe[Ae];)M.call(this);if(F(oe),this.autoPaging)for(var Ne=oe[0],Ke=oe[oe.length-1],Xe=Ne;Xe<Ke+1;Xe++){this.pdf.setPage(Xe),this.fillStyle=ve,this.strokeStyle=Re,this.lineCap=Oe,this.lineWidth=Ze,this.lineJoin=Ge;var ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],dt=Xe===1?this.posY+this.margin[0]:this.margin[0],wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],pt=Xe===1?0:wt+(Xe-2)*ot;if(this.ctx.clip_path.length!==0){var He=this.path;ke=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(ke,this.posX+this.margin[3],-pt+dt+this.ctx.prevPageLastElemOffset),J.call(this,re,!0),this.path=He}if(be=JSON.parse(JSON.stringify(ft)),this.path=j(be,this.posX+this.margin[3],-pt+dt+this.ctx.prevPageLastElemOffset),te===!1||Xe===0){var at=(Xe>Ne||Xe<Ke)&&E.call(this);at&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ze,ot,null).clip().discardPath()),J.call(this,re,te),at&&this.pdf.restoreGraphicsState()}this.lineWidth=Ue}else this.lineWidth=Ze,J.call(this,re,te),this.lineWidth=Ue;this.path=ft},J=function(re,te){if((re!=="stroke"||te||!D.call(this))&&(re==="stroke"||te||!v.call(this))){for(var ke,be,ve=[],Re=this.path,Oe=0;Oe<Re.length;Oe++){var Ue=Re[Oe];switch(Ue.type){case"begin":ve.push({begin:!0});break;case"close":ve.push({close:!0});break;case"mt":ve.push({start:Ue,deltas:[],abs:[]});break;case"lt":var Ze=ve.length;if(Re[Oe-1]&&!isNaN(Re[Oe-1].x)&&(ke=[Ue.x-Re[Oe-1].x,Ue.y-Re[Oe-1].y],Ze>0)){for(;Ze>=0;Ze--)if(ve[Ze-1].close!==!0&&ve[Ze-1].begin!==!0){ve[Ze-1].deltas.push(ke),ve[Ze-1].abs.push(Ue);break}}break;case"bct":ke=[Ue.x1-Re[Oe-1].x,Ue.y1-Re[Oe-1].y,Ue.x2-Re[Oe-1].x,Ue.y2-Re[Oe-1].y,Ue.x-Re[Oe-1].x,Ue.y-Re[Oe-1].y],ve[ve.length-1].deltas.push(ke);break;case"qct":var Ge=Re[Oe-1].x+2/3*(Ue.x1-Re[Oe-1].x),ft=Re[Oe-1].y+2/3*(Ue.y1-Re[Oe-1].y),gt=Ue.x+2/3*(Ue.x1-Ue.x),oe=Ue.y+2/3*(Ue.y1-Ue.y),Le=Ue.x,we=Ue.y;ke=[Ge-Re[Oe-1].x,ft-Re[Oe-1].y,gt-Re[Oe-1].x,oe-Re[Oe-1].y,Le-Re[Oe-1].x,we-Re[Oe-1].y],ve[ve.length-1].deltas.push(ke);break;case"arc":ve.push({deltas:[],abs:[],arc:!0}),Array.isArray(ve[ve.length-1].abs)&&ve[ve.length-1].abs.push(Ue)}}be=te?null:re==="stroke"?"stroke":"fill";for(var Ee=!1,Ae=0;Ae<ve.length;Ae++)if(ve[Ae].arc)for(var Ne=ve[Ae].abs,Ke=0;Ke<Ne.length;Ke++){var Xe=Ne[Ke];Xe.type==="arc"?Z.call(this,Xe.x,Xe.y,Xe.radius,Xe.startAngle,Xe.endAngle,Xe.counterclockwise,void 0,te,!Ee):U.call(this,Xe.x,Xe.y),Ee=!0}else if(ve[Ae].close===!0)this.pdf.internal.out("h"),Ee=!1;else if(ve[Ae].begin!==!0){var ze=ve[Ae].start.x,dt=ve[Ae].start.y;q.call(this,ve[Ae].deltas,ze,dt),Ee=!0}be&&Y.call(this,be),te&&se.call(this)}},H=function(re){var te=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ke=te*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return re-ke;case"top":return re+te-ke;case"hanging":return re+te-2*ke;case"middle":return re+te/2-ke;case"ideographic":return re;case"alphabetic":default:return re}},z=function(re){return re+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};_.prototype.createLinearGradient=function(){var re=function(){};return re.colorStops=[],re.addColorStop=function(te,ke){this.colorStops.push([te,ke])},re.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},re.isCanvasGradient=!0,re},_.prototype.createPattern=function(){return this.createLinearGradient()},_.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Z=function(re,te,ke,be,ve,Re,Oe,Ue,Ze){for(var Ge=ue.call(this,ke,be,ve,Re),ft=0;ft<Ge.length;ft++){var gt=Ge[ft];ft===0&&(Ze?X.call(this,gt.x1+re,gt.y1+te):U.call(this,gt.x1+re,gt.y1+te)),fe.call(this,re,te,gt.x2,gt.y2,gt.x3,gt.y3,gt.x4,gt.y4)}Ue?se.call(this):Y.call(this,Oe)},Y=function(re){switch(re){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},se=function(){this.pdf.clip(),this.pdf.discardPath()},X=function(re,te){this.pdf.internal.out(r(re)+" "+o(te)+" m")},K=function(re){var te;switch(re.align){case"right":case"end":te="right";break;case"center":te="center";break;case"left":case"start":default:te="left"}var ke=this.pdf.getTextDimensions(re.text),be=H.call(this,re.y),ve=z.call(this,be)-ke.h,Re=this.ctx.transform.applyToPoint(new d(re.x,be)),Oe=this.ctx.transform.decompose(),Ue=new m;Ue=(Ue=(Ue=Ue.multiply(Oe.translate)).multiply(Oe.skew)).multiply(Oe.scale);for(var Ze,Ge,ft,gt=this.ctx.transform.applyToRectangle(new p(re.x,be,ke.w,ke.h)),oe=Ue.applyToRectangle(new p(re.x,ve,ke.w,ke.h)),Le=O.call(this,oe),we=[],Ee=0;Ee<Le.length;Ee+=1)we.indexOf(Le[Ee])===-1&&we.push(Le[Ee]);if(F(we),this.autoPaging)for(var Ae=we[0],Ne=we[we.length-1],Ke=Ae;Ke<Ne+1;Ke++){this.pdf.setPage(Ke);var Xe=Ke===1?this.posY+this.margin[0]:this.margin[0],ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[2],wt=dt-this.margin[0],ot=this.pdf.internal.pageSize.width-this.margin[1],pt=ot-this.margin[3],He=Ke===1?0:ze+(Ke-2)*wt;if(this.ctx.clip_path.length!==0){var at=this.path;Ze=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(Ze,this.posX+this.margin[3],-1*He+Xe),J.call(this,"fill",!0),this.path=at}var kt=j([JSON.parse(JSON.stringify(oe))],this.posX+this.margin[3],-He+Xe+this.ctx.prevPageLastElemOffset)[0];re.scale>=.01&&(Ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ge*re.scale),ft=this.lineWidth,this.lineWidth=ft*re.scale);var Gt=this.autoPaging!=="text";if(Gt||kt.y+kt.h<=dt){if(Gt||kt.y>=Xe&&kt.x<=ot){var yt=Gt?re.text:this.pdf.splitTextToSize(re.text,re.maxWidth||ot-kt.x)[0],jn=j([JSON.parse(JSON.stringify(gt))],this.posX+this.margin[3],-He+Xe+this.ctx.prevPageLastElemOffset)[0],on=Gt&&(Ke>Ae||Ke<Ne)&&E.call(this);on&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pt,wt,null).clip().discardPath()),this.pdf.text(yt,jn.x,jn.y,{angle:re.angle,align:te,renderingMode:re.renderingMode}),on&&this.pdf.restoreGraphicsState()}}else kt.y<dt&&(this.ctx.prevPageLastElemOffset+=dt-kt.y);re.scale>=.01&&(this.pdf.setFontSize(Ge),this.lineWidth=ft)}else re.scale>=.01&&(Ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ge*re.scale),ft=this.lineWidth,this.lineWidth=ft*re.scale),this.pdf.text(re.text,Re.x+this.posX,Re.y+this.posY,{angle:re.angle,align:te,renderingMode:re.renderingMode,maxWidth:re.maxWidth}),re.scale>=.01&&(this.pdf.setFontSize(Ge),this.lineWidth=ft)},U=function(re,te,ke,be){ke=ke||0,be=be||0,this.pdf.internal.out(r(re+ke)+" "+o(te+be)+" l")},q=function(re,te,ke){return this.pdf.lines(re,te,ke,null,null)},fe=function(re,te,ke,be,ve,Re,Oe,Ue){this.pdf.internal.out([i(a(ke+re)),i(c(be+te)),i(a(ve+re)),i(c(Re+te)),i(a(Oe+re)),i(c(Ue+te)),"c"].join(" "))},ue=function(re,te,ke,be){for(var ve=2*Math.PI,Re=Math.PI/2;te>ke;)te-=ve;var Oe=Math.abs(ke-te);Oe<ve&&be&&(Oe=ve-Oe);for(var Ue=[],Ze=be?-1:1,Ge=te;Oe>1e-5;){var ft=Ge+Ze*Math.min(Oe,Re);Ue.push(de.call(this,re,Ge,ft)),Oe-=Math.abs(ft-Ge),Ge=ft}return Ue},de=function(re,te,ke){var be=(ke-te)/2,ve=re*Math.cos(be),Re=re*Math.sin(be),Oe=ve,Ue=-Re,Ze=Oe*Oe+Ue*Ue,Ge=Ze+Oe*ve+Ue*Re,ft=4/3*(Math.sqrt(2*Ze*Ge)-Ge)/(Oe*Re-Ue*ve),gt=Oe-ft*Ue,oe=Ue+ft*Oe,Le=gt,we=-oe,Ee=be+te,Ae=Math.cos(Ee),Ne=Math.sin(Ee);return{x1:re*Math.cos(te),y1:re*Math.sin(te),x2:gt*Ae-oe*Ne,y2:gt*Ne+oe*Ae,x3:Le*Ae-we*Ne,y3:Le*Ne+we*Ae,x4:re*Math.cos(ke),y4:re*Math.sin(ke)}},ge=function(re){return 180*re/Math.PI},Ie=function(re,te,ke,be,ve,Re){var Oe=re+.5*(ke-re),Ue=te+.5*(be-te),Ze=ve+.5*(ke-ve),Ge=Re+.5*(be-Re),ft=Math.min(re,ve,Oe,Ze),gt=Math.max(re,ve,Oe,Ze),oe=Math.min(te,Re,Ue,Ge),Le=Math.max(te,Re,Ue,Ge);return new p(ft,oe,gt-ft,Le-oe)},ce=function(re,te,ke,be,ve,Re,Oe,Ue){var Ze,Ge,ft,gt,oe,Le,we,Ee,Ae,Ne,Ke,Xe,ze,dt,wt=ke-re,ot=be-te,pt=ve-ke,He=Re-be,at=Oe-ve,kt=Ue-Re;for(Ge=0;Ge<41;Ge++)Ae=(we=(ft=re+(Ze=Ge/40)*wt)+Ze*((oe=ke+Ze*pt)-ft))+Ze*(oe+Ze*(ve+Ze*at-oe)-we),Ne=(Ee=(gt=te+Ze*ot)+Ze*((Le=be+Ze*He)-gt))+Ze*(Le+Ze*(Re+Ze*kt-Le)-Ee),Ge==0?(Ke=Ae,Xe=Ne,ze=Ae,dt=Ne):(Ke=Math.min(Ke,Ae),Xe=Math.min(Xe,Ne),ze=Math.max(ze,Ae),dt=Math.max(dt,Ne));return new p(Math.round(Ke),Math.round(Xe),Math.round(ze-Ke),Math.round(dt-Xe))},Te=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var re,te,ke=(re=this.ctx.lineDash,te=this.ctx.lineDashOffset,JSON.stringify({lineDash:re,lineDashOffset:te}));this.prevLineDash!==ke&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ke)}}})(Rn.API),function(t){var i=function(c){var d,p,m,k,w,_,C,v,D,E;for(p=[],m=0,k=(c+=d="\0\0\0\0".slice(c.length%4||4)).length;k>m;m+=4)(w=(c.charCodeAt(m)<<24)+(c.charCodeAt(m+1)<<16)+(c.charCodeAt(m+2)<<8)+c.charCodeAt(m+3))!==0?(_=(w=((w=((w=((w=(w-(E=w%85))/85)-(D=w%85))/85)-(v=w%85))/85)-(C=w%85))/85)%85,p.push(_+33,C+33,v+33,D+33,E+33)):p.push(122);return function(O,M){for(var j=M;j>0;j--)O.pop()}(p,d.length),String.fromCharCode.apply(String,p)+"~>"},r=function(c){var d,p,m,k,w,_=String,C="length",v=255,D="charCodeAt",E="slice",O="replace";for(c[E](-2),c=c[E](0,-2)[O](/\s/g,"")[O]("z","!!!!!"),m=[],k=0,w=(c+=d="uuuuu"[E](c[C]%5||5))[C];w>k;k+=5)p=52200625*(c[D](k)-33)+614125*(c[D](k+1)-33)+7225*(c[D](k+2)-33)+85*(c[D](k+3)-33)+(c[D](k+4)-33),m.push(v&p>>24,v&p>>16,v&p>>8,v&p);return function(M,j){for(var F=j;F>0;F--)M.pop()}(m,d[C]),_.fromCharCode.apply(_,m)},o=function(c){var d=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),d.test(c)===!1)return"";for(var p="",m=0;m<c.length;m+=2)p+=String.fromCharCode("0x"+(c[m]+c[m+1]));return p},a=function(c){for(var d=new Uint8Array(c.length),p=c.length;p--;)d[p]=c.charCodeAt(p);return c=(d=GE(d)).reduce(function(m,k){return m+String.fromCharCode(k)},"")};t.processDataByFilters=function(c,d){var p=0,m=c||"",k=[];for(typeof(d=d||[])=="string"&&(d=[d]),p=0;p<d.length;p+=1)switch(d[p]){case"ASCII85Decode":case"/ASCII85Decode":m=r(m),k.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":m=i(m),k.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":m=o(m),k.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":m=m.split("").map(function(w){return("0"+w.charCodeAt().toString(16)).slice(-2)}).join("")+">",k.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":m=a(m),k.push("/FlateDecode");break;default:throw new Error('The filter: "'+d[p]+'" is not implemented')}return{data:m,reverseChain:k.reverse().join(" ")}}}(Rn.API),function(t){t.loadFile=function(i,r,o){return function(a,c,d){c=c!==!1,d=typeof d=="function"?d:function(){};var p=void 0;try{p=function(m,k,w){var _=new XMLHttpRequest,C=0,v=function(D){var E=D.length,O=[],M=String.fromCharCode;for(C=0;C<E;C+=1)O.push(M(255&D.charCodeAt(C)));return O.join("")};if(_.open("GET",m,!k),_.overrideMimeType("text/plain; charset=x-user-defined"),k===!1&&(_.onload=function(){_.status===200?w(v(this.responseText)):w(void 0)}),_.send(null),k&&_.status===200)return v(_.responseText)}(a,c,d)}catch{}return p}(i,r,o)},t.loadImageFile=t.loadFile}(Rn.API),function(t){function i(){return(Un.html2canvas?Promise.resolve(Un.html2canvas):To(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load html2canvas: "+d))}).then(function(d){return d.default?d.default:d})}function r(){return(Un.DOMPurify?Promise.resolve(Un.DOMPurify):To(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load dompurify: "+d))}).then(function(d){return d.default?d.default:d})}var o=function(d){var p=qi(d);return p==="undefined"?"undefined":p==="string"||d instanceof String?"string":p==="number"||d instanceof Number?"number":p==="function"||d instanceof Function?"function":d&&d.constructor===Array?"array":d&&d.nodeType===1?"element":p==="object"?"object":"unknown"},a=function(d,p){var m=document.createElement(d);for(var k in p.className&&(m.className=p.className),p.innerHTML&&p.dompurify&&(m.innerHTML=p.dompurify.sanitize(p.innerHTML)),p.style)m.style[k]=p.style[k];return m},c=function d(p){var m=Object.assign(d.convert(Promise.resolve()),JSON.parse(JSON.stringify(d.template))),k=d.convert(Promise.resolve(),m);return k=(k=k.setProgress(1,d,1,[d])).set(p)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(d,p){return d.__proto__=p||c.prototype,d},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(d,p){return this.then(function(){switch(p=p||function(m){switch(o(m)){case"string":return"string";case"element":return m.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(d)){case"string":return this.then(r).then(function(m){return this.set({src:a("div",{innerHTML:d,dompurify:m})})});case"element":return this.set({src:d});case"canvas":return this.set({canvas:d});case"img":return this.set({img:d});default:return this.error("Unknown source type.")}})},c.prototype.to=function(d){switch(d){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var d={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},p=function m(k,w){for(var _=k.nodeType===3?document.createTextNode(k.nodeValue):k.cloneNode(!1),C=k.firstChild;C;C=C.nextSibling)w!==!0&&C.nodeType===1&&C.nodeName==="SCRIPT"||_.appendChild(m(C,w));return k.nodeType===1&&(k.nodeName==="CANVAS"?(_.width=k.width,_.height=k.height,_.getContext("2d").drawImage(k,0,0)):k.nodeName!=="TEXTAREA"&&k.nodeName!=="SELECT"||(_.value=k.value),_.addEventListener("load",function(){_.scrollTop=k.scrollTop,_.scrollLeft=k.scrollLeft},!0)),_}(this.prop.src,this.opt.html2canvas.javascriptEnabled);p.tagName==="BODY"&&(d.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:d}),this.prop.container.appendChild(p),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(i).then(function(p){var m=Object.assign({},this.opt.html2canvas);return delete m.onrendered,p(this.prop.container,m)}).then(function(p){(this.opt.html2canvas.onrendered||function(){})(p),this.prop.canvas=p,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(i).then(function(p){var m=this.opt.jsPDF,k=this.opt.fontFaces,w=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,_=Object.assign({async:!0,allowTaint:!0,scale:w,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete _.onrendered,m.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,m.context2d.posX=this.opt.x,m.context2d.posY=this.opt.y,m.context2d.margin=this.opt.margin,m.context2d.fontFaces=k,k)for(var C=0;C<k.length;++C){var v=k[C],D=v.src.find(function(E){return E.format==="truetype"});D&&m.addFont(D.url,v.ref.name,v.ref.style)}return _.windowHeight=_.windowHeight||0,_.windowHeight=_.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):_.windowHeight,m.context2d.save(!0),p(this.prop.container,_)}).then(function(p){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(p),this.prop.canvas=p,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var d=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=d})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(d,p,m){return(m=m||"pdf").toLowerCase()==="img"||m.toLowerCase()==="image"?this.outputImg(d,p):this.outputPdf(d,p)},c.prototype.outputPdf=function(d,p){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(d,p)})},c.prototype.outputImg=function(d){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(d){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+d+'" is not supported.'}})},c.prototype.save=function(d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(d?{filename:d}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(d){if(o(d)!=="object")return this;var p=Object.keys(d||{}).map(function(m){if(m in c.template.prop)return function(){this.prop[m]=d[m]};switch(m){case"margin":return this.setMargin.bind(this,d.margin);case"jsPDF":return function(){return this.opt.jsPDF=d.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,d.pageSize);default:return function(){this.opt[m]=d[m]}}},this);return this.then(function(){return this.thenList(p)})},c.prototype.get=function(d,p){return this.then(function(){var m=d in c.template.prop?this.prop[d]:this.opt[d];return p?p(m):m})},c.prototype.setMargin=function(d){return this.then(function(){switch(o(d)){case"number":d=[d,d,d,d];case"array":if(d.length===2&&(d=[d[0],d[1],d[0],d[1]]),d.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=d}).then(this.setPageSize)},c.prototype.setPageSize=function(d){function p(m,k){return Math.floor(m*k/72*96)}return this.then(function(){(d=d||Rn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(d.inner={width:d.width-this.opt.margin[1]-this.opt.margin[3],height:d.height-this.opt.margin[0]-this.opt.margin[2]},d.inner.px={width:p(d.inner.width,d.k),height:p(d.inner.height,d.k)},d.inner.ratio=d.inner.height/d.inner.width),this.prop.pageSize=d})},c.prototype.setProgress=function(d,p,m,k){return d!=null&&(this.progress.val=d),p!=null&&(this.progress.state=p),m!=null&&(this.progress.n=m),k!=null&&(this.progress.stack=k),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(d,p,m,k){return this.setProgress(d?this.progress.val+d:null,p||null,m?this.progress.n+m:null,k?this.progress.stack.concat(k):null)},c.prototype.then=function(d,p){var m=this;return this.thenCore(d,p,function(k,w){return m.updateProgress(null,null,1,[k]),Promise.prototype.then.call(this,function(_){return m.updateProgress(null,k),_}).then(k,w).then(function(_){return m.updateProgress(1),_})})},c.prototype.thenCore=function(d,p,m){m=m||Promise.prototype.then,d&&(d=d.bind(this)),p&&(p=p.bind(this));var k=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:c.convert(Object.assign({},this),Promise.prototype),w=m.call(k,d,p);return c.convert(w,this.__proto__)},c.prototype.thenExternal=function(d,p){return Promise.prototype.then.call(this,d,p)},c.prototype.thenList=function(d){var p=this;return d.forEach(function(m){p=p.thenCore(m)}),p},c.prototype.catch=function(d){d&&(d=d.bind(this));var p=Promise.prototype.catch.call(this,d);return c.convert(p,this)},c.prototype.catchExternal=function(d){return Promise.prototype.catch.call(this,d)},c.prototype.error=function(d){return this.then(function(){throw new Error(d)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,Rn.getPageSize=function(d,p,m){if(qi(d)==="object"){var k=d;d=k.orientation,p=k.unit||p,m=k.format||m}p=p||"mm",m=m||"a4",d=(""+(d||"P")).toLowerCase();var w,_=(""+m).toLowerCase(),C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(p){case"pt":w=1;break;case"mm":w=72/25.4;break;case"cm":w=72/2.54;break;case"in":w=72;break;case"px":w=.75;break;case"pc":case"em":w=12;break;case"ex":w=6;break;default:throw"Invalid unit: "+p}var v,D=0,E=0;if(C.hasOwnProperty(_))D=C[_][1]/w,E=C[_][0]/w;else try{D=m[1],E=m[0]}catch{throw new Error("Invalid format: "+m)}if(d==="p"||d==="portrait")d="p",E>D&&(v=E,E=D,D=v);else{if(d!=="l"&&d!=="landscape")throw"Invalid orientation: "+d;d="l",D>E&&(v=E,E=D,D=v)}return{width:E,height:D,unit:p,k:w,orientation:d}},t.html=function(d,p){(p=p||{}).callback=p.callback||function(){},p.html2canvas=p.html2canvas||{},p.html2canvas.canvas=p.html2canvas.canvas||this.canvas,p.jsPDF=p.jsPDF||this,p.fontFaces=p.fontFaces?p.fontFaces.map(XE):null;var m=new c(p);return p.worker?m:m.from(d).doCallback()}}(Rn.API),Rn.API.addJS=function(t){return S8=t,this.internal.events.subscribe("postPutResources",function(){WC=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(WC+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),x8=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+S8+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){WC!==void 0&&x8!==void 0&&this.internal.out("/Names <</JavaScript "+WC+" 0 R>>")}),this},function(t){var i;t.events.push(["postPutResources",function(){var r=this,o=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),c=0;c<a.length;c++){var d=a[c],p=o.exec(d);if(p!=null){var m=p[1];r.internal.newObjectDeferredBegin(m,!1)}r.internal.write(d)}if(this.outline.createNamedDestinations){var k=this.internal.pages.length,w=[];for(c=0;c<k;c++){var _=r.internal.newObject();w.push(_);var C=r.internal.getPageInfo(c+1);r.internal.write("<< /D["+C.objId+" 0 R /XYZ null null null]>> endobj")}var v=r.internal.newObject();for(r.internal.write("<< /Names [ "),c=0;c<w.length;c++)r.internal.write("(page_"+(c+1)+")"+w[c]+" 0 R");r.internal.write(" ] >>","endobj"),i=r.internal.newObject(),r.internal.write("<< /Dests "+v+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+i+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(o,a,c){var d={title:a,options:c,children:[]};return o==null&&(o=this.root),o.children.push(d),d},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(o){o.id=r.internal.newObjectDeferred();for(var a=0;a<o.children.length;a++)this.genIds_r(o.children[a])},r.outline.renderRoot=function(o){this.objStart(o),this.line("/Type /Outlines"),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1]))),this.line("/Count "+this.count_r({count:0},o)),this.objEnd()},r.outline.renderItems=function(o){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,c=0;c<o.children.length;c++){var d=o.children[c];this.objStart(d),this.line("/Title "+this.makeString(d.title)),this.line("/Parent "+this.makeRef(o)),c>0&&this.line("/Prev "+this.makeRef(o.children[c-1])),c<o.children.length-1&&this.line("/Next "+this.makeRef(o.children[c+1])),d.children.length>0&&(this.line("/First "+this.makeRef(d.children[0])),this.line("/Last "+this.makeRef(d.children[d.children.length-1])));var p=this.count=this.count_r({count:0},d);if(p>0&&this.line("/Count "+p),d.options&&d.options.pageNumber){var m=r.internal.getPageInfo(d.options.pageNumber);this.line("/Dest ["+m.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var k=0;k<o.children.length;k++)this.renderItems(o.children[k])},r.outline.line=function(o){this.ctx.val+=o+`\r
`},r.outline.makeRef=function(o){return o.id+" 0 R"},r.outline.makeString=function(o){return"("+r.internal.pdfEscape(o)+")"},r.outline.objStart=function(o){this.ctx.val+=`\r
`+o.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(o,a){for(var c=0;c<a.children.length;c++)o.count++,this.count_r(o,a.children[c]);return o.count}}])}(Rn.API),function(t){var i=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,o,a,c,d,p){var m,k=this.decode.DCT_DECODE,w=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=d||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(m=function(_){for(var C,v=256*_.charCodeAt(4)+_.charCodeAt(5),D=_.length,E={width:0,height:0,numcomponents:1},O=4;O<D;O+=2){if(O+=v,i.indexOf(_.charCodeAt(O+1))!==-1){C=256*_.charCodeAt(O+5)+_.charCodeAt(O+6),E={width:256*_.charCodeAt(O+7)+_.charCodeAt(O+8),height:C,numcomponents:_.charCodeAt(O+9)};break}v=256*_.charCodeAt(O+2)+_.charCodeAt(O+3)}return E}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:p=this.color_spaces.DEVICE_GRAY;break;case 4:p=this.color_spaces.DEVICE_CMYK;break;case 3:p=this.color_spaces.DEVICE_RGB}w={data:r,width:m.width,height:m.height,colorSpace:p,bitsPerComponent:8,filter:k,index:o,alias:a}}return w}}(Rn.API);var O0,GC,E8,D8,I8,tee=function(){var t,i,r;function o(c){var d,p,m,k,w,_,C,v,D,E,O,M,j,F;for(this.data=c,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},_=null;;){switch(d=this.readUInt32(),D=(function(){var G,J;for(J=[],G=0;G<4;++G)J.push(String.fromCharCode(this.data[this.pos++]));return J}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(d);break;case"fcTL":_&&this.animation.frames.push(_),this.pos+=4,_={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},w=this.readUInt16(),k=this.readUInt16()||100,_.delay=1e3*w/k,_.disposeOp=this.data[this.pos++],_.blendOp=this.data[this.pos++],_.data=[];break;case"IDAT":case"fdAT":for(D==="fdAT"&&(this.pos+=4,d-=4),c=(_!=null?_.data:void 0)||this.imgData,M=0;0<=d?M<d:M>d;0<=d?++M:--M)c.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(m=this.palette.length/3,this.transparency.indexed=this.read(d),this.transparency.indexed.length>m)throw new Error("More transparent colors than palette size");if((E=m-this.transparency.indexed.length)>0)for(j=0;0<=E?j<E:j>E;0<=E?++j:--j)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(d)[0];break;case 2:this.transparency.rgb=this.read(d)}break;case"tEXt":C=(O=this.read(d)).indexOf(0),v=String.fromCharCode.apply(String,O.slice(0,C)),this.text[v]=String.fromCharCode.apply(String,O.slice(C+1));break;case"IEND":return _&&this.animation.frames.push(_),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(F=this.colorType)===4||F===6,p=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*p,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=d}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}o.prototype.read=function(c){var d,p;for(p=[],d=0;0<=c?d<c:d>c;0<=c?++d:--d)p.push(this.data[this.pos++]);return p},o.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},o.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},o.prototype.decodePixels=function(c){var d=this.pixelBitlength/8,p=new Uint8Array(this.width*this.height*d),m=0,k=this;if(c==null&&(c=this.imgData),c.length===0)return new Uint8Array(0);function w(_,C,v,D){var E,O,M,j,F,G,J,H,z,Z,Y,se,X,K,U,q,fe,ue,de,ge,Ie,ce=Math.ceil((k.width-_)/v),Te=Math.ceil((k.height-C)/D),re=k.width==ce&&k.height==Te;for(K=d*ce,se=re?p:new Uint8Array(K*Te),G=c.length,X=0,O=0;X<Te&&m<G;){switch(c[m++]){case 0:for(j=fe=0;fe<K;j=fe+=1)se[O++]=c[m++];break;case 1:for(j=ue=0;ue<K;j=ue+=1)E=c[m++],F=j<d?0:se[O-d],se[O++]=(E+F)%256;break;case 2:for(j=de=0;de<K;j=de+=1)E=c[m++],M=(j-j%d)/d,U=X&&se[(X-1)*K+M*d+j%d],se[O++]=(U+E)%256;break;case 3:for(j=ge=0;ge<K;j=ge+=1)E=c[m++],M=(j-j%d)/d,F=j<d?0:se[O-d],U=X&&se[(X-1)*K+M*d+j%d],se[O++]=(E+Math.floor((F+U)/2))%256;break;case 4:for(j=Ie=0;Ie<K;j=Ie+=1)E=c[m++],M=(j-j%d)/d,F=j<d?0:se[O-d],X===0?U=q=0:(U=se[(X-1)*K+M*d+j%d],q=M&&se[(X-1)*K+(M-1)*d+j%d]),J=F+U-q,H=Math.abs(J-F),Z=Math.abs(J-U),Y=Math.abs(J-q),z=H<=Z&&H<=Y?F:Z<=Y?U:q,se[O++]=(E+z)%256;break;default:throw new Error("Invalid filter algorithm: "+c[m-1])}if(!re){var te=((C+X*D)*k.width+_)*d,ke=X*K;for(j=0;j<ce;j+=1){for(var be=0;be<d;be+=1)p[te++]=se[ke++];te+=(v-1)*d}}X++}}return c=OX(c),k.interlaceMethod==1?(w(0,0,8,8),w(4,0,8,8),w(0,4,4,8),w(2,0,4,4),w(0,2,2,4),w(1,0,2,2),w(0,1,1,2)):w(0,0,1,1),p},o.prototype.decodePalette=function(){var c,d,p,m,k,w,_,C,v;for(p=this.palette,w=this.transparency.indexed||[],k=new Uint8Array((w.length||0)+p.length),m=0,c=0,d=_=0,C=p.length;_<C;d=_+=3)k[m++]=p[d],k[m++]=p[d+1],k[m++]=p[d+2],k[m++]=(v=w[c++])!=null?v:255;return k},o.prototype.copyToImageData=function(c,d){var p,m,k,w,_,C,v,D,E,O,M;if(m=this.colors,E=null,p=this.hasAlphaChannel,this.palette.length&&(E=(M=this._decodedPalette)!=null?M:this._decodedPalette=this.decodePalette(),m=4,p=!0),D=(k=c.data||c).length,_=E||d,w=C=0,m===1)for(;w<D;)v=E?4*d[w/4]:C,O=_[v++],k[w++]=O,k[w++]=O,k[w++]=O,k[w++]=p?_[v++]:255,C=v;else for(;w<D;)v=E?4*d[w/4]:C,k[w++]=_[v++],k[w++]=_[v++],k[w++]=_[v++],k[w++]=p?_[v++]:255,C=v},o.prototype.decode=function(){var c;return c=new Uint8Array(this.width*this.height*4),this.copyToImageData(c,this.decodePixels()),c};var a=function(){if(Object.prototype.toString.call(Un)==="[object Window]"){try{i=Un.document.createElement("canvas"),r=i.getContext("2d")}catch{return!1}return!0}return!1};return a(),t=function(c){var d;if(a()===!0)return r.width=c.width,r.height=c.height,r.clearRect(0,0,c.width,c.height),r.putImageData(c,0,0),(d=new Image).src=i.toDataURL(),d;throw new Error("This method requires a Browser with Canvas-capability.")},o.prototype.decodeFrames=function(c){var d,p,m,k,w,_,C,v;if(this.animation){for(v=[],p=w=0,_=(C=this.animation.frames).length;w<_;p=++w)d=C[p],m=c.createImageData(d.width,d.height),k=this.decodePixels(new Uint8Array(d.data)),this.copyToImageData(m,k),d.imageData=m,v.push(d.image=t(m));return v}},o.prototype.renderFrame=function(c,d){var p,m,k;return p=(m=this.animation.frames)[d],k=m[d-1],d===0&&c.clearRect(0,0,this.width,this.height),(k!=null?k.disposeOp:void 0)===1?c.clearRect(k.xOffset,k.yOffset,k.width,k.height):(k!=null?k.disposeOp:void 0)===2&&c.putImageData(k.imageData,k.xOffset,k.yOffset),p.blendOp===0&&c.clearRect(p.xOffset,p.yOffset,p.width,p.height),c.drawImage(p.image,p.xOffset,p.yOffset)},o.prototype.animate=function(c){var d,p,m,k,w,_,C=this;return p=0,_=this.animation,k=_.numFrames,m=_.frames,w=_.numPlays,(d=function(){var v,D;if(v=p++%k,D=m[v],C.renderFrame(c,v),k>1&&p/k<w)return C.animation._timeout=setTimeout(d,D.delay)})()},o.prototype.stopAnimation=function(){var c;return clearTimeout((c=this.animation)!=null?c._timeout:void 0)},o.prototype.render=function(c){var d,p;return c._png&&c._png.stopAnimation(),c._png=this,c.width=this.width,c.height=this.height,d=c.getContext("2d"),this.animation?(this.decodeFrames(d),this.animate(d)):(p=d.createImageData(this.width,this.height),this.copyToImageData(p,this.decodePixels()),d.putImageData(p,0,0))},o}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function nee(t){var i=0;if(t[i++]!==71||t[i++]!==73||t[i++]!==70||t[i++]!==56||(t[i++]+1&253)!=56||t[i++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[i++]|t[i++]<<8,o=t[i++]|t[i++]<<8,a=t[i++],c=a>>7,d=1<<(7&a)+1;t[i++],t[i++];var p=null,m=null;c&&(p=i,m=d,i+=3*d);var k=!0,w=[],_=0,C=null,v=0,D=null;for(this.width=r,this.height=o;k&&i<t.length;)switch(t[i++]){case 33:switch(t[i++]){case 255:if(t[i]!==11||t[i+1]==78&&t[i+2]==69&&t[i+3]==84&&t[i+4]==83&&t[i+5]==67&&t[i+6]==65&&t[i+7]==80&&t[i+8]==69&&t[i+9]==50&&t[i+10]==46&&t[i+11]==48&&t[i+12]==3&&t[i+13]==1&&t[i+16]==0)i+=14,D=t[i++]|t[i++]<<8,i++;else for(i+=12;;){if(!((X=t[i++])>=0))throw Error("Invalid block size");if(X===0)break;i+=X}break;case 249:if(t[i++]!==4||t[i+4]!==0)throw new Error("Invalid graphics extension block.");var E=t[i++];_=t[i++]|t[i++]<<8,C=t[i++],(1&E)==0&&(C=null),v=E>>2&7,i++;break;case 254:for(;;){if(!((X=t[i++])>=0))throw Error("Invalid block size");if(X===0)break;i+=X}break;default:throw new Error("Unknown graphic control label: 0x"+t[i-1].toString(16))}break;case 44:var O=t[i++]|t[i++]<<8,M=t[i++]|t[i++]<<8,j=t[i++]|t[i++]<<8,F=t[i++]|t[i++]<<8,G=t[i++],J=G>>6&1,H=1<<(7&G)+1,z=p,Z=m,Y=!1;G>>7&&(Y=!0,z=i,Z=H,i+=3*H);var se=i;for(i++;;){var X;if(!((X=t[i++])>=0))throw Error("Invalid block size");if(X===0)break;i+=X}w.push({x:O,y:M,width:j,height:F,has_local_palette:Y,palette_offset:z,palette_size:Z,data_offset:se,data_length:i-se,transparent_index:C,interlaced:!!J,delay:_,disposal:v});break;case 59:k=!1;break;default:throw new Error("Unknown gif block: 0x"+t[i-1].toString(16))}this.numFrames=function(){return w.length},this.loopCount=function(){return D},this.frameInfo=function(K){if(K<0||K>=w.length)throw new Error("Frame index out of range.");return w[K]},this.decodeAndBlitFrameBGRA=function(K,U){var q=this.frameInfo(K),fe=q.width*q.height,ue=new Uint8Array(fe);T8(t,q.data_offset,ue,fe);var de=q.palette_offset,ge=q.transparent_index;ge===null&&(ge=256);var Ie=q.width,ce=r-Ie,Te=Ie,re=4*(q.y*r+q.x),te=4*((q.y+q.height)*r+q.x),ke=re,be=4*ce;q.interlaced===!0&&(be+=4*r*7);for(var ve=8,Re=0,Oe=ue.length;Re<Oe;++Re){var Ue=ue[Re];if(Te===0&&(Te=Ie,(ke+=be)>=te&&(be=4*ce+4*r*(ve-1),ke=re+(Ie+ce)*(ve<<1),ve>>=1)),Ue===ge)ke+=4;else{var Ze=t[de+3*Ue],Ge=t[de+3*Ue+1],ft=t[de+3*Ue+2];U[ke++]=ft,U[ke++]=Ge,U[ke++]=Ze,U[ke++]=255}--Te}},this.decodeAndBlitFrameRGBA=function(K,U){var q=this.frameInfo(K),fe=q.width*q.height,ue=new Uint8Array(fe);T8(t,q.data_offset,ue,fe);var de=q.palette_offset,ge=q.transparent_index;ge===null&&(ge=256);var Ie=q.width,ce=r-Ie,Te=Ie,re=4*(q.y*r+q.x),te=4*((q.y+q.height)*r+q.x),ke=re,be=4*ce;q.interlaced===!0&&(be+=4*r*7);for(var ve=8,Re=0,Oe=ue.length;Re<Oe;++Re){var Ue=ue[Re];if(Te===0&&(Te=Ie,(ke+=be)>=te&&(be=4*ce+4*r*(ve-1),ke=re+(Ie+ce)*(ve<<1),ve>>=1)),Ue===ge)ke+=4;else{var Ze=t[de+3*Ue],Ge=t[de+3*Ue+1],ft=t[de+3*Ue+2];U[ke++]=Ze,U[ke++]=Ge,U[ke++]=ft,U[ke++]=255}--Te}}}function T8(t,i,r,o){for(var a=t[i++],c=1<<a,d=c+1,p=d+1,m=a+1,k=(1<<m)-1,w=0,_=0,C=0,v=t[i++],D=new Int32Array(4096),E=null;;){for(;w<16&&v!==0;)_|=t[i++]<<w,w+=8,v===1?v=t[i++]:--v;if(w<m)break;var O=_&k;if(_>>=m,w-=m,O!==c){if(O===d)break;for(var M=O<p?O:E,j=0,F=M;F>c;)F=D[F]>>8,++j;var G=F;if(C+j+(M!==O?1:0)>o)return void Ui.log("Warning, gif stream longer than expected.");r[C++]=G;var J=C+=j;for(M!==O&&(r[C++]=G),F=M;j--;)F=D[F],r[--J]=255&F,F>>=8;E!==null&&p<4096&&(D[p++]=E<<8|G,p>=k+1&&m<12&&(++m,k=k<<1|1)),E=O}else p=d+1,k=(1<<(m=a+1))-1,E=null}return C!==o&&Ui.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Y3(t){var i,r,o,a,c,d=Math.floor,p=new Array(64),m=new Array(64),k=new Array(64),w=new Array(64),_=new Array(65535),C=new Array(65535),v=new Array(64),D=new Array(64),E=[],O=0,M=7,j=new Array(64),F=new Array(64),G=new Array(64),J=new Array(256),H=new Array(2048),z=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Z=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],se=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],X=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],K=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],fe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ue(re,te){for(var ke=0,be=0,ve=new Array,Re=1;Re<=16;Re++){for(var Oe=1;Oe<=re[Re];Oe++)ve[te[be]]=[],ve[te[be]][0]=ke,ve[te[be]][1]=Re,be++,ke++;ke*=2}return ve}function de(re){for(var te=re[0],ke=re[1]-1;ke>=0;)te&1<<ke&&(O|=1<<M),ke--,--M<0&&(O==255?(ge(255),ge(0)):ge(O),M=7,O=0)}function ge(re){E.push(re)}function Ie(re){ge(re>>8&255),ge(255&re)}function ce(re,te,ke,be,ve){for(var Re,Oe=ve[0],Ue=ve[240],Ze=function(Ne,Ke){var Xe,ze,dt,wt,ot,pt,He,at,kt,Gt,yt=0;for(kt=0;kt<8;++kt){Xe=Ne[yt],ze=Ne[yt+1],dt=Ne[yt+2],wt=Ne[yt+3],ot=Ne[yt+4],pt=Ne[yt+5],He=Ne[yt+6];var jn=Xe+(at=Ne[yt+7]),on=Xe-at,kr=ze+He,xn=ze-He,In=dt+pt,Fn=dt-pt,Gn=wt+ot,ei=wt-ot,tr=jn+Gn,wr=jn-Gn,mr=kr+In,vr=kr-In;Ne[yt]=tr+mr,Ne[yt+4]=tr-mr;var fn=.707106781*(vr+wr);Ne[yt+2]=wr+fn,Ne[yt+6]=wr-fn;var nr=.382683433*((tr=ei+Fn)-(vr=xn+on)),Jo=.5411961*tr+nr,ki=1.306562965*vr+nr,Xo=.707106781*(mr=Fn+xn),es=on+Xo,hn=on-Xo;Ne[yt+5]=hn+Jo,Ne[yt+3]=hn-Jo,Ne[yt+1]=es+ki,Ne[yt+7]=es-ki,yt+=8}for(yt=0,kt=0;kt<8;++kt){Xe=Ne[yt],ze=Ne[yt+8],dt=Ne[yt+16],wt=Ne[yt+24],ot=Ne[yt+32],pt=Ne[yt+40],He=Ne[yt+48];var xr=Xe+(at=Ne[yt+56]),rr=Xe-at,wi=ze+He,Mr=ze-He,$r=dt+pt,di=dt-pt,Tl=wt+ot,ks=wt-ot,ws=xr+Tl,bo=xr-Tl,Ei=wi+$r,ao=wi-$r;Ne[yt]=ws+Ei,Ne[yt+32]=ws-Ei;var lo=.707106781*(ao+bo);Ne[yt+16]=bo+lo,Ne[yt+48]=bo-lo;var Fr=.382683433*((ws=ks+di)-(ao=Mr+rr)),cl=.5411961*ws+Fr,Ml=1.306562965*ao+Fr,Ki=.707106781*(Ei=di+Mr),vs=rr+Ki,Nl=rr-Ki;Ne[yt+40]=Nl+cl,Ne[yt+24]=Nl-cl,Ne[yt+8]=vs+Ml,Ne[yt+56]=vs-Ml,yt++}for(kt=0;kt<64;++kt)Gt=Ne[kt]*Ke[kt],v[kt]=Gt>0?Gt+.5|0:Gt-.5|0;return v}(re,te),Ge=0;Ge<64;++Ge)D[z[Ge]]=Ze[Ge];var ft=D[0]-ke;ke=D[0],ft==0?de(be[0]):(de(be[C[Re=32767+ft]]),de(_[Re]));for(var gt=63;gt>0&&D[gt]==0;)gt--;if(gt==0)return de(Oe),ke;for(var oe,Le=1;Le<=gt;){for(var we=Le;D[Le]==0&&Le<=gt;)++Le;var Ee=Le-we;if(Ee>=16){oe=Ee>>4;for(var Ae=1;Ae<=oe;++Ae)de(Ue);Ee&=15}Re=32767+D[Le],de(ve[(Ee<<4)+C[Re]]),de(_[Re]),Le++}return gt!=63&&de(Oe),ke}function Te(re){re=Math.min(Math.max(re,1),100),c!=re&&(function(te){for(var ke=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],be=0;be<64;be++){var ve=d((ke[be]*te+50)/100);ve=Math.min(Math.max(ve,1),255),p[z[be]]=ve}for(var Re=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Oe=0;Oe<64;Oe++){var Ue=d((Re[Oe]*te+50)/100);Ue=Math.min(Math.max(Ue,1),255),m[z[Oe]]=Ue}for(var Ze=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ge=0,ft=0;ft<8;ft++)for(var gt=0;gt<8;gt++)k[Ge]=1/(p[z[Ge]]*Ze[ft]*Ze[gt]*8),w[Ge]=1/(m[z[Ge]]*Ze[ft]*Ze[gt]*8),Ge++}(re<50?Math.floor(5e3/re):Math.floor(200-2*re)),c=re)}this.encode=function(re,te){te&&Te(te),E=new Array,O=0,M=7,Ie(65496),Ie(65504),Ie(16),ge(74),ge(70),ge(73),ge(70),ge(0),ge(1),ge(1),ge(0),Ie(1),Ie(1),ge(0),ge(0),function(){Ie(65499),Ie(132),ge(0);for(var ze=0;ze<64;ze++)ge(p[ze]);ge(1);for(var dt=0;dt<64;dt++)ge(m[dt])}(),function(ze,dt){Ie(65472),Ie(17),ge(8),Ie(dt),Ie(ze),ge(3),ge(1),ge(17),ge(0),ge(2),ge(17),ge(1),ge(3),ge(17),ge(1)}(re.width,re.height),function(){Ie(65476),Ie(418),ge(0);for(var ze=0;ze<16;ze++)ge(Z[ze+1]);for(var dt=0;dt<=11;dt++)ge(Y[dt]);ge(16);for(var wt=0;wt<16;wt++)ge(se[wt+1]);for(var ot=0;ot<=161;ot++)ge(X[ot]);ge(1);for(var pt=0;pt<16;pt++)ge(K[pt+1]);for(var He=0;He<=11;He++)ge(U[He]);ge(17);for(var at=0;at<16;at++)ge(q[at+1]);for(var kt=0;kt<=161;kt++)ge(fe[kt])}(),Ie(65498),Ie(12),ge(3),ge(1),ge(0),ge(2),ge(17),ge(3),ge(17),ge(0),ge(63),ge(0);var ke=0,be=0,ve=0;O=0,M=7,this.encode.displayName="_encode_";for(var Re,Oe,Ue,Ze,Ge,ft,gt,oe,Le,we=re.data,Ee=re.width,Ae=re.height,Ne=4*Ee,Ke=0;Ke<Ae;){for(Re=0;Re<Ne;){for(Ge=Ne*Ke+Re,gt=-1,oe=0,Le=0;Le<64;Le++)ft=Ge+(oe=Le>>3)*Ne+(gt=4*(7&Le)),Ke+oe>=Ae&&(ft-=Ne*(Ke+1+oe-Ae)),Re+gt>=Ne&&(ft-=Re+gt-Ne+4),Oe=we[ft++],Ue=we[ft++],Ze=we[ft++],j[Le]=(H[Oe]+H[Ue+256>>0]+H[Ze+512>>0]>>16)-128,F[Le]=(H[Oe+768>>0]+H[Ue+1024>>0]+H[Ze+1280>>0]>>16)-128,G[Le]=(H[Oe+1280>>0]+H[Ue+1536>>0]+H[Ze+1792>>0]>>16)-128;ke=ce(j,k,ke,i,o),be=ce(F,w,be,r,a),ve=ce(G,w,ve,r,a),Re+=32}Ke+=8}if(M>=0){var Xe=[];Xe[1]=M+1,Xe[0]=(1<<M+1)-1,de(Xe)}return Ie(65497),new Uint8Array(E)},t=t||50,function(){for(var re=String.fromCharCode,te=0;te<256;te++)J[te]=re(te)}(),i=ue(Z,Y),r=ue(K,U),o=ue(se,X),a=ue(q,fe),function(){for(var re=1,te=2,ke=1;ke<=15;ke++){for(var be=re;be<te;be++)C[32767+be]=ke,_[32767+be]=[],_[32767+be][1]=ke,_[32767+be][0]=be;for(var ve=-(te-1);ve<=-re;ve++)C[32767+ve]=ke,_[32767+ve]=[],_[32767+ve][1]=ke,_[32767+ve][0]=te-1+ve;re<<=1,te<<=1}}(),function(){for(var re=0;re<256;re++)H[re]=19595*re,H[re+256>>0]=38470*re,H[re+512>>0]=7471*re+32768,H[re+768>>0]=-11059*re,H[re+1024>>0]=-21709*re,H[re+1280>>0]=32768*re+8421375,H[re+1536>>0]=-27439*re,H[re+1792>>0]=-5329*re}(),Te(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Wd(t,i){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!i,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function M8(t){function i(Z){if(!Z)throw Error("assert :P")}function r(Z,Y,se){for(var X=0;4>X;X++)if(Z[Y+X]!=se.charCodeAt(X))return!0;return!1}function o(Z,Y,se,X,K){for(var U=0;U<K;U++)Z[Y+U]=se[X+U]}function a(Z,Y,se,X){for(var K=0;K<X;K++)Z[Y+K]=se}function c(Z){return new Int32Array(Z)}function d(Z,Y){for(var se=[],X=0;X<Z;X++)se.push(new Y);return se}function p(Z,Y){var se=[];return function X(K,U,q){for(var fe=q[U],ue=0;ue<fe&&(K.push(q.length>U+1?[]:new Y),!(q.length<U+1));ue++)X(K[ue],U+1,q)}(se,0,Z),se}var m=function(){var Z=this;function Y(N,R){for(var Q=1<<R-1>>>0;N&Q;)Q>>>=1;return Q?(N&Q-1)+Q:N}function se(N,R,Q,ie,pe){i(!(ie%Q));do N[R+(ie-=Q)]=pe;while(0<ie)}function X(N,R,Q,ie,pe){if(i(2328>=pe),512>=pe)var ye=c(512);else if((ye=c(pe))==null)return 0;return function(_e,xe,De,je,We,lt){var rt,et,Bt=xe,bt=1<<De,Ye=c(16),Je=c(16);for(i(We!=0),i(je!=null),i(_e!=null),i(0<De),et=0;et<We;++et){if(15<je[et])return 0;++Ye[je[et]]}if(Ye[0]==We)return 0;for(Je[1]=0,rt=1;15>rt;++rt){if(Ye[rt]>1<<rt)return 0;Je[rt+1]=Je[rt]+Ye[rt]}for(et=0;et<We;++et)rt=je[et],0<je[et]&&(lt[Je[rt]++]=et);if(Je[15]==1)return(je=new K).g=0,je.value=lt[0],se(_e,Bt,1,bt,je),bt;var It,Pt=-1,jt=bt-1,nn=0,Xt=1,vn=1,en=1<<De;for(et=0,rt=1,We=2;rt<=De;++rt,We<<=1){if(Xt+=vn<<=1,0>(vn-=Ye[rt]))return 0;for(;0<Ye[rt];--Ye[rt])(je=new K).g=rt,je.value=lt[et++],se(_e,Bt+nn,We,en,je),nn=Y(nn,rt)}for(rt=De+1,We=2;15>=rt;++rt,We<<=1){if(Xt+=vn<<=1,0>(vn-=Ye[rt]))return 0;for(;0<Ye[rt];--Ye[rt]){if(je=new K,(nn&jt)!=Pt){for(Bt+=en,It=1<<(Pt=rt)-De;15>Pt&&!(0>=(It-=Ye[Pt]));)++Pt,It<<=1;bt+=en=1<<(It=Pt-De),_e[xe+(Pt=nn&jt)].g=It+De,_e[xe+Pt].value=Bt-xe-Pt}je.g=rt-De,je.value=lt[et++],se(_e,Bt+(nn>>De),We,en,je),nn=Y(nn,rt)}}return Xt!=2*Je[15]-1?0:bt}(N,R,Q,ie,pe,ye)}function K(){this.value=this.g=0}function U(){this.value=this.g=0}function q(){this.G=d(5,K),this.H=c(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=d(yi,U)}function fe(N,R,Q,ie){i(N!=null),i(R!=null),i(2147483648>ie),N.Ca=254,N.I=0,N.b=-8,N.Ka=0,N.oa=R,N.pa=Q,N.Jd=R,N.Yc=Q+ie,N.Zc=4<=ie?Q+ie-4+1:Q,Re(N)}function ue(N,R){for(var Q=0;0<R--;)Q|=Ue(N,128)<<R;return Q}function de(N,R){var Q=ue(N,R);return Oe(N)?-Q:Q}function ge(N,R,Q,ie){var pe,ye=0;for(i(N!=null),i(R!=null),i(4294967288>ie),N.Sb=ie,N.Ra=0,N.u=0,N.h=0,4<ie&&(ie=4),pe=0;pe<ie;++pe)ye+=R[Q+pe]<<8*pe;N.Ra=ye,N.bb=ie,N.oa=R,N.pa=Q}function Ie(N){for(;8<=N.u&&N.bb<N.Sb;)N.Ra>>>=8,N.Ra+=N.oa[N.pa+N.bb]<<kd-8>>>0,++N.bb,N.u-=8;ke(N)&&(N.h=1,N.u=0)}function ce(N,R){if(i(0<=R),!N.h&&R<=bd){var Q=te(N)&Oa[R];return N.u+=R,Ie(N),Q}return N.h=1,N.u=0}function Te(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function re(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function te(N){return N.Ra>>>(N.u&kd-1)>>>0}function ke(N){return i(N.bb<=N.Sb),N.h||N.bb==N.Sb&&N.u>kd}function be(N,R){N.u=R,N.h=ke(N)}function ve(N){N.u>=xc&&(i(N.u>=xc),Ie(N))}function Re(N){i(N!=null&&N.oa!=null),N.pa<N.Zc?(N.I=(N.oa[N.pa++]|N.I<<8)>>>0,N.b+=8):(i(N!=null&&N.oa!=null),N.pa<N.Yc?(N.b+=8,N.I=N.oa[N.pa++]|N.I<<8):N.Ka?N.b=0:(N.I<<=8,N.b+=8,N.Ka=1))}function Oe(N){return ue(N,1)}function Ue(N,R){var Q=N.Ca;0>N.b&&Re(N);var ie=N.b,pe=Q*R>>>8,ye=(N.I>>>ie>pe)+0;for(ye?(Q-=pe,N.I-=pe+1<<ie>>>0):Q=pe+1,ie=Q,pe=0;256<=ie;)pe+=8,ie>>=8;return ie=7^pe+ys[ie],N.b-=ie,N.Ca=(Q<<ie)-1,ye}function Ze(N,R,Q){N[R+0]=Q>>24&255,N[R+1]=Q>>16&255,N[R+2]=Q>>8&255,N[R+3]=Q>>0&255}function Ge(N,R){return N[R+0]<<0|N[R+1]<<8}function ft(N,R){return Ge(N,R)|N[R+2]<<16}function gt(N,R){return Ge(N,R)|Ge(N,R+2)<<16}function oe(N,R){var Q=1<<R;return i(N!=null),i(0<R),N.X=c(Q),N.X==null?0:(N.Mb=32-R,N.Xa=R,1)}function Le(N,R){i(N!=null),i(R!=null),i(N.Xa==R.Xa),o(R.X,0,N.X,0,1<<R.Xa)}function we(){this.X=[],this.Xa=this.Mb=0}function Ee(N,R,Q,ie){i(Q!=null),i(ie!=null);var pe=Q[0],ye=ie[0];return pe==0&&(pe=(N*ye+R/2)/R),ye==0&&(ye=(R*pe+N/2)/N),0>=pe||0>=ye?0:(Q[0]=pe,ie[0]=ye,1)}function Ae(N,R){return N+(1<<R)-1>>>R}function Ne(N,R){return((4278255360&N)+(4278255360&R)>>>0&4278255360)+((16711935&N)+(16711935&R)>>>0&16711935)>>>0}function Ke(N,R){Z[R]=function(Q,ie,pe,ye,_e,xe,De){var je;for(je=0;je<_e;++je){var We=Z[N](xe[De+je-1],pe,ye+je);xe[De+je]=Ne(Q[ie+je],We)}}}function Xe(){this.ud=this.hd=this.jd=0}function ze(N,R){return((4278124286&(N^R))>>>1)+(N&R)>>>0}function dt(N){return 0<=N&&256>N?N:0>N?0:255<N?255:void 0}function wt(N,R){return dt(N+(N-R+.5>>1))}function ot(N,R,Q){return Math.abs(R-Q)-Math.abs(N-Q)}function pt(N,R,Q,ie,pe,ye,_e){for(ie=ye[_e-1],Q=0;Q<pe;++Q)ye[_e+Q]=ie=Ne(N[R+Q],ie)}function He(N,R,Q,ie,pe){var ye;for(ye=0;ye<Q;++ye){var _e=N[R+ye],xe=_e>>8&255,De=16711935&(De=(De=16711935&_e)+((xe<<16)+xe));ie[pe+ye]=(4278255360&_e)+De>>>0}}function at(N,R){R.jd=N>>0&255,R.hd=N>>8&255,R.ud=N>>16&255}function kt(N,R,Q,ie,pe,ye){var _e;for(_e=0;_e<ie;++_e){var xe=R[Q+_e],De=xe>>>8,je=xe,We=255&(We=(We=xe>>>16)+((N.jd<<24>>24)*(De<<24>>24)>>>5));je=255&(je=(je=je+((N.hd<<24>>24)*(De<<24>>24)>>>5))+((N.ud<<24>>24)*(We<<24>>24)>>>5)),pe[ye+_e]=(4278255360&xe)+(We<<16)+je}}function Gt(N,R,Q,ie,pe){Z[R]=function(ye,_e,xe,De,je,We,lt,rt,et){for(De=lt;De<rt;++De)for(lt=0;lt<et;++lt)je[We++]=pe(xe[ie(ye[_e++])])},Z[N]=function(ye,_e,xe,De,je,We,lt){var rt=8>>ye.b,et=ye.Ea,Bt=ye.K[0],bt=ye.w;if(8>rt)for(ye=(1<<ye.b)-1,bt=(1<<rt)-1;_e<xe;++_e){var Ye,Je=0;for(Ye=0;Ye<et;++Ye)Ye&ye||(Je=ie(De[je++])),We[lt++]=pe(Bt[Je&bt]),Je>>=rt}else Z["VP8LMapColor"+Q](De,je,Bt,bt,We,lt,_e,xe,et)}}function yt(N,R,Q,ie,pe){for(Q=R+Q;R<Q;){var ye=N[R++];ie[pe++]=ye>>16&255,ie[pe++]=ye>>8&255,ie[pe++]=ye>>0&255}}function jn(N,R,Q,ie,pe){for(Q=R+Q;R<Q;){var ye=N[R++];ie[pe++]=ye>>16&255,ie[pe++]=ye>>8&255,ie[pe++]=ye>>0&255,ie[pe++]=ye>>24&255}}function on(N,R,Q,ie,pe){for(Q=R+Q;R<Q;){var ye=(_e=N[R++])>>16&240|_e>>12&15,_e=_e>>0&240|_e>>28&15;ie[pe++]=ye,ie[pe++]=_e}}function kr(N,R,Q,ie,pe){for(Q=R+Q;R<Q;){var ye=(_e=N[R++])>>16&248|_e>>13&7,_e=_e>>5&224|_e>>3&31;ie[pe++]=ye,ie[pe++]=_e}}function xn(N,R,Q,ie,pe){for(Q=R+Q;R<Q;){var ye=N[R++];ie[pe++]=ye>>0&255,ie[pe++]=ye>>8&255,ie[pe++]=ye>>16&255}}function In(N,R,Q,ie,pe,ye){if(ye==0)for(Q=R+Q;R<Q;)Ze(ie,((ye=N[R++])[0]>>24|ye[1]>>8&65280|ye[2]<<8&16711680|ye[3]<<24)>>>0),pe+=32;else o(ie,pe,N,R,Q)}function Fn(N,R){Z[R][0]=Z[N+"0"],Z[R][1]=Z[N+"1"],Z[R][2]=Z[N+"2"],Z[R][3]=Z[N+"3"],Z[R][4]=Z[N+"4"],Z[R][5]=Z[N+"5"],Z[R][6]=Z[N+"6"],Z[R][7]=Z[N+"7"],Z[R][8]=Z[N+"8"],Z[R][9]=Z[N+"9"],Z[R][10]=Z[N+"10"],Z[R][11]=Z[N+"11"],Z[R][12]=Z[N+"12"],Z[R][13]=Z[N+"13"],Z[R][14]=Z[N+"0"],Z[R][15]=Z[N+"0"]}function Gn(N){return N==_u||N==Oc||N==ql||N==Ad}function ei(){this.eb=[],this.size=this.A=this.fb=0}function tr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function wr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ei,this.f.kb=new tr,this.sd=null}function mr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function vr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function fn(N){return alert("todo:WebPSamplerProcessPlane"),N.T}function nr(N,R){var Q=N.T,ie=R.ba.f.RGBA,pe=ie.eb,ye=ie.fb+N.ka*ie.A,_e=Lo[R.ba.S],xe=N.y,De=N.O,je=N.f,We=N.N,lt=N.ea,rt=N.W,et=R.cc,Bt=R.dc,bt=R.Mc,Ye=R.Nc,Je=N.ka,It=N.ka+N.T,Pt=N.U,jt=Pt+1>>1;for(Je==0?_e(xe,De,null,null,je,We,lt,rt,je,We,lt,rt,pe,ye,null,null,Pt):(_e(R.ec,R.fc,xe,De,et,Bt,bt,Ye,je,We,lt,rt,pe,ye-ie.A,pe,ye,Pt),++Q);Je+2<It;Je+=2)et=je,Bt=We,bt=lt,Ye=rt,We+=N.Rc,rt+=N.Rc,ye+=2*ie.A,_e(xe,(De+=2*N.fa)-N.fa,xe,De,et,Bt,bt,Ye,je,We,lt,rt,pe,ye-ie.A,pe,ye,Pt);return De+=N.fa,N.j+It<N.o?(o(R.ec,R.fc,xe,De,Pt),o(R.cc,R.dc,je,We,jt),o(R.Mc,R.Nc,lt,rt,jt),Q--):1&It||_e(xe,De,null,null,je,We,lt,rt,je,We,lt,rt,pe,ye+ie.A,null,null,Pt),Q}function Jo(N,R,Q){var ie=N.F,pe=[N.J];if(ie!=null){var ye=N.U,_e=R.ba.S,xe=_e==Au||_e==ql;R=R.ba.f.RGBA;var De=[0],je=N.ka;De[0]=N.T,N.Kb&&(je==0?--De[0]:(--je,pe[0]-=N.width),N.j+N.ka+N.T==N.o&&(De[0]=N.o-N.j-je));var We=R.eb;je=R.fb+je*R.A,N=ir(ie,pe[0],N.width,ye,De,We,je+(xe?0:3),R.A),i(Q==De),N&&Gn(_e)&&ra(We,je,xe,ye,De,R.A)}return 0}function ki(N){var R=N.ma,Q=R.ba.S,ie=11>Q,pe=Q==yd||Q==Nc||Q==Au||Q==ka||Q==12||Gn(Q);if(R.memory=null,R.Ib=null,R.Jb=null,R.Nd=null,!bu(R.Oa,N,pe?11:12))return 0;if(pe&&Gn(Q)&&Wt(),N.da)alert("todo:use_scaling");else{if(ie){if(R.Ib=fn,N.Kb){if(Q=N.U+1>>1,R.memory=c(N.U+2*Q),R.memory==null)return 0;R.ec=R.memory,R.fc=0,R.cc=R.ec,R.dc=R.fc+N.U,R.Mc=R.cc,R.Nc=R.dc+Q,R.Ib=nr,Wt()}}else alert("todo:EmitYUV");pe&&(R.Jb=Jo,ie&&it())}if(ie&&!yb){for(N=0;256>N;++N)Ab[N]=89858*(N-128)+Ao>>Wl,Df[N]=-22014*(N-128)+Ao,Ef[N]=-45773*(N-128),_o[N]=113618*(N-128)+Ao>>Wl;for(N=Cd;N<Ep;++N)R=76283*(N-16)+Ao>>Wl,If[N-Cd]=na(R,255),Dp[N-Cd]=na(R+8>>4,15);yb=1}return 1}function Xo(N){var R=N.ma,Q=N.U,ie=N.T;return i(!(1&N.ka)),0>=Q||0>=ie?0:(Q=R.Ib(N,R),R.Jb!=null&&R.Jb(N,R,Q),R.Dc+=Q,1)}function es(N){N.ma.memory=null}function hn(N,R,Q,ie){return ce(N,8)!=47?0:(R[0]=ce(N,14)+1,Q[0]=ce(N,14)+1,ie[0]=ce(N,1),ce(N,3)!=0?0:!N.h)}function xr(N,R){if(4>N)return N+1;var Q=N-2>>1;return(2+(1&N)<<Q)+ce(R,Q)+1}function rr(N,R){return 120<R?R-120:1<=(Q=((Q=Hl[R-1])>>4)*N+(8-(15&Q)))?Q:1;var Q}function wi(N,R,Q){var ie=te(Q),pe=N[R+=255&ie].g-8;return 0<pe&&(be(Q,Q.u+8),ie=te(Q),R+=N[R].value,R+=ie&(1<<pe)-1),be(Q,Q.u+N[R].g),N[R].value}function Mr(N,R,Q){return Q.g+=N.g,Q.value+=N.value<<R>>>0,i(8>=Q.g),N.g}function $r(N,R,Q){var ie=N.xc;return i((R=ie==0?0:N.vc[N.md*(Q>>ie)+(R>>ie)])<N.Wb),N.Ya[R]}function di(N,R,Q,ie){var pe=N.ab,ye=N.c*R,_e=N.C;R=_e+R;var xe=Q,De=ie;for(ie=N.Ta,Q=N.Ua;0<pe--;){var je=N.gc[pe],We=_e,lt=R,rt=xe,et=De,Bt=(De=ie,xe=Q,je.Ea);switch(i(We<lt),i(lt<=je.nc),je.hc){case 2:Ap(rt,et,(lt-We)*Bt,De,xe);break;case 0:var bt=We,Ye=lt,Je=De,It=xe,Pt=(en=je).Ea;bt==0&&(Jm(rt,et,null,null,1,Je,It),pt(rt,et+1,0,0,Pt-1,Je,It+1),et+=Pt,It+=Pt,++bt);for(var jt=1<<en.b,nn=jt-1,Xt=Ae(Pt,en.b),vn=en.K,en=en.w+(bt>>en.b)*Xt;bt<Ye;){var _r=vn,Nr=en,Xn=1;for(_f(rt,et,Je,It-Pt,1,Je,It);Xn<Pt;){var qn=(Xn&~nn)+jt;qn>Pt&&(qn=Pt),(0,Sc[_r[Nr++]>>8&15])(rt,et+ +Xn,Je,It+Xn-Pt,qn-Xn,Je,It+Xn),Xn=qn}et+=Pt,It+=Pt,++bt&nn||(en+=Xt)}lt!=je.nc&&o(De,xe-Bt,De,xe+(lt-We-1)*Bt,Bt);break;case 1:for(Bt=rt,Ye=et,Pt=(rt=je.Ea)-(It=rt&~(Je=(et=1<<je.b)-1)),bt=Ae(rt,je.b),jt=je.K,je=je.w+(We>>je.b)*bt;We<lt;){for(nn=jt,Xt=je,vn=new Xe,en=Ye+It,_r=Ye+rt;Ye<en;)at(nn[Xt++],vn),Ec(vn,Bt,Ye,et,De,xe),Ye+=et,xe+=et;Ye<_r&&(at(nn[Xt++],vn),Ec(vn,Bt,Ye,Pt,De,xe),Ye+=Pt,xe+=Pt),++We&Je||(je+=bt)}break;case 3:if(rt==De&&et==xe&&0<je.b){for(Ye=De,rt=Bt=xe+(lt-We)*Bt-(It=(lt-We)*Ae(je.Ea,je.b)),et=De,Je=xe,bt=[],It=(Pt=It)-1;0<=It;--It)bt[It]=et[Je+It];for(It=Pt-1;0<=It;--It)Ye[rt+It]=bt[It];ma(je,We,lt,De,Bt,De,xe)}else ma(je,We,lt,rt,et,De,xe)}xe=ie,De=Q}De!=Q&&o(ie,Q,xe,De,ye)}function Tl(N,R){var Q=N.V,ie=N.Ba+N.c*N.C,pe=R-N.C;if(i(R<=N.l.o),i(16>=pe),0<pe){var ye=N.l,_e=N.Ta,xe=N.Ua,De=ye.width;if(di(N,pe,Q,ie),pe=xe=[xe],i((Q=N.C)<(ie=R)),i(ye.v<ye.va),ie>ye.o&&(ie=ye.o),Q<ye.j){var je=ye.j-Q;Q=ye.j,pe[0]+=je*De}if(Q>=ie?Q=0:(pe[0]+=4*ye.v,ye.ka=Q-ye.j,ye.U=ye.va-ye.v,ye.T=ie-Q,Q=1),Q){if(xe=xe[0],11>(Q=N.ca).S){var We=Q.f.RGBA,lt=(ie=Q.S,pe=ye.U,ye=ye.T,je=We.eb,We.A),rt=ye;for(We=We.fb+N.Ma*We.A;0<rt--;){var et=_e,Bt=xe,bt=pe,Ye=je,Je=We;switch(ie){case ho:Fs(et,Bt,bt,Ye,Je);break;case yd:Bo(et,Bt,bt,Ye,Je);break;case _u:Bo(et,Bt,bt,Ye,Je),ra(Ye,Je,0,bt,1,0);break;case Hs:pl(et,Bt,bt,Ye,Je);break;case Nc:In(et,Bt,bt,Ye,Je,1);break;case Oc:In(et,Bt,bt,Ye,Je,1),ra(Ye,Je,0,bt,1,0);break;case Au:In(et,Bt,bt,Ye,Je,0);break;case ql:In(et,Bt,bt,Ye,Je,0),ra(Ye,Je,1,bt,1,0);break;case ka:wu(et,Bt,bt,Ye,Je);break;case Ad:wu(et,Bt,bt,Ye,Je),fr(Ye,Je,bt,1,0);break;case Pa:zs(et,Bt,bt,Ye,Je);break;default:i(0)}xe+=De,We+=lt}N.Ma+=ye}else alert("todo:EmitRescaledRowsYUVA");i(N.Ma<=Q.height)}}N.C=R,i(N.C<=N.i)}function ks(N){var R;if(0<N.ua)return 0;for(R=0;R<N.Wb;++R){var Q=N.Ya[R].G,ie=N.Ya[R].H;if(0<Q[1][ie[1]+0].g||0<Q[2][ie[2]+0].g||0<Q[3][ie[3]+0].g)return 0}return 1}function ws(N,R,Q,ie,pe,ye){if(N.Z!=0){var _e=N.qd,xe=N.rd;for(i(gl[N.Z]!=null);R<Q;++R)gl[N.Z](_e,xe,ie,pe,ie,pe,ye),_e=ie,xe=pe,pe+=ye;N.qd=_e,N.rd=xe}}function bo(N,R){var Q=N.l.ma,ie=Q.Z==0||Q.Z==1?N.l.j:N.C;if(ie=N.C<ie?ie:N.C,i(R<=N.l.o),R>ie){var pe=N.l.width,ye=Q.ca,_e=Q.tb+pe*ie,xe=N.V,De=N.Ba+N.c*ie,je=N.gc;i(N.ab==1),i(je[0].hc==3),ku(je[0],ie,R,xe,De,ye,_e),ws(Q,ie,R,ye,_e,pe)}N.C=N.Ma=R}function Ei(N,R,Q,ie,pe,ye,_e){var xe=N.$/ie,De=N.$%ie,je=N.m,We=N.s,lt=Q+N.$,rt=lt;pe=Q+ie*pe;var et=Q+ie*ye,Bt=280+We.ua,bt=N.Pb?xe:16777216,Ye=0<We.ua?We.Wa:null,Je=We.wc,It=lt<et?$r(We,De,xe):null;i(N.C<ye),i(et<=pe);var Pt=!1;e:for(;;){for(;Pt||lt<et;){var jt=0;if(xe>=bt){var nn=lt-Q;i((bt=N).Pb),bt.wd=bt.m,bt.xd=nn,0<bt.s.ua&&Le(bt.s.Wa,bt.s.vb),bt=xe+vb}if(De&Je||(It=$r(We,De,xe)),i(It!=null),It.Qb&&(R[lt]=It.qb,Pt=!0),!Pt)if(ve(je),It.jc){jt=je,nn=R;var Xt=lt,vn=It.pd[te(jt)&yi-1];i(It.jc),256>vn.g?(be(jt,jt.u+vn.g),nn[Xt]=vn.value,jt=0):(be(jt,jt.u+vn.g-256),i(256<=vn.value),jt=vn.value),jt==0&&(Pt=!0)}else jt=wi(It.G[0],It.H[0],je);if(je.h)break;if(Pt||256>jt){if(!Pt)if(It.nd)R[lt]=(It.qb|jt<<8)>>>0;else{if(ve(je),Pt=wi(It.G[1],It.H[1],je),ve(je),nn=wi(It.G[2],It.H[2],je),Xt=wi(It.G[3],It.H[3],je),je.h)break;R[lt]=(Xt<<24|Pt<<16|jt<<8|nn)>>>0}if(Pt=!1,++lt,++De>=ie&&(De=0,++xe,_e!=null&&xe<=ye&&!(xe%16)&&_e(N,xe),Ye!=null))for(;rt<lt;)jt=R[rt++],Ye.X[(506832829*jt&4294967295)>>>Ye.Mb]=jt}else if(280>jt){if(jt=xr(jt-256,je),nn=wi(It.G[4],It.H[4],je),ve(je),nn=rr(ie,nn=xr(nn,je)),je.h)break;if(lt-Q<nn||pe-lt<jt)break e;for(Xt=0;Xt<jt;++Xt)R[lt+Xt]=R[lt+Xt-nn];for(lt+=jt,De+=jt;De>=ie;)De-=ie,++xe,_e!=null&&xe<=ye&&!(xe%16)&&_e(N,xe);if(i(lt<=pe),De&Je&&(It=$r(We,De,xe)),Ye!=null)for(;rt<lt;)jt=R[rt++],Ye.X[(506832829*jt&4294967295)>>>Ye.Mb]=jt}else{if(!(jt<Bt))break e;for(Pt=jt-280,i(Ye!=null);rt<lt;)jt=R[rt++],Ye.X[(506832829*jt&4294967295)>>>Ye.Mb]=jt;jt=lt,i(!(Pt>>>(nn=Ye).Xa)),R[jt]=nn.X[Pt],Pt=!0}Pt||i(je.h==ke(je))}if(N.Pb&&je.h&&lt<pe)i(N.m.h),N.a=5,N.m=N.wd,N.$=N.xd,0<N.s.ua&&Le(N.s.vb,N.s.Wa);else{if(je.h)break e;_e!=null&&_e(N,xe>ye?ye:xe),N.a=0,N.$=lt-Q}return 1}return N.a=3,0}function ao(N){i(N!=null),N.vc=null,N.yc=null,N.Ya=null;var R=N.Wa;R!=null&&(R.X=null),N.vb=null,i(N!=null)}function lo(){var N=new Zm;return N==null?null:(N.a=0,N.xb=mh,Fn("Predictor","VP8LPredictors"),Fn("Predictor","VP8LPredictors_C"),Fn("PredictorAdd","VP8LPredictorsAdd"),Fn("PredictorAdd","VP8LPredictorsAdd_C"),Ap=He,Ec=kt,Fs=yt,Bo=jn,wu=on,zs=kr,pl=xn,Z.VP8LMapColor32b=vo,Z.VP8LMapColor8b=ph,N)}function Fr(N,R,Q,ie,pe){var ye=1,_e=[N],xe=[R],De=ie.m,je=ie.s,We=null,lt=0;e:for(;;){if(Q)for(;ye&&ce(De,1);){var rt=_e,et=xe,Bt=ie,bt=1,Ye=Bt.m,Je=Bt.gc[Bt.ab],It=ce(Ye,2);if(Bt.Oc&1<<It)ye=0;else{switch(Bt.Oc|=1<<It,Je.hc=It,Je.Ea=rt[0],Je.nc=et[0],Je.K=[null],++Bt.ab,i(4>=Bt.ab),It){case 0:case 1:Je.b=ce(Ye,3)+2,bt=Fr(Ae(Je.Ea,Je.b),Ae(Je.nc,Je.b),0,Bt,Je.K),Je.K=Je.K[0];break;case 3:var Pt,jt=ce(Ye,8)+1,nn=16<jt?0:4<jt?1:2<jt?2:3;if(rt[0]=Ae(Je.Ea,nn),Je.b=nn,Pt=bt=Fr(jt,1,0,Bt,Je.K)){var Xt,vn=jt,en=Je,_r=1<<(8>>en.b),Nr=c(_r);if(Nr==null)Pt=0;else{var Xn=en.K[0],qn=en.w;for(Nr[0]=en.K[0][0],Xt=1;Xt<1*vn;++Xt)Nr[Xt]=Ne(Xn[qn+Xt],Nr[Xt-1]);for(;Xt<4*_r;++Xt)Nr[Xt]=0;en.K[0]=null,en.K[0]=Nr,Pt=1}}bt=Pt;break;case 2:break;default:i(0)}ye=bt}}if(_e=_e[0],xe=xe[0],ye&&ce(De,1)&&!(ye=1<=(lt=ce(De,4))&&11>=lt)){ie.a=3;break e}var Or;if(Or=ye)t:{var Dr,Pn,Qr,Cn=ie,On=_e,Dt=xe,Ir=lt,Ut=Q,xo=Cn.m,Rt=Cn.s,Xi=[null],zt=1,Fa=0,Nt=Bc[Ir];n:for(;;){if(Ut&&ce(xo,1)){var Fi=ce(xo,3)+2,Gs=Ae(On,Fi),un=Ae(Dt,Fi),Gl=Gs*un;if(!Fr(Gs,un,0,Cn,Xi))break n;for(Xi=Xi[0],Rt.xc=Fi,Dr=0;Dr<Gl;++Dr){var Yl=Xi[Dr]>>8&65535;Xi[Dr]=Yl,Yl>=zt&&(zt=Yl+1)}}if(xo.h)break n;for(Pn=0;5>Pn;++Pn){var ri=ia[Pn];!Pn&&0<Ir&&(ri+=1<<Ir),Fa<ri&&(Fa=ri)}var Tf=d(zt*Nt,K),Vt=zt,As=d(Vt,q);if(As==null)var pn=null;else i(65536>=Vt),pn=As;var Eu=c(Fa);if(pn==null||Eu==null||Tf==null){Cn.a=1;break n}var Pc=Tf;for(Dr=Qr=0;Dr<zt;++Dr){var Ys=pn[Dr],Rc=Ys.G,rs=Ys.H,Du=0,bh=1,Ip=0;for(Pn=0;5>Pn;++Pn){ri=ia[Pn],Rc[Pn]=Pc,rs[Pn]=Qr,!Pn&&0<Ir&&(ri+=1<<Ir);i:{var Sd,kh=ri,Mf=Cn,wh=Eu,_b=Pc,Cb=Qr,Nf=0,Fc=Mf.m,Ok=ce(Fc,1);if(a(wh,0,0,kh),Ok){var tg=ce(Fc,1)+1,ng=ce(Fc,1),rg=ce(Fc,ng==0?1:8);wh[rg]=1,tg==2&&(wh[rg=ce(Fc,8)]=1);var Iu=1}else{var vh=c(19),Tu=ce(Fc,4)+4;if(19<Tu){Mf.a=3;var Ed=0;break i}for(Sd=0;Sd<Tu;++Sd)vh[Vl[Sd]]=ce(Fc,3);var zc=void 0,yh=void 0,ig=Mf,Of=vh,wa=kh,Uc=wh,Bf=0,za=ig.m,Ah=8,og=d(128,K);r:for(;X(og,0,7,Of,19);){if(ce(za,1)){var xb=2+2*ce(za,3);if((zc=2+ce(za,xb))>wa)break r}else zc=wa;for(yh=0;yh<wa&&zc--;){ve(za);var jf=og[0+(127&te(za))];be(za,za.u+jf.g);var Mu=jf.value;if(16>Mu)Uc[yh++]=Mu,Mu!=0&&(Ah=Mu);else{var Sb=Mu==16,qc=Mu-16,Tp=Ra[qc],Vc=ce(za,_p[qc])+Tp;if(yh+Vc>wa)break r;for(var eo=Sb?Ah:0;0<Vc--;)Uc[yh++]=eo}}Bf=1;break r}Bf||(ig.a=3),Iu=Bf}(Iu=Iu&&!Fc.h)&&(Nf=X(_b,Cb,8,wh,kh)),Iu&&Nf!=0?Ed=Nf:(Mf.a=3,Ed=0)}if(Ed==0)break n;if(bh&&Cu[Pn]==1&&(bh=Pc[Qr].g==0),Du+=Pc[Qr].g,Qr+=Ed,3>=Pn){var Ks,Dd=Eu[0];for(Ks=1;Ks<ri;++Ks)Eu[Ks]>Dd&&(Dd=Eu[Ks]);Ip+=Dd}}if(Ys.nd=bh,Ys.Qb=0,bh&&(Ys.qb=(Rc[3][rs[3]+0].value<<24|Rc[1][rs[1]+0].value<<16|Rc[2][rs[2]+0].value)>>>0,Du==0&&256>Rc[0][rs[0]+0].value&&(Ys.Qb=1,Ys.qb+=Rc[0][rs[0]+0].value<<8)),Ys.jc=!Ys.Qb&&6>Ip,Ys.jc){var Lf,va=Ys;for(Lf=0;Lf<yi;++Lf){var Ua=Lf,Ro=va.pd[Ua],Nu=va.G[0][va.H[0]+Ua];256<=Nu.value?(Ro.g=Nu.g+256,Ro.value=Nu.value):(Ro.g=0,Ro.value=0,Ua>>=Mr(Nu,8,Ro),Ua>>=Mr(va.G[1][va.H[1]+Ua],16,Ro),Ua>>=Mr(va.G[2][va.H[2]+Ua],0,Ro),Mr(va.G[3][va.H[3]+Ua],24,Ro))}}}Rt.vc=Xi,Rt.Wb=zt,Rt.Ya=pn,Rt.yc=Tf,Or=1;break t}Or=0}if(!(ye=Or)){ie.a=3;break e}if(0<lt){if(je.ua=1<<lt,!oe(je.Wa,lt)){ie.a=1,ye=0;break e}}else je.ua=0;var Id=ie,sg=_e,ag=xe,lg=Id.s,cg=lg.xc;if(Id.c=sg,Id.i=ag,lg.md=Ae(sg,cg),lg.wc=cg==0?-1:(1<<cg)-1,Q){ie.xb=Xm;break e}if((We=c(_e*xe))==null){ie.a=1,ye=0;break e}ye=(ye=Ei(ie,We,0,_e,xe,xe,null))&&!De.h;break e}return ye?(pe!=null?pe[0]=We:(i(We==null),i(Q)),ie.$=0,Q||ao(je)):ao(je),ye}function cl(N,R){var Q=N.c*N.i,ie=Q+R+16*R;return i(N.c<=R),N.V=c(ie),N.V==null?(N.Ta=null,N.Ua=0,N.a=1,0):(N.Ta=N.V,N.Ua=N.Ba+Q+R,1)}function Ml(N,R){var Q=N.C,ie=R-Q,pe=N.V,ye=N.Ba+N.c*Q;for(i(R<=N.l.o);0<ie;){var _e=16<ie?16:ie,xe=N.l.ma,De=N.l.width,je=De*_e,We=xe.ca,lt=xe.tb+De*Q,rt=N.Ta,et=N.Ua;di(N,_e,pe,ye),ni(rt,et,We,lt,je),ws(xe,Q,Q+_e,We,lt,De),ie-=_e,pe+=_e*N.c,Q+=_e}i(Q==R),N.C=N.Ma=R}function Ki(){this.ub=this.yd=this.td=this.Rb=0}function vs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Nl(){this.Fb=this.Bb=this.Cb=0,this.Zb=c(4),this.Lb=c(4)}function cu(){this.Yb=function(){var N=[];return function R(Q,ie,pe){for(var ye=pe[ie],_e=0;_e<ye&&(Q.push(pe.length>ie+1?[]:0),!(pe.length<ie+1));_e++)R(Q[_e],ie+1,pe)}(N,0,[3,11]),N}()}function Ft(){this.jb=c(3),this.Wc=p([4,8],cu),this.Xc=p([4,17],cu)}function qt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new c(4),this.od=new c(4)}function $t(){this.ld=this.La=this.dd=this.tc=0}function mn(){this.Na=this.la=0}function sn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Kn(){this.ad=c(384),this.Za=0,this.Ob=c(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function zr(){this.uc=this.M=this.Nb=0,this.wa=Array(new $t),this.Y=0,this.ya=Array(new Kn),this.aa=0,this.l=new ko}function Yr(){this.y=c(16),this.f=c(8),this.ea=c(8)}function Di(){this.cb=this.a=0,this.sc="",this.m=new Te,this.Od=new Ki,this.Kc=new vs,this.ed=new qt,this.Qa=new Nl,this.Ic=this.$c=this.Aa=0,this.D=new zr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=d(8,Te),this.ia=0,this.pb=d(4,sn),this.Pa=new Ft,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Yr),this.Hd=0,this.rb=Array(new mn),this.sb=0,this.wa=Array(new $t),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Kn),this.L=this.aa=0,this.gd=p([4,2],$t),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ko(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function js(){var N=new Di;return N!=null&&(N.a=0,N.sc="OK",N.cb=0,N.Xb=0,yo||(yo=cd)),N}function br(N,R,Q){return N.a==0&&(N.a=R,N.sc=Q,N.cb=0),0}function Kr(N,R,Q){return 3<=Q&&N[R+0]==157&&N[R+1]==1&&N[R+2]==42}function uu(N,R){if(N==null)return 0;if(N.a=0,N.sc="OK",R==null)return br(N,2,"null VP8Io passed to VP8GetHeaders()");var Q=R.data,ie=R.w,pe=R.ha;if(4>pe)return br(N,7,"Truncated header.");var ye=Q[ie+0]|Q[ie+1]<<8|Q[ie+2]<<16,_e=N.Od;if(_e.Rb=!(1&ye),_e.td=ye>>1&7,_e.yd=ye>>4&1,_e.ub=ye>>5,3<_e.td)return br(N,3,"Incorrect keyframe parameters.");if(!_e.yd)return br(N,4,"Frame not displayable.");ie+=3,pe-=3;var xe=N.Kc;if(_e.Rb){if(7>pe)return br(N,7,"cannot parse picture header");if(!Kr(Q,ie,pe))return br(N,3,"Bad code word");xe.c=16383&(Q[ie+4]<<8|Q[ie+3]),xe.Td=Q[ie+4]>>6,xe.i=16383&(Q[ie+6]<<8|Q[ie+5]),xe.Ud=Q[ie+6]>>6,ie+=7,pe-=7,N.za=xe.c+15>>4,N.Ub=xe.i+15>>4,R.width=xe.c,R.height=xe.i,R.Da=0,R.j=0,R.v=0,R.va=R.width,R.o=R.height,R.da=0,R.ib=R.width,R.hb=R.height,R.U=R.width,R.T=R.height,a((ye=N.Pa).jb,0,255,ye.jb.length),i((ye=N.Qa)!=null),ye.Cb=0,ye.Bb=0,ye.Fb=1,a(ye.Zb,0,0,ye.Zb.length),a(ye.Lb,0,0,ye.Lb)}if(_e.ub>pe)return br(N,7,"bad partition length");fe(ye=N.m,Q,ie,_e.ub),ie+=_e.ub,pe-=_e.ub,_e.Rb&&(xe.Ld=Oe(ye),xe.Kd=Oe(ye)),xe=N.Qa;var De,je=N.Pa;if(i(ye!=null),i(xe!=null),xe.Cb=Oe(ye),xe.Cb){if(xe.Bb=Oe(ye),Oe(ye)){for(xe.Fb=Oe(ye),De=0;4>De;++De)xe.Zb[De]=Oe(ye)?de(ye,7):0;for(De=0;4>De;++De)xe.Lb[De]=Oe(ye)?de(ye,6):0}if(xe.Bb)for(De=0;3>De;++De)je.jb[De]=Oe(ye)?ue(ye,8):255}else xe.Bb=0;if(ye.Ka)return br(N,3,"cannot parse segment header");if((xe=N.ed).zd=Oe(ye),xe.Tb=ue(ye,6),xe.wb=ue(ye,3),xe.Pc=Oe(ye),xe.Pc&&Oe(ye)){for(je=0;4>je;++je)Oe(ye)&&(xe.vd[je]=de(ye,6));for(je=0;4>je;++je)Oe(ye)&&(xe.od[je]=de(ye,6))}if(N.L=xe.Tb==0?0:xe.zd?1:2,ye.Ka)return br(N,3,"cannot parse filter header");var We=pe;if(pe=De=ie,ie=De+We,xe=We,N.Xb=(1<<ue(N.m,2))-1,We<3*(je=N.Xb))Q=7;else{for(De+=3*je,xe-=3*je,We=0;We<je;++We){var lt=Q[pe+0]|Q[pe+1]<<8|Q[pe+2]<<16;lt>xe&&(lt=xe),fe(N.Jc[+We],Q,De,lt),De+=lt,xe-=lt,pe+=3}fe(N.Jc[+je],Q,De,xe),Q=De<ie?0:5}if(Q!=0)return br(N,Q,"cannot parse partitions");for(Q=ue(De=N.m,7),pe=Oe(De)?de(De,4):0,ie=Oe(De)?de(De,4):0,xe=Oe(De)?de(De,4):0,je=Oe(De)?de(De,4):0,De=Oe(De)?de(De,4):0,We=N.Qa,lt=0;4>lt;++lt){if(We.Cb){var rt=We.Zb[lt];We.Fb||(rt+=Q)}else{if(0<lt){N.pb[lt]=N.pb[0];continue}rt=Q}var et=N.pb[lt];et.Sc[0]=_d[na(rt+pe,127)],et.Sc[1]=Cf[na(rt+0,127)],et.Eb[0]=2*_d[na(rt+ie,127)],et.Eb[1]=101581*Cf[na(rt+xe,127)]>>16,8>et.Eb[1]&&(et.Eb[1]=8),et.Qc[0]=_d[na(rt+je,117)],et.Qc[1]=Cf[na(rt+De,127)],et.lc=rt+De}if(!_e.Rb)return br(N,4,"Not a key frame.");for(Oe(ye),_e=N.Pa,Q=0;4>Q;++Q){for(pe=0;8>pe;++pe)for(ie=0;3>ie;++ie)for(xe=0;11>xe;++xe)je=Ue(ye,$l[Q][pe][ie][xe])?ue(ye,8):$s[Q][pe][ie][xe],_e.Wc[Q][pe].Yb[ie][xe]=je;for(pe=0;17>pe;++pe)_e.Xc[Q][pe]=_e.Wc[Q][Cp[pe]]}return N.kc=Oe(ye),N.kc&&(N.Bd=ue(ye,8)),N.cb=1}function cd(N,R,Q,ie,pe,ye,_e){var xe=R[pe].Yb[Q];for(Q=0;16>pe;++pe){if(!Ue(N,xe[Q+0]))return pe;for(;!Ue(N,xe[Q+1]);)if(xe=R[++pe].Yb[0],Q=0,pe==16)return 16;var De=R[pe+1].Yb;if(Ue(N,xe[Q+2])){var je=N,We=0;if(Ue(je,(rt=xe)[(lt=Q)+3]))if(Ue(je,rt[lt+6])){for(xe=0,lt=2*(We=Ue(je,rt[lt+8]))+(rt=Ue(je,rt[lt+9+We])),We=0,rt=Ri[lt];rt[xe];++xe)We+=We+Ue(je,rt[xe]);We+=3+(8<<lt)}else Ue(je,rt[lt+7])?(We=7+2*Ue(je,165),We+=Ue(je,145)):We=5+Ue(je,159);else We=Ue(je,rt[lt+4])?3+Ue(je,rt[lt+5]):2;xe=De[2]}else We=1,xe=De[1];De=_e+ln[pe],0>(je=N).b&&Re(je);var lt,rt=je.b,et=(lt=je.Ca>>1)-(je.I>>rt)>>31;--je.b,je.Ca+=et,je.Ca|=1,je.I-=(lt+1&et)<<rt,ye[De]=((We^et)-et)*ie[(0<pe)+0]}return 16}function fa(N){var R=N.rb[N.sb-1];R.la=0,R.Na=0,a(N.zc,0,0,N.zc.length),N.ja=0}function du(N,R){if(N==null)return 0;if(R==null)return br(N,2,"NULL VP8Io parameter in VP8Decode().");if(!N.cb&&!uu(N,R))return 0;if(i(N.cb),R.ac==null||R.ac(R)){R.ob&&(N.L=0);var Q=Co[N.L];if(N.L==2?(N.yb=0,N.zb=0):(N.yb=R.v-Q>>4,N.zb=R.j-Q>>4,0>N.yb&&(N.yb=0),0>N.zb&&(N.zb=0)),N.Va=R.o+15+Q>>4,N.Hb=R.va+15+Q>>4,N.Hb>N.za&&(N.Hb=N.za),N.Va>N.Ub&&(N.Va=N.Ub),0<N.L){var ie=N.ed;for(Q=0;4>Q;++Q){var pe;if(N.Qa.Cb){var ye=N.Qa.Lb[Q];N.Qa.Fb||(ye+=ie.Tb)}else ye=ie.Tb;for(pe=0;1>=pe;++pe){var _e=N.gd[Q][pe],xe=ye;if(ie.Pc&&(xe+=ie.vd[0],pe&&(xe+=ie.od[0])),0<(xe=0>xe?0:63<xe?63:xe)){var De=xe;0<ie.wb&&(De=4<ie.wb?De>>2:De>>1)>9-ie.wb&&(De=9-ie.wb),1>De&&(De=1),_e.dd=De,_e.tc=2*xe+De,_e.ld=40<=xe?2:15<=xe?1:0}else _e.tc=0;_e.La=pe}}}Q=0}else br(N,6,"Frame setup failed"),Q=N.a;if(Q=Q==0){if(Q){N.$c=0,0<N.Aa||(N.Ic=Ji);e:{Q=N.Ic,ie=4*(De=N.za);var je=32*De,We=De+1,lt=0<N.L?De*(0<N.Aa?2:1):0,rt=(N.Aa==2?2:1)*De;if((_e=ie+832+(pe=3*(16*Q+Co[N.L])/2*je)+(ye=N.Fa!=null&&0<N.Fa.length?N.Kc.c*N.Kc.i:0))!=_e)Q=0;else{if(_e>N.Vb){if(N.Vb=0,N.Ec=c(_e),N.Fc=0,N.Ec==null){Q=br(N,1,"no memory during frame initialization.");break e}N.Vb=_e}_e=N.Ec,xe=N.Fc,N.Ac=_e,N.Bc=xe,xe+=ie,N.Gd=d(je,Yr),N.Hd=0,N.rb=d(We+1,mn),N.sb=1,N.wa=lt?d(lt,$t):null,N.Y=0,N.D.Nb=0,N.D.wa=N.wa,N.D.Y=N.Y,0<N.Aa&&(N.D.Y+=De),i(!0),N.oc=_e,N.pc=xe,xe+=832,N.ya=d(rt,Kn),N.aa=0,N.D.ya=N.ya,N.D.aa=N.aa,N.Aa==2&&(N.D.aa+=De),N.R=16*De,N.B=8*De,De=(je=Co[N.L])*N.R,je=je/2*N.B,N.sa=_e,N.ta=xe+De,N.qa=N.sa,N.ra=N.ta+16*Q*N.R+je,N.Ha=N.qa,N.Ia=N.ra+8*Q*N.B+je,N.$c=0,xe+=pe,N.mb=ye?_e:null,N.nb=ye?xe:null,i(xe+ye<=N.Fc+N.Vb),fa(N),a(N.Ac,N.Bc,0,ie),Q=1}}if(Q){if(R.ka=0,R.y=N.sa,R.O=N.ta,R.f=N.qa,R.N=N.ra,R.ea=N.Ha,R.Vd=N.Ia,R.fa=N.R,R.Rc=N.B,R.F=null,R.J=0,!Mn){for(Q=-255;255>=Q;++Q)Hn[255+Q]=0>Q?-Q:Q;for(Q=-1020;1020>=Q;++Q)Vs[1020+Q]=-128>Q?-128:127<Q?127:Q;for(Q=-112;112>=Q;++Q)Tc[112+Q]=-16>Q?-16:15<Q?15:Q;for(Q=-255;510>=Q;++Q)Mc[255+Q]=0>Q?0:255<Q?255:Q;Mn=1}zl=hu,Ba=mf,ja=gc,Zi=ud,Us=gf,Vi=ih,Er=fd,La=Ac,vu=Qm,qs=mu,Dc=Km,Ic=lh,wd=Rl,ga=yp,ml=Pl,Ul=Oo,jo=hl,Hi=vf,or[0]=Ls,or[1]=wp,or[2]=Ol,or[3]=vp,or[4]=pa,or[5]=Bl,or[6]=sh,or[7]=Ps,or[8]=dd,or[9]=kf,jc[0]=oh,jc[1]=fu,jc[2]=kc,jc[3]=ul,jc[4]=Qi,jc[5]=dl,jc[6]=wc,Ws[0]=yc,Ws[1]=bc,Ws[2]=wf,Ws[3]=vc,Ws[4]=Rs,Ws[5]=wo,Ws[6]=Sr,Q=1}else Q=0}Q&&(Q=function(et,Bt){for(et.M=0;et.M<et.Va;++et.M){var bt,Ye=et.Jc[et.M&et.Xb],Je=et.m,It=et;for(bt=0;bt<It.za;++bt){var Pt=Je,jt=It,nn=jt.Ac,Xt=jt.Bc+4*bt,vn=jt.zc,en=jt.ya[jt.aa+bt];if(jt.Qa.Bb?en.$b=Ue(Pt,jt.Pa.jb[0])?2+Ue(Pt,jt.Pa.jb[2]):Ue(Pt,jt.Pa.jb[1]):en.$b=0,jt.kc&&(en.Ad=Ue(Pt,jt.Bd)),en.Za=!Ue(Pt,145)+0,en.Za){var _r=en.Ob,Nr=0;for(jt=0;4>jt;++jt){var Xn,qn=vn[0+jt];for(Xn=0;4>Xn;++Xn){qn=xf[nn[Xt+Xn]][qn];for(var Or=xu[Ue(Pt,qn[0])];0<Or;)Or=xu[2*Or+Ue(Pt,qn[Or])];qn=-Or,nn[Xt+Xn]=qn}o(_r,Nr,nn,Xt,4),Nr+=4,vn[0+jt]=qn}}else qn=Ue(Pt,156)?Ue(Pt,128)?1:3:Ue(Pt,163)?2:0,en.Ob[0]=qn,a(nn,Xt,qn,4),a(vn,0,qn,4);en.Dd=Ue(Pt,142)?Ue(Pt,114)?Ue(Pt,183)?1:3:2:0}if(It.m.Ka)return br(et,7,"Premature end-of-partition0 encountered.");for(;et.ja<et.za;++et.ja){if(It=Ye,Pt=(Je=et).rb[Je.sb-1],nn=Je.rb[Je.sb+Je.ja],bt=Je.ya[Je.aa+Je.ja],Xt=Je.kc?bt.Ad:0)Pt.la=nn.la=0,bt.Za||(Pt.Na=nn.Na=0),bt.Hc=0,bt.Gc=0,bt.ia=0;else{var Dr,Pn;if(Pt=nn,nn=It,Xt=Je.Pa.Xc,vn=Je.ya[Je.aa+Je.ja],en=Je.pb[vn.$b],jt=vn.ad,_r=0,Nr=Je.rb[Je.sb-1],qn=Xn=0,a(jt,_r,0,384),vn.Za)var Qr=0,Cn=Xt[3];else{Or=c(16);var On=Pt.Na+Nr.Na;if(On=yo(nn,Xt[1],On,en.Eb,0,Or,0),Pt.Na=Nr.Na=(0<On)+0,1<On)zl(Or,0,jt,_r);else{var Dt=Or[0]+3>>3;for(Or=0;256>Or;Or+=16)jt[_r+Or]=Dt}Qr=1,Cn=Xt[0]}var Ir=15&Pt.la,Ut=15&Nr.la;for(Or=0;4>Or;++Or){var xo=1&Ut;for(Dt=Pn=0;4>Dt;++Dt)Ir=Ir>>1|(xo=(On=yo(nn,Cn,On=xo+(1&Ir),en.Sc,Qr,jt,_r))>Qr)<<7,Pn=Pn<<2|(3<On?3:1<On?2:jt[_r+0]!=0),_r+=16;Ir>>=4,Ut=Ut>>1|xo<<7,Xn=(Xn<<8|Pn)>>>0}for(Cn=Ir,Qr=Ut>>4,Dr=0;4>Dr;Dr+=2){for(Pn=0,Ir=Pt.la>>4+Dr,Ut=Nr.la>>4+Dr,Or=0;2>Or;++Or){for(xo=1&Ut,Dt=0;2>Dt;++Dt)On=xo+(1&Ir),Ir=Ir>>1|(xo=0<(On=yo(nn,Xt[2],On,en.Qc,0,jt,_r)))<<3,Pn=Pn<<2|(3<On?3:1<On?2:jt[_r+0]!=0),_r+=16;Ir>>=2,Ut=Ut>>1|xo<<5}qn|=Pn<<4*Dr,Cn|=Ir<<4<<Dr,Qr|=(240&Ut)<<Dr}Pt.la=Cn,Nr.la=Qr,vn.Hc=Xn,vn.Gc=qn,vn.ia=43690&qn?0:en.ia,Xt=!(Xn|qn)}if(0<Je.L&&(Je.wa[Je.Y+Je.ja]=Je.gd[bt.$b][bt.Za],Je.wa[Je.Y+Je.ja].La|=!Xt),It.Ka)return br(et,7,"Premature end-of-file encountered.")}if(fa(et),Je=Bt,It=1,bt=(Ye=et).D,Pt=0<Ye.L&&Ye.M>=Ye.zb&&Ye.M<=Ye.Va,Ye.Aa==0)e:{if(bt.M=Ye.M,bt.uc=Pt,Cc(Ye,bt),It=1,bt=(Pn=Ye.D).Nb,Pt=(qn=Co[Ye.L])*Ye.R,nn=qn/2*Ye.B,Or=16*bt*Ye.R,Dt=8*bt*Ye.B,Xt=Ye.sa,vn=Ye.ta-Pt+Or,en=Ye.qa,jt=Ye.ra-nn+Dt,_r=Ye.Ha,Nr=Ye.Ia-nn+Dt,Ut=(Ir=Pn.M)==0,Xn=Ir>=Ye.Va-1,Ye.Aa==2&&Cc(Ye,Pn),Pn.uc)for(xo=(On=Ye).D.M,i(On.D.uc),Pn=On.yb;Pn<On.Hb;++Pn){Qr=Pn,Cn=xo;var Rt=(Xi=(ri=On).D).Nb;Dr=ri.R;var Xi=Xi.wa[Xi.Y+Qr],zt=ri.sa,Fa=ri.ta+16*Rt*Dr+16*Qr,Nt=Xi.dd,Fi=Xi.tc;if(Fi!=0)if(i(3<=Fi),ri.L==1)0<Qr&&Ul(zt,Fa,Dr,Fi+4),Xi.La&&Hi(zt,Fa,Dr,Fi),0<Cn&&ml(zt,Fa,Dr,Fi+4),Xi.La&&jo(zt,Fa,Dr,Fi);else{var Gs=ri.B,un=ri.qa,Gl=ri.ra+8*Rt*Gs+8*Qr,Yl=ri.Ha,ri=ri.Ia+8*Rt*Gs+8*Qr;Rt=Xi.ld,0<Qr&&(La(zt,Fa,Dr,Fi+4,Nt,Rt),qs(un,Gl,Yl,ri,Gs,Fi+4,Nt,Rt)),Xi.La&&(Ic(zt,Fa,Dr,Fi,Nt,Rt),ga(un,Gl,Yl,ri,Gs,Fi,Nt,Rt)),0<Cn&&(Er(zt,Fa,Dr,Fi+4,Nt,Rt),vu(un,Gl,Yl,ri,Gs,Fi+4,Nt,Rt)),Xi.La&&(Dc(zt,Fa,Dr,Fi,Nt,Rt),wd(un,Gl,Yl,ri,Gs,Fi,Nt,Rt))}}if(Ye.ia&&alert("todo:DitherRow"),Je.put!=null){if(Pn=16*Ir,Ir=16*(Ir+1),Ut?(Je.y=Ye.sa,Je.O=Ye.ta+Or,Je.f=Ye.qa,Je.N=Ye.ra+Dt,Je.ea=Ye.Ha,Je.W=Ye.Ia+Dt):(Pn-=qn,Je.y=Xt,Je.O=vn,Je.f=en,Je.N=jt,Je.ea=_r,Je.W=Nr),Xn||(Ir-=qn),Ir>Je.o&&(Ir=Je.o),Je.F=null,Je.J=null,Ye.Fa!=null&&0<Ye.Fa.length&&Pn<Ir&&(Je.J=uh(Ye,Je,Pn,Ir-Pn),Je.F=Ye.mb,Je.F==null&&Je.F.length==0)){It=br(Ye,3,"Could not decode alpha data.");break e}Pn<Je.j&&(qn=Je.j-Pn,Pn=Je.j,i(!(1&qn)),Je.O+=Ye.R*qn,Je.N+=Ye.B*(qn>>1),Je.W+=Ye.B*(qn>>1),Je.F!=null&&(Je.J+=Je.width*qn)),Pn<Ir&&(Je.O+=Je.v,Je.N+=Je.v>>1,Je.W+=Je.v>>1,Je.F!=null&&(Je.J+=Je.v),Je.ka=Pn-Je.j,Je.U=Je.va-Je.v,Je.T=Ir-Pn,It=Je.put(Je))}bt+1!=Ye.Ic||Xn||(o(Ye.sa,Ye.ta-Pt,Xt,vn+16*Ye.R,Pt),o(Ye.qa,Ye.ra-nn,en,jt+8*Ye.B,nn),o(Ye.Ha,Ye.Ia-nn,_r,Nr+8*Ye.B,nn))}if(!It)return br(et,6,"Output aborted.")}return 1}(N,R)),R.bc!=null&&R.bc(R),Q&=1}return Q?(N.cb=0,Q):0}function ts(N,R,Q,ie,pe){pe=N[R+Q+32*ie]+(pe>>3),N[R+Q+32*ie]=-256&pe?0>pe?0:255:pe}function mc(N,R,Q,ie,pe,ye){ts(N,R,0,Q,ie+pe),ts(N,R,1,Q,ie+ye),ts(N,R,2,Q,ie-ye),ts(N,R,3,Q,ie-pe)}function ti(N){return(20091*N>>16)+N}function Ia(N,R,Q,ie){var pe,ye=0,_e=c(16);for(pe=0;4>pe;++pe){var xe=N[R+0]+N[R+8],De=N[R+0]-N[R+8],je=(35468*N[R+4]>>16)-ti(N[R+12]),We=ti(N[R+4])+(35468*N[R+12]>>16);_e[ye+0]=xe+We,_e[ye+1]=De+je,_e[ye+2]=De-je,_e[ye+3]=xe-We,ye+=4,R++}for(pe=ye=0;4>pe;++pe)xe=(N=_e[ye+0]+4)+_e[ye+8],De=N-_e[ye+8],je=(35468*_e[ye+4]>>16)-ti(_e[ye+12]),ts(Q,ie,0,0,xe+(We=ti(_e[ye+4])+(35468*_e[ye+12]>>16))),ts(Q,ie,1,0,De+je),ts(Q,ie,2,0,De-je),ts(Q,ie,3,0,xe-We),ye++,ie+=32}function ih(N,R,Q,ie){var pe=N[R+0]+4,ye=35468*N[R+4]>>16,_e=ti(N[R+4]),xe=35468*N[R+1]>>16;mc(Q,ie,0,pe+_e,N=ti(N[R+1]),xe),mc(Q,ie,1,pe+ye,N,xe),mc(Q,ie,2,pe-ye,N,xe),mc(Q,ie,3,pe-_e,N,xe)}function mf(N,R,Q,ie,pe){Ia(N,R,Q,ie),pe&&Ia(N,R+16,Q,ie+4)}function gc(N,R,Q,ie){Ba(N,R+0,Q,ie,1),Ba(N,R+32,Q,ie+128,1)}function ud(N,R,Q,ie){var pe;for(N=N[R+0]+4,pe=0;4>pe;++pe)for(R=0;4>R;++R)ts(Q,ie,R,pe,N)}function gf(N,R,Q,ie){N[R+0]&&Zi(N,R+0,Q,ie),N[R+16]&&Zi(N,R+16,Q,ie+4),N[R+32]&&Zi(N,R+32,Q,ie+128),N[R+48]&&Zi(N,R+48,Q,ie+128+4)}function hu(N,R,Q,ie){var pe,ye=c(16);for(pe=0;4>pe;++pe){var _e=N[R+0+pe]+N[R+12+pe],xe=N[R+4+pe]+N[R+8+pe],De=N[R+4+pe]-N[R+8+pe],je=N[R+0+pe]-N[R+12+pe];ye[0+pe]=_e+xe,ye[8+pe]=_e-xe,ye[4+pe]=je+De,ye[12+pe]=je-De}for(pe=0;4>pe;++pe)_e=(N=ye[0+4*pe]+3)+ye[3+4*pe],xe=ye[1+4*pe]+ye[2+4*pe],De=ye[1+4*pe]-ye[2+4*pe],je=N-ye[3+4*pe],Q[ie+0]=_e+xe>>3,Q[ie+16]=je+De>>3,Q[ie+32]=_e-xe>>3,Q[ie+48]=je-De>>3,ie+=64}function bf(N,R,Q){var ie,pe=R-32,ye=uo,_e=255-N[pe-1];for(ie=0;ie<Q;++ie){var xe,De=ye,je=_e+N[R-1];for(xe=0;xe<Q;++xe)N[R+xe]=De[je+N[pe+xe]];R+=32}}function wp(N,R){bf(N,R,4)}function bc(N,R){bf(N,R,8)}function fu(N,R){bf(N,R,16)}function kc(N,R){var Q;for(Q=0;16>Q;++Q)o(N,R+32*Q,N,R-32,16)}function ul(N,R){var Q;for(Q=16;0<Q;--Q)a(N,R,N[R-1],16),R+=32}function ea(N,R,Q){var ie;for(ie=0;16>ie;++ie)a(R,Q+32*ie,N,16)}function oh(N,R){var Q,ie=16;for(Q=0;16>Q;++Q)ie+=N[R-1+32*Q]+N[R+Q-32];ea(ie>>5,N,R)}function Qi(N,R){var Q,ie=8;for(Q=0;16>Q;++Q)ie+=N[R-1+32*Q];ea(ie>>4,N,R)}function dl(N,R){var Q,ie=8;for(Q=0;16>Q;++Q)ie+=N[R+Q-32];ea(ie>>4,N,R)}function wc(N,R){ea(128,N,R)}function Tn(N,R,Q){return N+2*R+Q+2>>2}function Ol(N,R){var Q,ie=R-32;for(ie=new Uint8Array([Tn(N[ie-1],N[ie+0],N[ie+1]),Tn(N[ie+0],N[ie+1],N[ie+2]),Tn(N[ie+1],N[ie+2],N[ie+3]),Tn(N[ie+2],N[ie+3],N[ie+4])]),Q=0;4>Q;++Q)o(N,R+32*Q,ie,0,ie.length)}function vp(N,R){var Q=N[R-1],ie=N[R-1+32],pe=N[R-1+64],ye=N[R-1+96];Ze(N,R+0,16843009*Tn(N[R-1-32],Q,ie)),Ze(N,R+32,16843009*Tn(Q,ie,pe)),Ze(N,R+64,16843009*Tn(ie,pe,ye)),Ze(N,R+96,16843009*Tn(pe,ye,ye))}function Ls(N,R){var Q,ie=4;for(Q=0;4>Q;++Q)ie+=N[R+Q-32]+N[R-1+32*Q];for(ie>>=3,Q=0;4>Q;++Q)a(N,R+32*Q,ie,4)}function pa(N,R){var Q=N[R-1+0],ie=N[R-1+32],pe=N[R-1+64],ye=N[R-1-32],_e=N[R+0-32],xe=N[R+1-32],De=N[R+2-32],je=N[R+3-32];N[R+0+96]=Tn(ie,pe,N[R-1+96]),N[R+1+96]=N[R+0+64]=Tn(Q,ie,pe),N[R+2+96]=N[R+1+64]=N[R+0+32]=Tn(ye,Q,ie),N[R+3+96]=N[R+2+64]=N[R+1+32]=N[R+0+0]=Tn(_e,ye,Q),N[R+3+64]=N[R+2+32]=N[R+1+0]=Tn(xe,_e,ye),N[R+3+32]=N[R+2+0]=Tn(De,xe,_e),N[R+3+0]=Tn(je,De,xe)}function sh(N,R){var Q=N[R+1-32],ie=N[R+2-32],pe=N[R+3-32],ye=N[R+4-32],_e=N[R+5-32],xe=N[R+6-32],De=N[R+7-32];N[R+0+0]=Tn(N[R+0-32],Q,ie),N[R+1+0]=N[R+0+32]=Tn(Q,ie,pe),N[R+2+0]=N[R+1+32]=N[R+0+64]=Tn(ie,pe,ye),N[R+3+0]=N[R+2+32]=N[R+1+64]=N[R+0+96]=Tn(pe,ye,_e),N[R+3+32]=N[R+2+64]=N[R+1+96]=Tn(ye,_e,xe),N[R+3+64]=N[R+2+96]=Tn(_e,xe,De),N[R+3+96]=Tn(xe,De,De)}function Bl(N,R){var Q=N[R-1+0],ie=N[R-1+32],pe=N[R-1+64],ye=N[R-1-32],_e=N[R+0-32],xe=N[R+1-32],De=N[R+2-32],je=N[R+3-32];N[R+0+0]=N[R+1+64]=ye+_e+1>>1,N[R+1+0]=N[R+2+64]=_e+xe+1>>1,N[R+2+0]=N[R+3+64]=xe+De+1>>1,N[R+3+0]=De+je+1>>1,N[R+0+96]=Tn(pe,ie,Q),N[R+0+64]=Tn(ie,Q,ye),N[R+0+32]=N[R+1+96]=Tn(Q,ye,_e),N[R+1+32]=N[R+2+96]=Tn(ye,_e,xe),N[R+2+32]=N[R+3+96]=Tn(_e,xe,De),N[R+3+32]=Tn(xe,De,je)}function Ps(N,R){var Q=N[R+0-32],ie=N[R+1-32],pe=N[R+2-32],ye=N[R+3-32],_e=N[R+4-32],xe=N[R+5-32],De=N[R+6-32],je=N[R+7-32];N[R+0+0]=Q+ie+1>>1,N[R+1+0]=N[R+0+64]=ie+pe+1>>1,N[R+2+0]=N[R+1+64]=pe+ye+1>>1,N[R+3+0]=N[R+2+64]=ye+_e+1>>1,N[R+0+32]=Tn(Q,ie,pe),N[R+1+32]=N[R+0+96]=Tn(ie,pe,ye),N[R+2+32]=N[R+1+96]=Tn(pe,ye,_e),N[R+3+32]=N[R+2+96]=Tn(ye,_e,xe),N[R+3+64]=Tn(_e,xe,De),N[R+3+96]=Tn(xe,De,je)}function kf(N,R){var Q=N[R-1+0],ie=N[R-1+32],pe=N[R-1+64],ye=N[R-1+96];N[R+0+0]=Q+ie+1>>1,N[R+2+0]=N[R+0+32]=ie+pe+1>>1,N[R+2+32]=N[R+0+64]=pe+ye+1>>1,N[R+1+0]=Tn(Q,ie,pe),N[R+3+0]=N[R+1+32]=Tn(ie,pe,ye),N[R+3+32]=N[R+1+64]=Tn(pe,ye,ye),N[R+3+64]=N[R+2+64]=N[R+0+96]=N[R+1+96]=N[R+2+96]=N[R+3+96]=ye}function dd(N,R){var Q=N[R-1+0],ie=N[R-1+32],pe=N[R-1+64],ye=N[R-1+96],_e=N[R-1-32],xe=N[R+0-32],De=N[R+1-32],je=N[R+2-32];N[R+0+0]=N[R+2+32]=Q+_e+1>>1,N[R+0+32]=N[R+2+64]=ie+Q+1>>1,N[R+0+64]=N[R+2+96]=pe+ie+1>>1,N[R+0+96]=ye+pe+1>>1,N[R+3+0]=Tn(xe,De,je),N[R+2+0]=Tn(_e,xe,De),N[R+1+0]=N[R+3+32]=Tn(Q,_e,xe),N[R+1+32]=N[R+3+64]=Tn(ie,Q,_e),N[R+1+64]=N[R+3+96]=Tn(pe,ie,Q),N[R+1+96]=Tn(ye,pe,ie)}function wf(N,R){var Q;for(Q=0;8>Q;++Q)o(N,R+32*Q,N,R-32,8)}function vc(N,R){var Q;for(Q=0;8>Q;++Q)a(N,R,N[R-1],8),R+=32}function ta(N,R,Q){var ie;for(ie=0;8>ie;++ie)a(R,Q+32*ie,N,8)}function yc(N,R){var Q,ie=8;for(Q=0;8>Q;++Q)ie+=N[R+Q-32]+N[R-1+32*Q];ta(ie>>4,N,R)}function wo(N,R){var Q,ie=4;for(Q=0;8>Q;++Q)ie+=N[R+Q-32];ta(ie>>3,N,R)}function Rs(N,R){var Q,ie=4;for(Q=0;8>Q;++Q)ie+=N[R-1+32*Q];ta(ie>>3,N,R)}function Sr(N,R){ta(128,N,R)}function jl(N,R,Q){var ie=N[R-Q],pe=N[R+0],ye=3*(pe-ie)+vd[1020+N[R-2*Q]-N[R+Q]],_e=yu[112+(ye+4>>3)];N[R-Q]=uo[255+ie+yu[112+(ye+3>>3)]],N[R+0]=uo[255+pe-_e]}function ah(N,R,Q,ie){var pe=N[R+0],ye=N[R+Q];return ba[255+N[R-2*Q]-N[R-Q]]>ie||ba[255+ye-pe]>ie}function hd(N,R,Q,ie){return 4*ba[255+N[R-Q]-N[R+0]]+ba[255+N[R-2*Q]-N[R+Q]]<=ie}function Ll(N,R,Q,ie,pe){var ye=N[R-3*Q],_e=N[R-2*Q],xe=N[R-Q],De=N[R+0],je=N[R+Q],We=N[R+2*Q],lt=N[R+3*Q];return 4*ba[255+xe-De]+ba[255+_e-je]>ie?0:ba[255+N[R-4*Q]-ye]<=pe&&ba[255+ye-_e]<=pe&&ba[255+_e-xe]<=pe&&ba[255+lt-We]<=pe&&ba[255+We-je]<=pe&&ba[255+je-De]<=pe}function Pl(N,R,Q,ie){var pe=2*ie+1;for(ie=0;16>ie;++ie)hd(N,R+ie,Q,pe)&&jl(N,R+ie,Q)}function Oo(N,R,Q,ie){var pe=2*ie+1;for(ie=0;16>ie;++ie)hd(N,R+ie*Q,1,pe)&&jl(N,R+ie*Q,1)}function hl(N,R,Q,ie){var pe;for(pe=3;0<pe;--pe)Pl(N,R+=4*Q,Q,ie)}function vf(N,R,Q,ie){var pe;for(pe=3;0<pe;--pe)Oo(N,R+=4,Q,ie)}function pu(N,R,Q,ie,pe,ye,_e,xe){for(ye=2*ye+1;0<pe--;){if(Ll(N,R,Q,ye,_e))if(ah(N,R,Q,xe))jl(N,R,Q);else{var De=N,je=R,We=Q,lt=De[je-2*We],rt=De[je-We],et=De[je+0],Bt=De[je+We],bt=De[je+2*We],Ye=27*(It=vd[1020+3*(et-rt)+vd[1020+lt-Bt]])+63>>7,Je=18*It+63>>7,It=9*It+63>>7;De[je-3*We]=uo[255+De[je-3*We]+It],De[je-2*We]=uo[255+lt+Je],De[je-We]=uo[255+rt+Ye],De[je+0]=uo[255+et-Ye],De[je+We]=uo[255+Bt-Je],De[je+2*We]=uo[255+bt-It]}R+=ie}}function Ta(N,R,Q,ie,pe,ye,_e,xe){for(ye=2*ye+1;0<pe--;){if(Ll(N,R,Q,ye,_e))if(ah(N,R,Q,xe))jl(N,R,Q);else{var De=N,je=R,We=Q,lt=De[je-We],rt=De[je+0],et=De[je+We],Bt=yu[112+((bt=3*(rt-lt))+4>>3)],bt=yu[112+(bt+3>>3)],Ye=Bt+1>>1;De[je-2*We]=uo[255+De[je-2*We]+Ye],De[je-We]=uo[255+lt+bt],De[je+0]=uo[255+rt-Bt],De[je+We]=uo[255+et-Ye]}R+=ie}}function fd(N,R,Q,ie,pe,ye){pu(N,R,Q,1,16,ie,pe,ye)}function Ac(N,R,Q,ie,pe,ye){pu(N,R,1,Q,16,ie,pe,ye)}function Km(N,R,Q,ie,pe,ye){var _e;for(_e=3;0<_e;--_e)Ta(N,R+=4*Q,Q,1,16,ie,pe,ye)}function lh(N,R,Q,ie,pe,ye){var _e;for(_e=3;0<_e;--_e)Ta(N,R+=4,1,Q,16,ie,pe,ye)}function Qm(N,R,Q,ie,pe,ye,_e,xe){pu(N,R,pe,1,8,ye,_e,xe),pu(Q,ie,pe,1,8,ye,_e,xe)}function mu(N,R,Q,ie,pe,ye,_e,xe){pu(N,R,1,pe,8,ye,_e,xe),pu(Q,ie,1,pe,8,ye,_e,xe)}function Rl(N,R,Q,ie,pe,ye,_e,xe){Ta(N,R+4*pe,pe,1,8,ye,_e,xe),Ta(Q,ie+4*pe,pe,1,8,ye,_e,xe)}function yp(N,R,Q,ie,pe,ye,_e,xe){Ta(N,R+4,1,pe,8,ye,_e,xe),Ta(Q,ie+4,1,pe,8,ye,_e,xe)}function ch(){this.ba=new wr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new vr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function yf(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Af(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function fl(){this.ua=0,this.Wa=new we,this.vb=new we,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new q,this.yc=new K}function Zm(){this.xb=this.a=0,this.l=new ko,this.ca=new wr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new re,this.Pb=0,this.wd=new re,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new fl,this.ab=0,this.gc=d(4,Af),this.Oc=0}function pd(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ko,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function gu(N,R,Q,ie,pe,ye,_e){for(N=N==null?0:N[R+0],R=0;R<_e;++R)pe[ye+R]=N+Q[ie+R]&255,N=pe[ye+R]}function md(N,R,Q,ie,pe,ye,_e){var xe;if(N==null)gu(null,null,Q,ie,pe,ye,_e);else for(xe=0;xe<_e;++xe)pe[ye+xe]=N[R+xe]+Q[ie+xe]&255}function _c(N,R,Q,ie,pe,ye,_e){if(N==null)gu(null,null,Q,ie,pe,ye,_e);else{var xe,De=N[R+0],je=De,We=De;for(xe=0;xe<_e;++xe)je=We+(De=N[R+xe])-je,We=Q[ie+xe]+(-256&je?0>je?0:255:je)&255,je=De,pe[ye+xe]=We}}function uh(N,R,Q,ie){var pe=R.width,ye=R.o;if(i(N!=null&&R!=null),0>Q||0>=ie||Q+ie>ye)return null;if(!N.Cc){if(N.ga==null){var _e;if(N.ga=new pd,(_e=N.ga==null)||(_e=R.width*R.o,i(N.Gb.length==0),N.Gb=c(_e),N.Uc=0,N.Gb==null?_e=0:(N.mb=N.Gb,N.nb=N.Uc,N.rc=null,_e=1),_e=!_e),!_e){_e=N.ga;var xe=N.Fa,De=N.P,je=N.qc,We=N.mb,lt=N.nb,rt=De+1,et=je-1,Bt=_e.l;if(i(xe!=null&&We!=null&&R!=null),gl[0]=null,gl[1]=gu,gl[2]=md,gl[3]=_c,_e.ca=We,_e.tb=lt,_e.c=R.width,_e.i=R.height,i(0<_e.c&&0<_e.i),1>=je)R=0;else if(_e.$a=xe[De+0]>>0&3,_e.Z=xe[De+0]>>2&3,_e.Lc=xe[De+0]>>4&3,De=xe[De+0]>>6&3,0>_e.$a||1<_e.$a||4<=_e.Z||1<_e.Lc||De)R=0;else if(Bt.put=Xo,Bt.ac=ki,Bt.bc=es,Bt.ma=_e,Bt.width=R.width,Bt.height=R.height,Bt.Da=R.Da,Bt.v=R.v,Bt.va=R.va,Bt.j=R.j,Bt.o=R.o,_e.$a)e:{i(_e.$a==1),R=lo();t:for(;;){if(R==null){R=0;break e}if(i(_e!=null),_e.mc=R,R.c=_e.c,R.i=_e.i,R.l=_e.l,R.l.ma=_e,R.l.width=_e.c,R.l.height=_e.i,R.a=0,ge(R.m,xe,rt,et),!Fr(_e.c,_e.i,1,R,null)||(R.ab==1&&R.gc[0].hc==3&&ks(R.s)?(_e.ic=1,xe=R.c*R.i,R.Ta=null,R.Ua=0,R.V=c(xe),R.Ba=0,R.V==null?(R.a=1,R=0):R=1):(_e.ic=0,R=cl(R,_e.c)),!R))break t;R=1;break e}_e.mc=null,R=0}else R=et>=_e.c*_e.i;_e=!R}if(_e)return null;N.ga.Lc!=1?N.Ga=0:ie=ye-Q}i(N.ga!=null),i(Q+ie<=ye);e:{if(R=(xe=N.ga).c,ye=xe.l.o,xe.$a==0){if(rt=N.rc,et=N.Vc,Bt=N.Fa,De=N.P+1+Q*R,je=N.mb,We=N.nb+Q*R,i(De<=N.P+N.qc),xe.Z!=0)for(i(gl[xe.Z]!=null),_e=0;_e<ie;++_e)gl[xe.Z](rt,et,Bt,De,je,We,R),rt=je,et=We,We+=R,De+=R;else for(_e=0;_e<ie;++_e)o(je,We,Bt,De,R),rt=je,et=We,We+=R,De+=R;N.rc=rt,N.Vc=et}else{if(i(xe.mc!=null),R=Q+ie,i((_e=xe.mc)!=null),i(R<=_e.i),_e.C>=R)R=1;else if(xe.ic||it(),xe.ic){xe=_e.V,rt=_e.Ba,et=_e.c;var bt=_e.i,Ye=(Bt=1,De=_e.$/et,je=_e.$%et,We=_e.m,lt=_e.s,_e.$),Je=et*bt,It=et*R,Pt=lt.wc,jt=Ye<It?$r(lt,je,De):null;i(Ye<=Je),i(R<=bt),i(ks(lt));t:for(;;){for(;!We.h&&Ye<It;){if(je&Pt||(jt=$r(lt,je,De)),i(jt!=null),ve(We),256>(bt=wi(jt.G[0],jt.H[0],We)))xe[rt+Ye]=bt,++Ye,++je>=et&&(je=0,++De<=R&&!(De%16)&&bo(_e,De));else{if(!(280>bt)){Bt=0;break t}bt=xr(bt-256,We);var nn,Xt=wi(jt.G[4],jt.H[4],We);if(ve(We),!(Ye>=(Xt=rr(et,Xt=xr(Xt,We)))&&Je-Ye>=bt)){Bt=0;break t}for(nn=0;nn<bt;++nn)xe[rt+Ye+nn]=xe[rt+Ye+nn-Xt];for(Ye+=bt,je+=bt;je>=et;)je-=et,++De<=R&&!(De%16)&&bo(_e,De);Ye<It&&je&Pt&&(jt=$r(lt,je,De))}i(We.h==ke(We))}bo(_e,De>R?R:De);break t}!Bt||We.h&&Ye<Je?(Bt=0,_e.a=We.h?5:3):_e.$=Ye,R=Bt}else R=Ei(_e,_e.V,_e.Ba,_e.c,_e.i,R,Ml);if(!R){ie=0;break e}}Q+ie>=ye&&(N.Cc=1),ie=1}if(!ie)return null;if(N.Cc&&((ie=N.ga)!=null&&(ie.mc=null),N.ga=null,0<N.Ga))return alert("todo:WebPDequantizeLevels"),null}return N.nb+Q*pe}function $(N,R,Q,ie,pe,ye){for(;0<pe--;){var _e,xe=N,De=R+(Q?1:0),je=N,We=R+(Q?0:3);for(_e=0;_e<ie;++_e){var lt=je[We+4*_e];lt!=255&&(lt*=32897,xe[De+4*_e+0]=xe[De+4*_e+0]*lt>>23,xe[De+4*_e+1]=xe[De+4*_e+1]*lt>>23,xe[De+4*_e+2]=xe[De+4*_e+2]*lt>>23)}R+=ye}}function me(N,R,Q,ie,pe){for(;0<ie--;){var ye;for(ye=0;ye<Q;++ye){var _e=N[R+2*ye+0],xe=15&(je=N[R+2*ye+1]),De=4369*xe,je=(240&je|je>>4)*De>>16;N[R+2*ye+0]=(240&_e|_e>>4)*De>>16&240|(15&_e|_e<<4)*De>>16>>4&15,N[R+2*ye+1]=240&je|xe}R+=pe}}function Fe(N,R,Q,ie,pe,ye,_e,xe){var De,je,We=255;for(je=0;je<pe;++je){for(De=0;De<ie;++De){var lt=N[R+De];ye[_e+4*De]=lt,We&=lt}R+=Q,_e+=xe}return We!=255}function $e(N,R,Q,ie,pe){var ye;for(ye=0;ye<pe;++ye)Q[ie+ye]=N[R+ye]>>8}function it(){ra=$,fr=me,ir=Fe,ni=$e}function _t(N,R,Q){Z[N]=function(ie,pe,ye,_e,xe,De,je,We,lt,rt,et,Bt,bt,Ye,Je,It,Pt){var jt,nn=Pt-1>>1,Xt=xe[De+0]|je[We+0]<<16,vn=lt[rt+0]|et[Bt+0]<<16;i(ie!=null);var en=3*Xt+vn+131074>>2;for(R(ie[pe+0],255&en,en>>16,bt,Ye),ye!=null&&(en=3*vn+Xt+131074>>2,R(ye[_e+0],255&en,en>>16,Je,It)),jt=1;jt<=nn;++jt){var _r=xe[De+jt]|je[We+jt]<<16,Nr=lt[rt+jt]|et[Bt+jt]<<16,Xn=Xt+_r+vn+Nr+524296,qn=Xn+2*(_r+vn)>>3;en=qn+Xt>>1,Xt=(Xn=Xn+2*(Xt+Nr)>>3)+_r>>1,R(ie[pe+2*jt-1],255&en,en>>16,bt,Ye+(2*jt-1)*Q),R(ie[pe+2*jt-0],255&Xt,Xt>>16,bt,Ye+(2*jt-0)*Q),ye!=null&&(en=Xn+vn>>1,Xt=qn+Nr>>1,R(ye[_e+2*jt-1],255&en,en>>16,Je,It+(2*jt-1)*Q),R(ye[_e+2*jt+0],255&Xt,Xt>>16,Je,It+(2*jt+0)*Q)),Xt=_r,vn=Nr}1&Pt||(en=3*Xt+vn+131074>>2,R(ie[pe+Pt-1],255&en,en>>16,bt,Ye+(Pt-1)*Q),ye!=null&&(en=3*vn+Xt+131074>>2,R(ye[_e+Pt-1],255&en,en>>16,Je,It+(Pt-1)*Q)))}}function Wt(){Lo[ho]=Lc,Lo[yd]=ns,Lo[Hs]=Su,Lo[Nc]=xp,Lo[Au]=Sf,Lo[ka]=gh,Lo[Pa]=Sp,Lo[_u]=ns,Lo[Oc]=xp,Lo[ql]=Sf,Lo[Ad]=gh}function tn(N){return N&-16384?0>N?0:255:N>>Nk}function gn(N,R){return tn((19077*N>>8)+(26149*R>>8)-14234)}function Vn(N,R,Q){return tn((19077*N>>8)-(6419*R>>8)-(13320*Q>>8)+8708)}function Ln(N,R){return tn((19077*N>>8)+(33050*R>>8)-17685)}function hr(N,R,Q,ie,pe){ie[pe+0]=gn(N,Q),ie[pe+1]=Vn(N,R,Q),ie[pe+2]=Ln(N,R)}function Ii(N,R,Q,ie,pe){ie[pe+0]=Ln(N,R),ie[pe+1]=Vn(N,R,Q),ie[pe+2]=gn(N,Q)}function vi(N,R,Q,ie,pe){var ye=Vn(N,R,Q);R=ye<<3&224|Ln(N,R)>>3,ie[pe+0]=248&gn(N,Q)|ye>>5,ie[pe+1]=R}function Li(N,R,Q,ie,pe){var ye=240&Ln(N,R)|15;ie[pe+0]=240&gn(N,Q)|Vn(N,R,Q)>>4,ie[pe+1]=ye}function Pi(N,R,Q,ie,pe){ie[pe+0]=255,hr(N,R,Q,ie,pe+1)}function co(N,R,Q,ie,pe){Ii(N,R,Q,ie,pe),ie[pe+3]=255}function Ma(N,R,Q,ie,pe){hr(N,R,Q,ie,pe),ie[pe+3]=255}function na(N,R){return 0>N?0:N>R?R:N}function Na(N,R,Q){Z[N]=function(ie,pe,ye,_e,xe,De,je,We,lt){for(var rt=We+(-2&lt)*Q;We!=rt;)R(ie[pe+0],ye[_e+0],xe[De+0],je,We),R(ie[pe+1],ye[_e+0],xe[De+0],je,We+Q),pe+=2,++_e,++De,We+=2*Q;1&lt&&R(ie[pe+0],ye[_e+0],xe[De+0],je,We)}}function dh(N,R,Q){return Q==0?N==0?R==0?6:5:R==0?4:0:Q}function Fl(N,R,Q,ie,pe){switch(N>>>30){case 3:Ba(R,Q,ie,pe,0);break;case 2:Vi(R,Q,ie,pe);break;case 1:Zi(R,Q,ie,pe)}}function Cc(N,R){var Q,ie,pe=R.M,ye=R.Nb,_e=N.oc,xe=N.pc+40,De=N.oc,je=N.pc+584,We=N.oc,lt=N.pc+600;for(Q=0;16>Q;++Q)_e[xe+32*Q-1]=129;for(Q=0;8>Q;++Q)De[je+32*Q-1]=129,We[lt+32*Q-1]=129;for(0<pe?_e[xe-1-32]=De[je-1-32]=We[lt-1-32]=129:(a(_e,xe-32-1,127,21),a(De,je-32-1,127,9),a(We,lt-32-1,127,9)),ie=0;ie<N.za;++ie){var rt=R.ya[R.aa+ie];if(0<ie){for(Q=-1;16>Q;++Q)o(_e,xe+32*Q-4,_e,xe+32*Q+12,4);for(Q=-1;8>Q;++Q)o(De,je+32*Q-4,De,je+32*Q+4,4),o(We,lt+32*Q-4,We,lt+32*Q+4,4)}var et=N.Gd,Bt=N.Hd+ie,bt=rt.ad,Ye=rt.Hc;if(0<pe&&(o(_e,xe-32,et[Bt].y,0,16),o(De,je-32,et[Bt].f,0,8),o(We,lt-32,et[Bt].ea,0,8)),rt.Za){var Je=_e,It=xe-32+16;for(0<pe&&(ie>=N.za-1?a(Je,It,et[Bt].y[15],4):o(Je,It,et[Bt+1].y,0,4)),Q=0;4>Q;Q++)Je[It+128+Q]=Je[It+256+Q]=Je[It+384+Q]=Je[It+0+Q];for(Q=0;16>Q;++Q,Ye<<=2)Je=_e,It=xe+xd[Q],or[rt.Ob[Q]](Je,It),Fl(Ye,bt,16*+Q,Je,It)}else if(Je=dh(ie,pe,rt.Ob[0]),jc[Je](_e,xe),Ye!=0)for(Q=0;16>Q;++Q,Ye<<=2)Fl(Ye,bt,16*+Q,_e,xe+xd[Q]);for(Q=rt.Gc,Je=dh(ie,pe,rt.Dd),Ws[Je](De,je),Ws[Je](We,lt),Ye=bt,Je=De,It=je,255&(rt=Q>>0)&&(170&rt?ja(Ye,256,Je,It):Us(Ye,256,Je,It)),rt=We,Ye=lt,255&(Q>>=8)&&(170&Q?ja(bt,320,rt,Ye):Us(bt,320,rt,Ye)),pe<N.Ub-1&&(o(et[Bt].y,0,_e,xe+480,16),o(et[Bt].f,0,De,je+224,8),o(et[Bt].ea,0,We,lt+224,8)),Q=8*ye*N.B,et=N.sa,Bt=N.ta+16*ie+16*ye*N.R,bt=N.qa,rt=N.ra+8*ie+Q,Ye=N.Ha,Je=N.Ia+8*ie+Q,Q=0;16>Q;++Q)o(et,Bt+Q*N.R,_e,xe+32*Q,16);for(Q=0;8>Q;++Q)o(bt,rt+Q*N.B,De,je+32*Q,8),o(Ye,Je+Q*N.B,We,lt+32*Q,8)}}function hh(N,R,Q,ie,pe,ye,_e,xe,De){var je=[0],We=[0],lt=0,rt=De!=null?De.kd:0,et=De??new yf;if(N==null||12>Q)return 7;et.data=N,et.w=R,et.ha=Q,R=[R],Q=[Q],et.gb=[et.gb];e:{var Bt=R,bt=Q,Ye=et.gb;if(i(N!=null),i(bt!=null),i(Ye!=null),Ye[0]=0,12<=bt[0]&&!r(N,Bt[0],"RIFF")){if(r(N,Bt[0]+8,"WEBP")){Ye=3;break e}var Je=gt(N,Bt[0]+4);if(12>Je||4294967286<Je){Ye=3;break e}if(rt&&Je>bt[0]-8){Ye=7;break e}Ye[0]=Je,Bt[0]+=12,bt[0]-=12}Ye=0}if(Ye!=0)return Ye;for(Je=0<et.gb[0],Q=Q[0];;){e:{var It=N;bt=R,Ye=Q;var Pt=je,jt=We,nn=Bt=[0];if((en=lt=[lt])[0]=0,8>Ye[0])Ye=7;else{if(!r(It,bt[0],"VP8X")){if(gt(It,bt[0]+4)!=10){Ye=3;break e}if(18>Ye[0]){Ye=7;break e}var Xt=gt(It,bt[0]+8),vn=1+ft(It,bt[0]+12);if(2147483648<=vn*(It=1+ft(It,bt[0]+15))){Ye=3;break e}nn!=null&&(nn[0]=Xt),Pt!=null&&(Pt[0]=vn),jt!=null&&(jt[0]=It),bt[0]+=18,Ye[0]-=18,en[0]=1}Ye=0}}if(lt=lt[0],Bt=Bt[0],Ye!=0)return Ye;if(bt=!!(2&Bt),!Je&&lt)return 3;if(ye!=null&&(ye[0]=!!(16&Bt)),_e!=null&&(_e[0]=bt),xe!=null&&(xe[0]=0),_e=je[0],Bt=We[0],lt&&bt&&De==null){Ye=0;break}if(4>Q){Ye=7;break}if(Je&&lt||!Je&&!lt&&!r(N,R[0],"ALPH")){Q=[Q],et.na=[et.na],et.P=[et.P],et.Sa=[et.Sa];e:{Xt=N,Ye=R,Je=Q;var en=et.gb;Pt=et.na,jt=et.P,nn=et.Sa,vn=22,i(Xt!=null),i(Je!=null),It=Ye[0];var _r=Je[0];for(i(Pt!=null),i(nn!=null),Pt[0]=null,jt[0]=null,nn[0]=0;;){if(Ye[0]=It,Je[0]=_r,8>_r){Ye=7;break e}var Nr=gt(Xt,It+4);if(4294967286<Nr){Ye=3;break e}var Xn=8+Nr+1&-2;if(vn+=Xn,0<en&&vn>en){Ye=3;break e}if(!r(Xt,It,"VP8 ")||!r(Xt,It,"VP8L")){Ye=0;break e}if(_r[0]<Xn){Ye=7;break e}r(Xt,It,"ALPH")||(Pt[0]=Xt,jt[0]=It+8,nn[0]=Nr),It+=Xn,_r-=Xn}}if(Q=Q[0],et.na=et.na[0],et.P=et.P[0],et.Sa=et.Sa[0],Ye!=0)break}Q=[Q],et.Ja=[et.Ja],et.xa=[et.xa];e:if(en=N,Ye=R,Je=Q,Pt=et.gb[0],jt=et.Ja,nn=et.xa,Xt=Ye[0],It=!r(en,Xt,"VP8 "),vn=!r(en,Xt,"VP8L"),i(en!=null),i(Je!=null),i(jt!=null),i(nn!=null),8>Je[0])Ye=7;else{if(It||vn){if(en=gt(en,Xt+4),12<=Pt&&en>Pt-12){Ye=3;break e}if(rt&&en>Je[0]-8){Ye=7;break e}jt[0]=en,Ye[0]+=8,Je[0]-=8,nn[0]=vn}else nn[0]=5<=Je[0]&&en[Xt+0]==47&&!(en[Xt+4]>>5),jt[0]=Je[0];Ye=0}if(Q=Q[0],et.Ja=et.Ja[0],et.xa=et.xa[0],R=R[0],Ye!=0)break;if(4294967286<et.Ja)return 3;if(xe==null||bt||(xe[0]=et.xa?2:1),_e=[_e],Bt=[Bt],et.xa){if(5>Q){Ye=7;break}xe=_e,rt=Bt,bt=ye,N==null||5>Q?N=0:5<=Q&&N[R+0]==47&&!(N[R+4]>>5)?(Je=[0],en=[0],Pt=[0],ge(jt=new re,N,R,Q),hn(jt,Je,en,Pt)?(xe!=null&&(xe[0]=Je[0]),rt!=null&&(rt[0]=en[0]),bt!=null&&(bt[0]=Pt[0]),N=1):N=0):N=0}else{if(10>Q){Ye=7;break}xe=Bt,N==null||10>Q||!Kr(N,R+3,Q-3)?N=0:(rt=N[R+0]|N[R+1]<<8|N[R+2]<<16,bt=16383&(N[R+7]<<8|N[R+6]),N=16383&(N[R+9]<<8|N[R+8]),1&rt||3<(rt>>1&7)||!(rt>>4&1)||rt>>5>=et.Ja||!bt||!N?N=0:(_e&&(_e[0]=bt),xe&&(xe[0]=N),N=1))}if(!N||(_e=_e[0],Bt=Bt[0],lt&&(je[0]!=_e||We[0]!=Bt)))return 3;De!=null&&(De[0]=et,De.offset=R-De.w,i(4294967286>R-De.w),i(De.offset==De.ha-Q));break}return Ye==0||Ye==7&&lt&&De==null?(ye!=null&&(ye[0]|=et.na!=null&&0<et.na.length),ie!=null&&(ie[0]=_e),pe!=null&&(pe[0]=Bt),0):Ye}function bu(N,R,Q){var ie=R.width,pe=R.height,ye=0,_e=0,xe=ie,De=pe;if(R.Da=N!=null&&0<N.Da,R.Da&&(xe=N.cd,De=N.bd,ye=N.v,_e=N.j,11>Q||(ye&=-2,_e&=-2),0>ye||0>_e||0>=xe||0>=De||ye+xe>ie||_e+De>pe))return 0;if(R.v=ye,R.j=_e,R.va=ye+xe,R.o=_e+De,R.U=xe,R.T=De,R.da=N!=null&&0<N.da,R.da){if(!Ee(xe,De,Q=[N.ib],ye=[N.hb]))return 0;R.ib=Q[0],R.hb=ye[0]}return R.ob=N!=null&&N.ob,R.Kb=N==null||!N.Sd,R.da&&(R.ob=R.ib<3*ie/4&&R.hb<3*pe/4,R.Kb=0),1}function fh(N){if(N==null)return 2;if(11>N.S){var R=N.f.RGBA;R.fb+=(N.height-1)*R.A,R.A=-R.A}else R=N.f.kb,N=N.height,R.O+=(N-1)*R.fa,R.fa=-R.fa,R.N+=(N-1>>1)*R.Ab,R.Ab=-R.Ab,R.W+=(N-1>>1)*R.Db,R.Db=-R.Db,R.F!=null&&(R.J+=(N-1)*R.lb,R.lb=-R.lb);return 0}function gd(N,R,Q,ie){if(ie==null||0>=N||0>=R)return 2;if(Q!=null){if(Q.Da){var pe=Q.cd,ye=Q.bd,_e=-2&Q.v,xe=-2&Q.j;if(0>_e||0>xe||0>=pe||0>=ye||_e+pe>N||xe+ye>R)return 2;N=pe,R=ye}if(Q.da){if(!Ee(N,R,pe=[Q.ib],ye=[Q.hb]))return 2;N=pe[0],R=ye[0]}}ie.width=N,ie.height=R;e:{var De=ie.width,je=ie.height;if(N=ie.S,0>=De||0>=je||!(N>=ho&&13>N))N=2;else{if(0>=ie.Rd&&ie.sd==null){_e=ye=pe=R=0;var We=(xe=De*eg[N])*je;if(11>N||(ye=(je+1)/2*(R=(De+1)/2),N==12&&(_e=(pe=De)*je)),(je=c(We+2*ye+_e))==null){N=1;break e}ie.sd=je,11>N?((De=ie.f.RGBA).eb=je,De.fb=0,De.A=xe,De.size=We):((De=ie.f.kb).y=je,De.O=0,De.fa=xe,De.Fd=We,De.f=je,De.N=0+We,De.Ab=R,De.Cd=ye,De.ea=je,De.W=0+We+ye,De.Db=R,De.Ed=ye,N==12&&(De.F=je,De.J=0+We+2*ye),De.Tc=_e,De.lb=pe)}if(R=1,pe=ie.S,ye=ie.width,_e=ie.height,pe>=ho&&13>pe)if(11>pe)N=ie.f.RGBA,R&=(xe=Math.abs(N.A))*(_e-1)+ye<=N.size,R&=xe>=ye*eg[pe],R&=N.eb!=null;else{N=ie.f.kb,xe=(ye+1)/2,We=(_e+1)/2,De=Math.abs(N.fa),je=Math.abs(N.Ab);var lt=Math.abs(N.Db),rt=Math.abs(N.lb),et=rt*(_e-1)+ye;R&=De*(_e-1)+ye<=N.Fd,R&=je*(We-1)+xe<=N.Cd,R=(R&=lt*(We-1)+xe<=N.Ed)&De>=ye&je>=xe&lt>=xe,R&=N.y!=null,R&=N.f!=null,R&=N.ea!=null,pe==12&&(R&=rt>=ye,R&=et<=N.Tc,R&=N.F!=null)}else R=0;N=R?0:2}}return N!=0||Q!=null&&Q.fd&&(N=fh(ie)),N}var yi=64,Oa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],bd=24,kd=32,xc=8,ys=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ke("Predictor0","PredictorAdd0"),Z.Predictor0=function(){return 4278190080},Z.Predictor1=function(N){return N},Z.Predictor2=function(N,R,Q){return R[Q+0]},Z.Predictor3=function(N,R,Q){return R[Q+1]},Z.Predictor4=function(N,R,Q){return R[Q-1]},Z.Predictor5=function(N,R,Q){return ze(ze(N,R[Q+1]),R[Q+0])},Z.Predictor6=function(N,R,Q){return ze(N,R[Q-1])},Z.Predictor7=function(N,R,Q){return ze(N,R[Q+0])},Z.Predictor8=function(N,R,Q){return ze(R[Q-1],R[Q+0])},Z.Predictor9=function(N,R,Q){return ze(R[Q+0],R[Q+1])},Z.Predictor10=function(N,R,Q){return ze(ze(N,R[Q-1]),ze(R[Q+0],R[Q+1]))},Z.Predictor11=function(N,R,Q){var ie=R[Q+0];return 0>=ot(ie>>24&255,N>>24&255,(R=R[Q-1])>>24&255)+ot(ie>>16&255,N>>16&255,R>>16&255)+ot(ie>>8&255,N>>8&255,R>>8&255)+ot(255&ie,255&N,255&R)?ie:N},Z.Predictor12=function(N,R,Q){var ie=R[Q+0];return(dt((N>>24&255)+(ie>>24&255)-((R=R[Q-1])>>24&255))<<24|dt((N>>16&255)+(ie>>16&255)-(R>>16&255))<<16|dt((N>>8&255)+(ie>>8&255)-(R>>8&255))<<8|dt((255&N)+(255&ie)-(255&R)))>>>0},Z.Predictor13=function(N,R,Q){var ie=R[Q-1];return(wt((N=ze(N,R[Q+0]))>>24&255,ie>>24&255)<<24|wt(N>>16&255,ie>>16&255)<<16|wt(N>>8&255,ie>>8&255)<<8|wt(N>>0&255,ie>>0&255))>>>0};var Jm=Z.PredictorAdd0;Z.PredictorAdd1=pt,Ke("Predictor2","PredictorAdd2"),Ke("Predictor3","PredictorAdd3"),Ke("Predictor4","PredictorAdd4"),Ke("Predictor5","PredictorAdd5"),Ke("Predictor6","PredictorAdd6"),Ke("Predictor7","PredictorAdd7"),Ke("Predictor8","PredictorAdd8"),Ke("Predictor9","PredictorAdd9"),Ke("Predictor10","PredictorAdd10"),Ke("Predictor11","PredictorAdd11"),Ke("Predictor12","PredictorAdd12"),Ke("Predictor13","PredictorAdd13");var _f=Z.PredictorAdd2;Gt("ColorIndexInverseTransform","MapARGB","32b",function(N){return N>>8&255},function(N){return N}),Gt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(N){return N},function(N){return N>>8&255});var Ap,ma=Z.ColorIndexInverseTransform,vo=Z.MapARGB,ku=Z.VP8LColorIndexInverseTransformAlpha,ph=Z.MapAlpha,Sc=Z.VP8LPredictorsAdd=[];Sc.length=16,(Z.VP8LPredictors=[]).length=16,(Z.VP8LPredictorsAdd_C=[]).length=16,(Z.VP8LPredictors_C=[]).length=16;var Ec,Fs,Bo,wu,zs,pl,zl,Ba,Vi,ja,Zi,Us,Er,La,vu,qs,Dc,Ic,wd,ga,ml,Ul,jo,Hi,ra,fr,ir,ni,Hn=c(511),Vs=c(2041),Tc=c(225),Mc=c(767),Mn=0,vd=Vs,yu=Tc,uo=Mc,ba=Hn,ho=0,yd=1,Hs=2,Nc=3,Au=4,ka=5,Pa=6,_u=7,Oc=8,ql=9,Ad=10,_p=[2,3,7],Ra=[3,3,11],ia=[280,256,256,256,40],Cu=[0,1,1,1,0],Vl=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Hl=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Bc=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],vb=8,_d=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Cf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],yo=null,Ri=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ln=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],xu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],$s=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],xf=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],$l=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Cp=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],jc=[],or=[],Ws=[],Xm=1,mh=2,gl=[],Lo=[];_t("UpsampleRgbLinePair",hr,3),_t("UpsampleBgrLinePair",Ii,3),_t("UpsampleRgbaLinePair",Ma,4),_t("UpsampleBgraLinePair",co,4),_t("UpsampleArgbLinePair",Pi,4),_t("UpsampleRgba4444LinePair",Li,2),_t("UpsampleRgb565LinePair",vi,2);var Lc=Z.UpsampleRgbLinePair,Su=Z.UpsampleBgrLinePair,ns=Z.UpsampleRgbaLinePair,xp=Z.UpsampleBgraLinePair,Sf=Z.UpsampleArgbLinePair,gh=Z.UpsampleRgba4444LinePair,Sp=Z.UpsampleRgb565LinePair,Wl=16,Ao=1<<Wl-1,Cd=-227,Ep=482,Nk=6,yb=0,Ab=c(256),_o=c(256),Ef=c(256),Df=c(256),If=c(Ep-Cd),Dp=c(Ep-Cd);Na("YuvToRgbRow",hr,3),Na("YuvToBgrRow",Ii,3),Na("YuvToRgbaRow",Ma,4),Na("YuvToBgraRow",co,4),Na("YuvToArgbRow",Pi,4),Na("YuvToRgba4444Row",Li,2),Na("YuvToRgb565Row",vi,2);var xd=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Co=[0,2,8],Po=[8,7,6,4,4,2,2,2,1,1,1,1],Ji=1;this.WebPDecodeRGBA=function(N,R,Q,ie,pe){var ye=yd,_e=new ch,xe=new wr;_e.ba=xe,xe.S=ye,xe.width=[xe.width],xe.height=[xe.height];var De=xe.width,je=xe.height,We=new mr;if(We==null||N==null)var lt=2;else i(We!=null),lt=hh(N,R,Q,We.width,We.height,We.Pd,We.Qd,We.format,null);if(lt!=0?De=0:(De!=null&&(De[0]=We.width[0]),je!=null&&(je[0]=We.height[0]),De=1),De){xe.width=xe.width[0],xe.height=xe.height[0],ie!=null&&(ie[0]=xe.width),pe!=null&&(pe[0]=xe.height);e:{if(ie=new ko,(pe=new yf).data=N,pe.w=R,pe.ha=Q,pe.kd=1,R=[0],i(pe!=null),((N=hh(pe.data,pe.w,pe.ha,null,null,null,R,null,pe))==0||N==7)&&R[0]&&(N=4),(R=N)==0){if(i(_e!=null),ie.data=pe.data,ie.w=pe.w+pe.offset,ie.ha=pe.ha-pe.offset,ie.put=Xo,ie.ac=ki,ie.bc=es,ie.ma=_e,pe.xa){if((N=lo())==null){_e=1;break e}if(function(rt,et){var Bt=[0],bt=[0],Ye=[0];t:for(;;){if(rt==null)return 0;if(et==null)return rt.a=2,0;if(rt.l=et,rt.a=0,ge(rt.m,et.data,et.w,et.ha),!hn(rt.m,Bt,bt,Ye)){rt.a=3;break t}if(rt.xb=mh,et.width=Bt[0],et.height=bt[0],!Fr(Bt[0],bt[0],1,rt,null))break t;return 1}return i(rt.a!=0),0}(N,ie)){if(ie=(R=gd(ie.width,ie.height,_e.Oa,_e.ba))==0){t:{ie=N;n:for(;;){if(ie==null){ie=0;break t}if(i(ie.s.yc!=null),i(ie.s.Ya!=null),i(0<ie.s.Wb),i((Q=ie.l)!=null),i((pe=Q.ma)!=null),ie.xb!=0){if(ie.ca=pe.ba,ie.tb=pe.tb,i(ie.ca!=null),!bu(pe.Oa,Q,Nc)){ie.a=2;break n}if(!cl(ie,Q.width)||Q.da)break n;if((Q.da||Gn(ie.ca.S))&&it(),11>ie.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ie.ca.f.kb.F!=null&&it()),ie.Pb&&0<ie.s.ua&&ie.s.vb.X==null&&!oe(ie.s.vb,ie.s.Wa.Xa)){ie.a=1;break n}ie.xb=0}if(!Ei(ie,ie.V,ie.Ba,ie.c,ie.i,Q.o,Tl))break n;pe.Dc=ie.Ma,ie=1;break t}i(ie.a!=0),ie=0}ie=!ie}ie&&(R=N.a)}else R=N.a}else{if((N=new js)==null){_e=1;break e}if(N.Fa=pe.na,N.P=pe.P,N.qc=pe.Sa,uu(N,ie)){if((R=gd(ie.width,ie.height,_e.Oa,_e.ba))==0){if(N.Aa=0,Q=_e.Oa,i((pe=N)!=null),Q!=null){if(0<(De=0>(De=Q.Md)?0:100<De?255:255*De/100)){for(je=We=0;4>je;++je)12>(lt=pe.pb[je]).lc&&(lt.ia=De*Po[0>lt.lc?0:lt.lc]>>3),We|=lt.ia;We&&(alert("todo:VP8InitRandom"),pe.ia=1)}pe.Ga=Q.Id,100<pe.Ga?pe.Ga=100:0>pe.Ga&&(pe.Ga=0)}du(N,ie)||(R=N.a)}}else R=N.a}R==0&&_e.Oa!=null&&_e.Oa.fd&&(R=fh(_e.ba))}_e=R}ye=_e!=0?null:11>ye?xe.f.RGBA.eb:xe.f.kb.y}else ye=null;return ye};var eg=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function k(Z,Y){for(var se="",X=0;X<4;X++)se+=String.fromCharCode(Z[Y++]);return se}function w(Z,Y){return(Z[Y+0]<<0|Z[Y+1]<<8|Z[Y+2]<<16)>>>0}function _(Z,Y){return(Z[Y+0]<<0|Z[Y+1]<<8|Z[Y+2]<<16|Z[Y+3]<<24)>>>0}new m;var C=[0],v=[0],D=[],E=new m,O=t,M=function(Z,Y){var se={},X=0,K=!1,U=0,q=0;if(se.frames=[],!function(te,ke,be,ve){for(var Re=0;Re<ve;Re++)if(te[ke+Re]!=be.charCodeAt(Re))return!0;return!1}(Z,Y,"RIFF",4)){for(_(Z,Y+=4),Y+=8;Y<Z.length;){var fe=k(Z,Y),ue=_(Z,Y+=4);Y+=4;var de=ue+(1&ue);switch(fe){case"VP8 ":case"VP8L":se.frames[X]===void 0&&(se.frames[X]={}),(ce=se.frames[X]).src_off=K?q:Y-8,ce.src_size=U+ue+8,X++,K&&(K=!1,U=0,q=0);break;case"VP8X":(ce=se.header={}).feature_flags=Z[Y];var ge=Y+4;ce.canvas_width=1+w(Z,ge),ge+=3,ce.canvas_height=1+w(Z,ge),ge+=3;break;case"ALPH":K=!0,U=de+8,q=Y-8;break;case"ANIM":(ce=se.header).bgcolor=_(Z,Y),ge=Y+4,ce.loop_count=(Te=Z)[(re=ge)+0]<<0|Te[re+1]<<8,ge+=2;break;case"ANMF":var Ie,ce;(ce=se.frames[X]={}).offset_x=2*w(Z,Y),Y+=3,ce.offset_y=2*w(Z,Y),Y+=3,ce.width=1+w(Z,Y),Y+=3,ce.height=1+w(Z,Y),Y+=3,ce.duration=w(Z,Y),Y+=3,Ie=Z[Y++],ce.dispose=1&Ie,ce.blend=Ie>>1&1}fe!="ANMF"&&(Y+=de)}var Te,re;return se}}(O,0);M.response=O,M.rgbaoutput=!0,M.dataurl=!1;var j=M.header?M.header:null,F=M.frames?M.frames:null;if(j){j.loop_counter=j.loop_count,C=[j.canvas_height],v=[j.canvas_width];for(var G=0;G<F.length&&F[G].blend!=0;G++);}var J=F[0],H=E.WebPDecodeRGBA(O,J.src_off,J.src_size,v,C);J.rgba=H,J.imgwidth=v[0],J.imgheight=C[0];for(var z=0;z<v[0]*C[0]*4;z++)D[z]=H[z];return this.width=v,this.height=C,this.data=D,this}(function(t){var i=function(){return typeof GE=="function"},r=function(C,v,D,E){var O=4,M=d;switch(E){case t.image_compression.FAST:O=1,M=c;break;case t.image_compression.MEDIUM:O=6,M=p;break;case t.image_compression.SLOW:O=9,M=m}C=o(C,v,D,M);var j=GE(C,{level:O});return t.__addimage__.arrayBufferToBinaryString(j)},o=function(C,v,D,E){for(var O,M,j,F=C.length/v,G=new Uint8Array(C.length+F),J=w(),H=0;H<F;H+=1){if(j=H*v,O=C.subarray(j,j+v),E)G.set(E(O,D,M),j+H);else{for(var z,Z=J.length,Y=[];z<Z;z+=1)Y[z]=J[z](O,D,M);var se=_(Y.concat());G.set(Y[se],j+H)}M=O}return G},a=function(C){var v=Array.apply([],C);return v.unshift(0),v},c=function(C,v){var D,E=[],O=C.length;E[0]=1;for(var M=0;M<O;M+=1)D=C[M-v]||0,E[M+1]=C[M]-D+256&255;return E},d=function(C,v,D){var E,O=[],M=C.length;O[0]=2;for(var j=0;j<M;j+=1)E=D&&D[j]||0,O[j+1]=C[j]-E+256&255;return O},p=function(C,v,D){var E,O,M=[],j=C.length;M[0]=3;for(var F=0;F<j;F+=1)E=C[F-v]||0,O=D&&D[F]||0,M[F+1]=C[F]+256-(E+O>>>1)&255;return M},m=function(C,v,D){var E,O,M,j,F=[],G=C.length;F[0]=4;for(var J=0;J<G;J+=1)E=C[J-v]||0,O=D&&D[J]||0,M=D&&D[J-v]||0,j=k(E,O,M),F[J+1]=C[J]-j+256&255;return F},k=function(C,v,D){if(C===v&&v===D)return C;var E=Math.abs(v-D),O=Math.abs(C-D),M=Math.abs(C+v-D-D);return E<=O&&E<=M?C:O<=M?v:D},w=function(){return[a,c,d,p,m]},_=function(C){var v=C.map(function(D){return D.reduce(function(E,O){return E+Math.abs(O)},0)});return v.indexOf(Math.min.apply(null,v))};t.processPNG=function(C,v,D,E){var O,M,j,F,G,J,H,z,Z,Y,se,X,K,U,q,fe=this.decode.FLATE_DECODE,ue="";if(this.__addimage__.isArrayBuffer(C)&&(C=new Uint8Array(C)),this.__addimage__.isArrayBufferView(C)){if(C=(j=new tee(C)).imgData,M=j.bits,O=j.colorSpace,G=j.colors,[4,6].indexOf(j.colorType)!==-1){if(j.bits===8){Z=(z=j.pixelBitlength==32?new Uint32Array(j.decodePixels().buffer):j.pixelBitlength==16?new Uint16Array(j.decodePixels().buffer):new Uint8Array(j.decodePixels().buffer)).length,se=new Uint8Array(Z*j.colors),Y=new Uint8Array(Z);var de,ge=j.pixelBitlength-j.bits;for(U=0,q=0;U<Z;U++){for(K=z[U],de=0;de<ge;)se[q++]=K>>>de&255,de+=j.bits;Y[U]=K>>>de&255}}if(j.bits===16){Z=(z=new Uint32Array(j.decodePixels().buffer)).length,se=new Uint8Array(Z*(32/j.pixelBitlength)*j.colors),Y=new Uint8Array(Z*(32/j.pixelBitlength)),X=j.colors>1,U=0,q=0;for(var Ie=0;U<Z;)K=z[U++],se[q++]=K>>>0&255,X&&(se[q++]=K>>>16&255,K=z[U++],se[q++]=K>>>0&255),Y[Ie++]=K>>>16&255;M=8}E!==t.image_compression.NONE&&i()?(C=r(se,j.width*j.colors,j.colors,E),H=r(Y,j.width,1,E)):(C=se,H=Y,fe=void 0)}if(j.colorType===3&&(O=this.color_spaces.INDEXED,J=j.palette,j.transparency.indexed)){var ce=j.transparency.indexed,Te=0;for(U=0,Z=ce.length;U<Z;++U)Te+=ce[U];if((Te/=255)===Z-1&&ce.indexOf(0)!==-1)F=[ce.indexOf(0)];else if(Te!==Z){for(z=j.decodePixels(),Y=new Uint8Array(z.length),U=0,Z=z.length;U<Z;U++)Y[U]=ce[z[U]];H=r(Y,j.width,1)}}var re=function(te){var ke;switch(te){case t.image_compression.FAST:ke=11;break;case t.image_compression.MEDIUM:ke=13;break;case t.image_compression.SLOW:ke=14;break;default:ke=12}return ke}(E);return fe===this.decode.FLATE_DECODE&&(ue="/Predictor "+re+" "),ue+="/Colors "+G+" /BitsPerComponent "+M+" /Columns "+j.width,(this.__addimage__.isArrayBuffer(C)||this.__addimage__.isArrayBufferView(C))&&(C=this.__addimage__.arrayBufferToBinaryString(C)),(H&&this.__addimage__.isArrayBuffer(H)||this.__addimage__.isArrayBufferView(H))&&(H=this.__addimage__.arrayBufferToBinaryString(H)),{alias:D,data:C,index:v,filter:fe,decodeParameters:ue,transparency:F,palette:J,sMask:H,predictor:re,width:j.width,height:j.height,bitsPerComponent:M,colorSpace:O}}}})(Rn.API),function(t){t.processGIF89A=function(i,r,o,a){var c=new nee(i),d=c.width,p=c.height,m=[];c.decodeAndBlitFrameRGBA(0,m);var k={data:m,width:d,height:p},w=new Y3(100).encode(k,100);return t.processJPEG.call(this,w,r,o,a)},t.processGIF87A=t.processGIF89A}(Rn.API),Wd.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var i=0;i<t;i++){var r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0);this.palette[i]={red:a,green:o,blue:r,quad:c}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Wd.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,i=this.width*this.height*4;this.data=new Uint8Array(i),this[t]()}catch(r){Ui.log("bit decode error:"+r)}},Wd.prototype.bit1=function(){var t,i=Math.ceil(this.width/8),r=i%4;for(t=this.height-1;t>=0;t--){for(var o=this.bottom_up?t:this.height-1-t,a=0;a<i;a++)for(var c=this.datav.getUint8(this.pos++,!0),d=o*this.width*4+8*a*4,p=0;p<8&&8*a+p<this.width;p++){var m=this.palette[c>>7-p&1];this.data[d+4*p]=m.blue,this.data[d+4*p+1]=m.green,this.data[d+4*p+2]=m.red,this.data[d+4*p+3]=255}r!==0&&(this.pos+=4-r)}},Wd.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),i=t%4,r=this.height-1;r>=0;r--){for(var o=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var c=this.datav.getUint8(this.pos++,!0),d=o*this.width*4+2*a*4,p=c>>4,m=15&c,k=this.palette[p];if(this.data[d]=k.blue,this.data[d+1]=k.green,this.data[d+2]=k.red,this.data[d+3]=255,2*a+1>=this.width)break;k=this.palette[m],this.data[d+4]=k.blue,this.data[d+4+1]=k.green,this.data[d+4+2]=k.red,this.data[d+4+3]=255}i!==0&&(this.pos+=4-i)}},Wd.prototype.bit8=function(){for(var t=this.width%4,i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,o=0;o<this.width;o++){var a=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+4*o;if(a<this.palette.length){var d=this.palette[a];this.data[c]=d.red,this.data[c+1]=d.green,this.data[c+2]=d.blue,this.data[c+3]=255}else this.data[c]=255,this.data[c+1]=255,this.data[c+2]=255,this.data[c+3]=255}t!==0&&(this.pos+=4-t)}},Wd.prototype.bit15=function(){for(var t=this.width%3,i=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var o=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(c&i)/i*255|0,p=(c>>5&i)/i*255|0,m=(c>>10&i)/i*255|0,k=c>>15?255:0,w=o*this.width*4+4*a;this.data[w]=m,this.data[w+1]=p,this.data[w+2]=d,this.data[w+3]=k}this.pos+=t}},Wd.prototype.bit16=function(){for(var t=this.width%3,i=parseInt("11111",2),r=parseInt("111111",2),o=this.height-1;o>=0;o--){for(var a=this.bottom_up?o:this.height-1-o,c=0;c<this.width;c++){var d=this.datav.getUint16(this.pos,!0);this.pos+=2;var p=(d&i)/i*255|0,m=(d>>5&r)/r*255|0,k=(d>>11)/i*255|0,w=a*this.width*4+4*c;this.data[w]=k,this.data[w+1]=m,this.data[w+2]=p,this.data[w+3]=255}this.pos+=t}},Wd.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),d=i*this.width*4+4*r;this.data[d]=c,this.data[d+1]=a,this.data[d+2]=o,this.data[d+3]=255}this.pos+=this.width%4}},Wd.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var i=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),p=i*this.width*4+4*r;this.data[p]=c,this.data[p+1]=a,this.data[p+2]=o,this.data[p+3]=d}},Wd.prototype.getData=function(){return this.data},function(t){t.processBMP=function(i,r,o,a){var c=new Wd(i,!1),d=c.width,p=c.height,m={data:c.getData(),width:d,height:p},k=new Y3(100).encode(m,100);return t.processJPEG.call(this,k,r,o,a)}}(Rn.API),M8.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(i,r,o,a){var c=new M8(i),d=c.width,p=c.height,m={data:c.getData(),width:d,height:p},k=new Y3(100).encode(m,100);return t.processJPEG.call(this,k,r,o,a)}}(Rn.API),Rn.API.processRGBA=function(t,i,r){for(var o=t.data,a=o.length,c=new Uint8Array(a/4*3),d=new Uint8Array(a/4),p=0,m=0,k=0;k<a;k+=4){var w=o[k],_=o[k+1],C=o[k+2],v=o[k+3];c[p++]=w,c[p++]=_,c[p++]=C,d[m++]=v}var D=this.__addimage__.arrayBufferToBinaryString(c);return{alpha:this.__addimage__.arrayBufferToBinaryString(d),data:D,index:i,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Rn.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},O0=Rn.API,GC=O0.getCharWidthsArray=function(t,i){var r,o,a=(i=i||{}).font||this.internal.getFont(),c=i.fontSize||this.internal.getFontSize(),d=i.charSpace||this.internal.getCharSpace(),p=i.widths?i.widths:a.metadata.Unicode.widths,m=p.fof?p.fof:1,k=i.kerning?i.kerning:a.metadata.Unicode.kerning,w=k.fof?k.fof:1,_=i.doKerning!==!1,C=0,v=t.length,D=0,E=p[0]||m,O=[];for(r=0;r<v;r++)o=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?O.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(o))+d*(1e3/c)||0)/1e3):(C=_&&qi(k[o])==="object"&&!isNaN(parseInt(k[o][D],10))?k[o][D]/w:0,O.push((p[o]||E)/m+C)),D=o;return O},E8=O0.getStringUnitWidth=function(t,i){var r=(i=i||{}).fontSize||this.internal.getFontSize(),o=i.font||this.internal.getFont(),a=i.charSpace||this.internal.getCharSpace();return O0.processArabic&&(t=O0.processArabic(t)),typeof o.metadata.widthOfString=="function"?o.metadata.widthOfString(t,r,a)/r:GC.apply(this,arguments).reduce(function(c,d){return c+d},0)},D8=function(t,i,r,o){for(var a=[],c=0,d=t.length,p=0;c!==d&&p+i[c]<r;)p+=i[c],c++;a.push(t.slice(0,c));var m=c;for(p=0;c!==d;)p+i[c]>o&&(a.push(t.slice(m,c)),p=0,m=c),p+=i[c],c++;return m!==c&&a.push(t.slice(m,c)),a},I8=function(t,i,r){r||(r={});var o,a,c,d,p,m,k,w=[],_=[w],C=r.textIndent||0,v=0,D=0,E=t.split(" "),O=GC.apply(this,[" ",r])[0];if(m=r.lineIndent===-1?E[0].length+2:r.lineIndent||0){var M=Array(m).join(" "),j=[];E.map(function(G){(G=G.split(/\s*\n/)).length>1?j=j.concat(G.map(function(J,H){return(H&&J.length?`
`:"")+J})):j.push(G[0])}),E=j,m=E8.apply(this,[M,r])}for(c=0,d=E.length;c<d;c++){var F=0;if(o=E[c],m&&o[0]==`
`&&(o=o.substr(1),F=1),C+v+(D=(a=GC.apply(this,[o,r])).reduce(function(G,J){return G+J},0))>i||F){if(D>i){for(p=D8.apply(this,[o,a,i-(C+v),i]),w.push(p.shift()),w=[p.pop()];p.length;)_.push([p.shift()]);D=a.slice(o.length-(w[0]?w[0].length:0)).reduce(function(G,J){return G+J},0)}else w=[o];_.push(w),C=D+m,v=O}else w.push(o),C+=v+D,v=O}return k=m?function(G,J){return(J?M:"")+G.join(" ")}:function(G){return G.join(" ")},_.map(k)},O0.splitTextToSize=function(t,i,r){var o,a=(r=r||{}).fontSize||this.internal.getFontSize(),c=(function(w){if(w.widths&&w.kerning)return{widths:w.widths,kerning:w.kerning};var _=this.internal.getFont(w.fontName,w.fontStyle);return _.metadata.Unicode?{widths:_.metadata.Unicode.widths||{0:1},kerning:_.metadata.Unicode.kerning||{}}:{font:_.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);o=Array.isArray(t)?t:String(t).split(/\r?\n/);var d=1*this.internal.scaleFactor*i/a;c.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,c.lineIndent=r.lineIndent;var p,m,k=[];for(p=0,m=o.length;p<m;p++)k=k.concat(I8.apply(this,[o[p],d,c]));return k},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var i="klmnopqrstuvwxyz",r={},o={},a=0;a<i.length;a++)r[i[a]]="0123456789abcdef"[a],o["0123456789abcdef"[a]]=i[a];var c=function(_){return"0x"+parseInt(_,10).toString(16)},d=t.__fontmetrics__.compress=function(_){var C,v,D,E,O=["{"];for(var M in _){if(C=_[M],isNaN(parseInt(M,10))?v="'"+M+"'":(M=parseInt(M,10),v=(v=c(M).slice(2)).slice(0,-1)+o[v.slice(-1)]),typeof C=="number")C<0?(D=c(C).slice(3),E="-"):(D=c(C).slice(2),E=""),D=E+D.slice(0,-1)+o[D.slice(-1)];else{if(qi(C)!=="object")throw new Error("Don't know what to do with value type "+qi(C)+".");D=d(C)}O.push(v+D)}return O.push("}"),O.join("")},p=t.__fontmetrics__.uncompress=function(_){if(typeof _!="string")throw new Error("Invalid argument passed to uncompress.");for(var C,v,D,E,O={},M=1,j=O,F=[],G="",J="",H=_.length-1,z=1;z<H;z+=1)(E=_[z])=="'"?C?(D=C.join(""),C=void 0):C=[]:C?C.push(E):E=="{"?(F.push([j,D]),j={},D=void 0):E=="}"?((v=F.pop())[0][v[1]]=j,D=void 0,j=v[0]):E=="-"?M=-1:D===void 0?r.hasOwnProperty(E)?(G+=r[E],D=parseInt(G,16)*M,M=1,G=""):G+=E:r.hasOwnProperty(E)?(J+=r[E],j[D]=parseInt(J,16)*M,M=1,D=void 0,J=""):J+=E;return O},m={codePages:["WinAnsiEncoding"],WinAnsiEncoding:p("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},k={Unicode:{Courier:m,"Courier-Bold":m,"Courier-BoldOblique":m,"Courier-Oblique":m,Helvetica:m,"Helvetica-Bold":m,"Helvetica-BoldOblique":m,"Helvetica-Oblique":m,"Times-Roman":m,"Times-Bold":m,"Times-BoldItalic":m,"Times-Italic":m}},w={Unicode:{"Courier-Oblique":p("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":p("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":p("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:p("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":p("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":p("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:p("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:p("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":p("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:p("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":p("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":p("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":p("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":p("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(_){var C=_.font,v=w.Unicode[C.postScriptName];v&&(C.metadata.Unicode={},C.metadata.Unicode.widths=v.widths,C.metadata.Unicode.kerning=v.kerning);var D=k.Unicode[C.postScriptName];D&&(C.metadata.Unicode.encoding=D,C.encoding=D.codePages[0])}])}(Rn.API),function(t){var i=function(r){for(var o=r.length,a=new Uint8Array(o),c=0;c<o;c++)a[c]=r.charCodeAt(c);return a};t.API.events.push(["addFont",function(r){var o=void 0,a=r.font,c=r.instance;if(!a.isStandardFont){if(c===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(o=c.existsFileInVFS(a.postScriptName)===!1?c.loadFile(a.postScriptName):c.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(d,p){p=/^\x00\x01\x00\x00/.test(p)?i(p):i(Cy(p)),d.metadata=t.API.TTFFont.open(p),d.metadata.Unicode=d.metadata.Unicode||{encoding:{},kerning:{},widths:[]},d.metadata.glyIdsUsed=[0]})(a,o)}}])}(Rn),function(t){function i(){return(Un.canvg?Promise.resolve(Un.canvg):To(()=>import("./index.es-BbJgBR3r.js"),__vite__mapDeps([6,1,4]))).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Rn.API.addSvgAsImage=function(r,o,a,c,d,p,m,k){if(isNaN(o)||isNaN(a))throw Ui.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(c)||isNaN(d))throw Ui.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var w=document.createElement("canvas");w.width=c,w.height=d;var _=w.getContext("2d");_.fillStyle="#fff",_.fillRect(0,0,w.width,w.height);var C={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},v=this;return i().then(function(D){return D.fromString(_,r,C)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(D){return D.render(C)}).then(function(){v.addImage(w.toDataURL("image/jpeg",1),o,a,c,d,m,k)})}}(),Rn.API.putTotalPages=function(t){var i,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(i=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(i=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var o=1;o<=this.internal.getNumberOfPages();o++)for(var a=0;a<this.internal.pages[o].length;a++)this.internal.pages[o][a]=this.internal.pages[o][a].replace(i,r);return this},Rn.API.viewerPreferences=function(t,i){var r;t=t||{},i=i||!1;var o,a,c,d={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},p=Object.keys(d),m=[],k=0,w=0,_=0;function C(D,E){var O,M=!1;for(O=0;O<D.length;O+=1)D[O]===E&&(M=!0);return M}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(d)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||i===!0){var v=p.length;for(_=0;_<v;_+=1)r[p[_]].value=r[p[_]].defaultValue,r[p[_]].explicitSet=!1}if(qi(t)==="object"){for(a in t)if(c=t[a],C(p,a)&&c!==void 0){if(r[a].type==="boolean"&&typeof c=="boolean")r[a].value=c;else if(r[a].type==="name"&&C(r[a].valueSet,c))r[a].value=c;else if(r[a].type==="integer"&&Number.isInteger(c))r[a].value=c;else if(r[a].type==="array"){for(k=0;k<c.length;k+=1)if(o=!0,c[k].length===1&&typeof c[k][0]=="number")m.push(String(c[k]-1));else if(c[k].length>1){for(w=0;w<c[k].length;w+=1)typeof c[k][w]!="number"&&(o=!1);o===!0&&m.push([c[k][0]-1,c[k][1]-1].join(" "))}r[a].value="["+m.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var D,E=[];for(D in r)r[D].explicitSet===!0&&(r[D].type==="name"?E.push("/"+D+" /"+r[D].value):E.push("/"+D+" "+r[D].value));E.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+E.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var i=function(){var o='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),c=unescape(encodeURIComponent(o)),d=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),p=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),m=unescape(encodeURIComponent("</x:xmpmeta>")),k=c.length+d.length+p.length+a.length+m.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+k+" >>"),this.internal.write("stream"),this.internal.write(a+c+d+p+m),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(o,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:o,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",i)),this}}(Rn.API),function(t){var i=t.API,r=i.pdfEscape16=function(c,d){for(var p,m=d.metadata.Unicode.widths,k=["","0","00","000","0000"],w=[""],_=0,C=c.length;_<C;++_){if(p=d.metadata.characterToGlyph(c.charCodeAt(_)),d.metadata.glyIdsUsed.push(p),d.metadata.toUnicode[p]=c.charCodeAt(_),m.indexOf(p)==-1&&(m.push(p),m.push([parseInt(d.metadata.widthOfGlyph(p),10)])),p=="0")return w.join("");p=p.toString(16),w.push(k[4-p.length],p)}return w.join("")},o=function(c){var d,p,m,k,w,_,C;for(w=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,m=[],_=0,C=(p=Object.keys(c).sort(function(v,D){return v-D})).length;_<C;_++)d=p[_],m.length>=100&&(w+=`
`+m.length+` beginbfchar
`+m.join(`
`)+`
endbfchar`,m=[]),c[d]!==void 0&&c[d]!==null&&typeof c[d].toString=="function"&&(k=("0000"+c[d].toString(16)).slice(-4),d=("0000"+(+d).toString(16)).slice(-4),m.push("<"+d+"><"+k+">"));return m.length&&(w+=`
`+m.length+` beginbfchar
`+m.join(`
`)+`
endbfchar
`),w+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};i.events.push(["putFont",function(c){(function(d){var p=d.font,m=d.out,k=d.newObject,w=d.putStream;if(p.metadata instanceof t.API.TTFFont&&p.encoding==="Identity-H"){for(var _=p.metadata.Unicode.widths,C=p.metadata.subset.encode(p.metadata.glyIdsUsed,1),v="",D=0;D<C.length;D++)v+=String.fromCharCode(C[D]);var E=k();w({data:v,addLength1:!0,objectId:E}),m("endobj");var O=k();w({data:o(p.metadata.toUnicode),addLength1:!0,objectId:O}),m("endobj");var M=k();m("<<"),m("/Type /FontDescriptor"),m("/FontName /"+Q0(p.fontName)),m("/FontFile2 "+E+" 0 R"),m("/FontBBox "+t.API.PDFObject.convert(p.metadata.bbox)),m("/Flags "+p.metadata.flags),m("/StemV "+p.metadata.stemV),m("/ItalicAngle "+p.metadata.italicAngle),m("/Ascent "+p.metadata.ascender),m("/Descent "+p.metadata.decender),m("/CapHeight "+p.metadata.capHeight),m(">>"),m("endobj");var j=k();m("<<"),m("/Type /Font"),m("/BaseFont /"+Q0(p.fontName)),m("/FontDescriptor "+M+" 0 R"),m("/W "+t.API.PDFObject.convert(_)),m("/CIDToGIDMap /Identity"),m("/DW 1000"),m("/Subtype /CIDFontType2"),m("/CIDSystemInfo"),m("<<"),m("/Supplement 0"),m("/Registry (Adobe)"),m("/Ordering ("+p.encoding+")"),m(">>"),m(">>"),m("endobj"),p.objectNumber=k(),m("<<"),m("/Type /Font"),m("/Subtype /Type0"),m("/ToUnicode "+O+" 0 R"),m("/BaseFont /"+Q0(p.fontName)),m("/Encoding /"+p.encoding),m("/DescendantFonts ["+j+" 0 R]"),m(">>"),m("endobj"),p.isAlreadyPutted=!0}})(c)}]),i.events.push(["putFont",function(c){(function(d){var p=d.font,m=d.out,k=d.newObject,w=d.putStream;if(p.metadata instanceof t.API.TTFFont&&p.encoding==="WinAnsiEncoding"){for(var _=p.metadata.rawData,C="",v=0;v<_.length;v++)C+=String.fromCharCode(_[v]);var D=k();w({data:C,addLength1:!0,objectId:D}),m("endobj");var E=k();w({data:o(p.metadata.toUnicode),addLength1:!0,objectId:E}),m("endobj");var O=k();m("<<"),m("/Descent "+p.metadata.decender),m("/CapHeight "+p.metadata.capHeight),m("/StemV "+p.metadata.stemV),m("/Type /FontDescriptor"),m("/FontFile2 "+D+" 0 R"),m("/Flags 96"),m("/FontBBox "+t.API.PDFObject.convert(p.metadata.bbox)),m("/FontName /"+Q0(p.fontName)),m("/ItalicAngle "+p.metadata.italicAngle),m("/Ascent "+p.metadata.ascender),m(">>"),m("endobj"),p.objectNumber=k();for(var M=0;M<p.metadata.hmtx.widths.length;M++)p.metadata.hmtx.widths[M]=parseInt(p.metadata.hmtx.widths[M]*(1e3/p.metadata.head.unitsPerEm));m("<</Subtype/TrueType/Type/Font/ToUnicode "+E+" 0 R/BaseFont/"+Q0(p.fontName)+"/FontDescriptor "+O+" 0 R/Encoding/"+p.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(p.metadata.hmtx.widths)+">>"),m("endobj"),p.isAlreadyPutted=!0}})(c)}]);var a=function(c){var d,p=c.text||"",m=c.x,k=c.y,w=c.options||{},_=c.mutex||{},C=_.pdfEscape,v=_.activeFontKey,D=_.fonts,E=v,O="",M=0,j="",F=D[E].encoding;if(D[E].encoding!=="Identity-H")return{text:p,x:m,y:k,options:w,mutex:_};for(j=p,E=v,Array.isArray(p)&&(j=p[0]),M=0;M<j.length;M+=1)D[E].metadata.hasOwnProperty("cmap")&&(d=D[E].metadata.cmap.unicode.codeMap[j[M].charCodeAt(0)]),d||j[M].charCodeAt(0)<256&&D[E].metadata.hasOwnProperty("Unicode")?O+=j[M]:O+="";var G="";return parseInt(E.slice(1))<14||F==="WinAnsiEncoding"?G=C(O,E).split("").map(function(J){return J.charCodeAt(0).toString(16)}).join(""):F==="Identity-H"&&(G=r(O,D[E])),_.isHex=!0,{text:G,x:m,y:k,options:w,mutex:_}};i.events.push(["postProcessText",function(c){var d=c.text||"",p=[],m={text:d,x:c.x,y:c.y,options:c.options,mutex:c.mutex};if(Array.isArray(d)){var k=0;for(k=0;k<d.length;k+=1)Array.isArray(d[k])&&d[k].length===3?p.push([a(Object.assign({},m,{text:d[k][0]})).text,d[k][1],d[k][2]]):p.push(a(Object.assign({},m,{text:d[k]})).text);c.text=p}else c.text=a(Object.assign({},m,{text:d})).text}])}(Rn),function(t){var i=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return i.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,o){return i.call(this),this.internal.vFS[r]=o,this},t.getFileFromVFS=function(r){return i.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Rn.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(o){var a,c,d,p,m,k,w,_=i,C=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],v=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],D={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},E={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},O=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],M=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),j=!1,F=0;this.__bidiEngine__={};var G=function(X){var K=X.charCodeAt(),U=K>>8,q=E[U];return q!==void 0?_[256*q+(255&K)]:U===252||U===253?"AL":M.test(U)?"L":U===8?"R":"N"},J=function(X){for(var K,U=0;U<X.length;U++){if((K=G(X.charAt(U)))==="L")return!1;if(K==="R")return!0}return!1},H=function(X,K,U,q){var fe,ue,de,ge,Ie=K[q];switch(Ie){case"L":case"R":j=!1;break;case"N":case"AN":break;case"EN":j&&(Ie="AN");break;case"AL":j=!0,Ie="R";break;case"WS":Ie="N";break;case"CS":q<1||q+1>=K.length||(fe=U[q-1])!=="EN"&&fe!=="AN"||(ue=K[q+1])!=="EN"&&ue!=="AN"?Ie="N":j&&(ue="AN"),Ie=ue===fe?ue:"N";break;case"ES":Ie=(fe=q>0?U[q-1]:"B")==="EN"&&q+1<K.length&&K[q+1]==="EN"?"EN":"N";break;case"ET":if(q>0&&U[q-1]==="EN"){Ie="EN";break}if(j){Ie="N";break}for(de=q+1,ge=K.length;de<ge&&K[de]==="ET";)de++;Ie=de<ge&&K[de]==="EN"?"EN":"N";break;case"NSM":if(d&&!p){for(ge=K.length,de=q+1;de<ge&&K[de]==="NSM";)de++;if(de<ge){var ce=X[q],Te=ce>=1425&&ce<=2303||ce===64286;if(fe=K[de],Te&&(fe==="R"||fe==="AL")){Ie="R";break}}}Ie=q<1||(fe=K[q-1])==="B"?"N":U[q-1];break;case"B":j=!1,a=!0,Ie=F;break;case"S":c=!0,Ie="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":j=!1;break;case"BN":Ie="N"}return Ie},z=function(X,K,U){var q=X.split("");return U&&Z(q,U,{hiLevel:F}),q.reverse(),K&&K.reverse(),q.join("")},Z=function(X,K,U){var q,fe,ue,de,ge,Ie=-1,ce=X.length,Te=0,re=[],te=F?v:C,ke=[];for(j=!1,a=!1,c=!1,fe=0;fe<ce;fe++)ke[fe]=G(X[fe]);for(ue=0;ue<ce;ue++){if(ge=Te,re[ue]=H(X,ke,re,ue),q=240&(Te=te[ge][D[re[ue]]]),Te&=15,K[ue]=de=te[Te][5],q>0)if(q===16){for(fe=Ie;fe<ue;fe++)K[fe]=1;Ie=-1}else Ie=-1;if(te[Te][6])Ie===-1&&(Ie=ue);else if(Ie>-1){for(fe=Ie;fe<ue;fe++)K[fe]=de;Ie=-1}ke[ue]==="B"&&(K[ue]=0),U.hiLevel|=de}c&&function(be,ve,Re){for(var Oe=0;Oe<Re;Oe++)if(be[Oe]==="S"){ve[Oe]=F;for(var Ue=Oe-1;Ue>=0&&be[Ue]==="WS";Ue--)ve[Ue]=F}}(ke,K,ce)},Y=function(X,K,U,q,fe){if(!(fe.hiLevel<X)){if(X===1&&F===1&&!a)return K.reverse(),void(U&&U.reverse());for(var ue,de,ge,Ie,ce=K.length,Te=0;Te<ce;){if(q[Te]>=X){for(ge=Te+1;ge<ce&&q[ge]>=X;)ge++;for(Ie=Te,de=ge-1;Ie<de;Ie++,de--)ue=K[Ie],K[Ie]=K[de],K[de]=ue,U&&(ue=U[Ie],U[Ie]=U[de],U[de]=ue);Te=ge}Te++}}},se=function(X,K,U){var q=X.split(""),fe={hiLevel:F};return U||(U=[]),Z(q,U,fe),function(ue,de,ge){if(ge.hiLevel!==0&&w)for(var Ie,ce=0;ce<ue.length;ce++)de[ce]===1&&(Ie=O.indexOf(ue[ce]))>=0&&(ue[ce]=O[Ie+1])}(q,U,fe),Y(2,q,K,U,fe),Y(1,q,K,U,fe),q.join("")};return this.__bidiEngine__.doBidiReorder=function(X,K,U){if(function(fe,ue){if(ue)for(var de=0;de<fe.length;de++)ue[de]=de;p===void 0&&(p=J(fe)),k===void 0&&(k=J(fe))}(X,K),d||!m||k)if(d&&m&&p^k)F=p?1:0,X=z(X,K,U);else if(!d&&m&&k)F=p?1:0,X=se(X,K,U),X=z(X,K);else if(!d||p||m||k){if(d&&!m&&p^k)X=z(X,K),p?(F=0,X=se(X,K,U)):(F=1,X=se(X,K,U),X=z(X,K));else if(d&&p&&!m&&k)F=1,X=se(X,K,U),X=z(X,K);else if(!d&&!m&&p^k){var q=w;p?(F=1,X=se(X,K,U),F=0,w=!1,X=se(X,K,U),w=q):(F=0,X=se(X,K,U),X=z(X,K),F=1,w=!1,X=se(X,K,U),w=q,X=z(X,K))}}else F=0,X=se(X,K,U);else F=p?1:0,X=se(X,K,U);return X},this.__bidiEngine__.setOptions=function(X){X&&(d=X.isInputVisual,m=X.isOutputVisual,p=X.isInputRtl,k=X.isOutputRtl,w=X.isSymmetricSwapping)},this.__bidiEngine__.setOptions(o),this.__bidiEngine__};var i=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(o){var a=o.text;o.x,o.y;var c=o.options||{};o.mutex,c.lang;var d=[];if(c.isInputVisual=typeof c.isInputVisual!="boolean"||c.isInputVisual,r.setOptions(c),Object.prototype.toString.call(a)==="[object Array]"){var p=0;for(d=[],p=0;p<a.length;p+=1)Object.prototype.toString.call(a[p])==="[object Array]"?d.push([r.doBidiReorder(a[p][0]),a[p][1],a[p][2]]):d.push([r.doBidiReorder(a[p])]);o.text=d}else o.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(Rn),Rn.API.TTFFont=function(){function t(i){var r;if(this.rawData=i,r=this.contents=new Um(i),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new bee(this),this.registerTTF()}return t.open=function(i){return new t(i)},t.prototype.parse=function(){return this.directory=new ree(this.contents),this.head=new oee(this),this.name=new uee(this),this.cmap=new FP(this),this.toUnicode={},this.hhea=new see(this),this.maxp=new dee(this),this.hmtx=new hee(this),this.post=new lee(this),this.os2=new aee(this),this.loca=new gee(this),this.glyf=new fee(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var i,r,o,a,c;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var d,p,m,k;for(k=[],d=0,p=(m=this.bbox).length;d<p;d++)i=m[d],k.push(Math.round(i*this.scaleFactor));return k}).call(this),this.stemV=0,this.post.exists?(o=255&(a=this.post.italic_angle),(32768&(r=a>>16))!=0&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+o)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(c=this.familyClass)===1||c===2||c===3||c===4||c===5||c===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(i){var r;return((r=this.cmap.unicode)!=null?r.codeMap[i]:void 0)||0},t.prototype.widthOfGlyph=function(i){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(i).advance*r},t.prototype.widthOfString=function(i,r,o){var a,c,d,p;for(d=0,c=0,p=(i=""+i).length;0<=p?c<p:c>p;c=0<=p?++c:--c)a=i.charCodeAt(c),d+=this.widthOfGlyph(this.characterToGlyph(a))+o*(1e3/r)||0;return d*(r/1e3)},t.prototype.lineHeight=function(i,r){var o;return r==null&&(r=!1),o=r?this.lineGap:0,(this.ascender+o-this.decender)/1e3*i},t}();var th,Um=function(){function t(i){this.data=i??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(i){return this.data[this.pos++]=i},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(i){return this.writeByte(i>>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},t.prototype.readInt32=function(){var i;return(i=this.readUInt32())>=2147483648?i-4294967296:i},t.prototype.writeInt32=function(i){return i<0&&(i+=4294967296),this.writeUInt32(i)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(i){return this.writeByte(i>>8&255),this.writeByte(255&i)},t.prototype.readInt16=function(){var i;return(i=this.readUInt16())>=32768?i-65536:i},t.prototype.writeInt16=function(i){return i<0&&(i+=65536),this.writeUInt16(i)},t.prototype.readString=function(i){var r,o;for(o=[],r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)o[r]=String.fromCharCode(this.readByte());return o.join("")},t.prototype.writeString=function(i){var r,o,a;for(a=[],r=0,o=i.length;0<=o?r<o:r>o;r=0<=o?++r:--r)a.push(this.writeByte(i.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(i){return this.writeInt16(i)},t.prototype.readLongLong=function(){var i,r,o,a,c,d,p,m;return i=this.readByte(),r=this.readByte(),o=this.readByte(),a=this.readByte(),c=this.readByte(),d=this.readByte(),p=this.readByte(),m=this.readByte(),128&i?-1*(72057594037927940*(255^i)+281474976710656*(255^r)+1099511627776*(255^o)+4294967296*(255^a)+16777216*(255^c)+65536*(255^d)+256*(255^p)+(255^m)+1):72057594037927940*i+281474976710656*r+1099511627776*o+4294967296*a+16777216*c+65536*d+256*p+m},t.prototype.writeLongLong=function(i){var r,o;return r=Math.floor(i/4294967296),o=4294967295&i,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(o>>24&255),this.writeByte(o>>16&255),this.writeByte(o>>8&255),this.writeByte(255&o)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(i){return this.writeInt32(i)},t.prototype.read=function(i){var r,o;for(r=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)r.push(this.readByte());return r},t.prototype.write=function(i){var r,o,a,c;for(c=[],o=0,a=i.length;o<a;o++)r=i[o],c.push(this.writeByte(r));return c},t}(),ree=function(){var t;function i(r){var o,a,c;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,c=this.tableCount;0<=c?a<c:a>c;a=0<=c?++a:--a)o={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[o.tag]=o}return i.prototype.encode=function(r){var o,a,c,d,p,m,k,w,_,C,v,D,E;for(E in v=Object.keys(r).length,m=Math.log(2),_=16*Math.floor(Math.log(v)/m),d=Math.floor(_/m),w=16*v-_,(a=new Um).writeInt(this.scalarType),a.writeShort(v),a.writeShort(_),a.writeShort(d),a.writeShort(w),c=16*v,k=a.pos+c,p=null,D=[],r)for(C=r[E],a.writeString(E),a.writeInt(t(C)),a.writeInt(k),a.writeInt(C.length),D=D.concat(C),E==="head"&&(p=k),k+=C.length;k%4;)D.push(0),k++;return a.write(D),o=2981146554-t(a.data),a.pos=p+8,a.writeUInt32(o),a.data},t=function(r){var o,a,c,d;for(r=zP.call(r);r.length%4;)r.push(0);for(c=new Um(r),a=0,o=0,d=r.length;o<d;o=o+=4)a+=c.readUInt32();return 4294967295&a},i}(),iee={}.hasOwnProperty,pf=function(t,i){for(var r in i)iee.call(i,r)&&(t[r]=i[r]);function o(){this.constructor=t}return o.prototype=i.prototype,t.prototype=new o,t.__super__=i.prototype,t};th=function(){function t(i){var r;this.file=i,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var oee=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return pf(i,th),i.prototype.tag="head",i.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},i.prototype.encode=function(r){var o;return(o=new Um).writeInt(this.version),o.writeInt(this.revision),o.writeInt(this.checkSumAdjustment),o.writeInt(this.magicNumber),o.writeShort(this.flags),o.writeShort(this.unitsPerEm),o.writeLongLong(this.created),o.writeLongLong(this.modified),o.writeShort(this.xMin),o.writeShort(this.yMin),o.writeShort(this.xMax),o.writeShort(this.yMax),o.writeShort(this.macStyle),o.writeShort(this.lowestRecPPEM),o.writeShort(this.fontDirectionHint),o.writeShort(r),o.writeShort(this.glyphDataFormat),o.data},i}(),N8=function(){function t(i,r){var o,a,c,d,p,m,k,w,_,C,v,D,E,O,M,j,F;switch(this.platformID=i.readUInt16(),this.encodingID=i.readShort(),this.offset=r+i.readInt(),_=i.pos,i.pos=this.offset,this.format=i.readUInt16(),this.length=i.readUInt16(),this.language=i.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(m=0;m<256;++m)this.codeMap[m]=i.readByte();break;case 4:for(v=i.readUInt16(),C=v/2,i.pos+=6,c=function(){var G,J;for(J=[],m=G=0;0<=C?G<C:G>C;m=0<=C?++G:--G)J.push(i.readUInt16());return J}(),i.pos+=2,E=function(){var G,J;for(J=[],m=G=0;0<=C?G<C:G>C;m=0<=C?++G:--G)J.push(i.readUInt16());return J}(),k=function(){var G,J;for(J=[],m=G=0;0<=C?G<C:G>C;m=0<=C?++G:--G)J.push(i.readUInt16());return J}(),w=function(){var G,J;for(J=[],m=G=0;0<=C?G<C:G>C;m=0<=C?++G:--G)J.push(i.readUInt16());return J}(),a=(this.length-i.pos+this.offset)/2,p=function(){var G,J;for(J=[],m=G=0;0<=a?G<a:G>a;m=0<=a?++G:--G)J.push(i.readUInt16());return J}(),m=M=0,F=c.length;M<F;m=++M)for(O=c[m],o=j=D=E[m];D<=O?j<=O:j>=O;o=D<=O?++j:--j)w[m]===0?d=o+k[m]:(d=p[w[m]/2+(o-D)-(C-m)]||0)!==0&&(d+=k[m]),this.codeMap[o]=65535&d}i.pos=_}return t.encode=function(i,r){var o,a,c,d,p,m,k,w,_,C,v,D,E,O,M,j,F,G,J,H,z,Z,Y,se,X,K,U,q,fe,ue,de,ge,Ie,ce,Te,re,te,ke,be,ve,Re,Oe,Ue,Ze,Ge,ft;switch(q=new Um,d=Object.keys(i).sort(function(gt,oe){return gt-oe}),r){case"macroman":for(E=0,O=function(){var gt=[];for(D=0;D<256;++D)gt.push(0);return gt}(),j={0:0},c={},fe=0,Ie=d.length;fe<Ie;fe++)j[Ue=i[a=d[fe]]]==null&&(j[Ue]=++E),c[a]={old:i[a],new:j[i[a]]},O[a]=j[i[a]];return q.writeUInt16(1),q.writeUInt16(0),q.writeUInt32(12),q.writeUInt16(0),q.writeUInt16(262),q.writeUInt16(0),q.write(O),{charMap:c,subtable:q.data,maxGlyphID:E+1};case"unicode":for(K=[],_=[],F=0,j={},o={},M=k=null,ue=0,ce=d.length;ue<ce;ue++)j[J=i[a=d[ue]]]==null&&(j[J]=++F),o[a]={old:J,new:j[J]},p=j[J]-a,M!=null&&p===k||(M&&_.push(M),K.push(a),k=p),M=a;for(M&&_.push(M),_.push(65535),K.push(65535),se=2*(Y=K.length),Z=2*Math.pow(Math.log(Y)/Math.LN2,2),C=Math.log(Z/2)/Math.LN2,z=2*Y-Z,m=[],H=[],v=[],D=de=0,Te=K.length;de<Te;D=++de){if(X=K[D],w=_[D],X===65535){m.push(0),H.push(0);break}if(X-(U=o[X].new)>=32768)for(m.push(0),H.push(2*(v.length+Y-D)),a=ge=X;X<=w?ge<=w:ge>=w;a=X<=w?++ge:--ge)v.push(o[a].new);else m.push(U-X),H.push(0)}for(q.writeUInt16(3),q.writeUInt16(1),q.writeUInt32(12),q.writeUInt16(4),q.writeUInt16(16+8*Y+2*v.length),q.writeUInt16(0),q.writeUInt16(se),q.writeUInt16(Z),q.writeUInt16(C),q.writeUInt16(z),Re=0,re=_.length;Re<re;Re++)a=_[Re],q.writeUInt16(a);for(q.writeUInt16(0),Oe=0,te=K.length;Oe<te;Oe++)a=K[Oe],q.writeUInt16(a);for(Ze=0,ke=m.length;Ze<ke;Ze++)p=m[Ze],q.writeUInt16(p);for(Ge=0,be=H.length;Ge<be;Ge++)G=H[Ge],q.writeUInt16(G);for(ft=0,ve=v.length;ft<ve;ft++)E=v[ft],q.writeUInt16(E);return{charMap:o,subtable:q.data,maxGlyphID:F+1}}},t}(),FP=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return pf(i,th),i.prototype.tag="cmap",i.prototype.parse=function(r){var o,a,c;for(r.pos=this.offset,this.version=r.readUInt16(),c=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=c?a<c:a>c;a=0<=c?++a:--a)o=new N8(r,this.offset),this.tables.push(o),o.isUnicode&&this.unicode==null&&(this.unicode=o);return!0},i.encode=function(r,o){var a,c;return o==null&&(o="macroman"),a=N8.encode(r,o),(c=new Um).writeUInt16(0),c.writeUInt16(1),a.table=c.data.concat(a.subtable),a},i}(),see=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return pf(i,th),i.prototype.tag="hhea",i.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},i}(),aee=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return pf(i,th),i.prototype.tag="OS/2",i.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var o,a;for(a=[],o=0;o<10;++o)a.push(r.readByte());return a}(),this.charRange=function(){var o,a;for(a=[],o=0;o<4;++o)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var o,a;for(a=[],o=0;o<2;o=++o)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},i}(),lee=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return pf(i,th),i.prototype.tag="post",i.prototype.parse=function(r){var o,a,c;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var d;for(a=r.readUInt16(),this.glyphNameIndex=[],d=0;0<=a?d<a:d>a;d=0<=a?++d:--d)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],c=[];r.pos<this.offset+this.length;)o=r.readByte(),c.push(this.names.push(r.readString(o)));return c;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var p,m,k;for(k=[],d=p=0,m=this.file.maxp.numGlyphs;0<=m?p<m:p>m;d=0<=m?++p:--p)k.push(r.readUInt32());return k}).call(this)}},i}(),cee=function(t,i){this.raw=t,this.length=t.length,this.platformID=i.platformID,this.encodingID=i.encodingID,this.languageID=i.languageID},uee=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return pf(i,th),i.prototype.tag="name",i.prototype.parse=function(r){var o,a,c,d,p,m,k,w,_,C,v;for(r.pos=this.offset,r.readShort(),o=r.readShort(),m=r.readShort(),a=[],d=0;0<=o?d<o:d>o;d=0<=o?++d:--d)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+m+r.readShort()});for(k={},d=_=0,C=a.length;_<C;d=++_)c=a[d],r.pos=c.offset,w=r.readString(c.length),p=new cee(w,c),k[v=c.nameID]==null&&(k[v]=[]),k[c.nameID].push(p);this.strings=k,this.copyright=k[0],this.fontFamily=k[1],this.fontSubfamily=k[2],this.uniqueSubfamily=k[3],this.fontName=k[4],this.version=k[5];try{this.postscriptName=k[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=k[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=k[7],this.manufacturer=k[8],this.designer=k[9],this.description=k[10],this.vendorUrl=k[11],this.designerUrl=k[12],this.license=k[13],this.licenseUrl=k[14],this.preferredFamily=k[15],this.preferredSubfamily=k[17],this.compatibleFull=k[18],this.sampleText=k[19]},i}(),dee=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return pf(i,th),i.prototype.tag="maxp",i.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},i}(),hee=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return pf(i,th),i.prototype.tag="hmtx",i.prototype.parse=function(r){var o,a,c,d,p,m,k;for(r.pos=this.offset,this.metrics=[],o=0,m=this.file.hhea.numberOfMetrics;0<=m?o<m:o>m;o=0<=m?++o:--o)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(c=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var w,_;for(_=[],o=w=0;0<=c?w<c:w>c;o=0<=c?++w:--w)_.push(r.readInt16());return _}(),this.widths=(function(){var w,_,C,v;for(v=[],w=0,_=(C=this.metrics).length;w<_;w++)d=C[w],v.push(d.advance);return v}).call(this),a=this.widths[this.widths.length-1],k=[],o=p=0;0<=c?p<c:p>c;o=0<=c?++p:--p)k.push(this.widths.push(a));return k},i.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},i}(),zP=[].slice,fee=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return pf(i,th),i.prototype.tag="glyf",i.prototype.parse=function(){return this.cache={}},i.prototype.glyphFor=function(r){var o,a,c,d,p,m,k,w,_,C;return r in this.cache?this.cache[r]:(d=this.file.loca,o=this.file.contents,a=d.indexOf(r),(c=d.lengthOf(r))===0?this.cache[r]=null:(o.pos=this.offset+a,p=(m=new Um(o.read(c))).readShort(),w=m.readShort(),C=m.readShort(),k=m.readShort(),_=m.readShort(),this.cache[r]=p===-1?new mee(m,w,C,k,_):new pee(m,p,w,C,k,_),this.cache[r]))},i.prototype.encode=function(r,o,a){var c,d,p,m,k;for(p=[],d=[],m=0,k=o.length;m<k;m++)c=r[o[m]],d.push(p.length),c&&(p=p.concat(c.encode(a)));return d.push(p.length),{table:p,offsets:d}},i}(),pee=function(){function t(i,r,o,a,c,d){this.raw=i,this.numberOfContours=r,this.xMin=o,this.yMin=a,this.xMax=c,this.yMax=d,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),mee=function(){function t(i,r,o,a,c){var d,p;for(this.raw=i,this.xMin=r,this.yMin=o,this.xMax=a,this.yMax=c,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],d=this.raw;p=d.readShort(),this.glyphOffsets.push(d.pos),this.glyphIDs.push(d.readUInt16()),32&p;)d.pos+=1&p?4:2,128&p?d.pos+=8:64&p?d.pos+=4:8&p&&(d.pos+=2)}return t.prototype.encode=function(){var i,r,o;for(r=new Um(zP.call(this.raw.data)),i=0,o=this.glyphIDs.length;i<o;++i)r.pos=this.glyphOffsets[i];return r.data},t}(),gee=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return pf(i,th),i.prototype.tag="loca",i.prototype.parse=function(r){var o,a;return r.pos=this.offset,o=this.file.head.indexToLocFormat,this.offsets=o===0?(function(){var c,d;for(d=[],a=0,c=this.length;a<c;a+=2)d.push(2*r.readUInt16());return d}).call(this):(function(){var c,d;for(d=[],a=0,c=this.length;a<c;a+=4)d.push(r.readUInt32());return d}).call(this)},i.prototype.indexOf=function(r){return this.offsets[r]},i.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},i.prototype.encode=function(r,o){for(var a=new Uint32Array(this.offsets.length),c=0,d=0,p=0;p<a.length;++p)if(a[p]=c,d<o.length&&o[d]==p){++d,a[p]=c;var m=this.offsets[p],k=this.offsets[p+1]-m;k>0&&(c+=k)}for(var w=new Array(4*a.length),_=0;_<a.length;++_)w[4*_+3]=255&a[_],w[4*_+2]=(65280&a[_])>>8,w[4*_+1]=(16711680&a[_])>>16,w[4*_]=(4278190080&a[_])>>24;return w},i}(),bee=function(){function t(i){this.font=i,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var i,r,o,a,c;for(r in a=this.font.cmap.tables[0].codeMap,i={},c=this.subset)o=c[r],i[r]=a[o];return i},t.prototype.glyphsFor=function(i){var r,o,a,c,d,p,m;for(a={},d=0,p=i.length;d<p;d++)a[c=i[d]]=this.font.glyf.glyphFor(c);for(c in r=[],a)(o=a[c])!=null&&o.compound&&r.push.apply(r,o.glyphIDs);if(r.length>0)for(c in m=this.glyphsFor(r))o=m[c],a[c]=o;return a},t.prototype.encode=function(i,r){var o,a,c,d,p,m,k,w,_,C,v,D,E,O,M;for(a in o=FP.encode(this.generateCmap(),"unicode"),d=this.glyphsFor(i),v={0:0},M=o.charMap)v[(m=M[a]).old]=m.new;for(D in C=o.maxGlyphID,d)D in v||(v[D]=C++);return w=function(j){var F,G;for(F in G={},j)G[j[F]]=F;return G}(v),_=Object.keys(w).sort(function(j,F){return j-F}),E=function(){var j,F,G;for(G=[],j=0,F=_.length;j<F;j++)p=_[j],G.push(w[p]);return G}(),c=this.font.glyf.encode(d,E,v),k=this.font.loca.encode(c.offsets,E),O={cmap:this.font.cmap.raw(),glyf:c.table,loca:k,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(O["OS/2"]=this.font.os2.raw()),this.font.directory.encode(O)},t}();Rn.API.PDFObject=function(){var t;function i(){}return t=function(r,o){return(Array(o+1).join("0")+r).slice(-o)},i.convert=function(r){var o,a,c,d;if(Array.isArray(r))return"["+function(){var p,m,k;for(k=[],p=0,m=r.length;p<m;p++)o=r[p],k.push(i.convert(o));return k}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in c=["<<"],r)d=r[a],c.push("/"+a+" "+i.convert(d));return c.push(">>"),c.join(`
`)}return""+r},i}();const kee=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),wee=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(t=>t.charCodeAt(0)));var K3;const vee=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),O8=(K3=String.fromCodePoint)!==null&&K3!==void 0?K3:function(t){let i="";return t>65535&&(t-=65536,i+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),i+=String.fromCharCode(t),i};function yee(t){var i;return t>=55296&&t<=57343||t>1114111?65533:(i=vee.get(t))!==null&&i!==void 0?i:t}var ua;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(ua||(ua={}));const Aee=32;var Mm;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(Mm||(Mm={}));function e4(t){return t>=ua.ZERO&&t<=ua.NINE}function _ee(t){return t>=ua.UPPER_A&&t<=ua.UPPER_F||t>=ua.LOWER_A&&t<=ua.LOWER_F}function Cee(t){return t>=ua.UPPER_A&&t<=ua.UPPER_Z||t>=ua.LOWER_A&&t<=ua.LOWER_Z||e4(t)}function xee(t){return t===ua.EQUALS||Cee(t)}var la;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(la||(la={}));var Yh;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(Yh||(Yh={}));class See{constructor(i,r,o){this.decodeTree=i,this.emitCodePoint=r,this.errors=o,this.state=la.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Yh.Strict}startEntity(i){this.decodeMode=i,this.state=la.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(i,r){switch(this.state){case la.EntityStart:return i.charCodeAt(r)===ua.NUM?(this.state=la.NumericStart,this.consumed+=1,this.stateNumericStart(i,r+1)):(this.state=la.NamedEntity,this.stateNamedEntity(i,r));case la.NumericStart:return this.stateNumericStart(i,r);case la.NumericDecimal:return this.stateNumericDecimal(i,r);case la.NumericHex:return this.stateNumericHex(i,r);case la.NamedEntity:return this.stateNamedEntity(i,r)}}stateNumericStart(i,r){return r>=i.length?-1:(i.charCodeAt(r)|Aee)===ua.LOWER_X?(this.state=la.NumericHex,this.consumed+=1,this.stateNumericHex(i,r+1)):(this.state=la.NumericDecimal,this.stateNumericDecimal(i,r))}addToNumericResult(i,r,o,a){if(r!==o){const c=o-r;this.result=this.result*Math.pow(a,c)+Number.parseInt(i.substr(r,c),a),this.consumed+=c}}stateNumericHex(i,r){const o=r;for(;r<i.length;){const a=i.charCodeAt(r);if(e4(a)||_ee(a))r+=1;else return this.addToNumericResult(i,o,r,16),this.emitNumericEntity(a,3)}return this.addToNumericResult(i,o,r,16),-1}stateNumericDecimal(i,r){const o=r;for(;r<i.length;){const a=i.charCodeAt(r);if(e4(a))r+=1;else return this.addToNumericResult(i,o,r,10),this.emitNumericEntity(a,2)}return this.addToNumericResult(i,o,r,10),-1}emitNumericEntity(i,r){var o;if(this.consumed<=r)return(o=this.errors)===null||o===void 0||o.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(i===ua.SEMI)this.consumed+=1;else if(this.decodeMode===Yh.Strict)return 0;return this.emitCodePoint(yee(this.result),this.consumed),this.errors&&(i!==ua.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(i,r){const{decodeTree:o}=this;let a=o[this.treeIndex],c=(a&Mm.VALUE_LENGTH)>>14;for(;r<i.length;r++,this.excess++){const d=i.charCodeAt(r);if(this.treeIndex=Eee(o,a,this.treeIndex+Math.max(1,c),d),this.treeIndex<0)return this.result===0||this.decodeMode===Yh.Attribute&&(c===0||xee(d))?0:this.emitNotTerminatedNamedEntity();if(a=o[this.treeIndex],c=(a&Mm.VALUE_LENGTH)>>14,c!==0){if(d===ua.SEMI)return this.emitNamedEntityData(this.treeIndex,c,this.consumed+this.excess);this.decodeMode!==Yh.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var i;const{result:r,decodeTree:o}=this,a=(o[r]&Mm.VALUE_LENGTH)>>14;return this.emitNamedEntityData(r,a,this.consumed),(i=this.errors)===null||i===void 0||i.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(i,r,o){const{decodeTree:a}=this;return this.emitCodePoint(r===1?a[i]&~Mm.VALUE_LENGTH:a[i+1],o),r===3&&this.emitCodePoint(a[i+2],o),o}end(){var i;switch(this.state){case la.NamedEntity:return this.result!==0&&(this.decodeMode!==Yh.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case la.NumericDecimal:return this.emitNumericEntity(0,2);case la.NumericHex:return this.emitNumericEntity(0,3);case la.NumericStart:return(i=this.errors)===null||i===void 0||i.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case la.EntityStart:return 0}}}function Eee(t,i,r,o){const a=(i&Mm.BRANCH_LENGTH)>>7,c=i&Mm.JUMP_TABLE;if(a===0)return c!==0&&o===c?r:-1;if(c){const m=o-c;return m<0||m>=a?-1:t[r+m]-1}let d=r,p=d+a-1;for(;d<=p;){const m=d+p>>>1,k=t[m];if(k<o)d=m+1;else if(k>o)p=m-1;else return t[m+a]}return-1}var Bn;(function(t){t[t.Tab=9]="Tab",t[t.NewLine=10]="NewLine",t[t.FormFeed=12]="FormFeed",t[t.CarriageReturn=13]="CarriageReturn",t[t.Space=32]="Space",t[t.ExclamationMark=33]="ExclamationMark",t[t.Number=35]="Number",t[t.Amp=38]="Amp",t[t.SingleQuote=39]="SingleQuote",t[t.DoubleQuote=34]="DoubleQuote",t[t.Dash=45]="Dash",t[t.Slash=47]="Slash",t[t.Zero=48]="Zero",t[t.Nine=57]="Nine",t[t.Semi=59]="Semi",t[t.Lt=60]="Lt",t[t.Eq=61]="Eq",t[t.Gt=62]="Gt",t[t.Questionmark=63]="Questionmark",t[t.UpperA=65]="UpperA",t[t.LowerA=97]="LowerA",t[t.UpperF=70]="UpperF",t[t.LowerF=102]="LowerF",t[t.UpperZ=90]="UpperZ",t[t.LowerZ=122]="LowerZ",t[t.LowerX=120]="LowerX",t[t.OpeningSquareBracket=91]="OpeningSquareBracket"})(Bn||(Bn={}));var Yt;(function(t){t[t.Text=1]="Text",t[t.BeforeTagName=2]="BeforeTagName",t[t.InTagName=3]="InTagName",t[t.InSelfClosingTag=4]="InSelfClosingTag",t[t.BeforeClosingTagName=5]="BeforeClosingTagName",t[t.InClosingTagName=6]="InClosingTagName",t[t.AfterClosingTagName=7]="AfterClosingTagName",t[t.BeforeAttributeName=8]="BeforeAttributeName",t[t.InAttributeName=9]="InAttributeName",t[t.AfterAttributeName=10]="AfterAttributeName",t[t.BeforeAttributeValue=11]="BeforeAttributeValue",t[t.InAttributeValueDq=12]="InAttributeValueDq",t[t.InAttributeValueSq=13]="InAttributeValueSq",t[t.InAttributeValueNq=14]="InAttributeValueNq",t[t.BeforeDeclaration=15]="BeforeDeclaration",t[t.InDeclaration=16]="InDeclaration",t[t.InProcessingInstruction=17]="InProcessingInstruction",t[t.BeforeComment=18]="BeforeComment",t[t.CDATASequence=19]="CDATASequence",t[t.InSpecialComment=20]="InSpecialComment",t[t.InCommentLike=21]="InCommentLike",t[t.BeforeSpecialS=22]="BeforeSpecialS",t[t.BeforeSpecialT=23]="BeforeSpecialT",t[t.SpecialStartSequence=24]="SpecialStartSequence",t[t.InSpecialTag=25]="InSpecialTag",t[t.InEntity=26]="InEntity"})(Yt||(Yt={}));function Jf(t){return t===Bn.Space||t===Bn.NewLine||t===Bn.Tab||t===Bn.FormFeed||t===Bn.CarriageReturn}function YC(t){return t===Bn.Slash||t===Bn.Gt||Jf(t)}function Dee(t){return t>=Bn.LowerA&&t<=Bn.LowerZ||t>=Bn.UpperA&&t<=Bn.UpperZ}var Kh;(function(t){t[t.NoValue=0]="NoValue",t[t.Unquoted=1]="Unquoted",t[t.Single=2]="Single",t[t.Double=3]="Double"})(Kh||(Kh={}));const Es={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97]),XmpEnd:new Uint8Array([60,47,120,109,112])};class Iee{constructor({xmlMode:i=!1,decodeEntities:r=!0},o){this.cbs=o,this.state=Yt.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=Yt.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=i,this.decodeEntities=r,this.entityDecoder=new See(i?wee:kee,(a,c)=>this.emitCodePoint(a,c))}reset(){this.state=Yt.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=Yt.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(i){this.offset+=this.buffer.length,this.buffer=i,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(i){i===Bn.Lt||!this.decodeEntities&&this.fastForwardTo(Bn.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=Yt.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&i===Bn.Amp&&this.startEntity()}stateSpecialStartSequence(i){const r=this.sequenceIndex===this.currentSequence.length;if(!(r?YC(i):(i|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!r){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=Yt.InTagName,this.stateInTagName(i)}stateInSpecialTag(i){if(this.sequenceIndex===this.currentSequence.length){if(i===Bn.Gt||Jf(i)){const r=this.index-this.currentSequence.length;if(this.sectionStart<r){const o=this.index;this.index=r,this.cbs.ontext(this.sectionStart,r),this.index=o}this.isSpecial=!1,this.sectionStart=r+2,this.stateInClosingTagName(i);return}this.sequenceIndex=0}(i|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===Es.TitleEnd?this.decodeEntities&&i===Bn.Amp&&this.startEntity():this.fastForwardTo(Bn.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(i===Bn.Lt)}stateCDATASequence(i){i===Es.Cdata[this.sequenceIndex]?++this.sequenceIndex===Es.Cdata.length&&(this.state=Yt.InCommentLike,this.currentSequence=Es.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=Yt.InDeclaration,this.stateInDeclaration(i))}fastForwardTo(i){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===i)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(i){i===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Es.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=Yt.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):i!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(i){return this.xmlMode?!YC(i):Dee(i)}startSpecial(i,r){this.isSpecial=!0,this.currentSequence=i,this.sequenceIndex=r,this.state=Yt.SpecialStartSequence}stateBeforeTagName(i){if(i===Bn.ExclamationMark)this.state=Yt.BeforeDeclaration,this.sectionStart=this.index+1;else if(i===Bn.Questionmark)this.state=Yt.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(i)){const r=i|32;this.sectionStart=this.index,this.xmlMode?this.state=Yt.InTagName:r===Es.ScriptEnd[2]?this.state=Yt.BeforeSpecialS:r===Es.TitleEnd[2]||r===Es.XmpEnd[2]?this.state=Yt.BeforeSpecialT:this.state=Yt.InTagName}else i===Bn.Slash?this.state=Yt.BeforeClosingTagName:(this.state=Yt.Text,this.stateText(i))}stateInTagName(i){YC(i)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=Yt.BeforeAttributeName,this.stateBeforeAttributeName(i))}stateBeforeClosingTagName(i){Jf(i)||(i===Bn.Gt?this.state=Yt.Text:(this.state=this.isTagStartChar(i)?Yt.InClosingTagName:Yt.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(i){(i===Bn.Gt||Jf(i))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=Yt.AfterClosingTagName,this.stateAfterClosingTagName(i))}stateAfterClosingTagName(i){(i===Bn.Gt||this.fastForwardTo(Bn.Gt))&&(this.state=Yt.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(i){i===Bn.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=Yt.InSpecialTag,this.sequenceIndex=0):this.state=Yt.Text,this.sectionStart=this.index+1):i===Bn.Slash?this.state=Yt.InSelfClosingTag:Jf(i)||(this.state=Yt.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(i){i===Bn.Gt?(this.cbs.onselfclosingtag(this.index),this.state=Yt.Text,this.sectionStart=this.index+1,this.isSpecial=!1):Jf(i)||(this.state=Yt.BeforeAttributeName,this.stateBeforeAttributeName(i))}stateInAttributeName(i){(i===Bn.Eq||YC(i))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=Yt.AfterAttributeName,this.stateAfterAttributeName(i))}stateAfterAttributeName(i){i===Bn.Eq?this.state=Yt.BeforeAttributeValue:i===Bn.Slash||i===Bn.Gt?(this.cbs.onattribend(Kh.NoValue,this.sectionStart),this.sectionStart=-1,this.state=Yt.BeforeAttributeName,this.stateBeforeAttributeName(i)):Jf(i)||(this.cbs.onattribend(Kh.NoValue,this.sectionStart),this.state=Yt.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(i){i===Bn.DoubleQuote?(this.state=Yt.InAttributeValueDq,this.sectionStart=this.index+1):i===Bn.SingleQuote?(this.state=Yt.InAttributeValueSq,this.sectionStart=this.index+1):Jf(i)||(this.sectionStart=this.index,this.state=Yt.InAttributeValueNq,this.stateInAttributeValueNoQuotes(i))}handleInAttributeValue(i,r){i===r||!this.decodeEntities&&this.fastForwardTo(r)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(r===Bn.DoubleQuote?Kh.Double:Kh.Single,this.index+1),this.state=Yt.BeforeAttributeName):this.decodeEntities&&i===Bn.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(i){this.handleInAttributeValue(i,Bn.DoubleQuote)}stateInAttributeValueSingleQuotes(i){this.handleInAttributeValue(i,Bn.SingleQuote)}stateInAttributeValueNoQuotes(i){Jf(i)||i===Bn.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(Kh.Unquoted,this.index),this.state=Yt.BeforeAttributeName,this.stateBeforeAttributeName(i)):this.decodeEntities&&i===Bn.Amp&&this.startEntity()}stateBeforeDeclaration(i){i===Bn.OpeningSquareBracket?(this.state=Yt.CDATASequence,this.sequenceIndex=0):this.state=i===Bn.Dash?Yt.BeforeComment:Yt.InDeclaration}stateInDeclaration(i){(i===Bn.Gt||this.fastForwardTo(Bn.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=Yt.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(i){(i===Bn.Gt||this.fastForwardTo(Bn.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=Yt.Text,this.sectionStart=this.index+1)}stateBeforeComment(i){i===Bn.Dash?(this.state=Yt.InCommentLike,this.currentSequence=Es.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=Yt.InDeclaration}stateInSpecialComment(i){(i===Bn.Gt||this.fastForwardTo(Bn.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=Yt.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(i){const r=i|32;r===Es.ScriptEnd[3]?this.startSpecial(Es.ScriptEnd,4):r===Es.StyleEnd[3]?this.startSpecial(Es.StyleEnd,4):(this.state=Yt.InTagName,this.stateInTagName(i))}stateBeforeSpecialT(i){switch(i|32){case Es.TitleEnd[3]:{this.startSpecial(Es.TitleEnd,4);break}case Es.TextareaEnd[3]:{this.startSpecial(Es.TextareaEnd,4);break}case Es.XmpEnd[3]:{this.startSpecial(Es.XmpEnd,4);break}default:this.state=Yt.InTagName,this.stateInTagName(i)}}startEntity(){this.baseState=this.state,this.state=Yt.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?Yh.Strict:this.baseState===Yt.Text||this.baseState===Yt.InSpecialTag?Yh.Legacy:Yh.Attribute)}stateInEntity(){const i=this.entityDecoder.write(this.buffer,this.index-this.offset);i>=0?(this.state=this.baseState,i===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===Yt.Text||this.state===Yt.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===Yt.InAttributeValueDq||this.state===Yt.InAttributeValueSq||this.state===Yt.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const i=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case Yt.Text:{this.stateText(i);break}case Yt.SpecialStartSequence:{this.stateSpecialStartSequence(i);break}case Yt.InSpecialTag:{this.stateInSpecialTag(i);break}case Yt.CDATASequence:{this.stateCDATASequence(i);break}case Yt.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(i);break}case Yt.InAttributeName:{this.stateInAttributeName(i);break}case Yt.InCommentLike:{this.stateInCommentLike(i);break}case Yt.InSpecialComment:{this.stateInSpecialComment(i);break}case Yt.BeforeAttributeName:{this.stateBeforeAttributeName(i);break}case Yt.InTagName:{this.stateInTagName(i);break}case Yt.InClosingTagName:{this.stateInClosingTagName(i);break}case Yt.BeforeTagName:{this.stateBeforeTagName(i);break}case Yt.AfterAttributeName:{this.stateAfterAttributeName(i);break}case Yt.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(i);break}case Yt.BeforeAttributeValue:{this.stateBeforeAttributeValue(i);break}case Yt.BeforeClosingTagName:{this.stateBeforeClosingTagName(i);break}case Yt.AfterClosingTagName:{this.stateAfterClosingTagName(i);break}case Yt.BeforeSpecialS:{this.stateBeforeSpecialS(i);break}case Yt.BeforeSpecialT:{this.stateBeforeSpecialT(i);break}case Yt.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(i);break}case Yt.InSelfClosingTag:{this.stateInSelfClosingTag(i);break}case Yt.InDeclaration:{this.stateInDeclaration(i);break}case Yt.BeforeDeclaration:{this.stateBeforeDeclaration(i);break}case Yt.BeforeComment:{this.stateBeforeComment(i);break}case Yt.InProcessingInstruction:{this.stateInProcessingInstruction(i);break}case Yt.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===Yt.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const i=this.buffer.length+this.offset;this.sectionStart>=i||(this.state===Yt.InCommentLike?this.currentSequence===Es.CdataEnd?this.cbs.oncdata(this.sectionStart,i,0):this.cbs.oncomment(this.sectionStart,i,0):this.state===Yt.InTagName||this.state===Yt.BeforeAttributeName||this.state===Yt.BeforeAttributeValue||this.state===Yt.AfterAttributeName||this.state===Yt.InAttributeName||this.state===Yt.InAttributeValueSq||this.state===Yt.InAttributeValueDq||this.state===Yt.InAttributeValueNq||this.state===Yt.InClosingTagName||this.cbs.ontext(this.sectionStart,i))}emitCodePoint(i,r){this.baseState!==Yt.Text&&this.baseState!==Yt.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+r,this.index=this.sectionStart-1,this.cbs.onattribentity(i)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+r,this.index=this.sectionStart-1,this.cbs.ontextentity(i,this.sectionStart))}}const B0=new Set(["input","option","optgroup","select","button","datalist","textarea"]),Ti=new Set(["p"]),B8=new Set(["thead","tbody"]),j8=new Set(["dd","dt"]),L8=new Set(["rt","rp"]),Tee=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",Ti],["h1",Ti],["h2",Ti],["h3",Ti],["h4",Ti],["h5",Ti],["h6",Ti],["select",B0],["input",B0],["output",B0],["button",B0],["datalist",B0],["textarea",B0],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",j8],["dt",j8],["address",Ti],["article",Ti],["aside",Ti],["blockquote",Ti],["details",Ti],["div",Ti],["dl",Ti],["fieldset",Ti],["figcaption",Ti],["figure",Ti],["footer",Ti],["form",Ti],["header",Ti],["hr",Ti],["main",Ti],["nav",Ti],["ol",Ti],["pre",Ti],["section",Ti],["table",Ti],["ul",Ti],["rt",L8],["rp",L8],["tbody",B8],["tfoot",B8]]),Mee=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),P8=new Set(["math","svg"]),R8=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),Nee=/\s|\//;class Oee{constructor(i,r={}){var o,a,c,d,p,m;this.options=r,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=i??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(o=r.lowerCaseTags)!==null&&o!==void 0?o:this.htmlMode,this.lowerCaseAttributeNames=(a=r.lowerCaseAttributeNames)!==null&&a!==void 0?a:this.htmlMode,this.recognizeSelfClosing=(c=r.recognizeSelfClosing)!==null&&c!==void 0?c:!this.htmlMode,this.tokenizer=new((d=r.Tokenizer)!==null&&d!==void 0?d:Iee)(this.options,this),this.foreignContext=[!this.htmlMode],(m=(p=this.cbs).onparserinit)===null||m===void 0||m.call(p,this)}ontext(i,r){var o,a;const c=this.getSlice(i,r);this.endIndex=r-1,(a=(o=this.cbs).ontext)===null||a===void 0||a.call(o,c),this.startIndex=r}ontextentity(i,r){var o,a;this.endIndex=r-1,(a=(o=this.cbs).ontext)===null||a===void 0||a.call(o,O8(i)),this.startIndex=r}isVoidElement(i){return this.htmlMode&&Mee.has(i)}onopentagname(i,r){this.endIndex=r;let o=this.getSlice(i,r);this.lowerCaseTagNames&&(o=o.toLowerCase()),this.emitOpenTag(o)}emitOpenTag(i){var r,o,a,c;this.openTagStart=this.startIndex,this.tagname=i;const d=this.htmlMode&&Tee.get(i);if(d)for(;this.stack.length>0&&d.has(this.stack[0]);){const p=this.stack.shift();(o=(r=this.cbs).onclosetag)===null||o===void 0||o.call(r,p,!0)}this.isVoidElement(i)||(this.stack.unshift(i),this.htmlMode&&(P8.has(i)?this.foreignContext.unshift(!0):R8.has(i)&&this.foreignContext.unshift(!1))),(c=(a=this.cbs).onopentagname)===null||c===void 0||c.call(a,i),this.cbs.onopentag&&(this.attribs={})}endOpenTag(i){var r,o;this.startIndex=this.openTagStart,this.attribs&&((o=(r=this.cbs).onopentag)===null||o===void 0||o.call(r,this.tagname,this.attribs,i),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(i){this.endIndex=i,this.endOpenTag(!1),this.startIndex=i+1}onclosetag(i,r){var o,a,c,d,p,m,k,w;this.endIndex=r;let _=this.getSlice(i,r);if(this.lowerCaseTagNames&&(_=_.toLowerCase()),this.htmlMode&&(P8.has(_)||R8.has(_))&&this.foreignContext.shift(),this.isVoidElement(_))this.htmlMode&&_==="br"&&((d=(c=this.cbs).onopentagname)===null||d===void 0||d.call(c,"br"),(m=(p=this.cbs).onopentag)===null||m===void 0||m.call(p,"br",{},!0),(w=(k=this.cbs).onclosetag)===null||w===void 0||w.call(k,"br",!1));else{const C=this.stack.indexOf(_);if(C!==-1)for(let v=0;v<=C;v++){const D=this.stack.shift();(a=(o=this.cbs).onclosetag)===null||a===void 0||a.call(o,D,v!==C)}else this.htmlMode&&_==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=r+1}onselfclosingtag(i){this.endIndex=i,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=i+1):this.onopentagend(i)}closeCurrentTag(i){var r,o;const a=this.tagname;this.endOpenTag(i),this.stack[0]===a&&((o=(r=this.cbs).onclosetag)===null||o===void 0||o.call(r,a,!i),this.stack.shift())}onattribname(i,r){this.startIndex=i;const o=this.getSlice(i,r);this.attribname=this.lowerCaseAttributeNames?o.toLowerCase():o}onattribdata(i,r){this.attribvalue+=this.getSlice(i,r)}onattribentity(i){this.attribvalue+=O8(i)}onattribend(i,r){var o,a;this.endIndex=r,(a=(o=this.cbs).onattribute)===null||a===void 0||a.call(o,this.attribname,this.attribvalue,i===Kh.Double?'"':i===Kh.Single?"'":i===Kh.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(i){const r=i.search(Nee);let o=r<0?i:i.substr(0,r);return this.lowerCaseTagNames&&(o=o.toLowerCase()),o}ondeclaration(i,r){this.endIndex=r;const o=this.getSlice(i,r);if(this.cbs.onprocessinginstruction){const a=this.getInstructionName(o);this.cbs.onprocessinginstruction(`!${a}`,`!${o}`)}this.startIndex=r+1}onprocessinginstruction(i,r){this.endIndex=r;const o=this.getSlice(i,r);if(this.cbs.onprocessinginstruction){const a=this.getInstructionName(o);this.cbs.onprocessinginstruction(`?${a}`,`?${o}`)}this.startIndex=r+1}oncomment(i,r,o){var a,c,d,p;this.endIndex=r,(c=(a=this.cbs).oncomment)===null||c===void 0||c.call(a,this.getSlice(i,r-o)),(p=(d=this.cbs).oncommentend)===null||p===void 0||p.call(d),this.startIndex=r+1}oncdata(i,r,o){var a,c,d,p,m,k,w,_,C,v;this.endIndex=r;const D=this.getSlice(i,r-o);!this.htmlMode||this.options.recognizeCDATA?((c=(a=this.cbs).oncdatastart)===null||c===void 0||c.call(a),(p=(d=this.cbs).ontext)===null||p===void 0||p.call(d,D),(k=(m=this.cbs).oncdataend)===null||k===void 0||k.call(m)):((_=(w=this.cbs).oncomment)===null||_===void 0||_.call(w,`[CDATA[${D}]]`),(v=(C=this.cbs).oncommentend)===null||v===void 0||v.call(C)),this.startIndex=r+1}onend(){var i,r;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let o=0;o<this.stack.length;o++)this.cbs.onclosetag(this.stack[o],!0)}(r=(i=this.cbs).onend)===null||r===void 0||r.call(i)}reset(){var i,r,o,a;(r=(i=this.cbs).onreset)===null||r===void 0||r.call(i),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(a=(o=this.cbs).onparserinit)===null||a===void 0||a.call(o,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(i){this.reset(),this.end(i)}getSlice(i,r){for(;i-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let o=this.buffers[0].slice(i-this.bufferOffset,r-this.bufferOffset);for(;r-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),o+=this.buffers[0].slice(0,r-this.bufferOffset);return o}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(i){var r,o;if(this.ended){(o=(r=this.cbs).onerror)===null||o===void 0||o.call(r,new Error(".write() after done!"));return}this.buffers.push(i),this.tokenizer.running&&(this.tokenizer.write(i),this.writeIndex++)}end(i){var r,o;if(this.ended){(o=(r=this.cbs).onerror)===null||o===void 0||o.call(r,new Error(".end() after done!"));return}i&&this.write(i),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(i){this.write(i)}done(i){this.end(i)}}var bi;(function(t){t.Root="root",t.Text="text",t.Directive="directive",t.Comment="comment",t.Script="script",t.Style="style",t.Tag="tag",t.CDATA="cdata",t.Doctype="doctype"})(bi||(bi={}));function px(t){return t.type===bi.Tag||t.type===bi.Script||t.type===bi.Style}bi.Root;bi.Text;bi.Directive;bi.Comment;bi.Script;bi.Style;bi.Tag;bi.CDATA;bi.Doctype;let UP=class{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(i){this.parent=i}get previousSibling(){return this.prev}set previousSibling(i){this.prev=i}get nextSibling(){return this.next}set nextSibling(i){this.next=i}cloneNode(i=!1){return KP(this,i)}};class dD extends UP{constructor(i){super(),this.data=i}get nodeValue(){return this.data}set nodeValue(i){this.data=i}}class t4 extends dD{constructor(){super(...arguments),this.type=bi.Text}get nodeType(){return 3}}class qP extends dD{constructor(){super(...arguments),this.type=bi.Comment}get nodeType(){return 8}}class VP extends dD{constructor(i,r){super(r),this.name=i,this.type=bi.Directive}get nodeType(){return 1}}class hD extends UP{constructor(i){super(),this.children=i}get firstChild(){var i;return(i=this.children[0])!==null&&i!==void 0?i:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(i){this.children=i}}class HP extends hD{constructor(){super(...arguments),this.type=bi.CDATA}get nodeType(){return 4}}class n4 extends hD{constructor(){super(...arguments),this.type=bi.Root}get nodeType(){return 9}}let $P=class extends hD{constructor(i,r,o=[],a=i==="script"?bi.Script:i==="style"?bi.Style:bi.Tag){super(o),this.name=i,this.attribs=r,this.type=a}get nodeType(){return 1}get tagName(){return this.name}set tagName(i){this.name=i}get attributes(){return Object.keys(this.attribs).map(i=>{var r,o;return{name:i,value:this.attribs[i],namespace:(r=this["x-attribsNamespace"])===null||r===void 0?void 0:r[i],prefix:(o=this["x-attribsPrefix"])===null||o===void 0?void 0:o[i]}})}};function WP(t){return px(t)}function GP(t){return t.type===bi.CDATA}function YP(t){return t.type===bi.Text}function Bee(t){return t.type===bi.Comment}function jee(t){return t.type===bi.Directive}function Lee(t){return t.type===bi.Root}function KP(t,i=!1){let r;if(YP(t))r=new t4(t.data);else if(Bee(t))r=new qP(t.data);else if(WP(t)){const o=i?Q3(t.children):[],a=new $P(t.name,{...t.attribs},o);o.forEach(c=>c.parent=a),t.namespace!=null&&(a.namespace=t.namespace),t["x-attribsNamespace"]&&(a["x-attribsNamespace"]={...t["x-attribsNamespace"]}),t["x-attribsPrefix"]&&(a["x-attribsPrefix"]={...t["x-attribsPrefix"]}),r=a}else if(GP(t)){const o=i?Q3(t.children):[],a=new HP(o);o.forEach(c=>c.parent=a),r=a}else if(Lee(t)){const o=i?Q3(t.children):[],a=new n4(o);o.forEach(c=>c.parent=a),t["x-mode"]&&(a["x-mode"]=t["x-mode"]),r=a}else if(jee(t)){const o=new VP(t.name,t.data);t["x-name"]!=null&&(o["x-name"]=t["x-name"],o["x-publicId"]=t["x-publicId"],o["x-systemId"]=t["x-systemId"]),r=o}else throw new Error(`Not implemented yet: ${t.type}`);return r.startIndex=t.startIndex,r.endIndex=t.endIndex,t.sourceCodeLocation!=null&&(r.sourceCodeLocation=t.sourceCodeLocation),r}function Q3(t){const i=t.map(r=>KP(r,!0));for(let r=1;r<i.length;r++)i[r].prev=i[r-1],i[r-1].next=i[r];return i}const F8={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class Pee{constructor(i,r,o){this.dom=[],this.root=new n4(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof r=="function"&&(o=r,r=F8),typeof i=="object"&&(r=i,i=void 0),this.callback=i??null,this.options=r??F8,this.elementCB=o??null}onparserinit(i){this.parser=i}onreset(){this.dom=[],this.root=new n4(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(i){this.handleCallback(i)}onclosetag(){this.lastNode=null;const i=this.tagStack.pop();this.options.withEndIndices&&(i.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(i)}onopentag(i,r){const o=this.options.xmlMode?bi.Tag:void 0,a=new $P(i,r,void 0,o);this.addNode(a),this.tagStack.push(a)}ontext(i){const{lastNode:r}=this;if(r&&r.type===bi.Text)r.data+=i,this.options.withEndIndices&&(r.endIndex=this.parser.endIndex);else{const o=new t4(i);this.addNode(o),this.lastNode=o}}oncomment(i){if(this.lastNode&&this.lastNode.type===bi.Comment){this.lastNode.data+=i;return}const r=new qP(i);this.addNode(r),this.lastNode=r}oncommentend(){this.lastNode=null}oncdatastart(){const i=new t4(""),r=new HP([i]);this.addNode(r),i.parent=r,this.lastNode=i}oncdataend(){this.lastNode=null}onprocessinginstruction(i,r){const o=new VP(i,r);this.addNode(o)}handleCallback(i){if(typeof this.callback=="function")this.callback(i,this.dom);else if(i)throw i}addNode(i){const r=this.tagStack[this.tagStack.length-1],o=r.children[r.children.length-1];this.options.withStartIndices&&(i.startIndex=this.parser.startIndex),this.options.withEndIndices&&(i.endIndex=this.parser.endIndex),r.children.push(i),o&&(i.prev=o,o.next=i),i.parent=r,this.lastNode=null}}function ep(t){return Array.isArray(t)?t.map(ep).join(""):WP(t)?t.name==="br"?`
`:ep(t.children):GP(t)?ep(t.children):YP(t)?t.data:""}function Ree(t,i){const r=new Pee(void 0,i);return new Oee(r,i).end(t),r.root}const Fee=async(t,i)=>{var v,D,E,O,M,j,F,G;if(!t)return;const r=new Rn("p","mm","a4",!0);let o=10;const a=297,c=J=>{o+J*6>a-20&&(r.addPage(),o=10)},d=t.sections.length+t.sections.reduce((J,H)=>J+H.subsections.length,0)+t.sections.reduce((J,H)=>J+H.subsections.reduce((z,Z)=>z+Z.subSubsections.length,0),0)+t.sections.reduce((J,H)=>{var z;return J+(((z=H.images)==null?void 0:z.length)||0)+H.subsections.reduce((Z,Y)=>{var se;return Z+(((se=Y.images)==null?void 0:se.length)||0)+Y.subSubsections.reduce((X,K)=>{var U;return X+(((U=K.images)==null?void 0:U.length)||0)},0)},0)},0);let p=0;const m=()=>{p+=1,i(Math.round(p/d*100))},k=async(J,H=150,z=150)=>new Promise(Z=>{const Y=new Image;Y.crossOrigin="anonymous",Y.src=J.url,Y.onload=()=>{const se=Y.width/Y.height;let X=H,K=z;se>1?K=H/se:X=z*se,c(K+15);const U=(210-X)/2;if(r.addImage(Y,"JPEG",U,o,X,K),o+=K+5,J.title){r.setFont("helvetica","italic"),r.setFontSize(10);const fe=(210-r.getTextWidth(J.title))/2;r.text(J.title,fe,o),r.setFont("helvetica","normal"),o+=6}m(),Z()},Y.onerror=()=>{console.warn(`Image failed to load: ${J.url}`),m(),Z()}}),w=(J,H=10,z=12)=>{var se;const Z=Ree(J),Y=(X,K=0,U=!1)=>{var q,fe,ue,de,ge,Ie,ce;if(X){if(px(X)){const Te=X,re=Te.name.toLowerCase();switch(re){case"p":o+=6,(q=Te.children)==null||q.forEach(te=>Y(te,K)),o+=6;break;case"br":o+=6;break;case"strong":case"b":case"i":case"em":r.setFont("helvetica",re==="strong"||re==="b"?"bold":"italic"),(fe=Te.children)==null||fe.forEach(te=>Y(te,K)),r.setFont("helvetica","normal");break;case"ul":case"ol":o+=4,(ue=Te.children)==null||ue.forEach(te=>Y(te,K+1,!0));break;case"li":{const te=K===1?"-":"--";let ke="";(de=Te.children)==null||de.forEach(be=>{if(px(be)){const ve=be;ve.name==="strong"||ve.name==="b"?(r.setFont("helvetica","bold"),ke+=` ${ep(ve)}`,r.setFont("helvetica","normal")):ve.name!=="ul"&&ve.name!=="ol"&&(ke+=` ${ep(ve)}`)}else be.type==="text"&&"data"in be&&(ke+=` ${be.data.trim()}`)}),ke=ke.trim(),ke&&(K===0?_(`${te} ${ke}`,H,z+2,!0):_(`${te} ${ke}`,H+K*8,z),o+=6),(ge=Te.children)==null||ge.forEach(be=>{if(px(be)){const ve=be;["ul","ol"].includes(ve.name)&&Y(ve,K+1,!0)}});break}case"a":(Ie=Te.attribs)!=null&&Ie.href&&C(ep(Te),Te.attribs.href);break;case"h1":_(ep(Te),H,20,!0),o+=8;break;case"h2":_(ep(Te),H,18,!0),o+=8;break;case"h3":_(ep(Te),H,16,!0),o+=6;break;default:(ce=Te.children)==null||ce.forEach(te=>Y(te,K))}}else if(X.type==="text"&&"data"in X){const Te=X.data.trim();Te&&_(Te,H+K*8,z)}}};(se=Z.children)==null||se.forEach(X=>Y(X))},_=(J,H,z=12,Z=!1,Y=[0,0,0],se=!1,X=200)=>{if(!J)return;r.setFontSize(z),r.setTextColor(Y[0],Y[1],Y[2]),r.setFont("helvetica",Z?se?"bolditalic":"bold":se?"italic":"normal"),r.splitTextToSize(J,X-H).forEach(U=>{c(1),r.text(U,H,o),o+=6})},C=(J,H)=>{c(1),r.setTextColor(10,104,71),r.textWithLink(J,10,o,{url:H}),o+=6};(v=t.header)!=null&&v.content&&(_("Header:",10,12,!0),w(t.header.content),o+=5),t.title&&(_(t.title,10,18,!0,[10,104,71]),o+=5);for(const J of t.sections){if(_(J.title,10,16,!0),w(J.content),(D=J.images)!=null&&D.length)for(const H of J.images)await k(H);m();for(const H of J.subsections){if(_(H.title,12,14,!0),w(H.content,12),(E=H.images)!=null&&E.length)for(const z of H.images)await k(z);m();for(const z of H.subSubsections){if(_(z.title,14,12,!0),w(z.content,14),(O=z.images)!=null&&O.length)for(const Z of z.images)await k(Z);m(),(M=z.links)!=null&&M.length&&(_("Links:",14,12,!0),z.links.forEach(Z=>C(Z.title,Z.url)))}(j=H.links)!=null&&j.length&&(_("Links:",12,12,!0),H.links.forEach(z=>C(z.title,z.url)))}(F=J.links)!=null&&F.length&&(_("Links:",10,12,!0),J.links.forEach(H=>C(H.title,H.url))),o+=5}(G=t.footer)!=null&&G.content&&(_("Footer:",10,12,!0),w(t.footer.content)),r.save(`${t.title||"Material"}.pdf`),i(100)},zee=()=>{var j,F,G,J,H,z,Z,Y,se,X,K,U,q,fe,ue,de,ge,Ie,ce,Te,re,te,ke,be,ve,Re,Oe,Ue,Ze,Ge,ft,gt,oe,Le,we,Ee,Ae,Ne,Ke,Xe,ze,dt;const{id:t}=V4(),[i,r]=Jy(),o=Rr(),[a,c]=ae.useState(null),[d,p]=ae.useState({sectionIndex:0}),[m,k]=ae.useState(null),[w,_]=ae.useState(0);jL((a==null?void 0:a.sections)||[],d.sectionIndex||0,!!a),ae.useEffect(()=>{_(wt=>wt+1)},[d]);const C=async()=>{if(a!=null&&a.originalFile)try{console.log(" Starting original file download:",a.originalFile.name);const wt=document.createElement("a");wt.href=a.originalFile.url,wt.download=a.originalFile.name,wt.target="_blank",document.body.appendChild(wt),wt.click(),document.body.removeChild(wt),console.log(" Original file download initiated")}catch(wt){console.error(" Original file download failed:",wt)}};ae.useEffect(()=>{t&&(async()=>{var He,at,kt;const ot=Wn(o,"materials",t),pt=await ll(ot);if(pt.exists()){const Gt={id:pt.id,...pt.data()};console.log("Loaded material from database:",{title:Gt.title,sectionsCount:((He=Gt.sections)==null?void 0:He.length)||0,sectionsWithImages:((at=Gt.sections)==null?void 0:at.filter(yt=>{var jn;return((jn=yt.images)==null?void 0:jn.length)>0}).length)||0,allImages:(kt=Gt.sections)==null?void 0:kt.flatMap(yt=>yt.images||[]).map(yt=>({url:yt.url.substring(0,100)+"...",title:yt.title}))}),c(Gt)}})()},[t,o]),ae.useEffect(()=>{t&&i.get("material")!==t?(console.log(" Updating URL: Adding material ID to query parameters:",t),r(wt=>{const ot=new URLSearchParams(wt);return ot.set("material",t),ot},{replace:!0})):console.log("Material ID already in URL:",i.get("material"))},[t,i,r]);const v=(wt,ot,pt)=>{p({sectionIndex:typeof wt=="number"?wt:void 0,subsectionIndex:ot,subSubsectionIndex:pt,type:typeof wt=="string"?wt:void 0})},D=wt=>{var kt,Gt,yt,jn,on,kr,xn,In,Fn,Gn,ei,tr,wr,mr,vr,fn,nr,Jo,ki,Xo,es,hn,xr,rr,wi,Mr,$r;const{sectionIndex:ot,subsectionIndex:pt,subSubsectionIndex:He,type:at}=d;if(wt==="prev")if(He!==void 0&&He>0)p({sectionIndex:ot,subsectionIndex:pt,subSubsectionIndex:He-1});else if(He!==void 0&&He===0)p({sectionIndex:ot,subsectionIndex:pt});else if(pt!==void 0&&pt>0)p({sectionIndex:ot,subsectionIndex:pt-1});else if(pt!==void 0&&pt===0)p({sectionIndex:ot});else if(ot>0){const di=a==null?void 0:a.sections[ot-1];p({sectionIndex:ot-1,subsectionIndex:(kt=di==null?void 0:di.subsections)!=null&&kt.length?di.subsections.length-1:void 0,subSubsectionIndex:(Gt=di==null?void 0:di.subsections)!=null&&Gt.length?((jn=(yt=di.subsections[di.subsections.length-1])==null?void 0:yt.subSubsections)==null?void 0:jn.length)-1:void 0})}else at==="footer"?p({sectionIndex:((a==null?void 0:a.sections.length)??1)-1,type:"footer"}):ot===void 0&&at==="header"&&p({sectionIndex:((a==null?void 0:a.sections.length)??1)-1});else wt==="next"&&(He===void 0&&pt!==void 0&&((In=(xn=(kr=(on=a==null?void 0:a.sections[ot??0])==null?void 0:on.subsections)==null?void 0:kr[pt])==null?void 0:xn.subSubsections)!=null&&In.length)?p({sectionIndex:ot,subsectionIndex:pt,subSubsectionIndex:0}):He!==void 0&&He<(((tr=(ei=(Gn=(Fn=a==null?void 0:a.sections[ot??0])==null?void 0:Fn.subsections)==null?void 0:Gn[pt??0])==null?void 0:ei.subSubsections)==null?void 0:tr.length)??1)-1?p({sectionIndex:ot,subsectionIndex:pt,subSubsectionIndex:He+1}):He!==void 0&&He===(((fn=(vr=(mr=(wr=a==null?void 0:a.sections[ot??0])==null?void 0:wr.subsections)==null?void 0:mr[pt??0])==null?void 0:vr.subSubsections)==null?void 0:fn.length)??1)-1&&(pt??0)<(((Jo=(nr=a==null?void 0:a.sections[ot??0])==null?void 0:nr.subsections)==null?void 0:Jo.length)??1)-1?p({sectionIndex:ot,subsectionIndex:(pt??0)+1}):pt===void 0&&((Xo=(ki=a==null?void 0:a.sections[ot??0])==null?void 0:ki.subsections)!=null&&Xo.length)?p({sectionIndex:ot,subsectionIndex:0}):pt!==void 0&&pt<(((hn=(es=a==null?void 0:a.sections[ot??0])==null?void 0:es.subsections)==null?void 0:hn.length)??1)-1?p({sectionIndex:ot,subsectionIndex:pt+1}):pt!==void 0&&pt===(((rr=(xr=a==null?void 0:a.sections[ot??0])==null?void 0:xr.subsections)==null?void 0:rr.length)??1)-1&&(ot??0)<(((wi=a==null?void 0:a.sections)==null?void 0:wi.length)??1)-1?p({sectionIndex:(ot??0)+1}):(ot??0)<(((Mr=a==null?void 0:a.sections)==null?void 0:Mr.length)??1)-1?p({sectionIndex:(ot??0)+1}):ot===((($r=a==null?void 0:a.sections)==null?void 0:$r.length)??1)-1&&pt===void 0&&p({sectionIndex:void 0,type:"footer"}))};if(!a)return x.jsx(ji,{});const E=d.type==="header"||d.type==="footer"?"":d.sectionIndex!==void 0?d.subSubsectionIndex!==void 0?((G=(F=(j=a.sections[d.sectionIndex])==null?void 0:j.subsections[d.subsectionIndex])==null?void 0:F.subSubsections[d.subSubsectionIndex])==null?void 0:G.content)||"":d.subsectionIndex!==void 0?((H=(J=a.sections[d.sectionIndex])==null?void 0:J.subsections[d.subsectionIndex])==null?void 0:H.content)||"":((z=a.sections[d.sectionIndex])==null?void 0:z.content)||"":"",O=d.type==="header"||d.type==="footer"?"":d.sectionIndex!==void 0?d.subSubsectionIndex!==void 0?((se=(Y=(Z=a.sections[d.sectionIndex])==null?void 0:Z.subsections[d.subsectionIndex])==null?void 0:Y.subSubsections[d.subSubsectionIndex])==null?void 0:se.title)||"":d.subsectionIndex!==void 0?((K=(X=a.sections[d.sectionIndex])==null?void 0:X.subsections[d.subsectionIndex])==null?void 0:K.title)||"":((U=a.sections[d.sectionIndex])==null?void 0:U.title)||"":"",M=d.sectionIndex!==void 0?d.subSubsectionIndex!==void 0?((ue=(fe=(q=a.sections[d.sectionIndex])==null?void 0:q.subsections[d.subsectionIndex])==null?void 0:fe.subSubsections[d.subSubsectionIndex])==null?void 0:ue.links)||[]:d.subsectionIndex!==void 0?((ge=(de=a.sections[d.sectionIndex])==null?void 0:de.subsections[d.subsectionIndex])==null?void 0:ge.links)||[]:((Ie=a.sections[d.sectionIndex])==null?void 0:Ie.links)||[]:[];return x.jsx(Be,{sx:{display:"flex",flexGrow:1,flexDirection:"column"},children:x.jsxs(Be,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[x.jsxs(Be,{sx:{display:"flex",justifyContent:"space-between",mt:2,mx:2},children:[x.jsx(Be,{sx:{width:"450px",ml:2,mt:2},children:x.jsx(SL,{})}),x.jsxs(Be,{sx:{width:"450px",mr:2,mt:2,textAlign:"right"},children:[x.jsxs(Be,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:[(a==null?void 0:a.originalFile)&&x.jsx(Dl,{title:`Download original file: ${a.originalFile.name}`,children:x.jsx(xt,{variant:"outlined",startIcon:x.jsx(ZV,{}),endIcon:x.jsx(kM,{}),onClick:C,sx:{padding:"10px 16px",backgroundColor:"transparent",color:"#436850",border:"2px solid #436850",borderRadius:"8px",cursor:"pointer",fontFamily:"Gabarito","&:hover":{backgroundColor:"#436850",color:"#FBFADA"}},children:"PPTX"})}),x.jsx(xt,{variant:"outlined",startIcon:x.jsx(Ix,{}),endIcon:x.jsx(kM,{}),onClick:async()=>{a&&(k(0),await Fee(a,k),k(null))},sx:{padding:"10px 16px",backgroundColor:"transparent",color:"#436850",border:"2px solid #436850",borderRadius:"8px",cursor:"pointer",fontFamily:"Gabarito","&:hover":{backgroundColor:"#436850",color:"#FBFADA"},"&:disabled":{backgroundColor:"#A8BDA8",cursor:"not-allowed"}},disabled:m!==null,children:m!==null?"Generating...":"PDF"})]}),m!==null&&x.jsx(Be,{sx:{width:"100%",mt:2},children:x.jsx(Om,{variant:"determinate",value:m})})]})]}),x.jsxs(Be,{sx:{display:"flex",flexGrow:1},children:[x.jsx(Be,{sx:{width:"450px",minWidth:"450px",maxWidth:"450px",borderRight:"1px solid #ddd",padding:2},children:x.jsx(_L,{sections:a.sections,selected:d,onAddSection:()=>{},onAddSubsection:()=>{},onAddSubSubsection:()=>{},onSelectSection:v,onUpdateSectionTitle:()=>{},onUpdateSubsectionTitle:()=>{},onUpdateSubSubsectionTitle:()=>{},onDeleteSection:()=>{},onDeleteSubsection:()=>{},onDeleteSubSubsection:()=>{},isViewMode:!0})}),x.jsxs(Be,{sx:{flexGrow:1,padding:3},children:[x.jsx("hr",{})," ",x.jsx(Be,{sx:{borderRadius:1,padding:2,mb:2},children:x.jsx(Pe,{dangerouslySetInnerHTML:{__html:a.header.content.replace(/\n/g,"<br />")}})}),x.jsx("hr",{})," ",x.jsx(Pe,{variant:"h3",align:"center",gutterBottom:!0,children:a.title}),x.jsx("hr",{})," ",x.jsx(Pe,{variant:"h4",align:"center",gutterBottom:!0,children:O}),d.type!=="header"&&d.type!=="footer"&&x.jsx(Dx,{in:!0,timeout:400,children:x.jsxs(Be,{children:[x.jsxs(Be,{sx:{mb:2,borderRadius:1,padding:2},children:[x.jsx(Pe,{dangerouslySetInnerHTML:{__html:E.replace(/\n/g,"<br />")}}),x.jsx(Be,{children:d.sectionIndex!==void 0&&x.jsx(x.Fragment,{children:d.subSubsectionIndex!==void 0?(((be=(ke=(te=(re=(Te=(ce=a.sections[d.sectionIndex])==null?void 0:ce.subsections)==null?void 0:Te[d.subsectionIndex])==null?void 0:re.subSubsections)==null?void 0:te[d.subSubsectionIndex])==null?void 0:ke.images)==null?void 0:be.length)||0)>0&&x.jsx(F3,{images:((Ze=(Ue=(Oe=(Re=(ve=a.sections[d.sectionIndex])==null?void 0:ve.subsections)==null?void 0:Re[d.subsectionIndex])==null?void 0:Oe.subSubsections)==null?void 0:Ue[d.subSubsectionIndex])==null?void 0:Ze.images)||[]}):d.subsectionIndex!==void 0?(((oe=(gt=(ft=(Ge=a.sections[d.sectionIndex])==null?void 0:Ge.subsections)==null?void 0:ft[d.subsectionIndex])==null?void 0:gt.images)==null?void 0:oe.length)||0)>0&&x.jsx(F3,{images:((Ee=(we=(Le=a.sections[d.sectionIndex])==null?void 0:Le.subsections)==null?void 0:we[d.subsectionIndex])==null?void 0:Ee.images)||[]}):(((Ne=(Ae=a.sections[d.sectionIndex])==null?void 0:Ae.images)==null?void 0:Ne.length)||0)>0&&x.jsx(F3,{images:((Ke=a.sections[d.sectionIndex])==null?void 0:Ke.images)||[]})})})]}),x.jsx(vX,{links:M})]})},w),x.jsxs(Be,{sx:{display:"flex",justifyContent:"space-between"},children:[x.jsx(Dl,{title:"Previous Section/Subsection (Left Arrow)",arrow:!0,children:x.jsx("span",{children:x.jsx(ur,{onClick:()=>D("prev"),disabled:d.sectionIndex===0&&d.subsectionIndex===void 0&&d.type==="header",children:x.jsx(CL,{})})})}),x.jsx(Dl,{title:"Next Section/Subsection (Right Arrow)",arrow:!0,children:x.jsx("span",{children:x.jsx(ur,{onClick:()=>D("next"),disabled:d.sectionIndex===(((Xe=a.sections)==null?void 0:Xe.length)??1)-1&&(d.subsectionIndex===void 0||d.subsectionIndex===(((dt=(ze=a.sections[d.sectionIndex])==null?void 0:ze.subsections)==null?void 0:dt.length)??1)-1)&&d.type==="footer",children:x.jsx(xL,{})})})})]}),x.jsx("hr",{})," ",x.jsx(Be,{sx:{borderRadius:1,padding:2,mt:2},children:x.jsx(Pe,{dangerouslySetInnerHTML:{__html:a.footer.content.replace(/\n/g,"<br />")}})}),x.jsx("hr",{})," "]})]})]})})},QP=({value:t,onChange:i})=>{const[r,o]=ae.useState([]),{userDetails:a}=go();return ae.useEffect(()=>{if(a!=null&&a.classes){const c=Object.entries(a.classes).filter(([d,p])=>p.isCourseAdmin||a.isSuperAdmin).map(([d,p])=>({id:d,number:p.number,title:p.title}));o(c)}else o([])},[a]),x.jsxs(lf,{fullWidth:!0,sx:{mb:2},children:[x.jsx(cf,{id:"course-selector-label",children:"Course"}),x.jsx(rd,{labelId:"course-selector-label",value:t,onChange:c=>i(c.target.value),label:"Course",children:r.length>0?r.map(c=>x.jsx(Lr,{value:c.id,children:`${c.number} - ${c.title}`},c.id)):x.jsx(Lr,{disabled:!0,children:"No courses available"})}),!t&&x.jsx(JV,{children:"Please select a course"})]})},Uee=()=>{const[t,i]=ae.useState(""),[r,o]=ae.useState(""),[a,c]=ae.useState([{title:"",url:""}]),[d,p]=ae.useState(""),m=so(),k=Rr(),w=async()=>{if(!d){alert("Please select a course to post the message.");return}try{await da(dr(k,"messages"),{title:t,description:r,links:a,course:d,postedOn:$h(),isPinned:!1}),m("/")}catch(D){console.error("Error adding message: ",D)}},_=()=>m("/"),C=(D,E,O)=>{const M=[...a];M[D][E]=O,c(M)},v=()=>c([...a,{title:"",url:""}]);return x.jsx(Mj,{maxWidth:"md",sx:{mt:6,fontFamily:"Gabarito, sans-serif"},children:x.jsxs(Ar,{elevation:3,sx:{p:4,borderRadius:2,backgroundColor:"#F7F9FC"},children:[x.jsx(Pe,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontFamily:"Staatliches, sans-serif",textAlign:"center"},children:"Add New Message"}),x.jsx(iu,{sx:{mb:3,backgroundColor:"#DADADA"}}),x.jsxs(Be,{sx:{mt:4},children:[x.jsx(QP,{value:d,onChange:p}),x.jsx(_n,{label:"Subject",fullWidth:!0,value:t,onChange:D=>i(D.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),x.jsx(_n,{label:"Description",fullWidth:!0,multiline:!0,rows:4,value:r,onChange:D=>o(D.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),x.jsx(Pe,{variant:"h6",sx:{mb:2},children:""}),a.map((D,E)=>x.jsxs(Be,{sx:{mb:2,pl:2,borderLeft:"4px solid #CDDAFF"},children:[x.jsx(_n,{label:`URL Title ${E+1}`,fullWidth:!0,value:D.title,onChange:O=>C(E,"title",O.target.value),sx:{mb:1}}),x.jsx(_n,{label:`URL Link ${E+1}`,fullWidth:!0,value:D.url,onChange:O=>C(E,"url",O.target.value)})]},E)),x.jsx(xt,{variant:"outlined",onClick:v,startIcon:x.jsx("span",{style:{fontSize:"1.2rem",lineHeight:1},children:"+"}),sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",color:"#0B53C0",padding:"8px 16px",textTransform:"none","&:hover":{backgroundColor:"rgba(11, 83, 192, 0.1)",color:"#083B80"}},children:"Add Link"}),x.jsx(iu,{sx:{width:"100%",my:2,backgroundColor:"#DADADA"}}),x.jsxs(Be,{sx:{display:"flex",justifyContent:"space-between"},children:[x.jsx(xt,{variant:"outlined",onClick:_,className:"cancel-button",children:"Cancel"}),x.jsx(xt,{variant:"outlined",onClick:w,className:"save-button",children:"Save"})]})]})]})})},qee=()=>{const{id:t}=V4(),[i,r]=ae.useState(""),[o,a]=ae.useState(""),[c,d]=ae.useState([{title:"",url:""}]),[p,m]=ae.useState(""),k=so(),w=Rr();ae.useEffect(()=>{(async()=>{try{const O=Wn(w,"messages",t),M=await ll(O);if(M.exists()){const j=M.data();r(j.title),a(j.description),d(j.links||[{title:"",url:""}]),m(j.course||"")}}catch(O){console.error("Error fetching message: ",O)}})()},[w,t]);const _=async()=>{try{if(!p){alert("Please select a valid course to update the message.");return}const E=Wn(w,"messages",t);await gi(E,{title:i,description:o,links:c,course:p,lastUpdatedOn:$h()}),k("/")}catch(E){console.error("Error editing message: ",E)}},C=()=>k("/"),v=(E,O,M)=>{const j=[...c];j[E][O]=M,d(j)},D=()=>d([...c,{title:"",url:""}]);return x.jsx(Mj,{maxWidth:"md",sx:{mt:6,fontFamily:"Gabarito, sans-serif"},children:x.jsxs(Ar,{elevation:3,sx:{p:4,borderRadius:2,backgroundColor:"#F7F9FC"},children:[x.jsx(Pe,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontFamily:"Staatliches, sans-serif",textAlign:"center"},children:"Edit Message"}),x.jsx(iu,{sx:{mb:3,backgroundColor:"#DADADA"}}),x.jsxs(Be,{sx:{mt:4},children:[x.jsx(QP,{value:p,onChange:m}),x.jsx(_n,{label:"Subject",fullWidth:!0,value:i,onChange:E=>r(E.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),x.jsx(_n,{label:"Description",fullWidth:!0,multiline:!0,rows:4,value:o,onChange:E=>a(E.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),x.jsx(Pe,{variant:"h6",sx:{mb:2},children:""}),c.map((E,O)=>x.jsxs(Be,{sx:{mb:2,pl:2,borderLeft:"4px solid #CDDAFF"},children:[x.jsx(_n,{label:`URL Title ${O+1}`,fullWidth:!0,value:E.title,onChange:M=>v(O,"title",M.target.value),sx:{mb:1}}),x.jsx(_n,{label:`URL Link ${O+1}`,fullWidth:!0,value:E.url,onChange:M=>v(O,"url",M.target.value)})]},O)),x.jsx(xt,{variant:"outlined",onClick:D,startIcon:x.jsx("span",{style:{fontSize:"1.2rem",lineHeight:1},children:"+"}),sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",color:"#0B53C0",padding:"8px 16px",textTransform:"none","&:hover":{backgroundColor:"rgba(11, 83, 192, 0.1)",color:"#083B80"}},children:"Add Link"}),x.jsx(iu,{sx:{width:"100%",my:2,backgroundColor:"#DADADA"}}),x.jsxs(Be,{sx:{display:"flex",justifyContent:"space-between"},children:[x.jsx(xt,{variant:"outlined",onClick:C,className:"cancel-button",children:"Cancel"}),x.jsx(xt,{variant:"outlined",onClick:_,className:"save-button",children:"Save"})]})]})]})})},Vee=({users:t})=>{const i=(o,a)=>o?{backgroundColor:"#6a1b9a",color:"#fff"}:a?{backgroundColor:"#1976d2",color:"#fff"}:{backgroundColor:"#e0e0e0",color:"#000"},r=o=>o?Object.entries(o).map(([a,c])=>x.jsx(Xr,{label:`${c.isCourseAdmin?"[Course Admin] ":""}${c.number||"N/A"} - ${c.title||"Untitled Course"}`,sx:{backgroundColor:c.isCourseAdmin?"#ffcccb":"#d4edda",color:c.isCourseAdmin?"#b71c1c":"#155724",margin:"4px",fontSize:"0.9rem",fontWeight:"bold",borderRadius:"8px",padding:"4px 8px"}},a)):"None";return x.jsx(fp,{component:Ar,children:x.jsxs(pp,{children:[x.jsx(mp,{children:x.jsxs(Xs,{children:[x.jsx(Ht,{children:"ID"}),x.jsx(Ht,{children:"Status"}),x.jsx(Ht,{children:"Last Login"}),x.jsx(Ht,{children:"Courses"})]})}),x.jsx(gp,{children:t.map(o=>x.jsxs(Xs,{sx:{"&:hover":{backgroundColor:"#f5f5f5",cursor:"pointer"}},children:[x.jsx(Ht,{children:x.jsx(Xr,{label:o.id,color:o.isSuperAdmin?"secondary":o.isAdmin?"primary":"default",sx:{fontSize:"0.9rem",fontWeight:"bold",padding:"6px 12px",borderRadius:"16px",...i(o.isSuperAdmin,o.isAdmin)}})}),x.jsx(Ht,{children:x.jsx(Xr,{label:o.isSuperAdmin?"Super Admin":o.isAdmin?"Educator":"Student",color:o.isSuperAdmin?"secondary":o.isAdmin?"primary":"default"})}),x.jsx(Ht,{children:Dm(o.lastLogin)}),x.jsx(Ht,{children:r(o.classes)||x.jsx(Xr,{label:"No courses assigned",sx:{backgroundColor:"#e0e0e0",color:"#000"}})})]},o.id))})]})})},Hee=({userId:t,onUserDeleted:i})=>{const[r,o]=ae.useState(!1),[a,c]=ae.useState(!1),d=Rr(),p=()=>{o(!0)},m=()=>{o(!1)},k=async()=>{c(!0);try{const w=Wn(d,"users",t);await Yy(w),i(!0)}catch(w){console.error("Error deleting user:",w),i(!1)}c(!1),o(!1)};return x.jsxs(x.Fragment,{children:[x.jsx(xt,{variant:"text",color:"error",onClick:p,children:"Delete User Account"}),x.jsxs(Ms,{open:r,onClose:m,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[x.jsx(Ns,{id:"alert-dialog-title",children:"Confirm Deletion"}),x.jsx(Os,{children:x.jsx(fc,{id:"alert-dialog-description",children:"Are you sure you want to delete this user account? This action cannot be undone."})}),x.jsxs(Bs,{children:[x.jsx(xt,{onClick:m,color:"primary",disabled:a,children:"Cancel"}),x.jsx(xt,{onClick:k,color:"error",autoFocus:!0,disabled:a,children:a?x.jsx(ji,{size:24}):"Delete"})]})]})]})},$ee=({userId:t,userClasses:i,courses:r,onCourseAssigned:o})=>{const[a,c]=ae.useState(""),[d,p]=ae.useState(!1),[m,k]=ae.useState(!1),[w,_]=ae.useState(""),[C,v]=ae.useState(!1),[D,E]=ae.useState(!1),[O,M]=ae.useState(!1),[j,F]=ae.useState(!1),G=Rr(),J=async()=>{if(!t||!a){_("Please enter a User ID and select a course."),M(!1),v(!0);return}k(!0);try{const Y=Wn(G,"users",t),se=r.find(X=>X.id===a);se?(await gi(Y,{[`classes.${a}`]:{number:se.number,title:se.title,isCourseAdmin:d}}),_(`Course ${se.title} assigned successfully to user ${t}${d?" as Course Admin.":"."}`),o(a,{number:se.number,title:se.title,isCourseAdmin:d}),F(!0),setTimeout(()=>F(!1),1e3),E(!1),c(""),p(!1),M(!0)):(_("Selected course not found."),M(!1))}catch(Y){console.error("Error assigning course:",Y),_("Error assigning course."),M(!1)}k(!1),v(!0)},H=()=>{v(!1)},z=()=>E(!0),Z=()=>E(!1);return x.jsxs(x.Fragment,{children:[x.jsxs(Be,{sx:{display:"flex",alignItems:"center",mt:2,p:2,borderRadius:2,transition:"background-color 0.3s ease",backgroundColor:j?"#e8f5e8":"transparent",border:j?"2px solid #4caf50":"2px solid transparent"},children:[x.jsx(Pe,{variant:"h6",component:"h2",sx:{mr:2},children:"Current Courses:"}),x.jsx(Be,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:i&&Object.keys(i).length>0?Object.values(i).map((Y,se)=>x.jsx(Xr,{label:`${Y.isCourseAdmin?"[Course Admin] ":""}${Y.number} - ${Y.title}`,style:{backgroundColor:Y.isCourseAdmin?"#ffcccb":"#d4edda",color:Y.isCourseAdmin?"#b71c1c":"#155724",margin:"4px"}},se)):x.jsx(Pe,{children:"No courses assigned."})}),x.jsxs(lf,{sx:{minWidth:200,mr:2},children:[x.jsx(cf,{children:"Course"}),x.jsx(rd,{value:a,onChange:Y=>c(Y.target.value),children:r.map(Y=>x.jsx(Lr,{value:Y.id,children:`${Y.number} - ${Y.title}`},Y.id))})]}),x.jsxs(lf,{sx:{mr:2},children:[x.jsx(cf,{children:"Role"}),x.jsxs(rd,{value:d?"admin":"student",onChange:Y=>p(Y.target.value==="admin"),children:[x.jsx(Lr,{value:"admin",children:"Course Admin"}),x.jsx(Lr,{value:"student",children:"Student"})]})]}),x.jsx(xt,{variant:"contained",color:"primary",onClick:z,disabled:m||!a,children:m?x.jsx(ji,{size:24}):"Assign Course"})]}),x.jsx(Il,{open:C,autoHideDuration:6e3,onClose:H,children:x.jsx(Pr,{onClose:H,severity:O?"success":"error",children:w})}),x.jsxs(Ms,{open:D,onClose:Z,"aria-labelledby":"assign-dialog-title",children:[x.jsx(Ns,{id:"assign-dialog-title",children:"Assign Course"}),x.jsx(Os,{children:x.jsxs(fc,{children:["Are you sure you want to assign the course ",a," to this user",d?" as a Course Admin?":"?"]})}),x.jsxs(Bs,{children:[x.jsx(xt,{onClick:Z,color:"primary",children:"Cancel"}),x.jsx(xt,{onClick:J,color:"primary",autoFocus:!0,children:"Confirm"})]})]})]})},Wee=()=>{const[t,i]=ae.useState(""),[r,o]=ae.useState(!1),[a,c]=ae.useState(!1),[d,p]=ae.useState(void 0),[m,k]=ae.useState(!1),[w,_]=ae.useState(""),[C,v]=ae.useState(!1),[D,E]=ae.useState(!1),[O,M]=ae.useState(!1),[j,F]=ae.useState([]),[G,J]=ae.useState(""),[H,z]=ae.useState([]),Z=Rr(),[Y,se]=ae.useState(""),X=so(),K=()=>{X("/")};ae.useEffect(()=>{(async()=>{try{const ve=dr(Z,"courses"),Oe=(await Qo(ve)).docs.map(Ue=>({id:Ue.id,number:Ue.data().number,title:Ue.data().title}));z(Oe)}catch(ve){console.error("Error fetching courses:",ve)}})()},[Z]);const U=async()=>{if(t){k(!0),c(!1);try{const be=Wn(Z,"users",t),ve=await ll(be);if(ve.exists()){const Re=ve.data();o(Re.isAdmin),p(Re.classes),c(!0)}else _("User not found."),v(!0)}catch(be){console.error("Error fetching user:",be),_("Error fetching user."),v(!0)}k(!1)}},q=ae.useCallback(async()=>{k(!0);try{const be=dr(Z,"users"),Re=(await Qo(be)).docs.map(Oe=>({id:Oe.id,...Oe.data()}));F(Re)}catch(be){console.error("Error fetching users:",be),_("Error fetching users."),v(!0)}k(!1)},[Z]);ae.useEffect(()=>{q()},[q]);const fe=async()=>{try{const be=Wn(Z,"users",t);await gi(be,{isAdmin:O}),_(`User ${O?"granted":"revoked"} admin privileges successfully.`),o(O);const ve=j.map(Re=>Re.id===t?{...Re,isAdmin:O}:Re);F(ve)}catch(be){console.error("Error updating user:",be),_("Error updating user.")}v(!0),E(!1)},ue=be=>{be.preventDefault(),a?(M(!r),E(!0)):(_("User not found."),v(!0))},de=()=>{v(!1)},ge=()=>{E(!1)},Ie=be=>{J(be.target.value)},ce=be=>G?be.classes&&G in be.classes:!0,Te=be=>Y==="superAdmin"?be.isSuperAdmin:Y==="educator"?be.isAdmin&&!be.isSuperAdmin:Y==="student"?!be.isAdmin&&!be.isSuperAdmin:!0,re=be=>be.filter(ve=>ce(ve)&&Te(ve)),te=be=>{be?(_("User account deleted successfully."),c(!1),i(""),q()):_("Error deleting user account."),v(!0)},ke=(be,ve)=>{p(Re=>({...Re,[be]:ve}))};return x.jsxs(Be,{sx:{padding:3},children:[x.jsx(Be,{sx:{display:"flex",alignItems:"center"},children:x.jsx(xt,{variant:"text",onClick:K,sx:{mr:2},children:" Home Page"})}),x.jsx(Pe,{variant:"h4",component:"h1",gutterBottom:!0,children:"User Management"}),x.jsx(Pe,{variant:"body1",gutterBottom:!0,children:"Use this page to view and manage user permissions. Enter the User ID to grant or revoke admin privileges, or delete user account."}),x.jsx(Be,{sx:{display:"flex",justifyContent:"flex-start"},children:x.jsxs("form",{onSubmit:ue,children:[x.jsx(_n,{label:"User ID",value:t,onChange:be=>i(be.target.value),fullWidth:!0,required:!0,margin:"normal",onKeyPress:be=>{be.key==="Enter"&&(U(),be.preventDefault())},sx:{minWidth:"300px"}}),m?x.jsx(ji,{}):a&&x.jsxs(Ar,{variant:"outlined",sx:{padding:2,borderRadius:"15px",mb:1},children:[x.jsxs(Be,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",border:"1px solid #e0e0e0",padding:"16px",borderRadius:"8px",backgroundColor:"#f9f9f9",mb:2},children:[x.jsxs(Be,{sx:{display:"flex",alignItems:"center"},children:[x.jsx(Pe,{variant:"h6",component:"h2",sx:{mr:2},children:"Current Status:"}),x.jsx(Xr,{label:r?"Educator (Admin)":"Student (Non-Admin)",color:r?"primary":"default",sx:{fontSize:"0.9rem",fontWeight:"bold",padding:"6px 12px",borderRadius:"16px",backgroundColor:r?"#1976d2":"#e0e0e0",color:r?"#fff":"#000"}})]}),x.jsx(xt,{type:"submit",variant:"contained",color:r?"secondary":"primary",sx:{padding:"8px 16px",textTransform:"none",fontSize:"0.9rem",borderRadius:"8px",fontWeight:"bold",boxShadow:"none","&:hover":{boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.2)"}},children:r?"Revoke Educator Access":"Grant Educator Access"})]}),x.jsx($ee,{userId:t,userClasses:d,courses:H,onCourseAssigned:ke}),x.jsx(Hee,{userId:t,onUserDeleted:te})]})]})}),x.jsx(Pe,{variant:"h5",component:"h2",gutterBottom:!0,children:"Current Users"}),x.jsxs(lf,{fullWidth:!0,sx:{mb:3,width:"25%"},children:[x.jsx(cf,{children:"Filter by Course"}),x.jsxs(rd,{value:G,onChange:Ie,children:[x.jsx(Lr,{value:"",children:"All Courses"}),H.map(be=>x.jsx(Lr,{value:be.id,children:be.number},be.id))]})]}),x.jsxs(lf,{fullWidth:!0,sx:{mb:3,width:"25%"},children:[x.jsx(cf,{children:"User Status"}),x.jsxs(rd,{value:Y,onChange:be=>se(be.target.value),children:[x.jsx(Lr,{value:"",children:"All Statuses"}),x.jsx(Lr,{value:"superAdmin",children:"Super Admin"}),x.jsx(Lr,{value:"educator",children:"Educator"}),x.jsx(Lr,{value:"student",children:"Student"})]})]}),x.jsx(Vee,{users:re(j)}),x.jsxs(Ms,{open:D,onClose:ge,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[x.jsx(Ns,{id:"alert-dialog-title",children:r?"Revoke Admin Privileges":"Grant Admin Privileges"}),x.jsx(Os,{children:x.jsxs(fc,{id:"alert-dialog-description",children:["Are you sure you want to ",r?"revoke":"grant"," admin privileges for this user?"]})}),x.jsxs(Bs,{children:[x.jsx(xt,{onClick:ge,color:"primary",children:"Cancel"}),x.jsx(xt,{onClick:fe,color:"primary",autoFocus:!0,children:"Confirm"})]})]}),x.jsx(Il,{open:C,autoHideDuration:6e3,onClose:de,children:x.jsx(Pr,{onClose:de,severity:"info",children:w})})]})},Gee=({onCourseAdded:t})=>{const[i,r]=ae.useState(""),{userDetails:o,setUserDetails:a}=go(),c=Rr(),d=m=>{r(m.target.value)},p=async()=>{try{const w=(await Qo(dr(c,"courses"))).docs.map(_=>({id:_.id,passcode:_.data().passcode,number:_.data().number,title:_.data().title})).find(_=>_.passcode===i);if(w){if(o)if((o.classes||{})[w.id])t(`Course access for ${w.number} is already added to your account!`,"info");else{const C=Wn(c,"users",o.uid);await gi(C,{[`classes.${w.id}`]:{number:w.number,title:w.title,isCourseAdmin:!1}});const v=await ll(C);if(v.exists()){const D=v.data();a({...D,uid:o.uid})}t(`Course access for ${w.number} added to your account successfully!`,"success"),r("")}}else t("Invalid passcode. Course not found.","error")}catch(m){console.error("Error updating document: ",m),t("Error adding course access to your account.","error")}};return x.jsx("div",{children:x.jsxs(Zt,{container:!0,spacing:2,sx:{maxWidth:"50%"},children:[x.jsx(Zt,{item:!0,xs:10,children:x.jsx(_n,{label:"Enter Course Passcode",value:i,onChange:d,fullWidth:!0,sx:{mb:2}})}),x.jsx(Zt,{item:!0,xs:2,sx:{display:"flex",alignItems:"center"},children:x.jsx(xt,{variant:"contained",onClick:p,children:"Add Course"})})]})})};var Wv={},z8;function Yee(){if(z8)return Wv;z8=1;var t=fs();Object.defineProperty(Wv,"__esModule",{value:!0}),Wv.default=void 0;var i=t(ms()),r=ps();return Wv.default=(0,i.default)((0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle"),Wv}var Kee=Yee();const Qee=Si(Kee),Zee=({userDetails:t,getAccountStatus:i,renderCourses:r})=>x.jsxs(Ar,{elevation:3,sx:{padding:3,borderRadius:"12px",backgroundColor:"#ffffff",maxWidth:"500px",margin:"auto"},children:[x.jsx(Be,{sx:{display:"flex",justifyContent:"center",mb:2},children:x.jsx(XV,{sx:{width:72,height:72,bgcolor:"#1054c4"},children:x.jsx(Qee,{sx:{fontSize:48,color:"#f8f4fc"}})})}),x.jsxs(Be,{sx:{display:"flex",flexDirection:"column",gap:1,alignItems:"left"},children:[x.jsxs(Be,{sx:{display:"flex",alignItems:"center",gap:1},children:[x.jsx(Pe,{sx:{fontWeight:"bold"},children:"User ID:"}),x.jsx(Xr,{label:t.uid,variant:"outlined",sx:{fontSize:"14px",fontWeight:"bold",bgcolor:"#E3F2FD",color:"#1565C0"}})]}),x.jsxs(Be,{sx:{display:"flex",alignItems:"center",gap:1},children:[x.jsx(Pe,{sx:{fontWeight:"bold"},children:"Account Status:"}),x.jsx(Xr,{label:i(),variant:"outlined",sx:{fontSize:"14px",fontWeight:"bold",bgcolor:"#C8E6C9",color:"#2E7D32"}})]}),x.jsxs(Be,{sx:{display:"flex",alignItems:"center",gap:1},children:[x.jsx(Pe,{sx:{fontWeight:"bold"},children:"Last Login:"}),x.jsx(Xr,{label:Dm(t.lastLogin),variant:"outlined",sx:{fontSize:"14px",fontWeight:"bold",bgcolor:"#FFF3E0",color:"#EF6C00"}})]})]}),x.jsx(iu,{sx:{my:2}}),x.jsx(Pe,{sx:{fontWeight:"bold",mb:1},children:"Current Courses:"}),x.jsx(Be,{sx:{display:"flex",flexWrap:"wrap"},children:r()})]}),Jee=()=>{const{userDetails:t,setUserDetails:i}=go(),[r,o]=ae.useState(!1),[a,c]=ae.useState(!1),[d,p]=ae.useState(!1),[m,k]=ae.useState(""),[w,_]=ae.useState("success"),C=so(),v=Rr(),D=()=>{C("/")},E=()=>{t!=null&&t.isAdmin||C("/request-educator-permissions")},O=(H,z)=>{p(!0),k(H),_(z),z==="success"&&t&&(async()=>{const Y=Wn(v,"users",t.uid),se=await ll(Y);if(se.exists()){const X=se.data();i({...X,uid:t.uid})}})()},M=()=>{o(!r)},j=()=>{c(!a)},F=()=>t!=null&&t.isSuperAdmin?"Super Admin":t!=null&&t.isAdmin?"Educator":"Student",G=()=>{p(!1)},J=()=>t!=null&&t.classes?Object.entries(t.classes).map(([H,z])=>x.jsx(Xr,{label:`${z.number} - ${z.title}${z.isCourseAdmin?" (Admin)":""}`,variant:"outlined",sx:{margin:"4px",fontSize:"14px",fontWeight:"bold",bgcolor:z.isCourseAdmin?"#FFCDD2":"#E3F2FD",color:z.isCourseAdmin?"#C62828":"#1565C0"}},H)):"None";return x.jsxs(Be,{className:"profile-container",children:[x.jsx(xt,{variant:"text",onClick:D,className:"profile-button",children:" Home Page"}),x.jsx(Pe,{className:"webpage_title",children:"My Account"}),t&&x.jsx(Zee,{userDetails:t,getAccountStatus:F,renderCourses:J}),!(t!=null&&t.isAdmin)&&x.jsxs(Be,{className:"profile-switch-container",children:[x.jsx(tp,{control:x.jsx(np,{checked:r,onChange:M}),label:"Enroll in a Course (As a Student)"}),r&&x.jsxs(Be,{sx:{mt:2},children:[x.jsx(Pe,{variant:"body1",className:"profile-text",children:"Use the area below to add a course access to your account."}),x.jsx(Gee,{onCourseAdded:O})]})]}),x.jsxs(Be,{className:"profile-advanced-section",children:[x.jsx(tp,{control:x.jsx(np,{checked:a,onChange:j}),label:"Advanced"}),a&&x.jsx(x.Fragment,{children:x.jsx(Be,{sx:{mt:2},children:x.jsx(xt,{variant:"text",onClick:E,disabled:t==null?void 0:t.isAdmin,className:"profile-button",children:t!=null&&t.isAdmin?x.jsx(Pe,{children:x.jsx("span",{className:"success-text",children:" Educator Account Approved"})}):"Request Educator Permissions"})})})]}),x.jsx(Il,{open:d,autoHideDuration:6e3,onClose:G,children:x.jsx(Pr,{onClose:G,severity:w,sx:{width:"100%"},children:m})})]})},Xee=({selectedCourse:t,selectedCourseDetails:i,onStudentChange:r})=>{const[o,a]=ae.useState(""),[c,d]=ae.useState(!1),[p,m]=ae.useState(""),[k,w]=ae.useState(!1),[_,C]=ae.useState(!1),v=Rr(),D=async()=>{if(!o||!t){m("Please enter a Student ID and select a course."),w(!0);return}d(!0);try{const j=Wn(v,"users",o),F=await ll(j);if(F.exists()){const J=F.data().classes||{};t in J?C(!0):(m(`Student ${o} is not enrolled in course ${(i==null?void 0:i.number)||t}, cannot remove.`),w(!0))}else m(`Student ${o} does not exist.`),w(!0)}catch(j){console.error("Error checking student course:",j),m("Error checking student course."),w(!0)}d(!1)},E=async()=>{d(!0);try{const j=Wn(v,"users",o);await gi(j,{[`classes.${t}`]:VH()}),m(`Student ${o} removed from course ${(i==null?void 0:i.number)||t}.`),a(""),r()}catch(j){console.error("Error updating student course:",j),m("Error updating student course.")}d(!1),w(!0),C(!1)},O=()=>{w(!1)},M=()=>{C(!1)};return x.jsxs(Be,{sx:{mt:4},children:[x.jsxs(Pe,{variant:"h6",component:"h2",children:["Remove Students from ",i?`${i.number}`:t]}),x.jsxs(Be,{sx:{display:"flex",alignItems:"center",mt:2},children:[x.jsx(_n,{label:"Student ID",value:o,onChange:j=>a(j.target.value),fullWidth:!0,required:!0,margin:"normal",sx:{mr:2}}),x.jsx(xt,{variant:"contained",color:"primary",onClick:D,disabled:c,children:c?x.jsx(ji,{size:24}):"Remove"})]}),x.jsx(Il,{open:k,autoHideDuration:6e3,onClose:O,children:x.jsx(Pr,{onClose:O,severity:"info",children:p})}),x.jsxs(Ms,{open:_,onClose:M,"aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",children:[x.jsx(Ns,{id:"confirm-dialog-title",children:"Confirm Removal"}),x.jsx(Os,{children:x.jsx(fc,{id:"confirm-dialog-description",children:"Are you sure you want to remove the student from the course? This action cannot be undone."})}),x.jsxs(Bs,{children:[x.jsx(xt,{onClick:M,color:"primary",children:"Cancel"}),x.jsx(xt,{onClick:E,color:"secondary",autoFocus:!0,children:"Confirm"})]})]})]})},ete=({students:t,selectedCourse:i})=>{const r=()=>{if(t.length>0){const o=["User ID","Courses","Last Login"],a=t.map(k=>[`"${k.id||k.uid}"`,`"${k.classes?Object.values(k.classes).map(w=>`${w.number} - ${w.title}`).join(", "):"None"}"`,`"${Dm(k.lastLogin)}"`]),c=[o.join(","),...a.map(k=>k.join(","))].join(`
`),d=new Blob([c],{type:"text/csv;charset=utf-8;"}),p=URL.createObjectURL(d),m=document.createElement("a");m.href=p,m.setAttribute("download",`${i}_students.csv`),document.body.appendChild(m),m.click(),document.body.removeChild(m)}};return x.jsx(Be,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:x.jsx(xt,{variant:"contained",color:"primary",onClick:r,disabled:t.length===0,sx:{background:"linear-gradient(45deg, #3f51b5 30%, #1e88e5 90%)",borderRadius:3,boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)",color:"white",padding:"0 30px",fontSize:"16px",fontWeight:"bold",textTransform:"none","&:hover":{background:"linear-gradient(45deg, #1e88e5 30%, #3f51b5 90%)",boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)"}},children:"Export as CSV"})})},tte=({userClasses:t,selectedCourse:i,onCourseChange:r})=>x.jsx(Be,{sx:{mb:3},children:x.jsxs(lf,{fullWidth:!0,variant:"outlined",children:[x.jsx(cf,{id:"course-selector-label",children:"Select a Course"}),x.jsx(rd,{"aria-label":"Select a course",labelId:"course-selector-label",value:i,onChange:o=>r(o.target.value),label:"Select a Course",children:Object.entries(t).map(([o,a])=>x.jsx(Lr,{value:o,children:`${a.number} - ${a.title}`},o))})]})}),nte=({selectedCourse:t,selectedCourseDetails:i,onCourseUpdate:r})=>{const[o,a]=ae.useState(!1),[c,d]=ae.useState(""),[p,m]=ae.useState(""),k=Rr(),{userDetails:w,refreshUserDetails:_}=go(),C=()=>{i&&(d(i.number||""),m(i.title||"")),a(!0)},v=()=>{a(!1),D()},D=()=>{d(""),m("")},E=async()=>{if(!t||!(w!=null&&w.uid)){console.error("Selected course or user details are missing.");return}try{const O=Wn(k,"courses",t);await gi(O,{number:c,title:p});const M=Wn(k,"users",w.uid),j=await ll(M);if(j.exists()){const F=j.data();if(F.classes&&F.classes[t]){const G=F.classes[t],J={...F.classes,[t]:{...G,number:c,title:p}};await gi(M,{classes:J})}}await _(),r(),v()}catch(O){console.error("Error updating course:",O)}};return x.jsxs(Be,{sx:{mt:2},children:[x.jsx(xt,{variant:"outlined",onClick:C,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#4CAF50",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#388E3C",transform:"scale(1.03)"}},children:"Edit Course Details"}),x.jsxs(Ms,{open:o,onClose:v,children:[x.jsx(Ns,{children:"Edit Course Details"}),x.jsxs(Os,{children:[x.jsx(_n,{label:"Course Number",value:c,onChange:O=>d(O.target.value),fullWidth:!0,sx:{mb:2}}),x.jsx(_n,{label:"Course Title",value:p,onChange:O=>m(O.target.value),fullWidth:!0})]}),x.jsxs(Bs,{children:[x.jsx(xt,{onClick:v,children:"Cancel"}),x.jsx(xt,{onClick:E,variant:"contained",color:"primary",disabled:!c||!p,children:"Save"})]})]})]})},rte=({selectedCourse:t,onInfoUpdate:i})=>{var U,q,fe,ue,de,ge,Ie,ce,Te,re,te,ke,be;const[r,o]=ae.useState(!1),[a,c]=ae.useState(!1),[d,p]=ae.useState(null),[m,k]=ae.useState({}),[w,_]=ae.useState("contact"),C=Rr();ae.useEffect(()=>{r&&t&&v()},[r,t]);const v=async()=>{try{c(!0);const ve=Wn(C,"courses",t),Re=await ll(ve);if(Re.exists()){const Oe=Re.data();k(Oe.additionalInfo||{})}}catch(ve){console.error("Error fetching course info:",ve),p("Failed to load course information")}finally{c(!1)}},D=()=>{o(!0),p(null)},E=()=>{o(!1),p(null)},O=async()=>{try{c(!0);const ve=Wn(C,"courses",t);await gi(ve,{additionalInfo:{...m,lastUpdated:new Date}}),i(),E()}catch(ve){console.error("Error updating course info:",ve),p("Failed to save course information")}finally{c(!1)}},M=(ve,Re)=>{k(Oe=>({...Oe,contactInfo:{...Oe.contactInfo,[ve]:Re}}))},j=(ve,Re)=>{k(Oe=>({...Oe,policies:{...Oe.policies,[ve]:Re}}))},F=()=>{k(ve=>({...ve,textbooks:[...ve.textbooks||[],{title:"",author:"",edition:"",isbn:"",required:!0}]}))},G=(ve,Re,Oe)=>{k(Ue=>{var Ze;return{...Ue,textbooks:(Ze=Ue.textbooks)==null?void 0:Ze.map((Ge,ft)=>ft===ve?{...Ge,[Re]:Oe}:Ge)}})},J=ve=>{k(Re=>{var Oe;return{...Re,textbooks:(Oe=Re.textbooks)==null?void 0:Oe.filter((Ue,Ze)=>Ze!==ve)}})},H=()=>{k(ve=>({...ve,gradingPolicy:[...ve.gradingPolicy||[],{component:"",percentage:0,description:""}]}))},z=(ve,Re,Oe)=>{k(Ue=>{var Ze;return{...Ue,gradingPolicy:(Ze=Ue.gradingPolicy)==null?void 0:Ze.map((Ge,ft)=>ft===ve?{...Ge,[Re]:Oe}:Ge)}})},Z=ve=>{k(Re=>{var Oe;return{...Re,gradingPolicy:(Oe=Re.gradingPolicy)==null?void 0:Oe.filter((Ue,Ze)=>Ze!==ve)}})},Y=(ve,Re)=>{k(Oe=>{var Ue;return{...Oe,[ve]:{...Oe[ve],[Re]:[...((Ue=Oe[ve])==null?void 0:Ue[Re])||[],""]}}})},se=(ve,Re,Oe,Ue)=>{k(Ze=>{var Ge;return{...Ze,[ve]:{...Ze[ve],[Re]:(((Ge=Ze[ve])==null?void 0:Ge[Re])||[]).map((ft,gt)=>gt===Oe?Ue:ft)}}})},X=(ve,Re,Oe)=>{k(Ue=>{var Ze;return{...Ue,[ve]:{...Ue[ve],[Re]:(((Ze=Ue[ve])==null?void 0:Ze[Re])||[]).filter((Ge,ft)=>ft!==Oe)}}})},K=ve=>(Re,Oe)=>{_(Oe?ve:!1)};return x.jsxs(Be,{sx:{mt:2},children:[x.jsx(xt,{variant:"outlined",onClick:D,startIcon:x.jsx(wk,{}),sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#2196F3",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#1976D2",transform:"scale(1.03)"}},children:"Edit Additional Info"}),x.jsxs(Ms,{open:r,onClose:E,maxWidth:"md",fullWidth:!0,children:[x.jsx(Ns,{children:x.jsx(Pe,{variant:"h5",children:"Edit Additional Course Information"})}),x.jsxs(Os,{sx:{minHeight:"500px"},children:[d&&x.jsx(Pr,{severity:"error",sx:{mb:2},children:d}),x.jsxs(qh,{expanded:w==="contact",onChange:K("contact"),children:[x.jsx(Vh,{expandIcon:x.jsx(Kd,{}),children:x.jsxs(Be,{sx:{display:"flex",alignItems:"center",gap:1},children:[x.jsx(eH,{color:"primary"}),x.jsx(Pe,{variant:"h6",children:"Contact Information"})]})}),x.jsx(Hh,{children:x.jsxs(Zt,{container:!0,spacing:2,children:[x.jsx(Zt,{item:!0,xs:12,md:6,children:x.jsx(_n,{label:"Email",fullWidth:!0,value:((U=m.contactInfo)==null?void 0:U.email)||"",onChange:ve=>M("email",ve.target.value)})}),x.jsx(Zt,{item:!0,xs:12,md:6,children:x.jsx(_n,{label:"Phone",fullWidth:!0,value:((q=m.contactInfo)==null?void 0:q.phone)||"",onChange:ve=>M("phone",ve.target.value)})}),x.jsx(Zt,{item:!0,xs:12,md:6,children:x.jsx(_n,{label:"Office",fullWidth:!0,value:((fe=m.contactInfo)==null?void 0:fe.office)||"",onChange:ve=>M("office",ve.target.value)})}),x.jsx(Zt,{item:!0,xs:12,md:6,children:x.jsx(_n,{label:"Office Hours",fullWidth:!0,value:((ue=m.contactInfo)==null?void 0:ue.officeHours)||"",onChange:ve=>M("officeHours",ve.target.value)})}),x.jsx(Zt,{item:!0,xs:12,children:x.jsx(_n,{label:"Website",fullWidth:!0,value:((de=m.contactInfo)==null?void 0:de.website)||"",onChange:ve=>M("website",ve.target.value)})})]})})]}),x.jsxs(qh,{expanded:w==="textbooks",onChange:K("textbooks"),children:[x.jsx(Vh,{expandIcon:x.jsx(Kd,{}),children:x.jsxs(Be,{sx:{display:"flex",alignItems:"center",gap:1},children:[x.jsx(tH,{color:"primary"}),x.jsx(Pe,{variant:"h6",children:"Textbooks & Resources"})]})}),x.jsxs(Hh,{children:[x.jsx(Be,{sx:{mb:2},children:x.jsx(xt,{startIcon:x.jsx(G0,{}),onClick:F,variant:"outlined",children:"Add Textbook"})}),(ge=m.textbooks)==null?void 0:ge.map((ve,Re)=>x.jsx(Be,{sx:{mb:3,p:2,border:"1px solid #ddd",borderRadius:1},children:x.jsxs(Zt,{container:!0,spacing:2,children:[x.jsx(Zt,{item:!0,xs:12,children:x.jsx(_n,{label:"Title",fullWidth:!0,value:ve.title,onChange:Oe=>G(Re,"title",Oe.target.value)})}),x.jsx(Zt,{item:!0,xs:12,md:4,children:x.jsx(_n,{label:"Author",fullWidth:!0,value:ve.author||"",onChange:Oe=>G(Re,"author",Oe.target.value)})}),x.jsx(Zt,{item:!0,xs:12,md:4,children:x.jsx(_n,{label:"Edition",fullWidth:!0,value:ve.edition||"",onChange:Oe=>G(Re,"edition",Oe.target.value)})}),x.jsx(Zt,{item:!0,xs:12,md:4,children:x.jsx(_n,{label:"ISBN",fullWidth:!0,value:ve.isbn||"",onChange:Oe=>G(Re,"isbn",Oe.target.value)})}),x.jsx(Zt,{item:!0,xs:12,children:x.jsxs(Be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[x.jsx(tp,{control:x.jsx(np,{checked:ve.required,onChange:Oe=>G(Re,"required",Oe.target.checked)}),label:"Required"}),x.jsx(ur,{onClick:()=>J(Re),color:"error",children:x.jsx(Gg,{})})]})})]})},Re))]})]}),x.jsxs(qh,{expanded:w==="grading",onChange:K("grading"),children:[x.jsx(Vh,{expandIcon:x.jsx(Kd,{}),children:x.jsxs(Be,{sx:{display:"flex",alignItems:"center",gap:1},children:[x.jsx(nH,{color:"primary"}),x.jsx(Pe,{variant:"h6",children:"Grading Policy"})]})}),x.jsxs(Hh,{children:[x.jsx(Be,{sx:{mb:2},children:x.jsx(xt,{startIcon:x.jsx(G0,{}),onClick:H,variant:"outlined",children:"Add Grading Component"})}),(Ie=m.gradingPolicy)==null?void 0:Ie.map((ve,Re)=>x.jsx(Be,{sx:{mb:2,p:2,border:"1px solid #ddd",borderRadius:1},children:x.jsxs(Zt,{container:!0,spacing:2,children:[x.jsx(Zt,{item:!0,xs:12,md:4,children:x.jsx(_n,{label:"Component",fullWidth:!0,value:ve.component,onChange:Oe=>z(Re,"component",Oe.target.value)})}),x.jsx(Zt,{item:!0,xs:12,md:3,children:x.jsx(_n,{label:"Percentage",type:"number",fullWidth:!0,value:ve.percentage,onChange:Oe=>z(Re,"percentage",parseInt(Oe.target.value)||0),inputProps:{min:0,max:100}})}),x.jsx(Zt,{item:!0,xs:12,md:4,children:x.jsx(_n,{label:"Description",fullWidth:!0,value:ve.description||"",onChange:Oe=>z(Re,"description",Oe.target.value)})}),x.jsx(Zt,{item:!0,xs:12,md:1,children:x.jsx(ur,{onClick:()=>Z(Re),color:"error",children:x.jsx(Gg,{})})})]})},Re))]})]}),x.jsxs(qh,{expanded:w==="policies",onChange:K("policies"),children:[x.jsx(Vh,{expandIcon:x.jsx(Kd,{}),children:x.jsxs(Be,{sx:{display:"flex",alignItems:"center",gap:1},children:[x.jsx(rH,{color:"primary"}),x.jsx(Pe,{variant:"h6",children:"Course Policies"})]})}),x.jsx(Hh,{children:x.jsx(Zt,{container:!0,spacing:2,children:[{key:"attendance",label:"Attendance Policy"},{key:"lateWork",label:"Late Work Policy"},{key:"academicIntegrity",label:"Academic Integrity"},{key:"accommodations",label:"Accommodations"},{key:"communication",label:"Communication Policy"},{key:"safety",label:"Safety Policy"},{key:"groupWork",label:"Group Work Policy"},{key:"makeupPolicy",label:"Make-up Policy"}].map(({key:ve,label:Re})=>{var Oe;return x.jsx(Zt,{item:!0,xs:12,children:x.jsx(_n,{label:Re,multiline:!0,rows:3,fullWidth:!0,value:((Oe=m.policies)==null?void 0:Oe[ve])||"",onChange:Ue=>j(ve,Ue.target.value)})},ve)})})})]}),x.jsxs(qh,{expanded:w==="lab",onChange:K("lab"),children:[x.jsx(Vh,{expandIcon:x.jsx(Kd,{}),children:x.jsxs(Be,{sx:{display:"flex",alignItems:"center",gap:1},children:[x.jsx(iH,{color:"primary"}),x.jsx(Pe,{variant:"h6",children:"Laboratory Information"})]})}),x.jsx(Hh,{children:x.jsxs(Zt,{container:!0,spacing:3,children:[x.jsxs(Zt,{item:!0,xs:12,children:[x.jsx(Pe,{variant:"subtitle2",sx:{mb:1},children:"Safety Requirements"}),x.jsx(Be,{sx:{mb:2},children:x.jsx(xt,{startIcon:x.jsx(G0,{}),onClick:()=>Y("labSpecific","safetyRequirements"),size:"small",variant:"outlined",children:"Add Safety Requirement"})}),(Te=(ce=m.labSpecific)==null?void 0:ce.safetyRequirements)==null?void 0:Te.map((ve,Re)=>x.jsxs(Be,{sx:{display:"flex",gap:1,mb:1},children:[x.jsx(_n,{fullWidth:!0,size:"small",value:ve,onChange:Oe=>se("labSpecific","safetyRequirements",Re,Oe.target.value),placeholder:"Safety requirement"}),x.jsx(ur,{onClick:()=>X("labSpecific","safetyRequirements",Re),color:"error",size:"small",children:x.jsx(Gg,{})})]},Re))]}),x.jsxs(Zt,{item:!0,xs:12,md:6,children:[x.jsx(Pe,{variant:"subtitle2",sx:{mb:1},children:"Required Equipment"}),x.jsx(Be,{sx:{mb:2},children:x.jsx(xt,{startIcon:x.jsx(G0,{}),onClick:()=>Y("labSpecific","requiredEquipment"),size:"small",variant:"outlined",children:"Add Equipment"})}),(te=(re=m.labSpecific)==null?void 0:re.requiredEquipment)==null?void 0:te.map((ve,Re)=>x.jsxs(Be,{sx:{display:"flex",gap:1,mb:1},children:[x.jsx(_n,{fullWidth:!0,size:"small",value:ve,onChange:Oe=>se("labSpecific","requiredEquipment",Re,Oe.target.value),placeholder:"Equipment item"}),x.jsx(ur,{onClick:()=>X("labSpecific","requiredEquipment",Re),color:"error",size:"small",children:x.jsx(Gg,{})})]},Re))]}),x.jsxs(Zt,{item:!0,xs:12,md:6,children:[x.jsx(Pe,{variant:"subtitle2",sx:{mb:1},children:"Dress Code"}),x.jsx(Be,{sx:{mb:2},children:x.jsx(xt,{startIcon:x.jsx(G0,{}),onClick:()=>Y("labSpecific","dresscode"),size:"small",variant:"outlined",children:"Add Dress Code Item"})}),(be=(ke=m.labSpecific)==null?void 0:ke.dresscode)==null?void 0:be.map((ve,Re)=>x.jsxs(Be,{sx:{display:"flex",gap:1,mb:1},children:[x.jsx(_n,{fullWidth:!0,size:"small",value:ve,onChange:Oe=>se("labSpecific","dresscode",Re,Oe.target.value),placeholder:"Dress code requirement"}),x.jsx(ur,{onClick:()=>X("labSpecific","dresscode",Re),color:"error",size:"small",children:x.jsx(Gg,{})})]},Re))]})]})})]})]}),x.jsxs(Bs,{children:[x.jsx(xt,{onClick:E,children:"Cancel"}),x.jsx(xt,{onClick:O,variant:"contained",disabled:a,children:a?"Saving...":"Save Changes"})]})]})]})},ite=async(t,i,r)=>{const o=Hm(),a=t.name.split(".").pop()||"txt",c=`${t.name.replace(/\.[^/.]+$/,"")}_${nl()}.${a}`,d=`syllabi/${i}/${c}`,p=Qd(o,d);try{const m=await Bm(p,t),k=await rp(m.ref),w={originalFilename:t.name,fileSize:t.size,fileType:t.type||"application/octet-stream",uploadedAt:new Date,uploadedBy:i,courseId:r};return console.log(`Successfully uploaded syllabus file: ${c}`,{size:t.size,type:t.type,url:k}),{url:k,path:m.ref.fullPath,metadata:w}}catch(m){throw console.error("Failed to upload syllabus file:",m),new Error(`Failed to upload syllabus file: ${m instanceof Error?m.message:"Unknown error"}`)}},U8=t=>{switch(t.toLowerCase()){case"application/pdf":return"PDF Document";case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return"Word Document";case"application/vnd.openxmlformats-officedocument.presentationml.presentation":return"PowerPoint Presentation";case"text/plain":return"Text File";default:return"Document"}},q8=t=>{if(t===0)return"0 Bytes";const i=1024,r=["Bytes","KB","MB","GB"],o=Math.floor(Math.log(t)/Math.log(i));return parseFloat((t/Math.pow(i,o)).toFixed(2))+" "+r[o]},ote=({courseId:t})=>{const[i,r]=ae.useState(null),[o,a]=ae.useState(!0),[c,d]=ae.useState(null),[p,m]=ae.useState(!1),k=Rr();ae.useEffect(()=>{t&&(async()=>{try{a(!0);const v=Wn(k,"courses",t),D=await ll(v);if(D.exists()){const E=D.data();r(E.syllabusFile||null)}else d("Course not found")}catch(v){console.error("Error fetching syllabus file:",v),d("Failed to load syllabus file information")}finally{a(!1)}})()},[t,k]);const w=()=>{i!=null&&i.url&&window.open(i.url,"_blank")},_=()=>{m(!0)};return o?x.jsx(Be,{sx:{display:"flex",justifyContent:"center",p:2},children:x.jsx(ji,{size:24})}):c?x.jsx(Pr,{severity:"error",sx:{mb:2},children:c}):i?x.jsxs(Ar,{sx:{p:3,mb:3,backgroundColor:"info.50"},children:[x.jsxs(Pe,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[x.jsx(Ix,{color:"primary"}),"Original Syllabus Document"]}),x.jsxs(Be,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[x.jsx(Pe,{variant:"body1",sx:{flexGrow:1},children:x.jsx("strong",{children:i.metadata.originalFilename})}),x.jsxs(Pe,{variant:"body2",color:"text.secondary",children:[U8(i.metadata.fileType),"  ",q8(i.metadata.fileSize)]})]}),x.jsxs(Pe,{variant:"body2",color:"text.secondary",sx:{mb:2},children:["Uploaded: ",new Date(i.metadata.uploadedAt).toLocaleDateString()]}),x.jsxs(Be,{sx:{display:"flex",gap:2},children:[x.jsx(xt,{variant:"outlined",startIcon:x.jsx(F4,{}),onClick:_,size:"small",children:"View Details"}),x.jsx(xt,{variant:"contained",startIcon:x.jsx(DE,{}),onClick:w,size:"small",children:"Download"})]}),x.jsxs(Ms,{open:p,onClose:()=>m(!1),maxWidth:"sm",fullWidth:!0,children:[x.jsxs(Ns,{sx:{display:"flex",alignItems:"center",gap:1},children:[x.jsx(Ix,{}),"Syllabus File Details"]}),x.jsx(Os,{children:x.jsxs(Be,{sx:{mb:2},children:[x.jsx(Pe,{variant:"body2",color:"text.secondary",children:x.jsx("strong",{children:"Filename:"})}),x.jsx(Pe,{variant:"body1",sx:{mb:2},children:i.metadata.originalFilename}),x.jsx(Pe,{variant:"body2",color:"text.secondary",children:x.jsx("strong",{children:"File Type:"})}),x.jsx(Pe,{variant:"body1",sx:{mb:2},children:U8(i.metadata.fileType)}),x.jsx(Pe,{variant:"body2",color:"text.secondary",children:x.jsx("strong",{children:"File Size:"})}),x.jsx(Pe,{variant:"body1",sx:{mb:2},children:q8(i.metadata.fileSize)}),x.jsx(Pe,{variant:"body2",color:"text.secondary",children:x.jsx("strong",{children:"Uploaded:"})}),x.jsx(Pe,{variant:"body1",sx:{mb:2},children:new Date(i.metadata.uploadedAt).toLocaleString()}),x.jsx(Pe,{variant:"body2",color:"text.secondary",children:x.jsx("strong",{children:"Storage Path:"})}),x.jsx(Pe,{variant:"body2",sx:{fontFamily:"monospace",backgroundColor:"grey.100",p:1,borderRadius:1},children:i.path})]})}),x.jsxs(Bs,{children:[x.jsx(xt,{onClick:()=>m(!1),children:"Close"}),x.jsx(xt,{onClick:w,variant:"contained",startIcon:x.jsx(DE,{}),children:"Download File"})]})]})]}):null},ste=({selectedCourse:t,onCourseDelete:i})=>{const[r,o]=ae.useState(!1),a=Rr(),{refreshUserDetails:c}=go(),d=()=>o(!0),p=()=>o(!1),m=async()=>{if(t)try{const k=z4(a),w=Wn(a,"courses",t);k.delete(w);const _=dr(a,"users");(await Qo(_)).forEach(v=>{const D=Wn(a,"users",v.id),E=v.data().classes||{};E&&E[t]&&(delete E[t],k.update(D,{classes:E}))}),await k.commit(),await c(),i(),p()}catch(k){console.error("Error deleting course:",k)}};return x.jsxs(Be,{sx:{mt:2},children:[x.jsx(xt,{variant:"contained",onClick:d,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#F44336",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#D32F2F",transform:"scale(1.03)"}},children:"Delete Course"}),x.jsxs(Ms,{open:r,onClose:p,children:[x.jsx(Ns,{children:"Confirm Delete"}),x.jsx(Os,{children:x.jsx(fc,{children:"Are you sure you want to delete this course? This action cannot be undone."})}),x.jsxs(Bs,{children:[x.jsx(xt,{onClick:p,children:"Cancel"}),x.jsx(xt,{onClick:m,variant:"contained",color:"error",children:"Delete"})]})]})]})},ate=({text:t,tooltipText:i="Click to Copy",successText:r="Copied!"})=>{const[o,a]=ae.useState(!1),c=()=>{navigator.clipboard.writeText(t).then(()=>{a(!0),setTimeout(()=>a(!1),2e3)}).catch(d=>console.error("Could not copy text: ",d))};return x.jsx(Dl,{title:o?r:i,enterDelay:300,leaveDelay:200,children:x.jsx(Xr,{label:t,variant:"outlined",onClick:c,sx:{borderRadius:"15px",fontSize:"16px",fontWeight:"bold",background:"#e0f2f1",color:"#00695c",cursor:"pointer",transition:"background-color 0.3s",fontFamily:"Gabarito, sans-serif"}})})},lte=()=>{const{userDetails:t}=go(),[i,r]=ae.useState(""),[o,a]=ae.useState([]),[c,d]=ae.useState(null),[p,m]=ae.useState(!1),[k,w]=ae.useState(""),[_,C]=ae.useState("success"),v=Rr();ae.useEffect(()=>{(async()=>{if(t!=null&&t.isAdmin){const M=Xd(dr(v,"courses"),nd("courseAdmin","array-contains",t.uid)),F=(await Qo(M)).docs.map(G=>({id:G.id,number:G.data().number,title:G.data().title,passcode:G.data().passcode}));a(F)}})()},[v,t]);const D=O=>{const M=O.target.value;r(M);const j=o.find(F=>F.id===M);j?(d(j.passcode),w(`Passcode for course "${j.number} - ${j.title}" retrieved successfully.`),C("success"),m(!0)):(d(null),w("Course not found."),C("error"),m(!0))},E=()=>{m(!1)};return x.jsxs(Be,{sx:{mt:4},children:[x.jsx(Pe,{variant:"subtitle1",component:"h2",sx:{mb:2},children:"Retrieve Course Passcode"}),x.jsx(Zt,{container:!0,spacing:2,sx:{maxWidth:"75%"},children:x.jsxs(Zt,{item:!0,xs:12,sx:{display:"flex",alignItems:"center"},children:[x.jsx(_n,{select:!0,label:"Select Course Number",value:i,onChange:D,fullWidth:!0,sx:{mb:2,mr:2},children:o.map(O=>x.jsx(Lr,{value:O.id,children:`${O.number} - ${O.title}`},O.id))}),c&&x.jsxs(Be,{sx:{display:"flex",alignItems:"center",ml:2},children:[x.jsx(Pe,{variant:"body1",sx:{mr:1},children:"Passcode:"}),x.jsx(ate,{text:`${c}`})]})]})}),x.jsx(Il,{open:p,autoHideDuration:6e3,onClose:E,children:x.jsx(Pr,{onClose:E,severity:_,sx:{width:"100%"},children:k})})]})},cte=()=>{const{userDetails:t}=go(),[i,r]=ae.useState([]),[o,a]=ae.useState(""),[c,d]=ae.useState(!1),[p,m]=ae.useState(!1),[k,w]=ae.useState(!1),_=Rr(),C=so(),D=t!=null&&t.classes?Object.entries(t.classes).filter(([G,J])=>J.isCourseAdmin).reduce((G,[J,H])=>({...G,[J]:H}),{}):{};ae.useEffect(()=>{D[o]||a(Object.keys(D)[0]||"")},[D,o]),ae.useEffect(()=>{(async()=>{if(o)try{const J=Xd(dr(_,"users"),nd("isAdmin","==",!1)),Z=(await Qo(J)).docs.map(Y=>({uid:Y.id,...Y.data()})).filter(Y=>Y.classes&&Y.classes[o]);r(Z)}catch(J){console.error("Error fetching students:",J)}})()},[o,_]);const E=G=>{a(G)},O=()=>{C("/request-new-course")},M=D[o],j=M?`${M.number} - ${M.title}`:"",F=!!(o&&M);return x.jsxs(Be,{className:"profile-container",sx:{p:4},children:[x.jsx(Be,{sx:{display:"flex",alignItems:"center",mb:2},children:x.jsx(xt,{variant:"text",onClick:()=>C("/"),className:"profile-button",children:" Home Page"})}),x.jsx(Pe,{className:"webpage_title",sx:{mb:2},children:"Course Management"}),x.jsxs(Be,{sx:{mb:4,p:3,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[x.jsx(Pe,{variant:"h6",sx:{fontFamily:"Staatliches, sans-serif",mb:2,color:"#0B53C0"},children:"Select a Course"}),Object.keys(D).length>0?x.jsx(tte,{userClasses:D,selectedCourse:o,onCourseChange:E}):x.jsx(Pe,{variant:"body1",sx:{color:"#9E9E9E"},children:"No courses available for selection."})]}),x.jsx(Be,{children:F&&x.jsxs(x.Fragment,{children:[x.jsx(ote,{courseId:o}),x.jsxs(Be,{sx:{flex:2,display:"flex",justifyContent:"flex-end",gap:2},children:[x.jsx(nte,{selectedCourse:o,selectedCourseDetails:M,onCourseUpdate:()=>{}}),x.jsx(rte,{selectedCourse:o,onInfoUpdate:()=>{}}),x.jsx(ste,{selectedCourse:o,onCourseDelete:()=>a("")})]})]})}),F&&x.jsxs(Ar,{elevation:3,sx:{p:3,mb:4,borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)",backgroundColor:"#F9FAFB"},children:[x.jsx(Pe,{variant:"h6",component:"h2",sx:{fontFamily:"Staatliches, sans-serif",fontWeight:"bold",mb:2,color:"#0B53C0"},children:"Students Enrolled in a Course"}),i.length===0?x.jsxs(Pe,{sx:{color:"#757575",textAlign:"center",p:3},children:["No students are currently enrolled in ",x.jsx("strong",{children:j}),"."]}):x.jsxs(x.Fragment,{children:[x.jsx(fp,{component:Ar,children:x.jsxs(pp,{children:[x.jsx(mp,{children:x.jsxs(Xs,{children:[x.jsx(Ht,{sx:{fontWeight:"bold"},children:"User ID"}),x.jsx(Ht,{sx:{fontWeight:"bold"},children:"Last Login"})]})}),x.jsx(gp,{children:i.map(G=>x.jsxs(Xs,{children:[x.jsx(Ht,{children:G.uid}),x.jsx(Ht,{children:Dm(G.lastLogin)})]},G.uid))})]})}),x.jsx(ete,{students:i,selectedCourse:o})]}),i.length>0&&x.jsxs(Ar,{sx:{mt:4,p:3,borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[x.jsx(tp,{control:x.jsx(np,{checked:k,onChange:()=>w(G=>!G)}),label:"Remove Student(s) from the Course"}),k&&x.jsx(Xee,{selectedCourse:o,selectedCourseDetails:M,onStudentChange:()=>{}})]})]}),x.jsxs(Be,{sx:{display:"flex",gap:4,mb:4},children:[x.jsxs(Be,{sx:{p:3,flex:1,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[x.jsx(tp,{control:x.jsx(np,{checked:p,onChange:()=>m(G=>!G)}),label:"Retrieve Course Passcode"}),p&&x.jsx(Be,{sx:{mt:2},children:x.jsx(lte,{})})]}),x.jsxs(Be,{sx:{p:3,flex:1,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[x.jsx(tp,{control:x.jsx(np,{checked:c,onChange:()=>d(G=>!G)}),label:"Request Creating a New Course"}),c&&x.jsx(Be,{sx:{mt:2},children:x.jsx(xt,{variant:"contained",onClick:O,sx:{backgroundColor:"#4CAF50",color:"#FFFFFF",fontFamily:"Staatliches, sans-serif",textTransform:"none","&:hover":{backgroundColor:"#388E3C"}},children:"Request New Course"})})]})]})]})};class ute{constructor(i){Jt(this,"genAI");Jt(this,"model");this.genAI=new kL(i),this.model=this.genAI.getGenerativeModel({model:"gemini-1.5-pro",generationConfig:{temperature:.1,topK:1,topP:.8,maxOutputTokens:16384}})}async processSyllabusText(i,r,o){return i.length>3e4?(console.log("Large document detected, using chunked processing"),this.processLargeDocument(i,r,o)):this.processSingleDocument(i,r,o)}async processSingleDocument(i,r,o){const a=this.buildSyllabusAnalysisPrompt(i,r);try{const p=(await(await this.model.generateContent(a)).response).text();if(!p||p.trim().length===0)throw new Error("Empty response from AI service");const m=p.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();let k;try{k=JSON.parse(m)}catch(w){throw console.error("JSON parsing failed:",w),console.error("Raw response text:",p),console.error("Cleaned text:",m),new Error("AI response format invalid - unable to parse JSON")}if(!k||typeof k!="object")throw new Error("AI response is not a valid object");return k.courseInfo||(console.warn("Missing courseInfo in AI response, using defaults"),k.courseInfo={}),this.validateAndSanitizeResponse(k)}catch(c){if(console.error("Gemini API Error:",c),c instanceof Error){if(c.message.includes("AI response")||c.message.includes("JSON parsing"))throw c;if(c.message.includes("API key"))throw new Error("Invalid or missing Gemini API key. Please check your environment configuration.");if(c.message.includes("quota")||c.message.includes("rate limit"))throw new Error("API rate limit exceeded. Please try again later.")}throw new Error(`Failed to process syllabus with AI: ${c instanceof Error?c.message:"Unknown error"}`)}}async processLargeDocument(i,r,o){const c=this.chunkText(i,35e3);console.log(`Processing ${c.length} chunks for large document`);const d=await this.processSingleDocument(c[0],r,o),p=await Promise.allSettled(c.slice(1).map(m=>this.processChunkForDetails(m,r)));return this.mergeChunkedResults(d,p)}chunkText(i,r){const o=[],a=i.split(`
`);let c="";const d=["schedule","session","unit","week","topic","assignment","objective","learning outcome","reading","textbook","prerequisite"];for(let p=0;p<a.length;p++){const m=a[p],k=a[p+1]||"",w=d.some(_=>m.toLowerCase().includes(_)||k.toLowerCase().includes(_));c.length+m.length>r&&c.length>0&&(w||c.length>r*.8)?(o.push(c.trim()),c=m):c+=`
`+m}return c.trim()&&o.push(c.trim()),o}async processChunkForDetails(i,r){const o=`
Extract additional course details from this syllabus section. Focus heavily on:
- ALL schedule items, sessions, units, weeks, and topics
- Session numbers, titles, and descriptions
- Learning outcomes for each session
- Reading assignments and resources
- Assignment details and due dates
- Any additional objectives or policies

IMPORTANT: Extract ALL schedule/session information - do not limit the number of items.
Convert session numbers to week numbers (Session 1 = Week 1, etc.).

Return JSON with only the fields you can extract from this section:
${i}
`;try{const p=(await(await this.model.generateContent(o)).response).text().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();return JSON.parse(p)}catch(a){return console.warn("Failed to process chunk:",a),{}}}mergeChunkedResults(i,r){const o={...i};return r.forEach(a=>{if(a.status==="fulfilled"&&a.value){const c=a.value;if(c.learningObjectives&&(o.learningObjectives=[...o.learningObjectives,...c.learningObjectives]),c.schedule){const d=new Set(o.schedule.map(m=>`${m.week}-${m.topic}`)),p=c.schedule.filter(m=>!d.has(`${m.week}-${m.topic}`));o.schedule=[...o.schedule,...p]}c.assignments&&(o.assignments=[...o.assignments,...c.assignments]),c.prerequisites&&(o.prerequisites=[...o.prerequisites,...c.prerequisites]),c.contactInfo&&(o.contactInfo={...o.contactInfo,...c.contactInfo}),c.policies&&(o.policies={...o.policies,...c.policies}),c.additionalResources&&(o.additionalResources={...o.additionalResources,...c.additionalResources})}}),o.learningObjectives=[...new Set(o.learningObjectives)],o.prerequisites=[...new Set(o.prerequisites)],o.schedule=o.schedule.sort((a,c)=>a.week-c.week),o}buildSyllabusAnalysisPrompt(i,r){return`
You are an expert educational content analyzer. Analyze the following course syllabus and extract structured information in JSON format.

IMPORTANT INSTRUCTIONS:
1. Return ONLY valid JSON - no markdown, no explanations, no additional text
2. If information is not available, use null or empty arrays/objects
3. Be thorough but accurate - don't invent information
4. For percentages in grading, ensure they are numbers (not strings)
5. For week numbers, ensure they are integers
6. Extract all learning objectives, even if they're not numbered
7. Look for course schedules in various formats (weekly, by date, by topic, by session/unit)
8. IMPORTANT: Extract ALL schedule items, sessions, units, and topics - do not limit to just a few weeks
9. For session-based schedules, convert sessions to week numbers (e.g., Session 1 = Week 1)
10. LABORATORY COURSES: Pay special attention to safety requirements, lab equipment, dress codes, group work policies, and experiment-based schedules
11. Identify course type: determine if this is a lecture, lab, seminar, or hybrid course based on content

Required JSON structure:
{
  "courseInfo": {
    "title": "string",
    "number": "string (e.g., CS 350, BIOL 301, CHEM 315)",
    "description": "string",
    "instructor": "string or null",
    "department": "string or null",
    "institution": "string or null",
    "credits": "number or null",
    "meetingTimes": "string or null (include lab times if applicable)",
    "semester": "string or null",
    "year": "string or null",
    "courseType": "lecture|lab|seminar|hybrid",
    "location": "string or null (lab room, classroom, etc.)"
  },
  "learningObjectives": [
    "string (each objective as separate item)"
  ],
  "schedule": [
    {
      "week": "number",
      "topic": "string",
      "description": "string or null",
      "readings": ["string"] or null,
      "assignments": ["string"] or null,
      "dueDate": "string or null",
      "notes": "string or null",
      "experimentType": "string or null (for lab courses)",
      "equipmentNeeded": ["string"] or null
    }
  ],
  "prerequisites": [
    "string (each prerequisite course/requirement)"
  ],
  "textbooks": [
    {
      "title": "string",
      "author": "string or null",
      "edition": "string or null",
      "isbn": "string or null",
      "required": "boolean"
    }
  ],
  "gradingPolicy": [
    {
      "component": "string (e.g., Exams, Homework, Projects)",
      "percentage": "number (e.g., 40, not '40%')",
      "description": "string or null"
    }
  ],
  "assignments": [
    {
      "name": "string",
      "description": "string",
      "type": "string (exam|project|homework|quiz|presentation|lab_report|lab_practical)",
      "dueDate": "string or null",
      "points": "number or null",
      "weight": "number or null (for weighted assignments)"
    }
  ],
  "policies": {
    "attendance": "string or null",
    "lateWork": "string or null",
    "academicIntegrity": "string or null",
    "accommodations": "string or null",
    "communication": "string or null",
    "safety": "string or null (lab safety requirements)",
    "groupWork": "string or null (partner/group work policies)",
    "makeupPolicy": "string or null (make-up lab/exam policies)"
  },
  "contactInfo": {
    "email": "string or null",
    "phone": "string or null",
    "office": "string or null",
    "officeHours": "string or null",
    "website": "string or null"
  },
  "additionalResources": {
    "software": ["string"] or null,
    "equipment": ["string"] or null,
    "websites": ["string"] or null,
    "tutoring": "string or null",
    "learningPlatform": "string or null (Moodle, Blackboard, etc.)"
  },
  "labSpecific": {
    "safetyRequirements": ["string"] or null,
    "requiredEquipment": ["string"] or null,
    "dresscode": ["string"] or null,
    "notebookRequirements": "string or null",
    "groupWorkStructure": "string or null",
    "makeupPolicy": "string or null"
  }
}

${r?`File name: ${r}`:""}

Syllabus content to analyze:
${i}
`}validateAndSanitizeResponse(i){var o,a,c,d,p,m,k,w,_,C,v,D,E,O;const r={courseInfo:{title:"Course Title",number:"COURSE 101",description:"Course description not available"},learningObjectives:[],schedule:[],prerequisites:[],textbooks:[],gradingPolicy:[],assignments:[],policies:{},contactInfo:{},additionalResources:{}};try{return{courseInfo:{...r.courseInfo,...i.courseInfo},learningObjectives:Array.isArray(i.learningObjectives)?i.learningObjectives:[],schedule:Array.isArray(i.schedule)?i.schedule.map((j,F)=>({week:typeof j.week=="number"?j.week:F+1,topic:j.topic||`Week ${F+1} Topic`,description:j.description||null,readings:Array.isArray(j.readings)?j.readings:null,assignments:Array.isArray(j.assignments)?j.assignments:null,dueDate:j.dueDate||null,notes:j.notes||null})):[],prerequisites:Array.isArray(i.prerequisites)?i.prerequisites:[],textbooks:Array.isArray(i.textbooks)?i.textbooks.map(j=>({title:j.title||"Unknown Textbook",author:j.author||null,edition:j.edition||null,isbn:j.isbn||null,required:typeof j.required=="boolean"?j.required:!0})):[],gradingPolicy:Array.isArray(i.gradingPolicy)?i.gradingPolicy.map(j=>({component:j.component||"Unknown Component",percentage:typeof j.percentage=="number"?j.percentage:0,description:j.description||null})):[],assignments:Array.isArray(i.assignments)?i.assignments.map(j=>({name:j.name||"Assignment",description:j.description||"",type:j.type||"homework",dueDate:j.dueDate||null,points:typeof j.points=="number"?j.points:null})):[],policies:{attendance:((o=i.policies)==null?void 0:o.attendance)||null,lateWork:((a=i.policies)==null?void 0:a.lateWork)||null,academicIntegrity:((c=i.policies)==null?void 0:c.academicIntegrity)||null,accommodations:((d=i.policies)==null?void 0:d.accommodations)||null,communication:((p=i.policies)==null?void 0:p.communication)||null},contactInfo:{email:((m=i.contactInfo)==null?void 0:m.email)||null,phone:((k=i.contactInfo)==null?void 0:k.phone)||null,office:((w=i.contactInfo)==null?void 0:w.office)||null,officeHours:((_=i.contactInfo)==null?void 0:_.officeHours)||null,website:((C=i.contactInfo)==null?void 0:C.website)||null},additionalResources:{software:Array.isArray((v=i.additionalResources)==null?void 0:v.software)?i.additionalResources.software:null,equipment:Array.isArray((D=i.additionalResources)==null?void 0:D.equipment)?i.additionalResources.equipment:null,websites:Array.isArray((E=i.additionalResources)==null?void 0:E.websites)?i.additionalResources.websites:null,tutoring:((O=i.additionalResources)==null?void 0:O.tutoring)||null}}}catch(M){return console.error("Error validating AI response:",M),r}}async generateCourseMaterials(i,r){const o=`
Based on the following course information, generate detailed course materials in JSON format.

CRITICAL REQUIREMENTS:
1. Return ONLY valid JSON - absolutely NO explanatory text, comments, or additional content
2. Do not add any text before or after the JSON array
3. Do not include comments like "// ..." in the JSON
4. Generate materials for ALL available weeks/sessions from the course information

Create materials for:
1. Course Overview (with detailed description, objectives, and policies)  
2. Weekly/session materials for ALL weeks found in the schedule
3. Assignment descriptions where applicable

Course Information:
${JSON.stringify(i,null,2)}

Generate materials for ${(r==null?void 0:r.includeWeeks)||i.schedule.length} weeks/sessions.

Return ONLY a JSON array of materials with this structure:
[
  {
    "id": "unique-id",
    "title": "Material Title",
    "type": "overview|weekly|assignment|resource",
    "header": {"title": "string", "content": "string"},
    "sections": [
      {
        "id": "section-id",
        "title": "Section Title",
        "content": "HTML formatted content",
        "subsections": [
          {
            "id": "subsection-id",
            "title": "Subsection Title",
            "content": "HTML formatted content"
          }
        ]
      }
    ],
    "footer": {"title": "string", "content": "string"},
    "published": false,
    "scheduledTimestamp": "ISO date string or null"
  }
]
`;try{const d=(await(await this.model.generateContent(o)).response).text();if(!d||d.trim().length===0)return console.warn("Empty response from AI service for material generation"),[];let p=d.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();const m=p.lastIndexOf("]");m!==-1&&(p=p.substring(0,m+1));let k;try{k=JSON.parse(p)}catch(w){return console.error("JSON parsing failed for material generation:",w),console.error("Raw response text:",d),console.error("Cleaned text:",p),console.warn("Falling back to empty materials array"),[]}return Array.isArray(k)?k:(console.warn("AI response is not an array, wrapping in array:",k),k?[k]:[])}catch(a){return console.error("Error generating materials:",a),[]}}}let KC=null;const V8=t=>{const i="AIzaSyDYgUVJwspUzRfZEhGCUAdLR66lNmM79A8";if(!KC&&i&&(KC=new ute(i)),!KC)throw new Error("Gemini service not initialized. Please configure VITE_GEMINI_API_KEY environment variable.");return KC},Ug=()=>Math.random().toString(36).substr(2,9),dte=t=>t.length?`<ul>${t.map(r=>`<li>${r}</li>`).join("")}</ul>`:"<p>No objectives specified</p>",hte=t=>t.length?`<ul>${t.map(r=>`<li>${r}</li>`).join("")}</ul>`:"<p>No readings assigned</p>",kb=vk()(Xy($4((t,i)=>({uploadedFile:null,uploadProgress:0,extractedText:"",extractionMetadata:null,storedSyllabusFile:null,aiExtractedInfo:null,useAIProcessing:!0,parsedCourseInfo:null,generatedMaterials:[],currentStep:"upload",isProcessing:!1,error:null,processingProgress:null,setUploadedFile:r=>t({uploadedFile:r}),setUploadProgress:r=>t({uploadProgress:r}),setExtractedText:r=>t({extractedText:r}),setStoredSyllabusFile:r=>t({storedSyllabusFile:r}),setAIExtractedInfo:r=>t({aiExtractedInfo:r}),setUseAIProcessing:r=>t({useAIProcessing:r}),setParsedCourseInfo:r=>t({parsedCourseInfo:r}),setGeneratedMaterials:r=>t({generatedMaterials:r}),setCurrentStep:r=>t({currentStep:r}),setIsProcessing:r=>t({isProcessing:r}),setError:r=>t({error:r}),setProcessingProgress:r=>t({processingProgress:r}),uploadSyllabus:async(r,o)=>{const a=yL(r);if(!a.isValid){t({error:a.error,currentStep:"upload"});return}const c=MG(r);t({uploadedFile:r,uploadProgress:0,error:null,extractionMetadata:{fileName:r.name,fileSize:r.size,fileType:AL(r),estimatedProcessingTime:c},processingProgress:{stage:"uploading",percentage:0,currentOperation:"Preparing file for processing..."}});try{for(let d=0;d<=100;d+=20)t({uploadProgress:d,processingProgress:{stage:"uploading",percentage:d,currentOperation:d===100?"Upload complete, starting text extraction...":`Uploading file... ${d}%`}}),await new Promise(p=>setTimeout(p,100));if(t({currentStep:"processing",isProcessing:!0,processingProgress:{stage:"extracting",percentage:0,currentOperation:"Extracting text from document..."}}),await i().extractTextFromFile(),o)try{t({processingProgress:{stage:"uploading",percentage:90,currentOperation:"Storing syllabus file..."}});const d=await ite(r,o);t({storedSyllabusFile:d}),console.log("Syllabus file stored successfully:",d.url)}catch(d){console.warn("Failed to store syllabus file, continuing with processing:",d)}t({processingProgress:{stage:"analyzing",percentage:0,currentOperation:i().useAIProcessing?"Analyzing syllabus with AI...":"Parsing syllabus content..."}}),await i().parseSyllabus()}catch(d){t({error:d instanceof Error?d.message:"Failed to upload file",currentStep:"upload"})}},extractTextFromFile:async()=>{const{uploadedFile:r}=i();if(!r){t({error:"No file uploaded"});return}t({isProcessing:!0,error:null});try{const o=await vL(r);t({extractedText:o.text,extractionMetadata:{...i().extractionMetadata,...o.metadata},isProcessing:!1})}catch(o){t({error:o.message||"Failed to extract text from file",isProcessing:!1})}},parseSyllabus:async()=>{const{extractedText:r,uploadedFile:o,useAIProcessing:a}=i();if(!r){t({error:"No text to parse"});return}t({isProcessing:!0,error:null});try{let c;if(a)try{t({processingProgress:{stage:"analyzing",percentage:25,currentOperation:"Sending syllabus to AI for analysis..."}});const p=await V8().processSyllabusText(r,o==null?void 0:o.name);t({processingProgress:{stage:"analyzing",percentage:75,currentOperation:"Processing AI analysis results..."}}),t({aiExtractedInfo:p}),c={suggestedTitle:p.courseInfo.title||"Course Title",suggestedNumber:p.courseInfo.number||"COURSE 101",suggestedDescription:p.courseInfo.description||"Course description not available",objectives:p.learningObjectives.length>0?p.learningObjectives:["Students will understand key concepts","Students will develop practical skills","Students will apply knowledge to real-world scenarios"],schedule:p.schedule.map(m=>({week:m.week,topic:m.topic,description:m.description,readings:m.readings||[],assignments:m.assignments||[],date:m.dueDate?new Date(m.dueDate):void 0})),prerequisites:p.prerequisites,textbook:p.textbooks.length>0?p.textbooks[0].title:"",grading:p.gradingPolicy.map(m=>`${m.component}: ${m.percentage}%`).join(", "),instructor:p.courseInfo.instructor,department:p.courseInfo.department,institution:p.courseInfo.institution,credits:p.courseInfo.credits,semester:p.courseInfo.semester,year:p.courseInfo.year,contactInfo:p.contactInfo,policies:p.policies,textbooks:p.textbooks,gradingComponents:p.gradingPolicy,assignments:p.assignments}}catch(d){console.warn("AI processing failed, falling back to pattern-based parsing:",d),c=await i().fallbackParsing(r)}else c=await i().fallbackParsing(r);t({parsedCourseInfo:c}),t({processingProgress:{stage:"generating",percentage:0,currentOperation:"Generating course materials..."}}),await i().generateMaterials()}catch(c){t({error:c instanceof Error?c.message:"Failed to parse syllabus",isProcessing:!1})}},fallbackParsing:async r=>{var _,C;const o=r.split(`
`).filter(v=>v.trim()),a=o.find(v=>{const D=v.toLowerCase();return(D.includes("course")||D.includes("class"))&&(D.includes("title")||D.includes("name")||v.includes(":"))}),c=o.find(v=>{const D=v.toLowerCase();return D.includes("description")||D.includes("overview")||D.includes("about this course")}),d=o.find(v=>/[A-Z]{2,4}\s*\d{3,4}/.test(v)||v.toLowerCase().includes("course number")),p=o.findIndex(v=>{const D=v.toLowerCase();return D.includes("objective")||D.includes("learning outcome")||D.includes("goals")||D.includes("by the end of this course")}),m=[];if(p!==-1)for(let v=p+1;v<o.length&&v<p+15;v++){const D=o[v].trim();D&&(D.startsWith("-")||D.startsWith("")||D.match(/^\d+\./)||D.startsWith("*"))?m.push(D.replace(/^[-\d.*]\s*/,"")):D&&m.length===0&&m.push(D)}const k=[];for(let v=1;v<=16;v++){const D=new RegExp(`week\\s*${v}|${v}\\s*week`,"i"),E=o.find(O=>D.test(O));if(E){const O=E.replace(/week\s*\d+:?\s*/i,"").trim()||`Week ${v} Topic`;k.push({week:v,topic:O,description:`Content and activities for week ${v}`,readings:[],assignments:[]})}else k.push({week:v,topic:`Week ${v} Topic`,description:`Content for week ${v}`,readings:[],assignments:[]})}let w="COURSE 101";if(d){const v=d.match(/[A-Z]{2,4}\s*\d{3,4}/);v&&(w=v[0])}return{suggestedTitle:a&&((_=a.split(":").slice(-1)[0])==null?void 0:_.trim())||"Course Title",suggestedNumber:w,suggestedDescription:c&&((C=c.split(":").slice(-1)[0])==null?void 0:C.trim())||r.substring(0,300)+"...",objectives:m.length>0?m:["Students will understand key concepts","Students will develop practical skills","Students will apply knowledge to real-world scenarios"],schedule:k.slice(0,15),prerequisites:[],textbook:"",grading:""}},generateMaterials:async()=>{const{parsedCourseInfo:r,aiExtractedInfo:o,useAIProcessing:a}=i();if(!r){t({error:"No parsed course info available"});return}t({isProcessing:!0,error:null});try{let c=[];if(a&&o)try{const p=await V8().generateCourseMaterials(o,{includeWeeks:o.schedule.length,materialTypes:["overview","weekly","assignment"]});p&&p.length>0?c=p.map(m=>({id:m.id||Ug(),title:m.title||"Generated Material",header:m.header||{title:"Header",content:`<p>${m.title||"Material"}</p>`},footer:m.footer||{title:"Footer",content:"<p>Contact instructor for questions</p>"},sections:m.sections||[],published:m.published||!1,scheduledTimestamp:m.scheduledTimestamp?new Date(m.scheduledTimestamp):void 0})):(console.warn("AI material generation returned empty results, using fallback"),c=i().generateFallbackMaterials(r))}catch(d){console.warn("AI material generation failed, using fallback:",d),c=i().generateFallbackMaterials(r)}else c=i().generateFallbackMaterials(r);t({generatedMaterials:c,isProcessing:!1,currentStep:"review",processingProgress:{stage:"complete",percentage:100,currentOperation:"Processing complete! Review your course materials below."}})}catch(c){t({error:c instanceof Error?c.message:"Failed to generate materials",isProcessing:!1})}},generateFallbackMaterials:r=>{const o=[];return o.push({id:Ug(),title:`${r.suggestedNumber} - Course Overview`,header:{title:"Course Overview",content:`<p>${r.suggestedTitle}</p>`},footer:{title:"Footer",content:"<p>Contact instructor for questions</p>"},sections:[{id:Ug(),title:"Course Description",content:`<p>${r.suggestedDescription}</p>`,subsections:[],images:[],links:[]},{id:Ug(),title:"Learning Objectives",content:dte(r.objectives),subsections:[],images:[],links:[]}],published:!1}),r.schedule.slice(0,6).forEach(a=>{o.push({id:Ug(),title:`Week ${a.week}: ${a.topic}`,header:{title:`Week ${a.week}`,content:`<p>${a.topic}</p>`},footer:{title:"Footer",content:"<p>Review materials before next class</p>"},sections:[{id:Ug(),title:"Overview",content:`<p>${a.description||`Topics and activities for week ${a.week}`}</p>`,subsections:a.readings&&a.readings.length>0?[{id:Ug(),title:"Required Readings",content:hte(a.readings),subSubsections:[],images:[],links:[]}]:[],images:[],links:[]}],published:!1,scheduledTimestamp:a.date})}),o},editMaterial:(r,o)=>{const{generatedMaterials:a}=i(),c=[...a];c[r]={...c[r],...o},t({generatedMaterials:c})},editCourseInfo:r=>{const{parsedCourseInfo:o}=i();o&&t({parsedCourseInfo:{...o,...r}})},reset:()=>t({uploadedFile:null,uploadProgress:0,extractedText:"",extractionMetadata:null,storedSyllabusFile:null,aiExtractedInfo:null,useAIProcessing:!0,parsedCourseInfo:null,generatedMaterials:[],currentStep:"upload",isProcessing:!1,error:null,processingProgress:null})}),{name:"syllabus-store",partialize:t=>({extractedText:t.extractedText,extractionMetadata:t.extractionMetadata,storedSyllabusFile:t.storedSyllabusFile,aiExtractedInfo:t.aiExtractedInfo,useAIProcessing:t.useAIProcessing,parsedCourseInfo:t.parsedCourseInfo,generatedMaterials:t.generatedMaterials,currentStep:t.currentStep})}))),Gv={BASE_URL:"/nexlab/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_KEY:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",VITE_APP_ID:"1:922352392986:web:6c4d6e16b5e615bd4daaa3",VITE_AUTH_DOMAIN:"nexlab-prod.firebaseapp.com",VITE_CHATBOT_DEFAULT_ID:"ce5f7921-a3a0-4ea7-b95f-10fe41becda5",VITE_DEPLOY_ENV:"github",VITE_GEMINI_API_KEY:"AIzaSyDYgUVJwspUzRfZEhGCUAdLR66lNmM79A8",VITE_GEMINI_MATERIAL_API_KEY:"AIzaSyAcb1QNEdevZFSay3ZaT9MB7xQq6f0dMh0",VITE_GOOGLE_ANALYTICS_ID:"G-X2SBY2YQ4V",VITE_MESSAGING_SENDER_ID:"922352392986",VITE_PROJECT_ID:"nexlab-prod",VITE_PUBLIC_COURSE_ID:"rqoyheM9Lf8jGftIoZyT",VITE_STORAGE_BUCKET:"nexlab-prod.firebasestorage.app"},Yv={GEMINI_API_KEY:"VITE_GEMINI_API_KEY",ENABLE_AI_PROCESSING:"VITE_ENABLE_AI_PROCESSING",MAX_RETRIES:"VITE_AI_MAX_RETRIES",TIMEOUT:"VITE_AI_TIMEOUT",FALLBACK_TO_PATTERN:"VITE_AI_FALLBACK_TO_PATTERN"},fte=()=>({geminiApiKey:Gv[Yv.GEMINI_API_KEY],enableAIProcessing:Gv[Yv.ENABLE_AI_PROCESSING]!=="false",maxRetries:parseInt(Gv[Yv.MAX_RETRIES]||"3",10),timeout:parseInt(Gv[Yv.TIMEOUT]||"30000",10),fallbackToPatternParsing:Gv[Yv.FALLBACK_TO_PATTERN]!=="false"}),ZP=t=>{const i=[];return t.enableAIProcessing&&!t.geminiApiKey&&i.push("Gemini API key is required when AI processing is enabled"),(t.maxRetries<0||t.maxRetries>10)&&i.push("Max retries must be between 0 and 10"),(t.timeout<1e3||t.timeout>12e4)&&i.push("Timeout must be between 1 second and 2 minutes"),{isValid:i.length===0,errors:i}},JP=()=>{const t=fte(),i=ZP(t);return{config:t,...i}},H8=({onUploadComplete:t,apiKey:i,educatorUid:r})=>{const{uploadedFile:o,uploadProgress:a,error:c,isProcessing:d,useAIProcessing:p,processingProgress:m,uploadSyllabus:k,setUploadedFile:w,setError:_}=kb(),[C,v]=ae.useState(!1),D=ae.useMemo(()=>["text/plain","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],[]),E=ae.useMemo(()=>[".txt",".pdf",".docx"],[]),O=ae.useCallback(async Z=>{const se=(X=>{if(!D.includes(X.type))return`Unsupported file type. Please upload ${E.join(", ")} files.`;const K=10*1024*1024;return X.size>K?"File size too large. Please upload files smaller than 10MB.":null})(Z);if(se){_(se);return}try{await k(Z,r),t==null||t(Z)}catch(X){console.error("Upload error:",X)}},[k,t,_,D,E,i,r]),M=ae.useCallback(Z=>{Z.preventDefault(),v(!1);const Y=Array.from(Z.dataTransfer.files);Y.length>0&&O(Y[0])},[O]),j=ae.useCallback(Z=>{Z.preventDefault(),v(!0)},[]),F=ae.useCallback(Z=>{Z.preventDefault(),v(!1)},[]),G=ae.useCallback(Z=>{const Y=Z.target.files;Y&&Y.length>0&&O(Y[0]),Z.target.value=""},[O]),J=ae.useCallback(()=>{w(null),_(null)},[w,_]),H=Z=>{if(Z===0)return"0 Bytes";const Y=1024,se=["Bytes","KB","MB","GB"],X=Math.floor(Math.log(Z)/Math.log(Y));return parseFloat((Z/Math.pow(Y,X)).toFixed(2))+" "+se[X]},z=()=>x.jsx(sH,{color:"primary"});return x.jsxs(Be,{sx:{width:"100%",maxWidth:600,mx:"auto"},children:[!o&&x.jsxs(Ar,{sx:{p:4,border:"2px dashed",borderColor:C?"primary.main":"grey.300",backgroundColor:C?"primary.50":"background.paper",cursor:"pointer",transition:"all 0.3s ease",textAlign:"center","&:hover":{borderColor:"primary.main",backgroundColor:"primary.50"}},onDragOver:j,onDragLeave:F,onDrop:M,onClick:()=>{var Z;return(Z=document.getElementById("syllabus-file-input"))==null?void 0:Z.click()},children:[x.jsx(oH,{sx:{fontSize:48,color:C?"primary.main":"grey.400",mb:2}}),x.jsx(Pe,{variant:"h6",gutterBottom:!0,children:"Upload Your Syllabus"}),x.jsx(Pe,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Drag and drop your syllabus file here, or click to browse"}),x.jsx(Be,{sx:{display:"flex",flexWrap:"wrap",gap:1,justifyContent:"center"},children:E.map(Z=>x.jsx(Xr,{label:Z.toUpperCase(),size:"small",variant:"outlined",color:"primary"},Z))}),x.jsx(Pe,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:"Maximum file size: 10MB"}),x.jsx("input",{id:"syllabus-file-input",type:"file",accept:D.join(","),onChange:G,style:{display:"none"}})]}),o&&x.jsxs(Ar,{sx:{p:3,mb:2},children:[x.jsxs(Be,{sx:{display:"flex",alignItems:"center",gap:2},children:[z(),x.jsxs(Be,{sx:{flexGrow:1},children:[x.jsx(Pe,{variant:"subtitle1",sx:{fontWeight:500},children:o.name}),x.jsx(Pe,{variant:"body2",color:"text.secondary",children:H(o.size)})]}),!d&&x.jsx(ur,{onClick:J,color:"error",size:"small",children:x.jsx(Gg,{})})]}),a>0&&a<100&&x.jsxs(Be,{sx:{mt:2},children:[x.jsx(Om,{variant:"determinate",value:a,sx:{height:6,borderRadius:3}}),x.jsxs(Pe,{variant:"caption",sx:{mt:1,display:"block"},children:["Uploading... ",a,"%"]})]}),d&&x.jsx(Be,{sx:{mt:2},children:m?x.jsxs(x.Fragment,{children:[x.jsxs(Be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[x.jsx(Xr,{label:m.stage.charAt(0).toUpperCase()+m.stage.slice(1),size:"small",color:"primary",variant:"outlined"}),x.jsxs(Pe,{variant:"caption",color:"text.secondary",children:[m.percentage,"%"]})]}),x.jsx(Om,{variant:"determinate",value:m.percentage,sx:{height:6,borderRadius:3,mb:1}}),x.jsx(Pe,{variant:"caption",sx:{display:"block",color:"text.secondary"},children:m.currentOperation})]}):x.jsxs(x.Fragment,{children:[x.jsx(Om,{sx:{height:6,borderRadius:3}}),x.jsx(Pe,{variant:"caption",sx:{mt:1,display:"block"},children:p?"AI is analyzing your syllabus...":"Processing syllabus..."})]})})]}),c&&x.jsx(Pr,{severity:"error",sx:{mt:2},onClose:()=>_(null),children:c}),x.jsxs(Ar,{sx:{p:2,mt:2,backgroundColor:"info.50"},children:[x.jsx(Pe,{variant:"body2",color:"info.main",sx:{fontWeight:500,mb:1},children:" Tips for best results:"}),x.jsxs(Pe,{variant:"body2",color:"text.secondary",component:"ul",sx:{m:0,pl:2},children:[x.jsx("li",{children:"Include course objectives and weekly schedule"}),x.jsx("li",{children:"List reading assignments and materials"}),x.jsx("li",{children:"Text files (.txt) work best for parsing"}),x.jsx("li",{children:"Ensure text is well-structured with clear headings"})]})]})]})},pte=({onContinue:t})=>{var j;const{parsedCourseInfo:i,editCourseInfo:r,error:o,isProcessing:a,currentStep:c}=kb(),[d,p]=ae.useState(!1),[m,k]=ae.useState(null);if(!i)return x.jsx(Pr,{severity:"warning",children:"No course information available. Please upload and process a syllabus first."});if(a||c==="processing")return x.jsx(Pr,{severity:"info",children:x.jsx(Pe,{variant:"body2",children:" Processing complete! Preparing course information for review..."})});const w=()=>{k({...i}),p(!0)},_=()=>{m&&(r(m),p(!1),k(null))},C=()=>{p(!1),k(null)},v=()=>{m&&k({...m,objectives:[...m.objectives,"New objective"]})},D=F=>{if(m){const G=m.objectives.filter((J,H)=>H!==F);k({...m,objectives:G})}},E=(F,G)=>{if(m){const J=[...m.objectives];J[F]=G,k({...m,objectives:J})}},O=(F,G,J)=>{if(m){const H=[...m.schedule];H[F]={...H[F],[G]:J},k({...m,schedule:H})}},M=d?m:i;return M?x.jsx(Be,{sx:{maxWidth:800,mx:"auto"},children:x.jsxs(Ar,{sx:{p:3},children:[x.jsxs(Be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[x.jsx(Pe,{variant:"h5",component:"h2",children:"Course Information Preview"}),d?x.jsxs(Be,{sx:{display:"flex",gap:1},children:[x.jsx(xt,{startIcon:x.jsx(aH,{}),onClick:_,variant:"contained",color:"primary",children:"Save"}),x.jsx(xt,{startIcon:x.jsx(lH,{}),onClick:C,variant:"outlined",children:"Cancel"})]}):x.jsx(xt,{startIcon:x.jsx(wk,{}),onClick:w,variant:"outlined",children:"Edit Details"})]}),o&&x.jsx(Pr,{severity:"error",sx:{mb:3},children:o}),x.jsxs(Zt,{container:!0,spacing:3,children:[x.jsx(Zt,{item:!0,xs:12,md:6,children:x.jsx(_n,{fullWidth:!0,label:"Course Number",value:M.suggestedNumber,onChange:F=>d&&m&&k({...m,suggestedNumber:F.target.value}),disabled:!d,variant:d?"outlined":"filled"})}),x.jsx(Zt,{item:!0,xs:12,md:6,children:x.jsx(_n,{fullWidth:!0,label:"Course Title",value:M.suggestedTitle,onChange:F=>d&&m&&k({...m,suggestedTitle:F.target.value}),disabled:!d,variant:d?"outlined":"filled"})}),x.jsx(Zt,{item:!0,xs:12,children:x.jsx(_n,{fullWidth:!0,multiline:!0,rows:4,label:"Course Description",value:M.suggestedDescription,onChange:F=>d&&m&&k({...m,suggestedDescription:F.target.value}),disabled:!d,variant:d?"outlined":"filled"})})]}),x.jsx(iu,{sx:{my:3}}),x.jsxs(Be,{sx:{mb:3},children:[x.jsxs(Be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[x.jsxs(Pe,{variant:"h6",children:["Learning Objectives (",M.objectives.length,")"]}),d&&x.jsx(ur,{onClick:v,color:"primary",children:x.jsx(G0,{})})]}),x.jsx(Be,{sx:{display:"flex",flexDirection:"column",gap:2},children:M.objectives.map((F,G)=>x.jsxs(Be,{sx:{display:"flex",alignItems:"center",gap:1},children:[x.jsxs(Pe,{variant:"body2",sx:{minWidth:24,color:"text.secondary"},children:[G+1,"."]}),d?x.jsxs(x.Fragment,{children:[x.jsx(_n,{fullWidth:!0,multiline:!0,value:F,onChange:J=>E(G,J.target.value),size:"small"}),x.jsx(ur,{onClick:()=>D(G),color:"error",size:"small",children:x.jsx(Gg,{})})]}):x.jsx(Pe,{variant:"body2",children:F})]},G))})]}),x.jsx(iu,{sx:{my:3}}),x.jsxs(qh,{children:[x.jsx(Vh,{expandIcon:x.jsx(Kd,{}),children:x.jsxs(Pe,{variant:"h6",children:["Course Schedule (",M.schedule.length," weeks)"]})}),x.jsx(Hh,{children:x.jsx(Be,{sx:{display:"flex",flexDirection:"column",gap:2},children:M.schedule.map((F,G)=>x.jsx(Ar,{sx:{p:2,backgroundColor:"grey.50"},children:x.jsxs(Zt,{container:!0,spacing:2,alignItems:"center",children:[x.jsx(Zt,{item:!0,xs:12,sm:1,children:x.jsx(Xr,{label:`W${F.week}`,size:"small",color:"primary"})}),x.jsx(Zt,{item:!0,xs:12,sm:5,children:d?x.jsx(_n,{fullWidth:!0,size:"small",label:"Topic",value:F.topic,onChange:J=>O(G,"topic",J.target.value)}):x.jsx(Pe,{variant:"body2",sx:{fontWeight:500},children:F.topic})}),x.jsx(Zt,{item:!0,xs:12,sm:6,children:d?x.jsx(_n,{fullWidth:!0,size:"small",label:"Description",value:F.description||"",onChange:J=>O(G,"description",J.target.value)}):x.jsx(Pe,{variant:"body2",color:"text.secondary",children:F.description||"No description"})})]})},G))})})]}),(((j=M.prerequisites)==null?void 0:j.length)||M.textbook||M.grading)&&x.jsxs(x.Fragment,{children:[x.jsx(iu,{sx:{my:3}}),x.jsx(Pe,{variant:"h6",sx:{mb:2},children:"Additional Information"}),x.jsxs(Zt,{container:!0,spacing:2,children:[M.prerequisites&&M.prerequisites.length>0&&x.jsxs(Zt,{item:!0,xs:12,md:4,children:[x.jsx(Pe,{variant:"subtitle2",sx:{mb:1},children:"Prerequisites:"}),x.jsx(Pe,{variant:"body2",color:"text.secondary",children:M.prerequisites.join(", ")})]}),M.textbook&&x.jsxs(Zt,{item:!0,xs:12,md:4,children:[x.jsx(Pe,{variant:"subtitle2",sx:{mb:1},children:"Textbook:"}),x.jsx(Pe,{variant:"body2",color:"text.secondary",children:M.textbook})]}),M.grading&&x.jsxs(Zt,{item:!0,xs:12,md:4,children:[x.jsx(Pe,{variant:"subtitle2",sx:{mb:1},children:"Grading:"}),x.jsx(Pe,{variant:"body2",color:"text.secondary",children:M.grading})]})]})]}),t&&x.jsx(Be,{sx:{mt:4,textAlign:"right"},children:x.jsx(xt,{variant:"contained",color:"primary",size:"large",onClick:t,disabled:d,children:"Continue to Materials Preview"})})]})}):null},mte=({onContinue:t,onBack:i})=>{const{generatedMaterials:r,editMaterial:o,error:a}=kb(),[c,d]=ae.useState(null),[p,m]=ae.useState(null);if(!r.length)return x.jsx(Pr,{severity:"warning",children:"No materials generated. Please go back and process a syllabus first."});const k=M=>{d({index:M,material:{...r[M]}})},w=()=>{c&&(o(c.index,c.material),d(null))},_=()=>{d(null)},C=M=>{m(M)},v=M=>{const j=r[M];o(M,{published:!j.published})},D=(M,j=150)=>{const F=M.replace(/<[^>]*>/g,"");return F.length>j?F.substring(0,j)+"...":F},E=M=>M.toLowerCase().includes("overview")?x.jsx(IE,{color:"primary"}):M.toLowerCase().includes("week")?x.jsx(Nj,{color:"secondary"}):x.jsx(IE,{color:"action"}),O=r.filter(M=>M.published).length;return x.jsxs(Be,{sx:{maxWidth:1e3,mx:"auto"},children:[x.jsxs(Ar,{sx:{p:3,mb:3},children:[x.jsxs(Be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[x.jsx(Pe,{variant:"h5",component:"h2",children:"Generated Course Materials"}),x.jsx(Xr,{label:`${O}/${r.length} will be published`,color:"primary",variant:"outlined"})]}),x.jsx(Pe,{variant:"body2",color:"text.secondary",children:"Review and customize the course materials generated from your syllabus. You can edit content, toggle publication status, and organize materials before creating your course."}),a&&x.jsx(Pr,{severity:"error",sx:{mt:2},children:a})]}),x.jsx(Zt,{container:!0,spacing:3,children:r.map((M,j)=>x.jsx(Zt,{item:!0,xs:12,md:6,lg:4,children:x.jsxs(Ku,{sx:{height:"100%",display:"flex",flexDirection:"column",border:M.published?"2px solid":"1px solid",borderColor:M.published?"success.main":"divider"},children:[x.jsxs(jh,{sx:{flexGrow:1},children:[x.jsxs(Be,{sx:{display:"flex",alignItems:"flex-start",gap:1,mb:2},children:[E(M.title),x.jsxs(Be,{sx:{flexGrow:1},children:[x.jsx(Pe,{variant:"h6",component:"h3",sx:{fontSize:"1rem",lineHeight:1.3,mb:1},children:M.title}),x.jsxs(Be,{sx:{display:"flex",gap:1,alignItems:"center"},children:[x.jsx(tp,{control:x.jsx(np,{checked:M.published,onChange:()=>v(j),size:"small"}),label:x.jsx(Pe,{variant:"caption",children:M.published?"Publish":"Draft"}),sx:{mr:0}}),M.scheduledTimestamp&&x.jsx(Xr,{label:"Scheduled",size:"small",variant:"outlined",color:"info"})]})]})]}),x.jsxs(Pe,{variant:"body2",color:"text.secondary",sx:{mb:2},children:[x.jsx("strong",{children:"Sections:"})," ",M.sections.length]}),M.sections[0]&&x.jsxs(Be,{sx:{mb:2},children:[x.jsx(Pe,{variant:"subtitle2",sx:{mb:1},children:M.sections[0].title}),x.jsx(Pe,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.85rem",fontStyle:"italic"},children:D(M.sections[0].content)})]})]}),x.jsxs(cH,{children:[x.jsx(xt,{size:"small",startIcon:x.jsx(F4,{}),onClick:()=>C(M),children:"Preview"}),x.jsx(xt,{size:"small",startIcon:x.jsx(wk,{}),onClick:()=>k(j),children:"Edit"})]})]})},M.id))}),x.jsxs(Be,{sx:{display:"flex",justifyContent:"space-between",mt:4},children:[i&&x.jsx(xt,{variant:"outlined",onClick:i,size:"large",children:"Back to Course Info"}),t&&x.jsxs(xt,{variant:"contained",color:"primary",onClick:t,size:"large",disabled:O===0,children:["Create Course with ",O," Materials"]})]}),x.jsxs(Ms,{open:c!==null,onClose:_,maxWidth:"md",fullWidth:!0,children:[x.jsxs(Ns,{children:["Edit Material: ",c==null?void 0:c.material.title]}),x.jsx(Os,{children:c&&x.jsxs(Be,{sx:{pt:1},children:[x.jsx(_n,{fullWidth:!0,label:"Material Title",value:c.material.title,onChange:M=>d({...c,material:{...c.material,title:M.target.value}}),sx:{mb:3}}),x.jsx(Pe,{variant:"h6",sx:{mb:2},children:"Header"}),x.jsx(_n,{fullWidth:!0,label:"Header Title",value:c.material.header.title,onChange:M=>d({...c,material:{...c.material,header:{...c.material.header,title:M.target.value}}}),sx:{mb:2}}),x.jsx(_n,{fullWidth:!0,multiline:!0,rows:2,label:"Header Content",value:c.material.header.content,onChange:M=>d({...c,material:{...c.material,header:{...c.material.header,content:M.target.value}}}),sx:{mb:3}}),x.jsx(Pe,{variant:"h6",sx:{mb:2},children:"Sections"}),c.material.sections.map((M,j)=>x.jsxs(qh,{sx:{mb:2},children:[x.jsx(Vh,{expandIcon:x.jsx(Kd,{}),children:x.jsx(Pe,{children:M.title})}),x.jsxs(Hh,{children:[x.jsx(_n,{fullWidth:!0,label:"Section Title",value:M.title,onChange:F=>{const G=[...c.material.sections];G[j]={...G[j],title:F.target.value},d({...c,material:{...c.material,sections:G}})},sx:{mb:2}}),x.jsx(_n,{fullWidth:!0,multiline:!0,rows:4,label:"Section Content",value:M.content,onChange:F=>{const G=[...c.material.sections];G[j]={...G[j],content:F.target.value},d({...c,material:{...c.material,sections:G}})}})]})]},M.id))]})}),x.jsxs(Bs,{children:[x.jsx(xt,{onClick:_,children:"Cancel"}),x.jsx(xt,{onClick:w,variant:"contained",children:"Save Changes"})]})]}),x.jsxs(Ms,{open:p!==null,onClose:()=>m(null),maxWidth:"md",fullWidth:!0,children:[x.jsx(Ns,{children:p==null?void 0:p.title}),x.jsx(Os,{children:p&&x.jsxs(Be,{sx:{pt:1},children:[x.jsxs(Ar,{sx:{p:2,mb:3,backgroundColor:"primary.50"},children:[x.jsx(Pe,{variant:"h6",color:"primary",children:p.header.title}),x.jsx(Pe,{variant:"body2",sx:{mt:1},children:p.header.content.replace(/<[^>]*>/g,"")})]}),p.sections.map(M=>x.jsxs(Be,{sx:{mb:3},children:[x.jsx(Pe,{variant:"h6",sx:{mb:2},children:M.title}),x.jsx(Pe,{variant:"body1",sx:{mb:2},children:M.content.replace(/<[^>]*>/g,"")}),M.subsections.map(j=>x.jsxs(Be,{sx:{ml:2,mb:2},children:[x.jsx(Pe,{variant:"subtitle1",sx:{mb:1},children:j.title}),x.jsx(Pe,{variant:"body2",color:"text.secondary",children:j.content.replace(/<[^>]*>/g,"")})]},j.id))]},M.id)),x.jsx(Ar,{sx:{p:2,backgroundColor:"grey.50"},children:x.jsx(Pe,{variant:"body2",color:"text.secondary",children:p.footer.content.replace(/<[^>]*>/g,"")})})]})}),x.jsx(Bs,{children:x.jsx(xt,{onClick:()=>m(null),children:"Close"})})]})]})},gte=({onConfigChange:t,compact:i=!1})=>{const{useAIProcessing:r,setUseAIProcessing:o}=kb(),[a,c]=ae.useState(null);ae.useEffect(()=>{const{config:w,isValid:_,errors:C}=JP();c({config:w,isValid:_,errors:C})},[]);const d=w=>{if(o(w),a){const _={...a.config,enableAIProcessing:w},C=ZP(_);c({config:_,...C}),t==null||t(_)}},p=()=>a?a.isValid&&r?x.jsx(c5,{color:"success"}):!a.isValid&&r?x.jsx(dH,{color:"error"}):x.jsx(wM,{color:"action"}):x.jsx(wM,{color:"action"}),m=()=>r?a?a.isValid?"AI processing ready - enhanced syllabus analysis enabled":`Configuration issues: ${a.errors.join(", ")}`:"Loading configuration...":"AI processing disabled - using pattern-based parsing",k=()=>r?a?a.isValid?"success":"error":"info":"warning";return i?x.jsxs(Be,{sx:{display:"flex",alignItems:"center",gap:2},children:[p(),x.jsx(tp,{control:x.jsx(np,{checked:r,onChange:w=>d(w.target.checked),size:"small"}),label:"AI Processing"}),x.jsx(Dl,{title:m(),children:x.jsx(uH,{fontSize:"small",color:"action"})})]}):x.jsx(Ar,{sx:{p:2,mb:2},children:x.jsxs(qh,{children:[x.jsx(Vh,{expandIcon:x.jsx(Kd,{}),children:x.jsxs(Be,{sx:{display:"flex",alignItems:"center",gap:2,width:"100%"},children:[p(),x.jsxs(Be,{sx:{flexGrow:1},children:[x.jsx(Pe,{variant:"subtitle1",sx:{fontWeight:500},children:"AI-Powered Processing Settings"}),x.jsx(Pe,{variant:"caption",color:"text.secondary",children:m()})]}),x.jsx(Xr,{label:r?"Enabled":"Disabled",color:r?"success":"default",size:"small"})]})}),x.jsx(Hh,{children:x.jsxs(Zt,{container:!0,spacing:3,children:[x.jsx(Zt,{item:!0,xs:12,children:x.jsx(tp,{control:x.jsx(np,{checked:r,onChange:w=>d(w.target.checked)}),label:x.jsxs(Be,{children:[x.jsx(Pe,{variant:"body2",sx:{fontWeight:500},children:"Enable AI-Powered Analysis"}),x.jsx(Pe,{variant:"caption",color:"text.secondary",children:"Use Google Gemini to extract structured information from syllabi"})]})})}),r&&x.jsx(Zt,{item:!0,xs:12,children:x.jsxs(Ar,{sx:{p:2,backgroundColor:a!=null&&a.isValid?"success.50":"error.50",border:"1px solid",borderColor:a!=null&&a.isValid?"success.200":"error.200"},children:[x.jsx(Pe,{variant:"subtitle2",sx:{mb:1,color:a!=null&&a.isValid?"success.main":"error.main"},children:a!=null&&a.isValid?" API Configuration":" API Configuration"}),x.jsx(Pe,{variant:"body2",color:"text.secondary",children:a!=null&&a.isValid?"Gemini API key is configured and ready for use.":"Gemini API key is required. Please add VITE_GEMINI_API_KEY to your environment variables."})]})}),x.jsx(Zt,{item:!0,xs:12,children:x.jsxs(Pr,{severity:k(),sx:{mb:2},children:[x.jsx(Pe,{variant:"body2",children:m()}),(a==null?void 0:a.errors)&&a.errors.length>0&&x.jsx(Be,{sx:{mt:1},children:a.errors.map((w,_)=>x.jsxs(Pe,{variant:"caption",display:"block",children:[" ",w]},_))})]})}),r&&(a==null?void 0:a.isValid)&&x.jsx(Zt,{item:!0,xs:12,children:x.jsxs(Ar,{sx:{p:2,backgroundColor:"primary.50",border:"1px solid",borderColor:"primary.200"},children:[x.jsx(Pe,{variant:"subtitle2",sx:{mb:1,color:"primary.main"},children:" Enhanced Features with AI:"}),x.jsxs(Zt,{container:!0,spacing:1,children:[x.jsxs(Zt,{item:!0,xs:12,sm:6,children:[x.jsx(Pe,{variant:"caption",display:"block",children:" Intelligent course information extraction"}),x.jsx(Pe,{variant:"caption",display:"block",children:" Automatic learning objectives identification"}),x.jsx(Pe,{variant:"caption",display:"block",children:" Smart schedule parsing and organization"})]}),x.jsxs(Zt,{item:!0,xs:12,sm:6,children:[x.jsx(Pe,{variant:"caption",display:"block",children:" Grading policy analysis"}),x.jsx(Pe,{variant:"caption",display:"block",children:" Assignment and due date extraction"}),x.jsx(Pe,{variant:"caption",display:"block",children:" Enhanced material generation"})]})]})]})}),!r&&x.jsx(Zt,{item:!0,xs:12,children:x.jsxs(Ar,{sx:{p:2,backgroundColor:"warning.50",border:"1px solid",borderColor:"warning.200"},children:[x.jsx(Pe,{variant:"subtitle2",sx:{mb:1,color:"warning.main"},children:" Pattern-Based Processing:"}),x.jsx(Pe,{variant:"caption",color:"text.secondary",children:"Using traditional text parsing methods. Results may be less accurate than AI processing. Enable AI processing for better extraction accuracy."})]})})]})})]})})},XP=({onComplete:t,onCancel:i,educatorUid:r})=>{const{currentStep:o,setCurrentStep:a,parsedCourseInfo:c,generatedMaterials:d,isProcessing:p,error:m,useAIProcessing:k,processingProgress:w,reset:_}=kb(),[C,v]=ae.useState(null);vt.useEffect(()=>{const{config:H}=JP();v(H)},[]);const D=[{label:"Upload Syllabus",description:"Upload your syllabus document"},{label:"Review Course Info",description:"Verify and edit course information"},{label:"Review Materials",description:"Customize generated course materials"}],E=()=>{switch(o){case"upload":case"processing":return 0;case"review":return 1;case"editing":return 2;case"complete":return 2;default:return 0}},O=()=>{a("editing")},M=()=>{a("review")},j=()=>{if(c&&d.length>0){const H=d.filter(z=>z.published);t==null||t({courseInfo:c,materials:H})}},F=()=>{_(),i==null||i()},G=H=>{v(H)},J=()=>{switch(o){case"upload":case"processing":return x.jsx(H8,{onUploadComplete:()=>{},educatorUid:r});case"review":return x.jsx(pte,{onContinue:O});case"editing":case"complete":return x.jsx(mte,{onContinue:j,onBack:M});default:return x.jsx(H8,{onUploadComplete:()=>{},educatorUid:r})}};return x.jsxs(Be,{sx:{width:"100%",maxWidth:1200,mx:"auto",p:3},children:[x.jsxs(Ar,{sx:{p:3,mb:4},children:[x.jsx(Pe,{variant:"h4",component:"h1",gutterBottom:!0,children:"Import Course from Syllabus"}),x.jsx(Pe,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"Upload your syllabus document and we'll automatically create a course structure with organized materials based on your content."}),x.jsx(hH,{activeStep:E(),alternativeLabel:!0,children:D.map(H=>x.jsx(fH,{children:x.jsxs(pH,{children:[x.jsx(Pe,{variant:"body2",sx:{fontWeight:500},children:H.label}),x.jsx(Pe,{variant:"caption",color:"text.secondary",children:H.description})]})},H.label))})]}),o==="upload"&&x.jsx(gte,{onConfigChange:G,compact:!1}),m&&x.jsx(Pr,{severity:"error",sx:{mb:3},onClose:()=>{},children:m}),p&&x.jsx(Pr,{severity:"info",sx:{mb:3},children:x.jsx(Pe,{variant:"body2",children:k?" AI is analyzing your syllabus for enhanced data extraction... This usually takes 10-30 seconds.":" Processing your syllabus with pattern-based analysis... This usually takes a moment."})}),x.jsx(Be,{sx:{minHeight:400},children:J()}),o!=="upload"&&i&&x.jsx(Be,{sx:{display:"flex",justifyContent:"center",mt:3},children:x.jsx(xt,{variant:"outlined",color:"secondary",onClick:F,size:"small",children:"Cancel & Return to Manual Entry"})})]})},Kx=t=>{if(t==null)return null;if(t instanceof Date)return t;if(Array.isArray(t))return t.map(Kx).filter(i=>i!=null);if(typeof t=="object"){const i={};return Object.keys(t).forEach(r=>{const o=t[r];if(o!==void 0){const a=Kx(o);a!=null&&(i[r]=a)}}),i}return t},bte=()=>{const{userDetails:t}=go(),i=so(),r=Rr(),[o,a]=ae.useState(""),[c,d]=ae.useState(""),[p,m]=ae.useState(""),[k,w]=ae.useState(""),[_,C]=ae.useState(""),[v,D]=ae.useState(""),[E,O]=ae.useState(""),[M,j]=ae.useState("primary"),[F,G]=ae.useState("manual"),{parsedCourseInfo:J,generatedMaterials:H,reset:z,currentStep:Z}=kb(),[Y,se]=ae.useState(!1),[X,K]=ae.useState(!1),[U,q]=ae.useState("");ae.useEffect(()=>{(F==="manual"||M==="co-instructor")&&z()},[F,M,z]),ae.useEffect(()=>{M==="primary"&&F==="syllabus"&&J&&(C(J.suggestedNumber||""),D(J.suggestedTitle||""),O(J.suggestedDescription||""))},[M,F,J]);const fe=be=>ve=>{be(ve.target.value)},ue=be=>{const ve=be.target.value;j(ve),ve==="co-instructor"&&(G("manual"),C(""),D(""),O(""))},de=(be,ve)=>{ve!==null&&(G(ve),ve==="syllabus"&&(C(""),D(""),O("")))},ge=()=>{if(!o||!c||!p||!k||!_||!v)return"Please fill in all required fields.";if(M==="primary"){if(F==="manual"&&!E)return"Please provide a course description.";if(F==="syllabus"){if(!J)return"Please complete the syllabus import process first.";if(!E)return"Please ensure course description is properly filled from your syllabus."}}return null},Ie=be=>{console.log("Syllabus import completed for educator request:",be)},ce=async()=>{const be=ge();if(be){q(be),K(!0);return}se(!0);try{const ve={uid:(t==null?void 0:t.uid)||"",firstName:o||"",lastName:c||"",institution:p||"",email:k||"",courseNumber:_||"",courseTitle:v||"",courseDescription:M==="primary"?E||"":"CO-INSTRUCTOR REQUEST",requestType:M||"primary",status:"pending",timestamp:new Date,syllabusImported:!1};if(M==="primary"&&F==="syllabus"&&J&&H.length>0){const Ze={parsedCourseInfo:J,generatedMaterials:H.filter(ft=>ft.published)},Ge=Kx(Ze);ve.syllabusImported=!0,ve.syllabusData=Ge}const Re=Kx(ve);console.log("Submitting clean educator request document:",Re);const Oe=await da(dr(r,"educatorRequests"),Re),Ue={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:`New Educator Request Submitted${M==="primary"&&F==="syllabus"?" (With Syllabus Import)":""}`,html:`
            <p>A new educator request has been submitted:</p>
            <p><strong>Name:</strong> ${o} ${c}</p>
            <p><strong>Email:</strong> ${k}</p>
            <p><strong>Institution:</strong> ${p}</p>
            <p><strong>Course:</strong> ${_} - ${v}</p>
            <p><strong>Request Type:</strong> ${M}</p>
            ${M==="primary"?`<p><strong>Course Creation Method:</strong> ${F==="syllabus"?"Imported from Syllabus":"Manual Entry"}</p>`:""}
            ${M==="primary"&&F==="syllabus"&&H.length>0?`<p><strong>Generated Materials:</strong> ${H.filter(Ze=>Ze.published).length} materials ready for publication</p>`:""}
            <p><strong>Description:</strong> ${E}</p>
            <p><strong>Request ID:</strong> ${Oe.id}</p>
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/educator-requests">
            Click here to review the request.
            </a></p>
          `}};await da(dr(r,"mail"),Ue),q(M==="primary"&&F==="syllabus"&&H.length>0?`Your educator request has been submitted for review with ${H.filter(Ze=>Ze.published).length} auto-generated course materials.`:"Your request has been submitted for review."),a(""),d(""),m(""),w(""),C(""),D(""),O(""),j("primary"),G("manual"),F==="syllabus"&&z(),K(!0),setTimeout(()=>{i("/my-profile")},3e3)}catch(ve){console.error("Error submitting request: ",ve),ve instanceof Error&&console.error("Error details:",{message:ve.message,name:ve.name,stack:ve.stack}),q("Error submitting your request. Please try again."),K(!0)}finally{se(!1)}},Te=()=>{K(!1)},re=()=>{i("/my-profile")},te=M==="primary"&&F==="syllabus"&&Z!=="upload"&&!J,ke=M==="primary"&&F==="syllabus"&&(Z==="review"||Z==="editing"||Z==="complete")&&J;return x.jsxs(Be,{className:"request-form-container",sx:{padding:3,maxWidth:"1400px",mx:"auto"},children:[x.jsx(Be,{sx:{display:"flex",alignItems:"center",mb:3},children:x.jsx(xt,{variant:"text",onClick:re,className:"back-home-button",children:" My Account"})}),x.jsxs(Be,{className:"request-form-outline",sx:{backgroundColor:"#f8f9fa",borderRadius:2,p:4,border:"1px solid #e3f2fd",minWidth:"100%"},children:[x.jsx(Pe,{variant:"h5",component:"h1",className:"request-form-title",sx:{mb:3},children:"Request Educator Permissions"}),x.jsxs(Zt,{item:!0,xs:12,sx:{mb:3},children:[x.jsx(Gd,{htmlFor:"request-type",required:!0,children:"Request Type"}),x.jsxs(rd,{id:"request-type",name:"request-type",value:M,onChange:ue,fullWidth:!0,required:!0,disabled:Y,sx:{mt:1},children:[x.jsx(Lr,{value:"primary",children:"I am a primary course instructor, I want to create a new course"}),x.jsx(Lr,{value:"co-instructor",children:"I am a co-instructor, I want to be added to an existing course"})]})]}),x.jsx(Pe,{variant:"h6",component:"h2",sx:{mb:2},children:"Personal Information"}),x.jsxs(Zt,{container:!0,spacing:3,children:[x.jsxs(Zt,{item:!0,xs:12,md:6,children:[x.jsx(Gd,{htmlFor:"first-name",required:!0,children:"First Name"}),x.jsx(Ph,{id:"first-name",name:"first-name",value:o,onChange:fe(a),placeholder:"John",fullWidth:!0,required:!0,disabled:Y})]}),x.jsxs(Zt,{item:!0,xs:12,md:6,children:[x.jsx(Gd,{htmlFor:"last-name",required:!0,children:"Last Name"}),x.jsx(Ph,{id:"last-name",name:"last-name",value:c,onChange:fe(d),placeholder:"Doe",fullWidth:!0,required:!0,disabled:Y})]}),x.jsxs(Zt,{item:!0,xs:12,children:[x.jsx(Gd,{htmlFor:"institution",required:!0,children:"Institution Affiliation"}),x.jsx(Ph,{id:"institution",name:"institution",value:p,onChange:fe(m),placeholder:"University Name",fullWidth:!0,required:!0,disabled:Y})]}),x.jsxs(Zt,{item:!0,xs:12,children:[x.jsx(Gd,{htmlFor:"email",required:!0,children:"Institutional Email"}),x.jsx(Ph,{id:"email",name:"email",value:k,onChange:fe(w),placeholder:"name@institution.edu",fullWidth:!0,required:!0,disabled:Y}),x.jsx(Pe,{variant:"caption",sx:{mt:1},children:"Please use your institutional email to confirm your affiliation."})]})]}),x.jsx(iu,{sx:{my:4}}),x.jsx(Pe,{variant:"h6",component:"h2",sx:{mb:2},children:M==="primary"?"New Course Details":"Existing Course Details"}),M==="primary"&&x.jsxs(Ar,{sx:{p:3,mb:4,backgroundColor:"grey.50"},children:[x.jsx(Pe,{variant:"subtitle1",sx:{mb:2},children:"How would you like to create your course?"}),x.jsxs(R4,{value:F,exclusive:!0,onChange:de,"aria-label":"course creation mode",fullWidth:!0,sx:{mb:2},children:[x.jsxs(uk,{value:"manual","aria-label":"manual entry",children:[x.jsx(wk,{sx:{mr:1}}),"Manual Entry"]}),x.jsxs(uk,{value:"syllabus","aria-label":"syllabus import",children:[x.jsx(Oj,{sx:{mr:1}}),"Import from Syllabus"]})]}),x.jsx(Pe,{variant:"body2",color:"text.secondary",children:F==="manual"?"Fill out the course information manually using the form below.":"Upload your syllabus document and we'll automatically extract course information and generate materials."})]}),M==="primary"&&F==="syllabus"&&x.jsx(Be,{sx:{mb:4},children:x.jsx(XP,{onComplete:Ie,onCancel:()=>G("manual")})}),(M==="co-instructor"||M==="primary"&&F==="manual")&&x.jsxs(Zt,{container:!0,spacing:3,sx:{mb:4},children:[x.jsxs(Zt,{item:!0,xs:12,md:6,children:[x.jsx(Gd,{htmlFor:"course-number",required:!0,children:"Course Number"}),x.jsx(Ph,{id:"course-number",name:"course-number",value:_,onChange:fe(C),placeholder:"e.g., BIOL301",fullWidth:!0,required:!0,disabled:Y})]}),x.jsxs(Zt,{item:!0,xs:12,md:6,children:[x.jsx(Gd,{htmlFor:"course-title",required:!0,children:"Course Title"}),x.jsx(Ph,{id:"course-title",name:"course-title",value:v,onChange:fe(D),placeholder:"e.g., Biotech Research Methods",fullWidth:!0,required:!0,disabled:Y})]}),M==="primary"&&x.jsxs(Zt,{item:!0,xs:12,children:[x.jsx(Gd,{htmlFor:"course-description",required:!0,children:"Course Description"}),x.jsx(Ph,{id:"course-description",name:"course-description",value:E,onChange:fe(O),placeholder:"e.g., A comprehensive course covering advanced methods and tools in modern biotech labs, focusing on CRISPR, NGS, and bioinformatics.",fullWidth:!0,multiline:!0,rows:4,required:!0,disabled:Y})]})]}),(M==="co-instructor"||M==="primary"&&F==="manual"||ke)&&x.jsxs(Be,{sx:{mt:4},children:[x.jsx(xt,{variant:"contained",color:"primary",onClick:ce,fullWidth:!0,className:"submit-button",sx:{py:1.5,fontWeight:"bold",fontSize:"16px",textTransform:"uppercase"},disabled:Y||te,children:Y?x.jsxs(x.Fragment,{children:[x.jsx(ji,{size:24,color:"inherit",sx:{mr:1}}),"Submitting Request..."]}):`Submit Request${M==="primary"&&F==="syllabus"&&H.length>0?` with ${H.filter(be=>be.published).length} Materials`:""}`}),x.jsxs(Pe,{variant:"body2",sx:{mt:2,textAlign:"center"},children:["For any questions, please contact ",x.jsx("a",{href:"mailto:andriy@intofuture.org",children:"andriy@intofuture.org"}),"."]})]}),x.jsxs(Ms,{open:X,onClose:Te,children:[x.jsx(Ns,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:x.jsx(c5,{sx:{color:"green",fontSize:50,marginRight:1}})}),x.jsx(Os,{children:x.jsx(fc,{sx:{textAlign:"center"},children:U})}),x.jsx(Bs,{children:x.jsx(xt,{onClick:Te,color:"primary",autoFocus:!0,children:"Close"})})]})]})]})},kte=()=>{const[t,i]=ae.useState([]),[r,o]=ae.useState([]),[a,c]=ae.useState(""),[d,p]=ae.useState(!1),[m,k]=ae.useState(""),[w,_]=ae.useState("success"),[C,v]=ae.useState(!1),[D,E]=ae.useState(null),[O,M]=ae.useState(null),[j,F]=ae.useState(null),G=Rr(),J=so();ae.useEffect(()=>{(async()=>{const fe=(await Qo(dr(G,"educatorRequests"))).docs.map(ge=>({id:ge.id,...ge.data()})),de=(await Qo(dr(G,"courses"))).docs.map(ge=>({id:ge.id,...ge.data()}));i(fe),o(de)})()},[G]);function H(){const U="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let q="";for(let fe=0;fe<28;fe++)q+=U.charAt(Math.floor(Math.random()*U.length));return q}const z=async()=>{var U,q;if(!(!O||!j)){if(!j.courseNumber||!j.courseTitle){k("Course number or title is missing. Cannot approve request."),_("error"),p(!0);return}if(j.requestType==="co-instructor"&&!a){k("Please select a course for the co-instructor request."),_("error"),p(!0);return}if(j.status!=="pending"){k("This request has already been processed."),_("warning"),p(!0);return}try{const fe=Wn(G,"users",j.uid);if(j.requestType==="primary"){const ue=H(),de=await da(dr(G,"courses"),{number:j.courseNumber,title:j.courseTitle,passcode:ue,courseAdmin:[j.uid]}),ge=await ll(fe),Ie=ge.exists()?((U=ge.data())==null?void 0:U.classes)||{}:{};await gi(fe,{isAdmin:!0,classes:{...Ie,[de.id]:{number:j.courseNumber,title:j.courseTitle,isCourseAdmin:!0}}}),await gi(Wn(G,"educatorRequests",O),{status:"approved",courseId:de.id,passcode:ue})}else if(j.requestType==="co-instructor"){if(!a){k("Please select a course for the co-instructor request."),_("error"),p(!0);return}const ue=Wn(G,"courses",a);await gi(ue,{courseAdmin:HH(j.uid)});const de=await ll(fe),ge=de.exists()?((q=de.data())==null?void 0:q.classes)||{}:{};await gi(fe,{isAdmin:!0,classes:{...ge,[a]:{number:j.courseNumber,title:j.courseTitle,isCourseAdmin:!0}}}),await gi(Wn(G,"educatorRequests",O),{status:"approved",courseId:a})}k("Request approved, and user promoted to educator."),_("success"),i(ue=>ue.map(de=>de.id===O?{...de,status:"approved"}:de))}catch(fe){console.error("Error approving request: ",fe),k("Error approving the request. Please try again."),_("error")}p(!0),se()}},Z=async()=>{if(O){try{await gi(Wn(G,"educatorRequests",O),{status:"denied"}),k("Request denied."),_("success"),i(t.map(U=>U.id===O?{...U,status:"denied"}:U))}catch(U){console.error("Error denying request: ",U),k("Error denying the request. Please try again."),_("error")}p(!0),se()}},Y=(U,q,fe)=>{E(U),M(q),F(fe),c(""),v(!0)},se=()=>{v(!1),E(null),M(null),F(null)},X=()=>{p(!1)},K=()=>{J("/")};return x.jsxs(Be,{sx:{padding:3},children:[x.jsx(Be,{sx:{display:"flex",alignItems:"center"},children:x.jsx(xt,{variant:"text",onClick:K,sx:{mr:2},children:" Home Page"})}),x.jsx(Pe,{variant:"h4",component:"h1",sx:{fontWeight:"bold",mb:3},children:"Educator Permission Requests"}),x.jsx(fp,{component:Ar,children:x.jsxs(pp,{children:[x.jsx(mp,{children:x.jsxs(Xs,{children:[x.jsx(Ht,{children:"Name"}),x.jsx(Ht,{children:"User ID"}),x.jsx(Ht,{children:"Institution"}),x.jsx(Ht,{children:"Email"}),x.jsx(Ht,{children:"Course Number"}),x.jsx(Ht,{children:"Course Title"}),x.jsx(Ht,{children:"Course Description"}),x.jsx(Ht,{children:"Timestamp"}),x.jsx(Ht,{children:"Actions"})]})}),x.jsx(gp,{children:t.map(U=>x.jsxs(Xs,{children:[x.jsx(Ht,{children:`${U.firstName} ${U.lastName}`}),x.jsx(Ht,{children:U.uid}),x.jsx(Ht,{children:U.institution}),x.jsx(Ht,{children:U.email}),x.jsx(Ht,{children:U.courseNumber}),x.jsx(Ht,{children:U.courseTitle}),x.jsx(Ht,{children:U.courseDescription}),x.jsx(Ht,{children:new Date(U.timestamp.seconds*1e3).toLocaleString()}),x.jsxs(Ht,{children:[U.status==="pending"&&x.jsxs(x.Fragment,{children:[x.jsx(xt,{variant:"contained",color:"primary",sx:{mr:1},onClick:()=>Y("approve",U.id,U),children:"Approve"}),x.jsx(xt,{variant:"contained",color:"secondary",onClick:()=>Y("deny",U.id,U),children:"Deny"})]}),U.status==="approved"&&x.jsx(Pe,{color:"success.main",children:"Approved"}),U.status==="denied"&&x.jsx(Pe,{color:"error.main",children:"Denied"})]})]},U.id))})]})}),x.jsx(Il,{open:d,autoHideDuration:6e3,onClose:X,children:x.jsx(Pr,{onClose:X,severity:w,sx:{width:"100%"},children:m})}),x.jsxs(Ms,{open:C,onClose:se,"aria-labelledby":"confirmation-dialog-title","aria-describedby":"confirmation-dialog-description",children:[x.jsx(Ns,{id:"confirmation-dialog-title",children:D==="approve"?"Confirm Approval":"Confirm Denial"}),x.jsxs(Os,{children:[x.jsxs(fc,{id:"confirmation-dialog-description",children:["Are you sure you want to ",D," this request for ",j==null?void 0:j.firstName," ",j==null?void 0:j.lastName,"?"]}),D==="approve"&&(j==null?void 0:j.requestType)==="co-instructor"&&x.jsxs(Be,{sx:{mt:2},children:[x.jsx(Pe,{children:"Select Course:"}),x.jsx(rd,{fullWidth:!0,value:a,onChange:U=>c(U.target.value),children:r.map(U=>x.jsx(Lr,{value:U.id,children:`${U.number} - ${U.title}`},U.id))})]})]}),x.jsxs(Bs,{children:[x.jsx(xt,{onClick:se,color:"primary",children:"Cancel"}),x.jsx(xt,{onClick:D==="approve"?z:Z,color:"primary",variant:"contained",autoFocus:!0,disabled:(j==null?void 0:j.requestType)==="co-instructor"&&!a,children:"Confirm"})]})]})]})},Qx=t=>{if(t==null)return null;if(t instanceof Date)return t;if(Array.isArray(t))return t.map(Qx).filter(i=>i!=null);if(typeof t=="object"){const i={};return Object.keys(t).forEach(r=>{const o=t[r];if(o!==void 0){const a=Qx(o);a!=null&&(i[r]=a)}}),i}return t},wte=()=>{const{userDetails:t}=go(),i=so(),r=Rr(),[o,a]=ae.useState("manual"),[c,d]=ae.useState(""),[p,m]=ae.useState(""),[k,w]=ae.useState(""),{parsedCourseInfo:_,generatedMaterials:C,aiExtractedInfo:v,storedSyllabusFile:D,reset:E,currentStep:O}=kb(),[M,j]=ae.useState(!1),[F,G]=ae.useState(!1),[J,H]=ae.useState("");ae.useEffect(()=>{o==="manual"&&E()},[o,E]),ae.useEffect(()=>{o==="syllabus"&&_&&(d(_.suggestedNumber||""),m(_.suggestedTitle||""),w(_.suggestedDescription||""))},[o,_]);const z=ue=>de=>{ue(de.target.value)},Z=(ue,de)=>{de!==null&&(a(de),de==="syllabus"&&(d(""),m(""),w("")))},Y=()=>{if(o==="manual"){if(!c||!p||!k)return"Please fill in all required fields."}else if(o==="syllabus"){if(!_)return"Please complete the syllabus import process first.";if(!c||!p||!k)return"Please ensure course information is properly filled from your syllabus."}return null},se=ue=>{console.log("Syllabus import completed:",ue),X()},X=async()=>{const ue=Y();if(ue){H(ue),G(!0);return}j(!0);try{const de={uid:(t==null?void 0:t.uid)||"",courseNumber:c||"",courseTitle:p||"",courseDescription:k||"",status:"pending",timestamp:new Date,syllabusImported:!1};if(o==="syllabus"&&_&&C.length>0){const Te={parsedCourseInfo:_,generatedMaterials:C.filter(te=>te.published),additionalInfo:v?{contactInfo:v.contactInfo,policies:v.policies,additionalResources:v.additionalResources,labSpecific:v.labSpecific,textbooks:v.textbooks,gradingPolicy:v.gradingPolicy,assignments:v.assignments,prerequisites:v.prerequisites}:null,syllabusFile:D?{url:D.url,path:D.path,metadata:D.metadata}:null},re=Qx(Te);de.syllabusImported=!0,de.syllabusData=re}const ge=Qx(de);console.log("Submitting clean request document:",ge);const Ie=await da(dr(r,"courseRequests"),ge),ce={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:`New Course Request Submitted${o==="syllabus"?" (With Syllabus Import)":""}`,html:`
            <p>A new course request has been submitted:</p>
            <p><strong>Educator ID:</strong> ${(t==null?void 0:t.uid)||"Unknown"}</p>
            <p><strong>Course:</strong> ${c} - ${p}</p>
            <p><strong>Description:</strong> ${k}</p>
            <p><strong>Creation Method:</strong> ${o==="syllabus"?"Imported from Syllabus":"Manual Entry"}</p>
            ${o==="syllabus"&&C.length>0?`<p><strong>Generated Materials:</strong> ${C.filter(Te=>Te.published).length} materials ready for publication</p>`:""}
            <p><strong>Request ID:</strong> ${Ie.id}</p>
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/course-requests">
            Click here to review the request.
            </a></p>
          `}};await da(dr(r,"mail"),ce),H(o==="syllabus"?`Your course request has been submitted for review with ${C.filter(Te=>Te.published).length} auto-generated materials.`:"Your course request has been submitted for review."),d(""),m(""),w(""),o==="syllabus"&&E(),G(!0),setTimeout(()=>{i("/course-management")},3e3)}catch(de){console.error("Error submitting course request: ",de),de instanceof Error&&console.error("Error details:",{message:de.message,name:de.name,stack:de.stack}),H("Error submitting your course request. Please try again."),G(!0)}finally{j(!1)}},K=()=>{G(!1)},U=()=>{i("/course-management")},q=o==="syllabus"&&O!=="upload"&&!_,fe=o==="syllabus"&&(O==="review"||O==="editing"||O==="complete")&&_;return x.jsxs(Be,{className:"request-form-container",sx:{padding:3,maxWidth:"1400px",mx:"auto"},children:[x.jsx(Be,{sx:{display:"flex",alignItems:"center",mb:3},children:x.jsx(xt,{variant:"text",onClick:U,className:"back-home-button",children:" Course Management"})}),x.jsxs(Be,{className:"request-form-outline",sx:{backgroundColor:"#f8f9fa",borderRadius:2,p:4,border:"1px solid #e3f2fd",minWidth:"100%"},children:[x.jsx(Pe,{variant:"h5",component:"h1",className:"request-form-title",sx:{mb:3},children:"Request Creating a New Course"}),x.jsxs(Ar,{sx:{p:3,mb:4,backgroundColor:"grey.50"},children:[x.jsx(Pe,{variant:"h6",sx:{mb:2},children:"How would you like to create your course?"}),x.jsxs(R4,{value:o,exclusive:!0,onChange:Z,"aria-label":"course creation mode",fullWidth:!0,sx:{mb:2},children:[x.jsxs(uk,{value:"manual","aria-label":"manual entry",children:[x.jsx(wk,{sx:{mr:1}}),"Manual Entry"]}),x.jsxs(uk,{value:"syllabus","aria-label":"syllabus import",children:[x.jsx(Oj,{sx:{mr:1}}),"Import from Syllabus"]})]}),x.jsx(Pe,{variant:"body2",color:"text.secondary",children:o==="manual"?"Fill out the course information manually using the form below.":"Upload your syllabus document and we'll automatically extract course information and generate materials."})]}),o==="syllabus"&&x.jsx(Be,{sx:{mb:4},children:x.jsx(XP,{onComplete:se,onCancel:()=>a("manual"),educatorUid:t==null?void 0:t.uid})}),o==="manual"&&x.jsxs(Zt,{container:!0,spacing:3,children:[x.jsxs(Zt,{item:!0,xs:12,md:6,children:[x.jsx(Gd,{htmlFor:"course-number",required:!0,children:"Course Number"}),x.jsx(Ph,{id:"course-number",name:"course-number",value:c,onChange:z(d),placeholder:"e.g., BIOL301",fullWidth:!0,required:!0,disabled:M})]}),x.jsxs(Zt,{item:!0,xs:12,md:6,children:[x.jsx(Gd,{htmlFor:"course-title",required:!0,children:"Course Title"}),x.jsx(Ph,{id:"course-title",name:"course-title",value:p,onChange:z(m),placeholder:"e.g., Biotech Research Methods",fullWidth:!0,required:!0,disabled:M})]}),x.jsxs(Zt,{item:!0,xs:12,children:[x.jsx(Gd,{htmlFor:"course-description",required:!0,children:"Course Description"}),x.jsx(Ph,{id:"course-description",name:"course-description",value:k,onChange:z(w),placeholder:"e.g., A comprehensive course covering advanced methods and tools in modern biotech labs, focusing on CRISPR, NGS, and bioinformatics.",fullWidth:!0,multiline:!0,rows:4,required:!0,disabled:M})]})]}),(o==="manual"||fe)&&x.jsxs(Be,{sx:{mt:4},children:[x.jsx(xt,{variant:"contained",color:"primary",onClick:X,fullWidth:!0,className:"submit-button",disabled:M||q,sx:{py:1.5,fontWeight:"bold",fontSize:"16px",textTransform:"uppercase"},children:M?x.jsxs(x.Fragment,{children:[x.jsx(ji,{size:24,color:"inherit",sx:{mr:1}}),"Submitting Request..."]}):`Submit Request${o==="syllabus"&&C.length>0?` with ${C.filter(ue=>ue.published).length} Materials`:""}`}),x.jsxs(Pe,{variant:"body2",sx:{mt:2,textAlign:"center"},children:["For any questions, please contact ",x.jsx("a",{href:"mailto:andriy@intofuture.org",children:"andriy@intofuture.org"}),"."]})]}),x.jsxs(Ms,{open:F,onClose:K,children:[x.jsx(Ns,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:x.jsx(c5,{sx:{color:"green",fontSize:50,marginRight:1}})}),x.jsx(Os,{children:x.jsx(fc,{sx:{textAlign:"center"},children:J})}),x.jsx(Bs,{children:x.jsx(xt,{onClick:K,color:"primary",autoFocus:!0,children:"Close"})})]})]})]})},vte=()=>{var Y,se,X,K;const[t,i]=ae.useState([]),[r,o]=ae.useState(!1),[a,c]=ae.useState(""),[d,p]=ae.useState("success"),[m,k]=ae.useState(!1),[w,_]=ae.useState(null),[C,v]=ae.useState(null),[D,E]=ae.useState(null),O=Rr(),M=so();ae.useEffect(()=>{(async()=>{try{const fe=(await Qo(dr(O,"courseRequests"))).docs.map(ue=>({id:ue.id,...ue.data()}));fe.sort((ue,de)=>ue.status==="pending"&&de.status!=="pending"||ue.status==="approved"&&de.status==="denied"?-1:ue.status==="denied"&&de.status==="approved"?1:0),i(fe)}catch(q){console.error("Error fetching course requests: ",q)}})()},[O]);function j(){const U="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let q="";for(let fe=0;fe<28;fe++)q+=U.charAt(Math.floor(Math.random()*U.length));return q}const F=async()=>{var U,q,fe,ue;if(!(!C||!D)){try{const de=j(),ge={number:D.courseNumber,title:D.courseTitle,description:D.courseDescription,passcode:de,courseAdmin:[D.uid],createdAt:new Date};if(D.syllabusImported&&((U=D.syllabusData)!=null&&U.additionalInfo)){const be=D.syllabusData.additionalInfo;ge.additionalInfo={contactInfo:be.contactInfo||{},policies:be.policies||{},additionalResources:be.additionalResources||{},labSpecific:be.labSpecific||{},textbooks:be.textbooks||[],gradingPolicy:be.gradingPolicy||[],assignments:be.assignments||[],prerequisites:be.prerequisites||[],lastUpdated:new Date}}D.syllabusImported&&((q=D.syllabusData)!=null&&q.syllabusFile)&&(ge.syllabusFile=D.syllabusData.syllabusFile);const Ie=await da(dr(O,"courses"),ge),ce=Wn(O,"users",D.uid),Te=await ll(ce),re=Te.exists()?((fe=Te.data())==null?void 0:fe.classes)||{}:{};await gi(ce,{classes:{...re,[Ie.id]:{number:D.courseNumber,title:D.courseTitle,isCourseAdmin:!0}}});let te=0;if(D.syllabusImported&&((ue=D.syllabusData)!=null&&ue.generatedMaterials)){const be=z4(O);D.syllabusData.generatedMaterials.forEach(ve=>{const Re=Wn(dr(O,"materials")),Oe={title:ve.title||"Untitled Material",header:ve.header||{title:"",content:""},footer:ve.footer||{title:"",content:""},sections:(ve.sections||[]).map(Ue=>({...Ue,images:Ue.images||[],links:Ue.links||[],subsections:(Ue.subsections||[]).map(Ze=>({...Ze,images:Ze.images||[],links:Ze.links||[],subSubsections:(Ze.subSubsections||[]).map(Ge=>({...Ge,images:Ge.images||[],links:Ge.links||[]}))}))})),published:!0,course:Ie.id,author:D.uid,timestamp:xl.now(),createdAt:new Date,updatedAt:new Date};ve.scheduledTimestamp&&(Oe.scheduledTimestamp=xl.fromDate(ve.scheduledTimestamp)),be.set(Re,Oe),te++}),await be.commit(),console.log(`Created ${te} materials from syllabus`)}await gi(Wn(O,"courseRequests",C),{status:"approved",courseId:Ie.id,passcode:de});const ke={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:"Your Course Request Has Been Approved",html:`
            <p>Your course request has been approved:</p>
            <p><strong>Course:</strong> ${D.courseNumber} - ${D.courseTitle}</p>
            <p><strong>Passcode:</strong> ${de}</p>
            ${D.syllabusImported&&te>0?`<p><strong>Materials Created:</strong> ${te} materials have been automatically added to your course from your syllabus import.</p>`:""}
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/supplemental-materials">
            Click here to view your course.
            </a></p>
          `}};await da(dr(O,"mail"),ke),c(`Course request approved, course added${te>0?` with ${te} materials`:""}.`),p("success"),i(be=>be.map(ve=>ve.id===C?{...ve,status:"approved"}:ve))}catch(de){console.error("Error approving request: ",de),c("Error approving the request. Please try again."),p("error")}o(!0),H()}},G=async()=>{if(C){try{await gi(Wn(O,"courseRequests",C),{status:"denied"}),c("Course request denied."),p("success"),i(t.map(U=>U.id===C?{...U,status:"denied"}:U))}catch(U){console.error("Error denying request: ",U),c("Error denying the request. Please try again."),p("error")}o(!0),H()}},J=(U,q,fe)=>{_(U),v(q),E(fe),k(!0)},H=()=>{k(!1),_(null),v(null),E(null)},z=()=>{o(!1)},Z=()=>{M("/")};return x.jsxs(Be,{sx:{padding:3},children:[x.jsx(Be,{sx:{display:"flex",alignItems:"center"},children:x.jsx(xt,{variant:"text",onClick:Z,sx:{mr:2},children:" Home Page"})}),x.jsx(Pe,{variant:"h4",component:"h1",sx:{fontWeight:"bold",mb:3},children:"Course Creation Requests"}),x.jsx(fp,{component:Ar,children:x.jsxs(pp,{children:[x.jsx(mp,{children:x.jsxs(Xs,{children:[x.jsx(Ht,{children:"Educator ID"}),x.jsx(Ht,{children:"Course Number"}),x.jsx(Ht,{children:"Course Title"}),x.jsx(Ht,{children:"Course Description"}),x.jsx(Ht,{children:"Creation Method"}),x.jsx(Ht,{children:"Timestamp"}),x.jsx(Ht,{children:"Actions"})]})}),x.jsx(gp,{children:t.map(U=>{var q,fe,ue,de,ge;return x.jsxs(Xs,{children:[x.jsx(Ht,{children:U.uid}),x.jsx(Ht,{children:U.courseNumber}),x.jsx(Ht,{children:U.courseTitle}),x.jsx(Ht,{children:U.courseDescription.length>100?`${U.courseDescription.substring(0,100)}...`:U.courseDescription}),x.jsx(Ht,{children:U.syllabusImported?x.jsxs(Be,{children:[x.jsxs(Be,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[x.jsx(Pe,{variant:"body2",color:"primary",sx:{fontWeight:"bold"},children:"Syllabus Import"}),((q=U.syllabusData)==null?void 0:q.syllabusFile)&&x.jsx(Dl,{title:`Download: ${U.syllabusData.syllabusFile.metadata.originalFilename}`,children:x.jsx(ur,{size:"small",onClick:()=>window.open(U.syllabusData.syllabusFile.url,"_blank"),sx:{color:"primary.main"},children:x.jsx(Ix,{fontSize:"small"})})})]}),x.jsxs(Pe,{variant:"caption",color:"text.secondary",children:[((ue=(fe=U.syllabusData)==null?void 0:fe.generatedMaterials)==null?void 0:ue.length)||0," materials"]}),((de=U.syllabusData)==null?void 0:de.syllabusFile)&&x.jsx(Pe,{variant:"caption",color:"text.secondary",sx:{display:"block"},children:U.syllabusData.syllabusFile.metadata.originalFilename})]}):x.jsx(Pe,{variant:"body2",color:"text.secondary",children:"Manual Entry"})}),x.jsx(Ht,{children:(ge=U.timestamp)!=null&&ge.seconds?new Date(U.timestamp.seconds*1e3).toLocaleString():"Invalid Date"}),x.jsxs(Ht,{children:[U.status==="pending"&&x.jsxs(x.Fragment,{children:[x.jsx(xt,{variant:"contained",color:"success",size:"small",onClick:()=>J("approve",U.id,U),sx:{mr:1},children:"Approve"}),x.jsx(xt,{variant:"outlined",color:"error",size:"small",onClick:()=>J("deny",U.id,U),children:"Deny"})]}),U.status==="approved"&&x.jsx(Pe,{variant:"body2",color:"success.main",sx:{fontWeight:"bold"},children:"Approved"}),U.status==="denied"&&x.jsx(Pe,{variant:"body2",color:"error.main",sx:{fontWeight:"bold"},children:"Denied"})]})]},U.id)})})]})}),x.jsxs(Ms,{open:m,onClose:H,children:[x.jsx(Ns,{children:w==="approve"?"Approve Course Request":"Deny Course Request"}),x.jsx(Os,{children:x.jsx(fc,{children:w==="approve"?x.jsxs(x.Fragment,{children:["Are you sure you want to approve this course request?",(D==null?void 0:D.syllabusImported)&&x.jsxs(Be,{sx:{mt:2,p:2,backgroundColor:"#ECF4FE",borderRadius:1},children:[x.jsx(Pe,{variant:"body2",sx:{fontWeight:"bold"},children:" Syllabus Import Detected"}),x.jsxs(Pe,{variant:"body2",children:["This request includes ",((se=(Y=D==null?void 0:D.syllabusData)==null?void 0:Y.generatedMaterials)==null?void 0:se.length)||0," auto-generated materials that will be added to the course."]}),((X=D==null?void 0:D.syllabusData)==null?void 0:X.syllabusFile)&&x.jsxs(Be,{sx:{mt:1},children:[x.jsxs(Pe,{variant:"body2",sx:{mb:1},children:[x.jsx("strong",{children:"Syllabus File:"})," ",D.syllabusData.syllabusFile.metadata.originalFilename," ","(",(D.syllabusData.syllabusFile.metadata.fileSize/1024/1024).toFixed(2)," MB)"]}),x.jsx(xt,{size:"small",variant:"outlined",startIcon:x.jsx(DE,{}),onClick:()=>window.open(D.syllabusData.syllabusFile.url,"_blank"),sx:{mt:.5},children:"View/Download Syllabus"})]}),((K=D==null?void 0:D.syllabusData)==null?void 0:K.additionalInfo)&&x.jsxs(Pe,{variant:"body2",sx:{mt:1},children:[x.jsx("strong",{children:"Additional Info:"})," Contact info, policies, textbooks, and other course details extracted"]})]})]}):"Are you sure you want to deny this course request?"})}),x.jsxs(Bs,{children:[x.jsx(xt,{onClick:H,color:"primary",children:"Cancel"}),x.jsx(xt,{onClick:w==="approve"?F:G,color:w==="approve"?"success":"error",variant:"contained",children:w==="approve"?"Approve":"Deny"})]})]}),x.jsx(Il,{open:r,autoHideDuration:6e3,onClose:z,children:x.jsx(Pr,{onClose:z,severity:d,sx:{width:"100%"},children:a})})]})};var Kv={},$8;function yte(){if($8)return Kv;$8=1;var t=fs();Object.defineProperty(Kv,"__esModule",{value:!0}),Kv.default=void 0;var i=t(ms()),r=ps();return Kv.default=(0,i.default)((0,r.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),Kv}var Ate=yte();const _te=Si(Ate),Cte=()=>{const t=Rr(),{userDetails:i}=go(),[r,o]=ae.useState([]),[a,c]=ae.useState(!0),[d,p]=ae.useState(!1),[m,k]=ae.useState(""),[w,_]=ae.useState("info"),[C,v]=ae.useState(!1),[D,E]=ae.useState(""),[O,M]=ae.useState(""),j=so();ae.useEffect(()=>{(async()=>{c(!0);try{const K=(await Qo(dr(t,"courses"))).docs.map(U=>{const q=U.data();return{id:U.id,title:q.title||"Untitled",number:q.number||"N/A",courseAdmin:q.courseAdmin||[]}});o(K)}catch(X){console.error("Error fetching courses: ",X)}finally{c(!1)}})()},[t]);const F=async se=>{if(!i){H("User details are not available.","error");return}const X=r.find(K=>K.id===se);if(X&&i)try{if(X.courseAdmin.includes(i.uid)){H("You are already an admin for this course.","warning");return}const K=Wn(t,"courses",se),U=[...X.courseAdmin,i.uid];await gi(K,{courseAdmin:U});const q=Wn(t,"users",i.uid);await gi(q,{[`classes.${se}`]:{number:X.number,title:X.title,isCourseAdmin:!0}}),o(r.map(fe=>fe.id===se?{...fe,courseAdmin:U}:fe)),H("You have been successfully added as an admin to this course.","success")}catch(K){console.error("Error adding super-admin to course: ",K),H("Failed to add admin to course.","error")}},G=se=>{M(se),v(!0)},J=async()=>{if(i&&D===i.uid){const se=r.find(X=>X.id===O);if(se&&se.courseAdmin.includes(i.uid))try{await Yy(Wn(t,"courses",O));const X=await Qo(dr(t,"users")),K=z4(t);X.forEach(U=>{const q=Wn(t,"users",U.id),ue={...U.data().classes};delete ue[O],K.update(q,{classes:ue})}),await K.commit(),o(r.filter(U=>U.id!==O)),H("Course deleted successfully.","success")}catch(X){console.error("Error deleting course: ",X),H("Failed to delete course.","error")}finally{v(!1),E("")}else H("You are not authorized to delete this course.","warning"),v(!1)}else H("User ID does not match. Please try again.","error")},H=(se,X)=>{k(se),_(X),p(!0)},z=(se,X)=>{X!=="clickaway"&&p(!1)},Z=()=>{v(!1),E("")},Y=()=>{j("/")};return x.jsxs(Be,{sx:{p:3},children:[x.jsx(Be,{sx:{display:"flex",alignItems:"center",mb:2},children:x.jsx(xt,{variant:"text",onClick:Y,sx:{mr:2},children:" Home Page"})}),x.jsx(Pe,{variant:"h4",gutterBottom:!0,children:"Super Admin Course Management"}),a?x.jsx(Pe,{children:"Loading courses..."}):x.jsx(fp,{component:Ar,children:x.jsxs(pp,{"aria-label":"courses table",children:[x.jsx(mp,{children:x.jsxs(Xs,{children:[x.jsx(Ht,{sx:{fontWeight:"bold"},children:"Course ID"}),x.jsx(Ht,{sx:{fontWeight:"bold"},children:"Course Number"}),x.jsx(Ht,{sx:{fontWeight:"bold"},children:"Course Title"}),x.jsx(Ht,{sx:{fontWeight:"bold"},children:"Instructors"}),x.jsx(Ht,{align:"right",sx:{fontWeight:"bold"},children:"Actions"})]})}),x.jsx(gp,{children:r.map(se=>{const X=!!(i!=null&&i.uid)&&se.courseAdmin.includes(i.uid);return x.jsxs(Xs,{sx:{backgroundColor:X?"#e0f7fa":"transparent"},children:[x.jsx(Ht,{children:se.id}),x.jsx(Ht,{children:se.number}),x.jsx(Ht,{children:se.title}),x.jsx(Ht,{children:se.courseAdmin.length>0?se.courseAdmin.join(", "):"No admins assigned"}),x.jsxs(Ht,{align:"right",children:[x.jsx(Dl,{title:"Add yourself as an instructor",children:x.jsx("span",{children:x.jsx(ur,{edge:"end","aria-label":"add",onClick:()=>F(se.id),disabled:X,children:x.jsx(_te,{})})})}),x.jsx(Dl,{title:X?"Delete this course":"You are not authorized to delete this course",children:x.jsx("span",{children:x.jsx(ur,{edge:"end","aria-label":"delete",onClick:()=>G(se.id),disabled:!X,children:x.jsx(yk,{})})})})]})]},se.id)})})]})}),x.jsx(Il,{open:d,autoHideDuration:6e3,onClose:z,children:x.jsx(Pr,{onClose:z,severity:w,sx:{width:"100%"},children:m})}),x.jsxs(Ms,{open:C,onClose:Z,children:[x.jsx(Ns,{children:"Confirm Delete"}),x.jsxs(Os,{children:[x.jsx(fc,{children:"To confirm the deletion of this course, please enter your User ID:"}),x.jsx(_n,{autoFocus:!0,margin:"dense",id:"userId",label:"User ID",type:"text",fullWidth:!0,variant:"outlined",value:D,onChange:se=>E(se.target.value)})]}),x.jsxs(Bs,{children:[x.jsx(xt,{onClick:Z,color:"primary",children:"Cancel"}),x.jsx(xt,{onClick:J,color:"primary",children:"Confirm"})]})]})]})};var Qv={},W8;function xte(){if(W8)return Qv;W8=1;var t=fs();Object.defineProperty(Qv,"__esModule",{value:!0}),Qv.default=void 0;var i=t(ms()),r=ps();return Qv.default=(0,i.default)((0,r.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download"),Qv}var Ste=xte();const e7=Si(Ste),t7=({filePath:t,fileLabel:i})=>{const[r,o]=ae.useState(null),[a,c]=ae.useState(!0);return ae.useEffect(()=>{(async()=>{try{const p=Hm(),m=Qd(p,t),k=await rp(m);o(k)}catch(p){console.error("Error fetching download URL:",p),alert("Failed to fetch file URL. Please check your permissions.")}finally{c(!1)}})()},[t]),a?x.jsx(ji,{size:20}):r?x.jsxs(Be,{sx:{display:"flex",alignItems:"center",gap:1},children:[x.jsx(Iy,{href:r,target:"_blank",rel:"noopener noreferrer",sx:{textDecoration:"none",color:"#1976d2","&:hover":{textDecoration:"underline"}},children:i}),x.jsx(ur,{component:"a",href:r,target:"_blank",rel:"noopener noreferrer","aria-label":"Open in new tab",size:"small",children:x.jsx(e7,{})})]}):x.jsx(Be,{children:x.jsx(Pe,{color:"error",children:"Failed to load file link"})})},Ete=()=>{const{userDetails:t}=go(),[i,r]=ae.useState([]),[o,a]=ae.useState(!0);return ae.useEffect(()=>{(async()=>{if(!(t!=null&&t.uid))return;const d=Rr(),p=dr(d,"chatbotRequests"),m=Xd(p,nd("educatorId","==",t.uid));try{const w=(await Qo(m)).docs.map(_=>({id:_.id,..._.data()}));r(w)}catch(k){console.error("Error fetching chatbot requests:",k)}finally{a(!1)}})()},[t==null?void 0:t.uid]),o?x.jsx(Be,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:x.jsx(ji,{})}):i.length===0?x.jsx(Pe,{variant:"body1",sx:{textAlign:"center",mt:4},children:"No chatbot requests found."}):x.jsxs(Be,{children:[x.jsx(Pe,{variant:"h6",sx:{mb:2},children:"Your Chatbot Requests"}),x.jsx(fp,{component:Ar,elevation:3,sx:{maxHeight:400},children:x.jsxs(pp,{stickyHeader:!0,children:[x.jsx(mp,{children:x.jsxs(Xs,{children:[x.jsx(Ht,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Title"}),x.jsx(Ht,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Course"}),x.jsx(Ht,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Material"}),x.jsx(Ht,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Submitted On"}),x.jsx(Ht,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Status"}),x.jsx(Ht,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"File Links"})]})}),x.jsx(gp,{children:i.map((c,d)=>x.jsxs(Xs,{sx:{backgroundColor:d%2===0?"#F6E9B2":"#FBFADA","&:hover":{backgroundColor:"#E8E8E8"}},children:[x.jsx(Ht,{children:c.title}),x.jsx(Ht,{children:`${c.courseNumber} - ${c.courseTitle}`}),x.jsx(Ht,{children:c.materialTitle||"N/A"}),x.jsx(Ht,{children:new Date(c.timestamp).toLocaleString()}),x.jsx(Ht,{children:x.jsx(Pe,{variant:"body2",sx:{color:c.status==="pending"?"#FFA726":"#43A047",fontWeight:"bold"},children:c.status})}),x.jsx(Ht,{children:c.files.map((p,m)=>x.jsx(t7,{filePath:p,fileLabel:`File ${m+1}`},m))})]},c.id))})]})})]})},Dte=()=>{const t=so();return x.jsxs(Be,{className:"profile-container",sx:{p:4},children:[x.jsx(xt,{variant:"text",onClick:()=>t("/"),className:"profile-button",children:" Home Page"}),x.jsx(Pe,{className:"webpage_title",sx:{mb:2},children:"Chatbot Management"}),x.jsx(Pe,{variant:"body1",className:"profile-text",sx:{mb:3},children:"Manage your chatbots or create new chatbot requests."}),x.jsx(xt,{variant:"contained",onClick:()=>t("/request-chatbot"),sx:{mt:2},className:"submit-button",children:"Request a New Chatbot"}),x.jsx(Ete,{})]})},Ite=({folderPath:t,onUploadComplete:i})=>{const[r,o]=ae.useState(!1),[a,c]=ae.useState([]),[d,p]=ae.useState(null),m=5*1024*1024,k=[".pdf",".ppt",".pptx",".doc",".docx",".txt"],w=async _=>{if(!_.target.files)return;const C=Array.from(_.target.files),v=Hm(),D=[];o(!0),p(null);try{for(const E of C){const O=E.name.slice(E.name.lastIndexOf(".")).toLowerCase();if(!k.includes(O)){p(`File ${E.name} is not a supported format.`);continue}if(E.size>m){p(`File ${E.name} exceeds the 5 MB limit and cannot be uploaded.`);continue}const M=Qd(v,`${t}/files/${E.name}`);await Bm(M,E);const j=await rp(M);D.push(j)}c(E=>[...E,...C]),i(D)}catch(E){console.error("Error uploading files:",E),p("Failed to upload files. Please try again.")}finally{o(!1)}};return x.jsxs(Be,{children:[x.jsx("input",{type:"file",accept:".pdf,.ppt,.pptx,.doc,.docx,.txt",multiple:!0,onChange:w,style:{display:"none"},id:"file-upload"}),x.jsx("label",{htmlFor:"file-upload",children:x.jsx(xt,{variant:"contained",component:"span",disabled:r,startIcon:r?x.jsx(ji,{size:20}):null,children:r?"Uploading...":"Select and Upload Files"})}),d&&x.jsx(Pr,{severity:"error",sx:{mt:2},children:d}),x.jsx(Be,{sx:{marginTop:2},children:a.map((_,C)=>x.jsx(Pe,{children:_.name},C))})]})},Tte=vk()(Xy((t,i)=>({materials:[],selectedCourse:null,loading:!1,error:null,isEditing:!1,selectedMaterial:null,setMaterials:r=>t({materials:r}),addMaterial:r=>t(o=>({materials:[...o.materials,r]})),updateMaterial:(r,o)=>t(a=>({materials:a.materials.map(c=>c.id===r?{...c,...o}:c)})),deleteMaterial:r=>t(o=>({materials:o.materials.filter(a=>a.id!==r)})),setSelectedCourse:r=>t({selectedCourse:r}),setLoading:r=>t({loading:r}),setError:r=>t({error:r}),setIsEditing:r=>t({isEditing:r}),setSelectedMaterial:r=>t({selectedMaterial:r}),fetchMaterials:async r=>{t({loading:!0,error:null});try{const{db:o}=await To(async()=>{const{db:w}=await Promise.resolve().then(()=>jm);return{db:w}},void 0),{collection:a,query:c,where:d,onSnapshot:p,orderBy:m}=await To(async()=>{const{collection:w,query:_,where:C,onSnapshot:v,orderBy:D}=await import("./firebase-BbBYlhCW.js").then(E=>E.A);return{collection:w,query:_,where:C,onSnapshot:v,orderBy:D}},[]),k=c(a(o,"materials"),d("course","==",r),m("timestamp","desc"));return new Promise(w=>{p(k,_=>{const C=_.docs.map(v=>({id:v.id,...v.data()}));t({materials:C,loading:!1}),w(void 0)})})}catch(o){t({error:o instanceof Error?o.message:"Failed to fetch materials",loading:!1})}},publishMaterial:async r=>{try{const{db:o}=await To(async()=>{const{db:d}=await Promise.resolve().then(()=>jm);return{db:d}},void 0),{doc:a,updateDoc:c}=await To(async()=>{const{doc:d,updateDoc:p}=await import("./firebase-BbBYlhCW.js").then(m=>m.A);return{doc:d,updateDoc:p}},[]);await c(a(o,"materials",r),{published:!0}),i().updateMaterial(r,{published:!0})}catch{t({error:"Failed to publish material"})}},unpublishMaterial:async r=>{try{const{db:o}=await To(async()=>{const{db:d}=await Promise.resolve().then(()=>jm);return{db:d}},void 0),{doc:a,updateDoc:c}=await To(async()=>{const{doc:d,updateDoc:p}=await import("./firebase-BbBYlhCW.js").then(m=>m.A);return{doc:d,updateDoc:p}},[]);await c(a(o,"materials",r),{published:!1}),i().updateMaterial(r,{published:!1})}catch{t({error:"Failed to unpublish material"})}}}))),Mte=()=>{const{userDetails:t}=go(),i=so(),r=Rr(),[o,a]=ae.useState(""),[c,d]=ae.useState(""),[p,m]=ae.useState(""),[k,w]=ae.useState([]),[_,C]=ae.useState(!1),[v,D]=ae.useState(""),[E,O]=ae.useState("success"),{materials:M,loading:j,error:F,fetchMaterials:G}=Tte();ae.useEffect(()=>{m(""),c&&G(c)},[c,G]);const J=Y=>{w(se=>[...se,...Y])},H=async()=>{var q;if(!o||!c||!p||k.length===0){D("Please fill all required fields and upload at least one file."),O("error"),C(!0);return}const Y=(q=t==null?void 0:t.classes)==null?void 0:q[c];if(!Y||!Y.isCourseAdmin){D("You are not authorized to request a chatbot for this course."),O("error"),C(!0);return}const se=(Y==null?void 0:Y.number)??"N/A",X=(Y==null?void 0:Y.title)??"Untitled Course",K=M.find(fe=>fe.id===p);if(!K){D("Selected material details could not be found."),O("error"),C(!0);return}const{title:U}=K;try{const fe=await da(dr(r,"chatbotRequests"),{educatorId:t==null?void 0:t.uid,courseId:c,courseNumber:se,courseTitle:X,materialId:p,materialTitle:U,title:o,files:k,status:"pending",timestamp:new Date().toISOString()});await da(dr(r,"mail"),{to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:"New Chatbot Request Submitted",html:`
            <p>A new chatbot request has been submitted:</p>
            <p><strong>Title:</strong> ${o}</p>
            <p><strong>Educator ID:</strong> ${t==null?void 0:t.uid}</p>
            <p><strong>Course:</strong> ${se} - ${X}</p>
            <p><strong>Material:</strong> ${U}</p>
            <p><strong>Request ID:</strong> ${fe.id}</p>
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/super-admin-chatbot-requests">
            Click here to review the request.
            </a></p>
          `}}),D("Chatbot request submitted successfully!"),O("success"),C(!0),setTimeout(()=>i("/chatbot-management"),1500)}catch(fe){console.error("Error submitting chatbot request:",fe),D("Failed to submit the chatbot request. Please try again."),O("error"),C(!0)}},z=()=>{i("/chatbot-management")},Z=()=>{C(!1)};return x.jsxs(Be,{className:"profile-container",sx:{p:4},children:[x.jsx(xt,{variant:"text",onClick:z,className:"profile-button",children:" Chatbot Management"}),x.jsx(Pe,{className:"webpage_title",sx:{mb:2},children:"Request to Create a Chatbot"}),x.jsx(Pe,{variant:"body1",className:"profile-text",sx:{mb:3},children:"Fill out the form below to request a chatbot. Please upload all related materials for the chatbot's knowledge base."}),x.jsx(_n,{label:"Chatbot Title",value:o,onChange:Y=>a(Y.target.value),fullWidth:!0,margin:"normal",required:!0,className:"form-field"}),x.jsx(_n,{label:"Course ID",value:c,onChange:Y=>d(Y.target.value),fullWidth:!0,margin:"normal",required:!0,select:!0,helperText:"Only courses where you are an admin are available for chatbot requests.",className:"form-field",children:Object.keys((t==null?void 0:t.classes)||{}).filter(Y=>{var se,X;return(X=(se=t==null?void 0:t.classes)==null?void 0:se[Y])==null?void 0:X.isCourseAdmin}).map(Y=>{var se,X;return x.jsx(Lr,{value:Y,children:((X=(se=t==null?void 0:t.classes)==null?void 0:se[Y])==null?void 0:X.title)||"Untitled Course"},Y)})}),x.jsx(_n,{label:"Material",value:p,onChange:Y=>m(Y.target.value),fullWidth:!0,margin:"normal",required:!0,select:!0,disabled:!c||j,helperText:c?F||(j?"Loading materials...":M.length===0?"No materials available for this course.":""):"Please select a course first.",children:c?j?x.jsxs(Lr,{disabled:!0,children:[x.jsx(ji,{size:20,sx:{marginRight:2}}),"Loading..."]}):M.length===0?x.jsx(Lr,{disabled:!0,children:"No materials found"}):M.map(Y=>x.jsx(Lr,{value:Y.id,children:Y.title},Y.id)):x.jsx(Lr,{disabled:!0,children:"Please select a course first"})}),x.jsxs(Be,{sx:{mt:3},children:[x.jsx(Pe,{variant:"body1",className:"profile-text",sx:{mb:2},children:"Upload your files below (PDF, PPT, DOC/DOCX, TXT formats only):"}),x.jsx(Ite,{folderPath:`chatbotRequests/${t==null?void 0:t.uid}`,onUploadComplete:J})]}),x.jsx(xt,{variant:"contained",onClick:H,sx:{mt:4},className:"submit-button",children:"Submit Request"}),x.jsx(Il,{open:_,autoHideDuration:6e3,onClose:Z,children:x.jsx(Pr,{severity:E,onClose:Z,children:v})})]})};var Zv={},G8;function Nte(){if(G8)return Zv;G8=1;var t=fs();Object.defineProperty(Zv,"__esModule",{value:!0}),Zv.default=void 0;var i=t(ms()),r=ps();return Zv.default=(0,i.default)((0,r.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),Zv}var Ote=Nte();const Bte=Si(Ote),Jv=hf(Ht)({fontWeight:"bold",color:"#fff",backgroundColor:"#123372",fontSize:"1rem",textAlign:"center"}),jte=hf(Xs)({"& td, & th":{padding:"12px 16px"},"&:nth-of-type(odd)":{backgroundColor:"#f9f9f9"},"&:hover":{backgroundColor:"#e0e0e0"}}),Y8=hf(ur)({width:40,height:40,padding:0,display:"flex",alignItems:"center",justifyContent:"center",textTransform:"capitalize",borderRadius:"8px",color:"#123372"}),Lte=({conversations:t,onViewHistory:i,onDeleteConversation:r,loadingMap:o})=>t.length===0?x.jsx(Pe,{variant:"body1",sx:{textAlign:"center",mt:4},children:"No conversations available to display."}):x.jsx(Be,{sx:{mt:3},children:x.jsx(fp,{component:Ar,sx:{boxShadow:"0px 5px 15px rgba(0, 0, 0, 0.1)",borderRadius:"10px"},children:x.jsxs(pp,{children:[x.jsx(mp,{children:x.jsxs(Xs,{children:[x.jsx(Jv,{children:"Conversation ID"}),x.jsx(Jv,{children:"User ID"}),x.jsx(Jv,{children:"Chatbot ID"}),x.jsx(Jv,{children:"Timestamp (Started At)"}),x.jsx(Jv,{children:"Actions"})]})}),x.jsx(gp,{children:t.length>0?t.map(a=>x.jsxs(jte,{children:[x.jsx(Ht,{align:"center",children:a.id}),x.jsx(Ht,{align:"center",children:a.userId}),x.jsx(Ht,{align:"center",children:a.chatbotId}),x.jsx(Ht,{align:"center",children:a.startedAt?new Date(a.startedAt).toLocaleString():"Invalid date"}),x.jsx(Ht,{align:"center",children:x.jsxs(Be,{sx:{display:"flex",justifyContent:"center",gap:1},children:[x.jsx(Dl,{title:"View Data",children:x.jsx(Y8,{onClick:()=>i(a.chatbotId,a.id,a.userId,a.startedAt),color:"primary",disabled:o[a.id],children:o[a.id]?x.jsx(ji,{size:20,color:"inherit"}):x.jsx(Bte,{})})}),x.jsx(Dl,{title:"Delete Conversation",children:x.jsx(Y8,{onClick:()=>r(a.id),color:"error",children:x.jsx(yk,{})})})]})})]},a.id)):x.jsx(Xs,{children:x.jsx(Ht,{colSpan:5,align:"center",children:"No conversations available for the selected filters."})})})]})})});function n7(t,i){return function(){return t.apply(i,arguments)}}const{toString:Pte}=Object.prototype,{getPrototypeOf:fD}=Object,{iterator:_5,toStringTag:r7}=Symbol,C5=(t=>i=>{const r=Pte.call(i);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),nh=t=>(t=t.toLowerCase(),i=>C5(i)===t),x5=t=>i=>typeof i===t,{isArray:_k}=Array,Ry=x5("undefined");function Rte(t){return t!==null&&!Ry(t)&&t.constructor!==null&&!Ry(t.constructor)&&ac(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const i7=nh("ArrayBuffer");function Fte(t){let i;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?i=ArrayBuffer.isView(t):i=t&&t.buffer&&i7(t.buffer),i}const zte=x5("string"),ac=x5("function"),o7=x5("number"),S5=t=>t!==null&&typeof t=="object",Ute=t=>t===!0||t===!1,mx=t=>{if(C5(t)!=="object")return!1;const i=fD(t);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(r7 in t)&&!(_5 in t)},qte=nh("Date"),Vte=nh("File"),Hte=nh("Blob"),$te=nh("FileList"),Wte=t=>S5(t)&&ac(t.pipe),Gte=t=>{let i;return t&&(typeof FormData=="function"&&t instanceof FormData||ac(t.append)&&((i=C5(t))==="formdata"||i==="object"&&ac(t.toString)&&t.toString()==="[object FormData]"))},Yte=nh("URLSearchParams"),[Kte,Qte,Zte,Jte]=["ReadableStream","Request","Response","Headers"].map(nh),Xte=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function oA(t,i,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let o,a;if(typeof t!="object"&&(t=[t]),_k(t))for(o=0,a=t.length;o<a;o++)i.call(null,t[o],o,t);else{const c=r?Object.getOwnPropertyNames(t):Object.keys(t),d=c.length;let p;for(o=0;o<d;o++)p=c[o],i.call(null,t[p],p,t)}}function s7(t,i){i=i.toLowerCase();const r=Object.keys(t);let o=r.length,a;for(;o-- >0;)if(a=r[o],i===a.toLowerCase())return a;return null}const Xg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,a7=t=>!Ry(t)&&t!==Xg;function r4(){const{caseless:t}=a7(this)&&this||{},i={},r=(o,a)=>{const c=t&&s7(i,a)||a;mx(i[c])&&mx(o)?i[c]=r4(i[c],o):mx(o)?i[c]=r4({},o):_k(o)?i[c]=o.slice():i[c]=o};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&oA(arguments[o],r);return i}const ene=(t,i,r,{allOwnKeys:o}={})=>(oA(i,(a,c)=>{r&&ac(a)?t[c]=n7(a,r):t[c]=a},{allOwnKeys:o}),t),tne=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),nne=(t,i,r,o)=>{t.prototype=Object.create(i.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:i.prototype}),r&&Object.assign(t.prototype,r)},rne=(t,i,r,o)=>{let a,c,d;const p={};if(i=i||{},t==null)return i;do{for(a=Object.getOwnPropertyNames(t),c=a.length;c-- >0;)d=a[c],(!o||o(d,t,i))&&!p[d]&&(i[d]=t[d],p[d]=!0);t=r!==!1&&fD(t)}while(t&&(!r||r(t,i))&&t!==Object.prototype);return i},ine=(t,i,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=i.length;const o=t.indexOf(i,r);return o!==-1&&o===r},one=t=>{if(!t)return null;if(_k(t))return t;let i=t.length;if(!o7(i))return null;const r=new Array(i);for(;i-- >0;)r[i]=t[i];return r},sne=(t=>i=>t&&i instanceof t)(typeof Uint8Array<"u"&&fD(Uint8Array)),ane=(t,i)=>{const o=(t&&t[_5]).call(t);let a;for(;(a=o.next())&&!a.done;){const c=a.value;i.call(t,c[0],c[1])}},lne=(t,i)=>{let r;const o=[];for(;(r=t.exec(i))!==null;)o.push(r);return o},cne=nh("HTMLFormElement"),une=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,o,a){return o.toUpperCase()+a}),K8=(({hasOwnProperty:t})=>(i,r)=>t.call(i,r))(Object.prototype),dne=nh("RegExp"),l7=(t,i)=>{const r=Object.getOwnPropertyDescriptors(t),o={};oA(r,(a,c)=>{let d;(d=i(a,c,t))!==!1&&(o[c]=d||a)}),Object.defineProperties(t,o)},hne=t=>{l7(t,(i,r)=>{if(ac(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const o=t[r];if(ac(o)){if(i.enumerable=!1,"writable"in i){i.writable=!1;return}i.set||(i.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},fne=(t,i)=>{const r={},o=a=>{a.forEach(c=>{r[c]=!0})};return _k(t)?o(t):o(String(t).split(i)),r},pne=()=>{},mne=(t,i)=>t!=null&&Number.isFinite(t=+t)?t:i;function gne(t){return!!(t&&ac(t.append)&&t[r7]==="FormData"&&t[_5])}const bne=t=>{const i=new Array(10),r=(o,a)=>{if(S5(o)){if(i.indexOf(o)>=0)return;if(!("toJSON"in o)){i[a]=o;const c=_k(o)?[]:{};return oA(o,(d,p)=>{const m=r(d,a+1);!Ry(m)&&(c[p]=m)}),i[a]=void 0,c}}return o};return r(t,0)},kne=nh("AsyncFunction"),wne=t=>t&&(S5(t)||ac(t))&&ac(t.then)&&ac(t.catch),c7=((t,i)=>t?setImmediate:i?((r,o)=>(Xg.addEventListener("message",({source:a,data:c})=>{a===Xg&&c===r&&o.length&&o.shift()()},!1),a=>{o.push(a),Xg.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ac(Xg.postMessage)),vne=typeof queueMicrotask<"u"?queueMicrotask.bind(Xg):typeof process<"u"&&process.nextTick||c7,yne=t=>t!=null&&ac(t[_5]),At={isArray:_k,isArrayBuffer:i7,isBuffer:Rte,isFormData:Gte,isArrayBufferView:Fte,isString:zte,isNumber:o7,isBoolean:Ute,isObject:S5,isPlainObject:mx,isReadableStream:Kte,isRequest:Qte,isResponse:Zte,isHeaders:Jte,isUndefined:Ry,isDate:qte,isFile:Vte,isBlob:Hte,isRegExp:dne,isFunction:ac,isStream:Wte,isURLSearchParams:Yte,isTypedArray:sne,isFileList:$te,forEach:oA,merge:r4,extend:ene,trim:Xte,stripBOM:tne,inherits:nne,toFlatObject:rne,kindOf:C5,kindOfTest:nh,endsWith:ine,toArray:one,forEachEntry:ane,matchAll:lne,isHTMLForm:cne,hasOwnProperty:K8,hasOwnProp:K8,reduceDescriptors:l7,freezeMethods:hne,toObjectSet:fne,toCamelCase:une,noop:pne,toFiniteNumber:mne,findKey:s7,global:Xg,isContextDefined:a7,isSpecCompliantForm:gne,toJSONObject:bne,isAsyncFn:kne,isThenable:wne,setImmediate:c7,asap:vne,isIterable:yne};function lr(t,i,r,o,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",i&&(this.code=i),r&&(this.config=r),o&&(this.request=o),a&&(this.response=a,this.status=a.status?a.status:null)}At.inherits(lr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:At.toJSONObject(this.config),code:this.code,status:this.status}}});const u7=lr.prototype,d7={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{d7[t]={value:t}});Object.defineProperties(lr,d7);Object.defineProperty(u7,"isAxiosError",{value:!0});lr.from=(t,i,r,o,a,c)=>{const d=Object.create(u7);return At.toFlatObject(t,d,function(m){return m!==Error.prototype},p=>p!=="isAxiosError"),lr.call(d,t.message,i,r,o,a),d.cause=t,d.name=t.name,c&&Object.assign(d,c),d};const Ane=null;function i4(t){return At.isPlainObject(t)||At.isArray(t)}function h7(t){return At.endsWith(t,"[]")?t.slice(0,-2):t}function Q8(t,i,r){return t?t.concat(i).map(function(a,c){return a=h7(a),!r&&c?"["+a+"]":a}).join(r?".":""):i}function _ne(t){return At.isArray(t)&&!t.some(i4)}const Cne=At.toFlatObject(At,{},null,function(i){return/^is[A-Z]/.test(i)});function E5(t,i,r){if(!At.isObject(t))throw new TypeError("target must be an object");i=i||new FormData,r=At.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,O){return!At.isUndefined(O[E])});const o=r.metaTokens,a=r.visitor||w,c=r.dots,d=r.indexes,m=(r.Blob||typeof Blob<"u"&&Blob)&&At.isSpecCompliantForm(i);if(!At.isFunction(a))throw new TypeError("visitor must be a function");function k(D){if(D===null)return"";if(At.isDate(D))return D.toISOString();if(At.isBoolean(D))return D.toString();if(!m&&At.isBlob(D))throw new lr("Blob is not supported. Use a Buffer instead.");return At.isArrayBuffer(D)||At.isTypedArray(D)?m&&typeof Blob=="function"?new Blob([D]):Buffer.from(D):D}function w(D,E,O){let M=D;if(D&&!O&&typeof D=="object"){if(At.endsWith(E,"{}"))E=o?E:E.slice(0,-2),D=JSON.stringify(D);else if(At.isArray(D)&&_ne(D)||(At.isFileList(D)||At.endsWith(E,"[]"))&&(M=At.toArray(D)))return E=h7(E),M.forEach(function(F,G){!(At.isUndefined(F)||F===null)&&i.append(d===!0?Q8([E],G,c):d===null?E:E+"[]",k(F))}),!1}return i4(D)?!0:(i.append(Q8(O,E,c),k(D)),!1)}const _=[],C=Object.assign(Cne,{defaultVisitor:w,convertValue:k,isVisitable:i4});function v(D,E){if(!At.isUndefined(D)){if(_.indexOf(D)!==-1)throw Error("Circular reference detected in "+E.join("."));_.push(D),At.forEach(D,function(M,j){(!(At.isUndefined(M)||M===null)&&a.call(i,M,At.isString(j)?j.trim():j,E,C))===!0&&v(M,E?E.concat(j):[j])}),_.pop()}}if(!At.isObject(t))throw new TypeError("data must be an object");return v(t),i}function Z8(t){const i={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(o){return i[o]})}function pD(t,i){this._pairs=[],t&&E5(t,this,i)}const f7=pD.prototype;f7.append=function(i,r){this._pairs.push([i,r])};f7.toString=function(i){const r=i?function(o){return i.call(this,o,Z8)}:Z8;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function xne(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function p7(t,i,r){if(!i)return t;const o=r&&r.encode||xne;At.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let c;if(a?c=a(i,r):c=At.isURLSearchParams(i)?i.toString():new pD(i,r).toString(o),c){const d=t.indexOf("#");d!==-1&&(t=t.slice(0,d)),t+=(t.indexOf("?")===-1?"?":"&")+c}return t}class J8{constructor(){this.handlers=[]}use(i,r,o){return this.handlers.push({fulfilled:i,rejected:r,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(i){this.handlers[i]&&(this.handlers[i]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(i){At.forEach(this.handlers,function(o){o!==null&&i(o)})}}const m7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Sne=typeof URLSearchParams<"u"?URLSearchParams:pD,Ene=typeof FormData<"u"?FormData:null,Dne=typeof Blob<"u"?Blob:null,Ine={isBrowser:!0,classes:{URLSearchParams:Sne,FormData:Ene,Blob:Dne},protocols:["http","https","file","blob","url","data"]},mD=typeof window<"u"&&typeof document<"u",o4=typeof navigator=="object"&&navigator||void 0,Tne=mD&&(!o4||["ReactNative","NativeScript","NS"].indexOf(o4.product)<0),Mne=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Nne=mD&&window.location.href||"http://localhost",One=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:mD,hasStandardBrowserEnv:Tne,hasStandardBrowserWebWorkerEnv:Mne,navigator:o4,origin:Nne},Symbol.toStringTag,{value:"Module"})),ol={...One,...Ine};function Bne(t,i){return E5(t,new ol.classes.URLSearchParams,Object.assign({visitor:function(r,o,a,c){return ol.isNode&&At.isBuffer(r)?(this.append(o,r.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)}},i))}function jne(t){return At.matchAll(/\w+|\[(\w*)]/g,t).map(i=>i[0]==="[]"?"":i[1]||i[0])}function Lne(t){const i={},r=Object.keys(t);let o;const a=r.length;let c;for(o=0;o<a;o++)c=r[o],i[c]=t[c];return i}function g7(t){function i(r,o,a,c){let d=r[c++];if(d==="__proto__")return!0;const p=Number.isFinite(+d),m=c>=r.length;return d=!d&&At.isArray(a)?a.length:d,m?(At.hasOwnProp(a,d)?a[d]=[a[d],o]:a[d]=o,!p):((!a[d]||!At.isObject(a[d]))&&(a[d]=[]),i(r,o,a[d],c)&&At.isArray(a[d])&&(a[d]=Lne(a[d])),!p)}if(At.isFormData(t)&&At.isFunction(t.entries)){const r={};return At.forEachEntry(t,(o,a)=>{i(jne(o),a,r,0)}),r}return null}function Pne(t,i,r){if(At.isString(t))try{return(i||JSON.parse)(t),At.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(r||JSON.stringify)(t)}const sA={transitional:m7,adapter:["xhr","http","fetch"],transformRequest:[function(i,r){const o=r.getContentType()||"",a=o.indexOf("application/json")>-1,c=At.isObject(i);if(c&&At.isHTMLForm(i)&&(i=new FormData(i)),At.isFormData(i))return a?JSON.stringify(g7(i)):i;if(At.isArrayBuffer(i)||At.isBuffer(i)||At.isStream(i)||At.isFile(i)||At.isBlob(i)||At.isReadableStream(i))return i;if(At.isArrayBufferView(i))return i.buffer;if(At.isURLSearchParams(i))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),i.toString();let p;if(c){if(o.indexOf("application/x-www-form-urlencoded")>-1)return Bne(i,this.formSerializer).toString();if((p=At.isFileList(i))||o.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return E5(p?{"files[]":i}:i,m&&new m,this.formSerializer)}}return c||a?(r.setContentType("application/json",!1),Pne(i)):i}],transformResponse:[function(i){const r=this.transitional||sA.transitional,o=r&&r.forcedJSONParsing,a=this.responseType==="json";if(At.isResponse(i)||At.isReadableStream(i))return i;if(i&&At.isString(i)&&(o&&!this.responseType||a)){const d=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(i)}catch(p){if(d)throw p.name==="SyntaxError"?lr.from(p,lr.ERR_BAD_RESPONSE,this,null,this.response):p}}return i}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ol.classes.FormData,Blob:ol.classes.Blob},validateStatus:function(i){return i>=200&&i<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};At.forEach(["delete","get","head","post","put","patch"],t=>{sA.headers[t]={}});const Rne=At.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Fne=t=>{const i={};let r,o,a;return t&&t.split(`
`).forEach(function(d){a=d.indexOf(":"),r=d.substring(0,a).trim().toLowerCase(),o=d.substring(a+1).trim(),!(!r||i[r]&&Rne[r])&&(r==="set-cookie"?i[r]?i[r].push(o):i[r]=[o]:i[r]=i[r]?i[r]+", "+o:o)}),i},X8=Symbol("internals");function Xv(t){return t&&String(t).trim().toLowerCase()}function gx(t){return t===!1||t==null?t:At.isArray(t)?t.map(gx):String(t)}function zne(t){const i=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=r.exec(t);)i[o[1]]=o[2];return i}const Une=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Z3(t,i,r,o,a){if(At.isFunction(o))return o.call(this,i,r);if(a&&(i=r),!!At.isString(i)){if(At.isString(o))return i.indexOf(o)!==-1;if(At.isRegExp(o))return o.test(i)}}function qne(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(i,r,o)=>r.toUpperCase()+o)}function Vne(t,i){const r=At.toCamelCase(" "+i);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+r,{value:function(a,c,d){return this[o].call(this,i,a,c,d)},configurable:!0})})}let lc=class{constructor(i){i&&this.set(i)}set(i,r,o){const a=this;function c(p,m,k){const w=Xv(m);if(!w)throw new Error("header name must be a non-empty string");const _=At.findKey(a,w);(!_||a[_]===void 0||k===!0||k===void 0&&a[_]!==!1)&&(a[_||m]=gx(p))}const d=(p,m)=>At.forEach(p,(k,w)=>c(k,w,m));if(At.isPlainObject(i)||i instanceof this.constructor)d(i,r);else if(At.isString(i)&&(i=i.trim())&&!Une(i))d(Fne(i),r);else if(At.isObject(i)&&At.isIterable(i)){let p={},m,k;for(const w of i){if(!At.isArray(w))throw TypeError("Object iterator must return a key-value pair");p[k=w[0]]=(m=p[k])?At.isArray(m)?[...m,w[1]]:[m,w[1]]:w[1]}d(p,r)}else i!=null&&c(r,i,o);return this}get(i,r){if(i=Xv(i),i){const o=At.findKey(this,i);if(o){const a=this[o];if(!r)return a;if(r===!0)return zne(a);if(At.isFunction(r))return r.call(this,a,o);if(At.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(i,r){if(i=Xv(i),i){const o=At.findKey(this,i);return!!(o&&this[o]!==void 0&&(!r||Z3(this,this[o],o,r)))}return!1}delete(i,r){const o=this;let a=!1;function c(d){if(d=Xv(d),d){const p=At.findKey(o,d);p&&(!r||Z3(o,o[p],p,r))&&(delete o[p],a=!0)}}return At.isArray(i)?i.forEach(c):c(i),a}clear(i){const r=Object.keys(this);let o=r.length,a=!1;for(;o--;){const c=r[o];(!i||Z3(this,this[c],c,i,!0))&&(delete this[c],a=!0)}return a}normalize(i){const r=this,o={};return At.forEach(this,(a,c)=>{const d=At.findKey(o,c);if(d){r[d]=gx(a),delete r[c];return}const p=i?qne(c):String(c).trim();p!==c&&delete r[c],r[p]=gx(a),o[p]=!0}),this}concat(...i){return this.constructor.concat(this,...i)}toJSON(i){const r=Object.create(null);return At.forEach(this,(o,a)=>{o!=null&&o!==!1&&(r[a]=i&&At.isArray(o)?o.join(", "):o)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([i,r])=>i+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(i){return i instanceof this?i:new this(i)}static concat(i,...r){const o=new this(i);return r.forEach(a=>o.set(a)),o}static accessor(i){const o=(this[X8]=this[X8]={accessors:{}}).accessors,a=this.prototype;function c(d){const p=Xv(d);o[p]||(Vne(a,d),o[p]=!0)}return At.isArray(i)?i.forEach(c):c(i),this}};lc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);At.reduceDescriptors(lc.prototype,({value:t},i)=>{let r=i[0].toUpperCase()+i.slice(1);return{get:()=>t,set(o){this[r]=o}}});At.freezeMethods(lc);function J3(t,i){const r=this||sA,o=i||r,a=lc.from(o.headers);let c=o.data;return At.forEach(t,function(p){c=p.call(r,c,a.normalize(),i?i.status:void 0)}),a.normalize(),c}function b7(t){return!!(t&&t.__CANCEL__)}function Ck(t,i,r){lr.call(this,t??"canceled",lr.ERR_CANCELED,i,r),this.name="CanceledError"}At.inherits(Ck,lr,{__CANCEL__:!0});function k7(t,i,r){const o=r.config.validateStatus;!r.status||!o||o(r.status)?t(r):i(new lr("Request failed with status code "+r.status,[lr.ERR_BAD_REQUEST,lr.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Hne(t){const i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return i&&i[1]||""}function $ne(t,i){t=t||10;const r=new Array(t),o=new Array(t);let a=0,c=0,d;return i=i!==void 0?i:1e3,function(m){const k=Date.now(),w=o[c];d||(d=k),r[a]=m,o[a]=k;let _=c,C=0;for(;_!==a;)C+=r[_++],_=_%t;if(a=(a+1)%t,a===c&&(c=(c+1)%t),k-d<i)return;const v=w&&k-w;return v?Math.round(C*1e3/v):void 0}}function Wne(t,i){let r=0,o=1e3/i,a,c;const d=(k,w=Date.now())=>{r=w,a=null,c&&(clearTimeout(c),c=null),t.apply(null,k)};return[(...k)=>{const w=Date.now(),_=w-r;_>=o?d(k,w):(a=k,c||(c=setTimeout(()=>{c=null,d(a)},o-_)))},()=>a&&d(a)]}const Zx=(t,i,r=3)=>{let o=0;const a=$ne(50,250);return Wne(c=>{const d=c.loaded,p=c.lengthComputable?c.total:void 0,m=d-o,k=a(m),w=d<=p;o=d;const _={loaded:d,total:p,progress:p?d/p:void 0,bytes:m,rate:k||void 0,estimated:k&&p&&w?(p-d)/k:void 0,event:c,lengthComputable:p!=null,[i?"download":"upload"]:!0};t(_)},r)},eO=(t,i)=>{const r=t!=null;return[o=>i[0]({lengthComputable:r,total:t,loaded:o}),i[1]]},tO=t=>(...i)=>At.asap(()=>t(...i)),Gne=ol.hasStandardBrowserEnv?((t,i)=>r=>(r=new URL(r,ol.origin),t.protocol===r.protocol&&t.host===r.host&&(i||t.port===r.port)))(new URL(ol.origin),ol.navigator&&/(msie|trident)/i.test(ol.navigator.userAgent)):()=>!0,Yne=ol.hasStandardBrowserEnv?{write(t,i,r,o,a,c){const d=[t+"="+encodeURIComponent(i)];At.isNumber(r)&&d.push("expires="+new Date(r).toGMTString()),At.isString(o)&&d.push("path="+o),At.isString(a)&&d.push("domain="+a),c===!0&&d.push("secure"),document.cookie=d.join("; ")},read(t){const i=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Kne(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Qne(t,i){return i?t.replace(/\/?\/$/,"")+"/"+i.replace(/^\/+/,""):t}function w7(t,i,r){let o=!Kne(i);return t&&(o||r==!1)?Qne(t,i):i}const nO=t=>t instanceof lc?{...t}:t;function fb(t,i){i=i||{};const r={};function o(k,w,_,C){return At.isPlainObject(k)&&At.isPlainObject(w)?At.merge.call({caseless:C},k,w):At.isPlainObject(w)?At.merge({},w):At.isArray(w)?w.slice():w}function a(k,w,_,C){if(At.isUndefined(w)){if(!At.isUndefined(k))return o(void 0,k,_,C)}else return o(k,w,_,C)}function c(k,w){if(!At.isUndefined(w))return o(void 0,w)}function d(k,w){if(At.isUndefined(w)){if(!At.isUndefined(k))return o(void 0,k)}else return o(void 0,w)}function p(k,w,_){if(_ in i)return o(k,w);if(_ in t)return o(void 0,k)}const m={url:c,method:c,data:c,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:p,headers:(k,w,_)=>a(nO(k),nO(w),_,!0)};return At.forEach(Object.keys(Object.assign({},t,i)),function(w){const _=m[w]||a,C=_(t[w],i[w],w);At.isUndefined(C)&&_!==p||(r[w]=C)}),r}const v7=t=>{const i=fb({},t);let{data:r,withXSRFToken:o,xsrfHeaderName:a,xsrfCookieName:c,headers:d,auth:p}=i;i.headers=d=lc.from(d),i.url=p7(w7(i.baseURL,i.url,i.allowAbsoluteUrls),t.params,t.paramsSerializer),p&&d.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):"")));let m;if(At.isFormData(r)){if(ol.hasStandardBrowserEnv||ol.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((m=d.getContentType())!==!1){const[k,...w]=m?m.split(";").map(_=>_.trim()).filter(Boolean):[];d.setContentType([k||"multipart/form-data",...w].join("; "))}}if(ol.hasStandardBrowserEnv&&(o&&At.isFunction(o)&&(o=o(i)),o||o!==!1&&Gne(i.url))){const k=a&&c&&Yne.read(c);k&&d.set(a,k)}return i},Zne=typeof XMLHttpRequest<"u",Jne=Zne&&function(t){return new Promise(function(r,o){const a=v7(t);let c=a.data;const d=lc.from(a.headers).normalize();let{responseType:p,onUploadProgress:m,onDownloadProgress:k}=a,w,_,C,v,D;function E(){v&&v(),D&&D(),a.cancelToken&&a.cancelToken.unsubscribe(w),a.signal&&a.signal.removeEventListener("abort",w)}let O=new XMLHttpRequest;O.open(a.method.toUpperCase(),a.url,!0),O.timeout=a.timeout;function M(){if(!O)return;const F=lc.from("getAllResponseHeaders"in O&&O.getAllResponseHeaders()),J={data:!p||p==="text"||p==="json"?O.responseText:O.response,status:O.status,statusText:O.statusText,headers:F,config:t,request:O};k7(function(z){r(z),E()},function(z){o(z),E()},J),O=null}"onloadend"in O?O.onloadend=M:O.onreadystatechange=function(){!O||O.readyState!==4||O.status===0&&!(O.responseURL&&O.responseURL.indexOf("file:")===0)||setTimeout(M)},O.onabort=function(){O&&(o(new lr("Request aborted",lr.ECONNABORTED,t,O)),O=null)},O.onerror=function(){o(new lr("Network Error",lr.ERR_NETWORK,t,O)),O=null},O.ontimeout=function(){let G=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const J=a.transitional||m7;a.timeoutErrorMessage&&(G=a.timeoutErrorMessage),o(new lr(G,J.clarifyTimeoutError?lr.ETIMEDOUT:lr.ECONNABORTED,t,O)),O=null},c===void 0&&d.setContentType(null),"setRequestHeader"in O&&At.forEach(d.toJSON(),function(G,J){O.setRequestHeader(J,G)}),At.isUndefined(a.withCredentials)||(O.withCredentials=!!a.withCredentials),p&&p!=="json"&&(O.responseType=a.responseType),k&&([C,D]=Zx(k,!0),O.addEventListener("progress",C)),m&&O.upload&&([_,v]=Zx(m),O.upload.addEventListener("progress",_),O.upload.addEventListener("loadend",v)),(a.cancelToken||a.signal)&&(w=F=>{O&&(o(!F||F.type?new Ck(null,t,O):F),O.abort(),O=null)},a.cancelToken&&a.cancelToken.subscribe(w),a.signal&&(a.signal.aborted?w():a.signal.addEventListener("abort",w)));const j=Hne(a.url);if(j&&ol.protocols.indexOf(j)===-1){o(new lr("Unsupported protocol "+j+":",lr.ERR_BAD_REQUEST,t));return}O.send(c||null)})},Xne=(t,i)=>{const{length:r}=t=t?t.filter(Boolean):[];if(i||r){let o=new AbortController,a;const c=function(k){if(!a){a=!0,p();const w=k instanceof Error?k:this.reason;o.abort(w instanceof lr?w:new Ck(w instanceof Error?w.message:w))}};let d=i&&setTimeout(()=>{d=null,c(new lr(`timeout ${i} of ms exceeded`,lr.ETIMEDOUT))},i);const p=()=>{t&&(d&&clearTimeout(d),d=null,t.forEach(k=>{k.unsubscribe?k.unsubscribe(c):k.removeEventListener("abort",c)}),t=null)};t.forEach(k=>k.addEventListener("abort",c));const{signal:m}=o;return m.unsubscribe=()=>At.asap(p),m}},ere=function*(t,i){let r=t.byteLength;if(r<i){yield t;return}let o=0,a;for(;o<r;)a=o+i,yield t.slice(o,a),o=a},tre=async function*(t,i){for await(const r of nre(t))yield*ere(r,i)},nre=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const i=t.getReader();try{for(;;){const{done:r,value:o}=await i.read();if(r)break;yield o}}finally{await i.cancel()}},rO=(t,i,r,o)=>{const a=tre(t,i);let c=0,d,p=m=>{d||(d=!0,o&&o(m))};return new ReadableStream({async pull(m){try{const{done:k,value:w}=await a.next();if(k){p(),m.close();return}let _=w.byteLength;if(r){let C=c+=_;r(C)}m.enqueue(new Uint8Array(w))}catch(k){throw p(k),k}},cancel(m){return p(m),a.return()}},{highWaterMark:2})},D5=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",y7=D5&&typeof ReadableStream=="function",rre=D5&&(typeof TextEncoder=="function"?(t=>i=>t.encode(i))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),A7=(t,...i)=>{try{return!!t(...i)}catch{return!1}},ire=y7&&A7(()=>{let t=!1;const i=new Request(ol.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!i}),iO=64*1024,s4=y7&&A7(()=>At.isReadableStream(new Response("").body)),Jx={stream:s4&&(t=>t.body)};D5&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(i=>{!Jx[i]&&(Jx[i]=At.isFunction(t[i])?r=>r[i]():(r,o)=>{throw new lr(`Response type '${i}' is not supported`,lr.ERR_NOT_SUPPORT,o)})})})(new Response);const ore=async t=>{if(t==null)return 0;if(At.isBlob(t))return t.size;if(At.isSpecCompliantForm(t))return(await new Request(ol.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(At.isArrayBufferView(t)||At.isArrayBuffer(t))return t.byteLength;if(At.isURLSearchParams(t)&&(t=t+""),At.isString(t))return(await rre(t)).byteLength},sre=async(t,i)=>{const r=At.toFiniteNumber(t.getContentLength());return r??ore(i)},are=D5&&(async t=>{let{url:i,method:r,data:o,signal:a,cancelToken:c,timeout:d,onDownloadProgress:p,onUploadProgress:m,responseType:k,headers:w,withCredentials:_="same-origin",fetchOptions:C}=v7(t);k=k?(k+"").toLowerCase():"text";let v=Xne([a,c&&c.toAbortSignal()],d),D;const E=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let O;try{if(m&&ire&&r!=="get"&&r!=="head"&&(O=await sre(w,o))!==0){let J=new Request(i,{method:"POST",body:o,duplex:"half"}),H;if(At.isFormData(o)&&(H=J.headers.get("content-type"))&&w.setContentType(H),J.body){const[z,Z]=eO(O,Zx(tO(m)));o=rO(J.body,iO,z,Z)}}At.isString(_)||(_=_?"include":"omit");const M="credentials"in Request.prototype;D=new Request(i,{...C,signal:v,method:r.toUpperCase(),headers:w.normalize().toJSON(),body:o,duplex:"half",credentials:M?_:void 0});let j=await fetch(D,C);const F=s4&&(k==="stream"||k==="response");if(s4&&(p||F&&E)){const J={};["status","statusText","headers"].forEach(Y=>{J[Y]=j[Y]});const H=At.toFiniteNumber(j.headers.get("content-length")),[z,Z]=p&&eO(H,Zx(tO(p),!0))||[];j=new Response(rO(j.body,iO,z,()=>{Z&&Z(),E&&E()}),J)}k=k||"text";let G=await Jx[At.findKey(Jx,k)||"text"](j,t);return!F&&E&&E(),await new Promise((J,H)=>{k7(J,H,{data:G,headers:lc.from(j.headers),status:j.status,statusText:j.statusText,config:t,request:D})})}catch(M){throw E&&E(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new lr("Network Error",lr.ERR_NETWORK,t,D),{cause:M.cause||M}):lr.from(M,M&&M.code,t,D)}}),a4={http:Ane,xhr:Jne,fetch:are};At.forEach(a4,(t,i)=>{if(t){try{Object.defineProperty(t,"name",{value:i})}catch{}Object.defineProperty(t,"adapterName",{value:i})}});const oO=t=>`- ${t}`,lre=t=>At.isFunction(t)||t===null||t===!1,_7={getAdapter:t=>{t=At.isArray(t)?t:[t];const{length:i}=t;let r,o;const a={};for(let c=0;c<i;c++){r=t[c];let d;if(o=r,!lre(r)&&(o=a4[(d=String(r)).toLowerCase()],o===void 0))throw new lr(`Unknown adapter '${d}'`);if(o)break;a[d||"#"+c]=o}if(!o){const c=Object.entries(a).map(([p,m])=>`adapter ${p} `+(m===!1?"is not supported by the environment":"is not available in the build"));let d=i?c.length>1?`since :
`+c.map(oO).join(`
`):" "+oO(c[0]):"as no adapter specified";throw new lr("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return o},adapters:a4};function X3(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ck(null,t)}function sO(t){return X3(t),t.headers=lc.from(t.headers),t.data=J3.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),_7.getAdapter(t.adapter||sA.adapter)(t).then(function(o){return X3(t),o.data=J3.call(t,t.transformResponse,o),o.headers=lc.from(o.headers),o},function(o){return b7(o)||(X3(t),o&&o.response&&(o.response.data=J3.call(t,t.transformResponse,o.response),o.response.headers=lc.from(o.response.headers))),Promise.reject(o)})}const C7="1.10.0",I5={};["object","boolean","number","function","string","symbol"].forEach((t,i)=>{I5[t]=function(o){return typeof o===t||"a"+(i<1?"n ":" ")+t}});const aO={};I5.transitional=function(i,r,o){function a(c,d){return"[Axios v"+C7+"] Transitional option '"+c+"'"+d+(o?". "+o:"")}return(c,d,p)=>{if(i===!1)throw new lr(a(d," has been removed"+(r?" in "+r:"")),lr.ERR_DEPRECATED);return r&&!aO[d]&&(aO[d]=!0,console.warn(a(d," has been deprecated since v"+r+" and will be removed in the near future"))),i?i(c,d,p):!0}};I5.spelling=function(i){return(r,o)=>(console.warn(`${o} is likely a misspelling of ${i}`),!0)};function cre(t,i,r){if(typeof t!="object")throw new lr("options must be an object",lr.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let a=o.length;for(;a-- >0;){const c=o[a],d=i[c];if(d){const p=t[c],m=p===void 0||d(p,c,t);if(m!==!0)throw new lr("option "+c+" must be "+m,lr.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new lr("Unknown option "+c,lr.ERR_BAD_OPTION)}}const bx={assertOptions:cre,validators:I5},Nh=bx.validators;let ab=class{constructor(i){this.defaults=i||{},this.interceptors={request:new J8,response:new J8}}async request(i,r){try{return await this._request(i,r)}catch(o){if(o instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const c=a.stack?a.stack.replace(/^.+\n/,""):"";try{o.stack?c&&!String(o.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+c):o.stack=c}catch{}}throw o}}_request(i,r){typeof i=="string"?(r=r||{},r.url=i):r=i||{},r=fb(this.defaults,r);const{transitional:o,paramsSerializer:a,headers:c}=r;o!==void 0&&bx.assertOptions(o,{silentJSONParsing:Nh.transitional(Nh.boolean),forcedJSONParsing:Nh.transitional(Nh.boolean),clarifyTimeoutError:Nh.transitional(Nh.boolean)},!1),a!=null&&(At.isFunction(a)?r.paramsSerializer={serialize:a}:bx.assertOptions(a,{encode:Nh.function,serialize:Nh.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),bx.assertOptions(r,{baseUrl:Nh.spelling("baseURL"),withXsrfToken:Nh.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let d=c&&At.merge(c.common,c[r.method]);c&&At.forEach(["delete","get","head","post","put","patch","common"],D=>{delete c[D]}),r.headers=lc.concat(d,c);const p=[];let m=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(r)===!1||(m=m&&E.synchronous,p.unshift(E.fulfilled,E.rejected))});const k=[];this.interceptors.response.forEach(function(E){k.push(E.fulfilled,E.rejected)});let w,_=0,C;if(!m){const D=[sO.bind(this),void 0];for(D.unshift.apply(D,p),D.push.apply(D,k),C=D.length,w=Promise.resolve(r);_<C;)w=w.then(D[_++],D[_++]);return w}C=p.length;let v=r;for(_=0;_<C;){const D=p[_++],E=p[_++];try{v=D(v)}catch(O){E.call(this,O);break}}try{w=sO.call(this,v)}catch(D){return Promise.reject(D)}for(_=0,C=k.length;_<C;)w=w.then(k[_++],k[_++]);return w}getUri(i){i=fb(this.defaults,i);const r=w7(i.baseURL,i.url,i.allowAbsoluteUrls);return p7(r,i.params,i.paramsSerializer)}};At.forEach(["delete","get","head","options"],function(i){ab.prototype[i]=function(r,o){return this.request(fb(o||{},{method:i,url:r,data:(o||{}).data}))}});At.forEach(["post","put","patch"],function(i){function r(o){return function(c,d,p){return this.request(fb(p||{},{method:i,headers:o?{"Content-Type":"multipart/form-data"}:{},url:c,data:d}))}}ab.prototype[i]=r(),ab.prototype[i+"Form"]=r(!0)});let ure=class x7{constructor(i){if(typeof i!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(c){r=c});const o=this;this.promise.then(a=>{if(!o._listeners)return;let c=o._listeners.length;for(;c-- >0;)o._listeners[c](a);o._listeners=null}),this.promise.then=a=>{let c;const d=new Promise(p=>{o.subscribe(p),c=p}).then(a);return d.cancel=function(){o.unsubscribe(c)},d},i(function(c,d,p){o.reason||(o.reason=new Ck(c,d,p),r(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]}unsubscribe(i){if(!this._listeners)return;const r=this._listeners.indexOf(i);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const i=new AbortController,r=o=>{i.abort(o)};return this.subscribe(r),i.signal.unsubscribe=()=>this.unsubscribe(r),i.signal}static source(){let i;return{token:new x7(function(a){i=a}),cancel:i}}};function dre(t){return function(r){return t.apply(null,r)}}function hre(t){return At.isObject(t)&&t.isAxiosError===!0}const l4={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(l4).forEach(([t,i])=>{l4[i]=t});function S7(t){const i=new ab(t),r=n7(ab.prototype.request,i);return At.extend(r,ab.prototype,i,{allOwnKeys:!0}),At.extend(r,i,null,{allOwnKeys:!0}),r.create=function(a){return S7(fb(t,a))},r}const hs=S7(sA);hs.Axios=ab;hs.CanceledError=Ck;hs.CancelToken=ure;hs.isCancel=b7;hs.VERSION=C7;hs.toFormData=E5;hs.AxiosError=lr;hs.Cancel=hs.CanceledError;hs.all=function(i){return Promise.all(i)};hs.spread=dre;hs.isAxiosError=hre;hs.mergeConfig=fb;hs.AxiosHeaders=lc;hs.formToJSON=t=>g7(At.isHTMLForm(t)?new FormData(t):t);hs.getAdapter=_7.getAdapter;hs.HttpStatusCode=l4;hs.default=hs;const{Axios:lbe,AxiosError:cbe,CanceledError:ube,isCancel:dbe,CancelToken:hbe,VERSION:fbe,all:pbe,Cancel:mbe,isAxiosError:gbe,spread:bbe,toFormData:kbe,AxiosHeaders:wbe,HttpStatusCode:vbe,formToJSON:ybe,getAdapter:Abe,mergeConfig:_be}=hs;function QC(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var eE={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var lO;function fre(){return lO||(lO=1,function(t,i){(function(r){t.exports=r()})(function(){return function r(o,a,c){function d(k,w){if(!a[k]){if(!o[k]){var _=typeof QC=="function"&&QC;if(!w&&_)return _(k,!0);if(p)return p(k,!0);var C=new Error("Cannot find module '"+k+"'");throw C.code="MODULE_NOT_FOUND",C}var v=a[k]={exports:{}};o[k][0].call(v.exports,function(D){var E=o[k][1][D];return d(E||D)},v,v.exports,r,o,a,c)}return a[k].exports}for(var p=typeof QC=="function"&&QC,m=0;m<c.length;m++)d(c[m]);return d}({1:[function(r,o,a){var c=r("./utils"),d=r("./support"),p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(m){for(var k,w,_,C,v,D,E,O=[],M=0,j=m.length,F=j,G=c.getTypeOf(m)!=="string";M<m.length;)F=j-M,_=G?(k=m[M++],w=M<j?m[M++]:0,M<j?m[M++]:0):(k=m.charCodeAt(M++),w=M<j?m.charCodeAt(M++):0,M<j?m.charCodeAt(M++):0),C=k>>2,v=(3&k)<<4|w>>4,D=1<F?(15&w)<<2|_>>6:64,E=2<F?63&_:64,O.push(p.charAt(C)+p.charAt(v)+p.charAt(D)+p.charAt(E));return O.join("")},a.decode=function(m){var k,w,_,C,v,D,E=0,O=0,M="data:";if(m.substr(0,M.length)===M)throw new Error("Invalid base64 input, it looks like a data url.");var j,F=3*(m=m.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(m.charAt(m.length-1)===p.charAt(64)&&F--,m.charAt(m.length-2)===p.charAt(64)&&F--,F%1!=0)throw new Error("Invalid base64 input, bad content length.");for(j=d.uint8array?new Uint8Array(0|F):new Array(0|F);E<m.length;)k=p.indexOf(m.charAt(E++))<<2|(C=p.indexOf(m.charAt(E++)))>>4,w=(15&C)<<4|(v=p.indexOf(m.charAt(E++)))>>2,_=(3&v)<<6|(D=p.indexOf(m.charAt(E++))),j[O++]=k,v!==64&&(j[O++]=w),D!==64&&(j[O++]=_);return j}},{"./support":30,"./utils":32}],2:[function(r,o,a){var c=r("./external"),d=r("./stream/DataWorker"),p=r("./stream/Crc32Probe"),m=r("./stream/DataLengthProbe");function k(w,_,C,v,D){this.compressedSize=w,this.uncompressedSize=_,this.crc32=C,this.compression=v,this.compressedContent=D}k.prototype={getContentWorker:function(){var w=new d(c.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new m("data_length")),_=this;return w.on("end",function(){if(this.streamInfo.data_length!==_.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),w},getCompressedWorker:function(){return new d(c.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},k.createWorkerFrom=function(w,_,C){return w.pipe(new p).pipe(new m("uncompressedSize")).pipe(_.compressWorker(C)).pipe(new m("compressedSize")).withStreamInfo("compression",_)},o.exports=k},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,o,a){var c=r("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new c("STORE compression")},uncompressWorker:function(){return new c("STORE decompression")}},a.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,o,a){var c=r("./utils"),d=function(){for(var p,m=[],k=0;k<256;k++){p=k;for(var w=0;w<8;w++)p=1&p?3988292384^p>>>1:p>>>1;m[k]=p}return m}();o.exports=function(p,m){return p!==void 0&&p.length?c.getTypeOf(p)!=="string"?function(k,w,_,C){var v=d,D=C+_;k^=-1;for(var E=C;E<D;E++)k=k>>>8^v[255&(k^w[E])];return-1^k}(0|m,p,p.length,0):function(k,w,_,C){var v=d,D=C+_;k^=-1;for(var E=C;E<D;E++)k=k>>>8^v[255&(k^w.charCodeAt(E))];return-1^k}(0|m,p,p.length,0):0}},{"./utils":32}],5:[function(r,o,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(r,o,a){var c=null;c=typeof Promise<"u"?Promise:r("lie"),o.exports={Promise:c}},{lie:37}],7:[function(r,o,a){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",d=r("pako"),p=r("./utils"),m=r("./stream/GenericWorker"),k=c?"uint8array":"array";function w(_,C){m.call(this,"FlateWorker/"+_),this._pako=null,this._pakoAction=_,this._pakoOptions=C,this.meta={}}a.magic="\b\0",p.inherits(w,m),w.prototype.processChunk=function(_){this.meta=_.meta,this._pako===null&&this._createPako(),this._pako.push(p.transformTo(k,_.data),!1)},w.prototype.flush=function(){m.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},w.prototype.cleanUp=function(){m.prototype.cleanUp.call(this),this._pako=null},w.prototype._createPako=function(){this._pako=new d[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var _=this;this._pako.onData=function(C){_.push({data:C,meta:_.meta})}},a.compressWorker=function(_){return new w("Deflate",_)},a.uncompressWorker=function(){return new w("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,o,a){function c(v,D){var E,O="";for(E=0;E<D;E++)O+=String.fromCharCode(255&v),v>>>=8;return O}function d(v,D,E,O,M,j){var F,G,J=v.file,H=v.compression,z=j!==k.utf8encode,Z=p.transformTo("string",j(J.name)),Y=p.transformTo("string",k.utf8encode(J.name)),se=J.comment,X=p.transformTo("string",j(se)),K=p.transformTo("string",k.utf8encode(se)),U=Y.length!==J.name.length,q=K.length!==se.length,fe="",ue="",de="",ge=J.dir,Ie=J.date,ce={crc32:0,compressedSize:0,uncompressedSize:0};D&&!E||(ce.crc32=v.crc32,ce.compressedSize=v.compressedSize,ce.uncompressedSize=v.uncompressedSize);var Te=0;D&&(Te|=8),z||!U&&!q||(Te|=2048);var re=0,te=0;ge&&(re|=16),M==="UNIX"?(te=798,re|=function(be,ve){var Re=be;return be||(Re=ve?16893:33204),(65535&Re)<<16}(J.unixPermissions,ge)):(te=20,re|=function(be){return 63&(be||0)}(J.dosPermissions)),F=Ie.getUTCHours(),F<<=6,F|=Ie.getUTCMinutes(),F<<=5,F|=Ie.getUTCSeconds()/2,G=Ie.getUTCFullYear()-1980,G<<=4,G|=Ie.getUTCMonth()+1,G<<=5,G|=Ie.getUTCDate(),U&&(ue=c(1,1)+c(w(Z),4)+Y,fe+="up"+c(ue.length,2)+ue),q&&(de=c(1,1)+c(w(X),4)+K,fe+="uc"+c(de.length,2)+de);var ke="";return ke+=`
\0`,ke+=c(Te,2),ke+=H.magic,ke+=c(F,2),ke+=c(G,2),ke+=c(ce.crc32,4),ke+=c(ce.compressedSize,4),ke+=c(ce.uncompressedSize,4),ke+=c(Z.length,2),ke+=c(fe.length,2),{fileRecord:_.LOCAL_FILE_HEADER+ke+Z+fe,dirRecord:_.CENTRAL_FILE_HEADER+c(te,2)+ke+c(X.length,2)+"\0\0\0\0"+c(re,4)+c(O,4)+Z+fe+X}}var p=r("../utils"),m=r("../stream/GenericWorker"),k=r("../utf8"),w=r("../crc32"),_=r("../signature");function C(v,D,E,O){m.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=D,this.zipPlatform=E,this.encodeFileName=O,this.streamFiles=v,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}p.inherits(C,m),C.prototype.push=function(v){var D=v.meta.percent||0,E=this.entriesCount,O=this._sources.length;this.accumulate?this.contentBuffer.push(v):(this.bytesWritten+=v.data.length,m.prototype.push.call(this,{data:v.data,meta:{currentFile:this.currentFile,percent:E?(D+100*(E-O-1))/E:100}}))},C.prototype.openedSource=function(v){this.currentSourceOffset=this.bytesWritten,this.currentFile=v.file.name;var D=this.streamFiles&&!v.file.dir;if(D){var E=d(v,D,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:E.fileRecord,meta:{percent:0}})}else this.accumulate=!0},C.prototype.closedSource=function(v){this.accumulate=!1;var D=this.streamFiles&&!v.file.dir,E=d(v,D,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(E.dirRecord),D)this.push({data:function(O){return _.DATA_DESCRIPTOR+c(O.crc32,4)+c(O.compressedSize,4)+c(O.uncompressedSize,4)}(v),meta:{percent:100}});else for(this.push({data:E.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},C.prototype.flush=function(){for(var v=this.bytesWritten,D=0;D<this.dirRecords.length;D++)this.push({data:this.dirRecords[D],meta:{percent:100}});var E=this.bytesWritten-v,O=function(M,j,F,G,J){var H=p.transformTo("string",J(G));return _.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(M,2)+c(M,2)+c(j,4)+c(F,4)+c(H.length,2)+H}(this.dirRecords.length,E,v,this.zipComment,this.encodeFileName);this.push({data:O,meta:{percent:100}})},C.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},C.prototype.registerPrevious=function(v){this._sources.push(v);var D=this;return v.on("data",function(E){D.processChunk(E)}),v.on("end",function(){D.closedSource(D.previous.streamInfo),D._sources.length?D.prepareNextSource():D.end()}),v.on("error",function(E){D.error(E)}),this},C.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},C.prototype.error=function(v){var D=this._sources;if(!m.prototype.error.call(this,v))return!1;for(var E=0;E<D.length;E++)try{D[E].error(v)}catch{}return!0},C.prototype.lock=function(){m.prototype.lock.call(this);for(var v=this._sources,D=0;D<v.length;D++)v[D].lock()},o.exports=C},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,o,a){var c=r("../compressions"),d=r("./ZipFileWorker");a.generateWorker=function(p,m,k){var w=new d(m.streamFiles,k,m.platform,m.encodeFileName),_=0;try{p.forEach(function(C,v){_++;var D=function(j,F){var G=j||F,J=c[G];if(!J)throw new Error(G+" is not a valid compression method !");return J}(v.options.compression,m.compression),E=v.options.compressionOptions||m.compressionOptions||{},O=v.dir,M=v.date;v._compressWorker(D,E).withStreamInfo("file",{name:C,dir:O,date:M,comment:v.comment||"",unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions}).pipe(w)}),w.entriesCount=_}catch(C){w.error(C)}return w}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,o,a){function c(){if(!(this instanceof c))return new c;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var d=new c;for(var p in this)typeof this[p]!="function"&&(d[p]=this[p]);return d}}(c.prototype=r("./object")).loadAsync=r("./load"),c.support=r("./support"),c.defaults=r("./defaults"),c.version="3.10.1",c.loadAsync=function(d,p){return new c().loadAsync(d,p)},c.external=r("./external"),o.exports=c},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,o,a){var c=r("./utils"),d=r("./external"),p=r("./utf8"),m=r("./zipEntries"),k=r("./stream/Crc32Probe"),w=r("./nodejsUtils");function _(C){return new d.Promise(function(v,D){var E=C.decompressed.getContentWorker().pipe(new k);E.on("error",function(O){D(O)}).on("end",function(){E.streamInfo.crc32!==C.decompressed.crc32?D(new Error("Corrupted zip : CRC32 mismatch")):v()}).resume()})}o.exports=function(C,v){var D=this;return v=c.extend(v||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:p.utf8decode}),w.isNode&&w.isStream(C)?d.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):c.prepareContent("the loaded zip file",C,!0,v.optimizedBinaryString,v.base64).then(function(E){var O=new m(v);return O.load(E),O}).then(function(E){var O=[d.Promise.resolve(E)],M=E.files;if(v.checkCRC32)for(var j=0;j<M.length;j++)O.push(_(M[j]));return d.Promise.all(O)}).then(function(E){for(var O=E.shift(),M=O.files,j=0;j<M.length;j++){var F=M[j],G=F.fileNameStr,J=c.resolve(F.fileNameStr);D.file(J,F.decompressed,{binary:!0,optimizedBinaryString:!0,date:F.date,dir:F.dir,comment:F.fileCommentStr.length?F.fileCommentStr:null,unixPermissions:F.unixPermissions,dosPermissions:F.dosPermissions,createFolders:v.createFolders}),F.dir||(D.file(J).unsafeOriginalName=G)}return O.zipComment.length&&(D.comment=O.zipComment),D})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,o,a){var c=r("../utils"),d=r("../stream/GenericWorker");function p(m,k){d.call(this,"Nodejs stream input adapter for "+m),this._upstreamEnded=!1,this._bindStream(k)}c.inherits(p,d),p.prototype._bindStream=function(m){var k=this;(this._stream=m).pause(),m.on("data",function(w){k.push({data:w,meta:{percent:0}})}).on("error",function(w){k.isPaused?this.generatedError=w:k.error(w)}).on("end",function(){k.isPaused?k._upstreamEnded=!0:k.end()})},p.prototype.pause=function(){return!!d.prototype.pause.call(this)&&(this._stream.pause(),!0)},p.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=p},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,o,a){var c=r("readable-stream").Readable;function d(p,m,k){c.call(this,m),this._helper=p;var w=this;p.on("data",function(_,C){w.push(_)||w._helper.pause(),k&&k(C)}).on("error",function(_){w.emit("error",_)}).on("end",function(){w.push(null)})}r("../utils").inherits(d,c),d.prototype._read=function(){this._helper.resume()},o.exports=d},{"../utils":32,"readable-stream":16}],14:[function(r,o,a){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(c,d){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(c,d);if(typeof c=="number")throw new Error('The "data" argument must not be a number');return new Buffer(c,d)},allocBuffer:function(c){if(Buffer.alloc)return Buffer.alloc(c);var d=new Buffer(c);return d.fill(0),d},isBuffer:function(c){return Buffer.isBuffer(c)},isStream:function(c){return c&&typeof c.on=="function"&&typeof c.pause=="function"&&typeof c.resume=="function"}}},{}],15:[function(r,o,a){function c(J,H,z){var Z,Y=p.getTypeOf(H),se=p.extend(z||{},w);se.date=se.date||new Date,se.compression!==null&&(se.compression=se.compression.toUpperCase()),typeof se.unixPermissions=="string"&&(se.unixPermissions=parseInt(se.unixPermissions,8)),se.unixPermissions&&16384&se.unixPermissions&&(se.dir=!0),se.dosPermissions&&16&se.dosPermissions&&(se.dir=!0),se.dir&&(J=M(J)),se.createFolders&&(Z=O(J))&&j.call(this,Z,!0);var X=Y==="string"&&se.binary===!1&&se.base64===!1;z&&z.binary!==void 0||(se.binary=!X),(H instanceof _&&H.uncompressedSize===0||se.dir||!H||H.length===0)&&(se.base64=!1,se.binary=!0,H="",se.compression="STORE",Y="string");var K=null;K=H instanceof _||H instanceof m?H:D.isNode&&D.isStream(H)?new E(J,H):p.prepareContent(J,H,se.binary,se.optimizedBinaryString,se.base64);var U=new C(J,K,se);this.files[J]=U}var d=r("./utf8"),p=r("./utils"),m=r("./stream/GenericWorker"),k=r("./stream/StreamHelper"),w=r("./defaults"),_=r("./compressedObject"),C=r("./zipObject"),v=r("./generate"),D=r("./nodejsUtils"),E=r("./nodejs/NodejsStreamInputAdapter"),O=function(J){J.slice(-1)==="/"&&(J=J.substring(0,J.length-1));var H=J.lastIndexOf("/");return 0<H?J.substring(0,H):""},M=function(J){return J.slice(-1)!=="/"&&(J+="/"),J},j=function(J,H){return H=H!==void 0?H:w.createFolders,J=M(J),this.files[J]||c.call(this,J,null,{dir:!0,createFolders:H}),this.files[J]};function F(J){return Object.prototype.toString.call(J)==="[object RegExp]"}var G={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(J){var H,z,Z;for(H in this.files)Z=this.files[H],(z=H.slice(this.root.length,H.length))&&H.slice(0,this.root.length)===this.root&&J(z,Z)},filter:function(J){var H=[];return this.forEach(function(z,Z){J(z,Z)&&H.push(Z)}),H},file:function(J,H,z){if(arguments.length!==1)return J=this.root+J,c.call(this,J,H,z),this;if(F(J)){var Z=J;return this.filter(function(se,X){return!X.dir&&Z.test(se)})}var Y=this.files[this.root+J];return Y&&!Y.dir?Y:null},folder:function(J){if(!J)return this;if(F(J))return this.filter(function(Y,se){return se.dir&&J.test(Y)});var H=this.root+J,z=j.call(this,H),Z=this.clone();return Z.root=z.name,Z},remove:function(J){J=this.root+J;var H=this.files[J];if(H||(J.slice(-1)!=="/"&&(J+="/"),H=this.files[J]),H&&!H.dir)delete this.files[J];else for(var z=this.filter(function(Y,se){return se.name.slice(0,J.length)===J}),Z=0;Z<z.length;Z++)delete this.files[z[Z].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(J){var H,z={};try{if((z=p.extend(J||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:d.utf8encode})).type=z.type.toLowerCase(),z.compression=z.compression.toUpperCase(),z.type==="binarystring"&&(z.type="string"),!z.type)throw new Error("No output type specified.");p.checkSupport(z.type),z.platform!=="darwin"&&z.platform!=="freebsd"&&z.platform!=="linux"&&z.platform!=="sunos"||(z.platform="UNIX"),z.platform==="win32"&&(z.platform="DOS");var Z=z.comment||this.comment||"";H=v.generateWorker(this,z,Z)}catch(Y){(H=new m("error")).error(Y)}return new k(H,z.type||"string",z.mimeType)},generateAsync:function(J,H){return this.generateInternalStream(J).accumulate(H)},generateNodeStream:function(J,H){return(J=J||{}).type||(J.type="nodebuffer"),this.generateInternalStream(J).toNodejsStream(H)}};o.exports=G},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,o,a){o.exports=r("stream")},{stream:void 0}],17:[function(r,o,a){var c=r("./DataReader");function d(p){c.call(this,p);for(var m=0;m<this.data.length;m++)p[m]=255&p[m]}r("../utils").inherits(d,c),d.prototype.byteAt=function(p){return this.data[this.zero+p]},d.prototype.lastIndexOfSignature=function(p){for(var m=p.charCodeAt(0),k=p.charCodeAt(1),w=p.charCodeAt(2),_=p.charCodeAt(3),C=this.length-4;0<=C;--C)if(this.data[C]===m&&this.data[C+1]===k&&this.data[C+2]===w&&this.data[C+3]===_)return C-this.zero;return-1},d.prototype.readAndCheckSignature=function(p){var m=p.charCodeAt(0),k=p.charCodeAt(1),w=p.charCodeAt(2),_=p.charCodeAt(3),C=this.readData(4);return m===C[0]&&k===C[1]&&w===C[2]&&_===C[3]},d.prototype.readData=function(p){if(this.checkOffset(p),p===0)return[];var m=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,m},o.exports=d},{"../utils":32,"./DataReader":18}],18:[function(r,o,a){var c=r("../utils");function d(p){this.data=p,this.length=p.length,this.index=0,this.zero=0}d.prototype={checkOffset:function(p){this.checkIndex(this.index+p)},checkIndex:function(p){if(this.length<this.zero+p||p<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+p+"). Corrupted zip ?")},setIndex:function(p){this.checkIndex(p),this.index=p},skip:function(p){this.setIndex(this.index+p)},byteAt:function(){},readInt:function(p){var m,k=0;for(this.checkOffset(p),m=this.index+p-1;m>=this.index;m--)k=(k<<8)+this.byteAt(m);return this.index+=p,k},readString:function(p){return c.transformTo("string",this.readData(p))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var p=this.readInt(4);return new Date(Date.UTC(1980+(p>>25&127),(p>>21&15)-1,p>>16&31,p>>11&31,p>>5&63,(31&p)<<1))}},o.exports=d},{"../utils":32}],19:[function(r,o,a){var c=r("./Uint8ArrayReader");function d(p){c.call(this,p)}r("../utils").inherits(d,c),d.prototype.readData=function(p){this.checkOffset(p);var m=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,m},o.exports=d},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,o,a){var c=r("./DataReader");function d(p){c.call(this,p)}r("../utils").inherits(d,c),d.prototype.byteAt=function(p){return this.data.charCodeAt(this.zero+p)},d.prototype.lastIndexOfSignature=function(p){return this.data.lastIndexOf(p)-this.zero},d.prototype.readAndCheckSignature=function(p){return p===this.readData(4)},d.prototype.readData=function(p){this.checkOffset(p);var m=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,m},o.exports=d},{"../utils":32,"./DataReader":18}],21:[function(r,o,a){var c=r("./ArrayReader");function d(p){c.call(this,p)}r("../utils").inherits(d,c),d.prototype.readData=function(p){if(this.checkOffset(p),p===0)return new Uint8Array(0);var m=this.data.subarray(this.zero+this.index,this.zero+this.index+p);return this.index+=p,m},o.exports=d},{"../utils":32,"./ArrayReader":17}],22:[function(r,o,a){var c=r("../utils"),d=r("../support"),p=r("./ArrayReader"),m=r("./StringReader"),k=r("./NodeBufferReader"),w=r("./Uint8ArrayReader");o.exports=function(_){var C=c.getTypeOf(_);return c.checkSupport(C),C!=="string"||d.uint8array?C==="nodebuffer"?new k(_):d.uint8array?new w(c.transformTo("uint8array",_)):new p(c.transformTo("array",_)):new m(_)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,o,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,o,a){var c=r("./GenericWorker"),d=r("../utils");function p(m){c.call(this,"ConvertWorker to "+m),this.destType=m}d.inherits(p,c),p.prototype.processChunk=function(m){this.push({data:d.transformTo(this.destType,m.data),meta:m.meta})},o.exports=p},{"../utils":32,"./GenericWorker":28}],25:[function(r,o,a){var c=r("./GenericWorker"),d=r("../crc32");function p(){c.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(p,c),p.prototype.processChunk=function(m){this.streamInfo.crc32=d(m.data,this.streamInfo.crc32||0),this.push(m)},o.exports=p},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,o,a){var c=r("../utils"),d=r("./GenericWorker");function p(m){d.call(this,"DataLengthProbe for "+m),this.propName=m,this.withStreamInfo(m,0)}c.inherits(p,d),p.prototype.processChunk=function(m){if(m){var k=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=k+m.data.length}d.prototype.processChunk.call(this,m)},o.exports=p},{"../utils":32,"./GenericWorker":28}],27:[function(r,o,a){var c=r("../utils"),d=r("./GenericWorker");function p(m){d.call(this,"DataWorker");var k=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,m.then(function(w){k.dataIsReady=!0,k.data=w,k.max=w&&w.length||0,k.type=c.getTypeOf(w),k.isPaused||k._tickAndRepeat()},function(w){k.error(w)})}c.inherits(p,d),p.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this.data=null},p.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,c.delay(this._tickAndRepeat,[],this)),!0)},p.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(c.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},p.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var m=null,k=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":m=this.data.substring(this.index,k);break;case"uint8array":m=this.data.subarray(this.index,k);break;case"array":case"nodebuffer":m=this.data.slice(this.index,k)}return this.index=k,this.push({data:m,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=p},{"../utils":32,"./GenericWorker":28}],28:[function(r,o,a){function c(d){this.name=d||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}c.prototype={push:function(d){this.emit("data",d)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(d){this.emit("error",d)}return!0},error:function(d){return!this.isFinished&&(this.isPaused?this.generatedError=d:(this.isFinished=!0,this.emit("error",d),this.previous&&this.previous.error(d),this.cleanUp()),!0)},on:function(d,p){return this._listeners[d].push(p),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(d,p){if(this._listeners[d])for(var m=0;m<this._listeners[d].length;m++)this._listeners[d][m].call(this,p)},pipe:function(d){return d.registerPrevious(this)},registerPrevious:function(d){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=d.streamInfo,this.mergeStreamInfo(),this.previous=d;var p=this;return d.on("data",function(m){p.processChunk(m)}),d.on("end",function(){p.end()}),d.on("error",function(m){p.error(m)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var d=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),d=!0),this.previous&&this.previous.resume(),!d},flush:function(){},processChunk:function(d){this.push(d)},withStreamInfo:function(d,p){return this.extraStreamInfo[d]=p,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var d in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,d)&&(this.streamInfo[d]=this.extraStreamInfo[d])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var d="Worker "+this.name;return this.previous?this.previous+" -> "+d:d}},o.exports=c},{}],29:[function(r,o,a){var c=r("../utils"),d=r("./ConvertWorker"),p=r("./GenericWorker"),m=r("../base64"),k=r("../support"),w=r("../external"),_=null;if(k.nodestream)try{_=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function C(D,E){return new w.Promise(function(O,M){var j=[],F=D._internalType,G=D._outputType,J=D._mimeType;D.on("data",function(H,z){j.push(H),E&&E(z)}).on("error",function(H){j=[],M(H)}).on("end",function(){try{var H=function(z,Z,Y){switch(z){case"blob":return c.newBlob(c.transformTo("arraybuffer",Z),Y);case"base64":return m.encode(Z);default:return c.transformTo(z,Z)}}(G,function(z,Z){var Y,se=0,X=null,K=0;for(Y=0;Y<Z.length;Y++)K+=Z[Y].length;switch(z){case"string":return Z.join("");case"array":return Array.prototype.concat.apply([],Z);case"uint8array":for(X=new Uint8Array(K),Y=0;Y<Z.length;Y++)X.set(Z[Y],se),se+=Z[Y].length;return X;case"nodebuffer":return Buffer.concat(Z);default:throw new Error("concat : unsupported type '"+z+"'")}}(F,j),J);O(H)}catch(z){M(z)}j=[]}).resume()})}function v(D,E,O){var M=E;switch(E){case"blob":case"arraybuffer":M="uint8array";break;case"base64":M="string"}try{this._internalType=M,this._outputType=E,this._mimeType=O,c.checkSupport(M),this._worker=D.pipe(new d(M)),D.lock()}catch(j){this._worker=new p("error"),this._worker.error(j)}}v.prototype={accumulate:function(D){return C(this,D)},on:function(D,E){var O=this;return D==="data"?this._worker.on(D,function(M){E.call(O,M.data,M.meta)}):this._worker.on(D,function(){c.delay(E,arguments,O)}),this},resume:function(){return c.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(D){if(c.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new _(this,{objectMode:this._outputType!=="nodebuffer"},D)}},o.exports=v},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,o,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var c=new ArrayBuffer(0);try{a.blob=new Blob([c],{type:"application/zip"}).size===0}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);d.append(c),a.blob=d.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!r("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(r,o,a){for(var c=r("./utils"),d=r("./support"),p=r("./nodejsUtils"),m=r("./stream/GenericWorker"),k=new Array(256),w=0;w<256;w++)k[w]=252<=w?6:248<=w?5:240<=w?4:224<=w?3:192<=w?2:1;k[254]=k[254]=1;function _(){m.call(this,"utf-8 decode"),this.leftOver=null}function C(){m.call(this,"utf-8 encode")}a.utf8encode=function(v){return d.nodebuffer?p.newBufferFrom(v,"utf-8"):function(D){var E,O,M,j,F,G=D.length,J=0;for(j=0;j<G;j++)(64512&(O=D.charCodeAt(j)))==55296&&j+1<G&&(64512&(M=D.charCodeAt(j+1)))==56320&&(O=65536+(O-55296<<10)+(M-56320),j++),J+=O<128?1:O<2048?2:O<65536?3:4;for(E=d.uint8array?new Uint8Array(J):new Array(J),j=F=0;F<J;j++)(64512&(O=D.charCodeAt(j)))==55296&&j+1<G&&(64512&(M=D.charCodeAt(j+1)))==56320&&(O=65536+(O-55296<<10)+(M-56320),j++),O<128?E[F++]=O:(O<2048?E[F++]=192|O>>>6:(O<65536?E[F++]=224|O>>>12:(E[F++]=240|O>>>18,E[F++]=128|O>>>12&63),E[F++]=128|O>>>6&63),E[F++]=128|63&O);return E}(v)},a.utf8decode=function(v){return d.nodebuffer?c.transformTo("nodebuffer",v).toString("utf-8"):function(D){var E,O,M,j,F=D.length,G=new Array(2*F);for(E=O=0;E<F;)if((M=D[E++])<128)G[O++]=M;else if(4<(j=k[M]))G[O++]=65533,E+=j-1;else{for(M&=j===2?31:j===3?15:7;1<j&&E<F;)M=M<<6|63&D[E++],j--;1<j?G[O++]=65533:M<65536?G[O++]=M:(M-=65536,G[O++]=55296|M>>10&1023,G[O++]=56320|1023&M)}return G.length!==O&&(G.subarray?G=G.subarray(0,O):G.length=O),c.applyFromCharCode(G)}(v=c.transformTo(d.uint8array?"uint8array":"array",v))},c.inherits(_,m),_.prototype.processChunk=function(v){var D=c.transformTo(d.uint8array?"uint8array":"array",v.data);if(this.leftOver&&this.leftOver.length){if(d.uint8array){var E=D;(D=new Uint8Array(E.length+this.leftOver.length)).set(this.leftOver,0),D.set(E,this.leftOver.length)}else D=this.leftOver.concat(D);this.leftOver=null}var O=function(j,F){var G;for((F=F||j.length)>j.length&&(F=j.length),G=F-1;0<=G&&(192&j[G])==128;)G--;return G<0||G===0?F:G+k[j[G]]>F?G:F}(D),M=D;O!==D.length&&(d.uint8array?(M=D.subarray(0,O),this.leftOver=D.subarray(O,D.length)):(M=D.slice(0,O),this.leftOver=D.slice(O,D.length))),this.push({data:a.utf8decode(M),meta:v.meta})},_.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=_,c.inherits(C,m),C.prototype.processChunk=function(v){this.push({data:a.utf8encode(v.data),meta:v.meta})},a.Utf8EncodeWorker=C},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,o,a){var c=r("./support"),d=r("./base64"),p=r("./nodejsUtils"),m=r("./external");function k(E){return E}function w(E,O){for(var M=0;M<E.length;++M)O[M]=255&E.charCodeAt(M);return O}r("setimmediate"),a.newBlob=function(E,O){a.checkSupport("blob");try{return new Blob([E],{type:O})}catch{try{var M=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return M.append(E),M.getBlob(O)}catch{throw new Error("Bug : can't construct the Blob.")}}};var _={stringifyByChunk:function(E,O,M){var j=[],F=0,G=E.length;if(G<=M)return String.fromCharCode.apply(null,E);for(;F<G;)O==="array"||O==="nodebuffer"?j.push(String.fromCharCode.apply(null,E.slice(F,Math.min(F+M,G)))):j.push(String.fromCharCode.apply(null,E.subarray(F,Math.min(F+M,G)))),F+=M;return j.join("")},stringifyByChar:function(E){for(var O="",M=0;M<E.length;M++)O+=String.fromCharCode(E[M]);return O},applyCanBeUsed:{uint8array:function(){try{return c.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return c.nodebuffer&&String.fromCharCode.apply(null,p.allocBuffer(1)).length===1}catch{return!1}}()}};function C(E){var O=65536,M=a.getTypeOf(E),j=!0;if(M==="uint8array"?j=_.applyCanBeUsed.uint8array:M==="nodebuffer"&&(j=_.applyCanBeUsed.nodebuffer),j)for(;1<O;)try{return _.stringifyByChunk(E,M,O)}catch{O=Math.floor(O/2)}return _.stringifyByChar(E)}function v(E,O){for(var M=0;M<E.length;M++)O[M]=E[M];return O}a.applyFromCharCode=C;var D={};D.string={string:k,array:function(E){return w(E,new Array(E.length))},arraybuffer:function(E){return D.string.uint8array(E).buffer},uint8array:function(E){return w(E,new Uint8Array(E.length))},nodebuffer:function(E){return w(E,p.allocBuffer(E.length))}},D.array={string:C,array:k,arraybuffer:function(E){return new Uint8Array(E).buffer},uint8array:function(E){return new Uint8Array(E)},nodebuffer:function(E){return p.newBufferFrom(E)}},D.arraybuffer={string:function(E){return C(new Uint8Array(E))},array:function(E){return v(new Uint8Array(E),new Array(E.byteLength))},arraybuffer:k,uint8array:function(E){return new Uint8Array(E)},nodebuffer:function(E){return p.newBufferFrom(new Uint8Array(E))}},D.uint8array={string:C,array:function(E){return v(E,new Array(E.length))},arraybuffer:function(E){return E.buffer},uint8array:k,nodebuffer:function(E){return p.newBufferFrom(E)}},D.nodebuffer={string:C,array:function(E){return v(E,new Array(E.length))},arraybuffer:function(E){return D.nodebuffer.uint8array(E).buffer},uint8array:function(E){return v(E,new Uint8Array(E.length))},nodebuffer:k},a.transformTo=function(E,O){if(O=O||"",!E)return O;a.checkSupport(E);var M=a.getTypeOf(O);return D[M][E](O)},a.resolve=function(E){for(var O=E.split("/"),M=[],j=0;j<O.length;j++){var F=O[j];F==="."||F===""&&j!==0&&j!==O.length-1||(F===".."?M.pop():M.push(F))}return M.join("/")},a.getTypeOf=function(E){return typeof E=="string"?"string":Object.prototype.toString.call(E)==="[object Array]"?"array":c.nodebuffer&&p.isBuffer(E)?"nodebuffer":c.uint8array&&E instanceof Uint8Array?"uint8array":c.arraybuffer&&E instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(E){if(!c[E.toLowerCase()])throw new Error(E+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(E){var O,M,j="";for(M=0;M<(E||"").length;M++)j+="\\x"+((O=E.charCodeAt(M))<16?"0":"")+O.toString(16).toUpperCase();return j},a.delay=function(E,O,M){setImmediate(function(){E.apply(M||null,O||[])})},a.inherits=function(E,O){function M(){}M.prototype=O.prototype,E.prototype=new M},a.extend=function(){var E,O,M={};for(E=0;E<arguments.length;E++)for(O in arguments[E])Object.prototype.hasOwnProperty.call(arguments[E],O)&&M[O]===void 0&&(M[O]=arguments[E][O]);return M},a.prepareContent=function(E,O,M,j,F){return m.Promise.resolve(O).then(function(G){return c.blob&&(G instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(G))!==-1)&&typeof FileReader<"u"?new m.Promise(function(J,H){var z=new FileReader;z.onload=function(Z){J(Z.target.result)},z.onerror=function(Z){H(Z.target.error)},z.readAsArrayBuffer(G)}):G}).then(function(G){var J=a.getTypeOf(G);return J?(J==="arraybuffer"?G=a.transformTo("uint8array",G):J==="string"&&(F?G=d.decode(G):M&&j!==!0&&(G=function(H){return w(H,c.uint8array?new Uint8Array(H.length):new Array(H.length))}(G))),G):m.Promise.reject(new Error("Can't read the data of '"+E+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,o,a){var c=r("./reader/readerFor"),d=r("./utils"),p=r("./signature"),m=r("./zipEntry"),k=r("./support");function w(_){this.files=[],this.loadOptions=_}w.prototype={checkSignature:function(_){if(!this.reader.readAndCheckSignature(_)){this.reader.index-=4;var C=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+d.pretty(C)+", expected "+d.pretty(_)+")")}},isSignature:function(_,C){var v=this.reader.index;this.reader.setIndex(_);var D=this.reader.readString(4)===C;return this.reader.setIndex(v),D},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var _=this.reader.readData(this.zipCommentLength),C=k.uint8array?"uint8array":"array",v=d.transformTo(C,_);this.zipComment=this.loadOptions.decodeFileName(v)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var _,C,v,D=this.zip64EndOfCentralSize-44;0<D;)_=this.reader.readInt(2),C=this.reader.readInt(4),v=this.reader.readData(C),this.zip64ExtensibleData[_]={id:_,length:C,value:v}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var _,C;for(_=0;_<this.files.length;_++)C=this.files[_],this.reader.setIndex(C.localHeaderOffset),this.checkSignature(p.LOCAL_FILE_HEADER),C.readLocalPart(this.reader),C.handleUTF8(),C.processAttributes()},readCentralDir:function(){var _;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(p.CENTRAL_FILE_HEADER);)(_=new m({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(_);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var _=this.reader.lastIndexOfSignature(p.CENTRAL_DIRECTORY_END);if(_<0)throw this.isSignature(0,p.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(_);var C=_;if(this.checkSignature(p.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===d.MAX_VALUE_16BITS||this.diskWithCentralDirStart===d.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===d.MAX_VALUE_16BITS||this.centralDirRecords===d.MAX_VALUE_16BITS||this.centralDirSize===d.MAX_VALUE_32BITS||this.centralDirOffset===d.MAX_VALUE_32BITS){if(this.zip64=!0,(_=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(_),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,p.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var v=this.centralDirOffset+this.centralDirSize;this.zip64&&(v+=20,v+=12+this.zip64EndOfCentralSize);var D=C-v;if(0<D)this.isSignature(C,p.CENTRAL_FILE_HEADER)||(this.reader.zero=D);else if(D<0)throw new Error("Corrupted zip: missing "+Math.abs(D)+" bytes.")},prepareReader:function(_){this.reader=c(_)},load:function(_){this.prepareReader(_),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=w},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,o,a){var c=r("./reader/readerFor"),d=r("./utils"),p=r("./compressedObject"),m=r("./crc32"),k=r("./utf8"),w=r("./compressions"),_=r("./support");function C(v,D){this.options=v,this.loadOptions=D}C.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(v){var D,E;if(v.skip(22),this.fileNameLength=v.readInt(2),E=v.readInt(2),this.fileName=v.readData(this.fileNameLength),v.skip(E),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((D=function(O){for(var M in w)if(Object.prototype.hasOwnProperty.call(w,M)&&w[M].magic===O)return w[M];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+d.pretty(this.compressionMethod)+" unknown (inner file : "+d.transformTo("string",this.fileName)+")");this.decompressed=new p(this.compressedSize,this.uncompressedSize,this.crc32,D,v.readData(this.compressedSize))},readCentralPart:function(v){this.versionMadeBy=v.readInt(2),v.skip(2),this.bitFlag=v.readInt(2),this.compressionMethod=v.readString(2),this.date=v.readDate(),this.crc32=v.readInt(4),this.compressedSize=v.readInt(4),this.uncompressedSize=v.readInt(4);var D=v.readInt(2);if(this.extraFieldsLength=v.readInt(2),this.fileCommentLength=v.readInt(2),this.diskNumberStart=v.readInt(2),this.internalFileAttributes=v.readInt(2),this.externalFileAttributes=v.readInt(4),this.localHeaderOffset=v.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");v.skip(D),this.readExtraFields(v),this.parseZIP64ExtraField(v),this.fileComment=v.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var v=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),v==0&&(this.dosPermissions=63&this.externalFileAttributes),v==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var v=c(this.extraFields[1].value);this.uncompressedSize===d.MAX_VALUE_32BITS&&(this.uncompressedSize=v.readInt(8)),this.compressedSize===d.MAX_VALUE_32BITS&&(this.compressedSize=v.readInt(8)),this.localHeaderOffset===d.MAX_VALUE_32BITS&&(this.localHeaderOffset=v.readInt(8)),this.diskNumberStart===d.MAX_VALUE_32BITS&&(this.diskNumberStart=v.readInt(4))}},readExtraFields:function(v){var D,E,O,M=v.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});v.index+4<M;)D=v.readInt(2),E=v.readInt(2),O=v.readData(E),this.extraFields[D]={id:D,length:E,value:O};v.setIndex(M)},handleUTF8:function(){var v=_.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=k.utf8decode(this.fileName),this.fileCommentStr=k.utf8decode(this.fileComment);else{var D=this.findExtraFieldUnicodePath();if(D!==null)this.fileNameStr=D;else{var E=d.transformTo(v,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(E)}var O=this.findExtraFieldUnicodeComment();if(O!==null)this.fileCommentStr=O;else{var M=d.transformTo(v,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(M)}}},findExtraFieldUnicodePath:function(){var v=this.extraFields[28789];if(v){var D=c(v.value);return D.readInt(1)!==1||m(this.fileName)!==D.readInt(4)?null:k.utf8decode(D.readData(v.length-5))}return null},findExtraFieldUnicodeComment:function(){var v=this.extraFields[25461];if(v){var D=c(v.value);return D.readInt(1)!==1||m(this.fileComment)!==D.readInt(4)?null:k.utf8decode(D.readData(v.length-5))}return null}},o.exports=C},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,o,a){function c(D,E,O){this.name=D,this.dir=O.dir,this.date=O.date,this.comment=O.comment,this.unixPermissions=O.unixPermissions,this.dosPermissions=O.dosPermissions,this._data=E,this._dataBinary=O.binary,this.options={compression:O.compression,compressionOptions:O.compressionOptions}}var d=r("./stream/StreamHelper"),p=r("./stream/DataWorker"),m=r("./utf8"),k=r("./compressedObject"),w=r("./stream/GenericWorker");c.prototype={internalStream:function(D){var E=null,O="string";try{if(!D)throw new Error("No output type specified.");var M=(O=D.toLowerCase())==="string"||O==="text";O!=="binarystring"&&O!=="text"||(O="string"),E=this._decompressWorker();var j=!this._dataBinary;j&&!M&&(E=E.pipe(new m.Utf8EncodeWorker)),!j&&M&&(E=E.pipe(new m.Utf8DecodeWorker))}catch(F){(E=new w("error")).error(F)}return new d(E,O,"")},async:function(D,E){return this.internalStream(D).accumulate(E)},nodeStream:function(D,E){return this.internalStream(D||"nodebuffer").toNodejsStream(E)},_compressWorker:function(D,E){if(this._data instanceof k&&this._data.compression.magic===D.magic)return this._data.getCompressedWorker();var O=this._decompressWorker();return this._dataBinary||(O=O.pipe(new m.Utf8EncodeWorker)),k.createWorkerFrom(O,D,E)},_decompressWorker:function(){return this._data instanceof k?this._data.getContentWorker():this._data instanceof w?this._data:new p(this._data)}};for(var _=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],C=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},v=0;v<_.length;v++)c.prototype[_[v]]=C;o.exports=c},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,o,a){(function(c){var d,p,m=c.MutationObserver||c.WebKitMutationObserver;if(m){var k=0,w=new m(D),_=c.document.createTextNode("");w.observe(_,{characterData:!0}),d=function(){_.data=k=++k%2}}else if(c.setImmediate||c.MessageChannel===void 0)d="document"in c&&"onreadystatechange"in c.document.createElement("script")?function(){var E=c.document.createElement("script");E.onreadystatechange=function(){D(),E.onreadystatechange=null,E.parentNode.removeChild(E),E=null},c.document.documentElement.appendChild(E)}:function(){setTimeout(D,0)};else{var C=new c.MessageChannel;C.port1.onmessage=D,d=function(){C.port2.postMessage(0)}}var v=[];function D(){var E,O;p=!0;for(var M=v.length;M;){for(O=v,v=[],E=-1;++E<M;)O[E]();M=v.length}p=!1}o.exports=function(E){v.push(E)!==1||p||d()}}).call(this,typeof Em<"u"?Em:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,o,a){var c=r("immediate");function d(){}var p={},m=["REJECTED"],k=["FULFILLED"],w=["PENDING"];function _(M){if(typeof M!="function")throw new TypeError("resolver must be a function");this.state=w,this.queue=[],this.outcome=void 0,M!==d&&E(this,M)}function C(M,j,F){this.promise=M,typeof j=="function"&&(this.onFulfilled=j,this.callFulfilled=this.otherCallFulfilled),typeof F=="function"&&(this.onRejected=F,this.callRejected=this.otherCallRejected)}function v(M,j,F){c(function(){var G;try{G=j(F)}catch(J){return p.reject(M,J)}G===M?p.reject(M,new TypeError("Cannot resolve promise with itself")):p.resolve(M,G)})}function D(M){var j=M&&M.then;if(M&&(typeof M=="object"||typeof M=="function")&&typeof j=="function")return function(){j.apply(M,arguments)}}function E(M,j){var F=!1;function G(z){F||(F=!0,p.reject(M,z))}function J(z){F||(F=!0,p.resolve(M,z))}var H=O(function(){j(J,G)});H.status==="error"&&G(H.value)}function O(M,j){var F={};try{F.value=M(j),F.status="success"}catch(G){F.status="error",F.value=G}return F}(o.exports=_).prototype.finally=function(M){if(typeof M!="function")return this;var j=this.constructor;return this.then(function(F){return j.resolve(M()).then(function(){return F})},function(F){return j.resolve(M()).then(function(){throw F})})},_.prototype.catch=function(M){return this.then(null,M)},_.prototype.then=function(M,j){if(typeof M!="function"&&this.state===k||typeof j!="function"&&this.state===m)return this;var F=new this.constructor(d);return this.state!==w?v(F,this.state===k?M:j,this.outcome):this.queue.push(new C(F,M,j)),F},C.prototype.callFulfilled=function(M){p.resolve(this.promise,M)},C.prototype.otherCallFulfilled=function(M){v(this.promise,this.onFulfilled,M)},C.prototype.callRejected=function(M){p.reject(this.promise,M)},C.prototype.otherCallRejected=function(M){v(this.promise,this.onRejected,M)},p.resolve=function(M,j){var F=O(D,j);if(F.status==="error")return p.reject(M,F.value);var G=F.value;if(G)E(M,G);else{M.state=k,M.outcome=j;for(var J=-1,H=M.queue.length;++J<H;)M.queue[J].callFulfilled(j)}return M},p.reject=function(M,j){M.state=m,M.outcome=j;for(var F=-1,G=M.queue.length;++F<G;)M.queue[F].callRejected(j);return M},_.resolve=function(M){return M instanceof this?M:p.resolve(new this(d),M)},_.reject=function(M){var j=new this(d);return p.reject(j,M)},_.all=function(M){var j=this;if(Object.prototype.toString.call(M)!=="[object Array]")return this.reject(new TypeError("must be an array"));var F=M.length,G=!1;if(!F)return this.resolve([]);for(var J=new Array(F),H=0,z=-1,Z=new this(d);++z<F;)Y(M[z],z);return Z;function Y(se,X){j.resolve(se).then(function(K){J[X]=K,++H!==F||G||(G=!0,p.resolve(Z,J))},function(K){G||(G=!0,p.reject(Z,K))})}},_.race=function(M){var j=this;if(Object.prototype.toString.call(M)!=="[object Array]")return this.reject(new TypeError("must be an array"));var F=M.length,G=!1;if(!F)return this.resolve([]);for(var J=-1,H=new this(d);++J<F;)z=M[J],j.resolve(z).then(function(Z){G||(G=!0,p.resolve(H,Z))},function(Z){G||(G=!0,p.reject(H,Z))});var z;return H}},{immediate:36}],38:[function(r,o,a){var c={};(0,r("./lib/utils/common").assign)(c,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),o.exports=c},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,o,a){var c=r("./zlib/deflate"),d=r("./utils/common"),p=r("./utils/strings"),m=r("./zlib/messages"),k=r("./zlib/zstream"),w=Object.prototype.toString,_=0,C=-1,v=0,D=8;function E(M){if(!(this instanceof E))return new E(M);this.options=d.assign({level:C,method:D,chunkSize:16384,windowBits:15,memLevel:8,strategy:v,to:""},M||{});var j=this.options;j.raw&&0<j.windowBits?j.windowBits=-j.windowBits:j.gzip&&0<j.windowBits&&j.windowBits<16&&(j.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new k,this.strm.avail_out=0;var F=c.deflateInit2(this.strm,j.level,j.method,j.windowBits,j.memLevel,j.strategy);if(F!==_)throw new Error(m[F]);if(j.header&&c.deflateSetHeader(this.strm,j.header),j.dictionary){var G;if(G=typeof j.dictionary=="string"?p.string2buf(j.dictionary):w.call(j.dictionary)==="[object ArrayBuffer]"?new Uint8Array(j.dictionary):j.dictionary,(F=c.deflateSetDictionary(this.strm,G))!==_)throw new Error(m[F]);this._dict_set=!0}}function O(M,j){var F=new E(j);if(F.push(M,!0),F.err)throw F.msg||m[F.err];return F.result}E.prototype.push=function(M,j){var F,G,J=this.strm,H=this.options.chunkSize;if(this.ended)return!1;G=j===~~j?j:j===!0?4:0,typeof M=="string"?J.input=p.string2buf(M):w.call(M)==="[object ArrayBuffer]"?J.input=new Uint8Array(M):J.input=M,J.next_in=0,J.avail_in=J.input.length;do{if(J.avail_out===0&&(J.output=new d.Buf8(H),J.next_out=0,J.avail_out=H),(F=c.deflate(J,G))!==1&&F!==_)return this.onEnd(F),!(this.ended=!0);J.avail_out!==0&&(J.avail_in!==0||G!==4&&G!==2)||(this.options.to==="string"?this.onData(p.buf2binstring(d.shrinkBuf(J.output,J.next_out))):this.onData(d.shrinkBuf(J.output,J.next_out)))}while((0<J.avail_in||J.avail_out===0)&&F!==1);return G===4?(F=c.deflateEnd(this.strm),this.onEnd(F),this.ended=!0,F===_):G!==2||(this.onEnd(_),!(J.avail_out=0))},E.prototype.onData=function(M){this.chunks.push(M)},E.prototype.onEnd=function(M){M===_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=M,this.msg=this.strm.msg},a.Deflate=E,a.deflate=O,a.deflateRaw=function(M,j){return(j=j||{}).raw=!0,O(M,j)},a.gzip=function(M,j){return(j=j||{}).gzip=!0,O(M,j)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,o,a){var c=r("./zlib/inflate"),d=r("./utils/common"),p=r("./utils/strings"),m=r("./zlib/constants"),k=r("./zlib/messages"),w=r("./zlib/zstream"),_=r("./zlib/gzheader"),C=Object.prototype.toString;function v(E){if(!(this instanceof v))return new v(E);this.options=d.assign({chunkSize:16384,windowBits:0,to:""},E||{});var O=this.options;O.raw&&0<=O.windowBits&&O.windowBits<16&&(O.windowBits=-O.windowBits,O.windowBits===0&&(O.windowBits=-15)),!(0<=O.windowBits&&O.windowBits<16)||E&&E.windowBits||(O.windowBits+=32),15<O.windowBits&&O.windowBits<48&&(15&O.windowBits)==0&&(O.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new w,this.strm.avail_out=0;var M=c.inflateInit2(this.strm,O.windowBits);if(M!==m.Z_OK)throw new Error(k[M]);this.header=new _,c.inflateGetHeader(this.strm,this.header)}function D(E,O){var M=new v(O);if(M.push(E,!0),M.err)throw M.msg||k[M.err];return M.result}v.prototype.push=function(E,O){var M,j,F,G,J,H,z=this.strm,Z=this.options.chunkSize,Y=this.options.dictionary,se=!1;if(this.ended)return!1;j=O===~~O?O:O===!0?m.Z_FINISH:m.Z_NO_FLUSH,typeof E=="string"?z.input=p.binstring2buf(E):C.call(E)==="[object ArrayBuffer]"?z.input=new Uint8Array(E):z.input=E,z.next_in=0,z.avail_in=z.input.length;do{if(z.avail_out===0&&(z.output=new d.Buf8(Z),z.next_out=0,z.avail_out=Z),(M=c.inflate(z,m.Z_NO_FLUSH))===m.Z_NEED_DICT&&Y&&(H=typeof Y=="string"?p.string2buf(Y):C.call(Y)==="[object ArrayBuffer]"?new Uint8Array(Y):Y,M=c.inflateSetDictionary(this.strm,H)),M===m.Z_BUF_ERROR&&se===!0&&(M=m.Z_OK,se=!1),M!==m.Z_STREAM_END&&M!==m.Z_OK)return this.onEnd(M),!(this.ended=!0);z.next_out&&(z.avail_out!==0&&M!==m.Z_STREAM_END&&(z.avail_in!==0||j!==m.Z_FINISH&&j!==m.Z_SYNC_FLUSH)||(this.options.to==="string"?(F=p.utf8border(z.output,z.next_out),G=z.next_out-F,J=p.buf2string(z.output,F),z.next_out=G,z.avail_out=Z-G,G&&d.arraySet(z.output,z.output,F,G,0),this.onData(J)):this.onData(d.shrinkBuf(z.output,z.next_out)))),z.avail_in===0&&z.avail_out===0&&(se=!0)}while((0<z.avail_in||z.avail_out===0)&&M!==m.Z_STREAM_END);return M===m.Z_STREAM_END&&(j=m.Z_FINISH),j===m.Z_FINISH?(M=c.inflateEnd(this.strm),this.onEnd(M),this.ended=!0,M===m.Z_OK):j!==m.Z_SYNC_FLUSH||(this.onEnd(m.Z_OK),!(z.avail_out=0))},v.prototype.onData=function(E){this.chunks.push(E)},v.prototype.onEnd=function(E){E===m.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=E,this.msg=this.strm.msg},a.Inflate=v,a.inflate=D,a.inflateRaw=function(E,O){return(O=O||{}).raw=!0,D(E,O)},a.ungzip=D},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,o,a){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(m){for(var k=Array.prototype.slice.call(arguments,1);k.length;){var w=k.shift();if(w){if(typeof w!="object")throw new TypeError(w+"must be non-object");for(var _ in w)w.hasOwnProperty(_)&&(m[_]=w[_])}}return m},a.shrinkBuf=function(m,k){return m.length===k?m:m.subarray?m.subarray(0,k):(m.length=k,m)};var d={arraySet:function(m,k,w,_,C){if(k.subarray&&m.subarray)m.set(k.subarray(w,w+_),C);else for(var v=0;v<_;v++)m[C+v]=k[w+v]},flattenChunks:function(m){var k,w,_,C,v,D;for(k=_=0,w=m.length;k<w;k++)_+=m[k].length;for(D=new Uint8Array(_),k=C=0,w=m.length;k<w;k++)v=m[k],D.set(v,C),C+=v.length;return D}},p={arraySet:function(m,k,w,_,C){for(var v=0;v<_;v++)m[C+v]=k[w+v]},flattenChunks:function(m){return[].concat.apply([],m)}};a.setTyped=function(m){m?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,d)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,p))},a.setTyped(c)},{}],42:[function(r,o,a){var c=r("./common"),d=!0,p=!0;try{String.fromCharCode.apply(null,[0])}catch{d=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{p=!1}for(var m=new c.Buf8(256),k=0;k<256;k++)m[k]=252<=k?6:248<=k?5:240<=k?4:224<=k?3:192<=k?2:1;function w(_,C){if(C<65537&&(_.subarray&&p||!_.subarray&&d))return String.fromCharCode.apply(null,c.shrinkBuf(_,C));for(var v="",D=0;D<C;D++)v+=String.fromCharCode(_[D]);return v}m[254]=m[254]=1,a.string2buf=function(_){var C,v,D,E,O,M=_.length,j=0;for(E=0;E<M;E++)(64512&(v=_.charCodeAt(E)))==55296&&E+1<M&&(64512&(D=_.charCodeAt(E+1)))==56320&&(v=65536+(v-55296<<10)+(D-56320),E++),j+=v<128?1:v<2048?2:v<65536?3:4;for(C=new c.Buf8(j),E=O=0;O<j;E++)(64512&(v=_.charCodeAt(E)))==55296&&E+1<M&&(64512&(D=_.charCodeAt(E+1)))==56320&&(v=65536+(v-55296<<10)+(D-56320),E++),v<128?C[O++]=v:(v<2048?C[O++]=192|v>>>6:(v<65536?C[O++]=224|v>>>12:(C[O++]=240|v>>>18,C[O++]=128|v>>>12&63),C[O++]=128|v>>>6&63),C[O++]=128|63&v);return C},a.buf2binstring=function(_){return w(_,_.length)},a.binstring2buf=function(_){for(var C=new c.Buf8(_.length),v=0,D=C.length;v<D;v++)C[v]=_.charCodeAt(v);return C},a.buf2string=function(_,C){var v,D,E,O,M=C||_.length,j=new Array(2*M);for(v=D=0;v<M;)if((E=_[v++])<128)j[D++]=E;else if(4<(O=m[E]))j[D++]=65533,v+=O-1;else{for(E&=O===2?31:O===3?15:7;1<O&&v<M;)E=E<<6|63&_[v++],O--;1<O?j[D++]=65533:E<65536?j[D++]=E:(E-=65536,j[D++]=55296|E>>10&1023,j[D++]=56320|1023&E)}return w(j,D)},a.utf8border=function(_,C){var v;for((C=C||_.length)>_.length&&(C=_.length),v=C-1;0<=v&&(192&_[v])==128;)v--;return v<0||v===0?C:v+m[_[v]]>C?v:C}},{"./common":41}],43:[function(r,o,a){o.exports=function(c,d,p,m){for(var k=65535&c|0,w=c>>>16&65535|0,_=0;p!==0;){for(p-=_=2e3<p?2e3:p;w=w+(k=k+d[m++]|0)|0,--_;);k%=65521,w%=65521}return k|w<<16|0}},{}],44:[function(r,o,a){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,o,a){var c=function(){for(var d,p=[],m=0;m<256;m++){d=m;for(var k=0;k<8;k++)d=1&d?3988292384^d>>>1:d>>>1;p[m]=d}return p}();o.exports=function(d,p,m,k){var w=c,_=k+m;d^=-1;for(var C=k;C<_;C++)d=d>>>8^w[255&(d^p[C])];return-1^d}},{}],46:[function(r,o,a){var c,d=r("../utils/common"),p=r("./trees"),m=r("./adler32"),k=r("./crc32"),w=r("./messages"),_=0,C=4,v=0,D=-2,E=-1,O=4,M=2,j=8,F=9,G=286,J=30,H=19,z=2*G+1,Z=15,Y=3,se=258,X=se+Y+1,K=42,U=113,q=1,fe=2,ue=3,de=4;function ge(oe,Le){return oe.msg=w[Le],Le}function Ie(oe){return(oe<<1)-(4<oe?9:0)}function ce(oe){for(var Le=oe.length;0<=--Le;)oe[Le]=0}function Te(oe){var Le=oe.state,we=Le.pending;we>oe.avail_out&&(we=oe.avail_out),we!==0&&(d.arraySet(oe.output,Le.pending_buf,Le.pending_out,we,oe.next_out),oe.next_out+=we,Le.pending_out+=we,oe.total_out+=we,oe.avail_out-=we,Le.pending-=we,Le.pending===0&&(Le.pending_out=0))}function re(oe,Le){p._tr_flush_block(oe,0<=oe.block_start?oe.block_start:-1,oe.strstart-oe.block_start,Le),oe.block_start=oe.strstart,Te(oe.strm)}function te(oe,Le){oe.pending_buf[oe.pending++]=Le}function ke(oe,Le){oe.pending_buf[oe.pending++]=Le>>>8&255,oe.pending_buf[oe.pending++]=255&Le}function be(oe,Le){var we,Ee,Ae=oe.max_chain_length,Ne=oe.strstart,Ke=oe.prev_length,Xe=oe.nice_match,ze=oe.strstart>oe.w_size-X?oe.strstart-(oe.w_size-X):0,dt=oe.window,wt=oe.w_mask,ot=oe.prev,pt=oe.strstart+se,He=dt[Ne+Ke-1],at=dt[Ne+Ke];oe.prev_length>=oe.good_match&&(Ae>>=2),Xe>oe.lookahead&&(Xe=oe.lookahead);do if(dt[(we=Le)+Ke]===at&&dt[we+Ke-1]===He&&dt[we]===dt[Ne]&&dt[++we]===dt[Ne+1]){Ne+=2,we++;do;while(dt[++Ne]===dt[++we]&&dt[++Ne]===dt[++we]&&dt[++Ne]===dt[++we]&&dt[++Ne]===dt[++we]&&dt[++Ne]===dt[++we]&&dt[++Ne]===dt[++we]&&dt[++Ne]===dt[++we]&&dt[++Ne]===dt[++we]&&Ne<pt);if(Ee=se-(pt-Ne),Ne=pt-se,Ke<Ee){if(oe.match_start=Le,Xe<=(Ke=Ee))break;He=dt[Ne+Ke-1],at=dt[Ne+Ke]}}while((Le=ot[Le&wt])>ze&&--Ae!=0);return Ke<=oe.lookahead?Ke:oe.lookahead}function ve(oe){var Le,we,Ee,Ae,Ne,Ke,Xe,ze,dt,wt,ot=oe.w_size;do{if(Ae=oe.window_size-oe.lookahead-oe.strstart,oe.strstart>=ot+(ot-X)){for(d.arraySet(oe.window,oe.window,ot,ot,0),oe.match_start-=ot,oe.strstart-=ot,oe.block_start-=ot,Le=we=oe.hash_size;Ee=oe.head[--Le],oe.head[Le]=ot<=Ee?Ee-ot:0,--we;);for(Le=we=ot;Ee=oe.prev[--Le],oe.prev[Le]=ot<=Ee?Ee-ot:0,--we;);Ae+=ot}if(oe.strm.avail_in===0)break;if(Ke=oe.strm,Xe=oe.window,ze=oe.strstart+oe.lookahead,dt=Ae,wt=void 0,wt=Ke.avail_in,dt<wt&&(wt=dt),we=wt===0?0:(Ke.avail_in-=wt,d.arraySet(Xe,Ke.input,Ke.next_in,wt,ze),Ke.state.wrap===1?Ke.adler=m(Ke.adler,Xe,wt,ze):Ke.state.wrap===2&&(Ke.adler=k(Ke.adler,Xe,wt,ze)),Ke.next_in+=wt,Ke.total_in+=wt,wt),oe.lookahead+=we,oe.lookahead+oe.insert>=Y)for(Ne=oe.strstart-oe.insert,oe.ins_h=oe.window[Ne],oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[Ne+1])&oe.hash_mask;oe.insert&&(oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[Ne+Y-1])&oe.hash_mask,oe.prev[Ne&oe.w_mask]=oe.head[oe.ins_h],oe.head[oe.ins_h]=Ne,Ne++,oe.insert--,!(oe.lookahead+oe.insert<Y)););}while(oe.lookahead<X&&oe.strm.avail_in!==0)}function Re(oe,Le){for(var we,Ee;;){if(oe.lookahead<X){if(ve(oe),oe.lookahead<X&&Le===_)return q;if(oe.lookahead===0)break}if(we=0,oe.lookahead>=Y&&(oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[oe.strstart+Y-1])&oe.hash_mask,we=oe.prev[oe.strstart&oe.w_mask]=oe.head[oe.ins_h],oe.head[oe.ins_h]=oe.strstart),we!==0&&oe.strstart-we<=oe.w_size-X&&(oe.match_length=be(oe,we)),oe.match_length>=Y)if(Ee=p._tr_tally(oe,oe.strstart-oe.match_start,oe.match_length-Y),oe.lookahead-=oe.match_length,oe.match_length<=oe.max_lazy_match&&oe.lookahead>=Y){for(oe.match_length--;oe.strstart++,oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[oe.strstart+Y-1])&oe.hash_mask,we=oe.prev[oe.strstart&oe.w_mask]=oe.head[oe.ins_h],oe.head[oe.ins_h]=oe.strstart,--oe.match_length!=0;);oe.strstart++}else oe.strstart+=oe.match_length,oe.match_length=0,oe.ins_h=oe.window[oe.strstart],oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[oe.strstart+1])&oe.hash_mask;else Ee=p._tr_tally(oe,0,oe.window[oe.strstart]),oe.lookahead--,oe.strstart++;if(Ee&&(re(oe,!1),oe.strm.avail_out===0))return q}return oe.insert=oe.strstart<Y-1?oe.strstart:Y-1,Le===C?(re(oe,!0),oe.strm.avail_out===0?ue:de):oe.last_lit&&(re(oe,!1),oe.strm.avail_out===0)?q:fe}function Oe(oe,Le){for(var we,Ee,Ae;;){if(oe.lookahead<X){if(ve(oe),oe.lookahead<X&&Le===_)return q;if(oe.lookahead===0)break}if(we=0,oe.lookahead>=Y&&(oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[oe.strstart+Y-1])&oe.hash_mask,we=oe.prev[oe.strstart&oe.w_mask]=oe.head[oe.ins_h],oe.head[oe.ins_h]=oe.strstart),oe.prev_length=oe.match_length,oe.prev_match=oe.match_start,oe.match_length=Y-1,we!==0&&oe.prev_length<oe.max_lazy_match&&oe.strstart-we<=oe.w_size-X&&(oe.match_length=be(oe,we),oe.match_length<=5&&(oe.strategy===1||oe.match_length===Y&&4096<oe.strstart-oe.match_start)&&(oe.match_length=Y-1)),oe.prev_length>=Y&&oe.match_length<=oe.prev_length){for(Ae=oe.strstart+oe.lookahead-Y,Ee=p._tr_tally(oe,oe.strstart-1-oe.prev_match,oe.prev_length-Y),oe.lookahead-=oe.prev_length-1,oe.prev_length-=2;++oe.strstart<=Ae&&(oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[oe.strstart+Y-1])&oe.hash_mask,we=oe.prev[oe.strstart&oe.w_mask]=oe.head[oe.ins_h],oe.head[oe.ins_h]=oe.strstart),--oe.prev_length!=0;);if(oe.match_available=0,oe.match_length=Y-1,oe.strstart++,Ee&&(re(oe,!1),oe.strm.avail_out===0))return q}else if(oe.match_available){if((Ee=p._tr_tally(oe,0,oe.window[oe.strstart-1]))&&re(oe,!1),oe.strstart++,oe.lookahead--,oe.strm.avail_out===0)return q}else oe.match_available=1,oe.strstart++,oe.lookahead--}return oe.match_available&&(Ee=p._tr_tally(oe,0,oe.window[oe.strstart-1]),oe.match_available=0),oe.insert=oe.strstart<Y-1?oe.strstart:Y-1,Le===C?(re(oe,!0),oe.strm.avail_out===0?ue:de):oe.last_lit&&(re(oe,!1),oe.strm.avail_out===0)?q:fe}function Ue(oe,Le,we,Ee,Ae){this.good_length=oe,this.max_lazy=Le,this.nice_length=we,this.max_chain=Ee,this.func=Ae}function Ze(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=j,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(2*z),this.dyn_dtree=new d.Buf16(2*(2*J+1)),this.bl_tree=new d.Buf16(2*(2*H+1)),ce(this.dyn_ltree),ce(this.dyn_dtree),ce(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(Z+1),this.heap=new d.Buf16(2*G+1),ce(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(2*G+1),ce(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ge(oe){var Le;return oe&&oe.state?(oe.total_in=oe.total_out=0,oe.data_type=M,(Le=oe.state).pending=0,Le.pending_out=0,Le.wrap<0&&(Le.wrap=-Le.wrap),Le.status=Le.wrap?K:U,oe.adler=Le.wrap===2?0:1,Le.last_flush=_,p._tr_init(Le),v):ge(oe,D)}function ft(oe){var Le=Ge(oe);return Le===v&&function(we){we.window_size=2*we.w_size,ce(we.head),we.max_lazy_match=c[we.level].max_lazy,we.good_match=c[we.level].good_length,we.nice_match=c[we.level].nice_length,we.max_chain_length=c[we.level].max_chain,we.strstart=0,we.block_start=0,we.lookahead=0,we.insert=0,we.match_length=we.prev_length=Y-1,we.match_available=0,we.ins_h=0}(oe.state),Le}function gt(oe,Le,we,Ee,Ae,Ne){if(!oe)return D;var Ke=1;if(Le===E&&(Le=6),Ee<0?(Ke=0,Ee=-Ee):15<Ee&&(Ke=2,Ee-=16),Ae<1||F<Ae||we!==j||Ee<8||15<Ee||Le<0||9<Le||Ne<0||O<Ne)return ge(oe,D);Ee===8&&(Ee=9);var Xe=new Ze;return(oe.state=Xe).strm=oe,Xe.wrap=Ke,Xe.gzhead=null,Xe.w_bits=Ee,Xe.w_size=1<<Xe.w_bits,Xe.w_mask=Xe.w_size-1,Xe.hash_bits=Ae+7,Xe.hash_size=1<<Xe.hash_bits,Xe.hash_mask=Xe.hash_size-1,Xe.hash_shift=~~((Xe.hash_bits+Y-1)/Y),Xe.window=new d.Buf8(2*Xe.w_size),Xe.head=new d.Buf16(Xe.hash_size),Xe.prev=new d.Buf16(Xe.w_size),Xe.lit_bufsize=1<<Ae+6,Xe.pending_buf_size=4*Xe.lit_bufsize,Xe.pending_buf=new d.Buf8(Xe.pending_buf_size),Xe.d_buf=1*Xe.lit_bufsize,Xe.l_buf=3*Xe.lit_bufsize,Xe.level=Le,Xe.strategy=Ne,Xe.method=we,ft(oe)}c=[new Ue(0,0,0,0,function(oe,Le){var we=65535;for(we>oe.pending_buf_size-5&&(we=oe.pending_buf_size-5);;){if(oe.lookahead<=1){if(ve(oe),oe.lookahead===0&&Le===_)return q;if(oe.lookahead===0)break}oe.strstart+=oe.lookahead,oe.lookahead=0;var Ee=oe.block_start+we;if((oe.strstart===0||oe.strstart>=Ee)&&(oe.lookahead=oe.strstart-Ee,oe.strstart=Ee,re(oe,!1),oe.strm.avail_out===0)||oe.strstart-oe.block_start>=oe.w_size-X&&(re(oe,!1),oe.strm.avail_out===0))return q}return oe.insert=0,Le===C?(re(oe,!0),oe.strm.avail_out===0?ue:de):(oe.strstart>oe.block_start&&(re(oe,!1),oe.strm.avail_out),q)}),new Ue(4,4,8,4,Re),new Ue(4,5,16,8,Re),new Ue(4,6,32,32,Re),new Ue(4,4,16,16,Oe),new Ue(8,16,32,32,Oe),new Ue(8,16,128,128,Oe),new Ue(8,32,128,256,Oe),new Ue(32,128,258,1024,Oe),new Ue(32,258,258,4096,Oe)],a.deflateInit=function(oe,Le){return gt(oe,Le,j,15,8,0)},a.deflateInit2=gt,a.deflateReset=ft,a.deflateResetKeep=Ge,a.deflateSetHeader=function(oe,Le){return oe&&oe.state?oe.state.wrap!==2?D:(oe.state.gzhead=Le,v):D},a.deflate=function(oe,Le){var we,Ee,Ae,Ne;if(!oe||!oe.state||5<Le||Le<0)return oe?ge(oe,D):D;if(Ee=oe.state,!oe.output||!oe.input&&oe.avail_in!==0||Ee.status===666&&Le!==C)return ge(oe,oe.avail_out===0?-5:D);if(Ee.strm=oe,we=Ee.last_flush,Ee.last_flush=Le,Ee.status===K)if(Ee.wrap===2)oe.adler=0,te(Ee,31),te(Ee,139),te(Ee,8),Ee.gzhead?(te(Ee,(Ee.gzhead.text?1:0)+(Ee.gzhead.hcrc?2:0)+(Ee.gzhead.extra?4:0)+(Ee.gzhead.name?8:0)+(Ee.gzhead.comment?16:0)),te(Ee,255&Ee.gzhead.time),te(Ee,Ee.gzhead.time>>8&255),te(Ee,Ee.gzhead.time>>16&255),te(Ee,Ee.gzhead.time>>24&255),te(Ee,Ee.level===9?2:2<=Ee.strategy||Ee.level<2?4:0),te(Ee,255&Ee.gzhead.os),Ee.gzhead.extra&&Ee.gzhead.extra.length&&(te(Ee,255&Ee.gzhead.extra.length),te(Ee,Ee.gzhead.extra.length>>8&255)),Ee.gzhead.hcrc&&(oe.adler=k(oe.adler,Ee.pending_buf,Ee.pending,0)),Ee.gzindex=0,Ee.status=69):(te(Ee,0),te(Ee,0),te(Ee,0),te(Ee,0),te(Ee,0),te(Ee,Ee.level===9?2:2<=Ee.strategy||Ee.level<2?4:0),te(Ee,3),Ee.status=U);else{var Ke=j+(Ee.w_bits-8<<4)<<8;Ke|=(2<=Ee.strategy||Ee.level<2?0:Ee.level<6?1:Ee.level===6?2:3)<<6,Ee.strstart!==0&&(Ke|=32),Ke+=31-Ke%31,Ee.status=U,ke(Ee,Ke),Ee.strstart!==0&&(ke(Ee,oe.adler>>>16),ke(Ee,65535&oe.adler)),oe.adler=1}if(Ee.status===69)if(Ee.gzhead.extra){for(Ae=Ee.pending;Ee.gzindex<(65535&Ee.gzhead.extra.length)&&(Ee.pending!==Ee.pending_buf_size||(Ee.gzhead.hcrc&&Ee.pending>Ae&&(oe.adler=k(oe.adler,Ee.pending_buf,Ee.pending-Ae,Ae)),Te(oe),Ae=Ee.pending,Ee.pending!==Ee.pending_buf_size));)te(Ee,255&Ee.gzhead.extra[Ee.gzindex]),Ee.gzindex++;Ee.gzhead.hcrc&&Ee.pending>Ae&&(oe.adler=k(oe.adler,Ee.pending_buf,Ee.pending-Ae,Ae)),Ee.gzindex===Ee.gzhead.extra.length&&(Ee.gzindex=0,Ee.status=73)}else Ee.status=73;if(Ee.status===73)if(Ee.gzhead.name){Ae=Ee.pending;do{if(Ee.pending===Ee.pending_buf_size&&(Ee.gzhead.hcrc&&Ee.pending>Ae&&(oe.adler=k(oe.adler,Ee.pending_buf,Ee.pending-Ae,Ae)),Te(oe),Ae=Ee.pending,Ee.pending===Ee.pending_buf_size)){Ne=1;break}Ne=Ee.gzindex<Ee.gzhead.name.length?255&Ee.gzhead.name.charCodeAt(Ee.gzindex++):0,te(Ee,Ne)}while(Ne!==0);Ee.gzhead.hcrc&&Ee.pending>Ae&&(oe.adler=k(oe.adler,Ee.pending_buf,Ee.pending-Ae,Ae)),Ne===0&&(Ee.gzindex=0,Ee.status=91)}else Ee.status=91;if(Ee.status===91)if(Ee.gzhead.comment){Ae=Ee.pending;do{if(Ee.pending===Ee.pending_buf_size&&(Ee.gzhead.hcrc&&Ee.pending>Ae&&(oe.adler=k(oe.adler,Ee.pending_buf,Ee.pending-Ae,Ae)),Te(oe),Ae=Ee.pending,Ee.pending===Ee.pending_buf_size)){Ne=1;break}Ne=Ee.gzindex<Ee.gzhead.comment.length?255&Ee.gzhead.comment.charCodeAt(Ee.gzindex++):0,te(Ee,Ne)}while(Ne!==0);Ee.gzhead.hcrc&&Ee.pending>Ae&&(oe.adler=k(oe.adler,Ee.pending_buf,Ee.pending-Ae,Ae)),Ne===0&&(Ee.status=103)}else Ee.status=103;if(Ee.status===103&&(Ee.gzhead.hcrc?(Ee.pending+2>Ee.pending_buf_size&&Te(oe),Ee.pending+2<=Ee.pending_buf_size&&(te(Ee,255&oe.adler),te(Ee,oe.adler>>8&255),oe.adler=0,Ee.status=U)):Ee.status=U),Ee.pending!==0){if(Te(oe),oe.avail_out===0)return Ee.last_flush=-1,v}else if(oe.avail_in===0&&Ie(Le)<=Ie(we)&&Le!==C)return ge(oe,-5);if(Ee.status===666&&oe.avail_in!==0)return ge(oe,-5);if(oe.avail_in!==0||Ee.lookahead!==0||Le!==_&&Ee.status!==666){var Xe=Ee.strategy===2?function(ze,dt){for(var wt;;){if(ze.lookahead===0&&(ve(ze),ze.lookahead===0)){if(dt===_)return q;break}if(ze.match_length=0,wt=p._tr_tally(ze,0,ze.window[ze.strstart]),ze.lookahead--,ze.strstart++,wt&&(re(ze,!1),ze.strm.avail_out===0))return q}return ze.insert=0,dt===C?(re(ze,!0),ze.strm.avail_out===0?ue:de):ze.last_lit&&(re(ze,!1),ze.strm.avail_out===0)?q:fe}(Ee,Le):Ee.strategy===3?function(ze,dt){for(var wt,ot,pt,He,at=ze.window;;){if(ze.lookahead<=se){if(ve(ze),ze.lookahead<=se&&dt===_)return q;if(ze.lookahead===0)break}if(ze.match_length=0,ze.lookahead>=Y&&0<ze.strstart&&(ot=at[pt=ze.strstart-1])===at[++pt]&&ot===at[++pt]&&ot===at[++pt]){He=ze.strstart+se;do;while(ot===at[++pt]&&ot===at[++pt]&&ot===at[++pt]&&ot===at[++pt]&&ot===at[++pt]&&ot===at[++pt]&&ot===at[++pt]&&ot===at[++pt]&&pt<He);ze.match_length=se-(He-pt),ze.match_length>ze.lookahead&&(ze.match_length=ze.lookahead)}if(ze.match_length>=Y?(wt=p._tr_tally(ze,1,ze.match_length-Y),ze.lookahead-=ze.match_length,ze.strstart+=ze.match_length,ze.match_length=0):(wt=p._tr_tally(ze,0,ze.window[ze.strstart]),ze.lookahead--,ze.strstart++),wt&&(re(ze,!1),ze.strm.avail_out===0))return q}return ze.insert=0,dt===C?(re(ze,!0),ze.strm.avail_out===0?ue:de):ze.last_lit&&(re(ze,!1),ze.strm.avail_out===0)?q:fe}(Ee,Le):c[Ee.level].func(Ee,Le);if(Xe!==ue&&Xe!==de||(Ee.status=666),Xe===q||Xe===ue)return oe.avail_out===0&&(Ee.last_flush=-1),v;if(Xe===fe&&(Le===1?p._tr_align(Ee):Le!==5&&(p._tr_stored_block(Ee,0,0,!1),Le===3&&(ce(Ee.head),Ee.lookahead===0&&(Ee.strstart=0,Ee.block_start=0,Ee.insert=0))),Te(oe),oe.avail_out===0))return Ee.last_flush=-1,v}return Le!==C?v:Ee.wrap<=0?1:(Ee.wrap===2?(te(Ee,255&oe.adler),te(Ee,oe.adler>>8&255),te(Ee,oe.adler>>16&255),te(Ee,oe.adler>>24&255),te(Ee,255&oe.total_in),te(Ee,oe.total_in>>8&255),te(Ee,oe.total_in>>16&255),te(Ee,oe.total_in>>24&255)):(ke(Ee,oe.adler>>>16),ke(Ee,65535&oe.adler)),Te(oe),0<Ee.wrap&&(Ee.wrap=-Ee.wrap),Ee.pending!==0?v:1)},a.deflateEnd=function(oe){var Le;return oe&&oe.state?(Le=oe.state.status)!==K&&Le!==69&&Le!==73&&Le!==91&&Le!==103&&Le!==U&&Le!==666?ge(oe,D):(oe.state=null,Le===U?ge(oe,-3):v):D},a.deflateSetDictionary=function(oe,Le){var we,Ee,Ae,Ne,Ke,Xe,ze,dt,wt=Le.length;if(!oe||!oe.state||(Ne=(we=oe.state).wrap)===2||Ne===1&&we.status!==K||we.lookahead)return D;for(Ne===1&&(oe.adler=m(oe.adler,Le,wt,0)),we.wrap=0,wt>=we.w_size&&(Ne===0&&(ce(we.head),we.strstart=0,we.block_start=0,we.insert=0),dt=new d.Buf8(we.w_size),d.arraySet(dt,Le,wt-we.w_size,we.w_size,0),Le=dt,wt=we.w_size),Ke=oe.avail_in,Xe=oe.next_in,ze=oe.input,oe.avail_in=wt,oe.next_in=0,oe.input=Le,ve(we);we.lookahead>=Y;){for(Ee=we.strstart,Ae=we.lookahead-(Y-1);we.ins_h=(we.ins_h<<we.hash_shift^we.window[Ee+Y-1])&we.hash_mask,we.prev[Ee&we.w_mask]=we.head[we.ins_h],we.head[we.ins_h]=Ee,Ee++,--Ae;);we.strstart=Ee,we.lookahead=Y-1,ve(we)}return we.strstart+=we.lookahead,we.block_start=we.strstart,we.insert=we.lookahead,we.lookahead=0,we.match_length=we.prev_length=Y-1,we.match_available=0,oe.next_in=Xe,oe.input=ze,oe.avail_in=Ke,we.wrap=Ne,v},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,o,a){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,o,a){o.exports=function(c,d){var p,m,k,w,_,C,v,D,E,O,M,j,F,G,J,H,z,Z,Y,se,X,K,U,q,fe;p=c.state,m=c.next_in,q=c.input,k=m+(c.avail_in-5),w=c.next_out,fe=c.output,_=w-(d-c.avail_out),C=w+(c.avail_out-257),v=p.dmax,D=p.wsize,E=p.whave,O=p.wnext,M=p.window,j=p.hold,F=p.bits,G=p.lencode,J=p.distcode,H=(1<<p.lenbits)-1,z=(1<<p.distbits)-1;e:do{F<15&&(j+=q[m++]<<F,F+=8,j+=q[m++]<<F,F+=8),Z=G[j&H];t:for(;;){if(j>>>=Y=Z>>>24,F-=Y,(Y=Z>>>16&255)===0)fe[w++]=65535&Z;else{if(!(16&Y)){if((64&Y)==0){Z=G[(65535&Z)+(j&(1<<Y)-1)];continue t}if(32&Y){p.mode=12;break e}c.msg="invalid literal/length code",p.mode=30;break e}se=65535&Z,(Y&=15)&&(F<Y&&(j+=q[m++]<<F,F+=8),se+=j&(1<<Y)-1,j>>>=Y,F-=Y),F<15&&(j+=q[m++]<<F,F+=8,j+=q[m++]<<F,F+=8),Z=J[j&z];n:for(;;){if(j>>>=Y=Z>>>24,F-=Y,!(16&(Y=Z>>>16&255))){if((64&Y)==0){Z=J[(65535&Z)+(j&(1<<Y)-1)];continue n}c.msg="invalid distance code",p.mode=30;break e}if(X=65535&Z,F<(Y&=15)&&(j+=q[m++]<<F,(F+=8)<Y&&(j+=q[m++]<<F,F+=8)),v<(X+=j&(1<<Y)-1)){c.msg="invalid distance too far back",p.mode=30;break e}if(j>>>=Y,F-=Y,(Y=w-_)<X){if(E<(Y=X-Y)&&p.sane){c.msg="invalid distance too far back",p.mode=30;break e}if(U=M,(K=0)===O){if(K+=D-Y,Y<se){for(se-=Y;fe[w++]=M[K++],--Y;);K=w-X,U=fe}}else if(O<Y){if(K+=D+O-Y,(Y-=O)<se){for(se-=Y;fe[w++]=M[K++],--Y;);if(K=0,O<se){for(se-=Y=O;fe[w++]=M[K++],--Y;);K=w-X,U=fe}}}else if(K+=O-Y,Y<se){for(se-=Y;fe[w++]=M[K++],--Y;);K=w-X,U=fe}for(;2<se;)fe[w++]=U[K++],fe[w++]=U[K++],fe[w++]=U[K++],se-=3;se&&(fe[w++]=U[K++],1<se&&(fe[w++]=U[K++]))}else{for(K=w-X;fe[w++]=fe[K++],fe[w++]=fe[K++],fe[w++]=fe[K++],2<(se-=3););se&&(fe[w++]=fe[K++],1<se&&(fe[w++]=fe[K++]))}break}}break}}while(m<k&&w<C);m-=se=F>>3,j&=(1<<(F-=se<<3))-1,c.next_in=m,c.next_out=w,c.avail_in=m<k?k-m+5:5-(m-k),c.avail_out=w<C?C-w+257:257-(w-C),p.hold=j,p.bits=F}},{}],49:[function(r,o,a){var c=r("../utils/common"),d=r("./adler32"),p=r("./crc32"),m=r("./inffast"),k=r("./inftrees"),w=1,_=2,C=0,v=-2,D=1,E=852,O=592;function M(K){return(K>>>24&255)+(K>>>8&65280)+((65280&K)<<8)+((255&K)<<24)}function j(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new c.Buf16(320),this.work=new c.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function F(K){var U;return K&&K.state?(U=K.state,K.total_in=K.total_out=U.total=0,K.msg="",U.wrap&&(K.adler=1&U.wrap),U.mode=D,U.last=0,U.havedict=0,U.dmax=32768,U.head=null,U.hold=0,U.bits=0,U.lencode=U.lendyn=new c.Buf32(E),U.distcode=U.distdyn=new c.Buf32(O),U.sane=1,U.back=-1,C):v}function G(K){var U;return K&&K.state?((U=K.state).wsize=0,U.whave=0,U.wnext=0,F(K)):v}function J(K,U){var q,fe;return K&&K.state?(fe=K.state,U<0?(q=0,U=-U):(q=1+(U>>4),U<48&&(U&=15)),U&&(U<8||15<U)?v:(fe.window!==null&&fe.wbits!==U&&(fe.window=null),fe.wrap=q,fe.wbits=U,G(K))):v}function H(K,U){var q,fe;return K?(fe=new j,(K.state=fe).window=null,(q=J(K,U))!==C&&(K.state=null),q):v}var z,Z,Y=!0;function se(K){if(Y){var U;for(z=new c.Buf32(512),Z=new c.Buf32(32),U=0;U<144;)K.lens[U++]=8;for(;U<256;)K.lens[U++]=9;for(;U<280;)K.lens[U++]=7;for(;U<288;)K.lens[U++]=8;for(k(w,K.lens,0,288,z,0,K.work,{bits:9}),U=0;U<32;)K.lens[U++]=5;k(_,K.lens,0,32,Z,0,K.work,{bits:5}),Y=!1}K.lencode=z,K.lenbits=9,K.distcode=Z,K.distbits=5}function X(K,U,q,fe){var ue,de=K.state;return de.window===null&&(de.wsize=1<<de.wbits,de.wnext=0,de.whave=0,de.window=new c.Buf8(de.wsize)),fe>=de.wsize?(c.arraySet(de.window,U,q-de.wsize,de.wsize,0),de.wnext=0,de.whave=de.wsize):(fe<(ue=de.wsize-de.wnext)&&(ue=fe),c.arraySet(de.window,U,q-fe,ue,de.wnext),(fe-=ue)?(c.arraySet(de.window,U,q-fe,fe,0),de.wnext=fe,de.whave=de.wsize):(de.wnext+=ue,de.wnext===de.wsize&&(de.wnext=0),de.whave<de.wsize&&(de.whave+=ue))),0}a.inflateReset=G,a.inflateReset2=J,a.inflateResetKeep=F,a.inflateInit=function(K){return H(K,15)},a.inflateInit2=H,a.inflate=function(K,U){var q,fe,ue,de,ge,Ie,ce,Te,re,te,ke,be,ve,Re,Oe,Ue,Ze,Ge,ft,gt,oe,Le,we,Ee,Ae=0,Ne=new c.Buf8(4),Ke=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!K||!K.state||!K.output||!K.input&&K.avail_in!==0)return v;(q=K.state).mode===12&&(q.mode=13),ge=K.next_out,ue=K.output,ce=K.avail_out,de=K.next_in,fe=K.input,Ie=K.avail_in,Te=q.hold,re=q.bits,te=Ie,ke=ce,Le=C;e:for(;;)switch(q.mode){case D:if(q.wrap===0){q.mode=13;break}for(;re<16;){if(Ie===0)break e;Ie--,Te+=fe[de++]<<re,re+=8}if(2&q.wrap&&Te===35615){Ne[q.check=0]=255&Te,Ne[1]=Te>>>8&255,q.check=p(q.check,Ne,2,0),re=Te=0,q.mode=2;break}if(q.flags=0,q.head&&(q.head.done=!1),!(1&q.wrap)||(((255&Te)<<8)+(Te>>8))%31){K.msg="incorrect header check",q.mode=30;break}if((15&Te)!=8){K.msg="unknown compression method",q.mode=30;break}if(re-=4,oe=8+(15&(Te>>>=4)),q.wbits===0)q.wbits=oe;else if(oe>q.wbits){K.msg="invalid window size",q.mode=30;break}q.dmax=1<<oe,K.adler=q.check=1,q.mode=512&Te?10:12,re=Te=0;break;case 2:for(;re<16;){if(Ie===0)break e;Ie--,Te+=fe[de++]<<re,re+=8}if(q.flags=Te,(255&q.flags)!=8){K.msg="unknown compression method",q.mode=30;break}if(57344&q.flags){K.msg="unknown header flags set",q.mode=30;break}q.head&&(q.head.text=Te>>8&1),512&q.flags&&(Ne[0]=255&Te,Ne[1]=Te>>>8&255,q.check=p(q.check,Ne,2,0)),re=Te=0,q.mode=3;case 3:for(;re<32;){if(Ie===0)break e;Ie--,Te+=fe[de++]<<re,re+=8}q.head&&(q.head.time=Te),512&q.flags&&(Ne[0]=255&Te,Ne[1]=Te>>>8&255,Ne[2]=Te>>>16&255,Ne[3]=Te>>>24&255,q.check=p(q.check,Ne,4,0)),re=Te=0,q.mode=4;case 4:for(;re<16;){if(Ie===0)break e;Ie--,Te+=fe[de++]<<re,re+=8}q.head&&(q.head.xflags=255&Te,q.head.os=Te>>8),512&q.flags&&(Ne[0]=255&Te,Ne[1]=Te>>>8&255,q.check=p(q.check,Ne,2,0)),re=Te=0,q.mode=5;case 5:if(1024&q.flags){for(;re<16;){if(Ie===0)break e;Ie--,Te+=fe[de++]<<re,re+=8}q.length=Te,q.head&&(q.head.extra_len=Te),512&q.flags&&(Ne[0]=255&Te,Ne[1]=Te>>>8&255,q.check=p(q.check,Ne,2,0)),re=Te=0}else q.head&&(q.head.extra=null);q.mode=6;case 6:if(1024&q.flags&&(Ie<(be=q.length)&&(be=Ie),be&&(q.head&&(oe=q.head.extra_len-q.length,q.head.extra||(q.head.extra=new Array(q.head.extra_len)),c.arraySet(q.head.extra,fe,de,be,oe)),512&q.flags&&(q.check=p(q.check,fe,be,de)),Ie-=be,de+=be,q.length-=be),q.length))break e;q.length=0,q.mode=7;case 7:if(2048&q.flags){if(Ie===0)break e;for(be=0;oe=fe[de+be++],q.head&&oe&&q.length<65536&&(q.head.name+=String.fromCharCode(oe)),oe&&be<Ie;);if(512&q.flags&&(q.check=p(q.check,fe,be,de)),Ie-=be,de+=be,oe)break e}else q.head&&(q.head.name=null);q.length=0,q.mode=8;case 8:if(4096&q.flags){if(Ie===0)break e;for(be=0;oe=fe[de+be++],q.head&&oe&&q.length<65536&&(q.head.comment+=String.fromCharCode(oe)),oe&&be<Ie;);if(512&q.flags&&(q.check=p(q.check,fe,be,de)),Ie-=be,de+=be,oe)break e}else q.head&&(q.head.comment=null);q.mode=9;case 9:if(512&q.flags){for(;re<16;){if(Ie===0)break e;Ie--,Te+=fe[de++]<<re,re+=8}if(Te!==(65535&q.check)){K.msg="header crc mismatch",q.mode=30;break}re=Te=0}q.head&&(q.head.hcrc=q.flags>>9&1,q.head.done=!0),K.adler=q.check=0,q.mode=12;break;case 10:for(;re<32;){if(Ie===0)break e;Ie--,Te+=fe[de++]<<re,re+=8}K.adler=q.check=M(Te),re=Te=0,q.mode=11;case 11:if(q.havedict===0)return K.next_out=ge,K.avail_out=ce,K.next_in=de,K.avail_in=Ie,q.hold=Te,q.bits=re,2;K.adler=q.check=1,q.mode=12;case 12:if(U===5||U===6)break e;case 13:if(q.last){Te>>>=7&re,re-=7&re,q.mode=27;break}for(;re<3;){if(Ie===0)break e;Ie--,Te+=fe[de++]<<re,re+=8}switch(q.last=1&Te,re-=1,3&(Te>>>=1)){case 0:q.mode=14;break;case 1:if(se(q),q.mode=20,U!==6)break;Te>>>=2,re-=2;break e;case 2:q.mode=17;break;case 3:K.msg="invalid block type",q.mode=30}Te>>>=2,re-=2;break;case 14:for(Te>>>=7&re,re-=7&re;re<32;){if(Ie===0)break e;Ie--,Te+=fe[de++]<<re,re+=8}if((65535&Te)!=(Te>>>16^65535)){K.msg="invalid stored block lengths",q.mode=30;break}if(q.length=65535&Te,re=Te=0,q.mode=15,U===6)break e;case 15:q.mode=16;case 16:if(be=q.length){if(Ie<be&&(be=Ie),ce<be&&(be=ce),be===0)break e;c.arraySet(ue,fe,de,be,ge),Ie-=be,de+=be,ce-=be,ge+=be,q.length-=be;break}q.mode=12;break;case 17:for(;re<14;){if(Ie===0)break e;Ie--,Te+=fe[de++]<<re,re+=8}if(q.nlen=257+(31&Te),Te>>>=5,re-=5,q.ndist=1+(31&Te),Te>>>=5,re-=5,q.ncode=4+(15&Te),Te>>>=4,re-=4,286<q.nlen||30<q.ndist){K.msg="too many length or distance symbols",q.mode=30;break}q.have=0,q.mode=18;case 18:for(;q.have<q.ncode;){for(;re<3;){if(Ie===0)break e;Ie--,Te+=fe[de++]<<re,re+=8}q.lens[Ke[q.have++]]=7&Te,Te>>>=3,re-=3}for(;q.have<19;)q.lens[Ke[q.have++]]=0;if(q.lencode=q.lendyn,q.lenbits=7,we={bits:q.lenbits},Le=k(0,q.lens,0,19,q.lencode,0,q.work,we),q.lenbits=we.bits,Le){K.msg="invalid code lengths set",q.mode=30;break}q.have=0,q.mode=19;case 19:for(;q.have<q.nlen+q.ndist;){for(;Ue=(Ae=q.lencode[Te&(1<<q.lenbits)-1])>>>16&255,Ze=65535&Ae,!((Oe=Ae>>>24)<=re);){if(Ie===0)break e;Ie--,Te+=fe[de++]<<re,re+=8}if(Ze<16)Te>>>=Oe,re-=Oe,q.lens[q.have++]=Ze;else{if(Ze===16){for(Ee=Oe+2;re<Ee;){if(Ie===0)break e;Ie--,Te+=fe[de++]<<re,re+=8}if(Te>>>=Oe,re-=Oe,q.have===0){K.msg="invalid bit length repeat",q.mode=30;break}oe=q.lens[q.have-1],be=3+(3&Te),Te>>>=2,re-=2}else if(Ze===17){for(Ee=Oe+3;re<Ee;){if(Ie===0)break e;Ie--,Te+=fe[de++]<<re,re+=8}re-=Oe,oe=0,be=3+(7&(Te>>>=Oe)),Te>>>=3,re-=3}else{for(Ee=Oe+7;re<Ee;){if(Ie===0)break e;Ie--,Te+=fe[de++]<<re,re+=8}re-=Oe,oe=0,be=11+(127&(Te>>>=Oe)),Te>>>=7,re-=7}if(q.have+be>q.nlen+q.ndist){K.msg="invalid bit length repeat",q.mode=30;break}for(;be--;)q.lens[q.have++]=oe}}if(q.mode===30)break;if(q.lens[256]===0){K.msg="invalid code -- missing end-of-block",q.mode=30;break}if(q.lenbits=9,we={bits:q.lenbits},Le=k(w,q.lens,0,q.nlen,q.lencode,0,q.work,we),q.lenbits=we.bits,Le){K.msg="invalid literal/lengths set",q.mode=30;break}if(q.distbits=6,q.distcode=q.distdyn,we={bits:q.distbits},Le=k(_,q.lens,q.nlen,q.ndist,q.distcode,0,q.work,we),q.distbits=we.bits,Le){K.msg="invalid distances set",q.mode=30;break}if(q.mode=20,U===6)break e;case 20:q.mode=21;case 21:if(6<=Ie&&258<=ce){K.next_out=ge,K.avail_out=ce,K.next_in=de,K.avail_in=Ie,q.hold=Te,q.bits=re,m(K,ke),ge=K.next_out,ue=K.output,ce=K.avail_out,de=K.next_in,fe=K.input,Ie=K.avail_in,Te=q.hold,re=q.bits,q.mode===12&&(q.back=-1);break}for(q.back=0;Ue=(Ae=q.lencode[Te&(1<<q.lenbits)-1])>>>16&255,Ze=65535&Ae,!((Oe=Ae>>>24)<=re);){if(Ie===0)break e;Ie--,Te+=fe[de++]<<re,re+=8}if(Ue&&(240&Ue)==0){for(Ge=Oe,ft=Ue,gt=Ze;Ue=(Ae=q.lencode[gt+((Te&(1<<Ge+ft)-1)>>Ge)])>>>16&255,Ze=65535&Ae,!(Ge+(Oe=Ae>>>24)<=re);){if(Ie===0)break e;Ie--,Te+=fe[de++]<<re,re+=8}Te>>>=Ge,re-=Ge,q.back+=Ge}if(Te>>>=Oe,re-=Oe,q.back+=Oe,q.length=Ze,Ue===0){q.mode=26;break}if(32&Ue){q.back=-1,q.mode=12;break}if(64&Ue){K.msg="invalid literal/length code",q.mode=30;break}q.extra=15&Ue,q.mode=22;case 22:if(q.extra){for(Ee=q.extra;re<Ee;){if(Ie===0)break e;Ie--,Te+=fe[de++]<<re,re+=8}q.length+=Te&(1<<q.extra)-1,Te>>>=q.extra,re-=q.extra,q.back+=q.extra}q.was=q.length,q.mode=23;case 23:for(;Ue=(Ae=q.distcode[Te&(1<<q.distbits)-1])>>>16&255,Ze=65535&Ae,!((Oe=Ae>>>24)<=re);){if(Ie===0)break e;Ie--,Te+=fe[de++]<<re,re+=8}if((240&Ue)==0){for(Ge=Oe,ft=Ue,gt=Ze;Ue=(Ae=q.distcode[gt+((Te&(1<<Ge+ft)-1)>>Ge)])>>>16&255,Ze=65535&Ae,!(Ge+(Oe=Ae>>>24)<=re);){if(Ie===0)break e;Ie--,Te+=fe[de++]<<re,re+=8}Te>>>=Ge,re-=Ge,q.back+=Ge}if(Te>>>=Oe,re-=Oe,q.back+=Oe,64&Ue){K.msg="invalid distance code",q.mode=30;break}q.offset=Ze,q.extra=15&Ue,q.mode=24;case 24:if(q.extra){for(Ee=q.extra;re<Ee;){if(Ie===0)break e;Ie--,Te+=fe[de++]<<re,re+=8}q.offset+=Te&(1<<q.extra)-1,Te>>>=q.extra,re-=q.extra,q.back+=q.extra}if(q.offset>q.dmax){K.msg="invalid distance too far back",q.mode=30;break}q.mode=25;case 25:if(ce===0)break e;if(be=ke-ce,q.offset>be){if((be=q.offset-be)>q.whave&&q.sane){K.msg="invalid distance too far back",q.mode=30;break}ve=be>q.wnext?(be-=q.wnext,q.wsize-be):q.wnext-be,be>q.length&&(be=q.length),Re=q.window}else Re=ue,ve=ge-q.offset,be=q.length;for(ce<be&&(be=ce),ce-=be,q.length-=be;ue[ge++]=Re[ve++],--be;);q.length===0&&(q.mode=21);break;case 26:if(ce===0)break e;ue[ge++]=q.length,ce--,q.mode=21;break;case 27:if(q.wrap){for(;re<32;){if(Ie===0)break e;Ie--,Te|=fe[de++]<<re,re+=8}if(ke-=ce,K.total_out+=ke,q.total+=ke,ke&&(K.adler=q.check=q.flags?p(q.check,ue,ke,ge-ke):d(q.check,ue,ke,ge-ke)),ke=ce,(q.flags?Te:M(Te))!==q.check){K.msg="incorrect data check",q.mode=30;break}re=Te=0}q.mode=28;case 28:if(q.wrap&&q.flags){for(;re<32;){if(Ie===0)break e;Ie--,Te+=fe[de++]<<re,re+=8}if(Te!==(4294967295&q.total)){K.msg="incorrect length check",q.mode=30;break}re=Te=0}q.mode=29;case 29:Le=1;break e;case 30:Le=-3;break e;case 31:return-4;case 32:default:return v}return K.next_out=ge,K.avail_out=ce,K.next_in=de,K.avail_in=Ie,q.hold=Te,q.bits=re,(q.wsize||ke!==K.avail_out&&q.mode<30&&(q.mode<27||U!==4))&&X(K,K.output,K.next_out,ke-K.avail_out)?(q.mode=31,-4):(te-=K.avail_in,ke-=K.avail_out,K.total_in+=te,K.total_out+=ke,q.total+=ke,q.wrap&&ke&&(K.adler=q.check=q.flags?p(q.check,ue,ke,K.next_out-ke):d(q.check,ue,ke,K.next_out-ke)),K.data_type=q.bits+(q.last?64:0)+(q.mode===12?128:0)+(q.mode===20||q.mode===15?256:0),(te==0&&ke===0||U===4)&&Le===C&&(Le=-5),Le)},a.inflateEnd=function(K){if(!K||!K.state)return v;var U=K.state;return U.window&&(U.window=null),K.state=null,C},a.inflateGetHeader=function(K,U){var q;return K&&K.state?(2&(q=K.state).wrap)==0?v:((q.head=U).done=!1,C):v},a.inflateSetDictionary=function(K,U){var q,fe=U.length;return K&&K.state?(q=K.state).wrap!==0&&q.mode!==11?v:q.mode===11&&d(1,U,fe,0)!==q.check?-3:X(K,U,fe,fe)?(q.mode=31,-4):(q.havedict=1,C):v},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,o,a){var c=r("../utils/common"),d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],p=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],m=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],k=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(w,_,C,v,D,E,O,M){var j,F,G,J,H,z,Z,Y,se,X=M.bits,K=0,U=0,q=0,fe=0,ue=0,de=0,ge=0,Ie=0,ce=0,Te=0,re=null,te=0,ke=new c.Buf16(16),be=new c.Buf16(16),ve=null,Re=0;for(K=0;K<=15;K++)ke[K]=0;for(U=0;U<v;U++)ke[_[C+U]]++;for(ue=X,fe=15;1<=fe&&ke[fe]===0;fe--);if(fe<ue&&(ue=fe),fe===0)return D[E++]=20971520,D[E++]=20971520,M.bits=1,0;for(q=1;q<fe&&ke[q]===0;q++);for(ue<q&&(ue=q),K=Ie=1;K<=15;K++)if(Ie<<=1,(Ie-=ke[K])<0)return-1;if(0<Ie&&(w===0||fe!==1))return-1;for(be[1]=0,K=1;K<15;K++)be[K+1]=be[K]+ke[K];for(U=0;U<v;U++)_[C+U]!==0&&(O[be[_[C+U]]++]=U);if(z=w===0?(re=ve=O,19):w===1?(re=d,te-=257,ve=p,Re-=257,256):(re=m,ve=k,-1),K=q,H=E,ge=U=Te=0,G=-1,J=(ce=1<<(de=ue))-1,w===1&&852<ce||w===2&&592<ce)return 1;for(;;){for(Z=K-ge,se=O[U]<z?(Y=0,O[U]):O[U]>z?(Y=ve[Re+O[U]],re[te+O[U]]):(Y=96,0),j=1<<K-ge,q=F=1<<de;D[H+(Te>>ge)+(F-=j)]=Z<<24|Y<<16|se|0,F!==0;);for(j=1<<K-1;Te&j;)j>>=1;if(j!==0?(Te&=j-1,Te+=j):Te=0,U++,--ke[K]==0){if(K===fe)break;K=_[C+O[U]]}if(ue<K&&(Te&J)!==G){for(ge===0&&(ge=ue),H+=q,Ie=1<<(de=K-ge);de+ge<fe&&!((Ie-=ke[de+ge])<=0);)de++,Ie<<=1;if(ce+=1<<de,w===1&&852<ce||w===2&&592<ce)return 1;D[G=Te&J]=ue<<24|de<<16|H-E|0}}return Te!==0&&(D[H+Te]=K-ge<<24|64<<16|0),M.bits=ue,0}},{"../utils/common":41}],51:[function(r,o,a){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,o,a){var c=r("../utils/common"),d=0,p=1;function m(Ae){for(var Ne=Ae.length;0<=--Ne;)Ae[Ne]=0}var k=0,w=29,_=256,C=_+1+w,v=30,D=19,E=2*C+1,O=15,M=16,j=7,F=256,G=16,J=17,H=18,z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],se=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],X=new Array(2*(C+2));m(X);var K=new Array(2*v);m(K);var U=new Array(512);m(U);var q=new Array(256);m(q);var fe=new Array(w);m(fe);var ue,de,ge,Ie=new Array(v);function ce(Ae,Ne,Ke,Xe,ze){this.static_tree=Ae,this.extra_bits=Ne,this.extra_base=Ke,this.elems=Xe,this.max_length=ze,this.has_stree=Ae&&Ae.length}function Te(Ae,Ne){this.dyn_tree=Ae,this.max_code=0,this.stat_desc=Ne}function re(Ae){return Ae<256?U[Ae]:U[256+(Ae>>>7)]}function te(Ae,Ne){Ae.pending_buf[Ae.pending++]=255&Ne,Ae.pending_buf[Ae.pending++]=Ne>>>8&255}function ke(Ae,Ne,Ke){Ae.bi_valid>M-Ke?(Ae.bi_buf|=Ne<<Ae.bi_valid&65535,te(Ae,Ae.bi_buf),Ae.bi_buf=Ne>>M-Ae.bi_valid,Ae.bi_valid+=Ke-M):(Ae.bi_buf|=Ne<<Ae.bi_valid&65535,Ae.bi_valid+=Ke)}function be(Ae,Ne,Ke){ke(Ae,Ke[2*Ne],Ke[2*Ne+1])}function ve(Ae,Ne){for(var Ke=0;Ke|=1&Ae,Ae>>>=1,Ke<<=1,0<--Ne;);return Ke>>>1}function Re(Ae,Ne,Ke){var Xe,ze,dt=new Array(O+1),wt=0;for(Xe=1;Xe<=O;Xe++)dt[Xe]=wt=wt+Ke[Xe-1]<<1;for(ze=0;ze<=Ne;ze++){var ot=Ae[2*ze+1];ot!==0&&(Ae[2*ze]=ve(dt[ot]++,ot))}}function Oe(Ae){var Ne;for(Ne=0;Ne<C;Ne++)Ae.dyn_ltree[2*Ne]=0;for(Ne=0;Ne<v;Ne++)Ae.dyn_dtree[2*Ne]=0;for(Ne=0;Ne<D;Ne++)Ae.bl_tree[2*Ne]=0;Ae.dyn_ltree[2*F]=1,Ae.opt_len=Ae.static_len=0,Ae.last_lit=Ae.matches=0}function Ue(Ae){8<Ae.bi_valid?te(Ae,Ae.bi_buf):0<Ae.bi_valid&&(Ae.pending_buf[Ae.pending++]=Ae.bi_buf),Ae.bi_buf=0,Ae.bi_valid=0}function Ze(Ae,Ne,Ke,Xe){var ze=2*Ne,dt=2*Ke;return Ae[ze]<Ae[dt]||Ae[ze]===Ae[dt]&&Xe[Ne]<=Xe[Ke]}function Ge(Ae,Ne,Ke){for(var Xe=Ae.heap[Ke],ze=Ke<<1;ze<=Ae.heap_len&&(ze<Ae.heap_len&&Ze(Ne,Ae.heap[ze+1],Ae.heap[ze],Ae.depth)&&ze++,!Ze(Ne,Xe,Ae.heap[ze],Ae.depth));)Ae.heap[Ke]=Ae.heap[ze],Ke=ze,ze<<=1;Ae.heap[Ke]=Xe}function ft(Ae,Ne,Ke){var Xe,ze,dt,wt,ot=0;if(Ae.last_lit!==0)for(;Xe=Ae.pending_buf[Ae.d_buf+2*ot]<<8|Ae.pending_buf[Ae.d_buf+2*ot+1],ze=Ae.pending_buf[Ae.l_buf+ot],ot++,Xe===0?be(Ae,ze,Ne):(be(Ae,(dt=q[ze])+_+1,Ne),(wt=z[dt])!==0&&ke(Ae,ze-=fe[dt],wt),be(Ae,dt=re(--Xe),Ke),(wt=Z[dt])!==0&&ke(Ae,Xe-=Ie[dt],wt)),ot<Ae.last_lit;);be(Ae,F,Ne)}function gt(Ae,Ne){var Ke,Xe,ze,dt=Ne.dyn_tree,wt=Ne.stat_desc.static_tree,ot=Ne.stat_desc.has_stree,pt=Ne.stat_desc.elems,He=-1;for(Ae.heap_len=0,Ae.heap_max=E,Ke=0;Ke<pt;Ke++)dt[2*Ke]!==0?(Ae.heap[++Ae.heap_len]=He=Ke,Ae.depth[Ke]=0):dt[2*Ke+1]=0;for(;Ae.heap_len<2;)dt[2*(ze=Ae.heap[++Ae.heap_len]=He<2?++He:0)]=1,Ae.depth[ze]=0,Ae.opt_len--,ot&&(Ae.static_len-=wt[2*ze+1]);for(Ne.max_code=He,Ke=Ae.heap_len>>1;1<=Ke;Ke--)Ge(Ae,dt,Ke);for(ze=pt;Ke=Ae.heap[1],Ae.heap[1]=Ae.heap[Ae.heap_len--],Ge(Ae,dt,1),Xe=Ae.heap[1],Ae.heap[--Ae.heap_max]=Ke,Ae.heap[--Ae.heap_max]=Xe,dt[2*ze]=dt[2*Ke]+dt[2*Xe],Ae.depth[ze]=(Ae.depth[Ke]>=Ae.depth[Xe]?Ae.depth[Ke]:Ae.depth[Xe])+1,dt[2*Ke+1]=dt[2*Xe+1]=ze,Ae.heap[1]=ze++,Ge(Ae,dt,1),2<=Ae.heap_len;);Ae.heap[--Ae.heap_max]=Ae.heap[1],function(at,kt){var Gt,yt,jn,on,kr,xn,In=kt.dyn_tree,Fn=kt.max_code,Gn=kt.stat_desc.static_tree,ei=kt.stat_desc.has_stree,tr=kt.stat_desc.extra_bits,wr=kt.stat_desc.extra_base,mr=kt.stat_desc.max_length,vr=0;for(on=0;on<=O;on++)at.bl_count[on]=0;for(In[2*at.heap[at.heap_max]+1]=0,Gt=at.heap_max+1;Gt<E;Gt++)mr<(on=In[2*In[2*(yt=at.heap[Gt])+1]+1]+1)&&(on=mr,vr++),In[2*yt+1]=on,Fn<yt||(at.bl_count[on]++,kr=0,wr<=yt&&(kr=tr[yt-wr]),xn=In[2*yt],at.opt_len+=xn*(on+kr),ei&&(at.static_len+=xn*(Gn[2*yt+1]+kr)));if(vr!==0){do{for(on=mr-1;at.bl_count[on]===0;)on--;at.bl_count[on]--,at.bl_count[on+1]+=2,at.bl_count[mr]--,vr-=2}while(0<vr);for(on=mr;on!==0;on--)for(yt=at.bl_count[on];yt!==0;)Fn<(jn=at.heap[--Gt])||(In[2*jn+1]!==on&&(at.opt_len+=(on-In[2*jn+1])*In[2*jn],In[2*jn+1]=on),yt--)}}(Ae,Ne),Re(dt,He,Ae.bl_count)}function oe(Ae,Ne,Ke){var Xe,ze,dt=-1,wt=Ne[1],ot=0,pt=7,He=4;for(wt===0&&(pt=138,He=3),Ne[2*(Ke+1)+1]=65535,Xe=0;Xe<=Ke;Xe++)ze=wt,wt=Ne[2*(Xe+1)+1],++ot<pt&&ze===wt||(ot<He?Ae.bl_tree[2*ze]+=ot:ze!==0?(ze!==dt&&Ae.bl_tree[2*ze]++,Ae.bl_tree[2*G]++):ot<=10?Ae.bl_tree[2*J]++:Ae.bl_tree[2*H]++,dt=ze,He=(ot=0)===wt?(pt=138,3):ze===wt?(pt=6,3):(pt=7,4))}function Le(Ae,Ne,Ke){var Xe,ze,dt=-1,wt=Ne[1],ot=0,pt=7,He=4;for(wt===0&&(pt=138,He=3),Xe=0;Xe<=Ke;Xe++)if(ze=wt,wt=Ne[2*(Xe+1)+1],!(++ot<pt&&ze===wt)){if(ot<He)for(;be(Ae,ze,Ae.bl_tree),--ot!=0;);else ze!==0?(ze!==dt&&(be(Ae,ze,Ae.bl_tree),ot--),be(Ae,G,Ae.bl_tree),ke(Ae,ot-3,2)):ot<=10?(be(Ae,J,Ae.bl_tree),ke(Ae,ot-3,3)):(be(Ae,H,Ae.bl_tree),ke(Ae,ot-11,7));dt=ze,He=(ot=0)===wt?(pt=138,3):ze===wt?(pt=6,3):(pt=7,4)}}m(Ie);var we=!1;function Ee(Ae,Ne,Ke,Xe){ke(Ae,(k<<1)+(Xe?1:0),3),function(ze,dt,wt,ot){Ue(ze),te(ze,wt),te(ze,~wt),c.arraySet(ze.pending_buf,ze.window,dt,wt,ze.pending),ze.pending+=wt}(Ae,Ne,Ke)}a._tr_init=function(Ae){we||(function(){var Ne,Ke,Xe,ze,dt,wt=new Array(O+1);for(ze=Xe=0;ze<w-1;ze++)for(fe[ze]=Xe,Ne=0;Ne<1<<z[ze];Ne++)q[Xe++]=ze;for(q[Xe-1]=ze,ze=dt=0;ze<16;ze++)for(Ie[ze]=dt,Ne=0;Ne<1<<Z[ze];Ne++)U[dt++]=ze;for(dt>>=7;ze<v;ze++)for(Ie[ze]=dt<<7,Ne=0;Ne<1<<Z[ze]-7;Ne++)U[256+dt++]=ze;for(Ke=0;Ke<=O;Ke++)wt[Ke]=0;for(Ne=0;Ne<=143;)X[2*Ne+1]=8,Ne++,wt[8]++;for(;Ne<=255;)X[2*Ne+1]=9,Ne++,wt[9]++;for(;Ne<=279;)X[2*Ne+1]=7,Ne++,wt[7]++;for(;Ne<=287;)X[2*Ne+1]=8,Ne++,wt[8]++;for(Re(X,C+1,wt),Ne=0;Ne<v;Ne++)K[2*Ne+1]=5,K[2*Ne]=ve(Ne,5);ue=new ce(X,z,_+1,C,O),de=new ce(K,Z,0,v,O),ge=new ce(new Array(0),Y,0,D,j)}(),we=!0),Ae.l_desc=new Te(Ae.dyn_ltree,ue),Ae.d_desc=new Te(Ae.dyn_dtree,de),Ae.bl_desc=new Te(Ae.bl_tree,ge),Ae.bi_buf=0,Ae.bi_valid=0,Oe(Ae)},a._tr_stored_block=Ee,a._tr_flush_block=function(Ae,Ne,Ke,Xe){var ze,dt,wt=0;0<Ae.level?(Ae.strm.data_type===2&&(Ae.strm.data_type=function(ot){var pt,He=4093624447;for(pt=0;pt<=31;pt++,He>>>=1)if(1&He&&ot.dyn_ltree[2*pt]!==0)return d;if(ot.dyn_ltree[18]!==0||ot.dyn_ltree[20]!==0||ot.dyn_ltree[26]!==0)return p;for(pt=32;pt<_;pt++)if(ot.dyn_ltree[2*pt]!==0)return p;return d}(Ae)),gt(Ae,Ae.l_desc),gt(Ae,Ae.d_desc),wt=function(ot){var pt;for(oe(ot,ot.dyn_ltree,ot.l_desc.max_code),oe(ot,ot.dyn_dtree,ot.d_desc.max_code),gt(ot,ot.bl_desc),pt=D-1;3<=pt&&ot.bl_tree[2*se[pt]+1]===0;pt--);return ot.opt_len+=3*(pt+1)+5+5+4,pt}(Ae),ze=Ae.opt_len+3+7>>>3,(dt=Ae.static_len+3+7>>>3)<=ze&&(ze=dt)):ze=dt=Ke+5,Ke+4<=ze&&Ne!==-1?Ee(Ae,Ne,Ke,Xe):Ae.strategy===4||dt===ze?(ke(Ae,2+(Xe?1:0),3),ft(Ae,X,K)):(ke(Ae,4+(Xe?1:0),3),function(ot,pt,He,at){var kt;for(ke(ot,pt-257,5),ke(ot,He-1,5),ke(ot,at-4,4),kt=0;kt<at;kt++)ke(ot,ot.bl_tree[2*se[kt]+1],3);Le(ot,ot.dyn_ltree,pt-1),Le(ot,ot.dyn_dtree,He-1)}(Ae,Ae.l_desc.max_code+1,Ae.d_desc.max_code+1,wt+1),ft(Ae,Ae.dyn_ltree,Ae.dyn_dtree)),Oe(Ae),Xe&&Ue(Ae)},a._tr_tally=function(Ae,Ne,Ke){return Ae.pending_buf[Ae.d_buf+2*Ae.last_lit]=Ne>>>8&255,Ae.pending_buf[Ae.d_buf+2*Ae.last_lit+1]=255&Ne,Ae.pending_buf[Ae.l_buf+Ae.last_lit]=255&Ke,Ae.last_lit++,Ne===0?Ae.dyn_ltree[2*Ke]++:(Ae.matches++,Ne--,Ae.dyn_ltree[2*(q[Ke]+_+1)]++,Ae.dyn_dtree[2*re(Ne)]++),Ae.last_lit===Ae.lit_bufsize-1},a._tr_align=function(Ae){ke(Ae,2,3),be(Ae,F,X),function(Ne){Ne.bi_valid===16?(te(Ne,Ne.bi_buf),Ne.bi_buf=0,Ne.bi_valid=0):8<=Ne.bi_valid&&(Ne.pending_buf[Ne.pending++]=255&Ne.bi_buf,Ne.bi_buf>>=8,Ne.bi_valid-=8)}(Ae)}},{"../utils/common":41}],53:[function(r,o,a){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,o,a){(function(c){(function(d,p){if(!d.setImmediate){var m,k,w,_,C=1,v={},D=!1,E=d.document,O=Object.getPrototypeOf&&Object.getPrototypeOf(d);O=O&&O.setTimeout?O:d,m={}.toString.call(d.process)==="[object process]"?function(G){process.nextTick(function(){j(G)})}:function(){if(d.postMessage&&!d.importScripts){var G=!0,J=d.onmessage;return d.onmessage=function(){G=!1},d.postMessage("","*"),d.onmessage=J,G}}()?(_="setImmediate$"+Math.random()+"$",d.addEventListener?d.addEventListener("message",F,!1):d.attachEvent("onmessage",F),function(G){d.postMessage(_+G,"*")}):d.MessageChannel?((w=new MessageChannel).port1.onmessage=function(G){j(G.data)},function(G){w.port2.postMessage(G)}):E&&"onreadystatechange"in E.createElement("script")?(k=E.documentElement,function(G){var J=E.createElement("script");J.onreadystatechange=function(){j(G),J.onreadystatechange=null,k.removeChild(J),J=null},k.appendChild(J)}):function(G){setTimeout(j,0,G)},O.setImmediate=function(G){typeof G!="function"&&(G=new Function(""+G));for(var J=new Array(arguments.length-1),H=0;H<J.length;H++)J[H]=arguments[H+1];var z={callback:G,args:J};return v[C]=z,m(C),C++},O.clearImmediate=M}function M(G){delete v[G]}function j(G){if(D)setTimeout(j,0,G);else{var J=v[G];if(J){D=!0;try{(function(H){var z=H.callback,Z=H.args;switch(Z.length){case 0:z();break;case 1:z(Z[0]);break;case 2:z(Z[0],Z[1]);break;case 3:z(Z[0],Z[1],Z[2]);break;default:z.apply(p,Z)}})(J)}finally{M(G),D=!1}}}}function F(G){G.source===d&&typeof G.data=="string"&&G.data.indexOf(_)===0&&j(+G.data.slice(_.length))}})(typeof self>"u"?c===void 0?this:c:self)}).call(this,typeof Em<"u"?Em:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(eE)),eE.exports}var pre=fre();const mre=Si(pre),gre=async(t,i,r)=>{const o=new mre,a=["timestamp,question,answer"];i.forEach(({timestamp:m,question:k,answer:w})=>{a.push(`"${new Date(m).toLocaleString()}","${k.replace(/"/g,'""')}","${w.replace(/"/g,'""')}"`)}),o.file(`${t}.csv`,a.join(`
`)),o.file(`${t}_metadata.json`,JSON.stringify(r,null,4));const c=await o.generateAsync({type:"blob"}),d=URL.createObjectURL(c),p=document.createElement("a");p.href=d,p.download=`${t}.zip`,document.body.appendChild(p),p.click(),document.body.removeChild(p)},bre=hf(Be)({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"600px",maxHeight:"80vh",overflowY:"auto",backgroundColor:"#fff",borderRadius:"10px",boxShadow:"0px 5px 15px rgba(0,0,0,0.2)",padding:"20px"}),kre=hf(Be)({marginBottom:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"}),wre=({open:t,onClose:i,conversationHistory:r,conversationId:o,conversationHistoryError:a,chatbotDetails:c,userId:d,startedAt:p})=>{const m=async()=>{const k={conversationId:o,userId:d,chatbotId:c.chatbotId,chatbotTitle:c.chatbotTitle,startedAt:new Date(p).toLocaleString(),courseTitle:c.courseTitle,courseId:c.courseId,materialTitle:c.materialTitle,materialId:c.materialId,materialLink:c.materialLink,chatbotCreatedBy:c.chatbotCreatedBy,chatbotCreatedAt:new Date(c.chatbotCreatedAt).toLocaleString()};await gre(o,r,k)};return x.jsx(Tx,{open:t,onClose:i,children:x.jsxs(bre,{children:[x.jsxs(kre,{children:[x.jsxs(Pe,{variant:"h6",children:["Conversation History for ",o]}),x.jsx(Dl,{title:"Download ZIP",children:x.jsx(ur,{onClick:m,"aria-label":"Download as ZIP",children:x.jsx(e7,{})})})]}),a&&x.jsx(Pe,{color:"error",sx:{marginBottom:"20px"},children:a}),r.length===0?x.jsx(Pe,{children:"No messages found in this conversation."}):x.jsx(nx,{children:r.map((k,w)=>x.jsx(W0,{sx:{padding:"10px 0"},children:x.jsx(Wg,{primary:`Q: ${k.question}`,secondary:`A: ${k.answer} (${new Date(k.timestamp).toLocaleString()})`})},w))}),x.jsx(xt,{variant:"contained",onClick:i,style:{marginTop:"20px",backgroundColor:"#000",color:"#fff"},children:"Close"})]})})},vre=({totalItems:t,itemsPerPage:i,currentPage:r,onPageChange:o})=>{const a=Math.ceil(t/i),c=()=>{r>1&&o(r-1)},d=()=>{r<a&&o(r+1)};return x.jsxs(Be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:3},children:[x.jsx(xt,{variant:"outlined",disabled:r===1,onClick:c,children:"Previous"}),x.jsxs(Pe,{variant:"body1",children:["Page ",r," of ",a]}),x.jsx(xt,{variant:"outlined",disabled:r===a,onClick:d,children:"Next"})]})},yre=({chatbotId:t})=>{const i=Rr(),[r,o]=ae.useState(null),[a,c]=ae.useState(!0),[d,p]=ae.useState(null);if(ae.useEffect(()=>{t!=="All"&&(async()=>{c(!0),p(null);try{const j=Xd(dr(i,"chatbots"),nd("chatbotId","==",t)),F=await Qo(j);F.empty?p("Chatbot details not found!"):o(F.docs[0].data())}catch(j){console.error("Error fetching chatbot details:",j),p("Failed to fetch chatbot details.")}finally{c(!1)}})()},[i,t]),a)return x.jsx(Be,{sx:{mt:3},children:x.jsx(ji,{})});if(d)return x.jsx(Pe,{variant:"body1",color:"error",sx:{mt:3},children:d});if(!r)return null;const{title:m="N/A",courseId:k,createdBy:w="Unknown",timestamp:_,material:C}=r,v=(k==null?void 0:k.title)||"N/A",D=(C==null?void 0:C.title)||"N/A",E=(C==null?void 0:C.id)||"N/A",O=`https://institute-for-future-intelligence.github.io/nexlab/view-material/${E}`;return x.jsxs(Be,{sx:{mt:3,p:2,border:"1px solid #ddd",borderRadius:"8px",backgroundColor:"#f9f9f9"},children:[x.jsx(Pe,{variant:"h6",children:"Chatbot Details"}),x.jsxs(Pe,{variant:"body1",children:[x.jsx("strong",{children:"Title:"})," ",m]}),x.jsxs(Pe,{variant:"body1",children:[x.jsx("strong",{children:"Course:"})," ",v]}),x.jsxs(Pe,{variant:"body1",children:[x.jsx("strong",{children:"Material:"})," ",E!=="N/A"?x.jsx(Iy,{href:O,target:"_blank",rel:"noopener noreferrer",children:D}):D]}),x.jsx(iu,{sx:{my:2}}),x.jsxs(Pe,{variant:"body1",children:[x.jsx("strong",{children:"Created By:"})," ",w]}),x.jsxs(Pe,{variant:"body1",children:[x.jsx("strong",{children:"Created At:"})," ",_?new Date(_).toLocaleString():"N/A"]})]})},cO=hf(xt)({width:100,height:40,display:"flex",alignItems:"center",justifyContent:"center"}),Are=({open:t,onClose:i,onConfirm:r,conversationId:o,deleting:a})=>x.jsxs(Ms,{open:t,onClose:i,children:[x.jsx(Ns,{children:"Confirm Deletion"}),x.jsx(Os,{children:x.jsxs(fc,{children:["Are you sure you want to delete the conversation with ID: ",x.jsx("strong",{children:o}),"? This action cannot be undone."]})}),x.jsxs(Bs,{children:[x.jsx(cO,{onClick:i,color:"primary",variant:"outlined",children:"Cancel"}),x.jsx(cO,{onClick:r,color:"error",disabled:a,children:a?x.jsx(ji,{size:20,color:"inherit"}):"Delete"})]})]}),_re=()=>{const t=Rr(),i=so(),[r,o]=ae.useState([]),[a,c]=ae.useState([]),[d,p]=ae.useState(1),[m]=ae.useState(10),[k,w]=ae.useState(!0),[_,C]=ae.useState(null),[v,D]=ae.useState([]),[E,O]=ae.useState(null),[M,j]=ae.useState(!1),[F,G]=ae.useState(null),[J,H]=ae.useState({}),z="https://rag-flask-api.onrender.com",[Z,Y]=ae.useState([]),[se,X]=ae.useState([]),[K,U]=ae.useState("All"),[q,fe]=ae.useState("All"),[ue,de]=ae.useState(null),[ge,Ie]=ae.useState(null),[ce,Te]=ae.useState(!1),[re,te]=ae.useState(null),[ke,be]=ae.useState(!1),[ve,Re]=ae.useState({open:!1,message:"",type:"success"}),Oe=()=>{Re(Ee=>({...Ee,open:!1}))};ae.useEffect(()=>{(async()=>{try{const Ne=(await Qo(dr(t,"conversations"))).docs.map(ze=>({id:ze.id,...ze.data()}));o(Ne);const Ke=Array.from(new Set(Ne.map(ze=>ze.chatbotId)));Y(Ne.length>0?["All",...Ke]:[]);const Xe=Array.from(new Set(Ne.map(ze=>ze.userId)));X(Ne.length>0?["All",...Xe]:[]),c(Ne)}catch(Ae){console.error("Error fetching chatbot conversations:",Ae),C("Failed to load conversations. Please try again later.")}finally{w(!1)}})()},[t]);const Ue=(Ee,Ae)=>{Ee==="chatbot"?U(Ae):fe(Ae);const Ne=Ee==="chatbot"?Ae:K,Ke=Ee==="user"?Ae:q;let Xe=r;Ne!=="All"&&(Xe=Xe.filter(ze=>ze.chatbotId===Ne)),Ke!=="All"&&(Xe=Xe.filter(ze=>ze.userId===Ke)),c(Xe),Ne==="All"&&Ke==="All"&&c(r),p(1)},Ze=async(Ee,Ae,Ne,Ke)=>{var Xe,ze,dt,wt,ot;H(pt=>({...pt,[Ae]:!0})),O(null);try{const pt=await hs.get(`${z}/conversations/${Ee}/${Ae}`);D(pt.data);const kt=(await(async()=>{try{const Gt=new Map;return(await Qo(dr(t,"chatbots"))).forEach(jn=>{Gt.set(jn.data().chatbotId,jn.data())}),Gt}catch(Gt){return console.error("Error fetching chatbots:",Gt),new Map}})()).get(Ee);de(kt?{chatbotId:Ee,chatbotTitle:kt.title||"N/A",courseTitle:((Xe=kt.courseId)==null?void 0:Xe.title)||"N/A",courseId:((ze=kt.courseId)==null?void 0:ze.id)||"N/A",materialTitle:((dt=kt.material)==null?void 0:dt.title)||"N/A",materialId:((wt=kt.material)==null?void 0:wt.id)||"N/A",materialLink:`https://institute-for-future-intelligence.github.io/nexlab/view-material/${((ot=kt.material)==null?void 0:ot.id)||""}`,chatbotCreatedBy:kt.createdBy||"Unknown",chatbotCreatedAt:kt.timestamp||"N/A"}:null),Ie({userId:Ne,startedAt:Ke}),G({chatbotId:Ee,conversationId:Ae}),j(!0)}catch(pt){console.error("Error fetching conversation or chatbot details:",pt),O("Failed to fetch conversation history or chatbot details.")}finally{H(pt=>({...pt,[Ae]:!1}))}},Ge=d*m,ft=Ge-m,gt=a.slice(ft,Ge);if(k)return x.jsx(Be,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:x.jsx(ji,{})});if(_)return x.jsx(Be,{sx:{textAlign:"center",mt:4},children:x.jsx(Pe,{variant:"h6",color:"error",children:_})});const oe=Ee=>{te(Ee),Te(!0)},Le=()=>{Te(!1),te(null)},we=async()=>{if(re){be(!0);try{await Yy(Wn(t,"conversations",re)),o(Ee=>Ee.filter(Ae=>Ae.id!==re)),c(Ee=>Ee.filter(Ae=>Ae.id!==re)),Re({open:!0,message:"Conversation deleted successfully.",type:"success"}),Le()}catch(Ee){console.error("Error deleting conversation:",Ee),Re({open:!0,message:"Failed to delete the conversation. Please try again.",type:"error"})}finally{be(!1),Le()}}};return x.jsxs(Be,{className:"profile-container",sx:{p:4},children:[x.jsx(xt,{variant:"text",onClick:()=>i("/"),className:"profile-button",children:" Home Page"}),x.jsx(Pe,{variant:"h5",className:"webpage_title",sx:{mb:2},children:"Chatbot Conversations"}),x.jsxs(Be,{sx:{display:"flex",gap:2,mb:3},children:[x.jsxs(lf,{sx:{minWidth:200},children:[x.jsx(cf,{id:"filter-chatbot-id",children:"Filter by Chatbot ID"}),x.jsx(rd,{labelId:"filter-chatbot-id",value:K,onChange:Ee=>Ue("chatbot",Ee.target.value),children:Z.length>0?Z.map(Ee=>x.jsx(Lr,{value:Ee,children:Ee},Ee)):x.jsx(Lr,{value:"",disabled:!0,children:"No Chatbots Available"})})]}),x.jsxs(lf,{sx:{minWidth:200},children:[x.jsx(cf,{id:"filter-user-id",children:"Filter by User ID"}),x.jsx(rd,{labelId:"filter-user-id",value:q,onChange:Ee=>Ue("user",Ee.target.value),children:se.map(Ee=>x.jsx(Lr,{value:Ee,children:Ee},Ee))})]})]}),K!=="All"&&x.jsx(yre,{chatbotId:K}),x.jsxs(Be,{className:"profile-container",sx:{p:4},children:[x.jsx(Lte,{conversations:gt,onViewHistory:(Ee,Ae,Ne,Ke)=>Ze(Ee,Ae,Ne,Ke),onDeleteConversation:oe,loadingMap:J}),x.jsx(Are,{open:ce,onClose:Le,onConfirm:we,conversationId:re||"",deleting:ke})]}),x.jsx(vre,{totalItems:a.length,itemsPerPage:m,currentPage:d,onPageChange:p}),F&&ue&&ge&&x.jsx(wre,{open:M,onClose:()=>{j(!1),G(null)},conversationHistory:v,conversationId:F.conversationId,conversationHistoryError:E,chatbotDetails:ue,userId:ge.userId,startedAt:ge.startedAt}),x.jsx(Il,{open:ve.open,autoHideDuration:3e3,onClose:Oe,message:ve.message,anchorOrigin:{vertical:"top",horizontal:"center"},ContentProps:{style:{backgroundColor:ve.type==="success"?"#4caf50":"#f44336"}}})]})},Cre=()=>{const[t,i]=ae.useState([]),[r,o]=ae.useState(!0),[a,c]=ae.useState({}),[d,p]=ae.useState(!1),[m,k]=ae.useState(""),[w,_]=ae.useState("success"),C=so();ae.useEffect(()=>{(async()=>{const z=Rr(),Z=dr(z,"chatbotRequests");try{const se=(await Qo(Z)).docs.map(X=>({id:X.id,...X.data()}));i(se)}catch(Y){console.error("Error fetching chatbot requests:",Y)}finally{o(!1)}})()},[]);const v=async H=>{const z=a[H];if(!z){k("Please assign a Chatbot ID before approving the request."),_("error"),p(!0);return}try{const Z=Rr(),Y=Wn(Z,"chatbotRequests",H),se=await ll(Y);if(!se.exists()){k("Request not found. Please refresh the page."),_("error"),p(!0);return}const X=se.data();if(X.status!=="pending"){k("This request has already been processed."),_("warning"),p(!0);return}await gi(Y,{status:"approved",chatbotId:z});const K={chatbotId:z,title:X.title,courseId:{id:X.courseId,number:X.courseNumber,title:X.courseTitle},material:{id:X.materialId||null,title:X.materialTitle||"N/A"},createdBy:X.educatorId,files:X.files,timestamp:new Date().toISOString()};await da(dr(Z,"chatbots"),K),i(U=>U.map(q=>q.id===H?{...q,status:"approved",chatbotId:z}:q)),k("Chatbot request approved and chatbot created successfully!"),_("success"),p(!0)}catch(Z){console.error("Error approving chatbot request or creating chatbot:",Z),k("Failed to approve the request and create the chatbot. Please try again."),_("error"),p(!0)}},D=()=>{p(!1)},[E,O]=ae.useState(0),[M,j]=ae.useState(5),F=(H,z)=>O(z),G=H=>{j(parseInt(H.target.value,10)),O(0)},J=(H,z)=>{c(Z=>({...Z,[H]:z}))};return r?x.jsx(Be,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:x.jsx(ji,{})}):t.length===0?x.jsx(Pe,{variant:"body1",sx:{textAlign:"center",mt:4},children:"No chatbot requests found."}):x.jsxs(Be,{className:"profile-container",sx:{p:4},children:[x.jsx(xt,{variant:"text",onClick:()=>C("/"),className:"profile-button",children:" Home Page"}),x.jsx(Pe,{variant:"h5",className:"webpage_title",sx:{mb:2},children:"Chatbot Requests Management"}),x.jsx(Pe,{variant:"body1",sx:{mb:3},children:"Manage chatbot requests submitted by educators. Approve requests and assign Chatbot IDs."}),x.jsxs(fp,{component:Ar,elevation:3,sx:{maxHeight:"70vh",overflow:"auto"},children:[x.jsxs(pp,{stickyHeader:!0,children:[x.jsx(mp,{children:x.jsxs(Xs,{children:[x.jsx(Ht,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Title"}),x.jsx(Ht,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Course"}),x.jsx(Ht,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Material"}),x.jsx(Ht,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Educator ID"}),x.jsx(Ht,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Course ID"}),x.jsx(Ht,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Material ID"}),x.jsx(Ht,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Submitted On"}),x.jsx(Ht,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Status"}),x.jsx(Ht,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"File Links"}),x.jsx(Ht,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Chatbot ID"}),x.jsx(Ht,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Action"})]})}),x.jsx(gp,{children:t.slice(E*M,E*M+M).map((H,z)=>{var Z;return x.jsxs(Xs,{sx:{backgroundColor:z%2===0?"#F6E9B2":"#FBFADA","&:hover":{backgroundColor:"#E8E8E8"}},children:[x.jsx(Ht,{children:H.title}),x.jsx(Ht,{children:`${H.courseNumber} - ${H.courseTitle}`}),x.jsx(Ht,{children:H.materialTitle||"N/A"}),x.jsx(Ht,{children:H.educatorId}),x.jsx(Ht,{children:H.courseId}),x.jsx(Ht,{children:H.materialId||"N/A"}),x.jsx(Ht,{children:new Date(H.timestamp).toLocaleString()}),x.jsx(Ht,{children:x.jsx(Pe,{variant:"body2",sx:{color:H.status==="pending"?"#FFA726":"#43A047",fontWeight:"bold"},children:H.status})}),x.jsx(Ht,{children:(Z=H.files)!=null&&Z.length?H.files.map((Y,se)=>x.jsx(t7,{filePath:Y,fileLabel:`File ${se+1}`},se)):x.jsx(Pe,{variant:"body2",children:"No files uploaded"})}),x.jsx(Ht,{children:H.status==="approved"?x.jsx(Pe,{variant:"body2",sx:{fontWeight:"bold"},children:H.chatbotId}):x.jsx(_n,{size:"small",value:a[H.id]||"",onChange:Y=>J(H.id,Y.target.value),placeholder:"Enter Chatbot ID",sx:{width:"150px"}})}),x.jsx(Ht,{children:x.jsx(xt,{variant:"contained",color:"primary",onClick:()=>v(H.id),disabled:H.status==="approved",sx:{fontWeight:"bold"},children:H.status==="approved"?"Approved":"Approve"})})]},H.id)})})]}),x.jsx(mH,{rowsPerPageOptions:[5,10,25],component:"div",count:t.length,rowsPerPage:M,page:E,onPageChange:F,onRowsPerPageChange:G,"aria-label":"Chatbot requests pagination",sx:{mt:2}})]}),x.jsx(Il,{open:d,autoHideDuration:6e3,onClose:D,children:x.jsx(Pr,{onClose:D,severity:w,sx:{width:"100%"},children:m})})]})},uO={totalQuizzes:0,completedQuizzes:0,averageScore:0,difficultyBreakdown:{easy:0,medium:0,hard:0}},gD=vk()(Xy($4((t,i)=>({currentSession:null,sessions:[],statistics:uO,isModalOpen:!1,currentChatbotId:null,currentDifficulty:"medium",loading:!1,error:null,isQuizActive:!1,currentAnswers:{},lastSummary:null,openQuizModal:(r,o="medium")=>{t({isModalOpen:!0,currentChatbotId:r,currentDifficulty:o,error:null})},closeQuizModal:()=>{t({isModalOpen:!1,error:null})},setDifficulty:r=>{t({currentDifficulty:r})},setLoading:r=>{t({loading:r})},setError:r=>{t({error:r})},startQuiz:r=>{const o={id:`session_${Date.now()}`,quizId:r.quizId,chatbotId:r.chatbotId,userId:"",difficulty:r.selection.mode,startedAt:r.startedAt,completed:!1,answers:{}};t({currentSession:o,isQuizActive:!0,currentAnswers:{},lastSummary:null,error:null})},updateAnswers:r=>{const{currentSession:o}=i();if(!o)return;const a={...r.answers};t({currentAnswers:a,currentSession:{...o,answers:a}})},submitQuiz:r=>{console.log(" Quiz Store: Quiz submitted. Data should be saved by quiz modal API:",r),t({lastSummary:r.summary,isQuizActive:!1})},closeQuiz:r=>{console.log(" Quiz Store: Quiz closed. Data handled by quiz modal API:",r),t({currentSession:null,isQuizActive:!1,isModalOpen:!1,currentAnswers:{},lastSummary:r.completed?r.summary:null})},addSession:r=>{t(o=>({sessions:[...o.sessions,r]}))},updateSession:(r,o)=>{t(a=>{var c;return{sessions:a.sessions.map(d=>d.id===r?{...d,...o}:d),currentSession:((c=a.currentSession)==null?void 0:c.id)===r?{...a.currentSession,...o}:a.currentSession}})},deleteSession:r=>{t(o=>({sessions:o.sessions.filter(a=>a.id!==r)}))},clearCurrentSession:()=>{t({currentSession:null,isQuizActive:!1,currentAnswers:{},lastSummary:null})},updateStatistics:()=>{const{sessions:r}=i(),o=r.filter(p=>p.completed),a=o.reduce((p,m)=>{var k;return p+(((k=m.summary)==null?void 0:k.percent)||0)},0),c=r.reduce((p,m)=>({...p,[m.difficulty]:p[m.difficulty]+1}),{easy:0,medium:0,hard:0}),d={totalQuizzes:r.length,completedQuizzes:o.length,averageScore:o.length>0?a/o.length:0,difficultyBreakdown:c,lastQuizDate:r.length>0?r[r.length-1].startedAt:void 0};t({statistics:d})},saveSessionToFirestore:async r=>{try{const{db:o}=await To(async()=>{const{db:d}=await Promise.resolve().then(()=>jm);return{db:d}},void 0),{doc:a,setDoc:c}=await To(async()=>{const{doc:d,setDoc:p}=await import("./firebase-BbBYlhCW.js").then(m=>m.A);return{doc:d,setDoc:p}},[]);await c(a(o,"quizSessions",r.id),{...r,timestamp:new Date().toISOString()}),console.log("Quiz session saved to Firestore:",r.id)}catch(o){console.error("Failed to save quiz session:",o),t({error:"Failed to save quiz session"})}},fetchUserSessions:async r=>{try{t({loading:!0,error:null});const{db:o}=await To(async()=>{const{db:C}=await Promise.resolve().then(()=>jm);return{db:C}},void 0),{collection:a,query:c,where:d,getDocs:p,orderBy:m}=await To(async()=>{const{collection:C,query:v,where:D,getDocs:E,orderBy:O}=await import("./firebase-BbBYlhCW.js").then(M=>M.A);return{collection:C,query:v,where:D,getDocs:E,orderBy:O}},[]),k=c(a(o,"quizSessions"),d("userId","==",r),m("startedAt","desc")),_=(await p(k)).docs.map(C=>({id:C.id,...C.data()}));t({sessions:_,loading:!1}),i().updateStatistics()}catch(o){console.error("Failed to fetch quiz sessions:",o),t({error:"Failed to fetch quiz sessions",loading:!1})}},reset:()=>{t({currentSession:null,sessions:[],statistics:uO,isModalOpen:!1,currentChatbotId:null,currentDifficulty:"medium",loading:!1,error:null,isQuizActive:!1,currentAnswers:{},lastSummary:null})}}),{name:"quiz-store",partialize:t=>({currentDifficulty:t.currentDifficulty}),merge:(t,i)=>({...i,...t||{},currentDifficulty:(t==null?void 0:t.currentDifficulty)||"medium"})}),{name:"quiz-store"})),cp=Rr(),up={QUIZ_SESSIONS:"quizSessions",QUIZ_EVENTS:"quizEvents"},xre=async(t,i)=>{try{const r=xl.now(),o={quizId:t.quizId,chatbotId:t.chatbotId,userId:i,startedAt:xl.fromDate(new Date(t.startedAt)),completed:!1,difficulty:t.selection.mode,createdAt:r,updatedAt:r},a={quizId:t.quizId,chatbotId:t.chatbotId,userId:i,eventType:"quiz_started",timestamp:r,data:t,createdAt:r};await Promise.all([da(dr(cp,up.QUIZ_SESSIONS),o),da(dr(cp,up.QUIZ_EVENTS),a)]),console.log(" Quiz start event saved to Firestore:",{quizId:t.quizId,difficulty:t.selection.mode,userId:i.substring(0,8)+"..."})}catch(r){throw console.error(" Error saving quiz start event:",r),r}},Sre=async(t,i)=>{try{const r={quizId:t.quizId,chatbotId:t.quizId,userId:i,eventType:"answer_changed",timestamp:xl.now(),data:t,createdAt:xl.now()};await da(dr(cp,up.QUIZ_EVENTS),r),console.log(" Answer change event saved to Firestore:",t.questionId)}catch(r){console.error(" Error saving answer change event:",r)}},Ere=async(t,i)=>{try{const r=xl.now(),o=xl.fromMillis(r.toMillis()-3600*1e3),a=Xd(dr(cp,up.QUIZ_SESSIONS),nd("quizId","==",t.quizId),nd("userId","==",i),nd("completed","==",!1),nd("createdAt",">=",o),u5("createdAt","desc")),c=await Qo(a);if(c.empty)throw console.error(" No incomplete session found for quiz submission - this should not happen!",{quizId:t.quizId,userId:i.substring(0,8)+"...",submittedAt:t.submittedAt}),new Error("No matching quiz session found for submission");{const p=c.docs[0],m=p.ref,k=p.data(),w={submittedAt:xl.fromDate(new Date(t.submittedAt)),completed:!0,finalAnswers:t.answers,summary:t.summary,updatedAt:r};await gi(m,w),console.log(" Updated quiz session:",{quizId:t.quizId,difficulty:k.difficulty,score:`${t.summary.total_score}/${t.summary.total_max}`,userId:i.substring(0,8)+"..."})}const d={quizId:t.quizId,chatbotId:t.chatbotId,userId:i,eventType:"quiz_submitted",timestamp:r,data:t,createdAt:r};await da(dr(cp,up.QUIZ_EVENTS),d),console.log(" Quiz submission saved to Firestore:",{quizId:t.quizId,score:`${t.summary.total_score}/${t.summary.total_max} (${t.summary.percent}%)`})}catch(r){throw console.error(" Error saving quiz submission:",r),r}},Dre=async(t,i)=>{try{const r=xl.now(),o=Xd(dr(cp,up.QUIZ_SESSIONS),nd("quizId","==",t.quizId),nd("userId","==",i)),a=await Qo(o);if(!a.empty){const p=a.docs[0].ref,m={closedAt:xl.fromDate(new Date(t.closedAt)),updatedAt:r};t.completed&&t.summary&&(m.completed=!0,m.finalAnswers=t.answers,m.summary=t.summary),await gi(p,m)}const c={quizId:t.quizId,chatbotId:t.chatbotId,userId:i,eventType:"quiz_closed",timestamp:r,data:t,createdAt:r};await da(dr(cp,up.QUIZ_EVENTS),c),console.log(" Quiz close event saved to Firestore:",{quizId:t.quizId,completed:t.completed})}catch(r){throw console.error(" Error saving quiz close event:",r),r}},Ire=async()=>{try{const t=Xd(dr(cp,up.QUIZ_SESSIONS),u5("createdAt","desc")),i=await Qo(t),r=[];return i.forEach(o=>{const a=o.data();a&&typeof a=="object"&&r.push(a)}),console.log(` Retrieved ${r.length} quiz sessions from Firestore`),r}catch(t){throw console.error(" Error retrieving quiz sessions:",t),t}},Tre=async t=>{try{let i;t||(i=Xd(dr(cp,up.QUIZ_EVENTS),u5("timestamp","desc")));const r=await Qo(i),o=[];return r.forEach(a=>{const c=a.data();c&&typeof c=="object"&&o.push(c)}),console.log(` Retrieved ${o.length} quiz events from Firestore`),o}catch(i){throw console.error(" Error retrieving quiz events:",i),i}},Mre=()=>{var H,z,Z;const t=so(),{userDetails:i}=go(),{loading:r,error:o}=gD(),[a,c]=ae.useState("all"),[d,p]=ae.useState([]),[m,k]=ae.useState([]),[w,_]=ae.useState(!0),[C,v]=ae.useState(null),[D,E]=ae.useState(!1);console.log(" QuizManagementPage: Loading quiz data from Firestore"),ae.useEffect(()=>{(async()=>{try{_(!0);const[se,X]=await Promise.all([Ire(),Tre()]);p(se),k(X),console.log(` Loaded ${se.length} quiz sessions and ${X.length} quiz events for super-admin view`)}catch(se){console.error("Failed to load quiz data:",se)}finally{_(!1)}})()},[]);const O=d.filter(Y=>a==="all"||Y.difficulty===a),M={totalQuizzes:d.length,completedQuizzes:d.filter(Y=>Y.completed).length,averageScore:d.filter(Y=>Y.summary).length>0?d.filter(Y=>Y.summary).reduce((Y,se)=>{var X;return Y+(((X=se.summary)==null?void 0:X.percent)||0)},0)/d.filter(Y=>Y.summary).length:0,difficultyBreakdown:{easy:d.filter(Y=>Y.difficulty==="easy").length,medium:d.filter(Y=>Y.difficulty==="medium").length,hard:d.filter(Y=>Y.difficulty==="hard").length},lastQuizDate:d.length>0?d[0].startedAt.toDate().toISOString():void 0},j=Y=>m.filter(se=>se.quizId===Y).sort((se,X)=>se.timestamp.toMillis()-X.timestamp.toMillis()),F=Y=>{v(Y),E(!0)},G=Y=>new Date(Y).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),J=Y=>{switch(Y){case"easy":return"success";case"medium":return"warning";case"hard":return"error";default:return"default"}};return w?x.jsxs(Be,{sx:{width:"100%",mt:2},children:[x.jsx(Om,{}),x.jsx(Pe,{variant:"body2",sx:{mt:1,textAlign:"center"},children:"Loading quiz data..."})]}):x.jsxs(Be,{className:"profile-container",sx:{p:4},children:[x.jsx(xt,{variant:"outlined",startIcon:x.jsx(gH,{}),onClick:()=>t("/"),sx:{mb:3},children:"Back to Home"}),x.jsx(Pe,{variant:"h4",gutterBottom:!0,sx:{mb:3},children:"Quiz Management"}),o&&x.jsx(Pr,{severity:"error",sx:{mb:3},children:o}),x.jsxs(Zt,{container:!0,spacing:3,sx:{mb:4},children:[x.jsx(Zt,{item:!0,xs:12,sm:6,md:3,children:x.jsx(Ku,{children:x.jsx(jh,{children:x.jsxs(Be,{sx:{display:"flex",alignItems:"center"},children:[x.jsx(TE,{color:"primary",sx:{mr:2}}),x.jsxs(Be,{children:[x.jsx(Pe,{variant:"h4",children:(M==null?void 0:M.totalQuizzes)||0}),x.jsx(Pe,{color:"text.secondary",children:"Total Quizzes"})]})]})})})}),x.jsx(Zt,{item:!0,xs:12,sm:6,md:3,children:x.jsx(Ku,{children:x.jsx(jh,{children:x.jsxs(Be,{sx:{display:"flex",alignItems:"center"},children:[x.jsx(c5,{color:"success",sx:{mr:2}}),x.jsxs(Be,{children:[x.jsx(Pe,{variant:"h4",children:(M==null?void 0:M.completedQuizzes)||0}),x.jsx(Pe,{color:"text.secondary",children:"Completed"})]})]})})})}),x.jsx(Zt,{item:!0,xs:12,sm:6,md:3,children:x.jsx(Ku,{children:x.jsx(jh,{children:x.jsxs(Be,{sx:{display:"flex",alignItems:"center"},children:[x.jsx(bH,{color:"info",sx:{mr:2}}),x.jsxs(Be,{children:[x.jsxs(Pe,{variant:"h4",children:[Math.round((M==null?void 0:M.averageScore)||0),"%"]}),x.jsx(Pe,{color:"text.secondary",children:"Average Score"})]})]})})})}),x.jsx(Zt,{item:!0,xs:12,sm:6,md:3,children:x.jsx(Ku,{children:x.jsx(jh,{children:x.jsxs(Be,{sx:{display:"flex",alignItems:"center"},children:[x.jsx(Nj,{color:"warning",sx:{mr:2}}),x.jsxs(Be,{children:[x.jsx(Pe,{variant:"h6",children:M!=null&&M.lastQuizDate?G(M.lastQuizDate).split(",")[0]:"Never"}),x.jsx(Pe,{color:"text.secondary",children:"Last Quiz"})]})]})})})})]}),x.jsx(Ku,{sx:{mb:4},children:x.jsxs(jh,{children:[x.jsx(Pe,{variant:"h6",gutterBottom:!0,children:"Quiz Difficulty Breakdown"}),x.jsxs(Zt,{container:!0,spacing:2,children:[x.jsx(Zt,{item:!0,xs:4,children:x.jsxs(Be,{sx:{textAlign:"center"},children:[x.jsx(Pe,{variant:"h4",color:"success.main",children:((H=M==null?void 0:M.difficultyBreakdown)==null?void 0:H.easy)||0}),x.jsx(Xr,{label:"Easy",color:"success",size:"small"})]})}),x.jsx(Zt,{item:!0,xs:4,children:x.jsxs(Be,{sx:{textAlign:"center"},children:[x.jsx(Pe,{variant:"h4",color:"warning.main",children:((z=M==null?void 0:M.difficultyBreakdown)==null?void 0:z.medium)||0}),x.jsx(Xr,{label:"Medium",color:"warning",size:"small"})]})}),x.jsx(Zt,{item:!0,xs:4,children:x.jsxs(Be,{sx:{textAlign:"center"},children:[x.jsx(Pe,{variant:"h4",color:"error.main",children:((Z=M==null?void 0:M.difficultyBreakdown)==null?void 0:Z.hard)||0}),x.jsx(Xr,{label:"Hard",color:"error",size:"small"})]})})]})]})}),x.jsx(Ku,{sx:{mb:4},children:x.jsxs(jh,{children:[x.jsx(Pe,{variant:"h6",gutterBottom:!0,children:"Start New Quiz"}),x.jsx(Be,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:x.jsxs(lf,{size:"small",sx:{minWidth:120},children:[x.jsx(cf,{children:"Difficulty"}),x.jsxs(rd,{value:a,label:"Difficulty",onChange:Y=>c(Y.target.value),children:[x.jsx(Lr,{value:"all",children:"All"}),x.jsx(Lr,{value:"easy",children:"Easy"}),x.jsx(Lr,{value:"medium",children:"Medium"}),x.jsx(Lr,{value:"hard",children:"Hard"})]})]})}),x.jsx(Pe,{variant:"body2",color:"text.secondary",children:"Quiz difficulty will be automatically matched to your current learning material."})]})}),x.jsx(Ku,{children:x.jsxs(jh,{children:[x.jsxs(Be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[x.jsxs(Pe,{variant:"h6",children:["Quiz History (",O.length,")"]}),x.jsxs(lf,{size:"small",sx:{minWidth:120},children:[x.jsx(cf,{children:"Filter"}),x.jsxs(rd,{value:a,label:"Filter",onChange:Y=>c(Y.target.value),children:[x.jsx(Lr,{value:"all",children:"All Levels"}),x.jsx(Lr,{value:"easy",children:"Easy"}),x.jsx(Lr,{value:"medium",children:"Medium"}),x.jsx(Lr,{value:"hard",children:"Hard"})]})]})]}),O.length===0?x.jsxs(Be,{sx:{textAlign:"center",py:4},children:[x.jsx(TE,{sx:{fontSize:48,color:"text.secondary",mb:2}}),x.jsx(Pe,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"No quiz sessions found"}),x.jsx(Pe,{variant:"body2",color:"text.secondary",children:a==="all"?"No quiz sessions have been completed yet.":`No ${a} difficulty quiz sessions found.`})]}):x.jsx(fp,{component:Ar,variant:"outlined",children:x.jsxs(pp,{children:[x.jsx(mp,{children:x.jsxs(Xs,{children:[x.jsx(Ht,{children:"User"}),x.jsx(Ht,{children:"Date"}),x.jsx(Ht,{children:"Chatbot ID"}),x.jsx(Ht,{children:"Difficulty"}),x.jsx(Ht,{children:"Status"}),x.jsx(Ht,{align:"right",children:"Score"}),x.jsx(Ht,{align:"right",children:"Performance"}),x.jsx(Ht,{align:"center",children:"Actions"})]})}),x.jsx(gp,{children:O.map((Y,se)=>x.jsxs(Xs,{hover:!0,children:[x.jsxs(Ht,{children:[x.jsxs(Pe,{variant:"body2",fontWeight:"medium",children:[Y.userId.substring(0,12),"..."]}),x.jsx(Pe,{variant:"caption",color:"text.secondary",children:"User ID"})]}),x.jsx(Ht,{children:x.jsx(Pe,{variant:"body2",children:Y.startedAt.toDate().toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})}),x.jsx(Ht,{children:x.jsxs(Pe,{variant:"body2",fontFamily:"monospace",children:[Y.chatbotId.substring(0,8),"..."]})}),x.jsx(Ht,{children:x.jsx(Xr,{label:Y.difficulty.charAt(0).toUpperCase()+Y.difficulty.slice(1),color:J(Y.difficulty),size:"small"})}),x.jsx(Ht,{children:x.jsx(Xr,{label:Y.completed?"Completed":"In Progress",color:Y.completed?"success":"warning",size:"small"})}),x.jsx(Ht,{align:"right",children:Y.summary?x.jsxs(Pe,{variant:"body2",fontWeight:"bold",children:[Y.summary.total_score,"/",Y.summary.total_max]}):x.jsx(Pe,{variant:"body2",color:"text.secondary",children:"-"})}),x.jsx(Ht,{align:"right",children:Y.summary?x.jsx(Xr,{label:`${Math.round(Y.summary.percent)}%`,color:Y.summary.percent>=80?"success":Y.summary.percent>=60?"warning":"error",size:"small"}):x.jsx(Pe,{variant:"body2",color:"text.secondary",children:"-"})}),x.jsx(Ht,{align:"center",children:x.jsx(xt,{variant:"outlined",size:"small",startIcon:x.jsx(F4,{}),onClick:()=>F(Y.quizId),children:"View Details"})})]},`${Y.quizId}-${se}`))})]})})]})}),x.jsxs(Ms,{open:D,onClose:()=>E(!1),maxWidth:"md",fullWidth:!0,children:[x.jsx(Ns,{children:x.jsxs(Be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[x.jsx(Pe,{variant:"h6",children:"Quiz Event Details"}),x.jsx(ur,{onClick:()=>E(!1),children:x.jsx(kH,{})})]})}),x.jsx(Os,{children:C&&x.jsxs(Be,{children:[x.jsxs(Pe,{variant:"subtitle1",gutterBottom:!0,children:["Quiz ID: ",x.jsx("code",{children:C})]}),j(C).map((Y,se)=>x.jsx(Ku,{sx:{mb:2,border:"1px solid #e0e0e0"},children:x.jsxs(jh,{children:[x.jsxs(Be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[x.jsx(Xr,{label:Y.eventType.replace("_"," ").toUpperCase(),color:Y.eventType==="quiz_started"?"primary":Y.eventType==="quiz_submitted"?"success":Y.eventType==="quiz_closed"?"default":"secondary",size:"small"}),x.jsx(Pe,{variant:"caption",color:"text.secondary",children:Y.timestamp.toDate().toLocaleString()})]}),x.jsx(Pe,{variant:"body2",component:"pre",sx:{backgroundColor:"grey.50",p:2,borderRadius:1,fontSize:"0.75rem",overflow:"auto",maxHeight:"300px",fontFamily:"monospace"},children:JSON.stringify(Y.data,null,2)})]})},se)),j(C).length===0&&x.jsx(Pe,{variant:"body2",color:"text.secondary",sx:{textAlign:"center",py:4},children:"No events found for this quiz."})]})}),x.jsx(Bs,{children:x.jsx(xt,{onClick:()=>E(!1),children:"Close"})})]})]})},Nre=ae.lazy(()=>To(()=>import("./index-CsuiuPwt.js"),__vite__mapDeps([7,4,1,5]))),Ore=ae.lazy(()=>To(()=>import("./index-CIor5ys9.js"),__vite__mapDeps([8,4,1,5,9]))),Bre=ae.lazy(()=>To(()=>import("./SupplementalMaterials-_xJQyzqM.js"),__vite__mapDeps([10,4,1,5]))),tE=({element:t})=>x.jsx(cL,{children:x.jsx(_l,{element:t})}),jre=({element:t})=>x.jsx(aL,{children:t}),Lre=(t,i)=>[{path:"/",element:t?x.jsx(cL,{children:x.jsx(UW,{})}):x.jsx(jre,{element:x.jsx(Nre,{})})},{path:"/laboratory-notebooks",element:x.jsx(tE,{element:Ore})},{path:"/supplemental-materials",element:x.jsx(tE,{element:Bre})},{path:"/my-profile",element:x.jsx(tE,{element:Jee})},{path:"/add-material",element:x.jsx(_l,{element:wP})},{path:"/edit-material/:id",element:x.jsx(_l,{element:mX})},{path:"/view-material/:id",element:x.jsx(_l,{element:zee})},{path:"/add-message",element:x.jsx(_l,{element:Uee})},{path:"/edit-message/:id",element:x.jsx(_l,{element:qee})},{path:"/chatbot-management",element:x.jsx(_l,{element:Dte})},{path:"/course-management",element:x.jsx(_l,{element:cte})},{path:"/request-chatbot",element:x.jsx(_l,{element:Mte})},{path:"/quiz-management",element:x.jsx(_l,{element:Mre})},{path:"/request-educator-permissions",element:x.jsx(_l,{element:bte})},{path:"/educator-requests",element:x.jsx(_l,{element:kte})},{path:"/request-new-course",element:x.jsx(wte,{})},{path:"/course-requests",element:x.jsx(vte,{})},{path:"/super-admin-course-management",element:x.jsx(Cte,{})},{path:"/super-admin-chatbot-requests",element:x.jsx(_l,{element:Cre})},...i?[{path:"/user-management",element:x.jsx(_l,{element:Wee})},{path:"/chatbot-conversations",element:x.jsx(_l,{element:_re})}]:[],{path:"*",element:x.jsx(nL,{to:"/"})}],Pre=wH({breakpoints:{values:{xs:0,sm:600,md:960,lg:1280,xl:1920}}}),Rre=()=>{const t=vH(),i=vy(t.breakpoints.down("sm")),r=vy(t.breakpoints.between("sm","md")),o=vy(t.breakpoints.up("md"));return{isMobile:i,isTablet:r,isDesktop:o}},Fre=()=>{const{isMobile:t,isTablet:i,isDesktop:r}=Rre();return x.jsx(yH,{position:"static",className:"device-version-bar",children:x.jsx(AH,{className:"device-version-toolbar",children:x.jsxs(Be,{sx:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[t&&x.jsx(Pe,{variant:"body1",className:"device-version-text",children:"NexLAB Mobile Version 1.0"}),i&&x.jsx(Pe,{variant:"body1",className:"device-version-text",children:"NexLAB Tablet Version 1.0"}),r&&x.jsx(Pe,{variant:"body1",className:"device-version-text",children:"NexLAB Desktop Version 1.0"})]})})})},zre=vt.forwardRef(function(i,r){return x.jsx(Pr,{elevation:6,ref:r,variant:"filled",...i})}),Ure=()=>{const[t,i]=ae.useState(!1),[r,o]=ae.useState(!1),[a,c]=ae.useState(""),[d,p]=ae.useState(!1),m=so(),k=()=>{i(!0)},w=()=>{i(!1)},_=async()=>{if(!d){p(!0);try{await rL.signOut(),i(!1),o(!0),c("Logged out successfully"),m("/")}catch(C){i(!1),o(!0);const v=C instanceof Error?C.message:"Logout failed: An unexpected error occurred";c(v)}finally{p(!1)}}};return x.jsxs(x.Fragment,{children:[x.jsx(xt,{variant:"outlined",onClick:k,disabled:d,sx:{fontSize:"1rem",fontFamily:"Staatliches, sans-serif",textTransform:"none",minWidth:"120px",color:"#FBFADA",borderColor:"#FBFADA",borderRadius:"15px",backgroundColor:"transparent",boxShadow:"none","&:hover":{borderColor:"#FFFFFF",backgroundColor:"#ffcdd2",color:"#c62828",boxShadow:"0px 0px 10px rgba(0, 0, 0, 0.2)",transform:"scale(1.05)"},"&:disabled":{borderColor:"#ccc",color:"#999"},transition:"transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out, border-color 0.3s ease-in-out, background-color 0.3s ease-in-out"},children:d?"Logging out...":"Logout"}),x.jsxs(Ms,{open:t,onClose:w,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[x.jsx(Ns,{id:"alert-dialog-title",children:"Logging Out"}),x.jsx(Os,{children:x.jsx(fc,{id:"alert-dialog-description",children:"Are you sure you want to log out?"})}),x.jsxs(Bs,{children:[x.jsx(xt,{onClick:_,autoFocus:!0,disabled:d,children:d?"Please wait...":"Yes"}),x.jsx(xt,{onClick:w,disabled:d,children:"No"})]})]}),x.jsx(Il,{open:r,autoHideDuration:6e3,onClose:()=>o(!1),children:x.jsx(zre,{onClose:()=>o(!1),severity:"info",sx:{width:"100%"},children:a})})]})},qre=vt.memo(Ure),E7=vt.memo(()=>{const{userDetails:t,isSuperAdmin:i}=go(),[r,o]=vt.useState(!1),a=()=>{t!=null&&t.uid?navigator.clipboard.writeText(t.uid).then(()=>{o(!0),setTimeout(()=>o(!1),2e3)}).catch(c=>console.error("Could not copy text: ",c)):console.error("User details are null or undefined")};return x.jsxs(Be,{className:"header-box",sx:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px",backgroundColor:"#CDDAFF"},children:[x.jsxs(Be,{sx:{display:"flex",alignItems:"center"},children:[x.jsx("img",{src:"/nexlab/nexlab-logo.png",alt:"ATE Logo",style:{width:300}}),x.jsx(Be,{className:"divider",sx:{height:"40px",borderLeft:"2px solid #0B53C0",marginRight:"20px"}}),x.jsxs(Pe,{variant:"body1",component:"p",className:"subtitle",sx:{color:"#0B53C0",fontFamily:"Gabarito",maxWidth:"300px"},children:["Next-Generation Experiments and ",x.jsx("br",{}),"Learning for Advanced Biotech"]})]}),x.jsxs(Be,{className:"user-info-box",sx:{display:"flex",alignItems:"center"},children:[i&&x.jsx(Xr,{label:"Super-Admin",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#ffcdd2",color:"#c62828",mr:2,fontFamily:"Staatliches, sans-serif",fontSize:"20px"}}),(t==null?void 0:t.isAdmin)&&!i&&x.jsx(Xr,{label:"Educator",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#ffcdd2",color:"#c62828",mr:2,fontFamily:"Staatliches, sans-serif",fontSize:"20px"}}),!(t!=null&&t.isAdmin)&&x.jsx(Xr,{label:"Student",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#bbdefb",color:"#1e88e5",mr:2,fontFamily:"Staatliches, sans-serif",fontSize:"20px"}}),t&&x.jsx(Dl,{title:r?"Copied!":"Click to Copy",enterDelay:300,leaveDelay:200,children:x.jsx(Xr,{label:`User ID: ${t.uid}`,variant:"outlined",onClick:a,sx:{borderRadius:"15px",fontSize:"20px",fontWeight:"bold",background:"#e0f2f1",color:"#00695c",cursor:"pointer",transition:"background-color 0.3s",mr:2,fontFamily:"Staatliches, sans-serif"}})}),x.jsx(qre,{})]})]})});E7.displayName="Header";var ey={},dO;function Vre(){if(dO)return ey;dO=1;var t=fs();Object.defineProperty(ey,"__esModule",{value:!0}),ey.default=void 0;var i=t(ms()),r=ps();return ey.default=(0,i.default)((0,r.jsx)("path",{d:"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20zm-6 8h-4v-2h4zm0-4h-4v-2h4z"}),"BugReport"),ey}var Hre=Vre();const $re=Si(Hre),Wre=()=>{const t=()=>{window.open("https://help.waveshi.org","_blank","noopener,noreferrer")};return x.jsx(xt,{onClick:t,className:"report-bug-button",startIcon:x.jsx($re,{}),children:"Provide Feedback"})};function Gre(){return x.jsxs(Be,{component:"footer",className:"footer-container",children:[x.jsx(Be,{className:"report-bug-container",children:x.jsx(Wre,{})}),x.jsx(iu,{}),x.jsxs(Be,{className:"footer-content",children:[x.jsx("img",{src:"/nexlab/FooterLogoLong.png",alt:"Logo",className:"footer-logo"}),x.jsx(Pe,{variant:"body2",className:"footer-text",children:"The Institute for Future Intelligence (IFI) and Kapi'olani Community College (KCC) is funded in part by the National Science Foundation grant DUE 2300976."}),x.jsx(Pe,{variant:"body2",className:"footer-text",children:" 2025 Institute for Future Intelligence and Kapi'olani Community College Antibody Engineering & Research Projects"})]})]})}const hO=["http","https","mailto","tel"];function Yre(t){const i=(t||"").trim(),r=i.charAt(0);if(r==="#"||r==="/")return i;const o=i.indexOf(":");if(o===-1)return i;let a=-1;for(;++a<hO.length;){const c=hO[a];if(o===c.length&&i.slice(0,c.length).toLowerCase()===c)return i}return a=i.indexOf("?"),a!==-1&&o>a||(a=i.indexOf("#"),a!==-1&&o>a)?i:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var nE,fO;function Kre(){return fO||(fO=1,nE=function(i){return i!=null&&i.constructor!=null&&typeof i.constructor.isBuffer=="function"&&i.constructor.isBuffer(i)}),nE}var Qre=Kre();const D7=Si(Qre);function xy(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?pO(t.position):"start"in t||"end"in t?pO(t):"line"in t||"column"in t?c4(t):""}function c4(t){return mO(t&&t.line)+":"+mO(t&&t.column)}function pO(t){return c4(t&&t.start)+"-"+c4(t&&t.end)}function mO(t){return t&&typeof t=="number"?t:1}class od extends Error{constructor(i,r,o){const a=[null,null];let c={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof r=="string"&&(o=r,r=void 0),typeof o=="string"){const d=o.indexOf(":");d===-1?a[1]=o:(a[0]=o.slice(0,d),a[1]=o.slice(d+1))}r&&("type"in r||"position"in r?r.position&&(c=r.position):"start"in r||"end"in r?c=r:("line"in r||"column"in r)&&(c.start=r)),this.name=xy(r)||"1:1",this.message=typeof i=="object"?i.message:i,this.stack="",typeof i=="object"&&i.stack&&(this.stack=i.stack),this.reason=this.message,this.fatal,this.line=c.start.line,this.column=c.start.column,this.position=c,this.source=a[0],this.ruleId=a[1],this.file,this.actual,this.expected,this.url,this.note}}od.prototype.file="";od.prototype.name="";od.prototype.reason="";od.prototype.message="";od.prototype.stack="";od.prototype.fatal=null;od.prototype.column=null;od.prototype.line=null;od.prototype.source=null;od.prototype.ruleId=null;od.prototype.position=null;const Lh={basename:Zre,dirname:Jre,extname:Xre,join:eie,sep:"/"};function Zre(t,i){if(i!==void 0&&typeof i!="string")throw new TypeError('"ext" argument must be a string');aA(t);let r=0,o=-1,a=t.length,c;if(i===void 0||i.length===0||i.length>t.length){for(;a--;)if(t.charCodeAt(a)===47){if(c){r=a+1;break}}else o<0&&(c=!0,o=a+1);return o<0?"":t.slice(r,o)}if(i===t)return"";let d=-1,p=i.length-1;for(;a--;)if(t.charCodeAt(a)===47){if(c){r=a+1;break}}else d<0&&(c=!0,d=a+1),p>-1&&(t.charCodeAt(a)===i.charCodeAt(p--)?p<0&&(o=a):(p=-1,o=d));return r===o?o=d:o<0&&(o=t.length),t.slice(r,o)}function Jre(t){if(aA(t),t.length===0)return".";let i=-1,r=t.length,o;for(;--r;)if(t.charCodeAt(r)===47){if(o){i=r;break}}else o||(o=!0);return i<0?t.charCodeAt(0)===47?"/":".":i===1&&t.charCodeAt(0)===47?"//":t.slice(0,i)}function Xre(t){aA(t);let i=t.length,r=-1,o=0,a=-1,c=0,d;for(;i--;){const p=t.charCodeAt(i);if(p===47){if(d){o=i+1;break}continue}r<0&&(d=!0,r=i+1),p===46?a<0?a=i:c!==1&&(c=1):a>-1&&(c=-1)}return a<0||r<0||c===0||c===1&&a===r-1&&a===o+1?"":t.slice(a,r)}function eie(...t){let i=-1,r;for(;++i<t.length;)aA(t[i]),t[i]&&(r=r===void 0?t[i]:r+"/"+t[i]);return r===void 0?".":tie(r)}function tie(t){aA(t);const i=t.charCodeAt(0)===47;let r=nie(t,!i);return r.length===0&&!i&&(r="."),r.length>0&&t.charCodeAt(t.length-1)===47&&(r+="/"),i?"/"+r:r}function nie(t,i){let r="",o=0,a=-1,c=0,d=-1,p,m;for(;++d<=t.length;){if(d<t.length)p=t.charCodeAt(d);else{if(p===47)break;p=47}if(p===47){if(!(a===d-1||c===1))if(a!==d-1&&c===2){if(r.length<2||o!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){if(m=r.lastIndexOf("/"),m!==r.length-1){m<0?(r="",o=0):(r=r.slice(0,m),o=r.length-1-r.lastIndexOf("/")),a=d,c=0;continue}}else if(r.length>0){r="",o=0,a=d,c=0;continue}}i&&(r=r.length>0?r+"/..":"..",o=2)}else r.length>0?r+="/"+t.slice(a+1,d):r=t.slice(a+1,d),o=d-a-1;a=d,c=0}else p===46&&c>-1?c++:c=-1}return r}function aA(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const rie={cwd:iie};function iie(){return"/"}function u4(t){return t!==null&&typeof t=="object"&&t.href&&t.origin}function oie(t){if(typeof t=="string")t=new URL(t);else if(!u4(t)){const i=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw i.code="ERR_INVALID_ARG_TYPE",i}if(t.protocol!=="file:"){const i=new TypeError("The URL must be of scheme file");throw i.code="ERR_INVALID_URL_SCHEME",i}return sie(t)}function sie(t){if(t.hostname!==""){const o=new TypeError('File URL host must be "localhost" or empty on darwin');throw o.code="ERR_INVALID_FILE_URL_HOST",o}const i=t.pathname;let r=-1;for(;++r<i.length;)if(i.charCodeAt(r)===37&&i.charCodeAt(r+1)===50){const o=i.charCodeAt(r+2);if(o===70||o===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(i)}const rE=["history","path","basename","stem","extname","dirname"];class I7{constructor(i){let r;i?typeof i=="string"||aie(i)?r={value:i}:u4(i)?r={path:i}:r=i:r={},this.data={},this.messages=[],this.history=[],this.cwd=rie.cwd(),this.value,this.stored,this.result,this.map;let o=-1;for(;++o<rE.length;){const c=rE[o];c in r&&r[c]!==void 0&&r[c]!==null&&(this[c]=c==="history"?[...r[c]]:r[c])}let a;for(a in r)rE.includes(a)||(this[a]=r[a])}get path(){return this.history[this.history.length-1]}set path(i){u4(i)&&(i=oie(i)),oE(i,"path"),this.path!==i&&this.history.push(i)}get dirname(){return typeof this.path=="string"?Lh.dirname(this.path):void 0}set dirname(i){gO(this.basename,"dirname"),this.path=Lh.join(i||"",this.basename)}get basename(){return typeof this.path=="string"?Lh.basename(this.path):void 0}set basename(i){oE(i,"basename"),iE(i,"basename"),this.path=Lh.join(this.dirname||"",i)}get extname(){return typeof this.path=="string"?Lh.extname(this.path):void 0}set extname(i){if(iE(i,"extname"),gO(this.dirname,"extname"),i){if(i.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(i.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Lh.join(this.dirname,this.stem+(i||""))}get stem(){return typeof this.path=="string"?Lh.basename(this.path,this.extname):void 0}set stem(i){oE(i,"stem"),iE(i,"stem"),this.path=Lh.join(this.dirname||"",i+(this.extname||""))}toString(i){return(this.value||"").toString(i||void 0)}message(i,r,o){const a=new od(i,r,o);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}info(i,r,o){const a=this.message(i,r,o);return a.fatal=null,a}fail(i,r,o){const a=this.message(i,r,o);throw a.fatal=!0,a}}function iE(t,i){if(t&&t.includes(Lh.sep))throw new Error("`"+i+"` cannot be a path: did not expect `"+Lh.sep+"`")}function oE(t,i){if(!t)throw new Error("`"+i+"` cannot be empty")}function gO(t,i){if(!t)throw new Error("Setting `"+i+"` requires `path` to be set too")}function aie(t){return D7(t)}function bO(t){if(t)throw t}var sE,kO;function lie(){if(kO)return sE;kO=1;var t=Object.prototype.hasOwnProperty,i=Object.prototype.toString,r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=function(k){return typeof Array.isArray=="function"?Array.isArray(k):i.call(k)==="[object Array]"},c=function(k){if(!k||i.call(k)!=="[object Object]")return!1;var w=t.call(k,"constructor"),_=k.constructor&&k.constructor.prototype&&t.call(k.constructor.prototype,"isPrototypeOf");if(k.constructor&&!w&&!_)return!1;var C;for(C in k);return typeof C>"u"||t.call(k,C)},d=function(k,w){r&&w.name==="__proto__"?r(k,w.name,{enumerable:!0,configurable:!0,value:w.newValue,writable:!0}):k[w.name]=w.newValue},p=function(k,w){if(w==="__proto__")if(t.call(k,w)){if(o)return o(k,w).value}else return;return k[w]};return sE=function m(){var k,w,_,C,v,D,E=arguments[0],O=1,M=arguments.length,j=!1;for(typeof E=="boolean"&&(j=E,E=arguments[1]||{},O=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});O<M;++O)if(k=arguments[O],k!=null)for(w in k)_=p(E,w),C=p(k,w),E!==C&&(j&&C&&(c(C)||(v=a(C)))?(v?(v=!1,D=_&&a(_)?_:[]):D=_&&c(_)?_:{},d(E,{name:w,newValue:m(j,D,C)})):typeof C<"u"&&d(E,{name:w,newValue:C}));return E},sE}var cie=lie();const wO=Si(cie);function d4(t){if(typeof t!="object"||t===null)return!1;const i=Object.getPrototypeOf(t);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function uie(){const t=[],i={run:r,use:o};return i;function r(...a){let c=-1;const d=a.pop();if(typeof d!="function")throw new TypeError("Expected function as last argument, not "+d);p(null,...a);function p(m,...k){const w=t[++c];let _=-1;if(m){d(m);return}for(;++_<a.length;)(k[_]===null||k[_]===void 0)&&(k[_]=a[_]);a=k,w?die(w,p)(...k):d(null,...k)}}function o(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return t.push(a),i}}function die(t,i){let r;return o;function o(...d){const p=t.length>d.length;let m;p&&d.push(a);try{m=t.apply(this,d)}catch(k){const w=k;if(p&&r)throw w;return a(w)}p||(m&&m.then&&typeof m.then=="function"?m.then(c,a):m instanceof Error?a(m):c(m))}function a(d,...p){r||(r=!0,i(d,...p))}function c(d){a(null,d)}}const hie=M7().freeze(),T7={}.hasOwnProperty;function M7(){const t=uie(),i=[];let r={},o,a=-1;return c.data=d,c.Parser=void 0,c.Compiler=void 0,c.freeze=p,c.attachers=i,c.use=m,c.parse=k,c.stringify=w,c.run=_,c.runSync=C,c.process=v,c.processSync=D,c;function c(){const E=M7();let O=-1;for(;++O<i.length;)E.use(...i[O]);return E.data(wO(!0,{},r)),E}function d(E,O){return typeof E=="string"?arguments.length===2?(cE("data",o),r[E]=O,c):T7.call(r,E)&&r[E]||null:E?(cE("data",o),r=E,c):r}function p(){if(o)return c;for(;++a<i.length;){const[E,...O]=i[a];if(O[0]===!1)continue;O[0]===!0&&(O[0]=void 0);const M=E.call(c,...O);typeof M=="function"&&t.use(M)}return o=!0,a=Number.POSITIVE_INFINITY,c}function m(E,...O){let M;if(cE("use",o),E!=null)if(typeof E=="function")J(E,...O);else if(typeof E=="object")Array.isArray(E)?G(E):F(E);else throw new TypeError("Expected usable value, not `"+E+"`");return M&&(r.settings=Object.assign(r.settings||{},M)),c;function j(H){if(typeof H=="function")J(H);else if(typeof H=="object")if(Array.isArray(H)){const[z,...Z]=H;J(z,...Z)}else F(H);else throw new TypeError("Expected usable value, not `"+H+"`")}function F(H){G(H.plugins),H.settings&&(M=Object.assign(M||{},H.settings))}function G(H){let z=-1;if(H!=null)if(Array.isArray(H))for(;++z<H.length;){const Z=H[z];j(Z)}else throw new TypeError("Expected a list of plugins, not `"+H+"`")}function J(H,z){let Z=-1,Y;for(;++Z<i.length;)if(i[Z][0]===H){Y=i[Z];break}Y?(d4(Y[1])&&d4(z)&&(z=wO(!0,Y[1],z)),Y[1]=z):i.push([...arguments])}}function k(E){c.freeze();const O=ty(E),M=c.Parser;return aE("parse",M),vO(M,"parse")?new M(String(O),O).parse():M(String(O),O)}function w(E,O){c.freeze();const M=ty(O),j=c.Compiler;return lE("stringify",j),yO(E),vO(j,"compile")?new j(E,M).compile():j(E,M)}function _(E,O,M){if(yO(E),c.freeze(),!M&&typeof O=="function"&&(M=O,O=void 0),!M)return new Promise(j);j(null,M);function j(F,G){t.run(E,ty(O),J);function J(H,z,Z){z=z||E,H?G(H):F?F(z):M(null,z,Z)}}}function C(E,O){let M,j;return c.run(E,O,F),AO("runSync","run",j),M;function F(G,J){bO(G),M=J,j=!0}}function v(E,O){if(c.freeze(),aE("process",c.Parser),lE("process",c.Compiler),!O)return new Promise(M);M(null,O);function M(j,F){const G=ty(E);c.run(c.parse(G),G,(H,z,Z)=>{if(H||!z||!Z)J(H);else{const Y=c.stringify(z,Z);Y==null||(mie(Y)?Z.value=Y:Z.result=Y),J(H,Z)}});function J(H,z){H||!z?F(H):j?j(z):O(null,z)}}}function D(E){let O;c.freeze(),aE("processSync",c.Parser),lE("processSync",c.Compiler);const M=ty(E);return c.process(M,j),AO("processSync","process",O),M;function j(F){O=!0,bO(F)}}}function vO(t,i){return typeof t=="function"&&t.prototype&&(fie(t.prototype)||i in t.prototype)}function fie(t){let i;for(i in t)if(T7.call(t,i))return!0;return!1}function aE(t,i){if(typeof i!="function")throw new TypeError("Cannot `"+t+"` without `Parser`")}function lE(t,i){if(typeof i!="function")throw new TypeError("Cannot `"+t+"` without `Compiler`")}function cE(t,i){if(i)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function yO(t){if(!d4(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function AO(t,i,r){if(!r)throw new Error("`"+t+"` finished async. Use `"+i+"` instead")}function ty(t){return pie(t)?t:new I7(t)}function pie(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function mie(t){return typeof t=="string"||D7(t)}const gie={};function bie(t,i){const r=gie,o=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,a=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return N7(t,o,a)}function N7(t,i,r){if(kie(t)){if("value"in t)return t.type==="html"&&!r?"":t.value;if(i&&"alt"in t&&t.alt)return t.alt;if("children"in t)return _O(t.children,i,r)}return Array.isArray(t)?_O(t,i,r):""}function _O(t,i,r){const o=[];let a=-1;for(;++a<t.length;)o[a]=N7(t[a],i,r);return o.join("")}function kie(t){return!!(t&&typeof t=="object")}function df(t,i,r,o){const a=t.length;let c=0,d;if(i<0?i=-i>a?0:a+i:i=i>a?a:i,r=r>0?r:0,o.length<1e4)d=Array.from(o),d.unshift(i,r),t.splice(...d);else for(r&&t.splice(i,r);c<o.length;)d=o.slice(c,c+1e4),d.unshift(i,0),t.splice(...d),c+=1e4,i+=1e4}function Xu(t,i){return t.length>0?(df(t,t.length,0,i),t):i}const CO={}.hasOwnProperty;function wie(t){const i={};let r=-1;for(;++r<t.length;)vie(i,t[r]);return i}function vie(t,i){let r;for(r in i){const a=(CO.call(t,r)?t[r]:void 0)||(t[r]={}),c=i[r];let d;if(c)for(d in c){CO.call(a,d)||(a[d]=[]);const p=c[d];yie(a[d],Array.isArray(p)?p:p?[p]:[])}}}function yie(t,i){let r=-1;const o=[];for(;++r<i.length;)(i[r].add==="after"?t:o).push(i[r]);df(t,0,0,o)}const Aie=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Qh=Wm(/[A-Za-z]/),ru=Wm(/[\dA-Za-z]/),_ie=Wm(/[#-'*+\--9=?A-Z^-~]/);function h4(t){return t!==null&&(t<32||t===127)}const f4=Wm(/\d/),Cie=Wm(/[\dA-Fa-f]/),xie=Wm(/[!-/:-@[-`{-~]/);function $n(t){return t!==null&&t<-2}function cc(t){return t!==null&&(t<0||t===32)}function ci(t){return t===-2||t===-1||t===32}const Sie=Wm(Aie),Eie=Wm(/\s/);function Wm(t){return i;function i(r){return r!==null&&t.test(String.fromCharCode(r))}}function Yi(t,i,r,o){const a=o?o-1:Number.POSITIVE_INFINITY;let c=0;return d;function d(m){return ci(m)?(t.enter(r),p(m)):i(m)}function p(m){return ci(m)&&c++<a?(t.consume(m),p):(t.exit(r),i(m))}}const Die={tokenize:Iie};function Iie(t){const i=t.attempt(this.parser.constructs.contentInitial,o,a);let r;return i;function o(p){if(p===null){t.consume(p);return}return t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),Yi(t,i,"linePrefix")}function a(p){return t.enter("paragraph"),c(p)}function c(p){const m=t.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=m),r=m,d(p)}function d(p){if(p===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(p);return}return $n(p)?(t.consume(p),t.exit("chunkText"),c):(t.consume(p),d)}}const Tie={tokenize:Mie},xO={tokenize:Nie};function Mie(t){const i=this,r=[];let o=0,a,c,d;return p;function p(F){if(o<r.length){const G=r[o];return i.containerState=G[1],t.attempt(G[0].continuation,m,k)(F)}return k(F)}function m(F){if(o++,i.containerState._closeFlow){i.containerState._closeFlow=void 0,a&&j();const G=i.events.length;let J=G,H;for(;J--;)if(i.events[J][0]==="exit"&&i.events[J][1].type==="chunkFlow"){H=i.events[J][1].end;break}M(o);let z=G;for(;z<i.events.length;)i.events[z][1].end=Object.assign({},H),z++;return df(i.events,J+1,0,i.events.slice(G)),i.events.length=z,k(F)}return p(F)}function k(F){if(o===r.length){if(!a)return C(F);if(a.currentConstruct&&a.currentConstruct.concrete)return D(F);i.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return i.containerState={},t.check(xO,w,_)(F)}function w(F){return a&&j(),M(o),C(F)}function _(F){return i.parser.lazy[i.now().line]=o!==r.length,d=i.now().offset,D(F)}function C(F){return i.containerState={},t.attempt(xO,v,D)(F)}function v(F){return o++,r.push([i.currentConstruct,i.containerState]),C(F)}function D(F){if(F===null){a&&j(),M(0),t.consume(F);return}return a=a||i.parser.flow(i.now()),t.enter("chunkFlow",{contentType:"flow",previous:c,_tokenizer:a}),E(F)}function E(F){if(F===null){O(t.exit("chunkFlow"),!0),M(0),t.consume(F);return}return $n(F)?(t.consume(F),O(t.exit("chunkFlow")),o=0,i.interrupt=void 0,p):(t.consume(F),E)}function O(F,G){const J=i.sliceStream(F);if(G&&J.push(null),F.previous=c,c&&(c.next=F),c=F,a.defineSkip(F.start),a.write(J),i.parser.lazy[F.start.line]){let H=a.events.length;for(;H--;)if(a.events[H][1].start.offset<d&&(!a.events[H][1].end||a.events[H][1].end.offset>d))return;const z=i.events.length;let Z=z,Y,se;for(;Z--;)if(i.events[Z][0]==="exit"&&i.events[Z][1].type==="chunkFlow"){if(Y){se=i.events[Z][1].end;break}Y=!0}for(M(o),H=z;H<i.events.length;)i.events[H][1].end=Object.assign({},se),H++;df(i.events,Z+1,0,i.events.slice(z)),i.events.length=H}}function M(F){let G=r.length;for(;G-- >F;){const J=r[G];i.containerState=J[1],J[0].exit.call(i,t)}r.length=F}function j(){a.write([null]),c=void 0,a=void 0,i.containerState._closeFlow=void 0}}function Nie(t,i,r){return Yi(t,t.attempt(this.parser.constructs.document,i,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function SO(t){if(t===null||cc(t)||Eie(t))return 1;if(Sie(t))return 2}function bD(t,i,r){const o=[];let a=-1;for(;++a<t.length;){const c=t[a].resolveAll;c&&!o.includes(c)&&(i=c(i,r),o.push(c))}return i}const p4={name:"attention",tokenize:Bie,resolveAll:Oie};function Oie(t,i){let r=-1,o,a,c,d,p,m,k,w;for(;++r<t.length;)if(t[r][0]==="enter"&&t[r][1].type==="attentionSequence"&&t[r][1]._close){for(o=r;o--;)if(t[o][0]==="exit"&&t[o][1].type==="attentionSequence"&&t[o][1]._open&&i.sliceSerialize(t[o][1]).charCodeAt(0)===i.sliceSerialize(t[r][1]).charCodeAt(0)){if((t[o][1]._close||t[r][1]._open)&&(t[r][1].end.offset-t[r][1].start.offset)%3&&!((t[o][1].end.offset-t[o][1].start.offset+t[r][1].end.offset-t[r][1].start.offset)%3))continue;m=t[o][1].end.offset-t[o][1].start.offset>1&&t[r][1].end.offset-t[r][1].start.offset>1?2:1;const _=Object.assign({},t[o][1].end),C=Object.assign({},t[r][1].start);EO(_,-m),EO(C,m),d={type:m>1?"strongSequence":"emphasisSequence",start:_,end:Object.assign({},t[o][1].end)},p={type:m>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[r][1].start),end:C},c={type:m>1?"strongText":"emphasisText",start:Object.assign({},t[o][1].end),end:Object.assign({},t[r][1].start)},a={type:m>1?"strong":"emphasis",start:Object.assign({},d.start),end:Object.assign({},p.end)},t[o][1].end=Object.assign({},d.start),t[r][1].start=Object.assign({},p.end),k=[],t[o][1].end.offset-t[o][1].start.offset&&(k=Xu(k,[["enter",t[o][1],i],["exit",t[o][1],i]])),k=Xu(k,[["enter",a,i],["enter",d,i],["exit",d,i],["enter",c,i]]),k=Xu(k,bD(i.parser.constructs.insideSpan.null,t.slice(o+1,r),i)),k=Xu(k,[["exit",c,i],["enter",p,i],["exit",p,i],["exit",a,i]]),t[r][1].end.offset-t[r][1].start.offset?(w=2,k=Xu(k,[["enter",t[r][1],i],["exit",t[r][1],i]])):w=0,df(t,o-1,r-o+3,k),r=o+k.length-w-2;break}}for(r=-1;++r<t.length;)t[r][1].type==="attentionSequence"&&(t[r][1].type="data");return t}function Bie(t,i){const r=this.parser.constructs.attentionMarkers.null,o=this.previous,a=SO(o);let c;return d;function d(m){return c=m,t.enter("attentionSequence"),p(m)}function p(m){if(m===c)return t.consume(m),p;const k=t.exit("attentionSequence"),w=SO(m),_=!w||w===2&&a||r.includes(m),C=!a||a===2&&w||r.includes(o);return k._open=!!(c===42?_:_&&(a||!C)),k._close=!!(c===42?C:C&&(w||!_)),i(m)}}function EO(t,i){t.column+=i,t.offset+=i,t._bufferIndex+=i}const jie={name:"autolink",tokenize:Lie};function Lie(t,i,r){let o=0;return a;function a(v){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),c}function c(v){return Qh(v)?(t.consume(v),d):k(v)}function d(v){return v===43||v===45||v===46||ru(v)?(o=1,p(v)):k(v)}function p(v){return v===58?(t.consume(v),o=0,m):(v===43||v===45||v===46||ru(v))&&o++<32?(t.consume(v),p):(o=0,k(v))}function m(v){return v===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),i):v===null||v===32||v===60||h4(v)?r(v):(t.consume(v),m)}function k(v){return v===64?(t.consume(v),w):_ie(v)?(t.consume(v),k):r(v)}function w(v){return ru(v)?_(v):r(v)}function _(v){return v===46?(t.consume(v),o=0,w):v===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),i):C(v)}function C(v){if((v===45||ru(v))&&o++<63){const D=v===45?C:_;return t.consume(v),D}return r(v)}}const T5={tokenize:Pie,partial:!0};function Pie(t,i,r){return o;function o(c){return ci(c)?Yi(t,a,"linePrefix")(c):a(c)}function a(c){return c===null||$n(c)?i(c):r(c)}}const O7={name:"blockQuote",tokenize:Rie,continuation:{tokenize:Fie},exit:zie};function Rie(t,i,r){const o=this;return a;function a(d){if(d===62){const p=o.containerState;return p.open||(t.enter("blockQuote",{_container:!0}),p.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(d),t.exit("blockQuoteMarker"),c}return r(d)}function c(d){return ci(d)?(t.enter("blockQuotePrefixWhitespace"),t.consume(d),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),i):(t.exit("blockQuotePrefix"),i(d))}}function Fie(t,i,r){const o=this;return a;function a(d){return ci(d)?Yi(t,c,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d):c(d)}function c(d){return t.attempt(O7,i,r)(d)}}function zie(t){t.exit("blockQuote")}const B7={name:"characterEscape",tokenize:Uie};function Uie(t,i,r){return o;function o(c){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(c),t.exit("escapeMarker"),a}function a(c){return xie(c)?(t.enter("characterEscapeValue"),t.consume(c),t.exit("characterEscapeValue"),t.exit("characterEscape"),i):r(c)}}const DO=document.createElement("i");function kD(t){const i="&"+t+";";DO.innerHTML=i;const r=DO.textContent;return r.charCodeAt(r.length-1)===59&&t!=="semi"||r===i?!1:r}const j7={name:"characterReference",tokenize:qie};function qie(t,i,r){const o=this;let a=0,c,d;return p;function p(_){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(_),t.exit("characterReferenceMarker"),m}function m(_){return _===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(_),t.exit("characterReferenceMarkerNumeric"),k):(t.enter("characterReferenceValue"),c=31,d=ru,w(_))}function k(_){return _===88||_===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(_),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),c=6,d=Cie,w):(t.enter("characterReferenceValue"),c=7,d=f4,w(_))}function w(_){if(_===59&&a){const C=t.exit("characterReferenceValue");return d===ru&&!kD(o.sliceSerialize(C))?r(_):(t.enter("characterReferenceMarker"),t.consume(_),t.exit("characterReferenceMarker"),t.exit("characterReference"),i)}return d(_)&&a++<c?(t.consume(_),w):r(_)}}const IO={tokenize:Hie,partial:!0},TO={name:"codeFenced",tokenize:Vie,concrete:!0};function Vie(t,i,r){const o=this,a={tokenize:J,partial:!0};let c=0,d=0,p;return m;function m(H){return k(H)}function k(H){const z=o.events[o.events.length-1];return c=z&&z[1].type==="linePrefix"?z[2].sliceSerialize(z[1],!0).length:0,p=H,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),w(H)}function w(H){return H===p?(d++,t.consume(H),w):d<3?r(H):(t.exit("codeFencedFenceSequence"),ci(H)?Yi(t,_,"whitespace")(H):_(H))}function _(H){return H===null||$n(H)?(t.exit("codeFencedFence"),o.interrupt?i(H):t.check(IO,E,G)(H)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),C(H))}function C(H){return H===null||$n(H)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),_(H)):ci(H)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Yi(t,v,"whitespace")(H)):H===96&&H===p?r(H):(t.consume(H),C)}function v(H){return H===null||$n(H)?_(H):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),D(H))}function D(H){return H===null||$n(H)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),_(H)):H===96&&H===p?r(H):(t.consume(H),D)}function E(H){return t.attempt(a,G,O)(H)}function O(H){return t.enter("lineEnding"),t.consume(H),t.exit("lineEnding"),M}function M(H){return c>0&&ci(H)?Yi(t,j,"linePrefix",c+1)(H):j(H)}function j(H){return H===null||$n(H)?t.check(IO,E,G)(H):(t.enter("codeFlowValue"),F(H))}function F(H){return H===null||$n(H)?(t.exit("codeFlowValue"),j(H)):(t.consume(H),F)}function G(H){return t.exit("codeFenced"),i(H)}function J(H,z,Z){let Y=0;return se;function se(fe){return H.enter("lineEnding"),H.consume(fe),H.exit("lineEnding"),X}function X(fe){return H.enter("codeFencedFence"),ci(fe)?Yi(H,K,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(fe):K(fe)}function K(fe){return fe===p?(H.enter("codeFencedFenceSequence"),U(fe)):Z(fe)}function U(fe){return fe===p?(Y++,H.consume(fe),U):Y>=d?(H.exit("codeFencedFenceSequence"),ci(fe)?Yi(H,q,"whitespace")(fe):q(fe)):Z(fe)}function q(fe){return fe===null||$n(fe)?(H.exit("codeFencedFence"),z(fe)):Z(fe)}}}function Hie(t,i,r){const o=this;return a;function a(d){return d===null?r(d):(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),c)}function c(d){return o.parser.lazy[o.now().line]?r(d):i(d)}}const uE={name:"codeIndented",tokenize:Wie},$ie={tokenize:Gie,partial:!0};function Wie(t,i,r){const o=this;return a;function a(k){return t.enter("codeIndented"),Yi(t,c,"linePrefix",5)(k)}function c(k){const w=o.events[o.events.length-1];return w&&w[1].type==="linePrefix"&&w[2].sliceSerialize(w[1],!0).length>=4?d(k):r(k)}function d(k){return k===null?m(k):$n(k)?t.attempt($ie,d,m)(k):(t.enter("codeFlowValue"),p(k))}function p(k){return k===null||$n(k)?(t.exit("codeFlowValue"),d(k)):(t.consume(k),p)}function m(k){return t.exit("codeIndented"),i(k)}}function Gie(t,i,r){const o=this;return a;function a(d){return o.parser.lazy[o.now().line]?r(d):$n(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),a):Yi(t,c,"linePrefix",5)(d)}function c(d){const p=o.events[o.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?i(d):$n(d)?a(d):r(d)}}const Yie={name:"codeText",tokenize:Zie,resolve:Kie,previous:Qie};function Kie(t){let i=t.length-4,r=3,o,a;if((t[r][1].type==="lineEnding"||t[r][1].type==="space")&&(t[i][1].type==="lineEnding"||t[i][1].type==="space")){for(o=r;++o<i;)if(t[o][1].type==="codeTextData"){t[r][1].type="codeTextPadding",t[i][1].type="codeTextPadding",r+=2,i-=2;break}}for(o=r-1,i++;++o<=i;)a===void 0?o!==i&&t[o][1].type!=="lineEnding"&&(a=o):(o===i||t[o][1].type==="lineEnding")&&(t[a][1].type="codeTextData",o!==a+2&&(t[a][1].end=t[o-1][1].end,t.splice(a+2,o-a-2),i-=o-a-2,o=a+2),a=void 0);return t}function Qie(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Zie(t,i,r){let o=0,a,c;return d;function d(_){return t.enter("codeText"),t.enter("codeTextSequence"),p(_)}function p(_){return _===96?(t.consume(_),o++,p):(t.exit("codeTextSequence"),m(_))}function m(_){return _===null?r(_):_===32?(t.enter("space"),t.consume(_),t.exit("space"),m):_===96?(c=t.enter("codeTextSequence"),a=0,w(_)):$n(_)?(t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),m):(t.enter("codeTextData"),k(_))}function k(_){return _===null||_===32||_===96||$n(_)?(t.exit("codeTextData"),m(_)):(t.consume(_),k)}function w(_){return _===96?(t.consume(_),a++,w):a===o?(t.exit("codeTextSequence"),t.exit("codeText"),i(_)):(c.type="codeTextData",k(_))}}function L7(t){const i={};let r=-1,o,a,c,d,p,m,k;for(;++r<t.length;){for(;r in i;)r=i[r];if(o=t[r],r&&o[1].type==="chunkFlow"&&t[r-1][1].type==="listItemPrefix"&&(m=o[1]._tokenizer.events,c=0,c<m.length&&m[c][1].type==="lineEndingBlank"&&(c+=2),c<m.length&&m[c][1].type==="content"))for(;++c<m.length&&m[c][1].type!=="content";)m[c][1].type==="chunkText"&&(m[c][1]._isInFirstContentOfListItem=!0,c++);if(o[0]==="enter")o[1].contentType&&(Object.assign(i,Jie(t,r)),r=i[r],k=!0);else if(o[1]._container){for(c=r,a=void 0;c--&&(d=t[c],d[1].type==="lineEnding"||d[1].type==="lineEndingBlank");)d[0]==="enter"&&(a&&(t[a][1].type="lineEndingBlank"),d[1].type="lineEnding",a=c);a&&(o[1].end=Object.assign({},t[a][1].start),p=t.slice(a,r),p.unshift(o),df(t,a,r-a+1,p))}}return!k}function Jie(t,i){const r=t[i][1],o=t[i][2];let a=i-1;const c=[],d=r._tokenizer||o.parser[r.contentType](r.start),p=d.events,m=[],k={};let w,_,C=-1,v=r,D=0,E=0;const O=[E];for(;v;){for(;t[++a][1]!==v;);c.push(a),v._tokenizer||(w=o.sliceStream(v),v.next||w.push(null),_&&d.defineSkip(v.start),v._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=!0),d.write(w),v._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=void 0)),_=v,v=v.next}for(v=r;++C<p.length;)p[C][0]==="exit"&&p[C-1][0]==="enter"&&p[C][1].type===p[C-1][1].type&&p[C][1].start.line!==p[C][1].end.line&&(E=C+1,O.push(E),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(d.events=[],v?(v._tokenizer=void 0,v.previous=void 0):O.pop(),C=O.length;C--;){const M=p.slice(O[C],O[C+1]),j=c.pop();m.unshift([j,j+M.length-1]),df(t,j,2,M)}for(C=-1;++C<m.length;)k[D+m[C][0]]=D+m[C][1],D+=m[C][1]-m[C][0]-1;return k}const Xie={tokenize:noe,resolve:toe},eoe={tokenize:roe,partial:!0};function toe(t){return L7(t),t}function noe(t,i){let r;return o;function o(p){return t.enter("content"),r=t.enter("chunkContent",{contentType:"content"}),a(p)}function a(p){return p===null?c(p):$n(p)?t.check(eoe,d,c)(p):(t.consume(p),a)}function c(p){return t.exit("chunkContent"),t.exit("content"),i(p)}function d(p){return t.consume(p),t.exit("chunkContent"),r.next=t.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,a}}function roe(t,i,r){const o=this;return a;function a(d){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),Yi(t,c,"linePrefix")}function c(d){if(d===null||$n(d))return r(d);const p=o.events[o.events.length-1];return!o.parser.constructs.disable.null.includes("codeIndented")&&p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?i(d):t.interrupt(o.parser.constructs.flow,r,i)(d)}}function P7(t,i,r,o,a,c,d,p,m){const k=m||Number.POSITIVE_INFINITY;let w=0;return _;function _(M){return M===60?(t.enter(o),t.enter(a),t.enter(c),t.consume(M),t.exit(c),C):M===null||M===32||M===41||h4(M)?r(M):(t.enter(o),t.enter(d),t.enter(p),t.enter("chunkString",{contentType:"string"}),E(M))}function C(M){return M===62?(t.enter(c),t.consume(M),t.exit(c),t.exit(a),t.exit(o),i):(t.enter(p),t.enter("chunkString",{contentType:"string"}),v(M))}function v(M){return M===62?(t.exit("chunkString"),t.exit(p),C(M)):M===null||M===60||$n(M)?r(M):(t.consume(M),M===92?D:v)}function D(M){return M===60||M===62||M===92?(t.consume(M),v):v(M)}function E(M){return!w&&(M===null||M===41||cc(M))?(t.exit("chunkString"),t.exit(p),t.exit(d),t.exit(o),i(M)):w<k&&M===40?(t.consume(M),w++,E):M===41?(t.consume(M),w--,E):M===null||M===32||M===40||h4(M)?r(M):(t.consume(M),M===92?O:E)}function O(M){return M===40||M===41||M===92?(t.consume(M),E):E(M)}}function R7(t,i,r,o,a,c){const d=this;let p=0,m;return k;function k(v){return t.enter(o),t.enter(a),t.consume(v),t.exit(a),t.enter(c),w}function w(v){return p>999||v===null||v===91||v===93&&!m||v===94&&!p&&"_hiddenFootnoteSupport"in d.parser.constructs?r(v):v===93?(t.exit(c),t.enter(a),t.consume(v),t.exit(a),t.exit(o),i):$n(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),w):(t.enter("chunkString",{contentType:"string"}),_(v))}function _(v){return v===null||v===91||v===93||$n(v)||p++>999?(t.exit("chunkString"),w(v)):(t.consume(v),m||(m=!ci(v)),v===92?C:_)}function C(v){return v===91||v===92||v===93?(t.consume(v),p++,_):_(v)}}function F7(t,i,r,o,a,c){let d;return p;function p(C){return C===34||C===39||C===40?(t.enter(o),t.enter(a),t.consume(C),t.exit(a),d=C===40?41:C,m):r(C)}function m(C){return C===d?(t.enter(a),t.consume(C),t.exit(a),t.exit(o),i):(t.enter(c),k(C))}function k(C){return C===d?(t.exit(c),m(d)):C===null?r(C):$n(C)?(t.enter("lineEnding"),t.consume(C),t.exit("lineEnding"),Yi(t,k,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),w(C))}function w(C){return C===d||C===null||$n(C)?(t.exit("chunkString"),k(C)):(t.consume(C),C===92?_:w)}function _(C){return C===d||C===92?(t.consume(C),w):w(C)}}function Sy(t,i){let r;return o;function o(a){return $n(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),r=!0,o):ci(a)?Yi(t,o,r?"linePrefix":"lineSuffix")(a):i(a)}}function ik(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ioe={name:"definition",tokenize:soe},ooe={tokenize:aoe,partial:!0};function soe(t,i,r){const o=this;let a;return c;function c(v){return t.enter("definition"),d(v)}function d(v){return R7.call(o,t,p,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function p(v){return a=ik(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)),v===58?(t.enter("definitionMarker"),t.consume(v),t.exit("definitionMarker"),m):r(v)}function m(v){return cc(v)?Sy(t,k)(v):k(v)}function k(v){return P7(t,w,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function w(v){return t.attempt(ooe,_,_)(v)}function _(v){return ci(v)?Yi(t,C,"whitespace")(v):C(v)}function C(v){return v===null||$n(v)?(t.exit("definition"),o.parser.defined.push(a),i(v)):r(v)}}function aoe(t,i,r){return o;function o(p){return cc(p)?Sy(t,a)(p):r(p)}function a(p){return F7(t,c,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(p)}function c(p){return ci(p)?Yi(t,d,"whitespace")(p):d(p)}function d(p){return p===null||$n(p)?i(p):r(p)}}const loe={name:"hardBreakEscape",tokenize:coe};function coe(t,i,r){return o;function o(c){return t.enter("hardBreakEscape"),t.consume(c),a}function a(c){return $n(c)?(t.exit("hardBreakEscape"),i(c)):r(c)}}const uoe={name:"headingAtx",tokenize:hoe,resolve:doe};function doe(t,i){let r=t.length-2,o=3,a,c;return t[o][1].type==="whitespace"&&(o+=2),r-2>o&&t[r][1].type==="whitespace"&&(r-=2),t[r][1].type==="atxHeadingSequence"&&(o===r-1||r-4>o&&t[r-2][1].type==="whitespace")&&(r-=o+1===r?2:4),r>o&&(a={type:"atxHeadingText",start:t[o][1].start,end:t[r][1].end},c={type:"chunkText",start:t[o][1].start,end:t[r][1].end,contentType:"text"},df(t,o,r-o+1,[["enter",a,i],["enter",c,i],["exit",c,i],["exit",a,i]])),t}function hoe(t,i,r){let o=0;return a;function a(w){return t.enter("atxHeading"),c(w)}function c(w){return t.enter("atxHeadingSequence"),d(w)}function d(w){return w===35&&o++<6?(t.consume(w),d):w===null||cc(w)?(t.exit("atxHeadingSequence"),p(w)):r(w)}function p(w){return w===35?(t.enter("atxHeadingSequence"),m(w)):w===null||$n(w)?(t.exit("atxHeading"),i(w)):ci(w)?Yi(t,p,"whitespace")(w):(t.enter("atxHeadingText"),k(w))}function m(w){return w===35?(t.consume(w),m):(t.exit("atxHeadingSequence"),p(w))}function k(w){return w===null||w===35||cc(w)?(t.exit("atxHeadingText"),p(w)):(t.consume(w),k)}}const foe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],MO=["pre","script","style","textarea"],poe={name:"htmlFlow",tokenize:koe,resolveTo:boe,concrete:!0},moe={tokenize:voe,partial:!0},goe={tokenize:woe,partial:!0};function boe(t){let i=t.length;for(;i--&&!(t[i][0]==="enter"&&t[i][1].type==="htmlFlow"););return i>1&&t[i-2][1].type==="linePrefix"&&(t[i][1].start=t[i-2][1].start,t[i+1][1].start=t[i-2][1].start,t.splice(i-2,2)),t}function koe(t,i,r){const o=this;let a,c,d,p,m;return k;function k(te){return w(te)}function w(te){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(te),_}function _(te){return te===33?(t.consume(te),C):te===47?(t.consume(te),c=!0,E):te===63?(t.consume(te),a=3,o.interrupt?i:ce):Qh(te)?(t.consume(te),d=String.fromCharCode(te),O):r(te)}function C(te){return te===45?(t.consume(te),a=2,v):te===91?(t.consume(te),a=5,p=0,D):Qh(te)?(t.consume(te),a=4,o.interrupt?i:ce):r(te)}function v(te){return te===45?(t.consume(te),o.interrupt?i:ce):r(te)}function D(te){const ke="CDATA[";return te===ke.charCodeAt(p++)?(t.consume(te),p===ke.length?o.interrupt?i:K:D):r(te)}function E(te){return Qh(te)?(t.consume(te),d=String.fromCharCode(te),O):r(te)}function O(te){if(te===null||te===47||te===62||cc(te)){const ke=te===47,be=d.toLowerCase();return!ke&&!c&&MO.includes(be)?(a=1,o.interrupt?i(te):K(te)):foe.includes(d.toLowerCase())?(a=6,ke?(t.consume(te),M):o.interrupt?i(te):K(te)):(a=7,o.interrupt&&!o.parser.lazy[o.now().line]?r(te):c?j(te):F(te))}return te===45||ru(te)?(t.consume(te),d+=String.fromCharCode(te),O):r(te)}function M(te){return te===62?(t.consume(te),o.interrupt?i:K):r(te)}function j(te){return ci(te)?(t.consume(te),j):se(te)}function F(te){return te===47?(t.consume(te),se):te===58||te===95||Qh(te)?(t.consume(te),G):ci(te)?(t.consume(te),F):se(te)}function G(te){return te===45||te===46||te===58||te===95||ru(te)?(t.consume(te),G):J(te)}function J(te){return te===61?(t.consume(te),H):ci(te)?(t.consume(te),J):F(te)}function H(te){return te===null||te===60||te===61||te===62||te===96?r(te):te===34||te===39?(t.consume(te),m=te,z):ci(te)?(t.consume(te),H):Z(te)}function z(te){return te===m?(t.consume(te),m=null,Y):te===null||$n(te)?r(te):(t.consume(te),z)}function Z(te){return te===null||te===34||te===39||te===47||te===60||te===61||te===62||te===96||cc(te)?J(te):(t.consume(te),Z)}function Y(te){return te===47||te===62||ci(te)?F(te):r(te)}function se(te){return te===62?(t.consume(te),X):r(te)}function X(te){return te===null||$n(te)?K(te):ci(te)?(t.consume(te),X):r(te)}function K(te){return te===45&&a===2?(t.consume(te),ue):te===60&&a===1?(t.consume(te),de):te===62&&a===4?(t.consume(te),Te):te===63&&a===3?(t.consume(te),ce):te===93&&a===5?(t.consume(te),Ie):$n(te)&&(a===6||a===7)?(t.exit("htmlFlowData"),t.check(moe,re,U)(te)):te===null||$n(te)?(t.exit("htmlFlowData"),U(te)):(t.consume(te),K)}function U(te){return t.check(goe,q,re)(te)}function q(te){return t.enter("lineEnding"),t.consume(te),t.exit("lineEnding"),fe}function fe(te){return te===null||$n(te)?U(te):(t.enter("htmlFlowData"),K(te))}function ue(te){return te===45?(t.consume(te),ce):K(te)}function de(te){return te===47?(t.consume(te),d="",ge):K(te)}function ge(te){if(te===62){const ke=d.toLowerCase();return MO.includes(ke)?(t.consume(te),Te):K(te)}return Qh(te)&&d.length<8?(t.consume(te),d+=String.fromCharCode(te),ge):K(te)}function Ie(te){return te===93?(t.consume(te),ce):K(te)}function ce(te){return te===62?(t.consume(te),Te):te===45&&a===2?(t.consume(te),ce):K(te)}function Te(te){return te===null||$n(te)?(t.exit("htmlFlowData"),re(te)):(t.consume(te),Te)}function re(te){return t.exit("htmlFlow"),i(te)}}function woe(t,i,r){const o=this;return a;function a(d){return $n(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),c):r(d)}function c(d){return o.parser.lazy[o.now().line]?r(d):i(d)}}function voe(t,i,r){return o;function o(a){return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),t.attempt(T5,i,r)}}const yoe={name:"htmlText",tokenize:Aoe};function Aoe(t,i,r){const o=this;let a,c,d;return p;function p(ce){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(ce),m}function m(ce){return ce===33?(t.consume(ce),k):ce===47?(t.consume(ce),J):ce===63?(t.consume(ce),F):Qh(ce)?(t.consume(ce),Z):r(ce)}function k(ce){return ce===45?(t.consume(ce),w):ce===91?(t.consume(ce),c=0,D):Qh(ce)?(t.consume(ce),j):r(ce)}function w(ce){return ce===45?(t.consume(ce),v):r(ce)}function _(ce){return ce===null?r(ce):ce===45?(t.consume(ce),C):$n(ce)?(d=_,de(ce)):(t.consume(ce),_)}function C(ce){return ce===45?(t.consume(ce),v):_(ce)}function v(ce){return ce===62?ue(ce):ce===45?C(ce):_(ce)}function D(ce){const Te="CDATA[";return ce===Te.charCodeAt(c++)?(t.consume(ce),c===Te.length?E:D):r(ce)}function E(ce){return ce===null?r(ce):ce===93?(t.consume(ce),O):$n(ce)?(d=E,de(ce)):(t.consume(ce),E)}function O(ce){return ce===93?(t.consume(ce),M):E(ce)}function M(ce){return ce===62?ue(ce):ce===93?(t.consume(ce),M):E(ce)}function j(ce){return ce===null||ce===62?ue(ce):$n(ce)?(d=j,de(ce)):(t.consume(ce),j)}function F(ce){return ce===null?r(ce):ce===63?(t.consume(ce),G):$n(ce)?(d=F,de(ce)):(t.consume(ce),F)}function G(ce){return ce===62?ue(ce):F(ce)}function J(ce){return Qh(ce)?(t.consume(ce),H):r(ce)}function H(ce){return ce===45||ru(ce)?(t.consume(ce),H):z(ce)}function z(ce){return $n(ce)?(d=z,de(ce)):ci(ce)?(t.consume(ce),z):ue(ce)}function Z(ce){return ce===45||ru(ce)?(t.consume(ce),Z):ce===47||ce===62||cc(ce)?Y(ce):r(ce)}function Y(ce){return ce===47?(t.consume(ce),ue):ce===58||ce===95||Qh(ce)?(t.consume(ce),se):$n(ce)?(d=Y,de(ce)):ci(ce)?(t.consume(ce),Y):ue(ce)}function se(ce){return ce===45||ce===46||ce===58||ce===95||ru(ce)?(t.consume(ce),se):X(ce)}function X(ce){return ce===61?(t.consume(ce),K):$n(ce)?(d=X,de(ce)):ci(ce)?(t.consume(ce),X):Y(ce)}function K(ce){return ce===null||ce===60||ce===61||ce===62||ce===96?r(ce):ce===34||ce===39?(t.consume(ce),a=ce,U):$n(ce)?(d=K,de(ce)):ci(ce)?(t.consume(ce),K):(t.consume(ce),q)}function U(ce){return ce===a?(t.consume(ce),a=void 0,fe):ce===null?r(ce):$n(ce)?(d=U,de(ce)):(t.consume(ce),U)}function q(ce){return ce===null||ce===34||ce===39||ce===60||ce===61||ce===96?r(ce):ce===47||ce===62||cc(ce)?Y(ce):(t.consume(ce),q)}function fe(ce){return ce===47||ce===62||cc(ce)?Y(ce):r(ce)}function ue(ce){return ce===62?(t.consume(ce),t.exit("htmlTextData"),t.exit("htmlText"),i):r(ce)}function de(ce){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(ce),t.exit("lineEnding"),ge}function ge(ce){return ci(ce)?Yi(t,Ie,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ce):Ie(ce)}function Ie(ce){return t.enter("htmlTextData"),d(ce)}}const wD={name:"labelEnd",tokenize:Doe,resolveTo:Eoe,resolveAll:Soe},_oe={tokenize:Ioe},Coe={tokenize:Toe},xoe={tokenize:Moe};function Soe(t){let i=-1;for(;++i<t.length;){const r=t[i][1];(r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd")&&(t.splice(i+1,r.type==="labelImage"?4:2),r.type="data",i++)}return t}function Eoe(t,i){let r=t.length,o=0,a,c,d,p;for(;r--;)if(a=t[r][1],c){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;t[r][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(d){if(t[r][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(c=r,a.type!=="labelLink")){o=2;break}}else a.type==="labelEnd"&&(d=r);const m={type:t[c][1].type==="labelLink"?"link":"image",start:Object.assign({},t[c][1].start),end:Object.assign({},t[t.length-1][1].end)},k={type:"label",start:Object.assign({},t[c][1].start),end:Object.assign({},t[d][1].end)},w={type:"labelText",start:Object.assign({},t[c+o+2][1].end),end:Object.assign({},t[d-2][1].start)};return p=[["enter",m,i],["enter",k,i]],p=Xu(p,t.slice(c+1,c+o+3)),p=Xu(p,[["enter",w,i]]),p=Xu(p,bD(i.parser.constructs.insideSpan.null,t.slice(c+o+4,d-3),i)),p=Xu(p,[["exit",w,i],t[d-2],t[d-1],["exit",k,i]]),p=Xu(p,t.slice(d+1)),p=Xu(p,[["exit",m,i]]),df(t,c,t.length,p),t}function Doe(t,i,r){const o=this;let a=o.events.length,c,d;for(;a--;)if((o.events[a][1].type==="labelImage"||o.events[a][1].type==="labelLink")&&!o.events[a][1]._balanced){c=o.events[a][1];break}return p;function p(C){return c?c._inactive?_(C):(d=o.parser.defined.includes(ik(o.sliceSerialize({start:c.end,end:o.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(C),t.exit("labelMarker"),t.exit("labelEnd"),m):r(C)}function m(C){return C===40?t.attempt(_oe,w,d?w:_)(C):C===91?t.attempt(Coe,w,d?k:_)(C):d?w(C):_(C)}function k(C){return t.attempt(xoe,w,_)(C)}function w(C){return i(C)}function _(C){return c._balanced=!0,r(C)}}function Ioe(t,i,r){return o;function o(_){return t.enter("resource"),t.enter("resourceMarker"),t.consume(_),t.exit("resourceMarker"),a}function a(_){return cc(_)?Sy(t,c)(_):c(_)}function c(_){return _===41?w(_):P7(t,d,p,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(_)}function d(_){return cc(_)?Sy(t,m)(_):w(_)}function p(_){return r(_)}function m(_){return _===34||_===39||_===40?F7(t,k,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(_):w(_)}function k(_){return cc(_)?Sy(t,w)(_):w(_)}function w(_){return _===41?(t.enter("resourceMarker"),t.consume(_),t.exit("resourceMarker"),t.exit("resource"),i):r(_)}}function Toe(t,i,r){const o=this;return a;function a(p){return R7.call(o,t,c,d,"reference","referenceMarker","referenceString")(p)}function c(p){return o.parser.defined.includes(ik(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)))?i(p):r(p)}function d(p){return r(p)}}function Moe(t,i,r){return o;function o(c){return t.enter("reference"),t.enter("referenceMarker"),t.consume(c),t.exit("referenceMarker"),a}function a(c){return c===93?(t.enter("referenceMarker"),t.consume(c),t.exit("referenceMarker"),t.exit("reference"),i):r(c)}}const Noe={name:"labelStartImage",tokenize:Ooe,resolveAll:wD.resolveAll};function Ooe(t,i,r){const o=this;return a;function a(p){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(p),t.exit("labelImageMarker"),c}function c(p){return p===91?(t.enter("labelMarker"),t.consume(p),t.exit("labelMarker"),t.exit("labelImage"),d):r(p)}function d(p){return p===94&&"_hiddenFootnoteSupport"in o.parser.constructs?r(p):i(p)}}const Boe={name:"labelStartLink",tokenize:joe,resolveAll:wD.resolveAll};function joe(t,i,r){const o=this;return a;function a(d){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(d),t.exit("labelMarker"),t.exit("labelLink"),c}function c(d){return d===94&&"_hiddenFootnoteSupport"in o.parser.constructs?r(d):i(d)}}const dE={name:"lineEnding",tokenize:Loe};function Loe(t,i){return r;function r(o){return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Yi(t,i,"linePrefix")}}const kx={name:"thematicBreak",tokenize:Poe};function Poe(t,i,r){let o=0,a;return c;function c(k){return t.enter("thematicBreak"),d(k)}function d(k){return a=k,p(k)}function p(k){return k===a?(t.enter("thematicBreakSequence"),m(k)):o>=3&&(k===null||$n(k))?(t.exit("thematicBreak"),i(k)):r(k)}function m(k){return k===a?(t.consume(k),o++,m):(t.exit("thematicBreakSequence"),ci(k)?Yi(t,p,"whitespace")(k):p(k))}}const oc={name:"list",tokenize:zoe,continuation:{tokenize:Uoe},exit:Voe},Roe={tokenize:Hoe,partial:!0},Foe={tokenize:qoe,partial:!0};function zoe(t,i,r){const o=this,a=o.events[o.events.length-1];let c=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,d=0;return p;function p(v){const D=o.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(D==="listUnordered"?!o.containerState.marker||v===o.containerState.marker:f4(v)){if(o.containerState.type||(o.containerState.type=D,t.enter(D,{_container:!0})),D==="listUnordered")return t.enter("listItemPrefix"),v===42||v===45?t.check(kx,r,k)(v):k(v);if(!o.interrupt||v===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),m(v)}return r(v)}function m(v){return f4(v)&&++d<10?(t.consume(v),m):(!o.interrupt||d<2)&&(o.containerState.marker?v===o.containerState.marker:v===41||v===46)?(t.exit("listItemValue"),k(v)):r(v)}function k(v){return t.enter("listItemMarker"),t.consume(v),t.exit("listItemMarker"),o.containerState.marker=o.containerState.marker||v,t.check(T5,o.interrupt?r:w,t.attempt(Roe,C,_))}function w(v){return o.containerState.initialBlankLine=!0,c++,C(v)}function _(v){return ci(v)?(t.enter("listItemPrefixWhitespace"),t.consume(v),t.exit("listItemPrefixWhitespace"),C):r(v)}function C(v){return o.containerState.size=c+o.sliceSerialize(t.exit("listItemPrefix"),!0).length,i(v)}}function Uoe(t,i,r){const o=this;return o.containerState._closeFlow=void 0,t.check(T5,a,c);function a(p){return o.containerState.furtherBlankLines=o.containerState.furtherBlankLines||o.containerState.initialBlankLine,Yi(t,i,"listItemIndent",o.containerState.size+1)(p)}function c(p){return o.containerState.furtherBlankLines||!ci(p)?(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,d(p)):(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,t.attempt(Foe,i,d)(p))}function d(p){return o.containerState._closeFlow=!0,o.interrupt=void 0,Yi(t,t.attempt(oc,i,r),"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(p)}}function qoe(t,i,r){const o=this;return Yi(t,a,"listItemIndent",o.containerState.size+1);function a(c){const d=o.events[o.events.length-1];return d&&d[1].type==="listItemIndent"&&d[2].sliceSerialize(d[1],!0).length===o.containerState.size?i(c):r(c)}}function Voe(t){t.exit(this.containerState.type)}function Hoe(t,i,r){const o=this;return Yi(t,a,"listItemPrefixWhitespace",o.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(c){const d=o.events[o.events.length-1];return!ci(c)&&d&&d[1].type==="listItemPrefixWhitespace"?i(c):r(c)}}const NO={name:"setextUnderline",tokenize:Woe,resolveTo:$oe};function $oe(t,i){let r=t.length,o,a,c;for(;r--;)if(t[r][0]==="enter"){if(t[r][1].type==="content"){o=r;break}t[r][1].type==="paragraph"&&(a=r)}else t[r][1].type==="content"&&t.splice(r,1),!c&&t[r][1].type==="definition"&&(c=r);const d={type:"setextHeading",start:Object.assign({},t[a][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[a][1].type="setextHeadingText",c?(t.splice(a,0,["enter",d,i]),t.splice(c+1,0,["exit",t[o][1],i]),t[o][1].end=Object.assign({},t[c][1].end)):t[o][1]=d,t.push(["exit",d,i]),t}function Woe(t,i,r){const o=this;let a;return c;function c(k){let w=o.events.length,_;for(;w--;)if(o.events[w][1].type!=="lineEnding"&&o.events[w][1].type!=="linePrefix"&&o.events[w][1].type!=="content"){_=o.events[w][1].type==="paragraph";break}return!o.parser.lazy[o.now().line]&&(o.interrupt||_)?(t.enter("setextHeadingLine"),a=k,d(k)):r(k)}function d(k){return t.enter("setextHeadingLineSequence"),p(k)}function p(k){return k===a?(t.consume(k),p):(t.exit("setextHeadingLineSequence"),ci(k)?Yi(t,m,"lineSuffix")(k):m(k))}function m(k){return k===null||$n(k)?(t.exit("setextHeadingLine"),i(k)):r(k)}}const Goe={tokenize:Yoe};function Yoe(t){const i=this,r=t.attempt(T5,o,t.attempt(this.parser.constructs.flowInitial,a,Yi(t,t.attempt(this.parser.constructs.flow,a,t.attempt(Xie,a)),"linePrefix")));return r;function o(c){if(c===null){t.consume(c);return}return t.enter("lineEndingBlank"),t.consume(c),t.exit("lineEndingBlank"),i.currentConstruct=void 0,r}function a(c){if(c===null){t.consume(c);return}return t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),i.currentConstruct=void 0,r}}const Koe={resolveAll:U7()},Qoe=z7("string"),Zoe=z7("text");function z7(t){return{tokenize:i,resolveAll:U7(t==="text"?Joe:void 0)};function i(r){const o=this,a=this.parser.constructs[t],c=r.attempt(a,d,p);return d;function d(w){return k(w)?c(w):p(w)}function p(w){if(w===null){r.consume(w);return}return r.enter("data"),r.consume(w),m}function m(w){return k(w)?(r.exit("data"),c(w)):(r.consume(w),m)}function k(w){if(w===null)return!0;const _=a[w];let C=-1;if(_)for(;++C<_.length;){const v=_[C];if(!v.previous||v.previous.call(o,o.previous))return!0}return!1}}}function U7(t){return i;function i(r,o){let a=-1,c;for(;++a<=r.length;)c===void 0?r[a]&&r[a][1].type==="data"&&(c=a,a++):(!r[a]||r[a][1].type!=="data")&&(a!==c+2&&(r[c][1].end=r[a-1][1].end,r.splice(c+2,a-c-2),a=c+2),c=void 0);return t?t(r,o):r}}function Joe(t,i){let r=0;for(;++r<=t.length;)if((r===t.length||t[r][1].type==="lineEnding")&&t[r-1][1].type==="data"){const o=t[r-1][1],a=i.sliceStream(o);let c=a.length,d=-1,p=0,m;for(;c--;){const k=a[c];if(typeof k=="string"){for(d=k.length;k.charCodeAt(d-1)===32;)p++,d--;if(d)break;d=-1}else if(k===-2)m=!0,p++;else if(k!==-1){c++;break}}if(p){const k={type:r===t.length||m||p<2?"lineSuffix":"hardBreakTrailing",start:{line:o.end.line,column:o.end.column-p,offset:o.end.offset-p,_index:o.start._index+c,_bufferIndex:c?d:o.start._bufferIndex+d},end:Object.assign({},o.end)};o.end=Object.assign({},k.start),o.start.offset===o.end.offset?Object.assign(o,k):(t.splice(r,0,["enter",k,i],["exit",k,i]),r+=2)}r++}return t}function Xoe(t,i,r){let o=Object.assign(r?Object.assign({},r):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const a={},c=[];let d=[],p=[];const m={consume:j,enter:F,exit:G,attempt:z(J),check:z(H),interrupt:z(H,{interrupt:!0})},k={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:v,sliceSerialize:C,now:D,defineSkip:E,write:_};let w=i.tokenize.call(k,m);return i.resolveAll&&c.push(i),k;function _(X){return d=Xu(d,X),O(),d[d.length-1]!==null?[]:(Z(i,0),k.events=bD(c,k.events,k),k.events)}function C(X,K){return tse(v(X),K)}function v(X){return ese(d,X)}function D(){const{line:X,column:K,offset:U,_index:q,_bufferIndex:fe}=o;return{line:X,column:K,offset:U,_index:q,_bufferIndex:fe}}function E(X){a[X.line]=X.column,se()}function O(){let X;for(;o._index<d.length;){const K=d[o._index];if(typeof K=="string")for(X=o._index,o._bufferIndex<0&&(o._bufferIndex=0);o._index===X&&o._bufferIndex<K.length;)M(K.charCodeAt(o._bufferIndex));else M(K)}}function M(X){w=w(X)}function j(X){$n(X)?(o.line++,o.column=1,o.offset+=X===-3?2:1,se()):X!==-1&&(o.column++,o.offset++),o._bufferIndex<0?o._index++:(o._bufferIndex++,o._bufferIndex===d[o._index].length&&(o._bufferIndex=-1,o._index++)),k.previous=X}function F(X,K){const U=K||{};return U.type=X,U.start=D(),k.events.push(["enter",U,k]),p.push(U),U}function G(X){const K=p.pop();return K.end=D(),k.events.push(["exit",K,k]),K}function J(X,K){Z(X,K.from)}function H(X,K){K.restore()}function z(X,K){return U;function U(q,fe,ue){let de,ge,Ie,ce;return Array.isArray(q)?re(q):"tokenize"in q?re([q]):Te(q);function Te(ve){return Re;function Re(Oe){const Ue=Oe!==null&&ve[Oe],Ze=Oe!==null&&ve.null,Ge=[...Array.isArray(Ue)?Ue:Ue?[Ue]:[],...Array.isArray(Ze)?Ze:Ze?[Ze]:[]];return re(Ge)(Oe)}}function re(ve){return de=ve,ge=0,ve.length===0?ue:te(ve[ge])}function te(ve){return Re;function Re(Oe){return ce=Y(),Ie=ve,ve.partial||(k.currentConstruct=ve),ve.name&&k.parser.constructs.disable.null.includes(ve.name)?be():ve.tokenize.call(K?Object.assign(Object.create(k),K):k,m,ke,be)(Oe)}}function ke(ve){return X(Ie,ce),fe}function be(ve){return ce.restore(),++ge<de.length?te(de[ge]):ue}}}function Z(X,K){X.resolveAll&&!c.includes(X)&&c.push(X),X.resolve&&df(k.events,K,k.events.length-K,X.resolve(k.events.slice(K),k)),X.resolveTo&&(k.events=X.resolveTo(k.events,k))}function Y(){const X=D(),K=k.previous,U=k.currentConstruct,q=k.events.length,fe=Array.from(p);return{restore:ue,from:q};function ue(){o=X,k.previous=K,k.currentConstruct=U,k.events.length=q,p=fe,se()}}function se(){o.line in a&&o.column<2&&(o.column=a[o.line],o.offset+=a[o.line]-1)}}function ese(t,i){const r=i.start._index,o=i.start._bufferIndex,a=i.end._index,c=i.end._bufferIndex;let d;if(r===a)d=[t[r].slice(o,c)];else{if(d=t.slice(r,a),o>-1){const p=d[0];typeof p=="string"?d[0]=p.slice(o):d.shift()}c>0&&d.push(t[a].slice(0,c))}return d}function tse(t,i){let r=-1;const o=[];let a;for(;++r<t.length;){const c=t[r];let d;if(typeof c=="string")d=c;else switch(c){case-5:{d="\r";break}case-4:{d=`
`;break}case-3:{d=`\r
`;break}case-2:{d=i?" ":"	";break}case-1:{if(!i&&a)continue;d=" ";break}default:d=String.fromCharCode(c)}a=c===-2,o.push(d)}return o.join("")}const nse={42:oc,43:oc,45:oc,48:oc,49:oc,50:oc,51:oc,52:oc,53:oc,54:oc,55:oc,56:oc,57:oc,62:O7},rse={91:ioe},ise={[-2]:uE,[-1]:uE,32:uE},ose={35:uoe,42:kx,45:[NO,kx],60:poe,61:NO,95:kx,96:TO,126:TO},sse={38:j7,92:B7},ase={[-5]:dE,[-4]:dE,[-3]:dE,33:Noe,38:j7,42:p4,60:[jie,yoe],91:Boe,92:[loe,B7],93:wD,95:p4,96:Yie},lse={null:[p4,Koe]},cse={null:[42,95]},use={null:[]},dse=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:cse,contentInitial:rse,disable:use,document:nse,flow:ose,flowInitial:ise,insideSpan:lse,string:sse,text:ase},Symbol.toStringTag,{value:"Module"}));function hse(t){const r=wie([dse,...(t||{}).extensions||[]]),o={defined:[],lazy:{},constructs:r,content:a(Die),document:a(Tie),flow:a(Goe),string:a(Qoe),text:a(Zoe)};return o;function a(c){return d;function d(p){return Xoe(o,c,p)}}}const OO=/[\0\t\n\r]/g;function fse(){let t=1,i="",r=!0,o;return a;function a(c,d,p){const m=[];let k,w,_,C,v;for(c=i+c.toString(d),_=0,i="",r&&(c.charCodeAt(0)===65279&&_++,r=void 0);_<c.length;){if(OO.lastIndex=_,k=OO.exec(c),C=k&&k.index!==void 0?k.index:c.length,v=c.charCodeAt(C),!k){i=c.slice(_);break}if(v===10&&_===C&&o)m.push(-3),o=void 0;else switch(o&&(m.push(-5),o=void 0),_<C&&(m.push(c.slice(_,C)),t+=C-_),v){case 0:{m.push(65533),t++;break}case 9:{for(w=Math.ceil(t/4)*4,m.push(-2);t++<w;)m.push(-1);break}case 10:{m.push(-4),t=1;break}default:o=!0,t=1}_=C+1}return p&&(o&&m.push(-5),i&&m.push(i),m.push(null)),m}}function pse(t){for(;!L7(t););return t}function q7(t,i){const r=Number.parseInt(t,i);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCharCode(r)}const mse=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function gse(t){return t.replace(mse,bse)}function bse(t,i,r){if(i)return i;if(r.charCodeAt(0)===35){const a=r.charCodeAt(1),c=a===120||a===88;return q7(r.slice(c?2:1),c?16:10)}return kD(r)||t}const V7={}.hasOwnProperty,kse=function(t,i,r){return typeof i!="string"&&(r=i,i=void 0),wse(r)(pse(hse(r).document().write(fse()(t,i,!0))))};function wse(t){const i={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:p(Ke),autolinkProtocol:X,autolinkEmail:X,atxHeading:p(we),blockQuote:p(Ge),characterEscape:X,characterReference:X,codeFenced:p(ft),codeFencedFenceInfo:m,codeFencedFenceMeta:m,codeIndented:p(ft,m),codeText:p(gt,m),codeTextData:X,data:X,codeFlowValue:X,definition:p(oe),definitionDestinationString:m,definitionLabelString:m,definitionTitleString:m,emphasis:p(Le),hardBreakEscape:p(Ee),hardBreakTrailing:p(Ee),htmlFlow:p(Ae,m),htmlFlowData:X,htmlText:p(Ae,m),htmlTextData:X,image:p(Ne),label:m,link:p(Ke),listItem:p(ze),listItemValue:D,listOrdered:p(Xe,v),listUnordered:p(Xe),paragraph:p(dt),reference:be,referenceString:m,resourceDestinationString:m,resourceTitleString:m,setextHeading:p(we),strong:p(wt),thematicBreak:p(pt)},exit:{atxHeading:w(),atxHeadingSequence:z,autolink:w(),autolinkEmail:Ze,autolinkProtocol:Ue,blockQuote:w(),characterEscapeValue:K,characterReferenceMarkerHexadecimal:Re,characterReferenceMarkerNumeric:Re,characterReferenceValue:Oe,codeFenced:w(j),codeFencedFence:M,codeFencedFenceInfo:E,codeFencedFenceMeta:O,codeFlowValue:K,codeIndented:w(F),codeText:w(de),codeTextData:K,data:K,definition:w(),definitionDestinationString:H,definitionLabelString:G,definitionTitleString:J,emphasis:w(),hardBreakEscape:w(q),hardBreakTrailing:w(q),htmlFlow:w(fe),htmlFlowData:K,htmlText:w(ue),htmlTextData:K,image:w(Ie),label:Te,labelText:ce,lineEnding:U,link:w(ge),listItem:w(),listOrdered:w(),listUnordered:w(),paragraph:w(),referenceString:ve,resourceDestinationString:re,resourceTitleString:te,resource:ke,setextHeading:w(se),setextHeadingLineSequence:Y,setextHeadingText:Z,strong:w(),thematicBreak:w()}};H7(i,(t||{}).mdastExtensions||[]);const r={};return o;function o(He){let at={type:"root",children:[]};const kt={stack:[at],tokenStack:[],config:i,enter:k,exit:_,buffer:m,resume:C,setData:c,getData:d},Gt=[];let yt=-1;for(;++yt<He.length;)if(He[yt][1].type==="listOrdered"||He[yt][1].type==="listUnordered")if(He[yt][0]==="enter")Gt.push(yt);else{const jn=Gt.pop();yt=a(He,jn,yt)}for(yt=-1;++yt<He.length;){const jn=i[He[yt][0]];V7.call(jn,He[yt][1].type)&&jn[He[yt][1].type].call(Object.assign({sliceSerialize:He[yt][2].sliceSerialize},kt),He[yt][1])}if(kt.tokenStack.length>0){const jn=kt.tokenStack[kt.tokenStack.length-1];(jn[1]||BO).call(kt,void 0,jn[0])}for(at.position={start:_m(He.length>0?He[0][1].start:{line:1,column:1,offset:0}),end:_m(He.length>0?He[He.length-2][1].end:{line:1,column:1,offset:0})},yt=-1;++yt<i.transforms.length;)at=i.transforms[yt](at)||at;return at}function a(He,at,kt){let Gt=at-1,yt=-1,jn=!1,on,kr,xn,In;for(;++Gt<=kt;){const Fn=He[Gt];if(Fn[1].type==="listUnordered"||Fn[1].type==="listOrdered"||Fn[1].type==="blockQuote"?(Fn[0]==="enter"?yt++:yt--,In=void 0):Fn[1].type==="lineEndingBlank"?Fn[0]==="enter"&&(on&&!In&&!yt&&!xn&&(xn=Gt),In=void 0):Fn[1].type==="linePrefix"||Fn[1].type==="listItemValue"||Fn[1].type==="listItemMarker"||Fn[1].type==="listItemPrefix"||Fn[1].type==="listItemPrefixWhitespace"||(In=void 0),!yt&&Fn[0]==="enter"&&Fn[1].type==="listItemPrefix"||yt===-1&&Fn[0]==="exit"&&(Fn[1].type==="listUnordered"||Fn[1].type==="listOrdered")){if(on){let Gn=Gt;for(kr=void 0;Gn--;){const ei=He[Gn];if(ei[1].type==="lineEnding"||ei[1].type==="lineEndingBlank"){if(ei[0]==="exit")continue;kr&&(He[kr][1].type="lineEndingBlank",jn=!0),ei[1].type="lineEnding",kr=Gn}else if(!(ei[1].type==="linePrefix"||ei[1].type==="blockQuotePrefix"||ei[1].type==="blockQuotePrefixWhitespace"||ei[1].type==="blockQuoteMarker"||ei[1].type==="listItemIndent"))break}xn&&(!kr||xn<kr)&&(on._spread=!0),on.end=Object.assign({},kr?He[kr][1].start:Fn[1].end),He.splice(kr||Gt,0,["exit",on,Fn[2]]),Gt++,kt++}Fn[1].type==="listItemPrefix"&&(on={type:"listItem",_spread:!1,start:Object.assign({},Fn[1].start),end:void 0},He.splice(Gt,0,["enter",on,Fn[2]]),Gt++,kt++,xn=void 0,In=!0)}}return He[at][1]._spread=jn,kt}function c(He,at){r[He]=at}function d(He){return r[He]}function p(He,at){return kt;function kt(Gt){k.call(this,He(Gt),Gt),at&&at.call(this,Gt)}}function m(){this.stack.push({type:"fragment",children:[]})}function k(He,at,kt){return this.stack[this.stack.length-1].children.push(He),this.stack.push(He),this.tokenStack.push([at,kt]),He.position={start:_m(at.start)},He}function w(He){return at;function at(kt){He&&He.call(this,kt),_.call(this,kt)}}function _(He,at){const kt=this.stack.pop(),Gt=this.tokenStack.pop();if(Gt)Gt[0].type!==He.type&&(at?at.call(this,He,Gt[0]):(Gt[1]||BO).call(this,He,Gt[0]));else throw new Error("Cannot close `"+He.type+"` ("+xy({start:He.start,end:He.end})+"): its not open");return kt.position.end=_m(He.end),kt}function C(){return bie(this.stack.pop())}function v(){c("expectingFirstListItemValue",!0)}function D(He){if(d("expectingFirstListItemValue")){const at=this.stack[this.stack.length-2];at.start=Number.parseInt(this.sliceSerialize(He),10),c("expectingFirstListItemValue")}}function E(){const He=this.resume(),at=this.stack[this.stack.length-1];at.lang=He}function O(){const He=this.resume(),at=this.stack[this.stack.length-1];at.meta=He}function M(){d("flowCodeInside")||(this.buffer(),c("flowCodeInside",!0))}function j(){const He=this.resume(),at=this.stack[this.stack.length-1];at.value=He.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),c("flowCodeInside")}function F(){const He=this.resume(),at=this.stack[this.stack.length-1];at.value=He.replace(/(\r?\n|\r)$/g,"")}function G(He){const at=this.resume(),kt=this.stack[this.stack.length-1];kt.label=at,kt.identifier=ik(this.sliceSerialize(He)).toLowerCase()}function J(){const He=this.resume(),at=this.stack[this.stack.length-1];at.title=He}function H(){const He=this.resume(),at=this.stack[this.stack.length-1];at.url=He}function z(He){const at=this.stack[this.stack.length-1];if(!at.depth){const kt=this.sliceSerialize(He).length;at.depth=kt}}function Z(){c("setextHeadingSlurpLineEnding",!0)}function Y(He){const at=this.stack[this.stack.length-1];at.depth=this.sliceSerialize(He).charCodeAt(0)===61?1:2}function se(){c("setextHeadingSlurpLineEnding")}function X(He){const at=this.stack[this.stack.length-1];let kt=at.children[at.children.length-1];(!kt||kt.type!=="text")&&(kt=ot(),kt.position={start:_m(He.start)},at.children.push(kt)),this.stack.push(kt)}function K(He){const at=this.stack.pop();at.value+=this.sliceSerialize(He),at.position.end=_m(He.end)}function U(He){const at=this.stack[this.stack.length-1];if(d("atHardBreak")){const kt=at.children[at.children.length-1];kt.position.end=_m(He.end),c("atHardBreak");return}!d("setextHeadingSlurpLineEnding")&&i.canContainEols.includes(at.type)&&(X.call(this,He),K.call(this,He))}function q(){c("atHardBreak",!0)}function fe(){const He=this.resume(),at=this.stack[this.stack.length-1];at.value=He}function ue(){const He=this.resume(),at=this.stack[this.stack.length-1];at.value=He}function de(){const He=this.resume(),at=this.stack[this.stack.length-1];at.value=He}function ge(){const He=this.stack[this.stack.length-1];if(d("inReference")){const at=d("referenceType")||"shortcut";He.type+="Reference",He.referenceType=at,delete He.url,delete He.title}else delete He.identifier,delete He.label;c("referenceType")}function Ie(){const He=this.stack[this.stack.length-1];if(d("inReference")){const at=d("referenceType")||"shortcut";He.type+="Reference",He.referenceType=at,delete He.url,delete He.title}else delete He.identifier,delete He.label;c("referenceType")}function ce(He){const at=this.sliceSerialize(He),kt=this.stack[this.stack.length-2];kt.label=gse(at),kt.identifier=ik(at).toLowerCase()}function Te(){const He=this.stack[this.stack.length-1],at=this.resume(),kt=this.stack[this.stack.length-1];if(c("inReference",!0),kt.type==="link"){const Gt=He.children;kt.children=Gt}else kt.alt=at}function re(){const He=this.resume(),at=this.stack[this.stack.length-1];at.url=He}function te(){const He=this.resume(),at=this.stack[this.stack.length-1];at.title=He}function ke(){c("inReference")}function be(){c("referenceType","collapsed")}function ve(He){const at=this.resume(),kt=this.stack[this.stack.length-1];kt.label=at,kt.identifier=ik(this.sliceSerialize(He)).toLowerCase(),c("referenceType","full")}function Re(He){c("characterReferenceType",He.type)}function Oe(He){const at=this.sliceSerialize(He),kt=d("characterReferenceType");let Gt;kt?(Gt=q7(at,kt==="characterReferenceMarkerNumeric"?10:16),c("characterReferenceType")):Gt=kD(at);const yt=this.stack.pop();yt.value+=Gt,yt.position.end=_m(He.end)}function Ue(He){K.call(this,He);const at=this.stack[this.stack.length-1];at.url=this.sliceSerialize(He)}function Ze(He){K.call(this,He);const at=this.stack[this.stack.length-1];at.url="mailto:"+this.sliceSerialize(He)}function Ge(){return{type:"blockquote",children:[]}}function ft(){return{type:"code",lang:null,meta:null,value:""}}function gt(){return{type:"inlineCode",value:""}}function oe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Le(){return{type:"emphasis",children:[]}}function we(){return{type:"heading",depth:void 0,children:[]}}function Ee(){return{type:"break"}}function Ae(){return{type:"html",value:""}}function Ne(){return{type:"image",title:null,url:"",alt:null}}function Ke(){return{type:"link",title:null,url:"",children:[]}}function Xe(He){return{type:"list",ordered:He.type==="listOrdered",start:null,spread:He._spread,children:[]}}function ze(He){return{type:"listItem",spread:He._spread,checked:null,children:[]}}function dt(){return{type:"paragraph",children:[]}}function wt(){return{type:"strong",children:[]}}function ot(){return{type:"text",value:""}}function pt(){return{type:"thematicBreak"}}}function _m(t){return{line:t.line,column:t.column,offset:t.offset}}function H7(t,i){let r=-1;for(;++r<i.length;){const o=i[r];Array.isArray(o)?H7(t,o):vse(t,o)}}function vse(t,i){let r;for(r in i)if(V7.call(i,r)){if(r==="canContainEols"){const o=i[r];o&&t[r].push(...o)}else if(r==="transforms"){const o=i[r];o&&t[r].push(...o)}else if(r==="enter"||r==="exit"){const o=i[r];o&&Object.assign(t[r],o)}}}function BO(t,i){throw t?new Error("Cannot close `"+t.type+"` ("+xy({start:t.start,end:t.end})+"): a different token (`"+i.type+"`, "+xy({start:i.start,end:i.end})+") is open"):new Error("Cannot close document, a token (`"+i.type+"`, "+xy({start:i.start,end:i.end})+") is still open")}function yse(t){Object.assign(this,{Parser:r=>{const o=this.data("settings");return kse(r,Object.assign({},o,t,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function Ase(t,i){const r={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(i),!0)};return t.patch(i,r),t.applyData(i,r)}function _se(t,i){const r={type:"element",tagName:"br",properties:{},children:[]};return t.patch(i,r),[t.applyData(i,r),{type:"text",value:`
`}]}function Cse(t,i){const r=i.value?i.value+`
`:"",o=i.lang?i.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,a={};o&&(a.className=["language-"+o]);let c={type:"element",tagName:"code",properties:a,children:[{type:"text",value:r}]};return i.meta&&(c.data={meta:i.meta}),t.patch(i,c),c=t.applyData(i,c),c={type:"element",tagName:"pre",properties:{},children:[c]},t.patch(i,c),c}function xse(t,i){const r={type:"element",tagName:"del",properties:{},children:t.all(i)};return t.patch(i,r),t.applyData(i,r)}function Sse(t,i){const r={type:"element",tagName:"em",properties:{},children:t.all(i)};return t.patch(i,r),t.applyData(i,r)}function xk(t){const i=[];let r=-1,o=0,a=0;for(;++r<t.length;){const c=t.charCodeAt(r);let d="";if(c===37&&ru(t.charCodeAt(r+1))&&ru(t.charCodeAt(r+2)))a=2;else if(c<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(c))||(d=String.fromCharCode(c));else if(c>55295&&c<57344){const p=t.charCodeAt(r+1);c<56320&&p>56319&&p<57344?(d=String.fromCharCode(c,p),a=1):d=""}else d=String.fromCharCode(c);d&&(i.push(t.slice(o,r),encodeURIComponent(d)),o=r+a+1,d=""),a&&(r+=a,a=0)}return i.join("")+t.slice(o)}function $7(t,i){const r=String(i.identifier).toUpperCase(),o=xk(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let c;a===-1?(t.footnoteOrder.push(r),t.footnoteCounts[r]=1,c=t.footnoteOrder.length):(t.footnoteCounts[r]++,c=a+1);const d=t.footnoteCounts[r],p={type:"element",tagName:"a",properties:{href:"#"+t.clobberPrefix+"fn-"+o,id:t.clobberPrefix+"fnref-"+o+(d>1?"-"+d:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};t.patch(i,p);const m={type:"element",tagName:"sup",properties:{},children:[p]};return t.patch(i,m),t.applyData(i,m)}function Ese(t,i){const r=t.footnoteById;let o=1;for(;o in r;)o++;const a=String(o);return r[a]={type:"footnoteDefinition",identifier:a,children:[{type:"paragraph",children:i.children}],position:i.position},$7(t,{type:"footnoteReference",identifier:a,position:i.position})}function Dse(t,i){const r={type:"element",tagName:"h"+i.depth,properties:{},children:t.all(i)};return t.patch(i,r),t.applyData(i,r)}function Ise(t,i){if(t.dangerous){const r={type:"raw",value:i.value};return t.patch(i,r),t.applyData(i,r)}return null}function W7(t,i){const r=i.referenceType;let o="]";if(r==="collapsed"?o+="[]":r==="full"&&(o+="["+(i.label||i.identifier)+"]"),i.type==="imageReference")return{type:"text",value:"!["+i.alt+o};const a=t.all(i),c=a[0];c&&c.type==="text"?c.value="["+c.value:a.unshift({type:"text",value:"["});const d=a[a.length-1];return d&&d.type==="text"?d.value+=o:a.push({type:"text",value:o}),a}function Tse(t,i){const r=t.definition(i.identifier);if(!r)return W7(t,i);const o={src:xk(r.url||""),alt:i.alt};r.title!==null&&r.title!==void 0&&(o.title=r.title);const a={type:"element",tagName:"img",properties:o,children:[]};return t.patch(i,a),t.applyData(i,a)}function Mse(t,i){const r={src:xk(i.url)};i.alt!==null&&i.alt!==void 0&&(r.alt=i.alt),i.title!==null&&i.title!==void 0&&(r.title=i.title);const o={type:"element",tagName:"img",properties:r,children:[]};return t.patch(i,o),t.applyData(i,o)}function Nse(t,i){const r={type:"text",value:i.value.replace(/\r?\n|\r/g," ")};t.patch(i,r);const o={type:"element",tagName:"code",properties:{},children:[r]};return t.patch(i,o),t.applyData(i,o)}function Ose(t,i){const r=t.definition(i.identifier);if(!r)return W7(t,i);const o={href:xk(r.url||"")};r.title!==null&&r.title!==void 0&&(o.title=r.title);const a={type:"element",tagName:"a",properties:o,children:t.all(i)};return t.patch(i,a),t.applyData(i,a)}function Bse(t,i){const r={href:xk(i.url)};i.title!==null&&i.title!==void 0&&(r.title=i.title);const o={type:"element",tagName:"a",properties:r,children:t.all(i)};return t.patch(i,o),t.applyData(i,o)}function jse(t,i,r){const o=t.all(i),a=r?Lse(r):G7(i),c={},d=[];if(typeof i.checked=="boolean"){const w=o[0];let _;w&&w.type==="element"&&w.tagName==="p"?_=w:(_={type:"element",tagName:"p",properties:{},children:[]},o.unshift(_)),_.children.length>0&&_.children.unshift({type:"text",value:" "}),_.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:i.checked,disabled:!0},children:[]}),c.className=["task-list-item"]}let p=-1;for(;++p<o.length;){const w=o[p];(a||p!==0||w.type!=="element"||w.tagName!=="p")&&d.push({type:"text",value:`
`}),w.type==="element"&&w.tagName==="p"&&!a?d.push(...w.children):d.push(w)}const m=o[o.length-1];m&&(a||m.type!=="element"||m.tagName!=="p")&&d.push({type:"text",value:`
`});const k={type:"element",tagName:"li",properties:c,children:d};return t.patch(i,k),t.applyData(i,k)}function Lse(t){let i=!1;if(t.type==="list"){i=t.spread||!1;const r=t.children;let o=-1;for(;!i&&++o<r.length;)i=G7(r[o])}return i}function G7(t){const i=t.spread;return i??t.children.length>1}function Pse(t,i){const r={},o=t.all(i);let a=-1;for(typeof i.start=="number"&&i.start!==1&&(r.start=i.start);++a<o.length;){const d=o[a];if(d.type==="element"&&d.tagName==="li"&&d.properties&&Array.isArray(d.properties.className)&&d.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const c={type:"element",tagName:i.ordered?"ol":"ul",properties:r,children:t.wrap(o,!0)};return t.patch(i,c),t.applyData(i,c)}function Rse(t,i){const r={type:"element",tagName:"p",properties:{},children:t.all(i)};return t.patch(i,r),t.applyData(i,r)}function Fse(t,i){const r={type:"root",children:t.wrap(t.all(i))};return t.patch(i,r),t.applyData(i,r)}function zse(t,i){const r={type:"element",tagName:"strong",properties:{},children:t.all(i)};return t.patch(i,r),t.applyData(i,r)}const vD=Y7("start"),yD=Y7("end");function Use(t){return{start:vD(t),end:yD(t)}}function Y7(t){return i;function i(r){const o=r&&r.position&&r.position[t]||{};return{line:o.line||null,column:o.column||null,offset:o.offset>-1?o.offset:null}}}function qse(t,i){const r=t.all(i),o=r.shift(),a=[];if(o){const d={type:"element",tagName:"thead",properties:{},children:t.wrap([o],!0)};t.patch(i.children[0],d),a.push(d)}if(r.length>0){const d={type:"element",tagName:"tbody",properties:{},children:t.wrap(r,!0)},p=vD(i.children[1]),m=yD(i.children[i.children.length-1]);p.line&&m.line&&(d.position={start:p,end:m}),a.push(d)}const c={type:"element",tagName:"table",properties:{},children:t.wrap(a,!0)};return t.patch(i,c),t.applyData(i,c)}function Vse(t,i,r){const o=r?r.children:void 0,c=(o?o.indexOf(i):1)===0?"th":"td",d=r&&r.type==="table"?r.align:void 0,p=d?d.length:i.children.length;let m=-1;const k=[];for(;++m<p;){const _=i.children[m],C={},v=d?d[m]:void 0;v&&(C.align=v);let D={type:"element",tagName:c,properties:C,children:[]};_&&(D.children=t.all(_),t.patch(_,D),D=t.applyData(i,D)),k.push(D)}const w={type:"element",tagName:"tr",properties:{},children:t.wrap(k,!0)};return t.patch(i,w),t.applyData(i,w)}function Hse(t,i){const r={type:"element",tagName:"td",properties:{},children:t.all(i)};return t.patch(i,r),t.applyData(i,r)}const jO=9,LO=32;function $se(t){const i=String(t),r=/\r?\n|\r/g;let o=r.exec(i),a=0;const c=[];for(;o;)c.push(PO(i.slice(a,o.index),a>0,!0),o[0]),a=o.index+o[0].length,o=r.exec(i);return c.push(PO(i.slice(a),a>0,!1)),c.join("")}function PO(t,i,r){let o=0,a=t.length;if(i){let c=t.codePointAt(o);for(;c===jO||c===LO;)o++,c=t.codePointAt(o)}if(r){let c=t.codePointAt(a-1);for(;c===jO||c===LO;)a--,c=t.codePointAt(a-1)}return a>o?t.slice(o,a):""}function Wse(t,i){const r={type:"text",value:$se(String(i.value))};return t.patch(i,r),t.applyData(i,r)}function Gse(t,i){const r={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(i,r),t.applyData(i,r)}const Yse={blockquote:Ase,break:_se,code:Cse,delete:xse,emphasis:Sse,footnoteReference:$7,footnote:Ese,heading:Dse,html:Ise,imageReference:Tse,image:Mse,inlineCode:Nse,linkReference:Ose,link:Bse,listItem:jse,list:Pse,paragraph:Rse,root:Fse,strong:zse,table:qse,tableCell:Hse,tableRow:Vse,text:Wse,thematicBreak:Gse,toml:ZC,yaml:ZC,definition:ZC,footnoteDefinition:ZC};function ZC(){return null}const K7=function(t){if(t==null)return Jse;if(typeof t=="string")return Zse(t);if(typeof t=="object")return Array.isArray(t)?Kse(t):Qse(t);if(typeof t=="function")return M5(t);throw new Error("Expected function, string, or object as test")};function Kse(t){const i=[];let r=-1;for(;++r<t.length;)i[r]=K7(t[r]);return M5(o);function o(...a){let c=-1;for(;++c<i.length;)if(i[c].call(this,...a))return!0;return!1}}function Qse(t){return M5(i);function i(r){let o;for(o in t)if(r[o]!==t[o])return!1;return!0}}function Zse(t){return M5(i);function i(r){return r&&r.type===t}}function M5(t){return i;function i(r,...o){return!!(r&&typeof r=="object"&&"type"in r&&t.call(this,r,...o))}}function Jse(){return!0}const Xse=!0,RO=!1,eae="skip",tae=function(t,i,r,o){typeof i=="function"&&typeof r!="function"&&(o=r,r=i,i=null);const a=K7(i),c=o?-1:1;d(t,void 0,[])();function d(p,m,k){const w=p&&typeof p=="object"?p:{};if(typeof w.type=="string"){const C=typeof w.tagName=="string"?w.tagName:typeof w.name=="string"?w.name:void 0;Object.defineProperty(_,"name",{value:"node ("+(p.type+(C?"<"+C+">":""))+")"})}return _;function _(){let C=[],v,D,E;if((!i||a(p,m,k[k.length-1]||null))&&(C=nae(r(p,k)),C[0]===RO))return C;if(p.children&&C[0]!==eae)for(D=(o?p.children.length:-1)+c,E=k.concat(p);D>-1&&D<p.children.length;){if(v=d(p.children[D],D,E)(),v[0]===RO)return v;D=typeof v[1]=="number"?v[1]:D+c}return C}}};function nae(t){return Array.isArray(t)?t:typeof t=="number"?[Xse,t]:[t]}const AD=function(t,i,r,o){typeof i=="function"&&typeof r!="function"&&(o=r,r=i,i=null),tae(t,i,a,o);function a(c,d){const p=d[d.length-1];return r(c,p?p.children.indexOf(c):null,p)}};function rae(t){return!t||!t.position||!t.position.start||!t.position.start.line||!t.position.start.column||!t.position.end||!t.position.end.line||!t.position.end.column}const FO={}.hasOwnProperty;function iae(t){const i=Object.create(null);if(!t||!t.type)throw new Error("mdast-util-definitions expected node");return AD(t,"definition",o=>{const a=zO(o.identifier);a&&!FO.call(i,a)&&(i[a]=o)}),r;function r(o){const a=zO(o);return a&&FO.call(i,a)?i[a]:null}}function zO(t){return String(t||"").toUpperCase()}const Xx={}.hasOwnProperty;function oae(t,i){const r=i||{},o=r.allowDangerousHtml||!1,a={};return d.dangerous=o,d.clobberPrefix=r.clobberPrefix===void 0||r.clobberPrefix===null?"user-content-":r.clobberPrefix,d.footnoteLabel=r.footnoteLabel||"Footnotes",d.footnoteLabelTagName=r.footnoteLabelTagName||"h2",d.footnoteLabelProperties=r.footnoteLabelProperties||{className:["sr-only"]},d.footnoteBackLabel=r.footnoteBackLabel||"Back to content",d.unknownHandler=r.unknownHandler,d.passThrough=r.passThrough,d.handlers={...Yse,...r.handlers},d.definition=iae(t),d.footnoteById=a,d.footnoteOrder=[],d.footnoteCounts={},d.patch=sae,d.applyData=aae,d.one=p,d.all=m,d.wrap=cae,d.augment=c,AD(t,"footnoteDefinition",k=>{const w=String(k.identifier).toUpperCase();Xx.call(a,w)||(a[w]=k)}),d;function c(k,w){if(k&&"data"in k&&k.data){const _=k.data;_.hName&&(w.type!=="element"&&(w={type:"element",tagName:"",properties:{},children:[]}),w.tagName=_.hName),w.type==="element"&&_.hProperties&&(w.properties={...w.properties,..._.hProperties}),"children"in w&&w.children&&_.hChildren&&(w.children=_.hChildren)}if(k){const _="type"in k?k:{position:k};rae(_)||(w.position={start:vD(_),end:yD(_)})}return w}function d(k,w,_,C){return Array.isArray(_)&&(C=_,_={}),c(k,{type:"element",tagName:w,properties:_||{},children:C||[]})}function p(k,w){return Q7(d,k,w)}function m(k){return _D(d,k)}}function sae(t,i){t.position&&(i.position=Use(t))}function aae(t,i){let r=i;if(t&&t.data){const o=t.data.hName,a=t.data.hChildren,c=t.data.hProperties;typeof o=="string"&&(r.type==="element"?r.tagName=o:r={type:"element",tagName:o,properties:{},children:[]}),r.type==="element"&&c&&(r.properties={...r.properties,...c}),"children"in r&&r.children&&a!==null&&a!==void 0&&(r.children=a)}return r}function Q7(t,i,r){const o=i&&i.type;if(!o)throw new Error("Expected node, got `"+i+"`");return Xx.call(t.handlers,o)?t.handlers[o](t,i,r):t.passThrough&&t.passThrough.includes(o)?"children"in i?{...i,children:_D(t,i)}:i:t.unknownHandler?t.unknownHandler(t,i,r):lae(t,i)}function _D(t,i){const r=[];if("children"in i){const o=i.children;let a=-1;for(;++a<o.length;){const c=Q7(t,o[a],i);if(c){if(a&&o[a-1].type==="break"&&(!Array.isArray(c)&&c.type==="text"&&(c.value=c.value.replace(/^\s+/,"")),!Array.isArray(c)&&c.type==="element")){const d=c.children[0];d&&d.type==="text"&&(d.value=d.value.replace(/^\s+/,""))}Array.isArray(c)?r.push(...c):r.push(c)}}}return r}function lae(t,i){const r=i.data||{},o="value"in i&&!(Xx.call(r,"hProperties")||Xx.call(r,"hChildren"))?{type:"text",value:i.value}:{type:"element",tagName:"div",properties:{},children:_D(t,i)};return t.patch(i,o),t.applyData(i,o)}function cae(t,i){const r=[];let o=-1;for(i&&r.push({type:"text",value:`
`});++o<t.length;)o&&r.push({type:"text",value:`
`}),r.push(t[o]);return i&&t.length>0&&r.push({type:"text",value:`
`}),r}function uae(t){const i=[];let r=-1;for(;++r<t.footnoteOrder.length;){const o=t.footnoteById[t.footnoteOrder[r]];if(!o)continue;const a=t.all(o),c=String(o.identifier).toUpperCase(),d=xk(c.toLowerCase());let p=0;const m=[];for(;++p<=t.footnoteCounts[c];){const _={type:"element",tagName:"a",properties:{href:"#"+t.clobberPrefix+"fnref-"+d+(p>1?"-"+p:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:t.footnoteBackLabel},children:[{type:"text",value:""}]};p>1&&_.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(p)}]}),m.length>0&&m.push({type:"text",value:" "}),m.push(_)}const k=a[a.length-1];if(k&&k.type==="element"&&k.tagName==="p"){const _=k.children[k.children.length-1];_&&_.type==="text"?_.value+=" ":k.children.push({type:"text",value:" "}),k.children.push(...m)}else a.push(...m);const w={type:"element",tagName:"li",properties:{id:t.clobberPrefix+"fn-"+d},children:t.wrap(a,!0)};t.patch(o,w),i.push(w)}if(i.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:t.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(t.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:t.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(i,!0)},{type:"text",value:`
`}]}}function Z7(t,i){const r=oae(t,i),o=r.one(t,null),a=uae(r);return a&&o.children.push({type:"text",value:`
`},a),Array.isArray(o)?{type:"root",children:o}:o}const dae=function(t,i){return t&&"run"in t?hae(t,i):fae(t||i)};function hae(t,i){return(r,o,a)=>{t.run(Z7(r,i),o,c=>{a(c)})}}function fae(t){return i=>Z7(i,t)}class lA{constructor(i,r,o){this.property=i,this.normal=r,o&&(this.space=o)}}lA.prototype.property={};lA.prototype.normal={};lA.prototype.space=null;function J7(t,i){const r={},o={};let a=-1;for(;++a<t.length;)Object.assign(r,t[a].property),Object.assign(o,t[a].normal);return new lA(r,o,i)}function m4(t){return t.toLowerCase()}class sd{constructor(i,r){this.property=i,this.attribute=r}}sd.prototype.space=null;sd.prototype.boolean=!1;sd.prototype.booleanish=!1;sd.prototype.overloadedBoolean=!1;sd.prototype.number=!1;sd.prototype.commaSeparated=!1;sd.prototype.spaceSeparated=!1;sd.prototype.commaOrSpaceSeparated=!1;sd.prototype.mustUseProperty=!1;sd.prototype.defined=!1;let pae=0;const ar=wb(),Ds=wb(),X7=wb(),Qt=wb(),Gi=wb(),ok=wb(),Zc=wb();function wb(){return 2**++pae}const g4=Object.freeze(Object.defineProperty({__proto__:null,boolean:ar,booleanish:Ds,commaOrSpaceSeparated:Zc,commaSeparated:ok,number:Qt,overloadedBoolean:X7,spaceSeparated:Gi},Symbol.toStringTag,{value:"Module"})),hE=Object.keys(g4);class CD extends sd{constructor(i,r,o,a){let c=-1;if(super(i,r),UO(this,"space",a),typeof o=="number")for(;++c<hE.length;){const d=hE[c];UO(this,hE[c],(o&g4[d])===g4[d])}}}CD.prototype.defined=!0;function UO(t,i,r){r&&(t[i]=r)}const mae={}.hasOwnProperty;function Sk(t){const i={},r={};let o;for(o in t.properties)if(mae.call(t.properties,o)){const a=t.properties[o],c=new CD(o,t.transform(t.attributes||{},o),a,t.space);t.mustUseProperty&&t.mustUseProperty.includes(o)&&(c.mustUseProperty=!0),i[o]=c,r[m4(o)]=o,r[m4(c.attribute)]=o}return new lA(i,r,t.space)}const eR=Sk({space:"xlink",transform(t,i){return"xlink:"+i.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),tR=Sk({space:"xml",transform(t,i){return"xml:"+i.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function nR(t,i){return i in t?t[i]:i}function rR(t,i){return nR(t,i.toLowerCase())}const iR=Sk({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:rR,properties:{xmlns:null,xmlnsXLink:null}}),oR=Sk({transform(t,i){return i==="role"?i:"aria-"+i.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Ds,ariaAutoComplete:null,ariaBusy:Ds,ariaChecked:Ds,ariaColCount:Qt,ariaColIndex:Qt,ariaColSpan:Qt,ariaControls:Gi,ariaCurrent:null,ariaDescribedBy:Gi,ariaDetails:null,ariaDisabled:Ds,ariaDropEffect:Gi,ariaErrorMessage:null,ariaExpanded:Ds,ariaFlowTo:Gi,ariaGrabbed:Ds,ariaHasPopup:null,ariaHidden:Ds,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Gi,ariaLevel:Qt,ariaLive:null,ariaModal:Ds,ariaMultiLine:Ds,ariaMultiSelectable:Ds,ariaOrientation:null,ariaOwns:Gi,ariaPlaceholder:null,ariaPosInSet:Qt,ariaPressed:Ds,ariaReadOnly:Ds,ariaRelevant:null,ariaRequired:Ds,ariaRoleDescription:Gi,ariaRowCount:Qt,ariaRowIndex:Qt,ariaRowSpan:Qt,ariaSelected:Ds,ariaSetSize:Qt,ariaSort:null,ariaValueMax:Qt,ariaValueMin:Qt,ariaValueNow:Qt,ariaValueText:null,role:null}}),gae=Sk({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:rR,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ok,acceptCharset:Gi,accessKey:Gi,action:null,allow:null,allowFullScreen:ar,allowPaymentRequest:ar,allowUserMedia:ar,alt:null,as:null,async:ar,autoCapitalize:null,autoComplete:Gi,autoFocus:ar,autoPlay:ar,blocking:Gi,capture:null,charSet:null,checked:ar,cite:null,className:Gi,cols:Qt,colSpan:null,content:null,contentEditable:Ds,controls:ar,controlsList:Gi,coords:Qt|ok,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ar,defer:ar,dir:null,dirName:null,disabled:ar,download:X7,draggable:Ds,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ar,formTarget:null,headers:Gi,height:Qt,hidden:ar,high:Qt,href:null,hrefLang:null,htmlFor:Gi,httpEquiv:Gi,id:null,imageSizes:null,imageSrcSet:null,inert:ar,inputMode:null,integrity:null,is:null,isMap:ar,itemId:null,itemProp:Gi,itemRef:Gi,itemScope:ar,itemType:Gi,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ar,low:Qt,manifest:null,max:null,maxLength:Qt,media:null,method:null,min:null,minLength:Qt,multiple:ar,muted:ar,name:null,nonce:null,noModule:ar,noValidate:ar,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ar,optimum:Qt,pattern:null,ping:Gi,placeholder:null,playsInline:ar,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ar,referrerPolicy:null,rel:Gi,required:ar,reversed:ar,rows:Qt,rowSpan:Qt,sandbox:Gi,scope:null,scoped:ar,seamless:ar,selected:ar,shadowRootClonable:ar,shadowRootDelegatesFocus:ar,shadowRootMode:null,shape:null,size:Qt,sizes:null,slot:null,span:Qt,spellCheck:Ds,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Qt,step:null,style:null,tabIndex:Qt,target:null,title:null,translate:null,type:null,typeMustMatch:ar,useMap:null,value:Ds,width:Qt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Gi,axis:null,background:null,bgColor:null,border:Qt,borderColor:null,bottomMargin:Qt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ar,declare:ar,event:null,face:null,frame:null,frameBorder:null,hSpace:Qt,leftMargin:Qt,link:null,longDesc:null,lowSrc:null,marginHeight:Qt,marginWidth:Qt,noResize:ar,noHref:ar,noShade:ar,noWrap:ar,object:null,profile:null,prompt:null,rev:null,rightMargin:Qt,rules:null,scheme:null,scrolling:Ds,standby:null,summary:null,text:null,topMargin:Qt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Qt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ar,disableRemotePlayback:ar,prefix:null,property:null,results:Qt,security:null,unselectable:null}}),bae=Sk({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:nR,properties:{about:Zc,accentHeight:Qt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Qt,amplitude:Qt,arabicForm:null,ascent:Qt,attributeName:null,attributeType:null,azimuth:Qt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Qt,by:null,calcMode:null,capHeight:Qt,className:Gi,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Qt,diffuseConstant:Qt,direction:null,display:null,dur:null,divisor:Qt,dominantBaseline:null,download:ar,dx:null,dy:null,edgeMode:null,editable:null,elevation:Qt,enableBackground:null,end:null,event:null,exponent:Qt,externalResourcesRequired:null,fill:null,fillOpacity:Qt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ok,g2:ok,glyphName:ok,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Qt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Qt,horizOriginX:Qt,horizOriginY:Qt,id:null,ideographic:Qt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Qt,k:Qt,k1:Qt,k2:Qt,k3:Qt,k4:Qt,kernelMatrix:Zc,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Qt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Qt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Qt,overlineThickness:Qt,paintOrder:null,panose1:null,path:null,pathLength:Qt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Gi,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Qt,pointsAtY:Qt,pointsAtZ:Qt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Zc,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Zc,rev:Zc,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Zc,requiredFeatures:Zc,requiredFonts:Zc,requiredFormats:Zc,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Qt,specularExponent:Qt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Qt,strikethroughThickness:Qt,string:null,stroke:null,strokeDashArray:Zc,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Qt,strokeOpacity:Qt,strokeWidth:null,style:null,surfaceScale:Qt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Zc,tabIndex:Qt,tableValues:null,target:null,targetX:Qt,targetY:Qt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Zc,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Qt,underlineThickness:Qt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Qt,values:null,vAlphabetic:Qt,vMathematical:Qt,vectorEffect:null,vHanging:Qt,vIdeographic:Qt,version:null,vertAdvY:Qt,vertOriginX:Qt,vertOriginY:Qt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Qt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),kae=/^data[-\w.:]+$/i,qO=/-[a-z]/g,wae=/[A-Z]/g;function vae(t,i){const r=m4(i);let o=i,a=sd;if(r in t.normal)return t.property[t.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&kae.test(i)){if(i.charAt(4)==="-"){const c=i.slice(5).replace(qO,Aae);o="data"+c.charAt(0).toUpperCase()+c.slice(1)}else{const c=i.slice(4);if(!qO.test(c)){let d=c.replace(wae,yae);d.charAt(0)!=="-"&&(d="-"+d),i="data"+d}}a=CD}return new a(o,i)}function yae(t){return"-"+t.toLowerCase()}function Aae(t){return t.charAt(1).toUpperCase()}const VO={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},_ae=J7([tR,eR,iR,oR,gae],"html"),Cae=J7([tR,eR,iR,oR,bae],"svg");function xae(t){if(t.allowedElements&&t.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(t.allowedElements||t.disallowedElements||t.allowElement)return i=>{AD(i,"element",(r,o,a)=>{const c=a;let d;if(t.allowedElements?d=!t.allowedElements.includes(r.tagName):t.disallowedElements&&(d=t.disallowedElements.includes(r.tagName)),!d&&t.allowElement&&typeof o=="number"&&(d=!t.allowElement(r,o,c)),d&&typeof o=="number")return t.unwrapDisallowed&&r.children?c.children.splice(o,1,...r.children):c.children.splice(o,1),o})}}var fE={exports:{}},mi={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HO;function Sae(){if(HO)return mi;HO=1;var t=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),p=Symbol.for("react.server_context"),m=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),D;D=Symbol.for("react.module.reference");function E(O){if(typeof O=="object"&&O!==null){var M=O.$$typeof;switch(M){case t:switch(O=O.type,O){case r:case a:case o:case k:case w:return O;default:switch(O=O&&O.$$typeof,O){case p:case d:case m:case C:case _:case c:return O;default:return M}}case i:return M}}}return mi.ContextConsumer=d,mi.ContextProvider=c,mi.Element=t,mi.ForwardRef=m,mi.Fragment=r,mi.Lazy=C,mi.Memo=_,mi.Portal=i,mi.Profiler=a,mi.StrictMode=o,mi.Suspense=k,mi.SuspenseList=w,mi.isAsyncMode=function(){return!1},mi.isConcurrentMode=function(){return!1},mi.isContextConsumer=function(O){return E(O)===d},mi.isContextProvider=function(O){return E(O)===c},mi.isElement=function(O){return typeof O=="object"&&O!==null&&O.$$typeof===t},mi.isForwardRef=function(O){return E(O)===m},mi.isFragment=function(O){return E(O)===r},mi.isLazy=function(O){return E(O)===C},mi.isMemo=function(O){return E(O)===_},mi.isPortal=function(O){return E(O)===i},mi.isProfiler=function(O){return E(O)===a},mi.isStrictMode=function(O){return E(O)===o},mi.isSuspense=function(O){return E(O)===k},mi.isSuspenseList=function(O){return E(O)===w},mi.isValidElementType=function(O){return typeof O=="string"||typeof O=="function"||O===r||O===a||O===o||O===k||O===w||O===v||typeof O=="object"&&O!==null&&(O.$$typeof===C||O.$$typeof===_||O.$$typeof===c||O.$$typeof===d||O.$$typeof===m||O.$$typeof===D||O.getModuleId!==void 0)},mi.typeOf=E,mi}var $O;function Eae(){return $O||($O=1,fE.exports=Sae()),fE.exports}var Dae=Eae();const Iae=Si(Dae);function Tae(t){const i=t&&typeof t=="object"&&t.type==="text"?t.value||"":t;return typeof i=="string"&&i.replace(/[ \t\n\f\r]/g,"")===""}function Mae(t){return t.join(" ").trim()}function Nae(t,i){const r={};return(t[t.length-1]===""?[...t,""]:t).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}var JC={exports:{}},pE,WO;function Oae(){if(WO)return pE;WO=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,i=/\n/g,r=/^\s*/,o=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,c=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,d=/^[;\s]*/,p=/^\s+|\s+$/g,m=`
`,k="/",w="*",_="",C="comment",v="declaration";pE=function(E,O){if(typeof E!="string")throw new TypeError("First argument must be a string");if(!E)return[];O=O||{};var M=1,j=1;function F(U){var q=U.match(i);q&&(M+=q.length);var fe=U.lastIndexOf(m);j=~fe?U.length-fe:j+U.length}function G(){var U={line:M,column:j};return function(q){return q.position=new J(U),Z(),q}}function J(U){this.start=U,this.end={line:M,column:j},this.source=O.source}J.prototype.content=E;function H(U){var q=new Error(O.source+":"+M+":"+j+": "+U);if(q.reason=U,q.filename=O.source,q.line=M,q.column=j,q.source=E,!O.silent)throw q}function z(U){var q=U.exec(E);if(q){var fe=q[0];return F(fe),E=E.slice(fe.length),q}}function Z(){z(r)}function Y(U){var q;for(U=U||[];q=se();)q!==!1&&U.push(q);return U}function se(){var U=G();if(!(k!=E.charAt(0)||w!=E.charAt(1))){for(var q=2;_!=E.charAt(q)&&(w!=E.charAt(q)||k!=E.charAt(q+1));)++q;if(q+=2,_===E.charAt(q-1))return H("End of comment missing");var fe=E.slice(2,q-2);return j+=2,F(fe),E=E.slice(q),j+=2,U({type:C,comment:fe})}}function X(){var U=G(),q=z(o);if(q){if(se(),!z(a))return H("property missing ':'");var fe=z(c),ue=U({type:v,property:D(q[0].replace(t,_)),value:fe?D(fe[0].replace(t,_)):_});return z(d),ue}}function K(){var U=[];Y(U);for(var q;q=X();)q!==!1&&(U.push(q),Y(U));return U}return Z(),K()};function D(E){return E?E.replace(p,_):_}return pE}var GO;function Bae(){if(GO)return JC.exports;GO=1;var t=Oae();function i(r,o){var a=null;if(!r||typeof r!="string")return a;for(var c,d=t(r),p=typeof o=="function",m,k,w=0,_=d.length;w<_;w++)c=d[w],m=c.property,k=c.value,p?o(m,k,c):k&&(a||(a={}),a[m]=k);return a}return JC.exports=i,JC.exports.default=i,JC.exports}var jae=Bae();const Lae=Si(jae),b4={}.hasOwnProperty,Pae=new Set(["table","thead","tbody","tfoot","tr"]);function sR(t,i){const r=[];let o=-1,a;for(;++o<i.children.length;)a=i.children[o],a.type==="element"?r.push(Rae(t,a,o,i)):a.type==="text"?(i.type!=="element"||!Pae.has(i.tagName)||!Tae(a))&&r.push(a.value):a.type==="raw"&&!t.options.skipHtml&&r.push(a.value);return r}function Rae(t,i,r,o){const a=t.options,c=a.transformLinkUri===void 0?Yre:a.transformLinkUri,d=t.schema,p=i.tagName,m={};let k=d,w;if(d.space==="html"&&p==="svg"&&(k=Cae,t.schema=k),i.properties)for(w in i.properties)b4.call(i.properties,w)&&zae(m,w,i.properties[w],t);(p==="ol"||p==="ul")&&t.listDepth++;const _=sR(t,i);(p==="ol"||p==="ul")&&t.listDepth--,t.schema=d;const C=i.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},v=a.components&&b4.call(a.components,p)?a.components[p]:p,D=typeof v=="string"||v===vt.Fragment;if(!Iae.isValidElementType(v))throw new TypeError(`Component for name \`${p}\` not defined or is not renderable`);if(m.key=r,p==="a"&&a.linkTarget&&(m.target=typeof a.linkTarget=="function"?a.linkTarget(String(m.href||""),i.children,typeof m.title=="string"?m.title:null):a.linkTarget),p==="a"&&c&&(m.href=c(String(m.href||""),i.children,typeof m.title=="string"?m.title:null)),!D&&p==="code"&&o.type==="element"&&o.tagName!=="pre"&&(m.inline=!0),!D&&(p==="h1"||p==="h2"||p==="h3"||p==="h4"||p==="h5"||p==="h6")&&(m.level=Number.parseInt(p.charAt(1),10)),p==="img"&&a.transformImageUri&&(m.src=a.transformImageUri(String(m.src||""),String(m.alt||""),typeof m.title=="string"?m.title:null)),!D&&p==="li"&&o.type==="element"){const E=Fae(i);m.checked=E&&E.properties?!!E.properties.checked:null,m.index=mE(o,i),m.ordered=o.tagName==="ol"}return!D&&(p==="ol"||p==="ul")&&(m.ordered=p==="ol",m.depth=t.listDepth),(p==="td"||p==="th")&&(m.align&&(m.style||(m.style={}),m.style.textAlign=m.align,delete m.align),D||(m.isHeader=p==="th")),!D&&p==="tr"&&o.type==="element"&&(m.isHeader=o.tagName==="thead"),a.sourcePos&&(m["data-sourcepos"]=Vae(C)),!D&&a.rawSourcePos&&(m.sourcePosition=i.position),!D&&a.includeElementIndex&&(m.index=mE(o,i),m.siblingCount=mE(o)),D||(m.node=i),_.length>0?vt.createElement(v,m,_):vt.createElement(v,m)}function Fae(t){let i=-1;for(;++i<t.children.length;){const r=t.children[i];if(r.type==="element"&&r.tagName==="input")return r}return null}function mE(t,i){let r=-1,o=0;for(;++r<t.children.length&&t.children[r]!==i;)t.children[r].type==="element"&&o++;return o}function zae(t,i,r,o){const a=vae(o.schema,i);let c=r;c==null||c!==c||(Array.isArray(c)&&(c=a.commaSeparated?Nae(c):Mae(c)),a.property==="style"&&typeof c=="string"&&(c=Uae(c)),a.space&&a.property?t[b4.call(VO,a.property)?VO[a.property]:a.property]=c:a.attribute&&(t[a.attribute]=c))}function Uae(t){const i={};try{Lae(t,r)}catch{}return i;function r(o,a){const c=o.slice(0,4)==="-ms-"?`ms-${o.slice(4)}`:o;i[c.replace(/-([a-z])/g,qae)]=a}}function qae(t,i){return i.toUpperCase()}function Vae(t){return[t.start.line,":",t.start.column,"-",t.end.line,":",t.end.column].map(String).join("")}const YO={}.hasOwnProperty,Hae="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",XC={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function xD(t){for(const c in XC)if(YO.call(XC,c)&&YO.call(t,c)){const d=XC[c];console.warn(`[react-markdown] Warning: please ${d.to?`use \`${d.to}\` instead of`:"remove"} \`${c}\` (see <${Hae}#${d.id}> for more info)`),delete XC[c]}const i=hie().use(yse).use(t.remarkPlugins||[]).use(dae,{...t.remarkRehypeOptions,allowDangerousHtml:!0}).use(t.rehypePlugins||[]).use(xae,t),r=new I7;typeof t.children=="string"?r.value=t.children:t.children!==void 0&&t.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${t.children}\`)`);const o=i.runSync(i.parse(r),r);if(o.type!=="root")throw new TypeError("Expected a `root` node");let a=vt.createElement(vt.Fragment,{},sR({options:t,schema:_ae,listDepth:0},o));return t.className&&(a=vt.createElement("div",{className:t.className},a)),a}xD.propTypes={children:Zn.string,className:Zn.string,allowElement:Zn.func,allowedElements:Zn.arrayOf(Zn.string),disallowedElements:Zn.arrayOf(Zn.string),unwrapDisallowed:Zn.bool,remarkPlugins:Zn.arrayOf(Zn.oneOfType([Zn.object,Zn.func,Zn.arrayOf(Zn.oneOfType([Zn.bool,Zn.string,Zn.object,Zn.func,Zn.arrayOf(Zn.any)]))])),rehypePlugins:Zn.arrayOf(Zn.oneOfType([Zn.object,Zn.func,Zn.arrayOf(Zn.oneOfType([Zn.bool,Zn.string,Zn.object,Zn.func,Zn.arrayOf(Zn.any)]))])),sourcePos:Zn.bool,rawSourcePos:Zn.bool,skipHtml:Zn.bool,includeElementIndex:Zn.bool,transformLinkUri:Zn.oneOfType([Zn.func,Zn.bool]),linkTarget:Zn.oneOfType([Zn.func,Zn.string]),transformImageUri:Zn.func,components:Zn.object};function SD(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function bp(t){if(t.__esModule)return t;var i=t.default;if(typeof i=="function"){var r=function o(){return this instanceof o?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};r.prototype=i.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(o){var a=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(r,o,a.get?a:{enumerable:!0,get:function(){return t[o]}})}),r}var KO={exports:{}},ny={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QO;function $ae(){if(QO)return ny;QO=1;var t=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function r(o,a,c){var d=null;if(c!==void 0&&(d=""+c),a.key!==void 0&&(d=""+a.key),"key"in a){c={};for(var p in a)p!=="key"&&(c[p]=a[p])}else c=a;return a=c.ref,{$$typeof:t,type:o,key:d,ref:a!==void 0?a:null,props:c}}return ny.Fragment=i,ny.jsx=r,ny.jsxs=r,ny}var ZO;function ED(){return ZO||(ZO=1,KO.exports=$ae()),KO.exports}var Yn=ED(),ry={},JO={exports:{}},XO;function N5(){return XO||(XO=1,function(t){function i(r){return r&&r.__esModule?r:{default:r}}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}(JO)),JO.exports}var eB={};function Oi(){return Oi=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var r=arguments[i];for(var o in r)({}).hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Oi.apply(null,arguments)}function xm(t){if(typeof t!="object"||t===null)return!1;const i=Object.getPrototypeOf(t);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function aR(t){if(ae.isValidElement(t)||!xm(t))return t;const i={};return Object.keys(t).forEach(r=>{i[r]=aR(t[r])}),i}function rf(t,i,r={clone:!0}){const o=r.clone?Oi({},t):t;return xm(t)&&xm(i)&&Object.keys(i).forEach(a=>{ae.isValidElement(i[a])?o[a]=i[a]:xm(i[a])&&Object.prototype.hasOwnProperty.call(t,a)&&xm(t[a])?o[a]=rf(t[a],i[a],r):r.clone?o[a]=xm(i[a])?aR(i[a]):i[a]:o[a]=i[a]}),o}const Wae=Object.freeze(Object.defineProperty({__proto__:null,default:rf,isPlainObject:xm},Symbol.toStringTag,{value:"Module"}));function Fy(t){let i="https://mui.com/production-error/?code="+t;for(let r=1;r<arguments.length;r+=1)i+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+t+"; visit "+i+" for the full message."}const Gae=Object.freeze(Object.defineProperty({__proto__:null,default:Fy},Symbol.toStringTag,{value:"Module"}));var tB={exports:{}},Mi={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nB;function Yae(){if(nB)return Mi;nB=1;var t=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),C=Symbol.for("react.offscreen"),v=Symbol.for("react.client.reference");function D(E){if(typeof E=="object"&&E!==null){var O=E.$$typeof;switch(O){case t:switch(E=E.type,E){case r:case a:case o:case m:case k:return E;default:switch(E=E&&E.$$typeof,E){case d:case p:case _:case w:return E;case c:return E;default:return O}}case i:return O}}}return Mi.ContextConsumer=c,Mi.ContextProvider=d,Mi.Element=t,Mi.ForwardRef=p,Mi.Fragment=r,Mi.Lazy=_,Mi.Memo=w,Mi.Portal=i,Mi.Profiler=a,Mi.StrictMode=o,Mi.Suspense=m,Mi.SuspenseList=k,Mi.isContextConsumer=function(E){return D(E)===c},Mi.isContextProvider=function(E){return D(E)===d},Mi.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},Mi.isForwardRef=function(E){return D(E)===p},Mi.isFragment=function(E){return D(E)===r},Mi.isLazy=function(E){return D(E)===_},Mi.isMemo=function(E){return D(E)===w},Mi.isPortal=function(E){return D(E)===i},Mi.isProfiler=function(E){return D(E)===a},Mi.isStrictMode=function(E){return D(E)===o},Mi.isSuspense=function(E){return D(E)===m},Mi.isSuspenseList=function(E){return D(E)===k},Mi.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===r||E===a||E===o||E===m||E===k||E===C||typeof E=="object"&&E!==null&&(E.$$typeof===_||E.$$typeof===w||E.$$typeof===d||E.$$typeof===c||E.$$typeof===p||E.$$typeof===v||E.getModuleId!==void 0)},Mi.typeOf=D,Mi}var rB;function Kae(){return rB||(rB=1,tB.exports=Yae()),tB.exports}var iB=Kae();const Qae=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function lR(t){const i=`${t}`.match(Qae);return i&&i[1]||""}function cR(t,i=""){return t.displayName||t.name||lR(t)||i}function oB(t,i,r){const o=cR(i);return t.displayName||(o!==""?`${r}(${o})`:r)}function Zae(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return cR(t,"Component");if(typeof t=="object")switch(t.$$typeof){case iB.ForwardRef:return oB(t,t.render,"ForwardRef");case iB.Memo:return oB(t,t.type,"memo");default:return}}}const Jae=Object.freeze(Object.defineProperty({__proto__:null,default:Zae,getFunctionName:lR},Symbol.toStringTag,{value:"Module"}));function qm(t){if(typeof t!="string")throw new Error(Fy(7));return t.charAt(0).toUpperCase()+t.slice(1)}const Xae=Object.freeze(Object.defineProperty({__proto__:null,default:qm},Symbol.toStringTag,{value:"Module"}));function ele(...t){return t.reduce((i,r)=>r==null?i:function(...o){i.apply(this,o),r.apply(this,o)},()=>{})}function tle(t,i=166){let r;function o(...a){const c=()=>{t.apply(this,a)};clearTimeout(r),r=setTimeout(c,i)}return o.clear=()=>{clearTimeout(r)},o}function nle(t,i){return()=>null}function rle(t,i){var r,o;return ae.isValidElement(t)&&i.indexOf((r=t.type.muiName)!=null?r:(o=t.type)==null||(o=o._payload)==null||(o=o.value)==null?void 0:o.muiName)!==-1}function uR(t){return t&&t.ownerDocument||document}function ile(t){return uR(t).defaultView||window}function ole(t,i){return()=>null}function dR(t,i){typeof t=="function"?t(i):t&&(t.current=i)}const hR=typeof window<"u"?ae.useLayoutEffect:ae.useEffect;let sB=0;function sle(t){const[i,r]=ae.useState(t),o=t||i;return ae.useEffect(()=>{i==null&&(sB+=1,r(`mui-${sB}`))},[i]),o}const aB=ae.useId;function ale(t){if(aB!==void 0){const i=aB();return t??i}return sle(t)}function lle(t,i,r,o,a){return null}function cle({controlled:t,default:i,name:r,state:o="value"}){const{current:a}=ae.useRef(t!==void 0),[c,d]=ae.useState(i),p=a?t:c,m=ae.useCallback(k=>{a||d(k)},[]);return[p,m]}function ule(t){const i=ae.useRef(t);return hR(()=>{i.current=t}),ae.useRef((...r)=>(0,i.current)(...r)).current}function dle(...t){return ae.useMemo(()=>t.every(i=>i==null)?null:i=>{t.forEach(r=>{dR(r,i)})},t)}let hle=class fR{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new fR}start(i,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},i)}},O5=!0,k4=!1;const fle=new hle,ple={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function mle(t){const{type:i,tagName:r}=t;return!!(r==="INPUT"&&ple[i]&&!t.readOnly||r==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function gle(t){t.metaKey||t.altKey||t.ctrlKey||(O5=!0)}function gE(){O5=!1}function ble(){this.visibilityState==="hidden"&&k4&&(O5=!0)}function kle(t){t.addEventListener("keydown",gle,!0),t.addEventListener("mousedown",gE,!0),t.addEventListener("pointerdown",gE,!0),t.addEventListener("touchstart",gE,!0),t.addEventListener("visibilitychange",ble,!0)}function wle(t){const{target:i}=t;try{return i.matches(":focus-visible")}catch{}return O5||mle(i)}function vle(){const t=ae.useCallback(a=>{a!=null&&kle(a.ownerDocument)},[]),i=ae.useRef(!1);function r(){return i.current?(k4=!0,fle.start(100,()=>{k4=!1}),i.current=!1,!0):!1}function o(a){return wle(a)?(i.current=!0,!0):!1}return{isFocusVisibleRef:i,onFocus:o,onBlur:r,ref:t}}function w4(t,i){const r=Oi({},i);return Object.keys(t).forEach(o=>{if(o.toString().match(/^(components|slots)$/))r[o]=Oi({},t[o],r[o]);else if(o.toString().match(/^(componentsProps|slotProps)$/)){const a=t[o]||{},c=i[o];r[o]={},!c||!Object.keys(c)?r[o]=a:!a||!Object.keys(a)?r[o]=c:(r[o]=Oi({},c),Object.keys(a).forEach(d=>{r[o][d]=w4(a[d],c[d])}))}else r[o]===void 0&&(r[o]=t[o])}),r}function yle(t,i,r=void 0){const o={};return Object.keys(t).forEach(a=>{o[a]=t[a].reduce((c,d)=>{if(d){const p=i(d);p!==""&&c.push(p),r&&r[d]&&c.push(r[d])}return c},[]).join(" ")}),o}const lB=t=>t,Ale=()=>{let t=lB;return{configure(i){t=i},generate(i){return t(i)},reset(){t=lB}}},pR=Ale(),_le={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function mR(t,i,r="Mui"){const o=_le[i];return o?`${r}-${o}`:`${pR.generate(t)}-${i}`}function Cle(t,i,r="Mui"){const o={};return i.forEach(a=>{o[a]=mR(t,a,r)}),o}function xle(t,i=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(i,Math.min(t,r))}const Sle=Object.freeze(Object.defineProperty({__proto__:null,default:xle},Symbol.toStringTag,{value:"Module"}));function Gm(t,i){if(t==null)return{};var r={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(i.includes(o))continue;r[o]=t[o]}return r}function gR(t){var i,r,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(i=0;i<a;i++)t[i]&&(r=gR(t[i]))&&(o&&(o+=" "),o+=r)}else for(r in t)t[r]&&(o&&(o+=" "),o+=r);return o}function Ele(){for(var t,i,r=0,o="",a=arguments.length;r<a;r++)(t=arguments[r])&&(i=gR(t))&&(o&&(o+=" "),o+=i);return o}const Dle=ae.createContext(void 0);function Ile(t){const{theme:i,name:r,props:o}=t;if(!i||!i.components||!i.components[r])return o;const a=i.components[r];return a.defaultProps?w4(a.defaultProps,o):!a.styleOverrides&&!a.variants?w4(a,o):o}function Tle({props:t,name:i}){const r=ae.useContext(Dle);return Ile({props:t,name:i,theme:{components:r}})}function Mle(t){return Tle(t)}var qg={},cB={exports:{}},uB;function Nle(){return uB||(uB=1,function(t){function i(){return t.exports=i=Object.assign?Object.assign.bind():function(r){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var c in a)({}).hasOwnProperty.call(a,c)&&(r[c]=a[c])}return r},t.exports.__esModule=!0,t.exports.default=t.exports,i.apply(null,arguments)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}(cB)),cB.exports}var dB={exports:{}},hB;function Ole(){return hB||(hB=1,function(t){function i(r,o){if(r==null)return{};var a={};for(var c in r)if({}.hasOwnProperty.call(r,c)){if(o.includes(c))continue;a[c]=r[c]}return a}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}(dB)),dB.exports}function Ble(t){if(t.sheet)return t.sheet;for(var i=0;i<document.styleSheets.length;i++)if(document.styleSheets[i].ownerNode===t)return document.styleSheets[i]}function jle(t){var i=document.createElement("style");return i.setAttribute("data-emotion",t.key),t.nonce!==void 0&&i.setAttribute("nonce",t.nonce),i.appendChild(document.createTextNode("")),i.setAttribute("data-s",""),i}var Lle=function(){function t(r){var o=this;this._insertTag=function(a){var c;o.tags.length===0?o.insertionPoint?c=o.insertionPoint.nextSibling:o.prepend?c=o.container.firstChild:c=o.before:c=o.tags[o.tags.length-1].nextSibling,o.container.insertBefore(a,c),o.tags.push(a)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var i=t.prototype;return i.hydrate=function(r){r.forEach(this._insertTag)},i.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(jle(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var a=Ble(o);try{a.insertRule(r,a.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(r));this.ctr++},i.flush=function(){this.tags.forEach(function(r){var o;return(o=r.parentNode)==null?void 0:o.removeChild(r)}),this.tags=[],this.ctr=0},t}(),el="-ms-",e5="-moz-",oi="-webkit-",bR="comm",DD="rule",ID="decl",Ple="@import",kR="@keyframes",Rle="@layer",Fle=Math.abs,B5=String.fromCharCode,zle=Object.assign;function Ule(t,i){return Sa(t,0)^45?(((i<<2^Sa(t,0))<<2^Sa(t,1))<<2^Sa(t,2))<<2^Sa(t,3):0}function wR(t){return t.trim()}function qle(t,i){return(t=i.exec(t))?t[0]:t}function ai(t,i,r){return t.replace(i,r)}function v4(t,i){return t.indexOf(i)}function Sa(t,i){return t.charCodeAt(i)|0}function zy(t,i,r){return t.slice(i,r)}function zh(t){return t.length}function TD(t){return t.length}function ex(t,i){return i.push(t),t}function Vle(t,i){return t.map(i).join("")}var j5=1,bk=1,vR=0,dc=0,Is=0,Ek="";function L5(t,i,r,o,a,c,d){return{value:t,root:i,parent:r,type:o,props:a,children:c,line:j5,column:bk,length:d,return:""}}function iy(t,i){return zle(L5("",null,null,"",null,null,0),t,{length:-t.length},i)}function Hle(){return Is}function $le(){return Is=dc>0?Sa(Ek,--dc):0,bk--,Is===10&&(bk=1,j5--),Is}function su(){return Is=dc<vR?Sa(Ek,dc++):0,bk++,Is===10&&(bk=1,j5++),Is}function of(){return Sa(Ek,dc)}function wx(){return dc}function cA(t,i){return zy(Ek,t,i)}function Uy(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function yR(t){return j5=bk=1,vR=zh(Ek=t),dc=0,[]}function AR(t){return Ek="",t}function vx(t){return wR(cA(dc-1,y4(t===91?t+2:t===40?t+1:t)))}function Wle(t){for(;(Is=of())&&Is<33;)su();return Uy(t)>2||Uy(Is)>3?"":" "}function Gle(t,i){for(;--i&&su()&&!(Is<48||Is>102||Is>57&&Is<65||Is>70&&Is<97););return cA(t,wx()+(i<6&&of()==32&&su()==32))}function y4(t){for(;su();)switch(Is){case t:return dc;case 34:case 39:t!==34&&t!==39&&y4(Is);break;case 40:t===41&&y4(t);break;case 92:su();break}return dc}function Yle(t,i){for(;su()&&t+Is!==57&&!(t+Is===84&&of()===47););return"/*"+cA(i,dc-1)+"*"+B5(t===47?t:su())}function Kle(t){for(;!Uy(of());)su();return cA(t,dc)}function Qle(t){return AR(yx("",null,null,null,[""],t=yR(t),0,[0],t))}function yx(t,i,r,o,a,c,d,p,m){for(var k=0,w=0,_=d,C=0,v=0,D=0,E=1,O=1,M=1,j=0,F="",G=a,J=c,H=o,z=F;O;)switch(D=j,j=su()){case 40:if(D!=108&&Sa(z,_-1)==58){v4(z+=ai(vx(j),"&","&\f"),"&\f")!=-1&&(M=-1);break}case 34:case 39:case 91:z+=vx(j);break;case 9:case 10:case 13:case 32:z+=Wle(D);break;case 92:z+=Gle(wx()-1,7);continue;case 47:switch(of()){case 42:case 47:ex(Zle(Yle(su(),wx()),i,r),m);break;default:z+="/"}break;case 123*E:p[k++]=zh(z)*M;case 125*E:case 59:case 0:switch(j){case 0:case 125:O=0;case 59+w:M==-1&&(z=ai(z,/\f/g,"")),v>0&&zh(z)-_&&ex(v>32?pB(z+";",o,r,_-1):pB(ai(z," ","")+";",o,r,_-2),m);break;case 59:z+=";";default:if(ex(H=fB(z,i,r,k,w,a,p,F,G=[],J=[],_),c),j===123)if(w===0)yx(z,i,H,H,G,c,_,p,J);else switch(C===99&&Sa(z,3)===110?100:C){case 100:case 108:case 109:case 115:yx(t,H,H,o&&ex(fB(t,H,H,0,0,a,p,F,a,G=[],_),J),a,J,_,p,o?G:J);break;default:yx(z,H,H,H,[""],J,0,p,J)}}k=w=v=0,E=M=1,F=z="",_=d;break;case 58:_=1+zh(z),v=D;default:if(E<1){if(j==123)--E;else if(j==125&&E++==0&&$le()==125)continue}switch(z+=B5(j),j*E){case 38:M=w>0?1:(z+="\f",-1);break;case 44:p[k++]=(zh(z)-1)*M,M=1;break;case 64:of()===45&&(z+=vx(su())),C=of(),w=_=zh(F=z+=Kle(wx())),j++;break;case 45:D===45&&zh(z)==2&&(E=0)}}return c}function fB(t,i,r,o,a,c,d,p,m,k,w){for(var _=a-1,C=a===0?c:[""],v=TD(C),D=0,E=0,O=0;D<o;++D)for(var M=0,j=zy(t,_+1,_=Fle(E=d[D])),F=t;M<v;++M)(F=wR(E>0?C[M]+" "+j:ai(j,/&\f/g,C[M])))&&(m[O++]=F);return L5(t,i,r,a===0?DD:p,m,k,w)}function Zle(t,i,r){return L5(t,i,r,bR,B5(Hle()),zy(t,2,-2),0)}function pB(t,i,r,o){return L5(t,i,r,ID,zy(t,0,o),zy(t,o+1,-1),o)}function sk(t,i){for(var r="",o=TD(t),a=0;a<o;a++)r+=i(t[a],a,t,i)||"";return r}function Jle(t,i,r,o){switch(t.type){case Rle:if(t.children.length)break;case Ple:case ID:return t.return=t.return||t.value;case bR:return"";case kR:return t.return=t.value+"{"+sk(t.children,o)+"}";case DD:t.value=t.props.join(",")}return zh(r=sk(t.children,o))?t.return=t.value+"{"+r+"}":""}function Xle(t){var i=TD(t);return function(r,o,a,c){for(var d="",p=0;p<i;p++)d+=t[p](r,o,a,c)||"";return d}}function ece(t){return function(i){i.root||(i=i.return)&&t(i)}}var tce=function(t,i,r){for(var o=0,a=0;o=a,a=of(),o===38&&a===12&&(i[r]=1),!Uy(a);)su();return cA(t,dc)},nce=function(t,i){var r=-1,o=44;do switch(Uy(o)){case 0:o===38&&of()===12&&(i[r]=1),t[r]+=tce(dc-1,i,r);break;case 2:t[r]+=vx(o);break;case 4:if(o===44){t[++r]=of()===58?"&\f":"",i[r]=t[r].length;break}default:t[r]+=B5(o)}while(o=su());return t},rce=function(t,i){return AR(nce(yR(t),i))},mB=new WeakMap,ice=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var i=t.value,r=t.parent,o=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&i.charCodeAt(0)!==58&&!mB.get(r))&&!o){mB.set(t,!0);for(var a=[],c=rce(i,a),d=r.props,p=0,m=0;p<c.length;p++)for(var k=0;k<d.length;k++,m++)t.props[m]=a[p]?c[p].replace(/&\f/g,d[k]):d[k]+" "+c[p]}}},oce=function(t){if(t.type==="decl"){var i=t.value;i.charCodeAt(0)===108&&i.charCodeAt(2)===98&&(t.return="",t.value="")}};function _R(t,i){switch(Ule(t,i)){case 5103:return oi+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return oi+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return oi+t+e5+t+el+t+t;case 6828:case 4268:return oi+t+el+t+t;case 6165:return oi+t+el+"flex-"+t+t;case 5187:return oi+t+ai(t,/(\w+).+(:[^]+)/,oi+"box-$1$2"+el+"flex-$1$2")+t;case 5443:return oi+t+el+"flex-item-"+ai(t,/flex-|-self/,"")+t;case 4675:return oi+t+el+"flex-line-pack"+ai(t,/align-content|flex-|-self/,"")+t;case 5548:return oi+t+el+ai(t,"shrink","negative")+t;case 5292:return oi+t+el+ai(t,"basis","preferred-size")+t;case 6060:return oi+"box-"+ai(t,"-grow","")+oi+t+el+ai(t,"grow","positive")+t;case 4554:return oi+ai(t,/([^-])(transform)/g,"$1"+oi+"$2")+t;case 6187:return ai(ai(ai(t,/(zoom-|grab)/,oi+"$1"),/(image-set)/,oi+"$1"),t,"")+t;case 5495:case 3959:return ai(t,/(image-set\([^]*)/,oi+"$1$`$1");case 4968:return ai(ai(t,/(.+:)(flex-)?(.*)/,oi+"box-pack:$3"+el+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+oi+t+t;case 4095:case 3583:case 4068:case 2532:return ai(t,/(.+)-inline(.+)/,oi+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(zh(t)-1-i>6)switch(Sa(t,i+1)){case 109:if(Sa(t,i+4)!==45)break;case 102:return ai(t,/(.+:)(.+)-([^]+)/,"$1"+oi+"$2-$3$1"+e5+(Sa(t,i+3)==108?"$3":"$2-$3"))+t;case 115:return~v4(t,"stretch")?_R(ai(t,"stretch","fill-available"),i)+t:t}break;case 4949:if(Sa(t,i+1)!==115)break;case 6444:switch(Sa(t,zh(t)-3-(~v4(t,"!important")&&10))){case 107:return ai(t,":",":"+oi)+t;case 101:return ai(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+oi+(Sa(t,14)===45?"inline-":"")+"box$3$1"+oi+"$2$3$1"+el+"$2box$3")+t}break;case 5936:switch(Sa(t,i+11)){case 114:return oi+t+el+ai(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return oi+t+el+ai(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return oi+t+el+ai(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return oi+t+el+t+t}return t}var sce=function(t,i,r,o){if(t.length>-1&&!t.return)switch(t.type){case ID:t.return=_R(t.value,t.length);break;case kR:return sk([iy(t,{value:ai(t.value,"@","@"+oi)})],o);case DD:if(t.length)return Vle(t.props,function(a){switch(qle(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return sk([iy(t,{props:[ai(a,/:(read-\w+)/,":"+e5+"$1")]})],o);case"::placeholder":return sk([iy(t,{props:[ai(a,/:(plac\w+)/,":"+oi+"input-$1")]}),iy(t,{props:[ai(a,/:(plac\w+)/,":"+e5+"$1")]}),iy(t,{props:[ai(a,/:(plac\w+)/,el+"input-$1")]})],o)}return""})}},ace=[sce],lce=function(t){var i=t.key;if(i==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(D){var E=D.getAttribute("data-emotion");E.indexOf(" ")!==-1&&(document.head.appendChild(D),D.setAttribute("data-s",""))})}var o=t.stylisPlugins||ace,a={},c,d=[];c=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+i+' "]'),function(D){for(var E=D.getAttribute("data-emotion").split(" "),O=1;O<E.length;O++)a[E[O]]=!0;d.push(D)});var p,m=[ice,oce];{var k,w=[Jle,ece(function(D){k.insert(D)})],_=Xle(m.concat(o,w)),C=function(D){return sk(Qle(D),_)};p=function(D,E,O,M){k=O,C(D?D+"{"+E.styles+"}":E.styles),M&&(v.inserted[E.name]=!0)}}var v={key:i,sheet:new Lle({key:i,container:c,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:p};return v.sheet.hydrate(d),v};let A4;typeof document=="object"&&(A4=lce({key:"css",prepend:!0}));function cce(t){const{injectFirst:i,children:r}=t;return i&&A4?Yn.jsx(Rj,{value:A4,children:r}):r}function uce(t){return t==null||Object.keys(t).length===0}function dce(t){const{styles:i,defaultTheme:r={}}=t,o=typeof i=="function"?a=>i(uce(a)?r:a):i;return Yn.jsx(Fj,{styles:o})}/**
 * @mui/styled-engine v5.16.12
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function hce(t,i){return Pj(t,i)}const fce=(t,i)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=i(t.__emotion_styles))},pce=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:dce,StyledEngineProvider:cce,ThemeContext:Lj,css:jj,default:hce,internal_processStyles:fce,keyframes:Bj},Symbol.toStringTag,{value:"Module"})),mce=bp(pce),gce=bp(Wae),bce=bp(Xae),kce=bp(Jae),wce=["values","unit","step"],vce=t=>{const i=Object.keys(t).map(r=>({key:r,val:t[r]}))||[];return i.sort((r,o)=>r.val-o.val),i.reduce((r,o)=>Oi({},r,{[o.key]:o.val}),{})};function CR(t){const{values:i={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:o=5}=t,a=Gm(t,wce),c=vce(i),d=Object.keys(c);function p(C){return`@media (min-width:${typeof i[C]=="number"?i[C]:C}${r})`}function m(C){return`@media (max-width:${(typeof i[C]=="number"?i[C]:C)-o/100}${r})`}function k(C,v){const D=d.indexOf(v);return`@media (min-width:${typeof i[C]=="number"?i[C]:C}${r}) and (max-width:${(D!==-1&&typeof i[d[D]]=="number"?i[d[D]]:v)-o/100}${r})`}function w(C){return d.indexOf(C)+1<d.length?k(C,d[d.indexOf(C)+1]):p(C)}function _(C){const v=d.indexOf(C);return v===0?p(d[1]):v===d.length-1?m(d[v]):k(C,d[d.indexOf(C)+1]).replace("@media","@media not all and")}return Oi({keys:d,values:c,up:p,down:m,between:k,only:w,not:_,unit:r},a)}const yce={borderRadius:4};function Ey(t,i){return i?rf(t,i,{clone:!1}):t}const MD={xs:0,sm:600,md:900,lg:1200,xl:1536},gB={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${MD[t]}px)`};function dp(t,i,r){const o=t.theme||{};if(Array.isArray(i)){const a=o.breakpoints||gB;return i.reduce((c,d,p)=>(c[a.up(a.keys[p])]=r(i[p]),c),{})}if(typeof i=="object"){const a=o.breakpoints||gB;return Object.keys(i).reduce((c,d)=>{if(Object.keys(a.values||MD).indexOf(d)!==-1){const p=a.up(d);c[p]=r(i[d],d)}else{const p=d;c[p]=i[p]}return c},{})}return r(i)}function Ace(t={}){var i;return((i=t.keys)==null?void 0:i.reduce((r,o)=>{const a=t.up(o);return r[a]={},r},{}))||{}}function _ce(t,i){return t.reduce((r,o)=>{const a=r[o];return(!a||Object.keys(a).length===0)&&delete r[o],r},i)}function P5(t,i,r=!0){if(!i||typeof i!="string")return null;if(t&&t.vars&&r){const o=`vars.${i}`.split(".").reduce((a,c)=>a&&a[c]?a[c]:null,t);if(o!=null)return o}return i.split(".").reduce((o,a)=>o&&o[a]!=null?o[a]:null,t)}function t5(t,i,r,o=r){let a;return typeof t=="function"?a=t(r):Array.isArray(t)?a=t[r]||o:a=P5(t,r)||o,i&&(a=i(a,o,t)),a}function gs(t){const{prop:i,cssProperty:r=t.prop,themeKey:o,transform:a}=t,c=d=>{if(d[i]==null)return null;const p=d[i],m=d.theme,k=P5(m,o)||{};return dp(d,p,w=>{let _=t5(k,a,w);return w===_&&typeof w=="string"&&(_=t5(k,a,`${i}${w==="default"?"":qm(w)}`,w)),r===!1?_:{[r]:_}})};return c.propTypes={},c.filterProps=[i],c}function Cce(t){const i={};return r=>(i[r]===void 0&&(i[r]=t(r)),i[r])}const xce={m:"margin",p:"padding"},Sce={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},bB={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Ece=Cce(t=>{if(t.length>2)if(bB[t])t=bB[t];else return[t];const[i,r]=t.split(""),o=xce[i],a=Sce[r]||"";return Array.isArray(a)?a.map(c=>o+c):[o+a]}),ND=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],OD=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...ND,...OD];function uA(t,i,r,o){var a;const c=(a=P5(t,i,!1))!=null?a:r;return typeof c=="number"?d=>typeof d=="string"?d:c*d:Array.isArray(c)?d=>typeof d=="string"?d:c[d]:typeof c=="function"?c:()=>{}}function xR(t){return uA(t,"spacing",8)}function dA(t,i){if(typeof i=="string"||i==null)return i;const r=Math.abs(i),o=t(r);return i>=0?o:typeof o=="number"?-o:`-${o}`}function Dce(t,i){return r=>t.reduce((o,a)=>(o[a]=dA(i,r),o),{})}function Ice(t,i,r,o){if(i.indexOf(r)===-1)return null;const a=Ece(r),c=Dce(a,o),d=t[r];return dp(t,d,c)}function SR(t,i){const r=xR(t.theme);return Object.keys(t).map(o=>Ice(t,i,o,r)).reduce(Ey,{})}function $o(t){return SR(t,ND)}$o.propTypes={};$o.filterProps=ND;function Wo(t){return SR(t,OD)}Wo.propTypes={};Wo.filterProps=OD;function Tce(t=8){if(t.mui)return t;const i=xR({spacing:t}),r=(...o)=>(o.length===0?[1]:o).map(a=>{const c=i(a);return typeof c=="number"?`${c}px`:c}).join(" ");return r.mui=!0,r}function R5(...t){const i=t.reduce((o,a)=>(a.filterProps.forEach(c=>{o[c]=a}),o),{}),r=o=>Object.keys(o).reduce((a,c)=>i[c]?Ey(a,i[c](o)):a,{});return r.propTypes={},r.filterProps=t.reduce((o,a)=>o.concat(a.filterProps),[]),r}function ed(t){return typeof t!="number"?t:`${t}px solid`}function ad(t,i){return gs({prop:t,themeKey:"borders",transform:i})}const Mce=ad("border",ed),Nce=ad("borderTop",ed),Oce=ad("borderRight",ed),Bce=ad("borderBottom",ed),jce=ad("borderLeft",ed),Lce=ad("borderColor"),Pce=ad("borderTopColor"),Rce=ad("borderRightColor"),Fce=ad("borderBottomColor"),zce=ad("borderLeftColor"),Uce=ad("outline",ed),qce=ad("outlineColor"),F5=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const i=uA(t.theme,"shape.borderRadius",4),r=o=>({borderRadius:dA(i,o)});return dp(t,t.borderRadius,r)}return null};F5.propTypes={};F5.filterProps=["borderRadius"];R5(Mce,Nce,Oce,Bce,jce,Lce,Pce,Rce,Fce,zce,F5,Uce,qce);const z5=t=>{if(t.gap!==void 0&&t.gap!==null){const i=uA(t.theme,"spacing",8),r=o=>({gap:dA(i,o)});return dp(t,t.gap,r)}return null};z5.propTypes={};z5.filterProps=["gap"];const U5=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const i=uA(t.theme,"spacing",8),r=o=>({columnGap:dA(i,o)});return dp(t,t.columnGap,r)}return null};U5.propTypes={};U5.filterProps=["columnGap"];const q5=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const i=uA(t.theme,"spacing",8),r=o=>({rowGap:dA(i,o)});return dp(t,t.rowGap,r)}return null};q5.propTypes={};q5.filterProps=["rowGap"];const Vce=gs({prop:"gridColumn"}),Hce=gs({prop:"gridRow"}),$ce=gs({prop:"gridAutoFlow"}),Wce=gs({prop:"gridAutoColumns"}),Gce=gs({prop:"gridAutoRows"}),Yce=gs({prop:"gridTemplateColumns"}),Kce=gs({prop:"gridTemplateRows"}),Qce=gs({prop:"gridTemplateAreas"}),Zce=gs({prop:"gridArea"});R5(z5,U5,q5,Vce,Hce,$ce,Wce,Gce,Yce,Kce,Qce,Zce);function ak(t,i){return i==="grey"?i:t}const Jce=gs({prop:"color",themeKey:"palette",transform:ak}),Xce=gs({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ak}),eue=gs({prop:"backgroundColor",themeKey:"palette",transform:ak});R5(Jce,Xce,eue);function eu(t){return t<=1&&t!==0?`${t*100}%`:t}const tue=gs({prop:"width",transform:eu}),BD=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const i=r=>{var o,a;const c=((o=t.theme)==null||(o=o.breakpoints)==null||(o=o.values)==null?void 0:o[r])||MD[r];return c?((a=t.theme)==null||(a=a.breakpoints)==null?void 0:a.unit)!=="px"?{maxWidth:`${c}${t.theme.breakpoints.unit}`}:{maxWidth:c}:{maxWidth:eu(r)}};return dp(t,t.maxWidth,i)}return null};BD.filterProps=["maxWidth"];const nue=gs({prop:"minWidth",transform:eu}),rue=gs({prop:"height",transform:eu}),iue=gs({prop:"maxHeight",transform:eu}),oue=gs({prop:"minHeight",transform:eu});gs({prop:"size",cssProperty:"width",transform:eu});gs({prop:"size",cssProperty:"height",transform:eu});const sue=gs({prop:"boxSizing"});R5(tue,BD,nue,rue,iue,oue,sue);const hA={border:{themeKey:"borders",transform:ed},borderTop:{themeKey:"borders",transform:ed},borderRight:{themeKey:"borders",transform:ed},borderBottom:{themeKey:"borders",transform:ed},borderLeft:{themeKey:"borders",transform:ed},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ed},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:F5},color:{themeKey:"palette",transform:ak},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ak},backgroundColor:{themeKey:"palette",transform:ak},p:{style:Wo},pt:{style:Wo},pr:{style:Wo},pb:{style:Wo},pl:{style:Wo},px:{style:Wo},py:{style:Wo},padding:{style:Wo},paddingTop:{style:Wo},paddingRight:{style:Wo},paddingBottom:{style:Wo},paddingLeft:{style:Wo},paddingX:{style:Wo},paddingY:{style:Wo},paddingInline:{style:Wo},paddingInlineStart:{style:Wo},paddingInlineEnd:{style:Wo},paddingBlock:{style:Wo},paddingBlockStart:{style:Wo},paddingBlockEnd:{style:Wo},m:{style:$o},mt:{style:$o},mr:{style:$o},mb:{style:$o},ml:{style:$o},mx:{style:$o},my:{style:$o},margin:{style:$o},marginTop:{style:$o},marginRight:{style:$o},marginBottom:{style:$o},marginLeft:{style:$o},marginX:{style:$o},marginY:{style:$o},marginInline:{style:$o},marginInlineStart:{style:$o},marginInlineEnd:{style:$o},marginBlock:{style:$o},marginBlockStart:{style:$o},marginBlockEnd:{style:$o},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:z5},rowGap:{style:q5},columnGap:{style:U5},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:eu},maxWidth:{style:BD},minWidth:{transform:eu},height:{transform:eu},maxHeight:{transform:eu},minHeight:{transform:eu},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function aue(...t){const i=t.reduce((o,a)=>o.concat(Object.keys(a)),[]),r=new Set(i);return t.every(o=>r.size===Object.keys(o).length)}function lue(t,i){return typeof t=="function"?t(i):t}function ER(){function t(r,o,a,c){const d={[r]:o,theme:a},p=c[r];if(!p)return{[r]:o};const{cssProperty:m=r,themeKey:k,transform:w,style:_}=p;if(o==null)return null;if(k==="typography"&&o==="inherit")return{[r]:o};const C=P5(a,k)||{};return _?_(d):dp(d,o,v=>{let D=t5(C,w,v);return v===D&&typeof v=="string"&&(D=t5(C,w,`${r}${v==="default"?"":qm(v)}`,v)),m===!1?D:{[m]:D}})}function i(r){var o;const{sx:a,theme:c={}}=r||{};if(!a)return null;const d=(o=c.unstable_sxConfig)!=null?o:hA;function p(m){let k=m;if(typeof m=="function")k=m(c);else if(typeof m!="object")return m;if(!k)return null;const w=Ace(c.breakpoints),_=Object.keys(w);let C=w;return Object.keys(k).forEach(v=>{const D=lue(k[v],c);if(D!=null)if(typeof D=="object")if(d[v])C=Ey(C,t(v,D,c,d));else{const E=dp({theme:c},D,O=>({[v]:O}));aue(E,D)?C[v]=i({sx:D,theme:c}):C=Ey(C,E)}else C=Ey(C,t(v,D,c,d))}),_ce(_,C)}return Array.isArray(a)?a.map(p):p(a)}return i}const V5=ER();V5.filterProps=["sx"];function DR(t,i){const r=this;return r.vars&&typeof r.getColorSchemeSelector=="function"?{[r.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:i}:r.palette.mode===t?i:{}}const cue=["breakpoints","palette","spacing","shape"];function IR(t={},...i){const{breakpoints:r={},palette:o={},spacing:a,shape:c={}}=t,d=Gm(t,cue),p=CR(r),m=Tce(a);let k=rf({breakpoints:p,direction:"ltr",components:{},palette:Oi({mode:"light"},o),spacing:m,shape:Oi({},yce,c)},d);return k.applyStyles=DR,k=i.reduce((w,_)=>rf(w,_),k),k.unstable_sxConfig=Oi({},hA,d==null?void 0:d.unstable_sxConfig),k.unstable_sx=function(w){return V5({sx:w,theme:this})},k}const uue=Object.freeze(Object.defineProperty({__proto__:null,default:IR,private_createBreakpoints:CR,unstable_applyStyles:DR},Symbol.toStringTag,{value:"Module"})),due=bp(uue),hue=["sx"],fue=t=>{var i,r;const o={systemProps:{},otherProps:{}},a=(i=t==null||(r=t.theme)==null?void 0:r.unstable_sxConfig)!=null?i:hA;return Object.keys(t).forEach(c=>{a[c]?o.systemProps[c]=t[c]:o.otherProps[c]=t[c]}),o};function pue(t){const{sx:i}=t,r=Gm(t,hue),{systemProps:o,otherProps:a}=fue(r);let c;return Array.isArray(i)?c=[o,...i]:typeof i=="function"?c=(...d)=>{const p=i(...d);return xm(p)?Oi({},o,p):o}:c=Oi({},o,i),Oi({},a,{sx:c})}const mue=Object.freeze(Object.defineProperty({__proto__:null,default:V5,extendSxProp:pue,unstable_createStyleFunctionSx:ER,unstable_defaultSxConfig:hA},Symbol.toStringTag,{value:"Module"})),gue=bp(mue);var kB;function bue(){if(kB)return qg;kB=1;var t=N5();Object.defineProperty(qg,"__esModule",{value:!0}),qg.default=G,qg.shouldForwardProp=D,qg.systemDefaultTheme=void 0;var i=t(Nle()),r=t(Ole()),o=_(mce),a=gce;t(bce),t(kce);var c=t(due),d=t(gue);const p=["ownerState"],m=["variants"],k=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function w(J){if(typeof WeakMap!="function")return null;var H=new WeakMap,z=new WeakMap;return(w=function(Z){return Z?z:H})(J)}function _(J,H){if(J&&J.__esModule)return J;if(J===null||typeof J!="object"&&typeof J!="function")return{default:J};var z=w(H);if(z&&z.has(J))return z.get(J);var Z={__proto__:null},Y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var se in J)if(se!=="default"&&Object.prototype.hasOwnProperty.call(J,se)){var X=Y?Object.getOwnPropertyDescriptor(J,se):null;X&&(X.get||X.set)?Object.defineProperty(Z,se,X):Z[se]=J[se]}return Z.default=J,z&&z.set(J,Z),Z}function C(J){return Object.keys(J).length===0}function v(J){return typeof J=="string"&&J.charCodeAt(0)>96}function D(J){return J!=="ownerState"&&J!=="theme"&&J!=="sx"&&J!=="as"}const E=qg.systemDefaultTheme=(0,c.default)(),O=J=>J&&J.charAt(0).toLowerCase()+J.slice(1);function M({defaultTheme:J,theme:H,themeId:z}){return C(H)?J:H[z]||H}function j(J){return J?(H,z)=>z[J]:null}function F(J,H){let{ownerState:z}=H,Z=(0,r.default)(H,p);const Y=typeof J=="function"?J((0,i.default)({ownerState:z},Z)):J;if(Array.isArray(Y))return Y.flatMap(se=>F(se,(0,i.default)({ownerState:z},Z)));if(Y&&typeof Y=="object"&&Array.isArray(Y.variants)){const{variants:se=[]}=Y;let X=(0,r.default)(Y,m);return se.forEach(K=>{let U=!0;typeof K.props=="function"?U=K.props((0,i.default)({ownerState:z},Z,z)):Object.keys(K.props).forEach(q=>{(z==null?void 0:z[q])!==K.props[q]&&Z[q]!==K.props[q]&&(U=!1)}),U&&(Array.isArray(X)||(X=[X]),X.push(typeof K.style=="function"?K.style((0,i.default)({ownerState:z},Z,z)):K.style))}),X}return Y}function G(J={}){const{themeId:H,defaultTheme:z=E,rootShouldForwardProp:Z=D,slotShouldForwardProp:Y=D}=J,se=X=>(0,d.default)((0,i.default)({},X,{theme:M((0,i.default)({},X,{defaultTheme:z,themeId:H}))}));return se.__mui_systemSx=!0,(X,K={})=>{(0,o.internal_processStyles)(X,ve=>ve.filter(Re=>!(Re!=null&&Re.__mui_systemSx)));const{name:U,slot:q,skipVariantsResolver:fe,skipSx:ue,overridesResolver:de=j(O(q))}=K,ge=(0,r.default)(K,k),Ie=fe!==void 0?fe:q&&q!=="Root"&&q!=="root"||!1,ce=ue||!1;let Te,re=D;q==="Root"||q==="root"?re=Z:q?re=Y:v(X)&&(re=void 0);const te=(0,o.default)(X,(0,i.default)({shouldForwardProp:re,label:Te},ge)),ke=ve=>typeof ve=="function"&&ve.__emotion_real!==ve||(0,a.isPlainObject)(ve)?Re=>F(ve,(0,i.default)({},Re,{theme:M({theme:Re.theme,defaultTheme:z,themeId:H})})):ve,be=(ve,...Re)=>{let Oe=ke(ve);const Ue=Re?Re.map(ke):[];U&&de&&Ue.push(ft=>{const gt=M((0,i.default)({},ft,{defaultTheme:z,themeId:H}));if(!gt.components||!gt.components[U]||!gt.components[U].styleOverrides)return null;const oe=gt.components[U].styleOverrides,Le={};return Object.entries(oe).forEach(([we,Ee])=>{Le[we]=F(Ee,(0,i.default)({},ft,{theme:gt}))}),de(ft,Le)}),U&&!Ie&&Ue.push(ft=>{var gt;const oe=M((0,i.default)({},ft,{defaultTheme:z,themeId:H})),Le=oe==null||(gt=oe.components)==null||(gt=gt[U])==null?void 0:gt.variants;return F({variants:Le},(0,i.default)({},ft,{theme:oe}))}),ce||Ue.push(se);const Ze=Ue.length-Re.length;if(Array.isArray(ve)&&Ze>0){const ft=new Array(Ze).fill("");Oe=[...ve,...ft],Oe.raw=[...ve.raw,...ft]}const Ge=te(Oe,...Ue);return X.muiName&&(Ge.muiName=X.muiName),Ge};return te.withConfig&&(be.withConfig=te.withConfig),be}}return qg}var kue=bue();const wue=SD(kue);function vue(t,i){return Oi({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},i)}var Do={};const yue=bp(Gae),Aue=bp(Sle);var wB;function _ue(){if(wB)return Do;wB=1;var t=N5();Object.defineProperty(Do,"__esModule",{value:!0}),Do.alpha=D,Do.blend=H,Do.colorChannel=void 0,Do.darken=O,Do.decomposeColor=d,Do.emphasize=G,Do.getContrastRatio=v,Do.getLuminance=C,Do.hexToRgb=a,Do.hslToRgb=_,Do.lighten=j,Do.private_safeAlpha=E,Do.private_safeColorChannel=void 0,Do.private_safeDarken=M,Do.private_safeEmphasize=J,Do.private_safeLighten=F,Do.recomposeColor=k,Do.rgbToHex=w;var i=t(yue),r=t(Aue);function o(z,Z=0,Y=1){return(0,r.default)(z,Z,Y)}function a(z){z=z.slice(1);const Z=new RegExp(`.{1,${z.length>=6?2:1}}`,"g");let Y=z.match(Z);return Y&&Y[0].length===1&&(Y=Y.map(se=>se+se)),Y?`rgb${Y.length===4?"a":""}(${Y.map((se,X)=>X<3?parseInt(se,16):Math.round(parseInt(se,16)/255*1e3)/1e3).join(", ")})`:""}function c(z){const Z=z.toString(16);return Z.length===1?`0${Z}`:Z}function d(z){if(z.type)return z;if(z.charAt(0)==="#")return d(a(z));const Z=z.indexOf("("),Y=z.substring(0,Z);if(["rgb","rgba","hsl","hsla","color"].indexOf(Y)===-1)throw new Error((0,i.default)(9,z));let se=z.substring(Z+1,z.length-1),X;if(Y==="color"){if(se=se.split(" "),X=se.shift(),se.length===4&&se[3].charAt(0)==="/"&&(se[3]=se[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(X)===-1)throw new Error((0,i.default)(10,X))}else se=se.split(",");return se=se.map(K=>parseFloat(K)),{type:Y,values:se,colorSpace:X}}const p=z=>{const Z=d(z);return Z.values.slice(0,3).map((Y,se)=>Z.type.indexOf("hsl")!==-1&&se!==0?`${Y}%`:Y).join(" ")};Do.colorChannel=p;const m=(z,Z)=>{try{return p(z)}catch{return z}};Do.private_safeColorChannel=m;function k(z){const{type:Z,colorSpace:Y}=z;let{values:se}=z;return Z.indexOf("rgb")!==-1?se=se.map((X,K)=>K<3?parseInt(X,10):X):Z.indexOf("hsl")!==-1&&(se[1]=`${se[1]}%`,se[2]=`${se[2]}%`),Z.indexOf("color")!==-1?se=`${Y} ${se.join(" ")}`:se=`${se.join(", ")}`,`${Z}(${se})`}function w(z){if(z.indexOf("#")===0)return z;const{values:Z}=d(z);return`#${Z.map((Y,se)=>c(se===3?Math.round(255*Y):Y)).join("")}`}function _(z){z=d(z);const{values:Z}=z,Y=Z[0],se=Z[1]/100,X=Z[2]/100,K=se*Math.min(X,1-X),U=(ue,de=(ue+Y/30)%12)=>X-K*Math.max(Math.min(de-3,9-de,1),-1);let q="rgb";const fe=[Math.round(U(0)*255),Math.round(U(8)*255),Math.round(U(4)*255)];return z.type==="hsla"&&(q+="a",fe.push(Z[3])),k({type:q,values:fe})}function C(z){z=d(z);let Z=z.type==="hsl"||z.type==="hsla"?d(_(z)).values:z.values;return Z=Z.map(Y=>(z.type!=="color"&&(Y/=255),Y<=.03928?Y/12.92:((Y+.055)/1.055)**2.4)),Number((.2126*Z[0]+.7152*Z[1]+.0722*Z[2]).toFixed(3))}function v(z,Z){const Y=C(z),se=C(Z);return(Math.max(Y,se)+.05)/(Math.min(Y,se)+.05)}function D(z,Z){return z=d(z),Z=o(Z),(z.type==="rgb"||z.type==="hsl")&&(z.type+="a"),z.type==="color"?z.values[3]=`/${Z}`:z.values[3]=Z,k(z)}function E(z,Z,Y){try{return D(z,Z)}catch{return z}}function O(z,Z){if(z=d(z),Z=o(Z),z.type.indexOf("hsl")!==-1)z.values[2]*=1-Z;else if(z.type.indexOf("rgb")!==-1||z.type.indexOf("color")!==-1)for(let Y=0;Y<3;Y+=1)z.values[Y]*=1-Z;return k(z)}function M(z,Z,Y){try{return O(z,Z)}catch{return z}}function j(z,Z){if(z=d(z),Z=o(Z),z.type.indexOf("hsl")!==-1)z.values[2]+=(100-z.values[2])*Z;else if(z.type.indexOf("rgb")!==-1)for(let Y=0;Y<3;Y+=1)z.values[Y]+=(255-z.values[Y])*Z;else if(z.type.indexOf("color")!==-1)for(let Y=0;Y<3;Y+=1)z.values[Y]+=(1-z.values[Y])*Z;return k(z)}function F(z,Z,Y){try{return j(z,Z)}catch{return z}}function G(z,Z=.15){return C(z)>.5?O(z,Z):j(z,Z)}function J(z,Z,Y){try{return G(z,Z)}catch{return z}}function H(z,Z,Y,se=1){const X=(fe,ue)=>Math.round((fe**(1/se)*(1-Y)+ue**(1/se)*Y)**se),K=d(z),U=d(Z),q=[X(K.values[0],U.values[0]),X(K.values[1],U.values[1]),X(K.values[2],U.values[2])];return k({type:"rgb",values:q})}return Do}var _4=_ue();const qy={black:"#000",white:"#fff"},Cue={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},j0={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},L0={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},oy={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},P0={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},R0={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},F0={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},xue=["mode","contrastThreshold","tonalOffset"],vB={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:qy.white,default:qy.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},bE={text:{primary:qy.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:qy.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function yB(t,i,r,o){const a=o.light||o,c=o.dark||o*1.5;t[i]||(t.hasOwnProperty(r)?t[i]=t[r]:i==="light"?t.light=_4.lighten(t.main,a):i==="dark"&&(t.dark=_4.darken(t.main,c)))}function Sue(t="light"){return t==="dark"?{main:P0[200],light:P0[50],dark:P0[400]}:{main:P0[700],light:P0[400],dark:P0[800]}}function Eue(t="light"){return t==="dark"?{main:j0[200],light:j0[50],dark:j0[400]}:{main:j0[500],light:j0[300],dark:j0[700]}}function Due(t="light"){return t==="dark"?{main:L0[500],light:L0[300],dark:L0[700]}:{main:L0[700],light:L0[400],dark:L0[800]}}function Iue(t="light"){return t==="dark"?{main:R0[400],light:R0[300],dark:R0[700]}:{main:R0[700],light:R0[500],dark:R0[900]}}function Tue(t="light"){return t==="dark"?{main:F0[400],light:F0[300],dark:F0[700]}:{main:F0[800],light:F0[500],dark:F0[900]}}function Mue(t="light"){return t==="dark"?{main:oy[400],light:oy[300],dark:oy[700]}:{main:"#ed6c02",light:oy[500],dark:oy[900]}}function Nue(t){const{mode:i="light",contrastThreshold:r=3,tonalOffset:o=.2}=t,a=Gm(t,xue),c=t.primary||Sue(i),d=t.secondary||Eue(i),p=t.error||Due(i),m=t.info||Iue(i),k=t.success||Tue(i),w=t.warning||Mue(i);function _(D){return _4.getContrastRatio(D,bE.text.primary)>=r?bE.text.primary:vB.text.primary}const C=({color:D,name:E,mainShade:O=500,lightShade:M=300,darkShade:j=700})=>{if(D=Oi({},D),!D.main&&D[O]&&(D.main=D[O]),!D.hasOwnProperty("main"))throw new Error(Fy(11,E?` (${E})`:"",O));if(typeof D.main!="string")throw new Error(Fy(12,E?` (${E})`:"",JSON.stringify(D.main)));return yB(D,"light",M,o),yB(D,"dark",j,o),D.contrastText||(D.contrastText=_(D.main)),D},v={dark:bE,light:vB};return rf(Oi({common:Oi({},qy),mode:i,primary:C({color:c,name:"primary"}),secondary:C({color:d,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:C({color:p,name:"error"}),warning:C({color:w,name:"warning"}),info:C({color:m,name:"info"}),success:C({color:k,name:"success"}),grey:Cue,contrastThreshold:r,getContrastText:_,augmentColor:C,tonalOffset:o},v[i]),a)}const Oue=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Bue(t){return Math.round(t*1e5)/1e5}const AB={textTransform:"uppercase"},_B='"Roboto", "Helvetica", "Arial", sans-serif';function jue(t,i){const r=typeof i=="function"?i(t):i,{fontFamily:o=_B,fontSize:a=14,fontWeightLight:c=300,fontWeightRegular:d=400,fontWeightMedium:p=500,fontWeightBold:m=700,htmlFontSize:k=16,allVariants:w,pxToRem:_}=r,C=Gm(r,Oue),v=a/14,D=_||(M=>`${M/k*v}rem`),E=(M,j,F,G,J)=>Oi({fontFamily:o,fontWeight:M,fontSize:D(j),lineHeight:F},o===_B?{letterSpacing:`${Bue(G/j)}em`}:{},J,w),O={h1:E(c,96,1.167,-1.5),h2:E(c,60,1.2,-.5),h3:E(d,48,1.167,0),h4:E(d,34,1.235,.25),h5:E(d,24,1.334,0),h6:E(p,20,1.6,.15),subtitle1:E(d,16,1.75,.15),subtitle2:E(p,14,1.57,.1),body1:E(d,16,1.5,.15),body2:E(d,14,1.43,.15),button:E(p,14,1.75,.4,AB),caption:E(d,12,1.66,.4),overline:E(d,12,2.66,1,AB),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return rf(Oi({htmlFontSize:k,pxToRem:D,fontFamily:o,fontSize:a,fontWeightLight:c,fontWeightRegular:d,fontWeightMedium:p,fontWeightBold:m},O),C,{clone:!1})}const Lue=.2,Pue=.14,Rue=.12;function po(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Lue})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${Pue})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Rue})`].join(",")}const Fue=["none",po(0,2,1,-1,0,1,1,0,0,1,3,0),po(0,3,1,-2,0,2,2,0,0,1,5,0),po(0,3,3,-2,0,3,4,0,0,1,8,0),po(0,2,4,-1,0,4,5,0,0,1,10,0),po(0,3,5,-1,0,5,8,0,0,1,14,0),po(0,3,5,-1,0,6,10,0,0,1,18,0),po(0,4,5,-2,0,7,10,1,0,2,16,1),po(0,5,5,-3,0,8,10,1,0,3,14,2),po(0,5,6,-3,0,9,12,1,0,3,16,2),po(0,6,6,-3,0,10,14,1,0,4,18,3),po(0,6,7,-4,0,11,15,1,0,4,20,3),po(0,7,8,-4,0,12,17,2,0,5,22,4),po(0,7,8,-4,0,13,19,2,0,5,24,4),po(0,7,9,-4,0,14,21,2,0,5,26,4),po(0,8,9,-5,0,15,22,2,0,6,28,5),po(0,8,10,-5,0,16,24,2,0,6,30,5),po(0,8,11,-5,0,17,26,2,0,6,32,5),po(0,9,11,-5,0,18,28,2,0,7,34,6),po(0,9,12,-6,0,19,29,2,0,7,36,6),po(0,10,13,-6,0,20,31,3,0,8,38,7),po(0,10,13,-6,0,21,33,3,0,8,40,7),po(0,10,14,-6,0,22,35,3,0,8,42,7),po(0,11,14,-7,0,23,36,3,0,9,44,8),po(0,11,15,-7,0,24,38,3,0,9,46,8)],zue=["duration","easing","delay"],Uue={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},que={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function CB(t){return`${Math.round(t)}ms`}function Vue(t){if(!t)return 0;const i=t/36;return Math.round((4+15*i**.25+i/5)*10)}function Hue(t){const i=Oi({},Uue,t.easing),r=Oi({},que,t.duration);return Oi({getAutoHeightDuration:Vue,create:(o=["all"],a={})=>{const{duration:c=r.standard,easing:d=i.easeInOut,delay:p=0}=a;return Gm(a,zue),(Array.isArray(o)?o:[o]).map(m=>`${m} ${typeof c=="string"?c:CB(c)} ${d} ${typeof p=="string"?p:CB(p)}`).join(",")}},t,{easing:i,duration:r})}const $ue={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Wue=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Gue(t={},...i){const{mixins:r={},palette:o={},transitions:a={},typography:c={}}=t,d=Gm(t,Wue);if(t.vars)throw new Error(Fy(18));const p=Nue(o),m=IR(t);let k=rf(m,{mixins:vue(m.breakpoints,r),palette:p,shadows:Fue.slice(),typography:jue(p,c),transitions:Hue(a),zIndex:Oi({},$ue)});return k=rf(k,d),k=i.reduce((w,_)=>rf(w,_),k),k.unstable_sxConfig=Oi({},hA,d==null?void 0:d.unstable_sxConfig),k.unstable_sx=function(w){return V5({sx:w,theme:this})},k}const Yue=Gue(),Kue="$$material";function Que(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Zue=t=>Que(t)&&t!=="classes",Jue=wue({themeId:Kue,defaultTheme:Yue,rootShouldForwardProp:Zue});function Xue(t){return mR("MuiSvgIcon",t)}Cle("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const ede=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],tde=t=>{const{color:i,fontSize:r,classes:o}=t,a={root:["root",i!=="inherit"&&`color${qm(i)}`,`fontSize${qm(r)}`]};return yle(a,Xue,o)},nde=Jue("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,i)=>{const{ownerState:r}=t;return[i.root,r.color!=="inherit"&&i[`color${qm(r.color)}`],i[`fontSize${qm(r.fontSize)}`]]}})(({theme:t,ownerState:i})=>{var r,o,a,c,d,p,m,k,w,_,C,v,D;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:i.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(r=t.transitions)==null||(o=r.create)==null?void 0:o.call(r,"fill",{duration:(a=t.transitions)==null||(a=a.duration)==null?void 0:a.shorter}),fontSize:{inherit:"inherit",small:((c=t.typography)==null||(d=c.pxToRem)==null?void 0:d.call(c,20))||"1.25rem",medium:((p=t.typography)==null||(m=p.pxToRem)==null?void 0:m.call(p,24))||"1.5rem",large:((k=t.typography)==null||(w=k.pxToRem)==null?void 0:w.call(k,35))||"2.1875rem"}[i.fontSize],color:(_=(C=(t.vars||t).palette)==null||(C=C[i.color])==null?void 0:C.main)!=null?_:{action:(v=(t.vars||t).palette)==null||(v=v.action)==null?void 0:v.active,disabled:(D=(t.vars||t).palette)==null||(D=D.action)==null?void 0:D.disabled,inherit:void 0}[i.color]}}),C4=ae.forwardRef(function(t,i){const r=Mle({props:t,name:"MuiSvgIcon"}),{children:o,className:a,color:c="inherit",component:d="svg",fontSize:p="medium",htmlColor:m,inheritViewBox:k=!1,titleAccess:w,viewBox:_="0 0 24 24"}=r,C=Gm(r,ede),v=ae.isValidElement(o)&&o.type==="svg",D=Oi({},r,{color:c,component:d,fontSize:p,instanceFontSize:t.fontSize,inheritViewBox:k,viewBox:_,hasSvgAsChild:v}),E={};k||(E.viewBox=_);const O=tde(D);return Yn.jsxs(nde,Oi({as:d,className:Ele(O.root,a),focusable:"false",color:m,"aria-hidden":w?void 0:!0,role:w?"img":void 0,ref:i},E,C,v&&o.props,{ownerState:D,children:[v?o.props.children:o,w?Yn.jsx("title",{children:w}):null]}))});C4.muiName="SvgIcon";function rde(t,i){function r(o,a){return Yn.jsx(C4,Oi({"data-testid":`${i}Icon`,ref:a},o,{children:t}))}return r.muiName=C4.muiName,ae.memo(ae.forwardRef(r))}const ide={configure:t=>{pR.configure(t)}},ode=Object.freeze(Object.defineProperty({__proto__:null,capitalize:qm,createChainedFunction:ele,createSvgIcon:rde,debounce:tle,deprecatedPropType:nle,isMuiElement:rle,ownerDocument:uR,ownerWindow:ile,requirePropFactory:ole,setRef:dR,unstable_ClassNameGenerator:ide,unstable_useEnhancedEffect:hR,unstable_useId:ale,unsupportedProp:lle,useControlled:cle,useEventCallback:ule,useForkRef:dle,useIsFocusVisible:vle},Symbol.toStringTag,{value:"Module"})),sde=bp(ode);var xB;function TR(){return xB||(xB=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.createSvgIcon}});var i=sde}(eB)),eB}var SB;function ade(){if(SB)return ry;SB=1;var t=N5();Object.defineProperty(ry,"__esModule",{value:!0}),ry.default=void 0;var i=t(TR()),r=ED();return ry.default=(0,i.default)((0,r.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 9h12v2H6zm8 5H6v-2h8zm4-6H6V6h12z"}),"Chat"),ry}var lde=ade();const cde=SD(lde),kE={chatToggleButton:{position:"fixed",bottom:20,right:20,bgcolor:"#CDDAFF",color:"white",width:60,height:60,borderRadius:"50%",boxShadow:"0px 4px 15px rgba(0, 0, 0, 0.3)","&:hover":{bgcolor:"#0B53C0"},transition:"background-color 0.3s, transform 0.3s","&:active":{transform:"scale(0.95)"}},chatContainer:(t,i)=>({position:"fixed",bottom:t?0:20,right:t?0:20,width:t?"80%":i?"60%":650,height:t?"50%":i?"55%":700,padding:t?1:2,display:"flex",flexDirection:"column",borderRadius:t?0:"16px",backgroundColor:"#F0F4FF",boxShadow:"0px 10px 30px rgba(0, 0, 0, 0.2)"}),chatHeader:{fontFamily:"Staatliches, Arial, sans-serif",fontWeight:"bold",color:"black",fontSize:"1.25rem"},chatMessageInput:{"& .MuiOutlinedInput-root":{fontFamily:"Gabarito, Arial, sans-serif",borderRadius:"20px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#185cc4"}}},chatMessageBox:{maxWidth:"70%",borderRadius:"15px",padding:1,paddingX:2,boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)","&.user":{bgcolor:"#f0f0f0",color:"#555",alignSelf:"flex-end"},"&.bot":{bgcolor:"#CDDAFF",color:"black",alignSelf:"flex-start","&:hover":{bgcolor:"#0B53C0",color:"white"}}},chatButtons:{backgroundColor:"#CDDAFF",color:"black",fontFamily:"Staatliches, sans-serif",fontSize:"1.25rem","&:hover":{backgroundColor:"#0B53C0",color:"white"}}},ude=({responses:t})=>Yn.jsx(Be,{sx:{flexGrow:1,overflowY:"auto",display:"flex",flexDirection:"column",gap:2,padding:2,backgroundColor:"transparent"},children:t.length>0?t.map((i,r)=>Yn.jsxs(Be,{sx:{display:"flex",flexDirection:"column",alignItems:i.question?"flex-end":"flex-start"},children:[i.question&&Yn.jsx(Be,{sx:{maxWidth:"70%",bgcolor:"#f0f0f0",color:"#555",borderRadius:"15px",p:1,px:2,mb:2,alignSelf:"flex-end",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)"},children:Yn.jsx(Pe,{variant:"body1",sx:{fontFamily:"Gabarito, Arial, sans-serif",fontSize:"1rem",color:"#555"},children:i.question})}),(i.answer||i.text)&&Yn.jsx(Be,{sx:{maxWidth:"70%",bgcolor:"#CDDAFF",color:"black",borderRadius:"15px",p:1,px:2,alignSelf:"flex-start",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.2)",mb:.3,"&:hover":{bgcolor:"#0B53C0",color:"white"}},children:Yn.jsx(Pe,{variant:"body1",sx:{fontFamily:"Gabarito, Arial, sans-serif",fontSize:"1rem",color:"inherit",transition:"color 0.3s ease"},children:Yn.jsx(xD,{children:i.answer||i.text})})})]},r)):Yn.jsx(Pe,{variant:"body2",sx:{textAlign:"center",color:"#6c757d",fontFamily:"Gabarito, Arial, sans-serif"},children:"No messages yet. Start the conversation!"})}),dde=({onSendMessage:t,onStartConversation:i,onEndConversation:r,conversationId:o})=>{const[a,c]=ae.useState(""),d=()=>{a.trim()&&(t(a),c(""))},p=()=>{o||i()},m=()=>{o&&r()};return Yn.jsxs(Be,{sx:{display:"flex",flexDirection:"column",gap:2,mt:2},children:[Yn.jsxs(Be,{sx:{display:"flex",gap:1},children:[Yn.jsx(_n,{variant:"outlined",placeholder:"Type your message...",fullWidth:!0,size:"small",value:a,onChange:k=>c(k.target.value),onKeyDown:k=>{k.key==="Enter"&&d()},sx:{"& .MuiOutlinedInput-root":{borderRadius:"20px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#185cc4"}}}}),Yn.jsx(xt,{variant:"contained",onClick:d,sx:{backgroundColor:"#CDDAFF",color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none","&:hover":{backgroundColor:"#0B53C0",color:"#fff"}},children:"Send"})]}),o?Yn.jsx(xt,{variant:"outlined",onClick:m,sx:{color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none",borderColor:"#CDDAFF","&:hover":{borderColor:"#0B53C0",color:"#0B53C0"}},children:"END CONVERSATION"}):Yn.jsx(xt,{variant:"contained",onClick:p,sx:{backgroundColor:"#CDDAFF",color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none","&:hover":{backgroundColor:"#0B53C0",color:"#fff"}},children:"START CONVERSATION"})]})};var sy={},EB;function hde(){if(EB)return sy;EB=1;var t=N5();Object.defineProperty(sy,"__esModule",{value:!0}),sy.default=void 0;var i=t(TR()),r=ED();return sy.default=(0,i.default)((0,r.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),sy}var fde=hde();const pde=SD(fde);function MR(t,i){return function(){return t.apply(i,arguments)}}const{toString:mde}=Object.prototype,{getPrototypeOf:jD}=Object,H5=(t=>i=>{const r=mde.call(i);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),rh=t=>(t=t.toLowerCase(),i=>H5(i)===t),$5=t=>i=>typeof i===t,{isArray:Dk}=Array,Vy=$5("undefined");function gde(t){return t!==null&&!Vy(t)&&t.constructor!==null&&!Vy(t.constructor)&&au(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const NR=rh("ArrayBuffer");function bde(t){let i;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?i=ArrayBuffer.isView(t):i=t&&t.buffer&&NR(t.buffer),i}const kde=$5("string"),au=$5("function"),OR=$5("number"),W5=t=>t!==null&&typeof t=="object",wde=t=>t===!0||t===!1,Ax=t=>{if(H5(t)!=="object")return!1;const i=jD(t);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},vde=rh("Date"),yde=rh("File"),Ade=rh("Blob"),_de=rh("FileList"),Cde=t=>W5(t)&&au(t.pipe),xde=t=>{let i;return t&&(typeof FormData=="function"&&t instanceof FormData||au(t.append)&&((i=H5(t))==="formdata"||i==="object"&&au(t.toString)&&t.toString()==="[object FormData]"))},Sde=rh("URLSearchParams"),[Ede,Dde,Ide,Tde]=["ReadableStream","Request","Response","Headers"].map(rh),Mde=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function fA(t,i,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let o,a;if(typeof t!="object"&&(t=[t]),Dk(t))for(o=0,a=t.length;o<a;o++)i.call(null,t[o],o,t);else{const c=r?Object.getOwnPropertyNames(t):Object.keys(t),d=c.length;let p;for(o=0;o<d;o++)p=c[o],i.call(null,t[p],p,t)}}function BR(t,i){i=i.toLowerCase();const r=Object.keys(t);let o=r.length,a;for(;o-- >0;)if(a=r[o],i===a.toLowerCase())return a;return null}const eb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,jR=t=>!Vy(t)&&t!==eb;function x4(){const{caseless:t}=jR(this)&&this||{},i={},r=(o,a)=>{const c=t&&BR(i,a)||a;Ax(i[c])&&Ax(o)?i[c]=x4(i[c],o):Ax(o)?i[c]=x4({},o):Dk(o)?i[c]=o.slice():i[c]=o};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&fA(arguments[o],r);return i}const Nde=(t,i,r,{allOwnKeys:o}={})=>(fA(i,(a,c)=>{r&&au(a)?t[c]=MR(a,r):t[c]=a},{allOwnKeys:o}),t),Ode=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Bde=(t,i,r,o)=>{t.prototype=Object.create(i.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:i.prototype}),r&&Object.assign(t.prototype,r)},jde=(t,i,r,o)=>{let a,c,d;const p={};if(i=i||{},t==null)return i;do{for(a=Object.getOwnPropertyNames(t),c=a.length;c-- >0;)d=a[c],(!o||o(d,t,i))&&!p[d]&&(i[d]=t[d],p[d]=!0);t=r!==!1&&jD(t)}while(t&&(!r||r(t,i))&&t!==Object.prototype);return i},Lde=(t,i,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=i.length;const o=t.indexOf(i,r);return o!==-1&&o===r},Pde=t=>{if(!t)return null;if(Dk(t))return t;let i=t.length;if(!OR(i))return null;const r=new Array(i);for(;i-- >0;)r[i]=t[i];return r},Rde=(t=>i=>t&&i instanceof t)(typeof Uint8Array<"u"&&jD(Uint8Array)),Fde=(t,i)=>{const r=(t&&t[Symbol.iterator]).call(t);let o;for(;(o=r.next())&&!o.done;){const a=o.value;i.call(t,a[0],a[1])}},zde=(t,i)=>{let r;const o=[];for(;(r=t.exec(i))!==null;)o.push(r);return o},Ude=rh("HTMLFormElement"),qde=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,r,o){return r.toUpperCase()+o}),DB=(({hasOwnProperty:t})=>(i,r)=>t.call(i,r))(Object.prototype),Vde=rh("RegExp"),LR=(t,i)=>{const r=Object.getOwnPropertyDescriptors(t),o={};fA(r,(a,c)=>{let d;(d=i(a,c,t))!==!1&&(o[c]=d||a)}),Object.defineProperties(t,o)},Hde=t=>{LR(t,(i,r)=>{if(au(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const o=t[r];if(au(o)){if(i.enumerable=!1,"writable"in i){i.writable=!1;return}i.set||(i.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},$de=(t,i)=>{const r={},o=a=>{a.forEach(c=>{r[c]=!0})};return Dk(t)?o(t):o(String(t).split(i)),r},Wde=()=>{},Gde=(t,i)=>t!=null&&Number.isFinite(t=+t)?t:i,wE="abcdefghijklmnopqrstuvwxyz",IB="0123456789",PR={DIGIT:IB,ALPHA:wE,ALPHA_DIGIT:wE+wE.toUpperCase()+IB},Yde=(t=16,i=PR.ALPHA_DIGIT)=>{let r="";const{length:o}=i;for(;t--;)r+=i[Math.random()*o|0];return r};function Kde(t){return!!(t&&au(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Qde=t=>{const i=new Array(10),r=(o,a)=>{if(W5(o)){if(i.indexOf(o)>=0)return;if(!("toJSON"in o)){i[a]=o;const c=Dk(o)?[]:{};return fA(o,(d,p)=>{const m=r(d,a+1);!Vy(m)&&(c[p]=m)}),i[a]=void 0,c}}return o};return r(t,0)},Zde=rh("AsyncFunction"),Jde=t=>t&&(W5(t)||au(t))&&au(t.then)&&au(t.catch),RR=((t,i)=>t?setImmediate:i?((r,o)=>(eb.addEventListener("message",({source:a,data:c})=>{a===eb&&c===r&&o.length&&o.shift()()},!1),a=>{o.push(a),eb.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",au(eb.postMessage)),Xde=typeof queueMicrotask<"u"?queueMicrotask.bind(eb):typeof process<"u"&&process.nextTick||RR,Ct={isArray:Dk,isArrayBuffer:NR,isBuffer:gde,isFormData:xde,isArrayBufferView:bde,isString:kde,isNumber:OR,isBoolean:wde,isObject:W5,isPlainObject:Ax,isReadableStream:Ede,isRequest:Dde,isResponse:Ide,isHeaders:Tde,isUndefined:Vy,isDate:vde,isFile:yde,isBlob:Ade,isRegExp:Vde,isFunction:au,isStream:Cde,isURLSearchParams:Sde,isTypedArray:Rde,isFileList:_de,forEach:fA,merge:x4,extend:Nde,trim:Mde,stripBOM:Ode,inherits:Bde,toFlatObject:jde,kindOf:H5,kindOfTest:rh,endsWith:Lde,toArray:Pde,forEachEntry:Fde,matchAll:zde,isHTMLForm:Ude,hasOwnProperty:DB,hasOwnProp:DB,reduceDescriptors:LR,freezeMethods:Hde,toObjectSet:$de,toCamelCase:qde,noop:Wde,toFiniteNumber:Gde,findKey:BR,global:eb,isContextDefined:jR,ALPHABET:PR,generateString:Yde,isSpecCompliantForm:Kde,toJSONObject:Qde,isAsyncFn:Zde,isThenable:Jde,setImmediate:RR,asap:Xde};function cr(t,i,r,o,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",i&&(this.code=i),r&&(this.config=r),o&&(this.request=o),a&&(this.response=a,this.status=a.status?a.status:null)}Ct.inherits(cr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ct.toJSONObject(this.config),code:this.code,status:this.status}}});const FR=cr.prototype,zR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{zR[t]={value:t}});Object.defineProperties(cr,zR);Object.defineProperty(FR,"isAxiosError",{value:!0});cr.from=(t,i,r,o,a,c)=>{const d=Object.create(FR);return Ct.toFlatObject(t,d,function(p){return p!==Error.prototype},p=>p!=="isAxiosError"),cr.call(d,t.message,i,r,o,a),d.cause=t,d.name=t.name,c&&Object.assign(d,c),d};const ehe=null;function S4(t){return Ct.isPlainObject(t)||Ct.isArray(t)}function UR(t){return Ct.endsWith(t,"[]")?t.slice(0,-2):t}function TB(t,i,r){return t?t.concat(i).map(function(o,a){return o=UR(o),!r&&a?"["+o+"]":o}).join(r?".":""):i}function the(t){return Ct.isArray(t)&&!t.some(S4)}const nhe=Ct.toFlatObject(Ct,{},null,function(t){return/^is[A-Z]/.test(t)});function G5(t,i,r){if(!Ct.isObject(t))throw new TypeError("target must be an object");i=i||new FormData,r=Ct.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,D){return!Ct.isUndefined(D[v])});const o=r.metaTokens,a=r.visitor||k,c=r.dots,d=r.indexes,p=(r.Blob||typeof Blob<"u"&&Blob)&&Ct.isSpecCompliantForm(i);if(!Ct.isFunction(a))throw new TypeError("visitor must be a function");function m(v){if(v===null)return"";if(Ct.isDate(v))return v.toISOString();if(!p&&Ct.isBlob(v))throw new cr("Blob is not supported. Use a Buffer instead.");return Ct.isArrayBuffer(v)||Ct.isTypedArray(v)?p&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function k(v,D,E){let O=v;if(v&&!E&&typeof v=="object"){if(Ct.endsWith(D,"{}"))D=o?D:D.slice(0,-2),v=JSON.stringify(v);else if(Ct.isArray(v)&&the(v)||(Ct.isFileList(v)||Ct.endsWith(D,"[]"))&&(O=Ct.toArray(v)))return D=UR(D),O.forEach(function(M,j){!(Ct.isUndefined(M)||M===null)&&i.append(d===!0?TB([D],j,c):d===null?D:D+"[]",m(M))}),!1}return S4(v)?!0:(i.append(TB(E,D,c),m(v)),!1)}const w=[],_=Object.assign(nhe,{defaultVisitor:k,convertValue:m,isVisitable:S4});function C(v,D){if(!Ct.isUndefined(v)){if(w.indexOf(v)!==-1)throw Error("Circular reference detected in "+D.join("."));w.push(v),Ct.forEach(v,function(E,O){(!(Ct.isUndefined(E)||E===null)&&a.call(i,E,Ct.isString(O)?O.trim():O,D,_))===!0&&C(E,D?D.concat(O):[O])}),w.pop()}}if(!Ct.isObject(t))throw new TypeError("data must be an object");return C(t),i}function MB(t){const i={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return i[r]})}function LD(t,i){this._pairs=[],t&&G5(t,this,i)}const qR=LD.prototype;qR.append=function(t,i){this._pairs.push([t,i])};qR.toString=function(t){const i=t?function(r){return t.call(this,r,MB)}:MB;return this._pairs.map(function(r){return i(r[0])+"="+i(r[1])},"").join("&")};function rhe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function VR(t,i,r){if(!i)return t;const o=r&&r.encode||rhe;Ct.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let c;if(a?c=a(i,r):c=Ct.isURLSearchParams(i)?i.toString():new LD(i,r).toString(o),c){const d=t.indexOf("#");d!==-1&&(t=t.slice(0,d)),t+=(t.indexOf("?")===-1?"?":"&")+c}return t}let NB=class{constructor(){this.handlers=[]}use(i,r,o){return this.handlers.push({fulfilled:i,rejected:r,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(i){this.handlers[i]&&(this.handlers[i]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(i){Ct.forEach(this.handlers,function(r){r!==null&&i(r)})}};const HR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ihe=typeof URLSearchParams<"u"?URLSearchParams:LD,ohe=typeof FormData<"u"?FormData:null,she=typeof Blob<"u"?Blob:null,ahe={isBrowser:!0,classes:{URLSearchParams:ihe,FormData:ohe,Blob:she},protocols:["http","https","file","blob","url","data"]},PD=typeof window<"u"&&typeof document<"u",E4=typeof navigator=="object"&&navigator||void 0,lhe=PD&&(!E4||["ReactNative","NativeScript","NS"].indexOf(E4.product)<0),che=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",uhe=PD&&window.location.href||"http://localhost",dhe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:PD,hasStandardBrowserEnv:lhe,hasStandardBrowserWebWorkerEnv:che,navigator:E4,origin:uhe},Symbol.toStringTag,{value:"Module"})),sl={...dhe,...ahe};function hhe(t,i){return G5(t,new sl.classes.URLSearchParams,Object.assign({visitor:function(r,o,a,c){return sl.isNode&&Ct.isBuffer(r)?(this.append(o,r.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)}},i))}function fhe(t){return Ct.matchAll(/\w+|\[(\w*)]/g,t).map(i=>i[0]==="[]"?"":i[1]||i[0])}function phe(t){const i={},r=Object.keys(t);let o;const a=r.length;let c;for(o=0;o<a;o++)c=r[o],i[c]=t[c];return i}function $R(t){function i(r,o,a,c){let d=r[c++];if(d==="__proto__")return!0;const p=Number.isFinite(+d),m=c>=r.length;return d=!d&&Ct.isArray(a)?a.length:d,m?(Ct.hasOwnProp(a,d)?a[d]=[a[d],o]:a[d]=o,!p):((!a[d]||!Ct.isObject(a[d]))&&(a[d]=[]),i(r,o,a[d],c)&&Ct.isArray(a[d])&&(a[d]=phe(a[d])),!p)}if(Ct.isFormData(t)&&Ct.isFunction(t.entries)){const r={};return Ct.forEachEntry(t,(o,a)=>{i(fhe(o),a,r,0)}),r}return null}function mhe(t,i,r){if(Ct.isString(t))try{return(i||JSON.parse)(t),Ct.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(0,JSON.stringify)(t)}const pA={transitional:HR,adapter:["xhr","http","fetch"],transformRequest:[function(t,i){const r=i.getContentType()||"",o=r.indexOf("application/json")>-1,a=Ct.isObject(t);if(a&&Ct.isHTMLForm(t)&&(t=new FormData(t)),Ct.isFormData(t))return o?JSON.stringify($R(t)):t;if(Ct.isArrayBuffer(t)||Ct.isBuffer(t)||Ct.isStream(t)||Ct.isFile(t)||Ct.isBlob(t)||Ct.isReadableStream(t))return t;if(Ct.isArrayBufferView(t))return t.buffer;if(Ct.isURLSearchParams(t))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return hhe(t,this.formSerializer).toString();if((c=Ct.isFileList(t))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return G5(c?{"files[]":t}:t,d&&new d,this.formSerializer)}}return a||o?(i.setContentType("application/json",!1),mhe(t)):t}],transformResponse:[function(t){const i=this.transitional||pA.transitional,r=i&&i.forcedJSONParsing,o=this.responseType==="json";if(Ct.isResponse(t)||Ct.isReadableStream(t))return t;if(t&&Ct.isString(t)&&(r&&!this.responseType||o)){const a=!(i&&i.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(c){if(a)throw c.name==="SyntaxError"?cr.from(c,cr.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:sl.classes.FormData,Blob:sl.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ct.forEach(["delete","get","head","post","put","patch"],t=>{pA.headers[t]={}});const ghe=Ct.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bhe=t=>{const i={};let r,o,a;return t&&t.split(`
`).forEach(function(c){a=c.indexOf(":"),r=c.substring(0,a).trim().toLowerCase(),o=c.substring(a+1).trim(),!(!r||i[r]&&ghe[r])&&(r==="set-cookie"?i[r]?i[r].push(o):i[r]=[o]:i[r]=i[r]?i[r]+", "+o:o)}),i},OB=Symbol("internals");function ay(t){return t&&String(t).trim().toLowerCase()}function _x(t){return t===!1||t==null?t:Ct.isArray(t)?t.map(_x):String(t)}function khe(t){const i=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=r.exec(t);)i[o[1]]=o[2];return i}const whe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function vE(t,i,r,o,a){if(Ct.isFunction(o))return o.call(this,i,r);if(a&&(i=r),!!Ct.isString(i)){if(Ct.isString(o))return i.indexOf(o)!==-1;if(Ct.isRegExp(o))return o.test(i)}}function vhe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(i,r,o)=>r.toUpperCase()+o)}function yhe(t,i){const r=Ct.toCamelCase(" "+i);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+r,{value:function(a,c,d){return this[o].call(this,i,a,c,d)},configurable:!0})})}class uc{constructor(i){i&&this.set(i)}set(i,r,o){const a=this;function c(p,m,k){const w=ay(m);if(!w)throw new Error("header name must be a non-empty string");const _=Ct.findKey(a,w);(!_||a[_]===void 0||k===!0||k===void 0&&a[_]!==!1)&&(a[_||m]=_x(p))}const d=(p,m)=>Ct.forEach(p,(k,w)=>c(k,w,m));if(Ct.isPlainObject(i)||i instanceof this.constructor)d(i,r);else if(Ct.isString(i)&&(i=i.trim())&&!whe(i))d(bhe(i),r);else if(Ct.isHeaders(i))for(const[p,m]of i.entries())c(m,p,o);else i!=null&&c(r,i,o);return this}get(i,r){if(i=ay(i),i){const o=Ct.findKey(this,i);if(o){const a=this[o];if(!r)return a;if(r===!0)return khe(a);if(Ct.isFunction(r))return r.call(this,a,o);if(Ct.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(i,r){if(i=ay(i),i){const o=Ct.findKey(this,i);return!!(o&&this[o]!==void 0&&(!r||vE(this,this[o],o,r)))}return!1}delete(i,r){const o=this;let a=!1;function c(d){if(d=ay(d),d){const p=Ct.findKey(o,d);p&&(!r||vE(o,o[p],p,r))&&(delete o[p],a=!0)}}return Ct.isArray(i)?i.forEach(c):c(i),a}clear(i){const r=Object.keys(this);let o=r.length,a=!1;for(;o--;){const c=r[o];(!i||vE(this,this[c],c,i,!0))&&(delete this[c],a=!0)}return a}normalize(i){const r=this,o={};return Ct.forEach(this,(a,c)=>{const d=Ct.findKey(o,c);if(d){r[d]=_x(a),delete r[c];return}const p=i?vhe(c):String(c).trim();p!==c&&delete r[c],r[p]=_x(a),o[p]=!0}),this}concat(...i){return this.constructor.concat(this,...i)}toJSON(i){const r=Object.create(null);return Ct.forEach(this,(o,a)=>{o!=null&&o!==!1&&(r[a]=i&&Ct.isArray(o)?o.join(", "):o)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([i,r])=>i+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(i){return i instanceof this?i:new this(i)}static concat(i,...r){const o=new this(i);return r.forEach(a=>o.set(a)),o}static accessor(i){const r=(this[OB]=this[OB]={accessors:{}}).accessors,o=this.prototype;function a(c){const d=ay(c);r[d]||(yhe(o,c),r[d]=!0)}return Ct.isArray(i)?i.forEach(a):a(i),this}}uc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ct.reduceDescriptors(uc.prototype,({value:t},i)=>{let r=i[0].toUpperCase()+i.slice(1);return{get:()=>t,set(o){this[r]=o}}});Ct.freezeMethods(uc);function yE(t,i){const r=this||pA,o=i||r,a=uc.from(o.headers);let c=o.data;return Ct.forEach(t,function(d){c=d.call(r,c,a.normalize(),i?i.status:void 0)}),a.normalize(),c}function WR(t){return!!(t&&t.__CANCEL__)}function Ik(t,i,r){cr.call(this,t??"canceled",cr.ERR_CANCELED,i,r),this.name="CanceledError"}Ct.inherits(Ik,cr,{__CANCEL__:!0});function GR(t,i,r){const o=r.config.validateStatus;!r.status||!o||o(r.status)?t(r):i(new cr("Request failed with status code "+r.status,[cr.ERR_BAD_REQUEST,cr.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Ahe(t){const i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return i&&i[1]||""}function _he(t,i){t=t||10;const r=new Array(t),o=new Array(t);let a=0,c=0,d;return i=i!==void 0?i:1e3,function(p){const m=Date.now(),k=o[c];d||(d=m),r[a]=p,o[a]=m;let w=c,_=0;for(;w!==a;)_+=r[w++],w=w%t;if(a=(a+1)%t,a===c&&(c=(c+1)%t),m-d<i)return;const C=k&&m-k;return C?Math.round(_*1e3/C):void 0}}function Che(t,i){let r=0,o=1e3/i,a,c;const d=(p,m=Date.now())=>{r=m,a=null,c&&(clearTimeout(c),c=null),t.apply(null,p)};return[(...p)=>{const m=Date.now(),k=m-r;k>=o?d(p,m):(a=p,c||(c=setTimeout(()=>{c=null,d(a)},o-k)))},()=>a&&d(a)]}const n5=(t,i,r=3)=>{let o=0;const a=_he(50,250);return Che(c=>{const d=c.loaded,p=c.lengthComputable?c.total:void 0,m=d-o,k=a(m),w=d<=p;o=d;const _={loaded:d,total:p,progress:p?d/p:void 0,bytes:m,rate:k||void 0,estimated:k&&p&&w?(p-d)/k:void 0,event:c,lengthComputable:p!=null,[i?"download":"upload"]:!0};t(_)},r)},BB=(t,i)=>{const r=t!=null;return[o=>i[0]({lengthComputable:r,total:t,loaded:o}),i[1]]},jB=t=>(...i)=>Ct.asap(()=>t(...i)),xhe=sl.hasStandardBrowserEnv?((t,i)=>r=>(r=new URL(r,sl.origin),t.protocol===r.protocol&&t.host===r.host&&(i||t.port===r.port)))(new URL(sl.origin),sl.navigator&&/(msie|trident)/i.test(sl.navigator.userAgent)):()=>!0,She=sl.hasStandardBrowserEnv?{write(t,i,r,o,a,c){const d=[t+"="+encodeURIComponent(i)];Ct.isNumber(r)&&d.push("expires="+new Date(r).toGMTString()),Ct.isString(o)&&d.push("path="+o),Ct.isString(a)&&d.push("domain="+a),c===!0&&d.push("secure"),document.cookie=d.join("; ")},read(t){const i=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ehe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Dhe(t,i){return i?t.replace(/\/?\/$/,"")+"/"+i.replace(/^\/+/,""):t}function YR(t,i){return t&&!Ehe(i)?Dhe(t,i):i}const LB=t=>t instanceof uc?{...t}:t;function pb(t,i){i=i||{};const r={};function o(k,w,_,C){return Ct.isPlainObject(k)&&Ct.isPlainObject(w)?Ct.merge.call({caseless:C},k,w):Ct.isPlainObject(w)?Ct.merge({},w):Ct.isArray(w)?w.slice():w}function a(k,w,_,C){if(Ct.isUndefined(w)){if(!Ct.isUndefined(k))return o(void 0,k,_,C)}else return o(k,w,_,C)}function c(k,w){if(!Ct.isUndefined(w))return o(void 0,w)}function d(k,w){if(Ct.isUndefined(w)){if(!Ct.isUndefined(k))return o(void 0,k)}else return o(void 0,w)}function p(k,w,_){if(_ in i)return o(k,w);if(_ in t)return o(void 0,k)}const m={url:c,method:c,data:c,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:p,headers:(k,w,_)=>a(LB(k),LB(w),_,!0)};return Ct.forEach(Object.keys(Object.assign({},t,i)),function(k){const w=m[k]||a,_=w(t[k],i[k],k);Ct.isUndefined(_)&&w!==p||(r[k]=_)}),r}const KR=t=>{const i=pb({},t);let{data:r,withXSRFToken:o,xsrfHeaderName:a,xsrfCookieName:c,headers:d,auth:p}=i;i.headers=d=uc.from(d),i.url=VR(YR(i.baseURL,i.url),t.params,t.paramsSerializer),p&&d.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):"")));let m;if(Ct.isFormData(r)){if(sl.hasStandardBrowserEnv||sl.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((m=d.getContentType())!==!1){const[k,...w]=m?m.split(";").map(_=>_.trim()).filter(Boolean):[];d.setContentType([k||"multipart/form-data",...w].join("; "))}}if(sl.hasStandardBrowserEnv&&(o&&Ct.isFunction(o)&&(o=o(i)),o||o!==!1&&xhe(i.url))){const k=a&&c&&She.read(c);k&&d.set(a,k)}return i},Ihe=typeof XMLHttpRequest<"u",The=Ihe&&function(t){return new Promise(function(i,r){const o=KR(t);let a=o.data;const c=uc.from(o.headers).normalize();let{responseType:d,onUploadProgress:p,onDownloadProgress:m}=o,k,w,_,C,v;function D(){C&&C(),v&&v(),o.cancelToken&&o.cancelToken.unsubscribe(k),o.signal&&o.signal.removeEventListener("abort",k)}let E=new XMLHttpRequest;E.open(o.method.toUpperCase(),o.url,!0),E.timeout=o.timeout;function O(){if(!E)return;const j=uc.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),F={data:!d||d==="text"||d==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:j,config:t,request:E};GR(function(G){i(G),D()},function(G){r(G),D()},F),E=null}"onloadend"in E?E.onloadend=O:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(O)},E.onabort=function(){E&&(r(new cr("Request aborted",cr.ECONNABORTED,t,E)),E=null)},E.onerror=function(){r(new cr("Network Error",cr.ERR_NETWORK,t,E)),E=null},E.ontimeout=function(){let j=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const F=o.transitional||HR;o.timeoutErrorMessage&&(j=o.timeoutErrorMessage),r(new cr(j,F.clarifyTimeoutError?cr.ETIMEDOUT:cr.ECONNABORTED,t,E)),E=null},a===void 0&&c.setContentType(null),"setRequestHeader"in E&&Ct.forEach(c.toJSON(),function(j,F){E.setRequestHeader(F,j)}),Ct.isUndefined(o.withCredentials)||(E.withCredentials=!!o.withCredentials),d&&d!=="json"&&(E.responseType=o.responseType),m&&([_,v]=n5(m,!0),E.addEventListener("progress",_)),p&&E.upload&&([w,C]=n5(p),E.upload.addEventListener("progress",w),E.upload.addEventListener("loadend",C)),(o.cancelToken||o.signal)&&(k=j=>{E&&(r(!j||j.type?new Ik(null,t,E):j),E.abort(),E=null)},o.cancelToken&&o.cancelToken.subscribe(k),o.signal&&(o.signal.aborted?k():o.signal.addEventListener("abort",k)));const M=Ahe(o.url);if(M&&sl.protocols.indexOf(M)===-1){r(new cr("Unsupported protocol "+M+":",cr.ERR_BAD_REQUEST,t));return}E.send(a||null)})},Mhe=(t,i)=>{const{length:r}=t=t?t.filter(Boolean):[];if(i||r){let o=new AbortController,a;const c=function(k){if(!a){a=!0,p();const w=k instanceof Error?k:this.reason;o.abort(w instanceof cr?w:new Ik(w instanceof Error?w.message:w))}};let d=i&&setTimeout(()=>{d=null,c(new cr(`timeout ${i} of ms exceeded`,cr.ETIMEDOUT))},i);const p=()=>{t&&(d&&clearTimeout(d),d=null,t.forEach(k=>{k.unsubscribe?k.unsubscribe(c):k.removeEventListener("abort",c)}),t=null)};t.forEach(k=>k.addEventListener("abort",c));const{signal:m}=o;return m.unsubscribe=()=>Ct.asap(p),m}},Nhe=function*(t,i){let r=t.byteLength;if(r<i){yield t;return}let o=0,a;for(;o<r;)a=o+i,yield t.slice(o,a),o=a},Ohe=async function*(t,i){for await(const r of Bhe(t))yield*Nhe(r,i)},Bhe=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const i=t.getReader();try{for(;;){const{done:r,value:o}=await i.read();if(r)break;yield o}}finally{await i.cancel()}},PB=(t,i,r,o)=>{const a=Ohe(t,i);let c=0,d,p=m=>{d||(d=!0,o&&o(m))};return new ReadableStream({async pull(m){try{const{done:k,value:w}=await a.next();if(k){p(),m.close();return}let _=w.byteLength;if(r){let C=c+=_;r(C)}m.enqueue(new Uint8Array(w))}catch(k){throw p(k),k}},cancel(m){return p(m),a.return()}},{highWaterMark:2})},Y5=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",QR=Y5&&typeof ReadableStream=="function",jhe=Y5&&(typeof TextEncoder=="function"?(t=>i=>t.encode(i))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),ZR=(t,...i)=>{try{return!!t(...i)}catch{return!1}},Lhe=QR&&ZR(()=>{let t=!1;const i=new Request(sl.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!i}),RB=64*1024,D4=QR&&ZR(()=>Ct.isReadableStream(new Response("").body)),r5={stream:D4&&(t=>t.body)};Y5&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(i=>{!r5[i]&&(r5[i]=Ct.isFunction(t[i])?r=>r[i]():(r,o)=>{throw new cr(`Response type '${i}' is not supported`,cr.ERR_NOT_SUPPORT,o)})})})(new Response);const Phe=async t=>{if(t==null)return 0;if(Ct.isBlob(t))return t.size;if(Ct.isSpecCompliantForm(t))return(await new Request(sl.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Ct.isArrayBufferView(t)||Ct.isArrayBuffer(t))return t.byteLength;if(Ct.isURLSearchParams(t)&&(t=t+""),Ct.isString(t))return(await jhe(t)).byteLength},Rhe=async(t,i)=>Ct.toFiniteNumber(t.getContentLength())??Phe(i),Fhe=Y5&&(async t=>{let{url:i,method:r,data:o,signal:a,cancelToken:c,timeout:d,onDownloadProgress:p,onUploadProgress:m,responseType:k,headers:w,withCredentials:_="same-origin",fetchOptions:C}=KR(t);k=k?(k+"").toLowerCase():"text";let v=Mhe([a,c&&c.toAbortSignal()],d),D;const E=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let O;try{if(m&&Lhe&&r!=="get"&&r!=="head"&&(O=await Rhe(w,o))!==0){let J=new Request(i,{method:"POST",body:o,duplex:"half"}),H;if(Ct.isFormData(o)&&(H=J.headers.get("content-type"))&&w.setContentType(H),J.body){const[z,Z]=BB(O,n5(jB(m)));o=PB(J.body,RB,z,Z)}}Ct.isString(_)||(_=_?"include":"omit");const M="credentials"in Request.prototype;D=new Request(i,{...C,signal:v,method:r.toUpperCase(),headers:w.normalize().toJSON(),body:o,duplex:"half",credentials:M?_:void 0});let j=await fetch(D);const F=D4&&(k==="stream"||k==="response");if(D4&&(p||F&&E)){const J={};["status","statusText","headers"].forEach(Y=>{J[Y]=j[Y]});const H=Ct.toFiniteNumber(j.headers.get("content-length")),[z,Z]=p&&BB(H,n5(jB(p),!0))||[];j=new Response(PB(j.body,RB,z,()=>{Z&&Z(),E&&E()}),J)}k=k||"text";let G=await r5[Ct.findKey(r5,k)||"text"](j,t);return!F&&E&&E(),await new Promise((J,H)=>{GR(J,H,{data:G,headers:uc.from(j.headers),status:j.status,statusText:j.statusText,config:t,request:D})})}catch(M){throw E&&E(),M&&M.name==="TypeError"&&/fetch/i.test(M.message)?Object.assign(new cr("Network Error",cr.ERR_NETWORK,t,D),{cause:M.cause||M}):cr.from(M,M&&M.code,t,D)}}),I4={http:ehe,xhr:The,fetch:Fhe};Ct.forEach(I4,(t,i)=>{if(t){try{Object.defineProperty(t,"name",{value:i})}catch{}Object.defineProperty(t,"adapterName",{value:i})}});const FB=t=>`- ${t}`,zhe=t=>Ct.isFunction(t)||t===null||t===!1,JR={getAdapter:t=>{t=Ct.isArray(t)?t:[t];const{length:i}=t;let r,o;const a={};for(let c=0;c<i;c++){r=t[c];let d;if(o=r,!zhe(r)&&(o=I4[(d=String(r)).toLowerCase()],o===void 0))throw new cr(`Unknown adapter '${d}'`);if(o)break;a[d||"#"+c]=o}if(!o){const c=Object.entries(a).map(([p,m])=>`adapter ${p} `+(m===!1?"is not supported by the environment":"is not available in the build"));let d=i?c.length>1?`since :
`+c.map(FB).join(`
`):" "+FB(c[0]):"as no adapter specified";throw new cr("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return o},adapters:I4};function AE(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ik(null,t)}function zB(t){return AE(t),t.headers=uc.from(t.headers),t.data=yE.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),JR.getAdapter(t.adapter||pA.adapter)(t).then(function(i){return AE(t),i.data=yE.call(t,t.transformResponse,i),i.headers=uc.from(i.headers),i},function(i){return WR(i)||(AE(t),i&&i.response&&(i.response.data=yE.call(t,t.transformResponse,i.response),i.response.headers=uc.from(i.response.headers))),Promise.reject(i)})}const XR="1.7.9",K5={};["object","boolean","number","function","string","symbol"].forEach((t,i)=>{K5[t]=function(r){return typeof r===t||"a"+(i<1?"n ":" ")+t}});const UB={};K5.transitional=function(t,i,r){function o(a,c){return"[Axios v"+XR+"] Transitional option '"+a+"'"+c+(r?". "+r:"")}return(a,c,d)=>{if(t===!1)throw new cr(o(c," has been removed"+(i?" in "+i:"")),cr.ERR_DEPRECATED);return i&&!UB[c]&&(UB[c]=!0,console.warn(o(c," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(a,c,d):!0}};K5.spelling=function(t){return(i,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function Uhe(t,i,r){if(typeof t!="object")throw new cr("options must be an object",cr.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let a=o.length;for(;a-- >0;){const c=o[a],d=i[c];if(d){const p=t[c],m=p===void 0||d(p,c,t);if(m!==!0)throw new cr("option "+c+" must be "+m,cr.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new cr("Unknown option "+c,cr.ERR_BAD_OPTION)}}const Cx={assertOptions:Uhe,validators:K5},Oh=Cx.validators;let lb=class{constructor(i){this.defaults=i,this.interceptors={request:new NB,response:new NB}}async request(i,r){try{return await this._request(i,r)}catch(o){if(o instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const c=a.stack?a.stack.replace(/^.+\n/,""):"";try{o.stack?c&&!String(o.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+c):o.stack=c}catch{}}throw o}}_request(i,r){typeof i=="string"?(r=r||{},r.url=i):r=i||{},r=pb(this.defaults,r);const{transitional:o,paramsSerializer:a,headers:c}=r;o!==void 0&&Cx.assertOptions(o,{silentJSONParsing:Oh.transitional(Oh.boolean),forcedJSONParsing:Oh.transitional(Oh.boolean),clarifyTimeoutError:Oh.transitional(Oh.boolean)},!1),a!=null&&(Ct.isFunction(a)?r.paramsSerializer={serialize:a}:Cx.assertOptions(a,{encode:Oh.function,serialize:Oh.function},!0)),Cx.assertOptions(r,{baseUrl:Oh.spelling("baseURL"),withXsrfToken:Oh.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let d=c&&Ct.merge(c.common,c[r.method]);c&&Ct.forEach(["delete","get","head","post","put","patch","common"],D=>{delete c[D]}),r.headers=uc.concat(d,c);const p=[];let m=!0;this.interceptors.request.forEach(function(D){typeof D.runWhen=="function"&&D.runWhen(r)===!1||(m=m&&D.synchronous,p.unshift(D.fulfilled,D.rejected))});const k=[];this.interceptors.response.forEach(function(D){k.push(D.fulfilled,D.rejected)});let w,_=0,C;if(!m){const D=[zB.bind(this),void 0];for(D.unshift.apply(D,p),D.push.apply(D,k),C=D.length,w=Promise.resolve(r);_<C;)w=w.then(D[_++],D[_++]);return w}C=p.length;let v=r;for(_=0;_<C;){const D=p[_++],E=p[_++];try{v=D(v)}catch(O){E.call(this,O);break}}try{w=zB.call(this,v)}catch(D){return Promise.reject(D)}for(_=0,C=k.length;_<C;)w=w.then(k[_++],k[_++]);return w}getUri(i){i=pb(this.defaults,i);const r=YR(i.baseURL,i.url);return VR(r,i.params,i.paramsSerializer)}};Ct.forEach(["delete","get","head","options"],function(t){lb.prototype[t]=function(i,r){return this.request(pb(r||{},{method:t,url:i,data:(r||{}).data}))}});Ct.forEach(["post","put","patch"],function(t){function i(r){return function(o,a,c){return this.request(pb(c||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}lb.prototype[t]=i(),lb.prototype[t+"Form"]=i(!0)});let qhe=class e9{constructor(i){if(typeof i!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const o=this;this.promise.then(a=>{if(!o._listeners)return;let c=o._listeners.length;for(;c-- >0;)o._listeners[c](a);o._listeners=null}),this.promise.then=a=>{let c;const d=new Promise(p=>{o.subscribe(p),c=p}).then(a);return d.cancel=function(){o.unsubscribe(c)},d},i(function(a,c,d){o.reason||(o.reason=new Ik(a,c,d),r(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]}unsubscribe(i){if(!this._listeners)return;const r=this._listeners.indexOf(i);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const i=new AbortController,r=o=>{i.abort(o)};return this.subscribe(r),i.signal.unsubscribe=()=>this.unsubscribe(r),i.signal}static source(){let i;return{token:new e9(function(r){i=r}),cancel:i}}};function Vhe(t){return function(i){return t.apply(null,i)}}function Hhe(t){return Ct.isObject(t)&&t.isAxiosError===!0}const T4={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(T4).forEach(([t,i])=>{T4[i]=t});function t9(t){const i=new lb(t),r=MR(lb.prototype.request,i);return Ct.extend(r,lb.prototype,i,{allOwnKeys:!0}),Ct.extend(r,i,null,{allOwnKeys:!0}),r.create=function(o){return t9(pb(t,o))},r}const No=t9(pA);No.Axios=lb;No.CanceledError=Ik;No.CancelToken=qhe;No.isCancel=WR;No.VERSION=XR;No.toFormData=G5;No.AxiosError=cr;No.Cancel=No.CanceledError;No.all=function(t){return Promise.all(t)};No.spread=Vhe;No.isAxiosError=Hhe;No.mergeConfig=pb;No.AxiosHeaders=uc;No.formToJSON=t=>$R(Ct.isHTMLForm(t)?new FormData(t):t);No.getAdapter=JR.getAdapter;No.HttpStatusCode=T4;No.default=No;const $he=async t=>{const i=new FormData;i.append("chatbot_id",t);try{const r=await No.post("https://rag-flask-api.onrender.com/start_conversation",i,{headers:{"Content-Type":"multipart/form-data"}}),{conversation_id:o,intro_message:a}=r.data;if(!o)throw new Error("Failed to retrieve conversation ID from server.");return{conversationId:o,introMessage:a}}catch(r){throw console.error("Error starting conversation:",r),r}},Whe=async(t,i,r)=>{const o=new FormData;o.append("chatbot_id",t),o.append("conversation_id",i),o.append("question",r);try{return(await No.post("https://rag-flask-api.onrender.com/ask",o,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(a){throw console.error("Error sending message:",a),a}},Ghe=async(t,i)=>{const r=new FormData;r.append("chatbot_id",t),r.append("conversation_id",i);try{await No.post("https://rag-flask-api.onrender.com/end_conversation",r,{headers:{"Content-Type":"multipart/form-data"}})}catch(o){throw console.error("Error ending conversation:",o),o}},Yhe=async t=>{try{const i=await No.get(`https://rag-flask-api.onrender.com/summary/${t}`);if(i.status===200&&i.data.summary)return i.data.summary;throw new Error("Summary not found for this chatbot.")}catch(i){throw console.error("Error fetching summary:",i),i}},Khe=({chatbotId:t,open:i,onClose:r})=>{const[o,a]=ae.useState(null),[c,d]=ae.useState(!1),[p,m]=ae.useState(null),k=async()=>{d(!0),m(null);try{const w=await Yhe(t);a(w)}catch(w){m(w.message||"Failed to fetch summary. Please try again.")}finally{d(!1)}};return ae.useEffect(()=>{i&&k()},[i]),Yn.jsx(Tx,{open:i,onClose:r,"aria-labelledby":"summary-modal-title","aria-describedby":"summary-modal-description",children:Yn.jsxs(Be,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:600,bgcolor:"background.paper",borderRadius:4,boxShadow:24,p:4},children:[Yn.jsxs(Be,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[Yn.jsx(Pe,{id:"summary-modal-title",variant:"h6",component:"h2",children:"Document Summary"}),Yn.jsx(ur,{onClick:r,children:Yn.jsx(pde,{})})]}),c?Yn.jsx(Be,{sx:{display:"flex",justifyContent:"center",my:4},children:Yn.jsx(ji,{})}):p?Yn.jsx(Pe,{color:"error",children:p}):Yn.jsx(Be,{sx:{maxHeight:300,overflowY:"auto",padding:2,border:"1px solid #ddd",borderRadius:2,backgroundColor:"#f9f9f9"},children:Yn.jsx(xD,{children:o})}),Yn.jsx(xt,{variant:"contained",sx:{mt:2},onClick:r,fullWidth:!0,children:"Close"})]})})},Qhe=ae.forwardRef(({chatbotId:t,onConversationStart:i},r)=>{const[o,a]=ae.useState(!1),[c,d]=ae.useState(()=>{const H=localStorage.getItem("responses");return H?JSON.parse(H):[]}),[p,m]=ae.useState(()=>localStorage.getItem("conversationId")||null),[k,w]=ae.useState(!1),[_,C]=ae.useState(null),[v,D]=ae.useState(!1),E=vy("(max-width:600px)"),O=vy("(min-width:601px) and (max-width:960px)"),M=ae.useRef(null);ae.useEffect(()=>{typeof i=="function"&&p&&i(p)},[p,i]),ae.useEffect(()=>{M.current&&M.current.scrollIntoView({behavior:"smooth"})},[c]);const j=async()=>{a(H=>!H),!o&&!p&&!k&&F()},F=async()=>{if(!p){w(!0),C(null);try{const H=await $he(t),{conversationId:z,introMessage:Z}=H;m(z),localStorage.setItem("conversationId",z),d(Y=>{const se=[...Y,{id:"intro",sender:"chatbot",text:Z}];return localStorage.setItem("responses",JSON.stringify(se)),se})}catch(H){console.error("Error starting conversation:",H),C("Failed to start a conversation. Please try again.")}finally{w(!1)}}},G=async(H,z=p)=>{w(!0),C(null);try{const Z=await Whe(t,z,H);d(Y=>{const se=[...Y,{question:H,answer:Z.answer}];return localStorage.setItem("responses",JSON.stringify(se)),se})}catch(Z){console.error("Error sending message:",Z),C("Failed to send the message. Please try again.")}finally{w(!1)}},J=async()=>{w(!0),C(null);try{p&&await Ghe(t,p),m(null),d([]),localStorage.removeItem("conversationId"),localStorage.removeItem("responses")}catch(H){console.error("Error ending conversation:",H),C("Failed to end the conversation. Please try again.")}finally{w(!1)}};return ae.useImperativeHandle(r,()=>({endConversation:J})),Yn.jsx(Yn.Fragment,{children:o?Yn.jsxs(Ar,{elevation:3,sx:kE.chatContainer(E,O),children:[Yn.jsxs(Be,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[Yn.jsx(Pe,{sx:kE.chatHeader,children:"PAT (Personalized Academic Tutor)"}),Yn.jsx(ur,{onClick:j,sx:{color:"black"},children:"X"})]}),Yn.jsx(ude,{responses:c}),Yn.jsx("div",{ref:M}),k&&Yn.jsx(Om,{sx:{position:"absolute",top:0,left:0,width:"100%"}}),_&&Yn.jsx(Pe,{color:"error",children:_}),Yn.jsx(dde,{onSendMessage:G,onStartConversation:F,onEndConversation:J,conversationId:p}),Yn.jsx(xt,{variant:"outlined",onClick:()=>D(!0),sx:{mt:2},children:"View Summary"}),Yn.jsx(Khe,{chatbotId:t,open:v,onClose:()=>D(!1)})]}):Yn.jsx(ur,{onClick:j,sx:kE.chatToggleButton,children:Yn.jsx(cde,{fontSize:"large"})})})});class Zhe extends ae.Component{constructor(i){super(i),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(i){console.error("Error caught by ErrorBoundary:",i)}render(){return this.state.hasError?x.jsx("h2",{children:"Something went wrong while loading the Chatbot."}):this.props.children}}const n9=ae.forwardRef(({chatbotId:t},i)=>{const{userDetails:r}=go(),o=ae.useRef(null),[a,c]=ae.useState(!1),d=async p=>{if(console.log(` Chatbot started. Chatbot ID: ${t}, Conversation ID: ${p}`),r!=null&&r.uid)try{await zj(Wn(iL,"conversations",p),{conversationId:p,chatbotId:t,userId:r.uid,startedAt:new Date().toISOString()},{merge:!0}),console.log("Conversation saved to Firestore")}catch(m){console.error("Failed to save conversation:",m)}};return ae.useImperativeHandle(i,()=>({endConversation:()=>{o.current&&(console.log("Ending chatbot conversation..."),o.current.endConversation())}})),x.jsx(Be,{sx:{position:"relative",display:"flex",flexDirection:"column",alignItems:"flex-end"},children:x.jsxs(Be,{sx:{background:a?"rgba(255, 255, 255, 0.95)":"#00695c",borderRadius:4,boxShadow:a?"0 8px 32px rgba(0, 0, 0, 0.12)":"0 2px 8px rgba(0, 0, 0, 0.15)",overflow:"hidden",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",border:a?"1px solid #e0e0e0":"none",minWidth:a?400:"auto",maxWidth:a?450:"auto"},children:[x.jsxs(xt,{variant:"text",onClick:()=>c(!a),sx:{background:a?"#00695c !important":"transparent !important",backgroundColor:a?"#00695c !important":"transparent !important",color:"white !important",px:2.5,py:1.5,borderRadius:a?"16px 16px 0 0":3,textTransform:"none",display:"flex",alignItems:"center",gap:1.5,minWidth:"auto",width:"100%",justifyContent:"flex-start","&:hover":{background:"#004d40 !important",backgroundColor:"#004d40 !important",boxShadow:a?"none":"0px 4px 12px rgba(0, 105, 92, 0.3)"},"&:active":{background:"#004d40 !important",backgroundColor:"#004d40 !important"},"&:focus":{background:a?"#00695c !important":"#004d40 !important",backgroundColor:a?"#00695c !important":"#004d40 !important"},"&.Mui-focusVisible":{background:a?"#00695c !important":"#004d40 !important",backgroundColor:a?"#00695c !important":"#004d40 !important"},transition:"all 0.2s ease-in-out"},children:[x.jsx(_H,{sx:{fontSize:"1.5rem"}}),x.jsxs(Be,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",lineHeight:1,flex:1},children:[x.jsx(Pe,{variant:"body1",sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",fontWeight:"bold",mb:0,lineHeight:1.1},children:"Chat with PAT"}),x.jsx(Pe,{variant:"caption",sx:{fontFamily:"Gabarito, sans-serif",fontSize:"0.75rem",opacity:.9,lineHeight:1,mt:.2},children:"AI Tutor"})]}),a?x.jsx(a5,{sx:{fontSize:"1.2rem"}}):x.jsx(Kd,{sx:{fontSize:"1.2rem"}})]}),x.jsx(l5,{in:a,timeout:300,easing:{enter:"cubic-bezier(0.4, 0, 0.2, 1)",exit:"cubic-bezier(0.4, 0, 0.6, 1)"},children:x.jsx(Be,{sx:{background:"white",borderRadius:"0 0 16px 16px",overflow:"hidden"},children:x.jsx(Zhe,{children:x.jsx(Qhe,{ref:o,chatbotId:t,onConversationStart:d})})})})]})})});n9.displayName="ChatbotWrapper";const ly="ce5f7921-a3a0-4ea7-b95f-10fe41becda5",Jhe=()=>{const[t,i]=ae.useState(ly),[r]=Jy(),o=ae.useRef(null);return ae.useEffect(()=>{const a=r.get("material");if(!a){t!==ly&&i(ly);return}(async()=>{var w;console.log("Fetching chatbot ID for material:",a);const d=Rr(),p=dr(d,"chatbots"),m=Xd(p,nd("material.id","==",a)),k=await Qo(m);if(k.empty)console.log(` No chatbot found for material ${a}, using default:`,ly),i(ly);else{const _=k.docs[0].data();console.log(` Found chatbot for material ${a}:`,_.chatbotId),_.chatbotId!==t&&((w=o.current)==null||w.endConversation()),i(_.chatbotId)}})()},[r,t]),x.jsx(Be,{sx:{position:"fixed",bottom:16,right:16,zIndex:1100},children:x.jsx(n9,{ref:o,chatbotId:t})})};function mA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function kp(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var i=t.default;if(typeof i=="function"){var r=function o(){return this instanceof o?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};r.prototype=i.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(o){var a=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(r,o,a.get?a:{enumerable:!0,get:function(){return t[o]}})}),r}var qB={exports:{}},cy={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VB;function Xhe(){if(VB)return cy;VB=1;var t=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function r(o,a,c){var d=null;if(c!==void 0&&(d=""+c),a.key!==void 0&&(d=""+a.key),"key"in a){c={};for(var p in a)p!=="key"&&(c[p]=a[p])}else c=a;return a=c.ref,{$$typeof:t,type:o,key:d,ref:a!==void 0?a:null,props:c}}return cy.Fragment=i,cy.jsx=r,cy.jsxs=r,cy}var HB;function gA(){return HB||(HB=1,qB.exports=Xhe()),qB.exports}var An=gA(),uy={},$B={exports:{}},WB;function Tk(){return WB||(WB=1,function(t){function i(r){return r&&r.__esModule?r:{default:r}}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}($B)),$B.exports}var GB={};function Bi(){return Bi=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var r=arguments[i];for(var o in r)({}).hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Bi.apply(null,arguments)}function Sm(t){if(typeof t!="object"||t===null)return!1;const i=Object.getPrototypeOf(t);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function r9(t){if(ae.isValidElement(t)||!Sm(t))return t;const i={};return Object.keys(t).forEach(r=>{i[r]=r9(t[r])}),i}function sf(t,i,r={clone:!0}){const o=r.clone?Bi({},t):t;return Sm(t)&&Sm(i)&&Object.keys(i).forEach(a=>{ae.isValidElement(i[a])?o[a]=i[a]:Sm(i[a])&&Object.prototype.hasOwnProperty.call(t,a)&&Sm(t[a])?o[a]=sf(t[a],i[a],r):r.clone?o[a]=Sm(i[a])?r9(i[a]):i[a]:o[a]=i[a]}),o}const efe=Object.freeze(Object.defineProperty({__proto__:null,default:sf,isPlainObject:Sm},Symbol.toStringTag,{value:"Module"}));function Hy(t){let i="https://mui.com/production-error/?code="+t;for(let r=1;r<arguments.length;r+=1)i+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+t+"; visit "+i+" for the full message."}const tfe=Object.freeze(Object.defineProperty({__proto__:null,default:Hy},Symbol.toStringTag,{value:"Module"}));var YB={exports:{}},Ni={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KB;function nfe(){if(KB)return Ni;KB=1;var t=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),C=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function D(E){if(typeof E=="object"&&E!==null){var O=E.$$typeof;switch(O){case t:switch(E=E.type,E){case r:case a:case o:case m:case k:case C:return E;default:switch(E=E&&E.$$typeof,E){case d:case p:case _:case w:return E;case c:return E;default:return O}}case i:return O}}}return Ni.ContextConsumer=c,Ni.ContextProvider=d,Ni.Element=t,Ni.ForwardRef=p,Ni.Fragment=r,Ni.Lazy=_,Ni.Memo=w,Ni.Portal=i,Ni.Profiler=a,Ni.StrictMode=o,Ni.Suspense=m,Ni.SuspenseList=k,Ni.isContextConsumer=function(E){return D(E)===c},Ni.isContextProvider=function(E){return D(E)===d},Ni.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},Ni.isForwardRef=function(E){return D(E)===p},Ni.isFragment=function(E){return D(E)===r},Ni.isLazy=function(E){return D(E)===_},Ni.isMemo=function(E){return D(E)===w},Ni.isPortal=function(E){return D(E)===i},Ni.isProfiler=function(E){return D(E)===a},Ni.isStrictMode=function(E){return D(E)===o},Ni.isSuspense=function(E){return D(E)===m},Ni.isSuspenseList=function(E){return D(E)===k},Ni.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===r||E===a||E===o||E===m||E===k||typeof E=="object"&&E!==null&&(E.$$typeof===_||E.$$typeof===w||E.$$typeof===d||E.$$typeof===c||E.$$typeof===p||E.$$typeof===v||E.getModuleId!==void 0)},Ni.typeOf=D,Ni}var QB;function rfe(){return QB||(QB=1,YB.exports=nfe()),YB.exports}var ZB=rfe();const ife=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function i9(t){const i=`${t}`.match(ife);return i&&i[1]||""}function o9(t,i=""){return t.displayName||t.name||i9(t)||i}function JB(t,i,r){const o=o9(i);return t.displayName||(o!==""?`${r}(${o})`:r)}function ofe(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return o9(t,"Component");if(typeof t=="object")switch(t.$$typeof){case ZB.ForwardRef:return JB(t,t.render,"ForwardRef");case ZB.Memo:return JB(t,t.type,"memo");default:return}}}const sfe=Object.freeze(Object.defineProperty({__proto__:null,default:ofe,getFunctionName:i9},Symbol.toStringTag,{value:"Module"}));function Vm(t){if(typeof t!="string")throw new Error(Hy(7));return t.charAt(0).toUpperCase()+t.slice(1)}const afe=Object.freeze(Object.defineProperty({__proto__:null,default:Vm},Symbol.toStringTag,{value:"Module"}));function lfe(...t){return t.reduce((i,r)=>r==null?i:function(...o){i.apply(this,o),r.apply(this,o)},()=>{})}function cfe(t,i=166){let r;function o(...a){const c=()=>{t.apply(this,a)};clearTimeout(r),r=setTimeout(c,i)}return o.clear=()=>{clearTimeout(r)},o}function ufe(t,i){return()=>null}function dfe(t,i){var r,o;return ae.isValidElement(t)&&i.indexOf((r=t.type.muiName)!=null?r:(o=t.type)==null||(o=o._payload)==null||(o=o.value)==null?void 0:o.muiName)!==-1}function s9(t){return t&&t.ownerDocument||document}function hfe(t){return s9(t).defaultView||window}function ffe(t,i){return()=>null}function a9(t,i){typeof t=="function"?t(i):t&&(t.current=i)}const l9=typeof window<"u"?ae.useLayoutEffect:ae.useEffect;let XB=0;function pfe(t){const[i,r]=ae.useState(t),o=t||i;return ae.useEffect(()=>{i==null&&(XB+=1,r(`mui-${XB}`))},[i]),o}const ej=ae.useId;function mfe(t){if(ej!==void 0){const i=ej();return t??i}return pfe(t)}function gfe(t,i,r,o,a){return null}function bfe({controlled:t,default:i,name:r,state:o="value"}){const{current:a}=ae.useRef(t!==void 0),[c,d]=ae.useState(i),p=a?t:c,m=ae.useCallback(k=>{a||d(k)},[]);return[p,m]}function kfe(t){const i=ae.useRef(t);return l9(()=>{i.current=t}),ae.useRef((...r)=>(0,i.current)(...r)).current}function wfe(...t){return ae.useMemo(()=>t.every(i=>i==null)?null:i=>{t.forEach(r=>{a9(r,i)})},t)}class RD{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new RD}start(i,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},i)}}let Q5=!0,M4=!1;const vfe=new RD,yfe={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Afe(t){const{type:i,tagName:r}=t;return!!(r==="INPUT"&&yfe[i]&&!t.readOnly||r==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function _fe(t){t.metaKey||t.altKey||t.ctrlKey||(Q5=!0)}function _E(){Q5=!1}function Cfe(){this.visibilityState==="hidden"&&M4&&(Q5=!0)}function xfe(t){t.addEventListener("keydown",_fe,!0),t.addEventListener("mousedown",_E,!0),t.addEventListener("pointerdown",_E,!0),t.addEventListener("touchstart",_E,!0),t.addEventListener("visibilitychange",Cfe,!0)}function Sfe(t){const{target:i}=t;try{return i.matches(":focus-visible")}catch{}return Q5||Afe(i)}function Efe(){const t=ae.useCallback(a=>{a!=null&&xfe(a.ownerDocument)},[]),i=ae.useRef(!1);function r(){return i.current?(M4=!0,vfe.start(100,()=>{M4=!1}),i.current=!1,!0):!1}function o(a){return Sfe(a)?(i.current=!0,!0):!1}return{isFocusVisibleRef:i,onFocus:o,onBlur:r,ref:t}}function N4(t,i){const r=Bi({},i);return Object.keys(t).forEach(o=>{if(o.toString().match(/^(components|slots)$/))r[o]=Bi({},t[o],r[o]);else if(o.toString().match(/^(componentsProps|slotProps)$/)){const a=t[o]||{},c=i[o];r[o]={},!c||!Object.keys(c)?r[o]=a:!a||!Object.keys(a)?r[o]=c:(r[o]=Bi({},c),Object.keys(a).forEach(d=>{r[o][d]=N4(a[d],c[d])}))}else r[o]===void 0&&(r[o]=t[o])}),r}function Dfe(t,i,r=void 0){const o={};return Object.keys(t).forEach(a=>{o[a]=t[a].reduce((c,d)=>{if(d){const p=i(d);p!==""&&c.push(p),r&&r[d]&&c.push(r[d])}return c},[]).join(" ")}),o}const tj=t=>t,Ife=()=>{let t=tj;return{configure(i){t=i},generate(i){return t(i)},reset(){t=tj}}},c9=Ife(),Tfe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function u9(t,i,r="Mui"){const o=Tfe[i];return o?`${r}-${o}`:`${c9.generate(t)}-${i}`}function Mfe(t,i,r="Mui"){const o={};return i.forEach(a=>{o[a]=u9(t,a,r)}),o}function Nfe(t,i=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(i,Math.min(t,r))}const Ofe=Object.freeze(Object.defineProperty({__proto__:null,default:Nfe},Symbol.toStringTag,{value:"Module"}));function Ym(t,i){if(t==null)return{};var r={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(i.indexOf(o)!==-1)continue;r[o]=t[o]}return r}function d9(t){var i,r,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(i=0;i<a;i++)t[i]&&(r=d9(t[i]))&&(o&&(o+=" "),o+=r)}else for(r in t)t[r]&&(o&&(o+=" "),o+=r);return o}function Bfe(){for(var t,i,r=0,o="",a=arguments.length;r<a;r++)(t=arguments[r])&&(i=d9(t))&&(o&&(o+=" "),o+=i);return o}const jfe=ae.createContext(void 0);function Lfe(t){const{theme:i,name:r,props:o}=t;if(!i||!i.components||!i.components[r])return o;const a=i.components[r];return a.defaultProps?N4(a.defaultProps,o):!a.styleOverrides&&!a.variants?N4(a,o):o}function Pfe({props:t,name:i}){const r=ae.useContext(jfe);return Lfe({props:t,name:i,theme:{components:r}})}function Rfe(t){return Pfe(t)}var Vg={},nj={exports:{}},rj;function Ffe(){return rj||(rj=1,function(t){function i(){return t.exports=i=Object.assign?Object.assign.bind():function(r){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var c in a)({}).hasOwnProperty.call(a,c)&&(r[c]=a[c])}return r},t.exports.__esModule=!0,t.exports.default=t.exports,i.apply(null,arguments)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}(nj)),nj.exports}var ij={exports:{}},oj;function zfe(){return oj||(oj=1,function(t){function i(r,o){if(r==null)return{};var a={};for(var c in r)if({}.hasOwnProperty.call(r,c)){if(o.indexOf(c)!==-1)continue;a[c]=r[c]}return a}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}(ij)),ij.exports}function Ufe(t){for(var i=0,r,o=0,a=t.length;a>=4;++o,a-=4)r=t.charCodeAt(o)&255|(t.charCodeAt(++o)&255)<<8|(t.charCodeAt(++o)&255)<<16|(t.charCodeAt(++o)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,i=(r&65535)*1540483477+((r>>>16)*59797<<16)^(i&65535)*1540483477+((i>>>16)*59797<<16);switch(a){case 3:i^=(t.charCodeAt(o+2)&255)<<16;case 2:i^=(t.charCodeAt(o+1)&255)<<8;case 1:i^=t.charCodeAt(o)&255,i=(i&65535)*1540483477+((i>>>16)*59797<<16)}return i^=i>>>13,i=(i&65535)*1540483477+((i>>>16)*59797<<16),((i^i>>>15)>>>0).toString(36)}var qfe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Vfe(t){var i=Object.create(null);return function(r){return i[r]===void 0&&(i[r]=t(r)),i[r]}}var Hfe=/[A-Z]|^ms/g,$fe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,h9=function(t){return t.charCodeAt(1)===45},sj=function(t){return t!=null&&typeof t!="boolean"},CE=Vfe(function(t){return h9(t)?t:t.replace(Hfe,"-$&").toLowerCase()}),aj=function(t,i){switch(t){case"animation":case"animationName":if(typeof i=="string")return i.replace($fe,function(r,o,a){return Nm={name:o,styles:a,next:Nm},o})}return qfe[t]!==1&&!h9(t)&&typeof i=="number"&&i!==0?i+"px":i};function i5(t,i,r){if(r==null)return"";var o=r;if(o.__emotion_styles!==void 0)return o;switch(typeof r){case"boolean":return"";case"object":{var a=r;if(a.anim===1)return Nm={name:a.name,styles:a.styles,next:Nm},a.name;var c=r;if(c.styles!==void 0){var d=c.next;if(d!==void 0)for(;d!==void 0;)Nm={name:d.name,styles:d.styles,next:Nm},d=d.next;var p=c.styles+";";return p}return Wfe(t,i,r)}}var m=r;return m}function Wfe(t,i,r){var o="";if(Array.isArray(r))for(var a=0;a<r.length;a++)o+=i5(t,i,r[a])+";";else for(var c in r){var d=r[c];if(typeof d!="object"){var p=d;sj(p)&&(o+=CE(c)+":"+aj(c,p)+";")}else if(Array.isArray(d)&&typeof d[0]=="string"&&i==null)for(var m=0;m<d.length;m++)sj(d[m])&&(o+=CE(c)+":"+aj(c,d[m])+";");else{var k=i5(t,i,d);switch(c){case"animation":case"animationName":{o+=CE(c)+":"+k+";";break}default:o+=c+"{"+k+"}"}}}return o}var lj=/label:\s*([^\s;{]+)\s*(;|$)/g,Nm;function Gfe(t,i,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var o=!0,a="";Nm=void 0;var c=t[0];if(c==null||c.raw===void 0)o=!1,a+=i5(r,i,c);else{var d=c;a+=d[0]}for(var p=1;p<t.length;p++)if(a+=i5(r,i,t[p]),o){var m=c;a+=m[p]}lj.lastIndex=0;for(var k="",w;(w=lj.exec(a))!==null;)k+="-"+w[1];var _=Ufe(a)+k;return{name:_,styles:a,next:Nm}}function Yfe(t){if(t.sheet)return t.sheet;for(var i=0;i<document.styleSheets.length;i++)if(document.styleSheets[i].ownerNode===t)return document.styleSheets[i]}function Kfe(t){var i=document.createElement("style");return i.setAttribute("data-emotion",t.key),t.nonce!==void 0&&i.setAttribute("nonce",t.nonce),i.appendChild(document.createTextNode("")),i.setAttribute("data-s",""),i}var Qfe=function(){function t(r){var o=this;this._insertTag=function(a){var c;o.tags.length===0?o.insertionPoint?c=o.insertionPoint.nextSibling:o.prepend?c=o.container.firstChild:c=o.before:c=o.tags[o.tags.length-1].nextSibling,o.container.insertBefore(a,c),o.tags.push(a)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var i=t.prototype;return i.hydrate=function(r){r.forEach(this._insertTag)},i.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Kfe(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var a=Yfe(o);try{a.insertRule(r,a.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(r));this.ctr++},i.flush=function(){this.tags.forEach(function(r){var o;return(o=r.parentNode)==null?void 0:o.removeChild(r)}),this.tags=[],this.ctr=0},t}(),tl="-ms-",o5="-moz-",si="-webkit-",f9="comm",FD="rule",zD="decl",Zfe="@import",p9="@keyframes",Jfe="@layer",Xfe=Math.abs,Z5=String.fromCharCode,epe=Object.assign;function tpe(t,i){return Ea(t,0)^45?(((i<<2^Ea(t,0))<<2^Ea(t,1))<<2^Ea(t,2))<<2^Ea(t,3):0}function m9(t){return t.trim()}function npe(t,i){return(t=i.exec(t))?t[0]:t}function li(t,i,r){return t.replace(i,r)}function O4(t,i){return t.indexOf(i)}function Ea(t,i){return t.charCodeAt(i)|0}function $y(t,i,r){return t.slice(i,r)}function Uh(t){return t.length}function UD(t){return t.length}function tx(t,i){return i.push(t),t}function rpe(t,i){return t.map(i).join("")}var J5=1,kk=1,g9=0,hc=0,Ts=0,Mk="";function X5(t,i,r,o,a,c,d){return{value:t,root:i,parent:r,type:o,props:a,children:c,line:J5,column:kk,length:d,return:""}}function dy(t,i){return epe(X5("",null,null,"",null,null,0),t,{length:-t.length},i)}function ipe(){return Ts}function ope(){return Ts=hc>0?Ea(Mk,--hc):0,kk--,Ts===10&&(kk=1,J5--),Ts}function lu(){return Ts=hc<g9?Ea(Mk,hc++):0,kk++,Ts===10&&(kk=1,J5++),Ts}function af(){return Ea(Mk,hc)}function xx(){return hc}function bA(t,i){return $y(Mk,t,i)}function Wy(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function b9(t){return J5=kk=1,g9=Uh(Mk=t),hc=0,[]}function k9(t){return Mk="",t}function Sx(t){return m9(bA(hc-1,B4(t===91?t+2:t===40?t+1:t)))}function spe(t){for(;(Ts=af())&&Ts<33;)lu();return Wy(t)>2||Wy(Ts)>3?"":" "}function ape(t,i){for(;--i&&lu()&&!(Ts<48||Ts>102||Ts>57&&Ts<65||Ts>70&&Ts<97););return bA(t,xx()+(i<6&&af()==32&&lu()==32))}function B4(t){for(;lu();)switch(Ts){case t:return hc;case 34:case 39:t!==34&&t!==39&&B4(Ts);break;case 40:t===41&&B4(t);break;case 92:lu();break}return hc}function lpe(t,i){for(;lu()&&t+Ts!==57&&!(t+Ts===84&&af()===47););return"/*"+bA(i,hc-1)+"*"+Z5(t===47?t:lu())}function cpe(t){for(;!Wy(af());)lu();return bA(t,hc)}function upe(t){return k9(Ex("",null,null,null,[""],t=b9(t),0,[0],t))}function Ex(t,i,r,o,a,c,d,p,m){for(var k=0,w=0,_=d,C=0,v=0,D=0,E=1,O=1,M=1,j=0,F="",G=a,J=c,H=o,z=F;O;)switch(D=j,j=lu()){case 40:if(D!=108&&Ea(z,_-1)==58){O4(z+=li(Sx(j),"&","&\f"),"&\f")!=-1&&(M=-1);break}case 34:case 39:case 91:z+=Sx(j);break;case 9:case 10:case 13:case 32:z+=spe(D);break;case 92:z+=ape(xx()-1,7);continue;case 47:switch(af()){case 42:case 47:tx(dpe(lpe(lu(),xx()),i,r),m);break;default:z+="/"}break;case 123*E:p[k++]=Uh(z)*M;case 125*E:case 59:case 0:switch(j){case 0:case 125:O=0;case 59+w:M==-1&&(z=li(z,/\f/g,"")),v>0&&Uh(z)-_&&tx(v>32?uj(z+";",o,r,_-1):uj(li(z," ","")+";",o,r,_-2),m);break;case 59:z+=";";default:if(tx(H=cj(z,i,r,k,w,a,p,F,G=[],J=[],_),c),j===123)if(w===0)Ex(z,i,H,H,G,c,_,p,J);else switch(C===99&&Ea(z,3)===110?100:C){case 100:case 108:case 109:case 115:Ex(t,H,H,o&&tx(cj(t,H,H,0,0,a,p,F,a,G=[],_),J),a,J,_,p,o?G:J);break;default:Ex(z,H,H,H,[""],J,0,p,J)}}k=w=v=0,E=M=1,F=z="",_=d;break;case 58:_=1+Uh(z),v=D;default:if(E<1){if(j==123)--E;else if(j==125&&E++==0&&ope()==125)continue}switch(z+=Z5(j),j*E){case 38:M=w>0?1:(z+="\f",-1);break;case 44:p[k++]=(Uh(z)-1)*M,M=1;break;case 64:af()===45&&(z+=Sx(lu())),C=af(),w=_=Uh(F=z+=cpe(xx())),j++;break;case 45:D===45&&Uh(z)==2&&(E=0)}}return c}function cj(t,i,r,o,a,c,d,p,m,k,w){for(var _=a-1,C=a===0?c:[""],v=UD(C),D=0,E=0,O=0;D<o;++D)for(var M=0,j=$y(t,_+1,_=Xfe(E=d[D])),F=t;M<v;++M)(F=m9(E>0?C[M]+" "+j:li(j,/&\f/g,C[M])))&&(m[O++]=F);return X5(t,i,r,a===0?FD:p,m,k,w)}function dpe(t,i,r){return X5(t,i,r,f9,Z5(ipe()),$y(t,2,-2),0)}function uj(t,i,r,o){return X5(t,i,r,zD,$y(t,0,o),$y(t,o+1,-1),o)}function lk(t,i){for(var r="",o=UD(t),a=0;a<o;a++)r+=i(t[a],a,t,i)||"";return r}function hpe(t,i,r,o){switch(t.type){case Jfe:if(t.children.length)break;case Zfe:case zD:return t.return=t.return||t.value;case f9:return"";case p9:return t.return=t.value+"{"+lk(t.children,o)+"}";case FD:t.value=t.props.join(",")}return Uh(r=lk(t.children,o))?t.return=t.value+"{"+r+"}":""}function fpe(t){var i=UD(t);return function(r,o,a,c){for(var d="",p=0;p<i;p++)d+=t[p](r,o,a,c)||"";return d}}function ppe(t){return function(i){i.root||(i=i.return)&&t(i)}}var mpe=function(t,i,r){for(var o=0,a=0;o=a,a=af(),o===38&&a===12&&(i[r]=1),!Wy(a);)lu();return bA(t,hc)},gpe=function(t,i){var r=-1,o=44;do switch(Wy(o)){case 0:o===38&&af()===12&&(i[r]=1),t[r]+=mpe(hc-1,i,r);break;case 2:t[r]+=Sx(o);break;case 4:if(o===44){t[++r]=af()===58?"&\f":"",i[r]=t[r].length;break}default:t[r]+=Z5(o)}while(o=lu());return t},bpe=function(t,i){return k9(gpe(b9(t),i))},dj=new WeakMap,kpe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var i=t.value,r=t.parent,o=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&i.charCodeAt(0)!==58&&!dj.get(r))&&!o){dj.set(t,!0);for(var a=[],c=bpe(i,a),d=r.props,p=0,m=0;p<c.length;p++)for(var k=0;k<d.length;k++,m++)t.props[m]=a[p]?c[p].replace(/&\f/g,d[k]):d[k]+" "+c[p]}}},wpe=function(t){if(t.type==="decl"){var i=t.value;i.charCodeAt(0)===108&&i.charCodeAt(2)===98&&(t.return="",t.value="")}};function w9(t,i){switch(tpe(t,i)){case 5103:return si+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return si+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return si+t+o5+t+tl+t+t;case 6828:case 4268:return si+t+tl+t+t;case 6165:return si+t+tl+"flex-"+t+t;case 5187:return si+t+li(t,/(\w+).+(:[^]+)/,si+"box-$1$2"+tl+"flex-$1$2")+t;case 5443:return si+t+tl+"flex-item-"+li(t,/flex-|-self/,"")+t;case 4675:return si+t+tl+"flex-line-pack"+li(t,/align-content|flex-|-self/,"")+t;case 5548:return si+t+tl+li(t,"shrink","negative")+t;case 5292:return si+t+tl+li(t,"basis","preferred-size")+t;case 6060:return si+"box-"+li(t,"-grow","")+si+t+tl+li(t,"grow","positive")+t;case 4554:return si+li(t,/([^-])(transform)/g,"$1"+si+"$2")+t;case 6187:return li(li(li(t,/(zoom-|grab)/,si+"$1"),/(image-set)/,si+"$1"),t,"")+t;case 5495:case 3959:return li(t,/(image-set\([^]*)/,si+"$1$`$1");case 4968:return li(li(t,/(.+:)(flex-)?(.*)/,si+"box-pack:$3"+tl+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+si+t+t;case 4095:case 3583:case 4068:case 2532:return li(t,/(.+)-inline(.+)/,si+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Uh(t)-1-i>6)switch(Ea(t,i+1)){case 109:if(Ea(t,i+4)!==45)break;case 102:return li(t,/(.+:)(.+)-([^]+)/,"$1"+si+"$2-$3$1"+o5+(Ea(t,i+3)==108?"$3":"$2-$3"))+t;case 115:return~O4(t,"stretch")?w9(li(t,"stretch","fill-available"),i)+t:t}break;case 4949:if(Ea(t,i+1)!==115)break;case 6444:switch(Ea(t,Uh(t)-3-(~O4(t,"!important")&&10))){case 107:return li(t,":",":"+si)+t;case 101:return li(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+si+(Ea(t,14)===45?"inline-":"")+"box$3$1"+si+"$2$3$1"+tl+"$2box$3")+t}break;case 5936:switch(Ea(t,i+11)){case 114:return si+t+tl+li(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return si+t+tl+li(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return si+t+tl+li(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return si+t+tl+t+t}return t}var vpe=function(t,i,r,o){if(t.length>-1&&!t.return)switch(t.type){case zD:t.return=w9(t.value,t.length);break;case p9:return lk([dy(t,{value:li(t.value,"@","@"+si)})],o);case FD:if(t.length)return rpe(t.props,function(a){switch(npe(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return lk([dy(t,{props:[li(a,/:(read-\w+)/,":"+o5+"$1")]})],o);case"::placeholder":return lk([dy(t,{props:[li(a,/:(plac\w+)/,":"+si+"input-$1")]}),dy(t,{props:[li(a,/:(plac\w+)/,":"+o5+"$1")]}),dy(t,{props:[li(a,/:(plac\w+)/,tl+"input-$1")]})],o)}return""})}},ype=[vpe],Ape=function(t){var i=t.key;if(i==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(D){var E=D.getAttribute("data-emotion");E.indexOf(" ")!==-1&&(document.head.appendChild(D),D.setAttribute("data-s",""))})}var o=t.stylisPlugins||ype,a={},c,d=[];c=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+i+' "]'),function(D){for(var E=D.getAttribute("data-emotion").split(" "),O=1;O<E.length;O++)a[E[O]]=!0;d.push(D)});var p,m=[kpe,wpe];{var k,w=[hpe,ppe(function(D){k.insert(D)})],_=fpe(m.concat(o,w)),C=function(D){return lk(upe(D),_)};p=function(D,E,O,M){k=O,C(D?D+"{"+E.styles+"}":E.styles),M&&(v.inserted[E.name]=!0)}}var v={key:i,sheet:new Qfe({key:i,container:c,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:p};return v.sheet.hydrate(d),v};function _pe(t,i){const r=Ape({key:"css",prepend:t});if(i){const o=r.insert;r.insert=(...a)=>(a[1].styles.match(/^@layer\s+[^{]*$/)||(a[1].styles=`@layer mui {${a[1].styles}}`),o(...a))}return r}const xE=new Map;function Cpe(t){const{injectFirst:i,enableCssLayer:r,children:o}=t,a=ae.useMemo(()=>{const c=`${i}-${r}`;if(typeof document=="object"&&xE.has(c))return xE.get(c);const d=_pe(i,r);return xE.set(c,d),d},[i,r]);return i||r?An.jsx(Rj,{value:a,children:o}):o}function xpe(t){return t==null||Object.keys(t).length===0}function Spe(t){const{styles:i,defaultTheme:r={}}=t,o=typeof i=="function"?a=>i(xpe(a)?r:a):i;return An.jsx(Fj,{styles:o})}/**
 * @mui/styled-engine v5.18.0
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Epe(t,i){return Pj(t,i)}const Dpe=(t,i)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=i(t.__emotion_styles))},hj=[];function Ipe(t){return hj[0]=t,Gfe(hj)}const Tpe=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:Spe,StyledEngineProvider:Cpe,ThemeContext:Lj,css:jj,default:Epe,internal_processStyles:Dpe,internal_serializeStyles:Ipe,keyframes:Bj},Symbol.toStringTag,{value:"Module"})),Mpe=kp(Tpe),Npe=kp(efe),Ope=kp(afe),Bpe=kp(sfe),jpe=["values","unit","step"],Lpe=t=>{const i=Object.keys(t).map(r=>({key:r,val:t[r]}))||[];return i.sort((r,o)=>r.val-o.val),i.reduce((r,o)=>Bi({},r,{[o.key]:o.val}),{})};function v9(t){const{values:i={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:o=5}=t,a=Ym(t,jpe),c=Lpe(i),d=Object.keys(c);function p(C){return`@media (min-width:${typeof i[C]=="number"?i[C]:C}${r})`}function m(C){return`@media (max-width:${(typeof i[C]=="number"?i[C]:C)-o/100}${r})`}function k(C,v){const D=d.indexOf(v);return`@media (min-width:${typeof i[C]=="number"?i[C]:C}${r}) and (max-width:${(D!==-1&&typeof i[d[D]]=="number"?i[d[D]]:v)-o/100}${r})`}function w(C){return d.indexOf(C)+1<d.length?k(C,d[d.indexOf(C)+1]):p(C)}function _(C){const v=d.indexOf(C);return v===0?p(d[1]):v===d.length-1?m(d[v]):k(C,d[d.indexOf(C)+1]).replace("@media","@media not all and")}return Bi({keys:d,values:c,up:p,down:m,between:k,only:w,not:_,unit:r},a)}const Ppe={borderRadius:4};function Dy(t,i){return i?sf(t,i,{clone:!1}):t}const qD={xs:0,sm:600,md:900,lg:1200,xl:1536},fj={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${qD[t]}px)`};function hp(t,i,r){const o=t.theme||{};if(Array.isArray(i)){const a=o.breakpoints||fj;return i.reduce((c,d,p)=>(c[a.up(a.keys[p])]=r(i[p]),c),{})}if(typeof i=="object"){const a=o.breakpoints||fj;return Object.keys(i).reduce((c,d)=>{if(Object.keys(a.values||qD).indexOf(d)!==-1){const p=a.up(d);c[p]=r(i[d],d)}else{const p=d;c[p]=i[p]}return c},{})}return r(i)}function Rpe(t={}){var i;return((i=t.keys)==null?void 0:i.reduce((r,o)=>{const a=t.up(o);return r[a]={},r},{}))||{}}function pj(t,i){return t.reduce((r,o)=>{const a=r[o];return(!a||Object.keys(a).length===0)&&delete r[o],r},i)}function eS(t,i,r=!0){if(!i||typeof i!="string")return null;if(t&&t.vars&&r){const o=`vars.${i}`.split(".").reduce((a,c)=>a&&a[c]?a[c]:null,t);if(o!=null)return o}return i.split(".").reduce((o,a)=>o&&o[a]!=null?o[a]:null,t)}function s5(t,i,r,o=r){let a;return typeof t=="function"?a=t(r):Array.isArray(t)?a=t[r]||o:a=eS(t,r)||o,i&&(a=i(a,o,t)),a}function bs(t){const{prop:i,cssProperty:r=t.prop,themeKey:o,transform:a}=t,c=d=>{if(d[i]==null)return null;const p=d[i],m=d.theme,k=eS(m,o)||{};return hp(d,p,w=>{let _=s5(k,a,w);return w===_&&typeof w=="string"&&(_=s5(k,a,`${i}${w==="default"?"":Vm(w)}`,w)),r===!1?_:{[r]:_}})};return c.propTypes={},c.filterProps=[i],c}function Fpe(t){const i={};return r=>(i[r]===void 0&&(i[r]=t(r)),i[r])}const zpe={m:"margin",p:"padding"},Upe={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},mj={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},qpe=Fpe(t=>{if(t.length>2)if(mj[t])t=mj[t];else return[t];const[i,r]=t.split(""),o=zpe[i],a=Upe[r]||"";return Array.isArray(a)?a.map(c=>o+c):[o+a]}),VD=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],HD=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...VD,...HD];function kA(t,i,r,o){var a;const c=(a=eS(t,i,!1))!=null?a:r;return typeof c=="number"?d=>typeof d=="string"?d:c*d:Array.isArray(c)?d=>typeof d=="string"?d:c[d]:typeof c=="function"?c:()=>{}}function y9(t){return kA(t,"spacing",8)}function wA(t,i){if(typeof i=="string"||i==null)return i;const r=Math.abs(i),o=t(r);return i>=0?o:typeof o=="number"?-o:`-${o}`}function Vpe(t,i){return r=>t.reduce((o,a)=>(o[a]=wA(i,r),o),{})}function Hpe(t,i,r,o){if(i.indexOf(r)===-1)return null;const a=qpe(r),c=Vpe(a,o),d=t[r];return hp(t,d,c)}function A9(t,i){const r=y9(t.theme);return Object.keys(t).map(o=>Hpe(t,i,o,r)).reduce(Dy,{})}function Go(t){return A9(t,VD)}Go.propTypes={};Go.filterProps=VD;function Yo(t){return A9(t,HD)}Yo.propTypes={};Yo.filterProps=HD;function $pe(t=8){if(t.mui)return t;const i=y9({spacing:t}),r=(...o)=>(o.length===0?[1]:o).map(a=>{const c=i(a);return typeof c=="number"?`${c}px`:c}).join(" ");return r.mui=!0,r}function tS(...t){const i=t.reduce((o,a)=>(a.filterProps.forEach(c=>{o[c]=a}),o),{}),r=o=>Object.keys(o).reduce((a,c)=>i[c]?Dy(a,i[c](o)):a,{});return r.propTypes={},r.filterProps=t.reduce((o,a)=>o.concat(a.filterProps),[]),r}function td(t){return typeof t!="number"?t:`${t}px solid`}function ld(t,i){return bs({prop:t,themeKey:"borders",transform:i})}const Wpe=ld("border",td),Gpe=ld("borderTop",td),Ype=ld("borderRight",td),Kpe=ld("borderBottom",td),Qpe=ld("borderLeft",td),Zpe=ld("borderColor"),Jpe=ld("borderTopColor"),Xpe=ld("borderRightColor"),eme=ld("borderBottomColor"),tme=ld("borderLeftColor"),nme=ld("outline",td),rme=ld("outlineColor"),nS=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const i=kA(t.theme,"shape.borderRadius",4),r=o=>({borderRadius:wA(i,o)});return hp(t,t.borderRadius,r)}return null};nS.propTypes={};nS.filterProps=["borderRadius"];tS(Wpe,Gpe,Ype,Kpe,Qpe,Zpe,Jpe,Xpe,eme,tme,nS,nme,rme);const rS=t=>{if(t.gap!==void 0&&t.gap!==null){const i=kA(t.theme,"spacing",8),r=o=>({gap:wA(i,o)});return hp(t,t.gap,r)}return null};rS.propTypes={};rS.filterProps=["gap"];const iS=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const i=kA(t.theme,"spacing",8),r=o=>({columnGap:wA(i,o)});return hp(t,t.columnGap,r)}return null};iS.propTypes={};iS.filterProps=["columnGap"];const oS=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const i=kA(t.theme,"spacing",8),r=o=>({rowGap:wA(i,o)});return hp(t,t.rowGap,r)}return null};oS.propTypes={};oS.filterProps=["rowGap"];const ime=bs({prop:"gridColumn"}),ome=bs({prop:"gridRow"}),sme=bs({prop:"gridAutoFlow"}),ame=bs({prop:"gridAutoColumns"}),lme=bs({prop:"gridAutoRows"}),cme=bs({prop:"gridTemplateColumns"}),ume=bs({prop:"gridTemplateRows"}),dme=bs({prop:"gridTemplateAreas"}),hme=bs({prop:"gridArea"});tS(rS,iS,oS,ime,ome,sme,ame,lme,cme,ume,dme,hme);function ck(t,i){return i==="grey"?i:t}const fme=bs({prop:"color",themeKey:"palette",transform:ck}),pme=bs({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ck}),mme=bs({prop:"backgroundColor",themeKey:"palette",transform:ck});tS(fme,pme,mme);function tu(t){return t<=1&&t!==0?`${t*100}%`:t}const gme=bs({prop:"width",transform:tu}),$D=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const i=r=>{var o,a;const c=((o=t.theme)==null||(o=o.breakpoints)==null||(o=o.values)==null?void 0:o[r])||qD[r];return c?((a=t.theme)==null||(a=a.breakpoints)==null?void 0:a.unit)!=="px"?{maxWidth:`${c}${t.theme.breakpoints.unit}`}:{maxWidth:c}:{maxWidth:tu(r)}};return hp(t,t.maxWidth,i)}return null};$D.filterProps=["maxWidth"];const bme=bs({prop:"minWidth",transform:tu}),kme=bs({prop:"height",transform:tu}),wme=bs({prop:"maxHeight",transform:tu}),vme=bs({prop:"minHeight",transform:tu});bs({prop:"size",cssProperty:"width",transform:tu});bs({prop:"size",cssProperty:"height",transform:tu});const yme=bs({prop:"boxSizing"});tS(gme,$D,bme,kme,wme,vme,yme);const vA={border:{themeKey:"borders",transform:td},borderTop:{themeKey:"borders",transform:td},borderRight:{themeKey:"borders",transform:td},borderBottom:{themeKey:"borders",transform:td},borderLeft:{themeKey:"borders",transform:td},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:td},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:nS},color:{themeKey:"palette",transform:ck},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ck},backgroundColor:{themeKey:"palette",transform:ck},p:{style:Yo},pt:{style:Yo},pr:{style:Yo},pb:{style:Yo},pl:{style:Yo},px:{style:Yo},py:{style:Yo},padding:{style:Yo},paddingTop:{style:Yo},paddingRight:{style:Yo},paddingBottom:{style:Yo},paddingLeft:{style:Yo},paddingX:{style:Yo},paddingY:{style:Yo},paddingInline:{style:Yo},paddingInlineStart:{style:Yo},paddingInlineEnd:{style:Yo},paddingBlock:{style:Yo},paddingBlockStart:{style:Yo},paddingBlockEnd:{style:Yo},m:{style:Go},mt:{style:Go},mr:{style:Go},mb:{style:Go},ml:{style:Go},mx:{style:Go},my:{style:Go},margin:{style:Go},marginTop:{style:Go},marginRight:{style:Go},marginBottom:{style:Go},marginLeft:{style:Go},marginX:{style:Go},marginY:{style:Go},marginInline:{style:Go},marginInlineStart:{style:Go},marginInlineEnd:{style:Go},marginBlock:{style:Go},marginBlockStart:{style:Go},marginBlockEnd:{style:Go},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:rS},rowGap:{style:oS},columnGap:{style:iS},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:tu},maxWidth:{style:$D},minWidth:{transform:tu},height:{transform:tu},maxHeight:{transform:tu},minHeight:{transform:tu},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Ame(...t){const i=t.reduce((o,a)=>o.concat(Object.keys(a)),[]),r=new Set(i);return t.every(o=>r.size===Object.keys(o).length)}function _me(t,i){return typeof t=="function"?t(i):t}function _9(){function t(r,o,a,c){const d={[r]:o,theme:a},p=c[r];if(!p)return{[r]:o};const{cssProperty:m=r,themeKey:k,transform:w,style:_}=p;if(o==null)return null;if(k==="typography"&&o==="inherit")return{[r]:o};const C=eS(a,k)||{};return _?_(d):hp(d,o,v=>{let D=s5(C,w,v);return v===D&&typeof v=="string"&&(D=s5(C,w,`${r}${v==="default"?"":Vm(v)}`,v)),m===!1?D:{[m]:D}})}function i(r){var o;const{sx:a,theme:c={},nested:d}=r||{};if(!a)return null;const p=(o=c.unstable_sxConfig)!=null?o:vA;function m(k){let w=k;if(typeof k=="function")w=k(c);else if(typeof k!="object")return k;if(!w)return null;const _=Rpe(c.breakpoints),C=Object.keys(_);let v=_;return Object.keys(w).forEach(D=>{const E=_me(w[D],c);if(E!=null)if(typeof E=="object")if(p[D])v=Dy(v,t(D,E,c,p));else{const O=hp({theme:c},E,M=>({[D]:M}));Ame(O,E)?v[D]=i({sx:E,theme:c,nested:!0}):v=Dy(v,O)}else v=Dy(v,t(D,E,c,p))}),!d&&c.modularCssLayers?{"@layer sx":pj(C,v)}:pj(C,v)}return Array.isArray(a)?a.map(m):m(a)}return i}const sS=_9();sS.filterProps=["sx"];function C9(t,i){const r=this;return r.vars&&typeof r.getColorSchemeSelector=="function"?{[r.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:i}:r.palette.mode===t?i:{}}const Cme=["breakpoints","palette","spacing","shape"];function x9(t={},...i){const{breakpoints:r={},palette:o={},spacing:a,shape:c={}}=t,d=Ym(t,Cme),p=v9(r),m=$pe(a);let k=sf({breakpoints:p,direction:"ltr",components:{},palette:Bi({mode:"light"},o),spacing:m,shape:Bi({},Ppe,c)},d);return k.applyStyles=C9,k=i.reduce((w,_)=>sf(w,_),k),k.unstable_sxConfig=Bi({},vA,d==null?void 0:d.unstable_sxConfig),k.unstable_sx=function(w){return sS({sx:w,theme:this})},k}const xme=Object.freeze(Object.defineProperty({__proto__:null,default:x9,private_createBreakpoints:v9,unstable_applyStyles:C9},Symbol.toStringTag,{value:"Module"})),Sme=kp(xme),Eme=["sx"],Dme=t=>{var i,r;const o={systemProps:{},otherProps:{}},a=(i=t==null||(r=t.theme)==null?void 0:r.unstable_sxConfig)!=null?i:vA;return Object.keys(t).forEach(c=>{a[c]?o.systemProps[c]=t[c]:o.otherProps[c]=t[c]}),o};function Ime(t){const{sx:i}=t,r=Ym(t,Eme),{systemProps:o,otherProps:a}=Dme(r);let c;return Array.isArray(i)?c=[o,...i]:typeof i=="function"?c=(...d)=>{const p=i(...d);return Sm(p)?Bi({},o,p):o}:c=Bi({},o,i),Bi({},a,{sx:c})}const Tme=Object.freeze(Object.defineProperty({__proto__:null,default:sS,extendSxProp:Ime,unstable_createStyleFunctionSx:_9,unstable_defaultSxConfig:vA},Symbol.toStringTag,{value:"Module"})),Mme=kp(Tme);var gj;function Nme(){if(gj)return Vg;gj=1;var t=Tk();Object.defineProperty(Vg,"__esModule",{value:!0}),Vg.default=J,Vg.shouldForwardProp=D,Vg.systemDefaultTheme=void 0;var i=t(Ffe()),r=t(zfe()),o=_(Mpe),a=Npe;t(Ope),t(Bpe);var c=t(Sme),d=t(Mme);const p=["ownerState"],m=["variants"],k=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function w(H){if(typeof WeakMap!="function")return null;var z=new WeakMap,Z=new WeakMap;return(w=function(Y){return Y?Z:z})(H)}function _(H,z){if(H&&H.__esModule)return H;if(H===null||typeof H!="object"&&typeof H!="function")return{default:H};var Z=w(z);if(Z&&Z.has(H))return Z.get(H);var Y={__proto__:null},se=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var X in H)if(X!=="default"&&Object.prototype.hasOwnProperty.call(H,X)){var K=se?Object.getOwnPropertyDescriptor(H,X):null;K&&(K.get||K.set)?Object.defineProperty(Y,X,K):Y[X]=H[X]}return Y.default=H,Z&&Z.set(H,Y),Y}function C(H){return Object.keys(H).length===0}function v(H){return typeof H=="string"&&H.charCodeAt(0)>96}function D(H){return H!=="ownerState"&&H!=="theme"&&H!=="sx"&&H!=="as"}function E(H,z){return z&&H&&typeof H=="object"&&H.styles&&!H.styles.startsWith("@layer")&&(H.styles=`@layer ${z}{${String(H.styles)}}`),H}const O=Vg.systemDefaultTheme=(0,c.default)(),M=H=>H&&H.charAt(0).toLowerCase()+H.slice(1);function j({defaultTheme:H,theme:z,themeId:Z}){return C(z)?H:z[Z]||z}function F(H){return H?(z,Z)=>Z[H]:null}function G(H,z,Z){let{ownerState:Y}=z,se=(0,r.default)(z,p);const X=typeof H=="function"?H((0,i.default)({ownerState:Y},se)):H;if(Array.isArray(X))return X.flatMap(K=>G(K,(0,i.default)({ownerState:Y},se),Z));if(X&&typeof X=="object"&&Array.isArray(X.variants)){const{variants:K=[]}=X;let U=(0,r.default)(X,m);return K.forEach(q=>{let fe=!0;if(typeof q.props=="function"?fe=q.props((0,i.default)({ownerState:Y},se,Y)):Object.keys(q.props).forEach(ue=>{(Y==null?void 0:Y[ue])!==q.props[ue]&&se[ue]!==q.props[ue]&&(fe=!1)}),fe){Array.isArray(U)||(U=[U]);const ue=typeof q.style=="function"?q.style((0,i.default)({ownerState:Y},se,Y)):q.style;U.push(Z?E((0,o.internal_serializeStyles)(ue),Z):ue)}}),U}return Z?E((0,o.internal_serializeStyles)(X),Z):X}function J(H={}){const{themeId:z,defaultTheme:Z=O,rootShouldForwardProp:Y=D,slotShouldForwardProp:se=D}=H,X=K=>(0,d.default)((0,i.default)({},K,{theme:j((0,i.default)({},K,{defaultTheme:Z,themeId:z}))}));return X.__mui_systemSx=!0,(K,U={})=>{(0,o.internal_processStyles)(K,Oe=>Oe.filter(Ue=>!(Ue!=null&&Ue.__mui_systemSx)));const{name:q,slot:fe,skipVariantsResolver:ue,skipSx:de,overridesResolver:ge=F(M(fe))}=U,Ie=(0,r.default)(U,k),ce=q&&q.startsWith("Mui")||fe?"components":"custom",Te=ue!==void 0?ue:fe&&fe!=="Root"&&fe!=="root"||!1,re=de||!1;let te,ke=D;fe==="Root"||fe==="root"?ke=Y:fe?ke=se:v(K)&&(ke=void 0);const be=(0,o.default)(K,(0,i.default)({shouldForwardProp:ke,label:te},Ie)),ve=Oe=>typeof Oe=="function"&&Oe.__emotion_real!==Oe||(0,a.isPlainObject)(Oe)?Ue=>{const Ze=j({theme:Ue.theme,defaultTheme:Z,themeId:z});return G(Oe,(0,i.default)({},Ue,{theme:Ze}),Ze.modularCssLayers?ce:void 0)}:Oe,Re=(Oe,...Ue)=>{let Ze=ve(Oe);const Ge=Ue?Ue.map(ve):[];q&&ge&&Ge.push(oe=>{const Le=j((0,i.default)({},oe,{defaultTheme:Z,themeId:z}));if(!Le.components||!Le.components[q]||!Le.components[q].styleOverrides)return null;const we=Le.components[q].styleOverrides,Ee={};return Object.entries(we).forEach(([Ae,Ne])=>{Ee[Ae]=G(Ne,(0,i.default)({},oe,{theme:Le}),Le.modularCssLayers?"theme":void 0)}),ge(oe,Ee)}),q&&!Te&&Ge.push(oe=>{var Le;const we=j((0,i.default)({},oe,{defaultTheme:Z,themeId:z})),Ee=we==null||(Le=we.components)==null||(Le=Le[q])==null?void 0:Le.variants;return G({variants:Ee},(0,i.default)({},oe,{theme:we}),we.modularCssLayers?"theme":void 0)}),re||Ge.push(X);const ft=Ge.length-Ue.length;if(Array.isArray(Oe)&&ft>0){const oe=new Array(ft).fill("");Ze=[...Oe,...oe],Ze.raw=[...Oe.raw,...oe]}const gt=be(Ze,...Ge);return K.muiName&&(gt.muiName=K.muiName),gt};return be.withConfig&&(Re.withConfig=be.withConfig),Re}}return Vg}var Ome=Nme();const Bme=mA(Ome);function jme(t,i){return Bi({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},i)}var Io={};const Lme=kp(tfe),Pme=kp(Ofe);var bj;function Rme(){if(bj)return Io;bj=1;var t=Tk();Object.defineProperty(Io,"__esModule",{value:!0}),Io.alpha=D,Io.blend=H,Io.colorChannel=void 0,Io.darken=O,Io.decomposeColor=d,Io.emphasize=G,Io.getContrastRatio=v,Io.getLuminance=C,Io.hexToRgb=a,Io.hslToRgb=_,Io.lighten=j,Io.private_safeAlpha=E,Io.private_safeColorChannel=void 0,Io.private_safeDarken=M,Io.private_safeEmphasize=J,Io.private_safeLighten=F,Io.recomposeColor=k,Io.rgbToHex=w;var i=t(Lme),r=t(Pme);function o(z,Z=0,Y=1){return(0,r.default)(z,Z,Y)}function a(z){z=z.slice(1);const Z=new RegExp(`.{1,${z.length>=6?2:1}}`,"g");let Y=z.match(Z);return Y&&Y[0].length===1&&(Y=Y.map(se=>se+se)),Y?`rgb${Y.length===4?"a":""}(${Y.map((se,X)=>X<3?parseInt(se,16):Math.round(parseInt(se,16)/255*1e3)/1e3).join(", ")})`:""}function c(z){const Z=z.toString(16);return Z.length===1?`0${Z}`:Z}function d(z){if(z.type)return z;if(z.charAt(0)==="#")return d(a(z));const Z=z.indexOf("("),Y=z.substring(0,Z);if(["rgb","rgba","hsl","hsla","color"].indexOf(Y)===-1)throw new Error((0,i.default)(9,z));let se=z.substring(Z+1,z.length-1),X;if(Y==="color"){if(se=se.split(" "),X=se.shift(),se.length===4&&se[3].charAt(0)==="/"&&(se[3]=se[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(X)===-1)throw new Error((0,i.default)(10,X))}else se=se.split(",");return se=se.map(K=>parseFloat(K)),{type:Y,values:se,colorSpace:X}}const p=z=>{const Z=d(z);return Z.values.slice(0,3).map((Y,se)=>Z.type.indexOf("hsl")!==-1&&se!==0?`${Y}%`:Y).join(" ")};Io.colorChannel=p;const m=(z,Z)=>{try{return p(z)}catch{return z}};Io.private_safeColorChannel=m;function k(z){const{type:Z,colorSpace:Y}=z;let{values:se}=z;return Z.indexOf("rgb")!==-1?se=se.map((X,K)=>K<3?parseInt(X,10):X):Z.indexOf("hsl")!==-1&&(se[1]=`${se[1]}%`,se[2]=`${se[2]}%`),Z.indexOf("color")!==-1?se=`${Y} ${se.join(" ")}`:se=`${se.join(", ")}`,`${Z}(${se})`}function w(z){if(z.indexOf("#")===0)return z;const{values:Z}=d(z);return`#${Z.map((Y,se)=>c(se===3?Math.round(255*Y):Y)).join("")}`}function _(z){z=d(z);const{values:Z}=z,Y=Z[0],se=Z[1]/100,X=Z[2]/100,K=se*Math.min(X,1-X),U=(ue,de=(ue+Y/30)%12)=>X-K*Math.max(Math.min(de-3,9-de,1),-1);let q="rgb";const fe=[Math.round(U(0)*255),Math.round(U(8)*255),Math.round(U(4)*255)];return z.type==="hsla"&&(q+="a",fe.push(Z[3])),k({type:q,values:fe})}function C(z){z=d(z);let Z=z.type==="hsl"||z.type==="hsla"?d(_(z)).values:z.values;return Z=Z.map(Y=>(z.type!=="color"&&(Y/=255),Y<=.03928?Y/12.92:((Y+.055)/1.055)**2.4)),Number((.2126*Z[0]+.7152*Z[1]+.0722*Z[2]).toFixed(3))}function v(z,Z){const Y=C(z),se=C(Z);return(Math.max(Y,se)+.05)/(Math.min(Y,se)+.05)}function D(z,Z){return z=d(z),Z=o(Z),(z.type==="rgb"||z.type==="hsl")&&(z.type+="a"),z.type==="color"?z.values[3]=`/${Z}`:z.values[3]=Z,k(z)}function E(z,Z,Y){try{return D(z,Z)}catch{return z}}function O(z,Z){if(z=d(z),Z=o(Z),z.type.indexOf("hsl")!==-1)z.values[2]*=1-Z;else if(z.type.indexOf("rgb")!==-1||z.type.indexOf("color")!==-1)for(let Y=0;Y<3;Y+=1)z.values[Y]*=1-Z;return k(z)}function M(z,Z,Y){try{return O(z,Z)}catch{return z}}function j(z,Z){if(z=d(z),Z=o(Z),z.type.indexOf("hsl")!==-1)z.values[2]+=(100-z.values[2])*Z;else if(z.type.indexOf("rgb")!==-1)for(let Y=0;Y<3;Y+=1)z.values[Y]+=(255-z.values[Y])*Z;else if(z.type.indexOf("color")!==-1)for(let Y=0;Y<3;Y+=1)z.values[Y]+=(1-z.values[Y])*Z;return k(z)}function F(z,Z,Y){try{return j(z,Z)}catch{return z}}function G(z,Z=.15){return C(z)>.5?O(z,Z):j(z,Z)}function J(z,Z,Y){try{return G(z,Z)}catch{return z}}function H(z,Z,Y,se=1){const X=(fe,ue)=>Math.round((fe**(1/se)*(1-Y)+ue**(1/se)*Y)**se),K=d(z),U=d(Z),q=[X(K.values[0],U.values[0]),X(K.values[1],U.values[1]),X(K.values[2],U.values[2])];return k({type:"rgb",values:q})}return Io}var j4=Rme();const Gy={black:"#000",white:"#fff"},Fme={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},z0={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},U0={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},hy={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},q0={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},V0={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},H0={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},zme=["mode","contrastThreshold","tonalOffset"],kj={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Gy.white,default:Gy.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},SE={text:{primary:Gy.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Gy.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function wj(t,i,r,o){const a=o.light||o,c=o.dark||o*1.5;t[i]||(t.hasOwnProperty(r)?t[i]=t[r]:i==="light"?t.light=j4.lighten(t.main,a):i==="dark"&&(t.dark=j4.darken(t.main,c)))}function Ume(t="light"){return t==="dark"?{main:q0[200],light:q0[50],dark:q0[400]}:{main:q0[700],light:q0[400],dark:q0[800]}}function qme(t="light"){return t==="dark"?{main:z0[200],light:z0[50],dark:z0[400]}:{main:z0[500],light:z0[300],dark:z0[700]}}function Vme(t="light"){return t==="dark"?{main:U0[500],light:U0[300],dark:U0[700]}:{main:U0[700],light:U0[400],dark:U0[800]}}function Hme(t="light"){return t==="dark"?{main:V0[400],light:V0[300],dark:V0[700]}:{main:V0[700],light:V0[500],dark:V0[900]}}function $me(t="light"){return t==="dark"?{main:H0[400],light:H0[300],dark:H0[700]}:{main:H0[800],light:H0[500],dark:H0[900]}}function Wme(t="light"){return t==="dark"?{main:hy[400],light:hy[300],dark:hy[700]}:{main:"#ed6c02",light:hy[500],dark:hy[900]}}function Gme(t){const{mode:i="light",contrastThreshold:r=3,tonalOffset:o=.2}=t,a=Ym(t,zme),c=t.primary||Ume(i),d=t.secondary||qme(i),p=t.error||Vme(i),m=t.info||Hme(i),k=t.success||$me(i),w=t.warning||Wme(i);function _(D){return j4.getContrastRatio(D,SE.text.primary)>=r?SE.text.primary:kj.text.primary}const C=({color:D,name:E,mainShade:O=500,lightShade:M=300,darkShade:j=700})=>{if(D=Bi({},D),!D.main&&D[O]&&(D.main=D[O]),!D.hasOwnProperty("main"))throw new Error(Hy(11,E?` (${E})`:"",O));if(typeof D.main!="string")throw new Error(Hy(12,E?` (${E})`:"",JSON.stringify(D.main)));return wj(D,"light",M,o),wj(D,"dark",j,o),D.contrastText||(D.contrastText=_(D.main)),D},v={dark:SE,light:kj};return sf(Bi({common:Bi({},Gy),mode:i,primary:C({color:c,name:"primary"}),secondary:C({color:d,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:C({color:p,name:"error"}),warning:C({color:w,name:"warning"}),info:C({color:m,name:"info"}),success:C({color:k,name:"success"}),grey:Fme,contrastThreshold:r,getContrastText:_,augmentColor:C,tonalOffset:o},v[i]),a)}const Yme=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Kme(t){return Math.round(t*1e5)/1e5}const vj={textTransform:"uppercase"},yj='"Roboto", "Helvetica", "Arial", sans-serif';function Qme(t,i){const r=typeof i=="function"?i(t):i,{fontFamily:o=yj,fontSize:a=14,fontWeightLight:c=300,fontWeightRegular:d=400,fontWeightMedium:p=500,fontWeightBold:m=700,htmlFontSize:k=16,allVariants:w,pxToRem:_}=r,C=Ym(r,Yme),v=a/14,D=_||(M=>`${M/k*v}rem`),E=(M,j,F,G,J)=>Bi({fontFamily:o,fontWeight:M,fontSize:D(j),lineHeight:F},o===yj?{letterSpacing:`${Kme(G/j)}em`}:{},J,w),O={h1:E(c,96,1.167,-1.5),h2:E(c,60,1.2,-.5),h3:E(d,48,1.167,0),h4:E(d,34,1.235,.25),h5:E(d,24,1.334,0),h6:E(p,20,1.6,.15),subtitle1:E(d,16,1.75,.15),subtitle2:E(p,14,1.57,.1),body1:E(d,16,1.5,.15),body2:E(d,14,1.43,.15),button:E(p,14,1.75,.4,vj),caption:E(d,12,1.66,.4),overline:E(d,12,2.66,1,vj),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return sf(Bi({htmlFontSize:k,pxToRem:D,fontFamily:o,fontSize:a,fontWeightLight:c,fontWeightRegular:d,fontWeightMedium:p,fontWeightBold:m},O),C,{clone:!1})}const Zme=.2,Jme=.14,Xme=.12;function mo(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Zme})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${Jme})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Xme})`].join(",")}const ege=["none",mo(0,2,1,-1,0,1,1,0,0,1,3,0),mo(0,3,1,-2,0,2,2,0,0,1,5,0),mo(0,3,3,-2,0,3,4,0,0,1,8,0),mo(0,2,4,-1,0,4,5,0,0,1,10,0),mo(0,3,5,-1,0,5,8,0,0,1,14,0),mo(0,3,5,-1,0,6,10,0,0,1,18,0),mo(0,4,5,-2,0,7,10,1,0,2,16,1),mo(0,5,5,-3,0,8,10,1,0,3,14,2),mo(0,5,6,-3,0,9,12,1,0,3,16,2),mo(0,6,6,-3,0,10,14,1,0,4,18,3),mo(0,6,7,-4,0,11,15,1,0,4,20,3),mo(0,7,8,-4,0,12,17,2,0,5,22,4),mo(0,7,8,-4,0,13,19,2,0,5,24,4),mo(0,7,9,-4,0,14,21,2,0,5,26,4),mo(0,8,9,-5,0,15,22,2,0,6,28,5),mo(0,8,10,-5,0,16,24,2,0,6,30,5),mo(0,8,11,-5,0,17,26,2,0,6,32,5),mo(0,9,11,-5,0,18,28,2,0,7,34,6),mo(0,9,12,-6,0,19,29,2,0,7,36,6),mo(0,10,13,-6,0,20,31,3,0,8,38,7),mo(0,10,13,-6,0,21,33,3,0,8,40,7),mo(0,10,14,-6,0,22,35,3,0,8,42,7),mo(0,11,14,-7,0,23,36,3,0,9,44,8),mo(0,11,15,-7,0,24,38,3,0,9,46,8)],tge=["duration","easing","delay"],nge={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},rge={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Aj(t){return`${Math.round(t)}ms`}function ige(t){if(!t)return 0;const i=t/36;return Math.round((4+15*i**.25+i/5)*10)}function oge(t){const i=Bi({},nge,t.easing),r=Bi({},rge,t.duration);return Bi({getAutoHeightDuration:ige,create:(o=["all"],a={})=>{const{duration:c=r.standard,easing:d=i.easeInOut,delay:p=0}=a;return Ym(a,tge),(Array.isArray(o)?o:[o]).map(m=>`${m} ${typeof c=="string"?c:Aj(c)} ${d} ${typeof p=="string"?p:Aj(p)}`).join(",")}},t,{easing:i,duration:r})}const sge={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},age=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function lge(t={},...i){const{mixins:r={},palette:o={},transitions:a={},typography:c={}}=t,d=Ym(t,age);if(t.vars&&t.generateCssVars===void 0)throw new Error(Hy(18));const p=Gme(o),m=x9(t);let k=sf(m,{mixins:jme(m.breakpoints,r),palette:p,shadows:ege.slice(),typography:Qme(p,c),transitions:oge(a),zIndex:Bi({},sge)});return k=sf(k,d),k=i.reduce((w,_)=>sf(w,_),k),k.unstable_sxConfig=Bi({},vA,d==null?void 0:d.unstable_sxConfig),k.unstable_sx=function(w){return sS({sx:w,theme:this})},k}const cge=lge(),uge="$$material";function dge(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const hge=t=>dge(t)&&t!=="classes",fge=Bme({themeId:uge,defaultTheme:cge,rootShouldForwardProp:hge});function pge(t){return u9("MuiSvgIcon",t)}Mfe("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const mge=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],gge=t=>{const{color:i,fontSize:r,classes:o}=t,a={root:["root",i!=="inherit"&&`color${Vm(i)}`,`fontSize${Vm(r)}`]};return Dfe(a,pge,o)},bge=fge("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,i)=>{const{ownerState:r}=t;return[i.root,r.color!=="inherit"&&i[`color${Vm(r.color)}`],i[`fontSize${Vm(r.fontSize)}`]]}})(({theme:t,ownerState:i})=>{var r,o,a,c,d,p,m,k,w,_,C,v,D;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:i.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(r=t.transitions)==null||(o=r.create)==null?void 0:o.call(r,"fill",{duration:(a=t.transitions)==null||(a=a.duration)==null?void 0:a.shorter}),fontSize:{inherit:"inherit",small:((c=t.typography)==null||(d=c.pxToRem)==null?void 0:d.call(c,20))||"1.25rem",medium:((p=t.typography)==null||(m=p.pxToRem)==null?void 0:m.call(p,24))||"1.5rem",large:((k=t.typography)==null||(w=k.pxToRem)==null?void 0:w.call(k,35))||"2.1875rem"}[i.fontSize],color:(_=(C=(t.vars||t).palette)==null||(C=C[i.color])==null?void 0:C.main)!=null?_:{action:(v=(t.vars||t).palette)==null||(v=v.action)==null?void 0:v.active,disabled:(D=(t.vars||t).palette)==null||(D=D.action)==null?void 0:D.disabled,inherit:void 0}[i.color]}}),L4=ae.forwardRef(function(t,i){const r=Rfe({props:t,name:"MuiSvgIcon"}),{children:o,className:a,color:c="inherit",component:d="svg",fontSize:p="medium",htmlColor:m,inheritViewBox:k=!1,titleAccess:w,viewBox:_="0 0 24 24"}=r,C=Ym(r,mge),v=ae.isValidElement(o)&&o.type==="svg",D=Bi({},r,{color:c,component:d,fontSize:p,instanceFontSize:t.fontSize,inheritViewBox:k,viewBox:_,hasSvgAsChild:v}),E={};k||(E.viewBox=_);const O=gge(D);return An.jsxs(bge,Bi({as:d,className:Bfe(O.root,a),focusable:"false",color:m,"aria-hidden":w?void 0:!0,role:w?"img":void 0,ref:i},E,C,v&&o.props,{ownerState:D,children:[v?o.props.children:o,w?An.jsx("title",{children:w}):null]}))});L4.muiName="SvgIcon";function kge(t,i){function r(o,a){return An.jsx(L4,Bi({"data-testid":`${i}Icon`,ref:a},o,{children:t}))}return r.muiName=L4.muiName,ae.memo(ae.forwardRef(r))}const wge={configure:t=>{c9.configure(t)}},vge=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Vm,createChainedFunction:lfe,createSvgIcon:kge,debounce:cfe,deprecatedPropType:ufe,isMuiElement:dfe,ownerDocument:s9,ownerWindow:hfe,requirePropFactory:ffe,setRef:a9,unstable_ClassNameGenerator:wge,unstable_useEnhancedEffect:l9,unstable_useId:mfe,unsupportedProp:gfe,useControlled:bfe,useEventCallback:kfe,useForkRef:wfe,useIsFocusVisible:Efe},Symbol.toStringTag,{value:"Module"})),yge=kp(vge);var _j;function aS(){return _j||(_j=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.createSvgIcon}});var i=yge}(GB)),GB}var Cj;function Age(){if(Cj)return uy;Cj=1;var t=Tk();Object.defineProperty(uy,"__esModule",{value:!0}),uy.default=void 0;var i=t(aS()),r=gA();return uy.default=(0,i.default)((0,r.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),uy}var _ge=Age();const xj=mA(_ge);var fy={},Sj;function Cge(){if(Sj)return fy;Sj=1;var t=Tk();Object.defineProperty(fy,"__esModule",{value:!0}),fy.default=void 0;var i=t(aS()),r=gA();return fy.default=(0,i.default)((0,r.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),fy}var xge=Cge();const Sge=mA(xge);var py={},Ej;function Ege(){if(Ej)return py;Ej=1;var t=Tk();Object.defineProperty(py,"__esModule",{value:!0}),py.default=void 0;var i=t(aS()),r=gA();return py.default=(0,i.default)((0,r.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),py}var Dge=Ege();const Ige=mA(Dge);var my={},Dj;function Tge(){if(Dj)return my;Dj=1;var t=Tk();Object.defineProperty(my,"__esModule",{value:!0}),my.default=void 0;var i=t(aS()),r=gA();return my.default=(0,i.default)((0,r.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),my}var Mge=Tge();const Nge=mA(Mge),Wr={primary:"#0B53C0",primaryLight:"#CDDAFF",background:"#F0F4FF",white:"#FFFFFF",text:"#000000",success:"#4caf50",error:"#f44336",disabled:"#ccc"},Vr={modal:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:{xs:"95%",sm:"80%",md:700},maxHeight:"90vh",bgcolor:Wr.background,borderRadius:"16px",boxShadow:"0px 10px 30px rgba(0, 0, 0, 0.2)",p:3,outline:"none",overflow:"hidden",display:"flex",flexDirection:"column"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,pb:2,borderBottom:`2px solid ${Wr.primaryLight}`},title:{fontFamily:"Staatliches, Arial, sans-serif",fontSize:{xs:"1.5rem",sm:"2rem"},color:Wr.text},closeButton:{color:Wr.text,"&:hover":{bgcolor:Wr.primaryLight}},progressBar:{height:8,borderRadius:4,bgcolor:Wr.disabled,mb:3,"& .MuiLinearProgress-bar":{bgcolor:Wr.primary,borderRadius:4}},questionCard:{bgcolor:Wr.white,borderRadius:"12px",p:3,mb:3,minHeight:200,boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.1)"},questionText:{fontFamily:"Gabarito, Arial, sans-serif",fontSize:"1.1rem",color:Wr.text,mb:3},categoryBadge:{display:"inline-block",px:2,py:.5,bgcolor:Wr.primaryLight,color:Wr.text,borderRadius:"20px",fontSize:"0.85rem",fontFamily:"Gabarito, Arial, sans-serif",mb:2},answerInput:{width:"100%","& .MuiOutlinedInput-root":{fontFamily:"Gabarito, Arial, sans-serif","& fieldset":{borderColor:Wr.disabled},"&:hover fieldset":{borderColor:Wr.primary},"&.Mui-focused fieldset":{borderColor:Wr.primary}}},navigationDots:{display:"flex",justifyContent:"center",gap:1,my:2},dot:{width:12,height:12,borderRadius:"50%",border:"none",cursor:"pointer",transition:"all 0.3s","&:hover":{transform:"scale(1.2)"}},dotStates:{unanswered:{bgcolor:Wr.disabled},answered:{bgcolor:Wr.primaryLight},current:{bgcolor:Wr.primary,transform:"scale(1.3)"}},navigationButtons:{display:"flex",justifyContent:"space-between",gap:2,mt:2},button:{fontFamily:"Staatliches, sans-serif",fontSize:"1.1rem",py:1,px:3,borderRadius:"20px",textTransform:"none"},primaryButton:{bgcolor:Wr.primaryLight,color:Wr.text,"&:hover":{bgcolor:Wr.primary,color:Wr.white}},secondaryButton:{bgcolor:Wr.white,color:Wr.text,border:`2px solid ${Wr.primaryLight}`,"&:hover":{bgcolor:Wr.primaryLight}},submitButton:{bgcolor:Wr.success,color:Wr.white,"&:hover":{bgcolor:"#388e3c"}},resultsContainer:{flex:1,overflowY:"auto",px:2},scoreCard:{bgcolor:Wr.white,borderRadius:"12px",p:3,mb:3,textAlign:"center",boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.1)"},scoreText:{fontSize:"3rem",fontFamily:"Staatliches, sans-serif",color:Wr.primary},feedbackCard:{bgcolor:Wr.white,borderRadius:"8px",p:2,mb:2,border:`1px solid ${Wr.disabled}`},correctAnswer:{borderLeft:`4px solid ${Wr.success}`},incorrectAnswer:{borderLeft:`4px solid ${Wr.error}`}},S9="https://rag-flask-api.onrender.com",Oge=async t=>{if(!(t!=null&&t.trim()))throw new Error("Chatbot ID is required");try{const i=await fetch(`${S9}/get_quiz?chatbot_id=${encodeURIComponent(t)}`,{method:"GET",headers:{"Content-Type":"application/json"}}),r=await i.json();if(!i.ok||!r.success)throw new Error(r.error||"Failed to fetch quiz");return{quizId:r.quiz_id,questions:r.questions||[]}}catch(i){throw console.error("Error fetching quiz:",i),i}},Bge=async(t,i,r)=>{if(!t||!i||!r||Object.keys(r).length===0)throw new Error("Invalid quiz submission");try{const o=await fetch(`${S9}/grade_quiz`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chatbot_id:t,quiz_id:i,answers:r})}),a=await o.json();if(!o.ok||!a.success)throw new Error(a.error||"Quiz grading failed");return a.summary}catch(o){throw console.error("Error grading quiz:",o),o}},jge=(t,i)=>{if(t)try{const r=`quiz_progress_${t}`;localStorage.setItem(r,JSON.stringify({answers:i,timestamp:new Date().toISOString()}))}catch(r){console.error("Failed to save progress:",r)}},Lge=t=>{if(!t)return null;try{const i=`quiz_progress_${t}`,r=localStorage.getItem(i);if(!r)return null;const o=JSON.parse(r),a=new Date(o.timestamp);return(new Date-a)/(1e3*60*60)>24?(localStorage.removeItem(i),null):o.answers}catch(i){return console.error("Failed to load progress:",i),null}},EE=t=>{if(t)try{const i=`quiz_progress_${t}`;localStorage.removeItem(i)}catch(i){console.error("Failed to clear progress:",i)}},Pge=t=>{const i=((t==null?void 0:t.bloom_level)||(t==null?void 0:t.bloomLevel)||"").toString().toLowerCase();return i==="remember"||i==="understand"?"lower":i==="apply"?"middle":i==="analyze"||i==="evaluate"||i==="create"?"upper":"lower"},Rge=t=>t==="easy"?5:t==="hard"?10:8,Fge=(t,i)=>{const r=[],o=[],a=[];t.forEach(k=>{const w=Pge(k);w==="lower"?r.push(k):w==="middle"?o.push(k):a.push(k)});const c=k=>{const w=[...k];for(let _=w.length-1;_>0;_-=1){const C=Math.floor(Math.random()*(_+1));[w[_],w[C]]=[w[C],w[_]]}return w},d=Rge(i);let p=[];if(i==="easy"){const k=c(r),w=c(o),_=c(a);p=[...k.slice(0,d)],p.length<d&&(p=[...p,...w.slice(0,d-p.length)]),p.length<d&&(p=[...p,..._.slice(0,d-p.length)])}else if(i==="medium"){const k=c(o),w=c(r),_=c(a);p=[...k.slice(0,d)],p.length<d&&(p=[...p,...w.slice(0,d-p.length)]),p.length<d&&(p=[...p,..._.slice(0,d-p.length)])}else{const k=c(a),w=c(o),_=c(r);p=[...k.slice(0,d)],p.length<d&&(p=[...p,...w.slice(0,d-p.length)]),p.length<d&&(p=[...p,..._.slice(0,d-p.length)])}const m=Math.min(d,p.length);return{selected:p.slice(0,m),selection:{mode:i,target:d,finalCount:m},totalAvailable:{lower:r.length,middle:o.length,upper:a.length}}},zge=ae.forwardRef(({chatbotId:t,open:i,onClose:r,difficulty:o="medium",onQuizStart:a,onQuizProgress:c,onAnswerChange:d,onQuizSubmit:p,onQuizClose:m,onError:k},w)=>{const[_,C]=ae.useState(null),[v,D]=ae.useState([]),[E,O]=ae.useState(null),[M,j]=ae.useState(0),[F,G]=ae.useState({}),[J,H]=ae.useState(!0),[z,Z]=ae.useState(!1),[Y,se]=ae.useState(""),[X,K]=ae.useState(!1),[U,q]=ae.useState(null),fe=ae.useRef(null),ue=ae.useRef(null);ae.useEffect(()=>{i&&t&&de()},[i,t,o]),ae.useEffect(()=>{if(ue.current&&Object.keys(F).length>0){jge(ue.current,F);const Ze=v.length,Ge=Ze>0?Object.keys(F).length/Ze*100:0;c==null||c({quizId:_==null?void 0:_.quizId,answers:F,percentComplete:Ge,selection:E||void 0})}},[F,ue.current,v.length]);const de=async()=>{H(!0),se(""),K(!1),q(null),j(0),G({}),D([]),O(null),fe.current=new Date;try{const Ze=await Oge(t),{selected:Ge,selection:ft,totalAvailable:gt}=Fge((Ze==null?void 0:Ze.questions)||[],o);C(Ze),D(Ge),O(ft);const oe=`${Ze.quizId}::${o}`;ue.current=oe;const Le=Lge(oe);Le&&G(Le),a==null||a({quizId:Ze.quizId,chatbotId:t,startedAt:fe.current,selection:ft,totalAvailable:gt})}catch(Ze){const Ge=(Ze==null?void 0:Ze.message)||"Failed to load quiz";se(Ge),k==null||k(Ze,"load")}finally{H(!1)}},ge=v[M],Ie=v.length||0,ce=Ie>0?(M+1)/Ie*100:0,Te=Ze=>{if(!ge)return;const Ge={...F,[ge.id]:Ze};G(Ge),d==null||d({quizId:_==null?void 0:_.quizId,questionId:ge.id,value:Ze,answers:Ge})},re=()=>{M<Ie-1&&j(Ze=>Ze+1)},te=()=>{M>0&&j(Ze=>Ze-1)},ke=Ze=>j(Ze),be=async()=>{if(!_)return;const Ze=v.filter(Ge=>!F[Ge.id]);if(Ze.length>0){se(`Please answer all questions (${Ze.length} remaining)`);return}Z(!0),se("");try{const Ge=new Date,ft={};v.forEach(oe=>{ft[oe.id]=F[oe.id]});const gt=await Bge(t,_.quizId,ft);q(gt),K(!0),ue.current&&EE(ue.current),p==null||p({quizId:_.quizId,chatbotId:t,startedAt:fe.current,submittedAt:Ge,answers:ft,summary:gt,selection:E||void 0})}catch(Ge){const ft=`Failed to submit quiz: ${(Ge==null?void 0:Ge.message)||""}`.trim();se(ft),k==null||k(Ge,"submit")}finally{Z(!1)}},ve=()=>{ue.current&&EE(ue.current),m==null||m({quizId:_==null?void 0:_.quizId,chatbotId:t,answers:F,summary:U,completed:X,closedAt:new Date,selection:E||void 0}),r()},Re=(Ze,Ge)=>{const ft=Ge===M,gt=!!F[Ze];return{isCurrent:ft,hasAnswer:gt}},Oe=()=>{const Ze=(ge==null?void 0:ge.answer_type)||"text",Ge=F[ge==null?void 0:ge.id]||"";return An.jsx(_n,{multiline:Ze==="long_answer",rows:Ze==="long_answer"?6:1,value:Ge,onChange:ft=>Te(ft.target.value),placeholder:"Enter your answer here...",sx:Vr.answerInput,disabled:z})};if(ae.useImperativeHandle(w,()=>({reloadQuiz:de,clearProgress:()=>ue.current&&EE(ue.current),submit:be,getAnswers:()=>F,getSummary:()=>U,close:ve})),X&&U){const Ze=(()=>{const ft=U==null?void 0:U.percent;if(typeof ft=="number"&&Number.isFinite(ft))return Math.round(ft);const gt=U==null?void 0:U.score;if(typeof gt=="number"&&Number.isFinite(gt))return Math.round(gt);const oe=Number(U==null?void 0:U.total_score)||0,Le=Number(U==null?void 0:U.total_max)||0;return Le>0?Math.round(oe/Le*100):0})(),Ge=U.items||U.questions||{};return An.jsx(Tx,{open:i,onClose:ve,children:An.jsxs(Be,{sx:Vr.modal,children:[An.jsxs(Be,{sx:Vr.header,children:[An.jsx(Pe,{sx:Vr.title,children:"Quiz Results"}),An.jsx(ur,{onClick:ve,sx:Vr.closeButton,children:An.jsx(xj,{})})]}),An.jsxs(Be,{sx:Vr.resultsContainer,children:[An.jsxs(Be,{sx:Vr.scoreCard,children:[An.jsxs(Pe,{sx:Vr.scoreText,children:[Ze,"%"]}),An.jsx(Pe,{variant:"h6",sx:{fontFamily:"Gabarito"},children:"Final Score"}),U.total_score!==void 0&&An.jsxs(Pe,{variant:"body2",sx:{mt:1},children:[U.total_score," / ",U.total_max," points"]})]}),U.feedback&&An.jsx(Pr,{severity:"info",sx:{mb:2},children:U.feedback}),!!v.length&&!!Object.keys(Ge).length&&An.jsxs(Be,{children:[An.jsx(Pe,{variant:"h6",sx:{mb:2,fontFamily:"Staatliches"},children:"Question Breakdown"}),v.map(ft=>{const gt=Ge[ft.id]||{},oe=gt.score??0,Le=gt.verdict==="correct"||oe>=70||gt.passed===!0;return An.jsxs(Be,{sx:{...Vr.feedbackCard,...Le?Vr.correctAnswer:Vr.incorrectAnswer},children:[An.jsxs(Pe,{variant:"body2",sx:{mb:1},children:["Q: ",(ft==null?void 0:ft.question)||"Question not found"]}),An.jsxs(Pe,{variant:"caption",color:"textSecondary",children:["Your answer: ",F[ft.id]]}),gt.score!==void 0&&An.jsxs(Pe,{variant:"caption",display:"block",sx:{mt:1},children:["Score: ",oe,"/",gt.max_score||100]}),(gt.feedback||gt.reasoning)&&An.jsx(Pe,{variant:"caption",display:"block",sx:{mt:1},children:gt.feedback||gt.reasoning})]},ft.id)})]})]}),An.jsx(xt,{fullWidth:!0,variant:"contained",onClick:ve,sx:{...Vr.button,...Vr.primaryButton,mt:2},children:"Close"})]})})}const Ue=E&&E.finalCount<E.target;return An.jsx(Tx,{open:i,onClose:ve,children:An.jsxs(Be,{sx:Vr.modal,children:[An.jsxs(Be,{sx:Vr.header,children:[An.jsx(Pe,{sx:Vr.title,children:"Quiz"}),An.jsx(ur,{onClick:ve,sx:Vr.closeButton,children:An.jsx(xj,{})})]}),E&&An.jsx(Be,{sx:{mb:1},children:An.jsx(Xr,{label:`Mode: ${E.mode}  ${E.finalCount} Qs`,size:"small",sx:Vr.categoryBadge})}),Ue&&An.jsxs(Pr,{severity:"info",sx:{mb:2},children:["Not enough questions available for ",E.mode,". Showing"," ",E.finalCount," instead of ",E.target,"."]}),J?An.jsx(Be,{sx:{display:"flex",justifyContent:"center",py:5},children:An.jsx(ji,{})}):Y&&!_?An.jsx(Pr,{severity:"error",children:Y}):_&&ge?An.jsxs(An.Fragment,{children:[An.jsx(Om,{variant:"determinate",value:ce,sx:Vr.progressBar}),An.jsxs(Be,{sx:Vr.questionCard,children:[An.jsxs(Be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[An.jsxs(Pe,{variant:"h6",sx:{fontFamily:"Staatliches"},children:["Question ",M+1," of ",Ie]}),ge.category&&An.jsx(Xr,{label:ge.category,size:"small",sx:Vr.categoryBadge})]}),An.jsx(Pe,{sx:Vr.questionText,children:ge.question}),Oe()]}),Y&&An.jsx(Pr,{severity:"error",sx:{mb:2},children:Y}),An.jsx(Be,{sx:Vr.navigationDots,children:v.map((Ze,Ge)=>{const{isCurrent:ft,hasAnswer:gt}=Re(Ze.id,Ge);return An.jsx(Be,{component:"button",onClick:()=>ke(Ge),title:gt?"Answered":"Unanswered",sx:{...Vr.dot,...gt&&!ft&&Vr.dotStates.answered,...!gt&&!ft&&Vr.dotStates.unanswered,...ft&&Vr.dotStates.current}},Ze.id)})}),An.jsxs(Be,{sx:Vr.navigationButtons,children:[An.jsx(xt,{startIcon:An.jsx(Sge,{}),onClick:te,disabled:M===0,sx:{...Vr.button,...Vr.secondaryButton},children:"Previous"}),M===Ie-1?An.jsx(xt,{onClick:be,disabled:z,endIcon:An.jsx(Nge,{}),sx:{...Vr.button,...Vr.submitButton},children:z?An.jsx(ji,{size:20}):"Submit Quiz"}):An.jsx(xt,{endIcon:An.jsx(Ige,{}),onClick:re,sx:{...Vr.button,...Vr.primaryButton},children:"Next"})]})]}):An.jsx(Pr,{severity:"info",children:"No quiz available"})]})})}),E9=ae.forwardRef(({chatbotId:t,difficulty:i,open:r,onClose:o,eventHandlers:a},c)=>{const{userDetails:d}=go(),p=ae.useRef(null),{startQuiz:m,updateAnswers:k,submitQuiz:w,closeQuiz:_,setError:C}=gD(),v=ae.useCallback(j=>{console.log("Quiz started:",j),m(j),d!=null&&d.uid&&xre(j,d.uid).catch(F=>{console.error("Failed to save quiz start event:",F)}),a!=null&&a.onQuizStart&&a.onQuizStart(j)},[d==null?void 0:d.uid,m,a]),D=ae.useCallback(j=>{console.log("Answer changed:",j),k(j),d!=null&&d.uid&&Sre(j,d.uid).catch(F=>{console.warn("Failed to save answer change event:",F)}),a!=null&&a.onAnswerChange&&a.onAnswerChange(j)},[k,a,d==null?void 0:d.uid]),E=ae.useCallback(j=>{console.log("Quiz submitted:",j),w(j),d!=null&&d.uid&&Ere(j,d.uid).catch(F=>{console.error("Failed to save quiz submission event:",F)}),a!=null&&a.onQuizSubmit&&a.onQuizSubmit(j)},[w,a,d==null?void 0:d.uid]),O=ae.useCallback(j=>{console.log("Quiz closed:",j),_(j),d!=null&&d.uid&&Dre(j,d.uid).catch(F=>{console.error("Failed to save quiz close event:",F)}),a!=null&&a.onQuizClose&&a.onQuizClose(j)},[_,a,d==null?void 0:d.uid]),M=ae.useCallback((j,F)=>{console.error("Error in",F,j),C(`Quiz ${F} failed: ${j.message}`),a!=null&&a.onError&&a.onError(j,F)},[C,a]);return ae.useImperativeHandle(c,()=>({reloadQuiz:()=>{p.current&&p.current.reloadQuiz()},clearProgress:()=>{p.current&&p.current.clearProgress()},submit:()=>{p.current&&p.current.submit()},getAnswers:()=>p.current?p.current.getAnswers():{},getSummary:()=>p.current?p.current.getSummary():null,close:()=>{p.current&&p.current.close(),o()}})),x.jsx(zge,{ref:p,chatbotId:t,open:r,onClose:o,difficulty:i,onQuizStart:v,onAnswerChange:D,onQuizSubmit:E,onQuizClose:O,onError:M})});E9.displayName="QuizWrapper";const Uge=({onStartQuiz:t,disabled:i=!1})=>{const[r,o]=ae.useState(null),a=!!r,c=k=>{o(k.currentTarget)},d=()=>{o(null)},p=k=>{t(k),d()},m=[{value:"easy",description:"~5 questions",icon:x.jsx(IE,{color:"success"}),color:"success"},{value:"medium",description:"~8 questions",icon:x.jsx(SH,{color:"warning"}),color:"warning"},{value:"hard",description:"Up to 10 questions",icon:x.jsx(EH,{color:"error"}),color:"error"}];return x.jsxs(x.Fragment,{children:[x.jsx(xt,{variant:"contained",onClick:c,disabled:i,startIcon:a?x.jsx(a5,{}):x.jsx(TE,{}),sx:{background:"#0B53C0",color:"white",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",fontWeight:"bold",px:3,py:1.5,borderRadius:3,textTransform:"none","&:hover":{background:"#064a9e",boxShadow:"0px 4px 12px rgba(11, 83, 192, 0.3)"},"&:disabled":{background:"#ccc",color:"#999"},boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",transition:"all 0.2s ease-in-out"},children:"Start Quiz"}),x.jsxs(CH,{anchorEl:r,open:a,onClose:d,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"right"},PaperProps:{sx:{minWidth:300,borderRadius:2,border:"1px solid #e0e0e0",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)","& .MuiMenuItem-root":{py:1.5,px:2,borderRadius:1,mx:1,mb:.5,"&:hover":{backgroundColor:"#f5f5f5",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},"&:last-child":{mb:1}}}},children:[x.jsx(Be,{sx:{px:2,py:1.5,borderBottom:"1px solid #e0e0e0",backgroundColor:"#CDDAFF"},children:x.jsx(Pe,{variant:"subtitle1",sx:{fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.1rem",textAlign:"center"},children:"Select Quiz Difficulty"})}),m.map(k=>x.jsxs(Lr,{onClick:()=>p(k.value),children:[x.jsx(xH,{sx:{minWidth:40},children:k.icon}),x.jsx(Wg,{primary:x.jsx(Pe,{variant:"body1",sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1.1rem",color:"#333",fontWeight:"bold"},children:k.value.charAt(0).toUpperCase()+k.value.slice(1)}),secondary:x.jsx(Pe,{variant:"body2",sx:{fontFamily:"Gabarito, sans-serif",color:"#666",fontSize:"0.875rem"},children:k.description})})]},k.value))]})]})},$0="ce5f7921-a3a0-4ea7-b95f-10fe41becda5",qge=({defaultDifficulty:t="medium",position:i="fixed"})=>{const{userDetails:r}=go(),[o]=Jy(),a=ae.useRef(null),{isModalOpen:c,currentChatbotId:d,currentDifficulty:p,statistics:m,openQuizModal:k,closeQuizModal:w,setDifficulty:_,fetchUserSessions:C,setError:v}=gD(),[D,E]=vt.useState($0);ae.useEffect(()=>{const G=o.get("material");if(!G){D!==$0&&E($0);return}(async()=>{try{console.log(" Fetching chatbot ID for quiz material:",G);const H=Rr(),z=dr(H,"chatbots"),Z=Xd(z,nd("material.id","==",G)),Y=await Qo(Z);if(Y.empty)console.log(` No chatbot found for material ${G}, using default for quiz:`,$0),E($0);else{const se=Y.docs[0].data();console.log(` Found chatbot for quiz material ${G}:`,se.chatbotId),E(se.chatbotId)}}catch(H){console.error("Failed to fetch chatbot for quiz:",H),v("Failed to load quiz for this material"),E($0)}})()},[o,D,v]),ae.useEffect(()=>{r!=null&&r.uid&&C(r.uid)},[r==null?void 0:r.uid,C]),ae.useEffect(()=>{_(t)},[t,_]);const O=ae.useCallback(G=>{D?k(D,G):v("No chatbot available for quiz")},[D,k,v]),M=ae.useCallback(()=>{w()},[w]);if(!(r!=null&&r.uid)||!o.get("material"))return null;const F=i==="fixed"?{position:"fixed",bottom:120,right:16,zIndex:1e3}:{position:"relative"};return x.jsxs(x.Fragment,{children:[x.jsx(Be,{sx:F,children:x.jsx(Uge,{onStartQuiz:O,disabled:!D})}),c&&d&&x.jsx(E9,{ref:a,chatbotId:d,difficulty:p,open:c,onClose:M,eventHandlers:{onQuizStart:G=>{},onQuizSubmit:G=>{},onError:(G,J)=>{console.error("Quiz error:",J,G)}}})]})};var gy={},Ij;function Vge(){if(Ij)return gy;Ij=1;var t=fs();Object.defineProperty(gy,"__esModule",{value:!0}),gy.default=void 0;var i=t(ms()),r=ps();return gy.default=(0,i.default)((0,r.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),gy}var Hge=Vge();const $ge=Si(Hge),Wge=()=>{const{notifications:t,removeNotification:i}=uL();return t.length===0?null:x.jsx(Be,{sx:{position:"fixed",top:16,right:16,zIndex:9999,maxWidth:400,display:"flex",flexDirection:"column",gap:1},children:t.map(r=>x.jsx(l5,{in:!0,timeout:300,children:x.jsx(Ar,{elevation:6,children:x.jsxs(Pr,{severity:r.type,sx:{width:"100%","& .MuiAlert-action":{alignItems:"flex-start",padding:"4px 0 0 16px"}},action:x.jsx(ur,{size:"small",onClick:()=>i(r.id),sx:{color:"inherit"},children:x.jsx($ge,{fontSize:"small"})}),children:[r.title&&x.jsx(DH,{sx:{fontWeight:"bold",mb:.5},children:r.title}),r.message,r.actions&&r.actions.length>0&&x.jsx(Be,{sx:{mt:1.5,display:"flex",gap:1,flexWrap:"wrap"},children:r.actions.map((o,a)=>x.jsx(xt,{size:"small",variant:o.primary?"contained":"outlined",color:r.type==="error"?"error":"primary",onClick:()=>{o.action(),i(r.id)},sx:{minWidth:"auto",fontSize:"0.75rem",padding:"2px 8px"},children:o.label},a))})]})})},r.id))})},Gge=()=>{const{userDetails:t,isSuperAdmin:i}=go(),r=Lre(t,i);return x$(r)},Yge=()=>{const{userDetails:t,loading:i}=go();if(i)return x.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:x.jsx(ji,{})});const r="/nexlab",o=!!(t!=null&&t.uid);return x.jsxs(IH,{theme:Pre,children:[x.jsx(TH,{}),x.jsxs(V$,{basename:r,children:[o&&x.jsx(E7,{}),x.jsx("div",{className:"content",children:x.jsx(ae.Suspense,{fallback:x.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:x.jsx(ji,{})}),children:x.jsx(Gge,{})})}),x.jsx(Gre,{}),x.jsx(Fre,{}),o&&x.jsx(Jhe,{}),o&&x.jsx(qge,{}),x.jsx(Wge,{})]})]})},Kge=document.getElementById("root"),Qge=QH.createRoot(Kge);Qge.render(x.jsx(vt.StrictMode,{children:x.jsx(Z$,{children:x.jsx(Yge,{})})}));export{lL as A,SL as B,$ge as C,yk as D,yy as E,S3 as S,Bte as V,To as _,rL as a,G4 as b,BL as c,go as d,iL as e,q8 as f,U8 as g,Jy as h,fre as i,BG as j,jG as k,AL as l,LG as m,nbe as n,ms as r,so as u,yL as v};
