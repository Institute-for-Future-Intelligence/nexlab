const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-RAMQBhNX.js","assets/vendor-CkjDiaq4.js","assets/index-Bwxu0dzx.js","assets/MaterialImportWrapper-DJNfXqhj.js","assets/ui-D97QkXag.js","assets/firebase-DpGenoA-.js","assets/index.es-DlK2Ezyc.js","assets/index-D6jFmbUt.js","assets/index-CvKIbtr_.js","assets/purify.es-CQJ0hv7W.js","assets/SupplementalMaterials-3WJGhxro.js"])))=>i.map(i=>d[i]);
var n$=Object.defineProperty;var r$=(t,i,n)=>i in t?n$(t,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[i]=n;var Jt=(t,i,n)=>r$(t,typeof i!="symbol"?i+"":i,n);import{r as se,R as q6,j as w,C as ki,u as i$,a as ws,b as vs,P as hr,T as xe,B as Ne,c as Ct,A as Rr,d as vt,e as fa,f as Il,g as o$,h as iu,G as qt,D as dl,I as Gn,E as f5,i as sd,k as p5,l as Oo,m as ts,n as Bo,o as bc,p as ns,q as Xd,s as eh,t as _r,v as th,L as My,S as Nl,w as lx,x as Y0,y as Wg,z as yn,M as $r,F as s$,H as Ma,J as a$,K as oh,N as V6,O as hk,Q as yk,U as l$,V as cu,W as LL,X as PL,Y as Ox,_ as qi,Z as AN,$ as c$,a0 as Bx,a1 as pf,a2 as mf,a3 as ad,a4 as u$,a5 as RL,a6 as sh,a7 as ah,a8 as lh,a9 as Lo,aa as St,ab as ch,ac as d$,ad as sp,ae as ap,af as h$,ag as f$,ah as K0,ai as Gg,aj as p$,ak as m$,al as g$,am as H6,an as Ny,ao as b$,ap as k$,aq as w$,ar as zL,as as v$,at as cb,au as $6,av as y$,aw as _N,ax as Xy,ay as A$,az as _$,aA as C$,aB as x$,aC as Zd,aD as Wh,aE as FL,aF as Lx,aG as S$,aH as UL,aI as fp,aJ as E$,aK as qL,aL as D$,aM as OD,aN as I$,aO as VL,aP as BD,aQ as T$,aR as HL,aS as M$,aT as CN,aU as N$,aV as j$,aW as Ay,aX as O$,aY as B$,aZ as Xn,a_ as $L,a$ as WL,b0 as GL,b1 as YL,b2 as KL,b3 as QL,b4 as L$,b5 as P$,b6 as R$,b7 as z$,b8 as F$,b9 as U$,ba as q$,bb as V$}from"./ui-D97QkXag.js";import{r as H$,a as $$,g as Ei,b as W$}from"./vendor-CkjDiaq4.js";import{g as G$,G as Y$,o as K$,b as Q$,a as Z$,s as J$,c as X$,d as e3,P as Nr,e as Vn,f as Na,h as Zh,m as ZL,i as gi,I as JL,j as t3,k as Hm,R as pc,x as eA,_ as Zn,y as tA,r as nh,u as Nm,l as lp,n as XL,p as pa,q as ta,t as so,K as n3,W as W6,v as bo,Q as r3,w as m5}from"./firebase-DpGenoA-.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();var _E={exports:{}},Sv={},CE={exports:{}},xE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xN;function i3(){return xN||(xN=1,function(t){function i(ue,de){var me=ue.length;ue.push(de);e:for(;0<me;){var Me=me-1>>>1,ce=ue[Me];if(0<a(ce,de))ue[Me]=de,ue[me]=ce,me=Me;else break e}}function n(ue){return ue.length===0?null:ue[0]}function o(ue){if(ue.length===0)return null;var de=ue[0],me=ue.pop();if(me!==de){ue[0]=me;e:for(var Me=0,ce=ue.length,Ie=ce>>>1;Me<Ie;){var re=2*(Me+1)-1,te=ue[re],ke=re+1,be=ue[ke];if(0>a(te,me))ke<ce&&0>a(be,te)?(ue[Me]=be,ue[ke]=me,Me=ke):(ue[Me]=te,ue[re]=me,Me=re);else if(ke<ce&&0>a(be,me))ue[Me]=be,ue[ke]=me,Me=ke;else break e}}return de}function a(ue,de){var me=ue.sortIndex-de.sortIndex;return me!==0?me:ue.id-de.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();t.unstable_now=function(){return d.now()-p}}var m=[],k=[],v=1,_=null,x=3,y=!1,D=!1,E=!1,j=!1,M=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function G(ue){for(var de=n(k);de!==null;){if(de.callback===null)o(k);else if(de.startTime<=ue)o(k),de.sortIndex=de.expirationTime,i(m,de);else break;de=n(k)}}function J(ue){if(E=!1,G(ue),!D)if(n(m)!==null)D=!0,H||(H=!0,Y());else{var de=n(k);de!==null&&fe(J,de.startTime-ue)}}var H=!1,F=-1,Q=5,Z=-1;function ae(){return j?!0:!(t.unstable_now()-Z<Q)}function X(){if(j=!1,H){var ue=t.unstable_now();Z=ue;var de=!0;try{e:{D=!1,E&&(E=!1,B(F),F=-1),y=!0;var me=x;try{t:{for(G(ue),_=n(m);_!==null&&!(_.expirationTime>ue&&ae());){var Me=_.callback;if(typeof Me=="function"){_.callback=null,x=_.priorityLevel;var ce=Me(_.expirationTime<=ue);if(ue=t.unstable_now(),typeof ce=="function"){_.callback=ce,G(ue),de=!0;break t}_===n(m)&&o(m),G(ue)}else o(m);_=n(m)}if(_!==null)de=!0;else{var Ie=n(k);Ie!==null&&fe(J,Ie.startTime-ue),de=!1}}break e}finally{_=null,x=me,y=!1}de=void 0}}finally{de?Y():H=!1}}}var Y;if(typeof z=="function")Y=function(){z(X)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,q=U.port2;U.port1.onmessage=X,Y=function(){q.postMessage(null)}}else Y=function(){M(X,0)};function fe(ue,de){F=M(function(){ue(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ue){ue.callback=null},t.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<ue?Math.floor(1e3/ue):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(ue){switch(x){case 1:case 2:case 3:var de=3;break;default:de=x}var me=x;x=de;try{return ue()}finally{x=me}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(ue,de){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var me=x;x=ue;try{return de()}finally{x=me}},t.unstable_scheduleCallback=function(ue,de,me){var Me=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Me+me:Me):me=Me,ue){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=me+ce,ue={id:v++,callback:de,priorityLevel:ue,startTime:me,expirationTime:ce,sortIndex:-1},me>Me?(ue.sortIndex=me,i(k,ue),n(m)===null&&ue===n(k)&&(E?(B(F),F=-1):E=!0,fe(J,me-Me))):(ue.sortIndex=ce,i(m,ue),D||y||(D=!0,H||(H=!0,Y()))),ue},t.unstable_shouldYield=ae,t.unstable_wrapCallback=function(ue){var de=x;return function(){var me=x;x=de;try{return ue.apply(this,arguments)}finally{x=me}}}}(xE)),xE}var SN;function o3(){return SN||(SN=1,CE.exports=i3()),CE.exports}var EN;function s3(){if(EN)return Sv;EN=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t=o3(),i=H$(),n=$$();function o(h){var g="https://react.dev/errors/"+h;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var C=2;C<arguments.length;C++)g+="&args[]="+encodeURIComponent(arguments[C])}return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function c(h){var g=h,C=h;if(h.alternate)for(;g.return;)g=g.return;else{h=g;do g=h,(g.flags&4098)!==0&&(C=g.return),h=g.return;while(h)}return g.tag===3?C:null}function d(h){if(h.tag===13){var g=h.memoizedState;if(g===null&&(h=h.alternate,h!==null&&(g=h.memoizedState)),g!==null)return g.dehydrated}return null}function p(h){if(c(h)!==h)throw Error(o(188))}function m(h){var g=h.alternate;if(!g){if(g=c(h),g===null)throw Error(o(188));return g!==h?null:h}for(var C=h,I=g;;){var L=C.return;if(L===null)break;var V=L.alternate;if(V===null){if(I=L.return,I!==null){C=I;continue}break}if(L.child===V.child){for(V=L.child;V;){if(V===C)return p(L),h;if(V===I)return p(L),g;V=V.sibling}throw Error(o(188))}if(C.return!==I.return)C=L,I=V;else{for(var he=!1,Ee=L.child;Ee;){if(Ee===C){he=!0,C=L,I=V;break}if(Ee===I){he=!0,I=L,C=V;break}Ee=Ee.sibling}if(!he){for(Ee=V.child;Ee;){if(Ee===C){he=!0,C=V,I=L;break}if(Ee===I){he=!0,I=V,C=L;break}Ee=Ee.sibling}if(!he)throw Error(o(189))}}if(C.alternate!==I)throw Error(o(190))}if(C.tag!==3)throw Error(o(188));return C.stateNode.current===C?h:g}function k(h){var g=h.tag;if(g===5||g===26||g===27||g===6)return h;for(h=h.child;h!==null;){if(g=k(h),g!==null)return g;h=h.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),z=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function Y(h){return h===null||typeof h!="object"?null:(h=X&&h[X]||h["@@iterator"],typeof h=="function"?h:null)}var U=Symbol.for("react.client.reference");function q(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===U?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case D:return"Fragment";case j:return"Profiler";case E:return"StrictMode";case J:return"Suspense";case H:return"SuspenseList";case Z:return"Activity"}if(typeof h=="object")switch(h.$$typeof){case y:return"Portal";case z:return(h.displayName||"Context")+".Provider";case B:return(h._context.displayName||"Context")+".Consumer";case G:var g=h.render;return h=h.displayName,h||(h=g.displayName||g.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case F:return g=h.displayName||null,g!==null?g:q(h.type)||"Memo";case Q:g=h._payload,h=h._init;try{return q(h(g))}catch{}}return null}var fe=Array.isArray,ue=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Me=[],ce=-1;function Ie(h){return{current:h}}function re(h){0>ce||(h.current=Me[ce],Me[ce]=null,ce--)}function te(h,g){ce++,Me[ce]=h.current,h.current=g}var ke=Ie(null),be=Ie(null),ve=Ie(null),Re=Ie(null);function Be(h,g){switch(te(ve,g),te(be,h),te(ke,null),g.nodeType){case 9:case 11:h=(h=g.documentElement)&&(h=h.namespaceURI)?h_(h):0;break;default:if(h=g.tagName,g=g.namespaceURI)g=h_(g),h=C1(g,h);else switch(h){case"svg":h=1;break;case"math":h=2;break;default:h=0}}re(ke),te(ke,h)}function Ue(){re(ke),re(be),re(ve)}function Ze(h){h.memoizedState!==null&&te(Re,h);var g=ke.current,C=C1(g,h.type);g!==C&&(te(be,h),te(ke,C))}function Ge(h){be.current===h&&(re(ke),re(be)),Re.current===h&&(re(Re),Ig._currentValue=me)}var ft=Object.prototype.hasOwnProperty,gt=t.unstable_scheduleCallback,oe=t.unstable_cancelCallback,Pe=t.unstable_shouldYield,we=t.unstable_requestPaint,De=t.unstable_now,Ae=t.unstable_getCurrentPriorityLevel,Oe=t.unstable_ImmediatePriority,Ke=t.unstable_UserBlockingPriority,Xe=t.unstable_NormalPriority,Fe=t.unstable_LowPriority,dt=t.unstable_IdlePriority,wt=t.log,ot=t.unstable_setDisableYieldValue,pt=null,He=null;function at(h){if(typeof wt=="function"&&ot(h),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(pt,h)}catch{}}var kt=Math.clz32?Math.clz32:Bn,Yt=Math.log,yt=Math.LN2;function Bn(h){return h>>>=0,h===0?32:31-(Yt(h)/yt|0)|0}var on=256,wr=4194304;function xn(h){var g=h&42;if(g!==0)return g;switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return h&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return h}}function In(h,g,C){var I=h.pendingLanes;if(I===0)return 0;var L=0,V=h.suspendedLanes,he=h.pingedLanes;h=h.warmLanes;var Ee=I&134217727;return Ee!==0?(I=Ee&~V,I!==0?L=xn(I):(he&=Ee,he!==0?L=xn(he):C||(C=Ee&~h,C!==0&&(L=xn(C))))):(Ee=I&~V,Ee!==0?L=xn(Ee):he!==0?L=xn(he):C||(C=I&~h,C!==0&&(L=xn(C)))),L===0?0:g!==0&&g!==L&&(g&V)===0&&(V=L&-L,C=g&-g,V>=C||V===32&&(C&4194048)!==0)?g:L}function zn(h,g){return(h.pendingLanes&~(h.suspendedLanes&~h.pingedLanes)&g)===0}function Yn(h,g){switch(h){case 1:case 2:case 4:case 8:case 64:return g+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ei(){var h=on;return on<<=1,(on&4194048)===0&&(on=256),h}function rr(){var h=wr;return wr<<=1,(wr&62914560)===0&&(wr=4194304),h}function vr(h){for(var g=[],C=0;31>C;C++)g.push(h);return g}function gr(h,g){h.pendingLanes|=g,g!==268435456&&(h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0)}function yr(h,g,C,I,L,V){var he=h.pendingLanes;h.pendingLanes=C,h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0,h.expiredLanes&=C,h.entangledLanes&=C,h.errorRecoveryDisabledLanes&=C,h.shellSuspendCounter=0;var Ee=h.entanglements,Ve=h.expirationTimes,ct=h.hiddenUpdates;for(C=he&~C;0<C;){var Mt=31-kt(C),Et=1<<Mt;Ee[Mt]=0,Ve[Mt]=-1;var ht=ct[Mt];if(ht!==null)for(ct[Mt]=null,Mt=0;Mt<ht.length;Mt++){var mt=ht[Mt];mt!==null&&(mt.lane&=-536870913)}C&=~Et}I!==0&&fn(h,I,0),V!==0&&L===0&&h.tag!==0&&(h.suspendedLanes|=V&~(he&~g))}function fn(h,g,C){h.pendingLanes|=g,h.suspendedLanes&=~g;var I=31-kt(g);h.entangledLanes|=g,h.entanglements[I]=h.entanglements[I]|1073741824|C&4194090}function ir(h,g){var C=h.entangledLanes|=g;for(h=h.entanglements;C;){var I=31-kt(C),L=1<<I;L&g|h[I]&g&&(h[I]|=g),C&=~L}}function is(h){switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=128;break;case 268435456:h=134217728;break;default:h=0}return h}function wi(h){return h&=-h,2<h?8<h?(h&134217727)!==0?32:268435456:8:2}function os(){var h=de.p;return h!==0?h:(h=window.event,h===void 0?32:lm(h.type))}function ss(h,g){var C=de.p;try{return de.p=h,g()}finally{de.p=C}}var hn=Math.random().toString(36).slice(2),Sr="__reactFiber$"+hn,or="__reactProps$"+hn,vi="__reactContainer$"+hn,jr="__reactEvents$"+hn,Wr="__reactListeners$"+hn,di="__reactHandles$"+hn,jl="__reactResources$"+hn,Cs="__reactMarker$"+hn;function xs(h){delete h[Sr],delete h[or],delete h[jr],delete h[Wr],delete h[di]}function wo(h){var g=h[Sr];if(g)return g;for(var C=h.parentNode;C;){if(g=C[vi]||C[Sr]){if(C=g.alternate,g.child!==null||C!==null&&C.child!==null)for(h=D1(h);h!==null;){if(C=h[Sr])return C;h=D1(h)}return g}h=C,C=h.parentNode}return null}function Di(h){if(h=h[Sr]||h[vi]){var g=h.tag;if(g===5||g===6||g===13||g===26||g===27||g===3)return h}return null}function lo(h){var g=h.tag;if(g===5||g===26||g===27||g===6)return h.stateNode;throw Error(o(33))}function co(h){var g=h[jl];return g||(g=h[jl]={hoistableStyles:new Map,hoistableScripts:new Map}),g}function zr(h){h[Cs]=!0}var fl=new Set,Ol={};function Ki(h,g){Ss(h,g),Ss(h+"Capture",g)}function Ss(h,g){for(Ol[h]=g,h=0;h<g.length;h++)fl.add(g[h])}var Bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pu={},Ft={};function Ht(h){return ft.call(Ft,h)?!0:ft.call(pu,h)?!1:Bl.test(h)?Ft[h]=!0:(pu[h]=!0,!1)}function Wt(h,g,C){if(Ht(g))if(C===null)h.removeAttribute(g);else{switch(typeof C){case"undefined":case"function":case"symbol":h.removeAttribute(g);return;case"boolean":var I=g.toLowerCase().slice(0,5);if(I!=="data-"&&I!=="aria-"){h.removeAttribute(g);return}}h.setAttribute(g,""+C)}}function mn(h,g,C){if(C===null)h.removeAttribute(g);else{switch(typeof C){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(g);return}h.setAttribute(g,""+C)}}function sn(h,g,C,I){if(I===null)h.removeAttribute(C);else{switch(typeof I){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(C);return}h.setAttributeNS(g,C,""+I)}}var Qn,Fr;function Kr(h){if(Qn===void 0)try{throw Error()}catch(C){var g=C.stack.trim().match(/\n( *(at )?)/);Qn=g&&g[1]||"",Fr=-1<C.stack.indexOf(`
    at`)?" (<anonymous>)":-1<C.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qn+h+Fr}var Ii=!1;function vo(h,g){if(!h||Ii)return"";Ii=!0;var C=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var I={DetermineComponentFrameRoot:function(){try{if(g){var Et=function(){throw Error()};if(Object.defineProperty(Et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Et,[])}catch(mt){var ht=mt}Reflect.construct(h,[],Et)}else{try{Et.call()}catch(mt){ht=mt}h.call(Et.prototype)}}else{try{throw Error()}catch(mt){ht=mt}(Et=h())&&typeof Et.catch=="function"&&Et.catch(function(){})}}catch(mt){if(mt&&ht&&typeof mt.stack=="string")return[mt.stack,ht.stack]}return[null,null]}};I.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var L=Object.getOwnPropertyDescriptor(I.DetermineComponentFrameRoot,"name");L&&L.configurable&&Object.defineProperty(I.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var V=I.DetermineComponentFrameRoot(),he=V[0],Ee=V[1];if(he&&Ee){var Ve=he.split(`
`),ct=Ee.split(`
`);for(L=I=0;I<Ve.length&&!Ve[I].includes("DetermineComponentFrameRoot");)I++;for(;L<ct.length&&!ct[L].includes("DetermineComponentFrameRoot");)L++;if(I===Ve.length||L===ct.length)for(I=Ve.length-1,L=ct.length-1;1<=I&&0<=L&&Ve[I]!==ct[L];)L--;for(;1<=I&&0<=L;I--,L--)if(Ve[I]!==ct[L]){if(I!==1||L!==1)do if(I--,L--,0>L||Ve[I]!==ct[L]){var Mt=`
`+Ve[I].replace(" at new "," at ");return h.displayName&&Mt.includes("<anonymous>")&&(Mt=Mt.replace("<anonymous>",h.displayName)),Mt}while(1<=I&&0<=L);break}}}finally{Ii=!1,Error.prepareStackTrace=C}return(C=h?h.displayName||h.name:"")?Kr(C):""}function Ps(h){switch(h.tag){case 26:case 27:case 5:return Kr(h.type);case 16:return Kr("Lazy");case 13:return Kr("Suspense");case 19:return Kr("SuspenseList");case 0:case 15:return vo(h.type,!1);case 11:return vo(h.type.render,!1);case 1:return vo(h.type,!0);case 31:return Kr("Activity");default:return""}}function kr(h){try{var g="";do g+=Ps(h),h=h.return;while(h);return g}catch(C){return`
Error generating stack: `+C.message+`
`+C.stack}}function Qr(h){switch(typeof h){case"bigint":case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function mu(h){var g=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function fd(h){var g=mu(h)?"checked":"value",C=Object.getOwnPropertyDescriptor(h.constructor.prototype,g),I=""+h[g];if(!h.hasOwnProperty(g)&&typeof C<"u"&&typeof C.get=="function"&&typeof C.set=="function"){var L=C.get,V=C.set;return Object.defineProperty(h,g,{configurable:!0,get:function(){return L.call(this)},set:function(he){I=""+he,V.call(this,he)}}),Object.defineProperty(h,g,{enumerable:C.enumerable}),{getValue:function(){return I},setValue:function(he){I=""+he},stopTracking:function(){h._valueTracker=null,delete h[g]}}}}function ga(h){h._valueTracker||(h._valueTracker=fd(h))}function gu(h){if(!h)return!1;var g=h._valueTracker;if(!g)return!0;var C=g.getValue(),I="";return h&&(I=mu(h)?h.checked?"true":"false":h.value),h=I,h!==C?(g.setValue(h),!0):!1}function as(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}var wc=/[\n"\\]/g;function ti(h){return h.replace(wc,function(g){return"\\"+g.charCodeAt(0).toString(16)+" "})}function ja(h,g,C,I,L,V,he,Ee){h.name="",he!=null&&typeof he!="function"&&typeof he!="symbol"&&typeof he!="boolean"?h.type=he:h.removeAttribute("type"),g!=null?he==="number"?(g===0&&h.value===""||h.value!=g)&&(h.value=""+Qr(g)):h.value!==""+Qr(g)&&(h.value=""+Qr(g)):he!=="submit"&&he!=="reset"||h.removeAttribute("value"),g!=null?vf(h,he,Qr(g)):C!=null?vf(h,he,Qr(C)):I!=null&&h.removeAttribute("value"),L==null&&V!=null&&(h.defaultChecked=!!V),L!=null&&(h.checked=L&&typeof L!="function"&&typeof L!="symbol"),Ee!=null&&typeof Ee!="function"&&typeof Ee!="symbol"&&typeof Ee!="boolean"?h.name=""+Qr(Ee):h.removeAttribute("name")}function ph(h,g,C,I,L,V,he,Ee){if(V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(h.type=V),g!=null||C!=null){if(!(V!=="submit"&&V!=="reset"||g!=null))return;C=C!=null?""+Qr(C):"",g=g!=null?""+Qr(g):C,Ee||g===h.value||(h.value=g),h.defaultValue=g}I=I??L,I=typeof I!="function"&&typeof I!="symbol"&&!!I,h.checked=Ee?h.checked:!!I,h.defaultChecked=!!I,he!=null&&typeof he!="function"&&typeof he!="symbol"&&typeof he!="boolean"&&(h.name=he)}function vf(h,g,C){g==="number"&&as(h.ownerDocument)===h||h.defaultValue===""+C||(h.defaultValue=""+C)}function vc(h,g,C,I){if(h=h.options,g){g={};for(var L=0;L<C.length;L++)g["$"+C[L]]=!0;for(C=0;C<h.length;C++)L=g.hasOwnProperty("$"+h[C].value),h[C].selected!==L&&(h[C].selected=L),L&&I&&(h[C].defaultSelected=!0)}else{for(C=""+Qr(C),g=null,L=0;L<h.length;L++){if(h[L].value===C){h[L].selected=!0,I&&(h[L].defaultSelected=!0);return}g!==null||h[L].disabled||(g=h[L])}g!==null&&(g.selected=!0)}}function pd(h,g,C){if(g!=null&&(g=""+Qr(g),g!==h.value&&(h.value=g),C==null)){h.defaultValue!==g&&(h.defaultValue=g);return}h.defaultValue=C!=null?""+Qr(C):""}function yf(h,g,C,I){if(g==null){if(I!=null){if(C!=null)throw Error(o(92));if(fe(I)){if(1<I.length)throw Error(o(93));I=I[0]}C=I}C==null&&(C=""),g=C}C=Qr(g),h.defaultValue=C,I=h.textContent,I===C&&I!==""&&I!==null&&(h.value=I)}function bu(h,g){if(g){var C=h.firstChild;if(C&&C===h.lastChild&&C.nodeType===3){C.nodeValue=g;return}}h.textContent=g}var Af=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wp(h,g,C){var I=g.indexOf("--")===0;C==null||typeof C=="boolean"||C===""?I?h.setProperty(g,""):g==="float"?h.cssFloat="":h[g]="":I?h.setProperty(g,C):typeof C!="number"||C===0||Af.has(g)?g==="float"?h.cssFloat=C:h[g]=(""+C).trim():h[g]=C+"px"}function yc(h,g,C){if(g!=null&&typeof g!="object")throw Error(o(62));if(h=h.style,C!=null){for(var I in C)!C.hasOwnProperty(I)||g!=null&&g.hasOwnProperty(I)||(I.indexOf("--")===0?h.setProperty(I,""):I==="float"?h.cssFloat="":h[I]="");for(var L in g)I=g[L],g.hasOwnProperty(L)&&C[L]!==I&&wp(h,L,I)}else for(var V in g)g.hasOwnProperty(V)&&wp(h,V,g[V])}function ku(h){if(h.indexOf("-")===-1)return!1;switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ac=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function na(h){return pl.test(""+h)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":h}var mh=null;function Qi(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var ml=null,_c=null;function Tn(h){var g=Di(h);if(g&&(h=g.stateNode)){var C=h[or]||null;e:switch(h=g.stateNode,g.type){case"input":if(ja(h,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name),g=C.name,C.type==="radio"&&g!=null){for(C=h;C.parentNode;)C=C.parentNode;for(C=C.querySelectorAll('input[name="'+ti(""+g)+'"][type="radio"]'),g=0;g<C.length;g++){var I=C[g];if(I!==h&&I.form===h.form){var L=I[or]||null;if(!L)throw Error(o(90));ja(I,L.value,L.defaultValue,L.defaultValue,L.checked,L.defaultChecked,L.type,L.name)}}for(g=0;g<C.length;g++)I=C[g],I.form===h.form&&gu(I)}break e;case"textarea":pd(h,C.value,C.defaultValue);break e;case"select":g=C.value,g!=null&&vc(h,!!C.multiple,g,!1)}}}var Ll=!1;function vp(h,g,C){if(Ll)return h(g,C);Ll=!0;try{var I=h(g);return I}finally{if(Ll=!1,(ml!==null||_c!==null)&&(vg(),ml&&(g=ml,h=_c,_c=ml=null,Tn(g),h)))for(g=0;g<h.length;g++)Tn(h[g])}}function Rs(h,g){var C=h.stateNode;if(C===null)return null;var I=C[or]||null;if(I===null)return null;C=I[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(I=!I.disabled)||(h=h.type,I=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!I;break e;default:h=!1}if(h)return null;if(C&&typeof C!="function")throw Error(o(231,g,typeof C));return C}var ba=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gh=!1;if(ba)try{var Pl={};Object.defineProperty(Pl,"passive",{get:function(){gh=!0}}),window.addEventListener("test",Pl,Pl),window.removeEventListener("test",Pl,Pl)}catch{gh=!1}var zs=null,_f=null,md=null;function Cf(){if(md)return md;var h,g=_f,C=g.length,I,L="value"in zs?zs.value:zs.textContent,V=L.length;for(h=0;h<C&&g[h]===L[h];h++);var he=C-h;for(I=1;I<=he&&g[C-I]===L[V-I];I++);return md=L.slice(h,1<I?1-I:void 0)}function Cc(h){var g=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&g===13&&(h=13)):h=g,h===10&&(h=13),32<=h||h===13?h:0}function ra(){return!0}function xc(){return!1}function yo(h){function g(C,I,L,V,he){this._reactName=C,this._targetInst=L,this.type=I,this.nativeEvent=V,this.target=he,this.currentTarget=null;for(var Ee in h)h.hasOwnProperty(Ee)&&(C=h[Ee],this[Ee]=C?C(V):V[Ee]);return this.isDefaultPrevented=(V.defaultPrevented!=null?V.defaultPrevented:V.returnValue===!1)?ra:xc,this.isPropagationStopped=xc,this}return v(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var C=this.nativeEvent;C&&(C.preventDefault?C.preventDefault():typeof C.returnValue!="unknown"&&(C.returnValue=!1),this.isDefaultPrevented=ra)},stopPropagation:function(){var C=this.nativeEvent;C&&(C.stopPropagation?C.stopPropagation():typeof C.cancelBubble!="unknown"&&(C.cancelBubble=!0),this.isPropagationStopped=ra)},persist:function(){},isPersistent:ra}),g}var Fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Er=yo(Fs),Rl=v({},Fs,{view:0,detail:0}),bh=yo(Rl),gd,zl,Fl,Ro=v({},Rl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bl,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==Fl&&(Fl&&h.type==="mousemove"?(gd=h.screenX-Fl.screenX,zl=h.screenY-Fl.screenY):zl=gd=0,Fl=h),gd)},movementY:function(h){return"movementY"in h?h.movementY:zl}}),gl=yo(Ro),xf=v({},Ro,{dataTransfer:0}),wu=yo(xf),Oa=v({},Rl,{relatedTarget:0}),bd=yo(Oa),Sc=v({},Fs,{animationName:0,elapsedTime:0,pseudoElement:0}),Km=yo(Sc),kh=v({},Fs,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),Qm=yo(kh),vu=v({},Fs,{data:0}),Ul=yo(vu),yp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ef(h){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(h):(h=Sf[h])?!!g[h]:!1}function bl(){return Ef}var Zm=v({},Rl,{key:function(h){if(h.key){var g=yp[h.key]||h.key;if(g!=="Unidentified")return g}return h.type==="keypress"?(h=Cc(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?wh[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bl,charCode:function(h){return h.type==="keypress"?Cc(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?Cc(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),kd=yo(Zm),yu=v({},Ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wd=yo(yu),Ec=v({},Rl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bl}),vh=yo(Ec),$=v({},Fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),ge=yo($),ze=v({},Ro,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),$e=yo(ze),it=v({},Fs,{newState:0,oldState:0}),_t=yo(it),Gt=[9,13,27,32],tn=ba&&"CompositionEvent"in window,gn=null;ba&&"documentMode"in document&&(gn=document.documentMode);var Hn=ba&&"TextEvent"in window&&!gn,Ln=ba&&(!tn||gn&&8<gn&&11>=gn),fr=" ",Ti=!1;function yi(h,g){switch(h){case"keyup":return Gt.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Li(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var Pi=!1;function uo(h,g){switch(h){case"compositionend":return Li(g);case"keypress":return g.which!==32?null:(Ti=!0,fr);case"textInput":return h=g.data,h===fr&&Ti?null:h;default:return null}}function Ba(h,g){if(Pi)return h==="compositionend"||!tn&&yi(h,g)?(h=Cf(),md=_f=zs=null,Pi=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return Ln&&g.locale!=="ko"?null:g.data;default:return null}}var ia={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function La(h){var g=h&&h.nodeName&&h.nodeName.toLowerCase();return g==="input"?!!ia[h.type]:g==="textarea"}function yh(h,g,C,I){ml?_c?_c.push(I):_c=[I]:ml=I,g=Fi(g,"onChange"),0<g.length&&(C=new Er("onChange","change",null,C,I),h.push({event:C,listeners:g}))}var ql=null,Dc=null;function Ah(h){tm(h,0)}function Au(h){var g=lo(h);if(gu(g))return h}function _h(h,g){if(h==="change")return g}var vd=!1;if(ba){var Ai;if(ba){var Pa="oninput"in document;if(!Pa){var yd=document.createElement("div");yd.setAttribute("oninput","return;"),Pa=typeof yd.oninput=="function"}Ai=Pa}else Ai=!1;vd=Ai&&(!document.documentMode||9<document.documentMode)}function Ad(){ql&&(ql.detachEvent("onpropertychange",Ic),Dc=ql=null)}function Ic(h){if(h.propertyName==="value"&&Au(Dc)){var g=[];yh(g,Dc,h,Qi(h)),vp(Ah,g)}}function Es(h,g,C){h==="focusin"?(Ad(),ql=g,Dc=C,ql.attachEvent("onpropertychange",Ic)):h==="focusout"&&Ad()}function Jm(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return Au(Dc)}function Df(h,g){if(h==="click")return Au(g)}function Ap(h,g){if(h==="input"||h==="change")return Au(g)}function ka(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var Ao=typeof Object.is=="function"?Object.is:ka;function _u(h,g){if(Ao(h,g))return!0;if(typeof h!="object"||h===null||typeof g!="object"||g===null)return!1;var C=Object.keys(h),I=Object.keys(g);if(C.length!==I.length)return!1;for(I=0;I<C.length;I++){var L=C[I];if(!ft.call(g,L)||!Ao(h[L],g[L]))return!1}return!0}function Ch(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function Tc(h,g){var C=Ch(h);h=0;for(var I;C;){if(C.nodeType===3){if(I=h+C.textContent.length,h<=g&&I>=g)return{node:C,offset:g-h};h=I}e:{for(;C;){if(C.nextSibling){C=C.nextSibling;break e}C=C.parentNode}C=void 0}C=Ch(C)}}function Mc(h,g){return h&&g?h===g?!0:h&&h.nodeType===3?!1:g&&g.nodeType===3?Mc(h,g.parentNode):"contains"in h?h.contains(g):h.compareDocumentPosition?!!(h.compareDocumentPosition(g)&16):!1:!1}function Us(h){h=h!=null&&h.ownerDocument!=null&&h.ownerDocument.defaultView!=null?h.ownerDocument.defaultView:window;for(var g=as(h.document);g instanceof h.HTMLIFrameElement;){try{var C=typeof g.contentWindow.location.href=="string"}catch{C=!1}if(C)h=g.contentWindow;else break;g=as(h.document)}return g}function zo(h){var g=h&&h.nodeName&&h.nodeName.toLowerCase();return g&&(g==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||g==="textarea"||h.contentEditable==="true")}var Cu=ba&&"documentMode"in document&&11>=document.documentMode,qs=null,kl=null,Vl=null,Ra=!1;function Vi(h,g,C){var I=C.window===C?C.document:C.nodeType===9?C:C.ownerDocument;Ra||qs==null||qs!==as(I)||(I=qs,"selectionStart"in I&&zo(I)?I={start:I.selectionStart,end:I.selectionEnd}:(I=(I.ownerDocument&&I.ownerDocument.defaultView||window).getSelection(),I={anchorNode:I.anchorNode,anchorOffset:I.anchorOffset,focusNode:I.focusNode,focusOffset:I.focusOffset}),Vl&&_u(Vl,I)||(Vl=I,I=Fi(kl,"onSelect"),0<I.length&&(g=new Er("onSelect","select",null,g,C),h.push({event:g,listeners:I}),g.target=qs)))}function za(h,g){var C={};return C[h.toLowerCase()]=g.toLowerCase(),C["Webkit"+h]="webkit"+g,C["Moz"+h]="moz"+g,C}var Zi={animationend:za("Animation","AnimationEnd"),animationiteration:za("Animation","AnimationIteration"),animationstart:za("Animation","AnimationStart"),transitionrun:za("Transition","TransitionRun"),transitionstart:za("Transition","TransitionStart"),transitioncancel:za("Transition","TransitionCancel"),transitionend:za("Transition","TransitionEnd")},Vs={},Dr={};ba&&(Dr=document.createElement("div").style,"AnimationEvent"in window||(delete Zi.animationend.animation,delete Zi.animationiteration.animation,delete Zi.animationstart.animation),"TransitionEvent"in window||delete Zi.transitionend.transition);function Fa(h){if(Vs[h])return Vs[h];if(!Zi[h])return h;var g=Zi[h],C;for(C in g)if(g.hasOwnProperty(C)&&C in Dr)return Vs[h]=g[C];return h}var xu=Fa("animationend"),Hs=Fa("animationiteration"),Nc=Fa("animationstart"),jc=Fa("transitionrun"),_d=Fa("transitionstart"),wa=Fa("transitioncancel"),wl=Fa("transitionend"),Hl=new Map,Fo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fo.push("scrollEnd");function Hi(h,g){Hl.set(h,g),Ki(g,[h])}var oa=new WeakMap;function pr(h,g){if(typeof h=="object"&&h!==null){var C=oa.get(h);return C!==void 0?C:(g={value:h,source:g,stack:kr(g)},oa.set(h,g),g)}return{value:h,source:g,stack:kr(g)}}var sr=[],ni=0,$n=0;function $s(){for(var h=ni,g=$n=ni=0;g<h;){var C=sr[g];sr[g++]=null;var I=sr[g];sr[g++]=null;var L=sr[g];sr[g++]=null;var V=sr[g];if(sr[g++]=null,I!==null&&L!==null){var he=I.pending;he===null?L.next=L:(L.next=he.next,he.next=L),I.pending=L}V!==0&&Cd(C,L,V)}}function Oc(h,g,C,I){sr[ni++]=h,sr[ni++]=g,sr[ni++]=C,sr[ni++]=I,$n|=I,h.lanes|=I,h=h.alternate,h!==null&&(h.lanes|=I)}function Bc(h,g,C,I){return Oc(h,g,C,I),Su(h)}function Mn(h,g){return Oc(h,null,null,g),Su(h)}function Cd(h,g,C){h.lanes|=C;var I=h.alternate;I!==null&&(I.lanes|=C);for(var L=!1,V=h.return;V!==null;)V.childLanes|=C,I=V.alternate,I!==null&&(I.childLanes|=C),V.tag===22&&(h=V.stateNode,h===null||h._visibility&1||(L=!0)),h=V,V=V.return;return h.tag===3?(V=h.stateNode,L&&g!==null&&(L=31-kt(C),h=V.hiddenUpdates,I=h[L],I===null?h[L]=[g]:I.push(g),g.lane=C|536870912),V):null}function Su(h){if(50<Jr)throw Jr=0,Kp=null,Error(o(185));for(var g=h.return;g!==null;)h=g,g=h.return;return h.tag===3?h.stateNode:null}var ho={};function va(h,g,C,I){this.tag=h,this.key=C,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=I,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fo(h,g,C,I){return new va(h,g,C,I)}function xd(h){return h=h.prototype,!(!h||!h.isReactComponent)}function Ws(h,g){var C=h.alternate;return C===null?(C=fo(h.tag,g,h.key,h.mode),C.elementType=h.elementType,C.type=h.type,C.stateNode=h.stateNode,C.alternate=h,h.alternate=C):(C.pendingProps=g,C.type=h.type,C.flags=0,C.subtreeFlags=0,C.deletions=null),C.flags=h.flags&65011712,C.childLanes=h.childLanes,C.lanes=h.lanes,C.child=h.child,C.memoizedProps=h.memoizedProps,C.memoizedState=h.memoizedState,C.updateQueue=h.updateQueue,g=h.dependencies,C.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},C.sibling=h.sibling,C.index=h.index,C.ref=h.ref,C.refCleanup=h.refCleanup,C}function Lc(h,g){h.flags&=65011714;var C=h.alternate;return C===null?(h.childLanes=0,h.lanes=g,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=C.childLanes,h.lanes=C.lanes,h.child=C.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=C.memoizedProps,h.memoizedState=C.memoizedState,h.updateQueue=C.updateQueue,h.type=C.type,g=C.dependencies,h.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext}),h}function Eu(h,g,C,I,L,V){var he=0;if(I=h,typeof h=="function")xd(h)&&(he=1);else if(typeof h=="string")he=j1(h,C,ke.current)?26:h==="html"||h==="head"||h==="body"?27:5;else e:switch(h){case Z:return h=fo(31,C,g,L),h.elementType=Z,h.lanes=V,h;case D:return ya(C.children,L,V,g);case E:he=8,L|=24;break;case j:return h=fo(12,C,g,L|2),h.elementType=j,h.lanes=V,h;case J:return h=fo(13,C,g,L),h.elementType=J,h.lanes=V,h;case H:return h=fo(19,C,g,L),h.elementType=H,h.lanes=V,h;default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case M:case z:he=10;break e;case B:he=9;break e;case G:he=11;break e;case F:he=14;break e;case Q:he=16,I=null;break e}he=29,C=Error(o(130,h===null?"null":typeof h,"")),I=null}return g=fo(he,C,g,L),g.elementType=h,g.type=I,g.lanes=V,g}function ya(h,g,C,I){return h=fo(7,h,I,g),h.lanes=C,h}function Ua(h,g,C){return h=fo(6,h,null,g),h.lanes=C,h}function Du(h,g,C){return g=fo(4,h.children!==null?h.children:[],h.key,g),g.lanes=C,g.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},g}var Pc=[],$l=0,Sd=null,_p=0,qa=[],sa=0,Iu=null,Wl=1,Gl="";function Rc(h,g){Pc[$l++]=_p,Pc[$l++]=Sd,Sd=h,_p=g}function Ab(h,g,C){qa[sa++]=Wl,qa[sa++]=Gl,qa[sa++]=Iu,Iu=h;var I=Wl;h=Gl;var L=32-kt(I)-1;I&=~(1<<L),C+=1;var V=32-kt(g)+L;if(30<V){var he=L-L%5;V=(I&(1<<he)-1).toString(32),I>>=he,L-=he,Wl=1<<32-kt(g)+L|C<<L|I,Gl=V+h}else Wl=1<<V|C<<L|I,Gl=h}function Ed(h){h.return!==null&&(Rc(h,1),Ab(h,1,0))}function If(h){for(;h===Sd;)Sd=Pc[--$l],Pc[$l]=null,_p=Pc[--$l],Pc[$l]=null;for(;h===Iu;)Iu=qa[--sa],qa[sa]=null,Gl=qa[--sa],qa[sa]=null,Wl=qa[--sa],qa[sa]=null}var _o=null,Ri=null,ln=!1,Tu=null,Gs=!1,Tf=Error(o(519));function Yl(h){var g=Error(o(418,""));throw xh(pr(g,h)),Tf}function Cp(h){var g=h.stateNode,C=h.type,I=h.memoizedProps;switch(g[Sr]=h,g[or]=I,C){case"dialog":br("cancel",g),br("close",g);break;case"iframe":case"object":case"embed":br("load",g);break;case"video":case"audio":for(C=0;C<Kf.length;C++)br(Kf[C],g);break;case"source":br("error",g);break;case"img":case"image":case"link":br("error",g),br("load",g);break;case"details":br("toggle",g);break;case"input":br("invalid",g),ph(g,I.value,I.defaultValue,I.checked,I.defaultChecked,I.type,I.name,!0),ga(g);break;case"select":br("invalid",g);break;case"textarea":br("invalid",g),yf(g,I.value,I.defaultValue,I.children),ga(g)}C=I.children,typeof C!="string"&&typeof C!="number"&&typeof C!="bigint"||g.textContent===""+C||I.suppressHydrationWarning===!0||Wu(g.textContent,C)?(I.popover!=null&&(br("beforetoggle",g),br("toggle",g)),I.onScroll!=null&&br("scroll",g),I.onScrollEnd!=null&&br("scrollend",g),I.onClick!=null&&(g.onclick=xl),g=!0):g=!1,g||Yl(h)}function zc(h){for(_o=h.return;_o;)switch(_o.tag){case 5:case 13:Gs=!1;return;case 27:case 3:Gs=!0;return;default:_o=_o.return}}function ar(h){if(h!==_o)return!1;if(!ln)return zc(h),ln=!0,!1;var g=h.tag,C;if((C=g!==3&&g!==27)&&((C=g===5)&&(C=h.type,C=!(C!=="form"&&C!=="button")||e0(h.type,h.memoizedProps)),C=!C),C&&Ri&&Yl(h),zc(h),g===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));e:{for(h=h.nextSibling,g=0;h;){if(h.nodeType===8)if(C=h.data,C==="/$"){if(g===0){Ri=ic(h.nextSibling);break e}g--}else C!=="$"&&C!=="$!"&&C!=="$?"||g++;h=h.nextSibling}Ri=null}}else g===27?(g=Ri,Gu(h.type)?(h=E1,E1=null,Ri=h):Ri=g):Ri=_o?ic(h.stateNode.nextSibling):null;return!0}function Ys(){Ri=_o=null,ln=!1}function Xm(){var h=Tu;return h!==null&&(Za===null?Za=h:Za.push.apply(Za,h),Tu=null),h}function xh(h){Tu===null?Tu=[h]:Tu.push(h)}var vl=Ie(null),Uo=null,Fc=null;function Mu(h,g,C){te(vl,g._currentValue),g._currentValue=C}function ls(h){h._currentValue=vl.current,re(vl)}function xp(h,g,C){for(;h!==null;){var I=h.alternate;if((h.childLanes&g)!==g?(h.childLanes|=g,I!==null&&(I.childLanes|=g)):I!==null&&(I.childLanes&g)!==g&&(I.childLanes|=g),h===C)break;h=h.return}}function Mf(h,g,C,I){var L=h.child;for(L!==null&&(L.return=h);L!==null;){var V=L.dependencies;if(V!==null){var he=L.child;V=V.firstContext;e:for(;V!==null;){var Ee=V;V=L;for(var Ve=0;Ve<g.length;Ve++)if(Ee.context===g[Ve]){V.lanes|=C,Ee=V.alternate,Ee!==null&&(Ee.lanes|=C),xp(V.return,C,h),I||(he=null);break e}V=Ee.next}}else if(L.tag===18){if(he=L.return,he===null)throw Error(o(341));he.lanes|=C,V=he.alternate,V!==null&&(V.lanes|=C),xp(he,C,h),he=null}else he=L.child;if(he!==null)he.return=L;else for(he=L;he!==null;){if(he===h){he=null;break}if(L=he.sibling,L!==null){L.return=he.return,he=L;break}he=he.return}L=he}}function Sh(h,g,C,I){h=null;for(var L=g,V=!1;L!==null;){if(!V){if((L.flags&524288)!==0)V=!0;else if((L.flags&262144)!==0)break}if(L.tag===10){var he=L.alternate;if(he===null)throw Error(o(387));if(he=he.memoizedProps,he!==null){var Ee=L.type;Ao(L.pendingProps.value,he.value)||(h!==null?h.push(Ee):h=[Ee])}}else if(L===Re.current){if(he=L.alternate,he===null)throw Error(o(387));he.memoizedState.memoizedState!==L.memoizedState.memoizedState&&(h!==null?h.push(Ig):h=[Ig])}L=L.return}h!==null&&Mf(g,h,C,I),g.flags|=262144}function Sp(h){for(h=h.firstContext;h!==null;){if(!Ao(h.context._currentValue,h.memoizedValue))return!0;h=h.next}return!1}function Kl(h){Uo=h,Fc=null,h=h.dependencies,h!==null&&(h.firstContext=null)}function Co(h){return Ep(Uo,h)}function Dd(h,g){return Uo===null&&Kl(h),Ep(h,g)}function Ep(h,g){var C=g._currentValue;if(g={context:g,memoizedValue:C,next:null},Fc===null){if(h===null)throw Error(o(308));Fc=g,h.dependencies={lanes:0,firstContext:g},h.flags|=524288}else Fc=Fc.next=g;return C}var Ok=typeof AbortController<"u"?AbortController:function(){var h=[],g=this.signal={aborted:!1,addEventListener:function(C,I){h.push(I)}};this.abort=function(){g.aborted=!0,h.forEach(function(C){return C()})}},_b=t.unstable_scheduleCallback,Cb=t.unstable_NormalPriority,xo={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nf(){return{controller:new Ok,data:new Map,refCount:0}}function jf(h){h.refCount--,h.refCount===0&&_b(Cb,function(){h.controller.abort()})}var Of=null,Dp=0,Id=0,So=null;function qo(h,g){if(Of===null){var C=Of=[];Dp=0,Id=w1(),So={status:"pending",value:void 0,then:function(I){C.push(I)}}}return Dp++,g.then(Ji,Ji),g}function Ji(){if(--Dp===0&&Of!==null){So!==null&&(So.status="fulfilled");var h=Of;Of=null,Id=0,So=null;for(var g=0;g<h.length;g++)(0,h[g])()}}function eg(h,g){var C=[],I={status:"pending",value:null,reason:null,then:function(L){C.push(L)}};return h.then(function(){I.status="fulfilled",I.value=g;for(var L=0;L<C.length;L++)(0,C[L])(g)},function(L){for(I.status="rejected",I.reason=L,L=0;L<C.length;L++)(0,C[L])(void 0)}),I}var N=ue.S;ue.S=function(h,g){typeof g=="object"&&g!==null&&typeof g.then=="function"&&qo(h,g),N!==null&&N(h,g)};var R=Ie(null);function K(){var h=R.current;return h!==null?h:Lr.pooledCache}function ie(h,g){g===null?te(R,R.current):te(R,g.pool)}function pe(){var h=K();return h===null?null:{parent:xo._currentValue,pool:h}}var ye=Error(o(460)),_e=Error(o(474)),Se=Error(o(542)),Te={then:function(){}};function Le(h){return h=h.status,h==="fulfilled"||h==="rejected"}function We(){}function lt(h,g,C){switch(C=h[C],C===void 0?h.push(g):C!==g&&(g.then(We,We),g=C),g.status){case"fulfilled":return g.value;case"rejected":throw h=g.reason,Bt(h),h;default:if(typeof g.status=="string")g.then(We,We);else{if(h=Lr,h!==null&&100<h.shellSuspendCounter)throw Error(o(482));h=g,h.status="pending",h.then(function(I){if(g.status==="pending"){var L=g;L.status="fulfilled",L.value=I}},function(I){if(g.status==="pending"){var L=g;L.status="rejected",L.reason=I}})}switch(g.status){case"fulfilled":return g.value;case"rejected":throw h=g.reason,Bt(h),h}throw rt=g,ye}}var rt=null;function et(){if(rt===null)throw Error(o(459));var h=rt;return rt=null,h}function Bt(h){if(h===ye||h===Se)throw Error(o(483))}var bt=!1;function Ye(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Je(h,g){h=h.updateQueue,g.updateQueue===h&&(g.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,callbacks:null})}function Tt(h){return{lane:h,tag:0,payload:null,callback:null,next:null}}function Rt(h,g,C){var I=h.updateQueue;if(I===null)return null;if(I=I.shared,(ii&2)!==0){var L=I.pending;return L===null?g.next=g:(g.next=L.next,L.next=g),I.pending=g,g=Su(h),Cd(h,null,C),g}return Oc(h,I,g,C),Su(h)}function Lt(h,g,C){if(g=g.updateQueue,g!==null&&(g=g.shared,(C&4194048)!==0)){var I=g.lanes;I&=h.pendingLanes,C|=I,g.lanes=C,ir(h,C)}}function nn(h,g){var C=h.updateQueue,I=h.alternate;if(I!==null&&(I=I.updateQueue,C===I)){var L=null,V=null;if(C=C.firstBaseUpdate,C!==null){do{var he={lane:C.lane,tag:C.tag,payload:C.payload,callback:null,next:null};V===null?L=V=he:V=V.next=he,C=C.next}while(C!==null);V===null?L=V=g:V=V.next=g}else L=V=g;C={baseState:I.baseState,firstBaseUpdate:L,lastBaseUpdate:V,shared:I.shared,callbacks:I.callbacks},h.updateQueue=C;return}h=C.lastBaseUpdate,h===null?C.firstBaseUpdate=g:h.next=g,C.lastBaseUpdate=g}var Xt=!1;function vn(){if(Xt){var h=So;if(h!==null)throw h}}function en(h,g,C,I){Xt=!1;var L=h.updateQueue;bt=!1;var V=L.firstBaseUpdate,he=L.lastBaseUpdate,Ee=L.shared.pending;if(Ee!==null){L.shared.pending=null;var Ve=Ee,ct=Ve.next;Ve.next=null,he===null?V=ct:he.next=ct,he=Ve;var Mt=h.alternate;Mt!==null&&(Mt=Mt.updateQueue,Ee=Mt.lastBaseUpdate,Ee!==he&&(Ee===null?Mt.firstBaseUpdate=ct:Ee.next=ct,Mt.lastBaseUpdate=Ve))}if(V!==null){var Et=L.baseState;he=0,Mt=ct=Ve=null,Ee=V;do{var ht=Ee.lane&-536870913,mt=ht!==Ee.lane;if(mt?(Jn&ht)===ht:(I&ht)===ht){ht!==0&&ht===Id&&(Xt=!0),Mt!==null&&(Mt=Mt.next={lane:0,tag:Ee.tag,payload:Ee.payload,callback:null,next:null});e:{var En=h,Dn=Ee;ht=g;var pi=C;switch(Dn.tag){case 1:if(En=Dn.payload,typeof En=="function"){Et=En.call(pi,Et,ht);break e}Et=En;break e;case 3:En.flags=En.flags&-65537|128;case 0:if(En=Dn.payload,ht=typeof En=="function"?En.call(pi,Et,ht):En,ht==null)break e;Et=v({},Et,ht);break e;case 2:bt=!0}}ht=Ee.callback,ht!==null&&(h.flags|=64,mt&&(h.flags|=8192),mt=L.callbacks,mt===null?L.callbacks=[ht]:mt.push(ht))}else mt={lane:ht,tag:Ee.tag,payload:Ee.payload,callback:Ee.callback,next:null},Mt===null?(ct=Mt=mt,Ve=Et):Mt=Mt.next=mt,he|=ht;if(Ee=Ee.next,Ee===null){if(Ee=L.shared.pending,Ee===null)break;mt=Ee,Ee=mt.next,mt.next=null,L.lastBaseUpdate=mt,L.shared.pending=null}}while(!0);Mt===null&&(Ve=Et),L.baseState=Ve,L.firstBaseUpdate=ct,L.lastBaseUpdate=Mt,V===null&&(L.shared.lanes=0),ut|=he,h.lanes=he,h.memoizedState=Et}}function Cr(h,g){if(typeof h!="function")throw Error(o(191,h));h.call(g)}function Or(h,g){var C=h.callbacks;if(C!==null)for(h.callbacks=null,h=0;h<C.length;h++)Cr(C[h],g)}var tr=Ie(null),qn=Ie(0);function Br(h,g){h=Vu,te(qn,h),te(tr,g),Vu=h|g.baseLanes}function Ir(){te(qn,Vu),te(tr,tr.current)}function Pn(){Vu=qn.current,re(tr),re(qn)}var Zr=0,Cn=null,jn=null,It=null,Tr=!1,Vt=!1,Eo=!1,zt=0,Xi=0,Ut=null,Va=0;function jt(){throw Error(o(321))}function zi(h,g){if(g===null)return!1;for(var C=0;C<g.length&&C<h.length;C++)if(!Ao(h[C],g[C]))return!1;return!0}function Ks(h,g,C,I,L,V){return Zr=V,Cn=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,ue.H=h===null||h.memoizedState===null?Np:qf,Eo=!1,V=C(I,L),Eo=!1,Vt&&(V=Ql(g,C,I,L)),un(h),V}function un(h){ue.H=Wa;var g=jn!==null&&jn.next!==null;if(Zr=0,It=jn=Cn=null,Tr=!1,Xi=0,Ut=null,g)throw Error(o(300));h===null||$o||(h=h.dependencies,h!==null&&Sp(h)&&($o=!0))}function Ql(h,g,C,I){Cn=h;var L=0;do{if(Vt&&(Ut=null),Xi=0,Vt=!1,25<=L)throw Error(o(301));if(L+=1,It=jn=null,h.updateQueue!=null){var V=h.updateQueue;V.lastEffect=null,V.events=null,V.stores=null,V.memoCache!=null&&(V.memoCache.index=0)}ue.H=ug,V=g(C,I)}while(Vt);return V}function Zl(){var h=ue.H,g=h.useState()[0];return g=typeof g.then=="function"?Uc(g):g,h=h.useState()[0],(jn!==null?jn.memoizedState:null)!==h&&(Cn.flags|=1024),g}function ri(){var h=zt!==0;return zt=0,h}function Bf(h,g,C){g.updateQueue=h.updateQueue,g.flags&=-2053,h.lanes&=~C}function $t(h){if(Tr){for(h=h.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}Tr=!1}Zr=0,It=jn=Cn=null,Vt=!1,Xi=zt=0,Ut=null}function Ds(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Cn.memoizedState=It=h:It=It.next=h,It}function pn(){if(jn===null){var h=Cn.alternate;h=h!==null?h.memoizedState:null}else h=jn.next;var g=It===null?Cn.memoizedState:It.next;if(g!==null)It=g,jn=h;else{if(h===null)throw Cn.alternate===null?Error(o(467)):Error(o(310));jn=h,h={memoizedState:jn.memoizedState,baseState:jn.baseState,baseQueue:jn.baseQueue,queue:jn.queue,next:null},It===null?Cn.memoizedState=It=h:It=It.next=h}return It}function Nu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Uc(h){var g=Xi;return Xi+=1,Ut===null&&(Ut=[]),h=lt(Ut,h,g),g=Cn,(It===null?g.memoizedState:It.next)===null&&(g=g.alternate,ue.H=g===null||g.memoizedState===null?Np:qf),h}function Qs(h){if(h!==null&&typeof h=="object"){if(typeof h.then=="function")return Uc(h);if(h.$$typeof===z)return Co(h)}throw Error(o(438,String(h)))}function qc(h){var g=null,C=Cn.updateQueue;if(C!==null&&(g=C.memoCache),g==null){var I=Cn.alternate;I!==null&&(I=I.updateQueue,I!==null&&(I=I.memoCache,I!=null&&(g={data:I.data.map(function(L){return L.slice()}),index:0})))}if(g==null&&(g={data:[],index:0}),C===null&&(C=Nu(),Cn.updateQueue=C),C.memoCache=g,C=g.data[g.index],C===void 0)for(C=g.data[g.index]=Array(h),I=0;I<h;I++)C[I]=ae;return g.index++,C}function cs(h,g){return typeof g=="function"?g(h):g}function ju(h){var g=pn();return Eh(g,jn,h)}function Eh(h,g,C){var I=h.queue;if(I===null)throw Error(o(311));I.lastRenderedReducer=C;var L=h.baseQueue,V=I.pending;if(V!==null){if(L!==null){var he=L.next;L.next=V.next,V.next=he}g.baseQueue=L=V,I.pending=null}if(V=h.baseState,L===null)h.memoizedState=V;else{g=L.next;var Ee=he=null,Ve=null,ct=g,Mt=!1;do{var Et=ct.lane&-536870913;if(Et!==ct.lane?(Jn&Et)===Et:(Zr&Et)===Et){var ht=ct.revertLane;if(ht===0)Ve!==null&&(Ve=Ve.next={lane:0,revertLane:0,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null}),Et===Id&&(Mt=!0);else if((Zr&ht)===ht){ct=ct.next,ht===Id&&(Mt=!0);continue}else Et={lane:0,revertLane:ct.revertLane,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null},Ve===null?(Ee=Ve=Et,he=V):Ve=Ve.next=Et,Cn.lanes|=ht,ut|=ht;Et=ct.action,Eo&&C(V,Et),V=ct.hasEagerState?ct.eagerState:C(V,Et)}else ht={lane:Et,revertLane:ct.revertLane,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null},Ve===null?(Ee=Ve=ht,he=V):Ve=Ve.next=ht,Cn.lanes|=Et,ut|=Et;ct=ct.next}while(ct!==null&&ct!==g);if(Ve===null?he=V:Ve.next=Ee,!Ao(V,h.memoizedState)&&($o=!0,Mt&&(C=So,C!==null)))throw C;h.memoizedState=V,h.baseState=he,h.baseQueue=Ve,I.lastRenderedState=V}return L===null&&(I.lanes=0),[h.memoizedState,I.dispatch]}function Ip(h){var g=pn(),C=g.queue;if(C===null)throw Error(o(311));C.lastRenderedReducer=h;var I=C.dispatch,L=C.pending,V=g.memoizedState;if(L!==null){C.pending=null;var he=L=L.next;do V=h(V,he.action),he=he.next;while(he!==L);Ao(V,g.memoizedState)||($o=!0),g.memoizedState=V,g.baseQueue===null&&(g.baseState=V),C.lastRenderedState=V}return[V,I]}function Td(h,g,C){var I=Cn,L=pn(),V=ln;if(V){if(C===void 0)throw Error(o(407));C=C()}else C=g();var he=!Ao((jn||L).memoizedState,C);he&&(L.memoizedState=C,$o=!0),L=L.queue;var Ee=Ih.bind(null,I,L,h);if(Nh(2048,8,Ee,[h]),L.getSnapshot!==g||he||It!==null&&It.memoizedState.tag&1){if(I.flags|=2048,Aa(9,$c(),Lf.bind(null,I,L,C,g),null),Lr===null)throw Error(o(349));V||(Zr&124)!==0||Dh(I,g,C)}return C}function Dh(h,g,C){h.flags|=16384,h={getSnapshot:g,value:C},g=Cn.updateQueue,g===null?(g=Nu(),Cn.updateQueue=g,g.stores=[h]):(C=g.stores,C===null?g.stores=[h]:C.push(h))}function Lf(h,g,C,I){g.value=C,g.getSnapshot=I,xb(g)&&Sb(h)}function Ih(h,g,C){return C(function(){xb(g)&&Sb(h)})}function xb(h){var g=h.getSnapshot;h=h.value;try{var C=g();return!Ao(h,C)}catch{return!0}}function Sb(h){var g=Mn(h,2);g!==null&&Xs(g,h,2)}function Pf(h){var g=Ds();if(typeof h=="function"){var C=h;if(h=C(),Eo){at(!0);try{C()}finally{at(!1)}}}return g.memoizedState=g.baseState=h,g.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:h},g}function Vc(h,g,C,I){return h.baseState=C,Eh(h,jn,typeof I=="function"?I:cs)}function Bk(h,g,C,I,L){if(Mp(h))throw Error(o(485));if(h=g.action,h!==null){var V={payload:L,action:h,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(he){V.listeners.push(he)}};ue.T!==null?C(!0):V.isTransition=!1,I(V),C=g.pending,C===null?(V.next=g.pending=V,tg(g,V)):(V.next=C.next,g.pending=C.next=V)}}function tg(h,g){var C=g.action,I=g.payload,L=h.state;if(g.isTransition){var V=ue.T,he={};ue.T=he;try{var Ee=C(L,I),Ve=ue.S;Ve!==null&&Ve(he,Ee),ng(h,g,Ee)}catch(ct){Ou(h,g,ct)}finally{ue.T=V}}else try{V=C(L,I),ng(h,g,V)}catch(ct){Ou(h,g,ct)}}function ng(h,g,C){C!==null&&typeof C=="object"&&typeof C.then=="function"?C.then(function(I){rg(h,g,I)},function(I){return Ou(h,g,I)}):rg(h,g,C)}function rg(h,g,C){g.status="fulfilled",g.value=C,Th(g),h.state=C,g=h.pending,g!==null&&(C=g.next,C===g?h.pending=null:(C=C.next,g.next=C,tg(h,C)))}function Ou(h,g,C){var I=h.pending;if(h.pending=null,I!==null){I=I.next;do g.status="rejected",g.reason=C,Th(g),g=g.next;while(g!==I)}h.action=null}function Th(h){h=h.listeners;for(var g=0;g<h.length;g++)(0,h[g])()}function Bu(h,g){return g}function Md(h,g){if(ln){var C=Lr.formState;if(C!==null){e:{var I=Cn;if(ln){if(Ri){t:{for(var L=Ri,V=Gs;L.nodeType!==8;){if(!V){L=null;break t}if(L=ic(L.nextSibling),L===null){L=null;break t}}V=L.data,L=V==="F!"||V==="F"?L:null}if(L){Ri=ic(L.nextSibling),I=L.data==="F!";break e}}Yl(I)}I=!1}I&&(g=C[0])}}return C=Ds(),C.memoizedState=C.baseState=g,I={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bu,lastRenderedState:g},C.queue=I,C=EA.bind(null,Cn,I),I.dispatch=C,I=Pf(!1),V=Lk.bind(null,Cn,!1,I.queue),I=Ds(),L={state:g,dispatch:null,action:h,pending:null},I.queue=L,C=Bk.bind(null,Cn,L,V,C),L.dispatch=C,I.memoizedState=h,[g,C,!1]}function Hc(h){var g=pn();return Mh(g,jn,h)}function Mh(h,g,C){if(g=Eh(h,g,Bu)[0],h=ju(cs)[0],typeof g=="object"&&g!==null&&typeof g.then=="function")try{var I=Uc(g)}catch(he){throw he===ye?Se:he}else I=g;g=pn();var L=g.queue,V=L.dispatch;return C!==g.memoizedState&&(Cn.flags|=2048,Aa(9,$c(),ig.bind(null,L,C),null)),[I,V,h]}function ig(h,g){h.action=g}function Rf(h){var g=pn(),C=jn;if(C!==null)return Mh(g,C,h);pn(),g=g.memoizedState,C=pn();var I=C.queue.dispatch;return C.memoizedState=h,[g,I,!1]}function Aa(h,g,C,I){return h={tag:h,create:C,deps:I,inst:g,next:null},g=Cn.updateQueue,g===null&&(g=Nu(),Cn.updateQueue=g),C=g.lastEffect,C===null?g.lastEffect=h.next=h:(I=C.next,C.next=h,h.next=I,g.lastEffect=h),h}function $c(){return{destroy:void 0,resource:void 0}}function zf(){return pn().memoizedState}function Ha(h,g,C,I){var L=Ds();I=I===void 0?null:I,Cn.flags|=h,L.memoizedState=Aa(1|g,$c(),C,I)}function Nh(h,g,C,I){var L=pn();I=I===void 0?null:I;var V=L.memoizedState.inst;jn!==null&&I!==null&&zi(I,jn.memoizedState.deps)?L.memoizedState=Aa(g,V,C,I):(Cn.flags|=h,L.memoizedState=Aa(1|g,V,C,I))}function og(h,g){Ha(8390656,8,h,g)}function Eb(h,g){Nh(2048,8,h,g)}function Ff(h,g){return Nh(4,2,h,g)}function Lu(h,g){return Nh(4,4,h,g)}function Db(h,g){if(typeof g=="function"){h=h();var C=g(h);return function(){typeof C=="function"?C():g(null)}}if(g!=null)return h=h(),g.current=h,function(){g.current=null}}function Wc(h,g,C){C=C!=null?C.concat([h]):null,Nh(4,4,Db.bind(null,g,h),C)}function Tp(){}function Gc(h,g){var C=pn();g=g===void 0?null:g;var I=C.memoizedState;return g!==null&&zi(g,I[1])?I[0]:(C.memoizedState=[h,g],h)}function eo(h,g){var C=pn();g=g===void 0?null:g;var I=C.memoizedState;if(g!==null&&zi(g,I[1]))return I[0];if(I=h(),Eo){at(!0);try{h()}finally{at(!1)}}return C.memoizedState=[I,g],I}function Zs(h,g,C){return C===void 0||(Zr&1073741824)!==0?h.memoizedState=g:(h.memoizedState=C,h=QA(),Cn.lanes|=h,ut|=h,C)}function Nd(h,g,C,I){return Ao(C,g)?C:tr.current!==null?(h=Zs(h,C,I),Ao(h,g)||($o=!0),h):(Zr&42)===0?($o=!0,h.memoizedState=C):(h=QA(),Cn.lanes|=h,ut|=h,g)}function Uf(h,g,C,I,L){var V=de.p;de.p=V!==0&&8>V?V:8;var he=ue.T,Ee={};ue.T=Ee,Lk(h,!1,g,C);try{var Ve=L(),ct=ue.S;if(ct!==null&&ct(Ee,Ve),Ve!==null&&typeof Ve=="object"&&typeof Ve.then=="function"){var Mt=eg(Ve,I);Od(h,g,Mt,no(h))}else Od(h,g,I,no(h))}catch(Et){Od(h,g,{then:function(){},status:"rejected",reason:Et},no())}finally{de.p=V,ue.T=he}}function _a(){}function $a(h,g,C,I){if(h.tag!==5)throw Error(o(476));var L=Vo(h).queue;Uf(h,L,g,me,C===null?_a:function(){return Pu(h),C(I)})}function Vo(h){var g=h.memoizedState;if(g!==null)return g;g={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:me},next:null};var C={};return g.next={memoizedState:C,baseState:C,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:C},next:null},h.memoizedState=g,h=h.alternate,h!==null&&(h.memoizedState=g),g}function Pu(h){var g=Vo(h).next.queue;Od(h,g,{},no())}function jd(){return Co(Ig)}function sg(){return pn().memoizedState}function ag(){return pn().memoizedState}function lg(h){for(var g=h.return;g!==null;){switch(g.tag){case 24:case 3:var C=no();h=Tt(C);var I=Rt(g,h,C);I!==null&&(Xs(I,g,C),Lt(I,g,C)),g={cache:Nf()},h.payload=g;return}g=g.return}}function cg(h,g,C){var I=no();C={lane:I,revertLane:0,action:C,hasEagerState:!1,eagerState:null,next:null},Mp(h)?Ib(g,C):(C=Bc(h,g,C,I),C!==null&&(Xs(C,h,I),Tb(C,g,I)))}function EA(h,g,C){var I=no();Od(h,g,C,I)}function Od(h,g,C,I){var L={lane:I,revertLane:0,action:C,hasEagerState:!1,eagerState:null,next:null};if(Mp(h))Ib(g,L);else{var V=h.alternate;if(h.lanes===0&&(V===null||V.lanes===0)&&(V=g.lastRenderedReducer,V!==null))try{var he=g.lastRenderedState,Ee=V(he,C);if(L.hasEagerState=!0,L.eagerState=Ee,Ao(Ee,he))return Oc(h,g,L,0),Lr===null&&$s(),!1}catch{}finally{}if(C=Bc(h,g,L,I),C!==null)return Xs(C,h,I),Tb(C,g,I),!0}return!1}function Lk(h,g,C,I){if(I={lane:2,revertLane:w1(),action:I,hasEagerState:!1,eagerState:null,next:null},Mp(h)){if(g)throw Error(o(479))}else g=Bc(h,C,I,2),g!==null&&Xs(g,h,2)}function Mp(h){var g=h.alternate;return h===Cn||g!==null&&g===Cn}function Ib(h,g){Vt=Tr=!0;var C=h.pending;C===null?g.next=g:(g.next=C.next,C.next=g),h.pending=g}function Tb(h,g,C){if((C&4194048)!==0){var I=g.lanes;I&=h.pendingLanes,C|=I,g.lanes=C,ir(h,C)}}var Wa={readContext:Co,use:Qs,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useLayoutEffect:jt,useInsertionEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useSyncExternalStore:jt,useId:jt,useHostTransitionStatus:jt,useFormState:jt,useActionState:jt,useOptimistic:jt,useMemoCache:jt,useCacheRefresh:jt},Np={readContext:Co,use:Qs,useCallback:function(h,g){return Ds().memoizedState=[h,g===void 0?null:g],h},useContext:Co,useEffect:og,useImperativeHandle:function(h,g,C){C=C!=null?C.concat([h]):null,Ha(4194308,4,Db.bind(null,g,h),C)},useLayoutEffect:function(h,g){return Ha(4194308,4,h,g)},useInsertionEffect:function(h,g){Ha(4,2,h,g)},useMemo:function(h,g){var C=Ds();g=g===void 0?null:g;var I=h();if(Eo){at(!0);try{h()}finally{at(!1)}}return C.memoizedState=[I,g],I},useReducer:function(h,g,C){var I=Ds();if(C!==void 0){var L=C(g);if(Eo){at(!0);try{C(g)}finally{at(!1)}}}else L=g;return I.memoizedState=I.baseState=L,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:L},I.queue=h,h=h.dispatch=cg.bind(null,Cn,h),[I.memoizedState,h]},useRef:function(h){var g=Ds();return h={current:h},g.memoizedState=h},useState:function(h){h=Pf(h);var g=h.queue,C=EA.bind(null,Cn,g);return g.dispatch=C,[h.memoizedState,C]},useDebugValue:Tp,useDeferredValue:function(h,g){var C=Ds();return Zs(C,h,g)},useTransition:function(){var h=Pf(!1);return h=Uf.bind(null,Cn,h.queue,!0,!1),Ds().memoizedState=h,[!1,h]},useSyncExternalStore:function(h,g,C){var I=Cn,L=Ds();if(ln){if(C===void 0)throw Error(o(407));C=C()}else{if(C=g(),Lr===null)throw Error(o(349));(Jn&124)!==0||Dh(I,g,C)}L.memoizedState=C;var V={value:C,getSnapshot:g};return L.queue=V,og(Ih.bind(null,I,V,h),[h]),I.flags|=2048,Aa(9,$c(),Lf.bind(null,I,V,C,g),null),C},useId:function(){var h=Ds(),g=Lr.identifierPrefix;if(ln){var C=Gl,I=Wl;C=(I&~(1<<32-kt(I)-1)).toString(32)+C,g=""+g+"R"+C,C=zt++,0<C&&(g+="H"+C.toString(32)),g+=""}else C=Va++,g=""+g+"r"+C.toString(32)+"";return h.memoizedState=g},useHostTransitionStatus:jd,useFormState:Md,useActionState:Md,useOptimistic:function(h){var g=Ds();g.memoizedState=g.baseState=h;var C={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return g.queue=C,g=Lk.bind(null,Cn,!0,C),C.dispatch=g,[h,g]},useMemoCache:qc,useCacheRefresh:function(){return Ds().memoizedState=lg.bind(null,Cn)}},qf={readContext:Co,use:Qs,useCallback:Gc,useContext:Co,useEffect:Eb,useImperativeHandle:Wc,useInsertionEffect:Ff,useLayoutEffect:Lu,useMemo:eo,useReducer:ju,useRef:zf,useState:function(){return ju(cs)},useDebugValue:Tp,useDeferredValue:function(h,g){var C=pn();return Nd(C,jn.memoizedState,h,g)},useTransition:function(){var h=ju(cs)[0],g=pn().memoizedState;return[typeof h=="boolean"?h:Uc(h),g]},useSyncExternalStore:Td,useId:sg,useHostTransitionStatus:jd,useFormState:Hc,useActionState:Hc,useOptimistic:function(h,g){var C=pn();return Vc(C,jn,h,g)},useMemoCache:qc,useCacheRefresh:ag},ug={readContext:Co,use:Qs,useCallback:Gc,useContext:Co,useEffect:Eb,useImperativeHandle:Wc,useInsertionEffect:Ff,useLayoutEffect:Lu,useMemo:eo,useReducer:Ip,useRef:zf,useState:function(){return Ip(cs)},useDebugValue:Tp,useDeferredValue:function(h,g){var C=pn();return jn===null?Zs(C,h,g):Nd(C,jn.memoizedState,h,g)},useTransition:function(){var h=Ip(cs)[0],g=pn().memoizedState;return[typeof h=="boolean"?h:Uc(h),g]},useSyncExternalStore:Td,useId:sg,useHostTransitionStatus:jd,useFormState:Rf,useActionState:Rf,useOptimistic:function(h,g){var C=pn();return jn!==null?Vc(C,jn,h,g):(C.baseState=h,[h,C.queue.dispatch])},useMemoCache:qc,useCacheRefresh:ag},jp=null,jh=0;function dg(h){var g=jh;return jh+=1,jp===null&&(jp=[]),lt(jp,h,g)}function Op(h,g){g=g.props.ref,h.ref=g!==void 0?g:null}function Ru(h,g){throw g.$$typeof===_?Error(o(525)):(h=Object.prototype.toString.call(g),Error(o(31,h==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":h)))}function Qt(h){var g=h._init;return g(h._payload)}function Nn(h){function g(nt,Qe){if(h){var st=nt.deletions;st===null?(nt.deletions=[Qe],nt.flags|=16):st.push(Qe)}}function C(nt,Qe){if(!h)return null;for(;Qe!==null;)g(nt,Qe),Qe=Qe.sibling;return null}function I(nt){for(var Qe=new Map;nt!==null;)nt.key!==null?Qe.set(nt.key,nt):Qe.set(nt.index,nt),nt=nt.sibling;return Qe}function L(nt,Qe){return nt=Ws(nt,Qe),nt.index=0,nt.sibling=null,nt}function V(nt,Qe,st){return nt.index=st,h?(st=nt.alternate,st!==null?(st=st.index,st<Qe?(nt.flags|=67108866,Qe):st):(nt.flags|=67108866,Qe)):(nt.flags|=1048576,Qe)}function he(nt){return h&&nt.alternate===null&&(nt.flags|=67108866),nt}function Ee(nt,Qe,st,Pt){return Qe===null||Qe.tag!==6?(Qe=Ua(st,nt.mode,Pt),Qe.return=nt,Qe):(Qe=L(Qe,st),Qe.return=nt,Qe)}function Ve(nt,Qe,st,Pt){var rn=st.type;return rn===D?Mt(nt,Qe,st.props.children,Pt,st.key):Qe!==null&&(Qe.elementType===rn||typeof rn=="object"&&rn!==null&&rn.$$typeof===Q&&Qt(rn)===Qe.type)?(Qe=L(Qe,st.props),Op(Qe,st),Qe.return=nt,Qe):(Qe=Eu(st.type,st.key,st.props,null,nt.mode,Pt),Op(Qe,st),Qe.return=nt,Qe)}function ct(nt,Qe,st,Pt){return Qe===null||Qe.tag!==4||Qe.stateNode.containerInfo!==st.containerInfo||Qe.stateNode.implementation!==st.implementation?(Qe=Du(st,nt.mode,Pt),Qe.return=nt,Qe):(Qe=L(Qe,st.children||[]),Qe.return=nt,Qe)}function Mt(nt,Qe,st,Pt,rn){return Qe===null||Qe.tag!==7?(Qe=ya(st,nt.mode,Pt,rn),Qe.return=nt,Qe):(Qe=L(Qe,st),Qe.return=nt,Qe)}function Et(nt,Qe,st){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint")return Qe=Ua(""+Qe,nt.mode,st),Qe.return=nt,Qe;if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case x:return st=Eu(Qe.type,Qe.key,Qe.props,null,nt.mode,st),Op(st,Qe),st.return=nt,st;case y:return Qe=Du(Qe,nt.mode,st),Qe.return=nt,Qe;case Q:var Pt=Qe._init;return Qe=Pt(Qe._payload),Et(nt,Qe,st)}if(fe(Qe)||Y(Qe))return Qe=ya(Qe,nt.mode,st,null),Qe.return=nt,Qe;if(typeof Qe.then=="function")return Et(nt,dg(Qe),st);if(Qe.$$typeof===z)return Et(nt,Dd(nt,Qe),st);Ru(nt,Qe)}return null}function ht(nt,Qe,st,Pt){var rn=Qe!==null?Qe.key:null;if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return rn!==null?null:Ee(nt,Qe,""+st,Pt);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case x:return st.key===rn?Ve(nt,Qe,st,Pt):null;case y:return st.key===rn?ct(nt,Qe,st,Pt):null;case Q:return rn=st._init,st=rn(st._payload),ht(nt,Qe,st,Pt)}if(fe(st)||Y(st))return rn!==null?null:Mt(nt,Qe,st,Pt,null);if(typeof st.then=="function")return ht(nt,Qe,dg(st),Pt);if(st.$$typeof===z)return ht(nt,Qe,Dd(nt,st),Pt);Ru(nt,st)}return null}function mt(nt,Qe,st,Pt,rn){if(typeof Pt=="string"&&Pt!==""||typeof Pt=="number"||typeof Pt=="bigint")return nt=nt.get(st)||null,Ee(Qe,nt,""+Pt,rn);if(typeof Pt=="object"&&Pt!==null){switch(Pt.$$typeof){case x:return nt=nt.get(Pt.key===null?st:Pt.key)||null,Ve(Qe,nt,Pt,rn);case y:return nt=nt.get(Pt.key===null?st:Pt.key)||null,ct(Qe,nt,Pt,rn);case Q:var nr=Pt._init;return Pt=nr(Pt._payload),mt(nt,Qe,st,Pt,rn)}if(fe(Pt)||Y(Pt))return nt=nt.get(st)||null,Mt(Qe,nt,Pt,rn,null);if(typeof Pt.then=="function")return mt(nt,Qe,st,dg(Pt),rn);if(Pt.$$typeof===z)return mt(nt,Qe,st,Dd(Qe,Pt),rn);Ru(Qe,Pt)}return null}function En(nt,Qe,st,Pt){for(var rn=null,nr=null,kn=Qe,Sn=Qe=0,hs=null;kn!==null&&Sn<st.length;Sn++){kn.index>Sn?(hs=kn,kn=null):hs=kn.sibling;var qr=ht(nt,kn,st[Sn],Pt);if(qr===null){kn===null&&(kn=hs);break}h&&kn&&qr.alternate===null&&g(nt,kn),Qe=V(qr,Qe,Sn),nr===null?rn=qr:nr.sibling=qr,nr=qr,kn=hs}if(Sn===st.length)return C(nt,kn),ln&&Rc(nt,Sn),rn;if(kn===null){for(;Sn<st.length;Sn++)kn=Et(nt,st[Sn],Pt),kn!==null&&(Qe=V(kn,Qe,Sn),nr===null?rn=kn:nr.sibling=kn,nr=kn);return ln&&Rc(nt,Sn),rn}for(kn=I(kn);Sn<st.length;Sn++)hs=mt(kn,nt,Sn,st[Sn],Pt),hs!==null&&(h&&hs.alternate!==null&&kn.delete(hs.key===null?Sn:hs.key),Qe=V(hs,Qe,Sn),nr===null?rn=hs:nr.sibling=hs,nr=hs);return h&&kn.forEach(function(Gd){return g(nt,Gd)}),ln&&Rc(nt,Sn),rn}function Dn(nt,Qe,st,Pt){if(st==null)throw Error(o(151));for(var rn=null,nr=null,kn=Qe,Sn=Qe=0,hs=null,qr=st.next();kn!==null&&!qr.done;Sn++,qr=st.next()){kn.index>Sn?(hs=kn,kn=null):hs=kn.sibling;var Gd=ht(nt,kn,qr.value,Pt);if(Gd===null){kn===null&&(kn=hs);break}h&&kn&&Gd.alternate===null&&g(nt,kn),Qe=V(Gd,Qe,Sn),nr===null?rn=Gd:nr.sibling=Gd,nr=Gd,kn=hs}if(qr.done)return C(nt,kn),ln&&Rc(nt,Sn),rn;if(kn===null){for(;!qr.done;Sn++,qr=st.next())qr=Et(nt,qr.value,Pt),qr!==null&&(Qe=V(qr,Qe,Sn),nr===null?rn=qr:nr.sibling=qr,nr=qr);return ln&&Rc(nt,Sn),rn}for(kn=I(kn);!qr.done;Sn++,qr=st.next())qr=mt(kn,nt,Sn,qr.value,Pt),qr!==null&&(h&&qr.alternate!==null&&kn.delete(qr.key===null?Sn:qr.key),Qe=V(qr,Qe,Sn),nr===null?rn=qr:nr.sibling=qr,nr=qr);return h&&kn.forEach(function(IS){return g(nt,IS)}),ln&&Rc(nt,Sn),rn}function pi(nt,Qe,st,Pt){if(typeof st=="object"&&st!==null&&st.type===D&&st.key===null&&(st=st.props.children),typeof st=="object"&&st!==null){switch(st.$$typeof){case x:e:{for(var rn=st.key;Qe!==null;){if(Qe.key===rn){if(rn=st.type,rn===D){if(Qe.tag===7){C(nt,Qe.sibling),Pt=L(Qe,st.props.children),Pt.return=nt,nt=Pt;break e}}else if(Qe.elementType===rn||typeof rn=="object"&&rn!==null&&rn.$$typeof===Q&&Qt(rn)===Qe.type){C(nt,Qe.sibling),Pt=L(Qe,st.props),Op(Pt,st),Pt.return=nt,nt=Pt;break e}C(nt,Qe);break}else g(nt,Qe);Qe=Qe.sibling}st.type===D?(Pt=ya(st.props.children,nt.mode,Pt,st.key),Pt.return=nt,nt=Pt):(Pt=Eu(st.type,st.key,st.props,null,nt.mode,Pt),Op(Pt,st),Pt.return=nt,nt=Pt)}return he(nt);case y:e:{for(rn=st.key;Qe!==null;){if(Qe.key===rn)if(Qe.tag===4&&Qe.stateNode.containerInfo===st.containerInfo&&Qe.stateNode.implementation===st.implementation){C(nt,Qe.sibling),Pt=L(Qe,st.children||[]),Pt.return=nt,nt=Pt;break e}else{C(nt,Qe);break}else g(nt,Qe);Qe=Qe.sibling}Pt=Du(st,nt.mode,Pt),Pt.return=nt,nt=Pt}return he(nt);case Q:return rn=st._init,st=rn(st._payload),pi(nt,Qe,st,Pt)}if(fe(st))return En(nt,Qe,st,Pt);if(Y(st)){if(rn=Y(st),typeof rn!="function")throw Error(o(150));return st=rn.call(st),Dn(nt,Qe,st,Pt)}if(typeof st.then=="function")return pi(nt,Qe,dg(st),Pt);if(st.$$typeof===z)return pi(nt,Qe,Dd(nt,st),Pt);Ru(nt,st)}return typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint"?(st=""+st,Qe!==null&&Qe.tag===6?(C(nt,Qe.sibling),Pt=L(Qe,st),Pt.return=nt,nt=Pt):(C(nt,Qe),Pt=Ua(st,nt.mode,Pt),Pt.return=nt,nt=Pt),he(nt)):C(nt,Qe)}return function(nt,Qe,st,Pt){try{jh=0;var rn=pi(nt,Qe,st,Pt);return jp=null,rn}catch(kn){if(kn===ye||kn===Se)throw kn;var nr=fo(29,kn,null,nt.mode);return nr.lanes=Pt,nr.return=nt,nr}finally{}}}var Bd=Nn(!0),Jl=Nn(!1),Ga=Ie(null),Ca=null;function zu(h){var g=h.alternate;te(Ho,Ho.current&1),te(Ga,h),Ca===null&&(g===null||tr.current!==null||g.memoizedState!==null)&&(Ca=h)}function Mb(h){if(h.tag===22){if(te(Ho,Ho.current),te(Ga,h),Ca===null){var g=h.alternate;g!==null&&g.memoizedState!==null&&(Ca=h)}}else Xl()}function Xl(){te(Ho,Ho.current),te(Ga,Ga.current)}function Ya(h){re(Ga),Ca===h&&(Ca=null),re(Ho)}var Ho=Ie(0);function Bp(h){for(var g=h;g!==null;){if(g.tag===13){var C=g.memoizedState;if(C!==null&&(C=C.dehydrated,C===null||C.data==="$?"||S1(C)))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}function Lp(h,g,C,I){g=h.memoizedState,C=C(I,g),C=C==null?g:v({},g,C),h.memoizedState=C,h.lanes===0&&(h.updateQueue.baseState=C)}var Fu={enqueueSetState:function(h,g,C){h=h._reactInternals;var I=no(),L=Tt(I);L.payload=g,C!=null&&(L.callback=C),g=Rt(h,L,I),g!==null&&(Xs(g,h,I),Lt(g,h,I))},enqueueReplaceState:function(h,g,C){h=h._reactInternals;var I=no(),L=Tt(I);L.tag=1,L.payload=g,C!=null&&(L.callback=C),g=Rt(h,L,I),g!==null&&(Xs(g,h,I),Lt(g,h,I))},enqueueForceUpdate:function(h,g){h=h._reactInternals;var C=no(),I=Tt(C);I.tag=2,g!=null&&(I.callback=g),g=Rt(h,I,C),g!==null&&(Xs(g,h,C),Lt(g,h,C))}};function DA(h,g,C,I,L,V,he){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(I,V,he):g.prototype&&g.prototype.isPureReactComponent?!_u(C,I)||!_u(L,V):!0}function Nb(h,g,C,I){h=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(C,I),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(C,I),g.state!==h&&Fu.enqueueReplaceState(g,g.state,null)}function Ld(h,g){var C=g;if("ref"in g){C={};for(var I in g)I!=="ref"&&(C[I]=g[I])}if(h=h.defaultProps){C===g&&(C=v({},C));for(var L in h)C[L]===void 0&&(C[L]=h[L])}return C}var jb=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var g=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(g))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)};function hg(h){jb(h)}function IA(h){console.error(h)}function TA(h){jb(h)}function Pp(h,g){try{var C=h.onUncaughtError;C(g.value,{componentStack:g.stack})}catch(I){setTimeout(function(){throw I})}}function MA(h,g,C){try{var I=h.onCaughtError;I(C.value,{componentStack:C.stack,errorBoundary:g.tag===1?g.stateNode:null})}catch(L){setTimeout(function(){throw L})}}function Pd(h,g,C){return C=Tt(C),C.tag=3,C.payload={element:null},C.callback=function(){Pp(h,g)},C}function Pk(h){return h=Tt(h),h.tag=3,h}function Ob(h,g,C,I){var L=C.type.getDerivedStateFromError;if(typeof L=="function"){var V=I.value;h.payload=function(){return L(V)},h.callback=function(){MA(g,C,I)}}var he=C.stateNode;he!==null&&typeof he.componentDidCatch=="function"&&(h.callback=function(){MA(g,C,I),typeof L!="function"&&(Rh===null?Rh=new Set([this]):Rh.add(this));var Ee=I.stack;this.componentDidCatch(I.value,{componentStack:Ee!==null?Ee:""})})}function pS(h,g,C,I,L){if(C.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){if(g=C.alternate,g!==null&&Sh(g,C,L,!0),C=Ga.current,C!==null){switch(C.tag){case 13:return Ca===null?Gf():C.alternate===null&&Wi===0&&(Wi=3),C.flags&=-257,C.flags|=65536,C.lanes=L,I===Te?C.flags|=16384:(g=C.updateQueue,g===null?C.updateQueue=new Set([I]):g.add(I),m1(h,I,L)),!1;case 22:return C.flags|=65536,I===Te?C.flags|=16384:(g=C.updateQueue,g===null?(g={transitions:null,markerInstances:null,retryQueue:new Set([I])},C.updateQueue=g):(C=g.retryQueue,C===null?g.retryQueue=new Set([I]):C.add(I)),m1(h,I,L)),!1}throw Error(o(435,C.tag))}return m1(h,I,L),Gf(),!1}if(ln)return g=Ga.current,g!==null?((g.flags&65536)===0&&(g.flags|=256),g.flags|=65536,g.lanes=L,I!==Tf&&(h=Error(o(422),{cause:I}),xh(pr(h,C)))):(I!==Tf&&(g=Error(o(423),{cause:I}),xh(pr(g,C))),h=h.current.alternate,h.flags|=65536,L&=-L,h.lanes|=L,I=pr(I,C),L=Pd(h.stateNode,I,L),nn(h,L),Wi!==4&&(Wi=2)),!1;var V=Error(o(520),{cause:I});if(V=pr(V,C),Wp===null?Wp=[V]:Wp.push(V),Wi!==4&&(Wi=2),g===null)return!0;I=pr(I,C),C=g;do{switch(C.tag){case 3:return C.flags|=65536,h=L&-L,C.lanes|=h,h=Pd(C.stateNode,I,h),nn(C,h),!1;case 1:if(g=C.type,V=C.stateNode,(C.flags&128)===0&&(typeof g.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(Rh===null||!Rh.has(V))))return C.flags|=65536,L&=-L,C.lanes|=L,L=Pk(L),Ob(L,h,C,I),nn(C,L),!1}C=C.return}while(C!==null);return!1}var Rk=Error(o(461)),$o=!1;function Is(h,g,C,I){g.child=h===null?Jl(g,null,C,I):Bd(g,h.child,C,I)}function NA(h,g,C,I,L){C=C.render;var V=g.ref;if("ref"in I){var he={};for(var Ee in I)Ee!=="ref"&&(he[Ee]=I[Ee])}else he=I;return Kl(g),I=Ks(h,g,C,he,V,L),Ee=ri(),h!==null&&!$o?(Bf(h,g,L),Rd(h,g,L)):(ln&&Ee&&Ed(g),g.flags|=1,Is(h,g,I,L),g.child)}function zk(h,g,C,I,L){if(h===null){var V=C.type;return typeof V=="function"&&!xd(V)&&V.defaultProps===void 0&&C.compare===null?(g.tag=15,g.type=V,Bb(h,g,V,I,L)):(h=Eu(C.type,null,I,g,g.mode,L),h.ref=g.ref,h.return=g,g.child=h)}if(V=h.child,!$k(h,L)){var he=V.memoizedProps;if(C=C.compare,C=C!==null?C:_u,C(he,I)&&h.ref===g.ref)return Rd(h,g,L)}return g.flags|=1,h=Ws(V,I),h.ref=g.ref,h.return=g,g.child=h}function Bb(h,g,C,I,L){if(h!==null){var V=h.memoizedProps;if(_u(V,I)&&h.ref===g.ref)if($o=!1,g.pendingProps=I=V,$k(h,L))(h.flags&131072)!==0&&($o=!0);else return g.lanes=h.lanes,Rd(h,g,L)}return Lb(h,g,C,I,L)}function Rp(h,g,C){var I=g.pendingProps,L=I.children,V=h!==null?h.memoizedState:null;if(I.mode==="hidden"){if((g.flags&128)!==0){if(I=V!==null?V.baseLanes|C:C,h!==null){for(L=g.child=h.child,V=0;L!==null;)V=V|L.lanes|L.childLanes,L=L.sibling;g.childLanes=V&~I}else g.childLanes=0,g.child=null;return Fk(h,g,I,C)}if((C&536870912)!==0)g.memoizedState={baseLanes:0,cachePool:null},h!==null&&ie(g,V!==null?V.cachePool:null),V!==null?Br(g,V):Ir(),Mb(g);else return g.lanes=g.childLanes=536870912,Fk(h,g,V!==null?V.baseLanes|C:C,C)}else V!==null?(ie(g,V.cachePool),Br(g,V),Xl(),g.memoizedState=null):(h!==null&&ie(g,null),Ir(),Xl());return Is(h,g,L,C),g.child}function Fk(h,g,C,I){var L=K();return L=L===null?null:{parent:xo._currentValue,pool:L},g.memoizedState={baseLanes:C,cachePool:L},h!==null&&ie(g,null),Ir(),Mb(g),h!==null&&Sh(h,g,I,!0),null}function fg(h,g){var C=g.ref;if(C===null)h!==null&&h.ref!==null&&(g.flags|=4194816);else{if(typeof C!="function"&&typeof C!="object")throw Error(o(284));(h===null||h.ref!==C)&&(g.flags|=4194816)}}function Lb(h,g,C,I,L){return Kl(g),C=Ks(h,g,C,I,void 0,L),I=ri(),h!==null&&!$o?(Bf(h,g,L),Rd(h,g,L)):(ln&&I&&Ed(g),g.flags|=1,Is(h,g,C,L),g.child)}function zp(h,g,C,I,L,V){return Kl(g),g.updateQueue=null,C=Ql(g,I,C,L),un(h),I=ri(),h!==null&&!$o?(Bf(h,g,V),Rd(h,g,V)):(ln&&I&&Ed(g),g.flags|=1,Is(h,g,C,V),g.child)}function Ka(h,g,C,I,L){if(Kl(g),g.stateNode===null){var V=ho,he=C.contextType;typeof he=="object"&&he!==null&&(V=Co(he)),V=new C(I,V),g.memoizedState=V.state!==null&&V.state!==void 0?V.state:null,V.updater=Fu,g.stateNode=V,V._reactInternals=g,V=g.stateNode,V.props=I,V.state=g.memoizedState,V.refs={},Ye(g),he=C.contextType,V.context=typeof he=="object"&&he!==null?Co(he):ho,V.state=g.memoizedState,he=C.getDerivedStateFromProps,typeof he=="function"&&(Lp(g,C,he,I),V.state=g.memoizedState),typeof C.getDerivedStateFromProps=="function"||typeof V.getSnapshotBeforeUpdate=="function"||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(he=V.state,typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount(),he!==V.state&&Fu.enqueueReplaceState(V,V.state,null),en(g,I,V,L),vn(),V.state=g.memoizedState),typeof V.componentDidMount=="function"&&(g.flags|=4194308),I=!0}else if(h===null){V=g.stateNode;var Ee=g.memoizedProps,Ve=Ld(C,Ee);V.props=Ve;var ct=V.context,Mt=C.contextType;he=ho,typeof Mt=="object"&&Mt!==null&&(he=Co(Mt));var Et=C.getDerivedStateFromProps;Mt=typeof Et=="function"||typeof V.getSnapshotBeforeUpdate=="function",Ee=g.pendingProps!==Ee,Mt||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(Ee||ct!==he)&&Nb(g,V,I,he),bt=!1;var ht=g.memoizedState;V.state=ht,en(g,I,V,L),vn(),ct=g.memoizedState,Ee||ht!==ct||bt?(typeof Et=="function"&&(Lp(g,C,Et,I),ct=g.memoizedState),(Ve=bt||DA(g,C,Ve,I,ht,ct,he))?(Mt||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(g.flags|=4194308)):(typeof V.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=I,g.memoizedState=ct),V.props=I,V.state=ct,V.context=he,I=Ve):(typeof V.componentDidMount=="function"&&(g.flags|=4194308),I=!1)}else{V=g.stateNode,Je(h,g),he=g.memoizedProps,Mt=Ld(C,he),V.props=Mt,Et=g.pendingProps,ht=V.context,ct=C.contextType,Ve=ho,typeof ct=="object"&&ct!==null&&(Ve=Co(ct)),Ee=C.getDerivedStateFromProps,(ct=typeof Ee=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(he!==Et||ht!==Ve)&&Nb(g,V,I,Ve),bt=!1,ht=g.memoizedState,V.state=ht,en(g,I,V,L),vn();var mt=g.memoizedState;he!==Et||ht!==mt||bt||h!==null&&h.dependencies!==null&&Sp(h.dependencies)?(typeof Ee=="function"&&(Lp(g,C,Ee,I),mt=g.memoizedState),(Mt=bt||DA(g,C,Mt,I,ht,mt,Ve)||h!==null&&h.dependencies!==null&&Sp(h.dependencies))?(ct||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(I,mt,Ve),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(I,mt,Ve)),typeof V.componentDidUpdate=="function"&&(g.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof V.componentDidUpdate!="function"||he===h.memoizedProps&&ht===h.memoizedState||(g.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||he===h.memoizedProps&&ht===h.memoizedState||(g.flags|=1024),g.memoizedProps=I,g.memoizedState=mt),V.props=I,V.state=mt,V.context=Ve,I=Mt):(typeof V.componentDidUpdate!="function"||he===h.memoizedProps&&ht===h.memoizedState||(g.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||he===h.memoizedProps&&ht===h.memoizedState||(g.flags|=1024),I=!1)}return V=I,fg(h,g),I=(g.flags&128)!==0,V||I?(V=g.stateNode,C=I&&typeof C.getDerivedStateFromError!="function"?null:V.render(),g.flags|=1,h!==null&&I?(g.child=Bd(g,h.child,null,L),g.child=Bd(g,null,C,L)):Is(h,g,C,L),g.memoizedState=V.state,h=g.child):h=Rd(h,g,L),h}function Vf(h,g,C,I){return Ys(),g.flags|=256,Is(h,g,C,I),g.child}var Pb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uk(h){return{baseLanes:h,cachePool:pe()}}function Fp(h,g,C){return h=h!==null?h.childLanes&~C:0,g&&(h|=rc),h}function Up(h,g,C){var I=g.pendingProps,L=!1,V=(g.flags&128)!==0,he;if((he=V)||(he=h!==null&&h.memoizedState===null?!1:(Ho.current&2)!==0),he&&(L=!0,g.flags&=-129),he=(g.flags&32)!==0,g.flags&=-33,h===null){if(ln){if(L?zu(g):Xl(),ln){var Ee=Ri,Ve;if(Ve=Ee){e:{for(Ve=Ee,Ee=Gs;Ve.nodeType!==8;){if(!Ee){Ee=null;break e}if(Ve=ic(Ve.nextSibling),Ve===null){Ee=null;break e}}Ee=Ve}Ee!==null?(g.memoizedState={dehydrated:Ee,treeContext:Iu!==null?{id:Wl,overflow:Gl}:null,retryLane:536870912,hydrationErrors:null},Ve=fo(18,null,null,0),Ve.stateNode=Ee,Ve.return=g,g.child=Ve,_o=g,Ri=null,Ve=!0):Ve=!1}Ve||Yl(g)}if(Ee=g.memoizedState,Ee!==null&&(Ee=Ee.dehydrated,Ee!==null))return S1(Ee)?g.lanes=32:g.lanes=536870912,null;Ya(g)}return Ee=I.children,I=I.fallback,L?(Xl(),L=g.mode,Ee=pg({mode:"hidden",children:Ee},L),I=ya(I,L,C,null),Ee.return=g,I.return=g,Ee.sibling=I,g.child=Ee,L=g.child,L.memoizedState=Uk(C),L.childLanes=Fp(h,he,C),g.memoizedState=Pb,I):(zu(g),qk(g,Ee))}if(Ve=h.memoizedState,Ve!==null&&(Ee=Ve.dehydrated,Ee!==null)){if(V)g.flags&256?(zu(g),g.flags&=-257,g=Vk(h,g,C)):g.memoizedState!==null?(Xl(),g.child=h.child,g.flags|=128,g=null):(Xl(),L=I.fallback,Ee=g.mode,I=pg({mode:"visible",children:I.children},Ee),L=ya(L,Ee,C,null),L.flags|=2,I.return=g,L.return=g,I.sibling=L,g.child=I,Bd(g,h.child,null,C),I=g.child,I.memoizedState=Uk(C),I.childLanes=Fp(h,he,C),g.memoizedState=Pb,g=L);else if(zu(g),S1(Ee)){if(he=Ee.nextSibling&&Ee.nextSibling.dataset,he)var ct=he.dgst;he=ct,I=Error(o(419)),I.stack="",I.digest=he,xh({value:I,source:null,stack:null}),g=Vk(h,g,C)}else if($o||Sh(h,g,C,!1),he=(C&h.childLanes)!==0,$o||he){if(he=Lr,he!==null&&(I=C&-C,I=(I&42)!==0?1:is(I),I=(I&(he.suspendedLanes|C))!==0?0:I,I!==0&&I!==Ve.retryLane))throw Ve.retryLane=I,Mn(h,I),Xs(he,h,I),Rk;Ee.data==="$?"||Gf(),g=Vk(h,g,C)}else Ee.data==="$?"?(g.flags|=192,g.child=h.child,g=null):(h=Ve.treeContext,Ri=ic(Ee.nextSibling),_o=g,ln=!0,Tu=null,Gs=!1,h!==null&&(qa[sa++]=Wl,qa[sa++]=Gl,qa[sa++]=Iu,Wl=h.id,Gl=h.overflow,Iu=g),g=qk(g,I.children),g.flags|=4096);return g}return L?(Xl(),L=I.fallback,Ee=g.mode,Ve=h.child,ct=Ve.sibling,I=Ws(Ve,{mode:"hidden",children:I.children}),I.subtreeFlags=Ve.subtreeFlags&65011712,ct!==null?L=Ws(ct,L):(L=ya(L,Ee,C,null),L.flags|=2),L.return=g,I.return=g,I.sibling=L,g.child=I,I=L,L=g.child,Ee=h.child.memoizedState,Ee===null?Ee=Uk(C):(Ve=Ee.cachePool,Ve!==null?(ct=xo._currentValue,Ve=Ve.parent!==ct?{parent:ct,pool:ct}:Ve):Ve=pe(),Ee={baseLanes:Ee.baseLanes|C,cachePool:Ve}),L.memoizedState=Ee,L.childLanes=Fp(h,he,C),g.memoizedState=Pb,I):(zu(g),C=h.child,h=C.sibling,C=Ws(C,{mode:"visible",children:I.children}),C.return=g,C.sibling=null,h!==null&&(he=g.deletions,he===null?(g.deletions=[h],g.flags|=16):he.push(h)),g.child=C,g.memoizedState=null,C)}function qk(h,g){return g=pg({mode:"visible",children:g},h.mode),g.return=h,h.child=g}function pg(h,g){return h=fo(22,h,null,g),h.lanes=0,h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},h}function Vk(h,g,C){return Bd(g,h.child,null,C),h=qk(g,g.pendingProps.children),h.flags|=2,g.memoizedState=null,h}function jA(h,g,C){h.lanes|=g;var I=h.alternate;I!==null&&(I.lanes|=g),xp(h.return,g,C)}function Hk(h,g,C,I,L){var V=h.memoizedState;V===null?h.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:I,tail:C,tailMode:L}:(V.isBackwards=g,V.rendering=null,V.renderingStartTime=0,V.last=I,V.tail=C,V.tailMode=L)}function OA(h,g,C){var I=g.pendingProps,L=I.revealOrder,V=I.tail;if(Is(h,g,I.children,C),I=Ho.current,(I&2)!==0)I=I&1|2,g.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=g.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&jA(h,C,g);else if(h.tag===19)jA(h,C,g);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===g)break e;for(;h.sibling===null;){if(h.return===null||h.return===g)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}I&=1}switch(te(Ho,I),L){case"forwards":for(C=g.child,L=null;C!==null;)h=C.alternate,h!==null&&Bp(h)===null&&(L=C),C=C.sibling;C=L,C===null?(L=g.child,g.child=null):(L=C.sibling,C.sibling=null),Hk(g,!1,L,C,V);break;case"backwards":for(C=null,L=g.child,g.child=null;L!==null;){if(h=L.alternate,h!==null&&Bp(h)===null){g.child=L;break}h=L.sibling,L.sibling=C,C=L,L=h}Hk(g,!0,C,null,V);break;case"together":Hk(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function Rd(h,g,C){if(h!==null&&(g.dependencies=h.dependencies),ut|=g.lanes,(C&g.childLanes)===0)if(h!==null){if(Sh(h,g,C,!1),(C&g.childLanes)===0)return null}else return null;if(h!==null&&g.child!==h.child)throw Error(o(153));if(g.child!==null){for(h=g.child,C=Ws(h,h.pendingProps),g.child=C,C.return=g;h.sibling!==null;)h=h.sibling,C=C.sibling=Ws(h,h.pendingProps),C.return=g;C.sibling=null}return g.child}function $k(h,g){return(h.lanes&g)!==0?!0:(h=h.dependencies,!!(h!==null&&Sp(h)))}function Rb(h,g,C){switch(g.tag){case 3:Be(g,g.stateNode.containerInfo),Mu(g,xo,h.memoizedState.cache),Ys();break;case 27:case 5:Ze(g);break;case 4:Be(g,g.stateNode.containerInfo);break;case 10:Mu(g,g.type,g.memoizedProps.value);break;case 13:var I=g.memoizedState;if(I!==null)return I.dehydrated!==null?(zu(g),g.flags|=128,null):(C&g.child.childLanes)!==0?Up(h,g,C):(zu(g),h=Rd(h,g,C),h!==null?h.sibling:null);zu(g);break;case 19:var L=(h.flags&128)!==0;if(I=(C&g.childLanes)!==0,I||(Sh(h,g,C,!1),I=(C&g.childLanes)!==0),L){if(I)return OA(h,g,C);g.flags|=128}if(L=g.memoizedState,L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),te(Ho,Ho.current),I)break;return null;case 22:case 23:return g.lanes=0,Rp(h,g,C);case 24:Mu(g,xo,h.memoizedState.cache)}return Rd(h,g,C)}function Wk(h,g,C){if(h!==null)if(h.memoizedProps!==g.pendingProps)$o=!0;else{if(!$k(h,C)&&(g.flags&128)===0)return $o=!1,Rb(h,g,C);$o=(h.flags&131072)!==0}else $o=!1,ln&&(g.flags&1048576)!==0&&Ab(g,_p,g.index);switch(g.lanes=0,g.tag){case 16:e:{h=g.pendingProps;var I=g.elementType,L=I._init;if(I=L(I._payload),g.type=I,typeof I=="function")xd(I)?(h=Ld(I,h),g.tag=1,g=Ka(null,g,I,h,C)):(g.tag=0,g=Lb(null,g,I,h,C));else{if(I!=null){if(L=I.$$typeof,L===G){g.tag=11,g=NA(null,g,I,h,C);break e}else if(L===F){g.tag=14,g=zk(null,g,I,h,C);break e}}throw g=q(I)||I,Error(o(306,g,""))}}return g;case 0:return Lb(h,g,g.type,g.pendingProps,C);case 1:return I=g.type,L=Ld(I,g.pendingProps),Ka(h,g,I,L,C);case 3:e:{if(Be(g,g.stateNode.containerInfo),h===null)throw Error(o(387));I=g.pendingProps;var V=g.memoizedState;L=V.element,Je(h,g),en(g,I,null,C);var he=g.memoizedState;if(I=he.cache,Mu(g,xo,I),I!==V.cache&&Mf(g,[xo],C,!0),vn(),I=he.element,V.isDehydrated)if(V={element:I,isDehydrated:!1,cache:he.cache},g.updateQueue.baseState=V,g.memoizedState=V,g.flags&256){g=Vf(h,g,I,C);break e}else if(I!==L){L=pr(Error(o(424)),g),xh(L),g=Vf(h,g,I,C);break e}else{switch(h=g.stateNode.containerInfo,h.nodeType){case 9:h=h.body;break;default:h=h.nodeName==="HTML"?h.ownerDocument.body:h}for(Ri=ic(h.firstChild),_o=g,ln=!0,Tu=null,Gs=!0,C=Jl(g,null,I,C),g.child=C;C;)C.flags=C.flags&-3|4096,C=C.sibling}else{if(Ys(),I===L){g=Rd(h,g,C);break e}Is(h,g,I,C)}g=g.child}return g;case 26:return fg(h,g),h===null?(C=A_(g.type,null,g.pendingProps,null))?g.memoizedState=C:ln||(C=g.type,h=g.pendingProps,I=Xb(ve.current).createElement(C),I[Sr]=g,I[or]=h,ds(I,C,h),zr(I),g.stateNode=I):g.memoizedState=A_(g.type,h.memoizedProps,g.pendingProps,h.memoizedState),null;case 27:return Ze(g),h===null&&ln&&(I=g.stateNode=m_(g.type,g.pendingProps,ve.current),_o=g,Gs=!0,L=Ri,Gu(g.type)?(E1=L,Ri=ic(I.firstChild)):Ri=L),Is(h,g,g.pendingProps.children,C),fg(h,g),h===null&&(g.flags|=4194304),g.child;case 5:return h===null&&ln&&((L=I=Ri)&&(I=yS(I,g.type,g.pendingProps,Gs),I!==null?(g.stateNode=I,_o=g,Ri=ic(I.firstChild),Gs=!1,L=!0):L=!1),L||Yl(g)),Ze(g),L=g.type,V=g.pendingProps,he=h!==null?h.memoizedProps:null,I=V.children,e0(L,V)?I=null:he!==null&&e0(L,he)&&(g.flags|=32),g.memoizedState!==null&&(L=Ks(h,g,Zl,null,null,C),Ig._currentValue=L),fg(h,g),Is(h,g,I,C),g.child;case 6:return h===null&&ln&&((h=C=Ri)&&(C=AS(C,g.pendingProps,Gs),C!==null?(g.stateNode=C,_o=g,Ri=null,h=!0):h=!1),h||Yl(g)),null;case 13:return Up(h,g,C);case 4:return Be(g,g.stateNode.containerInfo),I=g.pendingProps,h===null?g.child=Bd(g,null,I,C):Is(h,g,I,C),g.child;case 11:return NA(h,g,g.type,g.pendingProps,C);case 7:return Is(h,g,g.pendingProps,C),g.child;case 8:return Is(h,g,g.pendingProps.children,C),g.child;case 12:return Is(h,g,g.pendingProps.children,C),g.child;case 10:return I=g.pendingProps,Mu(g,g.type,I.value),Is(h,g,I.children,C),g.child;case 9:return L=g.type._context,I=g.pendingProps.children,Kl(g),L=Co(L),I=I(L),g.flags|=1,Is(h,g,I,C),g.child;case 14:return zk(h,g,g.type,g.pendingProps,C);case 15:return Bb(h,g,g.type,g.pendingProps,C);case 19:return OA(h,g,C);case 31:return I=g.pendingProps,C=g.mode,I={mode:I.mode,children:I.children},h===null?(C=pg(I,C),C.ref=g.ref,g.child=C,C.return=g,g=C):(C=Ws(h.child,I),C.ref=g.ref,g.child=C,C.return=g,g=C),g;case 22:return Rp(h,g,C);case 24:return Kl(g),I=Co(xo),h===null?(L=K(),L===null&&(L=Lr,V=Nf(),L.pooledCache=V,V.refCount++,V!==null&&(L.pooledCacheLanes|=C),L=V),g.memoizedState={parent:I,cache:L},Ye(g),Mu(g,xo,L)):((h.lanes&C)!==0&&(Je(h,g),en(g,null,null,C),vn()),L=h.memoizedState,V=g.memoizedState,L.parent!==I?(L={parent:I,cache:I},g.memoizedState=L,g.lanes===0&&(g.memoizedState=g.updateQueue.baseState=L),Mu(g,xo,I)):(I=V.cache,Mu(g,xo,I),I!==L.cache&&Mf(g,[xo],C,!0))),Is(h,g,g.pendingProps.children,C),g.child;case 29:throw g.pendingProps}throw Error(o(156,g.tag))}function ec(h){h.flags|=4}function Gk(h,g){if(g.type!=="stylesheet"||(g.state.loading&4)!==0)h.flags&=-16777217;else if(h.flags|=16777216,!C_(g)){if(g=Ga.current,g!==null&&((Jn&4194048)===Jn?Ca!==null:(Jn&62914560)!==Jn&&(Jn&536870912)===0||g!==Ca))throw rt=Te,_e;h.flags|=8192}}function mg(h,g){g!==null&&(h.flags|=4),h.flags&16384&&(g=h.tag!==22?rr():536870912,h.lanes|=g,Vd|=g)}function gg(h,g){if(!ln)switch(h.tailMode){case"hidden":g=h.tail;for(var C=null;g!==null;)g.alternate!==null&&(C=g),g=g.sibling;C===null?h.tail=null:C.sibling=null;break;case"collapsed":C=h.tail;for(var I=null;C!==null;)C.alternate!==null&&(I=C),C=C.sibling;I===null?g||h.tail===null?h.tail=null:h.tail.sibling=null:I.sibling=null}}function to(h){var g=h.alternate!==null&&h.alternate.child===h.child,C=0,I=0;if(g)for(var L=h.child;L!==null;)C|=L.lanes|L.childLanes,I|=L.subtreeFlags&65011712,I|=L.flags&65011712,L.return=h,L=L.sibling;else for(L=h.child;L!==null;)C|=L.lanes|L.childLanes,I|=L.subtreeFlags,I|=L.flags,L.return=h,L=L.sibling;return h.subtreeFlags|=I,h.childLanes=C,g}function BA(h,g,C){var I=g.pendingProps;switch(If(g),g.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return to(g),null;case 1:return to(g),null;case 3:return C=g.stateNode,I=null,h!==null&&(I=h.memoizedState.cache),g.memoizedState.cache!==I&&(g.flags|=2048),ls(xo),Ue(),C.pendingContext&&(C.context=C.pendingContext,C.pendingContext=null),(h===null||h.child===null)&&(ar(g)?ec(g):h===null||h.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,Xm())),to(g),null;case 26:return C=g.memoizedState,h===null?(ec(g),C!==null?(to(g),Gk(g,C)):(to(g),g.flags&=-16777217)):C?C!==h.memoizedState?(ec(g),to(g),Gk(g,C)):(to(g),g.flags&=-16777217):(h.memoizedProps!==I&&ec(g),to(g),g.flags&=-16777217),null;case 27:Ge(g),C=ve.current;var L=g.type;if(h!==null&&g.stateNode!=null)h.memoizedProps!==I&&ec(g);else{if(!I){if(g.stateNode===null)throw Error(o(166));return to(g),null}h=ke.current,ar(g)?Cp(g):(h=m_(L,I,C),g.stateNode=h,ec(g))}return to(g),null;case 5:if(Ge(g),C=g.type,h!==null&&g.stateNode!=null)h.memoizedProps!==I&&ec(g);else{if(!I){if(g.stateNode===null)throw Error(o(166));return to(g),null}if(h=ke.current,ar(g))Cp(g);else{switch(L=Xb(ve.current),h){case 1:h=L.createElementNS("http://www.w3.org/2000/svg",C);break;case 2:h=L.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;default:switch(C){case"svg":h=L.createElementNS("http://www.w3.org/2000/svg",C);break;case"math":h=L.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;case"script":h=L.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof I.is=="string"?L.createElement("select",{is:I.is}):L.createElement("select"),I.multiple?h.multiple=!0:I.size&&(h.size=I.size);break;default:h=typeof I.is=="string"?L.createElement(C,{is:I.is}):L.createElement(C)}}h[Sr]=g,h[or]=I;e:for(L=g.child;L!==null;){if(L.tag===5||L.tag===6)h.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===g)break e;for(;L.sibling===null;){if(L.return===null||L.return===g)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}g.stateNode=h;e:switch(ds(h,C,I),C){case"button":case"input":case"select":case"textarea":h=!!I.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&ec(g)}}return to(g),g.flags&=-16777217,null;case 6:if(h&&g.stateNode!=null)h.memoizedProps!==I&&ec(g);else{if(typeof I!="string"&&g.stateNode===null)throw Error(o(166));if(h=ve.current,ar(g)){if(h=g.stateNode,C=g.memoizedProps,I=null,L=_o,L!==null)switch(L.tag){case 27:case 5:I=L.memoizedProps}h[Sr]=g,h=!!(h.nodeValue===C||I!==null&&I.suppressHydrationWarning===!0||Wu(h.nodeValue,C)),h||Yl(g)}else h=Xb(h).createTextNode(I),h[Sr]=g,g.stateNode=h}return to(g),null;case 13:if(I=g.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(L=ar(g),I!==null&&I.dehydrated!==null){if(h===null){if(!L)throw Error(o(318));if(L=g.memoizedState,L=L!==null?L.dehydrated:null,!L)throw Error(o(317));L[Sr]=g}else Ys(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;to(g),L=!1}else L=Xm(),h!==null&&h.memoizedState!==null&&(h.memoizedState.hydrationErrors=L),L=!0;if(!L)return g.flags&256?(Ya(g),g):(Ya(g),null)}if(Ya(g),(g.flags&128)!==0)return g.lanes=C,g;if(C=I!==null,h=h!==null&&h.memoizedState!==null,C){I=g.child,L=null,I.alternate!==null&&I.alternate.memoizedState!==null&&I.alternate.memoizedState.cachePool!==null&&(L=I.alternate.memoizedState.cachePool.pool);var V=null;I.memoizedState!==null&&I.memoizedState.cachePool!==null&&(V=I.memoizedState.cachePool.pool),V!==L&&(I.flags|=2048)}return C!==h&&C&&(g.child.flags|=8192),mg(g,g.updateQueue),to(g),null;case 4:return Ue(),h===null&&Zb(g.stateNode.containerInfo),to(g),null;case 10:return ls(g.type),to(g),null;case 19:if(re(Ho),L=g.memoizedState,L===null)return to(g),null;if(I=(g.flags&128)!==0,V=L.rendering,V===null)if(I)gg(L,!1);else{if(Wi!==0||h!==null&&(h.flags&128)!==0)for(h=g.child;h!==null;){if(V=Bp(h),V!==null){for(g.flags|=128,gg(L,!1),h=V.updateQueue,g.updateQueue=h,mg(g,h),g.subtreeFlags=0,h=C,C=g.child;C!==null;)Lc(C,h),C=C.sibling;return te(Ho,Ho.current&1|2),g.child}h=h.sibling}L.tail!==null&&De()>aa&&(g.flags|=128,I=!0,gg(L,!1),g.lanes=4194304)}else{if(!I)if(h=Bp(V),h!==null){if(g.flags|=128,I=!0,h=h.updateQueue,g.updateQueue=h,mg(g,h),gg(L,!0),L.tail===null&&L.tailMode==="hidden"&&!V.alternate&&!ln)return to(g),null}else 2*De()-L.renderingStartTime>aa&&C!==536870912&&(g.flags|=128,I=!0,gg(L,!1),g.lanes=4194304);L.isBackwards?(V.sibling=g.child,g.child=V):(h=L.last,h!==null?h.sibling=V:g.child=V,L.last=V)}return L.tail!==null?(g=L.tail,L.rendering=g,L.tail=g.sibling,L.renderingStartTime=De(),g.sibling=null,h=Ho.current,te(Ho,I?h&1|2:h&1),g):(to(g),null);case 22:case 23:return Ya(g),Pn(),I=g.memoizedState!==null,h!==null?h.memoizedState!==null!==I&&(g.flags|=8192):I&&(g.flags|=8192),I?(C&536870912)!==0&&(g.flags&128)===0&&(to(g),g.subtreeFlags&6&&(g.flags|=8192)):to(g),C=g.updateQueue,C!==null&&mg(g,C.retryQueue),C=null,h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(C=h.memoizedState.cachePool.pool),I=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(I=g.memoizedState.cachePool.pool),I!==C&&(g.flags|=2048),h!==null&&re(R),null;case 24:return C=null,h!==null&&(C=h.memoizedState.cache),g.memoizedState.cache!==C&&(g.flags|=2048),ls(xo),to(g),null;case 25:return null;case 30:return null}throw Error(o(156,g.tag))}function LA(h,g){switch(If(g),g.tag){case 1:return h=g.flags,h&65536?(g.flags=h&-65537|128,g):null;case 3:return ls(xo),Ue(),h=g.flags,(h&65536)!==0&&(h&128)===0?(g.flags=h&-65537|128,g):null;case 26:case 27:case 5:return Ge(g),null;case 13:if(Ya(g),h=g.memoizedState,h!==null&&h.dehydrated!==null){if(g.alternate===null)throw Error(o(340));Ys()}return h=g.flags,h&65536?(g.flags=h&-65537|128,g):null;case 19:return re(Ho),null;case 4:return Ue(),null;case 10:return ls(g.type),null;case 22:case 23:return Ya(g),Pn(),h!==null&&re(R),h=g.flags,h&65536?(g.flags=h&-65537|128,g):null;case 24:return ls(xo),null;case 25:return null;default:return null}}function Yk(h,g){switch(If(g),g.tag){case 3:ls(xo),Ue();break;case 26:case 27:case 5:Ge(g);break;case 4:Ue();break;case 13:Ya(g);break;case 19:re(Ho);break;case 10:ls(g.type);break;case 22:case 23:Ya(g),Pn(),h!==null&&re(R);break;case 24:ls(xo)}}function Qa(h,g){try{var C=g.updateQueue,I=C!==null?C.lastEffect:null;if(I!==null){var L=I.next;C=L;do{if((C.tag&h)===h){I=void 0;var V=C.create,he=C.inst;I=V(),he.destroy=I}C=C.next}while(C!==L)}}catch(Ee){fi(g,g.return,Ee)}}function Oh(h,g,C){try{var I=g.updateQueue,L=I!==null?I.lastEffect:null;if(L!==null){var V=L.next;I=V;do{if((I.tag&h)===h){var he=I.inst,Ee=he.destroy;if(Ee!==void 0){he.destroy=void 0,L=g;var Ve=C,ct=Ee;try{ct()}catch(Mt){fi(L,Ve,Mt)}}}I=I.next}while(I!==V)}}catch(Mt){fi(g,g.return,Mt)}}function Kk(h){var g=h.updateQueue;if(g!==null){var C=h.stateNode;try{Or(g,C)}catch(I){fi(h,h.return,I)}}}function Hf(h,g,C){C.props=Ld(h.type,h.memoizedProps),C.state=h.memoizedState;try{C.componentWillUnmount()}catch(I){fi(h,g,I)}}function yl(h,g){try{var C=h.ref;if(C!==null){switch(h.tag){case 26:case 27:case 5:var I=h.stateNode;break;case 30:I=h.stateNode;break;default:I=h.stateNode}typeof C=="function"?h.refCleanup=C(I):C.current=I}}catch(L){fi(h,g,L)}}function Uu(h,g){var C=h.ref,I=h.refCleanup;if(C!==null)if(typeof I=="function")try{I()}catch(L){fi(h,g,L)}finally{h.refCleanup=null,h=h.alternate,h!=null&&(h.refCleanup=null)}else if(typeof C=="function")try{C(null)}catch(L){fi(h,g,L)}else C.current=null}function zb(h){var g=h.type,C=h.memoizedProps,I=h.stateNode;try{e:switch(g){case"button":case"input":case"select":case"textarea":C.autoFocus&&I.focus();break e;case"img":C.src?I.src=C.src:C.srcSet&&(I.srcset=C.srcSet)}}catch(L){fi(h,h.return,L)}}function Qk(h,g,C){try{var I=h.stateNode;Mr(I,h.type,C,g),I[or]=g}catch(L){fi(h,h.return,L)}}function PA(h){return h.tag===5||h.tag===3||h.tag===26||h.tag===27&&Gu(h.type)||h.tag===4}function Zk(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||PA(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.tag===27&&Gu(h.type)||h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function Jk(h,g,C){var I=h.tag;if(I===5||I===6)h=h.stateNode,g?(C.nodeType===9?C.body:C.nodeName==="HTML"?C.ownerDocument.body:C).insertBefore(h,g):(g=C.nodeType===9?C.body:C.nodeName==="HTML"?C.ownerDocument.body:C,g.appendChild(h),C=C._reactRootContainer,C!=null||g.onclick!==null||(g.onclick=xl));else if(I!==4&&(I===27&&Gu(h.type)&&(C=h.stateNode,g=null),h=h.child,h!==null))for(Jk(h,g,C),h=h.sibling;h!==null;)Jk(h,g,C),h=h.sibling}function Fb(h,g,C){var I=h.tag;if(I===5||I===6)h=h.stateNode,g?C.insertBefore(h,g):C.appendChild(h);else if(I!==4&&(I===27&&Gu(h.type)&&(C=h.stateNode),h=h.child,h!==null))for(Fb(h,g,C),h=h.sibling;h!==null;)Fb(h,g,C),h=h.sibling}function RA(h){var g=h.stateNode,C=h.memoizedProps;try{for(var I=h.type,L=g.attributes;L.length;)g.removeAttributeNode(L[0]);ds(g,I,C),g[Sr]=h,g[or]=C}catch(V){fi(h,h.return,V)}}var zd=!1,Do=!1,Ub=!1,zA=typeof WeakSet=="function"?WeakSet:Set,Ts=null;function $f(h,g){if(h=h.containerInfo,_1=d0,h=Us(h),zo(h)){if("selectionStart"in h)var C={start:h.selectionStart,end:h.selectionEnd};else e:{C=(C=h.ownerDocument)&&C.defaultView||window;var I=C.getSelection&&C.getSelection();if(I&&I.rangeCount!==0){C=I.anchorNode;var L=I.anchorOffset,V=I.focusNode;I=I.focusOffset;try{C.nodeType,V.nodeType}catch{C=null;break e}var he=0,Ee=-1,Ve=-1,ct=0,Mt=0,Et=h,ht=null;t:for(;;){for(var mt;Et!==C||L!==0&&Et.nodeType!==3||(Ee=he+L),Et!==V||I!==0&&Et.nodeType!==3||(Ve=he+I),Et.nodeType===3&&(he+=Et.nodeValue.length),(mt=Et.firstChild)!==null;)ht=Et,Et=mt;for(;;){if(Et===h)break t;if(ht===C&&++ct===L&&(Ee=he),ht===V&&++Mt===I&&(Ve=he),(mt=Et.nextSibling)!==null)break;Et=ht,ht=Et.parentNode}Et=mt}C=Ee===-1||Ve===-1?null:{start:Ee,end:Ve}}else C=null}C=C||{start:0,end:0}}else C=null;for(Jb={focusedElem:h,selectionRange:C},d0=!1,Ts=g;Ts!==null;)if(g=Ts,h=g.child,(g.subtreeFlags&1024)!==0&&h!==null)h.return=g,Ts=h;else for(;Ts!==null;){switch(g=Ts,V=g.alternate,h=g.flags,g.tag){case 0:break;case 11:case 15:break;case 1:if((h&1024)!==0&&V!==null){h=void 0,C=g,L=V.memoizedProps,V=V.memoizedState,I=C.stateNode;try{var En=Ld(C.type,L,C.elementType===C.type);h=I.getSnapshotBeforeUpdate(En,V),I.__reactInternalSnapshotBeforeUpdate=h}catch(Dn){fi(C,C.return,Dn)}}break;case 3:if((h&1024)!==0){if(h=g.stateNode.containerInfo,C=h.nodeType,C===9)n0(h);else if(C===1)switch(h.nodeName){case"HEAD":case"HTML":case"BODY":n0(h);break;default:h.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((h&1024)!==0)throw Error(o(163))}if(h=g.sibling,h!==null){h.return=g.return,Ts=h;break}Ts=g.return}}function FA(h,g,C){var I=C.flags;switch(C.tag){case 0:case 11:case 15:Bh(h,C),I&4&&Qa(5,C);break;case 1:if(Bh(h,C),I&4)if(h=C.stateNode,g===null)try{h.componentDidMount()}catch(he){fi(C,C.return,he)}else{var L=Ld(C.type,g.memoizedProps);g=g.memoizedState;try{h.componentDidUpdate(L,g,h.__reactInternalSnapshotBeforeUpdate)}catch(he){fi(C,C.return,he)}}I&64&&Kk(C),I&512&&yl(C,C.return);break;case 3:if(Bh(h,C),I&64&&(h=C.updateQueue,h!==null)){if(g=null,C.child!==null)switch(C.child.tag){case 27:case 5:g=C.child.stateNode;break;case 1:g=C.child.stateNode}try{Or(h,g)}catch(he){fi(C,C.return,he)}}break;case 27:g===null&&I&4&&RA(C);case 26:case 5:Bh(h,C),g===null&&I&4&&zb(C),I&512&&yl(C,C.return);break;case 12:Bh(h,C);break;case 13:Bh(h,C),I&4&&VA(h,C),I&64&&(h=C.memoizedState,h!==null&&(h=h.dehydrated,h!==null&&(C=r_.bind(null,C),r0(h,C))));break;case 22:if(I=C.memoizedState!==null||zd,!I){g=g!==null&&g.memoizedState!==null||Do,L=zd;var V=Do;zd=I,(Do=g)&&!V?Ud(h,C,(C.subtreeFlags&8772)!==0):Bh(h,C),zd=L,Do=V}break;case 30:break;default:Bh(h,C)}}function UA(h){var g=h.alternate;g!==null&&(h.alternate=null,UA(g)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(g=h.stateNode,g!==null&&xs(g)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}var $i=null,Js=!1;function Fd(h,g,C){for(C=C.child;C!==null;)qA(h,g,C),C=C.sibling}function qA(h,g,C){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(pt,C)}catch{}switch(C.tag){case 26:Do||Uu(C,g),Fd(h,g,C),C.memoizedState?C.memoizedState.count--:C.stateNode&&(C=C.stateNode,C.parentNode.removeChild(C));break;case 27:Do||Uu(C,g);var I=$i,L=Js;Gu(C.type)&&($i=C.stateNode,Js=!1),Fd(h,g,C),Yu(C.stateNode),$i=I,Js=L;break;case 5:Do||Uu(C,g);case 6:if(I=$i,L=Js,$i=null,Fd(h,g,C),$i=I,Js=L,$i!==null)if(Js)try{($i.nodeType===9?$i.body:$i.nodeName==="HTML"?$i.ownerDocument.body:$i).removeChild(C.stateNode)}catch(V){fi(C,g,V)}else try{$i.removeChild(C.stateNode)}catch(V){fi(C,g,V)}break;case 18:$i!==null&&(Js?(h=$i,x1(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,C.stateNode),Wd(h)):x1($i,C.stateNode));break;case 4:I=$i,L=Js,$i=C.stateNode.containerInfo,Js=!0,Fd(h,g,C),$i=I,Js=L;break;case 0:case 11:case 14:case 15:Do||Oh(2,C,g),Do||Oh(4,C,g),Fd(h,g,C);break;case 1:Do||(Uu(C,g),I=C.stateNode,typeof I.componentWillUnmount=="function"&&Hf(C,g,I)),Fd(h,g,C);break;case 21:Fd(h,g,C);break;case 22:Do=(I=Do)||C.memoizedState!==null,Fd(h,g,C),Do=I;break;default:Fd(h,g,C)}}function VA(h,g){if(g.memoizedState===null&&(h=g.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null))))try{Wd(h)}catch(C){fi(g,g.return,C)}}function HA(h){switch(h.tag){case 13:case 19:var g=h.stateNode;return g===null&&(g=h.stateNode=new zA),g;case 22:return h=h.stateNode,g=h._retryCache,g===null&&(g=h._retryCache=new zA),g;default:throw Error(o(435,h.tag))}}function Xk(h,g){var C=HA(h);g.forEach(function(I){var L=gS.bind(null,h,I);C.has(I)||(C.add(I),I.then(L,L))})}function Al(h,g){var C=g.deletions;if(C!==null)for(var I=0;I<C.length;I++){var L=C[I],V=h,he=g,Ee=he;e:for(;Ee!==null;){switch(Ee.tag){case 27:if(Gu(Ee.type)){$i=Ee.stateNode,Js=!1;break e}break;case 5:$i=Ee.stateNode,Js=!1;break e;case 3:case 4:$i=Ee.stateNode.containerInfo,Js=!0;break e}Ee=Ee.return}if($i===null)throw Error(o(160));qA(V,he,L),$i=null,Js=!1,V=L.alternate,V!==null&&(V.return=null),L.return=null}if(g.subtreeFlags&13878)for(g=g.child;g!==null;)qb(g,h),g=g.sibling}var tc=null;function qb(h,g){var C=h.alternate,I=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:Al(g,h),_l(h),I&4&&(Oh(3,h,h.return),Qa(3,h),Oh(5,h,h.return));break;case 1:Al(g,h),_l(h),I&512&&(Do||C===null||Uu(C,C.return)),I&64&&zd&&(h=h.updateQueue,h!==null&&(I=h.callbacks,I!==null&&(C=h.shared.hiddenCallbacks,h.shared.hiddenCallbacks=C===null?I:C.concat(I))));break;case 26:var L=tc;if(Al(g,h),_l(h),I&512&&(Do||C===null||Uu(C,C.return)),I&4){var V=C!==null?C.memoizedState:null;if(I=h.memoizedState,C===null)if(I===null)if(h.stateNode===null){e:{I=h.type,C=h.memoizedProps,L=L.ownerDocument||L;t:switch(I){case"title":V=L.getElementsByTagName("title")[0],(!V||V[Cs]||V[Sr]||V.namespaceURI==="http://www.w3.org/2000/svg"||V.hasAttribute("itemprop"))&&(V=L.createElement(I),L.head.insertBefore(V,L.querySelector("head > title"))),ds(V,I,C),V[Sr]=h,zr(V),I=V;break e;case"link":var he=N1("link","href",L).get(I+(C.href||""));if(he){for(var Ee=0;Ee<he.length;Ee++)if(V=he[Ee],V.getAttribute("href")===(C.href==null||C.href===""?null:C.href)&&V.getAttribute("rel")===(C.rel==null?null:C.rel)&&V.getAttribute("title")===(C.title==null?null:C.title)&&V.getAttribute("crossorigin")===(C.crossOrigin==null?null:C.crossOrigin)){he.splice(Ee,1);break t}}V=L.createElement(I),ds(V,I,C),L.head.appendChild(V);break;case"meta":if(he=N1("meta","content",L).get(I+(C.content||""))){for(Ee=0;Ee<he.length;Ee++)if(V=he[Ee],V.getAttribute("content")===(C.content==null?null:""+C.content)&&V.getAttribute("name")===(C.name==null?null:C.name)&&V.getAttribute("property")===(C.property==null?null:C.property)&&V.getAttribute("http-equiv")===(C.httpEquiv==null?null:C.httpEquiv)&&V.getAttribute("charset")===(C.charSet==null?null:C.charSet)){he.splice(Ee,1);break t}}V=L.createElement(I),ds(V,I,C),L.head.appendChild(V);break;default:throw Error(o(468,I))}V[Sr]=h,zr(V),I=V}h.stateNode=I}else Eg(L,h.type,h.stateNode);else h.stateNode=o0(L,I,h.memoizedProps);else V!==I?(V===null?C.stateNode!==null&&(C=C.stateNode,C.parentNode.removeChild(C)):V.count--,I===null?Eg(L,h.type,h.stateNode):o0(L,I,h.memoizedProps)):I===null&&h.stateNode!==null&&Qk(h,h.memoizedProps,C.memoizedProps)}break;case 27:Al(g,h),_l(h),I&512&&(Do||C===null||Uu(C,C.return)),C!==null&&I&4&&Qk(h,h.memoizedProps,C.memoizedProps);break;case 5:if(Al(g,h),_l(h),I&512&&(Do||C===null||Uu(C,C.return)),h.flags&32){L=h.stateNode;try{bu(L,"")}catch(mt){fi(h,h.return,mt)}}I&4&&h.stateNode!=null&&(L=h.memoizedProps,Qk(h,L,C!==null?C.memoizedProps:L)),I&1024&&(Ub=!0);break;case 6:if(Al(g,h),_l(h),I&4){if(h.stateNode===null)throw Error(o(162));I=h.memoizedProps,C=h.stateNode;try{C.nodeValue=I}catch(mt){fi(h,h.return,mt)}}break;case 3:if(sc=null,L=tc,tc=i0(g.containerInfo),Al(g,h),tc=L,_l(h),I&4&&C!==null&&C.memoizedState.isDehydrated)try{Wd(g.containerInfo)}catch(mt){fi(h,h.return,mt)}Ub&&(Ub=!1,$A(h));break;case 4:I=tc,tc=i0(h.stateNode.containerInfo),Al(g,h),_l(h),tc=I;break;case 12:Al(g,h),_l(h);break;case 13:Al(g,h),_l(h),h.child.flags&8192&&h.memoizedState!==null!=(C!==null&&C.memoizedState!==null)&&(Hd=De()),I&4&&(I=h.updateQueue,I!==null&&(h.updateQueue=null,Xk(h,I)));break;case 22:L=h.memoizedState!==null;var Ve=C!==null&&C.memoizedState!==null,ct=zd,Mt=Do;if(zd=ct||L,Do=Mt||Ve,Al(g,h),Do=Mt,zd=ct,_l(h),I&8192)e:for(g=h.stateNode,g._visibility=L?g._visibility&-2:g._visibility|1,L&&(C===null||Ve||zd||Do||Lh(h)),C=null,g=h;;){if(g.tag===5||g.tag===26){if(C===null){Ve=C=g;try{if(V=Ve.stateNode,L)he=V.style,typeof he.setProperty=="function"?he.setProperty("display","none","important"):he.display="none";else{Ee=Ve.stateNode;var Et=Ve.memoizedProps.style,ht=Et!=null&&Et.hasOwnProperty("display")?Et.display:null;Ee.style.display=ht==null||typeof ht=="boolean"?"":(""+ht).trim()}}catch(mt){fi(Ve,Ve.return,mt)}}}else if(g.tag===6){if(C===null){Ve=g;try{Ve.stateNode.nodeValue=L?"":Ve.memoizedProps}catch(mt){fi(Ve,Ve.return,mt)}}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===h)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===h)break e;for(;g.sibling===null;){if(g.return===null||g.return===h)break e;C===g&&(C=null),g=g.return}C===g&&(C=null),g.sibling.return=g.return,g=g.sibling}I&4&&(I=h.updateQueue,I!==null&&(C=I.retryQueue,C!==null&&(I.retryQueue=null,Xk(h,C))));break;case 19:Al(g,h),_l(h),I&4&&(I=h.updateQueue,I!==null&&(h.updateQueue=null,Xk(h,I)));break;case 30:break;case 21:break;default:Al(g,h),_l(h)}}function _l(h){var g=h.flags;if(g&2){try{for(var C,I=h.return;I!==null;){if(PA(I)){C=I;break}I=I.return}if(C==null)throw Error(o(160));switch(C.tag){case 27:var L=C.stateNode,V=Zk(h);Fb(h,V,L);break;case 5:var he=C.stateNode;C.flags&32&&(bu(he,""),C.flags&=-33);var Ee=Zk(h);Fb(h,Ee,he);break;case 3:case 4:var Ve=C.stateNode.containerInfo,ct=Zk(h);Jk(h,ct,Ve);break;default:throw Error(o(161))}}catch(Mt){fi(h,h.return,Mt)}h.flags&=-3}g&4096&&(h.flags&=-4097)}function $A(h){if(h.subtreeFlags&1024)for(h=h.child;h!==null;){var g=h;$A(g),g.tag===5&&g.flags&1024&&g.stateNode.reset(),h=h.sibling}}function Bh(h,g){if(g.subtreeFlags&8772)for(g=g.child;g!==null;)FA(h,g.alternate,g),g=g.sibling}function Lh(h){for(h=h.child;h!==null;){var g=h;switch(g.tag){case 0:case 11:case 14:case 15:Oh(4,g,g.return),Lh(g);break;case 1:Uu(g,g.return);var C=g.stateNode;typeof C.componentWillUnmount=="function"&&Hf(g,g.return,C),Lh(g);break;case 27:Yu(g.stateNode);case 26:case 5:Uu(g,g.return),Lh(g);break;case 22:g.memoizedState===null&&Lh(g);break;case 30:Lh(g);break;default:Lh(g)}h=h.sibling}}function Ud(h,g,C){for(C=C&&(g.subtreeFlags&8772)!==0,g=g.child;g!==null;){var I=g.alternate,L=h,V=g,he=V.flags;switch(V.tag){case 0:case 11:case 15:Ud(L,V,C),Qa(4,V);break;case 1:if(Ud(L,V,C),I=V,L=I.stateNode,typeof L.componentDidMount=="function")try{L.componentDidMount()}catch(ct){fi(I,I.return,ct)}if(I=V,L=I.updateQueue,L!==null){var Ee=I.stateNode;try{var Ve=L.shared.hiddenCallbacks;if(Ve!==null)for(L.shared.hiddenCallbacks=null,L=0;L<Ve.length;L++)Cr(Ve[L],Ee)}catch(ct){fi(I,I.return,ct)}}C&&he&64&&Kk(V),yl(V,V.return);break;case 27:RA(V);case 26:case 5:Ud(L,V,C),C&&I===null&&he&4&&zb(V),yl(V,V.return);break;case 12:Ud(L,V,C);break;case 13:Ud(L,V,C),C&&he&4&&VA(L,V);break;case 22:V.memoizedState===null&&Ud(L,V,C),yl(V,V.return);break;case 30:break;default:Ud(L,V,C)}g=g.sibling}}function qp(h,g){var C=null;h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(C=h.memoizedState.cachePool.pool),h=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(h=g.memoizedState.cachePool.pool),h!==C&&(h!=null&&h.refCount++,C!=null&&jf(C))}function Vb(h,g){h=null,g.alternate!==null&&(h=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==h&&(g.refCount++,h!=null&&jf(h))}function qu(h,g,C,I){if(g.subtreeFlags&10256)for(g=g.child;g!==null;)bg(h,g,C,I),g=g.sibling}function bg(h,g,C,I){var L=g.flags;switch(g.tag){case 0:case 11:case 15:qu(h,g,C,I),L&2048&&Qa(9,g);break;case 1:qu(h,g,C,I);break;case 3:qu(h,g,C,I),L&2048&&(h=null,g.alternate!==null&&(h=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==h&&(g.refCount++,h!=null&&jf(h)));break;case 12:if(L&2048){qu(h,g,C,I),h=g.stateNode;try{var V=g.memoizedProps,he=V.id,Ee=V.onPostCommit;typeof Ee=="function"&&Ee(he,g.alternate===null?"mount":"update",h.passiveEffectDuration,-0)}catch(Ve){fi(g,g.return,Ve)}}else qu(h,g,C,I);break;case 13:qu(h,g,C,I);break;case 23:break;case 22:V=g.stateNode,he=g.alternate,g.memoizedState!==null?V._visibility&2?qu(h,g,C,I):Hp(h,g):V._visibility&2?qu(h,g,C,I):(V._visibility|=2,Vp(h,g,C,I,(g.subtreeFlags&10256)!==0)),L&2048&&qp(he,g);break;case 24:qu(h,g,C,I),L&2048&&Vb(g.alternate,g);break;default:qu(h,g,C,I)}}function Vp(h,g,C,I,L){for(L=L&&(g.subtreeFlags&10256)!==0,g=g.child;g!==null;){var V=h,he=g,Ee=C,Ve=I,ct=he.flags;switch(he.tag){case 0:case 11:case 15:Vp(V,he,Ee,Ve,L),Qa(8,he);break;case 23:break;case 22:var Mt=he.stateNode;he.memoizedState!==null?Mt._visibility&2?Vp(V,he,Ee,Ve,L):Hp(V,he):(Mt._visibility|=2,Vp(V,he,Ee,Ve,L)),L&&ct&2048&&qp(he.alternate,he);break;case 24:Vp(V,he,Ee,Ve,L),L&&ct&2048&&Vb(he.alternate,he);break;default:Vp(V,he,Ee,Ve,L)}g=g.sibling}}function Hp(h,g){if(g.subtreeFlags&10256)for(g=g.child;g!==null;){var C=h,I=g,L=I.flags;switch(I.tag){case 22:Hp(C,I),L&2048&&qp(I.alternate,I);break;case 24:Hp(C,I),L&2048&&Vb(I.alternate,I);break;default:Hp(C,I)}g=g.sibling}}var kg=8192;function qd(h){if(h.subtreeFlags&kg)for(h=h.child;h!==null;)WA(h),h=h.sibling}function WA(h){switch(h.tag){case 26:qd(h),h.flags&kg&&h.memoizedState!==null&&xS(tc,h.memoizedState,h.memoizedProps);break;case 5:qd(h);break;case 3:case 4:var g=tc;tc=i0(h.stateNode.containerInfo),qd(h),tc=g;break;case 22:h.memoizedState===null&&(g=h.alternate,g!==null&&g.memoizedState!==null?(g=kg,kg=16777216,qd(h),kg=g):qd(h));break;default:qd(h)}}function GA(h){var g=h.alternate;if(g!==null&&(h=g.child,h!==null)){g.child=null;do g=h.sibling,h.sibling=null,h=g;while(h!==null)}}function $p(h){var g=h.deletions;if((h.flags&16)!==0){if(g!==null)for(var C=0;C<g.length;C++){var I=g[C];Ts=I,YA(I,h)}GA(h)}if(h.subtreeFlags&10256)for(h=h.child;h!==null;)e1(h),h=h.sibling}function e1(h){switch(h.tag){case 0:case 11:case 15:$p(h),h.flags&2048&&Oh(9,h,h.return);break;case 3:$p(h);break;case 12:$p(h);break;case 22:var g=h.stateNode;h.memoizedState!==null&&g._visibility&2&&(h.return===null||h.return.tag!==13)?(g._visibility&=-3,Hb(h)):$p(h);break;default:$p(h)}}function Hb(h){var g=h.deletions;if((h.flags&16)!==0){if(g!==null)for(var C=0;C<g.length;C++){var I=g[C];Ts=I,YA(I,h)}GA(h)}for(h=h.child;h!==null;){switch(g=h,g.tag){case 0:case 11:case 15:Oh(8,g,g.return),Hb(g);break;case 22:C=g.stateNode,C._visibility&2&&(C._visibility&=-3,Hb(g));break;default:Hb(g)}h=h.sibling}}function YA(h,g){for(;Ts!==null;){var C=Ts;switch(C.tag){case 0:case 11:case 15:Oh(8,C,g);break;case 23:case 22:if(C.memoizedState!==null&&C.memoizedState.cachePool!==null){var I=C.memoizedState.cachePool.pool;I!=null&&I.refCount++}break;case 24:jf(C.memoizedState.cache)}if(I=C.child,I!==null)I.return=C,Ts=I;else e:for(C=h;Ts!==null;){I=Ts;var L=I.sibling,V=I.return;if(UA(I),I===C){Ts=null;break e}if(L!==null){L.return=V,Ts=L;break e}Ts=V}}}var mS={getCacheForType:function(h){var g=Co(xo),C=g.data.get(h);return C===void 0&&(C=h(),g.data.set(h,C)),C}},Yc=typeof WeakMap=="function"?WeakMap:Map,ii=0,Lr=null,Fn=null,Jn=0,xr=0,Ot=null,nc=!1,Wf=!1,$b=!1,Vu=0,Wi=0,ut=0,Ph=0,t1=0,rc=0,Vd=0,Wp=null,Za=null,Wb=!1,Hd=0,aa=1/0,wg=null,Rh=null,Ms=0,Hu=null,Gp=null,Yp=0,la=0,n1=null,KA=null,Jr=0,Kp=null;function no(){if((ii&2)!==0&&Jn!==0)return Jn&-Jn;if(ue.T!==null){var h=Id;return h!==0?h:w1()}return os()}function QA(){rc===0&&(rc=(Jn&536870912)===0||ln?ei():536870912);var h=Ga.current;return h!==null&&(h.flags|=32),rc}function Xs(h,g,C){(h===Lr&&(xr===2||xr===9)||h.cancelPendingCommit!==null)&&(Zp(h,0),zh(h,Jn,rc,!1)),gr(h,C),((ii&2)===0||h!==Lr)&&(h===Lr&&((ii&2)===0&&(Ph|=C),Wi===4&&zh(h,Jn,rc,!1)),$u(h))}function Qp(h,g,C){if((ii&6)!==0)throw Error(o(327));var I=!C&&(g&124)===0&&(g&h.expiredLanes)===0||zn(h,g),L=I?s1(h,g):Gb(h,g,!0),V=I;do{if(L===0){Wf&&!I&&zh(h,g,0,!1);break}else{if(C=h.current.alternate,V&&!ZA(C)){L=Gb(h,g,!1),V=!1;continue}if(L===2){if(V=g,h.errorRecoveryDisabledLanes&V)var he=0;else he=h.pendingLanes&-536870913,he=he!==0?he:he&536870912?536870912:0;if(he!==0){g=he;e:{var Ee=h;L=Wp;var Ve=Ee.current.memoizedState.isDehydrated;if(Ve&&(Zp(Ee,he).flags|=256),he=Gb(Ee,he,!1),he!==2){if($b&&!Ve){Ee.errorRecoveryDisabledLanes|=V,Ph|=V,L=4;break e}V=Za,Za=L,V!==null&&(Za===null?Za=V:Za.push.apply(Za,V))}L=he}if(V=!1,L!==2)continue}}if(L===1){Zp(h,0),zh(h,g,0,!0);break}e:{switch(I=h,V=L,V){case 0:case 1:throw Error(o(345));case 4:if((g&4194048)!==g)break;case 6:zh(I,g,rc,!nc);break e;case 2:Za=null;break;case 3:case 5:break;default:throw Error(o(329))}if((g&62914560)===g&&(L=Hd+300-De(),10<L)){if(zh(I,g,rc,!nc),In(I,0,!0)!==0)break e;I.timeoutHandle=Zf(hi.bind(null,I,C,Za,wg,Wb,g,rc,Ph,Vd,nc,V,2,-0,0),L);break e}hi(I,C,Za,wg,Wb,g,rc,Ph,Vd,nc,V,0,-0,0)}}break}while(!0);$u(h)}function hi(h,g,C,I,L,V,he,Ee,Ve,ct,Mt,Et,ht,mt){if(h.timeoutHandle=-1,Et=g.subtreeFlags,(Et&8192||(Et&16785408)===16785408)&&(sm={stylesheets:null,count:0,unsuspend:x_},WA(g),Et=Dg(),Et!==null)){h.cancelPendingCommit=Et(u1.bind(null,h,g,V,C,I,L,he,Ee,Ve,Mt,1,ht,mt)),zh(h,V,he,!ct);return}u1(h,g,V,C,I,L,he,Ee,Ve)}function ZA(h){for(var g=h;;){var C=g.tag;if((C===0||C===11||C===15)&&g.flags&16384&&(C=g.updateQueue,C!==null&&(C=C.stores,C!==null)))for(var I=0;I<C.length;I++){var L=C[I],V=L.getSnapshot;L=L.value;try{if(!Ao(V(),L))return!1}catch{return!1}}if(C=g.child,g.subtreeFlags&16384&&C!==null)C.return=g,g=C;else{if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function zh(h,g,C,I){g&=~t1,g&=~Ph,h.suspendedLanes|=g,h.pingedLanes&=~g,I&&(h.warmLanes|=g),I=h.expirationTimes;for(var L=g;0<L;){var V=31-kt(L),he=1<<V;I[V]=-1,L&=~he}C!==0&&fn(h,C,g)}function vg(){return(ii&6)===0?(yg(0),!1):!0}function r1(){if(Fn!==null){if(xr===0)var h=Fn.return;else h=Fn,Fc=Uo=null,$t(h),jp=null,jh=0,h=Fn;for(;h!==null;)Yk(h.alternate,h),h=h.return;Fn=null}}function Zp(h,g){var C=h.timeoutHandle;C!==-1&&(h.timeoutHandle=-1,ea(C)),C=h.cancelPendingCommit,C!==null&&(h.cancelPendingCommit=null,C()),r1(),Lr=h,Fn=C=Ws(h.current,null),Jn=g,xr=0,Ot=null,nc=!1,Wf=zn(h,g),$b=!1,Vd=rc=t1=Ph=ut=Wi=0,Za=Wp=null,Wb=!1,(g&8)!==0&&(g|=g&32);var I=h.entangledLanes;if(I!==0)for(h=h.entanglements,I&=g;0<I;){var L=31-kt(I),V=1<<L;g|=h[L],I&=~V}return Vu=g,$s(),C}function JA(h,g){Cn=null,ue.H=Wa,g===ye||g===Se?(g=et(),xr=3):g===_e?(g=et(),xr=4):xr=g===Rk?8:g!==null&&typeof g=="object"&&typeof g.then=="function"?6:1,Ot=g,Fn===null&&(Wi=1,Pp(h,pr(g,h.current)))}function i1(){var h=ue.H;return ue.H=Wa,h===null?Wa:h}function o1(){var h=ue.A;return ue.A=mS,h}function Gf(){Wi=4,nc||(Jn&4194048)!==Jn&&Ga.current!==null||(Wf=!0),(ut&134217727)===0&&(Ph&134217727)===0||Lr===null||zh(Lr,Jn,rc,!1)}function Gb(h,g,C){var I=ii;ii|=2;var L=i1(),V=o1();(Lr!==h||Jn!==g)&&(wg=null,Zp(h,g)),g=!1;var he=Wi;e:do try{if(xr!==0&&Fn!==null){var Ee=Fn,Ve=Ot;switch(xr){case 8:r1(),he=6;break e;case 3:case 2:case 9:case 6:Ga.current===null&&(g=!0);var ct=xr;if(xr=0,Ot=null,Jp(h,Ee,Ve,ct),C&&Wf){he=0;break e}break;default:ct=xr,xr=0,Ot=null,Jp(h,Ee,Ve,ct)}}XA(),he=Wi;break}catch(Mt){JA(h,Mt)}while(!0);return g&&h.shellSuspendCounter++,Fc=Uo=null,ii=I,ue.H=L,ue.A=V,Fn===null&&(Lr=null,Jn=0,$s()),he}function XA(){for(;Fn!==null;)a1(Fn)}function s1(h,g){var C=ii;ii|=2;var I=i1(),L=o1();Lr!==h||Jn!==g?(wg=null,aa=De()+500,Zp(h,g)):Wf=zn(h,g);e:do try{if(xr!==0&&Fn!==null){g=Fn;var V=Ot;t:switch(xr){case 1:xr=0,Ot=null,Jp(h,g,V,1);break;case 2:case 9:if(Le(V)){xr=0,Ot=null,l1(g);break}g=function(){xr!==2&&xr!==9||Lr!==h||(xr=7),$u(h)},V.then(g,g);break e;case 3:xr=7;break e;case 4:xr=5;break e;case 7:Le(V)?(xr=0,Ot=null,l1(g)):(xr=0,Ot=null,Jp(h,g,V,7));break;case 5:var he=null;switch(Fn.tag){case 26:he=Fn.memoizedState;case 5:case 27:var Ee=Fn;if(!he||C_(he)){xr=0,Ot=null;var Ve=Ee.sibling;if(Ve!==null)Fn=Ve;else{var ct=Ee.return;ct!==null?(Fn=ct,Yb(ct)):Fn=null}break t}}xr=0,Ot=null,Jp(h,g,V,5);break;case 6:xr=0,Ot=null,Jp(h,g,V,6);break;case 8:r1(),Wi=6;break e;default:throw Error(o(462))}}e_();break}catch(Mt){JA(h,Mt)}while(!0);return Fc=Uo=null,ue.H=I,ue.A=L,ii=C,Fn!==null?0:(Lr=null,Jn=0,$s(),Wi)}function e_(){for(;Fn!==null&&!Pe();)a1(Fn)}function a1(h){var g=Wk(h.alternate,h,Vu);h.memoizedProps=h.pendingProps,g===null?Yb(h):Fn=g}function l1(h){var g=h,C=g.alternate;switch(g.tag){case 15:case 0:g=zp(C,g,g.pendingProps,g.type,void 0,Jn);break;case 11:g=zp(C,g,g.pendingProps,g.type.render,g.ref,Jn);break;case 5:$t(g);default:Yk(C,g),g=Fn=Lc(g,Vu),g=Wk(C,g,Vu)}h.memoizedProps=h.pendingProps,g===null?Yb(h):Fn=g}function Jp(h,g,C,I){Fc=Uo=null,$t(g),jp=null,jh=0;var L=g.return;try{if(pS(h,L,g,C,Jn)){Wi=1,Pp(h,pr(C,h.current)),Fn=null;return}}catch(V){if(L!==null)throw Fn=L,V;Wi=1,Pp(h,pr(C,h.current)),Fn=null;return}g.flags&32768?(ln||I===1?h=!0:Wf||(Jn&536870912)!==0?h=!1:(nc=h=!0,(I===2||I===9||I===3||I===6)&&(I=Ga.current,I!==null&&I.tag===13&&(I.flags|=16384))),c1(g,h)):Yb(g)}function Yb(h){var g=h;do{if((g.flags&32768)!==0){c1(g,nc);return}h=g.return;var C=BA(g.alternate,g,Vu);if(C!==null){Fn=C;return}if(g=g.sibling,g!==null){Fn=g;return}Fn=g=h}while(g!==null);Wi===0&&(Wi=5)}function c1(h,g){do{var C=LA(h.alternate,h);if(C!==null){C.flags&=32767,Fn=C;return}if(C=h.return,C!==null&&(C.flags|=32768,C.subtreeFlags=0,C.deletions=null),!g&&(h=h.sibling,h!==null)){Fn=h;return}Fn=h=C}while(h!==null);Wi=6,Fn=null}function u1(h,g,C,I,L,V,he,Ee,Ve){h.cancelPendingCommit=null;do Xp();while(Ms!==0);if((ii&6)!==0)throw Error(o(327));if(g!==null){if(g===h.current)throw Error(o(177));if(V=g.lanes|g.childLanes,V|=$n,yr(h,C,V,he,Ee,Ve),h===Lr&&(Fn=Lr=null,Jn=0),Gp=g,Hu=h,Yp=C,la=V,n1=L,KA=I,(g.subtreeFlags&10256)!==0||(g.flags&10256)!==0?(h.callbackNode=null,h.callbackPriority=0,bS(Xe,function(){return f1(),null})):(h.callbackNode=null,h.callbackPriority=0),I=(g.flags&13878)!==0,(g.subtreeFlags&13878)!==0||I){I=ue.T,ue.T=null,L=de.p,de.p=2,he=ii,ii|=4;try{$f(h,g,C)}finally{ii=he,de.p=L,ue.T=I}}Ms=1,d1(),t_(),h1()}}function d1(){if(Ms===1){Ms=0;var h=Hu,g=Gp,C=(g.flags&13878)!==0;if((g.subtreeFlags&13878)!==0||C){C=ue.T,ue.T=null;var I=de.p;de.p=2;var L=ii;ii|=4;try{qb(g,h);var V=Jb,he=Us(h.containerInfo),Ee=V.focusedElem,Ve=V.selectionRange;if(he!==Ee&&Ee&&Ee.ownerDocument&&Mc(Ee.ownerDocument.documentElement,Ee)){if(Ve!==null&&zo(Ee)){var ct=Ve.start,Mt=Ve.end;if(Mt===void 0&&(Mt=ct),"selectionStart"in Ee)Ee.selectionStart=ct,Ee.selectionEnd=Math.min(Mt,Ee.value.length);else{var Et=Ee.ownerDocument||document,ht=Et&&Et.defaultView||window;if(ht.getSelection){var mt=ht.getSelection(),En=Ee.textContent.length,Dn=Math.min(Ve.start,En),pi=Ve.end===void 0?Dn:Math.min(Ve.end,En);!mt.extend&&Dn>pi&&(he=pi,pi=Dn,Dn=he);var nt=Tc(Ee,Dn),Qe=Tc(Ee,pi);if(nt&&Qe&&(mt.rangeCount!==1||mt.anchorNode!==nt.node||mt.anchorOffset!==nt.offset||mt.focusNode!==Qe.node||mt.focusOffset!==Qe.offset)){var st=Et.createRange();st.setStart(nt.node,nt.offset),mt.removeAllRanges(),Dn>pi?(mt.addRange(st),mt.extend(Qe.node,Qe.offset)):(st.setEnd(Qe.node,Qe.offset),mt.addRange(st))}}}}for(Et=[],mt=Ee;mt=mt.parentNode;)mt.nodeType===1&&Et.push({element:mt,left:mt.scrollLeft,top:mt.scrollTop});for(typeof Ee.focus=="function"&&Ee.focus(),Ee=0;Ee<Et.length;Ee++){var Pt=Et[Ee];Pt.element.scrollLeft=Pt.left,Pt.element.scrollTop=Pt.top}}d0=!!_1,Jb=_1=null}finally{ii=L,de.p=I,ue.T=C}}h.current=g,Ms=2}}function t_(){if(Ms===2){Ms=0;var h=Hu,g=Gp,C=(g.flags&8772)!==0;if((g.subtreeFlags&8772)!==0||C){C=ue.T,ue.T=null;var I=de.p;de.p=2;var L=ii;ii|=4;try{FA(h,g.alternate,g)}finally{ii=L,de.p=I,ue.T=C}}Ms=3}}function h1(){if(Ms===4||Ms===3){Ms=0,we();var h=Hu,g=Gp,C=Yp,I=KA;(g.subtreeFlags&10256)!==0||(g.flags&10256)!==0?Ms=5:(Ms=0,Gp=Hu=null,Kb(h,h.pendingLanes));var L=h.pendingLanes;if(L===0&&(Rh=null),wi(C),g=g.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(pt,g,void 0,(g.current.flags&128)===128)}catch{}if(I!==null){g=ue.T,L=de.p,de.p=2,ue.T=null;try{for(var V=h.onRecoverableError,he=0;he<I.length;he++){var Ee=I[he];V(Ee.value,{componentStack:Ee.stack})}}finally{ue.T=g,de.p=L}}(Yp&3)!==0&&Xp(),$u(h),L=h.pendingLanes,(C&4194090)!==0&&(L&42)!==0?h===Kp?Jr++:(Jr=0,Kp=h):Jr=0,yg(0)}}function Kb(h,g){(h.pooledCacheLanes&=g)===0&&(g=h.pooledCache,g!=null&&(h.pooledCache=null,jf(g)))}function Xp(h){return d1(),t_(),h1(),f1()}function f1(){if(Ms!==5)return!1;var h=Hu,g=la;la=0;var C=wi(Yp),I=ue.T,L=de.p;try{de.p=32>C?32:C,ue.T=null,C=n1,n1=null;var V=Hu,he=Yp;if(Ms=0,Gp=Hu=null,Yp=0,(ii&6)!==0)throw Error(o(331));var Ee=ii;if(ii|=4,e1(V.current),bg(V,V.current,he,C),ii=Ee,yg(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(pt,V)}catch{}return!0}finally{de.p=L,ue.T=I,Kb(h,g)}}function p1(h,g,C){g=pr(C,g),g=Pd(h.stateNode,g,2),h=Rt(h,g,2),h!==null&&(gr(h,2),$u(h))}function fi(h,g,C){if(h.tag===3)p1(h,h,C);else for(;g!==null;){if(g.tag===3){p1(g,h,C);break}else if(g.tag===1){var I=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof I.componentDidCatch=="function"&&(Rh===null||!Rh.has(I))){h=pr(C,h),C=Pk(2),I=Rt(g,C,2),I!==null&&(Ob(C,I,g,h),gr(I,2),$u(I));break}}g=g.return}}function m1(h,g,C){var I=h.pingCache;if(I===null){I=h.pingCache=new Yc;var L=new Set;I.set(g,L)}else L=I.get(g),L===void 0&&(L=new Set,I.set(g,L));L.has(C)||($b=!0,L.add(C),h=n_.bind(null,h,g,C),g.then(h,h))}function n_(h,g,C){var I=h.pingCache;I!==null&&I.delete(g),h.pingedLanes|=h.suspendedLanes&C,h.warmLanes&=~C,Lr===h&&(Jn&C)===C&&(Wi===4||Wi===3&&(Jn&62914560)===Jn&&300>De()-Hd?(ii&2)===0&&Zp(h,0):t1|=C,Vd===Jn&&(Vd=0)),$u(h)}function g1(h,g){g===0&&(g=rr()),h=Mn(h,g),h!==null&&(gr(h,g),$u(h))}function r_(h){var g=h.memoizedState,C=0;g!==null&&(C=g.retryLane),g1(h,C)}function gS(h,g){var C=0;switch(h.tag){case 13:var I=h.stateNode,L=h.memoizedState;L!==null&&(C=L.retryLane);break;case 19:I=h.stateNode;break;case 22:I=h.stateNode._retryCache;break;default:throw Error(o(314))}I!==null&&I.delete(g),g1(h,C)}function bS(h,g){return gt(h,g)}var Kc=null,em=null,b1=!1,Qb=!1,k1=!1,Yf=0;function $u(h){h!==em&&h.next===null&&(em===null?Kc=em=h:em=em.next=h),Qb=!0,b1||(b1=!0,a_())}function yg(h,g){if(!k1&&Qb){k1=!0;do for(var C=!1,I=Kc;I!==null;){if(h!==0){var L=I.pendingLanes;if(L===0)var V=0;else{var he=I.suspendedLanes,Ee=I.pingedLanes;V=(1<<31-kt(42|h)+1)-1,V&=L&~(he&~Ee),V=V&201326741?V&201326741|1:V?V|2:0}V!==0&&(C=!0,s_(I,V))}else V=Jn,V=In(I,I===Lr?V:0,I.cancelPendingCommit!==null||I.timeoutHandle!==-1),(V&3)===0||zn(I,V)||(C=!0,s_(I,V));I=I.next}while(C);k1=!1}}function kS(){i_()}function i_(){Qb=b1=!1;var h=0;Yf!==0&&(f_()&&(h=Yf),Yf=0);for(var g=De(),C=null,I=Kc;I!==null;){var L=I.next,V=o_(I,g);V===0?(I.next=null,C===null?Kc=L:C.next=L,L===null&&(em=C)):(C=I,(h!==0||(V&3)!==0)&&(Qb=!0)),I=L}yg(h)}function o_(h,g){for(var C=h.suspendedLanes,I=h.pingedLanes,L=h.expirationTimes,V=h.pendingLanes&-62914561;0<V;){var he=31-kt(V),Ee=1<<he,Ve=L[he];Ve===-1?((Ee&C)===0||(Ee&I)!==0)&&(L[he]=Yn(Ee,g)):Ve<=g&&(h.expiredLanes|=Ee),V&=~Ee}if(g=Lr,C=Jn,C=In(h,h===g?C:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),I=h.callbackNode,C===0||h===g&&(xr===2||xr===9)||h.cancelPendingCommit!==null)return I!==null&&I!==null&&oe(I),h.callbackNode=null,h.callbackPriority=0;if((C&3)===0||zn(h,C)){if(g=C&-C,g===h.callbackPriority)return g;switch(I!==null&&oe(I),wi(C)){case 2:case 8:C=Ke;break;case 32:C=Xe;break;case 268435456:C=dt;break;default:C=Xe}return I=Qc.bind(null,h),C=gt(C,I),h.callbackPriority=g,h.callbackNode=C,g}return I!==null&&I!==null&&oe(I),h.callbackPriority=2,h.callbackNode=null,2}function Qc(h,g){if(Ms!==0&&Ms!==5)return h.callbackNode=null,h.callbackPriority=0,null;var C=h.callbackNode;if(Xp()&&h.callbackNode!==C)return null;var I=Jn;return I=In(h,h===Lr?I:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),I===0?null:(Qp(h,I,g),o_(h,De()),h.callbackNode!=null&&h.callbackNode===C?Qc.bind(null,h):null)}function s_(h,g){if(Xp())return null;Qp(h,g,!0)}function a_(){vS(function(){(ii&6)!==0?gt(Oe,kS):i_()})}function w1(){return Yf===0&&(Yf=ei()),Yf}function l_(h){return h==null||typeof h=="symbol"||typeof h=="boolean"?null:typeof h=="function"?h:na(""+h)}function c_(h,g){var C=g.ownerDocument.createElement("input");return C.name=g.name,C.value=g.value,h.id&&C.setAttribute("form",h.id),g.parentNode.insertBefore(C,g),h=new FormData(h),C.parentNode.removeChild(C),h}function wS(h,g,C,I,L){if(g==="submit"&&C&&C.stateNode===L){var V=l_((L[or]||null).action),he=I.submitter;he&&(g=(g=he[or]||null)?l_(g.formAction):he.getAttribute("formAction"),g!==null&&(V=g,he=null));var Ee=new Er("action","action",null,I,L);h.push({event:Ee,listeners:[{instance:null,listener:function(){if(I.defaultPrevented){if(Yf!==0){var Ve=he?c_(L,he):new FormData(L);$a(C,{pending:!0,data:Ve,method:L.method,action:V},null,Ve)}}else typeof V=="function"&&(Ee.preventDefault(),Ve=he?c_(L,he):new FormData(L),$a(C,{pending:!0,data:Ve,method:L.method,action:V},V,Ve))},currentTarget:L}]})}}for(var v1=0;v1<Fo.length;v1++){var Ag=Fo[v1],u_=Ag.toLowerCase(),Cl=Ag[0].toUpperCase()+Ag.slice(1);Hi(u_,"on"+Cl)}Hi(xu,"onAnimationEnd"),Hi(Hs,"onAnimationIteration"),Hi(Nc,"onAnimationStart"),Hi("dblclick","onDoubleClick"),Hi("focusin","onFocus"),Hi("focusout","onBlur"),Hi(jc,"onTransitionRun"),Hi(_d,"onTransitionStart"),Hi(wa,"onTransitionCancel"),Hi(wl,"onTransitionEnd"),Ss("onMouseEnter",["mouseout","mouseover"]),Ss("onMouseLeave",["mouseout","mouseover"]),Ss("onPointerEnter",["pointerout","pointerover"]),Ss("onPointerLeave",["pointerout","pointerover"]),Ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ki("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kf));function tm(h,g){g=(g&4)!==0;for(var C=0;C<h.length;C++){var I=h[C],L=I.event;I=I.listeners;e:{var V=void 0;if(g)for(var he=I.length-1;0<=he;he--){var Ee=I[he],Ve=Ee.instance,ct=Ee.currentTarget;if(Ee=Ee.listener,Ve!==V&&L.isPropagationStopped())break e;V=Ee,L.currentTarget=ct;try{V(L)}catch(Mt){jb(Mt)}L.currentTarget=null,V=Ve}else for(he=0;he<I.length;he++){if(Ee=I[he],Ve=Ee.instance,ct=Ee.currentTarget,Ee=Ee.listener,Ve!==V&&L.isPropagationStopped())break e;V=Ee,L.currentTarget=ct;try{V(L)}catch(Mt){jb(Mt)}L.currentTarget=null,V=Ve}}}}function br(h,g){var C=g[jr];C===void 0&&(C=g[jr]=new Set);var I=h+"__bubble";C.has(I)||(Pr(g,h,2,!1),C.add(I))}function Qf(h,g,C){var I=0;g&&(I|=4),Pr(C,h,I,g)}var Fh="_reactListening"+Math.random().toString(36).slice(2);function Zb(h){if(!h[Fh]){h[Fh]=!0,fl.forEach(function(C){C!=="selectionchange"&&(d_.has(C)||Qf(C,!1,h),Qf(C,!0,h))});var g=h.nodeType===9?h:h.ownerDocument;g===null||g[Fh]||(g[Fh]=!0,Qf("selectionchange",!1,g))}}function Pr(h,g,C,I){switch(lm(g)){case 2:var L=P1;break;case 8:L=ES;break;default:L=Tg}C=L.bind(null,g,C,h),L=void 0,!gh||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(L=!0),I?L!==void 0?h.addEventListener(g,C,{capture:!0,passive:L}):h.addEventListener(g,C,!0):L!==void 0?h.addEventListener(g,C,{passive:L}):h.addEventListener(g,C,!1)}function Wo(h,g,C,I,L){var V=I;if((g&1)===0&&(g&2)===0&&I!==null)e:for(;;){if(I===null)return;var he=I.tag;if(he===3||he===4){var Ee=I.stateNode.containerInfo;if(Ee===L)break;if(he===4)for(he=I.return;he!==null;){var Ve=he.tag;if((Ve===3||Ve===4)&&he.stateNode.containerInfo===L)return;he=he.return}for(;Ee!==null;){if(he=wo(Ee),he===null)return;if(Ve=he.tag,Ve===5||Ve===6||Ve===26||Ve===27){I=V=he;continue e}Ee=Ee.parentNode}}I=I.return}vp(function(){var ct=V,Mt=Qi(C),Et=[];e:{var ht=Hl.get(h);if(ht!==void 0){var mt=Er,En=h;switch(h){case"keypress":if(Cc(C)===0)break e;case"keydown":case"keyup":mt=kd;break;case"focusin":En="focus",mt=bd;break;case"focusout":En="blur",mt=bd;break;case"beforeblur":case"afterblur":mt=bd;break;case"click":if(C.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":mt=gl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":mt=wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":mt=vh;break;case xu:case Hs:case Nc:mt=Km;break;case wl:mt=ge;break;case"scroll":case"scrollend":mt=bh;break;case"wheel":mt=$e;break;case"copy":case"cut":case"paste":mt=Qm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":mt=wd;break;case"toggle":case"beforetoggle":mt=_t}var Dn=(g&4)!==0,pi=!Dn&&(h==="scroll"||h==="scrollend"),nt=Dn?ht!==null?ht+"Capture":null:ht;Dn=[];for(var Qe=ct,st;Qe!==null;){var Pt=Qe;if(st=Pt.stateNode,Pt=Pt.tag,Pt!==5&&Pt!==26&&Pt!==27||st===null||nt===null||(Pt=Rs(Qe,nt),Pt!=null&&Dn.push(Ur(Qe,Pt,st))),pi)break;Qe=Qe.return}0<Dn.length&&(ht=new mt(ht,En,null,C,Mt),Et.push({event:ht,listeners:Dn}))}}if((g&7)===0){e:{if(ht=h==="mouseover"||h==="pointerover",mt=h==="mouseout"||h==="pointerout",ht&&C!==mh&&(En=C.relatedTarget||C.fromElement)&&(wo(En)||En[vi]))break e;if((mt||ht)&&(ht=Mt.window===Mt?Mt:(ht=Mt.ownerDocument)?ht.defaultView||ht.parentWindow:window,mt?(En=C.relatedTarget||C.toElement,mt=ct,En=En?wo(En):null,En!==null&&(pi=c(En),Dn=En.tag,En!==pi||Dn!==5&&Dn!==27&&Dn!==6)&&(En=null)):(mt=null,En=ct),mt!==En)){if(Dn=gl,Pt="onMouseLeave",nt="onMouseEnter",Qe="mouse",(h==="pointerout"||h==="pointerover")&&(Dn=wd,Pt="onPointerLeave",nt="onPointerEnter",Qe="pointer"),pi=mt==null?ht:lo(mt),st=En==null?ht:lo(En),ht=new Dn(Pt,Qe+"leave",mt,C,Mt),ht.target=pi,ht.relatedTarget=st,Pt=null,wo(Mt)===ct&&(Dn=new Dn(nt,Qe+"enter",En,C,Mt),Dn.target=st,Dn.relatedTarget=pi,Pt=Dn),pi=Pt,mt&&En)t:{for(Dn=mt,nt=En,Qe=0,st=Dn;st;st=Go(st))Qe++;for(st=0,Pt=nt;Pt;Pt=Go(Pt))st++;for(;0<Qe-st;)Dn=Go(Dn),Qe--;for(;0<st-Qe;)nt=Go(nt),st--;for(;Qe--;){if(Dn===nt||nt!==null&&Dn===nt.alternate)break t;Dn=Go(Dn),nt=Go(nt)}Dn=null}else Dn=null;mt!==null&&y1(Et,ht,mt,Dn,!1),En!==null&&pi!==null&&y1(Et,pi,En,Dn,!0)}}e:{if(ht=ct?lo(ct):window,mt=ht.nodeName&&ht.nodeName.toLowerCase(),mt==="select"||mt==="input"&&ht.type==="file")var rn=_h;else if(La(ht))if(vd)rn=Ap;else{rn=Jm;var nr=Es}else mt=ht.nodeName,!mt||mt.toLowerCase()!=="input"||ht.type!=="checkbox"&&ht.type!=="radio"?ct&&ku(ct.elementType)&&(rn=_h):rn=Df;if(rn&&(rn=rn(h,ct))){yh(Et,rn,C,Mt);break e}nr&&nr(h,ht,ct),h==="focusout"&&ct&&ht.type==="number"&&ct.memoizedProps.value!=null&&vf(ht,"number",ht.value)}switch(nr=ct?lo(ct):window,h){case"focusin":(La(nr)||nr.contentEditable==="true")&&(qs=nr,kl=ct,Vl=null);break;case"focusout":Vl=kl=qs=null;break;case"mousedown":Ra=!0;break;case"contextmenu":case"mouseup":case"dragend":Ra=!1,Vi(Et,C,Mt);break;case"selectionchange":if(Cu)break;case"keydown":case"keyup":Vi(Et,C,Mt)}var kn;if(tn)e:{switch(h){case"compositionstart":var Sn="onCompositionStart";break e;case"compositionend":Sn="onCompositionEnd";break e;case"compositionupdate":Sn="onCompositionUpdate";break e}Sn=void 0}else Pi?yi(h,C)&&(Sn="onCompositionEnd"):h==="keydown"&&C.keyCode===229&&(Sn="onCompositionStart");Sn&&(Ln&&C.locale!=="ko"&&(Pi||Sn!=="onCompositionStart"?Sn==="onCompositionEnd"&&Pi&&(kn=Cf()):(zs=Mt,_f="value"in zs?zs.value:zs.textContent,Pi=!0)),nr=Fi(ct,Sn),0<nr.length&&(Sn=new Ul(Sn,h,null,C,Mt),Et.push({event:Sn,listeners:nr}),kn?Sn.data=kn:(kn=Li(C),kn!==null&&(Sn.data=kn)))),(kn=Hn?uo(h,C):Ba(h,C))&&(Sn=Fi(ct,"onBeforeInput"),0<Sn.length&&(nr=new Ul("onBeforeInput","beforeinput",null,C,Mt),Et.push({event:nr,listeners:Sn}),nr.data=kn)),wS(Et,h,ct,C,Mt)}tm(Et,g)})}function Ur(h,g,C){return{instance:h,listener:g,currentTarget:C}}function Fi(h,g){for(var C=g+"Capture",I=[];h!==null;){var L=h,V=L.stateNode;if(L=L.tag,L!==5&&L!==26&&L!==27||V===null||(L=Rs(h,C),L!=null&&I.unshift(Ur(h,L,V)),L=Rs(h,g),L!=null&&I.push(Ur(h,L,V))),h.tag===3)return I;h=h.return}return[]}function Go(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5&&h.tag!==27);return h||null}function y1(h,g,C,I,L){for(var V=g._reactName,he=[];C!==null&&C!==I;){var Ee=C,Ve=Ee.alternate,ct=Ee.stateNode;if(Ee=Ee.tag,Ve!==null&&Ve===I)break;Ee!==5&&Ee!==26&&Ee!==27||ct===null||(Ve=ct,L?(ct=Rs(C,V),ct!=null&&he.unshift(Ur(C,ct,Ve))):L||(ct=Rs(C,V),ct!=null&&he.push(Ur(C,ct,Ve)))),C=C.return}he.length!==0&&h.push({event:g,listeners:he})}var Io=/\r\n?/g,us=/\u0000|\uFFFD/g;function xa(h){return(typeof h=="string"?h:""+h).replace(Io,`
`).replace(us,"")}function Wu(h,g){return g=xa(g),xa(h)===g}function xl(){}function mr(h,g,C,I,L,V){switch(C){case"children":typeof I=="string"?g==="body"||g==="textarea"&&I===""||bu(h,I):(typeof I=="number"||typeof I=="bigint")&&g!=="body"&&bu(h,""+I);break;case"className":mn(h,"class",I);break;case"tabIndex":mn(h,"tabindex",I);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(h,C,I);break;case"style":yc(h,I,V);break;case"data":if(g!=="object"){mn(h,"data",I);break}case"src":case"href":if(I===""&&(g!=="a"||C!=="href")){h.removeAttribute(C);break}if(I==null||typeof I=="function"||typeof I=="symbol"||typeof I=="boolean"){h.removeAttribute(C);break}I=na(""+I),h.setAttribute(C,I);break;case"action":case"formAction":if(typeof I=="function"){h.setAttribute(C,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof V=="function"&&(C==="formAction"?(g!=="input"&&mr(h,g,"name",L.name,L,null),mr(h,g,"formEncType",L.formEncType,L,null),mr(h,g,"formMethod",L.formMethod,L,null),mr(h,g,"formTarget",L.formTarget,L,null)):(mr(h,g,"encType",L.encType,L,null),mr(h,g,"method",L.method,L,null),mr(h,g,"target",L.target,L,null)));if(I==null||typeof I=="symbol"||typeof I=="boolean"){h.removeAttribute(C);break}I=na(""+I),h.setAttribute(C,I);break;case"onClick":I!=null&&(h.onclick=xl);break;case"onScroll":I!=null&&br("scroll",h);break;case"onScrollEnd":I!=null&&br("scrollend",h);break;case"dangerouslySetInnerHTML":if(I!=null){if(typeof I!="object"||!("__html"in I))throw Error(o(61));if(C=I.__html,C!=null){if(L.children!=null)throw Error(o(60));h.innerHTML=C}}break;case"multiple":h.multiple=I&&typeof I!="function"&&typeof I!="symbol";break;case"muted":h.muted=I&&typeof I!="function"&&typeof I!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(I==null||typeof I=="function"||typeof I=="boolean"||typeof I=="symbol"){h.removeAttribute("xlink:href");break}C=na(""+I),h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",C);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":I!=null&&typeof I!="function"&&typeof I!="symbol"?h.setAttribute(C,""+I):h.removeAttribute(C);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":I&&typeof I!="function"&&typeof I!="symbol"?h.setAttribute(C,""):h.removeAttribute(C);break;case"capture":case"download":I===!0?h.setAttribute(C,""):I!==!1&&I!=null&&typeof I!="function"&&typeof I!="symbol"?h.setAttribute(C,I):h.removeAttribute(C);break;case"cols":case"rows":case"size":case"span":I!=null&&typeof I!="function"&&typeof I!="symbol"&&!isNaN(I)&&1<=I?h.setAttribute(C,I):h.removeAttribute(C);break;case"rowSpan":case"start":I==null||typeof I=="function"||typeof I=="symbol"||isNaN(I)?h.removeAttribute(C):h.setAttribute(C,I);break;case"popover":br("beforetoggle",h),br("toggle",h),Wt(h,"popover",I);break;case"xlinkActuate":sn(h,"http://www.w3.org/1999/xlink","xlink:actuate",I);break;case"xlinkArcrole":sn(h,"http://www.w3.org/1999/xlink","xlink:arcrole",I);break;case"xlinkRole":sn(h,"http://www.w3.org/1999/xlink","xlink:role",I);break;case"xlinkShow":sn(h,"http://www.w3.org/1999/xlink","xlink:show",I);break;case"xlinkTitle":sn(h,"http://www.w3.org/1999/xlink","xlink:title",I);break;case"xlinkType":sn(h,"http://www.w3.org/1999/xlink","xlink:type",I);break;case"xmlBase":sn(h,"http://www.w3.org/XML/1998/namespace","xml:base",I);break;case"xmlLang":sn(h,"http://www.w3.org/XML/1998/namespace","xml:lang",I);break;case"xmlSpace":sn(h,"http://www.w3.org/XML/1998/namespace","xml:space",I);break;case"is":Wt(h,"is",I);break;case"innerText":case"textContent":break;default:(!(2<C.length)||C[0]!=="o"&&C[0]!=="O"||C[1]!=="n"&&C[1]!=="N")&&(C=Ac.get(C)||C,Wt(h,C,I))}}function A1(h,g,C,I,L,V){switch(C){case"style":yc(h,I,V);break;case"dangerouslySetInnerHTML":if(I!=null){if(typeof I!="object"||!("__html"in I))throw Error(o(61));if(C=I.__html,C!=null){if(L.children!=null)throw Error(o(60));h.innerHTML=C}}break;case"children":typeof I=="string"?bu(h,I):(typeof I=="number"||typeof I=="bigint")&&bu(h,""+I);break;case"onScroll":I!=null&&br("scroll",h);break;case"onScrollEnd":I!=null&&br("scrollend",h);break;case"onClick":I!=null&&(h.onclick=xl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ol.hasOwnProperty(C))e:{if(C[0]==="o"&&C[1]==="n"&&(L=C.endsWith("Capture"),g=C.slice(2,L?C.length-7:void 0),V=h[or]||null,V=V!=null?V[C]:null,typeof V=="function"&&h.removeEventListener(g,V,L),typeof I=="function")){typeof V!="function"&&V!==null&&(C in h?h[C]=null:h.hasAttribute(C)&&h.removeAttribute(C)),h.addEventListener(g,I,L);break e}C in h?h[C]=I:I===!0?h.setAttribute(C,""):Wt(h,C,I)}}}function ds(h,g,C){switch(g){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":br("error",h),br("load",h);var I=!1,L=!1,V;for(V in C)if(C.hasOwnProperty(V)){var he=C[V];if(he!=null)switch(V){case"src":I=!0;break;case"srcSet":L=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,g));default:mr(h,g,V,he,C,null)}}L&&mr(h,g,"srcSet",C.srcSet,C,null),I&&mr(h,g,"src",C.src,C,null);return;case"input":br("invalid",h);var Ee=V=he=L=null,Ve=null,ct=null;for(I in C)if(C.hasOwnProperty(I)){var Mt=C[I];if(Mt!=null)switch(I){case"name":L=Mt;break;case"type":he=Mt;break;case"checked":Ve=Mt;break;case"defaultChecked":ct=Mt;break;case"value":V=Mt;break;case"defaultValue":Ee=Mt;break;case"children":case"dangerouslySetInnerHTML":if(Mt!=null)throw Error(o(137,g));break;default:mr(h,g,I,Mt,C,null)}}ph(h,V,Ee,Ve,ct,he,L,!1),ga(h);return;case"select":br("invalid",h),I=he=V=null;for(L in C)if(C.hasOwnProperty(L)&&(Ee=C[L],Ee!=null))switch(L){case"value":V=Ee;break;case"defaultValue":he=Ee;break;case"multiple":I=Ee;default:mr(h,g,L,Ee,C,null)}g=V,C=he,h.multiple=!!I,g!=null?vc(h,!!I,g,!1):C!=null&&vc(h,!!I,C,!0);return;case"textarea":br("invalid",h),V=L=I=null;for(he in C)if(C.hasOwnProperty(he)&&(Ee=C[he],Ee!=null))switch(he){case"value":I=Ee;break;case"defaultValue":L=Ee;break;case"children":V=Ee;break;case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(o(91));break;default:mr(h,g,he,Ee,C,null)}yf(h,I,L,V),ga(h);return;case"option":for(Ve in C)if(C.hasOwnProperty(Ve)&&(I=C[Ve],I!=null))switch(Ve){case"selected":h.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:mr(h,g,Ve,I,C,null)}return;case"dialog":br("beforetoggle",h),br("toggle",h),br("cancel",h),br("close",h);break;case"iframe":case"object":br("load",h);break;case"video":case"audio":for(I=0;I<Kf.length;I++)br(Kf[I],h);break;case"image":br("error",h),br("load",h);break;case"details":br("toggle",h);break;case"embed":case"source":case"link":br("error",h),br("load",h);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ct in C)if(C.hasOwnProperty(ct)&&(I=C[ct],I!=null))switch(ct){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,g));default:mr(h,g,ct,I,C,null)}return;default:if(ku(g)){for(Mt in C)C.hasOwnProperty(Mt)&&(I=C[Mt],I!==void 0&&A1(h,g,Mt,I,C,void 0));return}}for(Ee in C)C.hasOwnProperty(Ee)&&(I=C[Ee],I!=null&&mr(h,g,Ee,I,C,null))}function Mr(h,g,C,I){switch(g){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var L=null,V=null,he=null,Ee=null,Ve=null,ct=null,Mt=null;for(mt in C){var Et=C[mt];if(C.hasOwnProperty(mt)&&Et!=null)switch(mt){case"checked":break;case"value":break;case"defaultValue":Ve=Et;default:I.hasOwnProperty(mt)||mr(h,g,mt,null,I,Et)}}for(var ht in I){var mt=I[ht];if(Et=C[ht],I.hasOwnProperty(ht)&&(mt!=null||Et!=null))switch(ht){case"type":V=mt;break;case"name":L=mt;break;case"checked":ct=mt;break;case"defaultChecked":Mt=mt;break;case"value":he=mt;break;case"defaultValue":Ee=mt;break;case"children":case"dangerouslySetInnerHTML":if(mt!=null)throw Error(o(137,g));break;default:mt!==Et&&mr(h,g,ht,mt,I,Et)}}ja(h,he,Ee,Ve,ct,Mt,V,L);return;case"select":mt=he=Ee=ht=null;for(V in C)if(Ve=C[V],C.hasOwnProperty(V)&&Ve!=null)switch(V){case"value":break;case"multiple":mt=Ve;default:I.hasOwnProperty(V)||mr(h,g,V,null,I,Ve)}for(L in I)if(V=I[L],Ve=C[L],I.hasOwnProperty(L)&&(V!=null||Ve!=null))switch(L){case"value":ht=V;break;case"defaultValue":Ee=V;break;case"multiple":he=V;default:V!==Ve&&mr(h,g,L,V,I,Ve)}g=Ee,C=he,I=mt,ht!=null?vc(h,!!C,ht,!1):!!I!=!!C&&(g!=null?vc(h,!!C,g,!0):vc(h,!!C,C?[]:"",!1));return;case"textarea":mt=ht=null;for(Ee in C)if(L=C[Ee],C.hasOwnProperty(Ee)&&L!=null&&!I.hasOwnProperty(Ee))switch(Ee){case"value":break;case"children":break;default:mr(h,g,Ee,null,I,L)}for(he in I)if(L=I[he],V=C[he],I.hasOwnProperty(he)&&(L!=null||V!=null))switch(he){case"value":ht=L;break;case"defaultValue":mt=L;break;case"children":break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(o(91));break;default:L!==V&&mr(h,g,he,L,I,V)}pd(h,ht,mt);return;case"option":for(var En in C)if(ht=C[En],C.hasOwnProperty(En)&&ht!=null&&!I.hasOwnProperty(En))switch(En){case"selected":h.selected=!1;break;default:mr(h,g,En,null,I,ht)}for(Ve in I)if(ht=I[Ve],mt=C[Ve],I.hasOwnProperty(Ve)&&ht!==mt&&(ht!=null||mt!=null))switch(Ve){case"selected":h.selected=ht&&typeof ht!="function"&&typeof ht!="symbol";break;default:mr(h,g,Ve,ht,I,mt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Dn in C)ht=C[Dn],C.hasOwnProperty(Dn)&&ht!=null&&!I.hasOwnProperty(Dn)&&mr(h,g,Dn,null,I,ht);for(ct in I)if(ht=I[ct],mt=C[ct],I.hasOwnProperty(ct)&&ht!==mt&&(ht!=null||mt!=null))switch(ct){case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(o(137,g));break;default:mr(h,g,ct,ht,I,mt)}return;default:if(ku(g)){for(var pi in C)ht=C[pi],C.hasOwnProperty(pi)&&ht!==void 0&&!I.hasOwnProperty(pi)&&A1(h,g,pi,void 0,I,ht);for(Mt in I)ht=I[Mt],mt=C[Mt],!I.hasOwnProperty(Mt)||ht===mt||ht===void 0&&mt===void 0||A1(h,g,Mt,ht,I,mt);return}}for(var nt in C)ht=C[nt],C.hasOwnProperty(nt)&&ht!=null&&!I.hasOwnProperty(nt)&&mr(h,g,nt,null,I,ht);for(Et in I)ht=I[Et],mt=C[Et],!I.hasOwnProperty(Et)||ht===mt||ht==null&&mt==null||mr(h,g,Et,ht,I,mt)}var _1=null,Jb=null;function Xb(h){return h.nodeType===9?h:h.ownerDocument}function h_(h){switch(h){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function C1(h,g){if(h===0)switch(g){case"svg":return 1;case"math":return 2;default:return 0}return h===1&&g==="foreignObject"?0:h}function e0(h,g){return h==="textarea"||h==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.children=="bigint"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var t0=null;function f_(){var h=window.event;return h&&h.type==="popstate"?h===t0?!1:(t0=h,!0):(t0=null,!1)}var Zf=typeof setTimeout=="function"?setTimeout:void 0,ea=typeof clearTimeout=="function"?clearTimeout:void 0,p_=typeof Promise=="function"?Promise:void 0,vS=typeof queueMicrotask=="function"?queueMicrotask:typeof p_<"u"?function(h){return p_.resolve(null).then(h).catch(nm)}:Zf;function nm(h){setTimeout(function(){throw h})}function Gu(h){return h==="head"}function x1(h,g){var C=g,I=0,L=0;do{var V=C.nextSibling;if(h.removeChild(C),V&&V.nodeType===8)if(C=V.data,C==="/$"){if(0<I&&8>I){C=I;var he=h.ownerDocument;if(C&1&&Yu(he.documentElement),C&2&&Yu(he.body),C&4)for(C=he.head,Yu(C),he=C.firstChild;he;){var Ee=he.nextSibling,Ve=he.nodeName;he[Cs]||Ve==="SCRIPT"||Ve==="STYLE"||Ve==="LINK"&&he.rel.toLowerCase()==="stylesheet"||C.removeChild(he),he=Ee}}if(L===0){h.removeChild(V),Wd(g);return}L--}else C==="$"||C==="$?"||C==="$!"?L++:I=C.charCodeAt(0)-48;else I=0;C=V}while(C);Wd(g)}function n0(h){var g=h.firstChild;for(g&&g.nodeType===10&&(g=g.nextSibling);g;){var C=g;switch(g=g.nextSibling,C.nodeName){case"HTML":case"HEAD":case"BODY":n0(C),xs(C);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(C.rel.toLowerCase()==="stylesheet")continue}h.removeChild(C)}}function yS(h,g,C,I){for(;h.nodeType===1;){var L=C;if(h.nodeName.toLowerCase()!==g.toLowerCase()){if(!I&&(h.nodeName!=="INPUT"||h.type!=="hidden"))break}else if(I){if(!h[Cs])switch(g){case"meta":if(!h.hasAttribute("itemprop"))break;return h;case"link":if(V=h.getAttribute("rel"),V==="stylesheet"&&h.hasAttribute("data-precedence"))break;if(V!==L.rel||h.getAttribute("href")!==(L.href==null||L.href===""?null:L.href)||h.getAttribute("crossorigin")!==(L.crossOrigin==null?null:L.crossOrigin)||h.getAttribute("title")!==(L.title==null?null:L.title))break;return h;case"style":if(h.hasAttribute("data-precedence"))break;return h;case"script":if(V=h.getAttribute("src"),(V!==(L.src==null?null:L.src)||h.getAttribute("type")!==(L.type==null?null:L.type)||h.getAttribute("crossorigin")!==(L.crossOrigin==null?null:L.crossOrigin))&&V&&h.hasAttribute("async")&&!h.hasAttribute("itemprop"))break;return h;default:return h}}else if(g==="input"&&h.type==="hidden"){var V=L.name==null?null:""+L.name;if(L.type==="hidden"&&h.getAttribute("name")===V)return h}else return h;if(h=ic(h.nextSibling),h===null)break}return null}function AS(h,g,C){if(g==="")return null;for(;h.nodeType!==3;)if((h.nodeType!==1||h.nodeName!=="INPUT"||h.type!=="hidden")&&!C||(h=ic(h.nextSibling),h===null))return null;return h}function S1(h){return h.data==="$!"||h.data==="$?"&&h.ownerDocument.readyState==="complete"}function r0(h,g){var C=h.ownerDocument;if(h.data!=="$?"||C.readyState==="complete")g();else{var I=function(){g(),C.removeEventListener("DOMContentLoaded",I)};C.addEventListener("DOMContentLoaded",I),h._reactRetry=I}}function ic(h){for(;h!=null;h=h.nextSibling){var g=h.nodeType;if(g===1||g===3)break;if(g===8){if(g=h.data,g==="$"||g==="$!"||g==="$?"||g==="F!"||g==="F")break;if(g==="/$")return null}}return h}var E1=null;function D1(h){h=h.previousSibling;for(var g=0;h;){if(h.nodeType===8){var C=h.data;if(C==="$"||C==="$!"||C==="$?"){if(g===0)return h;g--}else C==="/$"&&g++}h=h.previousSibling}return null}function m_(h,g,C){switch(g=Xb(C),h){case"html":if(h=g.documentElement,!h)throw Error(o(452));return h;case"head":if(h=g.head,!h)throw Error(o(453));return h;case"body":if(h=g.body,!h)throw Error(o(454));return h;default:throw Error(o(451))}}function Yu(h){for(var g=h.attributes;g.length;)h.removeAttributeNode(g[0]);xs(h)}var oc=new Map,Zc=new Set;function i0(h){return typeof h.getRootNode=="function"?h.getRootNode():h.nodeType===9?h:h.ownerDocument}var Ku=de.d;de.d={f:g_,r:_g,D:_S,C:b_,L:k_,m:T1,X:v_,S:w_,M:y_};function g_(){var h=Ku.f(),g=vg();return h||g}function _g(h){var g=Di(h);g!==null&&g.tag===5&&g.type==="form"?Pu(g):Ku.r(h)}var rm=typeof document>"u"?null:document;function I1(h,g,C){var I=rm;if(I&&typeof g=="string"&&g){var L=ti(g);L='link[rel="'+h+'"][href="'+L+'"]',typeof C=="string"&&(L+='[crossorigin="'+C+'"]'),Zc.has(L)||(Zc.add(L),h={rel:h,crossOrigin:C,href:g},I.querySelector(L)===null&&(g=I.createElement("link"),ds(g,"link",h),zr(g),I.head.appendChild(g)))}}function _S(h){Ku.D(h),I1("dns-prefetch",h,null)}function b_(h,g){Ku.C(h,g),I1("preconnect",h,g)}function k_(h,g,C){Ku.L(h,g,C);var I=rm;if(I&&h&&g){var L='link[rel="preload"][as="'+ti(g)+'"]';g==="image"&&C&&C.imageSrcSet?(L+='[imagesrcset="'+ti(C.imageSrcSet)+'"]',typeof C.imageSizes=="string"&&(L+='[imagesizes="'+ti(C.imageSizes)+'"]')):L+='[href="'+ti(h)+'"]';var V=L;switch(g){case"style":V=im(h);break;case"script":V=om(h)}oc.has(V)||(h=v({rel:"preload",href:g==="image"&&C&&C.imageSrcSet?void 0:h,as:g},C),oc.set(V,h),I.querySelector(L)!==null||g==="style"&&I.querySelector(Cg(V))||g==="script"&&I.querySelector(xg(V))||(g=I.createElement("link"),ds(g,"link",h),zr(g),I.head.appendChild(g)))}}function T1(h,g){Ku.m(h,g);var C=rm;if(C&&h){var I=g&&typeof g.as=="string"?g.as:"script",L='link[rel="modulepreload"][as="'+ti(I)+'"][href="'+ti(h)+'"]',V=L;switch(I){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":V=om(h)}if(!oc.has(V)&&(h=v({rel:"modulepreload",href:h},g),oc.set(V,h),C.querySelector(L)===null)){switch(I){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(C.querySelector(xg(V)))return}I=C.createElement("link"),ds(I,"link",h),zr(I),C.head.appendChild(I)}}}function w_(h,g,C){Ku.S(h,g,C);var I=rm;if(I&&h){var L=co(I).hoistableStyles,V=im(h);g=g||"default";var he=L.get(V);if(!he){var Ee={loading:0,preload:null};if(he=I.querySelector(Cg(V)))Ee.loading=5;else{h=v({rel:"stylesheet",href:h,"data-precedence":g},C),(C=oc.get(V))&&Sg(h,C);var Ve=he=I.createElement("link");zr(Ve),ds(Ve,"link",h),Ve._p=new Promise(function(ct,Mt){Ve.onload=ct,Ve.onerror=Mt}),Ve.addEventListener("load",function(){Ee.loading|=1}),Ve.addEventListener("error",function(){Ee.loading|=2}),Ee.loading|=4,s0(he,g,I)}he={type:"stylesheet",instance:he,count:1,state:Ee},L.set(V,he)}}}function v_(h,g){Ku.X(h,g);var C=rm;if(C&&h){var I=co(C).hoistableScripts,L=om(h),V=I.get(L);V||(V=C.querySelector(xg(L)),V||(h=v({src:h,async:!0},g),(g=oc.get(L))&&M1(h,g),V=C.createElement("script"),zr(V),ds(V,"link",h),C.head.appendChild(V)),V={type:"script",instance:V,count:1,state:null},I.set(L,V))}}function y_(h,g){Ku.M(h,g);var C=rm;if(C&&h){var I=co(C).hoistableScripts,L=om(h),V=I.get(L);V||(V=C.querySelector(xg(L)),V||(h=v({src:h,async:!0,type:"module"},g),(g=oc.get(L))&&M1(h,g),V=C.createElement("script"),zr(V),ds(V,"link",h),C.head.appendChild(V)),V={type:"script",instance:V,count:1,state:null},I.set(L,V))}}function A_(h,g,C,I){var L=(L=ve.current)?i0(L):null;if(!L)throw Error(o(446));switch(h){case"meta":case"title":return null;case"style":return typeof C.precedence=="string"&&typeof C.href=="string"?(g=im(C.href),C=co(L).hoistableStyles,I=C.get(g),I||(I={type:"style",instance:null,count:0,state:null},C.set(g,I)),I):{type:"void",instance:null,count:0,state:null};case"link":if(C.rel==="stylesheet"&&typeof C.href=="string"&&typeof C.precedence=="string"){h=im(C.href);var V=co(L).hoistableStyles,he=V.get(h);if(he||(L=L.ownerDocument||L,he={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},V.set(h,he),(V=L.querySelector(Cg(h)))&&!V._p&&(he.instance=V,he.state.loading=5),oc.has(h)||(C={rel:"preload",as:"style",href:C.href,crossOrigin:C.crossOrigin,integrity:C.integrity,media:C.media,hrefLang:C.hrefLang,referrerPolicy:C.referrerPolicy},oc.set(h,C),V||CS(L,h,C,he.state))),g&&I===null)throw Error(o(528,""));return he}if(g&&I!==null)throw Error(o(529,""));return null;case"script":return g=C.async,C=C.src,typeof C=="string"&&g&&typeof g!="function"&&typeof g!="symbol"?(g=om(C),C=co(L).hoistableScripts,I=C.get(g),I||(I={type:"script",instance:null,count:0,state:null},C.set(g,I)),I):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,h))}}function im(h){return'href="'+ti(h)+'"'}function Cg(h){return'link[rel="stylesheet"]['+h+"]"}function __(h){return v({},h,{"data-precedence":h.precedence,precedence:null})}function CS(h,g,C,I){h.querySelector('link[rel="preload"][as="style"]['+g+"]")?I.loading=1:(g=h.createElement("link"),I.preload=g,g.addEventListener("load",function(){return I.loading|=1}),g.addEventListener("error",function(){return I.loading|=2}),ds(g,"link",C),zr(g),h.head.appendChild(g))}function om(h){return'[src="'+ti(h)+'"]'}function xg(h){return"script[async]"+h}function o0(h,g,C){if(g.count++,g.instance===null)switch(g.type){case"style":var I=h.querySelector('style[data-href~="'+ti(C.href)+'"]');if(I)return g.instance=I,zr(I),I;var L=v({},C,{"data-href":C.href,"data-precedence":C.precedence,href:null,precedence:null});return I=(h.ownerDocument||h).createElement("style"),zr(I),ds(I,"style",L),s0(I,C.precedence,h),g.instance=I;case"stylesheet":L=im(C.href);var V=h.querySelector(Cg(L));if(V)return g.state.loading|=4,g.instance=V,zr(V),V;I=__(C),(L=oc.get(L))&&Sg(I,L),V=(h.ownerDocument||h).createElement("link"),zr(V);var he=V;return he._p=new Promise(function(Ee,Ve){he.onload=Ee,he.onerror=Ve}),ds(V,"link",I),g.state.loading|=4,s0(V,C.precedence,h),g.instance=V;case"script":return V=om(C.src),(L=h.querySelector(xg(V)))?(g.instance=L,zr(L),L):(I=C,(L=oc.get(V))&&(I=v({},C),M1(I,L)),h=h.ownerDocument||h,L=h.createElement("script"),zr(L),ds(L,"link",I),h.head.appendChild(L),g.instance=L);case"void":return null;default:throw Error(o(443,g.type))}else g.type==="stylesheet"&&(g.state.loading&4)===0&&(I=g.instance,g.state.loading|=4,s0(I,C.precedence,h));return g.instance}function s0(h,g,C){for(var I=C.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),L=I.length?I[I.length-1]:null,V=L,he=0;he<I.length;he++){var Ee=I[he];if(Ee.dataset.precedence===g)V=Ee;else if(V!==L)break}V?V.parentNode.insertBefore(h,V.nextSibling):(g=C.nodeType===9?C.head:C,g.insertBefore(h,g.firstChild))}function Sg(h,g){h.crossOrigin==null&&(h.crossOrigin=g.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=g.referrerPolicy),h.title==null&&(h.title=g.title)}function M1(h,g){h.crossOrigin==null&&(h.crossOrigin=g.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=g.referrerPolicy),h.integrity==null&&(h.integrity=g.integrity)}var sc=null;function N1(h,g,C){if(sc===null){var I=new Map,L=sc=new Map;L.set(C,I)}else L=sc,I=L.get(C),I||(I=new Map,L.set(C,I));if(I.has(h))return I;for(I.set(h,null),C=C.getElementsByTagName(h),L=0;L<C.length;L++){var V=C[L];if(!(V[Cs]||V[Sr]||h==="link"&&V.getAttribute("rel")==="stylesheet")&&V.namespaceURI!=="http://www.w3.org/2000/svg"){var he=V.getAttribute(g)||"";he=h+he;var Ee=I.get(he);Ee?Ee.push(V):I.set(he,[V])}}return I}function Eg(h,g,C){h=h.ownerDocument||h,h.head.insertBefore(C,g==="title"?h.querySelector("head > title"):null)}function j1(h,g,C){if(C===1||g.itemProp!=null)return!1;switch(h){case"meta":case"title":return!0;case"style":if(typeof g.precedence!="string"||typeof g.href!="string"||g.href==="")break;return!0;case"link":if(typeof g.rel!="string"||typeof g.href!="string"||g.href===""||g.onLoad||g.onError)break;switch(g.rel){case"stylesheet":return h=g.disabled,typeof g.precedence=="string"&&h==null;default:return!0}case"script":if(g.async&&typeof g.async!="function"&&typeof g.async!="symbol"&&!g.onLoad&&!g.onError&&g.src&&typeof g.src=="string")return!0}return!1}function C_(h){return!(h.type==="stylesheet"&&(h.state.loading&3)===0)}var sm=null;function x_(){}function xS(h,g,C){if(sm===null)throw Error(o(475));var I=sm;if(g.type==="stylesheet"&&(typeof C.media!="string"||matchMedia(C.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var L=im(C.href),V=h.querySelector(Cg(L));if(V){h=V._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(I.count++,I=a0.bind(I),h.then(I,I)),g.state.loading|=4,g.instance=V,zr(V);return}V=h.ownerDocument||h,C=__(C),(L=oc.get(L))&&Sg(C,L),V=V.createElement("link"),zr(V);var he=V;he._p=new Promise(function(Ee,Ve){he.onload=Ee,he.onerror=Ve}),ds(V,"link",C),g.instance=V}I.stylesheets===null&&(I.stylesheets=new Map),I.stylesheets.set(g,h),(h=g.state.preload)&&(g.state.loading&3)===0&&(I.count++,g=a0.bind(I),h.addEventListener("load",g),h.addEventListener("error",g))}}function Dg(){if(sm===null)throw Error(o(475));var h=sm;return h.stylesheets&&h.count===0&&c0(h,h.stylesheets),0<h.count?function(g){var C=setTimeout(function(){if(h.stylesheets&&c0(h,h.stylesheets),h.unsuspend){var I=h.unsuspend;h.unsuspend=null,I()}},6e4);return h.unsuspend=g,function(){h.unsuspend=null,clearTimeout(C)}}:null}function a0(){if(this.count--,this.count===0){if(this.stylesheets)c0(this,this.stylesheets);else if(this.unsuspend){var h=this.unsuspend;this.unsuspend=null,h()}}}var l0=null;function c0(h,g){h.stylesheets=null,h.unsuspend!==null&&(h.count++,l0=new Map,g.forEach(SS,h),l0=null,a0.call(h))}function SS(h,g){if(!(g.state.loading&4)){var C=l0.get(h);if(C)var I=C.get(null);else{C=new Map,l0.set(h,C);for(var L=h.querySelectorAll("link[data-precedence],style[data-precedence]"),V=0;V<L.length;V++){var he=L[V];(he.nodeName==="LINK"||he.getAttribute("media")!=="not all")&&(C.set(he.dataset.precedence,he),I=he)}I&&C.set(null,I)}L=g.instance,he=L.getAttribute("data-precedence"),V=C.get(he)||I,V===I&&C.set(null,L),C.set(he,L),this.count++,I=a0.bind(this),L.addEventListener("load",I),L.addEventListener("error",I),V?V.parentNode.insertBefore(L,V.nextSibling):(h=h.nodeType===9?h.head:h,h.insertBefore(L,h.firstChild)),g.state.loading|=4}}var Ig={$$typeof:z,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function O1(h,g,C,I,L,V,he,Ee){this.tag=1,this.containerInfo=h,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vr(0),this.hiddenUpdates=vr(null),this.identifierPrefix=I,this.onUncaughtError=L,this.onCaughtError=V,this.onRecoverableError=he,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ee,this.incompleteTransitions=new Map}function B1(h,g,C,I,L,V,he,Ee,Ve,ct,Mt,Et){return h=new O1(h,g,C,he,Ee,Ve,ct,Et),g=1,V===!0&&(g|=24),V=fo(3,null,null,g),h.current=V,V.stateNode=h,g=Nf(),g.refCount++,h.pooledCache=g,g.refCount++,V.memoizedState={element:I,isDehydrated:C,cache:g},Ye(V),h}function S_(h){return h?(h=ho,h):ho}function E_(h,g,C,I,L,V){L=S_(L),I.context===null?I.context=L:I.pendingContext=L,I=Tt(g),I.payload={element:C},V=V===void 0?null:V,V!==null&&(I.callback=V),C=Rt(h,I,g),C!==null&&(Xs(C,h,g),Lt(C,h,g))}function u0(h,g){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var C=h.retryLane;h.retryLane=C!==0&&C<g?C:g}}function L1(h,g){u0(h,g),(h=h.alternate)&&u0(h,g)}function D_(h){if(h.tag===13){var g=Mn(h,67108864);g!==null&&Xs(g,h,67108864),L1(h,67108864)}}var d0=!0;function P1(h,g,C,I){var L=ue.T;ue.T=null;var V=de.p;try{de.p=2,Tg(h,g,C,I)}finally{de.p=V,ue.T=L}}function ES(h,g,C,I){var L=ue.T;ue.T=null;var V=de.p;try{de.p=8,Tg(h,g,C,I)}finally{de.p=V,ue.T=L}}function Tg(h,g,C,I){if(d0){var L=h0(I);if(L===null)Wo(h,g,I,cn,C),I_(h,I);else if(R1(L,h,g,C,I))I.stopPropagation();else if(I_(h,I),g&4&&-1<Mg.indexOf(h)){for(;L!==null;){var V=Di(L);if(V!==null)switch(V.tag){case 3:if(V=V.stateNode,V.current.memoizedState.isDehydrated){var he=xn(V.pendingLanes);if(he!==0){var Ee=V;for(Ee.pendingLanes|=2,Ee.entangledLanes|=2;he;){var Ve=1<<31-kt(he);Ee.entanglements[1]|=Ve,he&=~Ve}$u(V),(ii&6)===0&&(aa=De()+500,yg(0))}}break;case 13:Ee=Mn(V,2),Ee!==null&&Xs(Ee,V,2),vg(),L1(V,2)}if(V=h0(I),V===null&&Wo(h,g,I,cn,C),V===L)break;L=V}L!==null&&I.stopPropagation()}else Wo(h,g,I,null,C)}}function h0(h){return h=Qi(h),am(h)}var cn=null;function am(h){if(cn=null,h=wo(h),h!==null){var g=c(h);if(g===null)h=null;else{var C=g.tag;if(C===13){if(h=d(g),h!==null)return h;h=null}else if(C===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;h=null}else g!==h&&(h=null)}}return cn=h,null}function lm(h){switch(h){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ae()){case Oe:return 2;case Ke:return 8;case Xe:case Fe:return 32;case dt:return 268435456;default:return 32}default:return 32}}var Ja=!1,$d=null,Jc=null,ac=null,lr=new Map,cm=new Map,Xc=[],Mg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I_(h,g){switch(h){case"focusin":case"focusout":$d=null;break;case"dragenter":case"dragleave":Jc=null;break;case"mouseover":case"mouseout":ac=null;break;case"pointerover":case"pointerout":lr.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":cm.delete(g.pointerId)}}function Sa(h,g,C,I,L,V){return h===null||h.nativeEvent!==V?(h={blockedOn:g,domEventName:C,eventSystemFlags:I,nativeEvent:V,targetContainers:[L]},g!==null&&(g=Di(g),g!==null&&D_(g)),h):(h.eventSystemFlags|=I,g=h.targetContainers,L!==null&&g.indexOf(L)===-1&&g.push(L),h)}function R1(h,g,C,I,L){switch(g){case"focusin":return $d=Sa($d,h,g,C,I,L),!0;case"dragenter":return Jc=Sa(Jc,h,g,C,I,L),!0;case"mouseover":return ac=Sa(ac,h,g,C,I,L),!0;case"pointerover":var V=L.pointerId;return lr.set(V,Sa(lr.get(V)||null,h,g,C,I,L)),!0;case"gotpointercapture":return V=L.pointerId,cm.set(V,Sa(cm.get(V)||null,h,g,C,I,L)),!0}return!1}function um(h){var g=wo(h.target);if(g!==null){var C=c(g);if(C!==null){if(g=C.tag,g===13){if(g=d(C),g!==null){h.blockedOn=g,ss(h.priority,function(){if(C.tag===13){var I=no();I=is(I);var L=Mn(C,I);L!==null&&Xs(L,C,I),L1(C,I)}});return}}else if(g===3&&C.stateNode.current.memoizedState.isDehydrated){h.blockedOn=C.tag===3?C.stateNode.containerInfo:null;return}}}h.blockedOn=null}function f0(h){if(h.blockedOn!==null)return!1;for(var g=h.targetContainers;0<g.length;){var C=h0(h.nativeEvent);if(C===null){C=h.nativeEvent;var I=new C.constructor(C.type,C);mh=I,C.target.dispatchEvent(I),mh=null}else return g=Di(C),g!==null&&D_(g),h.blockedOn=C,!1;g.shift()}return!0}function Ng(h,g,C){f0(h)&&C.delete(g)}function jg(){Ja=!1,$d!==null&&f0($d)&&($d=null),Jc!==null&&f0(Jc)&&(Jc=null),ac!==null&&f0(ac)&&(ac=null),lr.forEach(Ng),cm.forEach(Ng)}function p0(h,g){h.blockedOn===g&&(h.blockedOn=null,Ja||(Ja=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,jg)))}var m0=null;function Og(h){m0!==h&&(m0=h,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){m0===h&&(m0=null);for(var g=0;g<h.length;g+=3){var C=h[g],I=h[g+1],L=h[g+2];if(typeof I!="function"){if(am(I||C)===null)continue;break}var V=Di(C);V!==null&&(h.splice(g,3),g-=3,$a(V,{pending:!0,data:L,method:C.method,action:I},I,L))}}))}function Wd(h){function g(Ve){return p0(Ve,h)}$d!==null&&p0($d,h),Jc!==null&&p0(Jc,h),ac!==null&&p0(ac,h),lr.forEach(g),cm.forEach(g);for(var C=0;C<Xc.length;C++){var I=Xc[C];I.blockedOn===h&&(I.blockedOn=null)}for(;0<Xc.length&&(C=Xc[0],C.blockedOn===null);)um(C),C.blockedOn===null&&Xc.shift();if(C=(h.ownerDocument||h).$$reactFormReplay,C!=null)for(I=0;I<C.length;I+=3){var L=C[I],V=C[I+1],he=L[or]||null;if(typeof V=="function")he||Og(C);else if(he){var Ee=null;if(V&&V.hasAttribute("formAction")){if(L=V,he=V[or]||null)Ee=he.formAction;else if(am(L)!==null)continue}else Ee=he.action;typeof Ee=="function"?C[I+1]=Ee:(C.splice(I,3),I-=3),Og(C)}}}function dm(h){this._internalRoot=h}Bg.prototype.render=dm.prototype.render=function(h){var g=this._internalRoot;if(g===null)throw Error(o(409));var C=g.current,I=no();E_(C,I,h,g,null,null)},Bg.prototype.unmount=dm.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var g=h.containerInfo;E_(h.current,2,null,h,null,null),vg(),g[vi]=null}};function Bg(h){this._internalRoot=h}Bg.prototype.unstable_scheduleHydration=function(h){if(h){var g=os();h={blockedOn:null,target:h,priority:g};for(var C=0;C<Xc.length&&g!==0&&g<Xc[C].priority;C++);Xc.splice(C,0,h),C===0&&um(h)}};var T_=i.version;if(T_!=="19.1.1")throw Error(o(527,T_,"19.1.1"));de.findDOMNode=function(h){var g=h._reactInternals;if(g===void 0)throw typeof h.render=="function"?Error(o(188)):(h=Object.keys(h).join(","),Error(o(268,h)));return h=m(g),h=h!==null?k(h):null,h=h===null?null:h.stateNode,h};var DS={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:ue,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var g0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!g0.isDisabled&&g0.supportsFiber)try{pt=g0.inject(DS),He=g0}catch{}}return Sv.createRoot=function(h,g){if(!a(h))throw Error(o(299));var C=!1,I="",L=hg,V=IA,he=TA,Ee=null;return g!=null&&(g.unstable_strictMode===!0&&(C=!0),g.identifierPrefix!==void 0&&(I=g.identifierPrefix),g.onUncaughtError!==void 0&&(L=g.onUncaughtError),g.onCaughtError!==void 0&&(V=g.onCaughtError),g.onRecoverableError!==void 0&&(he=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(Ee=g.unstable_transitionCallbacks)),g=B1(h,1,!1,null,null,C,I,L,V,he,Ee,null),h[vi]=g.current,Zb(h),new dm(g)},Sv.hydrateRoot=function(h,g,C){if(!a(h))throw Error(o(299));var I=!1,L="",V=hg,he=IA,Ee=TA,Ve=null,ct=null;return C!=null&&(C.unstable_strictMode===!0&&(I=!0),C.identifierPrefix!==void 0&&(L=C.identifierPrefix),C.onUncaughtError!==void 0&&(V=C.onUncaughtError),C.onCaughtError!==void 0&&(he=C.onCaughtError),C.onRecoverableError!==void 0&&(Ee=C.onRecoverableError),C.unstable_transitionCallbacks!==void 0&&(Ve=C.unstable_transitionCallbacks),C.formState!==void 0&&(ct=C.formState)),g=B1(h,1,!0,g,C??null,I,L,V,he,Ee,Ve,ct),g.context=S_(null),C=g.current,I=no(),I=is(I),L=Tt(I),L.callback=null,Rt(C,L,I),C=I,g.current.lanes=C,gr(g,C),$u(g),h[vi]=g.current,Zb(h),new Bg(g)},Sv.version="19.1.1",Sv}var DN;function a3(){if(DN)return _E.exports;DN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(i){console.error(i)}}return t(),_E.exports=s3(),_E.exports}var l3=a3();const c3=Ei(l3);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jy(){return jy=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},jy.apply(this,arguments)}var Qg;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qg||(Qg={}));const IN="popstate";function u3(t){t===void 0&&(t={});function i(o,a){let{pathname:c,search:d,hash:p}=o.location;return LD("",{pathname:c,search:d,hash:p},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(o,a){return typeof a=="string"?a:tP(a)}return h3(i,n,null,t)}function hl(t,i){if(t===!1||t===null||typeof t>"u")throw new Error(i)}function eP(t,i){if(!t){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function d3(){return Math.random().toString(36).substr(2,8)}function TN(t,i){return{usr:t.state,key:t.key,idx:i}}function LD(t,i,n,o){return n===void 0&&(n=null),jy({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof i=="string"?nA(i):i,{state:n,key:i&&i.key||o||d3()})}function tP(t){let{pathname:i="/",search:n="",hash:o=""}=t;return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),o&&o!=="#"&&(i+=o.charAt(0)==="#"?o:"#"+o),i}function nA(t){let i={};if(t){let n=t.indexOf("#");n>=0&&(i.hash=t.substr(n),t=t.substr(0,n));let o=t.indexOf("?");o>=0&&(i.search=t.substr(o),t=t.substr(0,o)),t&&(i.pathname=t)}return i}function h3(t,i,n,o){o===void 0&&(o={});let{window:a=document.defaultView,v5Compat:c=!1}=o,d=a.history,p=Qg.Pop,m=null,k=v();k==null&&(k=0,d.replaceState(jy({},d.state,{idx:k}),""));function v(){return(d.state||{idx:null}).idx}function _(){p=Qg.Pop;let j=v(),M=j==null?null:j-k;k=j,m&&m({action:p,location:E.location,delta:M})}function x(j,M){p=Qg.Push;let B=LD(E.location,j,M);k=v()+1;let z=TN(B,k),G=E.createHref(B);try{d.pushState(z,"",G)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;a.location.assign(G)}c&&m&&m({action:p,location:E.location,delta:1})}function y(j,M){p=Qg.Replace;let B=LD(E.location,j,M);k=v();let z=TN(B,k),G=E.createHref(B);d.replaceState(z,"",G),c&&m&&m({action:p,location:E.location,delta:0})}function D(j){let M=a.location.origin!=="null"?a.location.origin:a.location.href,B=typeof j=="string"?j:tP(j);return B=B.replace(/ $/,"%20"),hl(M,"No window.location.(origin|href) available to create URL for href: "+B),new URL(B,M)}let E={get action(){return p},get location(){return t(a,d)},listen(j){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(IN,_),m=j,()=>{a.removeEventListener(IN,_),m=null}},createHref(j){return i(a,j)},createURL:D,encodeLocation(j){let M=D(j);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:x,replace:y,go(j){return d.go(j)}};return E}var MN;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(MN||(MN={}));function f3(t,i,n){return n===void 0&&(n="/"),p3(t,i,n)}function p3(t,i,n,o){let a=typeof i=="string"?nA(i):i,c=iP(a.pathname||"/",n);if(c==null)return null;let d=nP(t);m3(d);let p=null;for(let m=0;p==null&&m<d.length;++m){let k=E3(c);p=C3(d[m],k)}return p}function nP(t,i,n,o){i===void 0&&(i=[]),n===void 0&&(n=[]),o===void 0&&(o="");let a=(c,d,p)=>{let m={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};m.relativePath.startsWith("/")&&(hl(m.relativePath.startsWith(o),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(o.length));let k=tb([o,m.relativePath]),v=n.concat(m);c.children&&c.children.length>0&&(hl(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+k+'".')),nP(c.children,i,v,k)),!(c.path==null&&!c.index)&&i.push({path:k,score:A3(k,c.index),routesMeta:v})};return t.forEach((c,d)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))a(c,d);else for(let m of rP(c.path))a(c,d,m)}),i}function rP(t){let i=t.split("/");if(i.length===0)return[];let[n,...o]=i,a=n.endsWith("?"),c=n.replace(/\?$/,"");if(o.length===0)return a?[c,""]:[c];let d=rP(o.join("/")),p=[];return p.push(...d.map(m=>m===""?c:[c,m].join("/"))),a&&p.push(...d),p.map(m=>t.startsWith("/")&&m===""?"/":m)}function m3(t){t.sort((i,n)=>i.score!==n.score?n.score-i.score:_3(i.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}const g3=/^:[\w-]+$/,b3=3,k3=2,w3=1,v3=10,y3=-2,NN=t=>t==="*";function A3(t,i){let n=t.split("/"),o=n.length;return n.some(NN)&&(o+=y3),i&&(o+=k3),n.filter(a=>!NN(a)).reduce((a,c)=>a+(g3.test(c)?b3:c===""?w3:v3),o)}function _3(t,i){return t.length===i.length&&t.slice(0,-1).every((o,a)=>o===i[a])?t[t.length-1]-i[i.length-1]:0}function C3(t,i,n){let{routesMeta:o}=t,a={},c="/",d=[];for(let p=0;p<o.length;++p){let m=o[p],k=p===o.length-1,v=c==="/"?i:i.slice(c.length)||"/",_=x3({path:m.relativePath,caseSensitive:m.caseSensitive,end:k},v),x=m.route;if(!_)return null;Object.assign(a,_.params),d.push({params:a,pathname:tb([c,_.pathname]),pathnameBase:M3(tb([c,_.pathnameBase])),route:x}),_.pathnameBase!=="/"&&(c=tb([c,_.pathnameBase]))}return d}function x3(t,i){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,o]=S3(t.path,t.caseSensitive,t.end),a=i.match(n);if(!a)return null;let c=a[0],d=c.replace(/(.)\/+$/,"$1"),p=a.slice(1);return{params:o.reduce((k,v,_)=>{let{paramName:x,isOptional:y}=v;if(x==="*"){let E=p[_]||"";d=c.slice(0,c.length-E.length).replace(/(.)\/+$/,"$1")}const D=p[_];return y&&!D?k[x]=void 0:k[x]=(D||"").replace(/%2F/g,"/"),k},{}),pathname:c,pathnameBase:d,pattern:t}}function S3(t,i,n){i===void 0&&(i=!1),n===void 0&&(n=!0),eP(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let o=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,m)=>(o.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(o.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,i?void 0:"i"),o]}function E3(t){try{return t.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return eP(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+i+").")),t}}function iP(t,i){if(i==="/")return t;if(!t.toLowerCase().startsWith(i.toLowerCase()))return null;let n=i.endsWith("/")?i.length-1:i.length,o=t.charAt(n);return o&&o!=="/"?null:t.slice(n)||"/"}function D3(t,i){i===void 0&&(i="/");let{pathname:n,search:o="",hash:a=""}=typeof t=="string"?nA(t):t;return{pathname:n?n.startsWith("/")?n:I3(n,i):i,search:N3(o),hash:j3(a)}}function I3(t,i){let n=i.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function SE(t,i,n,o){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+i+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function T3(t){return t.filter((i,n)=>n===0||i.route.path&&i.route.path.length>0)}function oP(t,i){let n=T3(t);return i?n.map((o,a)=>a===n.length-1?o.pathname:o.pathnameBase):n.map(o=>o.pathnameBase)}function sP(t,i,n,o){o===void 0&&(o=!1);let a;typeof t=="string"?a=nA(t):(a=jy({},t),hl(!a.pathname||!a.pathname.includes("?"),SE("?","pathname","search",a)),hl(!a.pathname||!a.pathname.includes("#"),SE("#","pathname","hash",a)),hl(!a.search||!a.search.includes("#"),SE("#","search","hash",a)));let c=t===""||a.pathname==="",d=c?"/":a.pathname,p;if(d==null)p=n;else{let _=i.length-1;if(!o&&d.startsWith("..")){let x=d.split("/");for(;x[0]==="..";)x.shift(),_-=1;a.pathname=x.join("/")}p=_>=0?i[_]:"/"}let m=D3(a,p),k=d&&d!=="/"&&d.endsWith("/"),v=(c||d===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(k||v)&&(m.pathname+="/"),m}const tb=t=>t.join("/").replace(/\/\/+/g,"/"),M3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),N3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,j3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function O3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const aP=["post","put","patch","delete"];new Set(aP);const B3=["get",...aP];new Set(B3);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Px(){return Px=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Px.apply(this,arguments)}const G6=se.createContext(null),L3=se.createContext(null),rA=se.createContext(null),Y6=se.createContext(null),$m=se.createContext({outlet:null,matches:[],isDataRoute:!1}),lP=se.createContext(null);function iA(){return se.useContext(Y6)!=null}function g5(){return iA()||hl(!1),se.useContext(Y6).location}function cP(t){se.useContext(rA).static||se.useLayoutEffect(t)}function ao(){let{isDataRoute:t}=se.useContext($m);return t?K3():P3()}function P3(){iA()||hl(!1);let t=se.useContext(G6),{basename:i,future:n,navigator:o}=se.useContext(rA),{matches:a}=se.useContext($m),{pathname:c}=g5(),d=JSON.stringify(oP(a,n.v7_relativeSplatPath)),p=se.useRef(!1);return cP(()=>{p.current=!0}),se.useCallback(function(k,v){if(v===void 0&&(v={}),!p.current)return;if(typeof k=="number"){o.go(k);return}let _=sP(k,JSON.parse(d),c,v.relative==="path");t==null&&i!=="/"&&(_.pathname=_.pathname==="/"?i:tb([i,_.pathname])),(v.replace?o.replace:o.push)(_,v.state,v)},[i,o,d,c,t])}function K6(){let{matches:t}=se.useContext($m),i=t[t.length-1];return i?i.params:{}}function R3(t,i){return z3(t)}function z3(t,i,n,o){iA()||hl(!1);let{navigator:a}=se.useContext(rA),{matches:c}=se.useContext($m),d=c[c.length-1],p=d?d.params:{};d&&d.pathname;let m=d?d.pathnameBase:"/";d&&d.route;let k=g5(),v;v=k;let _=v.pathname||"/",x=_;if(m!=="/"){let E=m.replace(/^\//,"").split("/");x="/"+_.replace(/^\//,"").split("/").slice(E.length).join("/")}let y=f3(t,{pathname:x});return H3(y&&y.map(E=>Object.assign({},E,{params:Object.assign({},p,E.params),pathname:tb([m,a.encodeLocation?a.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?m:tb([m,a.encodeLocation?a.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),c,n,o)}function F3(){let t=Y3(),i=O3(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return se.createElement(se.Fragment,null,se.createElement("h2",null,"Unexpected Application Error!"),se.createElement("h3",{style:{fontStyle:"italic"}},i),n?se.createElement("pre",{style:a},n):null,null)}const U3=se.createElement(F3,null);class q3 extends se.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,n){return n.location!==i.location||n.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:n.error,location:n.location,revalidation:i.revalidation||n.revalidation}}componentDidCatch(i,n){console.error("React Router caught the following error during render",i,n)}render(){return this.state.error!==void 0?se.createElement($m.Provider,{value:this.props.routeContext},se.createElement(lP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function V3(t){let{routeContext:i,match:n,children:o}=t,a=se.useContext(G6);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),se.createElement($m.Provider,{value:i},o)}function H3(t,i,n,o){var a;if(i===void 0&&(i=[]),n===void 0&&(n=null),o===void 0&&(o=null),t==null){var c;if(!n)return null;if(n.errors)t=n.matches;else if((c=o)!=null&&c.v7_partialHydration&&i.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let d=t,p=(a=n)==null?void 0:a.errors;if(p!=null){let v=d.findIndex(_=>_.route.id&&(p==null?void 0:p[_.route.id])!==void 0);v>=0||hl(!1),d=d.slice(0,Math.min(d.length,v+1))}let m=!1,k=-1;if(n&&o&&o.v7_partialHydration)for(let v=0;v<d.length;v++){let _=d[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(k=v),_.route.id){let{loaderData:x,errors:y}=n,D=_.route.loader&&x[_.route.id]===void 0&&(!y||y[_.route.id]===void 0);if(_.route.lazy||D){m=!0,k>=0?d=d.slice(0,k+1):d=[d[0]];break}}}return d.reduceRight((v,_,x)=>{let y,D=!1,E=null,j=null;n&&(y=p&&_.route.id?p[_.route.id]:void 0,E=_.route.errorElement||U3,m&&(k<0&&x===0?(Q3("route-fallback"),D=!0,j=null):k===x&&(D=!0,j=_.route.hydrateFallbackElement||null)));let M=i.concat(d.slice(0,x+1)),B=()=>{let z;return y?z=E:D?z=j:_.route.Component?z=se.createElement(_.route.Component,null):_.route.element?z=_.route.element:z=v,se.createElement(V3,{match:_,routeContext:{outlet:v,matches:M,isDataRoute:n!=null},children:z})};return n&&(_.route.ErrorBoundary||_.route.errorElement||x===0)?se.createElement(q3,{location:n.location,revalidation:n.revalidation,component:E,error:y,children:B(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):B()},null)}var uP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(uP||{}),dP=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(dP||{});function $3(t){let i=se.useContext(G6);return i||hl(!1),i}function W3(t){let i=se.useContext(L3);return i||hl(!1),i}function G3(t){let i=se.useContext($m);return i||hl(!1),i}function hP(t){let i=G3(),n=i.matches[i.matches.length-1];return n.route.id||hl(!1),n.route.id}function Y3(){var t;let i=se.useContext(lP),n=W3(),o=hP();return i!==void 0?i:(t=n.errors)==null?void 0:t[o]}function K3(){let{router:t}=$3(uP.UseNavigateStable),i=hP(dP.UseNavigateStable),n=se.useRef(!1);return cP(()=>{n.current=!0}),se.useCallback(function(a,c){c===void 0&&(c={}),n.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,Px({fromRouteId:i},c)))},[t,i])}const jN={};function Q3(t,i,n){jN[t]||(jN[t]=!0)}function Z3(t,i){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function fP(t){let{to:i,replace:n,state:o,relative:a}=t;iA()||hl(!1);let{future:c,static:d}=se.useContext(rA),{matches:p}=se.useContext($m),{pathname:m}=g5(),k=ao(),v=sP(i,oP(p,c.v7_relativeSplatPath),m,a==="path"),_=JSON.stringify(v);return se.useEffect(()=>k(JSON.parse(_),{replace:n,state:o,relative:a}),[k,_,a,n,o]),null}function J3(t){let{basename:i="/",children:n=null,location:o,navigationType:a=Qg.Pop,navigator:c,static:d=!1,future:p}=t;iA()&&hl(!1);let m=i.replace(/^\/*/,"/"),k=se.useMemo(()=>({basename:m,navigator:c,static:d,future:Px({v7_relativeSplatPath:!1},p)}),[m,p,c,d]);typeof o=="string"&&(o=nA(o));let{pathname:v="/",search:_="",hash:x="",state:y=null,key:D="default"}=o,E=se.useMemo(()=>{let j=iP(v,m);return j==null?null:{location:{pathname:j,search:_,hash:x,state:y,key:D},navigationType:a}},[m,v,_,x,y,D,a]);return E==null?null:se.createElement(rA.Provider,{value:k},se.createElement(Y6.Provider,{children:n,value:E}))}new Promise(()=>{});/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function PD(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((i,n)=>{let o=t[n];return i.concat(Array.isArray(o)?o.map(a=>[n,a]):[[n,o]])},[]))}function X3(t,i){let n=PD(t);return i&&i.forEach((o,a)=>{n.has(a)||i.getAll(a).forEach(c=>{n.append(a,c)})}),n}const eW="6";try{window.__reactRouterVersion=eW}catch{}const tW="startTransition",ON=q6[tW];function nW(t){let{basename:i,children:n,future:o,window:a}=t,c=se.useRef();c.current==null&&(c.current=u3({window:a,v5Compat:!0}));let d=c.current,[p,m]=se.useState({action:d.action,location:d.location}),{v7_startTransition:k}=o||{},v=se.useCallback(_=>{k&&ON?ON(()=>m(_)):m(_)},[m,k]);return se.useLayoutEffect(()=>d.listen(v),[d,v]),se.useEffect(()=>Z3(o),[o]),se.createElement(J3,{basename:i,children:n,location:p.location,navigationType:p.action,navigator:d,future:o})}var BN;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(BN||(BN={}));var LN;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(LN||(LN={}));function oA(t){let i=se.useRef(PD(t)),n=se.useRef(!1),o=g5(),a=se.useMemo(()=>X3(o.search,n.current?null:i.current),[o.search]),c=ao(),d=se.useCallback((p,m)=>{const k=PD(typeof p=="function"?p(a):p);n.current=!0,c("?"+k,m)},[c,a]);return[a,d]}const rW="modulepreload",iW=function(t){return"/nexlab/"+t},PN={},No=function(i,n,o){let a=Promise.resolve();if(n&&n.length>0){let d=function(k){return Promise.all(k.map(v=>Promise.resolve(v).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),m=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));a=d(n.map(k=>{if(k=iW(k),k in PN)return;PN[k]=!0;const v=k.endsWith(".css"),_=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${k}"]${_}`))return;const x=document.createElement("link");if(x.rel=v?"stylesheet":rW,v||(x.as="script"),x.crossOrigin="",x.href=k,m&&x.setAttribute("nonce",m),document.head.appendChild(x),v)return new Promise((y,D)=>{x.addEventListener("load",y),x.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${k}`)))})}))}function c(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return a.then(d=>{for(const p of d||[])p.status==="rejected"&&c(p.reason);return i().catch(c)})};var ru=(t=>(t.NETWORK="NETWORK",t.AUTHENTICATION="AUTHENTICATION",t.AUTHORIZATION="AUTHORIZATION",t.VALIDATION="VALIDATION",t.NOT_FOUND="NOT_FOUND",t.SERVER_ERROR="SERVER_ERROR",t.UNKNOWN="UNKNOWN",t))(ru||{});const RN={"auth/user-not-found":{type:"AUTHENTICATION",message:"No user found with this email address."},"auth/wrong-password":{type:"AUTHENTICATION",message:"Incorrect password. Please try again."},"auth/user-disabled":{type:"AUTHORIZATION",message:"This account has been disabled. Please contact support."},"auth/too-many-requests":{type:"NETWORK",message:"Too many failed attempts. Please try again later."},"auth/network-request-failed":{type:"NETWORK",message:"Network error. Please check your connection and try again."},"permission-denied":{type:"AUTHORIZATION",message:"You do not have permission for this action."},"not-found":{type:"NOT_FOUND",message:"The requested resource was not found."},unavailable:{type:"NETWORK",message:"Service is temporarily unavailable. Please try again."}},Kg=class Kg{constructor(){Jt(this,"errorQueue",[]);Jt(this,"maxErrorQueueSize",50)}static getInstance(){return Kg.instance||(Kg.instance=new Kg),Kg.instance}handleError(i,n){const o=this.createAppError(i,n);return this.logError(o),this.queueError(o),o}createAppError(i,n){let o="UNKNOWN",a="An unexpected error occurred.";if(i!=null&&i.code&&RN[i.code]){const c=RN[i.code];o=c.type,a=c.message}else i!=null&&i.message&&(a=i.message,i.message.includes("network")||i.message.includes("fetch")?o="NETWORK":i.message.includes("unauthorized")||i.message.includes("permission")?o="AUTHORIZATION":i.message.includes("not found")?o="NOT_FOUND":i.message.includes("validation")&&(o="VALIDATION"));return{type:o,message:a,originalError:i instanceof Error?i:new Error(String(i)),context:{...n,userAgent:navigator.userAgent,url:window.location.href,timestamp:new Date().toISOString()},timestamp:new Date,userId:n==null?void 0:n.userId}}logError(i){const n=`[${i.type}] ${i.message}`,o={error:i.originalError,context:i.context,timestamp:i.timestamp};switch(i.type){case"NETWORK":case"NOT_FOUND":console.warn(n,o);break;case"AUTHENTICATION":case"AUTHORIZATION":case"VALIDATION":console.error(n,o);break;case"SERVER_ERROR":case"UNKNOWN":console.error(n,o);break}}queueError(i){this.errorQueue.push(i),this.errorQueue.length>this.maxErrorQueueSize&&this.errorQueue.shift()}getErrorQueue(){return[...this.errorQueue]}clearErrorQueue(){this.errorQueue=[]}getUserFriendlyMessage(i){return i.message}shouldRetry(i){return i.type==="NETWORK"}};Jt(Kg,"instance");let Oy=Kg;const zN=async(t,i)=>{try{return{data:await t()}}catch(n){return{error:Oy.getInstance().handleError(n,i)}}},oW=()=>{const t=Oy.getInstance();return{handleError:(a,c)=>t.handleError(a,c),getUserFriendlyMessage:a=>t.getUserFriendlyMessage(a),shouldRetry:a=>t.shouldRetry(a)}};Oy.getInstance();class sW{constructor(){Jt(this,"auth",null);Jt(this,"googleProvider",null)}initialize(){this.auth||(No(()=>Promise.resolve().then(()=>jm),void 0),this.auth=G$(),this.googleProvider=new Y$)}async signInWithGoogle(i=!0){this.initialize();const n=await zN(async()=>{const o=i?Q$:Z$;await J$(this.auth,o);const a=await X$(this.auth,this.googleProvider);if(!a.user)throw new Error("No user returned from authentication");return a.user},{operation:"google_sign_in",keepSignedIn:i});if(n.error)throw n.error;return n.data}async signOut(){this.initialize();const i=await zN(async()=>{await e3(this.auth)},{operation:"sign_out"});if(i.error)throw i.error}onAuthStateChanged(i){return this.initialize(),K$(this.auth,i)}getCurrentUser(){return this.initialize(),this.auth.currentUser}getErrorMessage(i){return{"auth/network-request-failed":"Login Failed: Network error, please check your connection.","auth/popup-closed-by-user":"Login Failed: The sign-in popup was closed before completion.","auth/cancelled-popup-request":"Login Failed: Another sign-in request was made before the first one was completed.","auth/popup-blocked":"Login Failed: The sign-in popup was blocked by the browser. Please allow popups for this site.","auth/user-disabled":"Login Failed: This account has been disabled.","auth/user-not-found":"Login Failed: No account found with this email.","auth/wrong-password":"Login Failed: Incorrect password.","auth/too-many-requests":"Login Failed: Too many failed attempts. Please try again later."}[i]||"Login Failed: An unexpected error occurred."}}const pP=new sW;class aW{constructor(){Jt(this,"db",null);Jt(this,"publicCourseId");if(this.publicCourseId="rqoyheM9Lf8jGftIoZyT",!this.publicCourseId)throw new Error("Public course ID is not defined in environment variables.")}initialize(){this.db||(No(()=>Promise.resolve().then(()=>jm),void 0),this.db=Nr())}async getUserDetails(i){this.initialize();try{const n=Vn(this.db,"users",i),o=await Na(n);return o.exists()?{...o.data(),uid:i}:null}catch(n){throw console.error("Error fetching user details:",n),new Error("Failed to fetch user details")}}async createUserDocument(i){this.initialize();try{const n=await this.getPublicCourseInfo(),o=Vn(this.db,"users",i.uid),a={isAdmin:!1,isSuperAdmin:!1,lastLogin:Zh(),classes:{[this.publicCourseId]:n}};return await ZL(o,a),{uid:i.uid,isAdmin:!1,isSuperAdmin:!1,lastLogin:Zh(),classes:{[this.publicCourseId]:n}}}catch(n){throw console.error("Error creating user document:",n),new Error("Failed to create user document")}}async updateUserLogin(i){this.initialize();try{const n=Vn(this.db,"users",i);await gi(n,{lastLogin:Zh()})}catch(n){throw console.error("Error updating user login:",n),new Error("Failed to update user login")}}async refreshUserDetails(i){return this.getUserDetails(i)}subscribeToUserDetails(i,n){this.initialize();const o=Vn(this.db,"users",i);return JL(o,a=>{if(a.exists()){const c=a.data();n({...c,uid:i})}else n(null)},a=>{console.error("Error in user details subscription:",a),n(null)})}async ensurePublicCourseAccess(i,n){this.initialize();try{if(n.classes&&n.classes[this.publicCourseId])return n;const o=await this.getPublicCourseInfo(),a=Vn(this.db,"users",i);return await gi(a,{[`classes.${this.publicCourseId}`]:o}),{...n,classes:{...n.classes||{},[this.publicCourseId]:o}}}catch(o){throw console.error("Error ensuring public course access:",o),new Error("Failed to ensure public course access")}}async getPublicCourseInfo(){this.initialize();try{const i=Vn(this.db,"courses",this.publicCourseId),n=await Na(i);if(!n.exists())throw new Error("Public course document does not exist in the courses collection!");const o=n.data();if(!o||!o.number||!o.title)throw new Error("Public course data is incomplete or invalid.");return{number:o.number,title:o.title,isCourseAdmin:!1}}catch(i){throw console.error("Error fetching public course info:",i),new Error("Failed to fetch public course information")}}}const M0=new aW,lW={apiKey:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",authDomain:"nexlab-prod.firebaseapp.com",projectId:"nexlab-prod",storageBucket:"nexlab-prod.firebasestorage.app",messagingSenderId:"922352392986",appId:"1:922352392986:web:6c4d6e16b5e615bd4daaa3"},Q6=t3(lW),mP=Nr(Q6),cW=Hm(Q6),jm=Object.freeze(Object.defineProperty({__proto__:null,app:Q6,db:mP,storage:cW},Symbol.toStringTag,{value:"Module"})),gP=se.createContext(void 0),uW=({children:t})=>{const[i,n]=se.useState(null),[o,a]=se.useState(null),[c,d]=se.useState(!1),[p,m]=se.useState(!0),[k,v]=se.useState(null),_=se.useRef(null);se.useEffect(()=>{const y=pP.onAuthStateChanged(async D=>{m(!0),v(null),_.current&&(_.current(),_.current=null);try{if(D){console.log("User is signed in with UID:",D.uid);let E=await M0.getUserDetails(D.uid);E?(await M0.updateUserLogin(D.uid),E=await M0.ensurePublicCourseAccess(D.uid,E)):(console.log("User document does not exist. Creating a new one..."),E=await M0.createUserDocument(D)),a(E),d(E.isSuperAdmin||!1);const j=M0.subscribeToUserDetails(D.uid,M=>{console.log("[UserContext] User details updated in real-time:",{uid:M==null?void 0:M.uid,classesCount:M!=null&&M.classes?Object.keys(M.classes).length:0,classes:M!=null&&M.classes?Object.keys(M.classes):[],timestamp:new Date().toISOString()}),M&&(a(M),d(M.isSuperAdmin||!1))});_.current=j}else a(null),d(!1);n(D)}catch(E){console.error("Error managing user authentication:",E),v(E instanceof Error?E:new Error("Failed to manage user authentication")),n(null),a(null),d(!1)}finally{m(!1)}});return()=>{y(),_.current&&(_.current(),_.current=null)}},[]);const x=async()=>{if(!i){console.warn("No user signed in, cannot refresh user details");return}try{const y=await M0.refreshUserDetails(i.uid);y?(a(y),d(y.isSuperAdmin||!1)):(console.error("User document does not exist. Unable to refresh user details."),v(new Error("User document not found")))}catch(y){console.error("Error refreshing user details:",y),v(y instanceof Error?y:new Error("Failed to refresh user details"))}};return w.jsx(gP.Provider,{value:{user:i,userDetails:o,setUserDetails:a,refreshUserDetails:x,loading:p,error:k,isSuperAdmin:c},children:t})},ko=()=>{const t=se.useContext(gP);if(t===void 0)throw new Error("useUser must be used within a UserProvider");return t},El=({element:t})=>{const{userDetails:i,loading:n}=ko();return n?w.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:w.jsx(ki,{})}):i?w.jsx(t,{}):w.jsx(fP,{to:"/"})};var Ev={},EE={};const dW=W$(i$);var FN;function ys(){return FN||(FN=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.createSvgIcon}});var i=dW}(EE)),EE}var UN;function hW(){if(UN)return Ev;UN=1;var t=ws();Object.defineProperty(Ev,"__esModule",{value:!0}),Ev.default=void 0;var i=t(ys()),n=vs();return Ev.default=(0,i.default)((0,n.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline"),Ev}var fW=hW();const bP=Ei(fW);var Dv={},qN;function pW(){if(qN)return Dv;qN=1;var t=ws();Object.defineProperty(Dv,"__esModule",{value:!0}),Dv.default=void 0;var i=t(ys()),n=vs();return Dv.default=(0,i.default)((0,n.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh"),Dv}var mW=pW();const gW=Ei(mW);let kP=class extends se.Component{constructor(n){super(n);Jt(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})});this.state={hasError:!1}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,o){console.error("ErrorBoundary caught an error:",n,o),this.setState({error:n,errorInfo:o}),this.props.onError&&this.props.onError(n,o)}render(){var n;return this.state.hasError?this.props.fallbackComponent?this.props.fallbackComponent:w.jsxs(hr,{elevation:3,sx:{p:4,m:2,textAlign:"center",backgroundColor:"#fafafa",border:"1px solid #e0e0e0"},children:[w.jsx(bP,{color:"error",sx:{fontSize:48,mb:2}}),w.jsx(xe,{variant:"h5",gutterBottom:!0,color:"error",children:"Something went wrong"}),w.jsx(xe,{variant:"body1",sx:{mb:3,color:"text.secondary"},children:"We encountered an unexpected error. Please try refreshing the page or contact support if the problem persists."}),w.jsxs(Ne,{sx:{mb:3},children:[w.jsx(Ct,{variant:"contained",color:"primary",startIcon:w.jsx(gW,{}),onClick:this.handleRetry,sx:{mr:2},children:"Try Again"}),w.jsx(Ct,{variant:"outlined",color:"primary",onClick:()=>window.location.reload(),children:"Refresh Page"})]}),this.props.showDetails&&this.state.error&&w.jsxs(Rr,{severity:"error",sx:{textAlign:"left",mt:2},children:[w.jsx(xe,{variant:"subtitle2",gutterBottom:!0,children:"Error Details:"}),w.jsxs(xe,{variant:"body2",component:"pre",sx:{whiteSpace:"pre-wrap",fontSize:"0.75rem",fontFamily:"monospace"},children:[this.state.error.message,((n=this.state.errorInfo)==null?void 0:n.componentStack)&&w.jsxs(w.Fragment,{children:[`

Component Stack:`,this.state.errorInfo.componentStack]})]})]})]}):this.props.children}};var Iv={},VN;function bW(){if(VN)return Iv;VN=1;var t=ws();Object.defineProperty(Iv,"__esModule",{value:!0}),Iv.default=void 0;var i=t(ys()),n=vs();return Iv.default=(0,i.default)((0,n.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home"),Iv}var kW=bW();const wW=Ei(kW);var Tv={},HN;function vW(){if(HN)return Tv;HN=1;var t=ws();Object.defineProperty(Tv,"__esModule",{value:!0}),Tv.default=void 0;var i=t(ys()),n=vs();return Tv.default=(0,i.default)((0,n.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),Tv}var yW=vW();const wP=Ei(yW),AW=()=>{const t=ao();return w.jsxs(hr,{elevation:3,sx:{p:4,m:4,textAlign:"center",backgroundColor:"#fafafa",border:"1px solid #e0e0e0",maxWidth:600,mx:"auto",mt:8},children:[w.jsx(bP,{color:"error",sx:{fontSize:64,mb:2}}),w.jsx(xe,{variant:"h4",gutterBottom:!0,color:"error",children:"Page Error"}),w.jsx(xe,{variant:"body1",sx:{mb:4,color:"text.secondary"},children:"This page encountered an error and cannot be displayed. You can try going back to the previous page or return to the home page."}),w.jsxs(Ne,{sx:{display:"flex",gap:2,justifyContent:"center",flexWrap:"wrap"},children:[w.jsx(Ct,{variant:"contained",color:"primary",startIcon:w.jsx(wW,{}),onClick:()=>t("/"),children:"Go to Home"}),w.jsx(Ct,{variant:"outlined",color:"primary",startIcon:w.jsx(wP,{}),onClick:()=>t(-1),children:"Go Back"}),w.jsx(Ct,{variant:"outlined",color:"secondary",onClick:()=>window.location.reload(),children:"Refresh Page"})]})]})},vP=({children:t,showDetails:i})=>w.jsx(kP,{fallbackComponent:w.jsx(AW,{}),showDetails:i,onError:(n,o)=>{console.error("Route Error:",{error:n.message,stack:n.stack,componentStack:o.componentStack,url:window.location.href,timestamp:new Date().toISOString()})},children:t});class _W{constructor(){Jt(this,"db",null);Jt(this,"cacheKey","messages")}initialize(){this.db||(No(()=>Promise.resolve().then(()=>jm),void 0),this.db=Nr())}subscribeToMessages(i){this.initialize();const n=pc(Zn(this.db,"messages"),eA("postedOn","desc"));return JL(n,o=>{const a=o.docs.map(c=>({id:c.id,...c.data()}));i(a),this.setCachedMessages(a)},o=>{console.error("Error listening to messages:",o);const a=this.getCachedMessages();a&&i(a)})}getCachedMessages(){try{const i=sessionStorage.getItem(this.cacheKey);return i?JSON.parse(i):null}catch(i){return console.error("Error reading cached messages:",i),null}}setCachedMessages(i){try{sessionStorage.setItem(this.cacheKey,JSON.stringify(i))}catch(n){console.error("Error caching messages:",n)}}clearCache(){try{sessionStorage.removeItem(this.cacheKey)}catch(i){console.error("Error clearing message cache:",i)}}async togglePinMessage(i,n){this.initialize();try{const o=Vn(this.db,"messages",i);await gi(o,{isPinned:!n})}catch(o){throw console.error("Error toggling pin status:",o),o}}async deleteMessage(i){try{const n=Vn(this.db,"messages",i);await tA(n)}catch(n){throw console.error("Error deleting message:",n),n}}}const z2=new _W,$N=t=>{let i;const n=new Set,o=(k,v)=>{const _=typeof k=="function"?k(i):k;if(!Object.is(_,i)){const x=i;i=v??(typeof _!="object"||_===null)?_:Object.assign({},i,_),n.forEach(y=>y(i,x))}},a=()=>i,p={setState:o,getState:a,getInitialState:()=>m,subscribe:k=>(n.add(k),()=>n.delete(k))},m=i=t(o,a,p);return p},CW=t=>t?$N(t):$N,xW=t=>t;function SW(t,i=xW){const n=vt.useSyncExternalStore(t.subscribe,()=>i(t.getState()),()=>i(t.getInitialState()));return vt.useDebugValue(n),n}const WN=t=>{const i=CW(t),n=o=>SW(i,o);return Object.assign(n,i),n},gb=t=>t?WN(t):WN,EW=()=>Math.random().toString(36).substr(2,9),DW=t=>{switch(t){case ru.NETWORK:return"";case ru.AUTHENTICATION:return"";case ru.AUTHORIZATION:return"";case ru.VALIDATION:return"";case ru.NOT_FOUND:return"";case ru.SERVER_ERROR:return"";default:return""}},IW=t=>{switch(t){case ru.NETWORK:return 8e3;case ru.AUTHENTICATION:case ru.AUTHORIZATION:return 1e4;case ru.VALIDATION:return 6e3;case ru.NOT_FOUND:return 5e3;default:return 7e3}},yP=gb((t,i)=>({notifications:[],addNotification:n=>{const o={...n,id:EW(),timestamp:new Date,duration:n.duration??5e3};t(a=>({notifications:[...a.notifications,o]})),o.duration>0&&setTimeout(()=>{i().removeNotification(o.id)},o.duration)},removeNotification:n=>{t(o=>({notifications:o.notifications.filter(a=>a.id!==n)}))},clearAll:()=>{t({notifications:[]})},showError:(n,o)=>{const a=DW(n.type),c=IW(n.type),d=[];n.type===ru.NETWORK&&d.push({label:"Retry",action:()=>{console.log("Retry requested for:",n)},primary:!0}),i().addNotification({type:"error",title:`${a} ${n.type.replace("_"," ")} Error`,message:n.message,duration:c,actions:o||d,error:n})},showSuccess:(n,o)=>{i().addNotification({type:"success",title:o||" Success",message:n,duration:4e3})},showWarning:(n,o)=>{i().addNotification({type:"warning",title:o||" Warning",message:n,duration:6e3})},showInfo:(n,o)=>{i().addNotification({type:"info",title:o||" Info",message:n,duration:5e3})}})),TW=()=>{const[t,i]=se.useState([]),[n,o]=se.useState(!0),[a,c]=se.useState(null),{handleError:d}=oW(),{showError:p,showSuccess:m}=yP();return se.useEffect(()=>{const x=z2.getCachedMessages();x&&(i(x),o(!1));const y=z2.subscribeToMessages(D=>{i(D),c(null),x||o(!1)});return()=>{y()}},[]),{messages:t,loading:n,error:a,deleteMessage:async x=>{try{await z2.deleteMessage(x),m("Message deleted successfully")}catch(y){const D=d(y,{operation:"delete_message",messageId:x});c(D.message),p(D)}},togglePinMessage:async(x,y)=>{try{await z2.togglePinMessage(x,y),m(`Message ${y?"unpinned":"pinned"} successfully`)}catch(D){const E=d(D,{operation:"toggle_pin_message",messageId:x,currentPinStatus:y});c(E.message),p(E)}},clearError:()=>{c(null)}}},td=({title:t,onClick:i,disabled:n=!1,disabledTooltip:o,lockIcon:a=!1,className:c="menu-item"})=>{const d=w.jsx(Il,{className:c,children:w.jsx(o$,{onClick:i,disabled:n,children:w.jsx(iu,{children:w.jsxs(xe,{className:"menu-item-typography",variant:"h6",component:"div",sx:n?{color:"#9e9e9e",opacity:.5}:{},children:[t,a&&w.jsx("span",{style:{marginLeft:8},children:""})]})})})});return n&&o?w.jsx(fa,{title:o,children:w.jsx("span",{children:d})}):d},MW=({userDetails:t})=>{const i=ao(),n=t&&!t.isAdmin&&(!t.classes||Object.keys(t.classes).length===0);return w.jsxs(w.Fragment,{children:[w.jsx(qt,{item:!0,xs:12,children:w.jsx(td,{title:"My Account",onClick:()=>i("/my-profile")})}),w.jsx(qt,{item:!0,xs:12,children:w.jsx(td,{title:"Laboratory Notebook",onClick:()=>i("/laboratory-notebooks"),disabled:n,disabledTooltip:"The Laboratory Notebook is accessible to users enrolled in an academic course. Please enroll in a course via 'My Account' by following the instructions provided by your academic instructor.",lockIcon:n})}),w.jsx(qt,{item:!0,xs:12,children:w.jsx(td,{title:"Course Materials",onClick:()=>i("/supplemental-materials")})})]})},GN={BASE_URL:"/nexlab/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_KEY:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",VITE_APP_ID:"1:922352392986:web:6c4d6e16b5e615bd4daaa3",VITE_AUTH_DOMAIN:"nexlab-prod.firebaseapp.com",VITE_CHATBOT_DEFAULT_ID:"ce5f7921-a3a0-4ea7-b95f-10fe41becda5",VITE_DEPLOY_ENV:"github",VITE_GEMINI_API_KEY:"AIzaSyDYgUVJwspUzRfZEhGCUAdLR66lNmM79A8",VITE_GEMINI_MATERIAL_API_KEY:"AIzaSyAcb1QNEdevZFSay3ZaT9MB7xQq6f0dMh0",VITE_GOOGLE_ANALYTICS_ID:"G-X2SBY2YQ4V",VITE_MESSAGING_SENDER_ID:"922352392986",VITE_PROJECT_ID:"nexlab-prod",VITE_PUBLIC_COURSE_ID:"rqoyheM9Lf8jGftIoZyT",VITE_STORAGE_BUCKET:"nexlab-prod.firebasestorage.app"},By=new Map,F2=t=>{const i=By.get(t);return i?Object.fromEntries(Object.entries(i.stores).map(([n,o])=>[n,o.getState()])):{}},NW=(t,i,n)=>{if(t===void 0)return{type:"untracked",connection:i.connect(n)};const o=By.get(n.name);if(o)return{type:"tracked",store:t,...o};const a={connection:i.connect(n),stores:{}};return By.set(n.name,a),{type:"tracked",store:t,...a}},jW=(t,i)=>{if(i===void 0)return;const n=By.get(t);n&&(delete n.stores[i],Object.keys(n.stores).length===0&&By.delete(t))},OW=t=>{var i,n;if(!t)return;const o=t.split(`
`),a=o.findIndex(d=>d.includes("api.setState"));if(a<0)return;const c=((i=o[a+1])==null?void 0:i.trim())||"";return(n=/.+ (.+) .+/.exec(c))==null?void 0:n[1]},BW=(t,i={})=>(n,o,a)=>{const{enabled:c,anonymousActionType:d,store:p,...m}=i;let k;try{k=(c??(GN?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!k)return t(n,o,a);const{connection:v,..._}=NW(p,k,m);let x=!0;a.setState=(E,j,M)=>{const B=n(E,j);if(!x)return B;const z=M===void 0?{type:d||OW(new Error().stack)||"anonymous"}:typeof M=="string"?{type:M}:M;return p===void 0?(v==null||v.send(z,o()),B):(v==null||v.send({...z,type:`${p}/${z.type}`},{...F2(m.name),[p]:a.getState()}),B)},a.devtools={cleanup:()=>{v&&typeof v.unsubscribe=="function"&&v.unsubscribe(),jW(m.name,p)}};const y=(...E)=>{const j=x;x=!1,n(...E),x=j},D=t(a.setState,o,a);if(_.type==="untracked"?v==null||v.init(D):(_.stores[_.store]=a,v==null||v.init(Object.fromEntries(Object.entries(_.stores).map(([E,j])=>[E,E===_.store?D:j.getState()])))),a.dispatchFromDevtools&&typeof a.dispatch=="function"){let E=!1;const j=a.dispatch;a.dispatch=(...M)=>{(GN?"production":void 0)!=="production"&&M[0].type==="__setState"&&!E&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),E=!0),j(...M)}}return v.subscribe(E=>{var j;switch(E.type){case"ACTION":if(typeof E.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return DE(E.payload,M=>{if(M.type==="__setState"){if(p===void 0){y(M.state);return}Object.keys(M.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const B=M.state[p];if(B==null)return;JSON.stringify(a.getState())!==JSON.stringify(B)&&y(B);return}a.dispatchFromDevtools&&typeof a.dispatch=="function"&&a.dispatch(M)});case"DISPATCH":switch(E.payload.type){case"RESET":return y(D),p===void 0?v==null?void 0:v.init(a.getState()):v==null?void 0:v.init(F2(m.name));case"COMMIT":if(p===void 0){v==null||v.init(a.getState());return}return v==null?void 0:v.init(F2(m.name));case"ROLLBACK":return DE(E.state,M=>{if(p===void 0){y(M),v==null||v.init(a.getState());return}y(M[p]),v==null||v.init(F2(m.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return DE(E.state,M=>{if(p===void 0){y(M);return}JSON.stringify(a.getState())!==JSON.stringify(M[p])&&y(M[p])});case"IMPORT_STATE":{const{nextLiftedState:M}=E.payload,B=(j=M.computedStates.slice(-1)[0])==null?void 0:j.state;if(!B)return;y(p===void 0?B:B[p]),v==null||v.send(null,M);return}case"PAUSE_RECORDING":return x=!x}return}}),D},Ak=BW,DE=(t,i)=>{let n;try{n=JSON.parse(t)}catch(o){console.error("[zustand devtools middleware] Could not parse the received json",o)}n!==void 0&&i(n)};function LW(t,i){let n;try{n=t()}catch{return}return{getItem:a=>{var c;const d=m=>m===null?null:JSON.parse(m,void 0),p=(c=n.getItem(a))!=null?c:null;return p instanceof Promise?p.then(d):d(p)},setItem:(a,c)=>n.setItem(a,JSON.stringify(c,void 0)),removeItem:a=>n.removeItem(a)}}const RD=t=>i=>{try{const n=t(i);return n instanceof Promise?n:{then(o){return RD(o)(n)},catch(o){return this}}}catch(n){return{then(o){return this},catch(o){return RD(o)(n)}}}},PW=(t,i)=>(n,o,a)=>{let c={storage:LW(()=>localStorage),partialize:E=>E,version:0,merge:(E,j)=>({...j,...E}),...i},d=!1;const p=new Set,m=new Set;let k=c.storage;if(!k)return t((...E)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),n(...E)},o,a);const v=()=>{const E=c.partialize({...o()});return k.setItem(c.name,{state:E,version:c.version})},_=a.setState;a.setState=(E,j)=>{_(E,j),v()};const x=t((...E)=>{n(...E),v()},o,a);a.getInitialState=()=>x;let y;const D=()=>{var E,j;if(!k)return;d=!1,p.forEach(B=>{var z;return B((z=o())!=null?z:x)});const M=((j=c.onRehydrateStorage)==null?void 0:j.call(c,(E=o())!=null?E:x))||void 0;return RD(k.getItem.bind(k))(c.name).then(B=>{if(B)if(typeof B.version=="number"&&B.version!==c.version){if(c.migrate){const z=c.migrate(B.state,B.version);return z instanceof Promise?z.then(G=>[!0,G]):[!0,z]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,B.state];return[!1,void 0]}).then(B=>{var z;const[G,J]=B;if(y=c.merge(J,(z=o())!=null?z:x),n(y,!0),G)return v()}).then(()=>{M==null||M(y,void 0),y=o(),d=!0,m.forEach(B=>B(y))}).catch(B=>{M==null||M(void 0,B)})};return a.persist={setOptions:E=>{c={...c,...E},E.storage&&(k=E.storage)},clearStorage:()=>{k==null||k.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>D(),hasHydrated:()=>d,onHydrate:E=>(p.add(E),()=>{p.delete(E)}),onFinishHydration:E=>(m.add(E),()=>{m.delete(E)})},c.skipHydration||D(),y||x},b5=PW,AP=gb()(Ak(b5((t,i)=>({globalLoading:!1,pageLoading:{},openDialogs:{},currentPage:"/",previousPage:null,navigationSections:{educatorExpanded:!1,superAdminExpanded:!1},sidebarCollapsed:!1,theme:"light",setGlobalLoading:n=>t({globalLoading:n}),setPageLoading:(n,o)=>t(a=>({pageLoading:{...a.pageLoading,[n]:o}})),openDialog:n=>t(o=>({openDialogs:{...o.openDialogs,[n]:!0}})),closeDialog:n=>t(o=>({openDialogs:{...o.openDialogs,[n]:!1}})),toggleDialog:n=>t(o=>({openDialogs:{...o.openDialogs,[n]:!o.openDialogs[n]}})),isDialogOpen:n=>!!i().openDialogs[n],setCurrentPage:n=>t(o=>({currentPage:n,previousPage:o.currentPage})),toggleEducatorSection:()=>t(n=>({navigationSections:{...n.navigationSections,educatorExpanded:!n.navigationSections.educatorExpanded}})),toggleSuperAdminSection:()=>t(n=>({navigationSections:{...n.navigationSections,superAdminExpanded:!n.navigationSections.superAdminExpanded}})),setEducatorSectionExpanded:n=>t(o=>({navigationSections:{...o.navigationSections,educatorExpanded:n}})),setSuperAdminSectionExpanded:n=>t(o=>({navigationSections:{...o.navigationSections,superAdminExpanded:n}})),setSidebarCollapsed:n=>t({sidebarCollapsed:n}),toggleSidebar:()=>t(n=>({sidebarCollapsed:!n.sidebarCollapsed})),setTheme:n=>t({theme:n}),toggleTheme:()=>t(n=>({theme:n.theme==="light"?"dark":"light"}))}),{name:"ui-preferences",partialize:t=>({sidebarCollapsed:t.sidebarCollapsed,theme:t.theme,navigationSections:t.navigationSections})}))),RW=()=>{const t=ao(),{navigationSections:i,toggleEducatorSection:n}=AP(),o=i.educatorExpanded;return w.jsx(w.Fragment,{children:w.jsxs(qt,{item:!0,xs:12,children:[w.jsx(dl,{sx:{my:2}}),w.jsxs(Ne,{sx:{display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",py:1.5,px:2,mx:1,"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"},borderRadius:2,transition:"background-color 0.2s"},onClick:n,children:[w.jsx(xe,{className:"general-menu-title",variant:"h6",component:"h2",sx:{flexGrow:1,textAlign:"center"},children:"Educator Access"}),w.jsx(Gn,{size:"small",sx:{ml:2,p:.5,color:"primary.main","&:hover":{backgroundColor:"primary.light",color:"primary.contrastText"}},"aria-label":o?"collapse educator section":"expand educator section",children:o?w.jsx(f5,{fontSize:"small"}):w.jsx(sd,{fontSize:"small"})})]}),w.jsx(p5,{in:o,timeout:"auto",unmountOnExit:!0,children:w.jsxs(Ne,{sx:{mt:2,px:1},children:[w.jsx(td,{title:"Course Management",onClick:()=>t("/course-management")}),w.jsx(Ne,{sx:{mt:1},children:w.jsx(td,{title:"Chatbot Management",onClick:()=>t("/chatbot-management")})})]})})]})})},zW=()=>{const t=ao(),{navigationSections:i,toggleSuperAdminSection:n}=AP(),o=i.superAdminExpanded;return w.jsx(w.Fragment,{children:w.jsxs(qt,{item:!0,xs:12,children:[w.jsx(dl,{sx:{my:2}}),w.jsxs(Ne,{sx:{display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",py:1.5,px:2,mx:1,"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"},borderRadius:2,transition:"background-color 0.2s"},onClick:n,children:[w.jsx(xe,{className:"general-menu-title",variant:"h6",component:"h2",sx:{flexGrow:1,textAlign:"center"},children:"Super-Admin Access"}),w.jsx(Gn,{size:"small",sx:{ml:2,p:.5,color:"primary.main","&:hover":{backgroundColor:"primary.light",color:"primary.contrastText"}},"aria-label":o?"collapse super-admin section":"expand super-admin section",children:o?w.jsx(f5,{fontSize:"small"}):w.jsx(sd,{fontSize:"small"})})]}),w.jsx(p5,{in:o,timeout:"auto",unmountOnExit:!0,children:w.jsxs(Ne,{sx:{mt:2,px:1},children:[w.jsx(td,{title:"User Management",onClick:()=>t("/user-management")}),w.jsx(Ne,{sx:{mt:1},children:w.jsx(td,{title:"Course Management",onClick:()=>t("/super-admin-course-management")})}),w.jsx(Ne,{sx:{mt:1},children:w.jsx(td,{title:"Educator Requests",onClick:()=>t("/educator-requests")})}),w.jsx(Ne,{sx:{mt:1},children:w.jsx(td,{title:"Course Requests",onClick:()=>t("/course-requests")})}),w.jsx(Ne,{sx:{mt:1},children:w.jsx(td,{title:"Chatbot Requests",onClick:()=>t("/super-admin-chatbot-requests")})}),w.jsx(Ne,{sx:{mt:1},children:w.jsx(td,{title:"Chatbot Conversations",onClick:()=>t("/chatbot-conversations")})}),w.jsx(Ne,{sx:{mt:1},children:w.jsx(td,{title:"Quiz Management",onClick:()=>t("/quiz-management")})})]})})]})})},FW=({userDetails:t,isSuperAdmin:i})=>w.jsx(Ne,{className:"menu-container",children:w.jsxs(qt,{container:!0,spacing:2,justifyContent:"center",children:[w.jsx(MW,{userDetails:t}),(t==null?void 0:t.isAdmin)&&w.jsx(RW,{}),i&&w.jsx(zW,{})]})});var Mv={},YN;function UW(){if(YN)return Mv;YN=1;var t=ws();Object.defineProperty(Mv,"__esModule",{value:!0}),Mv.default=void 0;var i=t(ys()),n=vs();return Mv.default=(0,i.default)((0,n.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 14H4V8l8 5 8-5zm-8-7L4 6h16z"}),"MailOutline"),Mv}var qW=UW();const VW=Ei(qW);var Nv={},KN;function HW(){if(KN)return Nv;KN=1;var t=ws();Object.defineProperty(Nv,"__esModule",{value:!0}),Nv.default=void 0;var i=t(ys()),n=vs();return Nv.default=(0,i.default)((0,n.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),Nv}var $W=HW();const _y=Ei($W);var jv={},QN;function WW(){if(QN)return jv;QN=1;var t=ws();Object.defineProperty(jv,"__esModule",{value:!0}),jv.default=void 0;var i=t(ys()),n=vs();return jv.default=(0,i.default)((0,n.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),jv}var GW=WW();const _k=Ei(GW),ZN=({messageId:t,onDelete:i})=>{const[n,o]=se.useState(!1),a=Nr(),c=()=>{o(!0)},d=()=>{o(!1)},p=async()=>{try{await tA(Vn(a,"messages",t)),i(t),d()}catch(m){console.error("Error deleting message: ",m)}};return w.jsxs(w.Fragment,{children:[w.jsx(Gn,{onClick:c,children:w.jsx(_k,{})}),w.jsxs(Oo,{open:n,onClose:d,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[w.jsx(ts,{id:"alert-dialog-title",children:"Confirm Delete"}),w.jsx(Bo,{children:w.jsx(bc,{id:"alert-dialog-description",children:"Are you sure you want to delete this message? This action cannot be undone."})}),w.jsxs(ns,{children:[w.jsx(Ct,{onClick:d,color:"primary",children:"Cancel"}),w.jsx(Ct,{onClick:p,color:"primary",autoFocus:!0,children:"Confirm"})]})]})]})};var Ov={},JN;function YW(){if(JN)return Ov;JN=1;var t=ws();Object.defineProperty(Ov,"__esModule",{value:!0}),Ov.default=void 0;var i=t(ys()),n=vs();return Ov.default=(0,i.default)((0,n.jsx)("path",{fillRule:"evenodd",d:"M16 9V4h1c.55 0 1-.45 1-1s-.45-1-1-1H7c-.55 0-1 .45-1 1s.45 1 1 1h1v5c0 1.66-1.34 3-3 3v2h5.97v7l1 1 1-1v-7H19v-2c-1.66 0-3-1.34-3-3"}),"PushPin"),Ov}var KW=YW();const _P=Ei(KW),XN=({message:t,togglePinMessage:i})=>{const n=async()=>{try{await i(t.id,t.isPinned||!1)}catch(o){console.error("Error updating pin status: ",o)}};return w.jsx(Gn,{onClick:n,sx:{marginRight:1},children:w.jsx(_P,{color:t.isPinned?"primary":"inherit"})})};var Bv={},e8;function QW(){if(e8)return Bv;e8=1;var t=ws();Object.defineProperty(Bv,"__esModule",{value:!0}),Bv.default=void 0;var i=t(ys()),n=vs();return Bv.default=(0,i.default)((0,n.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),Bv}var ZW=QW();const Rx=Ei(ZW),Em=t=>t?typeof t=="object"&&"toDate"in t?t.toDate().toLocaleString():typeof t=="object"&&"seconds"in t?new Date(t.seconds*1e3).toLocaleString():"N/A":"No data available",JW=({messages:t,userDetails:i,navigate:n,handleDeleteMessage:o,togglePinMessage:a})=>{const[c,d]=se.useState(0),p=3,m=t.filter(z=>(i==null?void 0:i.classes)&&z.course in i.classes),k=m.filter(z=>z.isPinned),v=m.filter(z=>!z.isPinned),_=(c+1)*p,x=_-p,y=v.slice(x,_),D=Math.ceil(v.length/p),E=()=>d(z=>z+1),j=()=>d(z=>z-1),M=z=>{var G,J;return!!(i!=null&&i.isSuperAdmin||(J=(G=i==null?void 0:i.classes)==null?void 0:G[z.course])!=null&&J.isCourseAdmin)},B=z=>{var J;const G=(J=i==null?void 0:i.classes)==null?void 0:J[z];return G?`${G.number}`:"Unknown Course"};return w.jsxs(Ne,{className:"messages-display-container",children:[" ",k.length>0&&w.jsxs(hr,{elevation:3,sx:{mb:3,p:2,backgroundColor:"#FBFADA",borderRadius:"15px"},children:[w.jsxs(Ne,{className:"pinned-section",children:[w.jsx(_P,{color:"primary",sx:{mr:1}}),w.jsx(xe,{variant:"h6",className:"pinned-title",children:"Pinned"})]}),k.map(z=>w.jsx(Il,{className:"messages-card",children:w.jsxs(Xd,{children:[w.jsx(eh,{expandIcon:w.jsx(Rx,{}),"aria-controls":`panel-${z.id}-content`,id:`panel-${z.id}-header`,children:w.jsxs(qt,{container:!0,justifyContent:"space-between",alignItems:"flex-start",children:[w.jsxs(qt,{item:!0,children:[w.jsxs(Ne,{display:"flex",alignItems:"center",children:[w.jsx(_r,{label:B(z.course),color:"primary",variant:"outlined",className:"message-chip",sx:{marginRight:1}}),w.jsxs(xe,{variant:"subtitle2",className:"message-posted-on",children:["Posted On: ",Em(z.postedOn)," |"]}),z.lastUpdatedOn&&w.jsxs(xe,{variant:"subtitle2",className:"message-updated-on",children:["| Last Updated: ",Em(z.lastUpdatedOn)]})]}),w.jsxs(xe,{variant:"h6",className:"message-title",children:["Subject: ",z.title]})]}),M(z)&&w.jsxs(qt,{item:!0,children:[w.jsx(XN,{message:z,togglePinMessage:a}),w.jsx(Gn,{onClick:()=>n(`/edit-message/${z.id}`),sx:{marginRight:1},children:w.jsx(_y,{})}),w.jsx(ZN,{messageId:z.id,onDelete:o})]})]})}),w.jsx(th,{children:w.jsxs(Ne,{sx:{border:"1px solid #e0e0e0",padding:"20px",borderRadius:"4px",backgroundColor:"#fafafa",marginBottom:"16px"},children:[w.jsx(xe,{variant:"body1",className:"message-description",children:z.description}),z.links&&z.links.some(G=>G.title&&G.url)&&w.jsxs(Ne,{sx:{mt:1},children:[w.jsx(xe,{variant:"subtitle2",className:"message-links-title",children:"Links:"}),z.links.map((G,J)=>G.title&&G.url&&w.jsxs(Ne,{sx:{mt:1},children:[w.jsxs(xe,{variant:"body2",component:"span",className:"message-link",children:[" ",G.title,": "]}),w.jsx(My,{href:G.url,target:"_blank",rel:"noopener",children:G.url})]},J))]})]})})]})},z.id))]}),w.jsx(hr,{elevation:3,sx:{mb:3,p:2,backgroundColor:"#f5f5f5",borderRadius:"15px"},children:y.map(z=>w.jsx(Il,{className:"messages-card",children:w.jsxs(Xd,{children:[w.jsx(eh,{expandIcon:w.jsx(Rx,{}),"aria-controls":`panel-${z.id}-content`,id:`panel-${z.id}-header`,children:w.jsxs(qt,{container:!0,justifyContent:"space-between",alignItems:"flex-start",children:[w.jsxs(qt,{item:!0,children:[w.jsxs(Ne,{display:"flex",alignItems:"center",children:[w.jsx(_r,{label:B(z.course),color:"primary",variant:"outlined",className:"message-chip",sx:{marginRight:1}}),w.jsxs(xe,{variant:"subtitle2",className:"message-posted-on",children:["Posted On: ",Em(z.postedOn)]}),z.lastUpdatedOn&&w.jsxs(xe,{variant:"subtitle2",className:"message-updated-on",children:["Last Updated: ",Em(z.lastUpdatedOn)]})]}),w.jsxs(xe,{variant:"h6",className:"message-title",children:["Subject: ",z.title]})]}),M(z)&&w.jsxs(qt,{item:!0,children:[w.jsx(XN,{message:z,togglePinMessage:a}),w.jsx(Gn,{onClick:()=>n(`/edit-message/${z.id}`),sx:{marginRight:1},children:w.jsx(_y,{})}),w.jsx(ZN,{messageId:z.id,onDelete:o})]})]})}),w.jsx(th,{children:w.jsxs(Ne,{sx:{border:"1px solid #e0e0e0",padding:"20px",borderRadius:"4px",backgroundColor:"#fafafa",marginBottom:"16px"},children:[w.jsx(xe,{variant:"body1",className:"message-description",children:z.description}),z.links&&z.links.some(G=>G.title&&G.url)&&w.jsxs(Ne,{sx:{mt:1},children:[w.jsx(xe,{variant:"subtitle2",className:"message-links-title",children:"Links:"}),z.links.map((G,J)=>G.title&&G.url&&w.jsxs(Ne,{sx:{mt:1},children:[w.jsxs(xe,{variant:"body2",component:"span",className:"message-link",children:[" ",G.title,": "]}),w.jsx(My,{href:G.url,target:"_blank",rel:"noopener",children:G.url})]},J))]})]})})]})},z.id))}),w.jsxs(Ne,{className:"pagination-container",children:[" ",w.jsx(Ct,{onClick:j,disabled:c===0,className:"pagination-button",children:"Previous"}),w.jsx(Ct,{onClick:E,disabled:c>=D-1,className:"pagination-button",children:"Next"})]})]})},XW=({messages:t,loading:i,userDetails:n,handleDeleteMessage:o,togglePinMessage:a})=>{const c=ao();return w.jsxs(Ne,{className:"messages-container",children:[w.jsxs(Ne,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[w.jsxs(Ne,{sx:{display:"flex",alignItems:"center"},children:[w.jsx(VW,{sx:{mr:1}}),w.jsx(xe,{variant:"h5",component:"h4",className:"inbox-text",children:"Inbox"})]}),(n==null?void 0:n.isAdmin)&&w.jsx(Ct,{variant:"contained",onClick:()=>c("/add-message"),sx:{backgroundColor:"#CDDAFF",color:"#FFFFFF",fontFamily:"Staatliches, sans-serif",fontSize:"1.25rem","&:hover":{backgroundColor:"#0B53C0",border:"0px solid #0B53C0"}},children:"+ Add Message"})]}),i?w.jsx(Ne,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100px"},children:w.jsx(ki,{})}):w.jsx(JW,{messages:t,userDetails:n,navigate:c,handleDeleteMessage:o,togglePinMessage:a})]})},eG=()=>{const{userDetails:t,isSuperAdmin:i}=ko(),[n,o]=se.useState(!1),{messages:a,loading:c,deleteMessage:d,togglePinMessage:p}=TW(),m=(v,_)=>{_!=="clickaway"&&o(!1)},k=v=>{d(v)};return w.jsxs(Ne,{sx:{flexGrow:1,padding:3},children:[w.jsxs(qt,{container:!0,spacing:3,children:[w.jsx(qt,{item:!0,xs:12,md:3,children:w.jsx(FW,{userDetails:t,isSuperAdmin:i})}),w.jsx(qt,{item:!0,xs:12,md:9,children:w.jsx(XW,{messages:a,loading:c,userDetails:t,handleDeleteMessage:k,togglePinMessage:p})})]}),w.jsx(Nl,{open:n,autoHideDuration:6e3,onClose:m,children:w.jsx(Rr,{onClose:m,severity:"success",sx:{width:"100%"},children:"User ID copied to clipboard!"})})]})};let U2;const tG=new Uint8Array(16);function nG(){if(!U2&&(U2=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!U2))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return U2(tG)}const Da=[];for(let t=0;t<256;++t)Da.push((t+256).toString(16).slice(1));function rG(t,i=0){return Da[t[i+0]]+Da[t[i+1]]+Da[t[i+2]]+Da[t[i+3]]+"-"+Da[t[i+4]]+Da[t[i+5]]+"-"+Da[t[i+6]]+Da[t[i+7]]+"-"+Da[t[i+8]]+Da[t[i+9]]+"-"+Da[t[i+10]]+Da[t[i+11]]+Da[t[i+12]]+Da[t[i+13]]+Da[t[i+14]]+Da[t[i+15]]}const iG=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),t8={randomUUID:iG};function sl(t,i,n){if(t8.randomUUID&&!t)return t8.randomUUID();t=t||{};const o=t.random||(t.rng||nG)();return o[6]=o[6]&15|64,o[8]=o[8]&63|128,rG(o)}var n8;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(n8||(n8={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r8;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(r8||(r8={}));var i8;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(i8||(i8={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8=["user","model","function","system"];var s8;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(s8||(s8={}));var a8;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(a8||(a8={}));var l8;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(l8||(l8={}));var c8;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(c8||(c8={}));var Cy;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(Cy||(Cy={}));var u8;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(u8||(u8={}));var d8;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(d8||(d8={}));var h8;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(h8||(h8={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al extends Error{constructor(i){super(`[GoogleGenerativeAI Error]: ${i}`)}}class N0 extends al{constructor(i,n){super(i),this.response=n}}class CP extends al{constructor(i,n,o,a){super(i),this.status=n,this.statusText=o,this.errorDetails=a}}class Om extends al{}class xP extends al{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oG="https://generativelanguage.googleapis.com",sG="v1beta",aG="0.24.1",lG="genai-js";var ub;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(ub||(ub={}));class cG{constructor(i,n,o,a,c){this.model=i,this.task=n,this.apiKey=o,this.stream=a,this.requestOptions=c}toString(){var i,n;const o=((i=this.requestOptions)===null||i===void 0?void 0:i.apiVersion)||sG;let c=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||oG}/${o}/${this.model}:${this.task}`;return this.stream&&(c+="?alt=sse"),c}}function uG(t){const i=[];return t!=null&&t.apiClient&&i.push(t.apiClient),i.push(`${lG}/${aG}`),i.join(" ")}async function dG(t){var i;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",uG(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let o=(i=t.requestOptions)===null||i===void 0?void 0:i.customHeaders;if(o){if(!(o instanceof Headers))try{o=new Headers(o)}catch(a){throw new Om(`unable to convert customHeaders value ${JSON.stringify(o)} to Headers: ${a.message}`)}for(const[a,c]of o.entries()){if(a==="x-goog-api-key")throw new Om(`Cannot set reserved header name ${a}`);if(a==="x-goog-api-client")throw new Om(`Header name ${a} can only be set using the apiClient field`);n.append(a,c)}}return n}async function hG(t,i,n,o,a,c){const d=new cG(t,i,n,o,c);return{url:d.toString(),fetchOptions:Object.assign(Object.assign({},gG(c)),{method:"POST",headers:await dG(d),body:a})}}async function sA(t,i,n,o,a,c={},d=fetch){const{url:p,fetchOptions:m}=await hG(t,i,n,o,a,c);return fG(p,m,d)}async function fG(t,i,n=fetch){let o;try{o=await n(t,i)}catch(a){pG(a,t)}return o.ok||await mG(o,t),o}function pG(t,i){let n=t;throw n.name==="AbortError"?(n=new xP(`Request aborted when fetching ${i.toString()}: ${t.message}`),n.stack=t.stack):t instanceof CP||t instanceof Om||(n=new al(`Error fetching from ${i.toString()}: ${t.message}`),n.stack=t.stack),n}async function mG(t,i){let n="",o;try{const a=await t.json();n=a.error.message,a.error.details&&(n+=` ${JSON.stringify(a.error.details)}`,o=a.error.details)}catch{}throw new CP(`Error fetching from ${i.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,o)}function gG(t){const i={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const n=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>n.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),i.signal=n.signal}return i}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z6(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),cx(t.candidates[0]))throw new N0(`${Cm(t)}`,t);return bG(t)}else if(t.promptFeedback)throw new N0(`Text not available. ${Cm(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),cx(t.candidates[0]))throw new N0(`${Cm(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),f8(t)[0]}else if(t.promptFeedback)throw new N0(`Function call not available. ${Cm(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),cx(t.candidates[0]))throw new N0(`${Cm(t)}`,t);return f8(t)}else if(t.promptFeedback)throw new N0(`Function call not available. ${Cm(t)}`,t)},t}function bG(t){var i,n,o,a;const c=[];if(!((n=(i=t.candidates)===null||i===void 0?void 0:i[0].content)===null||n===void 0)&&n.parts)for(const d of(a=(o=t.candidates)===null||o===void 0?void 0:o[0].content)===null||a===void 0?void 0:a.parts)d.text&&c.push(d.text),d.executableCode&&c.push("\n```"+d.executableCode.language+`
`+d.executableCode.code+"\n```\n"),d.codeExecutionResult&&c.push("\n```\n"+d.codeExecutionResult.output+"\n```\n");return c.length>0?c.join(""):""}function f8(t){var i,n,o,a;const c=[];if(!((n=(i=t.candidates)===null||i===void 0?void 0:i[0].content)===null||n===void 0)&&n.parts)for(const d of(a=(o=t.candidates)===null||o===void 0?void 0:o[0].content)===null||a===void 0?void 0:a.parts)d.functionCall&&c.push(d.functionCall);if(c.length>0)return c}const kG=[Cy.RECITATION,Cy.SAFETY,Cy.LANGUAGE];function cx(t){return!!t.finishReason&&kG.includes(t.finishReason)}function Cm(t){var i,n,o;let a="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)a+="Response was blocked",!((i=t.promptFeedback)===null||i===void 0)&&i.blockReason&&(a+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(a+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((o=t.candidates)===null||o===void 0)&&o[0]){const c=t.candidates[0];cx(c)&&(a+=`Candidate was blocked due to ${c.finishReason}`,c.finishMessage&&(a+=`: ${c.finishMessage}`))}return a}function Ly(t){return this instanceof Ly?(this.v=t,this):new Ly(t)}function wG(t,i,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,i||[]),a,c=[];return a={},d("next"),d("throw"),d("return"),a[Symbol.asyncIterator]=function(){return this},a;function d(x){o[x]&&(a[x]=function(y){return new Promise(function(D,E){c.push([x,y,D,E])>1||p(x,y)})})}function p(x,y){try{m(o[x](y))}catch(D){_(c[0][3],D)}}function m(x){x.value instanceof Ly?Promise.resolve(x.value.v).then(k,v):_(c[0][2],x)}function k(x){p("next",x)}function v(x){p("throw",x)}function _(x,y){x(y),c.shift(),c.length&&p(c[0][0],c[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function vG(t){const i=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=_G(i),[o,a]=n.tee();return{stream:AG(o),response:yG(a)}}async function yG(t){const i=[],n=t.getReader();for(;;){const{done:o,value:a}=await n.read();if(o)return Z6(CG(i));i.push(a)}}function AG(t){return wG(this,arguments,function*(){const n=t.getReader();for(;;){const{value:o,done:a}=yield Ly(n.read());if(a)break;yield yield Ly(Z6(o))}})}function _G(t){const i=t.getReader();return new ReadableStream({start(o){let a="";return c();function c(){return i.read().then(({value:d,done:p})=>{if(p){if(a.trim()){o.error(new al("Failed to parse stream"));return}o.close();return}a+=d;let m=a.match(p8),k;for(;m;){try{k=JSON.parse(m[1])}catch{o.error(new al(`Error parsing JSON response: "${m[1]}"`));return}o.enqueue(k),a=a.substring(m[0].length),m=a.match(p8)}return c()}).catch(d=>{let p=d;throw p.stack=d.stack,p.name==="AbortError"?p=new xP("Request aborted when reading from the stream"):p=new al("Error reading from the stream"),p})}}})}function CG(t){const i=t[t.length-1],n={promptFeedback:i==null?void 0:i.promptFeedback};for(const o of t){if(o.candidates){let a=0;for(const c of o.candidates)if(n.candidates||(n.candidates=[]),n.candidates[a]||(n.candidates[a]={index:a}),n.candidates[a].citationMetadata=c.citationMetadata,n.candidates[a].groundingMetadata=c.groundingMetadata,n.candidates[a].finishReason=c.finishReason,n.candidates[a].finishMessage=c.finishMessage,n.candidates[a].safetyRatings=c.safetyRatings,c.content&&c.content.parts){n.candidates[a].content||(n.candidates[a].content={role:c.content.role||"user",parts:[]});const d={};for(const p of c.content.parts)p.text&&(d.text=p.text),p.functionCall&&(d.functionCall=p.functionCall),p.executableCode&&(d.executableCode=p.executableCode),p.codeExecutionResult&&(d.codeExecutionResult=p.codeExecutionResult),Object.keys(d).length===0&&(d.text=""),n.candidates[a].content.parts.push(d)}a++}o.usageMetadata&&(n.usageMetadata=o.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SP(t,i,n,o){const a=await sA(i,ub.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),o);return vG(a)}async function EP(t,i,n,o){const c=await(await sA(i,ub.GENERATE_CONTENT,t,!1,JSON.stringify(n),o)).json();return{response:Z6(c)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Py(t){let i=[];if(typeof t=="string")i=[{text:t}];else for(const n of t)typeof n=="string"?i.push({text:n}):i.push(n);return xG(i)}function xG(t){const i={role:"user",parts:[]},n={role:"function",parts:[]};let o=!1,a=!1;for(const c of t)"functionResponse"in c?(n.parts.push(c),a=!0):(i.parts.push(c),o=!0);if(o&&a)throw new al("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!o&&!a)throw new al("No content is provided for sending chat message.");return o?i:n}function SG(t,i){var n;let o={model:i==null?void 0:i.model,generationConfig:i==null?void 0:i.generationConfig,safetySettings:i==null?void 0:i.safetySettings,tools:i==null?void 0:i.tools,toolConfig:i==null?void 0:i.toolConfig,systemInstruction:i==null?void 0:i.systemInstruction,cachedContent:(n=i==null?void 0:i.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const a=t.generateContentRequest!=null;if(t.contents){if(a)throw new Om("CountTokensRequest must have one of contents or generateContentRequest, not both.");o.contents=t.contents}else if(a)o=Object.assign(Object.assign({},o),t.generateContentRequest);else{const c=Py(t);o.contents=[c]}return{generateContentRequest:o}}function m8(t){let i;return t.contents?i=t:i={contents:[Py(t)]},t.systemInstruction&&(i.systemInstruction=DP(t.systemInstruction)),i}function EG(t){return typeof t=="string"||Array.isArray(t)?{content:Py(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],DG={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function IG(t){let i=!1;for(const n of t){const{role:o,parts:a}=n;if(!i&&o!=="user")throw new al(`First content should be with role 'user', got ${o}`);if(!o8.includes(o))throw new al(`Each item should include role field. Got ${o} but valid roles are: ${JSON.stringify(o8)}`);if(!Array.isArray(a))throw new al("Content should have 'parts' property with an array of Parts");if(a.length===0)throw new al("Each Content should have at least one part");const c={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const p of a)for(const m of g8)m in p&&(c[m]+=1);const d=DG[o];for(const p of g8)if(!d.includes(p)&&c[p]>0)throw new al(`Content with role '${o}' can't contain '${p}' part`);i=!0}}function b8(t){var i;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(i=t.candidates[0])===null||i===void 0?void 0:i.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const o of n.parts)if(o===void 0||Object.keys(o).length===0||o.text!==void 0&&o.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k8="SILENT_ERROR";class TG{constructor(i,n,o,a={}){this.model=n,this.params=o,this._requestOptions=a,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=i,o!=null&&o.history&&(IG(o.history),this._history=o.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(i,n={}){var o,a,c,d,p,m;await this._sendPromise;const k=Py(i),v={safetySettings:(o=this.params)===null||o===void 0?void 0:o.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(c=this.params)===null||c===void 0?void 0:c.tools,toolConfig:(d=this.params)===null||d===void 0?void 0:d.toolConfig,systemInstruction:(p=this.params)===null||p===void 0?void 0:p.systemInstruction,cachedContent:(m=this.params)===null||m===void 0?void 0:m.cachedContent,contents:[...this._history,k]},_=Object.assign(Object.assign({},this._requestOptions),n);let x;return this._sendPromise=this._sendPromise.then(()=>EP(this._apiKey,this.model,v,_)).then(y=>{var D;if(b8(y.response)){this._history.push(k);const E=Object.assign({parts:[],role:"model"},(D=y.response.candidates)===null||D===void 0?void 0:D[0].content);this._history.push(E)}else{const E=Cm(y.response);E&&console.warn(`sendMessage() was unsuccessful. ${E}. Inspect response object for details.`)}x=y}).catch(y=>{throw this._sendPromise=Promise.resolve(),y}),await this._sendPromise,x}async sendMessageStream(i,n={}){var o,a,c,d,p,m;await this._sendPromise;const k=Py(i),v={safetySettings:(o=this.params)===null||o===void 0?void 0:o.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(c=this.params)===null||c===void 0?void 0:c.tools,toolConfig:(d=this.params)===null||d===void 0?void 0:d.toolConfig,systemInstruction:(p=this.params)===null||p===void 0?void 0:p.systemInstruction,cachedContent:(m=this.params)===null||m===void 0?void 0:m.cachedContent,contents:[...this._history,k]},_=Object.assign(Object.assign({},this._requestOptions),n),x=SP(this._apiKey,this.model,v,_);return this._sendPromise=this._sendPromise.then(()=>x).catch(y=>{throw new Error(k8)}).then(y=>y.response).then(y=>{if(b8(y)){this._history.push(k);const D=Object.assign({},y.candidates[0].content);D.role||(D.role="model"),this._history.push(D)}else{const D=Cm(y);D&&console.warn(`sendMessageStream() was unsuccessful. ${D}. Inspect response object for details.`)}}).catch(y=>{y.message!==k8&&console.error(y)}),x}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MG(t,i,n,o){return(await sA(i,ub.COUNT_TOKENS,t,!1,JSON.stringify(n),o)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NG(t,i,n,o){return(await sA(i,ub.EMBED_CONTENT,t,!1,JSON.stringify(n),o)).json()}async function jG(t,i,n,o){const a=n.requests.map(d=>Object.assign(Object.assign({},d),{model:i}));return(await sA(i,ub.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:a}),o)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(i,n,o={}){this.apiKey=i,this._requestOptions=o,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=DP(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(i,n={}){var o;const a=m8(i),c=Object.assign(Object.assign({},this._requestOptions),n);return EP(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(o=this.cachedContent)===null||o===void 0?void 0:o.name},a),c)}async generateContentStream(i,n={}){var o;const a=m8(i),c=Object.assign(Object.assign({},this._requestOptions),n);return SP(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(o=this.cachedContent)===null||o===void 0?void 0:o.name},a),c)}startChat(i){var n;return new TG(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},i),this._requestOptions)}async countTokens(i,n={}){const o=SG(i,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),a=Object.assign(Object.assign({},this._requestOptions),n);return MG(this.apiKey,this.model,o,a)}async embedContent(i,n={}){const o=EG(i),a=Object.assign(Object.assign({},this._requestOptions),n);return NG(this.apiKey,this.model,o,a)}async batchEmbedContents(i,n={}){const o=Object.assign(Object.assign({},this._requestOptions),n);return jG(this.apiKey,this.model,i,o)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(i){this.apiKey=i}getGenerativeModel(i,n){if(!i.model)throw new al("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new w8(this.apiKey,i,n)}getGenerativeModelFromCachedContent(i,n,o){if(!i.name)throw new Om("Cached content must contain a `name` field.");if(!i.model)throw new Om("Cached content must contain a `model` field.");const a=["model","systemInstruction"];for(const d of a)if(n!=null&&n[d]&&i[d]&&(n==null?void 0:n[d])!==i[d]){if(d==="model"){const p=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,m=i.model.startsWith("models/")?i.model.replace("models/",""):i.model;if(p===m)continue}throw new Om(`Different value for "${d}" specified in modelParams (${n[d]}) and cachedContent (${i[d]})`)}const c=Object.assign(Object.assign({},n),{model:i.model,tools:i.tools,toolConfig:i.toolConfig,systemInstruction:i.systemInstruction,cachedContent:i});return new w8(this.apiKey,c,o)}}var IE={exports:{}},v8;function OG(){return v8||(v8=1,(()=>{var t={d:(c,d)=>{for(var p in d)t.o(d,p)&&!t.o(c,p)&&Object.defineProperty(c,p,{enumerable:!0,get:d[p]})},o:(c,d)=>Object.prototype.hasOwnProperty.call(c,d),r:c=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})}},i={};function n(c,d){for(var p=0;p<d.length;p++){var m=d[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(c,m.key,m)}}t.r(i),t.d(i,{default:()=>a});var o=function(){function c(){(function(m,k){if(!(m instanceof k))throw new TypeError("Cannot call a class as a function")})(this,c)}var d,p;return d=c,p=[{key:"changeHeightWidth",value:function(m,k,v,_,x,y){return v>_&&(m=Math.round(m*_/v),v=_),m>k&&(v=Math.round(v*k/m),m=k),x&&v<x&&(m=Math.round(m*x/v),v=x),y&&m<y&&(v=Math.round(v*y/m),m=y),{height:m,width:v}}},{key:"resizeAndRotateImage",value:function(m,k,v,_,x){var y=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"jpeg",D=arguments.length>6&&arguments[6]!==void 0?arguments[6]:100,E=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,j=D/100,M=document.createElement("canvas"),B=m.width,z=m.height,G=this.changeHeightWidth(z,v,B,k,_,x);!E||E!==90&&E!==270?(M.width=G.width,M.height=G.height):(M.width=G.height,M.height=G.width),B=G.width,z=G.height;var J=M.getContext("2d");return J.fillStyle="rgba(0, 0, 0, 0)",J.fillRect(0,0,B,z),J.imageSmoothingEnabled&&J.imageSmoothingQuality&&(J.imageSmoothingQuality="high"),E&&(J.rotate(E*Math.PI/180),E===90?J.translate(0,-M.width):E===180?J.translate(-M.width,-M.height):E===270?J.translate(-M.height,0):E!==0&&E!==360||J.translate(0,0)),J.drawImage(m,0,0,B,z),M.toDataURL("image/".concat(y),j)}},{key:"b64toByteArrays",value:function(m,k){for(var v=atob(m.toString().replace(/^data:image\/(png|jpeg|jpg|webp);base64,/,"")),_=[],x=0;x<v.length;x+=512){for(var y=v.slice(x,x+512),D=new Array(y.length),E=0;E<y.length;E++)D[E]=y.charCodeAt(E);var j=new Uint8Array(D);_.push(j)}return _}},{key:"b64toBlob",value:function(m,k){var v=this.b64toByteArrays(m,k);return new Blob(v,{type:k,lastModified:new Date})}},{key:"b64toFile",value:function(m,k,v){var _=this.b64toByteArrays(m,v);return new File(_,k,{type:v,lastModified:new Date})}},{key:"createResizedImage",value:function(m,k,v,_,x,y,D){var E=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"base64",j=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,M=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,B=new FileReader;if(!m)throw Error("File Not Found!");if(m.type&&!m.type.includes("image"))throw Error("File Is NOT Image!");B.readAsDataURL(m),B.onload=function(){var z=new Image;z.src=B.result,z.onload=function(){var G=c.resizeAndRotateImage(z,k,v,j,M,_,x,y),J="image/".concat(_);switch(E){case"blob":var H=c.b64toBlob(G,J);D(H);break;case"base64":D(G);break;case"file":var F=m.name.toString().replace(/(png|jpeg|jpg|webp)$/i,"").concat(_.toString()),Q=c.b64toFile(G,F,J);D(Q);break;default:D(G)}}},B.onerror=function(z){throw Error(z)}}}],p&&n(d,p),c}();const a={imageFileResizer:function(c,d,p,m,k,v,_,x,y,D){return o.createResizedImage(c,d,p,m,k,v,_,x,y,D)}};IE.exports=i})()),IE.exports}var BG=OG();const TP=Ei(BG),LG=(t,i=5*1024*1024)=>new Promise((n,o)=>{var x;const a=((x=t.type.split("/")[1])==null?void 0:x.toLowerCase())||"unknown";if(t.size<=i&&(a==="jpeg"||a==="png"||a==="webp")){console.log(` Image already optimized: ${t.size} bytes, format: ${a}`),n({blob:t,format:a==="jpeg"?"jpg":a});return}const c=t.size>i;console.log(` Processing image: ${t.size} bytes, format: ${a}, compress: ${c}`);const d=new File([t],`image.${a}`,{type:t.type});let p="JPEG",m="jpg";(a==="png"||a==="gif")&&(p="PNG",m="png");const k=c?60:75,v=c?600:800,_=setTimeout(()=>{o(new Error("Image compression timed out after 10 seconds"))},1e4);TP.imageFileResizer(d,v,v,p,k,0,y=>{clearTimeout(_),y instanceof Blob?(console.log(` Image compressed: ${t.size}  ${y.size} bytes (${((1-y.size/t.size)*100).toFixed(1)}% reduction)`),n({blob:y,format:m})):o(new Error("Compression failed - unexpected result type"))},"blob")}),PG=async(t,i,n,o=3,a=15e3)=>{const c=Hm();for(let d=1;d<=o;d++)try{const{blob:p,format:m}=await LG(t),k=`${i}_${sl()}.${m}`,v=async()=>{const y=nh(c,`materials/${n}/${k}`),D=await Nm(y,p);return{url:await lp(D.ref),path:D.ref.fullPath,filename:k,originalSize:t.size,compressedSize:p.size}},_=new Promise((y,D)=>{setTimeout(()=>D(new Error(`Upload timeout after ${a}ms`)),a)}),x=await Promise.race([v(),_]);return console.log(`Successfully uploaded image: ${x.filename} (attempt ${d})`,{originalSize:x.originalSize,compressedSize:x.compressedSize,url:x.url}),{url:x.url,path:x.path}}catch(p){const m=p instanceof Error?p.message:"Unknown error";if(console.warn(`Upload attempt ${d}/${o} failed for ${i}: ${m}`),d===o)throw console.error(`All ${o} upload attempts failed for ${i}:`,p),new Error(`Image upload failed after ${o} attempts: ${m}`);const k=Math.min(1e3*Math.pow(2,d-1),5e3);console.log(`Waiting ${k}ms before retry...`),await new Promise(v=>setTimeout(v,k))}throw new Error("Upload failed - should not reach here")},TE=t=>{const n=`
    <svg width="400" height="300" xmlns="http://www.w3.org/2000/svg">
      <rect width="100%" height="100%" fill="#f44336"/>
      <text x="50%" y="45%" font-family="Arial, sans-serif" font-size="12" fill="white" text-anchor="middle" dominant-baseline="middle">
        Upload Failed
      </text>
      <text x="50%" y="55%" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle" dominant-baseline="middle">
        ${t.replace(/[^\u0020-\u00FF]/g,"?").substring(0,30)}
      </text>
    </svg>
  `;try{return`data:image/svg+xml;base64,${btoa(n)}`}catch(o){return console.error("Failed to create fallback placeholder:",o),`data:image/svg+xml,${encodeURIComponent(n)}`}},RG=async(t,i,n,o=3)=>{const a=t.filter(m=>m.imageBlob),c=[];console.log(`Starting batch upload of ${a.length} images (batch size: ${o})`);for(let m=0;m<a.length;m+=o){const k=Math.min(m+o,a.length),v=a.slice(m,k);console.log(`Processing batch ${Math.floor(m/o)+1}/${Math.ceil(a.length/o)} (images ${m+1}-${k})`);const _=v.map(async(x,y)=>{const D=m+y;console.log(` Starting upload for image ${D+1}/${a.length} (slide ${x.slideNumber})`);try{const E=`slide_${x.slideNumber}_image_${D+1}`,j=PG(x.imageBlob,E,i,2,1e4),M=new Promise((z,G)=>{setTimeout(()=>{G(new Error(`Individual image timeout after 15 seconds for image ${D+1}`))},15e3)}),{url:B}=await Promise.race([j,M]);return console.log(` Successfully processed image ${D+1}/${a.length}`),{url:B,title:x.description||`Image from Slide ${x.slideNumber}`,originalFilename:x.filename,slideNumber:x.slideNumber,index:D}}catch(E){return console.error(` Failed to upload image ${D+1}/${a.length} from slide ${x.slideNumber}:`,E),{url:TE(x.description||`Image from Slide ${x.slideNumber}`),title:x.description||`Image from Slide ${x.slideNumber}`,originalFilename:x.filename,slideNumber:x.slideNumber,index:D}}});try{console.log(` Waiting for batch ${Math.floor(m/o)+1} to complete...`);const x=2e4,y=new Promise((E,j)=>{setTimeout(()=>{j(new Error(`Batch ${Math.floor(m/o)+1} timeout after ${x}ms`))},x)}),D=await Promise.race([Promise.allSettled(_),y]);console.log(` Batch ${Math.floor(m/o)+1} completed, processing ${D.length} results...`),D.forEach((E,j)=>{const M=m+j;if(E.status==="fulfilled")c.push(E.value),console.log(` Image ${M+1}/${a.length} uploaded successfully`);else{console.error(` Image ${M+1}/${a.length} failed:`,E.reason);const B=v[j];c.push({url:TE(B.description||`Image from Slide ${B.slideNumber}`),title:B.description||`Image from Slide ${B.slideNumber}`,originalFilename:B.filename,slideNumber:B.slideNumber})}n==null||n(M+1,a.length)})}catch(x){console.error(` Batch ${Math.floor(m/o)+1} failed or timed out:`,x),v.forEach((y,D)=>{const E=m+D;console.log(` Creating fallback for timed out image ${E+1}/${a.length}`),c.push({url:TE(y.description||`Image from Slide ${y.slideNumber}`),title:y.description||`Image from Slide ${y.slideNumber}`,originalFilename:y.filename,slideNumber:y.slideNumber}),n==null||n(E+1,a.length)})}k<a.length&&(console.log(" Waiting 1 second before next batch..."),await new Promise(x=>setTimeout(x,1e3)))}c.sort((m,k)=>(m.index||0)-(k.index||0));const d=c.filter(m=>!m.url.startsWith("data:")).length,p=c.length-d;return console.log(`Upload complete: ${d} successful, ${p} failed out of ${c.length} total`),c};class zG{constructor(i){Jt(this,"genAI");Jt(this,"model");Jt(this,"activeBlobUrls",new Set);this.genAI=new IP(i),this.model=this.genAI.getGenerativeModel({model:"gemini-1.5-pro",generationConfig:{temperature:.2,topK:3,topP:.9,maxOutputTokens:16384}})}cleanupBlobUrls(){this.activeBlobUrls.forEach(i=>{URL.revokeObjectURL(i)}),this.activeBlobUrls.clear()}createTrackedBlobUrl(i){const n=URL.createObjectURL(i);return this.activeBlobUrls.add(n),n}async processMaterialContent(i,n,o,a,c,d){if(!(i!=null&&i.trim()))throw new Error("No content provided for processing");c==null||c({stage:"analyzing",percentage:20,currentOperation:"Analyzing document structure..."});const p=i.length,m=Math.ceil(p/4);if(p>15e3||m>4e3){console.log(`Document is large (${p} chars, ~${m} tokens), using chunked processing`);const k=i.substring(0,15e3);return console.log("Truncating input to prevent AI response truncation"),this.processSingleMaterial(k+`

[Content truncated for processing]`,n,o,a,c,d)}return this.processSingleMaterial(i,n,o,a,c,d)}async processSingleMaterial(i,n,o,a,c,d){const p=this.buildMaterialAnalysisPrompt(i,n,o,a,d);c==null||c({stage:"analyzing",percentage:40,currentOperation:"Processing with AI..."});try{const v=(await(await this.model.generateContent(p)).response).text();if(!v||v.trim().length===0)throw new Error("Empty response from AI service");c==null||c({stage:"structuring",percentage:70,currentOperation:"Structuring content..."});let _=v.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();console.log("Raw response text (first 1000 chars):",v.substring(0,1e3)),console.log("Cleaned text (first 1000 chars):",_.substring(0,1e3)),_=this.repairTruncatedJSON(_);let x;try{x=JSON.parse(_)}catch(y){throw console.error("JSON parsing failed:",y),console.error("Raw response text (first 1000 chars):",v.substring(0,1e3)),console.error("Cleaned text (first 1000 chars):",_.substring(0,1e3)),new Error("AI response format invalid - unable to parse JSON")}if(!x||typeof x!="object")throw new Error("AI response is not a valid object");return c==null||c({stage:"complete",percentage:100,currentOperation:"Processing complete!"}),this.validateAndSanitizeMaterialResponse(x,n,o)}catch(m){if(console.error("Material Import AI Error:",m),c==null||c({stage:"error",percentage:0,currentOperation:`Error: ${m instanceof Error?m.message:"Unknown error"}`}),m instanceof Error){if(m.message.includes("API_KEY_INVALID")||m.message.includes("API key"))throw new Error("Invalid API key. Please check your material import API key configuration.");if(m.message.includes("RATE_LIMIT_EXCEEDED"))throw new Error("Rate limit exceeded. Please try again in a few minutes.");if(m.message.includes("SAFETY"))throw new Error("Content flagged by safety filters. Please try with different content.")}throw new Error(`Material processing failed: ${m instanceof Error?m.message:"Unknown error"}`)}}async processLargeMaterial(i,n,o,a,c){c==null||c({stage:"analyzing",percentage:10,currentOperation:"Processing large document with chunking..."});const d=this.chunkMaterialText(i);let p=null;const m=[];c==null||c({stage:"analyzing",percentage:30,currentOperation:`Processing main content (1/${d.length})...`,subSteps:{current:1,total:d.length,description:"Analyzing primary structure"}}),p=await this.processSingleMaterial(d[0],n,o,a);for(let v=1;v<d.length;v++){c==null||c({stage:"analyzing",percentage:30+40*v/d.length,currentOperation:`Processing additional content (${v+1}/${d.length})...`,subSteps:{current:v+1,total:d.length,description:"Extracting supplementary details"}});try{const _=await this.processChunkForAdditionalContent(d[v],n,o);_&&m.push(_)}catch(_){console.warn(`Failed to process chunk ${v+1}:`,_)}}c==null||c({stage:"structuring",percentage:80,currentOperation:"Merging content from all sections..."});const k=this.mergeChunkedMaterialResults(p,m);return c==null||c({stage:"complete",percentage:100,currentOperation:"Large document processing complete!"}),k}buildMaterialAnalysisPrompt(i,n,o,a,c){const d=this.getFileTypeContext(o);return`
Analyze this ${d} educational material and extract structured information for course content management.

File: ${n}
Type: ${o}

CONTENT:
${i}

${c!=null&&c.images&&c.images.length>0?`
DETECTED IMAGES:
${c.images.map((p,m)=>`${m+1}. ${p.description||`Image ${m+1}`}${p.slideNumber?` (Slide ${p.slideNumber})`:""}${p.altText?` - ${p.altText}`:""}`).join(`
`)}

CRITICAL IMAGE PLACEMENT INSTRUCTIONS:
- Each image MUST be placed in the section corresponding to its slide number
- If "Image X (Slide Y)" is detected, place it in the section created from Slide Y content
- Each image should have a unique, descriptive title based on its context
- Include slideNumber property in each image object for proper matching
- DO NOT reuse the same image in multiple sections
`:""}

Please extract and structure this content into a comprehensive educational material format. Focus on:

1. **Document Structure**: Identify main topics, subtopics, and hierarchical organization
2. **Content Quality**: Preserve important educational information and context
3. **Visual Elements**: Note references to images, diagrams, charts (even if not extractable)
4. **Links and Resources**: Extract any URLs, references, or external resources mentioned
5. **Learning Context**: Maintain educational value and logical flow

${d==="presentation slide deck"?`
SPECIAL INSTRUCTIONS FOR PRESENTATIONS:
- Each slide should become a section or subsection
- Preserve slide order and hierarchy
- Note slide titles and main content points
- Identify slide transitions and logical groupings
- Extract speaker notes or additional context if present
`:""}

Return ONLY a JSON object with this exact structure:
{
  "title": "Material title (extracted from content or filename)",
  "description": "Brief description of the material content",
  "header": {
    "title": "Introduction or Overview",
    "content": "HTML formatted introductory content"
  },
  "footer": {
    "title": "Summary or Conclusion", 
    "content": "HTML formatted concluding content"
  },
  "sections": [
    {
      "title": "Section Title",
      "content": "HTML formatted main section content",
      "subsections": [
        {
          "title": "Subsection Title",
          "content": "HTML formatted subsection content",
          "subSubsections": [
            {
              "title": "Sub-subsection Title",
              "content": "HTML formatted detailed content",
              "images": [{"url": "", "title": "Image description", "description": "Context or caption", "slideNumber": 2}],
              "links": [{"title": "Link title", "url": "URL if available", "description": "Link context"}]
            }
          ],
          "images": [{"url": "", "title": "Image description", "description": "Context or caption", "slideNumber": 3}],
          "links": [{"title": "Link title", "url": "URL if available", "description": "Link context"}]
        }
      ],
      "images": [{"url": "", "title": "Image description", "description": "Context or caption", "slideNumber": 4}],
      "links": [{"title": "Link title", "url": "URL if available", "description": "Link context"}]
    }
  ],
  "sourceInfo": {
    "fileName": "${n}",
    "fileType": "${o}",
    "extractedAt": "${new Date().toISOString()}",
    "originalFileReference": "Reference to original file for debugging"
  },
  "images": [{"url": "", "title": "Overall image description", "description": "Context", "slideNumber": 1}],
  "links": [{"title": "Overall link title", "url": "URL", "description": "Link context"}]
}

CRITICAL JSON FORMATTING RULES:
- Return ONLY valid JSON - no comments, no explanations, no additional text
- Use proper HTML tags for content formatting (<p>, <h1>-<h6>, <ul>, <ol>, <li>, <strong>, <em>, <br>)
- Preserve educational structure and hierarchy
- Create logical sections based on content organization
- For images: Use EMPTY STRINGS for URLs ("url": "") with descriptive titles, context, and slideNumber property
-- IMPORTANT: Each image object MUST include "slideNumber" property matching the source slide
-- NEVER use placeholder filenames like "placeholder_image_1.png" - always use empty strings for URLs
- For links: Extract actual URLs when present, provide context
- Complete ALL sections and subsections - do not use comments like "// ... continue"
- Ensure all JSON arrays and objects are properly closed
- Maintain educational value and readability

IMPORTANT: Your response must be complete, valid JSON that can be parsed directly. Do not include any explanatory text, comments, or incomplete sections. End your response when the JSON object is complete.
`}async processChunkForAdditionalContent(i,n,o){const a=`
Extract additional educational content from this section of the material:

File: ${n}
Type: ${o}

CONTENT:
${i}

Focus on extracting any additional sections, detailed information, or supplementary content that should be included in the educational material.

Return ONLY a JSON object with additional sections, images, or links:
{
  "sections": [...],
  "images": [...],
  "links": [...]
}
`;try{const p=(await(await this.model.generateContent(a)).response).text();if(!p||p.trim().length===0)return null;let m;try{m=this.extractValidJSON(p)}catch(k){try{m=this.fallbackJSONExtraction(p)}catch{throw k}}return JSON.parse(m)}catch(c){return console.warn("Failed to process additional content chunk:",c),null}}chunkMaterialText(i,n=25e3){const o=[],a=i.split(`
`);let c="";for(const d of a)c.length+d.length>n&&c.length>0?(o.push(c.trim()),c=d):c+=(c?`
`:"")+d;return c.trim()&&o.push(c.trim()),o.length>0?o:[i]}mergeChunkedMaterialResults(i,n){const o={...i};for(const a of n)a.sections&&Array.isArray(a.sections)&&(o.sections=[...o.sections,...a.sections]),a.images&&Array.isArray(a.images)&&(o.images=[...o.images||[],...a.images]),a.links&&Array.isArray(a.links)&&(o.links=[...o.links||[],...a.links]);return o}extractValidJSON(i){let n=i.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();n=n.replace(/\/\/.*$/gm,"").replace(/\/\*[\s\S]*?\*\//g,"");const o=n.indexOf("{");if(o===-1)throw new Error("No JSON object found in response");n=n.substring(o);let a=0,c=-1,d=!1,p=!1;for(let v=0;v<n.length;v++){const _=n[v];if(p){p=!1;continue}if(_==="\\"){p=!0;continue}if(_==='"'&&!p){d=!d;continue}if(!d){if(_==="{")a++;else if(_==="}"&&(a--,a===0)){c=v+1;break}}}if(c===-1)throw new Error("No matching closing brace found for JSON object");let m=n.substring(0,c);m=m.replace(/,(\s*[}\]])/g,"$1"),this.detectTruncatedJSON(m)&&(console.warn("Detected truncated JSON response, attempting repair"),m=this.attemptJSONRepair(m));try{return JSON.parse(m),m}catch(v){console.warn("Initial JSON parsing failed, attempting to fix common issues:",v);const _=this.attemptJSONRepair(m);try{return JSON.parse(_),_}catch(x){throw console.error("JSON repair failed:",x),new Error(`Invalid JSON structure: ${x.message}`)}}}detectTruncatedJSON(i){const n=i.trim(),o=[/"[^"]*$/,/:\s*$/,/,\s*$/,/"[a-zA-Z]+\w*$/,/[a-zA-Z]+\w*$/,/\[\s*$/,/{\s*$/];for(const c of o)if(c.test(n))return console.log(`Truncation detected: ${c.toString()}`),!0;const a=n.charAt(n.length-1);return a!=="}"&&a!=="]"?(console.log(`Truncation detected: JSON doesn't end with } or ], ends with: "${a}"`),!0):!1}detectTruncatedResponse(i){const o=i.trim().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim(),a=[/"[^"]*$/,/\w+$/,/:\s*$/,/,\s*$/,!o.endsWith("}"),!o.endsWith("]"),o.length<500];for(let c=0;c<a.length-1;c++){const d=a[c];if(d instanceof RegExp&&d.test(o))return!0}return!!(a[a.length-3]||a[a.length-2]||a[a.length-1])}attemptJSONRepair(i){let n=i;const o=n.split(`
`),a=[];for(const k of o){const v=k.trim();v.startsWith("//")||v.includes("... (Continue")||v.includes("continue structuring")||v.includes("similarly")||a.push(k)}n=a.join(`
`),n=n.replace(/,(\s*[}\]])/g,"$1");const c=(n.match(/{/g)||[]).length,d=(n.match(/}/g)||[]).length,p=(n.match(/\[/g)||[]).length,m=(n.match(/\]/g)||[]).length;for(let k=0;k<c-d;k++)n+="}";for(let k=0;k<p-m;k++)n+="]";return n}fallbackJSONExtraction(i){console.log("Attempting fallback JSON extraction...");let n=i.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();n=n.replace(/\/\/.*$/gm,"").replace(/\/\*[\s\S]*?\*\//g,"");const o=n.indexOf("{");if(o===-1)throw new Error("No JSON object found in response");n=n.substring(o);const a=[/}\s*$/m,/}\s*\n\s*[A-Z]/m,/}\s*\n\s*This/m,/}\s*\n\s*Note:/m];let c=-1;for(const p of a){const m=n.match(p);if(m&&m.index!==void 0){const k=m.index+m[0].indexOf("}")+1;(c===-1||k<c)&&(c=k)}}c>0&&(n=n.substring(0,c));const d=this.attemptJSONRepair(n);try{return JSON.parse(d),d}catch{return console.log("Attempting aggressive JSON repair..."),this.aggressiveJSONRepair(n)}}aggressiveJSONRepair(i){let n=i;const o=n.split(`
`),a=[];for(const k of o){const v=k.trim();if(v.startsWith("//")||v.includes("... (")||v.includes("continue")||v.includes("similarly")||v.includes("Remember to")||v.includes("This structure")||v.length>0&&!v.includes('"')&&!v.includes("{")&&!v.includes("}")&&!v.includes("[")&&!v.includes("]"))break;a.push(k)}n=a.join(`
`),n=n.replace(/,(\s*[}\]])/g,"$1");const c=(n.match(/{/g)||[]).length,d=(n.match(/}/g)||[]).length,p=(n.match(/\[/g)||[]).length,m=(n.match(/\]/g)||[]).length;for(let k=0;k<c-d;k++)n+=`
}`;for(let k=0;k<p-m;k++)n+=`
]`;return n=n.replace(/,(\s*[}\]])/g,"$1"),n}repairTruncatedJSON(i){let n=i;const o=n.split(`
`),a=[];for(const k of o){const v=k.trim();if(v.length===0){a.push(k);continue}if(v.match(/^"[^"]*$/)){a.push('"": ""');break}if(v.match(/:\s*"[^"]*$/)){a.push(v.replace(/:\s*"[^"]*$/,': ""'));break}if(v.match(/^[a-zA-Z]+\w*$/))break;a.push(k)}n=a.join(`
`),n=n.replace(/,(\s*[}\]])/g,"$1"),n=n.replace(/,\s*$/,"");const c=(n.match(/{/g)||[]).length,d=(n.match(/}/g)||[]).length,p=(n.match(/\[/g)||[]).length,m=(n.match(/\]/g)||[]).length;console.log(`JSON structure analysis: ${c} open braces, ${d} close braces, ${p} open brackets, ${m} close brackets`);for(let k=0;k<p-m;k++)n+=`
]`;for(let k=0;k<c-d;k++)n+=`
}`;return n=n.replace(/,(\s*[}\]])/g,"$1"),console.log("Repaired JSON (first 1000 chars):",n.substring(0,1e3)),n}getFileTypeContext(i){const n=i.toLowerCase();return n.includes("presentation")||n.includes("powerpoint")||n.includes("pptx")?"presentation slide deck":n.includes("pdf")?"PDF document":n.includes("word")||n.includes("docx")?"Word document":"document"}validateAndSanitizeMaterialResponse(i,n,o){var c,d,p,m,k;const a={title:i.title||n.replace(/\.[^/.]+$/,"")||"Untitled Material",description:i.description||"",header:{title:((c=i.header)==null?void 0:c.title)||"Introduction",content:((d=i.header)==null?void 0:d.content)||""},footer:{title:((p=i.footer)==null?void 0:p.title)||"Summary",content:((m=i.footer)==null?void 0:m.content)||""},sections:[],sourceInfo:{fileName:n,fileType:o,extractedAt:new Date().toISOString(),originalFileReference:((k=i.sourceInfo)==null?void 0:k.originalFileReference)||n},images:Array.isArray(i.images)?i.images:[],links:Array.isArray(i.links)?i.links:[]};return Array.isArray(i.sections)&&(a.sections=i.sections.map(v=>({title:v.title||"Section",content:v.content||"",subsections:Array.isArray(v.subsections)?v.subsections.map(_=>({title:_.title||"Subsection",content:_.content||"",subSubsections:Array.isArray(_.subSubsections)?_.subSubsections.map(x=>({title:x.title||"Sub-subsection",content:x.content||"",images:Array.isArray(x.images)?x.images:[],links:Array.isArray(x.links)?x.links:[]})):[],images:Array.isArray(_.images)?_.images:[],links:Array.isArray(_.links)?_.links:[]})):[],images:Array.isArray(v.images)?v.images:[],links:Array.isArray(v.links)?v.links:[]}))),a.sections.length===0&&a.sections.push({title:"Main Content",content:"Content extracted from the uploaded material.",subsections:[],images:[],links:[]}),a}convertToMaterialFormat(i,n,o,a){const c=(m,k=400,v=300)=>{const _=m.replace(/[^\u0020-\u00FF]/g,"?").substring(0,30),x=`
        <svg width="${k}" height="${v}" xmlns="http://www.w3.org/2000/svg">
          <rect width="100%" height="100%" fill="#4a90e2"/>
          <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle" dominant-baseline="middle">
            ${_}
          </text>
        </svg>
      `;try{return`data:image/svg+xml;base64,${btoa(x)}`}catch(y){return console.error("Failed to create placeholder image URL:",y),`data:image/svg+xml,${encodeURIComponent(x)}`}},d=m=>{const k=new Map;a!=null&&a.images&&a.images.forEach(y=>{y.slideNumber&&y.imageBlob&&(k.has(y.slideNumber)||k.set(y.slideNumber,[]),k.get(y.slideNumber).push(y))});const v=new Map,_=(m==null?void 0:m.map((y,D)=>{let E="";if(y.slideNumber&&k.has(y.slideNumber)){const M=k.get(y.slideNumber);v.has(y.slideNumber)||v.set(y.slideNumber,new Set);const B=v.get(y.slideNumber);let z=null;if(y.title||y.description){const G=(y.title||y.description).toLowerCase();z=M.find(J=>{const H=(J.description||"").toLowerCase();return!B.has(J.embedId||"")&&H.includes(G.split(" ")[0])})||null}if(z||(z=M.find(G=>!B.has(G.embedId||""))||null),!z&&M.length>0){const G=D%M.length;z=M[G]}z!=null&&z.imageBlob&&(z.embedId&&B.add(z.embedId),E=this.createTrackedBlobUrl(z.imageBlob),console.log(`Using extracted image blob for slide ${y.slideNumber} (${B.size}/${M.length}):`,{slideNumber:y.slideNumber,imageIndex:D,embedId:z.embedId,blobSize:z.imageBlob.size,blobType:z.imageBlob.type,matchedBy:z.description||"position"}))}E||(y.url&&y.url.trim()&&(y.url.startsWith("data:")||y.url.startsWith("http"))&&!y.url.includes("placeholder_image")?E=y.url:E=c(y.title||"Image"));const j={url:E,title:y.title||y.description||"Detected Image"};return console.log("Enhanced image (preview):",j),j}))||[],x=Array.from(k.values()).reduce((y,D)=>y+D.length,0);return console.log(`Enhanced ${_.length} images for material preview (${x} extracted images available across ${k.size} slides)`),_},p=m=>{var k;return{id:sl(),title:m.title,content:m.content,subsections:((k=m.subsections)==null?void 0:k.map(v=>{var _;return{id:sl(),title:v.title,content:v.content,subSubsections:((_=v.subSubsections)==null?void 0:_.map(x=>({id:sl(),title:x.title,content:x.content,images:d(x.images||[]),links:x.links||[]})))||[],images:d(v.images||[]),links:v.links||[]}}))||[],images:d(m.images||[]),links:m.links||[]}};return{course:n,title:i.title,header:i.header,footer:i.footer,sections:i.sections.map(p),author:o,published:!1,sourceInfo:i.sourceInfo}}async convertToMaterialFormatWithImageUpload(i,n,o,a,c,d){var y;let p=[];if(c!=null&&c.images)try{console.log(`Uploading ${c.images.length} extracted images...`),p=await RG(c.images,a,d),console.log(`Successfully uploaded ${p.length} images`)}catch(D){console.error("Failed to upload extracted images:",D)}const m=(D,E=400,j=300)=>{const M=D.substring(0,30),B=`
        <svg width="${E}" height="${j}" xmlns="http://www.w3.org/2000/svg">
          <rect width="100%" height="100%" fill="#4a90e2"/>
          <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle" dominant-baseline="middle">
            ${M}
          </text>
        </svg>
      `;return`data:image/svg+xml;base64,${btoa(B)}`},k=D=>{const E=new Map;p.forEach(B=>{B.slideNumber&&(E.has(B.slideNumber)||E.set(B.slideNumber,[]),E.get(B.slideNumber).push(B))});const j=new Set,M=(D==null?void 0:D.map((B,z)=>{let G=null;if(B.slideNumber&&E.has(B.slideNumber)){const H=E.get(B.slideNumber);if(G=H.find(F=>!j.has(F.url))||null,!G&&H.length>0){const F=z%H.length;G=H[F]}}if(!G){const H=(B.title||B.description||"").toLowerCase().split(" ");G=p.find(F=>{if(j.has(F.url))return!1;const Q=F.title.toLowerCase().split(" ");return H.some(Z=>Z.length>3&&Q.some(ae=>ae.includes(Z)))})||null}if(G||(G=p.find(H=>!j.has(H.url))||null),!G&&p.length>0){const H=z%p.length;G=p[H]}G&&j.add(G.url);const J={url:(G==null?void 0:G.url)||(B.url&&B.url.trim()?B.url:m(B.title||"Image")),title:(G==null?void 0:G.title)||B.title||B.description||"Detected Image"};return console.log("Enhanced image with upload:",{...J,url:J.url.substring(0,100)+"...",isUploaded:!!G,imageIndex:z,originalSlideNumber:B.slideNumber,matchedSlideNumber:G==null?void 0:G.slideNumber,matchStrategy:G?G.slideNumber===B.slideNumber?"slideNumber":J.title.includes(B.title||"")?"title":"sequential":"placeholder",usedCount:j.size,totalAvailable:p.length}),J}))||[];return console.log(`Enhanced ${M.length} images for material (${p.length} uploaded, ${j.size} used)`),M},v=D=>{var E;return{id:sl(),title:D.title,content:D.content,images:k(D.images||[]),links:D.links||[],subsections:((E=D.subsections)==null?void 0:E.map(_))||[]}},_=D=>{var E;return{id:sl(),title:D.title,content:D.content,images:k(D.images||[]),links:D.links||[],subSubsections:((E=D.subSubsections)==null?void 0:E.map(x))||[]}},x=D=>({id:sl(),title:D.title,content:D.content,images:k(D.images||[]),links:D.links||[]});return{course:n,title:i.title,header:i.header||{title:"",content:""},footer:i.footer||{title:"",content:""},sections:((y=i.sections)==null?void 0:y.map(v))||[],author:o,published:!1,scheduledTimestamp:null}}}let q2=null;const zD=t=>{const i=t||"AIzaSyAcb1QNEdevZFSay3ZaT9MB7xQq6f0dMh0";if(!q2&&i&&(q2=new zG(i)),!q2)throw new Error("Material Import service not initialized. Please configure VITE_GEMINI_MATERIAL_API_KEY or VITE_GEMINI_API_KEY environment variable.");return q2},FG=async t=>{try{const i=await No(()=>import("./pdf-VQKGuvxX.js"),[]),n="/nexlab";i.GlobalWorkerOptions.workerSrc=`${n}/js/pdf.worker.min.js`;const o=await t.arrayBuffer(),a=await i.getDocument({data:o}).promise,c=a.numPages;let d="";for(let p=1;p<=c;p++){const v=(await(await a.getPage(p)).getTextContent()).items.filter(_=>_&&typeof _.str=="string").map(_=>_.str).join(" ").trim();v&&(d+=v+`

`)}return{text:d.trim(),metadata:{pageCount:c,wordCount:d.trim().split(/\s+/).length,fileSize:t.size,extractionMethod:"PDF.js"}}}catch(i){throw{message:"Failed to extract text from PDF file. Please ensure the PDF contains selectable text.",code:"PDF_EXTRACTION_ERROR",originalError:i instanceof Error?i:new Error(String(i))}}},UG=async t=>{try{const i=await No(()=>import("./index-RAMQBhNX.js").then(a=>a.i),__vite__mapDeps([0,1])),n=await t.arrayBuffer(),o=await i.extractRawText({arrayBuffer:n});return o.messages&&o.messages.length>0&&console.warn("DOCX extraction warnings:",o.messages),{text:o.value.trim(),metadata:{wordCount:o.value.trim().split(/\s+/).length,fileSize:t.size,extractionMethod:"Mammoth"}}}catch(i){throw{message:"Failed to extract text from Word document. Please ensure the file is not corrupted.",code:"DOCX_EXTRACTION_ERROR",originalError:i instanceof Error?i:new Error(String(i))}}},qG=async t=>{var i,n;try{const o=(await No(async()=>{const{default:_}=await import("./index-Bwxu0dzx.js").then(x=>x.i);return{default:_}},__vite__mapDeps([2,1]))).default,a=await t.arrayBuffer(),c=new o(a);let d="",p=0;const m=[],k=Object.keys(c.files).filter(_=>_.startsWith("ppt/slides/slide")&&_.endsWith(".xml"));p=k.length;for(const _ of k)try{const x=c.files[_].asText(),y=parseInt(((i=_.match(/slide(\d+)\.xml/))==null?void 0:i[1])||"0"),D=x.matchAll(/<a:blip[^>]*r:embed="([^"]*)"[^>]*>/g);for(const M of D){const B=M[1],z=x.match(new RegExp('<p:cNvPr[^>]*name="([^"]*)"[^>]*>',"i")),G=x.match(new RegExp('<p:cNvPr[^>]*descr="([^"]*)"[^>]*>',"i")),J=x.replace(/<a:t[^>]*>(.*?)<\/a:t>/g,"$1 ").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();let H=`Image on slide ${y}`;const F=["chart","graph","diagram","figure","table","photo","image","illustration","screenshot","logo","flowchart","timeline","comparison","data","results","example","structure","process"],Q=J.toLowerCase().split(/\s+/),Z=F.filter(X=>Q.some(Y=>Y.includes(X)));if(Z.length>0)H=`${Z[0].charAt(0).toUpperCase()+Z[0].slice(1)} (Slide ${y})`;else if(J.length>0){const X=Q.slice(0,3).join(" ");X.length>5&&(H=`Image: ${X}... (Slide ${y})`)}let ae;try{const X=`ppt/slides/_rels/slide${y}.xml.rels`;if(c.files[X]){const U=c.files[X].asText().match(new RegExp(`Id="${B}"[^>]*Target="([^"]*)"`,"i"));if(U){const q=U[1],fe=q.startsWith("../")?`ppt/${q.substring(3)}`:`ppt/slides/${q}`;if(c.files[fe]){const ue=c.files[fe].asUint8Array();let de="image/jpeg";const me=fe.toLowerCase();if(me.includes(".png"))de="image/png";else if(me.includes(".gif"))de="image/gif";else if(me.includes(".bmp"))de="image/bmp";else if(me.includes(".webp"))de="image/webp";else if(me.includes(".emf")||me.includes(".wmf")){console.warn(`Skipping unsupported vector image format: ${fe}`);continue}ae=new Blob([ue],{type:de}),console.log(`Extracted image blob for slide ${y}:`,{size:ae.size,type:de,path:fe})}}}}catch(X){console.warn(`Failed to extract image blob for ${B} on slide ${y}:`,X)}m.push({slideNumber:y,description:(z==null?void 0:z[1])||H,altText:(G==null?void 0:G[1])||void 0,filename:B,embedId:B,imageBlob:ae})}const E=x.replace(/<a:t[^>]*>(.*?)<\/a:t>/g,"$1 ").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();E&&(d+=`
--- Slide ${y} ---
${E}
`);const j=m.filter(M=>M.slideNumber===y);j.length>0&&(d+=`
[IMAGES ON SLIDE ${y}]: `,j.forEach(M=>{d+=`"${M.description}"${M.altText?` (${M.altText})`:""}, `}),d=d.slice(0,-2)+`
`)}catch(x){console.warn(`Failed to extract text from ${_}:`,x)}const v=Object.keys(c.files).filter(_=>_.startsWith("ppt/notesSlides/notesSlide")&&_.endsWith(".xml"));for(const _ of v)try{const y=c.files[_].asText().replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();if(y){const D=((n=_.match(/notesSlide(\d+)\.xml/))==null?void 0:n[1])||"unknown";d+=`
--- Notes for Slide ${D} ---
${y}
`}}catch(x){console.warn(`Failed to extract notes from ${_}:`,x)}if(!d.trim())throw new Error("No text content found in PowerPoint file");return{text:d.trim(),metadata:{slideCount:p,wordCount:d.trim().split(/\s+/).length,fileSize:t.size,extractionMethod:"PizZip",images:m.length>0?m:void 0}}}catch(o){throw{message:"Failed to extract text from PowerPoint file. Please ensure the file is not corrupted and contains text content.",code:"PPTX_EXTRACTION_ERROR",originalError:o instanceof Error?o:new Error(String(o))}}},VG=async t=>{try{const i=await t.text();return{text:i.trim(),metadata:{wordCount:i.trim().split(/\s+/).length,fileSize:t.size,extractionMethod:"Native"}}}catch(i){throw{message:"Failed to extract text from text file",code:"TXT_EXTRACTION_ERROR",originalError:i instanceof Error?i:new Error(String(i))}}},MP=async t=>{if(!t)throw{message:"No file provided",code:"NO_FILE_ERROR"};const i=t.type.toLowerCase(),n=t.name.toLowerCase();try{if(i==="application/pdf"||n.endsWith(".pdf"))return await FG(t);if(i==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||n.endsWith(".docx"))return await UG(t);if(i==="application/vnd.openxmlformats-officedocument.presentationml.presentation"||n.endsWith(".pptx"))return await qG(t);if(i==="text/plain"||n.endsWith(".txt"))return await VG(t);throw{message:`Unsupported file format: ${i||"unknown"}. Supported formats: PDF (.pdf), Word (.docx), PowerPoint (.pptx), Text (.txt)`,code:"UNSUPPORTED_FORMAT_ERROR"}}catch(o){throw o&&typeof o=="object"&&"code"in o?o:{message:`Failed to extract text from ${t.name}`,code:"GENERIC_EXTRACTION_ERROR",originalError:o instanceof Error?o:new Error(String(o))}}},NP=t=>{const n=["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","text/plain"],o=[".pdf",".docx",".pptx",".txt"];if(t.size>524288e3)return{isValid:!1,error:`File size (${(t.size/1024/1024).toFixed(1)}MB) exceeds the maximum limit of 500MB.`};const a=t.type.toLowerCase(),c=t.name.toLowerCase(),d=n.includes(a),p=o.some(m=>c.endsWith(m));return!d&&!p?{isValid:!1,error:`Unsupported file format. Please upload files with extensions: ${o.join(", ")}`}:{isValid:!0}},jP=t=>{const i=t.type.toLowerCase(),n=t.name.toLowerCase();return i==="application/pdf"||n.endsWith(".pdf")?"PDF Document":i==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||n.endsWith(".docx")?"Word Document":i==="application/vnd.openxmlformats-officedocument.presentationml.presentation"||n.endsWith(".pptx")?"PowerPoint Presentation":i==="text/plain"||n.endsWith(".txt")?"Text File":"Unknown Format"},HG=t=>{const i=t.size/1048576,n=t.type.toLowerCase();let o=0;return n==="application/pdf"?o=Math.max(2,i*.5):n==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"?o=Math.max(1,i*.3):n==="application/vnd.openxmlformats-officedocument.presentationml.presentation"?o=Math.max(1.5,i*.4):o=Math.max(.5,i*.1),Math.round(o)};class $G{constructor(){Jt(this,"storage",Hm());Jt(this,"DEFAULT_CHUNK_SIZE",5*1024*1024);Jt(this,"DEFAULT_MAX_RETRIES",3);Jt(this,"DEFAULT_TIMEOUT",6e4)}async uploadLargeFile(i,n,o={}){const a=Date.now(),{chunkSize:c=this.DEFAULT_CHUNK_SIZE,maxRetries:d=this.DEFAULT_MAX_RETRIES,timeoutMs:p=this.DEFAULT_TIMEOUT,onProgress:m,onChunkComplete:k}=o,v=500*1024*1024;if(i.size>v)throw new Error(`File size (${(i.size/1024/1024).toFixed(1)}MB) exceeds maximum limit of 500MB`);if(!(i.size>c))return this.uploadStandardFile(i,n,m);console.log(` Starting chunked upload for ${i.name} (${(i.size/1024/1024).toFixed(1)}MB)`),m==null||m({stage:"preparing",percentage:0,bytesUploaded:0,totalBytes:i.size,currentOperation:"Preparing file for chunked upload..."});const x=this.createChunkMetadata(i,c),y=sl(),D=`${n}_chunks_${y}`;m==null||m({stage:"preparing",percentage:5,totalChunks:x.length,bytesUploaded:0,totalBytes:i.size,currentOperation:`Created ${x.length} chunks for upload...`});try{await this.uploadChunks(i,x,D,{maxRetries:d,timeoutMs:p,onProgress:M=>{const B=this.calculateOverallProgress(x,M);m==null||m({stage:"uploading",percentage:5+B*.85,currentChunk:M.currentChunk,totalChunks:x.length,bytesUploaded:M.bytesUploaded,totalBytes:i.size,currentOperation:M.currentOperation,estimatedTimeRemaining:this.estimateTimeRemaining(a,B)})},onChunkComplete:k}),m==null||m({stage:"assembling",percentage:90,totalChunks:x.length,bytesUploaded:i.size,totalBytes:i.size,currentOperation:"Assembling chunks into final file..."});const E=await this.assembleChunks(i,x,n,y);m==null||m({stage:"completed",percentage:100,totalChunks:x.length,bytesUploaded:i.size,totalBytes:i.size,currentOperation:"Upload completed successfully!"});const j=Date.now()-a;return console.log(` Chunked upload completed in ${(j/1e3).toFixed(1)}s`),{...E,chunks:x.length,uploadTime:j}}catch(E){throw console.error(" Chunked upload failed:",E),await this.cleanupFailedUpload(x),E}}createChunkMetadata(i,n){const o=[];let a=0;for(;a<i.size;){const c=Math.min(a+n,i.size);o.push({index:o.length,size:c-a,start:a,end:c,retries:0}),a=c}return o}async uploadChunks(i,n,o,a){const{maxRetries:c,timeoutMs:d,onProgress:p,onChunkComplete:m}=a;let k=0;const v=3;for(let _=0;_<n.length;_+=v){const y=n.slice(_,Math.min(_+v,n.length)).map(async D=>{const E=i.slice(D.start,D.end),j=`${o}/chunk_${D.index.toString().padStart(4,"0")}`;let M=null;for(let B=0;B<=c;B++)try{p==null||p({currentChunk:D.index+1,bytesUploaded:k,currentOperation:`Uploading chunk ${D.index+1}/${n.length} (attempt ${B+1})`});const z=await this.uploadSingleChunk(E,j,d);D.uploadUrl=z.url,D.uploadPath=z.path,k+=D.size,m==null||m(D.index,n.length),console.log(` Chunk ${D.index+1}/${n.length} uploaded successfully`);return}catch(z){M=z,D.retries=B+1,B<c&&(console.warn(` Chunk ${D.index+1} failed (attempt ${B+1}), retrying...`),await this.delay(Math.pow(2,B)*1e3))}throw new Error(`Failed to upload chunk ${D.index+1} after ${c+1} attempts: ${M==null?void 0:M.message}`)});await Promise.all(y),_+v<n.length&&await this.delay(500)}}async uploadSingleChunk(i,n,o){const a=nh(this.storage,n),c=async()=>{const p=await Nm(a,i);return{url:await lp(p.ref),path:p.ref.fullPath}},d=new Promise((p,m)=>{setTimeout(()=>m(new Error(`Chunk upload timeout after ${o}ms`)),o)});return Promise.race([c(),d])}async assembleChunks(i,n,o,a){const c=await this.reconstructFileFromChunks(i,n),d=nh(this.storage,o),p=await Nm(d,c),m=await lp(p.ref);return await this.cleanupChunks(n),{url:m,path:p.ref.fullPath,name:i.name,type:i.type,size:i.size,uploadedAt:new Date}}async reconstructFileFromChunks(i,n){const o=[];for(const a of n.sort((c,d)=>c.index-d.index))o.push(i.slice(a.start,a.end));return new Blob(o,{type:i.type})}async uploadStandardFile(i,n,o){const a=Date.now(),c=nh(this.storage,n);o==null||o({stage:"uploading",percentage:10,bytesUploaded:0,totalBytes:i.size,currentOperation:"Uploading file..."});const d=await Nm(c,i);o==null||o({stage:"uploading",percentage:90,bytesUploaded:i.size,totalBytes:i.size,currentOperation:"Getting download URL..."});const p=await lp(d.ref);o==null||o({stage:"completed",percentage:100,bytesUploaded:i.size,totalBytes:i.size,currentOperation:"Upload completed!"});const m=Date.now()-a;return{url:p,path:d.ref.fullPath,name:i.name,type:i.type,size:i.size,uploadedAt:new Date,chunks:1,uploadTime:m}}calculateOverallProgress(i,n){const o=i.filter(c=>c.uploadUrl).length,a=n.currentChunk?n.bytesUploaded/i.reduce((c,d)=>c+d.size,0):0;return(o+a)/i.length}estimateTimeRemaining(i,n){if(n<=0)return 0;const o=Date.now()-i,a=o/n;return Math.max(0,a-o)}async cleanupChunks(i){const n=i.filter(o=>o.uploadPath).map(async o=>{try{const a=nh(this.storage,o.uploadPath);await XL(a)}catch(a){console.warn(`Failed to cleanup chunk ${o.index}:`,a)}});await Promise.allSettled(n)}async cleanupFailedUpload(i){console.log(" Cleaning up failed chunked upload..."),await this.cleanupChunks(i)}delay(i){return new Promise(n=>setTimeout(n,i))}validateFileForChunkedUpload(i){return i.size>524288e3?{isValid:!1,error:`File size (${(i.size/1024/1024).toFixed(1)}MB) exceeds maximum limit of 500MB`}:["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword","text/plain"].includes(i.type)?{isValid:!0}:{isValid:!1,error:`Unsupported file type: ${i.type}. Supported formats: PowerPoint, PDF, Word, Text files`}}}const y8=new $G;class WG{constructor(){Jt(this,"storage",Hm())}async uploadOriginalFile(i,n,o,a){return i.size>26214400?(console.log(` File is large (${(i.size/1024/1024).toFixed(1)}MB), using chunked upload`),this.uploadOriginalFileEnhanced(i,n,o,a?d=>a(d.percentage):void 0)):this.uploadOriginalFileStandard(i,n,o,a)}async uploadOriginalFileEnhanced(i,n,o,a){const c=y8.validateFileForChunkedUpload(i);if(!c.isValid)throw new Error(c.error);const d=i.name.split(".").pop()||"",p=o||sl(),m=`${i.name.replace(/\.[^/.]+$/,"")}_${p}.${d}`,k=`original-files/${n}/${m}`;console.log(" Starting enhanced original file upload:",{fileName:m,fileSize:i.size,fileType:i.type,courseId:n,chunked:!0});try{const v=await y8.uploadLargeFile(i,k,{chunkSize:5242880,maxRetries:3,timeoutMs:6e4,onProgress:a,onChunkComplete:(x,y)=>{console.log(` Chunk ${x+1}/${y} completed`)}}),_={name:i.name,type:i.type,size:i.size,url:v.url,uploadedAt:new Date};return console.log(" Enhanced original file uploaded successfully:",{originalName:i.name,storageName:m,url:v.url,size:i.size,chunks:v.chunks,uploadTime:`${(v.uploadTime/1e3).toFixed(1)}s`}),_}catch(v){throw console.error(" Enhanced original file upload failed:",v),new Error(`Failed to upload original file: ${v instanceof Error?v.message:"Unknown error"}`)}}async uploadOriginalFileStandard(i,n,o,a){try{const c=i.name.split(".").pop()||"",d=o||sl(),p=`${i.name.replace(/\.[^/.]+$/,"")}_${d}.${c}`,m=nh(this.storage,`original-files/${n}/${p}`);console.log(" Starting original file upload:",{fileName:p,fileSize:i.size,fileType:i.type,courseId:n}),a==null||a(10);const k=await Nm(m,i);a==null||a(70);const v=await lp(k.ref);a==null||a(100);const _={name:i.name,type:i.type,size:i.size,url:v,uploadedAt:new Date};return console.log(" Original file uploaded successfully:",{originalName:i.name,storageName:p,url:v,size:i.size}),_}catch(c){throw console.error(" Original file upload failed:",c),new Error(`Failed to upload original file: ${c instanceof Error?c.message:"Unknown error"}`)}}async deleteOriginalFile(i){try{const o=new URL(i).pathname.match(/\/o\/(.+?)\?/);if(!o)throw new Error("Invalid Firebase Storage URL format");const a=decodeURIComponent(o[1]),c=nh(this.storage,a);await XL(c),console.log(" Original file deleted successfully:",a)}catch(n){console.error(" Original file deletion failed:",n),console.warn("Continuing despite file deletion failure")}}async replaceOriginalFile(i,n,o,a,c){try{return a&&await this.deleteOriginalFile(a),await this.uploadOriginalFile(i,n,o,c)}catch(d){throw console.error(" Original file replacement failed:",d),new Error(`Failed to replace original file: ${d instanceof Error?d.message:"Unknown error"}`)}}getFileExtension(i){var n;return((n=i.split(".").pop())==null?void 0:n.toLowerCase())||""}validateFile(i){return i.size>524288e3?{isValid:!1,error:`File size (${(i.size/1024/1024).toFixed(1)}MB) exceeds maximum limit of 500MB`}:["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword","text/plain"].includes(i.type)?{isValid:!0}:{isValid:!1,error:`Unsupported file type: ${i.type}. Supported formats: PowerPoint, PDF, Word, Text files`}}}const ME=new WG,A8={isProcessing:!1,progress:null,error:null,uploadedFile:null,extractedText:null,extractionResult:null,originalFileUploadProgress:null,originalFileUrl:null,aiExtractedData:null,convertedMaterial:null,processingOptions:{maxOutputTokens:4096,topK:1,topP:.1,preserveFormatting:!0,extractImages:!0,extractLinks:!0}},bb=gb()(Ak((t,i)=>({...A8,setUploadedFile:n=>{const{originalFileUrl:o}=i();o&&n&&n.name!==o&&ME.deleteOriginalFile(o).catch(a=>{console.warn("Failed to delete previous original file:",a)}),t({uploadedFile:n,extractedText:null,extractionResult:null,originalFileUploadProgress:null,originalFileUrl:null,aiExtractedData:null,convertedMaterial:null,error:null})},extractTextFromFile:async()=>{const{uploadedFile:n}=i();if(!n){t({error:"No file uploaded"});return}try{const o=NP(n);if(!o.isValid){t({error:o.error||"Invalid file"});return}}catch(o){console.error("File validation error:",o),t({error:"Failed to validate file"});return}t({isProcessing:!0,error:null,progress:{stage:"extracting",percentage:10,currentOperation:`Extracting text from ${jP(n)}...`}});try{const o=await MP(n);if(!o||!o.text||o.text.trim().length===0)throw new Error("No text content could be extracted from the file");const a=o.text.trim().split(/\s+/).length;a<5&&console.warn("Very short text extracted:",{wordCount:a,text:o.text.substring(0,100)}),t({extractedText:o.text,extractionResult:o,progress:{stage:"extracting",percentage:100,currentOperation:"Text extraction complete!"}}),setTimeout(()=>{t({isProcessing:!1,progress:null})},500)}catch(o){console.error("Text extraction error:",o);const a=o;let c="Failed to extract text from file";a.code==="PDF_EXTRACTION_ERROR"?c="Could not extract text from PDF. The file may be image-based or corrupted.":a.code==="DOCX_EXTRACTION_ERROR"?c="Could not extract text from Word document. Please check the file is not corrupted.":a.code==="PPTX_EXTRACTION_ERROR"?c="Could not extract text from PowerPoint presentation. Please ensure it contains text content.":a.message&&(c=a.message),t({error:c,isProcessing:!1,progress:null})}},processWithAI:async(n,o,a)=>{var v;const{uploadedFile:c,extractedText:d,extractionResult:p,processingOptions:m}=i();if(!(n!=null&&n.trim())){t({error:"Course ID is required for AI processing"});return}if(!(o!=null&&o.trim())){t({error:"Author ID is required for AI processing"});return}if(!c||!(d!=null&&d.trim())){t({error:"No file or extracted text available for AI processing"});return}const k=d.trim().split(/\s+/).length;if(k<10){t({error:"Extracted text is too short for meaningful AI processing (minimum 10 words required)"});return}k>5e4&&console.warn("Very large text content detected:",{wordCount:k,fileName:c.name}),t({isProcessing:!0,error:null,progress:{stage:"analyzing",percentage:0,currentOperation:"Initializing AI processing..."}});try{let _;try{_=zD(a)}catch(M){console.error("Service initialization error:",M);let B="Material import service not available.";M instanceof Error&&(M.message.includes("API key")?B="API key not configured. Please set VITE_GEMINI_MATERIAL_API_KEY or VITE_GEMINI_API_KEY environment variable.":B=`Service error: ${M.message}`),t({error:B,isProcessing:!1,progress:null});return}const x={maxOutputTokens:Math.min(Math.max(m.maxOutputTokens||16384,8192),32768),topK:Math.min(Math.max(m.topK||3,1),10),topP:Math.min(Math.max(m.topP||.9,.1),1),preserveFormatting:!!m.preserveFormatting,extractImages:!!m.extractImages,extractLinks:!!m.extractLinks},y=12e4,D=new Promise((M,B)=>{setTimeout(()=>B(new Error("AI processing timeout - please try with a smaller file")),y)}),E=await Promise.race([_.processMaterialContent(d,c.name,c.type,x,M=>{M&&typeof M=="object"&&t({progress:M})},p==null?void 0:p.metadata),D]);if(!E||typeof E!="object")throw new Error("Invalid AI processing result received");(v=E.title)!=null&&v.trim()||(console.warn("AI result missing title, using filename as fallback"),E.title=c.name.replace(/\.[^/.]+$/,"")||"Untitled Material"),(!E.sections||!Array.isArray(E.sections)||E.sections.length===0)&&(console.warn("AI result missing sections, creating default section"),E.sections=[{title:"Main Content",content:"Content extracted from uploaded material.",subsections:[],images:[],links:[]}]);const j=_.convertToMaterialFormat(E,n,o,p==null?void 0:p.metadata);t({aiExtractedData:E,convertedMaterial:j,isProcessing:!1,progress:{stage:"complete",percentage:100,currentOperation:"Material processing complete!"}}),setTimeout(()=>{t({progress:null})},1500)}catch(_){console.error("AI processing error:",_);let x="Failed to process material with AI";_ instanceof Error&&(_.message.includes("timeout")?x="AI processing timed out. Please try with a smaller file or simpler content.":_.message.includes("API key")||_.message.includes("API_KEY_INVALID")?x="Invalid API key. Please check your API key configuration.":_.message.includes("RATE_LIMIT")||_.message.includes("rate limit")?x="API rate limit exceeded. Please wait a few minutes before trying again.":_.message.includes("SAFETY")||_.message.includes("safety")?x="Content flagged by safety filters. Please try with different content.":_.message.includes("network")||_.message.includes("fetch")?x="Network error. Please check your internet connection and try again.":x=`AI processing failed: ${_.message}`),t({error:x,isProcessing:!1,progress:null})}},uploadOriginalFile:async(n,o)=>{const{uploadedFile:a}=i();if(!a){t({error:"No file selected for upload"});return}try{t({originalFileUploadProgress:0,error:null});const c=a.size>25*1024*1024,d=(a.size/1024/1024).toFixed(1);console.log(` Starting original file upload to Firebase Storage... (${d}MB, ${c?"chunked":"standard"} upload)`);const p=await ME.uploadOriginalFile(a,n,o,m=>{t({originalFileUploadProgress:m})});t({originalFileUrl:p.url,originalFileUploadProgress:null}),console.log(" Original file uploaded successfully:",{url:p.url,size:`${d}MB`,method:c?"chunked":"standard"})}catch(c){throw console.error(" Original file upload failed:",c),t({error:c instanceof Error?c.message:"Failed to upload original file",originalFileUploadProgress:null}),c}},replaceOriginalFile:async(n,o,a)=>{const{uploadedFile:c}=i();if(!c){t({error:"No file selected for replacement"});return}try{t({originalFileUploadProgress:0,error:null}),console.log(" Replacing original file in Firebase Storage...");const d=await ME.replaceOriginalFile(c,n,o,a,p=>{t({originalFileUploadProgress:p})});t({originalFileUrl:d.url,originalFileUploadProgress:null}),console.log(" Original file replaced successfully:",d.url)}catch(d){throw console.error(" Original file replacement failed:",d),t({error:d instanceof Error?d.message:"Failed to replace original file",originalFileUploadProgress:null}),d}},resetImport:()=>{try{zD().cleanupBlobUrls()}catch(n){console.warn("Failed to cleanup blob URLs during reset:",n)}t(A8)},setProcessingOptions:n=>{t(o=>({processingOptions:{...o.processingOptions,...n}}))},setError:n=>{t({error:n})}}),{name:"material-import-store",partialize:t=>({processingOptions:t.processingOptions})})),GG=()=>{const t=bb();return{setUploadedFile:t.setUploadedFile,extractTextFromFile:t.extractTextFromFile,processWithAI:t.processWithAI,resetImport:t.resetImport,setProcessingOptions:t.setProcessingOptions,setError:t.setError}},YG=()=>{const t=bb();return{isProcessing:t.isProcessing,progress:t.progress,error:t.error,uploadedFile:t.uploadedFile,extractedText:t.extractedText,aiExtractedData:t.aiExtractedData,convertedMaterial:t.convertedMaterial,processingOptions:t.processingOptions}},FD=async(t,i,n,o)=>{const a=bb.getState(),{aiExtractedData:c,extractionResult:d}=a;if(!c)throw new Error("No AI result available for conversion");return await zD().convertToMaterialFormatWithImageUpload(c,t,i,n,d==null?void 0:d.metadata,o)},KG=()=>{const{extractedText:t,isProcessing:i}=bb();return!i&&!!(t!=null&&t.trim())},QG=()=>{const{convertedMaterial:t,isProcessing:i}=bb();return!i&&!!t},xbe=Object.freeze(Object.defineProperty({__proto__:null,convertMaterialWithImageUpload:FD,useIsImportComplete:QG,useIsReadyForAI:KG,useMaterialImportActions:GG,useMaterialImportStatus:YG,useMaterialImportStore:bb},Symbol.toStringTag,{value:"Module"}));var Lv={},_8;function ZG(){if(_8)return Lv;_8=1;var t=ws();Object.defineProperty(Lv,"__esModule",{value:!0}),Lv.default=void 0;var i=t(ys()),n=vs();return Lv.default=(0,i.default)((0,n.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save"),Lv}var JG=ZG();const NE=Ei(JG),jE=({onDelete:t,itemType:i})=>{const[n,o]=vt.useState(!1),a=()=>{o(!0)},c=()=>{o(!1)},d=()=>{t(),c()};return w.jsxs(w.Fragment,{children:[w.jsx(Gn,{onClick:a,size:"small",children:w.jsx(_k,{})}),w.jsxs(Oo,{open:n,onClose:c,children:[w.jsx(ts,{children:`Delete ${i}`}),w.jsx(Bo,{children:w.jsx(bc,{children:`Are you sure you want to delete this ${i}? This action cannot be undone.`})}),w.jsxs(ns,{children:[w.jsx(Ct,{onClick:c,color:"primary",children:"Cancel"}),w.jsx(Ct,{onClick:d,color:"secondary",children:"Delete"})]})]})]})};var Pv={},C8;function XG(){if(C8)return Pv;C8=1;var t=ws();Object.defineProperty(Pv,"__esModule",{value:!0}),Pv.default=void 0;var i=t(ys()),n=vs();return Pv.default=(0,i.default)((0,n.jsx)("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess"),Pv}var eY=XG();const x8=Ei(eY),OP=({sections:t,selected:i,onAddSection:n,onAddSubsection:o,onAddSubSubsection:a,onSelectSection:c,onUpdateSectionTitle:d,onUpdateSubsectionTitle:p,onUpdateSubSubsectionTitle:m,onDeleteSection:k,onDeleteSubsection:v,onDeleteSubSubsection:_,isViewMode:x})=>{const[y,D]=se.useState(null),[E,j]=se.useState(null),[M,B]=se.useState(null),[z,G]=se.useState(""),[J,H]=se.useState(t.map(()=>!0)),[F,Q]=se.useState(t.reduce((de,me,Me)=>(de[Me]=me.subsections.map(()=>!0),de),{}));se.useEffect(()=>{H(t.map(()=>!0))},[t]),se.useEffect(()=>{const de=t.reduce((me,Me,ce)=>(me[ce]=Me.subsections.map(()=>!0),me),{});Q(de)},[t]);const Z=de=>{const me=[...J];me[de]=!me[de],H(me)},ae=(de,me)=>{const Me={...F};Me[de][me]=!Me[de][me],Q(Me)},X=(de,me)=>{y!==null?d(y,z):E?p(E.section,E.subsection,z):M&&m(M.section,M.subsection,M.subSubsection,z),D(de),j(null),B(null),G(me)},Y=de=>{d(de,z),D(null),G("")},U=(de,me,Me)=>{y!==null?d(y,z):E?p(E.section,E.subsection,z):M&&m(M.section,M.subsection,M.subSubsection,z),D(null),j({section:de,subsection:me}),B(null),G(Me)},q=(de,me)=>{p(de,me,z),j(null),G("")},fe=(de,me,Me,ce)=>{y!==null?d(y,z):E?p(E.section,E.subsection,z):M&&m(M.section,M.subsection,M.subSubsection,z),D(null),j(null),B({section:de,subsection:me,subSubsection:Me}),G(ce)},ue=(de,me,Me)=>{m(de,me,Me,z),B(null),G("")};return w.jsxs(Ne,{sx:{width:"450px",borderRight:"1px solid #ddd",padding:2},children:[w.jsx(xe,{variant:"h6",sx:{fontWeight:"bold",mb:2},children:"Outline"}),!x&&w.jsx(Ct,{variant:"contained",color:"primary",onClick:n,sx:{mb:2},children:"+ Add Section"}),w.jsxs(lx,{children:[w.jsx(Y0,{component:"div",onClick:()=>c("header"),sx:{backgroundColor:i.type==="header"?"lightgray":"transparent",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:w.jsx(Wg,{primary:"Header"})}),t.map((de,me)=>w.jsxs(Ne,{children:[w.jsxs(Y0,{component:"div",onClick:()=>c(me),sx:{backgroundColor:i.sectionIndex===me&&i.subsectionIndex===void 0?"lightgray":"transparent",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:[y===me?w.jsxs(w.Fragment,{children:[w.jsx(yn,{value:z,onChange:Me=>G(Me.target.value),size:"small",sx:{mr:1},disabled:x}),!x&&w.jsx(Gn,{onClick:()=>Y(me),size:"small",children:w.jsx(NE,{})})]}):w.jsxs(w.Fragment,{children:[w.jsx(Wg,{primary:de.title}),!x&&w.jsxs(w.Fragment,{children:[w.jsx(Gn,{onClick:()=>X(me,de.title),size:"small",children:w.jsx(_y,{})}),w.jsx(jE,{onDelete:()=>k(me),itemType:"section"})]})]}),de.subsections.length>0&&w.jsx(Gn,{onClick:()=>Z(me),sx:{"&:hover":{backgroundColor:"transparent"},"&:active":{backgroundColor:"transparent"},width:"24px",height:"24px"},children:J[me]?w.jsx(x8,{sx:{fontSize:"20px"}}):w.jsx(Rx,{sx:{fontSize:"20px"}})}),!x&&w.jsx(Ct,{variant:"text",onClick:()=>o(me),size:"small",children:"+ Add Subsection"})]}),J[me]&&w.jsx(lx,{sx:{pl:4},children:de.subsections.map((Me,ce)=>w.jsxs(Ne,{children:[w.jsxs(Y0,{component:"div",onClick:()=>c(me,ce),sx:{backgroundColor:i.sectionIndex===me&&i.subsectionIndex===ce&&i.subSubsectionIndex===void 0?"lightgray":"transparent",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:[E&&E.section===me&&E.subsection===ce?w.jsxs(w.Fragment,{children:[w.jsx(yn,{value:z,onChange:Ie=>G(Ie.target.value),size:"small",sx:{mr:1},disabled:x}),!x&&w.jsx(Gn,{onClick:()=>q(me,ce),size:"small",children:w.jsx(NE,{})})]}):w.jsxs(w.Fragment,{children:[w.jsx(Wg,{primary:Me.title}),!x&&w.jsxs(w.Fragment,{children:[w.jsx(Gn,{onClick:()=>U(me,ce,Me.title),size:"small",children:w.jsx(_y,{})}),w.jsx(jE,{onDelete:()=>v(me,ce),itemType:"subsection"})]})]}),Me.subSubsections.length>0&&w.jsx(Gn,{onClick:()=>ae(me,ce),sx:{"&:hover":{backgroundColor:"transparent"},"&:active":{backgroundColor:"transparent"},width:"24px",height:"24px"},children:F[me][ce]?w.jsx(x8,{sx:{fontSize:"20px"}}):w.jsx(Rx,{sx:{fontSize:"20px"}})}),!x&&w.jsx(Ct,{variant:"text",onClick:()=>a(me,ce),size:"small",children:"+ Add Sub-Subsection"})]}),F[me][ce]&&w.jsx(lx,{sx:{pl:4},children:Me.subSubsections.map((Ie,re)=>w.jsx(Y0,{component:"div",onClick:()=>c(me,ce,re),sx:{backgroundColor:i.sectionIndex===me&&i.subsectionIndex===ce&&i.subSubsectionIndex===re?"lightgray":"transparent",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:M&&M.section===me&&M.subsection===ce&&M.subSubsection===re?w.jsxs(w.Fragment,{children:[w.jsx(yn,{value:z,onChange:te=>G(te.target.value),size:"small",sx:{mr:1},disabled:x}),!x&&w.jsx(Gn,{onClick:()=>ue(me,ce,re),size:"small",children:w.jsx(NE,{})})]}):w.jsxs(w.Fragment,{children:[w.jsx(Wg,{primary:Ie.title}),!x&&w.jsxs(w.Fragment,{children:[w.jsx(Gn,{onClick:()=>fe(me,ce,re,Ie.title),size:"small",children:w.jsx(_y,{})}),w.jsx(jE,{onDelete:()=>_(me,ce,re),itemType:"subSubsection"})]})]})},Ie.id))})]},Me.id))})]},de.id)),w.jsx(Y0,{component:"div",onClick:()=>c("footer"),sx:{backgroundColor:i.type==="footer"?"lightgray":"transparent",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:w.jsx(Wg,{primary:"Footer"})})]})]})};var Rv={},S8;function tY(){if(S8)return Rv;S8=1;var t=ws();Object.defineProperty(Rv,"__esModule",{value:!0}),Rv.default=void 0;var i=t(ys()),n=vs();return Rv.default=(0,i.default)((0,n.jsx)("path",{d:"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),"ArrowBackIos"),Rv}var nY=tY();const BP=Ei(nY);var zv={},E8;function rY(){if(E8)return zv;E8=1;var t=ws();Object.defineProperty(zv,"__esModule",{value:!0}),zv.default=void 0;var i=t(ys()),n=vs();return zv.default=(0,i.default)((0,n.jsx)("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}),"ArrowForwardIos"),zv}var iY=rY();const LP=Ei(iY),PP=({returnToSelection:t=!1})=>{const i=ao(),[n]=oA(),o=n.get("course"),a=()=>{i(t||!o?"/supplemental-materials":`/supplemental-materials?course=${o}`)};return w.jsx(Ct,{variant:"text",color:"primary",startIcon:w.jsx(wP,{}),onClick:a,className:"supplemental-back-button",children:t?"Course Selection":"Course Materials"})};var Fv={},D8;function oY(){if(D8)return Fv;D8=1;var t=ws();Object.defineProperty(Fv,"__esModule",{value:!0}),Fv.default=void 0;var i=t(ys()),n=vs();return Fv.default=(0,i.default)((0,n.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Image"),Fv}var sY=oY();const aY=Ei(sY),lY=({sectionId:t,onImagesUploaded:i})=>{const[n,o]=se.useState(!1),[a,c]=se.useState(""),[d,p]=se.useState("success"),m=Hm(),k=async x=>{if(x.target.files){const y=Array.from(x.target.files),D=[];for(const E of y)try{const j=await v(E),M=await _(j);D.push({url:M.url,title:`Image ${sl()}`})}catch{c("Failed to upload images"),p("error"),o(!0)}i(D),c("Image(s) uploaded successfully"),p("success"),o(!0)}},v=x=>new Promise((y,D)=>{x.size>5*1024*1024?TP.imageFileResizer(x,500,500,"JPEG",70,0,E=>{typeof E=="string"?D(new Error("Compression returned a string instead of a file")):y(E)},"file"):y(x)}),_=x=>new Promise((y,D)=>{const E=nh(m,`materials/${t}/${x.name}`);Nm(E,x).then(j=>{lp(j.ref).then(M=>{y({url:M,path:j.ref.fullPath})})}).catch(j=>D(j))});return w.jsxs(Ne,{children:[w.jsxs(Ne,{sx:{mt:2,display:"flex",alignItems:"center"},children:[w.jsx(aY,{sx:{mr:1}}),w.jsx(xe,{variant:"h6",children:"Images"})]}),w.jsxs(Ne,{sx:{mt:2},children:[w.jsxs(Ct,{variant:"contained",component:"label",color:"primary",children:["Add Image",w.jsx("input",{type:"file",hidden:!0,accept:"image/*",multiple:!0,onChange:k})]}),w.jsx(Nl,{open:n,autoHideDuration:6e3,onClose:()=>o(!1),children:w.jsx(Rr,{onClose:()=>o(!1),severity:d,sx:{width:"100%"},children:a})})]})]})},cY=({imageTitle:t,onTitleChange:i})=>w.jsx(yn,{variant:"outlined",fullWidth:!0,value:t,onChange:n=>i(n.target.value),placeholder:"Image Title",sx:{mt:1}});var Uv={},I8;function uY(){if(I8)return Uv;I8=1;var t=ws();Object.defineProperty(Uv,"__esModule",{value:!0}),Uv.default=void 0;var i=t(ys()),n=vs();return Uv.default=(0,i.default)((0,n.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link"),Uv}var dY=uY();const hY=Ei(dY),fY=({links:t,onLinksChange:i})=>{const n=()=>{const a={title:"",url:"",description:""};i([...t,a])},o=a=>{const c=t.filter((d,p)=>p!==a);i(c)};return w.jsxs(Ne,{children:[w.jsxs(Ne,{sx:{mt:2,display:"flex",alignItems:"center"},children:[w.jsx(hY,{sx:{mr:1}}),w.jsx(xe,{variant:"h6",children:"Links"})]}),w.jsx(Ne,{sx:{mt:1},children:t.map((a,c)=>w.jsxs(Ne,{sx:{display:"flex",alignItems:"center",mb:1},children:[w.jsx(yn,{label:"Title",value:a.title,onChange:d=>{const p=[...t];p[c].title=d.target.value,i(p)},sx:{flexBasis:"20%",mr:1}}),w.jsx(yn,{label:"URL",value:a.url,onChange:d=>{const p=[...t];p[c].url=d.target.value,i(p)},sx:{flexBasis:"40%",mr:1}}),w.jsx(yn,{label:"Description",value:a.description,onChange:d=>{const p=[...t];p[c].description=d.target.value,i(p)},sx:{flexBasis:"40%"}}),w.jsx(Gn,{onClick:()=>o(c),children:w.jsx(_k,{})})]},c))}),w.jsx(Ct,{variant:"contained",onClick:n,sx:{mt:2},children:"Add Link"})]})};/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function pY(){const t={resolve:null,promise:null};return t.promise=new Promise(i=>{t.resolve=i}),t}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function mY(t){let i=null;return(...n)=>(i||(i={current:t(...n)}),i.current)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Xa=new Array(256).fill("").map((t,i)=>("0"+i.toString(16)).slice(-2));function gY(){const[t,i,n,o]=crypto.getRandomValues(new Uint32Array(4));return"e"+Xa[t>>0&255]+Xa[t>>8&255]+Xa[t>>16&255]+Xa[t>>24&255]+Xa[i>>0&255]+Xa[i>>8&255]+Xa[i>>16&255]+Xa[i>>24&255]+Xa[n>>0&255]+Xa[n>>8&255]+Xa[n>>16&255]+Xa[n>>24&255]+Xa[o>>0&255]+Xa[o>>8&255]+Xa[o>>16&255]+Xa[o>>24&255]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function bY(t,i){const n=t.extraPlugins||[];return{...t,extraPlugins:[...n,...i.filter(o=>!n.includes(o))]}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function RP(t){return!!t&&/^\d+\.\d+\.\d+/.test(t)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function zP(t){return t?["nightly","alpha","internal","nightly-","staging"].some(i=>t.includes(i)):!1}function kY(t){return RP(t)||zP(t)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function wY(t){if(!RP(t))throw new Error(`Invalid semantic version: ${t||"<blank>"}.`);const[i,n,o]=t.split(".");return{major:Number.parseInt(i,10),minor:Number.parseInt(n,10),patch:Number.parseInt(o,10)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function vY(t){if(zP(t))return 3;const{major:i}=wY(t);switch(!0){case i>=44:return 3;case i>=38:return 2;default:return 1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function yY(){const{CKEDITOR_VERSION:t,CKEDITOR:i}=window;return kY(t)?{source:i?"cdn":"npm",version:t}:null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function AY(){const t=yY();return t?vY(t.version):null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function FP(t,i){switch(i||(i=AY()||void 0),i){case 1:case 2:return t===void 0;case 3:return t==="GPL";default:return!1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function _Y(t,i){return function(o){FP(o.config.get("licenseKey"))||o.on("collectUsageData",(a,{setUsageData:c})=>{c(`integration.${t}`,i)})}}var CY=Object.defineProperty,xY=(t,i,n)=>i in t?CY(t,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[i]=n,cc=(t,i,n)=>xY(t,typeof i!="symbol"?i+"":i,n);/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const UP=class qP{constructor(i,n){cc(this,"_lifecycle"),cc(this,"_element"),cc(this,"_releaseLock",null),cc(this,"_value",null),cc(this,"_afterMountCallbacks",[]),cc(this,"_state",{destroyedBeforeInitialization:!1,mountingInProgress:null}),cc(this,"release",mY(()=>{const{_releaseLock:o,_state:a,_element:c,_lifecycle:d}=this;a.mountingInProgress?a.mountingInProgress.then(()=>d.unmount({element:c,mountResult:this.value})).catch(p=>{console.error("CKEditor unmounting error:",p)}).then(o.resolve).then(()=>{this._value=null}):(a.destroyedBeforeInitialization=!0,o.resolve())})),this._element=i,this._lifecycle=n,this._lock()}get value(){return this._value}discard(){this._value=null,this._releaseLock=null,this._afterMountCallbacks=[],this._state={destroyedBeforeInitialization:!1,mountingInProgress:null}}unsafeSetValue(i){this._value=i,this._afterMountCallbacks.forEach(n=>{this._lifecycle.isValueValid&&!this._lifecycle.isValueValid(i)||n(i)}),this._afterMountCallbacks=[]}runAfterMount(i){const{_value:n,_afterMountCallbacks:o}=this;if(n){if(this._lifecycle.isValueValid&&!this._lifecycle.isValueValid(n))return;i(n)}else o.push(i)}_lock(){const{_semaphores:i}=qP,{_state:n,_element:o,_lifecycle:a}=this,c=i.get(o)||Promise.resolve(null),d=pY();this._releaseLock=d;const p=c.then(()=>n.destroyedBeforeInitialization?Promise.resolve(void 0):(n.mountingInProgress=a.mount().then(m=>(m&&this.unsafeSetValue(m),m)),n.mountingInProgress)).then(async m=>{m&&a.afterMount&&await a.afterMount({element:o,mountResult:m})}).then(()=>d.promise).catch(m=>{console.error("CKEditor mounting error:",m)}).then(()=>{i.get(o)===p&&i.delete(o)});i.set(o,p)}};cc(UP,"_semaphores",new Map);let SY=UP;/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const EY="$__CKEditorReactContextMetadata";function DY(t,i){return{...i,[EY]:t}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const IY=vt.createContext(null),TY=t=>!!t&&typeof t=="object"&&"status"in t&&["initializing","initialized","error"].includes(t.status),VP=t=>i=>TY(i)&&i.status===t,T8=VP("initializing"),MY=t=>VP("initialized")(t)&&t.watchdog.state==="ready";/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const NY=_Y("react",{version:"11.0.0",frameworkVersion:vt.version});/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function jY(t){return FP(t.licenseKey)?t:bY(t,[NY])}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const OE="Lock from React integration (@ckeditor/ckeditor5-react)";class J6 extends vt.Component{constructor(i){super(i),cc(this,"domContainer",vt.createRef()),cc(this,"editorSemaphore",null),this._checkVersion()}_checkVersion(){const{CKEDITOR_VERSION:i}=window;if(!i)return console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.');const[n]=i.split(".").map(Number);n>=42||i.startsWith("0.0.0")||console.warn("The <CKEditor> component requires using CKEditor 5 in version 42+ or nightly build.")}get _semaphoreValue(){const{editorSemaphore:i}=this;return i?i.value:null}get watchdog(){const{_semaphoreValue:i}=this;return i?i.watchdog:null}get editor(){const{_semaphoreValue:i}=this;return i?i.instance:null}shouldComponentUpdate(i){const{props:n,editorSemaphore:o}=this;return i.id!==n.id||i.disableWatchdog!==n.disableWatchdog?!0:(o&&(o.runAfterMount(({instance:a})=>{this._shouldUpdateEditorData(n,i,a)&&a.data.set(i.data)}),"disabled"in i&&o.runAfterMount(({instance:a})=>{i.disabled?a.enableReadOnlyMode(OE):a.disableReadOnlyMode(OE)})),!1)}componentDidMount(){T8(this.context)||this._initLifeCycleSemaphore()}componentDidUpdate(){T8(this.context)||this._initLifeCycleSemaphore()}componentWillUnmount(){this._unlockLifeCycleSemaphore()}_unlockLifeCycleSemaphore(){this.editorSemaphore&&(this.editorSemaphore.release(),this.editorSemaphore=null)}_initLifeCycleSemaphore(){this._unlockLifeCycleSemaphore(),this.editorSemaphore=new SY(this.domContainer.current,{isValueValid:i=>i&&!!i.instance,mount:async()=>{var i,n;try{return await this._initializeEditor()}catch(o){throw(n=(i=this.props).onError)==null||n.call(i,o,{phase:"initialization",willEditorRestart:!1}),o}},afterMount:({mountResult:i})=>{const{onReady:n}=this.props;n&&this.domContainer.current!==null&&n(i.instance)},unmount:async({element:i,mountResult:n})=>{const{onAfterDestroy:o}=this.props;try{await this._destroyEditor(n),i.innerHTML=""}finally{o&&o(n.instance)}}})}render(){return vt.createElement("div",{ref:this.domContainer})}async _initializeEditor(){if(this.props.disableWatchdog)return{instance:await this._createEditor(this.domContainer.current,this._getConfig()),watchdog:null};const i=MY(this.context)?new OY(this.context.watchdog):new this.props.editor.EditorWatchdog(this.props.editor,this.props.watchdogConfig),n={current:0};return i.setCreator(async(o,a)=>{var c;const{editorSemaphore:d}=this,{onAfterDestroy:p}=this.props;n.current>0&&p&&((c=d==null?void 0:d.value)!=null&&c.instance)&&p(d.value.instance);const m=await this._createEditor(o,a);return d&&n.current>0&&(d.unsafeSetValue({instance:m,watchdog:i}),setTimeout(()=>{this.props.onReady&&this.props.onReady(i.editor)})),n.current++,m}),i.on("error",(o,{error:a,causesRestart:c})=>{(this.props.onError||console.error)(a,{phase:"runtime",willEditorRestart:c})}),await i.create(this.domContainer.current,this._getConfig()),{watchdog:i,instance:i.editor}}_createEditor(i,n){const{contextItemMetadata:o}=this.props;return o&&(n=DY(o,n)),this.props.editor.create(i,jY(n)).then(a=>{if("disabled"in this.props){/* istanbul ignore else -- @preserve */this.props.disabled&&a.enableReadOnlyMode(OE)}const c=a.model.document,d=a.editing.view.document;return c.on("change:data",p=>{/* istanbul ignore else -- @preserve */this.props.onChange&&this.props.onChange(p,a)}),d.on("focus",p=>{/* istanbul ignore else -- @preserve */this.props.onFocus&&this.props.onFocus(p,a)}),d.on("blur",p=>{/* istanbul ignore else -- @preserve */this.props.onBlur&&this.props.onBlur(p,a)}),a})}async _destroyEditor(i){const{watchdog:n,instance:o}=i;return new Promise((a,c)=>{/* istanbul ignore next -- @preserve */setTimeout(async()=>{try{if(n)return await n.destroy(),a();if(o)return await o.destroy(),a();a()}catch(d){console.error(d),c(d)}})})}_shouldUpdateEditorData(i,n,o){return!(i.data===n.data||o.data.get()===n.data)}_getConfig(){const i=this.props.config||{};return this.props.data&&i.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...i,initialData:i.initialData||this.props.data||""}}}cc(J6,"contextType",IY);class OY{constructor(i){cc(this,"_contextWatchdog"),cc(this,"_id"),cc(this,"_creator"),this._contextWatchdog=i,this._id=gY()}setCreator(i){this._creator=i}create(i,n){return this._contextWatchdog.add({sourceElementOrData:i,config:n,creator:this._creator,id:this._id,type:"editor"})}on(i,n){this._contextWatchdog.on("itemError",(o,{itemId:a,error:c})=>{a===this._id&&n(null,{error:c,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function HP(...t){return i=>{t.forEach(n=>{typeof n=="function"?n(i):n!=null&&(n.current=i)})}}const BY=se.memo(se.forwardRef(({id:t,semaphore:i,rootName:n},o)=>{const a=se.useRef(null);return se.useEffect(()=>{let c,d;return i.runAfterMount(({instance:p})=>{if(!a.current)return;d=p;const{ui:m,model:k}=d,v=k.document.getRoot(n);v&&d.ui.getEditableElement(n)&&d.detachEditable(v),c=m.view.createEditable(n,a.current),m.addEditable(c),p.editing.view.forceRender()}),()=>{/* istanbul ignore next -- @preserve: It depends on the version of the React and may not happen all of the times. */if(d&&d.state!=="destroyed"&&a.current){const p=d.model.document.getRoot(n);/* istanbul ignore else -- @preserve */p&&d.detachEditable(p)}}},[i.revision]),vt.createElement("div",{key:i.revision,id:t,ref:HP(o,a)})}));BY.displayName="EditorEditable";const LY=se.forwardRef(({editor:t},i)=>{const n=se.useRef(null);return se.useEffect(()=>{const o=n.current;if(!t||!o)return;const a=t.ui.view.toolbar.element;return o.appendChild(a),()=>{o.contains(a)&&o.removeChild(a)}},[t&&t.id]),vt.createElement("div",{ref:HP(n,i)})});LY.displayName="EditorToolbarWrapper";var wy={exports:{}};wy.exports;var M8;function PY(){return M8||(M8=1,function(t,i){(function(n){const o=n.en=n.en||{};o.dictionary=Object.assign(o.dictionary||{},{"(may require <kbd>Fn</kbd>)":"(may require <kbd>Fn</kbd>)","%0 of %1":"%0 of %1",Accept:"Accept",Accessibility:"Accessibility","Accessibility help":"Accessibility help","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background","Below, you can find a list of keyboard shortcuts that can be used in the editor.":"Below, you can find a list of keyboard shortcuts that can be used in the editor.",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Bold text":"Bold text",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cannot access default workspace.":"Cannot access default workspace.","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Clear:"Clear","Click to edit block":"Click to edit block",Close:"Close","Close contextual balloons, dropdowns, and dialogs":"Close contextual balloons, dropdowns, and dialogs",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column","Content editing keystrokes":"Content editing keystrokes","Copy selected content":"Copy selected content","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Create link":"Create link",Custom:"Custom","Custom image size":"Custom image size",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Decrease list item indent":"Decrease list item indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Drag to move":"Drag to move","Dropdown menu":"Dropdown menu","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit image":"Edit image","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor dialog":"Editor dialog","Editor menu bar":"Editor menu bar","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption","Entering a to-do list":"Entering a to-do list","Error during image upload":"Error during image upload","Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.":"Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.","Failed to determine category of edited image.":"Failed to determine category of edited image.",File:"File","From computer":"From computer","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height","Help Contents. To close this dialog press ESC.":"Help Contents. To close this dialog press ESC.",HEX:"HEX","Horizontal text alignment toolbar":"Horizontal text alignment toolbar",Image:"Image","Image from computer":"Image from computer","Image resize list":"Image resize list","Image toolbar":"Image toolbar","Image upload complete":"Image upload complete","Image via URL":"Image via URL","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Increase list item indent":"Increase list item indent","Insert a hard break (a new paragraph)":"Insert a hard break (a new paragraph)","Insert a new paragraph directly after a widget":"Insert a new paragraph directly after a widget","Insert a new paragraph directly before a widget":"Insert a new paragraph directly before a widget","Insert a new table row (when in the last cell of a table)":"Insert a new table row (when in the last cell of a table)","Insert a soft break (a <code>&lt;br&gt;</code> element)":"Insert a soft break (a <code>&lt;br&gt;</code> element)","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert image via URL":"Insert image via URL","Insert image with file manager":"Insert image with file manager","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Insert via URL":"Insert via URL","Insert with file manager":"Insert with file manager","Inserting image failed":"Inserting image failed",Inset:"Inset","Invalid start index value.":"Invalid start index value.",Italic:"Italic","Italic text":"Italic text","Justify cell text":"Justify cell text","Keystrokes that can be used in a list":"Keystrokes that can be used in a list","Keystrokes that can be used in a table cell":"Keystrokes that can be used in a table cell","Keystrokes that can be used when a widget is selected (for example: image, table, etc.)":"Keystrokes that can be used when a widget is selected (for example: image, table, etc.)","Leaving a to-do list":"Leaving a to-do list","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","Link URL must not be empty.":"Link URL must not be empty.","List properties":"List properties","Lower-latin":"Lower-latin","Lowerroman":"Lowerroman",Media:"Media","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget",MENU_BAR_MENU_EDIT:"Edit",MENU_BAR_MENU_FILE:"File",MENU_BAR_MENU_FONT:"Font",MENU_BAR_MENU_FORMAT:"Format",MENU_BAR_MENU_HELP:"Help",MENU_BAR_MENU_INSERT:"Insert",MENU_BAR_MENU_TEXT:"Text",MENU_BAR_MENU_TOOLS:"Tools",MENU_BAR_MENU_VIEW:"View","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells","Move focus between form fields (inputs, buttons, etc.)":"Move focus between form fields (inputs, buttons, etc.)","Move focus from an editable area back to the parent widget":"Move focus from an editable area back to the parent widget","Move focus in and out of an active dialog window":"Move focus in and out of an active dialog window","Move focus to the menu bar, navigate between menu bars":"Move focus to the menu bar, navigate between menu bars","Move focus to the toolbar, navigate between toolbars":"Move focus to the toolbar, navigate between toolbars","Move out of a link":"Move out of a link","Move out of an inline code style":"Move out of an inline code style","Move the caret to allow typing directly after a widget":"Move the caret to allow typing directly after a widget","Move the caret to allow typing directly before a widget":"Move the caret to allow typing directly before a widget","Move the selection to the next cell":"Move the selection to the next cell","Move the selection to the previous cell":"Move the selection to the previous cell","Navigate through the table":"Navigate through the table","Navigate through the toolbar or menu bar":"Navigate through the toolbar or menu bar",Next:"Next","No results found":"No results found","No searchable items":"No searchable items",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab","Open the accessibility help dialog":"Open the accessibility help dialog",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste content":"Paste content","Paste content as plain text":"Paste content as plain text","Paste the media URL in the input.":"Paste the media URL in the input.",'Please enter a valid color (e.g. "ff0000").':'Please enter a valid color (e.g. "ff0000").',"Press %0 for help.":"Press %0 for help.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous","Processing the edited image.":"Processing the edited image.",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Replace from computer":"Replace from computer","Replace image":"Replace image","Replace image from computer":"Replace image from computer","Replace image with file manager":"Replace image with file manager","Replace with file manager":"Replace with file manager","Resize image":"Resize image","Resize image (in %0)":"Resize image (in %0)","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Reversed order":"Reversed order","Revert autoformatting action":"Revert autoformatting action","Rich Text Editor":"Rich Text Editor","Rich Text Editor. Editing area: %0":"Rich Text Editor. Editing area: %0",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Scroll to target":"Scroll to target","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Server failed to process the image.":"Server failed to process the image.","Show more items":"Show more items","Side image":"Side image",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough","Strikethrough text":"Strikethrough text",Style:"Style",Subscript:"Subscript",Superscript:"Superscript",Table:"Table","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"The value must not be empty.":"The value must not be empty.","The value should be a plain number.":"The value should be a plain number.","These keyboard shortcuts allow for quick access to content editing features.":"These keyboard shortcuts allow for quick access to content editing features.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lowerlatin list style":"Toggle the lowerlatin list style","Toggle the lowerroman list style":"Toggle the lowerroman list style","Toggle the square list style":"Toggle the square list style","Toggle the upperlatin list style":"Toggle the upperlatin list style","Toggle the upperroman list style":"Toggle the upperroman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline","Underline text":"Underline text",Undo:"Undo",Unlink:"Unlink","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload from computer":"Upload from computer","Upload image from computer":"Upload image from computer","Upload in progress":"Upload in progress","Uploading image":"Uploading image","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.":"Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.","User interface and content navigation keystrokes":"User interface and content navigation keystrokes","Vertical text alignment toolbar":"Vertical text alignment toolbar","Via URL":"Via URL",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","With file manager":"With file manager","Wrap text":"Wrap text",Yellow:"Yellow","You have no image editing permissions.":"You have no image editing permissions.","You have no image upload permissions.":"You have no image upload permissions."}),o.getPluralForm=function(a){return a!=1}})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(n,o){t.exports=o()}(self,()=>(()=>{var n={4:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-menu-bar__menu{display:block;font-size:inherit;position:relative}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level{max-width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenu.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenu.css"],names:[],mappings:"AAKA,sBACC,aAAc,CCCd,iBAAkB,CDAlB,iBACD,CCCC,kDACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-menu-bar__menu {
	display: block;
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-menu-bar__menu {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	&.ck-menu-bar__menu_top-level {
		max-width: 100%;
	}
}
`],sourceRoot:""}]);const y=x},25:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/collapsible/collapsible.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/collapsible/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAGC,eAAgB,CAChB,aAAc,CAFd,eAAiB,CADjB,UAmBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,gFACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const y=x},62:d=>{d.exports=function(p,m){return m||(m={}),p&&(p=String(p.__esModule?p.default:p),/^['"].*['"]$/.test(p)&&(p=p.slice(1,-1)),m.hash&&(p+=m.hash),/["'() \t\n]|(%20)/.test(p)||m.needQuotes?'"'.concat(p.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):p)}},70:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const y=x},109:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:ck-spinner-rotate 1.5s linear infinite;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-spinner-container{animation-duration:3s}}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@keyframes ck-spinner-rotate{to{transform:rotate(1turn)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/spinner/spinner.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/spinner/spinner.css"],names:[],mappings:"AASA,yBACC,aAAc,CACd,iBACD,CAEA,eAGC,MAAO,CAEP,aAAc,CAJd,iBAAkB,CAGlB,OAAQ,CAFR,OAAQ,CAIR,0BAA2B,CAC3B,SACD,CCjBA,MACC,8BACD,CAEA,yBAGC,gDAAiD,CADjD,qCAAsC,CADtC,oCAOD,CAHC,uCALD,yBAME,qBAEF,CADC,CAGD,eAKC,qCAA6B,CAF7B,iBAAkB,CAElB,gCAA6B,CAH7B,qCAAsC,CADtC,oCAKD,CAEA,6BACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	display: block;
	position: relative;
}

.ck.ck-spinner {
	position: absolute;
	top: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	transform: translateY(-50%);
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	animation: 1.5s infinite ck-spinner-rotate linear;

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 3s;
	}
}

.ck.ck-spinner {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	border-radius: 50%;
	border: 2px solid var(--ck-color-text);
	border-top-color: transparent;
}

@keyframes ck-spinner-rotate {
	to {
		transform: rotate(360deg)
	}
}
`],sourceRoot:""}]);const y=x},253:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);border-radius:0;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}@media (prefers-reduced-motion:reduce){.ck.ck-input{transition:none}}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}@media (prefers-reduced-motion:reduce){.ck.ck-input.ck-error{animation:none}}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aAGC,2CAA4C,CAC5C,6CAA8C,CCT9C,eAAgB,CDchB,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DAkCD,CCjDC,iEAEC,qCAED,CDaA,uCAdD,aAeE,eA+BF,CA9BC,CAEA,mBEvBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YF2BA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BGnCD,oDHsCC,CAGD,sBAEC,sCAAuC,CADvC,+CAUD,CAPC,uCAJD,sBAKE,cAMF,CALC,CAEA,4BGjDD,iDHmDC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		@media (prefers-reduced-motion: reduce) {
			animation: none;
		}

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const y=x},265:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBA2BD,CAjBC,uBAEC,aAAc,CAad,WAAY,CAVZ,aAAc,CAGd,cAAe,CAGf,cAKD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAKA,+BACC,SASD,CAHC,kDACC,SACD,CAMD,sCACC,SAkBD,CAZC,yDACC,SAUD,CAHC,qEACC,YACD,CAMF,0CACC,WACD,CAMC,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%;

			/* Keep proportions of the block image if the height is set and the image is wider than the editor width.
			See https://github.com/ckeditor/ckeditor5/issues/14542. */
			height: auto;
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image {
		z-index: 1;

		/*
		 * Make sure the selected image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;
		}
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image-inline {
		z-index: 1;

		/*
		 * Make sure the selected inline image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;

			/*
			 * Make sure the native browser selection style is not displayed.
			 * Inline image widgets have their own styles for the selected state and
			 * leaving this up to the browser is asking for a visual collision.
			 */
			& ::selection {
				display: none;
			}
		}
	}

	/* Keep proportions of the inline image if the height is set and the image is wider than the editor width.
	See https://github.com/ckeditor/ckeditor5/issues/14542. */
	& .image-inline img {
		height: auto;
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const y=x},278:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-list-item-button{border-radius:0;min-height:unset;width:100%}[dir=ltr] .ck.ck-list-item-button{text-align:left}[dir=rtl] .ck.ck-list-item-button{text-align:right}[dir=ltr] .ck.ck-list-item-button.ck-list-item-button_toggleable{padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-list-item-button.ck-list-item-button_toggleable{padding-right:var(--ck-spacing-small)}.ck.ck-list-item-button .ck-list-item-button__check-holder{display:inline-flex;height:.9em;width:.9em}[dir=ltr] .ck.ck-list-item-button .ck-list-item-button__check-holder{margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-list-item-button .ck-list-item-button__check-holder{margin-left:var(--ck-spacing-small)}.ck.ck-list-item-button .ck-list-item-button__check-icon{height:100%}.ck.ck-button.ck-list-item-button{padding:var(--ck-spacing-tiny) calc(var(--ck-spacing-standard)*2)}.ck.ck-button.ck-list-item-button,.ck.ck-button.ck-list-item-button.ck-on{background:var(--ck-color-list-background);color:var(--ck-color-text)}[dir=ltr] .ck.ck-button.ck-list-item-button:has(.ck-list-item-button__check-holder){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-list-item-button:has(.ck-list-item-button__check-holder){padding-right:var(--ck-spacing-small)}.ck.ck-button.ck-list-item-button.ck-button.ck-on:hover,.ck.ck-button.ck-list-item-button.ck-on:hover,.ck.ck-button.ck-list-item-button.ck-on:not(.ck-list-item-button_toggleable),.ck.ck-button.ck-list-item-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-button.ck-list-item-button.ck-button.ck-on:hover:not(.ck-disabled),.ck.ck-button.ck-list-item-button.ck-on:hover:not(.ck-disabled),.ck.ck-button.ck-list-item-button.ck-on:not(.ck-list-item-button_toggleable):not(.ck-disabled),.ck.ck-button.ck-list-item-button:hover:not(.ck-disabled):not(.ck-disabled){color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/listitembutton.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/listitembutton.css"],names:[],mappings:"AAOA,wBAGC,eAAgB,CAFhB,gBAAiB,CACjB,UAsCD,CCzCC,kCDOC,eCLD,CAFA,kCDWC,gBCTD,CAFA,iEDgBE,oCCdF,CAFA,iEDoBE,qCClBF,CDsBA,2DACC,mBAAoB,CAEpB,WAAY,CADZ,UAUD,CCpCA,qED8BE,oCC5BF,CAFA,qEDkCE,mCChCF,CDoCA,yDACC,WACD,CEvCD,kCACC,iEAiCD,CA/BC,0EAEC,0CAA2C,CAC3C,0BACD,CDRA,oFCYE,oCDVF,CAFA,oFCgBE,qCDdF,CCuBA,6OAIC,uDAKD,CAHC,qTACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../mixins/_dir.css";

.ck.ck-list-item-button {
	min-height: unset;
	width: 100%;
	border-radius: 0;

	@mixin ck-dir ltr {
		text-align: left;
	}

	@mixin ck-dir rtl {
		text-align: right;
	}

	&.ck-list-item-button_toggleable {
		@mixin ck-dir ltr {
			padding-left: var(--ck-spacing-small);
		}

		@mixin ck-dir rtl {
			padding-right: var(--ck-spacing-small);
		}
	}

	& .ck-list-item-button__check-holder {
		display: inline-flex;
		width: .9em;
		height: .9em;

		@mixin ck-dir ltr {
			margin-right: var(--ck-spacing-small);
		}

		@mixin ck-dir rtl {
			margin-left: var(--ck-spacing-small);
		}
	}

	& .ck-list-item-button__check-icon {
		height: 100%;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button.ck-list-item-button {
	padding: var(--ck-spacing-tiny) calc(2 * var(--ck-spacing-standard));

	&,
	&.ck-on {
		background: var(--ck-color-list-background);
		color: var(--ck-color-text);
	}

	&:has(.ck-list-item-button__check-holder) {
		@mixin ck-dir ltr {
			padding-left: var(--ck-spacing-small);
		}

		@mixin ck-dir rtl {
			padding-right: var(--ck-spacing-small);
		}
	}

	/*
	 * \`.ck-on\` class and background styling is overridden for \`ck-button\` in many places.
	 * This is a workaround to make sure that the background is not overridden and uses similar
	 * selector specificity as the other overrides.
	 */
	&:hover:not(.ck-disabled),
	&.ck-button.ck-on:hover,
	&.ck-on:not(.ck-list-item-button_toggleable),
	&.ck-on:hover {
		background: var(--ck-color-list-button-hover-background);

		&:not(.ck-disabled) {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const y=x},497:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-menu-bar{background:var(--ck-color-base-background);border:1px solid var(--ck-color-toolbar-border);display:flex;flex-wrap:wrap;gap:var(--ck-spacing-small);justify-content:flex-start;padding:var(--ck-spacing-small);width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubar.css"],names:[],mappings:"AAKA,gBAIC,0CAA2C,CAG3C,+CAAgD,CANhD,YAAa,CACb,cAAe,CAIf,2BAA4B,CAH5B,0BAA2B,CAE3B,+BAAgC,CAGhC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-menu-bar {
	display: flex;
	flex-wrap: wrap;
	justify-content: flex-start;
	background: var(--ck-color-base-background);
	padding: var(--ck-spacing-small);
	gap: var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);
	width: 100%;
}
`],sourceRoot:""}]);const y=x},657:d=>{d.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSlzY2FsZSguOTgwMTIpIj48cmVjdCB3aWR0aD0iNjAuMDk5IiBoZWlnaHQ9IjYwLjA5OSIgeD0iMTc2LjAzMSIgeT0iMjMxLjM5OSIgZmlsbD0iIzM0YTY2OCIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjIzOCIgcnk9IjUuMjM4Ii8+PHBhdGggZmlsbD0iIzVjODhjNSIgZD0ibTIwNi40NzcgMjYwLjktMjguOTg3IDI4Ljk4N2E1LjIyIDUuMjIgMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiLz48cGF0aCBmaWxsPSIjZGQ0YjNlIiBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwN3EuNS43NTMuOTUgMS41MDguNTE1LjcxNS45ODggMS40NGMxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5cS40NzMtLjcyMy45ODgtMS40MzkuNDUtLjc1NS45NS0xLjUwOGMuMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIGN4PSIyMjYuNzQyIiBjeT0iMjM5LjAwMiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjgyOCIgcnk9IjUuNTY0Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjlxLS4wMDEtLjU0My0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhxLS4wMDEtLjAwMy0uMDA0LS4wMDVjLTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTVtNC40MyA1LjY2LjAwMy4wMDZ2LS4wMDN6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGZpbGw9IiNjM2MzYzMiIGQ9Im0yMTUuMTg0IDI1MS45MjktNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMiA1LjIgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjl6Ii8+PHBhdGggZmlsbD0iI2ZkZGM0ZiIgZD0ibTIxMi45ODMgMjQ4LjQ5NS0zNi45NTIgMzYuOTUzdi44MTJhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYgMTM2IDAgMCAwLTIuNzY0LTMuOSAzOCAzOCAwIDAgMC0uOTg5LTEuNDQgMzUgMzUgMCAwIDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4="},695:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget{transition:none}}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{box-shadow:var(--ck-inner-shadow),0 0}@media (forced-colors:none){.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background)}}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused:not(td,th),.ck .ck-editor__nested-editable:focus:not(td,th){border:var(--ck-focus-ring);outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CChFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAcD,CAZC,uCAND,eAOE,eAWF,CAVC,CAEA,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAoBD,CAhBC,yGCrCA,qCDoDA,CE/CA,4BACC,yGFmCC,iEEjCD,CACD,CFwCC,+HG/CD,2BAA2B,CAD3B,YHkDC,CAKD,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAwCD,CA3BC,uCAzBD,4EA0BE,eA0BF,CAzBC,CAEA,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAeD,CAVC,kHACC,SAAU,CAGV,+DAKD,CAHC,uCAND,kHAOE,eAEF,CADC,CAKF,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-box-shadow var(--ck-inner-shadow);
		@mixin ck-media-default-colors {
			background-color: var(--ck-color-widget-editable-focus-background);
		}

		/**
		 * Focus border should not be applied to table cells because it overrides the default table cell border color.
		 * In other words - in some scenarios, the part of the table cell border has focus color style, which is not expected behavior
		 * because it should be the same as the table cell border color.
		 */
		&:not(td, th) {
			@mixin ck-focus-ring;
		}
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);

				@media (prefers-reduced-motion: reduce) {
					transition: none;
				}
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`],sourceRoot:""}]);const y=x},802:(d,p,m)=>{const k=m(9246);function v(y){const D=function(){const j={},M=Object.keys(k);for(let B=M.length,z=0;z<B;z++)j[M[z]]={distance:-1,parent:null};return j}(),E=[y];for(D[y].distance=0;E.length;){const j=E.pop(),M=Object.keys(k[j]);for(let B=M.length,z=0;z<B;z++){const G=M[z],J=D[G];J.distance===-1&&(J.distance=D[j].distance+1,J.parent=j,E.unshift(G))}}return D}function _(y,D){return function(E){return D(y(E))}}function x(y,D){const E=[D[y].parent,y];let j=k[D[y].parent][y],M=D[y].parent;for(;D[M].parent;)E.unshift(D[M].parent),j=_(k[D[M].parent][M],j),M=D[M].parent;return j.conversion=E,j}d.exports=function(y){const D=v(y),E={},j=Object.keys(D);for(let M=j.length,B=0;B<M;B++){const z=j[B];D[z].parent!==null&&(E[z]=x(z,D))}return E}},935:d=>{d.exports=function(p){var m=[];return m.toString=function(){return this.map(function(k){var v="",_=k[5]!==void 0;return k[4]&&(v+="@supports (".concat(k[4],") {")),k[2]&&(v+="@media ".concat(k[2]," {")),_&&(v+="@layer".concat(k[5].length>0?" ".concat(k[5]):""," {")),v+=p(k),_&&(v+="}"),k[2]&&(v+="}"),k[4]&&(v+="}"),v}).join("")},m.i=function(k,v,_,x,y){typeof k=="string"&&(k=[[null,k,void 0]]);var D={};if(_)for(var E=0;E<this.length;E++){var j=this[E][0];j!=null&&(D[j]=!0)}for(var M=0;M<k.length;M++){var B=[].concat(k[M]);_&&D[B[0]]||(y!==void 0&&(B[5]===void 0||(B[1]="@layer".concat(B[5].length>0?" ".concat(B[5]):""," {").concat(B[1],"}")),B[5]=y),v&&(B[2]&&(B[1]="@media ".concat(B[2]," {").concat(B[1],"}")),B[2]=v),x&&(B[4]?(B[1]="@supports (".concat(B[4],") {").concat(B[1],"}"),B[4]=x):B[4]="".concat(x)),m.push(B))}},m}},977:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button{border-radius:0}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container,.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container .ck-spinner{--ck-toolbar-spinner-size:20px}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container{font-size:var(--ck-icon-font-size)}[dir=ltr] .ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container{margin-left:var(--ck-spacing-medium)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitembutton.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css"],names:[],mappings:"AAWC,iEACC,eAoBD,CAlBC,0LAGC,8BACD,CAEA,uFAEC,kCASD,CCzBD,iGDmBG,qCCjBH,CAFA,iGDuBG,oCCrBH",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-menu-bar__menu {
	/*
	 * List item buttons.
	 */
	& .ck-button.ck-menu-bar__menu__item__button {
		border-radius: 0;

		& > .ck-spinner-container,
		& > .ck-spinner-container .ck-spinner {
			/* These styles correspond to .ck-icon so that the spinner seamlessly replaces the icon. */
			--ck-toolbar-spinner-size: 20px;
		}

		& > .ck-spinner-container {
			/* This ensures margins corresponding to the .ck-icon. */
			font-size: var(--ck-icon-font-size);

			@mixin ck-dir ltr {
				margin-right: var(--ck-spacing-medium);
			}

			@mixin ck-dir rtl {
				margin-left: var(--ck-spacing-medium);
			}
		}
	}
}


`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=x},991:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const y=x},1185:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CCTC,yJAEC,qCAED,CDCA,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-panel-background);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-panel-background);
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const y=x},1232:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const y=x},1559:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const y=x},1623:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both;background:var(--ck-color-base-error);border-radius:0;color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}@media (prefers-reduced-motion:reduce){.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:none}}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableform.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCA6BD,CA3BC,8EAgBC,iEAAkE,CAblE,qCAAsC,CC3CxC,eAAgB,CD4Cd,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAcD,CC3DD,mMAEC,qCAED,CD4CE,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAIA,uCAlBD,8EAmBE,cAEF,CADC,CAID,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__background-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__dimensions-row {
			flex-wrap: wrap;
			align-items: center;

			& .ck-labeled-field-view {
				display: flex;
				flex-direction: column-reverse;
				align-items: center;

				& .ck.ck-dropdown {
					flex-grow: 0;
				}
			}

			& .ck-table-form__dimension-operator {
				flex-grow: 0;
			}
		}
	}

	& .ck.ck-labeled-field-view {
		/* Allow absolute positioning of the status (error) balloons. */
		position: relative;

		& .ck.ck-labeled-field-view__status {
			position: absolute;
			left: 50%;
			bottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );
			transform: translate(-50%,100%);

			/* Make sure the balloon status stays on top of other form elements. */
			z-index: 1;

			/* The arrow pointing towards the field. */
			&::after {
				content: "";
				position: absolute;
				top: calc( -1 * var(--ck-table-properties-error-arrow-size) );
				left: 50%;
				transform: translateX( -50% );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../mixins/_rounded.css";

:root {
	--ck-table-properties-error-arrow-size: 6px;
	--ck-table-properties-min-error-width: 150px;
}

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			& .ck-labeled-field-view {
				& > .ck-label {
					font-size: var(--ck-font-size-tiny);
					text-align: center;
				}
			}

			& .ck-table-form__border-style,
			& .ck-table-form__border-width {
				width: 80px;
				min-width: 80px;
				max-width: 80px;
			}
		}

		&.ck-table-form__dimensions-row {
			padding: 0;

			& .ck-table-form__dimensions-row__width,
			& .ck-table-form__dimensions-row__height {
				margin: 0
			}

			& .ck-table-form__dimension-operator {
				align-self: flex-end;
				display: inline-block;
				height: var(--ck-ui-component-min-height);
				line-height: var(--ck-ui-component-min-height);
				margin: 0 var(--ck-spacing-small);
			}
		}
	}

	& .ck.ck-labeled-field-view {
		padding-top: var(--ck-spacing-standard);

		& .ck.ck-labeled-field-view__status {
			@mixin ck-rounded-corners;

			background: var(--ck-color-base-error);
			color: var(--ck-color-base-background);
			padding: var(--ck-spacing-small) var(--ck-spacing-medium);
			min-width: var(--ck-table-properties-min-error-width);
			text-align: center;

			/* The arrow pointing towards the field. */
			&::after {
				border-color: transparent transparent var(--ck-color-base-error) transparent;
				border-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);
				border-style: solid;
			}

			animation: ck-table-form-labeled-view-status-appear .15s ease both;

			@media (prefers-reduced-motion: reduce) {
				animation: none;
			}
		}

		/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */
		& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {
			display: none;
		}
	}
}

@keyframes ck-table-form-labeled-view-status-appear {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=x},1666:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const y=x},1671:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck-textarea{overflow-x:hidden}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/textarea/textarea.css"],names:[],mappings:"AASA,aACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/*
 * This fixes a problem in Firefox when the initial height of the complement does not match the number of rows.
 * This bug is especially visible when rows=1.
 */
.ck-textarea {
	overflow-x: hidden
}
`],sourceRoot:""}]);const y=x},1792:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAQE,oIAGC,gCAAiC,CADjC,6BAED,CAEA,oIAGC,+BAAgC,CADhC,4BAED,CAGD,0CAGC,eAiBD,CAfC,oDAGC,+BAAgC,CADhC,4BAED,CAEA,oDAGC,gCAAiC,CADjC,6BAED,CAEA,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAIA,uCCnDA,eD6DA,CC3DA,qHAEC,qCAED,CD+CE,qKACC,2BACD,CAEA,mKACC,4BACD,CAUD,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		[dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		[dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		[dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		[dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		[dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		[dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=x},1801:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-aria-live-announcer{left:-10000px;position:absolute;top:-10000px}.ck.ck-aria-live-region-list{list-style-type:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/arialiveannouncer/arialiveannouncer.css"],names:[],mappings:"AAKA,2BAEC,aAAc,CADd,iBAAkB,CAElB,YACD,CAEA,6BACC,oBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-aria-live-announcer {
	position: absolute;
	left: -10000px;
	top: -10000px;
}

.ck.ck-aria-live-region-list {
	list-style-type: none;
}
`],sourceRoot:""}]);const y=x},1866:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,':root{--ck-image-processing-highlight-color:#f9fafa;--ck-image-processing-background-color:#e3e5e8}.ck.ck-editor__editable .image.image-processing{position:relative}.ck.ck-editor__editable .image.image-processing:before{animation:ck-image-processing-animation 2s linear infinite;background:linear-gradient(90deg,var(--ck-image-processing-background-color),var(--ck-image-processing-highlight-color),var(--ck-image-processing-background-color));background-size:200% 100%;content:"";height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.ck.ck-editor__editable .image.image-processing img{height:100%}@keyframes ck-image-processing-animation{0%{background-position:200% 0}to{background-position:-200% 0}}',"",{version:3,sources:["webpack://./../ckeditor5-ckbox/theme/ckboximageedit.css"],names:[],mappings:"AAKA,MAEC,6CAAyD,CACzD,8CACD,CAIE,gDACC,iBA2BD,CAzBC,uDAmBC,0DAA2D,CAR3D,oKAKC,CACD,yBAA0B,CAhB1B,UAAW,CAOX,WAAY,CAHZ,MAAO,CAFP,iBAAkB,CAClB,KAAM,CAKN,UAAW,CAHX,SAcD,CAEA,oDACC,WACD,CAKH,yCACC,GACC,0BACD,CACA,GACC,2BACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	/* Based on default CKBox theme colors */
	--ck-image-processing-highlight-color: hsl(220, 10%, 98%);
	--ck-image-processing-background-color: hsl(220, 10%, 90%);
}

.ck.ck-editor__editable {
	& .image {
		&.image-processing {
			position: relative;

			&:before {
				content: '';

				position: absolute;
				top: 0;
				left: 0;
				z-index: 1;

				height: 100%;
				width: 100%;

				background: linear-gradient(
					90deg,
					var(--ck-image-processing-background-color),
					var(--ck-image-processing-highlight-color),
					var(--ck-image-processing-background-color)
				);
				background-size: 200% 100%;

				animation: ck-image-processing-animation 2s linear infinite;
			}

			& img {
				height: 100%;
			}
		}
	}
}

@keyframes ck-image-processing-animation {
	0% {
		background-position: 200% 0;
	}
	100% {
		background-position: -200% 0;
	}
}
`],sourceRoot:""}]);const y=x},1905:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;
	margin: var(--ck-spacing-large) 0 0;
	width: unset;

	& .ck.ck-labeled-field-view {
		padding-top: unset;
	}

	& .ck.ck-input-text {
		width: unset;
	}

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const y=x},2001:d=>{d.exports=function(p){var m=p[1],k=p[3];if(!k)return m;if(typeof btoa=="function"){var v=btoa(unescape(encodeURIComponent(JSON.stringify(k)))),_="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(v),x="/*# ".concat(_," */");return[m].concat([x]).join(`
`)}return[m].join(`
`)}},2171:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,":root{--ck-dropdown-menu-menu-item-min-width:18em}.ck.ck-dropdown-menu-list__nested-menu__item{min-width:var(--ck-dropdown-menu-menu-item-min-width)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/menu/dropdownmenulistitem.css"],names:[],mappings:"AAKA,MACC,2CACD,CAEA,6CACC,qDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-dropdown-menu-menu-item-min-width: 18em;
}

.ck.ck-dropdown-menu-list__nested-menu__item {
	min-width: var(--ck-dropdown-menu-menu-item-min-width);
}
`],sourceRoot:""}]);const y=x},2267:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:none;opacity:1}}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBAMD,CAJC,uCAHD,yFAKE,cAAe,CADf,SAGF,CADC,CAKF,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;

			@media (prefers-reduced-motion: reduce) {
				opacity: 1;
				animation: none;
			}
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const y=x},2329:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}@media print{.ck-content .table table{height:auto}}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAeF,aACC,yBACC,WACD,CACD,CAIA,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/**
 * Expanding the table to the full height of the parent container is necessary because tables
 * are rendered inside <figure> elements, which is kinda buggy in table height calculation.
 * While setting \`height: 100%\` fixes the issue in the editing mode described here:
 * https://github.com/ckeditor/ckeditor5/issues/6186
 *
 * it's causing another issue with the table height in the print preview mode here:
 * https://github.com/ckeditor/ckeditor5/issues/16856
 *
 * For now, resetting the height to \`initial\` in the print mode works as a workaround.
 */
@media print {
	.ck-content .table table {
		height: initial;
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const y=x},2591:d=>{var p=[];function m(_){for(var x=-1,y=0;y<p.length;y++)if(p[y].identifier===_){x=y;break}return x}function k(_,x){for(var y={},D=[],E=0;E<_.length;E++){var j=_[E],M=x.base?j[0]+x.base:j[0],B=y[M]||0,z="".concat(M," ").concat(B);y[M]=B+1;var G=m(z),J={css:j[1],media:j[2],sourceMap:j[3],supports:j[4],layer:j[5]};if(G!==-1)p[G].references++,p[G].updater(J);else{var H=v(J,x);x.byIndex=E,p.splice(E,0,{identifier:z,updater:H,references:1})}D.push(z)}return D}function v(_,x){var y=x.domAPI(x);return y.update(_),function(D){if(D){if(D.css===_.css&&D.media===_.media&&D.sourceMap===_.sourceMap&&D.supports===_.supports&&D.layer===_.layer)return;y.update(_=D)}else y.remove()}}d.exports=function(_,x){var y=k(_=_||[],x=x||{});return function(D){D=D||[];for(var E=0;E<y.length;E++){var j=m(y[E]);p[j].references--}for(var M=k(D,x),B=0;B<y.length;B++){var z=m(y[B]);p[z].references===0&&(p[z].updater(),p.splice(z,1))}y=M}}},2655:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/formrow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CC7BC,6CDQG,mCCNH,CAFA,6CDYG,oCCVH,CDeA,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-table-form__action-row {
		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-form__row {
	padding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		& + * {
			@mixin ck-dir ltr {
				margin-left: var(--ck-spacing-large);
			}

			@mixin ck-dir rtl {
				margin-right: var(--ck-spacing-large);
			}
		}
	}

	& > .ck-label {
		width: 100%;
		min-width: 100%;
	}

	&.ck-table-form__action-row {
		margin-top: var(--ck-spacing-large);

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=x},2710:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const y=x},2722:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-number,.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAoED,CAlEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA+CF,CA7CE,8CACC,wDAYD,CAVC,4HAEC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CC5DF,0ODmEG,aCjEH,CDmEG,+IACC,kDACD,CDrEH",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text,
			& .ck-input-number {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=x},3051:d=>{d.exports=function(p){var m=document.createElement("style");return p.setAttributes(m,p.attributes),p.insert(m,p.options),m}},3344:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button{width:100%}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-button__label{flex-grow:1;overflow:hidden;text-overflow:ellipsis}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button.ck-disabled>.ck-button__label{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button{min-height:unset;padding:var(--ck-spacing-small) var(--ck-spacing-medium)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-button__label{line-height:unset;overflow:visible;width:unset}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-icon{display:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button{border-radius:0}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{margin-left:var(--ck-spacing-standard);margin-right:calc(var(--ck-spacing-small)*-1);transform:rotate(-90deg)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{left:var(--ck-spacing-standard);margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small);transform:rotate(90deg)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button.ck-disabled>.ck-menu-bar__menu__button__arrow{opacity:var(--ck-disabled-opacity)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css"],names:[],mappings:"AAMC,mFACC,mBAAoB,CACpB,2BACD,CCIA,iDACC,UAuBD,CArBC,mEACC,WAAY,CACZ,eAAgB,CAChB,sBACD,CAEA,+ECbD,kCDeC,CAGC,qFACC,oCACD,CAIA,qFACC,qCACD,CAOF,6EAEC,gBAAiB,CADjB,wDAsBD,CAnBC,+FAEC,iBAAkB,CAMlB,gBAAiB,CAPjB,WAQD,CAEA,mFACC,2BAA4B,CAC5B,4BACD,CAEA,sFACC,YACD,CAMD,mFACC,eA+BD,CA7BC,qHACC,mCAuBD,CE3FD,+HF0EG,sCAAuC,CAGvC,6CAAgD,CANhD,wBErEH,CAFA,+HFmFG,+BAAgC,CAMhC,4CAA+C,CAH/C,oCAAqC,CALrC,uBE/EH,CF2FC,iIC1FD,kCD4FC",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-menu-bar__menu  {
	& > .ck-menu-bar__menu__button > .ck-menu-bar__menu__button__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_disabled.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-menu-bar__menu {
	/*
	 * All menu buttons.
	 */
	& > .ck-menu-bar__menu__button {
		width: 100%;

		& > .ck-button__label {
			flex-grow: 1;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		&.ck-disabled > .ck-button__label {
			@mixin ck-disabled;
		}

		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				padding-right: var(--ck-spacing-small);
			}
		}
	}

	/*
	 * Top-level menu buttons only.
	 */
	&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__button {
		padding: var(--ck-spacing-small) var(--ck-spacing-medium);
		min-height: unset;

		& .ck-button__label {
			width: unset;
			line-height: unset;

			/*
			 * Top-level buttons don't use ellipsis and overflow: hidden clips descenders.
			 *  See https://github.com/ckeditor/ckeditor5/issues/17422.
			 */
			overflow: visible;
		}

		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		& .ck-icon {
			display: none;
		}
	}

	/*
	 * Sub-menu buttons.
	 */
	&:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button {
		border-radius: 0;

		& > .ck-menu-bar__menu__button__arrow {
			width: var(--ck-dropdown-arrow-size);

			@mixin ck-dir ltr {
				transform: rotate(-90deg);

				/* A space to accommodate the triangle. */
				margin-left: var(--ck-spacing-standard);

				/* Nudge the arrow gently to the right because its center of gravity is to the left */
				margin-right: calc(-1 * var(--ck-spacing-small));
			}

			@mixin ck-dir rtl {
				transform: rotate(90deg);

				left: var(--ck-spacing-standard);

				/* A space to accommodate the triangle. */
				margin-right: var(--ck-spacing-small);

				/* Nudge the arrow gently to the left because its center of gravity is to the right (after rotation). */
				margin-left: calc(-1 * var(--ck-spacing-small));
			}
		}

		&.ck-disabled > .ck-menu-bar__menu__button__arrow {
			@mixin ck-disabled;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=x},3350:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-image-insert-url{padding:var(--ck-spacing-large) var(--ck-spacing-large) 0;width:400px}.ck.ck-image-insert-url .ck-image-insert-url__action-row{display:grid;grid-template-columns:repeat(2,1fr)}:root{--ck-image-insert-insert-by-url-width:250px}.ck.ck-image-insert-url{--ck-input-width:100%}.ck.ck-image-insert-url .ck-image-insert-url__action-row{grid-column-gap:var(--ck-spacing-large);margin-top:var(--ck-spacing-large)}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-cancel,.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-save{justify-content:center;min-width:auto}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}.ck.ck-image-insert-form>.ck.ck-button{display:block;width:100%}[dir=ltr] .ck.ck-image-insert-form>.ck.ck-button{text-align:left}[dir=rtl] .ck.ck-image-insert-form>.ck.ck-button{text-align:right}.ck.ck-image-insert-form>.ck.ck-collapsible{min-width:var(--ck-image-insert-insert-by-url-width)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:first-child){border-top:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:last-child){border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-image-insert-url{min-width:var(--ck-image-insert-insert-by-url-width);padding:var(--ck-spacing-large)}.ck.ck-image-insert-form:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsert.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageinsert.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css"],names:[],mappings:"AAKA,wBAEC,yDAA0D,CAD1D,WAOD,CAJC,yDACC,YAAa,CACb,mCACD,CCLD,MACC,2CACD,CAEA,wBACC,qBAgBD,CAdC,yDACC,uCAAwC,CACxC,kCAWD,CATC,oJAEC,sBAAuB,CACvB,cACD,CAEA,sFACC,0BACD,CAKD,uCACC,aAAc,CACd,UASD,CCpCA,iDD8BE,eC5BF,CAFA,iDDkCE,gBChCF,CDoCA,4CASC,oDACD,CATC,8DACC,gDACD,CAEA,6DACC,mDACD,CAMD,iDACC,oDAAqD,CACrD,+BACD,CAEA,+BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-image-insert-url {
	width: 400px;
	padding: var(--ck-spacing-large) var(--ck-spacing-large) 0;

	& .ck-image-insert-url__action-row {
		display: grid;
		grid-template-columns: repeat(2, 1fr);
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-image-insert-insert-by-url-width: 250px;
}

.ck.ck-image-insert-url {
	--ck-input-width: 100%;

	& .ck-image-insert-url__action-row {
		grid-column-gap: var(--ck-spacing-large);
		margin-top: var(--ck-spacing-large);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
			min-width: auto;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}

.ck.ck-image-insert-form {
	& > .ck.ck-button {
		display: block;
		width: 100%;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& > .ck.ck-collapsible {
		&:not(:first-child) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		&:not(:last-child) {
			border-bottom: 1px solid var(--ck-color-base-border);
		}

		min-width: var(--ck-image-insert-insert-by-url-width);
	}

	/* This is the case when there are no other integrations configured than insert by URL */
	& > .ck.ck-image-insert-url {
		min-width: var(--ck-image-insert-insert-by-url-width);
		padding: var(--ck-spacing-large);
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=x},3469:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAMA,8BACC,WACD,CAEA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/* Preserve aspect ratio of the resized image after introducing image height attribute. */
.ck-content img.image_resized {
	height: auto;
}

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const y=x},3610:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel{max-height:314px;overflow-y:auto;position:absolute;z-index:calc(var(--ck-z-panel) + 1)}:root{--ck-dropdown-menu-menu-panel-max-width:75vw}.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;height:fit-content;max-width:var(--ck-dropdown-menu-menu-panel-max-width)}.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel:after,.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel:before{display:none}.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_es,.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_se{border-top-left-radius:0}.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_sw,.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_ws{border-top-right-radius:0}.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_en,.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_ne{border-bottom-left-radius:0}.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_nw,.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_wn{border-bottom-right-radius:0}.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/menu/dropdownmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/menu/dropdownmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,0DAEC,gBAAiB,CACjB,eAAgB,CAFhB,iBAAkB,CAGlB,mCACD,CCFA,MACC,4CACD,CAEA,0DAGC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CCRT,oCAA8B,CDS9B,kBAAmB,CACnB,sDAgCD,CA7BC,iIAEC,YACD,CAGA,4JAEC,wBACD,CAEA,4JAEC,yBACD,CAEA,4JAEC,2BACD,CAEA,4JAEC,4BACD,CAEA,gEACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel {
	position: absolute;
	max-height: 314px; /* With the default settings, this is equal to 10 menu items. */
	overflow-y: auto;
	z-index: calc(var(--ck-z-panel) + 1);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../../mixins/_rounded.css";
@import "../../../../mixins/_shadow.css";

:root {
	--ck-dropdown-menu-menu-panel-max-width: 75vw;
}

.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel {
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;
	height: fit-content;
	max-width: var(--ck-dropdown-menu-menu-panel-max-width);

	/* Reset balloon styling */
	&::after,
	&::before {
		display: none;
	}

	/* Corner border radius consistent with the button. */
	&.ck-balloon-panel_es,
	&.ck-balloon-panel_se {
		border-top-left-radius: 0;
	}

	&.ck-balloon-panel_ws,
	&.ck-balloon-panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-balloon-panel_en,
	&.ck-balloon-panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-balloon-panel_wn,
	&.ck-balloon-panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const y=x},3629:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-dropdown>.ck-dropdown__panel>.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CCnBC,iIAEC,qCAAsC,CDJtC,wBCMD,CDAC,mFCND,eDYC,CCVD,6MAEC,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBCFH,CDQC,kFCdD,eDmBC,CCjBD,2MAEC,qCAAsC,CDYpC,wBAAyB,CACzB,yBCXH",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown > .ck-dropdown__panel > .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=x},3710:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-panel)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);border-radius:0;min-height:15px}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBAMC,2CAA4C,CAC5C,wEAAyE,CCZzE,eAAgB,CDShB,eA0LD,CCjMC,iFAEC,qCAED,CDDD,qBEPC,oCFqMD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-panel);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const y=x},3817:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-link-form{align-items:flex-start;display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:0 var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css"],names:[],mappings:"AAOA,iBAEC,sBAAuB,CADvB,YAkBD,CAfC,2BACC,YACD,CCPA,oCDCD,iBASE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CChBD,CDwBD,iCACC,aAYD,CALE,wHAEC,mCACD,CEhCF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CC1BD,4GDiCE,aC/BF,CDiCE,mEACC,kDACD,CAKF,6CACC,gCAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;
	align-items: flex-start;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: 0 var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=x},4043:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-form {
	padding: 0 0 var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	& .ck.ck-input-text {
		min-width: 100%;
		width: 0;
	}

	& .ck.ck-dropdown {
		min-width: 100%;

		& .ck-dropdown__button {
			&:not(:focus) {
				border: 1px solid var(--ck-color-base-border);
			}

			& .ck-button__label {
				width: 100%;
			}
		}
	}
}
`],sourceRoot:""}]);const y=x},4062:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=x},4095:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const y=x},4098:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}@media (forced-colors:active){.ck .ck-placeholder,.ck.ck-placeholder{forced-color-adjust:preserve-parent-color}}.ck .ck-placeholder:before,.ck.ck-placeholder:before{cursor:text}@media (forced-colors:none){.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text)}}@media (forced-colors:active){.ck .ck-placeholder:before,.ck.ck-placeholder:before{font-style:italic;margin-left:1px}}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC7BC,8BACC,uCCOA,yCDLA,CACD,CCOA,qDACC,WAmBD,CDvBA,4BACC,qDCMC,6CDJD,CACD,CAZA,8BACC,qDCsBC,iBAAkB,CAMlB,eD1BD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	@mixin ck-media-forced-colors {
		/*
		 * This is needed for Edge on Windows to use the right color for the placeholder content (::before).
		 * See https://github.com/ckeditor/ckeditor5/issues/14907.
		 */
		forced-color-adjust: preserve-parent-color;
	}

	&::before {
		cursor: text;

		@mixin ck-media-default-colors {
			color: var(--ck-color-engine-placeholder-text);
		}

		@mixin ck-media-forced-colors {
			/*
			 * In the high contrast mode there is no telling between regular and placeholder text. Using
			 * italic text to address that issue. See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			font-style: italic;

			/*
			 * Without this margin, the caret will not show up and blink when the user puts the selection
			 * in the placeholder (Edge on Windows). See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			margin-left: 1px;
		}
	}
}
`],sourceRoot:""}]);const y=x},4143:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}@media (forced-colors:active){.ck-content .table>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAaD,CCxBC,8BACC,8BDoBA,sBAAuB,CACvB,WCnBA,CACD,CAIA,4BDqBC,qEACC,iDACD,CCnBD,CDsBA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-selector-caption-background: hsl(0, 0%, 97%);
	--ck-color-selector-caption-text: hsl(0, 0%, 20%);
	--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .table > figcaption {
	display: table-caption;
	caption-side: top;
	word-break: break-word;
	text-align: center;
	color: var(--ck-color-selector-caption-text);
	background-color: var(--ck-color-selector-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@mixin ck-media-forced-colors {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .table > figcaption {
	@mixin ck-media-default-colors {
		&.table__caption_highlighted {
			animation: ck-table-caption-highlight .6s ease-out;
		}
	}

	&.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the table caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

@keyframes ck-table-caption-highlight {
	0% {
		background-color: var(--ck-color-selector-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-selector-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const y=x},4199:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const y=x},4391:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;border-radius:0;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);border-radius:0;height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}@media (prefers-reduced-motion:reduce){.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{transition:none}}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CC3BA,0DDgCE,4CC9BF,CAFA,0DDqCE,2CCnCF,CDuCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CEpD9B,eAAgB,CFmDf,iFAAsF,CAEtF,0CA2BD,CE9EA,yIAEC,qCAED,CDXA,2DD8CE,gBC5CF,CAFA,2DDmDE,iBCjDF,CD2DC,2EAOC,yDAA0D,CE/D5D,eAAgB,CF8Dd,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAUD,CErED,6LAEC,qCAAsC,CFsDpC,8CEpDH,CF8DE,uCAZD,2EAaE,eAEF,CADC,CAGD,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DGpFA,kCHsFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CC/GF,2FDsHI,2DCpHJ,CAFA,2FD0HI,oECxHJ",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floatingpoint numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const y=x},4642:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-image-custom-resize-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{display:inline-block}.ck.ck-image-custom-resize-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-image-custom-resize-form{flex-wrap:wrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-image-custom-resize-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecustomresizeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,gCAIC,sBAAuB,CAHvB,YAAa,CACb,kBAAmB,CACnB,gBAsBD,CAnBC,uDACC,oBACD,CAEA,0CACC,YACD,CCbA,oCDCD,gCAeE,cAUF,CARE,uDACC,eACD,CAEA,2CACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-image-custom-resize-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: flex-start;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=x},4767:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck-button.ck-dropdown-menu-list__nested-menu__item__button{border-radius:0}.ck-button.ck-dropdown-menu-list__nested-menu__item__button>.ck-spinner-container,.ck-button.ck-dropdown-menu-list__nested-menu__item__button>.ck-spinner-container .ck-spinner{--ck-toolbar-spinner-size:20px}.ck-button.ck-dropdown-menu-list__nested-menu__item__button>.ck-spinner-container{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}.ck-button.ck-dropdown-menu-list__nested-menu__item__button:focus{border-color:transparent;box-shadow:none}.ck-button.ck-dropdown-menu-list__nested-menu__item__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/menu/dropdownmenulistitembutton.css"],names:[],mappings:"AAQA,4DACC,eA0BD,CAxBC,gLAGC,8BACD,CAEA,kFAEC,4CAA+C,CAC/C,oCACD,CAMA,kEACC,wBAAyB,CACzB,eAKD,CAHC,8EACC,0DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/*
 * List item buttons.
 */
.ck-button.ck-dropdown-menu-list__nested-menu__item__button {
	border-radius: 0;

	& > .ck-spinner-container,
	& > .ck-spinner-container .ck-spinner {
		/* These styles correspond to .ck-icon so that the spinner seamlessly replaces the icon. */
		--ck-toolbar-spinner-size: 20px;
	}

	& > .ck-spinner-container {
		/* These margins are the same as for .ck-icon. */
		margin-left: calc(-1 * var(--ck-spacing-small));
		margin-right: var(--ck-spacing-small);
	}

	/*
	 * Hovered items automatically get focused. Default focus styles look odd
	 * while moving across a huge list of items so let's get rid of them
	 */
	&:focus {
		border-color: transparent;
		box-shadow: none;

		&:not(.ck-on) {
			background: var(--ck-color-button-default-hover-background);
		}
	}
}
`],sourceRoot:""}]);const y=x},4782:d=>{d.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzUuNzUgMCAwIDEtLjIxNy4yMDYgNS4yNTEgNS4yNTEgMCAwIDEtOC41MDMtNS45NTUuNy43IDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NHptNS40OTQtNS4zMzVhLjc1Ljc1IDAgMCAxLS4xMi4yNzRsLTEuMTQ3IDEuNjM5YS43NS43NSAwIDEgMS0xLjIyOC0uODZsLjg2LTEuMjNhMy43NSAzLjc1IDAgMCAwLTYuMTQ0LTQuMzAxbC0uODYgMS4yMjlhLjc1Ljc1IDAgMCAxLTEuMjI5LS44NmwxLjE0OC0xLjY0YS43NS43NSAwIDAgMSAuMjE3LS4yMDYgNS4yNTEgNS4yNTEgMCAwIDEgOC41MDMgNS45NTVtLTQuNTYzLTIuNTMyYS43NS43NSAwIDAgMSAuMTg0IDEuMDQ1bC0zLjE1NSA0LjUwNWEuNzUuNzUgMCAxIDEtMS4yMjktLjg2bDMuMTU1LTQuNTA2YS43NS43NSAwIDAgMSAxLjA0NS0uMTg0Ii8+PC9zdmc+"},4808:(d,p,m)=>{m.d(p,{A:()=>B});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_),y=m(62),D=m.n(y),E=new URL(m(4782),m.b),j=x()(v()),M=D()(E);j.push([d.id,`.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url(${M});background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}`,"",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkimage.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,wDAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const B=j},4962:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;top:0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0;transform:translate(calc(var(--ck-spacing-medium)*-1),-6px) scale(.75);transform-origin:100% 0}@media (prefers-reduced-motion:reduce){.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transition:none}}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eDmHD,CCjHC,2FAEC,qCAED,CDEA,mEACC,UAwCD,CAtCC,gFAkBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAH9C,mBAAoB,CAQpB,sBAAuB,CAvBvB,KAAQ,CA4BR,+JAQD,CErDD,0FFoBG,MAAS,CAGT,6DAA+D,CAF/D,oBEnBH,CAFA,0FF2BG,OAAU,CAEV,sEAA0E,CAD1E,uBE1BH,CFgDE,uCAlCD,gFAmCE,eAEF,CADC,CASD,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,uWAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CEtGA,2XF0FE,+HExFF,CAFA,2XF8FE,wIE5FF,CFyGA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
				transform-origin: 0 0;
				/* By default, display the label scaled down above the field. */
				transform: translate(var(--ck-spacing-medium), -6px) scale(.75);
			}

			@mixin ck-dir rtl {
				right: 0px;
				transform-origin: 100% 0;
				transform: translate(calc(-1 * var(--ck-spacing-medium)), -6px) scale(.75);
			}

			pointer-events: none;

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=x},5032:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}@media (prefers-reduced-motion:reduce){.ck .ck-insert-table-dropdown-grid-box{transition:none}}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAcD,CAZC,uCATD,uCAUE,eAWF,CAVC,CAEA,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const y=x},5199:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{background:var(--ck-color-list-background);border-radius:0;list-style-type:none;padding:var(--ck-spacing-small) 0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list__item{cursor:default;min-width:15em}.ck.ck-list__item>.ck-button:not(.ck-list-item-button){border-radius:0;min-height:unset;padding:var(--ck-spacing-tiny) calc(var(--ck-spacing-standard)*2);width:100%}[dir=ltr] .ck.ck-list__item>.ck-button:not(.ck-list-item-button){text-align:left}[dir=rtl] .ck.ck-list__item>.ck-button:not(.ck-list-item-button){text-align:right}.ck.ck-list__item>.ck-button:not(.ck-list-item-button) .ck-button__label{line-height:calc(var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item>.ck-button:not(.ck-list-item-button):active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on:not(.ck-list-item-button){background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item>.ck-button.ck-on:not(.ck-list-item-button):active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on:not(.ck-list-item-button):hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item>.ck-button.ck-on:not(.ck-list-item-button):focus:not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item>.ck-button:not(.ck-list-item-button):hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item>.ck-button.ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item>.ck-button.ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium)}.ck-list .ck-list__group:first-child{padding-top:0}:not(.ck-hidden)~.ck-list .ck-list__group{border-top:1px solid var(--ck-color-base-border)}.ck-list .ck-list__group>.ck-label{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-large) 0}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;margin:var(--ck-spacing-small) 0;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEdD,YAIC,0CAA2C,CCH3C,eAAgB,CDEhB,oBAAqB,CAIrB,iCACD,CCLC,+DAEC,qCAED,CDGD,kBACC,cAAe,CAGf,cA4DD,CA1DC,uDAIC,eAAgB,CAFhB,gBAAiB,CADjB,iEAAoE,CAEpE,UAwCD,CE/DA,iEF2BE,eEzBF,CAFA,iEF+BE,gBE7BF,CFgCC,yEAEC,qEACD,CAEA,8DACC,eACD,CAEA,6DACC,oDAAqD,CACrD,yCAaD,CAXC,oEACC,eACD,CAEA,qFACC,0DACD,CAEA,qFACC,4CACD,CAGD,+EACC,uDACD,CAMA,mDACC,0CAA2C,CAC3C,aAMD,CAJC,2EACC,uDAAwD,CACxD,aACD,CAKH,yBACC,oCAiBD,CAdC,qCACC,aACD,CAGA,0CACC,gDACD,CAEA,mCACC,cAAe,CACf,eAAiB,CACjB,0DACD,CAGD,uBAGC,sCAAuC,CAFvC,UAAW,CAKX,gCAAiC,CAJjC,UAKD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);

	/* A spacing at the beginning and end of the list */
	padding: var(--ck-spacing-small) 0;
}

.ck.ck-list__item {
	cursor: default;

	/* Almost as wide as menu bar items. */
	min-width: 15em;

	& > .ck-button:not(.ck-list-item-button) {
		padding: var(--ck-spacing-tiny) calc(2 * var(--ck-spacing-standard));
		min-height: unset;
		width: 100%;
		border-radius: 0;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}

		& .ck-button__label {
			/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */
			line-height: calc(var(--ck-line-height-base) * var(--ck-font-size-base));
		}

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& > .ck-button.ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck-list .ck-list__group {
	padding-top: var(--ck-spacing-medium);

	/* Lists come with an inner vertical padding. Don't duplicate it. */
	&:first-child {
		padding-top: 0;
	}

	/* The group should have a border when it's not the first item. */
	*:not(.ck-hidden) ~ & {
		border-top: 1px solid var(--ck-color-base-border);
	}

	& > .ck-label {
		font-size: 11px;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-large) 0;
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);

	/* Give the separator some air */
	margin: var(--ck-spacing-small) 0;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=x},5247:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highlighted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}@media (forced-colors:active){.ck-content .image>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:none}}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highlighted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,oDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAYD,CAJC,8BAXD,8BAYE,sBAAuB,CACvB,WAEF,CADC,CCdA,4BACC,qEDmBA,iDCjBA,CACD,CDmBA,uCALD,qEAME,cAEF,CADC,CAGD,sCACC,GACC,qEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@media (forced-colors: active) {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	@mixin ck-media-default-colors {
		animation: ck-image-caption-highlight .6s ease-out;
	}

	@media (prefers-reduced-motion: reduce) {
		animation: none;
	}
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const y=x},5380:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-panel) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-panel) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const y=x},5506:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);border-radius:0;height:20px;width:20px}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/colorinput.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC7BF,+CCME,4BAA6B,CAD7B,yBDHF,CAFA,+CCWE,2BAA4B,CAD5B,wBDRF,CCcC,2CACC,SACD,CAIA,wEACC,SA0CD,CDjED,kFC2BG,2BAA4B,CAD5B,wBDxBH,CC2BG,8FACC,iCACD,CD/BH,kFCoCG,4BAA6B,CAD7B,yBDjCH,CCoCG,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GAKC,6CAA8C,CC/CjD,eAAgB,CD8Cb,WAAY,CADZ,UAcD,CCzDF,+PAEC,qCAED,CD2CG,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CD7ED,8DCgFE,yBD9EF,CAFA,8DCoFE,wBDlFF,CCqFC,gEACC,uCAMD,CD9FD,0EC4FG,sCAAuC,CADvC,cDzFH",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-input-color {
	width: 100%;
	display: flex;
	flex-direction: row-reverse;

	& > input.ck.ck-input-text {
		min-width: auto;
		flex-grow: 1;
	}

	& > div.ck.ck-dropdown {
		min-width: auto;

		/* This dropdown has no arrow but a color preview instead. */
		& > .ck-input-color__button .ck-dropdown__arrow {
			display: none;
		}
	}

	& .ck.ck-input-color__button {
		/* Resolving issue with misaligned buttons on Safari (see #10589) */
		display: flex;

		& .ck.ck-input-color__button__preview {
			position: relative;
			overflow: hidden;

			& > .ck.ck-input-color__button__preview__no-color-indicator {
				position: absolute;
				display: block;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_rounded.css";

.ck.ck-input-color {
	& > .ck.ck-input-text {
		@mixin ck-dir ltr {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* Make sure the focused input is always on top of the dropdown button so its
		   outline and border are never cropped (also when the input is read-only). */
		&:focus {
			z-index: 0;
		}
	}

	& > .ck.ck-dropdown {
		& > .ck.ck-button.ck-input-color__button {
			padding: 0;

			@mixin ck-dir ltr {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;

				&:not(:focus) {
					border-left: 1px solid transparent;
				}
			}

			@mixin ck-dir rtl {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;

				&:not(:focus) {
					border-right: 1px solid transparent;
				}
			}

			&.ck-disabled {
				background: var(--ck-color-input-disabled-background);
			}

			& > .ck.ck-input-color__button__preview {
				@mixin ck-rounded-corners;

				width: 20px;
				height: 20px;
				border: 1px solid var(--ck-color-input-border);

				& > .ck.ck-input-color__button__preview__no-color-indicator {
					top: -30%;
					left: 50%;
					height: 150%;
					width: 8%;
					background: hsl(0, 100%, 50%);
					border-radius: 2px;
					transform: rotate(45deg);
					transform-origin: 50%;
				}
			}
		}
	}

	& .ck.ck-input-color__remove-color {
		width: 100%;
		padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);

		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;

		&:not(:focus) {
			border-bottom: 1px solid var(--ck-color-input-border);
		}

		@mixin ck-dir ltr {
			border-top-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
		}

		& .ck.ck-icon {
			margin-right: var(--ck-spacing-standard);

			@mixin ck-dir rtl {
				margin-right: 0;
				margin-left: var(--ck-spacing-standard);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=x},5562:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-table-properties-form {
	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			flex-wrap: wrap;
			flex-basis: 0;
			align-content: baseline;

			& .ck.ck-toolbar .ck-toolbar__items {
				flex-wrap: nowrap;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-table-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			align-self: flex-end;
			padding: 0;

			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);

				& .ck-toolbar__items > * {
					width: 40px;
				}
			}
		}
	}
}
`],sourceRoot:""}]);const y=x},5651:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap;width:400px}.ck.ck-media-form .ck-labeled-field-view{display:inline-block;width:100%}.ck.ck-media-form .ck-label{display:none}.ck.ck-media-form .ck-input{width:100%}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAAiB,CACjB,WA0BD,CAxBC,yCACC,oBAAqB,CACrB,UACD,CAEA,4BACC,YACD,CAEA,4BACC,UACD,CCnBA,oCDCD,kBAqBE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CC5BD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;
	width: 400px;

	& .ck-labeled-field-view {
		display: inline-block;
		width: 100%;
	}

	& .ck-label {
		display: none;
	}

	& .ck-input {
		width: 100%;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=x},5727:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-panel)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);border-radius:0;max-height:200px;min-width:auto;overflow-y:auto}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{box-shadow:var(--ck-drop-shadow),0 0}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,oBACC,iBAeD,CAbC,wCACC,iBAAkB,CAClB,yBAUD,CARC,6DACC,WACD,CAEA,6DAEC,WAAY,CADZ,QAED,CCVD,wCAMC,0CAA2C,CAC3C,sDAAuD,CCLxD,eAAgB,CDEf,gBAAiB,CAIjB,cAAe,CAHf,eAoBD,CCrBA,uHAEC,qCAED,CDRA,wCEAA,oCFyBA,CAfC,6DACC,2BAA4B,CAC5B,4BAA6B,CAG7B,kBACD,CAEA,6DACC,wBAAyB,CACzB,yBAA0B,CAG1B,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-autocomplete {
	position: relative;

	& > .ck-search__results {
		position: absolute;
		z-index: var(--ck-z-panel);

		&.ck-search__results_n {
			bottom: 100%;
		}

		&.ck-search__results_s {
			top: 100%;
			bottom: auto;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css";
@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css";

.ck.ck-autocomplete {
	& > .ck-search__results {
		@mixin ck-rounded-corners;
		@mixin ck-drop-shadow;

		max-height: 200px;
		overflow-y: auto;
		background: var(--ck-color-base-background);
		border: 1px solid var(--ck-color-dropdown-panel-border);
		min-width: auto;

		&.ck-search__results_n {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-bottom: -1px;
		}

		&.ck-search__results_s {
			border-top-left-radius: 0;
			border-top-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-top: -1px;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const y=x},6269:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-heading_heading1 .ck-button__label{font-size:20px}.ck.ck-heading_heading2 .ck-button__label{font-size:17px}.ck.ck-heading_heading3 .ck-button__label{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,0CACC,cACD,CAEA,0CACC,cACD,CAEA,0CACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-heading_heading1 .ck-button__label {
	font-size: 20px;
}

.ck.ck-heading_heading2 .ck-button__label {
	font-size: 17px;
}

.ck.ck-heading_heading3 .ck-button__label {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const y=x},6309:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CCZD,wMDUG,0BCRH,CDeC,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CErBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CDhBF,gHCoBI,uCDlBJ,CAFA,gHCwBI,sCDtBJ,CC2BC,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			display: flex;
			align-items: center;

			@mixin ck-dir rtl {
				justify-content: flex-start;
			}
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-selector_action-bar {
			display: flex;
			flex-direction: row;
			justify-content: space-around;

			& .ck-button-save,
			& .ck-button-cancel {
				flex: 1
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			width: 100%;
		}

		& .ck-button.ck-color-selector__color-picker {
			padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			& .ck.ck-icon {
				@mixin ck-dir ltr {
					margin-right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					margin-left: var(--ck-spacing-standard);
				}
			}
		}

		& label.ck.ck-color-grid__label {
			font-weight: unset;
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-picker {
			padding: 8px;

			& .hex-color-picker {
				height: 100px;
				min-width: 180px;

				&::part(saturation) {
					border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;
				}

				&::part(hue) {
					border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
				}

				&::part(saturation-pointer),
				&::part(hue-pointer) {
					width: 15px;
					height: 15px;
				}
			}
		}

		& .ck.ck-color-selector_action-bar {
			padding: 0 8px 8px;
		}
	}
}
`],sourceRoot:""}]);const y=x},6341:d=>{d.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgdmlld0JveD0iMCAwIDUwNCA1MDQiPjx0aXRsZT5nbHlwaC1sb2dvX01heTIwMTY8L3RpdGxlPjxkZWZzPjxwYXRoIGlkPSJhIiBkPSJNMCAuMTU5aDUwMy44NDFWNTAzLjk0SDB6Ii8+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PG1hc2sgaWQ9ImIiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTI1MS45MjEuMTU5Yy02OC40MTggMC03Ni45OTcuMjktMTAzLjg2NyAxLjUxNi0yNi44MTQgMS4yMjMtNDUuMTI3IDUuNDgyLTYxLjE1MSAxMS43MS0xNi41NjYgNi40MzctMzAuNjE1IDE1LjA1MS00NC42MjEgMjkuMDU2LTE0LjAwNSAxNC4wMDYtMjIuNjE5IDI4LjA1NS0yOS4wNTYgNDQuNjIxLTYuMjI4IDE2LjAyNC0xMC40ODcgMzQuMzM3LTExLjcxIDYxLjE1MUMuMjkgMTc1LjA4MyAwIDE4My42NjIgMCAyNTIuMDhjMCA2OC40MTcuMjkgNzYuOTk2IDEuNTE2IDEwMy44NjYgMS4yMjMgMjYuODE0IDUuNDgyIDQ1LjEyNyAxMS43MSA2MS4xNTEgNi40MzcgMTYuNTY2IDE1LjA1MSAzMC42MTUgMjkuMDU2IDQ0LjYyMSAxNC4wMDYgMTQuMDA1IDI4LjA1NSAyMi42MTkgNDQuNjIxIDI5LjA1NyAxNi4wMjQgNi4yMjcgMzQuMzM3IDEwLjQ4NiA2MS4xNTEgMTEuNzA5IDI2Ljg3IDEuMjI2IDM1LjQ0OSAxLjUxNiAxMDMuODY3IDEuNTE2IDY4LjQxNyAwIDc2Ljk5Ni0uMjkgMTAzLjg2Ni0xLjUxNiAyNi44MTQtMS4yMjMgNDUuMTI3LTUuNDgyIDYxLjE1MS0xMS43MDkgMTYuNTY2LTYuNDM4IDMwLjYxNS0xNS4wNTIgNDQuNjIxLTI5LjA1NyAxNC4wMDUtMTQuMDA2IDIyLjYxOS0yOC4wNTUgMjkuMDU3LTQ0LjYyMSA2LjIyNy0xNi4wMjQgMTAuNDg2LTM0LjMzNyAxMS43MDktNjEuMTUxIDEuMjI2LTI2Ljg3IDEuNTE2LTM1LjQ0OSAxLjUxNi0xMDMuODY2IDAtNjguNDE4LS4yOS03Ni45OTctMS41MTYtMTAzLjg2Ny0xLjIyMy0yNi44MTQtNS40ODItNDUuMTI3LTExLjcwOS02MS4xNTEtNi40MzgtMTYuNTY2LTE1LjA1Mi0zMC42MTUtMjkuMDU3LTQ0LjYyMS0xNC4wMDYtMTQuMDA1LTI4LjA1NS0yMi42MTktNDQuNjIxLTI5LjA1Ni0xNi4wMjQtNi4yMjgtMzQuMzM3LTEwLjQ4Ny02MS4xNTEtMTEuNzFDMzI4LjkxNy40NDkgMzIwLjMzOC4xNTkgMjUxLjkyMS4xNTltMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1czE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NmMzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjZzLTE3LjIwNyAxNC4yNzUtMjguOTY2IDE4Ljg0NWMtOC44NzcgMy40NS0yMi4yMTYgNy41NTQtNDYuNzc4IDguNjc0LTI2LjU2IDEuMjEyLTM0LjUyNyAxLjQ2OS0xMDEuNzk3IDEuNDY5LTY3LjI3MSAwLTc1LjIzNy0uMjU3LTEwMS43OTgtMS40NjktMjQuNTYyLTEuMTItMzcuOTAxLTUuMjI0LTQ2Ljc3OC04LjY3NC0xMS43NTktNC41Ny0yMC4xNTEtMTAuMDI5LTI4Ljk2Ni0xOC44NDVzLTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2NmMtMy40NS04Ljg3Ny03LjU1NC0yMi4yMTYtOC42NzQtNDYuNzc4LTEuMjEyLTI2LjU2NC0xLjQ2OS0zNC41MzItMS40NjktMTAxLjc5NyAwLTY3LjI2Ni4yNTctNzUuMjM0IDEuNDY5LTEwMS43OTggMS4xMi0yNC41NjIgNS4yMjQtMzcuOTAxIDguNjc0LTQ2Ljc3OCA0LjU3LTExLjc1OSAxMC4wMjktMjAuMTUxIDE4Ljg0NS0yOC45NjZzMTcuMjA3LTE0LjI3NSAyOC45NjYtMTguODQ1YzguODc3LTMuNDUgMjIuMjE2LTcuNTU0IDQ2Ljc3OC04LjY3NCAyNi41NjQtMS4yMTIgMzQuNTMyLTEuNDY5IDEwMS43OTgtMS40NjkiIG1hc2s9InVybCgjYikiLz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzNzMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0YzQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNtMC0yMTMuMzM4Yy03MS40NDcgMC0xMjkuMzY1IDU3LjkxOC0xMjkuMzY1IDEyOS4zNjUgMCA3MS40NDYgNTcuOTE4IDEyOS4zNjQgMTI5LjM2NSAxMjkuMzY0IDcxLjQ0NiAwIDEyOS4zNjQtNTcuOTE4IDEyOS4zNjQtMTI5LjM2NCAwLTcxLjQ0Ny01Ny45MTgtMTI5LjM2NS0xMjkuMzY0LTEyOS4zNjVNNDE2LjYyNyAxMTcuNjA0YzAgMTYuNjk2LTEzLjUzNSAzMC4yMy0zMC4yMzEgMzAuMjMtMTYuNjk1IDAtMzAuMjMtMTMuNTM0LTMwLjIzLTMwLjIzczEzLjUzNS0zMC4yMzEgMzAuMjMtMzAuMjMxYzE2LjY5NiAwIDMwLjIzMSAxMy41MzUgMzAuMjMxIDMwLjIzMSIvPjwvZz48L3N2Zz4="},6386:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image.image-style-block-align-left,.ck-content .image.image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image.image-style-align-left,.ck-content .image.image-style-align-right{clear:none}.ck-content .image.image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image.image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image.image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image.image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image.image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content p+.image.image-style-align-left,.ck-content p+.image.image-style-align-right,.ck-content p+.image.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAQE,iGAEC,oDACD,CAIA,qFAEC,UACD,CAEA,oCACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,0CACC,UAAW,CACX,0CACD,CAEA,2CACC,WAAY,CACZ,yCACD,CAEA,iDAEC,gBAAiB,CADjB,cAED,CAEA,gDACC,aAAc,CACd,iBACD,CAGD,sCACC,gBAAiB,CACjB,iBACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAGA,+HAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* See: https://github.com/ckeditor/ckeditor5/issues/16317 */
	& .image {
		/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
		confirming successful application of the style if image width exceeds the editor's size.
		See https://github.com/ckeditor/ckeditor5/issues/9342 */
		&.image-style-block-align-left,
		&.image-style-block-align-right {
			max-width: calc(100% - var(--ck-image-style-spacing));
		}

		/* Allows displaying multiple floating images in the same line.
		See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
		&.image-style-align-left,
		&.image-style-align-right {
			clear: none;
		}

		&.image-style-side {
			float: right;
			margin-left: var(--ck-image-style-spacing);
			max-width: 50%;
		}

		&.image-style-align-left {
			float: left;
			margin-right: var(--ck-image-style-spacing);
		}

		&.image-style-align-right {
			float: right;
			margin-left: var(--ck-image-style-spacing);
		}

		&.image-style-block-align-right {
			margin-right: 0;
			margin-left: auto;
		}

		&.image-style-block-align-left {
			margin-left: 0;
			margin-right: auto;
		}
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image.image-style-align-left,
	& p + .image.image-style-align-right,
	& p + .image.image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const y=x},6903:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const y=x},6931:d=>{d.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},7048:(d,p,m)=>{m.d(p,{A:()=>Q});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_),y=m(62),D=m.n(y),E=new URL(m(657),m.b),j=new URL(m(9736),m.b),M=new URL(m(6341),m.b),B=new URL(m(7784),m.b),z=x()(v()),G=D()(E),J=D()(j),H=D()(M),F=D()(B);z.push([d.id,`.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(${G})}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(${J})}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(${H})}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(${F})}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}`,"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wDACD,CAEA,2EACC,kBAaD,CAXC,wGACC,wDACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,wDACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wDACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not readonly.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const Q=z},7141:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/liststyles.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const y=x},7218:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-dropdown-menu-list__nested-menu{display:block}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/menu/dropdownmenu.css"],names:[],mappings:"AAKA,uCACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-dropdown-menu-list__nested-menu {
	display: block;
}
`],sourceRoot:""}]);const y=x},7317:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{transition:box-shadow .2s ease}@media (forced-colors:none){.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}}@media (forced-colors:active){.ck.ck-color-grid__tile{height:unset;min-height:unset;min-width:unset;padding:0 var(--ck-spacing-small);width:unset}.ck.ck-color-grid__tile .ck-button__label{display:inline-block}}@media (prefers-reduced-motion:reduce){.ck.ck-color-grid__tile{transition:none}}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,kBACC,YACD,CCCA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBACC,8BAkED,CC3EC,4BACC,wBDgBA,QAAS,CAJT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CAJV,oCCTA,CDgBA,8HAIC,QACD,CAEA,+DACC,gDACD,CAEA,8BACC,8FACD,CAEA,gGAEC,iGACD,CCjCD,CAZA,8BACC,wBDqDA,YAAa,CAEb,gBAAiB,CADjB,eAAgB,CAEhB,iCAAkC,CAJlC,WClDA,CDwDA,0CACC,oBACD,CCzDD,CD4DA,uCAhDD,wBAiDE,eAkBF,CAjBC,CAEA,oCACC,YAAa,CACb,gBACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAGC,0CACC,aACD,CAIF,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	transition: .2s ease box-shadow;

	@mixin ck-media-default-colors {
		width: var(--ck-color-grid-tile-size);
		height: var(--ck-color-grid-tile-size);
		min-width: var(--ck-color-grid-tile-size);
		min-height: var(--ck-color-grid-tile-size);
		padding: 0;
		border: 0;

		&.ck-on,
		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			/* Disable the default .ck-button's border ring. */
			border: 0;
		}

		&.ck-color-selector__color-tile_bordered {
			box-shadow: 0 0 0 1px var(--ck-color-base-border);
		}

		&.ck-on {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);
		}

		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
		}
	}

	/*
	 * In high contrast mode, the colors are replaced with text labels.
	 * See https://github.com/ckeditor/ckeditor5/issues/14907.
	 */
	@mixin ck-media-forced-colors {
		width: unset;
		height: unset;
		min-width: unset;
		min-height: unset;
		padding: 0 var(--ck-spacing-small);

		& .ck-button__label {
			display: inline-block;
		}
	}

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		& .ck.ck-icon {
			display: block;
		}
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const y=x},7378:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-editor__editable img.image_placeholder{background-size:100% 100%}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageplaceholder.css"],names:[],mappings:"AAMC,8CACC,yBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-editor__editable {
	& img.image_placeholder {
		background-size: 100% 100%;
	}
}
`],sourceRoot:""}]);const y=x},7388:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-panel)}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border:solid var(--ck-color-base-border);border-radius:0;border-width:1px 1px 0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-sticky-panel__content_sticky{border-bottom-width:1px}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-menu-bar{border:0;border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-toolbar{border:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,8DAOC,wCAAsB,CCLxB,eAAgB,CDKd,sBAcD,CCjBD,mKAEC,qCAAsC,CDJpC,2BAA4B,CAC5B,4BCKH,CDCE,8FACC,uBACD,CAEA,2EACC,QAAS,CACT,mDACD,CAEA,0EACC,QACD,CAMH,yCAEC,0CAA2C,CC1B3C,eDoCD,CClCC,yHAEC,qCAAsC,CDyBtC,wBAAyB,CACzB,yBCxBD,CD2BA,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-panel);
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-sticky-panel__content {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border: 1px solid var(--ck-color-base-border);
			border-bottom-width: 0;

			&.ck-sticky-panel__content_sticky {
				border-bottom-width: 1px;
			}

			& .ck-menu-bar {
				border: 0;
				border-bottom: 1px solid var(--ck-color-base-border);
			}

			& .ck-toolbar {
				border: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=x},7621:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal));--ck-icon-font-size:.8333350694em}.ck.ck-icon{font-size:var(--ck-icon-font-size);height:var(--ck-icon-size);width:var(--ck-icon-size)}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EAA6E,CAC7E,iCACD,CAEA,YAKC,kCAAmC,CAHnC,0BAA2B,CAD3B,yBA2BD,CAlBC,0BAFA,cAKA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
	--ck-icon-font-size: .8333350694em;
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: var(--ck-icon-font-size);

	/* Inherit cursor style (#5). */
	cursor: inherit;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const y=x},7676:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck-hidden{display:none!important}:root{--ck-z-default:1;--ck-z-panel:calc(var(--ck-z-default) + 999);--ck-z-dialog:9999}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-font-size:calc(var(--ck-font-size-base)*7.5/13);--ck-powered-by-line-height:calc(var(--ck-font-size-base)*10/13);--ck-powered-by-letter-spacing:calc(var(--ck-font-size-base)*-0.2/13);--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border);--ck-powered-by-svg-width:53;--ck-powered-by-svg-height:10;--ck-powered-by-icon-width:calc(var(--ck-font-size-base)*var(--ck-powered-by-svg-width)/13);--ck-powered-by-icon-height:calc(var(--ck-font-size-base)*var(--ck-powered-by-svg-height)/13)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-panel) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:var(--ck-powered-by-font-size);font-weight:700;letter-spacing:var(--ck-powered-by-letter-spacing);line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block;height:var(--ck-powered-by-icon-height);width:var(--ck-powered-by-icon-width)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-evaluation-badge-font-size:calc(var(--ck-font-size-base)*7.5/13);--ck-evaluation-badge-line-height:calc(var(--ck-font-size-base)*7.5/13);--ck-evaluation-badge-letter-spacing:calc(var(--ck-font-size-base)*-0.2/13);--ck-evaluation-badge-padding-vertical:2px;--ck-evaluation-badge-padding-horizontal:4px;--ck-evaluation-badge-text-color:#4f4f4f;--ck-evaluation-badge-border-radius:var(--ck-border-radius);--ck-evaluation-badge-background:#fff;--ck-evaluation-badge-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-evaluation-badge-balloon{--ck-border-radius:var(--ck-evaluation-badge-border-radius);background:var(--ck-evaluation-badge-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-panel) - 1)}.ck.ck-balloon-panel.ck-evaluation-badge-balloon .ck.ck-evaluation-badge{line-height:var(--ck-evaluation-badge-line-height);padding:var(--ck-evaluation-badge-padding-vertical) var(--ck-evaluation-badge-padding-horizontal)}.ck.ck-balloon-panel.ck-evaluation-badge-balloon .ck.ck-evaluation-badge .ck-evaluation-badge__label{color:var(--ck-evaluation-badge-text-color);display:block;font-size:var(--ck-evaluation-badge-font-size);font-weight:700;letter-spacing:var(--ck-evaluation-badge-letter-spacing);line-height:normal;padding:0 2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-evaluation-badge-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-evaluation-badge-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-evaluation-badge-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-dialog-background:var(--ck-custom-background);--ck-color-dialog-form-header-border:var(--ck-custom-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-color-light-red:#fcc;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{background:transparent;border:0;box-sizing:border-box;height:auto;margin:0;padding:0;position:static;text-decoration:none;transition:none;vertical-align:middle;width:auto;word-wrap:break-word}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-ui/theme/globals/_poweredby.css","webpack://./../ckeditor5-ui/theme/globals/_evaluationbadge.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,MACC,gBAAiB,CACjB,4CAA+C,CAC/C,kBACD,CCDA,oDAEC,yBACD,CCNA,MAEC,+DAAoE,CAEpE,gEAAqE,CAErE,qEAA0E,CAC1E,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDAA0D,CAE1D,4BAA6B,CAC7B,6BAA8B,CAC9B,2FAAgG,CAChG,6FACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAmDD,CAjDC,6DACC,4CAsCD,CApCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,wCAAyC,CAIzC,eAAiB,CAHjB,kDAAmD,CAMnD,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAAc,CAGd,uCAAwC,CADxC,qCAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CC5ED,MAEC,qEAA0E,CAE1E,uEAA4E,CAE5E,2EAAgF,CAChF,0CAA2C,CAC3C,4CAA6C,CAC7C,wCAAiD,CACjD,2DAA4D,CAC5D,qCAAkD,CAClD,+DACD,CAEA,iDACC,2DAA4D,CAG5D,gDAAiD,CADjD,eAAgB,CAEhB,gBAAiB,CACjB,mCA0BD,CAxBC,yEACC,kDAAmD,CACnD,iGAYD,CAVC,qGAQC,2CAA4C,CAP5C,aAAc,CAEd,8CAA+C,CAE/C,eAAiB,CADjB,wDAAyD,CAEzD,kBAAmB,CAJnB,aAAc,CAKd,wBAED,CAGD,yEACC,wBACD,CAEA,yEACC,2BAA4B,CAC5B,oDACD,CC9CD,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,wDAAiE,CACjE,4DAAmE,CAInE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAyD,CAIzD,yBAAgD,CChHhD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJgHD,CI1GA,2EAYC,sBAAuB,CADvB,QAAS,CART,qBAAsB,CAEtB,WAAY,CAIZ,QAAS,CACT,SAAU,CAJV,eAAgB,CAOhB,oBAAqB,CAErB,eAAgB,CADhB,qBAAsB,CAVtB,UAAW,CAcX,oBACD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCxFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-z-default: 1;
	--ck-z-panel: calc( var(--ck-z-default) + 999 );
	--ck-z-dialog: 9999;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	/* where 7.5(px) is the font size of the powered by label and 13(px) is the base font size. */
	--ck-powered-by-font-size: calc(var(--ck-font-size-base) * 7.5 / 13);
	/* where 10(px) is the line height of the powered by label and 13(px) is the base font size. */
	--ck-powered-by-line-height: calc(var(--ck-font-size-base) * 10 / 13);
	/* where -0.2(px) is the letter spacing of the powered by label and 13(px) is the base font size. */
	--ck-powered-by-letter-spacing: calc(var(--ck-font-size-base) * -0.2 / 13);
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);

	--ck-powered-by-svg-width: 53;
	--ck-powered-by-svg-height: 10;
	--ck-powered-by-icon-width: calc(var(--ck-font-size-base) * var(--ck-powered-by-svg-width) / 13);
	--ck-powered-by-icon-height: calc(var(--ck-font-size-base) * var(--ck-powered-by-svg-height) / 13);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-panel) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: var(--ck-powered-by-font-size);
			letter-spacing: var(--ck-powered-by-letter-spacing);
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
			width: var(--ck-powered-by-icon-width);
			height: var(--ck-powered-by-icon-height);
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	/* where 7.5(px) is the font size of the evaluation badge label and 13(px) is the base font size. */
	--ck-evaluation-badge-font-size: calc(var(--ck-font-size-base) * 7.5 / 13);
	/* where 7.5(px) is the line height of the evaluation badge label and 13(px) is the base font size. */
	--ck-evaluation-badge-line-height: calc(var(--ck-font-size-base) * 7.5 / 13);
	/* where -0.2(px) is the letter spacing of the evaluation badge label and 13(px) is the base font size. */
	--ck-evaluation-badge-letter-spacing: calc(var(--ck-font-size-base) * -0.2 / 13);
	--ck-evaluation-badge-padding-vertical: 2px;
	--ck-evaluation-badge-padding-horizontal: 4px;
	--ck-evaluation-badge-text-color: hsl(0, 0%, 31%);
	--ck-evaluation-badge-border-radius: var(--ck-border-radius);
	--ck-evaluation-badge-background: hsl(0, 0%, 100%);
	--ck-evaluation-badge-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-evaluation-badge-balloon {
	--ck-border-radius: var(--ck-evaluation-badge-border-radius);

	box-shadow: none;
	background: var(--ck-evaluation-badge-background);
	min-height: unset;
	z-index: calc( var(--ck-z-panel) - 1 );

	& .ck.ck-evaluation-badge {
		line-height: var(--ck-evaluation-badge-line-height);
		padding: var(--ck-evaluation-badge-padding-vertical) var(--ck-evaluation-badge-padding-horizontal);

		& .ck-evaluation-badge__label {
			display: block;
			padding: 0 2px;
			font-size: var(--ck-evaluation-badge-font-size);
			letter-spacing: var(--ck-evaluation-badge-letter-spacing);
			font-weight: bold;
			line-height: normal;
			text-transform: uppercase;
			color: var(--ck-evaluation-badge-text-color);
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-evaluation-badge-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Dialog -------------------------------------------------------------------------------- */

	--ck-color-dialog-background: 								var(--ck-custom-background);
	--ck-color-dialog-form-header-border: 						var(--ck-custom-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%);

	/* -- Generic colors ------------------------------------------------------------------------- */

	--ck-color-light-red:										hsl(0, 100%, 90%);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;

	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const y=x},7693:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0s,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@media (prefers-reduced-motion:reduce){.ck-image-upload-complete-icon{animation-duration:0s}.ck-image-upload-complete-icon:after{animation:none;height:.45em;opacity:1;width:.3em}}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,qBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFAqCD,CAjCC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAEA,uCA7CD,+BA8CE,qBASF,CAPE,qCACC,cAAe,CAGf,YAAc,CAFd,SAAU,CACV,UAED,CACD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 0ms;

		&::after {
			animation: none;
			opacity: 1;
			width: 0.3em;
			height: 0.45em;
		}
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const y=x},7719:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const y=x},7784:d=>{d.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwME0xNjMuNCAzMDUuNWM4OC43IDAgMTM3LjItNzMuNSAxMzcuMi0xMzcuMiAwLTIuMSAwLTQuMi0uMS02LjIgOS40LTYuOCAxNy42LTE1LjMgMjQuMS0yNS04LjYgMy44LTE3LjkgNi40LTI3LjcgNy42IDEwLTYgMTcuNi0xNS40IDIxLjItMjYuNy05LjMgNS41LTE5LjYgOS41LTMwLjYgMTEuNy04LjgtOS40LTIxLjMtMTUuMi0zNS4yLTE1LjItMjYuNiAwLTQ4LjIgMjEuNi00OC4yIDQ4LjIgMCAzLjguNCA3LjUgMS4zIDExLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40LTQuMSA3LjEtNi41IDE1LjQtNi41IDI0LjIgMCAxNi43IDguNSAzMS41IDIxLjUgNDAuMS03LjktLjItMTUuMy0yLjQtMjEuOC02di42YzAgMjMuNCAxNi42IDQyLjggMzguNyA0Ny4zLTQgMS4xLTguMyAxLjctMTIuNyAxLjctMy4xIDAtNi4xLS4zLTkuMS0uOSA2LjEgMTkuMiAyMy45IDMzLjEgNDUgMzMuNS0xNi41IDEyLjktMzcuMyAyMC42LTU5LjkgMjAuNi0zLjkgMC03LjctLjItMTEuNS0uNyAyMS4xIDEzLjggNDYuNSAyMS44IDczLjcgMjEuOCIgc3R5bGU9ImZpbGw6I2ZmZiIvPjwvc3ZnPg=="},7793:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CC9BA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eAwBD,CAtBC,yCAMC,kBAAmB,CALnB,UAAW,CAIX,QAAS,CAHT,iBAAkB,CAClB,uDAA0D,CAC1D,OAiBD,CCjFA,mDDwEE,sFAAuF,CADvF,+JAAoK,CAFpK,SCnEF,CAFA,mDD+EE,sFAAuF,CADvF,+JAAmK,CAFnK,UC1EF",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border);
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: '';
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;

	&::before {
		content: '';
		position: absolute;
		top: calc(-.5 * var(--ck-clipboard-drop-target-dot-width));
		width: 0;
		height: 0;
		border-style: solid;

		@mixin ck-dir ltr {
			left: -1px;

			border-width: calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height);
			border-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);
		}

		@mixin ck-dir rtl {
			right: -1px;

			border-width:calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0;
			border-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=x},7801:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const y=x},7913:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:44px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}[dir=ltr] .ck.ck-form__header>.ck-icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-form__header>.ck-icon{margin-left:var(--ck-spacing-medium)}.ck.ck-form__header .ck-form__header__label{--ck-font-size-base:15px;font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BAKD,CAHC,8CACC,WACD,CCPD,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAmBD,CCzBC,uCDaE,qCCXF,CAFA,uCDiBE,oCCfF,CDmBA,4CACC,wBAAyB,CACzB,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;

	& h2.ck-form__header__label {
		flex-grow: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-form-header-height: 44px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& > .ck-icon {
		@mixin ck-dir ltr {
			margin-right: var(--ck-spacing-medium);
		}

		@mixin ck-dir rtl {
			margin-left: var(--ck-spacing-medium);
		}
	}

	& .ck-form__header__label {
		--ck-font-size-base: 15px;
		font-weight: bold;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=x},8021:d=>{d.exports=function(p,m){Object.keys(m).forEach(function(k){p.setAttribute(k,m[k])})}},8107:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/search/search.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/search/search.css"],names:[],mappings:"AASE,oFACC,iBAAkB,CAClB,OAAQ,CACR,0BASD,CCfD,8FDSG,6BCPH,CAFA,8FDaG,8BCXH,CDeC,uDACC,iBAAkB,CAClB,OAAQ,CACR,0BACD,CAKC,oEACC,aACD,CAGA,qEACC,YACD,CEhCH,MACC,8FACD,CAIE,+CACC,UACD,CAEA,gEACC,0FAoBD,CAlBC,+GACC,UAAW,CACX,mBACD,CAEA,0EACC,UAWD,CAJE,kMACC,2DACD,CAKH,iEACC,sGAwCD,CAtCC,6FACC,6HACD,CAEA,mFAIC,eAAgB,CAFhB,eAAgB,CADhB,cAAe,CAIf,UAAW,CACX,SAaD,CD5DF,6FCkDI,8BDhDJ,CAFA,6FCsDI,6BDpDJ,CCuDG,yFACC,SACD,CAGD,2EACC,UAWD,CD1EF,oMCwEI,4DDtEJ,CC4EA,kCACC,cAkBD,CAhBC,mDAEC,wDAAyD,CADzD,UAcD,CAXC,qDACC,kBACD,CAEA,oEACC,eACD,CAEA,mEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-search {
	& > .ck-labeled-field-view {
		& > .ck-labeled-field-view__input-wrapper > .ck-icon {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);

			@mixin ck-dir ltr {
				left: var(--ck-spacing-medium);
			}

			@mixin ck-dir rtl {
				right: var(--ck-spacing-medium);
			}
		}

		& .ck-search__reset {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);
		}
	}

	& > .ck-search__results {
		& > .ck-search__info {
			& > span:first-child {
				display: block;
			}

			/* Hide the filtered view when nothing was found */
			&:not(.ck-hidden) ~ * {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-search-field-view-horizontal-spacing: calc(var(--ck-icon-size) + var(--ck-spacing-medium));
}

.ck.ck-search {
	& > .ck-labeled-field-view {
		& .ck-input {
			width: 100%;
		}

		&.ck-search__query_with-icon {
			--ck-labeled-field-label-default-position-x: var(--ck-search-field-view-horizontal-spacing);

			& > .ck-labeled-field-view__input-wrapper > .ck-icon {
				opacity: .5;
				pointer-events: none;
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					padding-left: var(--ck-search-field-view-horizontal-spacing);
				}

				@mixin ck-dir rtl {
					&:not(.ck-input-text_empty) {
						padding-left: var(--ck-search-field-view-horizontal-spacing);
					}
				}
			}
		}

		&.ck-search__query_with-reset {
			--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-search-field-view-horizontal-spacing);

			&.ck-labeled-field-view_empty {
				--ck-labeled-field-empty-unfocused-max-width: 100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium);
			}

			& .ck-search__reset {
				min-width: auto;
				min-height: auto;

				background: none;
				opacity: .5;
				padding: 0;

				@mixin ck-dir ltr {
					right: var(--ck-spacing-medium);
				}

				@mixin ck-dir rtl {
					left: var(--ck-spacing-medium);
				}

				&:hover {
					opacity: 1;
				}
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					&:not(.ck-input-text_empty) {
						padding-right: var(--ck-search-field-view-horizontal-spacing);
					}
				}

				@mixin ck-dir rtl {
					padding-right: var(--ck-search-field-view-horizontal-spacing);
				}
			}
		}
	}

	& > .ck-search__results {
		min-width: 100%;

		& > .ck-search__info {
			width: 100%;
			padding: var(--ck-spacing-medium) var(--ck-spacing-large);

			& * {
				white-space: normal;
			}

			& > span:first-child {
				font-weight: bold;
			}

			& > span:last-child {
				margin-top: var(--ck-spacing-medium);
			}
		}
	}
}

`],sourceRoot:""}]);const y=x},8128:d=>{var p={};d.exports=function(m,k){var v=function(_){if(p[_]===void 0){var x=document.querySelector(_);if(window.HTMLIFrameElement&&x instanceof window.HTMLIFrameElement)try{x=x.contentDocument.head}catch{x=null}p[_]=x}return p[_]}(m);if(!v)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");v.appendChild(k)}},8137:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,gEACD,CAWE,8QAGC,2DAA4D,CAC5D,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		/**
		 * While setting outline is fine, the border should not be modified here
		 * because it overrides the default table cell border color which is not expected.
		 * So do not use \`@mixin ck-focus-ring;\` here, or any other border styles.
		 * See more: https://github.com/ckeditor/ckeditor5/issues/16979
		 */
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-selector-focused-cell-background);
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const y=x},8149:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-panel) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);border-radius:0;bottom:0;min-width:100%}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBAIC,oDAAqD,CACrD,sDAAuD,CGvFvD,eAAgB,CHwFhB,QAAS,CAGT,cAuBD,CGhHC,qFAEC,qCAED,CH4ED,uBEpFC,oCFoHD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-panel);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-panel) + 1 );
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;

			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=x},8264:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const y=x},8298:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-panel)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-panel); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const y=x},8423:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const y=x},8508:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button svg{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button:hover,.ck .ck-widget .ck-widget__type-around__button:hover svg line,.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:none}}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAwED,CAhEC,uCATD,+CAUE,eA+DF,CA9DC,CAEA,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAwBD,CAlBC,uCAPD,mDAQE,eAiBF,CAhBC,CAEA,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DA4BD,CAtBE,kEACC,oDACD,CAEA,8DACC,wDACD,CAGD,uCAQE,qLACC,cACD,CAEF,CASD,uKA7FD,SAAU,CACV,mBA8FC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAxKD,SAAU,CACV,mBAyKC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAxNF,SAAU,CACV,mBAyNE,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}

			@media (prefers-reduced-motion: reduce) {
				animation: none;

				& svg {
					& polyline {
						animation: none;
					}

					& line {
						animation: none;
					}
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const y=x},8527:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,":root{--ck-accessibility-help-dialog-max-width:600px;--ck-accessibility-help-dialog-max-height:400px;--ck-accessibility-help-dialog-border-color:#ccced1;--ck-accessibility-help-dialog-code-background-color:#ededed;--ck-accessibility-help-dialog-kbd-shadow-color:#9c9c9c}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{border:1px solid transparent;max-height:var(--ck-accessibility-help-dialog-max-height);max-width:var(--ck-accessibility-help-dialog-max-width);overflow:auto;padding:var(--ck-spacing-large);user-select:text}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content *{white-space:normal}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content .ck-label{display:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3{font-size:1.2em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4{font-size:1em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content p,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content table{margin:1em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl{border-bottom:none;border-top:1px solid var(--ck-accessibility-help-dialog-border-color);display:grid;grid-template-columns:2fr 1fr}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{border-bottom:1px solid var(--ck-accessibility-help-dialog-border-color);padding:.4em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{grid-column-start:1}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd{grid-column-start:2;text-align:right}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{background:var(--ck-accessibility-help-dialog-code-background-color);border-radius:2px;display:inline-block;font-size:.9em;line-height:1;padding:.4em;text-align:center;vertical-align:middle}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code{font-family:monospace}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{box-shadow:0 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);margin:0 1px;min-width:1.8em}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd+kbd{margin-left:2px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/accessibilityhelp.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAQA,MACC,8CAA+C,CAC/C,+CAAgD,CAChD,mDAA8D,CAC9D,4DAAyE,CACzE,uDACD,CAEA,wEAOC,4BAA6B,CAJ7B,yDAA0D,CAD1D,uDAAwD,CAExD,aAAc,CAHd,+BAAgC,CAIhC,gBAgFD,CA5EC,8ECdA,2BAA2B,CCF3B,2CAA8B,CDC9B,YDkBA,CAEA,0EACC,kBACD,CAGA,kFACC,YACD,CAEA,2EAEC,eAAgB,CADhB,eAED,CAEA,2EAEC,aAAc,CADd,eAED,CAEA,8SAIC,YACD,CAEA,2EAIC,kBAAmB,CADnB,qEAAsE,CAFtE,YAAa,CACb,6BAiBD,CAbC,4JACC,wEAAyE,CACzE,cACD,CAEA,8EACC,mBACD,CAEA,8EACC,mBAAoB,CACpB,gBACD,CAGD,yJAEC,oEAAqE,CAIrE,iBAAkB,CALlB,oBAAqB,CAOrB,cAAe,CAHf,aAAc,CAFd,YAAa,CAIb,iBAAkB,CAHlB,qBAKD,CAEA,6EACC,qBACD,CAEA,4EAEC,yEAA4E,CAC5E,YAAa,CAFb,eAOD,CAHC,gFACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-accessibility-help-dialog-max-width: 600px;
	--ck-accessibility-help-dialog-max-height: 400px;
	--ck-accessibility-help-dialog-border-color: hsl(220, 6%, 81%);
	--ck-accessibility-help-dialog-code-background-color: hsl(0deg 0% 92.94%);
	--ck-accessibility-help-dialog-kbd-shadow-color: hsl(0deg 0% 61%);
}

.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content {
	padding: var(--ck-spacing-large);
	max-width: var(--ck-accessibility-help-dialog-max-width);
	max-height: var(--ck-accessibility-help-dialog-max-height);
	overflow: auto;
	user-select: text;

	border: 1px solid transparent;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	* {
		white-space: normal;
	}

	/* Hide the main label of the content container. */
	& .ck-label {
		display: none;
	}

	& h3 {
		font-weight: bold;
		font-size: 1.2em;
	}

	& h4 {
		font-weight: bold;
		font-size: 1em;
	}

	& p,
	& h3,
	& h4,
	& table {
		margin: 1em 0;
	}

	& dl {
		display: grid;
		grid-template-columns: 2fr 1fr;
		border-top: 1px solid var(--ck-accessibility-help-dialog-border-color);
		border-bottom: none;

		& dt, & dd {
			border-bottom: 1px solid var(--ck-accessibility-help-dialog-border-color);
			padding: .4em 0;
		}

		& dt {
			grid-column-start: 1;
		}

		& dd {
			grid-column-start: 2;
			text-align: right;
		}
	}

	& kbd, & code {
		display: inline-block;
		background: var(--ck-accessibility-help-dialog-code-background-color);
		padding: .4em;
		vertical-align: middle;
		line-height: 1;
		border-radius: 2px;
		text-align: center;
		font-size: .9em;
	}

	& code {
		font-family: monospace;
	}

	& kbd {
		min-width: 1.8em;
		box-shadow: 0px 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);
		margin: 0 1px;

		& + kbd {
			margin-left: 2px;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const y=x},8639:d=>{var p,m=(p=[],function(_,x){return p[_]=x,p.filter(Boolean).join(`
`)});function k(_,x,y,D){var E;if(y)E="";else{E="",D.supports&&(E+="@supports (".concat(D.supports,") {")),D.media&&(E+="@media ".concat(D.media," {"));var j=D.layer!==void 0;j&&(E+="@layer".concat(D.layer.length>0?" ".concat(D.layer):""," {")),E+=D.css,j&&(E+="}"),D.media&&(E+="}"),D.supports&&(E+="}")}if(_.styleSheet)_.styleSheet.cssText=m(x,E);else{var M=document.createTextNode(E),B=_.childNodes;B[x]&&_.removeChild(B[x]),B.length?_.insertBefore(M,B[x]):_.appendChild(M)}}var v={singleton:null,singletonCounter:0};d.exports=function(_){if(typeof document>"u")return{update:function(){},remove:function(){}};var x=v.singletonCounter++,y=v.singleton||(v.singleton=_.insertStyleElement(_));return{update:function(D){k(y,x,!1,D)},remove:function(D){k(y,x,!0,D)}}}},8708:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const y=x},8762:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CChEF,gJDyEG,aCvEH,CFAA",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=x},8795:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);bottom:-999999px;opacity:.25;top:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,oEAAqE,CACrE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAGC,QAAS,CAGT,iBAAkB,CALlB,iBAAkB,CAGlB,oDAAqD,CAFrD,KAAM,CAKN,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,8DAA+D,CAO/D,gBAAiB,CANjB,WAAa,CAKb,aAED,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);
	--ck-table-column-resizer-width: 7px;

	/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.
	   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */
	--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);
}

.ck-content .table .ck-table-resized {
	table-layout: fixed;
}

.ck-content .table table {
	overflow: hidden;
}

.ck-content .table td,
.ck-content .table th {
	/* To prevent text overflowing beyond its cell when columns are resized by resize handler
	(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */
	overflow-wrap: break-word;
	position: relative;
}

.ck.ck-editor__editable .table .ck-table-column-resizer {
	position: absolute;
	top: 0;
	bottom: 0;
	right: var(--ck-table-column-resizer-position-offset);
	width: var(--ck-table-column-resizer-width);
	cursor: col-resize;
	user-select: none;
	z-index: var(--ck-z-default);
}

.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {
	display: none;
}

/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,
   all resizers must be hidden while the table is dragged. */
.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {
	display: none;
}

.ck.ck-editor__editable .table .ck-table-column-resizer:hover,
.ck.ck-editor__editable .table .ck-table-column-resizer__active {
	background-color: var(--ck-color-selector-column-resizer-hover);
	opacity: 0.25;
	/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,
	   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as
	   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally
	   unrealistic height for a single table. */
	top: -999999px;
	bottom: -999999px;
}

.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {
	left: var(--ck-table-column-resizer-position-offset);
	right: unset;
}
`],sourceRoot:""}]);const y=x},8986:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecellproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-table-cell-properties-form {
	& .ck-form__row {
		&.ck-table-cell-properties-form__alignment-row {
			flex-wrap: wrap;

			& .ck.ck-toolbar {
				&:first-of-type {
					/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */
					flex-grow: 0.57;
				}

				&:last-of-type {
					/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */
					flex-grow: 0.43;
				}

				& .ck-button {
					flex-grow: 1;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-table-cell-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-cell-properties-form__padding-row {
			align-self: flex-end;
			padding: 0;
			width: 25%;
		}

		&.ck-table-cell-properties-form__alignment-row {
			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);
			}
		}
	}
}
`],sourceRoot:""}]);const y=x},8991:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-content .todo-list .todo-list__label>input:before{transition:none}}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{transition:none}}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}',"",{version:3,sources:["webpack://./../ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CA4EA,uBACC,eAwBD,CAtBC,0BAEC,iBAAkB,CADlB,iBAMD,CAHC,qCACC,cACD,CAIA,+CAtFD,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAqFC,CAvED,wDACC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAED,CAEA,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sDAYE,eAEF,CADC,CAGD,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAwBA,wEACC,qBACD,CAEA,mGACC,iBACD,CAYD,kKAEC,cAKD,CAHC,4LACC,mCACD,CAMD,+FAxHA,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAuHA,CAzGA,wGACC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAED,CAEA,sGAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sGAYE,eAEF,CADC,CAGD,qGAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+GACC,kBAA8B,CAC9B,oBACD,CAEA,8GACC,iBACD,CA2DA,uHACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

@define-mixin todo-list-checkbox {
	-webkit-appearance: none;
	display: inline-block;
	position: relative;
	width: var(--ck-todo-list-checkmark-size);
	height: var(--ck-todo-list-checkmark-size);
	vertical-align: middle;

	/* Needed on iOS */
	border: 0;

	/* LTR styles */
	left: -25px;
	margin-right: -15px;
	right: 0;
	margin-left: 0;

	/* RTL styles */
	[dir=rtl]& {
		left: 0;
		margin-right: 0;
		right: -25px;
		margin-left: -15px;
	}

	&::before {
		display: block;
		position: absolute;
		box-sizing: border-box;
		content: '';
		width: 100%;
		height: 100%;
		border: 1px solid hsl(0, 0%, 20%);
		border-radius: 2px;
		transition: 250ms ease-in-out box-shadow;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}
	}

	&::after {
		display: block;
		position: absolute;
		box-sizing: content-box;
		pointer-events: none;
		content: '';

		/* Calculate tick position, size and border-width proportional to the checkmark size. */
		left: calc( var(--ck-todo-list-checkmark-size) / 3 );
		top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
		border-style: solid;
		border-color: transparent;
		border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
		transform: rotate(45deg);
	}

	&[checked] {
		&::before {
			background: hsl(126, 64%, 41%);
			border-color: hsl(126, 64%, 41%);
		}

		&::after {
			border-color: hsl(0, 0%, 100%);
		}
	}
}

/*
 * To-do list content styles.
 */
.ck-content .todo-list {
	list-style: none;

	& li {
		position: relative;
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			@mixin todo-list-checkbox;
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}

		&.todo-list__label_without-description input[type=checkbox] {
			position: absolute;
		}
	}
}

/*
 * To-do list editing view styles.
 */
.ck-editor__editable.ck-content .todo-list .todo-list__label {
	/*
	 * To-do list should be interactive only during the editing
	 * (https://github.com/ckeditor/ckeditor5/issues/2090).
	 */
	& > input,
	& > span[contenteditable=false] > input {
		cursor: pointer;

		&:hover::before {
			box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
		}
	}

	/*
	 * Document Lists - editing view has an additional span around checkbox.
	 */
	& > span[contenteditable=false] > input {
		@mixin todo-list-checkbox;
	}

	&.todo-list__label_without-description {
		& input[type=checkbox] {
			position: absolute;
		}
	}
}
`],sourceRoot:""}]);const y=x},9047:(d,p,m)=>{const k=m(9246),v=m(802),_={};Object.keys(k).forEach(x=>{_[x]={},Object.defineProperty(_[x],"channels",{value:k[x].channels}),Object.defineProperty(_[x],"labels",{value:k[x].labels});const y=v(x);Object.keys(y).forEach(D=>{const E=y[D];_[x][D]=function(j){const M=function(...B){const z=B[0];if(z==null)return z;z.length>1&&(B=z);const G=j(B);if(typeof G=="object")for(let J=G.length,H=0;H<J;H++)G[H]=Math.round(G[H]);return G};return"conversion"in j&&(M.conversion=j.conversion),M}(E),_[x][D].raw=function(j){const M=function(...B){const z=B[0];return z==null?z:(z.length>1&&(B=z),j(B))};return"conversion"in j&&(M.conversion=j.conversion),M}(E)})}),d.exports=_},9108:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,":root{--ck-menu-bar-menu-max-width:75vw;--ck-menu-bar-nested-menu-horizontal-offset:5px}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{max-width:var(--ck-menu-bar-menu-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw{bottom:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{bottom:auto;top:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{left:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{right:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{left:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en{bottom:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{right:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{bottom:0}:root{--ck-menu-bar-menu-panel-max-width:75vw}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);border-radius:0;bottom:0;height:fit-content;max-width:var(--ck-menu-bar-menu-panel-max-width)}.ck-rounded-corners .ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{box-shadow:var(--ck-drop-shadow),0 0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{border-top-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{border-top-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne{border-bottom-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{border-bottom-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel:focus{outline:none}.ck.ck-menu-bar .ck-list-item-button:active,.ck.ck-menu-bar .ck-list-item-button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar.ck-menu-bar_focus-border-enabled .ck-list-item-button:active,.ck.ck-menu-bar.ck-menu-bar_focus-border-enabled .ck-list-item-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none;position:relative;z-index:2}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css"],names:[],mappings:"AAKA,MACC,iCAAkC,CAClC,+CACD,CAEA,mDAEC,2CAA4C,CAC5C,iBAAkB,CAFlB,yBAkDD,CA9CC,gLAEC,WACD,CAEA,gLAGC,WAAY,CADZ,QAED,CAEA,gLAEC,MACD,CAEA,gLAEC,OACD,CAEA,gLAEC,kEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CAEA,gLAEC,mEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CCnDD,MACC,uCACD,CAEA,mDAIC,oDAAqD,CACrD,sDAAuD,CCPvD,eAAgB,CDQhB,QAAS,CACT,kBAAmB,CACnB,iDA0BD,CClCC,6IAEC,qCAED,CDJD,mDEJC,oCFsCD,CAvBC,gLAEC,wBACD,CAEA,gLAEC,yBACD,CAEA,gLAEC,2BACD,CAEA,gLAEC,4BACD,CAEA,yDACC,YACD,CAKC,uFAEC,wBAAyB,CACzB,eACD,CAIA,yJGhDD,2BAA2B,CDF3B,2CAA8B,CCC9B,YAAa,CHoDX,iBAAkB,CAClB,SAID",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-menu-bar-menu-max-width: 75vw;
	--ck-menu-bar-nested-menu-horizontal-offset: 5px;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	z-index: var(--ck-z-panel);
	max-width: var(--ck-menu-bar-menu-max-width);
	position: absolute;

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_nw {
		bottom: 100%;
	}

	&.ck-menu-bar__menu__panel_position_se,
	&.ck-menu-bar__menu__panel_position_sw {
		top: 100%;
		bottom: auto;
	}

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_se {
		left: 0px;
	}

	&.ck-menu-bar__menu__panel_position_nw,
	&.ck-menu-bar__menu__panel_position_sw {
		right: 0px;
	}

	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_en {
		left: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_es {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_en {
		bottom: 0px;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_wn {
		right: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_ws {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_wn {
		bottom: 0px;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";

:root {
	--ck-menu-bar-menu-panel-max-width: 75vw;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;
	height: fit-content;
	max-width: var(--ck-menu-bar-menu-panel-max-width);

	/* Corner border radius consistent with the button. */
	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_se {
		border-top-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_sw {
		border-top-right-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_en,
	&.ck-menu-bar__menu__panel_position_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_wn,
	&.ck-menu-bar__menu__panel_position_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}

.ck.ck-menu-bar {
	& .ck-list-item-button {
		&:focus,
		&:active {
			border-color: transparent;
			box-shadow: none;
		}
	}

	&.ck-menu-bar_focus-border-enabled .ck-list-item-button {
		&:focus,
		&:active {
			/* Fix truncated shadows due to rendering order. */
			position: relative;
			z-index: 2;

			@mixin ck-focus-ring;
			@mixin ck-box-shadow var(--ck-focus-outer-shadow);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`],sourceRoot:""}]);const y=x},9205:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-balloon-panel.ck-tooltip{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;z-index:calc(var(--ck-z-dialog) + 100);--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);box-shadow:none;padding:0 var(--ck-spacing-medium)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;max-width:200px;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAOA,gCCEC,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBAAgB,CDFhB,sCAAyC,CEFzC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,6BAA8B,CAC9B,8DAA+D,CAkB/D,eAAgB,CAhBhB,kCFJD,CEMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAEA,wEAEC,oBAAqB,CAErB,eAAgB,CADhB,wCAAyC,CAFzC,wBAID,CAMA,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../mixins/_unselectable.css";

.ck.ck-balloon-panel.ck-tooltip {
	@mixin ck-unselectable;

	z-index: calc( var(--ck-z-dialog) + 100 );
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-tooltip-text-padding: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	&.ck-tooltip_multi-line .ck-tooltip__text {
		white-space: break-spaces;
		display: inline-block;
		padding: var(--ck-tooltip-text-padding) 0;
		max-width: 200px;
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const y=x},9246:(d,p,m)=>{const k=m(6931),v={};for(const x of Object.keys(k))v[k[x]]=x;const _={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};d.exports=_;for(const x of Object.keys(_)){if(!("channels"in _[x]))throw new Error("missing channels property: "+x);if(!("labels"in _[x]))throw new Error("missing channel labels property: "+x);if(_[x].labels.length!==_[x].channels)throw new Error("channel and label counts mismatch: "+x);const{channels:y,labels:D}=_[x];delete _[x].channels,delete _[x].labels,Object.defineProperty(_[x],"channels",{value:y}),Object.defineProperty(_[x],"labels",{value:D})}_.rgb.hsl=function(x){const y=x[0]/255,D=x[1]/255,E=x[2]/255,j=Math.min(y,D,E),M=Math.max(y,D,E),B=M-j;let z,G;M===j?z=0:y===M?z=(D-E)/B:D===M?z=2+(E-y)/B:E===M&&(z=4+(y-D)/B),z=Math.min(60*z,360),z<0&&(z+=360);const J=(j+M)/2;return G=M===j?0:J<=.5?B/(M+j):B/(2-M-j),[z,100*G,100*J]},_.rgb.hsv=function(x){let y,D,E,j,M;const B=x[0]/255,z=x[1]/255,G=x[2]/255,J=Math.max(B,z,G),H=J-Math.min(B,z,G),F=function(Q){return(J-Q)/6/H+.5};return H===0?(j=0,M=0):(M=H/J,y=F(B),D=F(z),E=F(G),B===J?j=E-D:z===J?j=.3333333333333333+y-E:G===J&&(j=.6666666666666666+D-y),j<0?j+=1:j>1&&(j-=1)),[360*j,100*M,100*J]},_.rgb.hwb=function(x){const y=x[0],D=x[1];let E=x[2];const j=_.rgb.hsl(x)[0],M=1/255*Math.min(y,Math.min(D,E));return E=1-.00392156862745098*Math.max(y,Math.max(D,E)),[j,100*M,100*E]},_.rgb.cmyk=function(x){const y=x[0]/255,D=x[1]/255,E=x[2]/255,j=Math.min(1-y,1-D,1-E);return[100*((1-y-j)/(1-j)||0),100*((1-D-j)/(1-j)||0),100*((1-E-j)/(1-j)||0),100*j]},_.rgb.keyword=function(x){const y=v[x];if(y)return y;let D,E=1/0;for(const B of Object.keys(k)){const z=k[B],G=(M=z,((j=x)[0]-M[0])**2+(j[1]-M[1])**2+(j[2]-M[2])**2);G<E&&(E=G,D=B)}var j,M;return D},_.keyword.rgb=function(x){return k[x]},_.rgb.xyz=function(x){let y=x[0]/255,D=x[1]/255,E=x[2]/255;return y=y>.04045?((y+.055)/1.055)**2.4:y/12.92,D=D>.04045?((D+.055)/1.055)**2.4:D/12.92,E=E>.04045?((E+.055)/1.055)**2.4:E/12.92,[100*(.4124*y+.3576*D+.1805*E),100*(.2126*y+.7152*D+.0722*E),100*(.0193*y+.1192*D+.9505*E)]},_.rgb.lab=function(x){const y=_.rgb.xyz(x);let D=y[0],E=y[1],j=y[2];return D/=95.047,E/=100,j/=108.883,D=D>.008856?D**.3333333333333333:7.787*D+.13793103448275862,E=E>.008856?E**.3333333333333333:7.787*E+.13793103448275862,j=j>.008856?j**.3333333333333333:7.787*j+.13793103448275862,[116*E-16,500*(D-E),200*(E-j)]},_.hsl.rgb=function(x){const y=x[0]/360,D=x[1]/100,E=x[2]/100;let j,M,B;if(D===0)return B=255*E,[B,B,B];j=E<.5?E*(1+D):E+D-E*D;const z=2*E-j,G=[0,0,0];for(let J=0;J<3;J++)M=y+.3333333333333333*-(J-1),M<0&&M++,M>1&&M--,B=6*M<1?z+6*(j-z)*M:2*M<1?j:3*M<2?z+(j-z)*(.6666666666666666-M)*6:z,G[J]=255*B;return G},_.hsl.hsv=function(x){const y=x[0];let D=x[1]/100,E=x[2]/100,j=D;const M=Math.max(E,.01);return E*=2,D*=E<=1?E:2-E,j*=M<=1?M:2-M,[y,100*(E===0?2*j/(M+j):2*D/(E+D)),100*((E+D)/2)]},_.hsv.rgb=function(x){const y=x[0]/60,D=x[1]/100;let E=x[2]/100;const j=Math.floor(y)%6,M=y-Math.floor(y),B=255*E*(1-D),z=255*E*(1-D*M),G=255*E*(1-D*(1-M));switch(E*=255,j){case 0:return[E,G,B];case 1:return[z,E,B];case 2:return[B,E,G];case 3:return[B,z,E];case 4:return[G,B,E];case 5:return[E,B,z]}},_.hsv.hsl=function(x){const y=x[0],D=x[1]/100,E=x[2]/100,j=Math.max(E,.01);let M,B;B=(2-D)*E;const z=(2-D)*j;return M=D*j,M/=z<=1?z:2-z,M=M||0,B/=2,[y,100*M,100*B]},_.hwb.rgb=function(x){const y=x[0]/360;let D=x[1]/100,E=x[2]/100;const j=D+E;let M;j>1&&(D/=j,E/=j);const B=Math.floor(6*y),z=1-E;M=6*y-B,1&B&&(M=1-M);const G=D+M*(z-D);let J,H,F;switch(B){default:case 6:case 0:J=z,H=G,F=D;break;case 1:J=G,H=z,F=D;break;case 2:J=D,H=z,F=G;break;case 3:J=D,H=G,F=z;break;case 4:J=G,H=D,F=z;break;case 5:J=z,H=D,F=G}return[255*J,255*H,255*F]},_.cmyk.rgb=function(x){const y=x[0]/100,D=x[1]/100,E=x[2]/100,j=x[3]/100;return[255*(1-Math.min(1,y*(1-j)+j)),255*(1-Math.min(1,D*(1-j)+j)),255*(1-Math.min(1,E*(1-j)+j))]},_.xyz.rgb=function(x){const y=x[0]/100,D=x[1]/100,E=x[2]/100;let j,M,B;return j=3.2406*y+-1.5372*D+-.4986*E,M=-.9689*y+1.8758*D+.0415*E,B=.0557*y+-.204*D+1.057*E,j=j>.0031308?1.055*j**.4166666666666667-.055:12.92*j,M=M>.0031308?1.055*M**.4166666666666667-.055:12.92*M,B=B>.0031308?1.055*B**.4166666666666667-.055:12.92*B,j=Math.min(Math.max(0,j),1),M=Math.min(Math.max(0,M),1),B=Math.min(Math.max(0,B),1),[255*j,255*M,255*B]},_.xyz.lab=function(x){let y=x[0],D=x[1],E=x[2];return y/=95.047,D/=100,E/=108.883,y=y>.008856?y**.3333333333333333:7.787*y+.13793103448275862,D=D>.008856?D**.3333333333333333:7.787*D+.13793103448275862,E=E>.008856?E**.3333333333333333:7.787*E+.13793103448275862,[116*D-16,500*(y-D),200*(D-E)]},_.lab.xyz=function(x){let y,D,E;D=(x[0]+16)/116,y=x[1]/500+D,E=D-x[2]/200;const j=D**3,M=y**3,B=E**3;return D=j>.008856?j:(D-.13793103448275862)/7.787,y=M>.008856?M:(y-.13793103448275862)/7.787,E=B>.008856?B:(E-.13793103448275862)/7.787,y*=95.047,D*=100,E*=108.883,[y,D,E]},_.lab.lch=function(x){const y=x[0],D=x[1],E=x[2];let j;return j=360*Math.atan2(E,D)/2/Math.PI,j<0&&(j+=360),[y,Math.sqrt(D*D+E*E),j]},_.lch.lab=function(x){const y=x[0],D=x[1],E=x[2]/360*2*Math.PI;return[y,D*Math.cos(E),D*Math.sin(E)]},_.rgb.ansi16=function(x,y=null){const[D,E,j]=x;let M=y===null?_.rgb.hsv(x)[2]:y;if(M=Math.round(M/50),M===0)return 30;let B=30+(Math.round(j/255)<<2|Math.round(E/255)<<1|Math.round(D/255));return M===2&&(B+=60),B},_.hsv.ansi16=function(x){return _.rgb.ansi16(_.hsv.rgb(x),x[2])},_.rgb.ansi256=function(x){const y=x[0],D=x[1],E=x[2];return y===D&&D===E?y<8?16:y>248?231:Math.round((y-8)/247*24)+232:16+36*Math.round(y/255*5)+6*Math.round(D/255*5)+Math.round(E/255*5)},_.ansi16.rgb=function(x){let y=x%10;if(y===0||y===7)return x>50&&(y+=3.5),y=y/10.5*255,[y,y,y];const D=.5*(1+~~(x>50));return[(1&y)*D*255,(y>>1&1)*D*255,(y>>2&1)*D*255]},_.ansi256.rgb=function(x){if(x>=232){const D=10*(x-232)+8;return[D,D,D]}let y;return x-=16,[Math.floor(x/36)/5*255,Math.floor((y=x%36)/6)/5*255,y%6/5*255]},_.rgb.hex=function(x){const y=(((255&Math.round(x[0]))<<16)+((255&Math.round(x[1]))<<8)+(255&Math.round(x[2]))).toString(16).toUpperCase();return"000000".substring(y.length)+y},_.hex.rgb=function(x){const y=x.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!y)return[0,0,0];let D=y[0];y[0].length===3&&(D=D.split("").map(j=>j+j).join(""));const E=parseInt(D,16);return[E>>16&255,E>>8&255,255&E]},_.rgb.hcg=function(x){const y=x[0]/255,D=x[1]/255,E=x[2]/255,j=Math.max(Math.max(y,D),E),M=Math.min(Math.min(y,D),E),B=j-M;let z,G;return z=B<1?M/(1-B):0,G=B<=0?0:j===y?(D-E)/B%6:j===D?2+(E-y)/B:4+(y-D)/B,G/=6,G%=1,[360*G,100*B,100*z]},_.hsl.hcg=function(x){const y=x[1]/100,D=x[2]/100,E=D<.5?2*y*D:2*y*(1-D);let j=0;return E<1&&(j=(D-.5*E)/(1-E)),[x[0],100*E,100*j]},_.hsv.hcg=function(x){const y=x[1]/100,D=x[2]/100,E=y*D;let j=0;return E<1&&(j=(D-E)/(1-E)),[x[0],100*E,100*j]},_.hcg.rgb=function(x){const y=x[0]/360,D=x[1]/100,E=x[2]/100;if(D===0)return[255*E,255*E,255*E];const j=[0,0,0],M=y%1*6,B=M%1,z=1-B;let G=0;switch(Math.floor(M)){case 0:j[0]=1,j[1]=B,j[2]=0;break;case 1:j[0]=z,j[1]=1,j[2]=0;break;case 2:j[0]=0,j[1]=1,j[2]=B;break;case 3:j[0]=0,j[1]=z,j[2]=1;break;case 4:j[0]=B,j[1]=0,j[2]=1;break;default:j[0]=1,j[1]=0,j[2]=z}return G=(1-D)*E,[255*(D*j[0]+G),255*(D*j[1]+G),255*(D*j[2]+G)]},_.hcg.hsv=function(x){const y=x[1]/100,D=y+x[2]/100*(1-y);let E=0;return D>0&&(E=y/D),[x[0],100*E,100*D]},_.hcg.hsl=function(x){const y=x[1]/100,D=x[2]/100*(1-y)+.5*y;let E=0;return D>0&&D<.5?E=y/(2*D):D>=.5&&D<1&&(E=y/(2*(1-D))),[x[0],100*E,100*D]},_.hcg.hwb=function(x){const y=x[1]/100,D=y+x[2]/100*(1-y);return[x[0],100*(D-y),100*(1-D)]},_.hwb.hcg=function(x){const y=x[1]/100,D=1-x[2]/100,E=D-y;let j=0;return E<1&&(j=(D-E)/(1-E)),[x[0],100*E,100*j]},_.apple.rgb=function(x){return[x[0]/65535*255,x[1]/65535*255,x[2]/65535*255]},_.rgb.apple=function(x){return[x[0]/255*65535,x[1]/255*65535,x[2]/255*65535]},_.gray.rgb=function(x){return[x[0]/100*255,x[0]/100*255,x[0]/100*255]},_.gray.hsl=function(x){return[0,0,x[0]]},_.gray.hsv=_.gray.hsl,_.gray.hwb=function(x){return[0,100,x[0]]},_.gray.cmyk=function(x){return[0,0,0,x[0]]},_.gray.lab=function(x){return[x[0],0,0]},_.gray.hex=function(x){const y=255&Math.round(x[0]/100*255),D=((y<<16)+(y<<8)+y).toString(16).toUpperCase();return"000000".substring(D.length)+D},_.rgb.gray=function(x){return[(x[0]+x[1]+x[2])/3/255*100]}},9481:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,":root{--ck-menu-bar-menu-item-min-width:18em}.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item{min-width:var(--ck-menu-bar-menu-item-min-width)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitem.css"],names:[],mappings:"AAKA,MACC,sCACD,CAEA,kDACC,gDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-menu-bar-menu-item-min-width: 18em;
}

.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item {
	min-width: var(--ck-menu-bar-menu-item-min-width);
}
`],sourceRoot:""}]);const y=x},9529:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css"],names:[],mappings:"AAKA,6BACC,+CAAgD,CAIhD,iBAAkB,CAFlB,mBAAoB,CACpB,mBAAoB,CAFpB,sBAID",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-highlighted-text mark {
	background: var(--ck-color-highlight-background);
	vertical-align: initial;
	font-weight: inherit;
	line-height: inherit;
	font-size: inherit;
}
`],sourceRoot:""}]);const y=x},9554:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-dropdown-menu-list__nested-menu__button>.ck-dropdown-menu-list__nested-menu__button__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button{border-radius:0;padding:var(--ck-spacing-tiny) calc(var(--ck-spacing-standard)*2);width:100%}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button:focus{border-color:transparent;box-shadow:none}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button>.ck-button__label{flex-grow:1;overflow:hidden;text-overflow:ellipsis}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button.ck-disabled>.ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button.ck-icon-spacing:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button>.ck-dropdown-menu-list__nested-menu__button__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-button.ck-dropdown-menu-list__nested-menu__button>.ck-dropdown-menu-list__nested-menu__button__arrow{margin-right:calc(var(--ck-spacing-small)*-1);transform:rotate(-90deg)}[dir=rtl] .ck.ck-button.ck-dropdown-menu-list__nested-menu__button>.ck-dropdown-menu-list__nested-menu__button__arrow{margin-left:calc(var(--ck-spacing-small)*-1);transform:rotate(90deg)}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button.ck-disabled>.ck-dropdown-menu-list__nested-menu__button__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-button.ck-dropdown-menu-list__nested-menu__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=ltr] .ck.ck-button.ck-dropdown-menu-list__nested-menu__button>.ck-dropdown-menu-list__nested-menu__button__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-dropdown-menu-list__nested-menu__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-dropdown-menu-list__nested-menu__button>.ck-dropdown-menu-list__nested-menu__button__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/menu/dropdownmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/menu/dropdownmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css"],names:[],mappings:"AAKA,kGACC,mBAAoB,CACpB,2BACD,CCIA,yDAGC,eAAgB,CADhB,iEAAoE,CADpE,UA2ED,CAvEC,+DACC,wBAAyB,CACzB,eAKD,CAHC,2EACC,0DACD,CAGD,2EACC,WAAY,CACZ,eAAgB,CAChB,sBACD,CAEA,uFCvBA,kCDyBA,CAGA,uHACC,+DACD,CAEA,4GACC,mCAeD,CEnDA,sHF0CE,6CAAgD,CAHhD,wBErCF,CAFA,sHFiDE,4CAA+C,CAH/C,uBE5CF,CFmDA,wHClDA,kCDoDA,CAGC,6FACC,oCACD,CAEA,sHAIC,sCAAuC,CAHvC,gCAID,CAIA,6FACC,qCACD,CAEA,sHACC,+BAAgC,CAGhC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-dropdown-menu-list__nested-menu__button > .ck-dropdown-menu-list__nested-menu__button__arrow {
	pointer-events: none;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../../mixins/_disabled.css";
@import "../../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * All menu buttons.
 */
.ck.ck-button.ck-dropdown-menu-list__nested-menu__button {
	width: 100%;
	padding: var(--ck-spacing-tiny) calc(2 * var(--ck-spacing-standard));
	border-radius: 0;

	&:focus {
		border-color: transparent;
		box-shadow: none;

		&:not(.ck-on) {
			background: var(--ck-color-button-default-hover-background);
		}
	}

	& > .ck-button__label {
		flex-grow: 1;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	&.ck-disabled > .ck-button__label {
		@mixin ck-disabled;
	}

	/* Spacing in buttons that miss the icon. */
	&.ck-icon-spacing:not(:has(.ck-button__icon)) > .ck-button__label {
		margin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));
	}

	& > .ck-dropdown-menu-list__nested-menu__button__arrow {
		width: var(--ck-dropdown-arrow-size);

		@mixin ck-dir ltr {
			transform: rotate(-90deg);

			/* Nudge the arrow gently to the right because its center of gravity is to the left */
			margin-right: calc(-1 * var(--ck-spacing-small));
		}

		@mixin ck-dir rtl {
			transform: rotate(90deg);

			/* Nudge the arrow gently to the left because its center of gravity is to the right (after rotation). */
			margin-left: calc(-1 * var(--ck-spacing-small));
		}
	}

	&.ck-disabled > .ck-dropdown-menu-list__nested-menu__button__arrow {
		@mixin ck-disabled;
	}

	@mixin ck-dir ltr {
		&:not(.ck-button_with-text) {
			padding-left: var(--ck-spacing-small);
		}

		& > .ck-dropdown-menu-list__nested-menu__button__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		&:not(.ck-button_with-text) {
			padding-right: var(--ck-spacing-small);
		}

		& > .ck-dropdown-menu-list__nested-menu__button__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=x},9677:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);border-radius:0;padding:0 var(--ck-spacing-small)}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar .ck.ck-toolbar__separator{background:var(--ck-color-toolbar-border);height:var(--ck-icon-size);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eAGC,6CAA8C,CAE9C,+CAAgD,CCFhD,eAAgB,CDChB,iCAuGD,CCtGC,qEAEC,qCAED,CDFA,yCAIC,yCAA0C,CAH1C,0BAA2B,CAU3B,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAEA,qCACC,QACD,CAaA,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		height: var(--ck-icon-size);
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	.ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const y=x},9715:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}[dir=ltr] .ck.ck-button,[dir=ltr] a.ck.ck-button{justify-content:left}[dir=rtl] .ck.ck-button,[dir=rtl] a.ck.ck-button{justify-content:right}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;background:var(--ck-color-button-default-background);border:1px solid transparent;border-radius:0;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}@media (prefers-reduced-motion:reduce){.ck.ck-button,a.ck.ck-button{transition:none}}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit;opacity:.5}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-medium)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background);color:var(--ck-color-button-on-color)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background);color:var(--ck-color-button-action-text)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAQA,6BAMC,kBAAmB,CADnB,mBAAoB,CADpB,iBAAkB,CCHlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD0BD,CEhCC,iDFWC,oBETD,CAFA,iDFeC,qBEbD,CFgBA,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CGzBD,6BA6BC,uBAAwB,CC7BxB,oDAAqC,CDuBrC,4BAA6B,CExB7B,eAAgB,CFOhB,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAwID,CC1IE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CCdA,wIAEC,qCAED,CF0BA,uCA/BD,6BAgCE,eA6GF,CA5GC,CAEA,oFGpCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHyCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CDzEA,qFCmEE,eDjEF,CAFA,qFCuEE,gBDrEF,CCyEA,yEACC,aAAc,CAUd,UACD,CDvFA,6FC+EE,mCD7EF,CAFA,6FCmFE,oCDjFF,CCyFC,oIIxFD,oDJ4FC,CAOA,gLKnGD,kCLqGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAYD,CD5HA,2HCqHG,qCDnHH,CAFA,2HCyHG,oCDvHH,CC8HC,mHACC,WACD,CAID,yCChIA,+CAAqC,CDmIpC,qCACD,CCjIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDuHA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CChJC,mDAAqC,CDoJrC,wCACD,CClJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDwID,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../mixins/_unselectable.css";
@import "../../mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;

	@mixin ck-dir ltr {
		justify-content: left;
	}

	@mixin ck-dir rtl {
		justify-content: right;
	}

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		opacity: .5;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-right: var(--ck-spacing-medium);
			}

			@mixin ck-dir rtl {
				margin-left: var(--ck-spacing-medium);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const y=x},9736:d=>{d.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiPjx0aXRsZT5GaWxsIDE8L3RpdGxlPjxwYXRoIGZpbGw9IiNGRkZGRkUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTk2Ny40ODQgMEg1Ni41MTdDMjUuMzA0IDAgMCAyNS4zMDQgMCA1Ni41MTd2OTEwLjk2NkMwIDk5OC42OTQgMjUuMjk3IDEwMjQgNTYuNTIyIDEwMjRINTQ3VjYyOEg0MTRWNDczaDEzM1YzNTkuMDI5YzAtMTMyLjI2MiA4MC43NzMtMjA0LjI4MiAxOTguNzU2LTIwNC4yODIgNTYuNTEzIDAgMTA1LjA4NiA0LjIwOCAxMTkuMjQ0IDYuMDg5VjI5OWwtODEuNjE2LjAzN2MtNjMuOTkzIDAtNzYuMzg0IDMwLjQ5Mi03Ni4zODQgNzUuMjM2VjQ3M2gxNTMuNDg3bC0xOS45ODYgMTU1SDcwN3YzOTZoMjYwLjQ4NGMzMS4yMTMgMCA1Ni41MTYtMjUuMzAzIDU2LjUxNi01Ni41MTZWNTYuNTE1QzEwMjQgMjUuMzAzIDk5OC42OTcgMCA5NjcuNDg0IDAiLz48L3N2Zz4="},9819:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-dialog-overlay{bottom:0;left:0;overscroll-behavior:none;position:fixed;right:0;top:0;user-select:none}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent{animation:none;background:none;pointer-events:none}.ck.ck-dialog{overscroll-behavior:none;position:absolute;width:fit-content}.ck.ck-dialog .ck.ck-form__header{flex-shrink:0}.ck.ck-dialog:not(.ck-dialog_modal) .ck.ck-form__header .ck-form__header__label{cursor:grab}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent .ck.ck-dialog{pointer-events:all}:root{--ck-dialog-overlay-background-color:rgba(0,0,0,.5);--ck-dialog-drop-shadow:0px 0px 6px 2px rgba(0,0,0,.15);--ck-dialog-max-width:100vw;--ck-dialog-max-height:90vh;--ck-color-dialog-background:var(--ck-color-base-background);--ck-color-dialog-form-header-border:var(--ck-color-base-border)}.ck.ck-dialog-overlay{animation:ck-dialog-fade-in .3s;background:var(--ck-dialog-overlay-background-color);z-index:var(--ck-z-dialog)}.ck.ck-dialog{border-radius:0;--ck-drop-shadow:var(--ck-dialog-drop-shadow);background:var(--ck-color-dialog-background);border:1px solid var(--ck-color-base-border);max-height:var(--ck-dialog-max-height);max-width:var(--ck-dialog-max-width);overscroll-behavior:contain}.ck-rounded-corners .ck.ck-dialog,.ck.ck-dialog.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dialog{box-shadow:var(--ck-drop-shadow),0 0}.ck.ck-dialog .ck.ck-form__header{border-bottom:1px solid var(--ck-color-dialog-form-header-border)}.ck-dialog-scroll-locked{overflow:hidden}@keyframes ck-dialog-fade-in{0%{background:transparent}to{background:var(--ck-dialog-overlay-background-color)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,sBAKC,QAAS,CACT,MAAO,CAJP,wBAAyB,CAEzB,cAAe,CAGf,OAAQ,CACR,KAAM,CAPN,gBAcD,CALC,qDAEC,cAAe,CACf,eAAgB,CAFhB,mBAGD,CAGD,cACC,wBAAyB,CAEzB,iBAAkB,CADlB,iBAiBD,CAdC,kCACC,aACD,CAIC,gFACC,WACD,CAGD,mEACC,kBACD,CC/BD,MACC,mDAA2D,CAC3D,uDAA8D,CAC9D,2BAA4B,CAC5B,2BAA4B,CAC5B,4DAA6D,CAC7D,gEACD,CAEA,sBACC,+BAAgC,CAChC,oDAAqD,CACrD,0BACD,CAEA,cCbC,eAAgB,CDiBhB,6CAA8C,CAE9C,4CAA6C,CAG7C,4CAA6C,CAF7C,sCAAuC,CACvC,oCAAqC,CAErC,2BAKD,CC1BC,mEAEC,qCAED,CDOD,cEfC,oCF8BD,CAHC,kCACC,iEACD,CAGD,yBACC,eACD,CAEA,6BACC,GACC,sBACD,CAEA,GACC,oDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-dialog-overlay {
	user-select: none;
	overscroll-behavior: none;

	position: fixed;
	bottom: 0;
	left: 0;
	right: 0;
	top: 0;

	&.ck-dialog-overlay__transparent {
		pointer-events: none;
		animation: none;
		background: none;
	}
}

.ck.ck-dialog {
	overscroll-behavior: none;
	width: fit-content;
	position: absolute;

	& .ck.ck-form__header  {
		flex-shrink: 0;
	}

	/* Modals should not be draggable. */
	&:not(.ck-dialog_modal) {
		& .ck.ck-form__header .ck-form__header__label {
			cursor: grab;
		}
	}

	.ck.ck-dialog-overlay.ck-dialog-overlay__transparent & {
		pointer-events: all;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

:root {
	--ck-dialog-overlay-background-color: hsla( 0, 0%, 0%, .5 );
	--ck-dialog-drop-shadow: 0px 0px 6px 2px hsl(0deg 0% 0% / 15%);
	--ck-dialog-max-width: 100vw;
	--ck-dialog-max-height: 90vh;
	--ck-color-dialog-background: var(--ck-color-base-background);
	--ck-color-dialog-form-header-border: var(--ck-color-base-border);
}

.ck.ck-dialog-overlay {
	animation: ck-dialog-fade-in .3s;
	background: var(--ck-dialog-overlay-background-color);
	z-index: var(--ck-z-dialog);
}

.ck.ck-dialog {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	--ck-drop-shadow: var(--ck-dialog-drop-shadow);

	background: var(--ck-color-dialog-background);
	max-height: var(--ck-dialog-max-height);
	max-width: var(--ck-dialog-max-width);
	border: 1px solid var(--ck-color-base-border);
	overscroll-behavior: contain;

	& .ck.ck-form__header {
		border-bottom: 1px solid var(--ck-color-dialog-form-header-border);
	}
}

.ck-dialog-scroll-locked {
	overflow: hidden;
}

@keyframes ck-dialog-fade-in {
	0% {
		background: hsla( 0, 0%, 0%, 0 );
	}

	100% {
		background: var(--ck-dialog-overlay-background-color);
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const y=x},9822:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-dialog .ck.ck-dialog__actions{display:flex;justify-content:flex-end;padding:var(--ck-spacing-large)}.ck.ck-dialog .ck.ck-dialog__actions>*+*{margin-left:var(--ck-spacing-large)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialogactions.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialogactions.css"],names:[],mappings:"AAMC,qCACC,YAAa,CACb,wBAAyB,CCDzB,+BDED,CCAC,yCACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		display: flex;
		justify-content: flex-end;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		padding: var(--ck-spacing-large);

		& > * + * {
			margin-left: var(--ck-spacing-large);
		}
	}
}
`],sourceRoot:""}]);const y=x},9968:(d,p,m)=>{m.d(p,{A:()=>y});var k=m(2001),v=m.n(k),_=m(935),x=m.n(_)()(v());x.push([d.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const y=x}},o={};function a(d){var p=o[d];if(p!==void 0)return p.exports;var m=o[d]={id:d,exports:{}};return n[d](m,m.exports,a),m.exports}a.m=n,a.n=d=>{var p=d&&d.__esModule?()=>d.default:()=>d;return a.d(p,{a:p}),p},a.d=(d,p)=>{for(var m in p)a.o(p,m)&&!a.o(d,m)&&Object.defineProperty(d,m,{enumerable:!0,get:p[m]})},a.o=(d,p)=>Object.prototype.hasOwnProperty.call(d,p),a.b=document.baseURI||self.location.href;var c={};return(()=>{let d;a.d(c,{default:()=>yE});try{d={window,document}}catch{d={window:{},document:{}}}const p=d;function m(){try{return navigator.userAgent.toLowerCase()}catch{return""}}const k=m(),v={isMac:_(k),isWindows:x(k),isGecko:y(k),isSafari:D(k),isiOS:E(k),isAndroid:j(k),isBlink:M(k),features:{isRegExpUnicodePropertySupported:B()}};function _(u){return u.indexOf("macintosh")>-1}function x(u){return u.indexOf("windows")>-1}function y(u){return!!u.match(/gecko\/\d+/)}function D(u){return u.indexOf(" applewebkit/")>-1&&u.indexOf("chrome")===-1}function E(u){return!!u.match(/iphone|ipad/i)||_(u)&&navigator.maxTouchPoints>0}function j(u){return u.indexOf("android")>-1}function M(u){return u.indexOf("chrome/")>-1&&u.indexOf("edge/")<0}function B(){let u=!1;try{u="".search(new RegExp("[\\p{L}]","u"))===0}catch{}return u}function z(u,e,r,s){r=r||function(S,T){return S===T};const l=Array.isArray(u)?u:Array.prototype.slice.call(u),f=Array.isArray(e)?e:Array.prototype.slice.call(e),b=function(S,T,O){const P=G(S,T,O);if(P===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const W=J(S,P),ee=J(T,P),ne=G(W,ee,O),le=S.length-ne,Ce=T.length-ne;return{firstIndex:P,lastIndexOld:le,lastIndexNew:Ce}}(l,f,r);return s?function(S,T){const{firstIndex:O,lastIndexOld:P,lastIndexNew:W}=S;if(O===-1)return Array(T).fill("equal");let ee=[];return O>0&&(ee=ee.concat(Array(O).fill("equal"))),W-O>0&&(ee=ee.concat(Array(W-O).fill("insert"))),P-O>0&&(ee=ee.concat(Array(P-O).fill("delete"))),W<T&&(ee=ee.concat(Array(T-W).fill("equal"))),ee}(b,f.length):function(S,T){const O=[],{firstIndex:P,lastIndexOld:W,lastIndexNew:ee}=T;return ee-P>0&&O.push({index:P,type:"insert",values:S.slice(P,ee)}),W-P>0&&O.push({index:P+(ee-P),type:"delete",howMany:W-P}),O}(f,b)}function G(u,e,r){for(let s=0;s<Math.max(u.length,e.length);s++)if(u[s]===void 0||e[s]===void 0||!r(u[s],e[s]))return s;return-1}function J(u,e){return u.slice(e).reverse()}function H(u,e,r){r=r||function(le,Ce){return le===Ce};const s=u.length,l=e.length;if(s>200||l>200||s+l>300)return H.fastDiff(u,e,r,!0);let f,b;if(l<s){const le=u;u=e,e=le,f="delete",b="insert"}else f="insert",b="delete";const A=u.length,S=e.length,T=S-A,O={},P={};function W(le){const Ce=(P[le-1]!==void 0?P[le-1]:-1)+1,je=P[le+1]!==void 0?P[le+1]:-1,qe=Ce>je?-1:1;O[le+qe]&&(O[le]=O[le+qe].slice(0)),O[le]||(O[le]=[]),O[le].push(Ce>je?f:b);let tt=Math.max(Ce,je),Dt=tt-le;for(;Dt<A&&tt<S&&r(u[Dt],e[tt]);)Dt++,tt++,O[le].push("equal");return tt}let ee,ne=0;do{for(ee=-ne;ee<T;ee++)P[ee]=W(ee);for(ee=T+ne;ee>T;ee--)P[ee]=W(ee);P[T]=W(T),ne++}while(P[T]!==S);return O[T].slice(1)}H.fastDiff=z;const F=function(){return function u(){u.called=!0}};class Q{constructor(e,r){this.source=e,this.name=r,this.path=[],this.stop=F(),this.off=F()}}const Z=new Array(256).fill("").map((u,e)=>("0"+e.toString(16)).slice(-2));function ae(){const[u,e,r,s]=crypto.getRandomValues(new Uint32Array(4));return"e"+Z[255&u]+Z[u>>8&255]+Z[u>>16&255]+Z[u>>24&255]+Z[255&e]+Z[e>>8&255]+Z[e>>16&255]+Z[e>>24&255]+Z[255&r]+Z[r>>8&255]+Z[r>>16&255]+Z[r>>24&255]+Z[255&s]+Z[s>>8&255]+Z[s>>16&255]+Z[s>>24&255]}const X={get(u="normal"){return typeof u!="number"?this[u]||this.normal:u},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function Y(u,e){const r=X.get(e.priority);let s=0,l=u.length;for(;s<l;){const f=s+l>>1;X.get(u[f].priority)<r?l=f:s=f+1}u.splice(s,0,e)}class U extends Error{constructor(e,r,s){super(function(l,f){const b=new WeakSet,A=(O,P)=>{if(typeof P=="object"&&P!==null){if(b.has(P))return`[object ${P.constructor.name}]`;b.add(P)}return P},S=f?` ${JSON.stringify(f,A)}`:"",T=ue(l);return l+S+T}(e,s)),this.name="CKEditorError",this.context=r,this.data=s}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,r){if(e.is&&e.is("CKEditorError"))throw e;const s=new U(e.message,r);throw s.stack=e.stack,s}}function q(u,e){console.warn(...de(u,e))}function fe(u,e){console.error(...de(u,e))}function ue(u){return`
Read more: https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html#error-${u}`}function de(u,e){const r=ue(u);return e?[u,e,r]:[u,r]}const me="44.3.0",Me=new Date(2025,2,5);if(globalThis.CKEDITOR_VERSION)throw new U("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=me;const ce=Symbol("listeningTo"),Ie=Symbol("emitterId"),re=Symbol("delegations"),te=ke(Object);function ke(u){return u?class extends u{on(e,r,s){this.listenTo(this,e,r,s)}once(e,r,s){let l=!1;this.listenTo(this,e,(f,...b)=>{l||(l=!0,f.off(),r.call(this,f,...b))},s)}off(e,r){this.stopListening(this,e,r)}listenTo(e,r,s,l={}){let f,b;this[ce]||(this[ce]={});const A=this[ce];ve(e)||be(e);const S=ve(e);(f=A[S])||(f=A[S]={emitter:e,callbacks:{}}),(b=f.callbacks[r])||(b=f.callbacks[r]=[]),b.push(s),function(T,O,P,W,ee){O._addEventListener?O._addEventListener(P,W,ee):T._addEventListener.call(O,P,W,ee)}(this,e,r,s,l)}stopListening(e,r,s){const l=this[ce];let f=e&&ve(e);const b=l&&f?l[f]:void 0,A=b&&r?b.callbacks[r]:void 0;if(!(!l||e&&!b||r&&!A))if(s)Ze(this,e,r,s),A.indexOf(s)!==-1&&(A.length===1?delete b.callbacks[r]:Ze(this,e,r,s));else if(A){for(;s=A.pop();)Ze(this,e,r,s);delete b.callbacks[r]}else if(b){for(r in b.callbacks)this.stopListening(e,r);delete l[f]}else{for(f in l)this.stopListening(l[f].emitter);delete this[ce]}}fire(e,...r){try{const s=e instanceof Q?e:new Q(this,e),l=s.name;let f=function(A,S){if(!A._events)return null;let T=S;do{const O=A._events[T];if(O&&O.callbacks&&O.callbacks.length)return O.callbacks;const P=T.lastIndexOf(":");T=P>-1?T.substring(0,P):""}while(T);return null}(this,l);if(s.path.push(this),f){f=f.slice();for(let A=0;A<f.length;A++){const S=f[A].callback;if(S.call(this,s,...r),s.off.called&&(delete s.off.called,this._removeEventListener(l,S)),s.stop.called)break}}const b=this[re];if(b){const A=b.get(l),S=b.get("*");A&&Ue(A,s,r),S&&Ue(S,s,r)}return s.return}catch(s){U.rethrowUnexpectedError(s,this)}}delegate(...e){return{to:(r,s)=>{this[re]||(this[re]=new Map),e.forEach(l=>{const f=this[re].get(l);f?f.set(r,s):this[re].set(l,new Map([[r,s]]))})}}}stopDelegating(e,r){if(this[re])if(e)if(r){const s=this[re].get(e);s&&s.delete(r)}else this[re].delete(e);else this[re].clear()}_addEventListener(e,r,s){(function(b,A){const S=Re(b);if(S[A])return;let T=A,O=null;const P=[];for(;T!==""&&!S[T];)S[T]={callbacks:[],childEvents:[]},P.push(S[T]),O&&S[T].childEvents.push(O),O=T,T=T.substr(0,T.lastIndexOf(":"));if(T!==""){for(const W of P)W.callbacks=S[T].callbacks.slice();S[T].childEvents.push(O)}})(this,e);const l=Be(this,e),f={callback:r,priority:X.get(s.priority)};for(const b of l)Y(b,f)}_removeEventListener(e,r){const s=Be(this,e);for(const l of s)for(let f=0;f<l.length;f++)l[f].callback==r&&(l.splice(f,1),f--)}}:te}function be(u,e){u[Ie]||(u[Ie]=e||ae())}function ve(u){return u[Ie]}function Re(u){return u._events||Object.defineProperty(u,"_events",{value:{}}),u._events}function Be(u,e){const r=Re(u)[e];if(!r)return[];let s=[r.callbacks];for(let l=0;l<r.childEvents.length;l++){const f=Be(u,r.childEvents[l]);s=s.concat(f)}return s}function Ue(u,e,r){for(let[s,l]of u){l?typeof l=="function"&&(l=l(e.name)):l=e.name;const f=new Q(e.source,l);f.path=[...e.path],s.fire(f,...r)}}function Ze(u,e,r,s){e._removeEventListener?e._removeEventListener(r,s):u._removeEventListener.call(e,r,s)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(u=>{ke[u]=te.prototype[u]});const Ge=function(u){var e=typeof u;return u!=null&&(e=="object"||e=="function")},ft=Symbol("observableProperties"),gt=Symbol("boundObservables"),oe=Symbol("boundProperties"),Pe=Symbol("decoratedMethods"),we=Symbol("decoratedOriginal"),De=Ae(ke());function Ae(u){var e;if(!u)return De;class r extends(e=u,e){set(l,f){if(Ge(l))return void Object.keys(l).forEach(A=>{this.set(A,l[A])},this);Oe(this);const b=this[ft];if(l in this&&!b.has(l))throw new U("observable-set-cannot-override",this);Object.defineProperty(this,l,{enumerable:!0,configurable:!0,get:()=>b.get(l),set(A){const S=b.get(l);let T=this.fire(`set:${l}`,l,A,S);T===void 0&&(T=A),S===T&&b.has(l)||(b.set(l,T),this.fire(`change:${l}`,l,T,S))}}),this[l]=f}bind(...l){if(!l.length||!Fe(l))throw new U("observable-bind-wrong-properties",this);if(new Set(l).size!==l.length)throw new U("observable-bind-duplicate-properties",this);Oe(this);const f=this[oe];l.forEach(A=>{if(f.has(A))throw new U("observable-bind-rebind",this)});const b=new Map;return l.forEach(A=>{const S={property:A,to:[]};f.set(A,S),b.set(A,S)}),{to:Ke,toMany:Xe,_observable:this,_bindProperties:l,_to:[],_bindings:b}}unbind(...l){if(!this[ft])return;const f=this[oe],b=this[gt];if(l.length){if(!Fe(l))throw new U("observable-unbind-wrong-properties",this);l.forEach(A=>{const S=f.get(A);S&&(S.to.forEach(([T,O])=>{const P=b.get(T),W=P[O];W.delete(S),W.size||delete P[O],Object.keys(P).length||(b.delete(T),this.stopListening(T,"change"))}),f.delete(A))})}else b.forEach((A,S)=>{this.stopListening(S,"change")}),b.clear(),f.clear()}decorate(l){Oe(this);const f=this[l];if(!f)throw new U("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:l});this.on(l,(b,A)=>{b.return=f.apply(this,A)}),this[l]=function(...b){return this.fire(l,b)},this[l][we]=f,this[Pe]||(this[Pe]=[]),this[Pe].push(l)}stopListening(l,f,b){if(!l&&this[Pe]){for(const A of this[Pe])this[A]=this[A][we];delete this[Pe]}super.stopListening(l,f,b)}}return r}function Oe(u){u[ft]||(Object.defineProperty(u,ft,{value:new Map}),Object.defineProperty(u,gt,{value:new Map}),Object.defineProperty(u,oe,{value:new Map}))}function Ke(...u){const e=function(...f){if(!f.length)throw new U("observable-bind-to-parse-error",null);const b={to:[]};let A;return typeof f[f.length-1]=="function"&&(b.callback=f.pop()),f.forEach(S=>{if(typeof S=="string")A.properties.push(S);else{if(typeof S!="object")throw new U("observable-bind-to-parse-error",null);A={observable:S,properties:[]},b.to.push(A)}}),b}(...u),r=Array.from(this._bindings.keys()),s=r.length;if(!e.callback&&e.to.length>1)throw new U("observable-bind-to-no-callback",this);if(s>1&&e.callback)throw new U("observable-bind-to-extra-callback",this);var l;e.to.forEach(f=>{if(f.properties.length&&f.properties.length!==s)throw new U("observable-bind-to-properties-length",this);f.properties.length||(f.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(r[0]).callback=e.callback),l=this._observable,this._to.forEach(f=>{const b=l[gt];let A;b.get(f.observable)||l.listenTo(f.observable,"change",(S,T)=>{A=b.get(f.observable)[T],A&&A.forEach(O=>{dt(l,O.property)})})}),function(f){let b;f._bindings.forEach((A,S)=>{f._to.forEach(T=>{b=T.properties[A.callback?0:f._bindProperties.indexOf(S)],A.to.push([T.observable,b]),function(O,P,W,ee){const ne=O[gt],le=ne.get(W),Ce=le||{};Ce[ee]||(Ce[ee]=new Set),Ce[ee].add(P),le||ne.set(W,Ce)}(f._observable,A,T.observable,b)})})}(this),this._bindProperties.forEach(f=>{dt(this._observable,f)})}function Xe(u,e,r){if(this._bindings.size>1)throw new U("observable-bind-to-many-not-one-binding",this);this.to(...function(s,l){const f=s.map(b=>[b,l]);return Array.prototype.concat.apply([],f)}(u,e),r)}function Fe(u){return u.every(e=>typeof e=="string")}function dt(u,e){const r=u[oe].get(e);let s;r.callback?s=r.callback.apply(u,r.to.map(l=>l[0][l[1]])):(s=r.to[0],s=s[0][s[1]]),Object.prototype.hasOwnProperty.call(u,e)?u[e]=s:u.set(e,s)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(u=>{Ae[u]=De.prototype[u]});class wt{constructor(){this._replacedElements=[]}replace(e,r){this._replacedElements.push({element:e,newElement:r}),e.style.display="none",r&&e.parentNode.insertBefore(r,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:r})=>{e.style.display="",r&&r.remove()}),this._replacedElements=[]}}function ot(u){let e=0;for(const r of u)e++;return e}function pt(u,e){const r=Math.min(u.length,e.length);for(let s=0;s<r;s++)if(u[s]!=e[s])return s;return u.length==e.length?"same":u.length<e.length?"prefix":"extension"}function He(u){return!(!u||!u[Symbol.iterator])}const at=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis;var kt=typeof self=="object"&&self&&self.Object===Object&&self;const Yt=at||kt||Function("return this")(),yt=Yt.Symbol;var Bn=Object.prototype,on=Bn.hasOwnProperty,wr=Bn.toString,xn=yt?yt.toStringTag:void 0;const In=function(u){var e=on.call(u,xn),r=u[xn];try{u[xn]=void 0;var s=!0}catch{}var l=wr.call(u);return s&&(e?u[xn]=r:delete u[xn]),l};var zn=Object.prototype.toString;const Yn=function(u){return zn.call(u)};var ei=yt?yt.toStringTag:void 0;const rr=function(u){return u==null?u===void 0?"[object Undefined]":"[object Null]":ei&&ei in Object(u)?In(u):Yn(u)},vr=Array.isArray,gr=function(u){return u!=null&&typeof u=="object"},yr=function(u){return typeof u=="string"||!vr(u)&&gr(u)&&rr(u)=="[object String]"};function fn(u,e,r={},s=[]){const l=r&&r.xmlns,f=l?u.createElementNS(l,e):u.createElement(e);for(const b in r)f.setAttribute(b,r[b]);!yr(s)&&He(s)||(s=[s]);for(let b of s)yr(b)&&(b=u.createTextNode(b)),f.appendChild(b);return f}const ir=function(u,e){return function(r){return u(e(r))}},is=ir(Object.getPrototypeOf,Object);var wi=Function.prototype,os=Object.prototype,ss=wi.toString,hn=os.hasOwnProperty,Sr=ss.call(Object);const or=function(u){if(!gr(u)||rr(u)!="[object Object]")return!1;var e=is(u);if(e===null)return!0;var r=hn.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&ss.call(r)==Sr},vi=function(){this.__data__=[],this.size=0},jr=function(u,e){return u===e||u!=u&&e!=e},Wr=function(u,e){for(var r=u.length;r--;)if(jr(u[r][0],e))return r;return-1};var di=Array.prototype.splice;const jl=function(u){var e=this.__data__,r=Wr(e,u);return!(r<0)&&(r==e.length-1?e.pop():di.call(e,r,1),--this.size,!0)},Cs=function(u){var e=this.__data__,r=Wr(e,u);return r<0?void 0:e[r][1]},xs=function(u){return Wr(this.__data__,u)>-1},wo=function(u,e){var r=this.__data__,s=Wr(r,u);return s<0?(++this.size,r.push([u,e])):r[s][1]=e,this};function Di(u){var e=-1,r=u==null?0:u.length;for(this.clear();++e<r;){var s=u[e];this.set(s[0],s[1])}}Di.prototype.clear=vi,Di.prototype.delete=jl,Di.prototype.get=Cs,Di.prototype.has=xs,Di.prototype.set=wo;const lo=Di,co=function(){this.__data__=new lo,this.size=0},zr=function(u){var e=this.__data__,r=e.delete(u);return this.size=e.size,r},fl=function(u){return this.__data__.get(u)},Ol=function(u){return this.__data__.has(u)},Ki=function(u){if(!Ge(u))return!1;var e=rr(u);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},Ss=Yt["__core-js_shared__"];var Bl=function(){var u=/[^.]+$/.exec(Ss&&Ss.keys&&Ss.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}();const pu=function(u){return!!Bl&&Bl in u};var Ft=Function.prototype.toString;const Ht=function(u){if(u!=null){try{return Ft.call(u)}catch{}try{return u+""}catch{}}return""};var Wt=/^\[object .+?Constructor\]$/,mn=Function.prototype,sn=Object.prototype,Qn=mn.toString,Fr=sn.hasOwnProperty,Kr=RegExp("^"+Qn.call(Fr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Ii=function(u){return!(!Ge(u)||pu(u))&&(Ki(u)?Kr:Wt).test(Ht(u))},vo=function(u,e){return u==null?void 0:u[e]},Ps=function(u,e){var r=vo(u,e);return Ii(r)?r:void 0},kr=Ps(Yt,"Map"),Qr=Ps(Object,"create"),mu=function(){this.__data__=Qr?Qr(null):{},this.size=0},fd=function(u){var e=this.has(u)&&delete this.__data__[u];return this.size-=e?1:0,e};var ga=Object.prototype.hasOwnProperty;const gu=function(u){var e=this.__data__;if(Qr){var r=e[u];return r==="__lodash_hash_undefined__"?void 0:r}return ga.call(e,u)?e[u]:void 0};var as=Object.prototype.hasOwnProperty;const wc=function(u){var e=this.__data__;return Qr?e[u]!==void 0:as.call(e,u)},ti=function(u,e){var r=this.__data__;return this.size+=this.has(u)?0:1,r[u]=Qr&&e===void 0?"__lodash_hash_undefined__":e,this};function ja(u){var e=-1,r=u==null?0:u.length;for(this.clear();++e<r;){var s=u[e];this.set(s[0],s[1])}}ja.prototype.clear=mu,ja.prototype.delete=fd,ja.prototype.get=gu,ja.prototype.has=wc,ja.prototype.set=ti;const ph=ja,vf=function(){this.size=0,this.__data__={hash:new ph,map:new(kr||lo),string:new ph}},vc=function(u){var e=typeof u;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?u!=="__proto__":u===null},pd=function(u,e){var r=u.__data__;return vc(e)?r[typeof e=="string"?"string":"hash"]:r.map},yf=function(u){var e=pd(this,u).delete(u);return this.size-=e?1:0,e},bu=function(u){return pd(this,u).get(u)},Af=function(u){return pd(this,u).has(u)},wp=function(u,e){var r=pd(this,u),s=r.size;return r.set(u,e),this.size+=r.size==s?0:1,this};function yc(u){var e=-1,r=u==null?0:u.length;for(this.clear();++e<r;){var s=u[e];this.set(s[0],s[1])}}yc.prototype.clear=vf,yc.prototype.delete=yf,yc.prototype.get=bu,yc.prototype.has=Af,yc.prototype.set=wp;const ku=yc,Ac=function(u,e){var r=this.__data__;if(r instanceof lo){var s=r.__data__;if(!kr||s.length<199)return s.push([u,e]),this.size=++r.size,this;r=this.__data__=new ku(s)}return r.set(u,e),this.size=r.size,this};function pl(u){var e=this.__data__=new lo(u);this.size=e.size}pl.prototype.clear=co,pl.prototype.delete=zr,pl.prototype.get=fl,pl.prototype.has=Ol,pl.prototype.set=Ac;const na=pl,mh=function(u,e){for(var r=-1,s=u==null?0:u.length;++r<s&&e(u[r],r,u)!==!1;);return u},Qi=function(){try{var u=Ps(Object,"defineProperty");return u({},"",{}),u}catch{}}(),ml=function(u,e,r){e=="__proto__"&&Qi?Qi(u,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):u[e]=r};var _c=Object.prototype.hasOwnProperty;const Tn=function(u,e,r){var s=u[e];_c.call(u,e)&&jr(s,r)&&(r!==void 0||e in u)||ml(u,e,r)},Ll=function(u,e,r,s){var l=!r;r||(r={});for(var f=-1,b=e.length;++f<b;){var A=e[f],S=void 0;S===void 0&&(S=u[A]),l?ml(r,A,S):Tn(r,A,S)}return r},vp=function(u,e){for(var r=-1,s=Array(u);++r<u;)s[r]=e(r);return s},Rs=function(u){return gr(u)&&rr(u)=="[object Arguments]"};var ba=Object.prototype,gh=ba.hasOwnProperty,Pl=ba.propertyIsEnumerable;const zs=Rs(function(){return arguments}())?Rs:function(u){return gr(u)&&gh.call(u,"callee")&&!Pl.call(u,"callee")},_f=function(){return!1};var md=i&&!i.nodeType&&i,Cf=md&&!0&&t&&!t.nodeType&&t,Cc=Cf&&Cf.exports===md?Yt.Buffer:void 0;const ra=(Cc?Cc.isBuffer:void 0)||_f;var xc=/^(?:0|[1-9]\d*)$/;const yo=function(u,e){var r=typeof u;return!!(e=e??9007199254740991)&&(r=="number"||r!="symbol"&&xc.test(u))&&u>-1&&u%1==0&&u<e},Fs=function(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=9007199254740991};var Er={};Er["[object Float32Array]"]=Er["[object Float64Array]"]=Er["[object Int8Array]"]=Er["[object Int16Array]"]=Er["[object Int32Array]"]=Er["[object Uint8Array]"]=Er["[object Uint8ClampedArray]"]=Er["[object Uint16Array]"]=Er["[object Uint32Array]"]=!0,Er["[object Arguments]"]=Er["[object Array]"]=Er["[object ArrayBuffer]"]=Er["[object Boolean]"]=Er["[object DataView]"]=Er["[object Date]"]=Er["[object Error]"]=Er["[object Function]"]=Er["[object Map]"]=Er["[object Number]"]=Er["[object Object]"]=Er["[object RegExp]"]=Er["[object Set]"]=Er["[object String]"]=Er["[object WeakMap]"]=!1;const Rl=function(u){return gr(u)&&Fs(u.length)&&!!Er[rr(u)]},bh=function(u){return function(e){return u(e)}};var gd=i&&!i.nodeType&&i,zl=gd&&!0&&t&&!t.nodeType&&t,Fl=zl&&zl.exports===gd&&at.process;const Ro=function(){try{var u=zl&&zl.require&&zl.require("util").types;return u||Fl&&Fl.binding&&Fl.binding("util")}catch{}}();var gl=Ro&&Ro.isTypedArray;const xf=gl?bh(gl):Rl;var wu=Object.prototype.hasOwnProperty;const Oa=function(u,e){var r=vr(u),s=!r&&zs(u),l=!r&&!s&&ra(u),f=!r&&!s&&!l&&xf(u),b=r||s||l||f,A=b?vp(u.length,String):[],S=A.length;for(var T in u)!e&&!wu.call(u,T)||b&&(T=="length"||l&&(T=="offset"||T=="parent")||f&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||yo(T,S))||A.push(T);return A};var bd=Object.prototype;const Sc=function(u){var e=u&&u.constructor;return u===(typeof e=="function"&&e.prototype||bd)},Km=ir(Object.keys,Object);var kh=Object.prototype.hasOwnProperty;const Qm=function(u){if(!Sc(u))return Km(u);var e=[];for(var r in Object(u))kh.call(u,r)&&r!="constructor"&&e.push(r);return e},vu=function(u){return u!=null&&Fs(u.length)&&!Ki(u)},Ul=function(u){return vu(u)?Oa(u):Qm(u)},yp=function(u,e){return u&&Ll(e,Ul(e),u)},wh=function(u){var e=[];if(u!=null)for(var r in Object(u))e.push(r);return e};var Sf=Object.prototype.hasOwnProperty;const Ef=function(u){if(!Ge(u))return wh(u);var e=Sc(u),r=[];for(var s in u)(s!="constructor"||!e&&Sf.call(u,s))&&r.push(s);return r},bl=function(u){return vu(u)?Oa(u,!0):Ef(u)},Zm=function(u,e){return u&&Ll(e,bl(e),u)};var kd=i&&!i.nodeType&&i,yu=kd&&!0&&t&&!t.nodeType&&t,wd=yu&&yu.exports===kd?Yt.Buffer:void 0,Ec=wd?wd.allocUnsafe:void 0;const vh=function(u,e){if(e)return u.slice();var r=u.length,s=Ec?Ec(r):new u.constructor(r);return u.copy(s),s},$=function(u,e){var r=-1,s=u.length;for(e||(e=Array(s));++r<s;)e[r]=u[r];return e},ge=function(u,e){for(var r=-1,s=u==null?0:u.length,l=0,f=[];++r<s;){var b=u[r];e(b,r,u)&&(f[l++]=b)}return f},ze=function(){return[]};var $e=Object.prototype.propertyIsEnumerable,it=Object.getOwnPropertySymbols;const _t=it?function(u){return u==null?[]:(u=Object(u),ge(it(u),function(e){return $e.call(u,e)}))}:ze,Gt=function(u,e){return Ll(u,_t(u),e)},tn=function(u,e){for(var r=-1,s=e.length,l=u.length;++r<s;)u[l+r]=e[r];return u},gn=Object.getOwnPropertySymbols?function(u){for(var e=[];u;)tn(e,_t(u)),u=is(u);return e}:ze,Hn=function(u,e){return Ll(u,gn(u),e)},Ln=function(u,e,r){var s=e(u);return vr(u)?s:tn(s,r(u))},fr=function(u){return Ln(u,Ul,_t)},Ti=function(u){return Ln(u,bl,gn)},yi=Ps(Yt,"DataView"),Li=Ps(Yt,"Promise"),Pi=Ps(Yt,"Set"),uo=Ps(Yt,"WeakMap");var Ba="[object Map]",ia="[object Promise]",La="[object Set]",yh="[object WeakMap]",ql="[object DataView]",Dc=Ht(yi),Ah=Ht(kr),Au=Ht(Li),_h=Ht(Pi),vd=Ht(uo),Ai=rr;(yi&&Ai(new yi(new ArrayBuffer(1)))!=ql||kr&&Ai(new kr)!=Ba||Li&&Ai(Li.resolve())!=ia||Pi&&Ai(new Pi)!=La||uo&&Ai(new uo)!=yh)&&(Ai=function(u){var e=rr(u),r=e=="[object Object]"?u.constructor:void 0,s=r?Ht(r):"";if(s)switch(s){case Dc:return ql;case Ah:return Ba;case Au:return ia;case _h:return La;case vd:return yh}return e});const Pa=Ai;var yd=Object.prototype.hasOwnProperty;const Ad=function(u){var e=u.length,r=new u.constructor(e);return e&&typeof u[0]=="string"&&yd.call(u,"index")&&(r.index=u.index,r.input=u.input),r},Ic=Yt.Uint8Array,Es=function(u){var e=new u.constructor(u.byteLength);return new Ic(e).set(new Ic(u)),e},Jm=function(u,e){var r=e?Es(u.buffer):u.buffer;return new u.constructor(r,u.byteOffset,u.byteLength)};var Df=/\w*$/;const Ap=function(u){var e=new u.constructor(u.source,Df.exec(u));return e.lastIndex=u.lastIndex,e};var ka=yt?yt.prototype:void 0,Ao=ka?ka.valueOf:void 0;const _u=function(u){return Ao?Object(Ao.call(u)):{}},Ch=function(u,e){var r=e?Es(u.buffer):u.buffer;return new u.constructor(r,u.byteOffset,u.length)},Tc=function(u,e,r){var s=u.constructor;switch(e){case"[object ArrayBuffer]":return Es(u);case"[object Boolean]":case"[object Date]":return new s(+u);case"[object DataView]":return Jm(u,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Ch(u,r);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(u);case"[object RegExp]":return Ap(u);case"[object Symbol]":return _u(u)}};var Mc=Object.create;const Us=function(){function u(){}return function(e){if(!Ge(e))return{};if(Mc)return Mc(e);u.prototype=e;var r=new u;return u.prototype=void 0,r}}(),zo=function(u){return typeof u.constructor!="function"||Sc(u)?{}:Us(is(u))},Cu=function(u){return gr(u)&&Pa(u)=="[object Map]"};var qs=Ro&&Ro.isMap;const kl=qs?bh(qs):Cu,Vl=function(u){return gr(u)&&Pa(u)=="[object Set]"};var Ra=Ro&&Ro.isSet;const Vi=Ra?bh(Ra):Vl;var za="[object Arguments]",Zi="[object Function]",Vs="[object Object]",Dr={};Dr[za]=Dr["[object Array]"]=Dr["[object ArrayBuffer]"]=Dr["[object DataView]"]=Dr["[object Boolean]"]=Dr["[object Date]"]=Dr["[object Float32Array]"]=Dr["[object Float64Array]"]=Dr["[object Int8Array]"]=Dr["[object Int16Array]"]=Dr["[object Int32Array]"]=Dr["[object Map]"]=Dr["[object Number]"]=Dr[Vs]=Dr["[object RegExp]"]=Dr["[object Set]"]=Dr["[object String]"]=Dr["[object Symbol]"]=Dr["[object Uint8Array]"]=Dr["[object Uint8ClampedArray]"]=Dr["[object Uint16Array]"]=Dr["[object Uint32Array]"]=!0,Dr["[object Error]"]=Dr[Zi]=Dr["[object WeakMap]"]=!1;const Fa=function u(e,r,s,l,f,b){var A,S=1&r,T=2&r,O=4&r;if(s&&(A=f?s(e,l,f,b):s(e)),A!==void 0)return A;if(!Ge(e))return e;var P=vr(e);if(P){if(A=Ad(e),!S)return $(e,A)}else{var W=Pa(e),ee=W==Zi||W=="[object GeneratorFunction]";if(ra(e))return vh(e,S);if(W==Vs||W==za||ee&&!f){if(A=T||ee?{}:zo(e),!S)return T?Hn(e,Zm(A,e)):Gt(e,yp(A,e))}else{if(!Dr[W])return f?e:{};A=Tc(e,W,S)}}b||(b=new na);var ne=b.get(e);if(ne)return ne;b.set(e,A),Vi(e)?e.forEach(function(Ce){A.add(u(Ce,r,s,Ce,e,b))}):kl(e)&&e.forEach(function(Ce,je){A.set(je,u(Ce,r,s,je,e,b))});var le=P?void 0:(O?T?Ti:fr:T?bl:Ul)(e);return mh(le||e,function(Ce,je){le&&(Ce=e[je=Ce]),Tn(A,je,u(Ce,r,s,je,e,b))}),A},xu=function(u,e){return Fa(u,5,e=typeof e=="function"?e:void 0)},Hs=function(u){return gr(u)&&u.nodeType===1&&!or(u)};class Nc{constructor(e,r){this._config=Object.create(null),r&&this.define(jc(r)),e&&this._setObjectToTarget(this._config,e)}set(e,r){this._setToTarget(this._config,e,r)}define(e,r){this._setToTarget(this._config,e,r,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,r,s,l=!1){if(or(r))return void this._setObjectToTarget(e,r,l);const f=r.split(".");r=f.pop();for(const b of f)or(e[b])||(e[b]=Object.create(null)),e=e[b];if(or(s))return or(e[r])||(e[r]=Object.create(null)),e=e[r],void this._setObjectToTarget(e,s,l);l&&e[r]!==void 0||(e[r]=s)}_getFromSource(e,r){const s=r.split(".");r=s.pop();for(const l of s){if(!or(e[l])){e=null;break}e=e[l]}return e?jc(e[r]):void 0}_setObjectToTarget(e,r,s){Object.keys(r).forEach(l=>{this._setToTarget(e,l,r[l],s)})}}function jc(u){return xu(u,_d)}function _d(u){return Hs(u)||typeof u=="function"?u:void 0}function wa(u){if(u){if(u.defaultView)return u instanceof u.defaultView.Document;if(u.ownerDocument&&u.ownerDocument.defaultView)return u instanceof u.ownerDocument.defaultView.Node}return!1}function wl(u){const e=Object.prototype.toString.apply(u);return e=="[object Window]"||e=="[object global]"}const Hl=Fo(ke());function Fo(u){return u?class extends u{listenTo(e,r,s,l={}){if(wa(e)||wl(e)){const f={capture:!!l.useCapture,passive:!!l.usePassive},b=this._getProxyEmitter(e,f)||new Hi(e,f);this.listenTo(b,r,s,l)}else super.listenTo(e,r,s,l)}stopListening(e,r,s){if(wa(e)||wl(e)){const l=this._getAllProxyEmitters(e);for(const f of l)this.stopListening(f,r,s)}else super.stopListening(e,r,s)}_getProxyEmitter(e,r){return function(s,l){const f=s[ce];return f&&f[l]?f[l].emitter:null}(this,oa(e,r))}_getAllProxyEmitters(e){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(r=>this._getProxyEmitter(e,r)).filter(r=>!!r)}}:Hl}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(u=>{Fo[u]=Hl.prototype[u]});class Hi extends ke(){constructor(e,r){super(),be(this,oa(e,r)),this._domNode=e,this._options=r}attach(e){if(this._domListeners&&this._domListeners[e])return;const r=this._createDomListener(e);this._domNode.addEventListener(e,r,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=r}detach(e){let r;!this._domListeners[e]||(r=this._events[e])&&r.callbacks.length||this._domListeners[e].removeListener()}_addEventListener(e,r,s){this.attach(e),ke().prototype._addEventListener.call(this,e,r,s)}_removeEventListener(e,r){ke().prototype._removeEventListener.call(this,e,r),this.detach(e)}_createDomListener(e){const r=s=>{this.fire(e,s)};return r.removeListener=()=>{this._domNode.removeEventListener(e,r,this._options),delete this._domListeners[e]},r}}function oa(u,e){let r=function(s){return s["data-ck-expando"]||(s["data-ck-expando"]=ae())}(u);for(const s of Object.keys(e).sort())e[s]&&(r+="-"+s);return r}function pr(u){const e=[];let r=u;for(;r&&r.nodeType!=Node.DOCUMENT_NODE;)e.unshift(r),r=r.parentNode;return e}function sr(u){const e=u.ownerDocument.defaultView.getComputedStyle(u);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}function ni(u){if(!u.target)return null;const e=u.target.ownerDocument,r=u.clientX,s=u.clientY;let l=null;return e.caretRangeFromPoint&&e.caretRangeFromPoint(r,s)?l=e.caretRangeFromPoint(r,s):u.rangeParent&&(l=e.createRange(),l.setStart(u.rangeParent,u.rangeOffset),l.collapse(!0)),l}function $n(u){return Object.prototype.toString.call(u)=="[object Text]"}function $s(u){return Object.prototype.toString.apply(u)=="[object Range]"}function Oc(u){return u&&u.parentNode?u.offsetParent===p.document.body?null:u.offsetParent:null}const Bc=["top","right","bottom","left","width","height"];class Mn{constructor(e){const r=$s(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),ho(e)||r)if(r){const s=Mn.getDomRangeRects(e);Cd(this,Mn.getBoundingRect(s))}else Cd(this,e.getBoundingClientRect());else if(wl(e)){const{innerWidth:s,innerHeight:l}=e;Cd(this,{top:0,right:s,bottom:l,left:0,width:s,height:l})}else Cd(this,e)}clone(){return new Mn(this)}moveTo(e,r){return this.top=r,this.right=e+this.width,this.bottom=r+this.height,this.left=e,this}moveBy(e,r){return this.top+=r,this.right+=e,this.left+=e,this.bottom+=r,this}getIntersection(e){const r={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};if(r.width=r.right-r.left,r.height=r.bottom-r.top,r.width<0||r.height<0)return null;{const s=new Mn(r);return s._source=this._source,s}}getIntersectionArea(e){const r=this.getIntersection(e);return r?r.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let r=this.clone();if(Su(e))return r;let s,l=e,f=e.parentNode||e.commonAncestorContainer;for(;f&&!Su(f);){const A=((b=f)instanceof HTMLElement?b.ownerDocument.defaultView.getComputedStyle(b).overflow:"visible")==="visible";l instanceof HTMLElement&&va(l)==="absolute"&&(s=l);const S=va(f);if(A||s&&(S==="relative"&&A||S!=="relative")){l=f,f=f.parentNode;continue}const T=new Mn(f),O=r.getIntersection(T);if(!O)return null;O.getArea()<r.getArea()&&(r=O),l=f,f=f.parentNode}var b;return r}isEqual(e){for(const r of Bc)if(this[r]!==e[r])return!1;return!0}contains(e){const r=this.getIntersection(e);return!(!r||!r.isEqual(e))}toAbsoluteRect(){const{scrollX:e,scrollY:r}=p.window,s=this.clone().moveBy(e,r);if(ho(s._source)){const l=Oc(s._source);l&&function(f,b){const A=new Mn(b),S=sr(b);let T=0,O=0;T-=A.left,O-=A.top,T+=b.scrollLeft,O+=b.scrollTop,T-=S.left,O-=S.top,f.moveBy(T,O)}(s,l)}return s}excludeScrollbarsAndBorders(){const e=this._source;let r,s,l;if(wl(e))r=e.innerWidth-e.document.documentElement.clientWidth,s=e.innerHeight-e.document.documentElement.clientHeight,l=e.getComputedStyle(e.document.documentElement).direction;else{const f=sr(e);r=e.offsetWidth-e.clientWidth-f.left-f.right,s=e.offsetHeight-e.clientHeight-f.top-f.bottom,l=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=f.left,this.top+=f.top,this.right-=f.right,this.bottom-=f.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=r,l==="ltr"?this.right-=r:this.left+=r,this.height-=s,this.bottom-=s,this}static getDomRangeRects(e){const r=[],s=Array.from(e.getClientRects());if(s.length)for(const l of s)r.push(new Mn(l));else{let l=e.startContainer;$n(l)&&(l=l.parentNode);const f=new Mn(l.getBoundingClientRect());f.right=f.left,f.width=0,r.push(f)}return r}static getBoundingRect(e){const r={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let s=0;for(const l of e)s++,r.left=Math.min(r.left,l.left),r.top=Math.min(r.top,l.top),r.right=Math.max(r.right,l.right),r.bottom=Math.max(r.bottom,l.bottom);return s==0?null:(r.width=r.right-r.left,r.height=r.bottom-r.top,new Mn(r))}}function Cd(u,e){for(const r of Bc)u[r]=e[r]}function Su(u){return!!ho(u)&&u===u.ownerDocument.body}function ho(u){return u!==null&&typeof u=="object"&&u.nodeType===1&&typeof u.getBoundingClientRect=="function"}function va(u){return u instanceof HTMLElement?u.ownerDocument.defaultView.getComputedStyle(u).position:"static"}const po=class po{constructor(e,r){po._observerInstance||po._createObserver(),this._element=e,this._callback=r,po._addElementCallback(e,r),po._observerInstance.observe(e)}get element(){return this._element}destroy(){po._deleteElementCallback(this._element,this._callback)}static _addElementCallback(e,r){po._elementCallbacks||(po._elementCallbacks=new Map);let s=po._elementCallbacks.get(e);s||(s=new Set,po._elementCallbacks.set(e,s)),s.add(r)}static _deleteElementCallback(e,r){const s=po._getElementCallbacks(e);s&&(s.delete(r),s.size||(po._elementCallbacks.delete(e),po._observerInstance.unobserve(e))),po._elementCallbacks&&!po._elementCallbacks.size&&(po._observerInstance=null,po._elementCallbacks=null)}static _getElementCallbacks(e){return po._elementCallbacks?po._elementCallbacks.get(e):null}static _createObserver(){po._observerInstance=new p.window.ResizeObserver(e=>{for(const r of e){const s=po._getElementCallbacks(r.target);if(s)for(const l of s)l(r)}})}};po._observerInstance=null,po._elementCallbacks=null;let fo=po;function xd(u,e){u instanceof HTMLTextAreaElement&&(u.value=e),u.innerHTML=e}function Ws(u){return e=>e+u}function Lc(u){let e=0;for(;u.previousSibling;)u=u.previousSibling,e++;return e}function Eu(u,e,r){u.insertBefore(r,u.childNodes[e]||null)}function ya(u){return u&&u.nodeType===Node.COMMENT_NODE}function Ua(u){return!!u&&($n(u)?Ua(u.parentElement):!!u.getClientRects&&!!u.getClientRects().length)}function Du({element:u,target:e,positions:r,limiter:s,fitInViewport:l,viewportOffsetConfig:f}){Ki(e)&&(e=e()),Ki(s)&&(s=s());const b=Oc(u),A=function(W){W=Object.assign({top:0,bottom:0,left:0,right:0},W);const ee=new Mn(p.window);return ee.top+=W.top,ee.height-=W.top,ee.bottom-=W.bottom,ee.height-=W.bottom,ee}(f),S=new Mn(u),T=Pc(e,A);let O;if(!T||!A.getIntersection(T))return null;const P={targetRect:T,elementRect:S,positionedElementAncestor:b,viewportRect:A};if(s||l){if(s){const W=Pc(s,A);W&&(P.limiterRect=W)}O=function(W,ee){const{elementRect:ne}=ee,le=ne.getArea(),Ce=W.map(tt=>new $l(tt,ee)).filter(tt=>!!tt.name);let je=0,qe=null;for(const tt of Ce){const{limiterIntersectionArea:Dt,viewportIntersectionArea:Nt}=tt;if(Dt===le)return tt;const wn=Nt**2+Dt**2;wn>je&&(je=wn,qe=tt)}return qe}(r,P)}else O=new $l(r[0],P);return O}function Pc(u,e){const r=new Mn(u).getVisible();return r?r.getIntersection(e):null}class $l{constructor(e,r){const s=e(r.targetRect,r.elementRect,r.viewportRect,r.limiterRect);if(!s)return;const{left:l,top:f,name:b,config:A}=s;this.name=b,this.config=A,this._positioningFunctionCoordinates={left:l,top:f},this._options=r}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;return e?e.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function Sd(u){const e=u.parentNode;e&&e.removeChild(u)}function _p({window:u,rect:e,alignToTop:r,forceScroll:s,viewportOffset:l}){const f=e.clone().moveBy(0,l.bottom),b=e.clone().moveBy(0,-l.top),A=new Mn(u).excludeScrollbarsAndBorders(),S=r&&s,T=[b,f].every(ne=>A.contains(ne));let{scrollX:O,scrollY:P}=u;const W=O,ee=P;S?P-=A.top-e.top+l.top:T||(Iu(b,A)?P-=A.top-e.top+l.top:sa(f,A)&&(P+=r?e.top-A.top-l.top:e.bottom-A.bottom+l.bottom)),T||(Wl(e,A)?O-=A.left-e.left+l.left:Gl(e,A)&&(O+=e.right-A.right+l.right)),O==W&&P===ee||u.scrollTo(O,P)}function qa({parent:u,getRect:e,alignToTop:r,forceScroll:s,ancestorOffset:l=0,limiterElement:f}){const b=Rc(u),A=r&&s;let S,T,O;const P=f||b.document.body;for(;u!=P;)T=e(),S=new Mn(u).excludeScrollbarsAndBorders(),O=S.contains(T),A?u.scrollTop-=S.top-T.top+l:O||(Iu(T,S)?u.scrollTop-=S.top-T.top+l:sa(T,S)&&(u.scrollTop+=r?T.top-S.top-l:T.bottom-S.bottom+l)),O||(Wl(T,S)?u.scrollLeft-=S.left-T.left+l:Gl(T,S)&&(u.scrollLeft+=T.right-S.right+l)),u=u.parentNode}function sa(u,e){return u.bottom>e.bottom}function Iu(u,e){return u.top<e.top}function Wl(u,e){return u.left<e.left}function Gl(u,e){return u.right>e.right}function Rc(u){return $s(u)?u.startContainer.ownerDocument.defaultView:u.ownerDocument.defaultView}function Ab(u){if($s(u)){let e=u.commonAncestorContainer;return $n(e)&&(e=e.parentNode),e}return u.parentNode}function Ed(u,e){const r=Rc(u),s=new Mn(u);if(r===e)return s;{let l=r;for(;l!=e;){const f=l.frameElement,b=new Mn(f).excludeScrollbarsAndBorders();s.moveBy(b.left,b.top),l=l.parent}}return s}const If={ctrl:"",cmd:"",alt:"",shift:""},_o={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Ri={37:"",38:"",39:"",40:"",9:"",33:"Page Up",34:"Page Down"},ln=zc(),Tu=Object.fromEntries(Object.entries(ln).map(([u,e])=>{let r;return r=e in Ri?Ri[e]:u.charAt(0).toUpperCase()+u.slice(1),[e,r]}));function Gs(u){let e;if(typeof u=="string"){if(e=ln[u.toLowerCase()],!e)throw new U("keyboard-unknown-key",null,{key:u})}else e=u.keyCode+(u.altKey?ln.alt:0)+(u.ctrlKey?ln.ctrl:0)+(u.shiftKey?ln.shift:0)+(u.metaKey?ln.cmd:0);return e}function Tf(u){return typeof u=="string"&&(u=function(e){return e.split("+").map(r=>r.trim())}(u)),u.map(e=>typeof e=="string"?function(r){if(r.endsWith("!"))return Gs(r.slice(0,-1));const s=Gs(r);return(v.isMac||v.isiOS)&&s==ln.ctrl?ln.cmd:s}(e):e).reduce((e,r)=>r+e,0)}function Yl(u,e){let r=Tf(u);const s=v.isMac||v.isiOS;return Object.entries(s?If:_o).reduce((l,[f,b])=>(r&ln[f]&&(r&=~ln[f],l+=b),l),"")+(r?Tu[r]:"")}function Cp(u,e){const r=e==="ltr";switch(u){case ln.arrowleft:return r?"left":"right";case ln.arrowright:return r?"right":"left";case ln.arrowup:return"up";case ln.arrowdown:return"down"}}function zc(){const u={pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++)u[String.fromCharCode(e).toLowerCase()]=e;for(let e=48;e<=57;e++)u[e-48]=e;for(let e=112;e<=123;e++)u["f"+(e-111)]=e;return Object.assign(u,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),u}function ar(u){return Array.isArray(u)?u:[u]}const Ys=function(u,e,r){(r!==void 0&&!jr(u[e],r)||r===void 0&&!(e in u))&&ml(u,e,r)},Xm=function(u){return function(e,r,s){for(var l=-1,f=Object(e),b=s(e),A=b.length;A--;){var S=b[++l];if(r(f[S],S,f)===!1)break}return e}}(),xh=function(u){return gr(u)&&vu(u)},vl=function(u,e){if((e!=="constructor"||typeof u[e]!="function")&&e!="__proto__")return u[e]},Uo=function(u){return Ll(u,bl(u))},Fc=function(u,e,r,s,l,f,b){var A=vl(u,r),S=vl(e,r),T=b.get(S);if(T)Ys(u,r,T);else{var O=void 0,P=O===void 0;if(P){var W=vr(S),ee=!W&&ra(S),ne=!W&&!ee&&xf(S);O=S,W||ee||ne?vr(A)?O=A:xh(A)?O=$(A):ee?(P=!1,O=vh(S,!0)):ne?(P=!1,O=Ch(S,!0)):O=[]:or(S)||zs(S)?(O=A,zs(A)?O=Uo(A):Ge(A)&&!Ki(A)||(O=zo(S))):P=!1}P&&(b.set(S,O),l(O,S,s,f,b),b.delete(S)),Ys(u,r,O)}},Mu=function u(e,r,s,l,f){e!==r&&Xm(r,function(b,A){if(f||(f=new na),Ge(b))Fc(e,r,A,s,u,l,f);else{var S=void 0;S===void 0&&(S=b),Ys(e,A,S)}},bl)},ls=function(u){return u},xp=function(u,e,r){switch(r.length){case 0:return u.call(e);case 1:return u.call(e,r[0]);case 2:return u.call(e,r[0],r[1]);case 3:return u.call(e,r[0],r[1],r[2])}return u.apply(e,r)};var Mf=Math.max;const Sh=function(u,e,r){return e=Mf(e===void 0?u.length-1:e,0),function(){for(var s=arguments,l=-1,f=Mf(s.length-e,0),b=Array(f);++l<f;)b[l]=s[e+l];l=-1;for(var A=Array(e+1);++l<e;)A[l]=s[l];return A[e]=r(b),xp(u,this,A)}},Sp=function(u){return function(){return u}},Kl=Qi?function(u,e){return Qi(u,"toString",{configurable:!0,enumerable:!1,value:Sp(e),writable:!0})}:ls;var Co=Date.now;const Ep=function(u){var e=0,r=0;return function(){var s=Co(),l=16-(s-r);if(r=s,l>0){if(++e>=800)return arguments[0]}else e=0;return u.apply(void 0,arguments)}}(Kl),Ok=function(u,e){return Ep(Sh(u,e,ls),u+"")},_b=function(u,e,r){if(!Ge(r))return!1;var s=typeof e;return!!(s=="number"?vu(r)&&yo(e,r.length):s=="string"&&e in r)&&jr(r[e],u)},Cb=function(u){return Ok(function(e,r){var s=-1,l=r.length,f=l>1?r[l-1]:void 0,b=l>2?r[2]:void 0;for(f=u.length>3&&typeof f=="function"?(l--,f):void 0,b&&_b(r[0],r[1],b)&&(f=l<3?void 0:f,l=1),e=Object(e);++s<l;){var A=r[s];A&&u(e,A,s,f)}return e})};var xo=Cb(function(u,e,r){Mu(u,e,r)});const Nf=xo;function jf(u,e,r=1,s){if(typeof r!="number")throw new U("translation-service-quantity-not-a-number",null,{quantity:r});const l=s||p.window.CKEDITOR_TRANSLATIONS,f=function(O){return Object.keys(O).length}(l);f===1&&(u=Object.keys(l)[0]);const b=e.id||e.string;if(f===0||!function(O,P,W){return!!W[O]&&!!W[O].dictionary[P]}(u,b,l))return r!==1?e.plural:e.string;const A=l[u].dictionary,S=l[u].getPluralForm||(O=>O===1?0:1),T=A[b];return typeof T=="string"?T:T[Number(S(r))]}p.window.CKEDITOR_TRANSLATIONS||(p.window.CKEDITOR_TRANSLATIONS={});const Of=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig"];function Dp(u){return Of.includes(u)?"rtl":"ltr"}class Id{constructor({uiLanguage:e="en",contentLanguage:r,translations:s}={}){this.uiLanguage=e,this.contentLanguage=r||this.uiLanguage,this.uiLanguageDirection=Dp(this.uiLanguage),this.contentLanguageDirection=Dp(this.contentLanguage),this.translations=function(l){return Array.isArray(l)?l.reduce((f,b)=>Nf(f,b)):l}(s),this.t=(l,f)=>this._t(l,f)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,r=[]){r=ar(r),typeof e=="string"&&(e={string:e});const s=e.plural?r[0]:1;return function(l,f){return l.replace(/%(\d+)/g,(b,A)=>A<f.length?f[A]:b)}(jf(this.uiLanguage,e,s,this.translations),r)}}class So extends ke(){constructor(e={},r={}){super();const s=He(e);if(s||(r=e),this._items=[],this._itemMap=new Map,this._idProperty=r.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],s)for(const l of e)this._items.push(l),this._itemMap.set(this._getItemIdBeforeAdding(l),l)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,r){return this.addMany([e],r)}addMany(e,r){if(r===void 0)r=this._items.length;else if(r>this._items.length||r<0)throw new U("collection-add-item-invalid-index",this);let s=0;for(const l of e){const f=this._getItemIdBeforeAdding(l),b=r+s;this._items.splice(b,0,l),this._itemMap.set(f,l),this.fire("add",l,b),s++}return this.fire("change",{added:e,removed:[],index:r}),this}get(e){let r;if(typeof e=="string")r=this._itemMap.get(e);else{if(typeof e!="number")throw new U("collection-get-invalid-arg",this);r=this._items[e]}return r||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const r=e[this._idProperty];return r&&this._itemMap.has(r)}}getIndex(e){let r;return r=typeof e=="string"?this._itemMap.get(e):e,r?this._items.indexOf(r):-1}remove(e){const[r,s]=this._remove(e);return this.fire("change",{added:[],removed:[r],index:s}),r}map(e,r){return this._items.map(e,r)}forEach(e,r){this._items.forEach(e,r)}find(e,r){return this._items.find(e,r)}filter(e,r){return this._items.filter(e,r)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new U("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:r=>{this._setUpBindToBinding(s=>new r(s))},using:r=>{typeof r=="function"?this._setUpBindToBinding(r):this._setUpBindToBinding(s=>s[r])}}}_setUpBindToBinding(e){const r=this._bindToCollection,s=(l,f,b)=>{const A=r._bindToCollection==this,S=r._bindToInternalToExternalMap.get(f);if(A&&S)this._bindToExternalToInternalMap.set(f,S),this._bindToInternalToExternalMap.set(S,f);else{const T=e(f);if(!T)return void this._skippedIndexesFromExternal.push(b);let O=b;for(const P of this._skippedIndexesFromExternal)b>P&&O--;for(const P of r._skippedIndexesFromExternal)O>=P&&O++;this._bindToExternalToInternalMap.set(f,T),this._bindToInternalToExternalMap.set(T,f),this.add(T,O);for(let P=0;P<r._skippedIndexesFromExternal.length;P++)O<=r._skippedIndexesFromExternal[P]&&r._skippedIndexesFromExternal[P]++}};for(const l of r)s(0,l,r.getIndex(l));this.listenTo(r,"add",s),this.listenTo(r,"remove",(l,f,b)=>{const A=this._bindToExternalToInternalMap.get(f);A&&this.remove(A),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((S,T)=>(b<T&&S.push(T-1),b>T&&S.push(T),S),[])})}_getItemIdBeforeAdding(e){const r=this._idProperty;let s;if(r in e){if(s=e[r],typeof s!="string")throw new U("collection-add-invalid-id",this);if(this.get(s))throw new U("collection-add-item-already-exists",this)}else e[r]=s=ae();return s}_remove(e){let r,s,l,f=!1;const b=this._idProperty;if(typeof e=="string"?(s=e,l=this._itemMap.get(s),f=!l,l&&(r=this._items.indexOf(l))):typeof e=="number"?(r=e,l=this._items[r],f=!l,l&&(s=l[b])):(l=e,s=l[b],r=this._items.indexOf(l),f=r==-1||!this._itemMap.get(s)),f)throw new U("collection-remove-404",this);this._items.splice(r,1),this._itemMap.delete(s);const A=this._bindToInternalToExternalMap.get(l);return this._bindToInternalToExternalMap.delete(l),this._bindToExternalToInternalMap.delete(A),this.fire("remove",l,r),[l,r]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function qo(u){const e=u.next();return e.done?null:e.value}class Ji extends Fo(Ae()){constructor(){super(),this._elements=new Set,this._externalViews=new Set,this._blurTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}get elements(){return Array.from(this._elements.values())}get externalViews(){return Array.from(this._externalViews.values())}add(e){if(N(e))this._addElement(e);else if(eg(e))this._addView(e);else{if(!e.element)throw new U("focustracker-add-view-missing-element",{focusTracker:this,view:e});this._addElement(e.element)}}remove(e){N(e)?this._removeElement(e):eg(e)?this._removeView(e):this._removeElement(e.element)}_addElement(e){if(this._elements.has(e))throw new U("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>{const r=this.externalViews.find(s=>function(l,f){return R(l,f)?!0:!!f.focusTracker.externalViews.find(b=>R(l,b))}(e,s));r?this._focus(r.element):this._focus(e)},{useCapture:!0}),this.listenTo(e,"blur",()=>{this._blur()},{useCapture:!0}),this._elements.add(e)}_removeElement(e){this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e)),e===this.focusedElement&&this._blur()}_addView(e){e.element&&this._addElement(e.element),this.listenTo(e.focusTracker,"change:focusedElement",()=>{e.focusTracker.focusedElement?e.element&&this._focus(e.element):this._blur()}),this._externalViews.add(e)}_removeView(e){e.element&&this._removeElement(e.element),this.stopListening(e.focusTracker),this._externalViews.delete(e)}destroy(){this.stopListening(),this._elements.clear(),this._externalViews.clear(),this.isFocused=!1,this.focusedElement=null}_focus(e){this._clearBlurTimeout(),this.focusedElement=e,this.isFocused=!0}_blur(){this.elements.find(e=>e.contains(document.activeElement))||this.externalViews.find(e=>e.focusTracker.isFocused&&!e.focusTracker._blurTimeout)||(this._clearBlurTimeout(),this._blurTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0))}_clearBlurTimeout(){clearTimeout(this._blurTimeout),this._blurTimeout=null}}function eg(u){return"focusTracker"in u&&u.focusTracker instanceof Ji}function N(u){return Hs(u)}function R(u,e){return!!e.element&&e.element.contains(document.activeElement)&&u.contains(e.element)}class K{constructor(){this._listener=new(Fo())}listenTo(e){this._listener.listenTo(e,"keydown",(r,s)=>{this._listener.fire("_keydown:"+Gs(s),s)})}set(e,r,s={}){const l=Tf(e),f=s.priority;this._listener.listenTo(this._listener,"_keydown:"+l,(b,A)=>{s.filter&&!s.filter(A)||(r(A,()=>{A.preventDefault(),A.stopPropagation(),b.stop()}),b.return=!0)},{priority:f})}press(e){return!!this._listener.fire("_keydown:"+Gs(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}function ie(u){return He(u)?new Map(u):function(e){const r=new Map;for(const s in e)r.set(s,e[s]);return r}(u)}function pe(u,e,r){const s=u.length,l=e.length;for(let f=s-1;f>=r;f--)u[f+l]=u[f];for(let f=0;f<l;f++)u[r+f]=e[f]}function ye(u,e){let r;function s(...l){s.cancel(),r=setTimeout(()=>u(...l),e)}return s.cancel=()=>{clearTimeout(r)},s}function _e(u){try{if(!u.startsWith("ey"))return null;const e=atob(u.replace(/-/g,"+").replace(/_/g,"/"));return JSON.parse(e)}catch{return null}}function Se(u,e){return!!(r=u.charAt(e-1))&&r.length==1&&/[\ud800-\udbff]/.test(r)&&function(s){return!!s&&s.length==1&&/[\udc00-\udfff]/.test(s)}(u.charAt(e));var r}function Te(u,e){return!!(r=u.charAt(e))&&r.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(r);var r}const Le=lt();function We(u,e){const r=String(u).matchAll(Le);return Array.from(r).some(s=>s.index<e&&e<s.index+s[0].length)}function lt(){const u=new RegExp("\\p{Regional_Indicator}{2}","u").source,e="(?:"+[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")].map(r=>r.source).join("|")+")";return new RegExp(`${u}|${e}(?:${e})*`,"ug")}class rt extends So{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(r,s,l)=>{this._renderViewIntoCollectionParent(s,l)}),this.on("remove",(r,s)=>{s.element&&this._parentElement&&s.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const r of this)this._renderViewIntoCollectionParent(r)}delegate(...e){if(!e.length||!e.every(r=>typeof r=="string"))throw new U("ui-viewcollection-delegate-wrong-events",this);return{to:r=>{for(const s of this)for(const l of e)s.delegate(l).to(r);this.on("add",(s,l)=>{for(const f of e)l.delegate(f).to(r)}),this.on("remove",(s,l)=>{for(const f of e)l.stopDelegating(f,r)})}}}_renderViewIntoCollectionParent(e,r){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[r])}remove(e){return super.remove(e)}}class et extends ke(){constructor(e){super(),Object.assign(this,vn(Xt(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new U("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){yield*function*e(r){if(r.children)for(const s of r.children)Br(s)?yield s:Ir(s)&&(yield*e(s))}(this)}static bind(e,r){return{to:(s,l)=>new bt({eventNameOrFunction:s,attribute:s,observable:e,emitter:r,callback:l}),if:(s,l,f)=>new Ye({observable:e,emitter:r,attribute:s,valueIfTrue:l,callback:f})}}static extend(e,r){if(e._isRendered)throw new U("template-extend-render",[this,e]);tr(e,vn(Xt(r)))}_renderNode(e){let r;if(r=e.node?this.tag&&this.text:this.tag?this.text:!this.text,r)throw new U("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let r=e.node;return r||(r=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),r}_renderText(e){let r=e.node;return r?e.revertData.text=r.textContent:r=e.node=document.createTextNode(""),Je(this.text)?this._bindToObservable({schema:this.text,updater:Rt(r),data:e}):r.textContent=this.text.join(""),r}_renderAttributes(e){if(!this.attributes)return;const r=e.node,s=e.revertData;for(const l in this.attributes){const f=r.getAttribute(l),b=this.attributes[l];s&&(s.attributes[l]=f);const A=Zr(b)?b[0].ns:null;if(Je(b)){const S=Zr(b)?b[0].value:b;s&&Cn(l)&&S.unshift(f),this._bindToObservable({schema:S,updater:Lt(r,l,A),data:e})}else if(l=="style"&&typeof b[0]!="string")this._renderStyleAttribute(b[0],e);else{s&&f&&Cn(l)&&b.unshift(f);const S=b.map(T=>T&&T.value||T).reduce((T,O)=>T.concat(O),[]).reduce(Cr,"");qn(S)||r.setAttributeNS(A,l,S)}}}_renderStyleAttribute(e,r){const s=r.node;for(const l in e){const f=e[l];Je(f)?this._bindToObservable({schema:[f],updater:nn(s,l),data:r}):s.style[l]=f}}_renderElementChildren(e){const r=e.node,s=e.intoFragment?document.createDocumentFragment():r,l=e.isApplying;let f=0;for(const b of this.children)if(Pn(b)){if(!l){b.setParent(r);for(const A of b)s.appendChild(A.element)}}else if(Br(b))l||(b.isRendered||b.render(),s.appendChild(b.element));else if(wa(b))s.appendChild(b);else if(l){const A={children:[],bindings:[],attributes:{}};e.revertData.children.push(A),b._renderNode({intoFragment:!1,node:s.childNodes[f++],isApplying:!0,revertData:A})}else s.appendChild(b.render());e.intoFragment&&r.appendChild(s)}_setUpListeners(e){if(this.eventListeners)for(const r in this.eventListeners){const s=this.eventListeners[r].map(l=>{const[f,b]=r.split("@");return l.activateDomEventListener(f,b,e)});e.revertData&&e.revertData.bindings.push(s)}}_bindToObservable({schema:e,updater:r,data:s}){const l=s.revertData;Tt(e,r,s);const f=e.filter(b=>!qn(b)).filter(b=>b.observable).map(b=>b.activateAttributeListener(e,r,s));l&&l.bindings.push(f)}_revertTemplateFromNode(e,r){for(const l of r.bindings)for(const f of l)f();if(r.text)return void(e.textContent=r.text);const s=e;for(const l in r.attributes){const f=r.attributes[l];f===null?s.removeAttribute(l):s.setAttribute(l,f)}for(let l=0;l<r.children.length;++l)this._revertTemplateFromNode(s.childNodes[l],r.children[l])}}class Bt{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const r=this.observable[this.attribute];return this.callback?this.callback(r,e):r}activateAttributeListener(e,r,s){const l=()=>Tt(e,r,s);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,l),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,l)}}}class bt extends Bt{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,r,s){const l=(f,b)=>{r&&!b.target.matches(r)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(b):this.observable.fire(this.eventNameOrFunction,b))};return this.emitter.listenTo(s.node,e,l),()=>{this.emitter.stopListening(s.node,e,l)}}}class Ye extends Bt{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){return!qn(super.getValue(e))&&(this.valueIfTrue||!0)}}function Je(u){return!!u&&(u.value&&(u=u.value),Array.isArray(u)?u.some(Je):u instanceof Bt)}function Tt(u,e,{node:r}){const s=function(f,b){return f.map(A=>A instanceof Bt?A.getValue(b):A)}(u,r);let l;l=u.length==1&&u[0]instanceof Ye?s[0]:s.reduce(Cr,""),qn(l)?e.remove():e.set(l)}function Rt(u){return{set(e){u.textContent=e},remove(){u.textContent=""}}}function Lt(u,e,r){return{set(s){u.setAttributeNS(r,e,s)},remove(){u.removeAttributeNS(r,e)}}}function nn(u,e){return{set(r){u.style[e]=r},remove(){u.style[e]=null}}}function Xt(u){return xu(u,e=>{if(e&&(e instanceof Bt||Ir(e)||Br(e)||Pn(e)))return e})}function vn(u){if(typeof u=="string"?u=function(e){return{text:[e]}}(u):u.text&&function(e){e.text=ar(e.text)}(u),u.on&&(u.eventListeners=function(e){for(const r in e)en(e,r);return e}(u.on),delete u.on),!u.text){u.attributes&&function(r){for(const s in r)r[s].value&&(r[s].value=ar(r[s].value)),en(r,s)}(u.attributes);const e=[];if(u.children)if(Pn(u.children))e.push(u.children);else for(const r of u.children)Ir(r)||Br(r)||wa(r)?e.push(r):e.push(new et(r));u.children=e}return u}function en(u,e){u[e]=ar(u[e])}function Cr(u,e){return qn(e)?u:qn(u)?e:`${u} ${e}`}function Or(u,e){for(const r in e)u[r]?u[r].push(...e[r]):u[r]=e[r]}function tr(u,e){if(e.attributes&&(u.attributes||(u.attributes={}),Or(u.attributes,e.attributes)),e.eventListeners&&(u.eventListeners||(u.eventListeners={}),Or(u.eventListeners,e.eventListeners)),e.text&&u.text.push(...e.text),e.children&&e.children.length){if(u.children.length!=e.children.length)throw new U("ui-template-extend-children-mismatch",u);let r=0;for(const s of e.children)tr(u.children[r++],s)}}function qn(u){return!u&&u!==0}function Br(u){return u instanceof un}function Ir(u){return u instanceof et}function Pn(u){return u instanceof rt}function Zr(u){return Ge(u[0])&&u[0].ns}function Cn(u){return u=="class"||u=="style"}var jn=a(2591),It=a.n(jn),Tr=a(8639),Vt=a.n(Tr),Eo=a(8128),zt=a.n(Eo),Xi=a(8021),Ut=a.n(Xi),Va=a(3051),jt=a.n(Va),zi=a(7676),Ks={attributes:{"data-cke":!0}};Ks.setAttributes=Ut(),Ks.insert=zt().bind(null,"head"),Ks.domAPI=Vt(),Ks.insertStyleElement=jt(),It()(zi.A,Ks),zi.A&&zi.A.locals&&zi.A.locals;class un extends Fo(Ae()){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new So,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(r,s)=>{s.locale=e,s.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=et.bind(this,this)}createCollection(e){const r=new rt(e);return this._viewCollections.add(r),r}registerChild(e){He(e)||(e=[e]);for(const r of e)this._unboundChildren.add(r)}deregisterChild(e){He(e)||(e=[e]);for(const r of e)this._unboundChildren.remove(r)}setTemplate(e){this.template=new et(e)}extendTemplate(e){et.extend(this.template,e)}render(){if(this.isRendered)throw new U("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}function Ql({emitter:u,activator:e,callback:r,contextElements:s,listenerOptions:l}){u.listenTo(document,"mousedown",(f,b)=>{if(!e())return;const A=typeof b.composedPath=="function"?b.composedPath():[],S=typeof s=="function"?s():s;for(const T of S)if(T.contains(b.target)||A.includes(T))return;r()},l)}function Zl(u){return class extends u{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...e){super(...e),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function ri({view:u}){u.listenTo(u.element,"submit",(e,r)=>{r.preventDefault(),u.fire("submit")},{useCapture:!0})}function Bf({keystrokeHandler:u,focusTracker:e,gridItems:r,numberOfColumns:s,uiLanguageDirection:l}){const f=()=>s;function b(T){return O=>{const P=r.find(ne=>ne.element===e.focusedElement),W=r.getIndex(P),ee=T(W,r);r.get(ee).focus(),O.stopPropagation(),O.preventDefault()}}function A(T,O){return T===O-1?0:T+1}function S(T,O){return T===0?O-1:T-1}u.set("arrowright",b((T,O)=>l==="rtl"?S(T,O.length):A(T,O.length))),u.set("arrowleft",b((T,O)=>l==="rtl"?A(T,O.length):S(T,O.length))),u.set("arrowup",b((T,O)=>{let P=T-f();return P<0&&(P=T+f()*Math.floor(O.length/f()),P>O.length-1&&(P-=f())),P})),u.set("arrowdown",b((T,O)=>{let P=T+f();return P>O.length-1&&(P=T%f()),P}))}class $t extends Ae(){constructor(e){super(),this._disableStack=new Set,this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",Ds,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",Ds),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}static get isOfficialPlugin(){return!1}static get isPremiumPlugin(){return!1}}function Ds(u){u.return=!1,u.stop()}class pn extends Ae(){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",r=>{if(!this.affectsData)return;const s=e.model.document.selection,l=s.getFirstPosition().root.rootName!="$graveyard"&&e.model.canEditAt(s);(e.isReadOnly||this._isEnabledBasedOnSelection&&!l)&&(r.return=!1,r.stop())},{priority:"highest"}),this.on("execute",r=>{this.isEnabled||r.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",Nu,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",Nu),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function Nu(u){u.return=!1,u.stop()}class Uc extends pn{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...e){const r=this._getFirstEnabledCommand();return!!r&&r.execute(e)}registerChildCommand(e,r={}){Y(this._childCommandsDefinitions,{command:e,priority:r.priority||"normal"}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:r})=>r.isEnabled);return e&&e.command}}class Qs extends ke(){constructor(e,r=[],s=[]){super(),this._plugins=new Map,this._context=e,this._availablePlugins=new Map;for(const l of r)l.pluginName&&this._availablePlugins.set(l.pluginName,l);this._contextPlugins=new Map;for(const[l,f]of s)this._contextPlugins.set(l,f),this._contextPlugins.set(f,l),l.pluginName&&this._availablePlugins.set(l.pluginName,l)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const r=this._plugins.get(e);if(!r){let s=e;throw typeof e=="function"&&(s=e.pluginName||e.name),new U("plugincollection-plugin-not-loaded",this._context,{plugin:s})}return r}has(e){return this._plugins.has(e)}init(e,r=[],s=[]){const l=this,f=this._context;(function ne(le,Ce=new Set){le.forEach(je=>{S(je)&&(Ce.has(je)||(Ce.add(je),je.pluginName&&!l._availablePlugins.has(je.pluginName)&&l._availablePlugins.set(je.pluginName,je),je.requires&&ne(je.requires,Ce)))})})(e),W(e);const b=[...function ne(le,Ce=new Set){return le.map(je=>S(je)?je:l._availablePlugins.get(je)).reduce((je,qe)=>Ce.has(qe)?je:(Ce.add(qe),qe.requires&&(W(qe.requires,qe),ne(qe.requires,Ce).forEach(tt=>je.add(tt))),je.add(qe)),new Set)}(e.filter(ne=>!O(ne,r)))];(function(ne,le){for(const Ce of le){if(typeof Ce!="function")throw new U("plugincollection-replace-plugin-invalid-type",null,{pluginItem:Ce});const je=Ce.pluginName;if(!je)throw new U("plugincollection-replace-plugin-missing-name",null,{pluginItem:Ce});if(Ce.requires&&Ce.requires.length)throw new U("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:je});const qe=l._availablePlugins.get(je);if(!qe)throw new U("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:je});const tt=ne.indexOf(qe);if(tt===-1){if(l._contextPlugins.has(qe))return;throw new U("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:je})}if(qe.requires&&qe.requires.length)throw new U("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:je});ne.splice(tt,1,Ce),l._availablePlugins.set(je,Ce)}})(b,s);const A=b.map(ne=>{let le=l._contextPlugins.get(ne);return le=le||new ne(f),l._add(ne,le),le});return ee(A,"init").then(()=>ee(A,"afterInit")).then(()=>A);function S(ne){return typeof ne=="function"}function T(ne){return S(ne)&&!!ne.isContextPlugin}function O(ne,le){return le.some(Ce=>Ce===ne||P(ne)===Ce||P(Ce)===ne)}function P(ne){return S(ne)?ne.pluginName||ne.name:ne}function W(ne,le=null){ne.map(Ce=>S(Ce)?Ce:l._availablePlugins.get(Ce)||Ce).forEach(Ce=>{(function(je,qe){if(!S(je))throw qe?new U("plugincollection-soft-required",f,{missingPlugin:je,requiredBy:P(qe)}):new U("plugincollection-plugin-not-found",f,{plugin:je})})(Ce,le),function(je,qe){if(T(qe)&&!T(je))throw new U("plugincollection-context-required",f,{plugin:P(je),requiredBy:P(qe)})}(Ce,le),function(je,qe){if(qe&&O(je,r))throw new U("plugincollection-required",f,{plugin:P(je),requiredBy:P(qe)})}(Ce,le)})}function ee(ne,le){return ne.reduce((Ce,je)=>je[le]?l._contextPlugins.has(je)?Ce:Ce.then(je[le].bind(je)):Ce,Promise.resolve())}}destroy(){const e=[];for(const[,r]of this)typeof r.destroy!="function"||this._contextPlugins.has(r)||e.push(r.destroy());return Promise.all(e)}_add(e,r){this._plugins.set(e,r);const s=e.pluginName;if(s){if(this._plugins.has(s))throw new U("plugincollection-plugin-name-conflict",null,{pluginName:s,plugin1:this._plugins.get(s).constructor,plugin2:e});this._plugins.set(s,r)}}}class qc{constructor(e){this._contextOwner=null;const{translations:r,...s}=e||{};this.config=new Nc(s,this.constructor.defaultConfig);const l=this.constructor.builtinPlugins;this.config.define("plugins",l),this.plugins=new Qs(this,l);const f=this.config.get("language")||{};this.locale=new Id({uiLanguage:typeof f=="string"?f:f.ui,contentLanguage:this.config.get("language.content"),translations:r}),this.t=this.locale.t,this.editors=new So}initPlugins(){const e=this.config.get("plugins")||[],r=this.config.get("substitutePlugins")||[];for(const s of e.concat(r)){if(typeof s!="function")throw new U("context-initplugins-constructor-only",null,{Plugin:s});if(s.isContextPlugin!==!0)throw new U("context-initplugins-invalid-plugin",null,{Plugin:s})}return this.plugins.init(e,[],r)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,r){if(this._contextOwner)throw new U("context-addeditor-private-context");this.editors.add(e),r&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const r of this.config.names())["plugins","removePlugins","extraPlugins"].includes(r)||(e[r]=this.config.get(r));return e}static create(e){return new Promise(r=>{const s=new this(e);r(s.initPlugins().then(()=>s))})}}class cs extends Ae(){constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}static get isOfficialPlugin(){return!1}static get isPremiumPlugin(){return!1}}const ju=function(u){return typeof u=="symbol"||gr(u)&&rr(u)=="[object Symbol]"};var Eh=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ip=/^\w*$/;const Td=function(u,e){if(vr(u))return!1;var r=typeof u;return!(r!="number"&&r!="symbol"&&r!="boolean"&&u!=null&&!ju(u))||Ip.test(u)||!Eh.test(u)||e!=null&&u in Object(e)};function Dh(u,e){if(typeof u!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var r=function(){var s=arguments,l=e?e.apply(this,s):s[0],f=r.cache;if(f.has(l))return f.get(l);var b=u.apply(this,s);return r.cache=f.set(l,b)||f,b};return r.cache=new(Dh.Cache||ku),r}Dh.Cache=ku;const Lf=Dh,Ih=function(u){var e=Lf(u,function(s){return r.size===500&&r.clear(),s}),r=e.cache;return e};var xb=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Sb=/\\(\\)?/g,Pf=Ih(function(u){var e=[];return u.charCodeAt(0)===46&&e.push(""),u.replace(xb,function(r,s,l,f){e.push(l?f.replace(Sb,"$1"):s||r)}),e});const Vc=Pf,Bk=function(u,e){for(var r=-1,s=u==null?0:u.length,l=Array(s);++r<s;)l[r]=e(u[r],r,u);return l};var tg=yt?yt.prototype:void 0,ng=tg?tg.toString:void 0;const rg=function u(e){if(typeof e=="string")return e;if(vr(e))return Bk(e,u)+"";if(ju(e))return ng?ng.call(e):"";var r=e+"";return r=="0"&&1/e==-1/0?"-0":r},Ou=function(u){return u==null?"":rg(u)},Th=function(u,e){return vr(u)?u:Td(u,e)?[u]:Vc(Ou(u))},Bu=function(u){if(typeof u=="string"||ju(u))return u;var e=u+"";return e=="0"&&1/u==-1/0?"-0":e},Md=function(u,e){for(var r=0,s=(e=Th(e,u)).length;u!=null&&r<s;)u=u[Bu(e[r++])];return r&&r==s?u:void 0},Hc=function(u,e,r){var s=u==null?void 0:Md(u,e);return s===void 0?r:s},Mh=function(u,e,r,s){if(!Ge(u))return u;for(var l=-1,f=(e=Th(e,u)).length,b=f-1,A=u;A!=null&&++l<f;){var S=Bu(e[l]),T=r;if(S==="__proto__"||S==="constructor"||S==="prototype")return u;if(l!=b){var O=A[S];(T=void 0)==void 0&&(T=Ge(O)?O:yo(e[l+1])?[]:{})}Tn(A,S,T),A=A[S]}return u},ig=function(u,e,r){return u==null?u:Mh(u,e,r)};var Rf=a(4098),Aa={attributes:{"data-cke":!0}};Aa.setAttributes=Ut(),Aa.insert=zt().bind(null,"head"),Aa.domAPI=Vt(),Aa.insertStyleElement=jt(),It()(Rf.A,Aa),Rf.A&&Rf.A.locals&&Rf.A.locals;const $c=new WeakMap;let zf=!1;function Ha({view:u,element:e,text:r,isDirectHost:s=!0,keepOnFocus:l=!1}){const f=u.document;function b(A){const S={text:A,isDirectHost:s,keepOnFocus:l,hostElement:s?e:null};$c.get(f).set(e,S),u.change(T=>Ff([[e,S]],T))}$c.has(f)||($c.set(f,new Map),f.registerPostFixer(A=>Ff($c.get(f),A)),f.on("change:isComposing",()=>{u.change(A=>Ff($c.get(f),A))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(A,S,T)=>b(T)),e.placeholder?b(e.placeholder):r&&b(r),r&&function(){zf||q("enableplaceholder-deprecated-text-option"),zf=!0}()}function Nh(u,e){return!e.hasClass("ck-placeholder")&&(u.addClass("ck-placeholder",e),!0)}function og(u,e){return!!e.hasClass("ck-placeholder")&&(u.removeClass("ck-placeholder",e),!0)}function Eb(u,e){if(!u.isAttached()||function(l){for(const f of l.getChildren())if(!f.is("uiElement"))return!0;return!1}(u))return!1;const r=u.document,s=r.selection.anchor;return(!r.isComposing||!s||s.parent!==u)&&(!!e||!r.isFocused||!!s&&s.parent!==u)}function Ff(u,e){const r=[];let s=!1;for(const[l,f]of u)f.isDirectHost&&(r.push(l),Lu(e,l,f)&&(s=!0));for(const[l,f]of u){if(f.isDirectHost)continue;const b=Db(l);b&&(r.includes(b)||(f.hostElement=b,Lu(e,l,f)&&(s=!0)))}return s}function Lu(u,e,r){const{text:s,isDirectHost:l,hostElement:f}=r;let b=!1;return f.getAttribute("data-placeholder")!==s&&(u.setAttribute("data-placeholder",s,f),b=!0),(l||e.childCount==1)&&Eb(f,r.keepOnFocus)?Nh(u,f)&&(b=!0):og(u,f)&&(b=!0),b}function Db(u){if(u.childCount){const e=u.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}class Wc{is(){throw new Error("is() method is abstract")}}const Tp=function(u){return Fa(u,4)};class Gc extends ke(Wc){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new U("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let r=this;for(;r.parent;)e.unshift(r.index),r=r.parent;return e}getAncestors(e={}){const r=[];let s=e.includeSelf?this:this.parent;for(;s;)r[e.parentFirst?"push":"unshift"](s),s=s.parent;return r}getCommonAncestor(e,r={}){const s=this.getAncestors(r),l=e.getAncestors(r);let f=0;for(;s[f]==l[f]&&s[f];)f++;return f===0?null:s[f-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const r=this.getPath(),s=e.getPath(),l=pt(r,s);switch(l){case"prefix":return!0;case"extension":return!1;default:return r[l]<s[l]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,r,s){this.fire(`change:${e}`,r,s),this.parent&&this.parent._fireChange(e,r,s)}toJSON(){const e=Tp(this);return delete e.parent,e}}Gc.prototype.is=function(u){return u==="node"||u==="view:node"};class eo extends Gc{constructor(e,r){super(e),this._textData=r}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof eo&&(this===e||this.data===e.data)}_clone(){return new eo(this.document,this.data)}}eo.prototype.is=function(u){return u==="$text"||u==="view:$text"||u==="text"||u==="view:text"||u==="node"||u==="view:node"};class Zs extends Wc{constructor(e,r,s){if(super(),this.textNode=e,r<0||r>e.data.length)throw new U("view-textproxy-wrong-offsetintext",this);if(s<0||r+s>e.data.length)throw new U("view-textproxy-wrong-length",this);this.data=e.data.substring(r,r+s),this.offsetInText=r}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const r=[];let s=e.includeSelf?this.textNode:this.parent;for(;s!==null;)r[e.parentFirst?"push":"unshift"](s),s=s.parent;return r}}Zs.prototype.is=function(u){return u==="$textProxy"||u==="view:$textProxy"||u==="textProxy"||u==="view:textProxy"};class Nd{constructor(){this._consumables=new Map}add(e,r){let s;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?s=this._consumables.get(e):(s=new Uf(e),this._consumables.set(e,s)),s.add(r?_a(r):e._getConsumables()))}test(e,r){const s=this._consumables.get(e);return s===void 0?null:e.is("$text")||e.is("documentFragment")?s:s.test(_a(r))}consume(e,r){if(e.is("$text")||e.is("documentFragment"))return!!this.test(e,r)&&(this._consumables.set(e,!1),!0);const s=this._consumables.get(e);return s!==void 0&&s.consume(_a(r))}revert(e,r){const s=this._consumables.get(e);s!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):s.revert(_a(r)))}static createFrom(e,r){if(r||(r=new Nd),e.is("$text"))r.add(e);else if(e.is("element")||e.is("documentFragment")){r.add(e);for(const s of e.getChildren())Nd.createFrom(s,r)}return r}}class Uf{constructor(e){this._canConsumeName=null,this._attributes=new Map,this.element=e}add(e){e.name&&(this._canConsumeName=!0);for(const[r,s]of e.attributes)if(s){let l=this._attributes.get(r);l&&typeof l!="boolean"||(l=new Map,this._attributes.set(r,l)),l.set(s,!0)}else{if(r=="style"||r=="class")throw new U("viewconsumable-invalid-attribute",this);this._attributes.set(r,!0)}}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const[r,s]of e.attributes){const l=this._attributes.get(r);if(l===void 0)return null;if(l===!1)return!1;if(l!==!0){if(s){const f=l.get(s);if(f===void 0)return null;if(!f)return!1}else for(const f of l.values())if(!f)return!1}}return!0}consume(e){if(!this.test(e))return!1;e.name&&(this._canConsumeName=!1);for(const[r,s]of e.attributes){const l=this._attributes.get(r);if(typeof l=="boolean")for(const[f]of this.element._getConsumables(r,s).attributes)this._attributes.set(f,!1);else if(s)for(const[,f]of this.element._getConsumables(r,s).attributes)l.set(f,!1);else for(const f of l.keys())l.set(f,!1)}return!0}revert(e){e.name&&(this._canConsumeName=!0);for(const[r,s]of e.attributes){const l=this._attributes.get(r);if(l!==!1){if(l!==void 0&&l!==!0)if(s)l.get(s)===!1&&l.set(s,!0);else for(const f of l.keys())l.set(f,!0)}else this._attributes.set(r,!0)}}}function _a(u){const e=[];return"attributes"in u&&u.attributes&&$a(e,u.attributes),"classes"in u&&u.classes&&$a(e,u.classes,"class"),"styles"in u&&u.styles&&$a(e,u.styles,"style"),{name:u.name||!1,attributes:e}}function $a(u,e,r){if(typeof e!="string")for(const s of e)Array.isArray(s)?u.push(s):u.push(r?[r,s]:[s]);else u.push(r?[r,e]:[e])}class Vo{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let r of e)(typeof r=="string"||r instanceof RegExp)&&(r={name:r}),this._patterns.push(r)}match(...e){for(const r of e)for(const s of this._patterns){const l=this._isElementMatching(r,s);if(l)return{element:r,pattern:s,match:l}}return null}matchAll(...e){const r=[];for(const s of e)for(const l of this._patterns){const f=this._isElementMatching(s,l);f&&r.push({element:s,pattern:l,match:f})}return r.length>0?r:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],r=e.name;return typeof e=="function"||!r||r instanceof RegExp?null:r}_isElementMatching(e,r){if(typeof r=="function"){const f=r(e);return f&&typeof f=="object"?_a(f):f}const s={};if(r.name&&(s.name=function(f,b){return f instanceof RegExp?!!b.match(f):f===b}(r.name,e.name),!s.name))return null;const l=[];return r.attributes&&!function(f,b,A){let S;return typeof f!="object"||f instanceof RegExp||Array.isArray(f)?S=["class","style"]:(f.style!==void 0&&q("matcher-pattern-deprecated-attributes-style-key",f),f.class!==void 0&&q("matcher-pattern-deprecated-attributes-class-key",f)),b._collectAttributesMatch(jd(f),A,S)}(r.attributes,e,l)||r.classes&&!function(f,b,A){return b._collectAttributesMatch(jd(f,"class"),A)}(r.classes,e,l)||r.styles&&!function(f,b,A){return b._collectAttributesMatch(jd(f,"style"),A)}(r.styles,e,l)?null:(l.length&&(s.attributes=l),s)}}function Pu(u,e){return u===!0||u===e||u instanceof RegExp&&!!String(e).match(u)}function jd(u,e){if(Array.isArray(u))return u.map(s=>typeof s!="object"||s instanceof RegExp?e?[e,s,!0]:[s,!0]:(s.key!==void 0&&s.value!==void 0||q("matcher-pattern-missing-key-or-value",s),e?[e,s.key,s.value]:[s.key,s.value]));if(typeof u!="object"||u instanceof RegExp)return[e?[e,u,!0]:[u,!0]];const r=[];for(const s in u)Object.prototype.hasOwnProperty.call(u,s)&&r.push(e?[e,s,u[s]]:[s,u[s]]);return r}const sg=function(u){var e=u==null?0:u.length;return e?u[e-1]:void 0},ag=function(u,e,r){var s=-1,l=u.length;e<0&&(e=-e>l?0:l+e),(r=r>l?l:r)<0&&(r+=l),l=e>r?0:r-e>>>0,e>>>=0;for(var f=Array(l);++s<l;)f[s]=u[s+e];return f},lg=function(u,e){return e.length<2?u:Md(u,ag(e,0,-1))},cg=function(u,e){return e=Th(e,u),(u=lg(u,e))==null||delete u[Bu(sg(e))]},EA=function(u,e){return u==null||cg(u,e)};class Od{constructor(e){this._cachedStyleNames=null,this._cachedExpandedStyleNames=null,this._styles={},this._styleProcessor=e}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const r=function(s){let l=null,f=0,b=0,A=null;const S=new Map;if(s==="")return S;s.charAt(s.length-1)!=";"&&(s+=";");for(let T=0;T<s.length;T++){const O=s.charAt(T);if(l===null)switch(O){case":":A||(A=s.substr(f,T-f),b=T+1);break;case'"':case"'":l=O;break;case";":{const P=s.substr(b,T-b);A&&S.set(A.trim(),P.trim()),A=null,f=T+1;break}}else O===l&&(l=null)}return S}(e);for(const[s,l]of r)this._styleProcessor.toNormalizedForm(s,l,this._styles);return this}has(e){if(this.isEmpty)return!1;const r=this._styleProcessor.getReducedForm(e,this._styles).find(([s])=>s===e);return Array.isArray(r)}set(e,r){if(this._cachedStyleNames=null,this._cachedExpandedStyleNames=null,Ge(e))for(const[s,l]of Object.entries(e))this._styleProcessor.toNormalizedForm(s,l,this._styles);else this._styleProcessor.toNormalizedForm(e,r,this._styles)}remove(e){for(const r of ar(e)){this._cachedStyleNames=null,this._cachedExpandedStyleNames=null;const s=Mp(r);EA(this._styles,s),delete this._styles[r],this._cleanEmptyObjectsOnPath(s)}}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!Ge(this._styles[e]))return this._styles[e];const r=this._styleProcessor.getReducedForm(e,this._styles).find(([s])=>s===e);return Array.isArray(r)?r[1]:void 0}getStyleNames(e=!1){return this.isEmpty?[]:e?(this._cachedExpandedStyleNames=this._cachedExpandedStyleNames||this._styleProcessor.getStyleNames(this._styles),this._cachedExpandedStyleNames):(this._cachedStyleNames=this._cachedStyleNames||this.getStylesEntries().map(([r])=>r),this._cachedStyleNames)}keys(){return this.getStyleNames()}clear(){this._styles={},this._cachedStyleNames=null,this._cachedExpandedStyleNames=null}isSimilar(e){if(this.size!==e.size)return!1;for(const r of this.getStyleNames())if(!e.has(r)||e.getAsString(r)!==this.getAsString(r))return!1;return!0}getStylesEntries(){const e=[],r=Object.keys(this._styles);for(const s of r)e.push(...this._styleProcessor.getReducedForm(s,this._styles));return e}_clone(){const e=new this.constructor(this._styleProcessor);return e.set(this.getNormalized()),e}_getTokensMatch(e,r){const s=[];for(const l of this.getStyleNames(!0))if(Pu(e,l)){if(r===!0){s.push(l);continue}Pu(r,this.getAsString(l))&&s.push(l)}return s.length?s:void 0}_getConsumables(e){const r=[];if(e){r.push(e);for(const s of this._styleProcessor.getRelatedStyles(e))r.push(s)}else for(const s of this.getStyleNames()){for(const l of this._styleProcessor.getRelatedStyles(s))r.push(l);r.push(s)}return r}_canMergeFrom(e){for(const r of e.getStyleNames())if(this.has(r)&&this.getAsString(r)!==e.getAsString(r))return!1;return!0}_mergeFrom(e){for(const r of e.getStyleNames())this.has(r)||this.set(r,e.getAsString(r))}_isMatching(e){for(const r of e.getStyleNames())if(!this.has(r)||this.getAsString(r)!==e.getAsString(r))return!1;return!0}_cleanEmptyObjectsOnPath(e){const r=e.split(".");if(!(r.length>1))return;const s=r.splice(0,r.length-1).join("."),l=Hc(this._styles,s);l&&!Object.keys(l).length&&this.remove(s)}}class Lk{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,r,s){if(Ge(r))Ib(s,Mp(e),r);else if(this._normalizers.has(e)){const l=this._normalizers.get(e),{path:f,value:b}=l(r);Ib(s,f,b)}else Ib(s,e,r)}getNormalized(e,r){if(!e)return Nf({},r);if(r[e]!==void 0)return r[e];if(this._extractors.has(e)){const s=this._extractors.get(e);if(typeof s=="string")return Hc(r,s);const l=s(e,r);if(l)return l}return Hc(r,Mp(e))}getReducedForm(e,r){const s=this.getNormalized(e,r);return s===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(s):[[e,s]]}getStyleNames(e){const r=new Set;for(const s of this._consumables.keys()){const l=this.getNormalized(s,e);l&&(typeof l!="object"||Object.keys(l).length)&&r.add(s)}for(const s of Object.keys(e))r.add(s);return Array.from(r)}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,r){this._normalizers.set(e,r)}setExtractor(e,r){this._extractors.set(e,r)}setReducer(e,r){this._reducers.set(e,r)}setStyleRelation(e,r){this._mapStyleNames(e,r);for(const s of r)this._mapStyleNames(s,[e])}_mapStyleNames(e,r){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...r)}}function Mp(u){return u.replace("-",".")}function Ib(u,e,r){let s=r;Ge(r)&&(s=Nf({},Hc(u,e),r)),ig(u,e,s)}class Tb{constructor(){this._set=new Set}get isEmpty(){return this._set.size==0}get size(){return this._set.size}has(e){return this._set.has(e)}keys(){return Array.from(this._set.keys())}setTo(e){this.clear();for(const r of e.split(/\s+/))r&&this._set.add(r);return this}set(e){for(const r of ar(e))r&&this._set.add(r)}remove(e){for(const r of ar(e))this._set.delete(r)}clear(){this._set.clear()}toString(){return Array.from(this._set).join(" ")}isSimilar(e){if(this.size!==e.size)return!1;for(const r of this.keys())if(!e.has(r))return!1;return!0}_clone(){const e=new this.constructor;return e._set=new Set(this._set),e}_getTokensMatch(e){const r=[];if(e===!0){for(const s of this._set.keys())r.push(s);return r}if(typeof e=="string"){for(const s of e.split(/\s+/)){if(!this._set.has(s))return;r.push(s)}return r}for(const s of this._set.keys())s.match(e)&&r.push(s);return r.length?r:void 0}_getConsumables(e){return e?[e]:this.keys()}_canMergeFrom(){return!0}_mergeFrom(e){for(const r of e._set.keys())this._set.has(r)||this._set.add(r)}_isMatching(e){for(const r of e._set.keys())if(!this._set.has(r))return!1;return!0}}class Wa extends Gc{constructor(e,r,s,l){super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=r,this._attrs=this._parseAttributes(s),this._children=[],l&&this._insertChild(0,l)}get _classes(){return this._attrs.get("class")}get _styles(){return this._attrs.get("style")}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes&&(yield"class"),this._styles&&(yield"style");for(const e of this._attrs.keys())e!="class"&&e!="style"&&(yield e)}*getAttributes(){for(const[e,r]of this._attrs.entries())yield[e,String(r)]}getAttribute(e){return this._attrs.has(e)?String(this._attrs.get(e)):void 0}hasAttribute(e,r){return!!this._attrs.has(e)&&(r===void 0||(qf(this.name,e)||Np(this.name,e)?this._attrs.get(e).has(r):this._attrs.get(e)===r))}isSimilar(e){if(!(e instanceof Wa))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size)return!1;for(const[r,s]of this._attrs){const l=e._attrs.get(r);if(l===void 0)return!1;if(typeof s=="string"||typeof l=="string"){if(l!==s)return!1}else if(!s.isSimilar(l))return!1}return!0}hasClass(...e){for(const r of e)if(!this._classes||!this._classes.has(r))return!1;return!0}getClassNames(){const e=this._classes?this._classes.keys():[],r=e[Symbol.iterator]();return Object.assign(e,{next:r.next.bind(r)})}getStyle(e){return this._styles&&this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles&&this._styles.getNormalized(e)}getStyleNames(e){return this._styles?this._styles.getStyleNames(e):[]}hasStyle(...e){for(const r of e)if(!this._styles||!this._styles.has(r))return!1;return!0}findAncestor(...e){const r=new Vo(...e);let s=this.parent;for(;s&&!s.is("documentFragment");){if(r.match(s))return s;s=s.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=this._classes?this._classes.keys().sort().join(","):"",r=this._styles&&String(this._styles),s=Array.from(this._attrs).filter(([l])=>l!="style"&&l!="class").map(l=>`${l[0]}="${l[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(r?` style="${r}"`:"")+(s==""?"":` ${s}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const r=[];if(e)for(const l of this.getChildren())r.push(l._clone(e));const s=new this.constructor(this.document,this.name,this._attrs,r);return s._customProperties=new Map(this._customProperties),s.getFillerOffset=this.getFillerOffset,s._unsafeAttributesToRender=this._unsafeAttributesToRender,s}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,r){this._fireChange("children",this,{index:e});let s=0;const l=function(f,b){if(typeof b=="string")return[new eo(f,b)];He(b)||(b=[b]);const A=[];for(const S of b)typeof S=="string"?A.push(new eo(f,S)):S instanceof Zs?A.push(new eo(f,S.data)):A.push(S);return A}(this.document,r);for(const f of l)f.parent!==null&&f._remove(),f.parent=this,f.document=this.document,this._children.splice(e,0,f),e++,s++;return s}_removeChildren(e,r=1){this._fireChange("children",this,{index:e});for(let s=e;s<e+r;s++)this._children[s].parent=null;return this._children.splice(e,r)}_setAttribute(e,r,s=!0){if(this._fireChange("attributes",this),qf(this.name,e)||Np(this.name,e)){let l=this._attrs.get(e);l||(l=qf(this.name,e)?new Od(this.document.stylesProcessor):new Tb,this._attrs.set(e,l)),s?l.setTo(String(r)):qf(this.name,e)?Array.isArray(r)?l.set(r[0],r[1]):l.set(r):l.set(typeof r=="string"?r.split(/\s+/):r)}else this._attrs.set(e,String(r))}_removeAttribute(e,r){if(this._fireChange("attributes",this),r!==void 0&&(qf(this.name,e)||Np(this.name,e))){const s=this._attrs.get(e);return!!s&&(Np(this.name,e)&&typeof r=="string"&&(r=r.split(/\s+/)),s.remove(r),!!s.isEmpty&&this._attrs.delete(e))}return this._attrs.delete(e)}_addClass(e){this._setAttribute("class",e,!1)}_removeClass(e){this._removeAttribute("class",e)}_setStyle(e,r){typeof e!="string"?this._setAttribute("style",e,!1):this._setAttribute("style",[e,r],!1)}_removeStyle(e){this._removeAttribute("style",e)}_collectAttributesMatch(e,r,s){for(const[l,f,b]of e){let A=!1,S=!1;for(const[T,O]of this._attrs)if(!(s&&s.includes(T)||!Pu(l,T)))if(A=!0,typeof O=="string"){if(Pu(f,O))r.push([T]),S=!0;else if(!(l instanceof RegExp))return!1}else{const P=O._getTokensMatch(f,b||!0);if(P){S=!0;for(const W of P)r.push([T,W])}else if(!(l instanceof RegExp))return!1}if(!A||!S)return!1}return!0}_getConsumables(e,r){const s=[];if(e){const l=this._attrs.get(e);if(l!==void 0)if(typeof l=="string")s.push([e]);else for(const f of l._getConsumables(r))s.push([e,f])}else for(const[l,f]of this._attrs)if(typeof f=="string")s.push([l]);else for(const b of f._getConsumables())s.push([l,b]);return{name:!e,attributes:s}}_canMergeAttributesFrom(e){if(this.name!=e.name)return!1;for(const[r,s]of e._attrs){const l=this._attrs.get(r);if(l!==void 0){if(typeof l=="string"||typeof s=="string"){if(l!==s)return!1}else if(!l._canMergeFrom(s))return!1}}return!0}_mergeAttributesFrom(e){this._fireChange("attributes",this);for(const[r,s]of e._attrs){const l=this._attrs.get(r);l===void 0||typeof l=="string"||typeof s=="string"?this._setAttribute(r,s):l._mergeFrom(s)}}_canSubtractAttributesOf(e){if(this.name!=e.name)return!1;for(const[r,s]of e._attrs){const l=this._attrs.get(r);if(l===void 0)return!1;if(typeof l=="string"||typeof s=="string"){if(l!==s)return!1}else if(!l._isMatching(s))return!1}return!0}_subtractAttributesOf(e){this._fireChange("attributes",this);for(const[r,s]of e._attrs){const l=this._attrs.get(r);typeof l=="string"||typeof s=="string"?this._attrs.delete(r):(l.remove(s.keys()),l.isEmpty&&this._attrs.delete(r))}}_setCustomProperty(e,r){this._customProperties.set(e,r)}_removeCustomProperty(e){return this._customProperties.delete(e)}_parseAttributes(e){const r=ie(e);for(const[s,l]of r)if(l===null)r.delete(s);else if(qf(this.name,s)){const f=l instanceof Od?l._clone():new Od(this.document.stylesProcessor).setTo(String(l));r.set(s,f)}else if(Np(this.name,s)){const f=l instanceof Tb?l._clone():new Tb().setTo(String(l));r.set(s,f)}else typeof l!="string"&&r.set(s,String(l));return r}}function Np(u,e){return e=="class"||u=="a"&&e=="rel"}function qf(u,e){return e=="style"}Wa.prototype.is=function(u,e){return e?e===this.name&&(u==="element"||u==="view:element"):u==="element"||u==="view:element"||u==="node"||u==="view:node"};class ug extends Wa{constructor(e,r,s,l){super(e,r,s,l),this.getFillerOffset=jp}}function jp(){const u=[...this.getChildren()],e=u[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const r of u)if(!r.is("uiElement"))return null;return this.childCount}ug.prototype.is=function(u,e){return e?e===this.name&&(u==="containerElement"||u==="view:containerElement"||u==="element"||u==="view:element"):u==="containerElement"||u==="view:containerElement"||u==="element"||u==="view:element"||u==="node"||u==="view:node"};class jh extends Ae(ug){constructor(e,r,s,l){super(e,r,s,l),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",f=>f&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}jh.prototype.is=function(u,e){return e?e===this.name&&(u==="editableElement"||u==="view:editableElement"||u==="containerElement"||u==="view:containerElement"||u==="element"||u==="view:element"):u==="editableElement"||u==="view:editableElement"||u==="containerElement"||u==="view:containerElement"||u==="element"||u==="view:element"||u==="node"||u==="view:node"};const dg=Symbol("rootName");class Op extends jh{constructor(e,r){super(e,r),this.rootName="main"}get rootName(){return this.getCustomProperty(dg)}set rootName(e){this._setCustomProperty(dg,e)}set _name(e){this.name=e}}Op.prototype.is=function(u,e){return e?e===this.name&&(u==="rootElement"||u==="view:rootElement"||u==="editableElement"||u==="view:editableElement"||u==="containerElement"||u==="view:containerElement"||u==="element"||u==="view:element"):u==="rootElement"||u==="view:rootElement"||u==="editableElement"||u==="view:editableElement"||u==="containerElement"||u==="view:containerElement"||u==="element"||u==="view:element"||u==="node"||u==="view:node"};class Ru{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new U("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new U("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=Qt._createAt(e.startPosition):this._position=Qt._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let r,s;do s=this.position,r=this.next();while(!r.done&&e(r.value));r.done||(this._position=s)}jumpTo(e){this._boundaryStartParent&&e.isBefore(this.boundaries.start)?e=this.boundaries.start:this._boundaryEndParent&&e.isAfter(this.boundaries.end)&&(e=this.boundaries.end),this._position=e.clone()}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const r=this.position,s=e.parent;if(s.parent===null&&e.offset===s.childCount)return{done:!0,value:void 0};if(s===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let l;if(s&&s.is("view:$text")){if(e.isAtEnd)return this._position=Qt._createAfter(s),this._next();l=s.data[e.offset]}else l=s.getChild(e.offset);if(typeof l=="string"){let f;this.singleCharacters?f=1:f=(s===this._boundaryEndParent?this.boundaries.end.offset:s.data.length)-e.offset;const b=new Zs(s,e.offset,f);return e.offset+=f,this._position=e,this._formatReturnValue("text",b,r,e,f)}if(l&&l.is("view:element")){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e=new Qt(l,0);return this._position=e,this._formatReturnValue("elementStart",l,r,e,1)}if(l&&l.is("view:$text")){if(this.singleCharacters)return e=new Qt(l,0),this._position=e,this._next();let f,b=l.data.length;return l==this._boundaryEndParent?(b=this.boundaries.end.offset,f=new Zs(l,0,b),e=Qt._createAfter(f)):(f=new Zs(l,0,l.data.length),e.offset++),this._position=e,this._formatReturnValue("text",f,r,e,b)}return e=Qt._createAfter(s),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",s,r,e)}_previous(){let e=this.position.clone();const r=this.position,s=e.parent;if(s.parent===null&&e.offset===0)return{done:!0,value:void 0};if(s==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let l;if(s.is("view:$text")){if(e.isAtStart)return this._position=Qt._createBefore(s),this._previous();l=s.data[e.offset-1]}else l=s.getChild(e.offset-1);if(typeof l=="string"){let f;if(this.singleCharacters)f=1;else{const A=s===this._boundaryStartParent?this.boundaries.start.offset:0;f=e.offset-A}e.offset-=f;const b=new Zs(s,e.offset,f);return this._position=e,this._formatReturnValue("text",b,r,e,f)}if(l&&l.is("view:element"))return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",l,r,e,1)):(e=new Qt(l,l.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",l,r,e));if(l&&l.is("view:$text")){if(this.singleCharacters)return e=new Qt(l,l.data.length),this._position=e,this._previous();let f,b=l.data.length;if(l==this._boundaryStartParent){const A=this.boundaries.start.offset;f=new Zs(l,A,l.data.length-A),b=f.data.length,e=Qt._createBefore(f)}else f=new Zs(l,0,l.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",f,r,e,b)}return e=Qt._createBefore(s),this._position=e,this._formatReturnValue("elementStart",s,r,e,1)}_formatReturnValue(e,r,s,l,f){return r.is("view:$textProxy")&&(r.offsetInText+r.data.length==r.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?s=Qt._createAfter(r.textNode):(l=Qt._createAfter(r.textNode),this._position=l)),r.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?s=Qt._createBefore(r.textNode):(l=Qt._createBefore(r.textNode),this._position=l))),{done:!1,value:{type:e,item:r,previousPosition:s,nextPosition:l,length:f}}}}class Qt extends Wc{constructor(e,r){super(),this.parent=e,this.offset=r}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof jh);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const r=Qt._createAt(this),s=r.offset+e;return r.offset=s<0?0:s,r}getLastMatchingPosition(e,r={}){r.startPosition=this;const s=new Ru(r);return s.skip(e),s.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const r=this.getAncestors(),s=e.getAncestors();let l=0;for(;r[l]==s[l]&&r[l];)l++;return l===0?null:r[l-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const r=this.parent.is("node")?this.parent.getPath():[],s=e.parent.is("node")?e.parent.getPath():[];r.push(this.offset),s.push(e.offset);const l=pt(r,s);switch(l){case"prefix":return"before";case"extension":return"after";default:return r[l]<s[l]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new Ru(e)}clone(){return new Qt(this.parent,this.offset)}static _createAt(e,r){if(e instanceof Qt)return new this(e.parent,e.offset);{const s=e;if(r=="end")r=s.is("$text")?s.data.length:s.childCount;else{if(r=="before")return this._createBefore(s);if(r=="after")return this._createAfter(s);if(r!==0&&!r)throw new U("view-createpositionat-offset-required",s)}return new Qt(s,r)}}static _createAfter(e){if(e.is("$textProxy"))return new Qt(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new U("view-position-after-root",e,{root:e});return new Qt(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new Qt(e.textNode,e.offsetInText);if(!e.parent)throw new U("view-position-before-root",e,{root:e});return new Qt(e.parent,e.index)}}Qt.prototype.is=function(u){return u==="position"||u==="view:position"};class Nn extends Wc{constructor(e,r=null){super(),this.start=e.clone(),this.end=r?r.clone():e.clone()}*[Symbol.iterator](){yield*new Ru({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(Bd,{direction:"backward"}),r=this.end.getLastMatchingPosition(Bd);return e.parent.is("$text")&&e.isAtStart&&(e=Qt._createBefore(e.parent)),r.parent.is("$text")&&r.isAtEnd&&(r=Qt._createAfter(r.parent)),new Nn(e,r)}getTrimmed(){let e=this.start.getLastMatchingPosition(Bd);if(e.isAfter(this.end)||e.isEqual(this.end))return new Nn(e,e);let r=this.end.getLastMatchingPosition(Bd,{direction:"backward"});const s=e.nodeAfter,l=r.nodeBefore;return s&&s.is("$text")&&(e=new Qt(s,0)),l&&l.is("$text")&&(r=new Qt(l,l.data.length)),new Nn(e,r)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,r=!1){e.isCollapsed&&(r=!1);const s=this.containsPosition(e.start)||r&&this.start.isEqual(e.start),l=this.containsPosition(e.end)||r&&this.end.isEqual(e.end);return s&&l}getDifference(e){const r=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&r.push(new Nn(this.start,e.start)),this.containsPosition(e.end)&&r.push(new Nn(e.end,this.end))):r.push(this.clone()),r}getIntersection(e){if(this.isIntersecting(e)){let r=this.start,s=this.end;return this.containsPosition(e.start)&&(r=e.start),this.containsPosition(e.end)&&(s=e.end),new Nn(r,s)}return null}getWalker(e={}){return e.boundaries=this,new Ru(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,r=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(r=this.end.parent.previousSibling),e&&e.is("element")&&e===r?e:null}clone(){return new Nn(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const r=new Ru(e);for(const s of r)yield s.item}*getPositions(e={}){e.boundaries=this;const r=new Ru(e);yield r.position;for(const s of r)yield s.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,r,s,l){return new this(new Qt(e,r),new Qt(s,l))}static _createFromPositionAndShift(e,r){const s=e,l=e.getShiftedBy(r);return r>0?new this(s,l):new this(l,s)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const r=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Qt._createBefore(e),r)}}function Bd(u){return!(!u.item.is("attributeElement")&&!u.item.is("uiElement"))}Nn.prototype.is=function(u){return u==="range"||u==="view:range"};class Jl extends ke(Wc){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const r of this._ranges)e&&!r.start.isBefore(e.start)||(e=r);return e?e.clone():null}getLastRange(){let e=null;for(const r of this._ranges)e&&!r.end.isAfter(e.end)||(e=r);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const r of this._ranges){let s=!1;for(const l of e._ranges)if(r.isEqual(l)){s=!0;break}if(!s)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const r=ot(this.getRanges());if(r!=ot(e.getRanges()))return!1;if(r==0)return!0;for(let s of this.getRanges()){s=s.getTrimmed();let l=!1;for(let f of e.getRanges())if(f=f.getTrimmed(),s.start.isEqual(f.start)&&s.end.isEqual(f.end)){l=!0;break}if(!l)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[r,s,l]=e;if(typeof s=="object"&&(l=s,s=void 0),r===null)this._setRanges([]),this._setFakeOptions(l);else if(r instanceof Jl||r instanceof Ga)this._setRanges(r.getRanges(),r.isBackward),this._setFakeOptions({fake:r.isFake,label:r.fakeSelectionLabel});else if(r instanceof Nn)this._setRanges([r],l&&l.backward),this._setFakeOptions(l);else if(r instanceof Qt)this._setRanges([new Nn(r)]),this._setFakeOptions(l);else if(r instanceof Gc){const f=!!l&&!!l.backward;let b;if(s===void 0)throw new U("view-selection-setto-required-second-parameter",this);b=s=="in"?Nn._createIn(r):s=="on"?Nn._createOn(r):new Nn(Qt._createAt(r,s)),this._setRanges([b],f),this._setFakeOptions(l)}else{if(!He(r))throw new U("view-selection-setto-not-selectable",this);this._setRanges(r,l&&l.backward),this._setFakeOptions(l)}this.fire("change")}setFocus(e,r){if(this.anchor===null)throw new U("view-selection-setfocus-no-ranges",this);const s=Qt._createAt(e,r);if(s.compareWith(this.focus)=="same")return;const l=this.anchor;this._ranges.pop(),s.compareWith(l)=="before"?this._addRange(new Nn(s,l),!0):this._addRange(new Nn(l,s)),this.fire("change")}_setRanges(e,r=!1){e=Array.from(e),this._ranges=[];for(const s of e)this._addRange(s);this._lastRangeBackward=!!r}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,r=!1){if(!(e instanceof Nn))throw new U("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!r}_pushRange(e){for(const r of this._ranges)if(e.isIntersecting(r))throw new U("view-selection-range-intersects",this,{addedRange:e,intersectingRange:r});this._ranges.push(new Nn(e.start,e.end))}}Jl.prototype.is=function(u){return u==="selection"||u==="view:selection"};class Ga extends ke(Wc){constructor(...e){super(),this._selection=new Jl,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,r){this._selection.setFocus(e,r)}}Ga.prototype.is=function(u){return u==="selection"||u=="documentSelection"||u=="view:selection"||u=="view:documentSelection"};class Ca extends Q{constructor(e,r,s){super(e,r),this.startRange=s,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const zu=Symbol("bubbling contexts");function Mb(u){return class extends u{fire(e,...r){try{const s=e instanceof Q?e:new Q(this,e),l=Bp(this);if(!l.size)return;if(Xl(s,"capturing",this),Ya(l,"$capture",s,...r))return s.return;const f=s.startRange||this.selection.getFirstRange(),b=f?f.getContainedElement():null,A=!!b&&!!Ho(l,b);let S=b||function(T){if(!T)return null;const O=T.start.parent,P=T.end.parent,W=O.getPath(),ee=P.getPath();return W.length>ee.length?O:P}(f);if(Xl(s,"atTarget",S),!A){if(Ya(l,"$text",s,...r))return s.return;Xl(s,"bubbling",S)}for(;S;){if(S.is("rootElement")){if(Ya(l,"$root",s,...r))return s.return}else if(S.is("element")&&Ya(l,S.name,s,...r))return s.return;if(Ya(l,S,s,...r))return s.return;S=S.parent,Xl(s,"bubbling",S)}return Xl(s,"bubbling",this),Ya(l,"$document",s,...r),s.return}catch(s){U.rethrowUnexpectedError(s,this)}}_addEventListener(e,r,s){const l=ar(s.context||"$document"),f=Bp(this);for(const b of l){let A=f.get(b);A||(A=new(ke()),f.set(b,A)),this.listenTo(A,e,r,s)}}_removeEventListener(e,r){const s=Bp(this);for(const l of s.values())this.stopListening(l,e,r)}}}{const u=Mb(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{Mb[e]=u.prototype[e]})}function Xl(u,e,r){u instanceof Ca&&(u._eventPhase=e,u._currentTarget=r)}function Ya(u,e,r,...s){const l=typeof e=="string"?u.get(e):Ho(u,e);return!!l&&(l.fire(r,...s),r.stop.called)}function Ho(u,e){for(const[r,s]of u)if(typeof r=="function"&&r(e))return s;return null}function Bp(u){return u[zu]||(u[zu]=new Map),u[zu]}class Lp extends Mb(Ae()){constructor(e){super(),this._postFixers=new Set,this.selection=new Ga,this.roots=new So({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.forEach(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let r=!1;do for(const s of this._postFixers)if(r=s(e),r)break;while(r)}}const AE=class AE extends Wa{constructor(e,r,s,l){super(e,r,s,l),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=DA}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new U("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const r=super._clone(e);return r._priority=this._priority,r._id=this._id,r}_canMergeAttributesFrom(e){return this.id===null&&e.id===null&&this.priority===e.priority&&super._canMergeAttributesFrom(e)}_canSubtractAttributesOf(e){return this.id===null&&e.id===null&&this.priority===e.priority&&super._canSubtractAttributesOf(e)}};AE.DEFAULT_PRIORITY=10;let Fu=AE;function DA(){if(Nb(this))return null;let u=this.parent;for(;u&&u.is("attributeElement");){if(Nb(u)>1)return null;u=u.parent}return!u||Nb(u)>1?null:this.childCount}function Nb(u){return Array.from(u.getChildren()).filter(e=>!e.is("uiElement")).length}Fu.prototype.is=function(u,e){return e?e===this.name&&(u==="attributeElement"||u==="view:attributeElement"||u==="element"||u==="view:element"):u==="attributeElement"||u==="view:attributeElement"||u==="element"||u==="view:element"||u==="node"||u==="view:node"};class Ld extends Wa{constructor(e,r,s,l){super(e,r,s,l),this.getFillerOffset=jb}_insertChild(e,r){if(r&&(r instanceof Gc||Array.from(r).length>0))throw new U("view-emptyelement-cannot-add",[this,r]);return 0}}function jb(){return null}Ld.prototype.is=function(u,e){return e?e===this.name&&(u==="emptyElement"||u==="view:emptyElement"||u==="element"||u==="view:element"):u==="emptyElement"||u==="view:emptyElement"||u==="element"||u==="view:element"||u==="node"||u==="view:node"};class hg extends Wa{constructor(e,r,s,l){super(e,r,s,l),this.getFillerOffset=TA}_insertChild(e,r){if(r&&(r instanceof Gc||Array.from(r).length>0))throw new U("view-uielement-cannot-add",[this,r]);return 0}render(e,r){return this.toDomElement(e)}toDomElement(e){const r=e.createElement(this.name);for(const s of this.getAttributeKeys())r.setAttribute(s,this.getAttribute(s));return r}}function IA(u){u.document.on("arrowKey",(e,r)=>function(s,l,f){if(l.keyCode==ln.arrowright){const b=l.domTarget.ownerDocument.defaultView.getSelection(),A=b.rangeCount==1&&b.getRangeAt(0).collapsed;if(A||l.shiftKey){const S=b.focusNode,T=b.focusOffset,O=f.domPositionToView(S,T);if(O===null)return;let P=!1;const W=O.getLastMatchingPosition(ee=>(ee.item.is("uiElement")&&(P=!0),!(!ee.item.is("uiElement")&&!ee.item.is("attributeElement"))));if(P){const ee=f.viewPositionToDom(W);A?b.collapse(ee.parent,ee.offset):b.extend(ee.parent,ee.offset)}}}}(0,r,u.domConverter),{priority:"low"})}function TA(){return null}hg.prototype.is=function(u,e){return e?e===this.name&&(u==="uiElement"||u==="view:uiElement"||u==="element"||u==="view:element"):u==="uiElement"||u==="view:uiElement"||u==="element"||u==="view:element"||u==="node"||u==="view:node"};class Pp extends Wa{constructor(e,r,s,l){super(e,r,s,l),this.getFillerOffset=MA}_insertChild(e,r){if(r&&(r instanceof Gc||Array.from(r).length>0))throw new U("view-rawelement-cannot-add",[this,r]);return 0}render(e,r){}}function MA(){return null}Pp.prototype.is=function(u,e){return e?e===this.name&&(u==="rawElement"||u==="view:rawElement"||u==="element"||u==="view:element"):u==="rawElement"||u==="view:rawElement"||u===this.name||u==="view:"+this.name||u==="element"||u==="view:element"||u==="node"||u==="view:node"};class Pd extends ke(Wc){constructor(e,r){super(),this._children=[],this._customProperties=new Map,this.document=e,r&&this._insertChild(0,r)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,r){this._fireChange("children",this,{index:e});let s=0;const l=function(f,b){return typeof b=="string"?[new eo(f,b)]:(He(b)||(b=[b]),Array.from(b).map(A=>typeof A=="string"?new eo(f,A):A instanceof Zs?new eo(f,A.data):A))}(this.document,r);for(const f of l)f.parent!==null&&f._remove(),f.parent=this,this._children.splice(e,0,f),e++,s++;return s}_removeChildren(e,r=1){this._fireChange("children",this,{index:e});for(let s=e;s<e+r;s++)this._children[s].parent=null;return this._children.splice(e,r)}_fireChange(e,r,s){this.fire(`change:${e}`,r,s)}_setCustomProperty(e,r){this._customProperties.set(e,r)}_removeCustomProperty(e){return this._customProperties.delete(e)}}Pd.prototype.is=function(u){return u==="documentFragment"||u==="view:documentFragment"};class Pk{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,r){this.document.selection._setFocus(e,r)}createDocumentFragment(e){return new Pd(this.document,e)}createText(e){return new eo(this.document,e)}createAttributeElement(e,r,s={}){const l=new Fu(this.document,e,r);return typeof s.priority=="number"&&(l._priority=s.priority),s.id&&(l._id=s.id),s.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),l}createContainerElement(e,r,s={},l={}){let f=null;or(s)?l=s:f=s;const b=new ug(this.document,e,r,f);return l.renderUnsafeAttributes&&b._unsafeAttributesToRender.push(...l.renderUnsafeAttributes),b}createEditableElement(e,r,s={}){const l=new jh(this.document,e,r);return s.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),l}createEmptyElement(e,r,s={}){const l=new Ld(this.document,e,r);return s.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),l}createUIElement(e,r,s){const l=new hg(this.document,e,r);return s&&(l.render=s),l}createRawElement(e,r,s,l={}){const f=new Pp(this.document,e,r);return s&&(f.render=s),l.renderUnsafeAttributes&&f._unsafeAttributesToRender.push(...l.renderUnsafeAttributes),f}setAttribute(e,r,s,l){l!==void 0?l._setAttribute(e,r,s):s._setAttribute(e,r)}removeAttribute(e,r,s){s!==void 0?s._removeAttribute(e,r):r._removeAttribute(e)}addClass(e,r){r._addClass(e)}removeClass(e,r){r._removeClass(e)}setStyle(e,r,s){or(e)&&s===void 0?r._setStyle(e):s._setStyle(e,r)}removeStyle(e,r){r._removeStyle(e)}setCustomProperty(e,r,s){s._setCustomProperty(e,r)}removeCustomProperty(e,r){return r._removeCustomProperty(e)}breakAttributes(e){return e instanceof Qt?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const r=e.parent;if(!r.is("containerElement"))throw new U("view-writer-break-non-container-element",this.document);if(!r.parent)throw new U("view-writer-break-root",this.document);if(e.isAtStart)return Qt._createBefore(r);if(!e.isAtEnd){const s=r._clone(!1);this.insert(Qt._createAfter(r),s);const l=new Nn(e,Qt._createAt(r,"end")),f=new Qt(s,0);this.move(l,f)}return Qt._createAfter(r)}mergeAttributes(e){const r=e.offset,s=e.parent;if(s.is("$text"))return e;if(s.is("attributeElement")&&s.childCount===0){const b=s.parent,A=s.index;return s._remove(),this._removeFromClonedElementsGroup(s),this.mergeAttributes(new Qt(b,A))}const l=s.getChild(r-1),f=s.getChild(r);if(!l||!f)return e;if(l.is("$text")&&f.is("$text"))return Is(l,f);if(l.is("attributeElement")&&f.is("attributeElement")&&l.isSimilar(f)){const b=l.childCount;return l._appendChild(f.getChildren()),f._remove(),this._removeFromClonedElementsGroup(f),this.mergeAttributes(new Qt(l,b))}return e}mergeContainers(e){const r=e.nodeBefore,s=e.nodeAfter;if(!(r&&s&&r.is("containerElement")&&s.is("containerElement")))throw new U("view-writer-merge-containers-invalid-position",this.document);const l=r.getChild(r.childCount-1),f=l instanceof eo?Qt._createAt(l,"end"):Qt._createAt(r,"end");return this.move(Nn._createIn(s),Qt._createAt(r,"end")),this.remove(Nn._createOn(s)),f}insert(e,r){zk(r=He(r)?[...r]:[r],this.document);const s=r.reduce((b,A)=>{const S=b[b.length-1],T=!A.is("uiElement");return S&&S.breakAttributes==T?S.nodes.push(A):b.push({breakAttributes:T,nodes:[A]}),b},[]);let l=null,f=e;for(const{nodes:b,breakAttributes:A}of s){const S=this._insertNodes(f,b,A);l||(l=S.start),f=S.end}return l?new Nn(l,f):new Nn(e)}remove(e){const r=e instanceof Nn?e:Nn._createOn(e);if(Rp(r,this.document),r.isCollapsed)return new Pd(this.document);const{start:s,end:l}=this._breakAttributesRange(r,!0),f=s.parent,b=l.offset-s.offset,A=f._removeChildren(s.offset,b);for(const T of A)this._removeFromClonedElementsGroup(T);const S=this.mergeAttributes(s);return r.start=S,r.end=S.clone(),new Pd(this.document,A)}clear(e,r){Rp(e,this.document);const s=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const l of s){const f=l.item;let b;if(f.is("element")&&r.isSimilar(f))b=Nn._createOn(f);else if(!l.nextPosition.isAfter(e.start)&&f.is("$textProxy")){const A=f.getAncestors().find(S=>S.is("element")&&r.isSimilar(S));A&&(b=Nn._createIn(A))}b&&(b.end.isAfter(e.end)&&(b.end=e.end),b.start.isBefore(e.start)&&(b.start=e.start),this.remove(b))}}move(e,r){let s;if(r.isAfter(e.end)){const l=(r=this._breakAttributes(r,!0)).parent,f=l.childCount;e=this._breakAttributesRange(e,!0),s=this.remove(e),r.offset+=l.childCount-f}else s=this.remove(e);return this.insert(r,s)}wrap(e,r){if(!(r instanceof Fu))throw new U("view-writer-wrap-invalid-attribute",this.document);if(Rp(e,this.document),e.isCollapsed){let l=e.start;l.parent.is("element")&&(s=l.parent,!Array.from(s.getChildren()).some(b=>!b.is("uiElement")))&&(l=l.getLastMatchingPosition(b=>b.item.is("uiElement"))),l=this._wrapPosition(l,r);const f=this.document.selection;return f.isCollapsed&&f.getFirstPosition().isEqual(e.start)&&this.setSelection(l),new Nn(l)}return this._wrapRange(e,r);var s}unwrap(e,r){if(!(r instanceof Fu))throw new U("view-writer-unwrap-invalid-attribute",this.document);if(Rp(e,this.document),e.isCollapsed)return e;const{start:s,end:l}=this._breakAttributesRange(e,!0),f=s.parent,b=this._unwrapChildren(f,s.offset,l.offset,r),A=this.mergeAttributes(b.start);A.isEqual(b.start)||b.end.offset--;const S=this.mergeAttributes(b.end);return new Nn(A,S)}rename(e,r){const s=new ug(this.document,e,r.getAttributes());return this.insert(Qt._createAfter(r),s),this.move(Nn._createIn(r),Qt._createAt(s,0)),this.remove(Nn._createOn(r)),s}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,r){return Qt._createAt(e,r)}createPositionAfter(e){return Qt._createAfter(e)}createPositionBefore(e){return Qt._createBefore(e)}createRange(e,r){return new Nn(e,r)}createRangeOn(e){return Nn._createOn(e)}createRangeIn(e){return Nn._createIn(e)}createSelection(...e){return new Jl(...e)}createSlot(e="children"){if(!this._slotFactory)throw new U("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,r,s){let l,f;if(l=s?Ob(e):e.parent.is("$text")?e.parent.parent:e.parent,!l)throw new U("view-writer-invalid-position-container",this.document);f=s?this._breakAttributes(e,!0):e.parent.is("$text")?$o(e):e;const b=l._insertChild(f.offset,r);for(const O of r)this._addToClonedElementsGroup(O);const A=f.getShiftedBy(b),S=this.mergeAttributes(f);S.isEqual(f)||A.offset--;const T=this.mergeAttributes(A);return new Nn(S,T)}_wrapChildren(e,r,s,l){let f=r;const b=[];for(;f<s;){const S=e.getChild(f),T=S.is("$text"),O=S.is("attributeElement");if(O&&S._canMergeAttributesFrom(l))S._mergeAttributesFrom(l),b.push(new Qt(e,f));else if(T||!O||pS(l,S)){const P=l._clone();S._remove(),P._appendChild(S),e._insertChild(f,P),this._addToClonedElementsGroup(P),b.push(new Qt(e,f))}else this._wrapChildren(S,0,S.childCount,l);f++}let A=0;for(const S of b)S.offset-=A,S.offset!=r&&(this.mergeAttributes(S).isEqual(S)||(A++,s--));return Nn._createFromParentsAndOffsets(e,r,e,s)}_unwrapChildren(e,r,s,l){let f=r;const b=[];for(;f<s;){const S=e.getChild(f);if(S.is("attributeElement"))if(S.isSimilar(l)){const T=S.getChildren(),O=S.childCount;S._remove(),e._insertChild(f,T),this._removeFromClonedElementsGroup(S),b.push(new Qt(e,f),new Qt(e,f+O)),f+=O,s+=O-1}else S._canSubtractAttributesOf(l)?(S._subtractAttributesOf(l),b.push(new Qt(e,f),new Qt(e,f+1)),f++):(this._unwrapChildren(S,0,S.childCount,l),f++);else f++}let A=0;for(const S of b)S.offset-=A,!(S.offset==r||S.offset==s)&&(this.mergeAttributes(S).isEqual(S)||(A++,s--));return Nn._createFromParentsAndOffsets(e,r,e,s)}_wrapRange(e,r){const{start:s,end:l}=this._breakAttributesRange(e,!0),f=s.parent,b=this._wrapChildren(f,s.offset,l.offset,r),A=this.mergeAttributes(b.start);A.isEqual(b.start)||b.end.offset--;const S=this.mergeAttributes(b.end);return new Nn(A,S)}_wrapPosition(e,r){if(r.isSimilar(e.parent))return Rk(e.clone());e.parent.is("$text")&&(e=$o(e));const s=this.createAttributeElement("_wrapPosition-fake-element");s._priority=Number.POSITIVE_INFINITY,s.isSimilar=()=>!1,e.parent._insertChild(e.offset,s);const l=new Nn(e,e.getShiftedBy(1));this.wrap(l,r);const f=new Qt(s.parent,s.index);s._remove();const b=f.nodeBefore,A=f.nodeAfter;return b&&b.is("view:$text")&&A&&A.is("view:$text")?Is(b,A):Rk(f)}_breakAttributesRange(e,r=!1){const s=e.start,l=e.end;if(Rp(e,this.document),e.isCollapsed){const S=this._breakAttributes(e.start,r);return new Nn(S,S)}const f=this._breakAttributes(l,r),b=f.parent.childCount,A=this._breakAttributes(s,r);return f.offset+=f.parent.childCount-b,new Nn(A,f)}_breakAttributes(e,r=!1){const s=e.offset,l=e.parent;if(e.parent.is("emptyElement"))throw new U("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new U("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new U("view-writer-cannot-break-raw-element",this.document);if(!r&&l.is("$text")&&Bb(l.parent)||Bb(l))return e.clone();if(l.is("$text"))return this._breakAttributes($o(e),r);if(s==l.childCount){const f=new Qt(l.parent,l.index+1);return this._breakAttributes(f,r)}if(s===0){const f=new Qt(l.parent,l.index);return this._breakAttributes(f,r)}{const f=l.index+1,b=l._clone();l.parent._insertChild(f,b),this._addToClonedElementsGroup(b);const A=l.childCount-s,S=l._removeChildren(s,A);b._appendChild(S);const T=new Qt(l.parent,f);return this._breakAttributes(T,r)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const l of e.getChildren())this._addToClonedElementsGroup(l);const r=e.id;if(!r)return;let s=this._cloneGroups.get(r);s||(s=new Set,this._cloneGroups.set(r,s)),s.add(e),e._clonesGroup=s}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const l of e.getChildren())this._removeFromClonedElementsGroup(l);const r=e.id;if(!r)return;const s=this._cloneGroups.get(r);s&&s.delete(e)}}function Ob(u){let e=u.parent;for(;!Bb(e);){if(!e)return;e=e.parent}return e}function pS(u,e){return u.priority<e.priority||!(u.priority>e.priority)&&u.getIdentity()<e.getIdentity()}function Rk(u){const e=u.nodeBefore;if(e&&e.is("$text"))return new Qt(e,e.data.length);const r=u.nodeAfter;return r&&r.is("$text")?new Qt(r,0):u}function $o(u){if(u.offset==u.parent.data.length)return new Qt(u.parent.parent,u.parent.index+1);if(u.offset===0)return new Qt(u.parent.parent,u.parent.index);const e=u.parent.data.slice(u.offset);return u.parent._data=u.parent.data.slice(0,u.offset),u.parent.parent._insertChild(u.parent.index+1,new eo(u.root.document,e)),new Qt(u.parent.parent,u.parent.index+1)}function Is(u,e){const r=u.data.length;return u._data+=e.data,e._remove(),new Qt(u,r)}const NA=[eo,Fu,ug,Ld,Pp,hg];function zk(u,e){for(const r of u){if(!NA.some(s=>r instanceof s))throw new U("view-writer-insert-invalid-node-type",e);r.is("$text")||zk(r.getChildren(),e)}}function Bb(u){return u&&(u.is("containerElement")||u.is("documentFragment"))}function Rp(u,e){const r=Ob(u.start),s=Ob(u.end);if(!r||!s||r!==s)throw new U("view-writer-invalid-range-container",e)}const Fk=u=>u.createTextNode(""),fg=u=>{const e=u.createElement("span");return e.dataset.ckeFiller="true",e.innerText="",e},Lb=u=>{const e=u.createElement("br");return e.dataset.ckeFiller="true",e},zp="".repeat(7);function Ka(u){return typeof u=="string"?u.substr(0,7)===zp:$n(u)&&u.data.substr(0,7)===zp}function Vf(u){return u.data.length==7&&Ka(u)}function Pb(u){const e=typeof u=="string"?u:u.data;return Ka(u)?e.slice(7):e}function Uk(u,e){if(e.keyCode==ln.arrowleft){const r=e.domTarget.ownerDocument.defaultView.getSelection();if(r.rangeCount==1&&r.getRangeAt(0).collapsed){const s=r.getRangeAt(0).startContainer,l=r.getRangeAt(0).startOffset;Ka(s)&&l<=7&&r.collapse(s,0)}}}var Fp=a(8264),Up={attributes:{"data-cke":!0}};Up.setAttributes=Ut(),Up.insert=zt().bind(null,"head"),Up.domAPI=Vt(),Up.insertStyleElement=jt(),It()(Fp.A,Up),Fp.A&&Fp.A.locals&&Fp.A.locals;class qk extends Ae(){constructor(e,r){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=r,this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1),v.isBlink&&!v.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()})}markToSync(e,r){if(e==="text")this.domConverter.mapViewToDom(r.parent)&&this.markedTexts.add(r);else{if(!this.domConverter.mapViewToDom(r))return;if(e==="attributes")this.markedAttributes.add(r);else{if(e!=="children")throw new U("view-renderer-unknown-type",this);this.markedChildren.add(r)}}}render(){if(this.isComposing&&!v.isAndroid)return;let e=null;const r=!(v.isBlink&&!v.isAndroid)||!this.isSelecting;for(const s of this.markedChildren)this._updateChildrenMappings(s);r?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=Qt._createBefore(e.parent)));for(const s of this.markedAttributes)this._updateAttrs(s);for(const s of this.markedChildren)this._updateChildren(s,{inlineFillerPosition:e});for(const s of this.markedTexts)!this.markedChildren.has(s.parent)&&this.domConverter.mapViewToDom(s.parent)&&this._updateText(s,{inlineFillerPosition:e});if(r)if(e){const s=this.domConverter.viewPositionToDom(e),l=s.parent.ownerDocument;Ka(s.parent)?this._inlineFiller=s.parent:this._inlineFiller=pg(l,s.parent,s.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const r=this.domConverter.mapViewToDom(e);if(!r)return;const s=Array.from(r.childNodes),l=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),f=this._diffNodeLists(s,l),b=this._findUpdateActions(f,s,l,Vk);if(b.indexOf("update")!==-1){const A={equal:0,insert:0,delete:0};for(const S of b)if(S==="update"){const T=A.equal+A.insert,O=A.equal+A.delete,P=e.getChild(T);!P||P.is("uiElement")||P.is("rawElement")||this._updateElementMappings(P,s[O]),Sd(l[T]),A.equal++}else A[S]++}}_updateElementMappings(e,r){this.domConverter.unbindDomElement(r),this.domConverter.bindElements(r,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?Qt._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),r=this.domConverter.viewPositionToDom(e);return!!(r&&$n(r.parent)&&Ka(r.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!Ka(e))throw new U("view-renderer-filler-was-lost",this);Vf(e)?e.remove():e.data=e.data.substr(7),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),r=e.parent,s=e.offset;if(!this.domConverter.mapViewToDom(r.root)||!r.is("element")||!function(b){if(b.getAttribute("contenteditable")=="false")return!1;const A=b.findAncestor(S=>S.hasAttribute("contenteditable"));return!A||A.getAttribute("contenteditable")=="true"}(r))return!1;const l=e.nodeBefore,f=e.nodeAfter;return!(l instanceof eo||f instanceof eo)&&!!(s!==r.getFillerOffset()||l&&l.is("element","br"))&&(!v.isAndroid||!l&&!f)}_updateText(e,r){const s=this.domConverter.findCorrespondingDomText(e);let l=this.domConverter.viewToDom(e).data;const f=r.inlineFillerPosition;f&&f.parent==e.parent&&f.offset==e.index&&(l=zp+l),this._updateTextNode(s,l)}_updateAttrs(e){const r=this.domConverter.mapViewToDom(e);if(r){for(const s of Array.from(r.attributes)){const l=s.name;e.hasAttribute(l)||this.domConverter.removeDomElementAttribute(r,l)}for(const s of e.getAttributeKeys())this.domConverter.setDomElementAttribute(r,s,e.getAttribute(s),e)}}_updateChildren(e,r){const s=this.domConverter.mapViewToDom(e);if(!s)return;if(v.isAndroid){let P=null;for(const W of Array.from(s.childNodes)){if(P&&$n(P)&&$n(W)){s.normalize();break}P=W}}const l=r.inlineFillerPosition,f=s.childNodes,b=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));l&&l.parent===e&&pg(s.ownerDocument,b,l.offset);const A=this._diffNodeLists(f,b),S=this._findUpdateActions(A,f,b,jA);let T=0;const O=new Set;for(const P of S)P==="delete"?(O.add(f[T]),Sd(f[T])):P!=="equal"&&P!=="update"||T++;T=0;for(const P of S)P==="insert"?(Eu(s,T,b[T]),T++):P==="update"?(this._updateTextNode(f[T],b[T].data),T++):P==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(b[T])),T++);for(const P of O)P.parentNode||this.domConverter.unbindDomElement(P)}_diffNodeLists(e,r){return e=function(s,l){const f=Array.from(s);return f.length==0||!l||f[f.length-1]==l&&f.pop(),f}(e,this._fakeSelectionContainer),H(e,r,Hk.bind(null,this.domConverter))}_findUpdateActions(e,r,s,l){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let f=[],b=[],A=[];const S={equal:0,insert:0,delete:0};for(const T of e)T==="insert"?A.push(s[S.equal+S.insert]):T==="delete"?b.push(r[S.equal+S.delete]):(f=f.concat(H(b,A,l).map(O=>O==="equal"?"update":O)),f.push("equal"),b=[],A=[]),S[T]++;return f.concat(H(b,A,l).map(T=>T==="equal"?"update":T))}_updateTextNode(e,r){const s=e.data;s!=r&&(v.isAndroid&&this.isComposing&&s.replace(/\u00A0/g," ")==r.replace(/\u00A0/g," ")||this._updateTextNodeInternal(e,r))}_updateTextNodeInternal(e,r){const s=z(e.data,r);for(const l of s)l.type==="insert"?e.insertData(l.index,l.values.join("")):e.deleteData(l.index,l.howMany)}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const r of e.getChildren())this._markDescendantTextToSync(r)}}_updateSelection(){if(v.isBlink&&!v.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&v.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const r=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(b){const A=b.createElement("div");return A.className="ck-fake-selection-container",Object.assign(A.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),A.textContent="",A}(r));const s=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(s,this.selection),!this._fakeSelectionNeedsUpdate(e))return;s.parentElement&&s.parentElement==e||e.appendChild(s),s.textContent=this.selection.fakeSelectionLabel||"";const l=r.getSelection(),f=r.createRange();l.removeAllRanges(),f.selectNodeContents(s),l.addRange(f)}_updateDomSelection(e){const r=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(r))return;const s=this.domConverter.viewPositionToDom(this.selection.anchor),l=this.domConverter.viewPositionToDom(this.selection.focus);r.setBaseAndExtent(s.parent,s.offset,l.parent,l.offset),v.isGecko&&function(f,b){let A=f.parent,S=f.offset;if($n(A)&&Vf(A)&&(S=Lc(A)+1,A=A.parentNode),A.nodeType!=Node.ELEMENT_NODE||S!=A.childNodes.length-1)return;const T=A.childNodes[S];T&&T.tagName=="BR"&&b.addRange(b.getRangeAt(0))}(l,r)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const r=e&&this.domConverter.domSelectionToView(e);return(!r||!this.selection.isEqual(r))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(r))}_fakeSelectionNeedsUpdate(e){const r=this._fakeSelectionContainer,s=e.ownerDocument.getSelection();return!r||r.parentElement!==e||s.anchorNode!==r&&!r.contains(s.anchorNode)||r.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const r=e.getSelection();if(r.rangeCount){const s=e.activeElement,l=this.domConverter.mapDomToView(s);s&&l&&r.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function pg(u,e,r){const s=e instanceof Array?e:e.childNodes,l=s[r];if($n(l))return l.data=zp+l.data,l;{const f=u.createTextNode(zp);return Array.isArray(e)?s.splice(r,0,f):Eu(e,r,f),f}}function Vk(u,e){return wa(u)&&wa(e)&&!$n(u)&&!$n(e)&&!ya(u)&&!ya(e)&&u.tagName.toLowerCase()===e.tagName.toLowerCase()}function jA(u,e){return wa(u)&&wa(e)&&$n(u)&&$n(e)}function Hk(u,e,r){return e===r||($n(e)&&$n(r)?e.data===r.data:!(!u.isBlockFiller(e)||!u.isBlockFiller(r)))}const OA=Lb(p.document),Rd=Fk(p.document),$k=fg(p.document),Rb="data-ck-unsafe-attribute-",Wk="data-ck-unsafe-element";class ec{constructor(e,{blockFillerMode:r,renderingMode:s="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new Vo,this._inlineObjectElementMatcher=new Vo,this._elementsWithTemporaryCustomProperties=new Set,this.document=e,this.renderingMode=s,this.blockFillerMode=r||(s==="editing"?"br":"nbsp"),this.preElements=["pre","textarea"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?p.document:p.document.implementation.createHTMLDocument("")}bindFakeSelection(e,r){this._fakeSelectionMapping.set(e,new Jl(r))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,r){this._domToViewMapping.set(e,r),this._viewToDomMapping.set(r,e)}unbindDomElement(e){const r=this._domToViewMapping.get(e);if(r){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(r);for(const s of e.children)this.unbindDomElement(s)}}bindDocumentFragments(e,r){this._domToViewMapping.set(e,r),this._viewToDomMapping.set(r,e)}shouldRenderAttribute(e,r,s){return this.renderingMode==="data"||!(e=e.toLowerCase()).startsWith("on")&&(e!=="srcdoc"||!r.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(s==="img"&&(e==="src"||e==="srcset")||s==="source"&&e==="srcset"||!r.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,r){if(this.renderingMode==="data")return void(e.innerHTML=r);const s=new DOMParser().parseFromString(r,"text/html"),l=s.createDocumentFragment(),f=s.body.childNodes;for(;f.length>0;)l.appendChild(f[0]);const b=s.createTreeWalker(l,NodeFilter.SHOW_ELEMENT),A=[];let S;for(;S=b.nextNode();)A.push(S);for(const T of A){for(const P of T.getAttributeNames())this.setDomElementAttribute(T,P,T.getAttribute(P));const O=T.tagName.toLowerCase();this._shouldRenameElement(O)&&(Yk(O),T.replaceWith(this._createReplacementDomElement(O,T)))}for(;e.firstChild;)e.firstChild.remove();e.append(l)}viewToDom(e,r={}){if(e.is("$text")){const s=this._processDataFromViewText(e);return this._domDocument.createTextNode(s)}{const s=e;if(this.mapViewToDom(s)){if(!s.getCustomProperty("editingPipeline:doNotReuseOnce"))return this.mapViewToDom(s);this._elementsWithTemporaryCustomProperties.add(s)}let l;if(s.is("documentFragment"))l=this._domDocument.createDocumentFragment(),r.bind&&this.bindDocumentFragments(l,s);else{if(s.is("uiElement"))return l=s.name==="$comment"?this._domDocument.createComment(s.getCustomProperty("$rawContent")):s.render(this._domDocument,this),r.bind&&this.bindElements(l,s),l;this._shouldRenameElement(s.name)?(Yk(s.name),l=this._createReplacementDomElement(s.name)):l=s.hasAttribute("xmlns")?this._domDocument.createElementNS(s.getAttribute("xmlns"),s.name):this._domDocument.createElement(s.name),s.is("rawElement")&&s.render(l,this),r.bind&&this.bindElements(l,s);for(const f of s.getAttributeKeys())this.setDomElementAttribute(l,f,s.getAttribute(f),s)}if(r.withChildren!==!1)for(const f of this.viewChildrenToDom(s,r))l instanceof HTMLTemplateElement?l.content.appendChild(f):l.appendChild(f);return l}}setDomElementAttribute(e,r,s,l){const f=this.shouldRenderAttribute(r,s,e.tagName.toLowerCase())||l&&l.shouldRenderUnsafeAttribute(r);f||q("domconverter-unsafe-attribute-detected",{domElement:e,key:r,value:s}),function(b){try{p.document.createAttribute(b)}catch{return!1}return!0}(r)?(e.hasAttribute(r)&&!f?e.removeAttribute(r):e.hasAttribute(Rb+r)&&f&&e.removeAttribute(Rb+r),e.setAttribute(f?r:Rb+r,s)):q("domconverter-invalid-attribute-detected",{domElement:e,key:r,value:s})}removeDomElementAttribute(e,r){r!=Wk&&(e.removeAttribute(r),e.removeAttribute(Rb+r))}*viewChildrenToDom(e,r={}){const s=e.getFillerOffset&&e.getFillerOffset();let l=0;for(const f of e.getChildren()){s===l&&(yield this._getBlockFiller());const b=f.is("element")&&!!f.getCustomProperty("dataPipeline:transparentRendering")&&!qo(f.getAttributes());if(b&&this.renderingMode=="data")if(f.is("rawElement")){const A=this._domDocument.createElement(f.name);f.render(A,this),yield*[...A.childNodes]}else yield*this.viewChildrenToDom(f,r);else b&&q("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:f}),yield this.viewToDom(f,r);l++}s===l&&(yield this._getBlockFiller())}viewRangeToDom(e){const r=this.viewPositionToDom(e.start),s=this.viewPositionToDom(e.end),l=this._domDocument.createRange();return l.setStart(r.parent,r.offset),l.setEnd(s.parent,s.offset),l}viewPositionToDom(e){const r=e.parent;if(r.is("$text")){const s=this.findCorrespondingDomText(r);if(!s)return null;let l=e.offset;return Ka(s)&&(l+=7),{parent:s,offset:l}}{let s,l,f;if(e.offset===0){if(s=this.mapViewToDom(r),!s)return null;f=s.childNodes[0]}else{const b=e.nodeBefore;if(l=b.is("$text")?this.findCorrespondingDomText(b):this.mapViewToDom(b),!l)return null;s=l.parentNode,f=l.nextSibling}return $n(f)&&Ka(f)?{parent:f,offset:7}:{parent:s,offset:l?Lc(l)+1:0}}}domToView(e,r={}){const s=[],l=this._domToView(e,r,s),f=l.next().value;return f?(l.next(),this._processDomInlineNodes(null,s,r),this.blockFillerMode=="br"&&BA(f)||f.is("$text")&&f.data.length==0?null:f):null}*domChildrenToView(e,r={},s=[]){let l=[];l=e instanceof HTMLTemplateElement?[...e.content.childNodes]:[...e.childNodes];for(let f=0;f<l.length;f++){const b=l[f],A=this._domToView(b,r,s),S=A.next().value;S!==null&&(this._isBlockViewElement(S)&&this._processDomInlineNodes(e,s,r),this.blockFillerMode=="br"&&BA(S)||(yield S),A.next())}this._processDomInlineNodes(e,s,r)}domSelectionToView(e){if(function(l){if(!v.isGecko||!l.rangeCount)return!1;const f=l.getRangeAt(0).startContainer;try{Object.prototype.toString.call(f)}catch{return!0}return!1}(e))return new Jl([]);if(e.rangeCount===1){let l=e.getRangeAt(0).startContainer;$n(l)&&(l=l.parentNode);const f=this.fakeSelectionToView(l);if(f)return f}const r=this.isDomSelectionBackward(e),s=[];for(let l=0;l<e.rangeCount;l++){const f=e.getRangeAt(l),b=this.domRangeToView(f);b&&s.push(b)}return new Jl(s,{backward:r})}domRangeToView(e){const r=this.domPositionToView(e.startContainer,e.startOffset),s=this.domPositionToView(e.endContainer,e.endOffset);return r&&s?new Nn(r,s):null}domPositionToView(e,r=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,Lc(e));const s=this.mapDomToView(e);if(s&&(s.is("uiElement")||s.is("rawElement")))return Qt._createBefore(s);if($n(e)){if(Vf(e))return this.domPositionToView(e.parentNode,Lc(e));const l=this.findCorrespondingViewText(e);let f=r;return l?(Ka(e)&&(f-=7,f=f<0?0:f),new Qt(l,f)):null}if(r===0){const l=this.mapDomToView(e);if(l)return new Qt(l,0)}else{const l=e.childNodes[r-1];if($n(l)&&Vf(l)||l&&this.isBlockFiller(l))return this.domPositionToView(l.parentNode,Lc(l));const f=$n(l)?this.findCorrespondingViewText(l):this.mapDomToView(l);if(f&&f.parent)return new Qt(f.parent,f.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(Vf(e))return null;const r=this.getHostViewElement(e);if(r)return r;const s=e.previousSibling;if(s){if(!this.isElement(s))return null;const l=this.mapDomToView(s);if(l){const f=l.nextSibling;return f instanceof eo?f:null}}else{const l=this.mapDomToView(e.parentNode);if(l){const f=l.getChild(0);return f instanceof eo?f:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const r=e.previousSibling;return r&&this.mapViewToDom(r)?this.mapViewToDom(r).nextSibling:!r&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const r=this.mapViewToDom(e);if(r&&r.ownerDocument.activeElement!==r){const{scrollX:s,scrollY:l}=p.window,f=[];Gk(r,b=>{const{scrollLeft:A,scrollTop:S}=b;f.push([A,S])}),r.focus(),Gk(r,b=>{const[A,S]=f.shift();b.scrollLeft=A,b.scrollTop=S}),p.window.scrollTo(s,l)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const r=e.ownerDocument.defaultView.getSelection(),s=this.domSelectionToView(r);s&&s.rangeCount>0&&r.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(OA):!!LA(e,this.blockElements)||e.isEqualNode($k)||function(r,s){return r.isEqualNode(Rd)&&mg(r,s)&&r.parentNode.childNodes.length===1}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const r=this._domDocument.createRange();try{r.setStart(e.anchorNode,e.anchorOffset),r.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const s=r.collapsed;return r.detach(),s}getHostViewElement(e){const r=pr(e);for(r.pop();r.length;){const s=r.pop(),l=this._domToViewMapping.get(s);if(l&&(l.is("uiElement")||l.is("rawElement")))return l}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_clearTemporaryCustomProperties(){for(const e of this._elementsWithTemporaryCustomProperties)e._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return Fk(this._domDocument);case"markedNbsp":return fg(this._domDocument);case"br":return Lb(this._domDocument)}}_isDomSelectionPositionCorrect(e,r){if($n(e)&&Ka(e)&&r<7||this.isElement(e)&&Ka(e.childNodes[r]))return!1;const s=this.mapDomToView(e);return!s||!s.is("uiElement")&&!s.is("rawElement")}*_domToView(e,r,s){if(this.blockFillerMode!="br"&&LA(e,this.blockElements))return null;const l=this.getHostViewElement(e);if(l)return l;if(ya(e)&&r.skipComments)return null;if($n(e)){if(Vf(e))return null;{const f=e.data;if(f==="")return null;const b=new eo(this.document,f);return s.push(b),b}}{let f=this.mapDomToView(e);if(f)return this._isInlineObjectElement(f)&&s.push(f),f;if(this.isDocumentFragment(e))f=new Pd(this.document),r.bind&&this.bindDocumentFragments(e,f);else{f=this._createViewElement(e,r),r.bind&&this.bindElements(e,f);const A=e.attributes;if(A)for(let S=A.length,T=0;T<S;T++)f._setAttribute(A[T].name,A[T].value);if(this._isViewElementWithRawContent(f,r))return f._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(f)||s.push(f),f;if(ya(e))return f._setCustomProperty("$rawContent",e.data),f}yield f;const b=[];if(r.withChildren!==!1)for(const A of this.domChildrenToView(e,r,b))f._appendChild(A);if(this._isInlineObjectElement(f))s.push(f),this._processDomInlineNodes(null,b,r);else for(const A of b)s.push(A)}}_processDomInlineNodes(e,r,s){if(!r.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let l=!1;for(let f=0;f<r.length;f++){const b=r[f];if(!b.is("$text")){l=!1;continue}let A,S=!1;if(this._isPreFormatted(b))A=Pb(b.data);else{A=b.data.replace(/[ \n\t\r]{1,}/g," "),S=/[^\S\u00A0]/.test(A.charAt(A.length-1));const T=f>0?r[f-1]:null,O=f+1<r.length?r[f+1]:null,P=!T||T.is("element")&&T.name=="br"||l,W=!O&&!Ka(b.data);s.withChildren!==!1&&(P&&(A=A.replace(/^ /,"")),W&&(A=A.replace(/ $/,""))),A=Pb(A),this.blockFillerMode!="br"&&b.parent&&(to(b.parent,A)?(A="",b.parent.parent&&(b.parent.parent._setCustomProperty("$hasBlockFiller",!0),b.parent._remove())):gg(b.parent,A,this.blockElements)&&(A="",b.parent._setCustomProperty("$hasBlockFiller",!0))),A=A.replace(/ \u00A0/g,"  ");const ee=O&&O.is("element")&&O.name!="br",ne=O&&O.is("$text")&&O.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(A)||!O||ee||ne)&&(A=A.replace(/\u00A0$/," ")),(P||T&&T.is("element")&&T.name!="br")&&(A=A.replace(/^\u00A0/," "))}A.length==0&&b.parent?(b._remove(),r.splice(f,1),f--):(b._data=A,l=S)}r.length=0}_processDataFromViewText(e){let r=e.data;if(this._isPreFormatted(e))return r;if(r.charAt(0)==" "){const s=this._getTouchingInlineViewNode(e,!1);!(s&&s.is("$textProxy")&&this._nodeEndsWithSpace(s))&&s||(r=""+r.substr(1))}if(r.charAt(r.length-1)==" "){const s=this._getTouchingInlineViewNode(e,!0),l=s&&s.is("$textProxy")&&s.data.charAt(0)==" ";r.charAt(r.length-2)!=" "&&s&&!l||(r=r.substr(0,r.length-1)+"")}return r.replace(/ {2}/g," ")}_nodeEndsWithSpace(e){if(this._isPreFormatted(e))return!1;const r=this._processDataFromViewText(e);return r.charAt(r.length-1)==" "}_isPreFormatted(e){if(function(r,s){return r.getAncestors().some(l=>l.is("element")&&s.includes(l.name))}(e,this.preElements))return!0;for(const r of e.getAncestors({parentFirst:!0}))if(r.is("element")&&r.hasStyle("white-space")&&r.getStyle("white-space")!=="inherit")return["pre","pre-wrap","break-spaces"].includes(r.getStyle("white-space"));return!1}_getTouchingInlineViewNode(e,r){const s=new Ru({startPosition:r?Qt._createAfter(e):Qt._createBefore(e),direction:r?"forward":"backward"});for(const{item:l}of s){if(l.is("$textProxy"))return l;if(!l.is("element")||!l.getCustomProperty("dataPipeline:transparentRendering")){if(l.is("element","br"))return null;if(this._isInlineObjectElement(l))return l;if(l.is("containerElement"))return null}}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return!!e.is("element")&&(e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e))}_createViewElement(e,r){if(ya(e))return new hg(this.document,"$comment");const s=r.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new Wa(this.document,s)}_isViewElementWithRawContent(e,r){return r.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const r=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(r)}_createReplacementDomElement(e,r){const s=this._domDocument.createElement("span");if(s.setAttribute(Wk,e),r){for(;r.firstChild;)s.appendChild(r.firstChild);for(const l of r.getAttributeNames())s.setAttribute(l,r.getAttribute(l))}return s}}function Gk(u,e){let r=u;for(;r;)e(r),r=r.parentElement}function mg(u,e){const r=u.parentNode;return!!r&&!!r.tagName&&e.includes(r.tagName.toLowerCase())}function gg(u,e,r){return e==""&&u&&u.is("element")&&u.childCount==1&&r.includes(u.name)}function to(u,e){return e==""&&u&&u.is("element","span")&&u.childCount==1&&u.hasAttribute("data-cke-filler")}function BA(u){return u.is("element","br")&&u.hasAttribute("data-cke-filler")}function LA(u,e){return u.tagName==="BR"&&mg(u,e)&&u.parentNode.childNodes.length===1}function Yk(u){u==="script"&&q("domconverter-unsafe-script-element-detected"),u==="style"&&q("domconverter-unsafe-style-element-detected")}class Qa extends Fo(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!(!e||e.nodeType!==1)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}var Oh=Cb(function(u,e){Ll(e,bl(e),u)});const Kk=Oh;class Hf{constructor(e,r,s){this.view=e,this.document=e.document,this.domEvent=r,this.domTarget=r.target,Kk(this,s)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class yl extends Qa{constructor(){super(...arguments),this.useCapture=!1,this.usePassive=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(r=>{this.listenTo(e,r,(s,l)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(l.target)&&this.onDomEvent(l)},{useCapture:this.useCapture,usePassive:this.usePassive})})}stopObserving(e){this.stopListening(e)}fire(e,r,s){this.isEnabled&&this.document.fire(e,new Hf(this.view,r,s))}}class Uu extends yl{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const r={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return Gs(this)}};this.fire(e.type,e,r)}}const zb=function(){return Yt.Date.now()};var Qk=/\s/;const PA=function(u){for(var e=u.length;e--&&Qk.test(u.charAt(e)););return e};var Zk=/^\s+/;const Jk=function(u){return u&&u.slice(0,PA(u)+1).replace(Zk,"")};var Fb=/^[-+]0x[0-9a-f]+$/i,RA=/^0b[01]+$/i,zd=/^0o[0-7]+$/i,Do=parseInt;const Ub=function(u){if(typeof u=="number")return u;if(ju(u))return NaN;if(Ge(u)){var e=typeof u.valueOf=="function"?u.valueOf():u;u=Ge(e)?e+"":e}if(typeof u!="string")return u===0?u:+u;u=Jk(u);var r=RA.test(u);return r||zd.test(u)?Do(u.slice(2),r?2:8):Fb.test(u)?NaN:+u};var zA=Math.max,Ts=Math.min;const $f=function(u,e,r){var s,l,f,b,A,S,T=0,O=!1,P=!1,W=!0;if(typeof u!="function")throw new TypeError("Expected a function");function ee(qe){var tt=s,Dt=l;return s=l=void 0,T=qe,b=u.apply(Dt,tt)}function ne(qe){var tt=qe-S;return S===void 0||tt>=e||tt<0||P&&qe-T>=f}function le(){var qe=zb();if(ne(qe))return Ce(qe);A=setTimeout(le,function(tt){var Dt=e-(tt-S);return P?Ts(Dt,f-(tt-T)):Dt}(qe))}function Ce(qe){return A=void 0,W&&s?ee(qe):(s=l=void 0,b)}function je(){var qe=zb(),tt=ne(qe);if(s=arguments,l=this,S=qe,tt){if(A===void 0)return function(Dt){return T=Dt,A=setTimeout(le,e),O?ee(Dt):b}(S);if(P)return clearTimeout(A),A=setTimeout(le,e),ee(S)}return A===void 0&&(A=setTimeout(le,e)),b}return e=Ub(e)||0,Ge(r)&&(O=!!r.leading,f=(P="maxWait"in r)?zA(Ub(r.maxWait)||0,e):f,W="trailing"in r?!!r.trailing:W),je.cancel=function(){A!==void 0&&clearTimeout(A),T=0,s=S=l=A=void 0},je.flush=function(){return A===void 0?b:Ce(zb())},je};class FA extends Qa{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=$f(r=>{this.document.fire("selectionChangeDone",r)},200)}observe(){const e=this.document;e.on("arrowKey",(r,s)=>{e.selection.isFake&&this.isEnabled&&s.preventDefault()},{context:"$capture"}),e.on("arrowKey",(r,s)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(s.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const r=this.document.selection,s=new Jl(r.getRanges(),{backward:r.isBackward,fake:!1});e!=ln.arrowleft&&e!=ln.arrowup||s.setTo(s.getFirstPosition()),e!=ln.arrowright&&e!=ln.arrowdown||s.setTo(s.getLastPosition());const l={oldSelection:r,newSelection:s,domSelection:null};this.document.fire("selectionChange",l),this._fireSelectionChangeDoneDebounced(l)}}const UA=function(u){return this.__data__.set(u,"__lodash_hash_undefined__"),this},$i=function(u){return this.__data__.has(u)};function Js(u){var e=-1,r=u==null?0:u.length;for(this.__data__=new ku;++e<r;)this.add(u[e])}Js.prototype.add=Js.prototype.push=UA,Js.prototype.has=$i;const Fd=Js,qA=function(u,e){for(var r=-1,s=u==null?0:u.length;++r<s;)if(e(u[r],r,u))return!0;return!1},VA=function(u,e){return u.has(e)},HA=function(u,e,r,s,l,f){var b=1&r,A=u.length,S=e.length;if(A!=S&&!(b&&S>A))return!1;var T=f.get(u),O=f.get(e);if(T&&O)return T==e&&O==u;var P=-1,W=!0,ee=2&r?new Fd:void 0;for(f.set(u,e),f.set(e,u);++P<A;){var ne=u[P],le=e[P];if(s)var Ce=b?s(le,ne,P,e,u,f):s(ne,le,P,u,e,f);if(Ce!==void 0){if(Ce)continue;W=!1;break}if(ee){if(!qA(e,function(je,qe){if(!VA(ee,qe)&&(ne===je||l(ne,je,r,s,f)))return ee.push(qe)})){W=!1;break}}else if(ne!==le&&!l(ne,le,r,s,f)){W=!1;break}}return f.delete(u),f.delete(e),W},Xk=function(u){var e=-1,r=Array(u.size);return u.forEach(function(s,l){r[++e]=[l,s]}),r},Al=function(u){var e=-1,r=Array(u.size);return u.forEach(function(s){r[++e]=s}),r};var tc=yt?yt.prototype:void 0,qb=tc?tc.valueOf:void 0;const _l=function(u,e,r,s,l,f,b){switch(r){case"[object DataView]":if(u.byteLength!=e.byteLength||u.byteOffset!=e.byteOffset)return!1;u=u.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(u.byteLength!=e.byteLength||!f(new Ic(u),new Ic(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return jr(+u,+e);case"[object Error]":return u.name==e.name&&u.message==e.message;case"[object RegExp]":case"[object String]":return u==e+"";case"[object Map]":var A=Xk;case"[object Set]":var S=1&s;if(A||(A=Al),u.size!=e.size&&!S)return!1;var T=b.get(u);if(T)return T==e;s|=2,b.set(u,e);var O=HA(A(u),A(e),s,l,f,b);return b.delete(u),O;case"[object Symbol]":if(qb)return qb.call(u)==qb.call(e)}return!1};var $A=Object.prototype.hasOwnProperty;const Bh=function(u,e,r,s,l,f){var b=1&r,A=fr(u),S=A.length;if(S!=fr(e).length&&!b)return!1;for(var T=S;T--;){var O=A[T];if(!(b?O in e:$A.call(e,O)))return!1}var P=f.get(u),W=f.get(e);if(P&&W)return P==e&&W==u;var ee=!0;f.set(u,e),f.set(e,u);for(var ne=b;++T<S;){var le=u[O=A[T]],Ce=e[O];if(s)var je=b?s(Ce,le,O,e,u,f):s(le,Ce,O,u,e,f);if(!(je===void 0?le===Ce||l(le,Ce,r,s,f):je)){ee=!1;break}ne||(ne=O=="constructor")}if(ee&&!ne){var qe=u.constructor,tt=e.constructor;qe==tt||!("constructor"in u)||!("constructor"in e)||typeof qe=="function"&&qe instanceof qe&&typeof tt=="function"&&tt instanceof tt||(ee=!1)}return f.delete(u),f.delete(e),ee};var Lh="[object Arguments]",Ud="[object Array]",qp="[object Object]",Vb=Object.prototype.hasOwnProperty;const qu=function(u,e,r,s,l,f){var b=vr(u),A=vr(e),S=b?Ud:Pa(u),T=A?Ud:Pa(e),O=(S=S==Lh?qp:S)==qp,P=(T=T==Lh?qp:T)==qp,W=S==T;if(W&&ra(u)){if(!ra(e))return!1;b=!0,O=!1}if(W&&!O)return f||(f=new na),b||xf(u)?HA(u,e,r,s,l,f):_l(u,e,S,r,s,l,f);if(!(1&r)){var ee=O&&Vb.call(u,"__wrapped__"),ne=P&&Vb.call(e,"__wrapped__");if(ee||ne){var le=ee?u.value():u,Ce=ne?e.value():e;return f||(f=new na),l(le,Ce,r,s,f)}}return!!W&&(f||(f=new na),Bh(u,e,r,s,l,f))},bg=function u(e,r,s,l,f){return e===r||(e==null||r==null||!gr(e)&&!gr(r)?e!=e&&r!=r:qu(e,r,s,l,u,f))},Vp=function(u,e,r){var s=(r=typeof r=="function"?r:void 0)?r(u,e):void 0;return s===void 0?bg(u,e,void 0,r):!!s};class Hp extends Qa{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const r of this._domElements)this._mutationObserver.observe(r,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const r=this.domConverter,s=new Set,l=new Set;for(const b of e){const A=r.mapDomToView(b.target);A&&(A.is("uiElement")||A.is("rawElement")||b.type!=="childList"||this._isBogusBrMutation(b)||l.add(A))}for(const b of e){const A=r.mapDomToView(b.target);if((!A||!A.is("uiElement")&&!A.is("rawElement"))&&b.type==="characterData"){const S=r.findCorrespondingViewText(b.target);S&&!l.has(S.parent)?s.add(S):!S&&Ka(b.target)&&l.add(r.mapDomToView(b.target.parentNode))}}const f=[];for(const b of s)f.push({type:"text",node:b});for(const b of l){const A=r.mapViewToDom(b),S=Array.from(b.getChildren()),T=Array.from(r.domChildrenToView(A,{withChildren:!1}));Vp(S,T,kg)||f.push({type:"children",node:b})}f.length&&this.document.fire("mutations",{mutations:f})}_isBogusBrMutation(e){let r=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(r=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),r&&r.is("element","br")}}function kg(u,e){if(!Array.isArray(u))return u===e||!(!u.is("$text")||!e.is("$text"))&&u.data===e.data}class qd extends yl{constructor(e){super(e),this._renderTimeoutId=null,this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const r=this.document;r.on("focus",()=>this._handleFocus()),r.on("blur",(s,l)=>this._handleBlur(l)),r.on("beforeinput",()=>{r.isFocused||this._handleFocus()},{priority:"highest"})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._clearTimeout(),super.destroy()}_handleFocus(){this._clearTimeout(),this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this._renderTimeoutId=null,this.flush(),this.view.change(()=>{})},50)}_handleBlur(e){const r=this.document.selection.editableElement;r!==null&&r!==e.target||(this.document.isFocused=!1,this._isFocusChanging=!1,this.view.change(()=>{}))}_clearTimeout(){this._renderTimeoutId&&(clearTimeout(this._renderTimeoutId),this._renderTimeoutId=null)}}class WA extends Qa{constructor(e){super(e),this.mutationObserver=e.getObserver(Hp),this.focusObserver=e.getObserver(qd),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=$f(r=>{this.document.fire("selectionChangeDone",r)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=$f(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const r=e.ownerDocument,s=()=>{this.document.isSelecting&&(this._handleSelectionChange(r),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(e,"keydown",s,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",s,{priority:"highest",useCapture:!0}),this._documents.has(r)||(this.listenTo(r,"mouseup",s,{priority:"highest",useCapture:!0}),this.listenTo(r,"selectionchange",()=>{this.document.isComposing&&!v.isAndroid||(this._handleSelectionChange(r),this._documentIsSelectingInactivityTimeoutDebounced())}),this.listenTo(this.view.document,"compositionstart",()=>{this._handleSelectionChange(r)},{priority:"lowest"}),this._documents.add(r))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e){if(!this.isEnabled)return;const r=e.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(r.anchorNode))return;this.mutationObserver.flush();const s=this.domConverter.domSelectionToView(r);if(s.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(s)||!this.domConverter.isDomSelectionCorrect(r))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(s))this.view.forceRender();else{const l={oldSelection:this.selection,newSelection:s,domSelection:r};this.document.fire("selectionChange",l),this._fireSelectionChangeDoneDebounced(l)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class GA extends yl{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const r=this.document;r.on("compositionstart",()=>{r.isComposing=!0},{priority:"low"}),r.on("compositionend",()=>{r.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class $p{constructor(e,r={}){this._files=r.cacheFiles?e1(e):null,this._native=e}get files(){return this._files||(this._files=e1(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,r){this._native.setData(e,r)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,r,s){this._native.setDragImage(e,r,s)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function e1(u){const e=Array.from(u.files||[]),r=Array.from(u.items||[]);return e.length?e:r.filter(s=>s.kind==="file").map(s=>s.getAsFile())}class Hb extends yl{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const r=e.getTargetRanges(),s=this.view,l=s.document;let f=null,b=null,A=[];if(e.dataTransfer&&(f=new $p(e.dataTransfer)),e.data!==null?b=e.data:f&&(b=f.getData("text/plain")),l.selection.isFake)A=Array.from(l.selection.getRanges());else if(r.length)A=r.map(S=>{const T=s.domConverter.domPositionToView(S.startContainer,S.startOffset),O=s.domConverter.domPositionToView(S.endContainer,S.endOffset);return T?s.createRange(T,O):O?s.createRange(O):void 0}).filter(S=>!!S);else if(v.isAndroid){const S=e.target.ownerDocument.defaultView.getSelection();A=Array.from(s.domConverter.domSelectionToView(S).getRanges())}if(v.isAndroid&&e.inputType=="insertCompositionText"&&b&&b.endsWith(`
`))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[s.createRange(A[0].end)]});else if(e.inputType=="insertText"&&b&&b.includes(`
`)){const S=b.split(/\n{1,2}/g);let T=A;for(let O=0;O<S.length;O++){const P=S[O];P!=""&&(this.fire(e.type,e,{data:P,dataTransfer:f,targetRanges:T,inputType:e.inputType,isComposing:e.isComposing}),T=[l.selection.getFirstRange()]),O+1<S.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:T}),T=[l.selection.getFirstRange()])}}else this.fire(e.type,e,{data:b,dataTransfer:f,targetRanges:A,inputType:e.inputType,isComposing:e.isComposing})}}class YA extends Qa{constructor(e){super(e),this.document.on("keydown",(r,s)=>{if(this.isEnabled&&((l=s.keyCode)==ln.arrowright||l==ln.arrowleft||l==ln.arrowup||l==ln.arrowdown)){const f=new Ca(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(f,s),f.stop.called&&r.stop()}var l})}observe(){}stopObserving(){}}class mS extends Qa{constructor(e){super(e);const r=this.document;r.on("keydown",(s,l)=>{if(!this.isEnabled||l.keyCode!=ln.tab||l.ctrlKey)return;const f=new Ca(r,"tab",r.selection.getFirstRange());r.fire(f,l),f.stop.called&&s.stop()})}observe(){}stopObserving(){}}const Yc=function(u){return Fa(u,5)};class ii extends Ae(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new Lp(e),this.domConverter=new ec(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new qk(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new Pk(this.document),this.addObserver(Hp),this.addObserver(qd),this.addObserver(WA),this.addObserver(Uu),this.addObserver(FA),this.addObserver(GA),this.addObserver(YA),this.addObserver(Hb),this.addObserver(mS),this.document.on("arrowKey",Uk,{priority:"low"}),IA(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),v.isiOS&&this.listenTo(this.document,"blur",(r,s)=>{this.domConverter.mapDomToView(s.domEvent.relatedTarget)||this.domConverter._clearDomSelection()}),this.listenTo(this.document,"mutations",(r,{mutations:s})=>{s.forEach(l=>this._renderer.markToSync(l.type,l.node))},{priority:"low"}),this.listenTo(this.document,"mutations",()=>{this.forceRender()},{priority:"lowest"})}attachDomRoot(e,r="main"){const s=this.document.getRoot(r);s._name=e.tagName.toLowerCase();const l={};for(const{name:b,value:A}of Array.from(e.attributes))l[b]=A,b==="class"?this._writer.addClass(A.split(" "),s):s.hasAttribute(b)||this._writer.setAttribute(b,A,s);this._initialDomRootAttributes.set(e,l);const f=()=>{this._writer.setAttribute("contenteditable",(!s.isReadOnly).toString(),s),s.isReadOnly?this._writer.addClass("ck-read-only",s):this._writer.removeClass("ck-read-only",s)};f(),this.domRoots.set(r,e),this.domConverter.bindElements(e,s),this._renderer.markToSync("children",s),this._renderer.markToSync("attributes",s),this._renderer.domDocuments.add(e.ownerDocument),s.on("change:children",(b,A)=>this._renderer.markToSync("children",A)),s.on("change:attributes",(b,A)=>this._renderer.markToSync("attributes",A)),s.on("change:text",(b,A)=>this._renderer.markToSync("text",A)),s.on("change:isReadOnly",()=>this.change(f)),s.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const b of this._observers.values())b.observe(e,r)}detachDomRoot(e){const r=this.domRoots.get(e);Array.from(r.attributes).forEach(({name:l})=>r.removeAttribute(l));const s=this._initialDomRootAttributes.get(r);for(const l in s)r.setAttribute(l,s[l]);this.domRoots.delete(e),this.domConverter.unbindDomElement(r);for(const l of this._observers.values())l.stopObserving(r)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let r=this._observers.get(e);if(r)return r;r=new e(this),this._observers.set(e,r);for(const[s,l]of this.domRoots)r.observe(l,s);return r.enable(),r}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:r,viewportOffset:s=20,ancestorOffset:l=20}={}){const f=this.document.selection.getFirstRange();if(!f)return;const b=Yc({alignToTop:e,forceScroll:r,viewportOffset:s,ancestorOffset:l});typeof s=="number"&&(s={top:s,bottom:s,left:s,right:s});const A={target:this.domConverter.viewRangeToDom(f),viewportOffset:s,ancestorOffset:l,alignToTop:e,forceScroll:r};this.fire("scrollToTheSelection",A,b),function({target:S,viewportOffset:T=0,ancestorOffset:O=0,alignToTop:P,forceScroll:W}){const ee=Rc(S);let ne=ee,le=null;for(T=function(Ce){return typeof Ce=="number"?{top:Ce,bottom:Ce,left:Ce,right:Ce}:Ce}(T);ne;){let Ce;Ce=Ab(ne==ee?S:le),qa({parent:Ce,getRect:()=>Ed(S,ne),alignToTop:P,ancestorOffset:O,forceScroll:W});let je=Ed(S,ne);const qe=Ed(Ce,ne);if(je.height>qe.height){const tt=je.getIntersection(qe);tt&&(je=tt)}if(_p({window:ne,rect:je,viewportOffset:T,alignToTop:P,forceScroll:W}),ne.parent!=ne){if(le=ne.frameElement,ne=ne.parent,!le)return}else ne=null}}(A)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new U("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const r=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),r}catch(r){U.rethrowUnexpectedError(r,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(qd).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,r){return Qt._createAt(e,r)}createPositionAfter(e){return Qt._createAfter(e)}createPositionBefore(e){return Qt._createBefore(e)}createRange(e,r){return new Nn(e,r)}createRangeOn(e){return Nn._createOn(e)}createRangeIn(e){return Nn._createIn(e)}createSelection(...e){return new Jl(...e)}_disableRendering(e){this._renderingDisabled=e,e==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Lr{is(){throw new Error("is() method is abstract")}}class Fn extends Lr{constructor(e,r,s){if(super(),this.textNode=e,r<0||r>e.offsetSize)throw new U("model-textproxy-wrong-offsetintext",this);if(s<0||r+s>e.offsetSize)throw new U("model-textproxy-wrong-length",this);this.data=e.data.substring(r,r+s),this.offsetInText=r}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const r=[];let s=e.includeSelf?this:this.parent;for(;s;)r[e.parentFirst?"push":"unshift"](s),s=s.parent;return r}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Fn.prototype.is=function(u){return u==="$textProxy"||u==="model:$textProxy"||u==="textProxy"||u==="model:textProxy"};class Jn{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new U("model-tree-walker-no-start-position",null);const r=e.direction||"forward";if(r!="forward"&&r!="backward")throw new U("model-tree-walker-unknown-direction",e,{direction:r});this.direction=r,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=Ot._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let r,s,l,f;do l=this.position,f=this._visitedParent,{done:r,value:s}=this.next();while(!r&&e(s));r||(this._position=l,this._visitedParent=f)}jumpTo(e){this._boundaryStartParent&&e.isBefore(this.boundaries.start)?e=this.boundaries.start:this._boundaryEndParent&&e.isAfter(this.boundaries.end)&&(e=this.boundaries.end),this._position=e.clone(),this._visitedParent=e.parent}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,r=this.position.clone(),s=this._visitedParent;if(s.parent===null&&r.offset===s.maxOffset)return{done:!0,value:void 0};if(s===this._boundaryEndParent&&r.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const l=nc(r,s),f=l||Wf(r,s,l);if(f&&f.is("model:element")){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(r))return{done:!0,value:void 0};r.offset++}else r.path.push(0),this._visitedParent=f;return this._position=r,xr("elementStart",f,e,r,1)}if(f&&f.is("model:$text")){let b;if(this.singleCharacters)b=1;else{let T=f.endOffset;this._boundaryEndParent==s&&this.boundaries.end.offset<T&&(T=this.boundaries.end.offset),b=T-r.offset}const A=r.offset-f.startOffset,S=new Fn(f,A,b);return r.offset+=b,this._position=r,xr("text",S,e,r,b)}return r.path.pop(),r.offset++,this._position=r,this._visitedParent=s.parent,this.ignoreElementEnd?this._next():xr("elementEnd",s,e,r)}_previous(){const e=this.position,r=this.position.clone(),s=this._visitedParent;if(s.parent===null&&r.offset===0)return{done:!0,value:void 0};if(s==this._boundaryStartParent&&r.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const l=r.parent,f=nc(r,l),b=f||$b(r,l,f);if(b&&b.is("model:element"))return r.offset--,this.shallow?(this._position=r,xr("elementStart",b,e,r,1)):(r.path.push(b.maxOffset),this._position=r,this._visitedParent=b,this.ignoreElementEnd?this._previous():xr("elementEnd",b,e,r));if(b&&b.is("model:$text")){let A;if(this.singleCharacters)A=1;else{let O=b.startOffset;this._boundaryStartParent==s&&this.boundaries.start.offset>O&&(O=this.boundaries.start.offset),A=r.offset-O}const S=r.offset-b.startOffset,T=new Fn(b,S-A,A);return r.offset-=A,this._position=r,xr("text",T,e,r,A)}return r.path.pop(),this._position=r,this._visitedParent=s.parent,xr("elementStart",s,e,r,1)}}function xr(u,e,r,s,l){return{done:!1,value:{type:u,item:e,previousPosition:r,nextPosition:s,length:l}}}class Ot extends Lr{constructor(e,r,s="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new U("model-position-root-invalid",e);if(!Array.isArray(r)||r.length===0)throw new U("model-position-path-incorrect-format",e,{path:r});e.is("rootElement")?r=r.slice():(r=[...e.getPath(),...r],e=e.root),this.root=e,this.path=r,this.stickiness=s}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let r=0;r<this.path.length-1;r++)if(e=e.getChildAtOffset(this.path[r]),!e)throw new U("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new U("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return nc(this,this.parent)}get nodeAfter(){const e=this.parent;return Wf(this,e,nc(this,e))}get nodeBefore(){const e=this.parent;return $b(this,e,nc(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}isValid(){if(this.offset<0)return!1;let e=this.root;for(let r=0;r<this.path.length-1;r++)if(e=e.getChildAtOffset(this.path[r]),!e)return!1;return this.offset<=e.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const r=pt(this.path,e.path);switch(r){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[r]<e.path[r]?"before":"after"}}getLastMatchingPosition(e,r={}){r.startPosition=this;const s=new Jn(r);return s.skip(e),s.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const r=this.parent;return r.is("element")?r.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const r=pt(this.path,e.path),s=typeof r=="string"?Math.min(this.path.length,e.path.length):r;return this.path.slice(0,s)}getCommonAncestor(e){const r=this.getAncestors(),s=e.getAncestors();let l=0;for(;r[l]==s[l]&&r[l];)l++;return l===0?null:r[l-1]}getShiftedBy(e){const r=this.clone(),s=r.offset+e;return r.offset=s<0?0:s,r}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const r=Math.min(this.path.length,e.path.length);for(let s=0;s<r;s++){const l=this.path[s]-e.path[s];if(l<-1||l>1)return!1;if(l===1)return Vu(e,this,s);if(l===-1)return Vu(this,e,s)}return this.path.length===e.path.length||(this.path.length>e.path.length?Wi(this.path,r):Wi(e.path,r))}hasSameParentAs(e){return this.root!==e.root?!1:pt(this.getParentPath(),e.getParentPath())=="same"}getTransformedByOperation(e){let r;switch(e.type){case"insert":r=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":r=this._getTransformedByMoveOperation(e);break;case"split":r=this._getTransformedBySplitOperation(e);break;case"merge":r=this._getTransformedByMergeOperation(e);break;default:r=Ot._createAt(this)}return r}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const r=e.movedRange;return r.containsPosition(this)||r.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const r=e.movedRange;let s;return r.containsPosition(this)||r.start.isEqual(this)?(s=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(s=s._getTransformedByDeletion(e.deletionPosition,1))):s=this.isEqual(e.deletionPosition)?Ot._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),s}_getTransformedByDeletion(e,r){const s=Ot._createAt(this);if(this.root!=e.root)return s;if(pt(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+r>this.offset)return null;s.offset-=r}}else if(pt(e.getParentPath(),this.getParentPath())=="prefix"){const l=e.path.length-1;if(e.offset<=this.path[l]){if(e.offset+r>this.path[l])return null;s.path[l]-=r}}return s}_getTransformedByInsertion(e,r){const s=Ot._createAt(this);if(this.root!=e.root)return s;if(pt(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(s.offset+=r);else if(pt(e.getParentPath(),this.getParentPath())=="prefix"){const l=e.path.length-1;e.offset<=this.path[l]&&(s.path[l]+=r)}return s}_getTransformedByMove(e,r,s){if(r=r._getTransformedByDeletion(e,s),e.isEqual(r))return Ot._createAt(this);const l=this._getTransformedByDeletion(e,s);return l===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(s).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,r):l._getTransformedByInsertion(r,s)}_getCombined(e,r){const s=e.path.length-1,l=Ot._createAt(r);return l.stickiness=this.stickiness,l.offset=l.offset+this.path[s]-e.offset,l.path=[...l.path,...this.path.slice(s+1)],l}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,r,s="toNone"){if(e.is("model:position"))return new Ot(e.root,e.path,e.stickiness);{const l=e;if(r=="end")r=l.maxOffset;else{if(r=="before")return this._createBefore(l,s);if(r=="after")return this._createAfter(l,s);if(r!==0&&!r)throw new U("model-createpositionat-offset-required",[this,e])}if(!l.is("element")&&!l.is("documentFragment"))throw new U("model-position-parent-incorrect",[this,e]);const f=l.getPath();return f.push(r),new this(l.root,f,s)}}static _createAfter(e,r){if(!e.parent)throw new U("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,r)}static _createBefore(e,r){if(!e.parent)throw new U("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,r)}static fromJSON(e,r){if(e.root==="$graveyard"){const s=new Ot(r.graveyard,e.path);return s.stickiness=e.stickiness,s}if(!r.getRoot(e.root))throw new U("model-position-fromjson-no-root",r,{rootName:e.root});return new Ot(r.getRoot(e.root),e.path,e.stickiness)}}function nc(u,e){const r=e.getChildAtOffset(u.offset);return r&&r.is("$text")&&r.startOffset<u.offset?r:null}function Wf(u,e,r){return r!==null?null:e.getChildAtOffset(u.offset)}function $b(u,e,r){return r!==null?null:e.getChild(e.offsetToIndex(u.offset)-1)}function Vu(u,e,r){return r+1!==u.path.length&&!!Wi(e.path,r+1)&&!!function(s,l){let f=s.parent,b=s.path.length-1,A=0;for(;b>=l;){if(s.path[b]+A!==f.maxOffset)return!1;A=1,b--,f=f.parent}return!0}(u,r+1)}function Wi(u,e){for(;e<u.length;){if(u[e]!==0)return!1;e++}return!0}Ot.prototype.is=function(u){return u==="position"||u==="model:position"};class ut extends Lr{constructor(e,r){super(),this.start=Ot._createAt(e),this.end=r?Ot._createAt(r):Ot._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Jn({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return pt(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,r=!1){e.isCollapsed&&(r=!1);const s=this.containsPosition(e.start)||r&&this.start.isEqual(e.start),l=this.containsPosition(e.end)||r&&this.end.isEqual(e.end);return s&&l}containsItem(e){const r=Ot._createBefore(e);return this.containsPosition(r)||this.start.isEqual(r)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const r=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&r.push(new ut(this.start,e.start)),this.containsPosition(e.end)&&r.push(new ut(e.end,this.end))):r.push(new ut(this.start,this.end)),r}getIntersection(e){if(this.isIntersecting(e)){let r=this.start,s=this.end;return this.containsPosition(e.start)&&(r=e.start),this.containsPosition(e.end)&&(s=e.end),new ut(r,s)}return null}getJoined(e,r=!1){let s=this.isIntersecting(e);if(s||(s=this.start.isBefore(e.start)?r?this.end.isTouching(e.start):this.end.isEqual(e.start):r?e.end.isTouching(this.start):e.end.isEqual(this.start)),!s)return null;let l=this.start,f=this.end;return e.start.isBefore(l)&&(l=e.start),e.end.isAfter(f)&&(f=e.end),new ut(l,f)}getMinimalFlatRanges(){const e=[],r=this.start.getCommonPath(this.end).length,s=Ot._createAt(this.start);let l=s.parent;for(;s.path.length>r+1;){const f=l.maxOffset-s.offset;f!==0&&e.push(new ut(s,s.getShiftedBy(f))),s.path=s.path.slice(0,-1),s.offset++,l=l.parent}for(;s.path.length<=this.end.path.length;){const f=this.end.path[s.path.length-1],b=f-s.offset;b!==0&&e.push(new ut(s,s.getShiftedBy(b))),s.offset=f,s.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new Jn(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const r=new Jn(e);for(const s of r)yield s.item}*getPositions(e={}){e.boundaries=this;const r=new Jn(e);yield r.position;for(const s of r)yield s.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new ut(this.start,this.end)]}getTransformedByOperations(e){const r=[new ut(this.start,this.end)];for(const s of e)for(let l=0;l<r.length;l++){const f=r[l].getTransformedByOperation(s);r.splice(l,1,...f),l+=f.length-1}for(let s=0;s<r.length;s++){const l=r[s];for(let f=s+1;f<r.length;f++){const b=r[f];(l.containsRange(b)||b.containsRange(l)||l.isEqual(b))&&r.splice(f,1)}}return r}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,r=this.end.nodeBefore;return e&&e.is("element")&&e===r?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,r=!1){return this._getTransformedByInsertion(e.position,e.howMany,r)}_getTransformedByMoveOperation(e,r=!1){const s=e.sourcePosition,l=e.howMany,f=e.targetPosition;return this._getTransformedByMove(s,f,l,r)}_getTransformedBySplitOperation(e){const r=this.start._getTransformedBySplitOperation(e);let s=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(s=this.end.getShiftedBy(1)),r.root!=s.root&&(s=this.end.getShiftedBy(-1)),new ut(r,s)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new ut(this.start);let r=this.start._getTransformedByMergeOperation(e),s=this.end._getTransformedByMergeOperation(e);return r.root!=s.root&&(s=this.end.getShiftedBy(-1)),r.isAfter(s)?(e.sourcePosition.isBefore(e.targetPosition)?(r=Ot._createAt(s),r.offset=0):(e.deletionPosition.isEqual(r)||(s=e.deletionPosition),r=e.targetPosition),new ut(r,s)):new ut(r,s)}_getTransformedByInsertion(e,r,s=!1){if(s&&this.containsPosition(e))return[new ut(this.start,e),new ut(e.getShiftedBy(r),this.end._getTransformedByInsertion(e,r))];{const l=new ut(this.start,this.end);return l.start=l.start._getTransformedByInsertion(e,r),l.end=l.end._getTransformedByInsertion(e,r),[l]}}_getTransformedByMove(e,r,s,l=!1){if(this.isCollapsed){const P=this.start._getTransformedByMove(e,r,s);return[new ut(P)]}const f=ut._createFromPositionAndShift(e,s),b=r._getTransformedByDeletion(e,s);if(this.containsPosition(r)&&!l&&(f.containsPosition(this.start)||f.containsPosition(this.end))){const P=this.start._getTransformedByMove(e,r,s),W=this.end._getTransformedByMove(e,r,s);return[new ut(P,W)]}let A;const S=this.getDifference(f);let T=null;const O=this.getIntersection(f);if(S.length==1?T=new ut(S[0].start._getTransformedByDeletion(e,s),S[0].end._getTransformedByDeletion(e,s)):S.length==2&&(T=new ut(this.start,this.end._getTransformedByDeletion(e,s))),A=T?T._getTransformedByInsertion(b,s,O!==null||l):[],O){const P=new ut(O.start._getCombined(f.start,b),O.end._getCombined(f.start,b));A.length==2?A.splice(1,0,P):A.push(P)}return A}_getTransformedByDeletion(e,r){let s=this.start._getTransformedByDeletion(e,r),l=this.end._getTransformedByDeletion(e,r);return s==null&&l==null?null:(s==null&&(s=e),l==null&&(l=e),new ut(s,l))}static _createFromPositionAndShift(e,r){const s=e,l=e.getShiftedBy(r);return r>0?new this(s,l):new this(l,s)}static _createIn(e){return new this(Ot._createAt(e,0),Ot._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(Ot._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new U("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const r=e[0];e.sort((f,b)=>f.start.isAfter(b.start)?1:-1);const s=e.indexOf(r),l=new this(r.start,r.end);for(let f=s-1;f>=0&&e[f].end.isEqual(l.start);f--)l.start=Ot._createAt(e[f].start);for(let f=s+1;f<e.length&&e[f].start.isEqual(l.end);f++)l.end=Ot._createAt(e[f].end);return l}static fromJSON(e,r){return new this(Ot.fromJSON(e.start,r),Ot.fromJSON(e.end,r))}}ut.prototype.is=function(u){return u==="range"||u==="model:range"};class Ph extends ke(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this._cache=new t1,this.on("modelToViewPosition",(e,r)=>{if(r.viewPosition)return;const s=this._modelToViewMapping.get(r.modelPosition.parent);if(!s)throw new U("mapping-model-position-view-parent-not-found",this,{modelPosition:r.modelPosition});r.viewPosition=this.findPositionIn(s,r.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,r)=>{if(r.modelPosition)return;const s=this.findMappedViewAncestor(r.viewPosition),l=this._viewToModelMapping.get(s),f=this._toModelOffset(r.viewPosition.parent,r.viewPosition.offset,s);r.modelPosition=Ot._createAt(l,f)},{priority:"low"})}bindElements(e,r){this._modelToViewMapping.set(e,r),this._viewToModelMapping.set(r,e)}unbindViewElement(e,r={}){const s=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const l of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(l);r.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e)&&this._cache.stopTracking(e),this._modelToViewMapping.get(s)==e&&this._modelToViewMapping.delete(s))}unbindModelElement(e){const r=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(r)==e&&this._viewToModelMapping.delete(r)&&this._cache.stopTracking(r)}bindElementToMarker(e,r){const s=this._markerNameToElements.get(r)||new Set;s.add(e);const l=this._elementToMarkerNames.get(e)||new Set;l.add(r),this._markerNameToElements.set(r,s),this._elementToMarkerNames.set(e,l)}unbindElementFromMarkerName(e,r){const s=this._markerNameToElements.get(r);s&&(s.delete(e),s.size==0&&this._markerNameToElements.delete(r));const l=this._elementToMarkerNames.get(e);l&&(l.delete(r),l.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,r]of this._deferredBindingRemovals)e.root==r&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new ut(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new Nn(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const r={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",r),r.modelPosition}toViewPosition(e,r={}){const s={modelPosition:e,mapper:this,isPhantom:r.isPhantom};return this.fire("modelToViewPosition",s),s.viewPosition}markerNameToElements(e){const r=this._markerNameToElements.get(e);if(!r)return null;const s=new Set;for(const l of r)if(l.is("attributeElement"))for(const f of l.getElementsWithSameId())s.add(f);else s.add(l);return s}registerViewToModelLength(e,r){this._viewToModelLengthCallbacks.set(e,r)}findMappedViewAncestor(e){let r=e.parent;for(;!this._viewToModelMapping.has(r);)r=r.parent;return r}_toModelOffset(e,r,s){if(s!=e)return this._toModelOffset(e.parent,e.index,s)+this._toModelOffset(e,r,e);if(e.is("$text"))return r;let l=0;for(let f=0;f<r;f++)l+=this.getModelLength(e.getChild(f));return l}getModelLength(e){const r=[e];let s=0;for(;r.length>0;){const l=r.pop(),f=l.name&&this._viewToModelLengthCallbacks.size>0&&this._viewToModelLengthCallbacks.get(l.name);if(f)s+=f(l);else if(this._viewToModelMapping.has(l))s+=1;else if(l.is("$text"))s+=l.data.length;else{if(l.is("uiElement"))continue;for(const b of l.getChildren())r.push(b)}}return s}findPositionIn(e,r){if(r===0)return this._moveViewPositionToTextNode(new Qt(e,0));if(this._viewToModelLengthCallbacks.size==0&&this._viewToModelMapping.has(e)){const s=this._cache.getClosest(e,r);return this._findPositionStartingFrom(s.viewPosition,s.modelOffset,r,e,!0)}return this._findPositionStartingFrom(new Qt(e,0),0,r,e,!1)}_findPositionStartingFrom(e,r,s,l,f){let b,A=e.parent,S=e.offset;if(A.is("$text"))return new Qt(A,s-r);let T=r,O=0;for(;T<s;)if(b=A.getChild(S),b)O=this.getModelLength(b),T+=O,S++,f&&this._cache.save(A,S,l,T);else{if(A==l)throw new U("mapping-model-offset-not-found",this,{modelOffset:s,viewContainer:l});S=A.parent.getChildIndex(A)+1,A=A.parent}return T==s?this._moveViewPositionToTextNode(new Qt(A,S)):this._findPositionStartingFrom(new Qt(b,0),T-O,s,l,f)}_moveViewPositionToTextNode(e){const r=e.nodeBefore,s=e.nodeAfter;return r&&r.is("view:$text")?new Qt(r,r.data.length):s&&s.is("view:$text")?new Qt(s,0):e}}class t1 extends ke(){constructor(){super(...arguments),this._cachedMapping=new WeakMap,this._nodeToCacheListIndex=new WeakMap,this._invalidateOnChildrenChangeCallback=(e,r,s)=>{this._clearCacheInsideParent(r,s.index)},this._invalidateOnTextChangeCallback=(e,r)=>{this._clearCacheStartingBefore(r)}}save(e,r,s,l){const f=this._cachedMapping.get(s),b=f.cacheMap.get(l);if(b){const T=e.getChild(r-1),O=b.viewPosition.nodeBefore?this._nodeToCacheListIndex.get(b.viewPosition.nodeBefore):0;return void this._nodeToCacheListIndex.set(T,O)}const A={viewPosition:new Qt(e,r),modelOffset:l};f.maxModelOffset=l>f.maxModelOffset?l:f.maxModelOffset,f.cacheMap.set(l,A);let S=f.cacheList.length-1;for(;S>=0&&f.cacheList[S].modelOffset>l;)S--;if(f.cacheList.splice(S+1,0,A),r>0){const T=e.getChild(r-1);this._nodeToCacheListIndex.set(T,S+1)}}getClosest(e,r){const s=this._cachedMapping.get(e);let l;s?r>s.maxModelOffset?l=s.cacheList[s.cacheList.length-1]:l=s.cacheMap.get(r)||this._findInCacheList(s.cacheList,r):l=this.startTracking(e);const f=this._hoistViewPosition(l.viewPosition);return{modelOffset:l.modelOffset,viewPosition:f}}_hoistViewPosition(e){for(;e.parent.parent&&!this._cachedMapping.has(e.parent)&&e.isAtEnd;){const r=e.parent.parent,s=r.getChildIndex(e.parent)+1;e=new Qt(r,s)}return e}startTracking(e){const r={viewPosition:new Qt(e,0),modelOffset:0},s={maxModelOffset:0,cacheList:[r],cacheMap:new Map([[0,r]])};return this._cachedMapping.set(e,s),e.on("change:children",this._invalidateOnChildrenChangeCallback),e.on("change:text",this._invalidateOnTextChangeCallback),r}stopTracking(e){e.off("change:children",this._invalidateOnChildrenChangeCallback),e.off("change:text",this._invalidateOnTextChangeCallback),this._cachedMapping.delete(e)}_clearCacheInsideParent(e,r){if(r==0)this._cachedMapping.has(e)?this._clearCacheAll(e):this._clearCacheStartingBefore(e);else{const s=e.getChild(r-1);this._clearCacheStartingBefore(s)}}_clearCacheAll(e){const r=this._cachedMapping.get(e);r.maxModelOffset>0&&(r.maxModelOffset=0,r.cacheList.length=1,r.cacheMap.clear(),r.cacheMap.set(0,r.cacheList[0]))}_clearCacheStartingBefore(e){const r=this._nodeToCacheListIndex.get(e);if(r===void 0){const l=e.parent;return void(this._cachedMapping.has(l)||this._clearCacheStartingBefore(l))}let s=e.parent;for(;!this._cachedMapping.has(s);)s=s.parent;this._clearCacheFromIndex(s,r)}_clearCacheFromIndex(e,r){r===0&&(r=1);const s=this._cachedMapping.get(e),l=s.cacheList[r-1];if(!l)return;s.maxModelOffset=l.modelOffset;const f=s.cacheList.splice(r);for(const b of f){s.cacheMap.delete(b.modelOffset);const A=b.viewPosition.nodeBefore;this._nodeToCacheListIndex.delete(A)}}_findInCacheList(e,r){let s=0,l=e.length-1,f=l-s>>1,b=e[f];for(;s<l;)b.modelOffset<r?s=f+1:l=f-1,f=s+(l-s>>1),b=e[f];return b.modelOffset<=r?b:e[f-1]}}class rc{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,r){r=Vd(r),e instanceof Fn&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(r,!0)}consume(e,r){return r=Vd(r),e instanceof Fn&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,r)&&(this._consumable.get(e).set(r,!1),!0)}test(e,r){r=Vd(r),e instanceof Fn&&(e=this._getSymbolForTextProxy(e));const s=this._consumable.get(e);if(s===void 0)return null;const l=s.get(r);return l===void 0?null:l}revert(e,r){r=Vd(r),e instanceof Fn&&(e=this._getSymbolForTextProxy(e));const s=this.test(e,r);return s===!1?(this._consumable.get(e).set(r,!0),!0):s!==!0&&null}verifyAllConsumed(e){const r=[];for(const[s,l]of this._consumable)for(const[f,b]of l){const A=f.split(":")[0];b&&e==A&&r.push({event:f,item:s.name||s.description})}if(r.length)throw new U("conversion-model-consumable-not-consumed",null,{items:r})}_getSymbolForTextProxy(e){let r=null;const s=this._textProxyRegistry.get(e.startOffset);if(s){const l=s.get(e.endOffset);l&&(r=l.get(e.parent))}return r||(r=this._addSymbolForTextProxy(e)),r}_addSymbolForTextProxy(e){const r=e.startOffset,s=e.endOffset,l=e.parent,f=Symbol("$textProxy:"+e.data);let b,A;return b=this._textProxyRegistry.get(r),b||(b=new Map,this._textProxyRegistry.set(r,b)),A=b.get(s),A||(A=new Map,b.set(s,A)),A.set(l,f),f}}function Vd(u){const e=u.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?u:e.length>1?e[0]+":"+e[1]:e[0]}class Wp extends ke(){constructor(e){super(),this._conversionApi={dispatcher:this,...e},this._firedEventsMap=new WeakMap}convertChanges(e,r,s){const l=this._createConversionApi(s,e.getRefreshedItems());for(const b of e.getMarkersToRemove())this._convertMarkerRemove(b.name,b.range,l);const f=this._reduceChanges(e.getChanges());for(const b of f)b.type==="insert"?this._convertInsert(ut._createFromPositionAndShift(b.position,b.length),l):b.type==="reinsert"?this._convertReinsert(ut._createFromPositionAndShift(b.position,b.length),l):b.type==="remove"?this._convertRemove(b.position,b.length,b.name,l):this._convertAttribute(b.range,b.attributeKey,b.attributeOldValue,b.attributeNewValue,l);l.mapper.flushDeferredBindings();for(const b of l.mapper.flushUnboundMarkerNames()){const A=r.get(b).getRange();this._convertMarkerRemove(b,A,l),this._convertMarkerAdd(b,A,l)}for(const b of e.getMarkersToAdd())this._convertMarkerAdd(b.name,b.range,l);l.consumable.verifyAllConsumed("insert")}convert(e,r,s,l={}){const f=this._createConversionApi(s,void 0,l);this._convertInsert(e,f);for(const[b,A]of r)this._convertMarkerAdd(b,A,f);f.consumable.verifyAllConsumed("insert")}convertSelection(e,r,s){const l=this._createConversionApi(s);this.fire("cleanSelection",{selection:e},l);const f=e.getFirstPosition().root;if(!l.mapper.toViewElement(f))return;const b=Array.from(r.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(l.consumable,e,b),this.fire("selection",{selection:e},l),e.isCollapsed){for(const A of b)if(l.consumable.test(e,"addMarker:"+A.name)){const S=A.getRange();if(!Za(e.getFirstPosition(),A,l.mapper))continue;const T={item:e,markerName:A.name,markerRange:S};this.fire(`addMarker:${A.name}`,T,l)}for(const A of e.getAttributeKeys())if(l.consumable.test(e,"attribute:"+A)){const S={item:e,range:e.getFirstRange(),attributeKey:A,attributeOldValue:null,attributeNewValue:e.getAttribute(A)};this.fire(`attribute:${A}:$text`,S,l)}}}_convertInsert(e,r,s={}){s.doNotAddConsumables||this._addConsumablesForInsert(r.consumable,e);for(const l of e.getWalker({shallow:!0}))this._testAndFire("insert",Wb(l),r)}_convertRemove(e,r,s,l){this.fire(`remove:${s}`,{position:e,length:r},l)}_convertAttribute(e,r,s,l,f){this._addConsumablesForRange(f.consumable,e,`attribute:${r}`);for(const b of e){const A={item:b.item,range:ut._createFromPositionAndShift(b.previousPosition,b.length),attributeKey:r,attributeOldValue:s,attributeNewValue:l};this._testAndFire(`attribute:${r}`,A,f)}}_convertReinsert(e,r){const s=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(r.consumable,s);for(const l of s.map(Wb))this._testAndFire("insert",{...l,reconversion:!0},r)}_convertMarkerAdd(e,r,s){if(r.root.rootName=="$graveyard")return;const l=`addMarker:${e}`;if(s.consumable.add(r,l),this.fire(l,{markerName:e,markerRange:r},s),s.consumable.consume(r,l)){this._addConsumablesForRange(s.consumable,r,l);for(const f of r.getItems()){if(!s.consumable.test(f,l))continue;const b={item:f,range:ut._createOn(f),markerName:e,markerRange:r};this.fire(l,b,s)}}}_convertMarkerRemove(e,r,s){r.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:r},s)}_reduceChanges(e){const r={changes:e};return this.fire("reduceChanges",r),r.changes}_addConsumablesForInsert(e,r){for(const s of r){const l=s.item;if(e.test(l,"insert")===null){e.add(l,"insert");for(const f of l.getAttributeKeys())e.add(l,"attribute:"+f)}}return e}_addConsumablesForRange(e,r,s){for(const l of r.getItems())e.add(l,s);return e}_addConsumablesForSelection(e,r,s){e.add(r,"selection");for(const l of s)e.add(r,"addMarker:"+l.name);for(const l of r.getAttributeKeys())e.add(r,"attribute:"+l);return e}_testAndFire(e,r,s){const l=function(S,T){const O=T.item.is("element")?T.item.name:"$text";return`${S}:${O}`}(e,r),f=r.item.is("$textProxy")?s.consumable._getSymbolForTextProxy(r.item):r.item,b=this._firedEventsMap.get(s),A=b.get(f);if(A){if(A.has(l))return;A.add(l)}else b.set(f,new Set([l]));this.fire(l,r,s)}_testAndFireAddAttributes(e,r){const s={item:e,range:ut._createOn(e)};for(const l of s.item.getAttributeKeys())s.attributeKey=l,s.attributeOldValue=null,s.attributeNewValue=s.item.getAttribute(l),this._testAndFire(`attribute:${l}`,s,r)}_createConversionApi(e,r=new Set,s={}){const l={...this._conversionApi,consumable:new rc,writer:e,options:s,convertItem:f=>this._convertInsert(ut._createOn(f),l),convertChildren:f=>this._convertInsert(ut._createIn(f),l,{doNotAddConsumables:!0}),convertAttributes:f=>this._testAndFireAddAttributes(f,l),canReuseView:f=>!r.has(l.mapper.toModelElement(f))};return this._firedEventsMap.set(l,new Map),l}}function Za(u,e,r){const s=e.getRange(),l=Array.from(u.getAncestors());return l.shift(),l.reverse(),!l.some(f=>{if(s.containsItem(f))return!!r.toViewElement(f).getCustomProperty("addHighlight")})}function Wb(u){return{item:u.item,range:ut._createFromPositionAndShift(u.previousPosition,u.length)}}class Hd extends Lr{constructor(e){super(),this.parent=null,this._index=null,this._startOffset=null,this._attrs=ie(e)}get document(){return null}get index(){return this._index}get startOffset(){return this._startOffset}get offsetSize(){return 1}get endOffset(){return this.startOffset===null?null:this.startOffset+this.offsetSize}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const e=[];let r=this;for(;r.parent;)e.unshift(r.startOffset),r=r.parent;return e}getAncestors(e={}){const r=[];let s=e.includeSelf?this:this.parent;for(;s;)r[e.parentFirst?"push":"unshift"](s),s=s.parent;return r}getCommonAncestor(e,r={}){const s=this.getAncestors(r),l=e.getAncestors(r);let f=0;for(;s[f]==l[f]&&s[f];)f++;return f===0?null:s[f-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const r=this.getPath(),s=e.getPath(),l=pt(r,s);switch(l){case"prefix":return!0;case"extension":return!1;default:return r[l]<s[l]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((r,s)=>(r[s[0]]=s[1],r),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,r){this._attrs.set(e,r)}_setAttributesTo(e){this._attrs=ie(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}Hd.prototype.is=function(u){return u==="node"||u==="model:node"};class aa extends ke(Lr){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const r of this._ranges){let s=!1;for(const l of e._ranges)if(r.isEqual(l)){s=!0;break}if(!s)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new ut(e.start,e.end)}getFirstRange(){let e=null;for(const r of this._ranges)e&&!r.start.isBefore(e.start)||(e=r);return e?new ut(e.start,e.end):null}getLastRange(){let e=null;for(const r of this._ranges)e&&!r.end.isAfter(e.end)||(e=r);return e?new ut(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[r,s,l]=e;if(typeof s=="object"&&(l=s,s=void 0),r===null)this._setRanges([]);else if(r instanceof aa)this._setRanges(r.getRanges(),r.isBackward);else if(r&&typeof r.getRanges=="function")this._setRanges(r.getRanges(),r.isBackward);else if(r instanceof ut)this._setRanges([r],!!l&&!!l.backward);else if(r instanceof Ot)this._setRanges([new ut(r)]);else if(r instanceof Hd){const f=!!l&&!!l.backward;let b;if(s=="in")b=ut._createIn(r);else if(s=="on")b=ut._createOn(r);else{if(s===void 0)throw new U("model-selection-setto-required-second-parameter",[this,r]);b=new ut(Ot._createAt(r,s))}this._setRanges([b],f)}else{if(!He(r))throw new U("model-selection-setto-not-selectable",[this,r]);this._setRanges(r,l&&!!l.backward)}}_setRanges(e,r=!1){const s=Array.from(e),l=s.some(f=>{if(!(f instanceof ut))throw new U("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(b=>!b.isEqual(f))});(s.length!==this._ranges.length||l)&&(this._replaceAllRanges(s),this._lastRangeBackward=!!r,this.fire("change:range",{directChange:!0}))}setFocus(e,r){if(this.anchor===null)throw new U("model-selection-setfocus-no-ranges",[this,e]);const s=Ot._createAt(e,r);if(s.compareWith(this.focus)=="same")return;const l=this.anchor;this._ranges.length&&this._popRange(),s.compareWith(l)=="before"?(this._pushRange(new ut(s,l)),this._lastRangeBackward=!0):(this._pushRange(new ut(l,s)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,r){this.getAttribute(e)!==r&&(this._attrs.set(e,r),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const r of this.getRanges()){const s=Ms(r.start,e);Gp(s,r)&&(yield s);const l=r.getWalker();for(const b of l){const A=b.item;b.type=="elementEnd"&&Rh(A,e,r)?yield A:b.type=="elementStart"&&A.is("model:element")&&A.root.document.model.schema.isBlock(A)&&l.jumpTo(Ot._createAt(A,"end"))}const f=Ms(r.end,e);Yp(f,r)&&(yield f)}}containsEntireContent(e=this.anchor.root){const r=Ot._createAt(e,0),s=Ot._createAt(e,"end");return r.isTouching(this.getFirstPosition())&&s.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new ut(e.start,e.end))}_checkRange(e){for(let r=0;r<this._ranges.length;r++)if(e.isIntersecting(this._ranges[r]))throw new U("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[r]})}_replaceAllRanges(e){this._removeAllRanges();for(const r of e)this._pushRange(r)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function wg(u,e){return!e.has(u)&&(e.add(u),u.root.document.model.schema.isBlock(u)&&!!u.parent)}function Rh(u,e,r){return wg(u,e)&&Hu(u,r)}function Ms(u,e){const r=u.parent.root.document.model.schema,s=u.parent.getAncestors({parentFirst:!0,includeSelf:!0});let l=!1;const f=s.find(b=>!l&&(l=r.isLimit(b),!l&&wg(b,e)));return s.forEach(b=>e.add(b)),f}function Hu(u,e){const r=function(s){const l=s.root.document.model.schema;let f=s.parent;for(;f;){if(l.isBlock(f))return f;f=f.parent}}(u);return r?!e.containsRange(ut._createOn(r),!0):!0}function Gp(u,e){return!!u&&(!(!e.isCollapsed&&!u.isEmpty)||!e.start.isTouching(Ot._createAt(u,u.maxOffset))&&Hu(u,e))}function Yp(u,e){return!!u&&(!(!e.isCollapsed&&!u.isEmpty)||!e.end.isTouching(Ot._createAt(u,0))&&Hu(u,e))}aa.prototype.is=function(u){return u==="selection"||u==="model:selection"};class la extends ke(ut){constructor(e,r){super(e,r),n1.call(this)}detach(){this.stopListening()}toRange(){return new ut(this.start,this.end)}static fromRange(e){return new la(e.start,e.end)}}function n1(){this.listenTo(this.root.document.model,"applyOperation",(u,e)=>{const r=e[0];r.isDocumentOperation&&KA.call(this,r)},{priority:"low"})}function KA(u){const e=this.getTransformedByOperation(u),r=ut._createFromRanges(e),s=!r.isEqual(this),l=function(b,A){switch(A.type){case"insert":return b.containsPosition(A.position);case"move":case"remove":case"reinsert":case"merge":return b.containsPosition(A.sourcePosition)||b.start.isEqual(A.sourcePosition)||b.containsPosition(A.targetPosition);case"split":return b.containsPosition(A.splitPosition)||b.containsPosition(A.insertionPosition)}return!1}(this,u);let f=null;if(s){r.root.rootName=="$graveyard"&&(f=u.type=="remove"?u.sourcePosition:u.deletionPosition);const b=this.toRange();this.start=r.start,this.end=r.end,this.fire("change:range",b,{deletionPosition:f})}else l&&this.fire("change:content",this.toRange(),{deletionPosition:f})}la.prototype.is=function(u){return u==="liveRange"||u==="model:liveRange"||u=="range"||u==="model:range"};class Jr extends Hd{constructor(e,r){super(r),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new Jr(this.data,this.getAttributes())}static fromJSON(e){return new Jr(e.data,e.attributes)}}Jr.prototype.is=function(u){return u==="$text"||u==="model:$text"||u==="text"||u==="model:text"||u==="node"||u==="model:node"};const Kp="selection:";class no extends ke(Lr){constructor(e){super(),this._selection=new QA(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,r){this._selection.setFocus(e,r)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,r){this._selection.setAttribute(e,r)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return Kp+e}static _isStoreAttributeKey(e){return e.startsWith(Kp)}}no.prototype.is=function(u){return u==="selection"||u=="model:selection"||u=="documentSelection"||u=="model:documentSelection"};class QA extends aa{constructor(e){super(),this.markers=new So({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(r,s)=>{const l=s[0];l.isDocumentOperation&&l.type!="marker"&&l.type!="rename"&&l.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(r,s,l,f)=>{this._updateMarker(s,f)}),this.listenTo(this._document,"change",(r,s)=>{(function(l,f){const b=l.document.differ;for(const A of b.getChanges()){if(A.type!="insert")continue;const S=A.position.parent;A.length===S.maxOffset&&l.enqueueChange(f,T=>{const O=Array.from(S.getAttributeKeys()).filter(P=>P.startsWith(Kp));for(const P of O)T.removeAttribute(P,S)})}})(this._model,s)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,r){super.setFocus(e,r),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,r){if(this._setAttribute(e,r)){const s=[e];this.fire("change:attribute",{attributeKeys:s,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const r=[e];this.fire("change:attribute",{attributeKeys:r,directChange:!0})}}overrideGravity(){const e=ae();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new U("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const r=this._prepareRange(e);r&&this._ranges.push(r)}_validateSelectionRanges(e){for(const r of e)if(!this._document._validateSelectionRange(r))throw new U("document-selection-wrong-position",this,{range:r})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const r=la.fromRange(e);return r.on("change:range",(s,l,f)=>{if(this._hasChangedRange=!0,r.root==this._document.graveyard){this._selectionRestorePosition=f.deletionPosition;const b=this._ranges.indexOf(r);this._ranges.splice(b,1),r.detach()}}),r}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let r=!1;for(const l of this._model.markers){const f=l.name.split(":",1)[0];if(!this._observedMarkers.has(f))continue;const b=l.getRange();for(const A of this.getRanges())b.containsRange(A,!A.isCollapsed)&&e.push(l)}const s=Array.from(this.markers);for(const l of e)this.markers.has(l)||(this.markers.add(l),r=!0);for(const l of Array.from(this.markers))e.includes(l)||(this.markers.remove(l),r=!0);r&&this.fire("change:marker",{oldMarkers:s,directChange:!1})}_updateMarker(e,r){const s=e.name.split(":",1)[0];if(!this._observedMarkers.has(s))return;let l=!1;const f=Array.from(this.markers),b=this.markers.has(e);if(r){let A=!1;for(const S of this.getRanges())if(r.containsRange(S,!S.isCollapsed)){A=!0;break}A&&!b?(this.markers.add(e),l=!0):!A&&b&&(this.markers.remove(e),l=!0)}else b&&(this.markers.remove(e),l=!0);l&&this.fire("change:marker",{oldMarkers:f,directChange:!1})}_updateAttributes(e){const r=ie(this._getSurroundingAttributes()),s=ie(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[f,b]of this._attributePriority)b=="low"&&(this._attrs.delete(f),this._attributePriority.delete(f));this._setAttributesTo(r);const l=[];for(const[f,b]of this.getAttributes())s.has(f)&&s.get(f)===b||l.push(f);for(const[f]of s)this.hasAttribute(f)||l.push(f);l.length>0&&this.fire("change:attribute",{attributeKeys:l,directChange:!1})}_setAttribute(e,r,s=!0){const l=s?"normal":"low";return l=="low"&&this._attributePriority.get(e)=="normal"?!1:super.getAttribute(e)!==r&&(this._attrs.set(e,r),this._attributePriority.set(e,l),!0)}_removeAttribute(e,r=!0){const s=r?"normal":"low";return(s!="low"||this._attributePriority.get(e)!="normal")&&(this._attributePriority.set(e,s),!!super.hasAttribute(e)&&(this._attrs.delete(e),!0))}_setAttributesTo(e){const r=new Set;for(const[s,l]of this.getAttributes())e.get(s)!==l&&this._removeAttribute(s,!1);for(const[s,l]of e)this._setAttribute(s,l,!1)&&r.add(s);return r}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const r of e.getAttributeKeys())r.startsWith(Kp)&&(yield[r.substr(10),e.getAttribute(r)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),r=this._model.schema;if(e.root.rootName=="$graveyard")return null;let s=null;if(this.isCollapsed){const l=e.textNode?e.textNode:e.nodeBefore,f=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(s=Xs(l,r)),s||(s=Xs(f,r)),!this.isGravityOverridden&&!s){let b=l;for(;b&&!s;)b=b.previousSibling,s=Xs(b,r)}if(!s){let b=f;for(;b&&!s;)b=b.nextSibling,s=Xs(b,r)}s||(s=this.getStoredAttributes())}else{const l=this.getFirstRange();for(const f of l){if(f.item.is("element")&&r.isObject(f.item)){s=Xs(f.item,r);break}if(f.type=="text"){s=f.item.getAttributes();break}}}return s}_fixGraveyardSelection(e){const r=this._model.schema.getNearestSelectionRange(e);r&&this._pushRange(r)}}function Xs(u,e){if(!u)return null;if(u instanceof Fn||u instanceof Jr)return u.getAttributes();if(!e.isInline(u))return null;if(!e.isObject(u))return[];const r=[];for(const[s,l]of u.getAttributes())e.checkAttribute("$text",s)&&e.getAttributeProperties(s).copyFromObject!==!1&&r.push([s,l]);return r}class Qp{constructor(e){this._nodes=[],this._offsetToNode=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._offsetToNode.length}getNode(e){return this._nodes[e]||null}getNodeAtOffset(e){return this._offsetToNode[e]||null}getNodeIndex(e){return e.index}getNodeStartOffset(e){return e.startOffset}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const r=this._nodes[e];if(!r)throw new U("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(r)}offsetToIndex(e){if(e==this._offsetToNode.length)return this._nodes.length;const r=this._offsetToNode[e];if(!r)throw new U("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.getNodeIndex(r)}_insertNodes(e,r){const s=[];for(const f of r){if(!(f instanceof Hd))throw new U("model-nodelist-insertnodes-not-node",this);s.push(f)}let l=this.indexToOffset(e);pe(this._nodes,s,e),pe(this._offsetToNode,function(f){const b=[];let A=0;for(const S of f)for(let T=0;T<S.offsetSize;T++)b[A++]=S;return b}(s),l);for(let f=e;f<this._nodes.length;f++)this._nodes[f]._index=f,this._nodes[f]._startOffset=l,l+=this._nodes[f].offsetSize}_removeNodes(e,r=1){if(r==0)return[];let s=this.indexToOffset(e);const l=this._nodes.splice(e,r),f=l[l.length-1],b=f.startOffset+f.offsetSize-s;this._offsetToNode.splice(s,b);for(const A of l)A._index=null,A._startOffset=null;for(let A=e;A<this._nodes.length;A++)this._nodes[A]._index=A,this._nodes[A]._startOffset=s,s+=this._nodes[A].offsetSize;return l}_removeNodesArray(e){if(e.length==0)return;for(const s of e)s._index=null,s._startOffset=null;this._nodes=this._nodes.filter(s=>s.index!==null),this._offsetToNode=this._offsetToNode.filter(s=>s.index!==null);let r=0;for(let s=0;s<this._nodes.length;s++)this._nodes[s]._index=s,this._nodes[s]._startOffset=r,r+=this._nodes[s].offsetSize}toJSON(){return this._nodes.map(e=>e.toJSON())}}class hi extends Hd{constructor(e,r,s){super(r),this._children=new Qp,this.name=e,s&&this._insertChild(0,s)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildAtOffset(e){return this._children.getNodeAtOffset(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let r=this;for(const s of e)r=r.getChildAtOffset(s);return r}findAncestor(e,r={}){let s=r.includeSelf?this:this.parent;for(;s;){if(s.name===e)return s;s=s.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const r of this._children)e.children.push(r.toJSON())}return e}_clone(e=!1){const r=e?function(s){const l=[];for(const f of s)l.push(f._clone(!0));return l}(this._children):void 0;return new hi(this.name,this.getAttributes(),r)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,r){const s=function(l){if(typeof l=="string")return[new Jr(l)];He(l)||(l=[l]);const f=[];for(const b of l)typeof b=="string"?f.push(new Jr(b)):b instanceof Fn?f.push(new Jr(b.data,b.getAttributes())):f.push(b);return f}(r);for(const l of s)l.parent!==null&&l._remove(),l.parent=this;this._children._insertNodes(e,s)}_removeChildren(e,r=1){const s=this._children._removeNodes(e,r);for(const l of s)l.parent=null;return s}_removeChildrenArray(e){this._children._removeNodesArray(e);for(const r of e)r.parent=null}static fromJSON(e){let r;if(e.children){r=[];for(const s of e.children)s.name?r.push(hi.fromJSON(s)):r.push(Jr.fromJSON(s))}return new hi(e.name,e.attributes,r)}}hi.prototype.is=function(u,e){return e?e===this.name&&(u==="element"||u==="model:element"):u==="element"||u==="model:element"||u==="node"||u==="model:node"};class ZA{constructor(e){this._dispatchers=e}add(e){for(const r of this._dispatchers)e(r);return this}}class zh extends ZA{elementToElement(e){return this.add(function(r){const s=o1(r.model),l=Gf(r.view,"container");return s.attributes.length&&(s.children=!0),f=>{f.on(`insert:${s.name}`,Zp(l,a1(s)),{priority:r.converterPriority||"normal"}),(s.children||s.attributes.length)&&f.on("reduceChanges",e_(s),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(r){const s=o1(r.model),l=Gf(r.view,"container");return s.children=!0,f=>{if(f._conversionApi.schema.checkChild(s.name,"$text"))throw new U("conversion-element-to-structure-disallowed-text",f,{elementName:s.name});var b,A;f.on(`insert:${s.name}`,(b=l,A=a1(s),(S,T,O)=>{if(!A(T.item,O.consumable,{preflight:!0}))return;const P=new Map;O.writer._registerSlotFactory(function(ne,le,Ce){return(je,qe)=>{const tt=je.createContainerElement("$slot");let Dt=null;if(qe==="children")Dt=Array.from(ne.getChildren());else{if(typeof qe!="function")throw new U("conversion-slot-mode-unknown",Ce.dispatcher,{modeOrFilter:qe});Dt=Array.from(ne.getChildren()).filter(Nt=>qe(Nt))}return le.set(tt,Dt),tt}}(T.item,P,O));const W=b(T.item,O,T);if(O.writer._clearSlotFactory(),!W)return;(function(ne,le,Ce){const je=Array.from(le.values()).flat(),qe=new Set(je);if(qe.size!=je.length)throw new U("conversion-slot-filter-overlap",Ce.dispatcher,{element:ne});if(qe.size!=ne.childCount)throw new U("conversion-slot-filter-incomplete",Ce.dispatcher,{element:ne})})(T.item,P,O),A(T.item,O.consumable);const ee=O.mapper.toViewPosition(T.range.start);O.mapper.bindElements(T.item,W),O.writer.insert(ee,W),O.convertAttributes(T.item),function(ne,le,Ce,je){Ce.mapper.on("modelToViewPosition",Dt,{priority:"highest"});let qe=null,tt=null;for([qe,tt]of le)l1(ne,tt,Ce,je),Ce.writer.move(Ce.writer.createRangeIn(qe),Ce.writer.createPositionBefore(qe)),Ce.writer.remove(qe);function Dt(Nt,wn){const An=wn.modelPosition.nodeAfter,Xr=tt.indexOf(An);Xr<0||(wn.viewPosition=wn.mapper.findPositionIn(qe,Xr))}Ce.mapper.off("modelToViewPosition",Dt)}(W,P,O,{reconversion:T.reconversion})}),{priority:r.converterPriority||"normal"}),f.on("reduceChanges",e_(s),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(r){r=Yc(r);let s=r.model;typeof s=="string"&&(s={key:s});let l=`attribute:${s.key}`;if(s.name&&(l+=":"+s.name),s.values)for(const b of s.values)r.view[b]=Gf(r.view[b],"attribute");else r.view=Gf(r.view,"attribute");const f=Gb(r);return b=>{b.on(l,r1(f),{priority:r.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(r){r=Yc(r);let s=r.model;typeof s=="string"&&(s={key:s});let l=`attribute:${s.key}`;if(s.name&&(l+=":"+s.name),s.values)for(const b of s.values)r.view[b]=XA(r.view[b]);else r.view=XA(r.view);const f=Gb(r);return b=>{var A;b.on(l,(A=f,(S,T,O)=>{if(!O.consumable.test(T.item,S.name))return;const P=A(T.attributeOldValue,O,T),W=A(T.attributeNewValue,O,T);if(!P&&!W)return;O.consumable.consume(T.item,S.name);const ee=O.mapper.toViewElement(T.item),ne=O.writer;if(!ee)throw new U("conversion-attribute-to-attribute-on-text",O.dispatcher,T);if(T.attributeOldValue!==null&&P){let le=P.value;P.key=="style"&&(le=typeof P.value=="string"?new Od(ne.document.stylesProcessor).setTo(P.value).getStylesEntries().map(([Ce])=>Ce):Object.keys(P.value)),ne.removeAttribute(P.key,le,ee)}if(T.attributeNewValue!==null&&W){let le=W.value;W.key=="style"&&typeof W.value=="string"&&(le=Object.fromEntries(new Od(ne.document.stylesProcessor).setTo(W.value).getStylesEntries())),ne.setAttribute(W.key,le,!1,ee)}}),{priority:r.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(r){const s=Gf(r.view,"ui");return l=>{l.on(`addMarker:${r.model}`,JA(s),{priority:r.converterPriority||"normal"}),l.on(`removeMarker:${r.model}`,(f,b,A)=>{const S=A.mapper.markerNameToElements(b.markerName);if(S){for(const T of S)A.mapper.unbindElementFromMarkerName(T,b.markerName),A.writer.clear(A.writer.createRangeOn(T),T);A.writer.clearClonedElementsGroup(b.markerName),f.stop()}},{priority:r.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(r){return s=>{var l;s.on(`addMarker:${r.model}`,(l=r.view,(f,b,A)=>{if(!b.item||!(b.item instanceof aa||b.item instanceof no||b.item.is("$textProxy")))return;const S=s1(l,b,A);if(!S||!A.consumable.consume(b.item,f.name))return;const T=A.writer,O=vg(T,S),P=T.document.selection;if(b.item instanceof aa||b.item instanceof no)T.wrap(P.getFirstRange(),O);else{const W=A.mapper.toViewRange(b.range),ee=T.wrap(W,O);for(const ne of ee.getItems())if(ne.is("attributeElement")&&ne.isSimilar(O)){A.mapper.bindElementToMarker(ne,b.markerName);break}}}),{priority:r.converterPriority||"normal"}),s.on(`addMarker:${r.model}`,function(f){return(b,A,S)=>{if(!A.item||!(A.item instanceof hi))return;const T=s1(f,A,S);if(!T||!S.consumable.test(A.item,b.name))return;const O=S.mapper.toViewElement(A.item);if(O&&O.getCustomProperty("addHighlight")){S.consumable.consume(A.item,b.name);for(const P of ut._createIn(A.item))S.consumable.consume(P.item,b.name);O.getCustomProperty("addHighlight")(O,T,S.writer),S.mapper.bindElementToMarker(O,A.markerName)}}}(r.view),{priority:r.converterPriority||"normal"}),s.on(`removeMarker:${r.model}`,function(f){return(b,A,S)=>{if(A.markerRange.isCollapsed)return;const T=s1(f,A,S);if(!T)return;const O=vg(S.writer,T),P=S.mapper.markerNameToElements(A.markerName);if(P){for(const W of P)S.mapper.unbindElementFromMarkerName(W,A.markerName),W.is("attributeElement")?S.writer.unwrap(S.writer.createRangeOn(W),O):W.getCustomProperty("removeHighlight")(W,T.id,S.writer);S.writer.clearClonedElementsGroup(A.markerName),b.stop()}}}(r.view),{priority:r.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(r){r=Yc(r);const s=r.model;let l=r.view;return l||(l=f=>({group:s,name:f.substr(r.model.length+1)})),f=>{var b;f.on(`addMarker:${s}`,(b=l,(A,S,T)=>{const O=b(S.markerName,T);if(!O)return;const P=S.markerRange;T.consumable.consume(P,A.name)&&(i1(P,!1,T,S,O),i1(P,!0,T,S,O),A.stop())}),{priority:r.converterPriority||"normal"}),f.on(`removeMarker:${s}`,function(A){return(S,T,O)=>{const P=A(T.markerName,O);if(!P)return;const W=O.mapper.markerNameToElements(T.markerName);if(W){for(const ne of W)O.mapper.unbindElementFromMarkerName(ne,T.markerName),ne.is("containerElement")?(ee(`data-${P.group}-start-before`,ne),ee(`data-${P.group}-start-after`,ne),ee(`data-${P.group}-end-before`,ne),ee(`data-${P.group}-end-after`,ne)):O.writer.clear(O.writer.createRangeOn(ne),ne);O.writer.clearClonedElementsGroup(T.markerName),S.stop()}function ee(ne,le){if(le.hasAttribute(ne)){const Ce=new Set(le.getAttribute(ne).split(","));Ce.delete(P.name),Ce.size==0?O.writer.removeAttribute(ne,le):O.writer.setAttribute(ne,Array.from(Ce).join(","),le)}}}}(l),{priority:r.converterPriority||"normal"})}}(e))}}function vg(u,e){const r=u.createAttributeElement("span",e.attributes);return e.classes&&r._addClass(e.classes),typeof e.priority=="number"&&(r._priority=e.priority),r._id=e.id,r}function r1(u){return(e,r,s)=>{if(!s.consumable.test(r.item,e.name))return;const l=u(r.attributeOldValue,s,r),f=u(r.attributeNewValue,s,r);if(!l&&!f)return;s.consumable.consume(r.item,e.name);const b=s.writer,A=b.document.selection;if(r.item instanceof aa||r.item instanceof no)b.wrap(A.getFirstRange(),f);else{let S=s.mapper.toViewRange(r.range);r.attributeOldValue!==null&&l&&(S=b.unwrap(S,l)),r.attributeNewValue!==null&&f&&b.wrap(S,f)}}}function Zp(u,e=Yb){return(r,s,l)=>{if(!e(s.item,l.consumable,{preflight:!0}))return;const f=u(s.item,l,s);if(!f)return;e(s.item,l.consumable);const b=l.mapper.toViewPosition(s.range.start);l.mapper.bindElements(s.item,f),l.writer.insert(b,f),l.convertAttributes(s.item),l1(f,s.item.getChildren(),l,{reconversion:s.reconversion})}}function JA(u){return(e,r,s)=>{r.isOpening=!0;const l=u(r,s);r.isOpening=!1;const f=u(r,s);if(!l||!f)return;const b=r.markerRange;if(b.isCollapsed&&!s.consumable.consume(b,e.name))return;for(const T of b)if(!s.consumable.consume(T.item,e.name))return;const A=s.mapper,S=s.writer;S.insert(A.toViewPosition(b.start),l),s.mapper.bindElementToMarker(l,r.markerName),b.isCollapsed||(S.insert(A.toViewPosition(b.end),f),s.mapper.bindElementToMarker(f,r.markerName)),e.stop()}}function i1(u,e,r,s,l){const f=e?u.start:u.end,b=f.nodeAfter&&f.nodeAfter.is("element")?f.nodeAfter:null,A=f.nodeBefore&&f.nodeBefore.is("element")?f.nodeBefore:null;if(b||A){let S,T;e&&b||!e&&!A?(S=b,T=!0):(S=A,T=!1);const O=r.mapper.toViewElement(S);if(O)return void function(P,W,ee,ne,le,Ce){const je=`data-${Ce.group}-${W?"start":"end"}-${ee?"before":"after"}`,qe=P.hasAttribute(je)?P.getAttribute(je).split(","):[];qe.unshift(Ce.name),ne.writer.setAttribute(je,qe.join(","),P),ne.mapper.bindElementToMarker(P,le.markerName)}(O,e,T,r,s,l)}(function(S,T,O,P,W){const ee=`${W.group}-${T?"start":"end"}`,ne=W.name?{name:W.name}:null,le=O.writer.createUIElement(ee,ne);O.writer.insert(S,le),O.mapper.bindElementToMarker(le,P.markerName)})(r.mapper.toViewPosition(f),e,r,s,l)}function o1(u){return typeof u=="string"&&(u={name:u}),{name:u.name,attributes:u.attributes?ar(u.attributes):[],children:!!u.children}}function Gf(u,e){return typeof u=="function"?u:(r,s)=>function(l,f,b){typeof l=="string"&&(l={name:l});let A;const S=f.writer,T=Object.assign({},l.attributes);if(b=="container")A=S.createContainerElement(l.name,T);else if(b=="attribute"){const O={priority:l.priority||Fu.DEFAULT_PRIORITY};A=S.createAttributeElement(l.name,T,O)}else A=S.createUIElement(l.name,T);if(l.styles){const O=Object.keys(l.styles);for(const P of O)S.setStyle(P,l.styles[P],A)}if(l.classes){const O=l.classes;if(typeof O=="string")S.addClass(O,A);else for(const P of O)S.addClass(P,A)}return A}(u,s,e)}function Gb(u){return u.model.values?(e,r,s)=>{const l=u.view[e];return l?l(e,r,s):null}:u.view}function XA(u){return typeof u=="string"?e=>({key:u,value:e}):typeof u=="object"?u.value?()=>u:e=>({key:u.key,value:e}):u}function s1(u,e,r){const s=typeof u=="function"?u(e,r):u;return s?(s.priority||(s.priority=10),s.id||(s.id=e.markerName),s):null}function e_(u){const e=function(r){return(s,l)=>{if(!s.is("element",r.name))return!1;if(l.type=="attribute"){if(r.attributes.includes(l.attributeKey))return!0}else if(r.children)return!0;return!1}}(u);return(r,s)=>{const l=[];s.reconvertedElements||(s.reconvertedElements=new Set);for(const f of s.changes){const b=f.type=="attribute"?f.range.start.nodeAfter:f.position.parent;if(b&&e(b,f)){if(!s.reconvertedElements.has(b)){s.reconvertedElements.add(b);const A=Ot._createBefore(b);let S=l.length;for(let T=l.length-1;T>=0;T--){const O=l[T],P=(O.type=="attribute"?O.range.start:O.position).compareWith(A);if(P=="before"||O.type=="remove"&&P=="same")break;S=T}l.splice(S,0,{type:"remove",name:b.name,position:A,length:1},{type:"reinsert",name:b.name,position:A,length:1})}}else l.push(f)}s.changes=l}}function a1(u){return(e,r,s={})=>{const l=["insert"];for(const f of u.attributes)e.hasAttribute(f)&&l.push(`attribute:${f}`);return!!l.every(f=>r.test(e,f))&&(s.preflight||l.forEach(f=>r.consume(e,f)),!0)}}function l1(u,e,r,s){for(const l of e)Jp(u.root,l,r,s)||r.convertItem(l)}function Jp(u,e,r,s){const{writer:l,mapper:f}=r;if(!s.reconversion)return!1;const b=f.toViewElement(e);return!(!b||b.root==u)&&!!r.canReuseView(b)&&(l.move(l.createRangeOn(b),f.toViewPosition(Ot._createBefore(e))),!0)}function Yb(u,e,{preflight:r}={}){return r?e.test(u,"insert"):e.consume(u,"insert")}function c1(u){const{schema:e,document:r}=u.model;for(const s of r.getRoots())if(s.isEmpty&&!e.checkChild(s,"$text")&&e.checkChild(s,"paragraph"))return u.insertElement("paragraph",s),!0;return!1}function u1(u,e,r){const s=r.createContext(u);return!!r.checkChild(s,"paragraph")&&!!r.checkChild(s.push("paragraph"),e)}function d1(u,e){const r=e.createElement("paragraph");return e.insert(r,u),e.createPositionAt(r,0)}class t_ extends ZA{elementToElement(e){return this.add(h1(e))}elementToAttribute(e){return this.add(function(r){r=Yc(r),f1(r);const s=p1(r,!1),l=Kb(r.view),f=l?`element:${l}`:"element";return b=>{b.on(f,s,{priority:r.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(r){r=Yc(r);let s=null;(typeof r.view=="string"||r.view.key)&&(s=function(f){typeof f.view=="string"&&(f.view={key:f.view});const b=f.view.key,A=f.view.value===void 0?/[\s\S]*/:f.view.value;let S;return b=="class"||b=="style"?S={[b=="class"?"classes":"styles"]:A}:S={attributes:{[b]:A}},f.view.name&&(S.name=f.view.name),f.view=S,b}(r)),f1(r,s);const l=p1(r,!0);return f=>{f.on("element",l,{priority:r.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(r){const s=function(l){return(f,b)=>{const A=typeof l=="string"?l:l(f,b);return b.writer.createElement("$marker",{"data-name":A})}}(r.model);return h1({...r,model:s})}(e))}dataToMarker(e){return this.add(function(r){r=Yc(r),r.model||(r.model=b=>b?r.view+":"+b:r.view);const s={view:r.view,model:r.model},l=Xp(fi(s,"start")),f=Xp(fi(s,"end"));return b=>{b.on(`element:${r.view}-start`,l,{priority:r.converterPriority||"normal"}),b.on(`element:${r.view}-end`,f,{priority:r.converterPriority||"normal"});const A=X.low,S=X.highest,T=X.get(r.converterPriority)/S;b.on("element",function(O){return(P,W,ee)=>{const ne=`data-${O.view}`;function le(Ce,je){for(const qe of je){const tt=O.model(qe,ee),Dt=ee.writer.createElement("$marker",{"data-name":tt});ee.writer.insert(Dt,Ce),W.modelCursor.isEqual(Ce)?W.modelCursor=W.modelCursor.getShiftedBy(1):W.modelCursor=W.modelCursor._getTransformedByInsertion(Ce,1),W.modelRange=W.modelRange._getTransformedByInsertion(Ce,1)[0]}}(ee.consumable.test(W.viewItem,{attributes:ne+"-end-after"})||ee.consumable.test(W.viewItem,{attributes:ne+"-start-after"})||ee.consumable.test(W.viewItem,{attributes:ne+"-end-before"})||ee.consumable.test(W.viewItem,{attributes:ne+"-start-before"}))&&(W.modelRange||Object.assign(W,ee.convertChildren(W.viewItem,W.modelCursor)),ee.consumable.consume(W.viewItem,{attributes:ne+"-end-after"})&&le(W.modelRange.end,W.viewItem.getAttribute(ne+"-end-after").split(",")),ee.consumable.consume(W.viewItem,{attributes:ne+"-start-after"})&&le(W.modelRange.end,W.viewItem.getAttribute(ne+"-start-after").split(",")),ee.consumable.consume(W.viewItem,{attributes:ne+"-end-before"})&&le(W.modelRange.start,W.viewItem.getAttribute(ne+"-end-before").split(",")),ee.consumable.consume(W.viewItem,{attributes:ne+"-start-before"})&&le(W.modelRange.start,W.viewItem.getAttribute(ne+"-start-before").split(",")))}}(s),{priority:A+T})}}(e))}}function h1(u){const e=Xp(u=Yc(u)),r=Kb(u.view),s=r?`element:${r}`:"element";return l=>{l.on(s,e,{priority:u.converterPriority||"normal"})}}function Kb(u){return typeof u=="string"?u:typeof u=="object"&&typeof u.name=="string"?u.name:null}function Xp(u){const e=new Vo(u.view);return(r,s,l)=>{const f=e.match(s.viewItem);if(!f)return;const b=f.match;if(b.name=!0,!l.consumable.test(s.viewItem,b))return;const A=function(S,T,O){return S instanceof Function?S(T,O):O.writer.createElement(S)}(u.model,s.viewItem,l);A&&l.safeInsert(A,s.modelCursor)&&(l.consumable.consume(s.viewItem,b),l.convertChildren(s.viewItem,A),l.updateConversionResult(A,s))}}function f1(u,e=null){const r=e===null||(f=>f.getAttribute(e)),s=typeof u.model!="object"?u.model:u.model.key,l=typeof u.model!="object"||u.model.value===void 0?r:u.model.value;u.model={key:s,value:l}}function p1(u,e){const r=new Vo(u.view);return(s,l,f)=>{if(!l.modelRange&&e)return;const b=r.match(l.viewItem);if(!b||(function(O,P){const W=typeof O=="function"?O(P):O;return typeof W=="object"&&!Kb(W)?!1:!W.classes&&!W.attributes&&!W.styles}(u.view,l.viewItem)?b.match.name=!0:delete b.match.name,!f.consumable.test(l.viewItem,b.match)))return;const A=u.model.key,S=typeof u.model.value=="function"?u.model.value(l.viewItem,f):u.model.value;if(S===null)return;l.modelRange||Object.assign(l,f.convertChildren(l.viewItem,l.modelCursor)),function(O,P,W,ee){let ne=!1;for(const le of Array.from(O.getItems({shallow:W})))ee.schema.checkAttribute(le,P.key)&&(ne=!0,le.hasAttribute(P.key)||ee.writer.setAttribute(P.key,P.value,le));return ne}(l.modelRange,{key:A,value:S},e,f)&&(f.consumable.test(l.viewItem,{name:!0})&&(b.match.name=!0),f.consumable.consume(l.viewItem,b.match))}}function fi(u,e){return{view:`${u.view}-${e}`,model:(r,s)=>{const l=r.getAttribute("name"),f=u.model(l,s);return s.writer.createElement("$marker",{"data-name":f})}}}function m1(u){u.document.registerPostFixer(e=>function(r,s){const l=s.document.selection,f=s.schema,b=[];let A=!1;for(const S of l.getRanges()){const T=n_(S,f);T&&!T.isEqual(S)?(b.push(T),A=!0):b.push(S)}return A&&r.setSelection(function(S){const T=[...S],O=new Set;let P=1;for(;P<T.length;){const W=T[P],ee=T.slice(0,P);for(const[ne,le]of ee.entries())if(!O.has(ne)){if(W.isEqual(le))O.add(ne);else if(W.isIntersecting(le)){O.add(ne),O.add(P);const Ce=W.getJoined(le);T.push(Ce)}}P++}return T.filter((W,ee)=>!O.has(ee))}(b),{backward:l.isBackward}),!1}(e,u))}function n_(u,e){return u.isCollapsed?function(r,s){const l=r.start,f=s.getNearestSelectionRange(l);if(!f){const A=l.getAncestors().reverse().find(S=>s.isObject(S));return A?ut._createOn(A):null}if(!f.isCollapsed)return f;const b=f.start;return l.isEqual(b)?null:new ut(b)}(u,e):function(r,s){const{start:l,end:f}=r,b=s.checkChild(l,"$text"),A=s.checkChild(f,"$text"),S=s.getLimitElement(l),T=s.getLimitElement(f);if(S===T){if(b&&A)return null;if(function(W,ee,ne){const le=W.nodeAfter&&!ne.isLimit(W.nodeAfter)||ne.checkChild(W,"$text"),Ce=ee.nodeBefore&&!ne.isLimit(ee.nodeBefore)||ne.checkChild(ee,"$text");return le||Ce}(l,f,s)){const W=l.nodeAfter&&s.isSelectable(l.nodeAfter)?null:s.getNearestSelectionRange(l,"forward"),ee=f.nodeBefore&&s.isSelectable(f.nodeBefore)?null:s.getNearestSelectionRange(f,"backward"),ne=W?W.start:l,le=ee?ee.end:f;return new ut(ne,le)}}const O=S&&!S.is("rootElement"),P=T&&!T.is("rootElement");if(O||P){const W=l.nodeAfter&&f.nodeBefore&&l.nodeAfter.parent===f.nodeBefore.parent,ee=O&&(!W||!r_(l.nodeAfter,s)),ne=P&&(!W||!r_(f.nodeBefore,s));let le=l,Ce=f;return ee&&(le=Ot._createBefore(g1(S,s))),ne&&(Ce=Ot._createAfter(g1(T,s))),new ut(le,Ce)}return null}(u,e)}function g1(u,e){let r=u,s=r;for(;e.isLimit(s)&&s.parent;)r=s,s=s.parent;return r}function r_(u,e){return u&&e.isSelectable(u)}class gS extends Ae(){constructor(e,r){super(),this.model=e,this.view=new ii(r),this.mapper=new Ph,this.downcastDispatcher=new Wp({mapper:this.mapper,schema:e.schema});const s=this.model.document,l=s.selection,f=this.model.markers;var b,A,S;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(s,"change",()=>{this.view.change(T=>{this.downcastDispatcher.convertChanges(s.differ,f,T),this.downcastDispatcher.convertSelection(l,f,T)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(T,O){return(P,W)=>{const ee=W.newSelection,ne=[];for(const Ce of ee.getRanges())ne.push(O.toModelRange(Ce));const le=T.createSelection(ne,{backward:ee.isBackward});le.isEqual(T.document.selection)||T.change(Ce=>{Ce.setSelection(le)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(b=this.mapper,A=this.model.schema,S=this.view,(T,O)=>{if(!S.document.isComposing||v.isAndroid)for(let P=0;P<O.targetRanges.length;P++){const W=O.targetRanges[P],ee=b.toModelRange(W),ne=n_(ee,A);ne&&!ne.isEqual(ee)&&(O.targetRanges[P]=b.toViewRange(ne))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(T,O,P)=>{if(!P.consumable.consume(O.item,T.name))return;const W=P.writer,ee=P.mapper.toViewPosition(O.range.start),ne=W.createText(O.item.data);W.insert(ee,ne)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(T,O,P)=>{P.convertAttributes(O.item),O.reconversion||!O.item.is("element")||O.item.isEmpty||P.convertChildren(O.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(T,O,P)=>{const W=P.mapper.toViewPosition(O.position),ee=O.position.getShiftedBy(O.length),ne=P.mapper.toViewPosition(ee,{isPhantom:!0}),le=P.writer.createRange(W,ne),Ce=P.writer.remove(le.getTrimmed());for(const je of P.writer.createRangeIn(Ce).getItems())P.mapper.unbindViewElement(je,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(T,O,P)=>{const W=P.writer,ee=W.document.selection;for(const ne of ee.getRanges())ne.isCollapsed&&ne.end.parent.isAttached()&&P.writer.mergeAttributes(ne.start);W.setSelection(null)}),this.downcastDispatcher.on("selection",(T,O,P)=>{const W=O.selection;if(W.isCollapsed||!P.consumable.consume(W,"selection"))return;const ee=[];for(const ne of W.getRanges())ee.push(P.mapper.toViewRange(ne));P.writer.setSelection(ee,{backward:W.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(T,O,P)=>{const W=O.selection;if(!W.isCollapsed||!P.consumable.consume(W,"selection"))return;const ee=P.writer,ne=W.getFirstPosition(),le=P.mapper.toViewPosition(ne),Ce=ee.breakAttributes(le);ee.setSelection(Ce)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(T=>{if(T.rootName=="$graveyard")return null;const O=new Op(this.view.document,T.name);return O.rootName=T.rootName,this.mapper.bindElements(T,O),O})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const r=typeof e=="string"?e:e.name,s=this.model.markers.get(r);if(!s)throw new U("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:r});this.model.change(()=>{this.model.markers._refresh(s)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}class bS extends Ae(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties=Object.create(null),this._customChildChecks=new Map,this._customAttributeChecks=new Map,this._genericCheckSymbol=Symbol("$generic"),this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,r)=>{r[0]=new Kc(r[0])},{priority:"highest"}),this.on("checkChild",(e,r)=>{r[0]=new Kc(r[0]),r[1]=this.getDefinition(r[1])},{priority:"highest"})}register(e,r){if(this._sourceDefinitions[e])throw new U("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},r)],this._clearCache()}extend(e,r){if(!this._sourceDefinitions[e])throw new U("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},r)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let r;return r=typeof e=="string"?e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[r]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const r=this.getDefinition(e);return!(!r||!r.isBlock)}isLimit(e){const r=this.getDefinition(e);return!!r&&!(!r.isLimit&&!r.isObject)}isObject(e){const r=this.getDefinition(e);return!!r&&!!(r.isObject||r.isLimit&&r.isSelectable&&r.isContent)}isInline(e){const r=this.getDefinition(e);return!(!r||!r.isInline)}isSelectable(e){const r=this.getDefinition(e);return!!r&&!(!r.isSelectable&&!r.isObject)}isContent(e){const r=this.getDefinition(e);return!!r&&!(!r.isContent&&!r.isObject)}checkChild(e,r){return!!r&&this._checkContextMatch(e,r)}checkAttribute(e,r){const s=this.getDefinition(e.last);if(!s)return!1;const l=this._evaluateAttributeChecks(e,r);return l!==void 0?l:s.allowAttributes.includes(r)}checkMerge(e,r){if(e instanceof Ot){const s=e.nodeBefore,l=e.nodeAfter;if(!(s instanceof hi))throw new U("schema-check-merge-no-element-before",this);if(!(l instanceof hi))throw new U("schema-check-merge-no-element-after",this);return this.checkMerge(s,l)}if(this.isLimit(e)||this.isLimit(r))return!1;for(const s of r.getChildren())if(!this.checkChild(e,s))return!1;return!0}addChildCheck(e,r){const s=r!==void 0?r:this._genericCheckSymbol,l=this._customChildChecks.get(s)||[];l.push(e),this._customChildChecks.set(s,l)}addAttributeCheck(e,r){const s=r!==void 0?r:this._genericCheckSymbol,l=this._customAttributeChecks.get(s)||[];l.push(e),this._customAttributeChecks.set(s,l)}setAttributeProperties(e,r){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),r)}getAttributeProperties(e){return this._attributeProperties[e]||Object.create(null)}getLimitElement(e){let r;for(e instanceof Ot?r=e.parent:r=(e instanceof ut?[e]:Array.from(e.getRanges())).reduce((s,l)=>{const f=l.getCommonAncestor();return s?s.getCommonAncestor(f,{includeSelf:!0}):f},null);!this.isLimit(r)&&r.parent;)r=r.parent;return r}checkAttributeInSelection(e,r){if(e.isCollapsed){const s=[...e.getFirstPosition().getAncestors(),new Jr("",e.getAttributes())];return this.checkAttribute(s,r)}{const s=e.getRanges();for(const l of s)for(const f of l)if(this.checkAttribute(f.item,r))return!0}return!1}*getValidRanges(e,r){e=function*(s){for(const l of s)yield*l.getMinimalFlatRanges()}(e);for(const s of e)yield*this._getValidRangesForRange(s,r)}getNearestSelectionRange(e,r="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new ut(e);let s,l;const f=e.getAncestors().reverse().find(b=>this.isLimit(b))||e.root;r!="both"&&r!="backward"||(s=new Jn({boundaries:ut._createIn(f),startPosition:e,direction:"backward"})),r!="both"&&r!="forward"||(l=new Jn({boundaries:ut._createIn(f),startPosition:e}));for(const b of function*(A,S){let T=!1;for(;!T;){if(T=!0,A){const O=A.next();O.done||(T=!1,yield{walker:A,value:O.value})}if(S){const O=S.next();O.done||(T=!1,yield{walker:S,value:O.value})}}}(s,l)){const A=b.walker==s?"elementEnd":"elementStart",S=b.value;if(S.type==A&&this.isObject(S.item))return ut._createOn(S.item);if(this.checkChild(S.nextPosition,"$text"))return new ut(S.nextPosition)}return null}findAllowedParent(e,r){let s=e.parent;for(;s;){if(this.checkChild(s,r))return s;if(this.isLimit(s))return null;s=s.parent}return null}setAllowedAttributes(e,r,s){const l=s.model;for(const[f,b]of Object.entries(r))l.schema.checkAttribute(e,f)&&s.setAttribute(f,b,e)}removeDisallowedAttributes(e,r){for(const s of e)if(s.is("$text"))a_(this,s,r);else{const l=ut._createIn(s).getPositions();for(const f of l)a_(this,f.nodeBefore||f.parent,r)}}getAttributesWithProperty(e,r,s){const l={};for(const[f,b]of e.getAttributes()){const A=this.getAttributeProperties(f);A[r]!==void 0&&(s!==void 0&&s!==A[r]||(l[f]=b))}return l}createContext(e){return new Kc(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},r=this._sourceDefinitions,s=Object.keys(r);for(const f of s)e[f]=em(r[f],f);const l=Object.values(e);for(const f of l)b1(e,f),Qb(e,f),k1(e,f),Yf(e,f);for(const f of l)$u(e,f);for(const f of l)yg(e,f);for(const f of l)kS(e,f);for(const f of l)i_(e,f);for(const f of l)o_(e,f);this._compiledDefinitions=function(f){const b={};for(const A of Object.values(f))b[A.name]={name:A.name,isBlock:!!A.isBlock,isContent:!!A.isContent,isInline:!!A.isInline,isLimit:!!A.isLimit,isObject:!!A.isObject,isSelectable:!!A.isSelectable,allowIn:Array.from(A.allowIn).filter(S=>!!f[S]),allowChildren:Array.from(A.allowChildren).filter(S=>!!f[S]),allowAttributes:Array.from(A.allowAttributes)};return b}(e)}_checkContextMatch(e,r){const s=e.last;let l=this._evaluateChildChecks(e,r);if(l=l!==void 0?l:r.allowIn.includes(s.name),!l)return!1;const f=this.getDefinition(s),b=e.trimLast();return!!f&&(b.length==0||this._checkContextMatch(b,f))}_evaluateChildChecks(e,r){const s=this._customChildChecks.get(this._genericCheckSymbol)||[],l=this._customChildChecks.get(r.name)||[];for(const f of[...s,...l]){const b=f(e,r);if(b!==void 0)return b}}_evaluateAttributeChecks(e,r){const s=this._customAttributeChecks.get(this._genericCheckSymbol)||[],l=this._customAttributeChecks.get(r)||[];for(const f of[...s,...l]){const b=f(e,r);if(b!==void 0)return b}}*_getValidRangesForRange(e,r){let s=e.start,l=e.start;for(const f of e.getItems({shallow:!0}))f.is("element")&&(yield*this._getValidRangesForRange(ut._createIn(f),r)),this.checkAttribute(f,r)||(s.isEqual(l)||(yield new ut(s,l)),s=Ot._createAfter(f)),l=Ot._createAfter(f);s.isEqual(l)||(yield new ut(s,l))}findOptimalInsertionRange(e,r){const s=e.getSelectedElement();if(s&&this.isObject(s)&&!this.isInline(s))return r=="before"||r=="after"?new ut(Ot._createAt(s,r)):ut._createOn(s);const l=qo(e.getSelectedBlocks());if(!l)return new ut(e.focus);if(l.isEmpty)return new ut(Ot._createAt(l,0));const f=Ot._createAfter(l);return e.focus.isTouching(f)?new ut(f):new ut(Ot._createBefore(l))}}class Kc{constructor(e){if(e instanceof Kc)return e;let r;r=typeof e=="string"?[e]:Array.isArray(e)?e:e.getAncestors({includeSelf:!0}),this._items=r.map(s_)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const r=new Kc([e]);return r._items=[...this._items,...r._items],r}trimLast(){const e=new Kc([]);return e._items=this._items.slice(0,-1),e}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function em(u,e){const r={name:e,allowIn:new Set,allowChildren:new Set,disallowIn:new Set,disallowChildren:new Set,allowContentOf:new Set,allowWhere:new Set,allowAttributes:new Set,disallowAttributes:new Set,allowAttributesOf:new Set,inheritTypesFrom:new Set};return function(s,l){for(const f of s){const b=Object.keys(f).filter(A=>A.startsWith("is"));for(const A of b)l[A]=!!f[A]}}(u,r),Qc(u,r,"allowIn"),Qc(u,r,"allowChildren"),Qc(u,r,"disallowIn"),Qc(u,r,"disallowChildren"),Qc(u,r,"allowContentOf"),Qc(u,r,"allowWhere"),Qc(u,r,"allowAttributes"),Qc(u,r,"disallowAttributes"),Qc(u,r,"allowAttributesOf"),Qc(u,r,"inheritTypesFrom"),function(s,l){for(const f of s){const b=f.inheritAllFrom;b&&(l.allowContentOf.add(b),l.allowWhere.add(b),l.allowAttributesOf.add(b),l.inheritTypesFrom.add(b))}}(u,r),r}function b1(u,e){for(const r of e.allowIn){const s=u[r];s?s.allowChildren.add(e.name):e.allowIn.delete(r)}}function Qb(u,e){for(const r of e.allowChildren){const s=u[r];s?s.allowIn.add(e.name):e.allowChildren.delete(r)}}function k1(u,e){for(const r of e.disallowIn){const s=u[r];s?s.disallowChildren.add(e.name):e.disallowIn.delete(r)}}function Yf(u,e){for(const r of e.disallowChildren){const s=u[r];s?s.disallowIn.add(e.name):e.disallowChildren.delete(r)}}function $u(u,e){for(const r of e.disallowChildren)e.allowChildren.delete(r);for(const r of e.disallowIn)e.allowIn.delete(r);for(const r of e.disallowAttributes)e.allowAttributes.delete(r)}function yg(u,e){for(const r of e.allowContentOf){const s=u[r];s&&(s.disallowChildren.forEach(l=>{e.allowChildren.has(l)||(e.disallowChildren.add(l),u[l].disallowIn.add(e.name))}),s.allowChildren.forEach(l=>{e.disallowChildren.has(l)||(e.allowChildren.add(l),u[l].allowIn.add(e.name))}))}}function kS(u,e){for(const r of e.allowWhere){const s=u[r];s&&(s.disallowIn.forEach(l=>{e.allowIn.has(l)||(e.disallowIn.add(l),u[l].disallowChildren.add(e.name))}),s.allowIn.forEach(l=>{e.disallowIn.has(l)||(e.allowIn.add(l),u[l].allowChildren.add(e.name))}))}}function i_(u,e){for(const r of e.allowAttributesOf){const s=u[r];if(!s)return;s.allowAttributes.forEach(l=>{e.disallowAttributes.has(l)||e.allowAttributes.add(l)})}}function o_(u,e){for(const r of e.inheritTypesFrom){const s=u[r];if(s){const l=Object.keys(s).filter(f=>f.startsWith("is"));for(const f of l)f in e||(e[f]=s[f])}}}function Qc(u,e,r){for(const s of u){let l=s[r];typeof l=="string"&&(l=[l]),Array.isArray(l)&&l.forEach(f=>e[r].add(f))}}function s_(u){return typeof u=="string"||u.is("documentFragment")?{name:typeof u=="string"?u:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:u.is("element")?u.name:"$text",*getAttributeKeys(){yield*u.getAttributeKeys()},getAttribute:e=>u.getAttribute(e)}}function a_(u,e,r){for(const s of e.getAttributeKeys())u.checkAttribute(e,s)||r.removeAttribute(s,e)}class w1 extends ke(){constructor(e){super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi={...e,consumable:null,writer:null,store:null,convertItem:(r,s)=>this._convertItem(r,s),convertChildren:(r,s)=>this._convertChildren(r,s),safeInsert:(r,s)=>this._safeInsert(r,s),updateConversionResult:(r,s)=>this._updateConversionResult(r,s),splitToAllowedParent:(r,s)=>this._splitToAllowedParent(r,s),getSplitParts:r=>this._getSplitParts(r),keepEmptyElement:r=>this._keepEmptyElement(r)}}convert(e,r,s=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(b,A){let S;for(const T of new Kc(b)){const O={};for(const W of T.getAttributeKeys())O[W]=T.getAttribute(W);const P=A.createElement(T.name,O);S&&A.insert(P,S),S=Ot._createAt(P,0)}return S}(s,r),this.conversionApi.writer=r,this.conversionApi.consumable=Nd.createFrom(e),this.conversionApi.store={};const{modelRange:l}=this._convertItem(e,this._modelCursor),f=r.createDocumentFragment();if(l){this._removeEmptyElements();const b=this._modelCursor.parent,A=b._removeChildren(0,b.childCount);f._insertChild(0,A),f.markers=function(S,T){const O=new Set,P=new Map,W=ut._createIn(S).getItems();for(const ee of W)ee.is("element","$marker")&&O.add(ee);for(const ee of O){const ne=ee.getAttribute("data-name"),le=T.createPositionBefore(ee);P.has(ne)?P.get(ne).end=le.clone():P.set(ne,new ut(le.clone())),T.remove(ee)}return P}(f,r)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,f}_convertItem(e,r){const s={viewItem:e,modelCursor:r,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,s,this.conversionApi):e.is("$text")?this.fire("text",s,this.conversionApi):this.fire("documentFragment",s,this.conversionApi),s.modelRange&&!(s.modelRange instanceof ut))throw new U("view-conversion-dispatcher-incorrect-result",this);return{modelRange:s.modelRange,modelCursor:s.modelCursor}}_convertChildren(e,r){let s=r.is("position")?r:Ot._createAt(r,0);const l=new ut(s);for(const f of Array.from(e.getChildren())){const b=this._convertItem(f,s);b.modelRange instanceof ut&&(l.end=b.modelRange.end,s=b.modelCursor)}return{modelRange:l,modelCursor:s}}_safeInsert(e,r){const s=this._splitToAllowedParent(e,r);return!!s&&(this.conversionApi.writer.insert(e,s.position),!0)}_updateConversionResult(e,r){const s=this._getSplitParts(e),l=this.conversionApi.writer;r.modelRange||(r.modelRange=l.createRange(l.createPositionBefore(e),l.createPositionAfter(s[s.length-1])));const f=this._cursorParents.get(e);r.modelCursor=f?l.createPositionAt(f,0):r.modelRange.end}_splitToAllowedParent(e,r){const{schema:s,writer:l}=this.conversionApi;let f=s.findAllowedParent(r,e);if(f){if(f===r.parent)return{position:r};this._modelCursor.parent.getAncestors().includes(f)&&(f=null)}if(!f)return u1(r,e,s)?{position:d1(r,l)}:null;const b=this.conversionApi.writer.split(r,f),A=[];for(const T of b.range.getWalker())if(T.type=="elementEnd")A.push(T.item);else{const O=A.pop(),P=T.item;this._registerSplitPair(O,P)}const S=b.range.end.parent;return this._cursorParents.set(e,S),{position:b.position,cursorParent:S}}_registerSplitPair(e,r){this._splitParts.has(e)||this._splitParts.set(e,[e]);const s=this._splitParts.get(e);this._splitParts.set(r,s),s.push(r)}_getSplitParts(e){let r;return r=this._splitParts.has(e)?this._splitParts.get(e):[e],r}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){const e=new Map;for(const r of this._splitParts.keys())if(r.isEmpty&&!this._emptyElementsToKeep.has(r)){const s=e.get(r.parent)||[];s.push(r),this._splitParts.delete(r),e.set(r.parent,s)}for(const[r,s]of e)r._removeChildrenArray(s);e.size&&this._removeEmptyElements()}}class l_{getHtml(e){const r=p.document.implementation.createHTMLDocument("").createElement("div");return r.appendChild(e),r.innerHTML}}class c_{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new ec(e,{renderingMode:"data"}),this.htmlWriter=new l_}toData(e){const r=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(r)}toView(e){const r=this._toDom(e);return this.domConverter.domToView(r,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){/<(?:html|body|head|meta)(?:\s[^>]*)?>/i.test(e.trim().slice(0,1e4))||(e=`<body>${e}</body>`);const r=this.domParser.parseFromString(e,"text/html"),s=r.createDocumentFragment(),l=r.body.childNodes;for(;l.length>0;)s.appendChild(l[0]);return s}}class wS extends ke(){constructor(e,r){super(),this.model=e,this.mapper=new Ph,this.downcastDispatcher=new Wp({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",(s,l,f)=>{if(!f.consumable.consume(l.item,s.name))return;const b=f.writer,A=f.mapper.toViewPosition(l.range.start),S=b.createText(l.item.data);b.insert(A,S)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(s,l,f)=>{f.convertAttributes(l.item),l.reconversion||!l.item.is("element")||l.item.isEmpty||f.convertChildren(l.item)},{priority:"lowest"}),this.upcastDispatcher=new w1({schema:e.schema}),this.viewDocument=new Lp(r),this.stylesProcessor=r,this.htmlProcessor=new c_(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new Pk(this.viewDocument),this.upcastDispatcher.on("text",(s,l,{schema:f,consumable:b,writer:A})=>{let S=l.modelCursor;if(!b.test(l.viewItem))return;if(!f.checkChild(S,"$text")){if(!u1(S,"$text",f)||l.viewItem.data.trim().length==0)return;S=d1(S,A)}b.consume(l.viewItem);const T=A.createText(l.viewItem.data);A.insert(T,S),l.modelRange=A.createRange(S,S.getShiftedBy(T.offsetSize)),l.modelCursor=l.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(s,l,f)=>{if(!l.modelRange&&f.consumable.consume(l.viewItem,{name:!0})){const{modelRange:b,modelCursor:A}=f.convertChildren(l.viewItem,l.modelCursor);l.modelRange=b,l.modelCursor=A}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(s,l,f)=>{if(!l.modelRange&&f.consumable.consume(l.viewItem,{name:!0})){const{modelRange:b,modelCursor:A}=f.convertChildren(l.viewItem,l.modelCursor);l.modelRange=b,l.modelCursor=A}},{priority:"lowest"}),Ae().prototype.decorate.call(this,"init"),Ae().prototype.decorate.call(this,"set"),Ae().prototype.decorate.call(this,"get"),Ae().prototype.decorate.call(this,"toView"),Ae().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},c1)},{priority:"lowest"})}get(e={}){const{rootName:r="main",trim:s="empty"}=e;if(!this._checkIfRootsExists([r]))throw new U("datacontroller-get-non-existent-root",this);const l=this.model.document.getRoot(r);return l.isAttached()||q("datacontroller-get-detached-root",this),s!=="empty"||this.model.hasContent(l,{ignoreWhitespaces:!0})?this.stringify(l,e):""}stringify(e,r={}){const s=this.toView(e,r);return this.processor.toData(s)}toView(e,r={}){const s=this.viewDocument,l=this._viewWriter;this.mapper.clearBindings();const f=ut._createIn(e),b=new Pd(s);this.mapper.bindElements(e,b);const A=e.is("documentFragment")?e.markers:function(S){const T=[],O=S.root.document;if(!O)return new Map;const P=ut._createIn(S);for(const W of O.model.markers){const ee=W.getRange(),ne=ee.isCollapsed,le=ee.start.isEqual(P.start)||ee.end.isEqual(P.end);if(ne&&le)T.push([W.name,ee]);else{const Ce=P.getIntersection(ee);Ce&&T.push([W.name,Ce])}}return T.sort(([W,ee],[ne,le])=>{if(ee.end.compareWith(le.start)!=="after")return 1;if(ee.start.compareWith(le.end)!=="before")return-1;switch(ee.start.compareWith(le.start)){case"before":return 1;case"after":return-1;default:switch(ee.end.compareWith(le.end)){case"before":return 1;case"after":return-1;default:return ne.localeCompare(W)}}}),new Map(T)}(e);return this.downcastDispatcher.convert(f,A,l,r),b}init(e){if(this.model.document.version)throw new U("datacontroller-init-document-not-empty",this);let r={};if(typeof e=="string"?r.main=e:r=e,!this._checkIfRootsExists(Object.keys(r)))throw new U("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},s=>{for(const l of Object.keys(r)){const f=this.model.document.getRoot(l);s.insert(this.parse(r[l],f),f,0)}}),Promise.resolve()}set(e,r={}){let s={};if(typeof e=="string"?s.main=e:s=e,!this._checkIfRootsExists(Object.keys(s)))throw new U("datacontroller-set-non-existent-root",this);this.model.enqueueChange(r.batchType||{},l=>{l.setSelection(null),l.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const f of Object.keys(s)){const b=this.model.document.getRoot(f);l.remove(l.createRangeIn(b)),l.insert(this.parse(s[f],b),b,0)}})}parse(e,r="$root"){const s=this.processor.toView(e);return this.toModel(s,r)}toModel(e,r="$root"){return this.model.change(s=>this.upcastDispatcher.convert(e,s,r))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const r of e)if(!this.model.document.getRoot(r))return!1;return!0}}class v1{constructor(e,r){this._helpers=new Map,this._downcast=ar(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=ar(r),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,r){const s=this._downcast.includes(r);if(!this._upcast.includes(r)&&!s)throw new U("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[r],isDowncast:s})}for(e){if(!this._helpers.has(e))throw new U("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:r,view:s}of Ag(e))this.for("upcast").elementToElement({model:r,view:s,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:r,view:s}of Ag(e))this.for("upcast").elementToAttribute({view:s,model:r,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:r,view:s}of Ag(e))this.for("upcast").attributeToAttribute({view:s,model:r})}_createConversionHelpers({name:e,dispatchers:r,isDowncast:s}){if(this._helpers.has(e))throw new U("conversion-group-exists",this);const l=s?new zh(r):new t_(r);this._helpers.set(e,l)}}function*Ag(u){if(u.model.values)for(const e of u.model.values){const r={key:u.model.key,value:e},s=u.view[e],l=u.upcastAlso?u.upcastAlso[e]:void 0;yield*u_(r,s,l)}else yield*u_(u.model,u.view,u.upcastAlso)}function*u_(u,e,r){if(yield{model:u,view:e},r)for(const s of ar(r))yield{model:u,view:s}}class Cl{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,r){return new this(e.baseVersion)}}function Kf(u,e){const r=br(e),s=r.reduce((b,A)=>b+A.offsetSize,0),l=u.parent;Fh(u);const f=u.index;return l._insertChild(f,r),Qf(l,f+r.length),Qf(l,f),new ut(u,u.getShiftedBy(s))}function d_(u){if(!u.isFlat)throw new U("operation-utils-remove-range-not-flat",this);const e=u.start.parent;Fh(u.start),Fh(u.end);const r=e._removeChildren(u.start.index,u.end.index-u.start.index);return Qf(e,u.start.index),r}function tm(u,e){if(!u.isFlat)throw new U("operation-utils-move-range-not-flat",this);const r=d_(u);return Kf(e=e._getTransformedByDeletion(u.start,u.end.offset-u.start.offset),r)}function br(u){const e=[];(function r(s){if(typeof s=="string")e.push(new Jr(s));else if(s instanceof Fn)e.push(new Jr(s.data,s.getAttributes()));else if(s instanceof Hd)e.push(s);else if(He(s))for(const l of s)r(l)})(u);for(let r=1;r<e.length;r++){const s=e[r],l=e[r-1];s instanceof Jr&&l instanceof Jr&&Zb(s,l)&&(e.splice(r-1,2,new Jr(l.data+s.data,l.getAttributes())),r--)}return e}function Qf(u,e){const r=u.getChild(e-1),s=u.getChild(e);if(r&&s&&r.is("$text")&&s.is("$text")&&Zb(r,s)){const l=new Jr(r.data+s.data,r.getAttributes());u._removeChildren(e-1,2),u._insertChild(e-1,l)}}function Fh(u){const e=u.textNode,r=u.parent;if(e){const s=u.offset-e.startOffset,l=e.index;r._removeChildren(l,1);const f=new Jr(e.data.substr(0,s),e.getAttributes()),b=new Jr(e.data.substr(s),e.getAttributes());r._insertChild(l,[f,b])}}function Zb(u,e){const r=u.getAttributes(),s=e.getAttributes();for(const l of r){if(l[1]!==e.getAttribute(l[0]))return!1;s.next()}return s.next().done}class Pr extends Cl{constructor(e,r,s,l){super(l),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=r,this.targetPosition=s.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[ut._createFromPositionAndShift(this.sourcePosition,this.howMany),ut._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new Pr(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Pr(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,r=this.targetPosition.parent,s=this.sourcePosition.offset,l=this.targetPosition.offset;if(s+this.howMany>e.maxOffset)throw new U("move-operation-nodes-do-not-exist",this);if(e===r&&s<l&&l<s+this.howMany)throw new U("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&pt(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const f=this.sourcePosition.path.length-1;if(this.targetPosition.path[f]>=s&&this.targetPosition.path[f]<s+this.howMany)throw new U("move-operation-node-into-itself",this)}}_execute(){tm(ut._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,r){const s=Ot.fromJSON(e.sourcePosition,r),l=Ot.fromJSON(e.targetPosition,r);return new this(s,e.howMany,l,e.baseVersion)}}class Wo extends Cl{constructor(e,r,s){super(s),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new Qp(br(r)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new Qp([...this.nodes].map(s=>s._clone(!0))),r=new Wo(this.position,e,this.baseVersion);return r.shouldReceiveAttributes=this.shouldReceiveAttributes,r}getReversed(){const e=this.position.root.document.graveyard,r=new Ot(e,[0]);return new Pr(this.position,this.nodes.maxOffset,r,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new U("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new Qp([...e].map(r=>r._clone(!0))),Kf(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,r){const s=[];for(const f of e.nodes)f.name?s.push(hi.fromJSON(f)):s.push(Jr.fromJSON(f));const l=new Wo(Ot.fromJSON(e.position,r),s,e.baseVersion);return l.shouldReceiveAttributes=e.shouldReceiveAttributes,l}}class Ur extends Cl{constructor(e,r,s,l,f){super(f),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=r,this.insertionPosition=s,this.graveyardPosition=l?l.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new Ot(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ut(this.splitPosition,e)}get affectedSelectable(){const e=[ut._createFromPositionAndShift(this.splitPosition,0),ut._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(ut._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new Ur(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,r=new Ot(e,[0]);return new Fi(this.moveTargetPosition,this.howMany,this.splitPosition,r,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,r=this.splitPosition.offset;if(!e||e.maxOffset<r)throw new U("split-operation-position-invalid",this);if(!e.parent)throw new U("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new U("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new U("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)tm(ut._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const r=e._clone();Kf(this.insertionPosition,r)}tm(new ut(Ot._createAt(e,this.splitPosition.offset),Ot._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const r=e.path.slice(0,-1);return r[r.length-1]++,new Ot(e.root,r,"toPrevious")}static fromJSON(e,r){const s=Ot.fromJSON(e.splitPosition,r),l=Ot.fromJSON(e.insertionPosition,r),f=e.graveyardPosition?Ot.fromJSON(e.graveyardPosition,r):null;return new this(s,e.howMany,l,f,e.baseVersion)}}class Fi extends Cl{constructor(e,r,s,l,f){super(f),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=r,this.targetPosition=s.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=l.clone()}get type(){return"merge"}get deletionPosition(){return new Ot(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ut(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[ut._createOn(e),ut._createFromPositionAndShift(this.targetPosition,0),ut._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new Fi(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),r=this.sourcePosition.path.slice(0,-1),s=new Ot(this.sourcePosition.root,r)._getTransformedByMergeOperation(this);return new Ur(e,this.howMany,s,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,r=this.targetPosition.parent;if(!e.parent)throw new U("merge-operation-source-position-invalid",this);if(!r.parent)throw new U("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new U("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;tm(ut._createIn(e),this.targetPosition),tm(ut._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,r){const s=Ot.fromJSON(e.sourcePosition,r),l=Ot.fromJSON(e.targetPosition,r),f=Ot.fromJSON(e.graveyardPosition,r);return new this(s,e.howMany,l,f,e.baseVersion)}}class Go extends Cl{constructor(e,r,s,l,f,b){super(b),this.name=e,this.oldRange=r?r.clone():null,this.newRange=s?s.clone():null,this.affectsData=f,this._markers=l}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new Go(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Go(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,r){return new Go(e.name,e.oldRange?ut.fromJSON(e.oldRange,r):null,e.newRange?ut.fromJSON(e.newRange,r):null,r.model.markers,e.affectsData,e.baseVersion)}}const y1=function(u,e){return bg(u,e)};class Io extends Cl{constructor(e,r,s,l,f){super(f),this.range=e.clone(),this.key=r,this.oldValue=s===void 0?null:s,this.newValue=l===void 0?null:l}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new Io(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Io(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new U("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!y1(e.getAttribute(this.key),this.oldValue))throw new U("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new U("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){y1(this.oldValue,this.newValue)||function(e,r,s){Fh(e.start),Fh(e.end);for(const l of e.getItems({shallow:!0})){const f=l.is("$textProxy")?l.textNode:l;s!==null?f._setAttribute(r,s):f._removeAttribute(r),Qf(f.parent,f.index)}Qf(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,r){return new Io(ut.fromJSON(e.range,r),e.key,e.oldValue,e.newValue,e.baseVersion)}}class us extends Cl{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new us(this.baseVersion)}getReversed(){return new us(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class xa extends Cl{constructor(e,r,s,l){super(l),this.position=e,this.position.stickiness="toNext",this.oldName=r,this.newName=s}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new xa(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new xa(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof hi))throw new U("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new U("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,r){return new xa(Ot.fromJSON(e.position,r),e.oldName,e.newName,e.baseVersion)}}class Wu extends Cl{constructor(e,r,s,l,f){super(f),this.root=e,this.key=r,this.oldValue=s===void 0?null:s,this.newValue=l===void 0?null:l}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new Wu(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Wu(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new U("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new U("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new U("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,r){if(!r.getRoot(e.root))throw new U("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new Wu(r.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class xl extends Cl{constructor(e,r,s,l,f){super(f),this.rootName=e,this.elementName=r,this.isAdd=s,this._document=l,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new xl(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new xl(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,r){return new xl(e.rootName,e.elementName,e.isAdd,r,e.baseVersion)}}const mr={};mr[Io.className]=Io,mr[Wo.className]=Wo,mr[Go.className]=Go,mr[Pr.className]=Pr,mr[us.className]=us,mr[Cl.className]=Cl,mr[xa.className]=xa,mr[Wu.className]=Wu,mr[xl.className]=xl,mr[Ur.className]=Ur,mr[Fi.className]=Fi;class A1{static fromJSON(e,r){return mr[e.__className].fromJSON(e,r)}}const ds=new Map;function Mr(u,e,r){let s=ds.get(u);s||(s=new Map,ds.set(u,s)),s.set(e,r)}function _1(u){return[u]}function Jb(u,e,r={}){const s=function(l,f){const b=ds.get(l);return b&&b.has(f)?b.get(f):_1}(u.constructor,e.constructor);try{return s(u=u.clone(),e,r)}catch(l){throw l}}function Xb(u,e,r){u=u.slice(),e=e.slice();const s=new h_(r.document,r.useRelations,r.forceWeakRemove);s.setOriginalOperations(u),s.setOriginalOperations(e);const l=s.originalOperations;if(u.length==0||e.length==0)return{operationsA:u,operationsB:e,originalOperations:l};const f=new WeakMap;for(const S of u)f.set(S,0);const b={nextBaseVersionA:u[u.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:u.length,originalOperationsBCount:e.length};let A=0;for(;A<u.length;){const S=u[A],T=f.get(S);if(T==e.length){A++;continue}const O=e[T],P=Jb(S,O,s.getContext(S,O,!0)),W=Jb(O,S,s.getContext(O,S,!1));s.updateRelation(S,O),s.setOriginalOperations(P,S),s.setOriginalOperations(W,O);for(const ee of P)f.set(ee,T+W.length);u.splice(A,1,...P),e.splice(T,1,...W)}return e0(u),e0(e),r.padWithNoOps,C1(u,b.nextBaseVersionB),C1(e,b.nextBaseVersionA),{operationsA:u,operationsB:e,originalOperations:l}}class h_{constructor(e,r,s=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=r,this._forceWeakRemove=!!s,this._relations=new Map}setOriginalOperations(e,r=null){const s=r?this.originalOperations.get(r):null;for(const l of e)this.originalOperations.set(l,s||l)}updateRelation(e,r){if(e instanceof Pr)r instanceof Fi?e.targetPosition.isEqual(r.sourcePosition)||r.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,r,"insertAtSource"):e.targetPosition.isEqual(r.deletionPosition)?this._setRelation(e,r,"insertBetween"):e.targetPosition.isAfter(r.sourcePosition)&&this._setRelation(e,r,"moveTargetAfter"):r instanceof Pr&&(e.targetPosition.isEqual(r.sourcePosition)||e.targetPosition.isBefore(r.sourcePosition)?this._setRelation(e,r,"insertBefore"):this._setRelation(e,r,"insertAfter"));else if(e instanceof Ur){if(r instanceof Fi)e.splitPosition.isBefore(r.sourcePosition)&&this._setRelation(e,r,"splitBefore");else if(r instanceof Pr)if(e.splitPosition.isEqual(r.sourcePosition)||e.splitPosition.isBefore(r.sourcePosition))this._setRelation(e,r,"splitBefore");else{const s=ut._createFromPositionAndShift(r.sourcePosition,r.howMany);if(e.splitPosition.hasSameParentAs(r.sourcePosition)&&s.containsPosition(e.splitPosition)){const l=s.end.offset-e.splitPosition.offset,f=e.splitPosition.offset-s.start.offset;this._setRelation(e,r,{howMany:l,offset:f})}}}else if(e instanceof Fi)r instanceof Fi?(e.targetPosition.isEqual(r.sourcePosition)||this._setRelation(e,r,"mergeTargetNotMoved"),e.sourcePosition.isEqual(r.targetPosition)&&this._setRelation(e,r,"mergeSourceNotMoved"),e.sourcePosition.isEqual(r.sourcePosition)&&this._setRelation(e,r,"mergeSameElement")):r instanceof Ur?e.sourcePosition.isEqual(r.splitPosition)&&this._setRelation(e,r,"splitAtSource"):r instanceof Pr&&r.howMany>0&&(e.sourcePosition.isEqual(r.sourcePosition.getShiftedBy(r.howMany))&&this._setRelation(e,r,"mergeSourceAffected"),e.targetPosition.isEqual(r.sourcePosition)&&this._setRelation(e,r,"mergeTargetWasBefore"));else if(e instanceof Go){const s=e.newRange;if(!s)return;if(r instanceof Fi){const l=s.start.isEqual(r.targetPosition),f=s.start.isEqual(r.deletionPosition),b=s.end.isEqual(r.deletionPosition),A=s.end.isEqual(r.sourcePosition);(l||f||b||A)&&this._setRelation(e,r,{wasInLeftElement:l,wasStartBeforeMergedElement:f,wasEndBeforeMergedElement:b,wasInRightElement:A})}}}getContext(e,r,s){return{aIsStrong:s,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(r),abRelation:this._useRelations?this._getRelation(e,r):null,baRelation:this._useRelations?this._getRelation(r,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const r=this.originalOperations.get(e);return r.wasUndone||this._history.isUndoneOperation(r)}_getRelation(e,r){const s=this.originalOperations.get(r),l=this._history.getUndoneOperation(s);if(!l)return null;const f=this.originalOperations.get(e),b=this._relations.get(f);return b&&b.get(l)||null}_setRelation(e,r,s){const l=this.originalOperations.get(e),f=this.originalOperations.get(r);let b=this._relations.get(l);b||(b=new Map,this._relations.set(l,b)),b.set(f,s)}}function C1(u,e){for(const r of u)r.baseVersion=e++}function e0(u){const e=new Map;for(let r=0;r<u.length;r++){const s=u[r];s instanceof Go&&(s.baseVersion!==-1?e.set(s.name,{op:s,ranges:s.newRange?[s.newRange]:[]}):(s.newRange&&e.get(s.name).ranges.push(s.newRange),u.splice(r,1),r--))}for(const{op:r,ranges:s}of e.values())s.length?r.newRange=ut._createFromRanges(s):r.newRange=null}function t0(u,e,r){const s=u.nodes.getNode(0).getAttribute(e);if(s==r)return null;const l=new ut(u.position,u.position.getShiftedBy(u.howMany));return new Io(l,e,s,r,0)}function f_(u,e){return u.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function Zf(u,e){const r=[];for(let s=0;s<u.length;s++){const l=u[s],f=new Pr(l.start,l.end.offset-l.start.offset,e,0);r.push(f);for(let b=s+1;b<u.length;b++)u[b]=u[b]._getTransformedByMove(f.sourcePosition,f.targetPosition,f.howMany)[0];e=e._getTransformedByMove(f.sourcePosition,f.targetPosition,f.howMany)}return r}Mr(Io,Io,(u,e,r)=>{if(u.key===e.key&&u.range.start.hasSameParentAs(e.range.start)){const s=u.range.getDifference(e.range).map(f=>new Io(f,u.key,u.oldValue,u.newValue,0)),l=u.range.getIntersection(e.range);return l&&r.aIsStrong&&s.push(new Io(l,e.key,e.newValue,u.newValue,0)),s.length==0?[new us(0)]:s}return[u]}),Mr(Io,Wo,(u,e)=>{if(u.range.start.hasSameParentAs(e.position)&&u.range.containsPosition(e.position)){const r=u.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(s=>new Io(s,u.key,u.oldValue,u.newValue,u.baseVersion));if(e.shouldReceiveAttributes){const s=t0(e,u.key,u.oldValue);s&&r.unshift(s)}return r}return u.range=u.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[u]}),Mr(Io,Fi,(u,e)=>{const r=[];u.range.start.hasSameParentAs(e.deletionPosition)&&(u.range.containsPosition(e.deletionPosition)||u.range.start.isEqual(e.deletionPosition))&&r.push(ut._createFromPositionAndShift(e.graveyardPosition,1));const s=u.range._getTransformedByMergeOperation(e);return s.isCollapsed||r.push(s),r.map(l=>new Io(l,u.key,u.oldValue,u.newValue,u.baseVersion))}),Mr(Io,Pr,(u,e)=>function(s,l){const f=ut._createFromPositionAndShift(l.sourcePosition,l.howMany);let b=null,A=[];f.containsRange(s,!0)?b=s:s.start.hasSameParentAs(f.start)?(A=s.getDifference(f),b=s.getIntersection(f)):A=[s];const S=[];for(let T of A){T=T._getTransformedByDeletion(l.sourcePosition,l.howMany);const O=l.getMovedRangeStart(),P=T.start.hasSameParentAs(O),W=T._getTransformedByInsertion(O,l.howMany,P);S.push(...W)}return b&&S.push(b._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany,!1)[0]),S}(u.range,e).map(s=>new Io(s,u.key,u.oldValue,u.newValue,u.baseVersion))),Mr(Io,Ur,(u,e)=>{if(u.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||u.range.end.offset++,[u];if(u.range.start.hasSameParentAs(e.splitPosition)&&u.range.containsPosition(e.splitPosition)){const r=u.clone();return r.range=new ut(e.moveTargetPosition.clone(),u.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),u.range.end=e.splitPosition.clone(),u.range.end.stickiness="toPrevious",[u,r]}return u.range=u.range._getTransformedBySplitOperation(e),[u]}),Mr(Wo,Io,(u,e)=>{const r=[u];if(u.shouldReceiveAttributes&&u.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(u.position)){const s=t0(u,e.key,e.newValue);s&&r.push(s)}return r}),Mr(Wo,Wo,(u,e,r)=>(u.position.isEqual(e.position)&&r.aIsStrong||(u.position=u.position._getTransformedByInsertOperation(e)),[u])),Mr(Wo,Pr,(u,e)=>(u.position=u.position._getTransformedByMoveOperation(e),[u])),Mr(Wo,Ur,(u,e)=>(u.position=u.position._getTransformedBySplitOperation(e),[u])),Mr(Wo,Fi,(u,e)=>(u.position=u.position._getTransformedByMergeOperation(e),[u])),Mr(Go,Wo,(u,e)=>(u.oldRange&&(u.oldRange=u.oldRange._getTransformedByInsertOperation(e)[0]),u.newRange&&(u.newRange=u.newRange._getTransformedByInsertOperation(e)[0]),[u])),Mr(Go,Go,(u,e,r)=>{if(u.name==e.name){if(!r.aIsStrong)return[new us(0)];u.oldRange=e.newRange?e.newRange.clone():null}return[u]}),Mr(Go,Fi,(u,e)=>(u.oldRange&&(u.oldRange=u.oldRange._getTransformedByMergeOperation(e)),u.newRange&&(u.newRange=u.newRange._getTransformedByMergeOperation(e)),[u])),Mr(Go,Pr,(u,e)=>{const r=[u];if(u.oldRange&&(u.oldRange=ut._createFromRanges(u.oldRange._getTransformedByMoveOperation(e))),u.newRange){const s=u.newRange._getTransformedByMoveOperation(e);u.newRange=s[0];for(let l=1;l<s.length;l++){const f=u.clone();f.oldRange=null,f.newRange=s[l],f.baseVersion=-1,r.push(f)}}return r}),Mr(Go,Ur,(u,e,r)=>{if(u.oldRange&&(u.oldRange=u.oldRange._getTransformedBySplitOperation(e)),u.newRange){if(r.abRelation){const s=u.newRange._getTransformedBySplitOperation(e);return u.newRange.start.isEqual(e.splitPosition)&&r.abRelation.wasStartBeforeMergedElement?u.newRange.start=Ot._createAt(e.insertionPosition):u.newRange.start.isEqual(e.splitPosition)&&!r.abRelation.wasInLeftElement?u.newRange.start=Ot._createAt(e.moveTargetPosition):u.newRange.start=s.start,u.newRange.end.isEqual(e.splitPosition)&&r.abRelation.wasInRightElement?u.newRange.end=Ot._createAt(e.moveTargetPosition):u.newRange.end.isEqual(e.splitPosition)&&r.abRelation.wasEndBeforeMergedElement?u.newRange.end=Ot._createAt(e.insertionPosition):u.newRange.end=s.end,[u]}u.newRange=u.newRange._getTransformedBySplitOperation(e)}return[u]}),Mr(Fi,Wo,(u,e)=>(u.sourcePosition.hasSameParentAs(e.position)&&(u.howMany+=e.howMany),u.sourcePosition=u.sourcePosition._getTransformedByInsertOperation(e),u.targetPosition=u.targetPosition._getTransformedByInsertOperation(e),[u])),Mr(Fi,Fi,(u,e,r)=>{if(u.sourcePosition.isEqual(e.sourcePosition)&&u.targetPosition.isEqual(e.targetPosition)){if(r.bWasUndone){const s=e.graveyardPosition.path.slice();return s.push(0),u.sourcePosition=new Ot(e.graveyardPosition.root,s),u.howMany=0,[u]}return[new us(0)]}if(u.sourcePosition.isEqual(e.sourcePosition)&&!u.targetPosition.isEqual(e.targetPosition)&&!r.bWasUndone&&r.abRelation!="splitAtSource"){const s=u.targetPosition.root.rootName=="$graveyard",l=e.targetPosition.root.rootName=="$graveyard";if(l&&!s||!(s&&!l)&&r.aIsStrong){const f=e.targetPosition._getTransformedByMergeOperation(e),b=u.targetPosition._getTransformedByMergeOperation(e);return[new Pr(f,u.howMany,b,0)]}return[new us(0)]}return u.sourcePosition.hasSameParentAs(e.targetPosition)&&(u.howMany+=e.howMany),u.sourcePosition=u.sourcePosition._getTransformedByMergeOperation(e),u.targetPosition=u.targetPosition._getTransformedByMergeOperation(e),u.graveyardPosition.isEqual(e.graveyardPosition)&&r.aIsStrong||(u.graveyardPosition=u.graveyardPosition._getTransformedByMergeOperation(e)),[u]}),Mr(Fi,Pr,(u,e,r)=>{const s=ut._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!r.bWasUndone&&u.deletionPosition.hasSameParentAs(e.sourcePosition)&&s.containsPosition(u.sourcePosition)?[new us(0)]:(e.sourcePosition.getShiftedBy(e.howMany).isEqual(u.sourcePosition)?u.sourcePosition.stickiness="toNone":e.targetPosition.isEqual(u.sourcePosition)&&r.abRelation=="mergeSourceAffected"?u.sourcePosition.stickiness="toNext":e.sourcePosition.isEqual(u.targetPosition)?(u.targetPosition.stickiness="toNone",u.howMany-=e.howMany):e.targetPosition.isEqual(u.targetPosition)&&r.abRelation=="mergeTargetWasBefore"?(u.targetPosition.stickiness="toPrevious",u.howMany+=e.howMany):(u.sourcePosition.hasSameParentAs(e.targetPosition)&&(u.howMany+=e.howMany),u.sourcePosition.hasSameParentAs(e.sourcePosition)&&(u.howMany-=e.howMany)),u.sourcePosition=u.sourcePosition._getTransformedByMoveOperation(e),u.targetPosition=u.targetPosition._getTransformedByMoveOperation(e),u.sourcePosition.stickiness="toPrevious",u.targetPosition.stickiness="toNext",u.graveyardPosition.isEqual(e.targetPosition)||(u.graveyardPosition=u.graveyardPosition._getTransformedByMoveOperation(e)),[u])}),Mr(Fi,Ur,(u,e,r)=>{if(e.graveyardPosition&&(u.graveyardPosition=u.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),u.deletionPosition.isEqual(e.graveyardPosition)&&(u.howMany=e.howMany)),u.targetPosition.isEqual(e.splitPosition)&&(e.graveyardPosition&&u.deletionPosition.isEqual(e.graveyardPosition)||r.abRelation=="mergeTargetNotMoved"))return u.sourcePosition=u.sourcePosition._getTransformedBySplitOperation(e),[u];if(u.sourcePosition.isEqual(e.splitPosition)){if(r.abRelation=="mergeSourceNotMoved")return u.howMany=0,u.targetPosition=u.targetPosition._getTransformedBySplitOperation(e),[u];if(r.abRelation=="mergeSameElement"||u.sourcePosition.offset>0)return u.sourcePosition=e.moveTargetPosition.clone(),u.targetPosition=u.targetPosition._getTransformedBySplitOperation(e),[u]}return u.sourcePosition.hasSameParentAs(e.splitPosition)&&(u.howMany=e.splitPosition.offset),u.sourcePosition=u.sourcePosition._getTransformedBySplitOperation(e),u.targetPosition=u.targetPosition._getTransformedBySplitOperation(e),[u]}),Mr(Pr,Wo,(u,e)=>{const r=ut._createFromPositionAndShift(u.sourcePosition,u.howMany)._getTransformedByInsertOperation(e,!1)[0];return u.sourcePosition=r.start,u.howMany=r.end.offset-r.start.offset,u.targetPosition.isEqual(e.position)||(u.targetPosition=u.targetPosition._getTransformedByInsertOperation(e)),[u]}),Mr(Pr,Pr,(u,e,r)=>{const s=ut._createFromPositionAndShift(u.sourcePosition,u.howMany),l=ut._createFromPositionAndShift(e.sourcePosition,e.howMany);let f,b=r.aIsStrong,A=!r.aIsStrong;if(r.abRelation=="insertBefore"||r.baRelation=="insertAfter"?A=!0:r.abRelation!="insertAfter"&&r.baRelation!="insertBefore"||(A=!1),f=u.targetPosition.isEqual(e.targetPosition)&&A?u.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):u.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),f_(u,e)&&f_(e,u))return[e.getReversed()];if(s.containsPosition(e.targetPosition)&&s.containsRange(l,!0))return s.start=s.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),s.end=s.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Zf([s],f);if(l.containsPosition(u.targetPosition)&&l.containsRange(s,!0))return s.start=s.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),s.end=s.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),Zf([s],f);const S=pt(u.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(S=="prefix"||S=="extension")return s.start=s.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),s.end=s.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Zf([s],f);u.type!="remove"||e.type=="remove"||r.aWasUndone||r.forceWeakRemove?u.type=="remove"||e.type!="remove"||r.bWasUndone||r.forceWeakRemove||(b=!1):b=!0;const T=[],O=s.getDifference(l);for(const W of O){W.start=W.start._getTransformedByDeletion(e.sourcePosition,e.howMany),W.end=W.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const ee=pt(W.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",ne=W._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,ee);T.push(...ne)}const P=s.getIntersection(l);return P!==null&&b&&(P.start=P.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),P.end=P.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),T.length===0?T.push(P):T.length==1?l.start.isBefore(s.start)||l.start.isEqual(s.start)?T.unshift(P):T.push(P):T.splice(1,0,P)),T.length===0?[new us(u.baseVersion)]:Zf(T,f)}),Mr(Pr,Ur,(u,e,r)=>{let s=u.targetPosition.clone();u.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&r.abRelation!="moveTargetAfter"||(s=u.targetPosition._getTransformedBySplitOperation(e));const l=ut._createFromPositionAndShift(u.sourcePosition,u.howMany);if(l.end.isEqual(e.insertionPosition))return e.graveyardPosition||u.howMany++,u.targetPosition=s,[u];if(l.start.hasSameParentAs(e.splitPosition)&&l.containsPosition(e.splitPosition)){let b=new ut(e.splitPosition,l.end);return b=b._getTransformedBySplitOperation(e),Zf([new ut(l.start,e.splitPosition),b],s)}u.targetPosition.isEqual(e.splitPosition)&&r.abRelation=="insertAtSource"&&(s=e.moveTargetPosition),u.targetPosition.isEqual(e.insertionPosition)&&r.abRelation=="insertBetween"&&(s=u.targetPosition);const f=[l._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const b=l.start.isEqual(e.graveyardPosition)||l.containsPosition(e.graveyardPosition);u.howMany>1&&b&&!r.aWasUndone&&f.push(ut._createFromPositionAndShift(e.insertionPosition,1))}return Zf(f,s)}),Mr(Pr,Fi,(u,e,r)=>{const s=ut._createFromPositionAndShift(u.sourcePosition,u.howMany);if(e.deletionPosition.hasSameParentAs(u.sourcePosition)&&s.containsPosition(e.sourcePosition)){if(u.type!="remove"||r.forceWeakRemove){if(u.howMany==1)return r.bWasUndone?(u.sourcePosition=e.graveyardPosition.clone(),u.targetPosition=u.targetPosition._getTransformedByMergeOperation(e),[u]):[new us(0)]}else if(!r.aWasUndone){const f=[];let b=e.graveyardPosition.clone(),A=e.targetPosition._getTransformedByMergeOperation(e);const S=u.targetPosition.getTransformedByOperation(e);u.howMany>1&&(f.push(new Pr(u.sourcePosition,u.howMany-1,S,0)),b=b._getTransformedByMove(u.sourcePosition,S,u.howMany-1),A=A._getTransformedByMove(u.sourcePosition,S,u.howMany-1));const T=e.deletionPosition._getCombined(u.sourcePosition,S),O=new Pr(b,1,T,0),P=O.getMovedRangeStart().path.slice();P.push(0);const W=new Ot(O.targetPosition.root,P);A=A._getTransformedByMove(b,T,1);const ee=new Pr(A,e.howMany,W,0);return f.push(O),f.push(ee),f}}const l=ut._createFromPositionAndShift(u.sourcePosition,u.howMany)._getTransformedByMergeOperation(e);return u.sourcePosition=l.start,u.howMany=l.end.offset-l.start.offset,u.targetPosition=u.targetPosition._getTransformedByMergeOperation(e),[u]}),Mr(xa,Wo,(u,e)=>(u.position=u.position._getTransformedByInsertOperation(e),[u])),Mr(xa,Fi,(u,e)=>u.position.isEqual(e.deletionPosition)?(u.position=e.graveyardPosition.clone(),u.position.stickiness="toNext",[u]):(u.position=u.position._getTransformedByMergeOperation(e),[u])),Mr(xa,Pr,(u,e)=>(u.position=u.position._getTransformedByMoveOperation(e),[u])),Mr(xa,xa,(u,e,r)=>{if(u.position.isEqual(e.position)){if(!r.aIsStrong)return[new us(0)];u.oldName=e.newName}return[u]}),Mr(xa,Ur,(u,e)=>{if(pt(u.position.path,e.splitPosition.getParentPath())=="same"&&!e.graveyardPosition){const r=new xa(u.position.getShiftedBy(1),u.oldName,u.newName,0);return[u,r]}return u.position=u.position._getTransformedBySplitOperation(e),[u]}),Mr(Wu,Wu,(u,e,r)=>{if(u.root===e.root&&u.key===e.key){if(!r.aIsStrong||u.newValue===e.newValue)return[new us(0)];u.oldValue=e.newValue}return[u]}),Mr(xl,xl,(u,e)=>u.rootName===e.rootName&&u.isAdd===e.isAdd?[new us(0)]:[u]),Mr(Ur,Wo,(u,e)=>(u.splitPosition.hasSameParentAs(e.position)&&u.splitPosition.offset<e.position.offset&&(u.howMany+=e.howMany),u.splitPosition=u.splitPosition._getTransformedByInsertOperation(e),u.insertionPosition=u.insertionPosition._getTransformedByInsertOperation(e),[u])),Mr(Ur,Fi,(u,e,r)=>{if(!u.graveyardPosition&&!r.bWasUndone&&u.splitPosition.hasSameParentAs(e.sourcePosition)){const s=e.graveyardPosition.path.slice();s.push(0);const l=new Ot(e.graveyardPosition.root,s),f=Ur.getInsertionPosition(new Ot(e.graveyardPosition.root,s)),b=new Ur(l,0,f,null,0);return u.splitPosition=u.splitPosition._getTransformedByMergeOperation(e),u.insertionPosition=Ur.getInsertionPosition(u.splitPosition),u.graveyardPosition=b.insertionPosition.clone(),u.graveyardPosition.stickiness="toNext",[b,u]}return u.splitPosition.hasSameParentAs(e.deletionPosition)&&!u.splitPosition.isAfter(e.deletionPosition)&&u.howMany--,u.splitPosition.hasSameParentAs(e.targetPosition)&&(u.howMany+=e.howMany),u.splitPosition=u.splitPosition._getTransformedByMergeOperation(e),u.insertionPosition=Ur.getInsertionPosition(u.splitPosition),u.graveyardPosition&&(u.graveyardPosition=u.graveyardPosition._getTransformedByMergeOperation(e)),[u]}),Mr(Ur,Pr,(u,e,r)=>{const s=ut._createFromPositionAndShift(e.sourcePosition,e.howMany);if(u.graveyardPosition){const f=s.start.isEqual(u.graveyardPosition)||s.containsPosition(u.graveyardPosition);if(!r.bWasUndone&&f){const b=u.splitPosition._getTransformedByMoveOperation(e),A=u.graveyardPosition._getTransformedByMoveOperation(e),S=A.path.slice();S.push(0);const T=new Ot(A.root,S);return[new Pr(b,u.howMany,T,0)]}u.graveyardPosition=u.graveyardPosition._getTransformedByMoveOperation(e)}const l=u.splitPosition.isEqual(e.targetPosition);if(l&&(r.baRelation=="insertAtSource"||r.abRelation=="splitBefore"))return u.howMany+=e.howMany,u.splitPosition=u.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),u.insertionPosition=Ur.getInsertionPosition(u.splitPosition),[u];if(l&&r.abRelation&&r.abRelation.howMany){const{howMany:f,offset:b}=r.abRelation;return u.howMany+=f,u.splitPosition=u.splitPosition.getShiftedBy(b),[u]}if(u.splitPosition.hasSameParentAs(e.sourcePosition)&&s.containsPosition(u.splitPosition)){const f=e.howMany-(u.splitPosition.offset-e.sourcePosition.offset);return u.howMany-=f,u.splitPosition.hasSameParentAs(e.targetPosition)&&u.splitPosition.offset<e.targetPosition.offset&&(u.howMany+=e.howMany),u.splitPosition=e.sourcePosition.clone(),u.insertionPosition=Ur.getInsertionPosition(u.splitPosition),[u]}return e.sourcePosition.isEqual(e.targetPosition)||(u.splitPosition.hasSameParentAs(e.sourcePosition)&&u.splitPosition.offset<=e.sourcePosition.offset&&(u.howMany-=e.howMany),u.splitPosition.hasSameParentAs(e.targetPosition)&&u.splitPosition.offset<e.targetPosition.offset&&(u.howMany+=e.howMany)),u.splitPosition.stickiness="toNone",u.splitPosition=u.splitPosition._getTransformedByMoveOperation(e),u.splitPosition.stickiness="toNext",u.graveyardPosition?u.insertionPosition=u.insertionPosition._getTransformedByMoveOperation(e):u.insertionPosition=Ur.getInsertionPosition(u.splitPosition),[u]}),Mr(Ur,Ur,(u,e,r)=>{if(u.splitPosition.isEqual(e.splitPosition)){if(!u.graveyardPosition&&!e.graveyardPosition)return[new us(0)];if(u.graveyardPosition&&e.graveyardPosition&&u.graveyardPosition.isEqual(e.graveyardPosition))return[new us(0)];if(r.abRelation=="splitBefore")return u.howMany=0,u.graveyardPosition=u.graveyardPosition._getTransformedBySplitOperation(e),[u]}if(u.graveyardPosition&&e.graveyardPosition&&u.graveyardPosition.isEqual(e.graveyardPosition)){const s=u.splitPosition.root.rootName=="$graveyard",l=e.splitPosition.root.rootName=="$graveyard";if(l&&!s||!(s&&!l)&&r.aIsStrong){const f=[];return e.howMany&&f.push(new Pr(e.moveTargetPosition,e.howMany,e.splitPosition,0)),u.howMany&&f.push(new Pr(u.splitPosition,u.howMany,u.moveTargetPosition,0)),f}return[new us(0)]}if(u.graveyardPosition&&(u.graveyardPosition=u.graveyardPosition._getTransformedBySplitOperation(e)),u.splitPosition.isEqual(e.insertionPosition)&&r.abRelation=="splitBefore")return u.howMany++,[u];if(e.splitPosition.isEqual(u.insertionPosition)&&r.baRelation=="splitBefore"){const s=e.insertionPosition.path.slice();s.push(0);const l=new Ot(e.insertionPosition.root,s);return[u,new Pr(u.insertionPosition,1,l,0)]}return u.splitPosition.hasSameParentAs(e.splitPosition)&&u.splitPosition.offset<e.splitPosition.offset&&(u.howMany-=e.howMany),u.splitPosition=u.splitPosition._getTransformedBySplitOperation(e),u.insertionPosition=Ur.getInsertionPosition(u.splitPosition),[u]});class ea extends ke(Ot){constructor(e,r,s="toNone"){if(super(e,r,s),!this.root.is("rootElement"))throw new U("model-liveposition-root-not-rootelement",e);p_.call(this)}detach(){this.stopListening()}toPosition(){return new Ot(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,r){return new this(e.root,e.path.slice(),r||e.stickiness)}}function p_(){this.listenTo(this.root.document.model,"applyOperation",(u,e)=>{const r=e[0];r.isDocumentOperation&&vS.call(this,r)},{priority:"low"})}function vS(u){const e=this.getTransformedByOperation(u);if(!this.isEqual(e)){const r=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",r)}}ea.prototype.is=function(u){return u==="livePosition"||u==="model:livePosition"||u=="position"||u==="model:position"};class nm{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},q("batch-constructor-deprecated-string-type"));const{isUndoable:r=!0,isLocal:s=!0,isUndo:l=!1,isTyping:f=!1}=e;this.operations=[],this.isUndoable=r,this.isLocal=s,this.isUndo=l,this.isTyping=f}get type(){return q("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.isDocumentOperation&&(e.batch=this,this.operations.push(e)),e}}const _v=class _v{constructor(e){this._changesInElement=new Map,this._elementsSnapshots=new Map,this._elementChildrenSnapshots=new Map,this._elementState=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const r=e;switch(r.type){case"insert":if(this._isInInsertedElement(r.position.parent))return;this._markInsert(r.position.parent,r.position.offset,r.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const s of r.range.getItems({shallow:!0}))this._isInInsertedElement(s.parent)||this._markAttribute(s);break;case"remove":case"move":case"reinsert":{if(r.sourcePosition.isEqual(r.targetPosition)||r.sourcePosition.getShiftedBy(r.howMany).isEqual(r.targetPosition))return;const s=this._isInInsertedElement(r.sourcePosition.parent),l=this._isInInsertedElement(r.targetPosition.parent);s||this._markRemove(r.sourcePosition.parent,r.sourcePosition.offset,r.howMany),l||this._markInsert(r.targetPosition.parent,r.getMovedRangeStart().offset,r.howMany);const f=ut._createFromPositionAndShift(r.sourcePosition,r.howMany);for(const b of f.getItems({shallow:!0}))this._setElementState(b,"move");break}case"rename":{if(this._isInInsertedElement(r.position.parent))return;this._markRemove(r.position.parent,r.position.offset,1),this._markInsert(r.position.parent,r.position.offset,1);const s=ut._createFromPositionAndShift(r.position,1);for(const l of this._markerCollection.getMarkersIntersectingRange(s)){const f=l.getData();this.bufferMarkerChange(l.name,f,f)}this._setElementState(r.position.nodeAfter,"rename");break}case"split":{const s=r.splitPosition.parent;if(!this._isInInsertedElement(s)){this._markRemove(s,r.splitPosition.offset,r.howMany);const l=ut._createFromPositionAndShift(r.splitPosition,r.howMany);for(const f of l.getItems({shallow:!0}))this._setElementState(f,"move")}this._isInInsertedElement(r.insertionPosition.parent)||this._markInsert(r.insertionPosition.parent,r.insertionPosition.offset,1),r.graveyardPosition&&(this._markRemove(r.graveyardPosition.parent,r.graveyardPosition.offset,1),this._setElementState(r.graveyardPosition.nodeAfter,"move"));break}case"merge":{const s=r.sourcePosition.parent;this._isInInsertedElement(s.parent)||this._markRemove(s.parent,s.startOffset,1);const l=r.graveyardPosition.parent;this._markInsert(l,r.graveyardPosition.offset,1),this._setElementState(s,"move");const f=r.targetPosition.parent;if(!this._isInInsertedElement(f)){this._markInsert(f,r.targetPosition.offset,s.maxOffset);const b=ut._createFromPositionAndShift(r.sourcePosition,r.howMany);for(const A of b.getItems({shallow:!0}))this._setElementState(A,"move")}break}case"detachRoot":case"addRoot":{const s=r.affectedSelectable;if(!s._isLoaded||s.isAttached()==r.isAdd)return;this._bufferRootStateChange(r.rootName,r.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!r.root._isLoaded)return;const s=r.root.rootName;this._bufferRootAttributeChange(s,r.key,r.oldValue,r.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,r,s){r.range&&r.range.root.is("rootElement")&&!r.range.root._isLoaded&&(r.range=null),s.range&&s.range.root.is("rootElement")&&!s.range.root._isLoaded&&(s.range=null);let l=this._changedMarkers.get(e);l?l.newMarkerData=s:(l={newMarkerData:s,oldMarkerData:r},this._changedMarkers.set(e,l)),l.oldMarkerData.range==null&&s.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[r,s]of this._changedMarkers)s.oldMarkerData.range!=null&&e.push({name:r,range:s.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[r,s]of this._changedMarkers)s.newMarkerData.range!=null&&e.push({name:r,range:s.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,r])=>({name:e,data:{oldRange:r.oldMarkerData.range,newRange:r.newMarkerData.range}}))}hasDataChanges(){if(this.getChanges().length||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:r}of this._changedMarkers.values()){if(e.affectsData!==r.affectsData)return!0;if(e.affectsData){const s=e.range&&!r.range,l=!e.range&&r.range,f=e.range&&r.range&&!e.range.isEqual(r.range);if(s||l||f)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let r=[];for(const s of this._changesInElement.keys()){const l=this._changesInElement.get(s).sort((O,P)=>O.offset===P.offset?O.type!=P.type?O.type=="remove"?-1:1:0:O.offset<P.offset?-1:1),f=this._elementChildrenSnapshots.get(s),b=n0(s.getChildren()),A=yS(f.length,l);let S=0,T=0;for(const O of A)if(O==="i"){const P=this._getDiffActionForNode(b[S].node,"insert"),W=this._elementsSnapshots.get(b[S].node),ee=this._getInsertDiff(s,S,P,b[S],W);r.push(ee),S++}else if(O==="r"){const P=this._getDiffActionForNode(f[T].node,"remove"),W=this._getRemoveDiff(s,S,P,f[T]);r.push(W),T++}else if(O==="a"){const P=f[T].attributes,W=b[S].attributes;let ee;if(b[S].name=="$text")ee=new ut(Ot._createAt(s,S),Ot._createAt(s,S+1));else{const le=s.offsetToIndex(S);ee=new ut(Ot._createAt(s,S),Ot._createAt(s.getChild(le),0))}const ne=this._getAttributesDiff(ee,P,W);r.push(...ne),S++,T++}else S++,T++}r.sort((s,l)=>s.position.root!=l.position.root?s.position.root.rootName<l.position.root.rootName?-1:1:s.position.isEqual(l.position)?s.changeCount-l.changeCount:s.position.isBefore(l.position)?-1:1);for(let s=1,l=0;s<r.length;s++){const f=r[l],b=r[s],A=f.type=="remove"&&b.type=="remove"&&f.name=="$text"&&b.name=="$text"&&f.position.isEqual(b.position),S=f.type=="insert"&&b.type=="insert"&&f.name=="$text"&&b.name=="$text"&&f.position.parent==b.position.parent&&f.position.offset+f.length==b.position.offset,T=f.type=="attribute"&&b.type=="attribute"&&f.position.parent==b.position.parent&&f.range.isFlat&&b.range.isFlat&&f.position.offset+f.length==b.position.offset&&f.attributeKey==b.attributeKey&&f.attributeOldValue==b.attributeOldValue&&f.attributeNewValue==b.attributeNewValue;A||S||T?(f.length++,T&&(f.range.end=f.range.end.getShiftedBy(1)),r[s]=null):l=s}r=r.filter(s=>s);for(const s of r)delete s.changeCount,s.type=="attribute"&&(delete s.position,delete s.length);return this._changeCount=0,this._cachedChangesWithGraveyard=r,this._cachedChanges=r.filter(AS),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const r={...e};return r.state!==void 0&&delete r.attributes,r})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementChildrenSnapshots.clear(),this._elementsSnapshots.clear(),this._elementState.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems.clear(),this._cachedChanges=null}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e),this._setElementState(e,"refresh");const r=ut._createOn(e);for(const s of this._markerCollection.getMarkersIntersectingRange(r)){const l=s.getData();this.bufferMarkerChange(s.name,l,l)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const r of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,r,null,e.getAttribute(r));for(const r of this._markerCollection)if(r.getRange().root==e){const s=r.getData();this.bufferMarkerChange(r.name,{...s,range:null},s)}}}_bufferRootStateChange(e,r){if(!this._changedRoots.has(e))return void this._changedRoots.set(e,{name:e,state:r?"attached":"detached"});const s=this._changedRoots.get(e);s.state!==void 0?(delete s.state,s.attributes===void 0&&this._changedRoots.delete(e)):s.state=r?"attached":"detached"}_bufferRootAttributeChange(e,r,s,l){const f=this._changedRoots.get(e)||{name:e},b=f.attributes||{};if(b[r]){const A=b[r];l===A.oldValue?delete b[r]:A.newValue=l}else b[r]={oldValue:s,newValue:l};Object.entries(b).length===0?(delete f.attributes,f.state===void 0&&this._changedRoots.delete(e)):(f.attributes=b,this._changedRoots.set(e,f))}_markInsert(e,r,s){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const l={type:"insert",offset:r,howMany:s,count:this._changeCount++};this._markChange(e,l)}_markRemove(e,r,s){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const l={type:"remove",offset:r,howMany:s,count:this._changeCount++};this._markChange(e,l),this._removeAllNestedChanges(e,r,s)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const r={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,r)}_markChange(e,r){this._makeSnapshots(e);const s=this._getChangesForElement(e);this._handleChange(r,s),s.push(r);for(let l=0;l<s.length;l++)s[l].howMany<1&&(s.splice(l,1),l--)}_setElementState(e,r){if(!e.is("element"))return;const s=_v._statesPriority.indexOf(this._elementState.get(e));_v._statesPriority.indexOf(r)>s&&this._elementState.set(e,r)}_getDiffActionForNode(e,r){if(!e.is("element")||!this._elementsSnapshots.has(e))return r;const s=this._elementState.get(e);return s&&s!="move"?s:r}_getChangesForElement(e){let r;return this._changesInElement.has(e)?r=this._changesInElement.get(e):(r=[],this._changesInElement.set(e,r)),r}_makeSnapshots(e){if(this._elementChildrenSnapshots.has(e))return;const r=n0(e.getChildren());this._elementChildrenSnapshots.set(e,r);for(const s of r)this._elementsSnapshots.set(s.node,s)}_handleChange(e,r){e.nodesToHandle=e.howMany;for(const s of r){const l=e.offset+e.howMany,f=s.offset+s.howMany;if(e.type=="insert"&&(s.type=="insert"&&(e.offset<=s.offset?s.offset+=e.howMany:e.offset<f&&(s.howMany+=e.nodesToHandle,e.nodesToHandle=0)),s.type=="remove"&&e.offset<s.offset&&(s.offset+=e.howMany),s.type=="attribute")){if(e.offset<=s.offset)s.offset+=e.howMany;else if(e.offset<f){const b=s.howMany;s.howMany=e.offset-s.offset,r.unshift({type:"attribute",offset:l,howMany:b-s.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(s.type=="insert"){if(l<=s.offset)s.offset-=e.howMany;else if(l<=f)if(e.offset<s.offset){const b=l-s.offset;s.offset=e.offset,s.howMany-=b,e.nodesToHandle-=b}else s.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=s.offset)e.nodesToHandle-=s.howMany,s.howMany=0;else if(e.offset<f){const b=f-e.offset;s.howMany-=b,e.nodesToHandle-=b}}if(s.type=="remove"&&(l<=s.offset?s.offset-=e.howMany:e.offset<s.offset&&(e.nodesToHandle+=s.howMany,s.howMany=0)),s.type=="attribute"){if(l<=s.offset)s.offset-=e.howMany;else if(e.offset<s.offset){const b=l-s.offset;s.offset=e.offset,s.howMany-=b}else if(e.offset<f)if(l<=f){const b=s.howMany;s.howMany=e.offset-s.offset;const A=b-s.howMany-e.nodesToHandle;r.unshift({type:"attribute",offset:e.offset,howMany:A,count:this._changeCount++})}else s.howMany-=f-e.offset}}if(e.type=="attribute"){if(s.type=="insert")if(e.offset<s.offset&&l>s.offset){if(l>f){const b={type:"attribute",offset:f,howMany:l-f,count:this._changeCount++};this._handleChange(b,r),r.push(b)}e.nodesToHandle=s.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=s.offset&&e.offset<f&&(l>f?(e.nodesToHandle=l-f,e.offset=f):e.nodesToHandle=0);if(s.type=="remove"&&e.offset<s.offset&&l>s.offset){const b={type:"attribute",offset:s.offset,howMany:l-s.offset,count:this._changeCount++};this._handleChange(b,r),r.push(b),e.nodesToHandle=s.offset-e.offset,e.howMany=e.nodesToHandle}s.type=="attribute"&&(e.offset>=s.offset&&l<=f?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=s.offset&&l>=f&&(s.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,r,s,l,f){const b={type:"insert",position:Ot._createAt(e,r),name:l.name,attributes:new Map(l.attributes),length:1,changeCount:this._changeCount++,action:s};return s!="insert"&&f&&(b.before={name:f.name,attributes:new Map(f.attributes)}),b}_getRemoveDiff(e,r,s,l){return{type:"remove",action:s,position:Ot._createAt(e,r),name:l.name,attributes:new Map(l.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,r,s){const l=[];s=new Map(s);for(const[f,b]of r){const A=s.has(f)?s.get(f):null;A!==b&&l.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:f,attributeOldValue:b,attributeNewValue:A,changeCount:this._changeCount++}),s.delete(f)}for(const[f,b]of s)l.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:f,attributeOldValue:null,attributeNewValue:b,changeCount:this._changeCount++});return l}_isInInsertedElement(e){const r=e.parent;if(!r)return!1;const s=this._changesInElement.get(r),l=e.startOffset;if(s){for(const f of s)if(f.type=="insert"&&l>=f.offset&&l<f.offset+f.howMany)return!0}return this._isInInsertedElement(r)}_removeAllNestedChanges(e,r,s){const l=new ut(Ot._createAt(e,r),Ot._createAt(e,r+s));for(const f of l.getItems({shallow:!0}))f.is("element")&&(this._changesInElement.delete(f),this._removeAllNestedChanges(f,0,f.maxOffset))}};_v._statesPriority=[void 0,"refresh","rename","move"];let Gu=_v;function x1(u){return{node:u,name:u.is("$text")?"$text":u.name,attributes:new Map(u.getAttributes())}}function n0(u){const e=[];for(const r of u)if(r.is("$text"))for(let s=0;s<r.data.length;++s)e.push(x1(r));else e.push(x1(r));return e}function yS(u,e){const r=[];let s=0,l=0;for(const f of e){if(f.offset>s){for(let b=0;b<f.offset-s;b++)r.push("e");l+=f.offset-s}if(f.type=="insert"){for(let b=0;b<f.howMany;b++)r.push("i");s=f.offset+f.howMany}else if(f.type=="remove"){for(let b=0;b<f.howMany;b++)r.push("r");s=f.offset,l+=f.howMany}else{if(f.howMany>1500)for(let b=0;b<f.howMany;b++)r.push("a");else r.push(..."a".repeat(f.howMany).split(""));s=f.offset+f.howMany,l+=f.howMany}}if(l<u)for(let f=0;f<u-l-s;f++)r.push("e");return r}function AS(u){const e="position"in u&&u.position.root.rootName=="$graveyard",r="range"in u&&u.range.root.rootName=="$graveyard";return!e&&!r}class S1{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new U("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,r=this.version){if(!this._operations.length)return[];const s=this._operations[0];e===void 0&&(e=s.baseVersion);let l=r-1;for(const[A,S]of this._gaps)e>A&&e<S&&(e=S),l>A&&l<S&&(l=A-1);if(l<s.baseVersion||e>this.lastOperation.baseVersion)return[];let f=this._baseVersionToOperationIndex.get(e);f===void 0&&(f=0);let b=this._baseVersionToOperationIndex.get(l);return b===void 0&&(b=this._operations.length-1),this._operations.slice(f,b+1)}getOperation(e){const r=this._baseVersionToOperationIndex.get(e);if(r!==void 0)return this._operations[r]}setOperationAsUndone(e,r){this._undoPairs.set(r,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class r0 extends hi{constructor(e,r,s="main"){super(r),this._isAttached=!0,this._isLoaded=!0,this._document=e,this.rootName=s}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}r0.prototype.is=function(u,e){return e?e===this.name&&(u==="rootElement"||u==="model:rootElement"||u==="element"||u==="model:element"):u==="rootElement"||u==="model:rootElement"||u==="element"||u==="model:element"||u==="node"||u==="model:node"};const ic="$graveyard";class E1 extends ke(){constructor(e){super(),this.model=e,this.history=new S1,this.selection=new no(this),this.roots=new So({idProperty:"rootName"}),this.differ=new Gu(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",ic),this.listenTo(e,"applyOperation",(r,s)=>{const l=s[0];l.isDocumentOperation&&this.differ.bufferOperation(l)},{priority:"high"}),this.listenTo(e,"applyOperation",(r,s)=>{const l=s[0];l.isDocumentOperation&&this.history.addOperation(l)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(r,s,l,f,b)=>{const A={...s.getData(),range:f};this.differ.bufferMarkerChange(s.name,b,A),l===null&&s.on("change",(S,T)=>{const O=s.getData();this.differ.bufferMarkerChange(s.name,{...O,range:T},O)})}),this.registerPostFixer(r=>{let s=!1;for(const l of this.roots)l.isAttached()||l.isEmpty||(r.remove(r.createRangeIn(l)),s=!0);for(const l of this.model.markers)l.getRange().root.isAttached()||(r.removeMarker(l),s=!0);return s})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(ic)}createRoot(e="$root",r="main"){if(this.roots.get(r))throw new U("model-document-createroot-name-exists",this,{name:r});const s=new r0(this,e,r);return this.roots.add(s),s}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(r=>r.rootName)}getRoots(e=!1){return this.roots.filter(r=>r!=this.graveyard&&(e||r.isAttached())&&r._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=Tp(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),r=this.model,s=r.schema,l=r.createPositionFromPath(e,[0]);return s.getNearestSelectionRange(l)||r.createRange(l)}_validateSelectionRange(e){return e.start.isValid()&&e.end.isValid()&&D1(e.start)&&D1(e.end)}_callPostFixers(e){let r=!1;do for(const s of this._postFixers)if(this.selection.refresh(),r=s(e),r)break;while(r)}}function D1(u){const e=u.textNode;if(e){const r=e.data,s=u.offset-e.startOffset;return!Se(r,s)&&!Te(r,s)}return!0}class m_ extends ke(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const r=e instanceof Yu?e.name:e;return this._markers.has(r)}get(e){return this._markers.get(e)||null}_set(e,r,s=!1,l=!1){const f=e instanceof Yu?e.name:e;if(f.includes(","))throw new U("markercollection-incorrect-marker-name",this);const b=this._markers.get(f);if(b){const T=b.getData(),O=b.getRange();let P=!1;return O.isEqual(r)||(b._attachLiveRange(la.fromRange(r)),P=!0),s!=b.managedUsingOperations&&(b._managedUsingOperations=s,P=!0),typeof l=="boolean"&&l!=b.affectsData&&(b._affectsData=l,P=!0),P&&this.fire(`update:${f}`,b,O,r,T),b}const A=la.fromRange(r),S=new Yu(f,A,s,l);return this._markers.set(f,S),this.fire(`update:${f}`,S,null,r,{...S.getData(),range:null}),S}_remove(e){const r=e instanceof Yu?e.name:e,s=this._markers.get(r);return!!s&&(this._markers.delete(r),this.fire(`update:${r}`,s,s.getRange(),null,s.getData()),this._destroyMarker(s),!0)}_refresh(e){const r=e instanceof Yu?e.name:e,s=this._markers.get(r);if(!s)throw new U("markercollection-refresh-marker-not-exists",this);const l=s.getRange();this.fire(`update:${r}`,s,l,l,s.getData())}*getMarkersAtPosition(e){for(const r of this)r.getRange().containsPosition(e)&&(yield r)}*getMarkersIntersectingRange(e){for(const r of this)r.getRange().getIntersection(e)!==null&&(yield r)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const r of this._markers.values())r.name.startsWith(e+":")&&(yield r)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class Yu extends ke(Lr){constructor(e,r,s,l){super(),this.name=e,this._liveRange=this._attachLiveRange(r),this._managedUsingOperations=s,this._affectsData=l}get managedUsingOperations(){if(!this._liveRange)throw new U("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new U("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new U("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new U("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new U("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Yu.prototype.is=function(u){return u==="marker"||u==="model:marker"};class oc extends Cl{constructor(e,r){super(null),this.sourcePosition=e.clone(),this.howMany=r}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new U("detach-operation-on-document-node",this)}_execute(){d_(ut._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class Zc extends Lr{constructor(e){super(),this.markers=new Map,this._children=new Qp,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildAtOffset(e){return this._children.getNodeAtOffset(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let r=this;for(const s of e)r=r.getChildAtOffset(s);return r}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const r of this._children)e.push(r.toJSON());return e}static fromJSON(e){const r=[];for(const s of e)s.name?r.push(hi.fromJSON(s)):r.push(Jr.fromJSON(s));return new Zc(r)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,r){const s=function(l){return typeof l=="string"?[new Jr(l)]:(He(l)||(l=[l]),Array.from(l).map(f=>typeof f=="string"?new Jr(f):f instanceof Fn?new Jr(f.data,f.getAttributes()):f))}(r);for(const l of s)l.parent!==null&&l._remove(),l.parent=this;this._children._insertNodes(e,s)}_removeChildren(e,r=1){const s=this._children._removeNodes(e,r);for(const l of s)l.parent=null;return s}_removeChildrenArray(e){this._children._removeNodesArray(e);for(const r of e)r.parent=null}}Zc.prototype.is=function(u){return u==="documentFragment"||u==="model:documentFragment"};class i0{constructor(e,r){this.model=e,this.batch=r}createText(e,r){return new Jr(e,r)}createElement(e,r){return new hi(e,r)}createDocumentFragment(){return new Zc}cloneElement(e,r=!0){return e._clone(r)}insert(e,r,s=0){if(this._assertWriterUsedCorrectly(),e instanceof Jr&&e.data=="")return;const l=Ot._createAt(r,s);if(e.parent){if(I1(e.root,l.root))return void this.move(ut._createOn(e),l);if(e.root.document)throw new U("model-writer-insert-forbidden-move",this);this.remove(e)}const f=l.root.document?l.root.document.version:null,b=e instanceof Zc?e._removeChildren(0,e.childCount):e,A=new Wo(l,b,f);if(e instanceof Jr&&(A.shouldReceiveAttributes=!0),this.batch.addOperation(A),this.model.applyOperation(A),e instanceof Zc)for(const[S,T]of e.markers){const O=Ot._createAt(T.root,0),P={range:new ut(T.start._getCombined(O,l),T.end._getCombined(O,l)),usingOperation:!0,affectsData:!0};this.model.markers.has(S)?this.updateMarker(S,P):this.addMarker(S,P)}}insertText(e,r,s,l){r instanceof Zc||r instanceof hi||r instanceof Ot?this.insert(this.createText(e),r,s):this.insert(this.createText(e,r),s,l)}insertElement(e,r,s,l){r instanceof Zc||r instanceof hi||r instanceof Ot?this.insert(this.createElement(e),r,s):this.insert(this.createElement(e,r),s,l)}append(e,r){this.insert(e,r,"end")}appendText(e,r,s){r instanceof Zc||r instanceof hi?this.insert(this.createText(e),r,"end"):this.insert(this.createText(e,r),s,"end")}appendElement(e,r,s){r instanceof Zc||r instanceof hi?this.insert(this.createElement(e),r,"end"):this.insert(this.createElement(e,r),s,"end")}setAttribute(e,r,s){if(this._assertWriterUsedCorrectly(),s instanceof ut){const l=s.getMinimalFlatRanges();for(const f of l)Ku(this,e,r,f)}else g_(this,e,r,s)}setAttributes(e,r){for(const[s,l]of ie(e))this.setAttribute(s,l,r)}removeAttribute(e,r){if(this._assertWriterUsedCorrectly(),r instanceof ut){const s=r.getMinimalFlatRanges();for(const l of s)Ku(this,e,null,l)}else g_(this,e,null,r)}clearAttributes(e){this._assertWriterUsedCorrectly();const r=s=>{for(const l of s.getAttributeKeys())this.removeAttribute(l,s)};if(e instanceof ut)for(const s of e.getItems())r(s);else r(e)}move(e,r,s){if(this._assertWriterUsedCorrectly(),!(e instanceof ut))throw new U("writer-move-invalid-range",this);if(!e.isFlat)throw new U("writer-move-range-not-flat",this);const l=Ot._createAt(r,s);if(l.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!I1(e.root,l.root))throw new U("writer-move-different-document",this);const f=e.root.document?e.root.document.version:null,b=new Pr(e.start,e.end.offset-e.start.offset,l,f);this.batch.addOperation(b),this.model.applyOperation(b)}remove(e){this._assertWriterUsedCorrectly();const r=(e instanceof ut?e:ut._createOn(e)).getMinimalFlatRanges().reverse();for(const s of r)this._addOperationForAffectedMarkers("move",s),rm(s.start,s.end.offset-s.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const r=e.nodeBefore,s=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(r instanceof hi))throw new U("writer-merge-no-element-before",this);if(!(s instanceof hi))throw new U("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,r,s){return this.model.createPositionFromPath(e,r,s)}createPositionAt(e,r){return this.model.createPositionAt(e,r)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,r){return this.model.createRange(e,r)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const r=e.nodeBefore,s=e.nodeAfter;this.move(ut._createIn(s),Ot._createAt(r,"end")),this.remove(s)}_merge(e){const r=Ot._createAt(e.nodeBefore,"end"),s=Ot._createAt(e.nodeAfter,0),l=e.root.document.graveyard,f=new Ot(l,[0]),b=e.root.document.version,A=new Fi(s,e.nodeAfter.maxOffset,r,f,b);this.batch.addOperation(A),this.model.applyOperation(A)}rename(e,r){if(this._assertWriterUsedCorrectly(),!(e instanceof hi))throw new U("writer-rename-not-element-instance",this);const s=e.root.document?e.root.document.version:null,l=new xa(Ot._createBefore(e),e.name,r,s);this.batch.addOperation(l),this.model.applyOperation(l)}split(e,r){this._assertWriterUsedCorrectly();let s,l,f=e.parent;if(!f.parent)throw new U("writer-split-element-no-parent",this);if(r||(r=f.parent),!e.parent.getAncestors({includeSelf:!0}).includes(r))throw new U("writer-split-invalid-limit-element",this);do{const b=f.root.document?f.root.document.version:null,A=f.maxOffset-e.offset,S=Ur.getInsertionPosition(e),T=new Ur(e,A,S,null,b);this.batch.addOperation(T),this.model.applyOperation(T),s||l||(s=f,l=e.parent.nextSibling),f=(e=this.createPositionAfter(e.parent)).parent}while(f!==r);return{position:e,range:new ut(Ot._createAt(s,"end"),Ot._createAt(l,0))}}wrap(e,r){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new U("writer-wrap-range-not-flat",this);const s=r instanceof hi?r:new hi(r);if(s.childCount>0)throw new U("writer-wrap-element-not-empty",this);if(s.parent!==null)throw new U("writer-wrap-element-attached",this);this.insert(s,e.start);const l=new ut(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(l,Ot._createAt(s,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new U("writer-unwrap-element-no-parent",this);this.move(ut._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,r){if(this._assertWriterUsedCorrectly(),!r||typeof r.usingOperation!="boolean")throw new U("writer-addmarker-no-usingoperation",this);const s=r.usingOperation,l=r.range,f=r.affectsData!==void 0&&r.affectsData;if(this.model.markers.has(e))throw new U("writer-addmarker-marker-exists",this);if(!l)throw new U("writer-addmarker-no-range",this);return s?(_g(this,e,null,l,f),this.model.markers.get(e)):this.model.markers._set(e,l,s,f)}updateMarker(e,r){this._assertWriterUsedCorrectly();const s=typeof e=="string"?e:e.name,l=this.model.markers.get(s);if(!l)throw new U("writer-updatemarker-marker-not-exists",this);if(!r)return q("writer-updatemarker-reconvert-using-editingcontroller",{markerName:s}),void this.model.markers._refresh(l);const f=typeof r.usingOperation=="boolean",b=typeof r.affectsData=="boolean",A=b?r.affectsData:l.affectsData;if(!f&&!r.range&&!b)throw new U("writer-updatemarker-wrong-options",this);const S=l.getRange(),T=r.range?r.range:S;f&&r.usingOperation!==l.managedUsingOperations?r.usingOperation?_g(this,s,null,T,A):(_g(this,s,S,null,A),this.model.markers._set(s,T,void 0,A)):l.managedUsingOperations?_g(this,s,S,T,A):this.model.markers._set(s,T,void 0,A)}removeMarker(e){this._assertWriterUsedCorrectly();const r=typeof e=="string"?e:e.name;if(!this.model.markers.has(r))throw new U("writer-removemarker-no-marker",this);const s=this.model.markers.get(r);if(!s.managedUsingOperations)return void this.model.markers._remove(r);_g(this,r,s.getRange(),null,s.affectsData)}addRoot(e,r="$root"){this._assertWriterUsedCorrectly();const s=this.model.document.getRoot(e);if(s&&s.isAttached())throw new U("writer-addroot-root-exists",this);const l=this.model.document,f=new xl(e,r,!0,l,l.version);return this.batch.addOperation(f),this.model.applyOperation(f),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const r=typeof e=="string"?this.model.document.getRoot(e):e;if(!r||!r.isAttached())throw new U("writer-detachroot-no-root",this);for(const f of this.model.markers)f.getRange().root===r&&this.removeMarker(f);for(const f of r.getAttributeKeys())this.removeAttribute(f,r);this.remove(this.createRangeIn(r));const s=this.model.document,l=new xl(r.rootName,r.name,!1,s,s.version);this.batch.addOperation(l),this.model.applyOperation(l)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,r){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,r)}setSelectionAttribute(e,r){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,r);else for(const[s,l]of ie(e))this._setSelectionAttribute(s,l)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const r of e)this._removeSelectionAttribute(r)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,r){const s=this.model.document.selection;if(s.isCollapsed&&s.anchor.parent.isEmpty){const l=no._getStoreAttributeKey(e);this.setAttribute(l,r,s.anchor.parent)}s._setAttribute(e,r)}_removeSelectionAttribute(e){const r=this.model.document.selection;if(r.isCollapsed&&r.anchor.parent.isEmpty){const s=no._getStoreAttributeKey(e);this.removeAttribute(s,r.anchor.parent)}r._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new U("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,r){for(const s of this.model.markers){if(!s.managedUsingOperations)continue;const l=s.getRange();let f=!1;if(e==="move"){const b=r;f=b.containsPosition(l.start)||b.start.isEqual(l.start)||b.containsPosition(l.end)||b.end.isEqual(l.end)}else{const b=r,A=b.nodeBefore,S=b.nodeAfter,T=l.start.parent==A&&l.start.isAtEnd,O=l.end.parent==S&&l.end.offset==0,P=l.end.nodeAfter==S,W=l.start.nodeAfter==S;f=T||O||P||W}f&&this.updateMarker(s.name,{range:l})}}}function Ku(u,e,r,s){const l=u.model,f=l.document;let b,A,S,T=s.start;for(const P of s.getWalker({shallow:!0}))S=P.item.getAttribute(e),b&&A!=S&&(A!=r&&O(),T=b),b=P.nextPosition,A=S;function O(){const P=new ut(T,b),W=P.root.document?f.version:null,ee=new Io(P,e,A,r,W);u.batch.addOperation(ee),l.applyOperation(ee)}b instanceof Ot&&b!=T&&A!=r&&O()}function g_(u,e,r,s){const l=u.model,f=l.document,b=s.getAttribute(e);let A,S;if(b!=r){if(s.root===s){const T=s.document?f.version:null;S=new Wu(s,e,b,r,T)}else{A=new ut(Ot._createBefore(s),u.createPositionAfter(s));const T=A.root.document?f.version:null;S=new Io(A,e,b,r,T)}u.batch.addOperation(S),l.applyOperation(S)}}function _g(u,e,r,s,l){const f=u.model,b=f.document,A=new Go(e,r,s,f.markers,!!l,b.version);u.batch.addOperation(A),f.applyOperation(A)}function rm(u,e,r,s){let l;if(u.root.document){const f=s.document,b=new Ot(f.graveyard,[0]);l=new Pr(u,e,b,f.version)}else l=new oc(u,e);r.addOperation(l),s.applyOperation(l)}function I1(u,e){return u===e||u instanceof r0&&e instanceof r0}function _S(u,e,r={}){if(e.isCollapsed)return;const s=e.getFirstRange();if(s.root.rootName=="$graveyard")return;const l=u.schema;u.change(f=>{if(!r.doNotResetEntireContent&&function(T,O){const P=T.getLimitElement(O);if(!O.containsEntireContent(P))return!1;const W=O.getFirstRange();return W.start.parent==W.end.parent?!1:T.checkChild(P,"paragraph")}(l,e))return void function(T,O){const P=T.model.schema.getLimitElement(O);T.remove(T.createRangeIn(P)),w_(T,T.createPositionAt(P,0),O)}(f,e);const b={};if(!r.doNotAutoparagraph){const T=e.getSelectedElement();T&&Object.assign(b,l.getAttributesWithProperty(T,"copyOnReplace",!0))}const[A,S]=function(T){const O=T.root.document.model,P=T.start;let W=T.end;if(O.hasContent(T,{ignoreMarkers:!0})){const ee=function(ne){const le=ne.parent,Ce=le.root.document.model.schema,je=le.getAncestors({parentFirst:!0,includeSelf:!0});for(const qe of je){if(Ce.isLimit(qe))return null;if(Ce.isBlock(qe))return qe}}(W);if(ee&&W.isTouching(O.createPositionAt(ee,0))){const ne=O.createSelection(T);O.modifySelection(ne,{direction:"backward"});const le=ne.getLastPosition(),Ce=O.createRange(le,W);O.hasContent(Ce,{ignoreMarkers:!0})||(W=le)}}return[ea.fromPosition(P,"toPrevious"),ea.fromPosition(W,"toNext")]}(s);A.isTouching(S)||f.remove(f.createRange(A,S)),r.leaveUnmerged||(function(T,O,P){const W=T.model;if(!T1(T.model.schema,O,P))return;const[ee,ne]=function(le,Ce){const je=le.getAncestors(),qe=Ce.getAncestors();let tt=0;for(;je[tt]&&je[tt]==qe[tt];)tt++;return[je[tt],qe[tt]]}(O,P);!ee||!ne||(!W.hasContent(ee,{ignoreMarkers:!0})&&W.hasContent(ne,{ignoreMarkers:!0})?k_(T,O,P,ee.parent):b_(T,O,P,ee.parent))}(f,A,S),l.removeDisallowedAttributes(A.parent.getChildren(),f)),v_(f,e,A),!r.doNotAutoparagraph&&function(T,O){const P=T.checkChild(O,"$text"),W=T.checkChild(O,"paragraph");return!P&&W}(l,A)&&w_(f,A,e,b),A.detach(),S.detach()})}function b_(u,e,r,s){const l=e.parent,f=r.parent;if(l!=s&&f!=s){for(e=u.createPositionAfter(l),(r=u.createPositionBefore(f)).isEqual(e)||u.insert(f,e),u.merge(e);r.parent.isEmpty;){const b=r.parent;r=u.createPositionBefore(b),u.remove(b)}T1(u.model.schema,e,r)&&b_(u,e,r,s)}}function k_(u,e,r,s){const l=e.parent,f=r.parent;if(l!=s&&f!=s){for(e=u.createPositionAfter(l),(r=u.createPositionBefore(f)).isEqual(e)||u.insert(l,r);e.parent.isEmpty;){const b=e.parent;e=u.createPositionBefore(b),u.remove(b)}r=u.createPositionBefore(f),function(b,A){const S=A.nodeBefore,T=A.nodeAfter;S.name!=T.name&&b.rename(S,T.name),b.clearAttributes(S),b.setAttributes(Object.fromEntries(T.getAttributes()),S),b.merge(A)}(u,r),T1(u.model.schema,e,r)&&k_(u,e,r,s)}}function T1(u,e,r){const s=e.parent,l=r.parent;return s!=l&&!u.isLimit(s)&&!u.isLimit(l)&&function(f,b,A){const S=new ut(f,b);for(const T of S.getWalker())if(A.isLimit(T.item))return!1;return!0}(e,r,u)}function w_(u,e,r,s={}){const l=u.createElement("paragraph");u.model.schema.setAllowedAttributes(l,s,u),u.insert(l,e),v_(u,r,u.createPositionAt(l,0))}function v_(u,e,r){e instanceof no?u.setSelection(r):e.setTo(r)}function y_(u,e){const r=[];Array.from(u.getItems({direction:"backward"})).map(s=>e.createRangeOn(s)).filter(s=>(s.start.isAfter(u.start)||s.start.isEqual(u.start))&&(s.end.isBefore(u.end)||s.end.isEqual(u.end))).forEach(s=>{r.push(s.start.parent),e.remove(s)}),r.forEach(s=>{let l=s;for(;l.parent&&l.isEmpty;){const f=e.createRangeOn(l);l=l.parent,e.remove(f)}})}class A_{constructor(e,r,s){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=r,this.position=s,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=r.createDocumentFragment(),this._documentFragmentPosition=r.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const r of Array.from(e))this._handleNode(r);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const r=this.writer.createPositionAfter(this._lastNode),s=this.writer.createPositionAfter(e);if(s.isAfter(r)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new U("insertcontent-invalid-insertion-position",this);this.position=s,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?ut._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new ut(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){this._checkAndSplitToAllowedPosition(e)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this.schema.isObject(e)||this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=ea.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleDisallowedNode(e){e.is("element")&&this.handleNodes(e.getChildren())}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new U("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=ea.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=ea.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof hi)||!this._canMergeLeft(e))return;const r=ea._createBefore(e);r.stickiness="toNext";const s=ea.fromPosition(this.position,"toNext");this._affectedStart.isEqual(r)&&(this._affectedStart.detach(),this._affectedStart=ea._createAt(r.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=r.nodeBefore,this._lastNode=r.nodeBefore),this.writer.merge(r),r.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=ea._createAt(r.nodeBefore,"end","toNext")),this.position=s.toPosition(),s.detach(),this._filterAttributesOf.push(this.position.parent),r.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof hi)||!this._canMergeRight(e))return;const r=ea._createAfter(e);if(r.stickiness="toNext",!this.position.isEqual(r))throw new U("insertcontent-invalid-insertion-position",this);this.position=Ot._createAt(r.nodeBefore,"end");const s=ea.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(r)&&(this._affectedEnd.detach(),this._affectedEnd=ea._createAt(r.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=r.nodeBefore,this._lastNode=r.nodeBefore),this.writer.merge(r),r.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=ea._createAt(r.nodeBefore,0,"toPrevious")),this.position=s.toPosition(),s.detach(),this._filterAttributesOf.push(this.position.parent),r.detach()}_canMergeLeft(e){const r=e.previousSibling;return r instanceof hi&&this.canMergeWith.has(r)&&this.model.schema.checkMerge(r,e)}_canMergeRight(e){const r=e.nextSibling;return r instanceof hi&&this.canMergeWith.has(r)&&this.model.schema.checkMerge(e,r)}_insertAutoParagraph(){this._insertPartialFragment();const e=this.writer.createElement("paragraph");this.writer.insert(e,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=e,this.position=this.writer.createPositionAt(e,0)}_checkAndSplitToAllowedPosition(e){const r=this._getAllowedIn(this.position.parent,e);if(!r)return!1;for(r!=this.position.parent&&this._insertPartialFragment();r!=this.position.parent;)if(this.position.isAtStart){const s=this.position.parent;this.position=this.writer.createPositionBefore(s),s.isEmpty&&s.parent===r&&this.writer.remove(s)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const s=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=s,this.canMergeWith.add(this.position.nodeAfter)}return this.schema.checkChild(this.position.parent,e)||this._insertAutoParagraph(),!0}_getAllowedIn(e,r){return this.schema.checkChild(e,r)||this.schema.checkChild(e,"paragraph")&&this.schema.checkChild("paragraph",r)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,r)}}function im(u,e,r,s={}){if(!u.schema.isObject(e))throw new U("insertobject-element-not-an-object",u,{object:e});const l=r||u.document.selection;let f=l;s.findOptimalPosition&&u.schema.isBlock(e)&&(f=u.createSelection(u.schema.findOptimalInsertionRange(l,s.findOptimalPosition)));const b=qo(l.getSelectedBlocks()),A={};return b&&Object.assign(A,u.schema.getAttributesWithProperty(b,"copyOnReplace",!0)),u.change(S=>{f.isCollapsed||u.deleteContent(f,{doNotAutoparagraph:!0});let T=e;const O=f.anchor.parent;!u.schema.checkChild(O,e)&&u.schema.checkChild(O,"paragraph")&&u.schema.checkChild("paragraph",e)&&(T=S.createElement("paragraph"),S.insert(e,T)),u.schema.setAllowedAttributes(T,A,S);const P=u.insertContent(T,f);return P.isCollapsed||s.setSelection&&function(W,ee,ne,le){const Ce=W.model;if(ne=="on")return void W.setSelection(ee,"on");if(ne!="after")throw new U("insertobject-invalid-place-parameter-value",Ce);let je=ee.nextSibling;if(Ce.schema.isInline(ee))return void W.setSelection(ee,"after");!(je&&Ce.schema.checkChild(je,"$text"))&&Ce.schema.checkChild(ee.parent,"paragraph")&&(je=W.createElement("paragraph"),Ce.schema.setAllowedAttributes(je,le,W),Ce.insertContent(je,W.createPositionAfter(ee))),je&&W.setSelection(je,0)}(S,e,s.setSelection,A),P})}function Cg(u,e){const{isForward:r,walker:s,unit:l,schema:f,treatEmojiAsSingleUnit:b}=u,{type:A,item:S,nextPosition:T}=e;if(A=="text")return u.unit==="word"?function(O,P){let W=O.position.textNode;for(W||(W=P?O.position.nodeAfter:O.position.nodeBefore);W&&W.is("$text");){const ee=O.position.offset-W.startOffset;if(om(W,ee,P))W=P?O.position.nodeAfter:O.position.nodeBefore;else{if(CS(W.data,ee,P))break;O.next()}}return O.position}(s,r):function(O,P,W){const ee=O.position.textNode;if(ee){const ne=ee.data;let le=O.position.offset-ee.startOffset;for(;Se(ne,le)||P=="character"&&Te(ne,le)||W&&We(ne,le);)O.next(),le=O.position.offset-ee.startOffset}return O.position}(s,l,b);if(A==(r?"elementStart":"elementEnd")){if(f.isSelectable(S))return Ot._createAt(S,r?"after":"before");if(f.checkChild(T,"$text"))return T}else{if(f.isLimit(S))return void s.skip(()=>!0);if(f.checkChild(T,"$text"))return T}}function __(u,e){const r=u.root,s=Ot._createAt(r,e?"end":0);return e?new ut(u,s):new ut(s,u)}function CS(u,e,r){const s=e+(r?0:-1);return' ,.?!:;"-()'.includes(u.charAt(s))}function om(u,e,r){return e===(r?u.offsetSize:0)}class xg extends Ae(){constructor(){super(),this.markers=new m_,this.document=new E1(this),this.schema=new bS,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,r)=>{r[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck(()=>!0,"$marker"),m1(this),this.document.registerPostFixer(c1),this.on("insertContent",(e,[r,s])=>{e.return=function(l,f,b){return l.change(A=>{const S=b||l.document.selection;S.isCollapsed||l.deleteContent(S,{doNotAutoparagraph:!0});const T=new A_(l,A,S.anchor),O=[];let P;if(f.is("documentFragment")){if(f.markers.size){const ne=[];for(const[le,Ce]of f.markers){const{start:je,end:qe}=Ce,tt=je.isEqual(qe);ne.push({position:je,name:le,isCollapsed:tt},{position:qe,name:le,isCollapsed:tt})}ne.sort(({position:le},{position:Ce})=>le.isBefore(Ce)?1:-1);for(const{position:le,name:Ce,isCollapsed:je}of ne){let qe=null,tt=null;const Dt=le.parent===f&&le.isAtStart,Nt=le.parent===f&&le.isAtEnd;Dt||Nt?je&&(tt=Dt?"start":"end"):(qe=A.createElement("$marker"),A.insert(qe,le)),O.push({name:Ce,element:qe,collapsed:tt})}}P=f.getChildren()}else P=[f];T.handleNodes(P);let W=T.getSelectionRange();if(f.is("documentFragment")&&O.length){const ne=W?la.fromRange(W):null,le={};for(let Ce=O.length-1;Ce>=0;Ce--){const{name:je,element:qe,collapsed:tt}=O[Ce],Dt=!le[je];if(Dt&&(le[je]=[]),qe){const Nt=A.createPositionAt(qe,"before");le[je].push(Nt),A.remove(qe)}else{const Nt=T.getAffectedRange();if(!Nt){tt&&le[je].push(T.position);continue}tt?le[je].push(Nt[tt]):le[je].push(Dt?Nt.start:Nt.end)}}for(const[Ce,[je,qe]]of Object.entries(le))je&&qe&&je.root===qe.root&&je.root.document&&!A.model.markers.has(Ce)&&A.addMarker(Ce,{usingOperation:!0,affectsData:!0,range:new ut(je,qe)});ne&&(W=ne.toRange(),ne.detach())}W&&(S instanceof no?A.setSelection(W):S.setTo(W));const ee=T.getAffectedRange()||l.createRange(S.anchor);return T.destroy(),ee})}(this,r,s)}),this.on("insertObject",(e,[r,s,l])=>{e.return=im(this,r,s,l)}),this.on("canEditAt",e=>{const r=!this.document.isReadOnly;e.return=r,r||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new nm,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(r){U.rethrowUnexpectedError(r,this)}}enqueueChange(e,r){try{e?typeof e=="function"?(r=e,e=new nm):e instanceof nm||(e=new nm(e)):e=new nm,this._pendingChanges.push({batch:e,callback:r}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(s){U.rethrowUnexpectedError(s,this)}}applyOperation(e){e._execute()}insertContent(e,r,s,...l){const f=o0(r,s);return this.fire("insertContent",[e,f,s,...l])}insertObject(e,r,s,l,...f){const b=o0(r,s);return this.fire("insertObject",[e,b,l,l,...f])}deleteContent(e,r){_S(this,e,r)}modifySelection(e,r){(function(s,l,f={}){const b=s.schema,A=f.direction!="backward",S=f.unit?f.unit:"character",T=!!f.treatEmojiAsSingleUnit,O=l.focus,P=new Jn({boundaries:__(O,A),singleCharacters:!0,direction:A?"forward":"backward"}),W={walker:P,schema:b,isForward:A,unit:S,treatEmojiAsSingleUnit:T};let ee;for(;ee=P.next();){if(ee.done)return;const ne=Cg(W,ee.value);if(ne)return void(l instanceof no?s.change(le=>{le.setSelectionFocus(ne)}):l.setFocus(ne))}})(this,e,r)}getSelectedContent(e){return function(r,s){return r.change(l=>{const f=l.createDocumentFragment(),b=s.getFirstRange();if(!b||b.isCollapsed)return f;const A=b.start.root,S=b.start.getCommonPath(b.end),T=A.getNodeByPath(S);let O;O=b.start.parent==b.end.parent?b:l.createRange(l.createPositionAt(T,b.start.path[S.length]),l.createPositionAt(T,b.end.path[S.length]+1));const P=O.end.offset-O.start.offset;for(const W of O.getItems({shallow:!0}))W.is("$textProxy")?l.appendText(W.data,W.getAttributes(),f):l.append(l.cloneElement(W,!0),f);if(O!=b){const W=b._getTransformedByMove(O.start,l.createPositionAt(f,0),P)[0],ee=l.createRange(l.createPositionAt(f,0),W.start);y_(l.createRange(W.end,l.createPositionAt(f,"end")),l),y_(ee,l)}return f})}(this,e)}hasContent(e,r={}){const s=e instanceof ut?e:ut._createIn(e);if(s.isCollapsed)return!1;const{ignoreWhitespaces:l=!1,ignoreMarkers:f=!1}=r;if(!f){for(const b of this.markers.getMarkersIntersectingRange(s))if(b.affectsData)return!0}for(const b of s.getItems())if(this.schema.isContent(b)&&(!b.is("$textProxy")||!l||b.data.search(/\S/)!==-1))return!0;return!1}canEditAt(e){const r=o0(e);return this.fire("canEditAt",[r])}createPositionFromPath(e,r,s){return new Ot(e,r,s)}createPositionAt(e,r){return Ot._createAt(e,r)}createPositionAfter(e){return Ot._createAfter(e)}createPositionBefore(e){return Ot._createBefore(e)}createRange(e,r){return new ut(e,r)}createRangeIn(e){return ut._createIn(e)}createRangeOn(e){return ut._createOn(e)}createSelection(...e){return new aa(...e)}createBatch(e){return new nm(e)}createOperationFromJSON(e){return A1.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const r=this._pendingChanges[0].batch;this._currentWriter=new i0(this,r);const s=this._pendingChanges[0].callback(this._currentWriter);e.push(s),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function o0(u,e){if(u)return u instanceof aa||u instanceof no?u:u instanceof Hd?e||e===0?new aa(u,e):u.is("rootElement")?new aa(u,"in"):new aa(u,"on"):new aa(u)}class s0 extends yl{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class Sg extends yl{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class M1 extends yl{constructor(){super(...arguments),this.domEventType=["touchstart","touchend","touchmove"]}onDomEvent(e){this.fire(e.type,e)}}class sc{constructor(e){this.document=e}createDocumentFragment(e){return new Pd(this.document,e)}createElement(e,r,s){return new Wa(this.document,e,r,s)}createText(e){return new eo(this.document,e)}clone(e,r=!1){return e._clone(r)}appendChild(e,r){return r._appendChild(e)}insertChild(e,r,s){return s._insertChild(e,r)}removeChildren(e,r,s){return s._removeChildren(e,r)}remove(e){const r=e.parent;return r?this.removeChildren(r.getChildIndex(e),1,r):[]}replace(e,r){const s=e.parent;if(s){const l=s.getChildIndex(e);return this.removeChildren(l,1,s),this.insertChild(l,r,s),!0}return!1}unwrapElement(e){const r=e.parent;if(r){const s=r.getChildIndex(e);this.remove(e),this.insertChild(s,e.getChildren(),r)}}rename(e,r){const s=new Wa(this.document,e,r.getAttributes(),r.getChildren());return this.replace(r,s)?s:null}setAttribute(e,r,s){s._setAttribute(e,r)}removeAttribute(e,r){r._removeAttribute(e)}addClass(e,r){r._addClass(e)}removeClass(e,r){r._removeClass(e)}setStyle(e,r,s){or(e)&&s===void 0?r._setStyle(e):s._setStyle(e,r)}removeStyle(e,r){r._removeStyle(e)}setCustomProperty(e,r,s){s._setCustomProperty(e,r)}removeCustomProperty(e,r){return r._removeCustomProperty(e)}createPositionAt(e,r){return Qt._createAt(e,r)}createPositionAfter(e){return Qt._createAfter(e)}createPositionBefore(e){return Qt._createBefore(e)}createRange(e,r){return new Nn(e,r)}createRangeOn(e){return Nn._createOn(e)}createRangeIn(e){return Nn._createIn(e)}createSelection(...e){return new Jl(...e)}}class N1{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=r=>{const s="error"in r?r.error:r.reason;s instanceof Error&&this._handleError(s,r)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,r){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(r)}off(e,r){this._listeners[e]=this._listeners[e].filter(s=>s!==r)}_fire(e,...r){const s=this._listeners[e]||[];for(const l of s)l.apply(this,[null,...r])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,r){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:r instanceof ErrorEvent?r.filename:void 0,lineno:r instanceof ErrorEvent?r.lineno:void 0,colno:r instanceof ErrorEvent?r.colno:void 0,date:this._now()});const s=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:s}),s?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}const Eg=function(u,e,r){var s=!0,l=!0;if(typeof u!="function")throw new TypeError("Expected a function");return Ge(r)&&(s="leading"in r?!!r.leading:s,l="trailing"in r?!!r.trailing:l),$f(u,e,{leading:s,maxWait:e,trailing:l})};function j1(u,e=new Set){const r=[u],s=new Set;let l=0;for(;r.length>l;){const f=r[l++];if(!s.has(f)&&C_(f)&&!e.has(f))if(s.add(f),Symbol.iterator in f)try{for(const b of f)r.push(b)}catch{}else for(const b in f)b!=="defaultValue"&&r.push(f[b])}return s}function C_(u){const e=Object.prototype.toString.call(u),r=typeof u;return!(r==="number"||r==="boolean"||r==="string"||r==="symbol"||r==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||u==null||u._watchdogExcluded||u instanceof EventTarget||u instanceof Event)}function sm(u,e,r=new Set){if(u===e&&typeof(s=u)=="object"&&s!==null)return!0;var s;const l=j1(u,r),f=j1(e,r);for(const b of l)if(f.has(b))return!0;return!1}class x_ extends N1{constructor(e,r={}){super(r),this._editor=null,this._lifecyclePromise=null,this._initUsingData=!0,this._editables={},this._throttledSave=Eg(this._save.bind(this),typeof r.saveInterval=="number"?r.saveInterval:5e3),e&&(this._creator=(s,l)=>e.create(s,l)),this._destructor=s=>s.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},r=[],s=this._config.rootsAttributes||{},l={};for(const[b,A]of Object.entries(this._data.roots))A.isLoaded?(e[b]="",l[b]=s[b]||{}):r.push(b);const f={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:r,rootsAttributes:l,_watchdogInitialData:this._data};return delete f.initialData,f.extraPlugins.push(xS),this._initUsingData?this.create(e,f,f.context):Hs(this._elementOrData)?this.create(this._elementOrData,f,f.context):this.create(this._editables,f,f.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,r=this._config,s){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(r)||{},this._config.context=s,this._creator(e,this._config))).then(l=>{this._editor=l,l.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=l.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(r){console.error(r,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,r=e.model.document.roots.filter(A=>A.isAttached()&&A.rootName!="$graveyard"),{plugins:s}=e,l=s.has("CommentsRepository")&&s.get("CommentsRepository"),f=s.has("TrackChanges")&&s.get("TrackChanges"),b={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};r.forEach(A=>{b.roots[A.rootName]={content:JSON.stringify(Array.from(A.getChildren())),attributes:JSON.stringify(Array.from(A.getAttributes())),isLoaded:A._isLoaded}});for(const A of e.model.markers)A._affectsData&&(b.markers[A.name]={rangeJSON:A.getRange().toJSON(),usingOperation:A._managedUsingOperations,affectsData:A._affectsData});return l&&(b.commentThreads=JSON.stringify(l.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),f&&(b.suggestions=JSON.stringify(f.getSuggestions({toJSON:!0,skipNotAttached:!0}))),b}_getEditables(){const e={};for(const r of this.editor.model.document.getRootNames()){const s=this.editor.ui.getEditableElement(r);s&&(e[r]=s)}return e}_isErrorComingFromThisItem(e){return sm(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return xu(e,(r,s)=>Hs(r)||s==="context"?r:void 0)}}class xS{constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},r=>{this._restoreCollaborationData(),this._restoreEditorData(r)}),this.editor.data.fire("ready")},{priority:999})}_createNode(e,r){if("name"in r){const s=e.createElement(r.name,r.attributes);if(r.children)for(const l of r.children)s._appendChild(this._createNode(e,l));return s}return e.createText(r.data,r.attributes)}_restoreEditorData(e){const r=this.editor;Object.entries(this._data.roots).forEach(([s,{content:l,attributes:f}])=>{const b=JSON.parse(l),A=JSON.parse(f),S=r.model.document.getRoot(s);for(const[T,O]of A)e.setAttribute(T,O,S);for(const T of b){const O=this._createNode(e,T);e.insert(O,S,"end")}}),Object.entries(this._data.markers).forEach(([s,l])=>{const{document:f}=r.model,{rangeJSON:{start:b,end:A},...S}=l,T=f.getRoot(b.root),O=e.createPositionFromPath(T,b.path,b.stickiness),P=e.createPositionFromPath(T,A.path,A.stickiness),W=e.createRange(O,P);e.addMarker(s,{range:W,...S})})}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),r=JSON.parse(this._data.suggestions);e.forEach(s=>{const l=this.editor.config.get("collaboration.channelId"),f=this.editor.plugins.get("CommentsRepository");f.hasCommentThread(s.threadId)&&f.getCommentThread(s.threadId).remove(),f.addCommentThread({channelId:l,...s})}),r.forEach(s=>{const l=this.editor.plugins.get("TrackChangesEditing");l.hasSuggestion(s.id)?l.getSuggestion(s.id).attributes=s.attributes:l.addSuggestionData(s)})}}const Dg=Symbol("MainQueueId");class a0 extends N1{constructor(e,r={}){super(r),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new l0,this._watchdogConfig=r,this._creator=s=>e.create(s),this._destructor=s=>s.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}get context(){return this._context}create(e={}){return this._actionQueues.enqueue(Dg,()=>(this._contextConfig=e,this._create()))}getItem(e){return this._getWatchdog(e)._item}getItemState(e){return this._getWatchdog(e).state}add(e){const r=c0(e);return Promise.all(r.map(s=>this._actionQueues.enqueue(s.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let l;if(this._watchdogs.has(s.id))throw new Error(`Item with the given id is already added: '${s.id}'.`);if(s.type==="editor")return l=new x_(null,this._watchdogConfig),l.setCreator(s.creator),l._setExcludedProperties(this._contextProps),s.destructor&&l.setDestructor(s.destructor),this._watchdogs.set(s.id,l),l.on("error",(f,{error:b,causesRestart:A})=>{this._fire("itemError",{itemId:s.id,error:b}),A&&this._actionQueues.enqueue(s.id,()=>new Promise(S=>{const T=()=>{l.off("restart",T),this._fire("itemRestart",{itemId:s.id}),S()};l.on("restart",T)}))}),l.create(s.sourceElementOrData,s.config,this._context);throw new Error(`Not supported item type: '${s.type}'.`)})))}remove(e){const r=c0(e);return Promise.all(r.map(s=>this._actionQueues.enqueue(s,()=>{const l=this._getWatchdog(s);return this._watchdogs.delete(s),l.destroy()})))}destroy(){return this._actionQueues.enqueue(Dg,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Dg,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(e=>{console.error("An error happened during destroying the context or items.",e)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(e=>(this._context=e,this._contextProps=j1(this._context),Promise.all(Array.from(this._watchdogs.values()).map(r=>(r._setExcludedProperties(this._contextProps),r.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const e=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(r=>r.destroy())).then(()=>this._destructor(e))})}_getWatchdog(e){const r=this._watchdogs.get(e);if(!r)throw new Error(`Item with the given id was not registered: ${e}.`);return r}_isErrorComingFromThisItem(e){for(const r of this._watchdogs.values())if(r._isErrorComingFromThisItem(e))return!1;return sm(this._context,e.context)}}class l0{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,r){const s=e===Dg;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const l=(s?Promise.all(this._queues.values()):Promise.all([this._queues.get(Dg),this._queues.get(e)])).then(r),f=l.catch(()=>{});return this._queues.set(e,f),l.finally(()=>{this._activeActions--,this._queues.get(e)===f&&this._activeActions===0&&this._onEmptyCallbacks.forEach(b=>b())})}}function c0(u){return Array.isArray(u)?u:[u]}class SS{constructor(){this._commands=new Map}add(e,r){this._commands.set(e,r)}get(e){return this._commands.get(e)}execute(e,...r){const s=this.get(e);if(!s)throw new U("commandcollection-command-not-found",this,{commandName:e});return s.execute(...r)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}class Ig extends K{constructor(e){super(),this.editor=e}set(e,r,s={}){if(typeof r=="string"){const l=r;r=(f,b)=>{this.editor.execute(l),b()}}super.set(e,r,s)}}const O1="contentEditing",B1="common";class S_{constructor(e){this.keystrokeInfos=new Map,this._editor=e;const r=e.config.get("menuBar.isVisible"),s=e.locale.t;this.addKeystrokeInfoCategory({id:O1,label:s("Content editing keystrokes"),description:s("These keyboard shortcuts allow for quick access to content editing features.")});const l=[{label:s("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:s("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:s("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:s("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:s("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:s("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];r&&l.push({label:s("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:s("User interface and content navigation keystrokes"),description:s("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:l}]})}addKeystrokeInfoCategory({id:e,label:r,description:s,groups:l}){this.keystrokeInfos.set(e,{id:e,label:r,description:s,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:e,id:B1}),l&&l.forEach(f=>{this.addKeystrokeInfoGroup({categoryId:e,...f})})}addKeystrokeInfoGroup({categoryId:e=O1,id:r,label:s,keystrokes:l}){const f=this.keystrokeInfos.get(e);if(!f)throw new U("accessibility-unknown-keystroke-info-category",this._editor,{groupId:r,categoryId:e});f.groups.set(r,{id:r,label:s,keystrokes:l||[]})}addKeystrokeInfos({categoryId:e=O1,groupId:r=B1,keystrokes:s}){if(!this.keystrokeInfos.has(e))throw new U("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:e,keystrokes:s});const l=this.keystrokeInfos.get(e);if(!l.groups.has(r))throw new U("accessibility-unknown-keystroke-info-group",this._editor,{groupId:r,categoryId:e,keystrokes:s});l.groups.get(r).keystrokes.push(...s)}}function E_(u){return Object.getPrototypeOf(u).constructor.editorName}function u0(u){if(!u)return;const e=Array.isArray(u)?{items:u}:u,r=function l(f){return f.flatMap(b=>typeof b=="string"?[b]:l(b.items))}(e.items||[]);return{isMultiline:r.includes("-"),shouldNotGroupWhenFull:!!e.shouldNotGroupWhenFull,items:(s=r,s.filter(l=>l!=="|"&&l!=="-"))};var s}function L1(){let u="unknown",e="unknown";return v.isMac?u="mac":v.isWindows?u="windows":v.isiOS?u="ios":v.isAndroid&&(u="android"),v.isGecko?e="gecko":v.isBlink?e="blink":v.isSafari&&(e="safari"),{os:u,browser:e}}function D_(){return localStorage.getItem("__ckeditor-session-id")||localStorage.setItem("__ckeditor-session-id",ae()),localStorage.getItem("__ckeditor-session-id")}function d0(){return p.window.CKEDITOR_PAGE_SESSION_ID=p.window.CKEDITOR_PAGE_SESSION_ID||ae(),p.window.CKEDITOR_PAGE_SESSION_ID}const Cv=class Cv extends Ae(){static get editorName(){return"Editor"}constructor(e={}){if(super(),"sanitizeHtml"in e)throw new U("editor-config-sanitizehtml-not-supported");const r=this.constructor,{translations:s,...l}=r.defaultConfig||{},{translations:f=s,...b}=e,A=e.language||l.language;this._context=e.context||new qc({language:A,translations:f}),this._context._addEditor(this,!e.context);const S=Array.from(r.builtinPlugins||[]);this.config=new Nc(b,l),this.config.define("plugins",S),this.config.define(this._context._getEditorConfig()),function(O){let P=O.get("licenseKey");if(!P&&window.CKEDITOR_GLOBAL_LICENSE_KEY&&(P=window.CKEDITOR_GLOBAL_LICENSE_KEY,O.set("licenseKey",P)),!P)throw new U("license-key-missing")}(this.config),this.plugins=new Qs(this,S,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new SS,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new xg,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const T=new Lk;this.data=new wS(this.model,T),this.editing=new gS(this.model,T),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new v1([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new Ig(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new S_(this),function(O){const P=O.config.get("licenseKey"),W=window[Symbol.for("cke distribution")]||"sh";function ee(qe){O.enableReadOnlyMode(Symbol("invalidLicense")),O._showLicenseError(qe)}if(P=="GPL")return void(W=="cloud"&&ee("distributionChannel"));const ne=function(qe){const tt=qe.split(".");return tt.length!=3?null:tt[1]}(P);if(!ne)return void ee("invalid");const le=_e(ne);if(!le||(Ce=le,!["exp","jti","vc"].every(qe=>qe in Ce)))return void ee("invalid");var Ce;if(le.distributionChannel&&!ar(le.distributionChannel).includes(W))return void ee("distributionChannel");if(function(qe){const tt=Array.isArray(qe)?qe:[qe],Dt=function(){const An=[];for(let Xr=0;Xr<256;Xr++){let ro=Xr;for(let xv=0;xv<8;xv++)1&ro?ro=3988292384^ro>>>1:ro>>>=1;An[Xr]=ro}return An}();let Nt=-1;const wn=tt.map(An=>Array.isArray(An)?An.join(""):String(An)).join("");for(let An=0;An<wn.length;An++)Nt=Nt>>>8^Dt[255&(Nt^wn.charCodeAt(An))];return Nt=~Nt>>>0,Nt.toString(16).padStart(8,"0")}(function(qe){return Object.getOwnPropertyNames(qe).sort().filter(tt=>tt!="vc"&&qe[tt]!=null).map(tt=>qe[tt])}(le))!=le.vc.toLowerCase())return void ee("invalid");if(new Date(1e3*le.exp)<Me)return void ee("expired");const je=le.licensedHosts;if(je&&je.length>0&&!function(qe){const{hostname:tt}=new URL(window.location.href);if(qe.includes(tt))return!0;const Dt=tt.split(".");return qe.filter(Nt=>Nt.includes("*")).map(Nt=>Nt.split(".")).filter(Nt=>Nt.length<=Dt.length).map(Nt=>Array(Dt.length-Nt.length).fill(Nt[0]==="*"?"*":"").concat(Nt)).some(Nt=>Dt.every((wn,An)=>Nt[An]===wn||Nt[An]==="*"))}(je))return void ee("domainLimit");if(["evaluation","trial"].includes(le.licenseType)&&1e3*le.exp<Date.now())return void ee("expired");if(["development","evaluation","trial"].includes(le.licenseType)){const{licenseType:qe}=le,tt=qe[0].toUpperCase()+qe.slice(1),Dt=qe==="evaluation"?"an":"a";console.info(`%cCKEditor 5 ${tt} License`,"color: #ffffff; background: #743CCD; font-size: 14px; padding: 4px 8px; border-radius: 4px;"),console.warn(` You are using ${Dt} ${qe} license of CKEditor 5${qe==="trial"?" which is for evaluation purposes only":""}. For production usage, please obtain a production license at https://portal.ckeditor.com/`)}if(["evaluation","trial"].includes(le.licenseType)){const qe=le.licenseType,tt=setTimeout(()=>{ee(`${qe}Limit`)},6e5);O.on("destroy",()=>{clearTimeout(tt)})}le.usageEndpoint&&O.once("ready",()=>{const qe={requestId:ae(),requestTime:Math.round(Date.now()/1e3),license:P,editor:ES(O)};O._sendUsageRequest(le.usageEndpoint,qe).then(tt=>{const{status:Dt,message:Nt}=tt;Nt&&console.warn(Nt),Dt!="ok"&&ee("usageLimit")},()=>{fe("license-key-validation-endpoint-not-reachable",{url:le.usageEndpoint})})},{priority:"high"})}(this)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new U("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new U("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new U("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(e){this.data.set(e)}getData(e){return this.data.get(e)}initPlugins(){const e=this.config,r=e.get("plugins"),s=e.get("removePlugins")||[],l=e.get("extraPlugins")||[],f=e.get("substitutePlugins")||[];return this.plugins.init(r.concat(l),s,f)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(r=>this.once("ready",r))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...r){try{return this.commands.execute(e,...r)}catch(s){U.rethrowUnexpectedError(s,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}_showLicenseError(e,r){setTimeout(()=>{if(e=="invalid")throw new U("invalid-license-key");if(e=="expired")throw new U("license-key-expired");if(e=="domainLimit")throw new U("license-key-domain-limit");if(e=="featureNotAllowed")throw new U("license-key-plugin-not-allowed",null,{pluginName:r});if(e=="evaluationLimit")throw new U("license-key-evaluation-limit");if(e=="trialLimit")throw new U("license-key-trial-limit");if(e=="developmentLimit")throw new U("license-key-development-limit");if(e=="usageLimit")throw new U("license-key-usage-limit");if(e=="distributionChannel")throw new U("license-key-invalid-distribution-channel")},0),this._showLicenseError=()=>{}}async _sendUsageRequest(e,r){const s=new Headers({"Content-Type":"application/json"}),l=await fetch(new URL(e),{method:"POST",headers:s,body:JSON.stringify(r)});if(!l.ok)throw new Error(`HTTP Response: ${l.status}`);return l.json()}};Cv.Context=qc,Cv.EditorWatchdog=x_,Cv.ContextWatchdog=a0;let P1=Cv;function ES(u){const e=function(r){return{sessionId:D_(),pageSessionId:d0(),hostname:window.location.hostname,version:globalThis.CKEDITOR_VERSION,type:E_(r),plugins:(s=r.plugins,Array.from(s).filter(([l])=>!!l.pluginName).map(([l])=>{const{pluginName:f,isContextPlugin:b,isOfficialPlugin:A,isPremiumPlugin:S}=l;return{isContext:!!b,isOfficial:!!A,isPremium:!!S,name:f}})),distribution:{channel:window[Symbol.for("cke distribution")]||"sh"},env:L1(),integration:Object.create(null),menuBar:{isVisible:!!r.config.get("menuBar.isVisible")},language:{ui:r.locale.uiLanguage,content:r.locale.contentLanguage},toolbar:{main:u0(r.config.get("toolbar")),block:u0(r.config.get("blockToolbar")),balloon:u0(r.config.get("balloonToolbar"))}};var s}(u);return u.fire("collectUsageData",{setUsageData:function(r,s){if(Hc(e,r)!==void 0)throw new U("editor-usage-data-path-already-set",{path:r});ig(e,r,s)}}),e}function Tg(u){return class extends u{updateSourceElement(e){if(!this.sourceElement)throw new U("editor-missing-sourceelement",this);const r=this.config.get("updateSourceElementOnDestroy"),s=this.sourceElement instanceof HTMLTextAreaElement;if(!r&&!s)return void xd(this.sourceElement,"");const l=typeof e=="string"?e:this.data.get();xd(this.sourceElement,l)}}}Tg.updateSourceElement=Tg(Object).prototype.updateSourceElement;class h0 extends cs{static get pluginName(){return"PendingActions"}static get isOfficialPlugin(){return!0}init(){this.set("hasAny",!1),this._actions=new So({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new U("pendingactions-add-invalid-message",this);const r=new(Ae());return r.set("message",e),this._actions.add(r),this.hasAny=!0,r}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const cn={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.66 9.118a.693.693 0 0 1 .956.032l3.65 3.411 2.422-2.238a.695.695 0 0 1 .945 0L17.5 13.6V2.5h-15v11.1l4.16-4.482ZM17.8 1c.652 0 1.2.47 1.2 1.1v14.362c0 .64-.532 1.038-1.184 1.038H2.184C1.532 17.5 1 17.103 1 16.462V2.1C1 1.47 1.537 1 2.2 1h15.6Zm-5.655 6a2.128 2.128 0 0 1 .157-2.364A2.133 2.133 0 1 1 12.145 7Z"/></svg>',imageUpload:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a2.97 2.97 0 0 1-.414-.287 2.998 2.998 0 0 1-1.055-2.03 3.003 3.003 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.134 2.134 0 0 0-1.875-.978Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/></svg>',imageAssetManager:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1c-.662 0-1.2.47-1.2 1.1v14.248c0 .64.533 1.152 1.185 1.152h6.623v-7.236L6.617 9.15a.694.694 0 0 0-.957-.033L1.602 13.55V2.553l14.798.003V9.7H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.094 2.094 0 0 0-1.621.832 2.127 2.127 0 0 0 1.136 3.357 2.13 2.13 0 0 0 2.611-1.506 2.133 2.133 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.366-.44Z"/><path clip-rule="evenodd" d="M19.898 12.369v6.187a.844.844 0 0 1-.844.844h-8.719a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.531a.843.843 0 0 1 .597.248l.838.852h4.75c.223 0 .441.114.6.272a.844.844 0 0 1 .247.597Zm-1.52.654-4.377.02-1.1-1.143H11v6h7.4l-.023-4.877Z"/></svg>',textAlternative:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.903 1.903 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598ZM7.463 8.163a.611.611 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.628.628 0 0 0-.417-.185Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.618.618 0 0 0-.42-.165ZM.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.908.908 0 0 0-.912-.912H.91ZM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516L3.668 13Zm4.947 0h1.801v4.3h2.7v1.4h-4.5V13h-.001Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9V13h-.001Zm-8.517 1.457-.614 2.059h1.262l-.648-2.059Z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',previousArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',nextArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',redo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',undo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',bulletedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',numberedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',browseFiles:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',indent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',outdent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',table:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v3h4v-3H3Zm0 4v3h4v-3H3Zm0 4v3h4v-3H3Zm5 3h4v-3H8v3Zm5 0h4v-3h-4v3Zm4-4v-3h-4v3h4Zm0-4v-3h-4v3h4Zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13.5Zm-6.5-4v-3H8v3h4Zm0-4v-3H8v3h4Z"/></svg>'};var am=a(7621),lm={attributes:{"data-cke":!0}};lm.setAttributes=Ut(),lm.insert=zt().bind(null,"head"),lm.domAPI=Vt(),lm.insertStyleElement=jt(),It()(am.A,lm),am.A&&am.A.locals&&am.A.locals;const j2=class j2 extends un{constructor(){super();const e=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",e.if("isVisible","ck-hidden",r=>!r),"ck-reset_all-excluded",e.if("isColorInherited","ck-icon_inherit-color")],viewBox:e.to("viewBox"),"aria-hidden":!0}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const e=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),r=e.getAttribute("viewBox");r&&(this.viewBox=r);for(const{name:s,value:l}of Array.from(e.attributes))j2.presentationalAttributeNames.includes(s)&&this.element.setAttribute(s,l);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;e.childNodes.length>0;)this.element.appendChild(e.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(e=>{e.style.fill=this.fillColor})}};j2.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];let Ja=j2;class $d extends un{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:e.to("style"),id:e.to("id")},children:[{text:e.to("text")}]})}}var Jc=a(9715),ac={attributes:{"data-cke":!0}};ac.setAttributes=Ut(),ac.insert=zt().bind(null,"head"),ac.domAPI=Vt(),ac.insertStyleElement=jt(),It()(Jc.A,ac),Jc.A&&Jc.A.locals&&Jc.A.locals;class lr extends un{constructor(e,r=new $d){super(e),this._focusDelayed=null;const s=this.bindTemplate,l=ae();this.set("_ariaPressed",!1),this.set("_ariaChecked",!1),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${l}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(r),this.iconView=new Ja,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const f={tag:"button",attributes:{class:["ck","ck-button",s.to("class"),s.if("isEnabled","ck-disabled",b=>!b),s.if("isVisible","ck-hidden",b=>!b),s.to("isOn",b=>b?"ck-on":"ck-off"),s.if("withText","ck-button_with-text"),s.if("withKeystroke","ck-button_with-keystroke")],role:s.to("role"),type:s.to("type",b=>b||"button"),tabindex:s.to("tabindex"),"aria-checked":s.to("_ariaChecked"),"aria-pressed":s.to("_ariaPressed"),"aria-label":s.to("ariaLabel"),"aria-labelledby":s.to("ariaLabelledBy"),"aria-disabled":s.if("isEnabled",!0,b=>!b),"data-cke-tooltip-text":s.to("_tooltipString"),"data-cke-tooltip-position":s.to("tooltipPosition")},children:this.children,on:{click:s.to(b=>{this.isEnabled?this.fire("execute"):b.preventDefault()})}};this.bind("_ariaPressed").to(this,"isOn",this,"isToggleable",this,"role",(b,A,S)=>!(!A||cm(S))&&String(!!b)),this.bind("_ariaChecked").to(this,"isOn",this,"isToggleable",this,"role",(b,A,S)=>!(!A||!cm(S))&&String(!!b)),v.isSafari&&(this._focusDelayed||(this._focusDelayed=ye(()=>this.focus(),0)),f.on.mousedown=s.to(()=>{this._focusDelayed()}),f.on.mouseup=s.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(f)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new un;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",r=>Yl(r))}]}),e}_getTooltipString(e,r,s){return e?typeof e=="string"?e:(s&&(s=Yl(s)),e instanceof Function?e(r,s):`${r}${s?` (${s})`:""}`):""}}function cm(u){switch(u){case"radio":case"checkbox":case"option":case"switch":case"menuitemcheckbox":case"menuitemradio":return!0;default:return!1}}var Xc=a(7913),Mg={attributes:{"data-cke":!0}};Mg.setAttributes=Ut(),Mg.insert=zt().bind(null,"head"),Mg.domAPI=Vt(),Mg.insertStyleElement=jt(),It()(Xc.A,Mg),Xc.A&&Xc.A.locals&&Xc.A.locals;class I_ extends un{constructor(e,r={}){super(e);const s=this.bindTemplate;this.set("label",r.label||""),this.set("class",r.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",s.to("class")]},children:this.children}),r.icon&&(this.iconView=new Ja,this.iconView.content=r.icon,this.children.add(this.iconView));const l=new un(e);l.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:s.to("label")}]}),this.children.add(l)}}class Sa extends ke(){constructor(e){if(super(),this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const r in e.actions){let s=e.actions[r];typeof s=="string"&&(s=[s]);for(const l of s)e.keystrokeHandler.set(l,(f,b)=>{this[r](),b()},e.keystrokeHandlerOptions)}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(R1)||null}get last(){return this.focusables.filter(R1).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((r,s)=>{const l=r.element===this.focusTracker.focusedElement;return l&&(e=s),l}),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;e&&this.focusables.getIndex(e)===this.current||e===this.first?this.fire("forwardCycle"):this._focus(e,1)}focusPrevious(){const e=this.previous;e&&this.focusables.getIndex(e)===this.current||e===this.last?this.fire("backwardCycle"):this._focus(e,-1)}chain(e){const r=()=>this.current===null?null:this.focusables.get(this.current);this.listenTo(e,"forwardCycle",s=>{const l=r();this.focusNext(),l!==r()&&s.stop()},{priority:"low"}),this.listenTo(e,"backwardCycle",s=>{const l=r();this.focusPrevious(),l!==r()&&s.stop()},{priority:"low"})}unchain(e){this.stopListening(e)}_focus(e,r){e&&this.focusTracker.focusedElement!==e.element&&e.focus(r)}_getDomFocusableItem(e){const r=this.focusables.length;if(!r)return null;const s=this.current;if(s===null)return this[e===1?"first":"last"];let l=this.focusables.get(s),f=(s+r+e)%r;do{const b=this.focusables.get(f);if(R1(b)){l=b;break}f=(f+r+e)%r}while(f!==s);return l}}function R1(u){return um(u)&&Ua(u.element)}function um(u){return!(!("focus"in u)||typeof u.focus!="function")}function f0(u){return class extends u{constructor(...e){super(...e),this._onDragBound=this._onDrag.bind(this),this._onDragEndBound=this._onDragEnd.bind(this),this._lastDraggingCoordinates={x:0,y:0},this.on("render",()=>{this._attachListeners()}),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(p.document,"mouseup",this._onDragEndBound),this.listenTo(p.document,"touchend",this._onDragEndBound),this.listenTo(p.document,"mousemove",this._onDragBound),this.listenTo(p.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(p.document,"mouseup",this._onDragEndBound),this.stopListening(p.document,"touchend",this._onDragEndBound),this.stopListening(p.document,"mousemove",this._onDragBound),this.stopListening(p.document,"touchmove",this._onDragBound)}_onDragStart(e,r){if(!this._isHandleElementPressed(r))return;this._attachDragListeners();let s=0,l=0;r instanceof MouseEvent?(s=r.clientX,l=r.clientY):(s=r.touches[0].clientX,l=r.touches[0].clientY),this._lastDraggingCoordinates={x:s,y:l},this.isDragging=!0}_onDrag(e,r){if(!this.isDragging)return void this._detachDragListeners();let s=0,l=0;r instanceof MouseEvent?(s=r.clientX,l=r.clientY):(s=r.touches[0].clientX,l=r.touches[0].clientY),r.preventDefault(),this.fire("drag",{deltaX:Math.round(s-this._lastDraggingCoordinates.x),deltaY:Math.round(l-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:s,y:l}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(e){return!!this.dragHandleElement&&(this.dragHandleElement===e.target||e.target instanceof HTMLElement&&this.dragHandleElement.contains(e.target))}}}var Ng=a(9822),jg={attributes:{"data-cke":!0}};jg.setAttributes=Ut(),jg.insert=zt().bind(null,"head"),jg.domAPI=Vt(),jg.insertStyleElement=jt(),It()(Ng.A,jg),Ng.A&&Ng.A.locals&&Ng.A.locals;class p0 extends un{constructor(e){super(e),this.children=this.createCollection(),this.keystrokes=new K,this._focusTracker=new Ji,this._focusables=new rt,this.focusCycler=new Sa({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(e){for(const r of e){const s=new lr(this.locale);let l;for(l in s.on("execute",()=>r.onExecute()),r.onCreate&&r.onCreate(s),r)l!="onExecute"&&l!="onCreate"&&s.set(l,r[l]);this.children.add(s)}this._updateFocusCyclableItems()}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach(e=>{this._focusables.add(e),this._focusTracker.add(e.element)})}}class m0 extends un{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}var Og=a(9819),Wd={attributes:{"data-cke":!0}};Wd.setAttributes=Ut(),Wd.insert=zt().bind(null,"head"),Wd.domAPI=Vt(),Wd.insertStyleElement=jt(),It()(Og.A,Wd),Og.A&&Og.A.locals&&Og.A.locals;const dm="screen-center",Bg="editor-center",T_="editor-top-side",DS="editor-top-center",g0="editor-bottom-center",h="editor-above-center",g="editor-below-center",C=Ws("px"),O2=class O2 extends f0(un){constructor(e,{getCurrentDomRoot:r,getViewportOffset:s,keystrokeHandlerOptions:l}){super(e),this.wasMoved=!1;const f=this.bindTemplate,b=e.t;this.set("className",""),this.set("ariaLabel",b("Editor dialog")),this.set("isModal",!1),this.set("position",dm),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=r,this._getViewportOffset=s,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new K,this.focusTracker=new Ji,this._focusables=new rt,this._focusCycler=new Sa({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"},keystrokeHandlerOptions:l}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",f.if("isModal","ck-dialog-overlay__transparent",A=>!A),f.if("_isVisible","ck-hidden",A=>!A)],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",f.if("isModal","ck-dialog_modal"),f.to("className")],role:"dialog","aria-label":f.to("ariaLabel"),style:{top:f.to("_top",A=>C(A)),left:f.to("_left",A=>C(A)),visibility:f.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",(e,r)=>{e.defaultPrevented||(this.fire("close",{source:"escKeyPress"}),r())}),this.on("drag",(e,{deltaX:r,deltaY:s})=>{this.wasMoved=!0,this.moveBy(r,s)}),this.listenTo(p.window,"resize",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.listenTo(p.document,"scroll",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.on("change:_isVisible",(e,r,s)=>{s&&(this._isTransparent=!0,setTimeout(()=>{this.updatePosition(),this._isTransparent=!1,this.focus()},10))}),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView&&!this.isModal?this.headerView.element:null}setupParts({icon:e,title:r,hasCloseButton:s=!0,content:l,actionButtons:f}){r&&(this.headerView=new I_(this.locale,{icon:e}),s&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=r,this.ariaLabel=r,this.parts.add(this.headerView,0)),l&&(l instanceof un&&(l=[l]),this.contentView=new m0(this.locale),this.contentView.children.addMany(l),this.parts.add(this.contentView)),f&&(this.actionsView=new p0(this.locale),this.actionsView.setButtons(f),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(e,r){const s=this._getViewportRect(),l=this._getDialogRect();e+l.width>s.right&&(e=s.right-l.width),e<s.left&&(e=s.left),r<s.top&&(r=s.top),this._moveTo(e,r)}_moveTo(e,r){this._left=e,this._top=r}moveBy(e,r){this.moveTo(this._left+e,this._top+r)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const e=this._getViewportRect();let r,s=this.position;this._getCurrentDomRoot()?r=this._getVisibleDomRootRect(e):s=dm;const l=O2.defaultOffset,f=this._getDialogRect();switch(s){case T_:if(r){const b=this.locale.contentLanguageDirection==="ltr"?r.right-f.width-l:r.left+l;this.moveTo(b,r.top+l)}else this._moveOffScreen();break;case Bg:r?this.moveTo(Math.round(r.left+r.width/2-f.width/2),Math.round(r.top+r.height/2-f.height/2)):this._moveOffScreen();break;case dm:this.moveTo(Math.round((e.width-f.width)/2),Math.round((e.height-f.height)/2));break;case DS:r?this.moveTo(Math.round(r.left+r.width/2-f.width/2),r.top+l):this._moveOffScreen();break;case g0:r?this.moveTo(Math.round(r.left+r.width/2-f.width/2),r.bottom-f.height-l):this._moveOffScreen();break;case h:r?this.moveTo(Math.round(r.left+r.width/2-f.width/2),r.top-f.height-l):this._moveOffScreen();break;case g:r?this.moveTo(Math.round(r.left+r.width/2-f.width/2),r.bottom+l):this._moveOffScreen()}}_getVisibleDomRootRect(e){let r=new Mn(this._getCurrentDomRoot()).getVisible();return r?(r=e.getIntersection(r),r||null):null}_getDialogRect(){return new Mn(this.element.firstElementChild)}_getViewportRect(){const e=new Mn(p.window);if(this.isModal)return e;const r={top:0,bottom:0,left:0,right:0,...this._getViewportOffset()};return e.top+=r.top,e.height-=r.top,e.bottom-=r.bottom,e.height-=r.bottom,e.left+=r.left,e.right-=r.right,e.width-=r.left+r.right,e}_updateFocusCyclableItems(){const e=[];if(this.contentView)for(const r of this.contentView.children)um(r)&&e.push(r);this.actionsView&&e.push(this.actionsView),this.closeButtonView&&e.push(this.closeButtonView),e.forEach(r=>{var s;this._focusables.add(r),this.focusTracker.add(r.element),um(s=r)&&"focusCycler"in s&&s.focusCycler instanceof Sa&&this._focusCycler.chain(r.focusCycler)})}_createCloseButton(){const e=new lr(this.locale),r=this.locale.t;return e.set({label:r("Close"),tooltip:!0,icon:cn.cancel}),e.on("execute",()=>this.fire("close",{source:"closeButton"})),e}};O2.defaultOffset=15;let I=O2;class L extends $t{static get pluginName(){return"Dialog"}static get isOfficialPlugin(){return!0}constructor(e){super(e);const r=e.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set({id:null,isOpen:!1}),e.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:r("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}destroy(){super.destroy(),L._visibleDialogPlugin===this&&this._unlockBodyScroll()}_initShowHideListeners(){this.on("show",(e,r)=>{this._show(r)}),this.on("show",(e,r)=>{r.onShow&&r.onShow(this)},{priority:"low"}),this.on("hide",()=>{L._visibleDialogPlugin&&L._visibleDialogPlugin._hide()}),this.on("hide",()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)},{priority:"low"})}_initFocusToggler(){const e=this.editor;e.keystrokes.set("Ctrl+F6",(r,s)=>{this.isOpen&&!this.view.isModal&&(this.view.focusTracker.isFocused?e.editing.view.focus():this.view.focus(),s())})}_initMultiRootIntegration(){const e=this.editor.model;e.document.on("change:data",()=>{if(!this.view)return;const r=e.document.differ.getChangedRoots();for(const s of r)s.state&&this.view.updatePosition()})}show(e){this.hide(),this.fire(`show:${e.id}`,e)}_show({id:e,icon:r,title:s,hasCloseButton:l=!0,content:f,actionButtons:b,className:A,isModal:S,position:T,onHide:O,keystrokeHandlerOptions:P}){const W=this.editor;this.view=new I(W.locale,{getCurrentDomRoot:()=>W.editing.view.getDomRoot(W.model.document.selection.anchor.root.rootName),getViewportOffset:()=>W.ui.viewportOffset,keystrokeHandlerOptions:P});const ee=this.view;ee.on("close",()=>{this.hide()}),W.ui.view.body.add(ee),W.keystrokes.listenTo(ee.element),T||(T=S?dm:Bg),S&&this._lockBodyScroll(),ee.set({position:T,_isVisible:!0,className:A,isModal:S}),ee.setupParts({icon:r,title:s,hasCloseButton:l,content:f,actionButtons:b}),this.id=e,O&&(this._onHide=O),this.isOpen=!0,L._visibleDialogPlugin=this}hide(){L._visibleDialogPlugin&&L._visibleDialogPlugin.fire(`hide:${L._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const e=this.editor,r=this.view;r.isModal&&this._unlockBodyScroll(),r.contentView&&r.contentView.reset(),e.ui.view.body.remove(r),e.ui.focusTracker.remove(r.element),e.keystrokes.stopListening(r.element),r.destroy(),e.editing.view.focus(),this.id=null,this.isOpen=!1,L._visibleDialogPlugin=null}_lockBodyScroll(){document.documentElement.classList.add("ck-dialog-scroll-locked")}_unlockBodyScroll(){document.documentElement.classList.remove("ck-dialog-scroll-locked")}}var V=a(278),he={attributes:{"data-cke":!0}};he.setAttributes=Ut(),he.insert=zt().bind(null,"head"),he.domAPI=Vt(),he.insertStyleElement=jt(),It()(V.A,he),V.A&&V.A.locals&&V.A.locals;class Ee extends lr{constructor(e,r=new $d){super(e,r),this._checkIconHolderView=new Ve,this.set({hasCheckSpace:!1,_hasCheck:this.isToggleable});const s=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-list-item-button",s.if("isToggleable","ck-list-item-button_toggleable")]}}),this.bind("_hasCheck").to(this,"hasCheckSpace",this,"isToggleable",(l,f)=>l||f)}render(){super.render(),this._hasCheck&&this.children.add(this._checkIconHolderView,0),this._watchCheckIconHolderMount()}_watchCheckIconHolderMount(){this._checkIconHolderView.bind("isOn").to(this,"isOn",e=>this.isToggleable&&e),this.on("change:_hasCheck",(e,r,s)=>{const{children:l,_checkIconHolderView:f}=this;s?l.add(f,0):l.remove(f)})}}class Ve extends un{constructor(){super(),this._checkIconView=this._createCheckIconView();const e=this.bindTemplate;this.children=this.createCollection(),this.set("isOn",!1),this.setTemplate({tag:"span",children:this.children,attributes:{class:["ck","ck-list-item-button__check-holder",e.to("isOn",r=>r?"ck-on":"ck-off")]}})}render(){super.render(),this.isOn&&this.children.add(this._checkIconView,0),this._watchCheckIconMount()}_watchCheckIconMount(){this.on("change:isOn",(e,r,s)=>{const{children:l,_checkIconView:f}=this;s&&!l.has(f)?l.add(f):!s&&l.has(f)&&l.remove(f)})}_createCheckIconView(){const e=new Ja;return e.content=cn.check,e.extendTemplate({attributes:{class:"ck-list-item-button__check-icon"}}),e}}var ct=a(977),Mt={attributes:{"data-cke":!0}};Mt.setAttributes=Ut(),Mt.insert=zt().bind(null,"head"),Mt.domAPI=Vt(),Mt.insertStyleElement=jt(),It()(ct.A,Mt),ct.A&&ct.A.locals&&ct.A.locals;class Et extends Ee{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}var ht=a(7801),mt={attributes:{"data-cke":!0}};mt.setAttributes=Ut(),mt.insert=zt().bind(null,"head"),mt.domAPI=Vt(),mt.insertStyleElement=jt(),It()(ht.A,mt),ht.A&&ht.A.locals&&ht.A.locals;class En extends un{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${ae()}`;const r=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:r.to("for")},children:[{text:r.to("text")}]})}}class Dn extends un{constructor(e,r){super(e);const s=e.t,l=new En;l.text=s("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":l.id,role:"document",tabindex:-1},children:[fn(document,"p",{},s("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(r.values())),l]})}focus(){this.element.focus()}_createCategories(e){return e.map(r=>{const s=[fn(document,"h3",{},r.label),...Array.from(r.groups.values()).map(l=>this._createGroup(l)).flat()];return r.description&&s.splice(1,0,fn(document,"p",{},r.description)),fn(document,"section",{},s)})}_createGroup(e){const r=e.keystrokes.sort((l,f)=>l.label.localeCompare(f.label)).map(l=>this._createGroupRow(l)).flat(),s=[fn(document,"dl",{},r)];return e.label&&s.unshift(fn(document,"h4",{},e.label)),s}_createGroupRow(e){const r=this.locale.t,s=fn(document,"dt"),l=fn(document,"dd"),f=function(A){return typeof A=="string"?[[A]]:typeof A[0]=="string"?[A]:A}(e.keystroke),b=[];for(const A of f)b.push(A.map(pi).join(""));return s.innerHTML=e.label,l.innerHTML=b.join(", ")+(e.mayRequireFn&&v.isMac?` ${r("(may require <kbd>Fn</kbd>)")}`:""),[s,l]}}function pi(u){return Yl(u).split("+").map(e=>`<kbd>${e}</kbd>`).join("+")}const nt='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>';var Qe=a(8527),st={attributes:{"data-cke":!0}};st.setAttributes=Ut(),st.insert=zt().bind(null,"head"),st.domAPI=Vt(),st.insertStyleElement=jt(),It()(Qe.A,st),Qe.A&&Qe.A.locals&&Qe.A.locals;class Pt extends $t{constructor(){super(...arguments),this.contentView=null}static get requires(){return[L]}static get pluginName(){return"AccessibilityHelp"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,r=e.locale.t;e.ui.componentFactory.add("accessibilityHelp",()=>{const s=this._createButton(lr);return s.set({tooltip:!0,withText:!1,label:r("Accessibility help")}),s}),e.ui.componentFactory.add("menuBar:accessibilityHelp",()=>{const s=this._createButton(Et);return s.label=r("Accessibility"),s}),e.keystrokes.set("Alt+0",(s,l)=>{this._toggleDialog(),l()}),this._setupRootLabels()}_createButton(e){const r=this.editor,s=r.plugins.get("Dialog"),l=new e(r.locale);return l.set({keystroke:"Alt+0",icon:nt,isToggleable:!0}),l.on("execute",()=>this._toggleDialog()),l.bind("isOn").to(s,"id",f=>f==="accessibilityHelp"),l}_setupRootLabels(){const e=this.editor,r=e.editing.view,s=e.t;function l(f,b){const A=[b.getAttribute("aria-label"),s("Press %0 for help.",[Yl("Alt+0")])].filter(S=>S).join(". ");f.setAttribute("aria-label",A,b)}e.ui.on("ready",()=>{r.change(f=>{for(const b of r.document.roots)l(f,b)}),e.on("addRoot",(f,b)=>{const A=e.editing.view.document.getRoot(b.rootName);r.change(S=>l(S,A))},{priority:"low"})})}_toggleDialog(){const e=this.editor,r=e.plugins.get("Dialog"),s=e.locale.t;this.contentView||(this.contentView=new Dn(e.locale,e.accessibility.keystrokeInfos)),r.id==="accessibilityHelp"?r.hide():r.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:s("Accessibility help"),icon:nt,hasCloseButton:!0,content:this.contentView})}}class rn extends rt{constructor(e,r=[]){super(r),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new et({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection,role:"application"},children:this}).render(),rn._bodyWrapper&&rn._bodyWrapper.isConnected||(rn._bodyWrapper=fn(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(rn._bodyWrapper)),rn._bodyWrapper.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove(),rn._bodyWrapper&&!rn._bodyWrapper.childElementCount&&(rn._bodyWrapper.remove(),delete rn._bodyWrapper)}}var nr=a(4391),kn={attributes:{"data-cke":!0}};kn.setAttributes=Ut(),kn.insert=zt().bind(null,"head"),kn.domAPI=Vt(),kn.insertStyleElement=jt(),It()(nr.A,kn),nr.A&&nr.A.locals&&nr.A.locals;class Sn extends lr{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new un;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}class hs extends Gd(lr){}class qr extends Gd(Ee){}function Gd(u){return class extends u{constructor(...e){super(...e),this.buttonView=this,this._fileInputView=new IS(this.locale),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",()=>{this._fileInputView.open()}),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}}class IS extends un{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const r=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:r.to("acceptedType"),multiple:r.to("allowMultipleFiles")},on:{change:r.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const z1='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';var M_=a(25),F1={attributes:{"data-cke":!0}};F1.setAttributes=Ut(),F1.insert=zt().bind(null,"head"),F1.domAPI=Vt(),F1.insertStyleElement=jt(),It()(M_.A,F1),M_.A&&M_.A.locals&&M_.A.locals;class UF extends un{constructor(e,r){super(e);const s=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),r&&this.children.addMany(r),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",s.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:s.if("isCollapsed","hidden"),"aria-labelledby":s.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}focus(){this.buttonView.focus()}_createButtonView(){const e=new lr(this.locale),r=e.bindTemplate;return e.set({withText:!0,icon:z1}),e.extendTemplate({attributes:{"aria-expanded":r.to("isOn",s=>String(s))}}),e.bind("label").to(this),e.bind("isOn").to(this,"isCollapsed",s=>!s),e.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),e}}var N_=a(7317),U1={attributes:{"data-cke":!0}};U1.setAttributes=Ut(),U1.insert=zt().bind(null,"head"),U1.domAPI=Vt(),U1.insertStyleElement=jt(),It()(N_.A,U1),N_.A&&N_.A.locals&&N_.A.locals,a(6931),a(9047);var j_=a(4962),q1={attributes:{"data-cke":!0}};q1.setAttributes=Ut(),q1.insert=zt().bind(null,"head"),q1.domAPI=Vt(),q1.insertStyleElement=jt(),It()(j_.A,q1),j_.A&&j_.A.locals&&j_.A.locals;class O_ extends un{constructor(e,r){super(e);const s=`ck-labeled-field-view-${ae()}`,l=`ck-labeled-field-view-status-${ae()}`;this.fieldView=r(this,s,l),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(s),this.statusView=this._createStatusView(l),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(b,A)=>b||A);const f=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",f.to("class"),f.if("isEnabled","ck-disabled",b=>!b),f.if("isEmpty","ck-labeled-field-view_empty"),f.if("isFocused","ck-labeled-field-view_focused"),f.if("placeholder","ck-labeled-field-view_placeholder"),f.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const r=new En(this.locale);return r.for=e,r.bind("text").to(this,"label"),r}_createStatusView(e){const r=new un(this.locale),s=this.bindTemplate;return r.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",s.if("errorText","ck-labeled-field-view__status_error"),s.if("_statusText","ck-hidden",l=>!l)],id:e,role:s.if("errorText","alert")},children:[{text:s.to("_statusText")}]}),r}focus(e){this.fieldView.focus(e)}}class qF extends un{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new Ji,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const r=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",r.if("isFocused","ck-input_focused"),r.if("isEmpty","ck-input-text_empty"),r.if("hasError","ck-error")],id:r.to("id"),placeholder:r.to("placeholder"),tabindex:r.to("tabIndex"),readonly:r.to("isReadOnly"),"aria-invalid":r.if("hasError",!0),"aria-describedby":r.to("ariaDescribedById"),"aria-label":r.to("ariaLabel")},on:{input:r.to((...s)=>{this.fire("input",...s),this._updateIsEmpty()}),change:r.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,r,s)=>{this._setDomElementValue(s),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(e){this.element.value=e||e===0?e:""}}var B_=a(253),V1={attributes:{"data-cke":!0}};V1.setAttributes=Ut(),V1.insert=zt().bind(null,"head"),V1.domAPI=Vt(),V1.insertStyleElement=jt(),It()(B_.A,V1),B_.A&&B_.A.locals&&B_.A.locals;class VF extends qF{constructor(e){super(e),this.set("inputMode","text");const r=this.bindTemplate;this.extendTemplate({attributes:{inputmode:r.to("inputMode")}})}}class HF extends VF{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var L_=a(1671),H1={attributes:{"data-cke":!0}};H1.setAttributes=Ut(),H1.insert=zt().bind(null,"head"),H1.domAPI=Vt(),H1.insertStyleElement=jt(),It()(L_.A,H1),L_.A&&L_.A.locals&&L_.A.locals;class $F extends un{constructor(e){super(e);const r=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",r.to("position",s=>`ck-dropdown__panel_${s}`),r.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:r.to(s=>{s.target.tagName.toLocaleLowerCase()!=="input"&&s.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():q("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}var P_=a(8149),$1={attributes:{"data-cke":!0}};$1.setAttributes=Ut(),$1.insert=zt().bind(null,"head"),$1.domAPI=Vt(),$1.insertStyleElement=jt(),It()(P_.A,$1),P_.A&&P_.A.locals&&P_.A.locals;const I0=class I0 extends un{constructor(e,r,s){super(e);const l=this.bindTemplate;this.buttonView=r,this.panelView=s,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new K,this.focusTracker=new Ji,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",l.to("class"),l.if("isEnabled","ck-disabled",f=>!f)],id:l.to("id"),"aria-describedby":l.to("ariaDescribedById")},children:[r,s]}),r.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":l.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(r,s,l)=>{if(l)if(this.panelPosition==="auto"){const f=I0._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=f?f.name:this._defaultPanelPositionName}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const e=(r,s)=>{this.isOpen&&(this.isOpen=!1,s())};this.keystrokes.set("arrowdown",(r,s)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,s())}),this.keystrokes.set("arrowright",(r,s)=>{this.isOpen&&s()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:e,north:r,southEast:s,southWest:l,northEast:f,northWest:b,southMiddleEast:A,southMiddleWest:S,northMiddleEast:T,northMiddleWest:O}=I0.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[s,l,A,S,e,f,b,T,O,r]:[l,s,S,A,e,b,f,O,T,r]}get _defaultPanelPositionName(){return this.locale.uiLanguageDirection==="rtl"?"sw":"se"}};I0.defaultPanelPositions={south:(e,r)=>({top:e.bottom,left:e.left-(r.width-e.width)/2,name:"s"}),southEast:e=>({top:e.bottom,left:e.left,name:"se"}),southWest:(e,r)=>({top:e.bottom,left:e.left-r.width+e.width,name:"sw"}),southMiddleEast:(e,r)=>({top:e.bottom,left:e.left-(r.width-e.width)/4,name:"sme"}),southMiddleWest:(e,r)=>({top:e.bottom,left:e.left-3*(r.width-e.width)/4,name:"smw"}),north:(e,r)=>({top:e.top-r.height,left:e.left-(r.width-e.width)/2,name:"n"}),northEast:(e,r)=>({top:e.top-r.height,left:e.left,name:"ne"}),northWest:(e,r)=>({top:e.top-r.height,left:e.left-r.width+e.width,name:"nw"}),northMiddleEast:(e,r)=>({top:e.top-r.height,left:e.left-(r.width-e.width)/4,name:"nme"}),northMiddleWest:(e,r)=>({top:e.top-r.height,left:e.left-3*(r.width-e.width)/4,name:"nmw"})},I0._getOptimalPosition=Du;let TS=I0;class WF extends lr{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",r=>String(r))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Ja;return e.content=z1,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}var R_=a(4767),W1={attributes:{"data-cke":!0}};W1.setAttributes=Ut(),W1.insert=zt().bind(null,"head"),W1.domAPI=Vt(),W1.insertStyleElement=jt(),It()(R_.A,W1),R_.A&&R_.A.locals&&R_.A.locals;var z_=a(9554),G1={attributes:{"data-cke":!0}};G1.setAttributes=Ut(),G1.insert=zt().bind(null,"head"),G1.domAPI=Vt(),G1.insertStyleElement=jt(),It()(z_.A,G1),z_.A&&z_.A.locals&&z_.A.locals;class GF extends Ee{constructor(e){super(e);const r=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-dropdown-menu-list__nested-menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",s=>String(s)),"data-cke-tooltip-disabled":r.to("isOn")},on:{mouseenter:r.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Ja;return e.content=z1,e.extendTemplate({attributes:{class:"ck-dropdown-menu-list__nested-menu__button__arrow"}}),e}}class hm extends un{constructor(e){super(e);const r=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",r.if("isVisible","ck-hidden",s=>!s)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class MS extends un{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class F_ extends un{constructor(e,r=new En){super(e);const s=this.bindTemplate,l=new q_(e);this.set({label:"",isVisible:!0}),this.labelView=r,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,l]),l.set({role:"group",ariaLabelledBy:r.id}),l.focusTracker.destroy(),l.keystrokes.destroy(),this.items=l.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",s.if("isVisible","ck-hidden",f=>!f)]},children:this.children})}focus(){if(this.items){const e=this.items.find(r=>!(r instanceof MS));e&&e.focus()}}}var U_=a(5199),Y1={attributes:{"data-cke":!0}};Y1.setAttributes=Ut(),Y1.insert=zt().bind(null,"head"),Y1.domAPI=Vt(),Y1.insertStyleElement=jt(),It()(U_.A,Y1),U_.A&&U_.A.locals&&U_.A.locals;class q_ extends un{constructor(e){super(e),this._listItemGroupToChangeListeners=new WeakMap;const r=this.bindTemplate;this.focusables=new rt,this.items=this.createCollection(),this.focusTracker=new Ji,this.keystrokes=new K,this._focusCycler=new Sa({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:r.to("role"),"aria-label":r.to("ariaLabel"),"aria-labelledby":r.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const e of this.items)e instanceof F_?this._registerFocusableItemsGroup(e):e instanceof hm&&this._registerFocusableListItem(e);this.items.on("change",(e,r)=>{for(const s of r.removed)s instanceof F_?this._deregisterFocusableItemsGroup(s):s instanceof hm&&this._deregisterFocusableListItem(s);for(const s of Array.from(r.added).reverse())s instanceof F_?this._registerFocusableItemsGroup(s,r.index):this._registerFocusableListItem(s,r.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,r){this.focusTracker.add(e.element),this.focusables.add(e,r)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(r,s)=>{for(const l of s.removed)this._deregisterFocusableListItem(l);for(const l of Array.from(s.added).reverse())this._registerFocusableListItem(l,this.items.getIndex(e)+s.index)}}_registerFocusableItemsGroup(e,r){Array.from(e.items).forEach((l,f)=>{const b=r!==void 0?r+f:void 0;this._registerFocusableListItem(l,b)});const s=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,s),e.items.on("change",s)}_deregisterFocusableItemsGroup(e){for(const r of e.items)this._deregisterFocusableListItem(r);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}}class YF extends q_{constructor(e){super(e);const r=this.bindTemplate;this.role="menu",this.set("isVisible",!0),this.extendTemplate({attributes:{class:["ck-dropdown-menu-list",r.if("isVisible","ck-hidden",s=>!s)]}})}}const KF={eastSouth:u=>({top:u.top,left:u.right-5,name:"es"}),eastNorth:(u,e)=>({top:u.top-e.height+u.height,left:u.right-5,name:"en"}),westSouth:(u,e)=>({top:u.top,left:u.left-e.width+5,name:"ws"}),westNorth:(u,e)=>({top:u.top-e.height+u.height,left:u.left-e.width+5,name:"wn"})};var V_=a(2171),K1={attributes:{"data-cke":!0}};K1.setAttributes=Ut(),K1.insert=zt().bind(null,"head"),K1.domAPI=Vt(),K1.insertStyleElement=jt(),It()(V_.A,K1),V_.A&&V_.A.locals&&V_.A.locals;const b0={openOnArrowRightKey(u){const e=u.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";u.keystrokes.set(e,(r,s)=>{u.focusTracker.focusedElement===u.buttonView.element&&u.isEnabled&&(u.isOpen||(u.isOpen=!0),u.panelView.focus(),s())})},openOnButtonClick(u){u.buttonView.on("execute",()=>{u.isEnabled&&(u.isOpen=!0)})},openAndFocusOnEnterKeyPress(u){u.keystrokes.set("enter",(e,r)=>{u.focusTracker.focusedElement===u.buttonView.element&&(u.isOpen=!0,u.panelView.focus(),r())})},closeOnArrowLeftKey(u){const e=u.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";u.keystrokes.set(e,(r,s)=>{u.isOpen&&(u.focus(),u.isOpen=!1,s())})},closeOnEscKey(u){u.keystrokes.set("esc",(e,r)=>{u.isOpen&&(u.focus(),u.isOpen=!1,r())})},closeOnParentClose(u,e){e.on("change:isOpen",(r,s,l)=>{l||r.source!==e||(u.isOpen=!1)})}};var H_=a(3710),Q1={attributes:{"data-cke":!0}};Q1.setAttributes=Ut(),Q1.insert=zt().bind(null,"head"),Q1.domAPI=Vt(),Q1.insertStyleElement=jt(),It()(H_.A,Q1),H_.A&&H_.A.locals&&H_.A.locals;const QI=Ws("px"),QF={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}},eu=class eu extends un{constructor(e){super(e);const r=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this._resizeObserver=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",r.to("position",s=>`ck-balloon-panel_${s}`),r.if("isVisible","ck-balloon-panel_visible"),r.if("withArrow","ck-balloon-panel_with-arrow"),r.to("class")],style:{top:r.to("top",QI),left:r.to("left",QI)}},children:this.content})}destroy(){this.hide(),super.destroy()}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){const r=$_(e.target);if(r&&!Ua(r))return!1;this.show();const s=eu.defaultPositions,l=Object.assign({},{element:this.element,positions:[s.southArrowNorth,s.southArrowNorthMiddleWest,s.southArrowNorthMiddleEast,s.southArrowNorthWest,s.southArrowNorthEast,s.northArrowSouth,s.northArrowSouthMiddleWest,s.northArrowSouthMiddleEast,s.northArrowSouthWest,s.northArrowSouthEast,s.viewportStickyNorth],limiter:p.document.body,fitInViewport:!0},e),f=eu._getOptimalPosition(l)||QF,b=parseInt(f.left),A=parseInt(f.top),S=f.name,T=f.config||{},{withArrow:O=!0}=T;return this.top=A,this.left=b,this.position=S,this.withArrow=O,!0}pin(e){this.unpin(),this._startPinning(e)&&(this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback))}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){if(!this.attachTo(e))return!1;let r=$_(e.target);const s=e.limiter?$_(e.limiter):p.document.body;if(this.listenTo(p.document,"scroll",(l,f)=>{const b=f.target,A=r&&b.contains(r),S=s&&b.contains(s);!A&&!S&&r&&s||this.attachTo(e)},{useCapture:!0}),this.listenTo(p.window,"resize",()=>{this.attachTo(e)}),!this._resizeObserver&&(r&&$n(r)&&(r=r.parentElement),r)){const l=()=>{Ua(r)||this.unpin()};this._resizeObserver=new fo(r,l)}return!0}_stopPinning(){this.stopListening(p.document,"scroll"),this.stopListening(p.window,"resize"),this._resizeObserver&&(this._resizeObserver.destroy(),this._resizeObserver=null)}static generatePositions(e={}){const{sideOffset:r=eu.arrowSideOffset,heightOffset:s=eu.arrowHeightOffset,stickyVerticalOffset:l=eu.stickyVerticalOffset,config:f}=e;return{northWestArrowSouthWest:(S,T)=>({top:b(S,T),left:S.left-r,name:"arrow_sw",...f&&{config:f}}),northWestArrowSouthMiddleWest:(S,T)=>({top:b(S,T),left:S.left-.25*T.width-r,name:"arrow_smw",...f&&{config:f}}),northWestArrowSouth:(S,T)=>({top:b(S,T),left:S.left-T.width/2,name:"arrow_s",...f&&{config:f}}),northWestArrowSouthMiddleEast:(S,T)=>({top:b(S,T),left:S.left-.75*T.width+r,name:"arrow_sme",...f&&{config:f}}),northWestArrowSouthEast:(S,T)=>({top:b(S,T),left:S.left-T.width+r,name:"arrow_se",...f&&{config:f}}),northArrowSouthWest:(S,T)=>({top:b(S,T),left:S.left+S.width/2-r,name:"arrow_sw",...f&&{config:f}}),northArrowSouthMiddleWest:(S,T)=>({top:b(S,T),left:S.left+S.width/2-.25*T.width-r,name:"arrow_smw",...f&&{config:f}}),northArrowSouth:(S,T)=>({top:b(S,T),left:S.left+S.width/2-T.width/2,name:"arrow_s",...f&&{config:f}}),northArrowSouthMiddleEast:(S,T)=>({top:b(S,T),left:S.left+S.width/2-.75*T.width+r,name:"arrow_sme",...f&&{config:f}}),northArrowSouthEast:(S,T)=>({top:b(S,T),left:S.left+S.width/2-T.width+r,name:"arrow_se",...f&&{config:f}}),northEastArrowSouthWest:(S,T)=>({top:b(S,T),left:S.right-r,name:"arrow_sw",...f&&{config:f}}),northEastArrowSouthMiddleWest:(S,T)=>({top:b(S,T),left:S.right-.25*T.width-r,name:"arrow_smw",...f&&{config:f}}),northEastArrowSouth:(S,T)=>({top:b(S,T),left:S.right-T.width/2,name:"arrow_s",...f&&{config:f}}),northEastArrowSouthMiddleEast:(S,T)=>({top:b(S,T),left:S.right-.75*T.width+r,name:"arrow_sme",...f&&{config:f}}),northEastArrowSouthEast:(S,T)=>({top:b(S,T),left:S.right-T.width+r,name:"arrow_se",...f&&{config:f}}),southWestArrowNorthWest:S=>({top:A(S),left:S.left-r,name:"arrow_nw",...f&&{config:f}}),southWestArrowNorthMiddleWest:(S,T)=>({top:A(S),left:S.left-.25*T.width-r,name:"arrow_nmw",...f&&{config:f}}),southWestArrowNorth:(S,T)=>({top:A(S),left:S.left-T.width/2,name:"arrow_n",...f&&{config:f}}),southWestArrowNorthMiddleEast:(S,T)=>({top:A(S),left:S.left-.75*T.width+r,name:"arrow_nme",...f&&{config:f}}),southWestArrowNorthEast:(S,T)=>({top:A(S),left:S.left-T.width+r,name:"arrow_ne",...f&&{config:f}}),southArrowNorthWest:S=>({top:A(S),left:S.left+S.width/2-r,name:"arrow_nw",...f&&{config:f}}),southArrowNorthMiddleWest:(S,T)=>({top:A(S),left:S.left+S.width/2-.25*T.width-r,name:"arrow_nmw",...f&&{config:f}}),southArrowNorth:(S,T)=>({top:A(S),left:S.left+S.width/2-T.width/2,name:"arrow_n",...f&&{config:f}}),southArrowNorthMiddleEast:(S,T)=>({top:A(S),left:S.left+S.width/2-.75*T.width+r,name:"arrow_nme",...f&&{config:f}}),southArrowNorthEast:(S,T)=>({top:A(S),left:S.left+S.width/2-T.width+r,name:"arrow_ne",...f&&{config:f}}),southEastArrowNorthWest:S=>({top:A(S),left:S.right-r,name:"arrow_nw",...f&&{config:f}}),southEastArrowNorthMiddleWest:(S,T)=>({top:A(S),left:S.right-.25*T.width-r,name:"arrow_nmw",...f&&{config:f}}),southEastArrowNorth:(S,T)=>({top:A(S),left:S.right-T.width/2,name:"arrow_n",...f&&{config:f}}),southEastArrowNorthMiddleEast:(S,T)=>({top:A(S),left:S.right-.75*T.width+r,name:"arrow_nme",...f&&{config:f}}),southEastArrowNorthEast:(S,T)=>({top:A(S),left:S.right-T.width+r,name:"arrow_ne",...f&&{config:f}}),westArrowEast:(S,T)=>({top:S.top+S.height/2-T.height/2,left:S.left-T.width-s,name:"arrow_e",...f&&{config:f}}),eastArrowWest:(S,T)=>({top:S.top+S.height/2-T.height/2,left:S.right+s,name:"arrow_w",...f&&{config:f}}),viewportStickyNorth:(S,T,O,P)=>{const W=P||O;return S.getIntersection(W)?W.height-S.height>l?null:{top:W.top+l,left:S.left+S.width/2-T.width/2,name:"arrowless",config:{withArrow:!1,...f}}:null}};function b(S,T){return S.top-T.height-s}function A(S){return S.bottom+s}}};eu.arrowSideOffset=25,eu.arrowHeightOffset=10,eu.stickyVerticalOffset=20,eu._getOptimalPosition=Du,eu.defaultPositions=eu.generatePositions();let Jf=eu;function $_(u){return Hs(u)?u:$s(u)?u.commonAncestorContainer:typeof u=="function"?$_(u()):null}var W_=a(3610),Z1={attributes:{"data-cke":!0}};Z1.setAttributes=Ut(),Z1.insert=zt().bind(null,"head"),Z1.domAPI=Vt(),Z1.insertStyleElement=jt(),It()(W_.A,Z1),W_.A&&W_.A.locals&&W_.A.locals;class ZF extends Jf{constructor(e){super(e);const r=this.bindTemplate;this.set({isVisible:!1,position:"se",class:null,top:0,left:0}),this.extendTemplate({tag:"div",attributes:{class:["ck-reset","ck-dropdown-menu__nested-menu__panel"],tabindex:"-1"},on:{selectstart:r.to(s=>{s.target.tagName.toLocaleLowerCase()!=="input"&&s.preventDefault()})}})}focus(e=1){const{content:r}=this;r.length&&(e===1?r.first.focus():r.last.focus())}}var G_=a(7218),J1={attributes:{"data-cke":!0}};J1.setAttributes=Ut(),J1.insert=zt().bind(null,"head"),J1.domAPI=Vt(),J1.insertStyleElement=jt(),It()(G_.A,J1),G_.A&&G_.A.locals&&G_.A.locals;const B2=class B2 extends un{constructor(e,r,s,l,f){super(e),this._bodyCollection=r,this.id=s,this.set({isOpen:!1,isEnabled:!0,panelPosition:"w",class:void 0,parentMenuView:null}),this.keystrokes=new K,this.focusTracker=new Ji,this.buttonView=new GF(e),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.buttonView.label=l,this.panelView=new ZF(e),this.panelView.isVisible=!0,this.listView=new YF(e),this.listView.bind("ariaLabel").to(this.buttonView,"label"),this.panelView.content.add(this.listView);const b=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown-menu-list__nested-menu",b.to("class"),b.if("isEnabled","ck-disabled",A=>!A)],role:"presentation"},children:[this.buttonView]}),this.parentMenuView=f,this.parentMenuView&&this._handleParentMenuView(),this._attachBehaviors()}get _panelPositions(){const{westSouth:e,eastSouth:r,westNorth:s,eastNorth:l}=KF;return this.locale.uiLanguageDirection==="ltr"?[r,l,e,s]:[e,s,r,l]}render(){super.render(),this.panelView.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.focusTracker.add(this.listView),this.keystrokes.listenTo(this.element),this._mountPanelOnOpen()}destroy(){this._removePanelFromBody(),this.panelView.destroy(),super.destroy()}focus(){this.buttonView.focus()}_handleParentMenuView(){this.delegate(...B2.DELEGATED_EVENTS).to(this.parentMenuView),b0.closeOnParentClose(this,this.parentMenuView)}_attachBehaviors(){b0.openOnButtonClick(this),b0.openAndFocusOnEnterKeyPress(this),b0.openOnArrowRightKey(this),b0.closeOnEscKey(this),b0.closeOnArrowLeftKey(this)}_mountPanelOnOpen(){const{panelView:e}=this;this.on("change:isOpen",(r,s,l)=>{r.source===this&&(l||!this._bodyCollection.has(e)?l&&!this._bodyCollection.has(e)&&this._addPanelToBody():this._removePanelFromBody())})}_removePanelFromBody(){const{panelView:e,keystrokes:r}=this;this._bodyCollection.has(e)&&(this._bodyCollection.remove(e),r.stopListening(e.element))}_addPanelToBody(){const{panelView:e,buttonView:r,keystrokes:s}=this;this._bodyCollection.has(e)||(this._bodyCollection.add(e),s.listenTo(e.element),e.pin({positions:this._panelPositions,limiter:p.document.body,element:e.element,target:r.element,fitInViewport:!0}))}};B2.DELEGATED_EVENTS=["mouseenter","execute","change:isOpen"];let ZI=B2;class JI extends un{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class JF extends un{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function XI(u){if(Array.isArray(u))return{items:u,removeItems:[]};const e={items:[],removeItems:[]};return u?{...e,...u}:e}var Y_=a(9677),X1={attributes:{"data-cke":!0}};X1.setAttributes=Ut(),X1.insert=zt().bind(null,"head"),X1.domAPI=Vt(),X1.insertStyleElement=jt(),It()(Y_.A,X1),Y_.A&&Y_.A.locals&&Y_.A.locals;const XF={alignLeft:cn.alignLeft,bold:cn.bold,importExport:cn.importExport,paragraph:cn.paragraph,plus:cn.plus,text:cn.text,threeVerticalDots:cn.threeVerticalDots,pilcrow:cn.pilcrow,dragIndicator:cn.dragIndicator};class NS extends un{constructor(e,r){super(e);const s=this.bindTemplate,l=this.t;this.options=r||{},this.set("ariaLabel",l("Editor toolbar")),this.set("maxWidth","auto"),this.set("role","toolbar"),this.items=this.createCollection(),this.focusTracker=new Ji,this.keystrokes=new K,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new e9(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const f=e.uiLanguageDirection==="rtl";this._focusCycler=new Sa({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[f?"arrowright":"arrowleft","arrowup"],focusNext:[f?"arrowleft":"arrowright","arrowdown"]}});const b=["ck","ck-toolbar",s.to("class"),s.if("isCompact","ck-toolbar_compact")];var A;this.options.shouldGroupWhenFull&&this.options.isFloating&&b.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:b,role:s.to("role"),"aria-label":s.to("ariaLabel"),style:{maxWidth:s.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(A=this,A.bindTemplate.to(S=>{S.target===A.element&&S.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new n9(this):new t9(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e);this.items.on("add",(e,r)=>{this.focusTracker.add(r)}),this.items.on("remove",(e,r)=>{this.focusTracker.remove(r)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,r,s){this.items.addMany(this._buildItemsFromConfig(e,r,s))}_buildItemsFromConfig(e,r,s){const l=XI(e),f=s||l.removeItems;return this._cleanItemsConfiguration(l.items,r,f).map(b=>Ge(b)?this._createNestedToolbarDropdown(b,r,f):b==="|"?new JI:b==="-"?new JF:r.create(b)).filter(b=>!!b)}_cleanItemsConfiguration(e,r,s){const l=e.filter((f,b,A)=>f==="|"||s.indexOf(f)===-1&&(f==="-"?!this.options.shouldGroupWhenFull||(q("toolbarview-line-break-ignored-when-grouping-items",A),!1):!(!Ge(f)&&!r.has(f))||(q("toolbarview-item-unavailable",{item:f}),!1)));return this._cleanSeparatorsAndLineBreaks(l)}_cleanSeparatorsAndLineBreaks(e){const r=b=>b!=="-"&&b!=="|",s=e.length,l=e.findIndex(r);if(l===-1)return[];const f=s-e.slice().reverse().findIndex(r);return e.slice(l,f).filter((b,A,S)=>r(b)?!0:!(A>0&&S[A-1]===b))}_createNestedToolbarDropdown(e,r,s){let{label:l,icon:f,items:b,tooltip:A=!0,withText:S=!1}=e;if(b=this._cleanItemsConfiguration(b,r,s),!b.length)return null;const T=fm(this.locale);return l||q("toolbarview-nested-toolbar-dropdown-missing-label",e),T.class="ck-toolbar__nested-toolbar-dropdown",T.buttonView.set({label:l,tooltip:A,withText:!!S}),f!==!1?T.buttonView.icon=XF[f]||f||cn.threeVerticalDots:T.buttonView.withText=!0,jS(T,()=>T.toolbarView._buildItemsFromConfig(b,r,s)),T}}class e9 extends un{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class t9{constructor(e){const r=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(s=>s),e.focusables.bindTo(e.items).using(s=>um(s)?s:null),e.extendTemplate({attributes:{class:[r.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class n9{constructor(e){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(r=>r),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),e.children.on("change",this._updateFocusCyclableItems.bind(this)),e.items.on("change",(r,s)=>{const l=s.index,f=Array.from(s.added);for(const b of s.removed)l>=this.ungroupedItems.length?this.groupedItems.remove(b):this.ungroupedItems.remove(b);for(let b=l;b<l+f.length;b++){const A=f[b-l];b>this.ungroupedItems.length?this.groupedItems.add(A,b-this.ungroupedItems.length):this.ungroupedItems.add(A,b)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!Ua(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const e=this.groupedItems.length;let r;for(;this._areItemsOverflowing;)this._groupLastItem(),r=!0;if(!r&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,r=this.viewLocale.uiLanguageDirection,s=new Mn(e.lastChild),l=new Mn(e);if(!this.cachedPadding){const f=p.window.getComputedStyle(e),b=r==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(f[b])}return r==="ltr"?s.right>l.right-this.cachedPadding:s.left<l.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new fo(this.viewElement,r=>{e&&e===r.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=r.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new JI),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,r=e.t,s=fm(e);return s.class="ck-toolbar__grouped-dropdown",s.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",jS(s,this.groupedItems),s.buttonView.set({label:r("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:cn.threeVerticalDots}),s}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{um(e)&&this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}var K_=a(1792),ew={attributes:{"data-cke":!0}};ew.setAttributes=Ut(),ew.insert=zt().bind(null,"head"),ew.domAPI=Vt(),ew.insertStyleElement=jt(),It()(K_.A,ew),K_.A&&K_.A.locals&&K_.A.locals;class Q_ extends un{constructor(e,r){super(e);const s=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(r),this.arrowView=this._createArrowView(),this.keystrokes=new K,this.focusTracker=new Ji,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",s.to("class"),s.if("isVisible","ck-hidden",l=>!l),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,r)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),r())}),this.keystrokes.set("arrowleft",(e,r)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),r())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(e){const r=e||new lr;return e||r.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),r.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),r.delegate("execute").to(this),r}_createArrowView(){const e=new lr,r=e.bindTemplate;return e.icon=z1,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":r.to("isOn"),"aria-haspopup":!0,"aria-expanded":r.to("isOn",s=>String(s))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}var Z_=a(1666),tw={attributes:{"data-cke":!0}};tw.setAttributes=Ut(),tw.insert=zt().bind(null,"head"),tw.domAPI=Vt(),tw.insertStyleElement=jt(),It()(Z_.A,tw),Z_.A&&Z_.A.locals&&Z_.A.locals;var J_=a(3629),nw={attributes:{"data-cke":!0}};nw.setAttributes=Ut(),nw.insert=zt().bind(null,"head"),nw.domAPI=Vt(),nw.insertStyleElement=jt(),It()(J_.A,nw),J_.A&&J_.A.locals&&J_.A.locals;function fm(u,e=WF){const r=typeof e=="function"?new e(u):e,s=new $F(u),l=new TS(u,r,s);return r.bind("isEnabled").to(l),r instanceof Q_?r.arrowView.bind("isOn").to(l,"isOpen"):r.bind("isOn").to(l,"isOpen"),function(f){(function(b){Ql({emitter:b,activator:()=>b.isRendered&&b.isOpen,callback:()=>{b.isOpen=!1},contextElements:()=>[b.element,...iT(b.focusTracker).filter(A=>!b.element.contains(A))]})})(f),function(b){b.on("execute",A=>{A.source instanceof Sn||(b.isOpen=!1)})}(f),function(b){b.focusTracker.on("change:isFocused",(A,S,T)=>{!T&&b.isOpen&&(b.isOpen=!1)})}(f),function(b){b.keystrokes.set("arrowdown",(A,S)=>{b.isOpen&&(b.panelView.focus(),S())}),b.keystrokes.set("arrowup",(A,S)=>{b.isOpen&&(b.panelView.focusLast(),S())})}(f),function(b){b.on("change:isOpen",(A,S,T)=>{T||b.focusTracker.elements.some(O=>O.contains(p.document.activeElement))&&b.buttonView.focus()})}(f),function(b){b.on("change:isOpen",(A,S,T)=>{T&&b.panelView.focus()},{priority:"low"})}(f)}(l),l}function jS(u,e,r={}){u.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),u.isOpen?eT(u,e,r):u.once("change:isOpen",()=>eT(u,e,r),{priority:"highest"}),r.enableActiveItemFocusOnDropdownOpen&&rT(u,()=>u.toolbarView.items.find(s=>s.isOn))}function eT(u,e,r){const s=u.locale,l=s.t,f=u.toolbarView=new NS(s),b=typeof e=="function"?e():e;f.ariaLabel=r.ariaLabel||l("Dropdown toolbar"),r.maxWidth&&(f.maxWidth=r.maxWidth),r.class&&(f.class=r.class),r.isCompact&&(f.isCompact=r.isCompact),r.isVertical&&(f.isVertical=!0),b instanceof rt?f.items.bindTo(b).using(A=>A):f.items.addMany(b),u.panelView.children.add(f),u.focusTracker.add(f),f.items.delegate("execute").to(u)}function tT(u,e,r={}){u.isOpen?nT(u,e,r):u.once("change:isOpen",()=>nT(u,e,r),{priority:"highest"}),rT(u,()=>u.listView.items.find(s=>s instanceof hm&&s.children.first.isOn))}function nT(u,e,r){const s=u.locale,l=u.listView=new q_(s),f=typeof e=="function"?e():e;l.ariaLabel=r.ariaLabel,l.role=r.role,oT(u,l.items,f,s),u.panelView.children.add(l),l.items.delegate("execute").to(u)}function rT(u,e){u.on("change:isOpen",()=>{if(!u.isOpen)return;const r=e();r&&(typeof r.focus=="function"?r.focus():q("ui-dropdown-focus-child-on-open-child-missing-focus",{view:r}))},{priority:X.low-10})}function iT(u){return[...u.elements,...u.externalViews.flatMap(e=>iT(e.focusTracker))]}function oT(u,e,r,s){e.on("change",()=>{const l=[...e].reduce((b,A)=>(A instanceof hm&&A.children.first instanceof Ee&&b.push(A.children.first),b),[]),f=l.some(b=>b.isToggleable);l.forEach(b=>{b.hasCheckSpace=f})}),e.bindTo(r).using(l=>{if(l.type==="separator")return new MS(s);if(l.type==="group"){const f=new F_(s);return f.set({label:l.label}),oT(u,f.items,l.items,s),f.items.delegate("execute").to(u),f}if(l.type==="button"||l.type==="switchbutton"){const f=l.model.role==="menuitemcheckbox"||l.model.role==="menuitemradio",b=new hm(s);let A;return l.type==="button"?(A=new Ee(s),A.set({isToggleable:f})):A=new Sn(s),A.bind(...Object.keys(l.model)).to(l.model),A.delegate("execute").to(b),b.children.add(A),b}return null})}const X_=(u,e,r)=>{const s=new HF(u.locale);return s.set({id:e,ariaDescribedById:r}),s.bind("isReadOnly").to(u,"isEnabled",l=>!l),s.bind("hasError").to(u,"errorText",l=>!!l),s.on("input",()=>{u.errorText=null}),u.bind("isEmpty","isFocused","placeholder").to(s),s};var eC=a(1905),rw={attributes:{"data-cke":!0}};rw.setAttributes=Ut(),rw.insert=zt().bind(null,"head"),rw.domAPI=Vt(),rw.insertStyleElement=jt(),It()(eC.A,rw),eC.A&&eC.A.locals&&eC.A.locals;var tC=a(6309),iw={attributes:{"data-cke":!0}};iw.setAttributes=Ut(),iw.insert=zt().bind(null,"head"),iw.domAPI=Vt(),iw.insertStyleElement=jt(),It()(tC.A,iw),tC.A&&tC.A.locals&&tC.A.locals;class r9{constructor(e){this._components=new Map,this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,r){this._components.set(OS(e),{callback:r,originalName:e})}create(e){if(!this.has(e))throw new U("componentfactory-item-missing",this,{name:e});return this._components.get(OS(e)).callback(this.editor.locale)}has(e){return this._components.has(OS(e))}}function OS(u){return String(u).toLowerCase()}var nC=a(9205),ow={attributes:{"data-cke":!0}};ow.setAttributes=Ut(),ow.insert=zt().bind(null,"head"),ow.domAPI=Vt(),ow.insertStyleElement=jt(),It()(nC.A,ow),nC.A&&nC.A.locals&&nC.A.locals;const sT="ck-tooltip",ca=class ca extends Fo(){constructor(e){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._mutationObserver=null,ca._editors.add(e),ca._instance)return ca._instance;ca._instance=this,this.tooltipTextView=new un(e.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Jf(e.locale),this.balloonPanelView.class=sT,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=function(r){const s=new MutationObserver(()=>{r()});return{attach(l){s.observe(l,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){s.disconnect()}}}(()=>{this._updateTooltipPosition()}),this._pinTooltipDebounced=$f(this._pinTooltip,600),this._unpinTooltipDebounced=$f(this._unpinTooltip,400),this.listenTo(p.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(p.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(p.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(p.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(p.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(p.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(e){const r=e.ui.view&&e.ui.view.body;ca._editors.delete(e),this.stopListening(e.ui),r&&r.has(this.balloonPanelView)&&r.remove(this.balloonPanelView),ca._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),ca._instance=null)}static getPositioningFunctions(e){const r=ca.defaultBalloonPositions;return{s:[r.southArrowNorth,r.southArrowNorthEast,r.southArrowNorthWest],n:[r.northArrowSouth],e:[r.eastArrowWest],w:[r.westArrowEast],sw:[r.southArrowNorthEast],se:[r.southArrowNorthWest]}[e]}_onKeyDown(e,r){r.key==="Escape"&&this._currentElementWithTooltip&&(this._unpinTooltip(),r.stopPropagation())}_onEnterOrFocus(e,{target:r}){const s=LS(r);s?s!==this._currentElementWithTooltip?(this._unpinTooltip(),e.name==="focus"&&!s.matches(":hover")||s.matches("[data-cke-tooltip-instant]")?this._pinTooltip(s,PS(s)):this._pinTooltipDebounced(s,PS(s))):this._unpinTooltipDebounced.cancel():e.name==="focus"&&this._unpinTooltip()}_onLeaveOrBlur(e,{target:r,relatedTarget:s}){if(e.name==="mouseleave"){if(!Hs(r))return;const l=this.balloonPanelView.element,f=l&&(l===s||l.contains(s)),b=!f&&r===l;if(f)return void this._unpinTooltipDebounced.cancel();if(!b&&this._currentElementWithTooltip&&r!==this._currentElementWithTooltip)return;const A=LS(r),S=LS(s);(b||A&&A!==S)&&(this._pinTooltipDebounced.cancel(),this._currentElementWithTooltip&&this._currentElementWithTooltip.matches("[data-cke-tooltip-instant]")||A&&A.matches("[data-cke-tooltip-instant]")?this._unpinTooltip():this._unpinTooltipDebounced())}else{if(this._currentElementWithTooltip&&r!==this._currentElementWithTooltip)return;this._pinTooltipDebounced.cancel(),this._unpinTooltipDebounced()}}_onScroll(e,{target:r}){this._currentElementWithTooltip&&(r.contains(this.balloonPanelView.element)&&r.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(e,{text:r,position:s,cssClass:l}){this._unpinTooltip();const f=qo(ca._editors.values()).ui.view.body;f.has(this.balloonPanelView)||f.add(this.balloonPanelView),this.tooltipTextView.text=r,this.balloonPanelView.class=[sT,l].filter(b=>b).join(" "),this.balloonPanelView.pin({target:e,positions:ca.getPositioningFunctions(s)}),this._mutationObserver.attach(e);for(const b of ca._editors)this.listenTo(b.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=e,this._currentTooltipPosition=s}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const e of ca._editors)this.stopListening(e.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const e=PS(this._currentElementWithTooltip);Ua(this._currentElementWithTooltip)&&e.text?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:ca.getPositioningFunctions(e.position)}):this._unpinTooltip()}};ca.defaultBalloonPositions=Jf.generatePositions({heightOffset:5,sideOffset:13}),ca._editors=new Set,ca._instance=null;let BS=ca;function LS(u){return Hs(u)?u.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function PS(u){return{text:u.dataset.ckeTooltipText,position:u.dataset.ckeTooltipPosition||"s",cssClass:u.dataset.ckeTooltipClass||""}}class aT extends Fo(){constructor(e,r={}){super(),this._balloonView=null,this._showBalloonThrottled=Eg(()=>this._showBalloon(),50,{leading:!0}),this._lastFocusedEditableElement=null,this.editor=e,this._balloonClass=r.balloonClass,e.on("ready",()=>this._handleEditorReady())}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;this._isEnabled()&&e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(r,s,l)=>{this._updateLastFocusedEditableElement(),l?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(r,s,l)=>{this._updateLastFocusedEditableElement(),l&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_getNormalizedConfig(){return{side:this.editor.locale.contentLanguageDirection==="ltr"?"right":"left",position:"border",verticalOffset:0,horizontalOffset:5}}_showBalloon(){const e=this._getBalloonAttachOptions();e&&(this._balloonView||(this._balloonView=this._createBalloonView()),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_createBalloonView(){const e=this.editor,r=new Jf,s=this._createBadgeContent();return r.content.add(s),this._balloonClass&&(r.class=this._balloonClass),e.ui.view.body.add(r),r}_getBalloonAttachOptions(){if(!this._lastFocusedEditableElement)return null;const e=this._getNormalizedConfig(),r=e.side==="right"?lT(this._lastFocusedEditableElement,s=e,(l,f)=>l.left+l.width-f.width-s.horizontalOffset):function(l,f){return lT(l,f,b=>b.left+f.horizontalOffset)}(this._lastFocusedEditableElement,e);var s;return{target:this._lastFocusedEditableElement,positions:[r]}}_updateLastFocusedEditableElement(){const e=this.editor,r=e.ui.focusTracker.isFocused,s=e.ui.focusTracker.focusedElement;if(!r||!s)return void(this._lastFocusedEditableElement=null);const l=Array.from(e.ui.getEditableElementsNames()).map(f=>e.ui.getEditableElement(f));l.includes(s)?this._lastFocusedEditableElement=s:this._lastFocusedEditableElement=l[0]}}function lT(u,e,r){return(s,l)=>{const f=new Mn(u);if(f.width<350||f.height<50)return null;let b;b=e.position==="inside"?f.bottom-l.height:f.bottom-l.height/2,b-=e.verticalOffset;const A=r(f,l),S=s.clone().moveTo(A,b).getIntersection(l.clone().moveTo(A,b)).getVisible();return!S||S.getArea()<l.getArea()?null:{top:b,left:A,name:`position_${e.position}-side_${e.side}`,config:{withArrow:!1}}}}class i9 extends aT{constructor(e){super(e,{balloonClass:"ck-powered-by-balloon"})}_isEnabled(){const e=this.editor;if(e.config.get("ui.poweredBy.forceVisible"))return!0;const r=e.config.get("licenseKey");if(r=="GPL")return!0;const s=_e(r.split(".")[1]);return!s||!s.whiteLabel}_createBadgeContent(){return new o9(this.editor.locale,this._getNormalizedConfig().label)}_getNormalizedConfig(){const e=super._getNormalizedConfig(),r=this.editor.config.get("ui.poweredBy")||{},s=r.position||e.position,l=s==="inside"?5:e.verticalOffset;return{position:s,side:r.side||e.side,label:r.label===void 0?"Powered by":r.label,verticalOffset:r.verticalOffset!==void 0?r.verticalOffset:l,horizontalOffset:r.horizontalOffset!==void 0?r.horizontalOffset:e.horizontalOffset,forceVisible:!!r.forceVisible}}}class o9 extends un{constructor(e,r){super(e);const s=new Ja,l=this.bindTemplate;s.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/powered-by-ckeditor/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...r?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[r]}]:[],s],on:{dragstart:l.to(f=>f.preventDefault())}}]})}}class s9 extends aT{constructor(e){super(e,{balloonClass:"ck-evaluation-badge-balloon"}),this.licenseTypeMessage={evaluation:"For evaluation purposes only",trial:"For evaluation purposes only",development:"For development purposes only"}}_isEnabled(){const e=cT(this.editor.config.get("licenseKey"));return!!(e&&this.licenseTypeMessage[e])}_createBadgeContent(){const e=cT(this.editor.config.get("licenseKey"));return new a9(this.editor.locale,this.licenseTypeMessage[e])}_getNormalizedConfig(){const e=super._getNormalizedConfig(),r=this.editor.config.get("ui.poweredBy")||{};return{position:r.position||e.position,side:(r.side||e.side)==="left"?"right":"left",verticalOffset:e.verticalOffset,horizontalOffset:e.horizontalOffset}}}class a9 extends un{constructor(e,r){super(e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-evaluation-badge"],"aria-hidden":!0},children:[{tag:"span",attributes:{class:["ck","ck-evaluation-badge__label"]},children:[r]}]})}}function cT(u){if(u=="GPL")return"GPL";const e=_e(u.split(".")[1]);return e?e.licenseType||"production":null}var rC=a(1801),sw={attributes:{"data-cke":!0}};sw.setAttributes=Ut(),sw.insert=zt().bind(null,"head"),sw.domAPI=Vt(),sw.insertStyleElement=jt(),It()(rC.A,sw),rC.A&&rC.A.locals&&rC.A.locals;const uT={POLITE:"polite",ASSERTIVE:"assertive"};class l9{constructor(e){this.editor=e,e.once("ready",()=>{for(const r of Object.values(uT))this.announce("",r)})}announce(e,r=uT.POLITE){const s=this.editor;if(!s.ui.view)return;this.view||(this.view=new c9(s.locale),s.ui.view.body.add(this.view));const{politeness:l,isUnsafeHTML:f}=typeof r=="string"?{politeness:r}:r;let b=this.view.regionViews.find(A=>A.politeness===l);b||(b=new u9(s,l),this.view.regionViews.add(b)),b.announce({announcement:e,isUnsafeHTML:f})}}class c9 extends un{constructor(e){super(e),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class u9 extends un{constructor(e,r){super(e.locale),this.setTemplate({tag:"div",attributes:{"aria-live":r,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),e.on("destroy",()=>{this._pruneAnnouncementsInterval!==null&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)}),this.politeness=r,this._domConverter=e.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval(()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()},5e3)}announce({announcement:e,isUnsafeHTML:r}){if(!e.trim().length)return;const s=document.createElement("li");r?this._domConverter.setContentOf(s,e):s.innerText=e,this._listElement.appendChild(s)}get _listElement(){return this.element.querySelector("ul")}}var iC=a(9481),aw={attributes:{"data-cke":!0}};aw.setAttributes=Ut(),aw.insert=zt().bind(null,"head"),aw.domAPI=Vt(),aw.insertStyleElement=jt(),It()(iC.A,aw),iC.A&&iC.A.locals&&iC.A.locals;class oC extends hm{constructor(e,r){super(e);const s=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:s.to("mouseenter")}}),this.delegate("mouseenter").to(r)}}const k0={toggleMenusAndFocusItemsOnHover(u){u.on("menu:mouseenter",e=>{if(u.isFocusBorderEnabled||u.isOpen){if(u.isOpen)for(const r of u.menus){const s=e.path[0],l=s instanceof oC&&s.children.first===r;r.isOpen=(e.path.includes(r)||l)&&r.isEnabled}e.source.focus()}})},focusCycleMenusOnArrows(u){const e=u.locale.uiLanguageDirection==="rtl";function r(s,l){const f=u.children.getIndex(s),b=s.isOpen,A=u.children.length,S=u.children.get((f+A+l)%A);s.isOpen=!1,b&&(S.isOpen=!0),S.buttonView.focus()}u.on("menu:arrowright",s=>{r(s.source,e?-1:1)}),u.on("menu:arrowleft",s=>{r(s.source,e?1:-1)})},closeMenusWhenTheBarCloses(u){u.on("change:isOpen",()=>{u.isOpen||u.menus.forEach(e=>{e.isOpen=!1})})},closeMenuWhenAnotherOnTheSameLevelOpens(u){u.on("menu:change:isOpen",(e,r,s)=>{s&&u.menus.filter(l=>e.source.parentMenuView===l.parentMenuView&&e.source!==l&&l.isOpen).forEach(l=>{l.isOpen=!1})})},closeOnClickOutside(u){Ql({emitter:u,activator:()=>u.isOpen,callback:()=>u.close(),contextElements:()=>u.children.map(e=>e.element)})},enableFocusHighlightOnInteraction(u){let e=!1;u.on("change:isOpen",(r,s,l)=>{l||(e||(u.isFocusBorderEnabled=!1),e=!1)}),u.listenTo(u.element,"keydown",()=>{e=!0},{useCapture:!0}),u.listenTo(u.element,"keyup",()=>{e=!1},{useCapture:!0}),u.listenTo(u.element,"focus",()=>{e&&(u.isFocusBorderEnabled=!0)},{useCapture:!0})}},pm={openAndFocusPanelOnArrowDownKey(u){u.keystrokes.set("arrowdown",(e,r)=>{u.focusTracker.focusedElement===u.buttonView.element&&(u.isOpen||(u.isOpen=!0),u.panelView.focus(),r())})},openOnArrowRightKey(u){const e=u.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";u.keystrokes.set(e,(r,s)=>{u.focusTracker.focusedElement===u.buttonView.element&&u.isEnabled&&(u.isOpen||(u.isOpen=!0),u.panelView.focus(),s())})},openOnButtonClick(u){u.buttonView.on("execute",()=>{u.isOpen=!0})},toggleOnButtonClick(u){u.buttonView.on("execute",()=>{u.isOpen=!u.isOpen})},openAndFocusOnEnterKeyPress(u){u.keystrokes.set("enter",(e,r)=>{u.focusTracker.focusedElement===u.buttonView.element&&(u.isOpen=!0,u.panelView.focus(),r())})},closeOnArrowLeftKey(u){const e=u.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";u.keystrokes.set(e,(r,s)=>{u.isOpen&&(u.isOpen=!1,u.focus(),s())})},closeOnEscKey(u){u.keystrokes.set("esc",(e,r)=>{u.isOpen&&(u.isOpen=!1,u.focus(),r())})},closeOnParentClose(u){u.parentMenuView.on("change:isOpen",(e,r,s)=>{s||e.source!==u.parentMenuView||(u.isOpen=!1)})}},d9={southEast:u=>({top:u.bottom,left:u.left,name:"se"}),southWest:(u,e)=>({top:u.bottom,left:u.left-e.width+u.width,name:"sw"}),northEast:(u,e)=>({top:u.top-e.height,left:u.left,name:"ne"}),northWest:(u,e)=>({top:u.top-e.height,left:u.left-e.width+u.width,name:"nw"}),eastSouth:u=>({top:u.top,left:u.right-5,name:"es"}),eastNorth:(u,e)=>({top:u.top-e.height,left:u.right-5,name:"en"}),westSouth:(u,e)=>({top:u.top,left:u.left-e.width+5,name:"ws"}),westNorth:(u,e)=>({top:u.top-e.height,left:u.left-e.width+5,name:"wn"})},h9=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditingEnhanced",items:["menuBar:sourceEditingEnhanced"]},{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"previewMergeFields",items:["menuBar:previewMergeFields"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:insertImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable"]},{groupId:"insertInline",items:["menuBar:link","menuBar:bookmark","menuBar:comment","menuBar:insertMergeField","menuBar:emoji"]},{groupId:"insertMinorWidgets",items:["menuBar:mediaEmbed","menuBar:insertTemplate","menuBar:specialCharacters","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:multiLevelList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function f9({normalizedConfig:u,locale:e,componentFactory:r,extraItems:s}){const l=Yc(u);return dT(u,l,s),function(f,b){const A=b.removeItems,S=[];b.items=b.items.filter(({menuId:T})=>!A.includes(T)||(S.push(T),!1)),w0(b.items,T=>{T.groups=T.groups.filter(({groupId:O})=>!A.includes(O)||(S.push(O),!1));for(const O of T.groups)O.items=O.items.filter(P=>{const W=pT(P);return!A.includes(W)||(S.push(W),!1)})});for(const T of A)S.includes(T)||q("menu-bar-item-could-not-be-removed",{menuBarConfig:f,itemName:T})}(u,l),dT(u,l,l.addItems),function(f,b,A){w0(b.items,S=>{for(const T of S.groups)T.items=T.items.filter(O=>{const P=typeof O=="string"&&!A.has(O);return P&&!b.isUsingDefaultConfig&&q("menu-bar-item-unavailable",{menuBarConfig:f,parentMenuConfig:Yc(S),componentName:O}),!P})})}(u,l,r),fT(u,l),function(f,b){const A=b.t,S={File:A({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:A({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:A({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:A({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:A({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:A({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:A({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:A({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:A({string:"Font",id:"MENU_BAR_MENU_FONT"})};w0(f.items,T=>{T.label in S&&(T.label=S[T.label])})}(l,e),l}function dT(u,e,r){const s=[];if(r.length!=0){for(const f of r){const b=m9(f.position),A=g9(f.position);if(typeof(l=f)=="object"&&"menu"in l)if(A){const S=e.items.findIndex(T=>T.menuId===A);S!=-1?b==="before"?(e.items.splice(S,0,f.menu),s.push(f)):b==="after"&&(e.items.splice(S+1,0,f.menu),s.push(f)):hT(e,f.menu,A,b)&&s.push(f)}else b==="start"?(e.items.unshift(f.menu),s.push(f)):b==="end"&&(e.items.push(f.menu),s.push(f));else p9(f)?w0(e.items,S=>{if(S.menuId===A)b==="start"?(S.groups.unshift(f.group),s.push(f)):b==="end"&&(S.groups.push(f.group),s.push(f));else{const T=S.groups.findIndex(O=>O.groupId===A);T!==-1&&(b==="before"?(S.groups.splice(T,0,f.group),s.push(f)):b==="after"&&(S.groups.splice(T+1,0,f.group),s.push(f)))}}):hT(e,f.item,A,b)&&s.push(f)}var l;for(const f of r)s.includes(f)||q("menu-bar-item-could-not-be-added",{menuBarConfig:u,addedItemConfig:f})}}function hT(u,e,r,s){let l=!1;return w0(u.items,f=>{for(const{groupId:b,items:A}of f.groups){if(l)return;if(b===r)s==="start"?(A.unshift(e),l=!0):s==="end"&&(A.push(e),l=!0);else{const S=A.findIndex(T=>pT(T)===r);S!==-1&&(s==="before"?(A.splice(S,0,e),l=!0):s==="after"&&(A.splice(S+1,0,e),l=!0))}}}),l}function fT(u,e){const r=e.isUsingDefaultConfig;let s=!1;e.items=e.items.filter(l=>!!l.groups.length||(RS(u,l,r),!1)),e.items.length?(w0(e.items,l=>{l.groups=l.groups.filter(f=>!!f.items.length||(s=!0,!1));for(const f of l.groups)f.items=f.items.filter(b=>!(mT(b)&&!b.groups.length)||(RS(u,b,r),s=!0,!1))}),s&&fT(u,e)):RS(u,u,r)}function RS(u,e,r){r||q("menu-bar-menu-empty",{menuBarConfig:u,emptyMenuConfig:e})}function w0(u,e){if(Array.isArray(u))for(const s of u)r(s);function r(s){e(s);for(const l of s.groups)for(const f of l.items)mT(f)&&r(f)}}function p9(u){return typeof u=="object"&&"group"in u}function m9(u){return u.startsWith("start")?"start":u.startsWith("end")?"end":u.startsWith("after")?"after":"before"}function g9(u){const e=u.match(/^[^:]+:(.+)/);return e?e[1]:null}function pT(u){return typeof u=="string"?u:u.menuId}function mT(u){return typeof u=="object"&&"menuId"in u}class b9 extends Ae(){constructor(e){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[],this._extraMenuBarElements=[],this._lastFocusedForeignElement=null;const r=e.editing.view;this.editor=e,this.componentFactory=new r9(e),this.focusTracker=new Ji,this.tooltipManager=new BS(e),this.poweredBy=new i9(e),this.evaluationBadge=new s9(e),this.ariaLiveAnnouncer=new l9(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this._bindBodyCollectionWithFocusTracker(),this.isReady=!0}),this.listenTo(r.document,"layoutChanged",this.update.bind(this)),this.listenTo(r,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy(),this.evaluationBadge.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,r){this._editableElementsMap.set(e,r),r.ckeditorInstance||(r.ckeditorInstance=this.editor),this.focusTracker.add(r);const s=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(r)};this.isReady?s():this.once("ready",s)}removeEditableElement(e){const r=this._editableElementsMap.get(e);r&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(r),this.focusTracker.remove(r),r.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,r={}){e.isRendered?(this.focusTracker.add(e),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:r})}extendMenuBar(e){this._extraMenuBarElements.push(e)}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_initMenuBar(e){const r=e.element;this.focusTracker.add(r),this.editor.keystrokes.listenTo(r);const s=function(l){let f;return f="items"in l&&l.items?{items:l.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1,...l}:{items:Yc(h9),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0,...l},f}(this.editor.config.get("menuBar")||{});e.fillFromConfig(s,this.componentFactory,this._extraMenuBarElements),this.editor.keystrokes.set("Esc",(l,f)=>{r.contains(this.editor.ui.focusTracker.focusedElement)&&(this._lastFocusedForeignElement?(this._lastFocusedForeignElement.focus(),this._lastFocusedForeignElement=null):this.editor.editing.view.focus(),f())}),this.editor.keystrokes.set("Alt+F9",(l,f)=>{r.contains(this.editor.ui.focusTracker.focusedElement)||(this._saveLastFocusedForeignElement(),e.isFocusBorderEnabled=!0,e.focus(),f())})}_readViewportOffsetFromConfig(){const e=this.editor,r=e.config.get("ui.viewportOffset");if(r)return r;const s=e.config.get("toolbar.viewportTopOffset");return s?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:s}):{top:0}}_initFocusTracking(){const e=this.editor;let r;e.keystrokes.set("Alt+F10",(s,l)=>{this._saveLastFocusedForeignElement();const f=this._getCurrentFocusedToolbarDefinition();f&&r||(r=this._getFocusableCandidateToolbarDefinitions());for(let b=0;b<r.length;b++){const A=r.shift();if(r.push(A),A!==f&&this._focusFocusableCandidateToolbar(A)){f&&f.options.afterBlur&&f.options.afterBlur();break}}l()}),e.keystrokes.set("Esc",(s,l)=>{const f=this._getCurrentFocusedToolbarDefinition();f&&(this._lastFocusedForeignElement?(this._lastFocusedForeignElement.focus(),this._lastFocusedForeignElement=null):e.editing.view.focus(),f.options.afterBlur&&f.options.afterBlur(),l())})}_saveLastFocusedForeignElement(){const e=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(e)&&!Array.from(this.editor.editing.view.domRoots.values()).includes(e)&&(this._lastFocusedForeignElement=e)}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const r of this._focusableToolbarDefinitions){const{toolbarView:s,options:l}=r;(Ua(s.element)||l.beforeFocus)&&e.push(r)}return e.sort((r,s)=>gT(r)-gT(s)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:r,options:{beforeFocus:s}}=e;return s&&s(),!!Ua(r.element)&&(r.focus(),!0)}_handleScrollToTheSelection(e,r){const s={top:0,bottom:0,left:0,right:0,...this.viewportOffset};r.viewportOffset.top+=s.top,r.viewportOffset.bottom+=s.bottom,r.viewportOffset.left+=s.left,r.viewportOffset.right+=s.right}_bindBodyCollectionWithFocusTracker(){const e=this.view.body;for(const r of e)this.focusTracker.add(r.element);e.on("add",(r,s)=>{this.focusTracker.add(s.element)}),e.on("remove",(r,s)=>{this.focusTracker.remove(s.element)})}}function gT(u){const{toolbarView:e,options:r}=u;let s=10;return Ua(e.element)&&s--,r.isContextual&&s--,s}var sC=a(1185),lw={attributes:{"data-cke":!0}};lw.setAttributes=Ut(),lw.insert=zt().bind(null,"head"),lw.domAPI=Vt(),lw.insertStyleElement=jt(),It()(sC.A,lw),sC.A&&sC.A.locals&&sC.A.locals;class k9 extends un{constructor(e){super(e),this.body=new rn(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class w9 extends k9{constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,r=new En;return r.text=e("Rich Text Editor"),r.extendTemplate({attributes:{class:"ck-voice-label"}}),r}}class v9 extends un{constructor(e,r,s){super(e),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=s,this._hasExternalElement=!!this._editableElement,this._editingView=r}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;function r(s){e.change(l=>{const f=e.document.getRoot(s.name);l.addClass(s.isFocused?"ck-focused":"ck-blurred",f),l.removeClass(s.isFocused?"ck-blurred":"ck-focused",f)})}e.isRenderingInProgress?function s(l){e.once("change:isRenderingInProgress",(f,b,A)=>{A?s(l):r(l)})}(this):r(this)}}class y9 extends v9{constructor(e,r,s,l={}){super(e,r,s),this._options=l,this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}})}render(){super.render();const e=this._editingView;e.change(r=>{const s=e.document.getRoot(this.name);r.setAttribute("aria-label",this.getEditableAriaLabel(),s)})}getEditableAriaLabel(){const e=this.locale.t,r=this._options.label,s=this._editableElement,l=this.name;if(typeof r=="string")return r;if(typeof r=="object")return r[l];if(typeof r=="function")return r(this);if(s){const f=s.getAttribute("aria-label");if(f)return f}return e("Rich Text Editor. Editing area: %0",l)}}class zS extends cs{static get pluginName(){return"Notification"}static get isOfficialPlugin(){return!0}init(){this.on("show:warning",(e,r)=>{window.alert(r.message)},{priority:"lowest"})}showSuccess(e,r={}){this._showNotification({message:e,type:"success",namespace:r.namespace,title:r.title})}showInfo(e,r={}){this._showNotification({message:e,type:"info",namespace:r.namespace,title:r.title})}showWarning(e,r={}){this._showNotification({message:e,type:"warning",namespace:r.namespace,title:r.title})}_showNotification(e){const r=e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`;this.fire(r,{message:e.message,type:e.type,title:e.title||""})}}class bT extends Ae(){constructor(e,r){super(),r&&Kk(this,r),e&&this.set(e)}}var aC=a(991),cw={attributes:{"data-cke":!0}};cw.setAttributes=Ut(),cw.insert=zt().bind(null,"head"),cw.domAPI=Vt(),cw.insertStyleElement=jt(),It()(aC.A,cw),aC.A&&aC.A.locals&&aC.A.locals;var lC=a(5380),uw={attributes:{"data-cke":!0}};uw.setAttributes=Ut(),uw.insert=zt().bind(null,"head"),uw.domAPI=Vt(),uw.insertStyleElement=jt(),It()(lC.A,uw),lC.A&&lC.A.locals&&lC.A.locals;const cC=Ws("px");class uC extends $t{constructor(e){super(e),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const r=this.editor.editing.view,s=r.document.selection.editableElement;return s?r.domConverter.mapViewToDom(s.root):null},this.decorate("getPositionOptions"),this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}static get isOfficialPlugin(){return!0}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new U("contextualballoon-add-view-exist",[this,e]);const r=e.stackId||"main";if(!this._idToStack.has(r))return this._idToStack.set(r,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(r)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(r));const s=this._idToStack.get(r);e.singleViewMode&&this.showStack(r),s.set(e.view,e),this._viewToStack.set(e.view,s),s===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new U("contextualballoon-remove-view-not-exist",[this,e]);const r=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(r.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(r.values())[r.size-2])),r.size===1?(this._idToStack.delete(this._getStackId(r)),this._numberOfStacks=this._idToStack.size):r.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this.getPositionOptions()),this._fakePanelsView.updatePosition()}getPositionOptions(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}showStack(e){this.visibleStack=e;const r=this._idToStack.get(e);if(!r)throw new U("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==r&&this._showView(Array.from(r.values()).pop())}_createPanelView(){this._view=new Jf(this.editor.locale),this.editor.ui.view.body.add(this._view),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(r=>r[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let r=e.indexOf(this._visibleStack)+1;e[r]||(r=0),this.showStack(this._getStackId(e[r]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let r=e.indexOf(this._visibleStack)-1;e[r]||(r=e.length-1),this.showStack(this._getStackId(e[r]))}_createRotatorView(){const e=new A9(this.editor.locale),r=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(s,l)=>!l&&s>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(s,l)=>{if(l<2)return"";const f=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return r("%0 of %1",[f,l])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new _9(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(r,s)=>!s&&r>=2?Math.min(r-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:r="",withArrow:s=!0,singleViewMode:l=!1}){this.view.class=r,this.view.withArrow=s,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this.getPositionOptions()),this._fakePanelsView.updatePosition(),l&&(this._singleViewMode=!0)}}class A9 extends un{constructor(e){super(e);const r=e.t,s=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Ji,this.buttonPrevView=this._createButtonView(r("Previous"),cn.previousArrow),this.buttonNextView=this._createButtonView(r("Next"),cn.nextArrow),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",s.to("isNavigationVisible",l=>l?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:s.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,r){const s=new lr(this.locale);return s.set({label:e,icon:r,tooltip:!0}),s}}class _9 extends un{constructor(e,r){super(e);const s=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=r,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",s.to("numberOfPanels",l=>l?"":"ck-hidden")],style:{top:s.to("top",cC),left:s.to("left",cC),width:s.to("width",cC),height:s.to("height",cC)}},children:this.content}),this.on("change:numberOfPanels",(l,f,b,A)=>{b>A?this._addPanels(b-A):this._removePanels(A-b),this.updatePosition()})}_addPanels(e){for(;e--;){const r=new un;r.setTemplate({tag:"div"}),this.content.add(r),this.registerChild(r)}}_removePanels(e){for(;e--;){const r=this.content.last;this.content.remove(r),this.deregisterChild(r),r.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:r}=this._balloonPanelView,{width:s,height:l}=new Mn(this._balloonPanelView.element);Object.assign(this,{top:e,left:r,width:s,height:l})}}}var dC=a(8298),dw={attributes:{"data-cke":!0}};dw.setAttributes=Ut(),dw.insert=zt().bind(null,"head"),dw.domAPI=Vt(),dw.insertStyleElement=jt(),It()(dC.A,dw),dC.A&&dC.A.locals&&dC.A.locals;const v0=Ws("px");class C9 extends un{constructor(e){super(e);const r=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new et({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:r.to("isSticky",s=>s?"block":"none"),height:r.to("isSticky",s=>s?v0(this._contentPanelRect.height):null)}}}).render(),this.contentPanelElement=new et({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",r.if("isSticky","ck-sticky-panel__content_sticky"),r.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:r.to("isSticky",s=>s?v0(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:r.to("_stickyTopOffset",s=>s&&v0(s)),bottom:r.to("_stickyBottomOffset",s=>s&&v0(s)),marginLeft:r.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(p.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive)return void this._unstick();const e=new Mn(this.limiterElement);let r=e.getVisible();if(r){const s=new Mn(p.window);s.top+=this.viewportTopOffset,s.height-=this.viewportTopOffset,r=r.getIntersection(s)}if(r&&e.top<r.top){const s=r.top;if(s+this._contentPanelRect.height+this.limiterBottomOffset>r.bottom){const l=Math.max(e.bottom-r.bottom,0)+this.limiterBottomOffset;e.bottom-l>e.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(l):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<e.height?this._stickToTopOfAncestors(s):this._unstick()}else this._unstick()}_stickToTopOfAncestors(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=e,this._stickyBottomOffset=null,this._marginLeft=v0(-p.window.scrollX)}_stickToBottomOfLimiter(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=e,this._marginLeft=v0(-p.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new Mn(this.contentPanelElement)}}class x9 extends O_{constructor(e,r){const s=e.t,l=Object.assign({},{showResetButton:!0,showIcon:!0,creator:X_},r);super(e,l.creator),this.label=r.label,this._viewConfig=l,this._viewConfig.showIcon&&(this.iconView=new Ja,this.iconView.content=cn.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new lr(e),this.resetButtonView.set({label:s("Clear"),icon:cn.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",f=>!f),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class S9 extends un{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",e.if("isVisible","ck-hidden",r=>!r)],tabindex:-1},children:[{tag:"span",children:[{text:[e.to("primaryText")]}]},{tag:"span",children:[{text:[e.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class E9 extends un{constructor(e){super(e),this.children=this.createCollection(),this.focusTracker=new Ji,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new Sa({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const e of this.children)this.focusTracker.add(e.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var kT=/[\\^$.*+?()[\]{}|]/g,D9=RegExp(kT.source);const wT=function(u){return(u=Ou(u))&&D9.test(u)?u.replace(kT,"\\$&"):u};var hC=a(8107),hw={attributes:{"data-cke":!0}};hw.setAttributes=Ut(),hw.insert=zt().bind(null,"head"),hw.domAPI=Vt(),hw.insertStyleElement=jt(),It()(hC.A,hw),hC.A&&hC.A.locals&&hC.A.locals;class I9 extends un{constructor(e,r){super(e),this._config=r,this.filteredView=r.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new Ji,this.keystrokes=new K,this.resultsView=new E9(e),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),r.infoView&&r.infoView.instance?this.infoView=r.infoView.instance:(this.infoView=new S9,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new Sa({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(s,{resultsCount:l,totalItemsCount:f})=>{this.resultsCount=l,this.totalItemsCount=f}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",r.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const e=r=>r.stopPropagation();for(const r of this.focusableChildren)this.focusTracker.add(r.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search(""),this.filteredView.element.scrollTo(0,0)}search(e){const r=e?new RegExp(wT(e),"ig"):null,s=this.filteredView.filter(r);this.fire("search",{query:e,...s})}_createSearchTextQueryView(){const e=new x9(this.locale,this._config.queryView);return this.listenTo(e.fieldView,"input",()=>{this.search(e.fieldView.element.value)}),e.on("reset",()=>this.reset()),e.bind("isEnabled").to(this),e}_enableDefaultInfoViewBehavior(){const e=this.locale.t,r=this.infoView;function s(l,{query:f,resultsCount:b,totalItemsCount:A}){return typeof l=="function"?l(f,b,A):l}this.on("search",(l,f)=>{if(f.resultsCount)r.set({isVisible:!1});else{const b=this._config.infoView&&this._config.infoView.text;let A,S;f.totalItemsCount?b&&b.notFound?(A=b.notFound.primary,S=b.notFound.secondary):(A=e("No results found"),S=""):b&&b.noSearchableItems?(A=b.noSearchableItems.primary,S=b.noSearchableItems.secondary):(A=e("No searchable items"),S=""),r.set({primaryText:s(A,f),secondaryText:s(S,f),isVisible:!0})}})}}var fC=a(5727),fw={attributes:{"data-cke":!0}};fw.setAttributes=Ut(),fw.insert=zt().bind(null,"head"),fw.domAPI=Vt(),fw.insertStyleElement=jt(),It()(fC.A,fw),fC.A&&fC.A.locals&&fC.A.locals;const T0=class T0 extends I9{constructor(e,r){super(e,r),this._config=r;const s=Ws("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const l=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[l.if("isVisible","ck-hidden",f=>!f),l.to("_position",f=>`ck-search__results_${f}`)],style:{width:l.to("_width",s)}}}),this.focusTracker.on("change:isFocused",(f,b,A)=>{this._updateResultsVisibility(),A?this.resultsView.element.scrollTop=0:r.resetOnBlur&&this.queryView.reset()}),this.on("search",()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()}),this.keystrokes.set("esc",(f,b)=>{this.resultsView.isVisible&&(this.queryView.focus(),this.resultsView.isVisible=!1,b())}),this.listenTo(p.document,"scroll",()=>{this._updateResultsViewWidthAndPosition()}),this.on("change:isEnabled",()=>{this._updateResultsVisibility()}),this.filteredView.on("execute",(f,{value:b})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=b,this.resultsView.isVisible=!1}),this.resultsView.on("change:isVisible",()=>{this._updateResultsViewWidthAndPosition()})}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new Mn(this.queryView.fieldView.element).width;const e=T0._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:T0.defaultResultsPositions});this.resultsView._position=e?e.name:"s"}_updateResultsVisibility(){const e=this._config.queryMinChars===void 0?0:this._config.queryMinChars,r=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&r>=e}};T0.defaultResultsPositions=[e=>({top:e.bottom,left:e.left,name:"s"}),(e,r)=>({top:e.top-r.height,left:e.left,name:"n"})],T0._getOptimalPosition=Du;let vT=T0;var pC=a(9529),pw={attributes:{"data-cke":!0}};pw.setAttributes=Ut(),pw.insert=zt().bind(null,"head"),pw.domAPI=Vt(),pw.insertStyleElement=jt(),It()(pC.A,pw),pC.A&&pC.A.locals&&pC.A.locals;var mC=a(109),mw={attributes:{"data-cke":!0}};mw.setAttributes=Ut(),mw.insert=zt().bind(null,"head"),mw.domAPI=Vt(),mw.insertStyleElement=jt(),It()(mC.A,mw),mC.A&&mC.A.locals&&mC.A.locals;var gC=a(2710),gw={attributes:{"data-cke":!0}};gw.setAttributes=Ut(),gw.insert=zt().bind(null,"head"),gw.domAPI=Vt(),gw.insertStyleElement=jt(),It()(gC.A,gw),gC.A&&gC.A.locals&&gC.A.locals;var bC=a(3344),bw={attributes:{"data-cke":!0}};bw.setAttributes=Ut(),bw.insert=zt().bind(null,"head"),bw.domAPI=Vt(),bw.insertStyleElement=jt(),It()(bC.A,bw),bC.A&&bC.A.locals&&bC.A.locals;class T9 extends Ee{constructor(e){super(e);const r=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",s=>String(s)),"data-cke-tooltip-disabled":r.to("isOn")},on:{mouseenter:r.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Ja;return e.content=z1,e.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),e}}var kC=a(9108),kw={attributes:{"data-cke":!0}};kw.setAttributes=Ut(),kw.insert=zt().bind(null,"head"),kw.domAPI=Vt(),kw.insertStyleElement=jt(),It()(kC.A,kw),kC.A&&kC.A.locals&&kC.A.locals;class M9 extends un{constructor(e){super(e);const r=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",r.to("position",s=>`ck-menu-bar__menu__panel_position_${s}`),r.if("isVisible","ck-hidden",s=>!s)],tabindex:"-1"},children:this.children,on:{selectstart:r.to(s=>{s.target.tagName.toLocaleLowerCase()!=="input"&&s.preventDefault()})}})}focus(e=1){this.children.length&&(e===1?this.children.first.focus():this.children.last.focus())}}var wC=a(4),ww={attributes:{"data-cke":!0}};ww.setAttributes=Ut(),ww.insert=zt().bind(null,"head"),ww.domAPI=Vt(),ww.insertStyleElement=jt(),It()(wC.A,ww),wC.A&&wC.A.locals&&wC.A.locals;const L2=class L2 extends un{constructor(e){super(e);const r=this.bindTemplate;this.buttonView=new T9(e),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new M9(e),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new K,this.focusTracker=new Ji,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",r.to("class"),r.if("isEnabled","ck-disabled",s=>!s),r.if("parentMenuView","ck-menu-bar__menu_top-level",s=>!s)]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),pm.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(pm.openOnButtonClick(this),pm.openOnArrowRightKey(this),pm.closeOnArrowLeftKey(this),pm.openAndFocusOnEnterKeyPress(this),pm.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),pm.openAndFocusPanelOnArrowDownKey(this),pm.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",(e,r)=>{this.fire("arrowright"),r()}),this.keystrokes.set("arrowleft",(e,r)=>{this.fire("arrowleft"),r()})}_repositionPanelOnOpen(){this.on("change:isOpen",(e,r,s)=>{if(!s)return;const l=L2._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=l?l.name:this._defaultMenuPositionName})}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:e,southWest:r,northEast:s,northWest:l,westSouth:f,eastSouth:b,westNorth:A,eastNorth:S}=d9;return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?[b,S,f,A]:[e,r,s,l]:this.parentMenuView?[f,A,b,S]:[r,e,l,s]}get _defaultMenuPositionName(){return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?"es":"se":this.parentMenuView?"ws":"sw"}};L2._getOptimalPosition=Du;let mm=L2;class vC extends q_{constructor(e){super(e),this.role="menu",this.items.on("change",this._setItemsCheckSpace.bind(this))}_setItemsCheckSpace(){const e=Array.from(this.items).some(r=>{const s=yT(r);return s&&s.isToggleable});this.items.forEach(r=>{const s=yT(r);s&&(s.hasCheckSpace=e)})}}function yT(u){return u instanceof hm?u.children.map(e=>function(r){return typeof r=="object"&&"buttonView"in r&&r.buttonView instanceof lr}(e)?e.buttonView:e).find(e=>e instanceof Ee):null}class AT extends qr{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}var yC=a(497),vw={attributes:{"data-cke":!0}};vw.setAttributes=Ut(),vw.insert=zt().bind(null,"head"),vw.domAPI=Vt(),vw.insertStyleElement=jt(),It()(yC.A,vw),yC.A&&yC.A.locals&&yC.A.locals;const _T=["mouseenter","arrowleft","arrowright","change:isOpen"];class N9 extends un{constructor(e){super(e),this.menus=[];const r=e.t,s=this.bindTemplate;this.set({isOpen:!1,isFocusBorderEnabled:!1}),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar",s.if("isFocusBorderEnabled","ck-menu-bar_focus-border-enabled")],"aria-label":r("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(e,r,s=[]){const l=f9({normalizedConfig:e,locale:this.locale,componentFactory:r,extraItems:s}).items.map(f=>this._createMenu({componentFactory:r,menuDefinition:f}));this.children.addMany(l)}render(){super.render(),k0.toggleMenusAndFocusItemsOnHover(this),k0.closeMenusWhenTheBarCloses(this),k0.closeMenuWhenAnotherOnTheSameLevelOpens(this),k0.focusCycleMenusOnArrows(this),k0.closeOnClickOutside(this),k0.enableFocusHighlightOnInteraction(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const e of this.children)e.isOpen=!1}registerMenu(e,r=null){r?(e.delegate(..._T).to(r),e.parentMenuView=r):e.delegate(..._T).to(this,s=>"menu:"+s),e._attachBehaviors(),this.menus.push(e)}_createMenu({componentFactory:e,menuDefinition:r,parentMenuView:s}){const l=this.locale,f=new mm(l);return this.registerMenu(f,s),f.buttonView.set({label:r.label}),f.once("change:isOpen",()=>{const b=new vC(l);b.ariaLabel=r.label,f.panelView.children.add(b),b.items.addMany(this._createMenuItems({menuDefinition:r,parentMenuView:f,componentFactory:e}))}),f}_createMenuItems({menuDefinition:e,parentMenuView:r,componentFactory:s}){const l=this.locale,f=[];for(const b of e.groups){for(const A of b.items){const S=new oC(l,r);if(Ge(A))S.children.add(this._createMenu({componentFactory:s,menuDefinition:A,parentMenuView:r}));else{const T=this._createMenuItemContentFromFactory({componentName:A,componentFactory:s,parentMenuView:r});if(!T)continue;S.children.add(T)}f.push(S)}b!==e.groups[e.groups.length-1]&&f.push(new MS(l))}return f}_createMenuItemContentFromFactory({componentName:e,parentMenuView:r,componentFactory:s}){const l=s.create(e);return l instanceof mm||l instanceof Et||l instanceof AT?(this._registerMenuTree(l,r),l.on("execute",()=>{this.close()}),l):(q("menu-bar-component-unsupported",{componentName:e,componentView:l}),null)}_registerMenuTree(e,r){if(!(e instanceof mm))return void e.delegate("mouseenter").to(r);this.registerMenu(e,r);const s=e.panelView.children.filter(f=>f instanceof vC)[0];if(!s)return void e.delegate("mouseenter").to(r);const l=s.items.filter(f=>f instanceof hm);for(const f of l)this._registerMenuTree(f.children.get(0),e)}_setupIsOpenUpdater(){let e;this.on("menu:change:isOpen",(r,s,l)=>{clearTimeout(e),l?this.isOpen=!0:e=setTimeout(()=>{this.isOpen=Array.from(this.children).some(f=>f.isOpen)},0)})}}class j9 extends b9{constructor(e,r){super(e),this.view=r,this._toolbarConfig=XI(e.config.get("toolbar")),this._elementReplacer=new wt,this.listenTo(e.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(e){const r=this.editor,s=this.view,l=r.editing.view,f=s.editable,b=l.document.getRoot();f.name=b.rootName,s.render();const A=f.element;this.setEditableElement(f.name,A),s.editable.bind("isFocused").to(this.focusTracker),l.attachDomRoot(A),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),s.menuBarView&&this._initMenuBar(s.menuBarView),this._initDialogPluginIntegration(),this._initContextualBalloonIntegration(),this.fire("ready")}destroy(){super.destroy();const e=this.view,r=this.editor.editing.view;this._elementReplacer.restore(),r.getDomRoot(e.editable.name)&&r.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:r})=>r||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,r=e.editing.view,s=r.document.getRoot(),l=e.sourceElement;let f;const b=e.config.get("placeholder");b&&(f=typeof b=="string"?b:b[this.view.editable.name]),!f&&l&&l.tagName.toLowerCase()==="textarea"&&(f=l.getAttribute("placeholder")),f&&(s.placeholder=f),Ha({view:r,element:s,isDirectHost:!1,keepOnFocus:!0})}_initContextualBalloonIntegration(){if(!this.editor.plugins.has("ContextualBalloon"))return;const{stickyPanel:e}=this.view,r=this.editor.plugins.get("ContextualBalloon");r.on("getPositionOptions",l=>{const f=l.return;if(!f||!e.isSticky||!e.element)return;const b=new Mn(e.element).height,A=typeof f.target=="function"?f.target():f.target,S=typeof f.limiter=="function"?f.limiter():f.limiter;if(A&&S&&new Mn(A).height>=new Mn(S).height-b)return;const T={...f.viewportOffsetConfig},O=(T.top||0)+b;l.return={...f,viewportOffsetConfig:{...T,top:O}}},{priority:"low"});const s=()=>{r.visibleView&&r.updatePosition()};this.listenTo(e,"change:isSticky",s),this.listenTo(this.editor.ui,"change:viewportOffset",s)}_handleScrollToTheSelectionWithStickyPanel(e,r,s){const l=this.view.stickyPanel;if(l.isSticky){const f=new Mn(l.element).height;r.viewportOffset.top+=f}else{const f=()=>{this.editor.editing.view.scrollToTheSelection(s)};this.listenTo(l,"change:isSticky",f),setTimeout(()=>{this.stopListening(l,"change:isSticky",f)},20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const e=this.view.stickyPanel,r=this.editor.plugins.get("Dialog");r.on("show",()=>{const s=r.view;s.on("moveTo",(l,f)=>{if(!e.isSticky||s.wasMoved||s.isModal)return;const b=new Mn(e.contentPanelElement);f[1]<b.bottom+I.defaultOffset&&(f[1]=b.bottom+I.defaultOffset)},{priority:"high"})},{priority:"low"})}}var AC=a(7388),yw={attributes:{"data-cke":!0}};yw.setAttributes=Ut(),yw.insert=zt().bind(null,"head"),yw.domAPI=Vt(),yw.insertStyleElement=jt(),It()(AC.A,yw),AC.A&&AC.A.locals&&AC.A.locals;class O9 extends w9{constructor(e,r,s={}){super(e),this.stickyPanel=new C9(e),this.toolbar=new NS(e,{shouldGroupWhenFull:s.shouldToolbarGroupWhenFull}),s.useMenuBar&&(this.menuBarView=new N9(e)),this.editable=new y9(e,r,void 0,{label:s.label})}render(){super.render(),this.menuBarView?this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]):this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class B9 extends Tg(P1){static get editorName(){return"ClassicEditor"}constructor(e,r={}){if(!_C(e)&&r.initialData!==void 0)throw new U("editor-create-initial-data",null);super(r),this.config.define("menuBar.isVisible",!1),this.config.get("initialData")===void 0&&this.config.set("initialData",function(b){return _C(b)?(A=b,A instanceof HTMLTextAreaElement?A.value:A.innerHTML):b;var A}(e)),_C(e)&&(this.sourceElement=e),this.model.document.createRoot();const s=!this.config.get("toolbar.shouldNotGroupWhenFull"),l=this.config.get("menuBar"),f=new O9(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:s,useMenuBar:l.isVisible,label:this.config.get("label")});this.ui=new j9(this,f),function(b){if(!Ki(b.updateSourceElement))throw new U("attachtoform-missing-elementapi-interface",b);const A=b.sourceElement;if(function(S){return!!S&&S.tagName.toLowerCase()==="textarea"}(A)&&A.form){let S;const T=A.form,O=()=>b.updateSourceElement();Ki(T.submit)&&(S=T.submit,T.submit=()=>{O(),S.apply(T)}),T.addEventListener("submit",O),b.on("destroy",()=>{T.removeEventListener("submit",O),S&&(T.submit=S)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,r={}){return new Promise(s=>{const l=new this(e,r);s(l.initPlugins().then(()=>l.ui.init(_C(e)?e:null)).then(()=>l.data.init(l.config.get("initialData"))).then(()=>l.fire("ready")).then(()=>l))})}}function _C(u){return Hs(u)}class Aw extends yl{constructor(e){super(e),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const r=this.document;function s(l){return(f,b)=>{b.preventDefault();const A=b.dropRange?[b.dropRange]:null,S=new Q(r,l);r.fire(S,{dataTransfer:b.dataTransfer,method:f.name,targetRanges:A,target:b.target,domEvent:b.domEvent}),S.stop.called&&b.stopPropagation()}}this.listenTo(r,"paste",s("clipboardInput"),{priority:"low"}),this.listenTo(r,"drop",s("clipboardInput"),{priority:"low"}),this.listenTo(r,"dragover",s("dragging"),{priority:"low"})}onDomEvent(e){const r="clipboardData"in e?e.clipboardData:e.dataTransfer,s=e.type=="drop"||e.type=="paste",l={dataTransfer:new $p(r,{cacheFiles:s})};if(e.type=="drop"||e.type=="dragover"){const f=ni(e);l.dropRange=f&&this.view.domConverter.domRangeToView(f)}this.fire(e.type,e,l)}}const CT=["figcaption","li"],xT=["ol","ul"];function ST(u,e){if(e.is("$text")||e.is("$textProxy"))return e.data;if(e.is("element","img")&&e.hasAttribute("alt"))return e.getAttribute("alt");if(e.is("element","br"))return`
`;let r="",s=null;for(const l of e.getChildren())r+=L9(l,s)+ST(u,l),s=l;if(e.is("rawElement")){const l=document.createElement("div");e.render(l,u),r+=ET(l)}return r}function ET(u){let e="";if(u.nodeType===Node.TEXT_NODE)return u.textContent;if(u.tagName==="BR")return`
`;for(const r of u.childNodes)e+=ET(r);return e}function L9(u,e){return e?u.is("element","li")&&!u.isEmpty&&u.getChild(0).is("containerElement")||xT.includes(u.name)&&xT.includes(e.name)?`

`:u.is("containerElement")||e.is("containerElement")?CT.includes(u.name)||CT.includes(e.name)?`
`:u.is("element")&&u.getCustomProperty("dataPipeline:transparentRendering")||e.is("element")&&e.getCustomProperty("dataPipeline:transparentRendering")?"":`

`:"":""}const P9=function(u,e){return u&&Xm(u,e,Ul)},R9=function(u,e,r,s){var l=r.length,f=l;if(u==null)return!f;for(u=Object(u);l--;){var b=r[l];if(b[2]?b[1]!==u[b[0]]:!(b[0]in u))return!1}for(;++l<f;){var A=(b=r[l])[0],S=u[A],T=b[1];if(b[2]){if(S===void 0&&!(A in u))return!1}else{var O=new na,P;if(!(P===void 0?bg(T,S,3,s,O):P))return!1}}return!0},DT=function(u){return u==u&&!Ge(u)},z9=function(u){for(var e=Ul(u),r=e.length;r--;){var s=e[r],l=u[s];e[r]=[s,l,DT(l)]}return e},IT=function(u,e){return function(r){return r!=null&&r[u]===e&&(e!==void 0||u in Object(r))}},F9=function(u){var e=z9(u);return e.length==1&&e[0][2]?IT(e[0][0],e[0][1]):function(r){return r===u||R9(r,u,e)}},U9=function(u,e){return u!=null&&e in Object(u)},q9=function(u,e,r){for(var s=-1,l=(e=Th(e,u)).length,f=!1;++s<l;){var b=Bu(e[s]);if(!(f=u!=null&&r(u,b)))break;u=u[b]}return f||++s!=l?f:!!(l=u==null?0:u.length)&&Fs(l)&&yo(b,l)&&(vr(u)||zs(u))},V9=function(u,e){return u!=null&&q9(u,e,U9)},H9=function(u,e){return Td(u)&&DT(e)?IT(Bu(u),e):function(r){var s=Hc(r,u);return s===void 0&&s===e?V9(r,u):bg(e,s,3)}},$9=function(u){return function(e){return e==null?void 0:e[u]}},W9=function(u){return function(e){return Md(e,u)}},G9=function(u){return Td(u)?$9(Bu(u)):W9(u)},Y9=function(u){return typeof u=="function"?u:u==null?ls:typeof u=="object"?vr(u)?H9(u[0],u[1]):F9(u):G9(u)},K9=function(u,e){var r={};return e=Y9(e),P9(u,function(s,l,f){ml(r,l,e(s,l,f))}),r};class _w extends $t{constructor(){super(...arguments),this._markersToCopy=new Map}static get pluginName(){return"ClipboardMarkersUtils"}static get isOfficialPlugin(){return!0}_registerMarkerToCopy(e,r){this._markersToCopy.set(e,r)}_copySelectedFragmentWithMarkers(e,r,s=l=>l.model.getSelectedContent(l.model.document.selection)){return this.editor.model.change(l=>{const f=l.model.document.selection;l.setSelection(r);const b=this._insertFakeMarkersIntoSelection(l,l.model.document.selection,e),A=s(l),S=this._removeFakeMarkersInsideElement(l,A);for(const[T,O]of Object.entries(b)){S[T]||(S[T]=l.createRangeIn(A));for(const P of O)l.remove(P)}A.markers.clear();for(const[T,O]of Object.entries(S))A.markers.set(T,O);return l.setSelection(f),A})}_pasteMarkersIntoTransformedElement(e,r){const s=this._getPasteMarkersFromRangeMap(e);return this.editor.model.change(l=>{const f=this._insertFakeMarkersElements(l,s),b=r(l),A=this._removeFakeMarkersInsideElement(l,b);for(const S of Object.values(f).flat())l.remove(S);for(const[S,T]of Object.entries(A))l.model.markers.has(S)||l.addMarker(S,{usingOperation:!0,affectsData:!0,range:T});return b})}_pasteFragmentWithMarkers(e){const r=this._getPasteMarkersFromRangeMap(e.markers);e.markers.clear();for(const s of r)e.markers.set(s.name,s.range);return this.editor.model.insertContent(e)}_forceMarkersCopy(e,r,s={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const l=this._markersToCopy.get(e);this._markersToCopy.set(e,s),r(),l?this._markersToCopy.set(e,l):this._markersToCopy.delete(e)}_isMarkerCopyable(e,r){const s=this._getMarkerClipboardConfig(e);if(!s)return!1;if(!r)return!0;const{allowedActions:l}=s;return l==="all"||l.includes(r)}_hasMarkerConfiguration(e){return!!this._getMarkerClipboardConfig(e)}_getMarkerClipboardConfig(e){const[r]=e.split(":");return this._markersToCopy.get(r)||null}_insertFakeMarkersIntoSelection(e,r,s){const l=this._getCopyableMarkersFromSelection(e,r,s);return this._insertFakeMarkersElements(e,l)}_getCopyableMarkersFromSelection(e,r,s){const l=Array.from(r.getRanges()),f=new Set(l.flatMap(b=>Array.from(e.model.markers.getMarkersIntersectingRange(b))));return Array.from(f).filter(b=>{if(!this._isMarkerCopyable(b.name,s))return!1;const{copyPartiallySelected:A}=this._getMarkerClipboardConfig(b.name);if(!A){const S=b.getRange();return l.some(T=>T.containsRange(S,!0))}return!0}).map(b=>({name:s==="dragstart"?this._getUniqueMarkerName(b.name):b.name,range:b.getRange()}))}_getPasteMarkersFromRangeMap(e,r=null){const{model:s}=this.editor;return(e instanceof Map?Array.from(e.entries()):Object.entries(e)).flatMap(([l,f])=>{if(!this._hasMarkerConfiguration(l))return[{name:l,range:f}];if(this._isMarkerCopyable(l,r)){const b=this._getMarkerClipboardConfig(l),A=s.markers.has(l)&&s.markers.get(l).getRange().root.rootName==="$graveyard";return(b.duplicateOnPaste||A)&&(l=this._getUniqueMarkerName(l)),[{name:l,range:f}]}return[]})}_insertFakeMarkersElements(e,r){const s={},l=r.flatMap(f=>{const{start:b,end:A}=f.range;return[{position:b,marker:f,type:"start"},{position:A,marker:f,type:"end"}]}).sort(({position:f},{position:b})=>f.isBefore(b)?1:-1);for(const{position:f,marker:b,type:A}of l){const S=e.createElement("$marker",{"data-name":b.name,"data-type":A});s[b.name]||(s[b.name]=[]),s[b.name].push(S),e.insert(S,f)}return s}_removeFakeMarkersInsideElement(e,r){const s=this._getAllFakeMarkersFromElement(e,r).reduce((l,f)=>{const b=f.markerElement&&e.createPositionBefore(f.markerElement);let A=l[f.name],S=!1;return A&&A.start&&A.end&&(this._getMarkerClipboardConfig(f.name).duplicateOnPaste?l[this._getUniqueMarkerName(f.name)]=l[f.name]:S=!0,A=null),S||(l[f.name]={...A,[f.type]:b}),f.markerElement&&e.remove(f.markerElement),l},{});return K9(s,l=>new ut(l.start||e.createPositionFromPath(r,[0]),l.end||e.createPositionAt(r,"end")))}_getAllFakeMarkersFromElement(e,r){const s=Array.from(e.createRangeIn(r)).flatMap(({item:b})=>{if(!b.is("element","$marker"))return[];const A=b.getAttribute("data-name"),S=b.getAttribute("data-type");return[{markerElement:b,name:A,type:S}]}),l=[],f=[];for(const b of s)b.type==="end"&&(s.some(A=>A.name===b.name&&A.type==="start")||l.push({markerElement:null,name:b.name,type:"start"})),b.type==="start"&&(s.some(A=>A.name===b.name&&A.type==="end")||f.unshift({markerElement:null,name:b.name,type:"end"}));return[...l,...s,...f]}_getUniqueMarkerName(e){const r=e.split(":"),s=ae().substring(1,6);return r.length===3?`${r.slice(0,2).join(":")}:${s}`:`${r.join(":")}:${s}`}}class Qu extends $t{static get pluginName(){return"ClipboardPipeline"}static get isOfficialPlugin(){return!0}static get requires(){return[_w]}init(){this.editor.editing.view.addObserver(Aw),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(e,r,s){const l=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:s==="cut"},()=>{const f=l._copySelectedFragmentWithMarkers(s,r);this.fire("outputTransformation",{dataTransfer:e,content:f,method:s})})}_setupPasteDrop(){const e=this.editor,r=e.model,s=e.editing.view,l=s.document,f=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(l,"clipboardInput",(b,A)=>{A.method!="paste"||e.model.canEditAt(e.model.document.selection)||b.stop()},{priority:"highest"}),this.listenTo(l,"clipboardInput",(b,A)=>{const S=A.dataTransfer;let T;if(A.content)T=A.content;else{let ee="";S.getData("text/html")?ee=function(ne){return ne.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(le,Ce)=>Ce.length==1?" ":Ce).replace(/<!--[\s\S]*?-->/g,"")}(S.getData("text/html")):S.getData("text/plain")&&(((O=(O=S.getData("text/plain")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||O.includes("<br>"))&&(O=`<p>${O}</p>`),ee=O),T=this.editor.data.htmlProcessor.toView(ee)}var O;const P=new Q(this,"inputTransformation"),W=S.getData("application/ckeditor5-editor-id")||null;this.fire(P,{content:T,dataTransfer:S,sourceEditorId:W,targetRanges:A.targetRanges,method:A.method}),P.stop.called&&b.stop(),s.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(b,A)=>{if(A.content.isEmpty)return;const S=this.editor.data.toModel(A.content,"$clipboardHolder");S.childCount!=0&&(b.stop(),r.change(()=>{this.fire("contentInsertion",{content:S,method:A.method,sourceEditorId:A.sourceEditorId,dataTransfer:A.dataTransfer,targetRanges:A.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(b,A)=>{A.resultRange=f._pasteFragmentWithMarkers(A.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,r=e.model.document,s=e.editing.view.document,l=(f,b)=>{const A=b.dataTransfer;b.preventDefault(),this._fireOutputTransformationEvent(A,r.selection,f.name)};this.listenTo(s,"copy",l,{priority:"low"}),this.listenTo(s,"cut",(f,b)=>{e.model.canEditAt(e.model.document.selection)?l(f,b):b.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(f,b)=>{const A=e.data.toView(b.content,{isClipboardPipeline:!0});s.fire("clipboardOutput",{dataTransfer:b.dataTransfer,content:A,method:b.method})},{priority:"low"}),this.listenTo(s,"clipboardOutput",(f,b)=>{b.content.isEmpty||(b.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(b.content)),b.dataTransfer.setData("text/plain",ST(e.data.htmlProcessor.domConverter,b.content)),b.dataTransfer.setData("application/ckeditor5-editor-id",this.editor.id)),b.method=="cut"&&e.model.deleteContent(r.selection)},{priority:"low"})}}class TT{constructor(e,r=20){this._batch=null,this.model=e,this._size=0,this.limit=r,this._isLocked=!1,this._changeCallback=(s,l)=>{l.isLocal&&l.isUndoable&&l!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){this.isLocked&&!e||(this._batch=null,this._size=0)}}class Q9 extends pn{constructor(e,r){super(e),this._buffer=new TT(e.model,r),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const r=this.editor.model,s=r.document,l=e.text||"",f=l.length;let b=s.selection;if(e.selection?b=e.selection:e.range&&(b=r.createSelection(e.range)),!r.canEditAt(b))return;const A=e.resultRange;r.enqueueChange(this._buffer.batch,S=>{this._buffer.lock();const T=Array.from(s.selection.getAttributes());r.deleteContent(b),l&&r.insertContent(S.createText(l,T),b),A?S.setSelection(A):b.is("documentSelection")||S.setSelection(b),this._buffer.unlock(),this._buffer.input(f)})}}const MT=["insertText","insertReplacementText"],Z9=[...MT,"insertCompositionText"];class J9 extends Qa{constructor(e){super(e),this.focusObserver=e.getObserver(qd);const r=v.isAndroid?Z9:MT,s=e.document;s.on("beforeinput",(l,f)=>{if(!this.isEnabled)return;const{data:b,targetRanges:A,inputType:S,domEvent:T}=f;if(!r.includes(S))return;this.focusObserver.flush();const O=new Q(s,"insertText");s.fire(O,new Hf(e,T,{text:b,selection:e.createSelection(A)})),O.stop.called&&l.stop()}),v.isAndroid||s.on("compositionend",(l,{data:f,domEvent:b})=>{this.isEnabled&&f&&s.fire("insertText",new Hf(e,b,{text:f}))},{priority:"lowest"})}observe(){}stopObserving(){}}class NT extends $t{static get pluginName(){return"Input"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,r=e.model,s=e.editing.view,l=e.editing.mapper,f=r.document.selection;this._compositionQueue=new X9(e),s.addObserver(J9);const b=new Q9(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",b),e.commands.add("input",b),this.listenTo(s.document,"insertText",(A,S)=>{s.document.isComposing||S.preventDefault(),v.isAndroid&&s.document.isComposing&&this._compositionQueue.flush("next beforeinput");const{text:T,selection:O}=S;let P;P=O?Array.from(O.getRanges()).map(ne=>l.toModelRange(ne)):Array.from(f.getRanges());let W=T;if(v.isAndroid){const ne=Array.from(P[0].getItems()).reduce((le,Ce)=>le+(Ce.is("$textProxy")?Ce.data:""),"");if(ne&&(ne.length<=W.length?W.startsWith(ne)&&(W=W.substring(ne.length),P[0].start=P[0].start.getShiftedBy(ne.length)):ne.startsWith(W)&&(P[0].start=P[0].start.getShiftedBy(W.length),W="")),W.length==0&&P[0].isCollapsed)return}const ee={text:W,selection:r.createSelection(P)};v.isAndroid&&s.document.isComposing?this._compositionQueue.push(ee):(e.execute("insertText",ee),s.scrollToTheSelection())}),v.isAndroid?this.listenTo(s.document,"keydown",(A,S)=>{!f.isCollapsed&&S.keyCode==229&&s.document.isComposing&&jT(r,b)}):this.listenTo(s.document,"compositionstart",()=>{f.isCollapsed||jT(r,b)}),v.isAndroid?(this.listenTo(s.document,"mutations",(A,{mutations:S})=>{if(s.document.isComposing)for(const{node:T}of S){const O=eU(T,l),P=l.toModelElement(O);if(this._compositionQueue.isComposedElement(P))return void this._compositionQueue.flush("mutations")}}),this.listenTo(s.document,"compositionend",()=>{this._compositionQueue.flush("composition end")}),this.listenTo(s.document,"compositionend",()=>{const A=[];for(const S of this._compositionQueue.flushComposedElements()){const T=l.toViewElement(S);T&&A.push({type:"children",node:T})}A.length&&s.document.fire("mutations",{mutations:A})},{priority:"lowest"})):this.listenTo(s.document,"compositionend",()=>{s.document.fire("mutations",{mutations:[]})},{priority:"lowest"})}destroy(){super.destroy(),this._compositionQueue.destroy()}}class X9{constructor(e){this.flushDebounced=$f(()=>this.flush("timeout"),50),this._queue=[],this._compositionElements=new Set,this.editor=e}destroy(){for(this.flushDebounced.cancel(),this._compositionElements.clear();this._queue.length;)this.shift()}get length(){return this._queue.length}push(e){const r={text:e.text};if(e.selection){r.selectionRanges=[];for(const s of e.selection.getRanges())r.selectionRanges.push(la.fromRange(s)),this._compositionElements.add(s.start.parent)}this._queue.push(r),this.flushDebounced()}shift(){const e=this._queue.shift(),r={text:e.text};if(e.selectionRanges){const s=e.selectionRanges.map(l=>function(f){const b=f.toRange();return f.detach(),b.root.rootName=="$graveyard"?null:b}(l)).filter(l=>!!l);s.length&&(r.selection=this.editor.model.createSelection(s))}return r}flush(e){const r=this.editor,s=r.model,l=r.editing.view;if(this.flushDebounced.cancel(),!this._queue.length)return;const f=r.commands.get("insertText").buffer;s.enqueueChange(f.batch,()=>{for(f.lock();this._queue.length;){const b=this.shift();r.execute("insertText",b)}f.unlock()}),l.scrollToTheSelection()}isComposedElement(e){return this._compositionElements.has(e)}flushComposedElements(){const e=Array.from(this._compositionElements);return this._compositionElements.clear(),e}}function jT(u,e){if(!e.isEnabled)return;const r=e.buffer;r.lock(),u.enqueueChange(r.batch,()=>{u.deleteContent(u.document.selection)}),r.unlock()}function eU(u,e){let r=u.is("$text")?u.parent:u;for(;!e.toModelElement(r);)r=r.parent;return r}class OT extends pn{constructor(e,r){super(e),this.direction=r,this._buffer=new TT(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const r=this.editor.model,s=r.document;r.enqueueChange(this._buffer.batch,l=>{this._buffer.lock();const f=l.createSelection(e.selection||s.selection);if(!r.canEditAt(f))return;const b=e.sequence||1,A=f.isCollapsed;if(f.isCollapsed&&r.modifySelection(f,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(b))return void this._replaceEntireContentWithParagraph(l);if(this._shouldReplaceFirstBlockWithParagraph(f,b))return void this.editor.execute("paragraph",{selection:f});if(f.isCollapsed)return;let S=0;f.getFirstRange().getMinimalFlatRanges().forEach(T=>{S+=ot(T.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),r.deleteContent(f,{doNotResetEntireContent:A,direction:this.direction}),this._buffer.input(S),l.setSelection(f),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const r=this.editor.model,s=r.document.selection,l=r.schema.getLimitElement(s);if(!(s.isCollapsed&&s.containsEntireContent(l))||!r.schema.checkChild(l,"paragraph"))return!1;const f=l.getChild(0);return!f||!f.is("element","paragraph")}_replaceEntireContentWithParagraph(e){const r=this.editor.model,s=r.document.selection,l=r.schema.getLimitElement(s),f=e.createElement("paragraph");e.remove(e.createRangeIn(l)),e.insert(f,l),e.setSelection(f,0)}_shouldReplaceFirstBlockWithParagraph(e,r){const s=this.editor.model;if(r>1||this.direction!="backward"||!e.isCollapsed)return!1;const l=e.getFirstPosition(),f=s.schema.getLimitElement(l),b=f.getChild(0);return l.parent==b&&!!e.containsEntireContent(b)&&!!s.schema.checkChild(f,"paragraph")&&b.name!="paragraph"}}const BT="word",gm="selection",y0="backward",Cw="forward",LT={deleteContent:{unit:gm,direction:y0},deleteContentBackward:{unit:"codePoint",direction:y0},deleteWordBackward:{unit:BT,direction:y0},deleteHardLineBackward:{unit:gm,direction:y0},deleteSoftLineBackward:{unit:gm,direction:y0},deleteContentForward:{unit:"character",direction:Cw},deleteWordForward:{unit:BT,direction:Cw},deleteHardLineForward:{unit:gm,direction:Cw},deleteSoftLineForward:{unit:gm,direction:Cw}};class tU extends Qa{constructor(e){super(e);const r=e.document;let s=0;r.on("keydown",()=>{s++}),r.on("keyup",()=>{s=0}),r.on("beforeinput",(l,f)=>{if(!this.isEnabled)return;const{targetRanges:b,domEvent:A,inputType:S}=f,T=LT[S];if(!T)return;const O={direction:T.direction,unit:T.unit,sequence:s};O.unit==gm&&(O.selectionToRemove=e.createSelection(b[0])),S==="deleteContentBackward"&&(v.isAndroid&&(O.sequence=1),function(W){if(W.length!=1||W[0].isCollapsed)return!1;const ee=W[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let ne=0;for(const{nextPosition:le,item:Ce}of ee){if(le.parent.is("$text")){const je=le.parent.data,qe=le.offset;if(Se(je,qe)||Te(je,qe)||We(je,qe))continue;ne++}else(Ce.is("containerElement")||Ce.is("emptyElement"))&&ne++;if(ne>1)return!0}return!1}(b)&&(O.unit=gm,O.selectionToRemove=e.createSelection(b)));const P=new Ca(r,"delete",b[0]);r.fire(P,new Hf(e,A,O)),P.stop.called&&l.stop()}),v.isBlink&&function(l){const f=l.view,b=f.document;let A=null,S=!1;function T(P){return P==ln.backspace||P==ln.delete}function O(P){return P==ln.backspace?y0:Cw}b.on("keydown",(P,{keyCode:W})=>{A=W,S=!1}),b.on("keyup",(P,{keyCode:W,domEvent:ee})=>{const ne=b.selection,le=l.isEnabled&&W==A&&T(W)&&!ne.isCollapsed&&!S;if(A=null,le){const Ce=ne.getFirstRange(),je=new Ca(b,"delete",Ce),qe={unit:gm,direction:O(W),selectionToRemove:ne};b.fire(je,new Hf(f,ee,qe))}}),b.on("beforeinput",(P,{inputType:W})=>{const ee=LT[W];T(A)&&ee&&ee.direction==O(A)&&(S=!0)},{priority:"high"}),b.on("beforeinput",(P,{inputType:W,data:ee})=>{A==ln.delete&&W=="insertText"&&ee==""&&P.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class Xf extends $t{static get pluginName(){return"Delete"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,r=e.editing.view,s=r.document,l=e.model.document;r.addObserver(tU),this._undoOnBackspace=!1;const f=new OT(e,"forward");e.commands.add("deleteForward",f),e.commands.add("forwardDelete",f),e.commands.add("delete",new OT(e,"backward")),this.listenTo(s,"delete",(b,A)=>{s.isComposing||A.preventDefault();const{direction:S,sequence:T,selectionToRemove:O,unit:P}=A,W=S==="forward"?"deleteForward":"delete",ee={sequence:T};if(P=="selection"){const ne=Array.from(O.getRanges()).map(le=>e.editing.mapper.toModelRange(le));ee.selection=e.model.createSelection(ne)}else ee.unit=P;e.execute(W,ee),r.scrollToTheSelection()},{priority:"low"}),this.listenTo(s,"keydown",(b,A)=>{if(s.isComposing||A.keyCode!=ln.backspace||!l.selection.isCollapsed)return;const S=e.model.schema.getLimitElement(l.selection);e.model.createPositionAt(S,0).isTouching(l.selection.getFirstPosition())&&A.preventDefault()}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(s,"delete",(b,A)=>{this._undoOnBackspace&&A.direction=="backward"&&A.sequence==1&&A.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),A.preventDefault(),b.stop())},{context:"$capture"}),this.listenTo(l,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class nU extends $t{static get requires(){return[NT,Xf]}static get pluginName(){return"Typing"}static get isOfficialPlugin(){return!0}}function PT(u,e){let r=u.start;return{text:Array.from(u.getWalker({ignoreElementEnd:!1})).reduce((s,{item:l})=>l.is("$text")||l.is("$textProxy")?s+l.data:(r=e.createPositionAfter(l),""),""),range:e.createRange(r,u.end)}}class RT extends Ae(){constructor(e,r){super(),this.model=e,this.testCallback=r,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const e=this.model.document;this.listenTo(e.selection,"change:range",(r,{directChange:s})=>{s&&(e.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(e,"change:data",(r,s)=>{!s.isUndo&&s.isLocal&&this._evaluateTextBeforeSelection("data",{batch:s})})}_evaluateTextBeforeSelection(e,r={}){const s=this.model,l=s.document.selection,f=s.createRange(s.createPositionAt(l.focus.parent,0),l.focus),{text:b,range:A}=PT(f,s),S=this.testCallback(b);if(!S&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!S,S){const T=Object.assign(r,{text:b,range:A});typeof S=="object"&&Object.assign(T,S),this.fire(`matched:${e}`,T)}}}class zT extends $t{constructor(e){super(e),this._isNextGravityRestorationSkipped=!1,this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,r=e.model,s=e.editing.view,l=e.locale,f=r.document.selection;this.listenTo(s.document,"arrowKey",(b,A)=>{if(!f.isCollapsed||A.shiftKey||A.altKey||A.ctrlKey)return;const S=A.keyCode==ln.arrowright,T=A.keyCode==ln.arrowleft;if(!S&&!T)return;const O=l.contentLanguageDirection;let P=!1;P=O==="ltr"&&S||O==="rtl"&&T?this._handleForwardMovement(A):this._handleBackwardMovement(A),P===!0&&b.stop()},{context:"$text",priority:"highest"}),this.listenTo(f,"change:range",(b,A)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!A.directChange&&Zu(f.getFirstPosition(),this.attributes)||this._restoreGravity())}),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const r=this.attributes,s=this.editor.model,l=s.document.selection,f=l.getFirstPosition();return!this._isGravityOverridden&&(!f.isAtStart||!ep(l,r))&&!!Zu(f,r)&&(Sw(e),ep(l,r)&&Zu(f,r,!0)?xw(s,r):this._overrideGravity(),!0)}_handleBackwardMovement(e){const r=this.attributes,s=this.editor.model,l=s.document.selection,f=l.getFirstPosition();return this._isGravityOverridden?(Sw(e),this._restoreGravity(),Zu(f,r,!0)?xw(s,r):CC(s,r,f),!0):f.isAtStart?!!ep(l,r)&&(Sw(e),CC(s,r,f),!0):!ep(l,r)&&Zu(f,r,!0)?(Sw(e),CC(s,r,f),!0):!!FT(f,r)&&(f.isAtEnd&&!ep(l,r)&&Zu(f,r)?(Sw(e),CC(s,r,f),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}_enableClickingAfterNode(){const e=this.editor,r=e.model,s=r.document.selection,l=e.editing.view.document;e.editing.view.addObserver(Sg),e.editing.view.addObserver(M1);let f=!1,b=!1;this.listenTo(l,"touchstart",()=>{b=!1,f=!0}),this.listenTo(l,"mousedown",()=>{b=!0}),this.listenTo(l,"selectionChange",()=>{const A=this.attributes;if(!b&&!f||(b=!1,f=!1,!s.isCollapsed)||!ep(s,A))return;const S=s.getFirstPosition();Zu(S,A)&&(S.isAtStart||Zu(S,A,!0)?xw(r,A):this._isGravityOverridden||this._overrideGravity())})}_enableInsertContentSelectionAttributesFixer(){const e=this.editor.model,r=e.document.selection,s=this.attributes;this.listenTo(e,"insertContent",()=>{const l=r.getFirstPosition();ep(r,s)&&Zu(l,s)&&xw(e,s)},{priority:"low"})}_handleDeleteContentAfterNode(){const e=this.editor,r=e.model,s=r.document.selection,l=e.editing.view;let f=!1,b=!1;this.listenTo(l.document,"delete",(A,S)=>{f=S.direction==="backward"},{priority:"high"}),this.listenTo(r,"deleteContent",()=>{if(!f)return;const A=s.getFirstPosition();b=ep(s,this.attributes)&&!FT(A,this.attributes)},{priority:"high"}),this.listenTo(r,"deleteContent",()=>{f&&(f=!1,b||e.model.enqueueChange(()=>{const A=s.getFirstPosition();ep(s,this.attributes)&&Zu(A,this.attributes)&&(A.isAtStart||Zu(A,this.attributes,!0)?xw(r,this.attributes):this._isGravityOverridden||this._overrideGravity())}))},{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function ep(u,e){for(const r of e)if(u.hasAttribute(r))return!0;return!1}function CC(u,e,r){const s=r.nodeBefore;u.change(l=>{if(s){const f=[],b=u.schema.isObject(s)&&u.schema.isInline(s);for(const[A,S]of s.getAttributes())!u.schema.checkAttribute("$text",A)||b&&u.schema.getAttributeProperties(A).copyFromObject===!1||f.push([A,S]);l.setSelectionAttribute(f)}else l.removeSelectionAttribute(e)})}function xw(u,e){u.change(r=>{r.removeSelectionAttribute(e)})}function Sw(u){u.preventDefault()}function FT(u,e){return Zu(u.getShiftedBy(-1),e)}function Zu(u,e,r=!1){const{nodeBefore:s,nodeAfter:l}=u;for(const f of e){const b=s?s.getAttribute(f):void 0,A=l?l.getAttribute(f):void 0;if((!r||b!==void 0&&A!==void 0)&&A!==b)return!0}return!1}const UT={copyright:{from:"(c)",to:""},registeredTrademark:{from:"(r)",to:""},trademark:{from:"(tm)",to:""},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"",null]},lessThanOrEqual:{from:"<=",to:""},greaterThanOrEqual:{from:">=",to:""},notEqual:{from:"!=",to:""},arrowLeft:{from:"<-",to:""},arrowRight:{from:"->",to:""},horizontalEllipsis:{from:"...",to:""},enDash:{from:/(^| )(--)( )$/,to:[null,"",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"",null]},quotesPrimary:{from:A0('"'),to:[null,"",null,""]},quotesSecondary:{from:A0("'"),to:[null,"",null,""]},quotesPrimaryEnGb:{from:A0("'"),to:[null,"",null,""]},quotesSecondaryEnGb:{from:A0('"'),to:[null,"",null,""]},quotesPrimaryPl:{from:A0('"'),to:[null,"",null,""]},quotesSecondaryPl:{from:A0("'"),to:[null,"",null,""]}},qT={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},rU=["symbols","mathematical","typography","quotes"];class iU extends $t{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define("typing",{transformations:{include:rU}})}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const e=this.editor,r=e.model,s=e.plugins.get("Delete"),l=function(b){const A=b.extra||[],S=b.remove||[],T=O=>!S.includes(O);return function(O){const P=new Set;for(const W of O)if(typeof W=="string"&&qT[W])for(const ee of qT[W])P.add(ee);else P.add(W);return Array.from(P)}(b.include.concat(A).filter(T)).filter(T).map(O=>typeof O=="string"&&UT[O]?UT[O]:O).filter(O=>typeof O=="object").map(O=>({from:oU(O.from),to:sU(O.to)}))}(e.config.get("typing.transformations")),f=new RT(e.model,b=>{for(const A of l)if(A.from.test(b))return{normalizedTransformation:A}});f.on("matched:data",(b,A)=>{if(!A.batch.isTyping)return;const{from:S,to:T}=A.normalizedTransformation,O=S.exec(A.text),P=T(O.slice(1)),W=A.range;let ee=O.index;r.enqueueChange(ne=>{for(let le=1;le<O.length;le++){const Ce=O[le],je=P[le-1];if(je==null){ee+=Ce.length;continue}const qe=W.start.getShiftedBy(ee),tt=r.createRange(qe,qe.getShiftedBy(Ce.length)),Dt=aU(qe);r.insertContent(ne.createText(je,Dt),tt),ee+=je.length}r.enqueueChange(()=>{s.requestUndoOnBackspace()})})}),f.bind("isEnabled").to(this)}}function oU(u){return typeof u=="string"?new RegExp(`(${wT(u)})$`):u}function sU(u){return typeof u=="string"?()=>[u]:u instanceof Array?()=>u:u}function aU(u){return(u.textNode?u.textNode:u.nodeAfter).getAttributes()}function A0(u){return new RegExp(`(^|\\s)(${u})([^${u}]*)(${u})$`)}function xC(u,e,r,s){return s.createRange(VT(u,e,r,!0,s),VT(u,e,r,!1,s))}function VT(u,e,r,s,l){let f=u.textNode||(s?u.nodeBefore:u.nodeAfter),b=null;for(;f&&f.getAttribute(e)==r;)b=f,f=s?f.previousSibling:f.nextSibling;return b?l.createPositionAt(b,s?"before":"after"):u}function*HT(u,e){for(const r of e)r&&u.getAttributeProperties(r[0]).copyOnEnter&&(yield r)}class lU extends pn{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const r=this.editor.model,s=r.document.selection,l=r.schema,f=s.isCollapsed,b=s.getFirstRange(),A=b.start.parent,S=b.end.parent;if(l.isLimit(A)||l.isLimit(S))return f||A!=S||r.deleteContent(s),!1;if(f){const T=HT(e.model.schema,s.getAttributes());return $T(e,b.start),e.setSelectionAttribute(T),!0}{const T=!(b.start.isAtStart&&b.end.isAtEnd),O=A==S;if(r.deleteContent(s,{leaveUnmerged:T}),T){if(O)return $T(e,s.focus),!0;e.setSelection(S,0)}}return!1}}function $T(u,e){u.split(e),u.setSelection(e.parent.nextSibling,0)}const cU={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class WT extends Qa{constructor(e){super(e);const r=this.document;let s=!1;r.on("keydown",(l,f)=>{s=f.shiftKey}),r.on("beforeinput",(l,f)=>{if(!this.isEnabled)return;let b=f.inputType;v.isSafari&&s&&b=="insertParagraph"&&(b="insertLineBreak");const A=f.domEvent,S=cU[b];if(!S)return;const T=new Ca(r,"enter",f.targetRanges[0]);r.fire(T,new Hf(e,A,{isSoft:S.isSoft})),T.stop.called&&l.stop()})}observe(){}stopObserving(){}}class SC extends $t{static get pluginName(){return"Enter"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,r=e.editing.view,s=r.document,l=this.editor.t;r.addObserver(WT),e.commands.add("enter",new lU(e)),this.listenTo(s,"enter",(f,b)=>{s.isComposing||b.preventDefault(),b.isSoft||(e.execute("enter"),r.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:l("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class uU extends pn{execute(){const e=this.editor.model,r=e.document;e.change(s=>{(function(l,f,b){const A=b.isCollapsed,S=b.getFirstRange(),T=S.start.parent,O=S.end.parent,P=T==O;if(A){const W=HT(l.schema,b.getAttributes());GT(l,f,S.end),f.removeSelectionAttribute(b.getAttributeKeys()),f.setSelectionAttribute(W)}else{const W=!(S.start.isAtStart&&S.end.isAtEnd);l.deleteContent(b,{leaveUnmerged:W}),P?GT(l,f,b.focus):W&&f.setSelection(O,0)}})(e,s,r.selection),this.fire("afterExecute",{writer:s})})}refresh(){const e=this.editor.model,r=e.document;this.isEnabled=function(s,l){if(l.rangeCount>1)return!1;const f=l.anchor;if(!f||!s.checkChild(f,"softBreak"))return!1;const b=l.getFirstRange(),A=b.start.parent,S=b.end.parent;return!((FS(A,s)||FS(S,s))&&A!==S)}(e.schema,r.selection)}}function GT(u,e,r){const s=e.createElement("softBreak");u.insertContent(s,r),e.setSelection(s,"after")}function FS(u,e){return!u.is("rootElement")&&(e.isLimit(u)||FS(u.parent,e))}class dU extends $t{static get pluginName(){return"ShiftEnter"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,r=e.model.schema,s=e.conversion,l=e.editing.view,f=l.document,b=this.editor.t;r.register("softBreak",{allowWhere:"$text",isInline:!0}),s.for("upcast").elementToElement({model:"softBreak",view:"br"}),s.for("downcast").elementToElement({model:"softBreak",view:(A,{writer:S})=>S.createEmptyElement("br")}),l.addObserver(WT),e.commands.add("shiftEnter",new uU(e)),this.listenTo(f,"enter",(A,S)=>{f.isComposing||S.preventDefault(),S.isSoft&&(e.execute("shiftEnter"),l.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:b("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}class hU extends ke(){constructor(){super(...arguments),this._stack=[]}add(e,r){const s=this._stack,l=s[0];this._insertDescriptor(e);const f=s[0];l===f||US(l,f)||this.fire("change:top",{oldDescriptor:l,newDescriptor:f,writer:r})}remove(e,r){const s=this._stack,l=s[0];this._removeDescriptor(e);const f=s[0];l===f||US(l,f)||this.fire("change:top",{oldDescriptor:l,newDescriptor:f,writer:r})}_insertDescriptor(e){const r=this._stack,s=r.findIndex(f=>f.id===e.id);if(US(e,r[s]))return;s>-1&&r.splice(s,1);let l=0;for(;r[l]&&fU(r[l],e);)l++;r.splice(l,0,e)}_removeDescriptor(e){const r=this._stack,s=r.findIndex(l=>l.id===e);s>-1&&r.splice(s,1)}}function US(u,e){return u&&e&&u.priority==e.priority&&EC(u.classes)==EC(e.classes)}function fU(u,e){return u.priority>e.priority||!(u.priority<e.priority)&&EC(u.classes)>EC(e.classes)}function EC(u){return Array.isArray(u)?u.sort().join(","):u}const pU='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',YT="ck-widget_selected";function Yo(u){return!!u.is("element")&&!!u.getCustomProperty("widget")}function qS(u,e,r={}){if(!u.is("containerElement"))throw new U("widget-to-widget-wrong-element-type",null,{element:u});return e.setAttribute("contenteditable","false",u),e.addClass("ck-widget",u),e.setCustomProperty("widget",!0,u),u.getFillerOffset=bU,e.setCustomProperty("widgetLabel",[],u),r.label&&function(s,l){s.getCustomProperty("widgetLabel").push(l)}(u,r.label),r.hasSelectionHandle&&function(s,l){const f=l.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(b){const A=this.toDomElement(b),S=new Ja;return S.set("content",pU),S.render(),A.appendChild(S.element),A});l.insert(l.createPositionAt(s,0),f),l.addClass(["ck-widget_with-selection-handle"],s)}(u,e),KT(u,e),u}function mU(u,e,r){if(e.classes&&r.addClass(ar(e.classes),u),e.attributes)for(const s in e.attributes)r.setAttribute(s,e.attributes[s],u)}function gU(u,e,r){if(e.classes&&r.removeClass(ar(e.classes),u),e.attributes)for(const s in e.attributes)r.removeAttribute(s,u)}function KT(u,e,r=mU,s=gU){const l=new hU;l.on("change:top",(f,b)=>{b.oldDescriptor&&s(u,b.oldDescriptor,b.writer),b.newDescriptor&&r(u,b.newDescriptor,b.writer)}),e.setCustomProperty("addHighlight",(f,b,A)=>l.add(b,A),u),e.setCustomProperty("removeHighlight",(f,b,A)=>l.remove(b,A),u)}function QT(u,e,r={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],u),e.setAttribute("role","textbox",u),e.setAttribute("tabindex","-1",u),r.label&&e.setAttribute("aria-label",r.label,u),e.setAttribute("contenteditable",u.isReadOnly?"false":"true",u),u.on("change:isReadOnly",(s,l,f)=>{e.setAttribute("contenteditable",f?"false":"true",u)}),u.on("change:isFocused",(s,l,f)=>{f?e.addClass("ck-editor__nested-editable_focused",u):e.removeClass("ck-editor__nested-editable_focused",u)}),KT(u,e),u}function ZT(u,e){const r=u.getSelectedElement();if(r){const s=bm(u);if(s)return e.createRange(e.createPositionAt(r,s))}return e.schema.findOptimalInsertionRange(u)}function bU(){return null}const tp="widget-type-around";function Lg(u,e,r){return!!u&&Yo(u)&&!r.isInline(e)}function bm(u){return u.getAttribute(tp)}var DC=a(8508),Ew={attributes:{"data-cke":!0}};Ew.setAttributes=Ut(),Ew.insert=zt().bind(null,"head"),Ew.domAPI=Vt(),Ew.insertStyleElement=jt(),It()(DC.A,Ew),DC.A&&DC.A.locals&&DC.A.locals;const JT=["before","after"],kU=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,XT="ck-widget__type-around_disabled";class wU extends $t{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get isOfficialPlugin(){return!0}static get requires(){return[SC,Xf]}init(){const e=this.editor,r=e.editing.view;this.on("change:isEnabled",(s,l,f)=>{r.change(b=>{for(const A of r.document.roots)f?b.removeClass(XT,A):b.addClass(XT,A)}),f||e.model.change(b=>{b.removeSelectionAttribute(tp)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,r){const s=this.editor,l=s.editing.view,f=s.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);s.execute("insertParagraph",{position:s.model.createPositionAt(e,r),attributes:f}),l.focus(),l.scrollToTheSelection()}_listenToIfEnabled(e,r,s,l){this.listenTo(e,r,(...f)=>{this.isEnabled&&s(...f)},l)}_insertParagraphAccordingToFakeCaretPosition(){const e=this.editor.model.document.selection,r=bm(e);if(!r)return!1;const s=e.getSelectedElement();return this._insertParagraph(s,r),!0}_enableTypeAroundUIInjection(){const e=this.editor,r=e.model.schema,s=e.locale.t,l={before:s("Insert paragraph before block"),after:s("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(f,b,A)=>{const S=A.mapper.toViewElement(b.item);S&&Lg(S,b.item,r)&&(function(T,O,P){const W=T.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(ee){const ne=this.toDomElement(ee);return function(le,Ce){for(const je of JT){const qe=new et({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${je}`],title:Ce[je],"aria-hidden":"true"},children:[le.ownerDocument.importNode(kU,!0)]});le.appendChild(qe.render())}}(ne,O),function(le){const Ce=new et({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});le.appendChild(Ce.render())}(ne),ne});T.insert(T.createPositionAt(P,"end"),W)}(A.writer,l,S),S.getCustomProperty("widgetLabel").push(()=>this.isEnabled?s("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,r=e.model,s=r.document.selection,l=r.schema,f=e.editing.view;function b(A){return`ck-widget_type-around_show-fake-caret_${A}`}this._listenToIfEnabled(f.document,"arrowKey",(A,S)=>{this._handleArrowKeyPress(A,S)},{context:[Yo,"$text"],priority:"high"}),this._listenToIfEnabled(s,"change:range",(A,S)=>{S.directChange&&e.model.change(T=>{T.removeSelectionAttribute(tp)})}),this._listenToIfEnabled(r.document,"change:data",()=>{const A=s.getSelectedElement();A&&Lg(e.editing.mapper.toViewElement(A),A,l)||e.model.change(S=>{S.removeSelectionAttribute(tp)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(A,S,T)=>{const O=T.writer;if(this._currentFakeCaretModelElement){const ne=T.mapper.toViewElement(this._currentFakeCaretModelElement);ne&&(O.removeClass(JT.map(b),ne),this._currentFakeCaretModelElement=null)}const P=S.selection.getSelectedElement();if(!P)return;const W=T.mapper.toViewElement(P);if(!Lg(W,P,l))return;const ee=bm(S.selection);ee&&(O.addClass(b(ee),W),this._currentFakeCaretModelElement=P)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(A,S,T)=>{T||e.model.change(O=>{O.removeSelectionAttribute(tp)})})}_handleArrowKeyPress(e,r){const s=this.editor,l=s.model,f=l.document.selection,b=l.schema,A=s.editing.view,S=function(P,W){const ee=Cp(P,W);return ee==="down"||ee==="right"}(r.keyCode,s.locale.contentLanguageDirection),T=A.document.selection.getSelectedElement();let O;Lg(T,s.editing.mapper.toModelElement(T),b)?O=this._handleArrowKeyPressOnSelectedWidget(S):f.isCollapsed?O=this._handleArrowKeyPressWhenSelectionNextToAWidget(S):r.shiftKey||(O=this._handleArrowKeyPressWhenNonCollapsedSelection(S)),O&&(r.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const r=this.editor.model,s=bm(r.document.selection);return r.change(l=>s?s!==(e?"after":"before")?(l.removeSelectionAttribute(tp),!0):!1:(l.setSelectionAttribute(tp,e?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const r=this.editor,s=r.model,l=s.schema,f=r.plugins.get("Widget"),b=f._getObjectElementNextToSelection(e);return!!Lg(r.editing.mapper.toViewElement(b),b,l)&&(s.change(A=>{f._setSelectionOverElement(b),A.setSelectionAttribute(tp,e?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(e){const r=this.editor,s=r.model,l=s.schema,f=r.editing.mapper,b=s.document.selection,A=e?b.getLastPosition().nodeBefore:b.getFirstPosition().nodeAfter;return!!Lg(f.toViewElement(A),A,l)&&(s.change(S=>{S.setSelection(A,"on"),S.setSelectionAttribute(tp,e?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,r=e.editing.view;this._listenToIfEnabled(r.document,"mousedown",(s,l)=>{const f=l.domTarget.closest(".ck-widget__type-around__button");if(!f)return;const b=function(T){return T.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(f),A=function(T,O){const P=T.closest(".ck-widget");return O.mapDomToView(P)}(f,r.domConverter),S=e.editing.mapper.toModelElement(A);this._insertParagraph(S,b),l.preventDefault(),s.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,r=e.model.document.selection,s=e.editing.view;this._listenToIfEnabled(s.document,"enter",(l,f)=>{if(l.eventPhase!="atTarget")return;const b=r.getSelectedElement(),A=e.editing.mapper.toViewElement(b),S=e.model.schema;let T;this._insertParagraphAccordingToFakeCaretPosition()?T=!0:Lg(A,b,S)&&(this._insertParagraph(b,f.isSoft?"before":"after"),T=!0),T&&(f.preventDefault(),l.stop())},{context:Yo})}_enableInsertingParagraphsOnTypingKeystroke(){const e=this.editor.editing.view.document;this._listenToIfEnabled(e,"insertText",(r,s)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(s.selection=e.selection)},{priority:"high"}),v.isAndroid?this._listenToIfEnabled(e,"keydown",(r,s)=>{s.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(e,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,r=e.editing.view,s=e.model,l=s.schema;this._listenToIfEnabled(r.document,"delete",(f,b)=>{if(f.eventPhase!="atTarget")return;const A=bm(s.document.selection);if(!A)return;const S=b.direction,T=s.document.selection.getSelectedElement(),O=S=="forward";if(A==="before"===O)e.execute("delete",{selection:s.createSelection(T,"on")});else{const P=l.getNearestSelectionRange(s.createPositionAt(T,A),S);if(P)if(P.isCollapsed){const W=s.createSelection(P.start);if(s.modifySelection(W,{direction:S}),W.focus.isEqual(P.start)){const ee=function(ne,le){let Ce=le;for(const je of le.getAncestors({parentFirst:!0})){if(je.childCount>1||ne.isLimit(je))break;Ce=je}return Ce}(l,P.start.parent);s.deleteContent(s.createSelection(ee,"on"),{doNotAutoparagraph:!0})}else s.change(ee=>{ee.setSelection(P),e.execute(O?"deleteForward":"delete")})}else s.change(W=>{W.setSelection(P),e.execute(O?"deleteForward":"delete")})}b.preventDefault(),f.stop()},{context:Yo})}_enableInsertContentIntegration(){const e=this.editor,r=this.editor.model,s=r.document.selection;this._listenToIfEnabled(e.model,"insertContent",(l,[f,b])=>{if(b&&!b.is("documentSelection"))return;const A=bm(s);return A?(l.stop(),r.change(S=>{const T=s.getSelectedElement(),O=r.createPositionAt(T,A),P=S.createSelection(O),W=r.insertContent(f,P);return S.setSelection(P),W})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,r=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(s,l)=>{const[,f,b={}]=l;if(f&&!f.is("documentSelection"))return;const A=bm(r);A&&(b.findOptimalPosition=A,l[3]=b)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,r=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(s,[l])=>{l&&!l.is("documentSelection")||bm(r)&&s.stop()},{priority:"high"})}}function vU(u){const e=u.model;return(r,s)=>{const l=s.keyCode==ln.arrowup,f=s.keyCode==ln.arrowdown,b=s.shiftKey,A=e.document.selection;if(!l&&!f)return;const S=f;if(b&&function(O,P){return!O.isCollapsed&&O.isBackward==P}(A,S))return;const T=function(O,P,W){const ee=O.model;if(W){const ne=P.isCollapsed?P.focus:P.getLastPosition(),le=e4(ee,ne,"forward");if(!le)return null;const Ce=ee.createRange(ne,le),je=t4(ee.schema,Ce,"backward");return je?ee.createRange(ne,je):null}{const ne=P.isCollapsed?P.focus:P.getFirstPosition(),le=e4(ee,ne,"backward");if(!le)return null;const Ce=ee.createRange(le,ne),je=t4(ee.schema,Ce,"forward");return je?ee.createRange(je,ne):null}}(u,A,S);if(T){if(T.isCollapsed&&(A.isCollapsed||b))return;(T.isCollapsed||function(O,P,W){const ee=O.model,ne=O.view.domConverter;if(W){const tt=ee.createSelection(P.start);ee.modifySelection(tt),tt.focus.isAtEnd||P.start.isEqual(tt.focus)||(P=ee.createRange(tt.focus,P.end))}const le=O.mapper.toViewRange(P),Ce=ne.viewRangeToDom(le),je=Mn.getDomRangeRects(Ce);let qe;for(const tt of je)if(qe!==void 0){if(Math.round(tt.top)>=qe)return!1;qe=Math.max(qe,Math.round(tt.bottom))}else qe=Math.round(tt.bottom);return!0}(u,T,S))&&(e.change(O=>{const P=S?T.end:T.start;if(b){const W=e.createSelection(A.anchor);W.setFocus(P),O.setSelection(W)}else O.setSelection(P)}),r.stop(),s.preventDefault(),s.stopPropagation())}}}function e4(u,e,r){const s=u.schema,l=u.createRangeIn(e.root),f=r=="forward"?"elementStart":"elementEnd";for(const{previousPosition:b,item:A,type:S}of l.getWalker({startPosition:e,direction:r})){if(s.isLimit(A)&&!s.isInline(A))return b;if(S==f&&s.isBlock(A))return null}return null}function t4(u,e,r){const s=r=="backward"?e.end:e.start;if(u.checkChild(s,"$text"))return s;for(const{nextPosition:l}of e.getWalker({direction:r}))if(u.checkChild(l,"$text"))return l;return null}var IC=a(695),Dw={attributes:{"data-cke":!0}};Dw.setAttributes=Ut(),Dw.insert=zt().bind(null,"head"),Dw.domAPI=Vt(),Dw.insertStyleElement=jt(),It()(IC.A,Dw),IC.A&&IC.A.locals&&IC.A.locals;class Iw extends $t{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get isOfficialPlugin(){return!0}static get requires(){return[wU,Xf]}init(){const e=this.editor,r=e.editing.view,s=r.document,l=e.t;this.editor.editing.downcastDispatcher.on("selection",(f,b,A)=>{const S=A.writer,T=b.selection;if(T.isCollapsed)return;const O=T.getSelectedElement();if(!O)return;const P=e.editing.mapper.toViewElement(O);var W;Yo(P)&&A.consumable.consume(T,"selection")&&S.setSelection(S.createRangeOn(P),{fake:!0,label:(W=P,W.getCustomProperty("widgetLabel").reduce((ee,ne)=>typeof ne=="function"?ee?ee+". "+ne():ne():ee?ee+". "+ne:ne,""))})}),this.editor.editing.downcastDispatcher.on("selection",(f,b,A)=>{this._clearPreviouslySelectedWidgets(A.writer);const S=A.writer,T=S.document.selection;let O=null;for(const P of T.getRanges())for(const W of P){const ee=W.item;Yo(ee)&&!yU(ee,O)&&(S.addClass(YT,ee),this._previouslySelected.add(ee),O=ee)}},{priority:"low"}),r.addObserver(Sg),this.listenTo(s,"mousedown",(...f)=>this._onMousedown(...f)),this.listenTo(s,"arrowKey",(...f)=>{this._handleSelectionChangeOnArrowKeyPress(...f)},{context:[Yo,"$text"]}),this.listenTo(s,"arrowKey",(...f)=>{this._preventDefaultOnArrowKeyPress(...f)},{context:"$root"}),this.listenTo(s,"arrowKey",vU(this.editor.editing),{context:"$text"}),this.listenTo(s,"delete",(f,b)=>{this._handleDelete(b.direction=="forward")&&(b.preventDefault(),f.stop())},{context:"$root"}),this.listenTo(s,"tab",(f,b)=>{f.eventPhase=="atTarget"&&(b.shiftKey||this._selectFirstNestedEditable()&&(b.preventDefault(),f.stop()))},{context:Yo,priority:"low"}),this.listenTo(s,"tab",(f,b)=>{b.shiftKey&&this._selectAncestorWidget()&&(b.preventDefault(),f.stop())},{priority:"low"}),this.listenTo(s,"keydown",(f,b)=>{b.keystroke==ln.esc&&this._selectAncestorWidget()&&(b.preventDefault(),f.stop())},{priority:"low"}),e.accessibility.addKeystrokeInfoGroup({id:"widget",label:l("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:l("Move focus from an editable area back to the parent widget"),keystroke:"Esc"},{label:l("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:l("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:l("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:l("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(e,r){const s=this.editor,l=s.editing.view,f=l.document;let b=r.target;if(!b)return;if(r.domEvent.detail>=3)return void(this._selectBlockContent(b)&&r.preventDefault());if(!Yo(b)){const S=function(T){let O=T;for(;O;){if(O.is("editableElement")||Yo(O))return O;O=O.parent}return null}(b);if(!S)return;if(Yo(S))b=S;else{const T=function(O,P){const W=ni(P.domEvent);let ee=null;if(ee=W?O.domConverter.domRangeToView(W):O.createRange(O.createPositionAt(P.target,0)),!ee)return null;const ne=ee.start;if(!ne.parent)return null;let le=ne.parent;return ne.parent.is("editableElement")&&(ne.isAtEnd&&ne.nodeBefore?le=ne.nodeBefore:ne.isAtStart&&ne.nodeAfter&&(le=ne.nodeAfter)),le.is("$text")?le.parent:le}(l,r);if(!T||!Yo(T))return;b=T}}v.isAndroid&&r.preventDefault(),f.isFocused||l.focus();const A=s.editing.mapper.toModelElement(b);this._setSelectionOverElement(A)}_selectBlockContent(e){const r=this.editor,s=r.model,l=r.editing.mapper,f=s.schema,b=l.findMappedViewAncestor(this.editor.editing.view.createPositionAt(e,0)),A=function(S,T){for(const O of S.getAncestors({includeSelf:!0,parentFirst:!0})){if(T.checkChild(O,"$text"))return O;if(T.isLimit(O)&&!T.isObject(O))break}return null}(l.toModelElement(b),s.schema);return!!A&&(s.change(S=>{const T=f.isLimit(A)?null:function(W,ee){const ne=new Jn({startPosition:W});for(const{item:le}of ne){if(ee.isLimit(le)||!le.is("element"))return null;if(ee.checkChild(le,"$text"))return le}return null}(S.createPositionAfter(A),f),O=S.createPositionAt(A,0),P=T?S.createPositionAt(T,0):S.createPositionAt(A,"end");S.setSelection(S.createRange(O,P))}),!0)}_handleSelectionChangeOnArrowKeyPress(e,r){const s=r.keyCode,l=this.editor.model,f=l.schema,b=l.document.selection,A=b.getSelectedElement(),S=Cp(s,this.editor.locale.contentLanguageDirection),T=S=="down"||S=="right",O=S=="up"||S=="down";if(A&&f.isObject(A)){const W=T?b.getLastPosition():b.getFirstPosition(),ee=f.getNearestSelectionRange(W,T?"forward":"backward");return void(ee&&(l.change(ne=>{ne.setSelection(ee)}),r.preventDefault(),e.stop()))}if(!b.isCollapsed&&!r.shiftKey){const W=b.getFirstPosition(),ee=b.getLastPosition(),ne=W.nodeAfter,le=ee.nodeBefore;return void((ne&&f.isObject(ne)||le&&f.isObject(le))&&(l.change(Ce=>{Ce.setSelection(T?ee:W)}),r.preventDefault(),e.stop()))}if(!b.isCollapsed)return;const P=this._getObjectElementNextToSelection(T);if(P&&f.isObject(P)){if(f.isInline(P)&&O)return;this._setSelectionOverElement(P),r.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,r){const s=this.editor.model,l=s.schema,f=s.document.selection.getSelectedElement();f&&l.isObject(f)&&(r.preventDefault(),e.stop())}_handleDelete(e){const r=this.editor.model.document.selection;if(!this.editor.model.canEditAt(r)||!r.isCollapsed)return;const s=this._getObjectElementNextToSelection(e);return s?(this.editor.model.change(l=>{let f=r.anchor.parent;for(;f.isEmpty;){const b=f;f=b.parent,l.remove(b)}this._setSelectionOverElement(s)}),!0):void 0}_setSelectionOverElement(e){this.editor.model.change(r=>{r.setSelection(r.createRangeOn(e))})}_getObjectElementNextToSelection(e){const r=this.editor.model,s=r.schema,l=r.document.selection,f=r.createSelection(l);if(r.modifySelection(f,{direction:e?"forward":"backward"}),f.isEqual(l))return null;const b=e?f.focus.nodeBefore:f.focus.nodeAfter;return b&&s.isObject(b)?b:null}_clearPreviouslySelectedWidgets(e){for(const r of this._previouslySelected)e.removeClass(YT,r);this._previouslySelected.clear()}_selectFirstNestedEditable(){const e=this.editor,r=this.editor.editing.view.document;for(const s of r.selection.getFirstRange().getItems())if(s.is("editableElement")){const l=e.editing.mapper.toModelElement(s);if(!l)continue;const f=e.model.createPositionAt(l,0),b=e.model.schema.getNearestSelectionRange(f,"forward");return e.model.change(A=>{A.setSelection(b)}),!0}return!1}_selectAncestorWidget(){const e=this.editor,r=e.editing.mapper,s=e.editing.view.document.selection.getFirstPosition().parent,l=(s.is("$text")?s.parent:s).findAncestor(Yo);if(!l)return!1;const f=r.toModelElement(l);return!!f&&(e.model.change(b=>{b.setSelection(f,"on")}),!0)}}function yU(u,e){return!!e&&Array.from(u.getAncestors()).includes(e)}class TC extends $t{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[uC]}static get pluginName(){return"WidgetToolbarRepository"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const r=e.plugins.get("BalloonToolbar");this.listenTo(r,"show",s=>{(function(l){const f=l.getSelectedElement();return!(!f||!Yo(f))})(e.editing.view.document.selection)&&s.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:r,items:s,getRelatedElement:l,balloonClassName:f="ck-toolbar-container"}){if(!s.length)return void q("widget-toolbar-no-items",{toolbarId:e});const b=this.editor,A=b.t,S=new NS(b.locale);if(S.ariaLabel=r||A("Widget toolbar"),this._toolbarDefinitions.has(e))throw new U("widget-toolbar-duplicated",this,{toolbarId:e});const T={view:S,getRelatedElement:l,balloonClassName:f,itemsConfig:s,initialized:!1};b.ui.addToolbar(S,{isContextual:!0,beforeFocus:()=>{const O=l(b.editing.view.document.selection);O&&this._showToolbar(T,O)},afterBlur:()=>{this._hideToolbar(T)}}),this._toolbarDefinitions.set(e,T)}_updateToolbarsVisibility(){let e=0,r=null,s=null;for(const l of this._toolbarDefinitions.values()){const f=l.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&f)if(this.editor.ui.focusTracker.isFocused){const b=f.getAncestors().length;b>e&&(e=b,r=f,s=l)}else this._isToolbarVisible(l)&&this._hideToolbar(l);else this._isToolbarInBalloon(l)&&this._hideToolbar(l)}s&&this._showToolbar(s,r)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,r){this._isToolbarVisible(e)?n4(this.editor,r):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:r4(this.editor,r),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const s of this._toolbarDefinitions.values())if(this._isToolbarVisible(s)){const l=s.getRelatedElement(this.editor.editing.view.document.selection);n4(this.editor,l)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function n4(u,e){const r=u.plugins.get("ContextualBalloon"),s=r4(u,e);r.updatePosition(s)}function r4(u,e){const r=u.editing.view,s=Jf.defaultPositions;return{target:r.domConverter.mapViewToDom(e),positions:[s.northArrowSouth,s.northArrowSouthWest,s.northArrowSouthEast,s.southArrowNorth,s.southArrowNorthWest,s.southArrowNorthEast,s.viewportStickyNorth]}}var MC=a(4095),Tw={attributes:{"data-cke":!0}};Tw.setAttributes=Ut(),Tw.insert=zt().bind(null,"head"),Tw.domAPI=Vt(),Tw.insertStyleElement=jt(),It()(MC.A,Tw),MC.A&&MC.A.locals&&MC.A.locals;const VS=Ws("px");class AU extends un{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",e.if("isVisible","ck-hidden",r=>!r)],style:{left:e.to("left",r=>VS(r)),top:e.to("top",r=>VS(r)),width:e.to("width",r=>VS(r))}}})}}class NC extends $t{constructor(){super(...arguments),this.removeDropMarkerDelayed=ye(()=>this.removeDropMarker(),40),this._updateDropMarkerThrottled=Eg(e=>this._updateDropMarker(e),40),this._reconvertMarkerThrottled=Eg(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0),this._dropTargetLineView=new AU,this._domEmitter=new(Fo()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}static get isOfficialPlugin(){return!0}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,r,s,l,f,b){this.removeDropMarkerDelayed.cancel();const A=i4(this.editor,e,r,s,l,f,b);if(A)return b&&b.containsRange(A)?this.removeDropMarker():void this._updateDropMarkerThrottled(A)}getFinalDropRange(e,r,s,l,f,b){const A=i4(this.editor,e,r,s,l,f,b);return this.removeDropMarker(),A}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change(r=>{r.removeMarker("drop-target")})}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(r,{writer:s})=>{if(e.model.schema.checkChild(r.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(s);r.markerRange.isCollapsed?this._updateDropTargetLine(r.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const r=this.editor,s=r.model.markers;r.model.change(l=>{s.has("drop-target")?s.get("drop-target").getRange().isEqual(e)||l.updateMarker("drop-target",{range:e}):l.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(r){const s=this.toDomElement(r);return s.append("",r.createElement("span"),""),s})}_updateDropTargetLine(e){const r=this.editor.editing,s=e.start.nodeBefore,l=e.start.nodeAfter,f=e.start.parent,b=s?r.mapper.toViewElement(s):null,A=b?r.view.domConverter.mapViewToDom(b):null,S=l?r.mapper.toViewElement(l):null,T=S?r.view.domConverter.mapViewToDom(S):null,O=r.mapper.toViewElement(f);if(!O)return;const P=r.view.domConverter.mapViewToDom(O),W=this._getScrollableRect(O),{scrollX:ee,scrollY:ne}=p.window,le=A?new Mn(A):null,Ce=T?new Mn(T):null,je=new Mn(P).excludeScrollbarsAndBorders(),qe=le?le.bottom:je.top,tt=Ce?Ce.top:je.bottom,Dt=p.window.getComputedStyle(P),Nt=qe<=tt?(qe+tt)/2:tt;if(W.top<Nt&&Nt<W.bottom){const wn=je.left+parseFloat(Dt.paddingLeft),An=je.right-parseFloat(Dt.paddingRight),Xr=Math.max(wn+ee,W.left),ro=Math.min(An+ee,W.right);this._dropTargetLineView.set({isVisible:!0,left:Xr,top:Nt+ne,width:ro-Xr})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const r=e.root.rootName;let s;if(this._scrollables.has(r))s=this._scrollables.get(r).domElement;else{s=function(f){let b=f;do{b=b.parentElement;const A=p.window.getComputedStyle(b).overflowY;if(A=="auto"||A=="scroll")break}while(b.tagName!="BODY");return b}(this.editor.editing.view.domConverter.mapViewToDom(e)),this._domEmitter.listenTo(s,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const l=new fo(s,this._reconvertMarkerThrottled);this._scrollables.set(r,{domElement:s,resizeObserver:l})}return new Mn(s).excludeScrollbarsAndBorders()}}function i4(u,e,r,s,l,f,b){const A=u.model,S=u.editing.mapper;let T=s4(u,e);for(;T;){if(!f){if(A.schema.checkChild(T,"$text")){if(r){const O=r[0].start,P=S.toModelPosition(O);if(!b||Array.from(b.getItems({shallow:!0})).every(W=>A.schema.checkChild(P,W))){if(A.schema.checkChild(P,"$text"))return A.createRange(P);if(O)return jC(u,s4(u,O.parent),s,l)}}}else if(A.schema.isInline(T))return jC(u,T,s,l)}if(A.schema.isBlock(T))return jC(u,T,s,l);if(A.schema.checkChild(T,"$block")){const O=Array.from(T.getChildren()).filter(ee=>ee.is("element")&&!_U(u,ee));let P=0,W=O.length;if(W==0)return A.createRange(A.createPositionAt(T,"end"));for(;P<W-1;){const ee=Math.floor((P+W)/2);o4(u,O[ee],s,l)=="before"?W=ee:P=ee}return jC(u,O[P],s,l)}T=T.parent}return null}function _U(u,e){const r=u.editing.mapper,s=u.editing.view.domConverter,l=r.toViewElement(e);if(!l)return!0;const f=s.mapViewToDom(l);return p.window.getComputedStyle(f).float!="none"}function jC(u,e,r,s){const l=u.model;return l.createRange(l.createPositionAt(e,o4(u,e,r,s)))}function o4(u,e,r,s){const l=u.editing.mapper,f=u.editing.view.domConverter,b=l.toViewElement(e),A=f.mapViewToDom(b),S=new Mn(A);return u.model.schema.isInline(e)?r<(S.left+S.right)/2?"before":"after":s<(S.top+S.bottom)/2?"before":"after"}function s4(u,e){const r=u.editing.mapper,s=u.editing.view,l=r.toModelElement(e);if(l)return l;const f=s.createPositionBefore(e),b=r.findMappedViewAncestor(f);return r.toModelElement(b)}class CU extends $t{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(Fo())}static get pluginName(){return"DragDropBlockToolbar"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",(r,s,l)=>{l?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),v.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const r=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(r,"dragstart",(s,l)=>this._handleBlockDragStart(l)),this._domEmitter.listenTo(p.document,"dragover",(s,l)=>this._handleBlockDragging(l)),this._domEmitter.listenTo(p.document,"drop",(s,l)=>this._handleBlockDragging(l)),this._domEmitter.listenTo(p.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&r.setAttribute("draggable","true"),this.on("change:isEnabled",(s,l,f)=>{r.setAttribute("draggable",f?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const r=this.editor.model,s=r.document.selection,l=this.editor.editing.view,f=Array.from(s.getSelectedBlocks()),b=r.createRange(r.createPositionBefore(f[0]),r.createPositionAfter(f[f.length-1]));r.change(A=>A.setSelection(b)),this._isBlockDragging=!0,l.focus(),l.getObserver(Aw).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const r=e.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),s=e.clientY,l=document.elementFromPoint(r,s),f=this.editor.editing.view;l&&l.closest(".ck-editor__editable")&&f.getObserver(Aw).onDomEvent({...e,type:e.type,dataTransfer:e.dataTransfer,target:l,clientX:r,clientY:s,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()})}_handleBlockDragEnd(){this._isBlockDragging=!1}}var OC=a(7793),Mw={attributes:{"data-cke":!0}};Mw.setAttributes=Ut(),Mw.insert=zt().bind(null,"head"),Mw.domAPI=Vt(),Mw.insertStyleElement=jt(),It()(OC.A,Mw),OC.A&&OC.A.locals&&OC.A.locals;class xU extends $t{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=ye(()=>this._clearDraggableAttributes(),40),this._blockMode=!1,this._domEmitter=new(Fo())}static get pluginName(){return"DragDrop"}static get isOfficialPlugin(){return!0}static get requires(){return[Qu,Iw,NC,CU]}init(){const e=this.editor,r=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,r.addObserver(Aw),r.addObserver(Sg),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(s,l,f)=>{f?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(s,l,f)=>{f||this._finalizeDragging(!1)}),v.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,r=e.model,s=e.editing.view,l=s.document,f=e.plugins.get(NC);this.listenTo(l,"dragstart",(b,A)=>{if(A.target&&A.target.is("editableElement")||(this._prepareDraggedRange(A.target),!this._draggedRange))return void A.preventDefault();this._draggingUid=ae(),A.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",A.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const S=r.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(A.dataTransfer,S,"dragstart");const{dataTransfer:T,domTarget:O,domEvent:P}=A,{clientX:W}=P;this._updatePreview({dataTransfer:T,domTarget:O,clientX:W}),A.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(l,"dragend",(b,A)=>{this._finalizeDragging(!A.dataTransfer.isCanceled&&A.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(p.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(l,"dragenter",()=>{this.isEnabled&&s.focus()}),this.listenTo(l,"dragleave",()=>{f.removeDropMarkerDelayed()}),this.listenTo(l,"dragging",(b,A)=>{if(!this.isEnabled)return void(A.dataTransfer.dropEffect="none");const{clientX:S,clientY:T}=A.domEvent;f.updateDropMarker(A.target,A.targetRanges,S,T,this._blockMode,this._draggedRange),this._draggedRange||(A.dataTransfer.dropEffect="copy"),v.isGecko||(A.dataTransfer.effectAllowed=="copy"?A.dataTransfer.dropEffect="copy":["all","copyMove"].includes(A.dataTransfer.effectAllowed)&&(A.dataTransfer.dropEffect="move")),b.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,r=e.editing.view.document,s=e.plugins.get(NC);this.listenTo(r,"clipboardInput",(l,f)=>{if(f.method!="drop")return;const{clientX:b,clientY:A}=f.domEvent,S=s.getFinalDropRange(f.target,f.targetRanges,b,A,this._blockMode,this._draggedRange);if(!S)return this._finalizeDragging(!1),void l.stop();if(this._draggedRange&&this._draggingUid!=f.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),a4(f.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(S,!0))return this._finalizeDragging(!1),void l.stop();f.targetRanges=[e.editing.mapper.toViewRange(S)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(Qu);e.on("contentInsertion",(r,s)=>{if(!this.isEnabled||s.method!=="drop")return;const l=s.targetRanges.map(f=>this.editor.editing.mapper.toModelRange(f));this.editor.model.change(f=>f.setSelection(l))},{priority:"high"}),e.on("contentInsertion",(r,s)=>{if(!this.isEnabled||s.method!=="drop")return;const l=a4(s.dataTransfer)=="move",f=!s.resultRange||!s.resultRange.isCollapsed;this._finalizeDragging(f&&l)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,r=e.editing.view,s=r.document;this.listenTo(s,"mousedown",(l,f)=>{if(v.isAndroid||!f)return;this._clearDraggableAttributesDelayed.cancel();let b=l4(f.target);if(v.isBlink&&!e.isReadOnly&&!b&&!s.selection.isCollapsed){const A=s.selection.getSelectedElement();A&&Yo(A)||(b=s.selection.editableElement)}b&&(r.change(A=>{A.setAttribute("draggable","true",b)}),this._draggableElement=e.editing.mapper.toModelElement(b))}),this.listenTo(s,"mouseup",()=>{v.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(r=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&r.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(e){const r=this.editor,s=r.model;r.plugins.get(NC).removeDropMarker(),this._clearDraggableAttributes(),r.plugins.has("WidgetToolbarRepository")&&r.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&s.change(l=>{const f=s.createSelection(this._draggedRange);s.deleteContent(f,{doNotAutoparagraph:!0});const b=f.getFirstPosition().parent;b.isEmpty&&!s.schema.checkChild(b,"$text")&&s.schema.checkChild(b,"paragraph")&&l.insertElement("paragraph",b,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const r=this.editor,s=r.model,l=s.document.selection,f=e?l4(e):null;if(f){const T=r.editing.mapper.toModelElement(f);this._draggedRange=la.fromRange(s.createRangeOn(T)),this._blockMode=s.schema.isBlock(T),r.plugins.has("WidgetToolbarRepository")&&r.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(l.isCollapsed&&!l.getFirstPosition().parent.isEmpty)return;const b=Array.from(l.getSelectedBlocks()),A=l.getFirstRange();if(b.length==0)return void(this._draggedRange=la.fromRange(A));const S=c4(s,b);if(b.length>1)this._draggedRange=la.fromRange(S),this._blockMode=!0;else if(b.length==1){const T=A.start.isTouching(S.start)&&A.end.isTouching(S.end);this._draggedRange=la.fromRange(T?S:A),this._blockMode=T}s.change(T=>T.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:e,domTarget:r,clientX:s}){const l=this.editor.editing.view,f=l.document.selection.editableElement,b=l.domConverter.mapViewToDom(f),A=p.window.getComputedStyle(b);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=fn(p.document,"div",{style:"position: fixed; left: -999999px;"}),p.document.body.appendChild(this._previewContainer));const S=new Mn(b);if(b.contains(r))return;const T=parseFloat(A.paddingLeft),O=fn(p.document,"div");O.className="ck ck-content",O.style.width=A.width,O.style.paddingLeft=`${S.left-s+T}px`,v.isiOS&&(O.style.backgroundColor="white"),l.domConverter.setContentOf(O,e.getData("text/html")),e.setDragImage(O,0,0),this._previewContainer.appendChild(O)}}function a4(u){return v.isGecko?u.dropEffect:["all","copyMove"].includes(u.effectAllowed)?"move":"copy"}function l4(u){if(u.is("editableElement"))return null;if(u.hasClass("ck-widget__selection-handle"))return u.findAncestor(Yo);if(Yo(u))return u;const e=u.findAncestor(r=>Yo(r)||r.is("editableElement"));return Yo(e)?e:null}function c4(u,e){const r=e[0],s=e[e.length-1],l=r.getCommonAncestor(s),f=u.createPositionBefore(r),b=u.createPositionAfter(s);if(l&&l.is("element")&&!u.schema.isLimit(l)){const A=u.createRangeOn(l),S=f.isTouching(A.start),T=b.isTouching(A.end);if(S&&T)return c4(u,[l])}return u.createRange(f,b)}class SU extends $t{static get pluginName(){return"PastePlainText"}static get isOfficialPlugin(){return!0}static get requires(){return[Qu]}init(){const e=this.editor,r=e.model,s=e.editing.view,l=r.document.selection;s.addObserver(Aw),e.plugins.get(Qu).on("contentInsertion",(f,b)=>{(function(A,S){let T=S.createRangeIn(A);if(A.childCount==1){const O=A.getChild(0);O.is("element")&&S.schema.isBlock(O)&&!S.schema.isObject(O)&&!S.schema.isLimit(O)&&(T=S.createRangeIn(O))}for(const O of T.getItems())if(!S.schema.isInline(O)||Array.from(O.getAttributeKeys()).find(P=>S.schema.getAttributeProperties(P).isFormatting))return!1;return!0})(b.content,r)&&r.change(A=>{const S=Array.from(l.getAttributes()).filter(([O])=>r.schema.getAttributeProperties(O).isFormatting);l.isCollapsed||r.deleteContent(l,{doNotAutoparagraph:!0}),S.push(...l.getAttributes());const T=A.createRangeIn(b.content);for(const O of T.getItems())for(const P of S)r.schema.checkAttribute(O,P[0])&&A.setAttribute(P[0],P[1],O)})})}}class u4 extends $t{static get pluginName(){return"Clipboard"}static get isOfficialPlugin(){return!0}static get requires(){return[_w,Qu,xU,SU]}init(){const e=this.editor,r=this.editor.t;e.accessibility.addKeystrokeInfos({keystrokes:[{label:r("Copy selected content"),keystroke:"CTRL+C"},{label:r("Paste content"),keystroke:"CTRL+V"},{label:r("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}class EU extends pn{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,r=e.document.selection;let s=e.schema.getLimitElement(r);if(r.containsEntireContent(s)||!d4(e.schema,s))do if(s=s.parent,!s)return;while(!d4(e.schema,s));e.change(l=>{l.setSelection(s,"in")})}}function d4(u,e){return u.isLimit(e)&&(u.checkChild(e,"$text")||u.checkChild(e,"paragraph"))}const DU=Tf("Ctrl+A");class IU extends $t{static get pluginName(){return"SelectAllEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,r=e.t,s=e.editing.view.document;e.commands.add("selectAll",new EU(e)),this.listenTo(s,"keydown",(l,f)=>{Gs(f)===DU&&(e.execute("selectAll"),f.preventDefault())}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:r("Select all"),keystroke:"CTRL+A"}]})}}class TU extends $t{static get pluginName(){return"SelectAllUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",()=>{const r=this._createButton(lr);return r.set({tooltip:!0}),r}),e.ui.componentFactory.add("menuBar:selectAll",()=>this._createButton(Et))}_createButton(e){const r=this.editor,s=r.locale,l=r.commands.get("selectAll"),f=new e(r.locale),b=s.t;return f.set({label:b("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A"}),f.bind("isEnabled").to(l,"isEnabled"),this.listenTo(f,"execute",()=>{r.execute("selectAll"),r.editing.view.focus()}),f}}class MU extends $t{static get requires(){return[IU,TU]}static get pluginName(){return"SelectAll"}static get isOfficialPlugin(){return!0}}class h4 extends pn{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(r,s)=>{s[1]={...s[1]};const l=s[1];l.batchType||(l.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(r,s)=>{s[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const r=this.editor.model.document.selection,s={ranges:r.hasOwnRange?Array.from(r.getRanges()):[],isBackward:r.isBackward};this._stack.push({batch:e,selection:s}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,r,s){const l=this.editor.model,f=l.document,b=[],A=e.map(T=>T.getTransformedByOperations(s)),S=A.flat();for(const T of A){const O=T.filter(P=>P.root!=f.graveyard).filter(P=>!jU(P,S));O.length&&(NU(O),b.push(O[0]))}b.length&&l.change(T=>{T.setSelection(b,{backward:r})})}_undo(e,r){const s=this.editor.model,l=s.document;this._createdBatches.add(r);const f=e.operations.slice().filter(b=>b.isDocumentOperation);f.reverse();for(const b of f){const A=b.baseVersion+1,S=Array.from(l.history.getOperations(A)),T=Xb([b.getReversed()],S,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let O of T){const P=O.affectedSelectable;P&&!s.canEditAt(P)&&(O=new us(O.baseVersion)),r.addOperation(O),s.applyOperation(O),l.history.setOperationAsUndone(b,O)}}}}function NU(u){u.sort((e,r)=>e.start.isBefore(r.start)?-1:1);for(let e=1;e<u.length;e++){const r=u[e-1].getJoined(u[e],!0);r&&(e--,u.splice(e,2,r))}}function jU(u,e){return e.some(r=>r!==u&&r.containsRange(u,!0))}class OU extends h4{execute(e=null){const r=e?this._stack.findIndex(f=>f.batch==e):this._stack.length-1,s=this._stack.splice(r,1)[0],l=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(l,()=>{this._undo(s.batch,l);const f=this.editor.model.document.history.getOperations(s.batch.baseVersion);this._restoreSelection(s.selection.ranges,s.selection.isBackward,f)}),this.fire("revert",s.batch,l),this.refresh()}}class BU extends h4{execute(){const e=this._stack.pop(),r=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(r,()=>{const s=e.batch.operations[e.batch.operations.length-1].baseVersion+1,l=this.editor.model.document.history.getOperations(s);this._restoreSelection(e.selection.ranges,e.selection.isBackward,l),this._undo(e.batch,r)}),this.refresh()}}class LU extends $t{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,r=e.t;this._undoCommand=new OU(e),this._redoCommand=new BU(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(s,l)=>{const f=l[0];if(!f.isDocumentOperation)return;const b=f.batch,A=this._redoCommand.createdBatches.has(b),S=this._undoCommand.createdBatches.has(b);this._batchRegistry.has(b)||(this._batchRegistry.add(b),b.isUndoable&&(A?this._undoCommand.addBatch(b):S||(this._undoCommand.addBatch(b),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(s,l,f)=>{this._redoCommand.addBatch(f)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:r("Undo"),keystroke:"CTRL+Z"},{label:r("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class PU extends $t{static get pluginName(){return"UndoUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,r=e.locale,s=e.t,l=r.uiLanguageDirection=="ltr"?cn.undo:cn.redo,f=r.uiLanguageDirection=="ltr"?cn.redo:cn.undo;this._addButtonsToFactory("undo",s("Undo"),"CTRL+Z",l),this._addButtonsToFactory("redo",s("Redo"),"CTRL+Y",f)}_addButtonsToFactory(e,r,s,l){const f=this.editor;f.ui.componentFactory.add(e,()=>{const b=this._createButton(lr,e,r,s,l);return b.set({tooltip:!0}),b}),f.ui.componentFactory.add("menuBar:"+e,()=>this._createButton(Et,e,r,s,l))}_createButton(e,r,s,l,f){const b=this.editor,A=b.locale,S=b.commands.get(r),T=new e(A);return T.set({label:s,icon:f,keystroke:l}),T.bind("isEnabled").to(S,"isEnabled"),this.listenTo(T,"execute",()=>{b.execute(r),b.editing.view.focus()}),T}}class f4 extends $t{static get requires(){return[LU,PU]}static get pluginName(){return"Undo"}static get isOfficialPlugin(){return!0}}class RU extends $t{static get requires(){return[Pt,u4,SC,MU,dU,nU,f4]}static get pluginName(){return"Essentials"}static get isOfficialPlugin(){return!0}}class zU extends Ae(){constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=r=>{this.loaded=r.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const r=this._reader;return this.total=e.size,new Promise((s,l)=>{r.onload=()=>{const f=r.result;this._data=f,s(f)},r.onerror=()=>{l("error")},r.onabort=()=>{l("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}class Ju extends $t{constructor(){super(...arguments),this.loaders=new So,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get isOfficialPlugin(){return!0}static get requires(){return[h0]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,r)=>r?e/r*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return q("filerepository-no-upload-adapter"),null;const r=new p4(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(r),this._loadersMap.set(e,r),e instanceof Promise&&r.file.then(s=>{this._loadersMap.set(s,r)}).catch(()=>{}),r.on("change:uploaded",()=>{let s=0;for(const l of this.loaders)s+=l.uploaded;this.uploaded=s}),r.on("change:uploadTotal",()=>{let s=0;for(const l of this.loaders)l.uploadTotal&&(s+=l.uploadTotal);this.uploadTotal=s}),r}destroyLoader(e){const r=e instanceof p4?e:this.getLoader(e);r._destroy(),this.loaders.remove(r),this._loadersMap.forEach((s,l)=>{s===r&&this._loadersMap.delete(l)})}_updatePendingAction(){const e=this.editor.plugins.get(h0);if(this.loaders.length){if(!this._pendingAction){const r=this.editor.t,s=l=>`${r("Upload in progress")} ${parseInt(l)}%.`;this._pendingAction=e.add(s(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",s)}}else e.remove(this._pendingAction),this._pendingAction=null}}class p4 extends Ae(){constructor(e,r){super(),this.id=ae(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=r(this),this._reader=new zU,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(s,l)=>l?s/l*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new U("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!=="reading")throw this.status;return this.status="idle",e}).catch(e=>{throw e==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if(this.status!="idle")throw new U("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw this.status==="aborted"?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const r={};return r.promise=new Promise((s,l)=>{r.rejecter=l,r.isFulfilled=!1,e.then(f=>{r.isFulfilled=!0,s(f)}).catch(f=>{r.isFulfilled=!0,l(f)})}),r}}const m4="ckCsrfToken",FU="abcdefghijklmnopqrstuvwxyz0123456789";function UU(){let u=function(s){s=s.toLowerCase();const l=document.cookie.split(";");for(const f of l){const b=f.split("=");if(decodeURIComponent(b[0].trim().toLowerCase())===s)return decodeURIComponent(b[1])}return null}(m4);var e,r;return u&&u.length==40||(u=function(s){let l="";const f=new Uint8Array(s);window.crypto.getRandomValues(f);for(let b=0;b<f.length;b++){const A=FU.charAt(f[b]%36);l+=Math.random()>.5?A.toUpperCase():A}return l}(40),e=m4,r=u,document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(r)+";path=/"),u}class qU extends $t{static get requires(){return[Ju]}static get pluginName(){return"CKFinderUploadAdapter"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.config.get("ckfinder.uploadUrl");e&&(this.editor.plugins.get(Ju).createUploadAdapter=r=>new VU(r,e,this.editor.t))}}class VU{constructor(e,r,s){this.loader=e,this.url=r,this.t=s}upload(){return this.loader.file.then(e=>new Promise((r,s)=>{this._initRequest(),this._initListeners(r,s,e),this._sendRequest(e)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.responseType="json"}_initListeners(e,r,s){const l=this.xhr,f=this.loader,b=(0,this.t)("Cannot upload file:")+` ${s.name}.`;l.addEventListener("error",()=>r(b)),l.addEventListener("abort",()=>r()),l.addEventListener("load",()=>{const A=l.response;if(!A||!A.uploaded)return r(A&&A.error&&A.error.message?A.error.message:b);e({default:A.url})}),l.upload&&l.upload.addEventListener("progress",A=>{A.lengthComputable&&(f.uploadTotal=A.total,f.uploaded=A.loaded)})}_sendRequest(e){const r=new FormData;r.append("upload",e),r.append("ckCsrfToken",UU()),this.xhr.send(r)}}function km(u,e,r,s){let l,f=null;typeof s=="function"?l=s:(f=u.commands.get(s),l=()=>{u.execute(s)}),u.model.document.on("change:data",(b,A)=>{if(f&&!f.isEnabled||!e.isEnabled)return;const S=qo(u.model.document.selection.getRanges());if(!S.isCollapsed||A.isUndo||!A.isLocal)return;const T=Array.from(u.model.document.differ.getChanges()),O=T[0];if(T.length!=1||O.type!=="insert"||O.name!="$text"||O.length!=1)return;const P=O.position.parent;if(P.is("element","codeBlock")||P.is("element","listItem")&&typeof s!="function"&&!["numberedList","bulletedList","todoList"].includes(s)||f&&f.value===!0)return;const W=P.getChild(0),ee=u.model.createRangeOn(W);if(!ee.containsRange(S)&&!S.end.isEqual(ee.end))return;const ne=r.exec(W.data.substr(0,S.end.offset));ne&&u.model.enqueueChange(le=>{const Ce=le.createPositionAt(P,0),je=le.createPositionAt(P,ne[0].length),qe=new la(Ce,je);if(l({match:ne})!==!1){le.remove(qe);const tt=u.model.document.selection.getFirstRange(),Dt=le.createRangeIn(P);!P.isEmpty||Dt.isEqual(tt)||Dt.containsRange(tt,!0)||le.remove(P)}qe.detach(),u.model.enqueueChange(()=>{u.plugins.get("Delete").requestUndoOnBackspace()})})})}function _0(u,e,r,s){let l,f;r instanceof RegExp?l=r:f=r,f=f||(b=>{let A;const S=[],T=[];for(;(A=l.exec(b))!==null&&!(A&&A.length<4);){let{index:O,1:P,2:W,3:ee}=A;const ne=P+W+ee;O+=A[0].length-ne.length;const le=[O,O+P.length],Ce=[O+P.length+W.length,O+P.length+W.length+ee.length];S.push(le),S.push(Ce),T.push([O+P.length,O+P.length+W.length])}return{remove:S,format:T}}),u.model.document.on("change:data",(b,A)=>{if(A.isUndo||!A.isLocal||!e.isEnabled)return;const S=u.model,T=S.document.selection;if(!T.isCollapsed)return;const O=Array.from(S.document.differ.getChanges()),P=O[0];if(O.length!=1||P.type!=="insert"||P.name!="$text"||P.length!=1)return;const W=T.focus,ee=W.parent,{text:ne,range:le}=function(tt,Dt){let Nt=tt.start;return{text:Array.from(tt.getItems()).reduce((An,Xr)=>!Xr.is("$text")&&!Xr.is("$textProxy")||Xr.getAttribute("code")?(Nt=Dt.createPositionAfter(Xr),""):An+Xr.data,""),range:Dt.createRange(Nt,tt.end)}}(S.createRange(S.createPositionAt(ee,0),W),S),Ce=f(ne),je=g4(le.start,Ce.format,S),qe=g4(le.start,Ce.remove,S);je.length&&qe.length&&S.enqueueChange(tt=>{if(s(tt,je)!==!1){for(const Dt of qe.reverse())tt.remove(Dt);S.enqueueChange(()=>{u.plugins.get("Delete").requestUndoOnBackspace()})}})})}function g4(u,e,r){return e.filter(s=>s[0]!==void 0&&s[1]!==void 0).map(s=>r.createRange(u.getShiftedBy(s[0]),u.getShiftedBy(s[1])))}class HU extends $t{static get requires(){return[Xf]}static get pluginName(){return"Autoformat"}static get isOfficialPlugin(){return!0}afterInit(){const e=this.editor,r=this.editor.t;this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats(),e.accessibility.addKeystrokeInfos({keystrokes:[{label:r("Revert autoformatting action"),keystroke:"Backspace"}]})}_addListAutoformats(){const e=this.editor.commands;e.get("bulletedList")&&km(this.editor,this,/^[*-]\s$/,"bulletedList"),e.get("numberedList")&&km(this.editor,this,/^1[.|)]\s$/,"numberedList"),e.get("todoList")&&km(this.editor,this,/^\[\s?\]\s$/,"todoList"),e.get("checkTodoList")&&km(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const e=this.editor.commands;if(e.get("bold")){const r=BC(this.editor,"bold");_0(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,r),_0(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,r)}if(e.get("italic")){const r=BC(this.editor,"italic");_0(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,r),_0(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,r)}if(e.get("code")){const r=BC(this.editor,"code");_0(this.editor,this,/(`)([^`]+)(`)$/g,r)}if(e.get("strikethrough")){const r=BC(this.editor,"strikethrough");_0(this.editor,this,/(~~)([^~]+)(~~)$/g,r)}}_addHeadingAutoformats(){const e=this.editor.commands.get("heading");e&&e.modelElements.filter(r=>r.match(/^heading[1-6]$/)).forEach(r=>{const s=r[7],l=new RegExp(`^(#{${s}})\\s$`);km(this.editor,this,l,()=>{if(!e.isEnabled||e.value===r)return!1;this.editor.execute("heading",{value:r})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&km(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const e=this.editor,r=e.model.document.selection;e.commands.get("codeBlock")&&km(e,this,/^```$/,()=>{if(r.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&km(this.editor,this,/^---$/,"horizontalLine")}}function BC(u,e){return(r,s)=>{if(!u.commands.get(e).isEnabled)return!1;const l=u.model.schema.getValidRanges(s,e);for(const f of l)r.setAttribute(e,!0,f);r.removeSelectionAttribute(e)}}class b4 extends pn{constructor(e,r){super(e),this.attributeKey=r}refresh(){const e=this.editor.model,r=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(r.selection,this.attributeKey)}execute(e={}){const r=this.editor.model,s=r.document.selection,l=e.forceValue===void 0?!this.value:e.forceValue;r.change(f=>{if(s.isCollapsed)l?f.setSelectionAttribute(this.attributeKey,!0):f.removeSelectionAttribute(this.attributeKey);else{const b=r.schema.getValidRanges(s.getRanges(),this.attributeKey);for(const A of b)l?f.setAttribute(this.attributeKey,l,A):f.removeAttribute(this.attributeKey,A)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,r=e.schema,s=e.document.selection;if(s.isCollapsed)return s.hasAttribute(this.attributeKey);for(const l of s.getRanges())for(const f of l.getItems())if(r.checkAttribute(f,this.attributeKey))return f.hasAttribute(this.attributeKey);return!1}}const C0="bold";class $U extends $t{static get pluginName(){return"BoldEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,r=this.editor.t;e.model.schema.extend("$text",{allowAttributes:C0}),e.model.schema.setAttributeProperties(C0,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:C0,view:"strong",upcastAlso:["b",s=>{const l=s.getStyle("font-weight");return l&&(l=="bold"||Number(l)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(C0,new b4(e,C0)),e.keystrokes.set("CTRL+B",C0),e.accessibility.addKeystrokeInfos({keystrokes:[{label:r("Bold text"),keystroke:"CTRL+B"}]})}}function k4({editor:u,commandName:e,plugin:r,icon:s,label:l,keystroke:f}){return b=>{const A=u.commands.get(e),S=new b(u.locale);return S.set({label:l,icon:s,keystroke:f,isToggleable:!0}),S.bind("isEnabled").to(A,"isEnabled"),S.bind("isOn").to(A,"value"),S instanceof Et?S.set({role:"menuitemcheckbox"}):S.set({tooltip:!0}),r.listenTo(S,"execute",()=>{u.execute(e),u.editing.view.focus()}),S}}const HS="bold";class WU extends $t{static get pluginName(){return"BoldUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,r=e.locale.t,s=k4({editor:e,commandName:HS,plugin:this,icon:cn.bold,label:r("Bold"),keystroke:"CTRL+B"});e.ui.componentFactory.add(HS,()=>s(lr)),e.ui.componentFactory.add("menuBar:"+HS,()=>s(Et))}}class GU extends $t{static get requires(){return[$U,WU]}static get pluginName(){return"Bold"}static get isOfficialPlugin(){return!0}}var LC=a(4199),Nw={attributes:{"data-cke":!0}};Nw.setAttributes=Ut(),Nw.insert=zt().bind(null,"head"),Nw.domAPI=Vt(),Nw.insertStyleElement=jt(),It()(LC.A,Nw),LC.A&&LC.A.locals&&LC.A.locals;const x0="italic";class YU extends $t{static get pluginName(){return"ItalicEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,r=this.editor.t;e.model.schema.extend("$text",{allowAttributes:x0}),e.model.schema.setAttributeProperties(x0,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:x0,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(x0,new b4(e,x0)),e.keystrokes.set("CTRL+I",x0),e.accessibility.addKeystrokeInfos({keystrokes:[{label:r("Italic text"),keystroke:"CTRL+I"}]})}}const $S="italic";class KU extends $t{static get pluginName(){return"ItalicUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,r=e.locale.t,s=k4({editor:e,commandName:$S,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",label:r("Italic")});e.ui.componentFactory.add($S,()=>s(lr)),e.ui.componentFactory.add("menuBar:"+$S,()=>s(Et))}}class QU extends $t{static get requires(){return[YU,KU]}static get pluginName(){return"Italic"}static get isOfficialPlugin(){return!0}}class ZU extends pn{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const r=this.editor.model,s=r.schema,l=r.document.selection,f=Array.from(l.getSelectedBlocks()),b=e.forceValue===void 0?!this.value:e.forceValue;r.change(A=>{if(b){const S=f.filter(T=>PC(T)||v4(s,T));this._applyQuote(A,S)}else this._removeQuote(A,f.filter(PC))})}_getValue(){const e=qo(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!PC(e))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,r=this.editor.model.schema,s=qo(e.getSelectedBlocks());return!!s&&v4(r,s)}_removeQuote(e,r){w4(e,r).reverse().forEach(s=>{if(s.start.isAtStart&&s.end.isAtEnd)return void e.unwrap(s.start.parent);if(s.start.isAtStart){const f=e.createPositionBefore(s.start.parent);return void e.move(s,f)}s.end.isAtEnd||e.split(s.end);const l=e.createPositionAfter(s.end.parent);e.move(s,l)})}_applyQuote(e,r){const s=[];w4(e,r).reverse().forEach(l=>{let f=PC(l.start);f||(f=e.createElement("blockQuote"),e.wrap(l,f)),s.push(f)}),s.reverse().reduce((l,f)=>l.nextSibling==f?(e.merge(e.createPositionAfter(l)),l):f)}}function PC(u){return u.parent.name=="blockQuote"?u.parent:null}function w4(u,e){let r,s=0;const l=[];for(;s<e.length;){const f=e[s],b=e[s+1];r||(r=u.createPositionBefore(f)),b&&f.nextSibling==b||(l.push(u.createRange(r,u.createPositionAfter(f))),r=null),s++}return l}function v4(u,e){const r=u.checkChild(e.parent,"blockQuote"),s=u.checkChild(["$root","blockQuote"],e);return r&&s}class JU extends $t{static get pluginName(){return"BlockQuoteEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[SC,Xf]}init(){const e=this.editor,r=e.model.schema;e.commands.add("blockQuote",new ZU(e)),r.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(b=>{const A=e.model.document.differ.getChanges();for(const S of A)if(S.type=="insert"){const T=S.position.nodeAfter;if(!T)continue;if(T.is("element","blockQuote")&&T.isEmpty)return b.remove(T),!0;if(T.is("element","blockQuote")&&!r.checkChild(S.position,T))return b.unwrap(T),!0;if(T.is("element")){const O=b.createRangeIn(T);for(const P of O.getItems())if(P.is("element","blockQuote")&&!r.checkChild(b.createPositionBefore(P),P))return b.unwrap(P),!0}}else if(S.type=="remove"){const T=S.position.parent;if(T.is("element","blockQuote")&&T.isEmpty)return b.remove(T),!0}return!1});const s=this.editor.editing.view.document,l=e.model.document.selection,f=e.commands.get("blockQuote");this.listenTo(s,"enter",(b,A)=>{!l.isCollapsed||!f.value||l.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),A.preventDefault(),b.stop())},{context:"blockquote"}),this.listenTo(s,"delete",(b,A)=>{if(A.direction!="backward"||!l.isCollapsed||!f.value)return;const S=l.getLastPosition().parent;S.isEmpty&&!S.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),A.preventDefault(),b.stop())},{context:"blockquote"})}}var RC=a(8708),jw={attributes:{"data-cke":!0}};jw.setAttributes=Ut(),jw.insert=zt().bind(null,"head"),jw.domAPI=Vt(),jw.insertStyleElement=jt(),It()(RC.A,jw),RC.A&&RC.A.locals&&RC.A.locals;class XU extends $t{static get pluginName(){return"BlockQuoteUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.ui.componentFactory.add("blockQuote",()=>{const r=this._createButton(lr);return r.set({tooltip:!0}),r}),e.ui.componentFactory.add("menuBar:blockQuote",()=>{const r=this._createButton(Et);return r.set({role:"menuitemcheckbox"}),r})}_createButton(e){const r=this.editor,s=r.locale,l=r.commands.get("blockQuote"),f=new e(r.locale),b=s.t;return f.set({label:b("Block quote"),icon:cn.quote,isToggleable:!0}),f.bind("isEnabled").to(l,"isEnabled"),f.bind("isOn").to(l,"value"),this.listenTo(f,"execute",()=>{r.execute("blockQuote"),r.editing.view.focus()}),f}}class eq extends $t{static get requires(){return[JU,XU]}static get pluginName(){return"BlockQuote"}static get isOfficialPlugin(){return!0}}class tq extends $t{static get pluginName(){return"CKBoxUI"}static get isOfficialPlugin(){return!0}afterInit(){const e=this.editor;e.commands.get("ckbox")&&(e.ui.componentFactory.add("ckbox",()=>this._createFileToolbarButton()),e.ui.componentFactory.add("menuBar:ckbox",()=>this._createFileMenuBarButton()),e.plugins.has("ImageInsertUI")&&e.plugins.get("ImageInsertUI").registerIntegration({name:"assetManager",observable:()=>e.commands.get("ckbox"),buttonViewCreator:()=>this._createImageToolbarButton(),formViewCreator:()=>this._createImageDropdownButton(),menuBarButtonViewCreator:r=>this._createImageMenuBarButton(r?"insertOnly":"insertNested")}))}_createButton(e){const r=this.editor,s=new e(r.locale),l=r.commands.get("ckbox");return s.bind("isOn","isEnabled").to(l,"value","isEnabled"),s.on("execute",()=>{r.execute("ckbox")}),s}_createFileToolbarButton(){const e=this.editor.locale.t,r=this._createButton(lr);return r.icon=cn.browseFiles,r.label=e("Open file manager"),r.tooltip=!0,r}_createImageToolbarButton(){const e=this.editor.locale.t,r=this.editor.plugins.get("ImageInsertUI"),s=this._createButton(lr);return s.icon=cn.imageAssetManager,s.bind("label").to(r,"isImageSelected",l=>e(l?"Replace image with file manager":"Insert image with file manager")),s.tooltip=!0,s}_createImageDropdownButton(){const e=this.editor.locale.t,r=this.editor.plugins.get("ImageInsertUI"),s=this._createButton(lr);return s.icon=cn.imageAssetManager,s.withText=!0,s.bind("label").to(r,"isImageSelected",l=>e(l?"Replace with file manager":"Insert with file manager")),s.on("execute",()=>{r.dropdownView.isOpen=!1}),s}_createFileMenuBarButton(){const e=this.editor.locale.t,r=this._createButton(Et);return r.icon=cn.browseFiles,r.withText=!0,r.label=e("File"),r}_createImageMenuBarButton(e){const r=this.editor.locale.t,s=this.editor.locale.t,l=this._createButton(Et);switch(l.icon=cn.imageAssetManager,l.withText=!0,e){case"insertOnly":l.label=r("Image");break;case"insertNested":l.label=s("With file manager")}return l}}var nq=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],Ow=u=>{let e=0;for(let r=0;r<u.length;r++){let s=u[r];e=83*e+nq.indexOf(s)}return e},WS=u=>{let e=u/255;return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},GS=u=>{let e=Math.max(0,Math.min(1,u));return e<=.0031308?Math.trunc(12.92*e*255+.5):Math.trunc(255*(1.055*Math.pow(e,.4166666666666667)-.055)+.5)},YS=(u,e)=>(r=>r<0?-1:1)(u)*Math.pow(Math.abs(u),e),y4=class extends Error{constructor(u){super(u),this.name="ValidationError",this.message=u}},rq=u=>{if(!u||u.length<6)throw new y4("The blurhash string must be at least 6 characters");let e=Ow(u[0]),r=Math.floor(e/9)+1,s=e%9+1;if(u.length!==4+2*s*r)throw new y4(`blurhash length mismatch: length is ${u.length} but it should be ${4+2*s*r}`)},iq=u=>{let e=u>>8&255,r=255&u;return[WS(u>>16),WS(e),WS(r)]},oq=(u,e)=>{let r=Math.floor(u/361),s=Math.floor(u/19)%19,l=u%19;return[YS((r-9)/9,2)*e,YS((s-9)/9,2)*e,YS((l-9)/9,2)*e]},sq=(u,e,r,s)=>{rq(u),s|=1;let l=Ow(u[0]),f=Math.floor(l/9)+1,b=l%9+1,A=(Ow(u[1])+1)/166,S=new Array(b*f);for(let P=0;P<S.length;P++)if(P===0){let W=Ow(u.substring(2,6));S[P]=iq(W)}else{let W=Ow(u.substring(4+2*P,6+2*P));S[P]=oq(W,A*s)}let T=4*e,O=new Uint8ClampedArray(T*r);for(let P=0;P<r;P++)for(let W=0;W<e;W++){let ee=0,ne=0,le=0;for(let tt=0;tt<f;tt++)for(let Dt=0;Dt<b;Dt++){let Nt=Math.cos(Math.PI*W*Dt/e)*Math.cos(Math.PI*P*tt/r),wn=S[Dt+tt*b];ee+=wn[0]*Nt,ne+=wn[1]*Nt,le+=wn[2]*Nt}let Ce=GS(ee),je=GS(ne),qe=GS(le);O[4*W+0+P*T]=Ce,O[4*W+1+P*T]=je,O[4*W+2+P*T]=qe,O[4*W+3+P*T]=255}return O};function A4(u){const e=[];let r=0;for(const l in u){const f=parseInt(l,10);isNaN(f)||(f>r&&(r=f),e.push(`${u[l]} ${l}w`))}const s=[{srcset:e.join(","),sizes:`(max-width: ${r}px) 100vw, ${r}px`,type:"image/webp"}];return{imageFallbackUrl:u.default,imageSources:s}}function KS({url:u,method:e="GET",data:r,onUploadProgress:s,signal:l,authorization:f}){const b=new XMLHttpRequest;b.open(e,u.toString()),b.setRequestHeader("Authorization",f),b.setRequestHeader("CKBox-Version","CKEditor 5"),b.responseType="json";const A=()=>{b.abort()};return new Promise((S,T)=>{l.throwIfAborted(),l.addEventListener("abort",A),b.addEventListener("loadstart",()=>{l.addEventListener("abort",A)}),b.addEventListener("loadend",()=>{l.removeEventListener("abort",A)}),b.addEventListener("error",()=>{T()}),b.addEventListener("abort",()=>{T()}),b.addEventListener("load",()=>{const O=b.response;if(!O||O.statusCode>=400)return T(O&&O.message);S(O)}),s&&b.upload.addEventListener("progress",O=>{s(O)}),b.send(r)})}const aq={"image/gif":"gif","image/jpeg":"jpg","image/png":"png","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};class lq extends pn{constructor(e){super(e),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return this._wrapper!==null}_checkEnabled(){const e=this.editor.commands.get("insertImage"),r=this.editor.commands.get("link");return!(!e.isEnabled&&!r.isEnabled)}_prepareOptions(){const e=this.editor.config.get("ckbox"),r=e.dialog,s=e.categories,l=e.view,f=e.upload;return{theme:e.theme,language:e.language,tokenUrl:e.tokenUrl,serviceOrigin:e.serviceOrigin,forceDemoLabel:e.forceDemoLabel,choosableFileExtensions:e.choosableFileExtensions,assets:{onChoose:b=>this.fire("ckbox:choose",b)},dialog:{onClose:()=>this.fire("ckbox:close"),width:r&&r.width,height:r&&r.height},categories:s&&{icons:s.icons},view:l&&{openLastView:l.openLastView,startupFolderId:l.startupFolderId,startupCategoryId:l.startupCategoryId,hideMaximizeButton:l.hideMaximizeButton},upload:f&&{componentsHideTimeout:f.componentsHideTimeout,dialogMinimizeTimeout:f.dialogMinimizeTimeout}}}_initListeners(){const e=this.editor,r=e.model,s=!e.config.get("ckbox.ignoreDataId"),l=e.config.get("ckbox.downloadableFiles");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{this.isEnabled&&!this.value&&(this._wrapper=fn(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null,e.editing.view.focus())}),this.on("ckbox:choose",(f,b)=>{if(!this.isEnabled)return;const A=e.commands.get("insertImage"),S=e.commands.get("link"),T=function({downloadableFilesConfig:P,assets:W,isImageAllowed:ee,isLinkAllowed:ne}){return W.map(le=>function(Ce){const je=Ce.data.metadata;return je?je.width&&je.height:!1}(le)?{id:le.data.id,type:"image",attributes:cq(le)}:{id:le.data.id,type:"link",attributes:uq(le,P)}).filter(le=>le.type==="image"?ee:ne)}({assets:b,downloadableFilesConfig:l,isImageAllowed:A.isEnabled,isLinkAllowed:S.isEnabled}),O=T.length;O!==0&&(r.change(P=>{for(const W of T){const ee=W===T[O-1],ne=O===1;this._insertAsset(W,ee,P,ne),s&&(setTimeout(()=>this._chosenAssets.delete(W),1e3),this._chosenAssets.add(W))}}),e.editing.view.focus())}),this.listenTo(e,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(e,r,s,l){const f=this.editor.model.document.selection;s.removeSelectionAttribute("linkHref"),e.type==="image"?this._insertImage(e):this._insertLink(e,s,l),r||s.setSelection(f.getLastPosition())}_insertImage(e){const r=this.editor,{imageFallbackUrl:s,imageSources:l,imageTextAlternative:f,imageWidth:b,imageHeight:A,imagePlaceholder:S}=e.attributes;r.execute("insertImage",{source:{src:s,sources:l,alt:f,width:b,height:A,...S?{placeholder:S}:null}})}_insertLink(e,r,s){const l=this.editor,f=l.model,b=f.document.selection,{linkName:A,linkHref:S}=e.attributes;if(b.isCollapsed){const T=ie(b.getAttributes()),O=r.createText(A,T);if(!s){const W=b.getLastPosition(),ee=W.parent;ee.name==="paragraph"&&ee.isEmpty||l.execute("insertParagraph",{position:W});const ne=f.insertContent(O);return r.setSelection(ne),void l.execute("link",S)}const P=f.insertContent(O);r.setSelection(P)}l.execute("link",S)}}function cq(u){const{imageFallbackUrl:e,imageSources:r}=A4(u.data.imageUrls),{description:s,width:l,height:f,blurHash:b}=u.data.metadata,A=function(S){if(S)try{const T="32px",O=document.createElement("canvas");O.setAttribute("width",T),O.setAttribute("height",T);const P=O.getContext("2d");if(!P)return;const W=P.createImageData(32,32),ee=sq(S,32,32);return W.data.set(ee),P.putImageData(W,0,0),O.toDataURL()}catch{return}}(b);return{imageFallbackUrl:e,imageSources:r,imageTextAlternative:s||"",imageWidth:l,imageHeight:f,...A?{imagePlaceholder:A}:null}}function uq(u,e){return{linkName:u.data.name,linkHref:dq(u,e)}}function dq(u,e){const r=new URL(u.data.url);return function(s,l){return typeof l=="function"?l(s):!0}(u,e)&&r.searchParams.set("download","true"),r.toString()}class QS extends $t{static get pluginName(){return"CKBoxUtils"}static get isOfficialPlugin(){return!0}static get requires(){return["CloudServices"]}init(){const e=this.editor,r=!!e.config.get("ckbox"),s=!!window.CKBox;if(!r&&!s)return;e.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",defaultUploadCategories:null,ignoreDataId:!1,language:e.locale.uiLanguage,theme:"lark",tokenUrl:e.config.get("cloudServices.tokenUrl")});const l=e.plugins.get("CloudServices"),f=e.config.get("cloudServices.tokenUrl"),b=e.config.get("ckbox.tokenUrl");if(!b)throw new U("ckbox-plugin-missing-token-url",this);this._token=b==f?Promise.resolve(l.token):l.registerTokenUrl(b)}getToken(){return this._token}async getWorkspaceId(){const e=(0,this.editor.t)("Cannot access default workspace."),r=this.editor.config.get("ckbox.defaultUploadWorkspaceId"),s=function(l,f){const[,b]=l.value.split("."),A=JSON.parse(atob(b)),S=A.auth&&A.auth.ckbox&&A.auth.ckbox.workspaces||[A.aud];return f?(A.auth&&A.auth.ckbox&&A.auth.ckbox.role)=="superadmin"||S.includes(f)?f:null:S[0]}(await this._token,r);if(s==null)throw fe("ckbox-access-default-workspace-error"),e;return s}async getCategoryIdForFile(e,r){const s=(0,this.editor.t)("Cannot determine a category for the uploaded file."),l=this.editor.config.get("ckbox.defaultUploadCategories"),f=this._getAvailableCategories(r),b=typeof e=="string"?(A=await async function(O,P){try{const W=await fetch(O,{method:"HEAD",cache:"force-cache",...P});return W.ok&&W.headers.get("content-type")||""}catch{return""}}(e,r),aq[A]):e.name.match(/\.(?<ext>[^.]+)$/).groups.ext.toLowerCase();var A;const S=await f;if(!S)throw s;if(l){const O=Object.keys(l).find(P=>l[P].find(W=>W.toLowerCase()==b));if(O){const P=S.find(W=>W.id===O||W.name===O);if(!P)throw s;return P.id}}const T=S.find(O=>O.extensions.find(P=>P.toLowerCase()==b));if(!T)throw s;return T.id}async _getAvailableCategories(e){const r=this.editor,s=this._token,{signal:l}=e,f=r.config.get("ckbox.serviceOrigin"),b=await this.getWorkspaceId();try{const S=[];let T,O=0;do{const P=await A(O);S.push(...P.items),T=P.totalCount-(O+50),O+=50}while(T>0);return S}catch{return l.throwIfAborted(),void fe("ckbox-fetch-category-http-error")}async function A(S){const T=new URL("categories",f);return T.searchParams.set("limit",String(50)),T.searchParams.set("offset",String(S)),T.searchParams.set("workspaceId",b),KS({url:T,signal:l,authorization:(await s).value})}}}class hq extends $t{static get requires(){return["ImageUploadEditing","ImageUploadProgress",Ju,C4]}static get pluginName(){return"CKBoxUploadAdapter"}static get isOfficialPlugin(){return!0}async afterInit(){const e=this.editor,r=!!e.config.get("ckbox"),s=!!window.CKBox;if(!r&&!s)return;const l=e.plugins.get(Ju),f=e.plugins.get(QS);l.createUploadAdapter=S=>new fq(S,e,f);const b=!e.config.get("ckbox.ignoreDataId"),A=e.plugins.get("ImageUploadEditing");b&&A.on("uploadComplete",(S,{imageElement:T,data:O})=>{e.model.change(P=>{P.setAttribute("ckboxImageId",O.ckboxImageId,T)})})}}class fq{constructor(e,r,s){this.loader=e,this.token=s.getToken(),this.ckboxUtils=s,this.editor=r,this.controller=new AbortController,this.serviceOrigin=r.config.get("ckbox.serviceOrigin")}async upload(){const e=this.ckboxUtils,r=this.editor.t,s=await this.loader.file,l=await e.getCategoryIdForFile(s,{signal:this.controller.signal}),f=new URL("assets",this.serviceOrigin),b=new FormData;return f.searchParams.set("workspaceId",await e.getWorkspaceId()),b.append("categoryId",l),b.append("file",s),KS({method:"POST",url:f,data:b,onUploadProgress:A=>{A.lengthComputable&&(this.loader.uploadTotal=A.total,this.loader.uploaded=A.loaded)},signal:this.controller.signal,authorization:(await this.token).value}).then(async A=>{const S=A4(A.imageUrls);return{ckboxImageId:A.id,default:S.imageFallbackUrl,sources:S.imageSources}}).catch(()=>{const A=r("Cannot upload file:")+` ${s.name}.`;return Promise.reject(A)})}abort(){this.controller.abort()}}const _4="NoPermission";class C4 extends $t{static get pluginName(){return"CKBoxEditing"}static get isOfficialPlugin(){return!0}static get requires(){return["LinkEditing","PictureEditing",hq,QS]}init(){const e=this.editor;this._shouldBeInitialised()&&(this._checkImagePlugins(),S4()&&e.commands.add("ckbox",new lq(e)),async function(r){const s=r.plugins.get(QS),l=r.config.get("ckbox.serviceOrigin"),f=new URL("permissions",l),{value:b}=await s.getToken(),A=await KS({url:f,authorization:b,signal:new AbortController().signal});return Object.values(A).some(S=>S["asset:create"])}(e).then(r=>{r||this._blockImageCommands()}))}afterInit(){const e=this.editor;this._shouldBeInitialised()&&(e.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()))}_shouldBeInitialised(){return!!this.editor.config.get("ckbox")||S4()}_blockImageCommands(){const e=this.editor,r=e.commands.get("uploadImage"),s=e.commands.get("ckboxImageEdit");r&&(r.isAccessAllowed=!1,r.forceDisabled(_4)),s&&s.forceDisabled(_4)}_checkImagePlugins(){const e=this.editor;e.plugins.has("ImageBlockEditing")||e.plugins.has("ImageInlineEditing")||fe("ckbox-plugin-image-feature-missing",e)}_initSchema(){const e=this.editor.model.schema;e.extend("$text",{allowAttributes:"ckboxLinkId"}),e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.addAttributeCheck(r=>{if(!r.last.getAttribute("linkHref"))return!1},"ckboxLinkId")}_initConversion(){const e=this.editor;e.conversion.for("downcast").add(s=>{s.on("attribute:ckboxLinkId:imageBlock",(l,f,b)=>{const{writer:A,mapper:S,consumable:T}=b;if(!T.consume(f.item,l.name))return;const O=[...S.toViewElement(f.item).getChildren()].find(P=>P.name==="a");O&&(f.item.hasAttribute("ckboxLinkId")?A.setAttribute("data-ckbox-resource-id",f.item.getAttribute("ckboxLinkId"),O):A.removeAttribute("data-ckbox-resource-id",O))},{priority:"low"}),s.on("attribute:ckboxLinkId",(l,f,b)=>{const{writer:A,mapper:S,consumable:T}=b;if(T.consume(f.item,l.name)){if(f.attributeOldValue){const O=x4(A,f.attributeOldValue);A.unwrap(S.toViewRange(f.range),O)}if(f.attributeNewValue){const O=x4(A,f.attributeNewValue);if(f.item.is("selection")){const P=A.document.selection;A.wrap(P.getFirstRange(),O)}else A.wrap(S.toViewRange(f.range),O)}}},{priority:"low"})}),e.conversion.for("upcast").add(s=>{s.on("element:a",(l,f,b)=>{const{writer:A,consumable:S}=b;if(!f.viewItem.getAttribute("href")||!S.consume(f.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const T=f.viewItem.getAttribute("data-ckbox-resource-id");if(T)if(f.modelRange)for(let O of f.modelRange.getItems())O.is("$textProxy")&&(O=O.textNode),mq(O)&&A.setAttribute("ckboxLinkId",T,O);else{const O=f.modelCursor.nodeBefore||f.modelCursor.parent;A.setAttribute("ckboxLinkId",T,O)}},{priority:"low"})}),e.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),e.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:s=>s.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}});const r=e.commands.get("replaceImageSource");r&&this.listenTo(r,"cleanupImage",(s,[l,f])=>{l.removeAttribute("ckboxImageId",f)})}_initFixers(){const e=this.editor,r=e.model,s=r.document.selection;r.document.registerPostFixer(function(l){return f=>{let b=!1;const A=l.model,S=l.commands.get("ckbox");if(!S)return b;for(const T of A.document.differ.getChanges()){if(T.type!=="insert"&&T.type!=="attribute")continue;const O=T.type==="insert"?new ut(T.position,T.position.getShiftedBy(T.length)):T.range,P=T.type==="attribute"&&T.attributeKey==="linkHref"&&T.attributeNewValue===null;for(const W of O.getItems()){if(P&&W.hasAttribute("ckboxLinkId")){f.removeAttribute("ckboxLinkId",W),b=!0;continue}const ee=pq(W,S._chosenAssets);for(const ne of ee){const le=ne.type==="image"?"ckboxImageId":"ckboxLinkId";ne.id!==W.getAttribute(le)&&(f.setAttribute(le,ne.id,W),b=!0)}}}return b}}(e)),r.document.registerPostFixer(function(l){return f=>!(l.hasAttribute("linkHref")||!l.hasAttribute("ckboxLinkId"))&&(f.removeSelectionAttribute("ckboxLinkId"),!0)}(s))}}function pq(u,e){const r=u.is("element","imageInline")||u.is("element","imageBlock"),s=u.hasAttribute("linkHref");return[...e].filter(l=>l.type==="image"&&r?l.attributes.imageFallbackUrl===u.getAttribute("src"):l.type==="link"&&s?l.attributes.linkHref===u.getAttribute("linkHref"):void 0)}function x4(u,e){const r=u.createAttributeElement("a",{"data-ckbox-resource-id":e},{priority:5});return u.setCustomProperty("link",!0,r),r}function mq(u){return!!u.is("$text")||!(!u.is("element","imageInline")&&!u.is("element","imageBlock"))}function S4(){return!!window.CKBox}class gq extends $t{static get pluginName(){return"CKBox"}static get isOfficialPlugin(){return!0}static get requires(){return[C4,tq]}}var zC=a(1866),Bw={attributes:{"data-cke":!0}};Bw.setAttributes=Ut(),Bw.insert=zt().bind(null,"head"),Bw.domAPI=Vt(),Bw.insertStyleElement=jt(),It()(zC.A,Bw),zC.A&&zC.A.locals&&zC.A.locals;class bq extends $t{static get pluginName(){return"CKFinderUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.ui.componentFactory.add("ckfinder",()=>this._createFileToolbarButton()),e.ui.componentFactory.add("menuBar:ckfinder",()=>this._createFileMenuBarButton()),e.plugins.has("ImageInsertUI")&&e.plugins.get("ImageInsertUI").registerIntegration({name:"assetManager",observable:()=>e.commands.get("ckfinder"),buttonViewCreator:()=>this._createImageToolbarButton(),formViewCreator:()=>this._createImageDropdownButton(),menuBarButtonViewCreator:r=>this._createImageMenuBarButton(r?"insertOnly":"insertNested")})}_createButton(e){const r=this.editor,s=new e(r.locale),l=r.commands.get("ckfinder");return s.bind("isEnabled").to(l),s.on("execute",()=>{r.execute("ckfinder"),r.editing.view.focus()}),s}_createFileToolbarButton(){const e=this.editor.locale.t,r=this._createButton(lr);return r.icon=cn.browseFiles,r.label=e("Insert image or file"),r.tooltip=!0,r}_createImageToolbarButton(){const e=this.editor.locale.t,r=this.editor.plugins.get("ImageInsertUI"),s=this._createButton(lr);return s.icon=cn.imageAssetManager,s.bind("label").to(r,"isImageSelected",l=>e(l?"Replace image with file manager":"Insert image with file manager")),s.tooltip=!0,s}_createImageDropdownButton(){const e=this.editor.locale.t,r=this.editor.plugins.get("ImageInsertUI"),s=this._createButton(lr);return s.icon=cn.imageAssetManager,s.withText=!0,s.bind("label").to(r,"isImageSelected",l=>e(l?"Replace with file manager":"Insert with file manager")),s.on("execute",()=>{r.dropdownView.isOpen=!1}),s}_createFileMenuBarButton(){const e=this.editor.locale.t,r=this._createButton(Et);return r.icon=cn.browseFiles,r.withText=!0,r.label=e("File"),r}_createImageMenuBarButton(e){const r=this.editor.locale.t,s=this.editor.locale.t,l=this._createButton(Et);switch(l.icon=cn.imageAssetManager,l.withText=!0,e){case"insertOnly":l.label=r("Image");break;case"insertNested":l.label=s("With file manager")}return l}}class kq extends pn{constructor(e){super(e),this.affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const e=this.editor.commands.get("insertImage"),r=this.editor.commands.get("link");this.isEnabled=e.isEnabled||r.isEnabled}execute(){const e=this.editor,r=this.editor.config.get("ckfinder.openerMethod")||"modal";if(r!="popup"&&r!="modal")throw new U("ckfinder-unknown-openermethod",e);const s=this.editor.config.get("ckfinder.options")||{};s.chooseFiles=!0;const l=s.onInit;s.language||(s.language=e.locale.uiLanguage),s.onInit=f=>{l&&l(f),f.on("files:choose",b=>{const A=b.data.files.toArray(),S=A.filter(P=>!P.isImage()),T=A.filter(P=>P.isImage());for(const P of S)e.execute("link",P.getUrl());const O=[];for(const P of T){const W=P.getUrl();O.push(W||f.request("file:getProxyUrl",{file:P}))}O.length&&E4(e,O)}),f.on("file:choose:resizedImage",b=>{const A=b.data.resizedUrl;if(A)E4(e,[A]);else{const S=e.plugins.get("Notification"),T=e.locale.t;S.showWarning(T("Could not obtain resized image URL."),{title:T("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[r](s)}}function E4(u,e){if(u.commands.get("insertImage").isEnabled)u.execute("insertImage",{source:e});else{const r=u.plugins.get("Notification"),s=u.locale.t;r.showWarning(s("Could not insert image at the current position."),{title:s("Inserting image failed"),namespace:"ckfinder"})}}class wq extends $t{static get pluginName(){return"CKFinderEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[zS,"LinkEditing"]}init(){const e=this.editor;if(!e.plugins.has("ImageBlockEditing")&&!e.plugins.has("ImageInlineEditing"))throw new U("ckfinder-missing-image-plugin",e);e.commands.add("ckfinder",new kq(e))}}class vq extends $t{static get pluginName(){return"CKFinder"}static get isOfficialPlugin(){return!0}static get requires(){return["Link","CKFinderUploadAdapter",wq,bq]}}class yq extends $t{static get pluginName(){return"CloudServicesUploadAdapter"}static get isOfficialPlugin(){return!0}static get requires(){return["CloudServices",Ju]}init(){const e=this.editor,r=e.plugins.get("CloudServices"),s=r.token,l=r.uploadUrl;if(!s)return;const f=e.plugins.get("CloudServicesCore");this._uploadGateway=f.createUploadGateway(s,l),e.plugins.get(Ju).createUploadAdapter=b=>new Aq(this._uploadGateway,b)}}class Aq{constructor(e,r){this.uploadGateway=e,this.loader=r}upload(){return this.loader.file.then(e=>(this.fileUploader=this.uploadGateway.upload(e),this.fileUploader.on("progress",(r,s)=>{this.loader.uploadTotal=s.total,this.loader.uploaded=s.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class _q extends $t{static get pluginName(){return"EasyImage"}static get isOfficialPlugin(){return!0}static get requires(){return[yq,"ImageUpload"]}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")||e.plugins.has("ImageInlineEditing")||q("easy-image-image-feature-missing",e)}}class Cq extends pn{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,r=qo(e.document.selection.getSelectedBlocks());this.value=!!r&&r.is("element","paragraph"),this.isEnabled=!!r&&D4(r,e.schema)}execute(e={}){const r=this.editor.model,s=r.document,l=e.selection||s.selection;r.canEditAt(l)&&r.change(f=>{const b=l.getSelectedBlocks();for(const A of b)!A.is("element","paragraph")&&D4(A,r.schema)&&f.rename(A,"paragraph")})}}function D4(u,e){return e.checkChild(u.parent,"paragraph")&&!e.isObject(u)}class xq extends pn{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const r=this.editor.model,s=e.attributes;let l=e.position;return r.canEditAt(l)?r.change(f=>{if(l=this._findPositionToInsertParagraph(l,f),!l)return null;const b=f.createElement("paragraph");return s&&r.schema.setAllowedAttributes(b,s,f),r.insertContent(b,l),f.setSelection(b,"in"),f.createPositionAt(b,0)}):null}_findPositionToInsertParagraph(e,r){const s=this.editor.model;if(s.schema.checkChild(e,"paragraph"))return e;const l=s.schema.findAllowedParent(e,"paragraph");if(!l)return null;const f=e.parent,b=s.schema.checkChild(f,"$text");return f.isEmpty||b&&e.isAtEnd?s.createPositionAfter(f):!f.isEmpty&&b&&e.isAtStart?s.createPositionBefore(f):r.split(e,l).position}}const P2=class P2 extends $t{static get pluginName(){return"Paragraph"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,r=e.model;e.commands.add("paragraph",new Cq(e)),e.commands.add("insertParagraph",new xq(e)),r.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:(s,{writer:l})=>P2.paragraphLikeElements.has(s.name)?s.isEmpty?null:l.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};P2.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);let FC=P2;class Sq extends pn{constructor(e,r){super(e),this.modelElements=r}refresh(){const e=qo(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(r=>I4(e,r,this.editor.model.schema))}execute(e){const r=this.editor.model,s=r.document,l=e.value;r.change(f=>{const b=Array.from(s.selection.getSelectedBlocks()).filter(A=>I4(A,l,r.schema));for(const A of b)A.is("element",l)||f.rename(A,l)})}}function I4(u,e,r){return r.checkChild(u.parent,e)&&!r.isObject(u)}const T4="paragraph";class Eq extends $t{static get pluginName(){return"HeadingEditing"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[FC]}init(){const e=this.editor,r=e.config.get("heading.options"),s=[];for(const l of r)l.model!=="paragraph"&&(e.model.schema.register(l.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(l),s.push(l.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new Sq(e,s))}afterInit(){const e=this.editor,r=e.commands.get("enter"),s=e.config.get("heading.options");r&&this.listenTo(r,"afterExecute",(l,f)=>{const b=e.model.document.selection.getFirstPosition().parent;s.some(A=>b.is("element",A.model))&&!b.is("element",T4)&&b.childCount===0&&f.writer.rename(b,T4)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:X.low+1})}}var UC=a(6269),Lw={attributes:{"data-cke":!0}};Lw.setAttributes=Ut(),Lw.insert=zt().bind(null,"head"),Lw.domAPI=Vt(),Lw.insertStyleElement=jt(),It()(UC.A,Lw),UC.A&&UC.A.locals&&UC.A.locals;class Dq extends $t{static get pluginName(){return"HeadingUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,r=e.t,s=function(b){const A=b.t,S={Paragraph:A("Paragraph"),"Heading 1":A("Heading 1"),"Heading 2":A("Heading 2"),"Heading 3":A("Heading 3"),"Heading 4":A("Heading 4"),"Heading 5":A("Heading 5"),"Heading 6":A("Heading 6")};return b.config.get("heading.options").map(T=>{const O=S[T.title];return O&&O!=T.title&&(T.title=O),T})}(e),l=r("Choose heading"),f=r("Heading");e.ui.componentFactory.add("heading",b=>{const A={},S=new So,T=e.commands.get("heading"),O=e.commands.get("paragraph"),P=[T];for(const ee of s){const ne={type:"button",model:new bT({label:ee.title,class:ee.class,role:"menuitemradio",withText:!0})};ee.model==="paragraph"?(ne.model.bind("isOn").to(O,"value"),ne.model.set("commandName","paragraph"),P.push(O)):(ne.model.bind("isOn").to(T,"value",le=>le===ee.model),ne.model.set({commandName:"heading",commandValue:ee.model})),S.add(ne),A[ee.model]=ee.title}const W=fm(b);return tT(W,S,{ariaLabel:f,role:"menu"}),W.buttonView.set({ariaLabel:f,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:f}),W.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),W.bind("isEnabled").toMany(P,"isEnabled",(...ee)=>ee.some(ne=>ne)),W.buttonView.bind("label").to(T,"value",O,"value",(ee,ne)=>{const le=ne?"paragraph":ee;return typeof le=="boolean"?l:A[le]?A[le]:l}),W.buttonView.bind("ariaLabel").to(T,"value",O,"value",(ee,ne)=>{const le=ne?"paragraph":ee;return typeof le=="boolean"?f:A[le]?`${A[le]}, ${f}`:f}),this.listenTo(W,"execute",ee=>{const{commandName:ne,commandValue:le}=ee.source;e.execute(ne,le?{value:le}:void 0),e.editing.view.focus()}),W}),e.ui.componentFactory.add("menuBar:heading",b=>{const A=new mm(b),S=e.commands.get("heading"),T=e.commands.get("paragraph"),O=[S],P=new vC(b);A.set({class:"ck-heading-dropdown"}),P.set({ariaLabel:r("Heading"),role:"menu"}),A.buttonView.set({label:r("Heading")}),A.panelView.children.add(P);for(const W of s){const ee=new oC(b,A),ne=new Et(b);ee.children.add(ne),P.items.add(ee),ne.set({isToggleable:!0,label:W.title,role:"menuitemradio",class:W.class}),ne.delegate("execute").to(A),ne.on("execute",()=>{const le=W.model==="paragraph"?"paragraph":"heading";e.execute(le,{value:W.model}),e.editing.view.focus()}),W.model==="paragraph"?(ne.bind("isOn").to(T,"value"),O.push(T)):ne.bind("isOn").to(S,"value",le=>le===W.model)}return A.bind("isEnabled").toMany(O,"isEnabled",(...W)=>W.some(ee=>ee)),A})}}class Iq extends $t{static get requires(){return[Eq,Dq]}static get pluginName(){return"Heading"}static get isOfficialPlugin(){return!0}}function M4(u){return u.createContainerElement("figure",{class:"image"},[u.createEmptyElement("img"),u.createSlot("children")])}function N4(u,e){const r=u.plugins.get("ImageUtils"),s=u.plugins.has("ImageInlineEditing")&&u.plugins.has("ImageBlockEditing");return f=>r.isInlineImageView(f)?s&&(f.getStyle("display")=="block"||f.findAncestor(r.isBlockImageView)?"imageBlock":"imageInline")!==e?null:l(f):null;function l(f){const b={name:!0};return f.hasAttribute("src")&&(b.attributes=["src"]),b}}function ZS(u,e){const r=qo(e.getSelectedBlocks());return!r||u.isObject(r)||r.isEmpty&&r.name!="listItem"?"imageBlock":"imageInline"}function qC(u){return u&&u.endsWith("px")?parseInt(u):null}function j4(u){const e=qC(u.getStyle("width")),r=qC(u.getStyle("height"));return!(!e||!r)}const Tq=/^(image|image-inline)$/;class Sl extends $t{constructor(){super(...arguments),this._domEmitter=new(Fo())}static get pluginName(){return"ImageUtils"}static get isOfficialPlugin(){return!0}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},r=null,s=null,l={}){const f=this.editor,b=f.model,A=b.document.selection,S=O4(f,r||A,s);e={...Object.fromEntries(A.getAttributes()),...e};for(const T in e)b.schema.checkAttribute(S,T)||delete e[T];return b.change(T=>{const{setImageSizes:O=!0}=l,P=T.createElement(S,e);return b.insertObject(P,r,null,{setSelection:"on",findOptimalPosition:r||S=="imageInline"?void 0:"auto"}),P.parent?(O&&this.setImageNaturalSizeAttributes(P),P):null})}setImageNaturalSizeAttributes(e){const r=e.getAttribute("src");r&&(e.getAttribute("width")||e.getAttribute("height")||this.editor.model.change(s=>{const l=new p.window.Image;this._domEmitter.listenTo(l,"load",()=>{e.getAttribute("width")||e.getAttribute("height")||this.editor.model.enqueueChange(s.batch,f=>{f.setAttribute("width",l.naturalWidth,e),f.setAttribute("height",l.naturalHeight,e)}),this._domEmitter.stopListening(l,"load")}),l.src=r}))}getClosestSelectedImageWidget(e){const r=e.getFirstPosition();if(!r)return null;const s=e.getSelectedElement();if(s&&this.isImageWidget(s))return s;let l=r.parent;for(;l;){if(l.is("element")&&this.isImageWidget(l))return l;l=l.parent}return null}getClosestSelectedImageElement(e){const r=e.getSelectedElement();return this.isImage(r)?r:e.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(e){return e.findAncestor({classes:Tq})}isImageAllowed(){const e=this.editor.model.document.selection;return function(r,s){if(O4(r,s,null)=="imageBlock"){const f=function(b,A){const S=ZT(b,A),T=S.start.parent;return T.isEmpty&&!T.is("element","$root")?T.parent:T}(s,r.model);if(r.model.schema.checkChild(f,"imageBlock"))return!0}else if(r.model.schema.checkChild(s.focus,"imageInline"))return!0;return!1}(this.editor,e)&&function(r){return[...r.focus.getAncestors()].every(s=>!s.is("element","imageBlock"))}(e)}toImageWidget(e,r,s){return r.setCustomProperty("image",!0,e),qS(e,r,{label:()=>{const l=this.findViewImgElement(e).getAttribute("alt");return l?`${l} ${s}`:s}})}isImageWidget(e){return!!e.getCustomProperty("image")&&Yo(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const r=this.editor.editing.view;for(const{item:s}of r.createRangeIn(e))if(this.isInlineImageView(s))return s}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function O4(u,e,r){const s=u.model.schema,l=u.config.get("image.insert.type");return u.plugins.has("ImageBlockEditing")?u.plugins.has("ImageInlineEditing")?r||(l==="inline"?"imageInline":l!=="auto"?"imageBlock":e.is("selection")?ZS(s,e):s.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class Mq extends pn{refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled&&e.hasAttribute("alt")?this.value=e.getAttribute("alt"):this.value=!1}execute(e){const r=this.editor,s=r.plugins.get("ImageUtils"),l=r.model,f=s.getClosestSelectedImageElement(l.document.selection);l.change(b=>{b.setAttribute("alt",e.newValue,f)})}}class Nq extends $t{static get requires(){return[Sl]}static get pluginName(){return"ImageTextAlternativeEditing"}static get isOfficialPlugin(){return!0}init(){this.editor.commands.add("imageTextAlternative",new Mq(this.editor))}}var VC=a(4062),Pw={attributes:{"data-cke":!0}};Pw.setAttributes=Ut(),Pw.insert=zt().bind(null,"head"),Pw.domAPI=Vt(),Pw.insertStyleElement=jt(),It()(VC.A,Pw),VC.A&&VC.A.locals&&VC.A.locals;var HC=a(2722),Rw={attributes:{"data-cke":!0}};Rw.setAttributes=Ut(),Rw.insert=zt().bind(null,"head"),Rw.domAPI=Vt(),Rw.insertStyleElement=jt(),It()(HC.A,Rw),HC.A&&HC.A.locals&&HC.A.locals;class jq extends un{constructor(e){super(e);const r=this.locale.t;this.focusTracker=new Ji,this.keystrokes=new K,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(r("Save"),cn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(r("Cancel"),cn.cancel,"ck-button-cancel","cancel"),this._focusables=new rt,this._focusCycler=new Sa({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),ri({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,r,s,l){const f=new lr(this.locale);return f.set({label:e,icon:r,tooltip:!0}),f.extendTemplate({attributes:{class:s}}),l&&f.delegate("execute").to(this,l),f}_createLabeledInputView(){const e=this.locale.t,r=new O_(this.locale,X_);return r.label=e("Text alternative"),r}}function B4(u){const e=u.editing.view,r=Jf.defaultPositions,s=u.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(s.getClosestSelectedImageWidget(e.document.selection)),positions:[r.northArrowSouth,r.northArrowSouthWest,r.northArrowSouthEast,r.southArrowNorth,r.southArrowNorthWest,r.southArrowNorthEast,r.viewportStickyNorth]}}class Oq extends $t{static get requires(){return[uC]}static get pluginName(){return"ImageTextAlternativeUI"}static get isOfficialPlugin(){return!0}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,r=e.t;e.ui.componentFactory.add("imageTextAlternative",s=>{const l=e.commands.get("imageTextAlternative"),f=new lr(s);return f.set({label:r("Change image text alternative"),icon:cn.textAlternative,tooltip:!0}),f.bind("isEnabled").to(l,"isEnabled"),f.bind("isOn").to(l,"value",b=>!!b),this.listenTo(f,"execute",()=>{this._showForm()}),f})}_createForm(){const e=this.editor,r=e.editing.view.document,s=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(Zl(jq))(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(l,f)=>{this._hideForm(!0),f()}),this.listenTo(e.ui,"update",()=>{s.getClosestSelectedImageWidget(r.selection)?this._isVisible&&function(l){const f=l.plugins.get("ContextualBalloon");if(l.plugins.get("ImageUtils").getClosestSelectedImageWidget(l.editing.view.document.selection)){const b=B4(l);f.updatePosition(b)}}(e):this._hideForm(!0)}),Ql({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,r=e.commands.get("imageTextAlternative"),s=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:B4(e)}),s.fieldView.value=s.fieldView.element.value=r.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class L4 extends $t{static get requires(){return[Nq,Oq]}static get pluginName(){return"ImageTextAlternative"}static get isOfficialPlugin(){return!0}}function P4(u,e){const r=(s,l,f)=>{if(!f.consumable.consume(l.item,s.name))return;const b=f.writer,A=f.mapper.toViewElement(l.item),S=u.findViewImgElement(A);l.attributeNewValue===null?(b.removeAttribute("srcset",S),b.removeAttribute("sizes",S)):l.attributeNewValue&&(b.setAttribute("srcset",l.attributeNewValue,S),b.setAttribute("sizes","100vw",S))};return s=>{s.on(`attribute:srcset:${e}`,r)}}function $C(u,e,r){const s=(l,f,b)=>{if(!b.consumable.consume(f.item,l.name))return;const A=b.writer,S=b.mapper.toViewElement(f.item),T=u.findViewImgElement(S);A.setAttribute(f.attributeKey,f.attributeNewValue||"",T)};return l=>{l.on(`attribute:${r}:${e}`,s)}}class R4 extends Qa{observe(e){this.listenTo(e,"load",(r,s)=>{const l=s.target;this.checkShouldIgnoreEventFromTarget(l)||l.tagName=="IMG"&&this._fireEvents(s)},{useCapture:!0})}stopObserving(e){this.stopListening(e)}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}class Bq extends pn{constructor(e){super(e);const r=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||r==="block"&&q("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||r==="inline"&&q("image-inline-plugin-required")}refresh(){const e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}execute(e){const r=ar(e.source),s=this.editor.model.document.selection,l=this.editor.plugins.get("ImageUtils"),f=Object.fromEntries(s.getAttributes());r.forEach((b,A)=>{const S=s.getSelectedElement();if(typeof b=="string"&&(b={src:b}),A&&S&&l.isImage(S)){const T=this.editor.model.createPositionAfter(S);l.insertImage({...b,...f},T,e.imageType)}else e.breakBlock?l.insertImage({...b,...f},s.getFirstPosition(),e.imageType):l.insertImage({...b,...f},null,e.imageType)})}}class Lq extends pn{constructor(e){super(e),this.decorate("cleanupImage")}refresh(){const e=this.editor.plugins.get("ImageUtils"),r=this.editor.model.document.selection.getSelectedElement();this.isEnabled=e.isImage(r),this.value=this.isEnabled?r.getAttribute("src"):null}execute(e){const r=this.editor.model.document.selection.getSelectedElement(),s=this.editor.plugins.get("ImageUtils");this.editor.model.change(l=>{l.setAttribute("src",e.source,r),this.cleanupImage(l,r),s.setImageNaturalSizeAttributes(r)})}cleanupImage(e,r){e.removeAttribute("srcset",r),e.removeAttribute("sizes",r),e.removeAttribute("sources",r),e.removeAttribute("width",r),e.removeAttribute("height",r),e.removeAttribute("alt",r)}}class JS extends $t{static get requires(){return[Sl]}static get pluginName(){return"ImageEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,r=e.conversion;e.editing.view.addObserver(R4),r.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const s=new Bq(e),l=new Lq(e);e.commands.add("insertImage",s),e.commands.add("replaceImageSource",l),e.commands.add("imageInsert",s)}}class z4 extends $t{static get requires(){return[Sl]}static get pluginName(){return"ImageSizeAttributes"}static get isOfficialPlugin(){return!0}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(e){const r=this.editor,s=r.plugins.get("ImageUtils"),l=e==="imageBlock"?"figure":"img";function f(b,A,S,T,O=!1){b.on(`attribute:${A}:${e}`,(P,W,ee)=>{if(!ee.consumable.consume(W.item,P.name))return;const ne=ee.writer,le=ee.mapper.toViewElement(W.item),Ce=s.findViewImgElement(le);W.attributeNewValue!==null?ne.setAttribute(S,W.attributeNewValue,Ce):ne.removeAttribute(S,Ce);const je=W.item.getAttribute("width"),qe=W.item.getAttribute("height"),tt=je&&qe;if(tt&&O&&ne.setAttribute("loading","lazy",Ce),W.item.hasAttribute("sources"))return;const Dt=W.item.hasAttribute("resizedWidth");(e!=="imageInline"||Dt||T)&&tt&&ne.setStyle("aspect-ratio",`${je}/${qe}`,Ce)})}r.conversion.for("upcast").attributeToAttribute({view:{name:l,styles:{width:/.+/}},model:{key:"width",value:b=>j4(b)?qC(b.getStyle("width")):null}}).attributeToAttribute({view:{name:l,key:"width"},model:"width"}).attributeToAttribute({view:{name:l,styles:{height:/.+/}},model:{key:"height",value:b=>j4(b)?qC(b.getStyle("height")):null}}).attributeToAttribute({view:{name:l,key:"height"},model:"height"}),r.conversion.for("editingDowncast").add(b=>{f(b,"width","width",!0,!0),f(b,"height","height",!0,!0)}),r.conversion.for("dataDowncast").add(b=>{f(b,"width","width",!1),f(b,"height","height",!1)})}}class F4 extends pn{constructor(e,r){super(e),this._modelElementName=r}refresh(){const e=this.editor.plugins.get("ImageUtils"),r=e.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=e.isInlineImage(r):this.isEnabled=e.isBlockImage(r)}execute(e={}){const r=this.editor,s=this.editor.model,l=r.plugins.get("ImageUtils"),f=l.getClosestSelectedImageElement(s.document.selection),b=Object.fromEntries(f.getAttributes());return b.src||b.uploadId?s.change(A=>{const{setImageSizes:S=!0}=e,T=Array.from(s.markers).filter(W=>W.getRange().containsItem(f)),O=l.insertImage(b,s.createSelection(f,"on"),this._modelElementName,{setImageSizes:S});if(!O)return null;const P=A.createRangeOn(O);for(const W of T){const ee=W.getRange(),ne=ee.root.rootName!="$graveyard"?ee.getJoined(P,!0):P;A.updateMarker(W,{range:ne})}return{oldElement:f,newElement:O}}):null}}var WC=a(7378),zw={attributes:{"data-cke":!0}};zw.setAttributes=Ut(),zw.insert=zt().bind(null,"head"),zw.domAPI=Vt(),zw.insertStyleElement=jt(),It()(WC.A,zw),WC.A&&WC.A.locals&&WC.A.locals;class U4 extends $t{static get requires(){return[Sl]}static get pluginName(){return"ImagePlaceholder"}static get isOfficialPlugin(){return!0}afterInit(){this._setupSchema(),this._setupConversion(),this._setupLoadListener()}_setupSchema(){const e=this.editor.model.schema;e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["placeholder"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["placeholder"]})}_setupConversion(){const e=this.editor,r=e.conversion,s=e.plugins.get("ImageUtils");r.for("editingDowncast").add(l=>{l.on("attribute:placeholder",(f,b,A)=>{if(!A.consumable.test(b.item,f.name)||!b.item.is("element","imageBlock")&&!b.item.is("element","imageInline"))return;A.consumable.consume(b.item,f.name);const S=A.writer,T=A.mapper.toViewElement(b.item),O=s.findViewImgElement(T);b.attributeNewValue?(S.addClass("image_placeholder",O),S.setStyle("background-image",`url(${b.attributeNewValue})`,O),S.setCustomProperty("editingPipeline:doNotReuseOnce",!0,O)):(S.removeClass("image_placeholder",O),S.removeStyle("background-image",O))})})}_setupLoadListener(){const e=this.editor,r=e.model,s=e.editing,l=s.view,f=e.plugins.get("ImageUtils");l.addObserver(R4),this.listenTo(l.document,"imageLoaded",(b,A)=>{const S=l.domConverter.mapDomToView(A.target);if(!S)return;const T=f.getImageWidgetFromImageView(S);if(!T)return;const O=s.mapper.toModelElement(T);O&&O.hasAttribute("placeholder")&&r.enqueueChange({isUndoable:!1},P=>{P.removeAttribute("placeholder",O)})})}}class q4 extends $t{static get requires(){return[JS,z4,Sl,U4,Qu]}static get pluginName(){return"ImageBlockEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new F4(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,r=e.t,s=e.conversion,l=e.plugins.get("ImageUtils");s.for("dataDowncast").elementToStructure({model:"imageBlock",view:(f,{writer:b})=>M4(b)}),s.for("editingDowncast").elementToStructure({model:"imageBlock",view:(f,{writer:b})=>l.toImageWidget(M4(b),b,r("image widget"))}),s.for("downcast").add($C(l,"imageBlock","src")).add($C(l,"imageBlock","alt")).add(P4(l,"imageBlock")),s.for("upcast").elementToElement({view:N4(e,"imageBlock"),model:(f,{writer:b})=>b.createElement("imageBlock",f.hasAttribute("src")?{src:f.getAttribute("src")}:void 0)}).add(function(f){const b=(A,S,T)=>{if(!T.consumable.test(S.viewItem,{name:!0,classes:"image"}))return;const O=f.findViewImgElement(S.viewItem);if(!O||!T.consumable.test(O,{name:!0}))return;T.consumable.consume(S.viewItem,{name:!0,classes:"image"});const P=qo(T.convertItem(O,S.modelCursor).modelRange.getItems());P?(T.convertChildren(S.viewItem,P),T.updateConversionResult(P,S)):T.consumable.revert(S.viewItem,{name:!0,classes:"image"})};return A=>{A.on("element:figure",b)}}(l))}_setupClipboardIntegration(){const e=this.editor,r=e.model,s=e.editing.view,l=e.plugins.get("ImageUtils"),f=e.plugins.get("ClipboardPipeline");this.listenTo(f,"inputTransformation",(b,A)=>{const S=Array.from(A.content.getChildren());let T;if(!S.every(l.isInlineImageView))return;T=A.targetRanges?e.editing.mapper.toModelRange(A.targetRanges[0]):r.document.selection.getFirstRange();const O=r.createSelection(T);if(ZS(r.schema,O)==="imageBlock"){const P=new sc(s.document),W=S.map(ee=>P.createElement("figure",{class:"image"},ee));A.content=P.createDocumentFragment(W)}}),this.listenTo(f,"contentInsertion",(b,A)=>{A.method==="paste"&&r.change(S=>{const T=S.createRangeIn(A.content);for(const O of T.getItems())O.is("element","imageBlock")&&l.setImageNaturalSizeAttributes(O)})})}}var GC=a(3350),Fw={attributes:{"data-cke":!0}};Fw.setAttributes=Ut(),Fw.insert=zt().bind(null,"head"),Fw.domAPI=Vt(),Fw.insertStyleElement=jt(),It()(GC.A,Fw),GC.A&&GC.A.locals&&GC.A.locals;class Pq extends un{constructor(e,r=[]){super(e),this.focusTracker=new Ji,this.keystrokes=new K,this._focusables=new rt,this.children=this.createCollection(),this._focusCycler=new Sa({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});for(const s of r)this.children.add(s),this._focusables.add(s),s instanceof UF&&this._focusables.addMany(s.children);this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:-1},children:this.children})}render(){super.render(),ri({view:this});for(const r of this._focusables)this.focusTracker.add(r.element);this.keystrokes.listenTo(this.element);const e=r=>r.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}class V4 extends $t{constructor(e){super(e),this._integrations=new Map,e.config.define("image.insert.integrations",["upload","assetManager","url"])}static get pluginName(){return"ImageInsertUI"}static get isOfficialPlugin(){return!0}static get requires(){return[Sl]}init(){const e=this.editor,r=e.model.document.selection,s=e.plugins.get("ImageUtils");this.set("isImageSelected",!1),this.listenTo(e.model.document,"change",()=>{this.isImageSelected=s.isImage(r.getSelectedElement())});const l=f=>this._createToolbarComponent(f);e.ui.componentFactory.add("insertImage",l),e.ui.componentFactory.add("imageInsert",l),e.ui.componentFactory.add("menuBar:insertImage",f=>this._createMenuBarComponent(f))}registerIntegration({name:e,observable:r,buttonViewCreator:s,formViewCreator:l,menuBarButtonViewCreator:f,requiresForm:b=!1,override:A=!1}){this._integrations.has(e)&&!A&&q("image-insert-integration-exists",{name:e}),this._integrations.set(e,{observable:r,buttonViewCreator:s,menuBarButtonViewCreator:f,formViewCreator:l,requiresForm:b})}_createToolbarComponent(e){const r=this.editor,s=e.t,l=this._prepareIntegrations();if(!l.length)return null;let f;const b=l[0];if(l.length==1){if(!b.requiresForm)return b.buttonViewCreator(!0);f=b.buttonViewCreator(!0)}else{const T=b.buttonViewCreator(!1);f=new Q_(e,T),f.tooltip=!0,f.bind("label").to(this,"isImageSelected",O=>s(O?"Replace image":"Insert image"))}const A=this.dropdownView=fm(e,f),S=l.map(({observable:T})=>typeof T=="function"?T():T);return A.bind("isEnabled").toMany(S,"isEnabled",(...T)=>T.some(O=>O)),A.once("change:isOpen",()=>{const T=l.flatMap(({formViewCreator:P})=>P(l.length==1)),O=new Pq(r.locale,T);A.panelView.children.add(O)}),A}_createMenuBarComponent(e){const r=e.t,s=this._prepareIntegrations();if(!s.length)return null;const l=s.flatMap(({menuBarButtonViewCreator:A})=>A(s.length==1)),f=new mm(e),b=new vC(e);f.panelView.children.add(b),f.buttonView.set({icon:cn.image,label:r("Image")});for(const A of l){const S=new oC(e,f);S.children.add(A),b.items.add(S),A.delegate("execute").to(f)}return f}_prepareIntegrations(){const e=this.editor.config.get("image.insert.integrations"),r=[];if(!e.length)return q("image-insert-integrations-not-specified"),r;for(const s of e)this._integrations.has(s)?r.push(this._integrations.get(s)):["upload","assetManager","url"].includes(s)||q("image-insert-unknown-integration",{item:s});return r.length||q("image-insert-integrations-not-registered"),r}}var YC=a(265),Uw={attributes:{"data-cke":!0}};Uw.setAttributes=Ut(),Uw.insert=zt().bind(null,"head"),Uw.domAPI=Vt(),Uw.insertStyleElement=jt(),It()(YC.A,Uw),YC.A&&YC.A.locals&&YC.A.locals;class Rq extends $t{static get requires(){return[q4,Iw,L4,V4]}static get pluginName(){return"ImageBlock"}static get isOfficialPlugin(){return!0}}class zq extends $t{static get requires(){return[JS,z4,Sl,U4,Qu]}static get pluginName(){return"ImageInlineEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.model.schema.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"],disallowIn:["caption"]}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new F4(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,r=e.t,s=e.conversion,l=e.plugins.get("ImageUtils");s.for("dataDowncast").elementToElement({model:"imageInline",view:(f,{writer:b})=>b.createEmptyElement("img")}),s.for("editingDowncast").elementToStructure({model:"imageInline",view:(f,{writer:b})=>l.toImageWidget(function(A){return A.createContainerElement("span",{class:"image-inline"},A.createEmptyElement("img"))}(b),b,r("image widget"))}),s.for("downcast").add($C(l,"imageInline","src")).add($C(l,"imageInline","alt")).add(P4(l,"imageInline")),s.for("upcast").elementToElement({view:N4(e,"imageInline"),model:(f,{writer:b})=>b.createElement("imageInline",f.hasAttribute("src")?{src:f.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const e=this.editor,r=e.model,s=e.editing.view,l=e.plugins.get("ImageUtils"),f=e.plugins.get("ClipboardPipeline");this.listenTo(f,"inputTransformation",(b,A)=>{const S=Array.from(A.content.getChildren());let T;if(!S.every(l.isBlockImageView))return;T=A.targetRanges?e.editing.mapper.toModelRange(A.targetRanges[0]):r.document.selection.getFirstRange();const O=r.createSelection(T);if(ZS(r.schema,O)==="imageInline"){const P=new sc(s.document),W=S.map(ee=>ee.childCount===1?(Array.from(ee.getAttributes()).forEach(ne=>P.setAttribute(...ne,l.findViewImgElement(ee))),ee.getChild(0)):ee);A.content=P.createDocumentFragment(W)}}),this.listenTo(f,"contentInsertion",(b,A)=>{A.method==="paste"&&r.change(S=>{const T=S.createRangeIn(A.content);for(const O of T.getItems())O.is("element","imageInline")&&l.setImageNaturalSizeAttributes(O)})})}}class Fq extends $t{static get requires(){return[zq,Iw,L4,V4]}static get pluginName(){return"ImageInline"}static get isOfficialPlugin(){return!0}}class Uq extends $t{static get requires(){return[Rq,Fq]}static get pluginName(){return"Image"}static get isOfficialPlugin(){return!0}}class H4 extends $t{static get pluginName(){return"ImageCaptionUtils"}static get isOfficialPlugin(){return!0}static get requires(){return[Sl]}getCaptionFromImageModelElement(e){for(const r of e.getChildren())if(r&&r.is("element","caption"))return r;return null}getCaptionFromModelSelection(e){const r=this.editor.plugins.get("ImageUtils"),s=e.getFirstPosition().findAncestor("caption");return s&&r.isBlockImage(s.parent)?s:null}matchImageCaptionViewElement(e){const r=this.editor.plugins.get("ImageUtils");return e.name=="figcaption"&&r.isBlockImageView(e.parent)?{name:!0}:null}}class qq extends pn{refresh(){const e=this.editor,r=e.plugins.get("ImageCaptionUtils"),s=e.plugins.get("ImageUtils");if(!e.plugins.has(q4))return this.isEnabled=!1,void(this.value=!1);const l=e.model.document.selection,f=l.getSelectedElement();if(!f){const b=r.getCaptionFromModelSelection(l);return this.isEnabled=!!b,void(this.value=!!b)}this.isEnabled=s.isImage(f),this.isEnabled?this.value=!!r.getCaptionFromImageModelElement(f):this.value=!1}execute(e={}){const{focusCaptionOnShow:r}=e;this.editor.model.change(s=>{this.value?this._hideImageCaption(s):this._showImageCaption(s,r)})}_showImageCaption(e,r){const s=this.editor.model.document.selection,l=this.editor.plugins.get("ImageCaptionEditing"),f=this.editor.plugins.get("ImageUtils");let b=s.getSelectedElement();const A=l._getSavedCaption(b);f.isInlineImage(b)&&(this.editor.execute("imageTypeBlock"),b=s.getSelectedElement());const S=A||e.createElement("caption");e.append(S,b),r&&e.setSelection(S,"in")}_hideImageCaption(e){const r=this.editor,s=r.model.document.selection,l=r.plugins.get("ImageCaptionEditing"),f=r.plugins.get("ImageCaptionUtils");let b,A=s.getSelectedElement();A?b=f.getCaptionFromImageModelElement(A):(b=f.getCaptionFromModelSelection(s),A=b.parent),l._saveCaption(A,b),e.setSelection(A,"on"),e.remove(b)}}class Vq extends $t{static get requires(){return[Sl,H4]}static get pluginName(){return"ImageCaptionEditing"}static get isOfficialPlugin(){return!0}constructor(e){super(e),this._savedCaptionsMap=new WeakMap}init(){const e=this.editor,r=e.model.schema;r.isRegistered("caption")?r.extend("caption",{allowIn:"imageBlock"}):r.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new qq(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,r=e.editing.view,s=e.plugins.get("ImageUtils"),l=e.plugins.get("ImageCaptionUtils"),f=e.t;e.conversion.for("upcast").elementToElement({view:b=>l.matchImageCaptionViewElement(b),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(b,{writer:A})=>s.isBlockImage(b.parent)?A.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(b,{writer:A})=>{if(!s.isBlockImage(b.parent))return null;const S=A.createEditableElement("figcaption");A.setCustomProperty("imageCaption",!0,S),S.placeholder=f("Enter image caption"),Ha({view:r,element:S,keepOnFocus:!0});const T=b.parent.getAttribute("alt");return QT(S,A,{label:T?f("Caption for image: %0",[T]):f("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,r=e.plugins.get("ImageUtils"),s=e.plugins.get("ImageCaptionUtils"),l=e.commands.get("imageTypeInline"),f=e.commands.get("imageTypeBlock"),b=A=>{if(!A.return)return;const{oldElement:S,newElement:T}=A.return;if(!S)return;if(r.isBlockImage(S)){const P=s.getCaptionFromImageModelElement(S);if(P)return void this._saveCaption(T,P)}const O=this._getSavedCaption(S);O&&this._saveCaption(T,O)};l&&this.listenTo(l,"execute",b,{priority:"low"}),f&&this.listenTo(f,"execute",b,{priority:"low"})}_getSavedCaption(e){const r=this._savedCaptionsMap.get(e);return r?hi.fromJSON(r):null}_saveCaption(e,r){this._savedCaptionsMap.set(e,r.toJSON())}_registerCaptionReconversion(){const e=this.editor,r=e.model,s=e.plugins.get("ImageUtils"),l=e.plugins.get("ImageCaptionUtils");r.document.on("change:data",()=>{const f=r.document.differ.getChanges();for(const b of f){if(b.attributeKey!=="alt")continue;const A=b.range.start.nodeAfter;if(s.isBlockImage(A)){const S=l.getCaptionFromImageModelElement(A);if(!S)return;e.editing.reconvertItem(S)}}})}}class Hq extends $t{static get requires(){return[H4]}static get pluginName(){return"ImageCaptionUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,r=e.editing.view,s=e.plugins.get("ImageCaptionUtils"),l=e.t;e.ui.componentFactory.add("toggleImageCaption",f=>{const b=e.commands.get("toggleImageCaption"),A=new lr(f);return A.set({icon:cn.caption,tooltip:!0,isToggleable:!0}),A.bind("isOn","isEnabled").to(b,"value","isEnabled"),A.bind("label").to(b,"value",S=>l(S?"Toggle caption off":"Toggle caption on")),this.listenTo(A,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const S=s.getCaptionFromModelSelection(e.model.document.selection);if(S){const T=e.editing.mapper.toViewElement(S);r.scrollToTheSelection(),r.change(O=>{O.addClass("image__caption_highlighted",T)})}e.editing.view.focus()}),A})}}var KC=a(5247),qw={attributes:{"data-cke":!0}};qw.setAttributes=Ut(),qw.insert=zt().bind(null,"head"),qw.domAPI=Vt(),qw.insertStyleElement=jt(),It()(KC.A,qw),KC.A&&KC.A.locals&&KC.A.locals;class $q extends $t{static get requires(){return[Vq,Hq]}static get pluginName(){return"ImageCaption"}static get isOfficialPlugin(){return!0}}function $4(u){const e=u.map(r=>r.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function Wq(u){return new Promise((e,r)=>{const s=u.getAttribute("src");fetch(s).then(l=>l.blob()).then(l=>{const f=W4(l,s),b=f.replace("image/",""),A=new File([l],`image.${b}`,{type:f});e(A)}).catch(l=>l&&l.name==="TypeError"?function(f){return function(b){return new Promise((A,S)=>{const T=p.document.createElement("img");T.addEventListener("load",()=>{const O=p.document.createElement("canvas");O.width=T.width,O.height=T.height,O.getContext("2d").drawImage(T,0,0),O.toBlob(P=>P?A(P):S())}),T.addEventListener("error",()=>S()),T.src=b})}(f).then(b=>{const A=W4(b,f),S=A.replace("image/","");return new File([b],`image.${S}`,{type:A})})}(s).then(e).catch(r):r(l))})}function W4(u,e){return u.type?u.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class Gq extends $t{static get pluginName(){return"ImageUploadUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.ui.componentFactory.add("uploadImage",()=>this._createToolbarButton()),e.ui.componentFactory.add("imageUpload",()=>this._createToolbarButton()),e.ui.componentFactory.add("menuBar:uploadImage",()=>this._createMenuBarButton("standalone")),e.plugins.has("ImageInsertUI")&&e.plugins.get("ImageInsertUI").registerIntegration({name:"upload",observable:()=>e.commands.get("uploadImage"),buttonViewCreator:()=>this._createToolbarButton(),formViewCreator:()=>this._createDropdownButton(),menuBarButtonViewCreator:r=>this._createMenuBarButton(r?"insertOnly":"insertNested")})}_createButton(e){const r=this.editor,s=r.locale,l=r.commands.get("uploadImage"),f=r.config.get("image.upload.types"),b=$4(f),A=new e(r.locale),S=s.t;return A.set({acceptedType:f.map(T=>`image/${T}`).join(","),allowMultipleFiles:!0,label:S("Upload from computer"),icon:cn.imageUpload}),A.bind("isEnabled").to(l),A.on("done",(T,O)=>{const P=Array.from(O).filter(W=>b.test(W.type));P.length&&(r.execute("uploadImage",{file:P}),r.editing.view.focus())}),A}_createToolbarButton(){const e=this.editor.locale.t,r=this.editor.plugins.get("ImageInsertUI"),s=this.editor.commands.get("uploadImage"),l=this._createButton(hs);return l.tooltip=!0,l.bind("label").to(r,"isImageSelected",s,"isAccessAllowed",(f,b)=>e(b?f?"Replace image from computer":"Upload image from computer":"You have no image upload permissions.")),l}_createDropdownButton(){const e=this.editor.locale.t,r=this.editor.plugins.get("ImageInsertUI"),s=this._createButton(hs);return s.withText=!0,s.bind("label").to(r,"isImageSelected",l=>e(l?"Replace from computer":"Upload from computer")),s.on("execute",()=>{r.dropdownView.isOpen=!1}),s}_createMenuBarButton(e){const r=this.editor.locale.t,s=this._createButton(AT);switch(s.withText=!0,e){case"standalone":s.label=r("Image from computer");break;case"insertOnly":s.label=r("Image");break;case"insertNested":s.label=r("From computer")}return s}}var QC=a(2267),Vw={attributes:{"data-cke":!0}};Vw.setAttributes=Ut(),Vw.insert=zt().bind(null,"head"),Vw.domAPI=Vt(),Vw.insertStyleElement=jt(),It()(QC.A,Vw),QC.A&&QC.A.locals&&QC.A.locals;var ZC=a(7693),Hw={attributes:{"data-cke":!0}};Hw.setAttributes=Ut(),Hw.insert=zt().bind(null,"head"),Hw.domAPI=Vt(),Hw.insertStyleElement=jt(),It()(ZC.A,Hw),ZC.A&&ZC.A.locals&&ZC.A.locals;var JC=a(1559),$w={attributes:{"data-cke":!0}};$w.setAttributes=Ut(),$w.insert=zt().bind(null,"head"),$w.domAPI=Vt(),$w.insertStyleElement=jt(),It()(JC.A,$w),JC.A&&JC.A.locals&&JC.A.locals;class Yq extends $t{constructor(e){super(e),this.uploadStatusChange=(r,s,l)=>{const f=this.editor,b=s.item,A=b.getAttribute("uploadId");if(!l.consumable.consume(s.item,r.name))return;const S=f.plugins.get("ImageUtils"),T=f.plugins.get(Ju),O=A?s.attributeNewValue:null,P=this.placeholder,W=f.editing.mapper.toViewElement(b),ee=l.writer;if(O=="reading")return G4(W,ee),void Y4(S,P,W,ee);if(O=="uploading"){const ne=T.loaders.get(A);return G4(W,ee),void(ne?(K4(W,ee),function(le,Ce,je,qe){const tt=function(Dt){const Nt=Dt.createUIElement("div",{class:"ck-progress-bar"});return Dt.setCustomProperty("progressBar",!0,Nt),Nt}(Ce);Ce.insert(Ce.createPositionAt(le,"end"),tt),je.on("change:uploadedPercent",(Dt,Nt,wn)=>{qe.change(An=>{An.setStyle("width",wn+"%",tt)})})}(W,ee,ne,f.editing.view),function(le,Ce,je,qe){if(qe.data){const tt=le.findViewImgElement(Ce);je.setAttribute("src",qe.data,tt)}}(S,W,ee,ne)):Y4(S,P,W,ee))}O=="complete"&&T.loaders.get(A)&&function(ne,le,Ce){const je=le.createUIElement("div",{class:"ck-image-upload-complete-icon"});le.insert(le.createPositionAt(ne,"end"),je),setTimeout(()=>{Ce.change(qe=>qe.remove(qe.createRangeOn(je)))},3e3)}(W,ee,f.editing.view),function(ne,le){Z4(ne,le,"progressBar")}(W,ee),K4(W,ee),function(ne,le){le.removeClass("ck-appear",ne)}(W,ee)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function G4(u,e){u.hasClass("ck-appear")||e.addClass("ck-appear",u)}function Y4(u,e,r,s){r.hasClass("ck-image-upload-placeholder")||s.addClass("ck-image-upload-placeholder",r);const l=u.findViewImgElement(r);l.getAttribute("src")!==e&&s.setAttribute("src",e,l),Q4(r,"placeholder")||s.insert(s.createPositionAfter(l),function(f){const b=f.createUIElement("div",{class:"ck-upload-placeholder-loader"});return f.setCustomProperty("placeholder",!0,b),b}(s))}function K4(u,e){u.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",u),Z4(u,e,"placeholder")}function Q4(u,e){for(const r of u.getChildren())if(r.getCustomProperty(e))return r}function Z4(u,e,r){const s=Q4(u,r);s&&e.remove(e.createRangeOn(s))}class Kq extends pn{constructor(e){super(e),this.set("isAccessAllowed",!0)}refresh(){const e=this.editor,r=e.plugins.get("ImageUtils"),s=e.model.document.selection.getSelectedElement();this.isEnabled=r.isImageAllowed()||r.isImage(s)}execute(e){const r=ar(e.file),s=this.editor.model.document.selection,l=this.editor.plugins.get("ImageUtils"),f=Object.fromEntries(s.getAttributes());r.forEach((b,A)=>{const S=s.getSelectedElement();if(A&&S&&l.isImage(S)){const T=this.editor.model.createPositionAfter(S);this._uploadImage(b,f,T)}else this._uploadImage(b,f)})}_uploadImage(e,r,s){const l=this.editor,f=l.plugins.get(Ju).createLoader(e),b=l.plugins.get("ImageUtils");f&&b.insertImage({...r,uploadId:f.id},s)}}class Qq extends $t{constructor(e){super(e),this._uploadedImages=new Map,e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[Ju,zS,Qu,Sl]}static get pluginName(){return"ImageUploadEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,r=e.model.document,s=e.conversion,l=e.plugins.get(Ju),f=e.plugins.get("ImageUtils"),b=e.plugins.get("ClipboardPipeline"),A=$4(e.config.get("image.upload.types")),S=new Kq(e);e.commands.add("uploadImage",S),e.commands.add("imageUpload",S),s.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}).add(T=>T.on("element:img",(O,P,W)=>{if(!W.consumable.test(P.viewItem,{attributes:["data-ck-upload-id"]}))return;const ee=P.viewItem.getAttribute("data-ck-upload-id");if(!ee)return;const[ne]=Array.from(P.modelRange.getItems({shallow:!0})),le=l.loaders.get(ee);ne&&(W.writer.setAttribute("uploadId",ee,ne),W.consumable.consume(P.viewItem,{attributes:["data-ck-upload-id"]}),le&&le.data&&W.writer.setAttribute("uploadStatus",le.status,ne))},{priority:"low"})),this.listenTo(e.editing.view.document,"clipboardInput",(T,O)=>{if(P=O.dataTransfer,Array.from(P.types).includes("text/html")&&P.getData("text/html")!=="")return;var P;const W=Array.from(O.dataTransfer.files).filter(ee=>!!ee&&A.test(ee.type));if(W.length&&(T.stop(),e.model.change(ee=>{O.targetRanges&&ee.setSelection(O.targetRanges.map(ne=>e.editing.mapper.toModelRange(ne))),e.execute("uploadImage",{file:W})}),!e.commands.get("uploadImage").isAccessAllowed)){const ee=e.plugins.get("Notification"),ne=e.locale.t;ee.showWarning(ne("You have no image upload permissions."),{namespace:"image"})}}),this.listenTo(b,"inputTransformation",(T,O)=>{const P=Array.from(e.editing.view.createRangeIn(O.content)).map(ee=>ee.item).filter(ee=>function(ne,le){return!(!ne.isInlineImageView(le)||!le.getAttribute("src")||!le.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!le.getAttribute("src").match(/^blob:/g))}(f,ee)&&!ee.getAttribute("uploadProcessed")).map(ee=>({promise:Wq(ee),imageElement:ee}));if(!P.length)return;const W=new sc(e.editing.view.document);for(const ee of P){W.setAttribute("uploadProcessed",!0,ee.imageElement);const ne=l.createLoader(ee.promise);ne&&(W.setAttribute("src","",ee.imageElement),W.setAttribute("uploadId",ne.id,ee.imageElement))}}),e.editing.view.document.on("dragover",(T,O)=>{O.preventDefault()}),r.on("change",()=>{const T=r.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),O=new Set;for(const P of T)if(P.type=="insert"&&P.name!="$text"){const W=P.position.nodeAfter,ee=P.position.root.rootName=="$graveyard";for(const ne of Zq(e,W)){const le=ne.getAttribute("uploadId");if(!le)continue;const Ce=l.loaders.get(le);Ce?ee?O.has(le)||Array.from(this._uploadImageElements.get(le)).every(je=>je.root.rootName=="$graveyard")&&Ce.abort():(O.add(le),this._uploadImageElements.has(le)?this._uploadImageElements.get(le).add(ne):this._uploadImageElements.set(le,new Set([ne])),Ce.status=="idle"&&this._readAndUpload(Ce)):!ee&&this._uploadedImages.has(le)&&e.model.enqueueChange({isUndoable:!1},je=>{je.setAttribute("uploadStatus","complete",ne),this.fire("uploadComplete",{data:this._uploadedImages.get(le),imageElement:ne})})}}}),this.on("uploadComplete",(T,{imageElement:O,data:P})=>{const W=P.urls?P.urls:P;this.editor.model.change(ee=>{ee.setAttribute("src",W.default,O),this._parseAndSetSrcsetAttributeOnImage(W,O,ee),f.setImageNaturalSizeAttributes(O)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&(e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this._registerConverters("imageBlock")),this.editor.plugins.has("ImageInlineEditing")&&(e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]}),this._registerConverters("imageInline"))}_readAndUpload(e){const r=this.editor,s=r.model,l=r.locale.t,f=r.plugins.get(Ju),b=r.plugins.get(zS),A=r.plugins.get("ImageUtils"),S=this._uploadImageElements;return s.enqueueChange({isUndoable:!1},O=>{const P=S.get(e.id);for(const W of P)O.setAttribute("uploadStatus","reading",W)}),e.read().then(()=>{const O=e.upload();r.ui&&r.ui.ariaLiveAnnouncer.announce(l("Uploading image"));for(const P of S.get(e.id)){if(v.isSafari){const W=r.editing.mapper.toViewElement(P),ee=A.findViewImgElement(W);r.editing.view.once("render",()=>{if(!ee.parent)return;const ne=r.editing.view.domConverter.mapViewToDom(ee.parent);if(!ne)return;const le=ne.style.display;ne.style.display="none",ne._ckHack=ne.offsetHeight,ne.style.display=le})}s.enqueueChange({isUndoable:!1},W=>{W.setAttribute("uploadStatus","uploading",P)})}return O}).then(O=>{s.enqueueChange({isUndoable:!1},P=>{for(const W of S.get(e.id))P.setAttribute("uploadStatus","complete",W),this.fire("uploadComplete",{data:O,imageElement:W});r.ui&&r.ui.ariaLiveAnnouncer.announce(l("Image upload complete")),this._uploadedImages.set(e.id,O)}),T()}).catch(O=>{if(r.ui&&r.ui.ariaLiveAnnouncer.announce(l("Error during image upload")),e.status!=="error"&&e.status!=="aborted")throw O;e.status=="error"&&O&&b.showWarning(O,{title:l("Upload failed"),namespace:"upload"}),s.enqueueChange({isUndoable:!1},P=>{for(const W of S.get(e.id))W.root.rootName!=="$graveyard"&&P.remove(W)}),T()});function T(){s.enqueueChange({isUndoable:!1},O=>{for(const P of S.get(e.id))O.removeAttribute("uploadId",P),O.removeAttribute("uploadStatus",P);S.delete(e.id)}),f.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,r,s){let l=0;const f=Object.keys(e).filter(b=>{const A=parseInt(b,10);if(!isNaN(A))return l=Math.max(l,A),!0}).map(b=>`${e[b]} ${b}w`).join(", ");if(f!=""){const b={srcset:f};r.hasAttribute("width")||r.hasAttribute("height")||(b.width=l),s.setAttributes(b,r)}}_registerConverters(e){const{conversion:r,plugins:s}=this.editor,l=s.get(Ju),f=s.get(Sl);r.for("dataDowncast").add(b=>{b.on(`attribute:uploadId:${e}`,(A,S,T)=>{if(!T.consumable.test(S.item,A.name))return;const O=l.loaders.get(S.attributeNewValue);if(!O||!O.data)return null;const P=T.mapper.toViewElement(S.item),W=f.findViewImgElement(P);W&&(T.consumable.consume(S.item,A.name),T.writer.setAttribute("data-ck-upload-id",O.id,W))})})}}function Zq(u,e){const r=u.plugins.get("ImageUtils");return Array.from(u.model.createRangeOn(e)).filter(s=>r.isImage(s.item)).map(s=>s.item)}class Jq extends $t{static get pluginName(){return"ImageUpload"}static get isOfficialPlugin(){return!0}static get requires(){return[Qq,Gq,Yq]}}var XC=a(4642),Ww={attributes:{"data-cke":!0}};Ww.setAttributes=Ut(),Ww.insert=zt().bind(null,"head"),Ww.domAPI=Vt(),Ww.insertStyleElement=jt(),It()(XC.A,Ww),XC.A&&XC.A.locals&&XC.A.locals;var e2=a(3469),Gw={attributes:{"data-cke":!0}};Gw.setAttributes=Ut(),Gw.insert=zt().bind(null,"head"),Gw.domAPI=Vt(),Gw.insertStyleElement=jt(),It()(e2.A,Gw),e2.A&&e2.A.locals&&e2.A.locals;class Xq extends pn{constructor(e,r){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(r.map(s=>{if(s.isDefault)for(const l of s.modelElements)this._defaultStyles[l]=s.name;return[s.name,s]}))}refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled?e.hasAttribute("imageStyle")?this.value=e.getAttribute("imageStyle"):this.value=this._defaultStyles[e.name]:this.value=!1}execute(e={}){const r=this.editor,s=r.model,l=r.plugins.get("ImageUtils");s.change(f=>{const b=e.value,{setImageSizes:A=!0}=e;let S=l.getClosestSelectedImageElement(s.document.selection);b&&this.shouldConvertImageType(b,S)&&(this.editor.execute(l.isBlockImage(S)?"imageTypeInline":"imageTypeBlock",{setImageSizes:A}),S=l.getClosestSelectedImageElement(s.document.selection)),!b||this._styles.get(b).isDefault?f.removeAttribute("imageStyle",S):f.setAttribute("imageStyle",b,S),A&&l.setImageNaturalSizeAttributes(S)})}shouldConvertImageType(e,r){return!this._styles.get(e).modelElements.includes(r.name)}}const t2={get inline(){return{name:"inline",title:"In line",icon:cn.objectInline,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:cn.objectLeft,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:cn.objectBlockLeft,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:cn.objectCenter,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:cn.objectRight,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:cn.objectBlockRight,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:cn.objectCenter,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:cn.objectRight,modelElements:["imageBlock"],className:"image-style-side"}}},J4={full:cn.objectFullWidth,left:cn.objectBlockLeft,right:cn.objectBlockRight,center:cn.objectCenter,inlineLeft:cn.objectLeft,inlineRight:cn.objectRight,inline:cn.objectInline},X4=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function eM(u){q("image-style-configuration-definition-invalid",u)}const XS={normalizeStyles:function(u){return(u.configuredStyles.options||[]).map(r=>function(s){return s=typeof s=="string"?t2[s]?{...t2[s]}:{name:s}:function(l,f){const b={...f};for(const A in l)Object.prototype.hasOwnProperty.call(f,A)||(b[A]=l[A]);return b}(t2[s.name],s),typeof s.icon=="string"&&(s.icon=J4[s.icon]||s.icon),s}(r)).filter(r=>function(s,{isBlockPluginLoaded:l,isInlinePluginLoaded:f}){const{modelElements:b,name:A}=s;if(!(b&&b.length&&A))return eM({style:s}),!1;{const S=[l?"imageBlock":null,f?"imageInline":null];if(!b.some(T=>S.includes(T)))return q("image-style-missing-dependency",{style:s,missingPlugins:b.map(T=>T==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(r,u))},getDefaultStylesConfiguration:function(u,e){return u&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:u?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(u){return u.has("ImageBlockEditing")&&u.has("ImageInlineEditing")?[...X4]:[]},warnInvalidStyle:eM,DEFAULT_OPTIONS:t2,DEFAULT_ICONS:J4,DEFAULT_DROPDOWN_DEFINITIONS:X4};function tM(u,e){for(const r of e)if(r.name===u)return r}class nM extends $t{static get pluginName(){return"ImageStyleEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[Sl]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:r}=XS,s=this.editor,l=s.plugins.has("ImageBlockEditing"),f=s.plugins.has("ImageInlineEditing");s.config.define("image.styles",r(l,f)),this.normalizedStyles=e({configuredStyles:s.config.get("image.styles"),isBlockPluginLoaded:l,isInlinePluginLoaded:f}),this._setupConversion(l,f),this._setupPostFixer(),s.commands.add("imageStyle",new Xq(s,this.normalizedStyles))}_setupConversion(e,r){const s=this.editor,l=s.model.schema,f=(b=this.normalizedStyles,(S,T,O)=>{if(!O.consumable.consume(T.item,S.name))return;const P=tM(T.attributeNewValue,b),W=tM(T.attributeOldValue,b),ee=O.mapper.toViewElement(T.item),ne=O.writer;W&&ne.removeClass(W.className,ee),P&&ne.addClass(P.className,ee)});var b;const A=function(S){const T={imageInline:S.filter(O=>!O.isDefault&&O.modelElements.includes("imageInline")),imageBlock:S.filter(O=>!O.isDefault&&O.modelElements.includes("imageBlock"))};return(O,P,W)=>{if(!P.modelRange)return;const ee=P.viewItem,ne=qo(P.modelRange.getItems());if(ne&&W.schema.checkAttribute(ne,"imageStyle"))for(const le of T[ne.name])W.consumable.consume(ee,{classes:le.className})&&W.writer.setAttribute("imageStyle",le.name,ne)}}(this.normalizedStyles);s.editing.downcastDispatcher.on("attribute:imageStyle",f),s.data.downcastDispatcher.on("attribute:imageStyle",f),e&&(l.extend("imageBlock",{allowAttributes:"imageStyle"}),s.data.upcastDispatcher.on("element:figure",A,{priority:"low"})),r&&(l.extend("imageInline",{allowAttributes:"imageStyle"}),s.data.upcastDispatcher.on("element:img",A,{priority:"low"}))}_setupPostFixer(){const e=this.editor,r=e.model.document,s=e.plugins.get(Sl),l=new Map(this.normalizedStyles.map(f=>[f.name,f]));r.registerPostFixer(f=>{let b=!1;for(const A of r.differ.getChanges())if(A.type=="insert"||A.type=="attribute"&&A.attributeKey=="imageStyle"){let S=A.type=="insert"?A.position.nodeAfter:A.range.start.nodeAfter;if(S&&S.is("element","paragraph")&&S.childCount>0&&(S=S.getChild(0)),!s.isImage(S))continue;const T=S.getAttribute("imageStyle");if(!T)continue;const O=l.get(T);O&&O.modelElements.includes(S.name)||(f.removeAttribute("imageStyle",S),b=!0)}return b})}}var n2=a(6386),Yw={attributes:{"data-cke":!0}};Yw.setAttributes=Ut(),Yw.insert=zt().bind(null,"head"),Yw.domAPI=Vt(),Yw.insertStyleElement=jt(),It()(n2.A,Yw),n2.A&&n2.A.locals&&n2.A.locals;class eV extends $t{static get requires(){return[nM]}static get pluginName(){return"ImageStyleUI"}static get isOfficialPlugin(){return!0}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,r=this.editor.config.get("image.toolbar")||[],s=rM(e.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const f of s)this._createButton(f);const l=rM([...r.filter(Ge),...XS.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const f of l)this._createDropdown(f,s)}_createDropdown(e,r){const s=this.editor.ui.componentFactory;s.add(e.name,l=>{let f;const{defaultItem:b,items:A,title:S}=e,T=A.filter(ee=>r.find(({name:ne})=>iM(ne)===ee)).map(ee=>{const ne=s.create(ee);return ee===b&&(f=ne),ne});A.length!==T.length&&XS.warnInvalidStyle({dropdown:e});const O=fm(l,Q_),P=O.buttonView,W=P.arrowView;return jS(O,T,{enableActiveItemFocusOnDropdownOpen:!0}),P.set({label:oM(S,f.label),class:null,tooltip:!0}),W.unbind("label"),W.set({label:S}),P.bind("icon").toMany(T,"isOn",(...ee)=>{const ne=ee.findIndex(ls);return ne<0?f.icon:T[ne].icon}),P.bind("label").toMany(T,"isOn",(...ee)=>{const ne=ee.findIndex(ls);return oM(S,ne<0?f.label:T[ne].label)}),P.bind("isOn").toMany(T,"isOn",(...ee)=>ee.some(ls)),P.bind("class").toMany(T,"isOn",(...ee)=>ee.some(ls)?"ck-splitbutton_flatten":void 0),P.on("execute",()=>{T.some(({isOn:ee})=>ee)?O.isOpen=!O.isOpen:f.fire("execute")}),O.bind("isEnabled").toMany(T,"isEnabled",(...ee)=>ee.some(ls)),this.listenTo(O,"execute",()=>{this.editor.editing.view.focus()}),O})}_createButton(e){const r=e.name;this.editor.ui.componentFactory.add(iM(r),s=>{const l=this.editor.commands.get("imageStyle"),f=new lr(s);return f.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),f.bind("isEnabled").to(l,"isEnabled"),f.bind("isOn").to(l,"value",b=>b===r),f.on("execute",this._executeCommand.bind(this,r)),f})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function rM(u,e){for(const r of u)e[r.title]&&(r.title=e[r.title]);return u}function iM(u){return`imageStyle:${u}`}function oM(u,e){return(u?u+": ":"")+e}class tV extends $t{static get requires(){return[nM,eV]}static get pluginName(){return"ImageStyle"}static get isOfficialPlugin(){return!0}}class nV extends $t{static get requires(){return[TC,Sl]}static get pluginName(){return"ImageToolbar"}static get isOfficialPlugin(){return!0}afterInit(){const e=this.editor,r=e.t,s=e.plugins.get(TC),l=e.plugins.get("ImageUtils");var f;s.register("image",{ariaLabel:r("Image toolbar"),items:(f=e.config.get("image.toolbar")||[],f.map(b=>Ge(b)?b.name:b)),getRelatedElement:b=>l.getClosestSelectedImageWidget(b)})}}class rV extends $t{static get requires(){return[JS,Sl]}static get pluginName(){return"PictureEditing"}static get isOfficialPlugin(){return!0}afterInit(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),e.plugins.has("ImageInlineEditing")&&e.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const e=this.editor,r=e.conversion,s=e.plugins.get("ImageUtils");r.for("upcast").add(function(l){const f=["srcset","media","type","sizes"],b=(A,S,T)=>{const O=S.viewItem;if(!T.consumable.test(O,{name:!0}))return;const P=new Map;for(const ne of O.getChildren())if(ne.is("element","source")){const le={};for(const Ce of f)ne.hasAttribute(Ce)&&T.consumable.test(ne,{attributes:Ce})&&(le[Ce]=ne.getAttribute(Ce));Object.keys(le).length&&P.set(ne,le)}const W=l.findViewImgElement(O);if(!W)return;let ee=S.modelCursor.parent;if(!ee.is("element","imageBlock")){const ne=T.convertItem(W,S.modelCursor);S.modelRange=ne.modelRange,S.modelCursor=ne.modelCursor,ee=qo(ne.modelRange.getItems())}T.consumable.consume(O,{name:!0});for(const[ne,le]of P)T.consumable.consume(ne,{attributes:Object.keys(le)});P.size&&T.writer.setAttribute("sources",Array.from(P.values()),ee),T.convertChildren(O,ee)};return A=>{A.on("element:picture",b)}}(s)),r.for("downcast").add(function(l){const f=(b,A,S)=>{if(!S.consumable.consume(A.item,b.name))return;const T=S.writer,O=S.mapper.toViewElement(A.item),P=l.findViewImgElement(O),W=A.attributeNewValue;if(W&&W.length){const ee=[];let ne=P.parent;for(;ne&&ne.is("attributeElement");){const je=ne.parent;T.unwrap(T.createRangeOn(P),ne),ee.unshift(ne),ne=je}const le=P.parent.is("element","picture"),Ce=le?P.parent:T.createContainerElement("picture",null);le||T.insert(T.createPositionBefore(P),Ce),T.remove(T.createRangeIn(Ce)),T.insert(T.createPositionAt(Ce,"end"),W.map(je=>T.createEmptyElement("source",je))),T.move(T.createRangeOn(P),T.createPositionAt(Ce,"end"));for(const je of ee)T.wrap(T.createRangeOn(Ce),je)}else if(P.parent.is("element","picture")){const ee=P.parent;T.move(T.createRangeOn(P),T.createPositionBefore(ee)),T.remove(ee)}};return b=>{b.on("attribute:sources:imageBlock",f),b.on("attribute:sources:imageInline",f)}}(s))}_setupImageUploadEditingIntegration(){const e=this.editor;if(!e.plugins.has("ImageUploadEditing"))return;const r=e.plugins.get("ImageUploadEditing");this.listenTo(r,"uploadComplete",(s,{imageElement:l,data:f})=>{const b=f.sources;b&&e.model.change(A=>{A.setAttributes({sources:b},l)})})}}class iV extends $t{static get pluginName(){return"IndentEditing"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.commands.add("indent",new Uc(e)),e.commands.add("outdent",new Uc(e))}}class oV extends $t{static get pluginName(){return"IndentUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,r=e.locale,s=e.t,l=r.uiLanguageDirection=="ltr"?cn.indent:cn.outdent,f=r.uiLanguageDirection=="ltr"?cn.outdent:cn.indent;this._defineButton("indent",s("Increase indent"),l),this._defineButton("outdent",s("Decrease indent"),f)}_defineButton(e,r,s){const l=this.editor;l.ui.componentFactory.add(e,()=>{const f=this._createButton(lr,e,r,s);return f.set({tooltip:!0}),f}),l.ui.componentFactory.add("menuBar:"+e,()=>this._createButton(Et,e,r,s))}_createButton(e,r,s,l){const f=this.editor,b=f.commands.get(r),A=new e(f.locale);return A.set({label:s,icon:l}),A.bind("isEnabled").to(b,"isEnabled"),this.listenTo(A,"execute",()=>{f.execute(r),f.editing.view.focus()}),A}}class sV extends $t{static get pluginName(){return"Indent"}static get isOfficialPlugin(){return!0}static get requires(){return[iV,oV]}}class aV{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(r=>this._definitions.add(r)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(r,s,l)=>{if(!l.consumable.test(s.item,"attribute:linkHref")||!s.item.is("selection")&&!l.schema.isInline(s.item))return;const f=l.writer,b=f.document.selection;for(const A of this._definitions){const S=f.createAttributeElement("a",A.attributes,{priority:5});A.classes&&f.addClass(A.classes,S);for(const T in A.styles)f.setStyle(T,A.styles[T],S);f.setCustomProperty("link",!0,S),A.callback(s.attributeNewValue)?s.item.is("selection")?f.wrap(b.getFirstRange(),S):f.wrap(l.mapper.toViewRange(s.range),S):f.unwrap(l.mapper.toViewRange(s.range),S)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(r,s,{writer:l,mapper:f})=>{const b=f.toViewElement(s.item),A=Array.from(b.getChildren()).find(S=>S.is("element","a"));if(A)for(const S of this._definitions){const T=ie(S.attributes);if(S.callback(s.attributeNewValue)){for(const[O,P]of T)O==="class"?l.addClass(P,A):l.setAttribute(O,P,A);S.classes&&l.addClass(S.classes,A);for(const O in S.styles)l.setStyle(O,S.styles[O],A)}else{for(const[O,P]of T)O==="class"?l.removeClass(P,A):l.removeAttribute(O,A);S.classes&&l.removeClass(S.classes,A);for(const O in S.styles)l.removeStyle(O,A)}}})}}}const lV=function(u,e,r){var s=u.length;return r=r===void 0?s:r,!e&&r>=s?u:ag(u,e,r)};var cV=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const sM=function(u){return cV.test(u)},uV=function(u){return u.split("")};var aM="\\ud800-\\udfff",dV="["+aM+"]",eE="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",tE="\\ud83c[\\udffb-\\udfff]",lM="[^"+aM+"]",cM="(?:\\ud83c[\\udde6-\\uddff]){2}",uM="[\\ud800-\\udbff][\\udc00-\\udfff]",dM="(?:"+eE+"|"+tE+")?",hM="[\\ufe0e\\ufe0f]?",hV=hM+dM+("(?:\\u200d(?:"+[lM,cM,uM].join("|")+")"+hM+dM+")*"),fV="(?:"+[lM+eE+"?",eE,cM,uM,dV].join("|")+")",pV=RegExp(tE+"(?="+tE+")|"+fV+hV,"g");const mV=function(u){return u.match(pV)||[]},gV=function(u){return sM(u)?mV(u):uV(u)},bV=function(u){return function(e){e=Ou(e);var r=sM(e)?gV(e):void 0,s=r?r[0]:e.charAt(0),l=r?lV(r,1).join(""):e.slice(1);return s[u]()+l}}("toUpperCase"),kV=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,wV=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,vV=/^((\w+:(\/{2,})?)|(\W))/i,yV=["https?","ftps?","mailto"],r2="Ctrl+K";function fM(u,{writer:e}){const r=e.createAttributeElement("a",{href:u},{priority:5});return e.setCustomProperty("link",!0,r),r}function pM(u,e=yV){const r=String(u),s=e.join("|");return function(l,f){return!!l.replace(kV,"").match(f)}(r,new RegExp(`${"^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))".replace("<protocols>",s)}`,"i"))?r:"#"}function nE(u,e){return!!u&&e.checkAttribute(u.name,"linkHref")}function rE(u,e){const r=(s=u,wV.test(s)?"mailto:":e);var s;const l=!!r&&!mM(u);return u&&l?r+u:u}function mM(u){return vV.test(u)}function gM(u){window.open(u,"_blank","noopener")}function bM(u){const e=u.plugins.has("BookmarkEditing")?u.plugins.get("BookmarkEditing"):null;return{isScrollableToTarget:function(r){return!!r&&r.startsWith("#")&&!!e&&!!e.getElementForBookmarkId(r.slice(1))},scrollToTarget:function(r){const s=r.slice(1),l=e.getElementForBookmarkId(s);u.model.change(f=>{f.setSelection(l,"on")}),u.editing.view.scrollToTheSelection({alignToTop:!0,forceScroll:!0})}}}class AV extends pn{constructor(){super(...arguments),this.manualDecorators=new So,this.automaticDecorators=new aV}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,r=e.document.selection,s=r.getSelectedElement()||qo(r.getSelectedBlocks());nE(s,e.schema)?(this.value=s.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(s,"linkHref")):(this.value=r.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(r,"linkHref"));for(const l of this.manualDecorators)l.value=this._getDecoratorStateFromModel(l.id)}execute(e,r={}){const s=this.editor.model,l=s.document.selection,f=[],b=[];for(const A in r)r[A]?f.push(A):b.push(A);s.change(A=>{if(l.isCollapsed){const S=l.getFirstPosition();if(l.hasAttribute("linkHref")){const T=kM(l);let O=xC(S,"linkHref",l.getAttribute("linkHref"),s);l.getAttribute("linkHref")===T&&(O=this._updateLinkContent(s,A,O,e)),A.setAttribute("linkHref",e,O),f.forEach(P=>{A.setAttribute(P,!0,O)}),b.forEach(P=>{A.removeAttribute(P,O)}),A.setSelection(A.createPositionAfter(O.end.nodeBefore))}else if(e!==""){const T=ie(l.getAttributes());T.set("linkHref",e),f.forEach(P=>{T.set(P,!0)});const{end:O}=s.insertContent(A.createText(e,T),S);A.setSelection(O)}["linkHref",...f,...b].forEach(T=>{A.removeSelectionAttribute(T)})}else{const S=s.schema.getValidRanges(l.getRanges(),"linkHref"),T=[];for(const P of l.getSelectedBlocks())s.schema.checkAttribute(P,"linkHref")&&T.push(A.createRangeOn(P));const O=T.slice();for(const P of S)this._isRangeToUpdate(P,T)&&O.push(P);for(const P of O){let W=P;if(O.length===1){const ee=kM(l);l.getAttribute("linkHref")===ee&&(W=this._updateLinkContent(s,A,P,e),A.setSelection(A.createSelection(W)))}A.setAttribute("linkHref",e,W),f.forEach(ee=>{A.setAttribute(ee,!0,W)}),b.forEach(ee=>{A.removeAttribute(ee,W)})}}})}_getDecoratorStateFromModel(e){const r=this.editor.model,s=r.document.selection,l=s.getSelectedElement();return nE(l,r.schema)?l.getAttribute(e):s.getAttribute(e)}_isRangeToUpdate(e,r){for(const s of r)if(s.containsRange(e))return!1;return!0}_updateLinkContent(e,r,s,l){const f=r.createText(l,{linkHref:l});return e.insertContent(f,s)}}function kM(u){if(u.isCollapsed){const e=u.getFirstPosition();return e.textNode&&e.textNode.data}{const e=Array.from(u.getFirstRange().getItems());if(e.length>1)return null;const r=e[0];return r.is("$text")||r.is("$textProxy")?r.data:null}}class _V extends pn{refresh(){const e=this.editor.model,r=e.document.selection,s=r.getSelectedElement();nE(s,e.schema)?this.isEnabled=e.schema.checkAttribute(s,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(r,"linkHref")}execute(){const e=this.editor,r=this.editor.model,s=r.document.selection,l=e.commands.get("link");r.change(f=>{const b=s.isCollapsed?[xC(s.getFirstPosition(),"linkHref",s.getAttribute("linkHref"),r)]:r.schema.getValidRanges(s.getRanges(),"linkHref");for(const A of b)if(f.removeAttribute("linkHref",A),l)for(const S of l.manualDecorators)f.removeAttribute(S.id,A)})}}class CV extends Ae(){constructor({id:e,label:r,attributes:s,classes:l,styles:f,defaultValue:b}){super(),this.id=e,this.set("value",void 0),this.defaultValue=b,this.label=r,this.attributes=s,this.classes=l,this.styles=f}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var i2=a(7719),Kw={attributes:{"data-cke":!0}};Kw.setAttributes=Ut(),Kw.insert=zt().bind(null,"head"),Kw.domAPI=Vt(),Kw.insertStyleElement=jt(),It()(i2.A,Kw),i2.A&&i2.A.locals&&i2.A.locals;const wM="automatic",xV=/^(https?:)?\/\//;class vM extends $t{static get pluginName(){return"LinkEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[zT,NT,Qu]}constructor(e){super(e),e.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1})}init(){const e=this.editor,r=this.editor.config.get("link.allowedProtocols");e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:fM}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(l,f)=>fM(pM(l,r),f)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:l=>l.getAttribute("href")}}),e.commands.add("link",new AV(e)),e.commands.add("unlink",new _V(e));const s=function(l,f){const b={"Open in a new tab":l("Open in a new tab"),Downloadable:l("Downloadable")};return f.forEach(A=>("label"in A&&b[A.label]&&(A.label=b[A.label]),A)),f}(e.t,function(l){const f=[];if(l)for(const[b,A]of Object.entries(l)){const S=Object.assign({},A,{id:`link${bV(b)}`});f.push(S)}return f}(e.config.get("link.decorators")));this._enableAutomaticDecorators(s.filter(l=>l.mode===wM)),this._enableManualDecorators(s.filter(l=>l.mode==="manual")),e.plugins.get(zT).registerAttribute("linkHref"),function(l,f,b,A){const S=l.editing.view,T=new Set;S.document.registerPostFixer(O=>{const P=l.model.document.selection;let W=!1;if(P.hasAttribute(f)){const ee=xC(P.getFirstPosition(),f,P.getAttribute(f),l.model),ne=l.editing.mapper.toViewRange(ee);for(const le of ne.getItems())le.is("element",b)&&!le.hasClass(A)&&(O.addClass(A,le),T.add(le),W=!0)}return W}),l.conversion.for("editingDowncast").add(O=>{function P(){S.change(W=>{for(const ee of T.values())W.removeClass(A,ee),T.delete(ee)})}O.on("insert",P,{priority:"highest"}),O.on("remove",P,{priority:"highest"}),O.on("attribute",P,{priority:"highest"}),O.on("selection",P,{priority:"highest"})})}(e,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const r=this.editor,s=r.commands.get("link").automaticDecorators;r.config.get("link.addTargetToExternalLinks")&&s.add({id:"linkIsExternal",mode:wM,callback:l=>!!l&&xV.test(l),attributes:{target:"_blank",rel:"noopener noreferrer"}}),s.add(e),s.length&&r.conversion.for("downcast").add(s.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const r=this.editor,s=r.commands.get("link").manualDecorators;e.forEach(l=>{r.model.schema.extend("$text",{allowAttributes:l.id});const f=new CV(l);s.add(f),r.conversion.for("downcast").attributeToElement({model:f.id,view:(b,{writer:A,schema:S},{item:T})=>{if((T.is("selection")||S.isInline(T))&&b){const O=A.createAttributeElement("a",f.attributes,{priority:5});f.classes&&A.addClass(f.classes,O);for(const P in f.styles)A.setStyle(P,f.styles[P],O);return A.setCustomProperty("link",!0,O),O}}}),r.conversion.for("upcast").elementToAttribute({view:{name:"a",...f._createPattern()},model:{key:f.id}})})}_enableLinkOpen(){const e=this.editor,r=e.editing.view.document,s=bM(e);function l(f){s.isScrollableToTarget(f)?s.scrollToTarget(f):gM(f)}this.listenTo(r,"click",(f,b)=>{if(!(v.isMac?b.domEvent.metaKey:b.domEvent.ctrlKey))return;let A=b.domTarget;if(A.tagName.toLowerCase()!="a"&&(A=A.closest("a")),!A)return;const S=A.getAttribute("href");S&&(f.stop(),b.preventDefault(),l(S))},{context:"$capture"}),this.listenTo(r,"keydown",(f,b)=>{const A=e.commands.get("link").value;A&&b.keyCode===ln.enter&&b.altKey&&(f.stop(),l(A))})}_enableSelectionAttributesFixer(){const e=this.editor.model,r=e.document.selection;this.listenTo(r,"change:attribute",(s,{attributeKeys:l})=>{l.includes("linkHref")&&!r.hasAttribute("linkHref")&&e.change(f=>{var b;(function(A,S){A.removeSelectionAttribute("linkHref");for(const T of S)A.removeSelectionAttribute(T)})(f,(b=e.schema,b.getDefinition("$text").allowAttributes.filter(A=>A.startsWith("link"))))})})}_enableClipboardIntegration(){const e=this.editor,r=e.model,s=this.editor.config.get("link.defaultProtocol");s&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(l,f)=>{r.change(b=>{const A=b.createRangeIn(f.content);for(const S of A.getItems())if(S.hasAttribute("linkHref")){const T=rE(S.getAttribute("linkHref"),s);b.setAttribute("linkHref",T,S)}})})}}var o2=a(3817),Qw={attributes:{"data-cke":!0}};Qw.setAttributes=Ut(),Qw.insert=zt().bind(null,"head"),Qw.domAPI=Vt(),Qw.insertStyleElement=jt(),It()(o2.A,Qw),o2.A&&o2.A.locals&&o2.A.locals;class SV extends un{constructor(e,r,s){super(e),this.focusTracker=new Ji,this.keystrokes=new K,this._focusables=new rt;const l=e.t;this._validators=s,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(l("Save"),cn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(l("Cancel"),cn.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(r),this.children=this._createFormChildren(r.manualDecorators),this._focusCycler=new Sa({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const f=["ck","ck-link-form","ck-responsive-form"];r.manualDecorators.length&&f.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:f,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,r)=>(e[r.name]=r.isOn,e),{})}render(){super.render(),ri({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(const e of this._validators){const r=e(this);if(r)return this.urlInputView.errorText=r,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null}_createUrlInput(){const e=this.locale.t,r=new O_(this.locale,X_);return r.fieldView.inputMode="url",r.label=e("Link URL"),r}_createButton(e,r,s,l){const f=new lr(this.locale);return f.set({label:e,icon:r,tooltip:!0}),f.extendTemplate({attributes:{class:s}}),l&&f.delegate("execute").to(this,l),f}_createManualDecoratorSwitches(e){const r=this.createCollection();for(const s of e.manualDecorators){const l=new Sn(this.locale);l.set({name:s.id,label:s.label,withText:!0}),l.bind("isOn").toMany([s,e],"value",(f,b)=>b===void 0&&f===void 0?!!s.defaultValue:!!f),l.on("execute",()=>{s.set("value",!l.isOn)}),r.add(l)}return r}_createFormChildren(e){const r=this.createCollection();if(r.add(this.urlInputView),e.length){const s=new un;s.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(l=>({tag:"li",children:[l],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),r.add(s)}return r.add(this.saveButtonView),r.add(this.cancelButtonView),r}get url(){const{element:e}=this.urlInputView.fieldView;return e?e.value.trim():null}}var s2=a(8762),Zw={attributes:{"data-cke":!0}};Zw.setAttributes=Ut(),Zw.insert=zt().bind(null,"head"),Zw.domAPI=Vt(),Zw.insertStyleElement=jt(),It()(s2.A,Zw),s2.A&&s2.A.locals&&s2.A.locals;class EV extends un{constructor(e,r={},s){super(e),this.focusTracker=new Ji,this.keystrokes=new K,this._focusables=new rt;const l=e.t;this._options=s,this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(l("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(l("Edit link"),cn.pencil,"edit"),this.set("href",void 0),this._linkConfig=r,this._focusCycler=new Sa({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,r,s){const l=new lr(this.locale);return l.set({label:e,icon:r,tooltip:!0}),l.delegate("execute").to(this,s),l}_createPreviewButton(){const e=new lr(this.locale),r=this.bindTemplate,s=this.t;return e.set({withText:!0}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:r.to("href",l=>l&&pM(l,this._linkConfig.allowedProtocols)),target:"_blank",rel:"noopener noreferrer"},on:{click:r.to(l=>{this._options&&this._options.isScrollableToTarget(this.href)?(l.preventDefault(),this._options.scrollToTarget(this.href)):gM(this.href)})}}),e.bind("tooltip").to(this,"href",l=>this._options&&this._options.isScrollableToTarget(l)?s("Scroll to target"):s("Open link in new tab")),e.bind("label").to(this,"href",l=>l||s("This link has no URL")),e.bind("isEnabled").to(this,"href",l=>!!l),e.template.tag="a",e}}const Uh="link-ui";class DV extends $t{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[uC]}static get pluginName(){return"LinkUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,r=this.editor.t;e.editing.view.addObserver(s0),this._balloon=e.plugins.get(uC),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:Uh,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:Uh,view:(s,{writer:l})=>{if(!s.markerRange.isCollapsed)return null;const f=l.createUIElement("span");return l.addClass(["ck-fake-link-selection","ck-fake-link-selection_collapsed"],f),f}}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:r("Create link"),keystroke:r2},{label:r("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,r=new EV(e.locale,e.config.get("link"),bM(e)),s=e.commands.get("link"),l=e.commands.get("unlink");return r.bind("href").to(s,"value"),r.editButtonView.bind("isEnabled").to(s),r.unlinkButtonView.bind("isEnabled").to(l),this.listenTo(r,"edit",()=>{this._addFormView()}),this.listenTo(r,"unlink",()=>{e.execute("unlink"),this._hideUI()}),r.keystrokes.set("Esc",(f,b)=>{this._hideUI(),b()}),r.keystrokes.set(r2,(f,b)=>{this._addFormView(),b()}),r}_createFormView(){const e=this.editor,r=e.commands.get("link"),s=e.config.get("link.defaultProtocol"),l=new(Zl(SV))(e.locale,r,function(f){const b=f.t,A=f.config.get("link.allowCreatingEmptyLinks");return[S=>{if(!A&&!S.url.length)return b("Link URL must not be empty.")}]}(e));return l.urlInputView.fieldView.bind("value").to(r,"value"),l.urlInputView.bind("isEnabled").to(r,"isEnabled"),l.saveButtonView.bind("isEnabled").to(r,"isEnabled"),this.listenTo(l,"submit",()=>{if(l.isValid()){const{value:f}=l.urlInputView.fieldView.element,b=rE(f,s);e.execute("link",b,l.getDecoratorSwitchesState()),this._closeFormView()}}),this.listenTo(l.urlInputView,"change:errorText",()=>{e.ui.update()}),this.listenTo(l,"cancel",()=>{this._closeFormView()}),l.keystrokes.set("Esc",(f,b)=>{this._closeFormView(),b()}),l}_createToolbarLinkButton(){const e=this.editor;e.ui.componentFactory.add("link",()=>{const r=this._createButton(lr);return r.set({tooltip:!0}),r}),e.ui.componentFactory.add("menuBar:link",()=>{const r=this._createButton(Et);return r.set({role:"menuitemcheckbox"}),r})}_createButton(e){const r=this.editor,s=r.locale,l=r.commands.get("link"),f=new e(r.locale),b=s.t;return f.set({label:b("Link"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',keystroke:r2,isToggleable:!0}),f.bind("isEnabled").to(l,"isEnabled"),f.bind("isOn").to(l,"value",A=>!!A),this.listenTo(f,"execute",()=>this._showUI(!0)),f}_enableBalloonActivators(){const e=this.editor,r=e.editing.view.document;this.listenTo(r,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(r2,(s,l)=>{l(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,r)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),r())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,r)=>{this._isUIVisible&&(this._hideUI(),r())}),Ql({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.fieldView.value=e.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,r=e.editing.view.document;let s=this._getSelectedLinkElement(),l=b();const f=()=>{const A=this._getSelectedLinkElement(),S=b();s&&!A||!s&&S!==l?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),s=A,l=S};function b(){return r.selection.focus.getAncestors().reverse().find(A=>A.is("element"))}this.listenTo(e.ui,"update",f),this.listenTo(this._balloon,"change:visibleView",f)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,r=this.editor.model,s=e.document;let l;if(r.markers.has(Uh)){const f=Array.from(this.editor.editing.mapper.markerNameToElements(Uh)),b=e.createRange(e.createPositionBefore(f[0]),e.createPositionAfter(f[f.length-1]));l=e.domConverter.viewRangeToDom(b)}else l=()=>{const f=this._getSelectedLinkElement();return f?e.domConverter.mapViewToDom(f):e.domConverter.viewRangeToDom(s.selection.getFirstRange())};return{target:l}}_getSelectedLinkElement(){const e=this.editor.editing.view,r=e.document.selection,s=r.getSelectedElement();if(r.isCollapsed||s&&Yo(s))return iE(r.getFirstPosition());{const l=r.getFirstRange().getTrimmed(),f=iE(l.start),b=iE(l.end);return f&&f==b&&e.createRangeIn(f).getTrimmed().isEqual(l)?f:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(r=>{const s=e.document.selection.getFirstRange();if(e.markers.has(Uh))r.updateMarker(Uh,{range:s});else if(s.start.isAtEnd){const l=s.start.getLastMatchingPosition(({item:f})=>!e.schema.isContent(f),{boundaries:s});r.addMarker(Uh,{usingOperation:!1,affectsData:!1,range:r.createRange(l,s.end)})}else r.addMarker(Uh,{usingOperation:!1,affectsData:!1,range:s})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(Uh)&&e.change(r=>{r.removeMarker(Uh)})}}function iE(u){return u.getAncestors().find(e=>{return(r=e).is("attributeElement")&&!!r.getCustomProperty("link");var r})||null}const yM=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class IV extends $t{static get requires(){return[Xf,vM]}static get pluginName(){return"AutoLink"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(e,r){return r.textNode&&r.textNode.hasAttribute("linkHref")?xC(r,"linkHref",r.textNode.getAttribute("linkHref"),e):null}_selectEntireLinks(e,r){const s=this.editor.model,l=s.document.selection,f=l.getFirstPosition(),b=l.getLastPosition();let A=r.getJoined(this._expandLinkRange(s,f)||r);A&&(A=A.getJoined(this._expandLinkRange(s,b)||r)),A&&(A.start.isBefore(f)||A.end.isAfter(b))&&e.setSelection(A)}_enablePasteLinking(){const e=this.editor,r=e.model,s=r.document.selection,l=e.plugins.get("ClipboardPipeline"),f=e.commands.get("link");l.on("inputTransformation",(b,A)=>{if(!this.isEnabled||!f.isEnabled||s.isCollapsed||A.method!=="paste"||s.rangeCount>1)return;const S=s.getFirstRange(),T=A.dataTransfer.getData("text/plain");if(!T)return;const O=T.match(yM);O&&O[2]===T&&(r.change(P=>{this._selectEntireLinks(P,S),f.execute(T)}),b.stop())},{priority:"high"})}_enableTypingHandling(){const e=this.editor,r=new RT(e.model,s=>{let l=s;if(!function(b){return b.length>4&&b[b.length-1]===" "&&b[b.length-2]!==" "}(l))return;l=l.slice(0,-1),"!.:,;?".includes(l[l.length-1])&&(l=l.slice(0,-1));const f=AM(l);return f?{url:f,removedTrailingCharacters:s.length-l.length}:void 0});r.on("matched:data",(s,l)=>{const{batch:f,range:b,url:A,removedTrailingCharacters:S}=l;if(!f.isTyping)return;const T=b.end.getShiftedBy(-S),O=T.getShiftedBy(-A.length),P=e.model.createRange(O,T);this._applyAutoLink(A,P)}),r.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,r=e.model,s=e.commands.get("enter");s&&s.on("execute",()=>{const l=r.document.selection.getFirstPosition();if(!l.parent.previousSibling)return;const f=r.createRangeIn(l.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(f)})}_enableShiftEnterHandling(){const e=this.editor,r=e.model,s=e.commands.get("shiftEnter");s&&s.on("execute",()=>{const l=r.document.selection.getFirstPosition(),f=r.createRange(r.createPositionAt(l.parent,0),l.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(f)})}_checkAndApplyAutoLinkOnRange(e){const r=this.editor.model,{text:s,range:l}=PT(e,r),f=AM(s);if(f){const b=r.createRange(l.end.getShiftedBy(-f.length),l.end);this._applyAutoLink(f,b)}}_applyAutoLink(e,r){const s=this.editor.model,l=rE(e,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(f,b){return b.schema.checkAttributeInSelection(b.createSelection(f),"linkHref")}(r,s)&&mM(l)&&!function(f){const b=f.start.nodeAfter;return!!b&&b.hasAttribute("linkHref")}(r)&&this._persistAutoLink(l,r)}_persistAutoLink(e,r){const s=this.editor.model,l=this.editor.plugins.get("Delete");s.enqueueChange(f=>{f.setAttribute("linkHref",e,r),s.enqueueChange(()=>{l.requestUndoOnBackspace()})})}}function AM(u){const e=yM.exec(u);return e?e[2]:null}class TV extends $t{static get requires(){return[vM,DV,IV]}static get pluginName(){return"Link"}static get isOfficialPlugin(){return!0}}var a2=a(4808),Jw={attributes:{"data-cke":!0}};Jw.setAttributes=Ut(),Jw.insert=zt().bind(null,"head"),Jw.domAPI=Vt(),Jw.insertStyleElement=jt(),It()(a2.A,Jw),a2.A&&a2.A.locals&&a2.A.locals;class Xu{constructor(e,r){this._startElement=e,this._referenceIndent=e.getAttribute("listIndent"),this._isForward=r.direction=="forward",this._includeSelf=!!r.includeSelf,this._sameAttributes=ar(r.sameAttributes||[]),this._sameIndent=!!r.sameIndent,this._lowerIndent=!!r.lowerIndent,this._higherIndent=!!r.higherIndent}static first(e,r){return qo(new this(e,r)[Symbol.iterator]())}*[Symbol.iterator](){const e=[];for(const{node:r}of new Xw(this._getStartNode(),this._isForward?"forward":"backward")){const s=r.getAttribute("listIndent");if(s<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=s}else if(s>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){e.push(r);continue}}else{if(!this._sameIndent){if(this._higherIndent){e.length&&(yield*e,e.length=0);break}continue}if(this._sameAttributes.some(l=>r.getAttribute(l)!==this._startElement.getAttribute(l)))break}e.length&&(yield*e,e.length=0),yield r}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}class Xw{constructor(e,r="forward"){this._previousNodesByIndent=[],this._previous=null,this._previousNodeIndent=null,this._node=e,this._isForward=r==="forward"}[Symbol.iterator](){return this}next(){if(!Ns(this._node))return{done:!0,value:void 0};const e=this._node.getAttribute("listIndent");let r=null;if(this._previous){const l=this._previousNodeIndent;e>l?this._previousNodesByIndent[l]=this._previous:e<l?(r=this._previousNodesByIndent[e]||null,this._previousNodesByIndent.length=e):r=this._previous}const s={node:this._node,previous:this._previous,previousNodeInList:r};return this._previous=this._node,this._previousNodeIndent=e,this._node=this._isForward?this._node.nextSibling:this._node.previousSibling,{value:s,done:!1}}}class MV{constructor(e){this._listHead=e}[Symbol.iterator](){return new Xw(this._listHead)}}class S0{static next(){return ae()}}function Ns(u){return!!u&&u.is("element")&&u.hasAttribute("listItemId")}function oE(u,e={}){return[...wm(u,{...e,direction:"backward"}),...wm(u,{...e,direction:"forward"})]}function wm(u,e={}){const r=e.direction=="forward",s=Array.from(new Xu(u,{...e,includeSelf:r,sameIndent:!0,sameAttributes:"listItemId"}));return r?s:s.reverse()}function _M(u,e){const r=new Xu(u,{sameIndent:!0,sameAttributes:"listType",...e}),s=new Xu(u,{sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward",...e});return[...Array.from(r).reverse(),...s]}function Pg(u){return!Xu.first(u,{sameIndent:!0,sameAttributes:"listItemId"})}function CM(u){return!Xu.first(u,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function ev(u,e={}){u=ar(u);const r=e.withNested!==!1,s=new Set;for(const l of u)for(const f of oE(l,{higherIndent:r}))s.add(f);return Rg(s)}function NV(u){u=ar(u);const e=new Set;for(const r of u)for(const s of _M(r))e.add(s);return Rg(e)}function sE(u,e){const r=wm(u,{direction:"forward"}),s=S0.next();for(const l of r)e.setAttribute("listItemId",s,l);return r}function aE(u,e,r){const s={};for(const[f,b]of e.getAttributes())f.startsWith("list")&&(s[f]=b);const l=wm(u,{direction:"forward"});for(const f of l)r.setAttributes(s,f);return l}function lE(u,e,{expand:r,indentBy:s=1}={}){u=ar(u);const l=r?ev(u):u;for(const f of l){const b=f.getAttribute("listIndent")+s;b<0?l2(f,e):e.setAttribute("listIndent",b,f)}return l}function l2(u,e){u=ar(u);for(const r of u)r.is("element","listItem")&&e.rename(r,"paragraph");for(const r of u)for(const s of r.getAttributeKeys())s.startsWith("list")&&e.removeAttribute(s,r);return u}function tv(u){if(!u.length)return!1;const e=u[0].getAttribute("listItemId");return!!e&&!u.some(r=>r.getAttribute("listItemId")!=e)}function Rg(u){return Array.from(u).filter(e=>e.root.rootName!=="$graveyard").sort((e,r)=>e.index-r.index)}function nv(u){const e=u.document.selection.getSelectedElement();return e&&u.schema.isObject(e)&&u.schema.isBlock(e)?e:null}function cE(u,e){return e.checkChild(u.parent,"listItem")&&e.checkChild(u,"$text")&&!e.isObject(u)}function jV(u){return u=="numbered"||u=="customNumbered"}function OV(u,e,r){return wm(e,{direction:"forward"}).pop().index>u.index?aE(u,e,r):[]}class xM extends pn{constructor(e,r){super(e),this._direction=r}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,r=SM(e.document.selection);e.change(s=>{const l=[];tv(r)&&!Pg(r[0])?(this._direction=="forward"&&l.push(...lE(r,s)),l.push(...sE(r[0],s))):this._direction=="forward"?l.push(...lE(r,s,{expand:!0})):l.push(...function(f,b){const A=ev(f=ar(f)),S=new Set,T=Math.min(...A.map(P=>P.getAttribute("listIndent"))),O=new Map;for(const P of A)O.set(P,Xu.first(P,{lowerIndent:!0}));for(const P of A){if(S.has(P))continue;S.add(P);const W=P.getAttribute("listIndent")-1;if(W<0)l2(P,b);else{if(P.getAttribute("listIndent")==T){const ee=OV(P,O.get(P),b);for(const ne of ee)S.add(ne);if(ee.length)continue}b.setAttribute("listIndent",W,P)}}return Rg(S)}(r,s));for(const f of l){if(!f.hasAttribute("listType"))continue;const b=Xu.first(f,{sameIndent:!0});b&&s.setAttribute("listType",b.getAttribute("listType"),f)}this._fireAfterExecute(l)})}_fireAfterExecute(e){this.fire("afterExecute",Rg(new Set(e)))}_checkEnabled(){let e=SM(this.editor.model.document.selection),r=e[0];if(!r)return!1;if(this._direction=="backward"||tv(e)&&!Pg(e[0]))return!0;e=ev(e),r=e[0];const s=Xu.first(r,{sameIndent:!0});return!!s&&s.getAttribute("listType")==r.getAttribute("listType")}}function SM(u){const e=Array.from(u.getSelectedBlocks()),r=e.findIndex(s=>!Ns(s));return r!=-1&&(e.length=r),e}class c2 extends pn{constructor(e,r,s={}){super(e),this.type=r,this._listWalkerOptions=s.multiLevel?{higherIndent:!0,lowerIndent:!0,sameAttributes:[]}:void 0}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const r=this.editor.model,s=r.document,l=nv(r),f=Array.from(s.selection.getSelectedBlocks()).filter(A=>r.schema.checkAttribute(A,"listType")||cE(A,r.schema)),b=e.forceValue!==void 0?!e.forceValue:this.value;r.change(A=>{if(b){const S=f[f.length-1],T=wm(S,{direction:"forward"}),O=[];T.length>1&&O.push(...sE(T[1],A)),O.push(...l2(f,A)),O.push(...function(P,W){const ee=[];let ne=Number.POSITIVE_INFINITY;for(const{node:le}of new Xw(P.nextSibling)){const Ce=le.getAttribute("listIndent");if(Ce==0)break;Ce<ne&&(ne=Ce);const je=Ce-ne;W.setAttribute("listIndent",je,le),ee.push(le)}return ee}(S,A)),this._fireAfterExecute(O)}else if((l||s.selection.isCollapsed)&&Ns(f[0])){const S=_M(l||f[0],this._listWalkerOptions);for(const T of S)A.setAttributes({...e.additionalAttributes,listType:this.type},T);this._fireAfterExecute(S)}else{const S=[];for(const T of f)if(T.hasAttribute("listType"))for(const O of ev(T,{withNested:!1}))O.getAttribute("listType")!=this.type&&(A.setAttributes({...e.additionalAttributes,listType:this.type},O),S.push(O));else!T.is("element","listItem")&&cE(T,r.schema)&&A.rename(T,"listItem"),A.setAttributes({...e.additionalAttributes,listIndent:0,listItemId:S0.next(),listType:this.type},T),S.push(T);this._fireAfterExecute(S)}})}_fireAfterExecute(e){this.fire("afterExecute",Rg(new Set(e)))}_getValue(){const e=this.editor.model.document.selection,r=Array.from(e.getSelectedBlocks());if(!r.length)return!1;for(const s of r)if(s.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const e=this.editor.model,r=e.schema,s=e.document.selection,l=Array.from(s.getSelectedBlocks());if(!l.length)return!1;if(this.value)return!0;for(const f of l)if(r.checkAttribute(f,"listType")||cE(f,r))return!0;return!1}}class EM extends pn{constructor(e,r){super(e),this._direction=r}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:e=!1}={}){const r=this.editor.model,s=r.document.selection,l=[];r.change(f=>{const{firstElement:b,lastElement:A}=this._getMergeSubjectElements(s,e),S=b.getAttribute("listIndent")||0,T=A.getAttribute("listIndent"),O=A.getAttribute("listItemId");if(S!=T){const W=(P=A,Array.from(new Xu(P,{direction:"forward",higherIndent:!0})));l.push(...lE([A,...W],f,{indentBy:S-T,expand:S<T}))}var P;if(e){let W=s;s.isCollapsed&&(W=f.createSelection(f.createRange(f.createPositionAt(b,"end"),f.createPositionAt(A,0)))),r.deleteContent(W,{doNotResetEntireContent:s.isCollapsed});const ee=W.getLastPosition().parent,ne=ee.nextSibling;l.push(ee),ne&&ne!==A&&ne.getAttribute("listItemId")==O&&l.push(...aE(ne,ee,f))}else l.push(...aE(A,b,f));this._fireAfterExecute(l)})}_fireAfterExecute(e){this.fire("afterExecute",Rg(new Set(e)))}_checkEnabled(){const e=this.editor.model,r=e.document.selection,s=nv(e);if(r.isCollapsed||s){const l=s||r.getFirstPosition().parent;if(!Ns(l))return!1;const f=this._direction=="backward"?l.previousSibling:l.nextSibling;if(!f||tv([l,f]))return!1}else{const l=r.getLastPosition(),f=r.getFirstPosition();if(l.parent===f.parent||!Ns(l.parent))return!1}return!0}_getMergeSubjectElements(e,r){const s=nv(this.editor.model);let l,f;if(e.isCollapsed||s){const b=s||e.getFirstPosition().parent,A=Pg(b);this._direction=="backward"?(f=b,l=A&&!r?Xu.first(b,{sameIndent:!0,lowerIndent:!0}):b.previousSibling):(l=b,f=b.nextSibling)}else l=e.getFirstPosition().parent,f=e.getLastPosition().parent;return{firstElement:l,lastElement:f}}}class DM extends pn{constructor(e,r){super(e),this._direction=r}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change(e=>{const r=sE(this._getStartBlock(),e);this._fireAfterExecute(r)})}_fireAfterExecute(e){this.fire("afterExecute",Rg(new Set(e)))}_checkEnabled(){const e=this.editor.model.document.selection,r=this._getStartBlock();return e.isCollapsed&&Ns(r)&&!Pg(r)}_getStartBlock(){const e=this.editor.model.document.selection.getFirstPosition().parent;return this._direction=="before"?e:e.nextSibling}}class BV extends $t{static get pluginName(){return"ListUtils"}static get isOfficialPlugin(){return!0}expandListBlocksToCompleteList(e){return NV(e)}isFirstBlockOfListItem(e){return Pg(e)}isListItemBlock(e){return Ns(e)}expandListBlocksToCompleteItems(e,r={}){return ev(e,r)}isNumberedListType(e){return jV(e)}}function LV(u){return u.is("element","ol")||u.is("element","ul")}function uE(u){return u.is("element","li")}function PV(u,e,r,s=TM(r,e)){return u.createAttributeElement(IM(r),null,{priority:2*e/100-100,id:s})}function RV(u,e,r){return u.createAttributeElement("li",null,{priority:(2*e+1)/100-100,id:r})}function IM(u){return u=="numbered"||u=="customNumbered"?"ol":"ul"}function TM(u,e){return`list-${u}-${e}`}function Yd(u,e,r){const s=u.nodeBefore;if(Ns(s)){let l=s;for(const{node:f}of new Xw(l,"backward"))if(l=f,r.has(l)||(r.add(l),e.has(s)))return;e.add(l)}else{const l=u.nodeAfter;Ns(l)&&e.add(l)}}function zV(){return(u,e,r)=>{const{writer:s,schema:l}=r;if(!e.modelRange)return;const f=Array.from(e.modelRange.getItems({shallow:!0})).filter(P=>l.checkAttribute(P,"listItemId"));if(!f.length)return;const b=S0.next(),A=function(P){let W=0,ee=P.parent;for(;ee;){if(uE(ee))W++;else{const ne=ee.previousSibling;ne&&uE(ne)&&W++}ee=ee.parent}return W}(e.viewItem);let S=e.viewItem.parent&&e.viewItem.parent.is("element","ol")?"numbered":"bulleted";const T=f[0].getAttribute("listType");T&&(S=T);const O={listItemId:b,listIndent:A,listType:S};for(const P of f)P.hasAttribute("listItemId")||s.setAttributes(O,P);f.length>1&&f[1].getAttribute("listItemId")!=O.listItemId&&r.keepEmptyElement(f[0])}}function MM(u,e,r,{dataPipeline:s}={}){const l=function(f){return(b,A)=>{const S=[];for(const T of f)b.hasAttribute(T)&&S.push(`attribute:${T}`);return!!S.every(T=>A.test(b,T)!==!1)&&(S.forEach(T=>A.consume(b,T)),!0)}}(u);return(f,b,A)=>{const{writer:S,mapper:T,consumable:O}=A,P=b.item;if(!u.includes(b.attributeKey)||!l(P,O))return;const W=function(ne,le,Ce){const je=Ce.createRangeOn(ne);return le.toViewRange(je).getTrimmed().end.nodeBefore}(P,T,r);jM(W,S,T),function(ne,le){let Ce=ne.parent;for(;Ce.is("attributeElement")&&["ul","ol","li"].includes(Ce.name);){const je=Ce.parent;le.unwrap(le.createRangeOn(ne),Ce),Ce=je}}(W,S);const ee=function(ne,le,Ce,je,{dataPipeline:qe}){let tt=je.createRangeOn(le);if(!Pg(ne))return tt;for(const Dt of Ce){if(Dt.scope!="itemMarker")continue;const Nt=Dt.createElement(je,ne,{dataPipeline:qe});if(!Nt||(je.setCustomProperty("listItemMarker",!0,Nt),Dt.canInjectMarkerIntoElement&&Dt.canInjectMarkerIntoElement(ne)?je.insert(je.createPositionAt(le,0),Nt):(je.insert(tt.start,Nt),tt=je.createRange(je.createPositionBefore(Nt),je.createPositionAfter(le))),!Dt.createWrapperElement||!Dt.canWrapElement))continue;const wn=Dt.createWrapperElement(je,ne,{dataPipeline:qe});je.setCustomProperty("listItemWrapper",!0,wn),Dt.canWrapElement(ne)?tt=je.wrap(tt,wn):(tt=je.wrap(je.createRangeOn(Nt),wn),tt=je.createRange(tt.start,je.createPositionAfter(le)))}return tt}(P,W,e,S,{dataPipeline:s});(function(ne,le,Ce,je){if(!ne.hasAttribute("listIndent"))return;const qe=ne.getAttribute("listIndent");let tt=ne;for(let Dt=qe;Dt>=0;Dt--){const Nt=RV(je,Dt,tt.getAttribute("listItemId")),wn=PV(je,Dt,tt.getAttribute("listType"));for(const An of Ce)An.scope!="list"&&An.scope!="item"||!tt.hasAttribute(An.attributeName)||An.setAttributeOnDowncast(je,tt.getAttribute(An.attributeName),An.scope=="list"?wn:Nt);if(le=je.wrap(le,Nt),le=je.wrap(le,wn),Dt==0||(tt=Xu.first(tt,{lowerIndent:!0}),!tt))break}})(P,ee,e,S)}}function NM(u,{dataPipeline:e}={}){return(r,{writer:s})=>{if(!OM(r,u))return null;if(!e)return s.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const l=s.createContainerElement("p");return s.setCustomProperty("dataPipeline:transparentRendering",!0,l),l}}function jM(u,e,r){for(;u.parent.is("attributeElement")&&u.parent.getCustomProperty("listItemWrapper");)e.unwrap(e.createRangeOn(u),u.parent);const s=[];l(e.createPositionBefore(u).getWalker({direction:"backward"})),l(e.createRangeIn(u).getWalker());for(const f of s)e.remove(f);function l(f){for(const{item:b}of f){if(b.is("element")&&r.toModelElement(b))break;b.is("element")&&b.getCustomProperty("listItemMarker")&&s.push(b)}}}function OM(u,e,r=oE(u)){if(!Ns(u))return!1;for(const s of u.getAttributeKeys())if(!s.startsWith("selection:")&&s!="htmlEmptyBlock"&&!e.includes(s))return!1;return r.length<2}var u2=a(1232),rv={attributes:{"data-cke":!0}};rv.setAttributes=Ut(),rv.insert=zt().bind(null,"head"),rv.domAPI=Vt(),rv.insertStyleElement=jt(),It()(u2.A,rv),u2.A&&u2.A.locals&&u2.A.locals;var d2=a(6903),iv={attributes:{"data-cke":!0}};iv.setAttributes=Ut(),iv.insert=zt().bind(null,"head"),iv.domAPI=Vt(),iv.insertStyleElement=jt(),It()(d2.A,iv),d2.A&&d2.A.locals&&d2.A.locals;const h2=["listType","listIndent","listItemId"];class FV extends $t{constructor(e){super(e),this._downcastStrategies=[],e.config.define("list.multiBlock",!0)}static get pluginName(){return"ListEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[SC,Xf,BV,Qu]}init(){const e=this.editor,r=e.model,s=e.config.get("list.multiBlock");if(e.plugins.has("LegacyListEditing"))throw new U("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});r.schema.register("$listItem",{allowAttributes:h2}),s?(r.schema.extend("$container",{allowAttributesOf:"$listItem"}),r.schema.extend("$block",{allowAttributesOf:"$listItem"}),r.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):r.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const l of h2)r.schema.setAttributeProperties(l,{copyOnReplace:!0});e.commands.add("numberedList",new c2(e,"numbered")),e.commands.add("bulletedList",new c2(e,"bulleted")),e.commands.add("customNumberedList",new c2(e,"customNumbered",{multiLevel:!0})),e.commands.add("customBulletedList",new c2(e,"customBulleted",{multiLevel:!0})),e.commands.add("indentList",new xM(e,"forward")),e.commands.add("outdentList",new xM(e,"backward")),e.commands.add("splitListItemBefore",new DM(e,"before")),e.commands.add("splitListItemAfter",new DM(e,"after")),s&&(e.commands.add("mergeListItemBackward",new EM(e,"backward")),e.commands.add("mergeListItemForward",new EM(e,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration()}afterInit(){const e=this.editor.commands,r=e.get("indent"),s=e.get("outdent");r&&r.registerChildCommand(e.get("indentList"),{priority:"high"}),s&&s.registerChildCommand(e.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(e){this._downcastStrategies.push(e)}getListAttributeNames(){return[...h2,...this._downcastStrategies.map(e=>e.attributeName)]}_setupDeleteIntegration(){const e=this.editor,r=e.commands.get("mergeListItemBackward"),s=e.commands.get("mergeListItemForward");this.listenTo(e.editing.view.document,"delete",(l,f)=>{const b=e.model.document.selection;nv(e.model)||e.model.change(()=>{const A=b.getFirstPosition();if(b.isCollapsed&&f.direction=="backward"){if(!A.isAtStart)return;const S=A.parent;if(!Ns(S))return;if(Xu.first(S,{sameAttributes:"listType",sameIndent:!0})||S.getAttribute("listIndent")!==0){if(!r||!r.isEnabled)return;r.execute({shouldMergeOnBlocksContentLevel:BM(e.model,"backward")})}else CM(S)||e.execute("splitListItemAfter"),e.execute("outdentList");f.preventDefault(),l.stop()}else{if(b.isCollapsed&&!b.getLastPosition().isAtEnd||!s||!s.isEnabled)return;s.execute({shouldMergeOnBlocksContentLevel:BM(e.model,"forward")}),f.preventDefault(),l.stop()}})},{context:"li"})}_setupEnterIntegration(){const e=this.editor,r=e.model,s=e.commands,l=s.get("enter");this.listenTo(e.editing.view.document,"enter",(f,b)=>{const A=r.document,S=A.selection.getFirstPosition().parent;if(A.selection.isCollapsed&&Ns(S)&&S.isEmpty&&!b.isSoft){const T=Pg(S),O=CM(S);T&&O?(e.execute("outdentList"),b.preventDefault(),f.stop()):T&&!O?(e.execute("splitListItemAfter"),b.preventDefault(),f.stop()):O&&(e.execute("splitListItemBefore"),b.preventDefault(),f.stop())}},{context:"li"}),this.listenTo(l,"afterExecute",()=>{const f=s.get("splitListItemBefore");f.refresh(),f.isEnabled&&oE(e.model.document.selection.getLastPosition().parent).length===2&&f.execute()})}_setupTabIntegration(){const e=this.editor;this.listenTo(e.editing.view.document,"tab",(r,s)=>{const l=s.shiftKey?"outdentList":"indentList";this.editor.commands.get(l).isEnabled&&(e.execute(l),s.stopPropagation(),s.preventDefault(),r.stop())},{context:"li"})}_setupConversion(){const e=this.editor,r=e.model,s=this.getListAttributeNames(),l=e.config.get("list.multiBlock"),f=l?"paragraph":"listItem";e.conversion.for("upcast").elementToElement({view:"li",model:(T,{writer:O})=>O.createElement(f,{listType:""})}).elementToElement({view:"p",model:(T,{writer:O})=>T.parent&&T.parent.is("element","li")?O.createElement(f,{listType:""}):null,converterPriority:"high"}).add(T=>{T.on("element:li",zV())}),l||e.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),e.conversion.for("editingDowncast").elementToElement({model:f,view:NM(s),converterPriority:"high"}).add(T=>{var O;T.on("attribute",MM(s,this._downcastStrategies,r)),T.on("remove",(O=r.schema,(P,W,ee)=>{const{writer:ne,mapper:le}=ee,Ce=P.name.split(":")[1];if(!O.checkAttribute(Ce,"listItemId"))return;const je=le.toViewPosition(W.position),qe=W.position.getShiftedBy(W.length),tt=le.toViewPosition(qe,{isPhantom:!0}),Dt=ne.createRange(je,tt).getTrimmed().end.nodeBefore;Dt&&jM(Dt,ne,le)}))}),e.conversion.for("dataDowncast").elementToElement({model:f,view:NM(s,{dataPipeline:!0}),converterPriority:"high"}).add(T=>{T.on("attribute",MM(s,this._downcastStrategies,r,{dataPipeline:!0}))});const b=(A=this._downcastStrategies,S=e.editing.view,(T,O)=>{if(O.modelPosition.offset>0)return;const P=O.modelPosition.parent;if(!Ns(P)||!A.some(Ce=>Ce.scope=="itemMarker"&&Ce.canInjectMarkerIntoElement&&Ce.canInjectMarkerIntoElement(P)))return;const W=O.mapper.toViewElement(P),ee=S.createRangeIn(W),ne=ee.getWalker();let le=ee.start;for(const{item:Ce}of ne){if(Ce.is("element")&&O.mapper.toModelElement(Ce)||Ce.is("$textProxy"))break;Ce.is("element")&&Ce.getCustomProperty("listItemMarker")&&(le=S.createPositionAfter(Ce),ne.skip(({previousPosition:je})=>!je.isEqual(le)))}O.viewPosition=le});var A,S;e.editing.mapper.on("modelToViewPosition",b),e.data.mapper.on("modelToViewPosition",b),this.listenTo(r.document,"change:data",function(T,O,P,W){return()=>{const Ce=T.document.differ.getChanges(),je=[],qe=new Set,tt=new Set,Dt=new Set;for(const Nt of Ce)if(Nt.type=="insert"&&Nt.name!="$text")Yd(Nt.position,qe,Dt),Nt.attributes.has("listItemId")?tt.add(Nt.position.nodeAfter):Yd(Nt.position.getShiftedBy(Nt.length),qe,Dt);else if(Nt.type=="remove"&&Nt.attributes.has("listItemId"))Yd(Nt.position,qe,Dt);else if(Nt.type=="attribute"){const wn=Nt.range.start.nodeAfter;P.includes(Nt.attributeKey)?(Yd(Nt.range.start,qe,Dt),Nt.attributeNewValue===null?(Yd(Nt.range.start.getShiftedBy(1),qe,Dt),ne(wn)&&je.push(wn)):tt.add(wn)):Ns(wn)&&ne(wn)&&je.push(wn)}for(const Nt of qe.values())je.push(...ee(Nt,tt));for(const Nt of new Set(je))O.reconvertItem(Nt)};function ee(Ce,je){const qe=[],tt=new Set,Dt=[];for(const{node:Nt,previous:wn}of new Xw(Ce)){if(tt.has(Nt))continue;const An=Nt.getAttribute("listIndent");wn&&An<wn.getAttribute("listIndent")&&(Dt.length=An+1),Dt[An]=Object.fromEntries(Array.from(Nt.getAttributes()).filter(([ro])=>P.includes(ro)));const Xr=wm(Nt,{direction:"forward"});for(const ro of Xr)tt.add(ro),(ne(ro,Xr)||le(ro,Dt,je))&&qe.push(ro)}return qe}function ne(Ce,je){const qe=O.mapper.toViewElement(Ce);if(!qe)return!1;if(W.fire("checkElement",{modelElement:Ce,viewElement:qe}))return!0;if(!Ce.is("element","paragraph")&&!Ce.is("element","listItem"))return!1;const tt=OM(Ce,P,je);return!(!tt||!qe.is("element","p"))||!(tt||!qe.is("element","span"))}function le(Ce,je,qe){if(qe.has(Ce))return!1;const tt=O.mapper.toViewElement(Ce);let Dt=je.length-1;for(let Nt=tt.parent;!Nt.is("editableElement");Nt=Nt.parent){const wn=uE(Nt),An=LV(Nt);if(!An&&!wn)continue;const Xr="checkAttributes:"+(wn?"item":"list");if(W.fire(Xr,{viewElement:Nt,modelAttributes:je[Dt]}))break;if(An&&(Dt--,Dt<0))return!1}return!0}}(r,e.editing,s,this),{priority:"high"}),this.on("checkAttributes:item",(T,{viewElement:O,modelAttributes:P})=>{O.id!=P.listItemId&&(T.return=!0,T.stop())}),this.on("checkAttributes:list",(T,{viewElement:O,modelAttributes:P})=>{O.name==IM(P.listType)&&O.id==TM(P.listType,P.listIndent)||(T.return=!0,T.stop())})}_setupModelPostFixing(){const e=this.editor.model,r=this.getListAttributeNames();e.document.registerPostFixer(s=>function(l,f,b,A){const S=l.document.differ.getChanges(),T=new Set,O=new Set,P=A.editor.config.get("list.multiBlock");let W=!1;for(const ne of S){if(ne.type=="insert"&&ne.name!="$text"){const le=ne.position.nodeAfter;if(!l.schema.checkAttribute(le,"listItemId"))for(const Ce of Array.from(le.getAttributeKeys()))b.includes(Ce)&&(f.removeAttribute(Ce,le),W=!0);Yd(ne.position,O,T),ne.attributes.has("listItemId")||Yd(ne.position.getShiftedBy(ne.length),O,T);for(const{item:Ce,previousPosition:je}of l.createRangeIn(le))Ns(Ce)&&Yd(je,O,T)}else ne.type=="remove"?Yd(ne.position,O,T):ne.type=="attribute"&&b.includes(ne.attributeKey)&&(Yd(ne.range.start,O,T),ne.attributeNewValue===null&&Yd(ne.range.start.getShiftedBy(1),O,T));if(!P&&ne.type=="attribute"&&h2.includes(ne.attributeKey)){const le=ne.range.start.nodeAfter;ne.attributeNewValue===null&&le&&le.is("element","listItem")?(f.rename(le,"paragraph"),W=!0):ne.attributeOldValue===null&&le&&le.is("element")&&le.name!="listItem"&&(f.rename(le,"listItem"),W=!0)}}const ee=new Set;for(const ne of O.values())W=A.fire("postFixer",{listNodes:new MV(ne),listHead:ne,writer:f,seenIds:ee})||W;return W}(e,s,r,this)),this.on("postFixer",(s,{listNodes:l,writer:f})=>{s.return=function(b,A){let S=0,T=-1,O=null,P=!1;for(const{node:W}of b){const ee=W.getAttribute("listIndent");if(ee>S){let ne;O===null?(O=ee-S,ne=S):(O>ee&&(O=ee),ne=ee-O),ne>T+1&&(ne=T+1),A.setAttribute("listIndent",ne,W),P=!0,T=ne}else O=null,S=ee+1,T=ee}return P}(l,f)||s.return},{priority:"high"}),this.on("postFixer",(s,{listNodes:l,writer:f,seenIds:b})=>{s.return=function(A,S,T){const O=new Set;let P=!1;for(const{node:W}of A){if(O.has(W))continue;let ee=W.getAttribute("listType"),ne=W.getAttribute("listItemId");if(S.has(ne)&&(ne=S0.next()),S.add(ne),W.is("element","listItem"))W.getAttribute("listItemId")!=ne&&(T.setAttribute("listItemId",ne,W),P=!0);else for(const le of wm(W,{direction:"forward"}))O.add(le),le.getAttribute("listType")!=ee&&(ne=S0.next(),ee=le.getAttribute("listType")),le.getAttribute("listItemId")!=ne&&(T.setAttribute("listItemId",ne,le),P=!0)}return P}(l,b,f)||s.return},{priority:"high"})}_setupClipboardIntegration(){const e=this.editor.model,r=this.editor.plugins.get("ClipboardPipeline");this.listenTo(e,"insertContent",function(s){return(l,[f,b])=>{const A=f.is("documentFragment")?Array.from(f.getChildren()):[f];if(!A.length)return;const S=(b?s.createSelection(b):s.document.selection).getFirstPosition();let T;if(Ns(S.parent))T=S.parent;else{if(!Ns(S.nodeBefore)||!Ns(S.nodeAfter))return;T=S.nodeBefore}s.change(O=>{const P=T.getAttribute("listType"),W=T.getAttribute("listIndent"),ee=A[0].getAttribute("listIndent")||0,ne=Math.max(W-ee,0);for(const le of A){const Ce=Ns(le);T.is("element","listItem")&&le.is("element","paragraph")&&O.rename(le,"listItem"),O.setAttributes({listIndent:(Ce?le.getAttribute("listIndent"):0)+ne,listItemId:Ce?le.getAttribute("listItemId"):S0.next(),listType:P},le)}})}}(e),{priority:"high"}),this.listenTo(r,"outputTransformation",(s,l)=>{e.change(f=>{const b=Array.from(l.content.getChildren()),A=b[b.length-1];if(b.length>1&&A.is("element")&&A.isEmpty&&b.slice(0,-1).every(Ns)&&f.remove(A),l.method=="copy"||l.method=="cut"){const S=Array.from(l.content.getChildren());tv(S)&&l2(S,f)}})})}_setupAccessibilityIntegration(){const e=this.editor,r=e.t;e.accessibility.addKeystrokeInfoGroup({id:"list",label:r("Keystrokes that can be used in a list"),keystrokes:[{label:r("Increase list item indent"),keystroke:"Tab"},{label:r("Decrease list item indent"),keystroke:"Shift+Tab"}]})}}function BM(u,e){const r=u.document.selection;if(!r.isCollapsed)return!nv(u);if(e==="forward")return!0;const s=r.getFirstPosition().parent,l=s.previousSibling;return!u.schema.isObject(l)&&(!!l.isEmpty||tv([s,l]))}function LM(u,e,r,s){u.ui.componentFactory.add(e,()=>{const l=PM(lr,u,e,r,s);return l.set({tooltip:!0,isToggleable:!0}),l}),u.ui.componentFactory.add(`menuBar:${e}`,()=>{const l=PM(Et,u,e,r,s);return l.set({role:"menuitemcheckbox",isToggleable:!0}),l})}function PM(u,e,r,s,l){const f=e.commands.get(r),b=new u(e.locale);return b.set({label:s,icon:l}),b.bind("isOn","isEnabled").to(f,"value","isEnabled"),b.on("execute",()=>{e.execute(r),e.editing.view.focus()}),b}class UV extends $t{static get pluginName(){return"ListUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor.t;this.editor.ui.componentFactory.has("numberedList")||LM(this.editor,"numberedList",e("Numbered List"),cn.numberedList),this.editor.ui.componentFactory.has("bulletedList")||LM(this.editor,"bulletedList",e("Bulleted List"),cn.bulletedList)}}class qV extends $t{static get requires(){return[FV,UV]}static get pluginName(){return"List"}static get isOfficialPlugin(){return!0}}const VV=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:u,typeAttribute:e,listType:r}of VV);var f2=a(9968),ov={attributes:{"data-cke":!0}};ov.setAttributes=Ut(),ov.insert=zt().bind(null,"head"),ov.domAPI=Vt(),ov.insertStyleElement=jt(),It()(f2.A,ov),f2.A&&f2.A.locals&&f2.A.locals;var p2=a(7141),sv={attributes:{"data-cke":!0}};sv.setAttributes=Ut(),sv.insert=zt().bind(null,"head"),sv.domAPI=Vt(),sv.insertStyleElement=jt(),It()(p2.A,sv),p2.A&&p2.A.locals&&p2.A.locals;var m2=a(8991),av={attributes:{"data-cke":!0}};av.setAttributes=Ut(),av.insert=zt().bind(null,"head"),av.domAPI=Vt(),av.insertStyleElement=jt(),It()(m2.A,av),m2.A&&m2.A.locals&&m2.A.locals;function RM(u,e){const r=(s,l,f)=>{if(!f.consumable.consume(l.item,s.name))return;const b=l.attributeNewValue,A=f.writer,S=f.mapper.toViewElement(l.item),T=[...S.getChildren()].find(P=>P.getCustomProperty("media-content"));A.remove(T);const O=u.getMediaViewElement(A,b,e);A.insert(A.createPositionAt(S,0),O)};return s=>{s.on("attribute:url:media",r)}}function zM(u,e,r,s){return u.createContainerElement("figure",{class:"media"},[e.getMediaViewElement(u,r,s),u.createSlot()])}function FM(u){const e=u.getSelectedElement();return e&&e.is("element","media")?e:null}function UM(u,e,r,s){u.change(l=>{const f=l.createElement("media",{url:e});u.insertObject(f,r,null,{setSelection:"on",findOptimalPosition:s?"auto":void 0})})}class HV extends pn{refresh(){const e=this.editor.model,r=e.document.selection,s=FM(r);this.value=s?s.getAttribute("url"):void 0,this.isEnabled=function(l){const f=l.getSelectedElement();return!!f&&f.name==="media"}(r)||function(l,f){let A=ZT(l,f).start.parent;return A.isEmpty&&!f.schema.isLimit(A)&&(A=A.parent),f.schema.checkChild(A,"media")}(r,e)}execute(e){const r=this.editor.model,s=r.document.selection,l=FM(s);l?r.change(f=>{f.setAttribute("url",e,l)}):UM(r,e,s,!0)}}class $V{constructor(e,r){const s=r.providers,l=r.extraProviders||[],f=new Set(r.removeProviders),b=s.concat(l).filter(A=>{const S=A.name;return S?!f.has(S):(q("media-embed-no-provider-name",{provider:A}),!1)});this.locale=e,this.providerDefinitions=b}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,r,s){return this._getMedia(r).getViewElement(e,s)}_getMedia(e){if(!e)return new qM(this.locale);e=e.trim();for(const r of this.providerDefinitions){const s=r.html,l=ar(r.url);for(const f of l){const b=this._getUrlMatches(e,f);if(b)return new qM(this.locale,e,b,s)}}return null}_getUrlMatches(e,r){let s=e.match(r);if(s)return s;let l=e.replace(/^https?:\/\//,"");return s=l.match(r),s||(l=l.replace(/^www\./,""),s=l.match(r),s||null)}}class qM{constructor(e,r,s,l){this.url=this._getValidUrl(r),this._locale=e,this._match=s,this._previewRenderer=l}getViewElement(e,r){const s={};let l;if(r.renderForEditingView||r.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(s["data-oembed-url"]=this.url),r.renderForEditingView&&(s.class="ck-media__wrapper");const f=this._getPreviewHtml(r);l=e.createRawElement("div",s,(b,A)=>{A.setContentOf(b,f)})}else this.url&&(s.url=this.url),l=e.createEmptyElement(r.elementName,s);return e.setCustomProperty("media-content",!0,l),l}_getPreviewHtml(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const e=new Ja,r=this._locale.t;return e.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',e.viewBox="0 0 64 42",new et({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":r("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(e){return e?e.match(/^https?/)?e:"https://"+e:null}}var g2=a(7048),lv={attributes:{"data-cke":!0}};lv.setAttributes=Ut(),lv.insert=zt().bind(null,"head"),lv.domAPI=Vt(),lv.insertStyleElement=jt(),It()(g2.A,lv),g2.A&&g2.A.locals&&g2.A.locals;class b2 extends $t{static get pluginName(){return"MediaEmbedEditing"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:[/^dailymotion\.com\/video\/(\w+)/,/^dai.ly\/(\w+)/],html:r=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${r[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:r=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${r[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/shorts\/([\w-]+)(?:\?t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:r=>{const s=r[1],l=r[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${s}${l?`?start=${l}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:r=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${r[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:[/^instagram\.com\/p\/(\w+)/,/^instagram\.com\/reel\/(\w+)/]},{name:"twitter",url:[/^twitter\.com/,/^x\.com/]},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new $V(e.locale,e.config.get("mediaEmbed"))}init(){const e=this.editor,r=e.model.schema,s=e.t,l=e.conversion,f=e.config.get("mediaEmbed.previewsInData"),b=e.config.get("mediaEmbed.elementName"),A=this.registry;e.commands.add("mediaEmbed",new HV(e)),r.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),l.for("dataDowncast").elementToStructure({model:"media",view:(S,{writer:T})=>{const O=S.getAttribute("url");return zM(T,A,O,{elementName:b,renderMediaPreview:!!O&&f})}}),l.for("dataDowncast").add(RM(A,{elementName:b,renderMediaPreview:f})),l.for("editingDowncast").elementToStructure({model:"media",view:(S,{writer:T})=>{const O=S.getAttribute("url");return function(P,W,ee){return W.setCustomProperty("media",!0,P),qS(P,W,{label:ee})}(zM(T,A,O,{elementName:b,renderForEditingView:!0}),T,s("media widget"))}}),l.for("editingDowncast").add(RM(A,{elementName:b,renderForEditingView:!0})),l.for("upcast").elementToElement({view:S=>["oembed",b].includes(S.name)&&S.getAttribute("url")?{name:!0}:null,model:(S,{writer:T})=>{const O=S.getAttribute("url");return A.hasMedia(O)?T.createElement("media",{url:O}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(S,{writer:T})=>{const O=S.getAttribute("data-oembed-url");return A.hasMedia(O)?T.createElement("media",{url:O}):null}}).add(S=>{S.on("element:figure",(T,O,P)=>{if(!P.consumable.consume(O.viewItem,{name:!0,classes:"media"}))return;const{modelRange:W,modelCursor:ee}=P.convertChildren(O.viewItem,O.modelCursor);O.modelRange=W,O.modelCursor=ee,qo(W.getItems())||P.consumable.revert(O.viewItem,{name:!0,classes:"media"})})})}}const WV=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class GV extends $t{static get requires(){return[u4,Xf,f4]}static get pluginName(){return"AutoMediaEmbed"}static get isOfficialPlugin(){return!0}constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}init(){const e=this.editor,r=e.model.document,s=e.plugins.get("ClipboardPipeline");this.listenTo(s,"inputTransformation",()=>{const l=r.selection.getFirstRange(),f=ea.fromPosition(l.start);f.stickiness="toPrevious";const b=ea.fromPosition(l.end);b.stickiness="toNext",r.once("change:data",()=>{this._embedMediaBetweenPositions(f,b),f.detach(),b.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(p.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(e,r){const s=this.editor,l=s.plugins.get(b2).registry,f=new la(e,r),b=f.getWalker({ignoreElementEnd:!0});let A="";for(const S of b)S.item.is("$textProxy")&&(A+=S.item.data);if(A=A.trim(),!A.match(WV)||!l.hasMedia(A))return void f.detach();s.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=ea.fromPosition(e),this._timeoutId=p.window.setTimeout(()=>{s.model.change(S=>{this._timeoutId=null,S.remove(f),f.detach();let T=null;this._positionToInsert.root.rootName!=="$graveyard"&&(T=this._positionToInsert),UM(s.model,A,T,!1),this._positionToInsert.detach(),this._positionToInsert=null}),s.plugins.get(Xf).requestUndoOnBackspace()},100)):f.detach()}}var k2=a(5651),cv={attributes:{"data-cke":!0}};cv.setAttributes=Ut(),cv.insert=zt().bind(null,"head"),cv.domAPI=Vt(),cv.insertStyleElement=jt(),It()(k2.A,cv),k2.A&&k2.A.locals&&k2.A.locals;class YV extends un{constructor(e,r){super(r),this.focusTracker=new Ji,this.keystrokes=new K,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView]})}render(){super.render(),ri({view:this}),this.focusTracker.add(this.urlInputView.element),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.urlInputView.focus()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const r=e(this);if(r)return this.urlInputView.errorText=r,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,r=new O_(this.locale,X_),s=r.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),r.label=e("Media URL"),r.infoText=this._urlInputViewInfoDefault,s.inputMode="url",s.on("input",()=>{r.infoText=s.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=s.element.value.trim()}),r}}class KV extends $t{static get requires(){return[b2,L]}static get pluginName(){return"MediaEmbedUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor;e.ui.componentFactory.add("mediaEmbed",()=>{const r=this.editor.locale.t,s=this._createDialogButton(lr);return s.tooltip=!0,s.label=r("Insert media"),s}),e.ui.componentFactory.add("menuBar:mediaEmbed",()=>{const r=this.editor.locale.t,s=this._createDialogButton(Et);return s.label=r("Media"),s})}_createDialogButton(e){const r=this.editor,s=new e(r.locale),l=r.commands.get("mediaEmbed"),f=this.editor.plugins.get("Dialog");return s.icon='<svg viewBox="0 0 22 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.587 1.5c-.612 0-.601-.029-.601.551v14.84c0 .59-.01.559.591.559h18.846c.602 0 .591.03.591-.56V2.052c0-.58.01-.55-.591-.55H1.587Zm.701.971h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-14.24 1h13.008v12H4.467l.029-12Zm-2.208 1h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003l-.029 1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h.974v1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Z"/><path d="M8.374 6.648a.399.399 0 0 1 .395-.4.402.402 0 0 1 .2.049l5.148 2.824a.4.4 0 0 1 0 .7l-5.148 2.824a.403.403 0 0 1-.595-.35V6.648Z"/></svg>',s.bind("isEnabled").to(l,"isEnabled"),s.on("execute",()=>{f.id==="mediaEmbed"?f.hide():this._showDialog()}),s}_showDialog(){const e=this.editor,r=e.plugins.get("Dialog"),s=e.commands.get("mediaEmbed"),l=e.locale.t;if(!this._formView){const f=e.plugins.get(b2).registry;this._formView=new(Zl(YV))(function(b,A){return[S=>{if(!S.url.length)return b("The URL must not be empty.")},S=>{if(!A.hasMedia(S.url))return b("This media URL is not supported.")}]}(e.t,f),e.locale),this._formView.on("submit",()=>this._handleSubmitForm())}r.show({id:"mediaEmbed",title:l("Insert media"),content:this._formView,isModal:!0,onShow:()=>{this._formView.url=s.value||"",this._formView.resetFormStatus(),this._formView.urlInputView.fieldView.select()},actionButtons:[{label:l("Cancel"),withText:!0,onExecute:()=>r.hide()},{label:l("Accept"),class:"ck-button-action",withText:!0,onExecute:()=>this._handleSubmitForm()}]})}_handleSubmitForm(){const e=this.editor,r=e.plugins.get("Dialog");this._formView.isValid()&&(e.execute("mediaEmbed",this._formView.url),r.hide(),e.editing.view.focus())}}var w2=a(70),uv={attributes:{"data-cke":!0}};uv.setAttributes=Ut(),uv.insert=zt().bind(null,"head"),uv.domAPI=Vt(),uv.insertStyleElement=jt(),It()(w2.A,uv),w2.A&&w2.A.locals&&w2.A.locals;class QV extends $t{static get requires(){return[b2,KV,GV,Iw]}static get pluginName(){return"MediaEmbed"}static get isOfficialPlugin(){return!0}}function VM(u){return u!==void 0&&u.endsWith("px")}function E0(u){return u.toFixed(2).replace(/\.?0+$/,"")+"px"}function ZV(u,e,r){if(!u.childCount)return;const s=new sc(u.document),l=function(A,S){const T=S.createRangeIn(A),O=[],P=new Set;for(const W of T.getItems()){if(!W.is("element")||!W.name.match(/^(p|h\d+|li|div)$/))continue;let ee=oH(W);if(ee===void 0||parseFloat(ee)!=0||Array.from(W.getClassNames()).find(ne=>ne.startsWith("MsoList"))||(ee=void 0),W.hasStyle("mso-list")||ee!==void 0&&P.has(ee)){const ne=rH(W);O.push({element:W,id:ne.id,order:ne.order,indent:ne.indent,marginLeft:ee}),ee!==void 0&&P.add(ee)}else P.clear()}return O}(u,s);if(!l.length)return;const f={},b=[];for(const A of l)if(A.indent!==void 0){JV(A)||(b.length=0);const S=`${A.id}:${A.indent}`,T=Math.min(A.indent-1,b.length);if(T<b.length&&b[T].id!==A.id&&(b.length=T),T<b.length-1)b.length=T+1;else{const P=eH(A,e);if(T>b.length-1||b[T].listElement.name!=P.type){T==0&&P.type=="ol"&&A.id!==void 0&&f[S]&&(P.startIndex=f[S]);const W=nH(P,s,r);if(VM(A.marginLeft)&&(T==0||VM(b[T-1].marginLeft))){let ee=A.marginLeft;T>0&&(ee=E0(parseFloat(ee)-parseFloat(b[T-1].marginLeft))),s.setStyle("padding-left",ee,W)}if(b.length==0){const ee=A.element.parent,ne=ee.getChildIndex(A.element)+1;s.insertChild(ne,W,ee)}else{const ee=b[T-1].listItemElements;s.appendChild(W,ee[ee.length-1])}b[T]={...A,listElement:W,listItemElements:[]},T==0&&A.id!==void 0&&(f[S]=P.startIndex||1)}}const O=A.element.name=="li"?A.element:s.createElement("li");s.appendChild(O,b[T].listElement),b[T].listItemElements.push(O),T==0&&A.id!==void 0&&f[S]++,A.element!=O&&s.appendChild(A.element,O),iH(A.element,s),s.removeStyle("text-indent",A.element),s.removeStyle("margin-left",A.element)}else{const S=b.find(T=>T.marginLeft==A.marginLeft);if(S){const T=S.listItemElements;s.appendChild(A.element,T[T.length-1]),s.removeStyle("margin-left",A.element)}else b.length=0}}function JV(u){const e=u.element.previousSibling;return XV(e||u.element.parent)}function XV(u){return u.is("element","ol")||u.is("element","ul")}function eH(u,e){const r=new RegExp(`@list l${u.id}:level${u.indent}\\s*({[^}]*)`,"gi"),s=/mso-level-number-format:([^;]{0,100});/gi,l=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,f=new RegExp(`@list\\s+l${u.id}:level\\d\\s*{[^{]*mso-level-text:"%\\d\\\\.`,"gi"),b=new RegExp(`@list l${u.id}:level\\d\\s*{[^{]*mso-level-number-format:`,"gi"),A=f.exec(e),S=b.exec(e),T=A&&!S,O=r.exec(e);let P="decimal",W="ol",ee=null;if(O&&O[1]){const ne=s.exec(O[1]);if(ne&&ne[1]&&(P=ne[1].trim(),W=P!=="bullet"&&P!=="image"?"ol":"ul"),P==="bullet"){const le=function(Ce){if(Ce.name=="li"&&Ce.parent.name=="ul"&&Ce.parent.hasAttribute("type"))return Ce.parent.getAttribute("type");const je=function(tt){if(tt.getChild(0).is("$text"))return null;for(const Dt of tt.getChildren()){if(!Dt.is("element","span"))continue;const Nt=Dt.getChild(0);if(Nt)return Nt.is("$text")?Nt:Nt.getChild(0)}return null}(Ce);if(!je)return null;const qe=je._data;return qe==="o"?"circle":qe===""?"disc":qe===""?"square":null}(u.element);le&&(P=le)}else{const le=l.exec(O[1]);le&&le[1]&&(ee=parseInt(le[1]))}T&&(W="ol")}return{type:W,startIndex:ee,style:tH(P),isLegalStyleList:T}}function tH(u){if(u.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(u){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return u;default:return null}}function nH(u,e,r){const s=e.createElement(u.type);return u.style&&e.setStyle("list-style-type",u.style,s),u.startIndex&&u.startIndex>1&&e.setAttribute("start",u.startIndex,s),u.isLegalStyleList&&r&&e.addClass("legal-list",s),s}function rH(u){const e=u.getStyle("mso-list");if(e===void 0)return{};const r=e.match(/(^|\s{1,100})l(\d+)/i),s=e.match(/\s{0,100}lfo(\d+)/i),l=e.match(/\s{0,100}level(\d+)/i);return r&&s&&l?{id:r[2],order:s[1],indent:parseInt(l[1])}:{indent:1}}function iH(u,e){const r=new Vo({name:"span",styles:{"mso-list":"Ignore"}}),s=e.createRangeIn(u);for(const l of s)l.type==="elementStart"&&r.match(l.item)&&e.remove(l.item)}function oH(u){const e=u.getStyle("margin-left");return e===void 0||e.endsWith("px")?e:function(r){const s=parseFloat(r);return r.endsWith("pt")?E0(96*s/72):r.endsWith("pc")?E0(12*s*96/72):r.endsWith("in")?E0(96*s):r.endsWith("cm")?E0(96*s/2.54):r.endsWith("mm")?E0(s/10*96/2.54):r}(e)}function sH(u,e){if(!u.childCount)return;const r=new sc(u.document),s=function(f,b){const A=b.createRangeIn(f),S=new Vo({name:/v:(.+)/}),T=[];for(const O of A){if(O.type!="elementStart")continue;const P=O.item,W=P.previousSibling,ee=W&&W.is("element")?W.name:null,ne=["Chart"],le=S.match(P),Ce=P.getAttribute("o:gfxdata"),je=ee==="v:shapetype",qe=Ce&&ne.some(tt=>P.getAttribute("id").includes(tt));le&&Ce&&!je&&!qe&&T.push(O.item.getAttribute("id"))}return T}(u,r);(function(f,b,A){const S=A.createRangeIn(b),T=new Vo({name:"img"}),O=[];for(const P of S)if(P.item.is("element")&&T.match(P.item)){const W=P.item,ee=W.getAttribute("v:shapes")?W.getAttribute("v:shapes").split(" "):[];ee.length&&ee.every(ne=>f.indexOf(ne)>-1)?O.push(W):W.getAttribute("src")||O.push(W)}for(const P of O)A.remove(P)})(s,u,r),function(f,b,A){const S=A.createRangeIn(b),T=[];for(const W of S)if(W.type=="elementStart"&&W.item.is("element","v:shape")){const ee=W.item.getAttribute("id");if(f.includes(ee))continue;O(W.item.parent.getChildren(),ee)||T.push(W.item)}for(const W of T){const ee={src:P(W)};W.hasAttribute("alt")&&(ee.alt=W.getAttribute("alt"));const ne=A.createElement("img",ee);A.insertChild(W.index+1,ne,W.parent)}function O(W,ee){for(const ne of W)if(ne.is("element")&&(ne.name=="img"&&ne.getAttribute("v:shapes")==ee||O(ne.getChildren(),ee)))return!0;return!1}function P(W){for(const ee of W.getChildren())if(ee.is("element")&&ee.getAttribute("src"))return ee.getAttribute("src")}}(s,u,r),function(f,b){const A=b.createRangeIn(f),S=new Vo({name:/v:(.+)/}),T=[];for(const O of A)O.type=="elementStart"&&S.match(O.item)&&T.push(O.item);for(const O of T)b.remove(O)}(u,r);const l=function(f,b){const A=b.createRangeIn(f),S=new Vo({name:"img"}),T=[];for(const O of A)O.item.is("element")&&S.match(O.item)&&O.item.getAttribute("src").startsWith("file://")&&T.push(O.item);return T}(u,r);l.length&&function(f,b,A){if(f.length===b.length)for(let S=0;S<f.length;S++){const T=`data:${b[S].type};base64,${aH(b[S].hex)}`;A.setAttribute("src",T,f[S])}}(l,function(f){if(!f)return[];const b=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,A=new RegExp("(?:("+b.source+"))([\\da-fA-F\\s]+)\\}","g"),S=f.match(A),T=[];if(S)for(const O of S){let P=!1;O.includes("\\pngblip")?P="image/png":O.includes("\\jpegblip")&&(P="image/jpeg"),P&&T.push({hex:O.replace(b,"").replace(/[^\da-fA-F]/g,""),type:P})}return T}(e),r)}function aH(u){return btoa(u.match(/\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join(""))}const lH=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,cH=/xmlns:o="urn:schemas-microsoft-com/i;class uH{constructor(e,r=!1){this.document=e,this.hasMultiLevelListPlugin=r}isActive(e){return lH.test(e)||cH.test(e)}execute(e){const r=new sc(this.document),{body:s,stylesString:l}=e._parsedData;(function(f,b){const A=[];for(const S of b.createRangeIn(f)){const T=S.item;T.is("element","a")&&!T.hasAttribute("href")&&(T.hasAttribute("id")||T.hasAttribute("name"))&&A.push(T)}for(const S of A){const T=S.parent.getChildIndex(S)+1,O=S.getChildren();b.insertChild(T,O,S.parent)}})(s,r),ZV(s,l,this.hasMultiLevelListPlugin),sH(s,e.dataTransfer.getData("text/rtf")),function(f){const b=[],A=new sc(f.document);for(const{item:S}of A.createRangeIn(f))if(S.is("element")){for(const T of S.getClassNames())/\bmso/gi.exec(T)&&A.removeClass(T,S);for(const T of S.getStyleNames())/\bmso/gi.exec(T)&&A.removeStyle(T,S);(S.is("element","w:sdt")||S.is("element","w:sdtpr")&&S.isEmpty||S.is("element","o:p")&&S.isEmpty)&&b.push(S)}for(const S of b){const T=S.parent,O=T.getChildIndex(S);A.insertChild(O,S.getChildren(),T),A.remove(S)}}(s),e.content=s}}function HM(u,e,r,{blockElements:s,inlineObjectElements:l}){let f=r.createPositionAt(u,e=="forward"?"after":"before");return f=f.getLastMatchingPosition(({item:b})=>b.is("element")&&!s.includes(b.name)&&!l.includes(b.name),{direction:e}),e=="forward"?f.nodeAfter:f.nodeBefore}function $M(u,e){return!!u&&u.is("element")&&e.includes(u.name)}const dH=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class hH{constructor(e){this.document=e}isActive(e){return dH.test(e)}execute(e){const r=new sc(this.document),{body:s}=e._parsedData;(function(l,f){for(const b of l.getChildren())if(b.is("element","b")&&b.getStyle("font-weight")==="normal"){const A=l.getChildIndex(b);f.remove(b),f.insertChild(A,b.getChildren(),l)}})(s,r),function(l,f){for(const b of f.createRangeIn(l)){const A=b.item;if(A.is("element","li")){const S=A.getChild(0);S&&S.is("element","p")&&f.unwrapElement(S)}}}(s,r),function(l,f){const b=new Lp(f.document.stylesProcessor),A=new ec(b,{renderingMode:"data"}),S=A.blockElements,T=A.inlineObjectElements,O=[];for(const P of f.createRangeIn(l)){const W=P.item;if(W.is("element","br")){const ee=HM(W,"forward",f,{blockElements:S,inlineObjectElements:T}),ne=HM(W,"backward",f,{blockElements:S,inlineObjectElements:T}),le=$M(ee,S);($M(ne,S)||le)&&O.push(W)}}for(const P of O)P.hasClass("Apple-interchange-newline")?f.remove(P):f.replace(P,f.createElement("p"))}(s,r),e.content=s}}const fH=/<google-sheets-html-origin/i;class pH{constructor(e){this.document=e}isActive(e){return fH.test(e)}execute(e){const r=new sc(this.document),{body:s}=e._parsedData;(function(l,f){for(const b of l.getChildren())if(b.is("element","google-sheets-html-origin")){const A=l.getChildIndex(b);f.remove(b),f.insertChild(A,b.getChildren(),l)}})(s,r),function(l,f){for(const b of l.getChildren())b.is("element","table")&&b.hasAttribute("xmlns")&&f.removeAttribute("xmlns",b)}(s,r),function(l,f){for(const b of l.getChildren())b.is("element","table")&&b.getStyle("width")==="0px"&&f.removeStyle("width",b)}(s,r),function(l,f){for(const b of Array.from(l.getChildren()))b.is("element","style")&&f.remove(b)}(s,r),e.content=s}}function WM(u){return u.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,r)=>r.length===1?" ":Array(r.length+1).join(" ").substr(0,r.length))}function mH(u,e){const r=new DOMParser,s=function(S){return WM(WM(S)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g,"</").replace(/ <o:p><\/o:p>/g,"<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(S){const T="</body>",O="</html>",P=S.indexOf(T);if(P<0)return S;const W=S.indexOf(O,P+T.length);return S.substring(0,P+T.length)+(W>=0?S.substring(W):"")}(u=(u=u.replace(/<!--\[if gte vml 1]>/g,"")).replace(/<o:SmartTagType(?:\s+[^\s>=]+(?:="[^"]*")?)*\s*\/?>/gi,""))),l=r.parseFromString(s,"text/html");(function(S){S.querySelectorAll("span[style*=spacerun]").forEach(T=>{const O=T,P=O.innerText.length||0;O.innerText=Array(P+1).join(" ").substr(0,P)})})(l);const f=l.body.innerHTML,b=function(S,T){const O=new Lp(T),P=new ec(O,{renderingMode:"data"}),W=S.createDocumentFragment(),ee=S.body.childNodes;for(;ee.length>0;)W.appendChild(ee[0]);return P.domToView(W,{skipComments:!0})}(l,e),A=function(S){const T=[],O=[],P=Array.from(S.getElementsByTagName("style"));for(const W of P)W.sheet&&W.sheet.cssRules&&W.sheet.cssRules.length&&(T.push(W.sheet),O.push(W.innerHTML));return{styles:T,stylesString:O.join(" ")}}(l);return{body:b,bodyString:f,styles:A.styles,stylesString:A.stylesString}}class gH extends $t{static get pluginName(){return"PasteFromOffice"}static get isOfficialPlugin(){return!0}static get requires(){return[Qu]}init(){const e=this.editor,r=e.plugins.get("ClipboardPipeline"),s=e.editing.view.document,l=[],f=this.editor.plugins.has("MultiLevelList");l.push(new uH(s,f)),l.push(new hH(s)),l.push(new pH(s)),r.on("inputTransformation",(b,A)=>{if(A._isTransformedWithPasteFromOffice||e.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const S=A.dataTransfer.getData("text/html"),T=l.find(O=>O.isActive(S));T&&(A._parsedData||(A._parsedData=mH(S,s.stylesProcessor)),T.execute(A),A._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}}function Ko(u,e,r,s,l=1){e!=null&&l!=null&&e>l?s.setAttribute(u,e,r):s.removeAttribute(u,r)}function zg(u,e,r={}){const s=u.createElement("tableCell",r);return u.insertElement("paragraph",s),u.insert(s,e),s}function dE(u,e){const r=e.parent.parent,s=parseInt(r.getAttribute("headingColumns")||"0"),{column:l}=u.getCellLocation(e);return!!s&&l<s}function bH(){return u=>{u.on("element:table",(e,r,s)=>{const l=r.viewItem;if(!s.consumable.test(l,{name:!0}))return;const{rows:f,headingRows:b,headingColumns:A}=function(O){let P,W=0;const ee=[],ne=[];let le;for(const Ce of Array.from(O.getChildren())){if(Ce.name!=="tbody"&&Ce.name!=="thead"&&Ce.name!=="tfoot")continue;Ce.name!=="thead"||le||(le=Ce);const je=Array.from(Ce.getChildren()).filter(tt=>tt.is("element","tr"));let qe=null;for(const tt of je){const Dt=Array.from(tt.getChildren()).filter(Nt=>Nt.is("element","td")||Nt.is("element","th"));if(le&&Ce===le||Ce.name==="tbody"&&Dt.length>0&&(qe===null||Dt.length===qe)&&Dt.every(Nt=>Nt.is("element","th")))W++,ee.push(tt);else{ne.push(tt);const Nt=kH(tt);(!P||Nt<P)&&(P=Nt)}qe=Math.max(qe||0,Dt.length)}}return{headingRows:W,headingColumns:P||0,rows:[...ee,...ne]}}(l),S={};A&&(S.headingColumns=A),b&&(S.headingRows=b);const T=s.writer.createElement("table",S);if(s.safeInsert(T,r.modelCursor)){if(s.consumable.consume(l,{name:!0}),f.forEach(O=>s.convertItem(O,s.writer.createPositionAt(T,"end"))),s.convertChildren(l,s.writer.createPositionAt(T,"end")),T.isEmpty){const O=s.writer.createElement("tableRow");s.writer.insert(O,s.writer.createPositionAt(T,"end")),zg(s.writer,s.writer.createPositionAt(O,"end"))}s.updateConversionResult(T,r)}})}}function GM(u){return e=>{e.on(`element:${u}`,(r,s,{writer:l})=>{if(!s.modelRange)return;const f=s.modelRange.start.nodeAfter,b=l.createPositionAt(f,0);if(s.viewItem.isEmpty)return void l.insertElement("paragraph",b);const A=Array.from(f.getChildren());if(A.every(S=>S.is("element","$marker"))){const S=l.createElement("paragraph");l.insert(S,l.createPositionAt(f,0));for(const T of A)l.move(l.createRangeOn(T),l.createPositionAt(S,"end"))}},{priority:"low"})}}function kH(u){let e=0,r=0;const s=Array.from(u.getChildren()).filter(l=>l.name==="th"||l.name==="td");for(;r<s.length&&s[r].name==="th";){const l=s[r];e+=parseInt(l.getAttribute("colspan")||"1"),r++}return e}class _i{constructor(e,r={}){this._jumpedToStartRow=!1,this._table=e,this._startRow=r.row!==void 0?r.row:r.startRow||0,this._endRow=r.row!==void 0?r.row:r.endRow,this._startColumn=r.column!==void 0?r.column:r.startColumn||0,this._endColumn=r.column!==void 0?r.column:r.endColumn,this._includeAllSlots=!!r.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0,value:void 0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let r=null;const s=this._getSpanned();if(s)this._includeAllSlots&&!this._shouldSkipSlot()&&(r=this._formatOutValue(s.cell,s.row,s.column));else{const l=e.getChild(this._cellIndex);if(!l)return this._advanceToNextRow();const f=parseInt(l.getAttribute("colspan")||"1"),b=parseInt(l.getAttribute("rowspan")||"1");(f>1||b>1)&&this._recordSpans(l,b,f),this._shouldSkipSlot()||(r=this._formatOutValue(l)),this._nextCellAtColumn=this._column+f}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,r||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(e,r=this._row,s=this._column){return{done:!1,value:new wH(this,e,r,s)}}_shouldSkipSlot(){const e=this._skipRows.has(this._row),r=this._row<this._startRow,s=this._column<this._startColumn,l=this._endColumn!==void 0&&this._column>this._endColumn;return e||r||s||l}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,r,s){const l={cell:e,row:this._row,column:this._column};for(let f=this._row;f<this._row+r;f++)for(let b=this._column;b<this._column+s;b++)f==this._row&&b==this._column||this._markSpannedCell(f,b,l)}_markSpannedCell(e,r,s){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(r,s)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const e=this._getRowLength(0);for(let r=this._startRow;!this._jumpedToStartRow;r--)e===this._getRowLength(r)&&(this._row=r,this._rowIndex=r,this._jumpedToStartRow=!0)}_getRowLength(e){return[...this._table.getChild(e).getChildren()].reduce((r,s)=>r+parseInt(s.getAttribute("colspan")||"1"),0)}}class wH{constructor(e,r,s,l){this.cell=r,this.row=e._row,this.column=e._column,this.cellAnchorRow=s,this.cellAnchorColumn=l,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function YM(u,e){return(r,{writer:s})=>{const l=r.getAttribute("headingRows")||0,f=s.createContainerElement("table",null,[]),b=s.createContainerElement("figure",{class:"table"},f);l>0&&s.insert(s.createPositionAt(f,"end"),s.createContainerElement("thead",null,s.createSlot(A=>A.is("element","tableRow")&&A.index<l))),l<u.getRows(r)&&s.insert(s.createPositionAt(f,"end"),s.createContainerElement("tbody",null,s.createSlot(A=>A.is("element","tableRow")&&A.index>=l)));for(const{positionOffset:A,filter:S}of e.additionalSlots)s.insert(s.createPositionAt(f,A),s.createSlot(S));return s.insert(s.createPositionAt(f,"after"),s.createSlot(A=>!A.is("element","tableRow")&&!e.additionalSlots.some(({filter:S})=>S(A)))),e.asWidget?function(A,S){return S.setCustomProperty("table",!0,A),qS(A,S,{hasSelectionHandle:!0})}(b,s):b}}function KM(u={}){return(e,{writer:r})=>{const s=e.parent,l=s.parent,f=l.getChildIndex(s),b=new _i(l,{row:f}),A=l.getAttribute("headingRows")||0,S=l.getAttribute("headingColumns")||0;let T=null;for(const O of b)if(O.cell==e){const P=O.row<A||O.column<S?"th":"td";T=u.asWidget?QT(r.createEditableElement(P),r):r.createContainerElement(P);break}return T}}function QM(u={}){return(e,{writer:r})=>{if(!e.parent.is("element","tableCell")||!ZM(e))return null;if(u.asWidget)return r.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const s=r.createContainerElement("p");return r.setCustomProperty("dataPipeline:transparentRendering",!0,s),s}}}function ZM(u){return u.parent.childCount==1&&!function(e){for(const r of e.getAttributeKeys())if(!r.startsWith("selection:")&&r!="htmlEmptyBlock")return!0;return!1}(u)}class vH extends pn{refresh(){const e=this.editor.model,r=e.document.selection,s=e.schema;this.isEnabled=function(l,f){const b=l.getFirstPosition().parent,A=b===b.root?b:b.parent;return f.checkChild(A,"table")}(r,s)}execute(e={}){const r=this.editor,s=r.model,l=r.plugins.get("TableUtils"),f=r.config.get("table.defaultHeadings.rows"),b=r.config.get("table.defaultHeadings.columns");e.headingRows===void 0&&f&&(e.headingRows=f),e.headingColumns===void 0&&b&&(e.headingColumns=b),s.change(A=>{const S=l.createTable(A,e);s.insertObject(S,null,null,{findOptimalPosition:"auto"}),A.setSelection(A.createPositionAt(S.getNodeByPath([0,0,0]),0))})}}class JM extends pn{constructor(e,r={}){super(e),this.order=r.order||"below"}refresh(){const e=this.editor.model.document.selection,r=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=r}execute(){const e=this.editor,r=e.model.document.selection,s=e.plugins.get("TableUtils"),l=this.order==="above",f=s.getSelectionAffectedTableCells(r),b=s.getRowIndexes(f),A=l?b.first:b.last,S=f[0].findAncestor("table");s.insertRows(S,{at:l?A:A+1,copyStructureFromAbove:!l})}}class XM extends pn{constructor(e,r={}){super(e),this.order=r.order||"right"}refresh(){const e=this.editor.model.document.selection,r=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=r}execute(){const e=this.editor,r=e.model.document.selection,s=e.plugins.get("TableUtils"),l=this.order==="left",f=s.getSelectionAffectedTableCells(r),b=s.getColumnIndexes(f),A=l?b.first:b.last,S=f[0].findAncestor("table");s.insertColumns(S,{columns:1,at:l?A:A+1})}}class eN extends pn{constructor(e,r={}){super(e),this.direction=r.direction||"horizontally"}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length===1}execute(){const e=this.editor.plugins.get("TableUtils"),r=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?e.splitCellHorizontally(r,2):e.splitCellVertically(r,2)}}function tN(u,e,r){const{startRow:s,startColumn:l,endRow:f,endColumn:b}=e,A=r.createElement("table"),S=f-s+1;for(let O=0;O<S;O++)r.insertElement("tableRow",A,"end");const T=[...new _i(u,{startRow:s,endRow:f,startColumn:l,endColumn:b,includeAllSlots:!0})];for(const{row:O,column:P,cell:W,isAnchor:ee,cellAnchorRow:ne,cellAnchorColumn:le}of T){const Ce=O-s,je=A.getChild(Ce);if(ee){const qe=r.cloneElement(W);r.append(qe,je),sN(qe,O,P,f,b,r)}else(ne<s||le<l)&&zg(r,r.createPositionAt(je,"end"))}return function(O,P,W,ee,ne){const le=parseInt(P.getAttribute("headingRows")||"0");le>0&&Ko("headingRows",le-W,O,ne,0);const Ce=parseInt(P.getAttribute("headingColumns")||"0");Ce>0&&Ko("headingColumns",Ce-ee,O,ne,0)}(A,u,s,l,r),A}function nN(u,e,r=0){const s=[],l=new _i(u,{startRow:r,endRow:e-1});for(const f of l){const{row:b,cellHeight:A}=f;b<e&&e<=b+A-1&&s.push(f)}return s}function rN(u,e,r){const s=u.parent,l=s.parent,f=s.index,b=e-f,A={},S=parseInt(u.getAttribute("rowspan"))-b;S>1&&(A.rowspan=S);const T=parseInt(u.getAttribute("colspan")||"1");T>1&&(A.colspan=T);const O=f+b,P=[...new _i(l,{startRow:f,endRow:O,includeAllSlots:!0})];let W,ee=null;for(const ne of P){const{row:le,column:Ce,cell:je}=ne;je===u&&W===void 0&&(W=Ce),W!==void 0&&W===Ce&&le===O&&(ee=zg(r,ne.getPositionBefore(),A))}return Ko("rowspan",b,u,r),ee}function iN(u,e){const r=[],s=new _i(u);for(const l of s){const{column:f,cellWidth:b}=l;f<e&&e<=f+b-1&&r.push(l)}return r}function oN(u,e,r,s){const l=r-e,f={},b=parseInt(u.getAttribute("colspan"))-l;b>1&&(f.colspan=b);const A=parseInt(u.getAttribute("rowspan")||"1");A>1&&(f.rowspan=A);const S=zg(s,s.createPositionAfter(u),f);return Ko("colspan",l,u,s),S}function sN(u,e,r,s,l,f){const b=parseInt(u.getAttribute("colspan")||"1"),A=parseInt(u.getAttribute("rowspan")||"1");r+b-1>l&&Ko("colspan",l-r+1,u,f,1),e+A-1>s&&Ko("rowspan",s-e+1,u,f,1)}function hE(u,e){const r=e.getColumns(u),s=new Array(r).fill(0);for(const{column:f}of new _i(u))s[f]++;const l=s.reduce((f,b,A)=>b?f:[...f,A],[]);if(l.length>0){const f=l[l.length-1];return e.removeColumns(u,{at:f}),!0}return!1}function fE(u,e){const r=[],s=e.getRows(u);for(let l=0;l<s;l++)u.getChild(l).isEmpty&&r.push(l);if(r.length>0){const l=r[r.length-1];return e.removeRows(u,{at:l}),!0}return!1}function pE(u,e){hE(u,e)||fE(u,e)}function aN(u,e){const r=Array.from(new _i(u,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));if(r.every(({cellHeight:l})=>l===1))return e.lastRow;const s=r[0].cellHeight-1;return e.lastRow+s}function lN(u,e){const r=Array.from(new _i(u,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));if(r.every(({cellWidth:l})=>l===1))return e.lastColumn;const s=r[0].cellWidth-1;return e.lastColumn+s}class v2 extends pn{constructor(e,r){super(e),this.direction=r.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,r=e.document,s=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(r.selection)[0],l=this.value,f=this.direction;e.change(b=>{const A=f=="right"||f=="down",S=A?s:l,T=A?l:s,O=T.parent;(function(le,Ce,je){cN(le)||(cN(Ce)&&je.remove(je.createRangeIn(Ce)),je.move(je.createRangeIn(le),je.createPositionAt(Ce,"end"))),je.remove(le)})(T,S,b);const P=this.isHorizontal?"colspan":"rowspan",W=parseInt(s.getAttribute(P)||"1"),ee=parseInt(l.getAttribute(P)||"1");b.setAttribute(P,W+ee,S),b.setSelection(b.createRangeIn(S));const ne=this.editor.plugins.get("TableUtils");pE(O.findAncestor("table"),ne)})}_getMergeableCell(){const e=this.editor.model.document,r=this.editor.plugins.get("TableUtils"),s=r.getTableCellsContainingSelection(e.selection)[0];if(!s)return;const l=this.isHorizontal?function(A,S,T){const O=A.parent,P=O.parent,W=S=="right"?A.nextSibling:A.previousSibling,ee=(P.getAttribute("headingColumns")||0)>0;if(!W)return;const ne=S=="right"?A:W,le=S=="right"?W:A,{column:Ce}=T.getCellLocation(ne),{column:je}=T.getCellLocation(le),qe=parseInt(ne.getAttribute("colspan")||"1"),tt=dE(T,ne),Dt=dE(T,le);if(!(ee&&tt!=Dt))return Ce+qe===je?W:void 0}(s,this.direction,r):function(A,S,T){const O=A.parent,P=O.parent,W=P.getChildIndex(O);if(S=="down"&&W===T.getRows(P)-1||S=="up"&&W===0)return null;const ee=parseInt(A.getAttribute("rowspan")||"1"),ne=P.getAttribute("headingRows")||0,le=S=="down"&&W+ee===ne,Ce=S=="up"&&W===ne;if(ne&&(le||Ce))return null;const je=parseInt(A.getAttribute("rowspan")||"1"),qe=S=="down"?W+je:W,tt=[...new _i(P,{endRow:qe})],Dt=tt.find(An=>An.cell===A),Nt=Dt.column,wn=tt.find(({row:An,cellHeight:Xr,column:ro})=>ro===Nt&&(S=="down"?An===qe:qe===An+Xr));return wn&&wn.cell?wn.cell:null}(s,this.direction,r);if(!l)return;const f=this.isHorizontal?"rowspan":"colspan",b=parseInt(s.getAttribute(f)||"1");return parseInt(l.getAttribute(f)||"1")===b?l:void 0}}function cN(u){const e=u.getChild(0);return u.childCount==1&&e.is("element","paragraph")&&e.isEmpty}class yH extends pn{refresh(){const e=this.editor.plugins.get("TableUtils"),r=e.getSelectionAffectedTableCells(this.editor.model.document.selection),s=r[0];if(s){const l=s.findAncestor("table"),f=e.getRows(l)-1,b=e.getRowIndexes(r),A=b.first===0&&b.last===f;this.isEnabled=!A}else this.isEnabled=!1}execute(){const e=this.editor.model,r=this.editor.plugins.get("TableUtils"),s=r.getSelectionAffectedTableCells(e.document.selection),l=r.getRowIndexes(s),f=s[0],b=f.findAncestor("table"),A=r.getCellLocation(f).column;e.change(S=>{const T=l.last-l.first+1;r.removeRows(b,{at:l.first,rows:T});const O=function(P,W,ee,ne){const le=P.getChild(Math.min(W,ne-1));let Ce=le.getChild(0),je=0;for(const qe of le.getChildren()){if(je>ee)return Ce;Ce=qe,je+=parseInt(qe.getAttribute("colspan")||"1")}return Ce}(b,l.first,A,r.getRows(b));S.setSelection(S.createPositionAt(O,0))})}}class AH extends pn{refresh(){const e=this.editor.plugins.get("TableUtils"),r=e.getSelectionAffectedTableCells(this.editor.model.document.selection),s=r[0];if(s){const l=s.findAncestor("table"),f=e.getColumns(l),{first:b,last:A}=e.getColumnIndexes(r);this.isEnabled=A-b<f-1}else this.isEnabled=!1}execute(){const e=this.editor.plugins.get("TableUtils"),[r,s]=function(S,T){const O=T.getSelectionAffectedTableCells(S),P=O[0],W=O.pop(),ee=[P,W];return P.isBefore(W)?ee:ee.reverse()}(this.editor.model.document.selection,e),l=r.parent.parent,f=[...new _i(l)],b={first:f.find(S=>S.cell===r).column,last:f.find(S=>S.cell===s).column},A=function(S,T,O,P){return parseInt(O.getAttribute("colspan")||"1")>1?O:T.previousSibling||O.nextSibling?O.nextSibling||T.previousSibling:P.first?S.reverse().find(({column:ee})=>ee<P.first).cell:S.reverse().find(({column:ee})=>ee>P.last).cell}(f,r,s,b);this.editor.model.change(S=>{const T=b.last-b.first+1;e.removeColumns(l,{at:b.first,columns:T}),S.setSelection(S.createPositionAt(A,0))})}}class _H extends pn{refresh(){const e=this.editor.plugins.get("TableUtils"),r=this.editor.model,s=e.getSelectionAffectedTableCells(r.document.selection),l=s.length>0;this.isEnabled=l,this.value=l&&s.every(f=>this._isInHeading(f,f.parent.parent))}execute(e={}){if(e.forceValue===this.value)return;const r=this.editor.plugins.get("TableUtils"),s=this.editor.model,l=r.getSelectionAffectedTableCells(s.document.selection),f=l[0].findAncestor("table"),{first:b,last:A}=r.getRowIndexes(l),S=this.value?b:A+1,T=f.getAttribute("headingRows")||0;s.change(O=>{if(S){const P=nN(f,S,S>T?T:0);for(const{cell:W}of P)rN(W,S,O)}Ko("headingRows",S,f,O,0)})}_isInHeading(e,r){const s=parseInt(r.getAttribute("headingRows")||"0");return!!s&&e.parent.index<s}}class CH extends pn{refresh(){const e=this.editor.model,r=this.editor.plugins.get("TableUtils"),s=r.getSelectionAffectedTableCells(e.document.selection),l=s.length>0;this.isEnabled=l,this.value=l&&s.every(f=>dE(r,f))}execute(e={}){if(e.forceValue===this.value)return;const r=this.editor.plugins.get("TableUtils"),s=this.editor.model,l=r.getSelectionAffectedTableCells(s.document.selection),f=l[0].findAncestor("table"),{first:b,last:A}=r.getColumnIndexes(l),S=this.value?b:A+1;s.change(T=>{if(S){const O=iN(f,S);for(const{cell:P,column:W}of O)oN(P,W,S,T)}Ko("headingColumns",S,f,T,0)})}}function xH(u){if(u.is("element","tableColumnGroup"))return u;const e=u.getChildren();return Array.from(e).find(r=>r.is("element","tableColumnGroup"))}function SH(u){const e=xH(u);return e?Array.from(e.getChildren()):[]}class Ea extends $t{static get pluginName(){return"TableUtils"}static get isOfficialPlugin(){return!0}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const r=e.parent,s=r.parent,l=s.getChildIndex(r),f=new _i(s,{row:l});for(const{cell:b,row:A,column:S}of f)if(b===e)return{row:A,column:S}}createTable(e,r){const s=e.createElement("table"),l=r.rows||2,f=r.columns||2;return mE(e,s,0,l,f),r.headingRows&&Ko("headingRows",Math.min(r.headingRows,l),s,e,0),r.headingColumns&&Ko("headingColumns",Math.min(r.headingColumns,f),s,e,0),s}insertRows(e,r={}){const s=this.editor.model,l=r.at||0,f=r.rows||1,b=r.copyStructureFromAbove!==void 0,A=r.copyStructureFromAbove?l-1:l,S=this.getRows(e),T=this.getColumns(e);if(l>S)throw new U("tableutils-insertrows-insert-out-of-range",this,{options:r});s.change(O=>{const P=e.getAttribute("headingRows")||0;if(P>l&&Ko("headingRows",P+f,e,O,0),!b&&(l===0||l===S))return void mE(O,e,l,f,T);const W=b?Math.max(l,A):l,ee=new _i(e,{endRow:W}),ne=new Array(T).fill(1);for(const{row:le,column:Ce,cellHeight:je,cellWidth:qe,cell:tt}of ee){const Dt=le+je-1,Nt=le<=A&&A<=Dt;le<l&&l<=Dt?(O.setAttribute("rowspan",je+f,tt),ne[Ce]=-qe):b&&Nt&&(ne[Ce]=qe)}for(let le=0;le<f;le++){const Ce=O.createElement("tableRow");O.insert(Ce,e,l);for(let je=0;je<ne.length;je++){const qe=ne[je],tt=O.createPositionAt(Ce,"end");qe>0&&zg(O,tt,qe>1?{colspan:qe}:void 0),je+=Math.abs(qe)-1}}})}insertColumns(e,r={}){const s=this.editor.model,l=r.at||0,f=r.columns||1;s.change(b=>{const A=e.getAttribute("headingColumns");l<A&&b.setAttribute("headingColumns",A+f,e);const S=this.getColumns(e);if(l===0||S===l){for(const O of e.getChildren())O.is("element","tableRow")&&D0(f,b,b.createPositionAt(O,l?"end":0));return}const T=new _i(e,{column:l,includeAllSlots:!0});for(const O of T){const{row:P,cell:W,cellAnchorColumn:ee,cellAnchorRow:ne,cellWidth:le,cellHeight:Ce}=O;if(ee<l){b.setAttribute("colspan",le+f,W);const je=ne+Ce-1;for(let qe=P;qe<=je;qe++)T.skipRow(qe)}else D0(f,b,O.getPositionBefore())}})}removeRows(e,r){const s=this.editor.model,l=r.rows||1,f=this.getRows(e),b=r.at,A=b+l-1;if(A>f-1)throw new U("tableutils-removerows-row-index-out-of-range",this,{table:e,options:r});s.change(S=>{const T={first:b,last:A},{cellsToMove:O,cellsToTrim:P}=function(W,{first:ee,last:ne}){const le=new Map,Ce=[];for(const{row:je,column:qe,cellHeight:tt,cell:Dt}of new _i(W,{endRow:ne})){const Nt=je+tt-1;if(je>=ee&&je<=ne&&Nt>ne){const wn=tt-(ne-je+1);le.set(qe,{cell:Dt,rowspan:wn})}if(je<ee&&Nt>=ee){let wn;wn=Nt>=ne?ne-ee+1:Nt-ee+1,Ce.push({cell:Dt,rowspan:tt-wn})}}return{cellsToMove:le,cellsToTrim:Ce}}(e,T);O.size&&function(W,ee,ne,le){const Ce=new _i(W,{includeAllSlots:!0,row:ee}),je=[...Ce],qe=W.getChild(ee);let tt;for(const{column:Dt,cell:Nt,isAnchor:wn}of je)if(ne.has(Dt)){const{cell:An,rowspan:Xr}=ne.get(Dt),ro=tt?le.createPositionAfter(tt):le.createPositionAt(qe,0);le.move(le.createRangeOn(An),ro),Ko("rowspan",Xr,An,le),tt=An}else wn&&(tt=Nt)}(e,A+1,O,S);for(let W=A;W>=b;W--)S.remove(e.getChild(W));for(const{rowspan:W,cell:ee}of P)Ko("rowspan",W,ee,S);(function(W,{first:ee,last:ne},le){const Ce=W.getAttribute("headingRows")||0;ee<Ce&&Ko("headingRows",ne<Ce?Ce-(ne-ee+1):ee,W,le,0)})(e,T,S),hE(e,this)||fE(e,this)})}removeColumns(e,r){const s=this.editor.model,l=r.at,f=r.columns||1,b=r.at+f-1;s.change(A=>{(function(T,O,P){const W=T.getAttribute("headingColumns")||0;if(W&&O.first<W){const ee=Math.min(W-1,O.last)-O.first+1;P.setAttribute("headingColumns",W-ee,T)}})(e,{first:l,last:b},A);const S=SH(e);for(let T=b;T>=l;T--){for(const{cell:O,column:P,cellWidth:W}of[...new _i(e)])P<=T&&W>1&&P+W>T?Ko("colspan",W-1,O,A):P===T&&A.remove(O);if(S[T]){const O=T===0?S[1]:S[T-1],P=parseFloat(S[T].getAttribute("columnWidth")),W=parseFloat(O.getAttribute("columnWidth"));A.remove(S[T]),A.setAttribute("columnWidth",P+W+"%",O)}}fE(e,this)||hE(e,this)})}splitCellVertically(e,r=2){const s=this.editor.model,l=e.parent.parent,f=parseInt(e.getAttribute("rowspan")||"1"),b=parseInt(e.getAttribute("colspan")||"1");s.change(A=>{if(b>1){const{newCellsSpan:S,updatedSpan:T}=uN(b,r);Ko("colspan",T,e,A);const O={};S>1&&(O.colspan=S),f>1&&(O.rowspan=f),D0(b>r?r-1:b-1,A,A.createPositionAfter(e),O)}if(b<r){const S=r-b,T=[...new _i(l)],{column:O}=T.find(({cell:ne})=>ne===e),P=T.filter(({cell:ne,cellWidth:le,column:Ce})=>ne!==e&&Ce===O||Ce<O&&Ce+le>O);for(const{cell:ne,cellWidth:le}of P)A.setAttribute("colspan",le+S,ne);const W={};f>1&&(W.rowspan=f),D0(S,A,A.createPositionAfter(e),W);const ee=l.getAttribute("headingColumns")||0;ee>O&&Ko("headingColumns",ee+S,l,A)}})}splitCellHorizontally(e,r=2){const s=this.editor.model,l=e.parent,f=l.parent,b=f.getChildIndex(l),A=parseInt(e.getAttribute("rowspan")||"1"),S=parseInt(e.getAttribute("colspan")||"1");s.change(T=>{if(A>1){const O=[...new _i(f,{startRow:b,endRow:b+A-1,includeAllSlots:!0})],{newCellsSpan:P,updatedSpan:W}=uN(A,r);Ko("rowspan",W,e,T);const{column:ee}=O.find(({cell:Ce})=>Ce===e),ne={};P>1&&(ne.rowspan=P),S>1&&(ne.colspan=S);let le=0;for(const Ce of O){const{column:je,row:qe}=Ce,tt=je===ee;le>=P&&tt&&(le=0),qe>=b+W&&tt&&(le||D0(1,T,Ce.getPositionBefore(),ne),le++)}}if(A<r){const O=r-A,P=[...new _i(f,{startRow:0,endRow:b})];for(const{cell:ne,cellHeight:le,row:Ce}of P)if(ne!==e&&Ce+le>b){const je=le+O;T.setAttribute("rowspan",je,ne)}const W={};S>1&&(W.colspan=S),mE(T,f,b+1,O,1,W);const ee=f.getAttribute("headingRows")||0;ee>b&&Ko("headingRows",ee+O,f,T)}})}getColumns(e){return[...e.getChild(0).getChildren()].filter(r=>r.is("element","tableCell")).reduce((r,s)=>r+parseInt(s.getAttribute("colspan")||"1"),0)}getRows(e){return Array.from(e.getChildren()).reduce((r,s)=>s.is("element","tableRow")?r+1:r,0)}createTableWalker(e,r={}){return new _i(e,r)}getSelectedTableCells(e){const r=[];for(const s of this.sortRanges(e.getRanges())){const l=s.getContainedElement();l&&l.is("element","tableCell")&&r.push(l)}return r}getTableCellsContainingSelection(e){const r=[];for(const s of e.getRanges()){const l=s.start.findAncestor("tableCell");l&&r.push(l)}return r}getSelectionAffectedTableCells(e){const r=this.getSelectedTableCells(e);return r.length?r:this.getTableCellsContainingSelection(e)}getRowIndexes(e){const r=e.map(s=>s.parent.index);return this._getFirstLastIndexesObject(r)}getColumnIndexes(e){const r=e[0].findAncestor("table"),s=[...new _i(r)].filter(l=>e.includes(l.cell)).map(l=>l.column);return this._getFirstLastIndexesObject(s)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;const r=new Set,s=new Set;let l=0;for(const b of e){const{row:A,column:S}=this.getCellLocation(b),T=parseInt(b.getAttribute("rowspan"))||1,O=parseInt(b.getAttribute("colspan"))||1;r.add(A),s.add(S),T>1&&r.add(A+T-1),O>1&&s.add(S+O-1),l+=T*O}return function(b,A){const S=Array.from(b.values()),T=Array.from(A.values()),O=Math.max(...S),P=Math.min(...S),W=Math.max(...T),ee=Math.min(...T);return(O-P+1)*(W-ee+1)}(r,s)==l}sortRanges(e){return Array.from(e).sort(EH)}_getFirstLastIndexesObject(e){const r=e.sort((s,l)=>s-l);return{first:r[0],last:r[r.length-1]}}_areCellInTheSameTableSection(e){const r=e[0].findAncestor("table"),s=this.getRowIndexes(e),l=parseInt(r.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(s,l))return!1;const f=this.getColumnIndexes(e),b=parseInt(r.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(f,b)}_areIndexesInSameSection({first:e,last:r},s){return e<s==r<s}}function mE(u,e,r,s,l,f={}){for(let b=0;b<s;b++){const A=u.createElement("tableRow");u.insert(A,e,r),D0(l,u,u.createPositionAt(A,"end"),f)}}function D0(u,e,r,s={}){for(let l=0;l<u;l++)zg(e,r,s)}function uN(u,e){if(u<e)return{newCellsSpan:1,updatedSpan:1};const r=Math.floor(u/e);return{newCellsSpan:r,updatedSpan:u-r*e+r}}function EH(u,e){const r=u.start,s=e.start;return r.isBefore(s)?-1:1}class DH extends pn{refresh(){const e=this.editor.plugins.get(Ea),r=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(r)}execute(){const e=this.editor.model,r=this.editor.plugins.get(Ea);e.change(s=>{const l=r.getSelectedTableCells(e.document.selection),f=l.shift(),{mergeWidth:b,mergeHeight:A}=function(S,T,O){let P=0,W=0;for(const je of T){const{row:qe,column:tt}=O.getCellLocation(je);P=hN(je,tt,P,"colspan"),W=hN(je,qe,W,"rowspan")}const{row:ee,column:ne}=O.getCellLocation(S),le=P-ne,Ce=W-ee;return{mergeWidth:le,mergeHeight:Ce}}(f,l,r);Ko("colspan",b,f,s),Ko("rowspan",A,f,s);for(const S of l)IH(S,f,s);pE(f.findAncestor("table"),r),s.setSelection(f,"in")})}}function IH(u,e,r){dN(u)||(dN(e)&&r.remove(r.createRangeIn(e)),r.move(r.createRangeIn(u),r.createPositionAt(e,"end"))),r.remove(u)}function dN(u){const e=u.getChild(0);return u.childCount==1&&e.is("element","paragraph")&&e.isEmpty}function hN(u,e,r,s){const l=parseInt(u.getAttribute(s)||"1");return Math.max(r,e+l)}class TH extends pn{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.model,r=this.editor.plugins.get("TableUtils"),s=r.getSelectionAffectedTableCells(e.document.selection),l=r.getRowIndexes(s),f=s[0].findAncestor("table"),b=[];for(let A=l.first;A<=l.last;A++)for(const S of f.getChild(A).getChildren())b.push(e.createRangeOn(S));e.change(A=>{A.setSelection(b)})}}class MH extends pn{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.plugins.get("TableUtils"),r=this.editor.model,s=e.getSelectionAffectedTableCells(r.document.selection),l=s[0],f=s.pop(),b=l.findAncestor("table"),A=e.getCellLocation(l),S=e.getCellLocation(f),T=Math.min(A.column,S.column),O=Math.max(A.column,S.column),P=[];for(const W of new _i(b,{startColumn:T,endColumn:O}))P.push(r.createRangeOn(W.cell));r.change(W=>{W.setSelection(P)})}}function NH(u){u.document.registerPostFixer(e=>function(r,s){const l=s.document.differ.getChanges();let f=!1;const b=new Set;for(const A of l){let S=null;A.type=="insert"&&A.name=="table"&&(S=A.position.nodeAfter),A.type!="insert"&&A.type!="remove"||A.name!="tableRow"&&A.name!="tableCell"||(S=A.position.findAncestor("table")),BH(A)&&(S=A.range.start.findAncestor("table")),S&&!b.has(S)&&(f=jH(S,r)||f,f=OH(S,r)||f,b.add(S))}return f}(e,u))}function jH(u,e){let r=!1;const s=function(l){const f=parseInt(l.getAttribute("headingRows")||"0"),b=Array.from(l.getChildren()).reduce((S,T)=>T.is("element","tableRow")?S+1:S,0),A=[];for(const{row:S,cell:T,cellHeight:O}of new _i(l)){if(O<2)continue;const P=S<f?f:b;if(S+O>P){const W=P-S;A.push({cell:T,rowspan:W})}}return A}(u);if(s.length){r=!0;for(const l of s)Ko("rowspan",l.rowspan,l.cell,e,1)}return r}function OH(u,e){let r=!1;const s=function(A){const S=new Array(A.childCount).fill(0);for(const{rowIndex:T}of new _i(A,{includeAllSlots:!0}))S[T]++;return S}(u),l=[];for(const[A,S]of s.entries())!S&&u.getChild(A).is("element","tableRow")&&l.push(A);if(l.length){r=!0;for(const A of l.reverse())e.remove(u.getChild(A)),s.splice(A,1)}const f=s.filter((A,S)=>u.getChild(S).is("element","tableRow")),b=f[0];if(!f.every(A=>A===b)){const A=f.reduce((S,T)=>T>S?T:S,0);for(const[S,T]of f.entries()){const O=A-T;if(O){for(let P=0;P<O;P++)zg(e,e.createPositionAt(u.getChild(S),"end"));r=!0}}}return r}function BH(u){if(u.type!=="attribute")return!1;const e=u.attributeKey;return e==="headingRows"||e==="colspan"||e==="rowspan"}function LH(u){u.document.registerPostFixer(e=>function(r,s){const l=s.document.differ.getChanges();let f=!1;for(const b of l)b.type=="insert"&&b.name=="table"&&(f=PH(b.position.nodeAfter,r)||f),b.type=="insert"&&b.name=="tableRow"&&(f=fN(b.position.nodeAfter,r)||f),b.type=="insert"&&b.name=="tableCell"&&(f=gE(b.position.nodeAfter,r)||f),b.type!="remove"&&b.type!="insert"||!RH(b)||(f=gE(b.position.parent,r)||f);return f}(e,u))}function PH(u,e){let r=!1;for(const s of u.getChildren())s.is("element","tableRow")&&(r=fN(s,e)||r);return r}function fN(u,e){let r=!1;for(const s of u.getChildren())r=gE(s,e)||r;return r}function gE(u,e){if(u.childCount==0)return e.insertElement("paragraph",u),!0;const r=Array.from(u.getChildren()).filter(s=>s.is("$text"));for(const s of r)e.wrap(e.createRangeOn(s),"paragraph");return!!r.length}function RH(u){return!!u.position.parent.is("element","tableCell")&&(u.type=="insert"&&u.name=="$text"||u.type=="remove")}function zH(u,e){if(!u.is("element","paragraph"))return!1;const r=e.toViewElement(u);return!!r&&ZM(u)!==r.is("element","span")}var y2=a(8137),dv={attributes:{"data-cke":!0}};dv.setAttributes=Ut(),dv.insert=zt().bind(null,"head"),dv.domAPI=Vt(),dv.insertStyleElement=jt(),It()(y2.A,dv),y2.A&&y2.A.locals&&y2.A.locals;class FH extends $t{static get pluginName(){return"TableEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[Ea]}constructor(e){super(e),this._additionalSlots=[]}init(){const e=this.editor,r=e.model,s=r.schema,l=e.conversion,f=e.plugins.get(Ea);s.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),s.register("tableRow",{allowIn:"table",isLimit:!0}),s.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),l.for("upcast").add(b=>{b.on("element:figure",(A,S,T)=>{if(!T.consumable.test(S.viewItem,{name:!0,classes:"table"}))return;const O=function(W){for(const ee of W.getChildren())if(ee.is("element","table"))return ee}(S.viewItem);if(!O||!T.consumable.test(O,{name:!0}))return;T.consumable.consume(S.viewItem,{name:!0,classes:"table"});const P=qo(T.convertItem(O,S.modelCursor).modelRange.getItems());P?(T.convertChildren(S.viewItem,T.writer.createPositionAt(P,"end")),T.updateConversionResult(P,S)):T.consumable.revert(S.viewItem,{name:!0,classes:"table"})})}),l.for("upcast").add(bH()),l.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:YM(f,{asWidget:!0,additionalSlots:this._additionalSlots})}),l.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:YM(f,{additionalSlots:this._additionalSlots})}),l.for("upcast").elementToElement({model:"tableRow",view:"tr"}),l.for("upcast").add(b=>{b.on("element:tr",(A,S)=>{S.viewItem.isEmpty&&S.modelCursor.index==0&&A.stop()},{priority:"high"})}),l.for("downcast").elementToElement({model:"tableRow",view:(b,{writer:A})=>b.isEmpty?A.createEmptyElement("tr"):A.createContainerElement("tr")}),l.for("upcast").elementToElement({model:"tableCell",view:"td"}),l.for("upcast").elementToElement({model:"tableCell",view:"th"}),l.for("upcast").add(GM("td")),l.for("upcast").add(GM("th")),l.for("editingDowncast").elementToElement({model:"tableCell",view:KM({asWidget:!0})}),l.for("dataDowncast").elementToElement({model:"tableCell",view:KM()}),l.for("editingDowncast").elementToElement({model:"paragraph",view:QM({asWidget:!0}),converterPriority:"high"}),l.for("dataDowncast").elementToElement({model:"paragraph",view:QM(),converterPriority:"high"}),l.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),l.for("upcast").attributeToAttribute({model:{key:"colspan",value:pN("colspan")},view:"colspan"}),l.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),l.for("upcast").attributeToAttribute({model:{key:"rowspan",value:pN("rowspan")},view:"rowspan"}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new vH(e)),e.commands.add("insertTableRowAbove",new JM(e,{order:"above"})),e.commands.add("insertTableRowBelow",new JM(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new XM(e,{order:"left"})),e.commands.add("insertTableColumnRight",new XM(e,{order:"right"})),e.commands.add("removeTableRow",new yH(e)),e.commands.add("removeTableColumn",new AH(e)),e.commands.add("splitTableCellVertically",new eN(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new eN(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new DH(e)),e.commands.add("mergeTableCellRight",new v2(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new v2(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new v2(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new v2(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new CH(e)),e.commands.add("setTableRowHeader",new _H(e)),e.commands.add("selectTableRow",new TH(e)),e.commands.add("selectTableColumn",new MH(e)),NH(r),LH(r),this.listenTo(r.document,"change:data",()=>{(function(b,A){const S=b.document.differ;for(const T of S.getChanges()){let O,P=!1;if(T.type=="attribute"){const le=T.range.start.nodeAfter;if(!le||!le.is("element","table")||T.attributeKey!="headingRows"&&T.attributeKey!="headingColumns")continue;O=le,P=T.attributeKey=="headingRows"}else T.name!="tableRow"&&T.name!="tableCell"||(O=T.position.findAncestor("table"),P=T.name=="tableRow");if(!O)continue;const W=O.getAttribute("headingRows")||0,ee=O.getAttribute("headingColumns")||0,ne=new _i(O);for(const le of ne){const Ce=le.row<W||le.column<ee?"th":"td",je=A.mapper.toViewElement(le.cell);je&&je.is("element")&&je.name!=Ce&&A.reconvertItem(P?le.cell.parent:le.cell)}}})(r,e.editing),function(b,A){const S=b.document.differ,T=new Set;for(const O of S.getChanges()){const P=O.type=="attribute"?O.range.start.parent:O.position.parent;P.is("element","tableCell")&&T.add(P)}for(const O of T.values()){const P=Array.from(O.getChildren()).filter(W=>zH(W,A.mapper));for(const W of P)A.reconvertItem(W)}}(r,e.editing)})}registerAdditionalSlot(e){this._additionalSlots.push(e)}}function pN(u){return e=>{const r=parseInt(e.getAttribute(u));return Number.isNaN(r)||r<=0?null:r}}var A2=a(5032),hv={attributes:{"data-cke":!0}};hv.setAttributes=Ut(),hv.insert=zt().bind(null,"head"),hv.domAPI=Vt(),hv.insertStyleElement=jt(),It()(A2.A,hv),A2.A&&A2.A.locals&&A2.A.locals;class mN extends un{constructor(e){super(e);const r=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new K,this.focusTracker=new Ji,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(s,l)=>`${l}  ${s}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":r.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:r.to("label")}]}],on:{mousedown:r.to(s=>{s.preventDefault()}),click:r.to(()=>{this.fire("execute")})}}),this.on("boxover",(s,l)=>{const{row:f,column:b}=l.target.dataset;this.items.get(10*(parseInt(f,10)-1)+(parseInt(b,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(s,l,f)=>{if(!f)return;const{row:b,column:A}=f.dataset;this.set({rows:parseInt(b),columns:parseInt(A)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),Bf({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}reset(){this.set({rows:1,columns:1})}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows,r=this.columns;this.items.map((s,l)=>{const f=Math.floor(l/10)<e&&l%10<r;s.set("isOn",f)})}_createGridButton(e,r,s,l){const f=new lr(e);return f.set({label:l,class:"ck-insert-table-dropdown-grid-box"}),f.extendTemplate({attributes:{"data-row":r,"data-column":s}}),f}_createGridCollection(){const e=[];for(let r=0;r<100;r++){const s=Math.floor(r/10),l=r%10,f=`${s+1}  ${l+1}`;e.push(this._createGridButton(this.locale,s+1,l+1,f))}return this.createCollection(e)}}class UH extends $t{static get pluginName(){return"TableUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,r=this.editor.t,s=e.locale.contentLanguageDirection==="ltr";e.ui.componentFactory.add("insertTable",l=>{const f=e.commands.get("insertTable"),b=fm(l);let A;return b.bind("isEnabled").to(f),b.buttonView.set({icon:cn.table,label:r("Insert table"),tooltip:!0}),b.on("change:isOpen",()=>{A||(A=new mN(l),b.panelView.children.add(A),A.delegate("execute").to(b),b.on("execute",()=>{e.execute("insertTable",{rows:A.rows,columns:A.columns}),e.editing.view.focus()}))}),b}),e.ui.componentFactory.add("menuBar:insertTable",l=>{const f=e.commands.get("insertTable"),b=new mm(l),A=new mN(l);return A.delegate("execute").to(b),b.on("change:isOpen",(S,T,O)=>{O||A.reset()}),A.on("execute",()=>{e.execute("insertTable",{rows:A.rows,columns:A.columns}),e.editing.view.focus()}),b.buttonView.set({label:r("Table"),icon:cn.table}),b.panelView.children.add(A),b.bind("isEnabled").to(f),b}),e.ui.componentFactory.add("tableColumn",l=>{const f=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:r("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:s?"insertTableColumnLeft":"insertTableColumnRight",label:r("Insert column left")}},{type:"button",model:{commandName:s?"insertTableColumnRight":"insertTableColumnLeft",label:r("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:r("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:r("Select column")}}];return this._prepareDropdown(r("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',f,l)}),e.ui.componentFactory.add("tableRow",l=>{const f=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:r("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:r("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:r("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:r("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:r("Select row")}}];return this._prepareDropdown(r("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',f,l)}),e.ui.componentFactory.add("mergeTableCells",l=>{const f=[{type:"button",model:{commandName:"mergeTableCellUp",label:r("Merge cell up")}},{type:"button",model:{commandName:s?"mergeTableCellRight":"mergeTableCellLeft",label:r("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:r("Merge cell down")}},{type:"button",model:{commandName:s?"mergeTableCellLeft":"mergeTableCellRight",label:r("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:r("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:r("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(r("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',f,l)})}_prepareDropdown(e,r,s,l){const f=this.editor,b=fm(l),A=this._fillDropdownWithListOptions(b,s);return b.buttonView.set({label:e,icon:r,tooltip:!0}),b.bind("isEnabled").toMany(A,"isEnabled",(...S)=>S.some(T=>T)),this.listenTo(b,"execute",S=>{f.execute(S.source.commandName),S.source instanceof Sn||f.editing.view.focus()}),b}_prepareMergeSplitButtonDropdown(e,r,s,l){const f=this.editor,b=fm(l,Q_),A="mergeTableCells",S=f.commands.get(A),T=this._fillDropdownWithListOptions(b,s);return b.buttonView.set({label:e,icon:r,tooltip:!0,isEnabled:!0}),b.bind("isEnabled").toMany([S,...T],"isEnabled",(...O)=>O.some(P=>P)),this.listenTo(b.buttonView,"execute",()=>{f.execute(A),f.editing.view.focus()}),this.listenTo(b,"execute",O=>{f.execute(O.source.commandName),f.editing.view.focus()}),b}_fillDropdownWithListOptions(e,r){const s=this.editor,l=[],f=new So;for(const b of r)qH(b,s,l,f);return tT(e,f),l}}function qH(u,e,r,s){if(u.type==="button"||u.type==="switchbutton"){const l=u.model=new bT(u.model),{commandName:f,bindIsOn:b}=u.model,A=e.commands.get(f);r.push(A),l.set({commandName:f}),l.bind("isEnabled").to(A),b&&l.bind("isOn").to(A,"value"),l.set({withText:!0})}s.add(u)}var _2=a(8423),fv={attributes:{"data-cke":!0}};fv.setAttributes=Ut(),fv.insert=zt().bind(null,"head"),fv.domAPI=Vt(),fv.insertStyleElement=jt(),It()(_2.A,fv),_2.A&&_2.A.locals&&_2.A.locals;class Fg extends $t{static get pluginName(){return"TableSelection"}static get isOfficialPlugin(){return!0}static get requires(){return[Ea,Ea]}init(){const e=this.editor,r=e.model,s=e.editing.view;this.listenTo(r,"deleteContent",(l,f)=>this._handleDeleteContent(l,f),{priority:"high"}),this.listenTo(s.document,"insertText",(l,f)=>this._handleInsertTextEvent(l,f),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const e=this.editor.plugins.get(Ea),r=this.editor.model.document.selection,s=e.getSelectedTableCells(r);return s.length==0?null:s}getSelectionAsFragment(){const e=this.editor.plugins.get(Ea),r=this.getSelectedTableCells();return r?this.editor.model.change(s=>{const l=s.createDocumentFragment(),{first:f,last:b}=e.getColumnIndexes(r),{first:A,last:S}=e.getRowIndexes(r),T=r[0].findAncestor("table");let O=S,P=b;if(e.isSelectionRectangular(r)){const ee={firstColumn:f,lastColumn:b,firstRow:A,lastRow:S};O=aN(T,ee),P=lN(T,ee)}const W=tN(T,{startRow:A,startColumn:f,endRow:O,endColumn:P},s);return s.insert(W,l,0),l}):null}setCellSelection(e,r){const s=this._getCellsToSelect(e,r);this.editor.model.change(l=>{l.setSelection(s.cells.map(f=>l.createRangeOn(f)),{backward:s.backward})})}getFocusCell(){const e=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return e&&e.is("element","tableCell")?e:null}getAnchorCell(){const e=qo(this.editor.model.document.selection.getRanges()).getContainedElement();return e&&e.is("element","tableCell")?e:null}_defineSelectionConverter(){const e=this.editor,r=new Set;e.conversion.for("editingDowncast").add(s=>s.on("selection",(l,f,b)=>{const A=b.writer;(function(O){for(const P of r)O.removeClass("ck-editor__editable_selected",P);r.clear()})(A);const S=this.getSelectedTableCells();if(!S)return;for(const O of S){const P=b.mapper.toViewElement(O);A.addClass("ck-editor__editable_selected",P),r.add(P)}const T=b.mapper.toViewElement(S[S.length-1]);A.setSelection(T,0)},{priority:"lowest"}))}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const r=this.getSelectedTableCells();if(!r)return;e.model.change(s=>{const l=s.createPositionAt(r[0],0),f=e.model.schema.getNearestSelectionRange(l);s.setSelection(f)})}})}_handleDeleteContent(e,r){const s=this.editor.plugins.get(Ea),l=r[0],f=r[1],b=this.editor.model,A=!f||f.direction=="backward",S=s.getSelectedTableCells(l);S.length&&(e.stop(),b.change(T=>{const O=S[A?S.length-1:0];b.change(W=>{for(const ee of S)b.deleteContent(W.createSelection(ee,"in"))});const P=b.schema.getNearestSelectionRange(T.createPositionAt(O,0));l.is("documentSelection")?T.setSelection(P):l.setTo(P)}))}_handleInsertTextEvent(e,r){const s=this.editor,l=this.getSelectedTableCells();if(!l)return;const f=s.editing.view,b=s.editing.mapper,A=l.map(S=>f.createRangeOn(b.toViewElement(S)));r.selection=f.createSelection(A)}_getCellsToSelect(e,r){const s=this.editor.plugins.get("TableUtils"),l=s.getCellLocation(e),f=s.getCellLocation(r),b=Math.min(l.row,f.row),A=Math.max(l.row,f.row),S=Math.min(l.column,f.column),T=Math.max(l.column,f.column),O=new Array(A-b+1).fill(null).map(()=>[]),P={startRow:b,endRow:A,startColumn:S,endColumn:T};for(const{row:ne,cell:le}of new _i(e.findAncestor("table"),P))O[ne-b].push(le);const W=f.row<l.row,ee=f.column<l.column;return W&&O.reverse(),ee&&O.forEach(ne=>ne.reverse()),{cells:O.flat(),backward:W||ee}}}class VH extends $t{static get pluginName(){return"TableClipboard"}static get isOfficialPlugin(){return!0}static get requires(){return[_w,Qu,Fg,Ea]}init(){const e=this.editor,r=e.editing.view.document;this.listenTo(r,"copy",(s,l)=>this._onCopyCut(s,l)),this.listenTo(r,"cut",(s,l)=>this._onCopyCut(s,l)),this.listenTo(e.model,"insertContent",(s,[l,f])=>this._onInsertContent(s,l,f),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(e,r){const s=this.editor.editing.view,l=this.editor.plugins.get(Fg),f=this.editor.plugins.get(_w);l.getSelectedTableCells()&&(e.name!="cut"||this.editor.model.canEditAt(this.editor.model.document.selection))&&(r.preventDefault(),e.stop(),this.editor.model.enqueueChange({isUndoable:e.name==="cut"},()=>{const b=f._copySelectedFragmentWithMarkers(e.name,this.editor.model.document.selection,()=>l.getSelectionAsFragment());s.document.fire("clipboardOutput",{dataTransfer:r.dataTransfer,content:this.editor.data.toView(b),method:e.name})}))}_onInsertContent(e,r,s){if(s&&!s.is("documentSelection"))return;const l=this.editor.model,f=this.editor.plugins.get(Ea),b=this.editor.plugins.get(_w),A=this.getTableIfOnlyTableInContent(r,l);if(!A)return;const S=f.getSelectionAffectedTableCells(l.document.selection);S.length?(e.stop(),r.is("documentFragment")?b._pasteMarkersIntoTransformedElement(r.markers,T=>this._replaceSelectedCells(A,S,T)):this.editor.model.change(T=>{this._replaceSelectedCells(A,S,T)})):pE(A,f)}_replaceSelectedCells(e,r,s){const l=this.editor.plugins.get(Ea),f={width:l.getColumns(e),height:l.getRows(e)},b=function(P,W,ee,ne){const le=P[0].findAncestor("table"),Ce=ne.getColumnIndexes(P),je=ne.getRowIndexes(P),qe={firstColumn:Ce.first,lastColumn:Ce.last,firstRow:je.first,lastRow:je.last},tt=P.length===1;return tt&&(qe.lastRow+=W.height-1,qe.lastColumn+=W.width-1,function(Dt,Nt,wn,An){const Xr=An.getColumns(Dt),ro=An.getRows(Dt);wn>Xr&&An.insertColumns(Dt,{at:Xr,columns:wn-Xr}),Nt>ro&&An.insertRows(Dt,{at:ro,rows:Nt-ro})}(le,qe.lastRow+1,qe.lastColumn+1,ne)),tt||!ne.isSelectionRectangular(P)?function(Dt,Nt,wn){const{firstRow:An,lastRow:Xr,firstColumn:ro,lastColumn:xv}=Nt,vN={first:An,last:Xr},yN={first:ro,last:xv};kE(Dt,ro,vN,wn),kE(Dt,xv+1,vN,wn),bE(Dt,An,yN,wn),bE(Dt,Xr+1,yN,wn,An)}(le,qe,ee):(qe.lastRow=aN(le,qe),qe.lastColumn=lN(le,qe)),qe}(r,f,s,l),A=b.lastRow-b.firstRow+1,S=b.lastColumn-b.firstColumn+1;e=tN(e,{startRow:0,startColumn:0,endRow:Math.min(A,f.height)-1,endColumn:Math.min(S,f.width)-1},s);const T=r[0].findAncestor("table"),O=this._replaceSelectedCellsWithPasted(e,f,T,b,s);if(this.editor.plugins.get("TableSelection").isEnabled){const P=l.sortRanges(O.map(W=>s.createRangeOn(W)));s.setSelection(P)}else s.setSelection(O[0],0);return T}_replaceSelectedCellsWithPasted(e,r,s,l,f){const{width:b,height:A}=r,S=function(Ce,je,qe){const tt=new Array(qe).fill(null).map(()=>new Array(je).fill(null));for(const{column:Dt,row:Nt,cell:wn}of new _i(Ce))tt[Nt][Dt]=wn;return tt}(e,b,A),T=[...new _i(s,{startRow:l.firstRow,endRow:l.lastRow,startColumn:l.firstColumn,endColumn:l.lastColumn,includeAllSlots:!0})],O=[];let P;for(const Ce of T){const{row:je,column:qe}=Ce;qe===l.firstColumn&&(P=Ce.getPositionBefore());const tt=je-l.firstRow,Dt=qe-l.firstColumn,Nt=S[tt%A][Dt%b],wn=Nt?f.cloneElement(Nt):null,An=this._replaceTableSlotCell(Ce,wn,P,f);An&&(sN(An,je,qe,l.lastRow,l.lastColumn,f),O.push(An),P=f.createPositionAfter(An))}const W=parseInt(s.getAttribute("headingRows")||"0"),ee=parseInt(s.getAttribute("headingColumns")||"0"),ne=l.firstRow<W&&W<=l.lastRow,le=l.firstColumn<ee&&ee<=l.lastColumn;if(ne){const Ce=bE(s,W,{first:l.firstColumn,last:l.lastColumn},f,l.firstRow);O.push(...Ce)}if(le){const Ce=kE(s,ee,{first:l.firstRow,last:l.lastRow},f);O.push(...Ce)}return O}_replaceTableSlotCell(e,r,s,l){const{cell:f,isAnchor:b}=e;return b&&l.remove(f),r?(l.insert(r,s),r):null}getTableIfOnlyTableInContent(e,r){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(e.childCount==1&&e.getChild(0).is("element","table"))return e.getChild(0);const s=r.createRangeIn(e);for(const l of s.getItems())if(l.is("element","table")){const f=r.createRange(s.start,r.createPositionBefore(l));if(r.hasContent(f,{ignoreWhitespaces:!0}))return null;const b=r.createRange(r.createPositionAfter(l),s.end);return r.hasContent(b,{ignoreWhitespaces:!0})?null:l}return null}}function bE(u,e,r,s,l=0){if(!(e<1))return nN(u,e,l).filter(({column:f,cellWidth:b})=>gN(f,b,r)).map(({cell:f})=>rN(f,e,s))}function kE(u,e,r,s){if(!(e<1))return iN(u,e).filter(({row:l,cellHeight:f})=>gN(l,f,r)).map(({cell:l,column:f})=>oN(l,f,e,s))}function gN(u,e,r){const s=u+e-1,{first:l,last:f}=r;return u>=l&&u<=f||u<l&&s>=l}class HH extends $t{static get pluginName(){return"TableKeyboard"}static get isOfficialPlugin(){return!0}static get requires(){return[Fg,Ea]}init(){const e=this.editor,r=e.editing.view.document,s=e.t;this.listenTo(r,"arrowKey",(...l)=>this._onArrowKey(...l),{context:"table"}),this.listenTo(r,"tab",(...l)=>this._handleTabOnSelectedTable(...l),{context:"figure"}),this.listenTo(r,"tab",(...l)=>this._handleTab(...l),{context:["th","td"]}),e.accessibility.addKeystrokeInfoGroup({id:"table",label:s("Keystrokes that can be used in a table cell"),keystrokes:[{label:s("Move the selection to the next cell"),keystroke:"Tab"},{label:s("Move the selection to the previous cell"),keystroke:"Shift+Tab"},{label:s("Insert a new table row (when in the last cell of a table)"),keystroke:"Tab"},{label:s("Navigate through the table"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]}]})}_handleTabOnSelectedTable(e,r){const s=this.editor,l=s.model.document.selection.getSelectedElement();l&&l.is("element","table")&&(r.preventDefault(),r.stopPropagation(),e.stop(),s.model.change(f=>{f.setSelection(f.createRangeIn(l.getChild(0).getChild(0)))}))}_handleTab(e,r){const s=this.editor,l=this.editor.plugins.get(Ea),f=this.editor.plugins.get("TableSelection"),b=s.model.document.selection,A=!r.shiftKey;let S=l.getTableCellsContainingSelection(b)[0];if(S||(S=f.getFocusCell()),!S)return;r.preventDefault(),r.stopPropagation(),e.stop();const T=S.parent,O=T.parent,P=O.getChildIndex(T),W=T.getChildIndex(S),ee=W===0;if(!A&&ee&&P===0)return void s.model.change(je=>{je.setSelection(je.createRangeOn(O))});const ne=W===T.childCount-1,le=P===l.getRows(O)-1;if(A&&le&&ne&&(s.execute("insertTableRowBelow"),P===l.getRows(O)-1))return void s.model.change(je=>{je.setSelection(je.createRangeOn(O))});let Ce;if(A&&ne)Ce=O.getChild(P+1).getChild(0);else if(!A&&ee){const je=O.getChild(P-1);Ce=je.getChild(je.childCount-1)}else Ce=T.getChild(W+(A?1:-1));s.model.change(je=>{je.setSelection(je.createRangeIn(Ce))})}_onArrowKey(e,r){const s=this.editor,l=Cp(r.keyCode,s.locale.contentLanguageDirection);this._handleArrowKeys(l,r.shiftKey)&&(r.preventDefault(),r.stopPropagation(),e.stop())}_handleArrowKeys(e,r){const s=this.editor.plugins.get(Ea),l=this.editor.plugins.get("TableSelection"),f=this.editor.model,b=f.document.selection,A=["right","down"].includes(e),S=s.getSelectedTableCells(b);if(S.length){let O;return O=r?l.getFocusCell():A?S[S.length-1]:S[0],this._navigateFromCellInDirection(O,e,r),!0}const T=b.focus.findAncestor("tableCell");if(!T)return!1;if(!b.isCollapsed)if(r){if(b.isBackward==A&&!b.containsEntireContent(T))return!1}else{const O=b.getSelectedElement();if(!O||!f.schema.isObject(O))return!1}return!!this._isSelectionAtCellEdge(b,T,A)&&(this._navigateFromCellInDirection(T,e,r),!0)}_isSelectionAtCellEdge(e,r,s){const l=this.editor.model,f=this.editor.model.schema,b=s?e.getLastPosition():e.getFirstPosition();if(!f.getLimitElement(b).is("element","tableCell"))return l.createPositionAt(r,s?"end":0).isTouching(b);const A=l.createSelection(b);return l.modifySelection(A,{direction:s?"forward":"backward"}),b.isEqual(A.focus)}_navigateFromCellInDirection(e,r,s=!1){const l=this.editor.model,f=e.findAncestor("table"),b=[...new _i(f,{includeAllSlots:!0})],{row:A,column:S}=b[b.length-1],T=b.find(({cell:le})=>le==e);let{row:O,column:P}=T;switch(r){case"left":P--;break;case"up":O--;break;case"right":P+=T.cellWidth;break;case"down":O+=T.cellHeight}if(O<0||O>A||P<0&&O<=0||P>S&&O>=A)return void l.change(le=>{le.setSelection(le.createRangeOn(f))});P<0?(P=s?0:S,O--):P>S&&(P=s?S:0,O++);const W=b.find(le=>le.row==O&&le.column==P).cell,ee=["right","down"].includes(r),ne=this.editor.plugins.get("TableSelection");if(s&&ne.isEnabled){const le=ne.getAnchorCell()||e;ne.setCellSelection(le,W)}else{const le=l.createPositionAt(W,ee?0:"end");l.change(Ce=>{Ce.setSelection(le)})}}}class $H extends yl{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(e){this.fire(e.type,e)}}class WH extends $t{static get pluginName(){return"TableMouse"}static get isOfficialPlugin(){return!0}static get requires(){return[Fg,Ea]}init(){this.editor.editing.view.addObserver($H),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor,r=e.plugins.get(Ea);let s=!1;const l=e.plugins.get(Fg);this.listenTo(e.editing.view.document,"mousedown",(f,b)=>{const A=e.model.document.selection;if(!this.isEnabled||!l.isEnabled||!b.domEvent.shiftKey)return;const S=l.getAnchorCell()||r.getTableCellsContainingSelection(A)[0];if(!S)return;const T=this._getModelTableCellFromDomEvent(b);T&&bN(S,T)&&(s=!0,l.setCellSelection(S,T),b.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{s=!1}),this.listenTo(e.editing.view.document,"selectionChange",f=>{s&&f.stop()},{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let r,s,l=!1,f=!1;const b=e.plugins.get(Fg);this.listenTo(e.editing.view.document,"mousedown",(A,S)=>{this.isEnabled&&b.isEnabled&&(S.domEvent.shiftKey||S.domEvent.ctrlKey||S.domEvent.altKey||(r=this._getModelTableCellFromDomEvent(S)))}),this.listenTo(e.editing.view.document,"mousemove",(A,S)=>{if(!S.domEvent.buttons||!r)return;const T=this._getModelTableCellFromDomEvent(S);T&&bN(r,T)&&(s=T,l||s==r||(l=!0)),l&&(f=!0,b.setCellSelection(r,s),S.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{l=!1,f=!1,r=null,s=null}),this.listenTo(e.editing.view.document,"selectionChange",A=>{f&&A.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(e){const r=e.target,s=this.editor.editing.view.createPositionAt(r,0);return this.editor.editing.mapper.toModelPosition(s).parent.findAncestor("tableCell",{includeSelf:!0})}}function bN(u,e){return u.parent.parent==e.parent.parent}var C2=a(2329),pv={attributes:{"data-cke":!0}};pv.setAttributes=Ut(),pv.insert=zt().bind(null,"head"),pv.domAPI=Vt(),pv.insertStyleElement=jt(),It()(C2.A,pv),C2.A&&C2.A.locals&&C2.A.locals;class GH extends $t{static get requires(){return[FH,UH,Fg,WH,HH,VH,Iw]}static get pluginName(){return"Table"}static get isOfficialPlugin(){return!0}}function YH(u){const e=u.getSelectedElement();return e&&kN(e)?e:null}function KH(u){const e=u.getFirstPosition();if(!e)return null;let r=e.parent;for(;r;){if(r.is("element")&&kN(r))return r;r=r.parent}return null}function kN(u){return!!u.getCustomProperty("table")&&Yo(u)}class QH extends $t{static get requires(){return[TC]}static get pluginName(){return"TableToolbar"}static get isOfficialPlugin(){return!0}afterInit(){const e=this.editor,r=e.t,s=e.plugins.get(TC),l=e.config.get("table.contentToolbar"),f=e.config.get("table.tableToolbar");l&&s.register("tableContent",{ariaLabel:r("Table toolbar"),items:l,getRelatedElement:KH}),f&&s.register("table",{ariaLabel:r("Table toolbar"),items:f,getRelatedElement:YH})}}var x2=a(5506),mv={attributes:{"data-cke":!0}};mv.setAttributes=Ut(),mv.insert=zt().bind(null,"head"),mv.domAPI=Vt(),mv.insertStyleElement=jt(),It()(x2.A,mv),x2.A&&x2.A.locals&&x2.A.locals;var S2=a(2655),gv={attributes:{"data-cke":!0}};gv.setAttributes=Ut(),gv.insert=zt().bind(null,"head"),gv.domAPI=Vt(),gv.insertStyleElement=jt(),It()(S2.A,gv),S2.A&&S2.A.locals&&S2.A.locals;var E2=a(4043),bv={attributes:{"data-cke":!0}};bv.setAttributes=Ut(),bv.insert=zt().bind(null,"head"),bv.domAPI=Vt(),bv.insertStyleElement=jt(),It()(E2.A,bv),E2.A&&E2.A.locals&&E2.A.locals;var D2=a(1623),kv={attributes:{"data-cke":!0}};kv.setAttributes=Ut(),kv.insert=zt().bind(null,"head"),kv.domAPI=Vt(),kv.insertStyleElement=jt(),It()(D2.A,kv),D2.A&&D2.A.locals&&D2.A.locals;var I2=a(8986),wv={attributes:{"data-cke":!0}};wv.setAttributes=Ut(),wv.insert=zt().bind(null,"head"),wv.domAPI=Vt(),wv.insertStyleElement=jt(),It()(I2.A,wv),I2.A&&I2.A.locals&&I2.A.locals;var T2=a(5562),vv={attributes:{"data-cke":!0}};vv.setAttributes=Ut(),vv.insert=zt().bind(null,"head"),vv.domAPI=Vt(),vv.insertStyleElement=jt(),It()(T2.A,vv),T2.A&&T2.A.locals&&T2.A.locals;var M2=a(4143),yv={attributes:{"data-cke":!0}};yv.setAttributes=Ut(),yv.insert=zt().bind(null,"head"),yv.domAPI=Vt(),yv.insertStyleElement=jt(),It()(M2.A,yv),M2.A&&M2.A.locals&&M2.A.locals;var N2=a(8795),Av={attributes:{"data-cke":!0}};Av.setAttributes=Ut(),Av.insert=zt().bind(null,"head"),Av.domAPI=Vt(),Av.insertStyleElement=jt(),It()(N2.A,Av),N2.A&&N2.A.locals&&N2.A.locals;const ZH={autoRefresh:!0},wN=36e5;class wE extends Ae(){constructor(e,r={}){if(super(),this._isDestroyed=!1,!e)throw new U("token-missing-token-url",this);r.initValue&&this._validateTokenValue(r.initValue),this.set("value",r.initValue),this._refresh=typeof e=="function"?e:()=>{return s=e,new Promise((l,f)=>{const b=new XMLHttpRequest;b.open("GET",s),b.addEventListener("load",()=>{const A=b.status,S=b.response;return A<200||A>299?f(new U("token-cannot-download-new-token",null)):l(S)}),b.addEventListener("error",()=>f(new Error("Network Error"))),b.addEventListener("abort",()=>f(new Error("Abort"))),b.send()});var s},this._options={...ZH,...r}}init(){return new Promise((e,r)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),e(this)):this.refreshToken().then(e).catch(r)})}refreshToken(){const e=this._options.autoRefresh;return this._refresh().then(r=>(this._validateTokenValue(r),this.set("value",r),e&&this._registerRefreshTokenTimeout(),this)).catch(r=>{throw q("token-refresh-failed",{autoRefresh:e}),e&&this._registerRefreshTokenTimeout(5e3),r})}destroy(){this._isDestroyed=!0,clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(e){const r=typeof e=="string",s=!/^".*"$/.test(e),l=r&&e.split(".").length===3;if(!s||!l)throw new U("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(e){if(clearTimeout(this._tokenRefreshTimeout),this._isDestroyed)return;const r=e||this._getTokenRefreshTimeoutTime();this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},r)}_getTokenRefreshTimeoutTime(){try{const[,e]=this.value.split("."),{exp:r}=JSON.parse(atob(e));return r?Math.floor((1e3*r-Date.now())/2):wN}catch{return wN}}static create(e,r={}){return new wE(e,r).init()}}const vE=/^data:(\S*?);base64,/;class JH extends ke(){constructor(e,r,s){if(super(),!e)throw new U("fileuploader-missing-file",null);if(!r)throw new U("fileuploader-missing-token",null);if(!s)throw new U("fileuploader-missing-api-address",null);this.file=function(l){if(typeof l!="string")return!1;const f=l.match(vE);return!(!f||!f.length)}(e)?function(l,f=512){try{const b=l.match(vE)[1],A=atob(l.replace(vE,"")),S=[];for(let T=0;T<A.length;T+=f){const O=A.slice(T,T+f),P=new Array(O.length);for(let W=0;W<O.length;W++)P[W]=O.charCodeAt(W);S.push(new Uint8Array(P))}return new Blob(S,{type:b})}catch{throw new U("fileuploader-decoding-image-data-error",null)}}(e):e,this._token=r,this._apiAddress=s}onProgress(e){return this.on("progress",(r,s)=>e(s)),this}onError(e){return this.once("error",(r,s)=>e(s)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}_attachXHRListeners(){const e=this.xhr,r=s=>()=>this.fire("error",s);e.addEventListener("error",r("Network Error")),e.addEventListener("abort",r("Abort")),e.upload&&e.upload.addEventListener("progress",s=>{s.lengthComputable&&this.fire("progress",{total:s.total,uploaded:s.loaded})}),e.addEventListener("load",()=>{const s=e.status,l=e.response;if(s<200||s>299)return this.fire("error",l.message||l.error)})}_sendRequest(){const e=new FormData,r=this.xhr;return e.append("file",this.file),new Promise((s,l)=>{r.addEventListener("load",()=>{const f=r.status,b=r.response;return f<200||f>299?b.message?l(new U("fileuploader-uploading-data-failed",this,{message:b.message})):l(b.error):s(b)}),r.addEventListener("error",()=>l(new Error("Network Error"))),r.addEventListener("abort",()=>l(new Error("Abort"))),r.send(e)})}}class XH{constructor(e,r){if(!e)throw new U("uploadgateway-missing-token",null);if(!r)throw new U("uploadgateway-missing-api-address",null);this._token=e,this._apiAddress=r}upload(e){return new JH(e,this._token,this._apiAddress)}}class e$ extends cs{static get pluginName(){return"CloudServicesCore"}static get isOfficialPlugin(){return!0}createToken(e,r){return new wE(e,r)}createUploadGateway(e,r){return new XH(e,r)}}class t$ extends cs{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get isOfficialPlugin(){return!0}static get requires(){return[e$]}async init(){const e=this.context.config.get("cloudServices")||{};for(const[s,l]of Object.entries(e))this[s]=l;if(!this.tokenUrl)return void(this.token=null);const r=this.context.plugins.get("CloudServicesCore").createToken(this.tokenUrl);try{this.token=await r.init(),this._tokens.set(this.tokenUrl,this.token)}catch(s){throw r.destroy(),s}}async registerTokenUrl(e){if(this._tokens.has(e))return this.getTokenFor(e);const r=this.context.plugins.get("CloudServicesCore"),s=await r.createToken(e).init();return this._tokens.set(e,s),s}getTokenFor(e){const r=this._tokens.get(e);if(!r)throw new U("cloudservices-token-not-registered",this);return r}destroy(){super.destroy();for(const e of this._tokens.values())e.destroy()}}const R2=class R2 extends B9{};R2.builtinPlugins=[RU,qU,HU,GU,QU,eq,gq,vq,t$,_q,Iq,Uq,$q,tV,nV,Jq,sV,TV,qV,QV,FC,gH,rV,GH,QH,iU],R2.defaultConfig={toolbar:{items:["undo","redo","|","heading","|","bold","italic","|","link","uploadImage","insertTable","blockQuote","mediaEmbed","|","bulletedList","numberedList","outdent","indent"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"};let yE=R2})(),c=c.default})())}(wy,wy.exports)),wy.exports}var RY=PY();const $P=Ei(RY),zY=({content:t,onChange:i})=>{const n=(o,a)=>{const c=a.getData();i(c)};return w.jsx(J6,{editor:$P,data:t,onChange:n,config:{toolbar:["undo","redo","|","heading","|","bold","italic","|","blockQuote","numberedList","bulletedList","|","insertTable","link","|"]}})},FY=(t,i={enabled:!0,priority:"low"})=>{const n=se.useCallback(o=>{!i.enabled||o.length===0||o.forEach((a,c)=>{if(!a||a.startsWith("data:"))return;const d=new Image;"loading"in d&&(d.loading="lazy");const p=i.priority==="low"?c*100:0;setTimeout(()=>{d.src=a,d.onload=()=>{console.log(` Preloaded image: ${a.substring(0,50)}...`)},d.onerror=m=>{console.error(` Failed to preload image: ${a}`,m),console.error("Image details:",{url:a,naturalWidth:d.naturalWidth,naturalHeight:d.naturalHeight,complete:d.complete})}},p)})},[i.enabled,i.priority]);return se.useEffect(()=>{n(t)},[t,n]),{preloadImages:n}},WP=(t,i,n=!0)=>{const{preloadImages:o}=FY([],{enabled:n,priority:"low"});se.useEffect(()=>{var d,p;if(!n||!t.length)return;const a=[];if(i>0){const m=t[i-1];m!=null&&m.images&&a.push(...m.images.map(k=>k.url)),(d=m==null?void 0:m.subsections)==null||d.forEach(k=>{var v;k.images&&a.push(...k.images.map(_=>_.url)),(v=k==null?void 0:k.subSubsections)==null||v.forEach(_=>{_.images&&a.push(..._.images.map(x=>x.url))})})}if(i<t.length-1){const m=t[i+1];m!=null&&m.images&&a.push(...m.images.map(k=>k.url)),(p=m==null?void 0:m.subsections)==null||p.forEach(k=>{var v;k.images&&a.push(...k.images.map(_=>_.url)),(v=k==null?void 0:k.subSubsections)==null||v.forEach(_=>{_.images&&a.push(..._.images.map(x=>x.url))})})}const c=Array.from(new Set(a.filter(Boolean)));c.length>0&&(console.log(`Preloading ${c.length} images from adjacent sections`),o(c))},[t,i,n,o])},N8=({content:t,onChange:i})=>{const n=(o,a)=>{const c=a.getData();i(c)};return w.jsx(J6,{editor:$P,data:t,onChange:n,config:{toolbar:["heading","|","bold","italic","|","blockQuote","numberedList","bulletedList","|","link"]}})},UY=({value:t,onChange:i})=>{const[n,o]=se.useState([]),[a,c]=se.useState(!0),{userDetails:d}=ko();se.useEffect(()=>{if(console.log("User Details in CourseDropdown:",d),d!=null&&d.classes){const m=Object.entries(d.classes).filter(([k,v])=>v.isCourseAdmin||d.isSuperAdmin).map(([k,v])=>({id:k,number:v.number,title:v.title}));console.log("Filtered Courses for Dropdown:",m),o(m)}else o([]);c(!1)},[d]);const p=n.some(m=>m.id===t);return a?w.jsx(Ne,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:w.jsx(ki,{})}):w.jsx(yn,{select:!0,label:"Select Course",value:p?t:"",onChange:m=>i(m.target.value),fullWidth:!0,sx:{mb:2},error:!p&&t!=="",helperText:!p&&t!==""?"Invalid course selected":"",children:n.length>0?n.map(m=>w.jsxs($r,{value:m.id,children:[m.number," - ",m.title]},m.id)):w.jsx($r,{disabled:!0,children:"No courses available"})})};function dn(t){const i=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&i==="[object Date]"?new t.constructor(+t):typeof t=="number"||i==="[object Number]"||typeof t=="string"||i==="[object String]"?new Date(t):new Date(NaN)}function xi(t,i){return t instanceof Date?new t.constructor(i):new Date(i)}function rh(t,i){const n=dn(t);return isNaN(i)?xi(t,NaN):(i&&n.setDate(n.getDate()+i),n)}function ih(t,i){const n=dn(t);if(isNaN(i))return xi(t,NaN);if(!i)return n;const o=n.getDate(),a=xi(t,n.getTime());a.setMonth(n.getMonth()+i+1,0);const c=a.getDate();return o>=c?a:(n.setFullYear(a.getFullYear(),a.getMonth(),o),n)}function X6(t,i){const n=+dn(t);return xi(t,n+i)}const GP=6048e5,qY=864e5,k5=6e4,w5=36e5,VY=1e3;function HY(t,i){return X6(t,i*w5)}let $Y={};function kb(){return $Y}function pp(t,i){var p,m,k,v;const n=kb(),o=(i==null?void 0:i.weekStartsOn)??((m=(p=i==null?void 0:i.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((v=(k=n.locale)==null?void 0:k.options)==null?void 0:v.weekStartsOn)??0,a=dn(t),c=a.getDay(),d=(c<o?7:0)+c-o;return a.setDate(a.getDate()-d),a.setHours(0,0,0,0),a}function fk(t){return pp(t,{weekStartsOn:1})}function YP(t){const i=dn(t),n=i.getFullYear(),o=xi(t,0);o.setFullYear(n+1,0,4),o.setHours(0,0,0,0);const a=fk(o),c=xi(t,0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);const d=fk(c);return i.getTime()>=a.getTime()?n+1:i.getTime()>=d.getTime()?n:n-1}function db(t){const i=dn(t);return i.setHours(0,0,0,0),i}function zx(t){const i=dn(t),n=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()));return n.setUTCFullYear(i.getFullYear()),+t-+n}function pk(t,i){const n=db(t),o=db(i),a=+n-zx(n),c=+o-zx(o);return Math.round((a-c)/qY)}function WY(t){const i=YP(t),n=xi(t,0);return n.setFullYear(i,0,4),n.setHours(0,0,0,0),fk(n)}function UD(t,i){return X6(t,i*k5)}function eI(t,i){const n=i*3;return ih(t,n)}function GY(t,i){return X6(t,i*1e3)}function Fx(t,i){const n=i*7;return rh(t,n)}function cp(t,i){return ih(t,i*12)}function j8(t){let i;return t.forEach(function(n){const o=dn(n);(i===void 0||i<o||isNaN(Number(o)))&&(i=o)}),i||new Date(NaN)}function O8(t){let i;return t.forEach(n=>{const o=dn(n);(!i||i>o||isNaN(+o))&&(i=o)}),i||new Date(NaN)}function YY(t,i){const n=db(t),o=db(i);return+n==+o}function up(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Ux(t){if(!up(t)&&typeof t!="number")return!1;const i=dn(t);return!isNaN(Number(i))}function qx(t,i){const n=dn(t),o=dn(i),a=n.getFullYear()-o.getFullYear(),c=n.getMonth()-o.getMonth();return a*12+c}function nb(t){const i=dn(t);return Math.trunc(i.getMonth()/3)+1}function Vx(t,i){const n=dn(t),o=dn(i),a=n.getFullYear()-o.getFullYear(),c=nb(n)-nb(o);return a*4+c}function Hx(t,i){const n=dn(t),o=dn(i);return n.getFullYear()-o.getFullYear()}function KY(t,i){const n=dn(t),o=dn(i),a=B8(n,o),c=Math.abs(pk(n,o));n.setDate(n.getDate()-a*c);const d=+(B8(n,o)===-a),p=a*(c-d);return p===0?0:p}function B8(t,i){const n=t.getFullYear()-i.getFullYear()||t.getMonth()-i.getMonth()||t.getDate()-i.getDate()||t.getHours()-i.getHours()||t.getMinutes()-i.getMinutes()||t.getSeconds()-i.getSeconds()||t.getMilliseconds()-i.getMilliseconds();return n<0?-1:n>0?1:n}function KP(t){const i=dn(t);return i.setHours(23,59,59,999),i}function QP(t){const i=dn(t),n=i.getMonth();return i.setFullYear(i.getFullYear(),n+1,0),i.setHours(23,59,59,999),i}function qD(t){const i=dn(t),n=i.getMonth(),o=n-n%3;return i.setMonth(o,1),i.setHours(0,0,0,0),i}function ZP(t){const i=dn(t);return i.setDate(1),i.setHours(0,0,0,0),i}function JP(t){const i=dn(t),n=i.getFullYear();return i.setFullYear(n+1,0,0),i.setHours(23,59,59,999),i}function v5(t){const i=dn(t),n=xi(t,0);return n.setFullYear(i.getFullYear(),0,1),n.setHours(0,0,0,0),n}function QY(t,i){var p,m;const n=kb(),o=n.weekStartsOn??((m=(p=n.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,a=dn(t),c=a.getDay(),d=(c<o?-7:0)+6-(c-o);return a.setDate(a.getDate()+d),a.setHours(23,59,59,999),a}const ZY={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},JY=(t,i,n)=>{let o;const a=ZY[t];return typeof a=="string"?o=a:i===1?o=a.one:o=a.other.replace("{{count}}",i.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+o:o+" ago":o};function BE(t){return(i={})=>{const n=i.width?String(i.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const XY={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},eK={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},tK={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},nK={date:BE({formats:XY,defaultWidth:"full"}),time:BE({formats:eK,defaultWidth:"full"}),dateTime:BE({formats:tK,defaultWidth:"full"})},rK={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},iK=(t,i,n,o)=>rK[t];function qv(t){return(i,n)=>{const o=n!=null&&n.context?String(n.context):"standalone";let a;if(o==="formatting"&&t.formattingValues){const d=t.defaultFormattingWidth||t.defaultWidth,p=n!=null&&n.width?String(n.width):d;a=t.formattingValues[p]||t.formattingValues[d]}else{const d=t.defaultWidth,p=n!=null&&n.width?String(n.width):t.defaultWidth;a=t.values[p]||t.values[d]}const c=t.argumentCallback?t.argumentCallback(i):i;return a[c]}}const oK={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},sK={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},aK={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},lK={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},uK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dK=(t,i)=>{const n=Number(t),o=n%100;if(o>20||o<10)switch(o%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},hK={ordinalNumber:dK,era:qv({values:oK,defaultWidth:"wide"}),quarter:qv({values:sK,defaultWidth:"wide",argumentCallback:t=>t-1}),month:qv({values:aK,defaultWidth:"wide"}),day:qv({values:lK,defaultWidth:"wide"}),dayPeriod:qv({values:cK,defaultWidth:"wide",formattingValues:uK,defaultFormattingWidth:"wide"})};function Vv(t){return(i,n={})=>{const o=n.width,a=o&&t.matchPatterns[o]||t.matchPatterns[t.defaultMatchWidth],c=i.match(a);if(!c)return null;const d=c[0],p=o&&t.parsePatterns[o]||t.parsePatterns[t.defaultParseWidth],m=Array.isArray(p)?pK(p,_=>_.test(d)):fK(p,_=>_.test(d));let k;k=t.valueCallback?t.valueCallback(m):m,k=n.valueCallback?n.valueCallback(k):k;const v=i.slice(d.length);return{value:k,rest:v}}}function fK(t,i){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&i(t[n]))return n}function pK(t,i){for(let n=0;n<t.length;n++)if(i(t[n]))return n}function mK(t){return(i,n={})=>{const o=i.match(t.matchPattern);if(!o)return null;const a=o[0],c=i.match(t.parsePattern);if(!c)return null;let d=t.valueCallback?t.valueCallback(c[0]):c[0];d=n.valueCallback?n.valueCallback(d):d;const p=i.slice(a.length);return{value:d,rest:p}}}const gK=/^(\d+)(th|st|nd|rd)?/i,bK=/\d+/i,kK={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},wK={any:[/^b/i,/^(a|c)/i]},vK={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},yK={any:[/1/i,/2/i,/3/i,/4/i]},AK={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_K={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},CK={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xK={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},SK={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},EK={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},DK={ordinalNumber:mK({matchPattern:gK,parsePattern:bK,valueCallback:t=>parseInt(t,10)}),era:Vv({matchPatterns:kK,defaultMatchWidth:"wide",parsePatterns:wK,defaultParseWidth:"any"}),quarter:Vv({matchPatterns:vK,defaultMatchWidth:"wide",parsePatterns:yK,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Vv({matchPatterns:AK,defaultMatchWidth:"wide",parsePatterns:_K,defaultParseWidth:"any"}),day:Vv({matchPatterns:CK,defaultMatchWidth:"wide",parsePatterns:xK,defaultParseWidth:"any"}),dayPeriod:Vv({matchPatterns:SK,defaultMatchWidth:"any",parsePatterns:EK,defaultParseWidth:"any"})},XP={code:"en-US",formatDistance:JY,formatLong:nK,formatRelative:iK,localize:hK,match:DK,options:{weekStartsOn:0,firstWeekContainsDate:1}};function IK(t){const i=dn(t);return pk(i,v5(i))+1}function tI(t){const i=dn(t),n=+fk(i)-+WY(i);return Math.round(n/GP)+1}function nI(t,i){var v,_,x,y;const n=dn(t),o=n.getFullYear(),a=kb(),c=(i==null?void 0:i.firstWeekContainsDate)??((_=(v=i==null?void 0:i.locale)==null?void 0:v.options)==null?void 0:_.firstWeekContainsDate)??a.firstWeekContainsDate??((y=(x=a.locale)==null?void 0:x.options)==null?void 0:y.firstWeekContainsDate)??1,d=xi(t,0);d.setFullYear(o+1,0,c),d.setHours(0,0,0,0);const p=pp(d,i),m=xi(t,0);m.setFullYear(o,0,c),m.setHours(0,0,0,0);const k=pp(m,i);return n.getTime()>=p.getTime()?o+1:n.getTime()>=k.getTime()?o:o-1}function TK(t,i){var p,m,k,v;const n=kb(),o=(i==null?void 0:i.firstWeekContainsDate)??((m=(p=i==null?void 0:i.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((v=(k=n.locale)==null?void 0:k.options)==null?void 0:v.firstWeekContainsDate)??1,a=nI(t,i),c=xi(t,0);return c.setFullYear(a,0,o),c.setHours(0,0,0,0),pp(c,i)}function e7(t,i){const n=dn(t),o=+pp(n,i)-+TK(n,i);return Math.round(o/GP)+1}function Ci(t,i){const n=t<0?"-":"",o=Math.abs(t).toString().padStart(i,"0");return n+o}const vm={y(t,i){const n=t.getFullYear(),o=n>0?n:1-n;return Ci(i==="yy"?o%100:o,i.length)},M(t,i){const n=t.getMonth();return i==="M"?String(n+1):Ci(n+1,2)},d(t,i){return Ci(t.getDate(),i.length)},a(t,i){const n=t.getHours()/12>=1?"pm":"am";switch(i){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,i){return Ci(t.getHours()%12||12,i.length)},H(t,i){return Ci(t.getHours(),i.length)},m(t,i){return Ci(t.getMinutes(),i.length)},s(t,i){return Ci(t.getSeconds(),i.length)},S(t,i){const n=i.length,o=t.getMilliseconds(),a=Math.trunc(o*Math.pow(10,n-3));return Ci(a,i.length)}},j0={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},L8={G:function(t,i,n){const o=t.getFullYear()>0?1:0;switch(i){case"G":case"GG":case"GGG":return n.era(o,{width:"abbreviated"});case"GGGGG":return n.era(o,{width:"narrow"});case"GGGG":default:return n.era(o,{width:"wide"})}},y:function(t,i,n){if(i==="yo"){const o=t.getFullYear(),a=o>0?o:1-o;return n.ordinalNumber(a,{unit:"year"})}return vm.y(t,i)},Y:function(t,i,n,o){const a=nI(t,o),c=a>0?a:1-a;if(i==="YY"){const d=c%100;return Ci(d,2)}return i==="Yo"?n.ordinalNumber(c,{unit:"year"}):Ci(c,i.length)},R:function(t,i){const n=YP(t);return Ci(n,i.length)},u:function(t,i){const n=t.getFullYear();return Ci(n,i.length)},Q:function(t,i,n){const o=Math.ceil((t.getMonth()+1)/3);switch(i){case"Q":return String(o);case"QQ":return Ci(o,2);case"Qo":return n.ordinalNumber(o,{unit:"quarter"});case"QQQ":return n.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(o,{width:"wide",context:"formatting"})}},q:function(t,i,n){const o=Math.ceil((t.getMonth()+1)/3);switch(i){case"q":return String(o);case"qq":return Ci(o,2);case"qo":return n.ordinalNumber(o,{unit:"quarter"});case"qqq":return n.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(o,{width:"wide",context:"standalone"})}},M:function(t,i,n){const o=t.getMonth();switch(i){case"M":case"MM":return vm.M(t,i);case"Mo":return n.ordinalNumber(o+1,{unit:"month"});case"MMM":return n.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(o,{width:"wide",context:"formatting"})}},L:function(t,i,n){const o=t.getMonth();switch(i){case"L":return String(o+1);case"LL":return Ci(o+1,2);case"Lo":return n.ordinalNumber(o+1,{unit:"month"});case"LLL":return n.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(o,{width:"wide",context:"standalone"})}},w:function(t,i,n,o){const a=e7(t,o);return i==="wo"?n.ordinalNumber(a,{unit:"week"}):Ci(a,i.length)},I:function(t,i,n){const o=tI(t);return i==="Io"?n.ordinalNumber(o,{unit:"week"}):Ci(o,i.length)},d:function(t,i,n){return i==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):vm.d(t,i)},D:function(t,i,n){const o=IK(t);return i==="Do"?n.ordinalNumber(o,{unit:"dayOfYear"}):Ci(o,i.length)},E:function(t,i,n){const o=t.getDay();switch(i){case"E":case"EE":case"EEE":return n.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(o,{width:"short",context:"formatting"});case"EEEE":default:return n.day(o,{width:"wide",context:"formatting"})}},e:function(t,i,n,o){const a=t.getDay(),c=(a-o.weekStartsOn+8)%7||7;switch(i){case"e":return String(c);case"ee":return Ci(c,2);case"eo":return n.ordinalNumber(c,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,i,n,o){const a=t.getDay(),c=(a-o.weekStartsOn+8)%7||7;switch(i){case"c":return String(c);case"cc":return Ci(c,i.length);case"co":return n.ordinalNumber(c,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,i,n){const o=t.getDay(),a=o===0?7:o;switch(i){case"i":return String(a);case"ii":return Ci(a,i.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(o,{width:"short",context:"formatting"});case"iiii":default:return n.day(o,{width:"wide",context:"formatting"})}},a:function(t,i,n){const a=t.getHours()/12>=1?"pm":"am";switch(i){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,i,n){const o=t.getHours();let a;switch(o===12?a=j0.noon:o===0?a=j0.midnight:a=o/12>=1?"pm":"am",i){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,i,n){const o=t.getHours();let a;switch(o>=17?a=j0.evening:o>=12?a=j0.afternoon:o>=4?a=j0.morning:a=j0.night,i){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,i,n){if(i==="ho"){let o=t.getHours()%12;return o===0&&(o=12),n.ordinalNumber(o,{unit:"hour"})}return vm.h(t,i)},H:function(t,i,n){return i==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):vm.H(t,i)},K:function(t,i,n){const o=t.getHours()%12;return i==="Ko"?n.ordinalNumber(o,{unit:"hour"}):Ci(o,i.length)},k:function(t,i,n){let o=t.getHours();return o===0&&(o=24),i==="ko"?n.ordinalNumber(o,{unit:"hour"}):Ci(o,i.length)},m:function(t,i,n){return i==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):vm.m(t,i)},s:function(t,i,n){return i==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):vm.s(t,i)},S:function(t,i){return vm.S(t,i)},X:function(t,i,n){const o=t.getTimezoneOffset();if(o===0)return"Z";switch(i){case"X":return R8(o);case"XXXX":case"XX":return Hg(o);case"XXXXX":case"XXX":default:return Hg(o,":")}},x:function(t,i,n){const o=t.getTimezoneOffset();switch(i){case"x":return R8(o);case"xxxx":case"xx":return Hg(o);case"xxxxx":case"xxx":default:return Hg(o,":")}},O:function(t,i,n){const o=t.getTimezoneOffset();switch(i){case"O":case"OO":case"OOO":return"GMT"+P8(o,":");case"OOOO":default:return"GMT"+Hg(o,":")}},z:function(t,i,n){const o=t.getTimezoneOffset();switch(i){case"z":case"zz":case"zzz":return"GMT"+P8(o,":");case"zzzz":default:return"GMT"+Hg(o,":")}},t:function(t,i,n){const o=Math.trunc(t.getTime()/1e3);return Ci(o,i.length)},T:function(t,i,n){const o=t.getTime();return Ci(o,i.length)}};function P8(t,i=""){const n=t>0?"-":"+",o=Math.abs(t),a=Math.trunc(o/60),c=o%60;return c===0?n+String(a):n+String(a)+i+Ci(c,2)}function R8(t,i){return t%60===0?(t>0?"-":"+")+Ci(Math.abs(t)/60,2):Hg(t,i)}function Hg(t,i=""){const n=t>0?"-":"+",o=Math.abs(t),a=Ci(Math.trunc(o/60),2),c=Ci(o%60,2);return n+a+i+c}const z8=(t,i)=>{switch(t){case"P":return i.date({width:"short"});case"PP":return i.date({width:"medium"});case"PPP":return i.date({width:"long"});case"PPPP":default:return i.date({width:"full"})}},t7=(t,i)=>{switch(t){case"p":return i.time({width:"short"});case"pp":return i.time({width:"medium"});case"ppp":return i.time({width:"long"});case"pppp":default:return i.time({width:"full"})}},MK=(t,i)=>{const n=t.match(/(P+)(p+)?/)||[],o=n[1],a=n[2];if(!a)return z8(t,i);let c;switch(o){case"P":c=i.dateTime({width:"short"});break;case"PP":c=i.dateTime({width:"medium"});break;case"PPP":c=i.dateTime({width:"long"});break;case"PPPP":default:c=i.dateTime({width:"full"});break}return c.replace("{{date}}",z8(o,i)).replace("{{time}}",t7(a,i))},$x={p:t7,P:MK},NK=/^D+$/,jK=/^Y+$/,OK=["D","DD","YY","YYYY"];function n7(t){return NK.test(t)}function r7(t){return jK.test(t)}function VD(t,i,n){const o=BK(t,i,n);if(console.warn(o),OK.includes(t))throw new RangeError(o)}function BK(t,i,n){const o=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${i}\`) for formatting ${o} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const LK=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,PK=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,RK=/^'([^]*?)'?$/,zK=/''/g,FK=/[a-zA-Z]/;function F8(t,i,n){var v,_,x,y,D,E,j,M;const o=kb(),a=(n==null?void 0:n.locale)??o.locale??XP,c=(n==null?void 0:n.firstWeekContainsDate)??((_=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:_.firstWeekContainsDate)??o.firstWeekContainsDate??((y=(x=o.locale)==null?void 0:x.options)==null?void 0:y.firstWeekContainsDate)??1,d=(n==null?void 0:n.weekStartsOn)??((E=(D=n==null?void 0:n.locale)==null?void 0:D.options)==null?void 0:E.weekStartsOn)??o.weekStartsOn??((M=(j=o.locale)==null?void 0:j.options)==null?void 0:M.weekStartsOn)??0,p=dn(t);if(!Ux(p))throw new RangeError("Invalid time value");let m=i.match(PK).map(B=>{const z=B[0];if(z==="p"||z==="P"){const G=$x[z];return G(B,a.formatLong)}return B}).join("").match(LK).map(B=>{if(B==="''")return{isToken:!1,value:"'"};const z=B[0];if(z==="'")return{isToken:!1,value:UK(B)};if(L8[z])return{isToken:!0,value:B};if(z.match(FK))throw new RangeError("Format string contains an unescaped latin alphabet character `"+z+"`");return{isToken:!1,value:B}});a.localize.preprocessor&&(m=a.localize.preprocessor(p,m));const k={firstWeekContainsDate:c,weekStartsOn:d,locale:a};return m.map(B=>{if(!B.isToken)return B.value;const z=B.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&r7(z)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&n7(z))&&VD(z,i,String(t));const G=L8[z[0]];return G(p,z,a.localize,k)}).join("")}function UK(t){const i=t.match(RK);return i?i[1].replace(zK,"'"):t}function U8(t){return dn(t).getDate()}function qK(t){return dn(t).getDay()}function VK(t){const i=dn(t),n=i.getFullYear(),o=i.getMonth(),a=xi(t,0);return a.setFullYear(n,o+1,0),a.setHours(0,0,0,0),a.getDate()}function HK(){return Object.assign({},kb())}function sf(t){return dn(t).getHours()}function $K(t){let n=dn(t).getDay();return n===0&&(n=7),n}function af(t){return dn(t).getMinutes()}function Tl(t){return dn(t).getMonth()}function dp(t){return dn(t).getSeconds()}function HD(t){return dn(t).getTime()}function Ar(t){return dn(t).getFullYear()}function Rm(t,i){const n=dn(t),o=dn(i);return n.getTime()>o.getTime()}function hb(t,i){const n=dn(t),o=dn(i);return+n<+o}function WK(t,i){const n=dn(t),o=dn(i);return+n==+o}function GK(t,i){const n=i instanceof Date?xi(i,0):new i(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const YK=10;class i7{constructor(){Jt(this,"subPriority",0)}validate(i,n){return!0}}class KK extends i7{constructor(i,n,o,a,c){super(),this.value=i,this.validateValue=n,this.setValue=o,this.priority=a,c&&(this.subPriority=c)}validate(i,n){return this.validateValue(i,this.value,n)}set(i,n,o){return this.setValue(i,n,this.value,o)}}class QK extends i7{constructor(){super(...arguments);Jt(this,"priority",YK);Jt(this,"subPriority",-1)}set(n,o){return o.timestampIsSet?n:xi(n,GK(n,Date))}}let ui=class{run(i,n,o,a){const c=this.parse(i,n,o,a);return c?{setter:new KK(c.value,this.validate,this.set,this.priority,this.subPriority),rest:c.rest}:null}validate(i,n,o){return!0}};class ZK extends ui{constructor(){super(...arguments);Jt(this,"priority",140);Jt(this,"incompatibleTokens",["R","u","t","T"])}parse(n,o,a){switch(o){case"G":case"GG":case"GGG":return a.era(n,{width:"abbreviated"})||a.era(n,{width:"narrow"});case"GGGGG":return a.era(n,{width:"narrow"});case"GGGG":default:return a.era(n,{width:"wide"})||a.era(n,{width:"abbreviated"})||a.era(n,{width:"narrow"})}}set(n,o,a){return o.era=a,n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}}const gs={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Jh={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function bs(t,i){return t&&{value:i(t.value),rest:t.rest}}function jo(t,i){const n=i.match(t);return n?{value:parseInt(n[0],10),rest:i.slice(n[0].length)}:null}function Xh(t,i){const n=i.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:i.slice(1)};const o=n[1]==="+"?1:-1,a=n[2]?parseInt(n[2],10):0,c=n[3]?parseInt(n[3],10):0,d=n[5]?parseInt(n[5],10):0;return{value:o*(a*w5+c*k5+d*VY),rest:i.slice(n[0].length)}}function o7(t){return jo(gs.anyDigitsSigned,t)}function rs(t,i){switch(t){case 1:return jo(gs.singleDigit,i);case 2:return jo(gs.twoDigits,i);case 3:return jo(gs.threeDigits,i);case 4:return jo(gs.fourDigits,i);default:return jo(new RegExp("^\\d{1,"+t+"}"),i)}}function Wx(t,i){switch(t){case 1:return jo(gs.singleDigitSigned,i);case 2:return jo(gs.twoDigitsSigned,i);case 3:return jo(gs.threeDigitsSigned,i);case 4:return jo(gs.fourDigitsSigned,i);default:return jo(new RegExp("^-?\\d{1,"+t+"}"),i)}}function rI(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function s7(t,i){const n=i>0,o=n?i:1-i;let a;if(o<=50)a=t||100;else{const c=o+50,d=Math.trunc(c/100)*100,p=t>=c%100;a=t+d-(p?100:0)}return n?a:1-a}function a7(t){return t%400===0||t%4===0&&t%100!==0}class JK extends ui{constructor(){super(...arguments);Jt(this,"priority",130);Jt(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,o,a){const c=d=>({year:d,isTwoDigitYear:o==="yy"});switch(o){case"y":return bs(rs(4,n),c);case"yo":return bs(a.ordinalNumber(n,{unit:"year"}),c);default:return bs(rs(o.length,n),c)}}validate(n,o){return o.isTwoDigitYear||o.year>0}set(n,o,a){const c=n.getFullYear();if(a.isTwoDigitYear){const p=s7(a.year,c);return n.setFullYear(p,0,1),n.setHours(0,0,0,0),n}const d=!("era"in o)||o.era===1?a.year:1-a.year;return n.setFullYear(d,0,1),n.setHours(0,0,0,0),n}}class XK extends ui{constructor(){super(...arguments);Jt(this,"priority",130);Jt(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,o,a){const c=d=>({year:d,isTwoDigitYear:o==="YY"});switch(o){case"Y":return bs(rs(4,n),c);case"Yo":return bs(a.ordinalNumber(n,{unit:"year"}),c);default:return bs(rs(o.length,n),c)}}validate(n,o){return o.isTwoDigitYear||o.year>0}set(n,o,a,c){const d=nI(n,c);if(a.isTwoDigitYear){const m=s7(a.year,d);return n.setFullYear(m,0,c.firstWeekContainsDate),n.setHours(0,0,0,0),pp(n,c)}const p=!("era"in o)||o.era===1?a.year:1-a.year;return n.setFullYear(p,0,c.firstWeekContainsDate),n.setHours(0,0,0,0),pp(n,c)}}class eQ extends ui{constructor(){super(...arguments);Jt(this,"priority",130);Jt(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,o){return Wx(o==="R"?4:o.length,n)}set(n,o,a){const c=xi(n,0);return c.setFullYear(a,0,4),c.setHours(0,0,0,0),fk(c)}}class tQ extends ui{constructor(){super(...arguments);Jt(this,"priority",130);Jt(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,o){return Wx(o==="u"?4:o.length,n)}set(n,o,a){return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}}class nQ extends ui{constructor(){super(...arguments);Jt(this,"priority",120);Jt(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,o,a){switch(o){case"Q":case"QQ":return rs(o.length,n);case"Qo":return a.ordinalNumber(n,{unit:"quarter"});case"QQQ":return a.quarter(n,{width:"abbreviated",context:"formatting"})||a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(n,{width:"wide",context:"formatting"})||a.quarter(n,{width:"abbreviated",context:"formatting"})||a.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,o){return o>=1&&o<=4}set(n,o,a){return n.setMonth((a-1)*3,1),n.setHours(0,0,0,0),n}}class rQ extends ui{constructor(){super(...arguments);Jt(this,"priority",120);Jt(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,o,a){switch(o){case"q":case"qq":return rs(o.length,n);case"qo":return a.ordinalNumber(n,{unit:"quarter"});case"qqq":return a.quarter(n,{width:"abbreviated",context:"standalone"})||a.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(n,{width:"wide",context:"standalone"})||a.quarter(n,{width:"abbreviated",context:"standalone"})||a.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,o){return o>=1&&o<=4}set(n,o,a){return n.setMonth((a-1)*3,1),n.setHours(0,0,0,0),n}}class iQ extends ui{constructor(){super(...arguments);Jt(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Jt(this,"priority",110)}parse(n,o,a){const c=d=>d-1;switch(o){case"M":return bs(jo(gs.month,n),c);case"MM":return bs(rs(2,n),c);case"Mo":return bs(a.ordinalNumber(n,{unit:"month"}),c);case"MMM":return a.month(n,{width:"abbreviated",context:"formatting"})||a.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(n,{width:"wide",context:"formatting"})||a.month(n,{width:"abbreviated",context:"formatting"})||a.month(n,{width:"narrow",context:"formatting"})}}validate(n,o){return o>=0&&o<=11}set(n,o,a){return n.setMonth(a,1),n.setHours(0,0,0,0),n}}class oQ extends ui{constructor(){super(...arguments);Jt(this,"priority",110);Jt(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,o,a){const c=d=>d-1;switch(o){case"L":return bs(jo(gs.month,n),c);case"LL":return bs(rs(2,n),c);case"Lo":return bs(a.ordinalNumber(n,{unit:"month"}),c);case"LLL":return a.month(n,{width:"abbreviated",context:"standalone"})||a.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(n,{width:"wide",context:"standalone"})||a.month(n,{width:"abbreviated",context:"standalone"})||a.month(n,{width:"narrow",context:"standalone"})}}validate(n,o){return o>=0&&o<=11}set(n,o,a){return n.setMonth(a,1),n.setHours(0,0,0,0),n}}function sQ(t,i,n){const o=dn(t),a=e7(o,n)-i;return o.setDate(o.getDate()-a*7),o}class aQ extends ui{constructor(){super(...arguments);Jt(this,"priority",100);Jt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,o,a){switch(o){case"w":return jo(gs.week,n);case"wo":return a.ordinalNumber(n,{unit:"week"});default:return rs(o.length,n)}}validate(n,o){return o>=1&&o<=53}set(n,o,a,c){return pp(sQ(n,a,c),c)}}function lQ(t,i){const n=dn(t),o=tI(n)-i;return n.setDate(n.getDate()-o*7),n}class cQ extends ui{constructor(){super(...arguments);Jt(this,"priority",100);Jt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,o,a){switch(o){case"I":return jo(gs.week,n);case"Io":return a.ordinalNumber(n,{unit:"week"});default:return rs(o.length,n)}}validate(n,o){return o>=1&&o<=53}set(n,o,a){return fk(lQ(n,a))}}const uQ=[31,28,31,30,31,30,31,31,30,31,30,31],dQ=[31,29,31,30,31,30,31,31,30,31,30,31];class hQ extends ui{constructor(){super(...arguments);Jt(this,"priority",90);Jt(this,"subPriority",1);Jt(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,o,a){switch(o){case"d":return jo(gs.date,n);case"do":return a.ordinalNumber(n,{unit:"date"});default:return rs(o.length,n)}}validate(n,o){const a=n.getFullYear(),c=a7(a),d=n.getMonth();return c?o>=1&&o<=dQ[d]:o>=1&&o<=uQ[d]}set(n,o,a){return n.setDate(a),n.setHours(0,0,0,0),n}}class fQ extends ui{constructor(){super(...arguments);Jt(this,"priority",90);Jt(this,"subpriority",1);Jt(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,o,a){switch(o){case"D":case"DD":return jo(gs.dayOfYear,n);case"Do":return a.ordinalNumber(n,{unit:"date"});default:return rs(o.length,n)}}validate(n,o){const a=n.getFullYear();return a7(a)?o>=1&&o<=366:o>=1&&o<=365}set(n,o,a){return n.setMonth(0,a),n.setHours(0,0,0,0),n}}function iI(t,i,n){var _,x,y,D;const o=kb(),a=(n==null?void 0:n.weekStartsOn)??((x=(_=n==null?void 0:n.locale)==null?void 0:_.options)==null?void 0:x.weekStartsOn)??o.weekStartsOn??((D=(y=o.locale)==null?void 0:y.options)==null?void 0:D.weekStartsOn)??0,c=dn(t),d=c.getDay(),m=(i%7+7)%7,k=7-a,v=i<0||i>6?i-(d+k)%7:(m+k)%7-(d+k)%7;return rh(c,v)}class pQ extends ui{constructor(){super(...arguments);Jt(this,"priority",90);Jt(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,o,a){switch(o){case"E":case"EE":case"EEE":return a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(n,{width:"wide",context:"formatting"})||a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"})}}validate(n,o){return o>=0&&o<=6}set(n,o,a,c){return n=iI(n,a,c),n.setHours(0,0,0,0),n}}class mQ extends ui{constructor(){super(...arguments);Jt(this,"priority",90);Jt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,o,a,c){const d=p=>{const m=Math.floor((p-1)/7)*7;return(p+c.weekStartsOn+6)%7+m};switch(o){case"e":case"ee":return bs(rs(o.length,n),d);case"eo":return bs(a.ordinalNumber(n,{unit:"day"}),d);case"eee":return a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"eeeee":return a.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(n,{width:"wide",context:"formatting"})||a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"})}}validate(n,o){return o>=0&&o<=6}set(n,o,a,c){return n=iI(n,a,c),n.setHours(0,0,0,0),n}}class gQ extends ui{constructor(){super(...arguments);Jt(this,"priority",90);Jt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,o,a,c){const d=p=>{const m=Math.floor((p-1)/7)*7;return(p+c.weekStartsOn+6)%7+m};switch(o){case"c":case"cc":return bs(rs(o.length,n),d);case"co":return bs(a.ordinalNumber(n,{unit:"day"}),d);case"ccc":return a.day(n,{width:"abbreviated",context:"standalone"})||a.day(n,{width:"short",context:"standalone"})||a.day(n,{width:"narrow",context:"standalone"});case"ccccc":return a.day(n,{width:"narrow",context:"standalone"});case"cccccc":return a.day(n,{width:"short",context:"standalone"})||a.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(n,{width:"wide",context:"standalone"})||a.day(n,{width:"abbreviated",context:"standalone"})||a.day(n,{width:"short",context:"standalone"})||a.day(n,{width:"narrow",context:"standalone"})}}validate(n,o){return o>=0&&o<=6}set(n,o,a,c){return n=iI(n,a,c),n.setHours(0,0,0,0),n}}function bQ(t,i){const n=dn(t),o=$K(n),a=i-o;return rh(n,a)}class kQ extends ui{constructor(){super(...arguments);Jt(this,"priority",90);Jt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,o,a){const c=d=>d===0?7:d;switch(o){case"i":case"ii":return rs(o.length,n);case"io":return a.ordinalNumber(n,{unit:"day"});case"iii":return bs(a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"}),c);case"iiiii":return bs(a.day(n,{width:"narrow",context:"formatting"}),c);case"iiiiii":return bs(a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"}),c);case"iiii":default:return bs(a.day(n,{width:"wide",context:"formatting"})||a.day(n,{width:"abbreviated",context:"formatting"})||a.day(n,{width:"short",context:"formatting"})||a.day(n,{width:"narrow",context:"formatting"}),c)}}validate(n,o){return o>=1&&o<=7}set(n,o,a){return n=bQ(n,a),n.setHours(0,0,0,0),n}}class wQ extends ui{constructor(){super(...arguments);Jt(this,"priority",80);Jt(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,o,a){switch(o){case"a":case"aa":case"aaa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})||a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,o,a){return n.setHours(rI(a),0,0,0),n}}class vQ extends ui{constructor(){super(...arguments);Jt(this,"priority",80);Jt(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,o,a){switch(o){case"b":case"bb":case"bbb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})||a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,o,a){return n.setHours(rI(a),0,0,0),n}}class yQ extends ui{constructor(){super(...arguments);Jt(this,"priority",80);Jt(this,"incompatibleTokens",["a","b","t","T"])}parse(n,o,a){switch(o){case"B":case"BB":case"BBB":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})||a.dayPeriod(n,{width:"abbreviated",context:"formatting"})||a.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,o,a){return n.setHours(rI(a),0,0,0),n}}class AQ extends ui{constructor(){super(...arguments);Jt(this,"priority",70);Jt(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,o,a){switch(o){case"h":return jo(gs.hour12h,n);case"ho":return a.ordinalNumber(n,{unit:"hour"});default:return rs(o.length,n)}}validate(n,o){return o>=1&&o<=12}set(n,o,a){const c=n.getHours()>=12;return c&&a<12?n.setHours(a+12,0,0,0):!c&&a===12?n.setHours(0,0,0,0):n.setHours(a,0,0,0),n}}class _Q extends ui{constructor(){super(...arguments);Jt(this,"priority",70);Jt(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,o,a){switch(o){case"H":return jo(gs.hour23h,n);case"Ho":return a.ordinalNumber(n,{unit:"hour"});default:return rs(o.length,n)}}validate(n,o){return o>=0&&o<=23}set(n,o,a){return n.setHours(a,0,0,0),n}}class CQ extends ui{constructor(){super(...arguments);Jt(this,"priority",70);Jt(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,o,a){switch(o){case"K":return jo(gs.hour11h,n);case"Ko":return a.ordinalNumber(n,{unit:"hour"});default:return rs(o.length,n)}}validate(n,o){return o>=0&&o<=11}set(n,o,a){return n.getHours()>=12&&a<12?n.setHours(a+12,0,0,0):n.setHours(a,0,0,0),n}}class xQ extends ui{constructor(){super(...arguments);Jt(this,"priority",70);Jt(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,o,a){switch(o){case"k":return jo(gs.hour24h,n);case"ko":return a.ordinalNumber(n,{unit:"hour"});default:return rs(o.length,n)}}validate(n,o){return o>=1&&o<=24}set(n,o,a){const c=a<=24?a%24:a;return n.setHours(c,0,0,0),n}}class SQ extends ui{constructor(){super(...arguments);Jt(this,"priority",60);Jt(this,"incompatibleTokens",["t","T"])}parse(n,o,a){switch(o){case"m":return jo(gs.minute,n);case"mo":return a.ordinalNumber(n,{unit:"minute"});default:return rs(o.length,n)}}validate(n,o){return o>=0&&o<=59}set(n,o,a){return n.setMinutes(a,0,0),n}}class EQ extends ui{constructor(){super(...arguments);Jt(this,"priority",50);Jt(this,"incompatibleTokens",["t","T"])}parse(n,o,a){switch(o){case"s":return jo(gs.second,n);case"so":return a.ordinalNumber(n,{unit:"second"});default:return rs(o.length,n)}}validate(n,o){return o>=0&&o<=59}set(n,o,a){return n.setSeconds(a,0),n}}class DQ extends ui{constructor(){super(...arguments);Jt(this,"priority",30);Jt(this,"incompatibleTokens",["t","T"])}parse(n,o){const a=c=>Math.trunc(c*Math.pow(10,-o.length+3));return bs(rs(o.length,n),a)}set(n,o,a){return n.setMilliseconds(a),n}}class IQ extends ui{constructor(){super(...arguments);Jt(this,"priority",10);Jt(this,"incompatibleTokens",["t","T","x"])}parse(n,o){switch(o){case"X":return Xh(Jh.basicOptionalMinutes,n);case"XX":return Xh(Jh.basic,n);case"XXXX":return Xh(Jh.basicOptionalSeconds,n);case"XXXXX":return Xh(Jh.extendedOptionalSeconds,n);case"XXX":default:return Xh(Jh.extended,n)}}set(n,o,a){return o.timestampIsSet?n:xi(n,n.getTime()-zx(n)-a)}}class TQ extends ui{constructor(){super(...arguments);Jt(this,"priority",10);Jt(this,"incompatibleTokens",["t","T","X"])}parse(n,o){switch(o){case"x":return Xh(Jh.basicOptionalMinutes,n);case"xx":return Xh(Jh.basic,n);case"xxxx":return Xh(Jh.basicOptionalSeconds,n);case"xxxxx":return Xh(Jh.extendedOptionalSeconds,n);case"xxx":default:return Xh(Jh.extended,n)}}set(n,o,a){return o.timestampIsSet?n:xi(n,n.getTime()-zx(n)-a)}}class MQ extends ui{constructor(){super(...arguments);Jt(this,"priority",40);Jt(this,"incompatibleTokens","*")}parse(n){return o7(n)}set(n,o,a){return[xi(n,a*1e3),{timestampIsSet:!0}]}}class NQ extends ui{constructor(){super(...arguments);Jt(this,"priority",20);Jt(this,"incompatibleTokens","*")}parse(n){return o7(n)}set(n,o,a){return[xi(n,a),{timestampIsSet:!0}]}}const jQ={G:new ZK,y:new JK,Y:new XK,R:new eQ,u:new tQ,Q:new nQ,q:new rQ,M:new iQ,L:new oQ,w:new aQ,I:new cQ,d:new hQ,D:new fQ,E:new pQ,e:new mQ,c:new gQ,i:new kQ,a:new wQ,b:new vQ,B:new yQ,h:new AQ,H:new _Q,K:new CQ,k:new xQ,m:new SQ,s:new EQ,S:new DQ,X:new IQ,x:new TQ,t:new MQ,T:new NQ},OQ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,BQ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,LQ=/^'([^]*?)'?$/,PQ=/''/g,RQ=/\S/,zQ=/[a-zA-Z]/;function LE(t,i,n,o){var E,j,M,B,z,G,J,H;const a=HK(),c=(o==null?void 0:o.locale)??a.locale??XP,d=(o==null?void 0:o.firstWeekContainsDate)??((j=(E=o==null?void 0:o.locale)==null?void 0:E.options)==null?void 0:j.firstWeekContainsDate)??a.firstWeekContainsDate??((B=(M=a.locale)==null?void 0:M.options)==null?void 0:B.firstWeekContainsDate)??1,p=(o==null?void 0:o.weekStartsOn)??((G=(z=o==null?void 0:o.locale)==null?void 0:z.options)==null?void 0:G.weekStartsOn)??a.weekStartsOn??((H=(J=a.locale)==null?void 0:J.options)==null?void 0:H.weekStartsOn)??0;if(i==="")return t===""?dn(n):xi(n,NaN);const m={firstWeekContainsDate:d,weekStartsOn:p,locale:c},k=[new QK],v=i.match(BQ).map(F=>{const Q=F[0];if(Q in $x){const Z=$x[Q];return Z(F,c.formatLong)}return F}).join("").match(OQ),_=[];for(let F of v){!(o!=null&&o.useAdditionalWeekYearTokens)&&r7(F)&&VD(F,i,t),!(o!=null&&o.useAdditionalDayOfYearTokens)&&n7(F)&&VD(F,i,t);const Q=F[0],Z=jQ[Q];if(Z){const{incompatibleTokens:ae}=Z;if(Array.isArray(ae)){const Y=_.find(U=>ae.includes(U.token)||U.token===Q);if(Y)throw new RangeError(`The format string mustn't contain \`${Y.fullToken}\` and \`${F}\` at the same time`)}else if(Z.incompatibleTokens==="*"&&_.length>0)throw new RangeError(`The format string mustn't contain \`${F}\` and any other token at the same time`);_.push({token:Q,fullToken:F});const X=Z.run(t,F,c.match,m);if(!X)return xi(n,NaN);k.push(X.setter),t=X.rest}else{if(Q.match(zQ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Q+"`");if(F==="''"?F="'":Q==="'"&&(F=FQ(F)),t.indexOf(F)===0)t=t.slice(F.length);else return xi(n,NaN)}}if(t.length>0&&RQ.test(t))return xi(n,NaN);const x=k.map(F=>F.priority).sort((F,Q)=>Q-F).filter((F,Q,Z)=>Z.indexOf(F)===Q).map(F=>k.filter(Q=>Q.priority===F).sort((Q,Z)=>Z.subPriority-Q.subPriority)).map(F=>F[0]);let y=dn(n);if(isNaN(y.getTime()))return xi(n,NaN);const D={};for(const F of x){if(!F.validate(y,m))return xi(n,NaN);const Q=F.set(y,D,m);Array.isArray(Q)?(y=Q[0],Object.assign(D,Q[1])):y=Q}return xi(n,y)}function FQ(t){return t.match(LQ)[1].replace(PQ,"'")}function UQ(t,i){const n=dn(t),o=dn(i);return n.getFullYear()===o.getFullYear()&&n.getMonth()===o.getMonth()}function qQ(t,i){const n=qD(t),o=qD(i);return+n==+o}function VQ(t,i){const n=dn(t),o=dn(i);return n.getFullYear()===o.getFullYear()}function Ry(t,i){const n=+dn(t),[o,a]=[+dn(i.start),+dn(i.end)].sort((c,d)=>c-d);return n>=o&&n<=a}function HQ(t,i){return rh(t,-1)}function $Q(t,i){const o=KQ(t);let a;if(o.date){const m=QQ(o.date,2);a=ZQ(m.restDateString,m.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const c=a.getTime();let d=0,p;if(o.time&&(d=JQ(o.time),isNaN(d)))return new Date(NaN);if(o.timezone){if(p=XQ(o.timezone),isNaN(p))return new Date(NaN)}else{const m=new Date(c+d),k=new Date(0);return k.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),k.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),k}return new Date(c+d+p)}const V2={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},WQ=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,GQ=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,YQ=/^([+-])(\d{2})(?::?(\d{2}))?$/;function KQ(t){const i={},n=t.split(V2.dateTimeDelimiter);let o;if(n.length>2)return i;if(/:/.test(n[0])?o=n[0]:(i.date=n[0],o=n[1],V2.timeZoneDelimiter.test(i.date)&&(i.date=t.split(V2.timeZoneDelimiter)[0],o=t.substr(i.date.length,t.length))),o){const a=V2.timezone.exec(o);a?(i.time=o.replace(a[1],""),i.timezone=a[1]):i.time=o}return i}function QQ(t,i){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+i)+"})|(\\d{2}|[+-]\\d{"+(2+i)+"})$)"),o=t.match(n);if(!o)return{year:NaN,restDateString:""};const a=o[1]?parseInt(o[1]):null,c=o[2]?parseInt(o[2]):null;return{year:c===null?a:c*100,restDateString:t.slice((o[1]||o[2]).length)}}function ZQ(t,i){if(i===null)return new Date(NaN);const n=t.match(WQ);if(!n)return new Date(NaN);const o=!!n[4],a=Hv(n[1]),c=Hv(n[2])-1,d=Hv(n[3]),p=Hv(n[4]),m=Hv(n[5])-1;if(o)return iZ(i,p,m)?eZ(i,p,m):new Date(NaN);{const k=new Date(0);return!nZ(i,c,d)||!rZ(i,a)?new Date(NaN):(k.setUTCFullYear(i,c,Math.max(a,d)),k)}}function Hv(t){return t?parseInt(t):1}function JQ(t){const i=t.match(GQ);if(!i)return NaN;const n=PE(i[1]),o=PE(i[2]),a=PE(i[3]);return oZ(n,o,a)?n*w5+o*k5+a*1e3:NaN}function PE(t){return t&&parseFloat(t.replace(",","."))||0}function XQ(t){if(t==="Z")return 0;const i=t.match(YQ);if(!i)return 0;const n=i[1]==="+"?-1:1,o=parseInt(i[2]),a=i[3]&&parseInt(i[3])||0;return sZ(o,a)?n*(o*w5+a*k5):NaN}function eZ(t,i,n){const o=new Date(0);o.setUTCFullYear(t,0,4);const a=o.getUTCDay()||7,c=(i-1)*7+n+1-a;return o.setUTCDate(o.getUTCDate()+c),o}const tZ=[31,null,31,30,31,30,31,31,30,31,30,31];function l7(t){return t%400===0||t%4===0&&t%100!==0}function nZ(t,i,n){return i>=0&&i<=11&&n>=1&&n<=(tZ[i]||(l7(t)?29:28))}function rZ(t,i){return i>=1&&i<=(l7(t)?366:365)}function iZ(t,i,n){return i>=1&&i<=53&&n>=0&&n<=6}function oZ(t,i,n){return t===24?i===0&&n===0:n>=0&&n<60&&i>=0&&i<60&&t>=0&&t<25}function sZ(t,i){return i>=0&&i<=59}function nu(t,i){const n=dn(t),o=n.getFullYear(),a=n.getDate(),c=xi(t,0);c.setFullYear(o,i,15),c.setHours(0,0,0,0);const d=VK(c);return n.setMonth(i,Math.min(a,d)),n}function aZ(t,i){let n=dn(t);return isNaN(+n)?xi(t,NaN):(i.year!=null&&n.setFullYear(i.year),i.month!=null&&(n=nu(n,i.month)),i.date!=null&&n.setDate(i.date),i.hours!=null&&n.setHours(i.hours),i.minutes!=null&&n.setMinutes(i.minutes),i.seconds!=null&&n.setSeconds(i.seconds),i.milliseconds!=null&&n.setMilliseconds(i.milliseconds),n)}function ux(t,i){const n=dn(t);return n.setHours(i),n}function dx(t,i){const n=dn(t);return n.setMinutes(i),n}function Q0(t,i){const n=dn(t),o=Math.trunc(n.getMonth()/3)+1,a=i-o;return nu(n,n.getMonth()+a*3)}function hx(t,i){const n=dn(t);return n.setSeconds(i),n}function Gh(t,i){const n=dn(t);return isNaN(+n)?xi(t,NaN):(n.setFullYear(i),n)}function rb(t,i){return ih(t,-i)}function c7(t,i){return eI(t,-1)}function q8(t,i){return Fx(t,-1)}function mk(t,i){return cp(t,-i)}function y5(){return typeof window<"u"}function Ck(t){return u7(t)?(t.nodeName||"").toLowerCase():"#document"}function uu(t){var i;return(t==null||(i=t.ownerDocument)==null?void 0:i.defaultView)||window}function kf(t){var i;return(i=(u7(t)?t.ownerDocument:t.document)||window.document)==null?void 0:i.documentElement}function u7(t){return y5()?t instanceof Node||t instanceof uu(t).Node:!1}function Ml(t){return y5()?t instanceof Element||t instanceof uu(t).Element:!1}function gf(t){return y5()?t instanceof HTMLElement||t instanceof uu(t).HTMLElement:!1}function V8(t){return!y5()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof uu(t).ShadowRoot}const lZ=new Set(["inline","contents"]);function aA(t){const{overflow:i,overflowX:n,overflowY:o,display:a}=ld(t);return/auto|scroll|overlay|hidden|clip/.test(i+o+n)&&!lZ.has(a)}const cZ=new Set(["table","td","th"]);function uZ(t){return cZ.has(Ck(t))}const dZ=[":popover-open",":modal"];function A5(t){return dZ.some(i=>{try{return t.matches(i)}catch{return!1}})}const hZ=["transform","translate","scale","rotate","perspective"],fZ=["transform","translate","scale","rotate","perspective","filter"],pZ=["paint","layout","strict","content"];function oI(t){const i=sI(),n=Ml(t)?ld(t):t;return hZ.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!i&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!i&&(n.filter?n.filter!=="none":!1)||fZ.some(o=>(n.willChange||"").includes(o))||pZ.some(o=>(n.contain||"").includes(o))}function mZ(t){let i=zm(t);for(;gf(i)&&!gk(i);){if(oI(i))return i;if(A5(i))return null;i=zm(i)}return null}function sI(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const gZ=new Set(["html","body","#document"]);function gk(t){return gZ.has(Ck(t))}function ld(t){return uu(t).getComputedStyle(t)}function _5(t){return Ml(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function zm(t){if(Ck(t)==="html")return t;const i=t.assignedSlot||t.parentNode||V8(t)&&t.host||kf(t);return V8(i)?i.host:i}function d7(t){const i=zm(t);return gk(i)?t.ownerDocument?t.ownerDocument.body:t.body:gf(i)&&aA(i)?i:d7(i)}function zy(t,i,n){var o;i===void 0&&(i=[]),n===void 0&&(n=!0);const a=d7(t),c=a===((o=t.ownerDocument)==null?void 0:o.body),d=uu(a);if(c){const p=$D(d);return i.concat(d,d.visualViewport||[],aA(a)?a:[],p&&n?zy(p):[])}return i.concat(a,zy(a,[],n))}function $D(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const bk=Math.min,ib=Math.max,Gx=Math.round,H2=Math.floor,lf=t=>({x:t,y:t}),bZ={left:"right",right:"left",bottom:"top",top:"bottom"},kZ={start:"end",end:"start"};function wZ(t,i,n){return ib(t,bk(i,n))}function C5(t,i){return typeof t=="function"?t(i):t}function kk(t){return t.split("-")[0]}function lA(t){return t.split("-")[1]}function vZ(t){return t==="x"?"y":"x"}function aI(t){return t==="y"?"height":"width"}const yZ=new Set(["top","bottom"]);function Zg(t){return yZ.has(kk(t))?"y":"x"}function lI(t){return vZ(Zg(t))}function AZ(t,i,n){n===void 0&&(n=!1);const o=lA(t),a=lI(t),c=aI(a);let d=a==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return i.reference[c]>i.floating[c]&&(d=Yx(d)),[d,Yx(d)]}function _Z(t){const i=Yx(t);return[WD(t),i,WD(i)]}function WD(t){return t.replace(/start|end/g,i=>kZ[i])}const H8=["left","right"],$8=["right","left"],CZ=["top","bottom"],xZ=["bottom","top"];function SZ(t,i,n){switch(t){case"top":case"bottom":return n?i?$8:H8:i?H8:$8;case"left":case"right":return i?CZ:xZ;default:return[]}}function EZ(t,i,n,o){const a=lA(t);let c=SZ(kk(t),n==="start",o);return a&&(c=c.map(d=>d+"-"+a),i&&(c=c.concat(c.map(WD)))),c}function Yx(t){return t.replace(/left|right|bottom|top/g,i=>bZ[i])}function DZ(t){return{top:0,right:0,bottom:0,left:0,...t}}function h7(t){return typeof t!="number"?DZ(t):{top:t,right:t,bottom:t,left:t}}function Kx(t){const{x:i,y:n,width:o,height:a}=t;return{width:o,height:a,top:n,left:i,right:i+o,bottom:n+a,x:i,y:n}}var IZ=typeof document<"u",TZ=function(){},Qx=IZ?se.useLayoutEffect:TZ;const MZ={...q6},NZ=MZ.useInsertionEffect,jZ=NZ||(t=>t());function OZ(t){const i=se.useRef(()=>{});return jZ(()=>{i.current=t}),se.useCallback(function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return i.current==null?void 0:i.current(...o)},[])}function W8(t,i,n){let{reference:o,floating:a}=t;const c=Zg(i),d=lI(i),p=aI(d),m=kk(i),k=c==="y",v=o.x+o.width/2-a.width/2,_=o.y+o.height/2-a.height/2,x=o[p]/2-a[p]/2;let y;switch(m){case"top":y={x:v,y:o.y-a.height};break;case"bottom":y={x:v,y:o.y+o.height};break;case"right":y={x:o.x+o.width,y:_};break;case"left":y={x:o.x-a.width,y:_};break;default:y={x:o.x,y:o.y}}switch(lA(i)){case"start":y[d]-=x*(n&&k?-1:1);break;case"end":y[d]+=x*(n&&k?-1:1);break}return y}const BZ=async(t,i,n)=>{const{placement:o="bottom",strategy:a="absolute",middleware:c=[],platform:d}=n,p=c.filter(Boolean),m=await(d.isRTL==null?void 0:d.isRTL(i));let k=await d.getElementRects({reference:t,floating:i,strategy:a}),{x:v,y:_}=W8(k,o,m),x=o,y={},D=0;for(let E=0;E<p.length;E++){const{name:j,fn:M}=p[E],{x:B,y:z,data:G,reset:J}=await M({x:v,y:_,initialPlacement:o,placement:x,strategy:a,middlewareData:y,rects:k,platform:d,elements:{reference:t,floating:i}});v=B??v,_=z??_,y={...y,[j]:{...y[j],...G}},J&&D<=50&&(D++,typeof J=="object"&&(J.placement&&(x=J.placement),J.rects&&(k=J.rects===!0?await d.getElementRects({reference:t,floating:i,strategy:a}):J.rects),{x:v,y:_}=W8(k,x,m)),E=-1)}return{x:v,y:_,placement:x,strategy:a,middlewareData:y}};async function LZ(t,i){var n;i===void 0&&(i={});const{x:o,y:a,platform:c,rects:d,elements:p,strategy:m}=t,{boundary:k="clippingAncestors",rootBoundary:v="viewport",elementContext:_="floating",altBoundary:x=!1,padding:y=0}=C5(i,t),D=h7(y),j=p[x?_==="floating"?"reference":"floating":_],M=Kx(await c.getClippingRect({element:(n=await(c.isElement==null?void 0:c.isElement(j)))==null||n?j:j.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(p.floating)),boundary:k,rootBoundary:v,strategy:m})),B=_==="floating"?{x:o,y:a,width:d.floating.width,height:d.floating.height}:d.reference,z=await(c.getOffsetParent==null?void 0:c.getOffsetParent(p.floating)),G=await(c.isElement==null?void 0:c.isElement(z))?await(c.getScale==null?void 0:c.getScale(z))||{x:1,y:1}:{x:1,y:1},J=Kx(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:p,rect:B,offsetParent:z,strategy:m}):B);return{top:(M.top-J.top+D.top)/G.y,bottom:(J.bottom-M.bottom+D.bottom)/G.y,left:(M.left-J.left+D.left)/G.x,right:(J.right-M.right+D.right)/G.x}}const PZ=t=>({name:"arrow",options:t,async fn(i){const{x:n,y:o,placement:a,rects:c,platform:d,elements:p,middlewareData:m}=i,{element:k,padding:v=0}=C5(t,i)||{};if(k==null)return{};const _=h7(v),x={x:n,y:o},y=lI(a),D=aI(y),E=await d.getDimensions(k),j=y==="y",M=j?"top":"left",B=j?"bottom":"right",z=j?"clientHeight":"clientWidth",G=c.reference[D]+c.reference[y]-x[y]-c.floating[D],J=x[y]-c.reference[y],H=await(d.getOffsetParent==null?void 0:d.getOffsetParent(k));let F=H?H[z]:0;(!F||!await(d.isElement==null?void 0:d.isElement(H)))&&(F=p.floating[z]||c.floating[D]);const Q=G/2-J/2,Z=F/2-E[D]/2-1,ae=bk(_[M],Z),X=bk(_[B],Z),Y=ae,U=F-E[D]-X,q=F/2-E[D]/2+Q,fe=wZ(Y,q,U),ue=!m.arrow&&lA(a)!=null&&q!==fe&&c.reference[D]/2-(q<Y?ae:X)-E[D]/2<0,de=ue?q<Y?q-Y:q-U:0;return{[y]:x[y]+de,data:{[y]:fe,centerOffset:q-fe-de,...ue&&{alignmentOffset:de}},reset:ue}}}),RZ=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(i){var n,o;const{placement:a,middlewareData:c,rects:d,initialPlacement:p,platform:m,elements:k}=i,{mainAxis:v=!0,crossAxis:_=!0,fallbackPlacements:x,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:D="none",flipAlignment:E=!0,...j}=C5(t,i);if((n=c.arrow)!=null&&n.alignmentOffset)return{};const M=kk(a),B=Zg(p),z=kk(p)===p,G=await(m.isRTL==null?void 0:m.isRTL(k.floating)),J=x||(z||!E?[Yx(p)]:_Z(p)),H=D!=="none";!x&&H&&J.push(...EZ(p,E,D,G));const F=[p,...J],Q=await LZ(i,j),Z=[];let ae=((o=c.flip)==null?void 0:o.overflows)||[];if(v&&Z.push(Q[M]),_){const q=AZ(a,d,G);Z.push(Q[q[0]],Q[q[1]])}if(ae=[...ae,{placement:a,overflows:Z}],!Z.every(q=>q<=0)){var X,Y;const q=(((X=c.flip)==null?void 0:X.index)||0)+1,fe=F[q];if(fe&&(!(_==="alignment"?B!==Zg(fe):!1)||ae.every(me=>me.overflows[0]>0&&Zg(me.placement)===B)))return{data:{index:q,overflows:ae},reset:{placement:fe}};let ue=(Y=ae.filter(de=>de.overflows[0]<=0).sort((de,me)=>de.overflows[1]-me.overflows[1])[0])==null?void 0:Y.placement;if(!ue)switch(y){case"bestFit":{var U;const de=(U=ae.filter(me=>{if(H){const Me=Zg(me.placement);return Me===B||Me==="y"}return!0}).map(me=>[me.placement,me.overflows.filter(Me=>Me>0).reduce((Me,ce)=>Me+ce,0)]).sort((me,Me)=>me[1]-Me[1])[0])==null?void 0:U[0];de&&(ue=de);break}case"initialPlacement":ue=p;break}if(a!==ue)return{reset:{placement:ue}}}return{}}}},zZ=new Set(["left","top"]);async function FZ(t,i){const{placement:n,platform:o,elements:a}=t,c=await(o.isRTL==null?void 0:o.isRTL(a.floating)),d=kk(n),p=lA(n),m=Zg(n)==="y",k=zZ.has(d)?-1:1,v=c&&m?-1:1,_=C5(i,t);let{mainAxis:x,crossAxis:y,alignmentAxis:D}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return p&&typeof D=="number"&&(y=p==="end"?D*-1:D),m?{x:y*v,y:x*k}:{x:x*k,y:y*v}}const UZ=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(i){var n,o;const{x:a,y:c,placement:d,middlewareData:p}=i,m=await FZ(i,t);return d===((n=p.offset)==null?void 0:n.placement)&&(o=p.arrow)!=null&&o.alignmentOffset?{}:{x:a+m.x,y:c+m.y,data:{...m,placement:d}}}}};function f7(t){const i=ld(t);let n=parseFloat(i.width)||0,o=parseFloat(i.height)||0;const a=gf(t),c=a?t.offsetWidth:n,d=a?t.offsetHeight:o,p=Gx(n)!==c||Gx(o)!==d;return p&&(n=c,o=d),{width:n,height:o,$:p}}function cI(t){return Ml(t)?t:t.contextElement}function ek(t){const i=cI(t);if(!gf(i))return lf(1);const n=i.getBoundingClientRect(),{width:o,height:a,$:c}=f7(i);let d=(c?Gx(n.width):n.width)/o,p=(c?Gx(n.height):n.height)/a;return(!d||!Number.isFinite(d))&&(d=1),(!p||!Number.isFinite(p))&&(p=1),{x:d,y:p}}const qZ=lf(0);function p7(t){const i=uu(t);return!sI()||!i.visualViewport?qZ:{x:i.visualViewport.offsetLeft,y:i.visualViewport.offsetTop}}function VZ(t,i,n){return i===void 0&&(i=!1),!n||i&&n!==uu(t)?!1:i}function fb(t,i,n,o){i===void 0&&(i=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect(),c=cI(t);let d=lf(1);i&&(o?Ml(o)&&(d=ek(o)):d=ek(t));const p=VZ(c,n,o)?p7(c):lf(0);let m=(a.left+p.x)/d.x,k=(a.top+p.y)/d.y,v=a.width/d.x,_=a.height/d.y;if(c){const x=uu(c),y=o&&Ml(o)?uu(o):o;let D=x,E=$D(D);for(;E&&o&&y!==D;){const j=ek(E),M=E.getBoundingClientRect(),B=ld(E),z=M.left+(E.clientLeft+parseFloat(B.paddingLeft))*j.x,G=M.top+(E.clientTop+parseFloat(B.paddingTop))*j.y;m*=j.x,k*=j.y,v*=j.x,_*=j.y,m+=z,k+=G,D=uu(E),E=$D(D)}}return Kx({width:v,height:_,x:m,y:k})}function uI(t,i){const n=_5(t).scrollLeft;return i?i.left+n:fb(kf(t)).left+n}function m7(t,i,n){n===void 0&&(n=!1);const o=t.getBoundingClientRect(),a=o.left+i.scrollLeft-(n?0:uI(t,o)),c=o.top+i.scrollTop;return{x:a,y:c}}function HZ(t){let{elements:i,rect:n,offsetParent:o,strategy:a}=t;const c=a==="fixed",d=kf(o),p=i?A5(i.floating):!1;if(o===d||p&&c)return n;let m={scrollLeft:0,scrollTop:0},k=lf(1);const v=lf(0),_=gf(o);if((_||!_&&!c)&&((Ck(o)!=="body"||aA(d))&&(m=_5(o)),gf(o))){const y=fb(o);k=ek(o),v.x=y.x+o.clientLeft,v.y=y.y+o.clientTop}const x=d&&!_&&!c?m7(d,m,!0):lf(0);return{width:n.width*k.x,height:n.height*k.y,x:n.x*k.x-m.scrollLeft*k.x+v.x+x.x,y:n.y*k.y-m.scrollTop*k.y+v.y+x.y}}function $Z(t){return Array.from(t.getClientRects())}function WZ(t){const i=kf(t),n=_5(t),o=t.ownerDocument.body,a=ib(i.scrollWidth,i.clientWidth,o.scrollWidth,o.clientWidth),c=ib(i.scrollHeight,i.clientHeight,o.scrollHeight,o.clientHeight);let d=-n.scrollLeft+uI(t);const p=-n.scrollTop;return ld(o).direction==="rtl"&&(d+=ib(i.clientWidth,o.clientWidth)-a),{width:a,height:c,x:d,y:p}}function GZ(t,i){const n=uu(t),o=kf(t),a=n.visualViewport;let c=o.clientWidth,d=o.clientHeight,p=0,m=0;if(a){c=a.width,d=a.height;const k=sI();(!k||k&&i==="fixed")&&(p=a.offsetLeft,m=a.offsetTop)}return{width:c,height:d,x:p,y:m}}const YZ=new Set(["absolute","fixed"]);function KZ(t,i){const n=fb(t,!0,i==="fixed"),o=n.top+t.clientTop,a=n.left+t.clientLeft,c=gf(t)?ek(t):lf(1),d=t.clientWidth*c.x,p=t.clientHeight*c.y,m=a*c.x,k=o*c.y;return{width:d,height:p,x:m,y:k}}function G8(t,i,n){let o;if(i==="viewport")o=GZ(t,n);else if(i==="document")o=WZ(kf(t));else if(Ml(i))o=KZ(i,n);else{const a=p7(t);o={x:i.x-a.x,y:i.y-a.y,width:i.width,height:i.height}}return Kx(o)}function g7(t,i){const n=zm(t);return n===i||!Ml(n)||gk(n)?!1:ld(n).position==="fixed"||g7(n,i)}function QZ(t,i){const n=i.get(t);if(n)return n;let o=zy(t,[],!1).filter(p=>Ml(p)&&Ck(p)!=="body"),a=null;const c=ld(t).position==="fixed";let d=c?zm(t):t;for(;Ml(d)&&!gk(d);){const p=ld(d),m=oI(d);!m&&p.position==="fixed"&&(a=null),(c?!m&&!a:!m&&p.position==="static"&&!!a&&YZ.has(a.position)||aA(d)&&!m&&g7(t,d))?o=o.filter(v=>v!==d):a=p,d=zm(d)}return i.set(t,o),o}function ZZ(t){let{element:i,boundary:n,rootBoundary:o,strategy:a}=t;const d=[...n==="clippingAncestors"?A5(i)?[]:QZ(i,this._c):[].concat(n),o],p=d[0],m=d.reduce((k,v)=>{const _=G8(i,v,a);return k.top=ib(_.top,k.top),k.right=bk(_.right,k.right),k.bottom=bk(_.bottom,k.bottom),k.left=ib(_.left,k.left),k},G8(i,p,a));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function JZ(t){const{width:i,height:n}=f7(t);return{width:i,height:n}}function XZ(t,i,n){const o=gf(i),a=kf(i),c=n==="fixed",d=fb(t,!0,c,i);let p={scrollLeft:0,scrollTop:0};const m=lf(0);function k(){m.x=uI(a)}if(o||!o&&!c)if((Ck(i)!=="body"||aA(a))&&(p=_5(i)),o){const y=fb(i,!0,c,i);m.x=y.x+i.clientLeft,m.y=y.y+i.clientTop}else a&&k();c&&!o&&a&&k();const v=a&&!o&&!c?m7(a,p):lf(0),_=d.left+p.scrollLeft-m.x-v.x,x=d.top+p.scrollTop-m.y-v.y;return{x:_,y:x,width:d.width,height:d.height}}function RE(t){return ld(t).position==="static"}function Y8(t,i){if(!gf(t)||ld(t).position==="fixed")return null;if(i)return i(t);let n=t.offsetParent;return kf(t)===n&&(n=n.ownerDocument.body),n}function b7(t,i){const n=uu(t);if(A5(t))return n;if(!gf(t)){let a=zm(t);for(;a&&!gk(a);){if(Ml(a)&&!RE(a))return a;a=zm(a)}return n}let o=Y8(t,i);for(;o&&uZ(o)&&RE(o);)o=Y8(o,i);return o&&gk(o)&&RE(o)&&!oI(o)?n:o||mZ(t)||n}const eJ=async function(t){const i=this.getOffsetParent||b7,n=this.getDimensions,o=await n(t.floating);return{reference:XZ(t.reference,await i(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function tJ(t){return ld(t).direction==="rtl"}const nJ={convertOffsetParentRelativeRectToViewportRelativeRect:HZ,getDocumentElement:kf,getClippingRect:ZZ,getOffsetParent:b7,getElementRects:eJ,getClientRects:$Z,getDimensions:JZ,getScale:ek,isElement:Ml,isRTL:tJ};function k7(t,i){return t.x===i.x&&t.y===i.y&&t.width===i.width&&t.height===i.height}function rJ(t,i){let n=null,o;const a=kf(t);function c(){var p;clearTimeout(o),(p=n)==null||p.disconnect(),n=null}function d(p,m){p===void 0&&(p=!1),m===void 0&&(m=1),c();const k=t.getBoundingClientRect(),{left:v,top:_,width:x,height:y}=k;if(p||i(),!x||!y)return;const D=H2(_),E=H2(a.clientWidth-(v+x)),j=H2(a.clientHeight-(_+y)),M=H2(v),z={rootMargin:-D+"px "+-E+"px "+-j+"px "+-M+"px",threshold:ib(0,bk(1,m))||1};let G=!0;function J(H){const F=H[0].intersectionRatio;if(F!==m){if(!G)return d();F?d(!1,F):o=setTimeout(()=>{d(!1,1e-7)},1e3)}F===1&&!k7(k,t.getBoundingClientRect())&&d(),G=!1}try{n=new IntersectionObserver(J,{...z,root:a.ownerDocument})}catch{n=new IntersectionObserver(J,z)}n.observe(t)}return d(!0),c}function iJ(t,i,n,o){o===void 0&&(o={});const{ancestorScroll:a=!0,ancestorResize:c=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:p=typeof IntersectionObserver=="function",animationFrame:m=!1}=o,k=cI(t),v=a||c?[...k?zy(k):[],...zy(i)]:[];v.forEach(M=>{a&&M.addEventListener("scroll",n,{passive:!0}),c&&M.addEventListener("resize",n)});const _=k&&p?rJ(k,n):null;let x=-1,y=null;d&&(y=new ResizeObserver(M=>{let[B]=M;B&&B.target===k&&y&&(y.unobserve(i),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var z;(z=y)==null||z.observe(i)})),n()}),k&&!m&&y.observe(k),y.observe(i));let D,E=m?fb(t):null;m&&j();function j(){const M=fb(t);E&&!k7(E,M)&&n(),E=M,D=requestAnimationFrame(j)}return n(),()=>{var M;v.forEach(B=>{a&&B.removeEventListener("scroll",n),c&&B.removeEventListener("resize",n)}),_==null||_(),(M=y)==null||M.disconnect(),y=null,m&&cancelAnimationFrame(D)}}const oJ=UZ,sJ=RZ,K8=PZ,aJ=(t,i,n)=>{const o=new Map,a={platform:nJ,...n},c={...a.platform,_c:o};return BZ(t,i,{...a,platform:c})};var lJ=typeof document<"u",cJ=function(){},fx=lJ?se.useLayoutEffect:cJ;function Zx(t,i){if(t===i)return!0;if(typeof t!=typeof i)return!1;if(typeof t=="function"&&t.toString()===i.toString())return!0;let n,o,a;if(t&&i&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==i.length)return!1;for(o=n;o--!==0;)if(!Zx(t[o],i[o]))return!1;return!0}if(a=Object.keys(t),n=a.length,n!==Object.keys(i).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(i,a[o]))return!1;for(o=n;o--!==0;){const c=a[o];if(!(c==="_owner"&&t.$$typeof)&&!Zx(t[c],i[c]))return!1}return!0}return t!==t&&i!==i}function w7(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Q8(t,i){const n=w7(t);return Math.round(i*n)/n}function zE(t){const i=se.useRef(t);return fx(()=>{i.current=t}),i}function uJ(t){t===void 0&&(t={});const{placement:i="bottom",strategy:n="absolute",middleware:o=[],platform:a,elements:{reference:c,floating:d}={},transform:p=!0,whileElementsMounted:m,open:k}=t,[v,_]=se.useState({x:0,y:0,strategy:n,placement:i,middlewareData:{},isPositioned:!1}),[x,y]=se.useState(o);Zx(x,o)||y(o);const[D,E]=se.useState(null),[j,M]=se.useState(null),B=se.useCallback(me=>{me!==H.current&&(H.current=me,E(me))},[]),z=se.useCallback(me=>{me!==F.current&&(F.current=me,M(me))},[]),G=c||D,J=d||j,H=se.useRef(null),F=se.useRef(null),Q=se.useRef(v),Z=m!=null,ae=zE(m),X=zE(a),Y=zE(k),U=se.useCallback(()=>{if(!H.current||!F.current)return;const me={placement:i,strategy:n,middleware:x};X.current&&(me.platform=X.current),aJ(H.current,F.current,me).then(Me=>{const ce={...Me,isPositioned:Y.current!==!1};q.current&&!Zx(Q.current,ce)&&(Q.current=ce,s$.flushSync(()=>{_(ce)}))})},[x,i,n,X,Y]);fx(()=>{k===!1&&Q.current.isPositioned&&(Q.current.isPositioned=!1,_(me=>({...me,isPositioned:!1})))},[k]);const q=se.useRef(!1);fx(()=>(q.current=!0,()=>{q.current=!1}),[]),fx(()=>{if(G&&(H.current=G),J&&(F.current=J),G&&J){if(ae.current)return ae.current(G,J,U);U()}},[G,J,U,ae,Z]);const fe=se.useMemo(()=>({reference:H,floating:F,setReference:B,setFloating:z}),[B,z]),ue=se.useMemo(()=>({reference:G,floating:J}),[G,J]),de=se.useMemo(()=>{const me={position:n,left:0,top:0};if(!ue.floating)return me;const Me=Q8(ue.floating,v.x),ce=Q8(ue.floating,v.y);return p?{...me,transform:"translate("+Me+"px, "+ce+"px)",...w7(ue.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Me,top:ce}},[n,p,ue.floating,v.x,v.y]);return se.useMemo(()=>({...v,update:U,refs:fe,elements:ue,floatingStyles:de}),[v,U,fe,ue,de])}const dJ=t=>{function i(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:o,padding:a}=typeof t=="function"?t(n):t;return o&&i(o)?o.current!=null?K8({element:o.current,padding:a}).fn(n):{}:o?K8({element:o,padding:a}).fn(n):{}}}},hJ=(t,i)=>({...oJ(t),options:[t,i]}),fJ=(t,i)=>({...sJ(t),options:[t,i]}),pJ=(t,i)=>({...dJ(t),options:[t,i]}),mJ={...q6};let Z8=!1,gJ=0;const J8=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+gJ++;function bJ(){const[t,i]=se.useState(()=>Z8?J8():void 0);return Qx(()=>{t==null&&i(J8())},[]),se.useEffect(()=>{Z8=!0},[]),t}const kJ=mJ.useId,v7=kJ||bJ,wJ=se.forwardRef(function(i,n){const{context:{placement:o,elements:{floating:a},middlewareData:{arrow:c,shift:d}},width:p=14,height:m=7,tipRadius:k=0,strokeWidth:v=0,staticOffset:_,stroke:x,d:y,style:{transform:D,...E}={},...j}=i,M=v7(),[B,z]=se.useState(!1);if(Qx(()=>{if(!a)return;ld(a).direction==="rtl"&&z(!0)},[a]),!a)return null;const[G,J]=o.split("-"),H=G==="top"||G==="bottom";let F=_;(H&&d!=null&&d.x||!H&&d!=null&&d.y)&&(F=null);const Q=v*2,Z=Q/2,ae=p/2*(k/-8+1),X=m/2*k/4,Y=!!y,U=F&&J==="end"?"bottom":"top";let q=F&&J==="end"?"right":"left";F&&B&&(q=J==="end"?"left":"right");const fe=(c==null?void 0:c.x)!=null?F||c.x:"",ue=(c==null?void 0:c.y)!=null?F||c.y:"",de=y||"M0,0"+(" H"+p)+(" L"+(p-ae)+","+(m-X))+(" Q"+p/2+","+m+" "+ae+","+(m-X))+" Z",me={top:Y?"rotate(180deg)":"",left:Y?"rotate(90deg)":"rotate(-90deg)",bottom:Y?"":"rotate(180deg)",right:Y?"rotate(-90deg)":"rotate(90deg)"}[G];return w.jsxs("svg",{...j,"aria-hidden":!0,ref:n,width:Y?p:p+Q,height:p,viewBox:"0 0 "+p+" "+(m>p?m:p),style:{position:"absolute",pointerEvents:"none",[q]:fe,[U]:ue,[G]:H||Y?"100%":"calc(100% - "+Q/2+"px)",transform:[me,D].filter(Me=>!!Me).join(" "),...E},children:[Q>0&&w.jsx("path",{clipPath:"url(#"+M+")",fill:"none",stroke:x,strokeWidth:Q+(y?0:1),d:de}),w.jsx("path",{stroke:Q&&!y?j.fill:"none",d:de}),w.jsx("clipPath",{id:M,children:w.jsx("rect",{x:-Z,y:Z*(Y?-1:1),width:p+Q,height:p})})]})});function vJ(){const t=new Map;return{emit(i,n){var o;(o=t.get(i))==null||o.forEach(a=>a(n))},on(i,n){t.has(i)||t.set(i,new Set),t.get(i).add(n)},off(i,n){var o;(o=t.get(i))==null||o.delete(n)}}}const yJ=se.createContext(null),AJ=se.createContext(null),_J=()=>{var t;return((t=se.useContext(yJ))==null?void 0:t.id)||null},CJ=()=>se.useContext(AJ);function xJ(t){const{open:i=!1,onOpenChange:n,elements:o}=t,a=v7(),c=se.useRef({}),[d]=se.useState(()=>vJ()),p=_J()!=null,[m,k]=se.useState(o.reference),v=OZ((y,D,E)=>{c.current.openEvent=y?D:void 0,d.emit("openchange",{open:y,event:D,reason:E,nested:p}),n==null||n(y,D,E)}),_=se.useMemo(()=>({setPositionReference:k}),[]),x=se.useMemo(()=>({reference:m||o.reference||null,floating:o.floating||null,domReference:o.reference}),[m,o.reference,o.floating]);return se.useMemo(()=>({dataRef:c,open:i,onOpenChange:v,elements:x,events:d,floatingId:a,refs:_}),[i,v,x,d,a,_])}function SJ(t){t===void 0&&(t={});const{nodeId:i}=t,n=xJ({...t,elements:{reference:null,floating:null,...t.elements}}),o=t.rootContext||n,a=o.elements,[c,d]=se.useState(null),[p,m]=se.useState(null),v=(a==null?void 0:a.domReference)||c,_=se.useRef(null),x=CJ();Qx(()=>{v&&(_.current=v)},[v]);const y=uJ({...t,elements:{...a,...p&&{reference:p}}}),D=se.useCallback(z=>{const G=Ml(z)?{getBoundingClientRect:()=>z.getBoundingClientRect(),getClientRects:()=>z.getClientRects(),contextElement:z}:z;m(G),y.refs.setReference(G)},[y.refs]),E=se.useCallback(z=>{(Ml(z)||z===null)&&(_.current=z,d(z)),(Ml(y.refs.reference.current)||y.refs.reference.current===null||z!==null&&!Ml(z))&&y.refs.setReference(z)},[y.refs]),j=se.useMemo(()=>({...y.refs,setReference:E,setPositionReference:D,domReference:_}),[y.refs,E,D]),M=se.useMemo(()=>({...y.elements,domReference:v}),[y.elements,v]),B=se.useMemo(()=>({...y,...o,refs:j,elements:M,nodeId:i}),[y,j,M,i,o]);return Qx(()=>{o.dataRef.current.floatingContext=B;const z=x==null?void 0:x.nodesRef.current.find(G=>G.id===i);z&&(z.context=B)}),se.useMemo(()=>({...y,context:B,refs:j,elements:M}),[y,j,M,B])}/*!
  react-datepicker v7.6.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var GD=function(i,n){return GD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(o[c]=a[c])},GD(i,n)};function ma(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");GD(t,i);function n(){this.constructor=t}t.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}var Yr=function(){return Yr=Object.assign||function(n){for(var o,a=1,c=arguments.length;a<c;a++){o=arguments[a];for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&(n[d]=o[d])}return n},Yr.apply(this,arguments)};function rf(t,i,n){if(n||arguments.length===2)for(var o=0,a=i.length,c;o<a;o++)(c||!(o in i))&&(c||(c=Array.prototype.slice.call(i,0,o)),c[o]=i[o]);return t.concat(c||Array.prototype.slice.call(i))}var EJ=function(t){var i=t.showTimeSelectOnly,n=i===void 0?!1:i,o=t.showTime,a=o===void 0?!1:o,c=t.className,d=t.children,p=n?"Choose Time":"Choose Date".concat(a?" and Time":"");return vt.createElement("div",{className:c,role:"dialog","aria-label":p,"aria-modal":"true"},d)},DJ=function(t,i){var n=se.useRef(null),o=se.useRef(t);o.current=t;var a=se.useCallback(function(c){var d;n.current&&!n.current.contains(c.target)&&(i&&c.target instanceof HTMLElement&&c.target.classList.contains(i)||(d=o.current)===null||d===void 0||d.call(o,c))},[i]);return se.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),n},x5=function(t){var i=t.children,n=t.onClickOutside,o=t.className,a=t.containerRef,c=t.style,d=t.ignoreClass,p=DJ(n,d);return vt.createElement("div",{className:o,style:c,ref:function(m){p.current=m,a&&(a.current=m)}},i)},an;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(an||(an={}));function y7(){var t=typeof window<"u"?window:globalThis;return t}var cA=12,IJ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Si(t){if(t==null)return new Date;var i=typeof t=="string"?$Q(t):dn(t);return ip(i)?i:new Date}function FE(t,i,n,o,a){var c,d=null,p=ob(n)||ob(xy()),m=!0;if(Array.isArray(i))return i.forEach(function(v){var _=LE(t,v,new Date,{locale:p,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});o&&(m=ip(_,a)&&t===oo(_,v,n)),ip(_,a)&&m&&(d=_)}),d;if(d=LE(t,i,new Date,{locale:p,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),o)m=ip(d)&&t===oo(d,i,n);else if(!ip(d)){var k=((c=i.match(IJ))!==null&&c!==void 0?c:[]).map(function(v){var _=v[0];if(_==="p"||_==="P"){var x=$x[_];return p?x(v,p.formatLong):_}return v}).join("");t.length>0&&(d=LE(t,k.slice(0,t.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),ip(d)||(d=new Date(t))}return ip(d)&&m?d:null}function ip(t,i){return Ux(t)&&!hb(t,i??new Date("1/1/1800"))}function oo(t,i,n){if(n==="en")return F8(t,i,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var o=n?ob(n):void 0;return n&&!o&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!o&&xy()&&ob(xy())&&(o=ob(xy())),F8(t,i,{locale:o,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function ed(t,i){var n=i.dateFormat,o=i.locale,a=Array.isArray(n)&&n.length>0?n[0]:n;return t&&oo(t,a,o)||""}function TJ(t,i,n){if(!t)return"";var o=ed(t,n),a=i?ed(i,n):"";return"".concat(o," - ").concat(a)}function MJ(t,i){if(!(t!=null&&t.length))return"";var n=t[0]?ed(t[0],i):"";if(t.length===1)return n;if(t.length===2&&t[1]){var o=ed(t[1],i);return"".concat(n,", ").concat(o)}var a=t.length-1;return"".concat(n," (+").concat(a,")")}function UE(t,i){var n=i.hour,o=n===void 0?0:n,a=i.minute,c=a===void 0?0:a,d=i.second,p=d===void 0?0:d;return ux(dx(hx(t,p),c),o)}function NJ(t){return tI(t)}function jJ(t,i){return oo(t,"ddd",i)}function px(t){return db(t)}function Bm(t,i,n){var o=ob(i||xy());return pp(t,{locale:o,weekStartsOn:n})}function hp(t){return ZP(t)}function vy(t){return v5(t)}function X8(t){return qD(t)}function ej(){return db(Si())}function tj(t){return KP(t)}function OJ(t){return QY(t)}function BJ(t){return QP(t)}function Yh(t,i){return t&&i?VQ(t,i):!t&&!i}function Dl(t,i){return t&&i?UQ(t,i):!t&&!i}function Jx(t,i){return t&&i?qQ(t,i):!t&&!i}function Hr(t,i){return t&&i?YY(t,i):!t&&!i}function Jg(t,i){return t&&i?WK(t,i):!t&&!i}function yy(t,i,n){var o,a=db(i),c=KP(n);try{o=Ry(t,{start:a,end:c})}catch{o=!1}return o}function xy(){var t=y7();return t.__localeId__}function ob(t){if(typeof t=="string"){var i=y7();return i.__localeData__?i.__localeData__[t]:void 0}else return t}function LJ(t,i,n){return i(oo(t,"EEEE",n))}function PJ(t,i){return oo(t,"EEEEEE",i)}function RJ(t,i){return oo(t,"EEE",i)}function dI(t,i){return oo(nu(Si(),t),"LLLL",i)}function A7(t,i){return oo(nu(Si(),t),"LLL",i)}function zJ(t,i){return oo(Q0(Si(),t),"QQQ",i)}function nd(t,i){var n=i===void 0?{}:i,o=n.minDate,a=n.maxDate,c=n.excludeDates,d=n.excludeDateIntervals,p=n.includeDates,m=n.includeDateIntervals,k=n.filterDate;return uA(t,{minDate:o,maxDate:a})||c&&c.some(function(v){return v instanceof Date?Hr(t,v):Hr(t,v.date)})||d&&d.some(function(v){var _=v.start,x=v.end;return Ry(t,{start:_,end:x})})||p&&!p.some(function(v){return Hr(t,v)})||m&&!m.some(function(v){var _=v.start,x=v.end;return Ry(t,{start:_,end:x})})||k&&!k(Si(t))||!1}function hI(t,i){var n=i===void 0?{}:i,o=n.excludeDates,a=n.excludeDateIntervals;return a&&a.length>0?a.some(function(c){var d=c.start,p=c.end;return Ry(t,{start:d,end:p})}):o&&o.some(function(c){var d;return c instanceof Date?Hr(t,c):Hr(t,(d=c.date)!==null&&d!==void 0?d:new Date)})||!1}function _7(t,i){var n=i===void 0?{}:i,o=n.minDate,a=n.maxDate,c=n.excludeDates,d=n.includeDates,p=n.filterDate;return uA(t,{minDate:o?ZP(o):void 0,maxDate:a?QP(a):void 0})||(c==null?void 0:c.some(function(m){return Dl(t,m instanceof Date?m:m.date)}))||d&&!d.some(function(m){return Dl(t,m)})||p&&!p(Si(t))||!1}function $2(t,i,n,o){var a=Ar(t),c=Tl(t),d=Ar(i),p=Tl(i),m=Ar(o);return a===d&&a===m?c<=n&&n<=p:a<d?m===a&&c<=n||m===d&&p>=n||m<d&&m>a:!1}function FJ(t,i){var n=i===void 0?{}:i,o=n.minDate,a=n.maxDate,c=n.excludeDates,d=n.includeDates;return uA(t,{minDate:o,maxDate:a})||c&&c.some(function(p){return Dl(p instanceof Date?p:p.date,t)})||d&&!d.some(function(p){return Dl(p,t)})||!1}function W2(t,i){var n=i===void 0?{}:i,o=n.minDate,a=n.maxDate,c=n.excludeDates,d=n.includeDates,p=n.filterDate;return uA(t,{minDate:o,maxDate:a})||(c==null?void 0:c.some(function(m){return Jx(t,m instanceof Date?m:m.date)}))||d&&!d.some(function(m){return Jx(t,m)})||p&&!p(Si(t))||!1}function G2(t,i,n){if(!i||!n||!Ux(i)||!Ux(n))return!1;var o=Ar(i),a=Ar(n);return o<=t&&a>=t}function mx(t,i){var n=i===void 0?{}:i,o=n.minDate,a=n.maxDate,c=n.excludeDates,d=n.includeDates,p=n.filterDate,m=new Date(t,0,1);return uA(m,{minDate:o?v5(o):void 0,maxDate:a?JP(a):void 0})||(c==null?void 0:c.some(function(k){return Yh(m,k instanceof Date?k:k.date)}))||d&&!d.some(function(k){return Yh(m,k)})||p&&!p(Si(m))||!1}function Y2(t,i,n,o){var a=Ar(t),c=nb(t),d=Ar(i),p=nb(i),m=Ar(o);return a===d&&a===m?c<=n&&n<=p:a<d?m===a&&c<=n||m===d&&p>=n||m<d&&m>a:!1}function uA(t,i){var n,o=i===void 0?{}:i,a=o.minDate,c=o.maxDate;return(n=a&&pk(t,a)<0||c&&pk(t,c)>0)!==null&&n!==void 0?n:!1}function nj(t,i){return i.some(function(n){return sf(n)===sf(t)&&af(n)===af(t)&&dp(n)===dp(t)})}function rj(t,i){var n=i===void 0?{}:i,o=n.excludeTimes,a=n.includeTimes,c=n.filterTime;return o&&nj(t,o)||a&&!nj(t,a)||c&&!c(t)||!1}function ij(t,i){var n=i.minTime,o=i.maxTime;if(!n||!o)throw new Error("Both minTime and maxTime props required");var a=Si();a=ux(a,sf(t)),a=dx(a,af(t)),a=hx(a,dp(t));var c=Si();c=ux(c,sf(n)),c=dx(c,af(n)),c=hx(c,dp(n));var d=Si();d=ux(d,sf(o)),d=dx(d,af(o)),d=hx(d,dp(o));var p;try{p=!Ry(a,{start:c,end:d})}catch{p=!1}return p}function oj(t,i){var n=i===void 0?{}:i,o=n.minDate,a=n.includeDates,c=rb(t,1);return o&&qx(o,c)>0||a&&a.every(function(d){return qx(d,c)>0})||!1}function sj(t,i){var n=i===void 0?{}:i,o=n.maxDate,a=n.includeDates,c=ih(t,1);return o&&qx(c,o)>0||a&&a.every(function(d){return qx(c,d)>0})||!1}function UJ(t,i){var n=i===void 0?{}:i,o=n.minDate,a=n.includeDates,c=v5(t),d=c7(c);return o&&Vx(o,d)>0||a&&a.every(function(p){return Vx(p,d)>0})||!1}function qJ(t,i){var n=i===void 0?{}:i,o=n.maxDate,a=n.includeDates,c=JP(t),d=eI(c,1);return o&&Vx(d,o)>0||a&&a.every(function(p){return Vx(d,p)>0})||!1}function aj(t,i){var n=i===void 0?{}:i,o=n.minDate,a=n.includeDates,c=mk(t,1);return o&&Hx(o,c)>0||a&&a.every(function(d){return Hx(d,c)>0})||!1}function VJ(t,i){var n=i===void 0?{}:i,o=n.minDate,a=n.yearItemNumber,c=a===void 0?cA:a,d=vy(mk(t,c)),p=Dm(d,c).endPeriod,m=o&&Ar(o);return m&&m>p||!1}function lj(t,i){var n=i===void 0?{}:i,o=n.maxDate,a=n.includeDates,c=cp(t,1);return o&&Hx(c,o)>0||a&&a.every(function(d){return Hx(c,d)>0})||!1}function HJ(t,i){var n=i===void 0?{}:i,o=n.maxDate,a=n.yearItemNumber,c=a===void 0?cA:a,d=cp(t,c),p=Dm(d,c).startPeriod,m=o&&Ar(o);return m&&m<p||!1}function C7(t){var i=t.minDate,n=t.includeDates;if(n&&i){var o=n.filter(function(a){return pk(a,i)>=0});return O8(o)}else return n?O8(n):i}function x7(t){var i=t.maxDate,n=t.includeDates;if(n&&i){var o=n.filter(function(a){return pk(a,i)<=0});return j8(o)}else return n?j8(n):i}function cj(t,i){var n;t===void 0&&(t=[]),i===void 0&&(i="react-datepicker__day--highlighted");for(var o=new Map,a=0,c=t.length;a<c;a++){var d=t[a];if(up(d)){var p=oo(d,"MM.dd.yyyy"),m=o.get(p)||[];m.includes(i)||(m.push(i),o.set(p,m))}else if(typeof d=="object"){var k=Object.keys(d),v=(n=k[0])!==null&&n!==void 0?n:"",_=d[v];if(typeof v=="string"&&Array.isArray(_))for(var x=0,y=_.length;x<y;x++){var D=_[x];if(D){var p=oo(D,"MM.dd.yyyy"),m=o.get(p)||[];m.includes(v)||(m.push(v),o.set(p,m))}}}}return o}function $J(t,i){return t.length!==i.length?!1:t.every(function(n,o){return n===i[o]})}function WJ(t,i){t===void 0&&(t=[]),i===void 0&&(i="react-datepicker__day--holidays");var n=new Map;return t.forEach(function(o){var a=o.date,c=o.holidayName;if(up(a)){var d=oo(a,"MM.dd.yyyy"),p=n.get(d)||{className:"",holidayNames:[]};if(!("className"in p&&p.className===i&&$J(p.holidayNames,[c]))){p.className=i;var m=p.holidayNames;p.holidayNames=m?rf(rf([],m,!0),[c],!1):[c],n.set(d,p)}}}),n}function GJ(t,i,n,o,a){for(var c=a.length,d=[],p=0;p<c;p++){var m=t,k=a[p];k&&(m=HY(m,sf(k)),m=UD(m,af(k)),m=GY(m,dp(k)));var v=UD(t,(n+1)*o);Rm(m,i)&&hb(m,v)&&k!=null&&d.push(k)}return d}function uj(t){return t<10?"0".concat(t):"".concat(t)}function Dm(t,i){i===void 0&&(i=cA);var n=Math.ceil(Ar(t)/i)*i,o=n-(i-1);return{startPeriod:o,endPeriod:n}}function YJ(t){var i=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+n-+i)/36e5)}function dj(t){var i=t.getSeconds(),n=t.getMilliseconds();return dn(t.getTime()-i*1e3-n)}function KJ(t,i){return dj(t).getTime()===dj(i).getTime()}function hj(t){if(!up(t))throw new Error("Invalid date");var i=new Date(t);return i.setHours(0,0,0,0),i}function fj(t,i){if(!up(t)||!up(i))throw new Error("Invalid date received");var n=hj(t),o=hj(i);return hb(n,o)}function S7(t){return t.key===an.Space}var QJ=function(t){ma(i,t);function i(n){var o=t.call(this,n)||this;return o.inputRef=vt.createRef(),o.onTimeChange=function(a){var c,d;o.setState({time:a});var p=o.props.date,m=p instanceof Date&&!isNaN(+p),k=m?p:new Date;if(a!=null&&a.includes(":")){var v=a.split(":"),_=v[0],x=v[1];k.setHours(Number(_)),k.setMinutes(Number(x))}(d=(c=o.props).onChange)===null||d===void 0||d.call(c,k)},o.renderTimeInput=function(){var a=o.state.time,c=o.props,d=c.date,p=c.timeString,m=c.customTimeInput;return m?se.cloneElement(m,{date:d,value:a,onChange:o.onTimeChange}):vt.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:o.inputRef,onClick:function(){var k;(k=o.inputRef.current)===null||k===void 0||k.focus()},required:!0,value:a,onChange:function(k){o.onTimeChange(k.target.value||p)}})},o.state={time:o.props.timeString},o}return i.getDerivedStateFromProps=function(n,o){return n.timeString!==o.time?{time:n.timeString}:null},i.prototype.render=function(){return vt.createElement("div",{className:"react-datepicker__input-time-container"},vt.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),vt.createElement("div",{className:"react-datepicker-time__input-container"},vt.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},i}(se.Component),ZJ=function(t){ma(i,t);function i(){var n=t!==null&&t.apply(this,arguments)||this;return n.dayEl=se.createRef(),n.handleClick=function(o){!n.isDisabled()&&n.props.onClick&&n.props.onClick(o)},n.handleMouseEnter=function(o){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(o)},n.handleOnKeyDown=function(o){var a,c,d=o.key;d===an.Space&&(o.preventDefault(),o.key=an.Enter),(c=(a=n.props).handleOnKeyDown)===null||c===void 0||c.call(a,o)},n.isSameDay=function(o){return Hr(n.props.day,o)},n.isKeyboardSelected=function(){var o;if(n.props.disabledKeyboardNavigation)return!1;var a=n.props.selectsMultiple?(o=n.props.selectedDates)===null||o===void 0?void 0:o.some(function(d){return n.isSameDayOrWeek(d)}):n.isSameDayOrWeek(n.props.selected),c=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!a&&n.isSameDayOrWeek(n.props.preSelection)&&!c},n.isDisabled=function(o){return o===void 0&&(o=n.props.day),nd(o,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return hI(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return Hr(n.props.day,Bm(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(o){return n.props.showWeekPicker&&Hr(o,Bm(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(o){return n.isSameDay(o)||n.isSameWeek(o)},n.getHighLightedClass=function(){var o=n.props,a=o.day,c=o.highlightDates;if(!c)return!1;var d=oo(a,"MM.dd.yyyy");return c.get(d)},n.getHolidaysClass=function(){var o,a=n.props,c=a.day,d=a.holidays;if(!d)return[void 0];var p=oo(c,"MM.dd.yyyy");return d.has(p)?[(o=d.get(p))===null||o===void 0?void 0:o.className]:[void 0]},n.isInRange=function(){var o=n.props,a=o.day,c=o.startDate,d=o.endDate;return!c||!d?!1:yy(a,c,d)},n.isInSelectingRange=function(){var o,a=n.props,c=a.day,d=a.selectsStart,p=a.selectsEnd,m=a.selectsRange,k=a.selectsDisabledDaysInRange,v=a.startDate,_=a.endDate,x=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return!(d||p||m)||!x||!k&&n.isDisabled()?!1:d&&_&&(hb(x,_)||Jg(x,_))?yy(c,x,_):p&&v&&(Rm(x,v)||Jg(x,v))||m&&v&&!_&&(Rm(x,v)||Jg(x,v))?yy(c,v,x):!1},n.isSelectingRangeStart=function(){var o;if(!n.isInSelectingRange())return!1;var a=n.props,c=a.day,d=a.startDate,p=a.selectsStart,m=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return p?Hr(c,m):Hr(c,d)},n.isSelectingRangeEnd=function(){var o;if(!n.isInSelectingRange())return!1;var a=n.props,c=a.day,d=a.endDate,p=a.selectsEnd,m=a.selectsRange,k=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return p||m?Hr(c,k):Hr(c,d)},n.isRangeStart=function(){var o=n.props,a=o.day,c=o.startDate,d=o.endDate;return!c||!d?!1:Hr(c,a)},n.isRangeEnd=function(){var o=n.props,a=o.day,c=o.startDate,d=o.endDate;return!c||!d?!1:Hr(d,a)},n.isWeekend=function(){var o=qK(n.props.day);return o===0||o===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===Tl(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(Tl(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(Si())},n.isSelected=function(){var o;return n.props.selectsMultiple?(o=n.props.selectedDates)===null||o===void 0?void 0:o.some(function(a){return n.isSameDayOrWeek(a)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(o){var a=n.props.dayClassName?n.props.dayClassName(o):void 0;return Ma("react-datepicker__day",a,"react-datepicker__day--"+jJ(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var o=n.props,a=o.day,c=o.ariaLabelPrefixWhenEnabled,d=c===void 0?"Choose":c,p=o.ariaLabelPrefixWhenDisabled,m=p===void 0?"Not available":p,k=n.isDisabled()||n.isExcluded()?m:d;return"".concat(k," ").concat(oo(a,"PPPP",n.props.locale))},n.getTitle=function(){var o=n.props,a=o.day,c=o.holidays,d=c===void 0?new Map:c,p=o.excludeDates,m=oo(a,"MM.dd.yyyy"),k=[];return d.has(m)&&k.push.apply(k,d.get(m).holidayNames),n.isExcluded()&&k.push(p==null?void 0:p.filter(function(v){return v instanceof Date?Hr(v,a):Hr(v==null?void 0:v.date,a)}).map(function(v){if(!(v instanceof Date))return v==null?void 0:v.message})),k.join(", ")},n.getTabIndex=function(){var o=n.props.selected,a=n.props.preSelection,c=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(o)&&Hr(a,o))?0:-1;return c},n.handleFocusDay=function(){var o;n.shouldFocusDay()&&((o=n.dayEl.current)===null||o===void 0||o.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(U8(n.props.day),n.props.day):U8(n.props.day)},n.render=function(){return vt.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&vt.createElement("span",{className:"overlay"},n.getTitle()))},n}return i.prototype.componentDidMount=function(){this.handleFocusDay()},i.prototype.componentDidUpdate=function(){this.handleFocusDay()},i.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},i.prototype.isDayActiveElement=function(){var n,o,a;return((o=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||o===void 0?void 0:o.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},i.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},i}(se.Component),JJ=function(t){ma(i,t);function i(){var n=t!==null&&t.apply(this,arguments)||this;return n.weekNumberEl=se.createRef(),n.handleClick=function(o){n.props.onClick&&n.props.onClick(o)},n.handleOnKeyDown=function(o){var a,c,d=o.key;d===an.Space&&(o.preventDefault(),o.key=an.Enter),(c=(a=n.props).handleOnKeyDown)===null||c===void 0||c.call(a,o)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Hr(n.props.date,n.props.selected)&&Hr(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||Hr(n.props.date,n.props.selected)&&Hr(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(o){var a=!1;n.getTabIndex()===0&&!(o!=null&&o.isInputFocused)&&Hr(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(a=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(i,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),i.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},i.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},i.prototype.render=function(){var n=this.props,o=n.weekNumber,a=n.isWeekDisabled,c=n.ariaLabelPrefix,d=c===void 0?i.defaultProps.ariaLabelPrefix:c,p=n.onClick,m={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!p&&!a,"react-datepicker__week-number--selected":!!p&&Hr(this.props.date,this.props.selected)};return vt.createElement("div",{ref:this.weekNumberEl,className:Ma(m),"aria-label":"".concat(d," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},o)},i}(se.Component),XJ=function(t){ma(i,t);function i(){var n=t!==null&&t.apply(this,arguments)||this;return n.isDisabled=function(o){return nd(o,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(o,a){n.props.onDayClick&&n.props.onDayClick(o,a)},n.handleDayMouseEnter=function(o){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(o)},n.handleWeekClick=function(o,a,c){for(var d,p,m,k=new Date(o),v=0;v<7;v++){var _=new Date(o);_.setDate(_.getDate()+v);var x=!n.isDisabled(_);if(x){k=_;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(k,a,c),n.props.showWeekPicker&&n.handleDayClick(k,c),((d=n.props.shouldCloseOnSelect)!==null&&d!==void 0?d:i.defaultProps.shouldCloseOnSelect)&&((m=(p=n.props).setOpen)===null||m===void 0||m.call(p,!1))},n.formatWeekNumber=function(o){return n.props.formatWeekNumber?n.props.formatWeekNumber(o):NJ(o)},n.isWeekDisabled=function(){for(var o=n.startOfWeek(),a=rh(o,6),c=new Date(o);c<=a;){if(!n.isDisabled(c))return!1;c=rh(c,1)}return!0},n.renderDays=function(){var o=n.startOfWeek(),a=[],c=n.formatWeekNumber(o);if(n.props.showWeekNumber){var d=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,o,c):void 0;a.push(vt.createElement(JJ,Yr({key:"W"},i.defaultProps,n.props,{weekNumber:c,isWeekDisabled:n.isWeekDisabled(),date:o,onClick:d})))}return a.concat([0,1,2,3,4,5,6].map(function(p){var m=rh(o,p);return vt.createElement(ZJ,Yr({},i.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:m.valueOf(),day:m,onClick:n.handleDayClick.bind(n,m),onMouseEnter:n.handleDayMouseEnter.bind(n,m)}))}))},n.startOfWeek=function(){return Bm(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Hr(n.startOfWeek(),n.props.selected)&&Hr(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(i,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),i.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":Hr(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return vt.createElement("div",{className:Ma(n)},this.renderDays())},i}(se.Component),$v,eX=6,tk={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},qE=($v={},$v[tk.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},$v[tk.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},$v[tk.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},$v),K2=1;function pj(t,i){return t?tk.FOUR_COLUMNS:i?tk.TWO_COLUMNS:tk.THREE_COLUMNS}var tX=function(t){ma(i,t);function i(){var n=t!==null&&t.apply(this,arguments)||this;return n.MONTH_REFS=rf([],Array(12),!0).map(function(){return se.createRef()}),n.QUARTER_REFS=rf([],Array(4),!0).map(function(){return se.createRef()}),n.isDisabled=function(o){return nd(o,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(o){return hI(o,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(o,a){var c,d;(d=(c=n.props).onDayClick)===null||d===void 0||d.call(c,o,a,n.props.orderInDisplay)},n.handleDayMouseEnter=function(o){var a,c;(c=(a=n.props).onDayMouseEnter)===null||c===void 0||c.call(a,o)},n.handleMouseLeave=function(){var o,a;(a=(o=n.props).onMouseLeave)===null||a===void 0||a.call(o)},n.isRangeStartMonth=function(o){var a=n.props,c=a.day,d=a.startDate,p=a.endDate;return!d||!p?!1:Dl(nu(c,o),d)},n.isRangeStartQuarter=function(o){var a=n.props,c=a.day,d=a.startDate,p=a.endDate;return!d||!p?!1:Jx(Q0(c,o),d)},n.isRangeEndMonth=function(o){var a=n.props,c=a.day,d=a.startDate,p=a.endDate;return!d||!p?!1:Dl(nu(c,o),p)},n.isRangeEndQuarter=function(o){var a=n.props,c=a.day,d=a.startDate,p=a.endDate;return!d||!p?!1:Jx(Q0(c,o),p)},n.isInSelectingRangeMonth=function(o){var a,c=n.props,d=c.day,p=c.selectsStart,m=c.selectsEnd,k=c.selectsRange,v=c.startDate,_=c.endDate,x=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return!(p||m||k)||!x?!1:p&&_?$2(x,_,o,d):m&&v||k&&v&&!_?$2(v,x,o,d):!1},n.isSelectingMonthRangeStart=function(o){var a;if(!n.isInSelectingRangeMonth(o))return!1;var c=n.props,d=c.day,p=c.startDate,m=c.selectsStart,k=nu(d,o),v=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return m?Dl(k,v):Dl(k,p)},n.isSelectingMonthRangeEnd=function(o){var a;if(!n.isInSelectingRangeMonth(o))return!1;var c=n.props,d=c.day,p=c.endDate,m=c.selectsEnd,k=c.selectsRange,v=nu(d,o),_=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return m||k?Dl(v,_):Dl(v,p)},n.isInSelectingRangeQuarter=function(o){var a,c=n.props,d=c.day,p=c.selectsStart,m=c.selectsEnd,k=c.selectsRange,v=c.startDate,_=c.endDate,x=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return!(p||m||k)||!x?!1:p&&_?Y2(x,_,o,d):m&&v||k&&v&&!_?Y2(v,x,o,d):!1},n.isWeekInMonth=function(o){var a=n.props.day,c=rh(o,6);return Dl(o,a)||Dl(c,a)},n.isCurrentMonth=function(o,a){return Ar(o)===Ar(Si())&&a===Tl(Si())},n.isCurrentQuarter=function(o,a){return Ar(o)===Ar(Si())&&a===nb(Si())},n.isSelectedMonth=function(o,a,c){return Tl(c)===a&&Ar(o)===Ar(c)},n.isSelectMonthInList=function(o,a,c){return c.some(function(d){return n.isSelectedMonth(o,a,d)})},n.isSelectedQuarter=function(o,a,c){return nb(o)===a&&Ar(o)===Ar(c)},n.renderWeeks=function(){for(var o=[],a=n.props.fixedHeight,c=0,d=!1,p=Bm(hp(n.props.day),n.props.locale,n.props.calendarStartDay),m=function(D){return n.props.showWeekPicker?Bm(D,n.props.locale,n.props.calendarStartDay):n.props.preSelection},k=function(D){return n.props.showWeekPicker?Bm(D,n.props.locale,n.props.calendarStartDay):n.props.selected},v=n.props.selected?k(n.props.selected):void 0,_=n.props.preSelection?m(n.props.preSelection):void 0;o.push(vt.createElement(XJ,Yr({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:c,day:p,month:Tl(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:v,preSelection:_,showWeekNumber:n.props.showWeekNumbers}))),!d;){c++,p=Fx(p,1);var x=a&&c>=eX,y=!a&&!n.isWeekInMonth(p);if(x||y)if(n.props.peekNextMonth)d=!0;else break}return o},n.onMonthClick=function(o,a){var c=n.isMonthDisabledForLabelDate(a),d=c.isDisabled,p=c.labelDate;d||n.handleDayClick(hp(p),o)},n.onMonthMouseEnter=function(o){var a=n.isMonthDisabledForLabelDate(o),c=a.isDisabled,d=a.labelDate;c||n.handleDayMouseEnter(hp(d))},n.handleMonthNavigation=function(o,a){var c,d,p,m;(d=(c=n.props).setPreSelection)===null||d===void 0||d.call(c,a),(m=(p=n.MONTH_REFS[o])===null||p===void 0?void 0:p.current)===null||m===void 0||m.focus()},n.handleKeyboardNavigation=function(o,a,c){var d,p=n.props,m=p.selected,k=p.preSelection,v=p.setPreSelection,_=p.minDate,x=p.maxDate,y=p.showFourColumnMonthYearPicker,D=p.showTwoColumnMonthYearPicker;if(k){var E=pj(y,D),j=n.getVerticalOffset(E),M=(d=qE[E])===null||d===void 0?void 0:d.grid,B=function(F,Q,Z){var ae,X,Y=Q,U=Z;switch(F){case an.ArrowRight:Y=ih(Q,K2),U=Z===11?0:Z+K2;break;case an.ArrowLeft:Y=rb(Q,K2),U=Z===0?11:Z-K2;break;case an.ArrowUp:Y=rb(Q,j),U=!((ae=M==null?void 0:M[0])===null||ae===void 0)&&ae.includes(Z)?Z+12-j:Z-j;break;case an.ArrowDown:Y=ih(Q,j),U=!((X=M==null?void 0:M[M.length-1])===null||X===void 0)&&X.includes(Z)?Z-12+j:Z+j;break}return{newCalculatedDate:Y,newCalculatedMonth:U}},z=function(F,Q,Z){for(var ae=40,X=F,Y=!1,U=0,q=B(X,Q,Z),fe=q.newCalculatedDate,ue=q.newCalculatedMonth;!Y;){if(U>=ae){fe=Q,ue=Z;break}if(_&&fe<_){X=an.ArrowRight;var de=B(X,fe,ue);fe=de.newCalculatedDate,ue=de.newCalculatedMonth}if(x&&fe>x){X=an.ArrowLeft;var de=B(X,fe,ue);fe=de.newCalculatedDate,ue=de.newCalculatedMonth}if(FJ(fe,n.props)){var de=B(X,fe,ue);fe=de.newCalculatedDate,ue=de.newCalculatedMonth}else Y=!0;U++}return{newCalculatedDate:fe,newCalculatedMonth:ue}};if(a===an.Enter){n.isMonthDisabled(c)||(n.onMonthClick(o,c),v==null||v(m));return}var G=z(a,k,c),J=G.newCalculatedDate,H=G.newCalculatedMonth;switch(a){case an.ArrowRight:case an.ArrowLeft:case an.ArrowUp:case an.ArrowDown:n.handleMonthNavigation(H,J);break}}},n.getVerticalOffset=function(o){var a,c;return(c=(a=qE[o])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&c!==void 0?c:0},n.onMonthKeyDown=function(o,a){var c=n.props,d=c.disabledKeyboardNavigation,p=c.handleOnMonthKeyDown,m=o.key;m!==an.Tab&&o.preventDefault(),d||n.handleKeyboardNavigation(o,m,a),p&&p(o)},n.onQuarterClick=function(o,a){var c=Q0(n.props.day,a);W2(c,n.props)||n.handleDayClick(X8(c),o)},n.onQuarterMouseEnter=function(o){var a=Q0(n.props.day,o);W2(a,n.props)||n.handleDayMouseEnter(X8(a))},n.handleQuarterNavigation=function(o,a){var c,d,p,m;n.isDisabled(a)||n.isExcluded(a)||((d=(c=n.props).setPreSelection)===null||d===void 0||d.call(c,a),(m=(p=n.QUARTER_REFS[o-1])===null||p===void 0?void 0:p.current)===null||m===void 0||m.focus())},n.onQuarterKeyDown=function(o,a){var c,d,p=o.key;if(!n.props.disabledKeyboardNavigation)switch(p){case an.Enter:n.onQuarterClick(o,a),(d=(c=n.props).setPreSelection)===null||d===void 0||d.call(c,n.props.selected);break;case an.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(a===4?1:a+1,eI(n.props.preSelection,1));break;case an.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(a===1?4:a-1,c7(n.props.preSelection));break}},n.isMonthDisabledForLabelDate=function(o){var a,c=n.props,d=c.day,p=c.minDate,m=c.maxDate,k=c.excludeDates,v=c.includeDates,_=nu(d,o);return{isDisabled:(a=(p||m||k||v)&&_7(_,n.props))!==null&&a!==void 0?a:!1,labelDate:_}},n.isMonthDisabled=function(o){var a=n.isMonthDisabledForLabelDate(o).isDisabled;return a},n.getMonthClassNames=function(o){var a=n.props,c=a.day,d=a.startDate,p=a.endDate,m=a.preSelection,k=a.monthClassName,v=k?k(nu(c,o)):void 0,_=n.getSelection();return Ma("react-datepicker__month-text","react-datepicker__month-".concat(o),v,{"react-datepicker__month-text--disabled":n.isMonthDisabled(o),"react-datepicker__month-text--selected":_?n.isSelectMonthInList(c,o,_):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&m&&n.isSelectedMonth(c,o,m)&&!n.isMonthDisabled(o),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(o),"react-datepicker__month-text--in-range":d&&p?$2(d,p,o,c):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(o),"react-datepicker__month-text--range-end":n.isRangeEndMonth(o),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(o),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(o),"react-datepicker__month-text--today":n.isCurrentMonth(c,o)})},n.getTabIndex=function(o){if(n.props.preSelection==null)return"-1";var a=Tl(n.props.preSelection),c=n.isMonthDisabledForLabelDate(a).isDisabled,d=o===a&&!(c||n.props.disabledKeyboardNavigation)?"0":"-1";return d},n.getQuarterTabIndex=function(o){if(n.props.preSelection==null)return"-1";var a=nb(n.props.preSelection),c=W2(n.props.day,n.props),d=o===a&&!(c||n.props.disabledKeyboardNavigation)?"0":"-1";return d},n.getAriaLabel=function(o){var a=n.props,c=a.chooseDayAriaLabelPrefix,d=c===void 0?"Choose":c,p=a.disabledDayAriaLabelPrefix,m=p===void 0?"Not available":p,k=a.day,v=a.locale,_=nu(k,o),x=n.isDisabled(_)||n.isExcluded(_)?m:d;return"".concat(x," ").concat(oo(_,"MMMM yyyy",v))},n.getQuarterClassNames=function(o){var a=n.props,c=a.day,d=a.startDate,p=a.endDate,m=a.selected,k=a.minDate,v=a.maxDate,_=a.excludeDates,x=a.includeDates,y=a.filterDate,D=a.preSelection,E=a.disabledKeyboardNavigation,j=(k||v||_||x||y)&&W2(Q0(c,o),n.props);return Ma("react-datepicker__quarter-text","react-datepicker__quarter-".concat(o),{"react-datepicker__quarter-text--disabled":j,"react-datepicker__quarter-text--selected":m?n.isSelectedQuarter(c,o,m):void 0,"react-datepicker__quarter-text--keyboard-selected":!E&&D&&n.isSelectedQuarter(c,o,D)&&!j,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(o),"react-datepicker__quarter-text--in-range":d&&p?Y2(d,p,o,c):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(o),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(o)})},n.getMonthContent=function(o){var a=n.props,c=a.showFullMonthYearPicker,d=a.renderMonthContent,p=a.locale,m=a.day,k=A7(o,p),v=dI(o,p);return d?d(o,k,v,m):c?v:k},n.getQuarterContent=function(o){var a,c=n.props,d=c.renderQuarterContent,p=c.locale,m=zJ(o,p);return(a=d==null?void 0:d(o,m))!==null&&a!==void 0?a:m},n.renderMonths=function(){var o,a=n.props,c=a.showTwoColumnMonthYearPicker,d=a.showFourColumnMonthYearPicker,p=a.day,m=a.selected,k=(o=qE[pj(d,c)])===null||o===void 0?void 0:o.grid;return k==null?void 0:k.map(function(v,_){return vt.createElement("div",{className:"react-datepicker__month-wrapper",key:_},v.map(function(x,y){return vt.createElement("div",{ref:n.MONTH_REFS[x],key:y,onClick:function(D){n.onMonthClick(D,x)},onKeyDown:function(D){S7(D)&&(D.preventDefault(),D.key=an.Enter),n.onMonthKeyDown(D,x)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(x)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(x)}:void 0,tabIndex:Number(n.getTabIndex(x)),className:n.getMonthClassNames(x),"aria-disabled":n.isMonthDisabled(x),role:"option","aria-label":n.getAriaLabel(x),"aria-current":n.isCurrentMonth(p,x)?"date":void 0,"aria-selected":m?n.isSelectedMonth(p,x,m):void 0},n.getMonthContent(x))}))})},n.renderQuarters=function(){var o=n.props,a=o.day,c=o.selected,d=[1,2,3,4];return vt.createElement("div",{className:"react-datepicker__quarter-wrapper"},d.map(function(p,m){return vt.createElement("div",{key:m,ref:n.QUARTER_REFS[m],role:"option",onClick:function(k){n.onQuarterClick(k,p)},onKeyDown:function(k){n.onQuarterKeyDown(k,p)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(p)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(p)}:void 0,className:n.getQuarterClassNames(p),"aria-selected":c?n.isSelectedQuarter(a,p,c):void 0,tabIndex:Number(n.getQuarterTabIndex(p)),"aria-current":n.isCurrentQuarter(a,p)?"date":void 0},n.getQuarterContent(p))}))},n.getClassNames=function(){var o=n.props,a=o.selectingDate,c=o.selectsStart,d=o.selectsEnd,p=o.showMonthYearPicker,m=o.showQuarterYearPicker,k=o.showWeekPicker;return Ma("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(c||d)},{"react-datepicker__monthPicker":p},{"react-datepicker__quarterPicker":m},{"react-datepicker__weekPicker":k})},n}return i.prototype.getSelection=function(){var n=this.props,o=n.selected,a=n.selectedDates,c=n.selectsMultiple;if(c)return a;if(o)return[o]},i.prototype.render=function(){var n=this.props,o=n.showMonthYearPicker,a=n.showQuarterYearPicker,c=n.day,d=n.ariaLabelPrefix,p=d===void 0?"Month ":d,m=p?p.trim()+" ":"";return vt.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(m).concat(oo(c,"MMMM, yyyy",this.props.locale)),role:"listbox"},o?this.renderMonths():a?this.renderQuarters():this.renderWeeks())},i}(se.Component),nX=function(t){ma(i,t);function i(){var n=t!==null&&t.apply(this,arguments)||this;return n.isSelectedMonth=function(o){return n.props.month===o},n.renderOptions=function(){return n.props.monthNames.map(function(o,a){return vt.createElement("div",{className:n.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:o,onClick:n.onChange.bind(n,a),"aria-selected":n.isSelectedMonth(a)?"true":void 0},n.isSelectedMonth(a)?vt.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",o)})},n.onChange=function(o){return n.props.onChange(o)},n.handleClickOutside=function(){return n.props.onCancel()},n}return i.prototype.render=function(){return vt.createElement(x5,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},i}(se.Component),rX=function(t){ma(i,t);function i(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(o){return o.map(function(a,c){return vt.createElement("option",{key:a,value:c},a)})},n.renderSelectMode=function(o){return vt.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(a){return n.onChange(parseInt(a.target.value))}},n.renderSelectOptions(o))},n.renderReadView=function(o,a){return vt.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},vt.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),vt.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[n.props.month]))},n.renderDropdown=function(o){return vt.createElement(nX,Yr({key:"dropdown"},n.props,{monthNames:o,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(o){var a=n.state.dropdownVisible,c=[n.renderReadView(!a,o)];return a&&c.unshift(n.renderDropdown(o)),c},n.onChange=function(o){n.toggleDropdown(),o!==n.props.month&&n.props.onChange(o)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return i.prototype.render=function(){var n=this,o=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(c){return A7(c,n.props.locale)}:function(c){return dI(c,n.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(o);break;case"select":a=this.renderSelectMode(o);break}return vt.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},i}(se.Component);function iX(t,i){for(var n=[],o=hp(t),a=hp(i);!Rm(o,a);)n.push(Si(o)),o=ih(o,1);return n}var oX=function(t){ma(i,t);function i(n){var o=t.call(this,n)||this;return o.renderOptions=function(){return o.state.monthYearsList.map(function(a){var c=HD(a),d=Yh(o.props.date,a)&&Dl(o.props.date,a);return vt.createElement("div",{className:d?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:c,onClick:o.onChange.bind(o,c),"aria-selected":d?"true":void 0},d?vt.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",oo(a,o.props.dateFormat,o.props.locale))})},o.onChange=function(a){return o.props.onChange(a)},o.handleClickOutside=function(){o.props.onCancel()},o.state={monthYearsList:iX(o.props.minDate,o.props.maxDate)},o}return i.prototype.render=function(){var n=Ma({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return vt.createElement(x5,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},i}(se.Component),sX=function(t){ma(i,t);function i(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var o=hp(n.props.minDate),a=hp(n.props.maxDate),c=[];!Rm(o,a);){var d=HD(o);c.push(vt.createElement("option",{key:d,value:d},oo(o,n.props.dateFormat,n.props.locale))),o=ih(o,1)}return c},n.onSelectChange=function(o){n.onChange(parseInt(o.target.value))},n.renderSelectMode=function(){return vt.createElement("select",{value:HD(hp(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(o){var a=oo(n.props.date,n.props.dateFormat,n.props.locale);return vt.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},vt.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),vt.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},n.renderDropdown=function(){return vt.createElement(oX,Yr({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var o=n.state.dropdownVisible,a=[n.renderReadView(!o)];return o&&a.unshift(n.renderDropdown()),a},n.onChange=function(o){n.toggleDropdown();var a=Si(o);Yh(n.props.date,a)&&Dl(n.props.date,a)||n.props.onChange(a)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return i.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return vt.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},i}(se.Component),aX=function(t){ma(i,t);function i(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var o,a,c;n.list&&(n.list.scrollTop=(c=n.centerLi&&i.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((a=(o=n.header)===null||o===void 0?void 0:o.clientHeight)!==null&&a!==void 0?a:0):n.list.clientHeight,n.centerLi))!==null&&c!==void 0?c:0)})},n.handleClick=function(o){var a,c;(n.props.minTime||n.props.maxTime)&&ij(o,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&rj(o,n.props)||(c=(a=n.props).onChange)===null||c===void 0||c.call(a,o)},n.isSelectedTime=function(o){return n.props.selected&&KJ(n.props.selected,o)},n.isDisabledTime=function(o){return(n.props.minTime||n.props.maxTime)&&ij(o,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&rj(o,n.props)},n.liClasses=function(o){var a,c=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(o):void 0];return n.isSelectedTime(o)&&c.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(o)&&c.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(sf(o)*3600+af(o)*60+dp(o))%(((a=n.props.intervals)!==null&&a!==void 0?a:i.defaultProps.intervals)*60)!==0&&c.push("react-datepicker__time-list-item--injected"),c.join(" ")},n.handleOnKeyDown=function(o,a){var c,d;o.key===an.Space&&(o.preventDefault(),o.key=an.Enter),(o.key===an.ArrowUp||o.key===an.ArrowLeft)&&o.target instanceof HTMLElement&&o.target.previousSibling&&(o.preventDefault(),o.target.previousSibling instanceof HTMLElement&&o.target.previousSibling.focus()),(o.key===an.ArrowDown||o.key===an.ArrowRight)&&o.target instanceof HTMLElement&&o.target.nextSibling&&(o.preventDefault(),o.target.nextSibling instanceof HTMLElement&&o.target.nextSibling.focus()),o.key===an.Enter&&n.handleClick(a),(d=(c=n.props).handleOnKeyDown)===null||d===void 0||d.call(c,o)},n.renderTimes=function(){for(var o,a=[],c=typeof n.props.format=="string"?n.props.format:"p",d=(o=n.props.intervals)!==null&&o!==void 0?o:i.defaultProps.intervals,p=n.props.selected||n.props.openToDate||Si(),m=px(p),k=n.props.injectTimes&&n.props.injectTimes.sort(function(j,M){return j.getTime()-M.getTime()}),v=60*YJ(p),_=v/d,x=0;x<_;x++){var y=UD(m,x*d);if(a.push(y),k){var D=GJ(m,y,x,d,k);a=a.concat(D)}}var E=a.reduce(function(j,M){return M.getTime()<=p.getTime()?M:j},a[0]);return a.map(function(j){return vt.createElement("li",{key:j.valueOf(),onClick:n.handleClick.bind(n,j),className:n.liClasses(j),ref:function(M){j===E&&(n.centerLi=M)},onKeyDown:function(M){n.handleOnKeyDown(M,j)},tabIndex:j===E?0:-1,role:"option","aria-selected":n.isSelectedTime(j)?"true":void 0,"aria-disabled":n.isDisabledTime(j)?"true":void 0},oo(j,c,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?vt.createElement(vt.Fragment,null):vt.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(o){n.header=o}},vt.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(i,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),i.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},i.prototype.render=function(){var n=this,o,a=this.state.height;return vt.createElement("div",{className:"react-datepicker__time-container ".concat(((o=this.props.todayButton)!==null&&o!==void 0?o:i.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),vt.createElement("div",{className:"react-datepicker__time"},vt.createElement("div",{className:"react-datepicker__time-box"},vt.createElement("ul",{className:"react-datepicker__time-list",ref:function(c){n.list=c},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},i.calcCenterPosition=function(n,o){return o.offsetTop-(n/2-o.clientHeight/2)},i}(se.Component),mj=3,lX=function(t){ma(i,t);function i(n){var o=t.call(this,n)||this;return o.YEAR_REFS=rf([],Array(o.props.yearItemNumber),!0).map(function(){return se.createRef()}),o.isDisabled=function(a){return nd(a,{minDate:o.props.minDate,maxDate:o.props.maxDate,excludeDates:o.props.excludeDates,includeDates:o.props.includeDates,filterDate:o.props.filterDate})},o.isExcluded=function(a){return hI(a,{excludeDates:o.props.excludeDates})},o.selectingDate=function(){var a;return(a=o.props.selectingDate)!==null&&a!==void 0?a:o.props.preSelection},o.updateFocusOnPaginate=function(a){var c=function(){var d,p;(p=(d=o.YEAR_REFS[a])===null||d===void 0?void 0:d.current)===null||p===void 0||p.focus()};window.requestAnimationFrame(c)},o.handleYearClick=function(a,c){o.props.onDayClick&&o.props.onDayClick(a,c)},o.handleYearNavigation=function(a,c){var d,p,m,k,v=o.props,_=v.date,x=v.yearItemNumber;if(!(_===void 0||x===void 0)){var y=Dm(_,x).startPeriod;o.isDisabled(c)||o.isExcluded(c)||((p=(d=o.props).setPreSelection)===null||p===void 0||p.call(d,c),a-y<0?o.updateFocusOnPaginate(x-(y-a)):a-y>=x?o.updateFocusOnPaginate(Math.abs(x-(a-y))):(k=(m=o.YEAR_REFS[a-y])===null||m===void 0?void 0:m.current)===null||k===void 0||k.focus())}},o.isSameDay=function(a,c){return Hr(a,c)},o.isCurrentYear=function(a){return a===Ar(Si())},o.isRangeStart=function(a){return o.props.startDate&&o.props.endDate&&Yh(Gh(Si(),a),o.props.startDate)},o.isRangeEnd=function(a){return o.props.startDate&&o.props.endDate&&Yh(Gh(Si(),a),o.props.endDate)},o.isInRange=function(a){return G2(a,o.props.startDate,o.props.endDate)},o.isInSelectingRange=function(a){var c=o.props,d=c.selectsStart,p=c.selectsEnd,m=c.selectsRange,k=c.startDate,v=c.endDate;return!(d||p||m)||!o.selectingDate()?!1:d&&v?G2(a,o.selectingDate(),v):p&&k||m&&k&&!v?G2(a,k,o.selectingDate()):!1},o.isSelectingRangeStart=function(a){var c;if(!o.isInSelectingRange(a))return!1;var d=o.props,p=d.startDate,m=d.selectsStart,k=Gh(Si(),a);return m?Yh(k,(c=o.selectingDate())!==null&&c!==void 0?c:null):Yh(k,p??null)},o.isSelectingRangeEnd=function(a){var c;if(!o.isInSelectingRange(a))return!1;var d=o.props,p=d.endDate,m=d.selectsEnd,k=d.selectsRange,v=Gh(Si(),a);return m||k?Yh(v,(c=o.selectingDate())!==null&&c!==void 0?c:null):Yh(v,p??null)},o.isKeyboardSelected=function(a){if(!(o.props.date===void 0||o.props.selected==null||o.props.preSelection==null)){var c=o.props,d=c.minDate,p=c.maxDate,m=c.excludeDates,k=c.includeDates,v=c.filterDate,_=vy(Gh(o.props.date,a)),x=(d||p||m||k||v)&&mx(a,o.props);return!o.props.disabledKeyboardNavigation&&!o.props.inline&&!Hr(_,vy(o.props.selected))&&Hr(_,vy(o.props.preSelection))&&!x}},o.onYearClick=function(a,c){var d=o.props.date;d!==void 0&&o.handleYearClick(vy(Gh(d,c)),a)},o.onYearKeyDown=function(a,c){var d,p,m=a.key,k=o.props,v=k.date,_=k.yearItemNumber,x=k.handleOnKeyDown;if(m!==an.Tab&&a.preventDefault(),!o.props.disabledKeyboardNavigation)switch(m){case an.Enter:if(o.props.selected==null)break;o.onYearClick(a,c),(p=(d=o.props).setPreSelection)===null||p===void 0||p.call(d,o.props.selected);break;case an.ArrowRight:if(o.props.preSelection==null)break;o.handleYearNavigation(c+1,cp(o.props.preSelection,1));break;case an.ArrowLeft:if(o.props.preSelection==null)break;o.handleYearNavigation(c-1,mk(o.props.preSelection,1));break;case an.ArrowUp:{if(v===void 0||_===void 0||o.props.preSelection==null)break;var y=Dm(v,_).startPeriod,D=mj,E=c-D;if(E<y){var j=_%D;c>=y&&c<y+j?D=j:D+=j,E=c-D}o.handleYearNavigation(E,mk(o.props.preSelection,D));break}case an.ArrowDown:{if(v===void 0||_===void 0||o.props.preSelection==null)break;var M=Dm(v,_).endPeriod,D=mj,E=c+D;if(E>M){var j=_%D;c<=M&&c>M-j?D=j:D+=j,E=c+D}o.handleYearNavigation(E,cp(o.props.preSelection,D));break}}x&&x(a)},o.getYearClassNames=function(a){var c=o.props,d=c.date,p=c.minDate,m=c.maxDate,k=c.selected,v=c.excludeDates,_=c.includeDates,x=c.filterDate,y=c.yearClassName;return Ma("react-datepicker__year-text","react-datepicker__year-".concat(a),d?y==null?void 0:y(Gh(d,a)):void 0,{"react-datepicker__year-text--selected":k?a===Ar(k):void 0,"react-datepicker__year-text--disabled":(p||m||v||_||x)&&mx(a,o.props),"react-datepicker__year-text--keyboard-selected":o.isKeyboardSelected(a),"react-datepicker__year-text--range-start":o.isRangeStart(a),"react-datepicker__year-text--range-end":o.isRangeEnd(a),"react-datepicker__year-text--in-range":o.isInRange(a),"react-datepicker__year-text--in-selecting-range":o.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":o.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":o.isSelectingRangeEnd(a),"react-datepicker__year-text--today":o.isCurrentYear(a)})},o.getYearTabIndex=function(a){if(o.props.disabledKeyboardNavigation||o.props.preSelection==null)return"-1";var c=Ar(o.props.preSelection),d=mx(a,o.props);return a===c&&!d?"0":"-1"},o.getYearContent=function(a){return o.props.renderYearContent?o.props.renderYearContent(a):a},o}return i.prototype.render=function(){var n=this,o=[],a=this.props,c=a.date,d=a.yearItemNumber,p=a.onYearMouseEnter,m=a.onYearMouseLeave;if(c===void 0)return null;for(var k=Dm(c,d),v=k.startPeriod,_=k.endPeriod,x=function(E){o.push(vt.createElement("div",{ref:y.YEAR_REFS[E-v],onClick:function(j){n.onYearClick(j,E)},onKeyDown:function(j){S7(j)&&(j.preventDefault(),j.key=an.Enter),n.onYearKeyDown(j,E)},tabIndex:Number(y.getYearTabIndex(E)),className:y.getYearClassNames(E),onMouseEnter:y.props.usePointerEvent?void 0:function(j){return p(j,E)},onPointerEnter:y.props.usePointerEvent?function(j){return p(j,E)}:void 0,onMouseLeave:y.props.usePointerEvent?void 0:function(j){return m(j,E)},onPointerLeave:y.props.usePointerEvent?function(j){return m(j,E)}:void 0,key:E,"aria-current":y.isCurrentYear(E)?"date":void 0},y.getYearContent(E)))},y=this,D=v;D<=_;D++)x(D);return vt.createElement("div",{className:"react-datepicker__year"},vt.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},o))},i}(se.Component);function cX(t,i,n,o){for(var a=[],c=0;c<2*i+1;c++){var d=t+i-c,p=!0;n&&(p=Ar(n)<=d),o&&p&&(p=Ar(o)>=d),p&&a.push(d)}return a}var uX=function(t){ma(i,t);function i(n){var o=t.call(this,n)||this;o.renderOptions=function(){var p=o.props.year,m=o.state.yearsList.map(function(_){return vt.createElement("div",{className:p===_?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:_,onClick:o.onChange.bind(o,_),"aria-selected":p===_?"true":void 0},p===_?vt.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",_)}),k=o.props.minDate?Ar(o.props.minDate):null,v=o.props.maxDate?Ar(o.props.maxDate):null;return(!v||!o.state.yearsList.find(function(_){return _===v}))&&m.unshift(vt.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:o.incrementYears},vt.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!k||!o.state.yearsList.find(function(_){return _===k}))&&m.push(vt.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:o.decrementYears},vt.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),m},o.onChange=function(p){o.props.onChange(p)},o.handleClickOutside=function(){o.props.onCancel()},o.shiftYears=function(p){var m=o.state.yearsList.map(function(k){return k+p});o.setState({yearsList:m})},o.incrementYears=function(){return o.shiftYears(1)},o.decrementYears=function(){return o.shiftYears(-1)};var a=n.yearDropdownItemNumber,c=n.scrollableYearDropdown,d=a||(c?10:5);return o.state={yearsList:cX(o.props.year,d,o.props.minDate,o.props.maxDate)},o.dropdownRef=se.createRef(),o}return i.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var o=n.children?Array.from(n.children):null,a=o?o.find(function(c){return c.ariaSelected}):null;n.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},i.prototype.render=function(){var n=Ma({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return vt.createElement(x5,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},i}(se.Component),dX=function(t){ma(i,t);function i(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var o=n.props.minDate?Ar(n.props.minDate):1900,a=n.props.maxDate?Ar(n.props.maxDate):2100,c=[],d=o;d<=a;d++)c.push(vt.createElement("option",{key:d,value:d},d));return c},n.onSelectChange=function(o){n.onChange(parseInt(o.target.value))},n.renderSelectMode=function(){return vt.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(o){return vt.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(a){return n.toggleDropdown(a)}},vt.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),vt.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return vt.createElement(uX,Yr({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var o=n.state.dropdownVisible,a=[n.renderReadView(!o)];return o&&a.unshift(n.renderDropdown()),a},n.onChange=function(o){n.toggleDropdown(),o!==n.props.year&&n.props.onChange(o)},n.toggleDropdown=function(o){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,o)})},n.handleYearChange=function(o,a){var c;(c=n.onSelect)===null||c===void 0||c.call(n,o,a),n.setOpen()},n.onSelect=function(o,a){var c,d;(d=(c=n.props).onSelect)===null||d===void 0||d.call(c,o,a)},n.setOpen=function(){var o,a;(a=(o=n.props).setOpen)===null||a===void 0||a.call(o,!0)},n}return i.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return vt.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},i}(se.Component),hX=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],fX=function(t){var i=(t.className||"").split(/\s+/);return hX.some(function(n){return i.indexOf(n)>=0})},pX=function(t){ma(i,t);function i(n){var o=t.call(this,n)||this;return o.monthContainer=void 0,o.handleClickOutside=function(a){o.props.onClickOutside(a)},o.setClickOutsideRef=function(){return o.containerRef.current},o.handleDropdownFocus=function(a){var c,d;fX(a.target)&&((d=(c=o.props).onDropdownFocus)===null||d===void 0||d.call(c,a))},o.getDateInView=function(){var a=o.props,c=a.preSelection,d=a.selected,p=a.openToDate,m=C7(o.props),k=x7(o.props),v=Si(),_=p||d||c;return _||(m&&hb(v,m)?m:k&&Rm(v,k)?k:v)},o.increaseMonth=function(){o.setState(function(a){var c=a.date;return{date:ih(c,1)}},function(){return o.handleMonthChange(o.state.date)})},o.decreaseMonth=function(){o.setState(function(a){var c=a.date;return{date:rb(c,1)}},function(){return o.handleMonthChange(o.state.date)})},o.handleDayClick=function(a,c,d){o.props.onSelect(a,c,d),o.props.setPreSelection&&o.props.setPreSelection(a)},o.handleDayMouseEnter=function(a){o.setState({selectingDate:a}),o.props.onDayMouseEnter&&o.props.onDayMouseEnter(a)},o.handleMonthMouseLeave=function(){o.setState({selectingDate:void 0}),o.props.onMonthMouseLeave&&o.props.onMonthMouseLeave()},o.handleYearMouseEnter=function(a,c){o.setState({selectingDate:Gh(Si(),c)}),o.props.onYearMouseEnter&&o.props.onYearMouseEnter(a,c)},o.handleYearMouseLeave=function(a,c){o.props.onYearMouseLeave&&o.props.onYearMouseLeave(a,c)},o.handleYearChange=function(a){var c,d,p,m;(d=(c=o.props).onYearChange)===null||d===void 0||d.call(c,a),o.setState({isRenderAriaLiveMessage:!0}),o.props.adjustDateOnChange&&(o.props.onSelect(a),(m=(p=o.props).setOpen)===null||m===void 0||m.call(p,!0)),o.props.setPreSelection&&o.props.setPreSelection(a)},o.getEnabledPreSelectionDateForMonth=function(a){if(!nd(a,o.props))return a;for(var c=hp(a),d=BJ(a),p=KY(d,c),m=null,k=0;k<=p;k++){var v=rh(c,k);if(!nd(v,o.props)){m=v;break}}return m},o.handleMonthChange=function(a){var c,d,p,m=(c=o.getEnabledPreSelectionDateForMonth(a))!==null&&c!==void 0?c:a;o.handleCustomMonthChange(m),o.props.adjustDateOnChange&&(o.props.onSelect(m),(p=(d=o.props).setOpen)===null||p===void 0||p.call(d,!0)),o.props.setPreSelection&&o.props.setPreSelection(m)},o.handleCustomMonthChange=function(a){var c,d;(d=(c=o.props).onMonthChange)===null||d===void 0||d.call(c,a),o.setState({isRenderAriaLiveMessage:!0})},o.handleMonthYearChange=function(a){o.handleYearChange(a),o.handleMonthChange(a)},o.changeYear=function(a){o.setState(function(c){var d=c.date;return{date:Gh(d,Number(a))}},function(){return o.handleYearChange(o.state.date)})},o.changeMonth=function(a){o.setState(function(c){var d=c.date;return{date:nu(d,Number(a))}},function(){return o.handleMonthChange(o.state.date)})},o.changeMonthYear=function(a){o.setState(function(c){var d=c.date;return{date:Gh(nu(d,Tl(a)),Ar(a))}},function(){return o.handleMonthYearChange(o.state.date)})},o.header=function(a){a===void 0&&(a=o.state.date);var c=Bm(a,o.props.locale,o.props.calendarStartDay),d=[];return o.props.showWeekNumbers&&d.push(vt.createElement("div",{key:"W",className:"react-datepicker__day-name"},o.props.weekLabel||"#")),d.concat([0,1,2,3,4,5,6].map(function(p){var m=rh(c,p),k=o.formatWeekday(m,o.props.locale),v=o.props.weekDayClassName?o.props.weekDayClassName(m):void 0;return vt.createElement("div",{key:p,"aria-label":oo(m,"EEEE",o.props.locale),className:Ma("react-datepicker__day-name",v)},k)}))},o.formatWeekday=function(a,c){return o.props.formatWeekDay?LJ(a,o.props.formatWeekDay,c):o.props.useWeekdaysShort?RJ(a,c):PJ(a,c)},o.decreaseYear=function(){o.setState(function(a){var c,d=a.date;return{date:mk(d,o.props.showYearPicker?(c=o.props.yearItemNumber)!==null&&c!==void 0?c:i.defaultProps.yearItemNumber:1)}},function(){return o.handleYearChange(o.state.date)})},o.clearSelectingDate=function(){o.setState({selectingDate:void 0})},o.renderPreviousButton=function(){var a,c,d;if(!o.props.renderCustomHeader){var p=(a=o.props.monthsShown)!==null&&a!==void 0?a:i.defaultProps.monthsShown,m=o.props.showPreviousMonths?p-1:0,k=(c=o.props.monthSelectedIn)!==null&&c!==void 0?c:m,v=rb(o.state.date,k),_;switch(!0){case o.props.showMonthYearPicker:_=aj(o.state.date,o.props);break;case o.props.showYearPicker:_=VJ(o.state.date,o.props);break;case o.props.showQuarterYearPicker:_=UJ(o.state.date,o.props);break;default:_=oj(v,o.props);break}if(!(!((d=o.props.forceShowMonthNavigation)!==null&&d!==void 0?d:i.defaultProps.forceShowMonthNavigation)&&!o.props.showDisabledMonthNavigation&&_||o.props.showTimeSelectOnly)){var x=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],y=["react-datepicker__navigation","react-datepicker__navigation--previous"],D=o.decreaseMonth;(o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker)&&(D=o.decreaseYear),_&&o.props.showDisabledMonthNavigation&&(y.push("react-datepicker__navigation--previous--disabled"),D=void 0);var E=o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker,j=o.props,M=j.previousMonthButtonLabel,B=M===void 0?i.defaultProps.previousMonthButtonLabel:M,z=j.previousYearButtonLabel,G=z===void 0?i.defaultProps.previousYearButtonLabel:z,J=o.props,H=J.previousMonthAriaLabel,F=H===void 0?typeof B=="string"?B:"Previous Month":H,Q=J.previousYearAriaLabel,Z=Q===void 0?typeof G=="string"?G:"Previous Year":Q;return vt.createElement("button",{type:"button",className:y.join(" "),onClick:D,onKeyDown:o.props.handleOnKeyDown,"aria-label":E?Z:F},vt.createElement("span",{className:x.join(" ")},E?G:B))}}},o.increaseYear=function(){o.setState(function(a){var c,d=a.date;return{date:cp(d,o.props.showYearPicker?(c=o.props.yearItemNumber)!==null&&c!==void 0?c:i.defaultProps.yearItemNumber:1)}},function(){return o.handleYearChange(o.state.date)})},o.renderNextButton=function(){var a;if(!o.props.renderCustomHeader){var c;switch(!0){case o.props.showMonthYearPicker:c=lj(o.state.date,o.props);break;case o.props.showYearPicker:c=HJ(o.state.date,o.props);break;case o.props.showQuarterYearPicker:c=qJ(o.state.date,o.props);break;default:c=sj(o.state.date,o.props);break}if(!(!((a=o.props.forceShowMonthNavigation)!==null&&a!==void 0?a:i.defaultProps.forceShowMonthNavigation)&&!o.props.showDisabledMonthNavigation&&c||o.props.showTimeSelectOnly)){var d=["react-datepicker__navigation","react-datepicker__navigation--next"],p=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];o.props.showTimeSelect&&d.push("react-datepicker__navigation--next--with-time"),o.props.todayButton&&d.push("react-datepicker__navigation--next--with-today-button");var m=o.increaseMonth;(o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker)&&(m=o.increaseYear),c&&o.props.showDisabledMonthNavigation&&(d.push("react-datepicker__navigation--next--disabled"),m=void 0);var k=o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker,v=o.props,_=v.nextMonthButtonLabel,x=_===void 0?i.defaultProps.nextMonthButtonLabel:_,y=v.nextYearButtonLabel,D=y===void 0?i.defaultProps.nextYearButtonLabel:y,E=o.props,j=E.nextMonthAriaLabel,M=j===void 0?typeof x=="string"?x:"Next Month":j,B=E.nextYearAriaLabel,z=B===void 0?typeof D=="string"?D:"Next Year":B;return vt.createElement("button",{type:"button",className:d.join(" "),onClick:m,onKeyDown:o.props.handleOnKeyDown,"aria-label":k?z:M},vt.createElement("span",{className:p.join(" ")},k?D:x))}}},o.renderCurrentMonth=function(a){a===void 0&&(a=o.state.date);var c=["react-datepicker__current-month"];return o.props.showYearDropdown&&c.push("react-datepicker__current-month--hasYearDropdown"),o.props.showMonthDropdown&&c.push("react-datepicker__current-month--hasMonthDropdown"),o.props.showMonthYearDropdown&&c.push("react-datepicker__current-month--hasMonthYearDropdown"),vt.createElement("h2",{className:c.join(" ")},oo(a,o.props.dateFormat,o.props.locale))},o.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!o.props.showYearDropdown||a))return vt.createElement(dX,Yr({},i.defaultProps,o.props,{date:o.state.date,onChange:o.changeYear,year:Ar(o.state.date)}))},o.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!o.props.showMonthDropdown||a))return vt.createElement(rX,Yr({},i.defaultProps,o.props,{month:Tl(o.state.date),onChange:o.changeMonth}))},o.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!o.props.showMonthYearDropdown||a))return vt.createElement(sX,Yr({},i.defaultProps,o.props,{date:o.state.date,onChange:o.changeMonthYear}))},o.handleTodayButtonClick=function(a){o.props.onSelect(ej(),a),o.props.setPreSelection&&o.props.setPreSelection(ej())},o.renderTodayButton=function(){if(!(!o.props.todayButton||o.props.showTimeSelectOnly))return vt.createElement("div",{className:"react-datepicker__today-button",onClick:o.handleTodayButtonClick},o.props.todayButton)},o.renderDefaultHeader=function(a){var c=a.monthDate,d=a.i;return vt.createElement("div",{className:"react-datepicker__header ".concat(o.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},o.renderCurrentMonth(c),vt.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(o.props.dropdownMode),onFocus:o.handleDropdownFocus},o.renderMonthDropdown(d!==0),o.renderMonthYearDropdown(d!==0),o.renderYearDropdown(d!==0)),vt.createElement("div",{className:"react-datepicker__day-names"},o.header(c)))},o.renderCustomHeader=function(a){var c,d,p=a.monthDate,m=a.i;if(o.props.showTimeSelect&&!o.state.monthContainer||o.props.showTimeSelectOnly)return null;var k=oj(o.state.date,o.props),v=sj(o.state.date,o.props),_=aj(o.state.date,o.props),x=lj(o.state.date,o.props),y=!o.props.showMonthYearPicker&&!o.props.showQuarterYearPicker&&!o.props.showYearPicker;return vt.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:o.props.onDropdownFocus},(d=(c=o.props).renderCustomHeader)===null||d===void 0?void 0:d.call(c,Yr(Yr({},o.state),{customHeaderCount:m,monthDate:p,changeMonth:o.changeMonth,changeYear:o.changeYear,decreaseMonth:o.decreaseMonth,increaseMonth:o.increaseMonth,decreaseYear:o.decreaseYear,increaseYear:o.increaseYear,prevMonthButtonDisabled:k,nextMonthButtonDisabled:v,prevYearButtonDisabled:_,nextYearButtonDisabled:x})),y&&vt.createElement("div",{className:"react-datepicker__day-names"},o.header(p)))},o.renderYearHeader=function(a){var c=a.monthDate,d=o.props,p=d.showYearPicker,m=d.yearItemNumber,k=m===void 0?i.defaultProps.yearItemNumber:m,v=Dm(c,k),_=v.startPeriod,x=v.endPeriod;return vt.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},p?"".concat(_," - ").concat(x):Ar(c))},o.renderHeader=function(a){var c=a.monthDate,d=a.i,p=d===void 0?0:d,m={monthDate:c,i:p};switch(!0){case o.props.renderCustomHeader!==void 0:return o.renderCustomHeader(m);case(o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker):return o.renderYearHeader(m);default:return o.renderDefaultHeader(m)}},o.renderMonths=function(){var a,c;if(!(o.props.showTimeSelectOnly||o.props.showYearPicker)){for(var d=[],p=(a=o.props.monthsShown)!==null&&a!==void 0?a:i.defaultProps.monthsShown,m=o.props.showPreviousMonths?p-1:0,k=o.props.showMonthYearPicker||o.props.showQuarterYearPicker?cp(o.state.date,m):rb(o.state.date,m),v=(c=o.props.monthSelectedIn)!==null&&c!==void 0?c:m,_=0;_<p;++_){var x=_-v+m,y=o.props.showMonthYearPicker||o.props.showQuarterYearPicker?cp(k,x):ih(k,x),D="month-".concat(_),E=_<p-1,j=_>0;d.push(vt.createElement("div",{key:D,ref:function(M){o.monthContainer=M??void 0},className:"react-datepicker__month-container"},o.renderHeader({monthDate:y,i:_}),vt.createElement(tX,Yr({},i.defaultProps,o.props,{ariaLabelPrefix:o.props.monthAriaLabelPrefix,day:y,onDayClick:o.handleDayClick,handleOnKeyDown:o.props.handleOnDayKeyDown,handleOnMonthKeyDown:o.props.handleOnKeyDown,onDayMouseEnter:o.handleDayMouseEnter,onMouseLeave:o.handleMonthMouseLeave,orderInDisplay:_,selectingDate:o.state.selectingDate,monthShowsDuplicateDaysEnd:E,monthShowsDuplicateDaysStart:j}))))}return d}},o.renderYears=function(){if(!o.props.showTimeSelectOnly&&o.props.showYearPicker)return vt.createElement("div",{className:"react-datepicker__year--container"},o.renderHeader({monthDate:o.state.date}),vt.createElement(lX,Yr({},i.defaultProps,o.props,{selectingDate:o.state.selectingDate,date:o.state.date,onDayClick:o.handleDayClick,clearSelectingDate:o.clearSelectingDate,onYearMouseEnter:o.handleYearMouseEnter,onYearMouseLeave:o.handleYearMouseLeave})))},o.renderTimeSection=function(){if(o.props.showTimeSelect&&(o.state.monthContainer||o.props.showTimeSelectOnly))return vt.createElement(aX,Yr({},i.defaultProps,o.props,{onChange:o.props.onTimeChange,format:o.props.timeFormat,intervals:o.props.timeIntervals,monthRef:o.state.monthContainer}))},o.renderInputTimeSection=function(){var a=o.props.selected?new Date(o.props.selected):void 0,c=a&&ip(a)&&!!o.props.selected,d=c?"".concat(uj(a.getHours()),":").concat(uj(a.getMinutes())):"";if(o.props.showTimeInput)return vt.createElement(QJ,Yr({},i.defaultProps,o.props,{date:a,timeString:d,onChange:o.props.onTimeChange}))},o.renderAriaLiveRegion=function(){var a,c=Dm(o.state.date,(a=o.props.yearItemNumber)!==null&&a!==void 0?a:i.defaultProps.yearItemNumber),d=c.startPeriod,p=c.endPeriod,m;return o.props.showYearPicker?m="".concat(d," - ").concat(p):o.props.showMonthYearPicker||o.props.showQuarterYearPicker?m=Ar(o.state.date):m="".concat(dI(Tl(o.state.date),o.props.locale)," ").concat(Ar(o.state.date)),vt.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},o.state.isRenderAriaLiveMessage&&m)},o.renderChildren=function(){if(o.props.children)return vt.createElement("div",{className:"react-datepicker__children-container"},o.props.children)},o.containerRef=se.createRef(),o.state={date:o.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},o}return Object.defineProperty(i,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:cA}},enumerable:!1,configurable:!0}),i.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},i.prototype.componentDidUpdate=function(n){var o=this;if(this.props.preSelection&&(!Hr(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var a=!Dl(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&o.handleCustomMonthChange(o.state.date)})}else this.props.openToDate&&!Hr(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},i.prototype.render=function(){var n=this.props.container||EJ;return vt.createElement(x5,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},vt.createElement(n,{className:Ma("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},i}(se.Component),mX=function(t){var i=t.icon,n=t.className,o=n===void 0?"":n,a=t.onClick,c="react-datepicker__calendar-icon";return typeof i=="string"?vt.createElement("i",{className:"".concat(c," ").concat(i," ").concat(o),"aria-hidden":"true",onClick:a}):vt.isValidElement(i)?vt.cloneElement(i,{className:"".concat(i.props.className||""," ").concat(c," ").concat(o),onClick:function(d){typeof i.props.onClick=="function"&&i.props.onClick(d),typeof a=="function"&&a(d)}}):vt.createElement("svg",{className:"".concat(c," ").concat(o),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},vt.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},E7=function(t){ma(i,t);function i(n){var o=t.call(this,n)||this;return o.portalRoot=null,o.el=document.createElement("div"),o}return i.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},i.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},i.prototype.render=function(){return a$.createPortal(this.props.children,this.el)},i}(se.Component),gX="[tabindex], a, button, input, select, textarea",bX=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},D7=function(t){ma(i,t);function i(n){var o=t.call(this,n)||this;return o.getTabChildren=function(){var a;return Array.prototype.slice.call((a=o.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(gX),1,-1).filter(bX)},o.handleFocusStart=function(){var a=o.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},o.handleFocusEnd=function(){var a=o.getTabChildren();a&&a.length>1&&a[0].focus()},o.tabLoopRef=se.createRef(),o}return i.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:i.defaultProps.enableTabLoop)?vt.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},vt.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,vt.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},i.defaultProps={enableTabLoop:!0},i}(se.Component);function kX(t){var i=function(n){var o,a=typeof n.hidePopper=="boolean"?n.hidePopper:!0,c=se.useRef(null),d=SJ(Yr({open:!a,whileElementsMounted:iJ,placement:n.popperPlacement,middleware:rf([fJ({padding:15}),hJ(10),pJ({element:c})],(o=n.popperModifiers)!==null&&o!==void 0?o:[],!0)},n.popperProps)),p=Yr(Yr({},n),{hidePopper:a,popperProps:Yr(Yr({},d),{arrowRef:c})});return vt.createElement(t,Yr({},p))};return i}var wX=function(t){ma(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(i,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),i.prototype.render=function(){var n=this.props,o=n.className,a=n.wrapperClassName,c=n.hidePopper,d=c===void 0?i.defaultProps.hidePopper:c,p=n.popperComponent,m=n.targetComponent,k=n.enableTabLoop,v=n.popperOnKeyDown,_=n.portalId,x=n.portalHost,y=n.popperProps,D=n.showArrow,E=void 0;if(!d){var j=Ma("react-datepicker-popper",o);E=vt.createElement(D7,{enableTabLoop:k},vt.createElement("div",{ref:y.refs.setFloating,style:y.floatingStyles,className:j,"data-placement":y.placement,onKeyDown:v},p,D&&vt.createElement(wJ,{ref:y.arrowRef,context:y.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(E=se.createElement(this.props.popperContainer,{},E)),_&&!d&&(E=vt.createElement(E7,{portalId:_,portalHost:x},E));var M=Ma("react-datepicker-wrapper",a);return vt.createElement(vt.Fragment,null,vt.createElement("div",{ref:y.refs.setReference,className:M},m),E)},i}(se.Component),vX=kX(wX),gj="react-datepicker-ignore-onclickoutside";function yX(t,i){return t&&i?Tl(t)!==Tl(i)||Ar(t)!==Ar(i):t!==i}var VE="Date input not valid.",AX=function(t){ma(i,t);function i(n){var o=t.call(this,n)||this;return o.calendar=null,o.input=null,o.getPreSelection=function(){return o.props.openToDate?o.props.openToDate:o.props.selectsEnd&&o.props.startDate?o.props.startDate:o.props.selectsStart&&o.props.endDate?o.props.endDate:Si()},o.modifyHolidays=function(){var a;return(a=o.props.holidays)===null||a===void 0?void 0:a.reduce(function(c,d){var p=new Date(d.date);return ip(p)?rf(rf([],c,!0),[Yr(Yr({},d),{date:p})],!1):c},[])},o.calcInitialState=function(){var a,c=o.getPreSelection(),d=C7(o.props),p=x7(o.props),m=d&&hb(c,px(d))?d:p&&Rm(c,tj(p))?p:c;return{open:o.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(a=o.props.selectsRange?o.props.startDate:o.props.selected)!==null&&a!==void 0?a:m,highlightDates:cj(o.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},o.resetHiddenStatus=function(){o.setState(Yr(Yr({},o.state),{wasHidden:!1}))},o.setHiddenStatus=function(){o.setState(Yr(Yr({},o.state),{wasHidden:!0}))},o.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&o.setHiddenStatus()},o.clearPreventFocusTimeout=function(){o.preventFocusTimeout&&clearTimeout(o.preventFocusTimeout)},o.safeFocus=function(){setTimeout(function(){var a,c;(c=(a=o.input)===null||a===void 0?void 0:a.focus)===null||c===void 0||c.call(a,{preventScroll:!0})},0)},o.safeBlur=function(){setTimeout(function(){var a,c;(c=(a=o.input)===null||a===void 0?void 0:a.blur)===null||c===void 0||c.call(a)},0)},o.setFocus=function(){o.safeFocus()},o.setBlur=function(){o.safeBlur(),o.cancelFocusInput()},o.setOpen=function(a,c){c===void 0&&(c=!1),o.setState({open:a,preSelection:a&&o.state.open?o.state.preSelection:o.calcInitialState().preSelection,lastPreSelectChange:HE},function(){a||o.setState(function(d){return{focused:c?d.focused:!1}},function(){!c&&o.setBlur(),o.setState({inputValue:null})})})},o.inputOk=function(){return up(o.state.preSelection)},o.isCalendarOpen=function(){return o.props.open===void 0?o.state.open&&!o.props.disabled&&!o.props.readOnly:o.props.open},o.handleFocus=function(a){var c,d,p=o.state.wasHidden,m=p?o.state.open:!0;p&&o.resetHiddenStatus(),!o.state.preventFocus&&m&&((d=(c=o.props).onFocus)===null||d===void 0||d.call(c,a),!o.props.preventOpenOnFocus&&!o.props.readOnly&&o.setOpen(!0)),o.setState({focused:!0})},o.sendFocusBackToInput=function(){o.preventFocusTimeout&&o.clearPreventFocusTimeout(),o.setState({preventFocus:!0},function(){o.preventFocusTimeout=setTimeout(function(){o.setFocus(),o.setState({preventFocus:!1})})})},o.cancelFocusInput=function(){clearTimeout(o.inputFocusTimeout),o.inputFocusTimeout=void 0},o.deferFocusInput=function(){o.cancelFocusInput(),o.inputFocusTimeout=setTimeout(function(){return o.setFocus()},1)},o.handleDropdownFocus=function(){o.cancelFocusInput()},o.handleBlur=function(a){var c,d;(!o.state.open||o.props.withPortal||o.props.showTimeInput)&&((d=(c=o.props).onBlur)===null||d===void 0||d.call(c,a)),o.setState({focused:!1})},o.handleCalendarClickOutside=function(a){var c,d;o.props.inline||o.setOpen(!1),(d=(c=o.props).onClickOutside)===null||d===void 0||d.call(c,a),o.props.withPortal&&a.preventDefault()},o.handleChange=function(){for(var a,c,d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];var m=d[0];if(!(o.props.onChangeRaw&&(o.props.onChangeRaw.apply(o,d),!m||typeof m.isDefaultPrevented!="function"||m.isDefaultPrevented()))){o.setState({inputValue:(m==null?void 0:m.target)instanceof HTMLInputElement?m.target.value:null,lastPreSelectChange:_X});var k=o.props,v=k.dateFormat,_=v===void 0?i.defaultProps.dateFormat:v,x=k.strictParsing,y=x===void 0?i.defaultProps.strictParsing:x,D=k.selectsRange,E=k.startDate,j=k.endDate,M=(m==null?void 0:m.target)instanceof HTMLInputElement?m.target.value:"";if(D){var B=M.split("-",2).map(function(ae){return ae.trim()}),z=B[0],G=B[1],J=FE(z??"",_,o.props.locale,y),H=FE(G??"",_,o.props.locale,y),F=(E==null?void 0:E.getTime())!==(J==null?void 0:J.getTime()),Q=(j==null?void 0:j.getTime())!==(H==null?void 0:H.getTime());if(!F&&!Q||J&&nd(J,o.props)||H&&nd(H,o.props))return;(c=(a=o.props).onChange)===null||c===void 0||c.call(a,[J,H],m)}else{var Z=FE(M,_,o.props.locale,y,o.props.minDate);o.props.showTimeSelectOnly&&o.props.selected&&Z&&!Hr(Z,o.props.selected)&&(Z=aZ(o.props.selected,{hours:sf(Z),minutes:af(Z),seconds:dp(Z)})),(Z||!M)&&o.setSelected(Z,m,!0)}}},o.handleSelect=function(a,c,d){if(o.props.shouldCloseOnSelect&&!o.props.showTimeSelect&&o.sendFocusBackToInput(),o.props.onChangeRaw&&o.props.onChangeRaw(c),o.setSelected(a,c,!1,d),o.props.showDateSelect&&o.setState({isRenderAriaLiveMessage:!0}),!o.props.shouldCloseOnSelect||o.props.showTimeSelect)o.setPreSelection(a);else if(!o.props.inline){o.props.selectsRange||o.setOpen(!1);var p=o.props,m=p.startDate,k=p.endDate;m&&!k&&(o.props.swapRange||!fj(a,m))&&o.setOpen(!1)}},o.setSelected=function(a,c,d,p){var m,k,v=a;if(o.props.showYearPicker){if(v!==null&&mx(Ar(v),o.props))return}else if(o.props.showMonthYearPicker){if(v!==null&&_7(v,o.props))return}else if(v!==null&&nd(v,o.props))return;var _=o.props,x=_.onChange,y=_.selectsRange,D=_.startDate,E=_.endDate,j=_.selectsMultiple,M=_.selectedDates,B=_.minTime,z=_.swapRange;if(!Jg(o.props.selected,v)||o.props.allowSameDay||y||j)if(v!==null&&(o.props.selected&&(!d||!o.props.showTimeSelect&&!o.props.showTimeSelectOnly&&!o.props.showTimeInput)&&(v=UE(v,{hour:sf(o.props.selected),minute:af(o.props.selected),second:dp(o.props.selected)})),!d&&(o.props.showTimeSelect||o.props.showTimeSelectOnly)&&B&&(v=UE(v,{hour:B.getHours(),minute:B.getMinutes(),second:B.getSeconds()})),o.props.inline||o.setState({preSelection:v}),o.props.focusSelectedMonth||o.setState({monthSelectedIn:p})),y){var G=!D&&!E,J=D&&!E,H=D&&E;G?x==null||x([v,null],c):J&&(v===null?x==null||x([null,null],c):fj(v,D)?z?x==null||x([v,D],c):x==null||x([v,null],c):x==null||x([D,v],c)),H&&(x==null||x([v,null],c))}else if(j){if(v!==null)if(!(M!=null&&M.length))x==null||x([v],c);else{var F=M.some(function(Z){return Hr(Z,v)});if(F){var Q=M.filter(function(Z){return!Hr(Z,v)});x==null||x(Q,c)}else x==null||x(rf(rf([],M,!0),[v],!1),c)}}else x==null||x(v,c);d||((k=(m=o.props).onSelect)===null||k===void 0||k.call(m,v,c),o.setState({inputValue:null}))},o.setPreSelection=function(a){var c=up(o.props.minDate),d=up(o.props.maxDate),p=!0;if(a){var m=px(a);if(c&&d)p=yy(a,o.props.minDate,o.props.maxDate);else if(c){var k=px(o.props.minDate);p=Rm(a,k)||Jg(m,k)}else if(d){var v=tj(o.props.maxDate);p=hb(a,v)||Jg(m,v)}}p&&o.setState({preSelection:a})},o.toggleCalendar=function(){o.setOpen(!o.state.open)},o.handleTimeChange=function(a){var c,d;if(!(o.props.selectsRange||o.props.selectsMultiple)){var p=o.props.selected?o.props.selected:o.getPreSelection(),m=o.props.selected?a:UE(p,{hour:sf(a),minute:af(a)});o.setState({preSelection:m}),(d=(c=o.props).onChange)===null||d===void 0||d.call(c,m),o.props.shouldCloseOnSelect&&!o.props.showTimeInput&&(o.sendFocusBackToInput(),o.setOpen(!1)),o.props.showTimeInput&&o.setOpen(!0),(o.props.showTimeSelectOnly||o.props.showTimeSelect)&&o.setState({isRenderAriaLiveMessage:!0}),o.setState({inputValue:null})}},o.onInputClick=function(){var a,c;!o.props.disabled&&!o.props.readOnly&&o.setOpen(!0),(c=(a=o.props).onInputClick)===null||c===void 0||c.call(a)},o.onInputKeyDown=function(a){var c,d,p,m,k,v;(d=(c=o.props).onKeyDown)===null||d===void 0||d.call(c,a);var _=a.key;if(!o.state.open&&!o.props.inline&&!o.props.preventOpenOnFocus){(_===an.ArrowDown||_===an.ArrowUp||_===an.Enter)&&((p=o.onInputClick)===null||p===void 0||p.call(o));return}if(o.state.open){if(_===an.ArrowDown||_===an.ArrowUp){a.preventDefault();var x=o.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":o.props.showWeekPicker&&o.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':o.props.showFullMonthYearPicker||o.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',y=((m=o.calendar)===null||m===void 0?void 0:m.containerRef.current)instanceof Element&&o.calendar.containerRef.current.querySelector(x);y instanceof HTMLElement&&y.focus({preventScroll:!0});return}var D=Si(o.state.preSelection);_===an.Enter?(a.preventDefault(),a.target.blur(),o.inputOk()&&o.state.lastPreSelectChange===HE?(o.handleSelect(D,a),!o.props.shouldCloseOnSelect&&o.setPreSelection(D)):o.setOpen(!1)):_===an.Escape?(a.preventDefault(),a.target.blur(),o.sendFocusBackToInput(),o.setOpen(!1)):_===an.Tab&&o.setOpen(!1),o.inputOk()||(v=(k=o.props).onInputError)===null||v===void 0||v.call(k,{code:1,msg:VE})}},o.onPortalKeyDown=function(a){var c=a.key;c===an.Escape&&(a.preventDefault(),o.setState({preventFocus:!0},function(){o.setOpen(!1),setTimeout(function(){o.setFocus(),o.setState({preventFocus:!1})})}))},o.onDayKeyDown=function(a){var c,d,p,m,k,v,_=o.props,x=_.minDate,y=_.maxDate,D=_.disabledKeyboardNavigation,E=_.showWeekPicker,j=_.shouldCloseOnSelect,M=_.locale,B=_.calendarStartDay,z=_.adjustDateOnChange,G=_.inline;if((d=(c=o.props).onKeyDown)===null||d===void 0||d.call(c,a),!D){var J=a.key,H=a.shiftKey,F=Si(o.state.preSelection),Q=function(fe,ue){var de=ue;switch(fe){case an.ArrowRight:de=E?Fx(ue,1):rh(ue,1);break;case an.ArrowLeft:de=E?q8(ue):HQ(ue);break;case an.ArrowUp:de=q8(ue);break;case an.ArrowDown:de=Fx(ue,1);break;case an.PageUp:de=H?mk(ue,1):rb(ue,1);break;case an.PageDown:de=H?cp(ue,1):ih(ue,1);break;case an.Home:de=Bm(ue,M,B);break;case an.End:de=OJ(ue);break}return de},Z=function(fe,ue){for(var de=40,me=fe,Me=!1,ce=0,Ie=Q(fe,ue);!Me;){if(ce>=de){Ie=ue;break}x&&Ie<x&&(me=an.ArrowRight,Ie=nd(x,o.props)?Q(me,Ie):x),y&&Ie>y&&(me=an.ArrowLeft,Ie=nd(y,o.props)?Q(me,Ie):y),nd(Ie,o.props)?((me===an.PageUp||me===an.Home)&&(me=an.ArrowRight),(me===an.PageDown||me===an.End)&&(me=an.ArrowLeft),Ie=Q(me,Ie)):Me=!0,ce++}return Ie};if(J===an.Enter){a.preventDefault(),o.handleSelect(F,a),!j&&o.setPreSelection(F);return}else if(J===an.Escape){a.preventDefault(),o.setOpen(!1),o.inputOk()||(m=(p=o.props).onInputError)===null||m===void 0||m.call(p,{code:1,msg:VE});return}var ae=null;switch(J){case an.ArrowLeft:case an.ArrowRight:case an.ArrowUp:case an.ArrowDown:case an.PageUp:case an.PageDown:case an.Home:case an.End:ae=Z(J,F);break}if(!ae){(v=(k=o.props).onInputError)===null||v===void 0||v.call(k,{code:1,msg:VE});return}if(a.preventDefault(),o.setState({lastPreSelectChange:HE}),z&&o.setSelected(ae),o.setPreSelection(ae),G){var X=Tl(F),Y=Tl(ae),U=Ar(F),q=Ar(ae);X!==Y||U!==q?o.setState({shouldFocusDayInline:!0}):o.setState({shouldFocusDayInline:!1})}}},o.onPopperKeyDown=function(a){var c=a.key;c===an.Escape&&(a.preventDefault(),o.sendFocusBackToInput())},o.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),o.sendFocusBackToInput();var c=o.props,d=c.selectsRange,p=c.onChange;d?p==null||p([null,null],a):p==null||p(null,a),o.setState({inputValue:null})},o.clear=function(){o.onClearClick()},o.onScroll=function(a){typeof o.props.closeOnScroll=="boolean"&&o.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&o.setOpen(!1):typeof o.props.closeOnScroll=="function"&&o.props.closeOnScroll(a)&&o.setOpen(!1)},o.renderCalendar=function(){var a,c;return!o.props.inline&&!o.isCalendarOpen()?null:vt.createElement(pX,Yr({showMonthYearDropdown:void 0,ref:function(d){o.calendar=d}},o.props,o.state,{setOpen:o.setOpen,dateFormat:(a=o.props.dateFormatCalendar)!==null&&a!==void 0?a:i.defaultProps.dateFormatCalendar,onSelect:o.handleSelect,onClickOutside:o.handleCalendarClickOutside,holidays:WJ(o.modifyHolidays()),outsideClickIgnoreClass:gj,onDropdownFocus:o.handleDropdownFocus,onTimeChange:o.handleTimeChange,className:o.props.calendarClassName,container:o.props.calendarContainer,handleOnKeyDown:o.props.onKeyDown,handleOnDayKeyDown:o.onDayKeyDown,setPreSelection:o.setPreSelection,dropdownMode:(c=o.props.dropdownMode)!==null&&c!==void 0?c:i.defaultProps.dropdownMode}),o.props.children)},o.renderAriaLiveRegion=function(){var a=o.props,c=a.dateFormat,d=c===void 0?i.defaultProps.dateFormat:c,p=a.locale,m=o.props.showTimeInput||o.props.showTimeSelect,k=m?"PPPPp":"PPPP",v;return o.props.selectsRange?v="Selected start date: ".concat(ed(o.props.startDate,{dateFormat:k,locale:p}),". ").concat(o.props.endDate?"End date: "+ed(o.props.endDate,{dateFormat:k,locale:p}):""):o.props.showTimeSelectOnly?v="Selected time: ".concat(ed(o.props.selected,{dateFormat:d,locale:p})):o.props.showYearPicker?v="Selected year: ".concat(ed(o.props.selected,{dateFormat:"yyyy",locale:p})):o.props.showMonthYearPicker?v="Selected month: ".concat(ed(o.props.selected,{dateFormat:"MMMM yyyy",locale:p})):o.props.showQuarterYearPicker?v="Selected quarter: ".concat(ed(o.props.selected,{dateFormat:"yyyy, QQQ",locale:p})):v="Selected date: ".concat(ed(o.props.selected,{dateFormat:k,locale:p})),vt.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},v)},o.renderDateInput=function(){var a,c,d,p=Ma(o.props.className,(a={},a[gj]=o.state.open,a)),m=o.props.customInput||vt.createElement("input",{type:"text"}),k=o.props.customInputRef||"ref",v=o.props,_=v.dateFormat,x=_===void 0?i.defaultProps.dateFormat:_,y=v.locale,D=typeof o.props.value=="string"?o.props.value:typeof o.state.inputValue=="string"?o.state.inputValue:o.props.selectsRange?TJ(o.props.startDate,o.props.endDate,{dateFormat:x,locale:y}):o.props.selectsMultiple?MJ((d=o.props.selectedDates)!==null&&d!==void 0?d:[],{dateFormat:x,locale:y}):ed(o.props.selected,{dateFormat:x,locale:y});return se.cloneElement(m,(c={},c[k]=function(E){o.input=E},c.value=D,c.onBlur=o.handleBlur,c.onChange=o.handleChange,c.onClick=o.onInputClick,c.onFocus=o.handleFocus,c.onKeyDown=o.onInputKeyDown,c.id=o.props.id,c.name=o.props.name,c.form=o.props.form,c.autoFocus=o.props.autoFocus,c.placeholder=o.props.placeholderText,c.disabled=o.props.disabled,c.autoComplete=o.props.autoComplete,c.className=Ma(m.props.className,p),c.title=o.props.title,c.readOnly=o.props.readOnly,c.required=o.props.required,c.tabIndex=o.props.tabIndex,c["aria-describedby"]=o.props.ariaDescribedBy,c["aria-invalid"]=o.props.ariaInvalid,c["aria-labelledby"]=o.props.ariaLabelledBy,c["aria-required"]=o.props.ariaRequired,c))},o.renderClearButton=function(){var a=o.props,c=a.isClearable,d=a.disabled,p=a.selected,m=a.startDate,k=a.endDate,v=a.clearButtonTitle,_=a.clearButtonClassName,x=_===void 0?"":_,y=a.ariaLabelClose,D=y===void 0?"Close":y,E=a.selectedDates;return c&&(p!=null||m!=null||k!=null||E!=null&&E.length)?vt.createElement("button",{type:"button",className:Ma("react-datepicker__close-icon",x,{"react-datepicker__close-icon--disabled":d}),disabled:d,"aria-label":D,onClick:o.onClearClick,title:v,tabIndex:-1}):null},o.state=o.calcInitialState(),o.preventFocusTimeout=void 0,o}return Object.defineProperty(i,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:cA,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),i.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},i.prototype.componentDidUpdate=function(n,o){var a,c,d,p;n.inline&&yX(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:cj(this.props.highlightDates)}),!o.focused&&!Jg(n.selected,this.props.selected)&&this.setState({inputValue:null}),o.open!==this.state.open&&(o.open===!1&&this.state.open===!0&&((c=(a=this.props).onCalendarOpen)===null||c===void 0||c.call(a)),o.open===!0&&this.state.open===!1&&((p=(d=this.props).onCalendarClose)===null||p===void 0||p.call(d)))},i.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},i.prototype.renderInputContainer=function(){var n=this.props,o=n.showIcon,a=n.icon,c=n.calendarIconClassname,d=n.calendarIconClassName,p=n.toggleCalendarOnIconClick,m=this.state.open;return c&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),vt.createElement("div",{className:"react-datepicker__input-container".concat(o?" react-datepicker__view-calendar-icon":"")},o&&vt.createElement(mX,Yr({icon:a,className:Ma(d,!d&&c,m&&"react-datepicker-ignore-onclickoutside")},p?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},i.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var o=this.state.open?vt.createElement(D7,{enableTabLoop:this.props.enableTabLoop},vt.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(o=vt.createElement(E7,Yr({portalId:this.props.portalId},this.props),o)),vt.createElement("div",null,this.renderInputContainer(),o)}return vt.createElement(vX,Yr({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},i}(se.Component),_X="input",HE="navigate";const CX=oh(yn)({width:"100%"}),I7=vt.forwardRef((t,i)=>w.jsx(CX,{...t,inputRef:i,fullWidth:!0}));I7.displayName="CustomInput";const xX=({value:t,onChange:i})=>w.jsx(Ne,{sx:{mb:2},children:w.jsx(AX,{selected:t,onChange:n=>i(n),showTimeSelect:!0,dateFormat:"Pp",customInput:w.jsx(I7,{label:"Schedule Publish Date & Time"})})}),SX=se.lazy(()=>No(()=>import("./MaterialImportWrapper-DJNfXqhj.js"),__vite__mapDeps([3,4,1,5]))),EX=({src:t,alt:i})=>{const[n,o]=se.useState(!1),[a,c]=se.useState(!1);return se.useEffect(()=>{const d=new Image;return d.src=t,d.onload=()=>o(!0),d.onerror=()=>c(!0),()=>{d.onload=null,d.onerror=null}},[t]),a?w.jsx(Ne,{sx:{width:"50%",height:150,bgcolor:"#f5f5f5",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:1,border:"1px dashed #ccc",marginBottom:"16px"},children:w.jsx(xe,{variant:"body2",color:"text.secondary",children:"Image failed to load"})}):w.jsxs(w.Fragment,{children:[!n&&w.jsx(PL,{variant:"rectangular",width:"50%",height:150,sx:{borderRadius:1,marginBottom:"16px"}}),w.jsx(Ox,{in:n,timeout:300,children:w.jsx(Ne,{sx:{display:n?"block":"none"},children:w.jsx("img",{src:t,alt:i,style:{maxWidth:"50%",marginBottom:"16px",borderRadius:"4px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",transition:"all 0.2s ease-in-out"}})})})]})},T7=({materialData:t})=>{var zn,Yn,ei,rr,vr,gr,yr,fn,ir,is,wi,os,ss,hn,Sr,or,vi,jr,Wr,di,jl,Cs,xs,wo,Di,lo,co,zr,fl,Ol,Ki,Ss,Bl,pu;const i=ao(),{userDetails:n}=ko(),o=Nr(),{uploadedFile:a,uploadOriginalFile:c,originalFileUrl:d,originalFileUploadProgress:p}=bb(),[m]=oA(),k=m.get("course"),[v,_]=se.useState((t==null?void 0:t.course)||k||""),[x,y]=se.useState((t==null?void 0:t.id)||null),[D,E]=se.useState((t==null?void 0:t.title)||""),[j,M]=se.useState((t==null?void 0:t.header)||{title:"Header",content:""}),[B,z]=se.useState((t==null?void 0:t.footer)||{title:"Footer",content:""}),[G,J]=se.useState((t==null?void 0:t.sections)||[{id:sl(),title:"Section 1",content:"",subsections:[],images:[],links:[]}]),[H,F]=se.useState({sectionIndex:0}),[Q,Z]=se.useState(!1),[ae,X]=se.useState(""),[Y,U]=se.useState("success"),[q,fe]=se.useState(!1),[ue,de]=se.useState(((zn=t==null?void 0:t.scheduledTimestamp)==null?void 0:zn.toDate())||null),[me,Me]=se.useState(!1),[ce,Ie]=se.useState("manual"),[re,te]=se.useState(!1),[ke,be]=se.useState(null),[ve,Re]=se.useState(null),[Be,Ue]=se.useState(!1);WP(G,H.sectionIndex||0,G.length>1),se.useEffect(()=>{const Ft=Ht=>{Ht.key==="ArrowLeft"?kt("prev"):Ht.key==="ArrowRight"&&kt("next")};return window.addEventListener("keydown",Ft),()=>{window.removeEventListener("keydown",Ft)}},[H,G]);const Ze=async(Ft,Ht=!1,Wt)=>{Ft.preventDefault();try{const mn=G.some(sn=>{var Qn,Fr;return((Qn=sn.images)==null?void 0:Qn.some(Kr=>Kr.url.startsWith("blob:")))||((Fr=sn.subsections)==null?void 0:Fr.some(Kr=>{var Ii;return(Ii=Kr.images)==null?void 0:Ii.some(vo=>vo.url.startsWith("blob:"))}))});if(re&&mn){const sn=await pa(Zn(o,"materials"),{course:v,title:D,header:j,footer:B,sections:[],author:(n==null?void 0:n.uid)||"",timestamp:Zh(),published:!1,scheduledTimestamp:null}),Qn=sn.id;y(Qn);try{X("Uploading images..."),U("info"),Z(!0);const Fr=600*1e3,Kr=FD(v,(n==null?void 0:n.uid)||"",Qn,(kr,Qr)=>{be({completed:kr,total:Qr})}),Ii=new Promise((kr,Qr)=>{setTimeout(()=>Qr(new Error("Image upload timeout - taking too long")),Fr)}),vo=await Promise.race([Kr,Ii]),Ps={sections:vo.sections,published:Ht,scheduledTimestamp:Wt?ta.fromDate(Wt):null};d&&a&&(Ps.originalFile={name:a.name,type:a.type,size:a.size,url:d,uploadedAt:Zh()},console.log(" Adding original file info to material:",{name:a.name,type:a.type,size:a.size})),await gi(sn,Ps),J(vo.sections),te(!1),be(null),X(`Material ${Ht?"published":"saved"} successfully with images!`)}catch(Fr){console.error("Image upload failed:",Fr);const Kr=Fr instanceof Error?Fr.message:"Unknown error occurred";Re(Kr),be(null),await gi(sn,{sections:G,published:Ht,scheduledTimestamp:Wt?ta.fromDate(Wt):null}),X("Material saved, but some images failed to upload"),U("warning")}}else if(x){const sn=Vn(o,"materials",x),Qn={course:v,title:D,header:j,footer:B,sections:G,published:Ht,scheduledTimestamp:Wt?ta.fromDate(Wt):null};d&&a&&(Qn.originalFile={name:a.name,type:a.type,size:a.size,url:d,uploadedAt:Zh()},console.log(" Adding original file info to updated material:",{name:a.name,type:a.type,size:a.size})),await gi(sn,Qn),X("Material updated successfully")}else{console.log("Saving material with sections:",G.map(Fr=>{var Kr,Ii;return{title:Fr.title,imageCount:((Kr=Fr.images)==null?void 0:Kr.length)||0,images:(Ii=Fr.images)==null?void 0:Ii.map(vo=>({url:vo.url.substring(0,100)+"...",title:vo.title}))}}));const sn={course:v,title:D,header:j,footer:B,sections:G,author:(n==null?void 0:n.uid)||"",timestamp:Zh(),published:Ht,scheduledTimestamp:Wt?ta.fromDate(Wt):null};d&&a&&(sn.originalFile={name:a.name,type:a.type,size:a.size,url:d,uploadedAt:Zh()},console.log(" Adding original file info to new material:",{name:a.name,type:a.type,size:a.size}));const Qn=await pa(Zn(o,"materials"),sn);y(Qn.id),X("Material saved successfully")}U("success"),Z(!0),fe(!0),setTimeout(()=>fe(!1),3e3)}catch{X("Failed to save material"),U("error"),Z(!0)}},Ge=()=>{i(k?`/supplemental-materials?course=${k}`:"/supplemental-materials")},ft=Ft=>{Ze(Ft,!0)},gt=Ft=>{me&&ue?Ze(Ft,!1,ue):Me(!0)},oe=()=>{J([...G,{id:sl(),title:`Section ${G.length+1}`,content:"",subsections:[],images:[],links:[]}])},Pe=Ft=>{const Ht=[...G],Wt=Ht[Ft];Wt.subsections.push({id:sl(),title:`Subsection ${Wt.subsections.length+1}`,content:"",subSubsections:[],images:[],links:[]}),J(Ht),F({sectionIndex:Ft,subsectionIndex:Wt.subsections.length-1})},we=(Ft,Ht)=>{const Wt=[...G],mn=Wt[Ft].subsections[Ht];mn.subSubsections.push({id:sl(),title:`Sub-Subsection ${mn.subSubsections.length+1}`,content:"",images:[],links:[]}),J(Wt),F({sectionIndex:Ft,subsectionIndex:Ht,subSubsectionIndex:mn.subSubsections.length-1})},De=(Ft,Ht,Wt,mn)=>{const sn=[...G];mn!==void 0?sn[Ft].subsections[Wt].subSubsections[mn].images=[...sn[Ft].subsections[Wt].subSubsections[mn].images,...Ht]:Wt!==void 0?sn[Ft].subsections[Wt].images=[...sn[Ft].subsections[Wt].images,...Ht]:sn[Ft].images=[...sn[Ft].images,...Ht],J(sn)},Ae=(Ft,Ht,Wt,mn)=>{const sn=[...G];mn!==void 0?sn[Ft].subsections[Wt].subSubsections[mn].links=Ht:Wt!==void 0?sn[Ft].subsections[Wt].links=Ht:sn[Ft].links=Ht,J(sn)},Oe=(Ft,Ht,Wt)=>{F({sectionIndex:typeof Ft=="number"?Ft:void 0,subsectionIndex:Ht,subSubsectionIndex:Wt,type:typeof Ft=="string"?Ft:void 0})},Ke=(Ft,Ht)=>{const Wt=[...G];Wt[Ft].title=Ht,J(Wt)},Xe=(Ft,Ht,Wt)=>{const mn=[...G];mn[Ft].subsections[Ht].title=Wt,J(mn)},Fe=(Ft,Ht,Wt,mn)=>{const sn=[...G];sn[Ft].subsections[Ht].subSubsections[Wt].title=mn,J(sn)},dt=(Ft,Ht,Wt,mn)=>{const sn=[...G];mn!==void 0?sn[Ft].subsections[Wt].subSubsections[mn].content=Ht:Wt!==void 0?sn[Ft].subsections[Wt].content=Ht:sn[Ft].content=Ht,J(sn)},wt=Ft=>{M({...j,content:Ft})},ot=Ft=>{z({...B,content:Ft})},pt=Ft=>{const Ht=G.filter((Wt,mn)=>mn!==Ft);J(Ht),Ht.length===0?F({sectionIndex:void 0,type:"header"}):Ft>=Ht.length?F({sectionIndex:Ht.length-1}):F({sectionIndex:Ft})},He=(Ft,Ht)=>{var mn;const Wt=[...G];(mn=Wt[Ft])!=null&&mn.subsections&&(Wt[Ft].subsections=Wt[Ft].subsections.filter((sn,Qn)=>Qn!==Ht),J(Wt),Wt[Ft].subsections.length===0?F({sectionIndex:Ft}):Ht>=Wt[Ft].subsections.length?F({sectionIndex:Ft,subsectionIndex:Wt[Ft].subsections.length-1}):F({sectionIndex:Ft,subsectionIndex:Ht}))},at=(Ft,Ht,Wt)=>{var Qn,Fr;const mn=[...G],sn=(Fr=(Qn=mn[Ft])==null?void 0:Qn.subsections)==null?void 0:Fr[Ht];sn&&sn.subSubsections&&(sn.subSubsections=sn.subSubsections.filter((Kr,Ii)=>Ii!==Wt),J(mn),sn.subSubsections.length?Wt>=sn.subSubsections.length?F({sectionIndex:Ft,subsectionIndex:Ht,subSubsectionIndex:sn.subSubsections.length-1}):F({sectionIndex:Ft,subsectionIndex:Ht,subSubsectionIndex:Wt}):F({sectionIndex:Ft,subsectionIndex:Ht}))},kt=Ft=>{const{sectionIndex:Ht,subsectionIndex:Wt,subSubsectionIndex:mn,type:sn}=H;if(Ft==="prev")if(mn!==void 0&&mn>0)F({sectionIndex:Ht,subsectionIndex:Wt,subSubsectionIndex:mn-1});else if(mn!==void 0&&mn===0)F({sectionIndex:Ht,subsectionIndex:Wt});else if(Wt!==void 0&&Wt>0)F({sectionIndex:Ht,subsectionIndex:Wt-1});else if(Wt!==void 0&&Wt===0)F({sectionIndex:Ht});else if(Ht>0){const Qn=G[Ht-1];F({sectionIndex:Ht-1,subsectionIndex:Qn.subsections.length?Qn.subsections.length-1:void 0,subSubsectionIndex:Qn.subsections.length?Qn.subsections[Qn.subsections.length-1].subSubsections.length-1:void 0})}else sn==="footer"?F({sectionIndex:G.length-1,type:"footer"}):Ht===void 0&&sn==="header"&&F({sectionIndex:G.length-1});else Ft==="next"&&(mn===void 0&&Wt!==void 0&&G[Ht].subsections[Wt].subSubsections.length?F({sectionIndex:Ht,subsectionIndex:Wt,subSubsectionIndex:0}):mn!==void 0&&mn<G[Ht].subsections[Wt].subSubsections.length-1?F({sectionIndex:Ht,subsectionIndex:Wt,subSubsectionIndex:mn+1}):mn!==void 0&&mn===G[Ht].subsections[Wt].subSubsections.length-1&&Wt<G[Ht].subsections.length-1?F({sectionIndex:Ht,subsectionIndex:Wt+1}):Wt===void 0&&G[Ht].subsections.length?F({sectionIndex:Ht,subsectionIndex:0}):Wt!==void 0&&Wt<G[Ht].subsections.length-1?F({sectionIndex:Ht,subsectionIndex:Wt+1}):Wt!==void 0&&Wt===G[Ht].subsections.length-1&&Ht<G.length-1?F({sectionIndex:Ht+1}):Ht<G.length-1?F({sectionIndex:Ht+1}):Ht===G.length-1&&Wt===void 0&&F({sectionIndex:void 0,type:"footer"}))},Yt=H.type==="header"||H.type==="footer"?"":H.sectionIndex!==void 0?H.subSubsectionIndex!==void 0?((Yn=G[H.sectionIndex].subsections[H.subsectionIndex].subSubsections[H.subSubsectionIndex])==null?void 0:Yn.content)||"":H.subsectionIndex!==void 0?((ei=G[H.sectionIndex].subsections[H.subsectionIndex])==null?void 0:ei.content)||"":((rr=G[H.sectionIndex])==null?void 0:rr.content)||"":"",yt=H.type==="header"||H.type==="footer"?"":H.sectionIndex!==void 0?H.subSubsectionIndex!==void 0?((vr=G[H.sectionIndex].subsections[H.subsectionIndex].subSubsections[H.subSubsectionIndex])==null?void 0:vr.title)||"":H.subsectionIndex!==void 0?((gr=G[H.sectionIndex].subsections[H.subsectionIndex])==null?void 0:gr.title)||"":((yr=G[H.sectionIndex])==null?void 0:yr.title)||"":"",Bn=(Ft,Ht,Wt,mn)=>{const sn=[...G];mn!==void 0?sn[Ft].subsections[Wt].subSubsections[mn].images=sn[Ft].subsections[Wt].subSubsections[mn].images.filter(Qn=>Qn.url!==Ht):Wt!==void 0?sn[Ft].subsections[Wt].images=sn[Ft].subsections[Wt].images.filter(Qn=>Qn.url!==Ht):sn[Ft].images=sn[Ft].images.filter(Qn=>Qn.url!==Ht),J(sn)},on=(Ft,Ht)=>{Ht!==null&&Ie(Ht)},wr=async Ft=>{if(E(Ft.title),M(Ft.header),z(Ft.footer),J(Ft.sections),_(Ft.course),te(!0),a&&Ft.course)try{console.log(" Uploading original file for AI-imported material..."),await c(Ft.course),console.log(" Original file uploaded successfully")}catch(Ht){console.error(" Failed to upload original file:",Ht),X("Material imported successfully, but original file upload failed. You can still save the material."),U("warning"),Z(!0);return}Ie("manual"),X("Material imported successfully! You can now edit and save it."),U("success"),Z(!0),F({sectionIndex:0})},xn=()=>{Ie("manual")},In=async()=>{if(!x||!v||!(n!=null&&n.uid)){X("Cannot retry - missing material information"),U("error"),Z(!0);return}Ue(!0),Re(null),be({completed:0,total:1});try{X("Analyzing existing images and retrying failed uploads..."),U("info"),Z(!0);const Ft=600*1e3,Ht=[];let Wt=0;if(G.forEach((Kr,Ii)=>{var vo,Ps;(vo=Kr.images)==null||vo.forEach((kr,Qr)=>{(!kr.url||kr.url.startsWith("data:image/svg+xml"))&&(Ht.push({sectionIndex:Ii,imageIndex:Qr}),Wt++)}),(Ps=Kr.subsections)==null||Ps.forEach((kr,Qr)=>{var mu,fd;(mu=kr.images)==null||mu.forEach((ga,gu)=>{(!ga.url||ga.url.startsWith("data:image/svg+xml"))&&(Ht.push({sectionIndex:Ii,subsectionIndex:Qr,imageIndex:gu}),Wt++)}),(fd=kr.subSubsections)==null||fd.forEach((ga,gu)=>{var as;(as=ga.images)==null||as.forEach((wc,ti)=>{(!wc.url||wc.url.startsWith("data:image/svg+xml"))&&(Ht.push({sectionIndex:Ii,subsectionIndex:Qr,subSubsectionIndex:gu,imageIndex:ti}),Wt++)})})})}),console.log(`Found ${Wt} images that need uploading (out of total images)`),Wt===0){X("All images are already uploaded successfully!"),U("success"),Z(!0),Re(null),be(null);return}X(`Retrying upload for ${Wt} failed images...`);const mn=FD(v,n.uid,x,(Kr,Ii)=>{be({completed:Kr,total:Ii}),console.log(`Retry image upload progress: ${Kr}/${Ii}`)}),sn=new Promise((Kr,Ii)=>{setTimeout(()=>Ii(new Error("Image upload timeout - taking too long")),Ft)}),Qn=await Promise.race([mn,sn]),Fr=Vn(o,"materials",x);await gi(Fr,{sections:Qn.sections}),J(Qn.sections),be(null),Re(null),X("Images uploaded successfully!"),U("success"),Z(!0)}catch(Ft){console.error("Retry image upload failed:",Ft);const Ht=Ft instanceof Error?Ft.message:"Unknown error occurred";Re(Ht),be(null),X(`Image upload retry failed: ${Ht}`),U("error"),Z(!0)}finally{Ue(!1)}};return w.jsx(Ne,{sx:{display:"flex",flexGrow:1,flexDirection:"column"},children:w.jsxs(Ne,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[w.jsx(Ne,{sx:{width:"450px",ml:2,mt:2},children:w.jsx(PP,{})}),w.jsxs(hr,{elevation:2,sx:{mx:2,mt:2,p:2},children:[w.jsx(xe,{variant:"h6",gutterBottom:!0,children:" Create Material"}),w.jsxs(V6,{value:ce,exclusive:!0,onChange:on,"aria-label":"import mode",fullWidth:!0,sx:{mb:2},children:[w.jsxs(hk,{value:"manual","aria-label":"manual creation",children:[w.jsx(yk,{sx:{mr:1}}),"Manual Creation"]}),w.jsxs(hk,{value:"ai","aria-label":"ai import",children:[w.jsx(l$,{sx:{mr:1}}),"AI Import"]})]}),ce==="ai"&&w.jsx(Rr,{severity:"info",sx:{mb:2},children:w.jsx(xe,{variant:"body2",children:"Upload your presentation, document, or material and let AI automatically structure it into course content."})})]}),w.jsxs(w.Fragment,{children:[ce==="ai"?w.jsx(Ne,{sx:{flexGrow:1,p:2},children:w.jsx(se.Suspense,{fallback:w.jsxs(Ne,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:200},children:[w.jsx(ki,{}),w.jsx(xe,{variant:"body2",sx:{ml:2},children:"Loading AI Import..."})]}),children:w.jsx(SX,{courseId:v,authorId:(n==null?void 0:n.uid)||"",onMaterialReady:wr,onCancel:xn,onError:(Ft,Ht)=>{console.error("Material Import Error:",Ft,Ht),X(`Import error: ${Ft.message}`),U("error"),Z(!0)}})})}):w.jsxs(Ne,{sx:{display:"flex",flexGrow:1},children:[w.jsx(OP,{sections:G,selected:H,onAddSection:oe,onAddSubsection:Pe,onAddSubSubsection:we,onSelectSection:Oe,onUpdateSectionTitle:Ke,onUpdateSubsectionTitle:Xe,onUpdateSubSubsectionTitle:Fe,onDeleteSection:pt,onDeleteSubsection:He,onDeleteSubSubsection:at}),w.jsxs(Ne,{sx:{flexGrow:1,padding:3},children:[w.jsx(yn,{label:"Material Title",variant:"outlined",fullWidth:!0,value:D,onChange:Ft=>E(Ft.target.value),sx:{mb:2}}),w.jsx(UY,{value:v,onChange:_}),ue&&w.jsxs(xe,{variant:"body1",gutterBottom:!0,children:["Scheduled Publish Date & Time: ",ue.toLocaleString()]}),w.jsxs(Ne,{sx:{borderRadius:1,padding:2,mb:2},children:[w.jsx(Ne,{sx:{mt:2,display:"flex",justifyContent:"center",alignItems:"center"},children:w.jsx(xe,{variant:"h6",sx:{color:"gray",textAlign:"center"},children:"Header"})}),w.jsx(N8,{content:j.content,onChange:wt})]}),w.jsx(xe,{variant:"h4",align:"center",gutterBottom:!0,children:yt}),H.type!=="header"&&H.type!=="footer"&&w.jsxs(w.Fragment,{children:[w.jsx(zY,{content:Yt,onChange:Ft=>dt(H.sectionIndex,Ft,H.subsectionIndex,H.subSubsectionIndex)},`${H.sectionIndex}-${H.subsectionIndex}-${H.subSubsectionIndex}`),w.jsx(lY,{sectionId:H.sectionIndex!==void 0?H.subSubsectionIndex!==void 0&&H.subsectionIndex!==void 0?((os=(wi=(is=(ir=(fn=G[H.sectionIndex])==null?void 0:fn.subsections)==null?void 0:ir[H.subsectionIndex])==null?void 0:is.subSubsections)==null?void 0:wi[H.subSubsectionIndex])==null?void 0:os.id)||"":H.subsectionIndex!==void 0?((Sr=(hn=(ss=G[H.sectionIndex])==null?void 0:ss.subsections)==null?void 0:hn[H.subsectionIndex])==null?void 0:Sr.id)||"":((or=G[H.sectionIndex])==null?void 0:or.id)||"":"",onImagesUploaded:Ft=>De(H.sectionIndex,Ft,H.subsectionIndex,H.subSubsectionIndex)}),(H.subSubsectionIndex!==void 0?((jl=(di=(Wr=(jr=(vi=G[H.sectionIndex])==null?void 0:vi.subsections)==null?void 0:jr[H.subsectionIndex])==null?void 0:Wr.subSubsections)==null?void 0:di[H.subSubsectionIndex])==null?void 0:jl.images)||[]:H.subsectionIndex!==void 0?((wo=(xs=(Cs=G[H.sectionIndex])==null?void 0:Cs.subsections)==null?void 0:xs[H.subsectionIndex])==null?void 0:wo.images)||[]:((Di=G[H.sectionIndex])==null?void 0:Di.images)||[]).map((Ft,Ht)=>w.jsxs(Ne,{sx:{position:"relative",mt:2},children:[w.jsx(EX,{src:Ft.url,alt:`Section ${H.sectionIndex+1} Image ${Ht+1}`,title:Ft.title}),w.jsx(cY,{imageTitle:Ft.title,onTitleChange:Wt=>{var sn,Qn;const mn=[...G];if(H.sectionIndex!==void 0)if(H.subSubsectionIndex!==void 0&&H.subsectionIndex!==void 0){const Fr=(Qn=(sn=mn[H.sectionIndex].subsections)==null?void 0:sn[H.subsectionIndex])==null?void 0:Qn.subSubsections;Fr&&Fr[H.subSubsectionIndex]&&(Fr[H.subSubsectionIndex].images[Ht].title=Wt)}else if(H.subsectionIndex!==void 0){const Fr=mn[H.sectionIndex].subsections;Fr&&Fr[H.subsectionIndex]&&(Fr[H.subsectionIndex].images[Ht].title=Wt)}else mn[H.sectionIndex].images[Ht].title=Wt;J(mn)}}),w.jsx(Gn,{sx:{position:"absolute",top:0,right:0,backgroundColor:"rgba(255, 255, 255, 0.7)"},onClick:()=>Bn(H.sectionIndex,Ft.url,H.subsectionIndex,H.subSubsectionIndex),children:w.jsx(_k,{})})]},`${Ft.url}-${Ht}`)),w.jsx(fY,{links:H.sectionIndex!==void 0?H.subSubsectionIndex!==void 0&&H.subsectionIndex!==void 0?((Ol=(fl=(zr=(co=(lo=G[H.sectionIndex])==null?void 0:lo.subsections)==null?void 0:co[H.subsectionIndex])==null?void 0:zr.subSubsections)==null?void 0:fl[H.subSubsectionIndex])==null?void 0:Ol.links)||[]:H.subsectionIndex!==void 0?((Bl=(Ss=(Ki=G[H.sectionIndex])==null?void 0:Ki.subsections)==null?void 0:Ss[H.subsectionIndex])==null?void 0:Bl.links)||[]:((pu=G[H.sectionIndex])==null?void 0:pu.links)||[]:[],onLinksChange:Ft=>Ae(H.sectionIndex,Ft,H.subsectionIndex,H.subSubsectionIndex)})]}),w.jsxs(Ne,{sx:{borderRadius:1,padding:2,mt:2},children:[w.jsx(Ne,{sx:{mt:2,display:"flex",justifyContent:"center",alignItems:"center"},children:w.jsx(xe,{variant:"h6",sx:{color:"gray",textAlign:"center"},children:"Footer"})}),w.jsx(N8,{content:B.content,onChange:ot})]}),ke&&w.jsxs(Ne,{sx:{mb:2,p:2,border:"1px solid #e0e0e0",borderRadius:1,bgcolor:"#f5f5f5"},children:[w.jsxs(xe,{variant:"body2",gutterBottom:!0,children:[Be?"Retrying image upload...":"Uploading images:"," ",ke.completed," / ",ke.total]}),w.jsx(cu,{variant:"determinate",value:ke.completed/ke.total*100,sx:{height:8,borderRadius:1}})]}),ve&&!ke&&w.jsxs(Ne,{sx:{mb:2,p:2,border:"1px solid #f44336",borderRadius:1,bgcolor:"#ffebee"},children:[w.jsxs(xe,{variant:"body2",color:"error",gutterBottom:!0,children:["Image upload failed: ",ve]}),w.jsx(Ct,{variant:"contained",color:"primary",size:"small",onClick:In,disabled:Be,startIcon:Be?w.jsx(ki,{size:16}):w.jsx(LL,{}),sx:{mt:1},children:Be?"Retrying...":"Retry Image Upload"})]}),w.jsxs(Ne,{sx:{display:"flex",justifyContent:"space-between"},children:[w.jsx(fa,{title:"Previous Section/Subsection (Left Arrow)",arrow:!0,children:w.jsx("span",{children:w.jsx(Gn,{onClick:()=>kt("prev"),disabled:H.sectionIndex===0&&H.subsectionIndex===void 0&&H.type==="header",children:w.jsx(BP,{})})})}),w.jsx(fa,{title:"Next Section/Subsection (Right Arrow)",arrow:!0,children:w.jsx("span",{children:w.jsx(Gn,{onClick:()=>kt("next"),disabled:H.sectionIndex===G.length-1&&(H.subsectionIndex===void 0||H.subsectionIndex===G[H.sectionIndex].subsections.length-1)&&H.type==="footer",children:w.jsx(LP,{})})})})]}),w.jsxs(Ne,{sx:{mt:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[w.jsx(Ct,{type:"button",variant:"outlined",onClick:Ge,className:"supplemental-button cancel-button",children:"Cancel"}),w.jsxs(Ne,{sx:{display:"flex",alignItems:"center"},children:[w.jsx(Ct,{type:"submit",variant:"outlined",onClick:Ft=>Ze(Ft,!1),className:"supplemental-button save-button",children:"Save"}),q&&w.jsx(xe,{variant:"body2",sx:{fontStyle:"italic",ml:1},children:"Changes Saved"})]}),w.jsx(Ct,{type:"button",variant:"outlined",onClick:ft,className:"supplemental-button publish-button",children:"Publish"}),w.jsxs("div",{children:[me&&w.jsx(xX,{value:ue,onChange:de}),w.jsx(Ct,{type:"button",variant:"outlined",onClick:gt,className:"supplemental-button schedule-publish-button",children:"Schedule Publish"})]})]})]})]}),w.jsx(Nl,{open:Q,autoHideDuration:6e3,onClose:()=>Z(!1),children:w.jsx(Rr,{onClose:()=>Z(!1),severity:Y,sx:{width:"100%"},children:ae})})]})]})})},DX=()=>{const{id:t}=K6(),i=Nr(),{userDetails:n}=ko(),[o,a]=se.useState(null),c=se.useMemo(()=>n!=null&&n.classes?Object.entries(n.classes).filter(([p,m])=>m.isCourseAdmin).map(([p])=>p):[],[n==null?void 0:n.classes]);se.useEffect(()=>{t&&(async()=>{var m;try{const k=Vn(i,"materials",t),v=await Na(k);if(v.exists()){const _={id:v.id,...v.data()};_.sections=((m=_.sections)==null?void 0:m.map(x=>{var y,D;return{...x,images:((y=x.images)==null?void 0:y.map(E=>({...E,title:E.title||""})))||[],subsections:((D=x.subsections)==null?void 0:D.map(E=>{var j,M;return{...E,images:((j=E.images)==null?void 0:j.map(B=>({...B,title:B.title||""})))||[],subSubsections:((M=E.subSubsections)==null?void 0:M.map(B=>{var z;return{...B,images:((z=B.images)==null?void 0:z.map(G=>({...G,title:G.title||""})))||[]}}))||[]}}))||[]}}))||[],_.course=c.includes(_.course)?_.course:c[0]||"",a(_)}}catch(k){console.error("Error fetching material:",k)}})()},[t,i,n,c]);const d=async p=>{try{if(t){const m=Vn(i,"materials",t);await gi(m,{...p})}}catch(m){console.error("Error updating material:",m)}};return o?w.jsx(T7,{materialData:o,onSubmit:d}):w.jsx(Ne,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:w.jsx(ki,{})})},bj=oh(Ne)(({theme:t})=>({marginBottom:t.spacing(4),textAlign:"center",position:"relative"})),IX=oh("img")(({theme:t})=>({maxWidth:"100%",maxHeight:"500px",marginBottom:t.spacing(1),borderRadius:t.spacing(1),boxShadow:"0 4px 12px rgba(0,0,0,0.1)",transition:"all 0.3s ease-in-out","&:hover":{transform:"scale(1.02)",boxShadow:"0 8px 24px rgba(0,0,0,0.15)"}})),TX=oh(PL)(({theme:t})=>({borderRadius:t.spacing(1),marginBottom:t.spacing(1)})),MX=({src:t,alt:i,title:n})=>{const[o,a]=se.useState(!1),[c,d]=se.useState(!1),[p]=se.useState(0);return se.useEffect(()=>{a(!1),d(!1);const m=new Image;return m.src=t,m.onload=()=>{console.log(` SmartImage loaded: ${t.substring(0,50)}...`),a(!0)},m.onerror=k=>{console.error(` SmartImage failed to load: ${t}`,k),console.error("Image details:",{src:t,naturalWidth:m.naturalWidth,naturalHeight:m.naturalHeight,complete:m.complete}),console.error("Image load failed. URL accessible via curl but blocked in browser."),console.error("This is likely a Firebase Storage CORS configuration issue."),console.error(`Fix: Configure CORS to allow ${window.location.origin}`),d(!0)},()=>{m.onload=null,m.onerror=null}},[t,p]),c?w.jsxs(bj,{children:[w.jsxs(Ne,{sx:{width:"100%",maxWidth:400,height:200,bgcolor:"#ffebee",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:1,border:"1px dashed #f44336",p:2},children:[w.jsx(xe,{variant:"body2",color:"error",gutterBottom:!0,children:"Image failed to load"}),w.jsx(xe,{variant:"caption",color:"text.secondary",sx:{textAlign:"center",wordBreak:"break-all"},children:n}),w.jsxs(xe,{variant:"caption",color:"text.secondary",sx:{mt:1,fontSize:"0.7rem"},children:["URL: ",t.substring(0,60),"..."]})]}),w.jsx(xe,{variant:"body2",sx:{fontStyle:"italic",mt:1},children:n})]}):w.jsxs(bj,{children:[!o&&w.jsx(TX,{variant:"rectangular",width:"100%",height:300,sx:{maxWidth:400}}),w.jsx(Ox,{in:o,timeout:500,children:w.jsx(Ne,{sx:{display:o?"block":"none"},children:w.jsx(IX,{src:t,alt:i,loading:"lazy"})})}),o&&w.jsx(Ox,{in:o,timeout:700,children:w.jsx(xe,{variant:"body2",sx:{fontStyle:"italic",color:"text.secondary"},children:n})})]})},$E=({images:t})=>w.jsx(Ne,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mt:2},children:t.map((i,n)=>w.jsx(MX,{src:i.url,alt:`Image ${n+1}`,title:i.title,index:n},`${i.url}-${n}`))}),NX=t=>!t.startsWith("http://")&&!t.startsWith("https://")?`https://${t}`:t,jX=({links:t})=>t.length===0?null:w.jsxs(Ne,{sx:{mt:2,width:"50%"},children:[w.jsx(xe,{variant:"h6",sx:{fontWeight:"bold",mb:2},children:"Links"}),w.jsxs(Ne,{sx:{display:"flex",mb:1,borderBottom:"1px solid gray"},children:[w.jsx(xe,{sx:{flexBasis:"30%",fontWeight:"bold"},children:"Title"}),w.jsx(xe,{sx:{flexBasis:"30%",fontWeight:"bold"},children:"URL"}),w.jsx(xe,{sx:{flexBasis:"40%",fontWeight:"bold"},children:"Description"})]}),t.map((i,n)=>w.jsx(Ne,{children:w.jsxs(Ne,{sx:{display:"flex",alignItems:"center",mb:1,flexWrap:"wrap",borderBottom:"1px solid lightgray"},children:[w.jsx(xe,{sx:{flexBasis:"30%",fontStyle:"italic",wordWrap:"break-word",paddingRight:"8px"},children:i.title}),w.jsx(My,{sx:{flexBasis:"30%",wordWrap:"break-word",paddingRight:"8px"},href:NX(i.url),target:"_blank",rel:"noopener",children:i.url}),w.jsx(xe,{sx:{flexBasis:"40%",wordWrap:"break-word"},children:i.description})]})},n))]});var ll=Uint8Array,au=Uint16Array,fI=Int32Array,S5=new ll([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),E5=new ll([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),YD=new ll([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),M7=function(t,i){for(var n=new au(31),o=0;o<31;++o)n[o]=i+=1<<t[o-1];for(var a=new fI(n[30]),o=1;o<30;++o)for(var c=n[o];c<n[o+1];++c)a[c]=c-n[o]<<5|o;return{b:n,r:a}},N7=M7(S5,2),j7=N7.b,KD=N7.r;j7[28]=258,KD[258]=28;var O7=M7(E5,0),OX=O7.b,kj=O7.r,QD=new au(32768);for(var io=0;io<32768;++io){var ym=(io&43690)>>1|(io&21845)<<1;ym=(ym&52428)>>2|(ym&13107)<<2,ym=(ym&61680)>>4|(ym&3855)<<4,QD[io]=((ym&65280)>>8|(ym&255)<<8)>>1}var cf=function(t,i,n){for(var o=t.length,a=0,c=new au(i);a<o;++a)t[a]&&++c[t[a]-1];var d=new au(i);for(a=1;a<i;++a)d[a]=d[a-1]+c[a-1]<<1;var p;if(n){p=new au(1<<i);var m=15-i;for(a=0;a<o;++a)if(t[a])for(var k=a<<4|t[a],v=i-t[a],_=d[t[a]-1]++<<v,x=_|(1<<v)-1;_<=x;++_)p[QD[_]>>m]=k}else for(p=new au(o),a=0;a<o;++a)t[a]&&(p[a]=QD[d[t[a]-1]++]>>15-t[a]);return p},Fm=new ll(288);for(var io=0;io<144;++io)Fm[io]=8;for(var io=144;io<256;++io)Fm[io]=9;for(var io=256;io<280;++io)Fm[io]=7;for(var io=280;io<288;++io)Fm[io]=8;var Fy=new ll(32);for(var io=0;io<32;++io)Fy[io]=5;var BX=cf(Fm,9,0),LX=cf(Fm,9,1),PX=cf(Fy,5,0),RX=cf(Fy,5,1),WE=function(t){for(var i=t[0],n=1;n<t.length;++n)t[n]>i&&(i=t[n]);return i},Kd=function(t,i,n){var o=i/8|0;return(t[o]|t[o+1]<<8)>>(i&7)&n},GE=function(t,i){var n=i/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(i&7)},pI=function(t){return(t+7)/8|0},B7=function(t,i,n){return(n==null||n>t.length)&&(n=t.length),new ll(t.subarray(i,n))},zX=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Jd=function(t,i,n){var o=new Error(i||zX[t]);if(o.code=t,Error.captureStackTrace&&Error.captureStackTrace(o,Jd),!n)throw o;return o},FX=function(t,i,n,o){var a=t.length,c=0;if(!a||i.f&&!i.l)return n||new ll(0);var d=!n,p=d||i.i!=2,m=i.i;d&&(n=new ll(a*3));var k=function(Ge){var ft=n.length;if(Ge>ft){var gt=new ll(Math.max(ft*2,Ge));gt.set(n),n=gt}},v=i.f||0,_=i.p||0,x=i.b||0,y=i.l,D=i.d,E=i.m,j=i.n,M=a*8;do{if(!y){v=Kd(t,_,1);var B=Kd(t,_+1,3);if(_+=3,B)if(B==1)y=LX,D=RX,E=9,j=5;else if(B==2){var H=Kd(t,_,31)+257,F=Kd(t,_+10,15)+4,Q=H+Kd(t,_+5,31)+1;_+=14;for(var Z=new ll(Q),ae=new ll(19),X=0;X<F;++X)ae[YD[X]]=Kd(t,_+X*3,7);_+=F*3;for(var Y=WE(ae),U=(1<<Y)-1,q=cf(ae,Y,1),X=0;X<Q;){var fe=q[Kd(t,_,U)];_+=fe&15;var z=fe>>4;if(z<16)Z[X++]=z;else{var ue=0,de=0;for(z==16?(de=3+Kd(t,_,3),_+=2,ue=Z[X-1]):z==17?(de=3+Kd(t,_,7),_+=3):z==18&&(de=11+Kd(t,_,127),_+=7);de--;)Z[X++]=ue}}var me=Z.subarray(0,H),Me=Z.subarray(H);E=WE(me),j=WE(Me),y=cf(me,E,1),D=cf(Me,j,1)}else Jd(1);else{var z=pI(_)+4,G=t[z-4]|t[z-3]<<8,J=z+G;if(J>a){m&&Jd(0);break}p&&k(x+G),n.set(t.subarray(z,J),x),i.b=x+=G,i.p=_=J*8,i.f=v;continue}if(_>M){m&&Jd(0);break}}p&&k(x+131072);for(var ce=(1<<E)-1,Ie=(1<<j)-1,re=_;;re=_){var ue=y[GE(t,_)&ce],te=ue>>4;if(_+=ue&15,_>M){m&&Jd(0);break}if(ue||Jd(2),te<256)n[x++]=te;else if(te==256){re=_,y=null;break}else{var ke=te-254;if(te>264){var X=te-257,be=S5[X];ke=Kd(t,_,(1<<be)-1)+j7[X],_+=be}var ve=D[GE(t,_)&Ie],Re=ve>>4;ve||Jd(3),_+=ve&15;var Me=OX[Re];if(Re>3){var be=E5[Re];Me+=GE(t,_)&(1<<be)-1,_+=be}if(_>M){m&&Jd(0);break}p&&k(x+131072);var Be=x+ke;if(x<Me){var Ue=c-Me,Ze=Math.min(Me,Be);for(Ue+x<0&&Jd(3);x<Ze;++x)n[x]=o[Ue+x]}for(;x<Be;++x)n[x]=n[x-Me]}}i.l=y,i.p=re,i.b=x,i.f=v,y&&(v=1,i.m=E,i.d=D,i.n=j)}while(!v);return x!=n.length&&d?B7(n,0,x):n.subarray(0,x)},np=function(t,i,n){n<<=i&7;var o=i/8|0;t[o]|=n,t[o+1]|=n>>8},Wv=function(t,i,n){n<<=i&7;var o=i/8|0;t[o]|=n,t[o+1]|=n>>8,t[o+2]|=n>>16},YE=function(t,i){for(var n=[],o=0;o<t.length;++o)t[o]&&n.push({s:o,f:t[o]});var a=n.length,c=n.slice();if(!a)return{t:P7,l:0};if(a==1){var d=new ll(n[0].s+1);return d[n[0].s]=1,{t:d,l:1}}n.sort(function(J,H){return J.f-H.f}),n.push({s:-1,f:25001});var p=n[0],m=n[1],k=0,v=1,_=2;for(n[0]={s:-1,f:p.f+m.f,l:p,r:m};v!=a-1;)p=n[n[k].f<n[_].f?k++:_++],m=n[k!=v&&n[k].f<n[_].f?k++:_++],n[v++]={s:-1,f:p.f+m.f,l:p,r:m};for(var x=c[0].s,o=1;o<a;++o)c[o].s>x&&(x=c[o].s);var y=new au(x+1),D=ZD(n[v-1],y,0);if(D>i){var o=0,E=0,j=D-i,M=1<<j;for(c.sort(function(H,F){return y[F.s]-y[H.s]||H.f-F.f});o<a;++o){var B=c[o].s;if(y[B]>i)E+=M-(1<<D-y[B]),y[B]=i;else break}for(E>>=j;E>0;){var z=c[o].s;y[z]<i?E-=1<<i-y[z]++-1:++o}for(;o>=0&&E;--o){var G=c[o].s;y[G]==i&&(--y[G],++E)}D=i}return{t:new ll(y),l:D}},ZD=function(t,i,n){return t.s==-1?Math.max(ZD(t.l,i,n+1),ZD(t.r,i,n+1)):i[t.s]=n},wj=function(t){for(var i=t.length;i&&!t[--i];);for(var n=new au(++i),o=0,a=t[0],c=1,d=function(m){n[o++]=m},p=1;p<=i;++p)if(t[p]==a&&p!=i)++c;else{if(!a&&c>2){for(;c>138;c-=138)d(32754);c>2&&(d(c>10?c-11<<5|28690:c-3<<5|12305),c=0)}else if(c>3){for(d(a),--c;c>6;c-=6)d(8304);c>2&&(d(c-3<<5|8208),c=0)}for(;c--;)d(a);c=1,a=t[p]}return{c:n.subarray(0,o),n:i}},Gv=function(t,i){for(var n=0,o=0;o<i.length;++o)n+=t[o]*i[o];return n},L7=function(t,i,n){var o=n.length,a=pI(i+2);t[a]=o&255,t[a+1]=o>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var c=0;c<o;++c)t[a+c+4]=n[c];return(a+4+o)*8},vj=function(t,i,n,o,a,c,d,p,m,k,v){np(i,v++,n),++a[256];for(var _=YE(a,15),x=_.t,y=_.l,D=YE(c,15),E=D.t,j=D.l,M=wj(x),B=M.c,z=M.n,G=wj(E),J=G.c,H=G.n,F=new au(19),Q=0;Q<B.length;++Q)++F[B[Q]&31];for(var Q=0;Q<J.length;++Q)++F[J[Q]&31];for(var Z=YE(F,7),ae=Z.t,X=Z.l,Y=19;Y>4&&!ae[YD[Y-1]];--Y);var U=k+5<<3,q=Gv(a,Fm)+Gv(c,Fy)+d,fe=Gv(a,x)+Gv(c,E)+d+14+3*Y+Gv(F,ae)+2*F[16]+3*F[17]+7*F[18];if(m>=0&&U<=q&&U<=fe)return L7(i,v,t.subarray(m,m+k));var ue,de,me,Me;if(np(i,v,1+(fe<q)),v+=2,fe<q){ue=cf(x,y,0),de=x,me=cf(E,j,0),Me=E;var ce=cf(ae,X,0);np(i,v,z-257),np(i,v+5,H-1),np(i,v+10,Y-4),v+=14;for(var Q=0;Q<Y;++Q)np(i,v+3*Q,ae[YD[Q]]);v+=3*Y;for(var Ie=[B,J],re=0;re<2;++re)for(var te=Ie[re],Q=0;Q<te.length;++Q){var ke=te[Q]&31;np(i,v,ce[ke]),v+=ae[ke],ke>15&&(np(i,v,te[Q]>>5&127),v+=te[Q]>>12)}}else ue=BX,de=Fm,me=PX,Me=Fy;for(var Q=0;Q<p;++Q){var be=o[Q];if(be>255){var ke=be>>18&31;Wv(i,v,ue[ke+257]),v+=de[ke+257],ke>7&&(np(i,v,be>>23&31),v+=S5[ke]);var ve=be&31;Wv(i,v,me[ve]),v+=Me[ve],ve>3&&(Wv(i,v,be>>5&8191),v+=E5[ve])}else Wv(i,v,ue[be]),v+=de[be]}return Wv(i,v,ue[256]),v+de[256]},UX=new fI([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),P7=new ll(0),qX=function(t,i,n,o,a,c){var d=c.z||t.length,p=new ll(o+d+5*(1+Math.ceil(d/7e3))+a),m=p.subarray(o,p.length-a),k=c.l,v=(c.r||0)&7;if(i){v&&(m[0]=c.r>>3);for(var _=UX[i-1],x=_>>13,y=_&8191,D=(1<<n)-1,E=c.p||new au(32768),j=c.h||new au(D+1),M=Math.ceil(n/3),B=2*M,z=function(oe){return(t[oe]^t[oe+1]<<M^t[oe+2]<<B)&D},G=new fI(25e3),J=new au(288),H=new au(32),F=0,Q=0,Z=c.i||0,ae=0,X=c.w||0,Y=0;Z+2<d;++Z){var U=z(Z),q=Z&32767,fe=j[U];if(E[q]=fe,j[U]=q,X<=Z){var ue=d-Z;if((F>7e3||ae>24576)&&(ue>423||!k)){v=vj(t,m,0,G,J,H,Q,ae,Y,Z-Y,v),ae=F=Q=0,Y=Z;for(var de=0;de<286;++de)J[de]=0;for(var de=0;de<30;++de)H[de]=0}var me=2,Me=0,ce=y,Ie=q-fe&32767;if(ue>2&&U==z(Z-Ie))for(var re=Math.min(x,ue)-1,te=Math.min(32767,Z),ke=Math.min(258,ue);Ie<=te&&--ce&&q!=fe;){if(t[Z+me]==t[Z+me-Ie]){for(var be=0;be<ke&&t[Z+be]==t[Z+be-Ie];++be);if(be>me){if(me=be,Me=Ie,be>re)break;for(var ve=Math.min(Ie,be-2),Re=0,de=0;de<ve;++de){var Be=Z-Ie+de&32767,Ue=E[Be],Ze=Be-Ue&32767;Ze>Re&&(Re=Ze,fe=Be)}}}q=fe,fe=E[q],Ie+=q-fe&32767}if(Me){G[ae++]=268435456|KD[me]<<18|kj[Me];var Ge=KD[me]&31,ft=kj[Me]&31;Q+=S5[Ge]+E5[ft],++J[257+Ge],++H[ft],X=Z+me,++F}else G[ae++]=t[Z],++J[t[Z]]}}for(Z=Math.max(Z,X);Z<d;++Z)G[ae++]=t[Z],++J[t[Z]];v=vj(t,m,k,G,J,H,Q,ae,Y,Z-Y,v),k||(c.r=v&7|m[v/8|0]<<3,v-=7,c.h=j,c.p=E,c.i=Z,c.w=X)}else{for(var Z=c.w||0;Z<d+k;Z+=65535){var gt=Z+65535;gt>=d&&(m[v/8|0]=k,gt=d),v=L7(m,v+1,t.subarray(Z,gt))}c.i=d}return B7(p,0,o+pI(v)+a)},R7=function(){var t=1,i=0;return{p:function(n){for(var o=t,a=i,c=n.length|0,d=0;d!=c;){for(var p=Math.min(d+2655,c);d<p;++d)a+=o+=n[d];o=(o&65535)+15*(o>>16),a=(a&65535)+15*(a>>16)}t=o,i=a},d:function(){return t%=65521,i%=65521,(t&255)<<24|(t&65280)<<8|(i&255)<<8|i>>8}}},VX=function(t,i,n,o,a){if(!a&&(a={l:1},i.dictionary)){var c=i.dictionary.subarray(-32768),d=new ll(c.length+t.length);d.set(c),d.set(t,c.length),t=d,a.w=c.length}return qX(t,i.level==null?6:i.level,i.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+i.mem,n,o,a)},z7=function(t,i,n){for(;n;++i)t[i]=n,n>>>=8},HX=function(t,i){var n=i.level,o=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=o<<6|(i.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,i.dictionary){var a=R7();a.p(i.dictionary),z7(t,2,a.d())}},$X=function(t,i){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Jd(6,"invalid zlib data"),(t[1]>>5&1)==1&&Jd(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function JD(t,i){i||(i={});var n=R7();n.p(t);var o=VX(t,i,i.dictionary?6:2,4);return HX(o,i),z7(o,o.length-4,n.d()),o}function WX(t,i){return FX(t.subarray($X(t),-4),{i:2},i,i)}var GX=typeof TextDecoder<"u"&&new TextDecoder,YX=0;try{GX.decode(P7,{stream:!0}),YX=1}catch{}var Un=function(){return typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:this}();function KE(){Un.console&&typeof Un.console.log=="function"&&Un.console.log.apply(Un.console,arguments)}var Ui={log:KE,warn:function(t){Un.console&&(typeof Un.console.warn=="function"?Un.console.warn.apply(Un.console,arguments):KE.call(null,arguments))},error:function(t){Un.console&&(typeof Un.console.error=="function"?Un.console.error.apply(Un.console,arguments):KE(t))}};function QE(t,i,n){var o=new XMLHttpRequest;o.open("GET",t),o.responseType="blob",o.onload=function(){$g(o.response,i,n)},o.onerror=function(){Ui.error("could not download file")},o.send()}function yj(t){var i=new XMLHttpRequest;i.open("HEAD",t,!1);try{i.send()}catch{}return i.status>=200&&i.status<=299}function Q2(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(i)}}var Sy,XD,$g=Un.saveAs||((typeof window>"u"?"undefined":qi(window))!=="object"||window!==Un?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,i,n){var o=Un.URL||Un.webkitURL,a=document.createElement("a");i=i||t.name||"download",a.download=i,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?yj(a.href)?QE(t,i,n):Q2(a,a.target="_blank"):Q2(a)):(a.href=o.createObjectURL(t),setTimeout(function(){o.revokeObjectURL(a.href)},4e4),setTimeout(function(){Q2(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,i,n){if(i=i||t.name||"download",typeof t=="string")if(yj(t))QE(t,i,n);else{var o=document.createElement("a");o.href=t,o.target="_blank",setTimeout(function(){Q2(o)})}else navigator.msSaveOrOpenBlob(function(a,c){return c===void 0?c={autoBom:!1}:qi(c)!=="object"&&(Ui.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(t,n),i)}:function(t,i,n,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),typeof t=="string")return QE(t,i,n);var a=t.type==="application/octet-stream",c=/constructor/i.test(Un.HTMLElement)||Un.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||a&&c)&&(typeof FileReader>"u"?"undefined":qi(FileReader))==="object"){var p=new FileReader;p.onloadend=function(){var v=p.result;v=d?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=v:location=v,o=null},p.readAsDataURL(t)}else{var m=Un.URL||Un.webkitURL,k=m.createObjectURL(t);o?o.location=k:location.href=k,o=null,setTimeout(function(){m.revokeObjectURL(k)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function F7(t){var i;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(p){return[parseInt(p[1]),parseInt(p[2]),parseInt(p[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(p){return[parseInt(p[1],16),parseInt(p[2],16),parseInt(p[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(p){return[parseInt(p[1]+p[1],16),parseInt(p[2]+p[2],16),parseInt(p[3]+p[3],16)]}}],o=0;o<n.length;o++){var a=n[o].re,c=n[o].process,d=a.exec(t);d&&(i=c(d),this.r=i[0],this.g=i[1],this.b=i[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var p=this.r.toString(16),m=this.g.toString(16),k=this.b.toString(16);return p.length==1&&(p="0"+p),m.length==1&&(m="0"+m),k.length==1&&(k="0"+k),"#"+p+m+k}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function ZE(t,i){var n=t[0],o=t[1],a=t[2],c=t[3];n=el(n,o,a,c,i[0],7,-680876936),c=el(c,n,o,a,i[1],12,-389564586),a=el(a,c,n,o,i[2],17,606105819),o=el(o,a,c,n,i[3],22,-1044525330),n=el(n,o,a,c,i[4],7,-176418897),c=el(c,n,o,a,i[5],12,1200080426),a=el(a,c,n,o,i[6],17,-1473231341),o=el(o,a,c,n,i[7],22,-45705983),n=el(n,o,a,c,i[8],7,1770035416),c=el(c,n,o,a,i[9],12,-1958414417),a=el(a,c,n,o,i[10],17,-42063),o=el(o,a,c,n,i[11],22,-1990404162),n=el(n,o,a,c,i[12],7,1804603682),c=el(c,n,o,a,i[13],12,-40341101),a=el(a,c,n,o,i[14],17,-1502002290),n=tl(n,o=el(o,a,c,n,i[15],22,1236535329),a,c,i[1],5,-165796510),c=tl(c,n,o,a,i[6],9,-1069501632),a=tl(a,c,n,o,i[11],14,643717713),o=tl(o,a,c,n,i[0],20,-373897302),n=tl(n,o,a,c,i[5],5,-701558691),c=tl(c,n,o,a,i[10],9,38016083),a=tl(a,c,n,o,i[15],14,-660478335),o=tl(o,a,c,n,i[4],20,-405537848),n=tl(n,o,a,c,i[9],5,568446438),c=tl(c,n,o,a,i[14],9,-1019803690),a=tl(a,c,n,o,i[3],14,-187363961),o=tl(o,a,c,n,i[8],20,1163531501),n=tl(n,o,a,c,i[13],5,-1444681467),c=tl(c,n,o,a,i[2],9,-51403784),a=tl(a,c,n,o,i[7],14,1735328473),n=nl(n,o=tl(o,a,c,n,i[12],20,-1926607734),a,c,i[5],4,-378558),c=nl(c,n,o,a,i[8],11,-2022574463),a=nl(a,c,n,o,i[11],16,1839030562),o=nl(o,a,c,n,i[14],23,-35309556),n=nl(n,o,a,c,i[1],4,-1530992060),c=nl(c,n,o,a,i[4],11,1272893353),a=nl(a,c,n,o,i[7],16,-155497632),o=nl(o,a,c,n,i[10],23,-1094730640),n=nl(n,o,a,c,i[13],4,681279174),c=nl(c,n,o,a,i[0],11,-358537222),a=nl(a,c,n,o,i[3],16,-722521979),o=nl(o,a,c,n,i[6],23,76029189),n=nl(n,o,a,c,i[9],4,-640364487),c=nl(c,n,o,a,i[12],11,-421815835),a=nl(a,c,n,o,i[15],16,530742520),n=rl(n,o=nl(o,a,c,n,i[2],23,-995338651),a,c,i[0],6,-198630844),c=rl(c,n,o,a,i[7],10,1126891415),a=rl(a,c,n,o,i[14],15,-1416354905),o=rl(o,a,c,n,i[5],21,-57434055),n=rl(n,o,a,c,i[12],6,1700485571),c=rl(c,n,o,a,i[3],10,-1894986606),a=rl(a,c,n,o,i[10],15,-1051523),o=rl(o,a,c,n,i[1],21,-2054922799),n=rl(n,o,a,c,i[8],6,1873313359),c=rl(c,n,o,a,i[15],10,-30611744),a=rl(a,c,n,o,i[6],15,-1560198380),o=rl(o,a,c,n,i[13],21,1309151649),n=rl(n,o,a,c,i[4],6,-145523070),c=rl(c,n,o,a,i[11],10,-1120210379),a=rl(a,c,n,o,i[2],15,718787259),o=rl(o,a,c,n,i[9],21,-343485551),t[0]=Im(n,t[0]),t[1]=Im(o,t[1]),t[2]=Im(a,t[2]),t[3]=Im(c,t[3])}function D5(t,i,n,o,a,c){return i=Im(Im(i,t),Im(o,c)),Im(i<<a|i>>>32-a,n)}function el(t,i,n,o,a,c,d){return D5(i&n|~i&o,t,i,a,c,d)}function tl(t,i,n,o,a,c,d){return D5(i&o|n&~o,t,i,a,c,d)}function nl(t,i,n,o,a,c,d){return D5(i^n^o,t,i,a,c,d)}function rl(t,i,n,o,a,c,d){return D5(n^(i|~o),t,i,a,c,d)}function U7(t){var i,n=t.length,o=[1732584193,-271733879,-1732584194,271733878];for(i=64;i<=t.length;i+=64)ZE(o,KX(t.substring(i-64,i)));t=t.substring(i-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<t.length;i++)a[i>>2]|=t.charCodeAt(i)<<(i%4<<3);if(a[i>>2]|=128<<(i%4<<3),i>55)for(ZE(o,a),i=0;i<16;i++)a[i]=0;return a[14]=8*n,ZE(o,a),o}function KX(t){var i,n=[];for(i=0;i<64;i+=4)n[i>>2]=t.charCodeAt(i)+(t.charCodeAt(i+1)<<8)+(t.charCodeAt(i+2)<<16)+(t.charCodeAt(i+3)<<24);return n}Sy=Un.atob.bind(Un),XD=Un.btoa.bind(Un);var Aj="0123456789abcdef".split("");function QX(t){for(var i="",n=0;n<4;n++)i+=Aj[t>>8*n+4&15]+Aj[t>>8*n&15];return i}function ZX(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function e6(t){return U7(t).map(ZX).join("")}var JX=function(t){for(var i=0;i<t.length;i++)t[i]=QX(t[i]);return t.join("")}(U7("hello"))!="5d41402abc4b2a76b9719d911017c592";function Im(t,i){if(JX){var n=(65535&t)+(65535&i);return(t>>16)+(i>>16)+(n>>16)<<16|65535&n}return t+i&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function t6(t,i){var n,o,a,c;if(t!==n){for(var d=(a=t,c=1+(256/t.length>>0),new Array(c+1).join(a)),p=[],m=0;m<256;m++)p[m]=m;var k=0;for(m=0;m<256;m++){var v=p[m];k=(k+v+d.charCodeAt(m))%256,p[m]=p[k],p[k]=v}n=t,o=p}else p=o;var _=i.length,x=0,y=0,D="";for(m=0;m<_;m++)y=(y+(v=p[x=(x+1)%256]))%256,p[x]=p[y],p[y]=v,d=p[(p[x]+p[y])%256],D+=String.fromCharCode(i.charCodeAt(m)^d);return D}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var _j={print:4,modify:8,copy:16,"annot-forms":32};function Z0(t,i,n,o){this.v=1,this.r=2;var a=192;t.forEach(function(p){if(_j.perm!==void 0)throw new Error("Invalid permission: "+p);a+=_j[p]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var c=(i+this.padding).substr(0,32),d=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(c,d),this.P=-(1+(255^a)),this.encryptionKey=e6(c+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(o)).substr(0,5),this.U=t6(this.encryptionKey,this.padding)}function J0(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var i="",n=t.length,o=0;o<n;o++){var a=t.charCodeAt(o);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?i+="#"+("0"+a.toString(16)).slice(-2):i+=t[o]}return i}function Cj(t){if(qi(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var i={};this.subscribe=function(n,o,a){if(a=a||!1,typeof n!="string"||typeof o!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");i.hasOwnProperty(n)||(i[n]={});var c=Math.random().toString(35);return i[n][c]=[o,!!a],c},this.unsubscribe=function(n){for(var o in i)if(i[o][n])return delete i[o][n],Object.keys(i[o]).length===0&&delete i[o],!0;return!1},this.publish=function(n){if(i.hasOwnProperty(n)){var o=Array.prototype.slice.call(arguments,1),a=[];for(var c in i[n]){var d=i[n][c];try{d[0].apply(t,o)}catch(p){Un.console&&Ui.error("jsPDF PubSub Error",p.message,p)}d[1]&&a.push(c)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return i}}function Xx(t){if(!(this instanceof Xx))return new Xx(t);var i="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&i.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function q7(t,i){this.gState=t,this.matrix=i,this.id="",this.objectNumber=-1}function Yg(t,i,n,o,a){if(!(this instanceof Yg))return new Yg(t,i,n,o,a);this.type=t==="axial"?2:3,this.coords=i,this.colors=n,q7.call(this,o,a)}function X0(t,i,n,o,a){if(!(this instanceof X0))return new X0(t,i,n,o,a);this.boundingBox=t,this.xStep=i,this.yStep=n,this.stream="",this.cloneIndex=0,q7.call(this,o,a)}function Rn(t){var i,n=typeof arguments[0]=="string"?arguments[0]:"p",o=arguments[1],a=arguments[2],c=arguments[3],d=[],p=1,m=16,k="S",v=null;qi(t=t||{})==="object"&&(n=t.orientation,o=t.unit||o,a=t.format||a,c=t.compress||t.compressPdf||c,(v=t.encryption||null)!==null&&(v.userPassword=v.userPassword||"",v.ownerPassword=v.ownerPassword||"",v.userPermissions=v.userPermissions||[]),p=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(i=t.precision),t.floatPrecision!==void 0&&(m=t.floatPrecision),k=t.defaultPathOperation||"S"),d=t.filters||(c===!0?["FlateEncode"]:d),o=o||"mm",n=(""+(n||"P")).toLowerCase();var _=t.putOnlyUsedFonts||!1,x={},y={internal:{},__private__:{}};y.__private__.PubSub=Cj;var D="1.3",E=y.__private__.getPdfVersion=function(){return D};y.__private__.setPdfVersion=function($){D=$};var j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return j};var M=y.__private__.getPageFormat=function($){return j[$]};a=a||"a4";var B={COMPAT:"compat",ADVANCED:"advanced"},z=B.COMPAT;function G(){this.saveGraphicsState(),we(new hn(yt,0,0,-yt,0,Ec()*yt).toString()+" cm"),this.setFontSize(this.getFontSize()/yt),k="n",z=B.ADVANCED}function J(){this.restoreGraphicsState(),k="S",z=B.COMPAT}var H=y.__private__.combineFontStyleAndFontWeight=function($,ge){if($=="bold"&&ge=="normal"||$=="bold"&&ge==400||$=="normal"&&ge=="italic"||$=="bold"&&ge=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ge&&($=ge==400||ge==="normal"?$==="italic"?"italic":"normal":ge!=700&&ge!=="bold"||$!=="normal"?(ge==700?"bold":ge)+""+$:"bold"),$};y.advancedAPI=function($){var ge=z===B.COMPAT;return ge&&G.call(this),typeof $!="function"||($(this),ge&&J.call(this)),this},y.compatAPI=function($){var ge=z===B.ADVANCED;return ge&&J.call(this),typeof $!="function"||($(this),ge&&G.call(this)),this},y.isAdvancedAPI=function(){return z===B.ADVANCED};var F,Q=function($){if(z!==B.ADVANCED)throw new Error($+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Z=y.roundToPrecision=y.__private__.roundToPrecision=function($,ge){var ze=i||ge;if(isNaN($)||isNaN(ze))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return $.toFixed(ze).replace(/0+$/,"")};F=y.hpf=y.__private__.hpf=typeof m=="number"?function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.hpf");return Z($,m)}:m==="smart"?function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.hpf");return Z($,$>-1&&$<1?16:5)}:function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.hpf");return Z($,16)};var ae=y.f2=y.__private__.f2=function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.f2");return Z($,2)},X=y.__private__.f3=function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.f3");return Z($,3)},Y=y.scale=y.__private__.scale=function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.scale");return z===B.COMPAT?$*yt:z===B.ADVANCED?$:void 0},U=function($){return z===B.COMPAT?Ec()-$:z===B.ADVANCED?$:void 0},q=function($){return Y(U($))};y.__private__.setPrecision=y.setPrecision=function($){typeof parseInt($,10)=="number"&&(i=parseInt($,10))};var fe,ue="00000000000000000000000000000000",de=y.__private__.getFileId=function(){return ue},me=y.__private__.setFileId=function($){return ue=$!==void 0&&/^[a-fA-F0-9]{32}$/.test($)?$.toUpperCase():ue.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),v!==null&&(Qi=new Z0(v.userPermissions,v.userPassword,v.ownerPassword,ue)),ue};y.setFileId=function($){return me($),this},y.getFileId=function(){return de()};var Me=y.__private__.convertDateToPDFDate=function($){var ge=$.getTimezoneOffset(),ze=ge<0?"+":"-",$e=Math.floor(Math.abs(ge/60)),it=Math.abs(ge%60),_t=[ze,ke($e),"'",ke(it),"'"].join("");return["D:",$.getFullYear(),ke($.getMonth()+1),ke($.getDate()),ke($.getHours()),ke($.getMinutes()),ke($.getSeconds()),_t].join("")},ce=y.__private__.convertPDFDateToDate=function($){var ge=parseInt($.substr(2,4),10),ze=parseInt($.substr(6,2),10)-1,$e=parseInt($.substr(8,2),10),it=parseInt($.substr(10,2),10),_t=parseInt($.substr(12,2),10),Gt=parseInt($.substr(14,2),10);return new Date(ge,ze,$e,it,_t,Gt,0)},Ie=y.__private__.setCreationDate=function($){var ge;if($===void 0&&($=new Date),$ instanceof Date)ge=Me($);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test($))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ge=$}return fe=ge},re=y.__private__.getCreationDate=function($){var ge=fe;return $==="jsDate"&&(ge=ce(fe)),ge};y.setCreationDate=function($){return Ie($),this},y.getCreationDate=function($){return re($)};var te,ke=y.__private__.padd2=function($){return("0"+parseInt($)).slice(-2)},be=y.__private__.padd2Hex=function($){return("00"+($=$.toString())).substr($.length)},ve=0,Re=[],Be=[],Ue=0,Ze=[],Ge=[],ft=!1,gt=Be,oe=function(){ve=0,Ue=0,Be=[],Re=[],Ze=[],Cs=Wr(),xs=Wr()};y.__private__.setCustomOutputDestination=function($){ft=!0,gt=$};var Pe=function($){ft||(gt=$)};y.__private__.resetCustomOutputDestination=function(){ft=!1,gt=Be};var we=y.__private__.out=function($){return $=$.toString(),Ue+=$.length+1,gt.push($),gt},De=y.__private__.write=function($){return we(arguments.length===1?$.toString():Array.prototype.join.call(arguments," "))},Ae=y.__private__.getArrayBuffer=function($){for(var ge=$.length,ze=new ArrayBuffer(ge),$e=new Uint8Array(ze);ge--;)$e[ge]=$.charCodeAt(ge);return ze},Oe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return Oe};var Ke=t.fontSize||16;y.__private__.setFontSize=y.setFontSize=function($){return Ke=z===B.ADVANCED?$/yt:$,this};var Xe,Fe=y.__private__.getFontSize=y.getFontSize=function(){return z===B.COMPAT?Ke:Ke*yt},dt=t.R2L||!1;y.__private__.setR2L=y.setR2L=function($){return dt=$,this},y.__private__.getR2L=y.getR2L=function(){return dt};var wt,ot=y.__private__.setZoomMode=function($){var ge=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test($))Xe=$;else if(isNaN($)){if(ge.indexOf($)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+$+'" is not recognized.');Xe=$}else Xe=parseInt($,10)};y.__private__.getZoomMode=function(){return Xe};var pt,He=y.__private__.setPageMode=function($){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf($)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+$+'" is not recognized.');wt=$};y.__private__.getPageMode=function(){return wt};var at=y.__private__.setLayoutMode=function($){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf($)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+$+'" is not recognized.');pt=$};y.__private__.getLayoutMode=function(){return pt},y.__private__.setDisplayMode=y.setDisplayMode=function($,ge,ze){return ot($),at(ge),He(ze),this};var kt={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function($){if(Object.keys(kt).indexOf($)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return kt[$]},y.__private__.getDocumentProperties=function(){return kt},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function($){for(var ge in kt)kt.hasOwnProperty(ge)&&$[ge]&&(kt[ge]=$[ge]);return this},y.__private__.setDocumentProperty=function($,ge){if(Object.keys(kt).indexOf($)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return kt[$]=ge};var Yt,yt,Bn,on,wr,xn={},In={},zn=[],Yn={},ei={},rr={},vr={},gr=null,yr=0,fn=[],ir=new Cj(y),is=t.hotfixes||[],wi={},os={},ss=[],hn=function $(ge,ze,$e,it,_t,Gt){if(!(this instanceof $))return new $(ge,ze,$e,it,_t,Gt);isNaN(ge)&&(ge=1),isNaN(ze)&&(ze=0),isNaN($e)&&($e=0),isNaN(it)&&(it=1),isNaN(_t)&&(_t=0),isNaN(Gt)&&(Gt=0),this._matrix=[ge,ze,$e,it,_t,Gt]};Object.defineProperty(hn.prototype,"sx",{get:function(){return this._matrix[0]},set:function($){this._matrix[0]=$}}),Object.defineProperty(hn.prototype,"shy",{get:function(){return this._matrix[1]},set:function($){this._matrix[1]=$}}),Object.defineProperty(hn.prototype,"shx",{get:function(){return this._matrix[2]},set:function($){this._matrix[2]=$}}),Object.defineProperty(hn.prototype,"sy",{get:function(){return this._matrix[3]},set:function($){this._matrix[3]=$}}),Object.defineProperty(hn.prototype,"tx",{get:function(){return this._matrix[4]},set:function($){this._matrix[4]=$}}),Object.defineProperty(hn.prototype,"ty",{get:function(){return this._matrix[5]},set:function($){this._matrix[5]=$}}),Object.defineProperty(hn.prototype,"a",{get:function(){return this._matrix[0]},set:function($){this._matrix[0]=$}}),Object.defineProperty(hn.prototype,"b",{get:function(){return this._matrix[1]},set:function($){this._matrix[1]=$}}),Object.defineProperty(hn.prototype,"c",{get:function(){return this._matrix[2]},set:function($){this._matrix[2]=$}}),Object.defineProperty(hn.prototype,"d",{get:function(){return this._matrix[3]},set:function($){this._matrix[3]=$}}),Object.defineProperty(hn.prototype,"e",{get:function(){return this._matrix[4]},set:function($){this._matrix[4]=$}}),Object.defineProperty(hn.prototype,"f",{get:function(){return this._matrix[5]},set:function($){this._matrix[5]=$}}),Object.defineProperty(hn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(hn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(hn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(hn.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),hn.prototype.join=function($){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(F).join($)},hn.prototype.multiply=function($){var ge=$.sx*this.sx+$.shy*this.shx,ze=$.sx*this.shy+$.shy*this.sy,$e=$.shx*this.sx+$.sy*this.shx,it=$.shx*this.shy+$.sy*this.sy,_t=$.tx*this.sx+$.ty*this.shx+this.tx,Gt=$.tx*this.shy+$.ty*this.sy+this.ty;return new hn(ge,ze,$e,it,_t,Gt)},hn.prototype.decompose=function(){var $=this.sx,ge=this.shy,ze=this.shx,$e=this.sy,it=this.tx,_t=this.ty,Gt=Math.sqrt($*$+ge*ge),tn=($/=Gt)*ze+(ge/=Gt)*$e;ze-=$*tn,$e-=ge*tn;var gn=Math.sqrt(ze*ze+$e*$e);return tn/=gn,$*($e/=gn)<ge*(ze/=gn)&&($=-$,ge=-ge,tn=-tn,Gt=-Gt),{scale:new hn(Gt,0,0,gn,0,0),translate:new hn(1,0,0,1,it,_t),rotate:new hn($,ge,-ge,$,0,0),skew:new hn(1,0,tn,1,0,0)}},hn.prototype.toString=function($){return this.join(" ")},hn.prototype.inversed=function(){var $=this.sx,ge=this.shy,ze=this.shx,$e=this.sy,it=this.tx,_t=this.ty,Gt=1/($*$e-ge*ze),tn=$e*Gt,gn=-ge*Gt,Hn=-ze*Gt,Ln=$*Gt;return new hn(tn,gn,Hn,Ln,-tn*it-Hn*_t,-gn*it-Ln*_t)},hn.prototype.applyToPoint=function($){var ge=$.x*this.sx+$.y*this.shx+this.tx,ze=$.x*this.shy+$.y*this.sy+this.ty;return new wh(ge,ze)},hn.prototype.applyToRectangle=function($){var ge=this.applyToPoint($),ze=this.applyToPoint(new wh($.x+$.w,$.y+$.h));return new Sf(ge.x,ge.y,ze.x-ge.x,ze.y-ge.y)},hn.prototype.clone=function(){var $=this.sx,ge=this.shy,ze=this.shx,$e=this.sy,it=this.tx,_t=this.ty;return new hn($,ge,ze,$e,it,_t)},y.Matrix=hn;var Sr=y.matrixMult=function($,ge){return ge.multiply($)},or=new hn(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=or;var vi=function($,ge){if(!ei[$]){var ze=(ge instanceof Yg?"Sh":"P")+(Object.keys(Yn).length+1).toString(10);ge.id=ze,ei[$]=ze,Yn[ze]=ge,ir.publish("addPattern",ge)}};y.ShadingPattern=Yg,y.TilingPattern=X0,y.addShadingPattern=function($,ge){return Q("addShadingPattern()"),vi($,ge),this},y.beginTilingPattern=function($){Q("beginTilingPattern()"),bl($.boundingBox[0],$.boundingBox[1],$.boundingBox[2]-$.boundingBox[0],$.boundingBox[3]-$.boundingBox[1],$.matrix)},y.endTilingPattern=function($,ge){Q("endTilingPattern()"),ge.stream=Ge[te].join(`
`),vi($,ge),ir.publish("endTilingPattern",ge),ss.pop().restore()};var jr=y.__private__.newObject=function(){var $=Wr();return di($,!0),$},Wr=y.__private__.newObjectDeferred=function(){return ve++,Re[ve]=function(){return Ue},ve},di=function($,ge){return ge=typeof ge=="boolean"&&ge,Re[$]=Ue,ge&&we($+" 0 obj"),$},jl=y.__private__.newAdditionalObject=function(){var $={objId:Wr(),content:""};return Ze.push($),$},Cs=Wr(),xs=Wr(),wo=y.__private__.decodeColorString=function($){var ge=$.split(" ");if(ge.length!==2||ge[1]!=="g"&&ge[1]!=="G")ge.length===5&&(ge[4]==="k"||ge[4]==="K")&&(ge=[(1-ge[0])*(1-ge[3]),(1-ge[1])*(1-ge[3]),(1-ge[2])*(1-ge[3]),"r"]);else{var ze=parseFloat(ge[0]);ge=[ze,ze,ze,"r"]}for(var $e="#",it=0;it<3;it++)$e+=("0"+Math.floor(255*parseFloat(ge[it])).toString(16)).slice(-2);return $e},Di=y.__private__.encodeColorString=function($){var ge;typeof $=="string"&&($={ch1:$});var ze=$.ch1,$e=$.ch2,it=$.ch3,_t=$.ch4,Gt=$.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ze=="string"&&ze.charAt(0)!=="#"){var tn=new F7(ze);if(tn.ok)ze=tn.toHex();else if(!/^\d*\.?\d*$/.test(ze))throw new Error('Invalid color "'+ze+'" passed to jsPDF.encodeColorString.')}if(typeof ze=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ze)&&(ze="#"+ze[1]+ze[1]+ze[2]+ze[2]+ze[3]+ze[3]),typeof ze=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ze)){var gn=parseInt(ze.substr(1),16);ze=gn>>16&255,$e=gn>>8&255,it=255&gn}if($e===void 0||_t===void 0&&ze===$e&&$e===it)if(typeof ze=="string")ge=ze+" "+Gt[0];else switch($.precision){case 2:ge=ae(ze/255)+" "+Gt[0];break;case 3:default:ge=X(ze/255)+" "+Gt[0]}else if(_t===void 0||qi(_t)==="object"){if(_t&&!isNaN(_t.a)&&_t.a===0)return ge=["1.","1.","1.",Gt[1]].join(" ");if(typeof ze=="string")ge=[ze,$e,it,Gt[1]].join(" ");else switch($.precision){case 2:ge=[ae(ze/255),ae($e/255),ae(it/255),Gt[1]].join(" ");break;default:case 3:ge=[X(ze/255),X($e/255),X(it/255),Gt[1]].join(" ")}}else if(typeof ze=="string")ge=[ze,$e,it,_t,Gt[2]].join(" ");else switch($.precision){case 2:ge=[ae(ze),ae($e),ae(it),ae(_t),Gt[2]].join(" ");break;case 3:default:ge=[X(ze),X($e),X(it),X(_t),Gt[2]].join(" ")}return ge},lo=y.__private__.getFilters=function(){return d},co=y.__private__.putStream=function($){var ge=($=$||{}).data||"",ze=$.filters||lo(),$e=$.alreadyAppliedFilters||[],it=$.addLength1||!1,_t=ge.length,Gt=$.objectId,tn=function(Pi){return Pi};if(v!==null&&Gt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");v!==null&&(tn=Qi.encryptor(Gt,0));var gn={};ze===!0&&(ze=["FlateEncode"]);var Hn=$.additionalKeyValues||[],Ln=(gn=Rn.API.processDataByFilters!==void 0?Rn.API.processDataByFilters(ge,ze):{data:ge,reverseChain:[]}).reverseChain+(Array.isArray($e)?$e.join(" "):$e.toString());if(gn.data.length!==0&&(Hn.push({key:"Length",value:gn.data.length}),it===!0&&Hn.push({key:"Length1",value:_t})),Ln.length!=0)if(Ln.split("/").length-1==1)Hn.push({key:"Filter",value:Ln});else{Hn.push({key:"Filter",value:"["+Ln+"]"});for(var fr=0;fr<Hn.length;fr+=1)if(Hn[fr].key==="DecodeParms"){for(var Ti=[],yi=0;yi<gn.reverseChain.split("/").length-1;yi+=1)Ti.push("null");Ti.push(Hn[fr].value),Hn[fr].value="["+Ti.join(" ")+"]"}}we("<<");for(var Li=0;Li<Hn.length;Li++)we("/"+Hn[Li].key+" "+Hn[Li].value);we(">>"),gn.data.length!==0&&(we("stream"),we(tn(gn.data)),we("endstream"))},zr=y.__private__.putPage=function($){var ge=$.number,ze=$.data,$e=$.objId,it=$.contentsObjId;di($e,!0),we("<</Type /Page"),we("/Parent "+$.rootDictionaryObjId+" 0 R"),we("/Resources "+$.resourceDictionaryObjId+" 0 R"),we("/MediaBox ["+parseFloat(F($.mediaBox.bottomLeftX))+" "+parseFloat(F($.mediaBox.bottomLeftY))+" "+F($.mediaBox.topRightX)+" "+F($.mediaBox.topRightY)+"]"),$.cropBox!==null&&we("/CropBox ["+F($.cropBox.bottomLeftX)+" "+F($.cropBox.bottomLeftY)+" "+F($.cropBox.topRightX)+" "+F($.cropBox.topRightY)+"]"),$.bleedBox!==null&&we("/BleedBox ["+F($.bleedBox.bottomLeftX)+" "+F($.bleedBox.bottomLeftY)+" "+F($.bleedBox.topRightX)+" "+F($.bleedBox.topRightY)+"]"),$.trimBox!==null&&we("/TrimBox ["+F($.trimBox.bottomLeftX)+" "+F($.trimBox.bottomLeftY)+" "+F($.trimBox.topRightX)+" "+F($.trimBox.topRightY)+"]"),$.artBox!==null&&we("/ArtBox ["+F($.artBox.bottomLeftX)+" "+F($.artBox.bottomLeftY)+" "+F($.artBox.topRightX)+" "+F($.artBox.topRightY)+"]"),typeof $.userUnit=="number"&&$.userUnit!==1&&we("/UserUnit "+$.userUnit),ir.publish("putPage",{objId:$e,pageContext:fn[ge],pageNumber:ge,page:ze}),we("/Contents "+it+" 0 R"),we(">>"),we("endobj");var _t=ze.join(`
`);return z===B.ADVANCED&&(_t+=`
Q`),di(it,!0),co({data:_t,filters:lo(),objectId:it}),we("endobj"),$e},fl=y.__private__.putPages=function(){var $,ge,ze=[];for($=1;$<=yr;$++)fn[$].objId=Wr(),fn[$].contentsObjId=Wr();for($=1;$<=yr;$++)ze.push(zr({number:$,data:Ge[$],objId:fn[$].objId,contentsObjId:fn[$].contentsObjId,mediaBox:fn[$].mediaBox,cropBox:fn[$].cropBox,bleedBox:fn[$].bleedBox,trimBox:fn[$].trimBox,artBox:fn[$].artBox,userUnit:fn[$].userUnit,rootDictionaryObjId:Cs,resourceDictionaryObjId:xs}));di(Cs,!0),we("<</Type /Pages");var $e="/Kids [";for(ge=0;ge<yr;ge++)$e+=ze[ge]+" 0 R ";we($e+"]"),we("/Count "+yr),we(">>"),we("endobj"),ir.publish("postPutPages")},Ol=function($){ir.publish("putFont",{font:$,out:we,newObject:jr,putStream:co}),$.isAlreadyPutted!==!0&&($.objectNumber=jr(),we("<<"),we("/Type /Font"),we("/BaseFont /"+J0($.postScriptName)),we("/Subtype /Type1"),typeof $.encoding=="string"&&we("/Encoding /"+$.encoding),we("/FirstChar 32"),we("/LastChar 255"),we(">>"),we("endobj"))},Ki=function(){for(var $ in xn)xn.hasOwnProperty($)&&(_===!1||_===!0&&x.hasOwnProperty($))&&Ol(xn[$])},Ss=function($){$.objectNumber=jr();var ge=[];ge.push({key:"Type",value:"/XObject"}),ge.push({key:"Subtype",value:"/Form"}),ge.push({key:"BBox",value:"["+[F($.x),F($.y),F($.x+$.width),F($.y+$.height)].join(" ")+"]"}),ge.push({key:"Matrix",value:"["+$.matrix.toString()+"]"});var ze=$.pages[1].join(`
`);co({data:ze,additionalKeyValues:ge,objectId:$.objectNumber}),we("endobj")},Bl=function(){for(var $ in wi)wi.hasOwnProperty($)&&Ss(wi[$])},pu=function($,ge){var ze,$e=[],it=1/(ge-1);for(ze=0;ze<1;ze+=it)$e.push(ze);if($e.push(1),$[0].offset!=0){var _t={offset:0,color:$[0].color};$.unshift(_t)}if($[$.length-1].offset!=1){var Gt={offset:1,color:$[$.length-1].color};$.push(Gt)}for(var tn="",gn=0,Hn=0;Hn<$e.length;Hn++){for(ze=$e[Hn];ze>$[gn+1].offset;)gn++;var Ln=$[gn].offset,fr=(ze-Ln)/($[gn+1].offset-Ln),Ti=$[gn].color,yi=$[gn+1].color;tn+=be(Math.round((1-fr)*Ti[0]+fr*yi[0]).toString(16))+be(Math.round((1-fr)*Ti[1]+fr*yi[1]).toString(16))+be(Math.round((1-fr)*Ti[2]+fr*yi[2]).toString(16))}return tn.trim()},Ft=function($,ge){ge||(ge=21);var ze=jr(),$e=pu($.colors,ge),it=[];it.push({key:"FunctionType",value:"0"}),it.push({key:"Domain",value:"[0.0 1.0]"}),it.push({key:"Size",value:"["+ge+"]"}),it.push({key:"BitsPerSample",value:"8"}),it.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),it.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),co({data:$e,additionalKeyValues:it,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ze}),we("endobj"),$.objectNumber=jr(),we("<< /ShadingType "+$.type),we("/ColorSpace /DeviceRGB");var _t="/Coords ["+F(parseFloat($.coords[0]))+" "+F(parseFloat($.coords[1]))+" ";$.type===2?_t+=F(parseFloat($.coords[2]))+" "+F(parseFloat($.coords[3])):_t+=F(parseFloat($.coords[2]))+" "+F(parseFloat($.coords[3]))+" "+F(parseFloat($.coords[4]))+" "+F(parseFloat($.coords[5])),we(_t+="]"),$.matrix&&we("/Matrix ["+$.matrix.toString()+"]"),we("/Function "+ze+" 0 R"),we("/Extend [true true]"),we(">>"),we("endobj")},Ht=function($,ge){var ze=Wr(),$e=jr();ge.push({resourcesOid:ze,objectOid:$e}),$.objectNumber=$e;var it=[];it.push({key:"Type",value:"/Pattern"}),it.push({key:"PatternType",value:"1"}),it.push({key:"PaintType",value:"1"}),it.push({key:"TilingType",value:"1"}),it.push({key:"BBox",value:"["+$.boundingBox.map(F).join(" ")+"]"}),it.push({key:"XStep",value:F($.xStep)}),it.push({key:"YStep",value:F($.yStep)}),it.push({key:"Resources",value:ze+" 0 R"}),$.matrix&&it.push({key:"Matrix",value:"["+$.matrix.toString()+"]"}),co({data:$.stream,additionalKeyValues:it,objectId:$.objectNumber}),we("endobj")},Wt=function($){var ge;for(ge in Yn)Yn.hasOwnProperty(ge)&&(Yn[ge]instanceof Yg?Ft(Yn[ge]):Yn[ge]instanceof X0&&Ht(Yn[ge],$))},mn=function($){for(var ge in $.objectNumber=jr(),we("<<"),$)switch(ge){case"opacity":we("/ca "+ae($[ge]));break;case"stroke-opacity":we("/CA "+ae($[ge]))}we(">>"),we("endobj")},sn=function(){var $;for($ in rr)rr.hasOwnProperty($)&&mn(rr[$])},Qn=function(){for(var $ in we("/XObject <<"),wi)wi.hasOwnProperty($)&&wi[$].objectNumber>=0&&we("/"+$+" "+wi[$].objectNumber+" 0 R");ir.publish("putXobjectDict"),we(">>")},Fr=function(){Qi.oid=jr(),we("<<"),we("/Filter /Standard"),we("/V "+Qi.v),we("/R "+Qi.r),we("/U <"+Qi.toHexString(Qi.U)+">"),we("/O <"+Qi.toHexString(Qi.O)+">"),we("/P "+Qi.P),we(">>"),we("endobj")},Kr=function(){for(var $ in we("/Font <<"),xn)xn.hasOwnProperty($)&&(_===!1||_===!0&&x.hasOwnProperty($))&&we("/"+$+" "+xn[$].objectNumber+" 0 R");we(">>")},Ii=function(){if(Object.keys(Yn).length>0){for(var $ in we("/Shading <<"),Yn)Yn.hasOwnProperty($)&&Yn[$]instanceof Yg&&Yn[$].objectNumber>=0&&we("/"+$+" "+Yn[$].objectNumber+" 0 R");ir.publish("putShadingPatternDict"),we(">>")}},vo=function($){if(Object.keys(Yn).length>0){for(var ge in we("/Pattern <<"),Yn)Yn.hasOwnProperty(ge)&&Yn[ge]instanceof y.TilingPattern&&Yn[ge].objectNumber>=0&&Yn[ge].objectNumber<$&&we("/"+ge+" "+Yn[ge].objectNumber+" 0 R");ir.publish("putTilingPatternDict"),we(">>")}},Ps=function(){if(Object.keys(rr).length>0){var $;for($ in we("/ExtGState <<"),rr)rr.hasOwnProperty($)&&rr[$].objectNumber>=0&&we("/"+$+" "+rr[$].objectNumber+" 0 R");ir.publish("putGStateDict"),we(">>")}},kr=function($){di($.resourcesOid,!0),we("<<"),we("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Kr(),Ii(),vo($.objectOid),Ps(),Qn(),we(">>"),we("endobj")},Qr=function(){var $=[];Ki(),sn(),Bl(),Wt($),ir.publish("putResources"),$.forEach(kr),kr({resourcesOid:xs,objectOid:Number.MAX_SAFE_INTEGER}),ir.publish("postPutResources")},mu=function(){ir.publish("putAdditionalObjects");for(var $=0;$<Ze.length;$++){var ge=Ze[$];di(ge.objId,!0),we(ge.content),we("endobj")}ir.publish("postPutAdditionalObjects")},fd=function($){In[$.fontName]=In[$.fontName]||{},In[$.fontName][$.fontStyle]=$.id},ga=function($,ge,ze,$e,it){var _t={id:"F"+(Object.keys(xn).length+1).toString(10),postScriptName:$,fontName:ge,fontStyle:ze,encoding:$e,isStandardFont:it||!1,metadata:{}};return ir.publish("addFont",{font:_t,instance:this}),xn[_t.id]=_t,fd(_t),_t.id},gu=function($){for(var ge=0,ze=Oe.length;ge<ze;ge++){var $e=ga.call(this,$[ge][0],$[ge][1],$[ge][2],Oe[ge][3],!0);_===!1&&(x[$e]=!0);var it=$[ge][0].split("-");fd({id:$e,fontName:it[0],fontStyle:it[1]||""})}ir.publish("addFonts",{fonts:xn,dictionary:In})},as=function($){return $.foo=function(){try{return $.apply(this,arguments)}catch($e){var ge=$e.stack||"";~ge.indexOf(" at ")&&(ge=ge.split(" at ")[1]);var ze="Error in function "+ge.split(`
`)[0].split("<")[0]+": "+$e.message;if(!Un.console)throw new Error(ze);Un.console.error(ze,$e),Un.alert&&alert(ze)}},$.foo.bar=$,$.foo},wc=function($,ge){var ze,$e,it,_t,Gt,tn,gn,Hn,Ln;if(it=(ge=ge||{}).sourceEncoding||"Unicode",Gt=ge.outputEncoding,(ge.autoencode||Gt)&&xn[Yt].metadata&&xn[Yt].metadata[it]&&xn[Yt].metadata[it].encoding&&(_t=xn[Yt].metadata[it].encoding,!Gt&&xn[Yt].encoding&&(Gt=xn[Yt].encoding),!Gt&&_t.codePages&&(Gt=_t.codePages[0]),typeof Gt=="string"&&(Gt=_t[Gt]),Gt)){for(gn=!1,tn=[],ze=0,$e=$.length;ze<$e;ze++)(Hn=Gt[$.charCodeAt(ze)])?tn.push(String.fromCharCode(Hn)):tn.push($[ze]),tn[ze].charCodeAt(0)>>8&&(gn=!0);$=tn.join("")}for(ze=$.length;gn===void 0&&ze!==0;)$.charCodeAt(ze-1)>>8&&(gn=!0),ze--;if(!gn)return $;for(tn=ge.noBOM?[]:[254,255],ze=0,$e=$.length;ze<$e;ze++){if((Ln=(Hn=$.charCodeAt(ze))>>8)>>8)throw new Error("Character at position "+ze+" of string '"+$+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");tn.push(Ln),tn.push(Hn-(Ln<<8))}return String.fromCharCode.apply(void 0,tn)},ti=y.__private__.pdfEscape=y.pdfEscape=function($,ge){return wc($,ge).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ja=y.__private__.beginPage=function($){Ge[++yr]=[],fn[yr]={objId:0,contentsObjId:0,userUnit:Number(p),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number($[0]),topRightY:Number($[1])}},vc(yr),Pe(Ge[te])},ph=function($,ge){var ze,$e,it;switch(n=ge||n,typeof $=="string"&&(ze=M($.toLowerCase()),Array.isArray(ze)&&($e=ze[0],it=ze[1])),Array.isArray($)&&($e=$[0]*yt,it=$[1]*yt),isNaN($e)&&($e=a[0],it=a[1]),($e>14400||it>14400)&&(Ui.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),$e=Math.min(14400,$e),it=Math.min(14400,it)),a=[$e,it],n.substr(0,1)){case"l":it>$e&&(a=[it,$e]);break;case"p":$e>it&&(a=[it,$e])}ja(a),bh(Er),we(Oa),vu!==0&&we(vu+" J"),Ul!==0&&we(Ul+" j"),ir.publish("addPage",{pageNumber:yr})},vf=function($){$>0&&$<=yr&&(Ge.splice($,1),fn.splice($,1),yr--,te>yr&&(te=yr),this.setPage(te))},vc=function($){$>0&&$<=yr&&(te=$)},pd=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return Ge.length-1},yf=function($,ge,ze){var $e,it=void 0;return ze=ze||{},$=$!==void 0?$:xn[Yt].fontName,ge=ge!==void 0?ge:xn[Yt].fontStyle,$e=$.toLowerCase(),In[$e]!==void 0&&In[$e][ge]!==void 0?it=In[$e][ge]:In[$]!==void 0&&In[$][ge]!==void 0?it=In[$][ge]:ze.disableWarning===!1&&Ui.warn("Unable to look up font label for font '"+$+"', '"+ge+"'. Refer to getFontList() for available fonts."),it||ze.noFallback||(it=In.times[ge])==null&&(it=In.times.normal),it},bu=y.__private__.putInfo=function(){var $=jr(),ge=function($e){return $e};for(var ze in v!==null&&(ge=Qi.encryptor($,0)),we("<<"),we("/Producer ("+ti(ge("jsPDF "+Rn.version))+")"),kt)kt.hasOwnProperty(ze)&&kt[ze]&&we("/"+ze.substr(0,1).toUpperCase()+ze.substr(1)+" ("+ti(ge(kt[ze]))+")");we("/CreationDate ("+ti(ge(fe))+")"),we(">>"),we("endobj")},Af=y.__private__.putCatalog=function($){var ge=($=$||{}).rootDictionaryObjId||Cs;switch(jr(),we("<<"),we("/Type /Catalog"),we("/Pages "+ge+" 0 R"),Xe||(Xe="fullwidth"),Xe){case"fullwidth":we("/OpenAction [3 0 R /FitH null]");break;case"fullheight":we("/OpenAction [3 0 R /FitV null]");break;case"fullpage":we("/OpenAction [3 0 R /Fit]");break;case"original":we("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ze=""+Xe;ze.substr(ze.length-1)==="%"&&(Xe=parseInt(Xe)/100),typeof Xe=="number"&&we("/OpenAction [3 0 R /XYZ null null "+ae(Xe)+"]")}switch(pt||(pt="continuous"),pt){case"continuous":we("/PageLayout /OneColumn");break;case"single":we("/PageLayout /SinglePage");break;case"two":case"twoleft":we("/PageLayout /TwoColumnLeft");break;case"tworight":we("/PageLayout /TwoColumnRight")}wt&&we("/PageMode /"+wt),ir.publish("putCatalog"),we(">>"),we("endobj")},wp=y.__private__.putTrailer=function(){we("trailer"),we("<<"),we("/Size "+(ve+1)),we("/Root "+ve+" 0 R"),we("/Info "+(ve-1)+" 0 R"),v!==null&&we("/Encrypt "+Qi.oid+" 0 R"),we("/ID [ <"+ue+"> <"+ue+"> ]"),we(">>")},yc=y.__private__.putHeader=function(){we("%PDF-"+D),we("%")},ku=y.__private__.putXRef=function(){var $="0000000000";we("xref"),we("0 "+(ve+1)),we("0000000000 65535 f ");for(var ge=1;ge<=ve;ge++)typeof Re[ge]=="function"?we(($+Re[ge]()).slice(-10)+" 00000 n "):Re[ge]!==void 0?we(($+Re[ge]).slice(-10)+" 00000 n "):we("0000000000 00000 n ")},Ac=y.__private__.buildDocument=function(){oe(),Pe(Be),ir.publish("buildDocument"),yc(),fl(),mu(),Qr(),v!==null&&Fr(),bu(),Af();var $=Ue;return ku(),wp(),we("startxref"),we(""+$),we("%%EOF"),Pe(Ge[te]),Be.join(`
`)},pl=y.__private__.getBlob=function($){return new Blob([Ae($)],{type:"application/pdf"})},na=y.output=y.__private__.output=as(function($,ge){switch(typeof(ge=ge||{})=="string"?ge={filename:ge}:ge.filename=ge.filename||"generated.pdf",$){case void 0:return Ac();case"save":y.save(ge.filename);break;case"arraybuffer":return Ae(Ac());case"blob":return pl(Ac());case"bloburi":case"bloburl":if(Un.URL!==void 0&&typeof Un.URL.createObjectURL=="function")return Un.URL&&Un.URL.createObjectURL(pl(Ac()))||void 0;Ui.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ze="",$e=Ac();try{ze=XD($e)}catch{ze=XD(unescape(encodeURIComponent($e)))}return"data:application/pdf;filename="+ge.filename+";base64,"+ze;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Un)==="[object Window]"){var it="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",_t=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ge.pdfObjectUrl&&(it=ge.pdfObjectUrl,_t="");var Gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+it+'"'+_t+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ge)+");<\/script></body></html>",tn=Un.open();return tn!==null&&tn.document.write(Gt),tn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Un)==="[object Window]"){var gn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ge.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ge.filename+'" width="500px" height="400px" /></body></html>',Hn=Un.open();if(Hn!==null){Hn.document.write(gn);var Ln=this;Hn.document.documentElement.querySelector("#pdfViewer").onload=function(){Hn.document.title=ge.filename,Hn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ln.output("bloburl"))}}return Hn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Un)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var fr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ge)+'"></iframe></body></html>',Ti=Un.open();if(Ti!==null&&(Ti.document.write(fr),Ti.document.title=ge.filename),Ti||typeof safari>"u")return Ti;break;case"datauri":case"dataurl":return Un.document.location.href=this.output("datauristring",ge);default:return null}}),mh=function($){return Array.isArray(is)===!0&&is.indexOf($)>-1};switch(o){case"pt":yt=1;break;case"mm":yt=72/25.4;break;case"cm":yt=72/2.54;break;case"in":yt=72;break;case"px":yt=mh("px_scaling")==1?.75:96/72;break;case"pc":case"em":yt=12;break;case"ex":yt=6;break;default:if(typeof o!="number")throw new Error("Invalid unit: "+o);yt=o}var Qi=null;Ie(),me();var ml=function($){return v!==null?Qi.encryptor($,0):function(ge){return ge}},_c=y.__private__.getPageInfo=y.getPageInfo=function($){if(isNaN($)||$%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:fn[$].objId,pageNumber:$,pageContext:fn[$]}},Tn=y.__private__.getPageInfoByObjId=function($){if(isNaN($)||$%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ge in fn)if(fn[ge].objId===$)break;return _c(ge)},Ll=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:fn[te].objId,pageNumber:te,pageContext:fn[te]}};y.addPage=function(){return ph.apply(this,arguments),this},y.setPage=function(){return vc.apply(this,arguments),Pe.call(this,Ge[te]),this},y.insertPage=function($){return this.addPage(),this.movePage(te,$),this},y.movePage=function($,ge){var ze,$e;if($>ge){ze=Ge[$],$e=fn[$];for(var it=$;it>ge;it--)Ge[it]=Ge[it-1],fn[it]=fn[it-1];Ge[ge]=ze,fn[ge]=$e,this.setPage(ge)}else if($<ge){ze=Ge[$],$e=fn[$];for(var _t=$;_t<ge;_t++)Ge[_t]=Ge[_t+1],fn[_t]=fn[_t+1];Ge[ge]=ze,fn[ge]=$e,this.setPage(ge)}return this},y.deletePage=function(){return vf.apply(this,arguments),this},y.__private__.text=y.text=function($,ge,ze,$e,it){var _t,Gt,tn,gn,Hn,Ln,fr,Ti,yi,Li=($e=$e||{}).scope||this;if(typeof $=="number"&&typeof ge=="number"&&(typeof ze=="string"||Array.isArray(ze))){var Pi=ze;ze=ge,ge=$,$=Pi}if(arguments[3]instanceof hn?(Q("The transform parameter of text() with a Matrix value"),yi=it):(tn=arguments[4],gn=arguments[5],qi(fr=arguments[3])==="object"&&fr!==null||(typeof tn=="string"&&(gn=tn,tn=null),typeof fr=="string"&&(gn=fr,fr=null),typeof fr=="number"&&(tn=fr,fr=null),$e={flags:fr,angle:tn,align:gn})),isNaN(ge)||isNaN(ze)||$==null)throw new Error("Invalid arguments passed to jsPDF.text");if($.length===0)return Li;var uo="",Ba=!1,ia=typeof $e.lineHeightFactor=="number"?$e.lineHeightFactor:Fs,La=Li.internal.scaleFactor;function yh(pr){return pr=pr.split("	").join(Array($e.TabLen||9).join(" ")),ti(pr,fr)}function ql(pr){for(var sr,ni=pr.concat(),$n=[],$s=ni.length;$s--;)typeof(sr=ni.shift())=="string"?$n.push(sr):Array.isArray(pr)&&(sr.length===1||sr[1]===void 0&&sr[2]===void 0)?$n.push(sr[0]):$n.push([sr[0],sr[1],sr[2]]);return $n}function Dc(pr,sr){var ni;if(typeof pr=="string")ni=sr(pr)[0];else if(Array.isArray(pr)){for(var $n,$s,Oc=pr.concat(),Bc=[],Mn=Oc.length;Mn--;)typeof($n=Oc.shift())=="string"?Bc.push(sr($n)[0]):Array.isArray($n)&&typeof $n[0]=="string"&&($s=sr($n[0],$n[1],$n[2]),Bc.push([$s[0],$s[1],$s[2]]));ni=Bc}return ni}var Ah=!1,Au=!0;if(typeof $=="string")Ah=!0;else if(Array.isArray($)){var _h=$.concat();Gt=[];for(var vd,Ai=_h.length;Ai--;)(typeof(vd=_h.shift())!="string"||Array.isArray(vd)&&typeof vd[0]!="string")&&(Au=!1);Ah=Au}if(Ah===!1)throw new Error('Type of text must be string or Array. "'+$+'" is not recognized.');typeof $=="string"&&($=$.match(/[\r?\n]/)?$.split(/\r\n|\r|\n/g):[$]);var Pa=Ke/Li.internal.scaleFactor,yd=Pa*(ia-1);switch($e.baseline){case"bottom":ze-=yd;break;case"top":ze+=Pa-yd;break;case"hanging":ze+=Pa-2*yd;break;case"middle":ze+=Pa/2-yd}if((Ln=$e.maxWidth||0)>0&&(typeof $=="string"?$=Li.splitTextToSize($,Ln):Object.prototype.toString.call($)==="[object Array]"&&($=$.reduce(function(pr,sr){return pr.concat(Li.splitTextToSize(sr,Ln))},[]))),_t={text:$,x:ge,y:ze,options:$e,mutex:{pdfEscape:ti,activeFontKey:Yt,fonts:xn,activeFontSize:Ke}},ir.publish("preProcessText",_t),$=_t.text,tn=($e=_t.options).angle,!(yi instanceof hn)&&tn&&typeof tn=="number"){tn*=Math.PI/180,$e.rotationDirection===0&&(tn=-tn),z===B.ADVANCED&&(tn=-tn);var Ad=Math.cos(tn),Ic=Math.sin(tn);yi=new hn(Ad,Ic,-Ic,Ad,0,0)}else tn&&tn instanceof hn&&(yi=tn);z!==B.ADVANCED||yi||(yi=or),(Hn=$e.charSpace||kh)!==void 0&&(uo+=F(Y(Hn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ti=$e.horizontalScale)!==void 0&&(uo+=F(100*Ti)+` Tz
`),$e.lang;var Es=-1,Jm=$e.renderingMode!==void 0?$e.renderingMode:$e.stroke,Df=Li.internal.getCurrentPageInfo().pageContext;switch(Jm){case 0:case!1:case"fill":Es=0;break;case 1:case!0:case"stroke":Es=1;break;case 2:case"fillThenStroke":Es=2;break;case 3:case"invisible":Es=3;break;case 4:case"fillAndAddForClipping":Es=4;break;case 5:case"strokeAndAddPathForClipping":Es=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Es=6;break;case 7:case"addToPathForClipping":Es=7}var Ap=Df.usedRenderingMode!==void 0?Df.usedRenderingMode:-1;Es!==-1?uo+=Es+` Tr
`:Ap!==-1&&(uo+=`0 Tr
`),Es!==-1&&(Df.usedRenderingMode=Es),gn=$e.align||"left";var ka,Ao=Ke*ia,_u=Li.internal.pageSize.getWidth(),Ch=xn[Yt];Hn=$e.charSpace||kh,Ln=$e.maxWidth||0,fr=Object.assign({autoencode:!0,noBOM:!0},$e.flags);var Tc=[],Mc=function(pr){return Li.getStringUnitWidth(pr,{font:Ch,charSpace:Hn,fontSize:Ke,doKerning:!1})*Ke/La};if(Object.prototype.toString.call($)==="[object Array]"){var Us;Gt=ql($),gn!=="left"&&(ka=Gt.map(Mc));var zo,Cu=0;if(gn==="right"){ge-=ka[0],$=[],Ai=Gt.length;for(var qs=0;qs<Ai;qs++)qs===0?(zo=Ro(ge),Us=gl(ze)):(zo=Y(Cu-ka[qs]),Us=-Ao),$.push([Gt[qs],zo,Us]),Cu=ka[qs]}else if(gn==="center"){ge-=ka[0]/2,$=[],Ai=Gt.length;for(var kl=0;kl<Ai;kl++)kl===0?(zo=Ro(ge),Us=gl(ze)):(zo=Y((Cu-ka[kl])/2),Us=-Ao),$.push([Gt[kl],zo,Us]),Cu=ka[kl]}else if(gn==="left"){$=[],Ai=Gt.length;for(var Vl=0;Vl<Ai;Vl++)$.push(Gt[Vl])}else if(gn==="justify"&&Ch.encoding==="Identity-H"){$=[],Ai=Gt.length,Ln=Ln!==0?Ln:_u;for(var Ra=0,Vi=0;Vi<Ai;Vi++)if(Us=Vi===0?gl(ze):-Ao,zo=Vi===0?Ro(ge):Ra,Vi<Ai-1){var za=Y((Ln-ka[Vi])/(Gt[Vi].split(" ").length-1)),Zi=Gt[Vi].split(" ");$.push([Zi[0]+" ",zo,Us]),Ra=0;for(var Vs=1;Vs<Zi.length;Vs++){var Dr=(Mc(Zi[Vs-1]+" "+Zi[Vs])-Mc(Zi[Vs]))*La+za;Vs==Zi.length-1?$.push([Zi[Vs],Dr,0]):$.push([Zi[Vs]+" ",Dr,0]),Ra-=Dr}}else $.push([Gt[Vi],zo,Us]);$.push(["",Ra,0])}else{if(gn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for($=[],Ai=Gt.length,Ln=Ln!==0?Ln:_u,Vi=0;Vi<Ai;Vi++)Us=Vi===0?gl(ze):-Ao,zo=Vi===0?Ro(ge):0,Vi<Ai-1?Tc.push(F(Y((Ln-ka[Vi])/(Gt[Vi].split(" ").length-1)))):Tc.push(0),$.push([Gt[Vi],zo,Us])}}var Fa=typeof $e.R2L=="boolean"?$e.R2L:dt;Fa===!0&&($=Dc($,function(pr,sr,ni){return[pr.split("").reverse().join(""),sr,ni]})),_t={text:$,x:ge,y:ze,options:$e,mutex:{pdfEscape:ti,activeFontKey:Yt,fonts:xn,activeFontSize:Ke}},ir.publish("postProcessText",_t),$=_t.text,Ba=_t.mutex.isHex||!1;var xu=xn[Yt].encoding;xu!=="WinAnsiEncoding"&&xu!=="StandardEncoding"||($=Dc($,function(pr,sr,ni){return[yh(pr),sr,ni]})),Gt=ql($),$=[];for(var Hs,Nc,jc,_d=0,wa=1,wl=Array.isArray(Gt[0])?wa:_d,Hl="",Fo=function(pr,sr,ni){var $n="";return ni instanceof hn?(ni=typeof $e.angle=="number"?Sr(ni,new hn(1,0,0,1,pr,sr)):Sr(new hn(1,0,0,1,pr,sr),ni),z===B.ADVANCED&&(ni=Sr(new hn(1,0,0,-1,0,0),ni)),$n=ni.join(" ")+` Tm
`):$n=F(pr)+" "+F(sr)+` Td
`,$n},Hi=0;Hi<Gt.length;Hi++){switch(Hl="",wl){case wa:jc=(Ba?"<":"(")+Gt[Hi][0]+(Ba?">":")"),Hs=parseFloat(Gt[Hi][1]),Nc=parseFloat(Gt[Hi][2]);break;case _d:jc=(Ba?"<":"(")+Gt[Hi]+(Ba?">":")"),Hs=Ro(ge),Nc=gl(ze)}Tc!==void 0&&Tc[Hi]!==void 0&&(Hl=Tc[Hi]+` Tw
`),Hi===0?$.push(Hl+Fo(Hs,Nc,yi)+jc):wl===_d?$.push(Hl+jc):wl===wa&&$.push(Hl+Fo(Hs,Nc,yi)+jc)}$=wl===_d?$.join(` Tj
T* `):$.join(` Tj
`),$+=` Tj
`;var oa=`BT
/`;return oa+=Yt+" "+Ke+` Tf
`,oa+=F(Ke*ia)+` TL
`,oa+=Sc+`
`,oa+=uo,oa+=$,we(oa+="ET"),x[Yt]=!0,Li};var vp=y.__private__.clip=y.clip=function($){return we($==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return vp("evenodd")},y.__private__.discardPath=y.discardPath=function(){return we("n"),this};var Rs=y.__private__.isValidStyle=function($){var ge=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf($)!==-1&&(ge=!0),ge};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function($){return Rs($)&&(k=$),this};var ba=y.__private__.getStyle=y.getStyle=function($){var ge=k;switch($){case"D":case"S":ge="S";break;case"F":ge="f";break;case"FD":case"DF":ge="B";break;case"f":case"f*":case"B":case"B*":ge=$}return ge},gh=y.close=function(){return we("h"),this};y.stroke=function(){return we("S"),this},y.fill=function($){return Pl("f",$),this},y.fillEvenOdd=function($){return Pl("f*",$),this},y.fillStroke=function($){return Pl("B",$),this},y.fillStrokeEvenOdd=function($){return Pl("B*",$),this};var Pl=function($,ge){qi(ge)==="object"?md(ge,$):we($)},zs=function($){$===null||z===B.ADVANCED&&$===void 0||($=ba($),we($))};function _f($,ge,ze,$e,it){var _t=new X0(ge||this.boundingBox,ze||this.xStep,$e||this.yStep,this.gState,it||this.matrix);_t.stream=this.stream;var Gt=$+"$$"+this.cloneIndex+++"$$";return vi(Gt,_t),_t}var md=function($,ge){var ze=ei[$.key],$e=Yn[ze];if($e instanceof Yg)we("q"),we(Cf(ge)),$e.gState&&y.setGState($e.gState),we($.matrix.toString()+" cm"),we("/"+ze+" sh"),we("Q");else if($e instanceof X0){var it=new hn(1,0,0,-1,0,Ec());$.matrix&&(it=it.multiply($.matrix||or),ze=_f.call($e,$.key,$.boundingBox,$.xStep,$.yStep,it).id),we("q"),we("/Pattern cs"),we("/"+ze+" scn"),$e.gState&&y.setGState($e.gState),we(ge),we("Q")}},Cf=function($){switch($){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Cc=y.moveTo=function($,ge){return we(F(Y($))+" "+F(q(ge))+" m"),this},ra=y.lineTo=function($,ge){return we(F(Y($))+" "+F(q(ge))+" l"),this},xc=y.curveTo=function($,ge,ze,$e,it,_t){return we([F(Y($)),F(q(ge)),F(Y(ze)),F(q($e)),F(Y(it)),F(q(_t)),"c"].join(" ")),this};y.__private__.line=y.line=function($,ge,ze,$e,it){if(isNaN($)||isNaN(ge)||isNaN(ze)||isNaN($e)||!Rs(it))throw new Error("Invalid arguments passed to jsPDF.line");return z===B.COMPAT?this.lines([[ze-$,$e-ge]],$,ge,[1,1],it||"S"):this.lines([[ze-$,$e-ge]],$,ge,[1,1]).stroke()},y.__private__.lines=y.lines=function($,ge,ze,$e,it,_t){var Gt,tn,gn,Hn,Ln,fr,Ti,yi,Li,Pi,uo,Ba;if(typeof $=="number"&&(Ba=ze,ze=ge,ge=$,$=Ba),$e=$e||[1,1],_t=_t||!1,isNaN(ge)||isNaN(ze)||!Array.isArray($)||!Array.isArray($e)||!Rs(it)||typeof _t!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Cc(ge,ze),Gt=$e[0],tn=$e[1],Hn=$.length,Pi=ge,uo=ze,gn=0;gn<Hn;gn++)(Ln=$[gn]).length===2?(Pi=Ln[0]*Gt+Pi,uo=Ln[1]*tn+uo,ra(Pi,uo)):(fr=Ln[0]*Gt+Pi,Ti=Ln[1]*tn+uo,yi=Ln[2]*Gt+Pi,Li=Ln[3]*tn+uo,Pi=Ln[4]*Gt+Pi,uo=Ln[5]*tn+uo,xc(fr,Ti,yi,Li,Pi,uo));return _t&&gh(),zs(it),this},y.path=function($){for(var ge=0;ge<$.length;ge++){var ze=$[ge],$e=ze.c;switch(ze.op){case"m":Cc($e[0],$e[1]);break;case"l":ra($e[0],$e[1]);break;case"c":xc.apply(this,$e);break;case"h":gh()}}return this},y.__private__.rect=y.rect=function($,ge,ze,$e,it){if(isNaN($)||isNaN(ge)||isNaN(ze)||isNaN($e)||!Rs(it))throw new Error("Invalid arguments passed to jsPDF.rect");return z===B.COMPAT&&($e=-$e),we([F(Y($)),F(q(ge)),F(Y(ze)),F(Y($e)),"re"].join(" ")),zs(it),this},y.__private__.triangle=y.triangle=function($,ge,ze,$e,it,_t,Gt){if(isNaN($)||isNaN(ge)||isNaN(ze)||isNaN($e)||isNaN(it)||isNaN(_t)||!Rs(Gt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ze-$,$e-ge],[it-ze,_t-$e],[$-it,ge-_t]],$,ge,[1,1],Gt,!0),this},y.__private__.roundedRect=y.roundedRect=function($,ge,ze,$e,it,_t,Gt){if(isNaN($)||isNaN(ge)||isNaN(ze)||isNaN($e)||isNaN(it)||isNaN(_t)||!Rs(Gt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var tn=4/3*(Math.SQRT2-1);return it=Math.min(it,.5*ze),_t=Math.min(_t,.5*$e),this.lines([[ze-2*it,0],[it*tn,0,it,_t-_t*tn,it,_t],[0,$e-2*_t],[0,_t*tn,-it*tn,_t,-it,_t],[2*it-ze,0],[-it*tn,0,-it,-_t*tn,-it,-_t],[0,2*_t-$e],[0,-_t*tn,it*tn,-_t,it,-_t]],$+it,ge,[1,1],Gt,!0),this},y.__private__.ellipse=y.ellipse=function($,ge,ze,$e,it){if(isNaN($)||isNaN(ge)||isNaN(ze)||isNaN($e)||!Rs(it))throw new Error("Invalid arguments passed to jsPDF.ellipse");var _t=4/3*(Math.SQRT2-1)*ze,Gt=4/3*(Math.SQRT2-1)*$e;return Cc($+ze,ge),xc($+ze,ge-Gt,$+_t,ge-$e,$,ge-$e),xc($-_t,ge-$e,$-ze,ge-Gt,$-ze,ge),xc($-ze,ge+Gt,$-_t,ge+$e,$,ge+$e),xc($+_t,ge+$e,$+ze,ge+Gt,$+ze,ge),zs(it),this},y.__private__.circle=y.circle=function($,ge,ze,$e){if(isNaN($)||isNaN(ge)||isNaN(ze)||!Rs($e))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse($,ge,ze,ze,$e)},y.setFont=function($,ge,ze){return ze&&(ge=H(ge,ze)),Yt=yf($,ge,{disableWarning:!1}),this};var yo=y.__private__.getFont=y.getFont=function(){return xn[yf.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var $,ge,ze={};for($ in In)if(In.hasOwnProperty($))for(ge in ze[$]=[],In[$])In[$].hasOwnProperty(ge)&&ze[$].push(ge);return ze},y.addFont=function($,ge,ze,$e,it){var _t=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&_t.indexOf(arguments[3])!==-1?it=arguments[3]:arguments[3]&&_t.indexOf(arguments[3])==-1&&(ze=H(ze,$e)),it=it||"Identity-H",ga.call(this,$,ge,ze,it)};var Fs,Er=t.lineWidth||.200025,Rl=y.__private__.getLineWidth=y.getLineWidth=function(){return Er},bh=y.__private__.setLineWidth=y.setLineWidth=function($){return Er=$,we(F(Y($))+" w"),this};y.__private__.setLineDash=Rn.API.setLineDash=Rn.API.setLineDashPattern=function($,ge){if($=$||[],ge=ge||0,isNaN(ge)||!Array.isArray($))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return $=$.map(function(ze){return F(Y(ze))}).join(" "),ge=F(Y(ge)),we("["+$+"] "+ge+" d"),this};var gd=y.__private__.getLineHeight=y.getLineHeight=function(){return Ke*Fs};y.__private__.getLineHeight=y.getLineHeight=function(){return Ke*Fs};var zl=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function($){return typeof($=$||1.15)=="number"&&(Fs=$),this},Fl=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return Fs};zl(t.lineHeight);var Ro=y.__private__.getHorizontalCoordinate=function($){return Y($)},gl=y.__private__.getVerticalCoordinate=function($){return z===B.ADVANCED?$:fn[te].mediaBox.topRightY-fn[te].mediaBox.bottomLeftY-Y($)},xf=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function($){return F(Ro($))},wu=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function($){return F(gl($))},Oa=t.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return wo(Oa)},y.__private__.setStrokeColor=y.setDrawColor=function($,ge,ze,$e){return Oa=Di({ch1:$,ch2:ge,ch3:ze,ch4:$e,pdfColorType:"draw",precision:2}),we(Oa),this};var bd=t.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return wo(bd)},y.__private__.setFillColor=y.setFillColor=function($,ge,ze,$e){return bd=Di({ch1:$,ch2:ge,ch3:ze,ch4:$e,pdfColorType:"fill",precision:2}),we(bd),this};var Sc=t.textColor||"0 g",Km=y.__private__.getTextColor=y.getTextColor=function(){return wo(Sc)};y.__private__.setTextColor=y.setTextColor=function($,ge,ze,$e){return Sc=Di({ch1:$,ch2:ge,ch3:ze,ch4:$e,pdfColorType:"text",precision:3}),this};var kh=t.charSpace,Qm=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(kh||0)};y.__private__.setCharSpace=y.setCharSpace=function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return kh=$,this};var vu=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function($){var ge=y.CapJoinStyles[$];if(ge===void 0)throw new Error("Line cap style of '"+$+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return vu=ge,we(ge+" J"),this};var Ul=0;y.__private__.setLineJoin=y.setLineJoin=function($){var ge=y.CapJoinStyles[$];if(ge===void 0)throw new Error("Line join style of '"+$+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ul=ge,we(ge+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function($){if($=$||0,isNaN($))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return we(F(Y($))+" M"),this},y.GState=Xx,y.setGState=function($){($=typeof $=="string"?rr[vr[$]]:yp(null,$)).equals(gr)||(we("/"+$.id+" gs"),gr=$)};var yp=function($,ge){if(!$||!vr[$]){var ze=!1;for(var $e in rr)if(rr.hasOwnProperty($e)&&rr[$e].equals(ge)){ze=!0;break}if(ze)ge=rr[$e];else{var it="GS"+(Object.keys(rr).length+1).toString(10);rr[it]=ge,ge.id=it}return $&&(vr[$]=ge.id),ir.publish("addGState",ge),ge}};y.addGState=function($,ge){return yp($,ge),this},y.saveGraphicsState=function(){return we("q"),zn.push({key:Yt,size:Ke,color:Sc}),this},y.restoreGraphicsState=function(){we("Q");var $=zn.pop();return Yt=$.key,Ke=$.size,Sc=$.color,gr=null,this},y.setCurrentTransformationMatrix=function($){return we($.toString()+" cm"),this},y.comment=function($){return we("#"+$),this};var wh=function($,ge){var ze=$||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ze},set:function(_t){isNaN(_t)||(ze=parseFloat(_t))}});var $e=ge||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return $e},set:function(_t){isNaN(_t)||($e=parseFloat(_t))}});var it="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return it},set:function(_t){it=_t.toString()}}),this},Sf=function($,ge,ze,$e){wh.call(this,$,ge),this.type="rect";var it=ze||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return it},set:function(Gt){isNaN(Gt)||(it=parseFloat(Gt))}});var _t=$e||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return _t},set:function(Gt){isNaN(Gt)||(_t=parseFloat(Gt))}}),this},Ef=function(){this.page=yr,this.currentPage=te,this.pages=Ge.slice(0),this.pagesContext=fn.slice(0),this.x=Bn,this.y=on,this.matrix=wr,this.width=yu(te),this.height=Ec(te),this.outputDestination=gt,this.id="",this.objectNumber=-1};Ef.prototype.restore=function(){yr=this.page,te=this.currentPage,fn=this.pagesContext,Ge=this.pages,Bn=this.x,on=this.y,wr=this.matrix,wd(te,this.width),vh(te,this.height),gt=this.outputDestination};var bl=function($,ge,ze,$e,it){ss.push(new Ef),yr=te=0,Ge=[],Bn=$,on=ge,wr=it,ja([ze,$e])},Zm=function($){if(os[$])ss.pop().restore();else{var ge=new Ef,ze="Xo"+(Object.keys(wi).length+1).toString(10);ge.id=ze,os[$]=ze,wi[ze]=ge,ir.publish("addFormObject",ge),ss.pop().restore()}};for(var kd in y.beginFormObject=function($,ge,ze,$e,it){return bl($,ge,ze,$e,it),this},y.endFormObject=function($){return Zm($),this},y.doFormObject=function($,ge){var ze=wi[os[$]];return we("q"),we(ge.toString()+" cm"),we("/"+ze.id+" Do"),we("Q"),this},y.getFormObject=function($){var ge=wi[os[$]];return{x:ge.x,y:ge.y,width:ge.width,height:ge.height,matrix:ge.matrix}},y.save=function($,ge){return $=$||"generated.pdf",(ge=ge||{}).returnPromise=ge.returnPromise||!1,ge.returnPromise===!1?($g(pl(Ac()),$),typeof $g.unload=="function"&&Un.setTimeout&&setTimeout($g.unload,911),this):new Promise(function(ze,$e){try{var it=$g(pl(Ac()),$);typeof $g.unload=="function"&&Un.setTimeout&&setTimeout($g.unload,911),ze(it)}catch(_t){$e(_t.message)}})},Rn.API)Rn.API.hasOwnProperty(kd)&&(kd==="events"&&Rn.API.events.length?function($,ge){var ze,$e,it;for(it=ge.length-1;it!==-1;it--)ze=ge[it][0],$e=ge[it][1],$.subscribe.apply($,[ze].concat(typeof $e=="function"?[$e]:$e))}(ir,Rn.API.events):y[kd]=Rn.API[kd]);var yu=y.getPageWidth=function($){return(fn[$=$||te].mediaBox.topRightX-fn[$].mediaBox.bottomLeftX)/yt},wd=y.setPageWidth=function($,ge){fn[$].mediaBox.topRightX=ge*yt+fn[$].mediaBox.bottomLeftX},Ec=y.getPageHeight=function($){return(fn[$=$||te].mediaBox.topRightY-fn[$].mediaBox.bottomLeftY)/yt},vh=y.setPageHeight=function($,ge){fn[$].mediaBox.topRightY=ge*yt+fn[$].mediaBox.bottomLeftY};return y.internal={pdfEscape:ti,getStyle:ba,getFont:yo,getFontSize:Fe,getCharSpace:Qm,getTextColor:Km,getLineHeight:gd,getLineHeightFactor:Fl,getLineWidth:Rl,write:De,getHorizontalCoordinate:Ro,getVerticalCoordinate:gl,getCoordinateString:xf,getVerticalCoordinateString:wu,collections:{},newObject:jr,newAdditionalObject:jl,newObjectDeferred:Wr,newObjectDeferredBegin:di,getFilters:lo,putStream:co,events:ir,scaleFactor:yt,pageSize:{getWidth:function(){return yu(te)},setWidth:function($){wd(te,$)},getHeight:function(){return Ec(te)},setHeight:function($){vh(te,$)}},encryptionOptions:v,encryption:Qi,getEncryptor:ml,output:na,getNumberOfPages:pd,pages:Ge,out:we,f2:ae,f3:X,getPageInfo:_c,getPageInfoByObjId:Tn,getCurrentPageInfo:Ll,getPDFVersion:E,Point:wh,Rectangle:Sf,Matrix:hn,hasHotfix:mh},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return yu(te)},set:function($){wd(te,$)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return Ec(te)},set:function($){vh(te,$)},enumerable:!0,configurable:!0}),gu.call(y,Oe),Yt="F1",ph(a,n),ir.publish("initialized"),y}Z0.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Z0.prototype.toHexString=function(t){return t.split("").map(function(i){return("0"+(255&i.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Z0.prototype.hexToBytes=function(t){for(var i=[],n=0;n<t.length;n+=2)i.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return i.join("")},Z0.prototype.processOwnerPassword=function(t,i){return t6(e6(i).substr(0,5),t)},Z0.prototype.encryptor=function(t,i){var n=e6(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&i,i>>8&255)).substr(0,10);return function(o){return t6(n,o)}},Xx.prototype.equals=function(t){var i,n="id,objectNumber,equals";if(!t||qi(t)!==qi(this))return!1;var o=0;for(i in this)if(!(n.indexOf(i)>=0)){if(this.hasOwnProperty(i)&&!t.hasOwnProperty(i)||this[i]!==t[i])return!1;o++}for(i in t)t.hasOwnProperty(i)&&n.indexOf(i)<0&&o--;return o===0},Rn.API={events:[]},Rn.version="3.0.1";var es=Rn.API,mI=1,wb=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},O0=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},er=function(t){return t.toFixed(2)},Am=function(t){return t.toFixed(5)};es.__acroform__={};var kc=function(t,i){t.prototype=Object.create(i.prototype),t.prototype.constructor=t},xj=function(t){return t*mI},Hh=function(t){var i=new H7,n=bn.internal.getHeight(t)||0,o=bn.internal.getWidth(t)||0;return i.BBox=[0,0,Number(er(o)),Number(er(n))],i},XX=es.__acroform__.setBit=function(t,i){if(t=t||0,i=i||0,isNaN(t)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<i},eee=es.__acroform__.clearBit=function(t,i){if(t=t||0,i=i||0,isNaN(t)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<i)},tee=es.__acroform__.getBit=function(t,i){if(isNaN(t)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<i)==0?0:1},fs=es.__acroform__.getBitForPdf=function(t,i){if(isNaN(t)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return tee(t,i-1)},ps=es.__acroform__.setBitForPdf=function(t,i){if(isNaN(t)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return XX(t,i-1)},ms=es.__acroform__.clearBitForPdf=function(t,i){if(isNaN(t)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return eee(t,i-1)},nee=es.__acroform__.calculateCoordinates=function(t,i){var n=i.internal.getHorizontalCoordinate,o=i.internal.getVerticalCoordinate,a=t[0],c=t[1],d=t[2],p=t[3],m={};return m.lowerLeft_X=n(a)||0,m.lowerLeft_Y=o(c+p)||0,m.upperRight_X=n(a+d)||0,m.upperRight_Y=o(c)||0,[Number(er(m.lowerLeft_X)),Number(er(m.lowerLeft_Y)),Number(er(m.upperRight_X)),Number(er(m.upperRight_Y))]},ree=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var i=[],n=t._V||t.DV,o=n6(t,n),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;i.push("/Tx BMC"),i.push("q"),i.push("BT"),i.push(t.scope.__private__.encodeColorString(t.color)),i.push("/"+a+" "+er(o.fontSize)+" Tf"),i.push("1 0 0 1 0 0 Tm"),i.push(o.text),i.push("ET"),i.push("Q"),i.push("EMC");var c=Hh(t);return c.scope=t.scope,c.stream=i.join(`
`),c}},n6=function(t,i){var n=t.fontSize===0?t.maxFontSize:t.fontSize,o={text:"",fontSize:""},a=(i=(i=i.substr(0,1)=="("?i.substr(1):i).substr(i.length-1)==")"?i.substr(0,i.length-1):i).split(" ");a=t.multiline?a.map(function(X){return X.split(`
`)}):a.map(function(X){return[X]});var c=n,d=bn.internal.getHeight(t)||0;d=d<0?-d:d;var p=bn.internal.getWidth(t)||0;p=p<0?-p:p;var m=function(X,Y,U){if(X+1<a.length){var q=Y+" "+a[X+1][0];return Z2(q,t,U).width<=p-4}return!1};c++;e:for(;c>0;){i="",c--;var k,v,_=Z2("3",t,c).height,x=t.multiline?d-c:(d-_)/2,y=x+=2,D=0,E=0,j=0;if(c<=0){i=`(...) Tj
`,i+="% Width of Text: "+Z2(i,t,c=12).width+", FieldWidth:"+p+`
`;break}for(var M="",B=0,z=0;z<a.length;z++)if(a.hasOwnProperty(z)){var G=!1;if(a[z].length!==1&&j!==a[z].length-1){if((_+2)*(B+2)+2>d)continue e;M+=a[z][j],G=!0,E=z,z--}else{M=(M+=a[z][j]+" ").substr(M.length-1)==" "?M.substr(0,M.length-1):M;var J=parseInt(z),H=m(J,M,c),F=z>=a.length-1;if(H&&!F){M+=" ",j=0;continue}if(H||F){if(F)E=J;else if(t.multiline&&(_+2)*(B+2)+2>d)continue e}else{if(!t.multiline||(_+2)*(B+2)+2>d)continue e;E=J}}for(var Q="",Z=D;Z<=E;Z++){var ae=a[Z];if(t.multiline){if(Z===E){Q+=ae[j]+" ",j=(j+1)%ae.length;continue}if(Z===D){Q+=ae[ae.length-1]+" ";continue}}Q+=ae[0]+" "}switch(Q=Q.substr(Q.length-1)==" "?Q.substr(0,Q.length-1):Q,v=Z2(Q,t,c).width,t.textAlign){case"right":k=p-v-2;break;case"center":k=(p-v)/2;break;case"left":default:k=2}i+=er(k)+" "+er(y)+` Td
`,i+="("+wb(Q)+`) Tj
`,i+=-er(k)+` 0 Td
`,y=-(c+2),v=0,D=G?E:E+1,B++,M=""}break}return o.text=i,o.fontSize=c,o},Z2=function(t,i,n){var o=i.scope.internal.getFont(i.fontName,i.fontStyle),a=i.scope.getStringUnitWidth(t,{font:o,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:i.scope.getStringUnitWidth("3",{font:o,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:a}},iee={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},oee=function(t,i){var n={type:"reference",object:t};i.internal.getPageInfo(t.page).pageContext.annotations.find(function(o){return o.type===n.type&&o.object===n.object})===void 0&&i.internal.getPageInfo(t.page).pageContext.annotations.push(n)},see=function(t,i){for(var n in t)if(t.hasOwnProperty(n)){var o=n,a=t[n];i.internal.newObjectDeferredBegin(a.objId,!0),qi(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete t[o]}},aee=function(t,i){if(i.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(uh.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(iee)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");mI=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new $7,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var o=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in o)if(o.hasOwnProperty(a)){var c=o[a];c.objId=void 0,c.hasAnnotation&&oee(c,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(o,a){var c=!o;for(var d in o||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),o=o||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(o.hasOwnProperty(d)){var p=o[d],m=[],k=p.Rect;if(p.Rect&&(p.Rect=nee(p.Rect,a)),a.internal.newObjectDeferredBegin(p.objId,!0),p.DA=bn.createDefaultAppearanceStream(p),qi(p)==="object"&&typeof p.getKeyValueListForStream=="function"&&(m=p.getKeyValueListForStream()),p.Rect=k,p.hasAppearanceStream&&!p.appearanceStreamContent){var v=ree(p);m.push({key:"AP",value:"<</N "+v+">>"}),a.internal.acroformPlugin.xForms.push(v)}if(p.appearanceStreamContent){var _="";for(var x in p.appearanceStreamContent)if(p.appearanceStreamContent.hasOwnProperty(x)){var y=p.appearanceStreamContent[x];if(_+="/"+x+" ",_+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var d in y)if(y.hasOwnProperty(d)){var D=y[d];typeof D=="function"&&(D=D.call(a,p)),_+="/"+d+" "+D+" ",a.internal.acroformPlugin.xForms.indexOf(D)>=0||a.internal.acroformPlugin.xForms.push(D)}}else typeof(D=y)=="function"&&(D=D.call(a,p)),_+="/"+d+" "+D,a.internal.acroformPlugin.xForms.indexOf(D)>=0||a.internal.acroformPlugin.xForms.push(D);_+=">>"}m.push({key:"AP",value:`<<
`+_+">>"})}a.internal.putStream({additionalKeyValues:m,objectId:p.objId}),a.internal.out("endobj")}c&&see(a.internal.acroformPlugin.xForms,a)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},V7=es.__acroform__.arrayToPdfArray=function(t,i,n){var o=function(d){return d};if(Array.isArray(t)){for(var a="[",c=0;c<t.length;c++)switch(c!==0&&(a+=" "),qi(t[c])){case"boolean":case"number":case"object":a+=t[c].toString();break;case"string":t[c].substr(0,1)!=="/"?(i!==void 0&&n&&(o=n.internal.getEncryptor(i)),a+="("+wb(o(t[c].toString()))+")"):a+=t[c].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},JE=function(t,i,n){var o=function(a){return a};return i!==void 0&&n&&(o=n.internal.getEncryptor(i)),(t=t||"").toString(),t="("+wb(o(t))+")"},of=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};of.prototype.toString=function(){return this.objId+" 0 R"},of.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},of.prototype.getKeyValueListForStream=function(){var t=[],i=Object.getOwnPropertyNames(this).filter(function(c){return c!="content"&&c!="appearanceStreamContent"&&c!="scope"&&c!="objId"&&c.substring(0,1)!="_"});for(var n in i)if(Object.getOwnPropertyDescriptor(this,i[n]).configurable===!1){var o=i[n],a=this[o];a&&(Array.isArray(a)?t.push({key:o,value:V7(a,this.objId,this.scope)}):a instanceof of?(a.scope=this.scope,t.push({key:o,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:o,value:a}))}return t};var H7=function(){of.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,i=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return i},set:function(n){i=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};kc(H7,of);var $7=function(){of.call(this);var t,i=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return i.length>0?i:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return i}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(o){return o};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+wb(n(t))+")"}},set:function(n){t=n}})};kc($7,of);var uh=function t(){of.call(this);var i=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return i},set:function(M){if(isNaN(M))throw new Error('Invalid value "'+M+'" for attribute F supplied.');i=M}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!fs(i,3)},set:function(M){M?this.F=ps(i,3):this.F=ms(i,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(M){if(isNaN(M))throw new Error('Invalid value "'+M+'" for attribute Ff supplied.');n=M}});var o=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(o.length!==0)return o},set:function(M){o=M!==void 0?M:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[0])?0:o[0]},set:function(M){o[0]=M}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[1])?0:o[1]},set:function(M){o[1]=M}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[2])?0:o[2]},set:function(M){o[2]=M}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[3])?0:o[3]},set:function(M){o[3]=M}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(M){switch(M){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=M;break;default:throw new Error('Invalid value "'+M+'" for attribute FT supplied.')}}});var c=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!c||c.length<1){if(this instanceof e5)return;c="FieldObject"+t.FieldNum++}var M=function(B){return B};return this.scope&&(M=this.scope.internal.getEncryptor(this.objId)),"("+wb(M(c))+")"},set:function(M){c=M.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return c},set:function(M){c=M}});var d="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return d},set:function(M){d=M}});var p="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return p},set:function(M){p=M}});var m=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return m},set:function(M){m=M}});var k=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return k===void 0?50/mI:k},set:function(M){k=M}});var v="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return v},set:function(M){v=M}});var _="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!_||this instanceof e5||this instanceof sb))return JE(_,this.objId,this.scope)},set:function(M){M=M.toString(),_=M}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof da?x:JE(x,this.objId,this.scope)},set:function(M){M=M.toString(),x=this instanceof da?M:M.substr(0,1)==="("?O0(M.substr(1,M.length-2)):O0(M)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof da?O0(x.substr(1,x.length-1)):x},set:function(M){M=M.toString(),x=this instanceof da?"/"+M:M}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(M){this.V=M}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof da?y:JE(y,this.objId,this.scope)},set:function(M){M=M.toString(),y=this instanceof da?M:M.substr(0,1)==="("?O0(M.substr(1,M.length-2)):O0(M)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof da?O0(y.substr(1,y.length-1)):y},set:function(M){M=M.toString(),y=this instanceof da?"/"+M:M}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var D,E=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return E},set:function(M){M=!!M,E=M}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(D)return D},set:function(M){D=M}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,1)},set:function(M){M?this.Ff=ps(this.Ff,1):this.Ff=ms(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,2)},set:function(M){M?this.Ff=ps(this.Ff,2):this.Ff=ms(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,3)},set:function(M){M?this.Ff=ps(this.Ff,3):this.Ff=ms(this.Ff,3)}});var j=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(j!==null)return j},set:function(M){if([0,1,2].indexOf(M)===-1)throw new Error('Invalid value "'+M+'" for attribute Q supplied.');j=M}}),Object.defineProperty(this,"textAlign",{get:function(){var M;switch(j){case 0:default:M="left";break;case 1:M="center";break;case 2:M="right"}return M},configurable:!0,enumerable:!0,set:function(M){switch(M){case"right":case 2:j=2;break;case"center":case 1:j=1;break;case"left":case 0:default:j=0}}})};kc(uh,of);var nk=function(){uh.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var i=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return V7(i,this.objId,this.scope)},set:function(n){var o,a;a=[],typeof(o=n)=="string"&&(a=function(c,d,p){p||(p=1);for(var m,k=[];m=d.exec(c);)k.push(m[p]);return k}(o,/\((.*?)\)/g)),i=a}}),this.getOptions=function(){return i},this.setOptions=function(n){i=n,this.sort&&i.sort()},this.addOption=function(n){n=(n=n||"").toString(),i.push(n),this.sort&&i.sort()},this.removeOption=function(n,o){for(o=o||!1,n=(n=n||"").toString();i.indexOf(n)!==-1&&(i.splice(i.indexOf(n),1),o!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,18)},set:function(n){n?this.Ff=ps(this.Ff,18):this.Ff=ms(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=ps(this.Ff,19):this.Ff=ms(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,20)},set:function(n){n?(this.Ff=ps(this.Ff,20),i.sort()):this.Ff=ms(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,22)},set:function(n){n?this.Ff=ps(this.Ff,22):this.Ff=ms(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,23)},set:function(n){n?this.Ff=ps(this.Ff,23):this.Ff=ms(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,27)},set:function(n){n?this.Ff=ps(this.Ff,27):this.Ff=ms(this.Ff,27)}}),this.hasAppearanceStream=!1};kc(nk,uh);var rk=function(){nk.call(this),this.fontName="helvetica",this.combo=!1};kc(rk,nk);var ik=function(){rk.call(this),this.combo=!0};kc(ik,rk);var gx=function(){ik.call(this),this.edit=!0};kc(gx,ik);var da=function(){uh.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,15)},set:function(n){n?this.Ff=ps(this.Ff,15):this.Ff=ms(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,16)},set:function(n){n?this.Ff=ps(this.Ff,16):this.Ff=ms(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,17)},set:function(n){n?this.Ff=ps(this.Ff,17):this.Ff=ms(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,26)},set:function(n){n?this.Ff=ps(this.Ff,26):this.Ff=ms(this.Ff,26)}});var t,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(c){return c};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(i).length!==0){var o,a=[];for(o in a.push("<<"),i)a.push("/"+o+" ("+wb(n(i[o]))+")");return a.push(">>"),a.join(`
`)}},set:function(n){qi(n)==="object"&&(i=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(n){typeof n=="string"&&(i.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};kc(da,uh);var bx=function(){da.call(this),this.pushButton=!0};kc(bx,da);var ok=function(){da.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(i){t=i!==void 0?i:[]}})};kc(ok,da);var e5=function(){var t,i;uh.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return i},set:function(a){i=a}});var n,o={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(p){return p};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var c,d=[];for(c in d.push("<<"),o)d.push("/"+c+" ("+wb(a(o[c]))+")");return d.push(">>"),d.join(`
`)},set:function(a){qi(a)==="object"&&(o=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return o.CA||""},set:function(a){typeof a=="string"&&(o.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(a){n="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=bn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};kc(e5,uh),ok.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var i in this.Kids)if(this.Kids.hasOwnProperty(i)){var n=this.Kids[i];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},ok.prototype.createOption=function(t){var i=new e5;return i.Parent=this,i.optionName=t,this.Kids.push(i),lee.call(this.scope,i),i};var kx=function(){da.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=bn.CheckBox.createAppearanceStream()};kc(kx,da);var sb=function(){uh.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,13)},set:function(i){i?this.Ff=ps(this.Ff,13):this.Ff=ms(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,21)},set:function(i){i?this.Ff=ps(this.Ff,21):this.Ff=ms(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,23)},set:function(i){i?this.Ff=ps(this.Ff,23):this.Ff=ms(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,24)},set:function(i){i?this.Ff=ps(this.Ff,24):this.Ff=ms(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,25)},set:function(i){i?this.Ff=ps(this.Ff,25):this.Ff=ms(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,26)},set:function(i){i?this.Ff=ps(this.Ff,26):this.Ff=ms(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(i){Number.isInteger(i)&&(t=i)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};kc(sb,uh);var wx=function(){sb.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!fs(this.Ff,14)},set:function(t){t?this.Ff=ps(this.Ff,14):this.Ff=ms(this.Ff,14)}}),this.password=!0};kc(wx,sb);var bn={CheckBox:{createAppearanceStream:function(){return{N:{On:bn.CheckBox.YesNormal},D:{On:bn.CheckBox.YesPushDown,Off:bn.CheckBox.OffPushDown}}},YesPushDown:function(t){var i=Hh(t);i.scope=t.scope;var n=[],o=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),c=n6(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+er(bn.internal.getWidth(t))+" "+er(bn.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+o+" "+er(c.fontSize)+" Tf "+a),n.push("BT"),n.push(c.text),n.push("ET"),n.push("Q"),n.push("EMC"),i.stream=n.join(`
`),i},YesNormal:function(t){var i=Hh(t);i.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,o=t.scope.__private__.encodeColorString(t.color),a=[],c=bn.internal.getHeight(t),d=bn.internal.getWidth(t),p=n6(t,t.caption);return a.push("1 g"),a.push("0 0 "+er(d)+" "+er(c)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+er(d-1)+" "+er(c-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+n+" "+er(p.fontSize)+" Tf "+o),a.push(p.text),a.push("ET"),a.push("Q"),i.stream=a.join(`
`),i},OffPushDown:function(t){var i=Hh(t);i.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+er(bn.internal.getWidth(t))+" "+er(bn.internal.getHeight(t))+" re"),n.push("f"),i.stream=n.join(`
`),i}},RadioButton:{Circle:{createAppearanceStream:function(t){var i={D:{Off:bn.RadioButton.Circle.OffPushDown},N:{}};return i.N[t]=bn.RadioButton.Circle.YesNormal,i.D[t]=bn.RadioButton.Circle.YesPushDown,i},getCA:function(){return"l"},YesNormal:function(t){var i=Hh(t);i.scope=t.scope;var n=[],o=bn.internal.getWidth(t)<=bn.internal.getHeight(t)?bn.internal.getWidth(t)/4:bn.internal.getHeight(t)/4;o=Number((.9*o).toFixed(5));var a=bn.internal.Bezier_C,c=Number((o*a).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Am(bn.internal.getWidth(t)/2)+" "+Am(bn.internal.getHeight(t)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+c+" "+c+" "+o+" 0 "+o+" c"),n.push("-"+c+" "+o+" -"+o+" "+c+" -"+o+" 0 c"),n.push("-"+o+" -"+c+" -"+c+" -"+o+" 0 -"+o+" c"),n.push(c+" -"+o+" "+o+" -"+c+" "+o+" 0 c"),n.push("f"),n.push("Q"),i.stream=n.join(`
`),i},YesPushDown:function(t){var i=Hh(t);i.scope=t.scope;var n=[],o=bn.internal.getWidth(t)<=bn.internal.getHeight(t)?bn.internal.getWidth(t)/4:bn.internal.getHeight(t)/4;o=Number((.9*o).toFixed(5));var a=Number((2*o).toFixed(5)),c=Number((a*bn.internal.Bezier_C).toFixed(5)),d=Number((o*bn.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Am(bn.internal.getWidth(t)/2)+" "+Am(bn.internal.getHeight(t)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+c+" "+c+" "+a+" 0 "+a+" c"),n.push("-"+c+" "+a+" -"+a+" "+c+" -"+a+" 0 c"),n.push("-"+a+" -"+c+" -"+c+" -"+a+" 0 -"+a+" c"),n.push(c+" -"+a+" "+a+" -"+c+" "+a+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Am(bn.internal.getWidth(t)/2)+" "+Am(bn.internal.getHeight(t)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+d+" "+d+" "+o+" 0 "+o+" c"),n.push("-"+d+" "+o+" -"+o+" "+d+" -"+o+" 0 c"),n.push("-"+o+" -"+d+" -"+d+" -"+o+" 0 -"+o+" c"),n.push(d+" -"+o+" "+o+" -"+d+" "+o+" 0 c"),n.push("f"),n.push("Q"),i.stream=n.join(`
`),i},OffPushDown:function(t){var i=Hh(t);i.scope=t.scope;var n=[],o=bn.internal.getWidth(t)<=bn.internal.getHeight(t)?bn.internal.getWidth(t)/4:bn.internal.getHeight(t)/4;o=Number((.9*o).toFixed(5));var a=Number((2*o).toFixed(5)),c=Number((a*bn.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Am(bn.internal.getWidth(t)/2)+" "+Am(bn.internal.getHeight(t)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+c+" "+c+" "+a+" 0 "+a+" c"),n.push("-"+c+" "+a+" -"+a+" "+c+" -"+a+" 0 c"),n.push("-"+a+" -"+c+" -"+c+" -"+a+" 0 -"+a+" c"),n.push(c+" -"+a+" "+a+" -"+c+" "+a+" 0 c"),n.push("f"),n.push("Q"),i.stream=n.join(`
`),i}},Cross:{createAppearanceStream:function(t){var i={D:{Off:bn.RadioButton.Cross.OffPushDown},N:{}};return i.N[t]=bn.RadioButton.Cross.YesNormal,i.D[t]=bn.RadioButton.Cross.YesPushDown,i},getCA:function(){return"8"},YesNormal:function(t){var i=Hh(t);i.scope=t.scope;var n=[],o=bn.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+er(bn.internal.getWidth(t)-2)+" "+er(bn.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(er(o.x1.x)+" "+er(o.x1.y)+" m"),n.push(er(o.x2.x)+" "+er(o.x2.y)+" l"),n.push(er(o.x4.x)+" "+er(o.x4.y)+" m"),n.push(er(o.x3.x)+" "+er(o.x3.y)+" l"),n.push("s"),n.push("Q"),i.stream=n.join(`
`),i},YesPushDown:function(t){var i=Hh(t);i.scope=t.scope;var n=bn.internal.calculateCross(t),o=[];return o.push("0.749023 g"),o.push("0 0 "+er(bn.internal.getWidth(t))+" "+er(bn.internal.getHeight(t))+" re"),o.push("f"),o.push("q"),o.push("1 1 "+er(bn.internal.getWidth(t)-2)+" "+er(bn.internal.getHeight(t)-2)+" re"),o.push("W"),o.push("n"),o.push(er(n.x1.x)+" "+er(n.x1.y)+" m"),o.push(er(n.x2.x)+" "+er(n.x2.y)+" l"),o.push(er(n.x4.x)+" "+er(n.x4.y)+" m"),o.push(er(n.x3.x)+" "+er(n.x3.y)+" l"),o.push("s"),o.push("Q"),i.stream=o.join(`
`),i},OffPushDown:function(t){var i=Hh(t);i.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+er(bn.internal.getWidth(t))+" "+er(bn.internal.getHeight(t))+" re"),n.push("f"),i.stream=n.join(`
`),i}}},createDefaultAppearanceStream:function(t){var i=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+i+" "+t.fontSize+" Tf "+n}};bn.internal={Bezier_C:.551915024494,calculateCross:function(t){var i=bn.internal.getWidth(t),n=bn.internal.getHeight(t),o=Math.min(i,n);return{x1:{x:(i-o)/2,y:(n-o)/2+o},x2:{x:(i-o)/2+o,y:(n-o)/2},x3:{x:(i-o)/2,y:(n-o)/2},x4:{x:(i-o)/2+o,y:(n-o)/2+o}}}},bn.internal.getWidth=function(t){var i=0;return qi(t)==="object"&&(i=xj(t.Rect[2])),i},bn.internal.getHeight=function(t){var i=0;return qi(t)==="object"&&(i=xj(t.Rect[3])),i};var lee=es.addField=function(t){if(aee(this,t),!(t instanceof uh))throw new Error("Invalid argument passed to jsPDF.addField.");var i;return(i=t).scope.internal.acroformPlugin.printedOut&&(i.scope.internal.acroformPlugin.printedOut=!1,i.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),i.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(i),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};es.AcroFormChoiceField=nk,es.AcroFormListBox=rk,es.AcroFormComboBox=ik,es.AcroFormEditBox=gx,es.AcroFormButton=da,es.AcroFormPushButton=bx,es.AcroFormRadioButton=ok,es.AcroFormCheckBox=kx,es.AcroFormTextField=sb,es.AcroFormPasswordField=wx,es.AcroFormAppearance=bn,es.AcroForm={ChoiceField:nk,ListBox:rk,ComboBox:ik,EditBox:gx,Button:da,PushButton:bx,RadioButton:ok,CheckBox:kx,TextField:sb,PasswordField:wx,Appearance:bn},Rn.AcroForm={ChoiceField:nk,ListBox:rk,ComboBox:ik,EditBox:gx,Button:da,PushButton:bx,RadioButton:ok,CheckBox:kx,TextField:sb,PasswordField:wx,Appearance:bn};Rn.AcroForm;function W7(t){return t.reduce(function(i,n,o){return i[n]=o,i},{})}(function(t){t.__addimage__={};var i="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},o=t.__addimage__.getImageFileTypeByImageData=function(X,Y){var U,q,fe,ue,de,me=i;if((Y=Y||i)==="RGBA"||X.data!==void 0&&X.data instanceof Uint8ClampedArray&&"height"in X&&"width"in X)return"RGBA";if(H(X))for(de in n)for(fe=n[de],U=0;U<fe.length;U+=1){for(ue=!0,q=0;q<fe[U].length;q+=1)if(fe[U][q]!==void 0&&fe[U][q]!==X[q]){ue=!1;break}if(ue===!0){me=de;break}}else for(de in n)for(fe=n[de],U=0;U<fe.length;U+=1){for(ue=!0,q=0;q<fe[U].length;q+=1)if(fe[U][q]!==void 0&&fe[U][q]!==X.charCodeAt(q)){ue=!1;break}if(ue===!0){me=de;break}}return me===i&&Y!==i&&(me=Y),me},a=function X(Y){for(var U=this.internal.write,q=this.internal.putStream,fe=(0,this.internal.getFilters)();fe.indexOf("FlateEncode")!==-1;)fe.splice(fe.indexOf("FlateEncode"),1);Y.objectId=this.internal.newObject();var ue=[];if(ue.push({key:"Type",value:"/XObject"}),ue.push({key:"Subtype",value:"/Image"}),ue.push({key:"Width",value:Y.width}),ue.push({key:"Height",value:Y.height}),Y.colorSpace===j.INDEXED?ue.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(Y.palette.length/3-1)+" "+("sMask"in Y&&Y.sMask!==void 0?Y.objectId+2:Y.objectId+1)+" 0 R]"}):(ue.push({key:"ColorSpace",value:"/"+Y.colorSpace}),Y.colorSpace===j.DEVICE_CMYK&&ue.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ue.push({key:"BitsPerComponent",value:Y.bitsPerComponent}),"decodeParameters"in Y&&Y.decodeParameters!==void 0&&ue.push({key:"DecodeParms",value:"<<"+Y.decodeParameters+">>"}),"transparency"in Y&&Array.isArray(Y.transparency)){for(var de="",me=0,Me=Y.transparency.length;me<Me;me++)de+=Y.transparency[me]+" "+Y.transparency[me]+" ";ue.push({key:"Mask",value:"["+de+"]"})}Y.sMask!==void 0&&ue.push({key:"SMask",value:Y.objectId+1+" 0 R"});var ce=Y.filter!==void 0?["/"+Y.filter]:void 0;if(q({data:Y.data,additionalKeyValues:ue,alreadyAppliedFilters:ce,objectId:Y.objectId}),U("endobj"),"sMask"in Y&&Y.sMask!==void 0){var Ie="/Predictor "+Y.predictor+" /Colors 1 /BitsPerComponent "+Y.bitsPerComponent+" /Columns "+Y.width,re={width:Y.width,height:Y.height,colorSpace:"DeviceGray",bitsPerComponent:Y.bitsPerComponent,decodeParameters:Ie,data:Y.sMask};"filter"in Y&&(re.filter=Y.filter),X.call(this,re)}if(Y.colorSpace===j.INDEXED){var te=this.internal.newObject();q({data:Q(new Uint8Array(Y.palette)),objectId:te}),U("endobj")}},c=function(){var X=this.internal.collections.addImage_images;for(var Y in X)a.call(this,X[Y])},d=function(){var X,Y=this.internal.collections.addImage_images,U=this.internal.write;for(var q in Y)U("/I"+(X=Y[q]).index,X.objectId,"0","R")},p=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",d))},m=function(){var X=this.internal.collections.addImage_images;return p.call(this),X},k=function(){return Object.keys(this.internal.collections.addImage_images).length},v=function(X){return typeof t["process"+X.toUpperCase()]=="function"},_=function(X){return qi(X)==="object"&&X.nodeType===1},x=function(X,Y){if(X.nodeName==="IMG"&&X.hasAttribute("src")){var U=""+X.getAttribute("src");if(U.indexOf("data:image/")===0)return Sy(unescape(U).split("base64,").pop());var q=t.loadFile(U,!0);if(q!==void 0)return q}if(X.nodeName==="CANVAS"){if(X.width===0||X.height===0)throw new Error("Given canvas must have data. Canvas width: "+X.width+", height: "+X.height);var fe;switch(Y){case"PNG":fe="image/png";break;case"WEBP":fe="image/webp";break;case"JPEG":case"JPG":default:fe="image/jpeg"}return Sy(X.toDataURL(fe,1).split("base64,").pop())}},y=function(X){var Y=this.internal.collections.addImage_images;if(Y){for(var U in Y)if(X===Y[U].alias)return Y[U]}},D=function(X,Y,U){return X||Y||(X=-96,Y=-96),X<0&&(X=-1*U.width*72/X/this.internal.scaleFactor),Y<0&&(Y=-1*U.height*72/Y/this.internal.scaleFactor),X===0&&(X=Y*U.width/U.height),Y===0&&(Y=X*U.height/U.width),[X,Y]},E=function(X,Y,U,q,fe,ue){var de=D.call(this,U,q,fe),me=this.internal.getCoordinateString,Me=this.internal.getVerticalCoordinateString,ce=m.call(this);if(U=de[0],q=de[1],ce[fe.index]=fe,ue){ue*=Math.PI/180;var Ie=Math.cos(ue),re=Math.sin(ue),te=function(be){return be.toFixed(4)},ke=[te(Ie),te(re),te(-1*re),te(Ie),0,0,"cm"]}this.internal.write("q"),ue?(this.internal.write([1,"0","0",1,me(X),Me(Y+q),"cm"].join(" ")),this.internal.write(ke.join(" ")),this.internal.write([me(U),"0","0",me(q),"0","0","cm"].join(" "))):this.internal.write([me(U),"0","0",me(q),me(X),Me(Y+q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+fe.index+" Do"),this.internal.write("Q")},j=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var M=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},B=t.__addimage__.sHashCode=function(X){var Y,U,q=0;if(typeof X=="string")for(U=X.length,Y=0;Y<U;Y++)q=(q<<5)-q+X.charCodeAt(Y),q|=0;else if(H(X))for(U=X.byteLength/2,Y=0;Y<U;Y++)q=(q<<5)-q+X[Y],q|=0;return q},z=t.__addimage__.validateStringAsBase64=function(X){(X=X||"").toString().trim();var Y=!0;return X.length===0&&(Y=!1),X.length%4!=0&&(Y=!1),/^[A-Za-z0-9+/]+$/.test(X.substr(0,X.length-2))===!1&&(Y=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(X.substr(-2))===!1&&(Y=!1),Y},G=t.__addimage__.extractImageFromDataUrl=function(X){if(X==null||!(X=X.trim()).startsWith("data:"))return null;var Y=X.indexOf(",");return Y<0?null:X.substring(0,Y).trim().endsWith("base64")?X.substring(Y+1):null},J=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(X){return J()&&X instanceof ArrayBuffer};var H=t.__addimage__.isArrayBufferView=function(X){return J()&&typeof Uint32Array<"u"&&(X instanceof Int8Array||X instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&X instanceof Uint8ClampedArray||X instanceof Int16Array||X instanceof Uint16Array||X instanceof Int32Array||X instanceof Uint32Array||X instanceof Float32Array||X instanceof Float64Array)},F=t.__addimage__.binaryStringToUint8Array=function(X){for(var Y=X.length,U=new Uint8Array(Y),q=0;q<Y;q++)U[q]=X.charCodeAt(q);return U},Q=t.__addimage__.arrayBufferToBinaryString=function(X){for(var Y="",U=H(X)?X:new Uint8Array(X),q=0;q<U.length;q+=8192)Y+=String.fromCharCode.apply(null,U.subarray(q,q+8192));return Y};t.addImage=function(){var X,Y,U,q,fe,ue,de,me,Me;if(typeof arguments[1]=="number"?(Y=i,U=arguments[1],q=arguments[2],fe=arguments[3],ue=arguments[4],de=arguments[5],me=arguments[6],Me=arguments[7]):(Y=arguments[1],U=arguments[2],q=arguments[3],fe=arguments[4],ue=arguments[5],de=arguments[6],me=arguments[7],Me=arguments[8]),qi(X=arguments[0])==="object"&&!_(X)&&"imageData"in X){var ce=X;X=ce.imageData,Y=ce.format||Y||i,U=ce.x||U||0,q=ce.y||q||0,fe=ce.w||ce.width||fe,ue=ce.h||ce.height||ue,de=ce.alias||de,me=ce.compression||me,Me=ce.rotation||ce.angle||Me}var Ie=this.internal.getFilters();if(me===void 0&&Ie.indexOf("FlateEncode")!==-1&&(me="SLOW"),isNaN(U)||isNaN(q))throw new Error("Invalid coordinates passed to jsPDF.addImage");p.call(this);var re=Z.call(this,X,Y,de,me);return E.call(this,U,q,fe,ue,re,Me),this};var Z=function(X,Y,U,q){var fe,ue,de;if(typeof X=="string"&&o(X)===i){X=unescape(X);var me=ae(X,!1);(me!==""||(me=t.loadFile(X,!0))!==void 0)&&(X=me)}if(_(X)&&(X=x(X,Y)),Y=o(X,Y),!v(Y))throw new Error("addImage does not support files of type '"+Y+"', please ensure that a plugin for '"+Y+"' support is added.");if(((de=U)==null||de.length===0)&&(U=function(Me){return typeof Me=="string"||H(Me)?B(Me):H(Me.data)?B(Me.data):null}(X)),(fe=y.call(this,U))||(J()&&(X instanceof Uint8Array||Y==="RGBA"||(ue=X,X=F(X))),fe=this["process"+Y.toUpperCase()](X,k.call(this),U,function(Me){return Me&&typeof Me=="string"&&(Me=Me.toUpperCase()),Me in t.image_compression?Me:M.NONE}(q),ue)),!fe)throw new Error("An unknown error occurred whilst processing the image.");return fe},ae=t.__addimage__.convertBase64ToBinaryString=function(X,Y){Y=typeof Y!="boolean"||Y;var U,q="";if(typeof X=="string"){var fe;U=(fe=G(X))!==null&&fe!==void 0?fe:X;try{q=Sy(U)}catch(ue){if(Y)throw z(U)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ue.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return q};t.getImageProperties=function(X){var Y,U,q="";if(_(X)&&(X=x(X)),typeof X=="string"&&o(X)===i&&((q=ae(X,!1))===""&&(q=t.loadFile(X)||""),X=q),U=o(X),!v(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(!J()||X instanceof Uint8Array||(X=F(X)),!(Y=this["process"+U.toUpperCase()](X)))throw new Error("An unknown error occurred whilst processing the image");return Y.fileType=U,Y}})(Rn.API),function(t){var i=function(n){if(n!==void 0&&n!="")return!0};Rn.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var o,a,c,d=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString,m=this.internal.getPageInfoByObjId(n.objId),k=n.pageContext.annotations,v=!1,_=0;_<k.length&&!v;_++)switch((o=k[_]).type){case"link":(i(o.options.url)||i(o.options.pageNumber))&&(v=!0);break;case"reference":case"text":case"freetext":v=!0}if(v!=0){this.internal.write("/Annots [");for(var x=0;x<k.length;x++){o=k[x];var y=this.internal.pdfEscape,D=this.internal.getEncryptor(n.objId);switch(o.type){case"reference":this.internal.write(" "+o.object.objId+" 0 R ");break;case"text":var E=this.internal.newAdditionalObject(),j=this.internal.newAdditionalObject(),M=this.internal.getEncryptor(E.objId),B=o.title||"Note";c="<</Type /Annot /Subtype /Text "+(a="/Rect ["+d(o.bounds.x)+" "+p(o.bounds.y+o.bounds.h)+" "+d(o.bounds.x+o.bounds.w)+" "+p(o.bounds.y)+"] ")+"/Contents ("+y(M(o.contents))+")",c+=" /Popup "+j.objId+" 0 R",c+=" /P "+m.objId+" 0 R",c+=" /T ("+y(M(B))+") >>",E.content=c;var z=E.objId+" 0 R";c="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+d(o.bounds.x+30)+" "+p(o.bounds.y+o.bounds.h)+" "+d(o.bounds.x+o.bounds.w+30)+" "+p(o.bounds.y)+"] ")+" /Parent "+z,o.open&&(c+=" /Open true"),c+=" >>",j.content=c,this.internal.write(E.objId,"0 R",j.objId,"0 R");break;case"freetext":a="/Rect ["+d(o.bounds.x)+" "+p(o.bounds.y)+" "+d(o.bounds.x+o.bounds.w)+" "+p(o.bounds.y+o.bounds.h)+"] ";var G=o.color||"#000000";c="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+y(D(o.contents))+")",c+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+G+")",c+=" /Border [0 0 0]",c+=" >>",this.internal.write(c);break;case"link":if(o.options.name){var J=this.annotations._nameMap[o.options.name];o.options.pageNumber=J.page,o.options.top=J.y}else o.options.top||(o.options.top=0);if(a="/Rect ["+o.finalBounds.x+" "+o.finalBounds.y+" "+o.finalBounds.w+" "+o.finalBounds.h+"] ",c="",o.options.url)c="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+y(D(o.options.url))+") >>";else if(o.options.pageNumber)switch(c="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(o.options.pageNumber).objId+" 0 R",o.options.magFactor=o.options.magFactor||"XYZ",o.options.magFactor){case"Fit":c+=" /Fit]";break;case"FitH":c+=" /FitH "+o.options.top+"]";break;case"FitV":o.options.left=o.options.left||0,c+=" /FitV "+o.options.left+"]";break;case"XYZ":default:var H=p(o.options.top);o.options.left=o.options.left||0,o.options.zoom===void 0&&(o.options.zoom=0),c+=" /XYZ "+o.options.left+" "+H+" "+o.options.zoom+"]"}c!=""&&(c+=" >>",this.internal.write(c))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var o=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":o.pageContext.annotations.push(n)}},t.link=function(n,o,a,c,d){var p=this.internal.getCurrentPageInfo(),m=this.internal.getCoordinateString,k=this.internal.getVerticalCoordinateString;p.pageContext.annotations.push({finalBounds:{x:m(n),y:k(o),w:m(n+a),h:k(o+c)},options:d,type:"link"})},t.textWithLink=function(n,o,a,c){var d,p,m=this.getTextWidth(n),k=this.internal.getLineHeight()/this.internal.scaleFactor;if(c.maxWidth!==void 0){p=c.maxWidth;var v=this.splitTextToSize(n,p).length;d=Math.ceil(k*v)}else p=m,d=k;return this.text(n,o,a,c),a+=.2*k,c.align==="center"&&(o-=m/2),c.align==="right"&&(o-=m),this.link(o,a-k,p,d,c),m},t.getTextWidth=function(n){var o=this.internal.getFontSize();return this.getStringUnitWidth(n)*o/this.internal.scaleFactor}}(Rn.API),function(t){var i={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},o={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var c=t.__arabicParser__.isInArabicSubstitutionA=function(E){return i[E.charCodeAt(0)]!==void 0},d=t.__arabicParser__.isArabicLetter=function(E){return typeof E=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(E)},p=t.__arabicParser__.isArabicEndLetter=function(E){return d(E)&&c(E)&&i[E.charCodeAt(0)].length<=2},m=t.__arabicParser__.isArabicAlfLetter=function(E){return d(E)&&a.indexOf(E.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(E){return d(E)&&c(E)&&i[E.charCodeAt(0)].length>=1};var k=t.__arabicParser__.arabicLetterHasFinalForm=function(E){return d(E)&&c(E)&&i[E.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(E){return d(E)&&c(E)&&i[E.charCodeAt(0)].length>=3};var v=t.__arabicParser__.arabicLetterHasMedialForm=function(E){return d(E)&&c(E)&&i[E.charCodeAt(0)].length==4},_=t.__arabicParser__.resolveLigatures=function(E){var j=0,M=n,B="",z=0;for(j=0;j<E.length;j+=1)M[E.charCodeAt(j)]!==void 0?(z++,typeof(M=M[E.charCodeAt(j)])=="number"&&(B+=String.fromCharCode(M),M=n,z=0),j===E.length-1&&(M=n,B+=E.charAt(j-(z-1)),j-=z-1,z=0)):(M=n,B+=E.charAt(j-z),j-=z,z=0);return B};t.__arabicParser__.isArabicDiacritic=function(E){return E!==void 0&&o[E.charCodeAt(0)]!==void 0};var x=t.__arabicParser__.getCorrectForm=function(E,j,M){return d(E)?c(E)===!1?-1:!k(E)||!d(j)&&!d(M)||!d(M)&&p(j)||p(E)&&!d(j)||p(E)&&m(j)||p(E)&&p(j)?0:v(E)&&d(j)&&!p(j)&&d(M)&&k(M)?3:p(E)||!d(M)?1:2:-1},y=function(E){var j=0,M=0,B=0,z="",G="",J="",H=(E=E||"").split("\\s+"),F=[];for(j=0;j<H.length;j+=1){for(F.push(""),M=0;M<H[j].length;M+=1)z=H[j][M],G=H[j][M-1],J=H[j][M+1],d(z)?(B=x(z,G,J),F[j]+=B!==-1?String.fromCharCode(i[z.charCodeAt(0)][B]):z):F[j]+=z;F[j]=_(F[j])}return F.join(" ")},D=t.__arabicParser__.processArabic=t.processArabic=function(){var E,j=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,M=[];if(Array.isArray(j)){var B=0;for(M=[],B=0;B<j.length;B+=1)Array.isArray(j[B])?M.push([y(j[B][0]),j[B][1],j[B][2]]):M.push([y(j[B])]);E=M}else E=y(j);return typeof arguments[0]=="string"?E:(arguments[0].text=E,arguments[0])};t.events.push(["preProcessText",D])}(Rn.API),Rn.API.autoPrint=function(t){var i;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){i=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+i+" 0 R")})}return this},function(t){var i=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(p){n=p}});var o=150;Object.defineProperty(this,"width",{get:function(){return o},set:function(p){o=isNaN(p)||Number.isInteger(p)===!1||p<0?150:p,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=o+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(p){a=isNaN(p)||Number.isInteger(p)===!1||p<0?300:p,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var c=[];Object.defineProperty(this,"childNodes",{get:function(){return c},set:function(p){c=p}});var d={};Object.defineProperty(this,"style",{get:function(){return d},set:function(p){d=p}}),Object.defineProperty(this,"parentNode",{})};i.prototype.getContext=function(n,o){var a;if((n=n||"2d")!=="2d")return null;for(a in o)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=o[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},i.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new i,this.canvas.pdf=this}])}(Rn.API),function(t){var i={left:0,top:0,bottom:0,right:0},n=!1,o=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},i),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new c,this.internal.__cell__.pages=1},c=function(){var m=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return m},set:function(E){m=E}});var k=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return k},set:function(E){k=E}});var v=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return v},set:function(E){v=E}});var _=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return _},set:function(E){_=E}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(E){x=E}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(E){y=E}});var D=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return D},set:function(E){D=E}}),this};c.prototype.clone=function(){return new c(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},c.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(m){return o.call(this),this.internal.__cell__.headerFunction=typeof m=="function"?m:void 0,this},t.getTextDimensions=function(m,k){o.call(this);var v=(k=k||{}).fontSize||this.getFontSize(),_=k.font||this.getFont(),x=k.scaleFactor||this.internal.scaleFactor,y=0,D=0,E=0,j=this;if(!Array.isArray(m)&&typeof m!="string"){if(typeof m!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");m=String(m)}var M=k.maxWidth;M>0?typeof m=="string"?m=this.splitTextToSize(m,M):Object.prototype.toString.call(m)==="[object Array]"&&(m=m.reduce(function(z,G){return z.concat(j.splitTextToSize(G,M))},[])):m=Array.isArray(m)?m:[m];for(var B=0;B<m.length;B++)y<(E=this.getStringUnitWidth(m[B],{font:_})*v)&&(y=E);return y!==0&&(D=m.length),{w:y/=x,h:Math.max((D*v*this.getLineHeightFactor()-v*(this.getLineHeightFactor()-1))/x,0)}},t.cellAddPage=function(){o.call(this),this.addPage();var m=this.internal.__cell__.margins||i;return this.internal.__cell__.lastCell=new c(m.left,m.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var d=t.cell=function(){var m;m=arguments[0]instanceof c?arguments[0]:new c(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),o.call(this);var k=this.internal.__cell__.lastCell,v=this.internal.__cell__.padding,_=this.internal.__cell__.margins||i,x=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return k.lineNumber!==void 0&&(k.lineNumber===m.lineNumber?(m.x=(k.x||0)+(k.width||0),m.y=k.y||0):k.y+k.height+m.height+_.bottom>this.getPageHeight()?(this.cellAddPage(),m.y=_.top,y&&x&&(this.printHeaderRow(m.lineNumber,!0),m.y+=x[0].height)):m.y=k.y+k.height||m.y),m.text[0]!==void 0&&(this.rect(m.x,m.y,m.width,m.height,n===!0?"FD":void 0),m.align==="right"?this.text(m.text,m.x+m.width-v,m.y+v,{align:"right",baseline:"top"}):m.align==="center"?this.text(m.text,m.x+m.width/2,m.y+v,{align:"center",baseline:"top",maxWidth:m.width-v-v}):this.text(m.text,m.x+v,m.y+v,{align:"left",baseline:"top",maxWidth:m.width-v-v})),this.internal.__cell__.lastCell=m,this};t.table=function(m,k,v,_,x){if(o.call(this),!v)throw new Error("No data for PDF table.");var y,D,E,j,M=[],B=[],z=[],G={},J={},H=[],F=[],Q=(x=x||{}).autoSize||!1,Z=x.printHeaders!==!1,ae=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,X=x.margins||Object.assign({width:this.getPageWidth()},i),Y=typeof x.padding=="number"?x.padding:3,U=x.headerBackgroundColor||"#c8c8c8",q=x.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=Z,this.internal.__cell__.margins=X,this.internal.__cell__.table_font_size=ae,this.internal.__cell__.padding=Y,this.internal.__cell__.headerBackgroundColor=U,this.internal.__cell__.headerTextColor=q,this.setFontSize(ae),_==null)B=M=Object.keys(v[0]),z=M.map(function(){return"left"});else if(Array.isArray(_)&&qi(_[0])==="object")for(M=_.map(function(ce){return ce.name}),B=_.map(function(ce){return ce.prompt||ce.name||""}),z=_.map(function(ce){return ce.align||"left"}),y=0;y<_.length;y+=1)J[_[y].name]=_[y].width*(19.049976/25.4);else Array.isArray(_)&&typeof _[0]=="string"&&(B=M=_,z=M.map(function(){return"left"}));if(Q||Array.isArray(_)&&typeof _[0]=="string")for(y=0;y<M.length;y+=1){for(G[j=M[y]]=v.map(function(ce){return ce[j]}),this.setFont(void 0,"bold"),H.push(this.getTextDimensions(B[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),D=G[j],this.setFont(void 0,"normal"),E=0;E<D.length;E+=1)H.push(this.getTextDimensions(D[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);J[j]=Math.max.apply(null,H)+Y+Y,H=[]}if(Z){var fe={};for(y=0;y<M.length;y+=1)fe[M[y]]={},fe[M[y]].text=B[y],fe[M[y]].align=z[y];var ue=p.call(this,fe,J);F=M.map(function(ce){return new c(m,k,J[ce],ue,fe[ce].text,void 0,fe[ce].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var de=_.reduce(function(ce,Ie){return ce[Ie.name]=Ie.align,ce},{});for(y=0;y<v.length;y+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:y,data:v[y]},this);var me=p.call(this,v[y],J);for(E=0;E<M.length;E+=1){var Me=v[y][M[E]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:y,col:E,data:Me},this),d.call(this,new c(m,k,J[M[E]],me,Me,y+2,de[M[E]]))}}return this.internal.__cell__.table_x=m,this.internal.__cell__.table_y=k,this};var p=function(m,k){var v=this.internal.__cell__.padding,_=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(m).map(function(y){var D=m[y];return this.splitTextToSize(D.hasOwnProperty("text")?D.text:D,k[y]-v-v)},this).map(function(y){return this.getLineHeightFactor()*y.length*_/x+v+v},this).reduce(function(y,D){return Math.max(y,D)},0)};t.setTableHeaderRow=function(m){o.call(this),this.internal.__cell__.tableHeaderRow=m},t.printHeaderRow=function(m,k){if(o.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var v;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var _=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new c(_[0],_[1],_[2],_[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){v=this.internal.__cell__.tableHeaderRow[y].clone(),k&&(v.y=this.internal.__cell__.margins.top||0,x.push(v)),v.lineNumber=m;var D=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),d.call(this,v),this.setTextColor(D)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),n=!1}}(Rn.API);var G7={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Y7=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],r6=W7(Y7),K7=[100,200,300,400,500,600,700,800,900],cee=W7(K7);function i6(t){var i=t.family.replace(/"|'/g,"").toLowerCase(),n=function(c){return G7[c=c||"normal"]?c:"normal"}(t.style),o=function(c){if(!c)return 400;if(typeof c=="number")return c>=100&&c<=900&&c%100==0?c:400;if(/^\d00$/.test(c))return parseInt(c);switch(c){case"bold":return 700;case"normal":default:return 400}}(t.weight),a=function(c){return typeof r6[c=c||"normal"]=="number"?c:"normal"}(t.stretch);return{family:i,style:n,weight:o,stretch:a,src:t.src||[],ref:t.ref||{name:i,style:[a,n,o].join(" ")}}}function Sj(t,i,n,o){var a;for(a=n;a>=0&&a<i.length;a+=o)if(t[i[a]])return t[i[a]];for(a=n;a>=0&&a<i.length;a-=o)if(t[i[a]])return t[i[a]]}var uee={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Ej={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Dj(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function dee(t,i,n){for(var o=(n=n||{}).defaultFontFamily||"times",a=Object.assign({},uee,n.genericFontFamilies||{}),c=null,d=null,p=0;p<i.length;++p)if(a[(c=i6(i[p])).family]&&(c.family=a[c.family]),t.hasOwnProperty(c.family)){d=t[c.family];break}if(!(d=d||t[o]))throw new Error("Could not find a font-family for the rule '"+Dj(c)+"' and default family '"+o+"'.");if(d=function(m,k){if(k[m])return k[m];var v=r6[m],_=v<=r6.normal?-1:1,x=Sj(k,Y7,v,_);if(!x)throw new Error("Could not find a matching font-stretch value for "+m);return x}(c.stretch,d),d=function(m,k){if(k[m])return k[m];for(var v=G7[m],_=0;_<v.length;++_)if(k[v[_]])return k[v[_]];throw new Error("Could not find a matching font-style for "+m)}(c.style,d),!(d=function(m,k){if(k[m])return k[m];if(m===400&&k[500])return k[500];if(m===500&&k[400])return k[400];var v=cee[m],_=Sj(k,K7,v,m<400?-1:1);if(!_)throw new Error("Could not find a matching font-weight for value "+m);return _}(c.weight,d)))throw new Error("Failed to resolve a font for the rule '"+Dj(c)+"'.");return d}function Ij(t){return t.trimLeft()}function hee(t,i){for(var n=0;n<t.length;){if(t.charAt(n)===i)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function fee(t){var i=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return i===null?null:[i[0],t.substring(i[0].length)]}var J2,Tj,Mj,XE=["times"];(function(t){var i,n,o,a,c,d,p,m,k,v=function(re){return re=re||{},this.isStrokeTransparent=re.isStrokeTransparent||!1,this.strokeOpacity=re.strokeOpacity||1,this.strokeStyle=re.strokeStyle||"#000000",this.fillStyle=re.fillStyle||"#000000",this.isFillTransparent=re.isFillTransparent||!1,this.fillOpacity=re.fillOpacity||1,this.font=re.font||"10px sans-serif",this.textBaseline=re.textBaseline||"alphabetic",this.textAlign=re.textAlign||"left",this.lineWidth=re.lineWidth||1,this.lineJoin=re.lineJoin||"miter",this.lineCap=re.lineCap||"butt",this.path=re.path||[],this.transform=re.transform!==void 0?re.transform.clone():new m,this.globalCompositeOperation=re.globalCompositeOperation||"normal",this.globalAlpha=re.globalAlpha||1,this.clip_path=re.clip_path||[],this.currentPoint=re.currentPoint||new d,this.miterLimit=re.miterLimit||10,this.lastPoint=re.lastPoint||new d,this.lineDashOffset=re.lineDashOffset||0,this.lineDash=re.lineDash||[],this.margin=re.margin||[0,0,0,0],this.prevPageLastElemOffset=re.prevPageLastElemOffset||0,this.ignoreClearRect=typeof re.ignoreClearRect!="boolean"||re.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new _(this),i=this.internal.f2,n=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,c=this.internal.getVerticalCoordinate,d=this.internal.Point,p=this.internal.Rectangle,m=this.internal.Matrix,k=new v}]);var _=function(re){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var te=re;Object.defineProperty(this,"pdf",{get:function(){return te}});var ke=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ke},set:function(Pe){ke=!!Pe}});var be=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return be},set:function(Pe){be=!!Pe}});var ve=0;Object.defineProperty(this,"posX",{get:function(){return ve},set:function(Pe){isNaN(Pe)||(ve=Pe)}});var Re=0;Object.defineProperty(this,"posY",{get:function(){return Re},set:function(Pe){isNaN(Pe)||(Re=Pe)}}),Object.defineProperty(this,"margin",{get:function(){return k.margin},set:function(Pe){var we;typeof Pe=="number"?we=[Pe,Pe,Pe,Pe]:((we=new Array(4))[0]=Pe[0],we[1]=Pe.length>=2?Pe[1]:we[0],we[2]=Pe.length>=3?Pe[2]:we[0],we[3]=Pe.length>=4?Pe[3]:we[1]),k.margin=we}});var Be=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Be},set:function(Pe){Be=Pe}});var Ue=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ue},set:function(Pe){Ue=Pe}});var Ze=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ze},set:function(Pe){Ze=Pe}}),Object.defineProperty(this,"ctx",{get:function(){return k},set:function(Pe){Pe instanceof v&&(k=Pe)}}),Object.defineProperty(this,"path",{get:function(){return k.path},set:function(Pe){k.path=Pe}});var Ge=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ge},set:function(Pe){Ge=Pe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Pe){var we;we=x(Pe),this.ctx.fillStyle=we.style,this.ctx.isFillTransparent=we.a===0,this.ctx.fillOpacity=we.a,this.pdf.setFillColor(we.r,we.g,we.b,{a:we.a}),this.pdf.setTextColor(we.r,we.g,we.b,{a:we.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Pe){var we=x(Pe);this.ctx.strokeStyle=we.style,this.ctx.isStrokeTransparent=we.a===0,this.ctx.strokeOpacity=we.a,we.a===0?this.pdf.setDrawColor(255,255,255):(we.a,this.pdf.setDrawColor(we.r,we.g,we.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Pe){["butt","round","square"].indexOf(Pe)!==-1&&(this.ctx.lineCap=Pe,this.pdf.setLineCap(Pe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Pe){isNaN(Pe)||(this.ctx.lineWidth=Pe,this.pdf.setLineWidth(Pe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Pe){["bevel","round","miter"].indexOf(Pe)!==-1&&(this.ctx.lineJoin=Pe,this.pdf.setLineJoin(Pe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Pe){isNaN(Pe)||(this.ctx.miterLimit=Pe,this.pdf.setMiterLimit(Pe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Pe){this.ctx.textBaseline=Pe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Pe){["right","end","center","left","start"].indexOf(Pe)!==-1&&(this.ctx.textAlign=Pe)}});var ft=null;function gt(Pe,we){if(ft===null){var De=function(Ae){var Oe=[];return Object.keys(Ae).forEach(function(Ke){Ae[Ke].forEach(function(Xe){var Fe=null;switch(Xe){case"bold":Fe={family:Ke,weight:"bold"};break;case"italic":Fe={family:Ke,style:"italic"};break;case"bolditalic":Fe={family:Ke,weight:"bold",style:"italic"};break;case"":case"normal":Fe={family:Ke}}Fe!==null&&(Fe.ref={name:Ke,style:Xe},Oe.push(Fe))})}),Oe}(Pe.getFontList());ft=function(Ae){for(var Oe={},Ke=0;Ke<Ae.length;++Ke){var Xe=i6(Ae[Ke]),Fe=Xe.family,dt=Xe.stretch,wt=Xe.style,ot=Xe.weight;Oe[Fe]=Oe[Fe]||{},Oe[Fe][dt]=Oe[Fe][dt]||{},Oe[Fe][dt][wt]=Oe[Fe][dt][wt]||{},Oe[Fe][dt][wt][ot]=Xe}return Oe}(De.concat(we))}return ft}var oe=null;Object.defineProperty(this,"fontFaces",{get:function(){return oe},set:function(Pe){ft=null,oe=Pe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Pe){var we;if(this.ctx.font=Pe,(we=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Pe))!==null){var De=we[1];we[2];var Ae=we[3],Oe=we[4];we[5];var Ke=we[6],Xe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Oe)[2];Oe=Math.floor(Xe==="px"?parseFloat(Oe)*this.pdf.internal.scaleFactor:Xe==="em"?parseFloat(Oe)*this.pdf.getFontSize():parseFloat(Oe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Oe);var Fe=function(kt){var Yt,yt,Bn=[],on=kt.trim();if(on==="")return XE;if(on in Ej)return[Ej[on]];for(;on!=="";){switch(yt=null,Yt=(on=Ij(on)).charAt(0)){case'"':case"'":yt=hee(on.substring(1),Yt);break;default:yt=fee(on)}if(yt===null||(Bn.push(yt[0]),(on=Ij(yt[1]))!==""&&on.charAt(0)!==","))return XE;on=on.replace(/^,/,"")}return Bn}(Ke);if(this.fontFaces){var dt=dee(gt(this.pdf,this.fontFaces),Fe.map(function(kt){return{family:kt,stretch:"normal",weight:Ae,style:De}}));this.pdf.setFont(dt.ref.name,dt.ref.style)}else{var wt="";(Ae==="bold"||parseInt(Ae,10)>=700||De==="bold")&&(wt="bold"),De==="italic"&&(wt+="italic"),wt.length===0&&(wt="normal");for(var ot="",pt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},He=0;He<Fe.length;He++){if(this.pdf.internal.getFont(Fe[He],wt,{noFallback:!0,disableWarning:!0})!==void 0){ot=Fe[He];break}if(wt==="bolditalic"&&this.pdf.internal.getFont(Fe[He],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ot=Fe[He],wt="bold";else if(this.pdf.internal.getFont(Fe[He],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ot=Fe[He],wt="normal";break}}if(ot===""){for(var at=0;at<Fe.length;at++)if(pt[Fe[at]]){ot=pt[Fe[at]];break}}ot=ot===""?"Times":ot,this.pdf.setFont(ot,wt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Pe){this.ctx.globalCompositeOperation=Pe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Pe){this.ctx.globalAlpha=Pe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Pe){this.ctx.lineDashOffset=Pe,Ie.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Pe){this.ctx.lineDash=Pe,Ie.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Pe){this.ctx.ignoreClearRect=!!Pe}})};_.prototype.setLineDash=function(re){this.lineDash=re},_.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},_.prototype.fill=function(){G.call(this,"fill",!1)},_.prototype.stroke=function(){G.call(this,"stroke",!1)},_.prototype.beginPath=function(){this.path=[{type:"begin"}]},_.prototype.moveTo=function(re,te){if(isNaN(re)||isNaN(te))throw Ui.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ke=this.ctx.transform.applyToPoint(new d(re,te));this.path.push({type:"mt",x:ke.x,y:ke.y}),this.ctx.lastPoint=new d(re,te)},_.prototype.closePath=function(){var re=new d(0,0),te=0;for(te=this.path.length-1;te!==-1;te--)if(this.path[te].type==="begin"&&qi(this.path[te+1])==="object"&&typeof this.path[te+1].x=="number"){re=new d(this.path[te+1].x,this.path[te+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new d(re.x,re.y)},_.prototype.lineTo=function(re,te){if(isNaN(re)||isNaN(te))throw Ui.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ke=this.ctx.transform.applyToPoint(new d(re,te));this.path.push({type:"lt",x:ke.x,y:ke.y}),this.ctx.lastPoint=new d(ke.x,ke.y)},_.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),G.call(this,null,!0)},_.prototype.quadraticCurveTo=function(re,te,ke,be){if(isNaN(ke)||isNaN(be)||isNaN(re)||isNaN(te))throw Ui.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ve=this.ctx.transform.applyToPoint(new d(ke,be)),Re=this.ctx.transform.applyToPoint(new d(re,te));this.path.push({type:"qct",x1:Re.x,y1:Re.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new d(ve.x,ve.y)},_.prototype.bezierCurveTo=function(re,te,ke,be,ve,Re){if(isNaN(ve)||isNaN(Re)||isNaN(re)||isNaN(te)||isNaN(ke)||isNaN(be))throw Ui.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Be=this.ctx.transform.applyToPoint(new d(ve,Re)),Ue=this.ctx.transform.applyToPoint(new d(re,te)),Ze=this.ctx.transform.applyToPoint(new d(ke,be));this.path.push({type:"bct",x1:Ue.x,y1:Ue.y,x2:Ze.x,y2:Ze.y,x:Be.x,y:Be.y}),this.ctx.lastPoint=new d(Be.x,Be.y)},_.prototype.arc=function(re,te,ke,be,ve,Re){if(isNaN(re)||isNaN(te)||isNaN(ke)||isNaN(be)||isNaN(ve))throw Ui.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Re=!!Re,!this.ctx.transform.isIdentity){var Be=this.ctx.transform.applyToPoint(new d(re,te));re=Be.x,te=Be.y;var Ue=this.ctx.transform.applyToPoint(new d(0,ke)),Ze=this.ctx.transform.applyToPoint(new d(0,0));ke=Math.sqrt(Math.pow(Ue.x-Ze.x,2)+Math.pow(Ue.y-Ze.y,2))}Math.abs(ve-be)>=2*Math.PI&&(be=0,ve=2*Math.PI),this.path.push({type:"arc",x:re,y:te,radius:ke,startAngle:be,endAngle:ve,counterclockwise:Re})},_.prototype.arcTo=function(re,te,ke,be,ve){throw new Error("arcTo not implemented.")},_.prototype.rect=function(re,te,ke,be){if(isNaN(re)||isNaN(te)||isNaN(ke)||isNaN(be))throw Ui.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(re,te),this.lineTo(re+ke,te),this.lineTo(re+ke,te+be),this.lineTo(re,te+be),this.lineTo(re,te),this.lineTo(re+ke,te),this.lineTo(re,te)},_.prototype.fillRect=function(re,te,ke,be){if(isNaN(re)||isNaN(te)||isNaN(ke)||isNaN(be))throw Ui.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var ve={};this.lineCap!=="butt"&&(ve.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ve.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(re,te,ke,be),this.fill(),ve.hasOwnProperty("lineCap")&&(this.lineCap=ve.lineCap),ve.hasOwnProperty("lineJoin")&&(this.lineJoin=ve.lineJoin)}},_.prototype.strokeRect=function(re,te,ke,be){if(isNaN(re)||isNaN(te)||isNaN(ke)||isNaN(be))throw Ui.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");D.call(this)||(this.beginPath(),this.rect(re,te,ke,be),this.stroke())},_.prototype.clearRect=function(re,te,ke,be){if(isNaN(re)||isNaN(te)||isNaN(ke)||isNaN(be))throw Ui.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(re,te,ke,be))},_.prototype.save=function(re){re=typeof re!="boolean"||re;for(var te=this.pdf.internal.getCurrentPageInfo().pageNumber,ke=0;ke<this.pdf.internal.getNumberOfPages();ke++)this.pdf.setPage(ke+1),this.pdf.internal.out("q");if(this.pdf.setPage(te),re){this.ctx.fontSize=this.pdf.internal.getFontSize();var be=new v(this.ctx);this.ctxStack.push(this.ctx),this.ctx=be}},_.prototype.restore=function(re){re=typeof re!="boolean"||re;for(var te=this.pdf.internal.getCurrentPageInfo().pageNumber,ke=0;ke<this.pdf.internal.getNumberOfPages();ke++)this.pdf.setPage(ke+1),this.pdf.internal.out("Q");this.pdf.setPage(te),re&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},_.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(re){var te,ke,be,ve;if(re.isCanvasGradient===!0&&(re=re.getColor()),!re)return{r:0,g:0,b:0,a:0,style:re};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(re))te=0,ke=0,be=0,ve=0;else{var Re=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(re);if(Re!==null)te=parseInt(Re[1]),ke=parseInt(Re[2]),be=parseInt(Re[3]),ve=1;else if((Re=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(re))!==null)te=parseInt(Re[1]),ke=parseInt(Re[2]),be=parseInt(Re[3]),ve=parseFloat(Re[4]);else{if(ve=1,typeof re=="string"&&re.charAt(0)!=="#"){var Be=new F7(re);re=Be.ok?Be.toHex():"#000000"}re.length===4?(te=re.substring(1,2),te+=te,ke=re.substring(2,3),ke+=ke,be=re.substring(3,4),be+=be):(te=re.substring(1,3),ke=re.substring(3,5),be=re.substring(5,7)),te=parseInt(te,16),ke=parseInt(ke,16),be=parseInt(be,16)}}return{r:te,g:ke,b:be,a:ve,style:re}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},D=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};_.prototype.fillText=function(re,te,ke,be){if(isNaN(te)||isNaN(ke)||typeof re!="string")throw Ui.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(be=isNaN(be)?void 0:be,!y.call(this)){var ve=me(this.ctx.transform.rotation),Re=this.ctx.transform.scaleX;Y.call(this,{text:re,x:te,y:ke,scale:Re,angle:ve,align:this.textAlign,maxWidth:be})}},_.prototype.strokeText=function(re,te,ke,be){if(isNaN(te)||isNaN(ke)||typeof re!="string")throw Ui.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!D.call(this)){be=isNaN(be)?void 0:be;var ve=me(this.ctx.transform.rotation),Re=this.ctx.transform.scaleX;Y.call(this,{text:re,x:te,y:ke,scale:Re,renderingMode:"stroke",angle:ve,align:this.textAlign,maxWidth:be})}},_.prototype.measureText=function(re){if(typeof re!="string")throw Ui.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var te=this.pdf,ke=this.pdf.internal.scaleFactor,be=te.internal.getFontSize(),ve=te.getStringUnitWidth(re)*be/te.internal.scaleFactor,Re=function(Be){var Ue=(Be=Be||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ue}}),this};return new Re({width:ve*=Math.round(96*ke/72*1e4)/1e4})},_.prototype.scale=function(re,te){if(isNaN(re)||isNaN(te))throw Ui.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ke=new m(re,0,0,te,0,0);this.ctx.transform=this.ctx.transform.multiply(ke)},_.prototype.rotate=function(re){if(isNaN(re))throw Ui.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var te=new m(Math.cos(re),Math.sin(re),-Math.sin(re),Math.cos(re),0,0);this.ctx.transform=this.ctx.transform.multiply(te)},_.prototype.translate=function(re,te){if(isNaN(re)||isNaN(te))throw Ui.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ke=new m(1,0,0,1,re,te);this.ctx.transform=this.ctx.transform.multiply(ke)},_.prototype.transform=function(re,te,ke,be,ve,Re){if(isNaN(re)||isNaN(te)||isNaN(ke)||isNaN(be)||isNaN(ve)||isNaN(Re))throw Ui.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Be=new m(re,te,ke,be,ve,Re);this.ctx.transform=this.ctx.transform.multiply(Be)},_.prototype.setTransform=function(re,te,ke,be,ve,Re){re=isNaN(re)?1:re,te=isNaN(te)?0:te,ke=isNaN(ke)?0:ke,be=isNaN(be)?1:be,ve=isNaN(ve)?0:ve,Re=isNaN(Re)?0:Re,this.ctx.transform=new m(re,te,ke,be,ve,Re)};var E=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};_.prototype.drawImage=function(re,te,ke,be,ve,Re,Be,Ue,Ze){var Ge=this.pdf.getImageProperties(re),ft=1,gt=1,oe=1,Pe=1;be!==void 0&&Ue!==void 0&&(oe=Ue/be,Pe=Ze/ve,ft=Ge.width/be*Ue/be,gt=Ge.height/ve*Ze/ve),Re===void 0&&(Re=te,Be=ke,te=0,ke=0),be!==void 0&&Ue===void 0&&(Ue=be,Ze=ve),be===void 0&&Ue===void 0&&(Ue=Ge.width,Ze=Ge.height);for(var we,De=this.ctx.transform.decompose(),Ae=me(De.rotate.shx),Oe=new m,Ke=(Oe=(Oe=(Oe=Oe.multiply(De.translate)).multiply(De.skew)).multiply(De.scale)).applyToRectangle(new p(Re-te*oe,Be-ke*Pe,be*ft,ve*gt)),Xe=j.call(this,Ke),Fe=[],dt=0;dt<Xe.length;dt+=1)Fe.indexOf(Xe[dt])===-1&&Fe.push(Xe[dt]);if(z(Fe),this.autoPaging)for(var wt=Fe[0],ot=Fe[Fe.length-1],pt=wt;pt<ot+1;pt++){this.pdf.setPage(pt);var He=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],at=pt===1?this.posY+this.margin[0]:this.margin[0],kt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],yt=pt===1?0:kt+(pt-2)*Yt;if(this.ctx.clip_path.length!==0){var Bn=this.path;we=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(we,this.posX+this.margin[3],-yt+at+this.ctx.prevPageLastElemOffset),J.call(this,"fill",!0),this.path=Bn}var on=JSON.parse(JSON.stringify(Ke));on=B([on],this.posX+this.margin[3],-yt+at+this.ctx.prevPageLastElemOffset)[0];var wr=(pt>wt||pt<ot)&&E.call(this);wr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],He,Yt,null).clip().discardPath()),this.pdf.addImage(re,"JPEG",on.x,on.y,on.w,on.h,null,null,Ae),wr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(re,"JPEG",Ke.x,Ke.y,Ke.w,Ke.h,null,null,Ae)};var j=function(re,te,ke){var be=[];te=te||this.pdf.internal.pageSize.width,ke=ke||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ve=this.posY+this.ctx.prevPageLastElemOffset;switch(re.type){default:case"mt":case"lt":be.push(Math.floor((re.y+ve)/ke)+1);break;case"arc":be.push(Math.floor((re.y+ve-re.radius)/ke)+1),be.push(Math.floor((re.y+ve+re.radius)/ke)+1);break;case"qct":var Re=Me(this.ctx.lastPoint.x,this.ctx.lastPoint.y,re.x1,re.y1,re.x,re.y);be.push(Math.floor((Re.y+ve)/ke)+1),be.push(Math.floor((Re.y+Re.h+ve)/ke)+1);break;case"bct":var Be=ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,re.x1,re.y1,re.x2,re.y2,re.x,re.y);be.push(Math.floor((Be.y+ve)/ke)+1),be.push(Math.floor((Be.y+Be.h+ve)/ke)+1);break;case"rect":be.push(Math.floor((re.y+ve)/ke)+1),be.push(Math.floor((re.y+re.h+ve)/ke)+1)}for(var Ue=0;Ue<be.length;Ue+=1)for(;this.pdf.internal.getNumberOfPages()<be[Ue];)M.call(this);return be},M=function(){var re=this.fillStyle,te=this.strokeStyle,ke=this.font,be=this.lineCap,ve=this.lineWidth,Re=this.lineJoin;this.pdf.addPage(),this.fillStyle=re,this.strokeStyle=te,this.font=ke,this.lineCap=be,this.lineWidth=ve,this.lineJoin=Re},B=function(re,te,ke){for(var be=0;be<re.length;be++)switch(re[be].type){case"bct":re[be].x2+=te,re[be].y2+=ke;case"qct":re[be].x1+=te,re[be].y1+=ke;case"mt":case"lt":case"arc":default:re[be].x+=te,re[be].y+=ke}return re},z=function(re){return re.sort(function(te,ke){return te-ke})},G=function(re,te){for(var ke,be,ve=this.fillStyle,Re=this.strokeStyle,Be=this.lineCap,Ue=this.lineWidth,Ze=Math.abs(Ue*this.ctx.transform.scaleX),Ge=this.lineJoin,ft=JSON.parse(JSON.stringify(this.path)),gt=JSON.parse(JSON.stringify(this.path)),oe=[],Pe=0;Pe<gt.length;Pe++)if(gt[Pe].x!==void 0)for(var we=j.call(this,gt[Pe]),De=0;De<we.length;De+=1)oe.indexOf(we[De])===-1&&oe.push(we[De]);for(var Ae=0;Ae<oe.length;Ae++)for(;this.pdf.internal.getNumberOfPages()<oe[Ae];)M.call(this);if(z(oe),this.autoPaging)for(var Oe=oe[0],Ke=oe[oe.length-1],Xe=Oe;Xe<Ke+1;Xe++){this.pdf.setPage(Xe),this.fillStyle=ve,this.strokeStyle=Re,this.lineCap=Be,this.lineWidth=Ze,this.lineJoin=Ge;var Fe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],dt=Xe===1?this.posY+this.margin[0]:this.margin[0],wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],pt=Xe===1?0:wt+(Xe-2)*ot;if(this.ctx.clip_path.length!==0){var He=this.path;ke=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(ke,this.posX+this.margin[3],-pt+dt+this.ctx.prevPageLastElemOffset),J.call(this,re,!0),this.path=He}if(be=JSON.parse(JSON.stringify(ft)),this.path=B(be,this.posX+this.margin[3],-pt+dt+this.ctx.prevPageLastElemOffset),te===!1||Xe===0){var at=(Xe>Oe||Xe<Ke)&&E.call(this);at&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fe,ot,null).clip().discardPath()),J.call(this,re,te),at&&this.pdf.restoreGraphicsState()}this.lineWidth=Ue}else this.lineWidth=Ze,J.call(this,re,te),this.lineWidth=Ue;this.path=ft},J=function(re,te){if((re!=="stroke"||te||!D.call(this))&&(re==="stroke"||te||!y.call(this))){for(var ke,be,ve=[],Re=this.path,Be=0;Be<Re.length;Be++){var Ue=Re[Be];switch(Ue.type){case"begin":ve.push({begin:!0});break;case"close":ve.push({close:!0});break;case"mt":ve.push({start:Ue,deltas:[],abs:[]});break;case"lt":var Ze=ve.length;if(Re[Be-1]&&!isNaN(Re[Be-1].x)&&(ke=[Ue.x-Re[Be-1].x,Ue.y-Re[Be-1].y],Ze>0)){for(;Ze>=0;Ze--)if(ve[Ze-1].close!==!0&&ve[Ze-1].begin!==!0){ve[Ze-1].deltas.push(ke),ve[Ze-1].abs.push(Ue);break}}break;case"bct":ke=[Ue.x1-Re[Be-1].x,Ue.y1-Re[Be-1].y,Ue.x2-Re[Be-1].x,Ue.y2-Re[Be-1].y,Ue.x-Re[Be-1].x,Ue.y-Re[Be-1].y],ve[ve.length-1].deltas.push(ke);break;case"qct":var Ge=Re[Be-1].x+2/3*(Ue.x1-Re[Be-1].x),ft=Re[Be-1].y+2/3*(Ue.y1-Re[Be-1].y),gt=Ue.x+2/3*(Ue.x1-Ue.x),oe=Ue.y+2/3*(Ue.y1-Ue.y),Pe=Ue.x,we=Ue.y;ke=[Ge-Re[Be-1].x,ft-Re[Be-1].y,gt-Re[Be-1].x,oe-Re[Be-1].y,Pe-Re[Be-1].x,we-Re[Be-1].y],ve[ve.length-1].deltas.push(ke);break;case"arc":ve.push({deltas:[],abs:[],arc:!0}),Array.isArray(ve[ve.length-1].abs)&&ve[ve.length-1].abs.push(Ue)}}be=te?null:re==="stroke"?"stroke":"fill";for(var De=!1,Ae=0;Ae<ve.length;Ae++)if(ve[Ae].arc)for(var Oe=ve[Ae].abs,Ke=0;Ke<Oe.length;Ke++){var Xe=Oe[Ke];Xe.type==="arc"?Q.call(this,Xe.x,Xe.y,Xe.radius,Xe.startAngle,Xe.endAngle,Xe.counterclockwise,void 0,te,!De):U.call(this,Xe.x,Xe.y),De=!0}else if(ve[Ae].close===!0)this.pdf.internal.out("h"),De=!1;else if(ve[Ae].begin!==!0){var Fe=ve[Ae].start.x,dt=ve[Ae].start.y;q.call(this,ve[Ae].deltas,Fe,dt),De=!0}be&&Z.call(this,be),te&&ae.call(this)}},H=function(re){var te=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ke=te*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return re-ke;case"top":return re+te-ke;case"hanging":return re+te-2*ke;case"middle":return re+te/2-ke;case"ideographic":return re;case"alphabetic":default:return re}},F=function(re){return re+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};_.prototype.createLinearGradient=function(){var re=function(){};return re.colorStops=[],re.addColorStop=function(te,ke){this.colorStops.push([te,ke])},re.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},re.isCanvasGradient=!0,re},_.prototype.createPattern=function(){return this.createLinearGradient()},_.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Q=function(re,te,ke,be,ve,Re,Be,Ue,Ze){for(var Ge=ue.call(this,ke,be,ve,Re),ft=0;ft<Ge.length;ft++){var gt=Ge[ft];ft===0&&(Ze?X.call(this,gt.x1+re,gt.y1+te):U.call(this,gt.x1+re,gt.y1+te)),fe.call(this,re,te,gt.x2,gt.y2,gt.x3,gt.y3,gt.x4,gt.y4)}Ue?ae.call(this):Z.call(this,Be)},Z=function(re){switch(re){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ae=function(){this.pdf.clip(),this.pdf.discardPath()},X=function(re,te){this.pdf.internal.out(n(re)+" "+o(te)+" m")},Y=function(re){var te;switch(re.align){case"right":case"end":te="right";break;case"center":te="center";break;case"left":case"start":default:te="left"}var ke=this.pdf.getTextDimensions(re.text),be=H.call(this,re.y),ve=F.call(this,be)-ke.h,Re=this.ctx.transform.applyToPoint(new d(re.x,be)),Be=this.ctx.transform.decompose(),Ue=new m;Ue=(Ue=(Ue=Ue.multiply(Be.translate)).multiply(Be.skew)).multiply(Be.scale);for(var Ze,Ge,ft,gt=this.ctx.transform.applyToRectangle(new p(re.x,be,ke.w,ke.h)),oe=Ue.applyToRectangle(new p(re.x,ve,ke.w,ke.h)),Pe=j.call(this,oe),we=[],De=0;De<Pe.length;De+=1)we.indexOf(Pe[De])===-1&&we.push(Pe[De]);if(z(we),this.autoPaging)for(var Ae=we[0],Oe=we[we.length-1],Ke=Ae;Ke<Oe+1;Ke++){this.pdf.setPage(Ke);var Xe=Ke===1?this.posY+this.margin[0]:this.margin[0],Fe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[2],wt=dt-this.margin[0],ot=this.pdf.internal.pageSize.width-this.margin[1],pt=ot-this.margin[3],He=Ke===1?0:Fe+(Ke-2)*wt;if(this.ctx.clip_path.length!==0){var at=this.path;Ze=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(Ze,this.posX+this.margin[3],-1*He+Xe),J.call(this,"fill",!0),this.path=at}var kt=B([JSON.parse(JSON.stringify(oe))],this.posX+this.margin[3],-He+Xe+this.ctx.prevPageLastElemOffset)[0];re.scale>=.01&&(Ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ge*re.scale),ft=this.lineWidth,this.lineWidth=ft*re.scale);var Yt=this.autoPaging!=="text";if(Yt||kt.y+kt.h<=dt){if(Yt||kt.y>=Xe&&kt.x<=ot){var yt=Yt?re.text:this.pdf.splitTextToSize(re.text,re.maxWidth||ot-kt.x)[0],Bn=B([JSON.parse(JSON.stringify(gt))],this.posX+this.margin[3],-He+Xe+this.ctx.prevPageLastElemOffset)[0],on=Yt&&(Ke>Ae||Ke<Oe)&&E.call(this);on&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pt,wt,null).clip().discardPath()),this.pdf.text(yt,Bn.x,Bn.y,{angle:re.angle,align:te,renderingMode:re.renderingMode}),on&&this.pdf.restoreGraphicsState()}}else kt.y<dt&&(this.ctx.prevPageLastElemOffset+=dt-kt.y);re.scale>=.01&&(this.pdf.setFontSize(Ge),this.lineWidth=ft)}else re.scale>=.01&&(Ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ge*re.scale),ft=this.lineWidth,this.lineWidth=ft*re.scale),this.pdf.text(re.text,Re.x+this.posX,Re.y+this.posY,{angle:re.angle,align:te,renderingMode:re.renderingMode,maxWidth:re.maxWidth}),re.scale>=.01&&(this.pdf.setFontSize(Ge),this.lineWidth=ft)},U=function(re,te,ke,be){ke=ke||0,be=be||0,this.pdf.internal.out(n(re+ke)+" "+o(te+be)+" l")},q=function(re,te,ke){return this.pdf.lines(re,te,ke,null,null)},fe=function(re,te,ke,be,ve,Re,Be,Ue){this.pdf.internal.out([i(a(ke+re)),i(c(be+te)),i(a(ve+re)),i(c(Re+te)),i(a(Be+re)),i(c(Ue+te)),"c"].join(" "))},ue=function(re,te,ke,be){for(var ve=2*Math.PI,Re=Math.PI/2;te>ke;)te-=ve;var Be=Math.abs(ke-te);Be<ve&&be&&(Be=ve-Be);for(var Ue=[],Ze=be?-1:1,Ge=te;Be>1e-5;){var ft=Ge+Ze*Math.min(Be,Re);Ue.push(de.call(this,re,Ge,ft)),Be-=Math.abs(ft-Ge),Ge=ft}return Ue},de=function(re,te,ke){var be=(ke-te)/2,ve=re*Math.cos(be),Re=re*Math.sin(be),Be=ve,Ue=-Re,Ze=Be*Be+Ue*Ue,Ge=Ze+Be*ve+Ue*Re,ft=4/3*(Math.sqrt(2*Ze*Ge)-Ge)/(Be*Re-Ue*ve),gt=Be-ft*Ue,oe=Ue+ft*Be,Pe=gt,we=-oe,De=be+te,Ae=Math.cos(De),Oe=Math.sin(De);return{x1:re*Math.cos(te),y1:re*Math.sin(te),x2:gt*Ae-oe*Oe,y2:gt*Oe+oe*Ae,x3:Pe*Ae-we*Oe,y3:Pe*Oe+we*Ae,x4:re*Math.cos(ke),y4:re*Math.sin(ke)}},me=function(re){return 180*re/Math.PI},Me=function(re,te,ke,be,ve,Re){var Be=re+.5*(ke-re),Ue=te+.5*(be-te),Ze=ve+.5*(ke-ve),Ge=Re+.5*(be-Re),ft=Math.min(re,ve,Be,Ze),gt=Math.max(re,ve,Be,Ze),oe=Math.min(te,Re,Ue,Ge),Pe=Math.max(te,Re,Ue,Ge);return new p(ft,oe,gt-ft,Pe-oe)},ce=function(re,te,ke,be,ve,Re,Be,Ue){var Ze,Ge,ft,gt,oe,Pe,we,De,Ae,Oe,Ke,Xe,Fe,dt,wt=ke-re,ot=be-te,pt=ve-ke,He=Re-be,at=Be-ve,kt=Ue-Re;for(Ge=0;Ge<41;Ge++)Ae=(we=(ft=re+(Ze=Ge/40)*wt)+Ze*((oe=ke+Ze*pt)-ft))+Ze*(oe+Ze*(ve+Ze*at-oe)-we),Oe=(De=(gt=te+Ze*ot)+Ze*((Pe=be+Ze*He)-gt))+Ze*(Pe+Ze*(Re+Ze*kt-Pe)-De),Ge==0?(Ke=Ae,Xe=Oe,Fe=Ae,dt=Oe):(Ke=Math.min(Ke,Ae),Xe=Math.min(Xe,Oe),Fe=Math.max(Fe,Ae),dt=Math.max(dt,Oe));return new p(Math.round(Ke),Math.round(Xe),Math.round(Fe-Ke),Math.round(dt-Xe))},Ie=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var re,te,ke=(re=this.ctx.lineDash,te=this.ctx.lineDashOffset,JSON.stringify({lineDash:re,lineDashOffset:te}));this.prevLineDash!==ke&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ke)}}})(Rn.API),function(t){var i=function(c){var d,p,m,k,v,_,x,y,D,E;for(p=[],m=0,k=(c+=d="\0\0\0\0".slice(c.length%4||4)).length;k>m;m+=4)(v=(c.charCodeAt(m)<<24)+(c.charCodeAt(m+1)<<16)+(c.charCodeAt(m+2)<<8)+c.charCodeAt(m+3))!==0?(_=(v=((v=((v=((v=(v-(E=v%85))/85)-(D=v%85))/85)-(y=v%85))/85)-(x=v%85))/85)%85,p.push(_+33,x+33,y+33,D+33,E+33)):p.push(122);return function(j,M){for(var B=M;B>0;B--)j.pop()}(p,d.length),String.fromCharCode.apply(String,p)+"~>"},n=function(c){var d,p,m,k,v,_=String,x="length",y=255,D="charCodeAt",E="slice",j="replace";for(c[E](-2),c=c[E](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),m=[],k=0,v=(c+=d="uuuuu"[E](c[x]%5||5))[x];v>k;k+=5)p=52200625*(c[D](k)-33)+614125*(c[D](k+1)-33)+7225*(c[D](k+2)-33)+85*(c[D](k+3)-33)+(c[D](k+4)-33),m.push(y&p>>24,y&p>>16,y&p>>8,y&p);return function(M,B){for(var z=B;z>0;z--)M.pop()}(m,d[x]),_.fromCharCode.apply(_,m)},o=function(c){var d=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),d.test(c)===!1)return"";for(var p="",m=0;m<c.length;m+=2)p+=String.fromCharCode("0x"+(c[m]+c[m+1]));return p},a=function(c){for(var d=new Uint8Array(c.length),p=c.length;p--;)d[p]=c.charCodeAt(p);return c=(d=JD(d)).reduce(function(m,k){return m+String.fromCharCode(k)},"")};t.processDataByFilters=function(c,d){var p=0,m=c||"",k=[];for(typeof(d=d||[])=="string"&&(d=[d]),p=0;p<d.length;p+=1)switch(d[p]){case"ASCII85Decode":case"/ASCII85Decode":m=n(m),k.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":m=i(m),k.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":m=o(m),k.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":m=m.split("").map(function(v){return("0"+v.charCodeAt().toString(16)).slice(-2)}).join("")+">",k.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":m=a(m),k.push("/FlateDecode");break;default:throw new Error('The filter: "'+d[p]+'" is not implemented')}return{data:m,reverseChain:k.reverse().join(" ")}}}(Rn.API),function(t){t.loadFile=function(i,n,o){return function(a,c,d){c=c!==!1,d=typeof d=="function"?d:function(){};var p=void 0;try{p=function(m,k,v){var _=new XMLHttpRequest,x=0,y=function(D){var E=D.length,j=[],M=String.fromCharCode;for(x=0;x<E;x+=1)j.push(M(255&D.charCodeAt(x)));return j.join("")};if(_.open("GET",m,!k),_.overrideMimeType("text/plain; charset=x-user-defined"),k===!1&&(_.onload=function(){_.status===200?v(y(this.responseText)):v(void 0)}),_.send(null),k&&_.status===200)return y(_.responseText)}(a,c,d)}catch{}return p}(i,n,o)},t.loadImageFile=t.loadFile}(Rn.API),function(t){function i(){return(Un.html2canvas?Promise.resolve(Un.html2canvas):No(()=>import("./html2canvas.esm-DadlvMMh.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load html2canvas: "+d))}).then(function(d){return d.default?d.default:d})}function n(){return(Un.DOMPurify?Promise.resolve(Un.DOMPurify):No(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load dompurify: "+d))}).then(function(d){return d.default?d.default:d})}var o=function(d){var p=qi(d);return p==="undefined"?"undefined":p==="string"||d instanceof String?"string":p==="number"||d instanceof Number?"number":p==="function"||d instanceof Function?"function":d&&d.constructor===Array?"array":d&&d.nodeType===1?"element":p==="object"?"object":"unknown"},a=function(d,p){var m=document.createElement(d);for(var k in p.className&&(m.className=p.className),p.innerHTML&&p.dompurify&&(m.innerHTML=p.dompurify.sanitize(p.innerHTML)),p.style)m.style[k]=p.style[k];return m},c=function d(p){var m=Object.assign(d.convert(Promise.resolve()),JSON.parse(JSON.stringify(d.template))),k=d.convert(Promise.resolve(),m);return k=(k=k.setProgress(1,d,1,[d])).set(p)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(d,p){return d.__proto__=p||c.prototype,d},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(d,p){return this.then(function(){switch(p=p||function(m){switch(o(m)){case"string":return"string";case"element":return m.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(d)){case"string":return this.then(n).then(function(m){return this.set({src:a("div",{innerHTML:d,dompurify:m})})});case"element":return this.set({src:d});case"canvas":return this.set({canvas:d});case"img":return this.set({img:d});default:return this.error("Unknown source type.")}})},c.prototype.to=function(d){switch(d){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var d={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},p=function m(k,v){for(var _=k.nodeType===3?document.createTextNode(k.nodeValue):k.cloneNode(!1),x=k.firstChild;x;x=x.nextSibling)v!==!0&&x.nodeType===1&&x.nodeName==="SCRIPT"||_.appendChild(m(x,v));return k.nodeType===1&&(k.nodeName==="CANVAS"?(_.width=k.width,_.height=k.height,_.getContext("2d").drawImage(k,0,0)):k.nodeName!=="TEXTAREA"&&k.nodeName!=="SELECT"||(_.value=k.value),_.addEventListener("load",function(){_.scrollTop=k.scrollTop,_.scrollLeft=k.scrollLeft},!0)),_}(this.prop.src,this.opt.html2canvas.javascriptEnabled);p.tagName==="BODY"&&(d.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:d}),this.prop.container.appendChild(p),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(i).then(function(p){var m=Object.assign({},this.opt.html2canvas);return delete m.onrendered,p(this.prop.container,m)}).then(function(p){(this.opt.html2canvas.onrendered||function(){})(p),this.prop.canvas=p,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(i).then(function(p){var m=this.opt.jsPDF,k=this.opt.fontFaces,v=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,_=Object.assign({async:!0,allowTaint:!0,scale:v,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete _.onrendered,m.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,m.context2d.posX=this.opt.x,m.context2d.posY=this.opt.y,m.context2d.margin=this.opt.margin,m.context2d.fontFaces=k,k)for(var x=0;x<k.length;++x){var y=k[x],D=y.src.find(function(E){return E.format==="truetype"});D&&m.addFont(D.url,y.ref.name,y.ref.style)}return _.windowHeight=_.windowHeight||0,_.windowHeight=_.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):_.windowHeight,m.context2d.save(!0),p(this.prop.container,_)}).then(function(p){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(p),this.prop.canvas=p,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var d=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=d})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(d,p,m){return(m=m||"pdf").toLowerCase()==="img"||m.toLowerCase()==="image"?this.outputImg(d,p):this.outputPdf(d,p)},c.prototype.outputPdf=function(d,p){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(d,p)})},c.prototype.outputImg=function(d){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(d){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+d+'" is not supported.'}})},c.prototype.save=function(d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(d?{filename:d}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(d){if(o(d)!=="object")return this;var p=Object.keys(d||{}).map(function(m){if(m in c.template.prop)return function(){this.prop[m]=d[m]};switch(m){case"margin":return this.setMargin.bind(this,d.margin);case"jsPDF":return function(){return this.opt.jsPDF=d.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,d.pageSize);default:return function(){this.opt[m]=d[m]}}},this);return this.then(function(){return this.thenList(p)})},c.prototype.get=function(d,p){return this.then(function(){var m=d in c.template.prop?this.prop[d]:this.opt[d];return p?p(m):m})},c.prototype.setMargin=function(d){return this.then(function(){switch(o(d)){case"number":d=[d,d,d,d];case"array":if(d.length===2&&(d=[d[0],d[1],d[0],d[1]]),d.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=d}).then(this.setPageSize)},c.prototype.setPageSize=function(d){function p(m,k){return Math.floor(m*k/72*96)}return this.then(function(){(d=d||Rn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(d.inner={width:d.width-this.opt.margin[1]-this.opt.margin[3],height:d.height-this.opt.margin[0]-this.opt.margin[2]},d.inner.px={width:p(d.inner.width,d.k),height:p(d.inner.height,d.k)},d.inner.ratio=d.inner.height/d.inner.width),this.prop.pageSize=d})},c.prototype.setProgress=function(d,p,m,k){return d!=null&&(this.progress.val=d),p!=null&&(this.progress.state=p),m!=null&&(this.progress.n=m),k!=null&&(this.progress.stack=k),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(d,p,m,k){return this.setProgress(d?this.progress.val+d:null,p||null,m?this.progress.n+m:null,k?this.progress.stack.concat(k):null)},c.prototype.then=function(d,p){var m=this;return this.thenCore(d,p,function(k,v){return m.updateProgress(null,null,1,[k]),Promise.prototype.then.call(this,function(_){return m.updateProgress(null,k),_}).then(k,v).then(function(_){return m.updateProgress(1),_})})},c.prototype.thenCore=function(d,p,m){m=m||Promise.prototype.then,d&&(d=d.bind(this)),p&&(p=p.bind(this));var k=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:c.convert(Object.assign({},this),Promise.prototype),v=m.call(k,d,p);return c.convert(v,this.__proto__)},c.prototype.thenExternal=function(d,p){return Promise.prototype.then.call(this,d,p)},c.prototype.thenList=function(d){var p=this;return d.forEach(function(m){p=p.thenCore(m)}),p},c.prototype.catch=function(d){d&&(d=d.bind(this));var p=Promise.prototype.catch.call(this,d);return c.convert(p,this)},c.prototype.catchExternal=function(d){return Promise.prototype.catch.call(this,d)},c.prototype.error=function(d){return this.then(function(){throw new Error(d)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,Rn.getPageSize=function(d,p,m){if(qi(d)==="object"){var k=d;d=k.orientation,p=k.unit||p,m=k.format||m}p=p||"mm",m=m||"a4",d=(""+(d||"P")).toLowerCase();var v,_=(""+m).toLowerCase(),x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(p){case"pt":v=1;break;case"mm":v=72/25.4;break;case"cm":v=72/2.54;break;case"in":v=72;break;case"px":v=.75;break;case"pc":case"em":v=12;break;case"ex":v=6;break;default:throw"Invalid unit: "+p}var y,D=0,E=0;if(x.hasOwnProperty(_))D=x[_][1]/v,E=x[_][0]/v;else try{D=m[1],E=m[0]}catch{throw new Error("Invalid format: "+m)}if(d==="p"||d==="portrait")d="p",E>D&&(y=E,E=D,D=y);else{if(d!=="l"&&d!=="landscape")throw"Invalid orientation: "+d;d="l",D>E&&(y=E,E=D,D=y)}return{width:E,height:D,unit:p,k:v,orientation:d}},t.html=function(d,p){(p=p||{}).callback=p.callback||function(){},p.html2canvas=p.html2canvas||{},p.html2canvas.canvas=p.html2canvas.canvas||this.canvas,p.jsPDF=p.jsPDF||this,p.fontFaces=p.fontFaces?p.fontFaces.map(i6):null;var m=new c(p);return p.worker?m:m.from(d).doCallback()}}(Rn.API),Rn.API.addJS=function(t){return Mj=t,this.internal.events.subscribe("postPutResources",function(){J2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(J2+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Tj=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Mj+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){J2!==void 0&&Tj!==void 0&&this.internal.out("/Names <</JavaScript "+J2+" 0 R>>")}),this},function(t){var i;t.events.push(["postPutResources",function(){var n=this,o=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=n.outline.render().split(/\r\n/),c=0;c<a.length;c++){var d=a[c],p=o.exec(d);if(p!=null){var m=p[1];n.internal.newObjectDeferredBegin(m,!1)}n.internal.write(d)}if(this.outline.createNamedDestinations){var k=this.internal.pages.length,v=[];for(c=0;c<k;c++){var _=n.internal.newObject();v.push(_);var x=n.internal.getPageInfo(c+1);n.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var y=n.internal.newObject();for(n.internal.write("<< /Names [ "),c=0;c<v.length;c++)n.internal.write("(page_"+(c+1)+")"+v[c]+" 0 R");n.internal.write(" ] >>","endobj"),i=n.internal.newObject(),n.internal.write("<< /Dests "+y+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+i+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(o,a,c){var d={title:a,options:c,children:[]};return o==null&&(o=this.root),o.children.push(d),d},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(o){o.id=n.internal.newObjectDeferred();for(var a=0;a<o.children.length;a++)this.genIds_r(o.children[a])},n.outline.renderRoot=function(o){this.objStart(o),this.line("/Type /Outlines"),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1]))),this.line("/Count "+this.count_r({count:0},o)),this.objEnd()},n.outline.renderItems=function(o){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,c=0;c<o.children.length;c++){var d=o.children[c];this.objStart(d),this.line("/Title "+this.makeString(d.title)),this.line("/Parent "+this.makeRef(o)),c>0&&this.line("/Prev "+this.makeRef(o.children[c-1])),c<o.children.length-1&&this.line("/Next "+this.makeRef(o.children[c+1])),d.children.length>0&&(this.line("/First "+this.makeRef(d.children[0])),this.line("/Last "+this.makeRef(d.children[d.children.length-1])));var p=this.count=this.count_r({count:0},d);if(p>0&&this.line("/Count "+p),d.options&&d.options.pageNumber){var m=n.internal.getPageInfo(d.options.pageNumber);this.line("/Dest ["+m.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var k=0;k<o.children.length;k++)this.renderItems(o.children[k])},n.outline.line=function(o){this.ctx.val+=o+`\r
`},n.outline.makeRef=function(o){return o.id+" 0 R"},n.outline.makeString=function(o){return"("+n.internal.pdfEscape(o)+")"},n.outline.objStart=function(o){this.ctx.val+=`\r
`+o.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(o,a){for(var c=0;c<a.children.length;c++)o.count++,this.count_r(o,a.children[c]);return o.count}}])}(Rn.API),function(t){var i=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,o,a,c,d,p){var m,k=this.decode.DCT_DECODE,v=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=d||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(m=function(_){for(var x,y=256*_.charCodeAt(4)+_.charCodeAt(5),D=_.length,E={width:0,height:0,numcomponents:1},j=4;j<D;j+=2){if(j+=y,i.indexOf(_.charCodeAt(j+1))!==-1){x=256*_.charCodeAt(j+5)+_.charCodeAt(j+6),E={width:256*_.charCodeAt(j+7)+_.charCodeAt(j+8),height:x,numcomponents:_.charCodeAt(j+9)};break}y=256*_.charCodeAt(j+2)+_.charCodeAt(j+3)}return E}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:p=this.color_spaces.DEVICE_GRAY;break;case 4:p=this.color_spaces.DEVICE_CMYK;break;case 3:p=this.color_spaces.DEVICE_RGB}v={data:n,width:m.width,height:m.height,colorSpace:p,bitsPerComponent:8,filter:k,index:o,alias:a}}return v}}(Rn.API);var B0,X2,Nj,jj,Oj,pee=function(){var t,i,n;function o(c){var d,p,m,k,v,_,x,y,D,E,j,M,B,z;for(this.data=c,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},_=null;;){switch(d=this.readUInt32(),D=(function(){var G,J;for(J=[],G=0;G<4;++G)J.push(String.fromCharCode(this.data[this.pos++]));return J}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(d);break;case"fcTL":_&&this.animation.frames.push(_),this.pos+=4,_={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},v=this.readUInt16(),k=this.readUInt16()||100,_.delay=1e3*v/k,_.disposeOp=this.data[this.pos++],_.blendOp=this.data[this.pos++],_.data=[];break;case"IDAT":case"fdAT":for(D==="fdAT"&&(this.pos+=4,d-=4),c=(_!=null?_.data:void 0)||this.imgData,M=0;0<=d?M<d:M>d;0<=d?++M:--M)c.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(m=this.palette.length/3,this.transparency.indexed=this.read(d),this.transparency.indexed.length>m)throw new Error("More transparent colors than palette size");if((E=m-this.transparency.indexed.length)>0)for(B=0;0<=E?B<E:B>E;0<=E?++B:--B)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(d)[0];break;case 2:this.transparency.rgb=this.read(d)}break;case"tEXt":x=(j=this.read(d)).indexOf(0),y=String.fromCharCode.apply(String,j.slice(0,x)),this.text[y]=String.fromCharCode.apply(String,j.slice(x+1));break;case"IEND":return _&&this.animation.frames.push(_),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(z=this.colorType)===4||z===6,p=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*p,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=d}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}o.prototype.read=function(c){var d,p;for(p=[],d=0;0<=c?d<c:d>c;0<=c?++d:--d)p.push(this.data[this.pos++]);return p},o.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},o.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},o.prototype.decodePixels=function(c){var d=this.pixelBitlength/8,p=new Uint8Array(this.width*this.height*d),m=0,k=this;if(c==null&&(c=this.imgData),c.length===0)return new Uint8Array(0);function v(_,x,y,D){var E,j,M,B,z,G,J,H,F,Q,Z,ae,X,Y,U,q,fe,ue,de,me,Me,ce=Math.ceil((k.width-_)/y),Ie=Math.ceil((k.height-x)/D),re=k.width==ce&&k.height==Ie;for(Y=d*ce,ae=re?p:new Uint8Array(Y*Ie),G=c.length,X=0,j=0;X<Ie&&m<G;){switch(c[m++]){case 0:for(B=fe=0;fe<Y;B=fe+=1)ae[j++]=c[m++];break;case 1:for(B=ue=0;ue<Y;B=ue+=1)E=c[m++],z=B<d?0:ae[j-d],ae[j++]=(E+z)%256;break;case 2:for(B=de=0;de<Y;B=de+=1)E=c[m++],M=(B-B%d)/d,U=X&&ae[(X-1)*Y+M*d+B%d],ae[j++]=(U+E)%256;break;case 3:for(B=me=0;me<Y;B=me+=1)E=c[m++],M=(B-B%d)/d,z=B<d?0:ae[j-d],U=X&&ae[(X-1)*Y+M*d+B%d],ae[j++]=(E+Math.floor((z+U)/2))%256;break;case 4:for(B=Me=0;Me<Y;B=Me+=1)E=c[m++],M=(B-B%d)/d,z=B<d?0:ae[j-d],X===0?U=q=0:(U=ae[(X-1)*Y+M*d+B%d],q=M&&ae[(X-1)*Y+(M-1)*d+B%d]),J=z+U-q,H=Math.abs(J-z),Q=Math.abs(J-U),Z=Math.abs(J-q),F=H<=Q&&H<=Z?z:Q<=Z?U:q,ae[j++]=(E+F)%256;break;default:throw new Error("Invalid filter algorithm: "+c[m-1])}if(!re){var te=((x+X*D)*k.width+_)*d,ke=X*Y;for(B=0;B<ce;B+=1){for(var be=0;be<d;be+=1)p[te++]=ae[ke++];te+=(y-1)*d}}X++}}return c=WX(c),k.interlaceMethod==1?(v(0,0,8,8),v(4,0,8,8),v(0,4,4,8),v(2,0,4,4),v(0,2,2,4),v(1,0,2,2),v(0,1,1,2)):v(0,0,1,1),p},o.prototype.decodePalette=function(){var c,d,p,m,k,v,_,x,y;for(p=this.palette,v=this.transparency.indexed||[],k=new Uint8Array((v.length||0)+p.length),m=0,c=0,d=_=0,x=p.length;_<x;d=_+=3)k[m++]=p[d],k[m++]=p[d+1],k[m++]=p[d+2],k[m++]=(y=v[c++])!=null?y:255;return k},o.prototype.copyToImageData=function(c,d){var p,m,k,v,_,x,y,D,E,j,M;if(m=this.colors,E=null,p=this.hasAlphaChannel,this.palette.length&&(E=(M=this._decodedPalette)!=null?M:this._decodedPalette=this.decodePalette(),m=4,p=!0),D=(k=c.data||c).length,_=E||d,v=x=0,m===1)for(;v<D;)y=E?4*d[v/4]:x,j=_[y++],k[v++]=j,k[v++]=j,k[v++]=j,k[v++]=p?_[y++]:255,x=y;else for(;v<D;)y=E?4*d[v/4]:x,k[v++]=_[y++],k[v++]=_[y++],k[v++]=_[y++],k[v++]=p?_[y++]:255,x=y},o.prototype.decode=function(){var c;return c=new Uint8Array(this.width*this.height*4),this.copyToImageData(c,this.decodePixels()),c};var a=function(){if(Object.prototype.toString.call(Un)==="[object Window]"){try{i=Un.document.createElement("canvas"),n=i.getContext("2d")}catch{return!1}return!0}return!1};return a(),t=function(c){var d;if(a()===!0)return n.width=c.width,n.height=c.height,n.clearRect(0,0,c.width,c.height),n.putImageData(c,0,0),(d=new Image).src=i.toDataURL(),d;throw new Error("This method requires a Browser with Canvas-capability.")},o.prototype.decodeFrames=function(c){var d,p,m,k,v,_,x,y;if(this.animation){for(y=[],p=v=0,_=(x=this.animation.frames).length;v<_;p=++v)d=x[p],m=c.createImageData(d.width,d.height),k=this.decodePixels(new Uint8Array(d.data)),this.copyToImageData(m,k),d.imageData=m,y.push(d.image=t(m));return y}},o.prototype.renderFrame=function(c,d){var p,m,k;return p=(m=this.animation.frames)[d],k=m[d-1],d===0&&c.clearRect(0,0,this.width,this.height),(k!=null?k.disposeOp:void 0)===1?c.clearRect(k.xOffset,k.yOffset,k.width,k.height):(k!=null?k.disposeOp:void 0)===2&&c.putImageData(k.imageData,k.xOffset,k.yOffset),p.blendOp===0&&c.clearRect(p.xOffset,p.yOffset,p.width,p.height),c.drawImage(p.image,p.xOffset,p.yOffset)},o.prototype.animate=function(c){var d,p,m,k,v,_,x=this;return p=0,_=this.animation,k=_.numFrames,m=_.frames,v=_.numPlays,(d=function(){var y,D;if(y=p++%k,D=m[y],x.renderFrame(c,y),k>1&&p/k<v)return x.animation._timeout=setTimeout(d,D.delay)})()},o.prototype.stopAnimation=function(){var c;return clearTimeout((c=this.animation)!=null?c._timeout:void 0)},o.prototype.render=function(c){var d,p;return c._png&&c._png.stopAnimation(),c._png=this,c.width=this.width,c.height=this.height,d=c.getContext("2d"),this.animation?(this.decodeFrames(d),this.animate(d)):(p=d.createImageData(this.width,this.height),this.copyToImageData(p,this.decodePixels()),d.putImageData(p,0,0))},o}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function mee(t){var i=0;if(t[i++]!==71||t[i++]!==73||t[i++]!==70||t[i++]!==56||(t[i++]+1&253)!=56||t[i++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[i++]|t[i++]<<8,o=t[i++]|t[i++]<<8,a=t[i++],c=a>>7,d=1<<(7&a)+1;t[i++],t[i++];var p=null,m=null;c&&(p=i,m=d,i+=3*d);var k=!0,v=[],_=0,x=null,y=0,D=null;for(this.width=n,this.height=o;k&&i<t.length;)switch(t[i++]){case 33:switch(t[i++]){case 255:if(t[i]!==11||t[i+1]==78&&t[i+2]==69&&t[i+3]==84&&t[i+4]==83&&t[i+5]==67&&t[i+6]==65&&t[i+7]==80&&t[i+8]==69&&t[i+9]==50&&t[i+10]==46&&t[i+11]==48&&t[i+12]==3&&t[i+13]==1&&t[i+16]==0)i+=14,D=t[i++]|t[i++]<<8,i++;else for(i+=12;;){if(!((X=t[i++])>=0))throw Error("Invalid block size");if(X===0)break;i+=X}break;case 249:if(t[i++]!==4||t[i+4]!==0)throw new Error("Invalid graphics extension block.");var E=t[i++];_=t[i++]|t[i++]<<8,x=t[i++],(1&E)==0&&(x=null),y=E>>2&7,i++;break;case 254:for(;;){if(!((X=t[i++])>=0))throw Error("Invalid block size");if(X===0)break;i+=X}break;default:throw new Error("Unknown graphic control label: 0x"+t[i-1].toString(16))}break;case 44:var j=t[i++]|t[i++]<<8,M=t[i++]|t[i++]<<8,B=t[i++]|t[i++]<<8,z=t[i++]|t[i++]<<8,G=t[i++],J=G>>6&1,H=1<<(7&G)+1,F=p,Q=m,Z=!1;G>>7&&(Z=!0,F=i,Q=H,i+=3*H);var ae=i;for(i++;;){var X;if(!((X=t[i++])>=0))throw Error("Invalid block size");if(X===0)break;i+=X}v.push({x:j,y:M,width:B,height:z,has_local_palette:Z,palette_offset:F,palette_size:Q,data_offset:ae,data_length:i-ae,transparent_index:x,interlaced:!!J,delay:_,disposal:y});break;case 59:k=!1;break;default:throw new Error("Unknown gif block: 0x"+t[i-1].toString(16))}this.numFrames=function(){return v.length},this.loopCount=function(){return D},this.frameInfo=function(Y){if(Y<0||Y>=v.length)throw new Error("Frame index out of range.");return v[Y]},this.decodeAndBlitFrameBGRA=function(Y,U){var q=this.frameInfo(Y),fe=q.width*q.height,ue=new Uint8Array(fe);Bj(t,q.data_offset,ue,fe);var de=q.palette_offset,me=q.transparent_index;me===null&&(me=256);var Me=q.width,ce=n-Me,Ie=Me,re=4*(q.y*n+q.x),te=4*((q.y+q.height)*n+q.x),ke=re,be=4*ce;q.interlaced===!0&&(be+=4*n*7);for(var ve=8,Re=0,Be=ue.length;Re<Be;++Re){var Ue=ue[Re];if(Ie===0&&(Ie=Me,(ke+=be)>=te&&(be=4*ce+4*n*(ve-1),ke=re+(Me+ce)*(ve<<1),ve>>=1)),Ue===me)ke+=4;else{var Ze=t[de+3*Ue],Ge=t[de+3*Ue+1],ft=t[de+3*Ue+2];U[ke++]=ft,U[ke++]=Ge,U[ke++]=Ze,U[ke++]=255}--Ie}},this.decodeAndBlitFrameRGBA=function(Y,U){var q=this.frameInfo(Y),fe=q.width*q.height,ue=new Uint8Array(fe);Bj(t,q.data_offset,ue,fe);var de=q.palette_offset,me=q.transparent_index;me===null&&(me=256);var Me=q.width,ce=n-Me,Ie=Me,re=4*(q.y*n+q.x),te=4*((q.y+q.height)*n+q.x),ke=re,be=4*ce;q.interlaced===!0&&(be+=4*n*7);for(var ve=8,Re=0,Be=ue.length;Re<Be;++Re){var Ue=ue[Re];if(Ie===0&&(Ie=Me,(ke+=be)>=te&&(be=4*ce+4*n*(ve-1),ke=re+(Me+ce)*(ve<<1),ve>>=1)),Ue===me)ke+=4;else{var Ze=t[de+3*Ue],Ge=t[de+3*Ue+1],ft=t[de+3*Ue+2];U[ke++]=Ze,U[ke++]=Ge,U[ke++]=ft,U[ke++]=255}--Ie}}}function Bj(t,i,n,o){for(var a=t[i++],c=1<<a,d=c+1,p=d+1,m=a+1,k=(1<<m)-1,v=0,_=0,x=0,y=t[i++],D=new Int32Array(4096),E=null;;){for(;v<16&&y!==0;)_|=t[i++]<<v,v+=8,y===1?y=t[i++]:--y;if(v<m)break;var j=_&k;if(_>>=m,v-=m,j!==c){if(j===d)break;for(var M=j<p?j:E,B=0,z=M;z>c;)z=D[z]>>8,++B;var G=z;if(x+B+(M!==j?1:0)>o)return void Ui.log("Warning, gif stream longer than expected.");n[x++]=G;var J=x+=B;for(M!==j&&(n[x++]=G),z=M;B--;)z=D[z],n[--J]=255&z,z>>=8;E!==null&&p<4096&&(D[p++]=E<<8|G,p>=k+1&&m<12&&(++m,k=k<<1|1)),E=j}else p=d+1,k=(1<<(m=a+1))-1,E=null}return x!==o&&Ui.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function eD(t){var i,n,o,a,c,d=Math.floor,p=new Array(64),m=new Array(64),k=new Array(64),v=new Array(64),_=new Array(65535),x=new Array(65535),y=new Array(64),D=new Array(64),E=[],j=0,M=7,B=new Array(64),z=new Array(64),G=new Array(64),J=new Array(256),H=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Q=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Z=[0,1,2,3,4,5,6,7,8,9,10,11],ae=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],X=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Y=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],fe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ue(re,te){for(var ke=0,be=0,ve=new Array,Re=1;Re<=16;Re++){for(var Be=1;Be<=re[Re];Be++)ve[te[be]]=[],ve[te[be]][0]=ke,ve[te[be]][1]=Re,be++,ke++;ke*=2}return ve}function de(re){for(var te=re[0],ke=re[1]-1;ke>=0;)te&1<<ke&&(j|=1<<M),ke--,--M<0&&(j==255?(me(255),me(0)):me(j),M=7,j=0)}function me(re){E.push(re)}function Me(re){me(re>>8&255),me(255&re)}function ce(re,te,ke,be,ve){for(var Re,Be=ve[0],Ue=ve[240],Ze=function(Oe,Ke){var Xe,Fe,dt,wt,ot,pt,He,at,kt,Yt,yt=0;for(kt=0;kt<8;++kt){Xe=Oe[yt],Fe=Oe[yt+1],dt=Oe[yt+2],wt=Oe[yt+3],ot=Oe[yt+4],pt=Oe[yt+5],He=Oe[yt+6];var Bn=Xe+(at=Oe[yt+7]),on=Xe-at,wr=Fe+He,xn=Fe-He,In=dt+pt,zn=dt-pt,Yn=wt+ot,ei=wt-ot,rr=Bn+Yn,vr=Bn-Yn,gr=wr+In,yr=wr-In;Oe[yt]=rr+gr,Oe[yt+4]=rr-gr;var fn=.707106781*(yr+vr);Oe[yt+2]=vr+fn,Oe[yt+6]=vr-fn;var ir=.382683433*((rr=ei+zn)-(yr=xn+on)),is=.5411961*rr+ir,wi=1.306562965*yr+ir,os=.707106781*(gr=zn+xn),ss=on+os,hn=on-os;Oe[yt+5]=hn+is,Oe[yt+3]=hn-is,Oe[yt+1]=ss+wi,Oe[yt+7]=ss-wi,yt+=8}for(yt=0,kt=0;kt<8;++kt){Xe=Oe[yt],Fe=Oe[yt+8],dt=Oe[yt+16],wt=Oe[yt+24],ot=Oe[yt+32],pt=Oe[yt+40],He=Oe[yt+48];var Sr=Xe+(at=Oe[yt+56]),or=Xe-at,vi=Fe+He,jr=Fe-He,Wr=dt+pt,di=dt-pt,jl=wt+ot,Cs=wt-ot,xs=Sr+jl,wo=Sr-jl,Di=vi+Wr,lo=vi-Wr;Oe[yt]=xs+Di,Oe[yt+32]=xs-Di;var co=.707106781*(lo+wo);Oe[yt+16]=wo+co,Oe[yt+48]=wo-co;var zr=.382683433*((xs=Cs+di)-(lo=jr+or)),fl=.5411961*xs+zr,Ol=1.306562965*lo+zr,Ki=.707106781*(Di=di+jr),Ss=or+Ki,Bl=or-Ki;Oe[yt+40]=Bl+fl,Oe[yt+24]=Bl-fl,Oe[yt+8]=Ss+Ol,Oe[yt+56]=Ss-Ol,yt++}for(kt=0;kt<64;++kt)Yt=Oe[kt]*Ke[kt],y[kt]=Yt>0?Yt+.5|0:Yt-.5|0;return y}(re,te),Ge=0;Ge<64;++Ge)D[F[Ge]]=Ze[Ge];var ft=D[0]-ke;ke=D[0],ft==0?de(be[0]):(de(be[x[Re=32767+ft]]),de(_[Re]));for(var gt=63;gt>0&&D[gt]==0;)gt--;if(gt==0)return de(Be),ke;for(var oe,Pe=1;Pe<=gt;){for(var we=Pe;D[Pe]==0&&Pe<=gt;)++Pe;var De=Pe-we;if(De>=16){oe=De>>4;for(var Ae=1;Ae<=oe;++Ae)de(Ue);De&=15}Re=32767+D[Pe],de(ve[(De<<4)+x[Re]]),de(_[Re]),Pe++}return gt!=63&&de(Be),ke}function Ie(re){re=Math.min(Math.max(re,1),100),c!=re&&(function(te){for(var ke=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],be=0;be<64;be++){var ve=d((ke[be]*te+50)/100);ve=Math.min(Math.max(ve,1),255),p[F[be]]=ve}for(var Re=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Be=0;Be<64;Be++){var Ue=d((Re[Be]*te+50)/100);Ue=Math.min(Math.max(Ue,1),255),m[F[Be]]=Ue}for(var Ze=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ge=0,ft=0;ft<8;ft++)for(var gt=0;gt<8;gt++)k[Ge]=1/(p[F[Ge]]*Ze[ft]*Ze[gt]*8),v[Ge]=1/(m[F[Ge]]*Ze[ft]*Ze[gt]*8),Ge++}(re<50?Math.floor(5e3/re):Math.floor(200-2*re)),c=re)}this.encode=function(re,te){te&&Ie(te),E=new Array,j=0,M=7,Me(65496),Me(65504),Me(16),me(74),me(70),me(73),me(70),me(0),me(1),me(1),me(0),Me(1),Me(1),me(0),me(0),function(){Me(65499),Me(132),me(0);for(var Fe=0;Fe<64;Fe++)me(p[Fe]);me(1);for(var dt=0;dt<64;dt++)me(m[dt])}(),function(Fe,dt){Me(65472),Me(17),me(8),Me(dt),Me(Fe),me(3),me(1),me(17),me(0),me(2),me(17),me(1),me(3),me(17),me(1)}(re.width,re.height),function(){Me(65476),Me(418),me(0);for(var Fe=0;Fe<16;Fe++)me(Q[Fe+1]);for(var dt=0;dt<=11;dt++)me(Z[dt]);me(16);for(var wt=0;wt<16;wt++)me(ae[wt+1]);for(var ot=0;ot<=161;ot++)me(X[ot]);me(1);for(var pt=0;pt<16;pt++)me(Y[pt+1]);for(var He=0;He<=11;He++)me(U[He]);me(17);for(var at=0;at<16;at++)me(q[at+1]);for(var kt=0;kt<=161;kt++)me(fe[kt])}(),Me(65498),Me(12),me(3),me(1),me(0),me(2),me(17),me(3),me(17),me(0),me(63),me(0);var ke=0,be=0,ve=0;j=0,M=7,this.encode.displayName="_encode_";for(var Re,Be,Ue,Ze,Ge,ft,gt,oe,Pe,we=re.data,De=re.width,Ae=re.height,Oe=4*De,Ke=0;Ke<Ae;){for(Re=0;Re<Oe;){for(Ge=Oe*Ke+Re,gt=-1,oe=0,Pe=0;Pe<64;Pe++)ft=Ge+(oe=Pe>>3)*Oe+(gt=4*(7&Pe)),Ke+oe>=Ae&&(ft-=Oe*(Ke+1+oe-Ae)),Re+gt>=Oe&&(ft-=Re+gt-Oe+4),Be=we[ft++],Ue=we[ft++],Ze=we[ft++],B[Pe]=(H[Be]+H[Ue+256>>0]+H[Ze+512>>0]>>16)-128,z[Pe]=(H[Be+768>>0]+H[Ue+1024>>0]+H[Ze+1280>>0]>>16)-128,G[Pe]=(H[Be+1280>>0]+H[Ue+1536>>0]+H[Ze+1792>>0]>>16)-128;ke=ce(B,k,ke,i,o),be=ce(z,v,be,n,a),ve=ce(G,v,ve,n,a),Re+=32}Ke+=8}if(M>=0){var Xe=[];Xe[1]=M+1,Xe[0]=(1<<M+1)-1,de(Xe)}return Me(65497),new Uint8Array(E)},t=t||50,function(){for(var re=String.fromCharCode,te=0;te<256;te++)J[te]=re(te)}(),i=ue(Q,Z),n=ue(Y,U),o=ue(ae,X),a=ue(q,fe),function(){for(var re=1,te=2,ke=1;ke<=15;ke++){for(var be=re;be<te;be++)x[32767+be]=ke,_[32767+be]=[],_[32767+be][1]=ke,_[32767+be][0]=be;for(var ve=-(te-1);ve<=-re;ve++)x[32767+ve]=ke,_[32767+ve]=[],_[32767+ve][1]=ke,_[32767+ve][0]=te-1+ve;re<<=1,te<<=1}}(),function(){for(var re=0;re<256;re++)H[re]=19595*re,H[re+256>>0]=38470*re,H[re+512>>0]=7471*re+32768,H[re+768>>0]=-11059*re,H[re+1024>>0]=-21709*re,H[re+1280>>0]=32768*re+8421375,H[re+1536>>0]=-27439*re,H[re+1792>>0]=-5329*re}(),Ie(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Qd(t,i){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!i,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Lj(t){function i(Q){if(!Q)throw Error("assert :P")}function n(Q,Z,ae){for(var X=0;4>X;X++)if(Q[Z+X]!=ae.charCodeAt(X))return!0;return!1}function o(Q,Z,ae,X,Y){for(var U=0;U<Y;U++)Q[Z+U]=ae[X+U]}function a(Q,Z,ae,X){for(var Y=0;Y<X;Y++)Q[Z+Y]=ae}function c(Q){return new Int32Array(Q)}function d(Q,Z){for(var ae=[],X=0;X<Q;X++)ae.push(new Z);return ae}function p(Q,Z){var ae=[];return function X(Y,U,q){for(var fe=q[U],ue=0;ue<fe&&(Y.push(q.length>U+1?[]:new Z),!(q.length<U+1));ue++)X(Y[ue],U+1,q)}(ae,0,Q),ae}var m=function(){var Q=this;function Z(N,R){for(var K=1<<R-1>>>0;N&K;)K>>>=1;return K?(N&K-1)+K:N}function ae(N,R,K,ie,pe){i(!(ie%K));do N[R+(ie-=K)]=pe;while(0<ie)}function X(N,R,K,ie,pe){if(i(2328>=pe),512>=pe)var ye=c(512);else if((ye=c(pe))==null)return 0;return function(_e,Se,Te,Le,We,lt){var rt,et,Bt=Se,bt=1<<Te,Ye=c(16),Je=c(16);for(i(We!=0),i(Le!=null),i(_e!=null),i(0<Te),et=0;et<We;++et){if(15<Le[et])return 0;++Ye[Le[et]]}if(Ye[0]==We)return 0;for(Je[1]=0,rt=1;15>rt;++rt){if(Ye[rt]>1<<rt)return 0;Je[rt+1]=Je[rt]+Ye[rt]}for(et=0;et<We;++et)rt=Le[et],0<Le[et]&&(lt[Je[rt]++]=et);if(Je[15]==1)return(Le=new Y).g=0,Le.value=lt[0],ae(_e,Bt,1,bt,Le),bt;var Tt,Rt=-1,Lt=bt-1,nn=0,Xt=1,vn=1,en=1<<Te;for(et=0,rt=1,We=2;rt<=Te;++rt,We<<=1){if(Xt+=vn<<=1,0>(vn-=Ye[rt]))return 0;for(;0<Ye[rt];--Ye[rt])(Le=new Y).g=rt,Le.value=lt[et++],ae(_e,Bt+nn,We,en,Le),nn=Z(nn,rt)}for(rt=Te+1,We=2;15>=rt;++rt,We<<=1){if(Xt+=vn<<=1,0>(vn-=Ye[rt]))return 0;for(;0<Ye[rt];--Ye[rt]){if(Le=new Y,(nn&Lt)!=Rt){for(Bt+=en,Tt=1<<(Rt=rt)-Te;15>Rt&&!(0>=(Tt-=Ye[Rt]));)++Rt,Tt<<=1;bt+=en=1<<(Tt=Rt-Te),_e[Se+(Rt=nn&Lt)].g=Tt+Te,_e[Se+Rt].value=Bt-Se-Rt}Le.g=rt-Te,Le.value=lt[et++],ae(_e,Bt+(nn>>Te),We,en,Le),nn=Z(nn,rt)}}return Xt!=2*Je[15]-1?0:bt}(N,R,K,ie,pe,ye)}function Y(){this.value=this.g=0}function U(){this.value=this.g=0}function q(){this.G=d(5,Y),this.H=c(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=d(Ai,U)}function fe(N,R,K,ie){i(N!=null),i(R!=null),i(2147483648>ie),N.Ca=254,N.I=0,N.b=-8,N.Ka=0,N.oa=R,N.pa=K,N.Jd=R,N.Yc=K+ie,N.Zc=4<=ie?K+ie-4+1:K,Re(N)}function ue(N,R){for(var K=0;0<R--;)K|=Ue(N,128)<<R;return K}function de(N,R){var K=ue(N,R);return Be(N)?-K:K}function me(N,R,K,ie){var pe,ye=0;for(i(N!=null),i(R!=null),i(4294967288>ie),N.Sb=ie,N.Ra=0,N.u=0,N.h=0,4<ie&&(ie=4),pe=0;pe<ie;++pe)ye+=R[K+pe]<<8*pe;N.Ra=ye,N.bb=ie,N.oa=R,N.pa=K}function Me(N){for(;8<=N.u&&N.bb<N.Sb;)N.Ra>>>=8,N.Ra+=N.oa[N.pa+N.bb]<<Ad-8>>>0,++N.bb,N.u-=8;ke(N)&&(N.h=1,N.u=0)}function ce(N,R){if(i(0<=R),!N.h&&R<=yd){var K=te(N)&Pa[R];return N.u+=R,Me(N),K}return N.h=1,N.u=0}function Ie(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function re(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function te(N){return N.Ra>>>(N.u&Ad-1)>>>0}function ke(N){return i(N.bb<=N.Sb),N.h||N.bb==N.Sb&&N.u>Ad}function be(N,R){N.u=R,N.h=ke(N)}function ve(N){N.u>=Ic&&(i(N.u>=Ic),Me(N))}function Re(N){i(N!=null&&N.oa!=null),N.pa<N.Zc?(N.I=(N.oa[N.pa++]|N.I<<8)>>>0,N.b+=8):(i(N!=null&&N.oa!=null),N.pa<N.Yc?(N.b+=8,N.I=N.oa[N.pa++]|N.I<<8):N.Ka?N.b=0:(N.I<<=8,N.b+=8,N.Ka=1))}function Be(N){return ue(N,1)}function Ue(N,R){var K=N.Ca;0>N.b&&Re(N);var ie=N.b,pe=K*R>>>8,ye=(N.I>>>ie>pe)+0;for(ye?(K-=pe,N.I-=pe+1<<ie>>>0):K=pe+1,ie=K,pe=0;256<=ie;)pe+=8,ie>>=8;return ie=7^pe+Es[ie],N.b-=ie,N.Ca=(K<<ie)-1,ye}function Ze(N,R,K){N[R+0]=K>>24&255,N[R+1]=K>>16&255,N[R+2]=K>>8&255,N[R+3]=K>>0&255}function Ge(N,R){return N[R+0]<<0|N[R+1]<<8}function ft(N,R){return Ge(N,R)|N[R+2]<<16}function gt(N,R){return Ge(N,R)|Ge(N,R+2)<<16}function oe(N,R){var K=1<<R;return i(N!=null),i(0<R),N.X=c(K),N.X==null?0:(N.Mb=32-R,N.Xa=R,1)}function Pe(N,R){i(N!=null),i(R!=null),i(N.Xa==R.Xa),o(R.X,0,N.X,0,1<<R.Xa)}function we(){this.X=[],this.Xa=this.Mb=0}function De(N,R,K,ie){i(K!=null),i(ie!=null);var pe=K[0],ye=ie[0];return pe==0&&(pe=(N*ye+R/2)/R),ye==0&&(ye=(R*pe+N/2)/N),0>=pe||0>=ye?0:(K[0]=pe,ie[0]=ye,1)}function Ae(N,R){return N+(1<<R)-1>>>R}function Oe(N,R){return((4278255360&N)+(4278255360&R)>>>0&4278255360)+((16711935&N)+(16711935&R)>>>0&16711935)>>>0}function Ke(N,R){Q[R]=function(K,ie,pe,ye,_e,Se,Te){var Le;for(Le=0;Le<_e;++Le){var We=Q[N](Se[Te+Le-1],pe,ye+Le);Se[Te+Le]=Oe(K[ie+Le],We)}}}function Xe(){this.ud=this.hd=this.jd=0}function Fe(N,R){return((4278124286&(N^R))>>>1)+(N&R)>>>0}function dt(N){return 0<=N&&256>N?N:0>N?0:255<N?255:void 0}function wt(N,R){return dt(N+(N-R+.5>>1))}function ot(N,R,K){return Math.abs(R-K)-Math.abs(N-K)}function pt(N,R,K,ie,pe,ye,_e){for(ie=ye[_e-1],K=0;K<pe;++K)ye[_e+K]=ie=Oe(N[R+K],ie)}function He(N,R,K,ie,pe){var ye;for(ye=0;ye<K;++ye){var _e=N[R+ye],Se=_e>>8&255,Te=16711935&(Te=(Te=16711935&_e)+((Se<<16)+Se));ie[pe+ye]=(4278255360&_e)+Te>>>0}}function at(N,R){R.jd=N>>0&255,R.hd=N>>8&255,R.ud=N>>16&255}function kt(N,R,K,ie,pe,ye){var _e;for(_e=0;_e<ie;++_e){var Se=R[K+_e],Te=Se>>>8,Le=Se,We=255&(We=(We=Se>>>16)+((N.jd<<24>>24)*(Te<<24>>24)>>>5));Le=255&(Le=(Le=Le+((N.hd<<24>>24)*(Te<<24>>24)>>>5))+((N.ud<<24>>24)*(We<<24>>24)>>>5)),pe[ye+_e]=(4278255360&Se)+(We<<16)+Le}}function Yt(N,R,K,ie,pe){Q[R]=function(ye,_e,Se,Te,Le,We,lt,rt,et){for(Te=lt;Te<rt;++Te)for(lt=0;lt<et;++lt)Le[We++]=pe(Se[ie(ye[_e++])])},Q[N]=function(ye,_e,Se,Te,Le,We,lt){var rt=8>>ye.b,et=ye.Ea,Bt=ye.K[0],bt=ye.w;if(8>rt)for(ye=(1<<ye.b)-1,bt=(1<<rt)-1;_e<Se;++_e){var Ye,Je=0;for(Ye=0;Ye<et;++Ye)Ye&ye||(Je=ie(Te[Le++])),We[lt++]=pe(Bt[Je&bt]),Je>>=rt}else Q["VP8LMapColor"+K](Te,Le,Bt,bt,We,lt,_e,Se,et)}}function yt(N,R,K,ie,pe){for(K=R+K;R<K;){var ye=N[R++];ie[pe++]=ye>>16&255,ie[pe++]=ye>>8&255,ie[pe++]=ye>>0&255}}function Bn(N,R,K,ie,pe){for(K=R+K;R<K;){var ye=N[R++];ie[pe++]=ye>>16&255,ie[pe++]=ye>>8&255,ie[pe++]=ye>>0&255,ie[pe++]=ye>>24&255}}function on(N,R,K,ie,pe){for(K=R+K;R<K;){var ye=(_e=N[R++])>>16&240|_e>>12&15,_e=_e>>0&240|_e>>28&15;ie[pe++]=ye,ie[pe++]=_e}}function wr(N,R,K,ie,pe){for(K=R+K;R<K;){var ye=(_e=N[R++])>>16&248|_e>>13&7,_e=_e>>5&224|_e>>3&31;ie[pe++]=ye,ie[pe++]=_e}}function xn(N,R,K,ie,pe){for(K=R+K;R<K;){var ye=N[R++];ie[pe++]=ye>>0&255,ie[pe++]=ye>>8&255,ie[pe++]=ye>>16&255}}function In(N,R,K,ie,pe,ye){if(ye==0)for(K=R+K;R<K;)Ze(ie,((ye=N[R++])[0]>>24|ye[1]>>8&65280|ye[2]<<8&16711680|ye[3]<<24)>>>0),pe+=32;else o(ie,pe,N,R,K)}function zn(N,R){Q[R][0]=Q[N+"0"],Q[R][1]=Q[N+"1"],Q[R][2]=Q[N+"2"],Q[R][3]=Q[N+"3"],Q[R][4]=Q[N+"4"],Q[R][5]=Q[N+"5"],Q[R][6]=Q[N+"6"],Q[R][7]=Q[N+"7"],Q[R][8]=Q[N+"8"],Q[R][9]=Q[N+"9"],Q[R][10]=Q[N+"10"],Q[R][11]=Q[N+"11"],Q[R][12]=Q[N+"12"],Q[R][13]=Q[N+"13"],Q[R][14]=Q[N+"0"],Q[R][15]=Q[N+"0"]}function Yn(N){return N==Du||N==Pc||N==$l||N==Sd}function ei(){this.eb=[],this.size=this.A=this.fb=0}function rr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function vr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ei,this.f.kb=new rr,this.sd=null}function gr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function yr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function fn(N){return alert("todo:WebPSamplerProcessPlane"),N.T}function ir(N,R){var K=N.T,ie=R.ba.f.RGBA,pe=ie.eb,ye=ie.fb+N.ka*ie.A,_e=Uo[R.ba.S],Se=N.y,Te=N.O,Le=N.f,We=N.N,lt=N.ea,rt=N.W,et=R.cc,Bt=R.dc,bt=R.Mc,Ye=R.Nc,Je=N.ka,Tt=N.ka+N.T,Rt=N.U,Lt=Rt+1>>1;for(Je==0?_e(Se,Te,null,null,Le,We,lt,rt,Le,We,lt,rt,pe,ye,null,null,Rt):(_e(R.ec,R.fc,Se,Te,et,Bt,bt,Ye,Le,We,lt,rt,pe,ye-ie.A,pe,ye,Rt),++K);Je+2<Tt;Je+=2)et=Le,Bt=We,bt=lt,Ye=rt,We+=N.Rc,rt+=N.Rc,ye+=2*ie.A,_e(Se,(Te+=2*N.fa)-N.fa,Se,Te,et,Bt,bt,Ye,Le,We,lt,rt,pe,ye-ie.A,pe,ye,Rt);return Te+=N.fa,N.j+Tt<N.o?(o(R.ec,R.fc,Se,Te,Rt),o(R.cc,R.dc,Le,We,Lt),o(R.Mc,R.Nc,lt,rt,Lt),K--):1&Tt||_e(Se,Te,null,null,Le,We,lt,rt,Le,We,lt,rt,pe,ye+ie.A,null,null,Rt),K}function is(N,R,K){var ie=N.F,pe=[N.J];if(ie!=null){var ye=N.U,_e=R.ba.S,Se=_e==Eu||_e==$l;R=R.ba.f.RGBA;var Te=[0],Le=N.ka;Te[0]=N.T,N.Kb&&(Le==0?--Te[0]:(--Le,pe[0]-=N.width),N.j+N.ka+N.T==N.o&&(Te[0]=N.o-N.j-Le));var We=R.eb;Le=R.fb+Le*R.A,N=sr(ie,pe[0],N.width,ye,Te,We,Le+(Se?0:3),R.A),i(K==Te),N&&Yn(_e)&&oa(We,Le,Se,ye,Te,R.A)}return 0}function wi(N){var R=N.ma,K=R.ba.S,ie=11>K,pe=K==xd||K==Lc||K==Eu||K==ya||K==12||Yn(K);if(R.memory=null,R.Ib=null,R.Jb=null,R.Nd=null,!Au(R.Oa,N,pe?11:12))return 0;if(pe&&Yn(K)&&Gt(),N.da)alert("todo:use_scaling");else{if(ie){if(R.Ib=fn,N.Kb){if(K=N.U+1>>1,R.memory=c(N.U+2*K),R.memory==null)return 0;R.ec=R.memory,R.fc=0,R.cc=R.ec,R.dc=R.fc+N.U,R.Mc=R.cc,R.Nc=R.dc+K,R.Ib=ir,Gt()}}else alert("todo:EmitYUV");pe&&(R.Jb=is,ie&&it())}if(ie&&!_b){for(N=0;256>N;++N)Cb[N]=89858*(N-128)+Co>>Kl,jf[N]=-22014*(N-128)+Co,Nf[N]=-45773*(N-128),xo[N]=113618*(N-128)+Co>>Kl;for(N=Dd;N<Ep;++N)R=76283*(N-16)+Co>>Kl,Of[N-Dd]=ia(R,255),Dp[N-Dd]=ia(R+8>>4,15);_b=1}return 1}function os(N){var R=N.ma,K=N.U,ie=N.T;return i(!(1&N.ka)),0>=K||0>=ie?0:(K=R.Ib(N,R),R.Jb!=null&&R.Jb(N,R,K),R.Dc+=K,1)}function ss(N){N.ma.memory=null}function hn(N,R,K,ie){return ce(N,8)!=47?0:(R[0]=ce(N,14)+1,K[0]=ce(N,14)+1,ie[0]=ce(N,1),ce(N,3)!=0?0:!N.h)}function Sr(N,R){if(4>N)return N+1;var K=N-2>>1;return(2+(1&N)<<K)+ce(R,K)+1}function or(N,R){return 120<R?R-120:1<=(K=((K=Gl[R-1])>>4)*N+(8-(15&K)))?K:1;var K}function vi(N,R,K){var ie=te(K),pe=N[R+=255&ie].g-8;return 0<pe&&(be(K,K.u+8),ie=te(K),R+=N[R].value,R+=ie&(1<<pe)-1),be(K,K.u+N[R].g),N[R].value}function jr(N,R,K){return K.g+=N.g,K.value+=N.value<<R>>>0,i(8>=K.g),N.g}function Wr(N,R,K){var ie=N.xc;return i((R=ie==0?0:N.vc[N.md*(K>>ie)+(R>>ie)])<N.Wb),N.Ya[R]}function di(N,R,K,ie){var pe=N.ab,ye=N.c*R,_e=N.C;R=_e+R;var Se=K,Te=ie;for(ie=N.Ta,K=N.Ua;0<pe--;){var Le=N.gc[pe],We=_e,lt=R,rt=Se,et=Te,Bt=(Te=ie,Se=K,Le.Ea);switch(i(We<lt),i(lt<=Le.nc),Le.hc){case 2:Ap(rt,et,(lt-We)*Bt,Te,Se);break;case 0:var bt=We,Ye=lt,Je=Te,Tt=Se,Rt=(en=Le).Ea;bt==0&&(Jm(rt,et,null,null,1,Je,Tt),pt(rt,et+1,0,0,Rt-1,Je,Tt+1),et+=Rt,Tt+=Rt,++bt);for(var Lt=1<<en.b,nn=Lt-1,Xt=Ae(Rt,en.b),vn=en.K,en=en.w+(bt>>en.b)*Xt;bt<Ye;){var Cr=vn,Or=en,tr=1;for(Df(rt,et,Je,Tt-Rt,1,Je,Tt);tr<Rt;){var qn=(tr&~nn)+Lt;qn>Rt&&(qn=Rt),(0,Tc[Cr[Or++]>>8&15])(rt,et+ +tr,Je,Tt+tr-Rt,qn-tr,Je,Tt+tr),tr=qn}et+=Rt,Tt+=Rt,++bt&nn||(en+=Xt)}lt!=Le.nc&&o(Te,Se-Bt,Te,Se+(lt-We-1)*Bt,Bt);break;case 1:for(Bt=rt,Ye=et,Rt=(rt=Le.Ea)-(Tt=rt&~(Je=(et=1<<Le.b)-1)),bt=Ae(rt,Le.b),Lt=Le.K,Le=Le.w+(We>>Le.b)*bt;We<lt;){for(nn=Lt,Xt=Le,vn=new Xe,en=Ye+Tt,Cr=Ye+rt;Ye<en;)at(nn[Xt++],vn),Mc(vn,Bt,Ye,et,Te,Se),Ye+=et,Se+=et;Ye<Cr&&(at(nn[Xt++],vn),Mc(vn,Bt,Ye,Rt,Te,Se),Ye+=Rt,Se+=Rt),++We&Je||(Le+=bt)}break;case 3:if(rt==Te&&et==Se&&0<Le.b){for(Ye=Te,rt=Bt=Se+(lt-We)*Bt-(Tt=(lt-We)*Ae(Le.Ea,Le.b)),et=Te,Je=Se,bt=[],Tt=(Rt=Tt)-1;0<=Tt;--Tt)bt[Tt]=et[Je+Tt];for(Tt=Rt-1;0<=Tt;--Tt)Ye[rt+Tt]=bt[Tt];ka(Le,We,lt,Te,Bt,Te,Se)}else ka(Le,We,lt,rt,et,Te,Se)}Se=ie,Te=K}Te!=K&&o(ie,K,Se,Te,ye)}function jl(N,R){var K=N.V,ie=N.Ba+N.c*N.C,pe=R-N.C;if(i(R<=N.l.o),i(16>=pe),0<pe){var ye=N.l,_e=N.Ta,Se=N.Ua,Te=ye.width;if(di(N,pe,K,ie),pe=Se=[Se],i((K=N.C)<(ie=R)),i(ye.v<ye.va),ie>ye.o&&(ie=ye.o),K<ye.j){var Le=ye.j-K;K=ye.j,pe[0]+=Le*Te}if(K>=ie?K=0:(pe[0]+=4*ye.v,ye.ka=K-ye.j,ye.U=ye.va-ye.v,ye.T=ie-K,K=1),K){if(Se=Se[0],11>(K=N.ca).S){var We=K.f.RGBA,lt=(ie=K.S,pe=ye.U,ye=ye.T,Le=We.eb,We.A),rt=ye;for(We=We.fb+N.Ma*We.A;0<rt--;){var et=_e,Bt=Se,bt=pe,Ye=Le,Je=We;switch(ie){case fo:Us(et,Bt,bt,Ye,Je);break;case xd:zo(et,Bt,bt,Ye,Je);break;case Du:zo(et,Bt,bt,Ye,Je),oa(Ye,Je,0,bt,1,0);break;case Ws:kl(et,Bt,bt,Ye,Je);break;case Lc:In(et,Bt,bt,Ye,Je,1);break;case Pc:In(et,Bt,bt,Ye,Je,1),oa(Ye,Je,0,bt,1,0);break;case Eu:In(et,Bt,bt,Ye,Je,0);break;case $l:In(et,Bt,bt,Ye,Je,0),oa(Ye,Je,1,bt,1,0);break;case ya:Cu(et,Bt,bt,Ye,Je);break;case Sd:Cu(et,Bt,bt,Ye,Je),pr(Ye,Je,bt,1,0);break;case Ua:qs(et,Bt,bt,Ye,Je);break;default:i(0)}Se+=Te,We+=lt}N.Ma+=ye}else alert("todo:EmitRescaledRowsYUVA");i(N.Ma<=K.height)}}N.C=R,i(N.C<=N.i)}function Cs(N){var R;if(0<N.ua)return 0;for(R=0;R<N.Wb;++R){var K=N.Ya[R].G,ie=N.Ya[R].H;if(0<K[1][ie[1]+0].g||0<K[2][ie[2]+0].g||0<K[3][ie[3]+0].g)return 0}return 1}function xs(N,R,K,ie,pe,ye){if(N.Z!=0){var _e=N.qd,Se=N.rd;for(i(vl[N.Z]!=null);R<K;++R)vl[N.Z](_e,Se,ie,pe,ie,pe,ye),_e=ie,Se=pe,pe+=ye;N.qd=_e,N.rd=Se}}function wo(N,R){var K=N.l.ma,ie=K.Z==0||K.Z==1?N.l.j:N.C;if(ie=N.C<ie?ie:N.C,i(R<=N.l.o),R>ie){var pe=N.l.width,ye=K.ca,_e=K.tb+pe*ie,Se=N.V,Te=N.Ba+N.c*ie,Le=N.gc;i(N.ab==1),i(Le[0].hc==3),_u(Le[0],ie,R,Se,Te,ye,_e),xs(K,ie,R,ye,_e,pe)}N.C=N.Ma=R}function Di(N,R,K,ie,pe,ye,_e){var Se=N.$/ie,Te=N.$%ie,Le=N.m,We=N.s,lt=K+N.$,rt=lt;pe=K+ie*pe;var et=K+ie*ye,Bt=280+We.ua,bt=N.Pb?Se:16777216,Ye=0<We.ua?We.Wa:null,Je=We.wc,Tt=lt<et?Wr(We,Te,Se):null;i(N.C<ye),i(et<=pe);var Rt=!1;e:for(;;){for(;Rt||lt<et;){var Lt=0;if(Se>=bt){var nn=lt-K;i((bt=N).Pb),bt.wd=bt.m,bt.xd=nn,0<bt.s.ua&&Pe(bt.s.Wa,bt.s.vb),bt=Se+Ab}if(Te&Je||(Tt=Wr(We,Te,Se)),i(Tt!=null),Tt.Qb&&(R[lt]=Tt.qb,Rt=!0),!Rt)if(ve(Le),Tt.jc){Lt=Le,nn=R;var Xt=lt,vn=Tt.pd[te(Lt)&Ai-1];i(Tt.jc),256>vn.g?(be(Lt,Lt.u+vn.g),nn[Xt]=vn.value,Lt=0):(be(Lt,Lt.u+vn.g-256),i(256<=vn.value),Lt=vn.value),Lt==0&&(Rt=!0)}else Lt=vi(Tt.G[0],Tt.H[0],Le);if(Le.h)break;if(Rt||256>Lt){if(!Rt)if(Tt.nd)R[lt]=(Tt.qb|Lt<<8)>>>0;else{if(ve(Le),Rt=vi(Tt.G[1],Tt.H[1],Le),ve(Le),nn=vi(Tt.G[2],Tt.H[2],Le),Xt=vi(Tt.G[3],Tt.H[3],Le),Le.h)break;R[lt]=(Xt<<24|Rt<<16|Lt<<8|nn)>>>0}if(Rt=!1,++lt,++Te>=ie&&(Te=0,++Se,_e!=null&&Se<=ye&&!(Se%16)&&_e(N,Se),Ye!=null))for(;rt<lt;)Lt=R[rt++],Ye.X[(506832829*Lt&4294967295)>>>Ye.Mb]=Lt}else if(280>Lt){if(Lt=Sr(Lt-256,Le),nn=vi(Tt.G[4],Tt.H[4],Le),ve(Le),nn=or(ie,nn=Sr(nn,Le)),Le.h)break;if(lt-K<nn||pe-lt<Lt)break e;for(Xt=0;Xt<Lt;++Xt)R[lt+Xt]=R[lt+Xt-nn];for(lt+=Lt,Te+=Lt;Te>=ie;)Te-=ie,++Se,_e!=null&&Se<=ye&&!(Se%16)&&_e(N,Se);if(i(lt<=pe),Te&Je&&(Tt=Wr(We,Te,Se)),Ye!=null)for(;rt<lt;)Lt=R[rt++],Ye.X[(506832829*Lt&4294967295)>>>Ye.Mb]=Lt}else{if(!(Lt<Bt))break e;for(Rt=Lt-280,i(Ye!=null);rt<lt;)Lt=R[rt++],Ye.X[(506832829*Lt&4294967295)>>>Ye.Mb]=Lt;Lt=lt,i(!(Rt>>>(nn=Ye).Xa)),R[Lt]=nn.X[Rt],Rt=!0}Rt||i(Le.h==ke(Le))}if(N.Pb&&Le.h&&lt<pe)i(N.m.h),N.a=5,N.m=N.wd,N.$=N.xd,0<N.s.ua&&Pe(N.s.vb,N.s.Wa);else{if(Le.h)break e;_e!=null&&_e(N,Se>ye?ye:Se),N.a=0,N.$=lt-K}return 1}return N.a=3,0}function lo(N){i(N!=null),N.vc=null,N.yc=null,N.Ya=null;var R=N.Wa;R!=null&&(R.X=null),N.vb=null,i(N!=null)}function co(){var N=new Zm;return N==null?null:(N.a=0,N.xb=xh,zn("Predictor","VP8LPredictors"),zn("Predictor","VP8LPredictors_C"),zn("PredictorAdd","VP8LPredictorsAdd"),zn("PredictorAdd","VP8LPredictorsAdd_C"),Ap=He,Mc=kt,Us=yt,zo=Bn,Cu=on,qs=wr,kl=xn,Q.VP8LMapColor32b=Ao,Q.VP8LMapColor8b=Ch,N)}function zr(N,R,K,ie,pe){var ye=1,_e=[N],Se=[R],Te=ie.m,Le=ie.s,We=null,lt=0;e:for(;;){if(K)for(;ye&&ce(Te,1);){var rt=_e,et=Se,Bt=ie,bt=1,Ye=Bt.m,Je=Bt.gc[Bt.ab],Tt=ce(Ye,2);if(Bt.Oc&1<<Tt)ye=0;else{switch(Bt.Oc|=1<<Tt,Je.hc=Tt,Je.Ea=rt[0],Je.nc=et[0],Je.K=[null],++Bt.ab,i(4>=Bt.ab),Tt){case 0:case 1:Je.b=ce(Ye,3)+2,bt=zr(Ae(Je.Ea,Je.b),Ae(Je.nc,Je.b),0,Bt,Je.K),Je.K=Je.K[0];break;case 3:var Rt,Lt=ce(Ye,8)+1,nn=16<Lt?0:4<Lt?1:2<Lt?2:3;if(rt[0]=Ae(Je.Ea,nn),Je.b=nn,Rt=bt=zr(Lt,1,0,Bt,Je.K)){var Xt,vn=Lt,en=Je,Cr=1<<(8>>en.b),Or=c(Cr);if(Or==null)Rt=0;else{var tr=en.K[0],qn=en.w;for(Or[0]=en.K[0][0],Xt=1;Xt<1*vn;++Xt)Or[Xt]=Oe(tr[qn+Xt],Or[Xt-1]);for(;Xt<4*Cr;++Xt)Or[Xt]=0;en.K[0]=null,en.K[0]=Or,Rt=1}}bt=Rt;break;case 2:break;default:i(0)}ye=bt}}if(_e=_e[0],Se=Se[0],ye&&ce(Te,1)&&!(ye=1<=(lt=ce(Te,4))&&11>=lt)){ie.a=3;break e}var Br;if(Br=ye)t:{var Ir,Pn,Zr,Cn=ie,jn=_e,It=Se,Tr=lt,Vt=K,Eo=Cn.m,zt=Cn.s,Xi=[null],Ut=1,Va=0,jt=Rc[Tr];n:for(;;){if(Vt&&ce(Eo,1)){var zi=ce(Eo,3)+2,Ks=Ae(jn,zi),un=Ae(It,zi),Ql=Ks*un;if(!zr(Ks,un,0,Cn,Xi))break n;for(Xi=Xi[0],zt.xc=zi,Ir=0;Ir<Ql;++Ir){var Zl=Xi[Ir]>>8&65535;Xi[Ir]=Zl,Zl>=Ut&&(Ut=Zl+1)}}if(Eo.h)break n;for(Pn=0;5>Pn;++Pn){var ri=sa[Pn];!Pn&&0<Tr&&(ri+=1<<Tr),Va<ri&&(Va=ri)}var Bf=d(Ut*jt,Y),$t=Ut,Ds=d($t,q);if(Ds==null)var pn=null;else i(65536>=$t),pn=Ds;var Nu=c(Va);if(pn==null||Nu==null||Bf==null){Cn.a=1;break n}var Uc=Bf;for(Ir=Zr=0;Ir<Ut;++Ir){var Qs=pn[Ir],qc=Qs.G,cs=Qs.H,ju=0,Eh=1,Ip=0;for(Pn=0;5>Pn;++Pn){ri=sa[Pn],qc[Pn]=Uc,cs[Pn]=Zr,!Pn&&0<Tr&&(ri+=1<<Tr);i:{var Td,Dh=ri,Lf=Cn,Ih=Nu,xb=Uc,Sb=Zr,Pf=0,Vc=Lf.m,Bk=ce(Vc,1);if(a(Ih,0,0,Dh),Bk){var tg=ce(Vc,1)+1,ng=ce(Vc,1),rg=ce(Vc,ng==0?1:8);Ih[rg]=1,tg==2&&(Ih[rg=ce(Vc,8)]=1);var Ou=1}else{var Th=c(19),Bu=ce(Vc,4)+4;if(19<Bu){Lf.a=3;var Md=0;break i}for(Td=0;Td<Bu;++Td)Th[Wl[Td]]=ce(Vc,3);var Hc=void 0,Mh=void 0,ig=Lf,Rf=Th,Aa=Dh,$c=Ih,zf=0,Ha=ig.m,Nh=8,og=d(128,Y);r:for(;X(og,0,7,Rf,19);){if(ce(Ha,1)){var Eb=2+2*ce(Ha,3);if((Hc=2+ce(Ha,Eb))>Aa)break r}else Hc=Aa;for(Mh=0;Mh<Aa&&Hc--;){ve(Ha);var Ff=og[0+(127&te(Ha))];be(Ha,Ha.u+Ff.g);var Lu=Ff.value;if(16>Lu)$c[Mh++]=Lu,Lu!=0&&(Nh=Lu);else{var Db=Lu==16,Wc=Lu-16,Tp=qa[Wc],Gc=ce(Ha,_p[Wc])+Tp;if(Mh+Gc>Aa)break r;for(var eo=Db?Nh:0;0<Gc--;)$c[Mh++]=eo}}zf=1;break r}zf||(ig.a=3),Ou=zf}(Ou=Ou&&!Vc.h)&&(Pf=X(xb,Sb,8,Ih,Dh)),Ou&&Pf!=0?Md=Pf:(Lf.a=3,Md=0)}if(Md==0)break n;if(Eh&&Iu[Pn]==1&&(Eh=Uc[Zr].g==0),ju+=Uc[Zr].g,Zr+=Md,3>=Pn){var Zs,Nd=Nu[0];for(Zs=1;Zs<ri;++Zs)Nu[Zs]>Nd&&(Nd=Nu[Zs]);Ip+=Nd}}if(Qs.nd=Eh,Qs.Qb=0,Eh&&(Qs.qb=(qc[3][cs[3]+0].value<<24|qc[1][cs[1]+0].value<<16|qc[2][cs[2]+0].value)>>>0,ju==0&&256>qc[0][cs[0]+0].value&&(Qs.Qb=1,Qs.qb+=qc[0][cs[0]+0].value<<8)),Qs.jc=!Qs.Qb&&6>Ip,Qs.jc){var Uf,_a=Qs;for(Uf=0;Uf<Ai;++Uf){var $a=Uf,Vo=_a.pd[$a],Pu=_a.G[0][_a.H[0]+$a];256<=Pu.value?(Vo.g=Pu.g+256,Vo.value=Pu.value):(Vo.g=0,Vo.value=0,$a>>=jr(Pu,8,Vo),$a>>=jr(_a.G[1][_a.H[1]+$a],16,Vo),$a>>=jr(_a.G[2][_a.H[2]+$a],0,Vo),jr(_a.G[3][_a.H[3]+$a],24,Vo))}}}zt.vc=Xi,zt.Wb=Ut,zt.Ya=pn,zt.yc=Bf,Br=1;break t}Br=0}if(!(ye=Br)){ie.a=3;break e}if(0<lt){if(Le.ua=1<<lt,!oe(Le.Wa,lt)){ie.a=1,ye=0;break e}}else Le.ua=0;var jd=ie,sg=_e,ag=Se,lg=jd.s,cg=lg.xc;if(jd.c=sg,jd.i=ag,lg.md=Ae(sg,cg),lg.wc=cg==0?-1:(1<<cg)-1,K){ie.xb=Xm;break e}if((We=c(_e*Se))==null){ie.a=1,ye=0;break e}ye=(ye=Di(ie,We,0,_e,Se,Se,null))&&!Te.h;break e}return ye?(pe!=null?pe[0]=We:(i(We==null),i(K)),ie.$=0,K||lo(Le)):lo(Le),ye}function fl(N,R){var K=N.c*N.i,ie=K+R+16*R;return i(N.c<=R),N.V=c(ie),N.V==null?(N.Ta=null,N.Ua=0,N.a=1,0):(N.Ta=N.V,N.Ua=N.Ba+K+R,1)}function Ol(N,R){var K=N.C,ie=R-K,pe=N.V,ye=N.Ba+N.c*K;for(i(R<=N.l.o);0<ie;){var _e=16<ie?16:ie,Se=N.l.ma,Te=N.l.width,Le=Te*_e,We=Se.ca,lt=Se.tb+Te*K,rt=N.Ta,et=N.Ua;di(N,_e,pe,ye),ni(rt,et,We,lt,Le),xs(Se,K,K+_e,We,lt,Te),ie-=_e,pe+=_e*N.c,K+=_e}i(K==R),N.C=N.Ma=R}function Ki(){this.ub=this.yd=this.td=this.Rb=0}function Ss(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Bl(){this.Fb=this.Bb=this.Cb=0,this.Zb=c(4),this.Lb=c(4)}function pu(){this.Yb=function(){var N=[];return function R(K,ie,pe){for(var ye=pe[ie],_e=0;_e<ye&&(K.push(pe.length>ie+1?[]:0),!(pe.length<ie+1));_e++)R(K[_e],ie+1,pe)}(N,0,[3,11]),N}()}function Ft(){this.jb=c(3),this.Wc=p([4,8],pu),this.Xc=p([4,17],pu)}function Ht(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new c(4),this.od=new c(4)}function Wt(){this.ld=this.La=this.dd=this.tc=0}function mn(){this.Na=this.la=0}function sn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Qn(){this.ad=c(384),this.Za=0,this.Ob=c(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Fr(){this.uc=this.M=this.Nb=0,this.wa=Array(new Wt),this.Y=0,this.ya=Array(new Qn),this.aa=0,this.l=new vo}function Kr(){this.y=c(16),this.f=c(8),this.ea=c(8)}function Ii(){this.cb=this.a=0,this.sc="",this.m=new Ie,this.Od=new Ki,this.Kc=new Ss,this.ed=new Ht,this.Qa=new Bl,this.Ic=this.$c=this.Aa=0,this.D=new Fr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=d(8,Ie),this.ia=0,this.pb=d(4,sn),this.Pa=new Ft,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Kr),this.Hd=0,this.rb=Array(new mn),this.sb=0,this.wa=Array(new Wt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Qn),this.L=this.aa=0,this.gd=p([4,2],Wt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function vo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ps(){var N=new Ii;return N!=null&&(N.a=0,N.sc="OK",N.cb=0,N.Xb=0,_o||(_o=fd)),N}function kr(N,R,K){return N.a==0&&(N.a=R,N.sc=K,N.cb=0),0}function Qr(N,R,K){return 3<=K&&N[R+0]==157&&N[R+1]==1&&N[R+2]==42}function mu(N,R){if(N==null)return 0;if(N.a=0,N.sc="OK",R==null)return kr(N,2,"null VP8Io passed to VP8GetHeaders()");var K=R.data,ie=R.w,pe=R.ha;if(4>pe)return kr(N,7,"Truncated header.");var ye=K[ie+0]|K[ie+1]<<8|K[ie+2]<<16,_e=N.Od;if(_e.Rb=!(1&ye),_e.td=ye>>1&7,_e.yd=ye>>4&1,_e.ub=ye>>5,3<_e.td)return kr(N,3,"Incorrect keyframe parameters.");if(!_e.yd)return kr(N,4,"Frame not displayable.");ie+=3,pe-=3;var Se=N.Kc;if(_e.Rb){if(7>pe)return kr(N,7,"cannot parse picture header");if(!Qr(K,ie,pe))return kr(N,3,"Bad code word");Se.c=16383&(K[ie+4]<<8|K[ie+3]),Se.Td=K[ie+4]>>6,Se.i=16383&(K[ie+6]<<8|K[ie+5]),Se.Ud=K[ie+6]>>6,ie+=7,pe-=7,N.za=Se.c+15>>4,N.Ub=Se.i+15>>4,R.width=Se.c,R.height=Se.i,R.Da=0,R.j=0,R.v=0,R.va=R.width,R.o=R.height,R.da=0,R.ib=R.width,R.hb=R.height,R.U=R.width,R.T=R.height,a((ye=N.Pa).jb,0,255,ye.jb.length),i((ye=N.Qa)!=null),ye.Cb=0,ye.Bb=0,ye.Fb=1,a(ye.Zb,0,0,ye.Zb.length),a(ye.Lb,0,0,ye.Lb)}if(_e.ub>pe)return kr(N,7,"bad partition length");fe(ye=N.m,K,ie,_e.ub),ie+=_e.ub,pe-=_e.ub,_e.Rb&&(Se.Ld=Be(ye),Se.Kd=Be(ye)),Se=N.Qa;var Te,Le=N.Pa;if(i(ye!=null),i(Se!=null),Se.Cb=Be(ye),Se.Cb){if(Se.Bb=Be(ye),Be(ye)){for(Se.Fb=Be(ye),Te=0;4>Te;++Te)Se.Zb[Te]=Be(ye)?de(ye,7):0;for(Te=0;4>Te;++Te)Se.Lb[Te]=Be(ye)?de(ye,6):0}if(Se.Bb)for(Te=0;3>Te;++Te)Le.jb[Te]=Be(ye)?ue(ye,8):255}else Se.Bb=0;if(ye.Ka)return kr(N,3,"cannot parse segment header");if((Se=N.ed).zd=Be(ye),Se.Tb=ue(ye,6),Se.wb=ue(ye,3),Se.Pc=Be(ye),Se.Pc&&Be(ye)){for(Le=0;4>Le;++Le)Be(ye)&&(Se.vd[Le]=de(ye,6));for(Le=0;4>Le;++Le)Be(ye)&&(Se.od[Le]=de(ye,6))}if(N.L=Se.Tb==0?0:Se.zd?1:2,ye.Ka)return kr(N,3,"cannot parse filter header");var We=pe;if(pe=Te=ie,ie=Te+We,Se=We,N.Xb=(1<<ue(N.m,2))-1,We<3*(Le=N.Xb))K=7;else{for(Te+=3*Le,Se-=3*Le,We=0;We<Le;++We){var lt=K[pe+0]|K[pe+1]<<8|K[pe+2]<<16;lt>Se&&(lt=Se),fe(N.Jc[+We],K,Te,lt),Te+=lt,Se-=lt,pe+=3}fe(N.Jc[+Le],K,Te,Se),K=Te<ie?0:5}if(K!=0)return kr(N,K,"cannot parse partitions");for(K=ue(Te=N.m,7),pe=Be(Te)?de(Te,4):0,ie=Be(Te)?de(Te,4):0,Se=Be(Te)?de(Te,4):0,Le=Be(Te)?de(Te,4):0,Te=Be(Te)?de(Te,4):0,We=N.Qa,lt=0;4>lt;++lt){if(We.Cb){var rt=We.Zb[lt];We.Fb||(rt+=K)}else{if(0<lt){N.pb[lt]=N.pb[0];continue}rt=K}var et=N.pb[lt];et.Sc[0]=Ed[ia(rt+pe,127)],et.Sc[1]=If[ia(rt+0,127)],et.Eb[0]=2*Ed[ia(rt+ie,127)],et.Eb[1]=101581*If[ia(rt+Se,127)]>>16,8>et.Eb[1]&&(et.Eb[1]=8),et.Qc[0]=Ed[ia(rt+Le,117)],et.Qc[1]=If[ia(rt+Te,127)],et.lc=rt+Te}if(!_e.Rb)return kr(N,4,"Not a key frame.");for(Be(ye),_e=N.Pa,K=0;4>K;++K){for(pe=0;8>pe;++pe)for(ie=0;3>ie;++ie)for(Se=0;11>Se;++Se)Le=Ue(ye,Yl[K][pe][ie][Se])?ue(ye,8):Gs[K][pe][ie][Se],_e.Wc[K][pe].Yb[ie][Se]=Le;for(pe=0;17>pe;++pe)_e.Xc[K][pe]=_e.Wc[K][Cp[pe]]}return N.kc=Be(ye),N.kc&&(N.Bd=ue(ye,8)),N.cb=1}function fd(N,R,K,ie,pe,ye,_e){var Se=R[pe].Yb[K];for(K=0;16>pe;++pe){if(!Ue(N,Se[K+0]))return pe;for(;!Ue(N,Se[K+1]);)if(Se=R[++pe].Yb[0],K=0,pe==16)return 16;var Te=R[pe+1].Yb;if(Ue(N,Se[K+2])){var Le=N,We=0;if(Ue(Le,(rt=Se)[(lt=K)+3]))if(Ue(Le,rt[lt+6])){for(Se=0,lt=2*(We=Ue(Le,rt[lt+8]))+(rt=Ue(Le,rt[lt+9+We])),We=0,rt=Ri[lt];rt[Se];++Se)We+=We+Ue(Le,rt[Se]);We+=3+(8<<lt)}else Ue(Le,rt[lt+7])?(We=7+2*Ue(Le,165),We+=Ue(Le,145)):We=5+Ue(Le,159);else We=Ue(Le,rt[lt+4])?3+Ue(Le,rt[lt+5]):2;Se=Te[2]}else We=1,Se=Te[1];Te=_e+ln[pe],0>(Le=N).b&&Re(Le);var lt,rt=Le.b,et=(lt=Le.Ca>>1)-(Le.I>>rt)>>31;--Le.b,Le.Ca+=et,Le.Ca|=1,Le.I-=(lt+1&et)<<rt,ye[Te]=((We^et)-et)*ie[(0<pe)+0]}return 16}function ga(N){var R=N.rb[N.sb-1];R.la=0,R.Na=0,a(N.zc,0,0,N.zc.length),N.ja=0}function gu(N,R){if(N==null)return 0;if(R==null)return kr(N,2,"NULL VP8Io parameter in VP8Decode().");if(!N.cb&&!mu(N,R))return 0;if(i(N.cb),R.ac==null||R.ac(R)){R.ob&&(N.L=0);var K=So[N.L];if(N.L==2?(N.yb=0,N.zb=0):(N.yb=R.v-K>>4,N.zb=R.j-K>>4,0>N.yb&&(N.yb=0),0>N.zb&&(N.zb=0)),N.Va=R.o+15+K>>4,N.Hb=R.va+15+K>>4,N.Hb>N.za&&(N.Hb=N.za),N.Va>N.Ub&&(N.Va=N.Ub),0<N.L){var ie=N.ed;for(K=0;4>K;++K){var pe;if(N.Qa.Cb){var ye=N.Qa.Lb[K];N.Qa.Fb||(ye+=ie.Tb)}else ye=ie.Tb;for(pe=0;1>=pe;++pe){var _e=N.gd[K][pe],Se=ye;if(ie.Pc&&(Se+=ie.vd[0],pe&&(Se+=ie.od[0])),0<(Se=0>Se?0:63<Se?63:Se)){var Te=Se;0<ie.wb&&(Te=4<ie.wb?Te>>2:Te>>1)>9-ie.wb&&(Te=9-ie.wb),1>Te&&(Te=1),_e.dd=Te,_e.tc=2*Se+Te,_e.ld=40<=Se?2:15<=Se?1:0}else _e.tc=0;_e.La=pe}}}K=0}else kr(N,6,"Frame setup failed"),K=N.a;if(K=K==0){if(K){N.$c=0,0<N.Aa||(N.Ic=Ji);e:{K=N.Ic,ie=4*(Te=N.za);var Le=32*Te,We=Te+1,lt=0<N.L?Te*(0<N.Aa?2:1):0,rt=(N.Aa==2?2:1)*Te;if((_e=ie+832+(pe=3*(16*K+So[N.L])/2*Le)+(ye=N.Fa!=null&&0<N.Fa.length?N.Kc.c*N.Kc.i:0))!=_e)K=0;else{if(_e>N.Vb){if(N.Vb=0,N.Ec=c(_e),N.Fc=0,N.Ec==null){K=kr(N,1,"no memory during frame initialization.");break e}N.Vb=_e}_e=N.Ec,Se=N.Fc,N.Ac=_e,N.Bc=Se,Se+=ie,N.Gd=d(Le,Kr),N.Hd=0,N.rb=d(We+1,mn),N.sb=1,N.wa=lt?d(lt,Wt):null,N.Y=0,N.D.Nb=0,N.D.wa=N.wa,N.D.Y=N.Y,0<N.Aa&&(N.D.Y+=Te),i(!0),N.oc=_e,N.pc=Se,Se+=832,N.ya=d(rt,Qn),N.aa=0,N.D.ya=N.ya,N.D.aa=N.aa,N.Aa==2&&(N.D.aa+=Te),N.R=16*Te,N.B=8*Te,Te=(Le=So[N.L])*N.R,Le=Le/2*N.B,N.sa=_e,N.ta=Se+Te,N.qa=N.sa,N.ra=N.ta+16*K*N.R+Le,N.Ha=N.qa,N.Ia=N.ra+8*K*N.B+Le,N.$c=0,Se+=pe,N.mb=ye?_e:null,N.nb=ye?Se:null,i(Se+ye<=N.Fc+N.Vb),ga(N),a(N.Ac,N.Bc,0,ie),K=1}}if(K){if(R.ka=0,R.y=N.sa,R.O=N.ta,R.f=N.qa,R.N=N.ra,R.ea=N.Ha,R.Vd=N.Ia,R.fa=N.R,R.Rc=N.B,R.F=null,R.J=0,!Mn){for(K=-255;255>=K;++K)$n[255+K]=0>K?-K:K;for(K=-1020;1020>=K;++K)$s[1020+K]=-128>K?-128:127<K?127:K;for(K=-112;112>=K;++K)Oc[112+K]=-16>K?-16:15<K?15:K;for(K=-255;510>=K;++K)Bc[255+K]=0>K?0:255<K?255:K;Mn=1}Vl=bu,Ra=vf,za=vc,Zi=pd,Vs=yf,Vi=ph,Dr=bd,Fa=Sc,xu=Qm,Hs=vu,Nc=Km,jc=kh,_d=Ul,wa=yp,wl=Fl,Hl=Ro,Fo=gl,Hi=xf,ar[0]=Rs,ar[1]=wp,ar[2]=Ll,ar[3]=vp,ar[4]=ba,ar[5]=Pl,ar[6]=gh,ar[7]=zs,ar[8]=md,ar[9]=_f,zc[0]=mh,zc[1]=ku,zc[2]=Ac,zc[3]=pl,zc[4]=Qi,zc[5]=ml,zc[6]=_c,Ys[0]=xc,Ys[1]=yc,Ys[2]=Cf,Ys[3]=Cc,Ys[4]=Fs,Ys[5]=yo,Ys[6]=Er,K=1}else K=0}K&&(K=function(et,Bt){for(et.M=0;et.M<et.Va;++et.M){var bt,Ye=et.Jc[et.M&et.Xb],Je=et.m,Tt=et;for(bt=0;bt<Tt.za;++bt){var Rt=Je,Lt=Tt,nn=Lt.Ac,Xt=Lt.Bc+4*bt,vn=Lt.zc,en=Lt.ya[Lt.aa+bt];if(Lt.Qa.Bb?en.$b=Ue(Rt,Lt.Pa.jb[0])?2+Ue(Rt,Lt.Pa.jb[2]):Ue(Rt,Lt.Pa.jb[1]):en.$b=0,Lt.kc&&(en.Ad=Ue(Rt,Lt.Bd)),en.Za=!Ue(Rt,145)+0,en.Za){var Cr=en.Ob,Or=0;for(Lt=0;4>Lt;++Lt){var tr,qn=vn[0+Lt];for(tr=0;4>tr;++tr){qn=Tf[nn[Xt+tr]][qn];for(var Br=Tu[Ue(Rt,qn[0])];0<Br;)Br=Tu[2*Br+Ue(Rt,qn[Br])];qn=-Br,nn[Xt+tr]=qn}o(Cr,Or,nn,Xt,4),Or+=4,vn[0+Lt]=qn}}else qn=Ue(Rt,156)?Ue(Rt,128)?1:3:Ue(Rt,163)?2:0,en.Ob[0]=qn,a(nn,Xt,qn,4),a(vn,0,qn,4);en.Dd=Ue(Rt,142)?Ue(Rt,114)?Ue(Rt,183)?1:3:2:0}if(Tt.m.Ka)return kr(et,7,"Premature end-of-partition0 encountered.");for(;et.ja<et.za;++et.ja){if(Tt=Ye,Rt=(Je=et).rb[Je.sb-1],nn=Je.rb[Je.sb+Je.ja],bt=Je.ya[Je.aa+Je.ja],Xt=Je.kc?bt.Ad:0)Rt.la=nn.la=0,bt.Za||(Rt.Na=nn.Na=0),bt.Hc=0,bt.Gc=0,bt.ia=0;else{var Ir,Pn;if(Rt=nn,nn=Tt,Xt=Je.Pa.Xc,vn=Je.ya[Je.aa+Je.ja],en=Je.pb[vn.$b],Lt=vn.ad,Cr=0,Or=Je.rb[Je.sb-1],qn=tr=0,a(Lt,Cr,0,384),vn.Za)var Zr=0,Cn=Xt[3];else{Br=c(16);var jn=Rt.Na+Or.Na;if(jn=_o(nn,Xt[1],jn,en.Eb,0,Br,0),Rt.Na=Or.Na=(0<jn)+0,1<jn)Vl(Br,0,Lt,Cr);else{var It=Br[0]+3>>3;for(Br=0;256>Br;Br+=16)Lt[Cr+Br]=It}Zr=1,Cn=Xt[0]}var Tr=15&Rt.la,Vt=15&Or.la;for(Br=0;4>Br;++Br){var Eo=1&Vt;for(It=Pn=0;4>It;++It)Tr=Tr>>1|(Eo=(jn=_o(nn,Cn,jn=Eo+(1&Tr),en.Sc,Zr,Lt,Cr))>Zr)<<7,Pn=Pn<<2|(3<jn?3:1<jn?2:Lt[Cr+0]!=0),Cr+=16;Tr>>=4,Vt=Vt>>1|Eo<<7,tr=(tr<<8|Pn)>>>0}for(Cn=Tr,Zr=Vt>>4,Ir=0;4>Ir;Ir+=2){for(Pn=0,Tr=Rt.la>>4+Ir,Vt=Or.la>>4+Ir,Br=0;2>Br;++Br){for(Eo=1&Vt,It=0;2>It;++It)jn=Eo+(1&Tr),Tr=Tr>>1|(Eo=0<(jn=_o(nn,Xt[2],jn,en.Qc,0,Lt,Cr)))<<3,Pn=Pn<<2|(3<jn?3:1<jn?2:Lt[Cr+0]!=0),Cr+=16;Tr>>=2,Vt=Vt>>1|Eo<<5}qn|=Pn<<4*Ir,Cn|=Tr<<4<<Ir,Zr|=(240&Vt)<<Ir}Rt.la=Cn,Or.la=Zr,vn.Hc=tr,vn.Gc=qn,vn.ia=43690&qn?0:en.ia,Xt=!(tr|qn)}if(0<Je.L&&(Je.wa[Je.Y+Je.ja]=Je.gd[bt.$b][bt.Za],Je.wa[Je.Y+Je.ja].La|=!Xt),Tt.Ka)return kr(et,7,"Premature end-of-file encountered.")}if(ga(et),Je=Bt,Tt=1,bt=(Ye=et).D,Rt=0<Ye.L&&Ye.M>=Ye.zb&&Ye.M<=Ye.Va,Ye.Aa==0)e:{if(bt.M=Ye.M,bt.uc=Rt,Dc(Ye,bt),Tt=1,bt=(Pn=Ye.D).Nb,Rt=(qn=So[Ye.L])*Ye.R,nn=qn/2*Ye.B,Br=16*bt*Ye.R,It=8*bt*Ye.B,Xt=Ye.sa,vn=Ye.ta-Rt+Br,en=Ye.qa,Lt=Ye.ra-nn+It,Cr=Ye.Ha,Or=Ye.Ia-nn+It,Vt=(Tr=Pn.M)==0,tr=Tr>=Ye.Va-1,Ye.Aa==2&&Dc(Ye,Pn),Pn.uc)for(Eo=(jn=Ye).D.M,i(jn.D.uc),Pn=jn.yb;Pn<jn.Hb;++Pn){Zr=Pn,Cn=Eo;var zt=(Xi=(ri=jn).D).Nb;Ir=ri.R;var Xi=Xi.wa[Xi.Y+Zr],Ut=ri.sa,Va=ri.ta+16*zt*Ir+16*Zr,jt=Xi.dd,zi=Xi.tc;if(zi!=0)if(i(3<=zi),ri.L==1)0<Zr&&Hl(Ut,Va,Ir,zi+4),Xi.La&&Hi(Ut,Va,Ir,zi),0<Cn&&wl(Ut,Va,Ir,zi+4),Xi.La&&Fo(Ut,Va,Ir,zi);else{var Ks=ri.B,un=ri.qa,Ql=ri.ra+8*zt*Ks+8*Zr,Zl=ri.Ha,ri=ri.Ia+8*zt*Ks+8*Zr;zt=Xi.ld,0<Zr&&(Fa(Ut,Va,Ir,zi+4,jt,zt),Hs(un,Ql,Zl,ri,Ks,zi+4,jt,zt)),Xi.La&&(jc(Ut,Va,Ir,zi,jt,zt),wa(un,Ql,Zl,ri,Ks,zi,jt,zt)),0<Cn&&(Dr(Ut,Va,Ir,zi+4,jt,zt),xu(un,Ql,Zl,ri,Ks,zi+4,jt,zt)),Xi.La&&(Nc(Ut,Va,Ir,zi,jt,zt),_d(un,Ql,Zl,ri,Ks,zi,jt,zt))}}if(Ye.ia&&alert("todo:DitherRow"),Je.put!=null){if(Pn=16*Tr,Tr=16*(Tr+1),Vt?(Je.y=Ye.sa,Je.O=Ye.ta+Br,Je.f=Ye.qa,Je.N=Ye.ra+It,Je.ea=Ye.Ha,Je.W=Ye.Ia+It):(Pn-=qn,Je.y=Xt,Je.O=vn,Je.f=en,Je.N=Lt,Je.ea=Cr,Je.W=Or),tr||(Tr-=qn),Tr>Je.o&&(Tr=Je.o),Je.F=null,Je.J=null,Ye.Fa!=null&&0<Ye.Fa.length&&Pn<Tr&&(Je.J=vh(Ye,Je,Pn,Tr-Pn),Je.F=Ye.mb,Je.F==null&&Je.F.length==0)){Tt=kr(Ye,3,"Could not decode alpha data.");break e}Pn<Je.j&&(qn=Je.j-Pn,Pn=Je.j,i(!(1&qn)),Je.O+=Ye.R*qn,Je.N+=Ye.B*(qn>>1),Je.W+=Ye.B*(qn>>1),Je.F!=null&&(Je.J+=Je.width*qn)),Pn<Tr&&(Je.O+=Je.v,Je.N+=Je.v>>1,Je.W+=Je.v>>1,Je.F!=null&&(Je.J+=Je.v),Je.ka=Pn-Je.j,Je.U=Je.va-Je.v,Je.T=Tr-Pn,Tt=Je.put(Je))}bt+1!=Ye.Ic||tr||(o(Ye.sa,Ye.ta-Rt,Xt,vn+16*Ye.R,Rt),o(Ye.qa,Ye.ra-nn,en,Lt+8*Ye.B,nn),o(Ye.Ha,Ye.Ia-nn,Cr,Or+8*Ye.B,nn))}if(!Tt)return kr(et,6,"Output aborted.")}return 1}(N,R)),R.bc!=null&&R.bc(R),K&=1}return K?(N.cb=0,K):0}function as(N,R,K,ie,pe){pe=N[R+K+32*ie]+(pe>>3),N[R+K+32*ie]=-256&pe?0>pe?0:255:pe}function wc(N,R,K,ie,pe,ye){as(N,R,0,K,ie+pe),as(N,R,1,K,ie+ye),as(N,R,2,K,ie-ye),as(N,R,3,K,ie-pe)}function ti(N){return(20091*N>>16)+N}function ja(N,R,K,ie){var pe,ye=0,_e=c(16);for(pe=0;4>pe;++pe){var Se=N[R+0]+N[R+8],Te=N[R+0]-N[R+8],Le=(35468*N[R+4]>>16)-ti(N[R+12]),We=ti(N[R+4])+(35468*N[R+12]>>16);_e[ye+0]=Se+We,_e[ye+1]=Te+Le,_e[ye+2]=Te-Le,_e[ye+3]=Se-We,ye+=4,R++}for(pe=ye=0;4>pe;++pe)Se=(N=_e[ye+0]+4)+_e[ye+8],Te=N-_e[ye+8],Le=(35468*_e[ye+4]>>16)-ti(_e[ye+12]),as(K,ie,0,0,Se+(We=ti(_e[ye+4])+(35468*_e[ye+12]>>16))),as(K,ie,1,0,Te+Le),as(K,ie,2,0,Te-Le),as(K,ie,3,0,Se-We),ye++,ie+=32}function ph(N,R,K,ie){var pe=N[R+0]+4,ye=35468*N[R+4]>>16,_e=ti(N[R+4]),Se=35468*N[R+1]>>16;wc(K,ie,0,pe+_e,N=ti(N[R+1]),Se),wc(K,ie,1,pe+ye,N,Se),wc(K,ie,2,pe-ye,N,Se),wc(K,ie,3,pe-_e,N,Se)}function vf(N,R,K,ie,pe){ja(N,R,K,ie),pe&&ja(N,R+16,K,ie+4)}function vc(N,R,K,ie){Ra(N,R+0,K,ie,1),Ra(N,R+32,K,ie+128,1)}function pd(N,R,K,ie){var pe;for(N=N[R+0]+4,pe=0;4>pe;++pe)for(R=0;4>R;++R)as(K,ie,R,pe,N)}function yf(N,R,K,ie){N[R+0]&&Zi(N,R+0,K,ie),N[R+16]&&Zi(N,R+16,K,ie+4),N[R+32]&&Zi(N,R+32,K,ie+128),N[R+48]&&Zi(N,R+48,K,ie+128+4)}function bu(N,R,K,ie){var pe,ye=c(16);for(pe=0;4>pe;++pe){var _e=N[R+0+pe]+N[R+12+pe],Se=N[R+4+pe]+N[R+8+pe],Te=N[R+4+pe]-N[R+8+pe],Le=N[R+0+pe]-N[R+12+pe];ye[0+pe]=_e+Se,ye[8+pe]=_e-Se,ye[4+pe]=Le+Te,ye[12+pe]=Le-Te}for(pe=0;4>pe;++pe)_e=(N=ye[0+4*pe]+3)+ye[3+4*pe],Se=ye[1+4*pe]+ye[2+4*pe],Te=ye[1+4*pe]-ye[2+4*pe],Le=N-ye[3+4*pe],K[ie+0]=_e+Se>>3,K[ie+16]=Le+Te>>3,K[ie+32]=_e-Se>>3,K[ie+48]=Le-Te>>3,ie+=64}function Af(N,R,K){var ie,pe=R-32,ye=ho,_e=255-N[pe-1];for(ie=0;ie<K;++ie){var Se,Te=ye,Le=_e+N[R-1];for(Se=0;Se<K;++Se)N[R+Se]=Te[Le+N[pe+Se]];R+=32}}function wp(N,R){Af(N,R,4)}function yc(N,R){Af(N,R,8)}function ku(N,R){Af(N,R,16)}function Ac(N,R){var K;for(K=0;16>K;++K)o(N,R+32*K,N,R-32,16)}function pl(N,R){var K;for(K=16;0<K;--K)a(N,R,N[R-1],16),R+=32}function na(N,R,K){var ie;for(ie=0;16>ie;++ie)a(R,K+32*ie,N,16)}function mh(N,R){var K,ie=16;for(K=0;16>K;++K)ie+=N[R-1+32*K]+N[R+K-32];na(ie>>5,N,R)}function Qi(N,R){var K,ie=8;for(K=0;16>K;++K)ie+=N[R-1+32*K];na(ie>>4,N,R)}function ml(N,R){var K,ie=8;for(K=0;16>K;++K)ie+=N[R+K-32];na(ie>>4,N,R)}function _c(N,R){na(128,N,R)}function Tn(N,R,K){return N+2*R+K+2>>2}function Ll(N,R){var K,ie=R-32;for(ie=new Uint8Array([Tn(N[ie-1],N[ie+0],N[ie+1]),Tn(N[ie+0],N[ie+1],N[ie+2]),Tn(N[ie+1],N[ie+2],N[ie+3]),Tn(N[ie+2],N[ie+3],N[ie+4])]),K=0;4>K;++K)o(N,R+32*K,ie,0,ie.length)}function vp(N,R){var K=N[R-1],ie=N[R-1+32],pe=N[R-1+64],ye=N[R-1+96];Ze(N,R+0,16843009*Tn(N[R-1-32],K,ie)),Ze(N,R+32,16843009*Tn(K,ie,pe)),Ze(N,R+64,16843009*Tn(ie,pe,ye)),Ze(N,R+96,16843009*Tn(pe,ye,ye))}function Rs(N,R){var K,ie=4;for(K=0;4>K;++K)ie+=N[R+K-32]+N[R-1+32*K];for(ie>>=3,K=0;4>K;++K)a(N,R+32*K,ie,4)}function ba(N,R){var K=N[R-1+0],ie=N[R-1+32],pe=N[R-1+64],ye=N[R-1-32],_e=N[R+0-32],Se=N[R+1-32],Te=N[R+2-32],Le=N[R+3-32];N[R+0+96]=Tn(ie,pe,N[R-1+96]),N[R+1+96]=N[R+0+64]=Tn(K,ie,pe),N[R+2+96]=N[R+1+64]=N[R+0+32]=Tn(ye,K,ie),N[R+3+96]=N[R+2+64]=N[R+1+32]=N[R+0+0]=Tn(_e,ye,K),N[R+3+64]=N[R+2+32]=N[R+1+0]=Tn(Se,_e,ye),N[R+3+32]=N[R+2+0]=Tn(Te,Se,_e),N[R+3+0]=Tn(Le,Te,Se)}function gh(N,R){var K=N[R+1-32],ie=N[R+2-32],pe=N[R+3-32],ye=N[R+4-32],_e=N[R+5-32],Se=N[R+6-32],Te=N[R+7-32];N[R+0+0]=Tn(N[R+0-32],K,ie),N[R+1+0]=N[R+0+32]=Tn(K,ie,pe),N[R+2+0]=N[R+1+32]=N[R+0+64]=Tn(ie,pe,ye),N[R+3+0]=N[R+2+32]=N[R+1+64]=N[R+0+96]=Tn(pe,ye,_e),N[R+3+32]=N[R+2+64]=N[R+1+96]=Tn(ye,_e,Se),N[R+3+64]=N[R+2+96]=Tn(_e,Se,Te),N[R+3+96]=Tn(Se,Te,Te)}function Pl(N,R){var K=N[R-1+0],ie=N[R-1+32],pe=N[R-1+64],ye=N[R-1-32],_e=N[R+0-32],Se=N[R+1-32],Te=N[R+2-32],Le=N[R+3-32];N[R+0+0]=N[R+1+64]=ye+_e+1>>1,N[R+1+0]=N[R+2+64]=_e+Se+1>>1,N[R+2+0]=N[R+3+64]=Se+Te+1>>1,N[R+3+0]=Te+Le+1>>1,N[R+0+96]=Tn(pe,ie,K),N[R+0+64]=Tn(ie,K,ye),N[R+0+32]=N[R+1+96]=Tn(K,ye,_e),N[R+1+32]=N[R+2+96]=Tn(ye,_e,Se),N[R+2+32]=N[R+3+96]=Tn(_e,Se,Te),N[R+3+32]=Tn(Se,Te,Le)}function zs(N,R){var K=N[R+0-32],ie=N[R+1-32],pe=N[R+2-32],ye=N[R+3-32],_e=N[R+4-32],Se=N[R+5-32],Te=N[R+6-32],Le=N[R+7-32];N[R+0+0]=K+ie+1>>1,N[R+1+0]=N[R+0+64]=ie+pe+1>>1,N[R+2+0]=N[R+1+64]=pe+ye+1>>1,N[R+3+0]=N[R+2+64]=ye+_e+1>>1,N[R+0+32]=Tn(K,ie,pe),N[R+1+32]=N[R+0+96]=Tn(ie,pe,ye),N[R+2+32]=N[R+1+96]=Tn(pe,ye,_e),N[R+3+32]=N[R+2+96]=Tn(ye,_e,Se),N[R+3+64]=Tn(_e,Se,Te),N[R+3+96]=Tn(Se,Te,Le)}function _f(N,R){var K=N[R-1+0],ie=N[R-1+32],pe=N[R-1+64],ye=N[R-1+96];N[R+0+0]=K+ie+1>>1,N[R+2+0]=N[R+0+32]=ie+pe+1>>1,N[R+2+32]=N[R+0+64]=pe+ye+1>>1,N[R+1+0]=Tn(K,ie,pe),N[R+3+0]=N[R+1+32]=Tn(ie,pe,ye),N[R+3+32]=N[R+1+64]=Tn(pe,ye,ye),N[R+3+64]=N[R+2+64]=N[R+0+96]=N[R+1+96]=N[R+2+96]=N[R+3+96]=ye}function md(N,R){var K=N[R-1+0],ie=N[R-1+32],pe=N[R-1+64],ye=N[R-1+96],_e=N[R-1-32],Se=N[R+0-32],Te=N[R+1-32],Le=N[R+2-32];N[R+0+0]=N[R+2+32]=K+_e+1>>1,N[R+0+32]=N[R+2+64]=ie+K+1>>1,N[R+0+64]=N[R+2+96]=pe+ie+1>>1,N[R+0+96]=ye+pe+1>>1,N[R+3+0]=Tn(Se,Te,Le),N[R+2+0]=Tn(_e,Se,Te),N[R+1+0]=N[R+3+32]=Tn(K,_e,Se),N[R+1+32]=N[R+3+64]=Tn(ie,K,_e),N[R+1+64]=N[R+3+96]=Tn(pe,ie,K),N[R+1+96]=Tn(ye,pe,ie)}function Cf(N,R){var K;for(K=0;8>K;++K)o(N,R+32*K,N,R-32,8)}function Cc(N,R){var K;for(K=0;8>K;++K)a(N,R,N[R-1],8),R+=32}function ra(N,R,K){var ie;for(ie=0;8>ie;++ie)a(R,K+32*ie,N,8)}function xc(N,R){var K,ie=8;for(K=0;8>K;++K)ie+=N[R+K-32]+N[R-1+32*K];ra(ie>>4,N,R)}function yo(N,R){var K,ie=4;for(K=0;8>K;++K)ie+=N[R+K-32];ra(ie>>3,N,R)}function Fs(N,R){var K,ie=4;for(K=0;8>K;++K)ie+=N[R-1+32*K];ra(ie>>3,N,R)}function Er(N,R){ra(128,N,R)}function Rl(N,R,K){var ie=N[R-K],pe=N[R+0],ye=3*(pe-ie)+Cd[1020+N[R-2*K]-N[R+K]],_e=Su[112+(ye+4>>3)];N[R-K]=ho[255+ie+Su[112+(ye+3>>3)]],N[R+0]=ho[255+pe-_e]}function bh(N,R,K,ie){var pe=N[R+0],ye=N[R+K];return va[255+N[R-2*K]-N[R-K]]>ie||va[255+ye-pe]>ie}function gd(N,R,K,ie){return 4*va[255+N[R-K]-N[R+0]]+va[255+N[R-2*K]-N[R+K]]<=ie}function zl(N,R,K,ie,pe){var ye=N[R-3*K],_e=N[R-2*K],Se=N[R-K],Te=N[R+0],Le=N[R+K],We=N[R+2*K],lt=N[R+3*K];return 4*va[255+Se-Te]+va[255+_e-Le]>ie?0:va[255+N[R-4*K]-ye]<=pe&&va[255+ye-_e]<=pe&&va[255+_e-Se]<=pe&&va[255+lt-We]<=pe&&va[255+We-Le]<=pe&&va[255+Le-Te]<=pe}function Fl(N,R,K,ie){var pe=2*ie+1;for(ie=0;16>ie;++ie)gd(N,R+ie,K,pe)&&Rl(N,R+ie,K)}function Ro(N,R,K,ie){var pe=2*ie+1;for(ie=0;16>ie;++ie)gd(N,R+ie*K,1,pe)&&Rl(N,R+ie*K,1)}function gl(N,R,K,ie){var pe;for(pe=3;0<pe;--pe)Fl(N,R+=4*K,K,ie)}function xf(N,R,K,ie){var pe;for(pe=3;0<pe;--pe)Ro(N,R+=4,K,ie)}function wu(N,R,K,ie,pe,ye,_e,Se){for(ye=2*ye+1;0<pe--;){if(zl(N,R,K,ye,_e))if(bh(N,R,K,Se))Rl(N,R,K);else{var Te=N,Le=R,We=K,lt=Te[Le-2*We],rt=Te[Le-We],et=Te[Le+0],Bt=Te[Le+We],bt=Te[Le+2*We],Ye=27*(Tt=Cd[1020+3*(et-rt)+Cd[1020+lt-Bt]])+63>>7,Je=18*Tt+63>>7,Tt=9*Tt+63>>7;Te[Le-3*We]=ho[255+Te[Le-3*We]+Tt],Te[Le-2*We]=ho[255+lt+Je],Te[Le-We]=ho[255+rt+Ye],Te[Le+0]=ho[255+et-Ye],Te[Le+We]=ho[255+Bt-Je],Te[Le+2*We]=ho[255+bt-Tt]}R+=ie}}function Oa(N,R,K,ie,pe,ye,_e,Se){for(ye=2*ye+1;0<pe--;){if(zl(N,R,K,ye,_e))if(bh(N,R,K,Se))Rl(N,R,K);else{var Te=N,Le=R,We=K,lt=Te[Le-We],rt=Te[Le+0],et=Te[Le+We],Bt=Su[112+((bt=3*(rt-lt))+4>>3)],bt=Su[112+(bt+3>>3)],Ye=Bt+1>>1;Te[Le-2*We]=ho[255+Te[Le-2*We]+Ye],Te[Le-We]=ho[255+lt+bt],Te[Le+0]=ho[255+rt-Bt],Te[Le+We]=ho[255+et-Ye]}R+=ie}}function bd(N,R,K,ie,pe,ye){wu(N,R,K,1,16,ie,pe,ye)}function Sc(N,R,K,ie,pe,ye){wu(N,R,1,K,16,ie,pe,ye)}function Km(N,R,K,ie,pe,ye){var _e;for(_e=3;0<_e;--_e)Oa(N,R+=4*K,K,1,16,ie,pe,ye)}function kh(N,R,K,ie,pe,ye){var _e;for(_e=3;0<_e;--_e)Oa(N,R+=4,1,K,16,ie,pe,ye)}function Qm(N,R,K,ie,pe,ye,_e,Se){wu(N,R,pe,1,8,ye,_e,Se),wu(K,ie,pe,1,8,ye,_e,Se)}function vu(N,R,K,ie,pe,ye,_e,Se){wu(N,R,1,pe,8,ye,_e,Se),wu(K,ie,1,pe,8,ye,_e,Se)}function Ul(N,R,K,ie,pe,ye,_e,Se){Oa(N,R+4*pe,pe,1,8,ye,_e,Se),Oa(K,ie+4*pe,pe,1,8,ye,_e,Se)}function yp(N,R,K,ie,pe,ye,_e,Se){Oa(N,R+4,1,pe,8,ye,_e,Se),Oa(K,ie+4,1,pe,8,ye,_e,Se)}function wh(){this.ba=new vr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new yr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Sf(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ef(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function bl(){this.ua=0,this.Wa=new we,this.vb=new we,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new q,this.yc=new Y}function Zm(){this.xb=this.a=0,this.l=new vo,this.ca=new vr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new re,this.Pb=0,this.wd=new re,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new bl,this.ab=0,this.gc=d(4,Ef),this.Oc=0}function kd(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new vo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function yu(N,R,K,ie,pe,ye,_e){for(N=N==null?0:N[R+0],R=0;R<_e;++R)pe[ye+R]=N+K[ie+R]&255,N=pe[ye+R]}function wd(N,R,K,ie,pe,ye,_e){var Se;if(N==null)yu(null,null,K,ie,pe,ye,_e);else for(Se=0;Se<_e;++Se)pe[ye+Se]=N[R+Se]+K[ie+Se]&255}function Ec(N,R,K,ie,pe,ye,_e){if(N==null)yu(null,null,K,ie,pe,ye,_e);else{var Se,Te=N[R+0],Le=Te,We=Te;for(Se=0;Se<_e;++Se)Le=We+(Te=N[R+Se])-Le,We=K[ie+Se]+(-256&Le?0>Le?0:255:Le)&255,Le=Te,pe[ye+Se]=We}}function vh(N,R,K,ie){var pe=R.width,ye=R.o;if(i(N!=null&&R!=null),0>K||0>=ie||K+ie>ye)return null;if(!N.Cc){if(N.ga==null){var _e;if(N.ga=new kd,(_e=N.ga==null)||(_e=R.width*R.o,i(N.Gb.length==0),N.Gb=c(_e),N.Uc=0,N.Gb==null?_e=0:(N.mb=N.Gb,N.nb=N.Uc,N.rc=null,_e=1),_e=!_e),!_e){_e=N.ga;var Se=N.Fa,Te=N.P,Le=N.qc,We=N.mb,lt=N.nb,rt=Te+1,et=Le-1,Bt=_e.l;if(i(Se!=null&&We!=null&&R!=null),vl[0]=null,vl[1]=yu,vl[2]=wd,vl[3]=Ec,_e.ca=We,_e.tb=lt,_e.c=R.width,_e.i=R.height,i(0<_e.c&&0<_e.i),1>=Le)R=0;else if(_e.$a=Se[Te+0]>>0&3,_e.Z=Se[Te+0]>>2&3,_e.Lc=Se[Te+0]>>4&3,Te=Se[Te+0]>>6&3,0>_e.$a||1<_e.$a||4<=_e.Z||1<_e.Lc||Te)R=0;else if(Bt.put=os,Bt.ac=wi,Bt.bc=ss,Bt.ma=_e,Bt.width=R.width,Bt.height=R.height,Bt.Da=R.Da,Bt.v=R.v,Bt.va=R.va,Bt.j=R.j,Bt.o=R.o,_e.$a)e:{i(_e.$a==1),R=co();t:for(;;){if(R==null){R=0;break e}if(i(_e!=null),_e.mc=R,R.c=_e.c,R.i=_e.i,R.l=_e.l,R.l.ma=_e,R.l.width=_e.c,R.l.height=_e.i,R.a=0,me(R.m,Se,rt,et),!zr(_e.c,_e.i,1,R,null)||(R.ab==1&&R.gc[0].hc==3&&Cs(R.s)?(_e.ic=1,Se=R.c*R.i,R.Ta=null,R.Ua=0,R.V=c(Se),R.Ba=0,R.V==null?(R.a=1,R=0):R=1):(_e.ic=0,R=fl(R,_e.c)),!R))break t;R=1;break e}_e.mc=null,R=0}else R=et>=_e.c*_e.i;_e=!R}if(_e)return null;N.ga.Lc!=1?N.Ga=0:ie=ye-K}i(N.ga!=null),i(K+ie<=ye);e:{if(R=(Se=N.ga).c,ye=Se.l.o,Se.$a==0){if(rt=N.rc,et=N.Vc,Bt=N.Fa,Te=N.P+1+K*R,Le=N.mb,We=N.nb+K*R,i(Te<=N.P+N.qc),Se.Z!=0)for(i(vl[Se.Z]!=null),_e=0;_e<ie;++_e)vl[Se.Z](rt,et,Bt,Te,Le,We,R),rt=Le,et=We,We+=R,Te+=R;else for(_e=0;_e<ie;++_e)o(Le,We,Bt,Te,R),rt=Le,et=We,We+=R,Te+=R;N.rc=rt,N.Vc=et}else{if(i(Se.mc!=null),R=K+ie,i((_e=Se.mc)!=null),i(R<=_e.i),_e.C>=R)R=1;else if(Se.ic||it(),Se.ic){Se=_e.V,rt=_e.Ba,et=_e.c;var bt=_e.i,Ye=(Bt=1,Te=_e.$/et,Le=_e.$%et,We=_e.m,lt=_e.s,_e.$),Je=et*bt,Tt=et*R,Rt=lt.wc,Lt=Ye<Tt?Wr(lt,Le,Te):null;i(Ye<=Je),i(R<=bt),i(Cs(lt));t:for(;;){for(;!We.h&&Ye<Tt;){if(Le&Rt||(Lt=Wr(lt,Le,Te)),i(Lt!=null),ve(We),256>(bt=vi(Lt.G[0],Lt.H[0],We)))Se[rt+Ye]=bt,++Ye,++Le>=et&&(Le=0,++Te<=R&&!(Te%16)&&wo(_e,Te));else{if(!(280>bt)){Bt=0;break t}bt=Sr(bt-256,We);var nn,Xt=vi(Lt.G[4],Lt.H[4],We);if(ve(We),!(Ye>=(Xt=or(et,Xt=Sr(Xt,We)))&&Je-Ye>=bt)){Bt=0;break t}for(nn=0;nn<bt;++nn)Se[rt+Ye+nn]=Se[rt+Ye+nn-Xt];for(Ye+=bt,Le+=bt;Le>=et;)Le-=et,++Te<=R&&!(Te%16)&&wo(_e,Te);Ye<Tt&&Le&Rt&&(Lt=Wr(lt,Le,Te))}i(We.h==ke(We))}wo(_e,Te>R?R:Te);break t}!Bt||We.h&&Ye<Je?(Bt=0,_e.a=We.h?5:3):_e.$=Ye,R=Bt}else R=Di(_e,_e.V,_e.Ba,_e.c,_e.i,R,Ol);if(!R){ie=0;break e}}K+ie>=ye&&(N.Cc=1),ie=1}if(!ie)return null;if(N.Cc&&((ie=N.ga)!=null&&(ie.mc=null),N.ga=null,0<N.Ga))return alert("todo:WebPDequantizeLevels"),null}return N.nb+K*pe}function $(N,R,K,ie,pe,ye){for(;0<pe--;){var _e,Se=N,Te=R+(K?1:0),Le=N,We=R+(K?0:3);for(_e=0;_e<ie;++_e){var lt=Le[We+4*_e];lt!=255&&(lt*=32897,Se[Te+4*_e+0]=Se[Te+4*_e+0]*lt>>23,Se[Te+4*_e+1]=Se[Te+4*_e+1]*lt>>23,Se[Te+4*_e+2]=Se[Te+4*_e+2]*lt>>23)}R+=ye}}function ge(N,R,K,ie,pe){for(;0<ie--;){var ye;for(ye=0;ye<K;++ye){var _e=N[R+2*ye+0],Se=15&(Le=N[R+2*ye+1]),Te=4369*Se,Le=(240&Le|Le>>4)*Te>>16;N[R+2*ye+0]=(240&_e|_e>>4)*Te>>16&240|(15&_e|_e<<4)*Te>>16>>4&15,N[R+2*ye+1]=240&Le|Se}R+=pe}}function ze(N,R,K,ie,pe,ye,_e,Se){var Te,Le,We=255;for(Le=0;Le<pe;++Le){for(Te=0;Te<ie;++Te){var lt=N[R+Te];ye[_e+4*Te]=lt,We&=lt}R+=K,_e+=Se}return We!=255}function $e(N,R,K,ie,pe){var ye;for(ye=0;ye<pe;++ye)K[ie+ye]=N[R+ye]>>8}function it(){oa=$,pr=ge,sr=ze,ni=$e}function _t(N,R,K){Q[N]=function(ie,pe,ye,_e,Se,Te,Le,We,lt,rt,et,Bt,bt,Ye,Je,Tt,Rt){var Lt,nn=Rt-1>>1,Xt=Se[Te+0]|Le[We+0]<<16,vn=lt[rt+0]|et[Bt+0]<<16;i(ie!=null);var en=3*Xt+vn+131074>>2;for(R(ie[pe+0],255&en,en>>16,bt,Ye),ye!=null&&(en=3*vn+Xt+131074>>2,R(ye[_e+0],255&en,en>>16,Je,Tt)),Lt=1;Lt<=nn;++Lt){var Cr=Se[Te+Lt]|Le[We+Lt]<<16,Or=lt[rt+Lt]|et[Bt+Lt]<<16,tr=Xt+Cr+vn+Or+524296,qn=tr+2*(Cr+vn)>>3;en=qn+Xt>>1,Xt=(tr=tr+2*(Xt+Or)>>3)+Cr>>1,R(ie[pe+2*Lt-1],255&en,en>>16,bt,Ye+(2*Lt-1)*K),R(ie[pe+2*Lt-0],255&Xt,Xt>>16,bt,Ye+(2*Lt-0)*K),ye!=null&&(en=tr+vn>>1,Xt=qn+Or>>1,R(ye[_e+2*Lt-1],255&en,en>>16,Je,Tt+(2*Lt-1)*K),R(ye[_e+2*Lt+0],255&Xt,Xt>>16,Je,Tt+(2*Lt+0)*K)),Xt=Cr,vn=Or}1&Rt||(en=3*Xt+vn+131074>>2,R(ie[pe+Rt-1],255&en,en>>16,bt,Ye+(Rt-1)*K),ye!=null&&(en=3*vn+Xt+131074>>2,R(ye[_e+Rt-1],255&en,en>>16,Je,Tt+(Rt-1)*K)))}}function Gt(){Uo[fo]=Fc,Uo[xd]=ls,Uo[Ws]=Mu,Uo[Lc]=xp,Uo[Eu]=Mf,Uo[ya]=Sh,Uo[Ua]=Sp,Uo[Du]=ls,Uo[Pc]=xp,Uo[$l]=Mf,Uo[Sd]=Sh}function tn(N){return N&-16384?0>N?0:255:N>>Ok}function gn(N,R){return tn((19077*N>>8)+(26149*R>>8)-14234)}function Hn(N,R,K){return tn((19077*N>>8)-(6419*R>>8)-(13320*K>>8)+8708)}function Ln(N,R){return tn((19077*N>>8)+(33050*R>>8)-17685)}function fr(N,R,K,ie,pe){ie[pe+0]=gn(N,K),ie[pe+1]=Hn(N,R,K),ie[pe+2]=Ln(N,R)}function Ti(N,R,K,ie,pe){ie[pe+0]=Ln(N,R),ie[pe+1]=Hn(N,R,K),ie[pe+2]=gn(N,K)}function yi(N,R,K,ie,pe){var ye=Hn(N,R,K);R=ye<<3&224|Ln(N,R)>>3,ie[pe+0]=248&gn(N,K)|ye>>5,ie[pe+1]=R}function Li(N,R,K,ie,pe){var ye=240&Ln(N,R)|15;ie[pe+0]=240&gn(N,K)|Hn(N,R,K)>>4,ie[pe+1]=ye}function Pi(N,R,K,ie,pe){ie[pe+0]=255,fr(N,R,K,ie,pe+1)}function uo(N,R,K,ie,pe){Ti(N,R,K,ie,pe),ie[pe+3]=255}function Ba(N,R,K,ie,pe){fr(N,R,K,ie,pe),ie[pe+3]=255}function ia(N,R){return 0>N?0:N>R?R:N}function La(N,R,K){Q[N]=function(ie,pe,ye,_e,Se,Te,Le,We,lt){for(var rt=We+(-2&lt)*K;We!=rt;)R(ie[pe+0],ye[_e+0],Se[Te+0],Le,We),R(ie[pe+1],ye[_e+0],Se[Te+0],Le,We+K),pe+=2,++_e,++Te,We+=2*K;1&lt&&R(ie[pe+0],ye[_e+0],Se[Te+0],Le,We)}}function yh(N,R,K){return K==0?N==0?R==0?6:5:R==0?4:0:K}function ql(N,R,K,ie,pe){switch(N>>>30){case 3:Ra(R,K,ie,pe,0);break;case 2:Vi(R,K,ie,pe);break;case 1:Zi(R,K,ie,pe)}}function Dc(N,R){var K,ie,pe=R.M,ye=R.Nb,_e=N.oc,Se=N.pc+40,Te=N.oc,Le=N.pc+584,We=N.oc,lt=N.pc+600;for(K=0;16>K;++K)_e[Se+32*K-1]=129;for(K=0;8>K;++K)Te[Le+32*K-1]=129,We[lt+32*K-1]=129;for(0<pe?_e[Se-1-32]=Te[Le-1-32]=We[lt-1-32]=129:(a(_e,Se-32-1,127,21),a(Te,Le-32-1,127,9),a(We,lt-32-1,127,9)),ie=0;ie<N.za;++ie){var rt=R.ya[R.aa+ie];if(0<ie){for(K=-1;16>K;++K)o(_e,Se+32*K-4,_e,Se+32*K+12,4);for(K=-1;8>K;++K)o(Te,Le+32*K-4,Te,Le+32*K+4,4),o(We,lt+32*K-4,We,lt+32*K+4,4)}var et=N.Gd,Bt=N.Hd+ie,bt=rt.ad,Ye=rt.Hc;if(0<pe&&(o(_e,Se-32,et[Bt].y,0,16),o(Te,Le-32,et[Bt].f,0,8),o(We,lt-32,et[Bt].ea,0,8)),rt.Za){var Je=_e,Tt=Se-32+16;for(0<pe&&(ie>=N.za-1?a(Je,Tt,et[Bt].y[15],4):o(Je,Tt,et[Bt+1].y,0,4)),K=0;4>K;K++)Je[Tt+128+K]=Je[Tt+256+K]=Je[Tt+384+K]=Je[Tt+0+K];for(K=0;16>K;++K,Ye<<=2)Je=_e,Tt=Se+Id[K],ar[rt.Ob[K]](Je,Tt),ql(Ye,bt,16*+K,Je,Tt)}else if(Je=yh(ie,pe,rt.Ob[0]),zc[Je](_e,Se),Ye!=0)for(K=0;16>K;++K,Ye<<=2)ql(Ye,bt,16*+K,_e,Se+Id[K]);for(K=rt.Gc,Je=yh(ie,pe,rt.Dd),Ys[Je](Te,Le),Ys[Je](We,lt),Ye=bt,Je=Te,Tt=Le,255&(rt=K>>0)&&(170&rt?za(Ye,256,Je,Tt):Vs(Ye,256,Je,Tt)),rt=We,Ye=lt,255&(K>>=8)&&(170&K?za(bt,320,rt,Ye):Vs(bt,320,rt,Ye)),pe<N.Ub-1&&(o(et[Bt].y,0,_e,Se+480,16),o(et[Bt].f,0,Te,Le+224,8),o(et[Bt].ea,0,We,lt+224,8)),K=8*ye*N.B,et=N.sa,Bt=N.ta+16*ie+16*ye*N.R,bt=N.qa,rt=N.ra+8*ie+K,Ye=N.Ha,Je=N.Ia+8*ie+K,K=0;16>K;++K)o(et,Bt+K*N.R,_e,Se+32*K,16);for(K=0;8>K;++K)o(bt,rt+K*N.B,Te,Le+32*K,8),o(Ye,Je+K*N.B,We,lt+32*K,8)}}function Ah(N,R,K,ie,pe,ye,_e,Se,Te){var Le=[0],We=[0],lt=0,rt=Te!=null?Te.kd:0,et=Te??new Sf;if(N==null||12>K)return 7;et.data=N,et.w=R,et.ha=K,R=[R],K=[K],et.gb=[et.gb];e:{var Bt=R,bt=K,Ye=et.gb;if(i(N!=null),i(bt!=null),i(Ye!=null),Ye[0]=0,12<=bt[0]&&!n(N,Bt[0],"RIFF")){if(n(N,Bt[0]+8,"WEBP")){Ye=3;break e}var Je=gt(N,Bt[0]+4);if(12>Je||4294967286<Je){Ye=3;break e}if(rt&&Je>bt[0]-8){Ye=7;break e}Ye[0]=Je,Bt[0]+=12,bt[0]-=12}Ye=0}if(Ye!=0)return Ye;for(Je=0<et.gb[0],K=K[0];;){e:{var Tt=N;bt=R,Ye=K;var Rt=Le,Lt=We,nn=Bt=[0];if((en=lt=[lt])[0]=0,8>Ye[0])Ye=7;else{if(!n(Tt,bt[0],"VP8X")){if(gt(Tt,bt[0]+4)!=10){Ye=3;break e}if(18>Ye[0]){Ye=7;break e}var Xt=gt(Tt,bt[0]+8),vn=1+ft(Tt,bt[0]+12);if(2147483648<=vn*(Tt=1+ft(Tt,bt[0]+15))){Ye=3;break e}nn!=null&&(nn[0]=Xt),Rt!=null&&(Rt[0]=vn),Lt!=null&&(Lt[0]=Tt),bt[0]+=18,Ye[0]-=18,en[0]=1}Ye=0}}if(lt=lt[0],Bt=Bt[0],Ye!=0)return Ye;if(bt=!!(2&Bt),!Je&&lt)return 3;if(ye!=null&&(ye[0]=!!(16&Bt)),_e!=null&&(_e[0]=bt),Se!=null&&(Se[0]=0),_e=Le[0],Bt=We[0],lt&&bt&&Te==null){Ye=0;break}if(4>K){Ye=7;break}if(Je&&lt||!Je&&!lt&&!n(N,R[0],"ALPH")){K=[K],et.na=[et.na],et.P=[et.P],et.Sa=[et.Sa];e:{Xt=N,Ye=R,Je=K;var en=et.gb;Rt=et.na,Lt=et.P,nn=et.Sa,vn=22,i(Xt!=null),i(Je!=null),Tt=Ye[0];var Cr=Je[0];for(i(Rt!=null),i(nn!=null),Rt[0]=null,Lt[0]=null,nn[0]=0;;){if(Ye[0]=Tt,Je[0]=Cr,8>Cr){Ye=7;break e}var Or=gt(Xt,Tt+4);if(4294967286<Or){Ye=3;break e}var tr=8+Or+1&-2;if(vn+=tr,0<en&&vn>en){Ye=3;break e}if(!n(Xt,Tt,"VP8 ")||!n(Xt,Tt,"VP8L")){Ye=0;break e}if(Cr[0]<tr){Ye=7;break e}n(Xt,Tt,"ALPH")||(Rt[0]=Xt,Lt[0]=Tt+8,nn[0]=Or),Tt+=tr,Cr-=tr}}if(K=K[0],et.na=et.na[0],et.P=et.P[0],et.Sa=et.Sa[0],Ye!=0)break}K=[K],et.Ja=[et.Ja],et.xa=[et.xa];e:if(en=N,Ye=R,Je=K,Rt=et.gb[0],Lt=et.Ja,nn=et.xa,Xt=Ye[0],Tt=!n(en,Xt,"VP8 "),vn=!n(en,Xt,"VP8L"),i(en!=null),i(Je!=null),i(Lt!=null),i(nn!=null),8>Je[0])Ye=7;else{if(Tt||vn){if(en=gt(en,Xt+4),12<=Rt&&en>Rt-12){Ye=3;break e}if(rt&&en>Je[0]-8){Ye=7;break e}Lt[0]=en,Ye[0]+=8,Je[0]-=8,nn[0]=vn}else nn[0]=5<=Je[0]&&en[Xt+0]==47&&!(en[Xt+4]>>5),Lt[0]=Je[0];Ye=0}if(K=K[0],et.Ja=et.Ja[0],et.xa=et.xa[0],R=R[0],Ye!=0)break;if(4294967286<et.Ja)return 3;if(Se==null||bt||(Se[0]=et.xa?2:1),_e=[_e],Bt=[Bt],et.xa){if(5>K){Ye=7;break}Se=_e,rt=Bt,bt=ye,N==null||5>K?N=0:5<=K&&N[R+0]==47&&!(N[R+4]>>5)?(Je=[0],en=[0],Rt=[0],me(Lt=new re,N,R,K),hn(Lt,Je,en,Rt)?(Se!=null&&(Se[0]=Je[0]),rt!=null&&(rt[0]=en[0]),bt!=null&&(bt[0]=Rt[0]),N=1):N=0):N=0}else{if(10>K){Ye=7;break}Se=Bt,N==null||10>K||!Qr(N,R+3,K-3)?N=0:(rt=N[R+0]|N[R+1]<<8|N[R+2]<<16,bt=16383&(N[R+7]<<8|N[R+6]),N=16383&(N[R+9]<<8|N[R+8]),1&rt||3<(rt>>1&7)||!(rt>>4&1)||rt>>5>=et.Ja||!bt||!N?N=0:(_e&&(_e[0]=bt),Se&&(Se[0]=N),N=1))}if(!N||(_e=_e[0],Bt=Bt[0],lt&&(Le[0]!=_e||We[0]!=Bt)))return 3;Te!=null&&(Te[0]=et,Te.offset=R-Te.w,i(4294967286>R-Te.w),i(Te.offset==Te.ha-K));break}return Ye==0||Ye==7&&lt&&Te==null?(ye!=null&&(ye[0]|=et.na!=null&&0<et.na.length),ie!=null&&(ie[0]=_e),pe!=null&&(pe[0]=Bt),0):Ye}function Au(N,R,K){var ie=R.width,pe=R.height,ye=0,_e=0,Se=ie,Te=pe;if(R.Da=N!=null&&0<N.Da,R.Da&&(Se=N.cd,Te=N.bd,ye=N.v,_e=N.j,11>K||(ye&=-2,_e&=-2),0>ye||0>_e||0>=Se||0>=Te||ye+Se>ie||_e+Te>pe))return 0;if(R.v=ye,R.j=_e,R.va=ye+Se,R.o=_e+Te,R.U=Se,R.T=Te,R.da=N!=null&&0<N.da,R.da){if(!De(Se,Te,K=[N.ib],ye=[N.hb]))return 0;R.ib=K[0],R.hb=ye[0]}return R.ob=N!=null&&N.ob,R.Kb=N==null||!N.Sd,R.da&&(R.ob=R.ib<3*ie/4&&R.hb<3*pe/4,R.Kb=0),1}function _h(N){if(N==null)return 2;if(11>N.S){var R=N.f.RGBA;R.fb+=(N.height-1)*R.A,R.A=-R.A}else R=N.f.kb,N=N.height,R.O+=(N-1)*R.fa,R.fa=-R.fa,R.N+=(N-1>>1)*R.Ab,R.Ab=-R.Ab,R.W+=(N-1>>1)*R.Db,R.Db=-R.Db,R.F!=null&&(R.J+=(N-1)*R.lb,R.lb=-R.lb);return 0}function vd(N,R,K,ie){if(ie==null||0>=N||0>=R)return 2;if(K!=null){if(K.Da){var pe=K.cd,ye=K.bd,_e=-2&K.v,Se=-2&K.j;if(0>_e||0>Se||0>=pe||0>=ye||_e+pe>N||Se+ye>R)return 2;N=pe,R=ye}if(K.da){if(!De(N,R,pe=[K.ib],ye=[K.hb]))return 2;N=pe[0],R=ye[0]}}ie.width=N,ie.height=R;e:{var Te=ie.width,Le=ie.height;if(N=ie.S,0>=Te||0>=Le||!(N>=fo&&13>N))N=2;else{if(0>=ie.Rd&&ie.sd==null){_e=ye=pe=R=0;var We=(Se=Te*eg[N])*Le;if(11>N||(ye=(Le+1)/2*(R=(Te+1)/2),N==12&&(_e=(pe=Te)*Le)),(Le=c(We+2*ye+_e))==null){N=1;break e}ie.sd=Le,11>N?((Te=ie.f.RGBA).eb=Le,Te.fb=0,Te.A=Se,Te.size=We):((Te=ie.f.kb).y=Le,Te.O=0,Te.fa=Se,Te.Fd=We,Te.f=Le,Te.N=0+We,Te.Ab=R,Te.Cd=ye,Te.ea=Le,Te.W=0+We+ye,Te.Db=R,Te.Ed=ye,N==12&&(Te.F=Le,Te.J=0+We+2*ye),Te.Tc=_e,Te.lb=pe)}if(R=1,pe=ie.S,ye=ie.width,_e=ie.height,pe>=fo&&13>pe)if(11>pe)N=ie.f.RGBA,R&=(Se=Math.abs(N.A))*(_e-1)+ye<=N.size,R&=Se>=ye*eg[pe],R&=N.eb!=null;else{N=ie.f.kb,Se=(ye+1)/2,We=(_e+1)/2,Te=Math.abs(N.fa),Le=Math.abs(N.Ab);var lt=Math.abs(N.Db),rt=Math.abs(N.lb),et=rt*(_e-1)+ye;R&=Te*(_e-1)+ye<=N.Fd,R&=Le*(We-1)+Se<=N.Cd,R=(R&=lt*(We-1)+Se<=N.Ed)&Te>=ye&Le>=Se&lt>=Se,R&=N.y!=null,R&=N.f!=null,R&=N.ea!=null,pe==12&&(R&=rt>=ye,R&=et<=N.Tc,R&=N.F!=null)}else R=0;N=R?0:2}}return N!=0||K!=null&&K.fd&&(N=_h(ie)),N}var Ai=64,Pa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],yd=24,Ad=32,Ic=8,Es=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ke("Predictor0","PredictorAdd0"),Q.Predictor0=function(){return 4278190080},Q.Predictor1=function(N){return N},Q.Predictor2=function(N,R,K){return R[K+0]},Q.Predictor3=function(N,R,K){return R[K+1]},Q.Predictor4=function(N,R,K){return R[K-1]},Q.Predictor5=function(N,R,K){return Fe(Fe(N,R[K+1]),R[K+0])},Q.Predictor6=function(N,R,K){return Fe(N,R[K-1])},Q.Predictor7=function(N,R,K){return Fe(N,R[K+0])},Q.Predictor8=function(N,R,K){return Fe(R[K-1],R[K+0])},Q.Predictor9=function(N,R,K){return Fe(R[K+0],R[K+1])},Q.Predictor10=function(N,R,K){return Fe(Fe(N,R[K-1]),Fe(R[K+0],R[K+1]))},Q.Predictor11=function(N,R,K){var ie=R[K+0];return 0>=ot(ie>>24&255,N>>24&255,(R=R[K-1])>>24&255)+ot(ie>>16&255,N>>16&255,R>>16&255)+ot(ie>>8&255,N>>8&255,R>>8&255)+ot(255&ie,255&N,255&R)?ie:N},Q.Predictor12=function(N,R,K){var ie=R[K+0];return(dt((N>>24&255)+(ie>>24&255)-((R=R[K-1])>>24&255))<<24|dt((N>>16&255)+(ie>>16&255)-(R>>16&255))<<16|dt((N>>8&255)+(ie>>8&255)-(R>>8&255))<<8|dt((255&N)+(255&ie)-(255&R)))>>>0},Q.Predictor13=function(N,R,K){var ie=R[K-1];return(wt((N=Fe(N,R[K+0]))>>24&255,ie>>24&255)<<24|wt(N>>16&255,ie>>16&255)<<16|wt(N>>8&255,ie>>8&255)<<8|wt(N>>0&255,ie>>0&255))>>>0};var Jm=Q.PredictorAdd0;Q.PredictorAdd1=pt,Ke("Predictor2","PredictorAdd2"),Ke("Predictor3","PredictorAdd3"),Ke("Predictor4","PredictorAdd4"),Ke("Predictor5","PredictorAdd5"),Ke("Predictor6","PredictorAdd6"),Ke("Predictor7","PredictorAdd7"),Ke("Predictor8","PredictorAdd8"),Ke("Predictor9","PredictorAdd9"),Ke("Predictor10","PredictorAdd10"),Ke("Predictor11","PredictorAdd11"),Ke("Predictor12","PredictorAdd12"),Ke("Predictor13","PredictorAdd13");var Df=Q.PredictorAdd2;Yt("ColorIndexInverseTransform","MapARGB","32b",function(N){return N>>8&255},function(N){return N}),Yt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(N){return N},function(N){return N>>8&255});var Ap,ka=Q.ColorIndexInverseTransform,Ao=Q.MapARGB,_u=Q.VP8LColorIndexInverseTransformAlpha,Ch=Q.MapAlpha,Tc=Q.VP8LPredictorsAdd=[];Tc.length=16,(Q.VP8LPredictors=[]).length=16,(Q.VP8LPredictorsAdd_C=[]).length=16,(Q.VP8LPredictors_C=[]).length=16;var Mc,Us,zo,Cu,qs,kl,Vl,Ra,Vi,za,Zi,Vs,Dr,Fa,xu,Hs,Nc,jc,_d,wa,wl,Hl,Fo,Hi,oa,pr,sr,ni,$n=c(511),$s=c(2041),Oc=c(225),Bc=c(767),Mn=0,Cd=$s,Su=Oc,ho=Bc,va=$n,fo=0,xd=1,Ws=2,Lc=3,Eu=4,ya=5,Ua=6,Du=7,Pc=8,$l=9,Sd=10,_p=[2,3,7],qa=[3,3,11],sa=[280,256,256,256,40],Iu=[0,1,1,1,0],Wl=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Gl=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Rc=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ab=8,Ed=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],If=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],_o=null,Ri=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ln=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Tu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Gs=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Tf=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Yl=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Cp=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],zc=[],ar=[],Ys=[],Xm=1,xh=2,vl=[],Uo=[];_t("UpsampleRgbLinePair",fr,3),_t("UpsampleBgrLinePair",Ti,3),_t("UpsampleRgbaLinePair",Ba,4),_t("UpsampleBgraLinePair",uo,4),_t("UpsampleArgbLinePair",Pi,4),_t("UpsampleRgba4444LinePair",Li,2),_t("UpsampleRgb565LinePair",yi,2);var Fc=Q.UpsampleRgbLinePair,Mu=Q.UpsampleBgrLinePair,ls=Q.UpsampleRgbaLinePair,xp=Q.UpsampleBgraLinePair,Mf=Q.UpsampleArgbLinePair,Sh=Q.UpsampleRgba4444LinePair,Sp=Q.UpsampleRgb565LinePair,Kl=16,Co=1<<Kl-1,Dd=-227,Ep=482,Ok=6,_b=0,Cb=c(256),xo=c(256),Nf=c(256),jf=c(256),Of=c(Ep-Dd),Dp=c(Ep-Dd);La("YuvToRgbRow",fr,3),La("YuvToBgrRow",Ti,3),La("YuvToRgbaRow",Ba,4),La("YuvToBgraRow",uo,4),La("YuvToArgbRow",Pi,4),La("YuvToRgba4444Row",Li,2),La("YuvToRgb565Row",yi,2);var Id=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],So=[0,2,8],qo=[8,7,6,4,4,2,2,2,1,1,1,1],Ji=1;this.WebPDecodeRGBA=function(N,R,K,ie,pe){var ye=xd,_e=new wh,Se=new vr;_e.ba=Se,Se.S=ye,Se.width=[Se.width],Se.height=[Se.height];var Te=Se.width,Le=Se.height,We=new gr;if(We==null||N==null)var lt=2;else i(We!=null),lt=Ah(N,R,K,We.width,We.height,We.Pd,We.Qd,We.format,null);if(lt!=0?Te=0:(Te!=null&&(Te[0]=We.width[0]),Le!=null&&(Le[0]=We.height[0]),Te=1),Te){Se.width=Se.width[0],Se.height=Se.height[0],ie!=null&&(ie[0]=Se.width),pe!=null&&(pe[0]=Se.height);e:{if(ie=new vo,(pe=new Sf).data=N,pe.w=R,pe.ha=K,pe.kd=1,R=[0],i(pe!=null),((N=Ah(pe.data,pe.w,pe.ha,null,null,null,R,null,pe))==0||N==7)&&R[0]&&(N=4),(R=N)==0){if(i(_e!=null),ie.data=pe.data,ie.w=pe.w+pe.offset,ie.ha=pe.ha-pe.offset,ie.put=os,ie.ac=wi,ie.bc=ss,ie.ma=_e,pe.xa){if((N=co())==null){_e=1;break e}if(function(rt,et){var Bt=[0],bt=[0],Ye=[0];t:for(;;){if(rt==null)return 0;if(et==null)return rt.a=2,0;if(rt.l=et,rt.a=0,me(rt.m,et.data,et.w,et.ha),!hn(rt.m,Bt,bt,Ye)){rt.a=3;break t}if(rt.xb=xh,et.width=Bt[0],et.height=bt[0],!zr(Bt[0],bt[0],1,rt,null))break t;return 1}return i(rt.a!=0),0}(N,ie)){if(ie=(R=vd(ie.width,ie.height,_e.Oa,_e.ba))==0){t:{ie=N;n:for(;;){if(ie==null){ie=0;break t}if(i(ie.s.yc!=null),i(ie.s.Ya!=null),i(0<ie.s.Wb),i((K=ie.l)!=null),i((pe=K.ma)!=null),ie.xb!=0){if(ie.ca=pe.ba,ie.tb=pe.tb,i(ie.ca!=null),!Au(pe.Oa,K,Lc)){ie.a=2;break n}if(!fl(ie,K.width)||K.da)break n;if((K.da||Yn(ie.ca.S))&&it(),11>ie.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ie.ca.f.kb.F!=null&&it()),ie.Pb&&0<ie.s.ua&&ie.s.vb.X==null&&!oe(ie.s.vb,ie.s.Wa.Xa)){ie.a=1;break n}ie.xb=0}if(!Di(ie,ie.V,ie.Ba,ie.c,ie.i,K.o,jl))break n;pe.Dc=ie.Ma,ie=1;break t}i(ie.a!=0),ie=0}ie=!ie}ie&&(R=N.a)}else R=N.a}else{if((N=new Ps)==null){_e=1;break e}if(N.Fa=pe.na,N.P=pe.P,N.qc=pe.Sa,mu(N,ie)){if((R=vd(ie.width,ie.height,_e.Oa,_e.ba))==0){if(N.Aa=0,K=_e.Oa,i((pe=N)!=null),K!=null){if(0<(Te=0>(Te=K.Md)?0:100<Te?255:255*Te/100)){for(Le=We=0;4>Le;++Le)12>(lt=pe.pb[Le]).lc&&(lt.ia=Te*qo[0>lt.lc?0:lt.lc]>>3),We|=lt.ia;We&&(alert("todo:VP8InitRandom"),pe.ia=1)}pe.Ga=K.Id,100<pe.Ga?pe.Ga=100:0>pe.Ga&&(pe.Ga=0)}gu(N,ie)||(R=N.a)}}else R=N.a}R==0&&_e.Oa!=null&&_e.Oa.fd&&(R=_h(_e.ba))}_e=R}ye=_e!=0?null:11>ye?Se.f.RGBA.eb:Se.f.kb.y}else ye=null;return ye};var eg=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function k(Q,Z){for(var ae="",X=0;X<4;X++)ae+=String.fromCharCode(Q[Z++]);return ae}function v(Q,Z){return(Q[Z+0]<<0|Q[Z+1]<<8|Q[Z+2]<<16)>>>0}function _(Q,Z){return(Q[Z+0]<<0|Q[Z+1]<<8|Q[Z+2]<<16|Q[Z+3]<<24)>>>0}new m;var x=[0],y=[0],D=[],E=new m,j=t,M=function(Q,Z){var ae={},X=0,Y=!1,U=0,q=0;if(ae.frames=[],!function(te,ke,be,ve){for(var Re=0;Re<ve;Re++)if(te[ke+Re]!=be.charCodeAt(Re))return!0;return!1}(Q,Z,"RIFF",4)){for(_(Q,Z+=4),Z+=8;Z<Q.length;){var fe=k(Q,Z),ue=_(Q,Z+=4);Z+=4;var de=ue+(1&ue);switch(fe){case"VP8 ":case"VP8L":ae.frames[X]===void 0&&(ae.frames[X]={}),(ce=ae.frames[X]).src_off=Y?q:Z-8,ce.src_size=U+ue+8,X++,Y&&(Y=!1,U=0,q=0);break;case"VP8X":(ce=ae.header={}).feature_flags=Q[Z];var me=Z+4;ce.canvas_width=1+v(Q,me),me+=3,ce.canvas_height=1+v(Q,me),me+=3;break;case"ALPH":Y=!0,U=de+8,q=Z-8;break;case"ANIM":(ce=ae.header).bgcolor=_(Q,Z),me=Z+4,ce.loop_count=(Ie=Q)[(re=me)+0]<<0|Ie[re+1]<<8,me+=2;break;case"ANMF":var Me,ce;(ce=ae.frames[X]={}).offset_x=2*v(Q,Z),Z+=3,ce.offset_y=2*v(Q,Z),Z+=3,ce.width=1+v(Q,Z),Z+=3,ce.height=1+v(Q,Z),Z+=3,ce.duration=v(Q,Z),Z+=3,Me=Q[Z++],ce.dispose=1&Me,ce.blend=Me>>1&1}fe!="ANMF"&&(Z+=de)}var Ie,re;return ae}}(j,0);M.response=j,M.rgbaoutput=!0,M.dataurl=!1;var B=M.header?M.header:null,z=M.frames?M.frames:null;if(B){B.loop_counter=B.loop_count,x=[B.canvas_height],y=[B.canvas_width];for(var G=0;G<z.length&&z[G].blend!=0;G++);}var J=z[0],H=E.WebPDecodeRGBA(j,J.src_off,J.src_size,y,x);J.rgba=H,J.imgwidth=y[0],J.imgheight=x[0];for(var F=0;F<y[0]*x[0]*4;F++)D[F]=H[F];return this.width=y,this.height=x,this.data=D,this}(function(t){var i=function(){return typeof JD=="function"},n=function(x,y,D,E){var j=4,M=d;switch(E){case t.image_compression.FAST:j=1,M=c;break;case t.image_compression.MEDIUM:j=6,M=p;break;case t.image_compression.SLOW:j=9,M=m}x=o(x,y,D,M);var B=JD(x,{level:j});return t.__addimage__.arrayBufferToBinaryString(B)},o=function(x,y,D,E){for(var j,M,B,z=x.length/y,G=new Uint8Array(x.length+z),J=v(),H=0;H<z;H+=1){if(B=H*y,j=x.subarray(B,B+y),E)G.set(E(j,D,M),B+H);else{for(var F,Q=J.length,Z=[];F<Q;F+=1)Z[F]=J[F](j,D,M);var ae=_(Z.concat());G.set(Z[ae],B+H)}M=j}return G},a=function(x){var y=Array.apply([],x);return y.unshift(0),y},c=function(x,y){var D,E=[],j=x.length;E[0]=1;for(var M=0;M<j;M+=1)D=x[M-y]||0,E[M+1]=x[M]-D+256&255;return E},d=function(x,y,D){var E,j=[],M=x.length;j[0]=2;for(var B=0;B<M;B+=1)E=D&&D[B]||0,j[B+1]=x[B]-E+256&255;return j},p=function(x,y,D){var E,j,M=[],B=x.length;M[0]=3;for(var z=0;z<B;z+=1)E=x[z-y]||0,j=D&&D[z]||0,M[z+1]=x[z]+256-(E+j>>>1)&255;return M},m=function(x,y,D){var E,j,M,B,z=[],G=x.length;z[0]=4;for(var J=0;J<G;J+=1)E=x[J-y]||0,j=D&&D[J]||0,M=D&&D[J-y]||0,B=k(E,j,M),z[J+1]=x[J]-B+256&255;return z},k=function(x,y,D){if(x===y&&y===D)return x;var E=Math.abs(y-D),j=Math.abs(x-D),M=Math.abs(x+y-D-D);return E<=j&&E<=M?x:j<=M?y:D},v=function(){return[a,c,d,p,m]},_=function(x){var y=x.map(function(D){return D.reduce(function(E,j){return E+Math.abs(j)},0)});return y.indexOf(Math.min.apply(null,y))};t.processPNG=function(x,y,D,E){var j,M,B,z,G,J,H,F,Q,Z,ae,X,Y,U,q,fe=this.decode.FLATE_DECODE,ue="";if(this.__addimage__.isArrayBuffer(x)&&(x=new Uint8Array(x)),this.__addimage__.isArrayBufferView(x)){if(x=(B=new pee(x)).imgData,M=B.bits,j=B.colorSpace,G=B.colors,[4,6].indexOf(B.colorType)!==-1){if(B.bits===8){Q=(F=B.pixelBitlength==32?new Uint32Array(B.decodePixels().buffer):B.pixelBitlength==16?new Uint16Array(B.decodePixels().buffer):new Uint8Array(B.decodePixels().buffer)).length,ae=new Uint8Array(Q*B.colors),Z=new Uint8Array(Q);var de,me=B.pixelBitlength-B.bits;for(U=0,q=0;U<Q;U++){for(Y=F[U],de=0;de<me;)ae[q++]=Y>>>de&255,de+=B.bits;Z[U]=Y>>>de&255}}if(B.bits===16){Q=(F=new Uint32Array(B.decodePixels().buffer)).length,ae=new Uint8Array(Q*(32/B.pixelBitlength)*B.colors),Z=new Uint8Array(Q*(32/B.pixelBitlength)),X=B.colors>1,U=0,q=0;for(var Me=0;U<Q;)Y=F[U++],ae[q++]=Y>>>0&255,X&&(ae[q++]=Y>>>16&255,Y=F[U++],ae[q++]=Y>>>0&255),Z[Me++]=Y>>>16&255;M=8}E!==t.image_compression.NONE&&i()?(x=n(ae,B.width*B.colors,B.colors,E),H=n(Z,B.width,1,E)):(x=ae,H=Z,fe=void 0)}if(B.colorType===3&&(j=this.color_spaces.INDEXED,J=B.palette,B.transparency.indexed)){var ce=B.transparency.indexed,Ie=0;for(U=0,Q=ce.length;U<Q;++U)Ie+=ce[U];if((Ie/=255)===Q-1&&ce.indexOf(0)!==-1)z=[ce.indexOf(0)];else if(Ie!==Q){for(F=B.decodePixels(),Z=new Uint8Array(F.length),U=0,Q=F.length;U<Q;U++)Z[U]=ce[F[U]];H=n(Z,B.width,1)}}var re=function(te){var ke;switch(te){case t.image_compression.FAST:ke=11;break;case t.image_compression.MEDIUM:ke=13;break;case t.image_compression.SLOW:ke=14;break;default:ke=12}return ke}(E);return fe===this.decode.FLATE_DECODE&&(ue="/Predictor "+re+" "),ue+="/Colors "+G+" /BitsPerComponent "+M+" /Columns "+B.width,(this.__addimage__.isArrayBuffer(x)||this.__addimage__.isArrayBufferView(x))&&(x=this.__addimage__.arrayBufferToBinaryString(x)),(H&&this.__addimage__.isArrayBuffer(H)||this.__addimage__.isArrayBufferView(H))&&(H=this.__addimage__.arrayBufferToBinaryString(H)),{alias:D,data:x,index:y,filter:fe,decodeParameters:ue,transparency:z,palette:J,sMask:H,predictor:re,width:B.width,height:B.height,bitsPerComponent:M,colorSpace:j}}}})(Rn.API),function(t){t.processGIF89A=function(i,n,o,a){var c=new mee(i),d=c.width,p=c.height,m=[];c.decodeAndBlitFrameRGBA(0,m);var k={data:m,width:d,height:p},v=new eD(100).encode(k,100);return t.processJPEG.call(this,v,n,o,a)},t.processGIF87A=t.processGIF89A}(Rn.API),Qd.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var i=0;i<t;i++){var n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0);this.palette[i]={red:a,green:o,blue:n,quad:c}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Qd.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,i=this.width*this.height*4;this.data=new Uint8Array(i),this[t]()}catch(n){Ui.log("bit decode error:"+n)}},Qd.prototype.bit1=function(){var t,i=Math.ceil(this.width/8),n=i%4;for(t=this.height-1;t>=0;t--){for(var o=this.bottom_up?t:this.height-1-t,a=0;a<i;a++)for(var c=this.datav.getUint8(this.pos++,!0),d=o*this.width*4+8*a*4,p=0;p<8&&8*a+p<this.width;p++){var m=this.palette[c>>7-p&1];this.data[d+4*p]=m.blue,this.data[d+4*p+1]=m.green,this.data[d+4*p+2]=m.red,this.data[d+4*p+3]=255}n!==0&&(this.pos+=4-n)}},Qd.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),i=t%4,n=this.height-1;n>=0;n--){for(var o=this.bottom_up?n:this.height-1-n,a=0;a<t;a++){var c=this.datav.getUint8(this.pos++,!0),d=o*this.width*4+2*a*4,p=c>>4,m=15&c,k=this.palette[p];if(this.data[d]=k.blue,this.data[d+1]=k.green,this.data[d+2]=k.red,this.data[d+3]=255,2*a+1>=this.width)break;k=this.palette[m],this.data[d+4]=k.blue,this.data[d+4+1]=k.green,this.data[d+4+2]=k.red,this.data[d+4+3]=255}i!==0&&(this.pos+=4-i)}},Qd.prototype.bit8=function(){for(var t=this.width%4,i=this.height-1;i>=0;i--){for(var n=this.bottom_up?i:this.height-1-i,o=0;o<this.width;o++){var a=this.datav.getUint8(this.pos++,!0),c=n*this.width*4+4*o;if(a<this.palette.length){var d=this.palette[a];this.data[c]=d.red,this.data[c+1]=d.green,this.data[c+2]=d.blue,this.data[c+3]=255}else this.data[c]=255,this.data[c+1]=255,this.data[c+2]=255,this.data[c+3]=255}t!==0&&(this.pos+=4-t)}},Qd.prototype.bit15=function(){for(var t=this.width%3,i=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var o=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(c&i)/i*255|0,p=(c>>5&i)/i*255|0,m=(c>>10&i)/i*255|0,k=c>>15?255:0,v=o*this.width*4+4*a;this.data[v]=m,this.data[v+1]=p,this.data[v+2]=d,this.data[v+3]=k}this.pos+=t}},Qd.prototype.bit16=function(){for(var t=this.width%3,i=parseInt("11111",2),n=parseInt("111111",2),o=this.height-1;o>=0;o--){for(var a=this.bottom_up?o:this.height-1-o,c=0;c<this.width;c++){var d=this.datav.getUint16(this.pos,!0);this.pos+=2;var p=(d&i)/i*255|0,m=(d>>5&n)/n*255|0,k=(d>>11)/i*255|0,v=a*this.width*4+4*c;this.data[v]=k,this.data[v+1]=m,this.data[v+2]=p,this.data[v+3]=255}this.pos+=t}},Qd.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),d=i*this.width*4+4*n;this.data[d]=c,this.data[d+1]=a,this.data[d+2]=o,this.data[d+3]=255}this.pos+=this.width%4}},Qd.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var i=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),p=i*this.width*4+4*n;this.data[p]=c,this.data[p+1]=a,this.data[p+2]=o,this.data[p+3]=d}},Qd.prototype.getData=function(){return this.data},function(t){t.processBMP=function(i,n,o,a){var c=new Qd(i,!1),d=c.width,p=c.height,m={data:c.getData(),width:d,height:p},k=new eD(100).encode(m,100);return t.processJPEG.call(this,k,n,o,a)}}(Rn.API),Lj.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(i,n,o,a){var c=new Lj(i),d=c.width,p=c.height,m={data:c.getData(),width:d,height:p},k=new eD(100).encode(m,100);return t.processJPEG.call(this,k,n,o,a)}}(Rn.API),Rn.API.processRGBA=function(t,i,n){for(var o=t.data,a=o.length,c=new Uint8Array(a/4*3),d=new Uint8Array(a/4),p=0,m=0,k=0;k<a;k+=4){var v=o[k],_=o[k+1],x=o[k+2],y=o[k+3];c[p++]=v,c[p++]=_,c[p++]=x,d[m++]=y}var D=this.__addimage__.arrayBufferToBinaryString(c);return{alpha:this.__addimage__.arrayBufferToBinaryString(d),data:D,index:i,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Rn.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},B0=Rn.API,X2=B0.getCharWidthsArray=function(t,i){var n,o,a=(i=i||{}).font||this.internal.getFont(),c=i.fontSize||this.internal.getFontSize(),d=i.charSpace||this.internal.getCharSpace(),p=i.widths?i.widths:a.metadata.Unicode.widths,m=p.fof?p.fof:1,k=i.kerning?i.kerning:a.metadata.Unicode.kerning,v=k.fof?k.fof:1,_=i.doKerning!==!1,x=0,y=t.length,D=0,E=p[0]||m,j=[];for(n=0;n<y;n++)o=t.charCodeAt(n),typeof a.metadata.widthOfString=="function"?j.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(o))+d*(1e3/c)||0)/1e3):(x=_&&qi(k[o])==="object"&&!isNaN(parseInt(k[o][D],10))?k[o][D]/v:0,j.push((p[o]||E)/m+x)),D=o;return j},Nj=B0.getStringUnitWidth=function(t,i){var n=(i=i||{}).fontSize||this.internal.getFontSize(),o=i.font||this.internal.getFont(),a=i.charSpace||this.internal.getCharSpace();return B0.processArabic&&(t=B0.processArabic(t)),typeof o.metadata.widthOfString=="function"?o.metadata.widthOfString(t,n,a)/n:X2.apply(this,arguments).reduce(function(c,d){return c+d},0)},jj=function(t,i,n,o){for(var a=[],c=0,d=t.length,p=0;c!==d&&p+i[c]<n;)p+=i[c],c++;a.push(t.slice(0,c));var m=c;for(p=0;c!==d;)p+i[c]>o&&(a.push(t.slice(m,c)),p=0,m=c),p+=i[c],c++;return m!==c&&a.push(t.slice(m,c)),a},Oj=function(t,i,n){n||(n={});var o,a,c,d,p,m,k,v=[],_=[v],x=n.textIndent||0,y=0,D=0,E=t.split(" "),j=X2.apply(this,[" ",n])[0];if(m=n.lineIndent===-1?E[0].length+2:n.lineIndent||0){var M=Array(m).join(" "),B=[];E.map(function(G){(G=G.split(/\s*\n/)).length>1?B=B.concat(G.map(function(J,H){return(H&&J.length?`
`:"")+J})):B.push(G[0])}),E=B,m=Nj.apply(this,[M,n])}for(c=0,d=E.length;c<d;c++){var z=0;if(o=E[c],m&&o[0]==`
`&&(o=o.substr(1),z=1),x+y+(D=(a=X2.apply(this,[o,n])).reduce(function(G,J){return G+J},0))>i||z){if(D>i){for(p=jj.apply(this,[o,a,i-(x+y),i]),v.push(p.shift()),v=[p.pop()];p.length;)_.push([p.shift()]);D=a.slice(o.length-(v[0]?v[0].length:0)).reduce(function(G,J){return G+J},0)}else v=[o];_.push(v),x=D+m,y=j}else v.push(o),x+=y+D,y=j}return k=m?function(G,J){return(J?M:"")+G.join(" ")}:function(G){return G.join(" ")},_.map(k)},B0.splitTextToSize=function(t,i,n){var o,a=(n=n||{}).fontSize||this.internal.getFontSize(),c=(function(v){if(v.widths&&v.kerning)return{widths:v.widths,kerning:v.kerning};var _=this.internal.getFont(v.fontName,v.fontStyle);return _.metadata.Unicode?{widths:_.metadata.Unicode.widths||{0:1},kerning:_.metadata.Unicode.kerning||{}}:{font:_.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);o=Array.isArray(t)?t:String(t).split(/\r?\n/);var d=1*this.internal.scaleFactor*i/a;c.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/a:0,c.lineIndent=n.lineIndent;var p,m,k=[];for(p=0,m=o.length;p<m;p++)k=k.concat(Oj.apply(this,[o[p],d,c]));return k},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var i="klmnopqrstuvwxyz",n={},o={},a=0;a<i.length;a++)n[i[a]]="0123456789abcdef"[a],o["0123456789abcdef"[a]]=i[a];var c=function(_){return"0x"+parseInt(_,10).toString(16)},d=t.__fontmetrics__.compress=function(_){var x,y,D,E,j=["{"];for(var M in _){if(x=_[M],isNaN(parseInt(M,10))?y="'"+M+"'":(M=parseInt(M,10),y=(y=c(M).slice(2)).slice(0,-1)+o[y.slice(-1)]),typeof x=="number")x<0?(D=c(x).slice(3),E="-"):(D=c(x).slice(2),E=""),D=E+D.slice(0,-1)+o[D.slice(-1)];else{if(qi(x)!=="object")throw new Error("Don't know what to do with value type "+qi(x)+".");D=d(x)}j.push(y+D)}return j.push("}"),j.join("")},p=t.__fontmetrics__.uncompress=function(_){if(typeof _!="string")throw new Error("Invalid argument passed to uncompress.");for(var x,y,D,E,j={},M=1,B=j,z=[],G="",J="",H=_.length-1,F=1;F<H;F+=1)(E=_[F])=="'"?x?(D=x.join(""),x=void 0):x=[]:x?x.push(E):E=="{"?(z.push([B,D]),B={},D=void 0):E=="}"?((y=z.pop())[0][y[1]]=B,D=void 0,B=y[0]):E=="-"?M=-1:D===void 0?n.hasOwnProperty(E)?(G+=n[E],D=parseInt(G,16)*M,M=1,G=""):G+=E:n.hasOwnProperty(E)?(J+=n[E],B[D]=parseInt(J,16)*M,M=1,D=void 0,J=""):J+=E;return j},m={codePages:["WinAnsiEncoding"],WinAnsiEncoding:p("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},k={Unicode:{Courier:m,"Courier-Bold":m,"Courier-BoldOblique":m,"Courier-Oblique":m,Helvetica:m,"Helvetica-Bold":m,"Helvetica-BoldOblique":m,"Helvetica-Oblique":m,"Times-Roman":m,"Times-Bold":m,"Times-BoldItalic":m,"Times-Italic":m}},v={Unicode:{"Courier-Oblique":p("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":p("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":p("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:p("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":p("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":p("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:p("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:p("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":p("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:p("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":p("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":p("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":p("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":p("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(_){var x=_.font,y=v.Unicode[x.postScriptName];y&&(x.metadata.Unicode={},x.metadata.Unicode.widths=y.widths,x.metadata.Unicode.kerning=y.kerning);var D=k.Unicode[x.postScriptName];D&&(x.metadata.Unicode.encoding=D,x.encoding=D.codePages[0])}])}(Rn.API),function(t){var i=function(n){for(var o=n.length,a=new Uint8Array(o),c=0;c<o;c++)a[c]=n.charCodeAt(c);return a};t.API.events.push(["addFont",function(n){var o=void 0,a=n.font,c=n.instance;if(!a.isStandardFont){if(c===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(o=c.existsFileInVFS(a.postScriptName)===!1?c.loadFile(a.postScriptName):c.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(d,p){p=/^\x00\x01\x00\x00/.test(p)?i(p):i(Sy(p)),d.metadata=t.API.TTFFont.open(p),d.metadata.Unicode=d.metadata.Unicode||{encoding:{},kerning:{},widths:[]},d.metadata.glyIdsUsed=[0]})(a,o)}}])}(Rn),function(t){function i(){return(Un.canvg?Promise.resolve(Un.canvg):No(()=>import("./index.es-DlK2Ezyc.js"),__vite__mapDeps([6,4,1]))).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}Rn.API.addSvgAsImage=function(n,o,a,c,d,p,m,k){if(isNaN(o)||isNaN(a))throw Ui.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(c)||isNaN(d))throw Ui.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var v=document.createElement("canvas");v.width=c,v.height=d;var _=v.getContext("2d");_.fillStyle="#fff",_.fillRect(0,0,v.width,v.height);var x={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return i().then(function(D){return D.fromString(_,n,x)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(D){return D.render(x)}).then(function(){y.addImage(v.toDataURL("image/jpeg",1),o,a,c,d,m,k)})}}(),Rn.API.putTotalPages=function(t){var i,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(i=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(i=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var o=1;o<=this.internal.getNumberOfPages();o++)for(var a=0;a<this.internal.pages[o].length;a++)this.internal.pages[o][a]=this.internal.pages[o][a].replace(i,n);return this},Rn.API.viewerPreferences=function(t,i){var n;t=t||{},i=i||!1;var o,a,c,d={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},p=Object.keys(d),m=[],k=0,v=0,_=0;function x(D,E){var j,M=!1;for(j=0;j<D.length;j+=1)D[j]===E&&(M=!0);return M}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(d)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||i===!0){var y=p.length;for(_=0;_<y;_+=1)n[p[_]].value=n[p[_]].defaultValue,n[p[_]].explicitSet=!1}if(qi(t)==="object"){for(a in t)if(c=t[a],x(p,a)&&c!==void 0){if(n[a].type==="boolean"&&typeof c=="boolean")n[a].value=c;else if(n[a].type==="name"&&x(n[a].valueSet,c))n[a].value=c;else if(n[a].type==="integer"&&Number.isInteger(c))n[a].value=c;else if(n[a].type==="array"){for(k=0;k<c.length;k+=1)if(o=!0,c[k].length===1&&typeof c[k][0]=="number")m.push(String(c[k]-1));else if(c[k].length>1){for(v=0;v<c[k].length;v+=1)typeof c[k][v]!="number"&&(o=!1);o===!0&&m.push([c[k][0]-1,c[k][1]-1].join(" "))}n[a].value="["+m.join(" ")+"]"}else n[a].value=n[a].defaultValue;n[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var D,E=[];for(D in n)n[D].explicitSet===!0&&(n[D].type==="name"?E.push("/"+D+" /"+n[D].value):E.push("/"+D+" "+n[D].value));E.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+E.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var i=function(){var o='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),c=unescape(encodeURIComponent(o)),d=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),p=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),m=unescape(encodeURIComponent("</x:xmpmeta>")),k=c.length+d.length+p.length+a.length+m.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+k+" >>"),this.internal.write("stream"),this.internal.write(a+c+d+p+m),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(o,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:o,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",i)),this}}(Rn.API),function(t){var i=t.API,n=i.pdfEscape16=function(c,d){for(var p,m=d.metadata.Unicode.widths,k=["","0","00","000","0000"],v=[""],_=0,x=c.length;_<x;++_){if(p=d.metadata.characterToGlyph(c.charCodeAt(_)),d.metadata.glyIdsUsed.push(p),d.metadata.toUnicode[p]=c.charCodeAt(_),m.indexOf(p)==-1&&(m.push(p),m.push([parseInt(d.metadata.widthOfGlyph(p),10)])),p=="0")return v.join("");p=p.toString(16),v.push(k[4-p.length],p)}return v.join("")},o=function(c){var d,p,m,k,v,_,x;for(v=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,m=[],_=0,x=(p=Object.keys(c).sort(function(y,D){return y-D})).length;_<x;_++)d=p[_],m.length>=100&&(v+=`
`+m.length+` beginbfchar
`+m.join(`
`)+`
endbfchar`,m=[]),c[d]!==void 0&&c[d]!==null&&typeof c[d].toString=="function"&&(k=("0000"+c[d].toString(16)).slice(-4),d=("0000"+(+d).toString(16)).slice(-4),m.push("<"+d+"><"+k+">"));return m.length&&(v+=`
`+m.length+` beginbfchar
`+m.join(`
`)+`
endbfchar
`),v+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};i.events.push(["putFont",function(c){(function(d){var p=d.font,m=d.out,k=d.newObject,v=d.putStream;if(p.metadata instanceof t.API.TTFFont&&p.encoding==="Identity-H"){for(var _=p.metadata.Unicode.widths,x=p.metadata.subset.encode(p.metadata.glyIdsUsed,1),y="",D=0;D<x.length;D++)y+=String.fromCharCode(x[D]);var E=k();v({data:y,addLength1:!0,objectId:E}),m("endobj");var j=k();v({data:o(p.metadata.toUnicode),addLength1:!0,objectId:j}),m("endobj");var M=k();m("<<"),m("/Type /FontDescriptor"),m("/FontName /"+J0(p.fontName)),m("/FontFile2 "+E+" 0 R"),m("/FontBBox "+t.API.PDFObject.convert(p.metadata.bbox)),m("/Flags "+p.metadata.flags),m("/StemV "+p.metadata.stemV),m("/ItalicAngle "+p.metadata.italicAngle),m("/Ascent "+p.metadata.ascender),m("/Descent "+p.metadata.decender),m("/CapHeight "+p.metadata.capHeight),m(">>"),m("endobj");var B=k();m("<<"),m("/Type /Font"),m("/BaseFont /"+J0(p.fontName)),m("/FontDescriptor "+M+" 0 R"),m("/W "+t.API.PDFObject.convert(_)),m("/CIDToGIDMap /Identity"),m("/DW 1000"),m("/Subtype /CIDFontType2"),m("/CIDSystemInfo"),m("<<"),m("/Supplement 0"),m("/Registry (Adobe)"),m("/Ordering ("+p.encoding+")"),m(">>"),m(">>"),m("endobj"),p.objectNumber=k(),m("<<"),m("/Type /Font"),m("/Subtype /Type0"),m("/ToUnicode "+j+" 0 R"),m("/BaseFont /"+J0(p.fontName)),m("/Encoding /"+p.encoding),m("/DescendantFonts ["+B+" 0 R]"),m(">>"),m("endobj"),p.isAlreadyPutted=!0}})(c)}]),i.events.push(["putFont",function(c){(function(d){var p=d.font,m=d.out,k=d.newObject,v=d.putStream;if(p.metadata instanceof t.API.TTFFont&&p.encoding==="WinAnsiEncoding"){for(var _=p.metadata.rawData,x="",y=0;y<_.length;y++)x+=String.fromCharCode(_[y]);var D=k();v({data:x,addLength1:!0,objectId:D}),m("endobj");var E=k();v({data:o(p.metadata.toUnicode),addLength1:!0,objectId:E}),m("endobj");var j=k();m("<<"),m("/Descent "+p.metadata.decender),m("/CapHeight "+p.metadata.capHeight),m("/StemV "+p.metadata.stemV),m("/Type /FontDescriptor"),m("/FontFile2 "+D+" 0 R"),m("/Flags 96"),m("/FontBBox "+t.API.PDFObject.convert(p.metadata.bbox)),m("/FontName /"+J0(p.fontName)),m("/ItalicAngle "+p.metadata.italicAngle),m("/Ascent "+p.metadata.ascender),m(">>"),m("endobj"),p.objectNumber=k();for(var M=0;M<p.metadata.hmtx.widths.length;M++)p.metadata.hmtx.widths[M]=parseInt(p.metadata.hmtx.widths[M]*(1e3/p.metadata.head.unitsPerEm));m("<</Subtype/TrueType/Type/Font/ToUnicode "+E+" 0 R/BaseFont/"+J0(p.fontName)+"/FontDescriptor "+j+" 0 R/Encoding/"+p.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(p.metadata.hmtx.widths)+">>"),m("endobj"),p.isAlreadyPutted=!0}})(c)}]);var a=function(c){var d,p=c.text||"",m=c.x,k=c.y,v=c.options||{},_=c.mutex||{},x=_.pdfEscape,y=_.activeFontKey,D=_.fonts,E=y,j="",M=0,B="",z=D[E].encoding;if(D[E].encoding!=="Identity-H")return{text:p,x:m,y:k,options:v,mutex:_};for(B=p,E=y,Array.isArray(p)&&(B=p[0]),M=0;M<B.length;M+=1)D[E].metadata.hasOwnProperty("cmap")&&(d=D[E].metadata.cmap.unicode.codeMap[B[M].charCodeAt(0)]),d||B[M].charCodeAt(0)<256&&D[E].metadata.hasOwnProperty("Unicode")?j+=B[M]:j+="";var G="";return parseInt(E.slice(1))<14||z==="WinAnsiEncoding"?G=x(j,E).split("").map(function(J){return J.charCodeAt(0).toString(16)}).join(""):z==="Identity-H"&&(G=n(j,D[E])),_.isHex=!0,{text:G,x:m,y:k,options:v,mutex:_}};i.events.push(["postProcessText",function(c){var d=c.text||"",p=[],m={text:d,x:c.x,y:c.y,options:c.options,mutex:c.mutex};if(Array.isArray(d)){var k=0;for(k=0;k<d.length;k+=1)Array.isArray(d[k])&&d[k].length===3?p.push([a(Object.assign({},m,{text:d[k][0]})).text,d[k][1],d[k][2]]):p.push(a(Object.assign({},m,{text:d[k]})).text);c.text=p}else c.text=a(Object.assign({},m,{text:d})).text}])}(Rn),function(t){var i=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return i.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,o){return i.call(this),this.internal.vFS[n]=o,this},t.getFileFromVFS=function(n){return i.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Rn.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(o){var a,c,d,p,m,k,v,_=i,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],D={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},E={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},j=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],M=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),B=!1,z=0;this.__bidiEngine__={};var G=function(X){var Y=X.charCodeAt(),U=Y>>8,q=E[U];return q!==void 0?_[256*q+(255&Y)]:U===252||U===253?"AL":M.test(U)?"L":U===8?"R":"N"},J=function(X){for(var Y,U=0;U<X.length;U++){if((Y=G(X.charAt(U)))==="L")return!1;if(Y==="R")return!0}return!1},H=function(X,Y,U,q){var fe,ue,de,me,Me=Y[q];switch(Me){case"L":case"R":B=!1;break;case"N":case"AN":break;case"EN":B&&(Me="AN");break;case"AL":B=!0,Me="R";break;case"WS":Me="N";break;case"CS":q<1||q+1>=Y.length||(fe=U[q-1])!=="EN"&&fe!=="AN"||(ue=Y[q+1])!=="EN"&&ue!=="AN"?Me="N":B&&(ue="AN"),Me=ue===fe?ue:"N";break;case"ES":Me=(fe=q>0?U[q-1]:"B")==="EN"&&q+1<Y.length&&Y[q+1]==="EN"?"EN":"N";break;case"ET":if(q>0&&U[q-1]==="EN"){Me="EN";break}if(B){Me="N";break}for(de=q+1,me=Y.length;de<me&&Y[de]==="ET";)de++;Me=de<me&&Y[de]==="EN"?"EN":"N";break;case"NSM":if(d&&!p){for(me=Y.length,de=q+1;de<me&&Y[de]==="NSM";)de++;if(de<me){var ce=X[q],Ie=ce>=1425&&ce<=2303||ce===64286;if(fe=Y[de],Ie&&(fe==="R"||fe==="AL")){Me="R";break}}}Me=q<1||(fe=Y[q-1])==="B"?"N":U[q-1];break;case"B":B=!1,a=!0,Me=z;break;case"S":c=!0,Me="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":B=!1;break;case"BN":Me="N"}return Me},F=function(X,Y,U){var q=X.split("");return U&&Q(q,U,{hiLevel:z}),q.reverse(),Y&&Y.reverse(),q.join("")},Q=function(X,Y,U){var q,fe,ue,de,me,Me=-1,ce=X.length,Ie=0,re=[],te=z?y:x,ke=[];for(B=!1,a=!1,c=!1,fe=0;fe<ce;fe++)ke[fe]=G(X[fe]);for(ue=0;ue<ce;ue++){if(me=Ie,re[ue]=H(X,ke,re,ue),q=240&(Ie=te[me][D[re[ue]]]),Ie&=15,Y[ue]=de=te[Ie][5],q>0)if(q===16){for(fe=Me;fe<ue;fe++)Y[fe]=1;Me=-1}else Me=-1;if(te[Ie][6])Me===-1&&(Me=ue);else if(Me>-1){for(fe=Me;fe<ue;fe++)Y[fe]=de;Me=-1}ke[ue]==="B"&&(Y[ue]=0),U.hiLevel|=de}c&&function(be,ve,Re){for(var Be=0;Be<Re;Be++)if(be[Be]==="S"){ve[Be]=z;for(var Ue=Be-1;Ue>=0&&be[Ue]==="WS";Ue--)ve[Ue]=z}}(ke,Y,ce)},Z=function(X,Y,U,q,fe){if(!(fe.hiLevel<X)){if(X===1&&z===1&&!a)return Y.reverse(),void(U&&U.reverse());for(var ue,de,me,Me,ce=Y.length,Ie=0;Ie<ce;){if(q[Ie]>=X){for(me=Ie+1;me<ce&&q[me]>=X;)me++;for(Me=Ie,de=me-1;Me<de;Me++,de--)ue=Y[Me],Y[Me]=Y[de],Y[de]=ue,U&&(ue=U[Me],U[Me]=U[de],U[de]=ue);Ie=me}Ie++}}},ae=function(X,Y,U){var q=X.split(""),fe={hiLevel:z};return U||(U=[]),Q(q,U,fe),function(ue,de,me){if(me.hiLevel!==0&&v)for(var Me,ce=0;ce<ue.length;ce++)de[ce]===1&&(Me=j.indexOf(ue[ce]))>=0&&(ue[ce]=j[Me+1])}(q,U,fe),Z(2,q,Y,U,fe),Z(1,q,Y,U,fe),q.join("")};return this.__bidiEngine__.doBidiReorder=function(X,Y,U){if(function(fe,ue){if(ue)for(var de=0;de<fe.length;de++)ue[de]=de;p===void 0&&(p=J(fe)),k===void 0&&(k=J(fe))}(X,Y),d||!m||k)if(d&&m&&p^k)z=p?1:0,X=F(X,Y,U);else if(!d&&m&&k)z=p?1:0,X=ae(X,Y,U),X=F(X,Y);else if(!d||p||m||k){if(d&&!m&&p^k)X=F(X,Y),p?(z=0,X=ae(X,Y,U)):(z=1,X=ae(X,Y,U),X=F(X,Y));else if(d&&p&&!m&&k)z=1,X=ae(X,Y,U),X=F(X,Y);else if(!d&&!m&&p^k){var q=v;p?(z=1,X=ae(X,Y,U),z=0,v=!1,X=ae(X,Y,U),v=q):(z=0,X=ae(X,Y,U),X=F(X,Y),z=1,v=!1,X=ae(X,Y,U),v=q,X=F(X,Y))}}else z=0,X=ae(X,Y,U);else z=p?1:0,X=ae(X,Y,U);return X},this.__bidiEngine__.setOptions=function(X){X&&(d=X.isInputVisual,m=X.isOutputVisual,p=X.isInputRtl,k=X.isOutputRtl,v=X.isSymmetricSwapping)},this.__bidiEngine__.setOptions(o),this.__bidiEngine__};var i=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(o){var a=o.text;o.x,o.y;var c=o.options||{};o.mutex,c.lang;var d=[];if(c.isInputVisual=typeof c.isInputVisual!="boolean"||c.isInputVisual,n.setOptions(c),Object.prototype.toString.call(a)==="[object Array]"){var p=0;for(d=[],p=0;p<a.length;p+=1)Object.prototype.toString.call(a[p])==="[object Array]"?d.push([n.doBidiReorder(a[p][0]),a[p][1],a[p][2]]):d.push([n.doBidiReorder(a[p])]);o.text=d}else o.text=n.doBidiReorder(a);n.setOptions({isInputVisual:!0})}])}(Rn),Rn.API.TTFFont=function(){function t(i){var n;if(this.rawData=i,n=this.contents=new Um(i),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Tee(this),this.registerTTF()}return t.open=function(i){return new t(i)},t.prototype.parse=function(){return this.directory=new gee(this.contents),this.head=new kee(this),this.name=new _ee(this),this.cmap=new Q7(this),this.toUnicode={},this.hhea=new wee(this),this.maxp=new Cee(this),this.hmtx=new xee(this),this.post=new yee(this),this.os2=new vee(this),this.loca=new Iee(this),this.glyf=new See(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var i,n,o,a,c;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var d,p,m,k;for(k=[],d=0,p=(m=this.bbox).length;d<p;d++)i=m[d],k.push(Math.round(i*this.scaleFactor));return k}).call(this),this.stemV=0,this.post.exists?(o=255&(a=this.post.italic_angle),(32768&(n=a>>16))!=0&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+o)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(c=this.familyClass)===1||c===2||c===3||c===4||c===5||c===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(i){var n;return((n=this.cmap.unicode)!=null?n.codeMap[i]:void 0)||0},t.prototype.widthOfGlyph=function(i){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(i).advance*n},t.prototype.widthOfString=function(i,n,o){var a,c,d,p;for(d=0,c=0,p=(i=""+i).length;0<=p?c<p:c>p;c=0<=p?++c:--c)a=i.charCodeAt(c),d+=this.widthOfGlyph(this.characterToGlyph(a))+o*(1e3/n)||0;return d*(n/1e3)},t.prototype.lineHeight=function(i,n){var o;return n==null&&(n=!1),o=n?this.lineGap:0,(this.ascender+o-this.decender)/1e3*i},t}();var dh,Um=function(){function t(i){this.data=i??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(i){return this.data[this.pos++]=i},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(i){return this.writeByte(i>>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},t.prototype.readInt32=function(){var i;return(i=this.readUInt32())>=2147483648?i-4294967296:i},t.prototype.writeInt32=function(i){return i<0&&(i+=4294967296),this.writeUInt32(i)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(i){return this.writeByte(i>>8&255),this.writeByte(255&i)},t.prototype.readInt16=function(){var i;return(i=this.readUInt16())>=32768?i-65536:i},t.prototype.writeInt16=function(i){return i<0&&(i+=65536),this.writeUInt16(i)},t.prototype.readString=function(i){var n,o;for(o=[],n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)o[n]=String.fromCharCode(this.readByte());return o.join("")},t.prototype.writeString=function(i){var n,o,a;for(a=[],n=0,o=i.length;0<=o?n<o:n>o;n=0<=o?++n:--n)a.push(this.writeByte(i.charCodeAt(n)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(i){return this.writeInt16(i)},t.prototype.readLongLong=function(){var i,n,o,a,c,d,p,m;return i=this.readByte(),n=this.readByte(),o=this.readByte(),a=this.readByte(),c=this.readByte(),d=this.readByte(),p=this.readByte(),m=this.readByte(),128&i?-1*(72057594037927940*(255^i)+281474976710656*(255^n)+1099511627776*(255^o)+4294967296*(255^a)+16777216*(255^c)+65536*(255^d)+256*(255^p)+(255^m)+1):72057594037927940*i+281474976710656*n+1099511627776*o+4294967296*a+16777216*c+65536*d+256*p+m},t.prototype.writeLongLong=function(i){var n,o;return n=Math.floor(i/4294967296),o=4294967295&i,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(o>>24&255),this.writeByte(o>>16&255),this.writeByte(o>>8&255),this.writeByte(255&o)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(i){return this.writeInt32(i)},t.prototype.read=function(i){var n,o;for(n=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)n.push(this.readByte());return n},t.prototype.write=function(i){var n,o,a,c;for(c=[],o=0,a=i.length;o<a;o++)n=i[o],c.push(this.writeByte(n));return c},t}(),gee=function(){var t;function i(n){var o,a,c;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},a=0,c=this.tableCount;0<=c?a<c:a>c;a=0<=c?++a:--a)o={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[o.tag]=o}return i.prototype.encode=function(n){var o,a,c,d,p,m,k,v,_,x,y,D,E;for(E in y=Object.keys(n).length,m=Math.log(2),_=16*Math.floor(Math.log(y)/m),d=Math.floor(_/m),v=16*y-_,(a=new Um).writeInt(this.scalarType),a.writeShort(y),a.writeShort(_),a.writeShort(d),a.writeShort(v),c=16*y,k=a.pos+c,p=null,D=[],n)for(x=n[E],a.writeString(E),a.writeInt(t(x)),a.writeInt(k),a.writeInt(x.length),D=D.concat(x),E==="head"&&(p=k),k+=x.length;k%4;)D.push(0),k++;return a.write(D),o=2981146554-t(a.data),a.pos=p+8,a.writeUInt32(o),a.data},t=function(n){var o,a,c,d;for(n=Z7.call(n);n.length%4;)n.push(0);for(c=new Um(n),a=0,o=0,d=n.length;o<d;o=o+=4)a+=c.readUInt32();return 4294967295&a},i}(),bee={}.hasOwnProperty,wf=function(t,i){for(var n in i)bee.call(i,n)&&(t[n]=i[n]);function o(){this.constructor=t}return o.prototype=i.prototype,t.prototype=new o,t.__super__=i.prototype,t};dh=function(){function t(i){var n;this.file=i,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var kee=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return wf(i,dh),i.prototype.tag="head",i.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},i.prototype.encode=function(n){var o;return(o=new Um).writeInt(this.version),o.writeInt(this.revision),o.writeInt(this.checkSumAdjustment),o.writeInt(this.magicNumber),o.writeShort(this.flags),o.writeShort(this.unitsPerEm),o.writeLongLong(this.created),o.writeLongLong(this.modified),o.writeShort(this.xMin),o.writeShort(this.yMin),o.writeShort(this.xMax),o.writeShort(this.yMax),o.writeShort(this.macStyle),o.writeShort(this.lowestRecPPEM),o.writeShort(this.fontDirectionHint),o.writeShort(n),o.writeShort(this.glyphDataFormat),o.data},i}(),Pj=function(){function t(i,n){var o,a,c,d,p,m,k,v,_,x,y,D,E,j,M,B,z;switch(this.platformID=i.readUInt16(),this.encodingID=i.readShort(),this.offset=n+i.readInt(),_=i.pos,i.pos=this.offset,this.format=i.readUInt16(),this.length=i.readUInt16(),this.language=i.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(m=0;m<256;++m)this.codeMap[m]=i.readByte();break;case 4:for(y=i.readUInt16(),x=y/2,i.pos+=6,c=function(){var G,J;for(J=[],m=G=0;0<=x?G<x:G>x;m=0<=x?++G:--G)J.push(i.readUInt16());return J}(),i.pos+=2,E=function(){var G,J;for(J=[],m=G=0;0<=x?G<x:G>x;m=0<=x?++G:--G)J.push(i.readUInt16());return J}(),k=function(){var G,J;for(J=[],m=G=0;0<=x?G<x:G>x;m=0<=x?++G:--G)J.push(i.readUInt16());return J}(),v=function(){var G,J;for(J=[],m=G=0;0<=x?G<x:G>x;m=0<=x?++G:--G)J.push(i.readUInt16());return J}(),a=(this.length-i.pos+this.offset)/2,p=function(){var G,J;for(J=[],m=G=0;0<=a?G<a:G>a;m=0<=a?++G:--G)J.push(i.readUInt16());return J}(),m=M=0,z=c.length;M<z;m=++M)for(j=c[m],o=B=D=E[m];D<=j?B<=j:B>=j;o=D<=j?++B:--B)v[m]===0?d=o+k[m]:(d=p[v[m]/2+(o-D)-(x-m)]||0)!==0&&(d+=k[m]),this.codeMap[o]=65535&d}i.pos=_}return t.encode=function(i,n){var o,a,c,d,p,m,k,v,_,x,y,D,E,j,M,B,z,G,J,H,F,Q,Z,ae,X,Y,U,q,fe,ue,de,me,Me,ce,Ie,re,te,ke,be,ve,Re,Be,Ue,Ze,Ge,ft;switch(q=new Um,d=Object.keys(i).sort(function(gt,oe){return gt-oe}),n){case"macroman":for(E=0,j=function(){var gt=[];for(D=0;D<256;++D)gt.push(0);return gt}(),B={0:0},c={},fe=0,Me=d.length;fe<Me;fe++)B[Ue=i[a=d[fe]]]==null&&(B[Ue]=++E),c[a]={old:i[a],new:B[i[a]]},j[a]=B[i[a]];return q.writeUInt16(1),q.writeUInt16(0),q.writeUInt32(12),q.writeUInt16(0),q.writeUInt16(262),q.writeUInt16(0),q.write(j),{charMap:c,subtable:q.data,maxGlyphID:E+1};case"unicode":for(Y=[],_=[],z=0,B={},o={},M=k=null,ue=0,ce=d.length;ue<ce;ue++)B[J=i[a=d[ue]]]==null&&(B[J]=++z),o[a]={old:J,new:B[J]},p=B[J]-a,M!=null&&p===k||(M&&_.push(M),Y.push(a),k=p),M=a;for(M&&_.push(M),_.push(65535),Y.push(65535),ae=2*(Z=Y.length),Q=2*Math.pow(Math.log(Z)/Math.LN2,2),x=Math.log(Q/2)/Math.LN2,F=2*Z-Q,m=[],H=[],y=[],D=de=0,Ie=Y.length;de<Ie;D=++de){if(X=Y[D],v=_[D],X===65535){m.push(0),H.push(0);break}if(X-(U=o[X].new)>=32768)for(m.push(0),H.push(2*(y.length+Z-D)),a=me=X;X<=v?me<=v:me>=v;a=X<=v?++me:--me)y.push(o[a].new);else m.push(U-X),H.push(0)}for(q.writeUInt16(3),q.writeUInt16(1),q.writeUInt32(12),q.writeUInt16(4),q.writeUInt16(16+8*Z+2*y.length),q.writeUInt16(0),q.writeUInt16(ae),q.writeUInt16(Q),q.writeUInt16(x),q.writeUInt16(F),Re=0,re=_.length;Re<re;Re++)a=_[Re],q.writeUInt16(a);for(q.writeUInt16(0),Be=0,te=Y.length;Be<te;Be++)a=Y[Be],q.writeUInt16(a);for(Ze=0,ke=m.length;Ze<ke;Ze++)p=m[Ze],q.writeUInt16(p);for(Ge=0,be=H.length;Ge<be;Ge++)G=H[Ge],q.writeUInt16(G);for(ft=0,ve=y.length;ft<ve;ft++)E=y[ft],q.writeUInt16(E);return{charMap:o,subtable:q.data,maxGlyphID:z+1}}},t}(),Q7=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return wf(i,dh),i.prototype.tag="cmap",i.prototype.parse=function(n){var o,a,c;for(n.pos=this.offset,this.version=n.readUInt16(),c=n.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=c?a<c:a>c;a=0<=c?++a:--a)o=new Pj(n,this.offset),this.tables.push(o),o.isUnicode&&this.unicode==null&&(this.unicode=o);return!0},i.encode=function(n,o){var a,c;return o==null&&(o="macroman"),a=Pj.encode(n,o),(c=new Um).writeUInt16(0),c.writeUInt16(1),a.table=c.data.concat(a.subtable),a},i}(),wee=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return wf(i,dh),i.prototype.tag="hhea",i.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},i}(),vee=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return wf(i,dh),i.prototype.tag="OS/2",i.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var o,a;for(a=[],o=0;o<10;++o)a.push(n.readByte());return a}(),this.charRange=function(){var o,a;for(a=[],o=0;o<4;++o)a.push(n.readInt());return a}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var o,a;for(a=[],o=0;o<2;o=++o)a.push(n.readInt());return a}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},i}(),yee=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return wf(i,dh),i.prototype.tag="post",i.prototype.parse=function(n){var o,a,c;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var d;for(a=n.readUInt16(),this.glyphNameIndex=[],d=0;0<=a?d<a:d>a;d=0<=a?++d:--d)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],c=[];n.pos<this.offset+this.length;)o=n.readByte(),c.push(this.names.push(n.readString(o)));return c;case 151552:return a=n.readUInt16(),this.offsets=n.read(a);case 196608:break;case 262144:return this.map=(function(){var p,m,k;for(k=[],d=p=0,m=this.file.maxp.numGlyphs;0<=m?p<m:p>m;d=0<=m?++p:--p)k.push(n.readUInt32());return k}).call(this)}},i}(),Aee=function(t,i){this.raw=t,this.length=t.length,this.platformID=i.platformID,this.encodingID=i.encodingID,this.languageID=i.languageID},_ee=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return wf(i,dh),i.prototype.tag="name",i.prototype.parse=function(n){var o,a,c,d,p,m,k,v,_,x,y;for(n.pos=this.offset,n.readShort(),o=n.readShort(),m=n.readShort(),a=[],d=0;0<=o?d<o:d>o;d=0<=o?++d:--d)a.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+m+n.readShort()});for(k={},d=_=0,x=a.length;_<x;d=++_)c=a[d],n.pos=c.offset,v=n.readString(c.length),p=new Aee(v,c),k[y=c.nameID]==null&&(k[y]=[]),k[c.nameID].push(p);this.strings=k,this.copyright=k[0],this.fontFamily=k[1],this.fontSubfamily=k[2],this.uniqueSubfamily=k[3],this.fontName=k[4],this.version=k[5];try{this.postscriptName=k[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=k[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=k[7],this.manufacturer=k[8],this.designer=k[9],this.description=k[10],this.vendorUrl=k[11],this.designerUrl=k[12],this.license=k[13],this.licenseUrl=k[14],this.preferredFamily=k[15],this.preferredSubfamily=k[17],this.compatibleFull=k[18],this.sampleText=k[19]},i}(),Cee=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return wf(i,dh),i.prototype.tag="maxp",i.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},i}(),xee=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return wf(i,dh),i.prototype.tag="hmtx",i.prototype.parse=function(n){var o,a,c,d,p,m,k;for(n.pos=this.offset,this.metrics=[],o=0,m=this.file.hhea.numberOfMetrics;0<=m?o<m:o>m;o=0<=m?++o:--o)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(c=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var v,_;for(_=[],o=v=0;0<=c?v<c:v>c;o=0<=c?++v:--v)_.push(n.readInt16());return _}(),this.widths=(function(){var v,_,x,y;for(y=[],v=0,_=(x=this.metrics).length;v<_;v++)d=x[v],y.push(d.advance);return y}).call(this),a=this.widths[this.widths.length-1],k=[],o=p=0;0<=c?p<c:p>c;o=0<=c?++p:--p)k.push(this.widths.push(a));return k},i.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},i}(),Z7=[].slice,See=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return wf(i,dh),i.prototype.tag="glyf",i.prototype.parse=function(){return this.cache={}},i.prototype.glyphFor=function(n){var o,a,c,d,p,m,k,v,_,x;return n in this.cache?this.cache[n]:(d=this.file.loca,o=this.file.contents,a=d.indexOf(n),(c=d.lengthOf(n))===0?this.cache[n]=null:(o.pos=this.offset+a,p=(m=new Um(o.read(c))).readShort(),v=m.readShort(),x=m.readShort(),k=m.readShort(),_=m.readShort(),this.cache[n]=p===-1?new Dee(m,v,x,k,_):new Eee(m,p,v,x,k,_),this.cache[n]))},i.prototype.encode=function(n,o,a){var c,d,p,m,k;for(p=[],d=[],m=0,k=o.length;m<k;m++)c=n[o[m]],d.push(p.length),c&&(p=p.concat(c.encode(a)));return d.push(p.length),{table:p,offsets:d}},i}(),Eee=function(){function t(i,n,o,a,c,d){this.raw=i,this.numberOfContours=n,this.xMin=o,this.yMin=a,this.xMax=c,this.yMax=d,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Dee=function(){function t(i,n,o,a,c){var d,p;for(this.raw=i,this.xMin=n,this.yMin=o,this.xMax=a,this.yMax=c,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],d=this.raw;p=d.readShort(),this.glyphOffsets.push(d.pos),this.glyphIDs.push(d.readUInt16()),32&p;)d.pos+=1&p?4:2,128&p?d.pos+=8:64&p?d.pos+=4:8&p&&(d.pos+=2)}return t.prototype.encode=function(){var i,n,o;for(n=new Um(Z7.call(this.raw.data)),i=0,o=this.glyphIDs.length;i<o;++i)n.pos=this.glyphOffsets[i];return n.data},t}(),Iee=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return wf(i,dh),i.prototype.tag="loca",i.prototype.parse=function(n){var o,a;return n.pos=this.offset,o=this.file.head.indexToLocFormat,this.offsets=o===0?(function(){var c,d;for(d=[],a=0,c=this.length;a<c;a+=2)d.push(2*n.readUInt16());return d}).call(this):(function(){var c,d;for(d=[],a=0,c=this.length;a<c;a+=4)d.push(n.readUInt32());return d}).call(this)},i.prototype.indexOf=function(n){return this.offsets[n]},i.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},i.prototype.encode=function(n,o){for(var a=new Uint32Array(this.offsets.length),c=0,d=0,p=0;p<a.length;++p)if(a[p]=c,d<o.length&&o[d]==p){++d,a[p]=c;var m=this.offsets[p],k=this.offsets[p+1]-m;k>0&&(c+=k)}for(var v=new Array(4*a.length),_=0;_<a.length;++_)v[4*_+3]=255&a[_],v[4*_+2]=(65280&a[_])>>8,v[4*_+1]=(16711680&a[_])>>16,v[4*_]=(4278190080&a[_])>>24;return v},i}(),Tee=function(){function t(i){this.font=i,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var i,n,o,a,c;for(n in a=this.font.cmap.tables[0].codeMap,i={},c=this.subset)o=c[n],i[n]=a[o];return i},t.prototype.glyphsFor=function(i){var n,o,a,c,d,p,m;for(a={},d=0,p=i.length;d<p;d++)a[c=i[d]]=this.font.glyf.glyphFor(c);for(c in n=[],a)(o=a[c])!=null&&o.compound&&n.push.apply(n,o.glyphIDs);if(n.length>0)for(c in m=this.glyphsFor(n))o=m[c],a[c]=o;return a},t.prototype.encode=function(i,n){var o,a,c,d,p,m,k,v,_,x,y,D,E,j,M;for(a in o=Q7.encode(this.generateCmap(),"unicode"),d=this.glyphsFor(i),y={0:0},M=o.charMap)y[(m=M[a]).old]=m.new;for(D in x=o.maxGlyphID,d)D in y||(y[D]=x++);return v=function(B){var z,G;for(z in G={},B)G[B[z]]=z;return G}(y),_=Object.keys(v).sort(function(B,z){return B-z}),E=function(){var B,z,G;for(G=[],B=0,z=_.length;B<z;B++)p=_[B],G.push(v[p]);return G}(),c=this.font.glyf.encode(d,E,y),k=this.font.loca.encode(c.offsets,E),j={cmap:this.font.cmap.raw(),glyf:c.table,loca:k,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(j["OS/2"]=this.font.os2.raw()),this.font.directory.encode(j)},t}();Rn.API.PDFObject=function(){var t;function i(){}return t=function(n,o){return(Array(o+1).join("0")+n).slice(-o)},i.convert=function(n){var o,a,c,d;if(Array.isArray(n))return"["+function(){var p,m,k;for(k=[],p=0,m=n.length;p<m;p++)o=n[p],k.push(i.convert(o));return k}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(a in c=["<<"],n)d=n[a],c.push("/"+a+" "+i.convert(d));return c.push(">>"),c.join(`
`)}return""+n},i}();const Mee=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),Nee=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(t=>t.charCodeAt(0)));var tD;const jee=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Rj=(tD=String.fromCodePoint)!==null&&tD!==void 0?tD:function(t){let i="";return t>65535&&(t-=65536,i+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),i+=String.fromCharCode(t),i};function Oee(t){var i;return t>=55296&&t<=57343||t>1114111?65533:(i=jee.get(t))!==null&&i!==void 0?i:t}var ha;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(ha||(ha={}));const Bee=32;var Tm;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(Tm||(Tm={}));function o6(t){return t>=ha.ZERO&&t<=ha.NINE}function Lee(t){return t>=ha.UPPER_A&&t<=ha.UPPER_F||t>=ha.LOWER_A&&t<=ha.LOWER_F}function Pee(t){return t>=ha.UPPER_A&&t<=ha.UPPER_Z||t>=ha.LOWER_A&&t<=ha.LOWER_Z||o6(t)}function Ree(t){return t===ha.EQUALS||Pee(t)}var ua;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(ua||(ua={}));var ef;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(ef||(ef={}));class zee{constructor(i,n,o){this.decodeTree=i,this.emitCodePoint=n,this.errors=o,this.state=ua.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=ef.Strict}startEntity(i){this.decodeMode=i,this.state=ua.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(i,n){switch(this.state){case ua.EntityStart:return i.charCodeAt(n)===ha.NUM?(this.state=ua.NumericStart,this.consumed+=1,this.stateNumericStart(i,n+1)):(this.state=ua.NamedEntity,this.stateNamedEntity(i,n));case ua.NumericStart:return this.stateNumericStart(i,n);case ua.NumericDecimal:return this.stateNumericDecimal(i,n);case ua.NumericHex:return this.stateNumericHex(i,n);case ua.NamedEntity:return this.stateNamedEntity(i,n)}}stateNumericStart(i,n){return n>=i.length?-1:(i.charCodeAt(n)|Bee)===ha.LOWER_X?(this.state=ua.NumericHex,this.consumed+=1,this.stateNumericHex(i,n+1)):(this.state=ua.NumericDecimal,this.stateNumericDecimal(i,n))}addToNumericResult(i,n,o,a){if(n!==o){const c=o-n;this.result=this.result*Math.pow(a,c)+Number.parseInt(i.substr(n,c),a),this.consumed+=c}}stateNumericHex(i,n){const o=n;for(;n<i.length;){const a=i.charCodeAt(n);if(o6(a)||Lee(a))n+=1;else return this.addToNumericResult(i,o,n,16),this.emitNumericEntity(a,3)}return this.addToNumericResult(i,o,n,16),-1}stateNumericDecimal(i,n){const o=n;for(;n<i.length;){const a=i.charCodeAt(n);if(o6(a))n+=1;else return this.addToNumericResult(i,o,n,10),this.emitNumericEntity(a,2)}return this.addToNumericResult(i,o,n,10),-1}emitNumericEntity(i,n){var o;if(this.consumed<=n)return(o=this.errors)===null||o===void 0||o.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(i===ha.SEMI)this.consumed+=1;else if(this.decodeMode===ef.Strict)return 0;return this.emitCodePoint(Oee(this.result),this.consumed),this.errors&&(i!==ha.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(i,n){const{decodeTree:o}=this;let a=o[this.treeIndex],c=(a&Tm.VALUE_LENGTH)>>14;for(;n<i.length;n++,this.excess++){const d=i.charCodeAt(n);if(this.treeIndex=Fee(o,a,this.treeIndex+Math.max(1,c),d),this.treeIndex<0)return this.result===0||this.decodeMode===ef.Attribute&&(c===0||Ree(d))?0:this.emitNotTerminatedNamedEntity();if(a=o[this.treeIndex],c=(a&Tm.VALUE_LENGTH)>>14,c!==0){if(d===ha.SEMI)return this.emitNamedEntityData(this.treeIndex,c,this.consumed+this.excess);this.decodeMode!==ef.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var i;const{result:n,decodeTree:o}=this,a=(o[n]&Tm.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,a,this.consumed),(i=this.errors)===null||i===void 0||i.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(i,n,o){const{decodeTree:a}=this;return this.emitCodePoint(n===1?a[i]&~Tm.VALUE_LENGTH:a[i+1],o),n===3&&this.emitCodePoint(a[i+2],o),o}end(){var i;switch(this.state){case ua.NamedEntity:return this.result!==0&&(this.decodeMode!==ef.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case ua.NumericDecimal:return this.emitNumericEntity(0,2);case ua.NumericHex:return this.emitNumericEntity(0,3);case ua.NumericStart:return(i=this.errors)===null||i===void 0||i.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case ua.EntityStart:return 0}}}function Fee(t,i,n,o){const a=(i&Tm.BRANCH_LENGTH)>>7,c=i&Tm.JUMP_TABLE;if(a===0)return c!==0&&o===c?n:-1;if(c){const m=o-c;return m<0||m>=a?-1:t[n+m]-1}let d=n,p=d+a-1;for(;d<=p;){const m=d+p>>>1,k=t[m];if(k<o)d=m+1;else if(k>o)p=m-1;else return t[m+a]}return-1}var On;(function(t){t[t.Tab=9]="Tab",t[t.NewLine=10]="NewLine",t[t.FormFeed=12]="FormFeed",t[t.CarriageReturn=13]="CarriageReturn",t[t.Space=32]="Space",t[t.ExclamationMark=33]="ExclamationMark",t[t.Number=35]="Number",t[t.Amp=38]="Amp",t[t.SingleQuote=39]="SingleQuote",t[t.DoubleQuote=34]="DoubleQuote",t[t.Dash=45]="Dash",t[t.Slash=47]="Slash",t[t.Zero=48]="Zero",t[t.Nine=57]="Nine",t[t.Semi=59]="Semi",t[t.Lt=60]="Lt",t[t.Eq=61]="Eq",t[t.Gt=62]="Gt",t[t.Questionmark=63]="Questionmark",t[t.UpperA=65]="UpperA",t[t.LowerA=97]="LowerA",t[t.UpperF=70]="UpperF",t[t.LowerF=102]="LowerF",t[t.UpperZ=90]="UpperZ",t[t.LowerZ=122]="LowerZ",t[t.LowerX=120]="LowerX",t[t.OpeningSquareBracket=91]="OpeningSquareBracket"})(On||(On={}));var Kt;(function(t){t[t.Text=1]="Text",t[t.BeforeTagName=2]="BeforeTagName",t[t.InTagName=3]="InTagName",t[t.InSelfClosingTag=4]="InSelfClosingTag",t[t.BeforeClosingTagName=5]="BeforeClosingTagName",t[t.InClosingTagName=6]="InClosingTagName",t[t.AfterClosingTagName=7]="AfterClosingTagName",t[t.BeforeAttributeName=8]="BeforeAttributeName",t[t.InAttributeName=9]="InAttributeName",t[t.AfterAttributeName=10]="AfterAttributeName",t[t.BeforeAttributeValue=11]="BeforeAttributeValue",t[t.InAttributeValueDq=12]="InAttributeValueDq",t[t.InAttributeValueSq=13]="InAttributeValueSq",t[t.InAttributeValueNq=14]="InAttributeValueNq",t[t.BeforeDeclaration=15]="BeforeDeclaration",t[t.InDeclaration=16]="InDeclaration",t[t.InProcessingInstruction=17]="InProcessingInstruction",t[t.BeforeComment=18]="BeforeComment",t[t.CDATASequence=19]="CDATASequence",t[t.InSpecialComment=20]="InSpecialComment",t[t.InCommentLike=21]="InCommentLike",t[t.BeforeSpecialS=22]="BeforeSpecialS",t[t.BeforeSpecialT=23]="BeforeSpecialT",t[t.SpecialStartSequence=24]="SpecialStartSequence",t[t.InSpecialTag=25]="InSpecialTag",t[t.InEntity=26]="InEntity"})(Kt||(Kt={}));function rp(t){return t===On.Space||t===On.NewLine||t===On.Tab||t===On.FormFeed||t===On.CarriageReturn}function ex(t){return t===On.Slash||t===On.Gt||rp(t)}function Uee(t){return t>=On.LowerA&&t<=On.LowerZ||t>=On.UpperA&&t<=On.UpperZ}var tf;(function(t){t[t.NoValue=0]="NoValue",t[t.Unquoted=1]="Unquoted",t[t.Single=2]="Single",t[t.Double=3]="Double"})(tf||(tf={}));const js={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97]),XmpEnd:new Uint8Array([60,47,120,109,112])};class qee{constructor({xmlMode:i=!1,decodeEntities:n=!0},o){this.cbs=o,this.state=Kt.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=Kt.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=i,this.decodeEntities=n,this.entityDecoder=new zee(i?Nee:Mee,(a,c)=>this.emitCodePoint(a,c))}reset(){this.state=Kt.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=Kt.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(i){this.offset+=this.buffer.length,this.buffer=i,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(i){i===On.Lt||!this.decodeEntities&&this.fastForwardTo(On.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=Kt.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&i===On.Amp&&this.startEntity()}stateSpecialStartSequence(i){const n=this.sequenceIndex===this.currentSequence.length;if(!(n?ex(i):(i|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!n){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=Kt.InTagName,this.stateInTagName(i)}stateInSpecialTag(i){if(this.sequenceIndex===this.currentSequence.length){if(i===On.Gt||rp(i)){const n=this.index-this.currentSequence.length;if(this.sectionStart<n){const o=this.index;this.index=n,this.cbs.ontext(this.sectionStart,n),this.index=o}this.isSpecial=!1,this.sectionStart=n+2,this.stateInClosingTagName(i);return}this.sequenceIndex=0}(i|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===js.TitleEnd?this.decodeEntities&&i===On.Amp&&this.startEntity():this.fastForwardTo(On.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(i===On.Lt)}stateCDATASequence(i){i===js.Cdata[this.sequenceIndex]?++this.sequenceIndex===js.Cdata.length&&(this.state=Kt.InCommentLike,this.currentSequence=js.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=Kt.InDeclaration,this.stateInDeclaration(i))}fastForwardTo(i){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===i)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(i){i===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===js.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=Kt.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):i!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(i){return this.xmlMode?!ex(i):Uee(i)}startSpecial(i,n){this.isSpecial=!0,this.currentSequence=i,this.sequenceIndex=n,this.state=Kt.SpecialStartSequence}stateBeforeTagName(i){if(i===On.ExclamationMark)this.state=Kt.BeforeDeclaration,this.sectionStart=this.index+1;else if(i===On.Questionmark)this.state=Kt.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(i)){const n=i|32;this.sectionStart=this.index,this.xmlMode?this.state=Kt.InTagName:n===js.ScriptEnd[2]?this.state=Kt.BeforeSpecialS:n===js.TitleEnd[2]||n===js.XmpEnd[2]?this.state=Kt.BeforeSpecialT:this.state=Kt.InTagName}else i===On.Slash?this.state=Kt.BeforeClosingTagName:(this.state=Kt.Text,this.stateText(i))}stateInTagName(i){ex(i)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=Kt.BeforeAttributeName,this.stateBeforeAttributeName(i))}stateBeforeClosingTagName(i){rp(i)||(i===On.Gt?this.state=Kt.Text:(this.state=this.isTagStartChar(i)?Kt.InClosingTagName:Kt.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(i){(i===On.Gt||rp(i))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=Kt.AfterClosingTagName,this.stateAfterClosingTagName(i))}stateAfterClosingTagName(i){(i===On.Gt||this.fastForwardTo(On.Gt))&&(this.state=Kt.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(i){i===On.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=Kt.InSpecialTag,this.sequenceIndex=0):this.state=Kt.Text,this.sectionStart=this.index+1):i===On.Slash?this.state=Kt.InSelfClosingTag:rp(i)||(this.state=Kt.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(i){i===On.Gt?(this.cbs.onselfclosingtag(this.index),this.state=Kt.Text,this.sectionStart=this.index+1,this.isSpecial=!1):rp(i)||(this.state=Kt.BeforeAttributeName,this.stateBeforeAttributeName(i))}stateInAttributeName(i){(i===On.Eq||ex(i))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=Kt.AfterAttributeName,this.stateAfterAttributeName(i))}stateAfterAttributeName(i){i===On.Eq?this.state=Kt.BeforeAttributeValue:i===On.Slash||i===On.Gt?(this.cbs.onattribend(tf.NoValue,this.sectionStart),this.sectionStart=-1,this.state=Kt.BeforeAttributeName,this.stateBeforeAttributeName(i)):rp(i)||(this.cbs.onattribend(tf.NoValue,this.sectionStart),this.state=Kt.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(i){i===On.DoubleQuote?(this.state=Kt.InAttributeValueDq,this.sectionStart=this.index+1):i===On.SingleQuote?(this.state=Kt.InAttributeValueSq,this.sectionStart=this.index+1):rp(i)||(this.sectionStart=this.index,this.state=Kt.InAttributeValueNq,this.stateInAttributeValueNoQuotes(i))}handleInAttributeValue(i,n){i===n||!this.decodeEntities&&this.fastForwardTo(n)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(n===On.DoubleQuote?tf.Double:tf.Single,this.index+1),this.state=Kt.BeforeAttributeName):this.decodeEntities&&i===On.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(i){this.handleInAttributeValue(i,On.DoubleQuote)}stateInAttributeValueSingleQuotes(i){this.handleInAttributeValue(i,On.SingleQuote)}stateInAttributeValueNoQuotes(i){rp(i)||i===On.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(tf.Unquoted,this.index),this.state=Kt.BeforeAttributeName,this.stateBeforeAttributeName(i)):this.decodeEntities&&i===On.Amp&&this.startEntity()}stateBeforeDeclaration(i){i===On.OpeningSquareBracket?(this.state=Kt.CDATASequence,this.sequenceIndex=0):this.state=i===On.Dash?Kt.BeforeComment:Kt.InDeclaration}stateInDeclaration(i){(i===On.Gt||this.fastForwardTo(On.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=Kt.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(i){(i===On.Gt||this.fastForwardTo(On.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=Kt.Text,this.sectionStart=this.index+1)}stateBeforeComment(i){i===On.Dash?(this.state=Kt.InCommentLike,this.currentSequence=js.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=Kt.InDeclaration}stateInSpecialComment(i){(i===On.Gt||this.fastForwardTo(On.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=Kt.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(i){const n=i|32;n===js.ScriptEnd[3]?this.startSpecial(js.ScriptEnd,4):n===js.StyleEnd[3]?this.startSpecial(js.StyleEnd,4):(this.state=Kt.InTagName,this.stateInTagName(i))}stateBeforeSpecialT(i){switch(i|32){case js.TitleEnd[3]:{this.startSpecial(js.TitleEnd,4);break}case js.TextareaEnd[3]:{this.startSpecial(js.TextareaEnd,4);break}case js.XmpEnd[3]:{this.startSpecial(js.XmpEnd,4);break}default:this.state=Kt.InTagName,this.stateInTagName(i)}}startEntity(){this.baseState=this.state,this.state=Kt.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?ef.Strict:this.baseState===Kt.Text||this.baseState===Kt.InSpecialTag?ef.Legacy:ef.Attribute)}stateInEntity(){const i=this.entityDecoder.write(this.buffer,this.index-this.offset);i>=0?(this.state=this.baseState,i===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===Kt.Text||this.state===Kt.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===Kt.InAttributeValueDq||this.state===Kt.InAttributeValueSq||this.state===Kt.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const i=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case Kt.Text:{this.stateText(i);break}case Kt.SpecialStartSequence:{this.stateSpecialStartSequence(i);break}case Kt.InSpecialTag:{this.stateInSpecialTag(i);break}case Kt.CDATASequence:{this.stateCDATASequence(i);break}case Kt.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(i);break}case Kt.InAttributeName:{this.stateInAttributeName(i);break}case Kt.InCommentLike:{this.stateInCommentLike(i);break}case Kt.InSpecialComment:{this.stateInSpecialComment(i);break}case Kt.BeforeAttributeName:{this.stateBeforeAttributeName(i);break}case Kt.InTagName:{this.stateInTagName(i);break}case Kt.InClosingTagName:{this.stateInClosingTagName(i);break}case Kt.BeforeTagName:{this.stateBeforeTagName(i);break}case Kt.AfterAttributeName:{this.stateAfterAttributeName(i);break}case Kt.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(i);break}case Kt.BeforeAttributeValue:{this.stateBeforeAttributeValue(i);break}case Kt.BeforeClosingTagName:{this.stateBeforeClosingTagName(i);break}case Kt.AfterClosingTagName:{this.stateAfterClosingTagName(i);break}case Kt.BeforeSpecialS:{this.stateBeforeSpecialS(i);break}case Kt.BeforeSpecialT:{this.stateBeforeSpecialT(i);break}case Kt.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(i);break}case Kt.InSelfClosingTag:{this.stateInSelfClosingTag(i);break}case Kt.InDeclaration:{this.stateInDeclaration(i);break}case Kt.BeforeDeclaration:{this.stateBeforeDeclaration(i);break}case Kt.BeforeComment:{this.stateBeforeComment(i);break}case Kt.InProcessingInstruction:{this.stateInProcessingInstruction(i);break}case Kt.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===Kt.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const i=this.buffer.length+this.offset;this.sectionStart>=i||(this.state===Kt.InCommentLike?this.currentSequence===js.CdataEnd?this.cbs.oncdata(this.sectionStart,i,0):this.cbs.oncomment(this.sectionStart,i,0):this.state===Kt.InTagName||this.state===Kt.BeforeAttributeName||this.state===Kt.BeforeAttributeValue||this.state===Kt.AfterAttributeName||this.state===Kt.InAttributeName||this.state===Kt.InAttributeValueSq||this.state===Kt.InAttributeValueDq||this.state===Kt.InAttributeValueNq||this.state===Kt.InClosingTagName||this.cbs.ontext(this.sectionStart,i))}emitCodePoint(i,n){this.baseState!==Kt.Text&&this.baseState!==Kt.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.onattribentity(i)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.ontextentity(i,this.sectionStart))}}const L0=new Set(["input","option","optgroup","select","button","datalist","textarea"]),Mi=new Set(["p"]),zj=new Set(["thead","tbody"]),Fj=new Set(["dd","dt"]),Uj=new Set(["rt","rp"]),Vee=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",Mi],["h1",Mi],["h2",Mi],["h3",Mi],["h4",Mi],["h5",Mi],["h6",Mi],["select",L0],["input",L0],["output",L0],["button",L0],["datalist",L0],["textarea",L0],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",Fj],["dt",Fj],["address",Mi],["article",Mi],["aside",Mi],["blockquote",Mi],["details",Mi],["div",Mi],["dl",Mi],["fieldset",Mi],["figcaption",Mi],["figure",Mi],["footer",Mi],["form",Mi],["header",Mi],["hr",Mi],["main",Mi],["nav",Mi],["ol",Mi],["pre",Mi],["section",Mi],["table",Mi],["ul",Mi],["rt",Uj],["rp",Uj],["tbody",zj],["tfoot",zj]]),Hee=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),qj=new Set(["math","svg"]),Vj=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),$ee=/\s|\//;class Wee{constructor(i,n={}){var o,a,c,d,p,m;this.options=n,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=i??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(o=n.lowerCaseTags)!==null&&o!==void 0?o:this.htmlMode,this.lowerCaseAttributeNames=(a=n.lowerCaseAttributeNames)!==null&&a!==void 0?a:this.htmlMode,this.recognizeSelfClosing=(c=n.recognizeSelfClosing)!==null&&c!==void 0?c:!this.htmlMode,this.tokenizer=new((d=n.Tokenizer)!==null&&d!==void 0?d:qee)(this.options,this),this.foreignContext=[!this.htmlMode],(m=(p=this.cbs).onparserinit)===null||m===void 0||m.call(p,this)}ontext(i,n){var o,a;const c=this.getSlice(i,n);this.endIndex=n-1,(a=(o=this.cbs).ontext)===null||a===void 0||a.call(o,c),this.startIndex=n}ontextentity(i,n){var o,a;this.endIndex=n-1,(a=(o=this.cbs).ontext)===null||a===void 0||a.call(o,Rj(i)),this.startIndex=n}isVoidElement(i){return this.htmlMode&&Hee.has(i)}onopentagname(i,n){this.endIndex=n;let o=this.getSlice(i,n);this.lowerCaseTagNames&&(o=o.toLowerCase()),this.emitOpenTag(o)}emitOpenTag(i){var n,o,a,c;this.openTagStart=this.startIndex,this.tagname=i;const d=this.htmlMode&&Vee.get(i);if(d)for(;this.stack.length>0&&d.has(this.stack[0]);){const p=this.stack.shift();(o=(n=this.cbs).onclosetag)===null||o===void 0||o.call(n,p,!0)}this.isVoidElement(i)||(this.stack.unshift(i),this.htmlMode&&(qj.has(i)?this.foreignContext.unshift(!0):Vj.has(i)&&this.foreignContext.unshift(!1))),(c=(a=this.cbs).onopentagname)===null||c===void 0||c.call(a,i),this.cbs.onopentag&&(this.attribs={})}endOpenTag(i){var n,o;this.startIndex=this.openTagStart,this.attribs&&((o=(n=this.cbs).onopentag)===null||o===void 0||o.call(n,this.tagname,this.attribs,i),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(i){this.endIndex=i,this.endOpenTag(!1),this.startIndex=i+1}onclosetag(i,n){var o,a,c,d,p,m,k,v;this.endIndex=n;let _=this.getSlice(i,n);if(this.lowerCaseTagNames&&(_=_.toLowerCase()),this.htmlMode&&(qj.has(_)||Vj.has(_))&&this.foreignContext.shift(),this.isVoidElement(_))this.htmlMode&&_==="br"&&((d=(c=this.cbs).onopentagname)===null||d===void 0||d.call(c,"br"),(m=(p=this.cbs).onopentag)===null||m===void 0||m.call(p,"br",{},!0),(v=(k=this.cbs).onclosetag)===null||v===void 0||v.call(k,"br",!1));else{const x=this.stack.indexOf(_);if(x!==-1)for(let y=0;y<=x;y++){const D=this.stack.shift();(a=(o=this.cbs).onclosetag)===null||a===void 0||a.call(o,D,y!==x)}else this.htmlMode&&_==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=n+1}onselfclosingtag(i){this.endIndex=i,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=i+1):this.onopentagend(i)}closeCurrentTag(i){var n,o;const a=this.tagname;this.endOpenTag(i),this.stack[0]===a&&((o=(n=this.cbs).onclosetag)===null||o===void 0||o.call(n,a,!i),this.stack.shift())}onattribname(i,n){this.startIndex=i;const o=this.getSlice(i,n);this.attribname=this.lowerCaseAttributeNames?o.toLowerCase():o}onattribdata(i,n){this.attribvalue+=this.getSlice(i,n)}onattribentity(i){this.attribvalue+=Rj(i)}onattribend(i,n){var o,a;this.endIndex=n,(a=(o=this.cbs).onattribute)===null||a===void 0||a.call(o,this.attribname,this.attribvalue,i===tf.Double?'"':i===tf.Single?"'":i===tf.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(i){const n=i.search($ee);let o=n<0?i:i.substr(0,n);return this.lowerCaseTagNames&&(o=o.toLowerCase()),o}ondeclaration(i,n){this.endIndex=n;const o=this.getSlice(i,n);if(this.cbs.onprocessinginstruction){const a=this.getInstructionName(o);this.cbs.onprocessinginstruction(`!${a}`,`!${o}`)}this.startIndex=n+1}onprocessinginstruction(i,n){this.endIndex=n;const o=this.getSlice(i,n);if(this.cbs.onprocessinginstruction){const a=this.getInstructionName(o);this.cbs.onprocessinginstruction(`?${a}`,`?${o}`)}this.startIndex=n+1}oncomment(i,n,o){var a,c,d,p;this.endIndex=n,(c=(a=this.cbs).oncomment)===null||c===void 0||c.call(a,this.getSlice(i,n-o)),(p=(d=this.cbs).oncommentend)===null||p===void 0||p.call(d),this.startIndex=n+1}oncdata(i,n,o){var a,c,d,p,m,k,v,_,x,y;this.endIndex=n;const D=this.getSlice(i,n-o);!this.htmlMode||this.options.recognizeCDATA?((c=(a=this.cbs).oncdatastart)===null||c===void 0||c.call(a),(p=(d=this.cbs).ontext)===null||p===void 0||p.call(d,D),(k=(m=this.cbs).oncdataend)===null||k===void 0||k.call(m)):((_=(v=this.cbs).oncomment)===null||_===void 0||_.call(v,`[CDATA[${D}]]`),(y=(x=this.cbs).oncommentend)===null||y===void 0||y.call(x)),this.startIndex=n+1}onend(){var i,n;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let o=0;o<this.stack.length;o++)this.cbs.onclosetag(this.stack[o],!0)}(n=(i=this.cbs).onend)===null||n===void 0||n.call(i)}reset(){var i,n,o,a;(n=(i=this.cbs).onreset)===null||n===void 0||n.call(i),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(a=(o=this.cbs).onparserinit)===null||a===void 0||a.call(o,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(i){this.reset(),this.end(i)}getSlice(i,n){for(;i-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let o=this.buffers[0].slice(i-this.bufferOffset,n-this.bufferOffset);for(;n-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),o+=this.buffers[0].slice(0,n-this.bufferOffset);return o}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(i){var n,o;if(this.ended){(o=(n=this.cbs).onerror)===null||o===void 0||o.call(n,new Error(".write() after done!"));return}this.buffers.push(i),this.tokenizer.running&&(this.tokenizer.write(i),this.writeIndex++)}end(i){var n,o;if(this.ended){(o=(n=this.cbs).onerror)===null||o===void 0||o.call(n,new Error(".end() after done!"));return}i&&this.write(i),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(i){this.write(i)}done(i){this.end(i)}}var bi;(function(t){t.Root="root",t.Text="text",t.Directive="directive",t.Comment="comment",t.Script="script",t.Style="style",t.Tag="tag",t.CDATA="cdata",t.Doctype="doctype"})(bi||(bi={}));function vx(t){return t.type===bi.Tag||t.type===bi.Script||t.type===bi.Style}bi.Root;bi.Text;bi.Directive;bi.Comment;bi.Script;bi.Style;bi.Tag;bi.CDATA;bi.Doctype;let J7=class{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(i){this.parent=i}get previousSibling(){return this.prev}set previousSibling(i){this.prev=i}get nextSibling(){return this.next}set nextSibling(i){this.next=i}cloneNode(i=!1){return sR(this,i)}};class gI extends J7{constructor(i){super(),this.data=i}get nodeValue(){return this.data}set nodeValue(i){this.data=i}}class s6 extends gI{constructor(){super(...arguments),this.type=bi.Text}get nodeType(){return 3}}class X7 extends gI{constructor(){super(...arguments),this.type=bi.Comment}get nodeType(){return 8}}class eR extends gI{constructor(i,n){super(n),this.name=i,this.type=bi.Directive}get nodeType(){return 1}}class bI extends J7{constructor(i){super(),this.children=i}get firstChild(){var i;return(i=this.children[0])!==null&&i!==void 0?i:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(i){this.children=i}}class tR extends bI{constructor(){super(...arguments),this.type=bi.CDATA}get nodeType(){return 4}}class a6 extends bI{constructor(){super(...arguments),this.type=bi.Root}get nodeType(){return 9}}let nR=class extends bI{constructor(i,n,o=[],a=i==="script"?bi.Script:i==="style"?bi.Style:bi.Tag){super(o),this.name=i,this.attribs=n,this.type=a}get nodeType(){return 1}get tagName(){return this.name}set tagName(i){this.name=i}get attributes(){return Object.keys(this.attribs).map(i=>{var n,o;return{name:i,value:this.attribs[i],namespace:(n=this["x-attribsNamespace"])===null||n===void 0?void 0:n[i],prefix:(o=this["x-attribsPrefix"])===null||o===void 0?void 0:o[i]}})}};function rR(t){return vx(t)}function iR(t){return t.type===bi.CDATA}function oR(t){return t.type===bi.Text}function Gee(t){return t.type===bi.Comment}function Yee(t){return t.type===bi.Directive}function Kee(t){return t.type===bi.Root}function sR(t,i=!1){let n;if(oR(t))n=new s6(t.data);else if(Gee(t))n=new X7(t.data);else if(rR(t)){const o=i?nD(t.children):[],a=new nR(t.name,{...t.attribs},o);o.forEach(c=>c.parent=a),t.namespace!=null&&(a.namespace=t.namespace),t["x-attribsNamespace"]&&(a["x-attribsNamespace"]={...t["x-attribsNamespace"]}),t["x-attribsPrefix"]&&(a["x-attribsPrefix"]={...t["x-attribsPrefix"]}),n=a}else if(iR(t)){const o=i?nD(t.children):[],a=new tR(o);o.forEach(c=>c.parent=a),n=a}else if(Kee(t)){const o=i?nD(t.children):[],a=new a6(o);o.forEach(c=>c.parent=a),t["x-mode"]&&(a["x-mode"]=t["x-mode"]),n=a}else if(Yee(t)){const o=new eR(t.name,t.data);t["x-name"]!=null&&(o["x-name"]=t["x-name"],o["x-publicId"]=t["x-publicId"],o["x-systemId"]=t["x-systemId"]),n=o}else throw new Error(`Not implemented yet: ${t.type}`);return n.startIndex=t.startIndex,n.endIndex=t.endIndex,t.sourceCodeLocation!=null&&(n.sourceCodeLocation=t.sourceCodeLocation),n}function nD(t){const i=t.map(n=>sR(n,!0));for(let n=1;n<i.length;n++)i[n].prev=i[n-1],i[n-1].next=i[n];return i}const Hj={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class Qee{constructor(i,n,o){this.dom=[],this.root=new a6(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof n=="function"&&(o=n,n=Hj),typeof i=="object"&&(n=i,i=void 0),this.callback=i??null,this.options=n??Hj,this.elementCB=o??null}onparserinit(i){this.parser=i}onreset(){this.dom=[],this.root=new a6(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(i){this.handleCallback(i)}onclosetag(){this.lastNode=null;const i=this.tagStack.pop();this.options.withEndIndices&&(i.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(i)}onopentag(i,n){const o=this.options.xmlMode?bi.Tag:void 0,a=new nR(i,n,void 0,o);this.addNode(a),this.tagStack.push(a)}ontext(i){const{lastNode:n}=this;if(n&&n.type===bi.Text)n.data+=i,this.options.withEndIndices&&(n.endIndex=this.parser.endIndex);else{const o=new s6(i);this.addNode(o),this.lastNode=o}}oncomment(i){if(this.lastNode&&this.lastNode.type===bi.Comment){this.lastNode.data+=i;return}const n=new X7(i);this.addNode(n),this.lastNode=n}oncommentend(){this.lastNode=null}oncdatastart(){const i=new s6(""),n=new tR([i]);this.addNode(n),i.parent=n,this.lastNode=i}oncdataend(){this.lastNode=null}onprocessinginstruction(i,n){const o=new eR(i,n);this.addNode(o)}handleCallback(i){if(typeof this.callback=="function")this.callback(i,this.dom);else if(i)throw i}addNode(i){const n=this.tagStack[this.tagStack.length-1],o=n.children[n.children.length-1];this.options.withStartIndices&&(i.startIndex=this.parser.startIndex),this.options.withEndIndices&&(i.endIndex=this.parser.endIndex),n.children.push(i),o&&(i.prev=o,o.next=i),i.parent=n,this.lastNode=null}}function op(t){return Array.isArray(t)?t.map(op).join(""):rR(t)?t.name==="br"?`
`:op(t.children):iR(t)?op(t.children):oR(t)?t.data:""}function Zee(t,i){const n=new Qee(void 0,i);return new Wee(n,i).end(t),n.root}const Jee=async(t,i)=>{var y,D,E,j,M,B,z,G;if(!t)return;const n=new Rn("p","mm","a4",!0);let o=10;const a=297,c=J=>{o+J*6>a-20&&(n.addPage(),o=10)},d=t.sections.length+t.sections.reduce((J,H)=>J+H.subsections.length,0)+t.sections.reduce((J,H)=>J+H.subsections.reduce((F,Q)=>F+Q.subSubsections.length,0),0)+t.sections.reduce((J,H)=>{var F;return J+(((F=H.images)==null?void 0:F.length)||0)+H.subsections.reduce((Q,Z)=>{var ae;return Q+(((ae=Z.images)==null?void 0:ae.length)||0)+Z.subSubsections.reduce((X,Y)=>{var U;return X+(((U=Y.images)==null?void 0:U.length)||0)},0)},0)},0);let p=0;const m=()=>{p+=1,i(Math.round(p/d*100))},k=async(J,H=150,F=150)=>new Promise(Q=>{const Z=new Image;Z.crossOrigin="anonymous",Z.src=J.url,Z.onload=()=>{const ae=Z.width/Z.height;let X=H,Y=F;ae>1?Y=H/ae:X=F*ae,c(Y+15);const U=(210-X)/2;if(n.addImage(Z,"JPEG",U,o,X,Y),o+=Y+5,J.title){n.setFont("helvetica","italic"),n.setFontSize(10);const fe=(210-n.getTextWidth(J.title))/2;n.text(J.title,fe,o),n.setFont("helvetica","normal"),o+=6}m(),Q()},Z.onerror=()=>{console.warn(`Image failed to load: ${J.url}`),m(),Q()}}),v=(J,H=10,F=12)=>{var ae;const Q=Zee(J),Z=(X,Y=0,U=!1)=>{var q,fe,ue,de,me,Me,ce;if(X){if(vx(X)){const Ie=X,re=Ie.name.toLowerCase();switch(re){case"p":o+=6,(q=Ie.children)==null||q.forEach(te=>Z(te,Y)),o+=6;break;case"br":o+=6;break;case"strong":case"b":case"i":case"em":n.setFont("helvetica",re==="strong"||re==="b"?"bold":"italic"),(fe=Ie.children)==null||fe.forEach(te=>Z(te,Y)),n.setFont("helvetica","normal");break;case"ul":case"ol":o+=4,(ue=Ie.children)==null||ue.forEach(te=>Z(te,Y+1,!0));break;case"li":{const te=Y===1?"-":"--";let ke="";(de=Ie.children)==null||de.forEach(be=>{if(vx(be)){const ve=be;ve.name==="strong"||ve.name==="b"?(n.setFont("helvetica","bold"),ke+=` ${op(ve)}`,n.setFont("helvetica","normal")):ve.name!=="ul"&&ve.name!=="ol"&&(ke+=` ${op(ve)}`)}else be.type==="text"&&"data"in be&&(ke+=` ${be.data.trim()}`)}),ke=ke.trim(),ke&&(Y===0?_(`${te} ${ke}`,H,F+2,!0):_(`${te} ${ke}`,H+Y*8,F),o+=6),(me=Ie.children)==null||me.forEach(be=>{if(vx(be)){const ve=be;["ul","ol"].includes(ve.name)&&Z(ve,Y+1,!0)}});break}case"a":(Me=Ie.attribs)!=null&&Me.href&&x(op(Ie),Ie.attribs.href);break;case"h1":_(op(Ie),H,20,!0),o+=8;break;case"h2":_(op(Ie),H,18,!0),o+=8;break;case"h3":_(op(Ie),H,16,!0),o+=6;break;default:(ce=Ie.children)==null||ce.forEach(te=>Z(te,Y))}}else if(X.type==="text"&&"data"in X){const Ie=X.data.trim();Ie&&_(Ie,H+Y*8,F)}}};(ae=Q.children)==null||ae.forEach(X=>Z(X))},_=(J,H,F=12,Q=!1,Z=[0,0,0],ae=!1,X=200)=>{if(!J)return;n.setFontSize(F),n.setTextColor(Z[0],Z[1],Z[2]),n.setFont("helvetica",Q?ae?"bolditalic":"bold":ae?"italic":"normal"),n.splitTextToSize(J,X-H).forEach(U=>{c(1),n.text(U,H,o),o+=6})},x=(J,H)=>{c(1),n.setTextColor(10,104,71),n.textWithLink(J,10,o,{url:H}),o+=6};(y=t.header)!=null&&y.content&&(_("Header:",10,12,!0),v(t.header.content),o+=5),t.title&&(_(t.title,10,18,!0,[10,104,71]),o+=5);for(const J of t.sections){if(_(J.title,10,16,!0),v(J.content),(D=J.images)!=null&&D.length)for(const H of J.images)await k(H);m();for(const H of J.subsections){if(_(H.title,12,14,!0),v(H.content,12),(E=H.images)!=null&&E.length)for(const F of H.images)await k(F);m();for(const F of H.subSubsections){if(_(F.title,14,12,!0),v(F.content,14),(j=F.images)!=null&&j.length)for(const Q of F.images)await k(Q);m(),(M=F.links)!=null&&M.length&&(_("Links:",14,12,!0),F.links.forEach(Q=>x(Q.title,Q.url)))}(B=H.links)!=null&&B.length&&(_("Links:",12,12,!0),H.links.forEach(F=>x(F.title,F.url)))}(z=J.links)!=null&&z.length&&(_("Links:",10,12,!0),J.links.forEach(H=>x(H.title,H.url))),o+=5}(G=t.footer)!=null&&G.content&&(_("Footer:",10,12,!0),v(t.footer.content)),n.save(`${t.title||"Material"}.pdf`),i(100)},Xee=()=>{var B,z,G,J,H,F,Q,Z,ae,X,Y,U,q,fe,ue,de,me,Me,ce,Ie,re,te,ke,be,ve,Re,Be,Ue,Ze,Ge,ft,gt,oe,Pe,we,De,Ae,Oe,Ke,Xe,Fe,dt;const{id:t}=K6(),[i,n]=oA(),o=Nr(),[a,c]=se.useState(null),[d,p]=se.useState({sectionIndex:0}),[m,k]=se.useState(null),[v,_]=se.useState(0);WP((a==null?void 0:a.sections)||[],d.sectionIndex||0,!!a),se.useEffect(()=>{_(wt=>wt+1)},[d]);const x=async()=>{if(a!=null&&a.originalFile)try{console.log(" Starting original file download:",a.originalFile.name);const wt=document.createElement("a");wt.href=a.originalFile.url,wt.download=a.originalFile.name,wt.target="_blank",document.body.appendChild(wt),wt.click(),document.body.removeChild(wt),console.log(" Original file download initiated")}catch(wt){console.error(" Original file download failed:",wt)}};se.useEffect(()=>{t&&(async()=>{var He,at,kt;const ot=Vn(o,"materials",t),pt=await Na(ot);if(pt.exists()){const Yt={id:pt.id,...pt.data()};console.log("Loaded material from database:",{title:Yt.title,sectionsCount:((He=Yt.sections)==null?void 0:He.length)||0,sectionsWithImages:((at=Yt.sections)==null?void 0:at.filter(yt=>{var Bn;return((Bn=yt.images)==null?void 0:Bn.length)>0}).length)||0,allImages:(kt=Yt.sections)==null?void 0:kt.flatMap(yt=>yt.images||[]).map(yt=>({url:yt.url.substring(0,100)+"...",title:yt.title}))}),c(Yt)}})()},[t,o]),se.useEffect(()=>{t&&i.get("material")!==t?(console.log(" Updating URL: Adding material ID to query parameters:",t),n(wt=>{const ot=new URLSearchParams(wt);return ot.set("material",t),ot},{replace:!0})):console.log("Material ID already in URL:",i.get("material"))},[t,i,n]);const y=(wt,ot,pt)=>{p({sectionIndex:typeof wt=="number"?wt:void 0,subsectionIndex:ot,subSubsectionIndex:pt,type:typeof wt=="string"?wt:void 0})},D=wt=>{var kt,Yt,yt,Bn,on,wr,xn,In,zn,Yn,ei,rr,vr,gr,yr,fn,ir,is,wi,os,ss,hn,Sr,or,vi,jr,Wr;const{sectionIndex:ot,subsectionIndex:pt,subSubsectionIndex:He,type:at}=d;if(wt==="prev")if(He!==void 0&&He>0)p({sectionIndex:ot,subsectionIndex:pt,subSubsectionIndex:He-1});else if(He!==void 0&&He===0)p({sectionIndex:ot,subsectionIndex:pt});else if(pt!==void 0&&pt>0)p({sectionIndex:ot,subsectionIndex:pt-1});else if(pt!==void 0&&pt===0)p({sectionIndex:ot});else if(ot>0){const di=a==null?void 0:a.sections[ot-1];p({sectionIndex:ot-1,subsectionIndex:(kt=di==null?void 0:di.subsections)!=null&&kt.length?di.subsections.length-1:void 0,subSubsectionIndex:(Yt=di==null?void 0:di.subsections)!=null&&Yt.length?((Bn=(yt=di.subsections[di.subsections.length-1])==null?void 0:yt.subSubsections)==null?void 0:Bn.length)-1:void 0})}else at==="footer"?p({sectionIndex:((a==null?void 0:a.sections.length)??1)-1,type:"footer"}):ot===void 0&&at==="header"&&p({sectionIndex:((a==null?void 0:a.sections.length)??1)-1});else wt==="next"&&(He===void 0&&pt!==void 0&&((In=(xn=(wr=(on=a==null?void 0:a.sections[ot??0])==null?void 0:on.subsections)==null?void 0:wr[pt])==null?void 0:xn.subSubsections)!=null&&In.length)?p({sectionIndex:ot,subsectionIndex:pt,subSubsectionIndex:0}):He!==void 0&&He<(((rr=(ei=(Yn=(zn=a==null?void 0:a.sections[ot??0])==null?void 0:zn.subsections)==null?void 0:Yn[pt??0])==null?void 0:ei.subSubsections)==null?void 0:rr.length)??1)-1?p({sectionIndex:ot,subsectionIndex:pt,subSubsectionIndex:He+1}):He!==void 0&&He===(((fn=(yr=(gr=(vr=a==null?void 0:a.sections[ot??0])==null?void 0:vr.subsections)==null?void 0:gr[pt??0])==null?void 0:yr.subSubsections)==null?void 0:fn.length)??1)-1&&(pt??0)<(((is=(ir=a==null?void 0:a.sections[ot??0])==null?void 0:ir.subsections)==null?void 0:is.length)??1)-1?p({sectionIndex:ot,subsectionIndex:(pt??0)+1}):pt===void 0&&((os=(wi=a==null?void 0:a.sections[ot??0])==null?void 0:wi.subsections)!=null&&os.length)?p({sectionIndex:ot,subsectionIndex:0}):pt!==void 0&&pt<(((hn=(ss=a==null?void 0:a.sections[ot??0])==null?void 0:ss.subsections)==null?void 0:hn.length)??1)-1?p({sectionIndex:ot,subsectionIndex:pt+1}):pt!==void 0&&pt===(((or=(Sr=a==null?void 0:a.sections[ot??0])==null?void 0:Sr.subsections)==null?void 0:or.length)??1)-1&&(ot??0)<(((vi=a==null?void 0:a.sections)==null?void 0:vi.length)??1)-1?p({sectionIndex:(ot??0)+1}):(ot??0)<(((jr=a==null?void 0:a.sections)==null?void 0:jr.length)??1)-1?p({sectionIndex:(ot??0)+1}):ot===(((Wr=a==null?void 0:a.sections)==null?void 0:Wr.length)??1)-1&&pt===void 0&&p({sectionIndex:void 0,type:"footer"}))};if(!a)return w.jsx(ki,{});const E=d.type==="header"||d.type==="footer"?"":d.sectionIndex!==void 0?d.subSubsectionIndex!==void 0?((G=(z=(B=a.sections[d.sectionIndex])==null?void 0:B.subsections[d.subsectionIndex])==null?void 0:z.subSubsections[d.subSubsectionIndex])==null?void 0:G.content)||"":d.subsectionIndex!==void 0?((H=(J=a.sections[d.sectionIndex])==null?void 0:J.subsections[d.subsectionIndex])==null?void 0:H.content)||"":((F=a.sections[d.sectionIndex])==null?void 0:F.content)||"":"",j=d.type==="header"||d.type==="footer"?"":d.sectionIndex!==void 0?d.subSubsectionIndex!==void 0?((ae=(Z=(Q=a.sections[d.sectionIndex])==null?void 0:Q.subsections[d.subsectionIndex])==null?void 0:Z.subSubsections[d.subSubsectionIndex])==null?void 0:ae.title)||"":d.subsectionIndex!==void 0?((Y=(X=a.sections[d.sectionIndex])==null?void 0:X.subsections[d.subsectionIndex])==null?void 0:Y.title)||"":((U=a.sections[d.sectionIndex])==null?void 0:U.title)||"":"",M=d.sectionIndex!==void 0?d.subSubsectionIndex!==void 0?((ue=(fe=(q=a.sections[d.sectionIndex])==null?void 0:q.subsections[d.subsectionIndex])==null?void 0:fe.subSubsections[d.subSubsectionIndex])==null?void 0:ue.links)||[]:d.subsectionIndex!==void 0?((me=(de=a.sections[d.sectionIndex])==null?void 0:de.subsections[d.subsectionIndex])==null?void 0:me.links)||[]:((Me=a.sections[d.sectionIndex])==null?void 0:Me.links)||[]:[];return w.jsx(Ne,{sx:{display:"flex",flexGrow:1,flexDirection:"column"},children:w.jsxs(Ne,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[w.jsxs(Ne,{sx:{display:"flex",justifyContent:"space-between",mt:2,mx:2},children:[w.jsx(Ne,{sx:{width:"450px",ml:2,mt:2},children:w.jsx(PP,{})}),w.jsxs(Ne,{sx:{width:"450px",mr:2,mt:2,textAlign:"right"},children:[w.jsxs(Ne,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:[(a==null?void 0:a.originalFile)&&w.jsx(fa,{title:`Download original file: ${a.originalFile.name}`,children:w.jsx(Ct,{variant:"outlined",startIcon:w.jsx(c$,{}),endIcon:w.jsx(AN,{}),onClick:x,sx:{padding:"10px 16px",backgroundColor:"transparent",color:"#436850",border:"2px solid #436850",borderRadius:"8px",cursor:"pointer",fontFamily:"Gabarito","&:hover":{backgroundColor:"#436850",color:"#FBFADA"}},children:"PPTX"})}),w.jsx(Ct,{variant:"outlined",startIcon:w.jsx(Bx,{}),endIcon:w.jsx(AN,{}),onClick:async()=>{a&&(k(0),await Jee(a,k),k(null))},sx:{padding:"10px 16px",backgroundColor:"transparent",color:"#436850",border:"2px solid #436850",borderRadius:"8px",cursor:"pointer",fontFamily:"Gabarito","&:hover":{backgroundColor:"#436850",color:"#FBFADA"},"&:disabled":{backgroundColor:"#A8BDA8",cursor:"not-allowed"}},disabled:m!==null,children:m!==null?"Generating...":"PDF"})]}),m!==null&&w.jsx(Ne,{sx:{width:"100%",mt:2},children:w.jsx(cu,{variant:"determinate",value:m})})]})]}),w.jsxs(Ne,{sx:{display:"flex",flexGrow:1},children:[w.jsx(Ne,{sx:{width:"450px",minWidth:"450px",maxWidth:"450px",borderRight:"1px solid #ddd",padding:2},children:w.jsx(OP,{sections:a.sections,selected:d,onAddSection:()=>{},onAddSubsection:()=>{},onAddSubSubsection:()=>{},onSelectSection:y,onUpdateSectionTitle:()=>{},onUpdateSubsectionTitle:()=>{},onUpdateSubSubsectionTitle:()=>{},onDeleteSection:()=>{},onDeleteSubsection:()=>{},onDeleteSubSubsection:()=>{},isViewMode:!0})}),w.jsxs(Ne,{sx:{flexGrow:1,padding:3},children:[w.jsx("hr",{})," ",w.jsx(Ne,{sx:{borderRadius:1,padding:2,mb:2},children:w.jsx(xe,{dangerouslySetInnerHTML:{__html:a.header.content.replace(/\n/g,"<br />")}})}),w.jsx("hr",{})," ",w.jsx(xe,{variant:"h3",align:"center",gutterBottom:!0,children:a.title}),w.jsx("hr",{})," ",w.jsx(xe,{variant:"h4",align:"center",gutterBottom:!0,children:j}),d.type!=="header"&&d.type!=="footer"&&w.jsx(Ox,{in:!0,timeout:400,children:w.jsxs(Ne,{children:[w.jsxs(Ne,{sx:{mb:2,borderRadius:1,padding:2},children:[w.jsx(xe,{dangerouslySetInnerHTML:{__html:E.replace(/\n/g,"<br />")}}),w.jsx(Ne,{children:d.sectionIndex!==void 0&&w.jsx(w.Fragment,{children:d.subSubsectionIndex!==void 0?(((be=(ke=(te=(re=(Ie=(ce=a.sections[d.sectionIndex])==null?void 0:ce.subsections)==null?void 0:Ie[d.subsectionIndex])==null?void 0:re.subSubsections)==null?void 0:te[d.subSubsectionIndex])==null?void 0:ke.images)==null?void 0:be.length)||0)>0&&w.jsx($E,{images:((Ze=(Ue=(Be=(Re=(ve=a.sections[d.sectionIndex])==null?void 0:ve.subsections)==null?void 0:Re[d.subsectionIndex])==null?void 0:Be.subSubsections)==null?void 0:Ue[d.subSubsectionIndex])==null?void 0:Ze.images)||[]}):d.subsectionIndex!==void 0?(((oe=(gt=(ft=(Ge=a.sections[d.sectionIndex])==null?void 0:Ge.subsections)==null?void 0:ft[d.subsectionIndex])==null?void 0:gt.images)==null?void 0:oe.length)||0)>0&&w.jsx($E,{images:((De=(we=(Pe=a.sections[d.sectionIndex])==null?void 0:Pe.subsections)==null?void 0:we[d.subsectionIndex])==null?void 0:De.images)||[]}):(((Oe=(Ae=a.sections[d.sectionIndex])==null?void 0:Ae.images)==null?void 0:Oe.length)||0)>0&&w.jsx($E,{images:((Ke=a.sections[d.sectionIndex])==null?void 0:Ke.images)||[]})})})]}),w.jsx(jX,{links:M})]})},v),w.jsxs(Ne,{sx:{display:"flex",justifyContent:"space-between"},children:[w.jsx(fa,{title:"Previous Section/Subsection (Left Arrow)",arrow:!0,children:w.jsx("span",{children:w.jsx(Gn,{onClick:()=>D("prev"),disabled:d.sectionIndex===0&&d.subsectionIndex===void 0&&d.type==="header",children:w.jsx(BP,{})})})}),w.jsx(fa,{title:"Next Section/Subsection (Right Arrow)",arrow:!0,children:w.jsx("span",{children:w.jsx(Gn,{onClick:()=>D("next"),disabled:d.sectionIndex===(((Xe=a.sections)==null?void 0:Xe.length)??1)-1&&(d.subsectionIndex===void 0||d.subsectionIndex===(((dt=(Fe=a.sections[d.sectionIndex])==null?void 0:Fe.subsections)==null?void 0:dt.length)??1)-1)&&d.type==="footer",children:w.jsx(LP,{})})})})]}),w.jsx("hr",{})," ",w.jsx(Ne,{sx:{borderRadius:1,padding:2,mt:2},children:w.jsx(xe,{dangerouslySetInnerHTML:{__html:a.footer.content.replace(/\n/g,"<br />")}})}),w.jsx("hr",{})," "]})]})]})})},aR=({value:t,onChange:i})=>{const[n,o]=se.useState([]),{userDetails:a}=ko();return se.useEffect(()=>{if(a!=null&&a.classes){const c=Object.entries(a.classes).filter(([d,p])=>p.isCourseAdmin||a.isSuperAdmin).map(([d,p])=>({id:d,number:p.number,title:p.title}));o(c)}else o([])},[a]),w.jsxs(pf,{fullWidth:!0,sx:{mb:2},children:[w.jsx(mf,{id:"course-selector-label",children:"Course"}),w.jsx(ad,{labelId:"course-selector-label",value:t,onChange:c=>i(c.target.value),label:"Course",children:n.length>0?n.map(c=>w.jsx($r,{value:c.id,children:`${c.number} - ${c.title}`},c.id)):w.jsx($r,{disabled:!0,children:"No courses available"})}),!t&&w.jsx(u$,{children:"Please select a course"})]})},ete=()=>{const[t,i]=se.useState(""),[n,o]=se.useState(""),[a,c]=se.useState([{title:"",url:""}]),[d,p]=se.useState(""),m=ao(),k=Nr(),v=async()=>{if(!d){alert("Please select a course to post the message.");return}try{await pa(Zn(k,"messages"),{title:t,description:n,links:a,course:d,postedOn:Zh(),isPinned:!1}),m("/")}catch(D){console.error("Error adding message: ",D)}},_=()=>m("/"),x=(D,E,j)=>{const M=[...a];M[D][E]=j,c(M)},y=()=>c([...a,{title:"",url:""}]);return w.jsx(RL,{maxWidth:"md",sx:{mt:6,fontFamily:"Gabarito, sans-serif"},children:w.jsxs(hr,{elevation:3,sx:{p:4,borderRadius:2,backgroundColor:"#F7F9FC"},children:[w.jsx(xe,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontFamily:"Staatliches, sans-serif",textAlign:"center"},children:"Add New Message"}),w.jsx(dl,{sx:{mb:3,backgroundColor:"#DADADA"}}),w.jsxs(Ne,{sx:{mt:4},children:[w.jsx(aR,{value:d,onChange:p}),w.jsx(yn,{label:"Subject",fullWidth:!0,value:t,onChange:D=>i(D.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),w.jsx(yn,{label:"Description",fullWidth:!0,multiline:!0,rows:4,value:n,onChange:D=>o(D.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),w.jsx(xe,{variant:"h6",sx:{mb:2},children:""}),a.map((D,E)=>w.jsxs(Ne,{sx:{mb:2,pl:2,borderLeft:"4px solid #CDDAFF"},children:[w.jsx(yn,{label:`URL Title ${E+1}`,fullWidth:!0,value:D.title,onChange:j=>x(E,"title",j.target.value),sx:{mb:1}}),w.jsx(yn,{label:`URL Link ${E+1}`,fullWidth:!0,value:D.url,onChange:j=>x(E,"url",j.target.value)})]},E)),w.jsx(Ct,{variant:"outlined",onClick:y,startIcon:w.jsx("span",{style:{fontSize:"1.2rem",lineHeight:1},children:"+"}),sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",color:"#0B53C0",padding:"8px 16px",textTransform:"none","&:hover":{backgroundColor:"rgba(11, 83, 192, 0.1)",color:"#083B80"}},children:"Add Link"}),w.jsx(dl,{sx:{width:"100%",my:2,backgroundColor:"#DADADA"}}),w.jsxs(Ne,{sx:{display:"flex",justifyContent:"space-between"},children:[w.jsx(Ct,{variant:"outlined",onClick:_,className:"cancel-button",children:"Cancel"}),w.jsx(Ct,{variant:"outlined",onClick:v,className:"save-button",children:"Save"})]})]})]})})},tte=()=>{const{id:t}=K6(),[i,n]=se.useState(""),[o,a]=se.useState(""),[c,d]=se.useState([{title:"",url:""}]),[p,m]=se.useState(""),k=ao(),v=Nr();se.useEffect(()=>{(async()=>{try{const j=Vn(v,"messages",t),M=await Na(j);if(M.exists()){const B=M.data();n(B.title),a(B.description),d(B.links||[{title:"",url:""}]),m(B.course||"")}}catch(j){console.error("Error fetching message: ",j)}})()},[v,t]);const _=async()=>{try{if(!p){alert("Please select a valid course to update the message.");return}const E=Vn(v,"messages",t);await gi(E,{title:i,description:o,links:c,course:p,lastUpdatedOn:Zh()}),k("/")}catch(E){console.error("Error editing message: ",E)}},x=()=>k("/"),y=(E,j,M)=>{const B=[...c];B[E][j]=M,d(B)},D=()=>d([...c,{title:"",url:""}]);return w.jsx(RL,{maxWidth:"md",sx:{mt:6,fontFamily:"Gabarito, sans-serif"},children:w.jsxs(hr,{elevation:3,sx:{p:4,borderRadius:2,backgroundColor:"#F7F9FC"},children:[w.jsx(xe,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontFamily:"Staatliches, sans-serif",textAlign:"center"},children:"Edit Message"}),w.jsx(dl,{sx:{mb:3,backgroundColor:"#DADADA"}}),w.jsxs(Ne,{sx:{mt:4},children:[w.jsx(aR,{value:p,onChange:m}),w.jsx(yn,{label:"Subject",fullWidth:!0,value:i,onChange:E=>n(E.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),w.jsx(yn,{label:"Description",fullWidth:!0,multiline:!0,rows:4,value:o,onChange:E=>a(E.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),w.jsx(xe,{variant:"h6",sx:{mb:2},children:""}),c.map((E,j)=>w.jsxs(Ne,{sx:{mb:2,pl:2,borderLeft:"4px solid #CDDAFF"},children:[w.jsx(yn,{label:`URL Title ${j+1}`,fullWidth:!0,value:E.title,onChange:M=>y(j,"title",M.target.value),sx:{mb:1}}),w.jsx(yn,{label:`URL Link ${j+1}`,fullWidth:!0,value:E.url,onChange:M=>y(j,"url",M.target.value)})]},j)),w.jsx(Ct,{variant:"outlined",onClick:D,startIcon:w.jsx("span",{style:{fontSize:"1.2rem",lineHeight:1},children:"+"}),sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",color:"#0B53C0",padding:"8px 16px",textTransform:"none","&:hover":{backgroundColor:"rgba(11, 83, 192, 0.1)",color:"#083B80"}},children:"Add Link"}),w.jsx(dl,{sx:{width:"100%",my:2,backgroundColor:"#DADADA"}}),w.jsxs(Ne,{sx:{display:"flex",justifyContent:"space-between"},children:[w.jsx(Ct,{variant:"outlined",onClick:x,className:"cancel-button",children:"Cancel"}),w.jsx(Ct,{variant:"outlined",onClick:_,className:"save-button",children:"Save"})]})]})]})})},nte=({users:t})=>{const i=(o,a)=>o?{backgroundColor:"#6a1b9a",color:"#fff"}:a?{backgroundColor:"#1976d2",color:"#fff"}:{backgroundColor:"#e0e0e0",color:"#000"},n=o=>o?Object.entries(o).map(([a,c])=>w.jsx(_r,{label:`${c.isCourseAdmin?"[Course Admin] ":""}${c.number||"N/A"} - ${c.title||"Untitled Course"}`,sx:{backgroundColor:c.isCourseAdmin?"#ffcccb":"#d4edda",color:c.isCourseAdmin?"#b71c1c":"#155724",margin:"4px",fontSize:"0.9rem",fontWeight:"bold",borderRadius:"8px",padding:"4px 8px"}},a)):"None";return w.jsx(sh,{component:hr,children:w.jsxs(ah,{children:[w.jsx(lh,{children:w.jsxs(Lo,{children:[w.jsx(St,{children:"ID"}),w.jsx(St,{children:"Status"}),w.jsx(St,{children:"Last Login"}),w.jsx(St,{children:"Courses"})]})}),w.jsx(ch,{children:t.map(o=>w.jsxs(Lo,{sx:{"&:hover":{backgroundColor:"#f5f5f5",cursor:"pointer"}},children:[w.jsx(St,{children:w.jsx(_r,{label:o.id,color:o.isSuperAdmin?"secondary":o.isAdmin?"primary":"default",sx:{fontSize:"0.9rem",fontWeight:"bold",padding:"6px 12px",borderRadius:"16px",...i(o.isSuperAdmin,o.isAdmin)}})}),w.jsx(St,{children:w.jsx(_r,{label:o.isSuperAdmin?"Super Admin":o.isAdmin?"Educator":"Student",color:o.isSuperAdmin?"secondary":o.isAdmin?"primary":"default"})}),w.jsx(St,{children:Em(o.lastLogin)}),w.jsx(St,{children:n(o.classes)||w.jsx(_r,{label:"No courses assigned",sx:{backgroundColor:"#e0e0e0",color:"#000"}})})]},o.id))})]})})},rte=({userId:t,onUserDeleted:i})=>{const[n,o]=se.useState(!1),[a,c]=se.useState(!1),d=Nr(),p=()=>{o(!0)},m=()=>{o(!1)},k=async()=>{c(!0);try{const v=Vn(d,"users",t);await tA(v),i(!0)}catch(v){console.error("Error deleting user:",v),i(!1)}c(!1),o(!1)};return w.jsxs(w.Fragment,{children:[w.jsx(Ct,{variant:"text",color:"error",onClick:p,children:"Delete User Account"}),w.jsxs(Oo,{open:n,onClose:m,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[w.jsx(ts,{id:"alert-dialog-title",children:"Confirm Deletion"}),w.jsx(Bo,{children:w.jsx(bc,{id:"alert-dialog-description",children:"Are you sure you want to delete this user account? This action cannot be undone."})}),w.jsxs(ns,{children:[w.jsx(Ct,{onClick:m,color:"primary",disabled:a,children:"Cancel"}),w.jsx(Ct,{onClick:k,color:"error",autoFocus:!0,disabled:a,children:a?w.jsx(ki,{size:24}):"Delete"})]})]})]})},ite=({userId:t,userClasses:i,courses:n,onCourseAssigned:o})=>{const[a,c]=se.useState(""),[d,p]=se.useState(!1),[m,k]=se.useState(!1),[v,_]=se.useState(""),[x,y]=se.useState(!1),[D,E]=se.useState(!1),[j,M]=se.useState(!1),[B,z]=se.useState(!1),G=Nr(),J=async()=>{if(!t||!a){_("Please enter a User ID and select a course."),M(!1),y(!0);return}k(!0);try{const Z=Vn(G,"users",t),ae=n.find(X=>X.id===a);ae?(await gi(Z,{[`classes.${a}`]:{number:ae.number,title:ae.title,isCourseAdmin:d}}),_(`Course ${ae.title} assigned successfully to user ${t}${d?" as Course Admin.":"."}`),o(a,{number:ae.number,title:ae.title,isCourseAdmin:d}),z(!0),setTimeout(()=>z(!1),1e3),E(!1),c(""),p(!1),M(!0)):(_("Selected course not found."),M(!1))}catch(Z){console.error("Error assigning course:",Z),_("Error assigning course."),M(!1)}k(!1),y(!0)},H=()=>{y(!1)},F=()=>E(!0),Q=()=>E(!1);return w.jsxs(w.Fragment,{children:[w.jsxs(Ne,{sx:{display:"flex",alignItems:"center",mt:2,p:2,borderRadius:2,transition:"background-color 0.3s ease",backgroundColor:B?"#e8f5e8":"transparent",border:B?"2px solid #4caf50":"2px solid transparent"},children:[w.jsx(xe,{variant:"h6",component:"h2",sx:{mr:2},children:"Current Courses:"}),w.jsx(Ne,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:i&&Object.keys(i).length>0?Object.values(i).map((Z,ae)=>w.jsx(_r,{label:`${Z.isCourseAdmin?"[Course Admin] ":""}${Z.number} - ${Z.title}`,style:{backgroundColor:Z.isCourseAdmin?"#ffcccb":"#d4edda",color:Z.isCourseAdmin?"#b71c1c":"#155724",margin:"4px"}},ae)):w.jsx(xe,{children:"No courses assigned."})}),w.jsxs(pf,{sx:{minWidth:200,mr:2},children:[w.jsx(mf,{children:"Course"}),w.jsx(ad,{value:a,onChange:Z=>c(Z.target.value),children:n.map(Z=>w.jsx($r,{value:Z.id,children:`${Z.number} - ${Z.title}`},Z.id))})]}),w.jsxs(pf,{sx:{mr:2},children:[w.jsx(mf,{children:"Role"}),w.jsxs(ad,{value:d?"admin":"student",onChange:Z=>p(Z.target.value==="admin"),children:[w.jsx($r,{value:"admin",children:"Course Admin"}),w.jsx($r,{value:"student",children:"Student"})]})]}),w.jsx(Ct,{variant:"contained",color:"primary",onClick:F,disabled:m||!a,children:m?w.jsx(ki,{size:24}):"Assign Course"})]}),w.jsx(Nl,{open:x,autoHideDuration:6e3,onClose:H,children:w.jsx(Rr,{onClose:H,severity:j?"success":"error",children:v})}),w.jsxs(Oo,{open:D,onClose:Q,"aria-labelledby":"assign-dialog-title",children:[w.jsx(ts,{id:"assign-dialog-title",children:"Assign Course"}),w.jsx(Bo,{children:w.jsxs(bc,{children:["Are you sure you want to assign the course ",a," to this user",d?" as a Course Admin?":"?"]})}),w.jsxs(ns,{children:[w.jsx(Ct,{onClick:Q,color:"primary",children:"Cancel"}),w.jsx(Ct,{onClick:J,color:"primary",autoFocus:!0,children:"Confirm"})]})]})]})},ote=()=>{const[t,i]=se.useState(""),[n,o]=se.useState(!1),[a,c]=se.useState(!1),[d,p]=se.useState(void 0),[m,k]=se.useState(!1),[v,_]=se.useState(""),[x,y]=se.useState(!1),[D,E]=se.useState(!1),[j,M]=se.useState(!1),[B,z]=se.useState([]),[G,J]=se.useState(""),[H,F]=se.useState([]),Q=Nr(),[Z,ae]=se.useState(""),X=ao(),Y=()=>{X("/")};se.useEffect(()=>{(async()=>{try{const ve=Zn(Q,"courses"),Be=(await so(ve)).docs.map(Ue=>({id:Ue.id,number:Ue.data().number,title:Ue.data().title}));F(Be)}catch(ve){console.error("Error fetching courses:",ve)}})()},[Q]);const U=async()=>{if(t){k(!0),c(!1);try{const be=Vn(Q,"users",t),ve=await Na(be);if(ve.exists()){const Re=ve.data();o(Re.isAdmin),p(Re.classes),c(!0)}else _("User not found."),y(!0)}catch(be){console.error("Error fetching user:",be),_("Error fetching user."),y(!0)}k(!1)}},q=se.useCallback(async()=>{k(!0);try{const be=Zn(Q,"users"),Re=(await so(be)).docs.map(Be=>({id:Be.id,...Be.data()}));z(Re)}catch(be){console.error("Error fetching users:",be),_("Error fetching users."),y(!0)}k(!1)},[Q]);se.useEffect(()=>{q()},[q]);const fe=async()=>{try{const be=Vn(Q,"users",t);await gi(be,{isAdmin:j}),_(`User ${j?"granted":"revoked"} admin privileges successfully.`),o(j);const ve=B.map(Re=>Re.id===t?{...Re,isAdmin:j}:Re);z(ve)}catch(be){console.error("Error updating user:",be),_("Error updating user.")}y(!0),E(!1)},ue=be=>{be.preventDefault(),a?(M(!n),E(!0)):(_("User not found."),y(!0))},de=()=>{y(!1)},me=()=>{E(!1)},Me=be=>{J(be.target.value)},ce=be=>G?be.classes&&G in be.classes:!0,Ie=be=>Z==="superAdmin"?be.isSuperAdmin:Z==="educator"?be.isAdmin&&!be.isSuperAdmin:Z==="student"?!be.isAdmin&&!be.isSuperAdmin:!0,re=be=>be.filter(ve=>ce(ve)&&Ie(ve)),te=be=>{be?(_("User account deleted successfully."),c(!1),i(""),q()):_("Error deleting user account."),y(!0)},ke=(be,ve)=>{p(Re=>({...Re,[be]:ve}))};return w.jsxs(Ne,{sx:{padding:3},children:[w.jsx(Ne,{sx:{display:"flex",alignItems:"center"},children:w.jsx(Ct,{variant:"text",onClick:Y,sx:{mr:2},children:" Home Page"})}),w.jsx(xe,{variant:"h4",component:"h1",gutterBottom:!0,children:"User Management"}),w.jsx(xe,{variant:"body1",gutterBottom:!0,children:"Use this page to view and manage user permissions. Enter the User ID to grant or revoke admin privileges, or delete user account."}),w.jsx(Ne,{sx:{display:"flex",justifyContent:"flex-start"},children:w.jsxs("form",{onSubmit:ue,children:[w.jsx(yn,{label:"User ID",value:t,onChange:be=>i(be.target.value),fullWidth:!0,required:!0,margin:"normal",onKeyPress:be=>{be.key==="Enter"&&(U(),be.preventDefault())},sx:{minWidth:"300px"}}),m?w.jsx(ki,{}):a&&w.jsxs(hr,{variant:"outlined",sx:{padding:2,borderRadius:"15px",mb:1},children:[w.jsxs(Ne,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",border:"1px solid #e0e0e0",padding:"16px",borderRadius:"8px",backgroundColor:"#f9f9f9",mb:2},children:[w.jsxs(Ne,{sx:{display:"flex",alignItems:"center"},children:[w.jsx(xe,{variant:"h6",component:"h2",sx:{mr:2},children:"Current Status:"}),w.jsx(_r,{label:n?"Educator (Admin)":"Student (Non-Admin)",color:n?"primary":"default",sx:{fontSize:"0.9rem",fontWeight:"bold",padding:"6px 12px",borderRadius:"16px",backgroundColor:n?"#1976d2":"#e0e0e0",color:n?"#fff":"#000"}})]}),w.jsx(Ct,{type:"submit",variant:"contained",color:n?"secondary":"primary",sx:{padding:"8px 16px",textTransform:"none",fontSize:"0.9rem",borderRadius:"8px",fontWeight:"bold",boxShadow:"none","&:hover":{boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.2)"}},children:n?"Revoke Educator Access":"Grant Educator Access"})]}),w.jsx(ite,{userId:t,userClasses:d,courses:H,onCourseAssigned:ke}),w.jsx(rte,{userId:t,onUserDeleted:te})]})]})}),w.jsx(xe,{variant:"h5",component:"h2",gutterBottom:!0,children:"Current Users"}),w.jsxs(pf,{fullWidth:!0,sx:{mb:3,width:"25%"},children:[w.jsx(mf,{children:"Filter by Course"}),w.jsxs(ad,{value:G,onChange:Me,children:[w.jsx($r,{value:"",children:"All Courses"}),H.map(be=>w.jsx($r,{value:be.id,children:be.number},be.id))]})]}),w.jsxs(pf,{fullWidth:!0,sx:{mb:3,width:"25%"},children:[w.jsx(mf,{children:"User Status"}),w.jsxs(ad,{value:Z,onChange:be=>ae(be.target.value),children:[w.jsx($r,{value:"",children:"All Statuses"}),w.jsx($r,{value:"superAdmin",children:"Super Admin"}),w.jsx($r,{value:"educator",children:"Educator"}),w.jsx($r,{value:"student",children:"Student"})]})]}),w.jsx(nte,{users:re(B)}),w.jsxs(Oo,{open:D,onClose:me,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[w.jsx(ts,{id:"alert-dialog-title",children:n?"Revoke Admin Privileges":"Grant Admin Privileges"}),w.jsx(Bo,{children:w.jsxs(bc,{id:"alert-dialog-description",children:["Are you sure you want to ",n?"revoke":"grant"," admin privileges for this user?"]})}),w.jsxs(ns,{children:[w.jsx(Ct,{onClick:me,color:"primary",children:"Cancel"}),w.jsx(Ct,{onClick:fe,color:"primary",autoFocus:!0,children:"Confirm"})]})]}),w.jsx(Nl,{open:x,autoHideDuration:6e3,onClose:de,children:w.jsx(Rr,{onClose:de,severity:"info",children:v})})]})},ste=({onCourseAdded:t})=>{const[i,n]=se.useState(""),{userDetails:o,setUserDetails:a}=ko(),c=Nr(),d=m=>{n(m.target.value)},p=async()=>{try{const v=(await so(Zn(c,"courses"))).docs.map(_=>({id:_.id,passcode:_.data().passcode,number:_.data().number,title:_.data().title})).find(_=>_.passcode===i);if(v){if(o)if((o.classes||{})[v.id])t(`Course access for ${v.number} is already added to your account!`,"info");else{const x=Vn(c,"users",o.uid);await gi(x,{[`classes.${v.id}`]:{number:v.number,title:v.title,isCourseAdmin:!1}});const y=await Na(x);if(y.exists()){const D=y.data();a({...D,uid:o.uid})}t(`Course access for ${v.number} added to your account successfully!`,"success"),n("")}}else t("Invalid passcode. Course not found.","error")}catch(m){console.error("Error updating document: ",m),t("Error adding course access to your account.","error")}};return w.jsx("div",{children:w.jsxs(qt,{container:!0,spacing:2,sx:{maxWidth:"50%"},children:[w.jsx(qt,{item:!0,xs:10,children:w.jsx(yn,{label:"Enter Course Passcode",value:i,onChange:d,fullWidth:!0,sx:{mb:2}})}),w.jsx(qt,{item:!0,xs:2,sx:{display:"flex",alignItems:"center"},children:w.jsx(Ct,{variant:"contained",onClick:p,children:"Add Course"})})]})})};var Yv={},$j;function ate(){if($j)return Yv;$j=1;var t=ws();Object.defineProperty(Yv,"__esModule",{value:!0}),Yv.default=void 0;var i=t(ys()),n=vs();return Yv.default=(0,i.default)((0,n.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle"),Yv}var lte=ate();const cte=Ei(lte),ute=({userDetails:t,getAccountStatus:i,renderCourses:n})=>w.jsxs(hr,{elevation:3,sx:{padding:3,borderRadius:"12px",backgroundColor:"#ffffff",maxWidth:"500px",margin:"auto"},children:[w.jsx(Ne,{sx:{display:"flex",justifyContent:"center",mb:2},children:w.jsx(d$,{sx:{width:72,height:72,bgcolor:"#1054c4"},children:w.jsx(cte,{sx:{fontSize:48,color:"#f8f4fc"}})})}),w.jsxs(Ne,{sx:{display:"flex",flexDirection:"column",gap:1,alignItems:"left"},children:[w.jsxs(Ne,{sx:{display:"flex",alignItems:"center",gap:1},children:[w.jsx(xe,{sx:{fontWeight:"bold"},children:"User ID:"}),w.jsx(_r,{label:t.uid,variant:"outlined",sx:{fontSize:"14px",fontWeight:"bold",bgcolor:"#E3F2FD",color:"#1565C0"}})]}),w.jsxs(Ne,{sx:{display:"flex",alignItems:"center",gap:1},children:[w.jsx(xe,{sx:{fontWeight:"bold"},children:"Account Status:"}),w.jsx(_r,{label:i(),variant:"outlined",sx:{fontSize:"14px",fontWeight:"bold",bgcolor:"#C8E6C9",color:"#2E7D32"}})]}),w.jsxs(Ne,{sx:{display:"flex",alignItems:"center",gap:1},children:[w.jsx(xe,{sx:{fontWeight:"bold"},children:"Last Login:"}),w.jsx(_r,{label:Em(t.lastLogin),variant:"outlined",sx:{fontSize:"14px",fontWeight:"bold",bgcolor:"#FFF3E0",color:"#EF6C00"}})]})]}),w.jsx(dl,{sx:{my:2}}),w.jsx(xe,{sx:{fontWeight:"bold",mb:1},children:"Current Courses:"}),w.jsx(Ne,{sx:{display:"flex",flexWrap:"wrap"},children:n()})]}),dte=()=>{const{userDetails:t,setUserDetails:i}=ko(),[n,o]=se.useState(!1),[a,c]=se.useState(!1),[d,p]=se.useState(!1),[m,k]=se.useState(""),[v,_]=se.useState("success"),x=ao(),y=Nr(),D=()=>{x("/")},E=()=>{t!=null&&t.isAdmin||x("/request-educator-permissions")},j=(H,F)=>{p(!0),k(H),_(F),F==="success"&&t&&(async()=>{const Z=Vn(y,"users",t.uid),ae=await Na(Z);if(ae.exists()){const X=ae.data();i({...X,uid:t.uid})}})()},M=()=>{o(!n)},B=()=>{c(!a)},z=()=>t!=null&&t.isSuperAdmin?"Super Admin":t!=null&&t.isAdmin?"Educator":"Student",G=()=>{p(!1)},J=()=>t!=null&&t.classes?Object.entries(t.classes).map(([H,F])=>w.jsx(_r,{label:`${F.number} - ${F.title}${F.isCourseAdmin?" (Admin)":""}`,variant:"outlined",sx:{margin:"4px",fontSize:"14px",fontWeight:"bold",bgcolor:F.isCourseAdmin?"#FFCDD2":"#E3F2FD",color:F.isCourseAdmin?"#C62828":"#1565C0"}},H)):"None";return w.jsxs(Ne,{className:"profile-container",children:[w.jsx(Ct,{variant:"text",onClick:D,className:"profile-button",children:" Home Page"}),w.jsx(xe,{className:"webpage_title",children:"My Account"}),t&&w.jsx(ute,{userDetails:t,getAccountStatus:z,renderCourses:J}),!(t!=null&&t.isAdmin)&&w.jsxs(Ne,{className:"profile-switch-container",children:[w.jsx(sp,{control:w.jsx(ap,{checked:n,onChange:M}),label:"Enroll in a Course (As a Student)"}),n&&w.jsxs(Ne,{sx:{mt:2},children:[w.jsx(xe,{variant:"body1",className:"profile-text",children:"Use the area below to add a course access to your account."}),w.jsx(ste,{onCourseAdded:j})]})]}),w.jsxs(Ne,{className:"profile-advanced-section",children:[w.jsx(sp,{control:w.jsx(ap,{checked:a,onChange:B}),label:"Advanced"}),a&&w.jsx(w.Fragment,{children:w.jsx(Ne,{sx:{mt:2},children:w.jsx(Ct,{variant:"text",onClick:E,disabled:t==null?void 0:t.isAdmin,className:"profile-button",children:t!=null&&t.isAdmin?w.jsx(xe,{children:w.jsx("span",{className:"success-text",children:" Educator Account Approved"})}):"Request Educator Permissions"})})})]}),w.jsx(Nl,{open:d,autoHideDuration:6e3,onClose:G,children:w.jsx(Rr,{onClose:G,severity:v,sx:{width:"100%"},children:m})})]})},hte=({selectedCourse:t,selectedCourseDetails:i,onStudentChange:n})=>{const[o,a]=se.useState(""),[c,d]=se.useState(!1),[p,m]=se.useState(""),[k,v]=se.useState(!1),[_,x]=se.useState(!1),y=Nr(),D=async()=>{if(!o||!t){m("Please enter a Student ID and select a course."),v(!0);return}d(!0);try{const B=Vn(y,"users",o),z=await Na(B);if(z.exists()){const J=z.data().classes||{};t in J?x(!0):(m(`Student ${o} is not enrolled in course ${(i==null?void 0:i.number)||t}, cannot remove.`),v(!0))}else m(`Student ${o} does not exist.`),v(!0)}catch(B){console.error("Error checking student course:",B),m("Error checking student course."),v(!0)}d(!1)},E=async()=>{d(!0);try{const B=Vn(y,"users",o);await gi(B,{[`classes.${t}`]:n3()}),m(`Student ${o} removed from course ${(i==null?void 0:i.number)||t}.`),a(""),n()}catch(B){console.error("Error updating student course:",B),m("Error updating student course.")}d(!1),v(!0),x(!1)},j=()=>{v(!1)},M=()=>{x(!1)};return w.jsxs(Ne,{sx:{mt:4},children:[w.jsxs(xe,{variant:"h6",component:"h2",children:["Remove Students from ",i?`${i.number}`:t]}),w.jsxs(Ne,{sx:{display:"flex",alignItems:"center",mt:2},children:[w.jsx(yn,{label:"Student ID",value:o,onChange:B=>a(B.target.value),fullWidth:!0,required:!0,margin:"normal",sx:{mr:2}}),w.jsx(Ct,{variant:"contained",color:"primary",onClick:D,disabled:c,children:c?w.jsx(ki,{size:24}):"Remove"})]}),w.jsx(Nl,{open:k,autoHideDuration:6e3,onClose:j,children:w.jsx(Rr,{onClose:j,severity:"info",children:p})}),w.jsxs(Oo,{open:_,onClose:M,"aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",children:[w.jsx(ts,{id:"confirm-dialog-title",children:"Confirm Removal"}),w.jsx(Bo,{children:w.jsx(bc,{id:"confirm-dialog-description",children:"Are you sure you want to remove the student from the course? This action cannot be undone."})}),w.jsxs(ns,{children:[w.jsx(Ct,{onClick:M,color:"primary",children:"Cancel"}),w.jsx(Ct,{onClick:E,color:"secondary",autoFocus:!0,children:"Confirm"})]})]})]})},fte=({students:t,selectedCourse:i})=>{const n=()=>{if(t.length>0){const o=["User ID","Courses","Last Login"],a=t.map(k=>[`"${k.id||k.uid}"`,`"${k.classes?Object.values(k.classes).map(v=>`${v.number} - ${v.title}`).join(", "):"None"}"`,`"${Em(k.lastLogin)}"`]),c=[o.join(","),...a.map(k=>k.join(","))].join(`
`),d=new Blob([c],{type:"text/csv;charset=utf-8;"}),p=URL.createObjectURL(d),m=document.createElement("a");m.href=p,m.setAttribute("download",`${i}_students.csv`),document.body.appendChild(m),m.click(),document.body.removeChild(m)}};return w.jsx(Ne,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:w.jsx(Ct,{variant:"contained",color:"primary",onClick:n,disabled:t.length===0,sx:{background:"linear-gradient(45deg, #3f51b5 30%, #1e88e5 90%)",borderRadius:3,boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)",color:"white",padding:"0 30px",fontSize:"16px",fontWeight:"bold",textTransform:"none","&:hover":{background:"linear-gradient(45deg, #1e88e5 30%, #3f51b5 90%)",boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)"}},children:"Export as CSV"})})},pte=({userClasses:t,selectedCourse:i,onCourseChange:n})=>w.jsx(Ne,{sx:{mb:3},children:w.jsxs(pf,{fullWidth:!0,variant:"outlined",children:[w.jsx(mf,{id:"course-selector-label",children:"Select a Course"}),w.jsx(ad,{"aria-label":"Select a course",labelId:"course-selector-label",value:i,onChange:o=>n(o.target.value),label:"Select a Course",children:Object.entries(t).map(([o,a])=>w.jsx($r,{value:o,children:`${a.number} - ${a.title}`},o))})]})}),mte=({selectedCourse:t,selectedCourseDetails:i,onCourseUpdate:n})=>{const[o,a]=se.useState(!1),[c,d]=se.useState(""),[p,m]=se.useState(""),k=Nr(),{userDetails:v,refreshUserDetails:_}=ko(),x=()=>{i&&(d(i.number||""),m(i.title||"")),a(!0)},y=()=>{a(!1),D()},D=()=>{d(""),m("")},E=async()=>{if(!t||!(v!=null&&v.uid)){console.error("Selected course or user details are missing.");return}try{const j=Vn(k,"courses",t);await gi(j,{number:c,title:p});const M=Vn(k,"users",v.uid),B=await Na(M);if(B.exists()){const z=B.data();if(z.classes&&z.classes[t]){const G=z.classes[t],J={...z.classes,[t]:{...G,number:c,title:p}};await gi(M,{classes:J})}}await _(),n(),y()}catch(j){console.error("Error updating course:",j)}};return w.jsxs(Ne,{sx:{mt:2},children:[w.jsx(Ct,{variant:"outlined",onClick:x,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#4CAF50",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#388E3C",transform:"scale(1.03)"}},children:"Edit Course Details"}),w.jsxs(Oo,{open:o,onClose:y,children:[w.jsx(ts,{children:"Edit Course Details"}),w.jsxs(Bo,{children:[w.jsx(yn,{label:"Course Number",value:c,onChange:j=>d(j.target.value),fullWidth:!0,sx:{mb:2}}),w.jsx(yn,{label:"Course Title",value:p,onChange:j=>m(j.target.value),fullWidth:!0})]}),w.jsxs(ns,{children:[w.jsx(Ct,{onClick:y,children:"Cancel"}),w.jsx(Ct,{onClick:E,variant:"contained",color:"primary",disabled:!c||!p,children:"Save"})]})]})]})},gte=({selectedCourse:t,onInfoUpdate:i})=>{var U,q,fe,ue,de,me,Me,ce,Ie,re,te,ke,be;const[n,o]=se.useState(!1),[a,c]=se.useState(!1),[d,p]=se.useState(null),[m,k]=se.useState({}),[v,_]=se.useState("contact"),x=Nr();se.useEffect(()=>{n&&t&&y()},[n,t]);const y=async()=>{try{c(!0);const ve=Vn(x,"courses",t),Re=await Na(ve);if(Re.exists()){const Be=Re.data();k(Be.additionalInfo||{})}}catch(ve){console.error("Error fetching course info:",ve),p("Failed to load course information")}finally{c(!1)}},D=()=>{o(!0),p(null)},E=()=>{o(!1),p(null)},j=async()=>{try{c(!0);const ve=Vn(x,"courses",t);await gi(ve,{additionalInfo:{...m,lastUpdated:new Date}}),i(),E()}catch(ve){console.error("Error updating course info:",ve),p("Failed to save course information")}finally{c(!1)}},M=(ve,Re)=>{k(Be=>({...Be,contactInfo:{...Be.contactInfo,[ve]:Re}}))},B=(ve,Re)=>{k(Be=>({...Be,policies:{...Be.policies,[ve]:Re}}))},z=()=>{k(ve=>({...ve,textbooks:[...ve.textbooks||[],{title:"",author:"",edition:"",isbn:"",required:!0}]}))},G=(ve,Re,Be)=>{k(Ue=>{var Ze;return{...Ue,textbooks:(Ze=Ue.textbooks)==null?void 0:Ze.map((Ge,ft)=>ft===ve?{...Ge,[Re]:Be}:Ge)}})},J=ve=>{k(Re=>{var Be;return{...Re,textbooks:(Be=Re.textbooks)==null?void 0:Be.filter((Ue,Ze)=>Ze!==ve)}})},H=()=>{k(ve=>({...ve,gradingPolicy:[...ve.gradingPolicy||[],{component:"",percentage:0,description:""}]}))},F=(ve,Re,Be)=>{k(Ue=>{var Ze;return{...Ue,gradingPolicy:(Ze=Ue.gradingPolicy)==null?void 0:Ze.map((Ge,ft)=>ft===ve?{...Ge,[Re]:Be}:Ge)}})},Q=ve=>{k(Re=>{var Be;return{...Re,gradingPolicy:(Be=Re.gradingPolicy)==null?void 0:Be.filter((Ue,Ze)=>Ze!==ve)}})},Z=(ve,Re)=>{k(Be=>{var Ue;return{...Be,[ve]:{...Be[ve],[Re]:[...((Ue=Be[ve])==null?void 0:Ue[Re])||[],""]}}})},ae=(ve,Re,Be,Ue)=>{k(Ze=>{var Ge;return{...Ze,[ve]:{...Ze[ve],[Re]:(((Ge=Ze[ve])==null?void 0:Ge[Re])||[]).map((ft,gt)=>gt===Be?Ue:ft)}}})},X=(ve,Re,Be)=>{k(Ue=>{var Ze;return{...Ue,[ve]:{...Ue[ve],[Re]:(((Ze=Ue[ve])==null?void 0:Ze[Re])||[]).filter((Ge,ft)=>ft!==Be)}}})},Y=ve=>(Re,Be)=>{_(Be?ve:!1)};return w.jsxs(Ne,{sx:{mt:2},children:[w.jsx(Ct,{variant:"outlined",onClick:D,startIcon:w.jsx(yk,{}),sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#2196F3",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#1976D2",transform:"scale(1.03)"}},children:"Edit Additional Info"}),w.jsxs(Oo,{open:n,onClose:E,maxWidth:"md",fullWidth:!0,children:[w.jsx(ts,{children:w.jsx(xe,{variant:"h5",children:"Edit Additional Course Information"})}),w.jsxs(Bo,{sx:{minHeight:"500px"},children:[d&&w.jsx(Rr,{severity:"error",sx:{mb:2},children:d}),w.jsxs(Xd,{expanded:v==="contact",onChange:Y("contact"),children:[w.jsx(eh,{expandIcon:w.jsx(sd,{}),children:w.jsxs(Ne,{sx:{display:"flex",alignItems:"center",gap:1},children:[w.jsx(h$,{color:"primary"}),w.jsx(xe,{variant:"h6",children:"Contact Information"})]})}),w.jsx(th,{children:w.jsxs(qt,{container:!0,spacing:2,children:[w.jsx(qt,{item:!0,xs:12,md:6,children:w.jsx(yn,{label:"Email",fullWidth:!0,value:((U=m.contactInfo)==null?void 0:U.email)||"",onChange:ve=>M("email",ve.target.value)})}),w.jsx(qt,{item:!0,xs:12,md:6,children:w.jsx(yn,{label:"Phone",fullWidth:!0,value:((q=m.contactInfo)==null?void 0:q.phone)||"",onChange:ve=>M("phone",ve.target.value)})}),w.jsx(qt,{item:!0,xs:12,md:6,children:w.jsx(yn,{label:"Office",fullWidth:!0,value:((fe=m.contactInfo)==null?void 0:fe.office)||"",onChange:ve=>M("office",ve.target.value)})}),w.jsx(qt,{item:!0,xs:12,md:6,children:w.jsx(yn,{label:"Office Hours",fullWidth:!0,value:((ue=m.contactInfo)==null?void 0:ue.officeHours)||"",onChange:ve=>M("officeHours",ve.target.value)})}),w.jsx(qt,{item:!0,xs:12,children:w.jsx(yn,{label:"Website",fullWidth:!0,value:((de=m.contactInfo)==null?void 0:de.website)||"",onChange:ve=>M("website",ve.target.value)})})]})})]}),w.jsxs(Xd,{expanded:v==="textbooks",onChange:Y("textbooks"),children:[w.jsx(eh,{expandIcon:w.jsx(sd,{}),children:w.jsxs(Ne,{sx:{display:"flex",alignItems:"center",gap:1},children:[w.jsx(f$,{color:"primary"}),w.jsx(xe,{variant:"h6",children:"Textbooks & Resources"})]})}),w.jsxs(th,{children:[w.jsx(Ne,{sx:{mb:2},children:w.jsx(Ct,{startIcon:w.jsx(K0,{}),onClick:z,variant:"outlined",children:"Add Textbook"})}),(me=m.textbooks)==null?void 0:me.map((ve,Re)=>w.jsx(Ne,{sx:{mb:3,p:2,border:"1px solid #ddd",borderRadius:1},children:w.jsxs(qt,{container:!0,spacing:2,children:[w.jsx(qt,{item:!0,xs:12,children:w.jsx(yn,{label:"Title",fullWidth:!0,value:ve.title,onChange:Be=>G(Re,"title",Be.target.value)})}),w.jsx(qt,{item:!0,xs:12,md:4,children:w.jsx(yn,{label:"Author",fullWidth:!0,value:ve.author||"",onChange:Be=>G(Re,"author",Be.target.value)})}),w.jsx(qt,{item:!0,xs:12,md:4,children:w.jsx(yn,{label:"Edition",fullWidth:!0,value:ve.edition||"",onChange:Be=>G(Re,"edition",Be.target.value)})}),w.jsx(qt,{item:!0,xs:12,md:4,children:w.jsx(yn,{label:"ISBN",fullWidth:!0,value:ve.isbn||"",onChange:Be=>G(Re,"isbn",Be.target.value)})}),w.jsx(qt,{item:!0,xs:12,children:w.jsxs(Ne,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[w.jsx(sp,{control:w.jsx(ap,{checked:ve.required,onChange:Be=>G(Re,"required",Be.target.checked)}),label:"Required"}),w.jsx(Gn,{onClick:()=>J(Re),color:"error",children:w.jsx(Gg,{})})]})})]})},Re))]})]}),w.jsxs(Xd,{expanded:v==="grading",onChange:Y("grading"),children:[w.jsx(eh,{expandIcon:w.jsx(sd,{}),children:w.jsxs(Ne,{sx:{display:"flex",alignItems:"center",gap:1},children:[w.jsx(p$,{color:"primary"}),w.jsx(xe,{variant:"h6",children:"Grading Policy"})]})}),w.jsxs(th,{children:[w.jsx(Ne,{sx:{mb:2},children:w.jsx(Ct,{startIcon:w.jsx(K0,{}),onClick:H,variant:"outlined",children:"Add Grading Component"})}),(Me=m.gradingPolicy)==null?void 0:Me.map((ve,Re)=>w.jsx(Ne,{sx:{mb:2,p:2,border:"1px solid #ddd",borderRadius:1},children:w.jsxs(qt,{container:!0,spacing:2,children:[w.jsx(qt,{item:!0,xs:12,md:4,children:w.jsx(yn,{label:"Component",fullWidth:!0,value:ve.component,onChange:Be=>F(Re,"component",Be.target.value)})}),w.jsx(qt,{item:!0,xs:12,md:3,children:w.jsx(yn,{label:"Percentage",type:"number",fullWidth:!0,value:ve.percentage,onChange:Be=>F(Re,"percentage",parseInt(Be.target.value)||0),inputProps:{min:0,max:100}})}),w.jsx(qt,{item:!0,xs:12,md:4,children:w.jsx(yn,{label:"Description",fullWidth:!0,value:ve.description||"",onChange:Be=>F(Re,"description",Be.target.value)})}),w.jsx(qt,{item:!0,xs:12,md:1,children:w.jsx(Gn,{onClick:()=>Q(Re),color:"error",children:w.jsx(Gg,{})})})]})},Re))]})]}),w.jsxs(Xd,{expanded:v==="policies",onChange:Y("policies"),children:[w.jsx(eh,{expandIcon:w.jsx(sd,{}),children:w.jsxs(Ne,{sx:{display:"flex",alignItems:"center",gap:1},children:[w.jsx(m$,{color:"primary"}),w.jsx(xe,{variant:"h6",children:"Course Policies"})]})}),w.jsx(th,{children:w.jsx(qt,{container:!0,spacing:2,children:[{key:"attendance",label:"Attendance Policy"},{key:"lateWork",label:"Late Work Policy"},{key:"academicIntegrity",label:"Academic Integrity"},{key:"accommodations",label:"Accommodations"},{key:"communication",label:"Communication Policy"},{key:"safety",label:"Safety Policy"},{key:"groupWork",label:"Group Work Policy"},{key:"makeupPolicy",label:"Make-up Policy"}].map(({key:ve,label:Re})=>{var Be;return w.jsx(qt,{item:!0,xs:12,children:w.jsx(yn,{label:Re,multiline:!0,rows:3,fullWidth:!0,value:((Be=m.policies)==null?void 0:Be[ve])||"",onChange:Ue=>B(ve,Ue.target.value)})},ve)})})})]}),w.jsxs(Xd,{expanded:v==="lab",onChange:Y("lab"),children:[w.jsx(eh,{expandIcon:w.jsx(sd,{}),children:w.jsxs(Ne,{sx:{display:"flex",alignItems:"center",gap:1},children:[w.jsx(g$,{color:"primary"}),w.jsx(xe,{variant:"h6",children:"Laboratory Information"})]})}),w.jsx(th,{children:w.jsxs(qt,{container:!0,spacing:3,children:[w.jsxs(qt,{item:!0,xs:12,children:[w.jsx(xe,{variant:"subtitle2",sx:{mb:1},children:"Safety Requirements"}),w.jsx(Ne,{sx:{mb:2},children:w.jsx(Ct,{startIcon:w.jsx(K0,{}),onClick:()=>Z("labSpecific","safetyRequirements"),size:"small",variant:"outlined",children:"Add Safety Requirement"})}),(Ie=(ce=m.labSpecific)==null?void 0:ce.safetyRequirements)==null?void 0:Ie.map((ve,Re)=>w.jsxs(Ne,{sx:{display:"flex",gap:1,mb:1},children:[w.jsx(yn,{fullWidth:!0,size:"small",value:ve,onChange:Be=>ae("labSpecific","safetyRequirements",Re,Be.target.value),placeholder:"Safety requirement"}),w.jsx(Gn,{onClick:()=>X("labSpecific","safetyRequirements",Re),color:"error",size:"small",children:w.jsx(Gg,{})})]},Re))]}),w.jsxs(qt,{item:!0,xs:12,md:6,children:[w.jsx(xe,{variant:"subtitle2",sx:{mb:1},children:"Required Equipment"}),w.jsx(Ne,{sx:{mb:2},children:w.jsx(Ct,{startIcon:w.jsx(K0,{}),onClick:()=>Z("labSpecific","requiredEquipment"),size:"small",variant:"outlined",children:"Add Equipment"})}),(te=(re=m.labSpecific)==null?void 0:re.requiredEquipment)==null?void 0:te.map((ve,Re)=>w.jsxs(Ne,{sx:{display:"flex",gap:1,mb:1},children:[w.jsx(yn,{fullWidth:!0,size:"small",value:ve,onChange:Be=>ae("labSpecific","requiredEquipment",Re,Be.target.value),placeholder:"Equipment item"}),w.jsx(Gn,{onClick:()=>X("labSpecific","requiredEquipment",Re),color:"error",size:"small",children:w.jsx(Gg,{})})]},Re))]}),w.jsxs(qt,{item:!0,xs:12,md:6,children:[w.jsx(xe,{variant:"subtitle2",sx:{mb:1},children:"Dress Code"}),w.jsx(Ne,{sx:{mb:2},children:w.jsx(Ct,{startIcon:w.jsx(K0,{}),onClick:()=>Z("labSpecific","dresscode"),size:"small",variant:"outlined",children:"Add Dress Code Item"})}),(be=(ke=m.labSpecific)==null?void 0:ke.dresscode)==null?void 0:be.map((ve,Re)=>w.jsxs(Ne,{sx:{display:"flex",gap:1,mb:1},children:[w.jsx(yn,{fullWidth:!0,size:"small",value:ve,onChange:Be=>ae("labSpecific","dresscode",Re,Be.target.value),placeholder:"Dress code requirement"}),w.jsx(Gn,{onClick:()=>X("labSpecific","dresscode",Re),color:"error",size:"small",children:w.jsx(Gg,{})})]},Re))]})]})})]})]}),w.jsxs(ns,{children:[w.jsx(Ct,{onClick:E,children:"Cancel"}),w.jsx(Ct,{onClick:j,variant:"contained",disabled:a,children:a?"Saving...":"Save Changes"})]})]})]})},bte=async(t,i,n)=>{const o=Hm(),a=t.name.split(".").pop()||"txt",c=`${t.name.replace(/\.[^/.]+$/,"")}_${sl()}.${a}`,d=`syllabi/${i}/${c}`,p=nh(o,d);try{const m=await Nm(p,t),k=await lp(m.ref),v={originalFilename:t.name,fileSize:t.size,fileType:t.type||"application/octet-stream",uploadedAt:new Date,uploadedBy:i,courseId:n};return console.log(`Successfully uploaded syllabus file: ${c}`,{size:t.size,type:t.type,url:k}),{url:k,path:m.ref.fullPath,metadata:v}}catch(m){throw console.error("Failed to upload syllabus file:",m),new Error(`Failed to upload syllabus file: ${m instanceof Error?m.message:"Unknown error"}`)}},Wj=t=>{switch(t.toLowerCase()){case"application/pdf":return"PDF Document";case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return"Word Document";case"application/vnd.openxmlformats-officedocument.presentationml.presentation":return"PowerPoint Presentation";case"text/plain":return"Text File";default:return"Document"}},Gj=t=>{if(t===0)return"0 Bytes";const i=1024,n=["Bytes","KB","MB","GB"],o=Math.floor(Math.log(t)/Math.log(i));return parseFloat((t/Math.pow(i,o)).toFixed(2))+" "+n[o]},kte=({courseId:t})=>{const[i,n]=se.useState(null),[o,a]=se.useState(!0),[c,d]=se.useState(null),[p,m]=se.useState(!1),k=Nr();se.useEffect(()=>{t&&(async()=>{try{a(!0);const y=Vn(k,"courses",t),D=await Na(y);if(D.exists()){const E=D.data();n(E.syllabusFile||null)}else d("Course not found")}catch(y){console.error("Error fetching syllabus file:",y),d("Failed to load syllabus file information")}finally{a(!1)}})()},[t,k]);const v=()=>{i!=null&&i.url&&window.open(i.url,"_blank")},_=()=>{m(!0)};return o?w.jsx(Ne,{sx:{display:"flex",justifyContent:"center",p:2},children:w.jsx(ki,{size:24})}):c?w.jsx(Rr,{severity:"error",sx:{mb:2},children:c}):i?w.jsxs(hr,{sx:{p:3,mb:3,backgroundColor:"info.50"},children:[w.jsxs(xe,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[w.jsx(Bx,{color:"primary"}),"Original Syllabus Document"]}),w.jsxs(Ne,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[w.jsx(xe,{variant:"body1",sx:{flexGrow:1},children:w.jsx("strong",{children:i.metadata.originalFilename})}),w.jsxs(xe,{variant:"body2",color:"text.secondary",children:[Wj(i.metadata.fileType),"  ",Gj(i.metadata.fileSize)]})]}),w.jsxs(xe,{variant:"body2",color:"text.secondary",sx:{mb:2},children:["Uploaded: ",new Date(i.metadata.uploadedAt).toLocaleDateString()]}),w.jsxs(Ne,{sx:{display:"flex",gap:2},children:[w.jsx(Ct,{variant:"outlined",startIcon:w.jsx(H6,{}),onClick:_,size:"small",children:"View Details"}),w.jsx(Ct,{variant:"contained",startIcon:w.jsx(Ny,{}),onClick:v,size:"small",children:"Download"})]}),w.jsxs(Oo,{open:p,onClose:()=>m(!1),maxWidth:"sm",fullWidth:!0,children:[w.jsxs(ts,{sx:{display:"flex",alignItems:"center",gap:1},children:[w.jsx(Bx,{}),"Syllabus File Details"]}),w.jsx(Bo,{children:w.jsxs(Ne,{sx:{mb:2},children:[w.jsx(xe,{variant:"body2",color:"text.secondary",children:w.jsx("strong",{children:"Filename:"})}),w.jsx(xe,{variant:"body1",sx:{mb:2},children:i.metadata.originalFilename}),w.jsx(xe,{variant:"body2",color:"text.secondary",children:w.jsx("strong",{children:"File Type:"})}),w.jsx(xe,{variant:"body1",sx:{mb:2},children:Wj(i.metadata.fileType)}),w.jsx(xe,{variant:"body2",color:"text.secondary",children:w.jsx("strong",{children:"File Size:"})}),w.jsx(xe,{variant:"body1",sx:{mb:2},children:Gj(i.metadata.fileSize)}),w.jsx(xe,{variant:"body2",color:"text.secondary",children:w.jsx("strong",{children:"Uploaded:"})}),w.jsx(xe,{variant:"body1",sx:{mb:2},children:new Date(i.metadata.uploadedAt).toLocaleString()}),w.jsx(xe,{variant:"body2",color:"text.secondary",children:w.jsx("strong",{children:"Storage Path:"})}),w.jsx(xe,{variant:"body2",sx:{fontFamily:"monospace",backgroundColor:"grey.100",p:1,borderRadius:1},children:i.path})]})}),w.jsxs(ns,{children:[w.jsx(Ct,{onClick:()=>m(!1),children:"Close"}),w.jsx(Ct,{onClick:v,variant:"contained",startIcon:w.jsx(Ny,{}),children:"Download File"})]})]})]}):null},wte=({selectedCourse:t,onCourseDelete:i})=>{const[n,o]=se.useState(!1),a=Nr(),{refreshUserDetails:c}=ko(),d=()=>o(!0),p=()=>o(!1),m=async()=>{if(t)try{const k=W6(a),v=Vn(a,"courses",t);k.delete(v);const _=Zn(a,"users");(await so(_)).forEach(y=>{const D=Vn(a,"users",y.id),E=y.data().classes||{};E&&E[t]&&(delete E[t],k.update(D,{classes:E}))}),await k.commit(),await c(),i(),p()}catch(k){console.error("Error deleting course:",k)}};return w.jsxs(Ne,{sx:{mt:2},children:[w.jsx(Ct,{variant:"contained",onClick:d,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#F44336",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#D32F2F",transform:"scale(1.03)"}},children:"Delete Course"}),w.jsxs(Oo,{open:n,onClose:p,children:[w.jsx(ts,{children:"Confirm Delete"}),w.jsx(Bo,{children:w.jsx(bc,{children:"Are you sure you want to delete this course? This action cannot be undone."})}),w.jsxs(ns,{children:[w.jsx(Ct,{onClick:p,children:"Cancel"}),w.jsx(Ct,{onClick:m,variant:"contained",color:"error",children:"Delete"})]})]})]})},vte=({text:t,tooltipText:i="Click to Copy",successText:n="Copied!"})=>{const[o,a]=se.useState(!1),c=()=>{navigator.clipboard.writeText(t).then(()=>{a(!0),setTimeout(()=>a(!1),2e3)}).catch(d=>console.error("Could not copy text: ",d))};return w.jsx(fa,{title:o?n:i,enterDelay:300,leaveDelay:200,children:w.jsx(_r,{label:t,variant:"outlined",onClick:c,sx:{borderRadius:"15px",fontSize:"16px",fontWeight:"bold",background:"#e0f2f1",color:"#00695c",cursor:"pointer",transition:"background-color 0.3s",fontFamily:"Gabarito, sans-serif"}})})},yte=()=>{const{userDetails:t}=ko(),[i,n]=se.useState(""),[o,a]=se.useState([]),[c,d]=se.useState(null),[p,m]=se.useState(!1),[k,v]=se.useState(""),[_,x]=se.useState("success"),y=Nr();se.useEffect(()=>{(async()=>{if(t!=null&&t.isAdmin){const M=pc(Zn(y,"courses"),bo("courseAdmin","array-contains",t.uid)),z=(await so(M)).docs.map(G=>({id:G.id,number:G.data().number,title:G.data().title,passcode:G.data().passcode}));a(z)}})()},[y,t]);const D=j=>{const M=j.target.value;n(M);const B=o.find(z=>z.id===M);B?(d(B.passcode),v(`Passcode for course "${B.number} - ${B.title}" retrieved successfully.`),x("success"),m(!0)):(d(null),v("Course not found."),x("error"),m(!0))},E=()=>{m(!1)};return w.jsxs(Ne,{sx:{mt:4},children:[w.jsx(xe,{variant:"subtitle1",component:"h2",sx:{mb:2},children:"Retrieve Course Passcode"}),w.jsx(qt,{container:!0,spacing:2,sx:{maxWidth:"75%"},children:w.jsxs(qt,{item:!0,xs:12,sx:{display:"flex",alignItems:"center"},children:[w.jsx(yn,{select:!0,label:"Select Course Number",value:i,onChange:D,fullWidth:!0,sx:{mb:2,mr:2},children:o.map(j=>w.jsx($r,{value:j.id,children:`${j.number} - ${j.title}`},j.id))}),c&&w.jsxs(Ne,{sx:{display:"flex",alignItems:"center",ml:2},children:[w.jsx(xe,{variant:"body1",sx:{mr:1},children:"Passcode:"}),w.jsx(vte,{text:`${c}`})]})]})}),w.jsx(Nl,{open:p,autoHideDuration:6e3,onClose:E,children:w.jsx(Rr,{onClose:E,severity:_,sx:{width:"100%"},children:k})})]})},Ate=()=>{const{userDetails:t}=ko(),[i,n]=se.useState([]),[o,a]=se.useState(""),[c,d]=se.useState(!1),[p,m]=se.useState(!1),[k,v]=se.useState(!1),_=Nr(),x=ao(),D=t!=null&&t.classes?Object.entries(t.classes).filter(([G,J])=>J.isCourseAdmin).reduce((G,[J,H])=>({...G,[J]:H}),{}):{};se.useEffect(()=>{D[o]||a(Object.keys(D)[0]||"")},[D,o]),se.useEffect(()=>{(async()=>{if(o)try{const J=pc(Zn(_,"users"),bo("isAdmin","==",!1)),Q=(await so(J)).docs.map(Z=>({uid:Z.id,...Z.data()})).filter(Z=>Z.classes&&Z.classes[o]);n(Q)}catch(J){console.error("Error fetching students:",J)}})()},[o,_]);const E=G=>{a(G)},j=()=>{x("/request-new-course")},M=D[o],B=M?`${M.number} - ${M.title}`:"",z=!!(o&&M);return w.jsxs(Ne,{className:"profile-container",sx:{p:4},children:[w.jsx(Ne,{sx:{display:"flex",alignItems:"center",mb:2},children:w.jsx(Ct,{variant:"text",onClick:()=>x("/"),className:"profile-button",children:" Home Page"})}),w.jsx(xe,{className:"webpage_title",sx:{mb:2},children:"Course Management"}),w.jsxs(Ne,{sx:{mb:4,p:3,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[w.jsx(xe,{variant:"h6",sx:{fontFamily:"Staatliches, sans-serif",mb:2,color:"#0B53C0"},children:"Select a Course"}),Object.keys(D).length>0?w.jsx(pte,{userClasses:D,selectedCourse:o,onCourseChange:E}):w.jsx(xe,{variant:"body1",sx:{color:"#9E9E9E"},children:"No courses available for selection."})]}),w.jsx(Ne,{children:z&&w.jsxs(w.Fragment,{children:[w.jsx(kte,{courseId:o}),w.jsxs(Ne,{sx:{flex:2,display:"flex",justifyContent:"flex-end",gap:2},children:[w.jsx(mte,{selectedCourse:o,selectedCourseDetails:M,onCourseUpdate:()=>{}}),w.jsx(gte,{selectedCourse:o,onInfoUpdate:()=>{}}),w.jsx(wte,{selectedCourse:o,onCourseDelete:()=>a("")})]})]})}),z&&w.jsxs(hr,{elevation:3,sx:{p:3,mb:4,borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)",backgroundColor:"#F9FAFB"},children:[w.jsx(xe,{variant:"h6",component:"h2",sx:{fontFamily:"Staatliches, sans-serif",fontWeight:"bold",mb:2,color:"#0B53C0"},children:"Students Enrolled in a Course"}),i.length===0?w.jsxs(xe,{sx:{color:"#757575",textAlign:"center",p:3},children:["No students are currently enrolled in ",w.jsx("strong",{children:B}),"."]}):w.jsxs(w.Fragment,{children:[w.jsx(sh,{component:hr,children:w.jsxs(ah,{children:[w.jsx(lh,{children:w.jsxs(Lo,{children:[w.jsx(St,{sx:{fontWeight:"bold"},children:"User ID"}),w.jsx(St,{sx:{fontWeight:"bold"},children:"Last Login"})]})}),w.jsx(ch,{children:i.map(G=>w.jsxs(Lo,{children:[w.jsx(St,{children:G.uid}),w.jsx(St,{children:Em(G.lastLogin)})]},G.uid))})]})}),w.jsx(fte,{students:i,selectedCourse:o})]}),i.length>0&&w.jsxs(hr,{sx:{mt:4,p:3,borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[w.jsx(sp,{control:w.jsx(ap,{checked:k,onChange:()=>v(G=>!G)}),label:"Remove Student(s) from the Course"}),k&&w.jsx(hte,{selectedCourse:o,selectedCourseDetails:M,onStudentChange:()=>{}})]})]}),w.jsxs(Ne,{sx:{display:"flex",gap:4,mb:4},children:[w.jsxs(Ne,{sx:{p:3,flex:1,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[w.jsx(sp,{control:w.jsx(ap,{checked:p,onChange:()=>m(G=>!G)}),label:"Retrieve Course Passcode"}),p&&w.jsx(Ne,{sx:{mt:2},children:w.jsx(yte,{})})]}),w.jsxs(Ne,{sx:{p:3,flex:1,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[w.jsx(sp,{control:w.jsx(ap,{checked:c,onChange:()=>d(G=>!G)}),label:"Request Creating a New Course"}),c&&w.jsx(Ne,{sx:{mt:2},children:w.jsx(Ct,{variant:"contained",onClick:j,sx:{backgroundColor:"#4CAF50",color:"#FFFFFF",fontFamily:"Staatliches, sans-serif",textTransform:"none","&:hover":{backgroundColor:"#388E3C"}},children:"Request New Course"})})]})]})]})};class _te{constructor(i){Jt(this,"genAI");Jt(this,"model");this.genAI=new IP(i),this.model=this.genAI.getGenerativeModel({model:"gemini-1.5-pro",generationConfig:{temperature:.1,topK:1,topP:.8,maxOutputTokens:16384}})}async processSyllabusText(i,n,o){return i.length>3e4?(console.log("Large document detected, using chunked processing"),this.processLargeDocument(i,n,o)):this.processSingleDocument(i,n,o)}async processSingleDocument(i,n,o){const a=this.buildSyllabusAnalysisPrompt(i,n);try{const p=(await(await this.model.generateContent(a)).response).text();if(!p||p.trim().length===0)throw new Error("Empty response from AI service");const m=p.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();let k;try{k=JSON.parse(m)}catch(v){throw console.error("JSON parsing failed:",v),console.error("Raw response text:",p),console.error("Cleaned text:",m),new Error("AI response format invalid - unable to parse JSON")}if(!k||typeof k!="object")throw new Error("AI response is not a valid object");return k.courseInfo||(console.warn("Missing courseInfo in AI response, using defaults"),k.courseInfo={}),this.validateAndSanitizeResponse(k)}catch(c){if(console.error("Gemini API Error:",c),c instanceof Error){if(c.message.includes("AI response")||c.message.includes("JSON parsing"))throw c;if(c.message.includes("API key"))throw new Error("Invalid or missing Gemini API key. Please check your environment configuration.");if(c.message.includes("quota")||c.message.includes("rate limit"))throw new Error("API rate limit exceeded. Please try again later.")}throw new Error(`Failed to process syllabus with AI: ${c instanceof Error?c.message:"Unknown error"}`)}}async processLargeDocument(i,n,o){const c=this.chunkText(i,35e3);console.log(`Processing ${c.length} chunks for large document`);const d=await this.processSingleDocument(c[0],n,o),p=await Promise.allSettled(c.slice(1).map(m=>this.processChunkForDetails(m,n)));return this.mergeChunkedResults(d,p)}chunkText(i,n){const o=[],a=i.split(`
`);let c="";const d=["schedule","session","unit","week","topic","assignment","objective","learning outcome","reading","textbook","prerequisite"];for(let p=0;p<a.length;p++){const m=a[p],k=a[p+1]||"",v=d.some(_=>m.toLowerCase().includes(_)||k.toLowerCase().includes(_));c.length+m.length>n&&c.length>0&&(v||c.length>n*.8)?(o.push(c.trim()),c=m):c+=`
`+m}return c.trim()&&o.push(c.trim()),o}async processChunkForDetails(i,n){const o=`
Extract additional course details from this syllabus section. Focus heavily on:
- ALL schedule items, sessions, units, weeks, and topics
- Session numbers, titles, and descriptions
- Learning outcomes for each session
- Reading assignments and resources
- Assignment details and due dates
- Any additional objectives or policies

IMPORTANT: Extract ALL schedule/session information - do not limit the number of items.
Convert session numbers to week numbers (Session 1 = Week 1, etc.).

Return JSON with only the fields you can extract from this section:
${i}
`;try{const p=(await(await this.model.generateContent(o)).response).text().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();return JSON.parse(p)}catch(a){return console.warn("Failed to process chunk:",a),{}}}mergeChunkedResults(i,n){const o={...i};return n.forEach(a=>{if(a.status==="fulfilled"&&a.value){const c=a.value;if(c.learningObjectives&&(o.learningObjectives=[...o.learningObjectives,...c.learningObjectives]),c.schedule){const d=new Set(o.schedule.map(m=>`${m.week}-${m.topic}`)),p=c.schedule.filter(m=>!d.has(`${m.week}-${m.topic}`));o.schedule=[...o.schedule,...p]}c.assignments&&(o.assignments=[...o.assignments,...c.assignments]),c.prerequisites&&(o.prerequisites=[...o.prerequisites,...c.prerequisites]),c.contactInfo&&(o.contactInfo={...o.contactInfo,...c.contactInfo}),c.policies&&(o.policies={...o.policies,...c.policies}),c.additionalResources&&(o.additionalResources={...o.additionalResources,...c.additionalResources})}}),o.learningObjectives=[...new Set(o.learningObjectives)],o.prerequisites=[...new Set(o.prerequisites)],o.schedule=o.schedule.sort((a,c)=>a.week-c.week),o}buildSyllabusAnalysisPrompt(i,n){return`
You are an expert educational content analyzer. Analyze the following course syllabus and extract structured information in JSON format.

IMPORTANT INSTRUCTIONS:
1. Return ONLY valid JSON - no markdown, no explanations, no additional text
2. If information is not available, use null or empty arrays/objects
3. Be thorough but accurate - don't invent information
4. For percentages in grading, ensure they are numbers (not strings)
5. For week numbers, ensure they are integers
6. Extract all learning objectives, even if they're not numbered
7. Look for course schedules in various formats (weekly, by date, by topic, by session/unit)
8. IMPORTANT: Extract ALL schedule items, sessions, units, and topics - do not limit to just a few weeks
9. For session-based schedules, convert sessions to week numbers (e.g., Session 1 = Week 1)
10. LABORATORY COURSES: Pay special attention to safety requirements, lab equipment, dress codes, group work policies, and experiment-based schedules
11. Identify course type: determine if this is a lecture, lab, seminar, or hybrid course based on content

Required JSON structure:
{
  "courseInfo": {
    "title": "string",
    "number": "string (e.g., CS 350, BIOL 301, CHEM 315)",
    "description": "string",
    "instructor": "string or null",
    "department": "string or null",
    "institution": "string or null",
    "credits": "number or null",
    "meetingTimes": "string or null (include lab times if applicable)",
    "semester": "string or null",
    "year": "string or null",
    "courseType": "lecture|lab|seminar|hybrid",
    "location": "string or null (lab room, classroom, etc.)"
  },
  "learningObjectives": [
    "string (each objective as separate item)"
  ],
  "schedule": [
    {
      "week": "number",
      "topic": "string",
      "description": "string or null",
      "readings": ["string"] or null,
      "assignments": ["string"] or null,
      "dueDate": "string or null",
      "notes": "string or null",
      "experimentType": "string or null (for lab courses)",
      "equipmentNeeded": ["string"] or null
    }
  ],
  "prerequisites": [
    "string (each prerequisite course/requirement)"
  ],
  "textbooks": [
    {
      "title": "string",
      "author": "string or null",
      "edition": "string or null",
      "isbn": "string or null",
      "required": "boolean"
    }
  ],
  "gradingPolicy": [
    {
      "component": "string (e.g., Exams, Homework, Projects)",
      "percentage": "number (e.g., 40, not '40%')",
      "description": "string or null"
    }
  ],
  "assignments": [
    {
      "name": "string",
      "description": "string",
      "type": "string (exam|project|homework|quiz|presentation|lab_report|lab_practical)",
      "dueDate": "string or null",
      "points": "number or null",
      "weight": "number or null (for weighted assignments)"
    }
  ],
  "policies": {
    "attendance": "string or null",
    "lateWork": "string or null",
    "academicIntegrity": "string or null",
    "accommodations": "string or null",
    "communication": "string or null",
    "safety": "string or null (lab safety requirements)",
    "groupWork": "string or null (partner/group work policies)",
    "makeupPolicy": "string or null (make-up lab/exam policies)"
  },
  "contactInfo": {
    "email": "string or null",
    "phone": "string or null",
    "office": "string or null",
    "officeHours": "string or null",
    "website": "string or null"
  },
  "additionalResources": {
    "software": ["string"] or null,
    "equipment": ["string"] or null,
    "websites": ["string"] or null,
    "tutoring": "string or null",
    "learningPlatform": "string or null (Moodle, Blackboard, etc.)"
  },
  "labSpecific": {
    "safetyRequirements": ["string"] or null,
    "requiredEquipment": ["string"] or null,
    "dresscode": ["string"] or null,
    "notebookRequirements": "string or null",
    "groupWorkStructure": "string or null",
    "makeupPolicy": "string or null"
  }
}

${n?`File name: ${n}`:""}

Syllabus content to analyze:
${i}
`}validateAndSanitizeResponse(i){var o,a,c,d,p,m,k,v,_,x,y,D,E,j;const n={courseInfo:{title:"Course Title",number:"COURSE 101",description:"Course description not available"},learningObjectives:[],schedule:[],prerequisites:[],textbooks:[],gradingPolicy:[],assignments:[],policies:{},contactInfo:{},additionalResources:{}};try{return{courseInfo:{...n.courseInfo,...i.courseInfo},learningObjectives:Array.isArray(i.learningObjectives)?i.learningObjectives:[],schedule:Array.isArray(i.schedule)?i.schedule.map((B,z)=>({week:typeof B.week=="number"?B.week:z+1,topic:B.topic||`Week ${z+1} Topic`,description:B.description||null,readings:Array.isArray(B.readings)?B.readings:null,assignments:Array.isArray(B.assignments)?B.assignments:null,dueDate:B.dueDate||null,notes:B.notes||null})):[],prerequisites:Array.isArray(i.prerequisites)?i.prerequisites:[],textbooks:Array.isArray(i.textbooks)?i.textbooks.map(B=>({title:B.title||"Unknown Textbook",author:B.author||null,edition:B.edition||null,isbn:B.isbn||null,required:typeof B.required=="boolean"?B.required:!0})):[],gradingPolicy:Array.isArray(i.gradingPolicy)?i.gradingPolicy.map(B=>({component:B.component||"Unknown Component",percentage:typeof B.percentage=="number"?B.percentage:0,description:B.description||null})):[],assignments:Array.isArray(i.assignments)?i.assignments.map(B=>({name:B.name||"Assignment",description:B.description||"",type:B.type||"homework",dueDate:B.dueDate||null,points:typeof B.points=="number"?B.points:null})):[],policies:{attendance:((o=i.policies)==null?void 0:o.attendance)||null,lateWork:((a=i.policies)==null?void 0:a.lateWork)||null,academicIntegrity:((c=i.policies)==null?void 0:c.academicIntegrity)||null,accommodations:((d=i.policies)==null?void 0:d.accommodations)||null,communication:((p=i.policies)==null?void 0:p.communication)||null},contactInfo:{email:((m=i.contactInfo)==null?void 0:m.email)||null,phone:((k=i.contactInfo)==null?void 0:k.phone)||null,office:((v=i.contactInfo)==null?void 0:v.office)||null,officeHours:((_=i.contactInfo)==null?void 0:_.officeHours)||null,website:((x=i.contactInfo)==null?void 0:x.website)||null},additionalResources:{software:Array.isArray((y=i.additionalResources)==null?void 0:y.software)?i.additionalResources.software:null,equipment:Array.isArray((D=i.additionalResources)==null?void 0:D.equipment)?i.additionalResources.equipment:null,websites:Array.isArray((E=i.additionalResources)==null?void 0:E.websites)?i.additionalResources.websites:null,tutoring:((j=i.additionalResources)==null?void 0:j.tutoring)||null}}}catch(M){return console.error("Error validating AI response:",M),n}}async generateCourseMaterials(i,n){const o=`
Based on the following course information, generate detailed course materials in JSON format.

CRITICAL REQUIREMENTS:
1. Return ONLY valid JSON - absolutely NO explanatory text, comments, or additional content
2. Do not add any text before or after the JSON array
3. Do not include comments like "// ..." in the JSON
4. Generate materials for ALL available weeks/sessions from the course information

Create materials for:
1. Course Overview (with detailed description, objectives, and policies)  
2. Weekly/session materials for ALL weeks found in the schedule
3. Assignment descriptions where applicable

Course Information:
${JSON.stringify(i,null,2)}

Generate materials for ${(n==null?void 0:n.includeWeeks)||i.schedule.length} weeks/sessions.

Return ONLY a JSON array of materials with this structure:
[
  {
    "id": "unique-id",
    "title": "Material Title",
    "type": "overview|weekly|assignment|resource",
    "header": {"title": "string", "content": "string"},
    "sections": [
      {
        "id": "section-id",
        "title": "Section Title",
        "content": "HTML formatted content",
        "subsections": [
          {
            "id": "subsection-id",
            "title": "Subsection Title",
            "content": "HTML formatted content"
          }
        ]
      }
    ],
    "footer": {"title": "string", "content": "string"},
    "published": false,
    "scheduledTimestamp": "ISO date string or null"
  }
]
`;try{const d=(await(await this.model.generateContent(o)).response).text();if(!d||d.trim().length===0)return console.warn("Empty response from AI service for material generation"),[];let p=d.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();const m=p.lastIndexOf("]");m!==-1&&(p=p.substring(0,m+1));let k;try{k=JSON.parse(p)}catch(v){return console.error("JSON parsing failed for material generation:",v),console.error("Raw response text:",d),console.error("Cleaned text:",p),console.warn("Falling back to empty materials array"),[]}return Array.isArray(k)?k:(console.warn("AI response is not an array, wrapping in array:",k),k?[k]:[])}catch(a){return console.error("Error generating materials:",a),[]}}}let tx=null;const Yj=t=>{const i="AIzaSyDYgUVJwspUzRfZEhGCUAdLR66lNmM79A8";if(!tx&&i&&(tx=new _te(i)),!tx)throw new Error("Gemini service not initialized. Please configure VITE_GEMINI_API_KEY environment variable.");return tx},Ug=()=>Math.random().toString(36).substr(2,9),Cte=t=>t.length?`<ul>${t.map(n=>`<li>${n}</li>`).join("")}</ul>`:"<p>No objectives specified</p>",xte=t=>t.length?`<ul>${t.map(n=>`<li>${n}</li>`).join("")}</ul>`:"<p>No readings assigned</p>",vb=gb()(Ak(b5((t,i)=>({uploadedFile:null,uploadProgress:0,extractedText:"",extractionMetadata:null,storedSyllabusFile:null,aiExtractedInfo:null,useAIProcessing:!0,parsedCourseInfo:null,generatedMaterials:[],currentStep:"upload",isProcessing:!1,error:null,processingProgress:null,setUploadedFile:n=>t({uploadedFile:n}),setUploadProgress:n=>t({uploadProgress:n}),setExtractedText:n=>t({extractedText:n}),setStoredSyllabusFile:n=>t({storedSyllabusFile:n}),setAIExtractedInfo:n=>t({aiExtractedInfo:n}),setUseAIProcessing:n=>t({useAIProcessing:n}),setParsedCourseInfo:n=>t({parsedCourseInfo:n}),setGeneratedMaterials:n=>t({generatedMaterials:n}),setCurrentStep:n=>t({currentStep:n}),setIsProcessing:n=>t({isProcessing:n}),setError:n=>t({error:n}),setProcessingProgress:n=>t({processingProgress:n}),uploadSyllabus:async(n,o)=>{const a=NP(n);if(!a.isValid){t({error:a.error,currentStep:"upload"});return}const c=HG(n);t({uploadedFile:n,uploadProgress:0,error:null,extractionMetadata:{fileName:n.name,fileSize:n.size,fileType:jP(n),estimatedProcessingTime:c},processingProgress:{stage:"uploading",percentage:0,currentOperation:"Preparing file for processing..."}});try{for(let d=0;d<=100;d+=20)t({uploadProgress:d,processingProgress:{stage:"uploading",percentage:d,currentOperation:d===100?"Upload complete, starting text extraction...":`Uploading file... ${d}%`}}),await new Promise(p=>setTimeout(p,100));if(t({currentStep:"processing",isProcessing:!0,processingProgress:{stage:"extracting",percentage:0,currentOperation:"Extracting text from document..."}}),await i().extractTextFromFile(),o)try{t({processingProgress:{stage:"uploading",percentage:90,currentOperation:"Storing syllabus file..."}});const d=await bte(n,o);t({storedSyllabusFile:d}),console.log("Syllabus file stored successfully:",d.url)}catch(d){console.warn("Failed to store syllabus file, continuing with processing:",d)}t({processingProgress:{stage:"analyzing",percentage:0,currentOperation:i().useAIProcessing?"Analyzing syllabus with AI...":"Parsing syllabus content..."}}),await i().parseSyllabus()}catch(d){t({error:d instanceof Error?d.message:"Failed to upload file",currentStep:"upload"})}},extractTextFromFile:async()=>{const{uploadedFile:n}=i();if(!n){t({error:"No file uploaded"});return}t({isProcessing:!0,error:null});try{const o=await MP(n);t({extractedText:o.text,extractionMetadata:{...i().extractionMetadata,...o.metadata},isProcessing:!1})}catch(o){t({error:o.message||"Failed to extract text from file",isProcessing:!1})}},parseSyllabus:async()=>{const{extractedText:n,uploadedFile:o,useAIProcessing:a}=i();if(!n){t({error:"No text to parse"});return}t({isProcessing:!0,error:null});try{let c;if(a)try{t({processingProgress:{stage:"analyzing",percentage:25,currentOperation:"Sending syllabus to AI for analysis..."}});const p=await Yj().processSyllabusText(n,o==null?void 0:o.name);t({processingProgress:{stage:"analyzing",percentage:75,currentOperation:"Processing AI analysis results..."}}),t({aiExtractedInfo:p}),c={suggestedTitle:p.courseInfo.title||"Course Title",suggestedNumber:p.courseInfo.number||"COURSE 101",suggestedDescription:p.courseInfo.description||"Course description not available",objectives:p.learningObjectives.length>0?p.learningObjectives:["Students will understand key concepts","Students will develop practical skills","Students will apply knowledge to real-world scenarios"],schedule:p.schedule.map(m=>({week:m.week,topic:m.topic,description:m.description,readings:m.readings||[],assignments:m.assignments||[],date:m.dueDate?new Date(m.dueDate):void 0})),prerequisites:p.prerequisites,textbook:p.textbooks.length>0?p.textbooks[0].title:"",grading:p.gradingPolicy.map(m=>`${m.component}: ${m.percentage}%`).join(", "),instructor:p.courseInfo.instructor,department:p.courseInfo.department,institution:p.courseInfo.institution,credits:p.courseInfo.credits,semester:p.courseInfo.semester,year:p.courseInfo.year,contactInfo:p.contactInfo,policies:p.policies,textbooks:p.textbooks,gradingComponents:p.gradingPolicy,assignments:p.assignments}}catch(d){console.warn("AI processing failed, falling back to pattern-based parsing:",d),c=await i().fallbackParsing(n)}else c=await i().fallbackParsing(n);t({parsedCourseInfo:c}),t({processingProgress:{stage:"generating",percentage:0,currentOperation:"Generating course materials..."}}),await i().generateMaterials()}catch(c){t({error:c instanceof Error?c.message:"Failed to parse syllabus",isProcessing:!1})}},fallbackParsing:async n=>{var _,x;const o=n.split(`
`).filter(y=>y.trim()),a=o.find(y=>{const D=y.toLowerCase();return(D.includes("course")||D.includes("class"))&&(D.includes("title")||D.includes("name")||y.includes(":"))}),c=o.find(y=>{const D=y.toLowerCase();return D.includes("description")||D.includes("overview")||D.includes("about this course")}),d=o.find(y=>/[A-Z]{2,4}\s*\d{3,4}/.test(y)||y.toLowerCase().includes("course number")),p=o.findIndex(y=>{const D=y.toLowerCase();return D.includes("objective")||D.includes("learning outcome")||D.includes("goals")||D.includes("by the end of this course")}),m=[];if(p!==-1)for(let y=p+1;y<o.length&&y<p+15;y++){const D=o[y].trim();D&&(D.startsWith("-")||D.startsWith("")||D.match(/^\d+\./)||D.startsWith("*"))?m.push(D.replace(/^[-\d.*]\s*/,"")):D&&m.length===0&&m.push(D)}const k=[];for(let y=1;y<=16;y++){const D=new RegExp(`week\\s*${y}|${y}\\s*week`,"i"),E=o.find(j=>D.test(j));if(E){const j=E.replace(/week\s*\d+:?\s*/i,"").trim()||`Week ${y} Topic`;k.push({week:y,topic:j,description:`Content and activities for week ${y}`,readings:[],assignments:[]})}else k.push({week:y,topic:`Week ${y} Topic`,description:`Content for week ${y}`,readings:[],assignments:[]})}let v="COURSE 101";if(d){const y=d.match(/[A-Z]{2,4}\s*\d{3,4}/);y&&(v=y[0])}return{suggestedTitle:a&&((_=a.split(":").slice(-1)[0])==null?void 0:_.trim())||"Course Title",suggestedNumber:v,suggestedDescription:c&&((x=c.split(":").slice(-1)[0])==null?void 0:x.trim())||n.substring(0,300)+"...",objectives:m.length>0?m:["Students will understand key concepts","Students will develop practical skills","Students will apply knowledge to real-world scenarios"],schedule:k.slice(0,15),prerequisites:[],textbook:"",grading:""}},generateMaterials:async()=>{const{parsedCourseInfo:n,aiExtractedInfo:o,useAIProcessing:a}=i();if(!n){t({error:"No parsed course info available"});return}t({isProcessing:!0,error:null});try{let c=[];if(a&&o)try{const p=await Yj().generateCourseMaterials(o,{includeWeeks:o.schedule.length,materialTypes:["overview","weekly","assignment"]});p&&p.length>0?c=p.map(m=>({id:m.id||Ug(),title:m.title||"Generated Material",header:m.header||{title:"Header",content:`<p>${m.title||"Material"}</p>`},footer:m.footer||{title:"Footer",content:"<p>Contact instructor for questions</p>"},sections:m.sections||[],published:m.published||!1,scheduledTimestamp:m.scheduledTimestamp?new Date(m.scheduledTimestamp):void 0})):(console.warn("AI material generation returned empty results, using fallback"),c=i().generateFallbackMaterials(n))}catch(d){console.warn("AI material generation failed, using fallback:",d),c=i().generateFallbackMaterials(n)}else c=i().generateFallbackMaterials(n);t({generatedMaterials:c,isProcessing:!1,currentStep:"review",processingProgress:{stage:"complete",percentage:100,currentOperation:"Processing complete! Review your course materials below."}})}catch(c){t({error:c instanceof Error?c.message:"Failed to generate materials",isProcessing:!1})}},generateFallbackMaterials:n=>{const o=[];return o.push({id:Ug(),title:`${n.suggestedNumber} - Course Overview`,header:{title:"Course Overview",content:`<p>${n.suggestedTitle}</p>`},footer:{title:"Footer",content:"<p>Contact instructor for questions</p>"},sections:[{id:Ug(),title:"Course Description",content:`<p>${n.suggestedDescription}</p>`,subsections:[],images:[],links:[]},{id:Ug(),title:"Learning Objectives",content:Cte(n.objectives),subsections:[],images:[],links:[]}],published:!1}),n.schedule.slice(0,6).forEach(a=>{o.push({id:Ug(),title:`Week ${a.week}: ${a.topic}`,header:{title:`Week ${a.week}`,content:`<p>${a.topic}</p>`},footer:{title:"Footer",content:"<p>Review materials before next class</p>"},sections:[{id:Ug(),title:"Overview",content:`<p>${a.description||`Topics and activities for week ${a.week}`}</p>`,subsections:a.readings&&a.readings.length>0?[{id:Ug(),title:"Required Readings",content:xte(a.readings),subSubsections:[],images:[],links:[]}]:[],images:[],links:[]}],published:!1,scheduledTimestamp:a.date})}),o},editMaterial:(n,o)=>{const{generatedMaterials:a}=i(),c=[...a];c[n]={...c[n],...o},t({generatedMaterials:c})},editCourseInfo:n=>{const{parsedCourseInfo:o}=i();o&&t({parsedCourseInfo:{...o,...n}})},reset:()=>t({uploadedFile:null,uploadProgress:0,extractedText:"",extractionMetadata:null,storedSyllabusFile:null,aiExtractedInfo:null,useAIProcessing:!0,parsedCourseInfo:null,generatedMaterials:[],currentStep:"upload",isProcessing:!1,error:null,processingProgress:null})}),{name:"syllabus-store",partialize:t=>({extractedText:t.extractedText,extractionMetadata:t.extractionMetadata,storedSyllabusFile:t.storedSyllabusFile,aiExtractedInfo:t.aiExtractedInfo,useAIProcessing:t.useAIProcessing,parsedCourseInfo:t.parsedCourseInfo,generatedMaterials:t.generatedMaterials,currentStep:t.currentStep})}))),Kv={BASE_URL:"/nexlab/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_KEY:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",VITE_APP_ID:"1:922352392986:web:6c4d6e16b5e615bd4daaa3",VITE_AUTH_DOMAIN:"nexlab-prod.firebaseapp.com",VITE_CHATBOT_DEFAULT_ID:"ce5f7921-a3a0-4ea7-b95f-10fe41becda5",VITE_DEPLOY_ENV:"github",VITE_GEMINI_API_KEY:"AIzaSyDYgUVJwspUzRfZEhGCUAdLR66lNmM79A8",VITE_GEMINI_MATERIAL_API_KEY:"AIzaSyAcb1QNEdevZFSay3ZaT9MB7xQq6f0dMh0",VITE_GOOGLE_ANALYTICS_ID:"G-X2SBY2YQ4V",VITE_MESSAGING_SENDER_ID:"922352392986",VITE_PROJECT_ID:"nexlab-prod",VITE_PUBLIC_COURSE_ID:"rqoyheM9Lf8jGftIoZyT",VITE_STORAGE_BUCKET:"nexlab-prod.firebasestorage.app"},Qv={GEMINI_API_KEY:"VITE_GEMINI_API_KEY",ENABLE_AI_PROCESSING:"VITE_ENABLE_AI_PROCESSING",MAX_RETRIES:"VITE_AI_MAX_RETRIES",TIMEOUT:"VITE_AI_TIMEOUT",FALLBACK_TO_PATTERN:"VITE_AI_FALLBACK_TO_PATTERN"},Ste=()=>({geminiApiKey:Kv[Qv.GEMINI_API_KEY],enableAIProcessing:Kv[Qv.ENABLE_AI_PROCESSING]!=="false",maxRetries:parseInt(Kv[Qv.MAX_RETRIES]||"3",10),timeout:parseInt(Kv[Qv.TIMEOUT]||"30000",10),fallbackToPatternParsing:Kv[Qv.FALLBACK_TO_PATTERN]!=="false"}),lR=t=>{const i=[];return t.enableAIProcessing&&!t.geminiApiKey&&i.push("Gemini API key is required when AI processing is enabled"),(t.maxRetries<0||t.maxRetries>10)&&i.push("Max retries must be between 0 and 10"),(t.timeout<1e3||t.timeout>12e4)&&i.push("Timeout must be between 1 second and 2 minutes"),{isValid:i.length===0,errors:i}},cR=()=>{const t=Ste(),i=lR(t);return{config:t,...i}},Kj=({onUploadComplete:t,apiKey:i,educatorUid:n})=>{const{uploadedFile:o,uploadProgress:a,error:c,isProcessing:d,useAIProcessing:p,processingProgress:m,uploadSyllabus:k,setUploadedFile:v,setError:_}=vb(),[x,y]=se.useState(!1),D=se.useMemo(()=>["text/plain","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],[]),E=se.useMemo(()=>[".txt",".pdf",".docx"],[]),j=se.useCallback(async Q=>{const ae=(X=>{if(!D.includes(X.type))return`Unsupported file type. Please upload ${E.join(", ")} files.`;const Y=10*1024*1024;return X.size>Y?"File size too large. Please upload files smaller than 10MB.":null})(Q);if(ae){_(ae);return}try{await k(Q,n),t==null||t(Q)}catch(X){console.error("Upload error:",X)}},[k,t,_,D,E,i,n]),M=se.useCallback(Q=>{Q.preventDefault(),y(!1);const Z=Array.from(Q.dataTransfer.files);Z.length>0&&j(Z[0])},[j]),B=se.useCallback(Q=>{Q.preventDefault(),y(!0)},[]),z=se.useCallback(Q=>{Q.preventDefault(),y(!1)},[]),G=se.useCallback(Q=>{const Z=Q.target.files;Z&&Z.length>0&&j(Z[0]),Q.target.value=""},[j]),J=se.useCallback(()=>{v(null),_(null)},[v,_]),H=Q=>{if(Q===0)return"0 Bytes";const Z=1024,ae=["Bytes","KB","MB","GB"],X=Math.floor(Math.log(Q)/Math.log(Z));return parseFloat((Q/Math.pow(Z,X)).toFixed(2))+" "+ae[X]},F=()=>w.jsx(k$,{color:"primary"});return w.jsxs(Ne,{sx:{width:"100%",maxWidth:600,mx:"auto"},children:[!o&&w.jsxs(hr,{sx:{p:4,border:"2px dashed",borderColor:x?"primary.main":"grey.300",backgroundColor:x?"primary.50":"background.paper",cursor:"pointer",transition:"all 0.3s ease",textAlign:"center","&:hover":{borderColor:"primary.main",backgroundColor:"primary.50"}},onDragOver:B,onDragLeave:z,onDrop:M,onClick:()=>{var Q;return(Q=document.getElementById("syllabus-file-input"))==null?void 0:Q.click()},children:[w.jsx(b$,{sx:{fontSize:48,color:x?"primary.main":"grey.400",mb:2}}),w.jsx(xe,{variant:"h6",gutterBottom:!0,children:"Upload Your Syllabus"}),w.jsx(xe,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Drag and drop your syllabus file here, or click to browse"}),w.jsx(Ne,{sx:{display:"flex",flexWrap:"wrap",gap:1,justifyContent:"center"},children:E.map(Q=>w.jsx(_r,{label:Q.toUpperCase(),size:"small",variant:"outlined",color:"primary"},Q))}),w.jsx(xe,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:"Maximum file size: 10MB"}),w.jsx("input",{id:"syllabus-file-input",type:"file",accept:D.join(","),onChange:G,style:{display:"none"}})]}),o&&w.jsxs(hr,{sx:{p:3,mb:2},children:[w.jsxs(Ne,{sx:{display:"flex",alignItems:"center",gap:2},children:[F(),w.jsxs(Ne,{sx:{flexGrow:1},children:[w.jsx(xe,{variant:"subtitle1",sx:{fontWeight:500},children:o.name}),w.jsx(xe,{variant:"body2",color:"text.secondary",children:H(o.size)})]}),!d&&w.jsx(Gn,{onClick:J,color:"error",size:"small",children:w.jsx(Gg,{})})]}),a>0&&a<100&&w.jsxs(Ne,{sx:{mt:2},children:[w.jsx(cu,{variant:"determinate",value:a,sx:{height:6,borderRadius:3}}),w.jsxs(xe,{variant:"caption",sx:{mt:1,display:"block"},children:["Uploading... ",a,"%"]})]}),d&&w.jsx(Ne,{sx:{mt:2},children:m?w.jsxs(w.Fragment,{children:[w.jsxs(Ne,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[w.jsx(_r,{label:m.stage.charAt(0).toUpperCase()+m.stage.slice(1),size:"small",color:"primary",variant:"outlined"}),w.jsxs(xe,{variant:"caption",color:"text.secondary",children:[m.percentage,"%"]})]}),w.jsx(cu,{variant:"determinate",value:m.percentage,sx:{height:6,borderRadius:3,mb:1}}),w.jsx(xe,{variant:"caption",sx:{display:"block",color:"text.secondary"},children:m.currentOperation})]}):w.jsxs(w.Fragment,{children:[w.jsx(cu,{sx:{height:6,borderRadius:3}}),w.jsx(xe,{variant:"caption",sx:{mt:1,display:"block"},children:p?"AI is analyzing your syllabus...":"Processing syllabus..."})]})})]}),c&&w.jsx(Rr,{severity:"error",sx:{mt:2},onClose:()=>_(null),children:c}),w.jsxs(hr,{sx:{p:2,mt:2,backgroundColor:"info.50"},children:[w.jsx(xe,{variant:"body2",color:"info.main",sx:{fontWeight:500,mb:1},children:" Tips for best results:"}),w.jsxs(xe,{variant:"body2",color:"text.secondary",component:"ul",sx:{m:0,pl:2},children:[w.jsx("li",{children:"Include course objectives and weekly schedule"}),w.jsx("li",{children:"List reading assignments and materials"}),w.jsx("li",{children:"Text files (.txt) work best for parsing"}),w.jsx("li",{children:"Ensure text is well-structured with clear headings"})]})]})]})},Ete=({onContinue:t})=>{var B;const{parsedCourseInfo:i,editCourseInfo:n,error:o,isProcessing:a,currentStep:c}=vb(),[d,p]=se.useState(!1),[m,k]=se.useState(null);if(!i)return w.jsx(Rr,{severity:"warning",children:"No course information available. Please upload and process a syllabus first."});if(a||c==="processing")return w.jsx(Rr,{severity:"info",children:w.jsx(xe,{variant:"body2",children:" Processing complete! Preparing course information for review..."})});const v=()=>{k({...i}),p(!0)},_=()=>{m&&(n(m),p(!1),k(null))},x=()=>{p(!1),k(null)},y=()=>{m&&k({...m,objectives:[...m.objectives,"New objective"]})},D=z=>{if(m){const G=m.objectives.filter((J,H)=>H!==z);k({...m,objectives:G})}},E=(z,G)=>{if(m){const J=[...m.objectives];J[z]=G,k({...m,objectives:J})}},j=(z,G,J)=>{if(m){const H=[...m.schedule];H[z]={...H[z],[G]:J},k({...m,schedule:H})}},M=d?m:i;return M?w.jsx(Ne,{sx:{maxWidth:800,mx:"auto"},children:w.jsxs(hr,{sx:{p:3},children:[w.jsxs(Ne,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[w.jsx(xe,{variant:"h5",component:"h2",children:"Course Information Preview"}),d?w.jsxs(Ne,{sx:{display:"flex",gap:1},children:[w.jsx(Ct,{startIcon:w.jsx(w$,{}),onClick:_,variant:"contained",color:"primary",children:"Save"}),w.jsx(Ct,{startIcon:w.jsx(zL,{}),onClick:x,variant:"outlined",children:"Cancel"})]}):w.jsx(Ct,{startIcon:w.jsx(yk,{}),onClick:v,variant:"outlined",children:"Edit Details"})]}),o&&w.jsx(Rr,{severity:"error",sx:{mb:3},children:o}),w.jsxs(qt,{container:!0,spacing:3,children:[w.jsx(qt,{item:!0,xs:12,md:6,children:w.jsx(yn,{fullWidth:!0,label:"Course Number",value:M.suggestedNumber,onChange:z=>d&&m&&k({...m,suggestedNumber:z.target.value}),disabled:!d,variant:d?"outlined":"filled"})}),w.jsx(qt,{item:!0,xs:12,md:6,children:w.jsx(yn,{fullWidth:!0,label:"Course Title",value:M.suggestedTitle,onChange:z=>d&&m&&k({...m,suggestedTitle:z.target.value}),disabled:!d,variant:d?"outlined":"filled"})}),w.jsx(qt,{item:!0,xs:12,children:w.jsx(yn,{fullWidth:!0,multiline:!0,rows:4,label:"Course Description",value:M.suggestedDescription,onChange:z=>d&&m&&k({...m,suggestedDescription:z.target.value}),disabled:!d,variant:d?"outlined":"filled"})})]}),w.jsx(dl,{sx:{my:3}}),w.jsxs(Ne,{sx:{mb:3},children:[w.jsxs(Ne,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[w.jsxs(xe,{variant:"h6",children:["Learning Objectives (",M.objectives.length,")"]}),d&&w.jsx(Gn,{onClick:y,color:"primary",children:w.jsx(K0,{})})]}),w.jsx(Ne,{sx:{display:"flex",flexDirection:"column",gap:2},children:M.objectives.map((z,G)=>w.jsxs(Ne,{sx:{display:"flex",alignItems:"center",gap:1},children:[w.jsxs(xe,{variant:"body2",sx:{minWidth:24,color:"text.secondary"},children:[G+1,"."]}),d?w.jsxs(w.Fragment,{children:[w.jsx(yn,{fullWidth:!0,multiline:!0,value:z,onChange:J=>E(G,J.target.value),size:"small"}),w.jsx(Gn,{onClick:()=>D(G),color:"error",size:"small",children:w.jsx(Gg,{})})]}):w.jsx(xe,{variant:"body2",children:z})]},G))})]}),w.jsx(dl,{sx:{my:3}}),w.jsxs(Xd,{children:[w.jsx(eh,{expandIcon:w.jsx(sd,{}),children:w.jsxs(xe,{variant:"h6",children:["Course Schedule (",M.schedule.length," weeks)"]})}),w.jsx(th,{children:w.jsx(Ne,{sx:{display:"flex",flexDirection:"column",gap:2},children:M.schedule.map((z,G)=>w.jsx(hr,{sx:{p:2,backgroundColor:"grey.50"},children:w.jsxs(qt,{container:!0,spacing:2,alignItems:"center",children:[w.jsx(qt,{item:!0,xs:12,sm:1,children:w.jsx(_r,{label:`W${z.week}`,size:"small",color:"primary"})}),w.jsx(qt,{item:!0,xs:12,sm:5,children:d?w.jsx(yn,{fullWidth:!0,size:"small",label:"Topic",value:z.topic,onChange:J=>j(G,"topic",J.target.value)}):w.jsx(xe,{variant:"body2",sx:{fontWeight:500},children:z.topic})}),w.jsx(qt,{item:!0,xs:12,sm:6,children:d?w.jsx(yn,{fullWidth:!0,size:"small",label:"Description",value:z.description||"",onChange:J=>j(G,"description",J.target.value)}):w.jsx(xe,{variant:"body2",color:"text.secondary",children:z.description||"No description"})})]})},G))})})]}),(((B=M.prerequisites)==null?void 0:B.length)||M.textbook||M.grading)&&w.jsxs(w.Fragment,{children:[w.jsx(dl,{sx:{my:3}}),w.jsx(xe,{variant:"h6",sx:{mb:2},children:"Additional Information"}),w.jsxs(qt,{container:!0,spacing:2,children:[M.prerequisites&&M.prerequisites.length>0&&w.jsxs(qt,{item:!0,xs:12,md:4,children:[w.jsx(xe,{variant:"subtitle2",sx:{mb:1},children:"Prerequisites:"}),w.jsx(xe,{variant:"body2",color:"text.secondary",children:M.prerequisites.join(", ")})]}),M.textbook&&w.jsxs(qt,{item:!0,xs:12,md:4,children:[w.jsx(xe,{variant:"subtitle2",sx:{mb:1},children:"Textbook:"}),w.jsx(xe,{variant:"body2",color:"text.secondary",children:M.textbook})]}),M.grading&&w.jsxs(qt,{item:!0,xs:12,md:4,children:[w.jsx(xe,{variant:"subtitle2",sx:{mb:1},children:"Grading:"}),w.jsx(xe,{variant:"body2",color:"text.secondary",children:M.grading})]})]})]}),t&&w.jsx(Ne,{sx:{mt:4,textAlign:"right"},children:w.jsx(Ct,{variant:"contained",color:"primary",size:"large",onClick:t,disabled:d,children:"Continue to Materials Preview"})})]})}):null},Dte=({onContinue:t,onBack:i})=>{const{generatedMaterials:n,editMaterial:o,error:a}=vb(),[c,d]=se.useState(null),[p,m]=se.useState(null);if(!n.length)return w.jsx(Rr,{severity:"warning",children:"No materials generated. Please go back and process a syllabus first."});const k=M=>{d({index:M,material:{...n[M]}})},v=()=>{c&&(o(c.index,c.material),d(null))},_=()=>{d(null)},x=M=>{m(M)},y=M=>{const B=n[M];o(M,{published:!B.published})},D=(M,B=150)=>{const z=M.replace(/<[^>]*>/g,"");return z.length>B?z.substring(0,B)+"...":z},E=M=>M.toLowerCase().includes("overview")?w.jsx(cb,{color:"primary"}):M.toLowerCase().includes("week")?w.jsx($6,{color:"secondary"}):w.jsx(cb,{color:"action"}),j=n.filter(M=>M.published).length;return w.jsxs(Ne,{sx:{maxWidth:1e3,mx:"auto"},children:[w.jsxs(hr,{sx:{p:3,mb:3},children:[w.jsxs(Ne,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[w.jsx(xe,{variant:"h5",component:"h2",children:"Generated Course Materials"}),w.jsx(_r,{label:`${j}/${n.length} will be published`,color:"primary",variant:"outlined"})]}),w.jsx(xe,{variant:"body2",color:"text.secondary",children:"Review and customize the course materials generated from your syllabus. You can edit content, toggle publication status, and organize materials before creating your course."}),a&&w.jsx(Rr,{severity:"error",sx:{mt:2},children:a})]}),w.jsx(qt,{container:!0,spacing:3,children:n.map((M,B)=>w.jsx(qt,{item:!0,xs:12,md:6,lg:4,children:w.jsxs(Il,{sx:{height:"100%",display:"flex",flexDirection:"column",border:M.published?"2px solid":"1px solid",borderColor:M.published?"success.main":"divider"},children:[w.jsxs(iu,{sx:{flexGrow:1},children:[w.jsxs(Ne,{sx:{display:"flex",alignItems:"flex-start",gap:1,mb:2},children:[E(M.title),w.jsxs(Ne,{sx:{flexGrow:1},children:[w.jsx(xe,{variant:"h6",component:"h3",sx:{fontSize:"1rem",lineHeight:1.3,mb:1},children:M.title}),w.jsxs(Ne,{sx:{display:"flex",gap:1,alignItems:"center"},children:[w.jsx(sp,{control:w.jsx(ap,{checked:M.published,onChange:()=>y(B),size:"small"}),label:w.jsx(xe,{variant:"caption",children:M.published?"Publish":"Draft"}),sx:{mr:0}}),M.scheduledTimestamp&&w.jsx(_r,{label:"Scheduled",size:"small",variant:"outlined",color:"info"})]})]})]}),w.jsxs(xe,{variant:"body2",color:"text.secondary",sx:{mb:2},children:[w.jsx("strong",{children:"Sections:"})," ",M.sections.length]}),M.sections[0]&&w.jsxs(Ne,{sx:{mb:2},children:[w.jsx(xe,{variant:"subtitle2",sx:{mb:1},children:M.sections[0].title}),w.jsx(xe,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.85rem",fontStyle:"italic"},children:D(M.sections[0].content)})]})]}),w.jsxs(v$,{children:[w.jsx(Ct,{size:"small",startIcon:w.jsx(H6,{}),onClick:()=>x(M),children:"Preview"}),w.jsx(Ct,{size:"small",startIcon:w.jsx(yk,{}),onClick:()=>k(B),children:"Edit"})]})]})},M.id))}),w.jsxs(Ne,{sx:{display:"flex",justifyContent:"space-between",mt:4},children:[i&&w.jsx(Ct,{variant:"outlined",onClick:i,size:"large",children:"Back to Course Info"}),t&&w.jsxs(Ct,{variant:"contained",color:"primary",onClick:t,size:"large",disabled:j===0,children:["Create Course with ",j," Materials"]})]}),w.jsxs(Oo,{open:c!==null,onClose:_,maxWidth:"md",fullWidth:!0,children:[w.jsxs(ts,{children:["Edit Material: ",c==null?void 0:c.material.title]}),w.jsx(Bo,{children:c&&w.jsxs(Ne,{sx:{pt:1},children:[w.jsx(yn,{fullWidth:!0,label:"Material Title",value:c.material.title,onChange:M=>d({...c,material:{...c.material,title:M.target.value}}),sx:{mb:3}}),w.jsx(xe,{variant:"h6",sx:{mb:2},children:"Header"}),w.jsx(yn,{fullWidth:!0,label:"Header Title",value:c.material.header.title,onChange:M=>d({...c,material:{...c.material,header:{...c.material.header,title:M.target.value}}}),sx:{mb:2}}),w.jsx(yn,{fullWidth:!0,multiline:!0,rows:2,label:"Header Content",value:c.material.header.content,onChange:M=>d({...c,material:{...c.material,header:{...c.material.header,content:M.target.value}}}),sx:{mb:3}}),w.jsx(xe,{variant:"h6",sx:{mb:2},children:"Sections"}),c.material.sections.map((M,B)=>w.jsxs(Xd,{sx:{mb:2},children:[w.jsx(eh,{expandIcon:w.jsx(sd,{}),children:w.jsx(xe,{children:M.title})}),w.jsxs(th,{children:[w.jsx(yn,{fullWidth:!0,label:"Section Title",value:M.title,onChange:z=>{const G=[...c.material.sections];G[B]={...G[B],title:z.target.value},d({...c,material:{...c.material,sections:G}})},sx:{mb:2}}),w.jsx(yn,{fullWidth:!0,multiline:!0,rows:4,label:"Section Content",value:M.content,onChange:z=>{const G=[...c.material.sections];G[B]={...G[B],content:z.target.value},d({...c,material:{...c.material,sections:G}})}})]})]},M.id))]})}),w.jsxs(ns,{children:[w.jsx(Ct,{onClick:_,children:"Cancel"}),w.jsx(Ct,{onClick:v,variant:"contained",children:"Save Changes"})]})]}),w.jsxs(Oo,{open:p!==null,onClose:()=>m(null),maxWidth:"md",fullWidth:!0,children:[w.jsx(ts,{children:p==null?void 0:p.title}),w.jsx(Bo,{children:p&&w.jsxs(Ne,{sx:{pt:1},children:[w.jsxs(hr,{sx:{p:2,mb:3,backgroundColor:"primary.50"},children:[w.jsx(xe,{variant:"h6",color:"primary",children:p.header.title}),w.jsx(xe,{variant:"body2",sx:{mt:1},children:p.header.content.replace(/<[^>]*>/g,"")})]}),p.sections.map(M=>w.jsxs(Ne,{sx:{mb:3},children:[w.jsx(xe,{variant:"h6",sx:{mb:2},children:M.title}),w.jsx(xe,{variant:"body1",sx:{mb:2},children:M.content.replace(/<[^>]*>/g,"")}),M.subsections.map(B=>w.jsxs(Ne,{sx:{ml:2,mb:2},children:[w.jsx(xe,{variant:"subtitle1",sx:{mb:1},children:B.title}),w.jsx(xe,{variant:"body2",color:"text.secondary",children:B.content.replace(/<[^>]*>/g,"")})]},B.id))]},M.id)),w.jsx(hr,{sx:{p:2,backgroundColor:"grey.50"},children:w.jsx(xe,{variant:"body2",color:"text.secondary",children:p.footer.content.replace(/<[^>]*>/g,"")})})]})}),w.jsx(ns,{children:w.jsx(Ct,{onClick:()=>m(null),children:"Close"})})]})]})},Ite=({onConfigChange:t,compact:i=!1})=>{const{useAIProcessing:n,setUseAIProcessing:o}=vb(),[a,c]=se.useState(null);se.useEffect(()=>{const{config:v,isValid:_,errors:x}=cR();c({config:v,isValid:_,errors:x})},[]);const d=v=>{if(o(v),a){const _={...a.config,enableAIProcessing:v},x=lR(_);c({config:_,...x}),t==null||t(_)}},p=()=>a?a.isValid&&n?w.jsx(Xy,{color:"success"}):!a.isValid&&n?w.jsx(A$,{color:"error"}):w.jsx(_N,{color:"action"}):w.jsx(_N,{color:"action"}),m=()=>n?a?a.isValid?"AI processing ready - enhanced syllabus analysis enabled":`Configuration issues: ${a.errors.join(", ")}`:"Loading configuration...":"AI processing disabled - using pattern-based parsing",k=()=>n?a?a.isValid?"success":"error":"info":"warning";return i?w.jsxs(Ne,{sx:{display:"flex",alignItems:"center",gap:2},children:[p(),w.jsx(sp,{control:w.jsx(ap,{checked:n,onChange:v=>d(v.target.checked),size:"small"}),label:"AI Processing"}),w.jsx(fa,{title:m(),children:w.jsx(y$,{fontSize:"small",color:"action"})})]}):w.jsx(hr,{sx:{p:2,mb:2},children:w.jsxs(Xd,{children:[w.jsx(eh,{expandIcon:w.jsx(sd,{}),children:w.jsxs(Ne,{sx:{display:"flex",alignItems:"center",gap:2,width:"100%"},children:[p(),w.jsxs(Ne,{sx:{flexGrow:1},children:[w.jsx(xe,{variant:"subtitle1",sx:{fontWeight:500},children:"AI-Powered Processing Settings"}),w.jsx(xe,{variant:"caption",color:"text.secondary",children:m()})]}),w.jsx(_r,{label:n?"Enabled":"Disabled",color:n?"success":"default",size:"small"})]})}),w.jsx(th,{children:w.jsxs(qt,{container:!0,spacing:3,children:[w.jsx(qt,{item:!0,xs:12,children:w.jsx(sp,{control:w.jsx(ap,{checked:n,onChange:v=>d(v.target.checked)}),label:w.jsxs(Ne,{children:[w.jsx(xe,{variant:"body2",sx:{fontWeight:500},children:"Enable AI-Powered Analysis"}),w.jsx(xe,{variant:"caption",color:"text.secondary",children:"Use Google Gemini to extract structured information from syllabi"})]})})}),n&&w.jsx(qt,{item:!0,xs:12,children:w.jsxs(hr,{sx:{p:2,backgroundColor:a!=null&&a.isValid?"success.50":"error.50",border:"1px solid",borderColor:a!=null&&a.isValid?"success.200":"error.200"},children:[w.jsx(xe,{variant:"subtitle2",sx:{mb:1,color:a!=null&&a.isValid?"success.main":"error.main"},children:a!=null&&a.isValid?" API Configuration":" API Configuration"}),w.jsx(xe,{variant:"body2",color:"text.secondary",children:a!=null&&a.isValid?"Gemini API key is configured and ready for use.":"Gemini API key is required. Please add VITE_GEMINI_API_KEY to your environment variables."})]})}),w.jsx(qt,{item:!0,xs:12,children:w.jsxs(Rr,{severity:k(),sx:{mb:2},children:[w.jsx(xe,{variant:"body2",children:m()}),(a==null?void 0:a.errors)&&a.errors.length>0&&w.jsx(Ne,{sx:{mt:1},children:a.errors.map((v,_)=>w.jsxs(xe,{variant:"caption",display:"block",children:[" ",v]},_))})]})}),n&&(a==null?void 0:a.isValid)&&w.jsx(qt,{item:!0,xs:12,children:w.jsxs(hr,{sx:{p:2,backgroundColor:"primary.50",border:"1px solid",borderColor:"primary.200"},children:[w.jsx(xe,{variant:"subtitle2",sx:{mb:1,color:"primary.main"},children:" Enhanced Features with AI:"}),w.jsxs(qt,{container:!0,spacing:1,children:[w.jsxs(qt,{item:!0,xs:12,sm:6,children:[w.jsx(xe,{variant:"caption",display:"block",children:" Intelligent course information extraction"}),w.jsx(xe,{variant:"caption",display:"block",children:" Automatic learning objectives identification"}),w.jsx(xe,{variant:"caption",display:"block",children:" Smart schedule parsing and organization"})]}),w.jsxs(qt,{item:!0,xs:12,sm:6,children:[w.jsx(xe,{variant:"caption",display:"block",children:" Grading policy analysis"}),w.jsx(xe,{variant:"caption",display:"block",children:" Assignment and due date extraction"}),w.jsx(xe,{variant:"caption",display:"block",children:" Enhanced material generation"})]})]})]})}),!n&&w.jsx(qt,{item:!0,xs:12,children:w.jsxs(hr,{sx:{p:2,backgroundColor:"warning.50",border:"1px solid",borderColor:"warning.200"},children:[w.jsx(xe,{variant:"subtitle2",sx:{mb:1,color:"warning.main"},children:" Pattern-Based Processing:"}),w.jsx(xe,{variant:"caption",color:"text.secondary",children:"Using traditional text parsing methods. Results may be less accurate than AI processing. Enable AI processing for better extraction accuracy."})]})})]})})]})})},uR=({onComplete:t,onCancel:i,educatorUid:n})=>{const{currentStep:o,setCurrentStep:a,parsedCourseInfo:c,generatedMaterials:d,isProcessing:p,error:m,useAIProcessing:k,processingProgress:v,reset:_}=vb(),[x,y]=se.useState(null);vt.useEffect(()=>{const{config:H}=cR();y(H)},[]);const D=[{label:"Upload Syllabus",description:"Upload your syllabus document"},{label:"Review Course Info",description:"Verify and edit course information"},{label:"Review Materials",description:"Customize generated course materials"}],E=()=>{switch(o){case"upload":case"processing":return 0;case"review":return 1;case"editing":return 2;case"complete":return 2;default:return 0}},j=()=>{a("editing")},M=()=>{a("review")},B=()=>{if(c&&d.length>0){const H=d.filter(F=>F.published);t==null||t({courseInfo:c,materials:H})}},z=()=>{_(),i==null||i()},G=H=>{y(H)},J=()=>{switch(o){case"upload":case"processing":return w.jsx(Kj,{onUploadComplete:()=>{},educatorUid:n});case"review":return w.jsx(Ete,{onContinue:j});case"editing":case"complete":return w.jsx(Dte,{onContinue:B,onBack:M});default:return w.jsx(Kj,{onUploadComplete:()=>{},educatorUid:n})}};return w.jsxs(Ne,{sx:{width:"100%",maxWidth:1200,mx:"auto",p:3},children:[w.jsxs(hr,{sx:{p:3,mb:4},children:[w.jsx(xe,{variant:"h4",component:"h1",gutterBottom:!0,children:"Import Course from Syllabus"}),w.jsx(xe,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"Upload your syllabus document and we'll automatically create a course structure with organized materials based on your content."}),w.jsx(_$,{activeStep:E(),alternativeLabel:!0,children:D.map(H=>w.jsx(C$,{children:w.jsxs(x$,{children:[w.jsx(xe,{variant:"body2",sx:{fontWeight:500},children:H.label}),w.jsx(xe,{variant:"caption",color:"text.secondary",children:H.description})]})},H.label))})]}),o==="upload"&&w.jsx(Ite,{onConfigChange:G,compact:!1}),m&&w.jsx(Rr,{severity:"error",sx:{mb:3},onClose:()=>{},children:m}),p&&w.jsx(Rr,{severity:"info",sx:{mb:3},children:w.jsx(xe,{variant:"body2",children:k?" AI is analyzing your syllabus for enhanced data extraction... This usually takes 10-30 seconds.":" Processing your syllabus with pattern-based analysis... This usually takes a moment."})}),w.jsx(Ne,{sx:{minHeight:400},children:J()}),o!=="upload"&&i&&w.jsx(Ne,{sx:{display:"flex",justifyContent:"center",mt:3},children:w.jsx(Ct,{variant:"outlined",color:"secondary",onClick:z,size:"small",children:"Cancel & Return to Manual Entry"})})]})},t5=t=>{if(t==null)return null;if(t instanceof Date)return t;if(Array.isArray(t))return t.map(t5).filter(i=>i!=null);if(typeof t=="object"){const i={};return Object.keys(t).forEach(n=>{const o=t[n];if(o!==void 0){const a=t5(o);a!=null&&(i[n]=a)}}),i}return t},Tte=()=>{const{userDetails:t}=ko(),i=ao(),n=Nr(),[o,a]=se.useState(""),[c,d]=se.useState(""),[p,m]=se.useState(""),[k,v]=se.useState(""),[_,x]=se.useState(""),[y,D]=se.useState(""),[E,j]=se.useState(""),[M,B]=se.useState("primary"),[z,G]=se.useState("manual"),{parsedCourseInfo:J,generatedMaterials:H,reset:F,currentStep:Q}=vb(),[Z,ae]=se.useState(!1),[X,Y]=se.useState(!1),[U,q]=se.useState("");se.useEffect(()=>{(z==="manual"||M==="co-instructor")&&F()},[z,M,F]),se.useEffect(()=>{M==="primary"&&z==="syllabus"&&J&&(x(J.suggestedNumber||""),D(J.suggestedTitle||""),j(J.suggestedDescription||""))},[M,z,J]);const fe=be=>ve=>{be(ve.target.value)},ue=be=>{const ve=be.target.value;B(ve),ve==="co-instructor"&&(G("manual"),x(""),D(""),j(""))},de=(be,ve)=>{ve!==null&&(G(ve),ve==="syllabus"&&(x(""),D(""),j("")))},me=()=>{if(!o||!c||!p||!k||!_||!y)return"Please fill in all required fields.";if(M==="primary"){if(z==="manual"&&!E)return"Please provide a course description.";if(z==="syllabus"){if(!J)return"Please complete the syllabus import process first.";if(!E)return"Please ensure course description is properly filled from your syllabus."}}return null},Me=be=>{console.log("Syllabus import completed for educator request:",be)},ce=async()=>{const be=me();if(be){q(be),Y(!0);return}ae(!0);try{const ve={uid:(t==null?void 0:t.uid)||"",firstName:o||"",lastName:c||"",institution:p||"",email:k||"",courseNumber:_||"",courseTitle:y||"",courseDescription:M==="primary"?E||"":"CO-INSTRUCTOR REQUEST",requestType:M||"primary",status:"pending",timestamp:new Date,syllabusImported:!1};if(M==="primary"&&z==="syllabus"&&J&&H.length>0){const Ze={parsedCourseInfo:J,generatedMaterials:H.filter(ft=>ft.published)},Ge=t5(Ze);ve.syllabusImported=!0,ve.syllabusData=Ge}const Re=t5(ve);console.log("Submitting clean educator request document:",Re);const Be=await pa(Zn(n,"educatorRequests"),Re),Ue={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:`New Educator Request Submitted${M==="primary"&&z==="syllabus"?" (With Syllabus Import)":""}`,html:`
            <p>A new educator request has been submitted:</p>
            <p><strong>Name:</strong> ${o} ${c}</p>
            <p><strong>Email:</strong> ${k}</p>
            <p><strong>Institution:</strong> ${p}</p>
            <p><strong>Course:</strong> ${_} - ${y}</p>
            <p><strong>Request Type:</strong> ${M}</p>
            ${M==="primary"?`<p><strong>Course Creation Method:</strong> ${z==="syllabus"?"Imported from Syllabus":"Manual Entry"}</p>`:""}
            ${M==="primary"&&z==="syllabus"&&H.length>0?`<p><strong>Generated Materials:</strong> ${H.filter(Ze=>Ze.published).length} materials ready for publication</p>`:""}
            <p><strong>Description:</strong> ${E}</p>
            <p><strong>Request ID:</strong> ${Be.id}</p>
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/educator-requests">
            Click here to review the request.
            </a></p>
          `}};await pa(Zn(n,"mail"),Ue),q(M==="primary"&&z==="syllabus"&&H.length>0?`Your educator request has been submitted for review with ${H.filter(Ze=>Ze.published).length} auto-generated course materials.`:"Your request has been submitted for review."),a(""),d(""),m(""),v(""),x(""),D(""),j(""),B("primary"),G("manual"),z==="syllabus"&&F(),Y(!0),setTimeout(()=>{i("/my-profile")},3e3)}catch(ve){console.error("Error submitting request: ",ve),ve instanceof Error&&console.error("Error details:",{message:ve.message,name:ve.name,stack:ve.stack}),q("Error submitting your request. Please try again."),Y(!0)}finally{ae(!1)}},Ie=()=>{Y(!1)},re=()=>{i("/my-profile")},te=M==="primary"&&z==="syllabus"&&Q!=="upload"&&!J,ke=M==="primary"&&z==="syllabus"&&(Q==="review"||Q==="editing"||Q==="complete")&&J;return w.jsxs(Ne,{className:"request-form-container",sx:{padding:3,maxWidth:"1400px",mx:"auto"},children:[w.jsx(Ne,{sx:{display:"flex",alignItems:"center",mb:3},children:w.jsx(Ct,{variant:"text",onClick:re,className:"back-home-button",children:" My Account"})}),w.jsxs(Ne,{className:"request-form-outline",sx:{backgroundColor:"#f8f9fa",borderRadius:2,p:4,border:"1px solid #e3f2fd",minWidth:"100%"},children:[w.jsx(xe,{variant:"h5",component:"h1",className:"request-form-title",sx:{mb:3},children:"Request Educator Permissions"}),w.jsxs(qt,{item:!0,xs:12,sx:{mb:3},children:[w.jsx(Zd,{htmlFor:"request-type",required:!0,children:"Request Type"}),w.jsxs(ad,{id:"request-type",name:"request-type",value:M,onChange:ue,fullWidth:!0,required:!0,disabled:Z,sx:{mt:1},children:[w.jsx($r,{value:"primary",children:"I am a primary course instructor, I want to create a new course"}),w.jsx($r,{value:"co-instructor",children:"I am a co-instructor, I want to be added to an existing course"})]})]}),w.jsx(xe,{variant:"h6",component:"h2",sx:{mb:2},children:"Personal Information"}),w.jsxs(qt,{container:!0,spacing:3,children:[w.jsxs(qt,{item:!0,xs:12,md:6,children:[w.jsx(Zd,{htmlFor:"first-name",required:!0,children:"First Name"}),w.jsx(Wh,{id:"first-name",name:"first-name",value:o,onChange:fe(a),placeholder:"John",fullWidth:!0,required:!0,disabled:Z})]}),w.jsxs(qt,{item:!0,xs:12,md:6,children:[w.jsx(Zd,{htmlFor:"last-name",required:!0,children:"Last Name"}),w.jsx(Wh,{id:"last-name",name:"last-name",value:c,onChange:fe(d),placeholder:"Doe",fullWidth:!0,required:!0,disabled:Z})]}),w.jsxs(qt,{item:!0,xs:12,children:[w.jsx(Zd,{htmlFor:"institution",required:!0,children:"Institution Affiliation"}),w.jsx(Wh,{id:"institution",name:"institution",value:p,onChange:fe(m),placeholder:"University Name",fullWidth:!0,required:!0,disabled:Z})]}),w.jsxs(qt,{item:!0,xs:12,children:[w.jsx(Zd,{htmlFor:"email",required:!0,children:"Institutional Email"}),w.jsx(Wh,{id:"email",name:"email",value:k,onChange:fe(v),placeholder:"name@institution.edu",fullWidth:!0,required:!0,disabled:Z}),w.jsx(xe,{variant:"caption",sx:{mt:1},children:"Please use your institutional email to confirm your affiliation."})]})]}),w.jsx(dl,{sx:{my:4}}),w.jsx(xe,{variant:"h6",component:"h2",sx:{mb:2},children:M==="primary"?"New Course Details":"Existing Course Details"}),M==="primary"&&w.jsxs(hr,{sx:{p:3,mb:4,backgroundColor:"grey.50"},children:[w.jsx(xe,{variant:"subtitle1",sx:{mb:2},children:"How would you like to create your course?"}),w.jsxs(V6,{value:z,exclusive:!0,onChange:de,"aria-label":"course creation mode",fullWidth:!0,sx:{mb:2},children:[w.jsxs(hk,{value:"manual","aria-label":"manual entry",children:[w.jsx(yk,{sx:{mr:1}}),"Manual Entry"]}),w.jsxs(hk,{value:"syllabus","aria-label":"syllabus import",children:[w.jsx(FL,{sx:{mr:1}}),"Import from Syllabus"]})]}),w.jsx(xe,{variant:"body2",color:"text.secondary",children:z==="manual"?"Fill out the course information manually using the form below.":"Upload your syllabus document and we'll automatically extract course information and generate materials."})]}),M==="primary"&&z==="syllabus"&&w.jsx(Ne,{sx:{mb:4},children:w.jsx(uR,{onComplete:Me,onCancel:()=>G("manual")})}),(M==="co-instructor"||M==="primary"&&z==="manual")&&w.jsxs(qt,{container:!0,spacing:3,sx:{mb:4},children:[w.jsxs(qt,{item:!0,xs:12,md:6,children:[w.jsx(Zd,{htmlFor:"course-number",required:!0,children:"Course Number"}),w.jsx(Wh,{id:"course-number",name:"course-number",value:_,onChange:fe(x),placeholder:"e.g., BIOL301",fullWidth:!0,required:!0,disabled:Z})]}),w.jsxs(qt,{item:!0,xs:12,md:6,children:[w.jsx(Zd,{htmlFor:"course-title",required:!0,children:"Course Title"}),w.jsx(Wh,{id:"course-title",name:"course-title",value:y,onChange:fe(D),placeholder:"e.g., Biotech Research Methods",fullWidth:!0,required:!0,disabled:Z})]}),M==="primary"&&w.jsxs(qt,{item:!0,xs:12,children:[w.jsx(Zd,{htmlFor:"course-description",required:!0,children:"Course Description"}),w.jsx(Wh,{id:"course-description",name:"course-description",value:E,onChange:fe(j),placeholder:"e.g., A comprehensive course covering advanced methods and tools in modern biotech labs, focusing on CRISPR, NGS, and bioinformatics.",fullWidth:!0,multiline:!0,rows:4,required:!0,disabled:Z})]})]}),(M==="co-instructor"||M==="primary"&&z==="manual"||ke)&&w.jsxs(Ne,{sx:{mt:4},children:[w.jsx(Ct,{variant:"contained",color:"primary",onClick:ce,fullWidth:!0,className:"submit-button",sx:{py:1.5,fontWeight:"bold",fontSize:"16px",textTransform:"uppercase"},disabled:Z||te,children:Z?w.jsxs(w.Fragment,{children:[w.jsx(ki,{size:24,color:"inherit",sx:{mr:1}}),"Submitting Request..."]}):`Submit Request${M==="primary"&&z==="syllabus"&&H.length>0?` with ${H.filter(be=>be.published).length} Materials`:""}`}),w.jsxs(xe,{variant:"body2",sx:{mt:2,textAlign:"center"},children:["For any questions, please contact ",w.jsx("a",{href:"mailto:andriy@intofuture.org",children:"andriy@intofuture.org"}),"."]})]}),w.jsxs(Oo,{open:X,onClose:Ie,children:[w.jsx(ts,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:w.jsx(Xy,{sx:{color:"green",fontSize:50,marginRight:1}})}),w.jsx(Bo,{children:w.jsx(bc,{sx:{textAlign:"center"},children:U})}),w.jsx(ns,{children:w.jsx(Ct,{onClick:Ie,color:"primary",autoFocus:!0,children:"Close"})})]})]})]})},Mte=()=>{const[t,i]=se.useState([]),[n,o]=se.useState([]),[a,c]=se.useState(""),[d,p]=se.useState(!1),[m,k]=se.useState(""),[v,_]=se.useState("success"),[x,y]=se.useState(!1),[D,E]=se.useState(null),[j,M]=se.useState(null),[B,z]=se.useState(null),G=Nr(),J=ao();se.useEffect(()=>{(async()=>{const fe=(await so(Zn(G,"educatorRequests"))).docs.map(me=>({id:me.id,...me.data()})),de=(await so(Zn(G,"courses"))).docs.map(me=>({id:me.id,...me.data()}));i(fe),o(de)})()},[G]);function H(){const U="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let q="";for(let fe=0;fe<28;fe++)q+=U.charAt(Math.floor(Math.random()*U.length));return q}const F=async()=>{var U,q;if(!(!j||!B)){if(!B.courseNumber||!B.courseTitle){k("Course number or title is missing. Cannot approve request."),_("error"),p(!0);return}if(B.requestType==="co-instructor"&&!a){k("Please select a course for the co-instructor request."),_("error"),p(!0);return}if(B.status!=="pending"){k("This request has already been processed."),_("warning"),p(!0);return}try{const fe=Vn(G,"users",B.uid);if(B.requestType==="primary"){const ue=H(),de=await pa(Zn(G,"courses"),{number:B.courseNumber,title:B.courseTitle,passcode:ue,courseAdmin:[B.uid]}),me=await Na(fe),Me=me.exists()?((U=me.data())==null?void 0:U.classes)||{}:{};await gi(fe,{isAdmin:!0,classes:{...Me,[de.id]:{number:B.courseNumber,title:B.courseTitle,isCourseAdmin:!0}}}),await gi(Vn(G,"educatorRequests",j),{status:"approved",courseId:de.id,passcode:ue})}else if(B.requestType==="co-instructor"){if(!a){k("Please select a course for the co-instructor request."),_("error"),p(!0);return}const ue=Vn(G,"courses",a);await gi(ue,{courseAdmin:r3(B.uid)});const de=await Na(fe),me=de.exists()?((q=de.data())==null?void 0:q.classes)||{}:{};await gi(fe,{isAdmin:!0,classes:{...me,[a]:{number:B.courseNumber,title:B.courseTitle,isCourseAdmin:!0}}}),await gi(Vn(G,"educatorRequests",j),{status:"approved",courseId:a})}k("Request approved, and user promoted to educator."),_("success"),i(ue=>ue.map(de=>de.id===j?{...de,status:"approved"}:de))}catch(fe){console.error("Error approving request: ",fe),k("Error approving the request. Please try again."),_("error")}p(!0),ae()}},Q=async()=>{if(j){try{await gi(Vn(G,"educatorRequests",j),{status:"denied"}),k("Request denied."),_("success"),i(t.map(U=>U.id===j?{...U,status:"denied"}:U))}catch(U){console.error("Error denying request: ",U),k("Error denying the request. Please try again."),_("error")}p(!0),ae()}},Z=(U,q,fe)=>{E(U),M(q),z(fe),c(""),y(!0)},ae=()=>{y(!1),E(null),M(null),z(null)},X=()=>{p(!1)},Y=()=>{J("/")};return w.jsxs(Ne,{sx:{padding:3},children:[w.jsx(Ne,{sx:{display:"flex",alignItems:"center"},children:w.jsx(Ct,{variant:"text",onClick:Y,sx:{mr:2},children:" Home Page"})}),w.jsx(xe,{variant:"h4",component:"h1",sx:{fontWeight:"bold",mb:3},children:"Educator Permission Requests"}),w.jsx(sh,{component:hr,children:w.jsxs(ah,{children:[w.jsx(lh,{children:w.jsxs(Lo,{children:[w.jsx(St,{children:"Name"}),w.jsx(St,{children:"User ID"}),w.jsx(St,{children:"Institution"}),w.jsx(St,{children:"Email"}),w.jsx(St,{children:"Course Number"}),w.jsx(St,{children:"Course Title"}),w.jsx(St,{children:"Course Description"}),w.jsx(St,{children:"Timestamp"}),w.jsx(St,{children:"Actions"})]})}),w.jsx(ch,{children:t.map(U=>w.jsxs(Lo,{children:[w.jsx(St,{children:`${U.firstName} ${U.lastName}`}),w.jsx(St,{children:U.uid}),w.jsx(St,{children:U.institution}),w.jsx(St,{children:U.email}),w.jsx(St,{children:U.courseNumber}),w.jsx(St,{children:U.courseTitle}),w.jsx(St,{children:U.courseDescription}),w.jsx(St,{children:new Date(U.timestamp.seconds*1e3).toLocaleString()}),w.jsxs(St,{children:[U.status==="pending"&&w.jsxs(w.Fragment,{children:[w.jsx(Ct,{variant:"contained",color:"primary",sx:{mr:1},onClick:()=>Z("approve",U.id,U),children:"Approve"}),w.jsx(Ct,{variant:"contained",color:"secondary",onClick:()=>Z("deny",U.id,U),children:"Deny"})]}),U.status==="approved"&&w.jsx(xe,{color:"success.main",children:"Approved"}),U.status==="denied"&&w.jsx(xe,{color:"error.main",children:"Denied"})]})]},U.id))})]})}),w.jsx(Nl,{open:d,autoHideDuration:6e3,onClose:X,children:w.jsx(Rr,{onClose:X,severity:v,sx:{width:"100%"},children:m})}),w.jsxs(Oo,{open:x,onClose:ae,"aria-labelledby":"confirmation-dialog-title","aria-describedby":"confirmation-dialog-description",children:[w.jsx(ts,{id:"confirmation-dialog-title",children:D==="approve"?"Confirm Approval":"Confirm Denial"}),w.jsxs(Bo,{children:[w.jsxs(bc,{id:"confirmation-dialog-description",children:["Are you sure you want to ",D," this request for ",B==null?void 0:B.firstName," ",B==null?void 0:B.lastName,"?"]}),D==="approve"&&(B==null?void 0:B.requestType)==="co-instructor"&&w.jsxs(Ne,{sx:{mt:2},children:[w.jsx(xe,{children:"Select Course:"}),w.jsx(ad,{fullWidth:!0,value:a,onChange:U=>c(U.target.value),children:n.map(U=>w.jsx($r,{value:U.id,children:`${U.number} - ${U.title}`},U.id))})]})]}),w.jsxs(ns,{children:[w.jsx(Ct,{onClick:ae,color:"primary",children:"Cancel"}),w.jsx(Ct,{onClick:D==="approve"?F:Q,color:"primary",variant:"contained",autoFocus:!0,disabled:(B==null?void 0:B.requestType)==="co-instructor"&&!a,children:"Confirm"})]})]})]})},n5=t=>{if(t==null)return null;if(t instanceof Date)return t;if(Array.isArray(t))return t.map(n5).filter(i=>i!=null);if(typeof t=="object"){const i={};return Object.keys(t).forEach(n=>{const o=t[n];if(o!==void 0){const a=n5(o);a!=null&&(i[n]=a)}}),i}return t},Nte=()=>{const{userDetails:t}=ko(),i=ao(),n=Nr(),[o,a]=se.useState("manual"),[c,d]=se.useState(""),[p,m]=se.useState(""),[k,v]=se.useState(""),{parsedCourseInfo:_,generatedMaterials:x,aiExtractedInfo:y,storedSyllabusFile:D,reset:E,currentStep:j}=vb(),[M,B]=se.useState(!1),[z,G]=se.useState(!1),[J,H]=se.useState("");se.useEffect(()=>{o==="manual"&&E()},[o,E]),se.useEffect(()=>{o==="syllabus"&&_&&(d(_.suggestedNumber||""),m(_.suggestedTitle||""),v(_.suggestedDescription||""))},[o,_]);const F=ue=>de=>{ue(de.target.value)},Q=(ue,de)=>{de!==null&&(a(de),de==="syllabus"&&(d(""),m(""),v("")))},Z=()=>{if(o==="manual"){if(!c||!p||!k)return"Please fill in all required fields."}else if(o==="syllabus"){if(!_)return"Please complete the syllabus import process first.";if(!c||!p||!k)return"Please ensure course information is properly filled from your syllabus."}return null},ae=ue=>{console.log("Syllabus import completed:",ue),X()},X=async()=>{const ue=Z();if(ue){H(ue),G(!0);return}B(!0);try{const de={uid:(t==null?void 0:t.uid)||"",courseNumber:c||"",courseTitle:p||"",courseDescription:k||"",status:"pending",timestamp:new Date,syllabusImported:!1};if(o==="syllabus"&&_&&x.length>0){const Ie={parsedCourseInfo:_,generatedMaterials:x.filter(te=>te.published),additionalInfo:y?{contactInfo:y.contactInfo,policies:y.policies,additionalResources:y.additionalResources,labSpecific:y.labSpecific,textbooks:y.textbooks,gradingPolicy:y.gradingPolicy,assignments:y.assignments,prerequisites:y.prerequisites}:null,syllabusFile:D?{url:D.url,path:D.path,metadata:D.metadata}:null},re=n5(Ie);de.syllabusImported=!0,de.syllabusData=re}const me=n5(de);console.log("Submitting clean request document:",me);const Me=await pa(Zn(n,"courseRequests"),me),ce={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:`New Course Request Submitted${o==="syllabus"?" (With Syllabus Import)":""}`,html:`
            <p>A new course request has been submitted:</p>
            <p><strong>Educator ID:</strong> ${(t==null?void 0:t.uid)||"Unknown"}</p>
            <p><strong>Course:</strong> ${c} - ${p}</p>
            <p><strong>Description:</strong> ${k}</p>
            <p><strong>Creation Method:</strong> ${o==="syllabus"?"Imported from Syllabus":"Manual Entry"}</p>
            ${o==="syllabus"&&x.length>0?`<p><strong>Generated Materials:</strong> ${x.filter(Ie=>Ie.published).length} materials ready for publication</p>`:""}
            <p><strong>Request ID:</strong> ${Me.id}</p>
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/course-requests">
            Click here to review the request.
            </a></p>
          `}};await pa(Zn(n,"mail"),ce),H(o==="syllabus"?`Your course request has been submitted for review with ${x.filter(Ie=>Ie.published).length} auto-generated materials.`:"Your course request has been submitted for review."),d(""),m(""),v(""),o==="syllabus"&&E(),G(!0),setTimeout(()=>{i("/course-management")},3e3)}catch(de){console.error("Error submitting course request: ",de),de instanceof Error&&console.error("Error details:",{message:de.message,name:de.name,stack:de.stack}),H("Error submitting your course request. Please try again."),G(!0)}finally{B(!1)}},Y=()=>{G(!1)},U=()=>{i("/course-management")},q=o==="syllabus"&&j!=="upload"&&!_,fe=o==="syllabus"&&(j==="review"||j==="editing"||j==="complete")&&_;return w.jsxs(Ne,{className:"request-form-container",sx:{padding:3,maxWidth:"1400px",mx:"auto"},children:[w.jsx(Ne,{sx:{display:"flex",alignItems:"center",mb:3},children:w.jsx(Ct,{variant:"text",onClick:U,className:"back-home-button",children:" Course Management"})}),w.jsxs(Ne,{className:"request-form-outline",sx:{backgroundColor:"#f8f9fa",borderRadius:2,p:4,border:"1px solid #e3f2fd",minWidth:"100%"},children:[w.jsx(xe,{variant:"h5",component:"h1",className:"request-form-title",sx:{mb:3},children:"Request Creating a New Course"}),w.jsxs(hr,{sx:{p:3,mb:4,backgroundColor:"grey.50"},children:[w.jsx(xe,{variant:"h6",sx:{mb:2},children:"How would you like to create your course?"}),w.jsxs(V6,{value:o,exclusive:!0,onChange:Q,"aria-label":"course creation mode",fullWidth:!0,sx:{mb:2},children:[w.jsxs(hk,{value:"manual","aria-label":"manual entry",children:[w.jsx(yk,{sx:{mr:1}}),"Manual Entry"]}),w.jsxs(hk,{value:"syllabus","aria-label":"syllabus import",children:[w.jsx(FL,{sx:{mr:1}}),"Import from Syllabus"]})]}),w.jsx(xe,{variant:"body2",color:"text.secondary",children:o==="manual"?"Fill out the course information manually using the form below.":"Upload your syllabus document and we'll automatically extract course information and generate materials."})]}),o==="syllabus"&&w.jsx(Ne,{sx:{mb:4},children:w.jsx(uR,{onComplete:ae,onCancel:()=>a("manual"),educatorUid:t==null?void 0:t.uid})}),o==="manual"&&w.jsxs(qt,{container:!0,spacing:3,children:[w.jsxs(qt,{item:!0,xs:12,md:6,children:[w.jsx(Zd,{htmlFor:"course-number",required:!0,children:"Course Number"}),w.jsx(Wh,{id:"course-number",name:"course-number",value:c,onChange:F(d),placeholder:"e.g., BIOL301",fullWidth:!0,required:!0,disabled:M})]}),w.jsxs(qt,{item:!0,xs:12,md:6,children:[w.jsx(Zd,{htmlFor:"course-title",required:!0,children:"Course Title"}),w.jsx(Wh,{id:"course-title",name:"course-title",value:p,onChange:F(m),placeholder:"e.g., Biotech Research Methods",fullWidth:!0,required:!0,disabled:M})]}),w.jsxs(qt,{item:!0,xs:12,children:[w.jsx(Zd,{htmlFor:"course-description",required:!0,children:"Course Description"}),w.jsx(Wh,{id:"course-description",name:"course-description",value:k,onChange:F(v),placeholder:"e.g., A comprehensive course covering advanced methods and tools in modern biotech labs, focusing on CRISPR, NGS, and bioinformatics.",fullWidth:!0,multiline:!0,rows:4,required:!0,disabled:M})]})]}),(o==="manual"||fe)&&w.jsxs(Ne,{sx:{mt:4},children:[w.jsx(Ct,{variant:"contained",color:"primary",onClick:X,fullWidth:!0,className:"submit-button",disabled:M||q,sx:{py:1.5,fontWeight:"bold",fontSize:"16px",textTransform:"uppercase"},children:M?w.jsxs(w.Fragment,{children:[w.jsx(ki,{size:24,color:"inherit",sx:{mr:1}}),"Submitting Request..."]}):`Submit Request${o==="syllabus"&&x.length>0?` with ${x.filter(ue=>ue.published).length} Materials`:""}`}),w.jsxs(xe,{variant:"body2",sx:{mt:2,textAlign:"center"},children:["For any questions, please contact ",w.jsx("a",{href:"mailto:andriy@intofuture.org",children:"andriy@intofuture.org"}),"."]})]}),w.jsxs(Oo,{open:z,onClose:Y,children:[w.jsx(ts,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:w.jsx(Xy,{sx:{color:"green",fontSize:50,marginRight:1}})}),w.jsx(Bo,{children:w.jsx(bc,{sx:{textAlign:"center"},children:J})}),w.jsx(ns,{children:w.jsx(Ct,{onClick:Y,color:"primary",autoFocus:!0,children:"Close"})})]})]})]})},jte=()=>{var Z,ae,X,Y;const[t,i]=se.useState([]),[n,o]=se.useState(!1),[a,c]=se.useState(""),[d,p]=se.useState("success"),[m,k]=se.useState(!1),[v,_]=se.useState(null),[x,y]=se.useState(null),[D,E]=se.useState(null),j=Nr(),M=ao();se.useEffect(()=>{(async()=>{try{const fe=(await so(Zn(j,"courseRequests"))).docs.map(ue=>({id:ue.id,...ue.data()}));fe.sort((ue,de)=>ue.status==="pending"&&de.status!=="pending"||ue.status==="approved"&&de.status==="denied"?-1:ue.status==="denied"&&de.status==="approved"?1:0),i(fe)}catch(q){console.error("Error fetching course requests: ",q)}})()},[j]);function B(){const U="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let q="";for(let fe=0;fe<28;fe++)q+=U.charAt(Math.floor(Math.random()*U.length));return q}const z=async()=>{var U,q,fe,ue;if(!(!x||!D)){try{const de=B(),me={number:D.courseNumber,title:D.courseTitle,description:D.courseDescription,passcode:de,courseAdmin:[D.uid],createdAt:new Date};if(D.syllabusImported&&((U=D.syllabusData)!=null&&U.additionalInfo)){const be=D.syllabusData.additionalInfo;me.additionalInfo={contactInfo:be.contactInfo||{},policies:be.policies||{},additionalResources:be.additionalResources||{},labSpecific:be.labSpecific||{},textbooks:be.textbooks||[],gradingPolicy:be.gradingPolicy||[],assignments:be.assignments||[],prerequisites:be.prerequisites||[],lastUpdated:new Date}}D.syllabusImported&&((q=D.syllabusData)!=null&&q.syllabusFile)&&(me.syllabusFile=D.syllabusData.syllabusFile);const Me=await pa(Zn(j,"courses"),me),ce=Vn(j,"users",D.uid),Ie=await Na(ce),re=Ie.exists()?((fe=Ie.data())==null?void 0:fe.classes)||{}:{};await gi(ce,{classes:{...re,[Me.id]:{number:D.courseNumber,title:D.courseTitle,isCourseAdmin:!0}}});let te=0;if(D.syllabusImported&&((ue=D.syllabusData)!=null&&ue.generatedMaterials)){const be=W6(j);D.syllabusData.generatedMaterials.forEach(ve=>{const Re=Vn(Zn(j,"materials")),Be={title:ve.title||"Untitled Material",header:ve.header||{title:"",content:""},footer:ve.footer||{title:"",content:""},sections:(ve.sections||[]).map(Ue=>({...Ue,images:Ue.images||[],links:Ue.links||[],subsections:(Ue.subsections||[]).map(Ze=>({...Ze,images:Ze.images||[],links:Ze.links||[],subSubsections:(Ze.subSubsections||[]).map(Ge=>({...Ge,images:Ge.images||[],links:Ge.links||[]}))}))})),published:!0,course:Me.id,author:D.uid,timestamp:ta.now(),createdAt:new Date,updatedAt:new Date};ve.scheduledTimestamp&&(Be.scheduledTimestamp=ta.fromDate(ve.scheduledTimestamp)),be.set(Re,Be),te++}),await be.commit(),console.log(`Created ${te} materials from syllabus`)}await gi(Vn(j,"courseRequests",x),{status:"approved",courseId:Me.id,passcode:de});const ke={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:"Your Course Request Has Been Approved",html:`
            <p>Your course request has been approved:</p>
            <p><strong>Course:</strong> ${D.courseNumber} - ${D.courseTitle}</p>
            <p><strong>Passcode:</strong> ${de}</p>
            ${D.syllabusImported&&te>0?`<p><strong>Materials Created:</strong> ${te} materials have been automatically added to your course from your syllabus import.</p>`:""}
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/supplemental-materials">
            Click here to view your course.
            </a></p>
          `}};await pa(Zn(j,"mail"),ke),c(`Course request approved, course added${te>0?` with ${te} materials`:""}.`),p("success"),i(be=>be.map(ve=>ve.id===x?{...ve,status:"approved"}:ve))}catch(de){console.error("Error approving request: ",de),c("Error approving the request. Please try again."),p("error")}o(!0),H()}},G=async()=>{if(x){try{await gi(Vn(j,"courseRequests",x),{status:"denied"}),c("Course request denied."),p("success"),i(t.map(U=>U.id===x?{...U,status:"denied"}:U))}catch(U){console.error("Error denying request: ",U),c("Error denying the request. Please try again."),p("error")}o(!0),H()}},J=(U,q,fe)=>{_(U),y(q),E(fe),k(!0)},H=()=>{k(!1),_(null),y(null),E(null)},F=()=>{o(!1)},Q=()=>{M("/")};return w.jsxs(Ne,{sx:{padding:3},children:[w.jsx(Ne,{sx:{display:"flex",alignItems:"center"},children:w.jsx(Ct,{variant:"text",onClick:Q,sx:{mr:2},children:" Home Page"})}),w.jsx(xe,{variant:"h4",component:"h1",sx:{fontWeight:"bold",mb:3},children:"Course Creation Requests"}),w.jsx(sh,{component:hr,children:w.jsxs(ah,{children:[w.jsx(lh,{children:w.jsxs(Lo,{children:[w.jsx(St,{children:"Educator ID"}),w.jsx(St,{children:"Course Number"}),w.jsx(St,{children:"Course Title"}),w.jsx(St,{children:"Course Description"}),w.jsx(St,{children:"Creation Method"}),w.jsx(St,{children:"Timestamp"}),w.jsx(St,{children:"Actions"})]})}),w.jsx(ch,{children:t.map(U=>{var q,fe,ue,de,me;return w.jsxs(Lo,{children:[w.jsx(St,{children:U.uid}),w.jsx(St,{children:U.courseNumber}),w.jsx(St,{children:U.courseTitle}),w.jsx(St,{children:U.courseDescription.length>100?`${U.courseDescription.substring(0,100)}...`:U.courseDescription}),w.jsx(St,{children:U.syllabusImported?w.jsxs(Ne,{children:[w.jsxs(Ne,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[w.jsx(xe,{variant:"body2",color:"primary",sx:{fontWeight:"bold"},children:"Syllabus Import"}),((q=U.syllabusData)==null?void 0:q.syllabusFile)&&w.jsx(fa,{title:`Download: ${U.syllabusData.syllabusFile.metadata.originalFilename}`,children:w.jsx(Gn,{size:"small",onClick:()=>window.open(U.syllabusData.syllabusFile.url,"_blank"),sx:{color:"primary.main"},children:w.jsx(Bx,{fontSize:"small"})})})]}),w.jsxs(xe,{variant:"caption",color:"text.secondary",children:[((ue=(fe=U.syllabusData)==null?void 0:fe.generatedMaterials)==null?void 0:ue.length)||0," materials"]}),((de=U.syllabusData)==null?void 0:de.syllabusFile)&&w.jsx(xe,{variant:"caption",color:"text.secondary",sx:{display:"block"},children:U.syllabusData.syllabusFile.metadata.originalFilename})]}):w.jsx(xe,{variant:"body2",color:"text.secondary",children:"Manual Entry"})}),w.jsx(St,{children:(me=U.timestamp)!=null&&me.seconds?new Date(U.timestamp.seconds*1e3).toLocaleString():"Invalid Date"}),w.jsxs(St,{children:[U.status==="pending"&&w.jsxs(w.Fragment,{children:[w.jsx(Ct,{variant:"contained",color:"success",size:"small",onClick:()=>J("approve",U.id,U),sx:{mr:1},children:"Approve"}),w.jsx(Ct,{variant:"outlined",color:"error",size:"small",onClick:()=>J("deny",U.id,U),children:"Deny"})]}),U.status==="approved"&&w.jsx(xe,{variant:"body2",color:"success.main",sx:{fontWeight:"bold"},children:"Approved"}),U.status==="denied"&&w.jsx(xe,{variant:"body2",color:"error.main",sx:{fontWeight:"bold"},children:"Denied"})]})]},U.id)})})]})}),w.jsxs(Oo,{open:m,onClose:H,children:[w.jsx(ts,{children:v==="approve"?"Approve Course Request":"Deny Course Request"}),w.jsx(Bo,{children:w.jsx(bc,{children:v==="approve"?w.jsxs(w.Fragment,{children:["Are you sure you want to approve this course request?",(D==null?void 0:D.syllabusImported)&&w.jsxs(Ne,{sx:{mt:2,p:2,backgroundColor:"#ECF4FE",borderRadius:1},children:[w.jsx(xe,{variant:"body2",sx:{fontWeight:"bold"},children:" Syllabus Import Detected"}),w.jsxs(xe,{variant:"body2",children:["This request includes ",((ae=(Z=D==null?void 0:D.syllabusData)==null?void 0:Z.generatedMaterials)==null?void 0:ae.length)||0," auto-generated materials that will be added to the course."]}),((X=D==null?void 0:D.syllabusData)==null?void 0:X.syllabusFile)&&w.jsxs(Ne,{sx:{mt:1},children:[w.jsxs(xe,{variant:"body2",sx:{mb:1},children:[w.jsx("strong",{children:"Syllabus File:"})," ",D.syllabusData.syllabusFile.metadata.originalFilename," ","(",(D.syllabusData.syllabusFile.metadata.fileSize/1024/1024).toFixed(2)," MB)"]}),w.jsx(Ct,{size:"small",variant:"outlined",startIcon:w.jsx(Ny,{}),onClick:()=>window.open(D.syllabusData.syllabusFile.url,"_blank"),sx:{mt:.5},children:"View/Download Syllabus"})]}),((Y=D==null?void 0:D.syllabusData)==null?void 0:Y.additionalInfo)&&w.jsxs(xe,{variant:"body2",sx:{mt:1},children:[w.jsx("strong",{children:"Additional Info:"})," Contact info, policies, textbooks, and other course details extracted"]})]})]}):"Are you sure you want to deny this course request?"})}),w.jsxs(ns,{children:[w.jsx(Ct,{onClick:H,color:"primary",children:"Cancel"}),w.jsx(Ct,{onClick:v==="approve"?z:G,color:v==="approve"?"success":"error",variant:"contained",children:v==="approve"?"Approve":"Deny"})]})]}),w.jsx(Nl,{open:n,autoHideDuration:6e3,onClose:F,children:w.jsx(Rr,{onClose:F,severity:d,sx:{width:"100%"},children:a})})]})};var Zv={},Qj;function Ote(){if(Qj)return Zv;Qj=1;var t=ws();Object.defineProperty(Zv,"__esModule",{value:!0}),Zv.default=void 0;var i=t(ys()),n=vs();return Zv.default=(0,i.default)((0,n.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),Zv}var Bte=Ote();const Lte=Ei(Bte),Pte=()=>{const t=Nr(),{userDetails:i}=ko(),[n,o]=se.useState([]),[a,c]=se.useState(!0),[d,p]=se.useState(!1),[m,k]=se.useState(""),[v,_]=se.useState("info"),[x,y]=se.useState(!1),[D,E]=se.useState(""),[j,M]=se.useState(""),B=ao();se.useEffect(()=>{(async()=>{c(!0);try{const Y=(await so(Zn(t,"courses"))).docs.map(U=>{const q=U.data();return{id:U.id,title:q.title||"Untitled",number:q.number||"N/A",courseAdmin:q.courseAdmin||[]}});o(Y)}catch(X){console.error("Error fetching courses: ",X)}finally{c(!1)}})()},[t]);const z=async ae=>{if(!i){H("User details are not available.","error");return}const X=n.find(Y=>Y.id===ae);if(X&&i)try{if(X.courseAdmin.includes(i.uid)){H("You are already an admin for this course.","warning");return}const Y=Vn(t,"courses",ae),U=[...X.courseAdmin,i.uid];await gi(Y,{courseAdmin:U});const q=Vn(t,"users",i.uid);await gi(q,{[`classes.${ae}`]:{number:X.number,title:X.title,isCourseAdmin:!0}}),o(n.map(fe=>fe.id===ae?{...fe,courseAdmin:U}:fe)),H("You have been successfully added as an admin to this course.","success")}catch(Y){console.error("Error adding super-admin to course: ",Y),H("Failed to add admin to course.","error")}},G=ae=>{M(ae),y(!0)},J=async()=>{if(i&&D===i.uid){const ae=n.find(X=>X.id===j);if(ae&&ae.courseAdmin.includes(i.uid))try{await tA(Vn(t,"courses",j));const X=await so(Zn(t,"users")),Y=W6(t);X.forEach(U=>{const q=Vn(t,"users",U.id),ue={...U.data().classes};delete ue[j],Y.update(q,{classes:ue})}),await Y.commit(),o(n.filter(U=>U.id!==j)),H("Course deleted successfully.","success")}catch(X){console.error("Error deleting course: ",X),H("Failed to delete course.","error")}finally{y(!1),E("")}else H("You are not authorized to delete this course.","warning"),y(!1)}else H("User ID does not match. Please try again.","error")},H=(ae,X)=>{k(ae),_(X),p(!0)},F=(ae,X)=>{X!=="clickaway"&&p(!1)},Q=()=>{y(!1),E("")},Z=()=>{B("/")};return w.jsxs(Ne,{sx:{p:3},children:[w.jsx(Ne,{sx:{display:"flex",alignItems:"center",mb:2},children:w.jsx(Ct,{variant:"text",onClick:Z,sx:{mr:2},children:" Home Page"})}),w.jsx(xe,{variant:"h4",gutterBottom:!0,children:"Super Admin Course Management"}),a?w.jsx(xe,{children:"Loading courses..."}):w.jsx(sh,{component:hr,children:w.jsxs(ah,{"aria-label":"courses table",children:[w.jsx(lh,{children:w.jsxs(Lo,{children:[w.jsx(St,{sx:{fontWeight:"bold"},children:"Course ID"}),w.jsx(St,{sx:{fontWeight:"bold"},children:"Course Number"}),w.jsx(St,{sx:{fontWeight:"bold"},children:"Course Title"}),w.jsx(St,{sx:{fontWeight:"bold"},children:"Instructors"}),w.jsx(St,{align:"right",sx:{fontWeight:"bold"},children:"Actions"})]})}),w.jsx(ch,{children:n.map(ae=>{const X=!!(i!=null&&i.uid)&&ae.courseAdmin.includes(i.uid);return w.jsxs(Lo,{sx:{backgroundColor:X?"#e0f7fa":"transparent"},children:[w.jsx(St,{children:ae.id}),w.jsx(St,{children:ae.number}),w.jsx(St,{children:ae.title}),w.jsx(St,{children:ae.courseAdmin.length>0?ae.courseAdmin.join(", "):"No admins assigned"}),w.jsxs(St,{align:"right",children:[w.jsx(fa,{title:"Add yourself as an instructor",children:w.jsx("span",{children:w.jsx(Gn,{edge:"end","aria-label":"add",onClick:()=>z(ae.id),disabled:X,children:w.jsx(Lte,{})})})}),w.jsx(fa,{title:X?"Delete this course":"You are not authorized to delete this course",children:w.jsx("span",{children:w.jsx(Gn,{edge:"end","aria-label":"delete",onClick:()=>G(ae.id),disabled:!X,children:w.jsx(_k,{})})})})]})]},ae.id)})})]})}),w.jsx(Nl,{open:d,autoHideDuration:6e3,onClose:F,children:w.jsx(Rr,{onClose:F,severity:v,sx:{width:"100%"},children:m})}),w.jsxs(Oo,{open:x,onClose:Q,children:[w.jsx(ts,{children:"Confirm Delete"}),w.jsxs(Bo,{children:[w.jsx(bc,{children:"To confirm the deletion of this course, please enter your User ID:"}),w.jsx(yn,{autoFocus:!0,margin:"dense",id:"userId",label:"User ID",type:"text",fullWidth:!0,variant:"outlined",value:D,onChange:ae=>E(ae.target.value)})]}),w.jsxs(ns,{children:[w.jsx(Ct,{onClick:Q,color:"primary",children:"Cancel"}),w.jsx(Ct,{onClick:J,color:"primary",children:"Confirm"})]})]})]})};var Jv={},Zj;function Rte(){if(Zj)return Jv;Zj=1;var t=ws();Object.defineProperty(Jv,"__esModule",{value:!0}),Jv.default=void 0;var i=t(ys()),n=vs();return Jv.default=(0,i.default)((0,n.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download"),Jv}var zte=Rte();const dR=Ei(zte),hR=({filePath:t,fileLabel:i})=>{const[n,o]=se.useState(null),[a,c]=se.useState(!0);return se.useEffect(()=>{(async()=>{try{const p=Hm(),m=nh(p,t),k=await lp(m);o(k)}catch(p){console.error("Error fetching download URL:",p),alert("Failed to fetch file URL. Please check your permissions.")}finally{c(!1)}})()},[t]),a?w.jsx(ki,{size:20}):n?w.jsxs(Ne,{sx:{display:"flex",alignItems:"center",gap:1},children:[w.jsx(My,{href:n,target:"_blank",rel:"noopener noreferrer",sx:{textDecoration:"none",color:"#1976d2","&:hover":{textDecoration:"underline"}},children:i}),w.jsx(Gn,{component:"a",href:n,target:"_blank",rel:"noopener noreferrer","aria-label":"Open in new tab",size:"small",children:w.jsx(dR,{})})]}):w.jsx(Ne,{children:w.jsx(xe,{color:"error",children:"Failed to load file link"})})},Fte=()=>{const{userDetails:t}=ko(),[i,n]=se.useState([]),[o,a]=se.useState(!0);return se.useEffect(()=>{(async()=>{if(!(t!=null&&t.uid))return;const d=Nr(),p=Zn(d,"chatbotRequests"),m=pc(p,bo("educatorId","==",t.uid));try{const v=(await so(m)).docs.map(_=>({id:_.id,..._.data()}));n(v)}catch(k){console.error("Error fetching chatbot requests:",k)}finally{a(!1)}})()},[t==null?void 0:t.uid]),o?w.jsx(Ne,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:w.jsx(ki,{})}):i.length===0?w.jsx(xe,{variant:"body1",sx:{textAlign:"center",mt:4},children:"No chatbot requests found."}):w.jsxs(Ne,{children:[w.jsx(xe,{variant:"h6",sx:{mb:2},children:"Your Chatbot Requests"}),w.jsx(sh,{component:hr,elevation:3,sx:{maxHeight:400},children:w.jsxs(ah,{stickyHeader:!0,children:[w.jsx(lh,{children:w.jsxs(Lo,{children:[w.jsx(St,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Title"}),w.jsx(St,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Course"}),w.jsx(St,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Material"}),w.jsx(St,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Submitted On"}),w.jsx(St,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Status"}),w.jsx(St,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"File Links"})]})}),w.jsx(ch,{children:i.map((c,d)=>w.jsxs(Lo,{sx:{backgroundColor:d%2===0?"#F6E9B2":"#FBFADA","&:hover":{backgroundColor:"#E8E8E8"}},children:[w.jsx(St,{children:c.title}),w.jsx(St,{children:`${c.courseNumber} - ${c.courseTitle}`}),w.jsx(St,{children:c.materialTitle||"N/A"}),w.jsx(St,{children:new Date(c.timestamp).toLocaleString()}),w.jsx(St,{children:w.jsx(xe,{variant:"body2",sx:{color:c.status==="pending"?"#FFA726":"#43A047",fontWeight:"bold"},children:c.status})}),w.jsx(St,{children:c.files.map((p,m)=>w.jsx(hR,{filePath:p,fileLabel:`File ${m+1}`},m))})]},c.id))})]})})]})},Ute=()=>{const t=ao();return w.jsxs(Ne,{className:"profile-container",sx:{p:4},children:[w.jsx(Ct,{variant:"text",onClick:()=>t("/"),className:"profile-button",children:" Home Page"}),w.jsx(xe,{className:"webpage_title",sx:{mb:2},children:"Chatbot Management"}),w.jsx(xe,{variant:"body1",className:"profile-text",sx:{mb:3},children:"Manage your chatbots or create new chatbot requests."}),w.jsx(Ct,{variant:"contained",onClick:()=>t("/request-chatbot"),sx:{mt:2},className:"submit-button",children:"Request a New Chatbot"}),w.jsx(Fte,{})]})},qte=({folderPath:t,onUploadComplete:i})=>{const[n,o]=se.useState(!1),[a,c]=se.useState([]),[d,p]=se.useState(null),m=5*1024*1024,k=[".pdf",".ppt",".pptx",".doc",".docx",".txt"],v=async _=>{if(!_.target.files)return;const x=Array.from(_.target.files),y=Hm(),D=[];o(!0),p(null);try{for(const E of x){const j=E.name.slice(E.name.lastIndexOf(".")).toLowerCase();if(!k.includes(j)){p(`File ${E.name} is not a supported format.`);continue}if(E.size>m){p(`File ${E.name} exceeds the 5 MB limit and cannot be uploaded.`);continue}const M=nh(y,`${t}/files/${E.name}`);await Nm(M,E);const B=await lp(M);D.push(B)}c(E=>[...E,...x]),i(D)}catch(E){console.error("Error uploading files:",E),p("Failed to upload files. Please try again.")}finally{o(!1)}};return w.jsxs(Ne,{children:[w.jsx("input",{type:"file",accept:".pdf,.ppt,.pptx,.doc,.docx,.txt",multiple:!0,onChange:v,style:{display:"none"},id:"file-upload"}),w.jsx("label",{htmlFor:"file-upload",children:w.jsx(Ct,{variant:"contained",component:"span",disabled:n,startIcon:n?w.jsx(ki,{size:20}):null,children:n?"Uploading...":"Select and Upload Files"})}),d&&w.jsx(Rr,{severity:"error",sx:{mt:2},children:d}),w.jsx(Ne,{sx:{marginTop:2},children:a.map((_,x)=>w.jsx(xe,{children:_.name},x))})]})},Vte=gb()(Ak((t,i)=>({materials:[],selectedCourse:null,loading:!1,error:null,isEditing:!1,selectedMaterial:null,setMaterials:n=>t({materials:n}),addMaterial:n=>t(o=>({materials:[...o.materials,n]})),updateMaterial:(n,o)=>t(a=>({materials:a.materials.map(c=>c.id===n?{...c,...o}:c)})),deleteMaterial:n=>t(o=>({materials:o.materials.filter(a=>a.id!==n)})),setSelectedCourse:n=>t({selectedCourse:n}),setLoading:n=>t({loading:n}),setError:n=>t({error:n}),setIsEditing:n=>t({isEditing:n}),setSelectedMaterial:n=>t({selectedMaterial:n}),fetchMaterials:async n=>{t({loading:!0,error:null});try{const{db:o}=await No(async()=>{const{db:v}=await Promise.resolve().then(()=>jm);return{db:v}},void 0),{collection:a,query:c,where:d,onSnapshot:p,orderBy:m}=await No(async()=>{const{collection:v,query:_,where:x,onSnapshot:y,orderBy:D}=await import("./firebase-DpGenoA-.js").then(E=>E.B);return{collection:v,query:_,where:x,onSnapshot:y,orderBy:D}},[]),k=c(a(o,"materials"),d("course","==",n),m("timestamp","desc"));return new Promise(v=>{p(k,_=>{const x=_.docs.map(y=>({id:y.id,...y.data()}));t({materials:x,loading:!1}),v(void 0)})})}catch(o){t({error:o instanceof Error?o.message:"Failed to fetch materials",loading:!1})}},publishMaterial:async n=>{try{const{db:o}=await No(async()=>{const{db:d}=await Promise.resolve().then(()=>jm);return{db:d}},void 0),{doc:a,updateDoc:c}=await No(async()=>{const{doc:d,updateDoc:p}=await import("./firebase-DpGenoA-.js").then(m=>m.B);return{doc:d,updateDoc:p}},[]);await c(a(o,"materials",n),{published:!0}),i().updateMaterial(n,{published:!0})}catch{t({error:"Failed to publish material"})}},unpublishMaterial:async n=>{try{const{db:o}=await No(async()=>{const{db:d}=await Promise.resolve().then(()=>jm);return{db:d}},void 0),{doc:a,updateDoc:c}=await No(async()=>{const{doc:d,updateDoc:p}=await import("./firebase-DpGenoA-.js").then(m=>m.B);return{doc:d,updateDoc:p}},[]);await c(a(o,"materials",n),{published:!1}),i().updateMaterial(n,{published:!1})}catch{t({error:"Failed to unpublish material"})}}}))),Hte=()=>{const{userDetails:t}=ko(),i=ao(),n=Nr(),[o,a]=se.useState(""),[c,d]=se.useState(""),[p,m]=se.useState(""),[k,v]=se.useState([]),[_,x]=se.useState(!1),[y,D]=se.useState(""),[E,j]=se.useState("success"),{materials:M,loading:B,error:z,fetchMaterials:G}=Vte();se.useEffect(()=>{m(""),c&&G(c)},[c,G]);const J=Z=>{v(ae=>[...ae,...Z])},H=async()=>{var q;if(!o||!c||!p||k.length===0){D("Please fill all required fields and upload at least one file."),j("error"),x(!0);return}const Z=(q=t==null?void 0:t.classes)==null?void 0:q[c];if(!Z||!Z.isCourseAdmin){D("You are not authorized to request a chatbot for this course."),j("error"),x(!0);return}const ae=(Z==null?void 0:Z.number)??"N/A",X=(Z==null?void 0:Z.title)??"Untitled Course",Y=M.find(fe=>fe.id===p);if(!Y){D("Selected material details could not be found."),j("error"),x(!0);return}const{title:U}=Y;try{const fe=await pa(Zn(n,"chatbotRequests"),{educatorId:t==null?void 0:t.uid,courseId:c,courseNumber:ae,courseTitle:X,materialId:p,materialTitle:U,title:o,files:k,status:"pending",timestamp:new Date().toISOString()});await pa(Zn(n,"mail"),{to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:"New Chatbot Request Submitted",html:`
            <p>A new chatbot request has been submitted:</p>
            <p><strong>Title:</strong> ${o}</p>
            <p><strong>Educator ID:</strong> ${t==null?void 0:t.uid}</p>
            <p><strong>Course:</strong> ${ae} - ${X}</p>
            <p><strong>Material:</strong> ${U}</p>
            <p><strong>Request ID:</strong> ${fe.id}</p>
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/super-admin-chatbot-requests">
            Click here to review the request.
            </a></p>
          `}}),D("Chatbot request submitted successfully!"),j("success"),x(!0),setTimeout(()=>i("/chatbot-management"),1500)}catch(fe){console.error("Error submitting chatbot request:",fe),D("Failed to submit the chatbot request. Please try again."),j("error"),x(!0)}},F=()=>{i("/chatbot-management")},Q=()=>{x(!1)};return w.jsxs(Ne,{className:"profile-container",sx:{p:4},children:[w.jsx(Ct,{variant:"text",onClick:F,className:"profile-button",children:" Chatbot Management"}),w.jsx(xe,{className:"webpage_title",sx:{mb:2},children:"Request to Create a Chatbot"}),w.jsx(xe,{variant:"body1",className:"profile-text",sx:{mb:3},children:"Fill out the form below to request a chatbot. Please upload all related materials for the chatbot's knowledge base."}),w.jsx(yn,{label:"Chatbot Title",value:o,onChange:Z=>a(Z.target.value),fullWidth:!0,margin:"normal",required:!0,className:"form-field"}),w.jsx(yn,{label:"Course ID",value:c,onChange:Z=>d(Z.target.value),fullWidth:!0,margin:"normal",required:!0,select:!0,helperText:"Only courses where you are an admin are available for chatbot requests.",className:"form-field",children:Object.keys((t==null?void 0:t.classes)||{}).filter(Z=>{var ae,X;return(X=(ae=t==null?void 0:t.classes)==null?void 0:ae[Z])==null?void 0:X.isCourseAdmin}).map(Z=>{var ae,X;return w.jsx($r,{value:Z,children:((X=(ae=t==null?void 0:t.classes)==null?void 0:ae[Z])==null?void 0:X.title)||"Untitled Course"},Z)})}),w.jsx(yn,{label:"Material",value:p,onChange:Z=>m(Z.target.value),fullWidth:!0,margin:"normal",required:!0,select:!0,disabled:!c||B,helperText:c?z||(B?"Loading materials...":M.length===0?"No materials available for this course.":""):"Please select a course first.",children:c?B?w.jsxs($r,{disabled:!0,children:[w.jsx(ki,{size:20,sx:{marginRight:2}}),"Loading..."]}):M.length===0?w.jsx($r,{disabled:!0,children:"No materials found"}):M.map(Z=>w.jsx($r,{value:Z.id,children:Z.title},Z.id)):w.jsx($r,{disabled:!0,children:"Please select a course first"})}),w.jsxs(Ne,{sx:{mt:3},children:[w.jsx(xe,{variant:"body1",className:"profile-text",sx:{mb:2},children:"Upload your files below (PDF, PPT, DOC/DOCX, TXT formats only):"}),w.jsx(qte,{folderPath:`chatbotRequests/${t==null?void 0:t.uid}`,onUploadComplete:J})]}),w.jsx(Ct,{variant:"contained",onClick:H,sx:{mt:4},className:"submit-button",children:"Submit Request"}),w.jsx(Nl,{open:_,autoHideDuration:6e3,onClose:Q,children:w.jsx(Rr,{severity:E,onClose:Q,children:y})})]})};var Xv={},Jj;function $te(){if(Jj)return Xv;Jj=1;var t=ws();Object.defineProperty(Xv,"__esModule",{value:!0}),Xv.default=void 0;var i=t(ys()),n=vs();return Xv.default=(0,i.default)((0,n.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),Xv}var Wte=$te();const Gte=Ei(Wte),ey=oh(St)({fontWeight:"bold",color:"#fff",backgroundColor:"#123372",fontSize:"1rem",textAlign:"center"}),Yte=oh(Lo)({"& td, & th":{padding:"12px 16px"},"&:nth-of-type(odd)":{backgroundColor:"#f9f9f9"},"&:hover":{backgroundColor:"#e0e0e0"}}),Xj=oh(Gn)({width:40,height:40,padding:0,display:"flex",alignItems:"center",justifyContent:"center",textTransform:"capitalize",borderRadius:"8px",color:"#123372"}),Kte=({conversations:t,onViewHistory:i,onDeleteConversation:n,loadingMap:o})=>t.length===0?w.jsx(xe,{variant:"body1",sx:{textAlign:"center",mt:4},children:"No conversations available to display."}):w.jsx(Ne,{sx:{mt:3},children:w.jsx(sh,{component:hr,sx:{boxShadow:"0px 5px 15px rgba(0, 0, 0, 0.1)",borderRadius:"10px"},children:w.jsxs(ah,{children:[w.jsx(lh,{children:w.jsxs(Lo,{children:[w.jsx(ey,{children:"Conversation ID"}),w.jsx(ey,{children:"User ID"}),w.jsx(ey,{children:"Chatbot ID"}),w.jsx(ey,{children:"Timestamp (Started At)"}),w.jsx(ey,{children:"Actions"})]})}),w.jsx(ch,{children:t.length>0?t.map(a=>w.jsxs(Yte,{children:[w.jsx(St,{align:"center",children:a.id}),w.jsx(St,{align:"center",children:a.userId}),w.jsx(St,{align:"center",children:a.chatbotId}),w.jsx(St,{align:"center",children:a.startedAt?new Date(a.startedAt).toLocaleString():"Invalid date"}),w.jsx(St,{align:"center",children:w.jsxs(Ne,{sx:{display:"flex",justifyContent:"center",gap:1},children:[w.jsx(fa,{title:"View Data",children:w.jsx(Xj,{onClick:()=>i(a.chatbotId,a.id,a.userId,a.startedAt),color:"primary",disabled:o[a.id],children:o[a.id]?w.jsx(ki,{size:20,color:"inherit"}):w.jsx(Gte,{})})}),w.jsx(fa,{title:"Delete Conversation",children:w.jsx(Xj,{onClick:()=>n(a.id),color:"error",children:w.jsx(_k,{})})})]})})]},a.id)):w.jsx(Lo,{children:w.jsx(St,{colSpan:5,align:"center",children:"No conversations available for the selected filters."})})})]})})});function fR(t,i){return function(){return t.apply(i,arguments)}}const{toString:Qte}=Object.prototype,{getPrototypeOf:kI}=Object,{iterator:I5,toStringTag:pR}=Symbol,T5=(t=>i=>{const n=Qte.call(i);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),hh=t=>(t=t.toLowerCase(),i=>T5(i)===t),M5=t=>i=>typeof i===t,{isArray:xk}=Array,Uy=M5("undefined");function Zte(t){return t!==null&&!Uy(t)&&t.constructor!==null&&!Uy(t.constructor)&&uc(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const mR=hh("ArrayBuffer");function Jte(t){let i;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?i=ArrayBuffer.isView(t):i=t&&t.buffer&&mR(t.buffer),i}const Xte=M5("string"),uc=M5("function"),gR=M5("number"),N5=t=>t!==null&&typeof t=="object",ene=t=>t===!0||t===!1,yx=t=>{if(T5(t)!=="object")return!1;const i=kI(t);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(pR in t)&&!(I5 in t)},tne=hh("Date"),nne=hh("File"),rne=hh("Blob"),ine=hh("FileList"),one=t=>N5(t)&&uc(t.pipe),sne=t=>{let i;return t&&(typeof FormData=="function"&&t instanceof FormData||uc(t.append)&&((i=T5(t))==="formdata"||i==="object"&&uc(t.toString)&&t.toString()==="[object FormData]"))},ane=hh("URLSearchParams"),[lne,cne,une,dne]=["ReadableStream","Request","Response","Headers"].map(hh),hne=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function dA(t,i,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let o,a;if(typeof t!="object"&&(t=[t]),xk(t))for(o=0,a=t.length;o<a;o++)i.call(null,t[o],o,t);else{const c=n?Object.getOwnPropertyNames(t):Object.keys(t),d=c.length;let p;for(o=0;o<d;o++)p=c[o],i.call(null,t[p],p,t)}}function bR(t,i){i=i.toLowerCase();const n=Object.keys(t);let o=n.length,a;for(;o-- >0;)if(a=n[o],i===a.toLowerCase())return a;return null}const Xg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,kR=t=>!Uy(t)&&t!==Xg;function l6(){const{caseless:t}=kR(this)&&this||{},i={},n=(o,a)=>{const c=t&&bR(i,a)||a;yx(i[c])&&yx(o)?i[c]=l6(i[c],o):yx(o)?i[c]=l6({},o):xk(o)?i[c]=o.slice():i[c]=o};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&dA(arguments[o],n);return i}const fne=(t,i,n,{allOwnKeys:o}={})=>(dA(i,(a,c)=>{n&&uc(a)?t[c]=fR(a,n):t[c]=a},{allOwnKeys:o}),t),pne=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),mne=(t,i,n,o)=>{t.prototype=Object.create(i.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:i.prototype}),n&&Object.assign(t.prototype,n)},gne=(t,i,n,o)=>{let a,c,d;const p={};if(i=i||{},t==null)return i;do{for(a=Object.getOwnPropertyNames(t),c=a.length;c-- >0;)d=a[c],(!o||o(d,t,i))&&!p[d]&&(i[d]=t[d],p[d]=!0);t=n!==!1&&kI(t)}while(t&&(!n||n(t,i))&&t!==Object.prototype);return i},bne=(t,i,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=i.length;const o=t.indexOf(i,n);return o!==-1&&o===n},kne=t=>{if(!t)return null;if(xk(t))return t;let i=t.length;if(!gR(i))return null;const n=new Array(i);for(;i-- >0;)n[i]=t[i];return n},wne=(t=>i=>t&&i instanceof t)(typeof Uint8Array<"u"&&kI(Uint8Array)),vne=(t,i)=>{const o=(t&&t[I5]).call(t);let a;for(;(a=o.next())&&!a.done;){const c=a.value;i.call(t,c[0],c[1])}},yne=(t,i)=>{let n;const o=[];for(;(n=t.exec(i))!==null;)o.push(n);return o},Ane=hh("HTMLFormElement"),_ne=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,o,a){return o.toUpperCase()+a}),eO=(({hasOwnProperty:t})=>(i,n)=>t.call(i,n))(Object.prototype),Cne=hh("RegExp"),wR=(t,i)=>{const n=Object.getOwnPropertyDescriptors(t),o={};dA(n,(a,c)=>{let d;(d=i(a,c,t))!==!1&&(o[c]=d||a)}),Object.defineProperties(t,o)},xne=t=>{wR(t,(i,n)=>{if(uc(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const o=t[n];if(uc(o)){if(i.enumerable=!1,"writable"in i){i.writable=!1;return}i.set||(i.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Sne=(t,i)=>{const n={},o=a=>{a.forEach(c=>{n[c]=!0})};return xk(t)?o(t):o(String(t).split(i)),n},Ene=()=>{},Dne=(t,i)=>t!=null&&Number.isFinite(t=+t)?t:i;function Ine(t){return!!(t&&uc(t.append)&&t[pR]==="FormData"&&t[I5])}const Tne=t=>{const i=new Array(10),n=(o,a)=>{if(N5(o)){if(i.indexOf(o)>=0)return;if(!("toJSON"in o)){i[a]=o;const c=xk(o)?[]:{};return dA(o,(d,p)=>{const m=n(d,a+1);!Uy(m)&&(c[p]=m)}),i[a]=void 0,c}}return o};return n(t,0)},Mne=hh("AsyncFunction"),Nne=t=>t&&(N5(t)||uc(t))&&uc(t.then)&&uc(t.catch),vR=((t,i)=>t?setImmediate:i?((n,o)=>(Xg.addEventListener("message",({source:a,data:c})=>{a===Xg&&c===n&&o.length&&o.shift()()},!1),a=>{o.push(a),Xg.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",uc(Xg.postMessage)),jne=typeof queueMicrotask<"u"?queueMicrotask.bind(Xg):typeof process<"u"&&process.nextTick||vR,One=t=>t!=null&&uc(t[I5]),At={isArray:xk,isArrayBuffer:mR,isBuffer:Zte,isFormData:sne,isArrayBufferView:Jte,isString:Xte,isNumber:gR,isBoolean:ene,isObject:N5,isPlainObject:yx,isReadableStream:lne,isRequest:cne,isResponse:une,isHeaders:dne,isUndefined:Uy,isDate:tne,isFile:nne,isBlob:rne,isRegExp:Cne,isFunction:uc,isStream:one,isURLSearchParams:ane,isTypedArray:wne,isFileList:ine,forEach:dA,merge:l6,extend:fne,trim:hne,stripBOM:pne,inherits:mne,toFlatObject:gne,kindOf:T5,kindOfTest:hh,endsWith:bne,toArray:kne,forEachEntry:vne,matchAll:yne,isHTMLForm:Ane,hasOwnProperty:eO,hasOwnProp:eO,reduceDescriptors:wR,freezeMethods:xne,toObjectSet:Sne,toCamelCase:_ne,noop:Ene,toFiniteNumber:Dne,findKey:bR,global:Xg,isContextDefined:kR,isSpecCompliantForm:Ine,toJSONObject:Tne,isAsyncFn:Mne,isThenable:Nne,setImmediate:vR,asap:jne,isIterable:One};function ur(t,i,n,o,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",i&&(this.code=i),n&&(this.config=n),o&&(this.request=o),a&&(this.response=a,this.status=a.status?a.status:null)}At.inherits(ur,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:At.toJSONObject(this.config),code:this.code,status:this.status}}});const yR=ur.prototype,AR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{AR[t]={value:t}});Object.defineProperties(ur,AR);Object.defineProperty(yR,"isAxiosError",{value:!0});ur.from=(t,i,n,o,a,c)=>{const d=Object.create(yR);return At.toFlatObject(t,d,function(m){return m!==Error.prototype},p=>p!=="isAxiosError"),ur.call(d,t.message,i,n,o,a),d.cause=t,d.name=t.name,c&&Object.assign(d,c),d};const Bne=null;function c6(t){return At.isPlainObject(t)||At.isArray(t)}function _R(t){return At.endsWith(t,"[]")?t.slice(0,-2):t}function tO(t,i,n){return t?t.concat(i).map(function(a,c){return a=_R(a),!n&&c?"["+a+"]":a}).join(n?".":""):i}function Lne(t){return At.isArray(t)&&!t.some(c6)}const Pne=At.toFlatObject(At,{},null,function(i){return/^is[A-Z]/.test(i)});function j5(t,i,n){if(!At.isObject(t))throw new TypeError("target must be an object");i=i||new FormData,n=At.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,j){return!At.isUndefined(j[E])});const o=n.metaTokens,a=n.visitor||v,c=n.dots,d=n.indexes,m=(n.Blob||typeof Blob<"u"&&Blob)&&At.isSpecCompliantForm(i);if(!At.isFunction(a))throw new TypeError("visitor must be a function");function k(D){if(D===null)return"";if(At.isDate(D))return D.toISOString();if(At.isBoolean(D))return D.toString();if(!m&&At.isBlob(D))throw new ur("Blob is not supported. Use a Buffer instead.");return At.isArrayBuffer(D)||At.isTypedArray(D)?m&&typeof Blob=="function"?new Blob([D]):Buffer.from(D):D}function v(D,E,j){let M=D;if(D&&!j&&typeof D=="object"){if(At.endsWith(E,"{}"))E=o?E:E.slice(0,-2),D=JSON.stringify(D);else if(At.isArray(D)&&Lne(D)||(At.isFileList(D)||At.endsWith(E,"[]"))&&(M=At.toArray(D)))return E=_R(E),M.forEach(function(z,G){!(At.isUndefined(z)||z===null)&&i.append(d===!0?tO([E],G,c):d===null?E:E+"[]",k(z))}),!1}return c6(D)?!0:(i.append(tO(j,E,c),k(D)),!1)}const _=[],x=Object.assign(Pne,{defaultVisitor:v,convertValue:k,isVisitable:c6});function y(D,E){if(!At.isUndefined(D)){if(_.indexOf(D)!==-1)throw Error("Circular reference detected in "+E.join("."));_.push(D),At.forEach(D,function(M,B){(!(At.isUndefined(M)||M===null)&&a.call(i,M,At.isString(B)?B.trim():B,E,x))===!0&&y(M,E?E.concat(B):[B])}),_.pop()}}if(!At.isObject(t))throw new TypeError("data must be an object");return y(t),i}function nO(t){const i={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(o){return i[o]})}function wI(t,i){this._pairs=[],t&&j5(t,this,i)}const CR=wI.prototype;CR.append=function(i,n){this._pairs.push([i,n])};CR.toString=function(i){const n=i?function(o){return i.call(this,o,nO)}:nO;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function Rne(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function xR(t,i,n){if(!i)return t;const o=n&&n.encode||Rne;At.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let c;if(a?c=a(i,n):c=At.isURLSearchParams(i)?i.toString():new wI(i,n).toString(o),c){const d=t.indexOf("#");d!==-1&&(t=t.slice(0,d)),t+=(t.indexOf("?")===-1?"?":"&")+c}return t}class rO{constructor(){this.handlers=[]}use(i,n,o){return this.handlers.push({fulfilled:i,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(i){this.handlers[i]&&(this.handlers[i]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(i){At.forEach(this.handlers,function(o){o!==null&&i(o)})}}const SR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zne=typeof URLSearchParams<"u"?URLSearchParams:wI,Fne=typeof FormData<"u"?FormData:null,Une=typeof Blob<"u"?Blob:null,qne={isBrowser:!0,classes:{URLSearchParams:zne,FormData:Fne,Blob:Une},protocols:["http","https","file","blob","url","data"]},vI=typeof window<"u"&&typeof document<"u",u6=typeof navigator=="object"&&navigator||void 0,Vne=vI&&(!u6||["ReactNative","NativeScript","NS"].indexOf(u6.product)<0),Hne=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",$ne=vI&&window.location.href||"http://localhost",Wne=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:vI,hasStandardBrowserEnv:Vne,hasStandardBrowserWebWorkerEnv:Hne,navigator:u6,origin:$ne},Symbol.toStringTag,{value:"Module"})),cl={...Wne,...qne};function Gne(t,i){return j5(t,new cl.classes.URLSearchParams,Object.assign({visitor:function(n,o,a,c){return cl.isNode&&At.isBuffer(n)?(this.append(o,n.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)}},i))}function Yne(t){return At.matchAll(/\w+|\[(\w*)]/g,t).map(i=>i[0]==="[]"?"":i[1]||i[0])}function Kne(t){const i={},n=Object.keys(t);let o;const a=n.length;let c;for(o=0;o<a;o++)c=n[o],i[c]=t[c];return i}function ER(t){function i(n,o,a,c){let d=n[c++];if(d==="__proto__")return!0;const p=Number.isFinite(+d),m=c>=n.length;return d=!d&&At.isArray(a)?a.length:d,m?(At.hasOwnProp(a,d)?a[d]=[a[d],o]:a[d]=o,!p):((!a[d]||!At.isObject(a[d]))&&(a[d]=[]),i(n,o,a[d],c)&&At.isArray(a[d])&&(a[d]=Kne(a[d])),!p)}if(At.isFormData(t)&&At.isFunction(t.entries)){const n={};return At.forEachEntry(t,(o,a)=>{i(Yne(o),a,n,0)}),n}return null}function Qne(t,i,n){if(At.isString(t))try{return(i||JSON.parse)(t),At.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(n||JSON.stringify)(t)}const hA={transitional:SR,adapter:["xhr","http","fetch"],transformRequest:[function(i,n){const o=n.getContentType()||"",a=o.indexOf("application/json")>-1,c=At.isObject(i);if(c&&At.isHTMLForm(i)&&(i=new FormData(i)),At.isFormData(i))return a?JSON.stringify(ER(i)):i;if(At.isArrayBuffer(i)||At.isBuffer(i)||At.isStream(i)||At.isFile(i)||At.isBlob(i)||At.isReadableStream(i))return i;if(At.isArrayBufferView(i))return i.buffer;if(At.isURLSearchParams(i))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),i.toString();let p;if(c){if(o.indexOf("application/x-www-form-urlencoded")>-1)return Gne(i,this.formSerializer).toString();if((p=At.isFileList(i))||o.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return j5(p?{"files[]":i}:i,m&&new m,this.formSerializer)}}return c||a?(n.setContentType("application/json",!1),Qne(i)):i}],transformResponse:[function(i){const n=this.transitional||hA.transitional,o=n&&n.forcedJSONParsing,a=this.responseType==="json";if(At.isResponse(i)||At.isReadableStream(i))return i;if(i&&At.isString(i)&&(o&&!this.responseType||a)){const d=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(i)}catch(p){if(d)throw p.name==="SyntaxError"?ur.from(p,ur.ERR_BAD_RESPONSE,this,null,this.response):p}}return i}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:cl.classes.FormData,Blob:cl.classes.Blob},validateStatus:function(i){return i>=200&&i<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};At.forEach(["delete","get","head","post","put","patch"],t=>{hA.headers[t]={}});const Zne=At.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Jne=t=>{const i={};let n,o,a;return t&&t.split(`
`).forEach(function(d){a=d.indexOf(":"),n=d.substring(0,a).trim().toLowerCase(),o=d.substring(a+1).trim(),!(!n||i[n]&&Zne[n])&&(n==="set-cookie"?i[n]?i[n].push(o):i[n]=[o]:i[n]=i[n]?i[n]+", "+o:o)}),i},iO=Symbol("internals");function ty(t){return t&&String(t).trim().toLowerCase()}function Ax(t){return t===!1||t==null?t:At.isArray(t)?t.map(Ax):String(t)}function Xne(t){const i=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(t);)i[o[1]]=o[2];return i}const ere=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function rD(t,i,n,o,a){if(At.isFunction(o))return o.call(this,i,n);if(a&&(i=n),!!At.isString(i)){if(At.isString(o))return i.indexOf(o)!==-1;if(At.isRegExp(o))return o.test(i)}}function tre(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(i,n,o)=>n.toUpperCase()+o)}function nre(t,i){const n=At.toCamelCase(" "+i);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+n,{value:function(a,c,d){return this[o].call(this,i,a,c,d)},configurable:!0})})}let dc=class{constructor(i){i&&this.set(i)}set(i,n,o){const a=this;function c(p,m,k){const v=ty(m);if(!v)throw new Error("header name must be a non-empty string");const _=At.findKey(a,v);(!_||a[_]===void 0||k===!0||k===void 0&&a[_]!==!1)&&(a[_||m]=Ax(p))}const d=(p,m)=>At.forEach(p,(k,v)=>c(k,v,m));if(At.isPlainObject(i)||i instanceof this.constructor)d(i,n);else if(At.isString(i)&&(i=i.trim())&&!ere(i))d(Jne(i),n);else if(At.isObject(i)&&At.isIterable(i)){let p={},m,k;for(const v of i){if(!At.isArray(v))throw TypeError("Object iterator must return a key-value pair");p[k=v[0]]=(m=p[k])?At.isArray(m)?[...m,v[1]]:[m,v[1]]:v[1]}d(p,n)}else i!=null&&c(n,i,o);return this}get(i,n){if(i=ty(i),i){const o=At.findKey(this,i);if(o){const a=this[o];if(!n)return a;if(n===!0)return Xne(a);if(At.isFunction(n))return n.call(this,a,o);if(At.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(i,n){if(i=ty(i),i){const o=At.findKey(this,i);return!!(o&&this[o]!==void 0&&(!n||rD(this,this[o],o,n)))}return!1}delete(i,n){const o=this;let a=!1;function c(d){if(d=ty(d),d){const p=At.findKey(o,d);p&&(!n||rD(o,o[p],p,n))&&(delete o[p],a=!0)}}return At.isArray(i)?i.forEach(c):c(i),a}clear(i){const n=Object.keys(this);let o=n.length,a=!1;for(;o--;){const c=n[o];(!i||rD(this,this[c],c,i,!0))&&(delete this[c],a=!0)}return a}normalize(i){const n=this,o={};return At.forEach(this,(a,c)=>{const d=At.findKey(o,c);if(d){n[d]=Ax(a),delete n[c];return}const p=i?tre(c):String(c).trim();p!==c&&delete n[c],n[p]=Ax(a),o[p]=!0}),this}concat(...i){return this.constructor.concat(this,...i)}toJSON(i){const n=Object.create(null);return At.forEach(this,(o,a)=>{o!=null&&o!==!1&&(n[a]=i&&At.isArray(o)?o.join(", "):o)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([i,n])=>i+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(i){return i instanceof this?i:new this(i)}static concat(i,...n){const o=new this(i);return n.forEach(a=>o.set(a)),o}static accessor(i){const o=(this[iO]=this[iO]={accessors:{}}).accessors,a=this.prototype;function c(d){const p=ty(d);o[p]||(nre(a,d),o[p]=!0)}return At.isArray(i)?i.forEach(c):c(i),this}};dc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);At.reduceDescriptors(dc.prototype,({value:t},i)=>{let n=i[0].toUpperCase()+i.slice(1);return{get:()=>t,set(o){this[n]=o}}});At.freezeMethods(dc);function iD(t,i){const n=this||hA,o=i||n,a=dc.from(o.headers);let c=o.data;return At.forEach(t,function(p){c=p.call(n,c,a.normalize(),i?i.status:void 0)}),a.normalize(),c}function DR(t){return!!(t&&t.__CANCEL__)}function Sk(t,i,n){ur.call(this,t??"canceled",ur.ERR_CANCELED,i,n),this.name="CanceledError"}At.inherits(Sk,ur,{__CANCEL__:!0});function IR(t,i,n){const o=n.config.validateStatus;!n.status||!o||o(n.status)?t(n):i(new ur("Request failed with status code "+n.status,[ur.ERR_BAD_REQUEST,ur.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function rre(t){const i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return i&&i[1]||""}function ire(t,i){t=t||10;const n=new Array(t),o=new Array(t);let a=0,c=0,d;return i=i!==void 0?i:1e3,function(m){const k=Date.now(),v=o[c];d||(d=k),n[a]=m,o[a]=k;let _=c,x=0;for(;_!==a;)x+=n[_++],_=_%t;if(a=(a+1)%t,a===c&&(c=(c+1)%t),k-d<i)return;const y=v&&k-v;return y?Math.round(x*1e3/y):void 0}}function ore(t,i){let n=0,o=1e3/i,a,c;const d=(k,v=Date.now())=>{n=v,a=null,c&&(clearTimeout(c),c=null),t.apply(null,k)};return[(...k)=>{const v=Date.now(),_=v-n;_>=o?d(k,v):(a=k,c||(c=setTimeout(()=>{c=null,d(a)},o-_)))},()=>a&&d(a)]}const r5=(t,i,n=3)=>{let o=0;const a=ire(50,250);return ore(c=>{const d=c.loaded,p=c.lengthComputable?c.total:void 0,m=d-o,k=a(m),v=d<=p;o=d;const _={loaded:d,total:p,progress:p?d/p:void 0,bytes:m,rate:k||void 0,estimated:k&&p&&v?(p-d)/k:void 0,event:c,lengthComputable:p!=null,[i?"download":"upload"]:!0};t(_)},n)},oO=(t,i)=>{const n=t!=null;return[o=>i[0]({lengthComputable:n,total:t,loaded:o}),i[1]]},sO=t=>(...i)=>At.asap(()=>t(...i)),sre=cl.hasStandardBrowserEnv?((t,i)=>n=>(n=new URL(n,cl.origin),t.protocol===n.protocol&&t.host===n.host&&(i||t.port===n.port)))(new URL(cl.origin),cl.navigator&&/(msie|trident)/i.test(cl.navigator.userAgent)):()=>!0,are=cl.hasStandardBrowserEnv?{write(t,i,n,o,a,c){const d=[t+"="+encodeURIComponent(i)];At.isNumber(n)&&d.push("expires="+new Date(n).toGMTString()),At.isString(o)&&d.push("path="+o),At.isString(a)&&d.push("domain="+a),c===!0&&d.push("secure"),document.cookie=d.join("; ")},read(t){const i=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function lre(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function cre(t,i){return i?t.replace(/\/?\/$/,"")+"/"+i.replace(/^\/+/,""):t}function TR(t,i,n){let o=!lre(i);return t&&(o||n==!1)?cre(t,i):i}const aO=t=>t instanceof dc?{...t}:t;function pb(t,i){i=i||{};const n={};function o(k,v,_,x){return At.isPlainObject(k)&&At.isPlainObject(v)?At.merge.call({caseless:x},k,v):At.isPlainObject(v)?At.merge({},v):At.isArray(v)?v.slice():v}function a(k,v,_,x){if(At.isUndefined(v)){if(!At.isUndefined(k))return o(void 0,k,_,x)}else return o(k,v,_,x)}function c(k,v){if(!At.isUndefined(v))return o(void 0,v)}function d(k,v){if(At.isUndefined(v)){if(!At.isUndefined(k))return o(void 0,k)}else return o(void 0,v)}function p(k,v,_){if(_ in i)return o(k,v);if(_ in t)return o(void 0,k)}const m={url:c,method:c,data:c,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:p,headers:(k,v,_)=>a(aO(k),aO(v),_,!0)};return At.forEach(Object.keys(Object.assign({},t,i)),function(v){const _=m[v]||a,x=_(t[v],i[v],v);At.isUndefined(x)&&_!==p||(n[v]=x)}),n}const MR=t=>{const i=pb({},t);let{data:n,withXSRFToken:o,xsrfHeaderName:a,xsrfCookieName:c,headers:d,auth:p}=i;i.headers=d=dc.from(d),i.url=xR(TR(i.baseURL,i.url,i.allowAbsoluteUrls),t.params,t.paramsSerializer),p&&d.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):"")));let m;if(At.isFormData(n)){if(cl.hasStandardBrowserEnv||cl.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((m=d.getContentType())!==!1){const[k,...v]=m?m.split(";").map(_=>_.trim()).filter(Boolean):[];d.setContentType([k||"multipart/form-data",...v].join("; "))}}if(cl.hasStandardBrowserEnv&&(o&&At.isFunction(o)&&(o=o(i)),o||o!==!1&&sre(i.url))){const k=a&&c&&are.read(c);k&&d.set(a,k)}return i},ure=typeof XMLHttpRequest<"u",dre=ure&&function(t){return new Promise(function(n,o){const a=MR(t);let c=a.data;const d=dc.from(a.headers).normalize();let{responseType:p,onUploadProgress:m,onDownloadProgress:k}=a,v,_,x,y,D;function E(){y&&y(),D&&D(),a.cancelToken&&a.cancelToken.unsubscribe(v),a.signal&&a.signal.removeEventListener("abort",v)}let j=new XMLHttpRequest;j.open(a.method.toUpperCase(),a.url,!0),j.timeout=a.timeout;function M(){if(!j)return;const z=dc.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),J={data:!p||p==="text"||p==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:z,config:t,request:j};IR(function(F){n(F),E()},function(F){o(F),E()},J),j=null}"onloadend"in j?j.onloadend=M:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(M)},j.onabort=function(){j&&(o(new ur("Request aborted",ur.ECONNABORTED,t,j)),j=null)},j.onerror=function(){o(new ur("Network Error",ur.ERR_NETWORK,t,j)),j=null},j.ontimeout=function(){let G=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const J=a.transitional||SR;a.timeoutErrorMessage&&(G=a.timeoutErrorMessage),o(new ur(G,J.clarifyTimeoutError?ur.ETIMEDOUT:ur.ECONNABORTED,t,j)),j=null},c===void 0&&d.setContentType(null),"setRequestHeader"in j&&At.forEach(d.toJSON(),function(G,J){j.setRequestHeader(J,G)}),At.isUndefined(a.withCredentials)||(j.withCredentials=!!a.withCredentials),p&&p!=="json"&&(j.responseType=a.responseType),k&&([x,D]=r5(k,!0),j.addEventListener("progress",x)),m&&j.upload&&([_,y]=r5(m),j.upload.addEventListener("progress",_),j.upload.addEventListener("loadend",y)),(a.cancelToken||a.signal)&&(v=z=>{j&&(o(!z||z.type?new Sk(null,t,j):z),j.abort(),j=null)},a.cancelToken&&a.cancelToken.subscribe(v),a.signal&&(a.signal.aborted?v():a.signal.addEventListener("abort",v)));const B=rre(a.url);if(B&&cl.protocols.indexOf(B)===-1){o(new ur("Unsupported protocol "+B+":",ur.ERR_BAD_REQUEST,t));return}j.send(c||null)})},hre=(t,i)=>{const{length:n}=t=t?t.filter(Boolean):[];if(i||n){let o=new AbortController,a;const c=function(k){if(!a){a=!0,p();const v=k instanceof Error?k:this.reason;o.abort(v instanceof ur?v:new Sk(v instanceof Error?v.message:v))}};let d=i&&setTimeout(()=>{d=null,c(new ur(`timeout ${i} of ms exceeded`,ur.ETIMEDOUT))},i);const p=()=>{t&&(d&&clearTimeout(d),d=null,t.forEach(k=>{k.unsubscribe?k.unsubscribe(c):k.removeEventListener("abort",c)}),t=null)};t.forEach(k=>k.addEventListener("abort",c));const{signal:m}=o;return m.unsubscribe=()=>At.asap(p),m}},fre=function*(t,i){let n=t.byteLength;if(n<i){yield t;return}let o=0,a;for(;o<n;)a=o+i,yield t.slice(o,a),o=a},pre=async function*(t,i){for await(const n of mre(t))yield*fre(n,i)},mre=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const i=t.getReader();try{for(;;){const{done:n,value:o}=await i.read();if(n)break;yield o}}finally{await i.cancel()}},lO=(t,i,n,o)=>{const a=pre(t,i);let c=0,d,p=m=>{d||(d=!0,o&&o(m))};return new ReadableStream({async pull(m){try{const{done:k,value:v}=await a.next();if(k){p(),m.close();return}let _=v.byteLength;if(n){let x=c+=_;n(x)}m.enqueue(new Uint8Array(v))}catch(k){throw p(k),k}},cancel(m){return p(m),a.return()}},{highWaterMark:2})},O5=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",NR=O5&&typeof ReadableStream=="function",gre=O5&&(typeof TextEncoder=="function"?(t=>i=>t.encode(i))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),jR=(t,...i)=>{try{return!!t(...i)}catch{return!1}},bre=NR&&jR(()=>{let t=!1;const i=new Request(cl.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!i}),cO=64*1024,d6=NR&&jR(()=>At.isReadableStream(new Response("").body)),i5={stream:d6&&(t=>t.body)};O5&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(i=>{!i5[i]&&(i5[i]=At.isFunction(t[i])?n=>n[i]():(n,o)=>{throw new ur(`Response type '${i}' is not supported`,ur.ERR_NOT_SUPPORT,o)})})})(new Response);const kre=async t=>{if(t==null)return 0;if(At.isBlob(t))return t.size;if(At.isSpecCompliantForm(t))return(await new Request(cl.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(At.isArrayBufferView(t)||At.isArrayBuffer(t))return t.byteLength;if(At.isURLSearchParams(t)&&(t=t+""),At.isString(t))return(await gre(t)).byteLength},wre=async(t,i)=>{const n=At.toFiniteNumber(t.getContentLength());return n??kre(i)},vre=O5&&(async t=>{let{url:i,method:n,data:o,signal:a,cancelToken:c,timeout:d,onDownloadProgress:p,onUploadProgress:m,responseType:k,headers:v,withCredentials:_="same-origin",fetchOptions:x}=MR(t);k=k?(k+"").toLowerCase():"text";let y=hre([a,c&&c.toAbortSignal()],d),D;const E=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let j;try{if(m&&bre&&n!=="get"&&n!=="head"&&(j=await wre(v,o))!==0){let J=new Request(i,{method:"POST",body:o,duplex:"half"}),H;if(At.isFormData(o)&&(H=J.headers.get("content-type"))&&v.setContentType(H),J.body){const[F,Q]=oO(j,r5(sO(m)));o=lO(J.body,cO,F,Q)}}At.isString(_)||(_=_?"include":"omit");const M="credentials"in Request.prototype;D=new Request(i,{...x,signal:y,method:n.toUpperCase(),headers:v.normalize().toJSON(),body:o,duplex:"half",credentials:M?_:void 0});let B=await fetch(D,x);const z=d6&&(k==="stream"||k==="response");if(d6&&(p||z&&E)){const J={};["status","statusText","headers"].forEach(Z=>{J[Z]=B[Z]});const H=At.toFiniteNumber(B.headers.get("content-length")),[F,Q]=p&&oO(H,r5(sO(p),!0))||[];B=new Response(lO(B.body,cO,F,()=>{Q&&Q(),E&&E()}),J)}k=k||"text";let G=await i5[At.findKey(i5,k)||"text"](B,t);return!z&&E&&E(),await new Promise((J,H)=>{IR(J,H,{data:G,headers:dc.from(B.headers),status:B.status,statusText:B.statusText,config:t,request:D})})}catch(M){throw E&&E(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new ur("Network Error",ur.ERR_NETWORK,t,D),{cause:M.cause||M}):ur.from(M,M&&M.code,t,D)}}),h6={http:Bne,xhr:dre,fetch:vre};At.forEach(h6,(t,i)=>{if(t){try{Object.defineProperty(t,"name",{value:i})}catch{}Object.defineProperty(t,"adapterName",{value:i})}});const uO=t=>`- ${t}`,yre=t=>At.isFunction(t)||t===null||t===!1,OR={getAdapter:t=>{t=At.isArray(t)?t:[t];const{length:i}=t;let n,o;const a={};for(let c=0;c<i;c++){n=t[c];let d;if(o=n,!yre(n)&&(o=h6[(d=String(n)).toLowerCase()],o===void 0))throw new ur(`Unknown adapter '${d}'`);if(o)break;a[d||"#"+c]=o}if(!o){const c=Object.entries(a).map(([p,m])=>`adapter ${p} `+(m===!1?"is not supported by the environment":"is not available in the build"));let d=i?c.length>1?`since :
`+c.map(uO).join(`
`):" "+uO(c[0]):"as no adapter specified";throw new ur("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return o},adapters:h6};function oD(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Sk(null,t)}function dO(t){return oD(t),t.headers=dc.from(t.headers),t.data=iD.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),OR.getAdapter(t.adapter||hA.adapter)(t).then(function(o){return oD(t),o.data=iD.call(t,t.transformResponse,o),o.headers=dc.from(o.headers),o},function(o){return DR(o)||(oD(t),o&&o.response&&(o.response.data=iD.call(t,t.transformResponse,o.response),o.response.headers=dc.from(o.response.headers))),Promise.reject(o)})}const BR="1.10.0",B5={};["object","boolean","number","function","string","symbol"].forEach((t,i)=>{B5[t]=function(o){return typeof o===t||"a"+(i<1?"n ":" ")+t}});const hO={};B5.transitional=function(i,n,o){function a(c,d){return"[Axios v"+BR+"] Transitional option '"+c+"'"+d+(o?". "+o:"")}return(c,d,p)=>{if(i===!1)throw new ur(a(d," has been removed"+(n?" in "+n:"")),ur.ERR_DEPRECATED);return n&&!hO[d]&&(hO[d]=!0,console.warn(a(d," has been deprecated since v"+n+" and will be removed in the near future"))),i?i(c,d,p):!0}};B5.spelling=function(i){return(n,o)=>(console.warn(`${o} is likely a misspelling of ${i}`),!0)};function Are(t,i,n){if(typeof t!="object")throw new ur("options must be an object",ur.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let a=o.length;for(;a-- >0;){const c=o[a],d=i[c];if(d){const p=t[c],m=p===void 0||d(p,c,t);if(m!==!0)throw new ur("option "+c+" must be "+m,ur.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ur("Unknown option "+c,ur.ERR_BAD_OPTION)}}const _x={assertOptions:Are,validators:B5},qh=_x.validators;let ab=class{constructor(i){this.defaults=i||{},this.interceptors={request:new rO,response:new rO}}async request(i,n){try{return await this._request(i,n)}catch(o){if(o instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const c=a.stack?a.stack.replace(/^.+\n/,""):"";try{o.stack?c&&!String(o.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+c):o.stack=c}catch{}}throw o}}_request(i,n){typeof i=="string"?(n=n||{},n.url=i):n=i||{},n=pb(this.defaults,n);const{transitional:o,paramsSerializer:a,headers:c}=n;o!==void 0&&_x.assertOptions(o,{silentJSONParsing:qh.transitional(qh.boolean),forcedJSONParsing:qh.transitional(qh.boolean),clarifyTimeoutError:qh.transitional(qh.boolean)},!1),a!=null&&(At.isFunction(a)?n.paramsSerializer={serialize:a}:_x.assertOptions(a,{encode:qh.function,serialize:qh.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),_x.assertOptions(n,{baseUrl:qh.spelling("baseURL"),withXsrfToken:qh.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let d=c&&At.merge(c.common,c[n.method]);c&&At.forEach(["delete","get","head","post","put","patch","common"],D=>{delete c[D]}),n.headers=dc.concat(d,c);const p=[];let m=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(n)===!1||(m=m&&E.synchronous,p.unshift(E.fulfilled,E.rejected))});const k=[];this.interceptors.response.forEach(function(E){k.push(E.fulfilled,E.rejected)});let v,_=0,x;if(!m){const D=[dO.bind(this),void 0];for(D.unshift.apply(D,p),D.push.apply(D,k),x=D.length,v=Promise.resolve(n);_<x;)v=v.then(D[_++],D[_++]);return v}x=p.length;let y=n;for(_=0;_<x;){const D=p[_++],E=p[_++];try{y=D(y)}catch(j){E.call(this,j);break}}try{v=dO.call(this,y)}catch(D){return Promise.reject(D)}for(_=0,x=k.length;_<x;)v=v.then(k[_++],k[_++]);return v}getUri(i){i=pb(this.defaults,i);const n=TR(i.baseURL,i.url,i.allowAbsoluteUrls);return xR(n,i.params,i.paramsSerializer)}};At.forEach(["delete","get","head","options"],function(i){ab.prototype[i]=function(n,o){return this.request(pb(o||{},{method:i,url:n,data:(o||{}).data}))}});At.forEach(["post","put","patch"],function(i){function n(o){return function(c,d,p){return this.request(pb(p||{},{method:i,headers:o?{"Content-Type":"multipart/form-data"}:{},url:c,data:d}))}}ab.prototype[i]=n(),ab.prototype[i+"Form"]=n(!0)});let _re=class LR{constructor(i){if(typeof i!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(c){n=c});const o=this;this.promise.then(a=>{if(!o._listeners)return;let c=o._listeners.length;for(;c-- >0;)o._listeners[c](a);o._listeners=null}),this.promise.then=a=>{let c;const d=new Promise(p=>{o.subscribe(p),c=p}).then(a);return d.cancel=function(){o.unsubscribe(c)},d},i(function(c,d,p){o.reason||(o.reason=new Sk(c,d,p),n(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]}unsubscribe(i){if(!this._listeners)return;const n=this._listeners.indexOf(i);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const i=new AbortController,n=o=>{i.abort(o)};return this.subscribe(n),i.signal.unsubscribe=()=>this.unsubscribe(n),i.signal}static source(){let i;return{token:new LR(function(a){i=a}),cancel:i}}};function Cre(t){return function(n){return t.apply(null,n)}}function xre(t){return At.isObject(t)&&t.isAxiosError===!0}const f6={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(f6).forEach(([t,i])=>{f6[i]=t});function PR(t){const i=new ab(t),n=fR(ab.prototype.request,i);return At.extend(n,ab.prototype,i,{allOwnKeys:!0}),At.extend(n,i,null,{allOwnKeys:!0}),n.create=function(a){return PR(pb(t,a))},n}const ks=PR(hA);ks.Axios=ab;ks.CanceledError=Sk;ks.CancelToken=_re;ks.isCancel=DR;ks.VERSION=BR;ks.toFormData=j5;ks.AxiosError=ur;ks.Cancel=ks.CanceledError;ks.all=function(i){return Promise.all(i)};ks.spread=Cre;ks.isAxiosError=xre;ks.mergeConfig=pb;ks.AxiosHeaders=dc;ks.formToJSON=t=>ER(At.isHTMLForm(t)?new FormData(t):t);ks.getAdapter=OR.getAdapter;ks.HttpStatusCode=f6;ks.default=ks;const{Axios:Mbe,AxiosError:Nbe,CanceledError:jbe,isCancel:Obe,CancelToken:Bbe,VERSION:Lbe,all:Pbe,Cancel:Rbe,isAxiosError:zbe,spread:Fbe,toFormData:Ube,AxiosHeaders:qbe,HttpStatusCode:Vbe,formToJSON:Hbe,getAdapter:$be,mergeConfig:Wbe}=ks;function nx(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var sD={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var fO;function Sre(){return fO||(fO=1,function(t,i){(function(n){t.exports=n()})(function(){return function n(o,a,c){function d(k,v){if(!a[k]){if(!o[k]){var _=typeof nx=="function"&&nx;if(!v&&_)return _(k,!0);if(p)return p(k,!0);var x=new Error("Cannot find module '"+k+"'");throw x.code="MODULE_NOT_FOUND",x}var y=a[k]={exports:{}};o[k][0].call(y.exports,function(D){var E=o[k][1][D];return d(E||D)},y,y.exports,n,o,a,c)}return a[k].exports}for(var p=typeof nx=="function"&&nx,m=0;m<c.length;m++)d(c[m]);return d}({1:[function(n,o,a){var c=n("./utils"),d=n("./support"),p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(m){for(var k,v,_,x,y,D,E,j=[],M=0,B=m.length,z=B,G=c.getTypeOf(m)!=="string";M<m.length;)z=B-M,_=G?(k=m[M++],v=M<B?m[M++]:0,M<B?m[M++]:0):(k=m.charCodeAt(M++),v=M<B?m.charCodeAt(M++):0,M<B?m.charCodeAt(M++):0),x=k>>2,y=(3&k)<<4|v>>4,D=1<z?(15&v)<<2|_>>6:64,E=2<z?63&_:64,j.push(p.charAt(x)+p.charAt(y)+p.charAt(D)+p.charAt(E));return j.join("")},a.decode=function(m){var k,v,_,x,y,D,E=0,j=0,M="data:";if(m.substr(0,M.length)===M)throw new Error("Invalid base64 input, it looks like a data url.");var B,z=3*(m=m.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(m.charAt(m.length-1)===p.charAt(64)&&z--,m.charAt(m.length-2)===p.charAt(64)&&z--,z%1!=0)throw new Error("Invalid base64 input, bad content length.");for(B=d.uint8array?new Uint8Array(0|z):new Array(0|z);E<m.length;)k=p.indexOf(m.charAt(E++))<<2|(x=p.indexOf(m.charAt(E++)))>>4,v=(15&x)<<4|(y=p.indexOf(m.charAt(E++)))>>2,_=(3&y)<<6|(D=p.indexOf(m.charAt(E++))),B[j++]=k,y!==64&&(B[j++]=v),D!==64&&(B[j++]=_);return B}},{"./support":30,"./utils":32}],2:[function(n,o,a){var c=n("./external"),d=n("./stream/DataWorker"),p=n("./stream/Crc32Probe"),m=n("./stream/DataLengthProbe");function k(v,_,x,y,D){this.compressedSize=v,this.uncompressedSize=_,this.crc32=x,this.compression=y,this.compressedContent=D}k.prototype={getContentWorker:function(){var v=new d(c.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new m("data_length")),_=this;return v.on("end",function(){if(this.streamInfo.data_length!==_.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),v},getCompressedWorker:function(){return new d(c.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},k.createWorkerFrom=function(v,_,x){return v.pipe(new p).pipe(new m("uncompressedSize")).pipe(_.compressWorker(x)).pipe(new m("compressedSize")).withStreamInfo("compression",_)},o.exports=k},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,o,a){var c=n("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new c("STORE compression")},uncompressWorker:function(){return new c("STORE decompression")}},a.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,o,a){var c=n("./utils"),d=function(){for(var p,m=[],k=0;k<256;k++){p=k;for(var v=0;v<8;v++)p=1&p?3988292384^p>>>1:p>>>1;m[k]=p}return m}();o.exports=function(p,m){return p!==void 0&&p.length?c.getTypeOf(p)!=="string"?function(k,v,_,x){var y=d,D=x+_;k^=-1;for(var E=x;E<D;E++)k=k>>>8^y[255&(k^v[E])];return-1^k}(0|m,p,p.length,0):function(k,v,_,x){var y=d,D=x+_;k^=-1;for(var E=x;E<D;E++)k=k>>>8^y[255&(k^v.charCodeAt(E))];return-1^k}(0|m,p,p.length,0):0}},{"./utils":32}],5:[function(n,o,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(n,o,a){var c=null;c=typeof Promise<"u"?Promise:n("lie"),o.exports={Promise:c}},{lie:37}],7:[function(n,o,a){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",d=n("pako"),p=n("./utils"),m=n("./stream/GenericWorker"),k=c?"uint8array":"array";function v(_,x){m.call(this,"FlateWorker/"+_),this._pako=null,this._pakoAction=_,this._pakoOptions=x,this.meta={}}a.magic="\b\0",p.inherits(v,m),v.prototype.processChunk=function(_){this.meta=_.meta,this._pako===null&&this._createPako(),this._pako.push(p.transformTo(k,_.data),!1)},v.prototype.flush=function(){m.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},v.prototype.cleanUp=function(){m.prototype.cleanUp.call(this),this._pako=null},v.prototype._createPako=function(){this._pako=new d[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var _=this;this._pako.onData=function(x){_.push({data:x,meta:_.meta})}},a.compressWorker=function(_){return new v("Deflate",_)},a.uncompressWorker=function(){return new v("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,o,a){function c(y,D){var E,j="";for(E=0;E<D;E++)j+=String.fromCharCode(255&y),y>>>=8;return j}function d(y,D,E,j,M,B){var z,G,J=y.file,H=y.compression,F=B!==k.utf8encode,Q=p.transformTo("string",B(J.name)),Z=p.transformTo("string",k.utf8encode(J.name)),ae=J.comment,X=p.transformTo("string",B(ae)),Y=p.transformTo("string",k.utf8encode(ae)),U=Z.length!==J.name.length,q=Y.length!==ae.length,fe="",ue="",de="",me=J.dir,Me=J.date,ce={crc32:0,compressedSize:0,uncompressedSize:0};D&&!E||(ce.crc32=y.crc32,ce.compressedSize=y.compressedSize,ce.uncompressedSize=y.uncompressedSize);var Ie=0;D&&(Ie|=8),F||!U&&!q||(Ie|=2048);var re=0,te=0;me&&(re|=16),M==="UNIX"?(te=798,re|=function(be,ve){var Re=be;return be||(Re=ve?16893:33204),(65535&Re)<<16}(J.unixPermissions,me)):(te=20,re|=function(be){return 63&(be||0)}(J.dosPermissions)),z=Me.getUTCHours(),z<<=6,z|=Me.getUTCMinutes(),z<<=5,z|=Me.getUTCSeconds()/2,G=Me.getUTCFullYear()-1980,G<<=4,G|=Me.getUTCMonth()+1,G<<=5,G|=Me.getUTCDate(),U&&(ue=c(1,1)+c(v(Q),4)+Z,fe+="up"+c(ue.length,2)+ue),q&&(de=c(1,1)+c(v(X),4)+Y,fe+="uc"+c(de.length,2)+de);var ke="";return ke+=`
\0`,ke+=c(Ie,2),ke+=H.magic,ke+=c(z,2),ke+=c(G,2),ke+=c(ce.crc32,4),ke+=c(ce.compressedSize,4),ke+=c(ce.uncompressedSize,4),ke+=c(Q.length,2),ke+=c(fe.length,2),{fileRecord:_.LOCAL_FILE_HEADER+ke+Q+fe,dirRecord:_.CENTRAL_FILE_HEADER+c(te,2)+ke+c(X.length,2)+"\0\0\0\0"+c(re,4)+c(j,4)+Q+fe+X}}var p=n("../utils"),m=n("../stream/GenericWorker"),k=n("../utf8"),v=n("../crc32"),_=n("../signature");function x(y,D,E,j){m.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=D,this.zipPlatform=E,this.encodeFileName=j,this.streamFiles=y,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}p.inherits(x,m),x.prototype.push=function(y){var D=y.meta.percent||0,E=this.entriesCount,j=this._sources.length;this.accumulate?this.contentBuffer.push(y):(this.bytesWritten+=y.data.length,m.prototype.push.call(this,{data:y.data,meta:{currentFile:this.currentFile,percent:E?(D+100*(E-j-1))/E:100}}))},x.prototype.openedSource=function(y){this.currentSourceOffset=this.bytesWritten,this.currentFile=y.file.name;var D=this.streamFiles&&!y.file.dir;if(D){var E=d(y,D,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:E.fileRecord,meta:{percent:0}})}else this.accumulate=!0},x.prototype.closedSource=function(y){this.accumulate=!1;var D=this.streamFiles&&!y.file.dir,E=d(y,D,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(E.dirRecord),D)this.push({data:function(j){return _.DATA_DESCRIPTOR+c(j.crc32,4)+c(j.compressedSize,4)+c(j.uncompressedSize,4)}(y),meta:{percent:100}});else for(this.push({data:E.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},x.prototype.flush=function(){for(var y=this.bytesWritten,D=0;D<this.dirRecords.length;D++)this.push({data:this.dirRecords[D],meta:{percent:100}});var E=this.bytesWritten-y,j=function(M,B,z,G,J){var H=p.transformTo("string",J(G));return _.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(M,2)+c(M,2)+c(B,4)+c(z,4)+c(H.length,2)+H}(this.dirRecords.length,E,y,this.zipComment,this.encodeFileName);this.push({data:j,meta:{percent:100}})},x.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},x.prototype.registerPrevious=function(y){this._sources.push(y);var D=this;return y.on("data",function(E){D.processChunk(E)}),y.on("end",function(){D.closedSource(D.previous.streamInfo),D._sources.length?D.prepareNextSource():D.end()}),y.on("error",function(E){D.error(E)}),this},x.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},x.prototype.error=function(y){var D=this._sources;if(!m.prototype.error.call(this,y))return!1;for(var E=0;E<D.length;E++)try{D[E].error(y)}catch{}return!0},x.prototype.lock=function(){m.prototype.lock.call(this);for(var y=this._sources,D=0;D<y.length;D++)y[D].lock()},o.exports=x},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,o,a){var c=n("../compressions"),d=n("./ZipFileWorker");a.generateWorker=function(p,m,k){var v=new d(m.streamFiles,k,m.platform,m.encodeFileName),_=0;try{p.forEach(function(x,y){_++;var D=function(B,z){var G=B||z,J=c[G];if(!J)throw new Error(G+" is not a valid compression method !");return J}(y.options.compression,m.compression),E=y.options.compressionOptions||m.compressionOptions||{},j=y.dir,M=y.date;y._compressWorker(D,E).withStreamInfo("file",{name:x,dir:j,date:M,comment:y.comment||"",unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions}).pipe(v)}),v.entriesCount=_}catch(x){v.error(x)}return v}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,o,a){function c(){if(!(this instanceof c))return new c;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var d=new c;for(var p in this)typeof this[p]!="function"&&(d[p]=this[p]);return d}}(c.prototype=n("./object")).loadAsync=n("./load"),c.support=n("./support"),c.defaults=n("./defaults"),c.version="3.10.1",c.loadAsync=function(d,p){return new c().loadAsync(d,p)},c.external=n("./external"),o.exports=c},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,o,a){var c=n("./utils"),d=n("./external"),p=n("./utf8"),m=n("./zipEntries"),k=n("./stream/Crc32Probe"),v=n("./nodejsUtils");function _(x){return new d.Promise(function(y,D){var E=x.decompressed.getContentWorker().pipe(new k);E.on("error",function(j){D(j)}).on("end",function(){E.streamInfo.crc32!==x.decompressed.crc32?D(new Error("Corrupted zip : CRC32 mismatch")):y()}).resume()})}o.exports=function(x,y){var D=this;return y=c.extend(y||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:p.utf8decode}),v.isNode&&v.isStream(x)?d.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):c.prepareContent("the loaded zip file",x,!0,y.optimizedBinaryString,y.base64).then(function(E){var j=new m(y);return j.load(E),j}).then(function(E){var j=[d.Promise.resolve(E)],M=E.files;if(y.checkCRC32)for(var B=0;B<M.length;B++)j.push(_(M[B]));return d.Promise.all(j)}).then(function(E){for(var j=E.shift(),M=j.files,B=0;B<M.length;B++){var z=M[B],G=z.fileNameStr,J=c.resolve(z.fileNameStr);D.file(J,z.decompressed,{binary:!0,optimizedBinaryString:!0,date:z.date,dir:z.dir,comment:z.fileCommentStr.length?z.fileCommentStr:null,unixPermissions:z.unixPermissions,dosPermissions:z.dosPermissions,createFolders:y.createFolders}),z.dir||(D.file(J).unsafeOriginalName=G)}return j.zipComment.length&&(D.comment=j.zipComment),D})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,o,a){var c=n("../utils"),d=n("../stream/GenericWorker");function p(m,k){d.call(this,"Nodejs stream input adapter for "+m),this._upstreamEnded=!1,this._bindStream(k)}c.inherits(p,d),p.prototype._bindStream=function(m){var k=this;(this._stream=m).pause(),m.on("data",function(v){k.push({data:v,meta:{percent:0}})}).on("error",function(v){k.isPaused?this.generatedError=v:k.error(v)}).on("end",function(){k.isPaused?k._upstreamEnded=!0:k.end()})},p.prototype.pause=function(){return!!d.prototype.pause.call(this)&&(this._stream.pause(),!0)},p.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=p},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,o,a){var c=n("readable-stream").Readable;function d(p,m,k){c.call(this,m),this._helper=p;var v=this;p.on("data",function(_,x){v.push(_)||v._helper.pause(),k&&k(x)}).on("error",function(_){v.emit("error",_)}).on("end",function(){v.push(null)})}n("../utils").inherits(d,c),d.prototype._read=function(){this._helper.resume()},o.exports=d},{"../utils":32,"readable-stream":16}],14:[function(n,o,a){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(c,d){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(c,d);if(typeof c=="number")throw new Error('The "data" argument must not be a number');return new Buffer(c,d)},allocBuffer:function(c){if(Buffer.alloc)return Buffer.alloc(c);var d=new Buffer(c);return d.fill(0),d},isBuffer:function(c){return Buffer.isBuffer(c)},isStream:function(c){return c&&typeof c.on=="function"&&typeof c.pause=="function"&&typeof c.resume=="function"}}},{}],15:[function(n,o,a){function c(J,H,F){var Q,Z=p.getTypeOf(H),ae=p.extend(F||{},v);ae.date=ae.date||new Date,ae.compression!==null&&(ae.compression=ae.compression.toUpperCase()),typeof ae.unixPermissions=="string"&&(ae.unixPermissions=parseInt(ae.unixPermissions,8)),ae.unixPermissions&&16384&ae.unixPermissions&&(ae.dir=!0),ae.dosPermissions&&16&ae.dosPermissions&&(ae.dir=!0),ae.dir&&(J=M(J)),ae.createFolders&&(Q=j(J))&&B.call(this,Q,!0);var X=Z==="string"&&ae.binary===!1&&ae.base64===!1;F&&F.binary!==void 0||(ae.binary=!X),(H instanceof _&&H.uncompressedSize===0||ae.dir||!H||H.length===0)&&(ae.base64=!1,ae.binary=!0,H="",ae.compression="STORE",Z="string");var Y=null;Y=H instanceof _||H instanceof m?H:D.isNode&&D.isStream(H)?new E(J,H):p.prepareContent(J,H,ae.binary,ae.optimizedBinaryString,ae.base64);var U=new x(J,Y,ae);this.files[J]=U}var d=n("./utf8"),p=n("./utils"),m=n("./stream/GenericWorker"),k=n("./stream/StreamHelper"),v=n("./defaults"),_=n("./compressedObject"),x=n("./zipObject"),y=n("./generate"),D=n("./nodejsUtils"),E=n("./nodejs/NodejsStreamInputAdapter"),j=function(J){J.slice(-1)==="/"&&(J=J.substring(0,J.length-1));var H=J.lastIndexOf("/");return 0<H?J.substring(0,H):""},M=function(J){return J.slice(-1)!=="/"&&(J+="/"),J},B=function(J,H){return H=H!==void 0?H:v.createFolders,J=M(J),this.files[J]||c.call(this,J,null,{dir:!0,createFolders:H}),this.files[J]};function z(J){return Object.prototype.toString.call(J)==="[object RegExp]"}var G={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(J){var H,F,Q;for(H in this.files)Q=this.files[H],(F=H.slice(this.root.length,H.length))&&H.slice(0,this.root.length)===this.root&&J(F,Q)},filter:function(J){var H=[];return this.forEach(function(F,Q){J(F,Q)&&H.push(Q)}),H},file:function(J,H,F){if(arguments.length!==1)return J=this.root+J,c.call(this,J,H,F),this;if(z(J)){var Q=J;return this.filter(function(ae,X){return!X.dir&&Q.test(ae)})}var Z=this.files[this.root+J];return Z&&!Z.dir?Z:null},folder:function(J){if(!J)return this;if(z(J))return this.filter(function(Z,ae){return ae.dir&&J.test(Z)});var H=this.root+J,F=B.call(this,H),Q=this.clone();return Q.root=F.name,Q},remove:function(J){J=this.root+J;var H=this.files[J];if(H||(J.slice(-1)!=="/"&&(J+="/"),H=this.files[J]),H&&!H.dir)delete this.files[J];else for(var F=this.filter(function(Z,ae){return ae.name.slice(0,J.length)===J}),Q=0;Q<F.length;Q++)delete this.files[F[Q].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(J){var H,F={};try{if((F=p.extend(J||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:d.utf8encode})).type=F.type.toLowerCase(),F.compression=F.compression.toUpperCase(),F.type==="binarystring"&&(F.type="string"),!F.type)throw new Error("No output type specified.");p.checkSupport(F.type),F.platform!=="darwin"&&F.platform!=="freebsd"&&F.platform!=="linux"&&F.platform!=="sunos"||(F.platform="UNIX"),F.platform==="win32"&&(F.platform="DOS");var Q=F.comment||this.comment||"";H=y.generateWorker(this,F,Q)}catch(Z){(H=new m("error")).error(Z)}return new k(H,F.type||"string",F.mimeType)},generateAsync:function(J,H){return this.generateInternalStream(J).accumulate(H)},generateNodeStream:function(J,H){return(J=J||{}).type||(J.type="nodebuffer"),this.generateInternalStream(J).toNodejsStream(H)}};o.exports=G},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,o,a){o.exports=n("stream")},{stream:void 0}],17:[function(n,o,a){var c=n("./DataReader");function d(p){c.call(this,p);for(var m=0;m<this.data.length;m++)p[m]=255&p[m]}n("../utils").inherits(d,c),d.prototype.byteAt=function(p){return this.data[this.zero+p]},d.prototype.lastIndexOfSignature=function(p){for(var m=p.charCodeAt(0),k=p.charCodeAt(1),v=p.charCodeAt(2),_=p.charCodeAt(3),x=this.length-4;0<=x;--x)if(this.data[x]===m&&this.data[x+1]===k&&this.data[x+2]===v&&this.data[x+3]===_)return x-this.zero;return-1},d.prototype.readAndCheckSignature=function(p){var m=p.charCodeAt(0),k=p.charCodeAt(1),v=p.charCodeAt(2),_=p.charCodeAt(3),x=this.readData(4);return m===x[0]&&k===x[1]&&v===x[2]&&_===x[3]},d.prototype.readData=function(p){if(this.checkOffset(p),p===0)return[];var m=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,m},o.exports=d},{"../utils":32,"./DataReader":18}],18:[function(n,o,a){var c=n("../utils");function d(p){this.data=p,this.length=p.length,this.index=0,this.zero=0}d.prototype={checkOffset:function(p){this.checkIndex(this.index+p)},checkIndex:function(p){if(this.length<this.zero+p||p<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+p+"). Corrupted zip ?")},setIndex:function(p){this.checkIndex(p),this.index=p},skip:function(p){this.setIndex(this.index+p)},byteAt:function(){},readInt:function(p){var m,k=0;for(this.checkOffset(p),m=this.index+p-1;m>=this.index;m--)k=(k<<8)+this.byteAt(m);return this.index+=p,k},readString:function(p){return c.transformTo("string",this.readData(p))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var p=this.readInt(4);return new Date(Date.UTC(1980+(p>>25&127),(p>>21&15)-1,p>>16&31,p>>11&31,p>>5&63,(31&p)<<1))}},o.exports=d},{"../utils":32}],19:[function(n,o,a){var c=n("./Uint8ArrayReader");function d(p){c.call(this,p)}n("../utils").inherits(d,c),d.prototype.readData=function(p){this.checkOffset(p);var m=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,m},o.exports=d},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,o,a){var c=n("./DataReader");function d(p){c.call(this,p)}n("../utils").inherits(d,c),d.prototype.byteAt=function(p){return this.data.charCodeAt(this.zero+p)},d.prototype.lastIndexOfSignature=function(p){return this.data.lastIndexOf(p)-this.zero},d.prototype.readAndCheckSignature=function(p){return p===this.readData(4)},d.prototype.readData=function(p){this.checkOffset(p);var m=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,m},o.exports=d},{"../utils":32,"./DataReader":18}],21:[function(n,o,a){var c=n("./ArrayReader");function d(p){c.call(this,p)}n("../utils").inherits(d,c),d.prototype.readData=function(p){if(this.checkOffset(p),p===0)return new Uint8Array(0);var m=this.data.subarray(this.zero+this.index,this.zero+this.index+p);return this.index+=p,m},o.exports=d},{"../utils":32,"./ArrayReader":17}],22:[function(n,o,a){var c=n("../utils"),d=n("../support"),p=n("./ArrayReader"),m=n("./StringReader"),k=n("./NodeBufferReader"),v=n("./Uint8ArrayReader");o.exports=function(_){var x=c.getTypeOf(_);return c.checkSupport(x),x!=="string"||d.uint8array?x==="nodebuffer"?new k(_):d.uint8array?new v(c.transformTo("uint8array",_)):new p(c.transformTo("array",_)):new m(_)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,o,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,o,a){var c=n("./GenericWorker"),d=n("../utils");function p(m){c.call(this,"ConvertWorker to "+m),this.destType=m}d.inherits(p,c),p.prototype.processChunk=function(m){this.push({data:d.transformTo(this.destType,m.data),meta:m.meta})},o.exports=p},{"../utils":32,"./GenericWorker":28}],25:[function(n,o,a){var c=n("./GenericWorker"),d=n("../crc32");function p(){c.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(p,c),p.prototype.processChunk=function(m){this.streamInfo.crc32=d(m.data,this.streamInfo.crc32||0),this.push(m)},o.exports=p},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,o,a){var c=n("../utils"),d=n("./GenericWorker");function p(m){d.call(this,"DataLengthProbe for "+m),this.propName=m,this.withStreamInfo(m,0)}c.inherits(p,d),p.prototype.processChunk=function(m){if(m){var k=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=k+m.data.length}d.prototype.processChunk.call(this,m)},o.exports=p},{"../utils":32,"./GenericWorker":28}],27:[function(n,o,a){var c=n("../utils"),d=n("./GenericWorker");function p(m){d.call(this,"DataWorker");var k=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,m.then(function(v){k.dataIsReady=!0,k.data=v,k.max=v&&v.length||0,k.type=c.getTypeOf(v),k.isPaused||k._tickAndRepeat()},function(v){k.error(v)})}c.inherits(p,d),p.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this.data=null},p.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,c.delay(this._tickAndRepeat,[],this)),!0)},p.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(c.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},p.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var m=null,k=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":m=this.data.substring(this.index,k);break;case"uint8array":m=this.data.subarray(this.index,k);break;case"array":case"nodebuffer":m=this.data.slice(this.index,k)}return this.index=k,this.push({data:m,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=p},{"../utils":32,"./GenericWorker":28}],28:[function(n,o,a){function c(d){this.name=d||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}c.prototype={push:function(d){this.emit("data",d)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(d){this.emit("error",d)}return!0},error:function(d){return!this.isFinished&&(this.isPaused?this.generatedError=d:(this.isFinished=!0,this.emit("error",d),this.previous&&this.previous.error(d),this.cleanUp()),!0)},on:function(d,p){return this._listeners[d].push(p),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(d,p){if(this._listeners[d])for(var m=0;m<this._listeners[d].length;m++)this._listeners[d][m].call(this,p)},pipe:function(d){return d.registerPrevious(this)},registerPrevious:function(d){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=d.streamInfo,this.mergeStreamInfo(),this.previous=d;var p=this;return d.on("data",function(m){p.processChunk(m)}),d.on("end",function(){p.end()}),d.on("error",function(m){p.error(m)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var d=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),d=!0),this.previous&&this.previous.resume(),!d},flush:function(){},processChunk:function(d){this.push(d)},withStreamInfo:function(d,p){return this.extraStreamInfo[d]=p,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var d in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,d)&&(this.streamInfo[d]=this.extraStreamInfo[d])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var d="Worker "+this.name;return this.previous?this.previous+" -> "+d:d}},o.exports=c},{}],29:[function(n,o,a){var c=n("../utils"),d=n("./ConvertWorker"),p=n("./GenericWorker"),m=n("../base64"),k=n("../support"),v=n("../external"),_=null;if(k.nodestream)try{_=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function x(D,E){return new v.Promise(function(j,M){var B=[],z=D._internalType,G=D._outputType,J=D._mimeType;D.on("data",function(H,F){B.push(H),E&&E(F)}).on("error",function(H){B=[],M(H)}).on("end",function(){try{var H=function(F,Q,Z){switch(F){case"blob":return c.newBlob(c.transformTo("arraybuffer",Q),Z);case"base64":return m.encode(Q);default:return c.transformTo(F,Q)}}(G,function(F,Q){var Z,ae=0,X=null,Y=0;for(Z=0;Z<Q.length;Z++)Y+=Q[Z].length;switch(F){case"string":return Q.join("");case"array":return Array.prototype.concat.apply([],Q);case"uint8array":for(X=new Uint8Array(Y),Z=0;Z<Q.length;Z++)X.set(Q[Z],ae),ae+=Q[Z].length;return X;case"nodebuffer":return Buffer.concat(Q);default:throw new Error("concat : unsupported type '"+F+"'")}}(z,B),J);j(H)}catch(F){M(F)}B=[]}).resume()})}function y(D,E,j){var M=E;switch(E){case"blob":case"arraybuffer":M="uint8array";break;case"base64":M="string"}try{this._internalType=M,this._outputType=E,this._mimeType=j,c.checkSupport(M),this._worker=D.pipe(new d(M)),D.lock()}catch(B){this._worker=new p("error"),this._worker.error(B)}}y.prototype={accumulate:function(D){return x(this,D)},on:function(D,E){var j=this;return D==="data"?this._worker.on(D,function(M){E.call(j,M.data,M.meta)}):this._worker.on(D,function(){c.delay(E,arguments,j)}),this},resume:function(){return c.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(D){if(c.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new _(this,{objectMode:this._outputType!=="nodebuffer"},D)}},o.exports=y},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,o,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var c=new ArrayBuffer(0);try{a.blob=new Blob([c],{type:"application/zip"}).size===0}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);d.append(c),a.blob=d.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!n("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(n,o,a){for(var c=n("./utils"),d=n("./support"),p=n("./nodejsUtils"),m=n("./stream/GenericWorker"),k=new Array(256),v=0;v<256;v++)k[v]=252<=v?6:248<=v?5:240<=v?4:224<=v?3:192<=v?2:1;k[254]=k[254]=1;function _(){m.call(this,"utf-8 decode"),this.leftOver=null}function x(){m.call(this,"utf-8 encode")}a.utf8encode=function(y){return d.nodebuffer?p.newBufferFrom(y,"utf-8"):function(D){var E,j,M,B,z,G=D.length,J=0;for(B=0;B<G;B++)(64512&(j=D.charCodeAt(B)))==55296&&B+1<G&&(64512&(M=D.charCodeAt(B+1)))==56320&&(j=65536+(j-55296<<10)+(M-56320),B++),J+=j<128?1:j<2048?2:j<65536?3:4;for(E=d.uint8array?new Uint8Array(J):new Array(J),B=z=0;z<J;B++)(64512&(j=D.charCodeAt(B)))==55296&&B+1<G&&(64512&(M=D.charCodeAt(B+1)))==56320&&(j=65536+(j-55296<<10)+(M-56320),B++),j<128?E[z++]=j:(j<2048?E[z++]=192|j>>>6:(j<65536?E[z++]=224|j>>>12:(E[z++]=240|j>>>18,E[z++]=128|j>>>12&63),E[z++]=128|j>>>6&63),E[z++]=128|63&j);return E}(y)},a.utf8decode=function(y){return d.nodebuffer?c.transformTo("nodebuffer",y).toString("utf-8"):function(D){var E,j,M,B,z=D.length,G=new Array(2*z);for(E=j=0;E<z;)if((M=D[E++])<128)G[j++]=M;else if(4<(B=k[M]))G[j++]=65533,E+=B-1;else{for(M&=B===2?31:B===3?15:7;1<B&&E<z;)M=M<<6|63&D[E++],B--;1<B?G[j++]=65533:M<65536?G[j++]=M:(M-=65536,G[j++]=55296|M>>10&1023,G[j++]=56320|1023&M)}return G.length!==j&&(G.subarray?G=G.subarray(0,j):G.length=j),c.applyFromCharCode(G)}(y=c.transformTo(d.uint8array?"uint8array":"array",y))},c.inherits(_,m),_.prototype.processChunk=function(y){var D=c.transformTo(d.uint8array?"uint8array":"array",y.data);if(this.leftOver&&this.leftOver.length){if(d.uint8array){var E=D;(D=new Uint8Array(E.length+this.leftOver.length)).set(this.leftOver,0),D.set(E,this.leftOver.length)}else D=this.leftOver.concat(D);this.leftOver=null}var j=function(B,z){var G;for((z=z||B.length)>B.length&&(z=B.length),G=z-1;0<=G&&(192&B[G])==128;)G--;return G<0||G===0?z:G+k[B[G]]>z?G:z}(D),M=D;j!==D.length&&(d.uint8array?(M=D.subarray(0,j),this.leftOver=D.subarray(j,D.length)):(M=D.slice(0,j),this.leftOver=D.slice(j,D.length))),this.push({data:a.utf8decode(M),meta:y.meta})},_.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=_,c.inherits(x,m),x.prototype.processChunk=function(y){this.push({data:a.utf8encode(y.data),meta:y.meta})},a.Utf8EncodeWorker=x},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,o,a){var c=n("./support"),d=n("./base64"),p=n("./nodejsUtils"),m=n("./external");function k(E){return E}function v(E,j){for(var M=0;M<E.length;++M)j[M]=255&E.charCodeAt(M);return j}n("setimmediate"),a.newBlob=function(E,j){a.checkSupport("blob");try{return new Blob([E],{type:j})}catch{try{var M=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return M.append(E),M.getBlob(j)}catch{throw new Error("Bug : can't construct the Blob.")}}};var _={stringifyByChunk:function(E,j,M){var B=[],z=0,G=E.length;if(G<=M)return String.fromCharCode.apply(null,E);for(;z<G;)j==="array"||j==="nodebuffer"?B.push(String.fromCharCode.apply(null,E.slice(z,Math.min(z+M,G)))):B.push(String.fromCharCode.apply(null,E.subarray(z,Math.min(z+M,G)))),z+=M;return B.join("")},stringifyByChar:function(E){for(var j="",M=0;M<E.length;M++)j+=String.fromCharCode(E[M]);return j},applyCanBeUsed:{uint8array:function(){try{return c.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return c.nodebuffer&&String.fromCharCode.apply(null,p.allocBuffer(1)).length===1}catch{return!1}}()}};function x(E){var j=65536,M=a.getTypeOf(E),B=!0;if(M==="uint8array"?B=_.applyCanBeUsed.uint8array:M==="nodebuffer"&&(B=_.applyCanBeUsed.nodebuffer),B)for(;1<j;)try{return _.stringifyByChunk(E,M,j)}catch{j=Math.floor(j/2)}return _.stringifyByChar(E)}function y(E,j){for(var M=0;M<E.length;M++)j[M]=E[M];return j}a.applyFromCharCode=x;var D={};D.string={string:k,array:function(E){return v(E,new Array(E.length))},arraybuffer:function(E){return D.string.uint8array(E).buffer},uint8array:function(E){return v(E,new Uint8Array(E.length))},nodebuffer:function(E){return v(E,p.allocBuffer(E.length))}},D.array={string:x,array:k,arraybuffer:function(E){return new Uint8Array(E).buffer},uint8array:function(E){return new Uint8Array(E)},nodebuffer:function(E){return p.newBufferFrom(E)}},D.arraybuffer={string:function(E){return x(new Uint8Array(E))},array:function(E){return y(new Uint8Array(E),new Array(E.byteLength))},arraybuffer:k,uint8array:function(E){return new Uint8Array(E)},nodebuffer:function(E){return p.newBufferFrom(new Uint8Array(E))}},D.uint8array={string:x,array:function(E){return y(E,new Array(E.length))},arraybuffer:function(E){return E.buffer},uint8array:k,nodebuffer:function(E){return p.newBufferFrom(E)}},D.nodebuffer={string:x,array:function(E){return y(E,new Array(E.length))},arraybuffer:function(E){return D.nodebuffer.uint8array(E).buffer},uint8array:function(E){return y(E,new Uint8Array(E.length))},nodebuffer:k},a.transformTo=function(E,j){if(j=j||"",!E)return j;a.checkSupport(E);var M=a.getTypeOf(j);return D[M][E](j)},a.resolve=function(E){for(var j=E.split("/"),M=[],B=0;B<j.length;B++){var z=j[B];z==="."||z===""&&B!==0&&B!==j.length-1||(z===".."?M.pop():M.push(z))}return M.join("/")},a.getTypeOf=function(E){return typeof E=="string"?"string":Object.prototype.toString.call(E)==="[object Array]"?"array":c.nodebuffer&&p.isBuffer(E)?"nodebuffer":c.uint8array&&E instanceof Uint8Array?"uint8array":c.arraybuffer&&E instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(E){if(!c[E.toLowerCase()])throw new Error(E+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(E){var j,M,B="";for(M=0;M<(E||"").length;M++)B+="\\x"+((j=E.charCodeAt(M))<16?"0":"")+j.toString(16).toUpperCase();return B},a.delay=function(E,j,M){setImmediate(function(){E.apply(M||null,j||[])})},a.inherits=function(E,j){function M(){}M.prototype=j.prototype,E.prototype=new M},a.extend=function(){var E,j,M={};for(E=0;E<arguments.length;E++)for(j in arguments[E])Object.prototype.hasOwnProperty.call(arguments[E],j)&&M[j]===void 0&&(M[j]=arguments[E][j]);return M},a.prepareContent=function(E,j,M,B,z){return m.Promise.resolve(j).then(function(G){return c.blob&&(G instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(G))!==-1)&&typeof FileReader<"u"?new m.Promise(function(J,H){var F=new FileReader;F.onload=function(Q){J(Q.target.result)},F.onerror=function(Q){H(Q.target.error)},F.readAsArrayBuffer(G)}):G}).then(function(G){var J=a.getTypeOf(G);return J?(J==="arraybuffer"?G=a.transformTo("uint8array",G):J==="string"&&(z?G=d.decode(G):M&&B!==!0&&(G=function(H){return v(H,c.uint8array?new Uint8Array(H.length):new Array(H.length))}(G))),G):m.Promise.reject(new Error("Can't read the data of '"+E+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,o,a){var c=n("./reader/readerFor"),d=n("./utils"),p=n("./signature"),m=n("./zipEntry"),k=n("./support");function v(_){this.files=[],this.loadOptions=_}v.prototype={checkSignature:function(_){if(!this.reader.readAndCheckSignature(_)){this.reader.index-=4;var x=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+d.pretty(x)+", expected "+d.pretty(_)+")")}},isSignature:function(_,x){var y=this.reader.index;this.reader.setIndex(_);var D=this.reader.readString(4)===x;return this.reader.setIndex(y),D},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var _=this.reader.readData(this.zipCommentLength),x=k.uint8array?"uint8array":"array",y=d.transformTo(x,_);this.zipComment=this.loadOptions.decodeFileName(y)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var _,x,y,D=this.zip64EndOfCentralSize-44;0<D;)_=this.reader.readInt(2),x=this.reader.readInt(4),y=this.reader.readData(x),this.zip64ExtensibleData[_]={id:_,length:x,value:y}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var _,x;for(_=0;_<this.files.length;_++)x=this.files[_],this.reader.setIndex(x.localHeaderOffset),this.checkSignature(p.LOCAL_FILE_HEADER),x.readLocalPart(this.reader),x.handleUTF8(),x.processAttributes()},readCentralDir:function(){var _;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(p.CENTRAL_FILE_HEADER);)(_=new m({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(_);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var _=this.reader.lastIndexOfSignature(p.CENTRAL_DIRECTORY_END);if(_<0)throw this.isSignature(0,p.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(_);var x=_;if(this.checkSignature(p.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===d.MAX_VALUE_16BITS||this.diskWithCentralDirStart===d.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===d.MAX_VALUE_16BITS||this.centralDirRecords===d.MAX_VALUE_16BITS||this.centralDirSize===d.MAX_VALUE_32BITS||this.centralDirOffset===d.MAX_VALUE_32BITS){if(this.zip64=!0,(_=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(_),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,p.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var y=this.centralDirOffset+this.centralDirSize;this.zip64&&(y+=20,y+=12+this.zip64EndOfCentralSize);var D=x-y;if(0<D)this.isSignature(x,p.CENTRAL_FILE_HEADER)||(this.reader.zero=D);else if(D<0)throw new Error("Corrupted zip: missing "+Math.abs(D)+" bytes.")},prepareReader:function(_){this.reader=c(_)},load:function(_){this.prepareReader(_),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=v},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,o,a){var c=n("./reader/readerFor"),d=n("./utils"),p=n("./compressedObject"),m=n("./crc32"),k=n("./utf8"),v=n("./compressions"),_=n("./support");function x(y,D){this.options=y,this.loadOptions=D}x.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(y){var D,E;if(y.skip(22),this.fileNameLength=y.readInt(2),E=y.readInt(2),this.fileName=y.readData(this.fileNameLength),y.skip(E),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((D=function(j){for(var M in v)if(Object.prototype.hasOwnProperty.call(v,M)&&v[M].magic===j)return v[M];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+d.pretty(this.compressionMethod)+" unknown (inner file : "+d.transformTo("string",this.fileName)+")");this.decompressed=new p(this.compressedSize,this.uncompressedSize,this.crc32,D,y.readData(this.compressedSize))},readCentralPart:function(y){this.versionMadeBy=y.readInt(2),y.skip(2),this.bitFlag=y.readInt(2),this.compressionMethod=y.readString(2),this.date=y.readDate(),this.crc32=y.readInt(4),this.compressedSize=y.readInt(4),this.uncompressedSize=y.readInt(4);var D=y.readInt(2);if(this.extraFieldsLength=y.readInt(2),this.fileCommentLength=y.readInt(2),this.diskNumberStart=y.readInt(2),this.internalFileAttributes=y.readInt(2),this.externalFileAttributes=y.readInt(4),this.localHeaderOffset=y.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");y.skip(D),this.readExtraFields(y),this.parseZIP64ExtraField(y),this.fileComment=y.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var y=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),y==0&&(this.dosPermissions=63&this.externalFileAttributes),y==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var y=c(this.extraFields[1].value);this.uncompressedSize===d.MAX_VALUE_32BITS&&(this.uncompressedSize=y.readInt(8)),this.compressedSize===d.MAX_VALUE_32BITS&&(this.compressedSize=y.readInt(8)),this.localHeaderOffset===d.MAX_VALUE_32BITS&&(this.localHeaderOffset=y.readInt(8)),this.diskNumberStart===d.MAX_VALUE_32BITS&&(this.diskNumberStart=y.readInt(4))}},readExtraFields:function(y){var D,E,j,M=y.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});y.index+4<M;)D=y.readInt(2),E=y.readInt(2),j=y.readData(E),this.extraFields[D]={id:D,length:E,value:j};y.setIndex(M)},handleUTF8:function(){var y=_.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=k.utf8decode(this.fileName),this.fileCommentStr=k.utf8decode(this.fileComment);else{var D=this.findExtraFieldUnicodePath();if(D!==null)this.fileNameStr=D;else{var E=d.transformTo(y,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(E)}var j=this.findExtraFieldUnicodeComment();if(j!==null)this.fileCommentStr=j;else{var M=d.transformTo(y,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(M)}}},findExtraFieldUnicodePath:function(){var y=this.extraFields[28789];if(y){var D=c(y.value);return D.readInt(1)!==1||m(this.fileName)!==D.readInt(4)?null:k.utf8decode(D.readData(y.length-5))}return null},findExtraFieldUnicodeComment:function(){var y=this.extraFields[25461];if(y){var D=c(y.value);return D.readInt(1)!==1||m(this.fileComment)!==D.readInt(4)?null:k.utf8decode(D.readData(y.length-5))}return null}},o.exports=x},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,o,a){function c(D,E,j){this.name=D,this.dir=j.dir,this.date=j.date,this.comment=j.comment,this.unixPermissions=j.unixPermissions,this.dosPermissions=j.dosPermissions,this._data=E,this._dataBinary=j.binary,this.options={compression:j.compression,compressionOptions:j.compressionOptions}}var d=n("./stream/StreamHelper"),p=n("./stream/DataWorker"),m=n("./utf8"),k=n("./compressedObject"),v=n("./stream/GenericWorker");c.prototype={internalStream:function(D){var E=null,j="string";try{if(!D)throw new Error("No output type specified.");var M=(j=D.toLowerCase())==="string"||j==="text";j!=="binarystring"&&j!=="text"||(j="string"),E=this._decompressWorker();var B=!this._dataBinary;B&&!M&&(E=E.pipe(new m.Utf8EncodeWorker)),!B&&M&&(E=E.pipe(new m.Utf8DecodeWorker))}catch(z){(E=new v("error")).error(z)}return new d(E,j,"")},async:function(D,E){return this.internalStream(D).accumulate(E)},nodeStream:function(D,E){return this.internalStream(D||"nodebuffer").toNodejsStream(E)},_compressWorker:function(D,E){if(this._data instanceof k&&this._data.compression.magic===D.magic)return this._data.getCompressedWorker();var j=this._decompressWorker();return this._dataBinary||(j=j.pipe(new m.Utf8EncodeWorker)),k.createWorkerFrom(j,D,E)},_decompressWorker:function(){return this._data instanceof k?this._data.getContentWorker():this._data instanceof v?this._data:new p(this._data)}};for(var _=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],x=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},y=0;y<_.length;y++)c.prototype[_[y]]=x;o.exports=c},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,o,a){(function(c){var d,p,m=c.MutationObserver||c.WebKitMutationObserver;if(m){var k=0,v=new m(D),_=c.document.createTextNode("");v.observe(_,{characterData:!0}),d=function(){_.data=k=++k%2}}else if(c.setImmediate||c.MessageChannel===void 0)d="document"in c&&"onreadystatechange"in c.document.createElement("script")?function(){var E=c.document.createElement("script");E.onreadystatechange=function(){D(),E.onreadystatechange=null,E.parentNode.removeChild(E),E=null},c.document.documentElement.appendChild(E)}:function(){setTimeout(D,0)};else{var x=new c.MessageChannel;x.port1.onmessage=D,d=function(){x.port2.postMessage(0)}}var y=[];function D(){var E,j;p=!0;for(var M=y.length;M;){for(j=y,y=[],E=-1;++E<M;)j[E]();M=y.length}p=!1}o.exports=function(E){y.push(E)!==1||p||d()}}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,o,a){var c=n("immediate");function d(){}var p={},m=["REJECTED"],k=["FULFILLED"],v=["PENDING"];function _(M){if(typeof M!="function")throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,M!==d&&E(this,M)}function x(M,B,z){this.promise=M,typeof B=="function"&&(this.onFulfilled=B,this.callFulfilled=this.otherCallFulfilled),typeof z=="function"&&(this.onRejected=z,this.callRejected=this.otherCallRejected)}function y(M,B,z){c(function(){var G;try{G=B(z)}catch(J){return p.reject(M,J)}G===M?p.reject(M,new TypeError("Cannot resolve promise with itself")):p.resolve(M,G)})}function D(M){var B=M&&M.then;if(M&&(typeof M=="object"||typeof M=="function")&&typeof B=="function")return function(){B.apply(M,arguments)}}function E(M,B){var z=!1;function G(F){z||(z=!0,p.reject(M,F))}function J(F){z||(z=!0,p.resolve(M,F))}var H=j(function(){B(J,G)});H.status==="error"&&G(H.value)}function j(M,B){var z={};try{z.value=M(B),z.status="success"}catch(G){z.status="error",z.value=G}return z}(o.exports=_).prototype.finally=function(M){if(typeof M!="function")return this;var B=this.constructor;return this.then(function(z){return B.resolve(M()).then(function(){return z})},function(z){return B.resolve(M()).then(function(){throw z})})},_.prototype.catch=function(M){return this.then(null,M)},_.prototype.then=function(M,B){if(typeof M!="function"&&this.state===k||typeof B!="function"&&this.state===m)return this;var z=new this.constructor(d);return this.state!==v?y(z,this.state===k?M:B,this.outcome):this.queue.push(new x(z,M,B)),z},x.prototype.callFulfilled=function(M){p.resolve(this.promise,M)},x.prototype.otherCallFulfilled=function(M){y(this.promise,this.onFulfilled,M)},x.prototype.callRejected=function(M){p.reject(this.promise,M)},x.prototype.otherCallRejected=function(M){y(this.promise,this.onRejected,M)},p.resolve=function(M,B){var z=j(D,B);if(z.status==="error")return p.reject(M,z.value);var G=z.value;if(G)E(M,G);else{M.state=k,M.outcome=B;for(var J=-1,H=M.queue.length;++J<H;)M.queue[J].callFulfilled(B)}return M},p.reject=function(M,B){M.state=m,M.outcome=B;for(var z=-1,G=M.queue.length;++z<G;)M.queue[z].callRejected(B);return M},_.resolve=function(M){return M instanceof this?M:p.resolve(new this(d),M)},_.reject=function(M){var B=new this(d);return p.reject(B,M)},_.all=function(M){var B=this;if(Object.prototype.toString.call(M)!=="[object Array]")return this.reject(new TypeError("must be an array"));var z=M.length,G=!1;if(!z)return this.resolve([]);for(var J=new Array(z),H=0,F=-1,Q=new this(d);++F<z;)Z(M[F],F);return Q;function Z(ae,X){B.resolve(ae).then(function(Y){J[X]=Y,++H!==z||G||(G=!0,p.resolve(Q,J))},function(Y){G||(G=!0,p.reject(Q,Y))})}},_.race=function(M){var B=this;if(Object.prototype.toString.call(M)!=="[object Array]")return this.reject(new TypeError("must be an array"));var z=M.length,G=!1;if(!z)return this.resolve([]);for(var J=-1,H=new this(d);++J<z;)F=M[J],B.resolve(F).then(function(Q){G||(G=!0,p.resolve(H,Q))},function(Q){G||(G=!0,p.reject(H,Q))});var F;return H}},{immediate:36}],38:[function(n,o,a){var c={};(0,n("./lib/utils/common").assign)(c,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),o.exports=c},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,o,a){var c=n("./zlib/deflate"),d=n("./utils/common"),p=n("./utils/strings"),m=n("./zlib/messages"),k=n("./zlib/zstream"),v=Object.prototype.toString,_=0,x=-1,y=0,D=8;function E(M){if(!(this instanceof E))return new E(M);this.options=d.assign({level:x,method:D,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},M||{});var B=this.options;B.raw&&0<B.windowBits?B.windowBits=-B.windowBits:B.gzip&&0<B.windowBits&&B.windowBits<16&&(B.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new k,this.strm.avail_out=0;var z=c.deflateInit2(this.strm,B.level,B.method,B.windowBits,B.memLevel,B.strategy);if(z!==_)throw new Error(m[z]);if(B.header&&c.deflateSetHeader(this.strm,B.header),B.dictionary){var G;if(G=typeof B.dictionary=="string"?p.string2buf(B.dictionary):v.call(B.dictionary)==="[object ArrayBuffer]"?new Uint8Array(B.dictionary):B.dictionary,(z=c.deflateSetDictionary(this.strm,G))!==_)throw new Error(m[z]);this._dict_set=!0}}function j(M,B){var z=new E(B);if(z.push(M,!0),z.err)throw z.msg||m[z.err];return z.result}E.prototype.push=function(M,B){var z,G,J=this.strm,H=this.options.chunkSize;if(this.ended)return!1;G=B===~~B?B:B===!0?4:0,typeof M=="string"?J.input=p.string2buf(M):v.call(M)==="[object ArrayBuffer]"?J.input=new Uint8Array(M):J.input=M,J.next_in=0,J.avail_in=J.input.length;do{if(J.avail_out===0&&(J.output=new d.Buf8(H),J.next_out=0,J.avail_out=H),(z=c.deflate(J,G))!==1&&z!==_)return this.onEnd(z),!(this.ended=!0);J.avail_out!==0&&(J.avail_in!==0||G!==4&&G!==2)||(this.options.to==="string"?this.onData(p.buf2binstring(d.shrinkBuf(J.output,J.next_out))):this.onData(d.shrinkBuf(J.output,J.next_out)))}while((0<J.avail_in||J.avail_out===0)&&z!==1);return G===4?(z=c.deflateEnd(this.strm),this.onEnd(z),this.ended=!0,z===_):G!==2||(this.onEnd(_),!(J.avail_out=0))},E.prototype.onData=function(M){this.chunks.push(M)},E.prototype.onEnd=function(M){M===_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=M,this.msg=this.strm.msg},a.Deflate=E,a.deflate=j,a.deflateRaw=function(M,B){return(B=B||{}).raw=!0,j(M,B)},a.gzip=function(M,B){return(B=B||{}).gzip=!0,j(M,B)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,o,a){var c=n("./zlib/inflate"),d=n("./utils/common"),p=n("./utils/strings"),m=n("./zlib/constants"),k=n("./zlib/messages"),v=n("./zlib/zstream"),_=n("./zlib/gzheader"),x=Object.prototype.toString;function y(E){if(!(this instanceof y))return new y(E);this.options=d.assign({chunkSize:16384,windowBits:0,to:""},E||{});var j=this.options;j.raw&&0<=j.windowBits&&j.windowBits<16&&(j.windowBits=-j.windowBits,j.windowBits===0&&(j.windowBits=-15)),!(0<=j.windowBits&&j.windowBits<16)||E&&E.windowBits||(j.windowBits+=32),15<j.windowBits&&j.windowBits<48&&(15&j.windowBits)==0&&(j.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v,this.strm.avail_out=0;var M=c.inflateInit2(this.strm,j.windowBits);if(M!==m.Z_OK)throw new Error(k[M]);this.header=new _,c.inflateGetHeader(this.strm,this.header)}function D(E,j){var M=new y(j);if(M.push(E,!0),M.err)throw M.msg||k[M.err];return M.result}y.prototype.push=function(E,j){var M,B,z,G,J,H,F=this.strm,Q=this.options.chunkSize,Z=this.options.dictionary,ae=!1;if(this.ended)return!1;B=j===~~j?j:j===!0?m.Z_FINISH:m.Z_NO_FLUSH,typeof E=="string"?F.input=p.binstring2buf(E):x.call(E)==="[object ArrayBuffer]"?F.input=new Uint8Array(E):F.input=E,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new d.Buf8(Q),F.next_out=0,F.avail_out=Q),(M=c.inflate(F,m.Z_NO_FLUSH))===m.Z_NEED_DICT&&Z&&(H=typeof Z=="string"?p.string2buf(Z):x.call(Z)==="[object ArrayBuffer]"?new Uint8Array(Z):Z,M=c.inflateSetDictionary(this.strm,H)),M===m.Z_BUF_ERROR&&ae===!0&&(M=m.Z_OK,ae=!1),M!==m.Z_STREAM_END&&M!==m.Z_OK)return this.onEnd(M),!(this.ended=!0);F.next_out&&(F.avail_out!==0&&M!==m.Z_STREAM_END&&(F.avail_in!==0||B!==m.Z_FINISH&&B!==m.Z_SYNC_FLUSH)||(this.options.to==="string"?(z=p.utf8border(F.output,F.next_out),G=F.next_out-z,J=p.buf2string(F.output,z),F.next_out=G,F.avail_out=Q-G,G&&d.arraySet(F.output,F.output,z,G,0),this.onData(J)):this.onData(d.shrinkBuf(F.output,F.next_out)))),F.avail_in===0&&F.avail_out===0&&(ae=!0)}while((0<F.avail_in||F.avail_out===0)&&M!==m.Z_STREAM_END);return M===m.Z_STREAM_END&&(B=m.Z_FINISH),B===m.Z_FINISH?(M=c.inflateEnd(this.strm),this.onEnd(M),this.ended=!0,M===m.Z_OK):B!==m.Z_SYNC_FLUSH||(this.onEnd(m.Z_OK),!(F.avail_out=0))},y.prototype.onData=function(E){this.chunks.push(E)},y.prototype.onEnd=function(E){E===m.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=E,this.msg=this.strm.msg},a.Inflate=y,a.inflate=D,a.inflateRaw=function(E,j){return(j=j||{}).raw=!0,D(E,j)},a.ungzip=D},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,o,a){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(m){for(var k=Array.prototype.slice.call(arguments,1);k.length;){var v=k.shift();if(v){if(typeof v!="object")throw new TypeError(v+"must be non-object");for(var _ in v)v.hasOwnProperty(_)&&(m[_]=v[_])}}return m},a.shrinkBuf=function(m,k){return m.length===k?m:m.subarray?m.subarray(0,k):(m.length=k,m)};var d={arraySet:function(m,k,v,_,x){if(k.subarray&&m.subarray)m.set(k.subarray(v,v+_),x);else for(var y=0;y<_;y++)m[x+y]=k[v+y]},flattenChunks:function(m){var k,v,_,x,y,D;for(k=_=0,v=m.length;k<v;k++)_+=m[k].length;for(D=new Uint8Array(_),k=x=0,v=m.length;k<v;k++)y=m[k],D.set(y,x),x+=y.length;return D}},p={arraySet:function(m,k,v,_,x){for(var y=0;y<_;y++)m[x+y]=k[v+y]},flattenChunks:function(m){return[].concat.apply([],m)}};a.setTyped=function(m){m?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,d)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,p))},a.setTyped(c)},{}],42:[function(n,o,a){var c=n("./common"),d=!0,p=!0;try{String.fromCharCode.apply(null,[0])}catch{d=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{p=!1}for(var m=new c.Buf8(256),k=0;k<256;k++)m[k]=252<=k?6:248<=k?5:240<=k?4:224<=k?3:192<=k?2:1;function v(_,x){if(x<65537&&(_.subarray&&p||!_.subarray&&d))return String.fromCharCode.apply(null,c.shrinkBuf(_,x));for(var y="",D=0;D<x;D++)y+=String.fromCharCode(_[D]);return y}m[254]=m[254]=1,a.string2buf=function(_){var x,y,D,E,j,M=_.length,B=0;for(E=0;E<M;E++)(64512&(y=_.charCodeAt(E)))==55296&&E+1<M&&(64512&(D=_.charCodeAt(E+1)))==56320&&(y=65536+(y-55296<<10)+(D-56320),E++),B+=y<128?1:y<2048?2:y<65536?3:4;for(x=new c.Buf8(B),E=j=0;j<B;E++)(64512&(y=_.charCodeAt(E)))==55296&&E+1<M&&(64512&(D=_.charCodeAt(E+1)))==56320&&(y=65536+(y-55296<<10)+(D-56320),E++),y<128?x[j++]=y:(y<2048?x[j++]=192|y>>>6:(y<65536?x[j++]=224|y>>>12:(x[j++]=240|y>>>18,x[j++]=128|y>>>12&63),x[j++]=128|y>>>6&63),x[j++]=128|63&y);return x},a.buf2binstring=function(_){return v(_,_.length)},a.binstring2buf=function(_){for(var x=new c.Buf8(_.length),y=0,D=x.length;y<D;y++)x[y]=_.charCodeAt(y);return x},a.buf2string=function(_,x){var y,D,E,j,M=x||_.length,B=new Array(2*M);for(y=D=0;y<M;)if((E=_[y++])<128)B[D++]=E;else if(4<(j=m[E]))B[D++]=65533,y+=j-1;else{for(E&=j===2?31:j===3?15:7;1<j&&y<M;)E=E<<6|63&_[y++],j--;1<j?B[D++]=65533:E<65536?B[D++]=E:(E-=65536,B[D++]=55296|E>>10&1023,B[D++]=56320|1023&E)}return v(B,D)},a.utf8border=function(_,x){var y;for((x=x||_.length)>_.length&&(x=_.length),y=x-1;0<=y&&(192&_[y])==128;)y--;return y<0||y===0?x:y+m[_[y]]>x?y:x}},{"./common":41}],43:[function(n,o,a){o.exports=function(c,d,p,m){for(var k=65535&c|0,v=c>>>16&65535|0,_=0;p!==0;){for(p-=_=2e3<p?2e3:p;v=v+(k=k+d[m++]|0)|0,--_;);k%=65521,v%=65521}return k|v<<16|0}},{}],44:[function(n,o,a){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,o,a){var c=function(){for(var d,p=[],m=0;m<256;m++){d=m;for(var k=0;k<8;k++)d=1&d?3988292384^d>>>1:d>>>1;p[m]=d}return p}();o.exports=function(d,p,m,k){var v=c,_=k+m;d^=-1;for(var x=k;x<_;x++)d=d>>>8^v[255&(d^p[x])];return-1^d}},{}],46:[function(n,o,a){var c,d=n("../utils/common"),p=n("./trees"),m=n("./adler32"),k=n("./crc32"),v=n("./messages"),_=0,x=4,y=0,D=-2,E=-1,j=4,M=2,B=8,z=9,G=286,J=30,H=19,F=2*G+1,Q=15,Z=3,ae=258,X=ae+Z+1,Y=42,U=113,q=1,fe=2,ue=3,de=4;function me(oe,Pe){return oe.msg=v[Pe],Pe}function Me(oe){return(oe<<1)-(4<oe?9:0)}function ce(oe){for(var Pe=oe.length;0<=--Pe;)oe[Pe]=0}function Ie(oe){var Pe=oe.state,we=Pe.pending;we>oe.avail_out&&(we=oe.avail_out),we!==0&&(d.arraySet(oe.output,Pe.pending_buf,Pe.pending_out,we,oe.next_out),oe.next_out+=we,Pe.pending_out+=we,oe.total_out+=we,oe.avail_out-=we,Pe.pending-=we,Pe.pending===0&&(Pe.pending_out=0))}function re(oe,Pe){p._tr_flush_block(oe,0<=oe.block_start?oe.block_start:-1,oe.strstart-oe.block_start,Pe),oe.block_start=oe.strstart,Ie(oe.strm)}function te(oe,Pe){oe.pending_buf[oe.pending++]=Pe}function ke(oe,Pe){oe.pending_buf[oe.pending++]=Pe>>>8&255,oe.pending_buf[oe.pending++]=255&Pe}function be(oe,Pe){var we,De,Ae=oe.max_chain_length,Oe=oe.strstart,Ke=oe.prev_length,Xe=oe.nice_match,Fe=oe.strstart>oe.w_size-X?oe.strstart-(oe.w_size-X):0,dt=oe.window,wt=oe.w_mask,ot=oe.prev,pt=oe.strstart+ae,He=dt[Oe+Ke-1],at=dt[Oe+Ke];oe.prev_length>=oe.good_match&&(Ae>>=2),Xe>oe.lookahead&&(Xe=oe.lookahead);do if(dt[(we=Pe)+Ke]===at&&dt[we+Ke-1]===He&&dt[we]===dt[Oe]&&dt[++we]===dt[Oe+1]){Oe+=2,we++;do;while(dt[++Oe]===dt[++we]&&dt[++Oe]===dt[++we]&&dt[++Oe]===dt[++we]&&dt[++Oe]===dt[++we]&&dt[++Oe]===dt[++we]&&dt[++Oe]===dt[++we]&&dt[++Oe]===dt[++we]&&dt[++Oe]===dt[++we]&&Oe<pt);if(De=ae-(pt-Oe),Oe=pt-ae,Ke<De){if(oe.match_start=Pe,Xe<=(Ke=De))break;He=dt[Oe+Ke-1],at=dt[Oe+Ke]}}while((Pe=ot[Pe&wt])>Fe&&--Ae!=0);return Ke<=oe.lookahead?Ke:oe.lookahead}function ve(oe){var Pe,we,De,Ae,Oe,Ke,Xe,Fe,dt,wt,ot=oe.w_size;do{if(Ae=oe.window_size-oe.lookahead-oe.strstart,oe.strstart>=ot+(ot-X)){for(d.arraySet(oe.window,oe.window,ot,ot,0),oe.match_start-=ot,oe.strstart-=ot,oe.block_start-=ot,Pe=we=oe.hash_size;De=oe.head[--Pe],oe.head[Pe]=ot<=De?De-ot:0,--we;);for(Pe=we=ot;De=oe.prev[--Pe],oe.prev[Pe]=ot<=De?De-ot:0,--we;);Ae+=ot}if(oe.strm.avail_in===0)break;if(Ke=oe.strm,Xe=oe.window,Fe=oe.strstart+oe.lookahead,dt=Ae,wt=void 0,wt=Ke.avail_in,dt<wt&&(wt=dt),we=wt===0?0:(Ke.avail_in-=wt,d.arraySet(Xe,Ke.input,Ke.next_in,wt,Fe),Ke.state.wrap===1?Ke.adler=m(Ke.adler,Xe,wt,Fe):Ke.state.wrap===2&&(Ke.adler=k(Ke.adler,Xe,wt,Fe)),Ke.next_in+=wt,Ke.total_in+=wt,wt),oe.lookahead+=we,oe.lookahead+oe.insert>=Z)for(Oe=oe.strstart-oe.insert,oe.ins_h=oe.window[Oe],oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[Oe+1])&oe.hash_mask;oe.insert&&(oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[Oe+Z-1])&oe.hash_mask,oe.prev[Oe&oe.w_mask]=oe.head[oe.ins_h],oe.head[oe.ins_h]=Oe,Oe++,oe.insert--,!(oe.lookahead+oe.insert<Z)););}while(oe.lookahead<X&&oe.strm.avail_in!==0)}function Re(oe,Pe){for(var we,De;;){if(oe.lookahead<X){if(ve(oe),oe.lookahead<X&&Pe===_)return q;if(oe.lookahead===0)break}if(we=0,oe.lookahead>=Z&&(oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[oe.strstart+Z-1])&oe.hash_mask,we=oe.prev[oe.strstart&oe.w_mask]=oe.head[oe.ins_h],oe.head[oe.ins_h]=oe.strstart),we!==0&&oe.strstart-we<=oe.w_size-X&&(oe.match_length=be(oe,we)),oe.match_length>=Z)if(De=p._tr_tally(oe,oe.strstart-oe.match_start,oe.match_length-Z),oe.lookahead-=oe.match_length,oe.match_length<=oe.max_lazy_match&&oe.lookahead>=Z){for(oe.match_length--;oe.strstart++,oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[oe.strstart+Z-1])&oe.hash_mask,we=oe.prev[oe.strstart&oe.w_mask]=oe.head[oe.ins_h],oe.head[oe.ins_h]=oe.strstart,--oe.match_length!=0;);oe.strstart++}else oe.strstart+=oe.match_length,oe.match_length=0,oe.ins_h=oe.window[oe.strstart],oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[oe.strstart+1])&oe.hash_mask;else De=p._tr_tally(oe,0,oe.window[oe.strstart]),oe.lookahead--,oe.strstart++;if(De&&(re(oe,!1),oe.strm.avail_out===0))return q}return oe.insert=oe.strstart<Z-1?oe.strstart:Z-1,Pe===x?(re(oe,!0),oe.strm.avail_out===0?ue:de):oe.last_lit&&(re(oe,!1),oe.strm.avail_out===0)?q:fe}function Be(oe,Pe){for(var we,De,Ae;;){if(oe.lookahead<X){if(ve(oe),oe.lookahead<X&&Pe===_)return q;if(oe.lookahead===0)break}if(we=0,oe.lookahead>=Z&&(oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[oe.strstart+Z-1])&oe.hash_mask,we=oe.prev[oe.strstart&oe.w_mask]=oe.head[oe.ins_h],oe.head[oe.ins_h]=oe.strstart),oe.prev_length=oe.match_length,oe.prev_match=oe.match_start,oe.match_length=Z-1,we!==0&&oe.prev_length<oe.max_lazy_match&&oe.strstart-we<=oe.w_size-X&&(oe.match_length=be(oe,we),oe.match_length<=5&&(oe.strategy===1||oe.match_length===Z&&4096<oe.strstart-oe.match_start)&&(oe.match_length=Z-1)),oe.prev_length>=Z&&oe.match_length<=oe.prev_length){for(Ae=oe.strstart+oe.lookahead-Z,De=p._tr_tally(oe,oe.strstart-1-oe.prev_match,oe.prev_length-Z),oe.lookahead-=oe.prev_length-1,oe.prev_length-=2;++oe.strstart<=Ae&&(oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[oe.strstart+Z-1])&oe.hash_mask,we=oe.prev[oe.strstart&oe.w_mask]=oe.head[oe.ins_h],oe.head[oe.ins_h]=oe.strstart),--oe.prev_length!=0;);if(oe.match_available=0,oe.match_length=Z-1,oe.strstart++,De&&(re(oe,!1),oe.strm.avail_out===0))return q}else if(oe.match_available){if((De=p._tr_tally(oe,0,oe.window[oe.strstart-1]))&&re(oe,!1),oe.strstart++,oe.lookahead--,oe.strm.avail_out===0)return q}else oe.match_available=1,oe.strstart++,oe.lookahead--}return oe.match_available&&(De=p._tr_tally(oe,0,oe.window[oe.strstart-1]),oe.match_available=0),oe.insert=oe.strstart<Z-1?oe.strstart:Z-1,Pe===x?(re(oe,!0),oe.strm.avail_out===0?ue:de):oe.last_lit&&(re(oe,!1),oe.strm.avail_out===0)?q:fe}function Ue(oe,Pe,we,De,Ae){this.good_length=oe,this.max_lazy=Pe,this.nice_length=we,this.max_chain=De,this.func=Ae}function Ze(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=B,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(2*F),this.dyn_dtree=new d.Buf16(2*(2*J+1)),this.bl_tree=new d.Buf16(2*(2*H+1)),ce(this.dyn_ltree),ce(this.dyn_dtree),ce(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(Q+1),this.heap=new d.Buf16(2*G+1),ce(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(2*G+1),ce(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ge(oe){var Pe;return oe&&oe.state?(oe.total_in=oe.total_out=0,oe.data_type=M,(Pe=oe.state).pending=0,Pe.pending_out=0,Pe.wrap<0&&(Pe.wrap=-Pe.wrap),Pe.status=Pe.wrap?Y:U,oe.adler=Pe.wrap===2?0:1,Pe.last_flush=_,p._tr_init(Pe),y):me(oe,D)}function ft(oe){var Pe=Ge(oe);return Pe===y&&function(we){we.window_size=2*we.w_size,ce(we.head),we.max_lazy_match=c[we.level].max_lazy,we.good_match=c[we.level].good_length,we.nice_match=c[we.level].nice_length,we.max_chain_length=c[we.level].max_chain,we.strstart=0,we.block_start=0,we.lookahead=0,we.insert=0,we.match_length=we.prev_length=Z-1,we.match_available=0,we.ins_h=0}(oe.state),Pe}function gt(oe,Pe,we,De,Ae,Oe){if(!oe)return D;var Ke=1;if(Pe===E&&(Pe=6),De<0?(Ke=0,De=-De):15<De&&(Ke=2,De-=16),Ae<1||z<Ae||we!==B||De<8||15<De||Pe<0||9<Pe||Oe<0||j<Oe)return me(oe,D);De===8&&(De=9);var Xe=new Ze;return(oe.state=Xe).strm=oe,Xe.wrap=Ke,Xe.gzhead=null,Xe.w_bits=De,Xe.w_size=1<<Xe.w_bits,Xe.w_mask=Xe.w_size-1,Xe.hash_bits=Ae+7,Xe.hash_size=1<<Xe.hash_bits,Xe.hash_mask=Xe.hash_size-1,Xe.hash_shift=~~((Xe.hash_bits+Z-1)/Z),Xe.window=new d.Buf8(2*Xe.w_size),Xe.head=new d.Buf16(Xe.hash_size),Xe.prev=new d.Buf16(Xe.w_size),Xe.lit_bufsize=1<<Ae+6,Xe.pending_buf_size=4*Xe.lit_bufsize,Xe.pending_buf=new d.Buf8(Xe.pending_buf_size),Xe.d_buf=1*Xe.lit_bufsize,Xe.l_buf=3*Xe.lit_bufsize,Xe.level=Pe,Xe.strategy=Oe,Xe.method=we,ft(oe)}c=[new Ue(0,0,0,0,function(oe,Pe){var we=65535;for(we>oe.pending_buf_size-5&&(we=oe.pending_buf_size-5);;){if(oe.lookahead<=1){if(ve(oe),oe.lookahead===0&&Pe===_)return q;if(oe.lookahead===0)break}oe.strstart+=oe.lookahead,oe.lookahead=0;var De=oe.block_start+we;if((oe.strstart===0||oe.strstart>=De)&&(oe.lookahead=oe.strstart-De,oe.strstart=De,re(oe,!1),oe.strm.avail_out===0)||oe.strstart-oe.block_start>=oe.w_size-X&&(re(oe,!1),oe.strm.avail_out===0))return q}return oe.insert=0,Pe===x?(re(oe,!0),oe.strm.avail_out===0?ue:de):(oe.strstart>oe.block_start&&(re(oe,!1),oe.strm.avail_out),q)}),new Ue(4,4,8,4,Re),new Ue(4,5,16,8,Re),new Ue(4,6,32,32,Re),new Ue(4,4,16,16,Be),new Ue(8,16,32,32,Be),new Ue(8,16,128,128,Be),new Ue(8,32,128,256,Be),new Ue(32,128,258,1024,Be),new Ue(32,258,258,4096,Be)],a.deflateInit=function(oe,Pe){return gt(oe,Pe,B,15,8,0)},a.deflateInit2=gt,a.deflateReset=ft,a.deflateResetKeep=Ge,a.deflateSetHeader=function(oe,Pe){return oe&&oe.state?oe.state.wrap!==2?D:(oe.state.gzhead=Pe,y):D},a.deflate=function(oe,Pe){var we,De,Ae,Oe;if(!oe||!oe.state||5<Pe||Pe<0)return oe?me(oe,D):D;if(De=oe.state,!oe.output||!oe.input&&oe.avail_in!==0||De.status===666&&Pe!==x)return me(oe,oe.avail_out===0?-5:D);if(De.strm=oe,we=De.last_flush,De.last_flush=Pe,De.status===Y)if(De.wrap===2)oe.adler=0,te(De,31),te(De,139),te(De,8),De.gzhead?(te(De,(De.gzhead.text?1:0)+(De.gzhead.hcrc?2:0)+(De.gzhead.extra?4:0)+(De.gzhead.name?8:0)+(De.gzhead.comment?16:0)),te(De,255&De.gzhead.time),te(De,De.gzhead.time>>8&255),te(De,De.gzhead.time>>16&255),te(De,De.gzhead.time>>24&255),te(De,De.level===9?2:2<=De.strategy||De.level<2?4:0),te(De,255&De.gzhead.os),De.gzhead.extra&&De.gzhead.extra.length&&(te(De,255&De.gzhead.extra.length),te(De,De.gzhead.extra.length>>8&255)),De.gzhead.hcrc&&(oe.adler=k(oe.adler,De.pending_buf,De.pending,0)),De.gzindex=0,De.status=69):(te(De,0),te(De,0),te(De,0),te(De,0),te(De,0),te(De,De.level===9?2:2<=De.strategy||De.level<2?4:0),te(De,3),De.status=U);else{var Ke=B+(De.w_bits-8<<4)<<8;Ke|=(2<=De.strategy||De.level<2?0:De.level<6?1:De.level===6?2:3)<<6,De.strstart!==0&&(Ke|=32),Ke+=31-Ke%31,De.status=U,ke(De,Ke),De.strstart!==0&&(ke(De,oe.adler>>>16),ke(De,65535&oe.adler)),oe.adler=1}if(De.status===69)if(De.gzhead.extra){for(Ae=De.pending;De.gzindex<(65535&De.gzhead.extra.length)&&(De.pending!==De.pending_buf_size||(De.gzhead.hcrc&&De.pending>Ae&&(oe.adler=k(oe.adler,De.pending_buf,De.pending-Ae,Ae)),Ie(oe),Ae=De.pending,De.pending!==De.pending_buf_size));)te(De,255&De.gzhead.extra[De.gzindex]),De.gzindex++;De.gzhead.hcrc&&De.pending>Ae&&(oe.adler=k(oe.adler,De.pending_buf,De.pending-Ae,Ae)),De.gzindex===De.gzhead.extra.length&&(De.gzindex=0,De.status=73)}else De.status=73;if(De.status===73)if(De.gzhead.name){Ae=De.pending;do{if(De.pending===De.pending_buf_size&&(De.gzhead.hcrc&&De.pending>Ae&&(oe.adler=k(oe.adler,De.pending_buf,De.pending-Ae,Ae)),Ie(oe),Ae=De.pending,De.pending===De.pending_buf_size)){Oe=1;break}Oe=De.gzindex<De.gzhead.name.length?255&De.gzhead.name.charCodeAt(De.gzindex++):0,te(De,Oe)}while(Oe!==0);De.gzhead.hcrc&&De.pending>Ae&&(oe.adler=k(oe.adler,De.pending_buf,De.pending-Ae,Ae)),Oe===0&&(De.gzindex=0,De.status=91)}else De.status=91;if(De.status===91)if(De.gzhead.comment){Ae=De.pending;do{if(De.pending===De.pending_buf_size&&(De.gzhead.hcrc&&De.pending>Ae&&(oe.adler=k(oe.adler,De.pending_buf,De.pending-Ae,Ae)),Ie(oe),Ae=De.pending,De.pending===De.pending_buf_size)){Oe=1;break}Oe=De.gzindex<De.gzhead.comment.length?255&De.gzhead.comment.charCodeAt(De.gzindex++):0,te(De,Oe)}while(Oe!==0);De.gzhead.hcrc&&De.pending>Ae&&(oe.adler=k(oe.adler,De.pending_buf,De.pending-Ae,Ae)),Oe===0&&(De.status=103)}else De.status=103;if(De.status===103&&(De.gzhead.hcrc?(De.pending+2>De.pending_buf_size&&Ie(oe),De.pending+2<=De.pending_buf_size&&(te(De,255&oe.adler),te(De,oe.adler>>8&255),oe.adler=0,De.status=U)):De.status=U),De.pending!==0){if(Ie(oe),oe.avail_out===0)return De.last_flush=-1,y}else if(oe.avail_in===0&&Me(Pe)<=Me(we)&&Pe!==x)return me(oe,-5);if(De.status===666&&oe.avail_in!==0)return me(oe,-5);if(oe.avail_in!==0||De.lookahead!==0||Pe!==_&&De.status!==666){var Xe=De.strategy===2?function(Fe,dt){for(var wt;;){if(Fe.lookahead===0&&(ve(Fe),Fe.lookahead===0)){if(dt===_)return q;break}if(Fe.match_length=0,wt=p._tr_tally(Fe,0,Fe.window[Fe.strstart]),Fe.lookahead--,Fe.strstart++,wt&&(re(Fe,!1),Fe.strm.avail_out===0))return q}return Fe.insert=0,dt===x?(re(Fe,!0),Fe.strm.avail_out===0?ue:de):Fe.last_lit&&(re(Fe,!1),Fe.strm.avail_out===0)?q:fe}(De,Pe):De.strategy===3?function(Fe,dt){for(var wt,ot,pt,He,at=Fe.window;;){if(Fe.lookahead<=ae){if(ve(Fe),Fe.lookahead<=ae&&dt===_)return q;if(Fe.lookahead===0)break}if(Fe.match_length=0,Fe.lookahead>=Z&&0<Fe.strstart&&(ot=at[pt=Fe.strstart-1])===at[++pt]&&ot===at[++pt]&&ot===at[++pt]){He=Fe.strstart+ae;do;while(ot===at[++pt]&&ot===at[++pt]&&ot===at[++pt]&&ot===at[++pt]&&ot===at[++pt]&&ot===at[++pt]&&ot===at[++pt]&&ot===at[++pt]&&pt<He);Fe.match_length=ae-(He-pt),Fe.match_length>Fe.lookahead&&(Fe.match_length=Fe.lookahead)}if(Fe.match_length>=Z?(wt=p._tr_tally(Fe,1,Fe.match_length-Z),Fe.lookahead-=Fe.match_length,Fe.strstart+=Fe.match_length,Fe.match_length=0):(wt=p._tr_tally(Fe,0,Fe.window[Fe.strstart]),Fe.lookahead--,Fe.strstart++),wt&&(re(Fe,!1),Fe.strm.avail_out===0))return q}return Fe.insert=0,dt===x?(re(Fe,!0),Fe.strm.avail_out===0?ue:de):Fe.last_lit&&(re(Fe,!1),Fe.strm.avail_out===0)?q:fe}(De,Pe):c[De.level].func(De,Pe);if(Xe!==ue&&Xe!==de||(De.status=666),Xe===q||Xe===ue)return oe.avail_out===0&&(De.last_flush=-1),y;if(Xe===fe&&(Pe===1?p._tr_align(De):Pe!==5&&(p._tr_stored_block(De,0,0,!1),Pe===3&&(ce(De.head),De.lookahead===0&&(De.strstart=0,De.block_start=0,De.insert=0))),Ie(oe),oe.avail_out===0))return De.last_flush=-1,y}return Pe!==x?y:De.wrap<=0?1:(De.wrap===2?(te(De,255&oe.adler),te(De,oe.adler>>8&255),te(De,oe.adler>>16&255),te(De,oe.adler>>24&255),te(De,255&oe.total_in),te(De,oe.total_in>>8&255),te(De,oe.total_in>>16&255),te(De,oe.total_in>>24&255)):(ke(De,oe.adler>>>16),ke(De,65535&oe.adler)),Ie(oe),0<De.wrap&&(De.wrap=-De.wrap),De.pending!==0?y:1)},a.deflateEnd=function(oe){var Pe;return oe&&oe.state?(Pe=oe.state.status)!==Y&&Pe!==69&&Pe!==73&&Pe!==91&&Pe!==103&&Pe!==U&&Pe!==666?me(oe,D):(oe.state=null,Pe===U?me(oe,-3):y):D},a.deflateSetDictionary=function(oe,Pe){var we,De,Ae,Oe,Ke,Xe,Fe,dt,wt=Pe.length;if(!oe||!oe.state||(Oe=(we=oe.state).wrap)===2||Oe===1&&we.status!==Y||we.lookahead)return D;for(Oe===1&&(oe.adler=m(oe.adler,Pe,wt,0)),we.wrap=0,wt>=we.w_size&&(Oe===0&&(ce(we.head),we.strstart=0,we.block_start=0,we.insert=0),dt=new d.Buf8(we.w_size),d.arraySet(dt,Pe,wt-we.w_size,we.w_size,0),Pe=dt,wt=we.w_size),Ke=oe.avail_in,Xe=oe.next_in,Fe=oe.input,oe.avail_in=wt,oe.next_in=0,oe.input=Pe,ve(we);we.lookahead>=Z;){for(De=we.strstart,Ae=we.lookahead-(Z-1);we.ins_h=(we.ins_h<<we.hash_shift^we.window[De+Z-1])&we.hash_mask,we.prev[De&we.w_mask]=we.head[we.ins_h],we.head[we.ins_h]=De,De++,--Ae;);we.strstart=De,we.lookahead=Z-1,ve(we)}return we.strstart+=we.lookahead,we.block_start=we.strstart,we.insert=we.lookahead,we.lookahead=0,we.match_length=we.prev_length=Z-1,we.match_available=0,oe.next_in=Xe,oe.input=Fe,oe.avail_in=Ke,we.wrap=Oe,y},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,o,a){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,o,a){o.exports=function(c,d){var p,m,k,v,_,x,y,D,E,j,M,B,z,G,J,H,F,Q,Z,ae,X,Y,U,q,fe;p=c.state,m=c.next_in,q=c.input,k=m+(c.avail_in-5),v=c.next_out,fe=c.output,_=v-(d-c.avail_out),x=v+(c.avail_out-257),y=p.dmax,D=p.wsize,E=p.whave,j=p.wnext,M=p.window,B=p.hold,z=p.bits,G=p.lencode,J=p.distcode,H=(1<<p.lenbits)-1,F=(1<<p.distbits)-1;e:do{z<15&&(B+=q[m++]<<z,z+=8,B+=q[m++]<<z,z+=8),Q=G[B&H];t:for(;;){if(B>>>=Z=Q>>>24,z-=Z,(Z=Q>>>16&255)===0)fe[v++]=65535&Q;else{if(!(16&Z)){if((64&Z)==0){Q=G[(65535&Q)+(B&(1<<Z)-1)];continue t}if(32&Z){p.mode=12;break e}c.msg="invalid literal/length code",p.mode=30;break e}ae=65535&Q,(Z&=15)&&(z<Z&&(B+=q[m++]<<z,z+=8),ae+=B&(1<<Z)-1,B>>>=Z,z-=Z),z<15&&(B+=q[m++]<<z,z+=8,B+=q[m++]<<z,z+=8),Q=J[B&F];n:for(;;){if(B>>>=Z=Q>>>24,z-=Z,!(16&(Z=Q>>>16&255))){if((64&Z)==0){Q=J[(65535&Q)+(B&(1<<Z)-1)];continue n}c.msg="invalid distance code",p.mode=30;break e}if(X=65535&Q,z<(Z&=15)&&(B+=q[m++]<<z,(z+=8)<Z&&(B+=q[m++]<<z,z+=8)),y<(X+=B&(1<<Z)-1)){c.msg="invalid distance too far back",p.mode=30;break e}if(B>>>=Z,z-=Z,(Z=v-_)<X){if(E<(Z=X-Z)&&p.sane){c.msg="invalid distance too far back",p.mode=30;break e}if(U=M,(Y=0)===j){if(Y+=D-Z,Z<ae){for(ae-=Z;fe[v++]=M[Y++],--Z;);Y=v-X,U=fe}}else if(j<Z){if(Y+=D+j-Z,(Z-=j)<ae){for(ae-=Z;fe[v++]=M[Y++],--Z;);if(Y=0,j<ae){for(ae-=Z=j;fe[v++]=M[Y++],--Z;);Y=v-X,U=fe}}}else if(Y+=j-Z,Z<ae){for(ae-=Z;fe[v++]=M[Y++],--Z;);Y=v-X,U=fe}for(;2<ae;)fe[v++]=U[Y++],fe[v++]=U[Y++],fe[v++]=U[Y++],ae-=3;ae&&(fe[v++]=U[Y++],1<ae&&(fe[v++]=U[Y++]))}else{for(Y=v-X;fe[v++]=fe[Y++],fe[v++]=fe[Y++],fe[v++]=fe[Y++],2<(ae-=3););ae&&(fe[v++]=fe[Y++],1<ae&&(fe[v++]=fe[Y++]))}break}}break}}while(m<k&&v<x);m-=ae=z>>3,B&=(1<<(z-=ae<<3))-1,c.next_in=m,c.next_out=v,c.avail_in=m<k?k-m+5:5-(m-k),c.avail_out=v<x?x-v+257:257-(v-x),p.hold=B,p.bits=z}},{}],49:[function(n,o,a){var c=n("../utils/common"),d=n("./adler32"),p=n("./crc32"),m=n("./inffast"),k=n("./inftrees"),v=1,_=2,x=0,y=-2,D=1,E=852,j=592;function M(Y){return(Y>>>24&255)+(Y>>>8&65280)+((65280&Y)<<8)+((255&Y)<<24)}function B(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new c.Buf16(320),this.work=new c.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function z(Y){var U;return Y&&Y.state?(U=Y.state,Y.total_in=Y.total_out=U.total=0,Y.msg="",U.wrap&&(Y.adler=1&U.wrap),U.mode=D,U.last=0,U.havedict=0,U.dmax=32768,U.head=null,U.hold=0,U.bits=0,U.lencode=U.lendyn=new c.Buf32(E),U.distcode=U.distdyn=new c.Buf32(j),U.sane=1,U.back=-1,x):y}function G(Y){var U;return Y&&Y.state?((U=Y.state).wsize=0,U.whave=0,U.wnext=0,z(Y)):y}function J(Y,U){var q,fe;return Y&&Y.state?(fe=Y.state,U<0?(q=0,U=-U):(q=1+(U>>4),U<48&&(U&=15)),U&&(U<8||15<U)?y:(fe.window!==null&&fe.wbits!==U&&(fe.window=null),fe.wrap=q,fe.wbits=U,G(Y))):y}function H(Y,U){var q,fe;return Y?(fe=new B,(Y.state=fe).window=null,(q=J(Y,U))!==x&&(Y.state=null),q):y}var F,Q,Z=!0;function ae(Y){if(Z){var U;for(F=new c.Buf32(512),Q=new c.Buf32(32),U=0;U<144;)Y.lens[U++]=8;for(;U<256;)Y.lens[U++]=9;for(;U<280;)Y.lens[U++]=7;for(;U<288;)Y.lens[U++]=8;for(k(v,Y.lens,0,288,F,0,Y.work,{bits:9}),U=0;U<32;)Y.lens[U++]=5;k(_,Y.lens,0,32,Q,0,Y.work,{bits:5}),Z=!1}Y.lencode=F,Y.lenbits=9,Y.distcode=Q,Y.distbits=5}function X(Y,U,q,fe){var ue,de=Y.state;return de.window===null&&(de.wsize=1<<de.wbits,de.wnext=0,de.whave=0,de.window=new c.Buf8(de.wsize)),fe>=de.wsize?(c.arraySet(de.window,U,q-de.wsize,de.wsize,0),de.wnext=0,de.whave=de.wsize):(fe<(ue=de.wsize-de.wnext)&&(ue=fe),c.arraySet(de.window,U,q-fe,ue,de.wnext),(fe-=ue)?(c.arraySet(de.window,U,q-fe,fe,0),de.wnext=fe,de.whave=de.wsize):(de.wnext+=ue,de.wnext===de.wsize&&(de.wnext=0),de.whave<de.wsize&&(de.whave+=ue))),0}a.inflateReset=G,a.inflateReset2=J,a.inflateResetKeep=z,a.inflateInit=function(Y){return H(Y,15)},a.inflateInit2=H,a.inflate=function(Y,U){var q,fe,ue,de,me,Me,ce,Ie,re,te,ke,be,ve,Re,Be,Ue,Ze,Ge,ft,gt,oe,Pe,we,De,Ae=0,Oe=new c.Buf8(4),Ke=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Y||!Y.state||!Y.output||!Y.input&&Y.avail_in!==0)return y;(q=Y.state).mode===12&&(q.mode=13),me=Y.next_out,ue=Y.output,ce=Y.avail_out,de=Y.next_in,fe=Y.input,Me=Y.avail_in,Ie=q.hold,re=q.bits,te=Me,ke=ce,Pe=x;e:for(;;)switch(q.mode){case D:if(q.wrap===0){q.mode=13;break}for(;re<16;){if(Me===0)break e;Me--,Ie+=fe[de++]<<re,re+=8}if(2&q.wrap&&Ie===35615){Oe[q.check=0]=255&Ie,Oe[1]=Ie>>>8&255,q.check=p(q.check,Oe,2,0),re=Ie=0,q.mode=2;break}if(q.flags=0,q.head&&(q.head.done=!1),!(1&q.wrap)||(((255&Ie)<<8)+(Ie>>8))%31){Y.msg="incorrect header check",q.mode=30;break}if((15&Ie)!=8){Y.msg="unknown compression method",q.mode=30;break}if(re-=4,oe=8+(15&(Ie>>>=4)),q.wbits===0)q.wbits=oe;else if(oe>q.wbits){Y.msg="invalid window size",q.mode=30;break}q.dmax=1<<oe,Y.adler=q.check=1,q.mode=512&Ie?10:12,re=Ie=0;break;case 2:for(;re<16;){if(Me===0)break e;Me--,Ie+=fe[de++]<<re,re+=8}if(q.flags=Ie,(255&q.flags)!=8){Y.msg="unknown compression method",q.mode=30;break}if(57344&q.flags){Y.msg="unknown header flags set",q.mode=30;break}q.head&&(q.head.text=Ie>>8&1),512&q.flags&&(Oe[0]=255&Ie,Oe[1]=Ie>>>8&255,q.check=p(q.check,Oe,2,0)),re=Ie=0,q.mode=3;case 3:for(;re<32;){if(Me===0)break e;Me--,Ie+=fe[de++]<<re,re+=8}q.head&&(q.head.time=Ie),512&q.flags&&(Oe[0]=255&Ie,Oe[1]=Ie>>>8&255,Oe[2]=Ie>>>16&255,Oe[3]=Ie>>>24&255,q.check=p(q.check,Oe,4,0)),re=Ie=0,q.mode=4;case 4:for(;re<16;){if(Me===0)break e;Me--,Ie+=fe[de++]<<re,re+=8}q.head&&(q.head.xflags=255&Ie,q.head.os=Ie>>8),512&q.flags&&(Oe[0]=255&Ie,Oe[1]=Ie>>>8&255,q.check=p(q.check,Oe,2,0)),re=Ie=0,q.mode=5;case 5:if(1024&q.flags){for(;re<16;){if(Me===0)break e;Me--,Ie+=fe[de++]<<re,re+=8}q.length=Ie,q.head&&(q.head.extra_len=Ie),512&q.flags&&(Oe[0]=255&Ie,Oe[1]=Ie>>>8&255,q.check=p(q.check,Oe,2,0)),re=Ie=0}else q.head&&(q.head.extra=null);q.mode=6;case 6:if(1024&q.flags&&(Me<(be=q.length)&&(be=Me),be&&(q.head&&(oe=q.head.extra_len-q.length,q.head.extra||(q.head.extra=new Array(q.head.extra_len)),c.arraySet(q.head.extra,fe,de,be,oe)),512&q.flags&&(q.check=p(q.check,fe,be,de)),Me-=be,de+=be,q.length-=be),q.length))break e;q.length=0,q.mode=7;case 7:if(2048&q.flags){if(Me===0)break e;for(be=0;oe=fe[de+be++],q.head&&oe&&q.length<65536&&(q.head.name+=String.fromCharCode(oe)),oe&&be<Me;);if(512&q.flags&&(q.check=p(q.check,fe,be,de)),Me-=be,de+=be,oe)break e}else q.head&&(q.head.name=null);q.length=0,q.mode=8;case 8:if(4096&q.flags){if(Me===0)break e;for(be=0;oe=fe[de+be++],q.head&&oe&&q.length<65536&&(q.head.comment+=String.fromCharCode(oe)),oe&&be<Me;);if(512&q.flags&&(q.check=p(q.check,fe,be,de)),Me-=be,de+=be,oe)break e}else q.head&&(q.head.comment=null);q.mode=9;case 9:if(512&q.flags){for(;re<16;){if(Me===0)break e;Me--,Ie+=fe[de++]<<re,re+=8}if(Ie!==(65535&q.check)){Y.msg="header crc mismatch",q.mode=30;break}re=Ie=0}q.head&&(q.head.hcrc=q.flags>>9&1,q.head.done=!0),Y.adler=q.check=0,q.mode=12;break;case 10:for(;re<32;){if(Me===0)break e;Me--,Ie+=fe[de++]<<re,re+=8}Y.adler=q.check=M(Ie),re=Ie=0,q.mode=11;case 11:if(q.havedict===0)return Y.next_out=me,Y.avail_out=ce,Y.next_in=de,Y.avail_in=Me,q.hold=Ie,q.bits=re,2;Y.adler=q.check=1,q.mode=12;case 12:if(U===5||U===6)break e;case 13:if(q.last){Ie>>>=7&re,re-=7&re,q.mode=27;break}for(;re<3;){if(Me===0)break e;Me--,Ie+=fe[de++]<<re,re+=8}switch(q.last=1&Ie,re-=1,3&(Ie>>>=1)){case 0:q.mode=14;break;case 1:if(ae(q),q.mode=20,U!==6)break;Ie>>>=2,re-=2;break e;case 2:q.mode=17;break;case 3:Y.msg="invalid block type",q.mode=30}Ie>>>=2,re-=2;break;case 14:for(Ie>>>=7&re,re-=7&re;re<32;){if(Me===0)break e;Me--,Ie+=fe[de++]<<re,re+=8}if((65535&Ie)!=(Ie>>>16^65535)){Y.msg="invalid stored block lengths",q.mode=30;break}if(q.length=65535&Ie,re=Ie=0,q.mode=15,U===6)break e;case 15:q.mode=16;case 16:if(be=q.length){if(Me<be&&(be=Me),ce<be&&(be=ce),be===0)break e;c.arraySet(ue,fe,de,be,me),Me-=be,de+=be,ce-=be,me+=be,q.length-=be;break}q.mode=12;break;case 17:for(;re<14;){if(Me===0)break e;Me--,Ie+=fe[de++]<<re,re+=8}if(q.nlen=257+(31&Ie),Ie>>>=5,re-=5,q.ndist=1+(31&Ie),Ie>>>=5,re-=5,q.ncode=4+(15&Ie),Ie>>>=4,re-=4,286<q.nlen||30<q.ndist){Y.msg="too many length or distance symbols",q.mode=30;break}q.have=0,q.mode=18;case 18:for(;q.have<q.ncode;){for(;re<3;){if(Me===0)break e;Me--,Ie+=fe[de++]<<re,re+=8}q.lens[Ke[q.have++]]=7&Ie,Ie>>>=3,re-=3}for(;q.have<19;)q.lens[Ke[q.have++]]=0;if(q.lencode=q.lendyn,q.lenbits=7,we={bits:q.lenbits},Pe=k(0,q.lens,0,19,q.lencode,0,q.work,we),q.lenbits=we.bits,Pe){Y.msg="invalid code lengths set",q.mode=30;break}q.have=0,q.mode=19;case 19:for(;q.have<q.nlen+q.ndist;){for(;Ue=(Ae=q.lencode[Ie&(1<<q.lenbits)-1])>>>16&255,Ze=65535&Ae,!((Be=Ae>>>24)<=re);){if(Me===0)break e;Me--,Ie+=fe[de++]<<re,re+=8}if(Ze<16)Ie>>>=Be,re-=Be,q.lens[q.have++]=Ze;else{if(Ze===16){for(De=Be+2;re<De;){if(Me===0)break e;Me--,Ie+=fe[de++]<<re,re+=8}if(Ie>>>=Be,re-=Be,q.have===0){Y.msg="invalid bit length repeat",q.mode=30;break}oe=q.lens[q.have-1],be=3+(3&Ie),Ie>>>=2,re-=2}else if(Ze===17){for(De=Be+3;re<De;){if(Me===0)break e;Me--,Ie+=fe[de++]<<re,re+=8}re-=Be,oe=0,be=3+(7&(Ie>>>=Be)),Ie>>>=3,re-=3}else{for(De=Be+7;re<De;){if(Me===0)break e;Me--,Ie+=fe[de++]<<re,re+=8}re-=Be,oe=0,be=11+(127&(Ie>>>=Be)),Ie>>>=7,re-=7}if(q.have+be>q.nlen+q.ndist){Y.msg="invalid bit length repeat",q.mode=30;break}for(;be--;)q.lens[q.have++]=oe}}if(q.mode===30)break;if(q.lens[256]===0){Y.msg="invalid code -- missing end-of-block",q.mode=30;break}if(q.lenbits=9,we={bits:q.lenbits},Pe=k(v,q.lens,0,q.nlen,q.lencode,0,q.work,we),q.lenbits=we.bits,Pe){Y.msg="invalid literal/lengths set",q.mode=30;break}if(q.distbits=6,q.distcode=q.distdyn,we={bits:q.distbits},Pe=k(_,q.lens,q.nlen,q.ndist,q.distcode,0,q.work,we),q.distbits=we.bits,Pe){Y.msg="invalid distances set",q.mode=30;break}if(q.mode=20,U===6)break e;case 20:q.mode=21;case 21:if(6<=Me&&258<=ce){Y.next_out=me,Y.avail_out=ce,Y.next_in=de,Y.avail_in=Me,q.hold=Ie,q.bits=re,m(Y,ke),me=Y.next_out,ue=Y.output,ce=Y.avail_out,de=Y.next_in,fe=Y.input,Me=Y.avail_in,Ie=q.hold,re=q.bits,q.mode===12&&(q.back=-1);break}for(q.back=0;Ue=(Ae=q.lencode[Ie&(1<<q.lenbits)-1])>>>16&255,Ze=65535&Ae,!((Be=Ae>>>24)<=re);){if(Me===0)break e;Me--,Ie+=fe[de++]<<re,re+=8}if(Ue&&(240&Ue)==0){for(Ge=Be,ft=Ue,gt=Ze;Ue=(Ae=q.lencode[gt+((Ie&(1<<Ge+ft)-1)>>Ge)])>>>16&255,Ze=65535&Ae,!(Ge+(Be=Ae>>>24)<=re);){if(Me===0)break e;Me--,Ie+=fe[de++]<<re,re+=8}Ie>>>=Ge,re-=Ge,q.back+=Ge}if(Ie>>>=Be,re-=Be,q.back+=Be,q.length=Ze,Ue===0){q.mode=26;break}if(32&Ue){q.back=-1,q.mode=12;break}if(64&Ue){Y.msg="invalid literal/length code",q.mode=30;break}q.extra=15&Ue,q.mode=22;case 22:if(q.extra){for(De=q.extra;re<De;){if(Me===0)break e;Me--,Ie+=fe[de++]<<re,re+=8}q.length+=Ie&(1<<q.extra)-1,Ie>>>=q.extra,re-=q.extra,q.back+=q.extra}q.was=q.length,q.mode=23;case 23:for(;Ue=(Ae=q.distcode[Ie&(1<<q.distbits)-1])>>>16&255,Ze=65535&Ae,!((Be=Ae>>>24)<=re);){if(Me===0)break e;Me--,Ie+=fe[de++]<<re,re+=8}if((240&Ue)==0){for(Ge=Be,ft=Ue,gt=Ze;Ue=(Ae=q.distcode[gt+((Ie&(1<<Ge+ft)-1)>>Ge)])>>>16&255,Ze=65535&Ae,!(Ge+(Be=Ae>>>24)<=re);){if(Me===0)break e;Me--,Ie+=fe[de++]<<re,re+=8}Ie>>>=Ge,re-=Ge,q.back+=Ge}if(Ie>>>=Be,re-=Be,q.back+=Be,64&Ue){Y.msg="invalid distance code",q.mode=30;break}q.offset=Ze,q.extra=15&Ue,q.mode=24;case 24:if(q.extra){for(De=q.extra;re<De;){if(Me===0)break e;Me--,Ie+=fe[de++]<<re,re+=8}q.offset+=Ie&(1<<q.extra)-1,Ie>>>=q.extra,re-=q.extra,q.back+=q.extra}if(q.offset>q.dmax){Y.msg="invalid distance too far back",q.mode=30;break}q.mode=25;case 25:if(ce===0)break e;if(be=ke-ce,q.offset>be){if((be=q.offset-be)>q.whave&&q.sane){Y.msg="invalid distance too far back",q.mode=30;break}ve=be>q.wnext?(be-=q.wnext,q.wsize-be):q.wnext-be,be>q.length&&(be=q.length),Re=q.window}else Re=ue,ve=me-q.offset,be=q.length;for(ce<be&&(be=ce),ce-=be,q.length-=be;ue[me++]=Re[ve++],--be;);q.length===0&&(q.mode=21);break;case 26:if(ce===0)break e;ue[me++]=q.length,ce--,q.mode=21;break;case 27:if(q.wrap){for(;re<32;){if(Me===0)break e;Me--,Ie|=fe[de++]<<re,re+=8}if(ke-=ce,Y.total_out+=ke,q.total+=ke,ke&&(Y.adler=q.check=q.flags?p(q.check,ue,ke,me-ke):d(q.check,ue,ke,me-ke)),ke=ce,(q.flags?Ie:M(Ie))!==q.check){Y.msg="incorrect data check",q.mode=30;break}re=Ie=0}q.mode=28;case 28:if(q.wrap&&q.flags){for(;re<32;){if(Me===0)break e;Me--,Ie+=fe[de++]<<re,re+=8}if(Ie!==(4294967295&q.total)){Y.msg="incorrect length check",q.mode=30;break}re=Ie=0}q.mode=29;case 29:Pe=1;break e;case 30:Pe=-3;break e;case 31:return-4;case 32:default:return y}return Y.next_out=me,Y.avail_out=ce,Y.next_in=de,Y.avail_in=Me,q.hold=Ie,q.bits=re,(q.wsize||ke!==Y.avail_out&&q.mode<30&&(q.mode<27||U!==4))&&X(Y,Y.output,Y.next_out,ke-Y.avail_out)?(q.mode=31,-4):(te-=Y.avail_in,ke-=Y.avail_out,Y.total_in+=te,Y.total_out+=ke,q.total+=ke,q.wrap&&ke&&(Y.adler=q.check=q.flags?p(q.check,ue,ke,Y.next_out-ke):d(q.check,ue,ke,Y.next_out-ke)),Y.data_type=q.bits+(q.last?64:0)+(q.mode===12?128:0)+(q.mode===20||q.mode===15?256:0),(te==0&&ke===0||U===4)&&Pe===x&&(Pe=-5),Pe)},a.inflateEnd=function(Y){if(!Y||!Y.state)return y;var U=Y.state;return U.window&&(U.window=null),Y.state=null,x},a.inflateGetHeader=function(Y,U){var q;return Y&&Y.state?(2&(q=Y.state).wrap)==0?y:((q.head=U).done=!1,x):y},a.inflateSetDictionary=function(Y,U){var q,fe=U.length;return Y&&Y.state?(q=Y.state).wrap!==0&&q.mode!==11?y:q.mode===11&&d(1,U,fe,0)!==q.check?-3:X(Y,U,fe,fe)?(q.mode=31,-4):(q.havedict=1,x):y},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,o,a){var c=n("../utils/common"),d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],p=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],m=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],k=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(v,_,x,y,D,E,j,M){var B,z,G,J,H,F,Q,Z,ae,X=M.bits,Y=0,U=0,q=0,fe=0,ue=0,de=0,me=0,Me=0,ce=0,Ie=0,re=null,te=0,ke=new c.Buf16(16),be=new c.Buf16(16),ve=null,Re=0;for(Y=0;Y<=15;Y++)ke[Y]=0;for(U=0;U<y;U++)ke[_[x+U]]++;for(ue=X,fe=15;1<=fe&&ke[fe]===0;fe--);if(fe<ue&&(ue=fe),fe===0)return D[E++]=20971520,D[E++]=20971520,M.bits=1,0;for(q=1;q<fe&&ke[q]===0;q++);for(ue<q&&(ue=q),Y=Me=1;Y<=15;Y++)if(Me<<=1,(Me-=ke[Y])<0)return-1;if(0<Me&&(v===0||fe!==1))return-1;for(be[1]=0,Y=1;Y<15;Y++)be[Y+1]=be[Y]+ke[Y];for(U=0;U<y;U++)_[x+U]!==0&&(j[be[_[x+U]]++]=U);if(F=v===0?(re=ve=j,19):v===1?(re=d,te-=257,ve=p,Re-=257,256):(re=m,ve=k,-1),Y=q,H=E,me=U=Ie=0,G=-1,J=(ce=1<<(de=ue))-1,v===1&&852<ce||v===2&&592<ce)return 1;for(;;){for(Q=Y-me,ae=j[U]<F?(Z=0,j[U]):j[U]>F?(Z=ve[Re+j[U]],re[te+j[U]]):(Z=96,0),B=1<<Y-me,q=z=1<<de;D[H+(Ie>>me)+(z-=B)]=Q<<24|Z<<16|ae|0,z!==0;);for(B=1<<Y-1;Ie&B;)B>>=1;if(B!==0?(Ie&=B-1,Ie+=B):Ie=0,U++,--ke[Y]==0){if(Y===fe)break;Y=_[x+j[U]]}if(ue<Y&&(Ie&J)!==G){for(me===0&&(me=ue),H+=q,Me=1<<(de=Y-me);de+me<fe&&!((Me-=ke[de+me])<=0);)de++,Me<<=1;if(ce+=1<<de,v===1&&852<ce||v===2&&592<ce)return 1;D[G=Ie&J]=ue<<24|de<<16|H-E|0}}return Ie!==0&&(D[H+Ie]=Y-me<<24|64<<16|0),M.bits=ue,0}},{"../utils/common":41}],51:[function(n,o,a){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,o,a){var c=n("../utils/common"),d=0,p=1;function m(Ae){for(var Oe=Ae.length;0<=--Oe;)Ae[Oe]=0}var k=0,v=29,_=256,x=_+1+v,y=30,D=19,E=2*x+1,j=15,M=16,B=7,z=256,G=16,J=17,H=18,F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],X=new Array(2*(x+2));m(X);var Y=new Array(2*y);m(Y);var U=new Array(512);m(U);var q=new Array(256);m(q);var fe=new Array(v);m(fe);var ue,de,me,Me=new Array(y);function ce(Ae,Oe,Ke,Xe,Fe){this.static_tree=Ae,this.extra_bits=Oe,this.extra_base=Ke,this.elems=Xe,this.max_length=Fe,this.has_stree=Ae&&Ae.length}function Ie(Ae,Oe){this.dyn_tree=Ae,this.max_code=0,this.stat_desc=Oe}function re(Ae){return Ae<256?U[Ae]:U[256+(Ae>>>7)]}function te(Ae,Oe){Ae.pending_buf[Ae.pending++]=255&Oe,Ae.pending_buf[Ae.pending++]=Oe>>>8&255}function ke(Ae,Oe,Ke){Ae.bi_valid>M-Ke?(Ae.bi_buf|=Oe<<Ae.bi_valid&65535,te(Ae,Ae.bi_buf),Ae.bi_buf=Oe>>M-Ae.bi_valid,Ae.bi_valid+=Ke-M):(Ae.bi_buf|=Oe<<Ae.bi_valid&65535,Ae.bi_valid+=Ke)}function be(Ae,Oe,Ke){ke(Ae,Ke[2*Oe],Ke[2*Oe+1])}function ve(Ae,Oe){for(var Ke=0;Ke|=1&Ae,Ae>>>=1,Ke<<=1,0<--Oe;);return Ke>>>1}function Re(Ae,Oe,Ke){var Xe,Fe,dt=new Array(j+1),wt=0;for(Xe=1;Xe<=j;Xe++)dt[Xe]=wt=wt+Ke[Xe-1]<<1;for(Fe=0;Fe<=Oe;Fe++){var ot=Ae[2*Fe+1];ot!==0&&(Ae[2*Fe]=ve(dt[ot]++,ot))}}function Be(Ae){var Oe;for(Oe=0;Oe<x;Oe++)Ae.dyn_ltree[2*Oe]=0;for(Oe=0;Oe<y;Oe++)Ae.dyn_dtree[2*Oe]=0;for(Oe=0;Oe<D;Oe++)Ae.bl_tree[2*Oe]=0;Ae.dyn_ltree[2*z]=1,Ae.opt_len=Ae.static_len=0,Ae.last_lit=Ae.matches=0}function Ue(Ae){8<Ae.bi_valid?te(Ae,Ae.bi_buf):0<Ae.bi_valid&&(Ae.pending_buf[Ae.pending++]=Ae.bi_buf),Ae.bi_buf=0,Ae.bi_valid=0}function Ze(Ae,Oe,Ke,Xe){var Fe=2*Oe,dt=2*Ke;return Ae[Fe]<Ae[dt]||Ae[Fe]===Ae[dt]&&Xe[Oe]<=Xe[Ke]}function Ge(Ae,Oe,Ke){for(var Xe=Ae.heap[Ke],Fe=Ke<<1;Fe<=Ae.heap_len&&(Fe<Ae.heap_len&&Ze(Oe,Ae.heap[Fe+1],Ae.heap[Fe],Ae.depth)&&Fe++,!Ze(Oe,Xe,Ae.heap[Fe],Ae.depth));)Ae.heap[Ke]=Ae.heap[Fe],Ke=Fe,Fe<<=1;Ae.heap[Ke]=Xe}function ft(Ae,Oe,Ke){var Xe,Fe,dt,wt,ot=0;if(Ae.last_lit!==0)for(;Xe=Ae.pending_buf[Ae.d_buf+2*ot]<<8|Ae.pending_buf[Ae.d_buf+2*ot+1],Fe=Ae.pending_buf[Ae.l_buf+ot],ot++,Xe===0?be(Ae,Fe,Oe):(be(Ae,(dt=q[Fe])+_+1,Oe),(wt=F[dt])!==0&&ke(Ae,Fe-=fe[dt],wt),be(Ae,dt=re(--Xe),Ke),(wt=Q[dt])!==0&&ke(Ae,Xe-=Me[dt],wt)),ot<Ae.last_lit;);be(Ae,z,Oe)}function gt(Ae,Oe){var Ke,Xe,Fe,dt=Oe.dyn_tree,wt=Oe.stat_desc.static_tree,ot=Oe.stat_desc.has_stree,pt=Oe.stat_desc.elems,He=-1;for(Ae.heap_len=0,Ae.heap_max=E,Ke=0;Ke<pt;Ke++)dt[2*Ke]!==0?(Ae.heap[++Ae.heap_len]=He=Ke,Ae.depth[Ke]=0):dt[2*Ke+1]=0;for(;Ae.heap_len<2;)dt[2*(Fe=Ae.heap[++Ae.heap_len]=He<2?++He:0)]=1,Ae.depth[Fe]=0,Ae.opt_len--,ot&&(Ae.static_len-=wt[2*Fe+1]);for(Oe.max_code=He,Ke=Ae.heap_len>>1;1<=Ke;Ke--)Ge(Ae,dt,Ke);for(Fe=pt;Ke=Ae.heap[1],Ae.heap[1]=Ae.heap[Ae.heap_len--],Ge(Ae,dt,1),Xe=Ae.heap[1],Ae.heap[--Ae.heap_max]=Ke,Ae.heap[--Ae.heap_max]=Xe,dt[2*Fe]=dt[2*Ke]+dt[2*Xe],Ae.depth[Fe]=(Ae.depth[Ke]>=Ae.depth[Xe]?Ae.depth[Ke]:Ae.depth[Xe])+1,dt[2*Ke+1]=dt[2*Xe+1]=Fe,Ae.heap[1]=Fe++,Ge(Ae,dt,1),2<=Ae.heap_len;);Ae.heap[--Ae.heap_max]=Ae.heap[1],function(at,kt){var Yt,yt,Bn,on,wr,xn,In=kt.dyn_tree,zn=kt.max_code,Yn=kt.stat_desc.static_tree,ei=kt.stat_desc.has_stree,rr=kt.stat_desc.extra_bits,vr=kt.stat_desc.extra_base,gr=kt.stat_desc.max_length,yr=0;for(on=0;on<=j;on++)at.bl_count[on]=0;for(In[2*at.heap[at.heap_max]+1]=0,Yt=at.heap_max+1;Yt<E;Yt++)gr<(on=In[2*In[2*(yt=at.heap[Yt])+1]+1]+1)&&(on=gr,yr++),In[2*yt+1]=on,zn<yt||(at.bl_count[on]++,wr=0,vr<=yt&&(wr=rr[yt-vr]),xn=In[2*yt],at.opt_len+=xn*(on+wr),ei&&(at.static_len+=xn*(Yn[2*yt+1]+wr)));if(yr!==0){do{for(on=gr-1;at.bl_count[on]===0;)on--;at.bl_count[on]--,at.bl_count[on+1]+=2,at.bl_count[gr]--,yr-=2}while(0<yr);for(on=gr;on!==0;on--)for(yt=at.bl_count[on];yt!==0;)zn<(Bn=at.heap[--Yt])||(In[2*Bn+1]!==on&&(at.opt_len+=(on-In[2*Bn+1])*In[2*Bn],In[2*Bn+1]=on),yt--)}}(Ae,Oe),Re(dt,He,Ae.bl_count)}function oe(Ae,Oe,Ke){var Xe,Fe,dt=-1,wt=Oe[1],ot=0,pt=7,He=4;for(wt===0&&(pt=138,He=3),Oe[2*(Ke+1)+1]=65535,Xe=0;Xe<=Ke;Xe++)Fe=wt,wt=Oe[2*(Xe+1)+1],++ot<pt&&Fe===wt||(ot<He?Ae.bl_tree[2*Fe]+=ot:Fe!==0?(Fe!==dt&&Ae.bl_tree[2*Fe]++,Ae.bl_tree[2*G]++):ot<=10?Ae.bl_tree[2*J]++:Ae.bl_tree[2*H]++,dt=Fe,He=(ot=0)===wt?(pt=138,3):Fe===wt?(pt=6,3):(pt=7,4))}function Pe(Ae,Oe,Ke){var Xe,Fe,dt=-1,wt=Oe[1],ot=0,pt=7,He=4;for(wt===0&&(pt=138,He=3),Xe=0;Xe<=Ke;Xe++)if(Fe=wt,wt=Oe[2*(Xe+1)+1],!(++ot<pt&&Fe===wt)){if(ot<He)for(;be(Ae,Fe,Ae.bl_tree),--ot!=0;);else Fe!==0?(Fe!==dt&&(be(Ae,Fe,Ae.bl_tree),ot--),be(Ae,G,Ae.bl_tree),ke(Ae,ot-3,2)):ot<=10?(be(Ae,J,Ae.bl_tree),ke(Ae,ot-3,3)):(be(Ae,H,Ae.bl_tree),ke(Ae,ot-11,7));dt=Fe,He=(ot=0)===wt?(pt=138,3):Fe===wt?(pt=6,3):(pt=7,4)}}m(Me);var we=!1;function De(Ae,Oe,Ke,Xe){ke(Ae,(k<<1)+(Xe?1:0),3),function(Fe,dt,wt,ot){Ue(Fe),te(Fe,wt),te(Fe,~wt),c.arraySet(Fe.pending_buf,Fe.window,dt,wt,Fe.pending),Fe.pending+=wt}(Ae,Oe,Ke)}a._tr_init=function(Ae){we||(function(){var Oe,Ke,Xe,Fe,dt,wt=new Array(j+1);for(Fe=Xe=0;Fe<v-1;Fe++)for(fe[Fe]=Xe,Oe=0;Oe<1<<F[Fe];Oe++)q[Xe++]=Fe;for(q[Xe-1]=Fe,Fe=dt=0;Fe<16;Fe++)for(Me[Fe]=dt,Oe=0;Oe<1<<Q[Fe];Oe++)U[dt++]=Fe;for(dt>>=7;Fe<y;Fe++)for(Me[Fe]=dt<<7,Oe=0;Oe<1<<Q[Fe]-7;Oe++)U[256+dt++]=Fe;for(Ke=0;Ke<=j;Ke++)wt[Ke]=0;for(Oe=0;Oe<=143;)X[2*Oe+1]=8,Oe++,wt[8]++;for(;Oe<=255;)X[2*Oe+1]=9,Oe++,wt[9]++;for(;Oe<=279;)X[2*Oe+1]=7,Oe++,wt[7]++;for(;Oe<=287;)X[2*Oe+1]=8,Oe++,wt[8]++;for(Re(X,x+1,wt),Oe=0;Oe<y;Oe++)Y[2*Oe+1]=5,Y[2*Oe]=ve(Oe,5);ue=new ce(X,F,_+1,x,j),de=new ce(Y,Q,0,y,j),me=new ce(new Array(0),Z,0,D,B)}(),we=!0),Ae.l_desc=new Ie(Ae.dyn_ltree,ue),Ae.d_desc=new Ie(Ae.dyn_dtree,de),Ae.bl_desc=new Ie(Ae.bl_tree,me),Ae.bi_buf=0,Ae.bi_valid=0,Be(Ae)},a._tr_stored_block=De,a._tr_flush_block=function(Ae,Oe,Ke,Xe){var Fe,dt,wt=0;0<Ae.level?(Ae.strm.data_type===2&&(Ae.strm.data_type=function(ot){var pt,He=4093624447;for(pt=0;pt<=31;pt++,He>>>=1)if(1&He&&ot.dyn_ltree[2*pt]!==0)return d;if(ot.dyn_ltree[18]!==0||ot.dyn_ltree[20]!==0||ot.dyn_ltree[26]!==0)return p;for(pt=32;pt<_;pt++)if(ot.dyn_ltree[2*pt]!==0)return p;return d}(Ae)),gt(Ae,Ae.l_desc),gt(Ae,Ae.d_desc),wt=function(ot){var pt;for(oe(ot,ot.dyn_ltree,ot.l_desc.max_code),oe(ot,ot.dyn_dtree,ot.d_desc.max_code),gt(ot,ot.bl_desc),pt=D-1;3<=pt&&ot.bl_tree[2*ae[pt]+1]===0;pt--);return ot.opt_len+=3*(pt+1)+5+5+4,pt}(Ae),Fe=Ae.opt_len+3+7>>>3,(dt=Ae.static_len+3+7>>>3)<=Fe&&(Fe=dt)):Fe=dt=Ke+5,Ke+4<=Fe&&Oe!==-1?De(Ae,Oe,Ke,Xe):Ae.strategy===4||dt===Fe?(ke(Ae,2+(Xe?1:0),3),ft(Ae,X,Y)):(ke(Ae,4+(Xe?1:0),3),function(ot,pt,He,at){var kt;for(ke(ot,pt-257,5),ke(ot,He-1,5),ke(ot,at-4,4),kt=0;kt<at;kt++)ke(ot,ot.bl_tree[2*ae[kt]+1],3);Pe(ot,ot.dyn_ltree,pt-1),Pe(ot,ot.dyn_dtree,He-1)}(Ae,Ae.l_desc.max_code+1,Ae.d_desc.max_code+1,wt+1),ft(Ae,Ae.dyn_ltree,Ae.dyn_dtree)),Be(Ae),Xe&&Ue(Ae)},a._tr_tally=function(Ae,Oe,Ke){return Ae.pending_buf[Ae.d_buf+2*Ae.last_lit]=Oe>>>8&255,Ae.pending_buf[Ae.d_buf+2*Ae.last_lit+1]=255&Oe,Ae.pending_buf[Ae.l_buf+Ae.last_lit]=255&Ke,Ae.last_lit++,Oe===0?Ae.dyn_ltree[2*Ke]++:(Ae.matches++,Oe--,Ae.dyn_ltree[2*(q[Ke]+_+1)]++,Ae.dyn_dtree[2*re(Oe)]++),Ae.last_lit===Ae.lit_bufsize-1},a._tr_align=function(Ae){ke(Ae,2,3),be(Ae,z,X),function(Oe){Oe.bi_valid===16?(te(Oe,Oe.bi_buf),Oe.bi_buf=0,Oe.bi_valid=0):8<=Oe.bi_valid&&(Oe.pending_buf[Oe.pending++]=255&Oe.bi_buf,Oe.bi_buf>>=8,Oe.bi_valid-=8)}(Ae)}},{"../utils/common":41}],53:[function(n,o,a){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,o,a){(function(c){(function(d,p){if(!d.setImmediate){var m,k,v,_,x=1,y={},D=!1,E=d.document,j=Object.getPrototypeOf&&Object.getPrototypeOf(d);j=j&&j.setTimeout?j:d,m={}.toString.call(d.process)==="[object process]"?function(G){process.nextTick(function(){B(G)})}:function(){if(d.postMessage&&!d.importScripts){var G=!0,J=d.onmessage;return d.onmessage=function(){G=!1},d.postMessage("","*"),d.onmessage=J,G}}()?(_="setImmediate$"+Math.random()+"$",d.addEventListener?d.addEventListener("message",z,!1):d.attachEvent("onmessage",z),function(G){d.postMessage(_+G,"*")}):d.MessageChannel?((v=new MessageChannel).port1.onmessage=function(G){B(G.data)},function(G){v.port2.postMessage(G)}):E&&"onreadystatechange"in E.createElement("script")?(k=E.documentElement,function(G){var J=E.createElement("script");J.onreadystatechange=function(){B(G),J.onreadystatechange=null,k.removeChild(J),J=null},k.appendChild(J)}):function(G){setTimeout(B,0,G)},j.setImmediate=function(G){typeof G!="function"&&(G=new Function(""+G));for(var J=new Array(arguments.length-1),H=0;H<J.length;H++)J[H]=arguments[H+1];var F={callback:G,args:J};return y[x]=F,m(x),x++},j.clearImmediate=M}function M(G){delete y[G]}function B(G){if(D)setTimeout(B,0,G);else{var J=y[G];if(J){D=!0;try{(function(H){var F=H.callback,Q=H.args;switch(Q.length){case 0:F();break;case 1:F(Q[0]);break;case 2:F(Q[0],Q[1]);break;case 3:F(Q[0],Q[1],Q[2]);break;default:F.apply(p,Q)}})(J)}finally{M(G),D=!1}}}}function z(G){G.source===d&&typeof G.data=="string"&&G.data.indexOf(_)===0&&B(+G.data.slice(_.length))}})(typeof self>"u"?c===void 0?this:c:self)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(sD)),sD.exports}var Ere=Sre();const Dre=Ei(Ere),Ire=async(t,i,n)=>{const o=new Dre,a=["timestamp,question,answer"];i.forEach(({timestamp:m,question:k,answer:v})=>{a.push(`"${new Date(m).toLocaleString()}","${k.replace(/"/g,'""')}","${v.replace(/"/g,'""')}"`)}),o.file(`${t}.csv`,a.join(`
`)),o.file(`${t}_metadata.json`,JSON.stringify(n,null,4));const c=await o.generateAsync({type:"blob"}),d=URL.createObjectURL(c),p=document.createElement("a");p.href=d,p.download=`${t}.zip`,document.body.appendChild(p),p.click(),document.body.removeChild(p)},Tre=oh(Ne)({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"600px",maxHeight:"80vh",overflowY:"auto",backgroundColor:"#fff",borderRadius:"10px",boxShadow:"0px 5px 15px rgba(0,0,0,0.2)",padding:"20px"}),Mre=oh(Ne)({marginBottom:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"}),Nre=({open:t,onClose:i,conversationHistory:n,conversationId:o,conversationHistoryError:a,chatbotDetails:c,userId:d,startedAt:p})=>{const m=async()=>{const k={conversationId:o,userId:d,chatbotId:c.chatbotId,chatbotTitle:c.chatbotTitle,startedAt:new Date(p).toLocaleString(),courseTitle:c.courseTitle,courseId:c.courseId,materialTitle:c.materialTitle,materialId:c.materialId,materialLink:c.materialLink,chatbotCreatedBy:c.chatbotCreatedBy,chatbotCreatedAt:new Date(c.chatbotCreatedAt).toLocaleString()};await Ire(o,n,k)};return w.jsx(Lx,{open:t,onClose:i,children:w.jsxs(Tre,{children:[w.jsxs(Mre,{children:[w.jsxs(xe,{variant:"h6",children:["Conversation History for ",o]}),w.jsx(fa,{title:"Download ZIP",children:w.jsx(Gn,{onClick:m,"aria-label":"Download as ZIP",children:w.jsx(dR,{})})})]}),a&&w.jsx(xe,{color:"error",sx:{marginBottom:"20px"},children:a}),n.length===0?w.jsx(xe,{children:"No messages found in this conversation."}):w.jsx(lx,{children:n.map((k,v)=>w.jsx(Y0,{sx:{padding:"10px 0"},children:w.jsx(Wg,{primary:`Q: ${k.question}`,secondary:`A: ${k.answer} (${new Date(k.timestamp).toLocaleString()})`})},v))}),w.jsx(Ct,{variant:"contained",onClick:i,style:{marginTop:"20px",backgroundColor:"#000",color:"#fff"},children:"Close"})]})})},jre=({totalItems:t,itemsPerPage:i,currentPage:n,onPageChange:o})=>{const a=Math.ceil(t/i),c=()=>{n>1&&o(n-1)},d=()=>{n<a&&o(n+1)};return w.jsxs(Ne,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:3},children:[w.jsx(Ct,{variant:"outlined",disabled:n===1,onClick:c,children:"Previous"}),w.jsxs(xe,{variant:"body1",children:["Page ",n," of ",a]}),w.jsx(Ct,{variant:"outlined",disabled:n===a,onClick:d,children:"Next"})]})},Ore=({chatbotId:t})=>{const i=Nr(),[n,o]=se.useState(null),[a,c]=se.useState(!0),[d,p]=se.useState(null);if(se.useEffect(()=>{t!=="All"&&(async()=>{c(!0),p(null);try{const B=pc(Zn(i,"chatbots"),bo("chatbotId","==",t)),z=await so(B);z.empty?p("Chatbot details not found!"):o(z.docs[0].data())}catch(B){console.error("Error fetching chatbot details:",B),p("Failed to fetch chatbot details.")}finally{c(!1)}})()},[i,t]),a)return w.jsx(Ne,{sx:{mt:3},children:w.jsx(ki,{})});if(d)return w.jsx(xe,{variant:"body1",color:"error",sx:{mt:3},children:d});if(!n)return null;const{title:m="N/A",courseId:k,createdBy:v="Unknown",timestamp:_,material:x}=n,y=(k==null?void 0:k.title)||"N/A",D=(x==null?void 0:x.title)||"N/A",E=(x==null?void 0:x.id)||"N/A",j=`https://institute-for-future-intelligence.github.io/nexlab/view-material/${E}`;return w.jsxs(Ne,{sx:{mt:3,p:2,border:"1px solid #ddd",borderRadius:"8px",backgroundColor:"#f9f9f9"},children:[w.jsx(xe,{variant:"h6",children:"Chatbot Details"}),w.jsxs(xe,{variant:"body1",children:[w.jsx("strong",{children:"Title:"})," ",m]}),w.jsxs(xe,{variant:"body1",children:[w.jsx("strong",{children:"Course:"})," ",y]}),w.jsxs(xe,{variant:"body1",children:[w.jsx("strong",{children:"Material:"})," ",E!=="N/A"?w.jsx(My,{href:j,target:"_blank",rel:"noopener noreferrer",children:D}):D]}),w.jsx(dl,{sx:{my:2}}),w.jsxs(xe,{variant:"body1",children:[w.jsx("strong",{children:"Created By:"})," ",v]}),w.jsxs(xe,{variant:"body1",children:[w.jsx("strong",{children:"Created At:"})," ",_?new Date(_).toLocaleString():"N/A"]})]})},pO=oh(Ct)({width:100,height:40,display:"flex",alignItems:"center",justifyContent:"center"}),Bre=({open:t,onClose:i,onConfirm:n,conversationId:o,deleting:a})=>w.jsxs(Oo,{open:t,onClose:i,children:[w.jsx(ts,{children:"Confirm Deletion"}),w.jsx(Bo,{children:w.jsxs(bc,{children:["Are you sure you want to delete the conversation with ID: ",w.jsx("strong",{children:o}),"? This action cannot be undone."]})}),w.jsxs(ns,{children:[w.jsx(pO,{onClick:i,color:"primary",variant:"outlined",children:"Cancel"}),w.jsx(pO,{onClick:n,color:"error",disabled:a,children:a?w.jsx(ki,{size:20,color:"inherit"}):"Delete"})]})]}),Lre=()=>{const t=Nr(),i=ao(),[n,o]=se.useState([]),[a,c]=se.useState([]),[d,p]=se.useState(1),[m]=se.useState(10),[k,v]=se.useState(!0),[_,x]=se.useState(null),[y,D]=se.useState([]),[E,j]=se.useState(null),[M,B]=se.useState(!1),[z,G]=se.useState(null),[J,H]=se.useState({}),F="https://rag-flask-api.onrender.com",[Q,Z]=se.useState([]),[ae,X]=se.useState([]),[Y,U]=se.useState("All"),[q,fe]=se.useState("All"),[ue,de]=se.useState(null),[me,Me]=se.useState(null),[ce,Ie]=se.useState(!1),[re,te]=se.useState(null),[ke,be]=se.useState(!1),[ve,Re]=se.useState({open:!1,message:"",type:"success"}),Be=()=>{Re(De=>({...De,open:!1}))};se.useEffect(()=>{(async()=>{try{const Oe=(await so(Zn(t,"conversations"))).docs.map(Fe=>({id:Fe.id,...Fe.data()}));o(Oe);const Ke=Array.from(new Set(Oe.map(Fe=>Fe.chatbotId)));Z(Oe.length>0?["All",...Ke]:[]);const Xe=Array.from(new Set(Oe.map(Fe=>Fe.userId)));X(Oe.length>0?["All",...Xe]:[]),c(Oe)}catch(Ae){console.error("Error fetching chatbot conversations:",Ae),x("Failed to load conversations. Please try again later.")}finally{v(!1)}})()},[t]);const Ue=(De,Ae)=>{De==="chatbot"?U(Ae):fe(Ae);const Oe=De==="chatbot"?Ae:Y,Ke=De==="user"?Ae:q;let Xe=n;Oe!=="All"&&(Xe=Xe.filter(Fe=>Fe.chatbotId===Oe)),Ke!=="All"&&(Xe=Xe.filter(Fe=>Fe.userId===Ke)),c(Xe),Oe==="All"&&Ke==="All"&&c(n),p(1)},Ze=async(De,Ae,Oe,Ke)=>{var Xe,Fe,dt,wt,ot;H(pt=>({...pt,[Ae]:!0})),j(null);try{const pt=await ks.get(`${F}/conversations/${De}/${Ae}`);D(pt.data);const kt=(await(async()=>{try{const Yt=new Map;return(await so(Zn(t,"chatbots"))).forEach(Bn=>{Yt.set(Bn.data().chatbotId,Bn.data())}),Yt}catch(Yt){return console.error("Error fetching chatbots:",Yt),new Map}})()).get(De);de(kt?{chatbotId:De,chatbotTitle:kt.title||"N/A",courseTitle:((Xe=kt.courseId)==null?void 0:Xe.title)||"N/A",courseId:((Fe=kt.courseId)==null?void 0:Fe.id)||"N/A",materialTitle:((dt=kt.material)==null?void 0:dt.title)||"N/A",materialId:((wt=kt.material)==null?void 0:wt.id)||"N/A",materialLink:`https://institute-for-future-intelligence.github.io/nexlab/view-material/${((ot=kt.material)==null?void 0:ot.id)||""}`,chatbotCreatedBy:kt.createdBy||"Unknown",chatbotCreatedAt:kt.timestamp||"N/A"}:null),Me({userId:Oe,startedAt:Ke}),G({chatbotId:De,conversationId:Ae}),B(!0)}catch(pt){console.error("Error fetching conversation or chatbot details:",pt),j("Failed to fetch conversation history or chatbot details.")}finally{H(pt=>({...pt,[Ae]:!1}))}},Ge=d*m,ft=Ge-m,gt=a.slice(ft,Ge);if(k)return w.jsx(Ne,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:w.jsx(ki,{})});if(_)return w.jsx(Ne,{sx:{textAlign:"center",mt:4},children:w.jsx(xe,{variant:"h6",color:"error",children:_})});const oe=De=>{te(De),Ie(!0)},Pe=()=>{Ie(!1),te(null)},we=async()=>{if(re){be(!0);try{await tA(Vn(t,"conversations",re)),o(De=>De.filter(Ae=>Ae.id!==re)),c(De=>De.filter(Ae=>Ae.id!==re)),Re({open:!0,message:"Conversation deleted successfully.",type:"success"}),Pe()}catch(De){console.error("Error deleting conversation:",De),Re({open:!0,message:"Failed to delete the conversation. Please try again.",type:"error"})}finally{be(!1),Pe()}}};return w.jsxs(Ne,{className:"profile-container",sx:{p:4},children:[w.jsx(Ct,{variant:"text",onClick:()=>i("/"),className:"profile-button",children:" Home Page"}),w.jsx(xe,{variant:"h5",className:"webpage_title",sx:{mb:2},children:"Chatbot Conversations"}),w.jsxs(Ne,{sx:{display:"flex",gap:2,mb:3},children:[w.jsxs(pf,{sx:{minWidth:200},children:[w.jsx(mf,{id:"filter-chatbot-id",children:"Filter by Chatbot ID"}),w.jsx(ad,{labelId:"filter-chatbot-id",value:Y,onChange:De=>Ue("chatbot",De.target.value),children:Q.length>0?Q.map(De=>w.jsx($r,{value:De,children:De},De)):w.jsx($r,{value:"",disabled:!0,children:"No Chatbots Available"})})]}),w.jsxs(pf,{sx:{minWidth:200},children:[w.jsx(mf,{id:"filter-user-id",children:"Filter by User ID"}),w.jsx(ad,{labelId:"filter-user-id",value:q,onChange:De=>Ue("user",De.target.value),children:ae.map(De=>w.jsx($r,{value:De,children:De},De))})]})]}),Y!=="All"&&w.jsx(Ore,{chatbotId:Y}),w.jsxs(Ne,{className:"profile-container",sx:{p:4},children:[w.jsx(Kte,{conversations:gt,onViewHistory:(De,Ae,Oe,Ke)=>Ze(De,Ae,Oe,Ke),onDeleteConversation:oe,loadingMap:J}),w.jsx(Bre,{open:ce,onClose:Pe,onConfirm:we,conversationId:re||"",deleting:ke})]}),w.jsx(jre,{totalItems:a.length,itemsPerPage:m,currentPage:d,onPageChange:p}),z&&ue&&me&&w.jsx(Nre,{open:M,onClose:()=>{B(!1),G(null)},conversationHistory:y,conversationId:z.conversationId,conversationHistoryError:E,chatbotDetails:ue,userId:me.userId,startedAt:me.startedAt}),w.jsx(Nl,{open:ve.open,autoHideDuration:3e3,onClose:Be,message:ve.message,anchorOrigin:{vertical:"top",horizontal:"center"},ContentProps:{style:{backgroundColor:ve.type==="success"?"#4caf50":"#f44336"}}})]})},Pre=()=>{const[t,i]=se.useState([]),[n,o]=se.useState(!0),[a,c]=se.useState({}),[d,p]=se.useState(!1),[m,k]=se.useState(""),[v,_]=se.useState("success"),x=ao();se.useEffect(()=>{(async()=>{const F=Nr(),Q=Zn(F,"chatbotRequests");try{const ae=(await so(Q)).docs.map(X=>({id:X.id,...X.data()}));i(ae)}catch(Z){console.error("Error fetching chatbot requests:",Z)}finally{o(!1)}})()},[]);const y=async H=>{const F=a[H];if(!F){k("Please assign a Chatbot ID before approving the request."),_("error"),p(!0);return}try{const Q=Nr(),Z=Vn(Q,"chatbotRequests",H),ae=await Na(Z);if(!ae.exists()){k("Request not found. Please refresh the page."),_("error"),p(!0);return}const X=ae.data();if(X.status!=="pending"){k("This request has already been processed."),_("warning"),p(!0);return}await gi(Z,{status:"approved",chatbotId:F});const Y={chatbotId:F,title:X.title,courseId:{id:X.courseId,number:X.courseNumber,title:X.courseTitle},material:{id:X.materialId||null,title:X.materialTitle||"N/A"},createdBy:X.educatorId,files:X.files,timestamp:new Date().toISOString()};await pa(Zn(Q,"chatbots"),Y),i(U=>U.map(q=>q.id===H?{...q,status:"approved",chatbotId:F}:q)),k("Chatbot request approved and chatbot created successfully!"),_("success"),p(!0)}catch(Q){console.error("Error approving chatbot request or creating chatbot:",Q),k("Failed to approve the request and create the chatbot. Please try again."),_("error"),p(!0)}},D=()=>{p(!1)},[E,j]=se.useState(0),[M,B]=se.useState(5),z=(H,F)=>j(F),G=H=>{B(parseInt(H.target.value,10)),j(0)},J=(H,F)=>{c(Q=>({...Q,[H]:F}))};return n?w.jsx(Ne,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:w.jsx(ki,{})}):t.length===0?w.jsx(xe,{variant:"body1",sx:{textAlign:"center",mt:4},children:"No chatbot requests found."}):w.jsxs(Ne,{className:"profile-container",sx:{p:4},children:[w.jsx(Ct,{variant:"text",onClick:()=>x("/"),className:"profile-button",children:" Home Page"}),w.jsx(xe,{variant:"h5",className:"webpage_title",sx:{mb:2},children:"Chatbot Requests Management"}),w.jsx(xe,{variant:"body1",sx:{mb:3},children:"Manage chatbot requests submitted by educators. Approve requests and assign Chatbot IDs."}),w.jsxs(sh,{component:hr,elevation:3,sx:{maxHeight:"70vh",overflow:"auto"},children:[w.jsxs(ah,{stickyHeader:!0,children:[w.jsx(lh,{children:w.jsxs(Lo,{children:[w.jsx(St,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Title"}),w.jsx(St,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Course"}),w.jsx(St,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Material"}),w.jsx(St,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Educator ID"}),w.jsx(St,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Course ID"}),w.jsx(St,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Material ID"}),w.jsx(St,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Submitted On"}),w.jsx(St,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Status"}),w.jsx(St,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"File Links"}),w.jsx(St,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Chatbot ID"}),w.jsx(St,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Action"})]})}),w.jsx(ch,{children:t.slice(E*M,E*M+M).map((H,F)=>{var Q;return w.jsxs(Lo,{sx:{backgroundColor:F%2===0?"#F6E9B2":"#FBFADA","&:hover":{backgroundColor:"#E8E8E8"}},children:[w.jsx(St,{children:H.title}),w.jsx(St,{children:`${H.courseNumber} - ${H.courseTitle}`}),w.jsx(St,{children:H.materialTitle||"N/A"}),w.jsx(St,{children:H.educatorId}),w.jsx(St,{children:H.courseId}),w.jsx(St,{children:H.materialId||"N/A"}),w.jsx(St,{children:new Date(H.timestamp).toLocaleString()}),w.jsx(St,{children:w.jsx(xe,{variant:"body2",sx:{color:H.status==="pending"?"#FFA726":"#43A047",fontWeight:"bold"},children:H.status})}),w.jsx(St,{children:(Q=H.files)!=null&&Q.length?H.files.map((Z,ae)=>w.jsx(hR,{filePath:Z,fileLabel:`File ${ae+1}`},ae)):w.jsx(xe,{variant:"body2",children:"No files uploaded"})}),w.jsx(St,{children:H.status==="approved"?w.jsx(xe,{variant:"body2",sx:{fontWeight:"bold"},children:H.chatbotId}):w.jsx(yn,{size:"small",value:a[H.id]||"",onChange:Z=>J(H.id,Z.target.value),placeholder:"Enter Chatbot ID",sx:{width:"150px"}})}),w.jsx(St,{children:w.jsx(Ct,{variant:"contained",color:"primary",onClick:()=>y(H.id),disabled:H.status==="approved",sx:{fontWeight:"bold"},children:H.status==="approved"?"Approved":"Approve"})})]},H.id)})})]}),w.jsx(S$,{rowsPerPageOptions:[5,10,25],component:"div",count:t.length,rowsPerPage:M,page:E,onPageChange:z,onRowsPerPageChange:G,"aria-label":"Chatbot requests pagination",sx:{mt:2}})]}),w.jsx(Nl,{open:d,autoHideDuration:6e3,onClose:D,children:w.jsx(Rr,{onClose:D,severity:v,sx:{width:"100%"},children:m})})]})},qy=Nr(),Vy={CHATBOTS:"chatbots",QUIZ_SESSIONS:"quizSessions",QUIZ_EVENTS:"quizEvents",USERS:"users"},Rre=async()=>{var t,i,n,o;try{console.log(" Loading chatbots with quiz information...");const a=pc(Zn(qy,Vy.CHATBOTS),eA("timestamp","desc")),c=await so(a),d=[];for(const p of c.docs){const m=p.data(),k={chatbotId:m.chatbotId,title:m.title||"Untitled Chatbot",materialTitle:((t=m.material)==null?void 0:t.title)||"Unknown Material",materialId:((i=m.material)==null?void 0:i.id)||"",courseId:((n=m.courseId)==null?void 0:n.id)||"",courseTitle:((o=m.courseId)==null?void 0:o.title)||"Unknown Course",createdBy:m.createdBy||"",timestamp:m.timestamp||new Date().toISOString(),quizId:null,hasQuiz:!0};d.push(k)}for(const p of d)try{const m=pc(Zn(qy,Vy.QUIZ_SESSIONS),bo("chatbotId","==",p.chatbotId),m5(1)),k=await so(m);if(!k.empty){const v=k.docs[0].data();p.quizId=v.quizId||null}}catch(m){console.warn(` Could not fetch quiz ID for chatbot ${p.chatbotId}:`,m),p.quizId=null}return console.log(` Loaded ${d.length} chatbots with quiz information`),d}catch(a){throw console.error(" Error loading chatbots with quizzes:",a),a}},zre=async(t={},i=100,n)=>{var o,a;try{console.log(" Loading enhanced quiz sessions with filters:",t);const c=Zn(qy,Vy.QUIZ_SESSIONS),d=[];t.chatbotId&&d.push(bo("chatbotId","==",t.chatbotId)),t.difficulty&&t.difficulty!=="all"&&d.push(bo("difficulty","==",t.difficulty)),t.completionStatus&&t.completionStatus!=="all"&&d.push(bo("completed","==",t.completionStatus==="completed")),t.userId&&d.push(bo("userId","==",t.userId)),t.dateRange&&(d.push(bo("startedAt",">=",ta.fromDate(new Date(t.dateRange.start)))),d.push(bo("startedAt","<=",ta.fromDate(new Date(t.dateRange.end))))),d.push(eA("startedAt","desc")),d.push(m5(i));const p=pc(c,...d),m=await so(p),k=[],v=new Map;for(const y of m.docs){const D=y.data();let E=v.get(D.userId);if(!E){const G=D.userId.length>12?`${D.userId.substring(0,8)}...${D.userId.slice(-4)}`:D.userId.substring(0,12);E={email:G,displayName:`User ${G}`},v.set(D.userId,E)}let j,M;if(D.startedAt&&D.submittedAt){const G=D.startedAt.toMillis(),J=D.submittedAt.toMillis(),H=Math.round((J-G)/1e3),F=Math.floor(H/60),Q=H%60;j=H,M=`${F}m ${Q}s`}const B=Object.keys(D.finalAnswers||{}).length,z={id:y.id,quizId:D.quizId,chatbotId:D.chatbotId,userId:D.userId,userEmail:E.email,userName:E.displayName,difficulty:D.difficulty,startedAt:D.startedAt.toDate().toISOString(),submittedAt:(o=D.submittedAt)==null?void 0:o.toDate().toISOString(),closedAt:(a=D.closedAt)==null?void 0:a.toDate().toISOString(),completed:D.completed,answers:D.finalAnswers||{},summary:D.summary,questionsAttempted:B,timeSpent:j,timeSpentFormatted:M};k.push(z)}const _=m.docs.length===i,x=m.docs.length>0?m.docs[m.docs.length-1]:void 0;return console.log(` Loaded ${k.length} enhanced quiz sessions`),{sessions:k,hasMore:_,lastDoc:x}}catch(c){throw console.error(" Error loading enhanced quiz sessions:",c),c}},Fre=async t=>{var i;try{console.log(" Loading quiz pool for quiz:",t);const n=pc(Zn(qy,Vy.QUIZ_SESSIONS),bo("quizId","==",t),eA("startedAt","desc"),m5(50)),o=await so(n),a=new Set,c=new Map;for(const _ of o.docs){const x=_.data();(i=x.summary)!=null&&i.items&&Object.keys(x.summary.items).forEach(y=>{a.add(y)}),x.finalAnswers&&Object.entries(x.finalAnswers).forEach(([y,D])=>{a.add(y),c.has(y)||c.set(y,D)})}const d=Array.from(a).map(_=>{const x=c.get(_)||"",y=x.length>0?`Question about: ${x.split(" ").slice(0,10).join(" ")}${x.split(" ").length>10?"...":""}`:"Question text not available";return{questionId:_,question:y,category:"Biology Fundamentals",difficulty:"medium",maxScore:100}}),p=d.length>0?d:[{questionId:"no-sessions-found",question:"No quiz sessions found for this quiz ID. Question IDs will appear here once students take quizzes.",category:"Biology Fundamentals",difficulty:"medium",maxScore:100}],m={},k={easy:0,medium:0,hard:0};p.forEach(_=>{m[_.category]=(m[_.category]||0)+1,k[_.difficulty]=(k[_.difficulty]||0)+1});const v={quizId:t,chatbotId:t,questions:p,categoryCounts:m,difficultyBreakdown:k,totalQuestions:p.length,lastUpdated:new Date().toISOString()};return console.log(` Loaded quiz pool with ${p.length} real question IDs from ${o.docs.length} sessions`),v}catch(n){throw console.error(" Error loading quiz pool:",n),n}},Ure=t=>{try{console.log(" Generating quiz analytics from",t.length,"sessions");const i=t.filter(v=>v.completed&&v.summary),n=t.length,o=n>0?i.length/n*100:0,a=i.length>0?i.reduce((v,_)=>{var x;return v+(((x=_.summary)==null?void 0:x.percent)||0)},0)/i.length:0,c=t.filter(v=>v.timeSpent).length>0?Math.round(t.filter(v=>v.timeSpent).reduce((v,_)=>v+(_.timeSpent||0),0)/t.filter(v=>v.timeSpent).length):0,d={easy:0,medium:0,hard:0};t.forEach(v=>{d[v.difficulty]=(d[v.difficulty]||0)+1});const p={};i.forEach(v=>{var _;(_=v.summary)!=null&&_.items&&Object.values(v.summary.items).forEach(x=>{const y="Mixed Questions";p[y]||(p[y]={averageScore:0,totalAttempts:0,successRate:0}),p[y].totalAttempts+=1,p[y].averageScore+=x.score,x.verdict==="correct"&&(p[y].successRate+=1)})}),Object.keys(p).forEach(v=>{const _=p[v];_.totalAttempts>0&&(_.averageScore=_.averageScore/_.totalAttempts,_.successRate=_.successRate/_.totalAttempts*100)});const m={daily:{},weekly:{},monthly:{}};t.forEach(v=>{const _=new Date(v.startedAt),x=_.toISOString().split("T")[0],y=`${_.getFullYear()}-W${Math.ceil(_.getDate()/7)}`,D=`${_.getFullYear()}-${String(_.getMonth()+1).padStart(2,"0")}`;m.daily[x]=(m.daily[x]||0)+1,m.weekly[y]=(m.weekly[y]||0)+1,m.monthly[D]=(m.monthly[D]||0)+1});const k={totalSessions:n,completionRate:o,averageScore:a,averageTimeSpent:c,difficultyDistribution:d,categoryPerformance:p,timeBasedStats:m};return console.log(" Generated quiz analytics:",k),k}catch(i){throw console.error(" Error generating quiz analytics:",i),i}},qre=async t=>{var i;try{console.log(" Exporting quiz session data for:",t);const n=await Na(Vn(qy,Vy.QUIZ_SESSIONS,t));if(!n.exists())throw new Error("Quiz session not found");const o=n.data(),a={sessionId:t,quizId:o.quizId,chatbotId:o.chatbotId,userId:o.userId,difficulty:o.difficulty,startedAt:o.startedAt.toDate().toISOString(),submittedAt:(i=o.submittedAt)==null?void 0:i.toDate().toISOString(),completed:o.completed,answers:o.finalAnswers||{},summary:o.summary,exportedAt:new Date().toISOString()},c=JSON.stringify(a,null,2),d=new Blob([c],{type:"application/json"});return console.log(" Quiz session data exported successfully"),d}catch(n){throw console.error(" Error exporting quiz session data:",n),n}},mO={difficulty:"all",completionStatus:"all"},RR=gb()(Ak(b5((t,i)=>({courses:[],selectedCourse:null,chatbotsWithQuizzes:[],filteredChatbots:[],selectedChatbot:null,quizSessions:[],quizPools:{},analytics:null,loading:!1,error:null,filters:mO,selectedSession:null,loadChatbotsWithQuizzes:async()=>{try{t({loading:!0,error:null}),console.log(" Quiz Management Store: Loading chatbots with quizzes...");const n=await Rre(),o=new Map;n.forEach(c=>{o.has(c.courseId)||o.set(c.courseId,{courseId:c.courseId,courseTitle:c.courseTitle,chatbotCount:0,quizCount:0});const d=o.get(c.courseId);d.chatbotCount++,c.quizId&&d.quizCount++});const a=Array.from(o.values()).sort((c,d)=>c.courseTitle.localeCompare(d.courseTitle));t({chatbotsWithQuizzes:n,courses:a,filteredChatbots:n,loading:!1}),console.log(` Loaded ${n.length} chatbots with quiz information from ${a.length} courses`)}catch(n){console.error(" Failed to load chatbots with quizzes:",n),t({error:n instanceof Error?n.message:"Failed to load chatbots",loading:!1})}},selectCourse:n=>{console.log(" Quiz Management Store: Selecting course:",n==null?void 0:n.courseId);const{chatbotsWithQuizzes:o}=i(),a=n?o.filter(c=>c.courseId===n.courseId):o;t({selectedCourse:n,filteredChatbots:a,selectedChatbot:null,selectedSession:null,quizSessions:[]})},selectChatbot:n=>{console.log(" Quiz Management Store: Selecting chatbot:",n==null?void 0:n.chatbotId),t({selectedChatbot:n,selectedSession:null,filters:{...i().filters,chatbotId:n==null?void 0:n.chatbotId}}),n&&i().loadQuizSessions(n.chatbotId)},loadQuizSessions:async n=>{try{t({loading:!0,error:null}),console.log(" Quiz Management Store: Loading quiz sessions for chatbot:",n);const o=i().filters,a=n?{...o,chatbotId:n}:o,c=await zre(a);t({quizSessions:c.sessions,loading:!1}),i().generateAnalytics(),console.log(` Loaded ${c.sessions.length} enhanced quiz sessions`)}catch(o){console.error(" Failed to load quiz sessions:",o),t({error:o instanceof Error?o.message:"Failed to load quiz sessions",loading:!1})}},loadQuizPool:async n=>{try{t({loading:!0,error:null}),console.log(" Quiz Management Store: Loading quiz pool for:",n);const o=await Fre(n);t(a=>({quizPools:{...a.quizPools,[n]:o},loading:!1})),console.log(` Loaded quiz pool with ${o.totalQuestions} questions`)}catch(o){console.error(" Failed to load quiz pool:",o),t({error:o instanceof Error?o.message:"Failed to load quiz pool",loading:!1})}},updateFilters:n=>{const o={...i().filters,...n};console.log(" Quiz Management Store: Updating filters:",o),t({filters:o}),i().loadQuizSessions(o.chatbotId)},selectSession:n=>{console.log(" Quiz Management Store: Selecting session:",n==null?void 0:n.id),t({selectedSession:n})},generateAnalytics:()=>{try{const{quizSessions:n}=i();console.log(" Quiz Management Store: Generating analytics from",n.length,"sessions");const o=Ure(n);t({analytics:o}),console.log(" Generated quiz analytics successfully")}catch(n){console.error(" Failed to generate analytics:",n),t({error:n instanceof Error?n.message:"Failed to generate analytics"})}},exportSessionData:async n=>{try{t({loading:!0,error:null}),console.log(" Quiz Management Store: Exporting session data for:",n);const o=await qre(n),a=URL.createObjectURL(o),c=document.createElement("a");c.href=a,c.download=`quiz-session-${n}.json`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(a),t({loading:!1}),console.log(" Quiz session data exported successfully")}catch(o){console.error(" Failed to export session data:",o),t({error:o instanceof Error?o.message:"Failed to export session data",loading:!1})}},clearError:()=>{t({error:null})},reset:()=>{console.log(" Quiz Management Store: Resetting store state"),t({chatbotsWithQuizzes:[],selectedChatbot:null,quizSessions:[],quizPools:{},analytics:null,loading:!1,error:null,filters:mO,selectedSession:null})}}),{name:"quiz-management-store",partialize:t=>({filters:t.filters,selectedChatbot:t.selectedChatbot}),merge:(t,i)=>({...i,...t||{},courses:[],selectedCourse:null,chatbotsWithQuizzes:[],filteredChatbots:[],selectedChatbot:null,quizSessions:[],quizPools:{},analytics:null,loading:!1,error:null,selectedSession:null})}),{name:"quiz-management-store"})),Vre=({courses:t,selectedCourse:i,onSelect:n,loading:o=!1})=>w.jsx(Ne,{children:w.jsx(UL,{value:i,onChange:(a,c)=>n(c),options:t,getOptionLabel:a=>a.courseTitle,loading:o,renderInput:a=>w.jsx(yn,{...a,label:"Select Course",placeholder:"Choose a course to filter materials...",variant:"outlined",sx:{"& .MuiOutlinedInput-root":{fontFamily:"Gabarito, sans-serif","& fieldset":{borderColor:"#CDDAFF",borderWidth:2},"&:hover fieldset":{borderColor:"#0B53C0"},"&.Mui-focused fieldset":{borderColor:"#0B53C0",borderWidth:2}},"& .MuiInputLabel-root":{fontFamily:"Gabarito, sans-serif",color:"#0B53C0",fontWeight:"bold","&.Mui-focused":{color:"#0B53C0"}}},InputProps:{...a.InputProps,endAdornment:w.jsxs(w.Fragment,{children:[o?w.jsx(ki,{color:"inherit",size:20}):null,a.InputProps.endAdornment]})}}),renderOption:(a,c)=>{const{...d}=a;return w.jsx(Ne,{component:"li",...d,sx:{"&:hover":{backgroundColor:"#F0F4FF !important"}},children:w.jsxs(Ne,{sx:{display:"flex",alignItems:"center",width:"100%",p:2},children:[w.jsx(cb,{sx:{mr:2,flexShrink:0,color:"#0B53C0",fontSize:28}}),w.jsxs(Ne,{sx:{flex:1,minWidth:0},children:[w.jsx(xe,{variant:"subtitle1",noWrap:!0,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1.1rem",color:"#0B53C0",fontWeight:"bold"},children:c.courseTitle}),w.jsxs(xe,{variant:"body2",sx:{fontFamily:"Gabarito, sans-serif",color:"#666666",display:"flex",alignItems:"center",mt:.5},children:[w.jsx(fp,{sx:{fontSize:14,mr:.5}}),c.chatbotCount," material",c.chatbotCount!==1?"s":"","  ",c.quizCount," quiz",c.quizCount!==1?"zes":""," available"]})]}),w.jsxs(Ne,{sx:{ml:2,display:"flex",flexDirection:"column",alignItems:"flex-end",gap:.5},children:[w.jsx(_r,{label:`${c.chatbotCount} Material${c.chatbotCount!==1?"s":""}`,size:"small",sx:{backgroundColor:"#CDDAFF",color:"#0B53C0",fontFamily:"Gabarito, sans-serif",fontSize:"0.75rem",fontWeight:"bold"}}),c.quizCount>0&&w.jsx(_r,{label:`${c.quizCount} Quiz${c.quizCount!==1?"zes":""}`,size:"small",sx:{backgroundColor:"#C8E6C9",color:"#2E7D32",fontFamily:"Gabarito, sans-serif",fontSize:"0.75rem",fontWeight:"bold"}})]})]})},c.courseId)},PaperComponent:a=>w.jsx(hr,{...a,sx:{mt:1,borderRadius:2,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",border:"1px solid #CDDAFF",backgroundColor:"#FFFFFF"}}),isOptionEqualToValue:(a,c)=>a.courseId===c.courseId,noOptionsText:o?"Loading courses...":"No courses found.",clearOnBlur:!0,selectOnFocus:!0})}),Hre=({chatbots:t,selectedChatbot:i,onSelect:n,loading:o=!1})=>w.jsxs(Ne,{children:[w.jsx(UL,{value:i,onChange:(a,c)=>n(c),options:t,getOptionLabel:a=>a.title,loading:o,renderInput:a=>w.jsx(yn,{...a,label:"Select Chatbot & Material",placeholder:"Choose a chatbot to view its quiz data...",variant:"outlined",sx:{"& .MuiOutlinedInput-root":{fontFamily:"Gabarito, sans-serif","& fieldset":{borderColor:"#CDDAFF",borderWidth:2},"&:hover fieldset":{borderColor:"#0B53C0"},"&.Mui-focused fieldset":{borderColor:"#0B53C0",borderWidth:2}},"& .MuiInputLabel-root":{fontFamily:"Gabarito, sans-serif",color:"#0B53C0",fontWeight:"bold","&.Mui-focused":{color:"#0B53C0"}}},InputProps:{...a.InputProps,endAdornment:w.jsxs(w.Fragment,{children:[o?w.jsx(ki,{color:"inherit",size:20}):null,a.InputProps.endAdornment]})}}),renderOption:(a,c)=>{const{...d}=a;return w.jsx(Ne,{component:"li",...d,sx:{"&:hover":{backgroundColor:"#F0F4FF !important"}},children:w.jsxs(Ne,{sx:{display:"flex",alignItems:"center",width:"100%",p:2},children:[w.jsx(fp,{sx:{mr:2,flexShrink:0,color:"#0B53C0",fontSize:28}}),w.jsxs(Ne,{sx:{flex:1,minWidth:0},children:[w.jsx(xe,{variant:"subtitle1",noWrap:!0,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1.1rem",color:"#0B53C0",fontWeight:"bold"},children:c.title}),w.jsxs(xe,{variant:"body2",noWrap:!0,sx:{fontFamily:"Gabarito, sans-serif",color:"#666666",display:"flex",alignItems:"center",mt:.5},children:[w.jsx(E$,{sx:{fontSize:14,mr:.5}}),c.materialTitle]}),w.jsxs(xe,{variant:"caption",noWrap:!0,sx:{fontFamily:"Gabarito, sans-serif",color:"#888888",display:"flex",alignItems:"center",mt:.25},children:[w.jsx(cb,{sx:{fontSize:12,mr:.5}}),c.courseTitle]})]}),w.jsxs(Ne,{sx:{ml:2,display:"flex",flexDirection:"column",alignItems:"flex-end",gap:.5},children:[c.quizId&&w.jsx(_r,{label:"Quiz Available",size:"small",sx:{backgroundColor:"#C8E6C9",color:"#2E7D32",fontFamily:"Gabarito, sans-serif",fontSize:"0.75rem",fontWeight:"bold"}}),w.jsxs(xe,{variant:"caption",sx:{fontFamily:"monospace",color:c.quizId?"#0B53C0":"#888888",fontSize:"0.7rem",backgroundColor:c.quizId?"#F0F4FF":"#F5F5F5",padding:"2px 6px",borderRadius:"4px",border:`1px solid ${c.quizId?"#CDDAFF":"#E0E0E0"}`},children:["Quiz: ",c.quizId?c.quizId.substring(0,8)+"...":"N/A"]}),w.jsxs(xe,{variant:"caption",sx:{fontFamily:"monospace",color:"#888888",fontSize:"0.65rem"},children:["ChatBot: ",c.chatbotId.substring(0,8),"..."]})]})]})},c.chatbotId)},PaperComponent:a=>w.jsx(hr,{...a,sx:{mt:1,borderRadius:2,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",border:"1px solid #CDDAFF",backgroundColor:"#FFFFFF"}}),isOptionEqualToValue:(a,c)=>a.chatbotId===c.chatbotId,noOptionsText:o?"Loading chatbots...":"No chatbots found. Create a chatbot first to see quiz data.",clearOnBlur:!0,handleHomeEndKeys:!0}),t.length===0&&!o&&w.jsx(Ne,{sx:{mt:2,p:2,bgcolor:"info.light",borderRadius:1},children:w.jsxs(xe,{variant:"body2",color:"info.contrastText",children:[w.jsx("strong",{children:"No chatbots available."})," You need to create chatbots first before you can manage quiz sessions. Each chatbot automatically has an associated quiz with predefined questions."]})})]}),$re=({sessions:t,loading:i=!1,onViewDetails:n,onExportSession:o})=>{const a=p=>new Date(p).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),c=p=>{switch(p){case"easy":return"success";case"medium":return"warning";case"hard":return"error";default:return"warning"}},d=p=>p>=80?"success":p>=60?"warning":"error";return i?w.jsxs(Ne,{sx:{width:"100%",mt:2},children:[w.jsx(cu,{}),w.jsx(xe,{variant:"body2",sx:{mt:1,textAlign:"center"},children:"Loading quiz sessions..."})]}):t.length===0?w.jsxs(Ne,{sx:{textAlign:"center",py:8},children:[w.jsx(fp,{sx:{fontSize:64,color:"text.secondary",mb:2}}),w.jsx(xe,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"No quiz sessions found"}),w.jsx(xe,{variant:"body2",color:"text.secondary",children:"No quiz sessions have been completed for this chatbot yet. Students need to take quizzes to see data here."})]}):w.jsx(sh,{component:hr,variant:"outlined",children:w.jsxs(ah,{children:[w.jsx(lh,{children:w.jsxs(Lo,{children:[w.jsx(St,{children:w.jsxs(Ne,{sx:{display:"flex",alignItems:"center",gap:1},children:[w.jsx(fp,{fontSize:"small"}),"Session ID"]})}),w.jsx(St,{children:w.jsxs(Ne,{sx:{display:"flex",alignItems:"center",gap:1},children:[w.jsx(qL,{fontSize:"small"}),"User ID"]})}),w.jsx(St,{children:w.jsxs(Ne,{sx:{display:"flex",alignItems:"center",gap:1},children:[w.jsx(D$,{fontSize:"small"}),"Date & Time"]})}),w.jsx(St,{children:"Difficulty"}),w.jsx(St,{children:"Status"}),w.jsx(St,{align:"center",children:"Questions"}),w.jsx(St,{align:"center",children:"Time Spent"}),w.jsx(St,{align:"center",children:"Score"}),w.jsx(St,{align:"center",children:"Performance"}),w.jsx(St,{align:"center",children:"Actions"})]})}),w.jsx(ch,{children:t.map(p=>w.jsxs(Lo,{hover:!0,children:[w.jsx(St,{children:w.jsx(xe,{variant:"body2",fontFamily:"monospace",sx:{wordBreak:"break-all",fontSize:"0.875rem"},children:p.id})}),w.jsx(St,{children:w.jsx(xe,{variant:"body2",fontFamily:"monospace",sx:{wordBreak:"break-all",fontSize:"0.875rem"},children:p.userId})}),w.jsx(St,{children:w.jsxs(Ne,{children:[w.jsx(xe,{variant:"body2",children:a(p.startedAt)}),p.submittedAt&&w.jsxs(xe,{variant:"caption",color:"text.secondary",children:["Submitted: ",a(p.submittedAt)]})]})}),w.jsx(St,{children:w.jsx(_r,{label:p.difficulty.charAt(0).toUpperCase()+p.difficulty.slice(1),color:c(p.difficulty),size:"small"})}),w.jsx(St,{children:w.jsx(_r,{label:p.completed?"Completed":"In Progress",color:p.completed?"success":"warning",size:"small",variant:p.completed?"filled":"outlined"})}),w.jsxs(St,{align:"center",children:[w.jsx(xe,{variant:"body2",fontWeight:"medium",children:p.questionsAttempted}),w.jsx(xe,{variant:"caption",color:"text.secondary",children:"attempted"})]}),w.jsx(St,{align:"center",children:p.timeSpentFormatted?w.jsxs(Ne,{children:[w.jsx(xe,{variant:"body2",fontWeight:"medium",children:p.timeSpentFormatted}),w.jsx(xe,{variant:"caption",color:"text.secondary",children:"duration"})]}):w.jsx(xe,{variant:"body2",color:"text.secondary",children:"-"})}),w.jsx(St,{align:"center",children:p.summary?w.jsxs(Ne,{children:[w.jsxs(xe,{variant:"body2",fontWeight:"bold",children:[p.summary.total_score,"/",p.summary.total_max]}),w.jsx(xe,{variant:"caption",color:"text.secondary",children:"points"})]}):w.jsx(xe,{variant:"body2",color:"text.secondary",children:"-"})}),w.jsx(St,{align:"center",children:p.summary?w.jsx(_r,{label:`${Math.round(p.summary.percent)}%`,color:d(p.summary.percent),size:"small"}):w.jsx(xe,{variant:"body2",color:"text.secondary",children:"-"})}),w.jsx(St,{align:"center",children:w.jsxs(OD,{direction:"row",spacing:1,justifyContent:"center",children:[w.jsx(fa,{title:"View Details",children:w.jsx(Gn,{size:"small",onClick:()=>n(p),color:"primary",children:w.jsx(H6,{fontSize:"small"})})}),w.jsx(fa,{title:"Export Data",children:w.jsx(Gn,{size:"small",onClick:()=>o(p.id),color:"secondary",children:w.jsx(Ny,{fontSize:"small"})})})]})})]},p.id))})]})})},Wre=({analytics:t})=>{const i=a=>{switch(a){case"easy":return"success";case"medium":return"warning";case"hard":return"error";default:return"warning"}},n=a=>a>=70?"success":a>=50?"warning":"error",o=a=>{if(a===0)return"0s";const c=Math.floor(a/60),d=a%60;return c===0?`${d}s`:d===0?`${c}m`:`${c}m ${d}s`};return w.jsx(Il,{sx:{mb:4,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:w.jsxs(iu,{sx:{p:3},children:[w.jsxs(xe,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1,fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.5rem"},children:[w.jsx(I$,{color:"primary"}),"Quiz Analytics & Insights"]}),w.jsxs(qt,{container:!0,spacing:3,sx:{mb:4},children:[w.jsx(qt,{item:!0,xs:12,sm:6,md:3,children:w.jsxs(Ne,{sx:{textAlign:"center",p:2,bgcolor:"#CDDAFF",borderRadius:2,border:"1px solid #0B53C0"},children:[w.jsx(fp,{sx:{fontSize:40,color:"#0B53C0",mb:1}}),w.jsx(xe,{variant:"h4",sx:{color:"#0B53C0",fontFamily:"Staatliches, sans-serif"},children:t.totalSessions}),w.jsx(xe,{variant:"body2",sx:{color:"#0B53C0",fontFamily:"Gabarito, sans-serif"},children:"Total Sessions"})]})}),w.jsx(qt,{item:!0,xs:12,sm:6,md:3,children:w.jsxs(Ne,{sx:{textAlign:"center",p:2,bgcolor:"#C8E6C9",borderRadius:2,border:"1px solid #2E7D32"},children:[w.jsx(Xy,{sx:{fontSize:40,color:"#2E7D32",mb:1}}),w.jsxs(xe,{variant:"h4",sx:{color:"#2E7D32",fontFamily:"Staatliches, sans-serif"},children:[Math.round(t.completionRate),"%"]}),w.jsx(xe,{variant:"body2",sx:{color:"#2E7D32",fontFamily:"Gabarito, sans-serif"},children:"Completion Rate"})]})}),w.jsx(qt,{item:!0,xs:12,sm:6,md:3,children:w.jsxs(Ne,{sx:{textAlign:"center",p:2,bgcolor:"#E3F2FD",borderRadius:2,border:"1px solid #1565C0"},children:[w.jsx(VL,{sx:{fontSize:40,color:"#1565C0",mb:1}}),w.jsxs(xe,{variant:"h4",sx:{color:"#1565C0",fontFamily:"Staatliches, sans-serif"},children:[Math.round(t.averageScore),"%"]}),w.jsx(xe,{variant:"body2",sx:{color:"#1565C0",fontFamily:"Gabarito, sans-serif"},children:"Average Score"})]})}),w.jsx(qt,{item:!0,xs:12,sm:6,md:3,children:w.jsxs(Ne,{sx:{textAlign:"center",p:2,bgcolor:"#FFF3E0",borderRadius:2,border:"1px solid #F57C00"},children:[w.jsx($6,{sx:{fontSize:40,color:"#F57C00",mb:1}}),w.jsx(xe,{variant:"h4",sx:{color:"#F57C00",fontFamily:"Staatliches, sans-serif"},children:o(t.averageTimeSpent)}),w.jsx(xe,{variant:"body2",sx:{color:"#F57C00",fontFamily:"Gabarito, sans-serif"},children:"Avg. Time Spent"})]})})]}),w.jsx(dl,{sx:{my:3}}),w.jsxs(qt,{container:!0,spacing:4,children:[w.jsxs(qt,{item:!0,xs:12,md:6,children:[w.jsxs(xe,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[w.jsx(fp,{color:"primary"}),"Difficulty Distribution"]}),w.jsx(Ne,{sx:{mt:2},children:Object.entries(t.difficultyDistribution).map(([a,c])=>{const d=t.totalSessions>0?c/t.totalSessions*100:0;return w.jsxs(Ne,{sx:{mb:2},children:[w.jsxs(Ne,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[w.jsxs(Ne,{sx:{display:"flex",alignItems:"center",gap:1},children:[w.jsx(_r,{label:a.charAt(0).toUpperCase()+a.slice(1),color:i(a),size:"small"}),w.jsxs(xe,{variant:"body2",children:[c," sessions"]})]}),w.jsxs(xe,{variant:"body2",color:"text.secondary",children:[Math.round(d),"%"]})]}),w.jsx(cu,{variant:"determinate",value:d,color:i(a),sx:{height:8,borderRadius:4}})]},a)})})]}),w.jsxs(qt,{item:!0,xs:12,md:6,children:[w.jsxs(xe,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[w.jsx(cb,{color:"primary"}),"Bloom's Taxonomy Performance"]}),w.jsx(Ne,{sx:{mt:2},children:Object.entries(t.categoryPerformance).map(([a,c])=>w.jsxs(Ne,{sx:{mb:2},children:[w.jsxs(Ne,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[w.jsxs(Ne,{children:[w.jsx(xe,{variant:"body2",fontWeight:"medium",children:a}),w.jsxs(xe,{variant:"caption",color:"text.secondary",children:[c.totalAttempts," attempts"]})]}),w.jsxs(Ne,{sx:{textAlign:"right"},children:[w.jsxs(xe,{variant:"body2",fontWeight:"medium",children:[Math.round(c.averageScore),"%"]}),w.jsx(_r,{label:`${c.successRate}% success`,color:n(c.successRate),size:"small",variant:"outlined"})]})]}),w.jsx(cu,{variant:"determinate",value:c.successRate,color:n(c.successRate),sx:{height:6,borderRadius:3}})]},a))})]})]})]})})},Gre=({quizId:t,open:i,onClose:n})=>{const{quizPools:o,loading:a}=RR(),c=o[t],d=m=>({Remember:"success",Understand:"info",Apply:"primary",Analyze:"warning",Evaluate:"error",Create:"secondary"})[m]||"primary",p=m=>{const k=["Remember","Understand","Apply","Analyze","Evaluate","Create"],v=m.split("").reduce((_,x)=>_+x.charCodeAt(0),0);return k[v%k.length]};return a?w.jsx(Oo,{open:i,onClose:n,maxWidth:"md",fullWidth:!0,children:w.jsx(Bo,{children:w.jsxs(Ne,{sx:{display:"flex",flexDirection:"column",alignItems:"center",py:4},children:[w.jsx(cu,{sx:{width:"100%",mb:2}}),w.jsx(xe,{variant:"body1",children:"Loading quiz questions..."})]})})}):c?w.jsxs(Oo,{open:i,onClose:n,maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{minHeight:"80vh"}},children:[w.jsx(ts,{children:w.jsxs(Ne,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[w.jsxs(Ne,{children:[w.jsx(xe,{variant:"h5",component:"div",children:"Quiz Question Pool"}),w.jsxs(xe,{variant:"body2",color:"text.secondary",children:["Quiz ID: ",t.substring(0,16),"..."]})]}),w.jsx(Gn,{onClick:n,edge:"end",children:w.jsx(BD,{})})]})}),w.jsxs(Bo,{dividers:!0,children:[w.jsx(Il,{sx:{mb:3},children:w.jsxs(iu,{children:[w.jsxs(xe,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[w.jsx(VL,{color:"primary"}),"Pool Statistics"]}),w.jsxs(qt,{container:!0,spacing:3,children:[w.jsx(qt,{item:!0,xs:12,sm:6,md:3,children:w.jsxs(Ne,{sx:{textAlign:"center",p:2,bgcolor:"primary.light",borderRadius:1},children:[w.jsx(xe,{variant:"h4",color:"primary.contrastText",children:c.totalQuestions}),w.jsx(xe,{variant:"body2",color:"primary.contrastText",children:"Total Questions"})]})}),w.jsx(qt,{item:!0,xs:12,sm:6,md:3,children:w.jsxs(Ne,{sx:{textAlign:"center",p:2,bgcolor:"success.light",borderRadius:1},children:[w.jsx(xe,{variant:"h4",color:"success.contrastText",children:c.difficultyBreakdown.easy||0}),w.jsx(xe,{variant:"body2",color:"success.contrastText",children:"Easy Questions"})]})}),w.jsx(qt,{item:!0,xs:12,sm:6,md:3,children:w.jsxs(Ne,{sx:{textAlign:"center",p:2,bgcolor:"warning.light",borderRadius:1},children:[w.jsx(xe,{variant:"h4",color:"warning.contrastText",children:c.difficultyBreakdown.medium||0}),w.jsx(xe,{variant:"body2",color:"warning.contrastText",children:"Medium Questions"})]})}),w.jsx(qt,{item:!0,xs:12,sm:6,md:3,children:w.jsxs(Ne,{sx:{textAlign:"center",p:2,bgcolor:"error.light",borderRadius:1},children:[w.jsx(xe,{variant:"h4",color:"error.contrastText",children:c.difficultyBreakdown.hard||0}),w.jsx(xe,{variant:"body2",color:"error.contrastText",children:"Hard Questions"})]})})]})]})}),w.jsx(Il,{sx:{mb:3},children:w.jsxs(iu,{children:[w.jsxs(xe,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[w.jsx(T$,{color:"primary"}),"Bloom's Taxonomy Categories"]}),w.jsx(qt,{container:!0,spacing:2,children:Object.entries(c.categoryCounts).map(([m,k])=>{const v=k/c.totalQuestions*100;return w.jsx(qt,{item:!0,xs:12,sm:6,md:4,children:w.jsxs(Ne,{sx:{p:2,border:"1px solid",borderColor:"grey.300",borderRadius:1},children:[w.jsxs(Ne,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[w.jsx(_r,{label:m,color:d(m),size:"small"}),w.jsxs(xe,{variant:"body2",fontWeight:"bold",children:[k," questions"]})]}),w.jsx(cu,{variant:"determinate",value:v,color:d(m),sx:{height:6,borderRadius:3}}),w.jsxs(xe,{variant:"caption",color:"text.secondary",sx:{mt:.5,display:"block"},children:[Math.round(v),"% of total"]})]})},m)})})]})}),w.jsx(Il,{children:w.jsxs(iu,{children:[w.jsxs(xe,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[w.jsx(HL,{color:"primary"}),"Quiz Questions"]}),w.jsx(xe,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"All available question IDs from the quiz pool. Questions are categorized using Bloom's taxonomy levels and automatically selected based on quiz difficulty mode."}),w.jsx(sh,{component:hr,variant:"outlined",children:w.jsxs(ah,{children:[w.jsx(lh,{children:w.jsxs(Lo,{children:[w.jsx(St,{children:"Question ID"}),w.jsx(St,{children:"Question"}),w.jsx(St,{align:"center",children:"Bloom's Taxonomy Category"})]})}),w.jsx(ch,{children:c.questions.map((m,k)=>{const v=p(m.category);return w.jsxs(Lo,{hover:!0,children:[w.jsx(St,{children:w.jsx(xe,{variant:"body2",fontFamily:"monospace",children:m.questionId})}),w.jsx(St,{children:w.jsx(xe,{variant:"body2",sx:{maxWidth:400},children:m.question.length>120?`${m.question.substring(0,120)}...`:m.question})}),w.jsx(St,{align:"center",children:w.jsx(_r,{label:v,color:d(v),size:"small"})})]},m.questionId)})})]})})]})}),w.jsx(dl,{sx:{my:3}}),w.jsxs(Ne,{sx:{p:2,bgcolor:"info.light",borderRadius:1},children:[w.jsxs(xe,{variant:"body2",color:"info.contrastText",children:[w.jsx("strong",{children:"Quiz Question Pool:"})," This shows the available questions that can be selected for quizzes. When students take a quiz, questions are automatically chosen from this pool based on the selected difficulty mode: Easy (~5 questions), Medium (~8 questions), Hard (~10 questions)."]}),w.jsxs(xe,{variant:"caption",color:"info.contrastText",sx:{mt:1,display:"block"},children:[w.jsx("strong",{children:"Note:"})," This is placeholder data for demonstration. Actual questions will be loaded from the quiz API."]})]})]}),w.jsx(ns,{children:w.jsx(Ct,{onClick:n,variant:"contained",children:"Close"})})]}):w.jsxs(Oo,{open:i,onClose:n,maxWidth:"md",fullWidth:!0,children:[w.jsx(ts,{children:w.jsxs(Ne,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[w.jsx(xe,{variant:"h6",children:"Quiz Pool"}),w.jsx(Gn,{onClick:n,edge:"end",children:w.jsx(BD,{})})]})}),w.jsx(Bo,{children:w.jsxs(Ne,{sx:{textAlign:"center",py:4},children:[w.jsx(xe,{variant:"h6",color:"text.secondary",children:"Quiz pool not found"}),w.jsxs(xe,{variant:"body2",color:"text.secondary",children:["Unable to load questions for quiz ID: ",t]})]})}),w.jsx(ns,{children:w.jsx(Ct,{onClick:n,children:"Close"})})]})},Yre=({session:t,open:i,onClose:n})=>{const o=m=>new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),a=m=>{switch(m){case"easy":return"success";case"medium":return"warning";case"hard":return"error";default:return"warning"}},c=m=>m==="correct"?"success":"error",d=m=>{const k=t.answers[m];if(!k)return"Question text not available";const v=k.split(" ");return v.length>15?`Question about: ${v.slice(0,15).join(" ")}...`:`Question about: ${k.substring(0,100)}${k.length>100?"...":""}`},p=()=>{const m={sessionId:t.id,quizId:t.quizId,chatbotId:t.chatbotId,student:{userId:t.userId,name:t.userName,email:t.userEmail},quiz:{difficulty:t.difficulty,startedAt:t.startedAt,submittedAt:t.submittedAt,completed:t.completed,timeSpent:t.timeSpent},answers:t.answers,summary:t.summary,exportedAt:new Date().toISOString()},k=JSON.stringify(m,null,2),v=new Blob([k],{type:"application/json"}),_=URL.createObjectURL(v),x=document.createElement("a");x.href=_,x.download=`quiz-session-${t.id}.json`,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(_)};return w.jsxs(Oo,{open:i,onClose:n,maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{minHeight:"80vh"}},children:[w.jsx(ts,{children:w.jsxs(Ne,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[w.jsxs(Ne,{children:[w.jsx(xe,{variant:"h5",component:"div",children:"Quiz Session Details"}),w.jsxs(xe,{variant:"body2",color:"text.secondary",children:["Session ID: ",t.id]})]}),w.jsx(Gn,{onClick:n,edge:"end",children:w.jsx(BD,{})})]})}),w.jsxs(Bo,{dividers:!0,children:[w.jsx(Il,{sx:{mb:3},children:w.jsxs(iu,{children:[w.jsxs(xe,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[w.jsx(qL,{color:"primary"}),"User Information"]}),w.jsx(qt,{container:!0,spacing:2,children:w.jsxs(qt,{item:!0,xs:12,children:[w.jsx(xe,{variant:"subtitle2",color:"text.secondary",children:"User ID"}),w.jsx(xe,{variant:"body1",fontFamily:"monospace",sx:{wordBreak:"break-all"},children:t.userId})]})})]})}),w.jsx(Il,{sx:{mb:3},children:w.jsxs(iu,{children:[w.jsxs(xe,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[w.jsx(fp,{color:"primary"}),"Quiz Information"]}),w.jsxs(qt,{container:!0,spacing:2,children:[w.jsxs(qt,{item:!0,xs:12,md:6,children:[w.jsx(xe,{variant:"subtitle2",color:"text.secondary",children:"Quiz ID"}),w.jsx(xe,{variant:"body1",fontFamily:"monospace",sx:{wordBreak:"break-all",fontSize:"0.875rem"},children:t.quizId})]}),w.jsxs(qt,{item:!0,xs:12,md:6,children:[w.jsx(xe,{variant:"subtitle2",color:"text.secondary",children:"Chatbot ID"}),w.jsx(xe,{variant:"body1",fontFamily:"monospace",sx:{wordBreak:"break-all",fontSize:"0.875rem"},children:t.chatbotId})]}),w.jsxs(qt,{item:!0,xs:12,md:6,children:[w.jsx(xe,{variant:"subtitle2",color:"text.secondary",children:"Difficulty"}),w.jsx(_r,{label:t.difficulty.charAt(0).toUpperCase()+t.difficulty.slice(1),color:a(t.difficulty),size:"small"})]}),w.jsxs(qt,{item:!0,xs:12,md:6,children:[w.jsx(xe,{variant:"subtitle2",color:"text.secondary",children:"Status"}),w.jsx(_r,{label:t.completed?"Completed":"In Progress",color:t.completed?"success":"warning",size:"small"})]}),w.jsxs(qt,{item:!0,xs:12,md:6,children:[w.jsx(xe,{variant:"subtitle2",color:"text.secondary",children:"Questions Attempted"}),w.jsxs(xe,{variant:"body1",children:[t.questionsAttempted," questions answered"]})]}),w.jsxs(qt,{item:!0,xs:12,md:6,children:[w.jsx(xe,{variant:"subtitle2",color:"text.secondary",children:"Quiz Mode"}),w.jsx(xe,{variant:"body1",children:t.difficulty==="easy"?"~5 questions (Remember/Understand focus)":t.difficulty==="medium"?"~8 questions (Mixed difficulty)":"~10 questions (Analyze/Evaluate focus)"})]})]})]})}),w.jsx(Il,{sx:{mb:3},children:w.jsxs(iu,{children:[w.jsxs(xe,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[w.jsx($6,{color:"primary"}),"Session Timeline"]}),w.jsxs(qt,{container:!0,spacing:2,children:[w.jsxs(qt,{item:!0,xs:12,md:4,children:[w.jsx(xe,{variant:"subtitle2",color:"text.secondary",children:"Started At"}),w.jsx(xe,{variant:"body1",children:o(t.startedAt)})]}),t.submittedAt&&w.jsxs(qt,{item:!0,xs:12,md:4,children:[w.jsx(xe,{variant:"subtitle2",color:"text.secondary",children:"Submitted At"}),w.jsx(xe,{variant:"body1",children:o(t.submittedAt)})]}),t.timeSpentFormatted&&w.jsxs(qt,{item:!0,xs:12,md:4,children:[w.jsx(xe,{variant:"subtitle2",color:"text.secondary",children:"Time Spent"}),w.jsx(xe,{variant:"body1",children:t.timeSpentFormatted})]})]})]})}),t.summary&&w.jsx(Il,{sx:{mb:3},children:w.jsxs(iu,{children:[w.jsx(xe,{variant:"h6",gutterBottom:!0,children:"Quiz Results"}),w.jsxs(qt,{container:!0,spacing:2,sx:{mb:3},children:[w.jsx(qt,{item:!0,xs:12,md:4,children:w.jsxs(Ne,{sx:{textAlign:"center",p:2,bgcolor:"primary.light",borderRadius:1},children:[w.jsx(xe,{variant:"h4",color:"primary.contrastText",children:t.summary.total_score}),w.jsx(xe,{variant:"body2",color:"primary.contrastText",children:"Total Score"})]})}),w.jsx(qt,{item:!0,xs:12,md:4,children:w.jsxs(Ne,{sx:{textAlign:"center",p:2,bgcolor:"info.light",borderRadius:1},children:[w.jsx(xe,{variant:"h4",color:"info.contrastText",children:t.summary.total_max}),w.jsx(xe,{variant:"body2",color:"info.contrastText",children:"Maximum Score"})]})}),w.jsx(qt,{item:!0,xs:12,md:4,children:w.jsxs(Ne,{sx:{textAlign:"center",p:2,bgcolor:"success.light",borderRadius:1},children:[w.jsxs(xe,{variant:"h4",color:"success.contrastText",children:[Math.round(t.summary.percent),"%"]}),w.jsx(xe,{variant:"body2",color:"success.contrastText",children:"Percentage"})]})})]}),w.jsx(dl,{sx:{my:2}}),w.jsx(xe,{variant:"h6",gutterBottom:!0,children:"Question Results"}),w.jsx(sh,{component:hr,variant:"outlined",children:w.jsxs(ah,{size:"small",children:[w.jsx(lh,{children:w.jsxs(Lo,{children:[w.jsx(St,{children:"Question"}),w.jsx(St,{align:"center",children:"Score"}),w.jsx(St,{align:"center",children:"Max Score"}),w.jsx(St,{align:"center",children:"Verdict"}),w.jsx(St,{children:"Reasoning"})]})}),w.jsx(ch,{children:Object.entries(t.summary.items).map(([m,k])=>w.jsxs(Lo,{children:[w.jsxs(St,{children:[w.jsx(xe,{variant:"body2",sx:{mb:1},children:d(m)}),w.jsxs(xe,{variant:"caption",color:"text.secondary",fontFamily:"monospace",children:["ID: ",m]})]}),w.jsx(St,{align:"center",children:w.jsx(xe,{variant:"body2",fontWeight:"bold",children:k.score})}),w.jsx(St,{align:"center",children:w.jsx(xe,{variant:"body2",children:k.max_score})}),w.jsx(St,{align:"center",children:(()=>{let v;return k.verdict==="correct"?v="correct":k.verdict==="incorrect"?v="incorrect":v=k.score>=k.max_score*.7?"correct":"incorrect",w.jsx(_r,{label:v,color:c(v),size:"small",icon:v==="correct"?w.jsx(Xy,{}):w.jsx(zL,{})})})()}),w.jsx(St,{children:w.jsx(xe,{variant:"body2",children:k.reasoning||"No reasoning provided"})})]},m))})]})})]})}),Object.keys(t.answers).length>0&&w.jsx(Il,{children:w.jsxs(iu,{children:[w.jsx(xe,{variant:"h6",gutterBottom:!0,children:"User Answers"}),Object.entries(t.answers).map(([m,k],v)=>w.jsxs(Xd,{children:[w.jsx(eh,{expandIcon:w.jsx(sd,{}),children:w.jsxs(xe,{variant:"subtitle1",children:["Question ",v+1," (",m,")"]})}),w.jsx(th,{children:w.jsx(Ne,{sx:{p:2,bgcolor:"grey.50",borderRadius:1},children:w.jsx(xe,{variant:"body1",sx:{whiteSpace:"pre-wrap"},children:k})})})]},m))]})})]}),w.jsxs(ns,{children:[w.jsx(Ct,{startIcon:w.jsx(Ny,{}),onClick:p,variant:"outlined",children:"Export Session Data"}),w.jsx(Ct,{onClick:n,variant:"contained",children:"Close"})]})]})},Kre=()=>{const t=ao(),{userDetails:i}=ko(),{courses:n,selectedCourse:o,chatbotsWithQuizzes:a,filteredChatbots:c,selectedChatbot:d,quizSessions:p,analytics:m,loading:k,error:v,filters:_,selectedSession:x,loadChatbotsWithQuizzes:y,selectCourse:D,selectChatbot:E,loadQuizSessions:j,loadQuizPool:M,updateFilters:B,selectSession:z,exportSessionData:G,clearError:J}=RR(),[H,F]=se.useState(!1),[Q,Z]=se.useState(!1),[ae,X]=se.useState("");se.useEffect(()=>{console.log(" Enhanced Quiz Management Page: Initializing..."),y()},[y]);const Y=Ie=>{D(Ie),Ie&&console.log(" Selected course:",Ie.courseTitle,"with",Ie.chatbotCount,"chatbots")},U=Ie=>{E(Ie),Ie&&console.log(" Selected chatbot:",Ie.title,"with quiz ID:",Ie.quizId)},q=Ie=>{z(Ie),F(!0)},fe=async Ie=>{await M(Ie),Z(!0)},ue=()=>{y(),d&&j(d.chatbotId)},de=async Ie=>{await G(Ie)},me=Ie=>{B({difficulty:Ie})},Me=Ie=>{B({completionStatus:Ie})},ce=Ie=>{X(Ie),B({userId:Ie||void 0})};return k&&a.length===0?w.jsxs(Ne,{sx:{width:"100%",mt:2},children:[w.jsx(cu,{}),w.jsx(xe,{variant:"body2",sx:{mt:1,textAlign:"center"},children:"Loading quiz management data..."})]}):w.jsxs(Ne,{className:"profile-container",children:[w.jsxs(Ne,{sx:{mb:4},children:[w.jsx(Ct,{variant:"text",startIcon:w.jsx(M$,{}),onClick:()=>t("/"),className:"profile-button",sx:{mb:2},children:"Home Page"}),w.jsxs(Ne,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[w.jsxs(Ne,{children:[w.jsx(xe,{className:"webpage_title",children:"Quiz Management"}),w.jsx(xe,{variant:"body1",className:"profile-text",children:"Comprehensive quiz analytics and session management"})]}),w.jsx(OD,{direction:"row",spacing:2,children:w.jsx(fa,{title:"Refresh Data",children:w.jsx("span",{children:w.jsx(Gn,{onClick:ue,disabled:k,children:w.jsx(LL,{})})})})})]})]}),v&&w.jsx(Rr,{severity:"error",sx:{mb:3},onClose:J,children:v}),w.jsx(Il,{sx:{mb:4,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:w.jsxs(iu,{sx:{p:3},children:[w.jsxs(xe,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1,fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.5rem"},children:[w.jsx(cb,{color:"primary"}),"Course & Quiz Selection"]}),w.jsx(xe,{variant:"body2",sx:{mb:3,fontFamily:"Gabarito, sans-serif",color:"#666666"},children:"First select a course to filter materials, then choose a specific chatbot to view its quiz sessions and manage quiz data."}),w.jsx(Ne,{sx:{mb:3},children:w.jsx(Vre,{courses:n,selectedCourse:o,onSelect:Y,loading:k})}),w.jsx(Ne,{children:w.jsx(Hre,{chatbots:c,selectedChatbot:d,onSelect:U,loading:k})}),d&&w.jsxs(Ne,{sx:{mt:3,p:2,bgcolor:"#F0F4FF",borderRadius:2,border:"1px solid #CDDAFF"},children:[w.jsxs(qt,{container:!0,spacing:2,children:[w.jsxs(qt,{item:!0,xs:12,md:6,children:[w.jsx(xe,{variant:"subtitle2",sx:{fontFamily:"Gabarito, sans-serif",fontWeight:"bold",color:"#0B53C0"},children:"Material"}),w.jsx(xe,{variant:"body1",sx:{fontFamily:"Gabarito, sans-serif"},children:d.materialTitle})]}),w.jsxs(qt,{item:!0,xs:12,md:3,children:[w.jsx(xe,{variant:"subtitle2",sx:{fontFamily:"Gabarito, sans-serif",fontWeight:"bold",color:"#0B53C0"},children:"Course"}),w.jsx(xe,{variant:"body1",sx:{fontFamily:"Gabarito, sans-serif"},children:d.courseTitle})]}),w.jsxs(qt,{item:!0,xs:12,md:3,children:[w.jsx(xe,{variant:"subtitle2",sx:{fontFamily:"Gabarito, sans-serif",fontWeight:"bold",color:"#0B53C0"},children:"Quiz ID"}),w.jsx(xe,{variant:"body1",fontFamily:"monospace",sx:{fontSize:"0.875rem",wordBreak:"break-all",lineHeight:1.2},children:d.quizId||"No Quiz ID Available"})]})]}),w.jsxs(Ne,{sx:{mt:2,display:"flex",gap:2},children:[w.jsx(Ct,{variant:"outlined",startIcon:w.jsx(HL,{}),onClick:()=>d.quizId&&fe(d.quizId),size:"small",sx:{fontFamily:"Gabarito, sans-serif",color:"#0B53C0",borderColor:"#0B53C0","&:hover":{backgroundColor:"#0B53C0",color:"#FFFFFF"}},children:"View Quiz Questions"}),w.jsx(CN,{badgeContent:p.length,color:"primary",children:w.jsx(Ct,{variant:"outlined",size:"small",sx:{fontFamily:"Gabarito, sans-serif",color:"#0B53C0",borderColor:"#0B53C0"},children:"Quiz Sessions"})})]})]})]})}),m&&w.jsx(Wre,{analytics:m}),d&&w.jsx(Il,{sx:{backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:w.jsxs(iu,{sx:{p:3},children:[w.jsxs(Ne,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[w.jsxs(xe,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1,fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.5rem"},children:[w.jsx(fp,{color:"primary"}),"Quiz Sessions",w.jsx(CN,{badgeContent:p.length,color:"primary",sx:{ml:1}})]}),w.jsxs(OD,{direction:"row",spacing:2,alignItems:"center",flexWrap:"wrap",children:[w.jsx(yn,{size:"small",label:"Filter by User ID",placeholder:"Enter user ID...",value:ae,onChange:Ie=>ce(Ie.target.value),sx:{minWidth:200}}),w.jsxs(pf,{size:"small",sx:{minWidth:120},children:[w.jsx(mf,{children:"Difficulty"}),w.jsxs(ad,{value:_.difficulty||"all",label:"Difficulty",onChange:Ie=>me(Ie.target.value),children:[w.jsx($r,{value:"all",children:"All Levels"}),w.jsx($r,{value:"easy",children:"Easy"}),w.jsx($r,{value:"medium",children:"Medium"}),w.jsx($r,{value:"hard",children:"Hard"})]})]}),w.jsxs(pf,{size:"small",sx:{minWidth:120},children:[w.jsx(mf,{children:"Status"}),w.jsxs(ad,{value:_.completionStatus||"all",label:"Status",onChange:Ie=>Me(Ie.target.value),children:[w.jsx($r,{value:"all",children:"All Sessions"}),w.jsx($r,{value:"completed",children:"Completed"}),w.jsx($r,{value:"incomplete",children:"In Progress"})]})]})]})]}),w.jsx($re,{sessions:p,loading:k,onViewDetails:q,onExportSession:de})]})}),x&&w.jsx(Yre,{session:x,open:H,onClose:()=>F(!1)}),(d==null?void 0:d.quizId)&&w.jsx(Gre,{quizId:d.quizId,open:Q,onClose:()=>Z(!1)})]})},Qre=se.lazy(()=>No(()=>import("./index-D6jFmbUt.js"),__vite__mapDeps([7,4,1,5]))),Zre=se.lazy(()=>No(()=>import("./index-CvKIbtr_.js"),__vite__mapDeps([8,4,1,5,9]))),Jre=se.lazy(()=>No(()=>import("./SupplementalMaterials-3WJGhxro.js"),__vite__mapDeps([10,4,1,5]))),aD=({element:t})=>w.jsx(vP,{children:w.jsx(El,{element:t})}),Xre=({element:t})=>w.jsx(kP,{children:t}),eie=(t,i)=>[{path:"/",element:t?w.jsx(vP,{children:w.jsx(eG,{})}):w.jsx(Xre,{element:w.jsx(Qre,{})})},{path:"/laboratory-notebooks",element:w.jsx(aD,{element:Zre})},{path:"/supplemental-materials",element:w.jsx(aD,{element:Jre})},{path:"/my-profile",element:w.jsx(aD,{element:dte})},{path:"/add-material",element:w.jsx(El,{element:T7})},{path:"/edit-material/:id",element:w.jsx(El,{element:DX})},{path:"/view-material/:id",element:w.jsx(El,{element:Xee})},{path:"/add-message",element:w.jsx(El,{element:ete})},{path:"/edit-message/:id",element:w.jsx(El,{element:tte})},{path:"/chatbot-management",element:w.jsx(El,{element:Ute})},{path:"/course-management",element:w.jsx(El,{element:Ate})},{path:"/request-chatbot",element:w.jsx(El,{element:Hte})},{path:"/quiz-management",element:w.jsx(El,{element:Kre})},{path:"/request-educator-permissions",element:w.jsx(El,{element:Tte})},{path:"/educator-requests",element:w.jsx(El,{element:Mte})},{path:"/request-new-course",element:w.jsx(Nte,{})},{path:"/course-requests",element:w.jsx(jte,{})},{path:"/super-admin-course-management",element:w.jsx(Pte,{})},{path:"/super-admin-chatbot-requests",element:w.jsx(El,{element:Pre})},...i?[{path:"/user-management",element:w.jsx(El,{element:ote})},{path:"/chatbot-conversations",element:w.jsx(El,{element:Lre})}]:[],{path:"*",element:w.jsx(fP,{to:"/"})}],tie=N$({breakpoints:{values:{xs:0,sm:600,md:960,lg:1280,xl:1920}}}),nie=()=>{const t=j$(),i=Ay(t.breakpoints.down("sm")),n=Ay(t.breakpoints.between("sm","md")),o=Ay(t.breakpoints.up("md"));return{isMobile:i,isTablet:n,isDesktop:o}},rie=()=>{const{isMobile:t,isTablet:i,isDesktop:n}=nie();return w.jsx(O$,{position:"static",className:"device-version-bar",children:w.jsx(B$,{className:"device-version-toolbar",children:w.jsxs(Ne,{sx:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[t&&w.jsx(xe,{variant:"body1",className:"device-version-text",children:"NexLAB Mobile Version 1.0"}),i&&w.jsx(xe,{variant:"body1",className:"device-version-text",children:"NexLAB Tablet Version 1.0"}),n&&w.jsx(xe,{variant:"body1",className:"device-version-text",children:"NexLAB Desktop Version 1.0"})]})})})},iie=vt.forwardRef(function(i,n){return w.jsx(Rr,{elevation:6,ref:n,variant:"filled",...i})}),oie=()=>{const[t,i]=se.useState(!1),[n,o]=se.useState(!1),[a,c]=se.useState(""),[d,p]=se.useState(!1),m=ao(),k=()=>{i(!0)},v=()=>{i(!1)},_=async()=>{if(!d){p(!0);try{await pP.signOut(),i(!1),o(!0),c("Logged out successfully"),m("/")}catch(x){i(!1),o(!0);const y=x instanceof Error?x.message:"Logout failed: An unexpected error occurred";c(y)}finally{p(!1)}}};return w.jsxs(w.Fragment,{children:[w.jsx(Ct,{variant:"outlined",onClick:k,disabled:d,sx:{fontSize:"1rem",fontFamily:"Staatliches, sans-serif",textTransform:"none",minWidth:"120px",color:"#FBFADA",borderColor:"#FBFADA",borderRadius:"15px",backgroundColor:"transparent",boxShadow:"none","&:hover":{borderColor:"#FFFFFF",backgroundColor:"#ffcdd2",color:"#c62828",boxShadow:"0px 0px 10px rgba(0, 0, 0, 0.2)",transform:"scale(1.05)"},"&:disabled":{borderColor:"#ccc",color:"#999"},transition:"transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out, border-color 0.3s ease-in-out, background-color 0.3s ease-in-out"},children:d?"Logging out...":"Logout"}),w.jsxs(Oo,{open:t,onClose:v,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[w.jsx(ts,{id:"alert-dialog-title",children:"Logging Out"}),w.jsx(Bo,{children:w.jsx(bc,{id:"alert-dialog-description",children:"Are you sure you want to log out?"})}),w.jsxs(ns,{children:[w.jsx(Ct,{onClick:_,autoFocus:!0,disabled:d,children:d?"Please wait...":"Yes"}),w.jsx(Ct,{onClick:v,disabled:d,children:"No"})]})]}),w.jsx(Nl,{open:n,autoHideDuration:6e3,onClose:()=>o(!1),children:w.jsx(iie,{onClose:()=>o(!1),severity:"info",sx:{width:"100%"},children:a})})]})},sie=vt.memo(oie),zR=vt.memo(()=>{const{userDetails:t,isSuperAdmin:i}=ko(),[n,o]=vt.useState(!1),a=()=>{t!=null&&t.uid?navigator.clipboard.writeText(t.uid).then(()=>{o(!0),setTimeout(()=>o(!1),2e3)}).catch(c=>console.error("Could not copy text: ",c)):console.error("User details are null or undefined")};return w.jsxs(Ne,{className:"header-box",sx:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px",backgroundColor:"#CDDAFF"},children:[w.jsxs(Ne,{sx:{display:"flex",alignItems:"center"},children:[w.jsx("img",{src:"/nexlab/nexlab-logo.png",alt:"ATE Logo",style:{width:300}}),w.jsx(Ne,{className:"divider",sx:{height:"40px",borderLeft:"2px solid #0B53C0",marginRight:"20px"}}),w.jsxs(xe,{variant:"body1",component:"p",className:"subtitle",sx:{color:"#0B53C0",fontFamily:"Gabarito",maxWidth:"300px"},children:["Next-Generation Experiments and ",w.jsx("br",{}),"Learning for Advanced Biotech"]})]}),w.jsxs(Ne,{className:"user-info-box",sx:{display:"flex",alignItems:"center"},children:[i&&w.jsx(_r,{label:"Super-Admin",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#ffcdd2",color:"#c62828",mr:2,fontFamily:"Staatliches, sans-serif",fontSize:"20px"}}),(t==null?void 0:t.isAdmin)&&!i&&w.jsx(_r,{label:"Educator",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#ffcdd2",color:"#c62828",mr:2,fontFamily:"Staatliches, sans-serif",fontSize:"20px"}}),!(t!=null&&t.isAdmin)&&w.jsx(_r,{label:"Student",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#bbdefb",color:"#1e88e5",mr:2,fontFamily:"Staatliches, sans-serif",fontSize:"20px"}}),t&&w.jsx(fa,{title:n?"Copied!":"Click to Copy",enterDelay:300,leaveDelay:200,children:w.jsx(_r,{label:`User ID: ${t.uid}`,variant:"outlined",onClick:a,sx:{borderRadius:"15px",fontSize:"20px",fontWeight:"bold",background:"#e0f2f1",color:"#00695c",cursor:"pointer",transition:"background-color 0.3s",mr:2,fontFamily:"Staatliches, sans-serif"}})}),w.jsx(sie,{})]})]})});zR.displayName="Header";var ny={},gO;function aie(){if(gO)return ny;gO=1;var t=ws();Object.defineProperty(ny,"__esModule",{value:!0}),ny.default=void 0;var i=t(ys()),n=vs();return ny.default=(0,i.default)((0,n.jsx)("path",{d:"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20zm-6 8h-4v-2h4zm0-4h-4v-2h4z"}),"BugReport"),ny}var lie=aie();const cie=Ei(lie),uie=()=>{const t=()=>{window.open("https://help.waveshi.org","_blank","noopener,noreferrer")};return w.jsx(Ct,{onClick:t,className:"report-bug-button",startIcon:w.jsx(cie,{}),children:"Provide Feedback"})};function die(){return w.jsxs(Ne,{component:"footer",className:"footer-container",children:[w.jsx(Ne,{className:"report-bug-container",children:w.jsx(uie,{})}),w.jsx(dl,{}),w.jsxs(Ne,{className:"footer-content",children:[w.jsx("img",{src:"/nexlab/FooterLogoLong.png",alt:"Logo",className:"footer-logo"}),w.jsx(xe,{variant:"body2",className:"footer-text",children:"The Institute for Future Intelligence (IFI) and Kapi'olani Community College (KCC) is funded in part by the National Science Foundation grant DUE 2300976."}),w.jsx(xe,{variant:"body2",className:"footer-text",children:" 2025 Institute for Future Intelligence and Kapi'olani Community College Antibody Engineering & Research Projects"})]})]})}const bO=["http","https","mailto","tel"];function hie(t){const i=(t||"").trim(),n=i.charAt(0);if(n==="#"||n==="/")return i;const o=i.indexOf(":");if(o===-1)return i;let a=-1;for(;++a<bO.length;){const c=bO[a];if(o===c.length&&i.slice(0,c.length).toLowerCase()===c)return i}return a=i.indexOf("?"),a!==-1&&o>a||(a=i.indexOf("#"),a!==-1&&o>a)?i:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var lD,kO;function fie(){return kO||(kO=1,lD=function(i){return i!=null&&i.constructor!=null&&typeof i.constructor.isBuffer=="function"&&i.constructor.isBuffer(i)}),lD}var pie=fie();const FR=Ei(pie);function Ey(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?wO(t.position):"start"in t||"end"in t?wO(t):"line"in t||"column"in t?p6(t):""}function p6(t){return vO(t&&t.line)+":"+vO(t&&t.column)}function wO(t){return p6(t&&t.start)+"-"+p6(t&&t.end)}function vO(t){return t&&typeof t=="number"?t:1}class cd extends Error{constructor(i,n,o){const a=[null,null];let c={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(o=n,n=void 0),typeof o=="string"){const d=o.indexOf(":");d===-1?a[1]=o:(a[0]=o.slice(0,d),a[1]=o.slice(d+1))}n&&("type"in n||"position"in n?n.position&&(c=n.position):"start"in n||"end"in n?c=n:("line"in n||"column"in n)&&(c.start=n)),this.name=Ey(n)||"1:1",this.message=typeof i=="object"?i.message:i,this.stack="",typeof i=="object"&&i.stack&&(this.stack=i.stack),this.reason=this.message,this.fatal,this.line=c.start.line,this.column=c.start.column,this.position=c,this.source=a[0],this.ruleId=a[1],this.file,this.actual,this.expected,this.url,this.note}}cd.prototype.file="";cd.prototype.name="";cd.prototype.reason="";cd.prototype.message="";cd.prototype.stack="";cd.prototype.fatal=null;cd.prototype.column=null;cd.prototype.line=null;cd.prototype.source=null;cd.prototype.ruleId=null;cd.prototype.position=null;const $h={basename:mie,dirname:gie,extname:bie,join:kie,sep:"/"};function mie(t,i){if(i!==void 0&&typeof i!="string")throw new TypeError('"ext" argument must be a string');fA(t);let n=0,o=-1,a=t.length,c;if(i===void 0||i.length===0||i.length>t.length){for(;a--;)if(t.charCodeAt(a)===47){if(c){n=a+1;break}}else o<0&&(c=!0,o=a+1);return o<0?"":t.slice(n,o)}if(i===t)return"";let d=-1,p=i.length-1;for(;a--;)if(t.charCodeAt(a)===47){if(c){n=a+1;break}}else d<0&&(c=!0,d=a+1),p>-1&&(t.charCodeAt(a)===i.charCodeAt(p--)?p<0&&(o=a):(p=-1,o=d));return n===o?o=d:o<0&&(o=t.length),t.slice(n,o)}function gie(t){if(fA(t),t.length===0)return".";let i=-1,n=t.length,o;for(;--n;)if(t.charCodeAt(n)===47){if(o){i=n;break}}else o||(o=!0);return i<0?t.charCodeAt(0)===47?"/":".":i===1&&t.charCodeAt(0)===47?"//":t.slice(0,i)}function bie(t){fA(t);let i=t.length,n=-1,o=0,a=-1,c=0,d;for(;i--;){const p=t.charCodeAt(i);if(p===47){if(d){o=i+1;break}continue}n<0&&(d=!0,n=i+1),p===46?a<0?a=i:c!==1&&(c=1):a>-1&&(c=-1)}return a<0||n<0||c===0||c===1&&a===n-1&&a===o+1?"":t.slice(a,n)}function kie(...t){let i=-1,n;for(;++i<t.length;)fA(t[i]),t[i]&&(n=n===void 0?t[i]:n+"/"+t[i]);return n===void 0?".":wie(n)}function wie(t){fA(t);const i=t.charCodeAt(0)===47;let n=vie(t,!i);return n.length===0&&!i&&(n="."),n.length>0&&t.charCodeAt(t.length-1)===47&&(n+="/"),i?"/"+n:n}function vie(t,i){let n="",o=0,a=-1,c=0,d=-1,p,m;for(;++d<=t.length;){if(d<t.length)p=t.charCodeAt(d);else{if(p===47)break;p=47}if(p===47){if(!(a===d-1||c===1))if(a!==d-1&&c===2){if(n.length<2||o!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(m=n.lastIndexOf("/"),m!==n.length-1){m<0?(n="",o=0):(n=n.slice(0,m),o=n.length-1-n.lastIndexOf("/")),a=d,c=0;continue}}else if(n.length>0){n="",o=0,a=d,c=0;continue}}i&&(n=n.length>0?n+"/..":"..",o=2)}else n.length>0?n+="/"+t.slice(a+1,d):n=t.slice(a+1,d),o=d-a-1;a=d,c=0}else p===46&&c>-1?c++:c=-1}return n}function fA(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const yie={cwd:Aie};function Aie(){return"/"}function m6(t){return t!==null&&typeof t=="object"&&t.href&&t.origin}function _ie(t){if(typeof t=="string")t=new URL(t);else if(!m6(t)){const i=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw i.code="ERR_INVALID_ARG_TYPE",i}if(t.protocol!=="file:"){const i=new TypeError("The URL must be of scheme file");throw i.code="ERR_INVALID_URL_SCHEME",i}return Cie(t)}function Cie(t){if(t.hostname!==""){const o=new TypeError('File URL host must be "localhost" or empty on darwin');throw o.code="ERR_INVALID_FILE_URL_HOST",o}const i=t.pathname;let n=-1;for(;++n<i.length;)if(i.charCodeAt(n)===37&&i.charCodeAt(n+1)===50){const o=i.charCodeAt(n+2);if(o===70||o===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(i)}const cD=["history","path","basename","stem","extname","dirname"];class UR{constructor(i){let n;i?typeof i=="string"||xie(i)?n={value:i}:m6(i)?n={path:i}:n=i:n={},this.data={},this.messages=[],this.history=[],this.cwd=yie.cwd(),this.value,this.stored,this.result,this.map;let o=-1;for(;++o<cD.length;){const c=cD[o];c in n&&n[c]!==void 0&&n[c]!==null&&(this[c]=c==="history"?[...n[c]]:n[c])}let a;for(a in n)cD.includes(a)||(this[a]=n[a])}get path(){return this.history[this.history.length-1]}set path(i){m6(i)&&(i=_ie(i)),dD(i,"path"),this.path!==i&&this.history.push(i)}get dirname(){return typeof this.path=="string"?$h.dirname(this.path):void 0}set dirname(i){yO(this.basename,"dirname"),this.path=$h.join(i||"",this.basename)}get basename(){return typeof this.path=="string"?$h.basename(this.path):void 0}set basename(i){dD(i,"basename"),uD(i,"basename"),this.path=$h.join(this.dirname||"",i)}get extname(){return typeof this.path=="string"?$h.extname(this.path):void 0}set extname(i){if(uD(i,"extname"),yO(this.dirname,"extname"),i){if(i.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(i.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=$h.join(this.dirname,this.stem+(i||""))}get stem(){return typeof this.path=="string"?$h.basename(this.path,this.extname):void 0}set stem(i){dD(i,"stem"),uD(i,"stem"),this.path=$h.join(this.dirname||"",i+(this.extname||""))}toString(i){return(this.value||"").toString(i||void 0)}message(i,n,o){const a=new cd(i,n,o);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}info(i,n,o){const a=this.message(i,n,o);return a.fatal=null,a}fail(i,n,o){const a=this.message(i,n,o);throw a.fatal=!0,a}}function uD(t,i){if(t&&t.includes($h.sep))throw new Error("`"+i+"` cannot be a path: did not expect `"+$h.sep+"`")}function dD(t,i){if(!t)throw new Error("`"+i+"` cannot be empty")}function yO(t,i){if(!t)throw new Error("Setting `"+i+"` requires `path` to be set too")}function xie(t){return FR(t)}function AO(t){if(t)throw t}var hD,_O;function Sie(){if(_O)return hD;_O=1;var t=Object.prototype.hasOwnProperty,i=Object.prototype.toString,n=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=function(k){return typeof Array.isArray=="function"?Array.isArray(k):i.call(k)==="[object Array]"},c=function(k){if(!k||i.call(k)!=="[object Object]")return!1;var v=t.call(k,"constructor"),_=k.constructor&&k.constructor.prototype&&t.call(k.constructor.prototype,"isPrototypeOf");if(k.constructor&&!v&&!_)return!1;var x;for(x in k);return typeof x>"u"||t.call(k,x)},d=function(k,v){n&&v.name==="__proto__"?n(k,v.name,{enumerable:!0,configurable:!0,value:v.newValue,writable:!0}):k[v.name]=v.newValue},p=function(k,v){if(v==="__proto__")if(t.call(k,v)){if(o)return o(k,v).value}else return;return k[v]};return hD=function m(){var k,v,_,x,y,D,E=arguments[0],j=1,M=arguments.length,B=!1;for(typeof E=="boolean"&&(B=E,E=arguments[1]||{},j=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});j<M;++j)if(k=arguments[j],k!=null)for(v in k)_=p(E,v),x=p(k,v),E!==x&&(B&&x&&(c(x)||(y=a(x)))?(y?(y=!1,D=_&&a(_)?_:[]):D=_&&c(_)?_:{},d(E,{name:v,newValue:m(B,D,x)})):typeof x<"u"&&d(E,{name:v,newValue:x}));return E},hD}var Eie=Sie();const CO=Ei(Eie);function g6(t){if(typeof t!="object"||t===null)return!1;const i=Object.getPrototypeOf(t);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Die(){const t=[],i={run:n,use:o};return i;function n(...a){let c=-1;const d=a.pop();if(typeof d!="function")throw new TypeError("Expected function as last argument, not "+d);p(null,...a);function p(m,...k){const v=t[++c];let _=-1;if(m){d(m);return}for(;++_<a.length;)(k[_]===null||k[_]===void 0)&&(k[_]=a[_]);a=k,v?Iie(v,p)(...k):d(null,...k)}}function o(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return t.push(a),i}}function Iie(t,i){let n;return o;function o(...d){const p=t.length>d.length;let m;p&&d.push(a);try{m=t.apply(this,d)}catch(k){const v=k;if(p&&n)throw v;return a(v)}p||(m&&m.then&&typeof m.then=="function"?m.then(c,a):m instanceof Error?a(m):c(m))}function a(d,...p){n||(n=!0,i(d,...p))}function c(d){a(null,d)}}const Tie=VR().freeze(),qR={}.hasOwnProperty;function VR(){const t=Die(),i=[];let n={},o,a=-1;return c.data=d,c.Parser=void 0,c.Compiler=void 0,c.freeze=p,c.attachers=i,c.use=m,c.parse=k,c.stringify=v,c.run=_,c.runSync=x,c.process=y,c.processSync=D,c;function c(){const E=VR();let j=-1;for(;++j<i.length;)E.use(...i[j]);return E.data(CO(!0,{},n)),E}function d(E,j){return typeof E=="string"?arguments.length===2?(mD("data",o),n[E]=j,c):qR.call(n,E)&&n[E]||null:E?(mD("data",o),n=E,c):n}function p(){if(o)return c;for(;++a<i.length;){const[E,...j]=i[a];if(j[0]===!1)continue;j[0]===!0&&(j[0]=void 0);const M=E.call(c,...j);typeof M=="function"&&t.use(M)}return o=!0,a=Number.POSITIVE_INFINITY,c}function m(E,...j){let M;if(mD("use",o),E!=null)if(typeof E=="function")J(E,...j);else if(typeof E=="object")Array.isArray(E)?G(E):z(E);else throw new TypeError("Expected usable value, not `"+E+"`");return M&&(n.settings=Object.assign(n.settings||{},M)),c;function B(H){if(typeof H=="function")J(H);else if(typeof H=="object")if(Array.isArray(H)){const[F,...Q]=H;J(F,...Q)}else z(H);else throw new TypeError("Expected usable value, not `"+H+"`")}function z(H){G(H.plugins),H.settings&&(M=Object.assign(M||{},H.settings))}function G(H){let F=-1;if(H!=null)if(Array.isArray(H))for(;++F<H.length;){const Q=H[F];B(Q)}else throw new TypeError("Expected a list of plugins, not `"+H+"`")}function J(H,F){let Q=-1,Z;for(;++Q<i.length;)if(i[Q][0]===H){Z=i[Q];break}Z?(g6(Z[1])&&g6(F)&&(F=CO(!0,Z[1],F)),Z[1]=F):i.push([...arguments])}}function k(E){c.freeze();const j=ry(E),M=c.Parser;return fD("parse",M),xO(M,"parse")?new M(String(j),j).parse():M(String(j),j)}function v(E,j){c.freeze();const M=ry(j),B=c.Compiler;return pD("stringify",B),SO(E),xO(B,"compile")?new B(E,M).compile():B(E,M)}function _(E,j,M){if(SO(E),c.freeze(),!M&&typeof j=="function"&&(M=j,j=void 0),!M)return new Promise(B);B(null,M);function B(z,G){t.run(E,ry(j),J);function J(H,F,Q){F=F||E,H?G(H):z?z(F):M(null,F,Q)}}}function x(E,j){let M,B;return c.run(E,j,z),EO("runSync","run",B),M;function z(G,J){AO(G),M=J,B=!0}}function y(E,j){if(c.freeze(),fD("process",c.Parser),pD("process",c.Compiler),!j)return new Promise(M);M(null,j);function M(B,z){const G=ry(E);c.run(c.parse(G),G,(H,F,Q)=>{if(H||!F||!Q)J(H);else{const Z=c.stringify(F,Q);Z==null||(jie(Z)?Q.value=Z:Q.result=Z),J(H,Q)}});function J(H,F){H||!F?z(H):B?B(F):j(null,F)}}}function D(E){let j;c.freeze(),fD("processSync",c.Parser),pD("processSync",c.Compiler);const M=ry(E);return c.process(M,B),EO("processSync","process",j),M;function B(z){j=!0,AO(z)}}}function xO(t,i){return typeof t=="function"&&t.prototype&&(Mie(t.prototype)||i in t.prototype)}function Mie(t){let i;for(i in t)if(qR.call(t,i))return!0;return!1}function fD(t,i){if(typeof i!="function")throw new TypeError("Cannot `"+t+"` without `Parser`")}function pD(t,i){if(typeof i!="function")throw new TypeError("Cannot `"+t+"` without `Compiler`")}function mD(t,i){if(i)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function SO(t){if(!g6(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function EO(t,i,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+i+"` instead")}function ry(t){return Nie(t)?t:new UR(t)}function Nie(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function jie(t){return typeof t=="string"||FR(t)}const Oie={};function Bie(t,i){const n=Oie,o=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return HR(t,o,a)}function HR(t,i,n){if(Lie(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(i&&"alt"in t&&t.alt)return t.alt;if("children"in t)return DO(t.children,i,n)}return Array.isArray(t)?DO(t,i,n):""}function DO(t,i,n){const o=[];let a=-1;for(;++a<t.length;)o[a]=HR(t[a],i,n);return o.join("")}function Lie(t){return!!(t&&typeof t=="object")}function bf(t,i,n,o){const a=t.length;let c=0,d;if(i<0?i=-i>a?0:a+i:i=i>a?a:i,n=n>0?n:0,o.length<1e4)d=Array.from(o),d.unshift(i,n),t.splice(...d);else for(n&&t.splice(i,n);c<o.length;)d=o.slice(c,c+1e4),d.unshift(i,0),t.splice(...d),c+=1e4,i+=1e4}function rd(t,i){return t.length>0?(bf(t,t.length,0,i),t):i}const IO={}.hasOwnProperty;function Pie(t){const i={};let n=-1;for(;++n<t.length;)Rie(i,t[n]);return i}function Rie(t,i){let n;for(n in i){const a=(IO.call(t,n)?t[n]:void 0)||(t[n]={}),c=i[n];let d;if(c)for(d in c){IO.call(a,d)||(a[d]=[]);const p=c[d];zie(a[d],Array.isArray(p)?p:p?[p]:[])}}}function zie(t,i){let n=-1;const o=[];for(;++n<i.length;)(i[n].add==="after"?t:o).push(i[n]);bf(t,0,0,o)}const Fie=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,nf=Wm(/[A-Za-z]/),lu=Wm(/[\dA-Za-z]/),Uie=Wm(/[#-'*+\--9=?A-Z^-~]/);function b6(t){return t!==null&&(t<32||t===127)}const k6=Wm(/\d/),qie=Wm(/[\dA-Fa-f]/),Vie=Wm(/[!-/:-@[-`{-~]/);function Wn(t){return t!==null&&t<-2}function hc(t){return t!==null&&(t<0||t===32)}function ci(t){return t===-2||t===-1||t===32}const Hie=Wm(Fie),$ie=Wm(/\s/);function Wm(t){return i;function i(n){return n!==null&&t.test(String.fromCharCode(n))}}function Yi(t,i,n,o){const a=o?o-1:Number.POSITIVE_INFINITY;let c=0;return d;function d(m){return ci(m)?(t.enter(n),p(m)):i(m)}function p(m){return ci(m)&&c++<a?(t.consume(m),p):(t.exit(n),i(m))}}const Wie={tokenize:Gie};function Gie(t){const i=t.attempt(this.parser.constructs.contentInitial,o,a);let n;return i;function o(p){if(p===null){t.consume(p);return}return t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),Yi(t,i,"linePrefix")}function a(p){return t.enter("paragraph"),c(p)}function c(p){const m=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=m),n=m,d(p)}function d(p){if(p===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(p);return}return Wn(p)?(t.consume(p),t.exit("chunkText"),c):(t.consume(p),d)}}const Yie={tokenize:Kie},TO={tokenize:Qie};function Kie(t){const i=this,n=[];let o=0,a,c,d;return p;function p(z){if(o<n.length){const G=n[o];return i.containerState=G[1],t.attempt(G[0].continuation,m,k)(z)}return k(z)}function m(z){if(o++,i.containerState._closeFlow){i.containerState._closeFlow=void 0,a&&B();const G=i.events.length;let J=G,H;for(;J--;)if(i.events[J][0]==="exit"&&i.events[J][1].type==="chunkFlow"){H=i.events[J][1].end;break}M(o);let F=G;for(;F<i.events.length;)i.events[F][1].end=Object.assign({},H),F++;return bf(i.events,J+1,0,i.events.slice(G)),i.events.length=F,k(z)}return p(z)}function k(z){if(o===n.length){if(!a)return x(z);if(a.currentConstruct&&a.currentConstruct.concrete)return D(z);i.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return i.containerState={},t.check(TO,v,_)(z)}function v(z){return a&&B(),M(o),x(z)}function _(z){return i.parser.lazy[i.now().line]=o!==n.length,d=i.now().offset,D(z)}function x(z){return i.containerState={},t.attempt(TO,y,D)(z)}function y(z){return o++,n.push([i.currentConstruct,i.containerState]),x(z)}function D(z){if(z===null){a&&B(),M(0),t.consume(z);return}return a=a||i.parser.flow(i.now()),t.enter("chunkFlow",{contentType:"flow",previous:c,_tokenizer:a}),E(z)}function E(z){if(z===null){j(t.exit("chunkFlow"),!0),M(0),t.consume(z);return}return Wn(z)?(t.consume(z),j(t.exit("chunkFlow")),o=0,i.interrupt=void 0,p):(t.consume(z),E)}function j(z,G){const J=i.sliceStream(z);if(G&&J.push(null),z.previous=c,c&&(c.next=z),c=z,a.defineSkip(z.start),a.write(J),i.parser.lazy[z.start.line]){let H=a.events.length;for(;H--;)if(a.events[H][1].start.offset<d&&(!a.events[H][1].end||a.events[H][1].end.offset>d))return;const F=i.events.length;let Q=F,Z,ae;for(;Q--;)if(i.events[Q][0]==="exit"&&i.events[Q][1].type==="chunkFlow"){if(Z){ae=i.events[Q][1].end;break}Z=!0}for(M(o),H=F;H<i.events.length;)i.events[H][1].end=Object.assign({},ae),H++;bf(i.events,Q+1,0,i.events.slice(F)),i.events.length=H}}function M(z){let G=n.length;for(;G-- >z;){const J=n[G];i.containerState=J[1],J[0].exit.call(i,t)}n.length=z}function B(){a.write([null]),c=void 0,a=void 0,i.containerState._closeFlow=void 0}}function Qie(t,i,n){return Yi(t,t.attempt(this.parser.constructs.document,i,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function MO(t){if(t===null||hc(t)||$ie(t))return 1;if(Hie(t))return 2}function yI(t,i,n){const o=[];let a=-1;for(;++a<t.length;){const c=t[a].resolveAll;c&&!o.includes(c)&&(i=c(i,n),o.push(c))}return i}const w6={name:"attention",tokenize:Jie,resolveAll:Zie};function Zie(t,i){let n=-1,o,a,c,d,p,m,k,v;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(o=n;o--;)if(t[o][0]==="exit"&&t[o][1].type==="attentionSequence"&&t[o][1]._open&&i.sliceSerialize(t[o][1]).charCodeAt(0)===i.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[o][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[o][1].end.offset-t[o][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;m=t[o][1].end.offset-t[o][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const _=Object.assign({},t[o][1].end),x=Object.assign({},t[n][1].start);NO(_,-m),NO(x,m),d={type:m>1?"strongSequence":"emphasisSequence",start:_,end:Object.assign({},t[o][1].end)},p={type:m>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:x},c={type:m>1?"strongText":"emphasisText",start:Object.assign({},t[o][1].end),end:Object.assign({},t[n][1].start)},a={type:m>1?"strong":"emphasis",start:Object.assign({},d.start),end:Object.assign({},p.end)},t[o][1].end=Object.assign({},d.start),t[n][1].start=Object.assign({},p.end),k=[],t[o][1].end.offset-t[o][1].start.offset&&(k=rd(k,[["enter",t[o][1],i],["exit",t[o][1],i]])),k=rd(k,[["enter",a,i],["enter",d,i],["exit",d,i],["enter",c,i]]),k=rd(k,yI(i.parser.constructs.insideSpan.null,t.slice(o+1,n),i)),k=rd(k,[["exit",c,i],["enter",p,i],["exit",p,i],["exit",a,i]]),t[n][1].end.offset-t[n][1].start.offset?(v=2,k=rd(k,[["enter",t[n][1],i],["exit",t[n][1],i]])):v=0,bf(t,o-1,n-o+3,k),n=o+k.length-v-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Jie(t,i){const n=this.parser.constructs.attentionMarkers.null,o=this.previous,a=MO(o);let c;return d;function d(m){return c=m,t.enter("attentionSequence"),p(m)}function p(m){if(m===c)return t.consume(m),p;const k=t.exit("attentionSequence"),v=MO(m),_=!v||v===2&&a||n.includes(m),x=!a||a===2&&v||n.includes(o);return k._open=!!(c===42?_:_&&(a||!x)),k._close=!!(c===42?x:x&&(v||!_)),i(m)}}function NO(t,i){t.column+=i,t.offset+=i,t._bufferIndex+=i}const Xie={name:"autolink",tokenize:eoe};function eoe(t,i,n){let o=0;return a;function a(y){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),c}function c(y){return nf(y)?(t.consume(y),d):k(y)}function d(y){return y===43||y===45||y===46||lu(y)?(o=1,p(y)):k(y)}function p(y){return y===58?(t.consume(y),o=0,m):(y===43||y===45||y===46||lu(y))&&o++<32?(t.consume(y),p):(o=0,k(y))}function m(y){return y===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),i):y===null||y===32||y===60||b6(y)?n(y):(t.consume(y),m)}function k(y){return y===64?(t.consume(y),v):Uie(y)?(t.consume(y),k):n(y)}function v(y){return lu(y)?_(y):n(y)}function _(y){return y===46?(t.consume(y),o=0,v):y===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),i):x(y)}function x(y){if((y===45||lu(y))&&o++<63){const D=y===45?x:_;return t.consume(y),D}return n(y)}}const L5={tokenize:toe,partial:!0};function toe(t,i,n){return o;function o(c){return ci(c)?Yi(t,a,"linePrefix")(c):a(c)}function a(c){return c===null||Wn(c)?i(c):n(c)}}const $R={name:"blockQuote",tokenize:noe,continuation:{tokenize:roe},exit:ioe};function noe(t,i,n){const o=this;return a;function a(d){if(d===62){const p=o.containerState;return p.open||(t.enter("blockQuote",{_container:!0}),p.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(d),t.exit("blockQuoteMarker"),c}return n(d)}function c(d){return ci(d)?(t.enter("blockQuotePrefixWhitespace"),t.consume(d),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),i):(t.exit("blockQuotePrefix"),i(d))}}function roe(t,i,n){const o=this;return a;function a(d){return ci(d)?Yi(t,c,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d):c(d)}function c(d){return t.attempt($R,i,n)(d)}}function ioe(t){t.exit("blockQuote")}const WR={name:"characterEscape",tokenize:ooe};function ooe(t,i,n){return o;function o(c){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(c),t.exit("escapeMarker"),a}function a(c){return Vie(c)?(t.enter("characterEscapeValue"),t.consume(c),t.exit("characterEscapeValue"),t.exit("characterEscape"),i):n(c)}}const jO=document.createElement("i");function AI(t){const i="&"+t+";";jO.innerHTML=i;const n=jO.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===i?!1:n}const GR={name:"characterReference",tokenize:soe};function soe(t,i,n){const o=this;let a=0,c,d;return p;function p(_){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(_),t.exit("characterReferenceMarker"),m}function m(_){return _===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(_),t.exit("characterReferenceMarkerNumeric"),k):(t.enter("characterReferenceValue"),c=31,d=lu,v(_))}function k(_){return _===88||_===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(_),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),c=6,d=qie,v):(t.enter("characterReferenceValue"),c=7,d=k6,v(_))}function v(_){if(_===59&&a){const x=t.exit("characterReferenceValue");return d===lu&&!AI(o.sliceSerialize(x))?n(_):(t.enter("characterReferenceMarker"),t.consume(_),t.exit("characterReferenceMarker"),t.exit("characterReference"),i)}return d(_)&&a++<c?(t.consume(_),v):n(_)}}const OO={tokenize:loe,partial:!0},BO={name:"codeFenced",tokenize:aoe,concrete:!0};function aoe(t,i,n){const o=this,a={tokenize:J,partial:!0};let c=0,d=0,p;return m;function m(H){return k(H)}function k(H){const F=o.events[o.events.length-1];return c=F&&F[1].type==="linePrefix"?F[2].sliceSerialize(F[1],!0).length:0,p=H,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),v(H)}function v(H){return H===p?(d++,t.consume(H),v):d<3?n(H):(t.exit("codeFencedFenceSequence"),ci(H)?Yi(t,_,"whitespace")(H):_(H))}function _(H){return H===null||Wn(H)?(t.exit("codeFencedFence"),o.interrupt?i(H):t.check(OO,E,G)(H)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),x(H))}function x(H){return H===null||Wn(H)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),_(H)):ci(H)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Yi(t,y,"whitespace")(H)):H===96&&H===p?n(H):(t.consume(H),x)}function y(H){return H===null||Wn(H)?_(H):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),D(H))}function D(H){return H===null||Wn(H)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),_(H)):H===96&&H===p?n(H):(t.consume(H),D)}function E(H){return t.attempt(a,G,j)(H)}function j(H){return t.enter("lineEnding"),t.consume(H),t.exit("lineEnding"),M}function M(H){return c>0&&ci(H)?Yi(t,B,"linePrefix",c+1)(H):B(H)}function B(H){return H===null||Wn(H)?t.check(OO,E,G)(H):(t.enter("codeFlowValue"),z(H))}function z(H){return H===null||Wn(H)?(t.exit("codeFlowValue"),B(H)):(t.consume(H),z)}function G(H){return t.exit("codeFenced"),i(H)}function J(H,F,Q){let Z=0;return ae;function ae(fe){return H.enter("lineEnding"),H.consume(fe),H.exit("lineEnding"),X}function X(fe){return H.enter("codeFencedFence"),ci(fe)?Yi(H,Y,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(fe):Y(fe)}function Y(fe){return fe===p?(H.enter("codeFencedFenceSequence"),U(fe)):Q(fe)}function U(fe){return fe===p?(Z++,H.consume(fe),U):Z>=d?(H.exit("codeFencedFenceSequence"),ci(fe)?Yi(H,q,"whitespace")(fe):q(fe)):Q(fe)}function q(fe){return fe===null||Wn(fe)?(H.exit("codeFencedFence"),F(fe)):Q(fe)}}}function loe(t,i,n){const o=this;return a;function a(d){return d===null?n(d):(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),c)}function c(d){return o.parser.lazy[o.now().line]?n(d):i(d)}}const gD={name:"codeIndented",tokenize:uoe},coe={tokenize:doe,partial:!0};function uoe(t,i,n){const o=this;return a;function a(k){return t.enter("codeIndented"),Yi(t,c,"linePrefix",5)(k)}function c(k){const v=o.events[o.events.length-1];return v&&v[1].type==="linePrefix"&&v[2].sliceSerialize(v[1],!0).length>=4?d(k):n(k)}function d(k){return k===null?m(k):Wn(k)?t.attempt(coe,d,m)(k):(t.enter("codeFlowValue"),p(k))}function p(k){return k===null||Wn(k)?(t.exit("codeFlowValue"),d(k)):(t.consume(k),p)}function m(k){return t.exit("codeIndented"),i(k)}}function doe(t,i,n){const o=this;return a;function a(d){return o.parser.lazy[o.now().line]?n(d):Wn(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),a):Yi(t,c,"linePrefix",5)(d)}function c(d){const p=o.events[o.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?i(d):Wn(d)?a(d):n(d)}}const hoe={name:"codeText",tokenize:moe,resolve:foe,previous:poe};function foe(t){let i=t.length-4,n=3,o,a;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[i][1].type==="lineEnding"||t[i][1].type==="space")){for(o=n;++o<i;)if(t[o][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[i][1].type="codeTextPadding",n+=2,i-=2;break}}for(o=n-1,i++;++o<=i;)a===void 0?o!==i&&t[o][1].type!=="lineEnding"&&(a=o):(o===i||t[o][1].type==="lineEnding")&&(t[a][1].type="codeTextData",o!==a+2&&(t[a][1].end=t[o-1][1].end,t.splice(a+2,o-a-2),i-=o-a-2,o=a+2),a=void 0);return t}function poe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function moe(t,i,n){let o=0,a,c;return d;function d(_){return t.enter("codeText"),t.enter("codeTextSequence"),p(_)}function p(_){return _===96?(t.consume(_),o++,p):(t.exit("codeTextSequence"),m(_))}function m(_){return _===null?n(_):_===32?(t.enter("space"),t.consume(_),t.exit("space"),m):_===96?(c=t.enter("codeTextSequence"),a=0,v(_)):Wn(_)?(t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),m):(t.enter("codeTextData"),k(_))}function k(_){return _===null||_===32||_===96||Wn(_)?(t.exit("codeTextData"),m(_)):(t.consume(_),k)}function v(_){return _===96?(t.consume(_),a++,v):a===o?(t.exit("codeTextSequence"),t.exit("codeText"),i(_)):(c.type="codeTextData",k(_))}}function YR(t){const i={};let n=-1,o,a,c,d,p,m,k;for(;++n<t.length;){for(;n in i;)n=i[n];if(o=t[n],n&&o[1].type==="chunkFlow"&&t[n-1][1].type==="listItemPrefix"&&(m=o[1]._tokenizer.events,c=0,c<m.length&&m[c][1].type==="lineEndingBlank"&&(c+=2),c<m.length&&m[c][1].type==="content"))for(;++c<m.length&&m[c][1].type!=="content";)m[c][1].type==="chunkText"&&(m[c][1]._isInFirstContentOfListItem=!0,c++);if(o[0]==="enter")o[1].contentType&&(Object.assign(i,goe(t,n)),n=i[n],k=!0);else if(o[1]._container){for(c=n,a=void 0;c--&&(d=t[c],d[1].type==="lineEnding"||d[1].type==="lineEndingBlank");)d[0]==="enter"&&(a&&(t[a][1].type="lineEndingBlank"),d[1].type="lineEnding",a=c);a&&(o[1].end=Object.assign({},t[a][1].start),p=t.slice(a,n),p.unshift(o),bf(t,a,n-a+1,p))}}return!k}function goe(t,i){const n=t[i][1],o=t[i][2];let a=i-1;const c=[],d=n._tokenizer||o.parser[n.contentType](n.start),p=d.events,m=[],k={};let v,_,x=-1,y=n,D=0,E=0;const j=[E];for(;y;){for(;t[++a][1]!==y;);c.push(a),y._tokenizer||(v=o.sliceStream(y),y.next||v.push(null),_&&d.defineSkip(y.start),y._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=!0),d.write(v),y._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=void 0)),_=y,y=y.next}for(y=n;++x<p.length;)p[x][0]==="exit"&&p[x-1][0]==="enter"&&p[x][1].type===p[x-1][1].type&&p[x][1].start.line!==p[x][1].end.line&&(E=x+1,j.push(E),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(d.events=[],y?(y._tokenizer=void 0,y.previous=void 0):j.pop(),x=j.length;x--;){const M=p.slice(j[x],j[x+1]),B=c.pop();m.unshift([B,B+M.length-1]),bf(t,B,2,M)}for(x=-1;++x<m.length;)k[D+m[x][0]]=D+m[x][1],D+=m[x][1]-m[x][0]-1;return k}const boe={tokenize:voe,resolve:woe},koe={tokenize:yoe,partial:!0};function woe(t){return YR(t),t}function voe(t,i){let n;return o;function o(p){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),a(p)}function a(p){return p===null?c(p):Wn(p)?t.check(koe,d,c)(p):(t.consume(p),a)}function c(p){return t.exit("chunkContent"),t.exit("content"),i(p)}function d(p){return t.consume(p),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function yoe(t,i,n){const o=this;return a;function a(d){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),Yi(t,c,"linePrefix")}function c(d){if(d===null||Wn(d))return n(d);const p=o.events[o.events.length-1];return!o.parser.constructs.disable.null.includes("codeIndented")&&p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?i(d):t.interrupt(o.parser.constructs.flow,n,i)(d)}}function KR(t,i,n,o,a,c,d,p,m){const k=m||Number.POSITIVE_INFINITY;let v=0;return _;function _(M){return M===60?(t.enter(o),t.enter(a),t.enter(c),t.consume(M),t.exit(c),x):M===null||M===32||M===41||b6(M)?n(M):(t.enter(o),t.enter(d),t.enter(p),t.enter("chunkString",{contentType:"string"}),E(M))}function x(M){return M===62?(t.enter(c),t.consume(M),t.exit(c),t.exit(a),t.exit(o),i):(t.enter(p),t.enter("chunkString",{contentType:"string"}),y(M))}function y(M){return M===62?(t.exit("chunkString"),t.exit(p),x(M)):M===null||M===60||Wn(M)?n(M):(t.consume(M),M===92?D:y)}function D(M){return M===60||M===62||M===92?(t.consume(M),y):y(M)}function E(M){return!v&&(M===null||M===41||hc(M))?(t.exit("chunkString"),t.exit(p),t.exit(d),t.exit(o),i(M)):v<k&&M===40?(t.consume(M),v++,E):M===41?(t.consume(M),v--,E):M===null||M===32||M===40||b6(M)?n(M):(t.consume(M),M===92?j:E)}function j(M){return M===40||M===41||M===92?(t.consume(M),E):E(M)}}function QR(t,i,n,o,a,c){const d=this;let p=0,m;return k;function k(y){return t.enter(o),t.enter(a),t.consume(y),t.exit(a),t.enter(c),v}function v(y){return p>999||y===null||y===91||y===93&&!m||y===94&&!p&&"_hiddenFootnoteSupport"in d.parser.constructs?n(y):y===93?(t.exit(c),t.enter(a),t.consume(y),t.exit(a),t.exit(o),i):Wn(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),v):(t.enter("chunkString",{contentType:"string"}),_(y))}function _(y){return y===null||y===91||y===93||Wn(y)||p++>999?(t.exit("chunkString"),v(y)):(t.consume(y),m||(m=!ci(y)),y===92?x:_)}function x(y){return y===91||y===92||y===93?(t.consume(y),p++,_):_(y)}}function ZR(t,i,n,o,a,c){let d;return p;function p(x){return x===34||x===39||x===40?(t.enter(o),t.enter(a),t.consume(x),t.exit(a),d=x===40?41:x,m):n(x)}function m(x){return x===d?(t.enter(a),t.consume(x),t.exit(a),t.exit(o),i):(t.enter(c),k(x))}function k(x){return x===d?(t.exit(c),m(d)):x===null?n(x):Wn(x)?(t.enter("lineEnding"),t.consume(x),t.exit("lineEnding"),Yi(t,k,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),v(x))}function v(x){return x===d||x===null||Wn(x)?(t.exit("chunkString"),k(x)):(t.consume(x),x===92?_:v)}function _(x){return x===d||x===92?(t.consume(x),v):v(x)}}function Dy(t,i){let n;return o;function o(a){return Wn(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),n=!0,o):ci(a)?Yi(t,o,n?"linePrefix":"lineSuffix")(a):i(a)}}function sk(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Aoe={name:"definition",tokenize:Coe},_oe={tokenize:xoe,partial:!0};function Coe(t,i,n){const o=this;let a;return c;function c(y){return t.enter("definition"),d(y)}function d(y){return QR.call(o,t,p,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function p(y){return a=sk(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)),y===58?(t.enter("definitionMarker"),t.consume(y),t.exit("definitionMarker"),m):n(y)}function m(y){return hc(y)?Dy(t,k)(y):k(y)}function k(y){return KR(t,v,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function v(y){return t.attempt(_oe,_,_)(y)}function _(y){return ci(y)?Yi(t,x,"whitespace")(y):x(y)}function x(y){return y===null||Wn(y)?(t.exit("definition"),o.parser.defined.push(a),i(y)):n(y)}}function xoe(t,i,n){return o;function o(p){return hc(p)?Dy(t,a)(p):n(p)}function a(p){return ZR(t,c,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(p)}function c(p){return ci(p)?Yi(t,d,"whitespace")(p):d(p)}function d(p){return p===null||Wn(p)?i(p):n(p)}}const Soe={name:"hardBreakEscape",tokenize:Eoe};function Eoe(t,i,n){return o;function o(c){return t.enter("hardBreakEscape"),t.consume(c),a}function a(c){return Wn(c)?(t.exit("hardBreakEscape"),i(c)):n(c)}}const Doe={name:"headingAtx",tokenize:Toe,resolve:Ioe};function Ioe(t,i){let n=t.length-2,o=3,a,c;return t[o][1].type==="whitespace"&&(o+=2),n-2>o&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(o===n-1||n-4>o&&t[n-2][1].type==="whitespace")&&(n-=o+1===n?2:4),n>o&&(a={type:"atxHeadingText",start:t[o][1].start,end:t[n][1].end},c={type:"chunkText",start:t[o][1].start,end:t[n][1].end,contentType:"text"},bf(t,o,n-o+1,[["enter",a,i],["enter",c,i],["exit",c,i],["exit",a,i]])),t}function Toe(t,i,n){let o=0;return a;function a(v){return t.enter("atxHeading"),c(v)}function c(v){return t.enter("atxHeadingSequence"),d(v)}function d(v){return v===35&&o++<6?(t.consume(v),d):v===null||hc(v)?(t.exit("atxHeadingSequence"),p(v)):n(v)}function p(v){return v===35?(t.enter("atxHeadingSequence"),m(v)):v===null||Wn(v)?(t.exit("atxHeading"),i(v)):ci(v)?Yi(t,p,"whitespace")(v):(t.enter("atxHeadingText"),k(v))}function m(v){return v===35?(t.consume(v),m):(t.exit("atxHeadingSequence"),p(v))}function k(v){return v===null||v===35||hc(v)?(t.exit("atxHeadingText"),p(v)):(t.consume(v),k)}}const Moe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],LO=["pre","script","style","textarea"],Noe={name:"htmlFlow",tokenize:Loe,resolveTo:Boe,concrete:!0},joe={tokenize:Roe,partial:!0},Ooe={tokenize:Poe,partial:!0};function Boe(t){let i=t.length;for(;i--&&!(t[i][0]==="enter"&&t[i][1].type==="htmlFlow"););return i>1&&t[i-2][1].type==="linePrefix"&&(t[i][1].start=t[i-2][1].start,t[i+1][1].start=t[i-2][1].start,t.splice(i-2,2)),t}function Loe(t,i,n){const o=this;let a,c,d,p,m;return k;function k(te){return v(te)}function v(te){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(te),_}function _(te){return te===33?(t.consume(te),x):te===47?(t.consume(te),c=!0,E):te===63?(t.consume(te),a=3,o.interrupt?i:ce):nf(te)?(t.consume(te),d=String.fromCharCode(te),j):n(te)}function x(te){return te===45?(t.consume(te),a=2,y):te===91?(t.consume(te),a=5,p=0,D):nf(te)?(t.consume(te),a=4,o.interrupt?i:ce):n(te)}function y(te){return te===45?(t.consume(te),o.interrupt?i:ce):n(te)}function D(te){const ke="CDATA[";return te===ke.charCodeAt(p++)?(t.consume(te),p===ke.length?o.interrupt?i:Y:D):n(te)}function E(te){return nf(te)?(t.consume(te),d=String.fromCharCode(te),j):n(te)}function j(te){if(te===null||te===47||te===62||hc(te)){const ke=te===47,be=d.toLowerCase();return!ke&&!c&&LO.includes(be)?(a=1,o.interrupt?i(te):Y(te)):Moe.includes(d.toLowerCase())?(a=6,ke?(t.consume(te),M):o.interrupt?i(te):Y(te)):(a=7,o.interrupt&&!o.parser.lazy[o.now().line]?n(te):c?B(te):z(te))}return te===45||lu(te)?(t.consume(te),d+=String.fromCharCode(te),j):n(te)}function M(te){return te===62?(t.consume(te),o.interrupt?i:Y):n(te)}function B(te){return ci(te)?(t.consume(te),B):ae(te)}function z(te){return te===47?(t.consume(te),ae):te===58||te===95||nf(te)?(t.consume(te),G):ci(te)?(t.consume(te),z):ae(te)}function G(te){return te===45||te===46||te===58||te===95||lu(te)?(t.consume(te),G):J(te)}function J(te){return te===61?(t.consume(te),H):ci(te)?(t.consume(te),J):z(te)}function H(te){return te===null||te===60||te===61||te===62||te===96?n(te):te===34||te===39?(t.consume(te),m=te,F):ci(te)?(t.consume(te),H):Q(te)}function F(te){return te===m?(t.consume(te),m=null,Z):te===null||Wn(te)?n(te):(t.consume(te),F)}function Q(te){return te===null||te===34||te===39||te===47||te===60||te===61||te===62||te===96||hc(te)?J(te):(t.consume(te),Q)}function Z(te){return te===47||te===62||ci(te)?z(te):n(te)}function ae(te){return te===62?(t.consume(te),X):n(te)}function X(te){return te===null||Wn(te)?Y(te):ci(te)?(t.consume(te),X):n(te)}function Y(te){return te===45&&a===2?(t.consume(te),ue):te===60&&a===1?(t.consume(te),de):te===62&&a===4?(t.consume(te),Ie):te===63&&a===3?(t.consume(te),ce):te===93&&a===5?(t.consume(te),Me):Wn(te)&&(a===6||a===7)?(t.exit("htmlFlowData"),t.check(joe,re,U)(te)):te===null||Wn(te)?(t.exit("htmlFlowData"),U(te)):(t.consume(te),Y)}function U(te){return t.check(Ooe,q,re)(te)}function q(te){return t.enter("lineEnding"),t.consume(te),t.exit("lineEnding"),fe}function fe(te){return te===null||Wn(te)?U(te):(t.enter("htmlFlowData"),Y(te))}function ue(te){return te===45?(t.consume(te),ce):Y(te)}function de(te){return te===47?(t.consume(te),d="",me):Y(te)}function me(te){if(te===62){const ke=d.toLowerCase();return LO.includes(ke)?(t.consume(te),Ie):Y(te)}return nf(te)&&d.length<8?(t.consume(te),d+=String.fromCharCode(te),me):Y(te)}function Me(te){return te===93?(t.consume(te),ce):Y(te)}function ce(te){return te===62?(t.consume(te),Ie):te===45&&a===2?(t.consume(te),ce):Y(te)}function Ie(te){return te===null||Wn(te)?(t.exit("htmlFlowData"),re(te)):(t.consume(te),Ie)}function re(te){return t.exit("htmlFlow"),i(te)}}function Poe(t,i,n){const o=this;return a;function a(d){return Wn(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),c):n(d)}function c(d){return o.parser.lazy[o.now().line]?n(d):i(d)}}function Roe(t,i,n){return o;function o(a){return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),t.attempt(L5,i,n)}}const zoe={name:"htmlText",tokenize:Foe};function Foe(t,i,n){const o=this;let a,c,d;return p;function p(ce){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(ce),m}function m(ce){return ce===33?(t.consume(ce),k):ce===47?(t.consume(ce),J):ce===63?(t.consume(ce),z):nf(ce)?(t.consume(ce),Q):n(ce)}function k(ce){return ce===45?(t.consume(ce),v):ce===91?(t.consume(ce),c=0,D):nf(ce)?(t.consume(ce),B):n(ce)}function v(ce){return ce===45?(t.consume(ce),y):n(ce)}function _(ce){return ce===null?n(ce):ce===45?(t.consume(ce),x):Wn(ce)?(d=_,de(ce)):(t.consume(ce),_)}function x(ce){return ce===45?(t.consume(ce),y):_(ce)}function y(ce){return ce===62?ue(ce):ce===45?x(ce):_(ce)}function D(ce){const Ie="CDATA[";return ce===Ie.charCodeAt(c++)?(t.consume(ce),c===Ie.length?E:D):n(ce)}function E(ce){return ce===null?n(ce):ce===93?(t.consume(ce),j):Wn(ce)?(d=E,de(ce)):(t.consume(ce),E)}function j(ce){return ce===93?(t.consume(ce),M):E(ce)}function M(ce){return ce===62?ue(ce):ce===93?(t.consume(ce),M):E(ce)}function B(ce){return ce===null||ce===62?ue(ce):Wn(ce)?(d=B,de(ce)):(t.consume(ce),B)}function z(ce){return ce===null?n(ce):ce===63?(t.consume(ce),G):Wn(ce)?(d=z,de(ce)):(t.consume(ce),z)}function G(ce){return ce===62?ue(ce):z(ce)}function J(ce){return nf(ce)?(t.consume(ce),H):n(ce)}function H(ce){return ce===45||lu(ce)?(t.consume(ce),H):F(ce)}function F(ce){return Wn(ce)?(d=F,de(ce)):ci(ce)?(t.consume(ce),F):ue(ce)}function Q(ce){return ce===45||lu(ce)?(t.consume(ce),Q):ce===47||ce===62||hc(ce)?Z(ce):n(ce)}function Z(ce){return ce===47?(t.consume(ce),ue):ce===58||ce===95||nf(ce)?(t.consume(ce),ae):Wn(ce)?(d=Z,de(ce)):ci(ce)?(t.consume(ce),Z):ue(ce)}function ae(ce){return ce===45||ce===46||ce===58||ce===95||lu(ce)?(t.consume(ce),ae):X(ce)}function X(ce){return ce===61?(t.consume(ce),Y):Wn(ce)?(d=X,de(ce)):ci(ce)?(t.consume(ce),X):Z(ce)}function Y(ce){return ce===null||ce===60||ce===61||ce===62||ce===96?n(ce):ce===34||ce===39?(t.consume(ce),a=ce,U):Wn(ce)?(d=Y,de(ce)):ci(ce)?(t.consume(ce),Y):(t.consume(ce),q)}function U(ce){return ce===a?(t.consume(ce),a=void 0,fe):ce===null?n(ce):Wn(ce)?(d=U,de(ce)):(t.consume(ce),U)}function q(ce){return ce===null||ce===34||ce===39||ce===60||ce===61||ce===96?n(ce):ce===47||ce===62||hc(ce)?Z(ce):(t.consume(ce),q)}function fe(ce){return ce===47||ce===62||hc(ce)?Z(ce):n(ce)}function ue(ce){return ce===62?(t.consume(ce),t.exit("htmlTextData"),t.exit("htmlText"),i):n(ce)}function de(ce){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(ce),t.exit("lineEnding"),me}function me(ce){return ci(ce)?Yi(t,Me,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ce):Me(ce)}function Me(ce){return t.enter("htmlTextData"),d(ce)}}const _I={name:"labelEnd",tokenize:Woe,resolveTo:$oe,resolveAll:Hoe},Uoe={tokenize:Goe},qoe={tokenize:Yoe},Voe={tokenize:Koe};function Hoe(t){let i=-1;for(;++i<t.length;){const n=t[i][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(i+1,n.type==="labelImage"?4:2),n.type="data",i++)}return t}function $oe(t,i){let n=t.length,o=0,a,c,d,p;for(;n--;)if(a=t[n][1],c){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;t[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(d){if(t[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(c=n,a.type!=="labelLink")){o=2;break}}else a.type==="labelEnd"&&(d=n);const m={type:t[c][1].type==="labelLink"?"link":"image",start:Object.assign({},t[c][1].start),end:Object.assign({},t[t.length-1][1].end)},k={type:"label",start:Object.assign({},t[c][1].start),end:Object.assign({},t[d][1].end)},v={type:"labelText",start:Object.assign({},t[c+o+2][1].end),end:Object.assign({},t[d-2][1].start)};return p=[["enter",m,i],["enter",k,i]],p=rd(p,t.slice(c+1,c+o+3)),p=rd(p,[["enter",v,i]]),p=rd(p,yI(i.parser.constructs.insideSpan.null,t.slice(c+o+4,d-3),i)),p=rd(p,[["exit",v,i],t[d-2],t[d-1],["exit",k,i]]),p=rd(p,t.slice(d+1)),p=rd(p,[["exit",m,i]]),bf(t,c,t.length,p),t}function Woe(t,i,n){const o=this;let a=o.events.length,c,d;for(;a--;)if((o.events[a][1].type==="labelImage"||o.events[a][1].type==="labelLink")&&!o.events[a][1]._balanced){c=o.events[a][1];break}return p;function p(x){return c?c._inactive?_(x):(d=o.parser.defined.includes(sk(o.sliceSerialize({start:c.end,end:o.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(x),t.exit("labelMarker"),t.exit("labelEnd"),m):n(x)}function m(x){return x===40?t.attempt(Uoe,v,d?v:_)(x):x===91?t.attempt(qoe,v,d?k:_)(x):d?v(x):_(x)}function k(x){return t.attempt(Voe,v,_)(x)}function v(x){return i(x)}function _(x){return c._balanced=!0,n(x)}}function Goe(t,i,n){return o;function o(_){return t.enter("resource"),t.enter("resourceMarker"),t.consume(_),t.exit("resourceMarker"),a}function a(_){return hc(_)?Dy(t,c)(_):c(_)}function c(_){return _===41?v(_):KR(t,d,p,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(_)}function d(_){return hc(_)?Dy(t,m)(_):v(_)}function p(_){return n(_)}function m(_){return _===34||_===39||_===40?ZR(t,k,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(_):v(_)}function k(_){return hc(_)?Dy(t,v)(_):v(_)}function v(_){return _===41?(t.enter("resourceMarker"),t.consume(_),t.exit("resourceMarker"),t.exit("resource"),i):n(_)}}function Yoe(t,i,n){const o=this;return a;function a(p){return QR.call(o,t,c,d,"reference","referenceMarker","referenceString")(p)}function c(p){return o.parser.defined.includes(sk(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)))?i(p):n(p)}function d(p){return n(p)}}function Koe(t,i,n){return o;function o(c){return t.enter("reference"),t.enter("referenceMarker"),t.consume(c),t.exit("referenceMarker"),a}function a(c){return c===93?(t.enter("referenceMarker"),t.consume(c),t.exit("referenceMarker"),t.exit("reference"),i):n(c)}}const Qoe={name:"labelStartImage",tokenize:Zoe,resolveAll:_I.resolveAll};function Zoe(t,i,n){const o=this;return a;function a(p){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(p),t.exit("labelImageMarker"),c}function c(p){return p===91?(t.enter("labelMarker"),t.consume(p),t.exit("labelMarker"),t.exit("labelImage"),d):n(p)}function d(p){return p===94&&"_hiddenFootnoteSupport"in o.parser.constructs?n(p):i(p)}}const Joe={name:"labelStartLink",tokenize:Xoe,resolveAll:_I.resolveAll};function Xoe(t,i,n){const o=this;return a;function a(d){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(d),t.exit("labelMarker"),t.exit("labelLink"),c}function c(d){return d===94&&"_hiddenFootnoteSupport"in o.parser.constructs?n(d):i(d)}}const bD={name:"lineEnding",tokenize:ese};function ese(t,i){return n;function n(o){return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Yi(t,i,"linePrefix")}}const Cx={name:"thematicBreak",tokenize:tse};function tse(t,i,n){let o=0,a;return c;function c(k){return t.enter("thematicBreak"),d(k)}function d(k){return a=k,p(k)}function p(k){return k===a?(t.enter("thematicBreakSequence"),m(k)):o>=3&&(k===null||Wn(k))?(t.exit("thematicBreak"),i(k)):n(k)}function m(k){return k===a?(t.consume(k),o++,m):(t.exit("thematicBreakSequence"),ci(k)?Yi(t,p,"whitespace")(k):p(k))}}const lc={name:"list",tokenize:ise,continuation:{tokenize:ose},exit:ase},nse={tokenize:lse,partial:!0},rse={tokenize:sse,partial:!0};function ise(t,i,n){const o=this,a=o.events[o.events.length-1];let c=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,d=0;return p;function p(y){const D=o.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(D==="listUnordered"?!o.containerState.marker||y===o.containerState.marker:k6(y)){if(o.containerState.type||(o.containerState.type=D,t.enter(D,{_container:!0})),D==="listUnordered")return t.enter("listItemPrefix"),y===42||y===45?t.check(Cx,n,k)(y):k(y);if(!o.interrupt||y===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),m(y)}return n(y)}function m(y){return k6(y)&&++d<10?(t.consume(y),m):(!o.interrupt||d<2)&&(o.containerState.marker?y===o.containerState.marker:y===41||y===46)?(t.exit("listItemValue"),k(y)):n(y)}function k(y){return t.enter("listItemMarker"),t.consume(y),t.exit("listItemMarker"),o.containerState.marker=o.containerState.marker||y,t.check(L5,o.interrupt?n:v,t.attempt(nse,x,_))}function v(y){return o.containerState.initialBlankLine=!0,c++,x(y)}function _(y){return ci(y)?(t.enter("listItemPrefixWhitespace"),t.consume(y),t.exit("listItemPrefixWhitespace"),x):n(y)}function x(y){return o.containerState.size=c+o.sliceSerialize(t.exit("listItemPrefix"),!0).length,i(y)}}function ose(t,i,n){const o=this;return o.containerState._closeFlow=void 0,t.check(L5,a,c);function a(p){return o.containerState.furtherBlankLines=o.containerState.furtherBlankLines||o.containerState.initialBlankLine,Yi(t,i,"listItemIndent",o.containerState.size+1)(p)}function c(p){return o.containerState.furtherBlankLines||!ci(p)?(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,d(p)):(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,t.attempt(rse,i,d)(p))}function d(p){return o.containerState._closeFlow=!0,o.interrupt=void 0,Yi(t,t.attempt(lc,i,n),"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(p)}}function sse(t,i,n){const o=this;return Yi(t,a,"listItemIndent",o.containerState.size+1);function a(c){const d=o.events[o.events.length-1];return d&&d[1].type==="listItemIndent"&&d[2].sliceSerialize(d[1],!0).length===o.containerState.size?i(c):n(c)}}function ase(t){t.exit(this.containerState.type)}function lse(t,i,n){const o=this;return Yi(t,a,"listItemPrefixWhitespace",o.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(c){const d=o.events[o.events.length-1];return!ci(c)&&d&&d[1].type==="listItemPrefixWhitespace"?i(c):n(c)}}const PO={name:"setextUnderline",tokenize:use,resolveTo:cse};function cse(t,i){let n=t.length,o,a,c;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){o=n;break}t[n][1].type==="paragraph"&&(a=n)}else t[n][1].type==="content"&&t.splice(n,1),!c&&t[n][1].type==="definition"&&(c=n);const d={type:"setextHeading",start:Object.assign({},t[a][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[a][1].type="setextHeadingText",c?(t.splice(a,0,["enter",d,i]),t.splice(c+1,0,["exit",t[o][1],i]),t[o][1].end=Object.assign({},t[c][1].end)):t[o][1]=d,t.push(["exit",d,i]),t}function use(t,i,n){const o=this;let a;return c;function c(k){let v=o.events.length,_;for(;v--;)if(o.events[v][1].type!=="lineEnding"&&o.events[v][1].type!=="linePrefix"&&o.events[v][1].type!=="content"){_=o.events[v][1].type==="paragraph";break}return!o.parser.lazy[o.now().line]&&(o.interrupt||_)?(t.enter("setextHeadingLine"),a=k,d(k)):n(k)}function d(k){return t.enter("setextHeadingLineSequence"),p(k)}function p(k){return k===a?(t.consume(k),p):(t.exit("setextHeadingLineSequence"),ci(k)?Yi(t,m,"lineSuffix")(k):m(k))}function m(k){return k===null||Wn(k)?(t.exit("setextHeadingLine"),i(k)):n(k)}}const dse={tokenize:hse};function hse(t){const i=this,n=t.attempt(L5,o,t.attempt(this.parser.constructs.flowInitial,a,Yi(t,t.attempt(this.parser.constructs.flow,a,t.attempt(boe,a)),"linePrefix")));return n;function o(c){if(c===null){t.consume(c);return}return t.enter("lineEndingBlank"),t.consume(c),t.exit("lineEndingBlank"),i.currentConstruct=void 0,n}function a(c){if(c===null){t.consume(c);return}return t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),i.currentConstruct=void 0,n}}const fse={resolveAll:XR()},pse=JR("string"),mse=JR("text");function JR(t){return{tokenize:i,resolveAll:XR(t==="text"?gse:void 0)};function i(n){const o=this,a=this.parser.constructs[t],c=n.attempt(a,d,p);return d;function d(v){return k(v)?c(v):p(v)}function p(v){if(v===null){n.consume(v);return}return n.enter("data"),n.consume(v),m}function m(v){return k(v)?(n.exit("data"),c(v)):(n.consume(v),m)}function k(v){if(v===null)return!0;const _=a[v];let x=-1;if(_)for(;++x<_.length;){const y=_[x];if(!y.previous||y.previous.call(o,o.previous))return!0}return!1}}}function XR(t){return i;function i(n,o){let a=-1,c;for(;++a<=n.length;)c===void 0?n[a]&&n[a][1].type==="data"&&(c=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==c+2&&(n[c][1].end=n[a-1][1].end,n.splice(c+2,a-c-2),a=c+2),c=void 0);return t?t(n,o):n}}function gse(t,i){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const o=t[n-1][1],a=i.sliceStream(o);let c=a.length,d=-1,p=0,m;for(;c--;){const k=a[c];if(typeof k=="string"){for(d=k.length;k.charCodeAt(d-1)===32;)p++,d--;if(d)break;d=-1}else if(k===-2)m=!0,p++;else if(k!==-1){c++;break}}if(p){const k={type:n===t.length||m||p<2?"lineSuffix":"hardBreakTrailing",start:{line:o.end.line,column:o.end.column-p,offset:o.end.offset-p,_index:o.start._index+c,_bufferIndex:c?d:o.start._bufferIndex+d},end:Object.assign({},o.end)};o.end=Object.assign({},k.start),o.start.offset===o.end.offset?Object.assign(o,k):(t.splice(n,0,["enter",k,i],["exit",k,i]),n+=2)}n++}return t}function bse(t,i,n){let o=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const a={},c=[];let d=[],p=[];const m={consume:B,enter:z,exit:G,attempt:F(J),check:F(H),interrupt:F(H,{interrupt:!0})},k={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:y,sliceSerialize:x,now:D,defineSkip:E,write:_};let v=i.tokenize.call(k,m);return i.resolveAll&&c.push(i),k;function _(X){return d=rd(d,X),j(),d[d.length-1]!==null?[]:(Q(i,0),k.events=yI(c,k.events,k),k.events)}function x(X,Y){return wse(y(X),Y)}function y(X){return kse(d,X)}function D(){const{line:X,column:Y,offset:U,_index:q,_bufferIndex:fe}=o;return{line:X,column:Y,offset:U,_index:q,_bufferIndex:fe}}function E(X){a[X.line]=X.column,ae()}function j(){let X;for(;o._index<d.length;){const Y=d[o._index];if(typeof Y=="string")for(X=o._index,o._bufferIndex<0&&(o._bufferIndex=0);o._index===X&&o._bufferIndex<Y.length;)M(Y.charCodeAt(o._bufferIndex));else M(Y)}}function M(X){v=v(X)}function B(X){Wn(X)?(o.line++,o.column=1,o.offset+=X===-3?2:1,ae()):X!==-1&&(o.column++,o.offset++),o._bufferIndex<0?o._index++:(o._bufferIndex++,o._bufferIndex===d[o._index].length&&(o._bufferIndex=-1,o._index++)),k.previous=X}function z(X,Y){const U=Y||{};return U.type=X,U.start=D(),k.events.push(["enter",U,k]),p.push(U),U}function G(X){const Y=p.pop();return Y.end=D(),k.events.push(["exit",Y,k]),Y}function J(X,Y){Q(X,Y.from)}function H(X,Y){Y.restore()}function F(X,Y){return U;function U(q,fe,ue){let de,me,Me,ce;return Array.isArray(q)?re(q):"tokenize"in q?re([q]):Ie(q);function Ie(ve){return Re;function Re(Be){const Ue=Be!==null&&ve[Be],Ze=Be!==null&&ve.null,Ge=[...Array.isArray(Ue)?Ue:Ue?[Ue]:[],...Array.isArray(Ze)?Ze:Ze?[Ze]:[]];return re(Ge)(Be)}}function re(ve){return de=ve,me=0,ve.length===0?ue:te(ve[me])}function te(ve){return Re;function Re(Be){return ce=Z(),Me=ve,ve.partial||(k.currentConstruct=ve),ve.name&&k.parser.constructs.disable.null.includes(ve.name)?be():ve.tokenize.call(Y?Object.assign(Object.create(k),Y):k,m,ke,be)(Be)}}function ke(ve){return X(Me,ce),fe}function be(ve){return ce.restore(),++me<de.length?te(de[me]):ue}}}function Q(X,Y){X.resolveAll&&!c.includes(X)&&c.push(X),X.resolve&&bf(k.events,Y,k.events.length-Y,X.resolve(k.events.slice(Y),k)),X.resolveTo&&(k.events=X.resolveTo(k.events,k))}function Z(){const X=D(),Y=k.previous,U=k.currentConstruct,q=k.events.length,fe=Array.from(p);return{restore:ue,from:q};function ue(){o=X,k.previous=Y,k.currentConstruct=U,k.events.length=q,p=fe,ae()}}function ae(){o.line in a&&o.column<2&&(o.column=a[o.line],o.offset+=a[o.line]-1)}}function kse(t,i){const n=i.start._index,o=i.start._bufferIndex,a=i.end._index,c=i.end._bufferIndex;let d;if(n===a)d=[t[n].slice(o,c)];else{if(d=t.slice(n,a),o>-1){const p=d[0];typeof p=="string"?d[0]=p.slice(o):d.shift()}c>0&&d.push(t[a].slice(0,c))}return d}function wse(t,i){let n=-1;const o=[];let a;for(;++n<t.length;){const c=t[n];let d;if(typeof c=="string")d=c;else switch(c){case-5:{d="\r";break}case-4:{d=`
`;break}case-3:{d=`\r
`;break}case-2:{d=i?" ":"	";break}case-1:{if(!i&&a)continue;d=" ";break}default:d=String.fromCharCode(c)}a=c===-2,o.push(d)}return o.join("")}const vse={42:lc,43:lc,45:lc,48:lc,49:lc,50:lc,51:lc,52:lc,53:lc,54:lc,55:lc,56:lc,57:lc,62:$R},yse={91:Aoe},Ase={[-2]:gD,[-1]:gD,32:gD},_se={35:Doe,42:Cx,45:[PO,Cx],60:Noe,61:PO,95:Cx,96:BO,126:BO},Cse={38:GR,92:WR},xse={[-5]:bD,[-4]:bD,[-3]:bD,33:Qoe,38:GR,42:w6,60:[Xie,zoe],91:Joe,92:[Soe,WR],93:_I,95:w6,96:hoe},Sse={null:[w6,fse]},Ese={null:[42,95]},Dse={null:[]},Ise=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Ese,contentInitial:yse,disable:Dse,document:vse,flow:_se,flowInitial:Ase,insideSpan:Sse,string:Cse,text:xse},Symbol.toStringTag,{value:"Module"}));function Tse(t){const n=Pie([Ise,...(t||{}).extensions||[]]),o={defined:[],lazy:{},constructs:n,content:a(Wie),document:a(Yie),flow:a(dse),string:a(pse),text:a(mse)};return o;function a(c){return d;function d(p){return bse(o,c,p)}}}const RO=/[\0\t\n\r]/g;function Mse(){let t=1,i="",n=!0,o;return a;function a(c,d,p){const m=[];let k,v,_,x,y;for(c=i+c.toString(d),_=0,i="",n&&(c.charCodeAt(0)===65279&&_++,n=void 0);_<c.length;){if(RO.lastIndex=_,k=RO.exec(c),x=k&&k.index!==void 0?k.index:c.length,y=c.charCodeAt(x),!k){i=c.slice(_);break}if(y===10&&_===x&&o)m.push(-3),o=void 0;else switch(o&&(m.push(-5),o=void 0),_<x&&(m.push(c.slice(_,x)),t+=x-_),y){case 0:{m.push(65533),t++;break}case 9:{for(v=Math.ceil(t/4)*4,m.push(-2);t++<v;)m.push(-1);break}case 10:{m.push(-4),t=1;break}default:o=!0,t=1}_=x+1}return p&&(o&&m.push(-5),i&&m.push(i),m.push(null)),m}}function Nse(t){for(;!YR(t););return t}function ez(t,i){const n=Number.parseInt(t,i);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCharCode(n)}const jse=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Ose(t){return t.replace(jse,Bse)}function Bse(t,i,n){if(i)return i;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),c=a===120||a===88;return ez(n.slice(c?2:1),c?16:10)}return AI(n)||t}const tz={}.hasOwnProperty,Lse=function(t,i,n){return typeof i!="string"&&(n=i,i=void 0),Pse(n)(Nse(Tse(n).document().write(Mse()(t,i,!0))))};function Pse(t){const i={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:p(Ke),autolinkProtocol:X,autolinkEmail:X,atxHeading:p(we),blockQuote:p(Ge),characterEscape:X,characterReference:X,codeFenced:p(ft),codeFencedFenceInfo:m,codeFencedFenceMeta:m,codeIndented:p(ft,m),codeText:p(gt,m),codeTextData:X,data:X,codeFlowValue:X,definition:p(oe),definitionDestinationString:m,definitionLabelString:m,definitionTitleString:m,emphasis:p(Pe),hardBreakEscape:p(De),hardBreakTrailing:p(De),htmlFlow:p(Ae,m),htmlFlowData:X,htmlText:p(Ae,m),htmlTextData:X,image:p(Oe),label:m,link:p(Ke),listItem:p(Fe),listItemValue:D,listOrdered:p(Xe,y),listUnordered:p(Xe),paragraph:p(dt),reference:be,referenceString:m,resourceDestinationString:m,resourceTitleString:m,setextHeading:p(we),strong:p(wt),thematicBreak:p(pt)},exit:{atxHeading:v(),atxHeadingSequence:F,autolink:v(),autolinkEmail:Ze,autolinkProtocol:Ue,blockQuote:v(),characterEscapeValue:Y,characterReferenceMarkerHexadecimal:Re,characterReferenceMarkerNumeric:Re,characterReferenceValue:Be,codeFenced:v(B),codeFencedFence:M,codeFencedFenceInfo:E,codeFencedFenceMeta:j,codeFlowValue:Y,codeIndented:v(z),codeText:v(de),codeTextData:Y,data:Y,definition:v(),definitionDestinationString:H,definitionLabelString:G,definitionTitleString:J,emphasis:v(),hardBreakEscape:v(q),hardBreakTrailing:v(q),htmlFlow:v(fe),htmlFlowData:Y,htmlText:v(ue),htmlTextData:Y,image:v(Me),label:Ie,labelText:ce,lineEnding:U,link:v(me),listItem:v(),listOrdered:v(),listUnordered:v(),paragraph:v(),referenceString:ve,resourceDestinationString:re,resourceTitleString:te,resource:ke,setextHeading:v(ae),setextHeadingLineSequence:Z,setextHeadingText:Q,strong:v(),thematicBreak:v()}};nz(i,(t||{}).mdastExtensions||[]);const n={};return o;function o(He){let at={type:"root",children:[]};const kt={stack:[at],tokenStack:[],config:i,enter:k,exit:_,buffer:m,resume:x,setData:c,getData:d},Yt=[];let yt=-1;for(;++yt<He.length;)if(He[yt][1].type==="listOrdered"||He[yt][1].type==="listUnordered")if(He[yt][0]==="enter")Yt.push(yt);else{const Bn=Yt.pop();yt=a(He,Bn,yt)}for(yt=-1;++yt<He.length;){const Bn=i[He[yt][0]];tz.call(Bn,He[yt][1].type)&&Bn[He[yt][1].type].call(Object.assign({sliceSerialize:He[yt][2].sliceSerialize},kt),He[yt][1])}if(kt.tokenStack.length>0){const Bn=kt.tokenStack[kt.tokenStack.length-1];(Bn[1]||zO).call(kt,void 0,Bn[0])}for(at.position={start:_m(He.length>0?He[0][1].start:{line:1,column:1,offset:0}),end:_m(He.length>0?He[He.length-2][1].end:{line:1,column:1,offset:0})},yt=-1;++yt<i.transforms.length;)at=i.transforms[yt](at)||at;return at}function a(He,at,kt){let Yt=at-1,yt=-1,Bn=!1,on,wr,xn,In;for(;++Yt<=kt;){const zn=He[Yt];if(zn[1].type==="listUnordered"||zn[1].type==="listOrdered"||zn[1].type==="blockQuote"?(zn[0]==="enter"?yt++:yt--,In=void 0):zn[1].type==="lineEndingBlank"?zn[0]==="enter"&&(on&&!In&&!yt&&!xn&&(xn=Yt),In=void 0):zn[1].type==="linePrefix"||zn[1].type==="listItemValue"||zn[1].type==="listItemMarker"||zn[1].type==="listItemPrefix"||zn[1].type==="listItemPrefixWhitespace"||(In=void 0),!yt&&zn[0]==="enter"&&zn[1].type==="listItemPrefix"||yt===-1&&zn[0]==="exit"&&(zn[1].type==="listUnordered"||zn[1].type==="listOrdered")){if(on){let Yn=Yt;for(wr=void 0;Yn--;){const ei=He[Yn];if(ei[1].type==="lineEnding"||ei[1].type==="lineEndingBlank"){if(ei[0]==="exit")continue;wr&&(He[wr][1].type="lineEndingBlank",Bn=!0),ei[1].type="lineEnding",wr=Yn}else if(!(ei[1].type==="linePrefix"||ei[1].type==="blockQuotePrefix"||ei[1].type==="blockQuotePrefixWhitespace"||ei[1].type==="blockQuoteMarker"||ei[1].type==="listItemIndent"))break}xn&&(!wr||xn<wr)&&(on._spread=!0),on.end=Object.assign({},wr?He[wr][1].start:zn[1].end),He.splice(wr||Yt,0,["exit",on,zn[2]]),Yt++,kt++}zn[1].type==="listItemPrefix"&&(on={type:"listItem",_spread:!1,start:Object.assign({},zn[1].start),end:void 0},He.splice(Yt,0,["enter",on,zn[2]]),Yt++,kt++,xn=void 0,In=!0)}}return He[at][1]._spread=Bn,kt}function c(He,at){n[He]=at}function d(He){return n[He]}function p(He,at){return kt;function kt(Yt){k.call(this,He(Yt),Yt),at&&at.call(this,Yt)}}function m(){this.stack.push({type:"fragment",children:[]})}function k(He,at,kt){return this.stack[this.stack.length-1].children.push(He),this.stack.push(He),this.tokenStack.push([at,kt]),He.position={start:_m(at.start)},He}function v(He){return at;function at(kt){He&&He.call(this,kt),_.call(this,kt)}}function _(He,at){const kt=this.stack.pop(),Yt=this.tokenStack.pop();if(Yt)Yt[0].type!==He.type&&(at?at.call(this,He,Yt[0]):(Yt[1]||zO).call(this,He,Yt[0]));else throw new Error("Cannot close `"+He.type+"` ("+Ey({start:He.start,end:He.end})+"): its not open");return kt.position.end=_m(He.end),kt}function x(){return Bie(this.stack.pop())}function y(){c("expectingFirstListItemValue",!0)}function D(He){if(d("expectingFirstListItemValue")){const at=this.stack[this.stack.length-2];at.start=Number.parseInt(this.sliceSerialize(He),10),c("expectingFirstListItemValue")}}function E(){const He=this.resume(),at=this.stack[this.stack.length-1];at.lang=He}function j(){const He=this.resume(),at=this.stack[this.stack.length-1];at.meta=He}function M(){d("flowCodeInside")||(this.buffer(),c("flowCodeInside",!0))}function B(){const He=this.resume(),at=this.stack[this.stack.length-1];at.value=He.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),c("flowCodeInside")}function z(){const He=this.resume(),at=this.stack[this.stack.length-1];at.value=He.replace(/(\r?\n|\r)$/g,"")}function G(He){const at=this.resume(),kt=this.stack[this.stack.length-1];kt.label=at,kt.identifier=sk(this.sliceSerialize(He)).toLowerCase()}function J(){const He=this.resume(),at=this.stack[this.stack.length-1];at.title=He}function H(){const He=this.resume(),at=this.stack[this.stack.length-1];at.url=He}function F(He){const at=this.stack[this.stack.length-1];if(!at.depth){const kt=this.sliceSerialize(He).length;at.depth=kt}}function Q(){c("setextHeadingSlurpLineEnding",!0)}function Z(He){const at=this.stack[this.stack.length-1];at.depth=this.sliceSerialize(He).charCodeAt(0)===61?1:2}function ae(){c("setextHeadingSlurpLineEnding")}function X(He){const at=this.stack[this.stack.length-1];let kt=at.children[at.children.length-1];(!kt||kt.type!=="text")&&(kt=ot(),kt.position={start:_m(He.start)},at.children.push(kt)),this.stack.push(kt)}function Y(He){const at=this.stack.pop();at.value+=this.sliceSerialize(He),at.position.end=_m(He.end)}function U(He){const at=this.stack[this.stack.length-1];if(d("atHardBreak")){const kt=at.children[at.children.length-1];kt.position.end=_m(He.end),c("atHardBreak");return}!d("setextHeadingSlurpLineEnding")&&i.canContainEols.includes(at.type)&&(X.call(this,He),Y.call(this,He))}function q(){c("atHardBreak",!0)}function fe(){const He=this.resume(),at=this.stack[this.stack.length-1];at.value=He}function ue(){const He=this.resume(),at=this.stack[this.stack.length-1];at.value=He}function de(){const He=this.resume(),at=this.stack[this.stack.length-1];at.value=He}function me(){const He=this.stack[this.stack.length-1];if(d("inReference")){const at=d("referenceType")||"shortcut";He.type+="Reference",He.referenceType=at,delete He.url,delete He.title}else delete He.identifier,delete He.label;c("referenceType")}function Me(){const He=this.stack[this.stack.length-1];if(d("inReference")){const at=d("referenceType")||"shortcut";He.type+="Reference",He.referenceType=at,delete He.url,delete He.title}else delete He.identifier,delete He.label;c("referenceType")}function ce(He){const at=this.sliceSerialize(He),kt=this.stack[this.stack.length-2];kt.label=Ose(at),kt.identifier=sk(at).toLowerCase()}function Ie(){const He=this.stack[this.stack.length-1],at=this.resume(),kt=this.stack[this.stack.length-1];if(c("inReference",!0),kt.type==="link"){const Yt=He.children;kt.children=Yt}else kt.alt=at}function re(){const He=this.resume(),at=this.stack[this.stack.length-1];at.url=He}function te(){const He=this.resume(),at=this.stack[this.stack.length-1];at.title=He}function ke(){c("inReference")}function be(){c("referenceType","collapsed")}function ve(He){const at=this.resume(),kt=this.stack[this.stack.length-1];kt.label=at,kt.identifier=sk(this.sliceSerialize(He)).toLowerCase(),c("referenceType","full")}function Re(He){c("characterReferenceType",He.type)}function Be(He){const at=this.sliceSerialize(He),kt=d("characterReferenceType");let Yt;kt?(Yt=ez(at,kt==="characterReferenceMarkerNumeric"?10:16),c("characterReferenceType")):Yt=AI(at);const yt=this.stack.pop();yt.value+=Yt,yt.position.end=_m(He.end)}function Ue(He){Y.call(this,He);const at=this.stack[this.stack.length-1];at.url=this.sliceSerialize(He)}function Ze(He){Y.call(this,He);const at=this.stack[this.stack.length-1];at.url="mailto:"+this.sliceSerialize(He)}function Ge(){return{type:"blockquote",children:[]}}function ft(){return{type:"code",lang:null,meta:null,value:""}}function gt(){return{type:"inlineCode",value:""}}function oe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Pe(){return{type:"emphasis",children:[]}}function we(){return{type:"heading",depth:void 0,children:[]}}function De(){return{type:"break"}}function Ae(){return{type:"html",value:""}}function Oe(){return{type:"image",title:null,url:"",alt:null}}function Ke(){return{type:"link",title:null,url:"",children:[]}}function Xe(He){return{type:"list",ordered:He.type==="listOrdered",start:null,spread:He._spread,children:[]}}function Fe(He){return{type:"listItem",spread:He._spread,checked:null,children:[]}}function dt(){return{type:"paragraph",children:[]}}function wt(){return{type:"strong",children:[]}}function ot(){return{type:"text",value:""}}function pt(){return{type:"thematicBreak"}}}function _m(t){return{line:t.line,column:t.column,offset:t.offset}}function nz(t,i){let n=-1;for(;++n<i.length;){const o=i[n];Array.isArray(o)?nz(t,o):Rse(t,o)}}function Rse(t,i){let n;for(n in i)if(tz.call(i,n)){if(n==="canContainEols"){const o=i[n];o&&t[n].push(...o)}else if(n==="transforms"){const o=i[n];o&&t[n].push(...o)}else if(n==="enter"||n==="exit"){const o=i[n];o&&Object.assign(t[n],o)}}}function zO(t,i){throw t?new Error("Cannot close `"+t.type+"` ("+Ey({start:t.start,end:t.end})+"): a different token (`"+i.type+"`, "+Ey({start:i.start,end:i.end})+") is open"):new Error("Cannot close document, a token (`"+i.type+"`, "+Ey({start:i.start,end:i.end})+") is still open")}function zse(t){Object.assign(this,{Parser:n=>{const o=this.data("settings");return Lse(n,Object.assign({},o,t,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function Fse(t,i){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(i),!0)};return t.patch(i,n),t.applyData(i,n)}function Use(t,i){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(i,n),[t.applyData(i,n),{type:"text",value:`
`}]}function qse(t,i){const n=i.value?i.value+`
`:"",o=i.lang?i.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,a={};o&&(a.className=["language-"+o]);let c={type:"element",tagName:"code",properties:a,children:[{type:"text",value:n}]};return i.meta&&(c.data={meta:i.meta}),t.patch(i,c),c=t.applyData(i,c),c={type:"element",tagName:"pre",properties:{},children:[c]},t.patch(i,c),c}function Vse(t,i){const n={type:"element",tagName:"del",properties:{},children:t.all(i)};return t.patch(i,n),t.applyData(i,n)}function Hse(t,i){const n={type:"element",tagName:"em",properties:{},children:t.all(i)};return t.patch(i,n),t.applyData(i,n)}function Ek(t){const i=[];let n=-1,o=0,a=0;for(;++n<t.length;){const c=t.charCodeAt(n);let d="";if(c===37&&lu(t.charCodeAt(n+1))&&lu(t.charCodeAt(n+2)))a=2;else if(c<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(c))||(d=String.fromCharCode(c));else if(c>55295&&c<57344){const p=t.charCodeAt(n+1);c<56320&&p>56319&&p<57344?(d=String.fromCharCode(c,p),a=1):d=""}else d=String.fromCharCode(c);d&&(i.push(t.slice(o,n),encodeURIComponent(d)),o=n+a+1,d=""),a&&(n+=a,a=0)}return i.join("")+t.slice(o)}function rz(t,i){const n=String(i.identifier).toUpperCase(),o=Ek(n.toLowerCase()),a=t.footnoteOrder.indexOf(n);let c;a===-1?(t.footnoteOrder.push(n),t.footnoteCounts[n]=1,c=t.footnoteOrder.length):(t.footnoteCounts[n]++,c=a+1);const d=t.footnoteCounts[n],p={type:"element",tagName:"a",properties:{href:"#"+t.clobberPrefix+"fn-"+o,id:t.clobberPrefix+"fnref-"+o+(d>1?"-"+d:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};t.patch(i,p);const m={type:"element",tagName:"sup",properties:{},children:[p]};return t.patch(i,m),t.applyData(i,m)}function $se(t,i){const n=t.footnoteById;let o=1;for(;o in n;)o++;const a=String(o);return n[a]={type:"footnoteDefinition",identifier:a,children:[{type:"paragraph",children:i.children}],position:i.position},rz(t,{type:"footnoteReference",identifier:a,position:i.position})}function Wse(t,i){const n={type:"element",tagName:"h"+i.depth,properties:{},children:t.all(i)};return t.patch(i,n),t.applyData(i,n)}function Gse(t,i){if(t.dangerous){const n={type:"raw",value:i.value};return t.patch(i,n),t.applyData(i,n)}return null}function iz(t,i){const n=i.referenceType;let o="]";if(n==="collapsed"?o+="[]":n==="full"&&(o+="["+(i.label||i.identifier)+"]"),i.type==="imageReference")return{type:"text",value:"!["+i.alt+o};const a=t.all(i),c=a[0];c&&c.type==="text"?c.value="["+c.value:a.unshift({type:"text",value:"["});const d=a[a.length-1];return d&&d.type==="text"?d.value+=o:a.push({type:"text",value:o}),a}function Yse(t,i){const n=t.definition(i.identifier);if(!n)return iz(t,i);const o={src:Ek(n.url||""),alt:i.alt};n.title!==null&&n.title!==void 0&&(o.title=n.title);const a={type:"element",tagName:"img",properties:o,children:[]};return t.patch(i,a),t.applyData(i,a)}function Kse(t,i){const n={src:Ek(i.url)};i.alt!==null&&i.alt!==void 0&&(n.alt=i.alt),i.title!==null&&i.title!==void 0&&(n.title=i.title);const o={type:"element",tagName:"img",properties:n,children:[]};return t.patch(i,o),t.applyData(i,o)}function Qse(t,i){const n={type:"text",value:i.value.replace(/\r?\n|\r/g," ")};t.patch(i,n);const o={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(i,o),t.applyData(i,o)}function Zse(t,i){const n=t.definition(i.identifier);if(!n)return iz(t,i);const o={href:Ek(n.url||"")};n.title!==null&&n.title!==void 0&&(o.title=n.title);const a={type:"element",tagName:"a",properties:o,children:t.all(i)};return t.patch(i,a),t.applyData(i,a)}function Jse(t,i){const n={href:Ek(i.url)};i.title!==null&&i.title!==void 0&&(n.title=i.title);const o={type:"element",tagName:"a",properties:n,children:t.all(i)};return t.patch(i,o),t.applyData(i,o)}function Xse(t,i,n){const o=t.all(i),a=n?eae(n):oz(i),c={},d=[];if(typeof i.checked=="boolean"){const v=o[0];let _;v&&v.type==="element"&&v.tagName==="p"?_=v:(_={type:"element",tagName:"p",properties:{},children:[]},o.unshift(_)),_.children.length>0&&_.children.unshift({type:"text",value:" "}),_.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:i.checked,disabled:!0},children:[]}),c.className=["task-list-item"]}let p=-1;for(;++p<o.length;){const v=o[p];(a||p!==0||v.type!=="element"||v.tagName!=="p")&&d.push({type:"text",value:`
`}),v.type==="element"&&v.tagName==="p"&&!a?d.push(...v.children):d.push(v)}const m=o[o.length-1];m&&(a||m.type!=="element"||m.tagName!=="p")&&d.push({type:"text",value:`
`});const k={type:"element",tagName:"li",properties:c,children:d};return t.patch(i,k),t.applyData(i,k)}function eae(t){let i=!1;if(t.type==="list"){i=t.spread||!1;const n=t.children;let o=-1;for(;!i&&++o<n.length;)i=oz(n[o])}return i}function oz(t){const i=t.spread;return i??t.children.length>1}function tae(t,i){const n={},o=t.all(i);let a=-1;for(typeof i.start=="number"&&i.start!==1&&(n.start=i.start);++a<o.length;){const d=o[a];if(d.type==="element"&&d.tagName==="li"&&d.properties&&Array.isArray(d.properties.className)&&d.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const c={type:"element",tagName:i.ordered?"ol":"ul",properties:n,children:t.wrap(o,!0)};return t.patch(i,c),t.applyData(i,c)}function nae(t,i){const n={type:"element",tagName:"p",properties:{},children:t.all(i)};return t.patch(i,n),t.applyData(i,n)}function rae(t,i){const n={type:"root",children:t.wrap(t.all(i))};return t.patch(i,n),t.applyData(i,n)}function iae(t,i){const n={type:"element",tagName:"strong",properties:{},children:t.all(i)};return t.patch(i,n),t.applyData(i,n)}const CI=sz("start"),xI=sz("end");function oae(t){return{start:CI(t),end:xI(t)}}function sz(t){return i;function i(n){const o=n&&n.position&&n.position[t]||{};return{line:o.line||null,column:o.column||null,offset:o.offset>-1?o.offset:null}}}function sae(t,i){const n=t.all(i),o=n.shift(),a=[];if(o){const d={type:"element",tagName:"thead",properties:{},children:t.wrap([o],!0)};t.patch(i.children[0],d),a.push(d)}if(n.length>0){const d={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},p=CI(i.children[1]),m=xI(i.children[i.children.length-1]);p.line&&m.line&&(d.position={start:p,end:m}),a.push(d)}const c={type:"element",tagName:"table",properties:{},children:t.wrap(a,!0)};return t.patch(i,c),t.applyData(i,c)}function aae(t,i,n){const o=n?n.children:void 0,c=(o?o.indexOf(i):1)===0?"th":"td",d=n&&n.type==="table"?n.align:void 0,p=d?d.length:i.children.length;let m=-1;const k=[];for(;++m<p;){const _=i.children[m],x={},y=d?d[m]:void 0;y&&(x.align=y);let D={type:"element",tagName:c,properties:x,children:[]};_&&(D.children=t.all(_),t.patch(_,D),D=t.applyData(i,D)),k.push(D)}const v={type:"element",tagName:"tr",properties:{},children:t.wrap(k,!0)};return t.patch(i,v),t.applyData(i,v)}function lae(t,i){const n={type:"element",tagName:"td",properties:{},children:t.all(i)};return t.patch(i,n),t.applyData(i,n)}const FO=9,UO=32;function cae(t){const i=String(t),n=/\r?\n|\r/g;let o=n.exec(i),a=0;const c=[];for(;o;)c.push(qO(i.slice(a,o.index),a>0,!0),o[0]),a=o.index+o[0].length,o=n.exec(i);return c.push(qO(i.slice(a),a>0,!1)),c.join("")}function qO(t,i,n){let o=0,a=t.length;if(i){let c=t.codePointAt(o);for(;c===FO||c===UO;)o++,c=t.codePointAt(o)}if(n){let c=t.codePointAt(a-1);for(;c===FO||c===UO;)a--,c=t.codePointAt(a-1)}return a>o?t.slice(o,a):""}function uae(t,i){const n={type:"text",value:cae(String(i.value))};return t.patch(i,n),t.applyData(i,n)}function dae(t,i){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(i,n),t.applyData(i,n)}const hae={blockquote:Fse,break:Use,code:qse,delete:Vse,emphasis:Hse,footnoteReference:rz,footnote:$se,heading:Wse,html:Gse,imageReference:Yse,image:Kse,inlineCode:Qse,linkReference:Zse,link:Jse,listItem:Xse,list:tae,paragraph:nae,root:rae,strong:iae,table:sae,tableCell:lae,tableRow:aae,text:uae,thematicBreak:dae,toml:rx,yaml:rx,definition:rx,footnoteDefinition:rx};function rx(){return null}const az=function(t){if(t==null)return gae;if(typeof t=="string")return mae(t);if(typeof t=="object")return Array.isArray(t)?fae(t):pae(t);if(typeof t=="function")return P5(t);throw new Error("Expected function, string, or object as test")};function fae(t){const i=[];let n=-1;for(;++n<t.length;)i[n]=az(t[n]);return P5(o);function o(...a){let c=-1;for(;++c<i.length;)if(i[c].call(this,...a))return!0;return!1}}function pae(t){return P5(i);function i(n){let o;for(o in t)if(n[o]!==t[o])return!1;return!0}}function mae(t){return P5(i);function i(n){return n&&n.type===t}}function P5(t){return i;function i(n,...o){return!!(n&&typeof n=="object"&&"type"in n&&t.call(this,n,...o))}}function gae(){return!0}const bae=!0,VO=!1,kae="skip",wae=function(t,i,n,o){typeof i=="function"&&typeof n!="function"&&(o=n,n=i,i=null);const a=az(i),c=o?-1:1;d(t,void 0,[])();function d(p,m,k){const v=p&&typeof p=="object"?p:{};if(typeof v.type=="string"){const x=typeof v.tagName=="string"?v.tagName:typeof v.name=="string"?v.name:void 0;Object.defineProperty(_,"name",{value:"node ("+(p.type+(x?"<"+x+">":""))+")"})}return _;function _(){let x=[],y,D,E;if((!i||a(p,m,k[k.length-1]||null))&&(x=vae(n(p,k)),x[0]===VO))return x;if(p.children&&x[0]!==kae)for(D=(o?p.children.length:-1)+c,E=k.concat(p);D>-1&&D<p.children.length;){if(y=d(p.children[D],D,E)(),y[0]===VO)return y;D=typeof y[1]=="number"?y[1]:D+c}return x}}};function vae(t){return Array.isArray(t)?t:typeof t=="number"?[bae,t]:[t]}const SI=function(t,i,n,o){typeof i=="function"&&typeof n!="function"&&(o=n,n=i,i=null),wae(t,i,a,o);function a(c,d){const p=d[d.length-1];return n(c,p?p.children.indexOf(c):null,p)}};function yae(t){return!t||!t.position||!t.position.start||!t.position.start.line||!t.position.start.column||!t.position.end||!t.position.end.line||!t.position.end.column}const HO={}.hasOwnProperty;function Aae(t){const i=Object.create(null);if(!t||!t.type)throw new Error("mdast-util-definitions expected node");return SI(t,"definition",o=>{const a=$O(o.identifier);a&&!HO.call(i,a)&&(i[a]=o)}),n;function n(o){const a=$O(o);return a&&HO.call(i,a)?i[a]:null}}function $O(t){return String(t||"").toUpperCase()}const o5={}.hasOwnProperty;function _ae(t,i){const n=i||{},o=n.allowDangerousHtml||!1,a={};return d.dangerous=o,d.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,d.footnoteLabel=n.footnoteLabel||"Footnotes",d.footnoteLabelTagName=n.footnoteLabelTagName||"h2",d.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},d.footnoteBackLabel=n.footnoteBackLabel||"Back to content",d.unknownHandler=n.unknownHandler,d.passThrough=n.passThrough,d.handlers={...hae,...n.handlers},d.definition=Aae(t),d.footnoteById=a,d.footnoteOrder=[],d.footnoteCounts={},d.patch=Cae,d.applyData=xae,d.one=p,d.all=m,d.wrap=Eae,d.augment=c,SI(t,"footnoteDefinition",k=>{const v=String(k.identifier).toUpperCase();o5.call(a,v)||(a[v]=k)}),d;function c(k,v){if(k&&"data"in k&&k.data){const _=k.data;_.hName&&(v.type!=="element"&&(v={type:"element",tagName:"",properties:{},children:[]}),v.tagName=_.hName),v.type==="element"&&_.hProperties&&(v.properties={...v.properties,..._.hProperties}),"children"in v&&v.children&&_.hChildren&&(v.children=_.hChildren)}if(k){const _="type"in k?k:{position:k};yae(_)||(v.position={start:CI(_),end:xI(_)})}return v}function d(k,v,_,x){return Array.isArray(_)&&(x=_,_={}),c(k,{type:"element",tagName:v,properties:_||{},children:x||[]})}function p(k,v){return lz(d,k,v)}function m(k){return EI(d,k)}}function Cae(t,i){t.position&&(i.position=oae(t))}function xae(t,i){let n=i;if(t&&t.data){const o=t.data.hName,a=t.data.hChildren,c=t.data.hProperties;typeof o=="string"&&(n.type==="element"?n.tagName=o:n={type:"element",tagName:o,properties:{},children:[]}),n.type==="element"&&c&&(n.properties={...n.properties,...c}),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function lz(t,i,n){const o=i&&i.type;if(!o)throw new Error("Expected node, got `"+i+"`");return o5.call(t.handlers,o)?t.handlers[o](t,i,n):t.passThrough&&t.passThrough.includes(o)?"children"in i?{...i,children:EI(t,i)}:i:t.unknownHandler?t.unknownHandler(t,i,n):Sae(t,i)}function EI(t,i){const n=[];if("children"in i){const o=i.children;let a=-1;for(;++a<o.length;){const c=lz(t,o[a],i);if(c){if(a&&o[a-1].type==="break"&&(!Array.isArray(c)&&c.type==="text"&&(c.value=c.value.replace(/^\s+/,"")),!Array.isArray(c)&&c.type==="element")){const d=c.children[0];d&&d.type==="text"&&(d.value=d.value.replace(/^\s+/,""))}Array.isArray(c)?n.push(...c):n.push(c)}}}return n}function Sae(t,i){const n=i.data||{},o="value"in i&&!(o5.call(n,"hProperties")||o5.call(n,"hChildren"))?{type:"text",value:i.value}:{type:"element",tagName:"div",properties:{},children:EI(t,i)};return t.patch(i,o),t.applyData(i,o)}function Eae(t,i){const n=[];let o=-1;for(i&&n.push({type:"text",value:`
`});++o<t.length;)o&&n.push({type:"text",value:`
`}),n.push(t[o]);return i&&t.length>0&&n.push({type:"text",value:`
`}),n}function Dae(t){const i=[];let n=-1;for(;++n<t.footnoteOrder.length;){const o=t.footnoteById[t.footnoteOrder[n]];if(!o)continue;const a=t.all(o),c=String(o.identifier).toUpperCase(),d=Ek(c.toLowerCase());let p=0;const m=[];for(;++p<=t.footnoteCounts[c];){const _={type:"element",tagName:"a",properties:{href:"#"+t.clobberPrefix+"fnref-"+d+(p>1?"-"+p:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:t.footnoteBackLabel},children:[{type:"text",value:""}]};p>1&&_.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(p)}]}),m.length>0&&m.push({type:"text",value:" "}),m.push(_)}const k=a[a.length-1];if(k&&k.type==="element"&&k.tagName==="p"){const _=k.children[k.children.length-1];_&&_.type==="text"?_.value+=" ":k.children.push({type:"text",value:" "}),k.children.push(...m)}else a.push(...m);const v={type:"element",tagName:"li",properties:{id:t.clobberPrefix+"fn-"+d},children:t.wrap(a,!0)};t.patch(o,v),i.push(v)}if(i.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:t.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(t.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:t.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(i,!0)},{type:"text",value:`
`}]}}function cz(t,i){const n=_ae(t,i),o=n.one(t,null),a=Dae(n);return a&&o.children.push({type:"text",value:`
`},a),Array.isArray(o)?{type:"root",children:o}:o}const Iae=function(t,i){return t&&"run"in t?Tae(t,i):Mae(t||i)};function Tae(t,i){return(n,o,a)=>{t.run(cz(n,i),o,c=>{a(c)})}}function Mae(t){return i=>cz(i,t)}class pA{constructor(i,n,o){this.property=i,this.normal=n,o&&(this.space=o)}}pA.prototype.property={};pA.prototype.normal={};pA.prototype.space=null;function uz(t,i){const n={},o={};let a=-1;for(;++a<t.length;)Object.assign(n,t[a].property),Object.assign(o,t[a].normal);return new pA(n,o,i)}function v6(t){return t.toLowerCase()}class ud{constructor(i,n){this.property=i,this.attribute=n}}ud.prototype.space=null;ud.prototype.boolean=!1;ud.prototype.booleanish=!1;ud.prototype.overloadedBoolean=!1;ud.prototype.number=!1;ud.prototype.commaSeparated=!1;ud.prototype.spaceSeparated=!1;ud.prototype.commaOrSpaceSeparated=!1;ud.prototype.mustUseProperty=!1;ud.prototype.defined=!1;let Nae=0;const cr=yb(),Os=yb(),dz=yb(),Zt=yb(),Gi=yb(),ak=yb(),tu=yb();function yb(){return 2**++Nae}const y6=Object.freeze(Object.defineProperty({__proto__:null,boolean:cr,booleanish:Os,commaOrSpaceSeparated:tu,commaSeparated:ak,number:Zt,overloadedBoolean:dz,spaceSeparated:Gi},Symbol.toStringTag,{value:"Module"})),kD=Object.keys(y6);class DI extends ud{constructor(i,n,o,a){let c=-1;if(super(i,n),WO(this,"space",a),typeof o=="number")for(;++c<kD.length;){const d=kD[c];WO(this,kD[c],(o&y6[d])===y6[d])}}}DI.prototype.defined=!0;function WO(t,i,n){n&&(t[i]=n)}const jae={}.hasOwnProperty;function Dk(t){const i={},n={};let o;for(o in t.properties)if(jae.call(t.properties,o)){const a=t.properties[o],c=new DI(o,t.transform(t.attributes||{},o),a,t.space);t.mustUseProperty&&t.mustUseProperty.includes(o)&&(c.mustUseProperty=!0),i[o]=c,n[v6(o)]=o,n[v6(c.attribute)]=o}return new pA(i,n,t.space)}const hz=Dk({space:"xlink",transform(t,i){return"xlink:"+i.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),fz=Dk({space:"xml",transform(t,i){return"xml:"+i.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function pz(t,i){return i in t?t[i]:i}function mz(t,i){return pz(t,i.toLowerCase())}const gz=Dk({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:mz,properties:{xmlns:null,xmlnsXLink:null}}),bz=Dk({transform(t,i){return i==="role"?i:"aria-"+i.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Os,ariaAutoComplete:null,ariaBusy:Os,ariaChecked:Os,ariaColCount:Zt,ariaColIndex:Zt,ariaColSpan:Zt,ariaControls:Gi,ariaCurrent:null,ariaDescribedBy:Gi,ariaDetails:null,ariaDisabled:Os,ariaDropEffect:Gi,ariaErrorMessage:null,ariaExpanded:Os,ariaFlowTo:Gi,ariaGrabbed:Os,ariaHasPopup:null,ariaHidden:Os,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Gi,ariaLevel:Zt,ariaLive:null,ariaModal:Os,ariaMultiLine:Os,ariaMultiSelectable:Os,ariaOrientation:null,ariaOwns:Gi,ariaPlaceholder:null,ariaPosInSet:Zt,ariaPressed:Os,ariaReadOnly:Os,ariaRelevant:null,ariaRequired:Os,ariaRoleDescription:Gi,ariaRowCount:Zt,ariaRowIndex:Zt,ariaRowSpan:Zt,ariaSelected:Os,ariaSetSize:Zt,ariaSort:null,ariaValueMax:Zt,ariaValueMin:Zt,ariaValueNow:Zt,ariaValueText:null,role:null}}),Oae=Dk({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:mz,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ak,acceptCharset:Gi,accessKey:Gi,action:null,allow:null,allowFullScreen:cr,allowPaymentRequest:cr,allowUserMedia:cr,alt:null,as:null,async:cr,autoCapitalize:null,autoComplete:Gi,autoFocus:cr,autoPlay:cr,blocking:Gi,capture:null,charSet:null,checked:cr,cite:null,className:Gi,cols:Zt,colSpan:null,content:null,contentEditable:Os,controls:cr,controlsList:Gi,coords:Zt|ak,crossOrigin:null,data:null,dateTime:null,decoding:null,default:cr,defer:cr,dir:null,dirName:null,disabled:cr,download:dz,draggable:Os,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:cr,formTarget:null,headers:Gi,height:Zt,hidden:cr,high:Zt,href:null,hrefLang:null,htmlFor:Gi,httpEquiv:Gi,id:null,imageSizes:null,imageSrcSet:null,inert:cr,inputMode:null,integrity:null,is:null,isMap:cr,itemId:null,itemProp:Gi,itemRef:Gi,itemScope:cr,itemType:Gi,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:cr,low:Zt,manifest:null,max:null,maxLength:Zt,media:null,method:null,min:null,minLength:Zt,multiple:cr,muted:cr,name:null,nonce:null,noModule:cr,noValidate:cr,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:cr,optimum:Zt,pattern:null,ping:Gi,placeholder:null,playsInline:cr,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:cr,referrerPolicy:null,rel:Gi,required:cr,reversed:cr,rows:Zt,rowSpan:Zt,sandbox:Gi,scope:null,scoped:cr,seamless:cr,selected:cr,shadowRootClonable:cr,shadowRootDelegatesFocus:cr,shadowRootMode:null,shape:null,size:Zt,sizes:null,slot:null,span:Zt,spellCheck:Os,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Zt,step:null,style:null,tabIndex:Zt,target:null,title:null,translate:null,type:null,typeMustMatch:cr,useMap:null,value:Os,width:Zt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Gi,axis:null,background:null,bgColor:null,border:Zt,borderColor:null,bottomMargin:Zt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:cr,declare:cr,event:null,face:null,frame:null,frameBorder:null,hSpace:Zt,leftMargin:Zt,link:null,longDesc:null,lowSrc:null,marginHeight:Zt,marginWidth:Zt,noResize:cr,noHref:cr,noShade:cr,noWrap:cr,object:null,profile:null,prompt:null,rev:null,rightMargin:Zt,rules:null,scheme:null,scrolling:Os,standby:null,summary:null,text:null,topMargin:Zt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Zt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:cr,disableRemotePlayback:cr,prefix:null,property:null,results:Zt,security:null,unselectable:null}}),Bae=Dk({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:pz,properties:{about:tu,accentHeight:Zt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Zt,amplitude:Zt,arabicForm:null,ascent:Zt,attributeName:null,attributeType:null,azimuth:Zt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Zt,by:null,calcMode:null,capHeight:Zt,className:Gi,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Zt,diffuseConstant:Zt,direction:null,display:null,dur:null,divisor:Zt,dominantBaseline:null,download:cr,dx:null,dy:null,edgeMode:null,editable:null,elevation:Zt,enableBackground:null,end:null,event:null,exponent:Zt,externalResourcesRequired:null,fill:null,fillOpacity:Zt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ak,g2:ak,glyphName:ak,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Zt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Zt,horizOriginX:Zt,horizOriginY:Zt,id:null,ideographic:Zt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Zt,k:Zt,k1:Zt,k2:Zt,k3:Zt,k4:Zt,kernelMatrix:tu,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Zt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Zt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Zt,overlineThickness:Zt,paintOrder:null,panose1:null,path:null,pathLength:Zt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Gi,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Zt,pointsAtY:Zt,pointsAtZ:Zt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:tu,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:tu,rev:tu,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:tu,requiredFeatures:tu,requiredFonts:tu,requiredFormats:tu,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Zt,specularExponent:Zt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Zt,strikethroughThickness:Zt,string:null,stroke:null,strokeDashArray:tu,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Zt,strokeOpacity:Zt,strokeWidth:null,style:null,surfaceScale:Zt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:tu,tabIndex:Zt,tableValues:null,target:null,targetX:Zt,targetY:Zt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:tu,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Zt,underlineThickness:Zt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Zt,values:null,vAlphabetic:Zt,vMathematical:Zt,vectorEffect:null,vHanging:Zt,vIdeographic:Zt,version:null,vertAdvY:Zt,vertOriginX:Zt,vertOriginY:Zt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Zt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Lae=/^data[-\w.:]+$/i,GO=/-[a-z]/g,Pae=/[A-Z]/g;function Rae(t,i){const n=v6(i);let o=i,a=ud;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Lae.test(i)){if(i.charAt(4)==="-"){const c=i.slice(5).replace(GO,Fae);o="data"+c.charAt(0).toUpperCase()+c.slice(1)}else{const c=i.slice(4);if(!GO.test(c)){let d=c.replace(Pae,zae);d.charAt(0)!=="-"&&(d="-"+d),i="data"+d}}a=DI}return new a(o,i)}function zae(t){return"-"+t.toLowerCase()}function Fae(t){return t.charAt(1).toUpperCase()}const YO={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Uae=uz([fz,hz,gz,bz,Oae],"html"),qae=uz([fz,hz,gz,bz,Bae],"svg");function Vae(t){if(t.allowedElements&&t.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(t.allowedElements||t.disallowedElements||t.allowElement)return i=>{SI(i,"element",(n,o,a)=>{const c=a;let d;if(t.allowedElements?d=!t.allowedElements.includes(n.tagName):t.disallowedElements&&(d=t.disallowedElements.includes(n.tagName)),!d&&t.allowElement&&typeof o=="number"&&(d=!t.allowElement(n,o,c)),d&&typeof o=="number")return t.unwrapDisallowed&&n.children?c.children.splice(o,1,...n.children):c.children.splice(o,1),o})}}var wD={exports:{}},mi={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KO;function Hae(){if(KO)return mi;KO=1;var t=Symbol.for("react.element"),i=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),p=Symbol.for("react.server_context"),m=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),D;D=Symbol.for("react.module.reference");function E(j){if(typeof j=="object"&&j!==null){var M=j.$$typeof;switch(M){case t:switch(j=j.type,j){case n:case a:case o:case k:case v:return j;default:switch(j=j&&j.$$typeof,j){case p:case d:case m:case x:case _:case c:return j;default:return M}}case i:return M}}}return mi.ContextConsumer=d,mi.ContextProvider=c,mi.Element=t,mi.ForwardRef=m,mi.Fragment=n,mi.Lazy=x,mi.Memo=_,mi.Portal=i,mi.Profiler=a,mi.StrictMode=o,mi.Suspense=k,mi.SuspenseList=v,mi.isAsyncMode=function(){return!1},mi.isConcurrentMode=function(){return!1},mi.isContextConsumer=function(j){return E(j)===d},mi.isContextProvider=function(j){return E(j)===c},mi.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===t},mi.isForwardRef=function(j){return E(j)===m},mi.isFragment=function(j){return E(j)===n},mi.isLazy=function(j){return E(j)===x},mi.isMemo=function(j){return E(j)===_},mi.isPortal=function(j){return E(j)===i},mi.isProfiler=function(j){return E(j)===a},mi.isStrictMode=function(j){return E(j)===o},mi.isSuspense=function(j){return E(j)===k},mi.isSuspenseList=function(j){return E(j)===v},mi.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===n||j===a||j===o||j===k||j===v||j===y||typeof j=="object"&&j!==null&&(j.$$typeof===x||j.$$typeof===_||j.$$typeof===c||j.$$typeof===d||j.$$typeof===m||j.$$typeof===D||j.getModuleId!==void 0)},mi.typeOf=E,mi}var QO;function $ae(){return QO||(QO=1,wD.exports=Hae()),wD.exports}var Wae=$ae();const Gae=Ei(Wae);function Yae(t){const i=t&&typeof t=="object"&&t.type==="text"?t.value||"":t;return typeof i=="string"&&i.replace(/[ \t\n\f\r]/g,"")===""}function Kae(t){return t.join(" ").trim()}function Qae(t,i){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var ix={exports:{}},vD,ZO;function Zae(){if(ZO)return vD;ZO=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,i=/\n/g,n=/^\s*/,o=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,c=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,d=/^[;\s]*/,p=/^\s+|\s+$/g,m=`
`,k="/",v="*",_="",x="comment",y="declaration";vD=function(E,j){if(typeof E!="string")throw new TypeError("First argument must be a string");if(!E)return[];j=j||{};var M=1,B=1;function z(U){var q=U.match(i);q&&(M+=q.length);var fe=U.lastIndexOf(m);B=~fe?U.length-fe:B+U.length}function G(){var U={line:M,column:B};return function(q){return q.position=new J(U),Q(),q}}function J(U){this.start=U,this.end={line:M,column:B},this.source=j.source}J.prototype.content=E;function H(U){var q=new Error(j.source+":"+M+":"+B+": "+U);if(q.reason=U,q.filename=j.source,q.line=M,q.column=B,q.source=E,!j.silent)throw q}function F(U){var q=U.exec(E);if(q){var fe=q[0];return z(fe),E=E.slice(fe.length),q}}function Q(){F(n)}function Z(U){var q;for(U=U||[];q=ae();)q!==!1&&U.push(q);return U}function ae(){var U=G();if(!(k!=E.charAt(0)||v!=E.charAt(1))){for(var q=2;_!=E.charAt(q)&&(v!=E.charAt(q)||k!=E.charAt(q+1));)++q;if(q+=2,_===E.charAt(q-1))return H("End of comment missing");var fe=E.slice(2,q-2);return B+=2,z(fe),E=E.slice(q),B+=2,U({type:x,comment:fe})}}function X(){var U=G(),q=F(o);if(q){if(ae(),!F(a))return H("property missing ':'");var fe=F(c),ue=U({type:y,property:D(q[0].replace(t,_)),value:fe?D(fe[0].replace(t,_)):_});return F(d),ue}}function Y(){var U=[];Z(U);for(var q;q=X();)q!==!1&&(U.push(q),Z(U));return U}return Q(),Y()};function D(E){return E?E.replace(p,_):_}return vD}var JO;function Jae(){if(JO)return ix.exports;JO=1;var t=Zae();function i(n,o){var a=null;if(!n||typeof n!="string")return a;for(var c,d=t(n),p=typeof o=="function",m,k,v=0,_=d.length;v<_;v++)c=d[v],m=c.property,k=c.value,p?o(m,k,c):k&&(a||(a={}),a[m]=k);return a}return ix.exports=i,ix.exports.default=i,ix.exports}var Xae=Jae();const ele=Ei(Xae),A6={}.hasOwnProperty,tle=new Set(["table","thead","tbody","tfoot","tr"]);function kz(t,i){const n=[];let o=-1,a;for(;++o<i.children.length;)a=i.children[o],a.type==="element"?n.push(nle(t,a,o,i)):a.type==="text"?(i.type!=="element"||!tle.has(i.tagName)||!Yae(a))&&n.push(a.value):a.type==="raw"&&!t.options.skipHtml&&n.push(a.value);return n}function nle(t,i,n,o){const a=t.options,c=a.transformLinkUri===void 0?hie:a.transformLinkUri,d=t.schema,p=i.tagName,m={};let k=d,v;if(d.space==="html"&&p==="svg"&&(k=qae,t.schema=k),i.properties)for(v in i.properties)A6.call(i.properties,v)&&ile(m,v,i.properties[v],t);(p==="ol"||p==="ul")&&t.listDepth++;const _=kz(t,i);(p==="ol"||p==="ul")&&t.listDepth--,t.schema=d;const x=i.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},y=a.components&&A6.call(a.components,p)?a.components[p]:p,D=typeof y=="string"||y===vt.Fragment;if(!Gae.isValidElementType(y))throw new TypeError(`Component for name \`${p}\` not defined or is not renderable`);if(m.key=n,p==="a"&&a.linkTarget&&(m.target=typeof a.linkTarget=="function"?a.linkTarget(String(m.href||""),i.children,typeof m.title=="string"?m.title:null):a.linkTarget),p==="a"&&c&&(m.href=c(String(m.href||""),i.children,typeof m.title=="string"?m.title:null)),!D&&p==="code"&&o.type==="element"&&o.tagName!=="pre"&&(m.inline=!0),!D&&(p==="h1"||p==="h2"||p==="h3"||p==="h4"||p==="h5"||p==="h6")&&(m.level=Number.parseInt(p.charAt(1),10)),p==="img"&&a.transformImageUri&&(m.src=a.transformImageUri(String(m.src||""),String(m.alt||""),typeof m.title=="string"?m.title:null)),!D&&p==="li"&&o.type==="element"){const E=rle(i);m.checked=E&&E.properties?!!E.properties.checked:null,m.index=yD(o,i),m.ordered=o.tagName==="ol"}return!D&&(p==="ol"||p==="ul")&&(m.ordered=p==="ol",m.depth=t.listDepth),(p==="td"||p==="th")&&(m.align&&(m.style||(m.style={}),m.style.textAlign=m.align,delete m.align),D||(m.isHeader=p==="th")),!D&&p==="tr"&&o.type==="element"&&(m.isHeader=o.tagName==="thead"),a.sourcePos&&(m["data-sourcepos"]=ale(x)),!D&&a.rawSourcePos&&(m.sourcePosition=i.position),!D&&a.includeElementIndex&&(m.index=yD(o,i),m.siblingCount=yD(o)),D||(m.node=i),_.length>0?vt.createElement(y,m,_):vt.createElement(y,m)}function rle(t){let i=-1;for(;++i<t.children.length;){const n=t.children[i];if(n.type==="element"&&n.tagName==="input")return n}return null}function yD(t,i){let n=-1,o=0;for(;++n<t.children.length&&t.children[n]!==i;)t.children[n].type==="element"&&o++;return o}function ile(t,i,n,o){const a=Rae(o.schema,i);let c=n;c==null||c!==c||(Array.isArray(c)&&(c=a.commaSeparated?Qae(c):Kae(c)),a.property==="style"&&typeof c=="string"&&(c=ole(c)),a.space&&a.property?t[A6.call(YO,a.property)?YO[a.property]:a.property]=c:a.attribute&&(t[a.attribute]=c))}function ole(t){const i={};try{ele(t,n)}catch{}return i;function n(o,a){const c=o.slice(0,4)==="-ms-"?`ms-${o.slice(4)}`:o;i[c.replace(/-([a-z])/g,sle)]=a}}function sle(t,i){return i.toUpperCase()}function ale(t){return[t.start.line,":",t.start.column,"-",t.end.line,":",t.end.column].map(String).join("")}const XO={}.hasOwnProperty,lle="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",ox={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function II(t){for(const c in ox)if(XO.call(ox,c)&&XO.call(t,c)){const d=ox[c];console.warn(`[react-markdown] Warning: please ${d.to?`use \`${d.to}\` instead of`:"remove"} \`${c}\` (see <${lle}#${d.id}> for more info)`),delete ox[c]}const i=Tie().use(zse).use(t.remarkPlugins||[]).use(Iae,{...t.remarkRehypeOptions,allowDangerousHtml:!0}).use(t.rehypePlugins||[]).use(Vae,t),n=new UR;typeof t.children=="string"?n.value=t.children:t.children!==void 0&&t.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${t.children}\`)`);const o=i.runSync(i.parse(n),n);if(o.type!=="root")throw new TypeError("Expected a `root` node");let a=vt.createElement(vt.Fragment,{},kz({options:t,schema:Uae,listDepth:0},o));return t.className&&(a=vt.createElement("div",{className:t.className},a)),a}II.propTypes={children:Xn.string,className:Xn.string,allowElement:Xn.func,allowedElements:Xn.arrayOf(Xn.string),disallowedElements:Xn.arrayOf(Xn.string),unwrapDisallowed:Xn.bool,remarkPlugins:Xn.arrayOf(Xn.oneOfType([Xn.object,Xn.func,Xn.arrayOf(Xn.oneOfType([Xn.bool,Xn.string,Xn.object,Xn.func,Xn.arrayOf(Xn.any)]))])),rehypePlugins:Xn.arrayOf(Xn.oneOfType([Xn.object,Xn.func,Xn.arrayOf(Xn.oneOfType([Xn.bool,Xn.string,Xn.object,Xn.func,Xn.arrayOf(Xn.any)]))])),sourcePos:Xn.bool,rawSourcePos:Xn.bool,skipHtml:Xn.bool,includeElementIndex:Xn.bool,transformLinkUri:Xn.oneOfType([Xn.func,Xn.bool]),linkTarget:Xn.oneOfType([Xn.func,Xn.string]),transformImageUri:Xn.func,components:Xn.object};function TI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function bp(t){if(t.__esModule)return t;var i=t.default;if(typeof i=="function"){var n=function o(){return this instanceof o?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};n.prototype=i.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(o){var a=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:function(){return t[o]}})}),n}var eB={exports:{}},iy={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tB;function cle(){if(tB)return iy;tB=1;var t=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function n(o,a,c){var d=null;if(c!==void 0&&(d=""+c),a.key!==void 0&&(d=""+a.key),"key"in a){c={};for(var p in a)p!=="key"&&(c[p]=a[p])}else c=a;return a=c.ref,{$$typeof:t,type:o,key:d,ref:a!==void 0?a:null,props:c}}return iy.Fragment=i,iy.jsx=n,iy.jsxs=n,iy}var nB;function MI(){return nB||(nB=1,eB.exports=cle()),eB.exports}var Kn=MI(),oy={},rB={exports:{}},iB;function R5(){return iB||(iB=1,function(t){function i(n){return n&&n.__esModule?n:{default:n}}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}(rB)),rB.exports}var oB={};function Oi(){return Oi=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var o in n)({}).hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Oi.apply(null,arguments)}function xm(t){if(typeof t!="object"||t===null)return!1;const i=Object.getPrototypeOf(t);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function wz(t){if(se.isValidElement(t)||!xm(t))return t;const i={};return Object.keys(t).forEach(n=>{i[n]=wz(t[n])}),i}function uf(t,i,n={clone:!0}){const o=n.clone?Oi({},t):t;return xm(t)&&xm(i)&&Object.keys(i).forEach(a=>{se.isValidElement(i[a])?o[a]=i[a]:xm(i[a])&&Object.prototype.hasOwnProperty.call(t,a)&&xm(t[a])?o[a]=uf(t[a],i[a],n):n.clone?o[a]=xm(i[a])?wz(i[a]):i[a]:o[a]=i[a]}),o}const ule=Object.freeze(Object.defineProperty({__proto__:null,default:uf,isPlainObject:xm},Symbol.toStringTag,{value:"Module"}));function Hy(t){let i="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)i+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+i+" for the full message."}const dle=Object.freeze(Object.defineProperty({__proto__:null,default:Hy},Symbol.toStringTag,{value:"Module"}));var sB={exports:{}},Ni={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aB;function hle(){if(aB)return Ni;aB=1;var t=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),y=Symbol.for("react.client.reference");function D(E){if(typeof E=="object"&&E!==null){var j=E.$$typeof;switch(j){case t:switch(E=E.type,E){case n:case a:case o:case m:case k:return E;default:switch(E=E&&E.$$typeof,E){case d:case p:case _:case v:return E;case c:return E;default:return j}}case i:return j}}}return Ni.ContextConsumer=c,Ni.ContextProvider=d,Ni.Element=t,Ni.ForwardRef=p,Ni.Fragment=n,Ni.Lazy=_,Ni.Memo=v,Ni.Portal=i,Ni.Profiler=a,Ni.StrictMode=o,Ni.Suspense=m,Ni.SuspenseList=k,Ni.isContextConsumer=function(E){return D(E)===c},Ni.isContextProvider=function(E){return D(E)===d},Ni.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},Ni.isForwardRef=function(E){return D(E)===p},Ni.isFragment=function(E){return D(E)===n},Ni.isLazy=function(E){return D(E)===_},Ni.isMemo=function(E){return D(E)===v},Ni.isPortal=function(E){return D(E)===i},Ni.isProfiler=function(E){return D(E)===a},Ni.isStrictMode=function(E){return D(E)===o},Ni.isSuspense=function(E){return D(E)===m},Ni.isSuspenseList=function(E){return D(E)===k},Ni.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===a||E===o||E===m||E===k||E===x||typeof E=="object"&&E!==null&&(E.$$typeof===_||E.$$typeof===v||E.$$typeof===d||E.$$typeof===c||E.$$typeof===p||E.$$typeof===y||E.getModuleId!==void 0)},Ni.typeOf=D,Ni}var lB;function fle(){return lB||(lB=1,sB.exports=hle()),sB.exports}var cB=fle();const ple=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function vz(t){const i=`${t}`.match(ple);return i&&i[1]||""}function yz(t,i=""){return t.displayName||t.name||vz(t)||i}function uB(t,i,n){const o=yz(i);return t.displayName||(o!==""?`${n}(${o})`:n)}function mle(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return yz(t,"Component");if(typeof t=="object")switch(t.$$typeof){case cB.ForwardRef:return uB(t,t.render,"ForwardRef");case cB.Memo:return uB(t,t.type,"memo");default:return}}}const gle=Object.freeze(Object.defineProperty({__proto__:null,default:mle,getFunctionName:vz},Symbol.toStringTag,{value:"Module"}));function qm(t){if(typeof t!="string")throw new Error(Hy(7));return t.charAt(0).toUpperCase()+t.slice(1)}const ble=Object.freeze(Object.defineProperty({__proto__:null,default:qm},Symbol.toStringTag,{value:"Module"}));function kle(...t){return t.reduce((i,n)=>n==null?i:function(...o){i.apply(this,o),n.apply(this,o)},()=>{})}function wle(t,i=166){let n;function o(...a){const c=()=>{t.apply(this,a)};clearTimeout(n),n=setTimeout(c,i)}return o.clear=()=>{clearTimeout(n)},o}function vle(t,i){return()=>null}function yle(t,i){var n,o;return se.isValidElement(t)&&i.indexOf((n=t.type.muiName)!=null?n:(o=t.type)==null||(o=o._payload)==null||(o=o.value)==null?void 0:o.muiName)!==-1}function Az(t){return t&&t.ownerDocument||document}function Ale(t){return Az(t).defaultView||window}function _le(t,i){return()=>null}function _z(t,i){typeof t=="function"?t(i):t&&(t.current=i)}const Cz=typeof window<"u"?se.useLayoutEffect:se.useEffect;let dB=0;function Cle(t){const[i,n]=se.useState(t),o=t||i;return se.useEffect(()=>{i==null&&(dB+=1,n(`mui-${dB}`))},[i]),o}const hB=se.useId;function xle(t){if(hB!==void 0){const i=hB();return t??i}return Cle(t)}function Sle(t,i,n,o,a){return null}function Ele({controlled:t,default:i,name:n,state:o="value"}){const{current:a}=se.useRef(t!==void 0),[c,d]=se.useState(i),p=a?t:c,m=se.useCallback(k=>{a||d(k)},[]);return[p,m]}function Dle(t){const i=se.useRef(t);return Cz(()=>{i.current=t}),se.useRef((...n)=>(0,i.current)(...n)).current}function Ile(...t){return se.useMemo(()=>t.every(i=>i==null)?null:i=>{t.forEach(n=>{_z(n,i)})},t)}let Tle=class xz{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new xz}start(i,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},i)}},z5=!0,_6=!1;const Mle=new Tle,Nle={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function jle(t){const{type:i,tagName:n}=t;return!!(n==="INPUT"&&Nle[i]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function Ole(t){t.metaKey||t.altKey||t.ctrlKey||(z5=!0)}function AD(){z5=!1}function Ble(){this.visibilityState==="hidden"&&_6&&(z5=!0)}function Lle(t){t.addEventListener("keydown",Ole,!0),t.addEventListener("mousedown",AD,!0),t.addEventListener("pointerdown",AD,!0),t.addEventListener("touchstart",AD,!0),t.addEventListener("visibilitychange",Ble,!0)}function Ple(t){const{target:i}=t;try{return i.matches(":focus-visible")}catch{}return z5||jle(i)}function Rle(){const t=se.useCallback(a=>{a!=null&&Lle(a.ownerDocument)},[]),i=se.useRef(!1);function n(){return i.current?(_6=!0,Mle.start(100,()=>{_6=!1}),i.current=!1,!0):!1}function o(a){return Ple(a)?(i.current=!0,!0):!1}return{isFocusVisibleRef:i,onFocus:o,onBlur:n,ref:t}}function C6(t,i){const n=Oi({},i);return Object.keys(t).forEach(o=>{if(o.toString().match(/^(components|slots)$/))n[o]=Oi({},t[o],n[o]);else if(o.toString().match(/^(componentsProps|slotProps)$/)){const a=t[o]||{},c=i[o];n[o]={},!c||!Object.keys(c)?n[o]=a:!a||!Object.keys(a)?n[o]=c:(n[o]=Oi({},c),Object.keys(a).forEach(d=>{n[o][d]=C6(a[d],c[d])}))}else n[o]===void 0&&(n[o]=t[o])}),n}function zle(t,i,n=void 0){const o={};return Object.keys(t).forEach(a=>{o[a]=t[a].reduce((c,d)=>{if(d){const p=i(d);p!==""&&c.push(p),n&&n[d]&&c.push(n[d])}return c},[]).join(" ")}),o}const fB=t=>t,Fle=()=>{let t=fB;return{configure(i){t=i},generate(i){return t(i)},reset(){t=fB}}},Sz=Fle(),Ule={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ez(t,i,n="Mui"){const o=Ule[i];return o?`${n}-${o}`:`${Sz.generate(t)}-${i}`}function qle(t,i,n="Mui"){const o={};return i.forEach(a=>{o[a]=Ez(t,a,n)}),o}function Vle(t,i=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(i,Math.min(t,n))}const Hle=Object.freeze(Object.defineProperty({__proto__:null,default:Vle},Symbol.toStringTag,{value:"Module"}));function Gm(t,i){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(i.includes(o))continue;n[o]=t[o]}return n}function Dz(t){var i,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(i=0;i<a;i++)t[i]&&(n=Dz(t[i]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function $le(){for(var t,i,n=0,o="",a=arguments.length;n<a;n++)(t=arguments[n])&&(i=Dz(t))&&(o&&(o+=" "),o+=i);return o}const Wle=se.createContext(void 0);function Gle(t){const{theme:i,name:n,props:o}=t;if(!i||!i.components||!i.components[n])return o;const a=i.components[n];return a.defaultProps?C6(a.defaultProps,o):!a.styleOverrides&&!a.variants?C6(a,o):o}function Yle({props:t,name:i}){const n=se.useContext(Wle);return Gle({props:t,name:i,theme:{components:n}})}function Kle(t){return Yle(t)}var qg={},pB={exports:{}},mB;function Qle(){return mB||(mB=1,function(t){function i(){return t.exports=i=Object.assign?Object.assign.bind():function(n){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var c in a)({}).hasOwnProperty.call(a,c)&&(n[c]=a[c])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,i.apply(null,arguments)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}(pB)),pB.exports}var gB={exports:{}},bB;function Zle(){return bB||(bB=1,function(t){function i(n,o){if(n==null)return{};var a={};for(var c in n)if({}.hasOwnProperty.call(n,c)){if(o.includes(c))continue;a[c]=n[c]}return a}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}(gB)),gB.exports}function Jle(t){if(t.sheet)return t.sheet;for(var i=0;i<document.styleSheets.length;i++)if(document.styleSheets[i].ownerNode===t)return document.styleSheets[i]}function Xle(t){var i=document.createElement("style");return i.setAttribute("data-emotion",t.key),t.nonce!==void 0&&i.setAttribute("nonce",t.nonce),i.appendChild(document.createTextNode("")),i.setAttribute("data-s",""),i}var ece=function(){function t(n){var o=this;this._insertTag=function(a){var c;o.tags.length===0?o.insertionPoint?c=o.insertionPoint.nextSibling:o.prepend?c=o.container.firstChild:c=o.before:c=o.tags[o.tags.length-1].nextSibling,o.container.insertBefore(a,c),o.tags.push(a)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var i=t.prototype;return i.hydrate=function(n){n.forEach(this._insertTag)},i.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Xle(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var a=Jle(o);try{a.insertRule(n,a.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(n));this.ctr++},i.flush=function(){this.tags.forEach(function(n){var o;return(o=n.parentNode)==null?void 0:o.removeChild(n)}),this.tags=[],this.ctr=0},t}(),il="-ms-",s5="-moz-",oi="-webkit-",Iz="comm",NI="rule",jI="decl",tce="@import",Tz="@keyframes",nce="@layer",rce=Math.abs,F5=String.fromCharCode,ice=Object.assign;function oce(t,i){return Ia(t,0)^45?(((i<<2^Ia(t,0))<<2^Ia(t,1))<<2^Ia(t,2))<<2^Ia(t,3):0}function Mz(t){return t.trim()}function sce(t,i){return(t=i.exec(t))?t[0]:t}function ai(t,i,n){return t.replace(i,n)}function x6(t,i){return t.indexOf(i)}function Ia(t,i){return t.charCodeAt(i)|0}function $y(t,i,n){return t.slice(i,n)}function Kh(t){return t.length}function OI(t){return t.length}function sx(t,i){return i.push(t),t}function ace(t,i){return t.map(i).join("")}var U5=1,wk=1,Nz=0,mc=0,Bs=0,Ik="";function q5(t,i,n,o,a,c,d){return{value:t,root:i,parent:n,type:o,props:a,children:c,line:U5,column:wk,length:d,return:""}}function sy(t,i){return ice(q5("",null,null,"",null,null,0),t,{length:-t.length},i)}function lce(){return Bs}function cce(){return Bs=mc>0?Ia(Ik,--mc):0,wk--,Bs===10&&(wk=1,U5--),Bs}function du(){return Bs=mc<Nz?Ia(Ik,mc++):0,wk++,Bs===10&&(wk=1,U5++),Bs}function df(){return Ia(Ik,mc)}function xx(){return mc}function mA(t,i){return $y(Ik,t,i)}function Wy(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function jz(t){return U5=wk=1,Nz=Kh(Ik=t),mc=0,[]}function Oz(t){return Ik="",t}function Sx(t){return Mz(mA(mc-1,S6(t===91?t+2:t===40?t+1:t)))}function uce(t){for(;(Bs=df())&&Bs<33;)du();return Wy(t)>2||Wy(Bs)>3?"":" "}function dce(t,i){for(;--i&&du()&&!(Bs<48||Bs>102||Bs>57&&Bs<65||Bs>70&&Bs<97););return mA(t,xx()+(i<6&&df()==32&&du()==32))}function S6(t){for(;du();)switch(Bs){case t:return mc;case 34:case 39:t!==34&&t!==39&&S6(Bs);break;case 40:t===41&&S6(t);break;case 92:du();break}return mc}function hce(t,i){for(;du()&&t+Bs!==57&&!(t+Bs===84&&df()===47););return"/*"+mA(i,mc-1)+"*"+F5(t===47?t:du())}function fce(t){for(;!Wy(df());)du();return mA(t,mc)}function pce(t){return Oz(Ex("",null,null,null,[""],t=jz(t),0,[0],t))}function Ex(t,i,n,o,a,c,d,p,m){for(var k=0,v=0,_=d,x=0,y=0,D=0,E=1,j=1,M=1,B=0,z="",G=a,J=c,H=o,F=z;j;)switch(D=B,B=du()){case 40:if(D!=108&&Ia(F,_-1)==58){x6(F+=ai(Sx(B),"&","&\f"),"&\f")!=-1&&(M=-1);break}case 34:case 39:case 91:F+=Sx(B);break;case 9:case 10:case 13:case 32:F+=uce(D);break;case 92:F+=dce(xx()-1,7);continue;case 47:switch(df()){case 42:case 47:sx(mce(hce(du(),xx()),i,n),m);break;default:F+="/"}break;case 123*E:p[k++]=Kh(F)*M;case 125*E:case 59:case 0:switch(B){case 0:case 125:j=0;case 59+v:M==-1&&(F=ai(F,/\f/g,"")),y>0&&Kh(F)-_&&sx(y>32?wB(F+";",o,n,_-1):wB(ai(F," ","")+";",o,n,_-2),m);break;case 59:F+=";";default:if(sx(H=kB(F,i,n,k,v,a,p,z,G=[],J=[],_),c),B===123)if(v===0)Ex(F,i,H,H,G,c,_,p,J);else switch(x===99&&Ia(F,3)===110?100:x){case 100:case 108:case 109:case 115:Ex(t,H,H,o&&sx(kB(t,H,H,0,0,a,p,z,a,G=[],_),J),a,J,_,p,o?G:J);break;default:Ex(F,H,H,H,[""],J,0,p,J)}}k=v=y=0,E=M=1,z=F="",_=d;break;case 58:_=1+Kh(F),y=D;default:if(E<1){if(B==123)--E;else if(B==125&&E++==0&&cce()==125)continue}switch(F+=F5(B),B*E){case 38:M=v>0?1:(F+="\f",-1);break;case 44:p[k++]=(Kh(F)-1)*M,M=1;break;case 64:df()===45&&(F+=Sx(du())),x=df(),v=_=Kh(z=F+=fce(xx())),B++;break;case 45:D===45&&Kh(F)==2&&(E=0)}}return c}function kB(t,i,n,o,a,c,d,p,m,k,v){for(var _=a-1,x=a===0?c:[""],y=OI(x),D=0,E=0,j=0;D<o;++D)for(var M=0,B=$y(t,_+1,_=rce(E=d[D])),z=t;M<y;++M)(z=Mz(E>0?x[M]+" "+B:ai(B,/&\f/g,x[M])))&&(m[j++]=z);return q5(t,i,n,a===0?NI:p,m,k,v)}function mce(t,i,n){return q5(t,i,n,Iz,F5(lce()),$y(t,2,-2),0)}function wB(t,i,n,o){return q5(t,i,n,jI,$y(t,0,o),$y(t,o+1,-1),o)}function lk(t,i){for(var n="",o=OI(t),a=0;a<o;a++)n+=i(t[a],a,t,i)||"";return n}function gce(t,i,n,o){switch(t.type){case nce:if(t.children.length)break;case tce:case jI:return t.return=t.return||t.value;case Iz:return"";case Tz:return t.return=t.value+"{"+lk(t.children,o)+"}";case NI:t.value=t.props.join(",")}return Kh(n=lk(t.children,o))?t.return=t.value+"{"+n+"}":""}function bce(t){var i=OI(t);return function(n,o,a,c){for(var d="",p=0;p<i;p++)d+=t[p](n,o,a,c)||"";return d}}function kce(t){return function(i){i.root||(i=i.return)&&t(i)}}var wce=function(t,i,n){for(var o=0,a=0;o=a,a=df(),o===38&&a===12&&(i[n]=1),!Wy(a);)du();return mA(t,mc)},vce=function(t,i){var n=-1,o=44;do switch(Wy(o)){case 0:o===38&&df()===12&&(i[n]=1),t[n]+=wce(mc-1,i,n);break;case 2:t[n]+=Sx(o);break;case 4:if(o===44){t[++n]=df()===58?"&\f":"",i[n]=t[n].length;break}default:t[n]+=F5(o)}while(o=du());return t},yce=function(t,i){return Oz(vce(jz(t),i))},vB=new WeakMap,Ace=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var i=t.value,n=t.parent,o=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&i.charCodeAt(0)!==58&&!vB.get(n))&&!o){vB.set(t,!0);for(var a=[],c=yce(i,a),d=n.props,p=0,m=0;p<c.length;p++)for(var k=0;k<d.length;k++,m++)t.props[m]=a[p]?c[p].replace(/&\f/g,d[k]):d[k]+" "+c[p]}}},_ce=function(t){if(t.type==="decl"){var i=t.value;i.charCodeAt(0)===108&&i.charCodeAt(2)===98&&(t.return="",t.value="")}};function Bz(t,i){switch(oce(t,i)){case 5103:return oi+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return oi+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return oi+t+s5+t+il+t+t;case 6828:case 4268:return oi+t+il+t+t;case 6165:return oi+t+il+"flex-"+t+t;case 5187:return oi+t+ai(t,/(\w+).+(:[^]+)/,oi+"box-$1$2"+il+"flex-$1$2")+t;case 5443:return oi+t+il+"flex-item-"+ai(t,/flex-|-self/,"")+t;case 4675:return oi+t+il+"flex-line-pack"+ai(t,/align-content|flex-|-self/,"")+t;case 5548:return oi+t+il+ai(t,"shrink","negative")+t;case 5292:return oi+t+il+ai(t,"basis","preferred-size")+t;case 6060:return oi+"box-"+ai(t,"-grow","")+oi+t+il+ai(t,"grow","positive")+t;case 4554:return oi+ai(t,/([^-])(transform)/g,"$1"+oi+"$2")+t;case 6187:return ai(ai(ai(t,/(zoom-|grab)/,oi+"$1"),/(image-set)/,oi+"$1"),t,"")+t;case 5495:case 3959:return ai(t,/(image-set\([^]*)/,oi+"$1$`$1");case 4968:return ai(ai(t,/(.+:)(flex-)?(.*)/,oi+"box-pack:$3"+il+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+oi+t+t;case 4095:case 3583:case 4068:case 2532:return ai(t,/(.+)-inline(.+)/,oi+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Kh(t)-1-i>6)switch(Ia(t,i+1)){case 109:if(Ia(t,i+4)!==45)break;case 102:return ai(t,/(.+:)(.+)-([^]+)/,"$1"+oi+"$2-$3$1"+s5+(Ia(t,i+3)==108?"$3":"$2-$3"))+t;case 115:return~x6(t,"stretch")?Bz(ai(t,"stretch","fill-available"),i)+t:t}break;case 4949:if(Ia(t,i+1)!==115)break;case 6444:switch(Ia(t,Kh(t)-3-(~x6(t,"!important")&&10))){case 107:return ai(t,":",":"+oi)+t;case 101:return ai(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+oi+(Ia(t,14)===45?"inline-":"")+"box$3$1"+oi+"$2$3$1"+il+"$2box$3")+t}break;case 5936:switch(Ia(t,i+11)){case 114:return oi+t+il+ai(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return oi+t+il+ai(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return oi+t+il+ai(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return oi+t+il+t+t}return t}var Cce=function(t,i,n,o){if(t.length>-1&&!t.return)switch(t.type){case jI:t.return=Bz(t.value,t.length);break;case Tz:return lk([sy(t,{value:ai(t.value,"@","@"+oi)})],o);case NI:if(t.length)return ace(t.props,function(a){switch(sce(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return lk([sy(t,{props:[ai(a,/:(read-\w+)/,":"+s5+"$1")]})],o);case"::placeholder":return lk([sy(t,{props:[ai(a,/:(plac\w+)/,":"+oi+"input-$1")]}),sy(t,{props:[ai(a,/:(plac\w+)/,":"+s5+"$1")]}),sy(t,{props:[ai(a,/:(plac\w+)/,il+"input-$1")]})],o)}return""})}},xce=[Cce],Sce=function(t){var i=t.key;if(i==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(D){var E=D.getAttribute("data-emotion");E.indexOf(" ")!==-1&&(document.head.appendChild(D),D.setAttribute("data-s",""))})}var o=t.stylisPlugins||xce,a={},c,d=[];c=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+i+' "]'),function(D){for(var E=D.getAttribute("data-emotion").split(" "),j=1;j<E.length;j++)a[E[j]]=!0;d.push(D)});var p,m=[Ace,_ce];{var k,v=[gce,kce(function(D){k.insert(D)})],_=bce(m.concat(o,v)),x=function(D){return lk(pce(D),_)};p=function(D,E,j,M){k=j,x(D?D+"{"+E.styles+"}":E.styles),M&&(y.inserted[E.name]=!0)}}var y={key:i,sheet:new ece({key:i,container:c,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:p};return y.sheet.hydrate(d),y};let E6;typeof document=="object"&&(E6=Sce({key:"css",prepend:!0}));function Ece(t){const{injectFirst:i,children:n}=t;return i&&E6?Kn.jsx(KL,{value:E6,children:n}):n}function Dce(t){return t==null||Object.keys(t).length===0}function Ice(t){const{styles:i,defaultTheme:n={}}=t,o=typeof i=="function"?a=>i(Dce(a)?n:a):i;return Kn.jsx(QL,{styles:o})}/**
 * @mui/styled-engine v5.16.12
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Tce(t,i){return YL(t,i)}const Mce=(t,i)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=i(t.__emotion_styles))},Nce=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:Ice,StyledEngineProvider:Ece,ThemeContext:GL,css:WL,default:Tce,internal_processStyles:Mce,keyframes:$L},Symbol.toStringTag,{value:"Module"})),jce=bp(Nce),Oce=bp(ule),Bce=bp(ble),Lce=bp(gle),Pce=["values","unit","step"],Rce=t=>{const i=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return i.sort((n,o)=>n.val-o.val),i.reduce((n,o)=>Oi({},n,{[o.key]:o.val}),{})};function Lz(t){const{values:i={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:o=5}=t,a=Gm(t,Pce),c=Rce(i),d=Object.keys(c);function p(x){return`@media (min-width:${typeof i[x]=="number"?i[x]:x}${n})`}function m(x){return`@media (max-width:${(typeof i[x]=="number"?i[x]:x)-o/100}${n})`}function k(x,y){const D=d.indexOf(y);return`@media (min-width:${typeof i[x]=="number"?i[x]:x}${n}) and (max-width:${(D!==-1&&typeof i[d[D]]=="number"?i[d[D]]:y)-o/100}${n})`}function v(x){return d.indexOf(x)+1<d.length?k(x,d[d.indexOf(x)+1]):p(x)}function _(x){const y=d.indexOf(x);return y===0?p(d[1]):y===d.length-1?m(d[y]):k(x,d[d.indexOf(x)+1]).replace("@media","@media not all and")}return Oi({keys:d,values:c,up:p,down:m,between:k,only:v,not:_,unit:n},a)}const zce={borderRadius:4};function Iy(t,i){return i?uf(t,i,{clone:!1}):t}const BI={xs:0,sm:600,md:900,lg:1200,xl:1536},yB={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${BI[t]}px)`};function mp(t,i,n){const o=t.theme||{};if(Array.isArray(i)){const a=o.breakpoints||yB;return i.reduce((c,d,p)=>(c[a.up(a.keys[p])]=n(i[p]),c),{})}if(typeof i=="object"){const a=o.breakpoints||yB;return Object.keys(i).reduce((c,d)=>{if(Object.keys(a.values||BI).indexOf(d)!==-1){const p=a.up(d);c[p]=n(i[d],d)}else{const p=d;c[p]=i[p]}return c},{})}return n(i)}function Fce(t={}){var i;return((i=t.keys)==null?void 0:i.reduce((n,o)=>{const a=t.up(o);return n[a]={},n},{}))||{}}function Uce(t,i){return t.reduce((n,o)=>{const a=n[o];return(!a||Object.keys(a).length===0)&&delete n[o],n},i)}function V5(t,i,n=!0){if(!i||typeof i!="string")return null;if(t&&t.vars&&n){const o=`vars.${i}`.split(".").reduce((a,c)=>a&&a[c]?a[c]:null,t);if(o!=null)return o}return i.split(".").reduce((o,a)=>o&&o[a]!=null?o[a]:null,t)}function a5(t,i,n,o=n){let a;return typeof t=="function"?a=t(n):Array.isArray(t)?a=t[n]||o:a=V5(t,n)||o,i&&(a=i(a,o,t)),a}function As(t){const{prop:i,cssProperty:n=t.prop,themeKey:o,transform:a}=t,c=d=>{if(d[i]==null)return null;const p=d[i],m=d.theme,k=V5(m,o)||{};return mp(d,p,v=>{let _=a5(k,a,v);return v===_&&typeof v=="string"&&(_=a5(k,a,`${i}${v==="default"?"":qm(v)}`,v)),n===!1?_:{[n]:_}})};return c.propTypes={},c.filterProps=[i],c}function qce(t){const i={};return n=>(i[n]===void 0&&(i[n]=t(n)),i[n])}const Vce={m:"margin",p:"padding"},Hce={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},AB={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},$ce=qce(t=>{if(t.length>2)if(AB[t])t=AB[t];else return[t];const[i,n]=t.split(""),o=Vce[i],a=Hce[n]||"";return Array.isArray(a)?a.map(c=>o+c):[o+a]}),LI=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],PI=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...LI,...PI];function gA(t,i,n,o){var a;const c=(a=V5(t,i,!1))!=null?a:n;return typeof c=="number"?d=>typeof d=="string"?d:c*d:Array.isArray(c)?d=>typeof d=="string"?d:c[d]:typeof c=="function"?c:()=>{}}function Pz(t){return gA(t,"spacing",8)}function bA(t,i){if(typeof i=="string"||i==null)return i;const n=Math.abs(i),o=t(n);return i>=0?o:typeof o=="number"?-o:`-${o}`}function Wce(t,i){return n=>t.reduce((o,a)=>(o[a]=bA(i,n),o),{})}function Gce(t,i,n,o){if(i.indexOf(n)===-1)return null;const a=$ce(n),c=Wce(a,o),d=t[n];return mp(t,d,c)}function Rz(t,i){const n=Pz(t.theme);return Object.keys(t).map(o=>Gce(t,i,o,n)).reduce(Iy,{})}function Qo(t){return Rz(t,LI)}Qo.propTypes={};Qo.filterProps=LI;function Zo(t){return Rz(t,PI)}Zo.propTypes={};Zo.filterProps=PI;function Yce(t=8){if(t.mui)return t;const i=Pz({spacing:t}),n=(...o)=>(o.length===0?[1]:o).map(a=>{const c=i(a);return typeof c=="number"?`${c}px`:c}).join(" ");return n.mui=!0,n}function H5(...t){const i=t.reduce((o,a)=>(a.filterProps.forEach(c=>{o[c]=a}),o),{}),n=o=>Object.keys(o).reduce((a,c)=>i[c]?Iy(a,i[c](o)):a,{});return n.propTypes={},n.filterProps=t.reduce((o,a)=>o.concat(a.filterProps),[]),n}function id(t){return typeof t!="number"?t:`${t}px solid`}function dd(t,i){return As({prop:t,themeKey:"borders",transform:i})}const Kce=dd("border",id),Qce=dd("borderTop",id),Zce=dd("borderRight",id),Jce=dd("borderBottom",id),Xce=dd("borderLeft",id),eue=dd("borderColor"),tue=dd("borderTopColor"),nue=dd("borderRightColor"),rue=dd("borderBottomColor"),iue=dd("borderLeftColor"),oue=dd("outline",id),sue=dd("outlineColor"),$5=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const i=gA(t.theme,"shape.borderRadius",4),n=o=>({borderRadius:bA(i,o)});return mp(t,t.borderRadius,n)}return null};$5.propTypes={};$5.filterProps=["borderRadius"];H5(Kce,Qce,Zce,Jce,Xce,eue,tue,nue,rue,iue,$5,oue,sue);const W5=t=>{if(t.gap!==void 0&&t.gap!==null){const i=gA(t.theme,"spacing",8),n=o=>({gap:bA(i,o)});return mp(t,t.gap,n)}return null};W5.propTypes={};W5.filterProps=["gap"];const G5=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const i=gA(t.theme,"spacing",8),n=o=>({columnGap:bA(i,o)});return mp(t,t.columnGap,n)}return null};G5.propTypes={};G5.filterProps=["columnGap"];const Y5=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const i=gA(t.theme,"spacing",8),n=o=>({rowGap:bA(i,o)});return mp(t,t.rowGap,n)}return null};Y5.propTypes={};Y5.filterProps=["rowGap"];const aue=As({prop:"gridColumn"}),lue=As({prop:"gridRow"}),cue=As({prop:"gridAutoFlow"}),uue=As({prop:"gridAutoColumns"}),due=As({prop:"gridAutoRows"}),hue=As({prop:"gridTemplateColumns"}),fue=As({prop:"gridTemplateRows"}),pue=As({prop:"gridTemplateAreas"}),mue=As({prop:"gridArea"});H5(W5,G5,Y5,aue,lue,cue,uue,due,hue,fue,pue,mue);function ck(t,i){return i==="grey"?i:t}const gue=As({prop:"color",themeKey:"palette",transform:ck}),bue=As({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ck}),kue=As({prop:"backgroundColor",themeKey:"palette",transform:ck});H5(gue,bue,kue);function ou(t){return t<=1&&t!==0?`${t*100}%`:t}const wue=As({prop:"width",transform:ou}),RI=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const i=n=>{var o,a;const c=((o=t.theme)==null||(o=o.breakpoints)==null||(o=o.values)==null?void 0:o[n])||BI[n];return c?((a=t.theme)==null||(a=a.breakpoints)==null?void 0:a.unit)!=="px"?{maxWidth:`${c}${t.theme.breakpoints.unit}`}:{maxWidth:c}:{maxWidth:ou(n)}};return mp(t,t.maxWidth,i)}return null};RI.filterProps=["maxWidth"];const vue=As({prop:"minWidth",transform:ou}),yue=As({prop:"height",transform:ou}),Aue=As({prop:"maxHeight",transform:ou}),_ue=As({prop:"minHeight",transform:ou});As({prop:"size",cssProperty:"width",transform:ou});As({prop:"size",cssProperty:"height",transform:ou});const Cue=As({prop:"boxSizing"});H5(wue,RI,vue,yue,Aue,_ue,Cue);const kA={border:{themeKey:"borders",transform:id},borderTop:{themeKey:"borders",transform:id},borderRight:{themeKey:"borders",transform:id},borderBottom:{themeKey:"borders",transform:id},borderLeft:{themeKey:"borders",transform:id},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:id},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:$5},color:{themeKey:"palette",transform:ck},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ck},backgroundColor:{themeKey:"palette",transform:ck},p:{style:Zo},pt:{style:Zo},pr:{style:Zo},pb:{style:Zo},pl:{style:Zo},px:{style:Zo},py:{style:Zo},padding:{style:Zo},paddingTop:{style:Zo},paddingRight:{style:Zo},paddingBottom:{style:Zo},paddingLeft:{style:Zo},paddingX:{style:Zo},paddingY:{style:Zo},paddingInline:{style:Zo},paddingInlineStart:{style:Zo},paddingInlineEnd:{style:Zo},paddingBlock:{style:Zo},paddingBlockStart:{style:Zo},paddingBlockEnd:{style:Zo},m:{style:Qo},mt:{style:Qo},mr:{style:Qo},mb:{style:Qo},ml:{style:Qo},mx:{style:Qo},my:{style:Qo},margin:{style:Qo},marginTop:{style:Qo},marginRight:{style:Qo},marginBottom:{style:Qo},marginLeft:{style:Qo},marginX:{style:Qo},marginY:{style:Qo},marginInline:{style:Qo},marginInlineStart:{style:Qo},marginInlineEnd:{style:Qo},marginBlock:{style:Qo},marginBlockStart:{style:Qo},marginBlockEnd:{style:Qo},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:W5},rowGap:{style:Y5},columnGap:{style:G5},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ou},maxWidth:{style:RI},minWidth:{transform:ou},height:{transform:ou},maxHeight:{transform:ou},minHeight:{transform:ou},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function xue(...t){const i=t.reduce((o,a)=>o.concat(Object.keys(a)),[]),n=new Set(i);return t.every(o=>n.size===Object.keys(o).length)}function Sue(t,i){return typeof t=="function"?t(i):t}function zz(){function t(n,o,a,c){const d={[n]:o,theme:a},p=c[n];if(!p)return{[n]:o};const{cssProperty:m=n,themeKey:k,transform:v,style:_}=p;if(o==null)return null;if(k==="typography"&&o==="inherit")return{[n]:o};const x=V5(a,k)||{};return _?_(d):mp(d,o,y=>{let D=a5(x,v,y);return y===D&&typeof y=="string"&&(D=a5(x,v,`${n}${y==="default"?"":qm(y)}`,y)),m===!1?D:{[m]:D}})}function i(n){var o;const{sx:a,theme:c={}}=n||{};if(!a)return null;const d=(o=c.unstable_sxConfig)!=null?o:kA;function p(m){let k=m;if(typeof m=="function")k=m(c);else if(typeof m!="object")return m;if(!k)return null;const v=Fce(c.breakpoints),_=Object.keys(v);let x=v;return Object.keys(k).forEach(y=>{const D=Sue(k[y],c);if(D!=null)if(typeof D=="object")if(d[y])x=Iy(x,t(y,D,c,d));else{const E=mp({theme:c},D,j=>({[y]:j}));xue(E,D)?x[y]=i({sx:D,theme:c}):x=Iy(x,E)}else x=Iy(x,t(y,D,c,d))}),Uce(_,x)}return Array.isArray(a)?a.map(p):p(a)}return i}const K5=zz();K5.filterProps=["sx"];function Fz(t,i){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:i}:n.palette.mode===t?i:{}}const Eue=["breakpoints","palette","spacing","shape"];function Uz(t={},...i){const{breakpoints:n={},palette:o={},spacing:a,shape:c={}}=t,d=Gm(t,Eue),p=Lz(n),m=Yce(a);let k=uf({breakpoints:p,direction:"ltr",components:{},palette:Oi({mode:"light"},o),spacing:m,shape:Oi({},zce,c)},d);return k.applyStyles=Fz,k=i.reduce((v,_)=>uf(v,_),k),k.unstable_sxConfig=Oi({},kA,d==null?void 0:d.unstable_sxConfig),k.unstable_sx=function(v){return K5({sx:v,theme:this})},k}const Due=Object.freeze(Object.defineProperty({__proto__:null,default:Uz,private_createBreakpoints:Lz,unstable_applyStyles:Fz},Symbol.toStringTag,{value:"Module"})),Iue=bp(Due),Tue=["sx"],Mue=t=>{var i,n;const o={systemProps:{},otherProps:{}},a=(i=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?i:kA;return Object.keys(t).forEach(c=>{a[c]?o.systemProps[c]=t[c]:o.otherProps[c]=t[c]}),o};function Nue(t){const{sx:i}=t,n=Gm(t,Tue),{systemProps:o,otherProps:a}=Mue(n);let c;return Array.isArray(i)?c=[o,...i]:typeof i=="function"?c=(...d)=>{const p=i(...d);return xm(p)?Oi({},o,p):o}:c=Oi({},o,i),Oi({},a,{sx:c})}const jue=Object.freeze(Object.defineProperty({__proto__:null,default:K5,extendSxProp:Nue,unstable_createStyleFunctionSx:zz,unstable_defaultSxConfig:kA},Symbol.toStringTag,{value:"Module"})),Oue=bp(jue);var _B;function Bue(){if(_B)return qg;_B=1;var t=R5();Object.defineProperty(qg,"__esModule",{value:!0}),qg.default=G,qg.shouldForwardProp=D,qg.systemDefaultTheme=void 0;var i=t(Qle()),n=t(Zle()),o=_(jce),a=Oce;t(Bce),t(Lce);var c=t(Iue),d=t(Oue);const p=["ownerState"],m=["variants"],k=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function v(J){if(typeof WeakMap!="function")return null;var H=new WeakMap,F=new WeakMap;return(v=function(Q){return Q?F:H})(J)}function _(J,H){if(J&&J.__esModule)return J;if(J===null||typeof J!="object"&&typeof J!="function")return{default:J};var F=v(H);if(F&&F.has(J))return F.get(J);var Q={__proto__:null},Z=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ae in J)if(ae!=="default"&&Object.prototype.hasOwnProperty.call(J,ae)){var X=Z?Object.getOwnPropertyDescriptor(J,ae):null;X&&(X.get||X.set)?Object.defineProperty(Q,ae,X):Q[ae]=J[ae]}return Q.default=J,F&&F.set(J,Q),Q}function x(J){return Object.keys(J).length===0}function y(J){return typeof J=="string"&&J.charCodeAt(0)>96}function D(J){return J!=="ownerState"&&J!=="theme"&&J!=="sx"&&J!=="as"}const E=qg.systemDefaultTheme=(0,c.default)(),j=J=>J&&J.charAt(0).toLowerCase()+J.slice(1);function M({defaultTheme:J,theme:H,themeId:F}){return x(H)?J:H[F]||H}function B(J){return J?(H,F)=>F[J]:null}function z(J,H){let{ownerState:F}=H,Q=(0,n.default)(H,p);const Z=typeof J=="function"?J((0,i.default)({ownerState:F},Q)):J;if(Array.isArray(Z))return Z.flatMap(ae=>z(ae,(0,i.default)({ownerState:F},Q)));if(Z&&typeof Z=="object"&&Array.isArray(Z.variants)){const{variants:ae=[]}=Z;let X=(0,n.default)(Z,m);return ae.forEach(Y=>{let U=!0;typeof Y.props=="function"?U=Y.props((0,i.default)({ownerState:F},Q,F)):Object.keys(Y.props).forEach(q=>{(F==null?void 0:F[q])!==Y.props[q]&&Q[q]!==Y.props[q]&&(U=!1)}),U&&(Array.isArray(X)||(X=[X]),X.push(typeof Y.style=="function"?Y.style((0,i.default)({ownerState:F},Q,F)):Y.style))}),X}return Z}function G(J={}){const{themeId:H,defaultTheme:F=E,rootShouldForwardProp:Q=D,slotShouldForwardProp:Z=D}=J,ae=X=>(0,d.default)((0,i.default)({},X,{theme:M((0,i.default)({},X,{defaultTheme:F,themeId:H}))}));return ae.__mui_systemSx=!0,(X,Y={})=>{(0,o.internal_processStyles)(X,ve=>ve.filter(Re=>!(Re!=null&&Re.__mui_systemSx)));const{name:U,slot:q,skipVariantsResolver:fe,skipSx:ue,overridesResolver:de=B(j(q))}=Y,me=(0,n.default)(Y,k),Me=fe!==void 0?fe:q&&q!=="Root"&&q!=="root"||!1,ce=ue||!1;let Ie,re=D;q==="Root"||q==="root"?re=Q:q?re=Z:y(X)&&(re=void 0);const te=(0,o.default)(X,(0,i.default)({shouldForwardProp:re,label:Ie},me)),ke=ve=>typeof ve=="function"&&ve.__emotion_real!==ve||(0,a.isPlainObject)(ve)?Re=>z(ve,(0,i.default)({},Re,{theme:M({theme:Re.theme,defaultTheme:F,themeId:H})})):ve,be=(ve,...Re)=>{let Be=ke(ve);const Ue=Re?Re.map(ke):[];U&&de&&Ue.push(ft=>{const gt=M((0,i.default)({},ft,{defaultTheme:F,themeId:H}));if(!gt.components||!gt.components[U]||!gt.components[U].styleOverrides)return null;const oe=gt.components[U].styleOverrides,Pe={};return Object.entries(oe).forEach(([we,De])=>{Pe[we]=z(De,(0,i.default)({},ft,{theme:gt}))}),de(ft,Pe)}),U&&!Me&&Ue.push(ft=>{var gt;const oe=M((0,i.default)({},ft,{defaultTheme:F,themeId:H})),Pe=oe==null||(gt=oe.components)==null||(gt=gt[U])==null?void 0:gt.variants;return z({variants:Pe},(0,i.default)({},ft,{theme:oe}))}),ce||Ue.push(ae);const Ze=Ue.length-Re.length;if(Array.isArray(ve)&&Ze>0){const ft=new Array(Ze).fill("");Be=[...ve,...ft],Be.raw=[...ve.raw,...ft]}const Ge=te(Be,...Ue);return X.muiName&&(Ge.muiName=X.muiName),Ge};return te.withConfig&&(be.withConfig=te.withConfig),be}}return qg}var Lue=Bue();const Pue=TI(Lue);function Rue(t,i){return Oi({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},i)}var To={};const zue=bp(dle),Fue=bp(Hle);var CB;function Uue(){if(CB)return To;CB=1;var t=R5();Object.defineProperty(To,"__esModule",{value:!0}),To.alpha=D,To.blend=H,To.colorChannel=void 0,To.darken=j,To.decomposeColor=d,To.emphasize=G,To.getContrastRatio=y,To.getLuminance=x,To.hexToRgb=a,To.hslToRgb=_,To.lighten=B,To.private_safeAlpha=E,To.private_safeColorChannel=void 0,To.private_safeDarken=M,To.private_safeEmphasize=J,To.private_safeLighten=z,To.recomposeColor=k,To.rgbToHex=v;var i=t(zue),n=t(Fue);function o(F,Q=0,Z=1){return(0,n.default)(F,Q,Z)}function a(F){F=F.slice(1);const Q=new RegExp(`.{1,${F.length>=6?2:1}}`,"g");let Z=F.match(Q);return Z&&Z[0].length===1&&(Z=Z.map(ae=>ae+ae)),Z?`rgb${Z.length===4?"a":""}(${Z.map((ae,X)=>X<3?parseInt(ae,16):Math.round(parseInt(ae,16)/255*1e3)/1e3).join(", ")})`:""}function c(F){const Q=F.toString(16);return Q.length===1?`0${Q}`:Q}function d(F){if(F.type)return F;if(F.charAt(0)==="#")return d(a(F));const Q=F.indexOf("("),Z=F.substring(0,Q);if(["rgb","rgba","hsl","hsla","color"].indexOf(Z)===-1)throw new Error((0,i.default)(9,F));let ae=F.substring(Q+1,F.length-1),X;if(Z==="color"){if(ae=ae.split(" "),X=ae.shift(),ae.length===4&&ae[3].charAt(0)==="/"&&(ae[3]=ae[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(X)===-1)throw new Error((0,i.default)(10,X))}else ae=ae.split(",");return ae=ae.map(Y=>parseFloat(Y)),{type:Z,values:ae,colorSpace:X}}const p=F=>{const Q=d(F);return Q.values.slice(0,3).map((Z,ae)=>Q.type.indexOf("hsl")!==-1&&ae!==0?`${Z}%`:Z).join(" ")};To.colorChannel=p;const m=(F,Q)=>{try{return p(F)}catch{return F}};To.private_safeColorChannel=m;function k(F){const{type:Q,colorSpace:Z}=F;let{values:ae}=F;return Q.indexOf("rgb")!==-1?ae=ae.map((X,Y)=>Y<3?parseInt(X,10):X):Q.indexOf("hsl")!==-1&&(ae[1]=`${ae[1]}%`,ae[2]=`${ae[2]}%`),Q.indexOf("color")!==-1?ae=`${Z} ${ae.join(" ")}`:ae=`${ae.join(", ")}`,`${Q}(${ae})`}function v(F){if(F.indexOf("#")===0)return F;const{values:Q}=d(F);return`#${Q.map((Z,ae)=>c(ae===3?Math.round(255*Z):Z)).join("")}`}function _(F){F=d(F);const{values:Q}=F,Z=Q[0],ae=Q[1]/100,X=Q[2]/100,Y=ae*Math.min(X,1-X),U=(ue,de=(ue+Z/30)%12)=>X-Y*Math.max(Math.min(de-3,9-de,1),-1);let q="rgb";const fe=[Math.round(U(0)*255),Math.round(U(8)*255),Math.round(U(4)*255)];return F.type==="hsla"&&(q+="a",fe.push(Q[3])),k({type:q,values:fe})}function x(F){F=d(F);let Q=F.type==="hsl"||F.type==="hsla"?d(_(F)).values:F.values;return Q=Q.map(Z=>(F.type!=="color"&&(Z/=255),Z<=.03928?Z/12.92:((Z+.055)/1.055)**2.4)),Number((.2126*Q[0]+.7152*Q[1]+.0722*Q[2]).toFixed(3))}function y(F,Q){const Z=x(F),ae=x(Q);return(Math.max(Z,ae)+.05)/(Math.min(Z,ae)+.05)}function D(F,Q){return F=d(F),Q=o(Q),(F.type==="rgb"||F.type==="hsl")&&(F.type+="a"),F.type==="color"?F.values[3]=`/${Q}`:F.values[3]=Q,k(F)}function E(F,Q,Z){try{return D(F,Q)}catch{return F}}function j(F,Q){if(F=d(F),Q=o(Q),F.type.indexOf("hsl")!==-1)F.values[2]*=1-Q;else if(F.type.indexOf("rgb")!==-1||F.type.indexOf("color")!==-1)for(let Z=0;Z<3;Z+=1)F.values[Z]*=1-Q;return k(F)}function M(F,Q,Z){try{return j(F,Q)}catch{return F}}function B(F,Q){if(F=d(F),Q=o(Q),F.type.indexOf("hsl")!==-1)F.values[2]+=(100-F.values[2])*Q;else if(F.type.indexOf("rgb")!==-1)for(let Z=0;Z<3;Z+=1)F.values[Z]+=(255-F.values[Z])*Q;else if(F.type.indexOf("color")!==-1)for(let Z=0;Z<3;Z+=1)F.values[Z]+=(1-F.values[Z])*Q;return k(F)}function z(F,Q,Z){try{return B(F,Q)}catch{return F}}function G(F,Q=.15){return x(F)>.5?j(F,Q):B(F,Q)}function J(F,Q,Z){try{return G(F,Q)}catch{return F}}function H(F,Q,Z,ae=1){const X=(fe,ue)=>Math.round((fe**(1/ae)*(1-Z)+ue**(1/ae)*Z)**ae),Y=d(F),U=d(Q),q=[X(Y.values[0],U.values[0]),X(Y.values[1],U.values[1]),X(Y.values[2],U.values[2])];return k({type:"rgb",values:q})}return To}var D6=Uue();const Gy={black:"#000",white:"#fff"},que={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},P0={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},R0={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},ay={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},z0={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},F0={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},U0={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Vue=["mode","contrastThreshold","tonalOffset"],xB={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Gy.white,default:Gy.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},_D={text:{primary:Gy.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Gy.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function SB(t,i,n,o){const a=o.light||o,c=o.dark||o*1.5;t[i]||(t.hasOwnProperty(n)?t[i]=t[n]:i==="light"?t.light=D6.lighten(t.main,a):i==="dark"&&(t.dark=D6.darken(t.main,c)))}function Hue(t="light"){return t==="dark"?{main:z0[200],light:z0[50],dark:z0[400]}:{main:z0[700],light:z0[400],dark:z0[800]}}function $ue(t="light"){return t==="dark"?{main:P0[200],light:P0[50],dark:P0[400]}:{main:P0[500],light:P0[300],dark:P0[700]}}function Wue(t="light"){return t==="dark"?{main:R0[500],light:R0[300],dark:R0[700]}:{main:R0[700],light:R0[400],dark:R0[800]}}function Gue(t="light"){return t==="dark"?{main:F0[400],light:F0[300],dark:F0[700]}:{main:F0[700],light:F0[500],dark:F0[900]}}function Yue(t="light"){return t==="dark"?{main:U0[400],light:U0[300],dark:U0[700]}:{main:U0[800],light:U0[500],dark:U0[900]}}function Kue(t="light"){return t==="dark"?{main:ay[400],light:ay[300],dark:ay[700]}:{main:"#ed6c02",light:ay[500],dark:ay[900]}}function Que(t){const{mode:i="light",contrastThreshold:n=3,tonalOffset:o=.2}=t,a=Gm(t,Vue),c=t.primary||Hue(i),d=t.secondary||$ue(i),p=t.error||Wue(i),m=t.info||Gue(i),k=t.success||Yue(i),v=t.warning||Kue(i);function _(D){return D6.getContrastRatio(D,_D.text.primary)>=n?_D.text.primary:xB.text.primary}const x=({color:D,name:E,mainShade:j=500,lightShade:M=300,darkShade:B=700})=>{if(D=Oi({},D),!D.main&&D[j]&&(D.main=D[j]),!D.hasOwnProperty("main"))throw new Error(Hy(11,E?` (${E})`:"",j));if(typeof D.main!="string")throw new Error(Hy(12,E?` (${E})`:"",JSON.stringify(D.main)));return SB(D,"light",M,o),SB(D,"dark",B,o),D.contrastText||(D.contrastText=_(D.main)),D},y={dark:_D,light:xB};return uf(Oi({common:Oi({},Gy),mode:i,primary:x({color:c,name:"primary"}),secondary:x({color:d,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:x({color:p,name:"error"}),warning:x({color:v,name:"warning"}),info:x({color:m,name:"info"}),success:x({color:k,name:"success"}),grey:que,contrastThreshold:n,getContrastText:_,augmentColor:x,tonalOffset:o},y[i]),a)}const Zue=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Jue(t){return Math.round(t*1e5)/1e5}const EB={textTransform:"uppercase"},DB='"Roboto", "Helvetica", "Arial", sans-serif';function Xue(t,i){const n=typeof i=="function"?i(t):i,{fontFamily:o=DB,fontSize:a=14,fontWeightLight:c=300,fontWeightRegular:d=400,fontWeightMedium:p=500,fontWeightBold:m=700,htmlFontSize:k=16,allVariants:v,pxToRem:_}=n,x=Gm(n,Zue),y=a/14,D=_||(M=>`${M/k*y}rem`),E=(M,B,z,G,J)=>Oi({fontFamily:o,fontWeight:M,fontSize:D(B),lineHeight:z},o===DB?{letterSpacing:`${Jue(G/B)}em`}:{},J,v),j={h1:E(c,96,1.167,-1.5),h2:E(c,60,1.2,-.5),h3:E(d,48,1.167,0),h4:E(d,34,1.235,.25),h5:E(d,24,1.334,0),h6:E(p,20,1.6,.15),subtitle1:E(d,16,1.75,.15),subtitle2:E(p,14,1.57,.1),body1:E(d,16,1.5,.15),body2:E(d,14,1.43,.15),button:E(p,14,1.75,.4,EB),caption:E(d,12,1.66,.4),overline:E(d,12,2.66,1,EB),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return uf(Oi({htmlFontSize:k,pxToRem:D,fontFamily:o,fontSize:a,fontWeightLight:c,fontWeightRegular:d,fontWeightMedium:p,fontWeightBold:m},j),x,{clone:!1})}const ede=.2,tde=.14,nde=.12;function mo(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${ede})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${tde})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${nde})`].join(",")}const rde=["none",mo(0,2,1,-1,0,1,1,0,0,1,3,0),mo(0,3,1,-2,0,2,2,0,0,1,5,0),mo(0,3,3,-2,0,3,4,0,0,1,8,0),mo(0,2,4,-1,0,4,5,0,0,1,10,0),mo(0,3,5,-1,0,5,8,0,0,1,14,0),mo(0,3,5,-1,0,6,10,0,0,1,18,0),mo(0,4,5,-2,0,7,10,1,0,2,16,1),mo(0,5,5,-3,0,8,10,1,0,3,14,2),mo(0,5,6,-3,0,9,12,1,0,3,16,2),mo(0,6,6,-3,0,10,14,1,0,4,18,3),mo(0,6,7,-4,0,11,15,1,0,4,20,3),mo(0,7,8,-4,0,12,17,2,0,5,22,4),mo(0,7,8,-4,0,13,19,2,0,5,24,4),mo(0,7,9,-4,0,14,21,2,0,5,26,4),mo(0,8,9,-5,0,15,22,2,0,6,28,5),mo(0,8,10,-5,0,16,24,2,0,6,30,5),mo(0,8,11,-5,0,17,26,2,0,6,32,5),mo(0,9,11,-5,0,18,28,2,0,7,34,6),mo(0,9,12,-6,0,19,29,2,0,7,36,6),mo(0,10,13,-6,0,20,31,3,0,8,38,7),mo(0,10,13,-6,0,21,33,3,0,8,40,7),mo(0,10,14,-6,0,22,35,3,0,8,42,7),mo(0,11,14,-7,0,23,36,3,0,9,44,8),mo(0,11,15,-7,0,24,38,3,0,9,46,8)],ide=["duration","easing","delay"],ode={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},sde={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function IB(t){return`${Math.round(t)}ms`}function ade(t){if(!t)return 0;const i=t/36;return Math.round((4+15*i**.25+i/5)*10)}function lde(t){const i=Oi({},ode,t.easing),n=Oi({},sde,t.duration);return Oi({getAutoHeightDuration:ade,create:(o=["all"],a={})=>{const{duration:c=n.standard,easing:d=i.easeInOut,delay:p=0}=a;return Gm(a,ide),(Array.isArray(o)?o:[o]).map(m=>`${m} ${typeof c=="string"?c:IB(c)} ${d} ${typeof p=="string"?p:IB(p)}`).join(",")}},t,{easing:i,duration:n})}const cde={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},ude=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function dde(t={},...i){const{mixins:n={},palette:o={},transitions:a={},typography:c={}}=t,d=Gm(t,ude);if(t.vars)throw new Error(Hy(18));const p=Que(o),m=Uz(t);let k=uf(m,{mixins:Rue(m.breakpoints,n),palette:p,shadows:rde.slice(),typography:Xue(p,c),transitions:lde(a),zIndex:Oi({},cde)});return k=uf(k,d),k=i.reduce((v,_)=>uf(v,_),k),k.unstable_sxConfig=Oi({},kA,d==null?void 0:d.unstable_sxConfig),k.unstable_sx=function(v){return K5({sx:v,theme:this})},k}const hde=dde(),fde="$$material";function pde(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const mde=t=>pde(t)&&t!=="classes",gde=Pue({themeId:fde,defaultTheme:hde,rootShouldForwardProp:mde});function bde(t){return Ez("MuiSvgIcon",t)}qle("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const kde=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],wde=t=>{const{color:i,fontSize:n,classes:o}=t,a={root:["root",i!=="inherit"&&`color${qm(i)}`,`fontSize${qm(n)}`]};return zle(a,bde,o)},vde=gde("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,i)=>{const{ownerState:n}=t;return[i.root,n.color!=="inherit"&&i[`color${qm(n.color)}`],i[`fontSize${qm(n.fontSize)}`]]}})(({theme:t,ownerState:i})=>{var n,o,a,c,d,p,m,k,v,_,x,y,D;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:i.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(o=n.create)==null?void 0:o.call(n,"fill",{duration:(a=t.transitions)==null||(a=a.duration)==null?void 0:a.shorter}),fontSize:{inherit:"inherit",small:((c=t.typography)==null||(d=c.pxToRem)==null?void 0:d.call(c,20))||"1.25rem",medium:((p=t.typography)==null||(m=p.pxToRem)==null?void 0:m.call(p,24))||"1.5rem",large:((k=t.typography)==null||(v=k.pxToRem)==null?void 0:v.call(k,35))||"2.1875rem"}[i.fontSize],color:(_=(x=(t.vars||t).palette)==null||(x=x[i.color])==null?void 0:x.main)!=null?_:{action:(y=(t.vars||t).palette)==null||(y=y.action)==null?void 0:y.active,disabled:(D=(t.vars||t).palette)==null||(D=D.action)==null?void 0:D.disabled,inherit:void 0}[i.color]}}),I6=se.forwardRef(function(t,i){const n=Kle({props:t,name:"MuiSvgIcon"}),{children:o,className:a,color:c="inherit",component:d="svg",fontSize:p="medium",htmlColor:m,inheritViewBox:k=!1,titleAccess:v,viewBox:_="0 0 24 24"}=n,x=Gm(n,kde),y=se.isValidElement(o)&&o.type==="svg",D=Oi({},n,{color:c,component:d,fontSize:p,instanceFontSize:t.fontSize,inheritViewBox:k,viewBox:_,hasSvgAsChild:y}),E={};k||(E.viewBox=_);const j=wde(D);return Kn.jsxs(vde,Oi({as:d,className:$le(j.root,a),focusable:"false",color:m,"aria-hidden":v?void 0:!0,role:v?"img":void 0,ref:i},E,x,y&&o.props,{ownerState:D,children:[y?o.props.children:o,v?Kn.jsx("title",{children:v}):null]}))});I6.muiName="SvgIcon";function yde(t,i){function n(o,a){return Kn.jsx(I6,Oi({"data-testid":`${i}Icon`,ref:a},o,{children:t}))}return n.muiName=I6.muiName,se.memo(se.forwardRef(n))}const Ade={configure:t=>{Sz.configure(t)}},_de=Object.freeze(Object.defineProperty({__proto__:null,capitalize:qm,createChainedFunction:kle,createSvgIcon:yde,debounce:wle,deprecatedPropType:vle,isMuiElement:yle,ownerDocument:Az,ownerWindow:Ale,requirePropFactory:_le,setRef:_z,unstable_ClassNameGenerator:Ade,unstable_useEnhancedEffect:Cz,unstable_useId:xle,unsupportedProp:Sle,useControlled:Ele,useEventCallback:Dle,useForkRef:Ile,useIsFocusVisible:Rle},Symbol.toStringTag,{value:"Module"})),Cde=bp(_de);var TB;function qz(){return TB||(TB=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.createSvgIcon}});var i=Cde}(oB)),oB}var MB;function xde(){if(MB)return oy;MB=1;var t=R5();Object.defineProperty(oy,"__esModule",{value:!0}),oy.default=void 0;var i=t(qz()),n=MI();return oy.default=(0,i.default)((0,n.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 9h12v2H6zm8 5H6v-2h8zm4-6H6V6h12z"}),"Chat"),oy}var Sde=xde();const Ede=TI(Sde),CD={chatToggleButton:{position:"fixed",bottom:20,right:20,bgcolor:"#CDDAFF",color:"white",width:60,height:60,borderRadius:"50%",boxShadow:"0px 4px 15px rgba(0, 0, 0, 0.3)","&:hover":{bgcolor:"#0B53C0"},transition:"background-color 0.3s, transform 0.3s","&:active":{transform:"scale(0.95)"}},chatContainer:(t,i)=>({position:"fixed",bottom:t?0:20,right:t?0:20,width:t?"80%":i?"60%":650,height:t?"50%":i?"55%":700,padding:t?1:2,display:"flex",flexDirection:"column",borderRadius:t?0:"16px",backgroundColor:"#F0F4FF",boxShadow:"0px 10px 30px rgba(0, 0, 0, 0.2)"}),chatHeader:{fontFamily:"Staatliches, Arial, sans-serif",fontWeight:"bold",color:"black",fontSize:"1.25rem"},chatMessageInput:{"& .MuiOutlinedInput-root":{fontFamily:"Gabarito, Arial, sans-serif",borderRadius:"20px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#185cc4"}}},chatMessageBox:{maxWidth:"70%",borderRadius:"15px",padding:1,paddingX:2,boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)","&.user":{bgcolor:"#f0f0f0",color:"#555",alignSelf:"flex-end"},"&.bot":{bgcolor:"#CDDAFF",color:"black",alignSelf:"flex-start","&:hover":{bgcolor:"#0B53C0",color:"white"}}},chatButtons:{backgroundColor:"#CDDAFF",color:"black",fontFamily:"Staatliches, sans-serif",fontSize:"1.25rem","&:hover":{backgroundColor:"#0B53C0",color:"white"}}},Dde=({responses:t})=>Kn.jsx(Ne,{sx:{flexGrow:1,overflowY:"auto",display:"flex",flexDirection:"column",gap:2,padding:2,backgroundColor:"transparent"},children:t.length>0?t.map((i,n)=>Kn.jsxs(Ne,{sx:{display:"flex",flexDirection:"column",alignItems:i.question?"flex-end":"flex-start"},children:[i.question&&Kn.jsx(Ne,{sx:{maxWidth:"70%",bgcolor:"#f0f0f0",color:"#555",borderRadius:"15px",p:1,px:2,mb:2,alignSelf:"flex-end",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)"},children:Kn.jsx(xe,{variant:"body1",sx:{fontFamily:"Gabarito, Arial, sans-serif",fontSize:"1rem",color:"#555"},children:i.question})}),(i.answer||i.text)&&Kn.jsx(Ne,{sx:{maxWidth:"70%",bgcolor:"#CDDAFF",color:"black",borderRadius:"15px",p:1,px:2,alignSelf:"flex-start",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.2)",mb:.3,"&:hover":{bgcolor:"#0B53C0",color:"white"}},children:Kn.jsx(xe,{variant:"body1",sx:{fontFamily:"Gabarito, Arial, sans-serif",fontSize:"1rem",color:"inherit",transition:"color 0.3s ease"},children:Kn.jsx(II,{children:i.answer||i.text})})})]},n)):Kn.jsx(xe,{variant:"body2",sx:{textAlign:"center",color:"#6c757d",fontFamily:"Gabarito, Arial, sans-serif"},children:"No messages yet. Start the conversation!"})}),Ide=({onSendMessage:t,onStartConversation:i,onEndConversation:n,conversationId:o})=>{const[a,c]=se.useState(""),d=()=>{a.trim()&&(t(a),c(""))},p=()=>{o||i()},m=()=>{o&&n()};return Kn.jsxs(Ne,{sx:{display:"flex",flexDirection:"column",gap:2,mt:2},children:[Kn.jsxs(Ne,{sx:{display:"flex",gap:1},children:[Kn.jsx(yn,{variant:"outlined",placeholder:"Type your message...",fullWidth:!0,size:"small",value:a,onChange:k=>c(k.target.value),onKeyDown:k=>{k.key==="Enter"&&d()},sx:{"& .MuiOutlinedInput-root":{borderRadius:"20px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#185cc4"}}}}),Kn.jsx(Ct,{variant:"contained",onClick:d,sx:{backgroundColor:"#CDDAFF",color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none","&:hover":{backgroundColor:"#0B53C0",color:"#fff"}},children:"Send"})]}),o?Kn.jsx(Ct,{variant:"outlined",onClick:m,sx:{color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none",borderColor:"#CDDAFF","&:hover":{borderColor:"#0B53C0",color:"#0B53C0"}},children:"END CONVERSATION"}):Kn.jsx(Ct,{variant:"contained",onClick:p,sx:{backgroundColor:"#CDDAFF",color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none","&:hover":{backgroundColor:"#0B53C0",color:"#fff"}},children:"START CONVERSATION"})]})};var ly={},NB;function Tde(){if(NB)return ly;NB=1;var t=R5();Object.defineProperty(ly,"__esModule",{value:!0}),ly.default=void 0;var i=t(qz()),n=MI();return ly.default=(0,i.default)((0,n.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),ly}var Mde=Tde();const Nde=TI(Mde);function Vz(t,i){return function(){return t.apply(i,arguments)}}const{toString:jde}=Object.prototype,{getPrototypeOf:zI}=Object,Q5=(t=>i=>{const n=jde.call(i);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),fh=t=>(t=t.toLowerCase(),i=>Q5(i)===t),Z5=t=>i=>typeof i===t,{isArray:Tk}=Array,Yy=Z5("undefined");function Ode(t){return t!==null&&!Yy(t)&&t.constructor!==null&&!Yy(t.constructor)&&hu(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Hz=fh("ArrayBuffer");function Bde(t){let i;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?i=ArrayBuffer.isView(t):i=t&&t.buffer&&Hz(t.buffer),i}const Lde=Z5("string"),hu=Z5("function"),$z=Z5("number"),J5=t=>t!==null&&typeof t=="object",Pde=t=>t===!0||t===!1,Dx=t=>{if(Q5(t)!=="object")return!1;const i=zI(t);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Rde=fh("Date"),zde=fh("File"),Fde=fh("Blob"),Ude=fh("FileList"),qde=t=>J5(t)&&hu(t.pipe),Vde=t=>{let i;return t&&(typeof FormData=="function"&&t instanceof FormData||hu(t.append)&&((i=Q5(t))==="formdata"||i==="object"&&hu(t.toString)&&t.toString()==="[object FormData]"))},Hde=fh("URLSearchParams"),[$de,Wde,Gde,Yde]=["ReadableStream","Request","Response","Headers"].map(fh),Kde=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wA(t,i,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let o,a;if(typeof t!="object"&&(t=[t]),Tk(t))for(o=0,a=t.length;o<a;o++)i.call(null,t[o],o,t);else{const c=n?Object.getOwnPropertyNames(t):Object.keys(t),d=c.length;let p;for(o=0;o<d;o++)p=c[o],i.call(null,t[p],p,t)}}function Wz(t,i){i=i.toLowerCase();const n=Object.keys(t);let o=n.length,a;for(;o-- >0;)if(a=n[o],i===a.toLowerCase())return a;return null}const eb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,Gz=t=>!Yy(t)&&t!==eb;function T6(){const{caseless:t}=Gz(this)&&this||{},i={},n=(o,a)=>{const c=t&&Wz(i,a)||a;Dx(i[c])&&Dx(o)?i[c]=T6(i[c],o):Dx(o)?i[c]=T6({},o):Tk(o)?i[c]=o.slice():i[c]=o};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&wA(arguments[o],n);return i}const Qde=(t,i,n,{allOwnKeys:o}={})=>(wA(i,(a,c)=>{n&&hu(a)?t[c]=Vz(a,n):t[c]=a},{allOwnKeys:o}),t),Zde=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Jde=(t,i,n,o)=>{t.prototype=Object.create(i.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:i.prototype}),n&&Object.assign(t.prototype,n)},Xde=(t,i,n,o)=>{let a,c,d;const p={};if(i=i||{},t==null)return i;do{for(a=Object.getOwnPropertyNames(t),c=a.length;c-- >0;)d=a[c],(!o||o(d,t,i))&&!p[d]&&(i[d]=t[d],p[d]=!0);t=n!==!1&&zI(t)}while(t&&(!n||n(t,i))&&t!==Object.prototype);return i},ehe=(t,i,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=i.length;const o=t.indexOf(i,n);return o!==-1&&o===n},the=t=>{if(!t)return null;if(Tk(t))return t;let i=t.length;if(!$z(i))return null;const n=new Array(i);for(;i-- >0;)n[i]=t[i];return n},nhe=(t=>i=>t&&i instanceof t)(typeof Uint8Array<"u"&&zI(Uint8Array)),rhe=(t,i)=>{const n=(t&&t[Symbol.iterator]).call(t);let o;for(;(o=n.next())&&!o.done;){const a=o.value;i.call(t,a[0],a[1])}},ihe=(t,i)=>{let n;const o=[];for(;(n=t.exec(i))!==null;)o.push(n);return o},ohe=fh("HTMLFormElement"),she=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,n,o){return n.toUpperCase()+o}),jB=(({hasOwnProperty:t})=>(i,n)=>t.call(i,n))(Object.prototype),ahe=fh("RegExp"),Yz=(t,i)=>{const n=Object.getOwnPropertyDescriptors(t),o={};wA(n,(a,c)=>{let d;(d=i(a,c,t))!==!1&&(o[c]=d||a)}),Object.defineProperties(t,o)},lhe=t=>{Yz(t,(i,n)=>{if(hu(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const o=t[n];if(hu(o)){if(i.enumerable=!1,"writable"in i){i.writable=!1;return}i.set||(i.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},che=(t,i)=>{const n={},o=a=>{a.forEach(c=>{n[c]=!0})};return Tk(t)?o(t):o(String(t).split(i)),n},uhe=()=>{},dhe=(t,i)=>t!=null&&Number.isFinite(t=+t)?t:i,xD="abcdefghijklmnopqrstuvwxyz",OB="0123456789",Kz={DIGIT:OB,ALPHA:xD,ALPHA_DIGIT:xD+xD.toUpperCase()+OB},hhe=(t=16,i=Kz.ALPHA_DIGIT)=>{let n="";const{length:o}=i;for(;t--;)n+=i[Math.random()*o|0];return n};function fhe(t){return!!(t&&hu(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const phe=t=>{const i=new Array(10),n=(o,a)=>{if(J5(o)){if(i.indexOf(o)>=0)return;if(!("toJSON"in o)){i[a]=o;const c=Tk(o)?[]:{};return wA(o,(d,p)=>{const m=n(d,a+1);!Yy(m)&&(c[p]=m)}),i[a]=void 0,c}}return o};return n(t,0)},mhe=fh("AsyncFunction"),ghe=t=>t&&(J5(t)||hu(t))&&hu(t.then)&&hu(t.catch),Qz=((t,i)=>t?setImmediate:i?((n,o)=>(eb.addEventListener("message",({source:a,data:c})=>{a===eb&&c===n&&o.length&&o.shift()()},!1),a=>{o.push(a),eb.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",hu(eb.postMessage)),bhe=typeof queueMicrotask<"u"?queueMicrotask.bind(eb):typeof process<"u"&&process.nextTick||Qz,xt={isArray:Tk,isArrayBuffer:Hz,isBuffer:Ode,isFormData:Vde,isArrayBufferView:Bde,isString:Lde,isNumber:$z,isBoolean:Pde,isObject:J5,isPlainObject:Dx,isReadableStream:$de,isRequest:Wde,isResponse:Gde,isHeaders:Yde,isUndefined:Yy,isDate:Rde,isFile:zde,isBlob:Fde,isRegExp:ahe,isFunction:hu,isStream:qde,isURLSearchParams:Hde,isTypedArray:nhe,isFileList:Ude,forEach:wA,merge:T6,extend:Qde,trim:Kde,stripBOM:Zde,inherits:Jde,toFlatObject:Xde,kindOf:Q5,kindOfTest:fh,endsWith:ehe,toArray:the,forEachEntry:rhe,matchAll:ihe,isHTMLForm:ohe,hasOwnProperty:jB,hasOwnProp:jB,reduceDescriptors:Yz,freezeMethods:lhe,toObjectSet:che,toCamelCase:she,noop:uhe,toFiniteNumber:dhe,findKey:Wz,global:eb,isContextDefined:Gz,ALPHABET:Kz,generateString:hhe,isSpecCompliantForm:fhe,toJSONObject:phe,isAsyncFn:mhe,isThenable:ghe,setImmediate:Qz,asap:bhe};function dr(t,i,n,o,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",i&&(this.code=i),n&&(this.config=n),o&&(this.request=o),a&&(this.response=a,this.status=a.status?a.status:null)}xt.inherits(dr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:xt.toJSONObject(this.config),code:this.code,status:this.status}}});const Zz=dr.prototype,Jz={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Jz[t]={value:t}});Object.defineProperties(dr,Jz);Object.defineProperty(Zz,"isAxiosError",{value:!0});dr.from=(t,i,n,o,a,c)=>{const d=Object.create(Zz);return xt.toFlatObject(t,d,function(p){return p!==Error.prototype},p=>p!=="isAxiosError"),dr.call(d,t.message,i,n,o,a),d.cause=t,d.name=t.name,c&&Object.assign(d,c),d};const khe=null;function M6(t){return xt.isPlainObject(t)||xt.isArray(t)}function Xz(t){return xt.endsWith(t,"[]")?t.slice(0,-2):t}function BB(t,i,n){return t?t.concat(i).map(function(o,a){return o=Xz(o),!n&&a?"["+o+"]":o}).join(n?".":""):i}function whe(t){return xt.isArray(t)&&!t.some(M6)}const vhe=xt.toFlatObject(xt,{},null,function(t){return/^is[A-Z]/.test(t)});function X5(t,i,n){if(!xt.isObject(t))throw new TypeError("target must be an object");i=i||new FormData,n=xt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,D){return!xt.isUndefined(D[y])});const o=n.metaTokens,a=n.visitor||k,c=n.dots,d=n.indexes,p=(n.Blob||typeof Blob<"u"&&Blob)&&xt.isSpecCompliantForm(i);if(!xt.isFunction(a))throw new TypeError("visitor must be a function");function m(y){if(y===null)return"";if(xt.isDate(y))return y.toISOString();if(!p&&xt.isBlob(y))throw new dr("Blob is not supported. Use a Buffer instead.");return xt.isArrayBuffer(y)||xt.isTypedArray(y)?p&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function k(y,D,E){let j=y;if(y&&!E&&typeof y=="object"){if(xt.endsWith(D,"{}"))D=o?D:D.slice(0,-2),y=JSON.stringify(y);else if(xt.isArray(y)&&whe(y)||(xt.isFileList(y)||xt.endsWith(D,"[]"))&&(j=xt.toArray(y)))return D=Xz(D),j.forEach(function(M,B){!(xt.isUndefined(M)||M===null)&&i.append(d===!0?BB([D],B,c):d===null?D:D+"[]",m(M))}),!1}return M6(y)?!0:(i.append(BB(E,D,c),m(y)),!1)}const v=[],_=Object.assign(vhe,{defaultVisitor:k,convertValue:m,isVisitable:M6});function x(y,D){if(!xt.isUndefined(y)){if(v.indexOf(y)!==-1)throw Error("Circular reference detected in "+D.join("."));v.push(y),xt.forEach(y,function(E,j){(!(xt.isUndefined(E)||E===null)&&a.call(i,E,xt.isString(j)?j.trim():j,D,_))===!0&&x(E,D?D.concat(j):[j])}),v.pop()}}if(!xt.isObject(t))throw new TypeError("data must be an object");return x(t),i}function LB(t){const i={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return i[n]})}function FI(t,i){this._pairs=[],t&&X5(t,this,i)}const eF=FI.prototype;eF.append=function(t,i){this._pairs.push([t,i])};eF.toString=function(t){const i=t?function(n){return t.call(this,n,LB)}:LB;return this._pairs.map(function(n){return i(n[0])+"="+i(n[1])},"").join("&")};function yhe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function tF(t,i,n){if(!i)return t;const o=n&&n.encode||yhe;xt.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let c;if(a?c=a(i,n):c=xt.isURLSearchParams(i)?i.toString():new FI(i,n).toString(o),c){const d=t.indexOf("#");d!==-1&&(t=t.slice(0,d)),t+=(t.indexOf("?")===-1?"?":"&")+c}return t}let PB=class{constructor(){this.handlers=[]}use(i,n,o){return this.handlers.push({fulfilled:i,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(i){this.handlers[i]&&(this.handlers[i]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(i){xt.forEach(this.handlers,function(n){n!==null&&i(n)})}};const nF={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ahe=typeof URLSearchParams<"u"?URLSearchParams:FI,_he=typeof FormData<"u"?FormData:null,Che=typeof Blob<"u"?Blob:null,xhe={isBrowser:!0,classes:{URLSearchParams:Ahe,FormData:_he,Blob:Che},protocols:["http","https","file","blob","url","data"]},UI=typeof window<"u"&&typeof document<"u",N6=typeof navigator=="object"&&navigator||void 0,She=UI&&(!N6||["ReactNative","NativeScript","NS"].indexOf(N6.product)<0),Ehe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Dhe=UI&&window.location.href||"http://localhost",Ihe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:UI,hasStandardBrowserEnv:She,hasStandardBrowserWebWorkerEnv:Ehe,navigator:N6,origin:Dhe},Symbol.toStringTag,{value:"Module"})),ul={...Ihe,...xhe};function The(t,i){return X5(t,new ul.classes.URLSearchParams,Object.assign({visitor:function(n,o,a,c){return ul.isNode&&xt.isBuffer(n)?(this.append(o,n.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)}},i))}function Mhe(t){return xt.matchAll(/\w+|\[(\w*)]/g,t).map(i=>i[0]==="[]"?"":i[1]||i[0])}function Nhe(t){const i={},n=Object.keys(t);let o;const a=n.length;let c;for(o=0;o<a;o++)c=n[o],i[c]=t[c];return i}function rF(t){function i(n,o,a,c){let d=n[c++];if(d==="__proto__")return!0;const p=Number.isFinite(+d),m=c>=n.length;return d=!d&&xt.isArray(a)?a.length:d,m?(xt.hasOwnProp(a,d)?a[d]=[a[d],o]:a[d]=o,!p):((!a[d]||!xt.isObject(a[d]))&&(a[d]=[]),i(n,o,a[d],c)&&xt.isArray(a[d])&&(a[d]=Nhe(a[d])),!p)}if(xt.isFormData(t)&&xt.isFunction(t.entries)){const n={};return xt.forEachEntry(t,(o,a)=>{i(Mhe(o),a,n,0)}),n}return null}function jhe(t,i,n){if(xt.isString(t))try{return(i||JSON.parse)(t),xt.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(0,JSON.stringify)(t)}const vA={transitional:nF,adapter:["xhr","http","fetch"],transformRequest:[function(t,i){const n=i.getContentType()||"",o=n.indexOf("application/json")>-1,a=xt.isObject(t);if(a&&xt.isHTMLForm(t)&&(t=new FormData(t)),xt.isFormData(t))return o?JSON.stringify(rF(t)):t;if(xt.isArrayBuffer(t)||xt.isBuffer(t)||xt.isStream(t)||xt.isFile(t)||xt.isBlob(t)||xt.isReadableStream(t))return t;if(xt.isArrayBufferView(t))return t.buffer;if(xt.isURLSearchParams(t))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return The(t,this.formSerializer).toString();if((c=xt.isFileList(t))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return X5(c?{"files[]":t}:t,d&&new d,this.formSerializer)}}return a||o?(i.setContentType("application/json",!1),jhe(t)):t}],transformResponse:[function(t){const i=this.transitional||vA.transitional,n=i&&i.forcedJSONParsing,o=this.responseType==="json";if(xt.isResponse(t)||xt.isReadableStream(t))return t;if(t&&xt.isString(t)&&(n&&!this.responseType||o)){const a=!(i&&i.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(c){if(a)throw c.name==="SyntaxError"?dr.from(c,dr.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ul.classes.FormData,Blob:ul.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};xt.forEach(["delete","get","head","post","put","patch"],t=>{vA.headers[t]={}});const Ohe=xt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Bhe=t=>{const i={};let n,o,a;return t&&t.split(`
`).forEach(function(c){a=c.indexOf(":"),n=c.substring(0,a).trim().toLowerCase(),o=c.substring(a+1).trim(),!(!n||i[n]&&Ohe[n])&&(n==="set-cookie"?i[n]?i[n].push(o):i[n]=[o]:i[n]=i[n]?i[n]+", "+o:o)}),i},RB=Symbol("internals");function cy(t){return t&&String(t).trim().toLowerCase()}function Ix(t){return t===!1||t==null?t:xt.isArray(t)?t.map(Ix):String(t)}function Lhe(t){const i=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(t);)i[o[1]]=o[2];return i}const Phe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function SD(t,i,n,o,a){if(xt.isFunction(o))return o.call(this,i,n);if(a&&(i=n),!!xt.isString(i)){if(xt.isString(o))return i.indexOf(o)!==-1;if(xt.isRegExp(o))return o.test(i)}}function Rhe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(i,n,o)=>n.toUpperCase()+o)}function zhe(t,i){const n=xt.toCamelCase(" "+i);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+n,{value:function(a,c,d){return this[o].call(this,i,a,c,d)},configurable:!0})})}class fc{constructor(i){i&&this.set(i)}set(i,n,o){const a=this;function c(p,m,k){const v=cy(m);if(!v)throw new Error("header name must be a non-empty string");const _=xt.findKey(a,v);(!_||a[_]===void 0||k===!0||k===void 0&&a[_]!==!1)&&(a[_||m]=Ix(p))}const d=(p,m)=>xt.forEach(p,(k,v)=>c(k,v,m));if(xt.isPlainObject(i)||i instanceof this.constructor)d(i,n);else if(xt.isString(i)&&(i=i.trim())&&!Phe(i))d(Bhe(i),n);else if(xt.isHeaders(i))for(const[p,m]of i.entries())c(m,p,o);else i!=null&&c(n,i,o);return this}get(i,n){if(i=cy(i),i){const o=xt.findKey(this,i);if(o){const a=this[o];if(!n)return a;if(n===!0)return Lhe(a);if(xt.isFunction(n))return n.call(this,a,o);if(xt.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(i,n){if(i=cy(i),i){const o=xt.findKey(this,i);return!!(o&&this[o]!==void 0&&(!n||SD(this,this[o],o,n)))}return!1}delete(i,n){const o=this;let a=!1;function c(d){if(d=cy(d),d){const p=xt.findKey(o,d);p&&(!n||SD(o,o[p],p,n))&&(delete o[p],a=!0)}}return xt.isArray(i)?i.forEach(c):c(i),a}clear(i){const n=Object.keys(this);let o=n.length,a=!1;for(;o--;){const c=n[o];(!i||SD(this,this[c],c,i,!0))&&(delete this[c],a=!0)}return a}normalize(i){const n=this,o={};return xt.forEach(this,(a,c)=>{const d=xt.findKey(o,c);if(d){n[d]=Ix(a),delete n[c];return}const p=i?Rhe(c):String(c).trim();p!==c&&delete n[c],n[p]=Ix(a),o[p]=!0}),this}concat(...i){return this.constructor.concat(this,...i)}toJSON(i){const n=Object.create(null);return xt.forEach(this,(o,a)=>{o!=null&&o!==!1&&(n[a]=i&&xt.isArray(o)?o.join(", "):o)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([i,n])=>i+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(i){return i instanceof this?i:new this(i)}static concat(i,...n){const o=new this(i);return n.forEach(a=>o.set(a)),o}static accessor(i){const n=(this[RB]=this[RB]={accessors:{}}).accessors,o=this.prototype;function a(c){const d=cy(c);n[d]||(zhe(o,c),n[d]=!0)}return xt.isArray(i)?i.forEach(a):a(i),this}}fc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);xt.reduceDescriptors(fc.prototype,({value:t},i)=>{let n=i[0].toUpperCase()+i.slice(1);return{get:()=>t,set(o){this[n]=o}}});xt.freezeMethods(fc);function ED(t,i){const n=this||vA,o=i||n,a=fc.from(o.headers);let c=o.data;return xt.forEach(t,function(d){c=d.call(n,c,a.normalize(),i?i.status:void 0)}),a.normalize(),c}function iF(t){return!!(t&&t.__CANCEL__)}function Mk(t,i,n){dr.call(this,t??"canceled",dr.ERR_CANCELED,i,n),this.name="CanceledError"}xt.inherits(Mk,dr,{__CANCEL__:!0});function oF(t,i,n){const o=n.config.validateStatus;!n.status||!o||o(n.status)?t(n):i(new dr("Request failed with status code "+n.status,[dr.ERR_BAD_REQUEST,dr.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Fhe(t){const i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return i&&i[1]||""}function Uhe(t,i){t=t||10;const n=new Array(t),o=new Array(t);let a=0,c=0,d;return i=i!==void 0?i:1e3,function(p){const m=Date.now(),k=o[c];d||(d=m),n[a]=p,o[a]=m;let v=c,_=0;for(;v!==a;)_+=n[v++],v=v%t;if(a=(a+1)%t,a===c&&(c=(c+1)%t),m-d<i)return;const x=k&&m-k;return x?Math.round(_*1e3/x):void 0}}function qhe(t,i){let n=0,o=1e3/i,a,c;const d=(p,m=Date.now())=>{n=m,a=null,c&&(clearTimeout(c),c=null),t.apply(null,p)};return[(...p)=>{const m=Date.now(),k=m-n;k>=o?d(p,m):(a=p,c||(c=setTimeout(()=>{c=null,d(a)},o-k)))},()=>a&&d(a)]}const l5=(t,i,n=3)=>{let o=0;const a=Uhe(50,250);return qhe(c=>{const d=c.loaded,p=c.lengthComputable?c.total:void 0,m=d-o,k=a(m),v=d<=p;o=d;const _={loaded:d,total:p,progress:p?d/p:void 0,bytes:m,rate:k||void 0,estimated:k&&p&&v?(p-d)/k:void 0,event:c,lengthComputable:p!=null,[i?"download":"upload"]:!0};t(_)},n)},zB=(t,i)=>{const n=t!=null;return[o=>i[0]({lengthComputable:n,total:t,loaded:o}),i[1]]},FB=t=>(...i)=>xt.asap(()=>t(...i)),Vhe=ul.hasStandardBrowserEnv?((t,i)=>n=>(n=new URL(n,ul.origin),t.protocol===n.protocol&&t.host===n.host&&(i||t.port===n.port)))(new URL(ul.origin),ul.navigator&&/(msie|trident)/i.test(ul.navigator.userAgent)):()=>!0,Hhe=ul.hasStandardBrowserEnv?{write(t,i,n,o,a,c){const d=[t+"="+encodeURIComponent(i)];xt.isNumber(n)&&d.push("expires="+new Date(n).toGMTString()),xt.isString(o)&&d.push("path="+o),xt.isString(a)&&d.push("domain="+a),c===!0&&d.push("secure"),document.cookie=d.join("; ")},read(t){const i=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $he(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Whe(t,i){return i?t.replace(/\/?\/$/,"")+"/"+i.replace(/^\/+/,""):t}function sF(t,i){return t&&!$he(i)?Whe(t,i):i}const UB=t=>t instanceof fc?{...t}:t;function mb(t,i){i=i||{};const n={};function o(k,v,_,x){return xt.isPlainObject(k)&&xt.isPlainObject(v)?xt.merge.call({caseless:x},k,v):xt.isPlainObject(v)?xt.merge({},v):xt.isArray(v)?v.slice():v}function a(k,v,_,x){if(xt.isUndefined(v)){if(!xt.isUndefined(k))return o(void 0,k,_,x)}else return o(k,v,_,x)}function c(k,v){if(!xt.isUndefined(v))return o(void 0,v)}function d(k,v){if(xt.isUndefined(v)){if(!xt.isUndefined(k))return o(void 0,k)}else return o(void 0,v)}function p(k,v,_){if(_ in i)return o(k,v);if(_ in t)return o(void 0,k)}const m={url:c,method:c,data:c,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:p,headers:(k,v,_)=>a(UB(k),UB(v),_,!0)};return xt.forEach(Object.keys(Object.assign({},t,i)),function(k){const v=m[k]||a,_=v(t[k],i[k],k);xt.isUndefined(_)&&v!==p||(n[k]=_)}),n}const aF=t=>{const i=mb({},t);let{data:n,withXSRFToken:o,xsrfHeaderName:a,xsrfCookieName:c,headers:d,auth:p}=i;i.headers=d=fc.from(d),i.url=tF(sF(i.baseURL,i.url),t.params,t.paramsSerializer),p&&d.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):"")));let m;if(xt.isFormData(n)){if(ul.hasStandardBrowserEnv||ul.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((m=d.getContentType())!==!1){const[k,...v]=m?m.split(";").map(_=>_.trim()).filter(Boolean):[];d.setContentType([k||"multipart/form-data",...v].join("; "))}}if(ul.hasStandardBrowserEnv&&(o&&xt.isFunction(o)&&(o=o(i)),o||o!==!1&&Vhe(i.url))){const k=a&&c&&Hhe.read(c);k&&d.set(a,k)}return i},Ghe=typeof XMLHttpRequest<"u",Yhe=Ghe&&function(t){return new Promise(function(i,n){const o=aF(t);let a=o.data;const c=fc.from(o.headers).normalize();let{responseType:d,onUploadProgress:p,onDownloadProgress:m}=o,k,v,_,x,y;function D(){x&&x(),y&&y(),o.cancelToken&&o.cancelToken.unsubscribe(k),o.signal&&o.signal.removeEventListener("abort",k)}let E=new XMLHttpRequest;E.open(o.method.toUpperCase(),o.url,!0),E.timeout=o.timeout;function j(){if(!E)return;const B=fc.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),z={data:!d||d==="text"||d==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:B,config:t,request:E};oF(function(G){i(G),D()},function(G){n(G),D()},z),E=null}"onloadend"in E?E.onloadend=j:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(j)},E.onabort=function(){E&&(n(new dr("Request aborted",dr.ECONNABORTED,t,E)),E=null)},E.onerror=function(){n(new dr("Network Error",dr.ERR_NETWORK,t,E)),E=null},E.ontimeout=function(){let B=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const z=o.transitional||nF;o.timeoutErrorMessage&&(B=o.timeoutErrorMessage),n(new dr(B,z.clarifyTimeoutError?dr.ETIMEDOUT:dr.ECONNABORTED,t,E)),E=null},a===void 0&&c.setContentType(null),"setRequestHeader"in E&&xt.forEach(c.toJSON(),function(B,z){E.setRequestHeader(z,B)}),xt.isUndefined(o.withCredentials)||(E.withCredentials=!!o.withCredentials),d&&d!=="json"&&(E.responseType=o.responseType),m&&([_,y]=l5(m,!0),E.addEventListener("progress",_)),p&&E.upload&&([v,x]=l5(p),E.upload.addEventListener("progress",v),E.upload.addEventListener("loadend",x)),(o.cancelToken||o.signal)&&(k=B=>{E&&(n(!B||B.type?new Mk(null,t,E):B),E.abort(),E=null)},o.cancelToken&&o.cancelToken.subscribe(k),o.signal&&(o.signal.aborted?k():o.signal.addEventListener("abort",k)));const M=Fhe(o.url);if(M&&ul.protocols.indexOf(M)===-1){n(new dr("Unsupported protocol "+M+":",dr.ERR_BAD_REQUEST,t));return}E.send(a||null)})},Khe=(t,i)=>{const{length:n}=t=t?t.filter(Boolean):[];if(i||n){let o=new AbortController,a;const c=function(k){if(!a){a=!0,p();const v=k instanceof Error?k:this.reason;o.abort(v instanceof dr?v:new Mk(v instanceof Error?v.message:v))}};let d=i&&setTimeout(()=>{d=null,c(new dr(`timeout ${i} of ms exceeded`,dr.ETIMEDOUT))},i);const p=()=>{t&&(d&&clearTimeout(d),d=null,t.forEach(k=>{k.unsubscribe?k.unsubscribe(c):k.removeEventListener("abort",c)}),t=null)};t.forEach(k=>k.addEventListener("abort",c));const{signal:m}=o;return m.unsubscribe=()=>xt.asap(p),m}},Qhe=function*(t,i){let n=t.byteLength;if(n<i){yield t;return}let o=0,a;for(;o<n;)a=o+i,yield t.slice(o,a),o=a},Zhe=async function*(t,i){for await(const n of Jhe(t))yield*Qhe(n,i)},Jhe=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const i=t.getReader();try{for(;;){const{done:n,value:o}=await i.read();if(n)break;yield o}}finally{await i.cancel()}},qB=(t,i,n,o)=>{const a=Zhe(t,i);let c=0,d,p=m=>{d||(d=!0,o&&o(m))};return new ReadableStream({async pull(m){try{const{done:k,value:v}=await a.next();if(k){p(),m.close();return}let _=v.byteLength;if(n){let x=c+=_;n(x)}m.enqueue(new Uint8Array(v))}catch(k){throw p(k),k}},cancel(m){return p(m),a.return()}},{highWaterMark:2})},eS=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",lF=eS&&typeof ReadableStream=="function",Xhe=eS&&(typeof TextEncoder=="function"?(t=>i=>t.encode(i))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),cF=(t,...i)=>{try{return!!t(...i)}catch{return!1}},efe=lF&&cF(()=>{let t=!1;const i=new Request(ul.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!i}),VB=64*1024,j6=lF&&cF(()=>xt.isReadableStream(new Response("").body)),c5={stream:j6&&(t=>t.body)};eS&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(i=>{!c5[i]&&(c5[i]=xt.isFunction(t[i])?n=>n[i]():(n,o)=>{throw new dr(`Response type '${i}' is not supported`,dr.ERR_NOT_SUPPORT,o)})})})(new Response);const tfe=async t=>{if(t==null)return 0;if(xt.isBlob(t))return t.size;if(xt.isSpecCompliantForm(t))return(await new Request(ul.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(xt.isArrayBufferView(t)||xt.isArrayBuffer(t))return t.byteLength;if(xt.isURLSearchParams(t)&&(t=t+""),xt.isString(t))return(await Xhe(t)).byteLength},nfe=async(t,i)=>xt.toFiniteNumber(t.getContentLength())??tfe(i),rfe=eS&&(async t=>{let{url:i,method:n,data:o,signal:a,cancelToken:c,timeout:d,onDownloadProgress:p,onUploadProgress:m,responseType:k,headers:v,withCredentials:_="same-origin",fetchOptions:x}=aF(t);k=k?(k+"").toLowerCase():"text";let y=Khe([a,c&&c.toAbortSignal()],d),D;const E=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let j;try{if(m&&efe&&n!=="get"&&n!=="head"&&(j=await nfe(v,o))!==0){let J=new Request(i,{method:"POST",body:o,duplex:"half"}),H;if(xt.isFormData(o)&&(H=J.headers.get("content-type"))&&v.setContentType(H),J.body){const[F,Q]=zB(j,l5(FB(m)));o=qB(J.body,VB,F,Q)}}xt.isString(_)||(_=_?"include":"omit");const M="credentials"in Request.prototype;D=new Request(i,{...x,signal:y,method:n.toUpperCase(),headers:v.normalize().toJSON(),body:o,duplex:"half",credentials:M?_:void 0});let B=await fetch(D);const z=j6&&(k==="stream"||k==="response");if(j6&&(p||z&&E)){const J={};["status","statusText","headers"].forEach(Z=>{J[Z]=B[Z]});const H=xt.toFiniteNumber(B.headers.get("content-length")),[F,Q]=p&&zB(H,l5(FB(p),!0))||[];B=new Response(qB(B.body,VB,F,()=>{Q&&Q(),E&&E()}),J)}k=k||"text";let G=await c5[xt.findKey(c5,k)||"text"](B,t);return!z&&E&&E(),await new Promise((J,H)=>{oF(J,H,{data:G,headers:fc.from(B.headers),status:B.status,statusText:B.statusText,config:t,request:D})})}catch(M){throw E&&E(),M&&M.name==="TypeError"&&/fetch/i.test(M.message)?Object.assign(new dr("Network Error",dr.ERR_NETWORK,t,D),{cause:M.cause||M}):dr.from(M,M&&M.code,t,D)}}),O6={http:khe,xhr:Yhe,fetch:rfe};xt.forEach(O6,(t,i)=>{if(t){try{Object.defineProperty(t,"name",{value:i})}catch{}Object.defineProperty(t,"adapterName",{value:i})}});const HB=t=>`- ${t}`,ife=t=>xt.isFunction(t)||t===null||t===!1,uF={getAdapter:t=>{t=xt.isArray(t)?t:[t];const{length:i}=t;let n,o;const a={};for(let c=0;c<i;c++){n=t[c];let d;if(o=n,!ife(n)&&(o=O6[(d=String(n)).toLowerCase()],o===void 0))throw new dr(`Unknown adapter '${d}'`);if(o)break;a[d||"#"+c]=o}if(!o){const c=Object.entries(a).map(([p,m])=>`adapter ${p} `+(m===!1?"is not supported by the environment":"is not available in the build"));let d=i?c.length>1?`since :
`+c.map(HB).join(`
`):" "+HB(c[0]):"as no adapter specified";throw new dr("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return o},adapters:O6};function DD(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Mk(null,t)}function $B(t){return DD(t),t.headers=fc.from(t.headers),t.data=ED.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),uF.getAdapter(t.adapter||vA.adapter)(t).then(function(i){return DD(t),i.data=ED.call(t,t.transformResponse,i),i.headers=fc.from(i.headers),i},function(i){return iF(i)||(DD(t),i&&i.response&&(i.response.data=ED.call(t,t.transformResponse,i.response),i.response.headers=fc.from(i.response.headers))),Promise.reject(i)})}const dF="1.7.9",tS={};["object","boolean","number","function","string","symbol"].forEach((t,i)=>{tS[t]=function(n){return typeof n===t||"a"+(i<1?"n ":" ")+t}});const WB={};tS.transitional=function(t,i,n){function o(a,c){return"[Axios v"+dF+"] Transitional option '"+a+"'"+c+(n?". "+n:"")}return(a,c,d)=>{if(t===!1)throw new dr(o(c," has been removed"+(i?" in "+i:"")),dr.ERR_DEPRECATED);return i&&!WB[c]&&(WB[c]=!0,console.warn(o(c," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(a,c,d):!0}};tS.spelling=function(t){return(i,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function ofe(t,i,n){if(typeof t!="object")throw new dr("options must be an object",dr.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let a=o.length;for(;a-- >0;){const c=o[a],d=i[c];if(d){const p=t[c],m=p===void 0||d(p,c,t);if(m!==!0)throw new dr("option "+c+" must be "+m,dr.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new dr("Unknown option "+c,dr.ERR_BAD_OPTION)}}const Tx={assertOptions:ofe,validators:tS},Vh=Tx.validators;let lb=class{constructor(i){this.defaults=i,this.interceptors={request:new PB,response:new PB}}async request(i,n){try{return await this._request(i,n)}catch(o){if(o instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const c=a.stack?a.stack.replace(/^.+\n/,""):"";try{o.stack?c&&!String(o.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+c):o.stack=c}catch{}}throw o}}_request(i,n){typeof i=="string"?(n=n||{},n.url=i):n=i||{},n=mb(this.defaults,n);const{transitional:o,paramsSerializer:a,headers:c}=n;o!==void 0&&Tx.assertOptions(o,{silentJSONParsing:Vh.transitional(Vh.boolean),forcedJSONParsing:Vh.transitional(Vh.boolean),clarifyTimeoutError:Vh.transitional(Vh.boolean)},!1),a!=null&&(xt.isFunction(a)?n.paramsSerializer={serialize:a}:Tx.assertOptions(a,{encode:Vh.function,serialize:Vh.function},!0)),Tx.assertOptions(n,{baseUrl:Vh.spelling("baseURL"),withXsrfToken:Vh.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let d=c&&xt.merge(c.common,c[n.method]);c&&xt.forEach(["delete","get","head","post","put","patch","common"],D=>{delete c[D]}),n.headers=fc.concat(d,c);const p=[];let m=!0;this.interceptors.request.forEach(function(D){typeof D.runWhen=="function"&&D.runWhen(n)===!1||(m=m&&D.synchronous,p.unshift(D.fulfilled,D.rejected))});const k=[];this.interceptors.response.forEach(function(D){k.push(D.fulfilled,D.rejected)});let v,_=0,x;if(!m){const D=[$B.bind(this),void 0];for(D.unshift.apply(D,p),D.push.apply(D,k),x=D.length,v=Promise.resolve(n);_<x;)v=v.then(D[_++],D[_++]);return v}x=p.length;let y=n;for(_=0;_<x;){const D=p[_++],E=p[_++];try{y=D(y)}catch(j){E.call(this,j);break}}try{v=$B.call(this,y)}catch(D){return Promise.reject(D)}for(_=0,x=k.length;_<x;)v=v.then(k[_++],k[_++]);return v}getUri(i){i=mb(this.defaults,i);const n=sF(i.baseURL,i.url);return tF(n,i.params,i.paramsSerializer)}};xt.forEach(["delete","get","head","options"],function(t){lb.prototype[t]=function(i,n){return this.request(mb(n||{},{method:t,url:i,data:(n||{}).data}))}});xt.forEach(["post","put","patch"],function(t){function i(n){return function(o,a,c){return this.request(mb(c||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}lb.prototype[t]=i(),lb.prototype[t+"Form"]=i(!0)});let sfe=class hF{constructor(i){if(typeof i!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const o=this;this.promise.then(a=>{if(!o._listeners)return;let c=o._listeners.length;for(;c-- >0;)o._listeners[c](a);o._listeners=null}),this.promise.then=a=>{let c;const d=new Promise(p=>{o.subscribe(p),c=p}).then(a);return d.cancel=function(){o.unsubscribe(c)},d},i(function(a,c,d){o.reason||(o.reason=new Mk(a,c,d),n(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]}unsubscribe(i){if(!this._listeners)return;const n=this._listeners.indexOf(i);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const i=new AbortController,n=o=>{i.abort(o)};return this.subscribe(n),i.signal.unsubscribe=()=>this.unsubscribe(n),i.signal}static source(){let i;return{token:new hF(function(n){i=n}),cancel:i}}};function afe(t){return function(i){return t.apply(null,i)}}function lfe(t){return xt.isObject(t)&&t.isAxiosError===!0}const B6={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(B6).forEach(([t,i])=>{B6[i]=t});function fF(t){const i=new lb(t),n=Vz(lb.prototype.request,i);return xt.extend(n,lb.prototype,i,{allOwnKeys:!0}),xt.extend(n,i,null,{allOwnKeys:!0}),n.create=function(o){return fF(mb(t,o))},n}const Po=fF(vA);Po.Axios=lb;Po.CanceledError=Mk;Po.CancelToken=sfe;Po.isCancel=iF;Po.VERSION=dF;Po.toFormData=X5;Po.AxiosError=dr;Po.Cancel=Po.CanceledError;Po.all=function(t){return Promise.all(t)};Po.spread=afe;Po.isAxiosError=lfe;Po.mergeConfig=mb;Po.AxiosHeaders=fc;Po.formToJSON=t=>rF(xt.isHTMLForm(t)?new FormData(t):t);Po.getAdapter=uF.getAdapter;Po.HttpStatusCode=B6;Po.default=Po;const cfe=async t=>{const i=new FormData;i.append("chatbot_id",t);try{const n=await Po.post("https://rag-flask-api.onrender.com/start_conversation",i,{headers:{"Content-Type":"multipart/form-data"}}),{conversation_id:o,intro_message:a}=n.data;if(!o)throw new Error("Failed to retrieve conversation ID from server.");return{conversationId:o,introMessage:a}}catch(n){throw console.error("Error starting conversation:",n),n}},ufe=async(t,i,n)=>{const o=new FormData;o.append("chatbot_id",t),o.append("conversation_id",i),o.append("question",n);try{return(await Po.post("https://rag-flask-api.onrender.com/ask",o,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(a){throw console.error("Error sending message:",a),a}},dfe=async(t,i)=>{const n=new FormData;n.append("chatbot_id",t),n.append("conversation_id",i);try{await Po.post("https://rag-flask-api.onrender.com/end_conversation",n,{headers:{"Content-Type":"multipart/form-data"}})}catch(o){throw console.error("Error ending conversation:",o),o}},hfe=async t=>{try{const i=await Po.get(`https://rag-flask-api.onrender.com/summary/${t}`);if(i.status===200&&i.data.summary)return i.data.summary;throw new Error("Summary not found for this chatbot.")}catch(i){throw console.error("Error fetching summary:",i),i}},ffe=({chatbotId:t,open:i,onClose:n})=>{const[o,a]=se.useState(null),[c,d]=se.useState(!1),[p,m]=se.useState(null),k=async()=>{d(!0),m(null);try{const v=await hfe(t);a(v)}catch(v){m(v.message||"Failed to fetch summary. Please try again.")}finally{d(!1)}};return se.useEffect(()=>{i&&k()},[i]),Kn.jsx(Lx,{open:i,onClose:n,"aria-labelledby":"summary-modal-title","aria-describedby":"summary-modal-description",children:Kn.jsxs(Ne,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:600,bgcolor:"background.paper",borderRadius:4,boxShadow:24,p:4},children:[Kn.jsxs(Ne,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[Kn.jsx(xe,{id:"summary-modal-title",variant:"h6",component:"h2",children:"Document Summary"}),Kn.jsx(Gn,{onClick:n,children:Kn.jsx(Nde,{})})]}),c?Kn.jsx(Ne,{sx:{display:"flex",justifyContent:"center",my:4},children:Kn.jsx(ki,{})}):p?Kn.jsx(xe,{color:"error",children:p}):Kn.jsx(Ne,{sx:{maxHeight:300,overflowY:"auto",padding:2,border:"1px solid #ddd",borderRadius:2,backgroundColor:"#f9f9f9"},children:Kn.jsx(II,{children:o})}),Kn.jsx(Ct,{variant:"contained",sx:{mt:2},onClick:n,fullWidth:!0,children:"Close"})]})})},pfe=se.forwardRef(({chatbotId:t,onConversationStart:i},n)=>{const[o,a]=se.useState(!1),[c,d]=se.useState(()=>{const H=localStorage.getItem("responses");return H?JSON.parse(H):[]}),[p,m]=se.useState(()=>localStorage.getItem("conversationId")||null),[k,v]=se.useState(!1),[_,x]=se.useState(null),[y,D]=se.useState(!1),E=Ay("(max-width:600px)"),j=Ay("(min-width:601px) and (max-width:960px)"),M=se.useRef(null);se.useEffect(()=>{typeof i=="function"&&p&&i(p)},[p,i]),se.useEffect(()=>{M.current&&M.current.scrollIntoView({behavior:"smooth"})},[c]);const B=async()=>{a(H=>!H),!o&&!p&&!k&&z()},z=async()=>{if(!p){v(!0),x(null);try{const H=await cfe(t),{conversationId:F,introMessage:Q}=H;m(F),localStorage.setItem("conversationId",F),d(Z=>{const ae=[...Z,{id:"intro",sender:"chatbot",text:Q}];return localStorage.setItem("responses",JSON.stringify(ae)),ae})}catch(H){console.error("Error starting conversation:",H),x("Failed to start a conversation. Please try again.")}finally{v(!1)}}},G=async(H,F=p)=>{v(!0),x(null);try{const Q=await ufe(t,F,H);d(Z=>{const ae=[...Z,{question:H,answer:Q.answer}];return localStorage.setItem("responses",JSON.stringify(ae)),ae})}catch(Q){console.error("Error sending message:",Q),x("Failed to send the message. Please try again.")}finally{v(!1)}},J=async()=>{v(!0),x(null);try{p&&await dfe(t,p),m(null),d([]),localStorage.removeItem("conversationId"),localStorage.removeItem("responses")}catch(H){console.error("Error ending conversation:",H),x("Failed to end the conversation. Please try again.")}finally{v(!1)}};return se.useImperativeHandle(n,()=>({endConversation:J})),Kn.jsx(Kn.Fragment,{children:o?Kn.jsxs(hr,{elevation:3,sx:CD.chatContainer(E,j),children:[Kn.jsxs(Ne,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[Kn.jsx(xe,{sx:CD.chatHeader,children:"PAT (Personalized Academic Tutor)"}),Kn.jsx(Gn,{onClick:B,sx:{color:"black"},children:"X"})]}),Kn.jsx(Dde,{responses:c}),Kn.jsx("div",{ref:M}),k&&Kn.jsx(cu,{sx:{position:"absolute",top:0,left:0,width:"100%"}}),_&&Kn.jsx(xe,{color:"error",children:_}),Kn.jsx(Ide,{onSendMessage:G,onStartConversation:z,onEndConversation:J,conversationId:p}),Kn.jsx(Ct,{variant:"outlined",onClick:()=>D(!0),sx:{mt:2},children:"View Summary"}),Kn.jsx(ffe,{chatbotId:t,open:y,onClose:()=>D(!1)})]}):Kn.jsx(Gn,{onClick:B,sx:CD.chatToggleButton,children:Kn.jsx(Ede,{fontSize:"large"})})})});class mfe extends se.Component{constructor(i){super(i),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(i){console.error("Error caught by ErrorBoundary:",i)}render(){return this.state.hasError?w.jsx("h2",{children:"Something went wrong while loading the Chatbot."}):this.props.children}}const pF=se.forwardRef(({chatbotId:t},i)=>{const{userDetails:n}=ko(),o=se.useRef(null),[a,c]=se.useState(!1),d=async p=>{if(console.log(` Chatbot started. Chatbot ID: ${t}, Conversation ID: ${p}`),n!=null&&n.uid)try{await ZL(Vn(mP,"conversations",p),{conversationId:p,chatbotId:t,userId:n.uid,startedAt:new Date().toISOString()},{merge:!0}),console.log("Conversation saved to Firestore")}catch(m){console.error("Failed to save conversation:",m)}};return se.useImperativeHandle(i,()=>({endConversation:()=>{o.current&&(console.log("Ending chatbot conversation..."),o.current.endConversation())}})),w.jsx(Ne,{sx:{position:"relative",display:"flex",flexDirection:"column",alignItems:"flex-end"},children:w.jsxs(Ne,{sx:{background:a?"rgba(255, 255, 255, 0.95)":"#00695c",borderRadius:4,boxShadow:a?"0 8px 32px rgba(0, 0, 0, 0.12)":"0 2px 8px rgba(0, 0, 0, 0.15)",overflow:"hidden",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",border:a?"1px solid #e0e0e0":"none",minWidth:a?400:"auto",maxWidth:a?450:"auto"},children:[w.jsxs(Ct,{variant:"text",onClick:()=>c(!a),sx:{background:a?"#00695c !important":"transparent !important",backgroundColor:a?"#00695c !important":"transparent !important",color:"white !important",px:2.5,py:1.5,borderRadius:a?"16px 16px 0 0":3,textTransform:"none",display:"flex",alignItems:"center",gap:1.5,minWidth:"auto",width:"100%",justifyContent:"flex-start","&:hover":{background:"#004d40 !important",backgroundColor:"#004d40 !important",boxShadow:a?"none":"0px 4px 12px rgba(0, 105, 92, 0.3)"},"&:active":{background:"#004d40 !important",backgroundColor:"#004d40 !important"},"&:focus":{background:a?"#00695c !important":"#004d40 !important",backgroundColor:a?"#00695c !important":"#004d40 !important"},"&.Mui-focusVisible":{background:a?"#00695c !important":"#004d40 !important",backgroundColor:a?"#00695c !important":"#004d40 !important"},transition:"all 0.2s ease-in-out"},children:[w.jsx(L$,{sx:{fontSize:"1.5rem"}}),w.jsxs(Ne,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",lineHeight:1,flex:1},children:[w.jsx(xe,{variant:"body1",sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",fontWeight:"bold",mb:0,lineHeight:1.1},children:"Chat with PAT"}),w.jsx(xe,{variant:"caption",sx:{fontFamily:"Gabarito, sans-serif",fontSize:"0.75rem",opacity:.9,lineHeight:1,mt:.2},children:"AI Tutor"})]}),a?w.jsx(f5,{sx:{fontSize:"1.2rem"}}):w.jsx(sd,{sx:{fontSize:"1.2rem"}})]}),w.jsx(p5,{in:a,timeout:300,easing:{enter:"cubic-bezier(0.4, 0, 0.2, 1)",exit:"cubic-bezier(0.4, 0, 0.6, 1)"},children:w.jsx(Ne,{sx:{background:"white",borderRadius:"0 0 16px 16px",overflow:"hidden"},children:w.jsx(mfe,{children:w.jsx(pfe,{ref:o,chatbotId:t,onConversationStart:d})})})})]})})});pF.displayName="ChatbotWrapper";const uy="ce5f7921-a3a0-4ea7-b95f-10fe41becda5",gfe=()=>{const[t,i]=se.useState(uy),[n]=oA(),o=se.useRef(null);return se.useEffect(()=>{const a=n.get("material");if(!a){t!==uy&&i(uy);return}(async()=>{var v;console.log("Fetching chatbot ID for material:",a);const d=Nr(),p=Zn(d,"chatbots"),m=pc(p,bo("material.id","==",a)),k=await so(m);if(k.empty)console.log(` No chatbot found for material ${a}, using default:`,uy),i(uy);else{const _=k.docs[0].data();console.log(` Found chatbot for material ${a}:`,_.chatbotId),_.chatbotId!==t&&((v=o.current)==null||v.endConversation()),i(_.chatbotId)}})()},[n,t]),w.jsx(Ne,{sx:{position:"fixed",bottom:16,right:16,zIndex:1100},children:w.jsx(pF,{ref:o,chatbotId:t})})};function yA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function kp(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var i=t.default;if(typeof i=="function"){var n=function o(){return this instanceof o?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};n.prototype=i.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(o){var a=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:function(){return t[o]}})}),n}var GB={exports:{}},dy={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YB;function bfe(){if(YB)return dy;YB=1;var t=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function n(o,a,c){var d=null;if(c!==void 0&&(d=""+c),a.key!==void 0&&(d=""+a.key),"key"in a){c={};for(var p in a)p!=="key"&&(c[p]=a[p])}else c=a;return a=c.ref,{$$typeof:t,type:o,key:d,ref:a!==void 0?a:null,props:c}}return dy.Fragment=i,dy.jsx=n,dy.jsxs=n,dy}var KB;function AA(){return KB||(KB=1,GB.exports=bfe()),GB.exports}var _n=AA(),hy={},QB={exports:{}},ZB;function Nk(){return ZB||(ZB=1,function(t){function i(n){return n&&n.__esModule?n:{default:n}}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}(QB)),QB.exports}var JB={};function Bi(){return Bi=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var o in n)({}).hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Bi.apply(null,arguments)}function Sm(t){if(typeof t!="object"||t===null)return!1;const i=Object.getPrototypeOf(t);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function mF(t){if(se.isValidElement(t)||!Sm(t))return t;const i={};return Object.keys(t).forEach(n=>{i[n]=mF(t[n])}),i}function hf(t,i,n={clone:!0}){const o=n.clone?Bi({},t):t;return Sm(t)&&Sm(i)&&Object.keys(i).forEach(a=>{se.isValidElement(i[a])?o[a]=i[a]:Sm(i[a])&&Object.prototype.hasOwnProperty.call(t,a)&&Sm(t[a])?o[a]=hf(t[a],i[a],n):n.clone?o[a]=Sm(i[a])?mF(i[a]):i[a]:o[a]=i[a]}),o}const kfe=Object.freeze(Object.defineProperty({__proto__:null,default:hf,isPlainObject:Sm},Symbol.toStringTag,{value:"Module"}));function Ky(t){let i="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)i+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+i+" for the full message."}const wfe=Object.freeze(Object.defineProperty({__proto__:null,default:Ky},Symbol.toStringTag,{value:"Module"}));var XB={exports:{}},ji={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eL;function vfe(){if(eL)return ji;eL=1;var t=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),y=Symbol.for("react.client.reference");function D(E){if(typeof E=="object"&&E!==null){var j=E.$$typeof;switch(j){case t:switch(E=E.type,E){case n:case a:case o:case m:case k:case x:return E;default:switch(E=E&&E.$$typeof,E){case d:case p:case _:case v:return E;case c:return E;default:return j}}case i:return j}}}return ji.ContextConsumer=c,ji.ContextProvider=d,ji.Element=t,ji.ForwardRef=p,ji.Fragment=n,ji.Lazy=_,ji.Memo=v,ji.Portal=i,ji.Profiler=a,ji.StrictMode=o,ji.Suspense=m,ji.SuspenseList=k,ji.isContextConsumer=function(E){return D(E)===c},ji.isContextProvider=function(E){return D(E)===d},ji.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},ji.isForwardRef=function(E){return D(E)===p},ji.isFragment=function(E){return D(E)===n},ji.isLazy=function(E){return D(E)===_},ji.isMemo=function(E){return D(E)===v},ji.isPortal=function(E){return D(E)===i},ji.isProfiler=function(E){return D(E)===a},ji.isStrictMode=function(E){return D(E)===o},ji.isSuspense=function(E){return D(E)===m},ji.isSuspenseList=function(E){return D(E)===k},ji.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===a||E===o||E===m||E===k||typeof E=="object"&&E!==null&&(E.$$typeof===_||E.$$typeof===v||E.$$typeof===d||E.$$typeof===c||E.$$typeof===p||E.$$typeof===y||E.getModuleId!==void 0)},ji.typeOf=D,ji}var tL;function yfe(){return tL||(tL=1,XB.exports=vfe()),XB.exports}var nL=yfe();const Afe=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function gF(t){const i=`${t}`.match(Afe);return i&&i[1]||""}function bF(t,i=""){return t.displayName||t.name||gF(t)||i}function rL(t,i,n){const o=bF(i);return t.displayName||(o!==""?`${n}(${o})`:n)}function _fe(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return bF(t,"Component");if(typeof t=="object")switch(t.$$typeof){case nL.ForwardRef:return rL(t,t.render,"ForwardRef");case nL.Memo:return rL(t,t.type,"memo");default:return}}}const Cfe=Object.freeze(Object.defineProperty({__proto__:null,default:_fe,getFunctionName:gF},Symbol.toStringTag,{value:"Module"}));function Vm(t){if(typeof t!="string")throw new Error(Ky(7));return t.charAt(0).toUpperCase()+t.slice(1)}const xfe=Object.freeze(Object.defineProperty({__proto__:null,default:Vm},Symbol.toStringTag,{value:"Module"}));function Sfe(...t){return t.reduce((i,n)=>n==null?i:function(...o){i.apply(this,o),n.apply(this,o)},()=>{})}function Efe(t,i=166){let n;function o(...a){const c=()=>{t.apply(this,a)};clearTimeout(n),n=setTimeout(c,i)}return o.clear=()=>{clearTimeout(n)},o}function Dfe(t,i){return()=>null}function Ife(t,i){var n,o;return se.isValidElement(t)&&i.indexOf((n=t.type.muiName)!=null?n:(o=t.type)==null||(o=o._payload)==null||(o=o.value)==null?void 0:o.muiName)!==-1}function kF(t){return t&&t.ownerDocument||document}function Tfe(t){return kF(t).defaultView||window}function Mfe(t,i){return()=>null}function wF(t,i){typeof t=="function"?t(i):t&&(t.current=i)}const vF=typeof window<"u"?se.useLayoutEffect:se.useEffect;let iL=0;function Nfe(t){const[i,n]=se.useState(t),o=t||i;return se.useEffect(()=>{i==null&&(iL+=1,n(`mui-${iL}`))},[i]),o}const oL=se.useId;function jfe(t){if(oL!==void 0){const i=oL();return t??i}return Nfe(t)}function Ofe(t,i,n,o,a){return null}function Bfe({controlled:t,default:i,name:n,state:o="value"}){const{current:a}=se.useRef(t!==void 0),[c,d]=se.useState(i),p=a?t:c,m=se.useCallback(k=>{a||d(k)},[]);return[p,m]}function Lfe(t){const i=se.useRef(t);return vF(()=>{i.current=t}),se.useRef((...n)=>(0,i.current)(...n)).current}function Pfe(...t){return se.useMemo(()=>t.every(i=>i==null)?null:i=>{t.forEach(n=>{wF(n,i)})},t)}class qI{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new qI}start(i,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},i)}}let nS=!0,L6=!1;const Rfe=new qI,zfe={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Ffe(t){const{type:i,tagName:n}=t;return!!(n==="INPUT"&&zfe[i]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function Ufe(t){t.metaKey||t.altKey||t.ctrlKey||(nS=!0)}function ID(){nS=!1}function qfe(){this.visibilityState==="hidden"&&L6&&(nS=!0)}function Vfe(t){t.addEventListener("keydown",Ufe,!0),t.addEventListener("mousedown",ID,!0),t.addEventListener("pointerdown",ID,!0),t.addEventListener("touchstart",ID,!0),t.addEventListener("visibilitychange",qfe,!0)}function Hfe(t){const{target:i}=t;try{return i.matches(":focus-visible")}catch{}return nS||Ffe(i)}function $fe(){const t=se.useCallback(a=>{a!=null&&Vfe(a.ownerDocument)},[]),i=se.useRef(!1);function n(){return i.current?(L6=!0,Rfe.start(100,()=>{L6=!1}),i.current=!1,!0):!1}function o(a){return Hfe(a)?(i.current=!0,!0):!1}return{isFocusVisibleRef:i,onFocus:o,onBlur:n,ref:t}}function P6(t,i){const n=Bi({},i);return Object.keys(t).forEach(o=>{if(o.toString().match(/^(components|slots)$/))n[o]=Bi({},t[o],n[o]);else if(o.toString().match(/^(componentsProps|slotProps)$/)){const a=t[o]||{},c=i[o];n[o]={},!c||!Object.keys(c)?n[o]=a:!a||!Object.keys(a)?n[o]=c:(n[o]=Bi({},c),Object.keys(a).forEach(d=>{n[o][d]=P6(a[d],c[d])}))}else n[o]===void 0&&(n[o]=t[o])}),n}function Wfe(t,i,n=void 0){const o={};return Object.keys(t).forEach(a=>{o[a]=t[a].reduce((c,d)=>{if(d){const p=i(d);p!==""&&c.push(p),n&&n[d]&&c.push(n[d])}return c},[]).join(" ")}),o}const sL=t=>t,Gfe=()=>{let t=sL;return{configure(i){t=i},generate(i){return t(i)},reset(){t=sL}}},yF=Gfe(),Yfe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function AF(t,i,n="Mui"){const o=Yfe[i];return o?`${n}-${o}`:`${yF.generate(t)}-${i}`}function Kfe(t,i,n="Mui"){const o={};return i.forEach(a=>{o[a]=AF(t,a,n)}),o}function Qfe(t,i=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(i,Math.min(t,n))}const Zfe=Object.freeze(Object.defineProperty({__proto__:null,default:Qfe},Symbol.toStringTag,{value:"Module"}));function Ym(t,i){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(i.indexOf(o)!==-1)continue;n[o]=t[o]}return n}function _F(t){var i,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(i=0;i<a;i++)t[i]&&(n=_F(t[i]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function Jfe(){for(var t,i,n=0,o="",a=arguments.length;n<a;n++)(t=arguments[n])&&(i=_F(t))&&(o&&(o+=" "),o+=i);return o}const Xfe=se.createContext(void 0);function epe(t){const{theme:i,name:n,props:o}=t;if(!i||!i.components||!i.components[n])return o;const a=i.components[n];return a.defaultProps?P6(a.defaultProps,o):!a.styleOverrides&&!a.variants?P6(a,o):o}function tpe({props:t,name:i}){const n=se.useContext(Xfe);return epe({props:t,name:i,theme:{components:n}})}function npe(t){return tpe(t)}var Vg={},aL={exports:{}},lL;function rpe(){return lL||(lL=1,function(t){function i(){return t.exports=i=Object.assign?Object.assign.bind():function(n){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var c in a)({}).hasOwnProperty.call(a,c)&&(n[c]=a[c])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,i.apply(null,arguments)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}(aL)),aL.exports}var cL={exports:{}},uL;function ipe(){return uL||(uL=1,function(t){function i(n,o){if(n==null)return{};var a={};for(var c in n)if({}.hasOwnProperty.call(n,c)){if(o.indexOf(c)!==-1)continue;a[c]=n[c]}return a}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports}(cL)),cL.exports}function ope(t){for(var i=0,n,o=0,a=t.length;a>=4;++o,a-=4)n=t.charCodeAt(o)&255|(t.charCodeAt(++o)&255)<<8|(t.charCodeAt(++o)&255)<<16|(t.charCodeAt(++o)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,i=(n&65535)*1540483477+((n>>>16)*59797<<16)^(i&65535)*1540483477+((i>>>16)*59797<<16);switch(a){case 3:i^=(t.charCodeAt(o+2)&255)<<16;case 2:i^=(t.charCodeAt(o+1)&255)<<8;case 1:i^=t.charCodeAt(o)&255,i=(i&65535)*1540483477+((i>>>16)*59797<<16)}return i^=i>>>13,i=(i&65535)*1540483477+((i>>>16)*59797<<16),((i^i>>>15)>>>0).toString(36)}var spe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function ape(t){var i=Object.create(null);return function(n){return i[n]===void 0&&(i[n]=t(n)),i[n]}}var lpe=/[A-Z]|^ms/g,cpe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,CF=function(t){return t.charCodeAt(1)===45},dL=function(t){return t!=null&&typeof t!="boolean"},TD=ape(function(t){return CF(t)?t:t.replace(lpe,"-$&").toLowerCase()}),hL=function(t,i){switch(t){case"animation":case"animationName":if(typeof i=="string")return i.replace(cpe,function(n,o,a){return Mm={name:o,styles:a,next:Mm},o})}return spe[t]!==1&&!CF(t)&&typeof i=="number"&&i!==0?i+"px":i};function u5(t,i,n){if(n==null)return"";var o=n;if(o.__emotion_styles!==void 0)return o;switch(typeof n){case"boolean":return"";case"object":{var a=n;if(a.anim===1)return Mm={name:a.name,styles:a.styles,next:Mm},a.name;var c=n;if(c.styles!==void 0){var d=c.next;if(d!==void 0)for(;d!==void 0;)Mm={name:d.name,styles:d.styles,next:Mm},d=d.next;var p=c.styles+";";return p}return upe(t,i,n)}}var m=n;return m}function upe(t,i,n){var o="";if(Array.isArray(n))for(var a=0;a<n.length;a++)o+=u5(t,i,n[a])+";";else for(var c in n){var d=n[c];if(typeof d!="object"){var p=d;dL(p)&&(o+=TD(c)+":"+hL(c,p)+";")}else if(Array.isArray(d)&&typeof d[0]=="string"&&i==null)for(var m=0;m<d.length;m++)dL(d[m])&&(o+=TD(c)+":"+hL(c,d[m])+";");else{var k=u5(t,i,d);switch(c){case"animation":case"animationName":{o+=TD(c)+":"+k+";";break}default:o+=c+"{"+k+"}"}}}return o}var fL=/label:\s*([^\s;{]+)\s*(;|$)/g,Mm;function dpe(t,i,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var o=!0,a="";Mm=void 0;var c=t[0];if(c==null||c.raw===void 0)o=!1,a+=u5(n,i,c);else{var d=c;a+=d[0]}for(var p=1;p<t.length;p++)if(a+=u5(n,i,t[p]),o){var m=c;a+=m[p]}fL.lastIndex=0;for(var k="",v;(v=fL.exec(a))!==null;)k+="-"+v[1];var _=ope(a)+k;return{name:_,styles:a,next:Mm}}function hpe(t){if(t.sheet)return t.sheet;for(var i=0;i<document.styleSheets.length;i++)if(document.styleSheets[i].ownerNode===t)return document.styleSheets[i]}function fpe(t){var i=document.createElement("style");return i.setAttribute("data-emotion",t.key),t.nonce!==void 0&&i.setAttribute("nonce",t.nonce),i.appendChild(document.createTextNode("")),i.setAttribute("data-s",""),i}var ppe=function(){function t(n){var o=this;this._insertTag=function(a){var c;o.tags.length===0?o.insertionPoint?c=o.insertionPoint.nextSibling:o.prepend?c=o.container.firstChild:c=o.before:c=o.tags[o.tags.length-1].nextSibling,o.container.insertBefore(a,c),o.tags.push(a)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var i=t.prototype;return i.hydrate=function(n){n.forEach(this._insertTag)},i.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(fpe(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var a=hpe(o);try{a.insertRule(n,a.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(n));this.ctr++},i.flush=function(){this.tags.forEach(function(n){var o;return(o=n.parentNode)==null?void 0:o.removeChild(n)}),this.tags=[],this.ctr=0},t}(),ol="-ms-",d5="-moz-",si="-webkit-",xF="comm",VI="rule",HI="decl",mpe="@import",SF="@keyframes",gpe="@layer",bpe=Math.abs,rS=String.fromCharCode,kpe=Object.assign;function wpe(t,i){return Ta(t,0)^45?(((i<<2^Ta(t,0))<<2^Ta(t,1))<<2^Ta(t,2))<<2^Ta(t,3):0}function EF(t){return t.trim()}function vpe(t,i){return(t=i.exec(t))?t[0]:t}function li(t,i,n){return t.replace(i,n)}function R6(t,i){return t.indexOf(i)}function Ta(t,i){return t.charCodeAt(i)|0}function Qy(t,i,n){return t.slice(i,n)}function Qh(t){return t.length}function $I(t){return t.length}function ax(t,i){return i.push(t),t}function ype(t,i){return t.map(i).join("")}var iS=1,vk=1,DF=0,gc=0,Ls=0,jk="";function oS(t,i,n,o,a,c,d){return{value:t,root:i,parent:n,type:o,props:a,children:c,line:iS,column:vk,length:d,return:""}}function fy(t,i){return kpe(oS("",null,null,"",null,null,0),t,{length:-t.length},i)}function Ape(){return Ls}function _pe(){return Ls=gc>0?Ta(jk,--gc):0,vk--,Ls===10&&(vk=1,iS--),Ls}function fu(){return Ls=gc<DF?Ta(jk,gc++):0,vk++,Ls===10&&(vk=1,iS++),Ls}function ff(){return Ta(jk,gc)}function Mx(){return gc}function _A(t,i){return Qy(jk,t,i)}function Zy(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function IF(t){return iS=vk=1,DF=Qh(jk=t),gc=0,[]}function TF(t){return jk="",t}function Nx(t){return EF(_A(gc-1,z6(t===91?t+2:t===40?t+1:t)))}function Cpe(t){for(;(Ls=ff())&&Ls<33;)fu();return Zy(t)>2||Zy(Ls)>3?"":" "}function xpe(t,i){for(;--i&&fu()&&!(Ls<48||Ls>102||Ls>57&&Ls<65||Ls>70&&Ls<97););return _A(t,Mx()+(i<6&&ff()==32&&fu()==32))}function z6(t){for(;fu();)switch(Ls){case t:return gc;case 34:case 39:t!==34&&t!==39&&z6(Ls);break;case 40:t===41&&z6(t);break;case 92:fu();break}return gc}function Spe(t,i){for(;fu()&&t+Ls!==57&&!(t+Ls===84&&ff()===47););return"/*"+_A(i,gc-1)+"*"+rS(t===47?t:fu())}function Epe(t){for(;!Zy(ff());)fu();return _A(t,gc)}function Dpe(t){return TF(jx("",null,null,null,[""],t=IF(t),0,[0],t))}function jx(t,i,n,o,a,c,d,p,m){for(var k=0,v=0,_=d,x=0,y=0,D=0,E=1,j=1,M=1,B=0,z="",G=a,J=c,H=o,F=z;j;)switch(D=B,B=fu()){case 40:if(D!=108&&Ta(F,_-1)==58){R6(F+=li(Nx(B),"&","&\f"),"&\f")!=-1&&(M=-1);break}case 34:case 39:case 91:F+=Nx(B);break;case 9:case 10:case 13:case 32:F+=Cpe(D);break;case 92:F+=xpe(Mx()-1,7);continue;case 47:switch(ff()){case 42:case 47:ax(Ipe(Spe(fu(),Mx()),i,n),m);break;default:F+="/"}break;case 123*E:p[k++]=Qh(F)*M;case 125*E:case 59:case 0:switch(B){case 0:case 125:j=0;case 59+v:M==-1&&(F=li(F,/\f/g,"")),y>0&&Qh(F)-_&&ax(y>32?mL(F+";",o,n,_-1):mL(li(F," ","")+";",o,n,_-2),m);break;case 59:F+=";";default:if(ax(H=pL(F,i,n,k,v,a,p,z,G=[],J=[],_),c),B===123)if(v===0)jx(F,i,H,H,G,c,_,p,J);else switch(x===99&&Ta(F,3)===110?100:x){case 100:case 108:case 109:case 115:jx(t,H,H,o&&ax(pL(t,H,H,0,0,a,p,z,a,G=[],_),J),a,J,_,p,o?G:J);break;default:jx(F,H,H,H,[""],J,0,p,J)}}k=v=y=0,E=M=1,z=F="",_=d;break;case 58:_=1+Qh(F),y=D;default:if(E<1){if(B==123)--E;else if(B==125&&E++==0&&_pe()==125)continue}switch(F+=rS(B),B*E){case 38:M=v>0?1:(F+="\f",-1);break;case 44:p[k++]=(Qh(F)-1)*M,M=1;break;case 64:ff()===45&&(F+=Nx(fu())),x=ff(),v=_=Qh(z=F+=Epe(Mx())),B++;break;case 45:D===45&&Qh(F)==2&&(E=0)}}return c}function pL(t,i,n,o,a,c,d,p,m,k,v){for(var _=a-1,x=a===0?c:[""],y=$I(x),D=0,E=0,j=0;D<o;++D)for(var M=0,B=Qy(t,_+1,_=bpe(E=d[D])),z=t;M<y;++M)(z=EF(E>0?x[M]+" "+B:li(B,/&\f/g,x[M])))&&(m[j++]=z);return oS(t,i,n,a===0?VI:p,m,k,v)}function Ipe(t,i,n){return oS(t,i,n,xF,rS(Ape()),Qy(t,2,-2),0)}function mL(t,i,n,o){return oS(t,i,n,HI,Qy(t,0,o),Qy(t,o+1,-1),o)}function uk(t,i){for(var n="",o=$I(t),a=0;a<o;a++)n+=i(t[a],a,t,i)||"";return n}function Tpe(t,i,n,o){switch(t.type){case gpe:if(t.children.length)break;case mpe:case HI:return t.return=t.return||t.value;case xF:return"";case SF:return t.return=t.value+"{"+uk(t.children,o)+"}";case VI:t.value=t.props.join(",")}return Qh(n=uk(t.children,o))?t.return=t.value+"{"+n+"}":""}function Mpe(t){var i=$I(t);return function(n,o,a,c){for(var d="",p=0;p<i;p++)d+=t[p](n,o,a,c)||"";return d}}function Npe(t){return function(i){i.root||(i=i.return)&&t(i)}}var jpe=function(t,i,n){for(var o=0,a=0;o=a,a=ff(),o===38&&a===12&&(i[n]=1),!Zy(a);)fu();return _A(t,gc)},Ope=function(t,i){var n=-1,o=44;do switch(Zy(o)){case 0:o===38&&ff()===12&&(i[n]=1),t[n]+=jpe(gc-1,i,n);break;case 2:t[n]+=Nx(o);break;case 4:if(o===44){t[++n]=ff()===58?"&\f":"",i[n]=t[n].length;break}default:t[n]+=rS(o)}while(o=fu());return t},Bpe=function(t,i){return TF(Ope(IF(t),i))},gL=new WeakMap,Lpe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var i=t.value,n=t.parent,o=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&i.charCodeAt(0)!==58&&!gL.get(n))&&!o){gL.set(t,!0);for(var a=[],c=Bpe(i,a),d=n.props,p=0,m=0;p<c.length;p++)for(var k=0;k<d.length;k++,m++)t.props[m]=a[p]?c[p].replace(/&\f/g,d[k]):d[k]+" "+c[p]}}},Ppe=function(t){if(t.type==="decl"){var i=t.value;i.charCodeAt(0)===108&&i.charCodeAt(2)===98&&(t.return="",t.value="")}};function MF(t,i){switch(wpe(t,i)){case 5103:return si+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return si+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return si+t+d5+t+ol+t+t;case 6828:case 4268:return si+t+ol+t+t;case 6165:return si+t+ol+"flex-"+t+t;case 5187:return si+t+li(t,/(\w+).+(:[^]+)/,si+"box-$1$2"+ol+"flex-$1$2")+t;case 5443:return si+t+ol+"flex-item-"+li(t,/flex-|-self/,"")+t;case 4675:return si+t+ol+"flex-line-pack"+li(t,/align-content|flex-|-self/,"")+t;case 5548:return si+t+ol+li(t,"shrink","negative")+t;case 5292:return si+t+ol+li(t,"basis","preferred-size")+t;case 6060:return si+"box-"+li(t,"-grow","")+si+t+ol+li(t,"grow","positive")+t;case 4554:return si+li(t,/([^-])(transform)/g,"$1"+si+"$2")+t;case 6187:return li(li(li(t,/(zoom-|grab)/,si+"$1"),/(image-set)/,si+"$1"),t,"")+t;case 5495:case 3959:return li(t,/(image-set\([^]*)/,si+"$1$`$1");case 4968:return li(li(t,/(.+:)(flex-)?(.*)/,si+"box-pack:$3"+ol+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+si+t+t;case 4095:case 3583:case 4068:case 2532:return li(t,/(.+)-inline(.+)/,si+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Qh(t)-1-i>6)switch(Ta(t,i+1)){case 109:if(Ta(t,i+4)!==45)break;case 102:return li(t,/(.+:)(.+)-([^]+)/,"$1"+si+"$2-$3$1"+d5+(Ta(t,i+3)==108?"$3":"$2-$3"))+t;case 115:return~R6(t,"stretch")?MF(li(t,"stretch","fill-available"),i)+t:t}break;case 4949:if(Ta(t,i+1)!==115)break;case 6444:switch(Ta(t,Qh(t)-3-(~R6(t,"!important")&&10))){case 107:return li(t,":",":"+si)+t;case 101:return li(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+si+(Ta(t,14)===45?"inline-":"")+"box$3$1"+si+"$2$3$1"+ol+"$2box$3")+t}break;case 5936:switch(Ta(t,i+11)){case 114:return si+t+ol+li(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return si+t+ol+li(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return si+t+ol+li(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return si+t+ol+t+t}return t}var Rpe=function(t,i,n,o){if(t.length>-1&&!t.return)switch(t.type){case HI:t.return=MF(t.value,t.length);break;case SF:return uk([fy(t,{value:li(t.value,"@","@"+si)})],o);case VI:if(t.length)return ype(t.props,function(a){switch(vpe(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return uk([fy(t,{props:[li(a,/:(read-\w+)/,":"+d5+"$1")]})],o);case"::placeholder":return uk([fy(t,{props:[li(a,/:(plac\w+)/,":"+si+"input-$1")]}),fy(t,{props:[li(a,/:(plac\w+)/,":"+d5+"$1")]}),fy(t,{props:[li(a,/:(plac\w+)/,ol+"input-$1")]})],o)}return""})}},zpe=[Rpe],Fpe=function(t){var i=t.key;if(i==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(D){var E=D.getAttribute("data-emotion");E.indexOf(" ")!==-1&&(document.head.appendChild(D),D.setAttribute("data-s",""))})}var o=t.stylisPlugins||zpe,a={},c,d=[];c=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+i+' "]'),function(D){for(var E=D.getAttribute("data-emotion").split(" "),j=1;j<E.length;j++)a[E[j]]=!0;d.push(D)});var p,m=[Lpe,Ppe];{var k,v=[Tpe,Npe(function(D){k.insert(D)})],_=Mpe(m.concat(o,v)),x=function(D){return uk(Dpe(D),_)};p=function(D,E,j,M){k=j,x(D?D+"{"+E.styles+"}":E.styles),M&&(y.inserted[E.name]=!0)}}var y={key:i,sheet:new ppe({key:i,container:c,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:p};return y.sheet.hydrate(d),y};function Upe(t,i){const n=Fpe({key:"css",prepend:t});if(i){const o=n.insert;n.insert=(...a)=>(a[1].styles.match(/^@layer\s+[^{]*$/)||(a[1].styles=`@layer mui {${a[1].styles}}`),o(...a))}return n}const MD=new Map;function qpe(t){const{injectFirst:i,enableCssLayer:n,children:o}=t,a=se.useMemo(()=>{const c=`${i}-${n}`;if(typeof document=="object"&&MD.has(c))return MD.get(c);const d=Upe(i,n);return MD.set(c,d),d},[i,n]);return i||n?_n.jsx(KL,{value:a,children:o}):o}function Vpe(t){return t==null||Object.keys(t).length===0}function Hpe(t){const{styles:i,defaultTheme:n={}}=t,o=typeof i=="function"?a=>i(Vpe(a)?n:a):i;return _n.jsx(QL,{styles:o})}/**
 * @mui/styled-engine v5.18.0
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function $pe(t,i){return YL(t,i)}const Wpe=(t,i)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=i(t.__emotion_styles))},bL=[];function Gpe(t){return bL[0]=t,dpe(bL)}const Ype=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:Hpe,StyledEngineProvider:qpe,ThemeContext:GL,css:WL,default:$pe,internal_processStyles:Wpe,internal_serializeStyles:Gpe,keyframes:$L},Symbol.toStringTag,{value:"Module"})),Kpe=kp(Ype),Qpe=kp(kfe),Zpe=kp(xfe),Jpe=kp(Cfe),Xpe=["values","unit","step"],eme=t=>{const i=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return i.sort((n,o)=>n.val-o.val),i.reduce((n,o)=>Bi({},n,{[o.key]:o.val}),{})};function NF(t){const{values:i={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:o=5}=t,a=Ym(t,Xpe),c=eme(i),d=Object.keys(c);function p(x){return`@media (min-width:${typeof i[x]=="number"?i[x]:x}${n})`}function m(x){return`@media (max-width:${(typeof i[x]=="number"?i[x]:x)-o/100}${n})`}function k(x,y){const D=d.indexOf(y);return`@media (min-width:${typeof i[x]=="number"?i[x]:x}${n}) and (max-width:${(D!==-1&&typeof i[d[D]]=="number"?i[d[D]]:y)-o/100}${n})`}function v(x){return d.indexOf(x)+1<d.length?k(x,d[d.indexOf(x)+1]):p(x)}function _(x){const y=d.indexOf(x);return y===0?p(d[1]):y===d.length-1?m(d[y]):k(x,d[d.indexOf(x)+1]).replace("@media","@media not all and")}return Bi({keys:d,values:c,up:p,down:m,between:k,only:v,not:_,unit:n},a)}const tme={borderRadius:4};function Ty(t,i){return i?hf(t,i,{clone:!1}):t}const WI={xs:0,sm:600,md:900,lg:1200,xl:1536},kL={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${WI[t]}px)`};function gp(t,i,n){const o=t.theme||{};if(Array.isArray(i)){const a=o.breakpoints||kL;return i.reduce((c,d,p)=>(c[a.up(a.keys[p])]=n(i[p]),c),{})}if(typeof i=="object"){const a=o.breakpoints||kL;return Object.keys(i).reduce((c,d)=>{if(Object.keys(a.values||WI).indexOf(d)!==-1){const p=a.up(d);c[p]=n(i[d],d)}else{const p=d;c[p]=i[p]}return c},{})}return n(i)}function nme(t={}){var i;return((i=t.keys)==null?void 0:i.reduce((n,o)=>{const a=t.up(o);return n[a]={},n},{}))||{}}function wL(t,i){return t.reduce((n,o)=>{const a=n[o];return(!a||Object.keys(a).length===0)&&delete n[o],n},i)}function sS(t,i,n=!0){if(!i||typeof i!="string")return null;if(t&&t.vars&&n){const o=`vars.${i}`.split(".").reduce((a,c)=>a&&a[c]?a[c]:null,t);if(o!=null)return o}return i.split(".").reduce((o,a)=>o&&o[a]!=null?o[a]:null,t)}function h5(t,i,n,o=n){let a;return typeof t=="function"?a=t(n):Array.isArray(t)?a=t[n]||o:a=sS(t,n)||o,i&&(a=i(a,o,t)),a}function _s(t){const{prop:i,cssProperty:n=t.prop,themeKey:o,transform:a}=t,c=d=>{if(d[i]==null)return null;const p=d[i],m=d.theme,k=sS(m,o)||{};return gp(d,p,v=>{let _=h5(k,a,v);return v===_&&typeof v=="string"&&(_=h5(k,a,`${i}${v==="default"?"":Vm(v)}`,v)),n===!1?_:{[n]:_}})};return c.propTypes={},c.filterProps=[i],c}function rme(t){const i={};return n=>(i[n]===void 0&&(i[n]=t(n)),i[n])}const ime={m:"margin",p:"padding"},ome={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},vL={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},sme=rme(t=>{if(t.length>2)if(vL[t])t=vL[t];else return[t];const[i,n]=t.split(""),o=ime[i],a=ome[n]||"";return Array.isArray(a)?a.map(c=>o+c):[o+a]}),GI=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],YI=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...GI,...YI];function CA(t,i,n,o){var a;const c=(a=sS(t,i,!1))!=null?a:n;return typeof c=="number"?d=>typeof d=="string"?d:c*d:Array.isArray(c)?d=>typeof d=="string"?d:c[d]:typeof c=="function"?c:()=>{}}function jF(t){return CA(t,"spacing",8)}function xA(t,i){if(typeof i=="string"||i==null)return i;const n=Math.abs(i),o=t(n);return i>=0?o:typeof o=="number"?-o:`-${o}`}function ame(t,i){return n=>t.reduce((o,a)=>(o[a]=xA(i,n),o),{})}function lme(t,i,n,o){if(i.indexOf(n)===-1)return null;const a=sme(n),c=ame(a,o),d=t[n];return gp(t,d,c)}function OF(t,i){const n=jF(t.theme);return Object.keys(t).map(o=>lme(t,i,o,n)).reduce(Ty,{})}function Jo(t){return OF(t,GI)}Jo.propTypes={};Jo.filterProps=GI;function Xo(t){return OF(t,YI)}Xo.propTypes={};Xo.filterProps=YI;function cme(t=8){if(t.mui)return t;const i=jF({spacing:t}),n=(...o)=>(o.length===0?[1]:o).map(a=>{const c=i(a);return typeof c=="number"?`${c}px`:c}).join(" ");return n.mui=!0,n}function aS(...t){const i=t.reduce((o,a)=>(a.filterProps.forEach(c=>{o[c]=a}),o),{}),n=o=>Object.keys(o).reduce((a,c)=>i[c]?Ty(a,i[c](o)):a,{});return n.propTypes={},n.filterProps=t.reduce((o,a)=>o.concat(a.filterProps),[]),n}function od(t){return typeof t!="number"?t:`${t}px solid`}function hd(t,i){return _s({prop:t,themeKey:"borders",transform:i})}const ume=hd("border",od),dme=hd("borderTop",od),hme=hd("borderRight",od),fme=hd("borderBottom",od),pme=hd("borderLeft",od),mme=hd("borderColor"),gme=hd("borderTopColor"),bme=hd("borderRightColor"),kme=hd("borderBottomColor"),wme=hd("borderLeftColor"),vme=hd("outline",od),yme=hd("outlineColor"),lS=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const i=CA(t.theme,"shape.borderRadius",4),n=o=>({borderRadius:xA(i,o)});return gp(t,t.borderRadius,n)}return null};lS.propTypes={};lS.filterProps=["borderRadius"];aS(ume,dme,hme,fme,pme,mme,gme,bme,kme,wme,lS,vme,yme);const cS=t=>{if(t.gap!==void 0&&t.gap!==null){const i=CA(t.theme,"spacing",8),n=o=>({gap:xA(i,o)});return gp(t,t.gap,n)}return null};cS.propTypes={};cS.filterProps=["gap"];const uS=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const i=CA(t.theme,"spacing",8),n=o=>({columnGap:xA(i,o)});return gp(t,t.columnGap,n)}return null};uS.propTypes={};uS.filterProps=["columnGap"];const dS=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const i=CA(t.theme,"spacing",8),n=o=>({rowGap:xA(i,o)});return gp(t,t.rowGap,n)}return null};dS.propTypes={};dS.filterProps=["rowGap"];const Ame=_s({prop:"gridColumn"}),_me=_s({prop:"gridRow"}),Cme=_s({prop:"gridAutoFlow"}),xme=_s({prop:"gridAutoColumns"}),Sme=_s({prop:"gridAutoRows"}),Eme=_s({prop:"gridTemplateColumns"}),Dme=_s({prop:"gridTemplateRows"}),Ime=_s({prop:"gridTemplateAreas"}),Tme=_s({prop:"gridArea"});aS(cS,uS,dS,Ame,_me,Cme,xme,Sme,Eme,Dme,Ime,Tme);function dk(t,i){return i==="grey"?i:t}const Mme=_s({prop:"color",themeKey:"palette",transform:dk}),Nme=_s({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:dk}),jme=_s({prop:"backgroundColor",themeKey:"palette",transform:dk});aS(Mme,Nme,jme);function su(t){return t<=1&&t!==0?`${t*100}%`:t}const Ome=_s({prop:"width",transform:su}),KI=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const i=n=>{var o,a;const c=((o=t.theme)==null||(o=o.breakpoints)==null||(o=o.values)==null?void 0:o[n])||WI[n];return c?((a=t.theme)==null||(a=a.breakpoints)==null?void 0:a.unit)!=="px"?{maxWidth:`${c}${t.theme.breakpoints.unit}`}:{maxWidth:c}:{maxWidth:su(n)}};return gp(t,t.maxWidth,i)}return null};KI.filterProps=["maxWidth"];const Bme=_s({prop:"minWidth",transform:su}),Lme=_s({prop:"height",transform:su}),Pme=_s({prop:"maxHeight",transform:su}),Rme=_s({prop:"minHeight",transform:su});_s({prop:"size",cssProperty:"width",transform:su});_s({prop:"size",cssProperty:"height",transform:su});const zme=_s({prop:"boxSizing"});aS(Ome,KI,Bme,Lme,Pme,Rme,zme);const SA={border:{themeKey:"borders",transform:od},borderTop:{themeKey:"borders",transform:od},borderRight:{themeKey:"borders",transform:od},borderBottom:{themeKey:"borders",transform:od},borderLeft:{themeKey:"borders",transform:od},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:od},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:lS},color:{themeKey:"palette",transform:dk},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:dk},backgroundColor:{themeKey:"palette",transform:dk},p:{style:Xo},pt:{style:Xo},pr:{style:Xo},pb:{style:Xo},pl:{style:Xo},px:{style:Xo},py:{style:Xo},padding:{style:Xo},paddingTop:{style:Xo},paddingRight:{style:Xo},paddingBottom:{style:Xo},paddingLeft:{style:Xo},paddingX:{style:Xo},paddingY:{style:Xo},paddingInline:{style:Xo},paddingInlineStart:{style:Xo},paddingInlineEnd:{style:Xo},paddingBlock:{style:Xo},paddingBlockStart:{style:Xo},paddingBlockEnd:{style:Xo},m:{style:Jo},mt:{style:Jo},mr:{style:Jo},mb:{style:Jo},ml:{style:Jo},mx:{style:Jo},my:{style:Jo},margin:{style:Jo},marginTop:{style:Jo},marginRight:{style:Jo},marginBottom:{style:Jo},marginLeft:{style:Jo},marginX:{style:Jo},marginY:{style:Jo},marginInline:{style:Jo},marginInlineStart:{style:Jo},marginInlineEnd:{style:Jo},marginBlock:{style:Jo},marginBlockStart:{style:Jo},marginBlockEnd:{style:Jo},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:cS},rowGap:{style:dS},columnGap:{style:uS},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:su},maxWidth:{style:KI},minWidth:{transform:su},height:{transform:su},maxHeight:{transform:su},minHeight:{transform:su},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Fme(...t){const i=t.reduce((o,a)=>o.concat(Object.keys(a)),[]),n=new Set(i);return t.every(o=>n.size===Object.keys(o).length)}function Ume(t,i){return typeof t=="function"?t(i):t}function BF(){function t(n,o,a,c){const d={[n]:o,theme:a},p=c[n];if(!p)return{[n]:o};const{cssProperty:m=n,themeKey:k,transform:v,style:_}=p;if(o==null)return null;if(k==="typography"&&o==="inherit")return{[n]:o};const x=sS(a,k)||{};return _?_(d):gp(d,o,y=>{let D=h5(x,v,y);return y===D&&typeof y=="string"&&(D=h5(x,v,`${n}${y==="default"?"":Vm(y)}`,y)),m===!1?D:{[m]:D}})}function i(n){var o;const{sx:a,theme:c={},nested:d}=n||{};if(!a)return null;const p=(o=c.unstable_sxConfig)!=null?o:SA;function m(k){let v=k;if(typeof k=="function")v=k(c);else if(typeof k!="object")return k;if(!v)return null;const _=nme(c.breakpoints),x=Object.keys(_);let y=_;return Object.keys(v).forEach(D=>{const E=Ume(v[D],c);if(E!=null)if(typeof E=="object")if(p[D])y=Ty(y,t(D,E,c,p));else{const j=gp({theme:c},E,M=>({[D]:M}));Fme(j,E)?y[D]=i({sx:E,theme:c,nested:!0}):y=Ty(y,j)}else y=Ty(y,t(D,E,c,p))}),!d&&c.modularCssLayers?{"@layer sx":wL(x,y)}:wL(x,y)}return Array.isArray(a)?a.map(m):m(a)}return i}const hS=BF();hS.filterProps=["sx"];function LF(t,i){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:i}:n.palette.mode===t?i:{}}const qme=["breakpoints","palette","spacing","shape"];function PF(t={},...i){const{breakpoints:n={},palette:o={},spacing:a,shape:c={}}=t,d=Ym(t,qme),p=NF(n),m=cme(a);let k=hf({breakpoints:p,direction:"ltr",components:{},palette:Bi({mode:"light"},o),spacing:m,shape:Bi({},tme,c)},d);return k.applyStyles=LF,k=i.reduce((v,_)=>hf(v,_),k),k.unstable_sxConfig=Bi({},SA,d==null?void 0:d.unstable_sxConfig),k.unstable_sx=function(v){return hS({sx:v,theme:this})},k}const Vme=Object.freeze(Object.defineProperty({__proto__:null,default:PF,private_createBreakpoints:NF,unstable_applyStyles:LF},Symbol.toStringTag,{value:"Module"})),Hme=kp(Vme),$me=["sx"],Wme=t=>{var i,n;const o={systemProps:{},otherProps:{}},a=(i=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?i:SA;return Object.keys(t).forEach(c=>{a[c]?o.systemProps[c]=t[c]:o.otherProps[c]=t[c]}),o};function Gme(t){const{sx:i}=t,n=Ym(t,$me),{systemProps:o,otherProps:a}=Wme(n);let c;return Array.isArray(i)?c=[o,...i]:typeof i=="function"?c=(...d)=>{const p=i(...d);return Sm(p)?Bi({},o,p):o}:c=Bi({},o,i),Bi({},a,{sx:c})}const Yme=Object.freeze(Object.defineProperty({__proto__:null,default:hS,extendSxProp:Gme,unstable_createStyleFunctionSx:BF,unstable_defaultSxConfig:SA},Symbol.toStringTag,{value:"Module"})),Kme=kp(Yme);var yL;function Qme(){if(yL)return Vg;yL=1;var t=Nk();Object.defineProperty(Vg,"__esModule",{value:!0}),Vg.default=J,Vg.shouldForwardProp=D,Vg.systemDefaultTheme=void 0;var i=t(rpe()),n=t(ipe()),o=_(Kpe),a=Qpe;t(Zpe),t(Jpe);var c=t(Hme),d=t(Kme);const p=["ownerState"],m=["variants"],k=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function v(H){if(typeof WeakMap!="function")return null;var F=new WeakMap,Q=new WeakMap;return(v=function(Z){return Z?Q:F})(H)}function _(H,F){if(H&&H.__esModule)return H;if(H===null||typeof H!="object"&&typeof H!="function")return{default:H};var Q=v(F);if(Q&&Q.has(H))return Q.get(H);var Z={__proto__:null},ae=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var X in H)if(X!=="default"&&Object.prototype.hasOwnProperty.call(H,X)){var Y=ae?Object.getOwnPropertyDescriptor(H,X):null;Y&&(Y.get||Y.set)?Object.defineProperty(Z,X,Y):Z[X]=H[X]}return Z.default=H,Q&&Q.set(H,Z),Z}function x(H){return Object.keys(H).length===0}function y(H){return typeof H=="string"&&H.charCodeAt(0)>96}function D(H){return H!=="ownerState"&&H!=="theme"&&H!=="sx"&&H!=="as"}function E(H,F){return F&&H&&typeof H=="object"&&H.styles&&!H.styles.startsWith("@layer")&&(H.styles=`@layer ${F}{${String(H.styles)}}`),H}const j=Vg.systemDefaultTheme=(0,c.default)(),M=H=>H&&H.charAt(0).toLowerCase()+H.slice(1);function B({defaultTheme:H,theme:F,themeId:Q}){return x(F)?H:F[Q]||F}function z(H){return H?(F,Q)=>Q[H]:null}function G(H,F,Q){let{ownerState:Z}=F,ae=(0,n.default)(F,p);const X=typeof H=="function"?H((0,i.default)({ownerState:Z},ae)):H;if(Array.isArray(X))return X.flatMap(Y=>G(Y,(0,i.default)({ownerState:Z},ae),Q));if(X&&typeof X=="object"&&Array.isArray(X.variants)){const{variants:Y=[]}=X;let U=(0,n.default)(X,m);return Y.forEach(q=>{let fe=!0;if(typeof q.props=="function"?fe=q.props((0,i.default)({ownerState:Z},ae,Z)):Object.keys(q.props).forEach(ue=>{(Z==null?void 0:Z[ue])!==q.props[ue]&&ae[ue]!==q.props[ue]&&(fe=!1)}),fe){Array.isArray(U)||(U=[U]);const ue=typeof q.style=="function"?q.style((0,i.default)({ownerState:Z},ae,Z)):q.style;U.push(Q?E((0,o.internal_serializeStyles)(ue),Q):ue)}}),U}return Q?E((0,o.internal_serializeStyles)(X),Q):X}function J(H={}){const{themeId:F,defaultTheme:Q=j,rootShouldForwardProp:Z=D,slotShouldForwardProp:ae=D}=H,X=Y=>(0,d.default)((0,i.default)({},Y,{theme:B((0,i.default)({},Y,{defaultTheme:Q,themeId:F}))}));return X.__mui_systemSx=!0,(Y,U={})=>{(0,o.internal_processStyles)(Y,Be=>Be.filter(Ue=>!(Ue!=null&&Ue.__mui_systemSx)));const{name:q,slot:fe,skipVariantsResolver:ue,skipSx:de,overridesResolver:me=z(M(fe))}=U,Me=(0,n.default)(U,k),ce=q&&q.startsWith("Mui")||fe?"components":"custom",Ie=ue!==void 0?ue:fe&&fe!=="Root"&&fe!=="root"||!1,re=de||!1;let te,ke=D;fe==="Root"||fe==="root"?ke=Z:fe?ke=ae:y(Y)&&(ke=void 0);const be=(0,o.default)(Y,(0,i.default)({shouldForwardProp:ke,label:te},Me)),ve=Be=>typeof Be=="function"&&Be.__emotion_real!==Be||(0,a.isPlainObject)(Be)?Ue=>{const Ze=B({theme:Ue.theme,defaultTheme:Q,themeId:F});return G(Be,(0,i.default)({},Ue,{theme:Ze}),Ze.modularCssLayers?ce:void 0)}:Be,Re=(Be,...Ue)=>{let Ze=ve(Be);const Ge=Ue?Ue.map(ve):[];q&&me&&Ge.push(oe=>{const Pe=B((0,i.default)({},oe,{defaultTheme:Q,themeId:F}));if(!Pe.components||!Pe.components[q]||!Pe.components[q].styleOverrides)return null;const we=Pe.components[q].styleOverrides,De={};return Object.entries(we).forEach(([Ae,Oe])=>{De[Ae]=G(Oe,(0,i.default)({},oe,{theme:Pe}),Pe.modularCssLayers?"theme":void 0)}),me(oe,De)}),q&&!Ie&&Ge.push(oe=>{var Pe;const we=B((0,i.default)({},oe,{defaultTheme:Q,themeId:F})),De=we==null||(Pe=we.components)==null||(Pe=Pe[q])==null?void 0:Pe.variants;return G({variants:De},(0,i.default)({},oe,{theme:we}),we.modularCssLayers?"theme":void 0)}),re||Ge.push(X);const ft=Ge.length-Ue.length;if(Array.isArray(Be)&&ft>0){const oe=new Array(ft).fill("");Ze=[...Be,...oe],Ze.raw=[...Be.raw,...oe]}const gt=be(Ze,...Ge);return Y.muiName&&(gt.muiName=Y.muiName),gt};return be.withConfig&&(Re.withConfig=be.withConfig),Re}}return Vg}var Zme=Qme();const Jme=yA(Zme);function Xme(t,i){return Bi({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},i)}var Mo={};const ege=kp(wfe),tge=kp(Zfe);var AL;function nge(){if(AL)return Mo;AL=1;var t=Nk();Object.defineProperty(Mo,"__esModule",{value:!0}),Mo.alpha=D,Mo.blend=H,Mo.colorChannel=void 0,Mo.darken=j,Mo.decomposeColor=d,Mo.emphasize=G,Mo.getContrastRatio=y,Mo.getLuminance=x,Mo.hexToRgb=a,Mo.hslToRgb=_,Mo.lighten=B,Mo.private_safeAlpha=E,Mo.private_safeColorChannel=void 0,Mo.private_safeDarken=M,Mo.private_safeEmphasize=J,Mo.private_safeLighten=z,Mo.recomposeColor=k,Mo.rgbToHex=v;var i=t(ege),n=t(tge);function o(F,Q=0,Z=1){return(0,n.default)(F,Q,Z)}function a(F){F=F.slice(1);const Q=new RegExp(`.{1,${F.length>=6?2:1}}`,"g");let Z=F.match(Q);return Z&&Z[0].length===1&&(Z=Z.map(ae=>ae+ae)),Z?`rgb${Z.length===4?"a":""}(${Z.map((ae,X)=>X<3?parseInt(ae,16):Math.round(parseInt(ae,16)/255*1e3)/1e3).join(", ")})`:""}function c(F){const Q=F.toString(16);return Q.length===1?`0${Q}`:Q}function d(F){if(F.type)return F;if(F.charAt(0)==="#")return d(a(F));const Q=F.indexOf("("),Z=F.substring(0,Q);if(["rgb","rgba","hsl","hsla","color"].indexOf(Z)===-1)throw new Error((0,i.default)(9,F));let ae=F.substring(Q+1,F.length-1),X;if(Z==="color"){if(ae=ae.split(" "),X=ae.shift(),ae.length===4&&ae[3].charAt(0)==="/"&&(ae[3]=ae[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(X)===-1)throw new Error((0,i.default)(10,X))}else ae=ae.split(",");return ae=ae.map(Y=>parseFloat(Y)),{type:Z,values:ae,colorSpace:X}}const p=F=>{const Q=d(F);return Q.values.slice(0,3).map((Z,ae)=>Q.type.indexOf("hsl")!==-1&&ae!==0?`${Z}%`:Z).join(" ")};Mo.colorChannel=p;const m=(F,Q)=>{try{return p(F)}catch{return F}};Mo.private_safeColorChannel=m;function k(F){const{type:Q,colorSpace:Z}=F;let{values:ae}=F;return Q.indexOf("rgb")!==-1?ae=ae.map((X,Y)=>Y<3?parseInt(X,10):X):Q.indexOf("hsl")!==-1&&(ae[1]=`${ae[1]}%`,ae[2]=`${ae[2]}%`),Q.indexOf("color")!==-1?ae=`${Z} ${ae.join(" ")}`:ae=`${ae.join(", ")}`,`${Q}(${ae})`}function v(F){if(F.indexOf("#")===0)return F;const{values:Q}=d(F);return`#${Q.map((Z,ae)=>c(ae===3?Math.round(255*Z):Z)).join("")}`}function _(F){F=d(F);const{values:Q}=F,Z=Q[0],ae=Q[1]/100,X=Q[2]/100,Y=ae*Math.min(X,1-X),U=(ue,de=(ue+Z/30)%12)=>X-Y*Math.max(Math.min(de-3,9-de,1),-1);let q="rgb";const fe=[Math.round(U(0)*255),Math.round(U(8)*255),Math.round(U(4)*255)];return F.type==="hsla"&&(q+="a",fe.push(Q[3])),k({type:q,values:fe})}function x(F){F=d(F);let Q=F.type==="hsl"||F.type==="hsla"?d(_(F)).values:F.values;return Q=Q.map(Z=>(F.type!=="color"&&(Z/=255),Z<=.03928?Z/12.92:((Z+.055)/1.055)**2.4)),Number((.2126*Q[0]+.7152*Q[1]+.0722*Q[2]).toFixed(3))}function y(F,Q){const Z=x(F),ae=x(Q);return(Math.max(Z,ae)+.05)/(Math.min(Z,ae)+.05)}function D(F,Q){return F=d(F),Q=o(Q),(F.type==="rgb"||F.type==="hsl")&&(F.type+="a"),F.type==="color"?F.values[3]=`/${Q}`:F.values[3]=Q,k(F)}function E(F,Q,Z){try{return D(F,Q)}catch{return F}}function j(F,Q){if(F=d(F),Q=o(Q),F.type.indexOf("hsl")!==-1)F.values[2]*=1-Q;else if(F.type.indexOf("rgb")!==-1||F.type.indexOf("color")!==-1)for(let Z=0;Z<3;Z+=1)F.values[Z]*=1-Q;return k(F)}function M(F,Q,Z){try{return j(F,Q)}catch{return F}}function B(F,Q){if(F=d(F),Q=o(Q),F.type.indexOf("hsl")!==-1)F.values[2]+=(100-F.values[2])*Q;else if(F.type.indexOf("rgb")!==-1)for(let Z=0;Z<3;Z+=1)F.values[Z]+=(255-F.values[Z])*Q;else if(F.type.indexOf("color")!==-1)for(let Z=0;Z<3;Z+=1)F.values[Z]+=(1-F.values[Z])*Q;return k(F)}function z(F,Q,Z){try{return B(F,Q)}catch{return F}}function G(F,Q=.15){return x(F)>.5?j(F,Q):B(F,Q)}function J(F,Q,Z){try{return G(F,Q)}catch{return F}}function H(F,Q,Z,ae=1){const X=(fe,ue)=>Math.round((fe**(1/ae)*(1-Z)+ue**(1/ae)*Z)**ae),Y=d(F),U=d(Q),q=[X(Y.values[0],U.values[0]),X(Y.values[1],U.values[1]),X(Y.values[2],U.values[2])];return k({type:"rgb",values:q})}return Mo}var F6=nge();const Jy={black:"#000",white:"#fff"},rge={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},q0={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},V0={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},py={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},H0={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},$0={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},W0={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},ige=["mode","contrastThreshold","tonalOffset"],_L={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Jy.white,default:Jy.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},ND={text:{primary:Jy.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Jy.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function CL(t,i,n,o){const a=o.light||o,c=o.dark||o*1.5;t[i]||(t.hasOwnProperty(n)?t[i]=t[n]:i==="light"?t.light=F6.lighten(t.main,a):i==="dark"&&(t.dark=F6.darken(t.main,c)))}function oge(t="light"){return t==="dark"?{main:H0[200],light:H0[50],dark:H0[400]}:{main:H0[700],light:H0[400],dark:H0[800]}}function sge(t="light"){return t==="dark"?{main:q0[200],light:q0[50],dark:q0[400]}:{main:q0[500],light:q0[300],dark:q0[700]}}function age(t="light"){return t==="dark"?{main:V0[500],light:V0[300],dark:V0[700]}:{main:V0[700],light:V0[400],dark:V0[800]}}function lge(t="light"){return t==="dark"?{main:$0[400],light:$0[300],dark:$0[700]}:{main:$0[700],light:$0[500],dark:$0[900]}}function cge(t="light"){return t==="dark"?{main:W0[400],light:W0[300],dark:W0[700]}:{main:W0[800],light:W0[500],dark:W0[900]}}function uge(t="light"){return t==="dark"?{main:py[400],light:py[300],dark:py[700]}:{main:"#ed6c02",light:py[500],dark:py[900]}}function dge(t){const{mode:i="light",contrastThreshold:n=3,tonalOffset:o=.2}=t,a=Ym(t,ige),c=t.primary||oge(i),d=t.secondary||sge(i),p=t.error||age(i),m=t.info||lge(i),k=t.success||cge(i),v=t.warning||uge(i);function _(D){return F6.getContrastRatio(D,ND.text.primary)>=n?ND.text.primary:_L.text.primary}const x=({color:D,name:E,mainShade:j=500,lightShade:M=300,darkShade:B=700})=>{if(D=Bi({},D),!D.main&&D[j]&&(D.main=D[j]),!D.hasOwnProperty("main"))throw new Error(Ky(11,E?` (${E})`:"",j));if(typeof D.main!="string")throw new Error(Ky(12,E?` (${E})`:"",JSON.stringify(D.main)));return CL(D,"light",M,o),CL(D,"dark",B,o),D.contrastText||(D.contrastText=_(D.main)),D},y={dark:ND,light:_L};return hf(Bi({common:Bi({},Jy),mode:i,primary:x({color:c,name:"primary"}),secondary:x({color:d,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:x({color:p,name:"error"}),warning:x({color:v,name:"warning"}),info:x({color:m,name:"info"}),success:x({color:k,name:"success"}),grey:rge,contrastThreshold:n,getContrastText:_,augmentColor:x,tonalOffset:o},y[i]),a)}const hge=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function fge(t){return Math.round(t*1e5)/1e5}const xL={textTransform:"uppercase"},SL='"Roboto", "Helvetica", "Arial", sans-serif';function pge(t,i){const n=typeof i=="function"?i(t):i,{fontFamily:o=SL,fontSize:a=14,fontWeightLight:c=300,fontWeightRegular:d=400,fontWeightMedium:p=500,fontWeightBold:m=700,htmlFontSize:k=16,allVariants:v,pxToRem:_}=n,x=Ym(n,hge),y=a/14,D=_||(M=>`${M/k*y}rem`),E=(M,B,z,G,J)=>Bi({fontFamily:o,fontWeight:M,fontSize:D(B),lineHeight:z},o===SL?{letterSpacing:`${fge(G/B)}em`}:{},J,v),j={h1:E(c,96,1.167,-1.5),h2:E(c,60,1.2,-.5),h3:E(d,48,1.167,0),h4:E(d,34,1.235,.25),h5:E(d,24,1.334,0),h6:E(p,20,1.6,.15),subtitle1:E(d,16,1.75,.15),subtitle2:E(p,14,1.57,.1),body1:E(d,16,1.5,.15),body2:E(d,14,1.43,.15),button:E(p,14,1.75,.4,xL),caption:E(d,12,1.66,.4),overline:E(d,12,2.66,1,xL),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return hf(Bi({htmlFontSize:k,pxToRem:D,fontFamily:o,fontSize:a,fontWeightLight:c,fontWeightRegular:d,fontWeightMedium:p,fontWeightBold:m},j),x,{clone:!1})}const mge=.2,gge=.14,bge=.12;function go(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${mge})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${gge})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${bge})`].join(",")}const kge=["none",go(0,2,1,-1,0,1,1,0,0,1,3,0),go(0,3,1,-2,0,2,2,0,0,1,5,0),go(0,3,3,-2,0,3,4,0,0,1,8,0),go(0,2,4,-1,0,4,5,0,0,1,10,0),go(0,3,5,-1,0,5,8,0,0,1,14,0),go(0,3,5,-1,0,6,10,0,0,1,18,0),go(0,4,5,-2,0,7,10,1,0,2,16,1),go(0,5,5,-3,0,8,10,1,0,3,14,2),go(0,5,6,-3,0,9,12,1,0,3,16,2),go(0,6,6,-3,0,10,14,1,0,4,18,3),go(0,6,7,-4,0,11,15,1,0,4,20,3),go(0,7,8,-4,0,12,17,2,0,5,22,4),go(0,7,8,-4,0,13,19,2,0,5,24,4),go(0,7,9,-4,0,14,21,2,0,5,26,4),go(0,8,9,-5,0,15,22,2,0,6,28,5),go(0,8,10,-5,0,16,24,2,0,6,30,5),go(0,8,11,-5,0,17,26,2,0,6,32,5),go(0,9,11,-5,0,18,28,2,0,7,34,6),go(0,9,12,-6,0,19,29,2,0,7,36,6),go(0,10,13,-6,0,20,31,3,0,8,38,7),go(0,10,13,-6,0,21,33,3,0,8,40,7),go(0,10,14,-6,0,22,35,3,0,8,42,7),go(0,11,14,-7,0,23,36,3,0,9,44,8),go(0,11,15,-7,0,24,38,3,0,9,46,8)],wge=["duration","easing","delay"],vge={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},yge={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function EL(t){return`${Math.round(t)}ms`}function Age(t){if(!t)return 0;const i=t/36;return Math.round((4+15*i**.25+i/5)*10)}function _ge(t){const i=Bi({},vge,t.easing),n=Bi({},yge,t.duration);return Bi({getAutoHeightDuration:Age,create:(o=["all"],a={})=>{const{duration:c=n.standard,easing:d=i.easeInOut,delay:p=0}=a;return Ym(a,wge),(Array.isArray(o)?o:[o]).map(m=>`${m} ${typeof c=="string"?c:EL(c)} ${d} ${typeof p=="string"?p:EL(p)}`).join(",")}},t,{easing:i,duration:n})}const Cge={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},xge=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Sge(t={},...i){const{mixins:n={},palette:o={},transitions:a={},typography:c={}}=t,d=Ym(t,xge);if(t.vars&&t.generateCssVars===void 0)throw new Error(Ky(18));const p=dge(o),m=PF(t);let k=hf(m,{mixins:Xme(m.breakpoints,n),palette:p,shadows:kge.slice(),typography:pge(p,c),transitions:_ge(a),zIndex:Bi({},Cge)});return k=hf(k,d),k=i.reduce((v,_)=>hf(v,_),k),k.unstable_sxConfig=Bi({},SA,d==null?void 0:d.unstable_sxConfig),k.unstable_sx=function(v){return hS({sx:v,theme:this})},k}const Ege=Sge(),Dge="$$material";function Ige(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Tge=t=>Ige(t)&&t!=="classes",Mge=Jme({themeId:Dge,defaultTheme:Ege,rootShouldForwardProp:Tge});function Nge(t){return AF("MuiSvgIcon",t)}Kfe("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const jge=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Oge=t=>{const{color:i,fontSize:n,classes:o}=t,a={root:["root",i!=="inherit"&&`color${Vm(i)}`,`fontSize${Vm(n)}`]};return Wfe(a,Nge,o)},Bge=Mge("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,i)=>{const{ownerState:n}=t;return[i.root,n.color!=="inherit"&&i[`color${Vm(n.color)}`],i[`fontSize${Vm(n.fontSize)}`]]}})(({theme:t,ownerState:i})=>{var n,o,a,c,d,p,m,k,v,_,x,y,D;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:i.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(o=n.create)==null?void 0:o.call(n,"fill",{duration:(a=t.transitions)==null||(a=a.duration)==null?void 0:a.shorter}),fontSize:{inherit:"inherit",small:((c=t.typography)==null||(d=c.pxToRem)==null?void 0:d.call(c,20))||"1.25rem",medium:((p=t.typography)==null||(m=p.pxToRem)==null?void 0:m.call(p,24))||"1.5rem",large:((k=t.typography)==null||(v=k.pxToRem)==null?void 0:v.call(k,35))||"2.1875rem"}[i.fontSize],color:(_=(x=(t.vars||t).palette)==null||(x=x[i.color])==null?void 0:x.main)!=null?_:{action:(y=(t.vars||t).palette)==null||(y=y.action)==null?void 0:y.active,disabled:(D=(t.vars||t).palette)==null||(D=D.action)==null?void 0:D.disabled,inherit:void 0}[i.color]}}),U6=se.forwardRef(function(t,i){const n=npe({props:t,name:"MuiSvgIcon"}),{children:o,className:a,color:c="inherit",component:d="svg",fontSize:p="medium",htmlColor:m,inheritViewBox:k=!1,titleAccess:v,viewBox:_="0 0 24 24"}=n,x=Ym(n,jge),y=se.isValidElement(o)&&o.type==="svg",D=Bi({},n,{color:c,component:d,fontSize:p,instanceFontSize:t.fontSize,inheritViewBox:k,viewBox:_,hasSvgAsChild:y}),E={};k||(E.viewBox=_);const j=Oge(D);return _n.jsxs(Bge,Bi({as:d,className:Jfe(j.root,a),focusable:"false",color:m,"aria-hidden":v?void 0:!0,role:v?"img":void 0,ref:i},E,x,y&&o.props,{ownerState:D,children:[y?o.props.children:o,v?_n.jsx("title",{children:v}):null]}))});U6.muiName="SvgIcon";function Lge(t,i){function n(o,a){return _n.jsx(U6,Bi({"data-testid":`${i}Icon`,ref:a},o,{children:t}))}return n.muiName=U6.muiName,se.memo(se.forwardRef(n))}const Pge={configure:t=>{yF.configure(t)}},Rge=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Vm,createChainedFunction:Sfe,createSvgIcon:Lge,debounce:Efe,deprecatedPropType:Dfe,isMuiElement:Ife,ownerDocument:kF,ownerWindow:Tfe,requirePropFactory:Mfe,setRef:wF,unstable_ClassNameGenerator:Pge,unstable_useEnhancedEffect:vF,unstable_useId:jfe,unsupportedProp:Ofe,useControlled:Bfe,useEventCallback:Lfe,useForkRef:Pfe,useIsFocusVisible:$fe},Symbol.toStringTag,{value:"Module"})),zge=kp(Rge);var DL;function fS(){return DL||(DL=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.createSvgIcon}});var i=zge}(JB)),JB}var IL;function Fge(){if(IL)return hy;IL=1;var t=Nk();Object.defineProperty(hy,"__esModule",{value:!0}),hy.default=void 0;var i=t(fS()),n=AA();return hy.default=(0,i.default)((0,n.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),hy}var Uge=Fge();const TL=yA(Uge);var my={},ML;function qge(){if(ML)return my;ML=1;var t=Nk();Object.defineProperty(my,"__esModule",{value:!0}),my.default=void 0;var i=t(fS()),n=AA();return my.default=(0,i.default)((0,n.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),my}var Vge=qge();const Hge=yA(Vge);var gy={},NL;function $ge(){if(NL)return gy;NL=1;var t=Nk();Object.defineProperty(gy,"__esModule",{value:!0}),gy.default=void 0;var i=t(fS()),n=AA();return gy.default=(0,i.default)((0,n.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),gy}var Wge=$ge();const Gge=yA(Wge);var by={},jL;function Yge(){if(jL)return by;jL=1;var t=Nk();Object.defineProperty(by,"__esModule",{value:!0}),by.default=void 0;var i=t(fS()),n=AA();return by.default=(0,i.default)((0,n.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),by}var Kge=Yge();const Qge=yA(Kge),Gr={primary:"#0B53C0",primaryLight:"#CDDAFF",background:"#F0F4FF",white:"#FFFFFF",text:"#000000",success:"#4caf50",error:"#f44336",disabled:"#ccc"},Vr={modal:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:{xs:"95%",sm:"80%",md:700},maxHeight:"90vh",bgcolor:Gr.background,borderRadius:"16px",boxShadow:"0px 10px 30px rgba(0, 0, 0, 0.2)",p:3,outline:"none",overflow:"hidden",display:"flex",flexDirection:"column"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,pb:2,borderBottom:`2px solid ${Gr.primaryLight}`},title:{fontFamily:"Staatliches, Arial, sans-serif",fontSize:{xs:"1.5rem",sm:"2rem"},color:Gr.text},closeButton:{color:Gr.text,"&:hover":{bgcolor:Gr.primaryLight}},progressBar:{height:8,borderRadius:4,bgcolor:Gr.disabled,mb:3,"& .MuiLinearProgress-bar":{bgcolor:Gr.primary,borderRadius:4}},questionCard:{bgcolor:Gr.white,borderRadius:"12px",p:3,mb:3,minHeight:200,boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.1)"},questionText:{fontFamily:"Gabarito, Arial, sans-serif",fontSize:"1.1rem",color:Gr.text,mb:3},categoryBadge:{display:"inline-block",px:2,py:.5,bgcolor:Gr.primaryLight,color:Gr.text,borderRadius:"20px",fontSize:"0.85rem",fontFamily:"Gabarito, Arial, sans-serif",mb:2},answerInput:{width:"100%","& .MuiOutlinedInput-root":{fontFamily:"Gabarito, Arial, sans-serif","& fieldset":{borderColor:Gr.disabled},"&:hover fieldset":{borderColor:Gr.primary},"&.Mui-focused fieldset":{borderColor:Gr.primary}}},navigationDots:{display:"flex",justifyContent:"center",gap:1,my:2},dot:{width:12,height:12,borderRadius:"50%",border:"none",cursor:"pointer",transition:"all 0.3s","&:hover":{transform:"scale(1.2)"}},dotStates:{unanswered:{bgcolor:Gr.disabled},answered:{bgcolor:Gr.primaryLight},current:{bgcolor:Gr.primary,transform:"scale(1.3)"}},navigationButtons:{display:"flex",justifyContent:"space-between",gap:2,mt:2},button:{fontFamily:"Staatliches, sans-serif",fontSize:"1.1rem",py:1,px:3,borderRadius:"20px",textTransform:"none"},primaryButton:{bgcolor:Gr.primaryLight,color:Gr.text,"&:hover":{bgcolor:Gr.primary,color:Gr.white}},secondaryButton:{bgcolor:Gr.white,color:Gr.text,border:`2px solid ${Gr.primaryLight}`,"&:hover":{bgcolor:Gr.primaryLight}},submitButton:{bgcolor:Gr.success,color:Gr.white,"&:hover":{bgcolor:"#388e3c"}},resultsContainer:{flex:1,overflowY:"auto",px:2},scoreCard:{bgcolor:Gr.white,borderRadius:"12px",p:3,mb:3,textAlign:"center",boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.1)"},scoreText:{fontSize:"3rem",fontFamily:"Staatliches, sans-serif",color:Gr.primary},feedbackCard:{bgcolor:Gr.white,borderRadius:"8px",p:2,mb:2,border:`1px solid ${Gr.disabled}`},correctAnswer:{borderLeft:`4px solid ${Gr.success}`},incorrectAnswer:{borderLeft:`4px solid ${Gr.error}`}},RF="https://rag-flask-api.onrender.com",Zge=async t=>{if(!(t!=null&&t.trim()))throw new Error("Chatbot ID is required");try{const i=await fetch(`${RF}/get_quiz?chatbot_id=${encodeURIComponent(t)}`,{method:"GET",headers:{"Content-Type":"application/json"}}),n=await i.json();if(!i.ok||!n.success)throw new Error(n.error||"Failed to fetch quiz");return{quizId:n.quiz_id,questions:n.questions||[]}}catch(i){throw console.error("Error fetching quiz:",i),i}},Jge=async(t,i,n)=>{if(!t||!i||!n||Object.keys(n).length===0)throw new Error("Invalid quiz submission");try{const o=await fetch(`${RF}/grade_quiz`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chatbot_id:t,quiz_id:i,answers:n})}),a=await o.json();if(!o.ok||!a.success)throw new Error(a.error||"Quiz grading failed");return a.summary}catch(o){throw console.error("Error grading quiz:",o),o}},Xge=(t,i)=>{if(t)try{const n=`quiz_progress_${t}`;localStorage.setItem(n,JSON.stringify({answers:i,timestamp:new Date().toISOString()}))}catch(n){console.error("Failed to save progress:",n)}},ebe=t=>{if(!t)return null;try{const i=`quiz_progress_${t}`,n=localStorage.getItem(i);if(!n)return null;const o=JSON.parse(n),a=new Date(o.timestamp);return(new Date-a)/(1e3*60*60)>24?(localStorage.removeItem(i),null):o.answers}catch(i){return console.error("Failed to load progress:",i),null}},jD=t=>{if(t)try{const i=`quiz_progress_${t}`;localStorage.removeItem(i)}catch(i){console.error("Failed to clear progress:",i)}},tbe=t=>{const i=((t==null?void 0:t.bloom_level)||(t==null?void 0:t.bloomLevel)||"").toString().toLowerCase();return i==="remember"||i==="understand"?"lower":i==="apply"?"middle":i==="analyze"||i==="evaluate"||i==="create"?"upper":"lower"},nbe=t=>t==="easy"?5:t==="hard"?10:8,rbe=(t,i)=>{const n=[],o=[],a=[];t.forEach(k=>{const v=tbe(k);v==="lower"?n.push(k):v==="middle"?o.push(k):a.push(k)});const c=k=>{const v=[...k];for(let _=v.length-1;_>0;_-=1){const x=Math.floor(Math.random()*(_+1));[v[_],v[x]]=[v[x],v[_]]}return v},d=nbe(i);let p=[];if(i==="easy"){const k=c(n),v=c(o),_=c(a);p=[...k.slice(0,d)],p.length<d&&(p=[...p,...v.slice(0,d-p.length)]),p.length<d&&(p=[...p,..._.slice(0,d-p.length)])}else if(i==="medium"){const k=c(o),v=c(n),_=c(a);p=[...k.slice(0,d)],p.length<d&&(p=[...p,...v.slice(0,d-p.length)]),p.length<d&&(p=[...p,..._.slice(0,d-p.length)])}else{const k=c(a),v=c(o),_=c(n);p=[...k.slice(0,d)],p.length<d&&(p=[...p,...v.slice(0,d-p.length)]),p.length<d&&(p=[...p,..._.slice(0,d-p.length)])}const m=Math.min(d,p.length);return{selected:p.slice(0,m),selection:{mode:i,target:d,finalCount:m},totalAvailable:{lower:n.length,middle:o.length,upper:a.length}}},ibe=se.forwardRef(({chatbotId:t,open:i,onClose:n,difficulty:o="medium",onQuizStart:a,onQuizProgress:c,onAnswerChange:d,onQuizSubmit:p,onQuizClose:m,onError:k},v)=>{const[_,x]=se.useState(null),[y,D]=se.useState([]),[E,j]=se.useState(null),[M,B]=se.useState(0),[z,G]=se.useState({}),[J,H]=se.useState(!0),[F,Q]=se.useState(!1),[Z,ae]=se.useState(""),[X,Y]=se.useState(!1),[U,q]=se.useState(null),fe=se.useRef(null),ue=se.useRef(null);se.useEffect(()=>{i&&t&&de()},[i,t,o]),se.useEffect(()=>{if(ue.current&&Object.keys(z).length>0){Xge(ue.current,z);const Ze=y.length,Ge=Ze>0?Object.keys(z).length/Ze*100:0;c==null||c({quizId:_==null?void 0:_.quizId,answers:z,percentComplete:Ge,selection:E||void 0})}},[z,ue.current,y.length]);const de=async()=>{H(!0),ae(""),Y(!1),q(null),B(0),G({}),D([]),j(null),fe.current=new Date;try{const Ze=await Zge(t),{selected:Ge,selection:ft,totalAvailable:gt}=rbe((Ze==null?void 0:Ze.questions)||[],o);x(Ze),D(Ge),j(ft);const oe=`${Ze.quizId}::${o}`;ue.current=oe;const Pe=ebe(oe);Pe&&G(Pe),a==null||a({quizId:Ze.quizId,chatbotId:t,startedAt:fe.current,selection:ft,totalAvailable:gt})}catch(Ze){const Ge=(Ze==null?void 0:Ze.message)||"Failed to load quiz";ae(Ge),k==null||k(Ze,"load")}finally{H(!1)}},me=y[M],Me=y.length||0,ce=Me>0?(M+1)/Me*100:0,Ie=Ze=>{if(!me)return;const Ge={...z,[me.id]:Ze};G(Ge),d==null||d({quizId:_==null?void 0:_.quizId,questionId:me.id,value:Ze,answers:Ge})},re=()=>{M<Me-1&&B(Ze=>Ze+1)},te=()=>{M>0&&B(Ze=>Ze-1)},ke=Ze=>B(Ze),be=async()=>{if(!_)return;const Ze=y.filter(Ge=>!z[Ge.id]);if(Ze.length>0){ae(`Please answer all questions (${Ze.length} remaining)`);return}Q(!0),ae("");try{const Ge=new Date,ft={};y.forEach(oe=>{ft[oe.id]=z[oe.id]});const gt=await Jge(t,_.quizId,ft);q(gt),Y(!0),ue.current&&jD(ue.current),p==null||p({quizId:_.quizId,chatbotId:t,startedAt:fe.current,submittedAt:Ge,answers:ft,summary:gt,selection:E||void 0})}catch(Ge){const ft=`Failed to submit quiz: ${(Ge==null?void 0:Ge.message)||""}`.trim();ae(ft),k==null||k(Ge,"submit")}finally{Q(!1)}},ve=()=>{ue.current&&jD(ue.current),m==null||m({quizId:_==null?void 0:_.quizId,chatbotId:t,answers:z,summary:U,completed:X,closedAt:new Date,selection:E||void 0}),n()},Re=(Ze,Ge)=>{const ft=Ge===M,gt=!!z[Ze];return{isCurrent:ft,hasAnswer:gt}},Be=()=>{const Ze=(me==null?void 0:me.answer_type)||"text",Ge=z[me==null?void 0:me.id]||"";return _n.jsx(yn,{multiline:Ze==="long_answer",rows:Ze==="long_answer"?6:1,value:Ge,onChange:ft=>Ie(ft.target.value),placeholder:"Enter your answer here...",sx:Vr.answerInput,disabled:F})};if(se.useImperativeHandle(v,()=>({reloadQuiz:de,clearProgress:()=>ue.current&&jD(ue.current),submit:be,getAnswers:()=>z,getSummary:()=>U,close:ve})),X&&U){const Ze=(()=>{const ft=U==null?void 0:U.percent;if(typeof ft=="number"&&Number.isFinite(ft))return Math.round(ft);const gt=U==null?void 0:U.score;if(typeof gt=="number"&&Number.isFinite(gt))return Math.round(gt);const oe=Number(U==null?void 0:U.total_score)||0,Pe=Number(U==null?void 0:U.total_max)||0;return Pe>0?Math.round(oe/Pe*100):0})(),Ge=U.items||U.questions||{};return _n.jsx(Lx,{open:i,onClose:ve,children:_n.jsxs(Ne,{sx:Vr.modal,children:[_n.jsxs(Ne,{sx:Vr.header,children:[_n.jsx(xe,{sx:Vr.title,children:"Quiz Results"}),_n.jsx(Gn,{onClick:ve,sx:Vr.closeButton,children:_n.jsx(TL,{})})]}),_n.jsxs(Ne,{sx:Vr.resultsContainer,children:[_n.jsxs(Ne,{sx:Vr.scoreCard,children:[_n.jsxs(xe,{sx:Vr.scoreText,children:[Ze,"%"]}),_n.jsx(xe,{variant:"h6",sx:{fontFamily:"Gabarito"},children:"Final Score"}),U.total_score!==void 0&&_n.jsxs(xe,{variant:"body2",sx:{mt:1},children:[U.total_score," / ",U.total_max," points"]})]}),U.feedback&&_n.jsx(Rr,{severity:"info",sx:{mb:2},children:U.feedback}),!!y.length&&!!Object.keys(Ge).length&&_n.jsxs(Ne,{children:[_n.jsx(xe,{variant:"h6",sx:{mb:2,fontFamily:"Staatliches"},children:"Question Breakdown"}),y.map(ft=>{const gt=Ge[ft.id]||{},oe=gt.score??0,Pe=gt.verdict==="correct"||oe>=70||gt.passed===!0;return _n.jsxs(Ne,{sx:{...Vr.feedbackCard,...Pe?Vr.correctAnswer:Vr.incorrectAnswer},children:[_n.jsxs(xe,{variant:"body2",sx:{mb:1},children:["Q: ",(ft==null?void 0:ft.question)||"Question not found"]}),_n.jsxs(xe,{variant:"caption",color:"textSecondary",children:["Your answer: ",z[ft.id]]}),gt.score!==void 0&&_n.jsxs(xe,{variant:"caption",display:"block",sx:{mt:1},children:["Score: ",oe,"/",gt.max_score||100]}),(gt.feedback||gt.reasoning)&&_n.jsx(xe,{variant:"caption",display:"block",sx:{mt:1},children:gt.feedback||gt.reasoning})]},ft.id)})]})]}),_n.jsx(Ct,{fullWidth:!0,variant:"contained",onClick:ve,sx:{...Vr.button,...Vr.primaryButton,mt:2},children:"Close"})]})})}const Ue=E&&E.finalCount<E.target;return _n.jsx(Lx,{open:i,onClose:ve,children:_n.jsxs(Ne,{sx:Vr.modal,children:[_n.jsxs(Ne,{sx:Vr.header,children:[_n.jsx(xe,{sx:Vr.title,children:"Quiz"}),_n.jsx(Gn,{onClick:ve,sx:Vr.closeButton,children:_n.jsx(TL,{})})]}),E&&_n.jsx(Ne,{sx:{mb:1},children:_n.jsx(_r,{label:`Mode: ${E.mode}  ${E.finalCount} Qs`,size:"small",sx:Vr.categoryBadge})}),Ue&&_n.jsxs(Rr,{severity:"info",sx:{mb:2},children:["Not enough questions available for ",E.mode,". Showing"," ",E.finalCount," instead of ",E.target,"."]}),J?_n.jsx(Ne,{sx:{display:"flex",justifyContent:"center",py:5},children:_n.jsx(ki,{})}):Z&&!_?_n.jsx(Rr,{severity:"error",children:Z}):_&&me?_n.jsxs(_n.Fragment,{children:[_n.jsx(cu,{variant:"determinate",value:ce,sx:Vr.progressBar}),_n.jsxs(Ne,{sx:Vr.questionCard,children:[_n.jsxs(Ne,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[_n.jsxs(xe,{variant:"h6",sx:{fontFamily:"Staatliches"},children:["Question ",M+1," of ",Me]}),me.category&&_n.jsx(_r,{label:me.category,size:"small",sx:Vr.categoryBadge})]}),_n.jsx(xe,{sx:Vr.questionText,children:me.question}),Be()]}),Z&&_n.jsx(Rr,{severity:"error",sx:{mb:2},children:Z}),_n.jsx(Ne,{sx:Vr.navigationDots,children:y.map((Ze,Ge)=>{const{isCurrent:ft,hasAnswer:gt}=Re(Ze.id,Ge);return _n.jsx(Ne,{component:"button",onClick:()=>ke(Ge),title:gt?"Answered":"Unanswered",sx:{...Vr.dot,...gt&&!ft&&Vr.dotStates.answered,...!gt&&!ft&&Vr.dotStates.unanswered,...ft&&Vr.dotStates.current}},Ze.id)})}),_n.jsxs(Ne,{sx:Vr.navigationButtons,children:[_n.jsx(Ct,{startIcon:_n.jsx(Hge,{}),onClick:te,disabled:M===0,sx:{...Vr.button,...Vr.secondaryButton},children:"Previous"}),M===Me-1?_n.jsx(Ct,{onClick:be,disabled:F,endIcon:_n.jsx(Qge,{}),sx:{...Vr.button,...Vr.submitButton},children:F?_n.jsx(ki,{size:20}):"Submit Quiz"}):_n.jsx(Ct,{endIcon:_n.jsx(Gge,{}),onClick:re,sx:{...Vr.button,...Vr.primaryButton},children:"Next"})]})]}):_n.jsx(Rr,{severity:"info",children:"No quiz available"})]})})}),OL={totalQuizzes:0,completedQuizzes:0,averageScore:0,difficultyBreakdown:{easy:0,medium:0,hard:0}},zF=gb()(Ak(b5((t,i)=>({currentSession:null,sessions:[],statistics:OL,isModalOpen:!1,currentChatbotId:null,currentDifficulty:"medium",loading:!1,error:null,isQuizActive:!1,currentAnswers:{},lastSummary:null,openQuizModal:(n,o="medium")=>{t({isModalOpen:!0,currentChatbotId:n,currentDifficulty:o,error:null})},closeQuizModal:()=>{t({isModalOpen:!1,error:null})},setDifficulty:n=>{t({currentDifficulty:n})},setLoading:n=>{t({loading:n})},setError:n=>{t({error:n})},startQuiz:n=>{const o={id:`session_${Date.now()}`,quizId:n.quizId,chatbotId:n.chatbotId,userId:"",difficulty:n.selection.mode,startedAt:n.startedAt,completed:!1,answers:{}};t({currentSession:o,isQuizActive:!0,currentAnswers:{},lastSummary:null,error:null})},updateAnswers:n=>{const{currentSession:o}=i();if(!o)return;const a={...n.answers};t({currentAnswers:a,currentSession:{...o,answers:a}})},submitQuiz:n=>{console.log(" Quiz Store: Quiz submitted. Data should be saved by quiz modal API:",n),t({lastSummary:n.summary,isQuizActive:!1})},closeQuiz:n=>{console.log(" Quiz Store: Quiz closed. Data handled by quiz modal API:",n),t({currentSession:null,isQuizActive:!1,isModalOpen:!1,currentAnswers:{},lastSummary:n.completed?n.summary:null})},addSession:n=>{t(o=>({sessions:[...o.sessions,n]}))},updateSession:(n,o)=>{t(a=>{var c;return{sessions:a.sessions.map(d=>d.id===n?{...d,...o}:d),currentSession:((c=a.currentSession)==null?void 0:c.id)===n?{...a.currentSession,...o}:a.currentSession}})},deleteSession:n=>{t(o=>({sessions:o.sessions.filter(a=>a.id!==n)}))},clearCurrentSession:()=>{t({currentSession:null,isQuizActive:!1,currentAnswers:{},lastSummary:null})},updateStatistics:()=>{const{sessions:n}=i(),o=n.filter(p=>p.completed),a=o.reduce((p,m)=>{var k;return p+(((k=m.summary)==null?void 0:k.percent)||0)},0),c=n.reduce((p,m)=>({...p,[m.difficulty]:p[m.difficulty]+1}),{easy:0,medium:0,hard:0}),d={totalQuizzes:n.length,completedQuizzes:o.length,averageScore:o.length>0?a/o.length:0,difficultyBreakdown:c,lastQuizDate:n.length>0?n[n.length-1].startedAt:void 0};t({statistics:d})},saveSessionToFirestore:async n=>{try{const{db:o}=await No(async()=>{const{db:d}=await Promise.resolve().then(()=>jm);return{db:d}},void 0),{doc:a,setDoc:c}=await No(async()=>{const{doc:d,setDoc:p}=await import("./firebase-DpGenoA-.js").then(m=>m.B);return{doc:d,setDoc:p}},[]);await c(a(o,"quizSessions",n.id),{...n,timestamp:new Date().toISOString()}),console.log("Quiz session saved to Firestore:",n.id)}catch(o){console.error("Failed to save quiz session:",o),t({error:"Failed to save quiz session"})}},fetchUserSessions:async n=>{try{t({loading:!0,error:null});const{db:o}=await No(async()=>{const{db:x}=await Promise.resolve().then(()=>jm);return{db:x}},void 0),{collection:a,query:c,where:d,getDocs:p,orderBy:m}=await No(async()=>{const{collection:x,query:y,where:D,getDocs:E,orderBy:j}=await import("./firebase-DpGenoA-.js").then(M=>M.B);return{collection:x,query:y,where:D,getDocs:E,orderBy:j}},[]),k=c(a(o,"quizSessions"),d("userId","==",n),m("startedAt","desc")),_=(await p(k)).docs.map(x=>({id:x.id,...x.data()}));t({sessions:_,loading:!1}),i().updateStatistics()}catch(o){console.error("Failed to fetch quiz sessions:",o),t({error:"Failed to fetch quiz sessions",loading:!1})}},reset:()=>{t({currentSession:null,sessions:[],statistics:OL,isModalOpen:!1,currentChatbotId:null,currentDifficulty:"medium",loading:!1,error:null,isQuizActive:!1,currentAnswers:{},lastSummary:null})}}),{name:"quiz-store",partialize:t=>({currentDifficulty:t.currentDifficulty}),merge:(t,i)=>({...i,...t||{},currentDifficulty:(t==null?void 0:t.currentDifficulty)||"medium"})}),{name:"quiz-store"})),Lm=Nr(),Pm={QUIZ_SESSIONS:"quizSessions",QUIZ_EVENTS:"quizEvents"},obe=async(t,i)=>{try{const n=ta.now(),o=ta.fromDate(new Date(t.startedAt)),a=5*1e3,c=ta.fromMillis(o.toMillis()-a),d=ta.fromMillis(o.toMillis()+a),p=pc(Zn(Lm,Pm.QUIZ_SESSIONS),bo("quizId","==",t.quizId),bo("userId","==",i),bo("startedAt",">=",c),bo("startedAt","<=",d),m5(1)),m=await so(p);if(!m.empty){console.log(" Quiz session with same start time already exists, skipping duplicate:",{quizId:t.quizId,startedAt:t.startedAt,userId:i.substring(0,8)+"...",existingSessionId:m.docs[0].id});return}const k={quizId:t.quizId,chatbotId:t.chatbotId,userId:i,startedAt:ta.fromDate(new Date(t.startedAt)),completed:!1,difficulty:t.selection.mode,selection:{mode:t.selection.mode,target:t.selection.target,finalCount:t.selection.finalCount},createdAt:n,updatedAt:n},v={quizId:t.quizId,chatbotId:t.chatbotId,userId:i,eventType:"quiz_started",timestamp:n,data:t,createdAt:n};await Promise.all([pa(Zn(Lm,Pm.QUIZ_SESSIONS),k),pa(Zn(Lm,Pm.QUIZ_EVENTS),v)]),console.log(" Quiz start event saved to Firestore:",{quizId:t.quizId,difficulty:t.selection.mode,userId:i.substring(0,8)+"..."})}catch(n){throw console.error(" Error saving quiz start event:",n),n}},sbe=async(t,i)=>{try{const n=ta.now(),o={quizId:t.quizId,chatbotId:t.chatbotId,userId:i,eventType:"answer_changed",timestamp:n,data:{quizId:t.quizId,chatbotId:t.chatbotId,questionId:t.questionId,value:t.value,answers:t.answers},createdAt:n};await pa(Zn(Lm,Pm.QUIZ_EVENTS),o),console.log(" Answer change event saved to Firestore:",{quizId:t.quizId,questionId:t.questionId,userId:i.substring(0,8)+"..."})}catch(n){console.error(" Error saving answer change event:",n)}},abe=async(t,i)=>{try{const n=ta.now(),o=ta.fromMillis(n.toMillis()-3600*1e3),a=pc(Zn(Lm,Pm.QUIZ_SESSIONS),bo("quizId","==",t.quizId),bo("userId","==",i),bo("completed","==",!1),bo("createdAt",">=",o),eA("createdAt","desc")),c=await so(a);if(c.empty)throw console.error(" No incomplete session found for quiz submission - this should not happen!",{quizId:t.quizId,userId:i.substring(0,8)+"...",submittedAt:t.submittedAt}),new Error("No matching quiz session found for submission");{const p=c.docs[0],m=p.ref,k=p.data(),v={submittedAt:ta.fromDate(new Date(t.submittedAt)),completed:!0,finalAnswers:t.answers,summary:t.summary,updatedAt:n};await gi(m,v),console.log(" Updated quiz session:",{quizId:t.quizId,difficulty:k.difficulty,score:`${t.summary.total_score}/${t.summary.total_max}`,userId:i.substring(0,8)+"..."})}const d={quizId:t.quizId,chatbotId:t.chatbotId,userId:i,eventType:"quiz_submitted",timestamp:n,data:t,createdAt:n};await pa(Zn(Lm,Pm.QUIZ_EVENTS),d),console.log(" Quiz submission saved to Firestore:",{quizId:t.quizId,score:`${t.summary.total_score}/${t.summary.total_max} (${t.summary.percent}%)`})}catch(n){throw console.error(" Error saving quiz submission:",n),n}},lbe=async(t,i)=>{try{const n=ta.now(),o=pc(Zn(Lm,Pm.QUIZ_SESSIONS),bo("quizId","==",t.quizId),bo("userId","==",i)),a=await so(o);if(!a.empty){const p=a.docs[0].ref,m={closedAt:ta.fromDate(new Date(t.closedAt)),updatedAt:n};t.completed&&t.summary&&(m.completed=!0,m.finalAnswers=t.answers,m.summary=t.summary),await gi(p,m)}const c={quizId:t.quizId,chatbotId:t.chatbotId,userId:i,eventType:"quiz_closed",timestamp:n,data:t,createdAt:n};await pa(Zn(Lm,Pm.QUIZ_EVENTS),c),console.log(" Quiz close event saved to Firestore:",{quizId:t.quizId,completed:t.completed})}catch(n){throw console.error(" Error saving quiz close event:",n),n}},FF=se.forwardRef(({chatbotId:t,difficulty:i,open:n,onClose:o,eventHandlers:a},c)=>{const{userDetails:d}=ko(),p=se.useRef(null),{startQuiz:m,updateAnswers:k,submitQuiz:v,closeQuiz:_,setError:x}=zF(),y=se.useCallback(B=>{console.log("Quiz started:",B),m(B),d!=null&&d.uid&&obe(B,d.uid).catch(z=>{console.error("Failed to save quiz start event:",z)}),a!=null&&a.onQuizStart&&a.onQuizStart(B)},[d==null?void 0:d.uid,m,a]),D=se.useCallback(B=>{if(console.log("Answer changed:",B),k(B),d!=null&&d.uid){const z={...B,chatbotId:B.chatbotId||t};sbe(z,d.uid).catch(G=>{console.warn("Failed to save answer change event:",G)})}a!=null&&a.onAnswerChange&&a.onAnswerChange(B)},[k,a,d==null?void 0:d.uid,t]),E=se.useCallback(B=>{console.log("Quiz submitted:",B),v(B),d!=null&&d.uid&&abe(B,d.uid).catch(z=>{console.error("Failed to save quiz submission event:",z)}),a!=null&&a.onQuizSubmit&&a.onQuizSubmit(B)},[v,a,d==null?void 0:d.uid]),j=se.useCallback(B=>{console.log("Quiz closed:",B),_(B),d!=null&&d.uid&&lbe(B,d.uid).catch(z=>{console.error("Failed to save quiz close event:",z)}),a!=null&&a.onQuizClose&&a.onQuizClose(B)},[_,a,d==null?void 0:d.uid]),M=se.useCallback((B,z)=>{console.error("Error in",z,B),x(`Quiz ${z} failed: ${B.message}`),a!=null&&a.onError&&a.onError(B,z)},[x,a]);return se.useImperativeHandle(c,()=>({reloadQuiz:()=>{p.current&&p.current.reloadQuiz()},clearProgress:()=>{p.current&&p.current.clearProgress()},submit:()=>{p.current&&p.current.submit()},getAnswers:()=>p.current?p.current.getAnswers():{},getSummary:()=>p.current?p.current.getSummary():null,close:()=>{p.current&&p.current.close(),o()}})),w.jsx(ibe,{ref:p,chatbotId:t,open:n,onClose:o,difficulty:i,onQuizStart:y,onAnswerChange:D,onQuizSubmit:E,onQuizClose:j,onError:M})});FF.displayName="QuizWrapper";const cbe=({onStartQuiz:t,disabled:i=!1})=>{const[n,o]=se.useState(null),a=!!n,c=k=>{o(k.currentTarget)},d=()=>{o(null)},p=k=>{t(k),d()},m=[{value:"easy",description:"~5 questions",icon:w.jsx(cb,{color:"success"}),color:"success"},{value:"medium",description:"~8 questions",icon:w.jsx(z$,{color:"warning"}),color:"warning"},{value:"hard",description:"Up to 10 questions",icon:w.jsx(F$,{color:"error"}),color:"error"}];return w.jsxs(w.Fragment,{children:[w.jsx(Ct,{variant:"contained",onClick:c,disabled:i,startIcon:a?w.jsx(f5,{}):w.jsx(fp,{}),sx:{background:"#0B53C0",color:"white",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",fontWeight:"bold",px:3,py:1.5,borderRadius:3,textTransform:"none","&:hover":{background:"#064a9e",boxShadow:"0px 4px 12px rgba(11, 83, 192, 0.3)"},"&:disabled":{background:"#ccc",color:"#999"},boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",transition:"all 0.2s ease-in-out"},children:"Start Quiz"}),w.jsxs(P$,{anchorEl:n,open:a,onClose:d,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"right"},PaperProps:{sx:{minWidth:300,borderRadius:2,border:"1px solid #e0e0e0",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)","& .MuiMenuItem-root":{py:1.5,px:2,borderRadius:1,mx:1,mb:.5,"&:hover":{backgroundColor:"#f5f5f5",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},"&:last-child":{mb:1}}}},children:[w.jsx(Ne,{sx:{px:2,py:1.5,borderBottom:"1px solid #e0e0e0",backgroundColor:"#CDDAFF"},children:w.jsx(xe,{variant:"subtitle1",sx:{fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.1rem",textAlign:"center"},children:"Select Quiz Difficulty"})}),m.map(k=>w.jsxs($r,{onClick:()=>p(k.value),children:[w.jsx(R$,{sx:{minWidth:40},children:k.icon}),w.jsx(Wg,{primary:w.jsx(xe,{variant:"body1",sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1.1rem",color:"#333",fontWeight:"bold"},children:k.value.charAt(0).toUpperCase()+k.value.slice(1)}),secondary:w.jsx(xe,{variant:"body2",sx:{fontFamily:"Gabarito, sans-serif",color:"#666",fontSize:"0.875rem"},children:k.description})})]},k.value))]})]})},G0="ce5f7921-a3a0-4ea7-b95f-10fe41becda5",ube=({defaultDifficulty:t="medium",position:i="fixed"})=>{const{userDetails:n}=ko(),[o]=oA(),a=se.useRef(null),{isModalOpen:c,currentChatbotId:d,currentDifficulty:p,statistics:m,openQuizModal:k,closeQuizModal:v,setDifficulty:_,fetchUserSessions:x,setError:y}=zF(),[D,E]=vt.useState(G0);se.useEffect(()=>{const G=o.get("material");if(!G){D!==G0&&E(G0);return}(async()=>{try{console.log(" Fetching chatbot ID for quiz material:",G);const H=Nr(),F=Zn(H,"chatbots"),Q=pc(F,bo("material.id","==",G)),Z=await so(Q);if(Z.empty)console.log(` No chatbot found for material ${G}, using default for quiz:`,G0),E(G0);else{const ae=Z.docs[0].data();console.log(` Found chatbot for quiz material ${G}:`,ae.chatbotId),E(ae.chatbotId)}}catch(H){console.error("Failed to fetch chatbot for quiz:",H),y("Failed to load quiz for this material"),E(G0)}})()},[o,D,y]),se.useEffect(()=>{n!=null&&n.uid&&x(n.uid)},[n==null?void 0:n.uid,x]),se.useEffect(()=>{_(t)},[t,_]);const j=se.useCallback(G=>{D?k(D,G):y("No chatbot available for quiz")},[D,k,y]),M=se.useCallback(()=>{v()},[v]);if(!(n!=null&&n.uid)||!o.get("material"))return null;const z=i==="fixed"?{position:"fixed",bottom:120,right:16,zIndex:1e3}:{position:"relative"};return w.jsxs(w.Fragment,{children:[w.jsx(Ne,{sx:z,children:w.jsx(cbe,{onStartQuiz:j,disabled:!D})}),c&&d&&w.jsx(FF,{ref:a,chatbotId:d,difficulty:p,open:c,onClose:M,eventHandlers:{onQuizStart:G=>{},onQuizSubmit:G=>{},onError:(G,J)=>{console.error("Quiz error:",J,G)}}})]})};var ky={},BL;function dbe(){if(BL)return ky;BL=1;var t=ws();Object.defineProperty(ky,"__esModule",{value:!0}),ky.default=void 0;var i=t(ys()),n=vs();return ky.default=(0,i.default)((0,n.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),ky}var hbe=dbe();const fbe=Ei(hbe),pbe=()=>{const{notifications:t,removeNotification:i}=yP();return t.length===0?null:w.jsx(Ne,{sx:{position:"fixed",top:16,right:16,zIndex:9999,maxWidth:400,display:"flex",flexDirection:"column",gap:1},children:t.map(n=>w.jsx(p5,{in:!0,timeout:300,children:w.jsx(hr,{elevation:6,children:w.jsxs(Rr,{severity:n.type,sx:{width:"100%","& .MuiAlert-action":{alignItems:"flex-start",padding:"4px 0 0 16px"}},action:w.jsx(Gn,{size:"small",onClick:()=>i(n.id),sx:{color:"inherit"},children:w.jsx(fbe,{fontSize:"small"})}),children:[n.title&&w.jsx(U$,{sx:{fontWeight:"bold",mb:.5},children:n.title}),n.message,n.actions&&n.actions.length>0&&w.jsx(Ne,{sx:{mt:1.5,display:"flex",gap:1,flexWrap:"wrap"},children:n.actions.map((o,a)=>w.jsx(Ct,{size:"small",variant:o.primary?"contained":"outlined",color:n.type==="error"?"error":"primary",onClick:()=>{o.action(),i(n.id)},sx:{minWidth:"auto",fontSize:"0.75rem",padding:"2px 8px"},children:o.label},a))})]})})},n.id))})},mbe=()=>{const{userDetails:t,isSuperAdmin:i}=ko(),n=eie(t,i);return R3(n)},gbe=()=>{const{userDetails:t,loading:i}=ko();if(i)return w.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:w.jsx(ki,{})});const n="/nexlab",o=!!(t!=null&&t.uid);return w.jsxs(q$,{theme:tie,children:[w.jsx(V$,{}),w.jsxs(nW,{basename:n,children:[o&&w.jsx(zR,{}),w.jsx("div",{className:"content",children:w.jsx(se.Suspense,{fallback:w.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:w.jsx(ki,{})}),children:w.jsx(mbe,{})})}),w.jsx(die,{}),w.jsx(rie,{}),o&&w.jsx(gfe,{}),o&&w.jsx(ube,{}),w.jsx(pbe,{})]})]})};typeof window<"u"&&(window.styled_default=oh);const bbe=document.getElementById("root"),kbe=c3.createRoot(bbe);kbe.render(w.jsx(vt.StrictMode,{children:w.jsx(uW,{children:w.jsx(gbe,{})})}));export{wP as A,PP as B,fbe as C,_k as D,_y as E,NE as S,Gte as V,No as _,pP as a,J6 as b,$P as c,ko as d,mP as e,Gj as f,Wj as g,oA as h,Sre as i,GG as j,YG as k,jP as l,KG as m,xbe as n,ys as r,ao as u,NP as v};
